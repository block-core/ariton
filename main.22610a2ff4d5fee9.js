(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{52191:(Be,z,E)=>{var p=E(40573);const S="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,O=()=>S.now(),x=A=>A===1/0||(A=>A&&A===Math.floor(A)&&A>0&&isFinite(A))(A);class B{constructor({max:N=1/0,ttl:$,updateAgeOnGet:K=!1,checkAgeOnGet:D=!1,noUpdateTTL:X=!1,dispose:V,noDisposeOnSet:Z=!1}={}){if(this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,void 0!==$&&!x($))throw new TypeError("ttl must be positive integer or Infinity if set");if(!x(N))throw new TypeError("max must be positive integer or Infinity");if(this.ttl=$,this.max=N,this.updateAgeOnGet=!!K,this.checkAgeOnGet=!!D,this.noUpdateTTL=!!X,this.noDisposeOnSet=!!Z,void 0!==V){if("function"!=typeof V)throw new TypeError("dispose must be function if set");this.dispose=V}this.timer=void 0,this.timerExpiration=void 0}setTimer(N,$){if(this.timerExpiration<N)return;this.timer&&clearTimeout(this.timer);const K=setTimeout(()=>{this.timer=void 0,this.timerExpiration=void 0,this.purgeStale();for(const D in this.expirations){this.setTimer(D,D-O());break}},$);K.unref&&K.unref(),this.timerExpiration=N,this.timer=K}cancelTimer(){this.timer&&(clearTimeout(this.timer),this.timerExpiration=void 0,this.timer=void 0)}cancelTimers(){return p.emitWarning('TTLCache.cancelTimers has been renamed to TTLCache.cancelTimer (no "s"), and will be removed in the next major version update'),this.cancelTimer()}clear(){const N=this.dispose!==B.prototype.dispose?[...this]:[];this.data.clear(),this.expirationMap.clear(),this.cancelTimer(),this.expirations=Object.create(null);for(const[$,K]of N)this.dispose(K,$,"delete")}setTTL(N,$=this.ttl){const K=this.expirationMap.get(N);if(void 0!==K){const D=this.expirations[K];!D||D.length<=1?delete this.expirations[K]:this.expirations[K]=D.filter(X=>X!==N)}if($!==1/0){const D=Math.floor(O()+$);this.expirationMap.set(N,D),this.expirations[D]||(this.expirations[D]=[],this.setTimer(D,$)),this.expirations[D].push(N)}else this.expirationMap.set(N,1/0)}set(N,$,{ttl:K=this.ttl,noUpdateTTL:D=this.noUpdateTTL,noDisposeOnSet:X=this.noDisposeOnSet}={}){if(!x(K))throw new TypeError("ttl must be positive integer or Infinity");if(this.expirationMap.has(N)){D||this.setTTL(N,K);const V=this.data.get(N);V!==$&&(this.data.set(N,$),X||this.dispose(V,N,"set"))}else this.setTTL(N,K),this.data.set(N,$);for(;this.size>this.max;)this.purgeToCapacity();return this}has(N){return this.data.has(N)}getRemainingTTL(N){const $=this.expirationMap.get(N);return $===1/0?$:void 0!==$?Math.max(0,Math.ceil($-O())):0}get(N,{updateAgeOnGet:$=this.updateAgeOnGet,ttl:K=this.ttl,checkAgeOnGet:D=this.checkAgeOnGet}={}){const X=this.data.get(N);if(!D||0!==this.getRemainingTTL(N))return $&&this.setTTL(N,K),X;this.delete(N)}dispose(N,$){}delete(N){const $=this.expirationMap.get(N);if(void 0!==$){const K=this.data.get(N);this.data.delete(N),this.expirationMap.delete(N);const D=this.expirations[$];return D&&(D.length<=1?delete this.expirations[$]:this.expirations[$]=D.filter(X=>X!==N)),this.dispose(K,N,"delete"),0===this.size&&this.cancelTimer(),!0}return!1}purgeToCapacity(){for(const N in this.expirations){const $=this.expirations[N];if(!(this.size-$.length>=this.max)){const K=this.size-this.max,D=[];for(const X of $.splice(0,K))D.push([X,this.data.get(X)]),this.data.delete(X),this.expirationMap.delete(X);for(const[X,V]of D)this.dispose(V,X,"evict");return}{delete this.expirations[N];const K=[];for(const D of $)K.push([D,this.data.get(D)]),this.data.delete(D),this.expirationMap.delete(D);for(const[D,X]of K)this.dispose(X,D,"evict")}}}get size(){return this.data.size}purgeStale(){const N=Math.ceil(O());for(const $ in this.expirations){if("Infinity"===$||$>N)return;const K=[...this.expirations[$]||[]],D=[];delete this.expirations[$];for(const X of K)D.push([X,this.data.get(X)]),this.data.delete(X),this.expirationMap.delete(X);for(const[X,V]of D)this.dispose(V,X,"stale")}0===this.size&&this.cancelTimer()}*entries(){for(const N in this.expirations)for(const $ of this.expirations[N])yield[$,this.data.get($)]}*keys(){for(const N in this.expirations)for(const $ of this.expirations[N])yield $}*values(){for(const N in this.expirations)for(const $ of this.expirations[N])yield this.data.get($)}[Symbol.iterator](){return this.entries()}}Be.exports=B},33065:(Be,z,E)=>{"use strict";E.r(z),E.d(z,{RestoreComponent:()=>Q});var p=E(10467),S=E(93953),O=E(89417),G=E(88834),x=E(25596),B=E(99213),A=E(99631),N=E(5951),$=E(82798),K=E(34635),D=E(60132),X=E(31439),V=E(53719);function Z(te,J){1&te&&(S.j41(0,"mat-error"),S.EFF(1,"Recovery phrase is "),S.j41(2,"strong"),S.EFF(3,"required"),S.k0s()())}let Q=(()=>{class te{constructor(){this.fb=(0,S.WQX)(O.ok),this.crypto=(0,S.WQX)(D.j),this.app=(0,S.WQX)(X.d),this.identity=(0,S.WQX)(K.K),this.addressForm=this.fb.group({recoveryPhrase:[null,O.k0.required]})}onSubmit(){var q=this;return(0,p.A)(function*(){console.log(q.addressForm.controls.recoveryPhrase.value),q.addressForm.disable(),q.app.loading.set(!0);let ne=yield q.crypto.createPassword();const se={did:"",recoveryPhrase:q.addressForm.controls.recoveryPhrase.value,password:ne,passwordHash:""};ne="123";const oe=yield q.identity.restore(ne,q.addressForm.controls.recoveryPhrase.value);if(console.log("RESTORE Result: ",oe),!oe)return alert("Failed to restore account."),void q.addressForm.enable();se.did=oe.did,q.app.addAccount(se),q.app.initialized.set(!0),q.app.loading.set(!1)})()}static#e=this.\u0275fac=function(ne){return new(ne||te)};static#t=this.\u0275cmp=S.VBU({type:te,selectors:[["app-restore"]],standalone:!0,features:[S.aNF],decls:20,vars:3,consts:[["recoveryPhrase",""],["novalidate","",3,"ngSubmit","formGroup"],[1,"shipping-card"],[1,"full-width"],["matInput","","placeholder","Secret Recovery Phrase","formControlName","recoveryPhrase"],["align","end"],["mat-flat-button","","color","primary","type","submit",3,"disabled"]],template:function(ne,se){if(1&ne){const oe=S.RV6();S.j41(0,"h1"),S.EFF(1,"Restore your account"),S.k0s(),S.j41(2,"form",1),S.bIt("ngSubmit",function(){return S.eBV(oe),S.Njj(se.onSubmit())}),S.j41(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title"),S.EFF(6,"Secret Recovery Phrase"),S.k0s(),S.j41(7,"mat-card-subtitle"),S.EFF(8,"Enter your 12 words backup"),S.k0s()(),S.j41(9,"mat-card-content"),S.nrm(10,"br"),S.j41(11,"mat-form-field",3)(12,"mat-label"),S.EFF(13,"Secret Recovery Phrase"),S.k0s(),S.nrm(14,"textarea",4,0),S.DNE(16,Z,4,0,"mat-error"),S.k0s()(),S.j41(17,"mat-card-actions",5)(18,"button",6),S.EFF(19,"Restore"),S.k0s()()()()}2&ne&&(S.R7$(2),S.Y8G("formGroup",se.addressForm),S.R7$(14),S.vxM(se.addressForm.controls.recoveryPhrase.hasError("required")?16:-1),S.R7$(2),S.Y8G("disabled",se.app.loading()))},dependencies:[A.fS,A.fg,V.rl,V.nJ,V.TL,G.Hl,G.$z,$.Ve,B.m_,N.Wk,x.Hu,x.RN,x.YY,x.m2,x.MM,x.Lc,x.dh,O.X1,O.qT,O.me,O.BC,O.cb,O.j4,O.JD],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{min-width:120px;margin:20px auto}.mat-radio-button[_ngcontent-%COMP%]{display:block;margin:5px 0}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}.col[_ngcontent-%COMP%]:last-child{margin-right:0}.link-input[_ngcontent-%COMP%]{display:flex;align-items:baseline}.link-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.4em}"]})}return te})()},31439:(Be,z,E)=>{"use strict";E.d(z,{d:()=>se,f:()=>ne});var p=E(10467),S=E(93953),O=E(43794),G=E(60132),x=E(34635),A=E.t(JSON.parse('{"name":"ariton","version":"0.0.1","scripts":{"ng":"ng","start":"ng serve","build":"ng build","watch":"ng build --watch --configuration development","test":"ng test","deploy":"ng deploy app","i18n":"ng extract-i18n --format=json --output-path src/locale"},"repository":{"type":"git","url":"git+https://github.com/block-core/ariton.git"},"private":true,"dependencies":{"@angular-builders/custom-webpack":"^18.0.0","@angular/animations":"^18.1.2","@angular/cdk":"^18.1.2","@angular/common":"^18.1.2","@angular/compiler":"^18.1.2","@angular/core":"^18.1.2","@angular/forms":"^18.1.2","@angular/material":"^18.1.2","@angular/platform-browser":"^18.1.2","@angular/platform-browser-dynamic":"^18.1.2","@angular/router":"^18.1.2","@angular/service-worker":"^18.1.2","@scure/bip39":"^1.3.0","@web5/agent":"^0.4.1","@web5/api":"^0.10.0","@web5/credentials":"^1.0.4","@web5/crypto":"^1.0.2","@web5/dids":"^1.1.2","@web5/identity-agent":"^0.4.1","cropperjs":"^1.6.2","crypto-browserify":"^3.12.0","process":"^0.11.10","qrcode":"^1.5.3","rxjs":"~7.8.1","stream":"^0.0.3","stream-browserify":"^3.0.0","tslib":"^2.6.3","zone.js":"~0.14.8"},"devDependencies":{"@angular-devkit/build-angular":"^18.1.2","@angular/cli":"^18.1.2","@angular/compiler-cli":"^18.1.2","@angular/localize":"^18.1.2","@types/jasmine":"~5.1.4","@types/qrcode":"^1.5.5","angular-cli-ghpages":"^2.0.1","jasmine-core":"~5.2.0","karma":"~6.4.3","karma-chrome-launcher":"~3.2.0","karma-coverage":"~2.2.1","karma-jasmine":"~5.1.0","karma-jasmine-html-reporter":"~2.1.0","typescript":"~5.5.4"}}'),2),N=E(4053),$=E(77949),K=E(45189),D=E(49245),X=E(62060),V=E(67136),Z=E(1639),Q=E(69371),te=E(2685);let J=(()=>{class oe{constructor(){this.identityService=(0,S.WQX)(x.K)}register(){var ae=this;return(0,p.A)(function*(){const ve=[N.Q,$.Q,K.Q,D.Q,X.Q,V.Q,Z.Q,Q.Q,te.Q];for(const _e of ve){const{protocol:De,status:P}=yield ae.identityService.web5.dwn.protocols.configure({message:{definition:_e}});console.log("Install status:",P),console.log("Protocol:",De)}})()}static#e=this.\u0275fac=function(ve){return new(ve||oe)};static#t=this.\u0275prov=S.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})();var q=E(39434),ne=function(oe){return oe[oe.Initial=0]="Initial",oe[oe.NewUser=1]="NewUser",oe[oe.Locked=2]="Locked",oe[oe.Unlocked=3]="Unlocked",oe[oe.Error=4]="Error",oe}(ne||{});let se=(()=>{class oe{constructor(){var ae=this;this.onboardingState=(0,S.vPA)(ne.Initial),this.initialized=(0,S.vPA)(!1),this.loading=(0,S.vPA)(!1),this.storage=(0,S.WQX)(O.n),this.crypto=(0,S.WQX)(G.j),this.identity=(0,S.WQX)(x.K),this.profile=(0,S.WQX)(q.p),this.protocol=(0,S.WQX)(J),this.state=(0,S.vPA)({loginAction:"/dashboard",selectedAccount:"",hidden:{}}),this.account=(0,S.vPA)({did:"",recoveryPhrase:"",password:"",passwordHash:""}),this.accounts=(0,S.vPA)([]),this.params=(0,S.vPA)({}),this.package=A,console.log(`Ariton v${this.package.version} initialized.`),this.dependencies=Object.entries(this.package.dependencies).map(([ve,_e])=>({name:ve,version:_e})),(0,S.QZP)((0,p.A)(function*(){ae.identity.locked()||(yield ae.onUnlocked())}))}saveAccounts(){this.storage.save("accounts",this.accounts())}saveState(){this.storage.save("state",this.state())}hasStateBeenSet(){return!!this.storage.read("state")}addAccount(ae){this.accounts().push(ae),this.saveAccounts(),this.state().selectedAccount=ae.did,this.saveState()}createAccount(){var ae=this;return(0,p.A)(function*(){ae.storage.save("state",{selectedAccount:"",hidden:{},loginAction:"/introduction"}),yield ae.initialize()})()}initialize(){var ae=this;return(0,p.A)(function*(){ae.loading.set(!0),console.log("Initializing Ariton...");let ve=ae.storage.read("state");if(!ve)return ae.onboardingState.set(ne.NewUser),void ae.loading.set(!1);let De,_e=ae.storage.read("accounts");if(_e){const P=_e.find(u=>u.did===ve.selectedAccount);ae.accounts.set(_e),ae.account?.set(P),P.password?(De=yield ae.identity.connect(P.did,P.password),De?(ae.onboardingState.set(ne.Unlocked),ae.identity.locked.set(!1)):ae.loading.set(!1)):(ae.identity.locked.set(!0),ae.onboardingState.set(ne.Locked))}else{console.log("No accounts found");const P=yield ae.crypto.createPassword();if(De=yield ae.identity.initialConnect(P),void 0===De)return ae.storage.remove("state"),ae.onboardingState.set(ne.Error),void ae.loading.set(!1);console.log(De),console.log("Initialize connect finished."),_e=[{did:De.did,recoveryPhrase:De.recoveryPhrase,password:P}],ae.storage.save("accounts",_e),ve.selectedAccount=De.did,ae.accounts.set(_e),ae.account?.set(_e[0]),ae.storage.save("state",ve),ae.onboardingState.set(ne.Unlocked),ae.identity.locked.set(!1)}ae.state.set(ve)})()}onUnlocked(){var ae=this;return(0,p.A)(function*(){yield ae.profile.openProfile(ae.account().did),ae.initialized.set(!0),ae.loading.set(!1),ae.protocol.register()})()}static#e=this.\u0275fac=function(ve){return new(ve||oe)};static#t=this.\u0275prov=S.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})()},60132:(Be,z,E)=>{"use strict";E.d(z,{j:()=>Ko});var p=E(10467);E(52191),new Uint8Array(0);class Q{name;prefix;baseEncode;constructor(Ge,$e,qe){this.name=Ge,this.prefix=$e,this.baseEncode=qe}encode(Ge){if(Ge instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Ge)}`;throw Error("Unknown type, must be binary type")}}class te{name;prefix;baseDecode;prefixCodePoint;constructor(Ge,$e,qe){if(this.name=Ge,this.prefix=$e,void 0===$e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=$e.codePointAt(0),this.baseDecode=qe}decode(Ge){if("string"==typeof Ge){if(Ge.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Ge)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Ge.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(Ge){return q(this,Ge)}}class J{decoders;constructor(Ge){this.decoders=Ge}or(Ge){return q(this,Ge)}decode(Ge){const qe=this.decoders[Ge[0]];if(null!=qe)return qe.decode(Ge);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Ge)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function q(tt,Ge){return new J({...tt.decoders??{[tt.prefix]:tt},...Ge.decoders??{[Ge.prefix]:Ge}})}class ne{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(Ge,$e,qe,Dt){this.name=Ge,this.prefix=$e,this.baseEncode=qe,this.baseDecode=Dt,this.encoder=new Q(Ge,$e,qe),this.decoder=new te(Ge,$e,Dt)}encode(Ge){return this.encoder.encode(Ge)}decode(Ge){return this.decoder.decode(Ge)}}function se({name:tt,prefix:Ge,encode:$e,decode:qe}){return new ne(tt,Ge,$e,qe)}function oe({name:tt,prefix:Ge,alphabet:$e}){const{encode:qe,decode:Dt}=function D(tt,Ge){if(tt.length>=255)throw new TypeError("Alphabet too long");for(var $e=new Uint8Array(256),qe=0;qe<$e.length;qe++)$e[qe]=255;for(var Dt=0;Dt<tt.length;Dt++){var Rt=tt.charAt(Dt),Zt=Rt.charCodeAt(0);if(255!==$e[Zt])throw new TypeError(Rt+" is ambiguous");$e[Zt]=Dt}var xn=tt.length,Ln=tt.charAt(0),zn=Math.log(xn)/Math.log(256),gn=Math.log(256)/Math.log(xn);function ai(Yi){if("string"!=typeof Yi)throw new TypeError("Expected String");if(0===Yi.length)return new Uint8Array;var Ho=0;if(" "!==Yi[Ho]){for(var Ad=0,wc=0;Yi[Ho]===Ln;)Ad++,Ho++;for(var qa=(Yi.length-Ho)*zn+1>>>0,Qa=new Uint8Array(qa);Yi[Ho];){var Ml=$e[Yi.charCodeAt(Ho)];if(255===Ml)return;for(var Al=0,qu=qa-1;(0!==Ml||Al<wc)&&-1!==qu;qu--,Al++)Qa[qu]=(Ml+=xn*Qa[qu]>>>0)%256>>>0,Ml=Ml/256>>>0;if(0!==Ml)throw new Error("Non-zero carry");wc=Al,Ho++}if(" "!==Yi[Ho]){for(var Td=qa-wc;Td!==qa&&0===Qa[Td];)Td++;for(var Jl=new Uint8Array(Ad+(qa-Td)),bh=Ad;Td!==qa;)Jl[bh++]=Qa[Td++];return Jl}}}return{encode:function Rn(Yi){if(Yi instanceof Uint8Array||(ArrayBuffer.isView(Yi)?Yi=new Uint8Array(Yi.buffer,Yi.byteOffset,Yi.byteLength):Array.isArray(Yi)&&(Yi=Uint8Array.from(Yi))),!(Yi instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Yi.length)return"";for(var Ho=0,Ad=0,wc=0,qa=Yi.length;wc!==qa&&0===Yi[wc];)wc++,Ho++;for(var Qa=(qa-wc)*gn+1>>>0,Ml=new Uint8Array(Qa);wc!==qa;){for(var Al=Yi[wc],qu=0,Td=Qa-1;(0!==Al||qu<Ad)&&-1!==Td;Td--,qu++)Ml[Td]=(Al+=256*Ml[Td]>>>0)%xn>>>0,Al=Al/xn>>>0;if(0!==Al)throw new Error("Non-zero carry");Ad=qu,wc++}for(var Jl=Qa-Ad;Jl!==Qa&&0===Ml[Jl];)Jl++;for(var bh=Ln.repeat(Ho);Jl<Qa;++Jl)bh+=tt.charAt(Ml[Jl]);return bh},decodeUnsafe:ai,decode:function Ri(Yi){var Ho=ai(Yi);if(Ho)return Ho;throw new Error(`Non-${Ge} character`)}}}($e,tt);return se({prefix:Ge,name:tt,encode:qe,decode:Rt=>function A(tt){if(tt instanceof Uint8Array&&"Uint8Array"===tt.constructor.name)return tt;if(tt instanceof ArrayBuffer)return new Uint8Array(tt);if(ArrayBuffer.isView(tt))return new Uint8Array(tt.buffer,tt.byteOffset,tt.byteLength);throw new Error("Unknown type, must be binary type")}(Dt(Rt))})}function ve({name:tt,prefix:Ge,bitsPerChar:$e,alphabet:qe}){return se({prefix:Ge,name:tt,encode:Dt=>function ae(tt,Ge,$e){const qe="="===Ge[Ge.length-1],Dt=(1<<$e)-1;let Rt="",Zt=0,xn=0;for(let Ln=0;Ln<tt.length;++Ln)for(xn=xn<<8|tt[Ln],Zt+=8;Zt>$e;)Zt-=$e,Rt+=Ge[Dt&xn>>Zt];if(0!==Zt&&(Rt+=Ge[Dt&xn<<$e-Zt]),qe)for(;Rt.length*$e&7;)Rt+="=";return Rt}(Dt,qe,$e),decode:Dt=>function ue(tt,Ge,$e,qe){const Dt={};for(let gn=0;gn<Ge.length;++gn)Dt[Ge[gn]]=gn;let Rt=tt.length;for(;"="===tt[Rt-1];)--Rt;const Zt=new Uint8Array(Rt*$e/8|0);let xn=0,Ln=0,zn=0;for(let gn=0;gn<Rt;++gn){const Rn=Dt[tt[gn]];if(void 0===Rn)throw new SyntaxError(`Non-${qe} character`);Ln=Ln<<$e|Rn,xn+=$e,xn>=8&&(xn-=8,Zt[zn++]=255&Ln>>xn)}if(xn>=$e||255&Ln<<8-xn)throw new SyntaxError("Unexpected end of data");return Zt}(Dt,qe,$e,tt)})}ve({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ve({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ve({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ve({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ve({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ve({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ve({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ve({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ve({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),oe({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),oe({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ve({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ve({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ve({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ve({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),new TextEncoder,new TextDecoder;var le=128,re=-128,de=Math.pow(2,31),ke=128,Fe=127,Tt=Math.pow(2,7),Xe=Math.pow(2,14),Ke=Math.pow(2,21),lt=Math.pow(2,28),U=Math.pow(2,35),_=Math.pow(2,42),m=Math.pow(2,49),F=Math.pow(2,56),ie=Math.pow(2,63);const kt={encode:function pe(tt,Ge,$e){Ge=Ge||[];for(var qe=$e=$e||0;tt>=de;)Ge[$e++]=255&tt|le,tt/=128;for(;tt&re;)Ge[$e++]=255&tt|le,tt>>>=7;return Ge[$e]=0|tt,pe.bytes=$e-qe+1,Ge},decode:function We(tt,qe){var Zt,$e=0,Dt=0,Rt=qe=qe||0,xn=tt.length;do{if(Rt>=xn)throw We.bytes=0,new RangeError("Could not decode varint");Zt=tt[Rt++],$e+=Dt<28?(Zt&Fe)<<Dt:(Zt&Fe)*Math.pow(2,Dt),Dt+=7}while(Zt>=ke);return We.bytes=Rt-qe,$e},encodingLength:function(tt){return tt<Tt?1:tt<Xe?2:tt<Ke?3:tt<lt?4:tt<U?5:tt<_?6:tt<m?7:tt<F?8:tt<ie?9:10}};function pt(tt,Ge=0){return[kt.decode(tt,Ge),kt.decode.bytes]}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class tn{static addPrefix(Ge){var $e;let{code:qe,data:Dt,name:Rt}=Ge;if(!(Rt?!qe:qe))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(qe=tn.codeToName.has(qe)?qe:tn.nameToCode.get(Rt),void 0===qe)throw new Error(`Unsupported multicodec: ${null!==($e=Ge.name)&&void 0!==$e?$e:Ge.code}`);const Zt=function Lt(tt){return kt.encodingLength(tt)}(qe),xn=new Uint8Array(Zt+Dt.byteLength);return xn.set(Dt,Zt),function Et(tt,Ge,$e=0){return kt.encode(tt,Ge,$e),Ge}(qe,xn),xn}static getCodeFromData(Ge){const{prefixedData:$e}=Ge,[qe,Dt]=pt($e);return qe}static getCodeFromName(Ge){const{name:$e}=Ge,qe=tn.nameToCode.get($e);if(void 0===qe)throw new Error(`Unsupported multicodec: ${$e}`);return qe}static getNameFromCode(Ge){const{code:$e}=Ge,qe=tn.codeToName.get($e);if(void 0===qe)throw new Error(`Unsupported multicodec: ${$e}`);return qe}static registerCodec(Ge){tn.codeToName.set(Ge.code,Ge.name),tn.nameToCode.set(Ge.name,Ge.code)}static removePrefix(Ge){const{prefixedData:$e}=Ge,[qe,Dt]=pt($e),Rt=tn.codeToName.get(qe);if(void 0===Rt)throw new Error(`Unsupported multicodec: ${qe}`);return{code:qe,data:$e.slice(Dt),name:Rt}}}tn.codeToName=new Map,tn.nameToCode=new Map,tn.registerCodec({code:237,name:"ed25519-pub"}),tn.registerCodec({code:4864,name:"ed25519-priv"}),tn.registerCodec({code:236,name:"x25519-pub"}),tn.registerCodec({code:4866,name:"x25519-priv"}),tn.registerCodec({code:231,name:"secp256k1-pub"}),tn.registerCodec({code:4865,name:"secp256k1-priv"}),E(95099),E(80868);const _n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function ru(tt){return function Go(tt=32){if(_n&&"function"==typeof _n.getRandomValues)return _n.getRandomValues(new Uint8Array(tt));throw new Error("crypto.getRandomValues must be defined")}(tt)}new Uint8Array(new Uint32Array([287454020]).buffer),E(94256),E(91006),E(40499),E(86295),E(91879);class Df{static deriveKey(Ge){return function(tt,Ge,$e,qe){return new($e||($e=Promise))(function(Rt,Zt){function xn(gn){try{zn(qe.next(gn))}catch(Rn){Zt(Rn)}}function Ln(gn){try{zn(qe.throw(gn))}catch(Rn){Zt(Rn)}}function zn(gn){gn.done?Rt(gn.value):function Dt(Rt){return Rt instanceof $e?Rt:new $e(function(Zt){Zt(Rt)})}(gn.value).then(xn,Ln)}zn((qe=qe.apply(tt,Ge||[])).next())})}(this,arguments,void 0,function*({hash:$e,password:qe,salt:Dt,iterations:Rt,length:Zt}){const xn=yield _n.subtle.importKey("raw",qe,{name:"PBKDF2"},!1,["deriveBits"]),Ln=yield _n.subtle.deriveBits({name:"PBKDF2",hash:$e,salt:Dt,iterations:Rt},xn,Zt);return new Uint8Array(Ln)})}}function Yu(tt,...Ge){if(!function ki(tt){return tt instanceof Uint8Array||null!=tt&&"object"==typeof tt&&"Uint8Array"===tt.constructor.name}(tt))throw new Error("Uint8Array expected");if(Ge.length>0&&!Ge.includes(tt.length))throw new Error(`Uint8Array expected of length ${Ge}, not of length=${tt.length}`)}function Fs(tt,Ge=!0){if(tt.destroyed)throw new Error("Hash instance has been destroyed");if(Ge&&tt.finished)throw new Error("Hash#digest() has already been called")}E(94730);const yg="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,yh=tt=>new DataView(tt.buffer,tt.byteOffset,tt.byteLength),Sa=(tt,Ge)=>tt<<32-Ge|tt>>>Ge;function Zi(tt){return"string"==typeof tt&&(tt=function gh(tt){if("string"!=typeof tt)throw new Error("utf8ToBytes expected string, got "+typeof tt);return new Uint8Array((new TextEncoder).encode(tt))}(tt)),Yu(tt),tt}new Uint8Array(new Uint32Array([287454020]).buffer);class am{clone(){return this._cloneInto()}}function L0(tt){const Ge=qe=>tt().update(Zi(qe)).digest(),$e=tt();return Ge.outputLen=$e.outputLen,Ge.blockLen=$e.blockLen,Ge.create=()=>tt(),Ge}const Ot=(tt,Ge,$e)=>tt&Ge^~tt&$e,ht=(tt,Ge,$e)=>tt&Ge^tt&$e^Ge&$e;class At extends am{constructor(Ge,$e,qe,Dt){super(),this.blockLen=Ge,this.outputLen=$e,this.padOffset=qe,this.isLE=Dt,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(Ge),this.view=yh(this.buffer)}update(Ge){Fs(this);const{view:$e,buffer:qe,blockLen:Dt}=this,Rt=(Ge=Zi(Ge)).length;for(let Zt=0;Zt<Rt;){const xn=Math.min(Dt-this.pos,Rt-Zt);if(xn!==Dt)qe.set(Ge.subarray(Zt,Zt+xn),this.pos),this.pos+=xn,Zt+=xn,this.pos===Dt&&(this.process($e,0),this.pos=0);else{const Ln=yh(Ge);for(;Dt<=Rt-Zt;Zt+=Dt)this.process(Ln,Zt)}}return this.length+=Ge.length,this.roundClean(),this}digestInto(Ge){Fs(this),function mh(tt,Ge){Yu(tt);const $e=Ge.outputLen;if(tt.length<$e)throw new Error(`digestInto() expects output buffer of length at least ${$e}`)}(Ge,this),this.finished=!0;const{buffer:$e,view:qe,blockLen:Dt,isLE:Rt}=this;let{pos:Zt}=this;$e[Zt++]=128,this.buffer.subarray(Zt).fill(0),this.padOffset>Dt-Zt&&(this.process(qe,0),Zt=0);for(let Rn=Zt;Rn<Dt;Rn++)$e[Rn]=0;(function Ye(tt,Ge,$e,qe){if("function"==typeof tt.setBigUint64)return tt.setBigUint64(Ge,$e,qe);const Dt=BigInt(32),Rt=BigInt(4294967295),Zt=Number($e>>Dt&Rt),xn=Number($e&Rt),zn=qe?0:4;tt.setUint32(Ge+(qe?4:0),Zt,qe),tt.setUint32(Ge+zn,xn,qe)})(qe,Dt-8,BigInt(8*this.length),Rt),this.process(qe,0);const xn=yh(Ge),Ln=this.outputLen;if(Ln%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const zn=Ln/4,gn=this.get();if(zn>gn.length)throw new Error("_sha2: outputLen bigger than state");for(let Rn=0;Rn<zn;Rn++)xn.setUint32(4*Rn,gn[Rn],Rt)}digest(){const{buffer:Ge,outputLen:$e}=this;this.digestInto(Ge);const qe=Ge.slice(0,$e);return this.destroy(),qe}_cloneInto(Ge){Ge||(Ge=new this.constructor),Ge.set(...this.get());const{blockLen:$e,buffer:qe,length:Dt,finished:Rt,destroyed:Zt,pos:xn}=this;return Ge.length=Dt,Ge.pos=xn,Ge.finished=Rt,Ge.destroyed=Zt,Dt%$e&&Ge.buffer.set(qe),Ge}}const nn=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Dn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jn=new Uint32Array(64);class Ir extends At{constructor(){super(64,32,8,!1),this.A=0|Dn[0],this.B=0|Dn[1],this.C=0|Dn[2],this.D=0|Dn[3],this.E=0|Dn[4],this.F=0|Dn[5],this.G=0|Dn[6],this.H=0|Dn[7]}get(){const{A:Ge,B:$e,C:qe,D:Dt,E:Rt,F:Zt,G:xn,H:Ln}=this;return[Ge,$e,qe,Dt,Rt,Zt,xn,Ln]}set(Ge,$e,qe,Dt,Rt,Zt,xn,Ln){this.A=0|Ge,this.B=0|$e,this.C=0|qe,this.D=0|Dt,this.E=0|Rt,this.F=0|Zt,this.G=0|xn,this.H=0|Ln}process(Ge,$e){for(let Rn=0;Rn<16;Rn++,$e+=4)Jn[Rn]=Ge.getUint32($e,!1);for(let Rn=16;Rn<64;Rn++){const ai=Jn[Rn-15],Ri=Jn[Rn-2],Yi=Sa(ai,7)^Sa(ai,18)^ai>>>3,Ho=Sa(Ri,17)^Sa(Ri,19)^Ri>>>10;Jn[Rn]=Ho+Jn[Rn-7]+Yi+Jn[Rn-16]|0}let{A:qe,B:Dt,C:Rt,D:Zt,E:xn,F:Ln,G:zn,H:gn}=this;for(let Rn=0;Rn<64;Rn++){const Ri=gn+(Sa(xn,6)^Sa(xn,11)^Sa(xn,25))+Ot(xn,Ln,zn)+nn[Rn]+Jn[Rn]|0,Ho=(Sa(qe,2)^Sa(qe,13)^Sa(qe,22))+ht(qe,Dt,Rt)|0;gn=zn,zn=Ln,Ln=xn,xn=Zt+Ri|0,Zt=Rt,Rt=Dt,Dt=qe,qe=Ri+Ho|0}qe=qe+this.A|0,Dt=Dt+this.B|0,Rt=Rt+this.C|0,Zt=Zt+this.D|0,xn=xn+this.E|0,Ln=Ln+this.F|0,zn=zn+this.G|0,gn=gn+this.H|0,this.set(qe,Dt,Rt,Zt,xn,Ln,zn,gn)}roundClean(){Jn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const _i=L0(()=>new Ir);var cr=E(53813);function Xs(tt,Ge=128){if(function su(tt){if(!Number.isSafeInteger(tt)||tt<0)throw new Error(`positive integer expected, not ${tt}`)}(Ge),Ge%32!=0||Ge>256)throw new TypeError("Invalid entropy");return function Sl(tt,Ge){return function au(tt){Yu(tt,16,20,24,28,32)}(tt),function cu(tt){if(!Array.isArray(tt)||2048!==tt.length||"string"!=typeof tt[0])throw new Error("Wordlist: expected array of 2048 strings");return tt.forEach(Ge=>{if("string"!=typeof Ge)throw new Error(`Wordlist: non-string element: ${Ge}`)}),cr.Wp.chain(cr.Wp.checksum(1,kf),cr.Wp.radix2(11,!0),cr.Wp.alphabet(tt))}(Ge).encode(tt).join((tt=>"\u3042\u3044\u3053\u304f\u3057\u3093"===tt[0])(Ge)?"\u3000":" ")}(function Md(tt=32){if(yg&&"function"==typeof yg.getRandomValues)return yg.getRandomValues(new Uint8Array(tt));throw new Error("crypto.getRandomValues must be defined")}(Ge/8),tt)}const kf=tt=>{const Ge=8-tt.length/4;return new Uint8Array([_i(tt)[0]>>Ge<<Ge])};const Ma="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");var Qo=E(93953);let Ko=(()=>{class tt{constructor(){}createPassword($e=6,qe=128){return(0,p.A)(function*(){try{const Dt=Xs(Ma,qe).split(" "),Rt=[];for(let Zt=0;Zt<$e;Zt++){const xn=Math.floor(Math.random()*Dt.length);Rt.push(Dt[xn])}return Rt.join(" ")}catch(Dt){throw console.error(Dt),Dt}})()}encrypt($e,qe){return this.deriveKey(qe),$e}encryptData($e,qe){return(0,p.A)(function*(){})()}deriveKey($e){return(0,p.A)(function*(){return yield Df.deriveKey({hash:"SHA-256",password:(new TextEncoder).encode($e),salt:ru(16),iterations:1e3,length:256})})()}static#e=this.\u0275fac=function(qe){return new(qe||tt)};static#t=this.\u0275prov=Qo.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"})}return tt})()},34635:(Be,z,E)=>{"use strict";E.d(z,{K:()=>x});var p=E(10467),S=E(93953),O=E(4165),G=E(60132);let x=(()=>{class B{constructor(N){this.cryptoService=N,this.syncInterval="10s",this.agents=(0,S.vPA)([]),this.preinitialized=(0,S.vPA)(!1),this.initialized=(0,S.vPA)(!1),this.locked=(0,S.vPA)(!0)}initialConnect(N){var $=this;return(0,p.A)(function*(){try{const K=yield O.uW.connect({password:N,sync:$.syncInterval});return $.web5=K.web5,$.did=K.did,console.log("Web5 Connected.",$.did),$.preinitialized.set(!0),$.initialized.set(!0),K}catch(K){console.error(K)}})()}connect(N,$){var K=this;return(0,p.A)(function*(){try{const D=yield O.uW.connect({connectedDid:N,password:$,sync:K.syncInterval});return K.web5=D.web5,K.did=D.did,console.log("Web5 Connected."),K.preinitialized.set(!0),K.initialized.set(!0),D}catch{alert("Failed to initialize Web5")}})()}restore(N,$){var K=this;return(0,p.A)(function*(){try{const D=yield O.uW.connect({recoveryPhrase:$,password:N,sync:K.syncInterval});return K.web5=D.web5,K.did=D.did,console.log("Web5 Connected."),K.preinitialized.set(!0),K.initialized.set(!0),D}catch{alert("Failed to initialize Web5")}})()}activeAgent(){return this.web5.agent}changePassword(N,$){var K=this;return(0,p.A)(function*(){yield K.web5.agent.vault.changePassword({oldPassword:N,newPassword:$})})()}lock(){var N=this;return(0,p.A)(function*(){console.log("Locking account..."),yield N.web5.agent.vault.lock(),console.log("Vault locked"),N.locked.set(!0)})()}unlock(N){var $=this;return(0,p.A)(function*(){console.log("Connecting to Web5...");try{const{did:K,web5:D}=yield O.uW.connect({sync:"5s",password:N});return $.did=K,$.web5=D,$.initialized.set(!0),$.locked.set(!1),!0}catch(K){return console.error(K),console.log("Show unlock screen!"),$.locked.set(!0),!1}})()}static#e=this.\u0275fac=function($){return new($||B)(S.KVO(G.j))};static#t=this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})()},36815:(Be,z,E)=>{"use strict";E.d(z,{Y:()=>S});var p=E(93953);let S=(()=>{class O{constructor(){this.scrolling=(0,p.vPA)(!0),this.navigation=(0,p.vPA)(!1),this.actions=(0,p.vPA)([]),(0,p.QZP)(()=>{const x=document.querySelector(".sidenav-scroll-wrapper");x&&(x.style.overflow=this.scrolling()?"auto":"hidden");const B=document.querySelector(".sidenav-content");B&&(B.style.overflow=this.scrolling()?"auto":"hidden")})}addAction(x){this.actions.update(B=>[...B,x])}resetActions(){this.actions.set([])}enableScrolling(){this.scrolling.set(!0)}disableScrolling(){this.scrolling.set(!1)}enableNavigation(){this.navigation.set(!0)}disableNavigation(){this.navigation.set(!1)}static#e=this.\u0275fac=function(B){return new(B||O)};static#t=this.\u0275prov=p.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},55619:(Be,z,E)=>{"use strict";E.d(z,{o:()=>G});var p=E(18498),S=E(93953),O=E(60177);let G=(()=>{class x{constructor(A,N){this.router=A,this.location=N,this.history=[],this.router.events.subscribe($=>{$ instanceof p.wF&&this.history.push($.urlAfterRedirects)})}back(){this.history.pop(),this.history.length>0?this.location.back():this.router.navigateByUrl("/")}static#e=this.\u0275fac=function(N){return new(N||x)(S.KVO(p.Ix),S.KVO(O.aZ))};static#t=this.\u0275prov=S.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},39434:(Be,z,E)=>{"use strict";E.d(z,{p:()=>x});var p=E(10467),S=E(93953),O=E(34635),G=E(22312);let x=(()=>{class B{constructor(){this.identity=(0,S.WQX)(O.K),this.current=(0,S.vPA)({did:"",name:"",title:"",bio:"",profileImage:"",profileBanner:"",status:"",location:"",links:[],birthDate:""}),this.selected=(0,S.vPA)({did:"",name:"",title:"",bio:"",profileImage:"",profileBanner:"",status:"",location:"",links:[],birthDate:""}),this.avatar=(0,S.vPA)(null),this.avatarSelected=(0,S.vPA)(null)}loadProfile(N){var $=this;return(0,p.A)(function*(){const K=yield $.identity.web5.dwn.records.query({message:{filter:{protocol:G.ME.uri,protocolPath:"profile",dataFormat:"application/json"}}});let D={},X=null;if(K.records)for(const Q of K.records)X=Q,D={...yield Q.data.json(),id:Q.dataCid,did:Q.author,created:Q.dateCreated};var V=null,Z=null;if(N==$.identity.did){const Q=yield $.identity.web5.dwn.records.query({message:{filter:{protocol:G.ME.uri,protocolPath:"avatar",dataFormat:"image/png"}}});if(Q.records&&Q.records.length>0){const te=Q.records[0];V=te,Z=yield te.data.text()}}return{record:X,avatarRecord:V,avatar:Z,profile:D}})()}openProfile(N){var $=this;return(0,p.A)(function*(){const K=yield $.loadProfile(N);$.avatarSelected.set(K.avatar),$.selected.set(K.profile),N==$.identity.did&&($.avatar.set(K.avatar),$.current.set(K.profile))})()}static#e=this.\u0275fac=function($){return new($||B)};static#t=this.\u0275prov=S.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})()},33347:(Be,z,E)=>{"use strict";E.d(z,{k:()=>S});var p=E(93953);let S=(()=>{class O{transform(x,B){if(x){const A=x.lastIndexOf(":");if(-1!==A){const N=x.slice(0,A+1),$=x.slice(A+1);return N+$.slice(0,5)+"..."+$.slice(-5)}return x.slice(0,5)+"..."+x.slice(-5)}return x}static#e=this.\u0275fac=function(B){return new(B||O)};static#t=this.\u0275pipe=p.EJ8({name:"did",type:O,pure:!0,standalone:!0})}return O})()},78013:(Be,z,E)=>{"use strict";E.d(z,{d:()=>O});var p=E(93953),S=E(345);let O=(()=>{class G{constructor(B){this.sanitizer=B}transform(B){return this.sanitizer.bypassSecurityTrustResourceUrl(B)}static#e=this.\u0275fac=function(A){return new(A||G)(p.rXU(S.up,16))};static#t=this.\u0275pipe=p.EJ8({name:"safeResourceUrl",type:G,pure:!0,standalone:!0})}return G})()},43794:(Be,z,E)=>{"use strict";E.d(z,{n:()=>S});var p=E(93953);let S=(()=>{class O{constructor(){this.prefix="ariton-"}save(x,B){localStorage.setItem(this.prefix+x,JSON.stringify(B))}read(x){const B=localStorage.getItem(this.prefix+x);return B?JSON.parse(B):null}remove(x){localStorage.removeItem(this.prefix+x)}clear(){Object.keys(localStorage).forEach(x=>{x.startsWith(this.prefix)&&localStorage.removeItem(x)})}static#e=this.\u0275fac=function(B){return new(B||O)};static#t=this.\u0275prov=p.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},65073:(Be,z,E)=>{"use strict";var p=E(345),S=E(93953),O=E(18498);const G=[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"introduction",loadComponent:()=>E.e(4630).then(E.bind(E,64630)).then(an=>an.IntroductionComponent),title:"Introduction",data:{icon:"lightbulb"}},{path:"dashboard",loadComponent:()=>Promise.all([E.e(6195),E.e(2320)]).then(E.bind(E,62320)).then(an=>an.DashboardComponent),title:"Dashboard",data:{icon:"dashboard"}},{path:"communities",loadComponent:()=>Promise.all([E.e(4516),E.e(5571),E.e(450),E.e(6702)]).then(E.bind(E,6702)).then(an=>an.CommunitiesComponent),title:"Communities",data:{icon:"diversity_2"}},{path:"communities/create",loadComponent:()=>Promise.all([E.e(5351),E.e(3475),E.e(3672)]).then(E.bind(E,23672)).then(an=>an.CreateComponent),title:"Communities",data:{hide:!0,icon:"diversity_2"}},{path:"community/:id",loadComponent:()=>Promise.all([E.e(6850),E.e(2076),E.e(3028)]).then(E.bind(E,73028)).then(an=>an.CommunityComponent),title:"Communities",data:{hide:!0,icon:"diversity_2"}},{path:"friends",loadComponent:()=>Promise.all([E.e(6850),E.e(6370)]).then(E.bind(E,46370)).then(an=>an.FriendsComponent),title:"Friends",data:{hide:!1,icon:"people"}},{path:"marketplace",loadComponent:()=>E.e(4392).then(E.bind(E,94392)).then(an=>an.MarketplaceComponent),title:"Marketplace",data:{icon:"storefront"}},{path:"apps",loadComponent:()=>Promise.all([E.e(4516),E.e(5571),E.e(6195),E.e(450),E.e(8487)]).then(E.bind(E,8487)).then(an=>an.AppsComponent),title:"Apps",data:{icon:"apps"}},{path:"app/chat",loadComponent:()=>Promise.all([E.e(5571),E.e(2076),E.e(8515)]).then(E.bind(E,38515)).then(an=>an.ChatComponent),title:"Chat",data:{icon:"chat"}},{path:"app/todo",loadComponent:()=>Promise.all([E.e(1391),E.e(1811)]).then(E.bind(E,11811)).then(an=>an.TodoComponent),title:"Todo",data:{icon:"task"}},{path:"registries",loadComponent:()=>Promise.all([E.e(4516),E.e(9466)]).then(E.bind(E,69466)).then(an=>an.RegistriesComponent),title:"Registries",data:{icon:"folder_shared"}},{path:"registries/:id",loadComponent:()=>Promise.all([E.e(6850),E.e(4516),E.e(2076),E.e(2068)]).then(E.bind(E,72068)).then(an=>an.RegistryComponent),title:"Registry",data:{hide:!0,icon:"folder_shared"}},{path:"data/view/:id",loadComponent:()=>Promise.all([E.e(6850),E.e(3474)]).then(E.bind(E,53474)).then(an=>an.DataViewComponent),title:"Data View",data:{hide:!0,icon:"folder_shared"}},{path:"data",loadComponent:()=>Promise.all([E.e(6850),E.e(7358),E.e(9454),E.e(5416),E.e(2076),E.e(3287)]).then(E.bind(E,63287)).then(an=>an.DataComponent),title:"Data",data:{icon:"source"}},{path:"data/:source/:id",loadComponent:()=>Promise.all([E.e(2076),E.e(9533)]).then(E.bind(E,29533)).then(an=>an.DataEntryComponent),title:"Data Entry",data:{hide:!0,icon:"source"}},{path:"profile/:id",loadComponent:()=>Promise.all([E.e(6850),E.e(5351),E.e(5416),E.e(888)]).then(E.bind(E,50888)).then(an=>an.ProfileComponent),title:"Profile",data:{hide:!0,icon:"account_circle"}},{path:"profile/:id/edit",loadComponent:()=>Promise.all([E.e(5351),E.e(3475),E.e(7380)]).then(E.bind(E,37380)).then(an=>an.ProfileEditComponent),title:"Edit Profile",data:{hide:!0,icon:"account_circle"}},{path:"notifications",loadComponent:()=>E.e(2228).then(E.bind(E,92228)).then(an=>an.NotificationsComponent),title:"Notifications",data:{hide:!1,icon:"notifications"}},{path:"accounts",loadComponent:()=>Promise.all([E.e(6850),E.e(9454),E.e(6486)]).then(E.bind(E,96486)).then(an=>an.AccountsComponent),title:"Accounts",data:{hide:!0,icon:"account_circle"}},{path:"account/password",loadComponent:()=>E.e(8012).then(E.bind(E,88012)).then(an=>an.PasswordComponent),title:"Password",data:{hide:!0,icon:"account_circle"}},{path:"account/backup",loadComponent:()=>E.e(5962).then(E.bind(E,75962)).then(an=>an.BackupComponent),title:"Backup",data:{hide:!0,icon:"account_circle"}},{path:"account/create",loadComponent:()=>E.e(5806).then(E.bind(E,75806)).then(an=>an.CreateComponent),title:"Create Account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/new",loadComponent:()=>E.e(9613).then(E.bind(E,29613)).then(an=>an.NewComponent),title:"Create new account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/restore",loadComponent:()=>Promise.resolve().then(E.bind(E,33065)).then(an=>an.RestoreComponent),title:"Restore existing account",data:{hide:!0,icon:"account_circle"}},{path:"account/:id",loadComponent:()=>E.e(7880).then(E.bind(E,17880)).then(an=>an.AccountComponent),title:"Account",data:{hide:!0,icon:"account_circle"}},{path:"identity",loadComponent:()=>E.e(5854).then(E.bind(E,85854)).then(an=>an.IdentityComponent),title:"Identity",data:{hide:!0,icon:"account_circle"}},{path:"settings",loadComponent:()=>E.e(959).then(E.bind(E,60959)).then(an=>an.SettingsComponent),title:"Settings",data:{hide:!0,icon:"settings"}},{path:"settings/about",loadComponent:()=>E.e(5216).then(E.bind(E,85216)).then(an=>an.AboutComponent),title:"About",data:{hide:!0,icon:"settings"}},{path:"settings/licenses",loadComponent:()=>E.e(9727).then(E.bind(E,19727)).then(an=>an.LicensesComponent),title:"Licenses",data:{hide:!0,icon:"settings"}},{path:"settings/privacy",loadComponent:()=>E.e(9128).then(E.bind(E,99128)).then(an=>an.PrivacyComponent),title:"Privacy",data:{hide:!0,icon:"settings"}},{path:"settings/handler",loadComponent:()=>E.e(8552).then(E.bind(E,18552)).then(an=>an.HandlerComponent),title:"Protocol Handler",data:{hide:!0,icon:"search"}},{path:"tree",loadComponent:()=>Promise.all([E.e(7358),E.e(9238)]).then(E.bind(E,9238)).then(an=>an.TreeComponent),title:"Tree",data:{hide:!0,icon:"folder"}},{path:"drag-drop",loadComponent:()=>Promise.all([E.e(1391),E.e(7988)]).then(E.bind(E,77988)).then(an=>an.DragDropComponent),title:"Drag-Drop",data:{hide:!0,icon:"folder"}},{path:"help",loadComponent:()=>E.e(2492).then(E.bind(E,12492)).then(an=>an.HelpComponent),title:"Help",data:{hide:!0,icon:"help"}},{path:"management",loadComponent:()=>Promise.all([E.e(6850),E.e(8864)]).then(E.bind(E,48864)).then(an=>an.ManagementComponent),title:"Management",data:{icon:"manage_accounts"}}];var x=E(60177);let A=(()=>{class an{constructor(jt,wn,Mn,zr,Ur){this.doc=jt,this.delegate=wn,this.zone=Mn,this.animationType=zr,this.moduleImpl=Ur,this._rendererFactoryPromise=null,this.scheduler=(0,S.WQX)(S.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??E.e(8008).then(E.bind(E,68008)).then(wn=>wn)).catch(wn=>{throw new S.wOt(5300,!1)}).then(({\u0275createEngine:wn,\u0275AnimationRendererFactory:Mn})=>{this._engine=wn(this.animationType,this.doc);const zr=new Mn(this.delegate,this._engine,this.zone);return this.delegate=zr,zr})}createRenderer(jt,wn){const Mn=this.delegate.createRenderer(jt,wn);if(0===Mn.\u0275type)return Mn;"boolean"==typeof Mn.throwOnSyntheticProps&&(Mn.throwOnSyntheticProps=!1);const zr=new N(Mn);return wn?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(Ur=>{const Go=Ur.createRenderer(jt,wn);zr.use(Go),this.scheduler?.notify(9)}).catch(Ur=>{zr.use(Mn)}),zr}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static#e=this.\u0275fac=function(wn){S.QTQ()};static#t=this.\u0275prov=S.jDH({token:an,factory:an.\u0275fac})}return an})();class N{constructor(Kn){this.delegate=Kn,this.replay=[],this.\u0275type=1}use(Kn){if(this.delegate=Kn,null!==this.replay){for(const jt of this.replay)jt(Kn);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(Kn,jt){return this.delegate.createElement(Kn,jt)}createComment(Kn){return this.delegate.createComment(Kn)}createText(Kn){return this.delegate.createText(Kn)}get destroyNode(){return this.delegate.destroyNode}appendChild(Kn,jt){this.delegate.appendChild(Kn,jt)}insertBefore(Kn,jt,wn,Mn){this.delegate.insertBefore(Kn,jt,wn,Mn)}removeChild(Kn,jt,wn){this.delegate.removeChild(Kn,jt,wn)}selectRootElement(Kn,jt){return this.delegate.selectRootElement(Kn,jt)}parentNode(Kn){return this.delegate.parentNode(Kn)}nextSibling(Kn){return this.delegate.nextSibling(Kn)}setAttribute(Kn,jt,wn,Mn){this.delegate.setAttribute(Kn,jt,wn,Mn)}removeAttribute(Kn,jt,wn){this.delegate.removeAttribute(Kn,jt,wn)}addClass(Kn,jt){this.delegate.addClass(Kn,jt)}removeClass(Kn,jt){this.delegate.removeClass(Kn,jt)}setStyle(Kn,jt,wn,Mn){this.delegate.setStyle(Kn,jt,wn,Mn)}removeStyle(Kn,jt,wn){this.delegate.removeStyle(Kn,jt,wn)}setProperty(Kn,jt,wn){this.shouldReplay(jt)&&this.replay.push(Mn=>Mn.setProperty(Kn,jt,wn)),this.delegate.setProperty(Kn,jt,wn)}setValue(Kn,jt){this.delegate.setValue(Kn,jt)}listen(Kn,jt,wn){return this.shouldReplay(jt)&&this.replay.push(Mn=>Mn.listen(Kn,jt,wn)),this.delegate.listen(Kn,jt,wn)}shouldReplay(Kn){return null!==this.replay&&Kn.startsWith("@")}}var K=E(59030),D=E(18810),X=E(33726),V=E(7673),Z=E(28793),Q=E(21413),te=E(71985),J=E(85343);const q=new te.c(J.l);var se=E(57786),oe=E(96354),ue=E(5964),ae=E(25558),ve=E(30017),_e=E(98071),De=E(58750),P=E(39974);const h={connector:()=>new Q.B};function g(an,Kn=h){const{connector:jt}=Kn;return(0,P.N)((wn,Mn)=>{const zr=jt();(0,De.Tg)(an(function u(an){return new te.c(Kn=>an.subscribe(Kn))}(zr))).subscribe(Mn),Mn.add(wn.subscribe(zr))})}var C=E(96697),j=E(88141),M=E(91986);const d="Service workers are disabled or not supported by this browser";class W{constructor(Kn){if(this.serviceWorker=Kn,Kn){const wn=(0,X.R)(Kn,"controllerchange").pipe((0,oe.T)(()=>Kn.controller)),Mn=(0,K.v)(()=>(0,V.of)(Kn.controller)),zr=(0,Z.x)(Mn,wn);this.worker=zr.pipe((0,ue.p)(Hi=>!!Hi)),this.registration=this.worker.pipe((0,ae.n)(()=>Kn.getRegistration()));const Wc=(0,X.R)(Kn,"message").pipe((0,oe.T)(Hi=>Hi.data)).pipe((0,ue.p)(Hi=>Hi&&Hi.type)).pipe(function T(an){return an?Kn=>g(an)(Kn):Kn=>function w(an,Kn){const jt=(0,_e.T)(an)?an:()=>an;return(0,_e.T)(Kn)?g(Kn,{connector:jt}):wn=>new ve.G(wn,jt)}(new Q.B)(Kn)}());Wc.connect(),this.events=Wc}else this.worker=this.events=this.registration=function v(an){return(0,K.v)(()=>(0,D.$)(new Error(an)))}(d)}postMessage(Kn,jt){return this.worker.pipe((0,C.s)(1),(0,j.M)(wn=>{wn.postMessage({action:Kn,...jt})})).toPromise().then(()=>{})}postMessageWithOperation(Kn,jt,wn){const Mn=this.waitForOperationCompleted(wn),zr=this.postMessage(Kn,jt);return Promise.all([zr,Mn]).then(([,Ur])=>Ur)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Kn){let jt;return jt="string"==typeof Kn?wn=>wn.type===Kn:wn=>Kn.includes(wn.type),this.events.pipe((0,ue.p)(jt))}nextEventOfType(Kn){return this.eventsOfType(Kn).pipe((0,C.s)(1))}waitForOperationCompleted(Kn){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,ue.p)(jt=>jt.nonce===Kn),(0,C.s)(1),(0,oe.T)(jt=>{if(void 0!==jt.result)return jt.result;throw new Error(jt.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let H=(()=>{class an{get isEnabled(){return this.sw.isEnabled}constructor(jt){if(this.sw=jt,this.pushManager=null,this.subscriptionChanges=new Q.B,!jt.isEnabled)return this.messages=q,this.notificationClicks=q,void(this.subscription=q);this.messages=this.sw.eventsOfType("PUSH").pipe((0,oe.T)(Mn=>Mn.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,oe.T)(Mn=>Mn.data)),this.pushManager=this.sw.registration.pipe((0,oe.T)(Mn=>Mn.pushManager));const wn=this.pushManager.pipe((0,ae.n)(Mn=>Mn.getSubscription()));this.subscription=(0,se.h)(wn,this.subscriptionChanges)}requestSubscription(jt){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(d));const wn={userVisibleOnly:!0};let Mn=this.decodeBase64(jt.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),zr=new Uint8Array(new ArrayBuffer(Mn.length));for(let Ur=0;Ur<Mn.length;Ur++)zr[Ur]=Mn.charCodeAt(Ur);return wn.applicationServerKey=zr,this.pushManager.pipe((0,ae.n)(Ur=>Ur.subscribe(wn)),(0,C.s)(1)).toPromise().then(Ur=>(this.subscriptionChanges.next(Ur),Ur))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,C.s)(1),(0,ae.n)(wn=>{if(null===wn)throw new Error("Not subscribed to push notifications.");return wn.unsubscribe().then(Mn=>{if(!Mn)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(d))}decodeBase64(jt){return atob(jt)}static#e=this.\u0275fac=function(wn){return new(wn||an)(S.KVO(W))};static#t=this.\u0275prov=S.jDH({token:an,factory:an.\u0275fac})}return an})(),ee=(()=>{class an{get isEnabled(){return this.sw.isEnabled}constructor(jt){if(this.sw=jt,!jt.isEnabled)return this.versionUpdates=q,void(this.unrecoverable=q);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(d));const jt=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:jt},jt)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(d));const jt=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:jt},jt)}static#e=this.\u0275fac=function(wn){return new(wn||an)(S.KVO(W))};static#t=this.\u0275prov=S.jDH({token:an,factory:an.\u0275fac})}return an})();const fe=new S.nKC("");function Ae(an,Kn,jt,wn){return()=>{if(!(0,x.UE)(wn)||!("serviceWorker"in navigator)||!1===jt.enabled)return;const Mn=an.get(S.SKi),zr=an.get(S.o8S);let Ur;if(Mn.runOutsideAngular(()=>{const Go=navigator.serviceWorker,As=()=>Go.controller?.postMessage({action:"INITIALIZE"});Go.addEventListener("controllerchange",As),zr.onDestroy(()=>{Go.removeEventListener("controllerchange",As)})}),"function"==typeof jt.registrationStrategy)Ur=jt.registrationStrategy();else{const[Go,...As]=(jt.registrationStrategy||"registerWhenStable:30000").split(":");switch(Go){case"registerImmediately":Ur=(0,V.of)(null);break;case"registerWithDelay":Ur=Pe(+As[0]||0);break;case"registerWhenStable":Ur=As[0]?(0,se.h)(Le(an),Pe(+As[0])):Le(an);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${jt.registrationStrategy}`)}}Mn.runOutsideAngular(()=>Ur.pipe((0,C.s)(1)).subscribe(()=>navigator.serviceWorker.register(Kn,{scope:jt.scope}).catch(Go=>console.error("Service worker registration failed with:",Go))))}}function Pe(an){return(0,V.of)(null).pipe((0,M.c)(an))}function Le(an){return an.get(S.o8S).isStable.pipe((0,ue.p)(jt=>jt))}function be(an,Kn){return new W((0,x.UE)(Kn)&&!1!==an.enabled?navigator.serviceWorker:void 0)}class ge{}const xe={providers:[(0,S.Jn2)({eventCoalescing:!0}),(0,O.lh)(G,(0,O.Sn)(O.Kp)),function $(an="animations"){return(0,S.ngT)("NgAsyncAnimations"),(0,S.EmA)([{provide:S._9s,useFactory:(Kn,jt,wn)=>new A(Kn,jt,wn,an),deps:[x.qQ,p.B7,S.SKi]},{provide:S.bc$,useValue:"noop"===an?"NoopAnimations":"BrowserAnimations"}])}(),function Re(an,Kn={}){return(0,S.EmA)([H,ee,{provide:fe,useValue:an},{provide:ge,useValue:Kn},{provide:W,useFactory:be,deps:[ge,S.Agw]},{provide:S.hnV,useFactory:Ae,deps:[S.zZn,fe,ge,S.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,S.naY)(),registrationStrategy:"registerWhenStable:30000"})]};var le=E(10467),he=E(99327),re=E(55911),de=E(88834),pe=E(67333),Se=E(86600),ke=E(18617),Fe=E(28203),We=E(14085),Tt=E(67336),Xe=E(36860),Ke=E(73703),lt=E(56977),U=E(23294),_=E(99172),m=E(70152),F=E(49969);const ie=["*"],we=["content"],Ie=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Qe=["mat-drawer","mat-drawer-content","*"];function kt(an,Kn){if(1&an){const jt=S.RV6();S.j41(0,"div",1),S.bIt("click",function(){S.eBV(jt);const Mn=S.XpG();return S.Njj(Mn._onBackdropClicked())}),S.k0s()}if(2&an){const jt=S.XpG();S.AVh("mat-drawer-shown",jt._isShowingBackdrop())}}function pt(an,Kn){1&an&&(S.j41(0,"mat-drawer-content"),S.SdG(1,2),S.k0s())}const Et=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Lt=["mat-sidenav","mat-sidenav-content","*"];function qt(an,Kn){if(1&an){const jt=S.RV6();S.j41(0,"div",1),S.bIt("click",function(){S.eBV(jt);const Mn=S.XpG();return S.Njj(Mn._onBackdropClicked())}),S.k0s()}if(2&an){const jt=S.XpG();S.AVh("mat-drawer-shown",jt._isShowingBackdrop())}}function Kt(an,Kn){1&an&&(S.j41(0,"mat-sidenav-content"),S.SdG(1,2),S.k0s())}const cn={transformDrawer:(0,F.hZ)("transform",[(0,F.wk)("open, open-instant",(0,F.iF)({transform:"none",visibility:"visible"})),(0,F.wk)("void",(0,F.iF)({"box-shadow":"none",visibility:"hidden"})),(0,F.kY)("void => open-instant",(0,F.i0)("0ms")),(0,F.kY)("void <=> open, open-instant => void",(0,F.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Nt=new S.nKC("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function it(){return!1}}),dt=new S.nKC("MAT_DRAWER_CONTAINER");let Ct=(()=>{class an extends pe.uv{constructor(jt,wn,Mn,zr,Ur){super(Mn,zr,Ur),this._changeDetectorRef=jt,this._container=wn}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(wn){return new(wn||an)(S.rXU(S.gRc),S.rXU((0,S.Rfq)(()=>Wt)),S.rXU(S.aKT),S.rXU(pe.R),S.rXU(S.SKi))};static#t=this.\u0275cmp=S.VBU({type:an,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(wn,Mn){2&wn&&S.xc7("margin-left",Mn._container._contentMargins.left,"px")("margin-right",Mn._container._contentMargins.right,"px")},standalone:!0,features:[S.Jv_([{provide:pe.uv,useExisting:an}]),S.Vt3,S.aNF],ngContentSelectors:ie,decls:1,vars:0,template:function(wn,Mn){1&wn&&(S.NAR(),S.SdG(0))},encapsulation:2,changeDetection:0})}return an})(),Bt=(()=>{class an{get position(){return this._position}set position(jt){(jt="end"===jt?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(jt),this._position=jt,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(jt){this._mode=jt,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(jt){this._disableClose=(0,We.he)(jt)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(jt){("true"===jt||"false"===jt||null==jt)&&(jt=(0,We.he)(jt)),this._autoFocus=jt}get opened(){return this._opened}set opened(jt){this.toggle((0,We.he)(jt))}constructor(jt,wn,Mn,zr,Ur,Go,As,Wc){this._elementRef=jt,this._focusTrapFactory=wn,this._focusMonitor=Mn,this._platform=zr,this._ngZone=Ur,this._interactivityChecker=Go,this._doc=As,this._container=Wc,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Q.B,this._animationEnd=new Q.B,this._animationState="void",this.openedChange=new S.bkB(!0),this._openedStream=this.openedChange.pipe((0,ue.p)(Hi=>Hi),(0,oe.T)(()=>{})),this.openedStart=this._animationStarted.pipe((0,ue.p)(Hi=>Hi.fromState!==Hi.toState&&0===Hi.toState.indexOf("open")),(0,Ke.u)(void 0)),this._closedStream=this.openedChange.pipe((0,ue.p)(Hi=>!Hi),(0,oe.T)(()=>{})),this.closedStart=this._animationStarted.pipe((0,ue.p)(Hi=>Hi.fromState!==Hi.toState&&"void"===Hi.toState),(0,Ke.u)(void 0)),this._destroyed=new Q.B,this.onPositionChanged=new S.bkB,this._modeChanged=new Q.B,this._injector=(0,S.WQX)(S.zZn),this._changeDetectorRef=(0,S.WQX)(S.gRc),this.openedChange.pipe((0,lt.Q)(this._destroyed)).subscribe(Hi=>{Hi?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,X.R)(this._elementRef.nativeElement,"keydown").pipe((0,ue.p)(Hi=>Hi.keyCode===Tt._f&&!this.disableClose&&!(0,Tt.rp)(Hi)),(0,lt.Q)(this._destroyed)).subscribe(Hi=>this._ngZone.run(()=>{this.close(),Hi.stopPropagation(),Hi.preventDefault()}))}),this._animationEnd.pipe((0,U.F)((Hi,vl)=>Hi.fromState===vl.fromState&&Hi.toState===vl.toState)).subscribe(Hi=>{const{fromState:vl,toState:ps}=Hi;(0===ps.indexOf("open")&&"void"===vl||"void"===ps&&0===vl.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(jt,wn){this._interactivityChecker.isFocusable(jt)||(jt.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Mn=()=>{jt.removeEventListener("blur",Mn),jt.removeEventListener("mousedown",Mn),jt.removeAttribute("tabindex")};jt.addEventListener("blur",Mn),jt.addEventListener("mousedown",Mn)})),jt.focus(wn)}_focusByCssSelector(jt,wn){let Mn=this._elementRef.nativeElement.querySelector(jt);Mn&&this._forceFocus(Mn,wn)}_takeFocus(){if(!this._focusTrap)return;const jt=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":(0,S.mal)(()=>{!this._focusTrap.focusInitialElement()&&"function"==typeof jt.focus&&jt.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(jt){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,jt):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const jt=this._doc.activeElement;return!!jt&&this._elementRef.nativeElement.contains(jt)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(jt){return this.toggle(!0,jt)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(jt=!this.opened,wn){jt&&wn&&(this._openedVia=wn);const Mn=this._setOpen(jt,!jt&&this._isFocusWithinDrawer(),this._openedVia||"program");return jt||(this._openedVia=null),Mn}_setOpen(jt,wn,Mn){return this._opened=jt,jt?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",wn&&this._restoreFocus(Mn)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(zr=>{this.openedChange.pipe((0,C.s)(1)).subscribe(Ur=>zr(Ur?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(jt){if(!this._platform.isBrowser)return;const wn=this._elementRef.nativeElement,Mn=wn.parentNode;"end"===jt?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),Mn.insertBefore(this._anchor,wn)),Mn.appendChild(wn)):this._anchor&&this._anchor.parentNode.insertBefore(wn,this._anchor)}static#e=this.\u0275fac=function(wn){return new(wn||an)(S.rXU(S.aKT),S.rXU(ke.GX),S.rXU(ke.FN),S.rXU(Xe.OD),S.rXU(S.SKi),S.rXU(ke.Z7),S.rXU(x.qQ,8),S.rXU(dt,8))};static#t=this.\u0275cmp=S.VBU({type:an,selectors:[["mat-drawer"]],viewQuery:function(wn,Mn){if(1&wn&&S.GBs(we,5),2&wn){let zr;S.mGM(zr=S.lsd())&&(Mn._content=zr.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(wn,Mn){1&wn&&S.Kam("@transform.start",function(Ur){return Mn._animationStarted.next(Ur)})("@transform.done",function(Ur){return Mn._animationEnd.next(Ur)}),2&wn&&(S.zvX("@transform",Mn._animationState),S.BMQ("align",null),S.AVh("mat-drawer-end","end"===Mn.position)("mat-drawer-over","over"===Mn.mode)("mat-drawer-push","push"===Mn.mode)("mat-drawer-side","side"===Mn.mode)("mat-drawer-opened",Mn.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[S.aNF],ngContentSelectors:ie,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(wn,Mn){1&wn&&(S.NAR(),S.j41(0,"div",1,0),S.SdG(2),S.k0s())},dependencies:[pe.uv],encapsulation:2,data:{animation:[cn.transformDrawer]},changeDetection:0})}return an})(),Wt=(()=>{class an{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(jt){this._autosize=(0,We.he)(jt)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(jt){this._backdropOverride=null==jt?null:(0,We.he)(jt)}get scrollable(){return this._userContent||this._content}constructor(jt,wn,Mn,zr,Ur,Go=!1,As){this._dir=jt,this._element=wn,this._ngZone=Mn,this._changeDetectorRef=zr,this._animationMode=As,this._drawers=new S.rOR,this.backdropClick=new S.bkB,this._destroyed=new Q.B,this._doCheckSubject=new Q.B,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Q.B,this._injector=(0,S.WQX)(S.zZn),jt&&jt.change.pipe((0,lt.Q)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Ur.change().pipe((0,lt.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=Go}ngAfterContentInit(){this._allDrawers.changes.pipe((0,_.Z)(this._allDrawers),(0,lt.Q)(this._destroyed)).subscribe(jt=>{this._drawers.reset(jt.filter(wn=>!wn._container||wn._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,_.Z)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(jt=>{this._watchDrawerToggle(jt),this._watchDrawerPosition(jt),this._watchDrawerMode(jt)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,m.B)(10),(0,lt.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(jt=>jt.open())}close(){this._drawers.forEach(jt=>jt.close())}updateContentMargins(){let jt=0,wn=0;if(this._left&&this._left.opened)if("side"==this._left.mode)jt+=this._left._getWidth();else if("push"==this._left.mode){const Mn=this._left._getWidth();jt+=Mn,wn-=Mn}if(this._right&&this._right.opened)if("side"==this._right.mode)wn+=this._right._getWidth();else if("push"==this._right.mode){const Mn=this._right._getWidth();wn+=Mn,jt-=Mn}jt=jt||null,wn=wn||null,(jt!==this._contentMargins.left||wn!==this._contentMargins.right)&&(this._contentMargins={left:jt,right:wn},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(jt){jt._animationStarted.pipe((0,ue.p)(wn=>wn.fromState!==wn.toState),(0,lt.Q)(this._drawers.changes)).subscribe(wn=>{"open-instant"!==wn.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==jt.mode&&jt.openedChange.pipe((0,lt.Q)(this._drawers.changes)).subscribe(()=>this._setContainerClass(jt.opened))}_watchDrawerPosition(jt){jt&&jt.onPositionChanged.pipe((0,lt.Q)(this._drawers.changes)).subscribe(()=>{(0,S.mal)(()=>{this._validateDrawers()},{injector:this._injector,phase:S.wjH.Read})})}_watchDrawerMode(jt){jt&&jt._modeChanged.pipe((0,lt.Q)((0,se.h)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(jt){const wn=this._element.nativeElement.classList,Mn="mat-drawer-container-has-open";jt?wn.add(Mn):wn.remove(Mn)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(jt=>{"end"==jt.position?this._end=jt:this._start=jt}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(jt=>jt&&!jt.disableClose&&this._drawerHasBackdrop(jt)).forEach(jt=>jt._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(jt){return null!=jt&&jt.opened}_drawerHasBackdrop(jt){return null==this._backdropOverride?!!jt&&"side"!==jt.mode:this._backdropOverride}static#e=this.\u0275fac=function(wn){return new(wn||an)(S.rXU(Fe.dS,8),S.rXU(S.aKT),S.rXU(S.SKi),S.rXU(S.gRc),S.rXU(pe.Xj),S.rXU(Nt),S.rXU(S.bc$,8))};static#t=this.\u0275cmp=S.VBU({type:an,selectors:[["mat-drawer-container"]],contentQueries:function(wn,Mn,zr){if(1&wn&&(S.wni(zr,Ct,5),S.wni(zr,Bt,5)),2&wn){let Ur;S.mGM(Ur=S.lsd())&&(Mn._content=Ur.first),S.mGM(Ur=S.lsd())&&(Mn._allDrawers=Ur)}},viewQuery:function(wn,Mn){if(1&wn&&S.GBs(Ct,5),2&wn){let zr;S.mGM(zr=S.lsd())&&(Mn._userContent=zr.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(wn,Mn){2&wn&&S.AVh("mat-drawer-container-explicit-backdrop",Mn._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[S.Jv_([{provide:dt,useExisting:an}]),S.aNF],ngContentSelectors:Qe,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(wn,Mn){1&wn&&(S.NAR(Ie),S.DNE(0,kt,1,2,"div",0),S.SdG(1),S.SdG(2,1),S.DNE(3,pt,2,0,"mat-drawer-content")),2&wn&&(S.vxM(Mn.hasBackdrop?0:-1),S.R7$(3),S.vxM(Mn._content?-1:3))},dependencies:[Ct],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return an})(),Yn=(()=>{class an extends Ct{constructor(jt,wn,Mn,zr,Ur){super(jt,wn,Mn,zr,Ur)}static#e=this.\u0275fac=function(wn){return new(wn||an)(S.rXU(S.gRc),S.rXU((0,S.Rfq)(()=>ut)),S.rXU(S.aKT),S.rXU(pe.R),S.rXU(S.SKi))};static#t=this.\u0275cmp=S.VBU({type:an,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(wn,Mn){2&wn&&S.xc7("margin-left",Mn._container._contentMargins.left,"px")("margin-right",Mn._container._contentMargins.right,"px")},standalone:!0,features:[S.Jv_([{provide:pe.uv,useExisting:an}]),S.Vt3,S.aNF],ngContentSelectors:ie,decls:1,vars:0,template:function(wn,Mn){1&wn&&(S.NAR(),S.SdG(0))},encapsulation:2,changeDetection:0})}return an})(),at=(()=>{class an extends Bt{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(jt){this._fixedInViewport=(0,We.he)(jt)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(jt){this._fixedTopGap=(0,We.OE)(jt)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(jt){this._fixedBottomGap=(0,We.OE)(jt)}static#e=this.\u0275fac=(()=>{let jt;return function(Mn){return(jt||(jt=S.xGo(an)))(Mn||an)}})();static#t=this.\u0275cmp=S.VBU({type:an,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(wn,Mn){2&wn&&(S.BMQ("align",null),S.xc7("top",Mn.fixedInViewport?Mn.fixedTopGap:null,"px")("bottom",Mn.fixedInViewport?Mn.fixedBottomGap:null,"px"),S.AVh("mat-drawer-end","end"===Mn.position)("mat-drawer-over","over"===Mn.mode)("mat-drawer-push","push"===Mn.mode)("mat-drawer-side","side"===Mn.mode)("mat-drawer-opened",Mn.opened)("mat-sidenav-fixed",Mn.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[S.Vt3,S.aNF],ngContentSelectors:ie,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(wn,Mn){1&wn&&(S.NAR(),S.j41(0,"div",1,0),S.SdG(2),S.k0s())},dependencies:[pe.uv],encapsulation:2,data:{animation:[cn.transformDrawer]},changeDetection:0})}return an})(),ut=(()=>{class an extends Wt{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let jt;return function(Mn){return(jt||(jt=S.xGo(an)))(Mn||an)}})();static#t=this.\u0275cmp=S.VBU({type:an,selectors:[["mat-sidenav-container"]],contentQueries:function(wn,Mn,zr){if(1&wn&&(S.wni(zr,Yn,5),S.wni(zr,at,5)),2&wn){let Ur;S.mGM(Ur=S.lsd())&&(Mn._content=Ur.first),S.mGM(Ur=S.lsd())&&(Mn._allDrawers=Ur)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(wn,Mn){2&wn&&S.AVh("mat-drawer-container-explicit-backdrop",Mn._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[S.Jv_([{provide:dt,useExisting:an}]),S.Vt3,S.aNF],ngContentSelectors:Lt,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(wn,Mn){1&wn&&(S.NAR(Et),S.DNE(0,qt,1,2,"div",0),S.SdG(1),S.SdG(2,1),S.DNE(3,Kt,2,0,"mat-sidenav-content")),2&wn&&(S.vxM(Mn.hasBackdrop?0:-1),S.R7$(3),S.vxM(Mn._content?-1:3))},dependencies:[Yn],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return an})(),ft=(()=>{class an{static#e=this.\u0275fac=function(wn){return new(wn||an)};static#t=this.\u0275mod=S.$C({type:an});static#n=this.\u0275inj=S.G2t({imports:[Se.yE,pe.Gj,pe.Gj,Se.yE]})}return an})();var et=E(3902),gt=E(99213),un=E(44668),zt=E(36815),tn=E(59115),pr=E(43794),bn=E(34635),vn=E(40605);let Or=(()=>{class an{constructor(jt,wn){this.swUpdate=jt,this.zone=wn,this.isNewVersionAvailable=!1,this.intervalSource=(0,vn.Y)(9e5),this.checkForUpdateOnInterval(),this.checkForUpdateOnLoad()}applyUpdate(){this.swUpdate.activateUpdate().then(()=>document.location.reload()).catch(jt=>console.error("Failed to apply updates:",jt))}checkForUpdateOnInterval(){var jt=this;this.intervalSubscription?.unsubscribe(),this.swUpdate.isEnabled&&this.zone.runOutsideAngular(()=>{this.intervalSubscription=this.intervalSource.subscribe((0,le.A)(function*(){if(jt.isNewVersionAvailable)yield jt.swUpdate.checkForUpdate();else try{jt.isNewVersionAvailable=yield jt.swUpdate.checkForUpdate(),console.log(jt.isNewVersionAvailable?"A new version is available.":"Already on the latest version.")}catch(wn){console.error("Failed to check for updates:",wn)}}))})}checkForUpdateOnLoad(){this.newVersionSubscription?.unsubscribe(),this.swUpdate.isEnabled?(this.newVersionSubscription=this.swUpdate.versionUpdates.subscribe(jt=>{switch(console.log("New version update event:"),console.log(jt),jt.type){case"VERSION_DETECTED":console.log(`Downloading new app version: ${jt.version.hash}`);break;case"VERSION_READY":console.log(`Current app version: ${jt.currentVersion.hash}`),console.log(`New app version ready for use: ${jt.latestVersion.hash}`),this.isNewVersionAvailable=!0;break;case"VERSION_INSTALLATION_FAILED":console.log(`Failed to install app version '${jt.version.hash}': ${jt.error}`)}}),console.log("Subscribed to new version updates.")):console.log("Service worker updates are disabled for this app.")}static#e=this.\u0275fac=function(wn){return new(wn||an)(S.KVO(ee),S.KVO(S.SKi))};static#t=this.\u0275prov=S.jDH({token:an,factory:an.\u0275fac,providedIn:"root"})}return an})();var Qn=E(14823),jn=E(55619),On=E(33347),Vn=E(39434),Hn=E(78013),ar=E(71997);const qn=["*"],vr=()=>["/settings"],_r=an=>["/profile",an],Er=()=>["/help"],mr=()=>["/accounts"],Rr=()=>["/account","did:dht:umj7apgmkodtrb7mdpjo4h7xinqdnatzgy38j7wi67k9c7sdns1o"],Br=()=>["/account/create"];function kr(an,Kn){if(1&an&&(S.j41(0,"a",13,6)(2,"mat-icon",31),S.EFF(3),S.k0s(),S.EFF(4),S.k0s()),2&an){const jt=Kn.$implicit,wn=S.sdS(1);S.Y8G("routerLink",jt.path)("activated",wn.isActive),S.R7$(3),S.JRh(jt.data.icon),S.R7$(),S.SpI(" ",jt.title," ")}}function jr(an,Kn){if(1&an){const jt=S.RV6();S.j41(0,"button",32),S.bIt("click",function(){S.eBV(jt),S.XpG();const Mn=S.sdS(2);return S.Njj(Mn.toggle())}),S.j41(1,"mat-icon",33),S.EFF(2,"menu"),S.k0s()()}}function Yr(an,Kn){if(1&an){const jt=S.RV6();S.j41(0,"button",34),S.bIt("click",function(){S.eBV(jt);const Mn=S.XpG();return S.Njj(Mn.navigateBack())}),S.j41(1,"mat-icon"),S.EFF(2,"arrow_back"),S.k0s()()}}function wt(an,Kn){if(1&an){const jt=S.RV6();S.j41(0,"button",35),S.bIt("click",function(){const Mn=S.eBV(jt).$implicit;return S.Njj(Mn.action())}),S.j41(1,"mat-icon"),S.EFF(2),S.k0s()()}if(2&an){const jt=Kn.$implicit;S.Y8G("title",jt.name),S.R7$(2),S.JRh(jt.icon)}}function Pt(an,Kn){if(1&an){const jt=S.RV6();S.j41(0,"button",36),S.bIt("click",function(){S.eBV(jt);const Mn=S.XpG();return S.Njj(Mn.applyUpdate())}),S.j41(1,"mat-icon"),S.EFF(2,"get_app"),S.k0s()()}}let sn=(()=>{class an{constructor(){this.breakpointObserver=(0,S.WQX)(he.QP),this.storage=(0,S.WQX)(pr.n),this.identity=(0,S.WQX)(bn.K),this.updateService=(0,S.WQX)(Or),this.profileService=(0,S.WQX)(Vn.p),this.layout=(0,S.WQX)(zt.Y),this.navigation=(0,S.WQX)(jn.o),this.rootRoutes=G.filter(jt=>jt.path).filter(jt=>jt.data&&1!=jt.data.hide),this.isHandset$=this.breakpointObserver.observe("(max-width: 700px)").pipe((0,oe.T)(jt=>jt.matches),(0,un.t)())}wipe(){var jt=this;return(0,le.A)(function*(){jt.storage.clear(),console.log("Local storage data has been wiped!"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DID_RESOLVERCACHE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_DATASTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_EVENTLOG"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGEINDEX"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGESTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/VAULT_STORE"),console.log("Data has been wiped!"),window.location.reload()})()}applyUpdate(){this.updateService.applyUpdate()}lock(){this.identity.lock()}navigateBack(){this.navigation.back()}static#e=this.\u0275fac=function(wn){return new(wn||an)};static#t=this.\u0275cmp=S.VBU({type:an,selectors:[["app-layout"]],standalone:!0,features:[S.aNF],ngContentSelectors:qn,decls:155,vars:46,consts:[["drawer",""],["menuDebug","matMenu"],["menuNotifications","matMenu"],["menu","matMenu"],["menuAccounts","matMenu"],["menuLanguages","matMenu"],["link","routerLinkActive"],[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["src","ariton-icon-dark.svg",1,"toolbar-logo"],[1,"toolbar-text"],["srcset","ariton-text-light.svg","media","(prefers-color-scheme: dark)"],["src","ariton-text-dark.svg"],["mat-list-item","","routerLinkActive","",3,"routerLink","activated"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button",""],["mat-icon-button",""],["mat-icon-button","",3,"title"],[1,"toolbar-spacer"],[1,"toolbar-items"],["matTooltip","Update available. Click to update now.","mat-icon-button",""],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"],["mat-menu-item",""],[1,"account-menu-profile"],["onerror","this.src='/avatar-placeholder.png';this.onerror='';",1,"account-menu-profile-icon",3,"src"],["mat-menu-item","",1,"account-menu-item",3,"routerLink"],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"sidenav-scroll-wrapper"],[1,"sidenav-content"],["matListItemIcon",""],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-icon-button","",3,"click"],["mat-icon-button","",3,"click","title"],["matTooltip","Update available. Click to update now.","mat-icon-button","",3,"click"]],template:function(wn,Mn){if(1&wn){const zr=S.RV6();S.NAR(),S.j41(0,"mat-sidenav-container",7)(1,"mat-sidenav",8,0),S.nI1(3,"async"),S.nI1(4,"async"),S.nI1(5,"async"),S.j41(6,"mat-toolbar"),S.nrm(7,"img",9),S.j41(8,"picture",10),S.nrm(9,"source",11)(10,"img",12),S.k0s()(),S.j41(11,"mat-nav-list"),S.Z7z(12,kr,5,4,"a",13,S.Vm6),S.k0s()(),S.j41(14,"mat-sidenav-content")(15,"mat-toolbar",14),S.DNE(16,jr,3,0,"button",15),S.nI1(17,"async"),S.DNE(18,Yr,3,0,"button",16),S.Z7z(19,wt,3,2,"button",17,S.fX1),S.nrm(21,"span",18),S.j41(22,"span",19),S.DNE(23,Pt,3,0,"button",20),S.j41(24,"button",21)(25,"mat-icon"),S.EFF(26,"warning"),S.k0s()(),S.j41(27,"mat-menu",null,1)(29,"button",22),S.bIt("click",function(){return S.eBV(zr),S.Njj(Mn.wipe())}),S.j41(30,"mat-icon"),S.EFF(31,"settings"),S.k0s(),S.j41(32,"span"),S.EFF(33,"Reset All Data (Wipe)"),S.k0s()()(),S.j41(34,"button",21)(35,"mat-icon"),S.EFF(36,"notifications"),S.k0s()(),S.j41(37,"mat-menu",null,2)(39,"button",23)(40,"mat-icon"),S.EFF(41,"settings"),S.k0s(),S.j41(42,"span"),S.EFF(43,"Notification Settings"),S.k0s()(),S.nrm(44,"mat-divider"),S.j41(45,"button",24)(46,"mat-icon"),S.EFF(47,"forum"),S.k0s(),S.j41(48,"span"),S.EFF(49,"Knitting Community posted new pattern"),S.k0s()(),S.j41(50,"button",24)(51,"mat-icon"),S.EFF(52,"face"),S.k0s(),S.j41(53,"span"),S.EFF(54,"Joe sent you a message"),S.k0s()(),S.j41(55,"button",24)(56,"mat-icon"),S.EFF(57,"key"),S.k0s(),S.j41(58,"span"),S.EFF(59,"New security request"),S.k0s()(),S.j41(60,"button",24)(61,"mat-icon"),S.EFF(62,"verified_user"),S.k0s(),S.j41(63,"span"),S.EFF(64,"Social account recovery request"),S.k0s()()(),S.j41(65,"button",21)(66,"mat-icon"),S.EFF(67,"account_circle"),S.k0s()(),S.j41(68,"mat-menu",null,3)(70,"div",25),S.nrm(71,"img",26),S.nI1(72,"safeResourceUrl"),S.j41(73,"div")(74,"h2"),S.EFF(75),S.k0s(),S.EFF(76),S.nrm(77,"br"),S.EFF(78),S.nI1(79,"did"),S.nrm(80,"br"),S.k0s()(),S.j41(81,"button",27)(82,"mat-icon"),S.EFF(83,"account_circle"),S.k0s(),S.j41(84,"span"),S.EFF(85,"View Profile"),S.k0s()(),S.nrm(86,"mat-divider"),S.j41(87,"button",28)(88,"mat-icon"),S.EFF(89,"switch_account"),S.k0s(),S.j41(90,"span"),S.EFF(91,"Accounts"),S.k0s()(),S.j41(92,"button",22),S.bIt("click",function(){return S.eBV(zr),S.Njj(Mn.lock())}),S.j41(93,"mat-icon"),S.EFF(94,"lock"),S.k0s(),S.j41(95,"span"),S.EFF(96,"Lock account"),S.k0s()(),S.nrm(97,"mat-divider"),S.j41(98,"button",28)(99,"mat-icon"),S.EFF(100,"translate"),S.k0s(),S.j41(101,"span"),S.EFF(102,"Language: English"),S.k0s()(),S.nrm(103,"mat-divider"),S.j41(104,"button",23)(105,"mat-icon"),S.EFF(106,"settings"),S.k0s(),S.j41(107,"span"),S.EFF(108,"Settings"),S.k0s()(),S.nrm(109,"mat-divider"),S.j41(110,"button",23)(111,"mat-icon"),S.EFF(112,"help"),S.k0s(),S.j41(113,"span"),S.EFF(114,"Help"),S.k0s()()(),S.j41(115,"mat-menu",null,4)(117,"button",23)(118,"mat-icon"),S.EFF(119,"manage_accounts"),S.k0s(),S.j41(120,"span"),S.EFF(121,"Manage Accounts"),S.k0s()(),S.nrm(122,"mat-divider"),S.j41(123,"button",23)(124,"mat-icon"),S.EFF(125,"account_circle"),S.k0s(),S.j41(126,"span"),S.EFF(127,"Account 1"),S.k0s()(),S.j41(128,"button",23)(129,"mat-icon"),S.EFF(130,"account_circle"),S.k0s(),S.j41(131,"span"),S.EFF(132,"Account 2"),S.k0s()(),S.j41(133,"button",23)(134,"mat-icon"),S.EFF(135,"account_circle"),S.k0s(),S.j41(136,"span"),S.EFF(137,"Account 3"),S.k0s()(),S.nrm(138,"mat-divider"),S.j41(139,"button",23)(140,"mat-icon"),S.EFF(141,"person_add"),S.k0s(),S.j41(142,"span"),S.EFF(143,"Add account"),S.k0s()()(),S.j41(144,"mat-menu",null,5)(146,"button",24)(147,"span"),S.EFF(148,"English"),S.k0s()(),S.j41(149,"button",24)(150,"span"),S.EFF(151,"Norwegian"),S.k0s()()()()(),S.j41(152,"div",29)(153,"div",30),S.SdG(154),S.k0s()()()()}if(2&wn){const zr=S.sdS(28),Ur=S.sdS(38),Go=S.sdS(69),As=S.sdS(116),Wc=S.sdS(145);S.R7$(),S.Y8G("mode",S.bMT(3,24,Mn.isHandset$)?"over":"side")("opened",!1===S.bMT(4,26,Mn.isHandset$)),S.BMQ("role",S.bMT(5,28,Mn.isHandset$)?"dialog":"navigation"),S.R7$(11),S.Dyx(Mn.rootRoutes),S.R7$(4),S.vxM(S.bMT(17,30,Mn.isHandset$)?16:-1),S.R7$(2),S.vxM(Mn.layout.navigation()?18:-1),S.R7$(),S.Dyx(Mn.layout.actions()),S.R7$(4),S.vxM(Mn.updateService.isNewVersionAvailable?23:-1),S.R7$(),S.Y8G("matMenuTriggerFor",zr),S.R7$(10),S.Y8G("matMenuTriggerFor",Ur),S.R7$(5),S.Y8G("routerLink",S.lJ4(36,vr)),S.R7$(26),S.Y8G("matMenuTriggerFor",Go),S.R7$(6),S.Y8G("src",S.bMT(72,32,Mn.profileService.avatar()),S.B4B),S.R7$(4),S.JRh(Mn.profileService.current().name),S.R7$(),S.SpI(" @",Mn.profileService.current().title,""),S.R7$(2),S.SpI(" ",S.bMT(79,34,Mn.identity.did),""),S.R7$(3),S.Y8G("routerLink",S.eq3(37,_r,Mn.identity.did)),S.R7$(6),S.Y8G("matMenuTriggerFor",As),S.R7$(11),S.Y8G("matMenuTriggerFor",Wc),S.R7$(6),S.Y8G("routerLink",S.lJ4(39,vr)),S.R7$(6),S.Y8G("routerLink",S.lJ4(40,Er)),S.R7$(7),S.Y8G("routerLink",S.lJ4(41,mr)),S.R7$(6),S.Y8G("routerLink",S.lJ4(42,Rr)),S.R7$(5),S.Y8G("routerLink",S.lJ4(43,Rr)),S.R7$(5),S.Y8G("routerLink",S.lJ4(44,Rr)),S.R7$(6),S.Y8G("routerLink",S.lJ4(45,Br))}},dependencies:[Hn.d,re.s5,re.KQ,de.Hl,de.iY,ft,at,ut,Yn,et.Fg,et._L,et.YE,et.ZV,ar.q,gt.m_,gt.An,tn.Cn,tn.kk,tn.fb,tn.Cp,x.Jj,O.Wk,O.wQ,Qn.uc,Qn.oV,On.k],styles:[".toolbar-logo[_ngcontent-%COMP%]{max-height:54px}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.account-menu-profile[_ngcontent-%COMP%]{color:var(--mat-menu-item-label-text-color);display:flex;gap:8px;margin:8px;align-items:center}.account-menu-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:0}.account-menu-profile-icon[_ngcontent-%COMP%]{width:64px;border-radius:50%}.account-menu-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:2}.toolbar-text[_ngcontent-%COMP%]{margin-left:.3em;margin-top:.5em;width:100px;height:32px}.sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:240px;padding:0 8px;box-sizing:border-box}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}mat-sidenav-content[_ngcontent-%COMP%]{padding-right:16px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 80px);overflow:auto;border-radius:16px;box-sizing:border-box}.sidenav-content[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto;padding:16px;box-sizing:border-box}.column-content[_ngcontent-%COMP%]{overflow-y:scroll;box-sizing:border-box}@media (max-width: 959.98px){mat-sidenav-content[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 64px)}}"]})}return an})();var _n=E(89417),$n=E(53719),sr=E(99631),ir=E(9183);function Ar(an,Kn){1&an&&S.nrm(0,"mat-spinner",4)}function hr(an,Kn){1&an&&(S.j41(0,"span"),S.EFF(1,"Unlock"),S.k0s())}function Fi(an,Kn){1&an&&(S.j41(0,"mat-error"),S.EFF(1,"Password is "),S.j41(2,"strong"),S.EFF(3,"invalid"),S.k0s()())}let _o=(()=>{class an{constructor(jt){this.identityService=jt,this.passwordInput=new _n.MJ("",_n.k0.required),this.unlocking=(0,S.vPA)(!1),this.invalidPassword=(0,S.vPA)(!1)}onSubmit(){var jt=this;return(0,le.A)(function*(){jt.unlocking.set(!0),(yield jt.identityService.unlock(jt.passwordInput.value))?(console.log("Vault unlocked"),jt.invalidPassword.set(!1)):(console.log("Failed to unlock vault"),jt.invalidPassword.set(!0)),jt.unlocking.set(!1)})()}static#e=this.\u0275fac=function(wn){return new(wn||an)(S.rXU(bn.K))};static#t=this.\u0275cmp=S.VBU({type:an,selectors:[["app-unlock"]],standalone:!0,features:[S.aNF],decls:18,vars:4,consts:[["src","ariton-icon-dark.svg",1,"unlock-logo"],[3,"ngSubmit"],["matInput","","type","password",3,"formControl"],["mat-flat-button","","type","submit","color","primary",3,"disabled"],["diameter","20"]],template:function(wn,Mn){1&wn&&(S.nrm(0,"img",0),S.j41(1,"h1"),S.EFF(2,"Unlock your account"),S.k0s(),S.j41(3,"p"),S.EFF(4,"You have configured your Ariton account with a secure personal password."),S.nrm(5,"br"),S.EFF(6,"Enter password to unlock your account."),S.k0s(),S.j41(7,"form",1),S.bIt("ngSubmit",function(){return Mn.onSubmit()}),S.j41(8,"mat-form-field")(9,"mat-label"),S.EFF(10,"Enter your password"),S.k0s(),S.nrm(11,"input",2),S.k0s(),S.EFF(12," \xa0 "),S.j41(13,"button",3),S.DNE(14,Ar,1,0,"mat-spinner",4)(15,hr,2,0,"span"),S.k0s(),S.j41(16,"p"),S.DNE(17,Fi,4,0,"mat-error"),S.k0s()()),2&wn&&(S.R7$(11),S.Y8G("formControl",Mn.passwordInput),S.R7$(2),S.Y8G("disabled",!(Mn.passwordInput.valid&&!Mn.unlocking())),S.R7$(),S.vxM(Mn.unlocking()?14:15),S.R7$(3),S.vxM(Mn.invalidPassword()?17:-1))},dependencies:[_n.YN,_n.qT,_n.me,_n.BC,_n.cb,_n.cV,ir.D6,ir.LG,_n.X1,_n.l_,$n.RG,$n.rl,$n.nJ,$n.TL,sr.fS,sr.fg,de.Hl,de.$z,gt.m_],styles:["button[_ngcontent-%COMP%]{width:100px}.unlock-logo[_ngcontent-%COMP%]{max-width:200px}"]})}return an})();var Ci=E(31439),fi=E(33065);function so(an,Kn){1&an&&(S.j41(0,"p"),S.EFF(1,"Initializing Ariton..."),S.k0s())}function ei(an,Kn){if(1&an){const jt=S.RV6();S.j41(0,"button",7),S.bIt("click",function(){S.eBV(jt);const Mn=S.XpG(3);return S.Njj(Mn.back())}),S.EFF(1,"Back"),S.k0s()}if(2&an){const jt=S.XpG(3);S.Y8G("disabled",jt.appService.loading())}}function yi(an,Kn){if(1&an){const jt=S.RV6();S.j41(0,"button",8),S.bIt("click",function(){S.eBV(jt);const Mn=S.XpG(3);return S.Njj(Mn.createAccount())}),S.EFF(1,"Create a new account"),S.k0s(),S.j41(2,"button",7),S.bIt("click",function(){S.eBV(jt);const Mn=S.XpG(3);return S.Njj(Mn.restoreAccount())}),S.EFF(3,"Restore existing account"),S.k0s()}if(2&an){const jt=S.XpG(3);S.Y8G("disabled",jt.appService.loading()),S.R7$(2),S.Y8G("disabled",!0)}}function wi(an,Kn){1&an&&S.nrm(0,"app-restore")}function Ro(an,Kn){if(1&an&&(S.j41(0,"div",2),S.DNE(1,ei,2,1,"button",6)(2,yi,4,2)(3,wi,1,0,"app-restore"),S.k0s()),2&an){const jt=S.XpG(2);S.R7$(),S.vxM(jt.restore()?1:2),S.R7$(2),S.vxM(jt.restore()?3:-1)}}function Gs(an,Kn){if(1&an){const jt=S.RV6();S.j41(0,"div",3),S.nrm(1,"app-unlock"),S.j41(2,"p"),S.EFF(3,"Issues? "),S.j41(4,"button",5),S.bIt("click",function(){S.eBV(jt);const Mn=S.XpG(2);return S.Njj(Mn.forceClose())}),S.EFF(5,"Close loading sceen"),S.k0s()()()}}function ui(an,Kn){1&an&&(S.j41(0,"div",0),S.nrm(1,"img",1),S.j41(2,"div"),S.EFF(3,"Initializing... please wait..."),S.k0s()())}function mo(an,Kn){if(1&an){const jt=S.RV6();S.j41(0,"div",4)(1,"h1"),S.EFF(2,"Error during initialization. Offline?"),S.k0s(),S.j41(3,"p"),S.EFF(4,"You must be online to create your account."),S.nrm(5,"br"),S.EFF(6,"Please verify network connection and try again."),S.k0s(),S.j41(7,"p")(8,"button",5),S.bIt("click",function(){S.eBV(jt);const Mn=S.XpG(2);return S.Njj(Mn.reload())}),S.EFF(9,"Reload"),S.k0s()()()}}function qo(an,Kn){1&an&&S.nrm(0,"mat-spinner")}function br(an,Kn){if(1&an){const jt=S.RV6();S.j41(0,"div",0),S.nrm(1,"img",1),S.DNE(2,so,2,0,"p")(3,Ro,4,2,"div",2)(4,Gs,6,0,"div",3)(5,ui,4,0,"div",0)(6,mo,10,0,"div",4)(7,qo,1,0,"mat-spinner"),S.j41(8,"p"),S.EFF(9,"Issues? "),S.j41(10,"button",5),S.bIt("click",function(){S.eBV(jt);const Mn=S.XpG();return S.Njj(Mn.forceClose())}),S.EFF(11,"Close loading sceen"),S.k0s()()()}if(2&an){let jt;const wn=S.XpG();S.R7$(2),S.vxM(0===(jt=wn.appService.onboardingState())?2:1===jt?3:2===jt?4:3===jt?5:4===jt?6:-1),S.R7$(5),S.vxM(wn.appService.loading()?7:-1)}}(0,p.B8)((()=>{class an{countChar(jt,wn){return wn.split(jt).length-1}constructor(jt,wn,Mn){this.router=jt,this.layout=wn,this.identityService=Mn,this.title="app",this.appService=(0,S.WQX)(Ci.d),this.restore=(0,S.vPA)(!1);const zr=globalThis.location.search;if(zr){const Ur=Object.fromEntries(new URLSearchParams(zr));this.appService.params=Ur}console.log(zr),console.log(this.appService.params),this.router.events.subscribe(Ur=>{Ur instanceof O.Z?(this.layout.enableScrolling(),this.layout.resetActions()):Ur instanceof O.wF&&(this.countChar("/",Ur.url)>1?this.layout.enableNavigation():this.layout.disableNavigation())}),(0,S.QZP)(()=>{this.appService.initialized()&&console.log("App has been initialized!!!!")})}forceClose(){this.appService.onboardingState.set(Ci.f.Unlocked),this.appService.initialized.set(!0)}restoreAccount(){var jt=this;return(0,le.A)(function*(){jt.restore.set(!0)})()}back(){this.restore.set(!1)}createAccount(){var jt=this;return(0,le.A)(function*(){console.log("Creating new account..."),yield jt.appService.createAccount(),jt.router.navigate([jt.appService.state().loginAction])})()}reload(){document.location=document.location}ngOnInit(){var jt=this;return(0,le.A)(function*(){yield jt.appService.initialize()})()}static#e=this.\u0275fac=function(wn){return new(wn||an)(S.rXU(O.Ix),S.rXU(zt.Y),S.rXU(bn.K))};static#t=this.\u0275cmp=S.VBU({type:an,selectors:[["app-root"]],standalone:!0,features:[S.Jv_([{provide:$n.U$,useValue:{appearance:"outline"}}]),S.aNF],decls:3,vars:1,consts:[[1,"loading-container"],["src","ariton-icon-dark.svg",1,"loading-logo"],[1,"new-user-actions"],[1,"unlock-container"],[1,"loading-error"],["mat-button","",3,"click"],["mat-button","",3,"disabled"],["mat-button","",3,"click","disabled"],["mat-flat-button","",3,"click","disabled"]],template:function(wn,Mn){1&wn&&(S.DNE(0,br,12,2,"div",0),S.j41(1,"app-layout"),S.nrm(2,"router-outlet"),S.k0s()),2&wn&&S.vxM(Mn.appService.initialized()?-1:0)},dependencies:[fi.RestoreComponent,de.Hl,de.$z,ir.D6,ir.LG,O.n3,sn,_o],styles:[".unlock-container[_ngcontent-%COMP%]{background-color:var(--mat-app-background-color);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1000;display:flex;justify-content:center;align-items:center;align-content:center;text-align:center}.loading-container[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1001;display:flex;flex-direction:column;align-items:center;justify-content:center}.loading-logo[_ngcontent-%COMP%]{max-width:128px;position:absolute;right:1em;bottom:1em}mat-spinner[_ngcontent-%COMP%]{margin:2em}.new-user-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1em;margin-bottom:1em}"]})}return an})(),xe).catch(an=>console.error(an))},49245:(Be,z,E)=>{"use strict";E.d(z,{Q:()=>p});const p={protocol:"http://anyone-collaborate-protocol.xyz",published:!0,types:{doc:{}},structure:{doc:{$actions:[{who:"anyone",can:["read","co-update","co-delete"]}]}}}},62060:(Be,z,E)=>{"use strict";E.d(z,{Q:()=>p});const p={protocol:"http://chat-protocol.xyz",published:!0,types:{thread:{schema:"thread",dataFormats:["application/json"]},message:{schema:"message",dataFormats:["application/json"]}},structure:{thread:{$actions:[{who:"anyone",can:["create","update"]},{who:"author",of:"thread",can:["read"]},{who:"recipient",of:"thread",can:["read"]}],message:{$actions:[{who:"anyone",can:["create","update"]},{who:"author",of:"thread/message",can:["read"]},{who:"recipient",of:"thread/message",can:["read"]}]}}}}},77949:(Be,z,E)=>{"use strict";E.d(z,{Q:()=>p});const p={protocol:"https://schema.ariton.app/community/entry",published:!0,types:{community:{schema:"https://schema.ariton.app/community/schema/community",dataFormats:["application/json"]},album:{schema:"https://schema.ariton.app/community/schema/album",dataFormats:["text/plain"]},photo:{schema:"https://schema.ariton.app/community/schema/photo",dataFormats:["text/plain"]},friend:{schema:"https://schema.ariton.app/community/schema/friend",dataFormats:["text/plain"]},participant:{schema:"https://schema.ariton.app/community/schema/participant",dataFormats:["text/plain"]},updater:{schema:"https://schema.ariton.app/community/schema/updater",dataFormats:["text/plain"]},globalAdmin:{schema:"https://schema.ariton.app/community/schema/globalAdmin",dataFormats:["application/json"]},admin:{schema:"https://schema.ariton.app/community/schema/admin",dataFormats:["application/json"]}},structure:{globalAdmin:{$role:!0},friend:{$role:!0},community:{$actions:[{role:"globalAdmin",can:["create","update"]}],admin:{$role:!0,$actions:[{role:"globalAdmin",can:["create","update"]}]}}}}},67136:(Be,z,E)=>{"use strict";E.d(z,{Q:()=>p});const p={protocol:"http://free-for-all-protocol.xyz",published:!0,types:{post:{schema:"eph",dataFormats:["application/json"]},attachment:{}},structure:{post:{$actions:[{who:"anyone",can:["create","update","delete","prune","read","co-delete","co-prune"]}],attachment:{$actions:[{who:"anyone",can:["create","update","delete","read","co-delete"]}]}}}}},22312:(Be,z,E)=>{"use strict";E.d(z,{Aq:()=>$,ME:()=>B,iU:()=>K,u5:()=>N});var p=E(4053),S=E(77949),G=(E(45189),E(2685)),x=E(69371);const B={uri:p.Q.protocol,definition:p.Q},N={uri:G.Q.protocol,definition:G.Q},$={uri:S.Q.protocol,definition:S.Q},K={uri:x.Q.protocol,definition:x.Q}},69371:(Be,z,E)=>{"use strict";E.d(z,{Q:()=>p});const p={protocol:"https://schema.ariton.app/message",published:!0,types:{message:{schema:"https://schema.ariton.app/message/schema/message",dataFormats:["application/json"]},writer:{schema:"https://schema.ariton.app/message/schema/writer",dataFormats:["application/json"]},request:{schema:"https://schema.ariton.app/message/schema/request",dataFormats:["application/json"]}},structure:{writer:{$role:!0},message:{$actions:[{role:"writer",can:["create","update"]},{who:"author",of:"message",can:["read"]},{who:"recipient",of:"message",can:["read"]}]},request:{$actions:[{who:"anyone",can:["create","update"]},{who:"author",of:"request",can:["read"]},{who:"recipient",of:"request",can:["read"]}]}}}},1639:(Be,z,E)=>{"use strict";E.d(z,{Q:()=>p});const p={protocol:"http://minimal.xyz",published:!1,types:{foo:{}},structure:{foo:{}}}},4053:(Be,z,E)=>{"use strict";E.d(z,{Q:()=>p});const p={published:!0,protocol:"https://schema.ariton.app/profile/entry",types:{profile:{dataFormats:["application/json"]},bio:{dataFormats:["application/json"]},status:{dataFormats:["application/json"]},location:{dataFormats:["application/json"]},birthDate:{dataFormats:["application/json"]},social:{dataFormats:["application/json"]},messaging:{dataFormats:["application/json"]},phone:{dataFormats:["application/json"]},address:{dataFormats:["application/json"]},career:{dataFormats:["application/json"]},payment:{dataFormats:["application/json"]},avatar:{dataFormats:["image/gif","image/png","image/jpeg"]},hero:{dataFormats:["image/gif","image/png","image/jpeg"]}},structure:{profile:{$actions:[{who:"anyone",can:["read"]}]},bio:{},status:{},location:{},birthDate:{},social:{},career:{},avatar:{$actions:[{who:"anyone",can:["read"]}]},hero:{$actions:[{who:"anyone",can:["read"]}]},messaging:{},address:{},phone:{},payment:{}}}},2685:(Be,z,E)=>{"use strict";E.d(z,{Q:()=>p});const p={published:!0,protocol:"https://schema.ariton.app/registry/entry",types:{profile:{dataFormats:["application/json"]},avatar:{dataFormats:["image/gif","image/png","image/jpeg"]},hero:{dataFormats:["image/gif","image/png","image/jpeg"]}},structure:{profile:{},avatar:{},hero:{}}}},45189:(Be,z,E)=>{"use strict";E.d(z,{Q:()=>p});const p={protocol:"https://social-media.xyz",published:!0,types:{post:{schema:"https://social-media.xyz/schemas/postSchema",dataFormats:["text/plain"]},reply:{schema:"https://social-media.xyz/schemas/replySchema",dataFormats:["text/plain"]},image:{dataFormats:["image/jpeg"]},caption:{schema:"https://social-media.xyz/schemas/captionSchema",dataFormats:["text/plain"]}},structure:{post:{$actions:[{who:"anyone",can:["create","read"]}],reply:{$actions:[{who:"recipient",of:"post",can:["create"]},{who:"author",of:"post",can:["create"]}]}},image:{$actions:[{who:"anyone",can:["create","read"]}],caption:{$actions:[{who:"anyone",can:["read"]},{who:"author",of:"image",can:["create"]}]},reply:{$actions:[{who:"author",of:"image",can:["read"]},{who:"recipient",of:"image",can:["create"]}]}}}}},4521:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.createCurve=z.getHash=void 0;const p=E(44882),S=E(96492),O=E(73040);function G(B){return{hash:B,hmac:(A,...N)=>(0,p.hmac)(B,A,(0,S.concatBytes)(...N)),randomBytes:S.randomBytes}}z.getHash=G,z.createCurve=function x(B,A){const N=$=>(0,O.weierstrass)({...B,...G($)});return Object.freeze({...N(A),create:N})}},25299:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateBasic=z.wNAF=void 0;const p=E(63834),S=E(84097),O=BigInt(0),G=BigInt(1);z.wNAF=function x(A,N){const $=(D,X)=>{const V=X.negate();return D?V:X},K=D=>({windows:Math.ceil(N/D)+1,windowSize:2**(D-1)});return{constTimeNegate:$,unsafeLadder(D,X){let V=A.ZERO,Z=D;for(;X>O;)X&G&&(V=V.add(Z)),Z=Z.double(),X>>=G;return V},precomputeWindow(D,X){const{windows:V,windowSize:Z}=K(X),Q=[];let te=D,J=te;for(let q=0;q<V;q++){J=te,Q.push(J);for(let ne=1;ne<Z;ne++)J=J.add(te),Q.push(J);te=J.double()}return Q},wNAF(D,X,V){const{windows:Z,windowSize:Q}=K(D);let te=A.ZERO,J=A.BASE;const q=BigInt(2**D-1),ne=2**D,se=BigInt(D);for(let oe=0;oe<Z;oe++){const ue=oe*Q;let ae=Number(V&q);V>>=se,ae>Q&&(ae-=ne,V+=G);const ve=ue,_e=ue+Math.abs(ae)-1,P=ae<0;0===ae?J=J.add($(oe%2!=0,X[ve])):te=te.add($(P,X[_e]))}return{p:te,f:J}},wNAFCached(D,X,V,Z){const Q=D._WINDOW_SIZE||1;let te=X.get(D);return te||(te=this.precomputeWindow(D,Q),1!==Q&&X.set(D,Z(te))),this.wNAF(Q,te,V)}}},z.validateBasic=function B(A){return(0,p.validateField)(A.Fp),(0,S.validateObject)(A,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,p.nLength)(A.n,A.nBitLength),...A,p:A.Fp.ORDER})}},45068:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.twistedEdwards=void 0;const p=E(63834),S=E(84097),O=E(84097),G=E(25299),x=BigInt(0),B=BigInt(1),A=BigInt(2),N=BigInt(8),$={zip215:!0};z.twistedEdwards=function D(X){const V=function K(X){const V=(0,G.validateBasic)(X);return S.validateObject(X,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...V})}(X),{Fp:Z,n:Q,prehash:te,hash:J,randomBytes:q,nByteLength:ne,h:se}=V,oe=A<<BigInt(8*ne)-B,ue=Z.create,ae=V.uvRatio||((ge,Re)=>{try{return{isValid:!0,value:Z.sqrt(ge*Z.inv(Re))}}catch{return{isValid:!1,value:x}}}),ve=V.adjustScalarBytes||(ge=>ge),_e=V.domain||((ge,Re,me)=>{if(Re.length||me)throw new Error("Contexts/pre-hash are not supported");return ge}),De=ge=>"bigint"==typeof ge&&x<ge,P=(ge,Re)=>De(ge)&&De(Re)&&ge<Re,u=ge=>ge===x||P(ge,oe);function h(ge,Re){if(P(ge,Re))return ge;throw new Error(`Expected valid scalar < ${Re}, got ${typeof ge} ${ge}`)}function g(ge){return ge===x?ge:h(ge,Q)}const w=new Map;function T(ge){if(!(ge instanceof C))throw new Error("ExtendedPoint expected")}class C{constructor(Re,me,xe,le){if(this.ex=Re,this.ey=me,this.ez=xe,this.et=le,!u(Re))throw new Error("x required");if(!u(me))throw new Error("y required");if(!u(xe))throw new Error("z required");if(!u(le))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Re){if(Re instanceof C)throw new Error("extended point not allowed");const{x:me,y:xe}=Re||{};if(!u(me)||!u(xe))throw new Error("invalid affine point");return new C(me,xe,B,ue(me*xe))}static normalizeZ(Re){const me=Z.invertBatch(Re.map(xe=>xe.ez));return Re.map((xe,le)=>xe.toAffine(me[le])).map(C.fromAffine)}_setWindowSize(Re){this._WINDOW_SIZE=Re,w.delete(this)}assertValidity(){const{a:Re,d:me}=V;if(this.is0())throw new Error("bad point: ZERO");const{ex:xe,ey:le,ez:he,et:re}=this,de=ue(xe*xe),pe=ue(le*le),Se=ue(he*he),ke=ue(Se*Se),Fe=ue(de*Re);if(ue(Se*ue(Fe+pe))!==ue(ke+ue(me*ue(de*pe))))throw new Error("bad point: equation left != right (1)");if(ue(xe*le)!==ue(he*re))throw new Error("bad point: equation left != right (2)")}equals(Re){T(Re);const{ex:me,ey:xe,ez:le}=this,{ex:he,ey:re,ez:de}=Re,pe=ue(me*de),Se=ue(he*le),ke=ue(xe*de),Fe=ue(re*le);return pe===Se&&ke===Fe}is0(){return this.equals(C.ZERO)}negate(){return new C(ue(-this.ex),this.ey,this.ez,ue(-this.et))}double(){const{a:Re}=V,{ex:me,ey:xe,ez:le}=this,he=ue(me*me),re=ue(xe*xe),de=ue(A*ue(le*le)),pe=ue(Re*he),Se=me+xe,ke=ue(ue(Se*Se)-he-re),Fe=pe+re,We=Fe-de,Tt=pe-re,Xe=ue(ke*We),Ke=ue(Fe*Tt),lt=ue(ke*Tt),U=ue(We*Fe);return new C(Xe,Ke,U,lt)}add(Re){T(Re);const{a:me,d:xe}=V,{ex:le,ey:he,ez:re,et:de}=this,{ex:pe,ey:Se,ez:ke,et:Fe}=Re;if(me===BigInt(-1)){const Qe=ue((he-le)*(Se+pe)),kt=ue((he+le)*(Se-pe)),pt=ue(kt-Qe);if(pt===x)return this.double();const Et=ue(re*A*Fe),Lt=ue(de*A*ke),qt=Lt+Et,Kt=kt+Qe,er=Lt-Et,cn=ue(qt*pt),Ut=ue(Kt*er),Nt=ue(qt*er),dt=ue(pt*Kt);return new C(cn,Ut,dt,Nt)}const We=ue(le*pe),Tt=ue(he*Se),Xe=ue(de*xe*Fe),Ke=ue(re*ke),lt=ue((le+he)*(pe+Se)-We-Tt),U=Ke-Xe,_=Ke+Xe,m=ue(Tt-me*We),F=ue(lt*U),ie=ue(_*m),we=ue(lt*m),Ie=ue(U*_);return new C(F,ie,Ie,we)}subtract(Re){return this.add(Re.negate())}wNAF(Re){return d.wNAFCached(this,w,Re,C.normalizeZ)}multiply(Re){const{p:me,f:xe}=this.wNAF(h(Re,Q));return C.normalizeZ([me,xe])[0]}multiplyUnsafe(Re){let me=g(Re);return me===x?M:this.equals(M)||me===B?this:this.equals(j)?this.wNAF(me).p:d.unsafeLadder(this,me)}isSmallOrder(){return this.multiplyUnsafe(se).is0()}isTorsionFree(){return d.unsafeLadder(this,Q).is0()}toAffine(Re){const{ex:me,ey:xe,ez:le}=this,he=this.is0();null==Re&&(Re=he?N:Z.inv(le));const re=ue(me*Re),de=ue(xe*Re),pe=ue(le*Re);if(he)return{x,y:B};if(pe!==B)throw new Error("invZ was invalid");return{x:re,y:de}}clearCofactor(){const{h:Re}=V;return Re===B?this:this.multiplyUnsafe(Re)}static fromHex(Re,me=!1){const{d:xe,a:le}=V,he=Z.BYTES,re=(Re=(0,O.ensureBytes)("pointHex",Re,he)).slice(),de=Re[he-1];re[he-1]=-129&de;const pe=S.bytesToNumberLE(re);pe===x||h(pe,me?oe:Z.ORDER);const Se=ue(pe*pe),ke=ue(Se-B),Fe=ue(xe*Se-le);let{isValid:We,value:Tt}=ae(ke,Fe);if(!We)throw new Error("Point.fromHex: invalid y coordinate");const Xe=(Tt&B)===B,Ke=!!(128&de);if(!me&&Tt===x&&Ke)throw new Error("Point.fromHex: x=0 and x_0=1");return Ke!==Xe&&(Tt=ue(-Tt)),C.fromAffine({x:Tt,y:pe})}static fromPrivateKey(Re){return H(Re).point}toRawBytes(){const{x:Re,y:me}=this.toAffine(),xe=S.numberToBytesLE(me,Z.BYTES);return xe[xe.length-1]|=Re&B?128:0,xe}toHex(){return S.bytesToHex(this.toRawBytes())}}C.BASE=new C(V.Gx,V.Gy,B,ue(V.Gx*V.Gy)),C.ZERO=new C(x,B,B,x);const{BASE:j,ZERO:M}=C,d=(0,G.wNAF)(C,8*ne);function v(ge){return(0,p.mod)(ge,Q)}function W(ge){return v(S.bytesToNumberLE(ge))}function H(ge){const Re=ne;ge=(0,O.ensureBytes)("private key",ge,Re);const me=(0,O.ensureBytes)("hashed private key",J(ge),2*Re),xe=ve(me.slice(0,Re)),le=me.slice(Re,2*Re),he=W(xe),re=j.multiply(he),de=re.toRawBytes();return{head:xe,prefix:le,scalar:he,point:re,pointBytes:de}}function fe(ge=new Uint8Array,...Re){const me=S.concatBytes(...Re);return W(J(_e(me,(0,O.ensureBytes)("context",ge),!!te)))}const Pe=$;return j._setWindowSize(8),{CURVE:V,getPublicKey:function ee(ge){return H(ge).pointBytes},sign:function Ae(ge,Re,me={}){ge=(0,O.ensureBytes)("message",ge),te&&(ge=te(ge));const{prefix:xe,scalar:le,pointBytes:he}=H(Re),re=fe(me.context,xe,ge),de=j.multiply(re).toRawBytes(),Se=v(re+fe(me.context,de,he,ge)*le);g(Se);const ke=S.concatBytes(de,S.numberToBytesLE(Se,Z.BYTES));return(0,O.ensureBytes)("result",ke,2*ne)},verify:function Le(ge,Re,me,xe=Pe){const{context:le,zip215:he}=xe,re=Z.BYTES;ge=(0,O.ensureBytes)("signature",ge,2*re),Re=(0,O.ensureBytes)("message",Re),te&&(Re=te(Re));const de=S.bytesToNumberLE(ge.slice(re,2*re));let pe,Se,ke;try{pe=C.fromHex(me,he),Se=C.fromHex(ge.slice(0,re),he),ke=j.multiplyUnsafe(de)}catch{return!1}if(!he&&pe.isSmallOrder())return!1;const Fe=fe(le,Se.toRawBytes(),pe.toRawBytes(),Re);return Se.add(pe.multiplyUnsafe(Fe)).subtract(ke).clearCofactor().equals(C.ZERO)},ExtendedPoint:C,utils:{getExtendedPublicKey:H,randomPrivateKey:()=>q(Z.BYTES),precompute:(ge=8,Re=C.BASE)=>(Re._setWindowSize(ge),Re.multiply(BigInt(3)),Re)}}}},75752:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.createHasher=z.isogenyMap=z.hash_to_field=z.expand_message_xof=z.expand_message_xmd=void 0;const p=E(63834),S=E(84097),G=S.bytesToNumberBE;function x(Z,Q){if(Z<0||Z>=1<<8*Q)throw new Error(`bad I2OSP call: value=${Z} length=${Q}`);const te=Array.from({length:Q}).fill(0);for(let J=Q-1;J>=0;J--)te[J]=255&Z,Z>>>=8;return new Uint8Array(te)}function B(Z,Q){const te=new Uint8Array(Z.length);for(let J=0;J<Z.length;J++)te[J]=Z[J]^Q[J];return te}function A(Z){if(!(0,S.isBytes)(Z))throw new Error("Uint8Array expected")}function N(Z){if(!Number.isSafeInteger(Z))throw new Error("number expected")}function $(Z,Q,te,J){A(Z),A(Q),N(te),Q.length>255&&(Q=J((0,S.concatBytes)((0,S.utf8ToBytes)("H2C-OVERSIZE-DST-"),Q)));const{outputLen:q,blockLen:ne}=J,se=Math.ceil(te/q);if(se>255)throw new Error("Invalid xmd length");const oe=(0,S.concatBytes)(Q,x(Q.length,1)),ue=x(0,ne),ae=x(te,2),ve=new Array(se),_e=J((0,S.concatBytes)(ue,Z,ae,x(0,1),oe));ve[0]=J((0,S.concatBytes)(_e,x(1,1),oe));for(let P=1;P<=se;P++){const u=[B(_e,ve[P-1]),x(P+1,1),oe];ve[P]=J((0,S.concatBytes)(...u))}return(0,S.concatBytes)(...ve).slice(0,te)}function K(Z,Q,te,J,q){if(A(Z),A(Q),N(te),Q.length>255){const ne=Math.ceil(2*J/8);Q=q.create({dkLen:ne}).update((0,S.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(Q).digest()}if(te>65535||Q.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return q.create({dkLen:te}).update(Z).update(x(te,2)).update(Q).update(x(Q.length,1)).digest()}function D(Z,Q,te){(0,S.validateObject)(te,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:J,k:q,m:ne,hash:se,expand:oe,DST:ue}=te;A(Z),N(Q);const ae=function O(Z){if((0,S.isBytes)(Z))return Z;if("string"==typeof Z)return(0,S.utf8ToBytes)(Z);throw new Error("DST must be Uint8Array or string")}(ue),ve=J.toString(2).length,_e=Math.ceil((ve+q)/8),De=Q*ne*_e;let P;if("xmd"===oe)P=$(Z,ae,De,se);else if("xof"===oe)P=K(Z,ae,De,q,se);else{if("_internal_pass"!==oe)throw new Error('expand must be "xmd" or "xof"');P=Z}const u=new Array(Q);for(let h=0;h<Q;h++){const g=new Array(ne);for(let w=0;w<ne;w++){const T=_e*(w+h*ne),C=P.subarray(T,T+_e);g[w]=(0,p.mod)(G(C),J)}u[h]=g}return u}z.expand_message_xmd=$,z.expand_message_xof=K,z.hash_to_field=D,z.isogenyMap=function X(Z,Q){const te=Q.map(J=>Array.from(J).reverse());return(J,q)=>{const[ne,se,oe,ue]=te.map(ae=>ae.reduce((ve,_e)=>Z.add(Z.mul(ve,J),_e)));return J=Z.div(ne,se),q=Z.mul(q,Z.div(oe,ue)),{x:J,y:q}}},z.createHasher=function V(Z,Q,te){if("function"!=typeof Q)throw new Error("mapToCurve() must be defined");return{hashToCurve(J,q){const ne=D(J,2,{...te,DST:te.DST,...q}),se=Z.fromAffine(Q(ne[0])),oe=Z.fromAffine(Q(ne[1])),ue=se.add(oe).clearCofactor();return ue.assertValidity(),ue},encodeToCurve(J,q){const ne=D(J,1,{...te,DST:te.encodeDST,...q}),se=Z.fromAffine(Q(ne[0])).clearCofactor();return se.assertValidity(),se}}}},63834:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.mapHashToField=z.getMinHashLength=z.getFieldBytesLength=z.hashToPrivateScalar=z.FpSqrtEven=z.FpSqrtOdd=z.Field=z.nLength=z.FpIsSquare=z.FpDiv=z.FpInvertBatch=z.FpPow=z.validateField=z.isNegativeLE=z.FpSqrt=z.tonelliShanks=z.invert=z.pow2=z.pow=z.mod=void 0;const p=E(84097),S=BigInt(0),O=BigInt(1),G=BigInt(2),x=BigInt(3),B=BigInt(4),A=BigInt(5),N=BigInt(8);function D(T,C){const j=T%C;return j>=S?j:C+j}function X(T,C,j){if(j<=S||C<S)throw new Error("Expected power/modulo > 0");if(j===O)return S;let M=O;for(;C>S;)C&O&&(M=M*T%j),T=T*T%j,C>>=O;return M}function Z(T,C){if(T===S||C<=S)throw new Error(`invert: expected positive integers, got n=${T} mod=${C}`);let j=D(T,C),M=C,d=S,v=O,W=O,H=S;for(;j!==S;){const fe=M/j,Ae=M%j,Pe=d-W*fe,Le=v-H*fe;M=j,j=Ae,d=W,v=H,W=Pe,H=Le}if(M!==O)throw new Error("invert: does not exist");return D(d,C)}function Q(T){const C=(T-O)/G;let j,M,d;for(j=T-O,M=0;j%G===S;j/=G,M++);for(d=G;d<T&&X(d,C,T)!==T-O;d++);if(1===M){const W=(T+O)/B;return function(ee,fe){const Ae=ee.pow(fe,W);if(!ee.eql(ee.sqr(Ae),fe))throw new Error("Cannot find square root");return Ae}}const v=(j+O)/G;return function(H,ee){if(H.pow(ee,C)===H.neg(H.ONE))throw new Error("Cannot find square root");let fe=M,Ae=H.pow(H.mul(H.ONE,d),j),Pe=H.pow(ee,v),Le=H.pow(ee,j);for(;!H.eql(Le,H.ONE);){if(H.eql(Le,H.ZERO))return H.ZERO;let be=1;for(let Re=H.sqr(Le);be<fe&&!H.eql(Re,H.ONE);be++)Re=H.sqr(Re);const ge=H.pow(Ae,O<<BigInt(fe-be-1));Ae=H.sqr(ge),Pe=H.mul(Pe,ge),Le=H.mul(Le,Ae),fe=be}return Pe}}function te(T){if(T%B===x){const C=(T+O)/B;return function(M,d){const v=M.pow(d,C);if(!M.eql(M.sqr(v),d))throw new Error("Cannot find square root");return v}}if(T%N===A){const C=(T-A)/N;return function(M,d){const v=M.mul(d,G),W=M.pow(v,C),H=M.mul(d,W),ee=M.mul(M.mul(H,G),W),fe=M.mul(H,M.sub(ee,M.ONE));if(!M.eql(M.sqr(fe),d))throw new Error("Cannot find square root");return fe}}return Q(T)}BigInt(9),BigInt(16),z.mod=D,z.pow=X,z.pow2=function V(T,C,j){let M=T;for(;C-- >S;)M*=M,M%=j;return M},z.invert=Z,z.tonelliShanks=Q,z.FpSqrt=te,z.isNegativeLE=(T,C)=>(D(T,C)&O)===O;const q=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function se(T,C,j){if(j<S)throw new Error("Expected power > 0");if(j===S)return T.ONE;if(j===O)return C;let M=T.ONE,d=C;for(;j>S;)j&O&&(M=T.mul(M,d)),d=T.sqr(d),j>>=O;return M}function oe(T,C){const j=new Array(C.length),M=C.reduce((v,W,H)=>T.is0(W)?v:(j[H]=v,T.mul(v,W)),T.ONE),d=T.inv(M);return C.reduceRight((v,W,H)=>T.is0(W)?v:(j[H]=T.mul(v,j[H]),T.mul(v,W)),d),j}function ve(T,C){const j=void 0!==C?C:T.toString(2).length;return{nBitLength:j,nByteLength:Math.ceil(j/8)}}function h(T){if("bigint"!=typeof T)throw new Error("field order must be bigint");const C=T.toString(2).length;return Math.ceil(C/8)}function g(T){const C=h(T);return C+Math.ceil(C/2)}z.validateField=function ne(T){const j=q.reduce((M,d)=>(M[d]="function",M),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,p.validateObject)(T,j)},z.FpPow=se,z.FpInvertBatch=oe,z.FpDiv=function ue(T,C,j){return T.mul(C,"bigint"==typeof j?Z(j,T.ORDER):T.inv(j))},z.FpIsSquare=function ae(T){const C=(T.ORDER-O)/G;return j=>{const M=T.pow(j,C);return T.eql(M,T.ZERO)||T.eql(M,T.ONE)}},z.nLength=ve,z.Field=function _e(T,C,j=!1,M={}){if(T<=S)throw new Error(`Expected Field ORDER > 0, got ${T}`);const{nBitLength:d,nByteLength:v}=ve(T,C);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const W=te(T),H=Object.freeze({ORDER:T,BITS:d,BYTES:v,MASK:(0,p.bitMask)(d),ZERO:S,ONE:O,create:ee=>D(ee,T),isValid:ee=>{if("bigint"!=typeof ee)throw new Error("Invalid field element: expected bigint, got "+typeof ee);return S<=ee&&ee<T},is0:ee=>ee===S,isOdd:ee=>(ee&O)===O,neg:ee=>D(-ee,T),eql:(ee,fe)=>ee===fe,sqr:ee=>D(ee*ee,T),add:(ee,fe)=>D(ee+fe,T),sub:(ee,fe)=>D(ee-fe,T),mul:(ee,fe)=>D(ee*fe,T),pow:(ee,fe)=>se(H,ee,fe),div:(ee,fe)=>D(ee*Z(fe,T),T),sqrN:ee=>ee*ee,addN:(ee,fe)=>ee+fe,subN:(ee,fe)=>ee-fe,mulN:(ee,fe)=>ee*fe,inv:ee=>Z(ee,T),sqrt:M.sqrt||(ee=>W(H,ee)),invertBatch:ee=>oe(H,ee),cmov:(ee,fe,Ae)=>Ae?fe:ee,toBytes:ee=>j?(0,p.numberToBytesLE)(ee,v):(0,p.numberToBytesBE)(ee,v),fromBytes:ee=>{if(ee.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${ee.length}`);return j?(0,p.bytesToNumberLE)(ee):(0,p.bytesToNumberBE)(ee)}});return Object.freeze(H)},z.FpSqrtOdd=function De(T,C){if(!T.isOdd)throw new Error("Field doesn't have isOdd");const j=T.sqrt(C);return T.isOdd(j)?j:T.neg(j)},z.FpSqrtEven=function P(T,C){if(!T.isOdd)throw new Error("Field doesn't have isOdd");const j=T.sqrt(C);return T.isOdd(j)?T.neg(j):j},z.hashToPrivateScalar=function u(T,C,j=!1){const M=(T=(0,p.ensureBytes)("privateHash",T)).length,d=ve(C).nByteLength+8;if(d<24||M<d||M>1024)throw new Error(`hashToPrivateScalar: expected ${d}-1024 bytes of input, got ${M}`);return D(j?(0,p.bytesToNumberLE)(T):(0,p.bytesToNumberBE)(T),C-O)+O},z.getFieldBytesLength=h,z.getMinHashLength=g,z.mapHashToField=function w(T,C,j=!1){const M=T.length,d=h(C),v=g(C);if(M<16||M<v||M>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${M}`);const H=D(j?(0,p.bytesToNumberBE)(T):(0,p.bytesToNumberLE)(T),C-O)+O;return j?(0,p.numberToBytesLE)(H,d):(0,p.numberToBytesBE)(H,d)}},27661:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.montgomery=void 0;const p=E(63834),S=E(84097),O=BigInt(0),G=BigInt(1);z.montgomery=function B(A){const N=function x(A){return(0,S.validateObject)(A,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...A})}(A),{P:$}=N,K=De=>(0,p.mod)(De,$),D=N.montgomeryBits,X=Math.ceil(D/8),V=N.nByteLength,Z=N.adjustScalarBytes||(De=>De),Q=N.powPminus2||(De=>(0,p.pow)(De,$-BigInt(2),$));function te(De,P,u){const h=K(De*(P-u));return[P=K(P-h),u=K(u+h)]}function J(De){if("bigint"==typeof De&&O<=De&&De<$)return De;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const q=(N.a-BigInt(2))/BigInt(4);function se(De){return(0,S.numberToBytesLE)(K(De),X)}function ae(De,P){const u=function oe(De){const P=(0,S.ensureBytes)("u coordinate",De,X);return 32===V&&(P[31]&=127),(0,S.bytesToNumberLE)(P)}(P),h=function ue(De){const P=(0,S.ensureBytes)("scalar",De),u=P.length;if(u!==X&&u!==V)throw new Error(`Expected ${X} or ${V} bytes, got ${u}`);return(0,S.bytesToNumberLE)(Z(P))}(De),g=function ne(De,P){const u=J(De),h=J(P),g=u;let d,w=G,T=O,C=u,j=G,M=O;for(let W=BigInt(D-1);W>=O;W--){const H=h>>W&G;M^=H,d=te(M,w,C),w=d[0],C=d[1],d=te(M,T,j),T=d[0],j=d[1],M=H;const ee=w+T,fe=K(ee*ee),Ae=w-T,Pe=K(Ae*Ae),Le=fe-Pe,be=C+j,Re=K((C-j)*ee),me=K(be*Ae),xe=Re+me,le=Re-me;C=K(xe*xe),j=K(g*K(le*le)),w=K(fe*Pe),T=K(Le*(fe+K(q*Le)))}d=te(M,w,C),w=d[0],C=d[1],d=te(M,T,j),T=d[0],j=d[1];const v=Q(T);return K(w*v)}(u,h);if(g===O)throw new Error("Invalid private or public key received");return se(g)}const ve=se(N.Gu);function _e(De){return ae(De,ve)}return{scalarMult:ae,scalarMultBase:_e,getSharedSecret:(De,P)=>ae(De,P),getPublicKey:De=>_e(De),utils:{randomPrivateKey:()=>N.randomBytes(N.nByteLength)},GuBytes:ve}}},84097:(Be,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateObject=z.createHmacDrbg=z.bitMask=z.bitSet=z.bitGet=z.bitLen=z.utf8ToBytes=z.equalBytes=z.concatBytes=z.ensureBytes=z.numberToVarBytesBE=z.numberToBytesLE=z.numberToBytesBE=z.bytesToNumberLE=z.bytesToNumberBE=z.hexToBytes=z.hexToNumber=z.numberToHexUnpadded=z.bytesToHex=z.isBytes=void 0;const E=BigInt(0),p=BigInt(1),S=BigInt(2);function O(h){return h instanceof Uint8Array||null!=h&&"object"==typeof h&&"Uint8Array"===h.constructor.name}z.isBytes=O;const G=Array.from({length:256},(h,g)=>g.toString(16).padStart(2,"0"));function x(h){if(!O(h))throw new Error("Uint8Array expected");let g="";for(let w=0;w<h.length;w++)g+=G[h[w]];return g}function B(h){const g=h.toString(16);return 1&g.length?`0${g}`:g}function A(h){if("string"!=typeof h)throw new Error("hex string expected, got "+typeof h);return BigInt(""===h?"0":`0x${h}`)}z.bytesToHex=x,z.numberToHexUnpadded=B,z.hexToNumber=A;const N={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function $(h){return h>=N._0&&h<=N._9?h-N._0:h>=N._A&&h<=N._F?h-(N._A-10):h>=N._a&&h<=N._f?h-(N._a-10):void 0}function K(h){if("string"!=typeof h)throw new Error("hex string expected, got "+typeof h);const g=h.length,w=g/2;if(g%2)throw new Error("padded hex string expected, got unpadded hex of length "+g);const T=new Uint8Array(w);for(let C=0,j=0;C<w;C++,j+=2){const M=$(h.charCodeAt(j)),d=$(h.charCodeAt(j+1));if(void 0===M||void 0===d)throw new Error('hex string expected, got non-hex character "'+(h[j]+h[j+1])+'" at index '+j);T[C]=16*M+d}return T}function V(h,g){return K(h.toString(16).padStart(2*g,"0"))}function J(...h){let g=0;for(let C=0;C<h.length;C++){const j=h[C];if(!O(j))throw new Error("Uint8Array expected");g+=j.length}let w=new Uint8Array(g),T=0;for(let C=0;C<h.length;C++){const j=h[C];w.set(j,T),T+=j.length}return w}z.hexToBytes=K,z.bytesToNumberBE=function D(h){return A(x(h))},z.bytesToNumberLE=function X(h){if(!O(h))throw new Error("Uint8Array expected");return A(x(Uint8Array.from(h).reverse()))},z.numberToBytesBE=V,z.numberToBytesLE=function Z(h,g){return V(h,g).reverse()},z.numberToVarBytesBE=function Q(h){return K(B(h))},z.ensureBytes=function te(h,g,w){let T;if("string"==typeof g)try{T=K(g)}catch(j){throw new Error(`${h} must be valid hex string, got "${g}". Cause: ${j}`)}else{if(!O(g))throw new Error(`${h} must be hex string or Uint8Array`);T=Uint8Array.from(g)}const C=T.length;if("number"==typeof w&&C!==w)throw new Error(`${h} expected ${w} bytes, got ${C}`);return T},z.concatBytes=J,z.equalBytes=function q(h,g){if(h.length!==g.length)return!1;let w=0;for(let T=0;T<h.length;T++)w|=h[T]^g[T];return 0===w},z.utf8ToBytes=function ne(h){if("string"!=typeof h)throw new Error("utf8ToBytes expected string, got "+typeof h);return new Uint8Array((new TextEncoder).encode(h))},z.bitLen=function se(h){let g;for(g=0;h>E;h>>=p,g+=1);return g},z.bitGet=function oe(h,g){return h>>BigInt(g)&p},z.bitSet=(h,g,w)=>h|(w?p:E)<<BigInt(g),z.bitMask=h=>(S<<BigInt(h-1))-p;const ve=h=>new Uint8Array(h),_e=h=>Uint8Array.from(h);z.createHmacDrbg=function De(h,g,w){if("number"!=typeof h||h<2)throw new Error("hashLen must be a number");if("number"!=typeof g||g<2)throw new Error("qByteLen must be a number");if("function"!=typeof w)throw new Error("hmacFn must be a function");let T=ve(h),C=ve(h),j=0;const M=()=>{T.fill(1),C.fill(0),j=0},d=(...ee)=>w(C,T,...ee),v=(ee=ve())=>{C=d(_e([0]),ee),T=d(),0!==ee.length&&(C=d(_e([1]),ee),T=d())},W=()=>{if(j++>=1e3)throw new Error("drbg: tried 1000 values");let ee=0;const fe=[];for(;ee<g;){T=d();const Ae=T.slice();fe.push(Ae),ee+=T.length}return J(...fe)};return(ee,fe)=>{let Ae;for(M(),v(ee);!(Ae=fe(W()));)v();return M(),Ae}};const P={bigint:h=>"bigint"==typeof h,function:h=>"function"==typeof h,boolean:h=>"boolean"==typeof h,string:h=>"string"==typeof h,stringOrUint8Array:h=>"string"==typeof h||O(h),isSafeInteger:h=>Number.isSafeInteger(h),array:h=>Array.isArray(h),field:(h,g)=>g.Fp.isValid(h),hash:h=>"function"==typeof h&&Number.isSafeInteger(h.outputLen)};z.validateObject=function u(h,g,w={}){const T=(C,j,M)=>{const d=P[j];if("function"!=typeof d)throw new Error(`Invalid validator "${j}", expected function`);const v=h[C];if(!(M&&void 0===v||d(v,h)))throw new Error(`Invalid param ${String(C)}=${v} (${typeof v}), expected ${j}`)};for(const[C,j]of Object.entries(g))T(C,j,!1);for(const[C,j]of Object.entries(w))T(C,j,!0);return h}},73040:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.mapToCurveSimpleSWU=z.SWUFpSqrtRatio=z.weierstrass=z.weierstrassPoints=z.DER=void 0;const p=E(63834),S=E(84097),O=E(84097),G=E(25299),{bytesToNumberBE:B,hexToBytes:A}=S;z.DER={Err:class extends Error{constructor(ne=""){super(ne)}},_parseInt(q){const{Err:ne}=z.DER;if(q.length<2||2!==q[0])throw new ne("Invalid signature integer tag");const se=q[1],oe=q.subarray(2,se+2);if(!se||oe.length!==se)throw new ne("Invalid signature integer: wrong length");if(128&oe[0])throw new ne("Invalid signature integer: negative");if(0===oe[0]&&!(128&oe[1]))throw new ne("Invalid signature integer: unnecessary leading zero");return{d:B(oe),l:q.subarray(se+2)}},toSig(q){const{Err:ne}=z.DER,se="string"==typeof q?A(q):q;if(!S.isBytes(se))throw new Error("ui8a expected");let oe=se.length;if(oe<2||48!=se[0])throw new ne("Invalid signature tag");if(se[1]!==oe-2)throw new ne("Invalid signature: incorrect length");const{d:ue,l:ae}=z.DER._parseInt(se.subarray(2)),{d:ve,l:_e}=z.DER._parseInt(ae);if(_e.length)throw new ne("Invalid signature: left bytes after parsing");return{r:ue,s:ve}},hexFromSig(q){const ne=P=>8&Number.parseInt(P[0],16)?"00"+P:P,se=P=>{const u=P.toString(16);return 1&u.length?`0${u}`:u},oe=ne(se(q.s)),ue=ne(se(q.r)),ae=oe.length/2,ve=ue.length/2,_e=se(ae),De=se(ve);return`30${se(ve+ae+4)}02${De}${ue}02${_e}${oe}`}};const N=BigInt(0),$=BigInt(1),K=BigInt(2),D=BigInt(3),X=BigInt(4);function V(q){const ne=function x(q){const ne=(0,G.validateBasic)(q);S.validateObject(ne,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:se,Fp:oe,a:ue}=ne;if(se){if(!oe.eql(ue,oe.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof se||"bigint"!=typeof se.beta||"function"!=typeof se.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...ne})}(q),{Fp:se}=ne,oe=ne.toBytes||((T,C,j)=>{const M=C.toAffine();return S.concatBytes(Uint8Array.from([4]),se.toBytes(M.x),se.toBytes(M.y))}),ue=ne.fromBytes||(T=>{const C=T.subarray(1);return{x:se.fromBytes(C.subarray(0,se.BYTES)),y:se.fromBytes(C.subarray(se.BYTES,2*se.BYTES))}});function ae(T){const{a:C,b:j}=ne,M=se.sqr(T),d=se.mul(M,T);return se.add(se.add(d,se.mul(T,C)),j)}if(!se.eql(se.sqr(ne.Gy),ae(ne.Gx)))throw new Error("bad generator point: equation left != right");function ve(T){return"bigint"==typeof T&&N<T&&T<ne.n}function _e(T){if(!ve(T))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function De(T){const{allowedPrivateKeyLengths:C,nByteLength:j,wrapPrivateKey:M,n:d}=ne;if(C&&"bigint"!=typeof T){if(S.isBytes(T)&&(T=S.bytesToHex(T)),"string"!=typeof T||!C.includes(T.length))throw new Error("Invalid key");T=T.padStart(2*j,"0")}let v;try{v="bigint"==typeof T?T:S.bytesToNumberBE((0,O.ensureBytes)("private key",T,j))}catch{throw new Error(`private key must be ${j} bytes, hex or bigint, not ${typeof T}`)}return M&&(v=p.mod(v,d)),_e(v),v}const P=new Map;function u(T){if(!(T instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(C,j,M){if(this.px=C,this.py=j,this.pz=M,null==C||!se.isValid(C))throw new Error("x required");if(null==j||!se.isValid(j))throw new Error("y required");if(null==M||!se.isValid(M))throw new Error("z required")}static fromAffine(C){const{x:j,y:M}=C||{};if(!C||!se.isValid(j)||!se.isValid(M))throw new Error("invalid affine point");if(C instanceof h)throw new Error("projective point not allowed");const d=v=>se.eql(v,se.ZERO);return d(j)&&d(M)?h.ZERO:new h(j,M,se.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){const j=se.invertBatch(C.map(M=>M.pz));return C.map((M,d)=>M.toAffine(j[d])).map(h.fromAffine)}static fromHex(C){const j=h.fromAffine(ue((0,O.ensureBytes)("pointHex",C)));return j.assertValidity(),j}static fromPrivateKey(C){return h.BASE.multiply(De(C))}_setWindowSize(C){this._WINDOW_SIZE=C,P.delete(this)}assertValidity(){if(this.is0()){if(ne.allowInfinityPoint&&!se.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:C,y:j}=this.toAffine();if(!se.isValid(C)||!se.isValid(j))throw new Error("bad point: x or y not FE");const M=se.sqr(j),d=ae(C);if(!se.eql(M,d))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:C}=this.toAffine();if(se.isOdd)return!se.isOdd(C);throw new Error("Field doesn't support isOdd")}equals(C){u(C);const{px:j,py:M,pz:d}=this,{px:v,py:W,pz:H}=C,ee=se.eql(se.mul(j,H),se.mul(v,d)),fe=se.eql(se.mul(M,H),se.mul(W,d));return ee&&fe}negate(){return new h(this.px,se.neg(this.py),this.pz)}double(){const{a:C,b:j}=ne,M=se.mul(j,D),{px:d,py:v,pz:W}=this;let H=se.ZERO,ee=se.ZERO,fe=se.ZERO,Ae=se.mul(d,d),Pe=se.mul(v,v),Le=se.mul(W,W),be=se.mul(d,v);return be=se.add(be,be),fe=se.mul(d,W),fe=se.add(fe,fe),H=se.mul(C,fe),ee=se.mul(M,Le),ee=se.add(H,ee),H=se.sub(Pe,ee),ee=se.add(Pe,ee),ee=se.mul(H,ee),H=se.mul(be,H),fe=se.mul(M,fe),Le=se.mul(C,Le),be=se.sub(Ae,Le),be=se.mul(C,be),be=se.add(be,fe),fe=se.add(Ae,Ae),Ae=se.add(fe,Ae),Ae=se.add(Ae,Le),Ae=se.mul(Ae,be),ee=se.add(ee,Ae),Le=se.mul(v,W),Le=se.add(Le,Le),Ae=se.mul(Le,be),H=se.sub(H,Ae),fe=se.mul(Le,Pe),fe=se.add(fe,fe),fe=se.add(fe,fe),new h(H,ee,fe)}add(C){u(C);const{px:j,py:M,pz:d}=this,{px:v,py:W,pz:H}=C;let ee=se.ZERO,fe=se.ZERO,Ae=se.ZERO;const Pe=ne.a,Le=se.mul(ne.b,D);let be=se.mul(j,v),ge=se.mul(M,W),Re=se.mul(d,H),me=se.add(j,M),xe=se.add(v,W);me=se.mul(me,xe),xe=se.add(be,ge),me=se.sub(me,xe),xe=se.add(j,d);let le=se.add(v,H);return xe=se.mul(xe,le),le=se.add(be,Re),xe=se.sub(xe,le),le=se.add(M,d),ee=se.add(W,H),le=se.mul(le,ee),ee=se.add(ge,Re),le=se.sub(le,ee),Ae=se.mul(Pe,xe),ee=se.mul(Le,Re),Ae=se.add(ee,Ae),ee=se.sub(ge,Ae),Ae=se.add(ge,Ae),fe=se.mul(ee,Ae),ge=se.add(be,be),ge=se.add(ge,be),Re=se.mul(Pe,Re),xe=se.mul(Le,xe),ge=se.add(ge,Re),Re=se.sub(be,Re),Re=se.mul(Pe,Re),xe=se.add(xe,Re),be=se.mul(ge,xe),fe=se.add(fe,be),be=se.mul(le,xe),ee=se.mul(me,ee),ee=se.sub(ee,be),be=se.mul(me,ge),Ae=se.mul(le,Ae),Ae=se.add(Ae,be),new h(ee,fe,Ae)}subtract(C){return this.add(C.negate())}is0(){return this.equals(h.ZERO)}wNAF(C){return w.wNAFCached(this,P,C,j=>{const M=se.invertBatch(j.map(d=>d.pz));return j.map((d,v)=>d.toAffine(M[v])).map(h.fromAffine)})}multiplyUnsafe(C){const j=h.ZERO;if(C===N)return j;if(_e(C),C===$)return this;const{endo:M}=ne;if(!M)return w.unsafeLadder(this,C);let{k1neg:d,k1:v,k2neg:W,k2:H}=M.splitScalar(C),ee=j,fe=j,Ae=this;for(;v>N||H>N;)v&$&&(ee=ee.add(Ae)),H&$&&(fe=fe.add(Ae)),Ae=Ae.double(),v>>=$,H>>=$;return d&&(ee=ee.negate()),W&&(fe=fe.negate()),fe=new h(se.mul(fe.px,M.beta),fe.py,fe.pz),ee.add(fe)}multiply(C){_e(C);let M,d,j=C;const{endo:v}=ne;if(v){const{k1neg:W,k1:H,k2neg:ee,k2:fe}=v.splitScalar(j);let{p:Ae,f:Pe}=this.wNAF(H),{p:Le,f:be}=this.wNAF(fe);Ae=w.constTimeNegate(W,Ae),Le=w.constTimeNegate(ee,Le),Le=new h(se.mul(Le.px,v.beta),Le.py,Le.pz),M=Ae.add(Le),d=Pe.add(be)}else{const{p:W,f:H}=this.wNAF(j);M=W,d=H}return h.normalizeZ([M,d])[0]}multiplyAndAddUnsafe(C,j,M){const d=h.BASE,v=(H,ee)=>ee!==N&&ee!==$&&H.equals(d)?H.multiply(ee):H.multiplyUnsafe(ee),W=v(this,j).add(v(C,M));return W.is0()?void 0:W}toAffine(C){const{px:j,py:M,pz:d}=this,v=this.is0();null==C&&(C=v?se.ONE:se.inv(d));const W=se.mul(j,C),H=se.mul(M,C),ee=se.mul(d,C);if(v)return{x:se.ZERO,y:se.ZERO};if(!se.eql(ee,se.ONE))throw new Error("invZ was invalid");return{x:W,y:H}}isTorsionFree(){const{h:C,isTorsionFree:j}=ne;if(C===$)return!0;if(j)return j(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:C,clearCofactor:j}=ne;return C===$?this:j?j(h,this):this.multiplyUnsafe(ne.h)}toRawBytes(C=!0){return this.assertValidity(),oe(h,this,C)}toHex(C=!0){return S.bytesToHex(this.toRawBytes(C))}}h.BASE=new h(ne.Gx,ne.Gy,se.ONE),h.ZERO=new h(se.ZERO,se.ONE,se.ZERO);const g=ne.nBitLength,w=(0,G.wNAF)(h,ne.endo?Math.ceil(g/2):g);return{CURVE:ne,ProjectivePoint:h,normPrivateKeyToScalar:De,weierstrassEquation:ae,isWithinCurveOrder:ve}}function te(q,ne){const se=q.ORDER;let oe=N;for(let T=se-$;T%K===N;T/=K)oe+=$;const ue=oe,ae=K<<ue-$-$,ve=ae*K,_e=(se-$)/ve,De=(_e-$)/K,P=ve-$,u=ae,h=q.pow(ne,_e),g=q.pow(ne,(_e+$)/K);let w=(T,C)=>{let j=h,M=q.pow(C,P),d=q.sqr(M);d=q.mul(d,C);let v=q.mul(T,d);v=q.pow(v,De),v=q.mul(v,M),M=q.mul(v,C),d=q.mul(v,T);let W=q.mul(d,M);v=q.pow(W,u);let H=q.eql(v,q.ONE);M=q.mul(d,g),v=q.mul(W,j),d=q.cmov(M,d,H),W=q.cmov(v,W,H);for(let ee=ue;ee>$;ee--){let fe=ee-K;fe=K<<fe-$;let Ae=q.pow(W,fe);const Pe=q.eql(Ae,q.ONE);M=q.mul(d,j),j=q.mul(j,j),Ae=q.mul(W,j),d=q.cmov(M,d,Pe),W=q.cmov(Ae,W,Pe)}return{isValid:H,value:d}};if(q.ORDER%X===D){const T=(q.ORDER-D)/X,C=q.sqrt(q.neg(ne));w=(j,M)=>{let d=q.sqr(M);const v=q.mul(j,M);d=q.mul(d,v);let W=q.pow(d,T);W=q.mul(W,v);const H=q.mul(W,C),ee=q.mul(q.sqr(W),M),fe=q.eql(ee,j);return{isValid:fe,value:q.cmov(H,W,fe)}}}return w}z.weierstrassPoints=V,z.weierstrass=function Q(q){const ne=function Z(q){const ne=(0,G.validateBasic)(q);return S.validateObject(ne,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...ne})}(q),{Fp:se,n:oe}=ne,ue=se.BYTES+1,ae=2*se.BYTES+1;function _e(xe){return p.mod(xe,oe)}function De(xe){return p.invert(xe,oe)}const{ProjectivePoint:P,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:g}=V({...ne,toBytes(xe,le,he){const re=le.toAffine(),de=se.toBytes(re.x),pe=S.concatBytes;return he?pe(Uint8Array.from([le.hasEvenY()?2:3]),de):pe(Uint8Array.from([4]),de,se.toBytes(re.y))},fromBytes(xe){const le=xe.length,he=xe[0],re=xe.subarray(1);if(le!==ue||2!==he&&3!==he){if(le===ae&&4===he)return{x:se.fromBytes(re.subarray(0,se.BYTES)),y:se.fromBytes(re.subarray(se.BYTES,2*se.BYTES))};throw new Error(`Point of length ${le} was invalid. Expected ${ue} compressed bytes or ${ae} uncompressed bytes`)}{const de=S.bytesToNumberBE(re);if(!function ve(xe){return N<xe&&xe<se.ORDER}(de))throw new Error("Point is not on curve");const pe=h(de);let Se=se.sqrt(pe);return!(1&~he)!=((Se&$)===$)&&(Se=se.neg(Se)),{x:de,y:Se}}}}),w=xe=>S.bytesToHex(S.numberToBytesBE(xe,ne.nByteLength));function T(xe){return xe>oe>>$}const j=(xe,le,he)=>S.bytesToNumberBE(xe.slice(le,he));class M{constructor(le,he,re){this.r=le,this.s=he,this.recovery=re,this.assertValidity()}static fromCompact(le){const he=ne.nByteLength;return le=(0,O.ensureBytes)("compactSignature",le,2*he),new M(j(le,0,he),j(le,he,2*he))}static fromDER(le){const{r:he,s:re}=z.DER.toSig((0,O.ensureBytes)("DER",le));return new M(he,re)}assertValidity(){if(!g(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!g(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(le){return new M(this.r,this.s,le)}recoverPublicKey(le){const{r:he,s:re,recovery:de}=this,pe=fe((0,O.ensureBytes)("msgHash",le));if(null==de||![0,1,2,3].includes(de))throw new Error("recovery id invalid");const Se=2===de||3===de?he+ne.n:he;if(Se>=se.ORDER)throw new Error("recovery id 2 or 3 invalid");const Fe=P.fromHex((1&de?"03":"02")+w(Se)),We=De(Se),Tt=_e(-pe*We),Xe=_e(re*We),Ke=P.BASE.multiplyAndAddUnsafe(Fe,Tt,Xe);if(!Ke)throw new Error("point at infinify");return Ke.assertValidity(),Ke}hasHighS(){return T(this.s)}normalizeS(){return this.hasHighS()?new M(this.r,_e(-this.s),this.recovery):this}toDERRawBytes(){return S.hexToBytes(this.toDERHex())}toDERHex(){return z.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return S.hexToBytes(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const d={isValidPrivateKey(xe){try{return u(xe),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const xe=p.getMinHashLength(ne.n);return p.mapHashToField(ne.randomBytes(xe),ne.n)},precompute:(xe=8,le=P.BASE)=>(le._setWindowSize(xe),le.multiply(BigInt(3)),le)};function W(xe){const le=S.isBytes(xe),he="string"==typeof xe,re=(le||he)&&xe.length;return le?re===ue||re===ae:he?re===2*ue||re===2*ae:xe instanceof P}const ee=ne.bits2int||function(xe){const le=S.bytesToNumberBE(xe),he=8*xe.length-ne.nBitLength;return he>0?le>>BigInt(he):le},fe=ne.bits2int_modN||function(xe){return _e(ee(xe))},Ae=S.bitMask(ne.nBitLength);function Pe(xe){if("bigint"!=typeof xe)throw new Error("bigint expected");if(!(N<=xe&&xe<Ae))throw new Error(`bigint expected < 2^${ne.nBitLength}`);return S.numberToBytesBE(xe,ne.nByteLength)}const be={lowS:ne.lowS,prehash:!1},ge={lowS:ne.lowS,prehash:!1};return P.BASE._setWindowSize(8),{CURVE:ne,getPublicKey:function v(xe,le=!0){return P.fromPrivateKey(xe).toRawBytes(le)},getSharedSecret:function H(xe,le,he=!0){if(W(xe))throw new Error("first arg must be private key");if(!W(le))throw new Error("second arg must be public key");return P.fromHex(le).multiply(u(xe)).toRawBytes(he)},sign:function Re(xe,le,he=be){const{seed:re,k2sig:de}=function Le(xe,le,he=be){if(["recovered","canonical"].some(U=>U in he))throw new Error("sign() legacy options not supported");const{hash:re,randomBytes:de}=ne;let{lowS:pe,prehash:Se,extraEntropy:ke}=he;null==pe&&(pe=!0),xe=(0,O.ensureBytes)("msgHash",xe),Se&&(xe=(0,O.ensureBytes)("prehashed msgHash",re(xe)));const Fe=fe(xe),We=u(le),Tt=[Pe(We),Pe(Fe)];if(null!=ke){const U=!0===ke?de(se.BYTES):ke;Tt.push((0,O.ensureBytes)("extraEntropy",U))}const Xe=S.concatBytes(...Tt),Ke=Fe;return{seed:Xe,k2sig:function lt(U){const _=ee(U);if(!g(_))return;const m=De(_),F=P.BASE.multiply(_).toAffine(),ie=_e(F.x);if(ie===N)return;const we=_e(m*_e(Ke+ie*We));if(we===N)return;let Ie=(F.x===ie?0:2)|Number(F.y&$),Qe=we;return pe&&T(we)&&(Qe=function C(xe){return T(xe)?_e(-xe):xe}(we),Ie^=1),new M(ie,Qe,Ie)}}}(xe,le,he);return S.createHmacDrbg(ne.hash.outputLen,ne.nByteLength,ne.hmac)(re,de)},verify:function me(xe,le,he,re=ge){const de=xe;if(le=(0,O.ensureBytes)("msgHash",le),he=(0,O.ensureBytes)("publicKey",he),"strict"in re)throw new Error("options.strict was renamed to lowS");const{lowS:pe,prehash:Se}=re;let ke,Fe;try{if("string"==typeof de||S.isBytes(de))try{ke=M.fromDER(de)}catch(F){if(!(F instanceof z.DER.Err))throw F;ke=M.fromCompact(de)}else{if("object"!=typeof de||"bigint"!=typeof de.r||"bigint"!=typeof de.s)throw new Error("PARSE");{const{r:F,s:ie}=de;ke=new M(F,ie)}}Fe=P.fromHex(he)}catch(F){if("PARSE"===F.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(pe&&ke.hasHighS())return!1;Se&&(le=ne.hash(le));const{r:We,s:Tt}=ke,Xe=fe(le),Ke=De(Tt),lt=_e(Xe*Ke),U=_e(We*Ke),_=P.BASE.multiplyAndAddUnsafe(Fe,lt,U)?.toAffine();return!!_&&_e(_.x)===We},ProjectivePoint:P,Signature:M,utils:d}},z.SWUFpSqrtRatio=te,z.mapToCurveSimpleSWU=function J(q,ne){if(p.validateField(q),!q.isValid(ne.A)||!q.isValid(ne.B)||!q.isValid(ne.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const se=te(q,ne.Z);if(!q.isOdd)throw new Error("Fp.isOdd is not implemented!");return oe=>{let ue,ae,ve,_e,De,P,u,h;ue=q.sqr(oe),ue=q.mul(ue,ne.Z),ae=q.sqr(ue),ae=q.add(ae,ue),ve=q.add(ae,q.ONE),ve=q.mul(ve,ne.B),_e=q.cmov(ne.Z,q.neg(ae),!q.eql(ae,q.ZERO)),_e=q.mul(_e,ne.A),ae=q.sqr(ve),P=q.sqr(_e),De=q.mul(P,ne.A),ae=q.add(ae,De),ae=q.mul(ae,ve),P=q.mul(P,_e),De=q.mul(P,ne.B),ae=q.add(ae,De),u=q.mul(ue,ve);const{isValid:g,value:w}=se(ae,P);h=q.mul(ue,oe),h=q.mul(h,w),u=q.cmov(u,ve,g),h=q.cmov(h,w,g);const T=q.isOdd(oe)===q.isOdd(h);return h=q.cmov(q.neg(h),h,T),u=q.div(u,_e),{x:u,y:h}}}},57340:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.hash_to_ristretto255=z.hashToRistretto255=z.RistrettoPoint=z.encodeToCurve=z.hashToCurve=z.edwardsToMontgomeryPriv=z.edwardsToMontgomery=z.edwardsToMontgomeryPub=z.x25519=z.ed25519ph=z.ed25519ctx=z.ed25519=z.ED25519_TORSION_SUBGROUP=void 0;const p=E(44207),S=E(96492),O=E(45068),G=E(27661),x=E(63834),B=E(84097),A=E(75752),N=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),$=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),K=BigInt(0),D=BigInt(1),X=BigInt(2),V=BigInt(5),Z=BigInt(10),Q=BigInt(20),te=BigInt(40),J=BigInt(80);function q(Re){const me=N,le=Re*Re%me*Re%me,he=(0,x.pow2)(le,X,me)*le%me,re=(0,x.pow2)(he,D,me)*Re%me,de=(0,x.pow2)(re,V,me)*re%me,pe=(0,x.pow2)(de,Z,me)*de%me,Se=(0,x.pow2)(pe,Q,me)*pe%me,ke=(0,x.pow2)(Se,te,me)*Se%me,Fe=(0,x.pow2)(ke,J,me)*ke%me,We=(0,x.pow2)(Fe,J,me)*ke%me,Tt=(0,x.pow2)(We,Z,me)*de%me;return{pow_p_5_8:(0,x.pow2)(Tt,X,me)*Re%me,b2:le}}function ne(Re){return Re[0]&=248,Re[31]&=127,Re[31]|=64,Re}function se(Re,me){const xe=N,le=(0,x.mod)(me*me*me,xe),re=q(Re*(0,x.mod)(le*le*me,xe)).pow_p_5_8;let de=(0,x.mod)(Re*le*re,xe);const pe=(0,x.mod)(me*de*de,xe),Se=de,ke=(0,x.mod)(de*$,xe),Fe=pe===Re,We=pe===(0,x.mod)(-Re,xe),Tt=pe===(0,x.mod)(-Re*$,xe);return Fe&&(de=Se),(We||Tt)&&(de=ke),(0,x.isNegativeLE)(de,xe)&&(de=(0,x.mod)(-de,xe)),{isValid:Fe||We,value:de}}z.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const oe=(0,x.Field)(N,void 0,!0),ue={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:oe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:p.sha512,randomBytes:S.randomBytes,adjustScalarBytes:ne,uvRatio:se};function ae(Re,me,xe){if(me.length>255)throw new Error("Context is too big");return(0,S.concatBytes)((0,S.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([xe?1:0,me.length]),me,Re)}function ve(Re){const{y:me}=z.ed25519.ExtendedPoint.fromHex(Re),xe=BigInt(1);return oe.toBytes(oe.create((xe+me)*oe.inv(xe-me)))}z.ed25519=(0,O.twistedEdwards)(ue),z.ed25519ctx=(0,O.twistedEdwards)({...ue,domain:ae}),z.ed25519ph=(0,O.twistedEdwards)({...ue,domain:ae,prehash:p.sha512}),z.x25519=(0,G.montgomery)({P:N,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Re=>{const me=N,{pow_p_5_8:xe,b2:le}=q(Re);return(0,x.mod)((0,x.pow2)(xe,BigInt(3),me)*le,me)},adjustScalarBytes:ne,randomBytes:S.randomBytes}),z.edwardsToMontgomeryPub=ve,z.edwardsToMontgomery=ve,z.edwardsToMontgomeryPriv=function _e(Re){const me=ue.hash(Re.subarray(0,32));return ue.adjustScalarBytes(me).subarray(0,32)};const De=(oe.ORDER+BigInt(3))/BigInt(8),P=oe.pow(X,De),u=oe.sqrt(oe.neg(oe.ONE)),h=(oe.ORDER-BigInt(5))/BigInt(8),g=BigInt(486662),T=(0,x.FpSqrtEven)(oe,oe.neg(BigInt(486664)));const j=(0,A.createHasher)(z.ed25519.ExtendedPoint,Re=>function C(Re){const{xMn:me,xMd:xe,yMn:le,yMd:he}=function w(Re){let me=oe.sqr(Re);me=oe.mul(me,X);let xe=oe.add(me,oe.ONE),le=oe.neg(g),he=oe.sqr(xe),re=oe.mul(he,xe),de=oe.mul(me,g);de=oe.mul(de,le),de=oe.add(de,he),de=oe.mul(de,le);let pe=oe.sqr(re);he=oe.sqr(pe),pe=oe.mul(pe,re),pe=oe.mul(pe,de),he=oe.mul(he,pe);let Se=oe.pow(he,h);Se=oe.mul(Se,pe);let ke=oe.mul(Se,u);he=oe.sqr(Se),he=oe.mul(he,re);let Fe=oe.eql(he,de),We=oe.cmov(ke,Se,Fe),Tt=oe.mul(le,me),Xe=oe.mul(Se,Re);Xe=oe.mul(Xe,P);let Ke=oe.mul(Xe,u),lt=oe.mul(de,me);he=oe.sqr(Xe),he=oe.mul(he,re);let U=oe.eql(he,lt),_=oe.cmov(Ke,Xe,U);he=oe.sqr(We),he=oe.mul(he,re);let m=oe.eql(he,de),F=oe.cmov(Tt,le,m),ie=oe.cmov(_,We,m),we=oe.isOdd(ie);return ie=oe.cmov(ie,oe.neg(ie),m!==we),{xMn:F,xMd:xe,yMn:ie,yMd:D}}(Re);let re=oe.mul(me,he);re=oe.mul(re,T);let de=oe.mul(xe,le),pe=oe.sub(me,xe),Se=oe.add(me,xe),ke=oe.mul(de,Se),Fe=oe.eql(ke,oe.ZERO);re=oe.cmov(re,oe.ZERO,Fe),de=oe.cmov(de,oe.ONE,Fe),pe=oe.cmov(pe,oe.ONE,Fe),Se=oe.cmov(Se,oe.ONE,Fe);const We=oe.invertBatch([de,Se]);return{x:oe.mul(re,We[0]),y:oe.mul(pe,We[1])}}(Re[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:oe.ORDER,m:1,k:128,expand:"xmd",hash:p.sha512});function M(Re){if(!(Re instanceof be))throw new Error("RistrettoPoint expected")}z.hashToCurve=j.hashToCurve,z.encodeToCurve=j.encodeToCurve;const d=$,v=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),W=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),H=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),ee=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),fe=Re=>se(D,Re),Ae=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Pe=Re=>z.ed25519.CURVE.Fp.create((0,B.bytesToNumberLE)(Re)&Ae);function Le(Re){const{d:me}=z.ed25519.CURVE,xe=z.ed25519.CURVE.Fp.ORDER,le=z.ed25519.CURVE.Fp.create,he=le(d*Re*Re),re=le((he+D)*H);let de=BigInt(-1);const pe=le((de-me*he)*le(he+me));let{isValid:Se,value:ke}=se(re,pe),Fe=le(ke*Re);(0,x.isNegativeLE)(Fe,xe)||(Fe=le(-Fe)),Se||(ke=Fe),Se||(de=he);const We=le(de*(he-D)*ee-pe),Tt=ke*ke,Xe=le((ke+ke)*pe),Ke=le(We*v),lt=le(D-Tt),U=le(D+Tt);return new z.ed25519.ExtendedPoint(le(Xe*U),le(lt*Ke),le(Ke*U),le(Xe*lt))}class be{constructor(me){this.ep=me}static fromAffine(me){return new be(z.ed25519.ExtendedPoint.fromAffine(me))}static hashToCurve(me){me=(0,B.ensureBytes)("ristrettoHash",me,64);const le=Le(Pe(me.slice(0,32))),re=Le(Pe(me.slice(32,64)));return new be(le.add(re))}static fromHex(me){me=(0,B.ensureBytes)("ristrettoHex",me,32);const{a:xe,d:le}=z.ed25519.CURVE,he=z.ed25519.CURVE.Fp.ORDER,re=z.ed25519.CURVE.Fp.create,de="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",pe=Pe(me);if(!(0,B.equalBytes)((0,B.numberToBytesLE)(pe,32),me)||(0,x.isNegativeLE)(pe,he))throw new Error(de);const Se=re(pe*pe),ke=re(D+xe*Se),Fe=re(D-xe*Se),We=re(ke*ke),Tt=re(Fe*Fe),Xe=re(xe*le*We-Tt),{isValid:Ke,value:lt}=fe(re(Xe*Tt)),U=re(lt*Fe),_=re(lt*U*Xe);let m=re((pe+pe)*U);(0,x.isNegativeLE)(m,he)&&(m=re(-m));const F=re(ke*_),ie=re(m*F);if(!Ke||(0,x.isNegativeLE)(ie,he)||F===K)throw new Error(de);return new be(new z.ed25519.ExtendedPoint(m,F,D,ie))}toRawBytes(){let{ex:me,ey:xe,ez:le,et:he}=this.ep;const re=z.ed25519.CURVE.Fp.ORDER,de=z.ed25519.CURVE.Fp.create,pe=de(de(le+xe)*de(le-xe)),Se=de(me*xe),ke=de(Se*Se),{value:Fe}=fe(de(pe*ke)),We=de(Fe*pe),Tt=de(Fe*Se),Xe=de(We*Tt*he);let Ke;if((0,x.isNegativeLE)(he*Xe,re)){let U=de(xe*d),_=de(me*d);me=U,xe=_,Ke=de(We*W)}else Ke=Tt;(0,x.isNegativeLE)(me*Xe,re)&&(xe=de(-xe));let lt=de((le-xe)*Ke);return(0,x.isNegativeLE)(lt,re)&&(lt=de(-lt)),(0,B.numberToBytesLE)(lt,32)}toHex(){return(0,B.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(me){M(me);const{ex:xe,ey:le}=this.ep,{ex:he,ey:re}=me.ep,de=z.ed25519.CURVE.Fp.create,pe=de(xe*re)===de(le*he),Se=de(le*re)===de(xe*he);return pe||Se}add(me){return M(me),new be(this.ep.add(me.ep))}subtract(me){return M(me),new be(this.ep.subtract(me.ep))}multiply(me){return new be(this.ep.multiply(me))}multiplyUnsafe(me){return new be(this.ep.multiplyUnsafe(me))}double(){return new be(this.ep.double())}negate(){return new be(this.ep.negate())}}z.RistrettoPoint=(be.BASE||(be.BASE=new be(z.ed25519.ExtendedPoint.BASE)),be.ZERO||(be.ZERO=new be(z.ed25519.ExtendedPoint.ZERO)),be),z.hashToRistretto255=(Re,me)=>{const xe=me.DST,le="string"==typeof xe?(0,S.utf8ToBytes)(xe):xe,he=(0,A.expand_message_xmd)(Re,le,64,p.sha512);return be.hashToCurve(he)},z.hash_to_ristretto255=z.hashToRistretto255},91717:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.encodeToCurve=z.hashToCurve=z.schnorr=z.secp256k1=void 0;const p=E(1806),S=E(96492),O=E(63834),G=E(73040),x=E(84097),B=E(75752),A=E(4521),N=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),$=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),K=BigInt(1),D=BigInt(2),X=(M,d)=>(M+d/D)/d;function V(M){const d=N,v=BigInt(3),W=BigInt(6),H=BigInt(11),ee=BigInt(22),fe=BigInt(23),Ae=BigInt(44),Pe=BigInt(88),Le=M*M*M%d,be=Le*Le*M%d,ge=(0,O.pow2)(be,v,d)*be%d,Re=(0,O.pow2)(ge,v,d)*be%d,me=(0,O.pow2)(Re,D,d)*Le%d,xe=(0,O.pow2)(me,H,d)*me%d,le=(0,O.pow2)(xe,ee,d)*xe%d,he=(0,O.pow2)(le,Ae,d)*le%d,re=(0,O.pow2)(he,Pe,d)*he%d,de=(0,O.pow2)(re,Ae,d)*le%d,pe=(0,O.pow2)(de,v,d)*be%d,Se=(0,O.pow2)(pe,fe,d)*xe%d,ke=(0,O.pow2)(Se,W,d)*Le%d,Fe=(0,O.pow2)(ke,D,d);if(!Z.eql(Z.sqr(Fe),M))throw new Error("Cannot find square root");return Fe}const Z=(0,O.Field)(N,void 0,void 0,{sqrt:V});z.secp256k1=(0,A.createCurve)({a:BigInt(0),b:BigInt(7),Fp:Z,n:$,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:M=>{const d=$,v=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),W=-K*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),H=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ee=v,fe=BigInt("0x100000000000000000000000000000000"),Ae=X(ee*M,d),Pe=X(-W*M,d);let Le=(0,O.mod)(M-Ae*v-Pe*H,d),be=(0,O.mod)(-Ae*W-Pe*ee,d);const ge=Le>fe,Re=be>fe;if(ge&&(Le=d-Le),Re&&(be=d-be),Le>fe||be>fe)throw new Error("splitScalar: Endomorphism failed, k="+M);return{k1neg:ge,k1:Le,k2neg:Re,k2:be}}}},p.sha256);const Q=BigInt(0),te=M=>"bigint"==typeof M&&Q<M&&M<N,q={};function ne(M,...d){let v=q[M];if(void 0===v){const W=(0,p.sha256)(Uint8Array.from(M,H=>H.charCodeAt(0)));v=(0,x.concatBytes)(W,W),q[M]=v}return(0,p.sha256)((0,x.concatBytes)(v,...d))}const se=M=>M.toRawBytes(!0).slice(1),oe=M=>(0,x.numberToBytesBE)(M,32),ue=M=>(0,O.mod)(M,N),ae=M=>(0,O.mod)(M,$),ve=z.secp256k1.ProjectivePoint;function De(M){let d=z.secp256k1.utils.normPrivateKeyToScalar(M),v=ve.fromPrivateKey(d);return{scalar:v.hasEvenY()?d:ae(-d),bytes:se(v)}}function P(M){if(!te(M))throw new Error("bad x: need 0 < x < p");const d=ue(M*M);let W=V(ue(d*M+BigInt(7)));W%D!==Q&&(W=ue(-W));const H=new ve(M,W,K);return H.assertValidity(),H}function u(...M){return ae((0,x.bytesToNumberBE)(ne("BIP0340/challenge",...M)))}function w(M,d,v){const W=(0,x.ensureBytes)("signature",M,64),H=(0,x.ensureBytes)("message",d),ee=(0,x.ensureBytes)("publicKey",v,32);try{const fe=P((0,x.bytesToNumberBE)(ee)),Ae=(0,x.bytesToNumberBE)(W.subarray(0,32));if(!te(Ae))return!1;const Pe=(0,x.bytesToNumberBE)(W.subarray(32,64));if(!(M=>"bigint"==typeof M&&Q<M&&M<$)(Pe))return!1;const Le=u(oe(Ae),se(fe),H),be=((M,d,v)=>ve.BASE.multiplyAndAddUnsafe(M,d,v))(fe,Pe,ae(-Le));return!(!be||!be.hasEvenY()||be.toAffine().x!==Ae)}catch{return!1}}z.schnorr={getPublicKey:function h(M){return De(M).bytes},sign:function g(M,d,v=(0,S.randomBytes)(32)){const W=(0,x.ensureBytes)("message",M),{bytes:H,scalar:ee}=De(d),fe=(0,x.ensureBytes)("auxRand",v,32),Ae=oe(ee^(0,x.bytesToNumberBE)(ne("BIP0340/aux",fe))),Pe=ne("BIP0340/nonce",Ae,H,W),Le=ae((0,x.bytesToNumberBE)(Pe));if(Le===Q)throw new Error("sign failed: k is zero");const{bytes:be,scalar:ge}=De(Le),Re=u(be,H,W),me=new Uint8Array(64);if(me.set(be,0),me.set(oe(ae(ge+Re*ee)),32),!w(me,W,H))throw new Error("sign: Invalid signature produced");return me},verify:w,utils:{randomPrivateKey:z.secp256k1.utils.randomPrivateKey,lift_x:P,pointToBytes:se,numberToBytesBE:x.numberToBytesBE,bytesToNumberBE:x.bytesToNumberBE,taggedHash:ne,mod:O.mod}};const T=(0,B.isogenyMap)(Z,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(M=>M.map(d=>BigInt(d)))),C=(0,G.mapToCurveSimpleSWU)(Z,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Z.create(BigInt("-11"))}),j=(0,B.createHasher)(z.secp256k1.ProjectivePoint,M=>{const{x:d,y:v}=C(Z.create(M[0]));return T(d,v)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Z.ORDER,m:1,k:128,expand:"xmd",hash:p.sha256});z.hashToCurve=j.hashToCurve,z.encodeToCurve=j.encodeToCurve},68578:(Be,z)=>{"use strict";function E(N){if(!Number.isSafeInteger(N)||N<0)throw new Error(`Wrong positive integer: ${N}`)}function p(N){if("boolean"!=typeof N)throw new Error(`Expected boolean, not ${N}`)}function O(N,...$){if(!function S(N){return N instanceof Uint8Array||null!=N&&"object"==typeof N&&"Uint8Array"===N.constructor.name}(N))throw new Error("Expected Uint8Array");if($.length>0&&!$.includes(N.length))throw new Error(`Expected Uint8Array of length ${$}, not of length=${N.length}`)}function G(N){if("function"!=typeof N||"function"!=typeof N.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");E(N.outputLen),E(N.blockLen)}function x(N,$=!0){if(N.destroyed)throw new Error("Hash instance has been destroyed");if($&&N.finished)throw new Error("Hash#digest() has already been called")}function B(N,$){O(N);const K=$.outputLen;if(N.length<K)throw new Error(`digestInto() expects output buffer of length at least ${K}`)}Object.defineProperty(z,"__esModule",{value:!0}),z.output=z.exists=z.hash=z.bytes=z.bool=z.number=void 0,z.number=E,z.bool=p,z.bytes=O,z.hash=G,z.exists=x,z.output=B,z.default={number:E,bool:p,bytes:O,hash:G,exists:x,output:B}},25724:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.SHA2=void 0;const p=E(68578),S=E(96492);z.SHA2=class G extends S.Hash{constructor(B,A,N,$){super(),this.blockLen=B,this.outputLen=A,this.padOffset=N,this.isLE=$,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(B),this.view=(0,S.createView)(this.buffer)}update(B){(0,p.exists)(this);const{view:A,buffer:N,blockLen:$}=this,K=(B=(0,S.toBytes)(B)).length;for(let D=0;D<K;){const X=Math.min($-this.pos,K-D);if(X!==$)N.set(B.subarray(D,D+X),this.pos),this.pos+=X,D+=X,this.pos===$&&(this.process(A,0),this.pos=0);else{const V=(0,S.createView)(B);for(;$<=K-D;D+=$)this.process(V,D)}}return this.length+=B.length,this.roundClean(),this}digestInto(B){(0,p.exists)(this),(0,p.output)(B,this),this.finished=!0;const{buffer:A,view:N,blockLen:$,isLE:K}=this;let{pos:D}=this;A[D++]=128,this.buffer.subarray(D).fill(0),this.padOffset>$-D&&(this.process(N,0),D=0);for(let te=D;te<$;te++)A[te]=0;(function O(x,B,A,N){if("function"==typeof x.setBigUint64)return x.setBigUint64(B,A,N);const $=BigInt(32),K=BigInt(4294967295),D=Number(A>>$&K),X=Number(A&K),Z=N?0:4;x.setUint32(B+(N?4:0),D,N),x.setUint32(B+Z,X,N)})(N,$-8,BigInt(8*this.length),K),this.process(N,0);const X=(0,S.createView)(B),V=this.outputLen;if(V%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Z=V/4,Q=this.get();if(Z>Q.length)throw new Error("_sha2: outputLen bigger than state");for(let te=0;te<Z;te++)X.setUint32(4*te,Q[te],K)}digest(){const{buffer:B,outputLen:A}=this;this.digestInto(B);const N=B.slice(0,A);return this.destroy(),N}_cloneInto(B){B||(B=new this.constructor),B.set(...this.get());const{blockLen:A,buffer:N,length:$,finished:K,destroyed:D,pos:X}=this;return B.length=$,B.pos=X,B.finished=K,B.destroyed=D,$%A&&B.buffer.set(N),B}}},35059:(Be,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.add5L=z.add5H=z.add4H=z.add4L=z.add3H=z.add3L=z.add=z.rotlBL=z.rotlBH=z.rotlSL=z.rotlSH=z.rotr32L=z.rotr32H=z.rotrBL=z.rotrBH=z.rotrSL=z.rotrSH=z.shrSL=z.shrSH=z.toBig=z.split=z.fromBig=void 0;const E=BigInt(2**32-1),p=BigInt(32);function S(_e,De=!1){return De?{h:Number(_e&E),l:Number(_e>>p&E)}:{h:0|Number(_e>>p&E),l:0|Number(_e&E)}}function O(_e,De=!1){let P=new Uint32Array(_e.length),u=new Uint32Array(_e.length);for(let h=0;h<_e.length;h++){const{h:g,l:w}=S(_e[h],De);[P[h],u[h]]=[g,w]}return[P,u]}z.fromBig=S,z.split=O;const G=(_e,De)=>BigInt(_e>>>0)<<p|BigInt(De>>>0);z.toBig=G;const x=(_e,De,P)=>_e>>>P;z.shrSH=x;const B=(_e,De,P)=>_e<<32-P|De>>>P;z.shrSL=B;const A=(_e,De,P)=>_e>>>P|De<<32-P;z.rotrSH=A;const N=(_e,De,P)=>_e<<32-P|De>>>P;z.rotrSL=N;const $=(_e,De,P)=>_e<<64-P|De>>>P-32;z.rotrBH=$;const K=(_e,De,P)=>_e>>>P-32|De<<64-P;z.rotrBL=K;const D=(_e,De)=>De;z.rotr32H=D;const X=(_e,De)=>_e;z.rotr32L=X;const V=(_e,De,P)=>_e<<P|De>>>32-P;z.rotlSH=V;const Z=(_e,De,P)=>De<<P|_e>>>32-P;z.rotlSL=Z;const Q=(_e,De,P)=>De<<P-32|_e>>>64-P;z.rotlBH=Q;const te=(_e,De,P)=>_e<<P-32|De>>>64-P;function J(_e,De,P,u){const h=(De>>>0)+(u>>>0);return{h:_e+P+(h/2**32|0)|0,l:0|h}}z.rotlBL=te,z.add=J;const q=(_e,De,P)=>(_e>>>0)+(De>>>0)+(P>>>0);z.add3L=q;const ne=(_e,De,P,u)=>De+P+u+(_e/2**32|0)|0;z.add3H=ne;const se=(_e,De,P,u)=>(_e>>>0)+(De>>>0)+(P>>>0)+(u>>>0);z.add4L=se;const oe=(_e,De,P,u,h)=>De+P+u+h+(_e/2**32|0)|0;z.add4H=oe;const ue=(_e,De,P,u,h)=>(_e>>>0)+(De>>>0)+(P>>>0)+(u>>>0)+(h>>>0);z.add5L=ue;const ae=(_e,De,P,u,h,g)=>De+P+u+h+g+(_e/2**32|0)|0;z.add5H=ae,z.default={fromBig:S,split:O,toBig:G,shrSH:x,shrSL:B,rotrSH:A,rotrSL:N,rotrBH:$,rotrBL:K,rotr32H:D,rotr32L:X,rotlSH:V,rotlSL:Z,rotlBH:Q,rotlBL:te,add:J,add3L:q,add3H:ne,add4L:se,add4H:oe,add5H:ae,add5L:ue}},89948:(Be,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.crypto=void 0,z.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},57334:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.hkdf=z.expand=z.extract=void 0;const p=E(68578),S=E(96492),O=E(44882);function G($,K,D){return(0,p.hash)($),void 0===D&&(D=new Uint8Array($.outputLen)),(0,O.hmac)($,(0,S.toBytes)(D),(0,S.toBytes)(K))}z.extract=G;const x=new Uint8Array([0]),B=new Uint8Array;function A($,K,D,X=32){if((0,p.hash)($),(0,p.number)(X),X>255*$.outputLen)throw new Error("Length should be <= 255*HashLen");const V=Math.ceil(X/$.outputLen);void 0===D&&(D=B);const Z=new Uint8Array(V*$.outputLen),Q=O.hmac.create($,K),te=Q._cloneInto(),J=new Uint8Array(Q.outputLen);for(let q=0;q<V;q++)x[0]=q+1,te.update(0===q?B:J).update(D).update(x).digestInto(J),Z.set(J,$.outputLen*q),Q._cloneInto(te);return Q.destroy(),te.destroy(),J.fill(0),x.fill(0),Z.slice(0,X)}z.expand=A,z.hkdf=($,K,D,X,V)=>A($,G($,K,D),X,V)},44882:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.hmac=z.HMAC=void 0;const p=E(68578),S=E(96492);class O extends S.Hash{constructor(B,A){super(),this.finished=!1,this.destroyed=!1,(0,p.hash)(B);const N=(0,S.toBytes)(A);if(this.iHash=B.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const $=this.blockLen,K=new Uint8Array($);K.set(N.length>$?B.create().update(N).digest():N);for(let D=0;D<K.length;D++)K[D]^=54;this.iHash.update(K),this.oHash=B.create();for(let D=0;D<K.length;D++)K[D]^=106;this.oHash.update(K),K.fill(0)}update(B){return(0,p.exists)(this),this.iHash.update(B),this}digestInto(B){(0,p.exists)(this),(0,p.bytes)(B,this.outputLen),this.finished=!0,this.iHash.digestInto(B),this.oHash.update(B),this.oHash.digestInto(B),this.destroy()}digest(){const B=new Uint8Array(this.oHash.outputLen);return this.digestInto(B),B}_cloneInto(B){B||(B=Object.create(Object.getPrototypeOf(this),{}));const{oHash:A,iHash:N,finished:$,destroyed:K,blockLen:D,outputLen:X}=this;return B.finished=$,B.destroyed=K,B.blockLen=D,B.outputLen=X,B.oHash=A._cloneInto(B.oHash),B.iHash=N._cloneInto(B.iHash),B}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}z.HMAC=O,z.hmac=(x,B,A)=>new O(x,B).update(A).digest(),z.hmac.create=(x,B)=>new O(x,B)},1806:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.sha224=z.sha256=void 0;const p=E(25724),S=E(96492),O=(K,D,X)=>K&D^~K&X,G=(K,D,X)=>K&D^K&X^D&X,x=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),B=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),A=new Uint32Array(64);class N extends p.SHA2{constructor(){super(64,32,8,!1),this.A=0|B[0],this.B=0|B[1],this.C=0|B[2],this.D=0|B[3],this.E=0|B[4],this.F=0|B[5],this.G=0|B[6],this.H=0|B[7]}get(){const{A:D,B:X,C:V,D:Z,E:Q,F:te,G:J,H:q}=this;return[D,X,V,Z,Q,te,J,q]}set(D,X,V,Z,Q,te,J,q){this.A=0|D,this.B=0|X,this.C=0|V,this.D=0|Z,this.E=0|Q,this.F=0|te,this.G=0|J,this.H=0|q}process(D,X){for(let oe=0;oe<16;oe++,X+=4)A[oe]=D.getUint32(X,!1);for(let oe=16;oe<64;oe++){const ue=A[oe-15],ae=A[oe-2],ve=(0,S.rotr)(ue,7)^(0,S.rotr)(ue,18)^ue>>>3,_e=(0,S.rotr)(ae,17)^(0,S.rotr)(ae,19)^ae>>>10;A[oe]=_e+A[oe-7]+ve+A[oe-16]|0}let{A:V,B:Z,C:Q,D:te,E:J,F:q,G:ne,H:se}=this;for(let oe=0;oe<64;oe++){const ae=se+((0,S.rotr)(J,6)^(0,S.rotr)(J,11)^(0,S.rotr)(J,25))+O(J,q,ne)+x[oe]+A[oe]|0,_e=((0,S.rotr)(V,2)^(0,S.rotr)(V,13)^(0,S.rotr)(V,22))+G(V,Z,Q)|0;se=ne,ne=q,q=J,J=te+ae|0,te=Q,Q=Z,Z=V,V=ae+_e|0}V=V+this.A|0,Z=Z+this.B|0,Q=Q+this.C|0,te=te+this.D|0,J=J+this.E|0,q=q+this.F|0,ne=ne+this.G|0,se=se+this.H|0,this.set(V,Z,Q,te,J,q,ne,se)}roundClean(){A.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class $ extends N{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}z.sha256=(0,S.wrapConstructor)(()=>new N),z.sha224=(0,S.wrapConstructor)(()=>new $)},44207:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.sha384=z.sha512_256=z.sha512_224=z.sha512=z.SHA512=void 0;const p=E(25724),S=E(35059),O=E(96492),[G,x]=S.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(X=>BigInt(X))),B=new Uint32Array(80),A=new Uint32Array(80);class N extends p.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:V,Al:Z,Bh:Q,Bl:te,Ch:J,Cl:q,Dh:ne,Dl:se,Eh:oe,El:ue,Fh:ae,Fl:ve,Gh:_e,Gl:De,Hh:P,Hl:u}=this;return[V,Z,Q,te,J,q,ne,se,oe,ue,ae,ve,_e,De,P,u]}set(V,Z,Q,te,J,q,ne,se,oe,ue,ae,ve,_e,De,P,u){this.Ah=0|V,this.Al=0|Z,this.Bh=0|Q,this.Bl=0|te,this.Ch=0|J,this.Cl=0|q,this.Dh=0|ne,this.Dl=0|se,this.Eh=0|oe,this.El=0|ue,this.Fh=0|ae,this.Fl=0|ve,this.Gh=0|_e,this.Gl=0|De,this.Hh=0|P,this.Hl=0|u}process(V,Z){for(let w=0;w<16;w++,Z+=4)B[w]=V.getUint32(Z),A[w]=V.getUint32(Z+=4);for(let w=16;w<80;w++){const T=0|B[w-15],C=0|A[w-15],j=S.default.rotrSH(T,C,1)^S.default.rotrSH(T,C,8)^S.default.shrSH(T,C,7),M=S.default.rotrSL(T,C,1)^S.default.rotrSL(T,C,8)^S.default.shrSL(T,C,7),d=0|B[w-2],v=0|A[w-2],W=S.default.rotrSH(d,v,19)^S.default.rotrBH(d,v,61)^S.default.shrSH(d,v,6),H=S.default.rotrSL(d,v,19)^S.default.rotrBL(d,v,61)^S.default.shrSL(d,v,6),ee=S.default.add4L(M,H,A[w-7],A[w-16]),fe=S.default.add4H(ee,j,W,B[w-7],B[w-16]);B[w]=0|fe,A[w]=0|ee}let{Ah:Q,Al:te,Bh:J,Bl:q,Ch:ne,Cl:se,Dh:oe,Dl:ue,Eh:ae,El:ve,Fh:_e,Fl:De,Gh:P,Gl:u,Hh:h,Hl:g}=this;for(let w=0;w<80;w++){const T=S.default.rotrSH(ae,ve,14)^S.default.rotrSH(ae,ve,18)^S.default.rotrBH(ae,ve,41),C=S.default.rotrSL(ae,ve,14)^S.default.rotrSL(ae,ve,18)^S.default.rotrBL(ae,ve,41),j=ae&_e^~ae&P,d=S.default.add5L(g,C,ve&De^~ve&u,x[w],A[w]),v=S.default.add5H(d,h,T,j,G[w],B[w]),W=0|d,H=S.default.rotrSH(Q,te,28)^S.default.rotrBH(Q,te,34)^S.default.rotrBH(Q,te,39),ee=S.default.rotrSL(Q,te,28)^S.default.rotrBL(Q,te,34)^S.default.rotrBL(Q,te,39),fe=Q&J^Q&ne^J&ne,Ae=te&q^te&se^q&se;h=0|P,g=0|u,P=0|_e,u=0|De,_e=0|ae,De=0|ve,({h:ae,l:ve}=S.default.add(0|oe,0|ue,0|v,0|W)),oe=0|ne,ue=0|se,ne=0|J,se=0|q,J=0|Q,q=0|te;const Pe=S.default.add3L(W,ee,Ae);Q=S.default.add3H(Pe,v,H,fe),te=0|Pe}({h:Q,l:te}=S.default.add(0|this.Ah,0|this.Al,0|Q,0|te)),({h:J,l:q}=S.default.add(0|this.Bh,0|this.Bl,0|J,0|q)),({h:ne,l:se}=S.default.add(0|this.Ch,0|this.Cl,0|ne,0|se)),({h:oe,l:ue}=S.default.add(0|this.Dh,0|this.Dl,0|oe,0|ue)),({h:ae,l:ve}=S.default.add(0|this.Eh,0|this.El,0|ae,0|ve)),({h:_e,l:De}=S.default.add(0|this.Fh,0|this.Fl,0|_e,0|De)),({h:P,l:u}=S.default.add(0|this.Gh,0|this.Gl,0|P,0|u)),({h,l:g}=S.default.add(0|this.Hh,0|this.Hl,0|h,0|g)),this.set(Q,te,J,q,ne,se,oe,ue,ae,ve,_e,De,P,u,h,g)}roundClean(){B.fill(0),A.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}z.SHA512=N;class $ extends N{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class K extends N{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class D extends N{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}z.sha512=(0,O.wrapConstructor)(()=>new N),z.sha512_224=(0,O.wrapConstructor)(()=>new $),z.sha512_256=(0,O.wrapConstructor)(()=>new K),z.sha384=(0,O.wrapConstructor)(()=>new D)},96492:(Be,z,E)=>{"use strict";var p=E(29293).default;Object.defineProperty(z,"__esModule",{value:!0}),z.randomBytes=z.wrapXOFConstructorWithOpts=z.wrapConstructorWithOpts=z.wrapConstructor=z.checkOpts=z.Hash=z.concatBytes=z.toBytes=z.utf8ToBytes=z.asyncLoop=z.nextTick=z.hexToBytes=z.bytesToHex=z.isLE=z.rotr=z.createView=z.u32=z.u8=void 0;const S=E(89948);function x(De){return De instanceof Uint8Array||null!=De&&"object"==typeof De&&"Uint8Array"===De.constructor.name}if(z.u8=De=>new Uint8Array(De.buffer,De.byteOffset,De.byteLength),z.u32=De=>new Uint32Array(De.buffer,De.byteOffset,Math.floor(De.byteLength/4)),z.createView=De=>new DataView(De.buffer,De.byteOffset,De.byteLength),z.rotr=(De,P)=>De<<32-P|De>>>P,z.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!z.isLE)throw new Error("Non little-endian hardware is not supported");const N=Array.from({length:256},(De,P)=>P.toString(16).padStart(2,"0"));z.bytesToHex=function $(De){if(!x(De))throw new Error("Uint8Array expected");let P="";for(let u=0;u<De.length;u++)P+=N[De[u]];return P};const K__0=48,K__9=57,K__A=65,K__F=70,K__a=97,K__f=102;function D(De){return De>=K__0&&De<=K__9?De-K__0:De>=K__A&&De<=K__F?De-(K__A-10):De>=K__a&&De<=K__f?De-(K__a-10):void 0}function Q(){return(Q=p(function*(De,P,u){let h=Date.now();for(let g=0;g<De;g++){u(g);const w=Date.now()-h;w>=0&&w<P||(yield(0,z.nextTick)(),h+=w)}})).apply(this,arguments)}function te(De){if("string"!=typeof De)throw new Error("utf8ToBytes expected string, got "+typeof De);return new Uint8Array((new TextEncoder).encode(De))}function J(De){if("string"==typeof De&&(De=te(De)),!x(De))throw new Error("expected Uint8Array, got "+typeof De);return De}z.hexToBytes=function X(De){if("string"!=typeof De)throw new Error("hex string expected, got "+typeof De);const P=De.length,u=P/2;if(P%2)throw new Error("padded hex string expected, got unpadded hex of length "+P);const h=new Uint8Array(u);for(let g=0,w=0;g<u;g++,w+=2){const T=D(De.charCodeAt(w)),C=D(De.charCodeAt(w+1));if(void 0===T||void 0===C)throw new Error('hex string expected, got non-hex character "'+(De[w]+De[w+1])+'" at index '+w);h[g]=16*T+C}return h},z.nextTick=function(){var De=p(function*(){});return function(){return De.apply(this,arguments)}}(),z.asyncLoop=function Z(De,P,u){return Q.apply(this,arguments)},z.utf8ToBytes=te,z.toBytes=J,z.concatBytes=function q(...De){let P=0;for(let h=0;h<De.length;h++){const g=De[h];if(!x(g))throw new Error("Uint8Array expected");P+=g.length}const u=new Uint8Array(P);for(let h=0,g=0;h<De.length;h++){const w=De[h];u.set(w,g),g+=w.length}return u},z.Hash=class ne{clone(){return this._cloneInto()}};const se={}.toString;z.checkOpts=function oe(De,P){if(void 0!==P&&"[object Object]"!==se.call(P))throw new Error("Options should be object or undefined");return Object.assign(De,P)},z.wrapConstructor=function ue(De){const P=h=>De().update(J(h)).digest(),u=De();return P.outputLen=u.outputLen,P.blockLen=u.blockLen,P.create=()=>De(),P},z.wrapConstructorWithOpts=function ae(De){const P=(h,g)=>De(g).update(J(h)).digest(),u=De({});return P.outputLen=u.outputLen,P.blockLen=u.blockLen,P.create=h=>De(h),P},z.wrapXOFConstructorWithOpts=function ve(De){const P=(h,g)=>De(g).update(J(h)).digest(),u=De({});return P.outputLen=u.outputLen,P.blockLen=u.blockLen,P.create=h=>De(h),P},z.randomBytes=function _e(De=32){if(S.crypto&&"function"==typeof S.crypto.getRandomValues)return S.crypto.getRandomValues(new Uint8Array(De));throw new Error("crypto.getRandomValues must be defined")}},42064:(Be,z,E)=>{z.Level=E(23963).BrowserLevel},20844:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.MissingRefError=z.ValidationError=z.CodeGen=z.Name=z.nil=z.stringify=z.str=z._=z.KeywordCxt=void 0;const p=E(35419),S=E(98496),O=E(86980),G=E(87577),x="https://json-schema.org/draft/2020-12/schema";class B extends p.default{constructor(X={}){super({...X,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),S.default.forEach(X=>this.addVocabulary(X)),this.opts.discriminator&&this.addKeyword(O.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:X,meta:V}=this.opts;V&&(G.default.call(this,X),this.refs["http://json-schema.org/schema"]=x)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(x)?x:void 0)}}Be.exports=z=B,Object.defineProperty(z,"__esModule",{value:!0}),z.default=B;var A=E(40339);Object.defineProperty(z,"KeywordCxt",{enumerable:!0,get:function(){return A.KeywordCxt}});var N=E(1038);Object.defineProperty(z,"_",{enumerable:!0,get:function(){return N._}}),Object.defineProperty(z,"str",{enumerable:!0,get:function(){return N.str}}),Object.defineProperty(z,"stringify",{enumerable:!0,get:function(){return N.stringify}}),Object.defineProperty(z,"nil",{enumerable:!0,get:function(){return N.nil}}),Object.defineProperty(z,"Name",{enumerable:!0,get:function(){return N.Name}}),Object.defineProperty(z,"CodeGen",{enumerable:!0,get:function(){return N.CodeGen}});var $=E(42467);Object.defineProperty(z,"ValidationError",{enumerable:!0,get:function(){return $.default}});var K=E(26288);Object.defineProperty(z,"MissingRefError",{enumerable:!0,get:function(){return K.default}})},33337:(Be,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.regexpCode=z.getEsmExportName=z.getProperty=z.safeStringify=z.stringify=z.strConcat=z.addCodeArg=z.str=z._=z.nil=z._Code=z.Name=z.IDENTIFIER=z._CodeOrName=void 0;class E{}z._CodeOrName=E,z.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class p extends E{constructor(J){if(super(),!z.IDENTIFIER.test(J))throw new Error("CodeGen: name must be a valid identifier");this.str=J}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}z.Name=p;class S extends E{constructor(J){super(),this._items="string"==typeof J?[J]:J}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const J=this._items[0];return""===J||'""'===J}get str(){var J;return null!==(J=this._str)&&void 0!==J?J:this._str=this._items.reduce((q,ne)=>`${q}${ne}`,"")}get names(){var J;return null!==(J=this._names)&&void 0!==J?J:this._names=this._items.reduce((q,ne)=>(ne instanceof p&&(q[ne.str]=(q[ne.str]||0)+1),q),{})}}function O(te,...J){const q=[te[0]];let ne=0;for(;ne<J.length;)B(q,J[ne]),q.push(te[++ne]);return new S(q)}z._Code=S,z.nil=new S(""),z._=O;const G=new S("+");function x(te,...J){const q=[X(te[0])];let ne=0;for(;ne<J.length;)q.push(G),B(q,J[ne]),q.push(G,X(te[++ne]));return function A(te){let J=1;for(;J<te.length-1;){if(te[J]===G){const q=N(te[J-1],te[J+1]);if(void 0!==q){te.splice(J-1,3,q);continue}te[J++]="+"}J++}}(q),new S(q)}function B(te,J){J instanceof S?te.push(...J._items):te.push(J instanceof p?J:function K(te){return"number"==typeof te||"boolean"==typeof te||null===te?te:X(Array.isArray(te)?te.join(","):te)}(J))}function N(te,J){return'""'===J?te:'""'===te?J:"string"==typeof te?J instanceof p||'"'!==te[te.length-1]?void 0:"string"!=typeof J?`${te.slice(0,-1)}${J}"`:'"'===J[0]?te.slice(0,-1)+J.slice(1):void 0:"string"!=typeof J||'"'!==J[0]||te instanceof p?void 0:`"${te}${J.slice(1)}`}function X(te){return JSON.stringify(te).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}z.str=x,z.addCodeArg=B,z.strConcat=function $(te,J){return J.emptyStr()?te:te.emptyStr()?J:x`${te}${J}`},z.stringify=function D(te){return new S(X(te))},z.safeStringify=X,z.getProperty=function V(te){return"string"==typeof te&&z.IDENTIFIER.test(te)?new S(`.${te}`):O`[${te}]`},z.getEsmExportName=function Z(te){if("string"==typeof te&&z.IDENTIFIER.test(te))return new S(`${te}`);throw new Error(`CodeGen: invalid export name: ${te}, use explicit $id name mapping`)},z.regexpCode=function Q(te){return new S(te.toString())}},1038:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.or=z.and=z.not=z.CodeGen=z.operators=z.varKinds=z.ValueScopeName=z.ValueScope=z.Scope=z.Name=z.regexpCode=z.stringify=z.getProperty=z.nil=z.strConcat=z.str=z._=void 0;const p=E(33337),S=E(85934);var O=E(33337);Object.defineProperty(z,"_",{enumerable:!0,get:function(){return O._}}),Object.defineProperty(z,"str",{enumerable:!0,get:function(){return O.str}}),Object.defineProperty(z,"strConcat",{enumerable:!0,get:function(){return O.strConcat}}),Object.defineProperty(z,"nil",{enumerable:!0,get:function(){return O.nil}}),Object.defineProperty(z,"getProperty",{enumerable:!0,get:function(){return O.getProperty}}),Object.defineProperty(z,"stringify",{enumerable:!0,get:function(){return O.stringify}}),Object.defineProperty(z,"regexpCode",{enumerable:!0,get:function(){return O.regexpCode}}),Object.defineProperty(z,"Name",{enumerable:!0,get:function(){return O.Name}});var G=E(85934);Object.defineProperty(z,"Scope",{enumerable:!0,get:function(){return G.Scope}}),Object.defineProperty(z,"ValueScope",{enumerable:!0,get:function(){return G.ValueScope}}),Object.defineProperty(z,"ValueScopeName",{enumerable:!0,get:function(){return G.ValueScopeName}}),Object.defineProperty(z,"varKinds",{enumerable:!0,get:function(){return G.varKinds}}),z.operators={GT:new p._Code(">"),GTE:new p._Code(">="),LT:new p._Code("<"),LTE:new p._Code("<="),EQ:new p._Code("==="),NEQ:new p._Code("!=="),NOT:new p._Code("!"),OR:new p._Code("||"),AND:new p._Code("&&"),ADD:new p._Code("+")};class x{optimizeNodes(){return this}optimizeNames(ee,fe){return this}}class B extends x{constructor(ee,fe,Ae){super(),this.varKind=ee,this.name=fe,this.rhs=Ae}render({es5:ee,_n:fe}){return`${ee?S.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+fe}optimizeNames(ee,fe){if(ee[this.name.str])return this.rhs&&(this.rhs=g(this.rhs,ee,fe)),this}get names(){return this.rhs instanceof p._CodeOrName?this.rhs.names:{}}}class A extends x{constructor(ee,fe,Ae){super(),this.lhs=ee,this.rhs=fe,this.sideEffects=Ae}render({_n:ee}){return`${this.lhs} = ${this.rhs};`+ee}optimizeNames(ee,fe){if(!(this.lhs instanceof p.Name)||ee[this.lhs.str]||this.sideEffects)return this.rhs=g(this.rhs,ee,fe),this}get names(){return h(this.lhs instanceof p.Name?{}:{...this.lhs.names},this.rhs)}}class N extends A{constructor(ee,fe,Ae,Pe){super(ee,Ae,Pe),this.op=fe}render({_n:ee}){return`${this.lhs} ${this.op}= ${this.rhs};`+ee}}class $ extends x{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`${this.label}:`+ee}}class K extends x{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`break${this.label?` ${this.label}`:""};`+ee}}class D extends x{constructor(ee){super(),this.error=ee}render({_n:ee}){return`throw ${this.error};`+ee}get names(){return this.error.names}}class X extends x{constructor(ee){super(),this.code=ee}render({_n:ee}){return`${this.code};`+ee}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(ee,fe){return this.code=g(this.code,ee,fe),this}get names(){return this.code instanceof p._CodeOrName?this.code.names:{}}}class V extends x{constructor(ee=[]){super(),this.nodes=ee}render(ee){return this.nodes.reduce((fe,Ae)=>fe+Ae.render(ee),"")}optimizeNodes(){const{nodes:ee}=this;let fe=ee.length;for(;fe--;){const Ae=ee[fe].optimizeNodes();Array.isArray(Ae)?ee.splice(fe,1,...Ae):Ae?ee[fe]=Ae:ee.splice(fe,1)}return ee.length>0?this:void 0}optimizeNames(ee,fe){const{nodes:Ae}=this;let Pe=Ae.length;for(;Pe--;){const Le=Ae[Pe];Le.optimizeNames(ee,fe)||(w(ee,Le.names),Ae.splice(Pe,1))}return Ae.length>0?this:void 0}get names(){return this.nodes.reduce((ee,fe)=>u(ee,fe.names),{})}}class Z extends V{render(ee){return"{"+ee._n+super.render(ee)+"}"+ee._n}}class Q extends V{}let te=(()=>{class H extends Z{}return H.kind="else",H})(),J=(()=>{class H extends Z{constructor(fe,Ae){super(Ae),this.condition=fe}render(fe){let Ae=`if(${this.condition})`+super.render(fe);return this.else&&(Ae+="else "+this.else.render(fe)),Ae}optimizeNodes(){super.optimizeNodes();const fe=this.condition;if(!0===fe)return this.nodes;let Ae=this.else;if(Ae){const Pe=Ae.optimizeNodes();Ae=this.else=Array.isArray(Pe)?new te(Pe):Pe}return Ae?!1===fe?Ae instanceof H?Ae:Ae.nodes:this.nodes.length?this:new H(T(fe),Ae instanceof H?[Ae]:Ae.nodes):!1!==fe&&this.nodes.length?this:void 0}optimizeNames(fe,Ae){var Pe;if(this.else=null===(Pe=this.else)||void 0===Pe?void 0:Pe.optimizeNames(fe,Ae),super.optimizeNames(fe,Ae)||this.else)return this.condition=g(this.condition,fe,Ae),this}get names(){const fe=super.names;return h(fe,this.condition),this.else&&u(fe,this.else.names),fe}}return H.kind="if",H})(),q=(()=>{class H extends Z{}return H.kind="for",H})();class ne extends q{constructor(ee){super(),this.iteration=ee}render(ee){return`for(${this.iteration})`+super.render(ee)}optimizeNames(ee,fe){if(super.optimizeNames(ee,fe))return this.iteration=g(this.iteration,ee,fe),this}get names(){return u(super.names,this.iteration.names)}}class se extends q{constructor(ee,fe,Ae,Pe){super(),this.varKind=ee,this.name=fe,this.from=Ae,this.to=Pe}render(ee){const fe=ee.es5?S.varKinds.var:this.varKind,{name:Ae,from:Pe,to:Le}=this;return`for(${fe} ${Ae}=${Pe}; ${Ae}<${Le}; ${Ae}++)`+super.render(ee)}get names(){const ee=h(super.names,this.from);return h(ee,this.to)}}class oe extends q{constructor(ee,fe,Ae,Pe){super(),this.loop=ee,this.varKind=fe,this.name=Ae,this.iterable=Pe}render(ee){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(ee)}optimizeNames(ee,fe){if(super.optimizeNames(ee,fe))return this.iterable=g(this.iterable,ee,fe),this}get names(){return u(super.names,this.iterable.names)}}let ue=(()=>{class H extends Z{constructor(fe,Ae,Pe){super(),this.name=fe,this.args=Ae,this.async=Pe}render(fe){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(fe)}}return H.kind="func",H})(),ae=(()=>{class H extends V{render(fe){return"return "+super.render(fe)}}return H.kind="return",H})();class ve extends Z{render(ee){let fe="try"+super.render(ee);return this.catch&&(fe+=this.catch.render(ee)),this.finally&&(fe+=this.finally.render(ee)),fe}optimizeNodes(){var ee,fe;return super.optimizeNodes(),null===(ee=this.catch)||void 0===ee||ee.optimizeNodes(),null===(fe=this.finally)||void 0===fe||fe.optimizeNodes(),this}optimizeNames(ee,fe){var Ae,Pe;return super.optimizeNames(ee,fe),null===(Ae=this.catch)||void 0===Ae||Ae.optimizeNames(ee,fe),null===(Pe=this.finally)||void 0===Pe||Pe.optimizeNames(ee,fe),this}get names(){const ee=super.names;return this.catch&&u(ee,this.catch.names),this.finally&&u(ee,this.finally.names),ee}}let _e=(()=>{class H extends Z{constructor(fe){super(),this.error=fe}render(fe){return`catch(${this.error})`+super.render(fe)}}return H.kind="catch",H})(),De=(()=>{class H extends Z{render(fe){return"finally"+super.render(fe)}}return H.kind="finally",H})();function u(H,ee){for(const fe in ee)H[fe]=(H[fe]||0)+(ee[fe]||0);return H}function h(H,ee){return ee instanceof p._CodeOrName?u(H,ee.names):H}function g(H,ee,fe){return H instanceof p.Name?Ae(H):function Pe(Le){return Le instanceof p._Code&&Le._items.some(be=>be instanceof p.Name&&1===ee[be.str]&&void 0!==fe[be.str])}(H)?new p._Code(H._items.reduce((Le,be)=>(be instanceof p.Name&&(be=Ae(be)),be instanceof p._Code?Le.push(...be._items):Le.push(be),Le),[])):H;function Ae(Le){const be=fe[Le.str];return void 0===be||1!==ee[Le.str]?Le:(delete ee[Le.str],be)}}function w(H,ee){for(const fe in ee)H[fe]=(H[fe]||0)-(ee[fe]||0)}function T(H){return"boolean"==typeof H||"number"==typeof H||null===H?!H:p._`!${W(H)}`}z.CodeGen=class P{constructor(ee,fe={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...fe,_n:fe.lines?"\n":""},this._extScope=ee,this._scope=new S.Scope({parent:ee}),this._nodes=[new Q]}toString(){return this._root.render(this.opts)}name(ee){return this._scope.name(ee)}scopeName(ee){return this._extScope.name(ee)}scopeValue(ee,fe){const Ae=this._extScope.value(ee,fe);return(this._values[Ae.prefix]||(this._values[Ae.prefix]=new Set)).add(Ae),Ae}getScopeValue(ee,fe){return this._extScope.getValue(ee,fe)}scopeRefs(ee){return this._extScope.scopeRefs(ee,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(ee,fe,Ae,Pe){const Le=this._scope.toName(fe);return void 0!==Ae&&Pe&&(this._constants[Le.str]=Ae),this._leafNode(new B(ee,Le,Ae)),Le}const(ee,fe,Ae){return this._def(S.varKinds.const,ee,fe,Ae)}let(ee,fe,Ae){return this._def(S.varKinds.let,ee,fe,Ae)}var(ee,fe,Ae){return this._def(S.varKinds.var,ee,fe,Ae)}assign(ee,fe,Ae){return this._leafNode(new A(ee,fe,Ae))}add(ee,fe){return this._leafNode(new N(ee,z.operators.ADD,fe))}code(ee){return"function"==typeof ee?ee():ee!==p.nil&&this._leafNode(new X(ee)),this}object(...ee){const fe=["{"];for(const[Ae,Pe]of ee)fe.length>1&&fe.push(","),fe.push(Ae),(Ae!==Pe||this.opts.es5)&&(fe.push(":"),(0,p.addCodeArg)(fe,Pe));return fe.push("}"),new p._Code(fe)}if(ee,fe,Ae){if(this._blockNode(new J(ee)),fe&&Ae)this.code(fe).else().code(Ae).endIf();else if(fe)this.code(fe).endIf();else if(Ae)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(ee){return this._elseNode(new J(ee))}else(){return this._elseNode(new te)}endIf(){return this._endBlockNode(J,te)}_for(ee,fe){return this._blockNode(ee),fe&&this.code(fe).endFor(),this}for(ee,fe){return this._for(new ne(ee),fe)}forRange(ee,fe,Ae,Pe,Le=(this.opts.es5?S.varKinds.var:S.varKinds.let)){const be=this._scope.toName(ee);return this._for(new se(Le,be,fe,Ae),()=>Pe(be))}forOf(ee,fe,Ae,Pe=S.varKinds.const){const Le=this._scope.toName(ee);if(this.opts.es5){const be=fe instanceof p.Name?fe:this.var("_arr",fe);return this.forRange("_i",0,p._`${be}.length`,ge=>{this.var(Le,p._`${be}[${ge}]`),Ae(Le)})}return this._for(new oe("of",Pe,Le,fe),()=>Ae(Le))}forIn(ee,fe,Ae,Pe=(this.opts.es5?S.varKinds.var:S.varKinds.const)){if(this.opts.ownProperties)return this.forOf(ee,p._`Object.keys(${fe})`,Ae);const Le=this._scope.toName(ee);return this._for(new oe("in",Pe,Le,fe),()=>Ae(Le))}endFor(){return this._endBlockNode(q)}label(ee){return this._leafNode(new $(ee))}break(ee){return this._leafNode(new K(ee))}return(ee){const fe=new ae;if(this._blockNode(fe),this.code(ee),1!==fe.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(ae)}try(ee,fe,Ae){if(!fe&&!Ae)throw new Error('CodeGen: "try" without "catch" and "finally"');const Pe=new ve;if(this._blockNode(Pe),this.code(ee),fe){const Le=this.name("e");this._currNode=Pe.catch=new _e(Le),fe(Le)}return Ae&&(this._currNode=Pe.finally=new De,this.code(Ae)),this._endBlockNode(_e,De)}throw(ee){return this._leafNode(new D(ee))}block(ee,fe){return this._blockStarts.push(this._nodes.length),ee&&this.code(ee).endBlock(fe),this}endBlock(ee){const fe=this._blockStarts.pop();if(void 0===fe)throw new Error("CodeGen: not in self-balancing block");const Ae=this._nodes.length-fe;if(Ae<0||void 0!==ee&&Ae!==ee)throw new Error(`CodeGen: wrong number of nodes: ${Ae} vs ${ee} expected`);return this._nodes.length=fe,this}func(ee,fe=p.nil,Ae,Pe){return this._blockNode(new ue(ee,fe,Ae)),Pe&&this.code(Pe).endFunc(),this}endFunc(){return this._endBlockNode(ue)}optimize(ee=1){for(;ee-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(ee){return this._currNode.nodes.push(ee),this}_blockNode(ee){this._currNode.nodes.push(ee),this._nodes.push(ee)}_endBlockNode(ee,fe){const Ae=this._currNode;if(Ae instanceof ee||fe&&Ae instanceof fe)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${fe?`${ee.kind}/${fe.kind}`:ee.kind}"`)}_elseNode(ee){const fe=this._currNode;if(!(fe instanceof J))throw new Error('CodeGen: "else" without "if"');return this._currNode=fe.else=ee,this}get _root(){return this._nodes[0]}get _currNode(){const ee=this._nodes;return ee[ee.length-1]}set _currNode(ee){const fe=this._nodes;fe[fe.length-1]=ee}},z.not=T;const C=v(z.operators.AND);z.and=function j(...H){return H.reduce(C)};const M=v(z.operators.OR);function v(H){return(ee,fe)=>ee===p.nil?fe:fe===p.nil?ee:p._`${W(ee)} ${H} ${W(fe)}`}function W(H){return H instanceof p.Name?H:p._`(${H})`}z.or=function d(...H){return H.reduce(M)}},85934:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.ValueScope=z.ValueScopeName=z.Scope=z.varKinds=z.UsedValueState=void 0;const p=E(33337);class S extends Error{constructor($){super(`CodeGen: "code" for ${$} not defined`),this.value=$.value}}var O,N;(N=O=z.UsedValueState||(z.UsedValueState={}))[N.Started=0]="Started",N[N.Completed=1]="Completed",z.varKinds={const:new p.Name("const"),let:new p.Name("let"),var:new p.Name("var")};class G{constructor({prefixes:$,parent:K}={}){this._names={},this._prefixes=$,this._parent=K}toName($){return $ instanceof p.Name?$:this.name($)}name($){return new p.Name(this._newName($))}_newName($){return`${$}${(this._names[$]||this._nameGroup($)).index++}`}_nameGroup($){var K,D;if(null!==(D=null===(K=this._parent)||void 0===K?void 0:K._prefixes)&&void 0!==D&&D.has($)||this._prefixes&&!this._prefixes.has($))throw new Error(`CodeGen: prefix "${$}" is not allowed in this scope`);return this._names[$]={prefix:$,index:0}}}z.Scope=G;class x extends p.Name{constructor($,K){super(K),this.prefix=$}setValue($,{property:K,itemIndex:D}){this.value=$,this.scopePath=p._`.${new p.Name(K)}[${D}]`}}z.ValueScopeName=x;const B=p._`\n`;z.ValueScope=class A extends G{constructor($){super($),this._values={},this._scope=$.scope,this.opts={...$,_n:$.lines?B:p.nil}}get(){return this._scope}name($){return new x($,this._newName($))}value($,K){var D;if(void 0===K.ref)throw new Error("CodeGen: ref must be passed in value");const X=this.toName($),{prefix:V}=X,Z=null!==(D=K.key)&&void 0!==D?D:K.ref;let Q=this._values[V];if(Q){const q=Q.get(Z);if(q)return q}else Q=this._values[V]=new Map;Q.set(Z,X);const te=this._scope[V]||(this._scope[V]=[]),J=te.length;return te[J]=K.ref,X.setValue(K,{property:V,itemIndex:J}),X}getValue($,K){const D=this._values[$];if(D)return D.get(K)}scopeRefs($,K=this._values){return this._reduceValues(K,D=>{if(void 0===D.scopePath)throw new Error(`CodeGen: name "${D}" has no value`);return p._`${$}${D.scopePath}`})}scopeCode($=this._values,K,D){return this._reduceValues($,X=>{if(void 0===X.value)throw new Error(`CodeGen: name "${X}" has no value`);return X.value.code},K,D)}_reduceValues($,K,D={},X){let V=p.nil;for(const Z in $){const Q=$[Z];if(!Q)continue;const te=D[Z]=D[Z]||new Map;Q.forEach(J=>{if(te.has(J))return;te.set(J,O.Started);let q=K(J);if(q)V=p._`${V}${this.opts.es5?z.varKinds.var:z.varKinds.const} ${J} = ${q};${this.opts._n}`;else{if(!(q=X?.(J)))throw new S(J);V=p._`${V}${q}${this.opts._n}`}te.set(J,O.Completed)})}return V}}},53421:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.extendErrors=z.resetErrorsCount=z.reportExtraError=z.reportError=z.keyword$DataError=z.keywordError=void 0;const p=E(1038),S=E(27006),O=E(23432);function N(te,J){const q=te.const("err",J);te.if(p._`${O.default.vErrors} === null`,()=>te.assign(O.default.vErrors,p._`[${q}]`),p._`${O.default.vErrors}.push(${q})`),te.code(p._`${O.default.errors}++`)}function $(te,J){const{gen:q,validateName:ne,schemaEnv:se}=te;se.$async?q.throw(p._`new ${te.ValidationError}(${J})`):(q.assign(p._`${ne}.errors`,J),q.return(!1))}z.keywordError={message:({keyword:te})=>p.str`must pass "${te}" keyword validation`},z.keyword$DataError={message:({keyword:te,schemaType:J})=>J?p.str`"${te}" keyword must be ${J} ($data)`:p.str`"${te}" keyword is invalid ($data)`},z.reportError=function G(te,J=z.keywordError,q,ne){const{it:se}=te,{gen:oe,compositeRule:ue,allErrors:ae}=se,ve=D(te,J,q);ne??(ue||ae)?N(oe,ve):$(se,p._`[${ve}]`)},z.reportExtraError=function x(te,J=z.keywordError,q){const{it:ne}=te,{gen:se,compositeRule:oe,allErrors:ue}=ne;N(se,D(te,J,q)),oe||ue||$(ne,O.default.vErrors)},z.resetErrorsCount=function B(te,J){te.assign(O.default.errors,J),te.if(p._`${O.default.vErrors} !== null`,()=>te.if(J,()=>te.assign(p._`${O.default.vErrors}.length`,J),()=>te.assign(O.default.vErrors,null)))},z.extendErrors=function A({gen:te,keyword:J,schemaValue:q,data:ne,errsCount:se,it:oe}){if(void 0===se)throw new Error("ajv implementation error");const ue=te.name("err");te.forRange("i",se,O.default.errors,ae=>{te.const(ue,p._`${O.default.vErrors}[${ae}]`),te.if(p._`${ue}.instancePath === undefined`,()=>te.assign(p._`${ue}.instancePath`,(0,p.strConcat)(O.default.instancePath,oe.errorPath))),te.assign(p._`${ue}.schemaPath`,p.str`${oe.errSchemaPath}/${J}`),oe.opts.verbose&&(te.assign(p._`${ue}.schema`,q),te.assign(p._`${ue}.data`,ne))})};const K={keyword:new p.Name("keyword"),schemaPath:new p.Name("schemaPath"),params:new p.Name("params"),propertyName:new p.Name("propertyName"),message:new p.Name("message"),schema:new p.Name("schema"),parentSchema:new p.Name("parentSchema")};function D(te,J,q){const{createErrors:ne}=te.it;return!1===ne?p._`{}`:function X(te,J,q={}){const{gen:ne,it:se}=te,oe=[V(se,q),Z(te,q)];return function Q(te,{params:J,message:q},ne){const{keyword:se,data:oe,schemaValue:ue,it:ae}=te,{opts:ve,propertyName:_e,topSchemaRef:De,schemaPath:P}=ae;ne.push([K.keyword,se],[K.params,"function"==typeof J?J(te):J||p._`{}`]),ve.messages&&ne.push([K.message,"function"==typeof q?q(te):q]),ve.verbose&&ne.push([K.schema,ue],[K.parentSchema,p._`${De}${P}`],[O.default.data,oe]),_e&&ne.push([K.propertyName,_e])}(te,J,oe),ne.object(...oe)}(te,J,q)}function V({errorPath:te},{instancePath:J}){const q=J?p.str`${te}${(0,S.getErrorPath)(J,S.Type.Str)}`:te;return[O.default.instancePath,(0,p.strConcat)(O.default.instancePath,q)]}function Z({keyword:te,it:{errSchemaPath:J}},{schemaPath:q,parentSchema:ne}){let se=ne?J:p.str`${J}/${te}`;return q&&(se=p.str`${se}${(0,S.getErrorPath)(q,S.Type.Str)}`),[K.schemaPath,se]}},97692:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.resolveSchema=z.getCompilingSchema=z.resolveRef=z.compileSchema=z.SchemaEnv=void 0;const p=E(1038),S=E(42467),O=E(23432),G=E(77172),x=E(27006),B=E(40339);class A{constructor(q){var ne;let se;this.refs={},this.dynamicAnchors={},"object"==typeof q.schema&&(se=q.schema),this.schema=q.schema,this.schemaId=q.schemaId,this.root=q.root||this,this.baseId=null!==(ne=q.baseId)&&void 0!==ne?ne:(0,G.normalizeId)(se?.[q.schemaId||"$id"]),this.schemaPath=q.schemaPath,this.localRefs=q.localRefs,this.meta=q.meta,this.$async=se?.$async,this.refs={}}}function N(J){const q=D.call(this,J);if(q)return q;const ne=(0,G.getFullPath)(this.opts.uriResolver,J.root.baseId),{es5:se,lines:oe}=this.opts.code,{ownProperties:ue}=this.opts,ae=new p.CodeGen(this.scope,{es5:se,lines:oe,ownProperties:ue});let ve;J.$async&&(ve=ae.scopeValue("Error",{ref:S.default,code:p._`require("ajv/dist/runtime/validation_error").default`}));const _e=ae.scopeName("validate");J.validateName=_e;const De={gen:ae,allErrors:this.opts.allErrors,data:O.default.data,parentData:O.default.parentData,parentDataProperty:O.default.parentDataProperty,dataNames:[O.default.data],dataPathArr:[p.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:ae.scopeValue("schema",!0===this.opts.code.source?{ref:J.schema,code:(0,p.stringify)(J.schema)}:{ref:J.schema}),validateName:_e,ValidationError:ve,schema:J.schema,schemaEnv:J,rootId:ne,baseId:J.baseId||ne,schemaPath:p.nil,errSchemaPath:J.schemaPath||(this.opts.jtd?"":"#"),errorPath:p._`""`,opts:this.opts,self:this};let P;try{this._compilations.add(J),(0,B.validateFunctionCode)(De),ae.optimize(this.opts.code.optimize);const u=ae.toString();P=`${ae.scopeRefs(O.default.scope)}return ${u}`,this.opts.code.process&&(P=this.opts.code.process(P,J));const g=new Function(`${O.default.self}`,`${O.default.scope}`,P)(this,this.scope.get());if(this.scope.value(_e,{ref:g}),g.errors=null,g.schema=J.schema,g.schemaEnv=J,J.$async&&(g.$async=!0),!0===this.opts.code.source&&(g.source={validateName:_e,validateCode:u,scopeValues:ae._values}),this.opts.unevaluated){const{props:w,items:T}=De;g.evaluated={props:w instanceof p.Name?void 0:w,items:T instanceof p.Name?void 0:T,dynamicProps:w instanceof p.Name,dynamicItems:T instanceof p.Name},g.source&&(g.source.evaluated=(0,p.stringify)(g.evaluated))}return J.validate=g,J}catch(u){throw delete J.validate,delete J.validateName,P&&this.logger.error("Error compiling schema, function code:",P),u}finally{this._compilations.delete(J)}}function K(J){return(0,G.inlineRef)(J.schema,this.opts.inlineRefs)?J.schema:J.validate?J:N.call(this,J)}function D(J){for(const q of this._compilations)if(X(q,J))return q}function X(J,q){return J.schema===q.schema&&J.root===q.root&&J.baseId===q.baseId}function V(J,q){let ne;for(;"string"==typeof(ne=this.refs[q]);)q=ne;return ne||this.schemas[q]||Z.call(this,J,q)}function Z(J,q){const ne=this.opts.uriResolver.parse(q),se=(0,G._getFullPath)(this.opts.uriResolver,ne);let oe=(0,G.getFullPath)(this.opts.uriResolver,J.baseId,void 0);if(Object.keys(J.schema).length>0&&se===oe)return te.call(this,ne,J);const ue=(0,G.normalizeId)(se),ae=this.refs[ue]||this.schemas[ue];if("string"==typeof ae){const ve=Z.call(this,J,ae);return"object"!=typeof ve?.schema?void 0:te.call(this,ne,ve)}if("object"==typeof ae?.schema){if(ae.validate||N.call(this,ae),ue===(0,G.normalizeId)(q)){const{schema:ve}=ae,{schemaId:_e}=this.opts,De=ve[_e];return De&&(oe=(0,G.resolveUrl)(this.opts.uriResolver,oe,De)),new A({schema:ve,schemaId:_e,root:J,baseId:oe})}return te.call(this,ne,ae)}}z.SchemaEnv=A,z.compileSchema=N,z.resolveRef=function $(J,q,ne){var se;ne=(0,G.resolveUrl)(this.opts.uriResolver,q,ne);const oe=J.refs[ne];if(oe)return oe;let ue=V.call(this,J,ne);if(void 0===ue){const ae=null===(se=J.localRefs)||void 0===se?void 0:se[ne],{schemaId:ve}=this.opts;ae&&(ue=new A({schema:ae,schemaId:ve,root:J,baseId:q}))}return void 0!==ue?J.refs[ne]=K.call(this,ue):void 0},z.getCompilingSchema=D,z.resolveSchema=Z;const Q=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function te(J,{baseId:q,schema:ne,root:se}){var oe;if("/"!==(null===(oe=J.fragment)||void 0===oe?void 0:oe[0]))return;for(const ve of J.fragment.slice(1).split("/")){if("boolean"==typeof ne)return;const _e=ne[(0,x.unescapeFragment)(ve)];if(void 0===_e)return;const De="object"==typeof(ne=_e)&&ne[this.opts.schemaId];!Q.has(ve)&&De&&(q=(0,G.resolveUrl)(this.opts.uriResolver,q,De))}let ue;if("boolean"!=typeof ne&&ne.$ref&&!(0,x.schemaHasRulesButRef)(ne,this.RULES)){const ve=(0,G.resolveUrl)(this.opts.uriResolver,q,ne.$ref);ue=Z.call(this,se,ve)}const{schemaId:ae}=this.opts;return ue=ue||new A({schema:ne,schemaId:ae,root:se,baseId:q}),ue.schema!==ue.root.schema?ue:void 0}},23432:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(1038),S={data:new p.Name("data"),valCxt:new p.Name("valCxt"),instancePath:new p.Name("instancePath"),parentData:new p.Name("parentData"),parentDataProperty:new p.Name("parentDataProperty"),rootData:new p.Name("rootData"),dynamicAnchors:new p.Name("dynamicAnchors"),vErrors:new p.Name("vErrors"),errors:new p.Name("errors"),this:new p.Name("this"),self:new p.Name("self"),scope:new p.Name("scope"),json:new p.Name("json"),jsonPos:new p.Name("jsonPos"),jsonLen:new p.Name("jsonLen"),jsonPart:new p.Name("jsonPart")};z.default=S},26288:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(77172);class S extends Error{constructor(G,x,B,A){super(A||`can't resolve reference ${B} from id ${x}`),this.missingRef=(0,p.resolveUrl)(G,x,B),this.missingSchema=(0,p.normalizeId)((0,p.getFullPath)(G,this.missingRef))}}z.default=S},77172:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getSchemaRefs=z.resolveUrl=z.normalizeId=z._getFullPath=z.getFullPath=z.inlineRef=void 0;const p=E(27006),S=E(40362),O=E(44331),G=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);z.inlineRef=function x(te,J=!0){return"boolean"==typeof te||(!0===J?!A(te):!!J&&N(te)<=J)};const B=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function A(te){for(const J in te){if(B.has(J))return!0;const q=te[J];if(Array.isArray(q)&&q.some(A)||"object"==typeof q&&A(q))return!0}return!1}function N(te){let J=0;for(const q in te){if("$ref"===q)return 1/0;if(J++,!G.has(q)&&("object"==typeof te[q]&&(0,p.eachItem)(te[q],ne=>J+=N(ne)),J===1/0))return 1/0}return J}function $(te,J="",q){!1!==q&&(J=X(J));const ne=te.parse(J);return K(te,ne)}function K(te,J){return te.serialize(J).split("#")[0]+"#"}z.getFullPath=$,z._getFullPath=K;const D=/#\/?$/;function X(te){return te?te.replace(D,""):""}z.normalizeId=X,z.resolveUrl=function V(te,J,q){return q=X(q),te.resolve(J,q)};const Z=/^[a-z_][-a-z0-9._]*$/i;z.getSchemaRefs=function Q(te,J){if("boolean"==typeof te)return{};const{schemaId:q,uriResolver:ne}=this.opts,se=X(te[q]||J),oe={"":se},ue=$(ne,se,!1),ae={},ve=new Set;return O(te,{allKeys:!0},(P,u,h,g)=>{if(void 0===g)return;const w=ue+u;let T=oe[g];function C(M){if(M=X(T?(0,this.opts.uriResolver.resolve)(T,M):M),ve.has(M))throw De(M);ve.add(M);let v=this.refs[M];return"string"==typeof v&&(v=this.refs[v]),"object"==typeof v?_e(P,v.schema,M):M!==X(w)&&("#"===M[0]?(_e(P,ae[M],M),ae[M]=P):this.refs[M]=w),M}function j(M){if("string"==typeof M){if(!Z.test(M))throw new Error(`invalid anchor "${M}"`);C.call(this,`#${M}`)}}"string"==typeof P[q]&&(T=C.call(this,P[q])),j.call(this,P.$anchor),j.call(this,P.$dynamicAnchor),oe[u]=T}),ae;function _e(P,u,h){if(void 0!==u&&!S(P,u))throw De(h)}function De(P){return new Error(`reference "${P}" resolves to more than one schema`)}}},32203:(Be,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getRules=z.isJSONType=void 0;const p=new Set(["string","number","integer","boolean","null","object","array"]);z.isJSONType=function S(G){return"string"==typeof G&&p.has(G)},z.getRules=function O(){const G={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...G,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},G.number,G.string,G.array,G.object],post:{rules:[]},all:{},keywords:{}}}},27006:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.checkStrictMode=z.getErrorPath=z.Type=z.useFunc=z.setEvaluated=z.evaluatedPropsToName=z.mergeEvaluated=z.eachItem=z.unescapeJsonPointer=z.escapeJsonPointer=z.escapeFragment=z.unescapeFragment=z.schemaRefOrVal=z.schemaHasRulesButRef=z.schemaHasRules=z.checkUnknownRules=z.alwaysValidSchema=z.toHash=void 0;const p=E(1038),S=E(33337);function x(ue,ae=ue.schema){const{opts:ve,self:_e}=ue;if(!ve.strictSchema||"boolean"==typeof ae)return;const De=_e.RULES.keywords;for(const P in ae)De[P]||oe(ue,`unknown keyword: "${P}"`)}function B(ue,ae){if("boolean"==typeof ue)return!ue;for(const ve in ue)if(ae[ve])return!0;return!1}function D(ue){return"number"==typeof ue?`${ue}`:ue.replace(/~/g,"~0").replace(/\//g,"~1")}function X(ue){return ue.replace(/~1/g,"/").replace(/~0/g,"~")}function Z({mergeNames:ue,mergeToName:ae,mergeValues:ve,resultToName:_e}){return(De,P,u,h)=>{const g=void 0===u?P:u instanceof p.Name?(P instanceof p.Name?ue(De,P,u):ae(De,P,u),u):P instanceof p.Name?(ae(De,u,P),P):ve(P,u);return h!==p.Name||g instanceof p.Name?g:_e(De,g)}}function Q(ue,ae){if(!0===ae)return ue.var("props",!0);const ve=ue.var("props",p._`{}`);return void 0!==ae&&te(ue,ve,ae),ve}function te(ue,ae,ve){Object.keys(ve).forEach(_e=>ue.assign(p._`${ae}${(0,p.getProperty)(_e)}`,!0))}z.toHash=function O(ue){const ae={};for(const ve of ue)ae[ve]=!0;return ae},z.alwaysValidSchema=function G(ue,ae){return"boolean"==typeof ae?ae:0===Object.keys(ae).length||(x(ue,ae),!B(ae,ue.self.RULES.all))},z.checkUnknownRules=x,z.schemaHasRules=B,z.schemaHasRulesButRef=function A(ue,ae){if("boolean"==typeof ue)return!ue;for(const ve in ue)if("$ref"!==ve&&ae.all[ve])return!0;return!1},z.schemaRefOrVal=function N({topSchemaRef:ue,schemaPath:ae},ve,_e,De){if(!De){if("number"==typeof ve||"boolean"==typeof ve)return ve;if("string"==typeof ve)return p._`${ve}`}return p._`${ue}${ae}${(0,p.getProperty)(_e)}`},z.unescapeFragment=function $(ue){return X(decodeURIComponent(ue))},z.escapeFragment=function K(ue){return encodeURIComponent(D(ue))},z.escapeJsonPointer=D,z.unescapeJsonPointer=X,z.eachItem=function V(ue,ae){if(Array.isArray(ue))for(const ve of ue)ae(ve);else ae(ue)},z.mergeEvaluated={props:Z({mergeNames:(ue,ae,ve)=>ue.if(p._`${ve} !== true && ${ae} !== undefined`,()=>{ue.if(p._`${ae} === true`,()=>ue.assign(ve,!0),()=>ue.assign(ve,p._`${ve} || {}`).code(p._`Object.assign(${ve}, ${ae})`))}),mergeToName:(ue,ae,ve)=>ue.if(p._`${ve} !== true`,()=>{!0===ae?ue.assign(ve,!0):(ue.assign(ve,p._`${ve} || {}`),te(ue,ve,ae))}),mergeValues:(ue,ae)=>!0===ue||{...ue,...ae},resultToName:Q}),items:Z({mergeNames:(ue,ae,ve)=>ue.if(p._`${ve} !== true && ${ae} !== undefined`,()=>ue.assign(ve,p._`${ae} === true ? true : ${ve} > ${ae} ? ${ve} : ${ae}`)),mergeToName:(ue,ae,ve)=>ue.if(p._`${ve} !== true`,()=>ue.assign(ve,!0===ae||p._`${ve} > ${ae} ? ${ve} : ${ae}`)),mergeValues:(ue,ae)=>!0===ue||Math.max(ue,ae),resultToName:(ue,ae)=>ue.var("items",ae)})},z.evaluatedPropsToName=Q,z.setEvaluated=te;const J={};var ne,ue;function oe(ue,ae,ve=ue.opts.strictSchema){if(ve){if(ae=`strict mode: ${ae}`,!0===ve)throw new Error(ae);ue.self.logger.warn(ae)}}z.useFunc=function q(ue,ae){return ue.scopeValue("func",{ref:ae,code:J[ae.code]||(J[ae.code]=new S._Code(ae.code))})},(ue=ne=z.Type||(z.Type={}))[ue.Num=0]="Num",ue[ue.Str=1]="Str",z.getErrorPath=function se(ue,ae,ve){if(ue instanceof p.Name){const _e=ae===ne.Num;return ve?_e?p._`"[" + ${ue} + "]"`:p._`"['" + ${ue} + "']"`:_e?p._`"/" + ${ue}`:p._`"/" + ${ue}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return ve?(0,p.getProperty)(ue).toString():"/"+D(ue)},z.checkStrictMode=oe},22650:(Be,z)=>{"use strict";function p(O,G){return G.rules.some(x=>S(O,x))}function S(O,G){var x;return void 0!==O[G.keyword]||(null===(x=G.definition.implements)||void 0===x?void 0:x.some(B=>void 0!==O[B]))}Object.defineProperty(z,"__esModule",{value:!0}),z.shouldUseRule=z.shouldUseGroup=z.schemaHasRulesForType=void 0,z.schemaHasRulesForType=function E({schema:O,self:G},x){const B=G.RULES.types[x];return B&&!0!==B&&p(O,B)},z.shouldUseGroup=p,z.shouldUseRule=S},37864:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.boolOrEmptySchema=z.topBoolOrEmptySchema=void 0;const p=E(53421),S=E(1038),O=E(23432),G={message:"boolean schema is false"};function A(N,$){const{gen:K,data:D}=N;(0,p.reportError)({gen:K,keyword:"false schema",data:D,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:N},G,void 0,$)}z.topBoolOrEmptySchema=function x(N){const{gen:$,schema:K,validateName:D}=N;!1===K?A(N,!1):"object"==typeof K&&!0===K.$async?$.return(O.default.data):($.assign(S._`${D}.errors`,null),$.return(!0))},z.boolOrEmptySchema=function B(N,$){const{gen:K,schema:D}=N;!1===D?(K.var($,!1),A(N)):K.var($,!0)}},55999:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.reportTypeError=z.checkDataTypes=z.checkDataType=z.coerceAndCheckDataType=z.getJSONTypes=z.getSchemaTypes=z.DataType=void 0;const p=E(32203),S=E(22650),O=E(53421),G=E(1038),x=E(27006);var B,ne;function N(ne){const se=Array.isArray(ne)?ne:ne?[ne]:[];if(se.every(p.isJSONType))return se;throw new Error("type must be JSONType or JSONType[]: "+se.join(","))}(ne=B=z.DataType||(z.DataType={}))[ne.Correct=0]="Correct",ne[ne.Wrong=1]="Wrong",z.getSchemaTypes=function A(ne){const se=N(ne.type);if(se.includes("null")){if(!1===ne.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!se.length&&void 0!==ne.nullable)throw new Error('"nullable" cannot be used without "type"');!0===ne.nullable&&se.push("null")}return se},z.getJSONTypes=N,z.coerceAndCheckDataType=function $(ne,se){const{gen:oe,data:ue,opts:ae}=ne,ve=function D(ne,se){return se?ne.filter(oe=>K.has(oe)||"array"===se&&"array"===oe):[]}(se,ae.coerceTypes),_e=se.length>0&&!(0===ve.length&&1===se.length&&(0,S.schemaHasRulesForType)(ne,se[0]));if(_e){const De=Q(se,ue,ae.strictNumbers,B.Wrong);oe.if(De,()=>{ve.length?function X(ne,se,oe){const{gen:ue,data:ae,opts:ve}=ne,_e=ue.let("dataType",G._`typeof ${ae}`),De=ue.let("coerced",G._`undefined`);"array"===ve.coerceTypes&&ue.if(G._`${_e} == 'object' && Array.isArray(${ae}) && ${ae}.length == 1`,()=>ue.assign(ae,G._`${ae}[0]`).assign(_e,G._`typeof ${ae}`).if(Q(se,ae,ve.strictNumbers),()=>ue.assign(De,ae))),ue.if(G._`${De} !== undefined`);for(const u of oe)(K.has(u)||"array"===u&&"array"===ve.coerceTypes)&&P(u);function P(u){switch(u){case"string":return void ue.elseIf(G._`${_e} == "number" || ${_e} == "boolean"`).assign(De,G._`"" + ${ae}`).elseIf(G._`${ae} === null`).assign(De,G._`""`);case"number":return void ue.elseIf(G._`${_e} == "boolean" || ${ae} === null
              || (${_e} == "string" && ${ae} && ${ae} == +${ae})`).assign(De,G._`+${ae}`);case"integer":return void ue.elseIf(G._`${_e} === "boolean" || ${ae} === null
              || (${_e} === "string" && ${ae} && ${ae} == +${ae} && !(${ae} % 1))`).assign(De,G._`+${ae}`);case"boolean":return void ue.elseIf(G._`${ae} === "false" || ${ae} === 0 || ${ae} === null`).assign(De,!1).elseIf(G._`${ae} === "true" || ${ae} === 1`).assign(De,!0);case"null":return ue.elseIf(G._`${ae} === "" || ${ae} === 0 || ${ae} === false`),void ue.assign(De,null);case"array":ue.elseIf(G._`${_e} === "string" || ${_e} === "number"
              || ${_e} === "boolean" || ${ae} === null`).assign(De,G._`[${ae}]`)}}ue.else(),J(ne),ue.endIf(),ue.if(G._`${De} !== undefined`,()=>{ue.assign(ae,De),function V({gen:ne,parentData:se,parentDataProperty:oe},ue){ne.if(G._`${se} !== undefined`,()=>ne.assign(G._`${se}[${oe}]`,ue))}(ne,De)})}(ne,se,ve):J(ne)})}return _e};const K=new Set(["string","number","integer","boolean","null"]);function Z(ne,se,oe,ue=B.Correct){const ae=ue===B.Correct?G.operators.EQ:G.operators.NEQ;let ve;switch(ne){case"null":return G._`${se} ${ae} null`;case"array":ve=G._`Array.isArray(${se})`;break;case"object":ve=G._`${se} && typeof ${se} == "object" && !Array.isArray(${se})`;break;case"integer":ve=_e(G._`!(${se} % 1) && !isNaN(${se})`);break;case"number":ve=_e();break;default:return G._`typeof ${se} ${ae} ${ne}`}return ue===B.Correct?ve:(0,G.not)(ve);function _e(De=G.nil){return(0,G.and)(G._`typeof ${se} == "number"`,De,oe?G._`isFinite(${se})`:G.nil)}}function Q(ne,se,oe,ue){if(1===ne.length)return Z(ne[0],se,oe,ue);let ae;const ve=(0,x.toHash)(ne);if(ve.array&&ve.object){const _e=G._`typeof ${se} != "object"`;ae=ve.null?_e:G._`!${se} || ${_e}`,delete ve.null,delete ve.array,delete ve.object}else ae=G.nil;ve.number&&delete ve.integer;for(const _e in ve)ae=(0,G.and)(ae,Z(_e,se,oe,ue));return ae}z.checkDataType=Z,z.checkDataTypes=Q;const te={message:({schema:ne})=>`must be ${ne}`,params:({schema:ne,schemaValue:se})=>"string"==typeof ne?G._`{type: ${ne}}`:G._`{type: ${se}}`};function J(ne){const se=function q(ne){const{gen:se,data:oe,schema:ue}=ne,ae=(0,x.schemaRefOrVal)(ne,ue,"type");return{gen:se,keyword:"type",data:oe,schema:ue.type,schemaCode:ae,schemaValue:ae,parentSchema:ue,params:{},it:ne}}(ne);(0,O.reportError)(se,te)}z.reportTypeError=J},48733:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.assignDefaults=void 0;const p=E(1038),S=E(27006);function G(x,B,A){const{gen:N,compositeRule:$,data:K,opts:D}=x;if(void 0===A)return;const X=p._`${K}${(0,p.getProperty)(B)}`;if($)return void(0,S.checkStrictMode)(x,`default is ignored for: ${X}`);let V=p._`${X} === undefined`;"empty"===D.useDefaults&&(V=p._`${V} || ${X} === null || ${X} === ""`),N.if(V,p._`${X} = ${(0,p.stringify)(A)}`)}z.assignDefaults=function O(x,B){const{properties:A,items:N}=x.schema;if("object"===B&&A)for(const $ in A)G(x,$,A[$].default);else"array"===B&&Array.isArray(N)&&N.forEach(($,K)=>G(x,K,$.default))}},40339:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getData=z.KeywordCxt=z.validateFunctionCode=void 0;const p=E(37864),S=E(55999),O=E(22650),G=E(55999),x=E(48733),B=E(76800),A=E(16334),N=E(1038),$=E(23432),K=E(77172),D=E(27006),X=E(53421);function Z({gen:me,validateName:xe,schema:le,schemaEnv:he,opts:re},de){re.code.es5?me.func(xe,N._`${$.default.data}, ${$.default.valCxt}`,he.$async,()=>{me.code(N._`"use strict"; ${ne(le,re)}`),function te(me,xe){me.if($.default.valCxt,()=>{me.var($.default.instancePath,N._`${$.default.valCxt}.${$.default.instancePath}`),me.var($.default.parentData,N._`${$.default.valCxt}.${$.default.parentData}`),me.var($.default.parentDataProperty,N._`${$.default.valCxt}.${$.default.parentDataProperty}`),me.var($.default.rootData,N._`${$.default.valCxt}.${$.default.rootData}`),xe.dynamicRef&&me.var($.default.dynamicAnchors,N._`${$.default.valCxt}.${$.default.dynamicAnchors}`)},()=>{me.var($.default.instancePath,N._`""`),me.var($.default.parentData,N._`undefined`),me.var($.default.parentDataProperty,N._`undefined`),me.var($.default.rootData,$.default.data),xe.dynamicRef&&me.var($.default.dynamicAnchors,N._`{}`)})}(me,re),me.code(de)}):me.func(xe,N._`${$.default.data}, ${function Q(me){return N._`{${$.default.instancePath}="", ${$.default.parentData}, ${$.default.parentDataProperty}, ${$.default.rootData}=${$.default.data}${me.dynamicRef?N._`, ${$.default.dynamicAnchors}={}`:N.nil}}={}`}(re)}`,he.$async,()=>me.code(ne(le,re)).code(de))}function ne(me,xe){const le="object"==typeof me&&me[xe.schemaId];return le&&(xe.code.source||xe.code.process)?N._`/*# sourceURL=${le} */`:N.nil}function oe({schema:me,self:xe}){if("boolean"==typeof me)return!me;for(const le in me)if(xe.RULES.all[le])return!0;return!1}function ue(me){return"boolean"!=typeof me.schema}function ve(me){(0,D.checkUnknownRules)(me),function De(me){const{schema:xe,errSchemaPath:le,opts:he,self:re}=me;xe.$ref&&he.ignoreKeywordsWithRef&&(0,D.schemaHasRulesButRef)(xe,re.RULES)&&re.logger.warn(`$ref: keywords ignored in schema at path "${le}"`)}(me)}function _e(me,xe){if(me.opts.jtd)return C(me,[],!1,xe);const le=(0,S.getSchemaTypes)(me.schema);C(me,le,!(0,S.coerceAndCheckDataType)(me,le),xe)}function g({gen:me,schemaEnv:xe,schema:le,errSchemaPath:he,opts:re}){const de=le.$comment;if(!0===re.$comment)me.code(N._`${$.default.self}.logger.log(${de})`);else if("function"==typeof re.$comment){const pe=N.str`${he}/$comment`,Se=me.scopeValue("root",{ref:xe.root});me.code(N._`${$.default.self}.opts.$comment(${de}, ${pe}, ${Se}.schema)`)}}function C(me,xe,le,he){const{gen:re,schema:de,data:pe,allErrors:Se,opts:ke,self:Fe}=me,{RULES:We}=Fe;function Tt(Xe){(0,O.shouldUseGroup)(de,Xe)&&(Xe.type?(re.if((0,G.checkDataType)(Xe.type,pe,ke.strictNumbers)),j(me,Xe),1===xe.length&&xe[0]===Xe.type&&le&&(re.else(),(0,G.reportTypeError)(me)),re.endIf()):j(me,Xe),Se||re.if(N._`${$.default.errors} === ${he||0}`))}!de.$ref||!ke.ignoreKeywordsWithRef&&(0,D.schemaHasRulesButRef)(de,We)?(ke.jtd||function M(me,xe){me.schemaEnv.meta||!me.opts.strictTypes||(function d(me,xe){if(xe.length){if(!me.dataTypes.length)return void(me.dataTypes=xe);xe.forEach(le=>{ee(me.dataTypes,le)||Ae(me,`type "${le}" not allowed by context "${me.dataTypes.join(",")}"`)}),function fe(me,xe){const le=[];for(const he of me.dataTypes)ee(xe,he)?le.push(he):xe.includes("integer")&&"number"===he&&le.push("integer");me.dataTypes=le}(me,xe)}}(me,xe),me.opts.allowUnionTypes||function v(me,xe){xe.length>1&&(2!==xe.length||!xe.includes("null"))&&Ae(me,"use allowUnionTypes to allow union type keyword")}(me,xe),function W(me,xe){const le=me.self.RULES.all;for(const he in le){const re=le[he];if("object"==typeof re&&(0,O.shouldUseRule)(me.schema,re)){const{type:de}=re.definition;de.length&&!de.some(pe=>H(xe,pe))&&Ae(me,`missing type "${de.join(",")}" for keyword "${he}"`)}}}(me,me.dataTypes))}(me,xe),re.block(()=>{for(const Xe of We.rules)Tt(Xe);Tt(We.post)})):re.block(()=>Le(me,"$ref",We.all.$ref.definition))}function j(me,xe){const{gen:le,schema:he,opts:{useDefaults:re}}=me;re&&(0,x.assignDefaults)(me,xe.type),le.block(()=>{for(const de of xe.rules)(0,O.shouldUseRule)(he,de)&&Le(me,de.keyword,de.definition,xe.type)})}function H(me,xe){return me.includes(xe)||"number"===xe&&me.includes("integer")}function ee(me,xe){return me.includes(xe)||"integer"===xe&&me.includes("number")}function Ae(me,xe){(0,D.checkStrictMode)(me,xe+=` at "${me.schemaEnv.baseId+me.errSchemaPath}" (strictTypes)`,me.opts.strictTypes)}z.validateFunctionCode=function V(me){ue(me)&&(ve(me),oe(me))?function J(me){const{schema:xe,opts:le,gen:he}=me;Z(me,()=>{le.$comment&&xe.$comment&&g(me),function P(me){const{schema:xe,opts:le}=me;void 0!==xe.default&&le.useDefaults&&le.strictSchema&&(0,D.checkStrictMode)(me,"default is ignored in the schema root")}(me),he.let($.default.vErrors,null),he.let($.default.errors,0),le.unevaluated&&function q(me){const{gen:xe,validateName:le}=me;me.evaluated=xe.const("evaluated",N._`${le}.evaluated`),xe.if(N._`${me.evaluated}.dynamicProps`,()=>xe.assign(N._`${me.evaluated}.props`,N._`undefined`)),xe.if(N._`${me.evaluated}.dynamicItems`,()=>xe.assign(N._`${me.evaluated}.items`,N._`undefined`))}(me),_e(me),function w(me){const{gen:xe,schemaEnv:le,validateName:he,ValidationError:re,opts:de}=me;le.$async?xe.if(N._`${$.default.errors} === 0`,()=>xe.return($.default.data),()=>xe.throw(N._`new ${re}(${$.default.vErrors})`)):(xe.assign(N._`${he}.errors`,$.default.vErrors),de.unevaluated&&function T({gen:me,evaluated:xe,props:le,items:he}){le instanceof N.Name&&me.assign(N._`${xe}.props`,le),he instanceof N.Name&&me.assign(N._`${xe}.items`,he)}(me),xe.return(N._`${$.default.errors} === 0`))}(me)})}(me):Z(me,()=>(0,p.topBoolOrEmptySchema)(me))};class Pe{constructor(xe,le,he){if((0,B.validateKeywordUsage)(xe,le,he),this.gen=xe.gen,this.allErrors=xe.allErrors,this.keyword=he,this.data=xe.data,this.schema=xe.schema[he],this.$data=le.$data&&xe.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,D.schemaRefOrVal)(xe,this.schema,he,this.$data),this.schemaType=le.schemaType,this.parentSchema=xe.schema,this.params={},this.it=xe,this.def=le,this.$data)this.schemaCode=xe.gen.const("vSchema",Re(this.$data,xe));else if(this.schemaCode=this.schemaValue,!(0,B.validSchemaType)(this.schema,le.schemaType,le.allowUndefined))throw new Error(`${he} value must be ${JSON.stringify(le.schemaType)}`);("code"in le?le.trackErrors:!1!==le.errors)&&(this.errsCount=xe.gen.const("_errs",$.default.errors))}result(xe,le,he){this.failResult((0,N.not)(xe),le,he)}failResult(xe,le,he){this.gen.if(xe),he?he():this.error(),le?(this.gen.else(),le(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(xe,le){this.failResult((0,N.not)(xe),void 0,le)}fail(xe){if(void 0===xe)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(xe),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(xe){if(!this.$data)return this.fail(xe);const{schemaCode:le}=this;this.fail(N._`${le} !== undefined && (${(0,N.or)(this.invalid$data(),xe)})`)}error(xe,le,he){if(le)return this.setParams(le),this._error(xe,he),void this.setParams({});this._error(xe,he)}_error(xe,le){(xe?X.reportExtraError:X.reportError)(this,this.def.error,le)}$dataError(){(0,X.reportError)(this,this.def.$dataError||X.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,X.resetErrorsCount)(this.gen,this.errsCount)}ok(xe){this.allErrors||this.gen.if(xe)}setParams(xe,le){le?Object.assign(this.params,xe):this.params=xe}block$data(xe,le,he=N.nil){this.gen.block(()=>{this.check$data(xe,he),le()})}check$data(xe=N.nil,le=N.nil){if(!this.$data)return;const{gen:he,schemaCode:re,schemaType:de,def:pe}=this;he.if((0,N.or)(N._`${re} === undefined`,le)),xe!==N.nil&&he.assign(xe,!0),(de.length||pe.validateSchema)&&(he.elseIf(this.invalid$data()),this.$dataError(),xe!==N.nil&&he.assign(xe,!1)),he.else()}invalid$data(){const{gen:xe,schemaCode:le,schemaType:he,def:re,it:de}=this;return(0,N.or)(function pe(){if(he.length){if(!(le instanceof N.Name))throw new Error("ajv implementation error");const ke=Array.isArray(he)?he:[he];return N._`${(0,G.checkDataTypes)(ke,le,de.opts.strictNumbers,G.DataType.Wrong)}`}return N.nil}(),function Se(){if(re.validateSchema){const ke=xe.scopeValue("validate$data",{ref:re.validateSchema});return N._`!${ke}(${le})`}return N.nil}())}subschema(xe,le){const he=(0,A.getSubschema)(this.it,xe);(0,A.extendSubschemaData)(he,this.it,xe),(0,A.extendSubschemaMode)(he,xe);const re={...this.it,...he,items:void 0,props:void 0};return function se(me,xe){ue(me)&&(ve(me),oe(me))?function ae(me,xe){const{schema:le,gen:he,opts:re}=me;re.$comment&&le.$comment&&g(me),function u(me){const xe=me.schema[me.opts.schemaId];xe&&(me.baseId=(0,K.resolveUrl)(me.opts.uriResolver,me.baseId,xe))}(me),function h(me){if(me.schema.$async&&!me.schemaEnv.$async)throw new Error("async schema in sync schema")}(me);const de=he.const("_errs",$.default.errors);_e(me,de),he.var(xe,N._`${de} === ${$.default.errors}`)}(me,xe):(0,p.boolOrEmptySchema)(me,xe)}(re,le),re}mergeEvaluated(xe,le){const{it:he,gen:re}=this;he.opts.unevaluated&&(!0!==he.props&&void 0!==xe.props&&(he.props=D.mergeEvaluated.props(re,xe.props,he.props,le)),!0!==he.items&&void 0!==xe.items&&(he.items=D.mergeEvaluated.items(re,xe.items,he.items,le)))}mergeValidEvaluated(xe,le){const{it:he,gen:re}=this;if(he.opts.unevaluated&&(!0!==he.props||!0!==he.items))return re.if(le,()=>this.mergeEvaluated(xe,N.Name)),!0}}function Le(me,xe,le,he){const re=new Pe(me,le,xe);"code"in le?le.code(re,he):re.$data&&le.validate?(0,B.funcKeywordCode)(re,le):"macro"in le?(0,B.macroKeywordCode)(re,le):(le.compile||le.validate)&&(0,B.funcKeywordCode)(re,le)}z.KeywordCxt=Pe;const be=/^\/(?:[^~]|~0|~1)*$/,ge=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Re(me,{dataLevel:xe,dataNames:le,dataPathArr:he}){let re,de;if(""===me)return $.default.rootData;if("/"===me[0]){if(!be.test(me))throw new Error(`Invalid JSON-pointer: ${me}`);re=me,de=$.default.rootData}else{const Fe=ge.exec(me);if(!Fe)throw new Error(`Invalid JSON-pointer: ${me}`);const We=+Fe[1];if(re=Fe[2],"#"===re){if(We>=xe)throw new Error(ke("property/index",We));return he[xe-We]}if(We>xe)throw new Error(ke("data",We));if(de=le[xe-We],!re)return de}let pe=de;const Se=re.split("/");for(const Fe of Se)Fe&&(de=N._`${de}${(0,N.getProperty)((0,D.unescapeJsonPointer)(Fe))}`,pe=N._`${pe} && ${de}`);return pe;function ke(Fe,We){return`Cannot access ${Fe} ${We} levels up, current level is ${xe}`}}z.getData=Re},76800:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateKeywordUsage=z.validSchemaType=z.funcKeywordCode=z.macroKeywordCode=void 0;const p=E(1038),S=E(23432),O=E(42406),G=E(53421);function A(V){const{gen:Z,data:Q,it:te}=V;Z.if(te.parentData,()=>Z.assign(Q,p._`${te.parentData}[${te.parentDataProperty}]`))}function K(V,Z,Q){if(void 0===Q)throw new Error(`keyword "${Z}" failed to compile`);return V.scopeValue("keyword","function"==typeof Q?{ref:Q}:{ref:Q,code:(0,p.stringify)(Q)})}z.macroKeywordCode=function x(V,Z){const{gen:Q,keyword:te,schema:J,parentSchema:q,it:ne}=V,se=Z.macro.call(ne.self,J,q,ne),oe=K(Q,te,se);!1!==ne.opts.validateSchema&&ne.self.validateSchema(se,!0);const ue=Q.name("valid");V.subschema({schema:se,schemaPath:p.nil,errSchemaPath:`${ne.errSchemaPath}/${te}`,topSchemaRef:oe,compositeRule:!0},ue),V.pass(ue,()=>V.error(!0))},z.funcKeywordCode=function B(V,Z){var Q;const{gen:te,keyword:J,schema:q,parentSchema:ne,$data:se,it:oe}=V;!function $({schemaEnv:V},Z){if(Z.async&&!V.$async)throw new Error("async keyword in sync schema")}(oe,Z);const ue=!se&&Z.compile?Z.compile.call(oe.self,q,ne,oe):Z.validate,ae=K(te,J,ue),ve=te.let("valid");function u(g=(Z.async?p._`await `:p.nil)){te.assign(ve,p._`${g}${(0,O.callValidateCode)(V,ae,oe.opts.passContext?S.default.this:S.default.self,!("compile"in Z&&!se||!1===Z.schema))}`,Z.modifying)}function h(g){var w;te.if((0,p.not)(null!==(w=Z.valid)&&void 0!==w?w:ve),g)}V.block$data(ve,function _e(){if(!1===Z.errors)u(),Z.modifying&&A(V),h(()=>V.error());else{const g=Z.async?function De(){const g=te.let("ruleErrs",null);return te.try(()=>u(p._`await `),w=>te.assign(ve,!1).if(p._`${w} instanceof ${oe.ValidationError}`,()=>te.assign(g,p._`${w}.errors`),()=>te.throw(w))),g}():function P(){const g=p._`${ae}.errors`;return te.assign(g,null),u(p.nil),g}();Z.modifying&&A(V),h(()=>function N(V,Z){const{gen:Q}=V;Q.if(p._`Array.isArray(${Z})`,()=>{Q.assign(S.default.vErrors,p._`${S.default.vErrors} === null ? ${Z} : ${S.default.vErrors}.concat(${Z})`).assign(S.default.errors,p._`${S.default.vErrors}.length`),(0,G.extendErrors)(V)},()=>V.error())}(V,g))}}),V.ok(null!==(Q=Z.valid)&&void 0!==Q?Q:ve)},z.validSchemaType=function D(V,Z,Q=!1){return!Z.length||Z.some(te=>"array"===te?Array.isArray(V):"object"===te?V&&"object"==typeof V&&!Array.isArray(V):typeof V==te||Q&&typeof V>"u")},z.validateKeywordUsage=function X({schema:V,opts:Z,self:Q,errSchemaPath:te},J,q){if(Array.isArray(J.keyword)?!J.keyword.includes(q):J.keyword!==q)throw new Error("ajv implementation error");const ne=J.dependencies;if(ne?.some(se=>!Object.prototype.hasOwnProperty.call(V,se)))throw new Error(`parent schema must have dependencies of ${q}: ${ne.join(",")}`);if(J.validateSchema&&!J.validateSchema(V[q])){const oe=`keyword "${q}" value is invalid at path "${te}": `+Q.errorsText(J.validateSchema.errors);if("log"!==Z.validateSchema)throw new Error(oe);Q.logger.error(oe)}}},16334:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.extendSubschemaMode=z.extendSubschemaData=z.getSubschema=void 0;const p=E(1038),S=E(27006);z.getSubschema=function O(B,{keyword:A,schemaProp:N,schema:$,schemaPath:K,errSchemaPath:D,topSchemaRef:X}){if(void 0!==A&&void 0!==$)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==A){const V=B.schema[A];return void 0===N?{schema:V,schemaPath:p._`${B.schemaPath}${(0,p.getProperty)(A)}`,errSchemaPath:`${B.errSchemaPath}/${A}`}:{schema:V[N],schemaPath:p._`${B.schemaPath}${(0,p.getProperty)(A)}${(0,p.getProperty)(N)}`,errSchemaPath:`${B.errSchemaPath}/${A}/${(0,S.escapeFragment)(N)}`}}if(void 0!==$){if(void 0===K||void 0===D||void 0===X)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:$,schemaPath:K,topSchemaRef:X,errSchemaPath:D}}throw new Error('either "keyword" or "schema" must be passed')},z.extendSubschemaData=function G(B,A,{dataProp:N,dataPropType:$,data:K,dataTypes:D,propertyName:X}){if(void 0!==K&&void 0!==N)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:V}=A;if(void 0!==N){const{errorPath:Q,dataPathArr:te,opts:J}=A;Z(V.let("data",p._`${A.data}${(0,p.getProperty)(N)}`,!0)),B.errorPath=p.str`${Q}${(0,S.getErrorPath)(N,$,J.jsPropertySyntax)}`,B.parentDataProperty=p._`${N}`,B.dataPathArr=[...te,B.parentDataProperty]}function Z(Q){B.data=Q,B.dataLevel=A.dataLevel+1,B.dataTypes=[],A.definedProperties=new Set,B.parentData=A.data,B.dataNames=[...A.dataNames,Q]}void 0!==K&&(Z(K instanceof p.Name?K:V.let("data",K,!0)),void 0!==X&&(B.propertyName=X)),D&&(B.dataTypes=D)},z.extendSubschemaMode=function x(B,{jtdDiscriminator:A,jtdMetadata:N,compositeRule:$,createErrors:K,allErrors:D}){void 0!==$&&(B.compositeRule=$),void 0!==K&&(B.createErrors=K),void 0!==D&&(B.allErrors=D),B.jtdDiscriminator=A,B.jtdMetadata=N}},35419:(Be,z,E)=>{"use strict";var p=E(29293).default;Object.defineProperty(z,"__esModule",{value:!0}),z.CodeGen=z.Name=z.nil=z.stringify=z.str=z._=z.KeywordCxt=void 0;var S=E(40339);Object.defineProperty(z,"KeywordCxt",{enumerable:!0,get:function(){return S.KeywordCxt}});var O=E(1038);Object.defineProperty(z,"_",{enumerable:!0,get:function(){return O._}}),Object.defineProperty(z,"str",{enumerable:!0,get:function(){return O.str}}),Object.defineProperty(z,"stringify",{enumerable:!0,get:function(){return O.stringify}}),Object.defineProperty(z,"nil",{enumerable:!0,get:function(){return O.nil}}),Object.defineProperty(z,"Name",{enumerable:!0,get:function(){return O.Name}}),Object.defineProperty(z,"CodeGen",{enumerable:!0,get:function(){return O.CodeGen}});const G=E(42467),x=E(26288),B=E(32203),A=E(97692),N=E(1038),$=E(77172),K=E(55999),D=E(27006),X=E(83813),V=E(13203),Z=(v,W)=>new RegExp(v,W);Z.code="new RegExp";const Q=["removeAdditional","useDefaults","coerceTypes"],te=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),J={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},q={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function se(v){var W,H,ee,fe,Ae,Pe,Le,be,ge,Re,me,xe,le,he,re,de,pe,Se,ke,Fe,We,Tt,Xe,Ke,lt;const U=v.strict,_=null===(W=v.code)||void 0===W?void 0:W.optimize,m=!0===_||void 0===_?1:_||0,F=null!==(ee=null===(H=v.code)||void 0===H?void 0:H.regExp)&&void 0!==ee?ee:Z,ie=null!==(fe=v.uriResolver)&&void 0!==fe?fe:V.default;return{strictSchema:null===(Pe=null!==(Ae=v.strictSchema)&&void 0!==Ae?Ae:U)||void 0===Pe||Pe,strictNumbers:null===(be=null!==(Le=v.strictNumbers)&&void 0!==Le?Le:U)||void 0===be||be,strictTypes:null!==(Re=null!==(ge=v.strictTypes)&&void 0!==ge?ge:U)&&void 0!==Re?Re:"log",strictTuples:null!==(xe=null!==(me=v.strictTuples)&&void 0!==me?me:U)&&void 0!==xe?xe:"log",strictRequired:null!==(he=null!==(le=v.strictRequired)&&void 0!==le?le:U)&&void 0!==he&&he,code:v.code?{...v.code,optimize:m,regExp:F}:{optimize:m,regExp:F},loopRequired:null!==(re=v.loopRequired)&&void 0!==re?re:200,loopEnum:null!==(de=v.loopEnum)&&void 0!==de?de:200,meta:null===(pe=v.meta)||void 0===pe||pe,messages:null===(Se=v.messages)||void 0===Se||Se,inlineRefs:null===(ke=v.inlineRefs)||void 0===ke||ke,schemaId:null!==(Fe=v.schemaId)&&void 0!==Fe?Fe:"$id",addUsedSchema:null===(We=v.addUsedSchema)||void 0===We||We,validateSchema:null===(Tt=v.validateSchema)||void 0===Tt||Tt,validateFormats:null===(Xe=v.validateFormats)||void 0===Xe||Xe,unicodeRegExp:null===(Ke=v.unicodeRegExp)||void 0===Ke||Ke,int32range:null===(lt=v.int32range)||void 0===lt||lt,uriResolver:ie}}class oe{constructor(W={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,W=this.opts={...W,...se(W)};const{es5:H,lines:ee}=this.opts.code;this.scope=new N.ValueScope({scope:{},prefixes:te,es5:H,lines:ee}),this.logger=function h(v){if(!1===v)return u;if(void 0===v)return console;if(v.log&&v.warn&&v.error)return v;throw new Error("logger must implement log, warn and error methods")}(W.logger);const fe=W.validateFormats;W.validateFormats=!1,this.RULES=(0,B.getRules)(),ue.call(this,J,W,"NOT SUPPORTED"),ue.call(this,q,W,"DEPRECATED","warn"),this._metaOpts=P.call(this),W.formats&&_e.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),W.keywords&&De.call(this,W.keywords),"object"==typeof W.meta&&this.addMetaSchema(W.meta),ve.call(this),W.validateFormats=fe}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:W,meta:H,schemaId:ee}=this.opts;let fe=X;"id"===ee&&(fe={...X},fe.id=fe.$id,delete fe.$id),H&&W&&this.addMetaSchema(fe,fe[ee],!1)}defaultMeta(){const{meta:W,schemaId:H}=this.opts;return this.opts.defaultMeta="object"==typeof W?W[H]||W:void 0}validate(W,H){let ee;if("string"==typeof W){if(ee=this.getSchema(W),!ee)throw new Error(`no schema with key or ref "${W}"`)}else ee=this.compile(W);const fe=ee(H);return"$async"in ee||(this.errors=ee.errors),fe}compile(W,H){const ee=this._addSchema(W,H);return ee.validate||this._compileSchemaEnv(ee)}compileAsync(W,H){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:ee}=this.opts;return fe.call(this,W,H);function fe(re,de){return Ae.apply(this,arguments)}function Ae(){return(Ae=p(function*(re,de){yield Pe.call(this,re.$schema);const pe=this._addSchema(re,de);return pe.validate||be.call(this,pe)})).apply(this,arguments)}function Pe(re){return Le.apply(this,arguments)}function Le(){return(Le=p(function*(re){re&&!this.getSchema(re)&&(yield fe.call(this,{$ref:re},!0))})).apply(this,arguments)}function be(re){return ge.apply(this,arguments)}function ge(){return(ge=p(function*(re){try{return this._compileSchemaEnv(re)}catch(de){if(!(de instanceof x.default))throw de;return Re.call(this,de),yield me.call(this,de.missingSchema),be.call(this,re)}})).apply(this,arguments)}function Re({missingSchema:re,missingRef:de}){if(this.refs[re])throw new Error(`AnySchema ${re} is loaded but ${de} cannot be resolved`)}function me(re){return xe.apply(this,arguments)}function xe(){return(xe=p(function*(re){const de=yield le.call(this,re);this.refs[re]||(yield Pe.call(this,de.$schema)),this.refs[re]||this.addSchema(de,re,H)})).apply(this,arguments)}function le(re){return he.apply(this,arguments)}function he(){return(he=p(function*(re){const de=this._loading[re];if(de)return de;try{return yield this._loading[re]=ee(re)}finally{delete this._loading[re]}})).apply(this,arguments)}}addSchema(W,H,ee,fe=this.opts.validateSchema){if(Array.isArray(W)){for(const Pe of W)this.addSchema(Pe,void 0,ee,fe);return this}let Ae;if("object"==typeof W){const{schemaId:Pe}=this.opts;if(Ae=W[Pe],void 0!==Ae&&"string"!=typeof Ae)throw new Error(`schema ${Pe} must be string`)}return H=(0,$.normalizeId)(H||Ae),this._checkUnique(H),this.schemas[H]=this._addSchema(W,ee,H,fe,!0),this}addMetaSchema(W,H,ee=this.opts.validateSchema){return this.addSchema(W,H,!0,ee),this}validateSchema(W,H){if("boolean"==typeof W)return!0;let ee;if(ee=W.$schema,void 0!==ee&&"string"!=typeof ee)throw new Error("$schema must be a string");if(ee=ee||this.opts.defaultMeta||this.defaultMeta(),!ee)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const fe=this.validate(ee,W);if(!fe&&H){const Ae="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(Ae);this.logger.error(Ae)}return fe}getSchema(W){let H;for(;"string"==typeof(H=ae.call(this,W));)W=H;if(void 0===H){const{schemaId:ee}=this.opts,fe=new A.SchemaEnv({schema:{},schemaId:ee});if(H=A.resolveSchema.call(this,fe,W),!H)return;this.refs[W]=H}return H.validate||this._compileSchemaEnv(H)}removeSchema(W){if(W instanceof RegExp)return this._removeAllSchemas(this.schemas,W),this._removeAllSchemas(this.refs,W),this;switch(typeof W){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const H=ae.call(this,W);return"object"==typeof H&&this._cache.delete(H.schema),delete this.schemas[W],delete this.refs[W],this}case"object":{this._cache.delete(W);let ee=W[this.opts.schemaId];return ee&&(ee=(0,$.normalizeId)(ee),delete this.schemas[ee],delete this.refs[ee]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(W){for(const H of W)this.addKeyword(H);return this}addKeyword(W,H){let ee;if("string"==typeof W)ee=W,"object"==typeof H&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),H.keyword=ee);else{if("object"!=typeof W||void 0!==H)throw new Error("invalid addKeywords parameters");if(ee=(H=W).keyword,Array.isArray(ee)&&!ee.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(w.call(this,ee,H),!H)return(0,D.eachItem)(ee,Ae=>T.call(this,Ae)),this;j.call(this,H);const fe={...H,type:(0,K.getJSONTypes)(H.type),schemaType:(0,K.getJSONTypes)(H.schemaType)};return(0,D.eachItem)(ee,0===fe.type.length?Ae=>T.call(this,Ae,fe):Ae=>fe.type.forEach(Pe=>T.call(this,Ae,fe,Pe))),this}getKeyword(W){const H=this.RULES.all[W];return"object"==typeof H?H.definition:!!H}removeKeyword(W){const{RULES:H}=this;delete H.keywords[W],delete H.all[W];for(const ee of H.rules){const fe=ee.rules.findIndex(Ae=>Ae.keyword===W);fe>=0&&ee.rules.splice(fe,1)}return this}addFormat(W,H){return"string"==typeof H&&(H=new RegExp(H)),this.formats[W]=H,this}errorsText(W=this.errors,{separator:H=", ",dataVar:ee="data"}={}){return W&&0!==W.length?W.map(fe=>`${ee}${fe.instancePath} ${fe.message}`).reduce((fe,Ae)=>fe+H+Ae):"No errors"}$dataMetaSchema(W,H){const ee=this.RULES.all;W=JSON.parse(JSON.stringify(W));for(const fe of H){const Ae=fe.split("/").slice(1);let Pe=W;for(const Le of Ae)Pe=Pe[Le];for(const Le in ee){const be=ee[Le];if("object"!=typeof be)continue;const{$data:ge}=be.definition,Re=Pe[Le];ge&&Re&&(Pe[Le]=d(Re))}}return W}_removeAllSchemas(W,H){for(const ee in W){const fe=W[ee];(!H||H.test(ee))&&("string"==typeof fe?delete W[ee]:fe&&!fe.meta&&(this._cache.delete(fe.schema),delete W[ee]))}}_addSchema(W,H,ee,fe=this.opts.validateSchema,Ae=this.opts.addUsedSchema){let Pe;const{schemaId:Le}=this.opts;if("object"==typeof W)Pe=W[Le];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof W)throw new Error("schema must be object or boolean")}let be=this._cache.get(W);if(void 0!==be)return be;ee=(0,$.normalizeId)(Pe||ee);const ge=$.getSchemaRefs.call(this,W,ee);return be=new A.SchemaEnv({schema:W,schemaId:Le,meta:H,baseId:ee,localRefs:ge}),this._cache.set(be.schema,be),Ae&&!ee.startsWith("#")&&(ee&&this._checkUnique(ee),this.refs[ee]=be),fe&&this.validateSchema(W,!0),be}_checkUnique(W){if(this.schemas[W]||this.refs[W])throw new Error(`schema with key or id "${W}" already exists`)}_compileSchemaEnv(W){if(W.meta?this._compileMetaSchema(W):A.compileSchema.call(this,W),!W.validate)throw new Error("ajv implementation error");return W.validate}_compileMetaSchema(W){const H=this.opts;this.opts=this._metaOpts;try{A.compileSchema.call(this,W)}finally{this.opts=H}}}function ue(v,W,H,ee="error"){for(const fe in v)fe in W&&this.logger[ee](`${H}: option ${fe}. ${v[fe]}`)}function ae(v){return v=(0,$.normalizeId)(v),this.schemas[v]||this.refs[v]}function ve(){const v=this.opts.schemas;if(v)if(Array.isArray(v))this.addSchema(v);else for(const W in v)this.addSchema(v[W],W)}function _e(){for(const v in this.opts.formats){const W=this.opts.formats[v];W&&this.addFormat(v,W)}}function De(v){if(Array.isArray(v))this.addVocabulary(v);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const W in v){const H=v[W];H.keyword||(H.keyword=W),this.addKeyword(H)}}}function P(){const v={...this.opts};for(const W of Q)delete v[W];return v}z.default=oe,oe.ValidationError=G.default,oe.MissingRefError=x.default;const u={log(){},warn(){},error(){}},g=/^[a-z_$][a-z0-9_$:-]*$/i;function w(v,W){const{RULES:H}=this;if((0,D.eachItem)(v,ee=>{if(H.keywords[ee])throw new Error(`Keyword ${ee} is already defined`);if(!g.test(ee))throw new Error(`Keyword ${ee} has invalid name`)}),W&&W.$data&&!("code"in W)&&!("validate"in W))throw new Error('$data keyword must have "code" or "validate" function')}function T(v,W,H){var ee;const fe=W?.post;if(H&&fe)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:Ae}=this;let Pe=fe?Ae.post:Ae.rules.find(({type:be})=>be===H);if(Pe||(Pe={type:H,rules:[]},Ae.rules.push(Pe)),Ae.keywords[v]=!0,!W)return;const Le={keyword:v,definition:{...W,type:(0,K.getJSONTypes)(W.type),schemaType:(0,K.getJSONTypes)(W.schemaType)}};W.before?C.call(this,Pe,Le,W.before):Pe.rules.push(Le),Ae.all[v]=Le,null===(ee=W.implements)||void 0===ee||ee.forEach(be=>this.addKeyword(be))}function C(v,W,H){const ee=v.rules.findIndex(fe=>fe.keyword===H);ee>=0?v.rules.splice(ee,0,W):(v.rules.push(W),this.logger.warn(`rule ${H} is not defined`))}function j(v){let{metaSchema:W}=v;void 0!==W&&(v.$data&&this.opts.$data&&(W=d(W)),v.validateSchema=this.compile(W,!0))}const M={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function d(v){return{anyOf:[v,M]}}},87577:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(6438),S=E(59608),O=E(8307),G=E(11082),x=E(93406),B=E(14516),A=E(3059),N=E(18738),$=["/properties"];z.default=function K(D){return[p,S,O,G,x,X(this,B),A,X(this,N)].forEach(V=>this.addMetaSchema(V,void 0,!1)),this;function X(V,Z){return D?V.$dataMetaSchema(Z,$):Z}}},92281:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(40362);p.code='require("ajv/dist/runtime/equal").default',z.default=p},26488:(Be,z)=>{"use strict";function E(p){const S=p.length;let x,O=0,G=0;for(;G<S;)O++,x=p.charCodeAt(G++),x>=55296&&x<=56319&&G<S&&(x=p.charCodeAt(G),56320==(64512&x)&&G++);return O}Object.defineProperty(z,"__esModule",{value:!0}),z.default=E,E.code='require("ajv/dist/runtime/ucs2length").default'},13203:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(95568);p.code='require("ajv/dist/runtime/uri").default',z.default=p},42467:(Be,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});class E extends Error{constructor(S){super("validation failed"),this.errors=S,this.ajv=this.validation=!0}}z.default=E},46934:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateAdditionalItems=void 0;const p=E(1038),S=E(27006),G={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:B}})=>p.str`must NOT have more than ${B} items`,params:({params:{len:B}})=>p._`{limit: ${B}}`},code(B){const{parentSchema:A,it:N}=B,{items:$}=A;Array.isArray($)?x(B,$):(0,S.checkStrictMode)(N,'"additionalItems" is ignored when "items" is not an array of schemas')}};function x(B,A){const{gen:N,schema:$,data:K,keyword:D,it:X}=B;X.items=!0;const V=N.const("len",p._`${K}.length`);if(!1===$)B.setParams({len:A.length}),B.pass(p._`${V} <= ${A.length}`);else if("object"==typeof $&&!(0,S.alwaysValidSchema)(X,$)){const Q=N.var("valid",p._`${V} <= ${A.length}`);N.if((0,p.not)(Q),()=>function Z(Q){N.forRange("i",A.length,V,te=>{B.subschema({keyword:D,dataProp:te,dataPropType:S.Type.Num},Q),X.allErrors||N.if((0,p.not)(Q),()=>N.break())})}(Q)),B.ok(Q)}}z.validateAdditionalItems=x,z.default=G},18445:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(42406),S=E(1038),O=E(23432),G=E(27006);z.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:A})=>S._`{additionalProperty: ${A.additionalProperty}}`},code(A){const{gen:N,schema:$,parentSchema:K,data:D,errsCount:X,it:V}=A;if(!X)throw new Error("ajv implementation error");const{allErrors:Z,opts:Q}=V;if(V.props=!0,"all"!==Q.removeAdditional&&(0,G.alwaysValidSchema)(V,$))return;const te=(0,p.allSchemaProperties)(K.properties),J=(0,p.allSchemaProperties)(K.patternProperties);function se(ae){N.code(S._`delete ${D}[${ae}]`)}function oe(ae){if("all"===Q.removeAdditional||Q.removeAdditional&&!1===$)se(ae);else{if(!1===$)return A.setParams({additionalProperty:ae}),A.error(),void(Z||N.break());if("object"==typeof $&&!(0,G.alwaysValidSchema)(V,$)){const ve=N.name("valid");"failing"===Q.removeAdditional?(ue(ae,ve,!1),N.if((0,S.not)(ve),()=>{A.reset(),se(ae)})):(ue(ae,ve),Z||N.if((0,S.not)(ve),()=>N.break()))}}}function ue(ae,ve,_e){const De={keyword:"additionalProperties",dataProp:ae,dataPropType:G.Type.Str};!1===_e&&Object.assign(De,{compositeRule:!0,createErrors:!1,allErrors:!1}),A.subschema(De,ve)}(function q(){N.forIn("key",D,ae=>{te.length||J.length?N.if(function ne(ae){let ve;if(te.length>8){const _e=(0,G.schemaRefOrVal)(V,K.properties,"properties");ve=(0,p.isOwnProperty)(N,_e,ae)}else ve=te.length?(0,S.or)(...te.map(_e=>S._`${ae} === ${_e}`)):S.nil;return J.length&&(ve=(0,S.or)(ve,...J.map(_e=>S._`${(0,p.usePattern)(A,_e)}.test(${ae})`))),(0,S.not)(ve)}(ae),()=>oe(ae)):oe(ae)})})(),A.ok(S._`${X} === ${O.default.errors}`)}}},77783:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(27006);z.default={keyword:"allOf",schemaType:"array",code(O){const{gen:G,schema:x,it:B}=O;if(!Array.isArray(x))throw new Error("ajv implementation error");const A=G.name("valid");x.forEach((N,$)=>{if((0,p.alwaysValidSchema)(B,N))return;const K=O.subschema({keyword:"allOf",schemaProp:$},A);O.ok(A),O.mergeEvaluated(K)})}}},60922:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const S={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:E(42406).validateUnion,error:{message:"must match a schema in anyOf"}};z.default=S},57568:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(1038),S=E(27006);z.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:x,max:B}})=>void 0===B?p.str`must contain at least ${x} valid item(s)`:p.str`must contain at least ${x} and no more than ${B} valid item(s)`,params:({params:{min:x,max:B}})=>void 0===B?p._`{minContains: ${x}}`:p._`{minContains: ${x}, maxContains: ${B}}`},code(x){const{gen:B,schema:A,parentSchema:N,data:$,it:K}=x;let D,X;const{minContains:V,maxContains:Z}=N;K.opts.next?(D=void 0===V?1:V,X=Z):D=1;const Q=B.const("len",p._`${$}.length`);if(x.setParams({min:D,max:X}),void 0===X&&0===D)return void(0,S.checkStrictMode)(K,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==X&&D>X)return(0,S.checkStrictMode)(K,'"minContains" > "maxContains" is always invalid'),void x.fail();if((0,S.alwaysValidSchema)(K,A)){let se=p._`${Q} >= ${D}`;return void 0!==X&&(se=p._`${se} && ${Q} <= ${X}`),void x.pass(se)}K.items=!0;const te=B.name("valid");function J(){const se=B.name("_valid"),oe=B.let("count",0);q(se,()=>B.if(se,()=>function ne(se){B.code(p._`${se}++`),void 0===X?B.if(p._`${se} >= ${D}`,()=>B.assign(te,!0).break()):(B.if(p._`${se} > ${X}`,()=>B.assign(te,!1).break()),1===D?B.assign(te,!0):B.if(p._`${se} >= ${D}`,()=>B.assign(te,!0)))}(oe)))}function q(se,oe){B.forRange("i",0,Q,ue=>{x.subschema({keyword:"contains",dataProp:ue,dataPropType:S.Type.Num,compositeRule:!0},se),oe()})}void 0===X&&1===D?q(te,()=>B.if(te,()=>B.break())):0===D?(B.let(te,!0),void 0!==X&&B.if(p._`${$}.length > 0`,J)):(B.let(te,!1),J()),x.result(te,()=>x.reset())}}},68032:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateSchemaDeps=z.validatePropertyDeps=z.error=void 0;const p=E(1038),S=E(27006),O=E(42406);z.error={message:({params:{property:N,depsCount:$,deps:K}})=>p.str`must have ${1===$?"property":"properties"} ${K} when property ${N} is present`,params:({params:{property:N,depsCount:$,deps:K,missingProperty:D}})=>p._`{property: ${N},
    missingProperty: ${D},
    depsCount: ${$},
    deps: ${K}}`};const G={keyword:"dependencies",type:"object",schemaType:"object",error:z.error,code(N){const[$,K]=function x({schema:N}){const $={},K={};for(const D in N)"__proto__"!==D&&((Array.isArray(N[D])?$:K)[D]=N[D]);return[$,K]}(N);B(N,$),A(N,K)}};function B(N,$=N.schema){const{gen:K,data:D,it:X}=N;if(0===Object.keys($).length)return;const V=K.let("missing");for(const Z in $){const Q=$[Z];if(0===Q.length)continue;const te=(0,O.propertyInData)(K,D,Z,X.opts.ownProperties);N.setParams({property:Z,depsCount:Q.length,deps:Q.join(", ")}),X.allErrors?K.if(te,()=>{for(const J of Q)(0,O.checkReportMissingProp)(N,J)}):(K.if(p._`${te} && (${(0,O.checkMissingProp)(N,Q,V)})`),(0,O.reportMissingProp)(N,V),K.else())}}function A(N,$=N.schema){const{gen:K,data:D,keyword:X,it:V}=N,Z=K.name("valid");for(const Q in $)(0,S.alwaysValidSchema)(V,$[Q])||(K.if((0,O.propertyInData)(K,D,Q,V.opts.ownProperties),()=>{const te=N.subschema({keyword:X,schemaProp:Q},Z);N.mergeValidEvaluated(te,Z)},()=>K.var(Z,!0)),N.ok(Z))}z.validatePropertyDeps=B,z.validateSchemaDeps=A,z.default=G},85164:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(68032);z.default={keyword:"dependentSchemas",type:"object",schemaType:"object",code:O=>(0,p.validateSchemaDeps)(O)}},45226:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(1038),S=E(27006);function x(B,A){const N=B.schema[A];return void 0!==N&&!(0,S.alwaysValidSchema)(B,N)}z.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:B})=>p.str`must match "${B.ifClause}" schema`,params:({params:B})=>p._`{failingKeyword: ${B.ifClause}}`},code(B){const{gen:A,parentSchema:N,it:$}=B;void 0===N.then&&void 0===N.else&&(0,S.checkStrictMode)($,'"if" without "then" and "else" is ignored');const K=x($,"then"),D=x($,"else");if(!K&&!D)return;const X=A.let("valid",!0),V=A.name("_valid");if(function Z(){const te=B.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},V);B.mergeEvaluated(te)}(),B.reset(),K&&D){const te=A.let("ifClause");B.setParams({ifClause:te}),A.if(V,Q("then",te),Q("else",te))}else K?A.if(V,Q("then")):A.if((0,p.not)(V),Q("else"));function Q(te,J){return()=>{const q=B.subschema({keyword:te},V);A.assign(X,V),B.mergeValidEvaluated(q,X),J?A.assign(J,p._`${te}`):B.setParams({ifClause:te})}}B.pass(X,()=>B.error(!0))}}},68261:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(46934),S=E(96537),O=E(2941),G=E(5261),x=E(57568),B=E(68032),A=E(36474),N=E(18445),$=E(34032),K=E(17330),D=E(3408),X=E(60922),V=E(88388),Z=E(77783),Q=E(45226),te=E(98779);z.default=function J(q=!1){const ne=[D.default,X.default,V.default,Z.default,Q.default,te.default,A.default,N.default,B.default,$.default,K.default];return q?ne.push(S.default,G.default):ne.push(p.default,O.default),ne.push(x.default),ne}},2941:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateTuple=void 0;const p=E(1038),S=E(27006),O=E(42406),G={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(B){const{schema:A,it:N}=B;if(Array.isArray(A))return x(B,"additionalItems",A);N.items=!0,!(0,S.alwaysValidSchema)(N,A)&&B.ok((0,O.validateArray)(B))}};function x(B,A,N=B.schema){const{gen:$,parentSchema:K,data:D,keyword:X,it:V}=B;(function te(J){const{opts:q,errSchemaPath:ne}=V,se=N.length;q.strictTuples&&!(se===J.minItems&&(se===J.maxItems||!1===J[A]))&&(0,S.checkStrictMode)(V,`"${X}" is ${se}-tuple, but minItems or maxItems/${A} are not specified or different at path "${ne}"`,q.strictTuples)})(K),V.opts.unevaluated&&N.length&&!0!==V.items&&(V.items=S.mergeEvaluated.items($,N.length,V.items));const Z=$.name("valid"),Q=$.const("len",p._`${D}.length`);N.forEach((J,q)=>{(0,S.alwaysValidSchema)(V,J)||($.if(p._`${Q} > ${q}`,()=>B.subschema({keyword:X,schemaProp:q,dataProp:q},Z)),B.ok(Z))})}z.validateTuple=x,z.default=G},5261:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(1038),S=E(27006),O=E(42406),G=E(46934);z.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:A}})=>p.str`must NOT have more than ${A} items`,params:({params:{len:A}})=>p._`{limit: ${A}}`},code(A){const{schema:N,parentSchema:$,it:K}=A,{prefixItems:D}=$;K.items=!0,!(0,S.alwaysValidSchema)(K,N)&&(D?(0,G.validateAdditionalItems)(A,D):A.ok((0,O.validateArray)(A)))}}},3408:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(27006);z.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(O){const{gen:G,schema:x,it:B}=O;if((0,p.alwaysValidSchema)(B,x))return void O.fail();const A=G.name("valid");O.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},A),O.failResult(A,()=>O.reset(),()=>O.error())},error:{message:"must NOT be valid"}}},88388:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(1038),S=E(27006);z.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:x})=>p._`{passingSchemas: ${x.passing}}`},code(x){const{gen:B,schema:A,parentSchema:N,it:$}=x;if(!Array.isArray(A))throw new Error("ajv implementation error");if($.opts.discriminator&&N.discriminator)return;const K=A,D=B.let("valid",!1),X=B.let("passing",null),V=B.name("_valid");x.setParams({passing:X}),B.block(function Z(){K.forEach((Q,te)=>{let J;(0,S.alwaysValidSchema)($,Q)?B.var(V,!0):J=x.subschema({keyword:"oneOf",schemaProp:te,compositeRule:!0},V),te>0&&B.if(p._`${V} && ${D}`).assign(D,!1).assign(X,p._`[${X}, ${te}]`).else(),B.if(V,()=>{B.assign(D,!0),B.assign(X,te),J&&x.mergeEvaluated(J,p.Name)})})}),x.result(D,()=>x.reset(),()=>x.error(!0))}}},17330:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(42406),S=E(1038),O=E(27006),G=E(27006);z.default={keyword:"patternProperties",type:"object",schemaType:"object",code(B){const{gen:A,schema:N,data:$,parentSchema:K,it:D}=B,{opts:X}=D,V=(0,p.allSchemaProperties)(N),Z=V.filter(oe=>(0,O.alwaysValidSchema)(D,N[oe]));if(0===V.length||Z.length===V.length&&(!D.opts.unevaluated||!0===D.props))return;const Q=X.strictSchema&&!X.allowMatchingProperties&&K.properties,te=A.name("valid");!0!==D.props&&!(D.props instanceof S.Name)&&(D.props=(0,G.evaluatedPropsToName)(A,D.props));const{props:J}=D;function ne(oe){for(const ue in Q)new RegExp(oe).test(ue)&&(0,O.checkStrictMode)(D,`property ${ue} matches pattern ${oe} (use allowMatchingProperties)`)}function se(oe){A.forIn("key",$,ue=>{A.if(S._`${(0,p.usePattern)(B,oe)}.test(${ue})`,()=>{const ae=Z.includes(oe);ae||B.subschema({keyword:"patternProperties",schemaProp:oe,dataProp:ue,dataPropType:G.Type.Str},te),D.opts.unevaluated&&!0!==J?A.assign(S._`${J}[${ue}]`,!0):!ae&&!D.allErrors&&A.if((0,S.not)(te),()=>A.break())})})}!function q(){for(const oe of V)Q&&ne(oe),D.allErrors?se(oe):(A.var(te,!0),se(oe),A.if(te))}()}}},96537:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(2941);z.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:O=>(0,p.validateTuple)(O,"items")}},34032:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(40339),S=E(42406),O=E(27006),G=E(18445);z.default={keyword:"properties",type:"object",schemaType:"object",code(B){const{gen:A,schema:N,parentSchema:$,data:K,it:D}=B;"all"===D.opts.removeAdditional&&void 0===$.additionalProperties&&G.default.code(new p.KeywordCxt(D,G.default,"additionalProperties"));const X=(0,S.allSchemaProperties)(N);for(const J of X)D.definedProperties.add(J);D.opts.unevaluated&&X.length&&!0!==D.props&&(D.props=O.mergeEvaluated.props(A,(0,O.toHash)(X),D.props));const V=X.filter(J=>!(0,O.alwaysValidSchema)(D,N[J]));if(0===V.length)return;const Z=A.name("valid");for(const J of V)Q(J)?te(J):(A.if((0,S.propertyInData)(A,K,J,D.opts.ownProperties)),te(J),D.allErrors||A.else().var(Z,!0),A.endIf()),B.it.definedProperties.add(J),B.ok(Z);function Q(J){return D.opts.useDefaults&&!D.compositeRule&&void 0!==N[J].default}function te(J){B.subschema({keyword:"properties",schemaProp:J,dataProp:J},Z)}}}},36474:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(1038),S=E(27006);z.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:x})=>p._`{propertyName: ${x.propertyName}}`},code(x){const{gen:B,schema:A,data:N,it:$}=x;if((0,S.alwaysValidSchema)($,A))return;const K=B.name("valid");B.forIn("key",N,D=>{x.setParams({propertyName:D}),x.subschema({keyword:"propertyNames",data:D,dataTypes:["string"],propertyName:D,compositeRule:!0},K),B.if((0,p.not)(K),()=>{x.error(!0),$.allErrors||B.break()})}),x.ok(K)}}},98779:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(27006);z.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:O,parentSchema:G,it:x}){void 0===G.if&&(0,p.checkStrictMode)(x,`"${O}" without "if" is ignored`)}}},42406:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateUnion=z.validateArray=z.usePattern=z.callValidateCode=z.schemaProperties=z.allSchemaProperties=z.noPropertyInData=z.propertyInData=z.isOwnProperty=z.hasPropFunc=z.reportMissingProp=z.checkMissingProp=z.checkReportMissingProp=void 0;const p=E(1038),S=E(27006),O=E(23432),G=E(27006);function N(ne){return ne.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:p._`Object.prototype.hasOwnProperty`})}function $(ne,se,oe){return p._`${N(ne)}.call(${se}, ${oe})`}function D(ne,se,oe,ue){const ae=p._`${se}${(0,p.getProperty)(oe)} === undefined`;return ue?(0,p.or)(ae,(0,p.not)($(ne,se,oe))):ae}function X(ne){return ne?Object.keys(ne).filter(se=>"__proto__"!==se):[]}z.checkReportMissingProp=function x(ne,se){const{gen:oe,data:ue,it:ae}=ne;oe.if(D(oe,ue,se,ae.opts.ownProperties),()=>{ne.setParams({missingProperty:p._`${se}`},!0),ne.error()})},z.checkMissingProp=function B({gen:ne,data:se,it:{opts:oe}},ue,ae){return(0,p.or)(...ue.map(ve=>(0,p.and)(D(ne,se,ve,oe.ownProperties),p._`${ae} = ${ve}`)))},z.reportMissingProp=function A(ne,se){ne.setParams({missingProperty:se},!0),ne.error()},z.hasPropFunc=N,z.isOwnProperty=$,z.propertyInData=function K(ne,se,oe,ue){const ae=p._`${se}${(0,p.getProperty)(oe)} !== undefined`;return ue?p._`${ae} && ${$(ne,se,oe)}`:ae},z.noPropertyInData=D,z.allSchemaProperties=X,z.schemaProperties=function V(ne,se){return X(se).filter(oe=>!(0,S.alwaysValidSchema)(ne,se[oe]))},z.callValidateCode=function Z({schemaCode:ne,data:se,it:{gen:oe,topSchemaRef:ue,schemaPath:ae,errorPath:ve},it:_e},De,P,u){const h=u?p._`${ne}, ${se}, ${ue}${ae}`:se,g=[[O.default.instancePath,(0,p.strConcat)(O.default.instancePath,ve)],[O.default.parentData,_e.parentData],[O.default.parentDataProperty,_e.parentDataProperty],[O.default.rootData,O.default.rootData]];_e.opts.dynamicRef&&g.push([O.default.dynamicAnchors,O.default.dynamicAnchors]);const w=p._`${h}, ${oe.object(...g)}`;return P!==p.nil?p._`${De}.call(${P}, ${w})`:p._`${De}(${w})`};const Q=p._`new RegExp`;z.usePattern=function te({gen:ne,it:{opts:se}},oe){const ue=se.unicodeRegExp?"u":"",{regExp:ae}=se.code,ve=ae(oe,ue);return ne.scopeValue("pattern",{key:ve.toString(),ref:ve,code:p._`${"new RegExp"===ae.code?Q:(0,G.useFunc)(ne,ae)}(${oe}, ${ue})`})},z.validateArray=function J(ne){const{gen:se,data:oe,keyword:ue,it:ae}=ne,ve=se.name("valid");if(ae.allErrors){const De=se.let("valid",!0);return _e(()=>se.assign(De,!1)),De}return se.var(ve,!0),_e(()=>se.break()),ve;function _e(De){const P=se.const("len",p._`${oe}.length`);se.forRange("i",0,P,u=>{ne.subschema({keyword:ue,dataProp:u,dataPropType:S.Type.Num},ve),se.if((0,p.not)(ve),De)})}},z.validateUnion=function q(ne){const{gen:se,schema:oe,keyword:ue,it:ae}=ne;if(!Array.isArray(oe))throw new Error("ajv implementation error");if(oe.some(P=>(0,S.alwaysValidSchema)(ae,P))&&!ae.opts.unevaluated)return;const _e=se.let("valid",!1),De=se.name("_valid");se.block(()=>oe.forEach((P,u)=>{const h=ne.subschema({keyword:ue,schemaProp:u,compositeRule:!0},De);se.assign(_e,p._`${_e} || ${De}`),ne.mergeValidEvaluated(h,De)||se.if((0,p.not)(_e))})),ne.result(_e,()=>ne.reset(),()=>ne.error(!0))}},36846:(Be,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},11867:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(36846),S=E(84862);z.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",p.default,S.default]},84862:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.callRef=z.getValidate=void 0;const p=E(26288),S=E(42406),O=E(1038),G=E(23432),x=E(97692),B=E(27006),A={keyword:"$ref",schemaType:"string",code(K){const{gen:D,schema:X,it:V}=K,{baseId:Z,schemaEnv:Q,validateName:te,opts:J,self:q}=V,{root:ne}=Q;if(("#"===X||"#/"===X)&&Z===ne.baseId)return function oe(){if(Q===ne)return $(K,te,Q,Q.$async);const ve=D.scopeValue("root",{ref:ne});return $(K,O._`${ve}.validate`,ne,ne.$async)}();const se=x.resolveRef.call(q,ne,Z,X);if(void 0===se)throw new p.default(V.opts.uriResolver,Z,X);return se instanceof x.SchemaEnv?function ue(ve){const _e=N(K,ve);$(K,_e,ve,ve.$async)}(se):function ae(ve){const _e=D.scopeValue("schema",!0===J.code.source?{ref:ve,code:(0,O.stringify)(ve)}:{ref:ve}),De=D.name("valid"),P=K.subschema({schema:ve,dataTypes:[],schemaPath:O.nil,topSchemaRef:_e,errSchemaPath:X},De);K.mergeEvaluated(P),K.ok(De)}(se)}};function N(K,D){const{gen:X}=K;return D.validate?X.scopeValue("validate",{ref:D.validate}):O._`${X.scopeValue("wrapper",{ref:D})}.validate`}function $(K,D,X,V){const{gen:Z,it:Q}=K,{allErrors:te,schemaEnv:J,opts:q}=Q,ne=q.passContext?G.default.this:O.nil;function ue(ve){const _e=O._`${ve}.errors`;Z.assign(G.default.vErrors,O._`${G.default.vErrors} === null ? ${_e} : ${G.default.vErrors}.concat(${_e})`),Z.assign(G.default.errors,O._`${G.default.vErrors}.length`)}function ae(ve){var _e;if(!Q.opts.unevaluated)return;const De=null===(_e=X?.validate)||void 0===_e?void 0:_e.evaluated;if(!0!==Q.props)if(De&&!De.dynamicProps)void 0!==De.props&&(Q.props=B.mergeEvaluated.props(Z,De.props,Q.props));else{const P=Z.var("props",O._`${ve}.evaluated.props`);Q.props=B.mergeEvaluated.props(Z,P,Q.props,O.Name)}if(!0!==Q.items)if(De&&!De.dynamicItems)void 0!==De.items&&(Q.items=B.mergeEvaluated.items(Z,De.items,Q.items));else{const P=Z.var("items",O._`${ve}.evaluated.items`);Q.items=B.mergeEvaluated.items(Z,P,Q.items,O.Name)}}V?function se(){if(!J.$async)throw new Error("async schema referenced by sync schema");const ve=Z.let("valid");Z.try(()=>{Z.code(O._`await ${(0,S.callValidateCode)(K,D,ne)}`),ae(D),te||Z.assign(ve,!0)},_e=>{Z.if(O._`!(${_e} instanceof ${Q.ValidationError})`,()=>Z.throw(_e)),ue(_e),te||Z.assign(ve,!1)}),K.ok(ve)}():function oe(){K.result((0,S.callValidateCode)(K,D,ne),()=>ae(D),()=>ue(D))}()}z.getValidate=N,z.callRef=$,z.default=A},86980:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(1038),S=E(22145),O=E(97692),G=E(27006);z.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:A,tagName:N}})=>A===S.DiscrError.Tag?`tag "${N}" must be string`:`value of tag "${N}" must be in oneOf`,params:({params:{discrError:A,tag:N,tagName:$}})=>p._`{error: ${A}, tag: ${$}, tagValue: ${N}}`},code(A){const{gen:N,data:$,schema:K,parentSchema:D,it:X}=A,{oneOf:V}=D;if(!X.opts.discriminator)throw new Error("discriminator: requires discriminator option");const Z=K.propertyName;if("string"!=typeof Z)throw new Error("discriminator: requires propertyName");if(K.mapping)throw new Error("discriminator: mapping is not supported");if(!V)throw new Error("discriminator: requires oneOf keyword");const Q=N.let("valid",!1),te=N.const("tag",p._`${$}${(0,p.getProperty)(Z)}`);function q(se){const oe=N.name("valid"),ue=A.subschema({keyword:"oneOf",schemaProp:se},oe);return A.mergeEvaluated(ue,p.Name),oe}N.if(p._`typeof ${te} == "string"`,()=>function J(){const se=function ne(){var se;const oe={},ue=ve(D);let ae=!0;for(let P=0;P<V.length;P++){let u=V[P];u?.$ref&&!(0,G.schemaHasRulesButRef)(u,X.self.RULES)&&(u=O.resolveRef.call(X.self,X.schemaEnv.root,X.baseId,u?.$ref),u instanceof O.SchemaEnv&&(u=u.schema));const h=null===(se=u?.properties)||void 0===se?void 0:se[Z];if("object"!=typeof h)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${Z}"`);ae=ae&&(ue||ve(u)),_e(h,P)}if(!ae)throw new Error(`discriminator: "${Z}" must be required`);return oe;function ve({required:P}){return Array.isArray(P)&&P.includes(Z)}function _e(P,u){if(P.const)De(P.const,u);else{if(!P.enum)throw new Error(`discriminator: "properties/${Z}" must have "const" or "enum"`);for(const h of P.enum)De(h,u)}}function De(P,u){if("string"!=typeof P||P in oe)throw new Error(`discriminator: "${Z}" values must be unique strings`);oe[P]=u}}();N.if(!1);for(const oe in se)N.elseIf(p._`${te} === ${oe}`),N.assign(Q,q(se[oe]));N.else(),A.error(!1,{discrError:S.DiscrError.Mapping,tag:te,tagName:Z}),N.endIf()}(),()=>A.error(!1,{discrError:S.DiscrError.Tag,tag:te,tagName:Z})),A.ok(Q)}}},22145:(Be,z)=>{"use strict";var p;Object.defineProperty(z,"__esModule",{value:!0}),z.DiscrError=void 0,(p=z.DiscrError||(z.DiscrError={})).Tag="tag",p.Mapping="mapping"},98496:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(11867),S=E(64023),O=E(68261),G=E(79745),x=E(54458),B=E(77616),A=E(23463),N=E(3462),$=[G.default,p.default,S.default,(0,O.default)(!0),A.default,N.metadataVocabulary,N.contentVocabulary,x.default,B.default];z.default=$},61281:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.dynamicAnchor=void 0;const p=E(1038),S=E(23432),O=E(97692),G=E(84862),x={keyword:"$dynamicAnchor",schemaType:"string",code:N=>B(N,N.schema)};function B(N,$){const{gen:K,it:D}=N;D.schemaEnv.root.dynamicAnchors[$]=!0;const X=p._`${S.default.dynamicAnchors}${(0,p.getProperty)($)}`,V="#"===D.errSchemaPath?D.validateName:function A(N){const{schemaEnv:$,schema:K,self:D}=N.it,{root:X,baseId:V,localRefs:Z,meta:Q}=$.root,{schemaId:te}=D.opts,J=new O.SchemaEnv({schema:K,schemaId:te,root:X,baseId:V,localRefs:Z,meta:Q});return O.compileSchema.call(D,J),(0,G.getValidate)(N,J)}(N);K.if(p._`!${X}`,()=>K.assign(X,V))}z.dynamicAnchor=B,z.default=x},35207:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.dynamicRef=void 0;const p=E(1038),S=E(23432),O=E(84862),G={keyword:"$dynamicRef",schemaType:"string",code:B=>x(B,B.schema)};function x(B,A){const{gen:N,keyword:$,it:K}=B;if("#"!==A[0])throw new Error(`"${$}" only supports hash fragment reference`);const D=A.slice(1);if(K.allErrors)X();else{const Z=N.let("valid",!1);X(Z),B.ok(Z)}function X(Z){if(K.schemaEnv.root.dynamicAnchors[D]){const Q=N.let("_v",p._`${S.default.dynamicAnchors}${(0,p.getProperty)(D)}`);N.if(Q,V(Q,Z),V(K.validateName,Z))}else V(K.validateName,Z)()}function V(Z,Q){return Q?()=>N.block(()=>{(0,O.callRef)(B,Z),N.let(Q,!0)}):()=>(0,O.callRef)(B,Z)}}z.dynamicRef=x,z.default=G},79745:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(61281),S=E(35207),O=E(34028),G=E(65684);z.default=[p.default,S.default,O.default,G.default]},34028:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(61281),S=E(27006);z.default={keyword:"$recursiveAnchor",schemaType:"boolean",code(G){G.schema?(0,p.dynamicAnchor)(G,""):(0,S.checkStrictMode)(G.it,"$recursiveAnchor: false is ignored")}}},65684:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(35207);z.default={keyword:"$recursiveRef",schemaType:"string",code:O=>(0,p.dynamicRef)(O,O.schema)}},98140:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(1038);z.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:G})=>p.str`must match format "${G}"`,params:({schemaCode:G})=>p._`{format: ${G}}`},code(G,x){const{gen:B,data:A,$data:N,schema:$,schemaCode:K,it:D}=G,{opts:X,errSchemaPath:V,schemaEnv:Z,self:Q}=D;X.validateFormats&&(N?function te(){const q=B.scopeValue("formats",{ref:Q.formats,code:X.code.formats}),ne=B.const("fDef",p._`${q}[${K}]`),se=B.let("fType"),oe=B.let("format");B.if(p._`typeof ${ne} == "object" && !(${ne} instanceof RegExp)`,()=>B.assign(se,p._`${ne}.type || "string"`).assign(oe,p._`${ne}.validate`),()=>B.assign(se,p._`"string"`).assign(oe,ne)),G.fail$data((0,p.or)(function ue(){return!1===X.strictSchema?p.nil:p._`${K} && !${oe}`}(),function ae(){const ve=Z.$async?p._`(${ne}.async ? await ${oe}(${A}) : ${oe}(${A}))`:p._`${oe}(${A})`,_e=p._`(typeof ${oe} == "function" ? ${ve} : ${oe}.test(${A}))`;return p._`${oe} && ${oe} !== true && ${se} === ${x} && !${_e}`}()))}():function J(){const q=Q.formats[$];if(!q)return void function ue(){if(!1!==X.strictSchema)throw new Error(_e());function _e(){return`unknown format "${$}" ignored in schema at path "${V}"`}Q.logger.warn(_e())}();if(!0===q)return;const[ne,se,oe]=function ae(_e){const De=_e instanceof RegExp?(0,p.regexpCode)(_e):X.code.formats?p._`${X.code.formats}${(0,p.getProperty)($)}`:void 0,P=B.scopeValue("formats",{key:$,ref:_e,code:De});return"object"!=typeof _e||_e instanceof RegExp?["string",_e,P]:[_e.type||"string",_e.validate,p._`${P}.validate`]}(q);ne===x&&G.pass(function ve(){if("object"==typeof q&&!(q instanceof RegExp)&&q.async){if(!Z.$async)throw new Error("async format in sync schema");return p._`await ${oe}(${A})`}return"function"==typeof se?p._`${oe}(${A})`:p._`${oe}.test(${A})`}())}())}}},23463:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const S=[E(98140).default];z.default=S},3462:(Be,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.contentVocabulary=z.metadataVocabulary=void 0,z.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],z.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},54458:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(53037),S=E(85164),O=E(22705);z.default=[p.default,S.default,O.default]},77616:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(40425),S=E(89826);z.default=[p.default,S.default]},89826:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(1038),S=E(27006);z.default={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:x}})=>p.str`must NOT have more than ${x} items`,params:({params:{len:x}})=>p._`{limit: ${x}}`},code(x){const{gen:B,schema:A,data:N,it:$}=x,K=$.items||0;if(!0===K)return;const D=B.const("len",p._`${N}.length`);if(!1===A)x.setParams({len:K}),x.fail(p._`${D} > ${K}`);else if("object"==typeof A&&!(0,S.alwaysValidSchema)($,A)){const V=B.var("valid",p._`${D} <= ${K}`);B.if((0,p.not)(V),()=>function X(V,Z){B.forRange("i",Z,D,Q=>{x.subschema({keyword:"unevaluatedItems",dataProp:Q,dataPropType:S.Type.Num},V),$.allErrors||B.if((0,p.not)(V),()=>B.break())})}(V,K)),x.ok(V)}$.items=!0}}},40425:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(1038),S=E(27006),O=E(23432);z.default={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:B})=>p._`{unevaluatedProperty: ${B.unevaluatedProperty}}`},code(B){const{gen:A,schema:N,data:$,errsCount:K,it:D}=B;if(!K)throw new Error("ajv implementation error");const{allErrors:X,props:V}=D;function Z(J){if(!1===N)return B.setParams({unevaluatedProperty:J}),B.error(),void(X||A.break());if(!(0,S.alwaysValidSchema)(D,N)){const q=A.name("valid");B.subschema({keyword:"unevaluatedProperties",dataProp:J,dataPropType:S.Type.Str},q),X||A.if((0,p.not)(q),()=>A.break())}}V instanceof p.Name?A.if(p._`${V} !== true`,()=>A.forIn("key",$,J=>A.if(function Q(J,q){return p._`!${J} || !${J}[${q}]`}(V,J),()=>Z(J)))):!0!==V&&A.forIn("key",$,J=>void 0===V?Z(J):A.if(function te(J,q){const ne=[];for(const se in J)!0===J[se]&&ne.push(p._`${q} !== ${se}`);return(0,p.and)(...ne)}(V,J),()=>Z(J))),D.props=!0,B.ok(p._`${K} === ${O.default.errors}`)}}},90796:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(1038),S=E(27006),O=E(92281);z.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:B})=>p._`{allowedValue: ${B}}`},code(B){const{gen:A,data:N,$data:$,schemaCode:K,schema:D}=B;$||D&&"object"==typeof D?B.fail$data(p._`!${(0,S.useFunc)(A,O.default)}(${N}, ${K})`):B.fail(p._`${D} !== ${N}`)}}},53037:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(68032);z.default={keyword:"dependentRequired",type:"object",schemaType:"object",error:p.error,code:O=>(0,p.validatePropertyDeps)(O)}},65266:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(1038),S=E(27006),O=E(92281);z.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:B})=>p._`{allowedValues: ${B}}`},code(B){const{gen:A,data:N,$data:$,schema:K,schemaCode:D,it:X}=B;if(!$&&0===K.length)throw new Error("enum must have non-empty array");let Z;const Q=()=>Z??(Z=(0,S.useFunc)(A,O.default));let te;if(K.length>=X.opts.loopEnum||$)te=A.let("valid"),B.block$data(te,function J(){A.assign(te,!1),A.forOf("v",D,ne=>A.if(p._`${Q()}(${N}, ${ne})`,()=>A.assign(te,!0).break()))});else{if(!Array.isArray(K))throw new Error("ajv implementation error");const ne=A.const("vSchema",D);te=(0,p.or)(...K.map((se,oe)=>function q(ne,se){const oe=K[se];return"object"==typeof oe&&null!==oe?p._`${Q()}(${N}, ${ne}[${se}])`:p._`${N} === ${oe}`}(ne,oe)))}B.pass(te)}}},64023:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(78665),S=E(30554),O=E(13972),G=E(68753),x=E(99169),B=E(56454),A=E(85962),N=E(16598),$=E(90796),K=E(65266);z.default=[p.default,S.default,O.default,G.default,x.default,B.default,A.default,N.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},$.default,K.default]},22705:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(27006);z.default={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:O,parentSchema:G,it:x}){void 0===G.contains&&(0,p.checkStrictMode)(x,`"${O}" without "contains" is ignored`)}}},85962:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(1038);z.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:G,schemaCode:x})=>p.str`must NOT have ${"maxItems"===G?"more":"fewer"} than ${x} items`,params:({schemaCode:G})=>p._`{limit: ${G}}`},code(G){const{keyword:x,data:B,schemaCode:A}=G;G.fail$data(p._`${B}.length ${"maxItems"===x?p.operators.GT:p.operators.LT} ${A}`)}}},13972:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(1038),S=E(27006),O=E(26488);z.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:B,schemaCode:A})=>p.str`must NOT have ${"maxLength"===B?"more":"fewer"} than ${A} characters`,params:({schemaCode:B})=>p._`{limit: ${B}}`},code(B){const{keyword:A,data:N,schemaCode:$,it:K}=B,D="maxLength"===A?p.operators.GT:p.operators.LT,X=!1===K.opts.unicode?p._`${N}.length`:p._`${(0,S.useFunc)(B.gen,O.default)}(${N})`;B.fail$data(p._`${X} ${D} ${$}`)}}},78665:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(1038),S=p.operators,O={maximum:{okStr:"<=",ok:S.LTE,fail:S.GT},minimum:{okStr:">=",ok:S.GTE,fail:S.LT},exclusiveMaximum:{okStr:"<",ok:S.LT,fail:S.GTE},exclusiveMinimum:{okStr:">",ok:S.GT,fail:S.LTE}},G={message:({keyword:B,schemaCode:A})=>p.str`must be ${O[B].okStr} ${A}`,params:({keyword:B,schemaCode:A})=>p._`{comparison: ${O[B].okStr}, limit: ${A}}`},x={keyword:Object.keys(O),type:"number",schemaType:"number",$data:!0,error:G,code(B){const{keyword:A,data:N,schemaCode:$}=B;B.fail$data(p._`${N} ${O[A].fail} ${$} || isNaN(${N})`)}};z.default=x},99169:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(1038);z.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:G,schemaCode:x})=>p.str`must NOT have ${"maxProperties"===G?"more":"fewer"} than ${x} properties`,params:({schemaCode:G})=>p._`{limit: ${G}}`},code(G){const{keyword:x,data:B,schemaCode:A}=G;G.fail$data(p._`Object.keys(${B}).length ${"maxProperties"===x?p.operators.GT:p.operators.LT} ${A}`)}}},30554:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(1038);z.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:G})=>p.str`must be multiple of ${G}`,params:({schemaCode:G})=>p._`{multipleOf: ${G}}`},code(G){const{gen:x,data:B,schemaCode:A,it:N}=G,$=N.opts.multipleOfPrecision,K=x.let("res"),D=$?p._`Math.abs(Math.round(${K}) - ${K}) > 1e-${$}`:p._`${K} !== parseInt(${K})`;G.fail$data(p._`(${A} === 0 || (${K} = ${B}/${A}, ${D}))`)}}},68753:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(42406),S=E(1038);z.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:x})=>S.str`must match pattern "${x}"`,params:({schemaCode:x})=>S._`{pattern: ${x}}`},code(x){const{data:B,$data:A,schema:N,schemaCode:$,it:K}=x,X=A?S._`(new RegExp(${$}, ${K.opts.unicodeRegExp?"u":""}))`:(0,p.usePattern)(x,N);x.fail$data(S._`!${X}.test(${B})`)}}},56454:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(42406),S=E(1038),O=E(27006);z.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:B}})=>S.str`must have required property '${B}'`,params:({params:{missingProperty:B}})=>S._`{missingProperty: ${B}}`},code(B){const{gen:A,schema:N,schemaCode:$,data:K,$data:D,it:X}=B,{opts:V}=X;if(!D&&0===N.length)return;const Z=N.length>=V.loopRequired;if(X.allErrors?function Q(){if(Z||D)B.block$data(S.nil,J);else for(const ne of N)(0,p.checkReportMissingProp)(B,ne)}():function te(){const ne=A.let("missing");if(Z||D){const se=A.let("valid",!0);B.block$data(se,()=>function q(ne,se){B.setParams({missingProperty:ne}),A.forOf(ne,$,()=>{A.assign(se,(0,p.propertyInData)(A,K,ne,V.ownProperties)),A.if((0,S.not)(se),()=>{B.error(),A.break()})},S.nil)}(ne,se)),B.ok(se)}else A.if((0,p.checkMissingProp)(B,N,ne)),(0,p.reportMissingProp)(B,ne),A.else()}(),V.strictRequired){const ne=B.parentSchema.properties,{definedProperties:se}=B.it;for(const oe of N)void 0!==ne?.[oe]||se.has(oe)||(0,O.checkStrictMode)(X,`required property "${oe}" is not defined at "${X.schemaEnv.baseId+X.errSchemaPath}" (strictRequired)`,X.opts.strictRequired)}function J(){A.forOf("prop",$,ne=>{B.setParams({missingProperty:ne}),A.if((0,p.noPropertyInData)(A,K,ne,V.ownProperties),()=>B.error())})}}}},16598:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const p=E(55999),S=E(1038),O=E(27006),G=E(92281);z.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:A,j:N}})=>S.str`must NOT have duplicate items (items ## ${N} and ${A} are identical)`,params:({params:{i:A,j:N}})=>S._`{i: ${A}, j: ${N}}`},code(A){const{gen:N,data:$,$data:K,schema:D,parentSchema:X,schemaCode:V,it:Z}=A;if(!K&&!D)return;const Q=N.let("valid"),te=X.items?(0,p.getSchemaTypes)(X.items):[];function ne(oe,ue){const ae=N.name("item"),ve=(0,p.checkDataTypes)(te,ae,Z.opts.strictNumbers,p.DataType.Wrong),_e=N.const("indices",S._`{}`);N.for(S._`;${oe}--;`,()=>{N.let(ae,S._`${$}[${oe}]`),N.if(ve,S._`continue`),te.length>1&&N.if(S._`typeof ${ae} == "string"`,S._`${ae} += "_"`),N.if(S._`typeof ${_e}[${ae}] == "number"`,()=>{N.assign(ue,S._`${_e}[${ae}]`),A.error(),N.assign(Q,!1).break()}).code(S._`${_e}[${ae}] = ${oe}`)})}function se(oe,ue){const ae=(0,O.useFunc)(N,G.default),ve=N.name("outer");N.label(ve).for(S._`;${oe}--;`,()=>N.for(S._`${ue} = ${oe}; ${ue}--;`,()=>N.if(S._`${ae}(${$}[${oe}], ${$}[${ue}])`,()=>{A.error(),N.assign(Q,!1).break(ve)})))}A.block$data(Q,function J(){const oe=N.let("i",S._`${$}.length`),ue=N.let("j");A.setParams({i:oe,j:ue}),N.assign(Q,!0),N.if(S._`${oe} > 1`,()=>(function q(){return te.length>0&&!te.some(oe=>"object"===oe||"array"===oe)}()?ne:se)(oe,ue))},S._`${V} === false`),A.ok(Q)}}},68316:(Be,z,E)=>{"use strict";const p=E(13981),S=E(22020),O="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=A,z.SlowBuffer=function q(U){return+U!=U&&(U=0),A.alloc(+U)},z.INSPECT_MAX_BYTES=50;const G=2147483647;function B(U){if(U>G)throw new RangeError('The value "'+U+'" is invalid for option "size"');const _=new Uint8Array(U);return Object.setPrototypeOf(_,A.prototype),_}function A(U,_,m){if("number"==typeof U){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return D(U)}return N(U,_,m)}function N(U,_,m){if("string"==typeof U)return function X(U,_){if(("string"!=typeof _||""===_)&&(_="utf8"),!A.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const m=0|ne(U,_);let F=B(m);const ie=F.write(U,_);return ie!==m&&(F=F.slice(0,ie)),F}(U,_);if(ArrayBuffer.isView(U))return function Z(U){if(We(U,Uint8Array)){const _=new Uint8Array(U);return Q(_.buffer,_.byteOffset,_.byteLength)}return V(U)}(U);if(null==U)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(We(U,ArrayBuffer)||U&&We(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(We(U,SharedArrayBuffer)||U&&We(U.buffer,SharedArrayBuffer)))return Q(U,_,m);if("number"==typeof U)throw new TypeError('The "value" argument must not be of type number. Received type number');const F=U.valueOf&&U.valueOf();if(null!=F&&F!==U)return A.from(F,_,m);const ie=function te(U){if(A.isBuffer(U)){const _=0|J(U.length),m=B(_);return 0===m.length||U.copy(m,0,0,_),m}return void 0!==U.length?"number"!=typeof U.length||Tt(U.length)?B(0):V(U):"Buffer"===U.type&&Array.isArray(U.data)?V(U.data):void 0}(U);if(ie)return ie;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof U[Symbol.toPrimitive])return A.from(U[Symbol.toPrimitive]("string"),_,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function $(U){if("number"!=typeof U)throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function D(U){return $(U),B(U<0?0:0|J(U))}function V(U){const _=U.length<0?0:0|J(U.length),m=B(_);for(let F=0;F<_;F+=1)m[F]=255&U[F];return m}function Q(U,_,m){if(_<0||U.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<_+(m||0))throw new RangeError('"length" is outside of buffer bounds');let F;return F=void 0===_&&void 0===m?new Uint8Array(U):void 0===m?new Uint8Array(U,_):new Uint8Array(U,_,m),Object.setPrototypeOf(F,A.prototype),F}function J(U){if(U>=G)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+G.toString(16)+" bytes");return 0|U}function ne(U,_){if(A.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||We(U,ArrayBuffer))return U.byteLength;if("string"!=typeof U)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const m=U.length,F=arguments.length>2&&!0===arguments[2];if(!F&&0===m)return 0;let ie=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return de(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return ke(U).length;default:if(ie)return F?-1:de(U).length;_=(""+_).toLowerCase(),ie=!0}}function se(U,_,m){let F=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(_>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return M(this,_,m);case"utf8":case"utf-8":return g(this,_,m);case"ascii":return C(this,_,m);case"latin1":case"binary":return j(this,_,m);case"base64":return h(this,_,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,_,m);default:if(F)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),F=!0}}function oe(U,_,m){const F=U[_];U[_]=U[m],U[m]=F}function ue(U,_,m,F,ie){if(0===U.length)return-1;if("string"==typeof m?(F=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),Tt(m=+m)&&(m=ie?0:U.length-1),m<0&&(m=U.length+m),m>=U.length){if(ie)return-1;m=U.length-1}else if(m<0){if(!ie)return-1;m=0}if("string"==typeof _&&(_=A.from(_,F)),A.isBuffer(_))return 0===_.length?-1:ae(U,_,m,F,ie);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?ie?Uint8Array.prototype.indexOf.call(U,_,m):Uint8Array.prototype.lastIndexOf.call(U,_,m):ae(U,[_],m,F,ie);throw new TypeError("val must be string, number or Buffer")}function ae(U,_,m,F,ie){let pt,we=1,Ie=U.length,Qe=_.length;if(void 0!==F&&("ucs2"===(F=String(F).toLowerCase())||"ucs-2"===F||"utf16le"===F||"utf-16le"===F)){if(U.length<2||_.length<2)return-1;we=2,Ie/=2,Qe/=2,m/=2}function kt(Et,Lt){return 1===we?Et[Lt]:Et.readUInt16BE(Lt*we)}if(ie){let Et=-1;for(pt=m;pt<Ie;pt++)if(kt(U,pt)===kt(_,-1===Et?0:pt-Et)){if(-1===Et&&(Et=pt),pt-Et+1===Qe)return Et*we}else-1!==Et&&(pt-=pt-Et),Et=-1}else for(m+Qe>Ie&&(m=Ie-Qe),pt=m;pt>=0;pt--){let Et=!0;for(let Lt=0;Lt<Qe;Lt++)if(kt(U,pt+Lt)!==kt(_,Lt)){Et=!1;break}if(Et)return pt}return-1}function ve(U,_,m,F){m=Number(m)||0;const ie=U.length-m;F?(F=Number(F))>ie&&(F=ie):F=ie;const we=_.length;let Ie;for(F>we/2&&(F=we/2),Ie=0;Ie<F;++Ie){const Qe=parseInt(_.substr(2*Ie,2),16);if(Tt(Qe))return Ie;U[m+Ie]=Qe}return Ie}function _e(U,_,m,F){return Fe(de(_,U.length-m),U,m,F)}function De(U,_,m,F){return Fe(function pe(U){const _=[];for(let m=0;m<U.length;++m)_.push(255&U.charCodeAt(m));return _}(_),U,m,F)}function P(U,_,m,F){return Fe(ke(_),U,m,F)}function u(U,_,m,F){return Fe(function Se(U,_){let m,F,ie;const we=[];for(let Ie=0;Ie<U.length&&!((_-=2)<0);++Ie)m=U.charCodeAt(Ie),F=m>>8,ie=m%256,we.push(ie),we.push(F);return we}(_,U.length-m),U,m,F)}function h(U,_,m){return p.fromByteArray(0===_&&m===U.length?U:U.slice(_,m))}function g(U,_,m){m=Math.min(U.length,m);const F=[];let ie=_;for(;ie<m;){const we=U[ie];let Ie=null,Qe=we>239?4:we>223?3:we>191?2:1;if(ie+Qe<=m){let kt,pt,Et,Lt;switch(Qe){case 1:we<128&&(Ie=we);break;case 2:kt=U[ie+1],128==(192&kt)&&(Lt=(31&we)<<6|63&kt,Lt>127&&(Ie=Lt));break;case 3:kt=U[ie+1],pt=U[ie+2],128==(192&kt)&&128==(192&pt)&&(Lt=(15&we)<<12|(63&kt)<<6|63&pt,Lt>2047&&(Lt<55296||Lt>57343)&&(Ie=Lt));break;case 4:kt=U[ie+1],pt=U[ie+2],Et=U[ie+3],128==(192&kt)&&128==(192&pt)&&128==(192&Et)&&(Lt=(15&we)<<18|(63&kt)<<12|(63&pt)<<6|63&Et,Lt>65535&&Lt<1114112&&(Ie=Lt))}}null===Ie?(Ie=65533,Qe=1):Ie>65535&&(Ie-=65536,F.push(Ie>>>10&1023|55296),Ie=56320|1023&Ie),F.push(Ie),ie+=Qe}return function T(U){const _=U.length;if(_<=w)return String.fromCharCode.apply(String,U);let m="",F=0;for(;F<_;)m+=String.fromCharCode.apply(String,U.slice(F,F+=w));return m}(F)}z.kMaxLength=G,!(A.TYPED_ARRAY_SUPPORT=function x(){try{const U=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(U,_),42===U.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(U,_,m){return N(U,_,m)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(U,_,m){return function K(U,_,m){return $(U),U<=0?B(U):void 0!==_?"string"==typeof m?B(U).fill(_,m):B(U).fill(_):B(U)}(U,_,m)},A.allocUnsafe=function(U){return D(U)},A.allocUnsafeSlow=function(U){return D(U)},A.isBuffer=function(_){return null!=_&&!0===_._isBuffer&&_!==A.prototype},A.compare=function(_,m){if(We(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),We(m,Uint8Array)&&(m=A.from(m,m.offset,m.byteLength)),!A.isBuffer(_)||!A.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===m)return 0;let F=_.length,ie=m.length;for(let we=0,Ie=Math.min(F,ie);we<Ie;++we)if(_[we]!==m[we]){F=_[we],ie=m[we];break}return F<ie?-1:ie<F?1:0},A.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(_,m){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_.length)return A.alloc(0);let F;if(void 0===m)for(m=0,F=0;F<_.length;++F)m+=_[F].length;const ie=A.allocUnsafe(m);let we=0;for(F=0;F<_.length;++F){let Ie=_[F];if(We(Ie,Uint8Array))we+Ie.length>ie.length?(A.isBuffer(Ie)||(Ie=A.from(Ie)),Ie.copy(ie,we)):Uint8Array.prototype.set.call(ie,Ie,we);else{if(!A.isBuffer(Ie))throw new TypeError('"list" argument must be an Array of Buffers');Ie.copy(ie,we)}we+=Ie.length}return ie},A.byteLength=ne,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<_;m+=2)oe(this,m,m+1);return this},A.prototype.swap32=function(){const _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<_;m+=4)oe(this,m,m+3),oe(this,m+1,m+2);return this},A.prototype.swap64=function(){const _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<_;m+=8)oe(this,m,m+7),oe(this,m+1,m+6),oe(this,m+2,m+5),oe(this,m+3,m+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const _=this.length;return 0===_?"":0===arguments.length?g(this,0,_):se.apply(this,arguments)},A.prototype.equals=function(_){if(!A.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||0===A.compare(this,_)},A.prototype.inspect=function(){let _="";const m=z.INSPECT_MAX_BYTES;return _=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(_+=" ... "),"<Buffer "+_+">"},O&&(A.prototype[O]=A.prototype.inspect),A.prototype.compare=function(_,m,F,ie,we){if(We(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),!A.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(void 0===m&&(m=0),void 0===F&&(F=_?_.length:0),void 0===ie&&(ie=0),void 0===we&&(we=this.length),m<0||F>_.length||ie<0||we>this.length)throw new RangeError("out of range index");if(ie>=we&&m>=F)return 0;if(ie>=we)return-1;if(m>=F)return 1;if(this===_)return 0;let Ie=(we>>>=0)-(ie>>>=0),Qe=(F>>>=0)-(m>>>=0);const kt=Math.min(Ie,Qe),pt=this.slice(ie,we),Et=_.slice(m,F);for(let Lt=0;Lt<kt;++Lt)if(pt[Lt]!==Et[Lt]){Ie=pt[Lt],Qe=Et[Lt];break}return Ie<Qe?-1:Qe<Ie?1:0},A.prototype.includes=function(_,m,F){return-1!==this.indexOf(_,m,F)},A.prototype.indexOf=function(_,m,F){return ue(this,_,m,F,!0)},A.prototype.lastIndexOf=function(_,m,F){return ue(this,_,m,F,!1)},A.prototype.write=function(_,m,F,ie){if(void 0===m)ie="utf8",F=this.length,m=0;else if(void 0===F&&"string"==typeof m)ie=m,F=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(F)?(F>>>=0,void 0===ie&&(ie="utf8")):(ie=F,F=void 0)}const we=this.length-m;if((void 0===F||F>we)&&(F=we),_.length>0&&(F<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let Ie=!1;for(;;)switch(ie){case"hex":return ve(this,_,m,F);case"utf8":case"utf-8":return _e(this,_,m,F);case"ascii":case"latin1":case"binary":return De(this,_,m,F);case"base64":return P(this,_,m,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,_,m,F);default:if(Ie)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),Ie=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const w=4096;function C(U,_,m){let F="";m=Math.min(U.length,m);for(let ie=_;ie<m;++ie)F+=String.fromCharCode(127&U[ie]);return F}function j(U,_,m){let F="";m=Math.min(U.length,m);for(let ie=_;ie<m;++ie)F+=String.fromCharCode(U[ie]);return F}function M(U,_,m){const F=U.length;(!_||_<0)&&(_=0),(!m||m<0||m>F)&&(m=F);let ie="";for(let we=_;we<m;++we)ie+=Xe[U[we]];return ie}function d(U,_,m){const F=U.slice(_,m);let ie="";for(let we=0;we<F.length-1;we+=2)ie+=String.fromCharCode(F[we]+256*F[we+1]);return ie}function v(U,_,m){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+_>m)throw new RangeError("Trying to access beyond buffer length")}function W(U,_,m,F,ie,we){if(!A.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>ie||_<we)throw new RangeError('"value" argument is out of bounds');if(m+F>U.length)throw new RangeError("Index out of range")}function H(U,_,m,F,ie){me(_,F,ie,U,m,7);let we=Number(_&BigInt(4294967295));U[m++]=we,we>>=8,U[m++]=we,we>>=8,U[m++]=we,we>>=8,U[m++]=we;let Ie=Number(_>>BigInt(32)&BigInt(4294967295));return U[m++]=Ie,Ie>>=8,U[m++]=Ie,Ie>>=8,U[m++]=Ie,Ie>>=8,U[m++]=Ie,m}function ee(U,_,m,F,ie){me(_,F,ie,U,m,7);let we=Number(_&BigInt(4294967295));U[m+7]=we,we>>=8,U[m+6]=we,we>>=8,U[m+5]=we,we>>=8,U[m+4]=we;let Ie=Number(_>>BigInt(32)&BigInt(4294967295));return U[m+3]=Ie,Ie>>=8,U[m+2]=Ie,Ie>>=8,U[m+1]=Ie,Ie>>=8,U[m]=Ie,m+8}function fe(U,_,m,F,ie,we){if(m+F>U.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function Ae(U,_,m,F,ie){return _=+_,m>>>=0,ie||fe(U,0,m,4),S.write(U,_,m,F,23,4),m+4}function Pe(U,_,m,F,ie){return _=+_,m>>>=0,ie||fe(U,0,m,8),S.write(U,_,m,F,52,8),m+8}A.prototype.slice=function(_,m){const F=this.length;(_=~~_)<0?(_+=F)<0&&(_=0):_>F&&(_=F),(m=void 0===m?F:~~m)<0?(m+=F)<0&&(m=0):m>F&&(m=F),m<_&&(m=_);const ie=this.subarray(_,m);return Object.setPrototypeOf(ie,A.prototype),ie},A.prototype.readUintLE=A.prototype.readUIntLE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=this[_],we=1,Ie=0;for(;++Ie<m&&(we*=256);)ie+=this[_+Ie]*we;return ie},A.prototype.readUintBE=A.prototype.readUIntBE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=this[_+--m],we=1;for(;m>0&&(we*=256);)ie+=this[_+--m]*we;return ie},A.prototype.readUint8=A.prototype.readUInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),this[_]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]|this[_+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]<<8|this[_+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},A.prototype.readBigUInt64LE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];(void 0===m||void 0===F)&&le(_,this.length-8);const ie=m+256*this[++_]+65536*this[++_]+this[++_]*2**24,we=this[++_]+256*this[++_]+65536*this[++_]+F*2**24;return BigInt(ie)+(BigInt(we)<<BigInt(32))}),A.prototype.readBigUInt64BE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];(void 0===m||void 0===F)&&le(_,this.length-8);const ie=m*2**24+65536*this[++_]+256*this[++_]+this[++_],we=this[++_]*2**24+65536*this[++_]+256*this[++_]+F;return(BigInt(ie)<<BigInt(32))+BigInt(we)}),A.prototype.readIntLE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=this[_],we=1,Ie=0;for(;++Ie<m&&(we*=256);)ie+=this[_+Ie]*we;return we*=128,ie>=we&&(ie-=Math.pow(2,8*m)),ie},A.prototype.readIntBE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=m,we=1,Ie=this[_+--ie];for(;ie>0&&(we*=256);)Ie+=this[_+--ie]*we;return we*=128,Ie>=we&&(Ie-=Math.pow(2,8*m)),Ie},A.prototype.readInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},A.prototype.readInt16LE=function(_,m){_>>>=0,m||v(_,2,this.length);const F=this[_]|this[_+1]<<8;return 32768&F?4294901760|F:F},A.prototype.readInt16BE=function(_,m){_>>>=0,m||v(_,2,this.length);const F=this[_+1]|this[_]<<8;return 32768&F?4294901760|F:F},A.prototype.readInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},A.prototype.readInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},A.prototype.readBigInt64LE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];return(void 0===m||void 0===F)&&le(_,this.length-8),(BigInt(this[_+4]+256*this[_+5]+65536*this[_+6]+(F<<24))<<BigInt(32))+BigInt(m+256*this[++_]+65536*this[++_]+this[++_]*2**24)}),A.prototype.readBigInt64BE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];(void 0===m||void 0===F)&&le(_,this.length-8);const ie=(m<<24)+65536*this[++_]+256*this[++_]+this[++_];return(BigInt(ie)<<BigInt(32))+BigInt(this[++_]*2**24+65536*this[++_]+256*this[++_]+F)}),A.prototype.readFloatLE=function(_,m){return _>>>=0,m||v(_,4,this.length),S.read(this,_,!0,23,4)},A.prototype.readFloatBE=function(_,m){return _>>>=0,m||v(_,4,this.length),S.read(this,_,!1,23,4)},A.prototype.readDoubleLE=function(_,m){return _>>>=0,m||v(_,8,this.length),S.read(this,_,!0,52,8)},A.prototype.readDoubleBE=function(_,m){return _>>>=0,m||v(_,8,this.length),S.read(this,_,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(_,m,F,ie){_=+_,m>>>=0,F>>>=0,ie||W(this,_,m,F,Math.pow(2,8*F)-1,0);let we=1,Ie=0;for(this[m]=255&_;++Ie<F&&(we*=256);)this[m+Ie]=_/we&255;return m+F},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(_,m,F,ie){_=+_,m>>>=0,F>>>=0,ie||W(this,_,m,F,Math.pow(2,8*F)-1,0);let we=F-1,Ie=1;for(this[m+we]=255&_;--we>=0&&(Ie*=256);)this[m+we]=_/Ie&255;return m+F},A.prototype.writeUint8=A.prototype.writeUInt8=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,1,255,0),this[m]=255&_,m+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,65535,0),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,65535,0),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,4294967295,0),this[m+3]=_>>>24,this[m+2]=_>>>16,this[m+1]=_>>>8,this[m]=255&_,m+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,4294967295,0),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigUInt64LE=Ke(function(_,m=0){return H(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Ke(function(_,m=0){return ee(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(_,m,F,ie){if(_=+_,m>>>=0,!ie){const kt=Math.pow(2,8*F-1);W(this,_,m,F,kt-1,-kt)}let we=0,Ie=1,Qe=0;for(this[m]=255&_;++we<F&&(Ie*=256);)_<0&&0===Qe&&0!==this[m+we-1]&&(Qe=1),this[m+we]=(_/Ie|0)-Qe&255;return m+F},A.prototype.writeIntBE=function(_,m,F,ie){if(_=+_,m>>>=0,!ie){const kt=Math.pow(2,8*F-1);W(this,_,m,F,kt-1,-kt)}let we=F-1,Ie=1,Qe=0;for(this[m+we]=255&_;--we>=0&&(Ie*=256);)_<0&&0===Qe&&0!==this[m+we+1]&&(Qe=1),this[m+we]=(_/Ie|0)-Qe&255;return m+F},A.prototype.writeInt8=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,1,127,-128),_<0&&(_=255+_+1),this[m]=255&_,m+1},A.prototype.writeInt16LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,32767,-32768),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeInt16BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,32767,-32768),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeInt32LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,2147483647,-2147483648),this[m]=255&_,this[m+1]=_>>>8,this[m+2]=_>>>16,this[m+3]=_>>>24,m+4},A.prototype.writeInt32BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigInt64LE=Ke(function(_,m=0){return H(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Ke(function(_,m=0){return ee(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(_,m,F){return Ae(this,_,m,!0,F)},A.prototype.writeFloatBE=function(_,m,F){return Ae(this,_,m,!1,F)},A.prototype.writeDoubleLE=function(_,m,F){return Pe(this,_,m,!0,F)},A.prototype.writeDoubleBE=function(_,m,F){return Pe(this,_,m,!1,F)},A.prototype.copy=function(_,m,F,ie){if(!A.isBuffer(_))throw new TypeError("argument should be a Buffer");if(F||(F=0),!ie&&0!==ie&&(ie=this.length),m>=_.length&&(m=_.length),m||(m=0),ie>0&&ie<F&&(ie=F),ie===F||0===_.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),_.length-m<ie-F&&(ie=_.length-m+F);const we=ie-F;return this===_&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,F,ie):Uint8Array.prototype.set.call(_,this.subarray(F,ie),m),we},A.prototype.fill=function(_,m,F,ie){if("string"==typeof _){if("string"==typeof m?(ie=m,m=0,F=this.length):"string"==typeof F&&(ie=F,F=this.length),void 0!==ie&&"string"!=typeof ie)throw new TypeError("encoding must be a string");if("string"==typeof ie&&!A.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(1===_.length){const Ie=_.charCodeAt(0);("utf8"===ie&&Ie<128||"latin1"===ie)&&(_=Ie)}}else"number"==typeof _?_&=255:"boolean"==typeof _&&(_=Number(_));if(m<0||this.length<m||this.length<F)throw new RangeError("Out of range index");if(F<=m)return this;let we;if(m>>>=0,F=void 0===F?this.length:F>>>0,_||(_=0),"number"==typeof _)for(we=m;we<F;++we)this[we]=_;else{const Ie=A.isBuffer(_)?_:A.from(_,ie),Qe=Ie.length;if(0===Qe)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(we=0;we<F-m;++we)this[we+m]=Ie[we%Qe]}return this};const Le={};function be(U,_,m){Le[U]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,delete this.name}get code(){return U}set code(ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ie,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}function ge(U){let _="",m=U.length;const F="-"===U[0]?1:0;for(;m>=F+4;m-=3)_=`_${U.slice(m-3,m)}${_}`;return`${U.slice(0,m)}${_}`}function me(U,_,m,F,ie,we){if(U>m||U<_){const Ie="bigint"==typeof _?"n":"";let Qe;throw Qe=we>3?0===_||_===BigInt(0)?`>= 0${Ie} and < 2${Ie} ** ${8*(we+1)}${Ie}`:`>= -(2${Ie} ** ${8*(we+1)-1}${Ie}) and < 2 ** ${8*(we+1)-1}${Ie}`:`>= ${_}${Ie} and <= ${m}${Ie}`,new Le.ERR_OUT_OF_RANGE("value",Qe,U)}!function Re(U,_,m){xe(_,"offset"),(void 0===U[_]||void 0===U[_+m])&&le(_,U.length-(m+1))}(F,ie,we)}function xe(U,_){if("number"!=typeof U)throw new Le.ERR_INVALID_ARG_TYPE(_,"number",U)}function le(U,_,m){throw Math.floor(U)!==U?(xe(U,m),new Le.ERR_OUT_OF_RANGE(m||"offset","an integer",U)):_<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${_}`,U)}be("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),be("ERR_INVALID_ARG_TYPE",function(U,_){return`The "${U}" argument must be of type number. Received type ${typeof _}`},TypeError),be("ERR_OUT_OF_RANGE",function(U,_,m){let F=`The value of "${U}" is out of range.`,ie=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ie=ge(String(m)):"bigint"==typeof m&&(ie=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ie=ge(ie)),ie+="n"),F+=` It must be ${_}. Received ${ie}`,F},RangeError);const he=/[^+/0-9A-Za-z-_]/g;function de(U,_){let m;_=_||1/0;const F=U.length;let ie=null;const we=[];for(let Ie=0;Ie<F;++Ie){if(m=U.charCodeAt(Ie),m>55295&&m<57344){if(!ie){if(m>56319){(_-=3)>-1&&we.push(239,191,189);continue}if(Ie+1===F){(_-=3)>-1&&we.push(239,191,189);continue}ie=m;continue}if(m<56320){(_-=3)>-1&&we.push(239,191,189),ie=m;continue}m=65536+(ie-55296<<10|m-56320)}else ie&&(_-=3)>-1&&we.push(239,191,189);if(ie=null,m<128){if((_-=1)<0)break;we.push(m)}else if(m<2048){if((_-=2)<0)break;we.push(m>>6|192,63&m|128)}else if(m<65536){if((_-=3)<0)break;we.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;we.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return we}function ke(U){return p.toByteArray(function re(U){if((U=(U=U.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U}(U))}function Fe(U,_,m,F){let ie;for(ie=0;ie<F&&!(ie+m>=_.length||ie>=U.length);++ie)_[ie+m]=U[ie];return ie}function We(U,_){return U instanceof _||null!=U&&null!=U.constructor&&null!=U.constructor.name&&U.constructor.name===_.name}function Tt(U){return U!=U}const Xe=function(){const U="0123456789abcdef",_=new Array(256);for(let m=0;m<16;++m){const F=16*m;for(let ie=0;ie<16;++ie)_[F+ie]=U[m]+U[ie]}return _}();function Ke(U){return typeof BigInt>"u"?lt:U}function lt(){throw new Error("BigInt not supported")}},14078:Be=>{var z=1e3,E=60*z,p=60*E,S=24*p,O=7*S;function N($,K,D,X){var V=K>=1.5*D;return Math.round($/D)+" "+X+(V?"s":"")}Be.exports=function($,K){K=K||{};var D=typeof $;if("string"===D&&$.length>0)return function x($){if(!(($=String($)).length>100)){var K=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(K){var D=parseFloat(K[1]);switch((K[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*D;case"weeks":case"week":case"w":return D*O;case"days":case"day":case"d":return D*S;case"hours":case"hour":case"hrs":case"hr":case"h":return D*p;case"minutes":case"minute":case"mins":case"min":case"m":return D*E;case"seconds":case"second":case"secs":case"sec":case"s":return D*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}($);if("number"===D&&isFinite($))return K.long?function A($){var K=Math.abs($);return K>=S?N($,K,S,"day"):K>=p?N($,K,p,"hour"):K>=E?N($,K,E,"minute"):K>=z?N($,K,z,"second"):$+" ms"}($):function B($){var K=Math.abs($);return K>=S?Math.round($/S)+"d":K>=p?Math.round($/p)+"h":K>=E?Math.round($/E)+"m":K>=z?Math.round($/z)+"s":$+"ms"}($);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify($))}},57062:(Be,z,E)=>{"use strict";const{SymbolDispose:p}=E(56389),{AbortError:S,codes:O}=E(68154),{isNodeStream:G,isWebStream:x,kControllerErrorFunction:B}=E(32924),A=E(46017),{ERR_INVALID_ARG_TYPE:N}=O;let $;Be.exports.addAbortSignal=function(X,V){if(((D,X)=>{if("object"!=typeof D||!("aborted"in D))throw new N("signal","AbortSignal",D)})(X),!G(V)&&!x(V))throw new N("stream",["ReadableStream","WritableStream","Stream"],V);return Be.exports.addAbortSignalNoValidate(X,V)},Be.exports.addAbortSignalNoValidate=function(D,X){if("object"!=typeof D||!("aborted"in D))return X;const V=G(X)?()=>{X.destroy(new S(void 0,{cause:D.reason}))}:()=>{X[B](new S(void 0,{cause:D.reason}))};if(D.aborted)V();else{$=$||E(13509).addAbortListener;const Z=$(D,V);A(X,Z[p])}return X}},16630:(Be,z,E)=>{"use strict";const{StringPrototypeSlice:p,SymbolIterator:S,TypedArrayPrototypeSet:O,Uint8Array:G}=E(56389),{Buffer:x}=E(68316),{inspect:B}=E(13509);Be.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(N){const $={data:N,next:null};this.length>0?this.tail.next=$:this.head=$,this.tail=$,++this.length}unshift(N){const $={data:N,next:this.head};0===this.length&&(this.tail=$),this.head=$,++this.length}shift(){if(0===this.length)return;const N=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,N}clear(){this.head=this.tail=null,this.length=0}join(N){if(0===this.length)return"";let $=this.head,K=""+$.data;for(;null!==($=$.next);)K+=N+$.data;return K}concat(N){if(0===this.length)return x.alloc(0);const $=x.allocUnsafe(N>>>0);let K=this.head,D=0;for(;K;)O($,K.data,D),D+=K.data.length,K=K.next;return $}consume(N,$){const K=this.head.data;if(N<K.length){const D=K.slice(0,N);return this.head.data=K.slice(N),D}return N===K.length?this.shift():$?this._getString(N):this._getBuffer(N)}first(){return this.head.data}*[S](){for(let N=this.head;N;N=N.next)yield N.data}_getString(N){let $="",K=this.head,D=0;do{const X=K.data;if(!(N>X.length)){N===X.length?($+=X,++D,this.head=K.next?K.next:this.tail=null):($+=p(X,0,N),this.head=K,K.data=p(X,N));break}$+=X,N-=X.length,++D}while(null!==(K=K.next));return this.length-=D,$}_getBuffer(N){const $=x.allocUnsafe(N),K=N;let D=this.head,X=0;do{const V=D.data;if(!(N>V.length)){N===V.length?(O($,V,K-N),++X,this.head=D.next?D.next:this.tail=null):(O($,new G(V.buffer,V.byteOffset,N),K-N),this.head=D,D.data=V.slice(N));break}O($,V,K-N),N-=V.length,++X}while(null!==(D=D.next));return this.length-=X,$}[Symbol.for("nodejs.util.inspect.custom")](N,$){return B(this,{...$,depth:0,customInspect:!1})}}},373:(Be,z,E)=>{"use strict";var p=E(29293).default;const{pipeline:S}=E(67843),O=E(13323),{destroyer:G}=E(96507),{isNodeStream:x,isReadable:B,isWritable:A,isWebStream:N,isTransformStream:$,isWritableStream:K,isReadableStream:D}=E(32924),{AbortError:X,codes:{ERR_INVALID_ARG_VALUE:V,ERR_MISSING_ARGS:Z}}=E(68154),Q=E(46017);Be.exports=function(...J){if(0===J.length)throw new Z("streams");if(1===J.length)return O.from(J[0]);const q=[...J];if("function"==typeof J[0]&&(J[0]=O.from(J[0])),"function"==typeof J[J.length-1]){const h=J.length-1;J[h]=O.from(J[h])}for(let h=0;h<J.length;++h)if(x(J[h])||N(J[h])){if(h<J.length-1&&!(B(J[h])||D(J[h])||$(J[h])))throw new V(`streams[${h}]`,q[h],"must be readable");if(h>0&&!(A(J[h])||K(J[h])||$(J[h])))throw new V(`streams[${h}]`,q[h],"must be writable")}let ne,se,oe,ue,ae;const _e=J[0],De=S(J,function ve(h){const g=ue;ue=null,g?g(h):h?ae.destroy(h):!u&&!P&&ae.destroy()}),P=!!(A(_e)||K(_e)||$(_e)),u=!!(B(De)||D(De)||$(De));if(ae=new O({writableObjectMode:!(null==_e||!_e.writableObjectMode),readableObjectMode:!(null==De||!De.readableObjectMode),writable:P,readable:u}),P){if(x(_e))ae._write=function(g,w,T){_e.write(g,w)?T():ne=T},ae._final=function(g){_e.end(),se=g},_e.on("drain",function(){if(ne){const g=ne;ne=null,g()}});else if(N(_e)){const w=($(_e)?_e.writable:_e).getWriter();ae._write=function(){var T=p(function*(C,j,M){try{yield w.ready,w.write(C).catch(()=>{}),M()}catch(d){M(d)}});return function(C,j,M){return T.apply(this,arguments)}}(),ae._final=function(){var T=p(function*(C){try{yield w.ready,w.close().catch(()=>{}),se=C}catch(j){C(j)}});return function(C){return T.apply(this,arguments)}}()}const h=$(De)?De.readable:De;Q(h,()=>{if(se){const g=se;se=null,g()}})}if(u)if(x(De))De.on("readable",function(){if(oe){const h=oe;oe=null,h()}}),De.on("end",function(){ae.push(null)}),ae._read=function(){for(;;){const h=De.read();if(null===h)return void(oe=ae._read);if(!ae.push(h))return}};else if(N(De)){const g=($(De)?De.readable:De).getReader();ae._read=p(function*(){for(;;)try{const{value:w,done:T}=yield g.read();if(!ae.push(w))return;if(T)return void ae.push(null)}catch{return}})}return ae._destroy=function(h,g){!h&&null!==ue&&(h=new X),oe=null,ne=null,se=null,null===ue?g(h):(ue=g,x(De)&&G(De,h))},ae}},96507:(Be,z,E)=>{"use strict";const p=E(40573),{aggregateTwoErrors:S,codes:{ERR_MULTIPLE_CALLBACK:O},AbortError:G}=E(68154),{Symbol:x}=E(56389),{kIsDestroyed:B,isDestroyed:A,isFinished:N,isServerRequest:$}=E(32924),K=x("kDestroy"),D=x("kConstruct");function X(P,u,h){P&&(u&&!u.errored&&(u.errored=P),h&&!h.errored&&(h.errored=P))}function Z(P,u,h){let g=!1;function w(T){if(g)return;g=!0;const C=P._readableState,j=P._writableState;X(T,j,C),j&&(j.closed=!0),C&&(C.closed=!0),"function"==typeof h&&h(T),T?p.nextTick(Q,P,T):p.nextTick(te,P)}try{P._destroy(u||null,w)}catch(T){w(T)}}function Q(P,u){J(P,u),te(P)}function te(P){const u=P._readableState,h=P._writableState;h&&(h.closeEmitted=!0),u&&(u.closeEmitted=!0),(null!=h&&h.emitClose||null!=u&&u.emitClose)&&P.emit("close")}function J(P,u){const h=P._readableState,g=P._writableState;null!=g&&g.errorEmitted||null!=h&&h.errorEmitted||(g&&(g.errorEmitted=!0),h&&(h.errorEmitted=!0),P.emit("error",u))}function ne(P,u,h){const g=P._readableState,w=P._writableState;if(null!=w&&w.destroyed||null!=g&&g.destroyed)return this;null!=g&&g.autoDestroy||null!=w&&w.autoDestroy?P.destroy(u):u&&(w&&!w.errored&&(w.errored=u),g&&!g.errored&&(g.errored=u),h?p.nextTick(J,P,u):J(P,u))}function oe(P){let u=!1;function h(g){if(u)return void ne(P,g??new O);u=!0;const w=P._readableState,T=P._writableState,C=T||w;w&&(w.constructed=!0),T&&(T.constructed=!0),C.destroyed?P.emit(K,g):g?ne(P,g,!0):p.nextTick(ue,P)}try{P._construct(g=>{p.nextTick(h,g)})}catch(g){p.nextTick(h,g)}}function ue(P){P.emit(D)}function ae(P){return P?.setHeader&&"function"==typeof P.abort}function ve(P){P.emit("close")}function _e(P,u){P.emit("error",u),p.nextTick(ve,P)}Be.exports={construct:function se(P,u){if("function"!=typeof P._construct)return;const h=P._readableState,g=P._writableState;h&&(h.constructed=!1),g&&(g.constructed=!1),P.once(D,u),!(P.listenerCount(D)>1)&&p.nextTick(oe,P)},destroyer:function De(P,u){!P||A(P)||(!u&&!N(P)&&(u=new G),$(P)?(P.socket=null,P.destroy(u)):ae(P)?P.abort():ae(P.req)?P.req.abort():"function"==typeof P.destroy?P.destroy(u):"function"==typeof P.close?P.close():u?p.nextTick(_e,P,u):p.nextTick(ve,P),P.destroyed||(P[B]=!0))},destroy:function V(P,u){const h=this._readableState,g=this._writableState,w=g||h;return null!=g&&g.destroyed||null!=h&&h.destroyed?("function"==typeof u&&u(),this):(X(P,g,h),g&&(g.destroyed=!0),h&&(h.destroyed=!0),w.constructed?Z(this,P,u):this.once(K,function(T){Z(this,S(T,P),u)}),this)},undestroy:function q(){const P=this._readableState,u=this._writableState;P&&(P.constructed=!0,P.closed=!1,P.closeEmitted=!1,P.destroyed=!1,P.errored=null,P.errorEmitted=!1,P.reading=!1,P.ended=!1===P.readable,P.endEmitted=!1===P.readable),u&&(u.constructed=!0,u.destroyed=!1,u.closed=!1,u.closeEmitted=!1,u.errored=null,u.errorEmitted=!1,u.finalCalled=!1,u.prefinished=!1,u.ended=!1===u.writable,u.ending=!1===u.writable,u.finished=!1===u.writable)},errorOrDestroy:ne}},13323:(Be,z,E)=>{"use strict";const{ObjectDefineProperties:p,ObjectGetOwnPropertyDescriptor:S,ObjectKeys:O,ObjectSetPrototypeOf:G}=E(56389);Be.exports=A;const x=E(84553),B=E(30009);G(A.prototype,x.prototype),G(A,x);{const D=O(B.prototype);for(let X=0;X<D.length;X++){const V=D[X];A.prototype[V]||(A.prototype[V]=B.prototype[V])}}function A(D){if(!(this instanceof A))return new A(D);x.call(this,D),B.call(this,D),D?(this.allowHalfOpen=!1!==D.allowHalfOpen,!1===D.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===D.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let N,K;function $(){return void 0===N&&(N={}),N}p(A.prototype,{writable:{__proto__:null,...S(B.prototype,"writable")},writableHighWaterMark:{__proto__:null,...S(B.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...S(B.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...S(B.prototype,"writableBuffer")},writableLength:{__proto__:null,...S(B.prototype,"writableLength")},writableFinished:{__proto__:null,...S(B.prototype,"writableFinished")},writableCorked:{__proto__:null,...S(B.prototype,"writableCorked")},writableEnded:{__proto__:null,...S(B.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...S(B.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(D){this._readableState&&this._writableState&&(this._readableState.destroyed=D,this._writableState.destroyed=D)}}}),A.fromWeb=function(D,X){return $().newStreamDuplexFromReadableWritablePair(D,X)},A.toWeb=function(D){return $().newReadableWritablePairFromDuplex(D)},A.from=function(D){return K||(K=E(44425)),K(D,"body")}},44425:(Be,z,E)=>{var p=E(29293).default,S=E(53344).default,O=E(42958).default;const G=E(40573),x=E(68316),{isReadable:B,isWritable:A,isIterable:N,isNodeStream:$,isReadableNodeStream:K,isWritableNodeStream:D,isDuplexNodeStream:X,isReadableStream:V,isWritableStream:Z}=E(32924),Q=E(46017),{AbortError:te,codes:{ERR_INVALID_ARG_TYPE:J,ERR_INVALID_RETURN_VALUE:q}}=E(68154),{destroyer:ne}=E(96507),se=E(13323),oe=E(84553),ue=E(30009),{createDeferredPromise:ae}=E(13509),ve=E(45737),_e=globalThis.Blob||x.Blob,De=typeof _e<"u"?function(C){return C instanceof _e}:function(C){return!1},P=globalThis.AbortController||E(9465).AbortController,{FunctionPrototypeCall:u}=E(56389);class h extends se{constructor(C){super(C),!1===C?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===C?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function w(T){const C=T.readable&&"function"!=typeof T.readable.read?oe.wrap(T.readable):T.readable,j=T.writable;let v,W,H,ee,fe,M=!!B(C),d=!!A(j);function Ae(Pe){const Le=ee;ee=null,Le?Le(Pe):Pe&&fe.destroy(Pe)}return fe=new h({readableObjectMode:!(null==C||!C.readableObjectMode),writableObjectMode:!(null==j||!j.writableObjectMode),readable:M,writable:d}),d&&(Q(j,Pe=>{d=!1,Pe&&ne(C,Pe),Ae(Pe)}),fe._write=function(Pe,Le,be){j.write(Pe,Le)?be():v=be},fe._final=function(Pe){j.end(),W=Pe},j.on("drain",function(){if(v){const Pe=v;v=null,Pe()}}),j.on("finish",function(){if(W){const Pe=W;W=null,Pe()}})),M&&(Q(C,Pe=>{M=!1,Pe&&ne(C,Pe),Ae(Pe)}),C.on("readable",function(){if(H){const Pe=H;H=null,Pe()}}),C.on("end",function(){fe.push(null)}),fe._read=function(){for(;;){const Pe=C.read();if(null===Pe)return void(H=fe._read);if(!fe.push(Pe))return}}),fe._destroy=function(Pe,Le){!Pe&&null!==ee&&(Pe=new te),H=null,v=null,W=null,null===ee?Le(Pe):(ee=Le,ne(j,Pe),ne(C,Pe))},fe}Be.exports=function T(C,j){if(X(C))return C;if(K(C))return w({readable:C});if(D(C))return w({writable:C});if($(C))return w({writable:!1,readable:!1});if(V(C))return w({readable:oe.fromWeb(C)});if(Z(C))return w({writable:ue.fromWeb(C)});if("function"==typeof C){const{value:d,write:v,final:W,destroy:H}=function g(T){let{promise:C,resolve:j}=ae();const M=new P,d=M.signal;return{value:T(O(function*(){for(;;){const W=C;C=null;const{chunk:H,done:ee,cb:fe}=yield S(W);if(G.nextTick(fe),ee)return;if(d.aborted)throw new te(void 0,{cause:d.reason});({promise:C,resolve:j}=ae()),yield H}})(),{signal:d}),write(W,H,ee){const fe=j;j=null,fe({chunk:W,done:!1,cb:ee})},final(W){const H=j;j=null,H({done:!0,cb:W})},destroy(W,H){M.abort(),H(W)}}}(C);if(N(d))return ve(h,d,{objectMode:!0,write:v,final:W,destroy:H});const ee=d?.then;if("function"==typeof ee){let fe;const Ae=u(ee,d,Pe=>{if(null!=Pe)throw new q("nully","body",Pe)},Pe=>{ne(fe,Pe)});return fe=new h({objectMode:!0,readable:!1,write:v,final(Pe){W(p(function*(){try{yield Ae,G.nextTick(Pe,null)}catch(Le){G.nextTick(Pe,Le)}}))},destroy:H})}throw new q("Iterable, AsyncIterable or AsyncFunction",j,d)}if(De(C))return T(C.arrayBuffer());if(N(C))return ve(h,C,{objectMode:!0,writable:!1});if(V(C?.readable)&&Z(C?.writable))return h.fromWeb(C);if("object"==typeof C?.writable||"object"==typeof C?.readable)return w({readable:null!=C&&C.readable?K(C?.readable)?C?.readable:T(C.readable):void 0,writable:null!=C&&C.writable?D(C?.writable)?C?.writable:T(C.writable):void 0});const M=C?.then;if("function"==typeof M){let d;return u(M,C,v=>{null!=v&&d.push(v),d.push(null)},v=>{ne(d,v)}),d=new h({objectMode:!0,writable:!1,read(){}})}throw new J(j,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],C)}},46017:(Be,z,E)=>{const p=E(40573),{AbortError:S,codes:O}=E(68154),{ERR_INVALID_ARG_TYPE:G,ERR_STREAM_PREMATURE_CLOSE:x}=O,{kEmptyObject:B,once:A}=E(13509),{validateAbortSignal:N,validateFunction:$,validateObject:K,validateBoolean:D}=E(99852),{Promise:X,PromisePrototypeThen:V,SymbolDispose:Z}=E(56389),{isClosed:Q,isReadable:te,isReadableNodeStream:J,isReadableStream:q,isReadableFinished:ne,isReadableErrored:se,isWritable:oe,isWritableNodeStream:ue,isWritableStream:ae,isWritableFinished:ve,isWritableErrored:_e,isNodeStream:De,willEmitClose:P,kIsClosedPromise:u}=E(32924);let h;const w=()=>{};function T(M,d,v){var W,H;if(2===arguments.length?(v=d,d=B):null==d?d=B:K(d,"options"),$(v,"callback"),N(d.signal,"options.signal"),v=A(v),q(M)||ae(M))return function C(M,d,v){let W=!1,H=w;if(d.signal)if(H=()=>{W=!0,v.call(M,new S(void 0,{cause:d.signal.reason}))},d.signal.aborted)p.nextTick(H);else{h=h||E(13509).addAbortListener;const fe=h(d.signal,H),Ae=v;v=A((...Pe)=>{fe[Z](),Ae.apply(M,Pe)})}const ee=(...fe)=>{W||p.nextTick(()=>v.apply(M,fe))};return V(M[u].promise,ee,ee),w}(M,d,v);if(!De(M))throw new G("stream",["ReadableStream","WritableStream","Stream"],M);const ee=null!==(W=d.readable)&&void 0!==W?W:J(M),fe=null!==(H=d.writable)&&void 0!==H?H:ue(M),Ae=M._writableState,Pe=M._readableState,Le=()=>{M.writable||Re()};let be=P(M)&&J(M)===ee&&ue(M)===fe,ge=ve(M,!1);const Re=()=>{ge=!0,M.destroyed&&(be=!1),(!be||M.readable&&!ee)&&(!ee||me)&&v.call(M)};let me=ne(M,!1);const xe=()=>{me=!0,M.destroyed&&(be=!1),(!be||M.writable&&!fe)&&(!fe||ge)&&v.call(M)},le=ke=>{v.call(M,ke)};let he=Q(M);const re=()=>{he=!0;const ke=_e(M)||se(M);return ke&&"boolean"!=typeof ke?v.call(M,ke):ee&&!me&&J(M,!0)&&!ne(M,!1)?v.call(M,new x):!fe||ge||ve(M,!1)?void v.call(M):v.call(M,new x)},de=()=>{he=!0;const ke=_e(M)||se(M);if(ke&&"boolean"!=typeof ke)return v.call(M,ke);v.call(M)},pe=()=>{M.req.on("finish",Re)};!function g(M){return M.setHeader&&"function"==typeof M.abort}(M)?fe&&!Ae&&(M.on("end",Le),M.on("close",Le)):(M.on("complete",Re),be||M.on("abort",re),M.req?pe():M.on("request",pe)),!be&&"boolean"==typeof M.aborted&&M.on("aborted",re),M.on("end",xe),M.on("finish",Re),!1!==d.error&&M.on("error",le),M.on("close",re),he?p.nextTick(re):null!=Ae&&Ae.errorEmitted||null!=Pe&&Pe.errorEmitted?be||p.nextTick(de):(!ee&&(!be||te(M))&&(ge||!1===oe(M))||!fe&&(!be||oe(M))&&(me||!1===te(M))||Pe&&M.req&&M.aborted)&&p.nextTick(de);const Se=()=>{v=w,M.removeListener("aborted",re),M.removeListener("complete",Re),M.removeListener("abort",re),M.removeListener("request",pe),M.req&&M.req.removeListener("finish",Re),M.removeListener("end",Le),M.removeListener("close",Le),M.removeListener("finish",Re),M.removeListener("end",xe),M.removeListener("error",le),M.removeListener("close",re)};if(d.signal&&!he){const ke=()=>{const Fe=v;Se(),Fe.call(M,new S(void 0,{cause:d.signal.reason}))};if(d.signal.aborted)p.nextTick(ke);else{h=h||E(13509).addAbortListener;const Fe=h(d.signal,ke),We=v;v=A((...Tt)=>{Fe[Z](),We.apply(M,Tt)})}}return Se}Be.exports=T,Be.exports.finished=function j(M,d){var v;let W=!1;return null===d&&(d=B),null!==(v=d)&&void 0!==v&&v.cleanup&&(D(d.cleanup,"cleanup"),W=d.cleanup),new X((H,ee)=>{const fe=T(M,d,Ae=>{W&&fe(),Ae?ee(Ae):H()})})}},45737:(Be,z,E)=>{"use strict";var p=E(29293).default;const S=E(40573),{PromisePrototypeThen:O,SymbolAsyncIterator:G,SymbolIterator:x}=E(56389),{Buffer:B}=E(68316),{ERR_INVALID_ARG_TYPE:A,ERR_STREAM_NULL_VALUES:N}=E(68154).codes;Be.exports=function $(K,D,X){let V,Z;if("string"==typeof D||D instanceof B)return new K({objectMode:!0,...X,read(){this.push(D),this.push(null)}});if(D&&D[G])Z=!0,V=D[G]();else{if(!D||!D[x])throw new A("iterable",["Iterable"],D);Z=!1,V=D[x]()}const Q=new K({objectMode:!0,highWaterMark:1,...X});let te=!1;function q(){return(q=p(function*(oe){if(null!=oe&&"function"==typeof V.throw){const{value:ve,done:_e}=yield V.throw(oe);if(yield ve,_e)return}if("function"==typeof V.return){const{value:ve}=yield V.return();yield ve}})).apply(this,arguments)}function se(){return(se=p(function*(){for(;;){try{const{value:oe,done:ue}=Z?yield V.next():V.next();if(ue)Q.push(null);else{const ae=oe&&"function"==typeof oe.then?yield oe:oe;if(null===ae)throw te=!1,new N;if(Q.push(ae))continue;te=!1}}catch(oe){Q.destroy(oe)}break}})).apply(this,arguments)}return Q._read=function(){te||(te=!0,function ne(){se.apply(this,arguments)}())},Q._destroy=function(oe,ue){O(function J(oe){return q.apply(this,arguments)}(oe),()=>S.nextTick(ue,oe),ae=>S.nextTick(ue,ae||oe))},Q}},91242:(Be,z,E)=>{"use strict";const{ArrayIsArray:p,ObjectSetPrototypeOf:S}=E(56389),{EventEmitter:O}=E(44356);function G(B){O.call(this,B)}function x(B,A,N){if("function"==typeof B.prependListener)return B.prependListener(A,N);B._events&&B._events[A]?p(B._events[A])?B._events[A].unshift(N):B._events[A]=[N,B._events[A]]:B.on(A,N)}S(G.prototype,O.prototype),S(G,O),G.prototype.pipe=function(B,A){const N=this;function $(te){B.writable&&!1===B.write(te)&&N.pause&&N.pause()}function K(){N.readable&&N.resume&&N.resume()}N.on("data",$),B.on("drain",K),!B._isStdio&&(!A||!1!==A.end)&&(N.on("end",X),N.on("close",V));let D=!1;function X(){D||(D=!0,B.end())}function V(){D||(D=!0,"function"==typeof B.destroy&&B.destroy())}function Z(te){Q(),0===O.listenerCount(this,"error")&&this.emit("error",te)}function Q(){N.removeListener("data",$),B.removeListener("drain",K),N.removeListener("end",X),N.removeListener("close",V),N.removeListener("error",Z),B.removeListener("error",Z),N.removeListener("end",Q),N.removeListener("close",Q),B.removeListener("close",Q)}return x(N,"error",Z),x(B,"error",Z),N.on("end",Q),N.on("close",Q),B.on("close",Q),B.emit("pipe",N),B},Be.exports={Stream:G,prependListener:x}},21840:(Be,z,E)=>{"use strict";var p=E(29293).default,S=E(93513).default,O=E(82881).default,G=E(53344).default,x=E(42958).default;const B=globalThis.AbortController||E(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:A,ERR_INVALID_ARG_TYPE:N,ERR_MISSING_ARGS:$,ERR_OUT_OF_RANGE:K},AbortError:D}=E(68154),{validateAbortSignal:X,validateInteger:V,validateObject:Z}=E(99852),Q=E(56389).Symbol("kWeak"),te=E(56389).Symbol("kResistStopPropagation"),{finished:J}=E(46017),q=E(373),{addAbortSignalNoValidate:ne}=E(57062),{isWritable:se,isNodeStream:oe}=E(32924),{deprecate:ue}=E(13509),{ArrayPrototypePush:ae,Boolean:ve,MathFloor:_e,Number:De,NumberIsNaN:P,Promise:u,PromiseReject:h,PromiseResolve:g,PromisePrototypeThen:w,Symbol:T}=E(56389),C=T("kEmpty"),j=T("kEof");function d(ke,Fe){if("function"!=typeof ke)throw new N("fn",["Function","AsyncFunction"],ke);null!=Fe&&Z(Fe,"options"),null!=Fe?.signal&&X(Fe.signal,"options.signal");let We=1;null!=Fe?.concurrency&&(We=_e(Fe.concurrency));let Tt=We-1;return null!=Fe?.highWaterMark&&(Tt=_e(Fe.highWaterMark)),V(We,"options.concurrency",1),V(Tt,"options.highWaterMark",0),Tt+=We,function(){var Xe=x(function*(){const lt=E(13509).AbortSignalAny([Fe?.signal].filter(ve)),U=this,_=[],m={signal:lt};let F,ie,we=!1,Ie=0;function Qe(){we=!0,kt()}function kt(){Ie-=1,pt()}function pt(){ie&&!we&&Ie<We&&_.length<Tt&&(ie(),ie=null)}function Lt(){return(Lt=p(function*(){try{var er,qt=!1,Kt=!1;try{for(var Ut,cn=O(U);qt=!(Ut=yield cn.next()).done;qt=!1){let Nt=Ut.value;if(we)return;if(lt.aborted)throw new D;try{if(Nt=ke(Nt,m),Nt===C)continue;Nt=g(Nt)}catch(dt){Nt=h(dt)}Ie+=1,w(Nt,kt,Qe),_.push(Nt),F&&(F(),F=null),!we&&(_.length>=Tt||Ie>=We)&&(yield new u(dt=>{ie=dt}))}}catch(Nt){Kt=!0,er=Nt}finally{try{qt&&null!=cn.return&&(yield cn.return())}finally{if(Kt)throw er}}_.push(j)}catch(Nt){const dt=h(Nt);w(dt,kt,Qe),_.push(dt)}finally{we=!0,F&&(F(),F=null)}})).apply(this,arguments)}!function Et(){Lt.apply(this,arguments)}();try{for(;;){for(;_.length>0;){const qt=yield G(_[0]);if(qt===j)return;if(lt.aborted)throw new D;qt!==C&&(yield qt),_.shift(),pt()}yield G(new u(qt=>{F=qt}))}}finally{we=!0,ie&&(ie(),ie=null)}});return function Ke(){return Xe.apply(this,arguments)}}().call(this)}function W(ke){return H.apply(this,arguments)}function H(){return(H=p(function*(ke,Fe=void 0){var Xe,We=!1,Tt=!1;try{for(var Ke=O(ge.call(this,ke,Fe));We=!(yield Ke.next()).done;We=!1)return!0}catch(U){Tt=!0,Xe=U}finally{try{We&&null!=Ke.return&&(yield Ke.return())}finally{if(Tt)throw Xe}}return!1})).apply(this,arguments)}function fe(){return(fe=p(function*(ke,Fe=void 0){if("function"!=typeof ke)throw new N("fn",["Function","AsyncFunction"],ke);return!(yield W.call(this,p(function*(...We){return!(yield ke(...We))}),Fe))})).apply(this,arguments)}function Pe(){return(Pe=p(function*(ke,Fe){var Xe,We=!1,Tt=!1;try{for(var lt,Ke=O(ge.call(this,ke,Fe));We=!(lt=yield Ke.next()).done;We=!1)return lt.value}catch(U){Tt=!0,Xe=U}finally{try{We&&null!=Ke.return&&(yield Ke.return())}finally{if(Tt)throw Xe}}})).apply(this,arguments)}function be(){return be=p(function*(ke,Fe){if("function"!=typeof ke)throw new N("fn",["Function","AsyncFunction"],ke);function Tt(){return(Tt=p(function*(m,F){return yield ke(m,F),C})).apply(this,arguments)}var lt,Xe=!1,Ke=!1;try{for(var U=O(d.call(this,function We(m,F){return Tt.apply(this,arguments)},Fe));Xe=!(yield U.next()).done;Xe=!1);}catch(m){Ke=!0,lt=m}finally{try{Xe&&null!=U.return&&(yield U.return())}finally{if(Ke)throw lt}}}),be.apply(this,arguments)}function ge(ke,Fe){if("function"!=typeof ke)throw new N("fn",["Function","AsyncFunction"],ke);function Tt(){return(Tt=p(function*(Xe,Ke){return(yield ke(Xe,Ke))?Xe:C})).apply(this,arguments)}return d.call(this,function We(Xe,Ke){return Tt.apply(this,arguments)},Fe)}class Re extends ${constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function xe(){return xe=p(function*(ke,Fe,We){var Tt;if("function"!=typeof ke)throw new N("reducer",["Function","AsyncFunction"],ke);null!=We&&Z(We,"options"),null!=We?.signal&&X(We.signal,"options.signal");let Xe=arguments.length>1;if(null!=We&&null!==(Tt=We.signal)&&void 0!==Tt&&Tt.aborted){const Qe=new D(void 0,{cause:We.signal.reason});throw this.once("error",()=>{}),yield J(this.destroy(Qe)),Qe}const Ke=new B,lt=Ke.signal;null!=We&&We.signal&&We.signal.addEventListener("abort",()=>Ke.abort(),{once:!0,[Q]:this,[te]:!0});let U=!1;try{var F,_=!1,m=!1;try{for(var we,ie=O(this);_=!(we=yield ie.next()).done;_=!1){const Qe=we.value;var Ie;if(U=!0,null!=We&&null!==(Ie=We.signal)&&void 0!==Ie&&Ie.aborted)throw new D;Xe?Fe=yield ke(Fe,Qe,{signal:lt}):(Fe=Qe,Xe=!0)}}catch(Qe){m=!0,F=Qe}finally{try{_&&null!=ie.return&&(yield ie.return())}finally{if(m)throw F}}if(!U&&!Xe)throw new Re}finally{Ke.abort()}return Fe}),xe.apply(this,arguments)}function he(){return(he=p(function*(ke){null!=ke&&Z(ke,"options"),null!=ke?.signal&&X(ke.signal,"options.signal");const Fe=[];var Xe,We=!1,Tt=!1;try{for(var lt,Ke=O(this);We=!(lt=yield Ke.next()).done;We=!1){const _=lt.value;var U;if(null!=ke&&null!==(U=ke.signal)&&void 0!==U&&U.aborted)throw new D(void 0,{cause:ke.signal.reason});ae(Fe,_)}}catch(_){Tt=!0,Xe=_}finally{try{We&&null!=Ke.return&&(yield Ke.return())}finally{if(Tt)throw Xe}}return Fe})).apply(this,arguments)}function de(ke){if(ke=De(ke),P(ke))return 0;if(ke<0)throw new K("number",">= 0",ke);return ke}Be.exports.streamReturningOperators={asIndexedPairs:ue(function v(ke=void 0){return null!=ke&&Z(ke,"options"),null!=ke?.signal&&X(ke.signal,"options.signal"),function(){var Fe=x(function*(){let Tt=0;var lt,Xe=!1,Ke=!1;try{for(var _,U=O(this);Xe=!(_=yield G(U.next())).done;Xe=!1){const F=_.value;var m;if(null!=ke&&null!==(m=ke.signal)&&void 0!==m&&m.aborted)throw new D({cause:ke.signal.reason});yield[Tt++,F]}}catch(F){Ke=!0,lt=F}finally{try{Xe&&null!=U.return&&(yield G(U.return()))}finally{if(Ke)throw lt}}});return function We(){return Fe.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function pe(ke,Fe=void 0){return null!=Fe&&Z(Fe,"options"),null!=Fe?.signal&&X(Fe.signal,"options.signal"),ke=de(ke),function(){var We=x(function*(){var Xe;if(null!=Fe&&null!==(Xe=Fe.signal)&&void 0!==Xe&&Xe.aborted)throw new D;var U,Ke=!1,lt=!1;try{for(var m,_=O(this);Ke=!(m=yield G(_.next())).done;Ke=!1){const ie=m.value;var F;if(null!=Fe&&null!==(F=Fe.signal)&&void 0!==F&&F.aborted)throw new D;ke--<=0&&(yield ie)}}catch(ie){lt=!0,U=ie}finally{try{Ke&&null!=_.return&&(yield G(_.return()))}finally{if(lt)throw U}}});return function Tt(){return We.apply(this,arguments)}}().call(this)},filter:ge,flatMap:function re(ke,Fe){const We=d.call(this,ke,Fe);return function(){var Tt=x(function*(){var U,Ke=!1,lt=!1;try{for(var m,_=O(We);Ke=!(m=yield G(_.next())).done;Ke=!1){const F=m.value;yield*S(O(F),G)}}catch(F){lt=!0,U=F}finally{try{Ke&&null!=_.return&&(yield G(_.return()))}finally{if(lt)throw U}}});return function Xe(){return Tt.apply(this,arguments)}}().call(this)},map:d,take:function Se(ke,Fe=void 0){return null!=Fe&&Z(Fe,"options"),null!=Fe?.signal&&X(Fe.signal,"options.signal"),ke=de(ke),function(){var We=x(function*(){var Xe;if(null!=Fe&&null!==(Xe=Fe.signal)&&void 0!==Xe&&Xe.aborted)throw new D;var U,Ke=!1,lt=!1;try{for(var m,_=O(this);Ke=!(m=yield G(_.next())).done;Ke=!1){const ie=m.value;var F;if(null!=Fe&&null!==(F=Fe.signal)&&void 0!==F&&F.aborted)throw new D;if(ke-- >0&&(yield ie),ke<=0)return}}catch(ie){lt=!0,U=ie}finally{try{Ke&&null!=_.return&&(yield G(_.return()))}finally{if(lt)throw U}}});return function Tt(){return We.apply(this,arguments)}}().call(this)},compose:function M(ke,Fe){if(null!=Fe&&Z(Fe,"options"),null!=Fe?.signal&&X(Fe.signal,"options.signal"),oe(ke)&&!se(ke))throw new A("stream",ke,"must be writable");const We=q(this,ke);return null!=Fe&&Fe.signal&&ne(Fe.signal,We),We}},Be.exports.promiseReturningOperators={every:function ee(ke){return fe.apply(this,arguments)},forEach:function Le(ke,Fe){return be.apply(this,arguments)},reduce:function me(ke,Fe,We){return xe.apply(this,arguments)},toArray:function le(ke){return he.apply(this,arguments)},some:W,find:function Ae(ke,Fe){return Pe.apply(this,arguments)}}},59447:(Be,z,E)=>{"use strict";const{ObjectSetPrototypeOf:p}=E(56389);Be.exports=O;const S=E(71981);function O(G){if(!(this instanceof O))return new O(G);S.call(this,G)}p(O.prototype,S.prototype),p(O,S),O.prototype._transform=function(G,x,B){B(null,G)}},67843:(Be,z,E)=>{var p=E(29293).default,S=E(42958).default,O=E(53344).default,G=E(93513).default,x=E(82881).default;const B=E(40573),{ArrayIsArray:A,Promise:N,SymbolAsyncIterator:$,SymbolDispose:K}=E(56389),D=E(46017),{once:X}=E(13509),V=E(96507),Z=E(13323),{aggregateTwoErrors:Q,codes:{ERR_INVALID_ARG_TYPE:te,ERR_INVALID_RETURN_VALUE:J,ERR_MISSING_ARGS:q,ERR_STREAM_DESTROYED:ne,ERR_STREAM_PREMATURE_CLOSE:se},AbortError:oe}=E(68154),{validateFunction:ue,validateAbortSignal:ae}=E(99852),{isIterable:ve,isReadable:_e,isReadableNodeStream:De,isNodeStream:P,isTransformStream:u,isWebStream:h,isReadableStream:g,isReadableFinished:w}=E(32924),T=globalThis.AbortController||E(9465).AbortController;let C,j,M;function d(me,xe,le){let he=!1;return me.on("close",()=>{he=!0}),{destroy:de=>{he||(he=!0,V.destroyer(me,de||new ne("pipe")))},cleanup:D(me,{readable:xe,writable:le},de=>{he=!de})}}function W(me){if(ve(me))return me;if(De(me))return function H(me){return ee.apply(this,arguments)}(me);throw new te("val",["Readable","Iterable","AsyncIterable"],me)}function ee(){return(ee=S(function*(me){j||(j=E(84553)),yield*G(x(j.prototype[$].call(me)),O)})).apply(this,arguments)}function fe(me,xe,le,he){return Ae.apply(this,arguments)}function Ae(){return(Ae=p(function*(me,xe,le,{end:he}){let re,de=null;const pe=lt=>{if(lt&&(re=lt),de){const U=de;de=null,U()}},Se=()=>new N((lt,U)=>{re?U(re):de=()=>{re?U(re):lt()}});xe.on("drain",pe);const ke=D(xe,{readable:!1},pe);try{xe.writableNeedDrain&&(yield Se());var Tt,Fe=!1,We=!1;try{for(var Ke,Xe=x(me);Fe=!(Ke=yield Xe.next()).done;Fe=!1)xe.write(Ke.value)||(yield Se())}catch(lt){We=!0,Tt=lt}finally{try{Fe&&null!=Xe.return&&(yield Xe.return())}finally{if(We)throw Tt}}he&&(xe.end(),yield Se()),le()}catch(lt){le(re!==lt?Q(re,lt):lt)}finally{ke(),xe.off("drain",pe)}})).apply(this,arguments)}function Pe(me,xe,le,he){return Le.apply(this,arguments)}function Le(){return(Le=p(function*(me,xe,le,{end:he}){u(xe)&&(xe=xe.writable);const re=xe.getWriter();try{var Se,de=!1,pe=!1;try{for(var Fe,ke=x(me);de=!(Fe=yield ke.next()).done;de=!1){const We=Fe.value;yield re.ready,re.write(We).catch(()=>{})}}catch(We){pe=!0,Se=We}finally{try{de&&null!=ke.return&&(yield ke.return())}finally{if(pe)throw Se}}yield re.ready,he&&(yield re.close()),le()}catch(We){try{yield re.abort(We),le(We)}catch(Tt){le(Tt)}}})).apply(this,arguments)}function ge(me,xe,le){if(1===me.length&&A(me[0])&&(me=me[0]),me.length<2)throw new q("streams");const he=new T,re=he.signal,de=le?.signal,pe=[];function Se(){lt(new oe)}let ke,Fe,We;ae(de,"options.signal"),M=M||E(13509).addAbortListener,de&&(ke=M(de,Se));const Tt=[];let U,Xe=0;function Ke(ie){lt(ie,0==--Xe)}function lt(ie,we){var Ie;if(ie&&(!Fe||"ERR_STREAM_PREMATURE_CLOSE"===Fe.code)&&(Fe=ie),Fe||we){for(;Tt.length;)Tt.shift()(Fe);null===(Ie=ke)||void 0===Ie||Ie[K](),he.abort(),we&&(Fe||pe.forEach(Qe=>Qe()),B.nextTick(xe,Fe,We))}}for(let ie=0;ie<me.length;ie++){const we=me[ie],Ie=ie<me.length-1,Qe=ie>0,kt=Ie||!1!==le?.end,pt=ie===me.length-1;if(P(we)){let Et=function(Lt){Lt&&"AbortError"!==Lt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Lt.code&&Ke(Lt)};if(kt){const{destroy:Lt,cleanup:qt}=d(we,Ie,Qe);Tt.push(Lt),_e(we)&&pt&&pe.push(qt)}we.on("error",Et),_e(we)&&pt&&pe.push(()=>{we.removeListener("error",Et)})}if(0===ie)if("function"==typeof we){if(U=we({signal:re}),!ve(U))throw new J("Iterable, AsyncIterable or Stream","source",U)}else U=ve(we)||De(we)||u(we)?we:Z.from(we);else if("function"==typeof we){var _;if(U=u(U)?W(null===(_=U)||void 0===_?void 0:_.readable):W(U),U=we(U,{signal:re}),Ie){if(!ve(U,!0))throw new J("AsyncIterable",`transform[${ie-1}]`,U)}else{var m;C||(C=E(59447));const Et=new C({objectMode:!0}),Lt=null===(m=U)||void 0===m?void 0:m.then;if("function"==typeof Lt)Xe++,Lt.call(U,er=>{We=er,null!=er&&Et.write(er),kt&&Et.end(),B.nextTick(Ke)},er=>{Et.destroy(er),B.nextTick(Ke,er)});else if(ve(U,!0))Xe++,fe(U,Et,Ke,{end:kt});else{if(!g(U)&&!u(U))throw new J("AsyncIterable or Promise","destination",U);Xe++,fe(U.readable||U,Et,Ke,{end:kt})}U=Et;const{destroy:qt,cleanup:Kt}=d(U,!1,!0);Tt.push(qt),pt&&pe.push(Kt)}}else if(P(we)){if(De(U)){Xe+=2;const Et=Re(U,we,Ke,{end:kt});_e(we)&&pt&&pe.push(Et)}else if(u(U)||g(U))Xe++,fe(U.readable||U,we,Ke,{end:kt});else{if(!ve(U))throw new te("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],U);Xe++,fe(U,we,Ke,{end:kt})}U=we}else if(h(we)){if(De(U))Xe++,Pe(W(U),we,Ke,{end:kt});else if(g(U)||ve(U))Xe++,Pe(U,we,Ke,{end:kt});else{if(!u(U))throw new te("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],U);Xe++,Pe(U.readable,we,Ke,{end:kt})}U=we}else U=Z.from(we)}return(null!=re&&re.aborted||null!=de&&de.aborted)&&B.nextTick(Se),U}function Re(me,xe,le,{end:he}){let re=!1;if(xe.on("close",()=>{re||le(new se)}),me.pipe(xe,{end:!1}),he){let pe=function(){re=!0,xe.end()};w(me)?B.nextTick(pe):me.once("end",pe)}else le();return D(me,{readable:!0,writable:!1},pe=>{const Se=me._readableState;pe&&"ERR_STREAM_PREMATURE_CLOSE"===pe.code&&Se&&Se.ended&&!Se.errored&&!Se.errorEmitted?me.once("end",le).once("error",le):le(pe)}),D(xe,{readable:!1,writable:!0},le)}Be.exports={pipelineImpl:ge,pipeline:function be(...me){return ge(me,X(function v(me){return ue(me[me.length-1],"streams[stream.length - 1]"),me.pop()}(me)))}}},84553:(Be,z,E)=>{var p=E(53344).default,S=E(42958).default;const O=E(40573),{ArrayPrototypeIndexOf:G,NumberIsInteger:x,NumberIsNaN:B,NumberParseInt:A,ObjectDefineProperties:N,ObjectKeys:$,ObjectSetPrototypeOf:K,Promise:D,SafeSet:X,SymbolAsyncDispose:V,SymbolAsyncIterator:Z,Symbol:Q}=E(56389);Be.exports=Ke,Ke.ReadableState=Xe;const{EventEmitter:te}=E(44356),{Stream:J,prependListener:q}=E(91242),{Buffer:ne}=E(68316),{addAbortSignal:se}=E(57062),oe=E(46017);let ue=E(13509).debuglog("stream",at=>{ue=at});const ae=E(16630),ve=E(96507),{getHighWaterMark:_e,getDefaultHighWaterMark:De}=E(18212),{aggregateTwoErrors:P,codes:{ERR_INVALID_ARG_TYPE:u,ERR_METHOD_NOT_IMPLEMENTED:h,ERR_OUT_OF_RANGE:g,ERR_STREAM_PUSH_AFTER_EOF:w,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:T},AbortError:C}=E(68154),{validateObject:j}=E(99852),M=Q("kPaused"),{StringDecoder:d}=E(78454),v=E(45737);K(Ke.prototype,J.prototype),K(Ke,J);const W=()=>{},{errorOrDestroy:H}=ve,ee=1,Le=16,be=32,ge=64,he=2048,re=4096,ke=65536;function Tt(at){return{enumerable:!1,get(){return!!(this.state&at)},set(ut){ut?this.state|=at:this.state&=~at}}}function Xe(at,ut,ft){"boolean"!=typeof ft&&(ft=ut instanceof E(13323)),this.state=he|re|Le|be,at&&at.objectMode&&(this.state|=ee),ft&&at&&at.readableObjectMode&&(this.state|=ee),this.highWaterMark=at?_e(this,at,"readableHighWaterMark",ft):De(!1),this.buffer=new ae,this.length=0,this.pipes=[],this.flowing=null,this[M]=null,at&&!1===at.emitClose&&(this.state&=~he),at&&!1===at.autoDestroy&&(this.state&=~re),this.errored=null,this.defaultEncoding=at&&at.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,at&&at.encoding&&(this.decoder=new d(at.encoding),this.encoding=at.encoding)}function Ke(at){if(!(this instanceof Ke))return new Ke(at);const ut=this instanceof E(13323);this._readableState=new Xe(at,this,ut),at&&("function"==typeof at.read&&(this._read=at.read),"function"==typeof at.destroy&&(this._destroy=at.destroy),"function"==typeof at.construct&&(this._construct=at.construct),at.signal&&!ut&&se(at.signal,this)),J.call(this,at),ve.construct(this,()=>{this._readableState.needReadable&&Qe(this,this._readableState)})}function lt(at,ut,ft,et){ue("readableAddChunk",ut);const gt=at._readableState;let un;if(gt.state&ee||("string"==typeof ut?gt.encoding!==(ft=ft||gt.defaultEncoding)&&(et&&gt.encoding?ut=ne.from(ut,ft).toString(gt.encoding):(ut=ne.from(ut,ft),ft="")):ut instanceof ne?ft="":J._isUint8Array(ut)?(ut=J._uint8ArrayToBuffer(ut),ft=""):null!=ut&&(un=new u("chunk",["string","Buffer","Uint8Array"],ut))),un)H(at,un);else if(null===ut)gt.state&=-9,function ie(at,ut){if(ue("onEofChunk"),!ut.ended){if(ut.decoder){const ft=ut.decoder.end();ft&&ft.length&&(ut.buffer.push(ft),ut.length+=ut.objectMode?1:ft.length)}ut.ended=!0,ut.sync?we(at):(ut.needReadable=!1,ut.emittedReadable=!0,Ie(at))}}(at,gt);else if(gt.state&ee||ut&&ut.length>0)if(et)if(4&gt.state)H(at,new T);else{if(gt.destroyed||gt.errored)return!1;U(at,gt,ut,!0)}else if(gt.ended)H(at,new w);else{if(gt.destroyed||gt.errored)return!1;gt.state&=-9,gt.decoder&&!ft?(ut=gt.decoder.write(ut),gt.objectMode||0!==ut.length?U(at,gt,ut,!1):Qe(at,gt)):U(at,gt,ut,!1)}else et||(gt.state&=-9,Qe(at,gt));return!gt.ended&&(gt.length<gt.highWaterMark||0===gt.length)}function U(at,ut,ft,et){ut.flowing&&0===ut.length&&!ut.sync&&at.listenerCount("data")>0?(ut.state&ke?ut.awaitDrainWriters.clear():ut.awaitDrainWriters=null,ut.dataEmitted=!0,at.emit("data",ft)):(ut.length+=ut.objectMode?1:ft.length,et?ut.buffer.unshift(ft):ut.buffer.push(ft),ut.state&ge&&we(at)),Qe(at,ut)}function F(at,ut){return at<=0||0===ut.length&&ut.ended?0:ut.state&ee?1:B(at)?ut.flowing&&ut.length?ut.buffer.first().length:ut.length:at<=ut.length?at:ut.ended?ut.length:0}function we(at){const ut=at._readableState;ue("emitReadable",ut.needReadable,ut.emittedReadable),ut.needReadable=!1,ut.emittedReadable||(ue("emitReadable",ut.flowing),ut.emittedReadable=!0,O.nextTick(Ie,at))}function Ie(at){const ut=at._readableState;ue("emitReadable_",ut.destroyed,ut.length,ut.ended),!ut.destroyed&&!ut.errored&&(ut.length||ut.ended)&&(at.emit("readable"),ut.emittedReadable=!1),ut.needReadable=!ut.flowing&&!ut.ended&&ut.length<=ut.highWaterMark,er(at)}function Qe(at,ut){!ut.readingMore&&ut.constructed&&(ut.readingMore=!0,O.nextTick(kt,at,ut))}function kt(at,ut){for(;!ut.reading&&!ut.ended&&(ut.length<ut.highWaterMark||ut.flowing&&0===ut.length);){const ft=ut.length;if(ue("maybeReadMore read 0"),at.read(0),ft===ut.length)break}ut.readingMore=!1}function Et(at){const ut=at._readableState;ut.readableListening=at.listenerCount("readable")>0,ut.resumeScheduled&&!1===ut[M]?ut.flowing=!0:at.listenerCount("data")>0?at.resume():ut.readableListening||(ut.flowing=null)}function Lt(at){ue("readable nexttick read 0"),at.read(0)}function Kt(at,ut){ue("resume",ut.reading),ut.reading||at.read(0),ut.resumeScheduled=!1,at.emit("resume"),er(at),ut.flowing&&!ut.reading&&at.read(0)}function er(at){const ut=at._readableState;for(ue("flow",ut.flowing);ut.flowing&&null!==at.read(););}function cn(at,ut){"function"!=typeof at.read&&(at=Ke.wrap(at,{objectMode:!0}));const ft=function Ut(at,ut){return Nt.apply(this,arguments)}(at,ut);return ft.stream=at,ft}function Nt(){return(Nt=S(function*(at,ut){let gt,ft=W;function et(zt){this===at?(ft(),ft=W):ft=zt}at.on("readable",et);const un=oe(at,{writable:!1},zt=>{gt=zt?P(gt,zt):null,ft(),ft=W});try{for(;;){const zt=at.destroyed?null:at.read();if(null!==zt)yield zt;else{if(gt)throw gt;if(null===gt)return;yield p(new D(et))}}}catch(zt){throw gt=P(gt,zt),gt}finally{!gt&&!1===ut?.destroyOnReturn||void 0!==gt&&!at._readableState.autoDestroy?(at.off("readable",et),un()):ve.destroyer(at,null)}})).apply(this,arguments)}function dt(at,ut){if(0===ut.length)return null;let ft;return ut.objectMode?ft=ut.buffer.shift():!at||at>=ut.length?(ft=ut.decoder?ut.buffer.join(""):1===ut.buffer.length?ut.buffer.first():ut.buffer.concat(ut.length),ut.buffer.clear()):ft=ut.buffer.consume(at,ut.decoder),ft}function it(at){const ut=at._readableState;ue("endReadable",ut.endEmitted),ut.endEmitted||(ut.ended=!0,O.nextTick(Ct,ut,at))}function Ct(at,ut){if(ue("endReadableNT",at.endEmitted,at.length),!at.errored&&!at.closeEmitted&&!at.endEmitted&&0===at.length)if(at.endEmitted=!0,ut.emit("end"),ut.writable&&!1===ut.allowHalfOpen)O.nextTick(Bt,ut);else if(at.autoDestroy){const ft=ut._writableState;(!ft||ft.autoDestroy&&(ft.finished||!1===ft.writable))&&ut.destroy()}}function Bt(at){at.writable&&!at.writableEnded&&!at.destroyed&&at.end()}let Wt;function Yn(){return void 0===Wt&&(Wt={}),Wt}N(Xe.prototype,{objectMode:Tt(ee),ended:Tt(2),endEmitted:Tt(4),reading:Tt(8),constructed:Tt(Le),sync:Tt(be),needReadable:Tt(ge),emittedReadable:Tt(128),readableListening:Tt(256),resumeScheduled:Tt(512),errorEmitted:Tt(1024),emitClose:Tt(he),autoDestroy:Tt(re),destroyed:Tt(8192),closed:Tt(16384),closeEmitted:Tt(32768),multiAwaitDrain:Tt(ke),readingMore:Tt(1<<17),dataEmitted:Tt(1<<18)}),Ke.prototype.destroy=ve.destroy,Ke.prototype._undestroy=ve.undestroy,Ke.prototype._destroy=function(at,ut){ut(at)},Ke.prototype[te.captureRejectionSymbol]=function(at){this.destroy(at)},Ke.prototype[V]=function(){let at;return this.destroyed||(at=this.readableEnded?null:new C,this.destroy(at)),new D((ut,ft)=>oe(this,et=>et&&et!==at?ft(et):ut(null)))},Ke.prototype.push=function(at,ut){return lt(this,at,ut,!1)},Ke.prototype.unshift=function(at,ut){return lt(this,at,ut,!0)},Ke.prototype.isPaused=function(){const at=this._readableState;return!0===at[M]||!1===at.flowing},Ke.prototype.setEncoding=function(at){const ut=new d(at);this._readableState.decoder=ut,this._readableState.encoding=this._readableState.decoder.encoding;const ft=this._readableState.buffer;let et="";for(const gt of ft)et+=ut.write(gt);return ft.clear(),""!==et&&ft.push(et),this._readableState.length=et.length,this},Ke.prototype.read=function(at){ue("read",at),void 0===at?at=NaN:x(at)||(at=A(at,10));const ut=this._readableState,ft=at;if(at>ut.highWaterMark&&(ut.highWaterMark=function m(at){if(at>1073741824)throw new g("size","<= 1GiB",at);return at--,at|=at>>>1,at|=at>>>2,at|=at>>>4,at|=at>>>8,at|=at>>>16,++at}(at)),0!==at&&(ut.state&=-129),0===at&&ut.needReadable&&((0!==ut.highWaterMark?ut.length>=ut.highWaterMark:ut.length>0)||ut.ended))return ue("read: emitReadable",ut.length,ut.ended),0===ut.length&&ut.ended?it(this):we(this),null;if(0===(at=F(at,ut))&&ut.ended)return 0===ut.length&&it(this),null;let gt,et=!!(ut.state&ge);if(ue("need readable",et),(0===ut.length||ut.length-at<ut.highWaterMark)&&(et=!0,ue("length less than watermark",et)),ut.ended||ut.reading||ut.destroyed||ut.errored||!ut.constructed)et=!1,ue("reading, ended or constructing",et);else if(et){ue("do read"),ut.state|=8|be,0===ut.length&&(ut.state|=ge);try{this._read(ut.highWaterMark)}catch(un){H(this,un)}ut.state&=~be,ut.reading||(at=F(ft,ut))}return gt=at>0?dt(at,ut):null,null===gt?(ut.needReadable=ut.length<=ut.highWaterMark,at=0):(ut.length-=at,ut.multiAwaitDrain?ut.awaitDrainWriters.clear():ut.awaitDrainWriters=null),0===ut.length&&(ut.ended||(ut.needReadable=!0),ft!==at&&ut.ended&&it(this)),null!==gt&&!ut.errorEmitted&&!ut.closeEmitted&&(ut.dataEmitted=!0,this.emit("data",gt)),gt},Ke.prototype._read=function(at){throw new h("_read()")},Ke.prototype.pipe=function(at,ut){const ft=this,et=this._readableState;1===et.pipes.length&&(et.multiAwaitDrain||(et.multiAwaitDrain=!0,et.awaitDrainWriters=new X(et.awaitDrainWriters?[et.awaitDrainWriters]:[]))),et.pipes.push(at),ue("pipe count=%d opts=%j",et.pipes.length,ut);const un=ut&&!1===ut.end||at===O.stdout||at===O.stderr?Hn:tn;function tn(){ue("onend"),at.end()}et.endEmitted?O.nextTick(un):ft.once("end",un),at.on("unpipe",function zt(ar,qn){ue("onunpipe"),ar===ft&&qn&&!1===qn.hasUnpiped&&(qn.hasUnpiped=!0,function vn(){ue("cleanup"),at.removeListener("close",On),at.removeListener("finish",Vn),pr&&at.removeListener("drain",pr),at.removeListener("error",jn),at.removeListener("unpipe",zt),ft.removeListener("end",tn),ft.removeListener("end",Hn),ft.removeListener("data",Qn),bn=!0,pr&&et.awaitDrainWriters&&(!at._writableState||at._writableState.needDrain)&&pr()}())});let pr,bn=!1;function Or(){bn||(1===et.pipes.length&&et.pipes[0]===at?(ue("false write response, pause",0),et.awaitDrainWriters=at,et.multiAwaitDrain=!1):et.pipes.length>1&&et.pipes.includes(at)&&(ue("false write response, pause",et.awaitDrainWriters.size),et.awaitDrainWriters.add(at)),ft.pause()),pr||(pr=function pt(at,ut){return function(){const et=at._readableState;et.awaitDrainWriters===ut?(ue("pipeOnDrain",1),et.awaitDrainWriters=null):et.multiAwaitDrain&&(ue("pipeOnDrain",et.awaitDrainWriters.size),et.awaitDrainWriters.delete(ut)),(!et.awaitDrainWriters||0===et.awaitDrainWriters.size)&&at.listenerCount("data")&&at.resume()}}(ft,at),at.on("drain",pr))}function Qn(ar){ue("ondata");const qn=at.write(ar);ue("dest.write",qn),!1===qn&&Or()}function jn(ar){if(ue("onerror",ar),Hn(),at.removeListener("error",jn),0===at.listenerCount("error")){const qn=at._writableState||at._readableState;qn&&!qn.errorEmitted?H(at,ar):at.emit("error",ar)}}function On(){at.removeListener("finish",Vn),Hn()}function Vn(){ue("onfinish"),at.removeListener("close",On),Hn()}function Hn(){ue("unpipe"),ft.unpipe(at)}return ft.on("data",Qn),q(at,"error",jn),at.once("close",On),at.once("finish",Vn),at.emit("pipe",ft),!0===at.writableNeedDrain?Or():et.flowing||(ue("pipe resume"),ft.resume()),at},Ke.prototype.unpipe=function(at){const ut=this._readableState;if(0===ut.pipes.length)return this;if(!at){const gt=ut.pipes;ut.pipes=[],this.pause();for(let un=0;un<gt.length;un++)gt[un].emit("unpipe",this,{hasUnpiped:!1});return this}const et=G(ut.pipes,at);return-1===et||(ut.pipes.splice(et,1),0===ut.pipes.length&&this.pause(),at.emit("unpipe",this,{hasUnpiped:!1})),this},Ke.prototype.addListener=Ke.prototype.on=function(at,ut){const ft=J.prototype.on.call(this,at,ut),et=this._readableState;return"data"===at?(et.readableListening=this.listenerCount("readable")>0,!1!==et.flowing&&this.resume()):"readable"===at&&!et.endEmitted&&!et.readableListening&&(et.readableListening=et.needReadable=!0,et.flowing=!1,et.emittedReadable=!1,ue("on readable",et.length,et.reading),et.length?we(this):et.reading||O.nextTick(Lt,this)),ft},Ke.prototype.off=Ke.prototype.removeListener=function(at,ut){const ft=J.prototype.removeListener.call(this,at,ut);return"readable"===at&&O.nextTick(Et,this),ft},Ke.prototype.removeAllListeners=function(at){const ut=J.prototype.removeAllListeners.apply(this,arguments);return("readable"===at||void 0===at)&&O.nextTick(Et,this),ut},Ke.prototype.resume=function(){const at=this._readableState;return at.flowing||(ue("resume"),at.flowing=!at.readableListening,function qt(at,ut){ut.resumeScheduled||(ut.resumeScheduled=!0,O.nextTick(Kt,at,ut))}(this,at)),at[M]=!1,this},Ke.prototype.pause=function(){return ue("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ue("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[M]=!0,this},Ke.prototype.wrap=function(at){let ut=!1;at.on("data",et=>{!this.push(et)&&at.pause&&(ut=!0,at.pause())}),at.on("end",()=>{this.push(null)}),at.on("error",et=>{H(this,et)}),at.on("close",()=>{this.destroy()}),at.on("destroy",()=>{this.destroy()}),this._read=()=>{ut&&at.resume&&(ut=!1,at.resume())};const ft=$(at);for(let et=1;et<ft.length;et++){const gt=ft[et];void 0===this[gt]&&"function"==typeof at[gt]&&(this[gt]=at[gt].bind(at))}return this},Ke.prototype[Z]=function(){return cn(this)},Ke.prototype.iterator=function(at){return void 0!==at&&j(at,"options"),cn(this,at)},N(Ke.prototype,{readable:{__proto__:null,get(){const at=this._readableState;return!(!at||!1===at.readable||at.destroyed||at.errorEmitted||at.endEmitted)},set(at){this._readableState&&(this._readableState.readable=!!at)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(at){this._readableState&&(this._readableState.flowing=at)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(at){this._readableState&&(this._readableState.destroyed=at)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),N(Xe.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[M]},set(at){this[M]=!!at}}}),Ke._fromList=dt,Ke.from=function(at,ut){return v(Ke,at,ut)},Ke.fromWeb=function(at,ut){return Yn().newStreamReadableFromReadableStream(at,ut)},Ke.toWeb=function(at,ut){return Yn().newReadableStreamFromStreamReadable(at,ut)},Ke.wrap=function(at,ut){var ft,et;return new Ke({objectMode:null===(ft=null!==(et=at.readableObjectMode)&&void 0!==et?et:at.objectMode)||void 0===ft||ft,...ut,destroy(gt,un){ve.destroyer(at,gt),un(gt)}}).wrap(at)}},18212:(Be,z,E)=>{"use strict";const{MathFloor:p,NumberIsInteger:S}=E(56389),{validateInteger:O}=E(99852),{ERR_INVALID_ARG_VALUE:G}=E(68154).codes;let x=16384,B=16;function N(D){return D?B:x}Be.exports={getHighWaterMark:function K(D,X,V,Z){const Q=function A(D,X,V){return null!=D.highWaterMark?D.highWaterMark:X?D[V]:null}(X,Z,V);if(null!=Q){if(!S(Q)||Q<0)throw new G(Z?`options.${V}`:"options.highWaterMark",Q);return p(Q)}return N(D.objectMode)},getDefaultHighWaterMark:N,setDefaultHighWaterMark:function $(D,X){O(X,"value",0),D?B=X:x=X}}},71981:(Be,z,E)=>{"use strict";const{ObjectSetPrototypeOf:p,Symbol:S}=E(56389);Be.exports=A;const{ERR_METHOD_NOT_IMPLEMENTED:O}=E(68154).codes,G=E(13323),{getHighWaterMark:x}=E(18212);p(A.prototype,G.prototype),p(A,G);const B=S("kCallback");function A(K){if(!(this instanceof A))return new A(K);const D=K?x(this,K,"readableHighWaterMark",!0):null;0===D&&(K={...K,highWaterMark:null,readableHighWaterMark:D,writableHighWaterMark:K.writableHighWaterMark||0}),G.call(this,K),this._readableState.sync=!1,this[B]=null,K&&("function"==typeof K.transform&&(this._transform=K.transform),"function"==typeof K.flush&&(this._flush=K.flush)),this.on("prefinish",$)}function N(K){"function"!=typeof this._flush||this.destroyed?(this.push(null),K&&K()):this._flush((D,X)=>{D?K?K(D):this.destroy(D):(null!=X&&this.push(X),this.push(null),K&&K())})}function $(){this._final!==N&&N.call(this)}A.prototype._final=N,A.prototype._transform=function(K,D,X){throw new O("_transform()")},A.prototype._write=function(K,D,X){const V=this._readableState,Z=this._writableState,Q=V.length;this._transform(K,D,(te,J)=>{te?X(te):(null!=J&&this.push(J),Z.ended||Q===V.length||V.length<V.highWaterMark?X():this[B]=X)})},A.prototype._read=function(){if(this[B]){const K=this[B];this[B]=null,K()}}},32924:(Be,z,E)=>{"use strict";const{SymbolAsyncIterator:p,SymbolIterator:S,SymbolFor:O}=E(56389),G=O("nodejs.stream.destroyed"),x=O("nodejs.stream.errored"),B=O("nodejs.stream.readable"),A=O("nodejs.stream.writable"),N=O("nodejs.stream.disturbed"),$=O("nodejs.webstream.isClosedPromise"),K=O("nodejs.webstream.controllerErrorFunction");function D(v,W=!1){var H;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||W&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(H=v._readableState)||void 0===H?void 0:H.readable)||v._writableState&&!v._readableState)}function X(v){var W;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(W=v._writableState)||void 0===W?void 0:W.writable))}function Z(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function Q(v){return!(!v||Z(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function te(v){return!(!v||Z(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function J(v){return!(!v||Z(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function se(v){if(!Z(v))return null;const ee=v._writableState||v._readableState;return!!(v.destroyed||v[G]||null!=ee&&ee.destroyed)}function oe(v){if(!X(v))return null;if(!0===v.writableEnded)return!0;const W=v._writableState;return(null==W||!W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)}function ve(v,W){if(!D(v))return null;const H=v._readableState;return(null==H||!H.errored)&&("boolean"!=typeof H?.endEmitted?null:!!(H.endEmitted||!1===W&&!0===H.ended&&0===H.length))}function _e(v){return v&&null!=v[B]?v[B]:"boolean"!=typeof v?.readable?null:!se(v)&&D(v)&&v.readable&&!ve(v)}function De(v){return v&&null!=v[A]?v[A]:"boolean"!=typeof v?.writable?null:!se(v)&&X(v)&&v.writable&&!oe(v)}function w(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function T(v){return"boolean"==typeof v._sent100&&w(v)}Be.exports={isDestroyed:se,kIsDestroyed:G,isDisturbed:function M(v){var W;return!(!v||!(null!==(W=v[N])&&void 0!==W?W:v.readableDidRead||v.readableAborted))},kIsDisturbed:N,isErrored:function d(v){var W,H,ee,fe,Ae,Pe,Le,be,ge,Re;return!(!v||!(null!==(W=null!==(H=null!==(ee=null!==(fe=null!==(Ae=null!==(Pe=v[x])&&void 0!==Pe?Pe:v.readableErrored)&&void 0!==Ae?Ae:v.writableErrored)&&void 0!==fe?fe:null===(Le=v._readableState)||void 0===Le?void 0:Le.errorEmitted)&&void 0!==ee?ee:null===(be=v._writableState)||void 0===be?void 0:be.errorEmitted)&&void 0!==H?H:null===(ge=v._readableState)||void 0===ge?void 0:ge.errored)&&void 0!==W?W:null!==(Re=v._writableState)&&void 0!==Re&&Re.errored))},kIsErrored:x,isReadable:_e,kIsReadable:B,kIsClosedPromise:$,kControllerErrorFunction:K,kIsWritable:A,isClosed:function g(v){if(!Z(v))return null;if("boolean"==typeof v.closed)return v.closed;const W=v._writableState,H=v._readableState;return"boolean"==typeof W?.closed||"boolean"==typeof H?.closed?W?.closed||H?.closed:"boolean"==typeof v._closed&&w(v)?v._closed:null},isDuplexNodeStream:function V(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function P(v,W){return Z(v)?!!se(v)||!(!1!==W?.readable&&_e(v)||!1!==W?.writable&&De(v)):null},isIterable:function ne(v,W){return null!=v&&(!0===W?"function"==typeof v[p]:!1===W?"function"==typeof v[S]:"function"==typeof v[p]||"function"==typeof v[S])},isReadableNodeStream:D,isReadableStream:Q,isReadableEnded:function ae(v){if(!D(v))return null;if(!0===v.readableEnded)return!0;const W=v._readableState;return!(!W||W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)},isReadableFinished:ve,isReadableErrored:function h(v){var W,H;return Z(v)?v.readableErrored?v.readableErrored:null!==(W=null===(H=v._readableState)||void 0===H?void 0:H.errored)&&void 0!==W?W:null:null},isNodeStream:Z,isWebStream:function q(v){return Q(v)||te(v)||J(v)},isWritable:De,isWritableNodeStream:X,isWritableStream:te,isWritableEnded:oe,isWritableFinished:function ue(v,W){if(!X(v))return null;if(!0===v.writableFinished)return!0;const H=v._writableState;return(null==H||!H.errored)&&("boolean"!=typeof H?.finished?null:!!(H.finished||!1===W&&!0===H.ended&&0===H.length))},isWritableErrored:function u(v){var W,H;return Z(v)?v.writableErrored?v.writableErrored:null!==(W=null===(H=v._writableState)||void 0===H?void 0:H.errored)&&void 0!==W?W:null:null},isServerRequest:function C(v){var W;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(W=v.req)||void 0===W?void 0:W.upgradeOrConnect)},isServerResponse:T,willEmitClose:function j(v){if(!Z(v))return null;const ee=v._writableState||v._readableState;return!ee&&T(v)||!!(ee&&ee.autoDestroy&&ee.emitClose&&!1===ee.closed)},isTransformStream:J}},30009:(Be,z,E)=>{const p=E(40573),{ArrayPrototypeSlice:S,Error:O,FunctionPrototypeSymbolHasInstance:G,ObjectDefineProperty:x,ObjectDefineProperties:B,ObjectSetPrototypeOf:A,StringPrototypeToLowerCase:N,Symbol:$,SymbolHasInstance:K}=E(56389);Be.exports=T,T.WritableState=g;const{EventEmitter:D}=E(44356),X=E(91242).Stream,{Buffer:V}=E(68316),Z=E(96507),{addAbortSignal:Q}=E(57062),{getHighWaterMark:te,getDefaultHighWaterMark:J}=E(18212),{ERR_INVALID_ARG_TYPE:q,ERR_METHOD_NOT_IMPLEMENTED:ne,ERR_MULTIPLE_CALLBACK:se,ERR_STREAM_CANNOT_PIPE:oe,ERR_STREAM_DESTROYED:ue,ERR_STREAM_ALREADY_FINISHED:ae,ERR_STREAM_NULL_VALUES:ve,ERR_STREAM_WRITE_AFTER_END:_e,ERR_UNKNOWN_ENCODING:De}=E(68154).codes,{errorOrDestroy:P}=Z;function u(){}A(T.prototype,X.prototype),A(T,X);const h=$("kOnFinished");function g(le,he,re){"boolean"!=typeof re&&(re=he instanceof E(13323)),this.objectMode=!(!le||!le.objectMode),re&&(this.objectMode=this.objectMode||!(!le||!le.writableObjectMode)),this.highWaterMark=le?te(this,le,"writableHighWaterMark",re):J(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(le&&!1===le.decodeStrings),this.defaultEncoding=le&&le.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,he),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,w(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!le||!1!==le.emitClose,this.autoDestroy=!le||!1!==le.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[h]=[]}function w(le){le.buffered=[],le.bufferedIndex=0,le.allBuffers=!0,le.allNoop=!0}function T(le){const he=this instanceof E(13323);if(!he&&!G(T,this))return new T(le);this._writableState=new g(le,this,he),le&&("function"==typeof le.write&&(this._write=le.write),"function"==typeof le.writev&&(this._writev=le.writev),"function"==typeof le.destroy&&(this._destroy=le.destroy),"function"==typeof le.final&&(this._final=le.final),"function"==typeof le.construct&&(this._construct=le.construct),le.signal&&Q(le.signal,this)),X.call(this,le),Z.construct(this,()=>{const re=this._writableState;re.writing||fe(this,re),be(this,re)})}function C(le,he,re,de){const pe=le._writableState;if("function"==typeof re)de=re,re=pe.defaultEncoding;else{if(re){if("buffer"!==re&&!V.isEncoding(re))throw new De(re)}else re=pe.defaultEncoding;"function"!=typeof de&&(de=u)}if(null===he)throw new ve;if(!pe.objectMode)if("string"==typeof he)!1!==pe.decodeStrings&&(he=V.from(he,re),re="buffer");else if(he instanceof V)re="buffer";else{if(!X._isUint8Array(he))throw new q("chunk",["string","Buffer","Uint8Array"],he);he=X._uint8ArrayToBuffer(he),re="buffer"}let Se;return pe.ending?Se=new _e:pe.destroyed&&(Se=new ue("write")),Se?(p.nextTick(de,Se),P(le,Se,!0),Se):(pe.pendingcb++,function j(le,he,re,de,pe){const Se=he.objectMode?1:re.length;he.length+=Se;const ke=he.length<he.highWaterMark;return ke||(he.needDrain=!0),he.writing||he.corked||he.errored||!he.constructed?(he.buffered.push({chunk:re,encoding:de,callback:pe}),he.allBuffers&&"buffer"!==de&&(he.allBuffers=!1),he.allNoop&&pe!==u&&(he.allNoop=!1)):(he.writelen=Se,he.writecb=pe,he.writing=!0,he.sync=!0,le._write(re,de,he.onwrite),he.sync=!1),ke&&!he.errored&&!he.destroyed}(le,pe,he,re,de))}function M(le,he,re,de,pe,Se,ke){he.writelen=de,he.writecb=ke,he.writing=!0,he.sync=!0,he.destroyed?he.onwrite(new ue("write")):re?le._writev(pe,he.onwrite):le._write(pe,Se,he.onwrite),he.sync=!1}function d(le,he,re,de){--he.pendingcb,de(re),ee(he),P(le,re)}function v(le,he){const re=le._writableState,de=re.sync,pe=re.writecb;"function"==typeof pe?(re.writing=!1,re.writecb=null,re.length-=re.writelen,re.writelen=0,he?(re.errored||(re.errored=he),le._readableState&&!le._readableState.errored&&(le._readableState.errored=he),de?p.nextTick(d,le,re,he,pe):d(le,re,he,pe)):(re.buffered.length>re.bufferedIndex&&fe(le,re),de?null!==re.afterWriteTickInfo&&re.afterWriteTickInfo.cb===pe?re.afterWriteTickInfo.count++:(re.afterWriteTickInfo={count:1,cb:pe,stream:le,state:re},p.nextTick(W,re.afterWriteTickInfo)):H(le,re,1,pe))):P(le,new se)}function W({stream:le,state:he,count:re,cb:de}){return he.afterWriteTickInfo=null,H(le,he,re,de)}function H(le,he,re,de){for(!he.ending&&!le.destroyed&&0===he.length&&he.needDrain&&(he.needDrain=!1,le.emit("drain"));re-- >0;)he.pendingcb--,de();he.destroyed&&ee(he),be(le,he)}function ee(le){if(le.writing)return;for(let pe=le.bufferedIndex;pe<le.buffered.length;++pe){var he;const{chunk:Se,callback:ke}=le.buffered[pe];le.length-=le.objectMode?1:Se.length,ke(null!==(he=le.errored)&&void 0!==he?he:new ue("write"))}const re=le[h].splice(0);for(let pe=0;pe<re.length;pe++){var de;re[pe](null!==(de=le.errored)&&void 0!==de?de:new ue("end"))}w(le)}function fe(le,he){if(he.corked||he.bufferProcessing||he.destroyed||!he.constructed)return;const{buffered:re,bufferedIndex:de,objectMode:pe}=he,Se=re.length-de;if(!Se)return;let ke=de;if(he.bufferProcessing=!0,Se>1&&le._writev){he.pendingcb-=Se-1;const Fe=he.allNoop?u:Tt=>{for(let Xe=ke;Xe<re.length;++Xe)re[Xe].callback(Tt)},We=he.allNoop&&0===ke?re:S(re,ke);We.allBuffers=he.allBuffers,M(le,he,!0,he.length,We,"",Fe),w(he)}else{do{const{chunk:Fe,encoding:We,callback:Tt}=re[ke];re[ke++]=null,M(le,he,!1,pe?1:Fe.length,Fe,We,Tt)}while(ke<re.length&&!he.writing);ke===re.length?w(he):ke>256?(re.splice(0,ke),he.bufferedIndex=0):he.bufferedIndex=ke}he.bufferProcessing=!1}function Ae(le){return le.ending&&!le.destroyed&&le.constructed&&0===le.length&&!le.errored&&0===le.buffered.length&&!le.finished&&!le.writing&&!le.errorEmitted&&!le.closeEmitted}function be(le,he,re){Ae(he)&&(function Le(le,he){!he.prefinished&&!he.finalCalled&&("function"!=typeof le._final||he.destroyed?(he.prefinished=!0,le.emit("prefinish")):(he.finalCalled=!0,function Pe(le,he){let re=!1;function de(pe){if(re)P(le,pe??se());else if(re=!0,he.pendingcb--,pe){const Se=he[h].splice(0);for(let ke=0;ke<Se.length;ke++)Se[ke](pe);P(le,pe,he.sync)}else Ae(he)&&(he.prefinished=!0,le.emit("prefinish"),he.pendingcb++,p.nextTick(ge,le,he))}he.sync=!0,he.pendingcb++;try{le._final(de)}catch(pe){de(pe)}he.sync=!1}(le,he)))}(le,he),0===he.pendingcb&&(re?(he.pendingcb++,p.nextTick((de,pe)=>{Ae(pe)?ge(de,pe):pe.pendingcb--},le,he)):Ae(he)&&(he.pendingcb++,ge(le,he))))}function ge(le,he){he.pendingcb--,he.finished=!0;const re=he[h].splice(0);for(let de=0;de<re.length;de++)re[de]();if(le.emit("finish"),he.autoDestroy){const de=le._readableState;(!de||de.autoDestroy&&(de.endEmitted||!1===de.readable))&&le.destroy()}}g.prototype.getBuffer=function(){return S(this.buffered,this.bufferedIndex)},x(g.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),x(T,K,{__proto__:null,value:function(le){return!!G(this,le)||this===T&&le&&le._writableState instanceof g}}),T.prototype.pipe=function(){P(this,new oe)},T.prototype.write=function(le,he,re){return!0===C(this,le,he,re)},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){const le=this._writableState;le.corked&&(le.corked--,le.writing||fe(this,le))},T.prototype.setDefaultEncoding=function(he){if("string"==typeof he&&(he=N(he)),!V.isEncoding(he))throw new De(he);return this._writableState.defaultEncoding=he,this},T.prototype._write=function(le,he,re){if(!this._writev)throw new ne("_write()");this._writev([{chunk:le,encoding:he}],re)},T.prototype._writev=null,T.prototype.end=function(le,he,re){const de=this._writableState;let pe;if("function"==typeof le?(re=le,le=null,he=null):"function"==typeof he&&(re=he,he=null),null!=le){const Se=C(this,le,he);Se instanceof O&&(pe=Se)}return de.corked&&(de.corked=1,this.uncork()),pe||(de.errored||de.ending?de.finished?pe=new ae("end"):de.destroyed&&(pe=new ue("end")):(de.ending=!0,be(this,de,!0),de.ended=!0)),"function"==typeof re&&(pe||de.finished?p.nextTick(re,pe):de[h].push(re)),this},B(T.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(le){this._writableState&&(this._writableState.destroyed=le)}},writable:{__proto__:null,get(){const le=this._writableState;return!(!le||!1===le.writable||le.destroyed||le.errored||le.ending||le.ended)},set(le){this._writableState&&(this._writableState.writable=!!le)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const le=this._writableState;return!!le&&!le.destroyed&&!le.ending&&le.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Re=Z.destroy;let me;function xe(){return void 0===me&&(me={}),me}T.prototype.destroy=function(le,he){const re=this._writableState;return!re.destroyed&&(re.bufferedIndex<re.buffered.length||re[h].length)&&p.nextTick(ee,re),Re.call(this,le,he),this},T.prototype._undestroy=Z.undestroy,T.prototype._destroy=function(le,he){he(le)},T.prototype[D.captureRejectionSymbol]=function(le){this.destroy(le)},T.fromWeb=function(le,he){return xe().newStreamWritableFromWritableStream(le,he)},T.toWeb=function(le){return xe().newWritableStreamFromStreamWritable(le)}},99852:(Be,z,E)=>{"use strict";const{ArrayIsArray:p,ArrayPrototypeIncludes:S,ArrayPrototypeJoin:O,ArrayPrototypeMap:G,NumberIsInteger:x,NumberIsNaN:B,NumberMAX_SAFE_INTEGER:A,NumberMIN_SAFE_INTEGER:N,NumberParseInt:$,ObjectPrototypeHasOwnProperty:K,RegExpPrototypeExec:D,String:X,StringPrototypeToUpperCase:V,StringPrototypeTrim:Z}=E(56389),{hideStackFrames:Q,codes:{ERR_SOCKET_BAD_PORT:te,ERR_INVALID_ARG_TYPE:J,ERR_INVALID_ARG_VALUE:q,ERR_OUT_OF_RANGE:ne,ERR_UNKNOWN_SIGNAL:se}}=E(68154),{normalizeEncoding:oe}=E(13509),{isAsyncFunction:ue,isArrayBufferView:ae}=E(13509).types,ve={},P=/^[0-7]+$/,g=Q((ke,Fe,We=N,Tt=A)=>{if("number"!=typeof ke)throw new J(Fe,"number",ke);if(!x(ke))throw new ne(Fe,"an integer",ke);if(ke<We||ke>Tt)throw new ne(Fe,`>= ${We} && <= ${Tt}`,ke)}),w=Q((ke,Fe,We=-2147483648,Tt=2147483647)=>{if("number"!=typeof ke)throw new J(Fe,"number",ke);if(!x(ke))throw new ne(Fe,"an integer",ke);if(ke<We||ke>Tt)throw new ne(Fe,`>= ${We} && <= ${Tt}`,ke)}),T=Q((ke,Fe,We=!1)=>{if("number"!=typeof ke)throw new J(Fe,"number",ke);if(!x(ke))throw new ne(Fe,"an integer",ke);const Tt=We?1:0,Xe=4294967295;if(ke<Tt||ke>Xe)throw new ne(Fe,`>= ${Tt} && <= ${Xe}`,ke)});function C(ke,Fe){if("string"!=typeof ke)throw new J(Fe,"string",ke)}const M=Q((ke,Fe,We)=>{if(!S(We,ke)){const Xe="must be one of: "+O(G(We,Ke=>"string"==typeof Ke?`'${Ke}'`:X(Ke)),", ");throw new q(Fe,ke,Xe)}});function d(ke,Fe){if("boolean"!=typeof ke)throw new J(Fe,"boolean",ke)}function v(ke,Fe,We){return null!=ke&&K(ke,Fe)?ke[Fe]:We}const W=Q((ke,Fe,We=null)=>{const Tt=v(We,"allowArray",!1),Xe=v(We,"allowFunction",!1);if(!v(We,"nullable",!1)&&null===ke||!Tt&&p(ke)||"object"!=typeof ke&&(!Xe||"function"!=typeof ke))throw new J(Fe,"Object",ke)}),H=Q((ke,Fe)=>{if(null!=ke&&"object"!=typeof ke&&"function"!=typeof ke)throw new J(Fe,"a dictionary",ke)}),ee=Q((ke,Fe,We=0)=>{if(!p(ke))throw new J(Fe,"Array",ke);if(ke.length<We)throw new q(Fe,ke,`must be longer than ${We}`)}),be=Q((ke,Fe="buffer")=>{if(!ae(ke))throw new J(Fe,["Buffer","TypedArray","DataView"],ke)}),me=Q((ke,Fe)=>{if(void 0!==ke&&(null===ke||"object"!=typeof ke||!("aborted"in ke)))throw new J(Fe,"AbortSignal",ke)}),xe=Q((ke,Fe)=>{if("function"!=typeof ke)throw new J(Fe,"Function",ke)}),le=Q((ke,Fe)=>{if("function"!=typeof ke||ue(ke))throw new J(Fe,"Function",ke)}),he=Q((ke,Fe)=>{if(void 0!==ke)throw new J(Fe,"undefined",ke)}),de=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function pe(ke,Fe){if(typeof ke>"u"||!D(de,ke))throw new q(Fe,ke,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Be.exports={isInt32:function _e(ke){return ke===(0|ke)},isUint32:function De(ke){return ke===ke>>>0},parseFileMode:function h(ke,Fe,We){if(typeof ke>"u"&&(ke=We),"string"==typeof ke){if(null===D(P,ke))throw new q(Fe,ke,"must be a 32-bit unsigned integer or an octal string");ke=$(ke,8)}return T(ke,Fe),ke},validateArray:ee,validateStringArray:function fe(ke,Fe){ee(ke,Fe);for(let We=0;We<ke.length;We++)C(ke[We],`${Fe}[${We}]`)},validateBooleanArray:function Ae(ke,Fe){ee(ke,Fe);for(let We=0;We<ke.length;We++)d(ke[We],`${Fe}[${We}]`)},validateAbortSignalArray:function Pe(ke,Fe){ee(ke,Fe);for(let We=0;We<ke.length;We++){const Tt=ke[We],Xe=`${Fe}[${We}]`;if(null==Tt)throw new J(Xe,"AbortSignal",Tt);me(Tt,Xe)}},validateBoolean:d,validateBuffer:be,validateDictionary:H,validateEncoding:function ge(ke,Fe){const We=oe(Fe),Tt=ke.length;if("hex"===We&&Tt%2!=0)throw new q("encoding",Fe,`is invalid for data of length ${Tt}`)},validateFunction:xe,validateInt32:w,validateInteger:g,validateNumber:function j(ke,Fe,We=void 0,Tt){if("number"!=typeof ke)throw new J(Fe,"number",ke);if(null!=We&&ke<We||null!=Tt&&ke>Tt||(null!=We||null!=Tt)&&B(ke))throw new ne(Fe,`${null!=We?`>= ${We}`:""}${null!=We&&null!=Tt?" && ":""}${null!=Tt?`<= ${Tt}`:""}`,ke)},validateObject:W,validateOneOf:M,validatePlainFunction:le,validatePort:function Re(ke,Fe="Port",We=!0){if("number"!=typeof ke&&"string"!=typeof ke||"string"==typeof ke&&0===Z(ke).length||+ke!=+ke>>>0||ke>65535||0===ke&&!We)throw new te(Fe,ke,We);return 0|ke},validateSignalName:function Le(ke,Fe="signal"){if(C(ke,Fe),void 0===ve[ke])throw void 0!==ve[V(ke)]?new se(ke+" (signals must use all capital letters)"):new se(ke)},validateString:C,validateUint32:T,validateUndefined:he,validateUnion:function re(ke,Fe,We){if(!S(We,ke))throw new J(Fe,`('${O(We,"|")}')`,ke)},validateAbortSignal:me,validateLinkHeaderValue:function Se(ke){if("string"==typeof ke)return pe(ke,"hints"),ke;if(p(ke)){const Fe=ke.length;let We="";if(0===Fe)return We;for(let Tt=0;Tt<Fe;Tt++){const Xe=ke[Tt];pe(Xe,"hints"),We+=Xe,Tt!==Fe-1&&(We+=", ")}return We}throw new q("hints",ke,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},65797:(Be,z,E)=>{"use strict";const p=E(33885),S=E(74870),O=p.Readable.destroy;Be.exports=p.Readable,Be.exports._uint8ArrayToBuffer=p._uint8ArrayToBuffer,Be.exports._isUint8Array=p._isUint8Array,Be.exports.isDisturbed=p.isDisturbed,Be.exports.isErrored=p.isErrored,Be.exports.isReadable=p.isReadable,Be.exports.Readable=p.Readable,Be.exports.Writable=p.Writable,Be.exports.Duplex=p.Duplex,Be.exports.Transform=p.Transform,Be.exports.PassThrough=p.PassThrough,Be.exports.addAbortSignal=p.addAbortSignal,Be.exports.finished=p.finished,Be.exports.destroy=p.destroy,Be.exports.destroy=O,Be.exports.pipeline=p.pipeline,Be.exports.compose=p.compose,Object.defineProperty(p,"promises",{configurable:!0,enumerable:!0,get:()=>S}),Be.exports.Stream=p.Stream,Be.exports.default=Be.exports},68154:(Be,z,E)=>{"use strict";const{format:p,inspect:S,AggregateError:O}=E(13509),G=globalThis.AggregateError||O,x=Symbol("kIsNodeError"),B=["string","function","number","object","Function","Object","boolean","bigint","symbol"],A=/^([A-Z][a-z0-9]*)+$/,$={};function K(J,q){if(!J)throw new $.ERR_INTERNAL_ASSERTION(q)}function D(J){let q="",ne=J.length;const se="-"===J[0]?1:0;for(;ne>=se+4;ne-=3)q=`_${J.slice(ne-3,ne)}${q}`;return`${J.slice(0,ne)}${q}`}function V(J,q,ne){ne||(ne=Error);class se extends ne{constructor(...ue){super(function X(J,q,ne){if("function"==typeof q)return K(q.length<=ne.length,`Code: ${J}; The provided arguments length (${ne.length}) does not match the required ones (${q.length}).`),q(...ne);const se=(q.match(/%[dfijoOs]/g)||[]).length;return K(se===ne.length,`Code: ${J}; The provided arguments length (${ne.length}) does not match the required ones (${se}).`),0===ne.length?q:p(q,...ne)}(J,q,ue))}toString(){return`${this.name} [${J}]: ${this.message}`}}Object.defineProperties(se.prototype,{name:{value:ne.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${J}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),se.prototype.code=J,se.prototype[x]=!0,$[J]=se}function Z(J){return Object.defineProperty(J,"name",{value:"__node_internal_"+J.name}),J}class te extends Error{constructor(q="The operation was aborted",ne=void 0){if(void 0!==ne&&"object"!=typeof ne)throw new $.ERR_INVALID_ARG_TYPE("options","Object",ne);super(q,ne),this.code="ABORT_ERR",this.name="AbortError"}}V("ERR_ASSERTION","%s",Error),V("ERR_INVALID_ARG_TYPE",(J,q,ne)=>{K("string"==typeof J,"'name' must be a string"),Array.isArray(q)||(q=[q]);let se="The ";J.endsWith(" argument")?se+=`${J} `:se+=`"${J}" ${J.includes(".")?"property":"argument"} `,se+="must be ";const oe=[],ue=[],ae=[];for(const _e of q)K("string"==typeof _e,"All expected entries have to be of type string"),B.includes(_e)?oe.push(_e.toLowerCase()):A.test(_e)?ue.push(_e):(K("object"!==_e,'The value "object" should be written as "Object"'),ae.push(_e));if(ue.length>0){const _e=oe.indexOf("object");-1!==_e&&(oe.splice(oe,_e,1),ue.push("Object"))}if(oe.length>0){switch(oe.length){case 1:se+=`of type ${oe[0]}`;break;case 2:se+=`one of type ${oe[0]} or ${oe[1]}`;break;default:{const _e=oe.pop();se+=`one of type ${oe.join(", ")}, or ${_e}`}}(ue.length>0||ae.length>0)&&(se+=" or ")}if(ue.length>0){switch(ue.length){case 1:se+=`an instance of ${ue[0]}`;break;case 2:se+=`an instance of ${ue[0]} or ${ue[1]}`;break;default:{const _e=ue.pop();se+=`an instance of ${ue.join(", ")}, or ${_e}`}}ae.length>0&&(se+=" or ")}switch(ae.length){case 0:break;case 1:ae[0].toLowerCase()!==ae[0]&&(se+="an "),se+=`${ae[0]}`;break;case 2:se+=`one of ${ae[0]} or ${ae[1]}`;break;default:{const _e=ae.pop();se+=`one of ${ae.join(", ")}, or ${_e}`}}if(null==ne)se+=`. Received ${ne}`;else if("function"==typeof ne&&ne.name)se+=`. Received function ${ne.name}`;else if("object"==typeof ne){var ve;null!==(ve=ne.constructor)&&void 0!==ve&&ve.name?se+=`. Received an instance of ${ne.constructor.name}`:se+=`. Received ${S(ne,{depth:-1})}`}else{let _e=S(ne,{colors:!1});_e.length>25&&(_e=`${_e.slice(0,25)}...`),se+=`. Received type ${typeof ne} (${_e})`}return se},TypeError),V("ERR_INVALID_ARG_VALUE",(J,q,ne="is invalid")=>{let se=S(q);return se.length>128&&(se=se.slice(0,128)+"..."),`The ${J.includes(".")?"property":"argument"} '${J}' ${ne}. Received ${se}`},TypeError),V("ERR_INVALID_RETURN_VALUE",(J,q,ne)=>{var se;return`Expected ${J} to be returned from the "${q}" function but got ${null!=ne&&null!==(se=ne.constructor)&&void 0!==se&&se.name?`instance of ${ne.constructor.name}`:"type "+typeof ne}.`},TypeError),V("ERR_MISSING_ARGS",(...J)=>{let q;K(J.length>0,"At least one arg needs to be specified");const ne=J.length;switch(J=(Array.isArray(J)?J:[J]).map(se=>`"${se}"`).join(" or "),ne){case 1:q+=`The ${J[0]} argument`;break;case 2:q+=`The ${J[0]} and ${J[1]} arguments`;break;default:{const se=J.pop();q+=`The ${J.join(", ")}, and ${se} arguments`}}return`${q} must be specified`},TypeError),V("ERR_OUT_OF_RANGE",(J,q,ne)=>{let se;return K(q,'Missing "range" argument'),Number.isInteger(ne)&&Math.abs(ne)>2**32?se=D(String(ne)):"bigint"==typeof ne?(se=String(ne),(ne>2n**32n||ne<-(2n**32n))&&(se=D(se)),se+="n"):se=S(ne),`The value of "${J}" is out of range. It must be ${q}. Received ${se}`},RangeError),V("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),V("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),V("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),V("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),V("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),V("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),V("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),V("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),V("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),V("ERR_STREAM_WRITE_AFTER_END","write after end",Error),V("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Be.exports={AbortError:te,aggregateTwoErrors:Z(function Q(J,q){if(J&&q&&J!==q){if(Array.isArray(q.errors))return q.errors.push(J),q;const ne=new G([q,J],q.message);return ne.code=q.code,ne}return J||q}),hideStackFrames:Z,codes:$}},56389:Be=>{"use strict";Be.exports={ArrayIsArray:z=>Array.isArray(z),ArrayPrototypeIncludes:(z,E)=>z.includes(E),ArrayPrototypeIndexOf:(z,E)=>z.indexOf(E),ArrayPrototypeJoin:(z,E)=>z.join(E),ArrayPrototypeMap:(z,E)=>z.map(E),ArrayPrototypePop:(z,E)=>z.pop(E),ArrayPrototypePush:(z,E)=>z.push(E),ArrayPrototypeSlice:(z,E,p)=>z.slice(E,p),Error,FunctionPrototypeCall:(z,E,...p)=>z.call(E,...p),FunctionPrototypeSymbolHasInstance:(z,E)=>Function.prototype[Symbol.hasInstance].call(z,E),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(z,E)=>Object.defineProperties(z,E),ObjectDefineProperty:(z,E,p)=>Object.defineProperty(z,E,p),ObjectGetOwnPropertyDescriptor:(z,E)=>Object.getOwnPropertyDescriptor(z,E),ObjectKeys:z=>Object.keys(z),ObjectSetPrototypeOf:(z,E)=>Object.setPrototypeOf(z,E),Promise,PromisePrototypeCatch:(z,E)=>z.catch(E),PromisePrototypeThen:(z,E,p)=>z.then(E,p),PromiseReject:z=>Promise.reject(z),PromiseResolve:z=>Promise.resolve(z),ReflectApply:Reflect.apply,RegExpPrototypeTest:(z,E)=>z.test(E),SafeSet:Set,String,StringPrototypeSlice:(z,E,p)=>z.slice(E,p),StringPrototypeToLowerCase:z=>z.toLowerCase(),StringPrototypeToUpperCase:z=>z.toUpperCase(),StringPrototypeTrim:z=>z.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(z,E,p)=>z.set(E,p),Boolean,Uint8Array}},13509:(Be,z,E)=>{"use strict";var p=E(29293).default;const S=E(68316),{kResistStopPropagation:O,SymbolDispose:G}=E(56389),x=globalThis.AbortSignal||E(9465).AbortSignal,B=globalThis.AbortController||E(9465).AbortController,A=Object.getPrototypeOf(p(function*(){})).constructor,N=globalThis.Blob||S.Blob,$=typeof N<"u"?function(Z){return Z instanceof N}:function(Z){return!1},K=(V,Z)=>{if(void 0!==V&&(null===V||"object"!=typeof V||!("aborted"in V)))throw new ERR_INVALID_ARG_TYPE(Z,"AbortSignal",V)};class X extends Error{constructor(Z){if(!Array.isArray(Z))throw new TypeError("Expected input to be an Array, got "+typeof Z);let Q="";for(let te=0;te<Z.length;te++)Q+=`    ${Z[te].stack}\n`;super(Q),this.name="AggregateError",this.errors=Z}}Be.exports={AggregateError:X,kEmptyObject:Object.freeze({}),once(V){let Z=!1;return function(...Q){Z||(Z=!0,V.apply(this,Q))}},createDeferredPromise:function(){let V,Z;return{promise:new Promise((te,J)=>{V=te,Z=J}),resolve:V,reject:Z}},promisify:V=>new Promise((Z,Q)=>{V((te,...J)=>te?Q(te):Z(...J))}),debuglog:()=>function(){},format:(V,...Z)=>V.replace(/%([sdifj])/g,function(...[Q,te]){const J=Z.shift();return"f"===te?J.toFixed(6):"j"===te?JSON.stringify(J):"s"===te&&"object"==typeof J?`${J.constructor!==Object?J.constructor.name:""} {}`.trim():J.toString()}),inspect(V){switch(typeof V){case"string":if(V.includes("'")){if(!V.includes('"'))return`"${V}"`;if(!V.includes("`")&&!V.includes("${"))return`\`${V}\``}return`'${V}'`;case"number":return isNaN(V)?"NaN":Object.is(V,-0)?String(V):V;case"bigint":return`${String(V)}n`;case"boolean":case"undefined":return String(V);case"object":return"{}"}},types:{isAsyncFunction:V=>V instanceof A,isArrayBufferView:V=>ArrayBuffer.isView(V)},isBlob:$,deprecate:(V,Z)=>V,addAbortListener:E(44356).addAbortListener||function(Z,Q){if(void 0===Z)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",Z);let te;return K(Z,"signal"),((V,Z)=>{if("function"!=typeof V)throw new ERR_INVALID_ARG_TYPE("listener","Function",V)})(Q),Z.aborted?queueMicrotask(()=>Q()):(Z.addEventListener("abort",Q,{__proto__:null,once:!0,[O]:!0}),te=()=>{Z.removeEventListener("abort",Q)}),{__proto__:null,[G](){var J;null===(J=te)||void 0===J||J()}}},AbortSignalAny:x.any||function(Z){if(1===Z.length)return Z[0];const Q=new B,te=()=>Q.abort();return Z.forEach(J=>{K(J,"signals"),J.addEventListener("abort",te,{once:!0})}),Q.signal.addEventListener("abort",()=>{Z.forEach(J=>J.removeEventListener("abort",te))},{once:!0}),Q.signal}},Be.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},33885:(Be,z,E)=>{const{Buffer:p}=E(68316),{ObjectDefineProperty:S,ObjectKeys:O,ReflectApply:G}=E(56389),{promisify:{custom:x}}=E(13509),{streamReturningOperators:B,promiseReturningOperators:A}=E(21840),{codes:{ERR_ILLEGAL_CONSTRUCTOR:N}}=E(68154),$=E(373),{setDefaultHighWaterMark:K,getDefaultHighWaterMark:D}=E(18212),{pipeline:X}=E(67843),{destroyer:V}=E(96507),Z=E(46017),te=E(74870),J=E(32924),q=Be.exports=E(91242).Stream;q.isDestroyed=J.isDestroyed,q.isDisturbed=J.isDisturbed,q.isErrored=J.isErrored,q.isReadable=J.isReadable,q.isWritable=J.isWritable,q.Readable=E(84553);for(const oe of O(B)){let ae=function(...ve){if(new.target)throw N();return q.Readable.from(G(ue,this,ve))};const ue=B[oe];S(ae,"name",{__proto__:null,value:ue.name}),S(ae,"length",{__proto__:null,value:ue.length}),S(q.Readable.prototype,oe,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}for(const oe of O(A)){let ae=function(..._e){if(new.target)throw N();return G(ue,this,_e)};const ue=A[oe];S(ae,"name",{__proto__:null,value:ue.name}),S(ae,"length",{__proto__:null,value:ue.length}),S(q.Readable.prototype,oe,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}q.Writable=E(30009),q.Duplex=E(13323),q.Transform=E(71981),q.PassThrough=E(59447),q.pipeline=X;const{addAbortSignal:ne}=E(57062);q.addAbortSignal=ne,q.finished=Z,q.destroy=V,q.compose=$,q.setDefaultHighWaterMark=K,q.getDefaultHighWaterMark=D,S(q,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>te}),S(X,x,{__proto__:null,enumerable:!0,get:()=>te.pipeline}),S(Z,x,{__proto__:null,enumerable:!0,get:()=>te.finished}),q.Stream=q,q._isUint8Array=function(ue){return ue instanceof Uint8Array},q._uint8ArrayToBuffer=function(ue){return p.from(ue.buffer,ue.byteOffset,ue.byteLength)}},74870:(Be,z,E)=>{"use strict";const{ArrayPrototypePop:p,Promise:S}=E(56389),{isIterable:O,isNodeStream:G,isWebStream:x}=E(32924),{pipelineImpl:B}=E(67843),{finished:A}=E(46017);E(33885),Be.exports={finished:A,pipeline:function N(...$){return new S((K,D)=>{let X,V;const Z=$[$.length-1];if(Z&&"object"==typeof Z&&!G(Z)&&!O(Z)&&!x(Z)){const Q=p($);X=Q.signal,V=Q.end}B($,(Q,te)=>{Q?D(Q):K(te)},{signal:X,end:V})})}}},94787:(Be,z,E)=>{z.Level=E(23963).BrowserLevel},81447:Be=>{var z=1e3,E=60*z,p=60*E,S=24*p,O=7*S;function N($,K,D,X){var V=K>=1.5*D;return Math.round($/D)+" "+X+(V?"s":"")}Be.exports=function($,K){K=K||{};var D=typeof $;if("string"===D&&$.length>0)return function x($){if(!(($=String($)).length>100)){var K=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(K){var D=parseFloat(K[1]);switch((K[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*D;case"weeks":case"week":case"w":return D*O;case"days":case"day":case"d":return D*S;case"hours":case"hour":case"hrs":case"hr":case"h":return D*p;case"minutes":case"minute":case"mins":case"min":case"m":return D*E;case"seconds":case"second":case"secs":case"sec":case"s":return D*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}($);if("number"===D&&isFinite($))return K.long?function A($){var K=Math.abs($);return K>=S?N($,K,S,"day"):K>=p?N($,K,p,"hour"):K>=E?N($,K,E,"minute"):K>=z?N($,K,z,"second"):$+" ms"}($):function B($){var K=Math.abs($);return K>=S?Math.round($/S)+"d":K>=p?Math.round($/p)+"h":K>=E?Math.round($/E)+"m":K>=z?Math.round($/z)+"s":$+"ms"}($);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify($))}},1424:(Be,z,E)=>{E(23963)},44514:Be=>{var z=1e3,E=60*z,p=60*E,S=24*p,O=7*S;function N($,K,D,X){var V=K>=1.5*D;return Math.round($/D)+" "+X+(V?"s":"")}Be.exports=function($,K){K=K||{};var D=typeof $;if("string"===D&&$.length>0)return function x($){if(!(($=String($)).length>100)){var K=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(K){var D=parseFloat(K[1]);switch((K[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*D;case"weeks":case"week":case"w":return D*O;case"days":case"day":case"d":return D*S;case"hours":case"hour":case"hrs":case"hr":case"h":return D*p;case"minutes":case"minute":case"mins":case"min":case"m":return D*E;case"seconds":case"second":case"secs":case"sec":case"s":return D*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}($);if("number"===D&&isFinite($))return K.long?function A($){var K=Math.abs($);return K>=S?N($,K,S,"day"):K>=p?N($,K,p,"hour"):K>=E?N($,K,E,"minute"):K>=z?N($,K,z,"second"):$+" ms"}($):function B($){var K=Math.abs($);return K>=S?Math.round($/S)+"d":K>=p?Math.round($/p)+"h":K>=E?Math.round($/E)+"m":K>=z?Math.round($/z)+"s":$+"ms"}($);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify($))}},89565:(Be,z,E)=>{"use strict";const p=E(13981),S=E(22020),O="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=A,z.SlowBuffer=function q(U){return+U!=U&&(U=0),A.alloc(+U)},z.INSPECT_MAX_BYTES=50;const G=2147483647;function B(U){if(U>G)throw new RangeError('The value "'+U+'" is invalid for option "size"');const _=new Uint8Array(U);return Object.setPrototypeOf(_,A.prototype),_}function A(U,_,m){if("number"==typeof U){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return D(U)}return N(U,_,m)}function N(U,_,m){if("string"==typeof U)return function X(U,_){if(("string"!=typeof _||""===_)&&(_="utf8"),!A.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const m=0|ne(U,_);let F=B(m);const ie=F.write(U,_);return ie!==m&&(F=F.slice(0,ie)),F}(U,_);if(ArrayBuffer.isView(U))return function Z(U){if(We(U,Uint8Array)){const _=new Uint8Array(U);return Q(_.buffer,_.byteOffset,_.byteLength)}return V(U)}(U);if(null==U)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(We(U,ArrayBuffer)||U&&We(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(We(U,SharedArrayBuffer)||U&&We(U.buffer,SharedArrayBuffer)))return Q(U,_,m);if("number"==typeof U)throw new TypeError('The "value" argument must not be of type number. Received type number');const F=U.valueOf&&U.valueOf();if(null!=F&&F!==U)return A.from(F,_,m);const ie=function te(U){if(A.isBuffer(U)){const _=0|J(U.length),m=B(_);return 0===m.length||U.copy(m,0,0,_),m}return void 0!==U.length?"number"!=typeof U.length||Tt(U.length)?B(0):V(U):"Buffer"===U.type&&Array.isArray(U.data)?V(U.data):void 0}(U);if(ie)return ie;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof U[Symbol.toPrimitive])return A.from(U[Symbol.toPrimitive]("string"),_,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function $(U){if("number"!=typeof U)throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function D(U){return $(U),B(U<0?0:0|J(U))}function V(U){const _=U.length<0?0:0|J(U.length),m=B(_);for(let F=0;F<_;F+=1)m[F]=255&U[F];return m}function Q(U,_,m){if(_<0||U.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<_+(m||0))throw new RangeError('"length" is outside of buffer bounds');let F;return F=void 0===_&&void 0===m?new Uint8Array(U):void 0===m?new Uint8Array(U,_):new Uint8Array(U,_,m),Object.setPrototypeOf(F,A.prototype),F}function J(U){if(U>=G)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+G.toString(16)+" bytes");return 0|U}function ne(U,_){if(A.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||We(U,ArrayBuffer))return U.byteLength;if("string"!=typeof U)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const m=U.length,F=arguments.length>2&&!0===arguments[2];if(!F&&0===m)return 0;let ie=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return de(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return ke(U).length;default:if(ie)return F?-1:de(U).length;_=(""+_).toLowerCase(),ie=!0}}function se(U,_,m){let F=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(_>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return M(this,_,m);case"utf8":case"utf-8":return g(this,_,m);case"ascii":return C(this,_,m);case"latin1":case"binary":return j(this,_,m);case"base64":return h(this,_,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,_,m);default:if(F)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),F=!0}}function oe(U,_,m){const F=U[_];U[_]=U[m],U[m]=F}function ue(U,_,m,F,ie){if(0===U.length)return-1;if("string"==typeof m?(F=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),Tt(m=+m)&&(m=ie?0:U.length-1),m<0&&(m=U.length+m),m>=U.length){if(ie)return-1;m=U.length-1}else if(m<0){if(!ie)return-1;m=0}if("string"==typeof _&&(_=A.from(_,F)),A.isBuffer(_))return 0===_.length?-1:ae(U,_,m,F,ie);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?ie?Uint8Array.prototype.indexOf.call(U,_,m):Uint8Array.prototype.lastIndexOf.call(U,_,m):ae(U,[_],m,F,ie);throw new TypeError("val must be string, number or Buffer")}function ae(U,_,m,F,ie){let pt,we=1,Ie=U.length,Qe=_.length;if(void 0!==F&&("ucs2"===(F=String(F).toLowerCase())||"ucs-2"===F||"utf16le"===F||"utf-16le"===F)){if(U.length<2||_.length<2)return-1;we=2,Ie/=2,Qe/=2,m/=2}function kt(Et,Lt){return 1===we?Et[Lt]:Et.readUInt16BE(Lt*we)}if(ie){let Et=-1;for(pt=m;pt<Ie;pt++)if(kt(U,pt)===kt(_,-1===Et?0:pt-Et)){if(-1===Et&&(Et=pt),pt-Et+1===Qe)return Et*we}else-1!==Et&&(pt-=pt-Et),Et=-1}else for(m+Qe>Ie&&(m=Ie-Qe),pt=m;pt>=0;pt--){let Et=!0;for(let Lt=0;Lt<Qe;Lt++)if(kt(U,pt+Lt)!==kt(_,Lt)){Et=!1;break}if(Et)return pt}return-1}function ve(U,_,m,F){m=Number(m)||0;const ie=U.length-m;F?(F=Number(F))>ie&&(F=ie):F=ie;const we=_.length;let Ie;for(F>we/2&&(F=we/2),Ie=0;Ie<F;++Ie){const Qe=parseInt(_.substr(2*Ie,2),16);if(Tt(Qe))return Ie;U[m+Ie]=Qe}return Ie}function _e(U,_,m,F){return Fe(de(_,U.length-m),U,m,F)}function De(U,_,m,F){return Fe(function pe(U){const _=[];for(let m=0;m<U.length;++m)_.push(255&U.charCodeAt(m));return _}(_),U,m,F)}function P(U,_,m,F){return Fe(ke(_),U,m,F)}function u(U,_,m,F){return Fe(function Se(U,_){let m,F,ie;const we=[];for(let Ie=0;Ie<U.length&&!((_-=2)<0);++Ie)m=U.charCodeAt(Ie),F=m>>8,ie=m%256,we.push(ie),we.push(F);return we}(_,U.length-m),U,m,F)}function h(U,_,m){return p.fromByteArray(0===_&&m===U.length?U:U.slice(_,m))}function g(U,_,m){m=Math.min(U.length,m);const F=[];let ie=_;for(;ie<m;){const we=U[ie];let Ie=null,Qe=we>239?4:we>223?3:we>191?2:1;if(ie+Qe<=m){let kt,pt,Et,Lt;switch(Qe){case 1:we<128&&(Ie=we);break;case 2:kt=U[ie+1],128==(192&kt)&&(Lt=(31&we)<<6|63&kt,Lt>127&&(Ie=Lt));break;case 3:kt=U[ie+1],pt=U[ie+2],128==(192&kt)&&128==(192&pt)&&(Lt=(15&we)<<12|(63&kt)<<6|63&pt,Lt>2047&&(Lt<55296||Lt>57343)&&(Ie=Lt));break;case 4:kt=U[ie+1],pt=U[ie+2],Et=U[ie+3],128==(192&kt)&&128==(192&pt)&&128==(192&Et)&&(Lt=(15&we)<<18|(63&kt)<<12|(63&pt)<<6|63&Et,Lt>65535&&Lt<1114112&&(Ie=Lt))}}null===Ie?(Ie=65533,Qe=1):Ie>65535&&(Ie-=65536,F.push(Ie>>>10&1023|55296),Ie=56320|1023&Ie),F.push(Ie),ie+=Qe}return function T(U){const _=U.length;if(_<=w)return String.fromCharCode.apply(String,U);let m="",F=0;for(;F<_;)m+=String.fromCharCode.apply(String,U.slice(F,F+=w));return m}(F)}z.kMaxLength=G,!(A.TYPED_ARRAY_SUPPORT=function x(){try{const U=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(U,_),42===U.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(U,_,m){return N(U,_,m)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(U,_,m){return function K(U,_,m){return $(U),U<=0?B(U):void 0!==_?"string"==typeof m?B(U).fill(_,m):B(U).fill(_):B(U)}(U,_,m)},A.allocUnsafe=function(U){return D(U)},A.allocUnsafeSlow=function(U){return D(U)},A.isBuffer=function(_){return null!=_&&!0===_._isBuffer&&_!==A.prototype},A.compare=function(_,m){if(We(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),We(m,Uint8Array)&&(m=A.from(m,m.offset,m.byteLength)),!A.isBuffer(_)||!A.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===m)return 0;let F=_.length,ie=m.length;for(let we=0,Ie=Math.min(F,ie);we<Ie;++we)if(_[we]!==m[we]){F=_[we],ie=m[we];break}return F<ie?-1:ie<F?1:0},A.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(_,m){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_.length)return A.alloc(0);let F;if(void 0===m)for(m=0,F=0;F<_.length;++F)m+=_[F].length;const ie=A.allocUnsafe(m);let we=0;for(F=0;F<_.length;++F){let Ie=_[F];if(We(Ie,Uint8Array))we+Ie.length>ie.length?(A.isBuffer(Ie)||(Ie=A.from(Ie)),Ie.copy(ie,we)):Uint8Array.prototype.set.call(ie,Ie,we);else{if(!A.isBuffer(Ie))throw new TypeError('"list" argument must be an Array of Buffers');Ie.copy(ie,we)}we+=Ie.length}return ie},A.byteLength=ne,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<_;m+=2)oe(this,m,m+1);return this},A.prototype.swap32=function(){const _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<_;m+=4)oe(this,m,m+3),oe(this,m+1,m+2);return this},A.prototype.swap64=function(){const _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<_;m+=8)oe(this,m,m+7),oe(this,m+1,m+6),oe(this,m+2,m+5),oe(this,m+3,m+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const _=this.length;return 0===_?"":0===arguments.length?g(this,0,_):se.apply(this,arguments)},A.prototype.equals=function(_){if(!A.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||0===A.compare(this,_)},A.prototype.inspect=function(){let _="";const m=z.INSPECT_MAX_BYTES;return _=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(_+=" ... "),"<Buffer "+_+">"},O&&(A.prototype[O]=A.prototype.inspect),A.prototype.compare=function(_,m,F,ie,we){if(We(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),!A.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(void 0===m&&(m=0),void 0===F&&(F=_?_.length:0),void 0===ie&&(ie=0),void 0===we&&(we=this.length),m<0||F>_.length||ie<0||we>this.length)throw new RangeError("out of range index");if(ie>=we&&m>=F)return 0;if(ie>=we)return-1;if(m>=F)return 1;if(this===_)return 0;let Ie=(we>>>=0)-(ie>>>=0),Qe=(F>>>=0)-(m>>>=0);const kt=Math.min(Ie,Qe),pt=this.slice(ie,we),Et=_.slice(m,F);for(let Lt=0;Lt<kt;++Lt)if(pt[Lt]!==Et[Lt]){Ie=pt[Lt],Qe=Et[Lt];break}return Ie<Qe?-1:Qe<Ie?1:0},A.prototype.includes=function(_,m,F){return-1!==this.indexOf(_,m,F)},A.prototype.indexOf=function(_,m,F){return ue(this,_,m,F,!0)},A.prototype.lastIndexOf=function(_,m,F){return ue(this,_,m,F,!1)},A.prototype.write=function(_,m,F,ie){if(void 0===m)ie="utf8",F=this.length,m=0;else if(void 0===F&&"string"==typeof m)ie=m,F=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(F)?(F>>>=0,void 0===ie&&(ie="utf8")):(ie=F,F=void 0)}const we=this.length-m;if((void 0===F||F>we)&&(F=we),_.length>0&&(F<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let Ie=!1;for(;;)switch(ie){case"hex":return ve(this,_,m,F);case"utf8":case"utf-8":return _e(this,_,m,F);case"ascii":case"latin1":case"binary":return De(this,_,m,F);case"base64":return P(this,_,m,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,_,m,F);default:if(Ie)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),Ie=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const w=4096;function C(U,_,m){let F="";m=Math.min(U.length,m);for(let ie=_;ie<m;++ie)F+=String.fromCharCode(127&U[ie]);return F}function j(U,_,m){let F="";m=Math.min(U.length,m);for(let ie=_;ie<m;++ie)F+=String.fromCharCode(U[ie]);return F}function M(U,_,m){const F=U.length;(!_||_<0)&&(_=0),(!m||m<0||m>F)&&(m=F);let ie="";for(let we=_;we<m;++we)ie+=Xe[U[we]];return ie}function d(U,_,m){const F=U.slice(_,m);let ie="";for(let we=0;we<F.length-1;we+=2)ie+=String.fromCharCode(F[we]+256*F[we+1]);return ie}function v(U,_,m){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+_>m)throw new RangeError("Trying to access beyond buffer length")}function W(U,_,m,F,ie,we){if(!A.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>ie||_<we)throw new RangeError('"value" argument is out of bounds');if(m+F>U.length)throw new RangeError("Index out of range")}function H(U,_,m,F,ie){me(_,F,ie,U,m,7);let we=Number(_&BigInt(4294967295));U[m++]=we,we>>=8,U[m++]=we,we>>=8,U[m++]=we,we>>=8,U[m++]=we;let Ie=Number(_>>BigInt(32)&BigInt(4294967295));return U[m++]=Ie,Ie>>=8,U[m++]=Ie,Ie>>=8,U[m++]=Ie,Ie>>=8,U[m++]=Ie,m}function ee(U,_,m,F,ie){me(_,F,ie,U,m,7);let we=Number(_&BigInt(4294967295));U[m+7]=we,we>>=8,U[m+6]=we,we>>=8,U[m+5]=we,we>>=8,U[m+4]=we;let Ie=Number(_>>BigInt(32)&BigInt(4294967295));return U[m+3]=Ie,Ie>>=8,U[m+2]=Ie,Ie>>=8,U[m+1]=Ie,Ie>>=8,U[m]=Ie,m+8}function fe(U,_,m,F,ie,we){if(m+F>U.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function Ae(U,_,m,F,ie){return _=+_,m>>>=0,ie||fe(U,0,m,4),S.write(U,_,m,F,23,4),m+4}function Pe(U,_,m,F,ie){return _=+_,m>>>=0,ie||fe(U,0,m,8),S.write(U,_,m,F,52,8),m+8}A.prototype.slice=function(_,m){const F=this.length;(_=~~_)<0?(_+=F)<0&&(_=0):_>F&&(_=F),(m=void 0===m?F:~~m)<0?(m+=F)<0&&(m=0):m>F&&(m=F),m<_&&(m=_);const ie=this.subarray(_,m);return Object.setPrototypeOf(ie,A.prototype),ie},A.prototype.readUintLE=A.prototype.readUIntLE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=this[_],we=1,Ie=0;for(;++Ie<m&&(we*=256);)ie+=this[_+Ie]*we;return ie},A.prototype.readUintBE=A.prototype.readUIntBE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=this[_+--m],we=1;for(;m>0&&(we*=256);)ie+=this[_+--m]*we;return ie},A.prototype.readUint8=A.prototype.readUInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),this[_]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]|this[_+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]<<8|this[_+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},A.prototype.readBigUInt64LE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];(void 0===m||void 0===F)&&le(_,this.length-8);const ie=m+256*this[++_]+65536*this[++_]+this[++_]*2**24,we=this[++_]+256*this[++_]+65536*this[++_]+F*2**24;return BigInt(ie)+(BigInt(we)<<BigInt(32))}),A.prototype.readBigUInt64BE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];(void 0===m||void 0===F)&&le(_,this.length-8);const ie=m*2**24+65536*this[++_]+256*this[++_]+this[++_],we=this[++_]*2**24+65536*this[++_]+256*this[++_]+F;return(BigInt(ie)<<BigInt(32))+BigInt(we)}),A.prototype.readIntLE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=this[_],we=1,Ie=0;for(;++Ie<m&&(we*=256);)ie+=this[_+Ie]*we;return we*=128,ie>=we&&(ie-=Math.pow(2,8*m)),ie},A.prototype.readIntBE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=m,we=1,Ie=this[_+--ie];for(;ie>0&&(we*=256);)Ie+=this[_+--ie]*we;return we*=128,Ie>=we&&(Ie-=Math.pow(2,8*m)),Ie},A.prototype.readInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},A.prototype.readInt16LE=function(_,m){_>>>=0,m||v(_,2,this.length);const F=this[_]|this[_+1]<<8;return 32768&F?4294901760|F:F},A.prototype.readInt16BE=function(_,m){_>>>=0,m||v(_,2,this.length);const F=this[_+1]|this[_]<<8;return 32768&F?4294901760|F:F},A.prototype.readInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},A.prototype.readInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},A.prototype.readBigInt64LE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];return(void 0===m||void 0===F)&&le(_,this.length-8),(BigInt(this[_+4]+256*this[_+5]+65536*this[_+6]+(F<<24))<<BigInt(32))+BigInt(m+256*this[++_]+65536*this[++_]+this[++_]*2**24)}),A.prototype.readBigInt64BE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];(void 0===m||void 0===F)&&le(_,this.length-8);const ie=(m<<24)+65536*this[++_]+256*this[++_]+this[++_];return(BigInt(ie)<<BigInt(32))+BigInt(this[++_]*2**24+65536*this[++_]+256*this[++_]+F)}),A.prototype.readFloatLE=function(_,m){return _>>>=0,m||v(_,4,this.length),S.read(this,_,!0,23,4)},A.prototype.readFloatBE=function(_,m){return _>>>=0,m||v(_,4,this.length),S.read(this,_,!1,23,4)},A.prototype.readDoubleLE=function(_,m){return _>>>=0,m||v(_,8,this.length),S.read(this,_,!0,52,8)},A.prototype.readDoubleBE=function(_,m){return _>>>=0,m||v(_,8,this.length),S.read(this,_,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(_,m,F,ie){_=+_,m>>>=0,F>>>=0,ie||W(this,_,m,F,Math.pow(2,8*F)-1,0);let we=1,Ie=0;for(this[m]=255&_;++Ie<F&&(we*=256);)this[m+Ie]=_/we&255;return m+F},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(_,m,F,ie){_=+_,m>>>=0,F>>>=0,ie||W(this,_,m,F,Math.pow(2,8*F)-1,0);let we=F-1,Ie=1;for(this[m+we]=255&_;--we>=0&&(Ie*=256);)this[m+we]=_/Ie&255;return m+F},A.prototype.writeUint8=A.prototype.writeUInt8=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,1,255,0),this[m]=255&_,m+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,65535,0),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,65535,0),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,4294967295,0),this[m+3]=_>>>24,this[m+2]=_>>>16,this[m+1]=_>>>8,this[m]=255&_,m+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,4294967295,0),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigUInt64LE=Ke(function(_,m=0){return H(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Ke(function(_,m=0){return ee(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(_,m,F,ie){if(_=+_,m>>>=0,!ie){const kt=Math.pow(2,8*F-1);W(this,_,m,F,kt-1,-kt)}let we=0,Ie=1,Qe=0;for(this[m]=255&_;++we<F&&(Ie*=256);)_<0&&0===Qe&&0!==this[m+we-1]&&(Qe=1),this[m+we]=(_/Ie|0)-Qe&255;return m+F},A.prototype.writeIntBE=function(_,m,F,ie){if(_=+_,m>>>=0,!ie){const kt=Math.pow(2,8*F-1);W(this,_,m,F,kt-1,-kt)}let we=F-1,Ie=1,Qe=0;for(this[m+we]=255&_;--we>=0&&(Ie*=256);)_<0&&0===Qe&&0!==this[m+we+1]&&(Qe=1),this[m+we]=(_/Ie|0)-Qe&255;return m+F},A.prototype.writeInt8=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,1,127,-128),_<0&&(_=255+_+1),this[m]=255&_,m+1},A.prototype.writeInt16LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,32767,-32768),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeInt16BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,32767,-32768),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeInt32LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,2147483647,-2147483648),this[m]=255&_,this[m+1]=_>>>8,this[m+2]=_>>>16,this[m+3]=_>>>24,m+4},A.prototype.writeInt32BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigInt64LE=Ke(function(_,m=0){return H(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Ke(function(_,m=0){return ee(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(_,m,F){return Ae(this,_,m,!0,F)},A.prototype.writeFloatBE=function(_,m,F){return Ae(this,_,m,!1,F)},A.prototype.writeDoubleLE=function(_,m,F){return Pe(this,_,m,!0,F)},A.prototype.writeDoubleBE=function(_,m,F){return Pe(this,_,m,!1,F)},A.prototype.copy=function(_,m,F,ie){if(!A.isBuffer(_))throw new TypeError("argument should be a Buffer");if(F||(F=0),!ie&&0!==ie&&(ie=this.length),m>=_.length&&(m=_.length),m||(m=0),ie>0&&ie<F&&(ie=F),ie===F||0===_.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),_.length-m<ie-F&&(ie=_.length-m+F);const we=ie-F;return this===_&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,F,ie):Uint8Array.prototype.set.call(_,this.subarray(F,ie),m),we},A.prototype.fill=function(_,m,F,ie){if("string"==typeof _){if("string"==typeof m?(ie=m,m=0,F=this.length):"string"==typeof F&&(ie=F,F=this.length),void 0!==ie&&"string"!=typeof ie)throw new TypeError("encoding must be a string");if("string"==typeof ie&&!A.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(1===_.length){const Ie=_.charCodeAt(0);("utf8"===ie&&Ie<128||"latin1"===ie)&&(_=Ie)}}else"number"==typeof _?_&=255:"boolean"==typeof _&&(_=Number(_));if(m<0||this.length<m||this.length<F)throw new RangeError("Out of range index");if(F<=m)return this;let we;if(m>>>=0,F=void 0===F?this.length:F>>>0,_||(_=0),"number"==typeof _)for(we=m;we<F;++we)this[we]=_;else{const Ie=A.isBuffer(_)?_:A.from(_,ie),Qe=Ie.length;if(0===Qe)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(we=0;we<F-m;++we)this[we+m]=Ie[we%Qe]}return this};const Le={};function be(U,_,m){Le[U]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,delete this.name}get code(){return U}set code(ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ie,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}function ge(U){let _="",m=U.length;const F="-"===U[0]?1:0;for(;m>=F+4;m-=3)_=`_${U.slice(m-3,m)}${_}`;return`${U.slice(0,m)}${_}`}function me(U,_,m,F,ie,we){if(U>m||U<_){const Ie="bigint"==typeof _?"n":"";let Qe;throw Qe=we>3?0===_||_===BigInt(0)?`>= 0${Ie} and < 2${Ie} ** ${8*(we+1)}${Ie}`:`>= -(2${Ie} ** ${8*(we+1)-1}${Ie}) and < 2 ** ${8*(we+1)-1}${Ie}`:`>= ${_}${Ie} and <= ${m}${Ie}`,new Le.ERR_OUT_OF_RANGE("value",Qe,U)}!function Re(U,_,m){xe(_,"offset"),(void 0===U[_]||void 0===U[_+m])&&le(_,U.length-(m+1))}(F,ie,we)}function xe(U,_){if("number"!=typeof U)throw new Le.ERR_INVALID_ARG_TYPE(_,"number",U)}function le(U,_,m){throw Math.floor(U)!==U?(xe(U,m),new Le.ERR_OUT_OF_RANGE(m||"offset","an integer",U)):_<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${_}`,U)}be("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),be("ERR_INVALID_ARG_TYPE",function(U,_){return`The "${U}" argument must be of type number. Received type ${typeof _}`},TypeError),be("ERR_OUT_OF_RANGE",function(U,_,m){let F=`The value of "${U}" is out of range.`,ie=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ie=ge(String(m)):"bigint"==typeof m&&(ie=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ie=ge(ie)),ie+="n"),F+=` It must be ${_}. Received ${ie}`,F},RangeError);const he=/[^+/0-9A-Za-z-_]/g;function de(U,_){let m;_=_||1/0;const F=U.length;let ie=null;const we=[];for(let Ie=0;Ie<F;++Ie){if(m=U.charCodeAt(Ie),m>55295&&m<57344){if(!ie){if(m>56319){(_-=3)>-1&&we.push(239,191,189);continue}if(Ie+1===F){(_-=3)>-1&&we.push(239,191,189);continue}ie=m;continue}if(m<56320){(_-=3)>-1&&we.push(239,191,189),ie=m;continue}m=65536+(ie-55296<<10|m-56320)}else ie&&(_-=3)>-1&&we.push(239,191,189);if(ie=null,m<128){if((_-=1)<0)break;we.push(m)}else if(m<2048){if((_-=2)<0)break;we.push(m>>6|192,63&m|128)}else if(m<65536){if((_-=3)<0)break;we.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;we.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return we}function ke(U){return p.toByteArray(function re(U){if((U=(U=U.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U}(U))}function Fe(U,_,m,F){let ie;for(ie=0;ie<F&&!(ie+m>=_.length||ie>=U.length);++ie)_[ie+m]=U[ie];return ie}function We(U,_){return U instanceof _||null!=U&&null!=U.constructor&&null!=U.constructor.name&&U.constructor.name===_.name}function Tt(U){return U!=U}const Xe=function(){const U="0123456789abcdef",_=new Array(256);for(let m=0;m<16;++m){const F=16*m;for(let ie=0;ie<16;++ie)_[F+ie]=U[m]+U[ie]}return _}();function Ke(U){return typeof BigInt>"u"?lt:U}function lt(){throw new Error("BigInt not supported")}},24785:(Be,z,E)=>{"use strict";const{AbortError:p,codes:S}=E(65109),{isNodeStream:O,isWebStream:G,kControllerErrorFunction:x}=E(51233),B=E(44268),{ERR_INVALID_ARG_TYPE:A}=S;Be.exports.addAbortSignal=function(K,D){if((($,K)=>{if("object"!=typeof $||!("aborted"in $))throw new A("signal","AbortSignal",$)})(K),!O(D)&&!G(D))throw new A("stream",["ReadableStream","WritableStream","Stream"],D);return Be.exports.addAbortSignalNoValidate(K,D)},Be.exports.addAbortSignalNoValidate=function($,K){if("object"!=typeof $||!("aborted"in $))return K;const D=O(K)?()=>{K.destroy(new p(void 0,{cause:$.reason}))}:()=>{K[x](new p(void 0,{cause:$.reason}))};return $.aborted?D():($.addEventListener("abort",D),B(K,()=>$.removeEventListener("abort",D))),K}},58579:(Be,z,E)=>{"use strict";const{StringPrototypeSlice:p,SymbolIterator:S,TypedArrayPrototypeSet:O,Uint8Array:G}=E(43856),{Buffer:x}=E(89565),{inspect:B}=E(55830);Be.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(N){const $={data:N,next:null};this.length>0?this.tail.next=$:this.head=$,this.tail=$,++this.length}unshift(N){const $={data:N,next:this.head};0===this.length&&(this.tail=$),this.head=$,++this.length}shift(){if(0===this.length)return;const N=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,N}clear(){this.head=this.tail=null,this.length=0}join(N){if(0===this.length)return"";let $=this.head,K=""+$.data;for(;null!==($=$.next);)K+=N+$.data;return K}concat(N){if(0===this.length)return x.alloc(0);const $=x.allocUnsafe(N>>>0);let K=this.head,D=0;for(;K;)O($,K.data,D),D+=K.data.length,K=K.next;return $}consume(N,$){const K=this.head.data;if(N<K.length){const D=K.slice(0,N);return this.head.data=K.slice(N),D}return N===K.length?this.shift():$?this._getString(N):this._getBuffer(N)}first(){return this.head.data}*[S](){for(let N=this.head;N;N=N.next)yield N.data}_getString(N){let $="",K=this.head,D=0;do{const X=K.data;if(!(N>X.length)){N===X.length?($+=X,++D,this.head=K.next?K.next:this.tail=null):($+=p(X,0,N),this.head=K,K.data=p(X,N));break}$+=X,N-=X.length,++D}while(null!==(K=K.next));return this.length-=D,$}_getBuffer(N){const $=x.allocUnsafe(N),K=N;let D=this.head,X=0;do{const V=D.data;if(!(N>V.length)){N===V.length?(O($,V,K-N),++X,this.head=D.next?D.next:this.tail=null):(O($,new G(V.buffer,V.byteOffset,N),K-N),this.head=D,D.data=V.slice(N));break}O($,V,K-N),N-=V.length,++X}while(null!==(D=D.next));return this.length-=X,$}[Symbol.for("nodejs.util.inspect.custom")](N,$){return B(this,{...$,depth:0,customInspect:!1})}}},5464:(Be,z,E)=>{"use strict";var p=E(29293).default;const{pipeline:S}=E(96208),O=E(97464),{destroyer:G}=E(45078),{isNodeStream:x,isReadable:B,isWritable:A,isWebStream:N,isTransformStream:$,isWritableStream:K,isReadableStream:D}=E(51233),{AbortError:X,codes:{ERR_INVALID_ARG_VALUE:V,ERR_MISSING_ARGS:Z}}=E(65109),Q=E(44268);Be.exports=function(...J){if(0===J.length)throw new Z("streams");if(1===J.length)return O.from(J[0]);const q=[...J];if("function"==typeof J[0]&&(J[0]=O.from(J[0])),"function"==typeof J[J.length-1]){const h=J.length-1;J[h]=O.from(J[h])}for(let h=0;h<J.length;++h)if(x(J[h])||N(J[h])){if(h<J.length-1&&!(B(J[h])||D(J[h])||$(J[h])))throw new V(`streams[${h}]`,q[h],"must be readable");if(h>0&&!(A(J[h])||K(J[h])||$(J[h])))throw new V(`streams[${h}]`,q[h],"must be writable")}let ne,se,oe,ue,ae;const _e=J[0],De=S(J,function ve(h){const g=ue;ue=null,g?g(h):h?ae.destroy(h):!u&&!P&&ae.destroy()}),P=!!(A(_e)||K(_e)||$(_e)),u=!!(B(De)||D(De)||$(De));if(ae=new O({writableObjectMode:!(null==_e||!_e.writableObjectMode),readableObjectMode:!(null==De||!De.writableObjectMode),writable:P,readable:u}),P){if(x(_e))ae._write=function(g,w,T){_e.write(g,w)?T():ne=T},ae._final=function(g){_e.end(),se=g},_e.on("drain",function(){if(ne){const g=ne;ne=null,g()}});else if(N(_e)){const w=($(_e)?_e.writable:_e).getWriter();ae._write=function(){var T=p(function*(C,j,M){try{yield w.ready,w.write(C).catch(()=>{}),M()}catch(d){M(d)}});return function(C,j,M){return T.apply(this,arguments)}}(),ae._final=function(){var T=p(function*(C){try{yield w.ready,w.close().catch(()=>{}),se=C}catch(j){C(j)}});return function(C){return T.apply(this,arguments)}}()}const h=$(De)?De.readable:De;Q(h,()=>{if(se){const g=se;se=null,g()}})}if(u)if(x(De))De.on("readable",function(){if(oe){const h=oe;oe=null,h()}}),De.on("end",function(){ae.push(null)}),ae._read=function(){for(;;){const h=De.read();if(null===h)return void(oe=ae._read);if(!ae.push(h))return}};else if(N(De)){const g=($(De)?De.readable:De).getReader();ae._read=p(function*(){for(;;)try{const{value:w,done:T}=yield g.read();if(!ae.push(w))return;if(T)return void ae.push(null)}catch{return}})}return ae._destroy=function(h,g){!h&&null!==ue&&(h=new X),oe=null,ne=null,se=null,null===ue?g(h):(ue=g,x(De)&&G(De,h))},ae}},45078:(Be,z,E)=>{"use strict";const p=E(40573),{aggregateTwoErrors:S,codes:{ERR_MULTIPLE_CALLBACK:O},AbortError:G}=E(65109),{Symbol:x}=E(43856),{kDestroyed:B,isDestroyed:A,isFinished:N,isServerRequest:$}=E(51233),K=x("kDestroy"),D=x("kConstruct");function X(P,u,h){P&&(u&&!u.errored&&(u.errored=P),h&&!h.errored&&(h.errored=P))}function Z(P,u,h){let g=!1;function w(T){if(g)return;g=!0;const C=P._readableState,j=P._writableState;X(T,j,C),j&&(j.closed=!0),C&&(C.closed=!0),"function"==typeof h&&h(T),T?p.nextTick(Q,P,T):p.nextTick(te,P)}try{P._destroy(u||null,w)}catch(T){w(T)}}function Q(P,u){J(P,u),te(P)}function te(P){const u=P._readableState,h=P._writableState;h&&(h.closeEmitted=!0),u&&(u.closeEmitted=!0),(null!=h&&h.emitClose||null!=u&&u.emitClose)&&P.emit("close")}function J(P,u){const h=P._readableState,g=P._writableState;null!=g&&g.errorEmitted||null!=h&&h.errorEmitted||(g&&(g.errorEmitted=!0),h&&(h.errorEmitted=!0),P.emit("error",u))}function ne(P,u,h){const g=P._readableState,w=P._writableState;if(null!=w&&w.destroyed||null!=g&&g.destroyed)return this;null!=g&&g.autoDestroy||null!=w&&w.autoDestroy?P.destroy(u):u&&(w&&!w.errored&&(w.errored=u),g&&!g.errored&&(g.errored=u),h?p.nextTick(J,P,u):J(P,u))}function oe(P){let u=!1;function h(g){if(u)return void ne(P,g??new O);u=!0;const w=P._readableState,T=P._writableState,C=T||w;w&&(w.constructed=!0),T&&(T.constructed=!0),C.destroyed?P.emit(K,g):g?ne(P,g,!0):p.nextTick(ue,P)}try{P._construct(g=>{p.nextTick(h,g)})}catch(g){p.nextTick(h,g)}}function ue(P){P.emit(D)}function ae(P){return P?.setHeader&&"function"==typeof P.abort}function ve(P){P.emit("close")}function _e(P,u){P.emit("error",u),p.nextTick(ve,P)}Be.exports={construct:function se(P,u){if("function"!=typeof P._construct)return;const h=P._readableState,g=P._writableState;h&&(h.constructed=!1),g&&(g.constructed=!1),P.once(D,u),!(P.listenerCount(D)>1)&&p.nextTick(oe,P)},destroyer:function De(P,u){!P||A(P)||(!u&&!N(P)&&(u=new G),$(P)?(P.socket=null,P.destroy(u)):ae(P)?P.abort():ae(P.req)?P.req.abort():"function"==typeof P.destroy?P.destroy(u):"function"==typeof P.close?P.close():u?p.nextTick(_e,P,u):p.nextTick(ve,P),P.destroyed||(P[B]=!0))},destroy:function V(P,u){const h=this._readableState,g=this._writableState,w=g||h;return null!=g&&g.destroyed||null!=h&&h.destroyed?("function"==typeof u&&u(),this):(X(P,g,h),g&&(g.destroyed=!0),h&&(h.destroyed=!0),w.constructed?Z(this,P,u):this.once(K,function(T){Z(this,S(T,P),u)}),this)},undestroy:function q(){const P=this._readableState,u=this._writableState;P&&(P.constructed=!0,P.closed=!1,P.closeEmitted=!1,P.destroyed=!1,P.errored=null,P.errorEmitted=!1,P.reading=!1,P.ended=!1===P.readable,P.endEmitted=!1===P.readable),u&&(u.constructed=!0,u.destroyed=!1,u.closed=!1,u.closeEmitted=!1,u.errored=null,u.errorEmitted=!1,u.finalCalled=!1,u.prefinished=!1,u.ended=!1===u.writable,u.ending=!1===u.writable,u.finished=!1===u.writable)},errorOrDestroy:ne}},97464:(Be,z,E)=>{"use strict";const{ObjectDefineProperties:p,ObjectGetOwnPropertyDescriptor:S,ObjectKeys:O,ObjectSetPrototypeOf:G}=E(43856);Be.exports=A;const x=E(29710),B=E(40258);G(A.prototype,x.prototype),G(A,x);{const D=O(B.prototype);for(let X=0;X<D.length;X++){const V=D[X];A.prototype[V]||(A.prototype[V]=B.prototype[V])}}function A(D){if(!(this instanceof A))return new A(D);x.call(this,D),B.call(this,D),D?(this.allowHalfOpen=!1!==D.allowHalfOpen,!1===D.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===D.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let N,K;function $(){return void 0===N&&(N={}),N}p(A.prototype,{writable:{__proto__:null,...S(B.prototype,"writable")},writableHighWaterMark:{__proto__:null,...S(B.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...S(B.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...S(B.prototype,"writableBuffer")},writableLength:{__proto__:null,...S(B.prototype,"writableLength")},writableFinished:{__proto__:null,...S(B.prototype,"writableFinished")},writableCorked:{__proto__:null,...S(B.prototype,"writableCorked")},writableEnded:{__proto__:null,...S(B.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...S(B.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(D){this._readableState&&this._writableState&&(this._readableState.destroyed=D,this._writableState.destroyed=D)}}}),A.fromWeb=function(D,X){return $().newStreamDuplexFromReadableWritablePair(D,X)},A.toWeb=function(D){return $().newReadableWritablePairFromDuplex(D)},A.from=function(D){return K||(K=E(56840)),K(D,"body")}},56840:(Be,z,E)=>{var p=E(29293).default,S=E(53344).default,O=E(42958).default;const G=E(40573),x=E(89565),{isReadable:B,isWritable:A,isIterable:N,isNodeStream:$,isReadableNodeStream:K,isWritableNodeStream:D,isDuplexNodeStream:X}=E(51233),V=E(44268),{AbortError:Z,codes:{ERR_INVALID_ARG_TYPE:Q,ERR_INVALID_RETURN_VALUE:te}}=E(65109),{destroyer:J}=E(45078),q=E(97464),ne=E(29710),{createDeferredPromise:se}=E(55830),oe=E(24246),ue=globalThis.Blob||x.Blob,ae=typeof ue<"u"?function(g){return g instanceof ue}:function(g){return!1},ve=globalThis.AbortController||E(9465).AbortController,{FunctionPrototypeCall:_e}=E(43856);class De extends q{constructor(g){super(g),!1===g?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===g?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function u(h){const g=h.readable&&"function"!=typeof h.readable.read?ne.wrap(h.readable):h.readable,w=h.writable;let j,M,d,v,W,T=!!B(g),C=!!A(w);function H(ee){const fe=v;v=null,fe?fe(ee):ee&&W.destroy(ee)}return W=new De({readableObjectMode:!(null==g||!g.readableObjectMode),writableObjectMode:!(null==w||!w.writableObjectMode),readable:T,writable:C}),C&&(V(w,ee=>{C=!1,ee&&J(g,ee),H(ee)}),W._write=function(ee,fe,Ae){w.write(ee,fe)?Ae():j=Ae},W._final=function(ee){w.end(),M=ee},w.on("drain",function(){if(j){const ee=j;j=null,ee()}}),w.on("finish",function(){if(M){const ee=M;M=null,ee()}})),T&&(V(g,ee=>{T=!1,ee&&J(g,ee),H(ee)}),g.on("readable",function(){if(d){const ee=d;d=null,ee()}}),g.on("end",function(){W.push(null)}),W._read=function(){for(;;){const ee=g.read();if(null===ee)return void(d=W._read);if(!W.push(ee))return}}),W._destroy=function(ee,fe){!ee&&null!==v&&(ee=new Z),d=null,j=null,M=null,null===v?fe(ee):(v=fe,J(w,ee),J(g,ee))},W}Be.exports=function h(g,w){if(X(g))return g;if(K(g))return u({readable:g});if(D(g))return u({writable:g});if($(g))return u({writable:!1,readable:!1});if("function"==typeof g){const{value:C,write:j,final:M,destroy:d}=function P(h){let{promise:g,resolve:w}=se();const T=new ve,C=T.signal;return{value:h(O(function*(){for(;;){const M=g;g=null;const{chunk:d,done:v,cb:W}=yield S(M);if(G.nextTick(W),v)return;if(C.aborted)throw new Z(void 0,{cause:C.reason});({promise:g,resolve:w}=se()),yield d}})(),{signal:C}),write(M,d,v){const W=w;w=null,W({chunk:M,done:!1,cb:v})},final(M){const d=w;w=null,d({done:!0,cb:M})},destroy(M,d){T.abort(),d(M)}}}(g);if(N(C))return oe(De,C,{objectMode:!0,write:j,final:M,destroy:d});const v=C?.then;if("function"==typeof v){let W;const H=_e(v,C,ee=>{if(null!=ee)throw new te("nully","body",ee)},ee=>{J(W,ee)});return W=new De({objectMode:!0,readable:!1,write:j,final(ee){M(p(function*(){try{yield H,G.nextTick(ee,null)}catch(fe){G.nextTick(ee,fe)}}))},destroy:d})}throw new te("Iterable, AsyncIterable or AsyncFunction",w,C)}if(ae(g))return h(g.arrayBuffer());if(N(g))return oe(De,g,{objectMode:!0,writable:!1});if("object"==typeof g?.writable||"object"==typeof g?.readable)return u({readable:null!=g&&g.readable?K(g?.readable)?g?.readable:h(g.readable):void 0,writable:null!=g&&g.writable?D(g?.writable)?g?.writable:h(g.writable):void 0});const T=g?.then;if("function"==typeof T){let C;return _e(T,g,j=>{null!=j&&C.push(j),C.push(null)},j=>{J(C,j)}),C=new De({objectMode:!0,writable:!1,read(){}})}throw new Q(w,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],g)}},44268:(Be,z,E)=>{const p=E(40573),{AbortError:S,codes:O}=E(65109),{ERR_INVALID_ARG_TYPE:G,ERR_STREAM_PREMATURE_CLOSE:x}=O,{kEmptyObject:B,once:A}=E(55830),{validateAbortSignal:N,validateFunction:$,validateObject:K,validateBoolean:D}=E(44323),{Promise:X,PromisePrototypeThen:V}=E(43856),{isClosed:Z,isReadable:Q,isReadableNodeStream:te,isReadableStream:J,isReadableFinished:q,isReadableErrored:ne,isWritable:se,isWritableNodeStream:oe,isWritableStream:ue,isWritableFinished:ae,isWritableErrored:ve,isNodeStream:_e,willEmitClose:De,kIsClosedPromise:P}=E(51233),h=()=>{};function g(C,j,M){var d,v;if(2===arguments.length?(M=j,j=B):null==j?j=B:K(j,"options"),$(M,"callback"),N(j.signal,"options.signal"),M=A(M),J(C)||ue(C))return function w(C,j,M){let d=!1,v=h;if(j.signal)if(v=()=>{d=!0,M.call(C,new S(void 0,{cause:j.signal.reason}))},j.signal.aborted)p.nextTick(v);else{const H=M;M=A((...ee)=>{j.signal.removeEventListener("abort",v),H.apply(C,ee)}),j.signal.addEventListener("abort",v)}const W=(...H)=>{d||p.nextTick(()=>M.apply(C,H))};return V(C[P].promise,W,W),h}(C,j,M);if(!_e(C))throw new G("stream",["ReadableStream","WritableStream","Stream"],C);const W=null!==(d=j.readable)&&void 0!==d?d:te(C),H=null!==(v=j.writable)&&void 0!==v?v:oe(C),ee=C._writableState,fe=C._readableState,Ae=()=>{C.writable||be()};let Pe=De(C)&&te(C)===W&&oe(C)===H,Le=ae(C,!1);const be=()=>{Le=!0,C.destroyed&&(Pe=!1),(!Pe||C.readable&&!W)&&(!W||ge)&&M.call(C)};let ge=q(C,!1);const Re=()=>{ge=!0,C.destroyed&&(Pe=!1),(!Pe||C.writable&&!H)&&(!H||Le)&&M.call(C)},me=pe=>{M.call(C,pe)};let xe=Z(C);const le=()=>{xe=!0;const pe=ve(C)||ne(C);return pe&&"boolean"!=typeof pe?M.call(C,pe):W&&!ge&&te(C,!0)&&!q(C,!1)?M.call(C,new x):!H||Le||ae(C,!1)?void M.call(C):M.call(C,new x)},he=()=>{xe=!0;const pe=ve(C)||ne(C);if(pe&&"boolean"!=typeof pe)return M.call(C,pe);M.call(C)},re=()=>{C.req.on("finish",be)};!function u(C){return C.setHeader&&"function"==typeof C.abort}(C)?H&&!ee&&(C.on("end",Ae),C.on("close",Ae)):(C.on("complete",be),Pe||C.on("abort",le),C.req?re():C.on("request",re)),!Pe&&"boolean"==typeof C.aborted&&C.on("aborted",le),C.on("end",Re),C.on("finish",be),!1!==j.error&&C.on("error",me),C.on("close",le),xe?p.nextTick(le):null!=ee&&ee.errorEmitted||null!=fe&&fe.errorEmitted?Pe||p.nextTick(he):(!W&&(!Pe||Q(C))&&(Le||!1===se(C))||!H&&(!Pe||se(C))&&(ge||!1===Q(C))||fe&&C.req&&C.aborted)&&p.nextTick(he);const de=()=>{M=h,C.removeListener("aborted",le),C.removeListener("complete",be),C.removeListener("abort",le),C.removeListener("request",re),C.req&&C.req.removeListener("finish",be),C.removeListener("end",Ae),C.removeListener("close",Ae),C.removeListener("finish",be),C.removeListener("end",Re),C.removeListener("error",me),C.removeListener("close",le)};if(j.signal&&!xe){const pe=()=>{const Se=M;de(),Se.call(C,new S(void 0,{cause:j.signal.reason}))};if(j.signal.aborted)p.nextTick(pe);else{const Se=M;M=A((...ke)=>{j.signal.removeEventListener("abort",pe),Se.apply(C,ke)}),j.signal.addEventListener("abort",pe)}}return de}Be.exports=g,Be.exports.finished=function T(C,j){var M;let d=!1;return null===j&&(j=B),null!==(M=j)&&void 0!==M&&M.cleanup&&(D(j.cleanup,"cleanup"),d=j.cleanup),new X((v,W)=>{const H=g(C,j,ee=>{d&&H(),ee?W(ee):v()})})}},24246:(Be,z,E)=>{"use strict";var p=E(29293).default;const S=E(40573),{PromisePrototypeThen:O,SymbolAsyncIterator:G,SymbolIterator:x}=E(43856),{Buffer:B}=E(89565),{ERR_INVALID_ARG_TYPE:A,ERR_STREAM_NULL_VALUES:N}=E(65109).codes;Be.exports=function $(K,D,X){let V,Z;if("string"==typeof D||D instanceof B)return new K({objectMode:!0,...X,read(){this.push(D),this.push(null)}});if(D&&D[G])Z=!0,V=D[G]();else{if(!D||!D[x])throw new A("iterable",["Iterable"],D);Z=!1,V=D[x]()}const Q=new K({objectMode:!0,highWaterMark:1,...X});let te=!1;function q(){return(q=p(function*(oe){if(null!=oe&&"function"==typeof V.throw){const{value:ve,done:_e}=yield V.throw(oe);if(yield ve,_e)return}if("function"==typeof V.return){const{value:ve}=yield V.return();yield ve}})).apply(this,arguments)}function se(){return(se=p(function*(){for(;;){try{const{value:oe,done:ue}=Z?yield V.next():V.next();if(ue)Q.push(null);else{const ae=oe&&"function"==typeof oe.then?yield oe:oe;if(null===ae)throw te=!1,new N;if(Q.push(ae))continue;te=!1}}catch(oe){Q.destroy(oe)}break}})).apply(this,arguments)}return Q._read=function(){te||(te=!0,function ne(){se.apply(this,arguments)}())},Q._destroy=function(oe,ue){O(function J(oe){return q.apply(this,arguments)}(oe),()=>S.nextTick(ue,oe),ae=>S.nextTick(ue,ae||oe))},Q}},2649:(Be,z,E)=>{"use strict";const{ArrayIsArray:p,ObjectSetPrototypeOf:S}=E(43856),{EventEmitter:O}=E(44356);function G(B){O.call(this,B)}function x(B,A,N){if("function"==typeof B.prependListener)return B.prependListener(A,N);B._events&&B._events[A]?p(B._events[A])?B._events[A].unshift(N):B._events[A]=[N,B._events[A]]:B.on(A,N)}S(G.prototype,O.prototype),S(G,O),G.prototype.pipe=function(B,A){const N=this;function $(te){B.writable&&!1===B.write(te)&&N.pause&&N.pause()}function K(){N.readable&&N.resume&&N.resume()}N.on("data",$),B.on("drain",K),!B._isStdio&&(!A||!1!==A.end)&&(N.on("end",X),N.on("close",V));let D=!1;function X(){D||(D=!0,B.end())}function V(){D||(D=!0,"function"==typeof B.destroy&&B.destroy())}function Z(te){Q(),0===O.listenerCount(this,"error")&&this.emit("error",te)}function Q(){N.removeListener("data",$),B.removeListener("drain",K),N.removeListener("end",X),N.removeListener("close",V),N.removeListener("error",Z),B.removeListener("error",Z),N.removeListener("end",Q),N.removeListener("close",Q),B.removeListener("close",Q)}return x(N,"error",Z),x(B,"error",Z),N.on("end",Q),N.on("close",Q),B.on("close",Q),B.emit("pipe",N),B},Be.exports={Stream:G,prependListener:x}},37325:(Be,z,E)=>{"use strict";var p=E(29293).default,S=E(93513).default,O=E(82881).default,G=E(53344).default,x=E(42958).default;const B=globalThis.AbortController||E(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:A,ERR_INVALID_ARG_TYPE:N,ERR_MISSING_ARGS:$,ERR_OUT_OF_RANGE:K},AbortError:D}=E(65109),{validateAbortSignal:X,validateInteger:V,validateObject:Z}=E(44323),Q=E(43856).Symbol("kWeak"),{finished:te}=E(44268),J=E(5464),{addAbortSignalNoValidate:q}=E(24785),{isWritable:ne,isNodeStream:se}=E(51233),{ArrayPrototypePush:oe,MathFloor:ue,Number:ae,NumberIsNaN:ve,Promise:_e,PromiseReject:De,PromisePrototypeThen:P,Symbol:u}=E(43856),h=u("kEmpty"),g=u("kEof");function T(re,de){if("function"!=typeof re)throw new N("fn",["Function","AsyncFunction"],re);null!=de&&Z(de,"options"),null!=de?.signal&&X(de.signal,"options.signal");let pe=1;return null!=de?.concurrency&&(pe=ue(de.concurrency)),V(pe,"concurrency",1),function(){var Se=x(function*(){var Fe,We;const Tt=new B,Xe=this,Ke=[],lt=Tt.signal,U={signal:lt},_=()=>Tt.abort();null!=de&&null!==(Fe=de.signal)&&void 0!==Fe&&Fe.aborted&&_(),null==de||null===(We=de.signal)||void 0===We||We.addEventListener("abort",_);let m,F,ie=!1;function we(){ie=!0}function Qe(){return(Qe=p(function*(){try{var Et,kt=!1,pt=!1;try{for(var qt,Lt=O(Xe);kt=!(qt=yield Lt.next()).done;kt=!1){let cn=qt.value;var Kt;if(ie)return;if(lt.aborted)throw new D;try{cn=re(cn,U)}catch(Ut){cn=De(Ut)}cn!==h&&("function"==typeof(null===(Kt=cn)||void 0===Kt?void 0:Kt.catch)&&cn.catch(we),Ke.push(cn),m&&(m(),m=null),!ie&&Ke.length&&Ke.length>=pe&&(yield new _e(Ut=>{F=Ut})))}}catch(cn){pt=!0,Et=cn}finally{try{kt&&null!=Lt.return&&(yield Lt.return())}finally{if(pt)throw Et}}Ke.push(g)}catch(cn){const Ut=De(cn);P(Ut,void 0,we),Ke.push(Ut)}finally{var er;ie=!0,m&&(m(),m=null),null==de||null===(er=de.signal)||void 0===er||er.removeEventListener("abort",_)}})).apply(this,arguments)}!function Ie(){Qe.apply(this,arguments)}();try{for(;;){for(;Ke.length>0;){const kt=yield G(Ke[0]);if(kt===g)return;if(lt.aborted)throw new D;kt!==h&&(yield kt),Ke.shift(),F&&(F(),F=null)}yield G(new _e(kt=>{m=kt}))}}finally{Tt.abort(),ie=!0,F&&(F(),F=null)}});return function ke(){return Se.apply(this,arguments)}}().call(this)}function j(re){return M.apply(this,arguments)}function M(){return(M=p(function*(re,de=void 0){var ke,pe=!1,Se=!1;try{for(var Fe=O(Ae.call(this,re,de));pe=!(yield Fe.next()).done;pe=!1)return!0}catch(Tt){Se=!0,ke=Tt}finally{try{pe&&null!=Fe.return&&(yield Fe.return())}finally{if(Se)throw ke}}return!1})).apply(this,arguments)}function v(){return(v=p(function*(re,de=void 0){if("function"!=typeof re)throw new N("fn",["Function","AsyncFunction"],re);return!(yield j.call(this,p(function*(...pe){return!(yield re(...pe))}),de))})).apply(this,arguments)}function H(){return(H=p(function*(re,de){var ke,pe=!1,Se=!1;try{for(var We,Fe=O(Ae.call(this,re,de));pe=!(We=yield Fe.next()).done;pe=!1)return We.value}catch(Tt){Se=!0,ke=Tt}finally{try{pe&&null!=Fe.return&&(yield Fe.return())}finally{if(Se)throw ke}}})).apply(this,arguments)}function fe(){return fe=p(function*(re,de){if("function"!=typeof re)throw new N("fn",["Function","AsyncFunction"],re);function Se(){return(Se=p(function*(Ke,lt){return yield re(Ke,lt),h})).apply(this,arguments)}var We,ke=!1,Fe=!1;try{for(var Tt=O(T.call(this,function pe(Ke,lt){return Se.apply(this,arguments)},de));ke=!(yield Tt.next()).done;ke=!1);}catch(Ke){Fe=!0,We=Ke}finally{try{ke&&null!=Tt.return&&(yield Tt.return())}finally{if(Fe)throw We}}}),fe.apply(this,arguments)}function Ae(re,de){if("function"!=typeof re)throw new N("fn",["Function","AsyncFunction"],re);function Se(){return(Se=p(function*(ke,Fe){return(yield re(ke,Fe))?ke:h})).apply(this,arguments)}return T.call(this,function pe(ke,Fe){return Se.apply(this,arguments)},de)}class Pe extends ${constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function be(){return be=p(function*(re,de,pe){var Se;if("function"!=typeof re)throw new N("reducer",["Function","AsyncFunction"],re);null!=pe&&Z(pe,"options"),null!=pe?.signal&&X(pe.signal,"options.signal");let ke=arguments.length>1;if(null!=pe&&null!==(Se=pe.signal)&&void 0!==Se&&Se.aborted){const F=new D(void 0,{cause:pe.signal.reason});throw this.once("error",()=>{}),yield te(this.destroy(F)),F}const Fe=new B,We=Fe.signal;null!=pe&&pe.signal&&pe.signal.addEventListener("abort",()=>Fe.abort(),{once:!0,[Q]:this});let Tt=!1;try{var lt,Xe=!1,Ke=!1;try{for(var _,U=O(this);Xe=!(_=yield U.next()).done;Xe=!1){const F=_.value;var m;if(Tt=!0,null!=pe&&null!==(m=pe.signal)&&void 0!==m&&m.aborted)throw new D;ke?de=yield re(de,F,{signal:We}):(de=F,ke=!0)}}catch(F){Ke=!0,lt=F}finally{try{Xe&&null!=U.return&&(yield U.return())}finally{if(Ke)throw lt}}if(!Tt&&!ke)throw new Pe}finally{Fe.abort()}return de}),be.apply(this,arguments)}function Re(){return(Re=p(function*(re){null!=re&&Z(re,"options"),null!=re?.signal&&X(re.signal,"options.signal");const de=[];var ke,pe=!1,Se=!1;try{for(var We,Fe=O(this);pe=!(We=yield Fe.next()).done;pe=!1){const Xe=We.value;var Tt;if(null!=re&&null!==(Tt=re.signal)&&void 0!==Tt&&Tt.aborted)throw new D(void 0,{cause:re.signal.reason});oe(de,Xe)}}catch(Xe){Se=!0,ke=Xe}finally{try{pe&&null!=Fe.return&&(yield Fe.return())}finally{if(Se)throw ke}}return de})).apply(this,arguments)}function xe(re){if(re=ae(re),ve(re))return 0;if(re<0)throw new K("number",">= 0",re);return re}Be.exports.streamReturningOperators={asIndexedPairs:function C(re=void 0){return null!=re&&Z(re,"options"),null!=re?.signal&&X(re.signal,"options.signal"),function(){var de=x(function*(){let Se=0;var We,ke=!1,Fe=!1;try{for(var Xe,Tt=O(this);ke=!(Xe=yield G(Tt.next())).done;ke=!1){const lt=Xe.value;var Ke;if(null!=re&&null!==(Ke=re.signal)&&void 0!==Ke&&Ke.aborted)throw new D({cause:re.signal.reason});yield[Se++,lt]}}catch(lt){Fe=!0,We=lt}finally{try{ke&&null!=Tt.return&&(yield G(Tt.return()))}finally{if(Fe)throw We}}});return function pe(){return de.apply(this,arguments)}}().call(this)},drop:function le(re,de=void 0){return null!=de&&Z(de,"options"),null!=de?.signal&&X(de.signal,"options.signal"),re=xe(re),function(){var pe=x(function*(){var ke;if(null!=de&&null!==(ke=de.signal)&&void 0!==ke&&ke.aborted)throw new D;var Tt,Fe=!1,We=!1;try{for(var Ke,Xe=O(this);Fe=!(Ke=yield G(Xe.next())).done;Fe=!1){const U=Ke.value;var lt;if(null!=de&&null!==(lt=de.signal)&&void 0!==lt&&lt.aborted)throw new D;re--<=0&&(yield U)}}catch(U){We=!0,Tt=U}finally{try{Fe&&null!=Xe.return&&(yield G(Xe.return()))}finally{if(We)throw Tt}}});return function Se(){return pe.apply(this,arguments)}}().call(this)},filter:Ae,flatMap:function me(re,de){const pe=T.call(this,re,de);return function(){var Se=x(function*(){var Tt,Fe=!1,We=!1;try{for(var Ke,Xe=O(pe);Fe=!(Ke=yield G(Xe.next())).done;Fe=!1){const lt=Ke.value;yield*S(O(lt),G)}}catch(lt){We=!0,Tt=lt}finally{try{Fe&&null!=Xe.return&&(yield G(Xe.return()))}finally{if(We)throw Tt}}});return function ke(){return Se.apply(this,arguments)}}().call(this)},map:T,take:function he(re,de=void 0){return null!=de&&Z(de,"options"),null!=de?.signal&&X(de.signal,"options.signal"),re=xe(re),function(){var pe=x(function*(){var ke;if(null!=de&&null!==(ke=de.signal)&&void 0!==ke&&ke.aborted)throw new D;var Tt,Fe=!1,We=!1;try{for(var Ke,Xe=O(this);Fe=!(Ke=yield G(Xe.next())).done;Fe=!1){const U=Ke.value;var lt;if(null!=de&&null!==(lt=de.signal)&&void 0!==lt&&lt.aborted)throw new D;if(!(re-- >0))return;yield U}}catch(U){We=!0,Tt=U}finally{try{Fe&&null!=Xe.return&&(yield G(Xe.return()))}finally{if(We)throw Tt}}});return function Se(){return pe.apply(this,arguments)}}().call(this)},compose:function w(re,de){if(null!=de&&Z(de,"options"),null!=de?.signal&&X(de.signal,"options.signal"),se(re)&&!ne(re))throw new A("stream",re,"must be writable");const pe=J(this,re);return null!=de&&de.signal&&q(de.signal,pe),pe}},Be.exports.promiseReturningOperators={every:function d(re){return v.apply(this,arguments)},forEach:function ee(re,de){return fe.apply(this,arguments)},reduce:function Le(re,de,pe){return be.apply(this,arguments)},toArray:function ge(re){return Re.apply(this,arguments)},some:j,find:function W(re,de){return H.apply(this,arguments)}}},70874:(Be,z,E)=>{"use strict";const{ObjectSetPrototypeOf:p}=E(43856);Be.exports=O;const S=E(66344);function O(G){if(!(this instanceof O))return new O(G);S.call(this,G)}p(O.prototype,S.prototype),p(O,S),O.prototype._transform=function(G,x,B){B(null,G)}},96208:(Be,z,E)=>{var p=E(29293).default,S=E(42958).default,O=E(53344).default,G=E(93513).default,x=E(82881).default;const B=E(40573),{ArrayIsArray:A,Promise:N,SymbolAsyncIterator:$}=E(43856),K=E(44268),{once:D}=E(55830),X=E(45078),V=E(97464),{aggregateTwoErrors:Z,codes:{ERR_INVALID_ARG_TYPE:Q,ERR_INVALID_RETURN_VALUE:te,ERR_MISSING_ARGS:J,ERR_STREAM_DESTROYED:q,ERR_STREAM_PREMATURE_CLOSE:ne},AbortError:se}=E(65109),{validateFunction:oe,validateAbortSignal:ue}=E(44323),{isIterable:ae,isReadable:ve,isReadableNodeStream:_e,isNodeStream:De,isTransformStream:P,isWebStream:u,isReadableStream:h,isReadableEnded:g}=E(51233),w=globalThis.AbortController||E(9465).AbortController;let T,C;function j(ge,Re,me){let xe=!1;return ge.on("close",()=>{xe=!0}),{destroy:he=>{xe||(xe=!0,X.destroyer(ge,he||new q("pipe")))},cleanup:K(ge,{readable:Re,writable:me},he=>{xe=!he})}}function d(ge){if(ae(ge))return ge;if(_e(ge))return function v(ge){return W.apply(this,arguments)}(ge);throw new Q("val",["Readable","Iterable","AsyncIterable"],ge)}function W(){return(W=S(function*(ge){C||(C=E(29710)),yield*G(x(C.prototype[$].call(ge)),O)})).apply(this,arguments)}function H(ge,Re,me,xe){return ee.apply(this,arguments)}function ee(){return(ee=p(function*(ge,Re,me,{end:xe}){let le,he=null;const re=Xe=>{if(Xe&&(le=Xe),he){const Ke=he;he=null,Ke()}},de=()=>new N((Xe,Ke)=>{le?Ke(le):he=()=>{le?Ke(le):Xe()}});Re.on("drain",re);const pe=K(Re,{readable:!1},re);try{Re.writableNeedDrain&&(yield de());var Fe,Se=!1,ke=!1;try{for(var Tt,We=x(ge);Se=!(Tt=yield We.next()).done;Se=!1)Re.write(Tt.value)||(yield de())}catch(Xe){ke=!0,Fe=Xe}finally{try{Se&&null!=We.return&&(yield We.return())}finally{if(ke)throw Fe}}xe&&Re.end(),yield de(),me()}catch(Xe){me(le!==Xe?Z(le,Xe):Xe)}finally{pe(),Re.off("drain",re)}})).apply(this,arguments)}function fe(ge,Re,me,xe){return Ae.apply(this,arguments)}function Ae(){return(Ae=p(function*(ge,Re,me,{end:xe}){P(Re)&&(Re=Re.writable);const le=Re.getWriter();try{var de,he=!1,re=!1;try{for(var Se,pe=x(ge);he=!(Se=yield pe.next()).done;he=!1){const ke=Se.value;yield le.ready,le.write(ke).catch(()=>{})}}catch(ke){re=!0,de=ke}finally{try{he&&null!=pe.return&&(yield pe.return())}finally{if(re)throw de}}yield le.ready,xe&&(yield le.close()),me()}catch(ke){try{yield le.abort(ke),me(ke)}catch(Fe){me(Fe)}}})).apply(this,arguments)}function Le(ge,Re,me){if(1===ge.length&&A(ge[0])&&(ge=ge[0]),ge.length<2)throw new J("streams");const xe=new w,le=xe.signal,he=me?.signal,re=[];function de(){Tt(new se)}let pe,Se;ue(he,"options.signal"),he?.addEventListener("abort",de);const ke=[];let Xe,Fe=0;function We(_){Tt(_,0==--Fe)}function Tt(_,m){if(_&&(!pe||"ERR_STREAM_PREMATURE_CLOSE"===pe.code)&&(pe=_),pe||m){for(;ke.length;)ke.shift()(pe);he?.removeEventListener("abort",de),xe.abort(),m&&(pe||re.forEach(F=>F()),B.nextTick(Re,pe,Se))}}for(let _=0;_<ge.length;_++){const m=ge[_],F=_<ge.length-1,ie=_>0,we=F||!1!==me?.end,Ie=_===ge.length-1;if(De(m)){let Qe=function(kt){kt&&"AbortError"!==kt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==kt.code&&We(kt)};if(we){const{destroy:kt,cleanup:pt}=j(m,F,ie);ke.push(kt),ve(m)&&Ie&&re.push(pt)}m.on("error",Qe),ve(m)&&Ie&&re.push(()=>{m.removeListener("error",Qe)})}if(0===_)if("function"==typeof m){if(Xe=m({signal:le}),!ae(Xe))throw new te("Iterable, AsyncIterable or Stream","source",Xe)}else Xe=ae(m)||_e(m)||P(m)?m:V.from(m);else if("function"==typeof m){var Ke;if(Xe=P(Xe)?d(null===(Ke=Xe)||void 0===Ke?void 0:Ke.readable):d(Xe),Xe=m(Xe,{signal:le}),F){if(!ae(Xe,!0))throw new te("AsyncIterable",`transform[${_-1}]`,Xe)}else{var lt;T||(T=E(70874));const Qe=new T({objectMode:!0}),kt=null===(lt=Xe)||void 0===lt?void 0:lt.then;if("function"==typeof kt)Fe++,kt.call(Xe,Lt=>{Se=Lt,null!=Lt&&Qe.write(Lt),we&&Qe.end(),B.nextTick(We)},Lt=>{Qe.destroy(Lt),B.nextTick(We,Lt)});else if(ae(Xe,!0))Fe++,H(Xe,Qe,We,{end:we});else{if(!h(Xe)&&!P(Xe))throw new te("AsyncIterable or Promise","destination",Xe);Fe++,H(Xe.readable||Xe,Qe,We,{end:we})}Xe=Qe;const{destroy:pt,cleanup:Et}=j(Xe,!1,!0);ke.push(pt),Ie&&re.push(Et)}}else if(De(m)){if(_e(Xe)){Fe+=2;const Qe=be(Xe,m,We,{end:we});ve(m)&&Ie&&re.push(Qe)}else if(P(Xe)||h(Xe))Fe++,H(Xe.readable||Xe,m,We,{end:we});else{if(!ae(Xe))throw new Q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Xe);Fe++,H(Xe,m,We,{end:we})}Xe=m}else if(u(m)){if(_e(Xe))Fe++,fe(d(Xe),m,We,{end:we});else if(h(Xe)||ae(Xe))Fe++,fe(Xe,m,We,{end:we});else{if(!P(Xe))throw new Q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Xe);Fe++,fe(Xe.readable,m,We,{end:we})}Xe=m}else Xe=V.from(m)}return(null!=le&&le.aborted||null!=he&&he.aborted)&&B.nextTick(de),Xe}function be(ge,Re,me,{end:xe}){let le=!1;if(Re.on("close",()=>{le||me(new ne)}),ge.pipe(Re,{end:!1}),xe){let re=function(){le=!0,Re.end()};g(ge)?B.nextTick(re):ge.once("end",re)}else me();return K(ge,{readable:!0,writable:!1},re=>{const de=ge._readableState;re&&"ERR_STREAM_PREMATURE_CLOSE"===re.code&&de&&de.ended&&!de.errored&&!de.errorEmitted?ge.once("end",me).once("error",me):me(re)}),K(Re,{readable:!1,writable:!0},me)}Be.exports={pipelineImpl:Le,pipeline:function Pe(...ge){return Le(ge,D(function M(ge){return oe(ge[ge.length-1],"streams[stream.length - 1]"),ge.pop()}(ge)))}}},29710:(Be,z,E)=>{var p=E(53344).default,S=E(42958).default;const O=E(40573),{ArrayPrototypeIndexOf:G,NumberIsInteger:x,NumberIsNaN:B,NumberParseInt:A,ObjectDefineProperties:N,ObjectKeys:$,ObjectSetPrototypeOf:K,Promise:D,SafeSet:X,SymbolAsyncIterator:V,Symbol:Z}=E(43856);Be.exports=H,H.ReadableState=W;const{EventEmitter:Q}=E(44356),{Stream:te,prependListener:J}=E(2649),{Buffer:q}=E(89565),{addAbortSignal:ne}=E(24785),se=E(44268);let oe=E(55830).debuglog("stream",m=>{oe=m});const ue=E(58579),ae=E(45078),{getHighWaterMark:ve,getDefaultHighWaterMark:_e}=E(31081),{aggregateTwoErrors:De,codes:{ERR_INVALID_ARG_TYPE:P,ERR_METHOD_NOT_IMPLEMENTED:u,ERR_OUT_OF_RANGE:h,ERR_STREAM_PUSH_AFTER_EOF:g,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:w}}=E(65109),{validateObject:T}=E(44323),C=Z("kPaused"),{StringDecoder:j}=E(78454),M=E(24246);K(H.prototype,te.prototype),K(H,te);const d=()=>{},{errorOrDestroy:v}=ae;function W(m,F,ie){"boolean"!=typeof ie&&(ie=F instanceof E(97464)),this.objectMode=!(!m||!m.objectMode),ie&&(this.objectMode=this.objectMode||!(!m||!m.readableObjectMode)),this.highWaterMark=m?ve(this,m,"readableHighWaterMark",ie):_e(!1),this.buffer=new ue,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[C]=null,this.errorEmitted=!1,this.emitClose=!m||!1!==m.emitClose,this.autoDestroy=!m||!1!==m.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=m&&m.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,m&&m.encoding&&(this.decoder=new j(m.encoding),this.encoding=m.encoding)}function H(m){if(!(this instanceof H))return new H(m);const F=this instanceof E(97464);this._readableState=new W(m,this,F),m&&("function"==typeof m.read&&(this._read=m.read),"function"==typeof m.destroy&&(this._destroy=m.destroy),"function"==typeof m.construct&&(this._construct=m.construct),m.signal&&!F&&ne(m.signal,this)),te.call(this,m),ae.construct(this,()=>{this._readableState.needReadable&&me(this,this._readableState)})}function ee(m,F,ie,we){oe("readableAddChunk",F);const Ie=m._readableState;let Qe;if(Ie.objectMode||("string"==typeof F?Ie.encoding!==(ie=ie||Ie.defaultEncoding)&&(we&&Ie.encoding?F=q.from(F,ie).toString(Ie.encoding):(F=q.from(F,ie),ie="")):F instanceof q?ie="":te._isUint8Array(F)?(F=te._uint8ArrayToBuffer(F),ie=""):null!=F&&(Qe=new P("chunk",["string","Buffer","Uint8Array"],F))),Qe)v(m,Qe);else if(null===F)Ie.reading=!1,function be(m,F){if(oe("onEofChunk"),!F.ended){if(F.decoder){const ie=F.decoder.end();ie&&ie.length&&(F.buffer.push(ie),F.length+=F.objectMode?1:ie.length)}F.ended=!0,F.sync?ge(m):(F.needReadable=!1,F.emittedReadable=!0,Re(m))}}(m,Ie);else if(Ie.objectMode||F&&F.length>0)if(we)if(Ie.endEmitted)v(m,new w);else{if(Ie.destroyed||Ie.errored)return!1;fe(m,Ie,F,!0)}else if(Ie.ended)v(m,new g);else{if(Ie.destroyed||Ie.errored)return!1;Ie.reading=!1,Ie.decoder&&!ie?(F=Ie.decoder.write(F),Ie.objectMode||0!==F.length?fe(m,Ie,F,!1):me(m,Ie)):fe(m,Ie,F,!1)}else we||(Ie.reading=!1,me(m,Ie));return!Ie.ended&&(Ie.length<Ie.highWaterMark||0===Ie.length)}function fe(m,F,ie,we){F.flowing&&0===F.length&&!F.sync&&m.listenerCount("data")>0?(F.multiAwaitDrain?F.awaitDrainWriters.clear():F.awaitDrainWriters=null,F.dataEmitted=!0,m.emit("data",ie)):(F.length+=F.objectMode?1:ie.length,we?F.buffer.unshift(ie):F.buffer.push(ie),F.needReadable&&ge(m)),me(m,F)}function Le(m,F){return m<=0||0===F.length&&F.ended?0:F.objectMode?1:B(m)?F.flowing&&F.length?F.buffer.first().length:F.length:m<=F.length?m:F.ended?F.length:0}function ge(m){const F=m._readableState;oe("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(oe("emitReadable",F.flowing),F.emittedReadable=!0,O.nextTick(Re,m))}function Re(m){const F=m._readableState;oe("emitReadable_",F.destroyed,F.length,F.ended),!F.destroyed&&!F.errored&&(F.length||F.ended)&&(m.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,Se(m)}function me(m,F){!F.readingMore&&F.constructed&&(F.readingMore=!0,O.nextTick(xe,m,F))}function xe(m,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&0===F.length);){const ie=F.length;if(oe("maybeReadMore read 0"),m.read(0),ie===F.length)break}F.readingMore=!1}function he(m){const F=m._readableState;F.readableListening=m.listenerCount("readable")>0,F.resumeScheduled&&!1===F[C]?F.flowing=!0:m.listenerCount("data")>0?m.resume():F.readableListening||(F.flowing=null)}function re(m){oe("readable nexttick read 0"),m.read(0)}function pe(m,F){oe("resume",F.reading),F.reading||m.read(0),F.resumeScheduled=!1,m.emit("resume"),Se(m),F.flowing&&!F.reading&&m.read(0)}function Se(m){const F=m._readableState;for(oe("flow",F.flowing);F.flowing&&null!==m.read(););}function ke(m,F){"function"!=typeof m.read&&(m=H.wrap(m,{objectMode:!0}));const ie=function Fe(m,F){return We.apply(this,arguments)}(m,F);return ie.stream=m,ie}function We(){return(We=S(function*(m,F){let Ie,ie=d;function we(kt){this===m?(ie(),ie=d):ie=kt}m.on("readable",we);const Qe=se(m,{writable:!1},kt=>{Ie=kt?De(Ie,kt):null,ie(),ie=d});try{for(;;){const kt=m.destroyed?null:m.read();if(null!==kt)yield kt;else{if(Ie)throw Ie;if(null===Ie)return;yield p(new D(we))}}}catch(kt){throw Ie=De(Ie,kt),Ie}finally{!Ie&&!1===F?.destroyOnReturn||void 0!==Ie&&!m._readableState.autoDestroy?(m.off("readable",we),Qe()):ae.destroyer(m,null)}})).apply(this,arguments)}function Tt(m,F){if(0===F.length)return null;let ie;return F.objectMode?ie=F.buffer.shift():!m||m>=F.length?(ie=F.decoder?F.buffer.join(""):1===F.buffer.length?F.buffer.first():F.buffer.concat(F.length),F.buffer.clear()):ie=F.buffer.consume(m,F.decoder),ie}function Xe(m){const F=m._readableState;oe("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,O.nextTick(Ke,F,m))}function Ke(m,F){if(oe("endReadableNT",m.endEmitted,m.length),!m.errored&&!m.closeEmitted&&!m.endEmitted&&0===m.length)if(m.endEmitted=!0,F.emit("end"),F.writable&&!1===F.allowHalfOpen)O.nextTick(lt,F);else if(m.autoDestroy){const ie=F._writableState;(!ie||ie.autoDestroy&&(ie.finished||!1===ie.writable))&&F.destroy()}}function lt(m){m.writable&&!m.writableEnded&&!m.destroyed&&m.end()}let U;function _(){return void 0===U&&(U={}),U}H.prototype.destroy=ae.destroy,H.prototype._undestroy=ae.undestroy,H.prototype._destroy=function(m,F){F(m)},H.prototype[Q.captureRejectionSymbol]=function(m){this.destroy(m)},H.prototype.push=function(m,F){return ee(this,m,F,!1)},H.prototype.unshift=function(m,F){return ee(this,m,F,!0)},H.prototype.isPaused=function(){const m=this._readableState;return!0===m[C]||!1===m.flowing},H.prototype.setEncoding=function(m){const F=new j(m);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;const ie=this._readableState.buffer;let we="";for(const Ie of ie)we+=F.write(Ie);return ie.clear(),""!==we&&ie.push(we),this._readableState.length=we.length,this},H.prototype.read=function(m){oe("read",m),void 0===m?m=NaN:x(m)||(m=A(m,10));const F=this._readableState,ie=m;if(m>F.highWaterMark&&(F.highWaterMark=function Pe(m){if(m>1073741824)throw new h("size","<= 1GiB",m);return m--,m|=m>>>1,m|=m>>>2,m|=m>>>4,m|=m>>>8,m|=m>>>16,++m}(m)),0!==m&&(F.emittedReadable=!1),0===m&&F.needReadable&&((0!==F.highWaterMark?F.length>=F.highWaterMark:F.length>0)||F.ended))return oe("read: emitReadable",F.length,F.ended),0===F.length&&F.ended?Xe(this):ge(this),null;if(0===(m=Le(m,F))&&F.ended)return 0===F.length&&Xe(this),null;let Ie,we=F.needReadable;if(oe("need readable",we),(0===F.length||F.length-m<F.highWaterMark)&&(we=!0,oe("length less than watermark",we)),F.ended||F.reading||F.destroyed||F.errored||!F.constructed)we=!1,oe("reading, ended or constructing",we);else if(we){oe("do read"),F.reading=!0,F.sync=!0,0===F.length&&(F.needReadable=!0);try{this._read(F.highWaterMark)}catch(Qe){v(this,Qe)}F.sync=!1,F.reading||(m=Le(ie,F))}return Ie=m>0?Tt(m,F):null,null===Ie?(F.needReadable=F.length<=F.highWaterMark,m=0):(F.length-=m,F.multiAwaitDrain?F.awaitDrainWriters.clear():F.awaitDrainWriters=null),0===F.length&&(F.ended||(F.needReadable=!0),ie!==m&&F.ended&&Xe(this)),null!==Ie&&!F.errorEmitted&&!F.closeEmitted&&(F.dataEmitted=!0,this.emit("data",Ie)),Ie},H.prototype._read=function(m){throw new u("_read()")},H.prototype.pipe=function(m,F){const ie=this,we=this._readableState;1===we.pipes.length&&(we.multiAwaitDrain||(we.multiAwaitDrain=!0,we.awaitDrainWriters=new X(we.awaitDrainWriters?[we.awaitDrainWriters]:[]))),we.pipes.push(m),oe("pipe count=%d opts=%j",we.pipes.length,F);const Qe=F&&!1===F.end||m===O.stdout||m===O.stderr?dt:pt;function pt(){oe("onend"),m.end()}we.endEmitted?O.nextTick(Qe):ie.once("end",Qe),m.on("unpipe",function kt(it,Ct){oe("onunpipe"),it===ie&&Ct&&!1===Ct.hasUnpiped&&(Ct.hasUnpiped=!0,function qt(){oe("cleanup"),m.removeListener("close",Ut),m.removeListener("finish",Nt),Et&&m.removeListener("drain",Et),m.removeListener("error",cn),m.removeListener("unpipe",kt),ie.removeListener("end",pt),ie.removeListener("end",dt),ie.removeListener("data",er),Lt=!0,Et&&we.awaitDrainWriters&&(!m._writableState||m._writableState.needDrain)&&Et()}())});let Et,Lt=!1;function Kt(){Lt||(1===we.pipes.length&&we.pipes[0]===m?(oe("false write response, pause",0),we.awaitDrainWriters=m,we.multiAwaitDrain=!1):we.pipes.length>1&&we.pipes.includes(m)&&(oe("false write response, pause",we.awaitDrainWriters.size),we.awaitDrainWriters.add(m)),ie.pause()),Et||(Et=function le(m,F){return function(){const we=m._readableState;we.awaitDrainWriters===F?(oe("pipeOnDrain",1),we.awaitDrainWriters=null):we.multiAwaitDrain&&(oe("pipeOnDrain",we.awaitDrainWriters.size),we.awaitDrainWriters.delete(F)),(!we.awaitDrainWriters||0===we.awaitDrainWriters.size)&&m.listenerCount("data")&&m.resume()}}(ie,m),m.on("drain",Et))}function er(it){oe("ondata");const Ct=m.write(it);oe("dest.write",Ct),!1===Ct&&Kt()}function cn(it){if(oe("onerror",it),dt(),m.removeListener("error",cn),0===m.listenerCount("error")){const Ct=m._writableState||m._readableState;Ct&&!Ct.errorEmitted?v(m,it):m.emit("error",it)}}function Ut(){m.removeListener("finish",Nt),dt()}function Nt(){oe("onfinish"),m.removeListener("close",Ut),dt()}function dt(){oe("unpipe"),ie.unpipe(m)}return ie.on("data",er),J(m,"error",cn),m.once("close",Ut),m.once("finish",Nt),m.emit("pipe",ie),!0===m.writableNeedDrain?we.flowing&&Kt():we.flowing||(oe("pipe resume"),ie.resume()),m},H.prototype.unpipe=function(m){const F=this._readableState;if(0===F.pipes.length)return this;if(!m){const Ie=F.pipes;F.pipes=[],this.pause();for(let Qe=0;Qe<Ie.length;Qe++)Ie[Qe].emit("unpipe",this,{hasUnpiped:!1});return this}const we=G(F.pipes,m);return-1===we||(F.pipes.splice(we,1),0===F.pipes.length&&this.pause(),m.emit("unpipe",this,{hasUnpiped:!1})),this},H.prototype.addListener=H.prototype.on=function(m,F){const ie=te.prototype.on.call(this,m,F),we=this._readableState;return"data"===m?(we.readableListening=this.listenerCount("readable")>0,!1!==we.flowing&&this.resume()):"readable"===m&&!we.endEmitted&&!we.readableListening&&(we.readableListening=we.needReadable=!0,we.flowing=!1,we.emittedReadable=!1,oe("on readable",we.length,we.reading),we.length?ge(this):we.reading||O.nextTick(re,this)),ie},H.prototype.off=H.prototype.removeListener=function(m,F){const ie=te.prototype.removeListener.call(this,m,F);return"readable"===m&&O.nextTick(he,this),ie},H.prototype.removeAllListeners=function(m){const F=te.prototype.removeAllListeners.apply(this,arguments);return("readable"===m||void 0===m)&&O.nextTick(he,this),F},H.prototype.resume=function(){const m=this._readableState;return m.flowing||(oe("resume"),m.flowing=!m.readableListening,function de(m,F){F.resumeScheduled||(F.resumeScheduled=!0,O.nextTick(pe,m,F))}(this,m)),m[C]=!1,this},H.prototype.pause=function(){return oe("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(oe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[C]=!0,this},H.prototype.wrap=function(m){let F=!1;m.on("data",we=>{!this.push(we)&&m.pause&&(F=!0,m.pause())}),m.on("end",()=>{this.push(null)}),m.on("error",we=>{v(this,we)}),m.on("close",()=>{this.destroy()}),m.on("destroy",()=>{this.destroy()}),this._read=()=>{F&&m.resume&&(F=!1,m.resume())};const ie=$(m);for(let we=1;we<ie.length;we++){const Ie=ie[we];void 0===this[Ie]&&"function"==typeof m[Ie]&&(this[Ie]=m[Ie].bind(m))}return this},H.prototype[V]=function(){return ke(this)},H.prototype.iterator=function(m){return void 0!==m&&T(m,"options"),ke(this,m)},N(H.prototype,{readable:{__proto__:null,get(){const m=this._readableState;return!(!m||!1===m.readable||m.destroyed||m.errorEmitted||m.endEmitted)},set(m){this._readableState&&(this._readableState.readable=!!m)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(m){this._readableState&&(this._readableState.flowing=m)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(m){this._readableState&&(this._readableState.destroyed=m)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),N(W.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[C]},set(m){this[C]=!!m}}}),H._fromList=Tt,H.from=function(m,F){return M(H,m,F)},H.fromWeb=function(m,F){return _().newStreamReadableFromReadableStream(m,F)},H.toWeb=function(m,F){return _().newReadableStreamFromStreamReadable(m,F)},H.wrap=function(m,F){var ie,we;return new H({objectMode:null===(ie=null!==(we=m.readableObjectMode)&&void 0!==we?we:m.objectMode)||void 0===ie||ie,...F,destroy(Ie,Qe){ae.destroyer(m,Ie),Qe(Ie)}}).wrap(m)}},31081:(Be,z,E)=>{"use strict";const{MathFloor:p,NumberIsInteger:S}=E(43856),{ERR_INVALID_ARG_VALUE:O}=E(65109).codes;function x(A){return A?16:16384}Be.exports={getHighWaterMark:function B(A,N,$,K){const D=function G(A,N,$){return null!=A.highWaterMark?A.highWaterMark:N?A[$]:null}(N,K,$);if(null!=D){if(!S(D)||D<0)throw new O(K?`options.${$}`:"options.highWaterMark",D);return p(D)}return x(A.objectMode)},getDefaultHighWaterMark:x}},66344:(Be,z,E)=>{"use strict";const{ObjectSetPrototypeOf:p,Symbol:S}=E(43856);Be.exports=A;const{ERR_METHOD_NOT_IMPLEMENTED:O}=E(65109).codes,G=E(97464),{getHighWaterMark:x}=E(31081);p(A.prototype,G.prototype),p(A,G);const B=S("kCallback");function A(K){if(!(this instanceof A))return new A(K);const D=K?x(this,K,"readableHighWaterMark",!0):null;0===D&&(K={...K,highWaterMark:null,readableHighWaterMark:D,writableHighWaterMark:K.writableHighWaterMark||0}),G.call(this,K),this._readableState.sync=!1,this[B]=null,K&&("function"==typeof K.transform&&(this._transform=K.transform),"function"==typeof K.flush&&(this._flush=K.flush)),this.on("prefinish",$)}function N(K){"function"!=typeof this._flush||this.destroyed?(this.push(null),K&&K()):this._flush((D,X)=>{D?K?K(D):this.destroy(D):(null!=X&&this.push(X),this.push(null),K&&K())})}function $(){this._final!==N&&N.call(this)}A.prototype._final=N,A.prototype._transform=function(K,D,X){throw new O("_transform()")},A.prototype._write=function(K,D,X){const V=this._readableState,Z=this._writableState,Q=V.length;this._transform(K,D,(te,J)=>{te?X(te):(null!=J&&this.push(J),Z.ended||Q===V.length||V.length<V.highWaterMark?X():this[B]=X)})},A.prototype._read=function(){if(this[B]){const K=this[B];this[B]=null,K()}}},51233:(Be,z,E)=>{"use strict";const{Symbol:p,SymbolAsyncIterator:S,SymbolIterator:O,SymbolFor:G}=E(43856),x=p("kDestroyed"),B=p("kIsErrored"),A=p("kIsReadable"),N=p("kIsDisturbed"),$=G("nodejs.webstream.isClosedPromise"),K=G("nodejs.webstream.controllerErrorFunction");function D(v,W=!1){var H;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||W&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(H=v._readableState)||void 0===H?void 0:H.readable)||v._writableState&&!v._readableState)}function X(v){var W;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(W=v._writableState)||void 0===W?void 0:W.writable))}function Z(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function Q(v){return!(!v||Z(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function te(v){return!(!v||Z(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function J(v){return!(!v||Z(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function se(v){if(!Z(v))return null;const ee=v._writableState||v._readableState;return!!(v.destroyed||v[x]||null!=ee&&ee.destroyed)}function oe(v){if(!X(v))return null;if(!0===v.writableEnded)return!0;const W=v._writableState;return(null==W||!W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)}function ve(v,W){if(!D(v))return null;const H=v._readableState;return(null==H||!H.errored)&&("boolean"!=typeof H?.endEmitted?null:!!(H.endEmitted||!1===W&&!0===H.ended&&0===H.length))}function _e(v){return v&&null!=v[A]?v[A]:"boolean"!=typeof v?.readable?null:!se(v)&&D(v)&&v.readable&&!ve(v)}function De(v){return"boolean"!=typeof v?.writable?null:!se(v)&&X(v)&&v.writable&&!oe(v)}function w(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function T(v){return"boolean"==typeof v._sent100&&w(v)}Be.exports={kDestroyed:x,isDisturbed:function M(v){var W;return!(!v||!(null!==(W=v[N])&&void 0!==W?W:v.readableDidRead||v.readableAborted))},kIsDisturbed:N,isErrored:function d(v){var W,H,ee,fe,Ae,Pe,Le,be,ge,Re;return!(!v||!(null!==(W=null!==(H=null!==(ee=null!==(fe=null!==(Ae=null!==(Pe=v[B])&&void 0!==Pe?Pe:v.readableErrored)&&void 0!==Ae?Ae:v.writableErrored)&&void 0!==fe?fe:null===(Le=v._readableState)||void 0===Le?void 0:Le.errorEmitted)&&void 0!==ee?ee:null===(be=v._writableState)||void 0===be?void 0:be.errorEmitted)&&void 0!==H?H:null===(ge=v._readableState)||void 0===ge?void 0:ge.errored)&&void 0!==W?W:null!==(Re=v._writableState)&&void 0!==Re&&Re.errored))},kIsErrored:B,isReadable:_e,kIsReadable:A,kIsClosedPromise:$,kControllerErrorFunction:K,isClosed:function g(v){if(!Z(v))return null;if("boolean"==typeof v.closed)return v.closed;const W=v._writableState,H=v._readableState;return"boolean"==typeof W?.closed||"boolean"==typeof H?.closed?W?.closed||H?.closed:"boolean"==typeof v._closed&&w(v)?v._closed:null},isDestroyed:se,isDuplexNodeStream:function V(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function P(v,W){return Z(v)?!!se(v)||!(!1!==W?.readable&&_e(v)||!1!==W?.writable&&De(v)):null},isIterable:function ne(v,W){return null!=v&&(!0===W?"function"==typeof v[S]:!1===W?"function"==typeof v[O]:"function"==typeof v[S]||"function"==typeof v[O])},isReadableNodeStream:D,isReadableStream:Q,isReadableEnded:function ae(v){if(!D(v))return null;if(!0===v.readableEnded)return!0;const W=v._readableState;return!(!W||W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)},isReadableFinished:ve,isReadableErrored:function h(v){var W,H;return Z(v)?v.readableErrored?v.readableErrored:null!==(W=null===(H=v._readableState)||void 0===H?void 0:H.errored)&&void 0!==W?W:null:null},isNodeStream:Z,isWebStream:function q(v){return Q(v)||te(v)||J(v)},isWritable:De,isWritableNodeStream:X,isWritableStream:te,isWritableEnded:oe,isWritableFinished:function ue(v,W){if(!X(v))return null;if(!0===v.writableFinished)return!0;const H=v._writableState;return(null==H||!H.errored)&&("boolean"!=typeof H?.finished?null:!!(H.finished||!1===W&&!0===H.ended&&0===H.length))},isWritableErrored:function u(v){var W,H;return Z(v)?v.writableErrored?v.writableErrored:null!==(W=null===(H=v._writableState)||void 0===H?void 0:H.errored)&&void 0!==W?W:null:null},isServerRequest:function C(v){var W;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(W=v.req)||void 0===W?void 0:W.upgradeOrConnect)},isServerResponse:T,willEmitClose:function j(v){if(!Z(v))return null;const ee=v._writableState||v._readableState;return!ee&&T(v)||!!(ee&&ee.autoDestroy&&ee.emitClose&&!1===ee.closed)},isTransformStream:J}},40258:(Be,z,E)=>{const p=E(40573),{ArrayPrototypeSlice:S,Error:O,FunctionPrototypeSymbolHasInstance:G,ObjectDefineProperty:x,ObjectDefineProperties:B,ObjectSetPrototypeOf:A,StringPrototypeToLowerCase:N,Symbol:$,SymbolHasInstance:K}=E(43856);Be.exports=T,T.WritableState=g;const{EventEmitter:D}=E(44356),X=E(2649).Stream,{Buffer:V}=E(89565),Z=E(45078),{addAbortSignal:Q}=E(24785),{getHighWaterMark:te,getDefaultHighWaterMark:J}=E(31081),{ERR_INVALID_ARG_TYPE:q,ERR_METHOD_NOT_IMPLEMENTED:ne,ERR_MULTIPLE_CALLBACK:se,ERR_STREAM_CANNOT_PIPE:oe,ERR_STREAM_DESTROYED:ue,ERR_STREAM_ALREADY_FINISHED:ae,ERR_STREAM_NULL_VALUES:ve,ERR_STREAM_WRITE_AFTER_END:_e,ERR_UNKNOWN_ENCODING:De}=E(65109).codes,{errorOrDestroy:P}=Z;function u(){}A(T.prototype,X.prototype),A(T,X);const h=$("kOnFinished");function g(le,he,re){"boolean"!=typeof re&&(re=he instanceof E(97464)),this.objectMode=!(!le||!le.objectMode),re&&(this.objectMode=this.objectMode||!(!le||!le.writableObjectMode)),this.highWaterMark=le?te(this,le,"writableHighWaterMark",re):J(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(le&&!1===le.decodeStrings),this.defaultEncoding=le&&le.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,he),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,w(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!le||!1!==le.emitClose,this.autoDestroy=!le||!1!==le.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[h]=[]}function w(le){le.buffered=[],le.bufferedIndex=0,le.allBuffers=!0,le.allNoop=!0}function T(le){const he=this instanceof E(97464);if(!he&&!G(T,this))return new T(le);this._writableState=new g(le,this,he),le&&("function"==typeof le.write&&(this._write=le.write),"function"==typeof le.writev&&(this._writev=le.writev),"function"==typeof le.destroy&&(this._destroy=le.destroy),"function"==typeof le.final&&(this._final=le.final),"function"==typeof le.construct&&(this._construct=le.construct),le.signal&&Q(le.signal,this)),X.call(this,le),Z.construct(this,()=>{const re=this._writableState;re.writing||fe(this,re),be(this,re)})}function C(le,he,re,de){const pe=le._writableState;if("function"==typeof re)de=re,re=pe.defaultEncoding;else{if(re){if("buffer"!==re&&!V.isEncoding(re))throw new De(re)}else re=pe.defaultEncoding;"function"!=typeof de&&(de=u)}if(null===he)throw new ve;if(!pe.objectMode)if("string"==typeof he)!1!==pe.decodeStrings&&(he=V.from(he,re),re="buffer");else if(he instanceof V)re="buffer";else{if(!X._isUint8Array(he))throw new q("chunk",["string","Buffer","Uint8Array"],he);he=X._uint8ArrayToBuffer(he),re="buffer"}let Se;return pe.ending?Se=new _e:pe.destroyed&&(Se=new ue("write")),Se?(p.nextTick(de,Se),P(le,Se,!0),Se):(pe.pendingcb++,function j(le,he,re,de,pe){const Se=he.objectMode?1:re.length;he.length+=Se;const ke=he.length<he.highWaterMark;return ke||(he.needDrain=!0),he.writing||he.corked||he.errored||!he.constructed?(he.buffered.push({chunk:re,encoding:de,callback:pe}),he.allBuffers&&"buffer"!==de&&(he.allBuffers=!1),he.allNoop&&pe!==u&&(he.allNoop=!1)):(he.writelen=Se,he.writecb=pe,he.writing=!0,he.sync=!0,le._write(re,de,he.onwrite),he.sync=!1),ke&&!he.errored&&!he.destroyed}(le,pe,he,re,de))}function M(le,he,re,de,pe,Se,ke){he.writelen=de,he.writecb=ke,he.writing=!0,he.sync=!0,he.destroyed?he.onwrite(new ue("write")):re?le._writev(pe,he.onwrite):le._write(pe,Se,he.onwrite),he.sync=!1}function d(le,he,re,de){--he.pendingcb,de(re),ee(he),P(le,re)}function v(le,he){const re=le._writableState,de=re.sync,pe=re.writecb;"function"==typeof pe?(re.writing=!1,re.writecb=null,re.length-=re.writelen,re.writelen=0,he?(re.errored||(re.errored=he),le._readableState&&!le._readableState.errored&&(le._readableState.errored=he),de?p.nextTick(d,le,re,he,pe):d(le,re,he,pe)):(re.buffered.length>re.bufferedIndex&&fe(le,re),de?null!==re.afterWriteTickInfo&&re.afterWriteTickInfo.cb===pe?re.afterWriteTickInfo.count++:(re.afterWriteTickInfo={count:1,cb:pe,stream:le,state:re},p.nextTick(W,re.afterWriteTickInfo)):H(le,re,1,pe))):P(le,new se)}function W({stream:le,state:he,count:re,cb:de}){return he.afterWriteTickInfo=null,H(le,he,re,de)}function H(le,he,re,de){for(!he.ending&&!le.destroyed&&0===he.length&&he.needDrain&&(he.needDrain=!1,le.emit("drain"));re-- >0;)he.pendingcb--,de();he.destroyed&&ee(he),be(le,he)}function ee(le){if(le.writing)return;for(let pe=le.bufferedIndex;pe<le.buffered.length;++pe){var he;const{chunk:Se,callback:ke}=le.buffered[pe];le.length-=le.objectMode?1:Se.length,ke(null!==(he=le.errored)&&void 0!==he?he:new ue("write"))}const re=le[h].splice(0);for(let pe=0;pe<re.length;pe++){var de;re[pe](null!==(de=le.errored)&&void 0!==de?de:new ue("end"))}w(le)}function fe(le,he){if(he.corked||he.bufferProcessing||he.destroyed||!he.constructed)return;const{buffered:re,bufferedIndex:de,objectMode:pe}=he,Se=re.length-de;if(!Se)return;let ke=de;if(he.bufferProcessing=!0,Se>1&&le._writev){he.pendingcb-=Se-1;const Fe=he.allNoop?u:Tt=>{for(let Xe=ke;Xe<re.length;++Xe)re[Xe].callback(Tt)},We=he.allNoop&&0===ke?re:S(re,ke);We.allBuffers=he.allBuffers,M(le,he,!0,he.length,We,"",Fe),w(he)}else{do{const{chunk:Fe,encoding:We,callback:Tt}=re[ke];re[ke++]=null,M(le,he,!1,pe?1:Fe.length,Fe,We,Tt)}while(ke<re.length&&!he.writing);ke===re.length?w(he):ke>256?(re.splice(0,ke),he.bufferedIndex=0):he.bufferedIndex=ke}he.bufferProcessing=!1}function Ae(le){return le.ending&&!le.destroyed&&le.constructed&&0===le.length&&!le.errored&&0===le.buffered.length&&!le.finished&&!le.writing&&!le.errorEmitted&&!le.closeEmitted}function be(le,he,re){Ae(he)&&(function Le(le,he){!he.prefinished&&!he.finalCalled&&("function"!=typeof le._final||he.destroyed?(he.prefinished=!0,le.emit("prefinish")):(he.finalCalled=!0,function Pe(le,he){let re=!1;function de(pe){if(re)P(le,pe??se());else if(re=!0,he.pendingcb--,pe){const Se=he[h].splice(0);for(let ke=0;ke<Se.length;ke++)Se[ke](pe);P(le,pe,he.sync)}else Ae(he)&&(he.prefinished=!0,le.emit("prefinish"),he.pendingcb++,p.nextTick(ge,le,he))}he.sync=!0,he.pendingcb++;try{le._final(de)}catch(pe){de(pe)}he.sync=!1}(le,he)))}(le,he),0===he.pendingcb&&(re?(he.pendingcb++,p.nextTick((de,pe)=>{Ae(pe)?ge(de,pe):pe.pendingcb--},le,he)):Ae(he)&&(he.pendingcb++,ge(le,he))))}function ge(le,he){he.pendingcb--,he.finished=!0;const re=he[h].splice(0);for(let de=0;de<re.length;de++)re[de]();if(le.emit("finish"),he.autoDestroy){const de=le._readableState;(!de||de.autoDestroy&&(de.endEmitted||!1===de.readable))&&le.destroy()}}g.prototype.getBuffer=function(){return S(this.buffered,this.bufferedIndex)},x(g.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),x(T,K,{__proto__:null,value:function(le){return!!G(this,le)||this===T&&le&&le._writableState instanceof g}}),T.prototype.pipe=function(){P(this,new oe)},T.prototype.write=function(le,he,re){return!0===C(this,le,he,re)},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){const le=this._writableState;le.corked&&(le.corked--,le.writing||fe(this,le))},T.prototype.setDefaultEncoding=function(he){if("string"==typeof he&&(he=N(he)),!V.isEncoding(he))throw new De(he);return this._writableState.defaultEncoding=he,this},T.prototype._write=function(le,he,re){if(!this._writev)throw new ne("_write()");this._writev([{chunk:le,encoding:he}],re)},T.prototype._writev=null,T.prototype.end=function(le,he,re){const de=this._writableState;let pe;if("function"==typeof le?(re=le,le=null,he=null):"function"==typeof he&&(re=he,he=null),null!=le){const Se=C(this,le,he);Se instanceof O&&(pe=Se)}return de.corked&&(de.corked=1,this.uncork()),pe||(de.errored||de.ending?de.finished?pe=new ae("end"):de.destroyed&&(pe=new ue("end")):(de.ending=!0,be(this,de,!0),de.ended=!0)),"function"==typeof re&&(pe||de.finished?p.nextTick(re,pe):de[h].push(re)),this},B(T.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(le){this._writableState&&(this._writableState.destroyed=le)}},writable:{__proto__:null,get(){const le=this._writableState;return!(!le||!1===le.writable||le.destroyed||le.errored||le.ending||le.ended)},set(le){this._writableState&&(this._writableState.writable=!!le)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const le=this._writableState;return!!le&&!le.destroyed&&!le.ending&&le.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Re=Z.destroy;let me;function xe(){return void 0===me&&(me={}),me}T.prototype.destroy=function(le,he){const re=this._writableState;return!re.destroyed&&(re.bufferedIndex<re.buffered.length||re[h].length)&&p.nextTick(ee,re),Re.call(this,le,he),this},T.prototype._undestroy=Z.undestroy,T.prototype._destroy=function(le,he){he(le)},T.prototype[D.captureRejectionSymbol]=function(le){this.destroy(le)},T.fromWeb=function(le,he){return xe().newStreamWritableFromWritableStream(le,he)},T.toWeb=function(le){return xe().newWritableStreamFromStreamWritable(le)}},44323:(Be,z,E)=>{"use strict";const{ArrayIsArray:p,ArrayPrototypeIncludes:S,ArrayPrototypeJoin:O,ArrayPrototypeMap:G,NumberIsInteger:x,NumberIsNaN:B,NumberMAX_SAFE_INTEGER:A,NumberMIN_SAFE_INTEGER:N,NumberParseInt:$,ObjectPrototypeHasOwnProperty:K,RegExpPrototypeExec:D,String:X,StringPrototypeToUpperCase:V,StringPrototypeTrim:Z}=E(43856),{hideStackFrames:Q,codes:{ERR_SOCKET_BAD_PORT:te,ERR_INVALID_ARG_TYPE:J,ERR_INVALID_ARG_VALUE:q,ERR_OUT_OF_RANGE:ne,ERR_UNKNOWN_SIGNAL:se}}=E(65109),{normalizeEncoding:oe}=E(55830),{isAsyncFunction:ue,isArrayBufferView:ae}=E(55830).types,ve={},P=/^[0-7]+$/,g=Q((Se,ke,Fe=N,We=A)=>{if("number"!=typeof Se)throw new J(ke,"number",Se);if(!x(Se))throw new ne(ke,"an integer",Se);if(Se<Fe||Se>We)throw new ne(ke,`>= ${Fe} && <= ${We}`,Se)}),w=Q((Se,ke,Fe=-2147483648,We=2147483647)=>{if("number"!=typeof Se)throw new J(ke,"number",Se);if(!x(Se))throw new ne(ke,"an integer",Se);if(Se<Fe||Se>We)throw new ne(ke,`>= ${Fe} && <= ${We}`,Se)}),T=Q((Se,ke,Fe=!1)=>{if("number"!=typeof Se)throw new J(ke,"number",Se);if(!x(Se))throw new ne(ke,"an integer",Se);const We=Fe?1:0,Tt=4294967295;if(Se<We||Se>Tt)throw new ne(ke,`>= ${We} && <= ${Tt}`,Se)});function C(Se,ke){if("string"!=typeof Se)throw new J(ke,"string",Se)}const M=Q((Se,ke,Fe)=>{if(!S(Fe,Se)){const Tt="must be one of: "+O(G(Fe,Xe=>"string"==typeof Xe?`'${Xe}'`:X(Xe)),", ");throw new q(ke,Se,Tt)}});function d(Se,ke){if("boolean"!=typeof Se)throw new J(ke,"boolean",Se)}function v(Se,ke,Fe){return null!=Se&&K(Se,ke)?Se[ke]:Fe}const W=Q((Se,ke,Fe=null)=>{const We=v(Fe,"allowArray",!1),Tt=v(Fe,"allowFunction",!1);if(!v(Fe,"nullable",!1)&&null===Se||!We&&p(Se)||"object"!=typeof Se&&(!Tt||"function"!=typeof Se))throw new J(ke,"Object",Se)}),H=Q((Se,ke)=>{if(null!=Se&&"object"!=typeof Se&&"function"!=typeof Se)throw new J(ke,"a dictionary",Se)}),ee=Q((Se,ke,Fe=0)=>{if(!p(Se))throw new J(ke,"Array",Se);if(Se.length<Fe)throw new q(ke,Se,`must be longer than ${Fe}`)}),Le=Q((Se,ke="buffer")=>{if(!ae(Se))throw new J(ke,["Buffer","TypedArray","DataView"],Se)}),Re=Q((Se,ke)=>{if(void 0!==Se&&(null===Se||"object"!=typeof Se||!("aborted"in Se)))throw new J(ke,"AbortSignal",Se)}),me=Q((Se,ke)=>{if("function"!=typeof Se)throw new J(ke,"Function",Se)}),xe=Q((Se,ke)=>{if("function"!=typeof Se||ue(Se))throw new J(ke,"Function",Se)}),le=Q((Se,ke)=>{if(void 0!==Se)throw new J(ke,"undefined",Se)}),re=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function de(Se,ke){if(typeof Se>"u"||!D(re,Se))throw new q(ke,Se,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Be.exports={isInt32:function _e(Se){return Se===(0|Se)},isUint32:function De(Se){return Se===Se>>>0},parseFileMode:function h(Se,ke,Fe){if(typeof Se>"u"&&(Se=Fe),"string"==typeof Se){if(null===D(P,Se))throw new q(ke,Se,"must be a 32-bit unsigned integer or an octal string");Se=$(Se,8)}return T(Se,ke),Se},validateArray:ee,validateStringArray:function fe(Se,ke){ee(Se,ke);for(let Fe=0;Fe<Se.length;Fe++)C(Se[Fe],`${ke}[${Fe}]`)},validateBooleanArray:function Ae(Se,ke){ee(Se,ke);for(let Fe=0;Fe<Se.length;Fe++)d(Se[Fe],`${ke}[${Fe}]`)},validateBoolean:d,validateBuffer:Le,validateDictionary:H,validateEncoding:function be(Se,ke){const Fe=oe(ke),We=Se.length;if("hex"===Fe&&We%2!=0)throw new q("encoding",ke,`is invalid for data of length ${We}`)},validateFunction:me,validateInt32:w,validateInteger:g,validateNumber:function j(Se,ke,Fe=void 0,We){if("number"!=typeof Se)throw new J(ke,"number",Se);if(null!=Fe&&Se<Fe||null!=We&&Se>We||(null!=Fe||null!=We)&&B(Se))throw new ne(ke,`${null!=Fe?`>= ${Fe}`:""}${null!=Fe&&null!=We?" && ":""}${null!=We?`<= ${We}`:""}`,Se)},validateObject:W,validateOneOf:M,validatePlainFunction:xe,validatePort:function ge(Se,ke="Port",Fe=!0){if("number"!=typeof Se&&"string"!=typeof Se||"string"==typeof Se&&0===Z(Se).length||+Se!=+Se>>>0||Se>65535||0===Se&&!Fe)throw new te(ke,Se,Fe);return 0|Se},validateSignalName:function Pe(Se,ke="signal"){if(C(Se,ke),void 0===ve[Se])throw void 0!==ve[V(Se)]?new se(Se+" (signals must use all capital letters)"):new se(Se)},validateString:C,validateUint32:T,validateUndefined:le,validateUnion:function he(Se,ke,Fe){if(!S(Fe,Se))throw new J(ke,`('${O(Fe,"|")}')`,Se)},validateAbortSignal:Re,validateLinkHeaderValue:function pe(Se){if("string"==typeof Se)return de(Se,"hints"),Se;if(p(Se)){const ke=Se.length;let Fe="";if(0===ke)return Fe;for(let We=0;We<ke;We++){const Tt=Se[We];de(Tt,"hints"),Fe+=Tt,We!==ke-1&&(Fe+=", ")}return Fe}throw new q("hints",Se,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},95424:(Be,z,E)=>{"use strict";const p=E(3052),S=E(19905),O=p.Readable.destroy;Be.exports=p.Readable,Be.exports._uint8ArrayToBuffer=p._uint8ArrayToBuffer,Be.exports._isUint8Array=p._isUint8Array,Be.exports.isDisturbed=p.isDisturbed,Be.exports.isErrored=p.isErrored,Be.exports.isReadable=p.isReadable,Be.exports.Readable=p.Readable,Be.exports.Writable=p.Writable,Be.exports.Duplex=p.Duplex,Be.exports.Transform=p.Transform,Be.exports.PassThrough=p.PassThrough,Be.exports.addAbortSignal=p.addAbortSignal,Be.exports.finished=p.finished,Be.exports.destroy=p.destroy,Be.exports.destroy=O,Be.exports.pipeline=p.pipeline,Be.exports.compose=p.compose,Object.defineProperty(p,"promises",{configurable:!0,enumerable:!0,get:()=>S}),Be.exports.Stream=p.Stream,Be.exports.default=Be.exports},65109:(Be,z,E)=>{"use strict";const{format:p,inspect:S,AggregateError:O}=E(55830),G=globalThis.AggregateError||O,x=Symbol("kIsNodeError"),B=["string","function","number","object","Function","Object","boolean","bigint","symbol"],A=/^([A-Z][a-z0-9]*)+$/,$={};function K(J,q){if(!J)throw new $.ERR_INTERNAL_ASSERTION(q)}function D(J){let q="",ne=J.length;const se="-"===J[0]?1:0;for(;ne>=se+4;ne-=3)q=`_${J.slice(ne-3,ne)}${q}`;return`${J.slice(0,ne)}${q}`}function V(J,q,ne){ne||(ne=Error);class se extends ne{constructor(...ue){super(function X(J,q,ne){if("function"==typeof q)return K(q.length<=ne.length,`Code: ${J}; The provided arguments length (${ne.length}) does not match the required ones (${q.length}).`),q(...ne);const se=(q.match(/%[dfijoOs]/g)||[]).length;return K(se===ne.length,`Code: ${J}; The provided arguments length (${ne.length}) does not match the required ones (${se}).`),0===ne.length?q:p(q,...ne)}(J,q,ue))}toString(){return`${this.name} [${J}]: ${this.message}`}}Object.defineProperties(se.prototype,{name:{value:ne.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${J}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),se.prototype.code=J,se.prototype[x]=!0,$[J]=se}function Z(J){return Object.defineProperty(J,"name",{value:"__node_internal_"+J.name}),J}class te extends Error{constructor(q="The operation was aborted",ne=void 0){if(void 0!==ne&&"object"!=typeof ne)throw new $.ERR_INVALID_ARG_TYPE("options","Object",ne);super(q,ne),this.code="ABORT_ERR",this.name="AbortError"}}V("ERR_ASSERTION","%s",Error),V("ERR_INVALID_ARG_TYPE",(J,q,ne)=>{K("string"==typeof J,"'name' must be a string"),Array.isArray(q)||(q=[q]);let se="The ";J.endsWith(" argument")?se+=`${J} `:se+=`"${J}" ${J.includes(".")?"property":"argument"} `,se+="must be ";const oe=[],ue=[],ae=[];for(const _e of q)K("string"==typeof _e,"All expected entries have to be of type string"),B.includes(_e)?oe.push(_e.toLowerCase()):A.test(_e)?ue.push(_e):(K("object"!==_e,'The value "object" should be written as "Object"'),ae.push(_e));if(ue.length>0){const _e=oe.indexOf("object");-1!==_e&&(oe.splice(oe,_e,1),ue.push("Object"))}if(oe.length>0){switch(oe.length){case 1:se+=`of type ${oe[0]}`;break;case 2:se+=`one of type ${oe[0]} or ${oe[1]}`;break;default:{const _e=oe.pop();se+=`one of type ${oe.join(", ")}, or ${_e}`}}(ue.length>0||ae.length>0)&&(se+=" or ")}if(ue.length>0){switch(ue.length){case 1:se+=`an instance of ${ue[0]}`;break;case 2:se+=`an instance of ${ue[0]} or ${ue[1]}`;break;default:{const _e=ue.pop();se+=`an instance of ${ue.join(", ")}, or ${_e}`}}ae.length>0&&(se+=" or ")}switch(ae.length){case 0:break;case 1:ae[0].toLowerCase()!==ae[0]&&(se+="an "),se+=`${ae[0]}`;break;case 2:se+=`one of ${ae[0]} or ${ae[1]}`;break;default:{const _e=ae.pop();se+=`one of ${ae.join(", ")}, or ${_e}`}}if(null==ne)se+=`. Received ${ne}`;else if("function"==typeof ne&&ne.name)se+=`. Received function ${ne.name}`;else if("object"==typeof ne){var ve;null!==(ve=ne.constructor)&&void 0!==ve&&ve.name?se+=`. Received an instance of ${ne.constructor.name}`:se+=`. Received ${S(ne,{depth:-1})}`}else{let _e=S(ne,{colors:!1});_e.length>25&&(_e=`${_e.slice(0,25)}...`),se+=`. Received type ${typeof ne} (${_e})`}return se},TypeError),V("ERR_INVALID_ARG_VALUE",(J,q,ne="is invalid")=>{let se=S(q);return se.length>128&&(se=se.slice(0,128)+"..."),`The ${J.includes(".")?"property":"argument"} '${J}' ${ne}. Received ${se}`},TypeError),V("ERR_INVALID_RETURN_VALUE",(J,q,ne)=>{var se;return`Expected ${J} to be returned from the "${q}" function but got ${null!=ne&&null!==(se=ne.constructor)&&void 0!==se&&se.name?`instance of ${ne.constructor.name}`:"type "+typeof ne}.`},TypeError),V("ERR_MISSING_ARGS",(...J)=>{let q;K(J.length>0,"At least one arg needs to be specified");const ne=J.length;switch(J=(Array.isArray(J)?J:[J]).map(se=>`"${se}"`).join(" or "),ne){case 1:q+=`The ${J[0]} argument`;break;case 2:q+=`The ${J[0]} and ${J[1]} arguments`;break;default:{const se=J.pop();q+=`The ${J.join(", ")}, and ${se} arguments`}}return`${q} must be specified`},TypeError),V("ERR_OUT_OF_RANGE",(J,q,ne)=>{let se;return K(q,'Missing "range" argument'),Number.isInteger(ne)&&Math.abs(ne)>2**32?se=D(String(ne)):"bigint"==typeof ne?(se=String(ne),(ne>2n**32n||ne<-(2n**32n))&&(se=D(se)),se+="n"):se=S(ne),`The value of "${J}" is out of range. It must be ${q}. Received ${se}`},RangeError),V("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),V("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),V("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),V("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),V("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),V("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),V("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),V("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),V("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),V("ERR_STREAM_WRITE_AFTER_END","write after end",Error),V("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Be.exports={AbortError:te,aggregateTwoErrors:Z(function Q(J,q){if(J&&q&&J!==q){if(Array.isArray(q.errors))return q.errors.push(J),q;const ne=new G([q,J],q.message);return ne.code=q.code,ne}return J||q}),hideStackFrames:Z,codes:$}},43856:Be=>{"use strict";Be.exports={ArrayIsArray:z=>Array.isArray(z),ArrayPrototypeIncludes:(z,E)=>z.includes(E),ArrayPrototypeIndexOf:(z,E)=>z.indexOf(E),ArrayPrototypeJoin:(z,E)=>z.join(E),ArrayPrototypeMap:(z,E)=>z.map(E),ArrayPrototypePop:(z,E)=>z.pop(E),ArrayPrototypePush:(z,E)=>z.push(E),ArrayPrototypeSlice:(z,E,p)=>z.slice(E,p),Error,FunctionPrototypeCall:(z,E,...p)=>z.call(E,...p),FunctionPrototypeSymbolHasInstance:(z,E)=>Function.prototype[Symbol.hasInstance].call(z,E),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(z,E)=>Object.defineProperties(z,E),ObjectDefineProperty:(z,E,p)=>Object.defineProperty(z,E,p),ObjectGetOwnPropertyDescriptor:(z,E)=>Object.getOwnPropertyDescriptor(z,E),ObjectKeys:z=>Object.keys(z),ObjectSetPrototypeOf:(z,E)=>Object.setPrototypeOf(z,E),Promise,PromisePrototypeCatch:(z,E)=>z.catch(E),PromisePrototypeThen:(z,E,p)=>z.then(E,p),PromiseReject:z=>Promise.reject(z),ReflectApply:Reflect.apply,RegExpPrototypeTest:(z,E)=>z.test(E),SafeSet:Set,String,StringPrototypeSlice:(z,E,p)=>z.slice(E,p),StringPrototypeToLowerCase:z=>z.toLowerCase(),StringPrototypeToUpperCase:z=>z.toUpperCase(),StringPrototypeTrim:z=>z.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(z,E,p)=>z.set(E,p),Uint8Array}},55830:(Be,z,E)=>{"use strict";var p=E(29293).default;const S=E(89565),O=Object.getPrototypeOf(p(function*(){})).constructor,G=globalThis.Blob||S.Blob,x=typeof G<"u"?function(N){return N instanceof G}:function(N){return!1};class B extends Error{constructor(N){if(!Array.isArray(N))throw new TypeError("Expected input to be an Array, got "+typeof N);let $="";for(let K=0;K<N.length;K++)$+=`    ${N[K].stack}\n`;super($),this.name="AggregateError",this.errors=N}}Be.exports={AggregateError:B,kEmptyObject:Object.freeze({}),once(A){let N=!1;return function(...$){N||(N=!0,A.apply(this,$))}},createDeferredPromise:function(){let A,N;return{promise:new Promise((K,D)=>{A=K,N=D}),resolve:A,reject:N}},promisify:A=>new Promise((N,$)=>{A((K,...D)=>K?$(K):N(...D))}),debuglog:()=>function(){},format:(A,...N)=>A.replace(/%([sdifj])/g,function(...[$,K]){const D=N.shift();return"f"===K?D.toFixed(6):"j"===K?JSON.stringify(D):"s"===K&&"object"==typeof D?`${D.constructor!==Object?D.constructor.name:""} {}`.trim():D.toString()}),inspect(A){switch(typeof A){case"string":if(A.includes("'")){if(!A.includes('"'))return`"${A}"`;if(!A.includes("`")&&!A.includes("${"))return`\`${A}\``}return`'${A}'`;case"number":return isNaN(A)?"NaN":Object.is(A,-0)?String(A):A;case"bigint":return`${String(A)}n`;case"boolean":case"undefined":return String(A);case"object":return"{}"}},types:{isAsyncFunction:A=>A instanceof O,isArrayBufferView:A=>ArrayBuffer.isView(A)},isBlob:x},Be.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},3052:(Be,z,E)=>{const{Buffer:p}=E(89565),{ObjectDefineProperty:S,ObjectKeys:O,ReflectApply:G}=E(43856),{promisify:{custom:x}}=E(55830),{streamReturningOperators:B,promiseReturningOperators:A}=E(37325),{codes:{ERR_ILLEGAL_CONSTRUCTOR:N}}=E(65109),$=E(5464),{pipeline:K}=E(96208),{destroyer:D}=E(45078),X=E(44268),Z=E(19905),Q=E(51233),te=Be.exports=E(2649).Stream;te.isDisturbed=Q.isDisturbed,te.isErrored=Q.isErrored,te.isReadable=Q.isReadable,te.Readable=E(29710);for(const ne of O(B)){let oe=function(...ue){if(new.target)throw N();return te.Readable.from(G(se,this,ue))};const se=B[ne];S(oe,"name",{__proto__:null,value:se.name}),S(oe,"length",{__proto__:null,value:se.length}),S(te.Readable.prototype,ne,{__proto__:null,value:oe,enumerable:!1,configurable:!0,writable:!0})}for(const ne of O(A)){let oe=function(...ae){if(new.target)throw N();return G(se,this,ae)};const se=A[ne];S(oe,"name",{__proto__:null,value:se.name}),S(oe,"length",{__proto__:null,value:se.length}),S(te.Readable.prototype,ne,{__proto__:null,value:oe,enumerable:!1,configurable:!0,writable:!0})}te.Writable=E(40258),te.Duplex=E(97464),te.Transform=E(66344),te.PassThrough=E(70874),te.pipeline=K;const{addAbortSignal:J}=E(24785);te.addAbortSignal=J,te.finished=X,te.destroy=D,te.compose=$,S(te,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>Z}),S(K,x,{__proto__:null,enumerable:!0,get:()=>Z.pipeline}),S(X,x,{__proto__:null,enumerable:!0,get:()=>Z.finished}),te.Stream=te,te._isUint8Array=function(se){return se instanceof Uint8Array},te._uint8ArrayToBuffer=function(se){return p.from(se.buffer,se.byteOffset,se.byteLength)}},19905:(Be,z,E)=>{"use strict";const{ArrayPrototypePop:p,Promise:S}=E(43856),{isIterable:O,isNodeStream:G,isWebStream:x}=E(51233),{pipelineImpl:B}=E(96208),{finished:A}=E(44268);E(3052),Be.exports={finished:A,pipeline:function N(...$){return new S((K,D)=>{let X,V;const Z=$[$.length-1];if(Z&&"object"==typeof Z&&!G(Z)&&!O(Z)&&!x(Z)){const Q=p($);X=Q.signal,V=Q.end}B($,(Q,te)=>{Q?D(Q):K(te)},{signal:X,end:V})})}}},37945:(Be,z,E)=>{"use strict";const p=E(13981),S=E(22020),O="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=A,z.SlowBuffer=function q(U){return+U!=U&&(U=0),A.alloc(+U)},z.INSPECT_MAX_BYTES=50;const G=2147483647;function B(U){if(U>G)throw new RangeError('The value "'+U+'" is invalid for option "size"');const _=new Uint8Array(U);return Object.setPrototypeOf(_,A.prototype),_}function A(U,_,m){if("number"==typeof U){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return D(U)}return N(U,_,m)}function N(U,_,m){if("string"==typeof U)return function X(U,_){if(("string"!=typeof _||""===_)&&(_="utf8"),!A.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const m=0|ne(U,_);let F=B(m);const ie=F.write(U,_);return ie!==m&&(F=F.slice(0,ie)),F}(U,_);if(ArrayBuffer.isView(U))return function Z(U){if(We(U,Uint8Array)){const _=new Uint8Array(U);return Q(_.buffer,_.byteOffset,_.byteLength)}return V(U)}(U);if(null==U)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(We(U,ArrayBuffer)||U&&We(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(We(U,SharedArrayBuffer)||U&&We(U.buffer,SharedArrayBuffer)))return Q(U,_,m);if("number"==typeof U)throw new TypeError('The "value" argument must not be of type number. Received type number');const F=U.valueOf&&U.valueOf();if(null!=F&&F!==U)return A.from(F,_,m);const ie=function te(U){if(A.isBuffer(U)){const _=0|J(U.length),m=B(_);return 0===m.length||U.copy(m,0,0,_),m}return void 0!==U.length?"number"!=typeof U.length||Tt(U.length)?B(0):V(U):"Buffer"===U.type&&Array.isArray(U.data)?V(U.data):void 0}(U);if(ie)return ie;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof U[Symbol.toPrimitive])return A.from(U[Symbol.toPrimitive]("string"),_,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function $(U){if("number"!=typeof U)throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function D(U){return $(U),B(U<0?0:0|J(U))}function V(U){const _=U.length<0?0:0|J(U.length),m=B(_);for(let F=0;F<_;F+=1)m[F]=255&U[F];return m}function Q(U,_,m){if(_<0||U.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<_+(m||0))throw new RangeError('"length" is outside of buffer bounds');let F;return F=void 0===_&&void 0===m?new Uint8Array(U):void 0===m?new Uint8Array(U,_):new Uint8Array(U,_,m),Object.setPrototypeOf(F,A.prototype),F}function J(U){if(U>=G)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+G.toString(16)+" bytes");return 0|U}function ne(U,_){if(A.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||We(U,ArrayBuffer))return U.byteLength;if("string"!=typeof U)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const m=U.length,F=arguments.length>2&&!0===arguments[2];if(!F&&0===m)return 0;let ie=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return de(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return ke(U).length;default:if(ie)return F?-1:de(U).length;_=(""+_).toLowerCase(),ie=!0}}function se(U,_,m){let F=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(_>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return M(this,_,m);case"utf8":case"utf-8":return g(this,_,m);case"ascii":return C(this,_,m);case"latin1":case"binary":return j(this,_,m);case"base64":return h(this,_,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,_,m);default:if(F)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),F=!0}}function oe(U,_,m){const F=U[_];U[_]=U[m],U[m]=F}function ue(U,_,m,F,ie){if(0===U.length)return-1;if("string"==typeof m?(F=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),Tt(m=+m)&&(m=ie?0:U.length-1),m<0&&(m=U.length+m),m>=U.length){if(ie)return-1;m=U.length-1}else if(m<0){if(!ie)return-1;m=0}if("string"==typeof _&&(_=A.from(_,F)),A.isBuffer(_))return 0===_.length?-1:ae(U,_,m,F,ie);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?ie?Uint8Array.prototype.indexOf.call(U,_,m):Uint8Array.prototype.lastIndexOf.call(U,_,m):ae(U,[_],m,F,ie);throw new TypeError("val must be string, number or Buffer")}function ae(U,_,m,F,ie){let pt,we=1,Ie=U.length,Qe=_.length;if(void 0!==F&&("ucs2"===(F=String(F).toLowerCase())||"ucs-2"===F||"utf16le"===F||"utf-16le"===F)){if(U.length<2||_.length<2)return-1;we=2,Ie/=2,Qe/=2,m/=2}function kt(Et,Lt){return 1===we?Et[Lt]:Et.readUInt16BE(Lt*we)}if(ie){let Et=-1;for(pt=m;pt<Ie;pt++)if(kt(U,pt)===kt(_,-1===Et?0:pt-Et)){if(-1===Et&&(Et=pt),pt-Et+1===Qe)return Et*we}else-1!==Et&&(pt-=pt-Et),Et=-1}else for(m+Qe>Ie&&(m=Ie-Qe),pt=m;pt>=0;pt--){let Et=!0;for(let Lt=0;Lt<Qe;Lt++)if(kt(U,pt+Lt)!==kt(_,Lt)){Et=!1;break}if(Et)return pt}return-1}function ve(U,_,m,F){m=Number(m)||0;const ie=U.length-m;F?(F=Number(F))>ie&&(F=ie):F=ie;const we=_.length;let Ie;for(F>we/2&&(F=we/2),Ie=0;Ie<F;++Ie){const Qe=parseInt(_.substr(2*Ie,2),16);if(Tt(Qe))return Ie;U[m+Ie]=Qe}return Ie}function _e(U,_,m,F){return Fe(de(_,U.length-m),U,m,F)}function De(U,_,m,F){return Fe(function pe(U){const _=[];for(let m=0;m<U.length;++m)_.push(255&U.charCodeAt(m));return _}(_),U,m,F)}function P(U,_,m,F){return Fe(ke(_),U,m,F)}function u(U,_,m,F){return Fe(function Se(U,_){let m,F,ie;const we=[];for(let Ie=0;Ie<U.length&&!((_-=2)<0);++Ie)m=U.charCodeAt(Ie),F=m>>8,ie=m%256,we.push(ie),we.push(F);return we}(_,U.length-m),U,m,F)}function h(U,_,m){return p.fromByteArray(0===_&&m===U.length?U:U.slice(_,m))}function g(U,_,m){m=Math.min(U.length,m);const F=[];let ie=_;for(;ie<m;){const we=U[ie];let Ie=null,Qe=we>239?4:we>223?3:we>191?2:1;if(ie+Qe<=m){let kt,pt,Et,Lt;switch(Qe){case 1:we<128&&(Ie=we);break;case 2:kt=U[ie+1],128==(192&kt)&&(Lt=(31&we)<<6|63&kt,Lt>127&&(Ie=Lt));break;case 3:kt=U[ie+1],pt=U[ie+2],128==(192&kt)&&128==(192&pt)&&(Lt=(15&we)<<12|(63&kt)<<6|63&pt,Lt>2047&&(Lt<55296||Lt>57343)&&(Ie=Lt));break;case 4:kt=U[ie+1],pt=U[ie+2],Et=U[ie+3],128==(192&kt)&&128==(192&pt)&&128==(192&Et)&&(Lt=(15&we)<<18|(63&kt)<<12|(63&pt)<<6|63&Et,Lt>65535&&Lt<1114112&&(Ie=Lt))}}null===Ie?(Ie=65533,Qe=1):Ie>65535&&(Ie-=65536,F.push(Ie>>>10&1023|55296),Ie=56320|1023&Ie),F.push(Ie),ie+=Qe}return function T(U){const _=U.length;if(_<=w)return String.fromCharCode.apply(String,U);let m="",F=0;for(;F<_;)m+=String.fromCharCode.apply(String,U.slice(F,F+=w));return m}(F)}z.kMaxLength=G,!(A.TYPED_ARRAY_SUPPORT=function x(){try{const U=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(U,_),42===U.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(U,_,m){return N(U,_,m)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(U,_,m){return function K(U,_,m){return $(U),U<=0?B(U):void 0!==_?"string"==typeof m?B(U).fill(_,m):B(U).fill(_):B(U)}(U,_,m)},A.allocUnsafe=function(U){return D(U)},A.allocUnsafeSlow=function(U){return D(U)},A.isBuffer=function(_){return null!=_&&!0===_._isBuffer&&_!==A.prototype},A.compare=function(_,m){if(We(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),We(m,Uint8Array)&&(m=A.from(m,m.offset,m.byteLength)),!A.isBuffer(_)||!A.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===m)return 0;let F=_.length,ie=m.length;for(let we=0,Ie=Math.min(F,ie);we<Ie;++we)if(_[we]!==m[we]){F=_[we],ie=m[we];break}return F<ie?-1:ie<F?1:0},A.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(_,m){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_.length)return A.alloc(0);let F;if(void 0===m)for(m=0,F=0;F<_.length;++F)m+=_[F].length;const ie=A.allocUnsafe(m);let we=0;for(F=0;F<_.length;++F){let Ie=_[F];if(We(Ie,Uint8Array))we+Ie.length>ie.length?(A.isBuffer(Ie)||(Ie=A.from(Ie)),Ie.copy(ie,we)):Uint8Array.prototype.set.call(ie,Ie,we);else{if(!A.isBuffer(Ie))throw new TypeError('"list" argument must be an Array of Buffers');Ie.copy(ie,we)}we+=Ie.length}return ie},A.byteLength=ne,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<_;m+=2)oe(this,m,m+1);return this},A.prototype.swap32=function(){const _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<_;m+=4)oe(this,m,m+3),oe(this,m+1,m+2);return this},A.prototype.swap64=function(){const _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<_;m+=8)oe(this,m,m+7),oe(this,m+1,m+6),oe(this,m+2,m+5),oe(this,m+3,m+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const _=this.length;return 0===_?"":0===arguments.length?g(this,0,_):se.apply(this,arguments)},A.prototype.equals=function(_){if(!A.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||0===A.compare(this,_)},A.prototype.inspect=function(){let _="";const m=z.INSPECT_MAX_BYTES;return _=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(_+=" ... "),"<Buffer "+_+">"},O&&(A.prototype[O]=A.prototype.inspect),A.prototype.compare=function(_,m,F,ie,we){if(We(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),!A.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(void 0===m&&(m=0),void 0===F&&(F=_?_.length:0),void 0===ie&&(ie=0),void 0===we&&(we=this.length),m<0||F>_.length||ie<0||we>this.length)throw new RangeError("out of range index");if(ie>=we&&m>=F)return 0;if(ie>=we)return-1;if(m>=F)return 1;if(this===_)return 0;let Ie=(we>>>=0)-(ie>>>=0),Qe=(F>>>=0)-(m>>>=0);const kt=Math.min(Ie,Qe),pt=this.slice(ie,we),Et=_.slice(m,F);for(let Lt=0;Lt<kt;++Lt)if(pt[Lt]!==Et[Lt]){Ie=pt[Lt],Qe=Et[Lt];break}return Ie<Qe?-1:Qe<Ie?1:0},A.prototype.includes=function(_,m,F){return-1!==this.indexOf(_,m,F)},A.prototype.indexOf=function(_,m,F){return ue(this,_,m,F,!0)},A.prototype.lastIndexOf=function(_,m,F){return ue(this,_,m,F,!1)},A.prototype.write=function(_,m,F,ie){if(void 0===m)ie="utf8",F=this.length,m=0;else if(void 0===F&&"string"==typeof m)ie=m,F=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(F)?(F>>>=0,void 0===ie&&(ie="utf8")):(ie=F,F=void 0)}const we=this.length-m;if((void 0===F||F>we)&&(F=we),_.length>0&&(F<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let Ie=!1;for(;;)switch(ie){case"hex":return ve(this,_,m,F);case"utf8":case"utf-8":return _e(this,_,m,F);case"ascii":case"latin1":case"binary":return De(this,_,m,F);case"base64":return P(this,_,m,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,_,m,F);default:if(Ie)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),Ie=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const w=4096;function C(U,_,m){let F="";m=Math.min(U.length,m);for(let ie=_;ie<m;++ie)F+=String.fromCharCode(127&U[ie]);return F}function j(U,_,m){let F="";m=Math.min(U.length,m);for(let ie=_;ie<m;++ie)F+=String.fromCharCode(U[ie]);return F}function M(U,_,m){const F=U.length;(!_||_<0)&&(_=0),(!m||m<0||m>F)&&(m=F);let ie="";for(let we=_;we<m;++we)ie+=Xe[U[we]];return ie}function d(U,_,m){const F=U.slice(_,m);let ie="";for(let we=0;we<F.length-1;we+=2)ie+=String.fromCharCode(F[we]+256*F[we+1]);return ie}function v(U,_,m){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+_>m)throw new RangeError("Trying to access beyond buffer length")}function W(U,_,m,F,ie,we){if(!A.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>ie||_<we)throw new RangeError('"value" argument is out of bounds');if(m+F>U.length)throw new RangeError("Index out of range")}function H(U,_,m,F,ie){me(_,F,ie,U,m,7);let we=Number(_&BigInt(4294967295));U[m++]=we,we>>=8,U[m++]=we,we>>=8,U[m++]=we,we>>=8,U[m++]=we;let Ie=Number(_>>BigInt(32)&BigInt(4294967295));return U[m++]=Ie,Ie>>=8,U[m++]=Ie,Ie>>=8,U[m++]=Ie,Ie>>=8,U[m++]=Ie,m}function ee(U,_,m,F,ie){me(_,F,ie,U,m,7);let we=Number(_&BigInt(4294967295));U[m+7]=we,we>>=8,U[m+6]=we,we>>=8,U[m+5]=we,we>>=8,U[m+4]=we;let Ie=Number(_>>BigInt(32)&BigInt(4294967295));return U[m+3]=Ie,Ie>>=8,U[m+2]=Ie,Ie>>=8,U[m+1]=Ie,Ie>>=8,U[m]=Ie,m+8}function fe(U,_,m,F,ie,we){if(m+F>U.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function Ae(U,_,m,F,ie){return _=+_,m>>>=0,ie||fe(U,0,m,4),S.write(U,_,m,F,23,4),m+4}function Pe(U,_,m,F,ie){return _=+_,m>>>=0,ie||fe(U,0,m,8),S.write(U,_,m,F,52,8),m+8}A.prototype.slice=function(_,m){const F=this.length;(_=~~_)<0?(_+=F)<0&&(_=0):_>F&&(_=F),(m=void 0===m?F:~~m)<0?(m+=F)<0&&(m=0):m>F&&(m=F),m<_&&(m=_);const ie=this.subarray(_,m);return Object.setPrototypeOf(ie,A.prototype),ie},A.prototype.readUintLE=A.prototype.readUIntLE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=this[_],we=1,Ie=0;for(;++Ie<m&&(we*=256);)ie+=this[_+Ie]*we;return ie},A.prototype.readUintBE=A.prototype.readUIntBE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=this[_+--m],we=1;for(;m>0&&(we*=256);)ie+=this[_+--m]*we;return ie},A.prototype.readUint8=A.prototype.readUInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),this[_]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]|this[_+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]<<8|this[_+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},A.prototype.readBigUInt64LE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];(void 0===m||void 0===F)&&le(_,this.length-8);const ie=m+256*this[++_]+65536*this[++_]+this[++_]*2**24,we=this[++_]+256*this[++_]+65536*this[++_]+F*2**24;return BigInt(ie)+(BigInt(we)<<BigInt(32))}),A.prototype.readBigUInt64BE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];(void 0===m||void 0===F)&&le(_,this.length-8);const ie=m*2**24+65536*this[++_]+256*this[++_]+this[++_],we=this[++_]*2**24+65536*this[++_]+256*this[++_]+F;return(BigInt(ie)<<BigInt(32))+BigInt(we)}),A.prototype.readIntLE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=this[_],we=1,Ie=0;for(;++Ie<m&&(we*=256);)ie+=this[_+Ie]*we;return we*=128,ie>=we&&(ie-=Math.pow(2,8*m)),ie},A.prototype.readIntBE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=m,we=1,Ie=this[_+--ie];for(;ie>0&&(we*=256);)Ie+=this[_+--ie]*we;return we*=128,Ie>=we&&(Ie-=Math.pow(2,8*m)),Ie},A.prototype.readInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},A.prototype.readInt16LE=function(_,m){_>>>=0,m||v(_,2,this.length);const F=this[_]|this[_+1]<<8;return 32768&F?4294901760|F:F},A.prototype.readInt16BE=function(_,m){_>>>=0,m||v(_,2,this.length);const F=this[_+1]|this[_]<<8;return 32768&F?4294901760|F:F},A.prototype.readInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},A.prototype.readInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},A.prototype.readBigInt64LE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];return(void 0===m||void 0===F)&&le(_,this.length-8),(BigInt(this[_+4]+256*this[_+5]+65536*this[_+6]+(F<<24))<<BigInt(32))+BigInt(m+256*this[++_]+65536*this[++_]+this[++_]*2**24)}),A.prototype.readBigInt64BE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];(void 0===m||void 0===F)&&le(_,this.length-8);const ie=(m<<24)+65536*this[++_]+256*this[++_]+this[++_];return(BigInt(ie)<<BigInt(32))+BigInt(this[++_]*2**24+65536*this[++_]+256*this[++_]+F)}),A.prototype.readFloatLE=function(_,m){return _>>>=0,m||v(_,4,this.length),S.read(this,_,!0,23,4)},A.prototype.readFloatBE=function(_,m){return _>>>=0,m||v(_,4,this.length),S.read(this,_,!1,23,4)},A.prototype.readDoubleLE=function(_,m){return _>>>=0,m||v(_,8,this.length),S.read(this,_,!0,52,8)},A.prototype.readDoubleBE=function(_,m){return _>>>=0,m||v(_,8,this.length),S.read(this,_,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(_,m,F,ie){_=+_,m>>>=0,F>>>=0,ie||W(this,_,m,F,Math.pow(2,8*F)-1,0);let we=1,Ie=0;for(this[m]=255&_;++Ie<F&&(we*=256);)this[m+Ie]=_/we&255;return m+F},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(_,m,F,ie){_=+_,m>>>=0,F>>>=0,ie||W(this,_,m,F,Math.pow(2,8*F)-1,0);let we=F-1,Ie=1;for(this[m+we]=255&_;--we>=0&&(Ie*=256);)this[m+we]=_/Ie&255;return m+F},A.prototype.writeUint8=A.prototype.writeUInt8=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,1,255,0),this[m]=255&_,m+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,65535,0),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,65535,0),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,4294967295,0),this[m+3]=_>>>24,this[m+2]=_>>>16,this[m+1]=_>>>8,this[m]=255&_,m+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,4294967295,0),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigUInt64LE=Ke(function(_,m=0){return H(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Ke(function(_,m=0){return ee(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(_,m,F,ie){if(_=+_,m>>>=0,!ie){const kt=Math.pow(2,8*F-1);W(this,_,m,F,kt-1,-kt)}let we=0,Ie=1,Qe=0;for(this[m]=255&_;++we<F&&(Ie*=256);)_<0&&0===Qe&&0!==this[m+we-1]&&(Qe=1),this[m+we]=(_/Ie|0)-Qe&255;return m+F},A.prototype.writeIntBE=function(_,m,F,ie){if(_=+_,m>>>=0,!ie){const kt=Math.pow(2,8*F-1);W(this,_,m,F,kt-1,-kt)}let we=F-1,Ie=1,Qe=0;for(this[m+we]=255&_;--we>=0&&(Ie*=256);)_<0&&0===Qe&&0!==this[m+we+1]&&(Qe=1),this[m+we]=(_/Ie|0)-Qe&255;return m+F},A.prototype.writeInt8=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,1,127,-128),_<0&&(_=255+_+1),this[m]=255&_,m+1},A.prototype.writeInt16LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,32767,-32768),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeInt16BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,32767,-32768),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeInt32LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,2147483647,-2147483648),this[m]=255&_,this[m+1]=_>>>8,this[m+2]=_>>>16,this[m+3]=_>>>24,m+4},A.prototype.writeInt32BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigInt64LE=Ke(function(_,m=0){return H(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Ke(function(_,m=0){return ee(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(_,m,F){return Ae(this,_,m,!0,F)},A.prototype.writeFloatBE=function(_,m,F){return Ae(this,_,m,!1,F)},A.prototype.writeDoubleLE=function(_,m,F){return Pe(this,_,m,!0,F)},A.prototype.writeDoubleBE=function(_,m,F){return Pe(this,_,m,!1,F)},A.prototype.copy=function(_,m,F,ie){if(!A.isBuffer(_))throw new TypeError("argument should be a Buffer");if(F||(F=0),!ie&&0!==ie&&(ie=this.length),m>=_.length&&(m=_.length),m||(m=0),ie>0&&ie<F&&(ie=F),ie===F||0===_.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),_.length-m<ie-F&&(ie=_.length-m+F);const we=ie-F;return this===_&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,F,ie):Uint8Array.prototype.set.call(_,this.subarray(F,ie),m),we},A.prototype.fill=function(_,m,F,ie){if("string"==typeof _){if("string"==typeof m?(ie=m,m=0,F=this.length):"string"==typeof F&&(ie=F,F=this.length),void 0!==ie&&"string"!=typeof ie)throw new TypeError("encoding must be a string");if("string"==typeof ie&&!A.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(1===_.length){const Ie=_.charCodeAt(0);("utf8"===ie&&Ie<128||"latin1"===ie)&&(_=Ie)}}else"number"==typeof _?_&=255:"boolean"==typeof _&&(_=Number(_));if(m<0||this.length<m||this.length<F)throw new RangeError("Out of range index");if(F<=m)return this;let we;if(m>>>=0,F=void 0===F?this.length:F>>>0,_||(_=0),"number"==typeof _)for(we=m;we<F;++we)this[we]=_;else{const Ie=A.isBuffer(_)?_:A.from(_,ie),Qe=Ie.length;if(0===Qe)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(we=0;we<F-m;++we)this[we+m]=Ie[we%Qe]}return this};const Le={};function be(U,_,m){Le[U]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,delete this.name}get code(){return U}set code(ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ie,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}function ge(U){let _="",m=U.length;const F="-"===U[0]?1:0;for(;m>=F+4;m-=3)_=`_${U.slice(m-3,m)}${_}`;return`${U.slice(0,m)}${_}`}function me(U,_,m,F,ie,we){if(U>m||U<_){const Ie="bigint"==typeof _?"n":"";let Qe;throw Qe=we>3?0===_||_===BigInt(0)?`>= 0${Ie} and < 2${Ie} ** ${8*(we+1)}${Ie}`:`>= -(2${Ie} ** ${8*(we+1)-1}${Ie}) and < 2 ** ${8*(we+1)-1}${Ie}`:`>= ${_}${Ie} and <= ${m}${Ie}`,new Le.ERR_OUT_OF_RANGE("value",Qe,U)}!function Re(U,_,m){xe(_,"offset"),(void 0===U[_]||void 0===U[_+m])&&le(_,U.length-(m+1))}(F,ie,we)}function xe(U,_){if("number"!=typeof U)throw new Le.ERR_INVALID_ARG_TYPE(_,"number",U)}function le(U,_,m){throw Math.floor(U)!==U?(xe(U,m),new Le.ERR_OUT_OF_RANGE(m||"offset","an integer",U)):_<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${_}`,U)}be("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),be("ERR_INVALID_ARG_TYPE",function(U,_){return`The "${U}" argument must be of type number. Received type ${typeof _}`},TypeError),be("ERR_OUT_OF_RANGE",function(U,_,m){let F=`The value of "${U}" is out of range.`,ie=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ie=ge(String(m)):"bigint"==typeof m&&(ie=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ie=ge(ie)),ie+="n"),F+=` It must be ${_}. Received ${ie}`,F},RangeError);const he=/[^+/0-9A-Za-z-_]/g;function de(U,_){let m;_=_||1/0;const F=U.length;let ie=null;const we=[];for(let Ie=0;Ie<F;++Ie){if(m=U.charCodeAt(Ie),m>55295&&m<57344){if(!ie){if(m>56319){(_-=3)>-1&&we.push(239,191,189);continue}if(Ie+1===F){(_-=3)>-1&&we.push(239,191,189);continue}ie=m;continue}if(m<56320){(_-=3)>-1&&we.push(239,191,189),ie=m;continue}m=65536+(ie-55296<<10|m-56320)}else ie&&(_-=3)>-1&&we.push(239,191,189);if(ie=null,m<128){if((_-=1)<0)break;we.push(m)}else if(m<2048){if((_-=2)<0)break;we.push(m>>6|192,63&m|128)}else if(m<65536){if((_-=3)<0)break;we.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;we.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return we}function ke(U){return p.toByteArray(function re(U){if((U=(U=U.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U}(U))}function Fe(U,_,m,F){let ie;for(ie=0;ie<F&&!(ie+m>=_.length||ie>=U.length);++ie)_[ie+m]=U[ie];return ie}function We(U,_){return U instanceof _||null!=U&&null!=U.constructor&&null!=U.constructor.name&&U.constructor.name===_.name}function Tt(U){return U!=U}const Xe=function(){const U="0123456789abcdef",_=new Array(256);for(let m=0;m<16;++m){const F=16*m;for(let ie=0;ie<16;++ie)_[F+ie]=U[m]+U[ie]}return _}();function Ke(U){return typeof BigInt>"u"?lt:U}function lt(){throw new Error("BigInt not supported")}},95099:(Be,z,E)=>{E(23963)},55397:(Be,z,E)=>{"use strict";const{AbortError:p,codes:S}=E(85833),{isNodeStream:O,isWebStream:G,kControllerErrorFunction:x}=E(76989),B=E(68208),{ERR_INVALID_ARG_TYPE:A}=S;Be.exports.addAbortSignal=function(K,D){if((($,K)=>{if("object"!=typeof $||!("aborted"in $))throw new A("signal","AbortSignal",$)})(K),!O(D)&&!G(D))throw new A("stream",["ReadableStream","WritableStream","Stream"],D);return Be.exports.addAbortSignalNoValidate(K,D)},Be.exports.addAbortSignalNoValidate=function($,K){if("object"!=typeof $||!("aborted"in $))return K;const D=O(K)?()=>{K.destroy(new p(void 0,{cause:$.reason}))}:()=>{K[x](new p(void 0,{cause:$.reason}))};return $.aborted?D():($.addEventListener("abort",D),B(K,()=>$.removeEventListener("abort",D))),K}},54863:(Be,z,E)=>{"use strict";const{StringPrototypeSlice:p,SymbolIterator:S,TypedArrayPrototypeSet:O,Uint8Array:G}=E(2220),{Buffer:x}=E(37945),{inspect:B}=E(82578);Be.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(N){const $={data:N,next:null};this.length>0?this.tail.next=$:this.head=$,this.tail=$,++this.length}unshift(N){const $={data:N,next:this.head};0===this.length&&(this.tail=$),this.head=$,++this.length}shift(){if(0===this.length)return;const N=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,N}clear(){this.head=this.tail=null,this.length=0}join(N){if(0===this.length)return"";let $=this.head,K=""+$.data;for(;null!==($=$.next);)K+=N+$.data;return K}concat(N){if(0===this.length)return x.alloc(0);const $=x.allocUnsafe(N>>>0);let K=this.head,D=0;for(;K;)O($,K.data,D),D+=K.data.length,K=K.next;return $}consume(N,$){const K=this.head.data;if(N<K.length){const D=K.slice(0,N);return this.head.data=K.slice(N),D}return N===K.length?this.shift():$?this._getString(N):this._getBuffer(N)}first(){return this.head.data}*[S](){for(let N=this.head;N;N=N.next)yield N.data}_getString(N){let $="",K=this.head,D=0;do{const X=K.data;if(!(N>X.length)){N===X.length?($+=X,++D,this.head=K.next?K.next:this.tail=null):($+=p(X,0,N),this.head=K,K.data=p(X,N));break}$+=X,N-=X.length,++D}while(null!==(K=K.next));return this.length-=D,$}_getBuffer(N){const $=x.allocUnsafe(N),K=N;let D=this.head,X=0;do{const V=D.data;if(!(N>V.length)){N===V.length?(O($,V,K-N),++X,this.head=D.next?D.next:this.tail=null):(O($,new G(V.buffer,V.byteOffset,N),K-N),this.head=D,D.data=V.slice(N));break}O($,V,K-N),N-=V.length,++X}while(null!==(D=D.next));return this.length-=X,$}[Symbol.for("nodejs.util.inspect.custom")](N,$){return B(this,{...$,depth:0,customInspect:!1})}}},90972:(Be,z,E)=>{"use strict";var p=E(29293).default;const{pipeline:S}=E(63596),O=E(85892),{destroyer:G}=E(23370),{isNodeStream:x,isReadable:B,isWritable:A,isWebStream:N,isTransformStream:$,isWritableStream:K,isReadableStream:D}=E(76989),{AbortError:X,codes:{ERR_INVALID_ARG_VALUE:V,ERR_MISSING_ARGS:Z}}=E(85833),Q=E(68208);Be.exports=function(...J){if(0===J.length)throw new Z("streams");if(1===J.length)return O.from(J[0]);const q=[...J];if("function"==typeof J[0]&&(J[0]=O.from(J[0])),"function"==typeof J[J.length-1]){const h=J.length-1;J[h]=O.from(J[h])}for(let h=0;h<J.length;++h)if(x(J[h])||N(J[h])){if(h<J.length-1&&!(B(J[h])||D(J[h])||$(J[h])))throw new V(`streams[${h}]`,q[h],"must be readable");if(h>0&&!(A(J[h])||K(J[h])||$(J[h])))throw new V(`streams[${h}]`,q[h],"must be writable")}let ne,se,oe,ue,ae;const _e=J[0],De=S(J,function ve(h){const g=ue;ue=null,g?g(h):h?ae.destroy(h):!u&&!P&&ae.destroy()}),P=!!(A(_e)||K(_e)||$(_e)),u=!!(B(De)||D(De)||$(De));if(ae=new O({writableObjectMode:!(null==_e||!_e.writableObjectMode),readableObjectMode:!(null==De||!De.writableObjectMode),writable:P,readable:u}),P){if(x(_e))ae._write=function(g,w,T){_e.write(g,w)?T():ne=T},ae._final=function(g){_e.end(),se=g},_e.on("drain",function(){if(ne){const g=ne;ne=null,g()}});else if(N(_e)){const w=($(_e)?_e.writable:_e).getWriter();ae._write=function(){var T=p(function*(C,j,M){try{yield w.ready,w.write(C).catch(()=>{}),M()}catch(d){M(d)}});return function(C,j,M){return T.apply(this,arguments)}}(),ae._final=function(){var T=p(function*(C){try{yield w.ready,w.close().catch(()=>{}),se=C}catch(j){C(j)}});return function(C){return T.apply(this,arguments)}}()}const h=$(De)?De.readable:De;Q(h,()=>{if(se){const g=se;se=null,g()}})}if(u)if(x(De))De.on("readable",function(){if(oe){const h=oe;oe=null,h()}}),De.on("end",function(){ae.push(null)}),ae._read=function(){for(;;){const h=De.read();if(null===h)return void(oe=ae._read);if(!ae.push(h))return}};else if(N(De)){const g=($(De)?De.readable:De).getReader();ae._read=p(function*(){for(;;)try{const{value:w,done:T}=yield g.read();if(!ae.push(w))return;if(T)return void ae.push(null)}catch{return}})}return ae._destroy=function(h,g){!h&&null!==ue&&(h=new X),oe=null,ne=null,se=null,null===ue?g(h):(ue=g,x(De)&&G(De,h))},ae}},23370:(Be,z,E)=>{"use strict";const p=E(40573),{aggregateTwoErrors:S,codes:{ERR_MULTIPLE_CALLBACK:O},AbortError:G}=E(85833),{Symbol:x}=E(2220),{kDestroyed:B,isDestroyed:A,isFinished:N,isServerRequest:$}=E(76989),K=x("kDestroy"),D=x("kConstruct");function X(P,u,h){P&&(u&&!u.errored&&(u.errored=P),h&&!h.errored&&(h.errored=P))}function Z(P,u,h){let g=!1;function w(T){if(g)return;g=!0;const C=P._readableState,j=P._writableState;X(T,j,C),j&&(j.closed=!0),C&&(C.closed=!0),"function"==typeof h&&h(T),T?p.nextTick(Q,P,T):p.nextTick(te,P)}try{P._destroy(u||null,w)}catch(T){w(T)}}function Q(P,u){J(P,u),te(P)}function te(P){const u=P._readableState,h=P._writableState;h&&(h.closeEmitted=!0),u&&(u.closeEmitted=!0),(null!=h&&h.emitClose||null!=u&&u.emitClose)&&P.emit("close")}function J(P,u){const h=P._readableState,g=P._writableState;null!=g&&g.errorEmitted||null!=h&&h.errorEmitted||(g&&(g.errorEmitted=!0),h&&(h.errorEmitted=!0),P.emit("error",u))}function ne(P,u,h){const g=P._readableState,w=P._writableState;if(null!=w&&w.destroyed||null!=g&&g.destroyed)return this;null!=g&&g.autoDestroy||null!=w&&w.autoDestroy?P.destroy(u):u&&(w&&!w.errored&&(w.errored=u),g&&!g.errored&&(g.errored=u),h?p.nextTick(J,P,u):J(P,u))}function oe(P){let u=!1;function h(g){if(u)return void ne(P,g??new O);u=!0;const w=P._readableState,T=P._writableState,C=T||w;w&&(w.constructed=!0),T&&(T.constructed=!0),C.destroyed?P.emit(K,g):g?ne(P,g,!0):p.nextTick(ue,P)}try{P._construct(g=>{p.nextTick(h,g)})}catch(g){p.nextTick(h,g)}}function ue(P){P.emit(D)}function ae(P){return P?.setHeader&&"function"==typeof P.abort}function ve(P){P.emit("close")}function _e(P,u){P.emit("error",u),p.nextTick(ve,P)}Be.exports={construct:function se(P,u){if("function"!=typeof P._construct)return;const h=P._readableState,g=P._writableState;h&&(h.constructed=!1),g&&(g.constructed=!1),P.once(D,u),!(P.listenerCount(D)>1)&&p.nextTick(oe,P)},destroyer:function De(P,u){!P||A(P)||(!u&&!N(P)&&(u=new G),$(P)?(P.socket=null,P.destroy(u)):ae(P)?P.abort():ae(P.req)?P.req.abort():"function"==typeof P.destroy?P.destroy(u):"function"==typeof P.close?P.close():u?p.nextTick(_e,P,u):p.nextTick(ve,P),P.destroyed||(P[B]=!0))},destroy:function V(P,u){const h=this._readableState,g=this._writableState,w=g||h;return null!=g&&g.destroyed||null!=h&&h.destroyed?("function"==typeof u&&u(),this):(X(P,g,h),g&&(g.destroyed=!0),h&&(h.destroyed=!0),w.constructed?Z(this,P,u):this.once(K,function(T){Z(this,S(T,P),u)}),this)},undestroy:function q(){const P=this._readableState,u=this._writableState;P&&(P.constructed=!0,P.closed=!1,P.closeEmitted=!1,P.destroyed=!1,P.errored=null,P.errorEmitted=!1,P.reading=!1,P.ended=!1===P.readable,P.endEmitted=!1===P.readable),u&&(u.constructed=!0,u.destroyed=!1,u.closed=!1,u.closeEmitted=!1,u.errored=null,u.errorEmitted=!1,u.finalCalled=!1,u.prefinished=!1,u.ended=!1===u.writable,u.ending=!1===u.writable,u.finished=!1===u.writable)},errorOrDestroy:ne}},85892:(Be,z,E)=>{"use strict";const{ObjectDefineProperties:p,ObjectGetOwnPropertyDescriptor:S,ObjectKeys:O,ObjectSetPrototypeOf:G}=E(2220);Be.exports=A;const x=E(84730),B=E(39070);G(A.prototype,x.prototype),G(A,x);{const D=O(B.prototype);for(let X=0;X<D.length;X++){const V=D[X];A.prototype[V]||(A.prototype[V]=B.prototype[V])}}function A(D){if(!(this instanceof A))return new A(D);x.call(this,D),B.call(this,D),D?(this.allowHalfOpen=!1!==D.allowHalfOpen,!1===D.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===D.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let N,K;function $(){return void 0===N&&(N={}),N}p(A.prototype,{writable:{__proto__:null,...S(B.prototype,"writable")},writableHighWaterMark:{__proto__:null,...S(B.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...S(B.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...S(B.prototype,"writableBuffer")},writableLength:{__proto__:null,...S(B.prototype,"writableLength")},writableFinished:{__proto__:null,...S(B.prototype,"writableFinished")},writableCorked:{__proto__:null,...S(B.prototype,"writableCorked")},writableEnded:{__proto__:null,...S(B.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...S(B.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(D){this._readableState&&this._writableState&&(this._readableState.destroyed=D,this._writableState.destroyed=D)}}}),A.fromWeb=function(D,X){return $().newStreamDuplexFromReadableWritablePair(D,X)},A.toWeb=function(D){return $().newReadableWritablePairFromDuplex(D)},A.from=function(D){return K||(K=E(99460)),K(D,"body")}},99460:(Be,z,E)=>{var p=E(29293).default,S=E(53344).default,O=E(42958).default;const G=E(40573),x=E(37945),{isReadable:B,isWritable:A,isIterable:N,isNodeStream:$,isReadableNodeStream:K,isWritableNodeStream:D,isDuplexNodeStream:X}=E(76989),V=E(68208),{AbortError:Z,codes:{ERR_INVALID_ARG_TYPE:Q,ERR_INVALID_RETURN_VALUE:te}}=E(85833),{destroyer:J}=E(23370),q=E(85892),ne=E(84730),{createDeferredPromise:se}=E(82578),oe=E(94506),ue=globalThis.Blob||x.Blob,ae=typeof ue<"u"?function(g){return g instanceof ue}:function(g){return!1},ve=globalThis.AbortController||E(9465).AbortController,{FunctionPrototypeCall:_e}=E(2220);class De extends q{constructor(g){super(g),!1===g?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===g?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function u(h){const g=h.readable&&"function"!=typeof h.readable.read?ne.wrap(h.readable):h.readable,w=h.writable;let j,M,d,v,W,T=!!B(g),C=!!A(w);function H(ee){const fe=v;v=null,fe?fe(ee):ee&&W.destroy(ee)}return W=new De({readableObjectMode:!(null==g||!g.readableObjectMode),writableObjectMode:!(null==w||!w.writableObjectMode),readable:T,writable:C}),C&&(V(w,ee=>{C=!1,ee&&J(g,ee),H(ee)}),W._write=function(ee,fe,Ae){w.write(ee,fe)?Ae():j=Ae},W._final=function(ee){w.end(),M=ee},w.on("drain",function(){if(j){const ee=j;j=null,ee()}}),w.on("finish",function(){if(M){const ee=M;M=null,ee()}})),T&&(V(g,ee=>{T=!1,ee&&J(g,ee),H(ee)}),g.on("readable",function(){if(d){const ee=d;d=null,ee()}}),g.on("end",function(){W.push(null)}),W._read=function(){for(;;){const ee=g.read();if(null===ee)return void(d=W._read);if(!W.push(ee))return}}),W._destroy=function(ee,fe){!ee&&null!==v&&(ee=new Z),d=null,j=null,M=null,null===v?fe(ee):(v=fe,J(w,ee),J(g,ee))},W}Be.exports=function h(g,w){if(X(g))return g;if(K(g))return u({readable:g});if(D(g))return u({writable:g});if($(g))return u({writable:!1,readable:!1});if("function"==typeof g){const{value:C,write:j,final:M,destroy:d}=function P(h){let{promise:g,resolve:w}=se();const T=new ve,C=T.signal;return{value:h(O(function*(){for(;;){const M=g;g=null;const{chunk:d,done:v,cb:W}=yield S(M);if(G.nextTick(W),v)return;if(C.aborted)throw new Z(void 0,{cause:C.reason});({promise:g,resolve:w}=se()),yield d}})(),{signal:C}),write(M,d,v){const W=w;w=null,W({chunk:M,done:!1,cb:v})},final(M){const d=w;w=null,d({done:!0,cb:M})},destroy(M,d){T.abort(),d(M)}}}(g);if(N(C))return oe(De,C,{objectMode:!0,write:j,final:M,destroy:d});const v=C?.then;if("function"==typeof v){let W;const H=_e(v,C,ee=>{if(null!=ee)throw new te("nully","body",ee)},ee=>{J(W,ee)});return W=new De({objectMode:!0,readable:!1,write:j,final(ee){M(p(function*(){try{yield H,G.nextTick(ee,null)}catch(fe){G.nextTick(ee,fe)}}))},destroy:d})}throw new te("Iterable, AsyncIterable or AsyncFunction",w,C)}if(ae(g))return h(g.arrayBuffer());if(N(g))return oe(De,g,{objectMode:!0,writable:!1});if("object"==typeof g?.writable||"object"==typeof g?.readable)return u({readable:null!=g&&g.readable?K(g?.readable)?g?.readable:h(g.readable):void 0,writable:null!=g&&g.writable?D(g?.writable)?g?.writable:h(g.writable):void 0});const T=g?.then;if("function"==typeof T){let C;return _e(T,g,j=>{null!=j&&C.push(j),C.push(null)},j=>{J(C,j)}),C=new De({objectMode:!0,writable:!1,read(){}})}throw new Q(w,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],g)}},68208:(Be,z,E)=>{const p=E(40573),{AbortError:S,codes:O}=E(85833),{ERR_INVALID_ARG_TYPE:G,ERR_STREAM_PREMATURE_CLOSE:x}=O,{kEmptyObject:B,once:A}=E(82578),{validateAbortSignal:N,validateFunction:$,validateObject:K,validateBoolean:D}=E(48119),{Promise:X,PromisePrototypeThen:V}=E(2220),{isClosed:Z,isReadable:Q,isReadableNodeStream:te,isReadableStream:J,isReadableFinished:q,isReadableErrored:ne,isWritable:se,isWritableNodeStream:oe,isWritableStream:ue,isWritableFinished:ae,isWritableErrored:ve,isNodeStream:_e,willEmitClose:De,kIsClosedPromise:P}=E(76989),h=()=>{};function g(C,j,M){var d,v;if(2===arguments.length?(M=j,j=B):null==j?j=B:K(j,"options"),$(M,"callback"),N(j.signal,"options.signal"),M=A(M),J(C)||ue(C))return function w(C,j,M){let d=!1,v=h;if(j.signal)if(v=()=>{d=!0,M.call(C,new S(void 0,{cause:j.signal.reason}))},j.signal.aborted)p.nextTick(v);else{const H=M;M=A((...ee)=>{j.signal.removeEventListener("abort",v),H.apply(C,ee)}),j.signal.addEventListener("abort",v)}const W=(...H)=>{d||p.nextTick(()=>M.apply(C,H))};return V(C[P].promise,W,W),h}(C,j,M);if(!_e(C))throw new G("stream",["ReadableStream","WritableStream","Stream"],C);const W=null!==(d=j.readable)&&void 0!==d?d:te(C),H=null!==(v=j.writable)&&void 0!==v?v:oe(C),ee=C._writableState,fe=C._readableState,Ae=()=>{C.writable||be()};let Pe=De(C)&&te(C)===W&&oe(C)===H,Le=ae(C,!1);const be=()=>{Le=!0,C.destroyed&&(Pe=!1),(!Pe||C.readable&&!W)&&(!W||ge)&&M.call(C)};let ge=q(C,!1);const Re=()=>{ge=!0,C.destroyed&&(Pe=!1),(!Pe||C.writable&&!H)&&(!H||Le)&&M.call(C)},me=pe=>{M.call(C,pe)};let xe=Z(C);const le=()=>{xe=!0;const pe=ve(C)||ne(C);return pe&&"boolean"!=typeof pe?M.call(C,pe):W&&!ge&&te(C,!0)&&!q(C,!1)?M.call(C,new x):!H||Le||ae(C,!1)?void M.call(C):M.call(C,new x)},he=()=>{xe=!0;const pe=ve(C)||ne(C);if(pe&&"boolean"!=typeof pe)return M.call(C,pe);M.call(C)},re=()=>{C.req.on("finish",be)};!function u(C){return C.setHeader&&"function"==typeof C.abort}(C)?H&&!ee&&(C.on("end",Ae),C.on("close",Ae)):(C.on("complete",be),Pe||C.on("abort",le),C.req?re():C.on("request",re)),!Pe&&"boolean"==typeof C.aborted&&C.on("aborted",le),C.on("end",Re),C.on("finish",be),!1!==j.error&&C.on("error",me),C.on("close",le),xe?p.nextTick(le):null!=ee&&ee.errorEmitted||null!=fe&&fe.errorEmitted?Pe||p.nextTick(he):(!W&&(!Pe||Q(C))&&(Le||!1===se(C))||!H&&(!Pe||se(C))&&(ge||!1===Q(C))||fe&&C.req&&C.aborted)&&p.nextTick(he);const de=()=>{M=h,C.removeListener("aborted",le),C.removeListener("complete",be),C.removeListener("abort",le),C.removeListener("request",re),C.req&&C.req.removeListener("finish",be),C.removeListener("end",Ae),C.removeListener("close",Ae),C.removeListener("finish",be),C.removeListener("end",Re),C.removeListener("error",me),C.removeListener("close",le)};if(j.signal&&!xe){const pe=()=>{const Se=M;de(),Se.call(C,new S(void 0,{cause:j.signal.reason}))};if(j.signal.aborted)p.nextTick(pe);else{const Se=M;M=A((...ke)=>{j.signal.removeEventListener("abort",pe),Se.apply(C,ke)}),j.signal.addEventListener("abort",pe)}}return de}Be.exports=g,Be.exports.finished=function T(C,j){var M;let d=!1;return null===j&&(j=B),null!==(M=j)&&void 0!==M&&M.cleanup&&(D(j.cleanup,"cleanup"),d=j.cleanup),new X((v,W)=>{const H=g(C,j,ee=>{d&&H(),ee?W(ee):v()})})}},94506:(Be,z,E)=>{"use strict";var p=E(29293).default;const S=E(40573),{PromisePrototypeThen:O,SymbolAsyncIterator:G,SymbolIterator:x}=E(2220),{Buffer:B}=E(37945),{ERR_INVALID_ARG_TYPE:A,ERR_STREAM_NULL_VALUES:N}=E(85833).codes;Be.exports=function $(K,D,X){let V,Z;if("string"==typeof D||D instanceof B)return new K({objectMode:!0,...X,read(){this.push(D),this.push(null)}});if(D&&D[G])Z=!0,V=D[G]();else{if(!D||!D[x])throw new A("iterable",["Iterable"],D);Z=!1,V=D[x]()}const Q=new K({objectMode:!0,highWaterMark:1,...X});let te=!1;function q(){return(q=p(function*(oe){if(null!=oe&&"function"==typeof V.throw){const{value:ve,done:_e}=yield V.throw(oe);if(yield ve,_e)return}if("function"==typeof V.return){const{value:ve}=yield V.return();yield ve}})).apply(this,arguments)}function se(){return(se=p(function*(){for(;;){try{const{value:oe,done:ue}=Z?yield V.next():V.next();if(ue)Q.push(null);else{const ae=oe&&"function"==typeof oe.then?yield oe:oe;if(null===ae)throw te=!1,new N;if(Q.push(ae))continue;te=!1}}catch(oe){Q.destroy(oe)}break}})).apply(this,arguments)}return Q._read=function(){te||(te=!0,function ne(){se.apply(this,arguments)}())},Q._destroy=function(oe,ue){O(function J(oe){return q.apply(this,arguments)}(oe),()=>S.nextTick(ue,oe),ae=>S.nextTick(ue,ae||oe))},Q}},90845:(Be,z,E)=>{"use strict";const{ArrayIsArray:p,ObjectSetPrototypeOf:S}=E(2220),{EventEmitter:O}=E(44356);function G(B){O.call(this,B)}function x(B,A,N){if("function"==typeof B.prependListener)return B.prependListener(A,N);B._events&&B._events[A]?p(B._events[A])?B._events[A].unshift(N):B._events[A]=[N,B._events[A]]:B.on(A,N)}S(G.prototype,O.prototype),S(G,O),G.prototype.pipe=function(B,A){const N=this;function $(te){B.writable&&!1===B.write(te)&&N.pause&&N.pause()}function K(){N.readable&&N.resume&&N.resume()}N.on("data",$),B.on("drain",K),!B._isStdio&&(!A||!1!==A.end)&&(N.on("end",X),N.on("close",V));let D=!1;function X(){D||(D=!0,B.end())}function V(){D||(D=!0,"function"==typeof B.destroy&&B.destroy())}function Z(te){Q(),0===O.listenerCount(this,"error")&&this.emit("error",te)}function Q(){N.removeListener("data",$),B.removeListener("drain",K),N.removeListener("end",X),N.removeListener("close",V),N.removeListener("error",Z),B.removeListener("error",Z),N.removeListener("end",Q),N.removeListener("close",Q),B.removeListener("close",Q)}return x(N,"error",Z),x(B,"error",Z),N.on("end",Q),N.on("close",Q),B.on("close",Q),B.emit("pipe",N),B},Be.exports={Stream:G,prependListener:x}},54705:(Be,z,E)=>{"use strict";var p=E(29293).default,S=E(93513).default,O=E(82881).default,G=E(53344).default,x=E(42958).default;const B=globalThis.AbortController||E(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:A,ERR_INVALID_ARG_TYPE:N,ERR_MISSING_ARGS:$,ERR_OUT_OF_RANGE:K},AbortError:D}=E(85833),{validateAbortSignal:X,validateInteger:V,validateObject:Z}=E(48119),Q=E(2220).Symbol("kWeak"),{finished:te}=E(68208),J=E(90972),{addAbortSignalNoValidate:q}=E(55397),{isWritable:ne,isNodeStream:se}=E(76989),{ArrayPrototypePush:oe,MathFloor:ue,Number:ae,NumberIsNaN:ve,Promise:_e,PromiseReject:De,PromisePrototypeThen:P,Symbol:u}=E(2220),h=u("kEmpty"),g=u("kEof");function T(re,de){if("function"!=typeof re)throw new N("fn",["Function","AsyncFunction"],re);null!=de&&Z(de,"options"),null!=de?.signal&&X(de.signal,"options.signal");let pe=1;return null!=de?.concurrency&&(pe=ue(de.concurrency)),V(pe,"concurrency",1),function(){var Se=x(function*(){var Fe,We;const Tt=new B,Xe=this,Ke=[],lt=Tt.signal,U={signal:lt},_=()=>Tt.abort();null!=de&&null!==(Fe=de.signal)&&void 0!==Fe&&Fe.aborted&&_(),null==de||null===(We=de.signal)||void 0===We||We.addEventListener("abort",_);let m,F,ie=!1;function we(){ie=!0}function Qe(){return(Qe=p(function*(){try{var Et,kt=!1,pt=!1;try{for(var qt,Lt=O(Xe);kt=!(qt=yield Lt.next()).done;kt=!1){let cn=qt.value;var Kt;if(ie)return;if(lt.aborted)throw new D;try{cn=re(cn,U)}catch(Ut){cn=De(Ut)}cn!==h&&("function"==typeof(null===(Kt=cn)||void 0===Kt?void 0:Kt.catch)&&cn.catch(we),Ke.push(cn),m&&(m(),m=null),!ie&&Ke.length&&Ke.length>=pe&&(yield new _e(Ut=>{F=Ut})))}}catch(cn){pt=!0,Et=cn}finally{try{kt&&null!=Lt.return&&(yield Lt.return())}finally{if(pt)throw Et}}Ke.push(g)}catch(cn){const Ut=De(cn);P(Ut,void 0,we),Ke.push(Ut)}finally{var er;ie=!0,m&&(m(),m=null),null==de||null===(er=de.signal)||void 0===er||er.removeEventListener("abort",_)}})).apply(this,arguments)}!function Ie(){Qe.apply(this,arguments)}();try{for(;;){for(;Ke.length>0;){const kt=yield G(Ke[0]);if(kt===g)return;if(lt.aborted)throw new D;kt!==h&&(yield kt),Ke.shift(),F&&(F(),F=null)}yield G(new _e(kt=>{m=kt}))}}finally{Tt.abort(),ie=!0,F&&(F(),F=null)}});return function ke(){return Se.apply(this,arguments)}}().call(this)}function j(re){return M.apply(this,arguments)}function M(){return(M=p(function*(re,de=void 0){var ke,pe=!1,Se=!1;try{for(var Fe=O(Ae.call(this,re,de));pe=!(yield Fe.next()).done;pe=!1)return!0}catch(Tt){Se=!0,ke=Tt}finally{try{pe&&null!=Fe.return&&(yield Fe.return())}finally{if(Se)throw ke}}return!1})).apply(this,arguments)}function v(){return(v=p(function*(re,de=void 0){if("function"!=typeof re)throw new N("fn",["Function","AsyncFunction"],re);return!(yield j.call(this,p(function*(...pe){return!(yield re(...pe))}),de))})).apply(this,arguments)}function H(){return(H=p(function*(re,de){var ke,pe=!1,Se=!1;try{for(var We,Fe=O(Ae.call(this,re,de));pe=!(We=yield Fe.next()).done;pe=!1)return We.value}catch(Tt){Se=!0,ke=Tt}finally{try{pe&&null!=Fe.return&&(yield Fe.return())}finally{if(Se)throw ke}}})).apply(this,arguments)}function fe(){return fe=p(function*(re,de){if("function"!=typeof re)throw new N("fn",["Function","AsyncFunction"],re);function Se(){return(Se=p(function*(Ke,lt){return yield re(Ke,lt),h})).apply(this,arguments)}var We,ke=!1,Fe=!1;try{for(var Tt=O(T.call(this,function pe(Ke,lt){return Se.apply(this,arguments)},de));ke=!(yield Tt.next()).done;ke=!1);}catch(Ke){Fe=!0,We=Ke}finally{try{ke&&null!=Tt.return&&(yield Tt.return())}finally{if(Fe)throw We}}}),fe.apply(this,arguments)}function Ae(re,de){if("function"!=typeof re)throw new N("fn",["Function","AsyncFunction"],re);function Se(){return(Se=p(function*(ke,Fe){return(yield re(ke,Fe))?ke:h})).apply(this,arguments)}return T.call(this,function pe(ke,Fe){return Se.apply(this,arguments)},de)}class Pe extends ${constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function be(){return be=p(function*(re,de,pe){var Se;if("function"!=typeof re)throw new N("reducer",["Function","AsyncFunction"],re);null!=pe&&Z(pe,"options"),null!=pe?.signal&&X(pe.signal,"options.signal");let ke=arguments.length>1;if(null!=pe&&null!==(Se=pe.signal)&&void 0!==Se&&Se.aborted){const F=new D(void 0,{cause:pe.signal.reason});throw this.once("error",()=>{}),yield te(this.destroy(F)),F}const Fe=new B,We=Fe.signal;null!=pe&&pe.signal&&pe.signal.addEventListener("abort",()=>Fe.abort(),{once:!0,[Q]:this});let Tt=!1;try{var lt,Xe=!1,Ke=!1;try{for(var _,U=O(this);Xe=!(_=yield U.next()).done;Xe=!1){const F=_.value;var m;if(Tt=!0,null!=pe&&null!==(m=pe.signal)&&void 0!==m&&m.aborted)throw new D;ke?de=yield re(de,F,{signal:We}):(de=F,ke=!0)}}catch(F){Ke=!0,lt=F}finally{try{Xe&&null!=U.return&&(yield U.return())}finally{if(Ke)throw lt}}if(!Tt&&!ke)throw new Pe}finally{Fe.abort()}return de}),be.apply(this,arguments)}function Re(){return(Re=p(function*(re){null!=re&&Z(re,"options"),null!=re?.signal&&X(re.signal,"options.signal");const de=[];var ke,pe=!1,Se=!1;try{for(var We,Fe=O(this);pe=!(We=yield Fe.next()).done;pe=!1){const Xe=We.value;var Tt;if(null!=re&&null!==(Tt=re.signal)&&void 0!==Tt&&Tt.aborted)throw new D(void 0,{cause:re.signal.reason});oe(de,Xe)}}catch(Xe){Se=!0,ke=Xe}finally{try{pe&&null!=Fe.return&&(yield Fe.return())}finally{if(Se)throw ke}}return de})).apply(this,arguments)}function xe(re){if(re=ae(re),ve(re))return 0;if(re<0)throw new K("number",">= 0",re);return re}Be.exports.streamReturningOperators={asIndexedPairs:function C(re=void 0){return null!=re&&Z(re,"options"),null!=re?.signal&&X(re.signal,"options.signal"),function(){var de=x(function*(){let Se=0;var We,ke=!1,Fe=!1;try{for(var Xe,Tt=O(this);ke=!(Xe=yield G(Tt.next())).done;ke=!1){const lt=Xe.value;var Ke;if(null!=re&&null!==(Ke=re.signal)&&void 0!==Ke&&Ke.aborted)throw new D({cause:re.signal.reason});yield[Se++,lt]}}catch(lt){Fe=!0,We=lt}finally{try{ke&&null!=Tt.return&&(yield G(Tt.return()))}finally{if(Fe)throw We}}});return function pe(){return de.apply(this,arguments)}}().call(this)},drop:function le(re,de=void 0){return null!=de&&Z(de,"options"),null!=de?.signal&&X(de.signal,"options.signal"),re=xe(re),function(){var pe=x(function*(){var ke;if(null!=de&&null!==(ke=de.signal)&&void 0!==ke&&ke.aborted)throw new D;var Tt,Fe=!1,We=!1;try{for(var Ke,Xe=O(this);Fe=!(Ke=yield G(Xe.next())).done;Fe=!1){const U=Ke.value;var lt;if(null!=de&&null!==(lt=de.signal)&&void 0!==lt&&lt.aborted)throw new D;re--<=0&&(yield U)}}catch(U){We=!0,Tt=U}finally{try{Fe&&null!=Xe.return&&(yield G(Xe.return()))}finally{if(We)throw Tt}}});return function Se(){return pe.apply(this,arguments)}}().call(this)},filter:Ae,flatMap:function me(re,de){const pe=T.call(this,re,de);return function(){var Se=x(function*(){var Tt,Fe=!1,We=!1;try{for(var Ke,Xe=O(pe);Fe=!(Ke=yield G(Xe.next())).done;Fe=!1){const lt=Ke.value;yield*S(O(lt),G)}}catch(lt){We=!0,Tt=lt}finally{try{Fe&&null!=Xe.return&&(yield G(Xe.return()))}finally{if(We)throw Tt}}});return function ke(){return Se.apply(this,arguments)}}().call(this)},map:T,take:function he(re,de=void 0){return null!=de&&Z(de,"options"),null!=de?.signal&&X(de.signal,"options.signal"),re=xe(re),function(){var pe=x(function*(){var ke;if(null!=de&&null!==(ke=de.signal)&&void 0!==ke&&ke.aborted)throw new D;var Tt,Fe=!1,We=!1;try{for(var Ke,Xe=O(this);Fe=!(Ke=yield G(Xe.next())).done;Fe=!1){const U=Ke.value;var lt;if(null!=de&&null!==(lt=de.signal)&&void 0!==lt&&lt.aborted)throw new D;if(!(re-- >0))return;yield U}}catch(U){We=!0,Tt=U}finally{try{Fe&&null!=Xe.return&&(yield G(Xe.return()))}finally{if(We)throw Tt}}});return function Se(){return pe.apply(this,arguments)}}().call(this)},compose:function w(re,de){if(null!=de&&Z(de,"options"),null!=de?.signal&&X(de.signal,"options.signal"),se(re)&&!ne(re))throw new A("stream",re,"must be writable");const pe=J(this,re);return null!=de&&de.signal&&q(de.signal,pe),pe}},Be.exports.promiseReturningOperators={every:function d(re){return v.apply(this,arguments)},forEach:function ee(re,de){return fe.apply(this,arguments)},reduce:function Le(re,de,pe){return be.apply(this,arguments)},toArray:function ge(re){return Re.apply(this,arguments)},some:j,find:function W(re,de){return H.apply(this,arguments)}}},5358:(Be,z,E)=>{"use strict";const{ObjectSetPrototypeOf:p}=E(2220);Be.exports=O;const S=E(33732);function O(G){if(!(this instanceof O))return new O(G);S.call(this,G)}p(O.prototype,S.prototype),p(O,S),O.prototype._transform=function(G,x,B){B(null,G)}},63596:(Be,z,E)=>{var p=E(29293).default,S=E(42958).default,O=E(53344).default,G=E(93513).default,x=E(82881).default;const B=E(40573),{ArrayIsArray:A,Promise:N,SymbolAsyncIterator:$}=E(2220),K=E(68208),{once:D}=E(82578),X=E(23370),V=E(85892),{aggregateTwoErrors:Z,codes:{ERR_INVALID_ARG_TYPE:Q,ERR_INVALID_RETURN_VALUE:te,ERR_MISSING_ARGS:J,ERR_STREAM_DESTROYED:q,ERR_STREAM_PREMATURE_CLOSE:ne},AbortError:se}=E(85833),{validateFunction:oe,validateAbortSignal:ue}=E(48119),{isIterable:ae,isReadable:ve,isReadableNodeStream:_e,isNodeStream:De,isTransformStream:P,isWebStream:u,isReadableStream:h,isReadableEnded:g}=E(76989),w=globalThis.AbortController||E(9465).AbortController;let T,C;function j(ge,Re,me){let xe=!1;return ge.on("close",()=>{xe=!0}),{destroy:he=>{xe||(xe=!0,X.destroyer(ge,he||new q("pipe")))},cleanup:K(ge,{readable:Re,writable:me},he=>{xe=!he})}}function d(ge){if(ae(ge))return ge;if(_e(ge))return function v(ge){return W.apply(this,arguments)}(ge);throw new Q("val",["Readable","Iterable","AsyncIterable"],ge)}function W(){return(W=S(function*(ge){C||(C=E(84730)),yield*G(x(C.prototype[$].call(ge)),O)})).apply(this,arguments)}function H(ge,Re,me,xe){return ee.apply(this,arguments)}function ee(){return(ee=p(function*(ge,Re,me,{end:xe}){let le,he=null;const re=Xe=>{if(Xe&&(le=Xe),he){const Ke=he;he=null,Ke()}},de=()=>new N((Xe,Ke)=>{le?Ke(le):he=()=>{le?Ke(le):Xe()}});Re.on("drain",re);const pe=K(Re,{readable:!1},re);try{Re.writableNeedDrain&&(yield de());var Fe,Se=!1,ke=!1;try{for(var Tt,We=x(ge);Se=!(Tt=yield We.next()).done;Se=!1)Re.write(Tt.value)||(yield de())}catch(Xe){ke=!0,Fe=Xe}finally{try{Se&&null!=We.return&&(yield We.return())}finally{if(ke)throw Fe}}xe&&Re.end(),yield de(),me()}catch(Xe){me(le!==Xe?Z(le,Xe):Xe)}finally{pe(),Re.off("drain",re)}})).apply(this,arguments)}function fe(ge,Re,me,xe){return Ae.apply(this,arguments)}function Ae(){return(Ae=p(function*(ge,Re,me,{end:xe}){P(Re)&&(Re=Re.writable);const le=Re.getWriter();try{var de,he=!1,re=!1;try{for(var Se,pe=x(ge);he=!(Se=yield pe.next()).done;he=!1){const ke=Se.value;yield le.ready,le.write(ke).catch(()=>{})}}catch(ke){re=!0,de=ke}finally{try{he&&null!=pe.return&&(yield pe.return())}finally{if(re)throw de}}yield le.ready,xe&&(yield le.close()),me()}catch(ke){try{yield le.abort(ke),me(ke)}catch(Fe){me(Fe)}}})).apply(this,arguments)}function Le(ge,Re,me){if(1===ge.length&&A(ge[0])&&(ge=ge[0]),ge.length<2)throw new J("streams");const xe=new w,le=xe.signal,he=me?.signal,re=[];function de(){Tt(new se)}let pe,Se;ue(he,"options.signal"),he?.addEventListener("abort",de);const ke=[];let Xe,Fe=0;function We(_){Tt(_,0==--Fe)}function Tt(_,m){if(_&&(!pe||"ERR_STREAM_PREMATURE_CLOSE"===pe.code)&&(pe=_),pe||m){for(;ke.length;)ke.shift()(pe);he?.removeEventListener("abort",de),xe.abort(),m&&(pe||re.forEach(F=>F()),B.nextTick(Re,pe,Se))}}for(let _=0;_<ge.length;_++){const m=ge[_],F=_<ge.length-1,ie=_>0,we=F||!1!==me?.end,Ie=_===ge.length-1;if(De(m)){let Qe=function(kt){kt&&"AbortError"!==kt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==kt.code&&We(kt)};if(we){const{destroy:kt,cleanup:pt}=j(m,F,ie);ke.push(kt),ve(m)&&Ie&&re.push(pt)}m.on("error",Qe),ve(m)&&Ie&&re.push(()=>{m.removeListener("error",Qe)})}if(0===_)if("function"==typeof m){if(Xe=m({signal:le}),!ae(Xe))throw new te("Iterable, AsyncIterable or Stream","source",Xe)}else Xe=ae(m)||_e(m)||P(m)?m:V.from(m);else if("function"==typeof m){var Ke;if(Xe=P(Xe)?d(null===(Ke=Xe)||void 0===Ke?void 0:Ke.readable):d(Xe),Xe=m(Xe,{signal:le}),F){if(!ae(Xe,!0))throw new te("AsyncIterable",`transform[${_-1}]`,Xe)}else{var lt;T||(T=E(5358));const Qe=new T({objectMode:!0}),kt=null===(lt=Xe)||void 0===lt?void 0:lt.then;if("function"==typeof kt)Fe++,kt.call(Xe,Lt=>{Se=Lt,null!=Lt&&Qe.write(Lt),we&&Qe.end(),B.nextTick(We)},Lt=>{Qe.destroy(Lt),B.nextTick(We,Lt)});else if(ae(Xe,!0))Fe++,H(Xe,Qe,We,{end:we});else{if(!h(Xe)&&!P(Xe))throw new te("AsyncIterable or Promise","destination",Xe);Fe++,H(Xe.readable||Xe,Qe,We,{end:we})}Xe=Qe;const{destroy:pt,cleanup:Et}=j(Xe,!1,!0);ke.push(pt),Ie&&re.push(Et)}}else if(De(m)){if(_e(Xe)){Fe+=2;const Qe=be(Xe,m,We,{end:we});ve(m)&&Ie&&re.push(Qe)}else if(P(Xe)||h(Xe))Fe++,H(Xe.readable||Xe,m,We,{end:we});else{if(!ae(Xe))throw new Q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Xe);Fe++,H(Xe,m,We,{end:we})}Xe=m}else if(u(m)){if(_e(Xe))Fe++,fe(d(Xe),m,We,{end:we});else if(h(Xe)||ae(Xe))Fe++,fe(Xe,m,We,{end:we});else{if(!P(Xe))throw new Q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Xe);Fe++,fe(Xe.readable,m,We,{end:we})}Xe=m}else Xe=V.from(m)}return(null!=le&&le.aborted||null!=he&&he.aborted)&&B.nextTick(de),Xe}function be(ge,Re,me,{end:xe}){let le=!1;if(Re.on("close",()=>{le||me(new ne)}),ge.pipe(Re,{end:!1}),xe){let re=function(){le=!0,Re.end()};g(ge)?B.nextTick(re):ge.once("end",re)}else me();return K(ge,{readable:!0,writable:!1},re=>{const de=ge._readableState;re&&"ERR_STREAM_PREMATURE_CLOSE"===re.code&&de&&de.ended&&!de.errored&&!de.errorEmitted?ge.once("end",me).once("error",me):me(re)}),K(Re,{readable:!1,writable:!0},me)}Be.exports={pipelineImpl:Le,pipeline:function Pe(...ge){return Le(ge,D(function M(ge){return oe(ge[ge.length-1],"streams[stream.length - 1]"),ge.pop()}(ge)))}}},84730:(Be,z,E)=>{var p=E(53344).default,S=E(42958).default;const O=E(40573),{ArrayPrototypeIndexOf:G,NumberIsInteger:x,NumberIsNaN:B,NumberParseInt:A,ObjectDefineProperties:N,ObjectKeys:$,ObjectSetPrototypeOf:K,Promise:D,SafeSet:X,SymbolAsyncIterator:V,Symbol:Z}=E(2220);Be.exports=H,H.ReadableState=W;const{EventEmitter:Q}=E(44356),{Stream:te,prependListener:J}=E(90845),{Buffer:q}=E(37945),{addAbortSignal:ne}=E(55397),se=E(68208);let oe=E(82578).debuglog("stream",m=>{oe=m});const ue=E(54863),ae=E(23370),{getHighWaterMark:ve,getDefaultHighWaterMark:_e}=E(43909),{aggregateTwoErrors:De,codes:{ERR_INVALID_ARG_TYPE:P,ERR_METHOD_NOT_IMPLEMENTED:u,ERR_OUT_OF_RANGE:h,ERR_STREAM_PUSH_AFTER_EOF:g,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:w}}=E(85833),{validateObject:T}=E(48119),C=Z("kPaused"),{StringDecoder:j}=E(78454),M=E(94506);K(H.prototype,te.prototype),K(H,te);const d=()=>{},{errorOrDestroy:v}=ae;function W(m,F,ie){"boolean"!=typeof ie&&(ie=F instanceof E(85892)),this.objectMode=!(!m||!m.objectMode),ie&&(this.objectMode=this.objectMode||!(!m||!m.readableObjectMode)),this.highWaterMark=m?ve(this,m,"readableHighWaterMark",ie):_e(!1),this.buffer=new ue,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[C]=null,this.errorEmitted=!1,this.emitClose=!m||!1!==m.emitClose,this.autoDestroy=!m||!1!==m.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=m&&m.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,m&&m.encoding&&(this.decoder=new j(m.encoding),this.encoding=m.encoding)}function H(m){if(!(this instanceof H))return new H(m);const F=this instanceof E(85892);this._readableState=new W(m,this,F),m&&("function"==typeof m.read&&(this._read=m.read),"function"==typeof m.destroy&&(this._destroy=m.destroy),"function"==typeof m.construct&&(this._construct=m.construct),m.signal&&!F&&ne(m.signal,this)),te.call(this,m),ae.construct(this,()=>{this._readableState.needReadable&&me(this,this._readableState)})}function ee(m,F,ie,we){oe("readableAddChunk",F);const Ie=m._readableState;let Qe;if(Ie.objectMode||("string"==typeof F?Ie.encoding!==(ie=ie||Ie.defaultEncoding)&&(we&&Ie.encoding?F=q.from(F,ie).toString(Ie.encoding):(F=q.from(F,ie),ie="")):F instanceof q?ie="":te._isUint8Array(F)?(F=te._uint8ArrayToBuffer(F),ie=""):null!=F&&(Qe=new P("chunk",["string","Buffer","Uint8Array"],F))),Qe)v(m,Qe);else if(null===F)Ie.reading=!1,function be(m,F){if(oe("onEofChunk"),!F.ended){if(F.decoder){const ie=F.decoder.end();ie&&ie.length&&(F.buffer.push(ie),F.length+=F.objectMode?1:ie.length)}F.ended=!0,F.sync?ge(m):(F.needReadable=!1,F.emittedReadable=!0,Re(m))}}(m,Ie);else if(Ie.objectMode||F&&F.length>0)if(we)if(Ie.endEmitted)v(m,new w);else{if(Ie.destroyed||Ie.errored)return!1;fe(m,Ie,F,!0)}else if(Ie.ended)v(m,new g);else{if(Ie.destroyed||Ie.errored)return!1;Ie.reading=!1,Ie.decoder&&!ie?(F=Ie.decoder.write(F),Ie.objectMode||0!==F.length?fe(m,Ie,F,!1):me(m,Ie)):fe(m,Ie,F,!1)}else we||(Ie.reading=!1,me(m,Ie));return!Ie.ended&&(Ie.length<Ie.highWaterMark||0===Ie.length)}function fe(m,F,ie,we){F.flowing&&0===F.length&&!F.sync&&m.listenerCount("data")>0?(F.multiAwaitDrain?F.awaitDrainWriters.clear():F.awaitDrainWriters=null,F.dataEmitted=!0,m.emit("data",ie)):(F.length+=F.objectMode?1:ie.length,we?F.buffer.unshift(ie):F.buffer.push(ie),F.needReadable&&ge(m)),me(m,F)}function Le(m,F){return m<=0||0===F.length&&F.ended?0:F.objectMode?1:B(m)?F.flowing&&F.length?F.buffer.first().length:F.length:m<=F.length?m:F.ended?F.length:0}function ge(m){const F=m._readableState;oe("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(oe("emitReadable",F.flowing),F.emittedReadable=!0,O.nextTick(Re,m))}function Re(m){const F=m._readableState;oe("emitReadable_",F.destroyed,F.length,F.ended),!F.destroyed&&!F.errored&&(F.length||F.ended)&&(m.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,Se(m)}function me(m,F){!F.readingMore&&F.constructed&&(F.readingMore=!0,O.nextTick(xe,m,F))}function xe(m,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&0===F.length);){const ie=F.length;if(oe("maybeReadMore read 0"),m.read(0),ie===F.length)break}F.readingMore=!1}function he(m){const F=m._readableState;F.readableListening=m.listenerCount("readable")>0,F.resumeScheduled&&!1===F[C]?F.flowing=!0:m.listenerCount("data")>0?m.resume():F.readableListening||(F.flowing=null)}function re(m){oe("readable nexttick read 0"),m.read(0)}function pe(m,F){oe("resume",F.reading),F.reading||m.read(0),F.resumeScheduled=!1,m.emit("resume"),Se(m),F.flowing&&!F.reading&&m.read(0)}function Se(m){const F=m._readableState;for(oe("flow",F.flowing);F.flowing&&null!==m.read(););}function ke(m,F){"function"!=typeof m.read&&(m=H.wrap(m,{objectMode:!0}));const ie=function Fe(m,F){return We.apply(this,arguments)}(m,F);return ie.stream=m,ie}function We(){return(We=S(function*(m,F){let Ie,ie=d;function we(kt){this===m?(ie(),ie=d):ie=kt}m.on("readable",we);const Qe=se(m,{writable:!1},kt=>{Ie=kt?De(Ie,kt):null,ie(),ie=d});try{for(;;){const kt=m.destroyed?null:m.read();if(null!==kt)yield kt;else{if(Ie)throw Ie;if(null===Ie)return;yield p(new D(we))}}}catch(kt){throw Ie=De(Ie,kt),Ie}finally{!Ie&&!1===F?.destroyOnReturn||void 0!==Ie&&!m._readableState.autoDestroy?(m.off("readable",we),Qe()):ae.destroyer(m,null)}})).apply(this,arguments)}function Tt(m,F){if(0===F.length)return null;let ie;return F.objectMode?ie=F.buffer.shift():!m||m>=F.length?(ie=F.decoder?F.buffer.join(""):1===F.buffer.length?F.buffer.first():F.buffer.concat(F.length),F.buffer.clear()):ie=F.buffer.consume(m,F.decoder),ie}function Xe(m){const F=m._readableState;oe("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,O.nextTick(Ke,F,m))}function Ke(m,F){if(oe("endReadableNT",m.endEmitted,m.length),!m.errored&&!m.closeEmitted&&!m.endEmitted&&0===m.length)if(m.endEmitted=!0,F.emit("end"),F.writable&&!1===F.allowHalfOpen)O.nextTick(lt,F);else if(m.autoDestroy){const ie=F._writableState;(!ie||ie.autoDestroy&&(ie.finished||!1===ie.writable))&&F.destroy()}}function lt(m){m.writable&&!m.writableEnded&&!m.destroyed&&m.end()}let U;function _(){return void 0===U&&(U={}),U}H.prototype.destroy=ae.destroy,H.prototype._undestroy=ae.undestroy,H.prototype._destroy=function(m,F){F(m)},H.prototype[Q.captureRejectionSymbol]=function(m){this.destroy(m)},H.prototype.push=function(m,F){return ee(this,m,F,!1)},H.prototype.unshift=function(m,F){return ee(this,m,F,!0)},H.prototype.isPaused=function(){const m=this._readableState;return!0===m[C]||!1===m.flowing},H.prototype.setEncoding=function(m){const F=new j(m);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;const ie=this._readableState.buffer;let we="";for(const Ie of ie)we+=F.write(Ie);return ie.clear(),""!==we&&ie.push(we),this._readableState.length=we.length,this},H.prototype.read=function(m){oe("read",m),void 0===m?m=NaN:x(m)||(m=A(m,10));const F=this._readableState,ie=m;if(m>F.highWaterMark&&(F.highWaterMark=function Pe(m){if(m>1073741824)throw new h("size","<= 1GiB",m);return m--,m|=m>>>1,m|=m>>>2,m|=m>>>4,m|=m>>>8,m|=m>>>16,++m}(m)),0!==m&&(F.emittedReadable=!1),0===m&&F.needReadable&&((0!==F.highWaterMark?F.length>=F.highWaterMark:F.length>0)||F.ended))return oe("read: emitReadable",F.length,F.ended),0===F.length&&F.ended?Xe(this):ge(this),null;if(0===(m=Le(m,F))&&F.ended)return 0===F.length&&Xe(this),null;let Ie,we=F.needReadable;if(oe("need readable",we),(0===F.length||F.length-m<F.highWaterMark)&&(we=!0,oe("length less than watermark",we)),F.ended||F.reading||F.destroyed||F.errored||!F.constructed)we=!1,oe("reading, ended or constructing",we);else if(we){oe("do read"),F.reading=!0,F.sync=!0,0===F.length&&(F.needReadable=!0);try{this._read(F.highWaterMark)}catch(Qe){v(this,Qe)}F.sync=!1,F.reading||(m=Le(ie,F))}return Ie=m>0?Tt(m,F):null,null===Ie?(F.needReadable=F.length<=F.highWaterMark,m=0):(F.length-=m,F.multiAwaitDrain?F.awaitDrainWriters.clear():F.awaitDrainWriters=null),0===F.length&&(F.ended||(F.needReadable=!0),ie!==m&&F.ended&&Xe(this)),null!==Ie&&!F.errorEmitted&&!F.closeEmitted&&(F.dataEmitted=!0,this.emit("data",Ie)),Ie},H.prototype._read=function(m){throw new u("_read()")},H.prototype.pipe=function(m,F){const ie=this,we=this._readableState;1===we.pipes.length&&(we.multiAwaitDrain||(we.multiAwaitDrain=!0,we.awaitDrainWriters=new X(we.awaitDrainWriters?[we.awaitDrainWriters]:[]))),we.pipes.push(m),oe("pipe count=%d opts=%j",we.pipes.length,F);const Qe=F&&!1===F.end||m===O.stdout||m===O.stderr?dt:pt;function pt(){oe("onend"),m.end()}we.endEmitted?O.nextTick(Qe):ie.once("end",Qe),m.on("unpipe",function kt(it,Ct){oe("onunpipe"),it===ie&&Ct&&!1===Ct.hasUnpiped&&(Ct.hasUnpiped=!0,function qt(){oe("cleanup"),m.removeListener("close",Ut),m.removeListener("finish",Nt),Et&&m.removeListener("drain",Et),m.removeListener("error",cn),m.removeListener("unpipe",kt),ie.removeListener("end",pt),ie.removeListener("end",dt),ie.removeListener("data",er),Lt=!0,Et&&we.awaitDrainWriters&&(!m._writableState||m._writableState.needDrain)&&Et()}())});let Et,Lt=!1;function Kt(){Lt||(1===we.pipes.length&&we.pipes[0]===m?(oe("false write response, pause",0),we.awaitDrainWriters=m,we.multiAwaitDrain=!1):we.pipes.length>1&&we.pipes.includes(m)&&(oe("false write response, pause",we.awaitDrainWriters.size),we.awaitDrainWriters.add(m)),ie.pause()),Et||(Et=function le(m,F){return function(){const we=m._readableState;we.awaitDrainWriters===F?(oe("pipeOnDrain",1),we.awaitDrainWriters=null):we.multiAwaitDrain&&(oe("pipeOnDrain",we.awaitDrainWriters.size),we.awaitDrainWriters.delete(F)),(!we.awaitDrainWriters||0===we.awaitDrainWriters.size)&&m.listenerCount("data")&&m.resume()}}(ie,m),m.on("drain",Et))}function er(it){oe("ondata");const Ct=m.write(it);oe("dest.write",Ct),!1===Ct&&Kt()}function cn(it){if(oe("onerror",it),dt(),m.removeListener("error",cn),0===m.listenerCount("error")){const Ct=m._writableState||m._readableState;Ct&&!Ct.errorEmitted?v(m,it):m.emit("error",it)}}function Ut(){m.removeListener("finish",Nt),dt()}function Nt(){oe("onfinish"),m.removeListener("close",Ut),dt()}function dt(){oe("unpipe"),ie.unpipe(m)}return ie.on("data",er),J(m,"error",cn),m.once("close",Ut),m.once("finish",Nt),m.emit("pipe",ie),!0===m.writableNeedDrain?we.flowing&&Kt():we.flowing||(oe("pipe resume"),ie.resume()),m},H.prototype.unpipe=function(m){const F=this._readableState;if(0===F.pipes.length)return this;if(!m){const Ie=F.pipes;F.pipes=[],this.pause();for(let Qe=0;Qe<Ie.length;Qe++)Ie[Qe].emit("unpipe",this,{hasUnpiped:!1});return this}const we=G(F.pipes,m);return-1===we||(F.pipes.splice(we,1),0===F.pipes.length&&this.pause(),m.emit("unpipe",this,{hasUnpiped:!1})),this},H.prototype.addListener=H.prototype.on=function(m,F){const ie=te.prototype.on.call(this,m,F),we=this._readableState;return"data"===m?(we.readableListening=this.listenerCount("readable")>0,!1!==we.flowing&&this.resume()):"readable"===m&&!we.endEmitted&&!we.readableListening&&(we.readableListening=we.needReadable=!0,we.flowing=!1,we.emittedReadable=!1,oe("on readable",we.length,we.reading),we.length?ge(this):we.reading||O.nextTick(re,this)),ie},H.prototype.off=H.prototype.removeListener=function(m,F){const ie=te.prototype.removeListener.call(this,m,F);return"readable"===m&&O.nextTick(he,this),ie},H.prototype.removeAllListeners=function(m){const F=te.prototype.removeAllListeners.apply(this,arguments);return("readable"===m||void 0===m)&&O.nextTick(he,this),F},H.prototype.resume=function(){const m=this._readableState;return m.flowing||(oe("resume"),m.flowing=!m.readableListening,function de(m,F){F.resumeScheduled||(F.resumeScheduled=!0,O.nextTick(pe,m,F))}(this,m)),m[C]=!1,this},H.prototype.pause=function(){return oe("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(oe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[C]=!0,this},H.prototype.wrap=function(m){let F=!1;m.on("data",we=>{!this.push(we)&&m.pause&&(F=!0,m.pause())}),m.on("end",()=>{this.push(null)}),m.on("error",we=>{v(this,we)}),m.on("close",()=>{this.destroy()}),m.on("destroy",()=>{this.destroy()}),this._read=()=>{F&&m.resume&&(F=!1,m.resume())};const ie=$(m);for(let we=1;we<ie.length;we++){const Ie=ie[we];void 0===this[Ie]&&"function"==typeof m[Ie]&&(this[Ie]=m[Ie].bind(m))}return this},H.prototype[V]=function(){return ke(this)},H.prototype.iterator=function(m){return void 0!==m&&T(m,"options"),ke(this,m)},N(H.prototype,{readable:{__proto__:null,get(){const m=this._readableState;return!(!m||!1===m.readable||m.destroyed||m.errorEmitted||m.endEmitted)},set(m){this._readableState&&(this._readableState.readable=!!m)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(m){this._readableState&&(this._readableState.flowing=m)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(m){this._readableState&&(this._readableState.destroyed=m)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),N(W.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[C]},set(m){this[C]=!!m}}}),H._fromList=Tt,H.from=function(m,F){return M(H,m,F)},H.fromWeb=function(m,F){return _().newStreamReadableFromReadableStream(m,F)},H.toWeb=function(m,F){return _().newReadableStreamFromStreamReadable(m,F)},H.wrap=function(m,F){var ie,we;return new H({objectMode:null===(ie=null!==(we=m.readableObjectMode)&&void 0!==we?we:m.objectMode)||void 0===ie||ie,...F,destroy(Ie,Qe){ae.destroyer(m,Ie),Qe(Ie)}}).wrap(m)}},43909:(Be,z,E)=>{"use strict";const{MathFloor:p,NumberIsInteger:S}=E(2220),{ERR_INVALID_ARG_VALUE:O}=E(85833).codes;function x(A){return A?16:16384}Be.exports={getHighWaterMark:function B(A,N,$,K){const D=function G(A,N,$){return null!=A.highWaterMark?A.highWaterMark:N?A[$]:null}(N,K,$);if(null!=D){if(!S(D)||D<0)throw new O(K?`options.${$}`:"options.highWaterMark",D);return p(D)}return x(A.objectMode)},getDefaultHighWaterMark:x}},33732:(Be,z,E)=>{"use strict";const{ObjectSetPrototypeOf:p,Symbol:S}=E(2220);Be.exports=A;const{ERR_METHOD_NOT_IMPLEMENTED:O}=E(85833).codes,G=E(85892),{getHighWaterMark:x}=E(43909);p(A.prototype,G.prototype),p(A,G);const B=S("kCallback");function A(K){if(!(this instanceof A))return new A(K);const D=K?x(this,K,"readableHighWaterMark",!0):null;0===D&&(K={...K,highWaterMark:null,readableHighWaterMark:D,writableHighWaterMark:K.writableHighWaterMark||0}),G.call(this,K),this._readableState.sync=!1,this[B]=null,K&&("function"==typeof K.transform&&(this._transform=K.transform),"function"==typeof K.flush&&(this._flush=K.flush)),this.on("prefinish",$)}function N(K){"function"!=typeof this._flush||this.destroyed?(this.push(null),K&&K()):this._flush((D,X)=>{D?K?K(D):this.destroy(D):(null!=X&&this.push(X),this.push(null),K&&K())})}function $(){this._final!==N&&N.call(this)}A.prototype._final=N,A.prototype._transform=function(K,D,X){throw new O("_transform()")},A.prototype._write=function(K,D,X){const V=this._readableState,Z=this._writableState,Q=V.length;this._transform(K,D,(te,J)=>{te?X(te):(null!=J&&this.push(J),Z.ended||Q===V.length||V.length<V.highWaterMark?X():this[B]=X)})},A.prototype._read=function(){if(this[B]){const K=this[B];this[B]=null,K()}}},76989:(Be,z,E)=>{"use strict";const{Symbol:p,SymbolAsyncIterator:S,SymbolIterator:O,SymbolFor:G}=E(2220),x=p("kDestroyed"),B=p("kIsErrored"),A=p("kIsReadable"),N=p("kIsDisturbed"),$=G("nodejs.webstream.isClosedPromise"),K=G("nodejs.webstream.controllerErrorFunction");function D(v,W=!1){var H;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||W&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(H=v._readableState)||void 0===H?void 0:H.readable)||v._writableState&&!v._readableState)}function X(v){var W;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===(W=v._writableState)||void 0===W?void 0:W.writable))}function Z(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function Q(v){return!(!v||Z(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function te(v){return!(!v||Z(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function J(v){return!(!v||Z(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function se(v){if(!Z(v))return null;const ee=v._writableState||v._readableState;return!!(v.destroyed||v[x]||null!=ee&&ee.destroyed)}function oe(v){if(!X(v))return null;if(!0===v.writableEnded)return!0;const W=v._writableState;return(null==W||!W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)}function ve(v,W){if(!D(v))return null;const H=v._readableState;return(null==H||!H.errored)&&("boolean"!=typeof H?.endEmitted?null:!!(H.endEmitted||!1===W&&!0===H.ended&&0===H.length))}function _e(v){return v&&null!=v[A]?v[A]:"boolean"!=typeof v?.readable?null:!se(v)&&D(v)&&v.readable&&!ve(v)}function De(v){return"boolean"!=typeof v?.writable?null:!se(v)&&X(v)&&v.writable&&!oe(v)}function w(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function T(v){return"boolean"==typeof v._sent100&&w(v)}Be.exports={kDestroyed:x,isDisturbed:function M(v){var W;return!(!v||!(null!==(W=v[N])&&void 0!==W?W:v.readableDidRead||v.readableAborted))},kIsDisturbed:N,isErrored:function d(v){var W,H,ee,fe,Ae,Pe,Le,be,ge,Re;return!(!v||!(null!==(W=null!==(H=null!==(ee=null!==(fe=null!==(Ae=null!==(Pe=v[B])&&void 0!==Pe?Pe:v.readableErrored)&&void 0!==Ae?Ae:v.writableErrored)&&void 0!==fe?fe:null===(Le=v._readableState)||void 0===Le?void 0:Le.errorEmitted)&&void 0!==ee?ee:null===(be=v._writableState)||void 0===be?void 0:be.errorEmitted)&&void 0!==H?H:null===(ge=v._readableState)||void 0===ge?void 0:ge.errored)&&void 0!==W?W:null!==(Re=v._writableState)&&void 0!==Re&&Re.errored))},kIsErrored:B,isReadable:_e,kIsReadable:A,kIsClosedPromise:$,kControllerErrorFunction:K,isClosed:function g(v){if(!Z(v))return null;if("boolean"==typeof v.closed)return v.closed;const W=v._writableState,H=v._readableState;return"boolean"==typeof W?.closed||"boolean"==typeof H?.closed?W?.closed||H?.closed:"boolean"==typeof v._closed&&w(v)?v._closed:null},isDestroyed:se,isDuplexNodeStream:function V(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function P(v,W){return Z(v)?!!se(v)||!(!1!==W?.readable&&_e(v)||!1!==W?.writable&&De(v)):null},isIterable:function ne(v,W){return null!=v&&(!0===W?"function"==typeof v[S]:!1===W?"function"==typeof v[O]:"function"==typeof v[S]||"function"==typeof v[O])},isReadableNodeStream:D,isReadableStream:Q,isReadableEnded:function ae(v){if(!D(v))return null;if(!0===v.readableEnded)return!0;const W=v._readableState;return!(!W||W.errored)&&("boolean"!=typeof W?.ended?null:W.ended)},isReadableFinished:ve,isReadableErrored:function h(v){var W,H;return Z(v)?v.readableErrored?v.readableErrored:null!==(W=null===(H=v._readableState)||void 0===H?void 0:H.errored)&&void 0!==W?W:null:null},isNodeStream:Z,isWebStream:function q(v){return Q(v)||te(v)||J(v)},isWritable:De,isWritableNodeStream:X,isWritableStream:te,isWritableEnded:oe,isWritableFinished:function ue(v,W){if(!X(v))return null;if(!0===v.writableFinished)return!0;const H=v._writableState;return(null==H||!H.errored)&&("boolean"!=typeof H?.finished?null:!!(H.finished||!1===W&&!0===H.ended&&0===H.length))},isWritableErrored:function u(v){var W,H;return Z(v)?v.writableErrored?v.writableErrored:null!==(W=null===(H=v._writableState)||void 0===H?void 0:H.errored)&&void 0!==W?W:null:null},isServerRequest:function C(v){var W;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===(W=v.req)||void 0===W?void 0:W.upgradeOrConnect)},isServerResponse:T,willEmitClose:function j(v){if(!Z(v))return null;const ee=v._writableState||v._readableState;return!ee&&T(v)||!!(ee&&ee.autoDestroy&&ee.emitClose&&!1===ee.closed)},isTransformStream:J}},39070:(Be,z,E)=>{const p=E(40573),{ArrayPrototypeSlice:S,Error:O,FunctionPrototypeSymbolHasInstance:G,ObjectDefineProperty:x,ObjectDefineProperties:B,ObjectSetPrototypeOf:A,StringPrototypeToLowerCase:N,Symbol:$,SymbolHasInstance:K}=E(2220);Be.exports=T,T.WritableState=g;const{EventEmitter:D}=E(44356),X=E(90845).Stream,{Buffer:V}=E(37945),Z=E(23370),{addAbortSignal:Q}=E(55397),{getHighWaterMark:te,getDefaultHighWaterMark:J}=E(43909),{ERR_INVALID_ARG_TYPE:q,ERR_METHOD_NOT_IMPLEMENTED:ne,ERR_MULTIPLE_CALLBACK:se,ERR_STREAM_CANNOT_PIPE:oe,ERR_STREAM_DESTROYED:ue,ERR_STREAM_ALREADY_FINISHED:ae,ERR_STREAM_NULL_VALUES:ve,ERR_STREAM_WRITE_AFTER_END:_e,ERR_UNKNOWN_ENCODING:De}=E(85833).codes,{errorOrDestroy:P}=Z;function u(){}A(T.prototype,X.prototype),A(T,X);const h=$("kOnFinished");function g(le,he,re){"boolean"!=typeof re&&(re=he instanceof E(85892)),this.objectMode=!(!le||!le.objectMode),re&&(this.objectMode=this.objectMode||!(!le||!le.writableObjectMode)),this.highWaterMark=le?te(this,le,"writableHighWaterMark",re):J(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(le&&!1===le.decodeStrings),this.defaultEncoding=le&&le.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,he),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,w(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!le||!1!==le.emitClose,this.autoDestroy=!le||!1!==le.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[h]=[]}function w(le){le.buffered=[],le.bufferedIndex=0,le.allBuffers=!0,le.allNoop=!0}function T(le){const he=this instanceof E(85892);if(!he&&!G(T,this))return new T(le);this._writableState=new g(le,this,he),le&&("function"==typeof le.write&&(this._write=le.write),"function"==typeof le.writev&&(this._writev=le.writev),"function"==typeof le.destroy&&(this._destroy=le.destroy),"function"==typeof le.final&&(this._final=le.final),"function"==typeof le.construct&&(this._construct=le.construct),le.signal&&Q(le.signal,this)),X.call(this,le),Z.construct(this,()=>{const re=this._writableState;re.writing||fe(this,re),be(this,re)})}function C(le,he,re,de){const pe=le._writableState;if("function"==typeof re)de=re,re=pe.defaultEncoding;else{if(re){if("buffer"!==re&&!V.isEncoding(re))throw new De(re)}else re=pe.defaultEncoding;"function"!=typeof de&&(de=u)}if(null===he)throw new ve;if(!pe.objectMode)if("string"==typeof he)!1!==pe.decodeStrings&&(he=V.from(he,re),re="buffer");else if(he instanceof V)re="buffer";else{if(!X._isUint8Array(he))throw new q("chunk",["string","Buffer","Uint8Array"],he);he=X._uint8ArrayToBuffer(he),re="buffer"}let Se;return pe.ending?Se=new _e:pe.destroyed&&(Se=new ue("write")),Se?(p.nextTick(de,Se),P(le,Se,!0),Se):(pe.pendingcb++,function j(le,he,re,de,pe){const Se=he.objectMode?1:re.length;he.length+=Se;const ke=he.length<he.highWaterMark;return ke||(he.needDrain=!0),he.writing||he.corked||he.errored||!he.constructed?(he.buffered.push({chunk:re,encoding:de,callback:pe}),he.allBuffers&&"buffer"!==de&&(he.allBuffers=!1),he.allNoop&&pe!==u&&(he.allNoop=!1)):(he.writelen=Se,he.writecb=pe,he.writing=!0,he.sync=!0,le._write(re,de,he.onwrite),he.sync=!1),ke&&!he.errored&&!he.destroyed}(le,pe,he,re,de))}function M(le,he,re,de,pe,Se,ke){he.writelen=de,he.writecb=ke,he.writing=!0,he.sync=!0,he.destroyed?he.onwrite(new ue("write")):re?le._writev(pe,he.onwrite):le._write(pe,Se,he.onwrite),he.sync=!1}function d(le,he,re,de){--he.pendingcb,de(re),ee(he),P(le,re)}function v(le,he){const re=le._writableState,de=re.sync,pe=re.writecb;"function"==typeof pe?(re.writing=!1,re.writecb=null,re.length-=re.writelen,re.writelen=0,he?(re.errored||(re.errored=he),le._readableState&&!le._readableState.errored&&(le._readableState.errored=he),de?p.nextTick(d,le,re,he,pe):d(le,re,he,pe)):(re.buffered.length>re.bufferedIndex&&fe(le,re),de?null!==re.afterWriteTickInfo&&re.afterWriteTickInfo.cb===pe?re.afterWriteTickInfo.count++:(re.afterWriteTickInfo={count:1,cb:pe,stream:le,state:re},p.nextTick(W,re.afterWriteTickInfo)):H(le,re,1,pe))):P(le,new se)}function W({stream:le,state:he,count:re,cb:de}){return he.afterWriteTickInfo=null,H(le,he,re,de)}function H(le,he,re,de){for(!he.ending&&!le.destroyed&&0===he.length&&he.needDrain&&(he.needDrain=!1,le.emit("drain"));re-- >0;)he.pendingcb--,de();he.destroyed&&ee(he),be(le,he)}function ee(le){if(le.writing)return;for(let pe=le.bufferedIndex;pe<le.buffered.length;++pe){var he;const{chunk:Se,callback:ke}=le.buffered[pe];le.length-=le.objectMode?1:Se.length,ke(null!==(he=le.errored)&&void 0!==he?he:new ue("write"))}const re=le[h].splice(0);for(let pe=0;pe<re.length;pe++){var de;re[pe](null!==(de=le.errored)&&void 0!==de?de:new ue("end"))}w(le)}function fe(le,he){if(he.corked||he.bufferProcessing||he.destroyed||!he.constructed)return;const{buffered:re,bufferedIndex:de,objectMode:pe}=he,Se=re.length-de;if(!Se)return;let ke=de;if(he.bufferProcessing=!0,Se>1&&le._writev){he.pendingcb-=Se-1;const Fe=he.allNoop?u:Tt=>{for(let Xe=ke;Xe<re.length;++Xe)re[Xe].callback(Tt)},We=he.allNoop&&0===ke?re:S(re,ke);We.allBuffers=he.allBuffers,M(le,he,!0,he.length,We,"",Fe),w(he)}else{do{const{chunk:Fe,encoding:We,callback:Tt}=re[ke];re[ke++]=null,M(le,he,!1,pe?1:Fe.length,Fe,We,Tt)}while(ke<re.length&&!he.writing);ke===re.length?w(he):ke>256?(re.splice(0,ke),he.bufferedIndex=0):he.bufferedIndex=ke}he.bufferProcessing=!1}function Ae(le){return le.ending&&!le.destroyed&&le.constructed&&0===le.length&&!le.errored&&0===le.buffered.length&&!le.finished&&!le.writing&&!le.errorEmitted&&!le.closeEmitted}function be(le,he,re){Ae(he)&&(function Le(le,he){!he.prefinished&&!he.finalCalled&&("function"!=typeof le._final||he.destroyed?(he.prefinished=!0,le.emit("prefinish")):(he.finalCalled=!0,function Pe(le,he){let re=!1;function de(pe){if(re)P(le,pe??se());else if(re=!0,he.pendingcb--,pe){const Se=he[h].splice(0);for(let ke=0;ke<Se.length;ke++)Se[ke](pe);P(le,pe,he.sync)}else Ae(he)&&(he.prefinished=!0,le.emit("prefinish"),he.pendingcb++,p.nextTick(ge,le,he))}he.sync=!0,he.pendingcb++;try{le._final(de)}catch(pe){de(pe)}he.sync=!1}(le,he)))}(le,he),0===he.pendingcb&&(re?(he.pendingcb++,p.nextTick((de,pe)=>{Ae(pe)?ge(de,pe):pe.pendingcb--},le,he)):Ae(he)&&(he.pendingcb++,ge(le,he))))}function ge(le,he){he.pendingcb--,he.finished=!0;const re=he[h].splice(0);for(let de=0;de<re.length;de++)re[de]();if(le.emit("finish"),he.autoDestroy){const de=le._readableState;(!de||de.autoDestroy&&(de.endEmitted||!1===de.readable))&&le.destroy()}}g.prototype.getBuffer=function(){return S(this.buffered,this.bufferedIndex)},x(g.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),x(T,K,{__proto__:null,value:function(le){return!!G(this,le)||this===T&&le&&le._writableState instanceof g}}),T.prototype.pipe=function(){P(this,new oe)},T.prototype.write=function(le,he,re){return!0===C(this,le,he,re)},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){const le=this._writableState;le.corked&&(le.corked--,le.writing||fe(this,le))},T.prototype.setDefaultEncoding=function(he){if("string"==typeof he&&(he=N(he)),!V.isEncoding(he))throw new De(he);return this._writableState.defaultEncoding=he,this},T.prototype._write=function(le,he,re){if(!this._writev)throw new ne("_write()");this._writev([{chunk:le,encoding:he}],re)},T.prototype._writev=null,T.prototype.end=function(le,he,re){const de=this._writableState;let pe;if("function"==typeof le?(re=le,le=null,he=null):"function"==typeof he&&(re=he,he=null),null!=le){const Se=C(this,le,he);Se instanceof O&&(pe=Se)}return de.corked&&(de.corked=1,this.uncork()),pe||(de.errored||de.ending?de.finished?pe=new ae("end"):de.destroyed&&(pe=new ue("end")):(de.ending=!0,be(this,de,!0),de.ended=!0)),"function"==typeof re&&(pe||de.finished?p.nextTick(re,pe):de[h].push(re)),this},B(T.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(le){this._writableState&&(this._writableState.destroyed=le)}},writable:{__proto__:null,get(){const le=this._writableState;return!(!le||!1===le.writable||le.destroyed||le.errored||le.ending||le.ended)},set(le){this._writableState&&(this._writableState.writable=!!le)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const le=this._writableState;return!!le&&!le.destroyed&&!le.ending&&le.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Re=Z.destroy;let me;function xe(){return void 0===me&&(me={}),me}T.prototype.destroy=function(le,he){const re=this._writableState;return!re.destroyed&&(re.bufferedIndex<re.buffered.length||re[h].length)&&p.nextTick(ee,re),Re.call(this,le,he),this},T.prototype._undestroy=Z.undestroy,T.prototype._destroy=function(le,he){he(le)},T.prototype[D.captureRejectionSymbol]=function(le){this.destroy(le)},T.fromWeb=function(le,he){return xe().newStreamWritableFromWritableStream(le,he)},T.toWeb=function(le){return xe().newWritableStreamFromStreamWritable(le)}},48119:(Be,z,E)=>{"use strict";const{ArrayIsArray:p,ArrayPrototypeIncludes:S,ArrayPrototypeJoin:O,ArrayPrototypeMap:G,NumberIsInteger:x,NumberIsNaN:B,NumberMAX_SAFE_INTEGER:A,NumberMIN_SAFE_INTEGER:N,NumberParseInt:$,ObjectPrototypeHasOwnProperty:K,RegExpPrototypeExec:D,String:X,StringPrototypeToUpperCase:V,StringPrototypeTrim:Z}=E(2220),{hideStackFrames:Q,codes:{ERR_SOCKET_BAD_PORT:te,ERR_INVALID_ARG_TYPE:J,ERR_INVALID_ARG_VALUE:q,ERR_OUT_OF_RANGE:ne,ERR_UNKNOWN_SIGNAL:se}}=E(85833),{normalizeEncoding:oe}=E(82578),{isAsyncFunction:ue,isArrayBufferView:ae}=E(82578).types,ve={},P=/^[0-7]+$/,g=Q((Se,ke,Fe=N,We=A)=>{if("number"!=typeof Se)throw new J(ke,"number",Se);if(!x(Se))throw new ne(ke,"an integer",Se);if(Se<Fe||Se>We)throw new ne(ke,`>= ${Fe} && <= ${We}`,Se)}),w=Q((Se,ke,Fe=-2147483648,We=2147483647)=>{if("number"!=typeof Se)throw new J(ke,"number",Se);if(!x(Se))throw new ne(ke,"an integer",Se);if(Se<Fe||Se>We)throw new ne(ke,`>= ${Fe} && <= ${We}`,Se)}),T=Q((Se,ke,Fe=!1)=>{if("number"!=typeof Se)throw new J(ke,"number",Se);if(!x(Se))throw new ne(ke,"an integer",Se);const We=Fe?1:0,Tt=4294967295;if(Se<We||Se>Tt)throw new ne(ke,`>= ${We} && <= ${Tt}`,Se)});function C(Se,ke){if("string"!=typeof Se)throw new J(ke,"string",Se)}const M=Q((Se,ke,Fe)=>{if(!S(Fe,Se)){const Tt="must be one of: "+O(G(Fe,Xe=>"string"==typeof Xe?`'${Xe}'`:X(Xe)),", ");throw new q(ke,Se,Tt)}});function d(Se,ke){if("boolean"!=typeof Se)throw new J(ke,"boolean",Se)}function v(Se,ke,Fe){return null!=Se&&K(Se,ke)?Se[ke]:Fe}const W=Q((Se,ke,Fe=null)=>{const We=v(Fe,"allowArray",!1),Tt=v(Fe,"allowFunction",!1);if(!v(Fe,"nullable",!1)&&null===Se||!We&&p(Se)||"object"!=typeof Se&&(!Tt||"function"!=typeof Se))throw new J(ke,"Object",Se)}),H=Q((Se,ke)=>{if(null!=Se&&"object"!=typeof Se&&"function"!=typeof Se)throw new J(ke,"a dictionary",Se)}),ee=Q((Se,ke,Fe=0)=>{if(!p(Se))throw new J(ke,"Array",Se);if(Se.length<Fe)throw new q(ke,Se,`must be longer than ${Fe}`)}),Le=Q((Se,ke="buffer")=>{if(!ae(Se))throw new J(ke,["Buffer","TypedArray","DataView"],Se)}),Re=Q((Se,ke)=>{if(void 0!==Se&&(null===Se||"object"!=typeof Se||!("aborted"in Se)))throw new J(ke,"AbortSignal",Se)}),me=Q((Se,ke)=>{if("function"!=typeof Se)throw new J(ke,"Function",Se)}),xe=Q((Se,ke)=>{if("function"!=typeof Se||ue(Se))throw new J(ke,"Function",Se)}),le=Q((Se,ke)=>{if(void 0!==Se)throw new J(ke,"undefined",Se)}),re=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function de(Se,ke){if(typeof Se>"u"||!D(re,Se))throw new q(ke,Se,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Be.exports={isInt32:function _e(Se){return Se===(0|Se)},isUint32:function De(Se){return Se===Se>>>0},parseFileMode:function h(Se,ke,Fe){if(typeof Se>"u"&&(Se=Fe),"string"==typeof Se){if(null===D(P,Se))throw new q(ke,Se,"must be a 32-bit unsigned integer or an octal string");Se=$(Se,8)}return T(Se,ke),Se},validateArray:ee,validateStringArray:function fe(Se,ke){ee(Se,ke);for(let Fe=0;Fe<Se.length;Fe++)C(Se[Fe],`${ke}[${Fe}]`)},validateBooleanArray:function Ae(Se,ke){ee(Se,ke);for(let Fe=0;Fe<Se.length;Fe++)d(Se[Fe],`${ke}[${Fe}]`)},validateBoolean:d,validateBuffer:Le,validateDictionary:H,validateEncoding:function be(Se,ke){const Fe=oe(ke),We=Se.length;if("hex"===Fe&&We%2!=0)throw new q("encoding",ke,`is invalid for data of length ${We}`)},validateFunction:me,validateInt32:w,validateInteger:g,validateNumber:function j(Se,ke,Fe=void 0,We){if("number"!=typeof Se)throw new J(ke,"number",Se);if(null!=Fe&&Se<Fe||null!=We&&Se>We||(null!=Fe||null!=We)&&B(Se))throw new ne(ke,`${null!=Fe?`>= ${Fe}`:""}${null!=Fe&&null!=We?" && ":""}${null!=We?`<= ${We}`:""}`,Se)},validateObject:W,validateOneOf:M,validatePlainFunction:xe,validatePort:function ge(Se,ke="Port",Fe=!0){if("number"!=typeof Se&&"string"!=typeof Se||"string"==typeof Se&&0===Z(Se).length||+Se!=+Se>>>0||Se>65535||0===Se&&!Fe)throw new te(ke,Se,Fe);return 0|Se},validateSignalName:function Pe(Se,ke="signal"){if(C(Se,ke),void 0===ve[Se])throw void 0!==ve[V(Se)]?new se(Se+" (signals must use all capital letters)"):new se(Se)},validateString:C,validateUint32:T,validateUndefined:le,validateUnion:function he(Se,ke,Fe){if(!S(Fe,Se))throw new J(ke,`('${O(Fe,"|")}')`,Se)},validateAbortSignal:Re,validateLinkHeaderValue:function pe(Se){if("string"==typeof Se)return de(Se,"hints"),Se;if(p(Se)){const ke=Se.length;let Fe="";if(0===ke)return Fe;for(let We=0;We<ke;We++){const Tt=Se[We];de(Tt,"hints"),Fe+=Tt,We!==ke-1&&(Fe+=", ")}return Fe}throw new q("hints",Se,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},80868:(Be,z,E)=>{"use strict";const p=E(59800),S=E(4581),O=p.Readable.destroy;Be.exports=p.Readable,Be.exports._uint8ArrayToBuffer=p._uint8ArrayToBuffer,Be.exports._isUint8Array=p._isUint8Array,Be.exports.isDisturbed=p.isDisturbed,Be.exports.isErrored=p.isErrored,Be.exports.isReadable=p.isReadable,Be.exports.Readable=p.Readable,Be.exports.Writable=p.Writable,Be.exports.Duplex=p.Duplex,Be.exports.Transform=p.Transform,Be.exports.PassThrough=p.PassThrough,Be.exports.addAbortSignal=p.addAbortSignal,Be.exports.finished=p.finished,Be.exports.destroy=p.destroy,Be.exports.destroy=O,Be.exports.pipeline=p.pipeline,Be.exports.compose=p.compose,Object.defineProperty(p,"promises",{configurable:!0,enumerable:!0,get:()=>S}),Be.exports.Stream=p.Stream,Be.exports.default=Be.exports},85833:(Be,z,E)=>{"use strict";const{format:p,inspect:S,AggregateError:O}=E(82578),G=globalThis.AggregateError||O,x=Symbol("kIsNodeError"),B=["string","function","number","object","Function","Object","boolean","bigint","symbol"],A=/^([A-Z][a-z0-9]*)+$/,$={};function K(J,q){if(!J)throw new $.ERR_INTERNAL_ASSERTION(q)}function D(J){let q="",ne=J.length;const se="-"===J[0]?1:0;for(;ne>=se+4;ne-=3)q=`_${J.slice(ne-3,ne)}${q}`;return`${J.slice(0,ne)}${q}`}function V(J,q,ne){ne||(ne=Error);class se extends ne{constructor(...ue){super(function X(J,q,ne){if("function"==typeof q)return K(q.length<=ne.length,`Code: ${J}; The provided arguments length (${ne.length}) does not match the required ones (${q.length}).`),q(...ne);const se=(q.match(/%[dfijoOs]/g)||[]).length;return K(se===ne.length,`Code: ${J}; The provided arguments length (${ne.length}) does not match the required ones (${se}).`),0===ne.length?q:p(q,...ne)}(J,q,ue))}toString(){return`${this.name} [${J}]: ${this.message}`}}Object.defineProperties(se.prototype,{name:{value:ne.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${J}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),se.prototype.code=J,se.prototype[x]=!0,$[J]=se}function Z(J){return Object.defineProperty(J,"name",{value:"__node_internal_"+J.name}),J}class te extends Error{constructor(q="The operation was aborted",ne=void 0){if(void 0!==ne&&"object"!=typeof ne)throw new $.ERR_INVALID_ARG_TYPE("options","Object",ne);super(q,ne),this.code="ABORT_ERR",this.name="AbortError"}}V("ERR_ASSERTION","%s",Error),V("ERR_INVALID_ARG_TYPE",(J,q,ne)=>{K("string"==typeof J,"'name' must be a string"),Array.isArray(q)||(q=[q]);let se="The ";J.endsWith(" argument")?se+=`${J} `:se+=`"${J}" ${J.includes(".")?"property":"argument"} `,se+="must be ";const oe=[],ue=[],ae=[];for(const _e of q)K("string"==typeof _e,"All expected entries have to be of type string"),B.includes(_e)?oe.push(_e.toLowerCase()):A.test(_e)?ue.push(_e):(K("object"!==_e,'The value "object" should be written as "Object"'),ae.push(_e));if(ue.length>0){const _e=oe.indexOf("object");-1!==_e&&(oe.splice(oe,_e,1),ue.push("Object"))}if(oe.length>0){switch(oe.length){case 1:se+=`of type ${oe[0]}`;break;case 2:se+=`one of type ${oe[0]} or ${oe[1]}`;break;default:{const _e=oe.pop();se+=`one of type ${oe.join(", ")}, or ${_e}`}}(ue.length>0||ae.length>0)&&(se+=" or ")}if(ue.length>0){switch(ue.length){case 1:se+=`an instance of ${ue[0]}`;break;case 2:se+=`an instance of ${ue[0]} or ${ue[1]}`;break;default:{const _e=ue.pop();se+=`an instance of ${ue.join(", ")}, or ${_e}`}}ae.length>0&&(se+=" or ")}switch(ae.length){case 0:break;case 1:ae[0].toLowerCase()!==ae[0]&&(se+="an "),se+=`${ae[0]}`;break;case 2:se+=`one of ${ae[0]} or ${ae[1]}`;break;default:{const _e=ae.pop();se+=`one of ${ae.join(", ")}, or ${_e}`}}if(null==ne)se+=`. Received ${ne}`;else if("function"==typeof ne&&ne.name)se+=`. Received function ${ne.name}`;else if("object"==typeof ne){var ve;null!==(ve=ne.constructor)&&void 0!==ve&&ve.name?se+=`. Received an instance of ${ne.constructor.name}`:se+=`. Received ${S(ne,{depth:-1})}`}else{let _e=S(ne,{colors:!1});_e.length>25&&(_e=`${_e.slice(0,25)}...`),se+=`. Received type ${typeof ne} (${_e})`}return se},TypeError),V("ERR_INVALID_ARG_VALUE",(J,q,ne="is invalid")=>{let se=S(q);return se.length>128&&(se=se.slice(0,128)+"..."),`The ${J.includes(".")?"property":"argument"} '${J}' ${ne}. Received ${se}`},TypeError),V("ERR_INVALID_RETURN_VALUE",(J,q,ne)=>{var se;return`Expected ${J} to be returned from the "${q}" function but got ${null!=ne&&null!==(se=ne.constructor)&&void 0!==se&&se.name?`instance of ${ne.constructor.name}`:"type "+typeof ne}.`},TypeError),V("ERR_MISSING_ARGS",(...J)=>{let q;K(J.length>0,"At least one arg needs to be specified");const ne=J.length;switch(J=(Array.isArray(J)?J:[J]).map(se=>`"${se}"`).join(" or "),ne){case 1:q+=`The ${J[0]} argument`;break;case 2:q+=`The ${J[0]} and ${J[1]} arguments`;break;default:{const se=J.pop();q+=`The ${J.join(", ")}, and ${se} arguments`}}return`${q} must be specified`},TypeError),V("ERR_OUT_OF_RANGE",(J,q,ne)=>{let se;return K(q,'Missing "range" argument'),Number.isInteger(ne)&&Math.abs(ne)>2**32?se=D(String(ne)):"bigint"==typeof ne?(se=String(ne),(ne>2n**32n||ne<-(2n**32n))&&(se=D(se)),se+="n"):se=S(ne),`The value of "${J}" is out of range. It must be ${q}. Received ${se}`},RangeError),V("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),V("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),V("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),V("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),V("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),V("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),V("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),V("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),V("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),V("ERR_STREAM_WRITE_AFTER_END","write after end",Error),V("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Be.exports={AbortError:te,aggregateTwoErrors:Z(function Q(J,q){if(J&&q&&J!==q){if(Array.isArray(q.errors))return q.errors.push(J),q;const ne=new G([q,J],q.message);return ne.code=q.code,ne}return J||q}),hideStackFrames:Z,codes:$}},2220:Be=>{"use strict";Be.exports={ArrayIsArray:z=>Array.isArray(z),ArrayPrototypeIncludes:(z,E)=>z.includes(E),ArrayPrototypeIndexOf:(z,E)=>z.indexOf(E),ArrayPrototypeJoin:(z,E)=>z.join(E),ArrayPrototypeMap:(z,E)=>z.map(E),ArrayPrototypePop:(z,E)=>z.pop(E),ArrayPrototypePush:(z,E)=>z.push(E),ArrayPrototypeSlice:(z,E,p)=>z.slice(E,p),Error,FunctionPrototypeCall:(z,E,...p)=>z.call(E,...p),FunctionPrototypeSymbolHasInstance:(z,E)=>Function.prototype[Symbol.hasInstance].call(z,E),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(z,E)=>Object.defineProperties(z,E),ObjectDefineProperty:(z,E,p)=>Object.defineProperty(z,E,p),ObjectGetOwnPropertyDescriptor:(z,E)=>Object.getOwnPropertyDescriptor(z,E),ObjectKeys:z=>Object.keys(z),ObjectSetPrototypeOf:(z,E)=>Object.setPrototypeOf(z,E),Promise,PromisePrototypeCatch:(z,E)=>z.catch(E),PromisePrototypeThen:(z,E,p)=>z.then(E,p),PromiseReject:z=>Promise.reject(z),ReflectApply:Reflect.apply,RegExpPrototypeTest:(z,E)=>z.test(E),SafeSet:Set,String,StringPrototypeSlice:(z,E,p)=>z.slice(E,p),StringPrototypeToLowerCase:z=>z.toLowerCase(),StringPrototypeToUpperCase:z=>z.toUpperCase(),StringPrototypeTrim:z=>z.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(z,E,p)=>z.set(E,p),Uint8Array}},82578:(Be,z,E)=>{"use strict";var p=E(29293).default;const S=E(37945),O=Object.getPrototypeOf(p(function*(){})).constructor,G=globalThis.Blob||S.Blob,x=typeof G<"u"?function(N){return N instanceof G}:function(N){return!1};class B extends Error{constructor(N){if(!Array.isArray(N))throw new TypeError("Expected input to be an Array, got "+typeof N);let $="";for(let K=0;K<N.length;K++)$+=`    ${N[K].stack}\n`;super($),this.name="AggregateError",this.errors=N}}Be.exports={AggregateError:B,kEmptyObject:Object.freeze({}),once(A){let N=!1;return function(...$){N||(N=!0,A.apply(this,$))}},createDeferredPromise:function(){let A,N;return{promise:new Promise((K,D)=>{A=K,N=D}),resolve:A,reject:N}},promisify:A=>new Promise((N,$)=>{A((K,...D)=>K?$(K):N(...D))}),debuglog:()=>function(){},format:(A,...N)=>A.replace(/%([sdifj])/g,function(...[$,K]){const D=N.shift();return"f"===K?D.toFixed(6):"j"===K?JSON.stringify(D):"s"===K&&"object"==typeof D?`${D.constructor!==Object?D.constructor.name:""} {}`.trim():D.toString()}),inspect(A){switch(typeof A){case"string":if(A.includes("'")){if(!A.includes('"'))return`"${A}"`;if(!A.includes("`")&&!A.includes("${"))return`\`${A}\``}return`'${A}'`;case"number":return isNaN(A)?"NaN":Object.is(A,-0)?String(A):A;case"bigint":return`${String(A)}n`;case"boolean":case"undefined":return String(A);case"object":return"{}"}},types:{isAsyncFunction:A=>A instanceof O,isArrayBufferView:A=>ArrayBuffer.isView(A)},isBlob:x},Be.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},59800:(Be,z,E)=>{const{Buffer:p}=E(37945),{ObjectDefineProperty:S,ObjectKeys:O,ReflectApply:G}=E(2220),{promisify:{custom:x}}=E(82578),{streamReturningOperators:B,promiseReturningOperators:A}=E(54705),{codes:{ERR_ILLEGAL_CONSTRUCTOR:N}}=E(85833),$=E(90972),{pipeline:K}=E(63596),{destroyer:D}=E(23370),X=E(68208),Z=E(4581),Q=E(76989),te=Be.exports=E(90845).Stream;te.isDisturbed=Q.isDisturbed,te.isErrored=Q.isErrored,te.isReadable=Q.isReadable,te.Readable=E(84730);for(const ne of O(B)){let oe=function(...ue){if(new.target)throw N();return te.Readable.from(G(se,this,ue))};const se=B[ne];S(oe,"name",{__proto__:null,value:se.name}),S(oe,"length",{__proto__:null,value:se.length}),S(te.Readable.prototype,ne,{__proto__:null,value:oe,enumerable:!1,configurable:!0,writable:!0})}for(const ne of O(A)){let oe=function(...ae){if(new.target)throw N();return G(se,this,ae)};const se=A[ne];S(oe,"name",{__proto__:null,value:se.name}),S(oe,"length",{__proto__:null,value:se.length}),S(te.Readable.prototype,ne,{__proto__:null,value:oe,enumerable:!1,configurable:!0,writable:!0})}te.Writable=E(39070),te.Duplex=E(85892),te.Transform=E(33732),te.PassThrough=E(5358),te.pipeline=K;const{addAbortSignal:J}=E(55397);te.addAbortSignal=J,te.finished=X,te.destroy=D,te.compose=$,S(te,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>Z}),S(K,x,{__proto__:null,enumerable:!0,get:()=>Z.pipeline}),S(X,x,{__proto__:null,enumerable:!0,get:()=>Z.finished}),te.Stream=te,te._isUint8Array=function(se){return se instanceof Uint8Array},te._uint8ArrayToBuffer=function(se){return p.from(se.buffer,se.byteOffset,se.byteLength)}},4581:(Be,z,E)=>{"use strict";const{ArrayPrototypePop:p,Promise:S}=E(2220),{isIterable:O,isNodeStream:G,isWebStream:x}=E(76989),{pipelineImpl:B}=E(63596),{finished:A}=E(68208);E(59800),Be.exports={finished:A,pipeline:function N(...$){return new S((K,D)=>{let X,V;const Z=$[$.length-1];if(Z&&"object"==typeof Z&&!G(Z)&&!O(Z)&&!x(Z)){const Q=p($);X=Q.signal,V=Q.end}B($,(Q,te)=>{Q?D(Q):K(te)},{signal:X,end:V})})}}},67449:(Be,z,E)=>{z.Level=E(23963).BrowserLevel},97829:Be=>{var z=1e3,E=60*z,p=60*E,S=24*p,O=7*S;function N($,K,D,X){var V=K>=1.5*D;return Math.round($/D)+" "+X+(V?"s":"")}Be.exports=function($,K){K=K||{};var D=typeof $;if("string"===D&&$.length>0)return function x($){if(!(($=String($)).length>100)){var K=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(K){var D=parseFloat(K[1]);switch((K[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*D;case"weeks":case"week":case"w":return D*O;case"days":case"day":case"d":return D*S;case"hours":case"hour":case"hrs":case"hr":case"h":return D*p;case"minutes":case"minute":case"mins":case"min":case"m":return D*E;case"seconds":case"second":case"secs":case"sec":case"s":return D*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}($);if("number"===D&&isFinite($))return K.long?function A($){var K=Math.abs($);return K>=S?N($,K,S,"day"):K>=p?N($,K,p,"hour"):K>=E?N($,K,E,"minute"):K>=z?N($,K,z,"second"):$+" ms"}($):function B($){var K=Math.abs($);return K>=S?Math.round($/S)+"d":K>=p?Math.round($/p)+"h":K>=E?Math.round($/E)+"m":K>=z?Math.round($/z)+"s":$+"ms"}($);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify($))}},9465:Be=>{"use strict";const{AbortController:z,AbortSignal:E}=typeof self<"u"?self:typeof window<"u"?window:void 0;Be.exports=z,Be.exports.AbortSignal=E,Be.exports.default=z},91463:(Be,z,E)=>{"use strict";const{fromCallback:p}=E(42381),S=E(61747),{getCallback:O,getOptions:G}=E(10475),x=Symbol("promise"),B=Symbol("status"),A=Symbol("operations"),N=Symbol("finishClose"),$=Symbol("closeCallbacks");z.AbstractChainedBatch=class K{constructor(X){if("object"!=typeof X||null===X)throw new TypeError("The first argument must be an abstract-level database, received "+(null===X?"null":typeof X));this[A]=[],this[$]=[],this[B]="open",this[N]=this[N].bind(this),this.db=X,this.db.attachResource(this),this.nextTick=X.nextTick}get length(){return this[A].length}put(X,V,Z){if("open"!==this[B])throw new S("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const Q=this.db._checkKey(X)||this.db._checkValue(V);if(Q)throw Q;const te=Z&&null!=Z.sublevel?Z.sublevel:this.db,J=Z,q=te.keyEncoding(Z&&Z.keyEncoding),ne=te.valueEncoding(Z&&Z.valueEncoding),se=q.format;Z={...Z,keyEncoding:se,valueEncoding:ne.format},te!==this.db&&(Z.sublevel=null);const oe=te.prefixKey(q.encode(X),se),ue=ne.encode(V);return this._put(oe,ue,Z),this[A].push({...J,type:"put",key:X,value:V}),this}_put(X,V,Z){}del(X,V){if("open"!==this[B])throw new S("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const Z=this.db._checkKey(X);if(Z)throw Z;const Q=V&&null!=V.sublevel?V.sublevel:this.db,te=V,J=Q.keyEncoding(V&&V.keyEncoding),q=J.format;return V={...V,keyEncoding:q},Q!==this.db&&(V.sublevel=null),this._del(Q.prefixKey(J.encode(X),q),V),this[A].push({...te,type:"del",key:X}),this}_del(X,V){}clear(){if("open"!==this[B])throw new S("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[A]=[],this}_clear(){}write(X,V){return V=O(X,V),V=p(V,x),X=G(X),"open"!==this[B]?this.nextTick(V,new S("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):0===this.length?this.close(V):(this[B]="writing",this._write(X,Z=>{this[B]="closing",this[$].push(()=>V(Z)),Z||this.db.emit("batch",this[A]),this._close(this[N])})),V[x]}_write(X,V){}close(X){return X=p(X,x),"closing"===this[B]?this[$].push(X):"closed"===this[B]?this.nextTick(X):(this[$].push(X),"writing"!==this[B]&&(this[B]="closing",this._close(this[N]))),X[x]}_close(X){this.nextTick(X)}[N](){this[B]="closed",this.db.detachResource(this);const X=this[$];this[$]=[];for(const V of X)V()}}},63294:(Be,z,E)=>{"use strict";var p=E(53344).default,S=E(42958).default;const{fromCallback:O}=E(42381),G=E(61747),{getOptions:x,getCallback:B}=E(10475),A=Symbol("promise"),N=Symbol("callback"),$=Symbol("working"),K=Symbol("handleOne"),D=Symbol("handleMany"),X=Symbol("autoClose"),V=Symbol("finishWork"),Z=Symbol("returnMany"),Q=Symbol("closing"),te=Symbol("handleClose"),J=Symbol("closed"),q=Symbol("closeCallbacks"),ne=Symbol("keyEncoding"),se=Symbol("valueEncoding"),oe=Symbol("abortOnClose"),ue=Symbol("legacy"),ae=Symbol("keys"),ve=Symbol("values"),_e=Symbol("limit"),De=Symbol("count"),P=Object.freeze({}),u=()=>{};let h=!1;class g{constructor(d,v,W){if("object"!=typeof d||null===d)throw new TypeError("The first argument must be an abstract-level database, received "+(null===d?"null":typeof d));if("object"!=typeof v||null===v)throw new TypeError("The second argument must be an options object");this[J]=!1,this[q]=[],this[$]=!1,this[Q]=!1,this[X]=!1,this[N]=null,this[K]=this[K].bind(this),this[D]=this[D].bind(this),this[te]=this[te].bind(this),this[ne]=v[ne],this[se]=v[se],this[ue]=W,this[_e]=Number.isInteger(v.limit)&&v.limit>=0?v.limit:1/0,this[De]=0,this[oe]=!!v.abortOnClose,this.db=d,this.db.attachResource(this),this.nextTick=d.nextTick}get count(){return this[De]}get limit(){return this[_e]}next(d){let v;if(void 0===d)v=new Promise((W,H)=>{d=(ee,fe,Ae)=>{ee?H(ee):this[ue]?void 0===fe&&void 0===Ae?W():W([fe,Ae]):W(fe)}});else if("function"!=typeof d)throw new TypeError("Callback must be a function");return this[Q]?this.nextTick(d,new G("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[$]?this.nextTick(d,new G("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[$]=!0,this[N]=d,this[De]>=this[_e]?this.nextTick(this[K],null):this._next(this[K])),v}_next(d){this.nextTick(d)}nextv(d,v,W){return W=B(v,W),W=O(W,A),v=x(v,P),Number.isInteger(d)?(this[Q]?this.nextTick(W,new G("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[$]?this.nextTick(W,new G("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(d<1&&(d=1),this[_e]<1/0&&(d=Math.min(d,this[_e]-this[De])),this[$]=!0,this[N]=W,d<=0?this.nextTick(this[D],null,[]):this._nextv(d,v,this[D])),W[A]):(this.nextTick(W,new TypeError("The first argument 'size' must be an integer")),W[A])}_nextv(d,v,W){const H=[],ee=(fe,Ae,Pe)=>fe?W(fe):(this[ue]?void 0===Ae&&void 0===Pe:void 0===Ae)?W(null,H):(H.push(this[ue]?[Ae,Pe]:Ae),void(H.length===d?W(null,H):this._next(ee)));this._next(ee)}all(d,v){return v=B(d,v),v=O(v,A),d=x(d,P),this[Q]?this.nextTick(v,new G("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[$]?this.nextTick(v,new G("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[$]=!0,this[N]=v,this[X]=!0,this[De]>=this[_e]?this.nextTick(this[D],null,[]):this._all(d,this[D])),v[A]}_all(d,v){let W=this[De];const H=[],ee=()=>{const Ae=this[_e]<1/0?Math.min(1e3,this[_e]-W):1e3;Ae<=0?this.nextTick(v,null,H):this._nextv(Ae,P,fe)},fe=(Ae,Pe)=>{Ae?v(Ae):0===Pe.length?v(null,H):(H.push.apply(H,Pe),W+=Pe.length,ee())};ee()}[V](){const d=this[N];return this[oe]&&null===d?u:(this[$]=!1,this[N]=null,this[Q]&&this._close(this[te]),d)}[Z](d,v,W){this[X]?this.close(d.bind(null,v,W)):d(v,W)}seek(d,v){if(v=x(v,P),!this[Q]){if(this[$])throw new G("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const W=this.db.keyEncoding(v.keyEncoding||this[ne]),H=W.format;v.keyEncoding!==H&&(v={...v,keyEncoding:H});const ee=this.db.prefixKey(W.encode(d),H);this._seek(ee,v)}}}_seek(d,v){throw new G("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(d){return d=O(d,A),this[J]?this.nextTick(d):this[Q]?this[q].push(d):(this[Q]=!0,this[q].push(d),this[$]?this[oe]&&this[V]()(new G("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[te])),d[A]}_close(d){this.nextTick(d)}[te](){this[J]=!0,this.db.detachResource(this);const d=this[q];this[q]=[];for(const v of d)v()}[Symbol.asyncIterator](){var d=this;return S(function*(){try{let v;for(;void 0!==(v=yield p(d.next()));)yield v}finally{d[J]||(yield p(d.close()))}})()}}class w extends g{constructor(d,v){super(d,v,!0),this[ae]=!1!==v.keys,this[ve]=!1!==v.values}[K](d,v,W){const H=this[V]();if(d)return H(d);try{v=this[ae]&&void 0!==v?this[ne].decode(v):void 0,W=this[ve]&&void 0!==W?this[se].decode(W):void 0}catch(ee){return H(new j("entry",ee))}void 0===v&&void 0===W||this[De]++,H(null,v,W)}[D](d,v){const W=this[V]();if(d)return this[Z](W,d);try{for(const H of v){const ee=H[0],fe=H[1];H[0]=this[ae]&&void 0!==ee?this[ne].decode(ee):void 0,H[1]=this[ve]&&void 0!==fe?this[se].decode(fe):void 0}}catch(H){return this[Z](W,new j("entries",H))}this[De]+=v.length,this[Z](W,null,v)}end(d){return!h&&typeof console<"u"&&(h=!0,console.warn(new G("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(d)}}class j extends G{constructor(d,v){super(`Iterator could not decode ${d}`,{code:"LEVEL_DECODE_ERROR",cause:v})}}for(const M of["_ended property","_nexting property","_end method"])Object.defineProperty(w.prototype,M.split(" ")[0],{get(){throw new G(`The ${M} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new G(`The ${M} has been removed`,{code:"LEVEL_LEGACY"})}});w.keyEncoding=ne,w.valueEncoding=se,z.AbstractIterator=w,z.AbstractKeyIterator=class T extends g{constructor(d,v){super(d,v,!1)}[K](d,v){const W=this[V]();if(d)return W(d);try{v=void 0!==v?this[ne].decode(v):void 0}catch(H){return W(new j("key",H))}void 0!==v&&this[De]++,W(null,v)}[D](d,v){const W=this[V]();if(d)return this[Z](W,d);try{for(let H=0;H<v.length;H++){const ee=v[H];v[H]=void 0!==ee?this[ne].decode(ee):void 0}}catch(H){return this[Z](W,new j("keys",H))}this[De]+=v.length,this[Z](W,null,v)}},z.AbstractValueIterator=class C extends g{constructor(d,v){super(d,v,!1)}[K](d,v){const W=this[V]();if(d)return W(d);try{v=void 0!==v?this[se].decode(v):void 0}catch(H){return W(new j("value",H))}void 0!==v&&this[De]++,W(null,v)}[D](d,v){const W=this[V]();if(d)return this[Z](W,d);try{for(let H=0;H<v.length;H++){const ee=v[H];v[H]=void 0!==ee?this[se].decode(ee):void 0}}catch(H){return this[Z](W,new j("values",H))}this[De]+=v.length,this[Z](W,null,v)}}},83764:(Be,z,E)=>{"use strict";const{supports:p}=E(89061),{Transcoder:S}=E(25006),{EventEmitter:O}=E(44356),{fromCallback:G}=E(42381),x=E(61747),{AbstractIterator:B}=E(63294),{DefaultKeyIterator:A,DefaultValueIterator:N}=E(48335),{DeferredIterator:$,DeferredKeyIterator:K,DeferredValueIterator:D}=E(92745),{DefaultChainedBatch:X}=E(45776),{getCallback:V,getOptions:Z}=E(10475),Q=E(4287),te=Symbol("promise"),J=Symbol("landed"),q=Symbol("resources"),ne=Symbol("closeResources"),se=Symbol("operations"),oe=Symbol("undefer"),ue=Symbol("deferOpen"),ae=Symbol("options"),ve=Symbol("status"),_e=Symbol("defaultOptions"),De=Symbol("transcoder"),P=Symbol("keyEncoding"),u=Symbol("valueEncoding"),h=()=>{};class g extends O{constructor(M,d){if(super(),"object"!=typeof M||null===M)throw new TypeError("The first argument 'manifest' must be an object");d=Z(d);const{keyEncoding:v,valueEncoding:W,passive:H,...ee}=d;this[q]=new Set,this[se]=[],this[ue]=!0,this[ae]=ee,this[ve]="opening",this.supports=p(M,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:!1!==M.snapshots,permanence:!1!==M.permanence,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:M.encodings||{},events:Object.assign({},M.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[De]=new S(C(this)),this[P]=this[De].encoding(v||"utf8"),this[u]=this[De].encoding(W||"utf8");for(const fe of this[De].encodings())this.supports.encodings[fe.commonName]||(this.supports.encodings[fe.commonName]=!0);this[_e]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[P].commonName,valueEncoding:this[u].commonName}),key:Object.freeze({keyEncoding:this[P].commonName})},this.nextTick(()=>{this[ue]&&this.open({passive:!1},h)})}get status(){return this[ve]}keyEncoding(M){return this[De].encoding(M??this[P])}valueEncoding(M){return this[De].encoding(M??this[u])}open(M,d){d=V(M,d),d=G(d,te),(M={...this[ae],...Z(M)}).createIfMissing=!1!==M.createIfMissing,M.errorIfExists=!!M.errorIfExists;const v=W=>{"closing"===this[ve]||"opening"===this[ve]?this.once(J,W?()=>v(W):v):"open"!==this[ve]?d(new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:W})):d()};return M.passive?"opening"===this[ve]?this.once(J,v):this.nextTick(v):"closed"===this[ve]||this[ue]?(this[ue]=!1,this[ve]="opening",this.emit("opening"),this._open(M,W=>{if(W)return this[ve]="closed",this[ne](()=>{this.emit(J),v(W)}),void this[oe]();this[ve]="open",this[oe](),this.emit(J),"open"===this[ve]&&this.emit("open"),"open"===this[ve]&&this.emit("ready"),v()})):"open"===this[ve]?this.nextTick(v):this.once(J,()=>this.open(M,d)),d[te]}_open(M,d){this.nextTick(d)}close(M){M=G(M,te);const d=v=>{"opening"===this[ve]||"closing"===this[ve]?this.once(J,v?d(v):d):"closed"!==this[ve]?M(new x("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:v})):M()};if("open"===this[ve]){this[ve]="closing",this.emit("closing");const v=W=>{this[ve]="open",this[oe](),this.emit(J),d(W)};this[ne](()=>{this._close(W=>{if(W)return v(W);this[ve]="closed",this[oe](),this.emit(J),"closed"===this[ve]&&this.emit("closed"),d()})})}else"closed"===this[ve]?this.nextTick(d):this.once(J,()=>this.close(M));return M[te]}[ne](M){if(0===this[q].size)return this.nextTick(M);let d=this[q].size,v=!0;const W=()=>{0==--d&&(v?this.nextTick(M):M())};for(const H of this[q])H.close(W);v=!1,this[q].clear()}_close(M){this.nextTick(M)}get(M,d,v){if(v=V(d,v),v=G(v,te),d=Z(d,this[_e].entry),"opening"===this[ve])return this.defer(()=>this.get(M,d,v)),v[te];if(T(this,v))return v[te];const W=this._checkKey(M);if(W)return this.nextTick(v,W),v[te];const H=this.keyEncoding(d.keyEncoding),ee=this.valueEncoding(d.valueEncoding),fe=H.format,Ae=ee.format;return(d.keyEncoding!==fe||d.valueEncoding!==Ae)&&(d=Object.assign({},d,{keyEncoding:fe,valueEncoding:Ae})),this._get(this.prefixKey(H.encode(M),fe),d,(Pe,Le)=>{if(Pe)return("LEVEL_NOT_FOUND"===Pe.code||Pe.notFound||/NotFound/i.test(Pe))&&(Pe.code||(Pe.code="LEVEL_NOT_FOUND"),Pe.notFound||(Pe.notFound=!0),Pe.status||(Pe.status=404)),v(Pe);try{Le=ee.decode(Le)}catch(be){return v(new x("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:be}))}v(null,Le)}),v[te]}_get(M,d,v){this.nextTick(v,new Error("NotFound"))}getMany(M,d,v){if(v=V(d,v),v=G(v,te),d=Z(d,this[_e].entry),"opening"===this[ve])return this.defer(()=>this.getMany(M,d,v)),v[te];if(T(this,v))return v[te];if(!Array.isArray(M))return this.nextTick(v,new TypeError("The first argument 'keys' must be an array")),v[te];if(0===M.length)return this.nextTick(v,null,[]),v[te];const W=this.keyEncoding(d.keyEncoding),H=this.valueEncoding(d.valueEncoding),ee=W.format,fe=H.format;(d.keyEncoding!==ee||d.valueEncoding!==fe)&&(d=Object.assign({},d,{keyEncoding:ee,valueEncoding:fe}));const Ae=new Array(M.length);for(let Pe=0;Pe<M.length;Pe++){const Le=M[Pe],be=this._checkKey(Le);if(be)return this.nextTick(v,be),v[te];Ae[Pe]=this.prefixKey(W.encode(Le),ee)}return this._getMany(Ae,d,(Pe,Le)=>{if(Pe)return v(Pe);try{for(let be=0;be<Le.length;be++)void 0!==Le[be]&&(Le[be]=H.decode(Le[be]))}catch(be){return v(new x(`Could not decode one or more of ${Le.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:be}))}v(null,Le)}),v[te]}_getMany(M,d,v){this.nextTick(v,null,new Array(M.length).fill(void 0))}put(M,d,v,W){if(W=V(v,W),W=G(W,te),v=Z(v,this[_e].entry),"opening"===this[ve])return this.defer(()=>this.put(M,d,v,W)),W[te];if(T(this,W))return W[te];const H=this._checkKey(M)||this._checkValue(d);if(H)return this.nextTick(W,H),W[te];const ee=this.keyEncoding(v.keyEncoding),fe=this.valueEncoding(v.valueEncoding),Ae=ee.format,Pe=fe.format;(v.keyEncoding!==Ae||v.valueEncoding!==Pe)&&(v=Object.assign({},v,{keyEncoding:Ae,valueEncoding:Pe}));const Le=this.prefixKey(ee.encode(M),Ae),be=fe.encode(d);return this._put(Le,be,v,ge=>{if(ge)return W(ge);this.emit("put",M,d),W()}),W[te]}_put(M,d,v,W){this.nextTick(W)}del(M,d,v){if(v=V(d,v),v=G(v,te),d=Z(d,this[_e].key),"opening"===this[ve])return this.defer(()=>this.del(M,d,v)),v[te];if(T(this,v))return v[te];const W=this._checkKey(M);if(W)return this.nextTick(v,W),v[te];const H=this.keyEncoding(d.keyEncoding),ee=H.format;return d.keyEncoding!==ee&&(d=Object.assign({},d,{keyEncoding:ee})),this._del(this.prefixKey(H.encode(M),ee),d,fe=>{if(fe)return v(fe);this.emit("del",M),v()}),v[te]}_del(M,d,v){this.nextTick(v)}batch(M,d,v){if(!arguments.length){if("opening"===this[ve])return new X(this);if("open"!==this[ve])throw new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(v="function"==typeof M?M:V(d,v),v=G(v,te),d=Z(d,this[_e].empty),"opening"===this[ve])return this.defer(()=>this.batch(M,d,v)),v[te];if(T(this,v))return v[te];if(!Array.isArray(M))return this.nextTick(v,new TypeError("The first argument 'operations' must be an array")),v[te];if(0===M.length)return this.nextTick(v),v[te];const W=new Array(M.length),{keyEncoding:H,valueEncoding:ee,...fe}=d;for(let Ae=0;Ae<M.length;Ae++){if("object"!=typeof M[Ae]||null===M[Ae])return this.nextTick(v,new TypeError("A batch operation must be an object")),v[te];const Pe=Object.assign({},M[Ae]);if("put"!==Pe.type&&"del"!==Pe.type)return this.nextTick(v,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),v[te];const Le=this._checkKey(Pe.key);if(Le)return this.nextTick(v,Le),v[te];const be=null!=Pe.sublevel?Pe.sublevel:this,ge=be.keyEncoding(Pe.keyEncoding||H),Re=ge.format;if(Pe.key=be.prefixKey(ge.encode(Pe.key),Re),Pe.keyEncoding=Re,"put"===Pe.type){const me=this._checkValue(Pe.value);if(me)return this.nextTick(v,me),v[te];const xe=be.valueEncoding(Pe.valueEncoding||ee);Pe.value=xe.encode(Pe.value),Pe.valueEncoding=xe.format}be!==this&&(Pe.sublevel=null),W[Ae]=Pe}return this._batch(W,fe,Ae=>{if(Ae)return v(Ae);this.emit("batch",M),v()}),v[te]}_batch(M,d,v){this.nextTick(v)}sublevel(M,d){return this._sublevel(M,w.defaults(d))}_sublevel(M,d){return new w(this,M,d)}prefixKey(M,d){return M}clear(M,d){if(d=V(M,d),d=G(d,te),M=Z(M,this[_e].empty),"opening"===this[ve])return this.defer(()=>this.clear(M,d)),d[te];if(T(this,d))return d[te];const v=M,W=this.keyEncoding(M.keyEncoding);return(M=Q(M,W)).keyEncoding=W.format,0===M.limit?this.nextTick(d):this._clear(M,H=>{if(H)return d(H);this.emit("clear",v),d()}),d[te]}_clear(M,d){this.nextTick(d)}iterator(M){const d=this.keyEncoding(M&&M.keyEncoding),v=this.valueEncoding(M&&M.valueEncoding);if((M=Q(M,d)).keys=!1!==M.keys,M.values=!1!==M.values,M[B.keyEncoding]=d,M[B.valueEncoding]=v,M.keyEncoding=d.format,M.valueEncoding=v.format,"opening"===this[ve])return new $(this,M);if("open"!==this[ve])throw new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(M)}_iterator(M){return new B(this,M)}keys(M){const d=this.keyEncoding(M&&M.keyEncoding),v=this.valueEncoding(M&&M.valueEncoding);if((M=Q(M,d))[B.keyEncoding]=d,M[B.valueEncoding]=v,M.keyEncoding=d.format,M.valueEncoding=v.format,"opening"===this[ve])return new K(this,M);if("open"!==this[ve])throw new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(M)}_keys(M){return new A(this,M)}values(M){const d=this.keyEncoding(M&&M.keyEncoding),v=this.valueEncoding(M&&M.valueEncoding);if((M=Q(M,d))[B.keyEncoding]=d,M[B.valueEncoding]=v,M.keyEncoding=d.format,M.valueEncoding=v.format,"opening"===this[ve])return new D(this,M);if("open"!==this[ve])throw new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(M)}_values(M){return new N(this,M)}defer(M){if("function"!=typeof M)throw new TypeError("The first argument must be a function");this[se].push(M)}[oe](){if(0===this[se].length)return;const M=this[se];this[se]=[];for(const d of M)d()}attachResource(M){if("object"!=typeof M||null===M||"function"!=typeof M.close)throw new TypeError("The first argument must be a resource object");this[q].add(M)}detachResource(M){this[q].delete(M)}_chainedBatch(){return new X(this)}_checkKey(M){if(null==M)return new x("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(M){if(null==M)return new x("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}g.prototype.nextTick=E(24585);const{AbstractSublevel:w}=E(25416)({AbstractLevel:g});z.AbstractLevel=g,z.AbstractSublevel=w;const T=function(j,M){return"open"!==j[ve]&&(j.nextTick(M,new x("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0)},C=function(j){return Object.keys(j.supports.encodings).filter(M=>!!j.supports.encodings[M])}},75929:(Be,z,E)=>{"use strict";z.AbstractLevel=E(83764).AbstractLevel,z.AbstractSublevel=E(83764).AbstractSublevel,z.AbstractIterator=E(63294).AbstractIterator,z.AbstractKeyIterator=E(63294).AbstractKeyIterator,z.AbstractValueIterator=E(63294).AbstractValueIterator,z.AbstractChainedBatch=E(91463).AbstractChainedBatch},47519:(Be,z,E)=>{"use strict";const{AbstractIterator:p,AbstractKeyIterator:S,AbstractValueIterator:O}=E(63294),G=Symbol("unfix"),x=Symbol("iterator"),B=Symbol("handleOne"),A=Symbol("handleMany"),N=Symbol("callback");class $ extends p{constructor(V,Z,Q,te){super(V,Z),this[x]=Q,this[G]=te,this[B]=this[B].bind(this),this[A]=this[A].bind(this),this[N]=null}[B](V,Z,Q){const te=this[N];if(V)return te(V);void 0!==Z&&(Z=this[G](Z)),te(V,Z,Q)}[A](V,Z){const Q=this[N];if(V)return Q(V);for(const te of Z){const J=te[0];void 0!==J&&(te[0]=this[G](J))}Q(V,Z)}}class K extends S{constructor(V,Z,Q,te){super(V,Z),this[x]=Q,this[G]=te,this[B]=this[B].bind(this),this[A]=this[A].bind(this),this[N]=null}[B](V,Z){const Q=this[N];if(V)return Q(V);void 0!==Z&&(Z=this[G](Z)),Q(V,Z)}[A](V,Z){const Q=this[N];if(V)return Q(V);for(let te=0;te<Z.length;te++){const J=Z[te];void 0!==J&&(Z[te]=this[G](J))}Q(V,Z)}}class D extends O{constructor(V,Z,Q){super(V,Z),this[x]=Q}}for(const X of[$,K])X.prototype._next=function(V){this[N]=V,this[x].next(this[B])},X.prototype._nextv=function(V,Z,Q){this[N]=Q,this[x].nextv(V,Z,this[A])},X.prototype._all=function(V,Z){this[N]=Z,this[x].all(V,this[A])};for(const X of[D])X.prototype._next=function(V){this[x].next(V)},X.prototype._nextv=function(V,Z,Q){this[x].nextv(V,Z,Q)},X.prototype._all=function(V,Z){this[x].all(V,Z)};for(const X of[$,K,D])X.prototype._seek=function(V,Z){this[x].seek(V,Z)},X.prototype._close=function(V){this[x].close(V)};z.AbstractSublevelIterator=$,z.AbstractSublevelKeyIterator=K,z.AbstractSublevelValueIterator=D},25416:(Be,z,E)=>{"use strict";const p=E(61747),{Buffer:S}=E(1067)||{},{AbstractSublevelIterator:O,AbstractSublevelKeyIterator:G,AbstractSublevelValueIterator:x}=E(47519),B=Symbol("prefix"),A=Symbol("upperBound"),N=Symbol("prefixRange"),$=Symbol("parent"),K=Symbol("unfix"),D=new TextEncoder,X={separator:"!"};Be.exports=function({AbstractLevel:q}){class ne extends q{static defaults(oe){if("string"==typeof oe)throw new p("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(oe&&oe.open)throw new p("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return null==oe?X:oe.separator?oe:{...oe,separator:"!"}}constructor(oe,ue,ae){const{separator:ve,manifest:_e,...De}=ne.defaults(ae);ue=J(ue,ve);const P=ve.charCodeAt(0)+1,u=oe[$]||oe;if(!D.encode(ue).every(w=>w>P&&w<127))throw new p(`Prefix must use bytes > ${P} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(V(u,_e),De);const h=(oe.prefix||"")+ve+ue+ve,g=h.slice(0,-1)+String.fromCharCode(P);this[$]=u,this[B]=new Q(h),this[A]=new Q(g),this[K]=new te,this.nextTick=u.nextTick}prefixKey(oe,ue){if("utf8"===ue)return this[B].utf8+oe;if(0===oe.byteLength)return this[B][ue];if("view"===ue){const ae=this[B].view,ve=new Uint8Array(ae.byteLength+oe.byteLength);return ve.set(ae,0),ve.set(oe,ae.byteLength),ve}{const ae=this[B].buffer;return S.concat([ae,oe],ae.byteLength+oe.byteLength)}}[N](oe,ue){void 0!==oe.gte?oe.gte=this.prefixKey(oe.gte,ue):void 0!==oe.gt?oe.gt=this.prefixKey(oe.gt,ue):oe.gte=this[B][ue],void 0!==oe.lte?oe.lte=this.prefixKey(oe.lte,ue):void 0!==oe.lt?oe.lt=this.prefixKey(oe.lt,ue):oe.lte=this[A][ue]}get prefix(){return this[B].utf8}get db(){return this[$]}_open(oe,ue){this[$].open({passive:!0},ue)}_put(oe,ue,ae,ve){this[$].put(oe,ue,ae,ve)}_get(oe,ue,ae){this[$].get(oe,ue,ae)}_getMany(oe,ue,ae){this[$].getMany(oe,ue,ae)}_del(oe,ue,ae){this[$].del(oe,ue,ae)}_batch(oe,ue,ae){this[$].batch(oe,ue,ae)}_clear(oe,ue){this[N](oe,oe.keyEncoding),this[$].clear(oe,ue)}_iterator(oe){this[N](oe,oe.keyEncoding);const ue=this[$].iterator(oe),ae=this[K].get(this[B].utf8.length,oe.keyEncoding);return new O(this,oe,ue,ae)}_keys(oe){this[N](oe,oe.keyEncoding);const ue=this[$].keys(oe),ae=this[K].get(this[B].utf8.length,oe.keyEncoding);return new G(this,oe,ue,ae)}_values(oe){this[N](oe,oe.keyEncoding);const ue=this[$].values(oe);return new x(this,oe,ue)}}return{AbstractSublevel:ne}};const V=function(q,ne){return{...q.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...ne,encodings:{utf8:Z(q,"utf8"),buffer:Z(q,"buffer"),view:Z(q,"view")}}},Z=function(q,ne){return!!q.supports.encodings[ne]&&q.keyEncoding(ne).name===ne};class Q{constructor(ne){this.utf8=ne,this.view=D.encode(ne),this.buffer=S?S.from(this.view.buffer,0,this.view.byteLength):{}}}class te{constructor(){this.cache=new Map}get(ne,se){let oe=this.cache.get(se);return void 0===oe&&(oe="view"===se?function(ue,ae){return ae.subarray(ue)}.bind(null,ne):function(ue,ae){return ae.slice(ue)}.bind(null,ne),this.cache.set(se,oe)),oe}}const J=function(q,ne){let se=0,oe=q.length;for(;se<oe&&q[se]===ne;)se++;for(;oe>se&&q[oe-1]===ne;)oe--;return q.slice(se,oe)}},10475:(Be,z)=>{"use strict";z.getCallback=function(E,p){return"function"==typeof E?E:p},z.getOptions=function(E,p){return"object"==typeof E&&null!==E?E:void 0!==p?p:{}}},45776:(Be,z,E)=>{"use strict";const{AbstractChainedBatch:p}=E(91463),S=E(61747),O=Symbol("encoded");z.DefaultChainedBatch=class G extends p{constructor(B){super(B),this[O]=[]}_put(B,A,N){this[O].push({...N,type:"put",key:B,value:A})}_del(B,A){this[O].push({...A,type:"del",key:B})}_clear(){this[O]=[]}_write(B,A){"opening"===this.db.status?this.db.defer(()=>this._write(B,A)):"open"===this.db.status?0===this[O].length?this.nextTick(A):this.db._batch(this[O],B,A):this.nextTick(A,new S("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}},48335:(Be,z,E)=>{"use strict";const{AbstractKeyIterator:p,AbstractValueIterator:S}=E(63294),O=Symbol("iterator"),G=Symbol("callback"),x=Symbol("handleOne"),B=Symbol("handleMany");class A extends p{constructor(K,D){super(K,D),this[O]=K.iterator({...D,keys:!0,values:!1}),this[x]=this[x].bind(this),this[B]=this[B].bind(this)}}class N extends S{constructor(K,D){super(K,D),this[O]=K.iterator({...D,keys:!1,values:!0}),this[x]=this[x].bind(this),this[B]=this[B].bind(this)}}for(const $ of[A,N]){const K=$===A,D=K?X=>X[0]:X=>X[1];$.prototype._next=function(X){this[G]=X,this[O].next(this[x])},$.prototype[x]=function(X,V,Z){const Q=this[G];X?Q(X):Q(null,K?V:Z)},$.prototype._nextv=function(X,V,Z){this[G]=Z,this[O].nextv(X,V,this[B])},$.prototype._all=function(X,V){this[G]=V,this[O].all(X,this[B])},$.prototype[B]=function(X,V){const Z=this[G];X?Z(X):Z(null,V.map(D))},$.prototype._seek=function(X,V){this[O].seek(X,V)},$.prototype._close=function(X){this[O].close(X)}}z.DefaultKeyIterator=A,z.DefaultValueIterator=N},92745:(Be,z,E)=>{"use strict";const{AbstractIterator:p,AbstractKeyIterator:S,AbstractValueIterator:O}=E(63294),G=E(61747),x=Symbol("nut"),B=Symbol("undefer"),A=Symbol("factory");class N extends p{constructor(X,V){super(X,V),this[x]=null,this[A]=()=>X.iterator(V),this.db.defer(()=>this[B]())}}class $ extends S{constructor(X,V){super(X,V),this[x]=null,this[A]=()=>X.keys(V),this.db.defer(()=>this[B]())}}class K extends O{constructor(X,V){super(X,V),this[x]=null,this[A]=()=>X.values(V),this.db.defer(()=>this[B]())}}for(const D of[N,$,K])D.prototype[B]=function(){"open"===this.db.status&&(this[x]=this[A]())},D.prototype._next=function(X){null!==this[x]?this[x].next(X):"opening"===this.db.status?this.db.defer(()=>this._next(X)):this.nextTick(X,new G("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},D.prototype._nextv=function(X,V,Z){null!==this[x]?this[x].nextv(X,V,Z):"opening"===this.db.status?this.db.defer(()=>this._nextv(X,V,Z)):this.nextTick(Z,new G("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},D.prototype._all=function(X,V){null!==this[x]?this[x].all(V):"opening"===this.db.status?this.db.defer(()=>this._all(X,V)):this.nextTick(V,new G("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},D.prototype._seek=function(X,V){null!==this[x]?this[x]._seek(X,V):"opening"===this.db.status&&this.db.defer(()=>this._seek(X,V))},D.prototype._close=function(X){null!==this[x]?this[x].close(X):"opening"===this.db.status?this.db.defer(()=>this._close(X)):this.nextTick(X)};z.DeferredIterator=N,z.DeferredKeyIterator=$,z.DeferredValueIterator=K},24585:(Be,z,E)=>{"use strict";const p=E(24515);Be.exports=function(S,...O){p(0===O.length?S:()=>S(...O))}},4287:(Be,z,E)=>{"use strict";const p=E(61747),S=Object.prototype.hasOwnProperty,O=new Set(["lt","lte","gt","gte"]);Be.exports=function(G,x){const B={};for(const A in G)if(S.call(G,A)&&"keyEncoding"!==A&&"valueEncoding"!==A){if("start"===A||"end"===A)throw new p(`The legacy range option '${A}' has been removed`,{code:"LEVEL_LEGACY"});if("encoding"===A)throw new p("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});B[A]=O.has(A)?x.encode(G[A]):G[A]}return B.reverse=!!B.reverse,B.limit=Number.isInteger(B.limit)&&B.limit>=0?B.limit:-1,B}},1067:(Be,z,E)=>{"use strict";const p=E(13981),S=E(22020),O="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=A,z.SlowBuffer=function q(U){return+U!=U&&(U=0),A.alloc(+U)},z.INSPECT_MAX_BYTES=50;const G=2147483647;function B(U){if(U>G)throw new RangeError('The value "'+U+'" is invalid for option "size"');const _=new Uint8Array(U);return Object.setPrototypeOf(_,A.prototype),_}function A(U,_,m){if("number"==typeof U){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return D(U)}return N(U,_,m)}function N(U,_,m){if("string"==typeof U)return function X(U,_){if(("string"!=typeof _||""===_)&&(_="utf8"),!A.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const m=0|ne(U,_);let F=B(m);const ie=F.write(U,_);return ie!==m&&(F=F.slice(0,ie)),F}(U,_);if(ArrayBuffer.isView(U))return function Z(U){if(We(U,Uint8Array)){const _=new Uint8Array(U);return Q(_.buffer,_.byteOffset,_.byteLength)}return V(U)}(U);if(null==U)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(We(U,ArrayBuffer)||U&&We(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(We(U,SharedArrayBuffer)||U&&We(U.buffer,SharedArrayBuffer)))return Q(U,_,m);if("number"==typeof U)throw new TypeError('The "value" argument must not be of type number. Received type number');const F=U.valueOf&&U.valueOf();if(null!=F&&F!==U)return A.from(F,_,m);const ie=function te(U){if(A.isBuffer(U)){const _=0|J(U.length),m=B(_);return 0===m.length||U.copy(m,0,0,_),m}return void 0!==U.length?"number"!=typeof U.length||Tt(U.length)?B(0):V(U):"Buffer"===U.type&&Array.isArray(U.data)?V(U.data):void 0}(U);if(ie)return ie;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof U[Symbol.toPrimitive])return A.from(U[Symbol.toPrimitive]("string"),_,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function $(U){if("number"!=typeof U)throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function D(U){return $(U),B(U<0?0:0|J(U))}function V(U){const _=U.length<0?0:0|J(U.length),m=B(_);for(let F=0;F<_;F+=1)m[F]=255&U[F];return m}function Q(U,_,m){if(_<0||U.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<_+(m||0))throw new RangeError('"length" is outside of buffer bounds');let F;return F=void 0===_&&void 0===m?new Uint8Array(U):void 0===m?new Uint8Array(U,_):new Uint8Array(U,_,m),Object.setPrototypeOf(F,A.prototype),F}function J(U){if(U>=G)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+G.toString(16)+" bytes");return 0|U}function ne(U,_){if(A.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||We(U,ArrayBuffer))return U.byteLength;if("string"!=typeof U)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const m=U.length,F=arguments.length>2&&!0===arguments[2];if(!F&&0===m)return 0;let ie=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return de(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return ke(U).length;default:if(ie)return F?-1:de(U).length;_=(""+_).toLowerCase(),ie=!0}}function se(U,_,m){let F=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(_>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return M(this,_,m);case"utf8":case"utf-8":return g(this,_,m);case"ascii":return C(this,_,m);case"latin1":case"binary":return j(this,_,m);case"base64":return h(this,_,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,_,m);default:if(F)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),F=!0}}function oe(U,_,m){const F=U[_];U[_]=U[m],U[m]=F}function ue(U,_,m,F,ie){if(0===U.length)return-1;if("string"==typeof m?(F=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),Tt(m=+m)&&(m=ie?0:U.length-1),m<0&&(m=U.length+m),m>=U.length){if(ie)return-1;m=U.length-1}else if(m<0){if(!ie)return-1;m=0}if("string"==typeof _&&(_=A.from(_,F)),A.isBuffer(_))return 0===_.length?-1:ae(U,_,m,F,ie);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?ie?Uint8Array.prototype.indexOf.call(U,_,m):Uint8Array.prototype.lastIndexOf.call(U,_,m):ae(U,[_],m,F,ie);throw new TypeError("val must be string, number or Buffer")}function ae(U,_,m,F,ie){let pt,we=1,Ie=U.length,Qe=_.length;if(void 0!==F&&("ucs2"===(F=String(F).toLowerCase())||"ucs-2"===F||"utf16le"===F||"utf-16le"===F)){if(U.length<2||_.length<2)return-1;we=2,Ie/=2,Qe/=2,m/=2}function kt(Et,Lt){return 1===we?Et[Lt]:Et.readUInt16BE(Lt*we)}if(ie){let Et=-1;for(pt=m;pt<Ie;pt++)if(kt(U,pt)===kt(_,-1===Et?0:pt-Et)){if(-1===Et&&(Et=pt),pt-Et+1===Qe)return Et*we}else-1!==Et&&(pt-=pt-Et),Et=-1}else for(m+Qe>Ie&&(m=Ie-Qe),pt=m;pt>=0;pt--){let Et=!0;for(let Lt=0;Lt<Qe;Lt++)if(kt(U,pt+Lt)!==kt(_,Lt)){Et=!1;break}if(Et)return pt}return-1}function ve(U,_,m,F){m=Number(m)||0;const ie=U.length-m;F?(F=Number(F))>ie&&(F=ie):F=ie;const we=_.length;let Ie;for(F>we/2&&(F=we/2),Ie=0;Ie<F;++Ie){const Qe=parseInt(_.substr(2*Ie,2),16);if(Tt(Qe))return Ie;U[m+Ie]=Qe}return Ie}function _e(U,_,m,F){return Fe(de(_,U.length-m),U,m,F)}function De(U,_,m,F){return Fe(function pe(U){const _=[];for(let m=0;m<U.length;++m)_.push(255&U.charCodeAt(m));return _}(_),U,m,F)}function P(U,_,m,F){return Fe(ke(_),U,m,F)}function u(U,_,m,F){return Fe(function Se(U,_){let m,F,ie;const we=[];for(let Ie=0;Ie<U.length&&!((_-=2)<0);++Ie)m=U.charCodeAt(Ie),F=m>>8,ie=m%256,we.push(ie),we.push(F);return we}(_,U.length-m),U,m,F)}function h(U,_,m){return p.fromByteArray(0===_&&m===U.length?U:U.slice(_,m))}function g(U,_,m){m=Math.min(U.length,m);const F=[];let ie=_;for(;ie<m;){const we=U[ie];let Ie=null,Qe=we>239?4:we>223?3:we>191?2:1;if(ie+Qe<=m){let kt,pt,Et,Lt;switch(Qe){case 1:we<128&&(Ie=we);break;case 2:kt=U[ie+1],128==(192&kt)&&(Lt=(31&we)<<6|63&kt,Lt>127&&(Ie=Lt));break;case 3:kt=U[ie+1],pt=U[ie+2],128==(192&kt)&&128==(192&pt)&&(Lt=(15&we)<<12|(63&kt)<<6|63&pt,Lt>2047&&(Lt<55296||Lt>57343)&&(Ie=Lt));break;case 4:kt=U[ie+1],pt=U[ie+2],Et=U[ie+3],128==(192&kt)&&128==(192&pt)&&128==(192&Et)&&(Lt=(15&we)<<18|(63&kt)<<12|(63&pt)<<6|63&Et,Lt>65535&&Lt<1114112&&(Ie=Lt))}}null===Ie?(Ie=65533,Qe=1):Ie>65535&&(Ie-=65536,F.push(Ie>>>10&1023|55296),Ie=56320|1023&Ie),F.push(Ie),ie+=Qe}return function T(U){const _=U.length;if(_<=w)return String.fromCharCode.apply(String,U);let m="",F=0;for(;F<_;)m+=String.fromCharCode.apply(String,U.slice(F,F+=w));return m}(F)}z.kMaxLength=G,!(A.TYPED_ARRAY_SUPPORT=function x(){try{const U=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(U,_),42===U.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(U,_,m){return N(U,_,m)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(U,_,m){return function K(U,_,m){return $(U),U<=0?B(U):void 0!==_?"string"==typeof m?B(U).fill(_,m):B(U).fill(_):B(U)}(U,_,m)},A.allocUnsafe=function(U){return D(U)},A.allocUnsafeSlow=function(U){return D(U)},A.isBuffer=function(_){return null!=_&&!0===_._isBuffer&&_!==A.prototype},A.compare=function(_,m){if(We(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),We(m,Uint8Array)&&(m=A.from(m,m.offset,m.byteLength)),!A.isBuffer(_)||!A.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===m)return 0;let F=_.length,ie=m.length;for(let we=0,Ie=Math.min(F,ie);we<Ie;++we)if(_[we]!==m[we]){F=_[we],ie=m[we];break}return F<ie?-1:ie<F?1:0},A.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(_,m){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_.length)return A.alloc(0);let F;if(void 0===m)for(m=0,F=0;F<_.length;++F)m+=_[F].length;const ie=A.allocUnsafe(m);let we=0;for(F=0;F<_.length;++F){let Ie=_[F];if(We(Ie,Uint8Array))we+Ie.length>ie.length?(A.isBuffer(Ie)||(Ie=A.from(Ie)),Ie.copy(ie,we)):Uint8Array.prototype.set.call(ie,Ie,we);else{if(!A.isBuffer(Ie))throw new TypeError('"list" argument must be an Array of Buffers');Ie.copy(ie,we)}we+=Ie.length}return ie},A.byteLength=ne,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<_;m+=2)oe(this,m,m+1);return this},A.prototype.swap32=function(){const _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<_;m+=4)oe(this,m,m+3),oe(this,m+1,m+2);return this},A.prototype.swap64=function(){const _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<_;m+=8)oe(this,m,m+7),oe(this,m+1,m+6),oe(this,m+2,m+5),oe(this,m+3,m+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const _=this.length;return 0===_?"":0===arguments.length?g(this,0,_):se.apply(this,arguments)},A.prototype.equals=function(_){if(!A.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||0===A.compare(this,_)},A.prototype.inspect=function(){let _="";const m=z.INSPECT_MAX_BYTES;return _=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(_+=" ... "),"<Buffer "+_+">"},O&&(A.prototype[O]=A.prototype.inspect),A.prototype.compare=function(_,m,F,ie,we){if(We(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),!A.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(void 0===m&&(m=0),void 0===F&&(F=_?_.length:0),void 0===ie&&(ie=0),void 0===we&&(we=this.length),m<0||F>_.length||ie<0||we>this.length)throw new RangeError("out of range index");if(ie>=we&&m>=F)return 0;if(ie>=we)return-1;if(m>=F)return 1;if(this===_)return 0;let Ie=(we>>>=0)-(ie>>>=0),Qe=(F>>>=0)-(m>>>=0);const kt=Math.min(Ie,Qe),pt=this.slice(ie,we),Et=_.slice(m,F);for(let Lt=0;Lt<kt;++Lt)if(pt[Lt]!==Et[Lt]){Ie=pt[Lt],Qe=Et[Lt];break}return Ie<Qe?-1:Qe<Ie?1:0},A.prototype.includes=function(_,m,F){return-1!==this.indexOf(_,m,F)},A.prototype.indexOf=function(_,m,F){return ue(this,_,m,F,!0)},A.prototype.lastIndexOf=function(_,m,F){return ue(this,_,m,F,!1)},A.prototype.write=function(_,m,F,ie){if(void 0===m)ie="utf8",F=this.length,m=0;else if(void 0===F&&"string"==typeof m)ie=m,F=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(F)?(F>>>=0,void 0===ie&&(ie="utf8")):(ie=F,F=void 0)}const we=this.length-m;if((void 0===F||F>we)&&(F=we),_.length>0&&(F<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let Ie=!1;for(;;)switch(ie){case"hex":return ve(this,_,m,F);case"utf8":case"utf-8":return _e(this,_,m,F);case"ascii":case"latin1":case"binary":return De(this,_,m,F);case"base64":return P(this,_,m,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,_,m,F);default:if(Ie)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),Ie=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const w=4096;function C(U,_,m){let F="";m=Math.min(U.length,m);for(let ie=_;ie<m;++ie)F+=String.fromCharCode(127&U[ie]);return F}function j(U,_,m){let F="";m=Math.min(U.length,m);for(let ie=_;ie<m;++ie)F+=String.fromCharCode(U[ie]);return F}function M(U,_,m){const F=U.length;(!_||_<0)&&(_=0),(!m||m<0||m>F)&&(m=F);let ie="";for(let we=_;we<m;++we)ie+=Xe[U[we]];return ie}function d(U,_,m){const F=U.slice(_,m);let ie="";for(let we=0;we<F.length-1;we+=2)ie+=String.fromCharCode(F[we]+256*F[we+1]);return ie}function v(U,_,m){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+_>m)throw new RangeError("Trying to access beyond buffer length")}function W(U,_,m,F,ie,we){if(!A.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>ie||_<we)throw new RangeError('"value" argument is out of bounds');if(m+F>U.length)throw new RangeError("Index out of range")}function H(U,_,m,F,ie){me(_,F,ie,U,m,7);let we=Number(_&BigInt(4294967295));U[m++]=we,we>>=8,U[m++]=we,we>>=8,U[m++]=we,we>>=8,U[m++]=we;let Ie=Number(_>>BigInt(32)&BigInt(4294967295));return U[m++]=Ie,Ie>>=8,U[m++]=Ie,Ie>>=8,U[m++]=Ie,Ie>>=8,U[m++]=Ie,m}function ee(U,_,m,F,ie){me(_,F,ie,U,m,7);let we=Number(_&BigInt(4294967295));U[m+7]=we,we>>=8,U[m+6]=we,we>>=8,U[m+5]=we,we>>=8,U[m+4]=we;let Ie=Number(_>>BigInt(32)&BigInt(4294967295));return U[m+3]=Ie,Ie>>=8,U[m+2]=Ie,Ie>>=8,U[m+1]=Ie,Ie>>=8,U[m]=Ie,m+8}function fe(U,_,m,F,ie,we){if(m+F>U.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function Ae(U,_,m,F,ie){return _=+_,m>>>=0,ie||fe(U,0,m,4),S.write(U,_,m,F,23,4),m+4}function Pe(U,_,m,F,ie){return _=+_,m>>>=0,ie||fe(U,0,m,8),S.write(U,_,m,F,52,8),m+8}A.prototype.slice=function(_,m){const F=this.length;(_=~~_)<0?(_+=F)<0&&(_=0):_>F&&(_=F),(m=void 0===m?F:~~m)<0?(m+=F)<0&&(m=0):m>F&&(m=F),m<_&&(m=_);const ie=this.subarray(_,m);return Object.setPrototypeOf(ie,A.prototype),ie},A.prototype.readUintLE=A.prototype.readUIntLE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=this[_],we=1,Ie=0;for(;++Ie<m&&(we*=256);)ie+=this[_+Ie]*we;return ie},A.prototype.readUintBE=A.prototype.readUIntBE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=this[_+--m],we=1;for(;m>0&&(we*=256);)ie+=this[_+--m]*we;return ie},A.prototype.readUint8=A.prototype.readUInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),this[_]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]|this[_+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]<<8|this[_+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},A.prototype.readBigUInt64LE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];(void 0===m||void 0===F)&&le(_,this.length-8);const ie=m+256*this[++_]+65536*this[++_]+this[++_]*2**24,we=this[++_]+256*this[++_]+65536*this[++_]+F*2**24;return BigInt(ie)+(BigInt(we)<<BigInt(32))}),A.prototype.readBigUInt64BE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];(void 0===m||void 0===F)&&le(_,this.length-8);const ie=m*2**24+65536*this[++_]+256*this[++_]+this[++_],we=this[++_]*2**24+65536*this[++_]+256*this[++_]+F;return(BigInt(ie)<<BigInt(32))+BigInt(we)}),A.prototype.readIntLE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=this[_],we=1,Ie=0;for(;++Ie<m&&(we*=256);)ie+=this[_+Ie]*we;return we*=128,ie>=we&&(ie-=Math.pow(2,8*m)),ie},A.prototype.readIntBE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=m,we=1,Ie=this[_+--ie];for(;ie>0&&(we*=256);)Ie+=this[_+--ie]*we;return we*=128,Ie>=we&&(Ie-=Math.pow(2,8*m)),Ie},A.prototype.readInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},A.prototype.readInt16LE=function(_,m){_>>>=0,m||v(_,2,this.length);const F=this[_]|this[_+1]<<8;return 32768&F?4294901760|F:F},A.prototype.readInt16BE=function(_,m){_>>>=0,m||v(_,2,this.length);const F=this[_+1]|this[_]<<8;return 32768&F?4294901760|F:F},A.prototype.readInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},A.prototype.readInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},A.prototype.readBigInt64LE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];return(void 0===m||void 0===F)&&le(_,this.length-8),(BigInt(this[_+4]+256*this[_+5]+65536*this[_+6]+(F<<24))<<BigInt(32))+BigInt(m+256*this[++_]+65536*this[++_]+this[++_]*2**24)}),A.prototype.readBigInt64BE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];(void 0===m||void 0===F)&&le(_,this.length-8);const ie=(m<<24)+65536*this[++_]+256*this[++_]+this[++_];return(BigInt(ie)<<BigInt(32))+BigInt(this[++_]*2**24+65536*this[++_]+256*this[++_]+F)}),A.prototype.readFloatLE=function(_,m){return _>>>=0,m||v(_,4,this.length),S.read(this,_,!0,23,4)},A.prototype.readFloatBE=function(_,m){return _>>>=0,m||v(_,4,this.length),S.read(this,_,!1,23,4)},A.prototype.readDoubleLE=function(_,m){return _>>>=0,m||v(_,8,this.length),S.read(this,_,!0,52,8)},A.prototype.readDoubleBE=function(_,m){return _>>>=0,m||v(_,8,this.length),S.read(this,_,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(_,m,F,ie){_=+_,m>>>=0,F>>>=0,ie||W(this,_,m,F,Math.pow(2,8*F)-1,0);let we=1,Ie=0;for(this[m]=255&_;++Ie<F&&(we*=256);)this[m+Ie]=_/we&255;return m+F},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(_,m,F,ie){_=+_,m>>>=0,F>>>=0,ie||W(this,_,m,F,Math.pow(2,8*F)-1,0);let we=F-1,Ie=1;for(this[m+we]=255&_;--we>=0&&(Ie*=256);)this[m+we]=_/Ie&255;return m+F},A.prototype.writeUint8=A.prototype.writeUInt8=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,1,255,0),this[m]=255&_,m+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,65535,0),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,65535,0),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,4294967295,0),this[m+3]=_>>>24,this[m+2]=_>>>16,this[m+1]=_>>>8,this[m]=255&_,m+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,4294967295,0),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigUInt64LE=Ke(function(_,m=0){return H(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Ke(function(_,m=0){return ee(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(_,m,F,ie){if(_=+_,m>>>=0,!ie){const kt=Math.pow(2,8*F-1);W(this,_,m,F,kt-1,-kt)}let we=0,Ie=1,Qe=0;for(this[m]=255&_;++we<F&&(Ie*=256);)_<0&&0===Qe&&0!==this[m+we-1]&&(Qe=1),this[m+we]=(_/Ie|0)-Qe&255;return m+F},A.prototype.writeIntBE=function(_,m,F,ie){if(_=+_,m>>>=0,!ie){const kt=Math.pow(2,8*F-1);W(this,_,m,F,kt-1,-kt)}let we=F-1,Ie=1,Qe=0;for(this[m+we]=255&_;--we>=0&&(Ie*=256);)_<0&&0===Qe&&0!==this[m+we+1]&&(Qe=1),this[m+we]=(_/Ie|0)-Qe&255;return m+F},A.prototype.writeInt8=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,1,127,-128),_<0&&(_=255+_+1),this[m]=255&_,m+1},A.prototype.writeInt16LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,32767,-32768),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeInt16BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,32767,-32768),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeInt32LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,2147483647,-2147483648),this[m]=255&_,this[m+1]=_>>>8,this[m+2]=_>>>16,this[m+3]=_>>>24,m+4},A.prototype.writeInt32BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigInt64LE=Ke(function(_,m=0){return H(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Ke(function(_,m=0){return ee(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(_,m,F){return Ae(this,_,m,!0,F)},A.prototype.writeFloatBE=function(_,m,F){return Ae(this,_,m,!1,F)},A.prototype.writeDoubleLE=function(_,m,F){return Pe(this,_,m,!0,F)},A.prototype.writeDoubleBE=function(_,m,F){return Pe(this,_,m,!1,F)},A.prototype.copy=function(_,m,F,ie){if(!A.isBuffer(_))throw new TypeError("argument should be a Buffer");if(F||(F=0),!ie&&0!==ie&&(ie=this.length),m>=_.length&&(m=_.length),m||(m=0),ie>0&&ie<F&&(ie=F),ie===F||0===_.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),_.length-m<ie-F&&(ie=_.length-m+F);const we=ie-F;return this===_&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,F,ie):Uint8Array.prototype.set.call(_,this.subarray(F,ie),m),we},A.prototype.fill=function(_,m,F,ie){if("string"==typeof _){if("string"==typeof m?(ie=m,m=0,F=this.length):"string"==typeof F&&(ie=F,F=this.length),void 0!==ie&&"string"!=typeof ie)throw new TypeError("encoding must be a string");if("string"==typeof ie&&!A.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(1===_.length){const Ie=_.charCodeAt(0);("utf8"===ie&&Ie<128||"latin1"===ie)&&(_=Ie)}}else"number"==typeof _?_&=255:"boolean"==typeof _&&(_=Number(_));if(m<0||this.length<m||this.length<F)throw new RangeError("Out of range index");if(F<=m)return this;let we;if(m>>>=0,F=void 0===F?this.length:F>>>0,_||(_=0),"number"==typeof _)for(we=m;we<F;++we)this[we]=_;else{const Ie=A.isBuffer(_)?_:A.from(_,ie),Qe=Ie.length;if(0===Qe)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(we=0;we<F-m;++we)this[we+m]=Ie[we%Qe]}return this};const Le={};function be(U,_,m){Le[U]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,delete this.name}get code(){return U}set code(ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ie,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}function ge(U){let _="",m=U.length;const F="-"===U[0]?1:0;for(;m>=F+4;m-=3)_=`_${U.slice(m-3,m)}${_}`;return`${U.slice(0,m)}${_}`}function me(U,_,m,F,ie,we){if(U>m||U<_){const Ie="bigint"==typeof _?"n":"";let Qe;throw Qe=we>3?0===_||_===BigInt(0)?`>= 0${Ie} and < 2${Ie} ** ${8*(we+1)}${Ie}`:`>= -(2${Ie} ** ${8*(we+1)-1}${Ie}) and < 2 ** ${8*(we+1)-1}${Ie}`:`>= ${_}${Ie} and <= ${m}${Ie}`,new Le.ERR_OUT_OF_RANGE("value",Qe,U)}!function Re(U,_,m){xe(_,"offset"),(void 0===U[_]||void 0===U[_+m])&&le(_,U.length-(m+1))}(F,ie,we)}function xe(U,_){if("number"!=typeof U)throw new Le.ERR_INVALID_ARG_TYPE(_,"number",U)}function le(U,_,m){throw Math.floor(U)!==U?(xe(U,m),new Le.ERR_OUT_OF_RANGE(m||"offset","an integer",U)):_<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${_}`,U)}be("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),be("ERR_INVALID_ARG_TYPE",function(U,_){return`The "${U}" argument must be of type number. Received type ${typeof _}`},TypeError),be("ERR_OUT_OF_RANGE",function(U,_,m){let F=`The value of "${U}" is out of range.`,ie=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ie=ge(String(m)):"bigint"==typeof m&&(ie=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ie=ge(ie)),ie+="n"),F+=` It must be ${_}. Received ${ie}`,F},RangeError);const he=/[^+/0-9A-Za-z-_]/g;function de(U,_){let m;_=_||1/0;const F=U.length;let ie=null;const we=[];for(let Ie=0;Ie<F;++Ie){if(m=U.charCodeAt(Ie),m>55295&&m<57344){if(!ie){if(m>56319){(_-=3)>-1&&we.push(239,191,189);continue}if(Ie+1===F){(_-=3)>-1&&we.push(239,191,189);continue}ie=m;continue}if(m<56320){(_-=3)>-1&&we.push(239,191,189),ie=m;continue}m=65536+(ie-55296<<10|m-56320)}else ie&&(_-=3)>-1&&we.push(239,191,189);if(ie=null,m<128){if((_-=1)<0)break;we.push(m)}else if(m<2048){if((_-=2)<0)break;we.push(m>>6|192,63&m|128)}else if(m<65536){if((_-=3)<0)break;we.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;we.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return we}function ke(U){return p.toByteArray(function re(U){if((U=(U=U.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U}(U))}function Fe(U,_,m,F){let ie;for(ie=0;ie<F&&!(ie+m>=_.length||ie>=U.length);++ie)_[ie+m]=U[ie];return ie}function We(U,_){return U instanceof _||null!=U&&null!=U.constructor&&null!=U.constructor.name&&U.constructor.name===_.name}function Tt(U){return U!=U}const Xe=function(){const U="0123456789abcdef",_=new Array(256);for(let m=0;m<16;++m){const F=16*m;for(let ie=0;ie<16;++ie)_[F+ie]=U[m]+U[ie]}return _}();function Ke(U){return typeof BigInt>"u"?lt:U}function lt(){throw new Error("BigInt not supported")}},49609:(Be,z,E)=>{var p=z;p.bignum=E(96867),p.define=E(16626).define,p.base=E(15066),p.constants=E(47740),p.decoders=E(91558),p.encoders=E(22714)},16626:(Be,z,E)=>{var p=E(49609),S=E(71993);function G(x,B){this.name=x,this.body=B,this.decoders={},this.encoders={}}z.define=function(B,A){return new G(B,A)},G.prototype._createNamed=function(B){var A;try{A=Object(function(){var $=new Error("Cannot find module 'vm'");throw $.code="MODULE_NOT_FOUND",$}())("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch{A=function($){this._initNamed($)}}return S(A,B),A.prototype._initNamed=function($){B.call(this,$)},new A(this)},G.prototype._getDecoder=function(B){return this.decoders.hasOwnProperty(B=B||"der")||(this.decoders[B]=this._createNamed(p.decoders[B])),this.decoders[B]},G.prototype.decode=function(B,A,N){return this._getDecoder(A).decode(B,N)},G.prototype._getEncoder=function(B){return this.encoders.hasOwnProperty(B=B||"der")||(this.encoders[B]=this._createNamed(p.encoders[B])),this.encoders[B]},G.prototype.encode=function(B,A,N){return this._getEncoder(A).encode(B,N)}},97290:(Be,z,E)=>{var p=E(71993),S=E(15066).Reporter,O=E(83838).Buffer;function G(B,A){S.call(this,A),O.isBuffer(B)?(this.base=B,this.offset=0,this.length=B.length):this.error("Input not Buffer")}function x(B,A){if(Array.isArray(B))this.length=0,this.value=B.map(function(N){return N instanceof x||(N=new x(N,A)),this.length+=N.length,N},this);else if("number"==typeof B){if(!(0<=B&&B<=255))return A.error("non-byte EncoderBuffer value");this.value=B,this.length=1}else if("string"==typeof B)this.value=B,this.length=O.byteLength(B);else{if(!O.isBuffer(B))return A.error("Unsupported type: "+typeof B);this.value=B,this.length=B.length}}p(G,S),z.t=G,G.prototype.save=function(){return{offset:this.offset,reporter:S.prototype.save.call(this)}},G.prototype.restore=function(A){var N=new G(this.base);return N.offset=A.offset,N.length=this.offset,this.offset=A.offset,S.prototype.restore.call(this,A.reporter),N},G.prototype.isEmpty=function(){return this.offset===this.length},G.prototype.readUInt8=function(A){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(A||"DecoderBuffer overrun")},G.prototype.skip=function(A,N){if(!(this.offset+A<=this.length))return this.error(N||"DecoderBuffer overrun");var $=new G(this.base);return $._reporterState=this._reporterState,$.offset=this.offset,$.length=this.offset+A,this.offset+=A,$},G.prototype.raw=function(A){return this.base.slice(A?A.offset:this.offset,this.length)},z.d=x,x.prototype.join=function(A,N){return A||(A=new O(this.length)),N||(N=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function($){$.join(A,N),N+=$.length}):("number"==typeof this.value?A[N]=this.value:"string"==typeof this.value?A.write(this.value,N):O.isBuffer(this.value)&&this.value.copy(A,N),N+=this.length)),A}},15066:(Be,z,E)=>{var p=z;p.Reporter=E(85697).a,p.DecoderBuffer=E(97290).t,p.EncoderBuffer=E(97290).d,p.Node=E(34320)},34320:(Be,z,E)=>{var p=E(15066).Reporter,S=E(15066).EncoderBuffer,O=E(15066).DecoderBuffer,G=E(39210),x=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],B=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(x);function N(K,D){var X={};this._baseState=X,X.enc=K,X.parent=D||null,X.children=null,X.tag=null,X.args=null,X.reverseArgs=null,X.choice=null,X.optional=!1,X.any=!1,X.obj=!1,X.use=null,X.useDecoder=null,X.key=null,X.default=null,X.explicit=null,X.implicit=null,X.contains=null,X.parent||(X.children=[],this._wrap())}Be.exports=N;var $=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];N.prototype.clone=function(){var D=this._baseState,X={};$.forEach(function(Z){X[Z]=D[Z]});var V=new this.constructor(X.parent);return V._baseState=X,V},N.prototype._wrap=function(){var D=this._baseState;B.forEach(function(X){this[X]=function(){var Z=new this.constructor(this);return D.children.push(Z),Z[X].apply(Z,arguments)}},this)},N.prototype._init=function(D){var X=this._baseState;G(null===X.parent),D.call(this),X.children=X.children.filter(function(V){return V._baseState.parent===this},this),G.equal(X.children.length,1,"Root node can have only one child")},N.prototype._useArgs=function(D){var X=this._baseState,V=D.filter(function(Z){return Z instanceof this.constructor},this);D=D.filter(function(Z){return!(Z instanceof this.constructor)},this),0!==V.length&&(G(null===X.children),X.children=V,V.forEach(function(Z){Z._baseState.parent=this},this)),0!==D.length&&(G(null===X.args),X.args=D,X.reverseArgs=D.map(function(Z){if("object"!=typeof Z||Z.constructor!==Object)return Z;var Q={};return Object.keys(Z).forEach(function(te){te==(0|te)&&(te|=0),Q[Z[te]]=te}),Q}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(K){N.prototype[K]=function(){throw new Error(K+" not implemented for encoding: "+this._baseState.enc)}}),x.forEach(function(K){N.prototype[K]=function(){var X=this._baseState,V=Array.prototype.slice.call(arguments);return G(null===X.tag),X.tag=K,this._useArgs(V),this}}),N.prototype.use=function(D){G(D);var X=this._baseState;return G(null===X.use),X.use=D,this},N.prototype.optional=function(){return this._baseState.optional=!0,this},N.prototype.def=function(D){var X=this._baseState;return G(null===X.default),X.default=D,X.optional=!0,this},N.prototype.explicit=function(D){var X=this._baseState;return G(null===X.explicit&&null===X.implicit),X.explicit=D,this},N.prototype.implicit=function(D){var X=this._baseState;return G(null===X.explicit&&null===X.implicit),X.implicit=D,this},N.prototype.obj=function(){var D=this._baseState,X=Array.prototype.slice.call(arguments);return D.obj=!0,0!==X.length&&this._useArgs(X),this},N.prototype.key=function(D){var X=this._baseState;return G(null===X.key),X.key=D,this},N.prototype.any=function(){return this._baseState.any=!0,this},N.prototype.choice=function(D){var X=this._baseState;return G(null===X.choice),X.choice=D,this._useArgs(Object.keys(D).map(function(V){return D[V]})),this},N.prototype.contains=function(D){var X=this._baseState;return G(null===X.use),X.contains=D,this},N.prototype._decode=function(D,X){var V=this._baseState;if(null===V.parent)return D.wrapResult(V.children[0]._decode(D,X));var ne,Z=V.default,Q=!0,te=null;if(null!==V.key&&(te=D.enterKey(V.key)),V.optional){var J=null;if(null!==V.explicit?J=V.explicit:null!==V.implicit?J=V.implicit:null!==V.tag&&(J=V.tag),null!==J||V.any){if(Q=this._peekTag(D,J,V.any),D.isError(Q))return Q}else{var q=D.save();try{null===V.choice?this._decodeGeneric(V.tag,D,X):this._decodeChoice(D,X),Q=!0}catch{Q=!1}D.restore(q)}}if(V.obj&&Q&&(ne=D.enterObject()),Q){if(null!==V.explicit){var se=this._decodeTag(D,V.explicit);if(D.isError(se))return se;D=se}var oe=D.offset;if(null===V.use&&null===V.choice){V.any&&(q=D.save());var ue=this._decodeTag(D,null!==V.implicit?V.implicit:V.tag,V.any);if(D.isError(ue))return ue;V.any?Z=D.raw(q):D=ue}if(X&&X.track&&null!==V.tag&&X.track(D.path(),oe,D.length,"tagged"),X&&X.track&&null!==V.tag&&X.track(D.path(),D.offset,D.length,"content"),V.any||(Z=null===V.choice?this._decodeGeneric(V.tag,D,X):this._decodeChoice(D,X)),D.isError(Z))return Z;if(!V.any&&null===V.choice&&null!==V.children&&V.children.forEach(function(_e){_e._decode(D,X)}),V.contains&&("octstr"===V.tag||"bitstr"===V.tag)){var ae=new O(Z);Z=this._getUse(V.contains,D._reporterState.obj)._decode(ae,X)}}return V.obj&&Q&&(Z=D.leaveObject(ne)),null===V.key||null===Z&&!0!==Q?null!==te&&D.exitKey(te):D.leaveKey(te,V.key,Z),Z},N.prototype._decodeGeneric=function(D,X,V){var Z=this._baseState;return"seq"===D||"set"===D?null:"seqof"===D||"setof"===D?this._decodeList(X,D,Z.args[0],V):/str$/.test(D)?this._decodeStr(X,D,V):"objid"===D&&Z.args?this._decodeObjid(X,Z.args[0],Z.args[1],V):"objid"===D?this._decodeObjid(X,null,null,V):"gentime"===D||"utctime"===D?this._decodeTime(X,D,V):"null_"===D?this._decodeNull(X,V):"bool"===D?this._decodeBool(X,V):"objDesc"===D?this._decodeStr(X,D,V):"int"===D||"enum"===D?this._decodeInt(X,Z.args&&Z.args[0],V):null!==Z.use?this._getUse(Z.use,X._reporterState.obj)._decode(X,V):X.error("unknown tag: "+D)},N.prototype._getUse=function(D,X){var V=this._baseState;return V.useDecoder=this._use(D,X),G(null===V.useDecoder._baseState.parent),V.useDecoder=V.useDecoder._baseState.children[0],V.implicit!==V.useDecoder._baseState.implicit&&(V.useDecoder=V.useDecoder.clone(),V.useDecoder._baseState.implicit=V.implicit),V.useDecoder},N.prototype._decodeChoice=function(D,X){var V=this._baseState,Z=null,Q=!1;return Object.keys(V.choice).some(function(te){var J=D.save(),q=V.choice[te];try{var ne=q._decode(D,X);if(D.isError(ne))return!1;Z={type:te,value:ne},Q=!0}catch{return D.restore(J),!1}return!0},this),Q?Z:D.error("Choice not matched")},N.prototype._createEncoderBuffer=function(D){return new S(D,this.reporter)},N.prototype._encode=function(D,X,V){var Z=this._baseState;if(null===Z.default||Z.default!==D){var Q=this._encodeValue(D,X,V);if(void 0!==Q&&!this._skipDefault(Q,X,V))return Q}},N.prototype._encodeValue=function(D,X,V){var Z=this._baseState;if(null===Z.parent)return Z.children[0]._encode(D,X||new p);var q=null;if(this.reporter=X,Z.optional&&void 0===D){if(null===Z.default)return;D=Z.default}var Q=null,te=!1;if(Z.any)q=this._createEncoderBuffer(D);else if(Z.choice)q=this._encodeChoice(D,X);else if(Z.contains)Q=this._getUse(Z.contains,V)._encode(D,X),te=!0;else if(Z.children)Q=Z.children.map(function(oe){if("null_"===oe._baseState.tag)return oe._encode(null,X,D);if(null===oe._baseState.key)return X.error("Child should have a key");var ue=X.enterKey(oe._baseState.key);if("object"!=typeof D)return X.error("Child expected, but input is not object");var ae=oe._encode(D[oe._baseState.key],X,D);return X.leaveKey(ue),ae},this).filter(function(oe){return oe}),Q=this._createEncoderBuffer(Q);else if("seqof"===Z.tag||"setof"===Z.tag){if(!Z.args||1!==Z.args.length)return X.error("Too many args for : "+Z.tag);if(!Array.isArray(D))return X.error("seqof/setof, but data is not Array");var J=this.clone();J._baseState.implicit=null,Q=this._createEncoderBuffer(D.map(function(oe){return this._getUse(this._baseState.args[0],D)._encode(oe,X)},J))}else null!==Z.use?q=this._getUse(Z.use,V)._encode(D,X):(Q=this._encodePrimitive(Z.tag,D),te=!0);if(!Z.any&&null===Z.choice){var ne=null!==Z.implicit?Z.implicit:Z.tag,se=null===Z.implicit?"universal":"context";null===ne?null===Z.use&&X.error("Tag could be omitted only for .use()"):null===Z.use&&(q=this._encodeComposite(ne,te,se,Q))}return null!==Z.explicit&&(q=this._encodeComposite(Z.explicit,!1,"context",q)),q},N.prototype._encodeChoice=function(D,X){var V=this._baseState,Z=V.choice[D.type];return Z||G(!1,D.type+" not found in "+JSON.stringify(Object.keys(V.choice))),Z._encode(D.value,X)},N.prototype._encodePrimitive=function(D,X){var V=this._baseState;if(/str$/.test(D))return this._encodeStr(X,D);if("objid"===D&&V.args)return this._encodeObjid(X,V.reverseArgs[0],V.args[1]);if("objid"===D)return this._encodeObjid(X,null,null);if("gentime"===D||"utctime"===D)return this._encodeTime(X,D);if("null_"===D)return this._encodeNull();if("int"===D||"enum"===D)return this._encodeInt(X,V.args&&V.reverseArgs[0]);if("bool"===D)return this._encodeBool(X);if("objDesc"===D)return this._encodeStr(X,D);throw new Error("Unsupported tag: "+D)},N.prototype._isNumstr=function(D){return/^[0-9 ]*$/.test(D)},N.prototype._isPrintstr=function(D){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(D)}},85697:(Be,z,E)=>{var p=E(71993);function S(G){this._reporterState={obj:null,path:[],options:G||{},errors:[]}}function O(G,x){this.path=G,this.rethrow(x)}z.a=S,S.prototype.isError=function(x){return x instanceof O},S.prototype.save=function(){var x=this._reporterState;return{obj:x.obj,pathLen:x.path.length}},S.prototype.restore=function(x){var B=this._reporterState;B.obj=x.obj,B.path=B.path.slice(0,x.pathLen)},S.prototype.enterKey=function(x){return this._reporterState.path.push(x)},S.prototype.exitKey=function(x){var B=this._reporterState;B.path=B.path.slice(0,x-1)},S.prototype.leaveKey=function(x,B,A){var N=this._reporterState;this.exitKey(x),null!==N.obj&&(N.obj[B]=A)},S.prototype.path=function(){return this._reporterState.path.join("/")},S.prototype.enterObject=function(){var x=this._reporterState,B=x.obj;return x.obj={},B},S.prototype.leaveObject=function(x){var B=this._reporterState,A=B.obj;return B.obj=x,A},S.prototype.error=function(x){var B,A=this._reporterState,N=x instanceof O;if(B=N?x:new O(A.path.map(function($){return"["+JSON.stringify($)+"]"}).join(""),x.message||x,x.stack),!A.options.partial)throw B;return N||A.errors.push(B),B},S.prototype.wrapResult=function(x){var B=this._reporterState;return B.options.partial?{result:this.isError(x)?null:x,errors:B.errors}:x},p(O,Error),O.prototype.rethrow=function(x){if(this.message=x+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,O),!this.stack)try{throw new Error(this.message)}catch(B){this.stack=B.stack}return this}},36283:(Be,z,E)=>{var p=E(47740);z.tagClass={0:"universal",1:"application",2:"context",3:"private"},z.tagClassByName=p._reverse(z.tagClass),z.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},z.tagByName=p._reverse(z.tag)},47740:(Be,z,E)=>{var p=z;p._reverse=function(O){var G={};return Object.keys(O).forEach(function(x){(0|x)==x&&(x|=0),G[O[x]]=x}),G},p.der=E(36283)},55941:(Be,z,E)=>{var p=E(71993),S=E(49609),O=S.base,G=S.bignum,x=S.constants.der;function B(K){this.enc="der",this.name=K.name,this.entity=K,this.tree=new A,this.tree._init(K.body)}function A(K){O.Node.call(this,"der",K)}function N(K,D){var X=K.readUInt8(D);if(K.isError(X))return X;var V=x.tagClass[X>>6],Z=!(32&X);if(31&~X)X&=31;else{var Q=X;for(X=0;!(128&~Q);){if(Q=K.readUInt8(D),K.isError(Q))return Q;X<<=7,X|=127&Q}}return{cls:V,primitive:Z,tag:X,tagStr:x.tag[X]}}function $(K,D,X){var V=K.readUInt8(X);if(K.isError(V))return V;if(!D&&128===V)return null;if(!(128&V))return V;var Z=127&V;if(Z>4)return K.error("length octect is too long");V=0;for(var Q=0;Q<Z;Q++){V<<=8;var te=K.readUInt8(X);if(K.isError(te))return te;V|=te}return V}Be.exports=B,B.prototype.decode=function(D,X){return D instanceof O.DecoderBuffer||(D=new O.DecoderBuffer(D,X)),this.tree._decode(D,X)},p(A,O.Node),A.prototype._peekTag=function(D,X,V){if(D.isEmpty())return!1;var Z=D.save(),Q=N(D,'Failed to peek tag: "'+X+'"');return D.isError(Q)?Q:(D.restore(Z),Q.tag===X||Q.tagStr===X||Q.tagStr+"of"===X||V)},A.prototype._decodeTag=function(D,X,V){var Z=N(D,'Failed to decode tag of "'+X+'"');if(D.isError(Z))return Z;var Q=$(D,Z.primitive,'Failed to get length of "'+X+'"');if(D.isError(Q))return Q;if(!V&&Z.tag!==X&&Z.tagStr!==X&&Z.tagStr+"of"!==X)return D.error('Failed to match tag: "'+X+'"');if(Z.primitive||null!==Q)return D.skip(Q,'Failed to match body of: "'+X+'"');var te=D.save(),J=this._skipUntilEnd(D,'Failed to skip indefinite length body: "'+this.tag+'"');return D.isError(J)?J:(Q=D.offset-te.offset,D.restore(te),D.skip(Q,'Failed to match body of: "'+X+'"'))},A.prototype._skipUntilEnd=function(D,X){for(;;){var V=N(D,X);if(D.isError(V))return V;var Q,Z=$(D,V.primitive,X);if(D.isError(Z))return Z;if(Q=V.primitive||null!==Z?D.skip(Z):this._skipUntilEnd(D,X),D.isError(Q))return Q;if("end"===V.tagStr)break}},A.prototype._decodeList=function(D,X,V,Z){for(var Q=[];!D.isEmpty();){var te=this._peekTag(D,"end");if(D.isError(te))return te;var J=V.decode(D,"der",Z);if(D.isError(J)&&te)break;Q.push(J)}return Q},A.prototype._decodeStr=function(D,X){if("bitstr"===X){var V=D.readUInt8();return D.isError(V)?V:{unused:V,data:D.raw()}}if("bmpstr"===X){var Z=D.raw();if(Z.length%2==1)return D.error("Decoding of string type: bmpstr length mismatch");for(var Q="",te=0;te<Z.length/2;te++)Q+=String.fromCharCode(Z.readUInt16BE(2*te));return Q}if("numstr"===X){var J=D.raw().toString("ascii");return this._isNumstr(J)?J:D.error("Decoding of string type: numstr unsupported characters")}if("octstr"===X)return D.raw();if("objDesc"===X)return D.raw();if("printstr"===X){var q=D.raw().toString("ascii");return this._isPrintstr(q)?q:D.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(X)?D.raw().toString():D.error("Decoding of string type: "+X+" unsupported")},A.prototype._decodeObjid=function(D,X,V){for(var Z,Q=[],te=0;!D.isEmpty();){var J=D.readUInt8();te<<=7,te|=127&J,128&J||(Q.push(te),te=0)}if(128&J&&Q.push(te),Z=V?Q:[Q[0]/40|0,Q[0]%40].concat(Q.slice(1)),X){var se=X[Z.join(" ")];void 0===se&&(se=X[Z.join(".")]),void 0!==se&&(Z=se)}return Z},A.prototype._decodeTime=function(D,X){var V=D.raw().toString();if("gentime"===X)var Z=0|V.slice(0,4),Q=0|V.slice(4,6),te=0|V.slice(6,8),J=0|V.slice(8,10),q=0|V.slice(10,12),ne=0|V.slice(12,14);else{if("utctime"!==X)return D.error("Decoding "+X+" time is not supported yet");Z=0|V.slice(0,2),Q=0|V.slice(2,4),te=0|V.slice(4,6),J=0|V.slice(6,8),q=0|V.slice(8,10),ne=0|V.slice(10,12),Z=Z<70?2e3+Z:1900+Z}return Date.UTC(Z,Q-1,te,J,q,ne,0)},A.prototype._decodeNull=function(D){return null},A.prototype._decodeBool=function(D){var X=D.readUInt8();return D.isError(X)?X:0!==X},A.prototype._decodeInt=function(D,X){var V=D.raw(),Z=new G(V);return X&&(Z=X[Z.toString(10)]||Z),Z},A.prototype._use=function(D,X){return"function"==typeof D&&(D=D(X)),D._getDecoder("der").tree}},91558:(Be,z,E)=>{var p=z;p.der=E(55941),p.pem=E(59316)},59316:(Be,z,E)=>{var p=E(71993),S=E(83838).Buffer,O=E(55941);function G(x){O.call(this,x),this.enc="pem"}p(G,O),Be.exports=G,G.prototype.decode=function(B,A){for(var N=B.toString().split(/[\r\n]+/g),$=A.label.toUpperCase(),K=/^-----(BEGIN|END) ([^-]+)-----$/,D=-1,X=-1,V=0;V<N.length;V++){var Z=N[V].match(K);if(null!==Z&&Z[2]===$){if(-1!==D){if("END"!==Z[1])break;X=V;break}if("BEGIN"!==Z[1])break;D=V}}if(-1===D||-1===X)throw new Error("PEM section not found for: "+$);var Q=N.slice(D+1,X).join("");Q.replace(/[^a-z0-9\+\/=]+/gi,"");var te=new S(Q,"base64");return O.prototype.decode.call(this,te,A)}},72193:(Be,z,E)=>{var p=E(71993),S=E(83838).Buffer,O=E(49609),G=O.base,x=O.constants.der;function B(K){this.enc="der",this.name=K.name,this.entity=K,this.tree=new A,this.tree._init(K.body)}function A(K){G.Node.call(this,"der",K)}function N(K){return K<10?"0"+K:K}Be.exports=B,B.prototype.encode=function(D,X){return this.tree._encode(D,X).join()},p(A,G.Node),A.prototype._encodeComposite=function(D,X,V,Z){var q,Q=function $(K,D,X,V){var Z;if("seqof"===K?K="seq":"setof"===K&&(K="set"),x.tagByName.hasOwnProperty(K))Z=x.tagByName[K];else{if("number"!=typeof K||(0|K)!==K)return V.error("Unknown tag: "+K);Z=K}return Z>=31?V.error("Multi-octet tag encoding unsupported"):(D||(Z|=32),Z|=x.tagClassByName[X||"universal"]<<6)}(D,X,V,this.reporter);if(Z.length<128)return(q=new S(2))[0]=Q,q[1]=Z.length,this._createEncoderBuffer([q,Z]);for(var te=1,J=Z.length;J>=256;J>>=8)te++;(q=new S(2+te))[0]=Q,q[1]=128|te,J=1+te;for(var ne=Z.length;ne>0;J--,ne>>=8)q[J]=255&ne;return this._createEncoderBuffer([q,Z])},A.prototype._encodeStr=function(D,X){if("bitstr"===X)return this._createEncoderBuffer([0|D.unused,D.data]);if("bmpstr"===X){for(var V=new S(2*D.length),Z=0;Z<D.length;Z++)V.writeUInt16BE(D.charCodeAt(Z),2*Z);return this._createEncoderBuffer(V)}return"numstr"===X?this._isNumstr(D)?this._createEncoderBuffer(D):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===X?this._isPrintstr(D)?this._createEncoderBuffer(D):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(X)||"objDesc"===X?this._createEncoderBuffer(D):this.reporter.error("Encoding of string type: "+X+" unsupported")},A.prototype._encodeObjid=function(D,X,V){if("string"==typeof D){if(!X)return this.reporter.error("string objid given, but no values map found");if(!X.hasOwnProperty(D))return this.reporter.error("objid not found in values map");D=X[D].split(/[\s\.]+/g);for(var Z=0;Z<D.length;Z++)D[Z]|=0}else if(Array.isArray(D))for(D=D.slice(),Z=0;Z<D.length;Z++)D[Z]|=0;if(!Array.isArray(D))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(D));if(!V){if(D[1]>=40)return this.reporter.error("Second objid identifier OOB");D.splice(0,2,40*D[0]+D[1])}var Q=0;for(Z=0;Z<D.length;Z++){var te=D[Z];for(Q++;te>=128;te>>=7)Q++}var J=new S(Q),q=J.length-1;for(Z=D.length-1;Z>=0;Z--)for(J[q--]=127&(te=D[Z]);(te>>=7)>0;)J[q--]=128|127&te;return this._createEncoderBuffer(J)},A.prototype._encodeTime=function(D,X){var V,Z=new Date(D);return"gentime"===X?V=[N(Z.getFullYear()),N(Z.getUTCMonth()+1),N(Z.getUTCDate()),N(Z.getUTCHours()),N(Z.getUTCMinutes()),N(Z.getUTCSeconds()),"Z"].join(""):"utctime"===X?V=[N(Z.getFullYear()%100),N(Z.getUTCMonth()+1),N(Z.getUTCDate()),N(Z.getUTCHours()),N(Z.getUTCMinutes()),N(Z.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+X+" time is not supported yet"),this._encodeStr(V,"octstr")},A.prototype._encodeNull=function(){return this._createEncoderBuffer("")},A.prototype._encodeInt=function(D,X){if("string"==typeof D){if(!X)return this.reporter.error("String int or enum given, but no values map");if(!X.hasOwnProperty(D))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(D));D=X[D]}if("number"!=typeof D&&!S.isBuffer(D)){var V=D.toArray();!D.sign&&128&V[0]&&V.unshift(0),D=new S(V)}if(S.isBuffer(D)){var Z=D.length;0===D.length&&Z++;var te=new S(Z);return D.copy(te),0===D.length&&(te[0]=0),this._createEncoderBuffer(te)}if(D<128)return this._createEncoderBuffer(D);if(D<256)return this._createEncoderBuffer([0,D]);Z=1;for(var Q=D;Q>=256;Q>>=8)Z++;for(Q=(te=new Array(Z)).length-1;Q>=0;Q--)te[Q]=255&D,D>>=8;return 128&te[0]&&te.unshift(0),this._createEncoderBuffer(new S(te))},A.prototype._encodeBool=function(D){return this._createEncoderBuffer(D?255:0)},A.prototype._use=function(D,X){return"function"==typeof D&&(D=D(X)),D._getEncoder("der").tree},A.prototype._skipDefault=function(D,X,V){var Q,Z=this._baseState;if(null===Z.default)return!1;var te=D.join();if(void 0===Z.defaultBuffer&&(Z.defaultBuffer=this._encodeValue(Z.default,X,V).join()),te.length!==Z.defaultBuffer.length)return!1;for(Q=0;Q<te.length;Q++)if(te[Q]!==Z.defaultBuffer[Q])return!1;return!0}},22714:(Be,z,E)=>{var p=z;p.der=E(72193),p.pem=E(24816)},24816:(Be,z,E)=>{var p=E(71993),S=E(72193);function O(G){S.call(this,G),this.enc="pem"}p(O,S),Be.exports=O,O.prototype.encode=function(x,B){for(var N=S.prototype.encode.call(this,x).toString("base64"),$=["-----BEGIN "+B.label+"-----"],K=0;K<N.length;K+=64)$.push(N.slice(K,K+64));return $.push("-----END "+B.label+"-----"),$.join("\n")}},96867:function(Be,z,E){!function(p,S){"use strict";function O(P,u){if(!P)throw new Error(u||"Assertion failed")}function G(P,u){P.super_=u;var h=function(){};h.prototype=u.prototype,P.prototype=new h,P.prototype.constructor=P}function x(P,u,h){if(x.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,null!==P&&(("le"===u||"be"===u)&&(h=u,u=10),this._init(P||0,u||10,h||"be"))}var B;"object"==typeof p?p.exports=x:S.BN=x,x.BN=x,x.wordSize=26;try{B=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(78982).Buffer}catch{}function A(P,u){var h=P.charCodeAt(u);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(P,u,h){var g=A(P,h);return h-1>=u&&(g|=A(P,h-1)<<4),g}function $(P,u,h,g){for(var w=0,T=Math.min(P.length,h),C=u;C<T;C++){var j=P.charCodeAt(C)-48;w*=g,w+=j>=49?j-49+10:j>=17?j-17+10:j}return w}x.isBN=function(u){return u instanceof x||null!==u&&"object"==typeof u&&u.constructor.wordSize===x.wordSize&&Array.isArray(u.words)},x.max=function(u,h){return u.cmp(h)>0?u:h},x.min=function(u,h){return u.cmp(h)<0?u:h},x.prototype._init=function(u,h,g){if("number"==typeof u)return this._initNumber(u,h,g);if("object"==typeof u)return this._initArray(u,h,g);"hex"===h&&(h=16),O(h===(0|h)&&h>=2&&h<=36);var w=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(w++,this.negative=1),w<u.length&&(16===h?this._parseHex(u,w,g):(this._parseBase(u,h,w),"le"===g&&this._initArray(this.toArray(),h,g)))},x.prototype._initNumber=function(u,h,g){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(O(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===g&&this._initArray(this.toArray(),h,g)},x.prototype._initArray=function(u,h,g){if(O("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var T,C,j=0;if("be"===g)for(w=u.length-1,T=0;w>=0;w-=3)this.words[T]|=(C=u[w]|u[w-1]<<8|u[w-2]<<16)<<j&67108863,this.words[T+1]=C>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);else if("le"===g)for(w=0,T=0;w<u.length;w+=3)this.words[T]|=(C=u[w]|u[w+1]<<8|u[w+2]<<16)<<j&67108863,this.words[T+1]=C>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);return this.strip()},x.prototype._parseHex=function(u,h,g){this.length=Math.ceil((u.length-h)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var j,T=0,C=0;if("be"===g)for(w=u.length-1;w>=h;w-=2)j=N(u,h,w)<<T,this.words[C]|=67108863&j,T>=18?(T-=18,this.words[C+=1]|=j>>>26):T+=8;else for(w=(u.length-h)%2==0?h+1:h;w<u.length;w+=2)j=N(u,h,w)<<T,this.words[C]|=67108863&j,T>=18?(T-=18,this.words[C+=1]|=j>>>26):T+=8;this.strip()},x.prototype._parseBase=function(u,h,g){this.words=[0],this.length=1;for(var w=0,T=1;T<=67108863;T*=h)w++;w--,T=T/h|0;for(var C=u.length-g,j=C%w,M=Math.min(C,C-j)+g,d=0,v=g;v<M;v+=w)d=$(u,v,v+w,h),this.imuln(T),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==j){var W=1;for(d=$(u,v,u.length,h),v=0;v<j;v++)W*=h;this.imuln(W),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},x.prototype.copy=function(u){u.words=new Array(this.length);for(var h=0;h<this.length;h++)u.words[h]=this.words[h];u.length=this.length,u.negative=this.negative,u.red=this.red},x.prototype.clone=function(){var u=new x(null);return this.copy(u),u},x.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var K=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Z(P,u,h){h.negative=u.negative^P.negative;var g=P.length+u.length|0;h.length=g,g=g-1|0;var w=0|P.words[0],T=0|u.words[0],C=w*T,M=C/67108864|0;h.words[0]=67108863&C;for(var d=1;d<g;d++){for(var v=M>>>26,W=67108863&M,H=Math.min(d,u.length-1),ee=Math.max(0,d-P.length+1);ee<=H;ee++)v+=(C=(w=0|P.words[d-ee|0])*(T=0|u.words[ee])+W)/67108864|0,W=67108863&C;h.words[d]=0|W,M=0|v}return 0!==M?h.words[d]=0|M:h.length--,h.strip()}x.prototype.toString=function(u,h){var g;if(h=0|h||1,16===(u=u||10)||"hex"===u){g="";for(var w=0,T=0,C=0;C<this.length;C++){var j=this.words[C],M=(16777215&(j<<w|T)).toString(16);g=0!=(T=j>>>24-w&16777215)||C!==this.length-1?K[6-M.length]+M+g:M+g,(w+=2)>=26&&(w-=26,C--)}for(0!==T&&(g=T.toString(16)+g);g.length%h!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}if(u===(0|u)&&u>=2&&u<=36){var d=D[u],v=X[u];g="";var W=this.clone();for(W.negative=0;!W.isZero();){var H=W.modn(v).toString(u);g=(W=W.idivn(v)).isZero()?H+g:K[d-H.length]+H+g}for(this.isZero()&&(g="0"+g);g.length%h!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}O(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&O(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(u,h){return O(typeof B<"u"),this.toArrayLike(B,u,h)},x.prototype.toArray=function(u,h){return this.toArrayLike(Array,u,h)},x.prototype.toArrayLike=function(u,h,g){var w=this.byteLength(),T=g||Math.max(1,w);O(w<=T,"byte array longer than desired length"),O(T>0,"Requested array length <= 0"),this.strip();var M,d,C="le"===h,j=new u(T),v=this.clone();if(C){for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),j[d]=M;for(;d<T;d++)j[d]=0}else{for(d=0;d<T-w;d++)j[d]=0;for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),j[T-d-1]=M}return j},x.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var h=u,g=0;return h>=4096&&(g+=13,h>>>=13),h>=64&&(g+=7,h>>>=7),h>=8&&(g+=4,h>>>=4),h>=2&&(g+=2,h>>>=2),g+h},x.prototype._zeroBits=function(u){if(0===u)return 26;var h=u,g=0;return 8191&h||(g+=13,h>>>=13),127&h||(g+=7,h>>>=7),15&h||(g+=4,h>>>=4),3&h||(g+=2,h>>>=2),1&h||g++,g},x.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,h=0;h<this.length;h++){var g=this._zeroBits(this.words[h]);if(u+=g,26!==g)break}return u},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},x.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]|u.words[h];return this.strip()},x.prototype.ior=function(u){return O(!(this.negative|u.negative)),this.iuor(u)},x.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},x.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},x.prototype.iuand=function(u){var h;h=this.length>u.length?u:this;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]&u.words[g];return this.length=h.length,this.strip()},x.prototype.iand=function(u){return O(!(this.negative|u.negative)),this.iuand(u)},x.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},x.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},x.prototype.iuxor=function(u){var h,g;this.length>u.length?(h=this,g=u):(h=u,g=this);for(var w=0;w<g.length;w++)this.words[w]=h.words[w]^g.words[w];if(this!==h)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=h.length,this.strip()},x.prototype.ixor=function(u){return O(!(this.negative|u.negative)),this.iuxor(u)},x.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},x.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},x.prototype.inotn=function(u){O("number"==typeof u&&u>=0);var h=0|Math.ceil(u/26),g=u%26;this._expand(h),g>0&&h--;for(var w=0;w<h;w++)this.words[w]=67108863&~this.words[w];return g>0&&(this.words[w]=~this.words[w]&67108863>>26-g),this.strip()},x.prototype.notn=function(u){return this.clone().inotn(u)},x.prototype.setn=function(u,h){O("number"==typeof u&&u>=0);var g=u/26|0,w=u%26;return this._expand(g+1),this.words[g]=h?this.words[g]|1<<w:this.words[g]&~(1<<w),this.strip()},x.prototype.iadd=function(u){var h,g,w;if(0!==this.negative&&0===u.negative)return this.negative=0,h=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,h=this.isub(u),u.negative=1,h._normSign();this.length>u.length?(g=this,w=u):(g=u,w=this);for(var T=0,C=0;C<w.length;C++)this.words[C]=67108863&(h=(0|g.words[C])+(0|w.words[C])+T),T=h>>>26;for(;0!==T&&C<g.length;C++)this.words[C]=67108863&(h=(0|g.words[C])+T),T=h>>>26;if(this.length=g.length,0!==T)this.words[this.length]=T,this.length++;else if(g!==this)for(;C<g.length;C++)this.words[C]=g.words[C];return this},x.prototype.add=function(u){var h;return 0!==u.negative&&0===this.negative?(u.negative=0,h=this.sub(u),u.negative^=1,h):0===u.negative&&0!==this.negative?(this.negative=0,h=u.sub(this),this.negative=1,h):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},x.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var h=this.iadd(u);return u.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var w,T,g=this.cmp(u);if(0===g)return this.negative=0,this.length=1,this.words[0]=0,this;g>0?(w=this,T=u):(w=u,T=this);for(var C=0,j=0;j<T.length;j++)C=(h=(0|w.words[j])-(0|T.words[j])+C)>>26,this.words[j]=67108863&h;for(;0!==C&&j<w.length;j++)C=(h=(0|w.words[j])+C)>>26,this.words[j]=67108863&h;if(0===C&&j<w.length&&w!==this)for(;j<w.length;j++)this.words[j]=w.words[j];return this.length=Math.max(this.length,j),w!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(u){return this.clone().isub(u)};var Q=function(u,h,g){var M,d,v,w=u.words,T=h.words,C=g.words,j=0,W=0|w[0],H=8191&W,ee=W>>>13,fe=0|w[1],Ae=8191&fe,Pe=fe>>>13,Le=0|w[2],be=8191&Le,ge=Le>>>13,Re=0|w[3],me=8191&Re,xe=Re>>>13,le=0|w[4],he=8191&le,re=le>>>13,de=0|w[5],pe=8191&de,Se=de>>>13,ke=0|w[6],Fe=8191&ke,We=ke>>>13,Tt=0|w[7],Xe=8191&Tt,Ke=Tt>>>13,lt=0|w[8],U=8191&lt,_=lt>>>13,m=0|w[9],F=8191&m,ie=m>>>13,we=0|T[0],Ie=8191&we,Qe=we>>>13,kt=0|T[1],pt=8191&kt,Et=kt>>>13,Lt=0|T[2],qt=8191&Lt,Kt=Lt>>>13,er=0|T[3],cn=8191&er,Ut=er>>>13,Nt=0|T[4],dt=8191&Nt,it=Nt>>>13,Ct=0|T[5],Bt=8191&Ct,Wt=Ct>>>13,Yn=0|T[6],at=8191&Yn,ut=Yn>>>13,ft=0|T[7],et=8191&ft,gt=ft>>>13,un=0|T[8],zt=8191&un,tn=un>>>13,pr=0|T[9],bn=8191&pr,vn=pr>>>13;g.negative=u.negative^h.negative,g.length=19;var Or=(j+(M=Math.imul(H,Ie))|0)+((8191&(d=(d=Math.imul(H,Qe))+Math.imul(ee,Ie)|0))<<13)|0;j=((v=Math.imul(ee,Qe))+(d>>>13)|0)+(Or>>>26)|0,Or&=67108863,M=Math.imul(Ae,Ie),d=(d=Math.imul(Ae,Qe))+Math.imul(Pe,Ie)|0,v=Math.imul(Pe,Qe);var Qn=(j+(M=M+Math.imul(H,pt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Et)|0)+Math.imul(ee,pt)|0))<<13)|0;j=((v=v+Math.imul(ee,Et)|0)+(d>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,M=Math.imul(be,Ie),d=(d=Math.imul(be,Qe))+Math.imul(ge,Ie)|0,v=Math.imul(ge,Qe),M=M+Math.imul(Ae,pt)|0,d=(d=d+Math.imul(Ae,Et)|0)+Math.imul(Pe,pt)|0,v=v+Math.imul(Pe,Et)|0;var jn=(j+(M=M+Math.imul(H,qt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Kt)|0)+Math.imul(ee,qt)|0))<<13)|0;j=((v=v+Math.imul(ee,Kt)|0)+(d>>>13)|0)+(jn>>>26)|0,jn&=67108863,M=Math.imul(me,Ie),d=(d=Math.imul(me,Qe))+Math.imul(xe,Ie)|0,v=Math.imul(xe,Qe),M=M+Math.imul(be,pt)|0,d=(d=d+Math.imul(be,Et)|0)+Math.imul(ge,pt)|0,v=v+Math.imul(ge,Et)|0,M=M+Math.imul(Ae,qt)|0,d=(d=d+Math.imul(Ae,Kt)|0)+Math.imul(Pe,qt)|0,v=v+Math.imul(Pe,Kt)|0;var On=(j+(M=M+Math.imul(H,cn)|0)|0)+((8191&(d=(d=d+Math.imul(H,Ut)|0)+Math.imul(ee,cn)|0))<<13)|0;j=((v=v+Math.imul(ee,Ut)|0)+(d>>>13)|0)+(On>>>26)|0,On&=67108863,M=Math.imul(he,Ie),d=(d=Math.imul(he,Qe))+Math.imul(re,Ie)|0,v=Math.imul(re,Qe),M=M+Math.imul(me,pt)|0,d=(d=d+Math.imul(me,Et)|0)+Math.imul(xe,pt)|0,v=v+Math.imul(xe,Et)|0,M=M+Math.imul(be,qt)|0,d=(d=d+Math.imul(be,Kt)|0)+Math.imul(ge,qt)|0,v=v+Math.imul(ge,Kt)|0,M=M+Math.imul(Ae,cn)|0,d=(d=d+Math.imul(Ae,Ut)|0)+Math.imul(Pe,cn)|0,v=v+Math.imul(Pe,Ut)|0;var Vn=(j+(M=M+Math.imul(H,dt)|0)|0)+((8191&(d=(d=d+Math.imul(H,it)|0)+Math.imul(ee,dt)|0))<<13)|0;j=((v=v+Math.imul(ee,it)|0)+(d>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,M=Math.imul(pe,Ie),d=(d=Math.imul(pe,Qe))+Math.imul(Se,Ie)|0,v=Math.imul(Se,Qe),M=M+Math.imul(he,pt)|0,d=(d=d+Math.imul(he,Et)|0)+Math.imul(re,pt)|0,v=v+Math.imul(re,Et)|0,M=M+Math.imul(me,qt)|0,d=(d=d+Math.imul(me,Kt)|0)+Math.imul(xe,qt)|0,v=v+Math.imul(xe,Kt)|0,M=M+Math.imul(be,cn)|0,d=(d=d+Math.imul(be,Ut)|0)+Math.imul(ge,cn)|0,v=v+Math.imul(ge,Ut)|0,M=M+Math.imul(Ae,dt)|0,d=(d=d+Math.imul(Ae,it)|0)+Math.imul(Pe,dt)|0,v=v+Math.imul(Pe,it)|0;var Hn=(j+(M=M+Math.imul(H,Bt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Wt)|0)+Math.imul(ee,Bt)|0))<<13)|0;j=((v=v+Math.imul(ee,Wt)|0)+(d>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,M=Math.imul(Fe,Ie),d=(d=Math.imul(Fe,Qe))+Math.imul(We,Ie)|0,v=Math.imul(We,Qe),M=M+Math.imul(pe,pt)|0,d=(d=d+Math.imul(pe,Et)|0)+Math.imul(Se,pt)|0,v=v+Math.imul(Se,Et)|0,M=M+Math.imul(he,qt)|0,d=(d=d+Math.imul(he,Kt)|0)+Math.imul(re,qt)|0,v=v+Math.imul(re,Kt)|0,M=M+Math.imul(me,cn)|0,d=(d=d+Math.imul(me,Ut)|0)+Math.imul(xe,cn)|0,v=v+Math.imul(xe,Ut)|0,M=M+Math.imul(be,dt)|0,d=(d=d+Math.imul(be,it)|0)+Math.imul(ge,dt)|0,v=v+Math.imul(ge,it)|0,M=M+Math.imul(Ae,Bt)|0,d=(d=d+Math.imul(Ae,Wt)|0)+Math.imul(Pe,Bt)|0,v=v+Math.imul(Pe,Wt)|0;var ar=(j+(M=M+Math.imul(H,at)|0)|0)+((8191&(d=(d=d+Math.imul(H,ut)|0)+Math.imul(ee,at)|0))<<13)|0;j=((v=v+Math.imul(ee,ut)|0)+(d>>>13)|0)+(ar>>>26)|0,ar&=67108863,M=Math.imul(Xe,Ie),d=(d=Math.imul(Xe,Qe))+Math.imul(Ke,Ie)|0,v=Math.imul(Ke,Qe),M=M+Math.imul(Fe,pt)|0,d=(d=d+Math.imul(Fe,Et)|0)+Math.imul(We,pt)|0,v=v+Math.imul(We,Et)|0,M=M+Math.imul(pe,qt)|0,d=(d=d+Math.imul(pe,Kt)|0)+Math.imul(Se,qt)|0,v=v+Math.imul(Se,Kt)|0,M=M+Math.imul(he,cn)|0,d=(d=d+Math.imul(he,Ut)|0)+Math.imul(re,cn)|0,v=v+Math.imul(re,Ut)|0,M=M+Math.imul(me,dt)|0,d=(d=d+Math.imul(me,it)|0)+Math.imul(xe,dt)|0,v=v+Math.imul(xe,it)|0,M=M+Math.imul(be,Bt)|0,d=(d=d+Math.imul(be,Wt)|0)+Math.imul(ge,Bt)|0,v=v+Math.imul(ge,Wt)|0,M=M+Math.imul(Ae,at)|0,d=(d=d+Math.imul(Ae,ut)|0)+Math.imul(Pe,at)|0,v=v+Math.imul(Pe,ut)|0;var qn=(j+(M=M+Math.imul(H,et)|0)|0)+((8191&(d=(d=d+Math.imul(H,gt)|0)+Math.imul(ee,et)|0))<<13)|0;j=((v=v+Math.imul(ee,gt)|0)+(d>>>13)|0)+(qn>>>26)|0,qn&=67108863,M=Math.imul(U,Ie),d=(d=Math.imul(U,Qe))+Math.imul(_,Ie)|0,v=Math.imul(_,Qe),M=M+Math.imul(Xe,pt)|0,d=(d=d+Math.imul(Xe,Et)|0)+Math.imul(Ke,pt)|0,v=v+Math.imul(Ke,Et)|0,M=M+Math.imul(Fe,qt)|0,d=(d=d+Math.imul(Fe,Kt)|0)+Math.imul(We,qt)|0,v=v+Math.imul(We,Kt)|0,M=M+Math.imul(pe,cn)|0,d=(d=d+Math.imul(pe,Ut)|0)+Math.imul(Se,cn)|0,v=v+Math.imul(Se,Ut)|0,M=M+Math.imul(he,dt)|0,d=(d=d+Math.imul(he,it)|0)+Math.imul(re,dt)|0,v=v+Math.imul(re,it)|0,M=M+Math.imul(me,Bt)|0,d=(d=d+Math.imul(me,Wt)|0)+Math.imul(xe,Bt)|0,v=v+Math.imul(xe,Wt)|0,M=M+Math.imul(be,at)|0,d=(d=d+Math.imul(be,ut)|0)+Math.imul(ge,at)|0,v=v+Math.imul(ge,ut)|0,M=M+Math.imul(Ae,et)|0,d=(d=d+Math.imul(Ae,gt)|0)+Math.imul(Pe,et)|0,v=v+Math.imul(Pe,gt)|0;var vr=(j+(M=M+Math.imul(H,zt)|0)|0)+((8191&(d=(d=d+Math.imul(H,tn)|0)+Math.imul(ee,zt)|0))<<13)|0;j=((v=v+Math.imul(ee,tn)|0)+(d>>>13)|0)+(vr>>>26)|0,vr&=67108863,M=Math.imul(F,Ie),d=(d=Math.imul(F,Qe))+Math.imul(ie,Ie)|0,v=Math.imul(ie,Qe),M=M+Math.imul(U,pt)|0,d=(d=d+Math.imul(U,Et)|0)+Math.imul(_,pt)|0,v=v+Math.imul(_,Et)|0,M=M+Math.imul(Xe,qt)|0,d=(d=d+Math.imul(Xe,Kt)|0)+Math.imul(Ke,qt)|0,v=v+Math.imul(Ke,Kt)|0,M=M+Math.imul(Fe,cn)|0,d=(d=d+Math.imul(Fe,Ut)|0)+Math.imul(We,cn)|0,v=v+Math.imul(We,Ut)|0,M=M+Math.imul(pe,dt)|0,d=(d=d+Math.imul(pe,it)|0)+Math.imul(Se,dt)|0,v=v+Math.imul(Se,it)|0,M=M+Math.imul(he,Bt)|0,d=(d=d+Math.imul(he,Wt)|0)+Math.imul(re,Bt)|0,v=v+Math.imul(re,Wt)|0,M=M+Math.imul(me,at)|0,d=(d=d+Math.imul(me,ut)|0)+Math.imul(xe,at)|0,v=v+Math.imul(xe,ut)|0,M=M+Math.imul(be,et)|0,d=(d=d+Math.imul(be,gt)|0)+Math.imul(ge,et)|0,v=v+Math.imul(ge,gt)|0,M=M+Math.imul(Ae,zt)|0,d=(d=d+Math.imul(Ae,tn)|0)+Math.imul(Pe,zt)|0,v=v+Math.imul(Pe,tn)|0;var _r=(j+(M=M+Math.imul(H,bn)|0)|0)+((8191&(d=(d=d+Math.imul(H,vn)|0)+Math.imul(ee,bn)|0))<<13)|0;j=((v=v+Math.imul(ee,vn)|0)+(d>>>13)|0)+(_r>>>26)|0,_r&=67108863,M=Math.imul(F,pt),d=(d=Math.imul(F,Et))+Math.imul(ie,pt)|0,v=Math.imul(ie,Et),M=M+Math.imul(U,qt)|0,d=(d=d+Math.imul(U,Kt)|0)+Math.imul(_,qt)|0,v=v+Math.imul(_,Kt)|0,M=M+Math.imul(Xe,cn)|0,d=(d=d+Math.imul(Xe,Ut)|0)+Math.imul(Ke,cn)|0,v=v+Math.imul(Ke,Ut)|0,M=M+Math.imul(Fe,dt)|0,d=(d=d+Math.imul(Fe,it)|0)+Math.imul(We,dt)|0,v=v+Math.imul(We,it)|0,M=M+Math.imul(pe,Bt)|0,d=(d=d+Math.imul(pe,Wt)|0)+Math.imul(Se,Bt)|0,v=v+Math.imul(Se,Wt)|0,M=M+Math.imul(he,at)|0,d=(d=d+Math.imul(he,ut)|0)+Math.imul(re,at)|0,v=v+Math.imul(re,ut)|0,M=M+Math.imul(me,et)|0,d=(d=d+Math.imul(me,gt)|0)+Math.imul(xe,et)|0,v=v+Math.imul(xe,gt)|0,M=M+Math.imul(be,zt)|0,d=(d=d+Math.imul(be,tn)|0)+Math.imul(ge,zt)|0,v=v+Math.imul(ge,tn)|0;var Er=(j+(M=M+Math.imul(Ae,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Ae,vn)|0)+Math.imul(Pe,bn)|0))<<13)|0;j=((v=v+Math.imul(Pe,vn)|0)+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,M=Math.imul(F,qt),d=(d=Math.imul(F,Kt))+Math.imul(ie,qt)|0,v=Math.imul(ie,Kt),M=M+Math.imul(U,cn)|0,d=(d=d+Math.imul(U,Ut)|0)+Math.imul(_,cn)|0,v=v+Math.imul(_,Ut)|0,M=M+Math.imul(Xe,dt)|0,d=(d=d+Math.imul(Xe,it)|0)+Math.imul(Ke,dt)|0,v=v+Math.imul(Ke,it)|0,M=M+Math.imul(Fe,Bt)|0,d=(d=d+Math.imul(Fe,Wt)|0)+Math.imul(We,Bt)|0,v=v+Math.imul(We,Wt)|0,M=M+Math.imul(pe,at)|0,d=(d=d+Math.imul(pe,ut)|0)+Math.imul(Se,at)|0,v=v+Math.imul(Se,ut)|0,M=M+Math.imul(he,et)|0,d=(d=d+Math.imul(he,gt)|0)+Math.imul(re,et)|0,v=v+Math.imul(re,gt)|0,M=M+Math.imul(me,zt)|0,d=(d=d+Math.imul(me,tn)|0)+Math.imul(xe,zt)|0,v=v+Math.imul(xe,tn)|0;var mr=(j+(M=M+Math.imul(be,bn)|0)|0)+((8191&(d=(d=d+Math.imul(be,vn)|0)+Math.imul(ge,bn)|0))<<13)|0;j=((v=v+Math.imul(ge,vn)|0)+(d>>>13)|0)+(mr>>>26)|0,mr&=67108863,M=Math.imul(F,cn),d=(d=Math.imul(F,Ut))+Math.imul(ie,cn)|0,v=Math.imul(ie,Ut),M=M+Math.imul(U,dt)|0,d=(d=d+Math.imul(U,it)|0)+Math.imul(_,dt)|0,v=v+Math.imul(_,it)|0,M=M+Math.imul(Xe,Bt)|0,d=(d=d+Math.imul(Xe,Wt)|0)+Math.imul(Ke,Bt)|0,v=v+Math.imul(Ke,Wt)|0,M=M+Math.imul(Fe,at)|0,d=(d=d+Math.imul(Fe,ut)|0)+Math.imul(We,at)|0,v=v+Math.imul(We,ut)|0,M=M+Math.imul(pe,et)|0,d=(d=d+Math.imul(pe,gt)|0)+Math.imul(Se,et)|0,v=v+Math.imul(Se,gt)|0,M=M+Math.imul(he,zt)|0,d=(d=d+Math.imul(he,tn)|0)+Math.imul(re,zt)|0,v=v+Math.imul(re,tn)|0;var Rr=(j+(M=M+Math.imul(me,bn)|0)|0)+((8191&(d=(d=d+Math.imul(me,vn)|0)+Math.imul(xe,bn)|0))<<13)|0;j=((v=v+Math.imul(xe,vn)|0)+(d>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,M=Math.imul(F,dt),d=(d=Math.imul(F,it))+Math.imul(ie,dt)|0,v=Math.imul(ie,it),M=M+Math.imul(U,Bt)|0,d=(d=d+Math.imul(U,Wt)|0)+Math.imul(_,Bt)|0,v=v+Math.imul(_,Wt)|0,M=M+Math.imul(Xe,at)|0,d=(d=d+Math.imul(Xe,ut)|0)+Math.imul(Ke,at)|0,v=v+Math.imul(Ke,ut)|0,M=M+Math.imul(Fe,et)|0,d=(d=d+Math.imul(Fe,gt)|0)+Math.imul(We,et)|0,v=v+Math.imul(We,gt)|0,M=M+Math.imul(pe,zt)|0,d=(d=d+Math.imul(pe,tn)|0)+Math.imul(Se,zt)|0,v=v+Math.imul(Se,tn)|0;var Br=(j+(M=M+Math.imul(he,bn)|0)|0)+((8191&(d=(d=d+Math.imul(he,vn)|0)+Math.imul(re,bn)|0))<<13)|0;j=((v=v+Math.imul(re,vn)|0)+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,M=Math.imul(F,Bt),d=(d=Math.imul(F,Wt))+Math.imul(ie,Bt)|0,v=Math.imul(ie,Wt),M=M+Math.imul(U,at)|0,d=(d=d+Math.imul(U,ut)|0)+Math.imul(_,at)|0,v=v+Math.imul(_,ut)|0,M=M+Math.imul(Xe,et)|0,d=(d=d+Math.imul(Xe,gt)|0)+Math.imul(Ke,et)|0,v=v+Math.imul(Ke,gt)|0,M=M+Math.imul(Fe,zt)|0,d=(d=d+Math.imul(Fe,tn)|0)+Math.imul(We,zt)|0,v=v+Math.imul(We,tn)|0;var kr=(j+(M=M+Math.imul(pe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(pe,vn)|0)+Math.imul(Se,bn)|0))<<13)|0;j=((v=v+Math.imul(Se,vn)|0)+(d>>>13)|0)+(kr>>>26)|0,kr&=67108863,M=Math.imul(F,at),d=(d=Math.imul(F,ut))+Math.imul(ie,at)|0,v=Math.imul(ie,ut),M=M+Math.imul(U,et)|0,d=(d=d+Math.imul(U,gt)|0)+Math.imul(_,et)|0,v=v+Math.imul(_,gt)|0,M=M+Math.imul(Xe,zt)|0,d=(d=d+Math.imul(Xe,tn)|0)+Math.imul(Ke,zt)|0,v=v+Math.imul(Ke,tn)|0;var jr=(j+(M=M+Math.imul(Fe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Fe,vn)|0)+Math.imul(We,bn)|0))<<13)|0;j=((v=v+Math.imul(We,vn)|0)+(d>>>13)|0)+(jr>>>26)|0,jr&=67108863,M=Math.imul(F,et),d=(d=Math.imul(F,gt))+Math.imul(ie,et)|0,v=Math.imul(ie,gt),M=M+Math.imul(U,zt)|0,d=(d=d+Math.imul(U,tn)|0)+Math.imul(_,zt)|0,v=v+Math.imul(_,tn)|0;var Yr=(j+(M=M+Math.imul(Xe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Xe,vn)|0)+Math.imul(Ke,bn)|0))<<13)|0;j=((v=v+Math.imul(Ke,vn)|0)+(d>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,M=Math.imul(F,zt),d=(d=Math.imul(F,tn))+Math.imul(ie,zt)|0,v=Math.imul(ie,tn);var wt=(j+(M=M+Math.imul(U,bn)|0)|0)+((8191&(d=(d=d+Math.imul(U,vn)|0)+Math.imul(_,bn)|0))<<13)|0;j=((v=v+Math.imul(_,vn)|0)+(d>>>13)|0)+(wt>>>26)|0,wt&=67108863;var Pt=(j+(M=Math.imul(F,bn))|0)+((8191&(d=(d=Math.imul(F,vn))+Math.imul(ie,bn)|0))<<13)|0;return j=((v=Math.imul(ie,vn))+(d>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,C[0]=Or,C[1]=Qn,C[2]=jn,C[3]=On,C[4]=Vn,C[5]=Hn,C[6]=ar,C[7]=qn,C[8]=vr,C[9]=_r,C[10]=Er,C[11]=mr,C[12]=Rr,C[13]=Br,C[14]=kr,C[15]=jr,C[16]=Yr,C[17]=wt,C[18]=Pt,0!==j&&(C[19]=j,g.length++),g};function J(P,u,h){return(new q).mulp(P,u,h)}function q(P,u){this.x=P,this.y=u}Math.imul||(Q=Z),x.prototype.mulTo=function(u,h){var g,w=this.length+u.length;return g=10===this.length&&10===u.length?Q(this,u,h):w<63?Z(this,u,h):w<1024?function te(P,u,h){h.negative=u.negative^P.negative,h.length=P.length+u.length;for(var g=0,w=0,T=0;T<h.length-1;T++){var C=w;w=0;for(var j=67108863&g,M=Math.min(T,u.length-1),d=Math.max(0,T-P.length+1);d<=M;d++){var ee=(0|P.words[T-d])*(0|u.words[d]),fe=67108863&ee;j=67108863&(fe=fe+j|0),w+=(C=(C=C+(ee/67108864|0)|0)+(fe>>>26)|0)>>>26,C&=67108863}h.words[T]=j,g=C,C=w}return 0!==g?h.words[T]=g:h.length--,h.strip()}(this,u,h):J(this,u,h),g},q.prototype.makeRBT=function(u){for(var h=new Array(u),g=x.prototype._countBits(u)-1,w=0;w<u;w++)h[w]=this.revBin(w,g,u);return h},q.prototype.revBin=function(u,h,g){if(0===u||u===g-1)return u;for(var w=0,T=0;T<h;T++)w|=(1&u)<<h-T-1,u>>=1;return w},q.prototype.permute=function(u,h,g,w,T,C){for(var j=0;j<C;j++)w[j]=h[u[j]],T[j]=g[u[j]]},q.prototype.transform=function(u,h,g,w,T,C){this.permute(C,u,h,g,w,T);for(var j=1;j<T;j<<=1)for(var M=j<<1,d=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<T;W+=M)for(var H=d,ee=v,fe=0;fe<j;fe++){var Ae=g[W+fe],Pe=w[W+fe],Le=g[W+fe+j],be=w[W+fe+j],ge=H*Le-ee*be;be=H*be+ee*Le,g[W+fe]=Ae+(Le=ge),w[W+fe]=Pe+be,g[W+fe+j]=Ae-Le,w[W+fe+j]=Pe-be,fe!==M&&(ge=d*H-v*ee,ee=d*ee+v*H,H=ge)}},q.prototype.guessLen13b=function(u,h){var g=1|Math.max(h,u),w=1&g,T=0;for(g=g/2|0;g;g>>>=1)T++;return 1<<T+1+w},q.prototype.conjugate=function(u,h,g){if(!(g<=1))for(var w=0;w<g/2;w++){var T=u[w];u[w]=u[g-w-1],u[g-w-1]=T,T=h[w],h[w]=-h[g-w-1],h[g-w-1]=-T}},q.prototype.normalize13b=function(u,h){for(var g=0,w=0;w<h/2;w++){var T=8192*Math.round(u[2*w+1]/h)+Math.round(u[2*w]/h)+g;u[w]=67108863&T,g=T<67108864?0:T/67108864|0}return u},q.prototype.convert13b=function(u,h,g,w){for(var T=0,C=0;C<h;C++)g[2*C]=8191&(T+=0|u[C]),g[2*C+1]=8191&(T>>>=13),T>>>=13;for(C=2*h;C<w;++C)g[C]=0;O(0===T),O(!(-8192&T))},q.prototype.stub=function(u){for(var h=new Array(u),g=0;g<u;g++)h[g]=0;return h},q.prototype.mulp=function(u,h,g){var w=2*this.guessLen13b(u.length,h.length),T=this.makeRBT(w),C=this.stub(w),j=new Array(w),M=new Array(w),d=new Array(w),v=new Array(w),W=new Array(w),H=new Array(w),ee=g.words;ee.length=w,this.convert13b(u.words,u.length,j,w),this.convert13b(h.words,h.length,v,w),this.transform(j,C,M,d,w,T),this.transform(v,C,W,H,w,T);for(var fe=0;fe<w;fe++){var Ae=M[fe]*W[fe]-d[fe]*H[fe];d[fe]=M[fe]*H[fe]+d[fe]*W[fe],M[fe]=Ae}return this.conjugate(M,d,w),this.transform(M,d,ee,C,w,T),this.conjugate(ee,C,w),this.normalize13b(ee,w),g.negative=u.negative^h.negative,g.length=u.length+h.length,g.strip()},x.prototype.mul=function(u){var h=new x(null);return h.words=new Array(this.length+u.length),this.mulTo(u,h)},x.prototype.mulf=function(u){var h=new x(null);return h.words=new Array(this.length+u.length),J(this,u,h)},x.prototype.imul=function(u){return this.clone().mulTo(u,this)},x.prototype.imuln=function(u){O("number"==typeof u),O(u<67108864);for(var h=0,g=0;g<this.length;g++){var w=(0|this.words[g])*u,T=(67108863&w)+(67108863&h);h>>=26,h+=w/67108864|0,h+=T>>>26,this.words[g]=67108863&T}return 0!==h&&(this.words[g]=h,this.length++),this},x.prototype.muln=function(u){return this.clone().imuln(u)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(u){var h=function V(P){for(var u=new Array(P.bitLength()),h=0;h<u.length;h++){var w=h%26;u[h]=(P.words[h/26|0]&1<<w)>>>w}return u}(u);if(0===h.length)return new x(1);for(var g=this,w=0;w<h.length&&0===h[w];w++,g=g.sqr());if(++w<h.length)for(var T=g.sqr();w<h.length;w++,T=T.sqr())0!==h[w]&&(g=g.mul(T));return g},x.prototype.iushln=function(u){O("number"==typeof u&&u>=0);var T,h=u%26,g=(u-h)/26,w=67108863>>>26-h<<26-h;if(0!==h){var C=0;for(T=0;T<this.length;T++){var j=this.words[T]&w;this.words[T]=(0|this.words[T])-j<<h|C,C=j>>>26-h}C&&(this.words[T]=C,this.length++)}if(0!==g){for(T=this.length-1;T>=0;T--)this.words[T+g]=this.words[T];for(T=0;T<g;T++)this.words[T]=0;this.length+=g}return this.strip()},x.prototype.ishln=function(u){return O(0===this.negative),this.iushln(u)},x.prototype.iushrn=function(u,h,g){var w;O("number"==typeof u&&u>=0),w=h?(h-h%26)/26:0;var T=u%26,C=Math.min((u-T)/26,this.length),j=67108863^67108863>>>T<<T,M=g;if(w-=C,w=Math.max(0,w),M){for(var d=0;d<C;d++)M.words[d]=this.words[d];M.length=C}if(0!==C)if(this.length>C)for(this.length-=C,d=0;d<this.length;d++)this.words[d]=this.words[d+C];else this.words[0]=0,this.length=1;var v=0;for(d=this.length-1;d>=0&&(0!==v||d>=w);d--){var W=0|this.words[d];this.words[d]=v<<26-T|W>>>T,v=W&j}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(u,h,g){return O(0===this.negative),this.iushrn(u,h,g)},x.prototype.shln=function(u){return this.clone().ishln(u)},x.prototype.ushln=function(u){return this.clone().iushln(u)},x.prototype.shrn=function(u){return this.clone().ishrn(u)},x.prototype.ushrn=function(u){return this.clone().iushrn(u)},x.prototype.testn=function(u){O("number"==typeof u&&u>=0);var h=u%26,g=(u-h)/26;return!(this.length<=g||!(this.words[g]&1<<h))},x.prototype.imaskn=function(u){O("number"==typeof u&&u>=0);var h=u%26,g=(u-h)/26;return O(0===this.negative,"imaskn works only with positive numbers"),this.length<=g?this:(0!==h&&g++,this.length=Math.min(g,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},x.prototype.maskn=function(u){return this.clone().imaskn(u)},x.prototype.iaddn=function(u){return O("number"==typeof u),O(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},x.prototype._iaddn=function(u){this.words[0]+=u;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},x.prototype.isubn=function(u){if(O("number"==typeof u),O(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},x.prototype.addn=function(u){return this.clone().iaddn(u)},x.prototype.subn=function(u){return this.clone().isubn(u)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(u,h,g){var T;this._expand(u.length+g);var C,j=0;for(T=0;T<u.length;T++){C=(0|this.words[T+g])+j;var M=(0|u.words[T])*h;j=((C-=67108863&M)>>26)-(M/67108864|0),this.words[T+g]=67108863&C}for(;T<this.length-g;T++)j=(C=(0|this.words[T+g])+j)>>26,this.words[T+g]=67108863&C;if(0===j)return this.strip();for(O(-1===j),j=0,T=0;T<this.length;T++)j=(C=-(0|this.words[T])+j)>>26,this.words[T]=67108863&C;return this.negative=1,this.strip()},x.prototype._wordDiv=function(u,h){var g,w=this.clone(),T=u,C=0|T.words[T.length-1];0!=(g=26-this._countBits(C))&&(T=T.ushln(g),w.iushln(g),C=0|T.words[T.length-1]);var d,M=w.length-T.length;if("mod"!==h){(d=new x(null)).length=M+1,d.words=new Array(d.length);for(var v=0;v<d.length;v++)d.words[v]=0}var W=w.clone()._ishlnsubmul(T,1,M);0===W.negative&&(w=W,d&&(d.words[M]=1));for(var H=M-1;H>=0;H--){var ee=67108864*(0|w.words[T.length+H])+(0|w.words[T.length+H-1]);for(ee=Math.min(ee/C|0,67108863),w._ishlnsubmul(T,ee,H);0!==w.negative;)ee--,w.negative=0,w._ishlnsubmul(T,1,H),w.isZero()||(w.negative^=1);d&&(d.words[H]=ee)}return d&&d.strip(),w.strip(),"div"!==h&&0!==g&&w.iushrn(g),{div:d||null,mod:w}},x.prototype.divmod=function(u,h,g){return O(!u.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===u.negative?(C=this.neg().divmod(u,h),"mod"!==h&&(w=C.div.neg()),"div"!==h&&(T=C.mod.neg(),g&&0!==T.negative&&T.iadd(u)),{div:w,mod:T}):0===this.negative&&0!==u.negative?(C=this.divmod(u.neg(),h),"mod"!==h&&(w=C.div.neg()),{div:w,mod:C.mod}):this.negative&u.negative?(C=this.neg().divmod(u.neg(),h),"div"!==h&&(T=C.mod.neg(),g&&0!==T.negative&&T.isub(u)),{div:C.div,mod:T}):u.length>this.length||this.cmp(u)<0?{div:new x(0),mod:this}:1===u.length?"div"===h?{div:this.divn(u.words[0]),mod:null}:"mod"===h?{div:null,mod:new x(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new x(this.modn(u.words[0]))}:this._wordDiv(u,h);var w,T,C},x.prototype.div=function(u){return this.divmod(u,"div",!1).div},x.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},x.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},x.prototype.divRound=function(u){var h=this.divmod(u);if(h.mod.isZero())return h.div;var g=0!==h.div.negative?h.mod.isub(u):h.mod,w=u.ushrn(1),T=u.andln(1),C=g.cmp(w);return C<0||1===T&&0===C?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},x.prototype.modn=function(u){O(u<=67108863);for(var h=(1<<26)%u,g=0,w=this.length-1;w>=0;w--)g=(h*g+(0|this.words[w]))%u;return g},x.prototype.idivn=function(u){O(u<=67108863);for(var h=0,g=this.length-1;g>=0;g--){var w=(0|this.words[g])+67108864*h;this.words[g]=w/u|0,h=w%u}return this.strip()},x.prototype.divn=function(u){return this.clone().idivn(u)},x.prototype.egcd=function(u){O(0===u.negative),O(!u.isZero());var h=this,g=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new x(1),T=new x(0),C=new x(0),j=new x(1),M=0;h.isEven()&&g.isEven();)h.iushrn(1),g.iushrn(1),++M;for(var d=g.clone(),v=h.clone();!h.isZero();){for(var W=0,H=1;!(h.words[0]&H)&&W<26;++W,H<<=1);if(W>0)for(h.iushrn(W);W-- >0;)(w.isOdd()||T.isOdd())&&(w.iadd(d),T.isub(v)),w.iushrn(1),T.iushrn(1);for(var ee=0,fe=1;!(g.words[0]&fe)&&ee<26;++ee,fe<<=1);if(ee>0)for(g.iushrn(ee);ee-- >0;)(C.isOdd()||j.isOdd())&&(C.iadd(d),j.isub(v)),C.iushrn(1),j.iushrn(1);h.cmp(g)>=0?(h.isub(g),w.isub(C),T.isub(j)):(g.isub(h),C.isub(w),j.isub(T))}return{a:C,b:j,gcd:g.iushln(M)}},x.prototype._invmp=function(u){O(0===u.negative),O(!u.isZero());var W,h=this,g=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new x(1),T=new x(0),C=g.clone();h.cmpn(1)>0&&g.cmpn(1)>0;){for(var j=0,M=1;!(h.words[0]&M)&&j<26;++j,M<<=1);if(j>0)for(h.iushrn(j);j-- >0;)w.isOdd()&&w.iadd(C),w.iushrn(1);for(var d=0,v=1;!(g.words[0]&v)&&d<26;++d,v<<=1);if(d>0)for(g.iushrn(d);d-- >0;)T.isOdd()&&T.iadd(C),T.iushrn(1);h.cmp(g)>=0?(h.isub(g),w.isub(T)):(g.isub(h),T.isub(w))}return(W=0===h.cmpn(1)?w:T).cmpn(0)<0&&W.iadd(u),W},x.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var h=this.clone(),g=u.clone();h.negative=0,g.negative=0;for(var w=0;h.isEven()&&g.isEven();w++)h.iushrn(1),g.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;g.isEven();)g.iushrn(1);var T=h.cmp(g);if(T<0){var C=h;h=g,g=C}else if(0===T||0===g.cmpn(1))break;h.isub(g)}return g.iushln(w)},x.prototype.invm=function(u){return this.egcd(u).a.umod(u)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(u){return this.words[0]&u},x.prototype.bincn=function(u){O("number"==typeof u);var h=u%26,g=(u-h)/26,w=1<<h;if(this.length<=g)return this._expand(g+1),this.words[g]|=w,this;for(var T=w,C=g;0!==T&&C<this.length;C++){var j=0|this.words[C];T=(j+=T)>>>26,this.words[C]=j&=67108863}return 0!==T&&(this.words[C]=T,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(u){var g,h=u<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)g=1;else{h&&(u=-u),O(u<=67108863,"Number is too big");var w=0|this.words[0];g=w===u?0:w<u?-1:1}return 0!==this.negative?0|-g:g},x.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var h=this.ucmp(u);return 0!==this.negative?0|-h:h},x.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var h=0,g=this.length-1;g>=0;g--){var w=0|this.words[g],T=0|u.words[g];if(w!==T){w<T?h=-1:w>T&&(h=1);break}}return h},x.prototype.gtn=function(u){return 1===this.cmpn(u)},x.prototype.gt=function(u){return 1===this.cmp(u)},x.prototype.gten=function(u){return this.cmpn(u)>=0},x.prototype.gte=function(u){return this.cmp(u)>=0},x.prototype.ltn=function(u){return-1===this.cmpn(u)},x.prototype.lt=function(u){return-1===this.cmp(u)},x.prototype.lten=function(u){return this.cmpn(u)<=0},x.prototype.lte=function(u){return this.cmp(u)<=0},x.prototype.eqn=function(u){return 0===this.cmpn(u)},x.prototype.eq=function(u){return 0===this.cmp(u)},x.red=function(u){return new _e(u)},x.prototype.toRed=function(u){return O(!this.red,"Already a number in reduction context"),O(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},x.prototype.fromRed=function(){return O(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(u){return this.red=u,this},x.prototype.forceRed=function(u){return O(!this.red,"Already a number in reduction context"),this._forceRed(u)},x.prototype.redAdd=function(u){return O(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},x.prototype.redIAdd=function(u){return O(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},x.prototype.redSub=function(u){return O(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},x.prototype.redISub=function(u){return O(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},x.prototype.redShl=function(u){return O(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},x.prototype.redMul=function(u){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},x.prototype.redIMul=function(u){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},x.prototype.redSqr=function(){return O(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return O(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return O(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return O(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return O(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(u){return O(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var ne={k256:null,p224:null,p192:null,p25519:null};function se(P,u){this.name=P,this.p=new x(u,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function oe(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ae(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function ve(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _e(P){if("string"==typeof P){var u=x._prime(P);this.m=u.p,this.prime=u}else O(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}function De(P){_e.call(this,P),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se.prototype._tmp=function(){var u=new x(null);return u.words=new Array(Math.ceil(this.n/13)),u},se.prototype.ireduce=function(u){var g,h=u;do{this.split(h,this.tmp),g=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(g>this.n);var w=g<this.n?-1:h.ucmp(this.p);return 0===w?(h.words[0]=0,h.length=1):w>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},se.prototype.split=function(u,h){u.iushrn(this.n,0,h)},se.prototype.imulK=function(u){return u.imul(this.k)},G(oe,se),oe.prototype.split=function(u,h){for(var g=4194303,w=Math.min(u.length,9),T=0;T<w;T++)h.words[T]=u.words[T];if(h.length=w,u.length<=9)return u.words[0]=0,void(u.length=1);var C=u.words[9];for(h.words[h.length++]=C&g,T=10;T<u.length;T++){var j=0|u.words[T];u.words[T-10]=(j&g)<<4|C>>>22,C=j}u.words[T-10]=C>>>=22,u.length-=0===C&&u.length>10?10:9},oe.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var h=0,g=0;g<u.length;g++){var w=0|u.words[g];u.words[g]=67108863&(h+=977*w),h=64*w+(h/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},G(ue,se),G(ae,se),G(ve,se),ve.prototype.imulK=function(u){for(var h=0,g=0;g<u.length;g++){var w=19*(0|u.words[g])+h,T=67108863&w;w>>>=26,u.words[g]=T,h=w}return 0!==h&&(u.words[u.length++]=h),u},x._prime=function(u){if(ne[u])return ne[u];var h;if("k256"===u)h=new oe;else if("p224"===u)h=new ue;else if("p192"===u)h=new ae;else{if("p25519"!==u)throw new Error("Unknown prime "+u);h=new ve}return ne[u]=h,h},_e.prototype._verify1=function(u){O(0===u.negative,"red works only with positives"),O(u.red,"red works only with red numbers")},_e.prototype._verify2=function(u,h){O(!(u.negative|h.negative),"red works only with positives"),O(u.red&&u.red===h.red,"red works only with red numbers")},_e.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},_e.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},_e.prototype.add=function(u,h){this._verify2(u,h);var g=u.add(h);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},_e.prototype.iadd=function(u,h){this._verify2(u,h);var g=u.iadd(h);return g.cmp(this.m)>=0&&g.isub(this.m),g},_e.prototype.sub=function(u,h){this._verify2(u,h);var g=u.sub(h);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},_e.prototype.isub=function(u,h){this._verify2(u,h);var g=u.isub(h);return g.cmpn(0)<0&&g.iadd(this.m),g},_e.prototype.shl=function(u,h){return this._verify1(u),this.imod(u.ushln(h))},_e.prototype.imul=function(u,h){return this._verify2(u,h),this.imod(u.imul(h))},_e.prototype.mul=function(u,h){return this._verify2(u,h),this.imod(u.mul(h))},_e.prototype.isqr=function(u){return this.imul(u,u.clone())},_e.prototype.sqr=function(u){return this.mul(u,u)},_e.prototype.sqrt=function(u){if(u.isZero())return u.clone();var h=this.m.andln(3);if(O(h%2==1),3===h){var g=this.m.add(new x(1)).iushrn(2);return this.pow(u,g)}for(var w=this.m.subn(1),T=0;!w.isZero()&&0===w.andln(1);)T++,w.iushrn(1);O(!w.isZero());var C=new x(1).toRed(this),j=C.redNeg(),M=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new x(2*d*d).toRed(this);0!==this.pow(d,M).cmp(j);)d.redIAdd(j);for(var v=this.pow(d,w),W=this.pow(u,w.addn(1).iushrn(1)),H=this.pow(u,w),ee=T;0!==H.cmp(C);){for(var fe=H,Ae=0;0!==fe.cmp(C);Ae++)fe=fe.redSqr();O(Ae<ee);var Pe=this.pow(v,new x(1).iushln(ee-Ae-1));W=W.redMul(Pe),v=Pe.redSqr(),H=H.redMul(v),ee=Ae}return W},_e.prototype.invm=function(u){var h=u._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},_e.prototype.pow=function(u,h){if(h.isZero())return new x(1).toRed(this);if(0===h.cmpn(1))return u.clone();var w=new Array(16);w[0]=new x(1).toRed(this),w[1]=u;for(var T=2;T<w.length;T++)w[T]=this.mul(w[T-1],u);var C=w[0],j=0,M=0,d=h.bitLength()%26;for(0===d&&(d=26),T=h.length-1;T>=0;T--){for(var v=h.words[T],W=d-1;W>=0;W--){var H=v>>W&1;C!==w[0]&&(C=this.sqr(C)),0!==H||0!==j?(j<<=1,j|=H,(4==++M||0===T&&0===W)&&(C=this.mul(C,w[j]),M=0,j=0)):M=0}d=26}return C},_e.prototype.convertTo=function(u){var h=u.umod(this.m);return h===u?h.clone():h},_e.prototype.convertFrom=function(u){var h=u.clone();return h.red=null,h},x.mont=function(u){return new De(u)},G(De,_e),De.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},De.prototype.convertFrom=function(u){var h=this.imod(u.mul(this.rinv));return h.red=null,h},De.prototype.imul=function(u,h){if(u.isZero()||h.isZero())return u.words[0]=0,u.length=1,u;var g=u.imul(h),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=g.isub(w).iushrn(this.shift),C=T;return T.cmp(this.m)>=0?C=T.isub(this.m):T.cmpn(0)<0&&(C=T.iadd(this.m)),C._forceRed(this)},De.prototype.mul=function(u,h){if(u.isZero()||h.isZero())return new x(0)._forceRed(this);var g=u.mul(h),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=g.isub(w).iushrn(this.shift),C=T;return T.cmp(this.m)>=0?C=T.isub(this.m):T.cmpn(0)<0&&(C=T.iadd(this.m)),C._forceRed(this)},De.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Be=E.nmd(Be),this)},13981:(Be,z)=>{"use strict";z.byteLength=function A(V){var Z=B(V),te=Z[1];return 3*(Z[0]+te)/4-te},z.toByteArray=function $(V){var Z,oe,Q=B(V),te=Q[0],J=Q[1],q=new S(function N(V,Z,Q){return 3*(Z+Q)/4-Q}(0,te,J)),ne=0,se=J>0?te-4:te;for(oe=0;oe<se;oe+=4)Z=p[V.charCodeAt(oe)]<<18|p[V.charCodeAt(oe+1)]<<12|p[V.charCodeAt(oe+2)]<<6|p[V.charCodeAt(oe+3)],q[ne++]=Z>>16&255,q[ne++]=Z>>8&255,q[ne++]=255&Z;return 2===J&&(Z=p[V.charCodeAt(oe)]<<2|p[V.charCodeAt(oe+1)]>>4,q[ne++]=255&Z),1===J&&(Z=p[V.charCodeAt(oe)]<<10|p[V.charCodeAt(oe+1)]<<4|p[V.charCodeAt(oe+2)]>>2,q[ne++]=Z>>8&255,q[ne++]=255&Z),q},z.fromByteArray=function X(V){for(var Z,Q=V.length,te=Q%3,J=[],q=16383,ne=0,se=Q-te;ne<se;ne+=q)J.push(D(V,ne,ne+q>se?se:ne+q));return 1===te?J.push(E[(Z=V[Q-1])>>2]+E[Z<<4&63]+"=="):2===te&&J.push(E[(Z=(V[Q-2]<<8)+V[Q-1])>>10]+E[Z>>4&63]+E[Z<<2&63]+"="),J.join("")};for(var E=[],p=[],S=typeof Uint8Array<"u"?Uint8Array:Array,O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",G=0;G<64;++G)E[G]=O[G],p[O.charCodeAt(G)]=G;function B(V){var Z=V.length;if(Z%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Q=V.indexOf("=");return-1===Q&&(Q=Z),[Q,Q===Z?0:4-Q%4]}function K(V){return E[V>>18&63]+E[V>>12&63]+E[V>>6&63]+E[63&V]}function D(V,Z,Q){for(var J=[],q=Z;q<Q;q+=3)J.push(K((V[q]<<16&16711680)+(V[q+1]<<8&65280)+(255&V[q+2])));return J.join("")}p[45]=62,p[95]=63},917:function(Be,z,E){!function(p,S){"use strict";function O(g,w){if(!g)throw new Error(w||"Assertion failed")}function G(g,w){g.super_=w;var T=function(){};T.prototype=w.prototype,g.prototype=new T,g.prototype.constructor=g}function x(g,w,T){if(x.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,null!==g&&(("le"===w||"be"===w)&&(T=w,w=10),this._init(g||0,w||10,T||"be"))}var B;"object"==typeof p?p.exports=x:S.BN=x,x.BN=x,x.wordSize=26;try{B=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(47790).Buffer}catch{}function A(g,w){var T=g.charCodeAt(w);return T>=48&&T<=57?T-48:T>=65&&T<=70?T-55:T>=97&&T<=102?T-87:void O(!1,"Invalid character in "+g)}function N(g,w,T){var C=A(g,T);return T-1>=w&&(C|=A(g,T-1)<<4),C}function $(g,w,T,C){for(var j=0,M=0,d=Math.min(g.length,T),v=w;v<d;v++){var W=g.charCodeAt(v)-48;j*=C,M=W>=49?W-49+10:W>=17?W-17+10:W,O(W>=0&&M<C,"Invalid character"),j+=M}return j}function K(g,w){g.words=w.words,g.length=w.length,g.negative=w.negative,g.red=w.red}if(x.isBN=function(w){return w instanceof x||null!==w&&"object"==typeof w&&w.constructor.wordSize===x.wordSize&&Array.isArray(w.words)},x.max=function(w,T){return w.cmp(T)>0?w:T},x.min=function(w,T){return w.cmp(T)<0?w:T},x.prototype._init=function(w,T,C){if("number"==typeof w)return this._initNumber(w,T,C);if("object"==typeof w)return this._initArray(w,T,C);"hex"===T&&(T=16),O(T===(0|T)&&T>=2&&T<=36);var j=0;"-"===(w=w.toString().replace(/\s+/g,""))[0]&&(j++,this.negative=1),j<w.length&&(16===T?this._parseHex(w,j,C):(this._parseBase(w,T,j),"le"===C&&this._initArray(this.toArray(),T,C)))},x.prototype._initNumber=function(w,T,C){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[67108863&w],this.length=1):w<4503599627370496?(this.words=[67108863&w,w/67108864&67108863],this.length=2):(O(w<9007199254740992),this.words=[67108863&w,w/67108864&67108863,1],this.length=3),"le"===C&&this._initArray(this.toArray(),T,C)},x.prototype._initArray=function(w,T,C){if(O("number"==typeof w.length),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var M,d,v=0;if("be"===C)for(j=w.length-1,M=0;j>=0;j-=3)this.words[M]|=(d=w[j]|w[j-1]<<8|w[j-2]<<16)<<v&67108863,this.words[M+1]=d>>>26-v&67108863,(v+=24)>=26&&(v-=26,M++);else if("le"===C)for(j=0,M=0;j<w.length;j+=3)this.words[M]|=(d=w[j]|w[j+1]<<8|w[j+2]<<16)<<v&67108863,this.words[M+1]=d>>>26-v&67108863,(v+=24)>=26&&(v-=26,M++);return this._strip()},x.prototype._parseHex=function(w,T,C){this.length=Math.ceil((w.length-T)/6),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var v,M=0,d=0;if("be"===C)for(j=w.length-1;j>=T;j-=2)v=N(w,T,j)<<M,this.words[d]|=67108863&v,M>=18?(M-=18,this.words[d+=1]|=v>>>26):M+=8;else for(j=(w.length-T)%2==0?T+1:T;j<w.length;j+=2)v=N(w,T,j)<<M,this.words[d]|=67108863&v,M>=18?(M-=18,this.words[d+=1]|=v>>>26):M+=8;this._strip()},x.prototype._parseBase=function(w,T,C){this.words=[0],this.length=1;for(var j=0,M=1;M<=67108863;M*=T)j++;j--,M=M/T|0;for(var d=w.length-C,v=d%j,W=Math.min(d,d-v)+C,H=0,ee=C;ee<W;ee+=j)H=$(w,ee,ee+j,T),this.imuln(M),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H);if(0!==v){var fe=1;for(H=$(w,ee,w.length,T),ee=0;ee<v;ee++)fe*=T;this.imuln(fe),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H)}this._strip()},x.prototype.copy=function(w){w.words=new Array(this.length);for(var T=0;T<this.length;T++)w.words[T]=this.words[T];w.length=this.length,w.negative=this.negative,w.red=this.red},x.prototype._move=function(w){K(w,this)},x.prototype.clone=function(){var w=new x(null);return this.copy(w),w},x.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},x.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{x.prototype[Symbol.for("nodejs.util.inspect.custom")]=D}catch{x.prototype.inspect=D}else x.prototype.inspect=D;function D(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var X=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],V=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Z=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function J(g,w,T){T.negative=w.negative^g.negative;var C=g.length+w.length|0;T.length=C,C=C-1|0;var j=0|g.words[0],M=0|w.words[0],d=j*M,W=d/67108864|0;T.words[0]=67108863&d;for(var H=1;H<C;H++){for(var ee=W>>>26,fe=67108863&W,Ae=Math.min(H,w.length-1),Pe=Math.max(0,H-g.length+1);Pe<=Ae;Pe++)ee+=(d=(j=0|g.words[H-Pe|0])*(M=0|w.words[Pe])+fe)/67108864|0,fe=67108863&d;T.words[H]=0|fe,W=0|ee}return 0!==W?T.words[H]=0|W:T.length--,T._strip()}x.prototype.toString=function(w,T){var C;if(T=0|T||1,16===(w=w||10)||"hex"===w){C="";for(var j=0,M=0,d=0;d<this.length;d++){var v=this.words[d],W=(16777215&(v<<j|M)).toString(16);M=v>>>24-j&16777215,(j+=2)>=26&&(j-=26,d--),C=0!==M||d!==this.length-1?X[6-W.length]+W+C:W+C}for(0!==M&&(C=M.toString(16)+C);C.length%T!=0;)C="0"+C;return 0!==this.negative&&(C="-"+C),C}if(w===(0|w)&&w>=2&&w<=36){var H=V[w],ee=Z[w];C="";var fe=this.clone();for(fe.negative=0;!fe.isZero();){var Ae=fe.modrn(ee).toString(w);C=(fe=fe.idivn(ee)).isZero()?Ae+C:X[H-Ae.length]+Ae+C}for(this.isZero()&&(C="0"+C);C.length%T!=0;)C="0"+C;return 0!==this.negative&&(C="-"+C),C}O(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var w=this.words[0];return 2===this.length?w+=67108864*this.words[1]:3===this.length&&1===this.words[2]?w+=4503599627370496+67108864*this.words[1]:this.length>2&&O(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-w:w},x.prototype.toJSON=function(){return this.toString(16,2)},B&&(x.prototype.toBuffer=function(w,T){return this.toArrayLike(B,w,T)}),x.prototype.toArray=function(w,T){return this.toArrayLike(Array,w,T)},x.prototype.toArrayLike=function(w,T,C){this._strip();var j=this.byteLength(),M=C||Math.max(1,j);O(j<=M,"byte array longer than desired length"),O(M>0,"Requested array length <= 0");var d=function(w,T){return w.allocUnsafe?w.allocUnsafe(T):new w(T)}(w,M);return this["_toArrayLike"+("le"===T?"LE":"BE")](d,j),d},x.prototype._toArrayLikeLE=function(w,T){for(var C=0,j=0,M=0,d=0;M<this.length;M++){var v=this.words[M]<<d|j;w[C++]=255&v,C<w.length&&(w[C++]=v>>8&255),C<w.length&&(w[C++]=v>>16&255),6===d?(C<w.length&&(w[C++]=v>>24&255),j=0,d=0):(j=v>>>24,d+=2)}if(C<w.length)for(w[C++]=j;C<w.length;)w[C++]=0},x.prototype._toArrayLikeBE=function(w,T){for(var C=w.length-1,j=0,M=0,d=0;M<this.length;M++){var v=this.words[M]<<d|j;w[C--]=255&v,C>=0&&(w[C--]=v>>8&255),C>=0&&(w[C--]=v>>16&255),6===d?(C>=0&&(w[C--]=v>>24&255),j=0,d=0):(j=v>>>24,d+=2)}if(C>=0)for(w[C--]=j;C>=0;)w[C--]=0},x.prototype._countBits=Math.clz32?function(w){return 32-Math.clz32(w)}:function(w){var T=w,C=0;return T>=4096&&(C+=13,T>>>=13),T>=64&&(C+=7,T>>>=7),T>=8&&(C+=4,T>>>=4),T>=2&&(C+=2,T>>>=2),C+T},x.prototype._zeroBits=function(w){if(0===w)return 26;var T=w,C=0;return 8191&T||(C+=13,T>>>=13),127&T||(C+=7,T>>>=7),15&T||(C+=4,T>>>=4),3&T||(C+=2,T>>>=2),1&T||C++,C},x.prototype.bitLength=function(){var T=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+T},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,T=0;T<this.length;T++){var C=this._zeroBits(this.words[T]);if(w+=C,26!==C)break}return w},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(w){return 0!==this.negative?this.abs().inotn(w).iaddn(1):this.clone()},x.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var T=0;T<w.length;T++)this.words[T]=this.words[T]|w.words[T];return this._strip()},x.prototype.ior=function(w){return O(!(this.negative|w.negative)),this.iuor(w)},x.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},x.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},x.prototype.iuand=function(w){var T;T=this.length>w.length?w:this;for(var C=0;C<T.length;C++)this.words[C]=this.words[C]&w.words[C];return this.length=T.length,this._strip()},x.prototype.iand=function(w){return O(!(this.negative|w.negative)),this.iuand(w)},x.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},x.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},x.prototype.iuxor=function(w){var T,C;this.length>w.length?(T=this,C=w):(T=w,C=this);for(var j=0;j<C.length;j++)this.words[j]=T.words[j]^C.words[j];if(this!==T)for(;j<T.length;j++)this.words[j]=T.words[j];return this.length=T.length,this._strip()},x.prototype.ixor=function(w){return O(!(this.negative|w.negative)),this.iuxor(w)},x.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},x.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},x.prototype.inotn=function(w){O("number"==typeof w&&w>=0);var T=0|Math.ceil(w/26),C=w%26;this._expand(T),C>0&&T--;for(var j=0;j<T;j++)this.words[j]=67108863&~this.words[j];return C>0&&(this.words[j]=~this.words[j]&67108863>>26-C),this._strip()},x.prototype.notn=function(w){return this.clone().inotn(w)},x.prototype.setn=function(w,T){O("number"==typeof w&&w>=0);var C=w/26|0,j=w%26;return this._expand(C+1),this.words[C]=T?this.words[C]|1<<j:this.words[C]&~(1<<j),this._strip()},x.prototype.iadd=function(w){var T,C,j;if(0!==this.negative&&0===w.negative)return this.negative=0,T=this.isub(w),this.negative^=1,this._normSign();if(0===this.negative&&0!==w.negative)return w.negative=0,T=this.isub(w),w.negative=1,T._normSign();this.length>w.length?(C=this,j=w):(C=w,j=this);for(var M=0,d=0;d<j.length;d++)this.words[d]=67108863&(T=(0|C.words[d])+(0|j.words[d])+M),M=T>>>26;for(;0!==M&&d<C.length;d++)this.words[d]=67108863&(T=(0|C.words[d])+M),M=T>>>26;if(this.length=C.length,0!==M)this.words[this.length]=M,this.length++;else if(C!==this)for(;d<C.length;d++)this.words[d]=C.words[d];return this},x.prototype.add=function(w){var T;return 0!==w.negative&&0===this.negative?(w.negative=0,T=this.sub(w),w.negative^=1,T):0===w.negative&&0!==this.negative?(this.negative=0,T=w.sub(this),this.negative=1,T):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},x.prototype.isub=function(w){if(0!==w.negative){w.negative=0;var T=this.iadd(w);return w.negative=1,T._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var j,M,C=this.cmp(w);if(0===C)return this.negative=0,this.length=1,this.words[0]=0,this;C>0?(j=this,M=w):(j=w,M=this);for(var d=0,v=0;v<M.length;v++)d=(T=(0|j.words[v])-(0|M.words[v])+d)>>26,this.words[v]=67108863&T;for(;0!==d&&v<j.length;v++)d=(T=(0|j.words[v])+d)>>26,this.words[v]=67108863&T;if(0===d&&v<j.length&&j!==this)for(;v<j.length;v++)this.words[v]=j.words[v];return this.length=Math.max(this.length,v),j!==this&&(this.negative=1),this._strip()},x.prototype.sub=function(w){return this.clone().isub(w)};var q=function(w,T,C){var W,H,ee,j=w.words,M=T.words,d=C.words,v=0,fe=0|j[0],Ae=8191&fe,Pe=fe>>>13,Le=0|j[1],be=8191&Le,ge=Le>>>13,Re=0|j[2],me=8191&Re,xe=Re>>>13,le=0|j[3],he=8191&le,re=le>>>13,de=0|j[4],pe=8191&de,Se=de>>>13,ke=0|j[5],Fe=8191&ke,We=ke>>>13,Tt=0|j[6],Xe=8191&Tt,Ke=Tt>>>13,lt=0|j[7],U=8191&lt,_=lt>>>13,m=0|j[8],F=8191&m,ie=m>>>13,we=0|j[9],Ie=8191&we,Qe=we>>>13,kt=0|M[0],pt=8191&kt,Et=kt>>>13,Lt=0|M[1],qt=8191&Lt,Kt=Lt>>>13,er=0|M[2],cn=8191&er,Ut=er>>>13,Nt=0|M[3],dt=8191&Nt,it=Nt>>>13,Ct=0|M[4],Bt=8191&Ct,Wt=Ct>>>13,Yn=0|M[5],at=8191&Yn,ut=Yn>>>13,ft=0|M[6],et=8191&ft,gt=ft>>>13,un=0|M[7],zt=8191&un,tn=un>>>13,pr=0|M[8],bn=8191&pr,vn=pr>>>13,Or=0|M[9],Qn=8191&Or,jn=Or>>>13;C.negative=w.negative^T.negative,C.length=19;var On=(v+(W=Math.imul(Ae,pt))|0)+((8191&(H=(H=Math.imul(Ae,Et))+Math.imul(Pe,pt)|0))<<13)|0;v=((ee=Math.imul(Pe,Et))+(H>>>13)|0)+(On>>>26)|0,On&=67108863,W=Math.imul(be,pt),H=(H=Math.imul(be,Et))+Math.imul(ge,pt)|0,ee=Math.imul(ge,Et);var Vn=(v+(W=W+Math.imul(Ae,qt)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,Kt)|0)+Math.imul(Pe,qt)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,Kt)|0)+(H>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,W=Math.imul(me,pt),H=(H=Math.imul(me,Et))+Math.imul(xe,pt)|0,ee=Math.imul(xe,Et),W=W+Math.imul(be,qt)|0,H=(H=H+Math.imul(be,Kt)|0)+Math.imul(ge,qt)|0,ee=ee+Math.imul(ge,Kt)|0;var Hn=(v+(W=W+Math.imul(Ae,cn)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,Ut)|0)+Math.imul(Pe,cn)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,Ut)|0)+(H>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,W=Math.imul(he,pt),H=(H=Math.imul(he,Et))+Math.imul(re,pt)|0,ee=Math.imul(re,Et),W=W+Math.imul(me,qt)|0,H=(H=H+Math.imul(me,Kt)|0)+Math.imul(xe,qt)|0,ee=ee+Math.imul(xe,Kt)|0,W=W+Math.imul(be,cn)|0,H=(H=H+Math.imul(be,Ut)|0)+Math.imul(ge,cn)|0,ee=ee+Math.imul(ge,Ut)|0;var ar=(v+(W=W+Math.imul(Ae,dt)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,it)|0)+Math.imul(Pe,dt)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,it)|0)+(H>>>13)|0)+(ar>>>26)|0,ar&=67108863,W=Math.imul(pe,pt),H=(H=Math.imul(pe,Et))+Math.imul(Se,pt)|0,ee=Math.imul(Se,Et),W=W+Math.imul(he,qt)|0,H=(H=H+Math.imul(he,Kt)|0)+Math.imul(re,qt)|0,ee=ee+Math.imul(re,Kt)|0,W=W+Math.imul(me,cn)|0,H=(H=H+Math.imul(me,Ut)|0)+Math.imul(xe,cn)|0,ee=ee+Math.imul(xe,Ut)|0,W=W+Math.imul(be,dt)|0,H=(H=H+Math.imul(be,it)|0)+Math.imul(ge,dt)|0,ee=ee+Math.imul(ge,it)|0;var qn=(v+(W=W+Math.imul(Ae,Bt)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,Wt)|0)+Math.imul(Pe,Bt)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,Wt)|0)+(H>>>13)|0)+(qn>>>26)|0,qn&=67108863,W=Math.imul(Fe,pt),H=(H=Math.imul(Fe,Et))+Math.imul(We,pt)|0,ee=Math.imul(We,Et),W=W+Math.imul(pe,qt)|0,H=(H=H+Math.imul(pe,Kt)|0)+Math.imul(Se,qt)|0,ee=ee+Math.imul(Se,Kt)|0,W=W+Math.imul(he,cn)|0,H=(H=H+Math.imul(he,Ut)|0)+Math.imul(re,cn)|0,ee=ee+Math.imul(re,Ut)|0,W=W+Math.imul(me,dt)|0,H=(H=H+Math.imul(me,it)|0)+Math.imul(xe,dt)|0,ee=ee+Math.imul(xe,it)|0,W=W+Math.imul(be,Bt)|0,H=(H=H+Math.imul(be,Wt)|0)+Math.imul(ge,Bt)|0,ee=ee+Math.imul(ge,Wt)|0;var vr=(v+(W=W+Math.imul(Ae,at)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,ut)|0)+Math.imul(Pe,at)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,ut)|0)+(H>>>13)|0)+(vr>>>26)|0,vr&=67108863,W=Math.imul(Xe,pt),H=(H=Math.imul(Xe,Et))+Math.imul(Ke,pt)|0,ee=Math.imul(Ke,Et),W=W+Math.imul(Fe,qt)|0,H=(H=H+Math.imul(Fe,Kt)|0)+Math.imul(We,qt)|0,ee=ee+Math.imul(We,Kt)|0,W=W+Math.imul(pe,cn)|0,H=(H=H+Math.imul(pe,Ut)|0)+Math.imul(Se,cn)|0,ee=ee+Math.imul(Se,Ut)|0,W=W+Math.imul(he,dt)|0,H=(H=H+Math.imul(he,it)|0)+Math.imul(re,dt)|0,ee=ee+Math.imul(re,it)|0,W=W+Math.imul(me,Bt)|0,H=(H=H+Math.imul(me,Wt)|0)+Math.imul(xe,Bt)|0,ee=ee+Math.imul(xe,Wt)|0,W=W+Math.imul(be,at)|0,H=(H=H+Math.imul(be,ut)|0)+Math.imul(ge,at)|0,ee=ee+Math.imul(ge,ut)|0;var _r=(v+(W=W+Math.imul(Ae,et)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,gt)|0)+Math.imul(Pe,et)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,gt)|0)+(H>>>13)|0)+(_r>>>26)|0,_r&=67108863,W=Math.imul(U,pt),H=(H=Math.imul(U,Et))+Math.imul(_,pt)|0,ee=Math.imul(_,Et),W=W+Math.imul(Xe,qt)|0,H=(H=H+Math.imul(Xe,Kt)|0)+Math.imul(Ke,qt)|0,ee=ee+Math.imul(Ke,Kt)|0,W=W+Math.imul(Fe,cn)|0,H=(H=H+Math.imul(Fe,Ut)|0)+Math.imul(We,cn)|0,ee=ee+Math.imul(We,Ut)|0,W=W+Math.imul(pe,dt)|0,H=(H=H+Math.imul(pe,it)|0)+Math.imul(Se,dt)|0,ee=ee+Math.imul(Se,it)|0,W=W+Math.imul(he,Bt)|0,H=(H=H+Math.imul(he,Wt)|0)+Math.imul(re,Bt)|0,ee=ee+Math.imul(re,Wt)|0,W=W+Math.imul(me,at)|0,H=(H=H+Math.imul(me,ut)|0)+Math.imul(xe,at)|0,ee=ee+Math.imul(xe,ut)|0,W=W+Math.imul(be,et)|0,H=(H=H+Math.imul(be,gt)|0)+Math.imul(ge,et)|0,ee=ee+Math.imul(ge,gt)|0;var Er=(v+(W=W+Math.imul(Ae,zt)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,tn)|0)+Math.imul(Pe,zt)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,tn)|0)+(H>>>13)|0)+(Er>>>26)|0,Er&=67108863,W=Math.imul(F,pt),H=(H=Math.imul(F,Et))+Math.imul(ie,pt)|0,ee=Math.imul(ie,Et),W=W+Math.imul(U,qt)|0,H=(H=H+Math.imul(U,Kt)|0)+Math.imul(_,qt)|0,ee=ee+Math.imul(_,Kt)|0,W=W+Math.imul(Xe,cn)|0,H=(H=H+Math.imul(Xe,Ut)|0)+Math.imul(Ke,cn)|0,ee=ee+Math.imul(Ke,Ut)|0,W=W+Math.imul(Fe,dt)|0,H=(H=H+Math.imul(Fe,it)|0)+Math.imul(We,dt)|0,ee=ee+Math.imul(We,it)|0,W=W+Math.imul(pe,Bt)|0,H=(H=H+Math.imul(pe,Wt)|0)+Math.imul(Se,Bt)|0,ee=ee+Math.imul(Se,Wt)|0,W=W+Math.imul(he,at)|0,H=(H=H+Math.imul(he,ut)|0)+Math.imul(re,at)|0,ee=ee+Math.imul(re,ut)|0,W=W+Math.imul(me,et)|0,H=(H=H+Math.imul(me,gt)|0)+Math.imul(xe,et)|0,ee=ee+Math.imul(xe,gt)|0,W=W+Math.imul(be,zt)|0,H=(H=H+Math.imul(be,tn)|0)+Math.imul(ge,zt)|0,ee=ee+Math.imul(ge,tn)|0;var mr=(v+(W=W+Math.imul(Ae,bn)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,vn)|0)+Math.imul(Pe,bn)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,vn)|0)+(H>>>13)|0)+(mr>>>26)|0,mr&=67108863,W=Math.imul(Ie,pt),H=(H=Math.imul(Ie,Et))+Math.imul(Qe,pt)|0,ee=Math.imul(Qe,Et),W=W+Math.imul(F,qt)|0,H=(H=H+Math.imul(F,Kt)|0)+Math.imul(ie,qt)|0,ee=ee+Math.imul(ie,Kt)|0,W=W+Math.imul(U,cn)|0,H=(H=H+Math.imul(U,Ut)|0)+Math.imul(_,cn)|0,ee=ee+Math.imul(_,Ut)|0,W=W+Math.imul(Xe,dt)|0,H=(H=H+Math.imul(Xe,it)|0)+Math.imul(Ke,dt)|0,ee=ee+Math.imul(Ke,it)|0,W=W+Math.imul(Fe,Bt)|0,H=(H=H+Math.imul(Fe,Wt)|0)+Math.imul(We,Bt)|0,ee=ee+Math.imul(We,Wt)|0,W=W+Math.imul(pe,at)|0,H=(H=H+Math.imul(pe,ut)|0)+Math.imul(Se,at)|0,ee=ee+Math.imul(Se,ut)|0,W=W+Math.imul(he,et)|0,H=(H=H+Math.imul(he,gt)|0)+Math.imul(re,et)|0,ee=ee+Math.imul(re,gt)|0,W=W+Math.imul(me,zt)|0,H=(H=H+Math.imul(me,tn)|0)+Math.imul(xe,zt)|0,ee=ee+Math.imul(xe,tn)|0,W=W+Math.imul(be,bn)|0,H=(H=H+Math.imul(be,vn)|0)+Math.imul(ge,bn)|0,ee=ee+Math.imul(ge,vn)|0;var Rr=(v+(W=W+Math.imul(Ae,Qn)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,jn)|0)+Math.imul(Pe,Qn)|0))<<13)|0;v=((ee=ee+Math.imul(Pe,jn)|0)+(H>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,W=Math.imul(Ie,qt),H=(H=Math.imul(Ie,Kt))+Math.imul(Qe,qt)|0,ee=Math.imul(Qe,Kt),W=W+Math.imul(F,cn)|0,H=(H=H+Math.imul(F,Ut)|0)+Math.imul(ie,cn)|0,ee=ee+Math.imul(ie,Ut)|0,W=W+Math.imul(U,dt)|0,H=(H=H+Math.imul(U,it)|0)+Math.imul(_,dt)|0,ee=ee+Math.imul(_,it)|0,W=W+Math.imul(Xe,Bt)|0,H=(H=H+Math.imul(Xe,Wt)|0)+Math.imul(Ke,Bt)|0,ee=ee+Math.imul(Ke,Wt)|0,W=W+Math.imul(Fe,at)|0,H=(H=H+Math.imul(Fe,ut)|0)+Math.imul(We,at)|0,ee=ee+Math.imul(We,ut)|0,W=W+Math.imul(pe,et)|0,H=(H=H+Math.imul(pe,gt)|0)+Math.imul(Se,et)|0,ee=ee+Math.imul(Se,gt)|0,W=W+Math.imul(he,zt)|0,H=(H=H+Math.imul(he,tn)|0)+Math.imul(re,zt)|0,ee=ee+Math.imul(re,tn)|0,W=W+Math.imul(me,bn)|0,H=(H=H+Math.imul(me,vn)|0)+Math.imul(xe,bn)|0,ee=ee+Math.imul(xe,vn)|0;var Br=(v+(W=W+Math.imul(be,Qn)|0)|0)+((8191&(H=(H=H+Math.imul(be,jn)|0)+Math.imul(ge,Qn)|0))<<13)|0;v=((ee=ee+Math.imul(ge,jn)|0)+(H>>>13)|0)+(Br>>>26)|0,Br&=67108863,W=Math.imul(Ie,cn),H=(H=Math.imul(Ie,Ut))+Math.imul(Qe,cn)|0,ee=Math.imul(Qe,Ut),W=W+Math.imul(F,dt)|0,H=(H=H+Math.imul(F,it)|0)+Math.imul(ie,dt)|0,ee=ee+Math.imul(ie,it)|0,W=W+Math.imul(U,Bt)|0,H=(H=H+Math.imul(U,Wt)|0)+Math.imul(_,Bt)|0,ee=ee+Math.imul(_,Wt)|0,W=W+Math.imul(Xe,at)|0,H=(H=H+Math.imul(Xe,ut)|0)+Math.imul(Ke,at)|0,ee=ee+Math.imul(Ke,ut)|0,W=W+Math.imul(Fe,et)|0,H=(H=H+Math.imul(Fe,gt)|0)+Math.imul(We,et)|0,ee=ee+Math.imul(We,gt)|0,W=W+Math.imul(pe,zt)|0,H=(H=H+Math.imul(pe,tn)|0)+Math.imul(Se,zt)|0,ee=ee+Math.imul(Se,tn)|0,W=W+Math.imul(he,bn)|0,H=(H=H+Math.imul(he,vn)|0)+Math.imul(re,bn)|0,ee=ee+Math.imul(re,vn)|0;var kr=(v+(W=W+Math.imul(me,Qn)|0)|0)+((8191&(H=(H=H+Math.imul(me,jn)|0)+Math.imul(xe,Qn)|0))<<13)|0;v=((ee=ee+Math.imul(xe,jn)|0)+(H>>>13)|0)+(kr>>>26)|0,kr&=67108863,W=Math.imul(Ie,dt),H=(H=Math.imul(Ie,it))+Math.imul(Qe,dt)|0,ee=Math.imul(Qe,it),W=W+Math.imul(F,Bt)|0,H=(H=H+Math.imul(F,Wt)|0)+Math.imul(ie,Bt)|0,ee=ee+Math.imul(ie,Wt)|0,W=W+Math.imul(U,at)|0,H=(H=H+Math.imul(U,ut)|0)+Math.imul(_,at)|0,ee=ee+Math.imul(_,ut)|0,W=W+Math.imul(Xe,et)|0,H=(H=H+Math.imul(Xe,gt)|0)+Math.imul(Ke,et)|0,ee=ee+Math.imul(Ke,gt)|0,W=W+Math.imul(Fe,zt)|0,H=(H=H+Math.imul(Fe,tn)|0)+Math.imul(We,zt)|0,ee=ee+Math.imul(We,tn)|0,W=W+Math.imul(pe,bn)|0,H=(H=H+Math.imul(pe,vn)|0)+Math.imul(Se,bn)|0,ee=ee+Math.imul(Se,vn)|0;var jr=(v+(W=W+Math.imul(he,Qn)|0)|0)+((8191&(H=(H=H+Math.imul(he,jn)|0)+Math.imul(re,Qn)|0))<<13)|0;v=((ee=ee+Math.imul(re,jn)|0)+(H>>>13)|0)+(jr>>>26)|0,jr&=67108863,W=Math.imul(Ie,Bt),H=(H=Math.imul(Ie,Wt))+Math.imul(Qe,Bt)|0,ee=Math.imul(Qe,Wt),W=W+Math.imul(F,at)|0,H=(H=H+Math.imul(F,ut)|0)+Math.imul(ie,at)|0,ee=ee+Math.imul(ie,ut)|0,W=W+Math.imul(U,et)|0,H=(H=H+Math.imul(U,gt)|0)+Math.imul(_,et)|0,ee=ee+Math.imul(_,gt)|0,W=W+Math.imul(Xe,zt)|0,H=(H=H+Math.imul(Xe,tn)|0)+Math.imul(Ke,zt)|0,ee=ee+Math.imul(Ke,tn)|0,W=W+Math.imul(Fe,bn)|0,H=(H=H+Math.imul(Fe,vn)|0)+Math.imul(We,bn)|0,ee=ee+Math.imul(We,vn)|0;var Yr=(v+(W=W+Math.imul(pe,Qn)|0)|0)+((8191&(H=(H=H+Math.imul(pe,jn)|0)+Math.imul(Se,Qn)|0))<<13)|0;v=((ee=ee+Math.imul(Se,jn)|0)+(H>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,W=Math.imul(Ie,at),H=(H=Math.imul(Ie,ut))+Math.imul(Qe,at)|0,ee=Math.imul(Qe,ut),W=W+Math.imul(F,et)|0,H=(H=H+Math.imul(F,gt)|0)+Math.imul(ie,et)|0,ee=ee+Math.imul(ie,gt)|0,W=W+Math.imul(U,zt)|0,H=(H=H+Math.imul(U,tn)|0)+Math.imul(_,zt)|0,ee=ee+Math.imul(_,tn)|0,W=W+Math.imul(Xe,bn)|0,H=(H=H+Math.imul(Xe,vn)|0)+Math.imul(Ke,bn)|0,ee=ee+Math.imul(Ke,vn)|0;var wt=(v+(W=W+Math.imul(Fe,Qn)|0)|0)+((8191&(H=(H=H+Math.imul(Fe,jn)|0)+Math.imul(We,Qn)|0))<<13)|0;v=((ee=ee+Math.imul(We,jn)|0)+(H>>>13)|0)+(wt>>>26)|0,wt&=67108863,W=Math.imul(Ie,et),H=(H=Math.imul(Ie,gt))+Math.imul(Qe,et)|0,ee=Math.imul(Qe,gt),W=W+Math.imul(F,zt)|0,H=(H=H+Math.imul(F,tn)|0)+Math.imul(ie,zt)|0,ee=ee+Math.imul(ie,tn)|0,W=W+Math.imul(U,bn)|0,H=(H=H+Math.imul(U,vn)|0)+Math.imul(_,bn)|0,ee=ee+Math.imul(_,vn)|0;var Pt=(v+(W=W+Math.imul(Xe,Qn)|0)|0)+((8191&(H=(H=H+Math.imul(Xe,jn)|0)+Math.imul(Ke,Qn)|0))<<13)|0;v=((ee=ee+Math.imul(Ke,jn)|0)+(H>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,W=Math.imul(Ie,zt),H=(H=Math.imul(Ie,tn))+Math.imul(Qe,zt)|0,ee=Math.imul(Qe,tn),W=W+Math.imul(F,bn)|0,H=(H=H+Math.imul(F,vn)|0)+Math.imul(ie,bn)|0,ee=ee+Math.imul(ie,vn)|0;var sn=(v+(W=W+Math.imul(U,Qn)|0)|0)+((8191&(H=(H=H+Math.imul(U,jn)|0)+Math.imul(_,Qn)|0))<<13)|0;v=((ee=ee+Math.imul(_,jn)|0)+(H>>>13)|0)+(sn>>>26)|0,sn&=67108863,W=Math.imul(Ie,bn),H=(H=Math.imul(Ie,vn))+Math.imul(Qe,bn)|0,ee=Math.imul(Qe,vn);var _n=(v+(W=W+Math.imul(F,Qn)|0)|0)+((8191&(H=(H=H+Math.imul(F,jn)|0)+Math.imul(ie,Qn)|0))<<13)|0;v=((ee=ee+Math.imul(ie,jn)|0)+(H>>>13)|0)+(_n>>>26)|0,_n&=67108863;var $n=(v+(W=Math.imul(Ie,Qn))|0)+((8191&(H=(H=Math.imul(Ie,jn))+Math.imul(Qe,Qn)|0))<<13)|0;return v=((ee=Math.imul(Qe,jn))+(H>>>13)|0)+($n>>>26)|0,$n&=67108863,d[0]=On,d[1]=Vn,d[2]=Hn,d[3]=ar,d[4]=qn,d[5]=vr,d[6]=_r,d[7]=Er,d[8]=mr,d[9]=Rr,d[10]=Br,d[11]=kr,d[12]=jr,d[13]=Yr,d[14]=wt,d[15]=Pt,d[16]=sn,d[17]=_n,d[18]=$n,0!==v&&(d[19]=v,C.length++),C};function ne(g,w,T){T.negative=w.negative^g.negative,T.length=g.length+w.length;for(var C=0,j=0,M=0;M<T.length-1;M++){var d=j;j=0;for(var v=67108863&C,W=Math.min(M,w.length-1),H=Math.max(0,M-g.length+1);H<=W;H++){var Pe=(0|g.words[M-H])*(0|w.words[H]),Le=67108863&Pe;v=67108863&(Le=Le+v|0),j+=(d=(d=d+(Pe/67108864|0)|0)+(Le>>>26)|0)>>>26,d&=67108863}T.words[M]=v,C=d,d=j}return 0!==C?T.words[M]=C:T.length--,T._strip()}function se(g,w,T){return ne(g,w,T)}function oe(g,w){this.x=g,this.y=w}Math.imul||(q=J),x.prototype.mulTo=function(w,T){var j=this.length+w.length;return 10===this.length&&10===w.length?q(this,w,T):j<63?J(this,w,T):j<1024?ne(this,w,T):se(this,w,T)},oe.prototype.makeRBT=function(w){for(var T=new Array(w),C=x.prototype._countBits(w)-1,j=0;j<w;j++)T[j]=this.revBin(j,C,w);return T},oe.prototype.revBin=function(w,T,C){if(0===w||w===C-1)return w;for(var j=0,M=0;M<T;M++)j|=(1&w)<<T-M-1,w>>=1;return j},oe.prototype.permute=function(w,T,C,j,M,d){for(var v=0;v<d;v++)j[v]=T[w[v]],M[v]=C[w[v]]},oe.prototype.transform=function(w,T,C,j,M,d){this.permute(d,w,T,C,j,M);for(var v=1;v<M;v<<=1)for(var W=v<<1,H=Math.cos(2*Math.PI/W),ee=Math.sin(2*Math.PI/W),fe=0;fe<M;fe+=W)for(var Ae=H,Pe=ee,Le=0;Le<v;Le++){var be=C[fe+Le],ge=j[fe+Le],Re=C[fe+Le+v],me=j[fe+Le+v],xe=Ae*Re-Pe*me;me=Ae*me+Pe*Re,C[fe+Le]=be+(Re=xe),j[fe+Le]=ge+me,C[fe+Le+v]=be-Re,j[fe+Le+v]=ge-me,Le!==W&&(xe=H*Ae-ee*Pe,Pe=H*Pe+ee*Ae,Ae=xe)}},oe.prototype.guessLen13b=function(w,T){var C=1|Math.max(T,w),j=1&C,M=0;for(C=C/2|0;C;C>>>=1)M++;return 1<<M+1+j},oe.prototype.conjugate=function(w,T,C){if(!(C<=1))for(var j=0;j<C/2;j++){var M=w[j];w[j]=w[C-j-1],w[C-j-1]=M,M=T[j],T[j]=-T[C-j-1],T[C-j-1]=-M}},oe.prototype.normalize13b=function(w,T){for(var C=0,j=0;j<T/2;j++){var M=8192*Math.round(w[2*j+1]/T)+Math.round(w[2*j]/T)+C;w[j]=67108863&M,C=M<67108864?0:M/67108864|0}return w},oe.prototype.convert13b=function(w,T,C,j){for(var M=0,d=0;d<T;d++)C[2*d]=8191&(M+=0|w[d]),C[2*d+1]=8191&(M>>>=13),M>>>=13;for(d=2*T;d<j;++d)C[d]=0;O(0===M),O(!(-8192&M))},oe.prototype.stub=function(w){for(var T=new Array(w),C=0;C<w;C++)T[C]=0;return T},oe.prototype.mulp=function(w,T,C){var j=2*this.guessLen13b(w.length,T.length),M=this.makeRBT(j),d=this.stub(j),v=new Array(j),W=new Array(j),H=new Array(j),ee=new Array(j),fe=new Array(j),Ae=new Array(j),Pe=C.words;Pe.length=j,this.convert13b(w.words,w.length,v,j),this.convert13b(T.words,T.length,ee,j),this.transform(v,d,W,H,j,M),this.transform(ee,d,fe,Ae,j,M);for(var Le=0;Le<j;Le++){var be=W[Le]*fe[Le]-H[Le]*Ae[Le];H[Le]=W[Le]*Ae[Le]+H[Le]*fe[Le],W[Le]=be}return this.conjugate(W,H,j),this.transform(W,H,Pe,d,j,M),this.conjugate(Pe,d,j),this.normalize13b(Pe,j),C.negative=w.negative^T.negative,C.length=w.length+T.length,C._strip()},x.prototype.mul=function(w){var T=new x(null);return T.words=new Array(this.length+w.length),this.mulTo(w,T)},x.prototype.mulf=function(w){var T=new x(null);return T.words=new Array(this.length+w.length),se(this,w,T)},x.prototype.imul=function(w){return this.clone().mulTo(w,this)},x.prototype.imuln=function(w){var T=w<0;T&&(w=-w),O("number"==typeof w),O(w<67108864);for(var C=0,j=0;j<this.length;j++){var M=(0|this.words[j])*w,d=(67108863&M)+(67108863&C);C>>=26,C+=M/67108864|0,C+=d>>>26,this.words[j]=67108863&d}return 0!==C&&(this.words[j]=C,this.length++),T?this.ineg():this},x.prototype.muln=function(w){return this.clone().imuln(w)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(w){var T=function te(g){for(var w=new Array(g.bitLength()),T=0;T<w.length;T++)w[T]=g.words[T/26|0]>>>T%26&1;return w}(w);if(0===T.length)return new x(1);for(var C=this,j=0;j<T.length&&0===T[j];j++,C=C.sqr());if(++j<T.length)for(var M=C.sqr();j<T.length;j++,M=M.sqr())0!==T[j]&&(C=C.mul(M));return C},x.prototype.iushln=function(w){O("number"==typeof w&&w>=0);var M,T=w%26,C=(w-T)/26,j=67108863>>>26-T<<26-T;if(0!==T){var d=0;for(M=0;M<this.length;M++){var v=this.words[M]&j;this.words[M]=(0|this.words[M])-v<<T|d,d=v>>>26-T}d&&(this.words[M]=d,this.length++)}if(0!==C){for(M=this.length-1;M>=0;M--)this.words[M+C]=this.words[M];for(M=0;M<C;M++)this.words[M]=0;this.length+=C}return this._strip()},x.prototype.ishln=function(w){return O(0===this.negative),this.iushln(w)},x.prototype.iushrn=function(w,T,C){var j;O("number"==typeof w&&w>=0),j=T?(T-T%26)/26:0;var M=w%26,d=Math.min((w-M)/26,this.length),v=67108863^67108863>>>M<<M,W=C;if(j-=d,j=Math.max(0,j),W){for(var H=0;H<d;H++)W.words[H]=this.words[H];W.length=d}if(0!==d)if(this.length>d)for(this.length-=d,H=0;H<this.length;H++)this.words[H]=this.words[H+d];else this.words[0]=0,this.length=1;var ee=0;for(H=this.length-1;H>=0&&(0!==ee||H>=j);H--){var fe=0|this.words[H];this.words[H]=ee<<26-M|fe>>>M,ee=fe&v}return W&&0!==ee&&(W.words[W.length++]=ee),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},x.prototype.ishrn=function(w,T,C){return O(0===this.negative),this.iushrn(w,T,C)},x.prototype.shln=function(w){return this.clone().ishln(w)},x.prototype.ushln=function(w){return this.clone().iushln(w)},x.prototype.shrn=function(w){return this.clone().ishrn(w)},x.prototype.ushrn=function(w){return this.clone().iushrn(w)},x.prototype.testn=function(w){O("number"==typeof w&&w>=0);var T=w%26,C=(w-T)/26;return!(this.length<=C||!(this.words[C]&1<<T))},x.prototype.imaskn=function(w){O("number"==typeof w&&w>=0);var T=w%26,C=(w-T)/26;return O(0===this.negative,"imaskn works only with positive numbers"),this.length<=C?this:(0!==T&&C++,this.length=Math.min(C,this.length),0!==T&&(this.words[this.length-1]&=67108863^67108863>>>T<<T),this._strip())},x.prototype.maskn=function(w){return this.clone().imaskn(w)},x.prototype.iaddn=function(w){return O("number"==typeof w),O(w<67108864),w<0?this.isubn(-w):0!==this.negative?1===this.length&&(0|this.words[0])<=w?(this.words[0]=w-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},x.prototype._iaddn=function(w){this.words[0]+=w;for(var T=0;T<this.length&&this.words[T]>=67108864;T++)this.words[T]-=67108864,T===this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=Math.max(this.length,T+1),this},x.prototype.isubn=function(w){if(O("number"==typeof w),O(w<67108864),w<0)return this.iaddn(-w);if(0!==this.negative)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&this.words[T]<0;T++)this.words[T]+=67108864,this.words[T+1]-=1;return this._strip()},x.prototype.addn=function(w){return this.clone().iaddn(w)},x.prototype.subn=function(w){return this.clone().isubn(w)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(w,T,C){var M;this._expand(w.length+C);var d,v=0;for(M=0;M<w.length;M++){d=(0|this.words[M+C])+v;var W=(0|w.words[M])*T;v=((d-=67108863&W)>>26)-(W/67108864|0),this.words[M+C]=67108863&d}for(;M<this.length-C;M++)v=(d=(0|this.words[M+C])+v)>>26,this.words[M+C]=67108863&d;if(0===v)return this._strip();for(O(-1===v),v=0,M=0;M<this.length;M++)v=(d=-(0|this.words[M])+v)>>26,this.words[M]=67108863&d;return this.negative=1,this._strip()},x.prototype._wordDiv=function(w,T){var C,j=this.clone(),M=w,d=0|M.words[M.length-1];0!=(C=26-this._countBits(d))&&(M=M.ushln(C),j.iushln(C),d=0|M.words[M.length-1]);var H,W=j.length-M.length;if("mod"!==T){(H=new x(null)).length=W+1,H.words=new Array(H.length);for(var ee=0;ee<H.length;ee++)H.words[ee]=0}var fe=j.clone()._ishlnsubmul(M,1,W);0===fe.negative&&(j=fe,H&&(H.words[W]=1));for(var Ae=W-1;Ae>=0;Ae--){var Pe=67108864*(0|j.words[M.length+Ae])+(0|j.words[M.length+Ae-1]);for(Pe=Math.min(Pe/d|0,67108863),j._ishlnsubmul(M,Pe,Ae);0!==j.negative;)Pe--,j.negative=0,j._ishlnsubmul(M,1,Ae),j.isZero()||(j.negative^=1);H&&(H.words[Ae]=Pe)}return H&&H._strip(),j._strip(),"div"!==T&&0!==C&&j.iushrn(C),{div:H||null,mod:j}},x.prototype.divmod=function(w,T,C){return O(!w.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===w.negative?(d=this.neg().divmod(w,T),"mod"!==T&&(j=d.div.neg()),"div"!==T&&(M=d.mod.neg(),C&&0!==M.negative&&M.iadd(w)),{div:j,mod:M}):0===this.negative&&0!==w.negative?(d=this.divmod(w.neg(),T),"mod"!==T&&(j=d.div.neg()),{div:j,mod:d.mod}):this.negative&w.negative?(d=this.neg().divmod(w.neg(),T),"div"!==T&&(M=d.mod.neg(),C&&0!==M.negative&&M.isub(w)),{div:d.div,mod:M}):w.length>this.length||this.cmp(w)<0?{div:new x(0),mod:this}:1===w.length?"div"===T?{div:this.divn(w.words[0]),mod:null}:"mod"===T?{div:null,mod:new x(this.modrn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new x(this.modrn(w.words[0]))}:this._wordDiv(w,T);var j,M,d},x.prototype.div=function(w){return this.divmod(w,"div",!1).div},x.prototype.mod=function(w){return this.divmod(w,"mod",!1).mod},x.prototype.umod=function(w){return this.divmod(w,"mod",!0).mod},x.prototype.divRound=function(w){var T=this.divmod(w);if(T.mod.isZero())return T.div;var C=0!==T.div.negative?T.mod.isub(w):T.mod,j=w.ushrn(1),M=w.andln(1),d=C.cmp(j);return d<0||1===M&&0===d?T.div:0!==T.div.negative?T.div.isubn(1):T.div.iaddn(1)},x.prototype.modrn=function(w){var T=w<0;T&&(w=-w),O(w<=67108863);for(var C=(1<<26)%w,j=0,M=this.length-1;M>=0;M--)j=(C*j+(0|this.words[M]))%w;return T?-j:j},x.prototype.modn=function(w){return this.modrn(w)},x.prototype.idivn=function(w){var T=w<0;T&&(w=-w),O(w<=67108863);for(var C=0,j=this.length-1;j>=0;j--){var M=(0|this.words[j])+67108864*C;this.words[j]=M/w|0,C=M%w}return this._strip(),T?this.ineg():this},x.prototype.divn=function(w){return this.clone().idivn(w)},x.prototype.egcd=function(w){O(0===w.negative),O(!w.isZero());var T=this,C=w.clone();T=0!==T.negative?T.umod(w):T.clone();for(var j=new x(1),M=new x(0),d=new x(0),v=new x(1),W=0;T.isEven()&&C.isEven();)T.iushrn(1),C.iushrn(1),++W;for(var H=C.clone(),ee=T.clone();!T.isZero();){for(var fe=0,Ae=1;!(T.words[0]&Ae)&&fe<26;++fe,Ae<<=1);if(fe>0)for(T.iushrn(fe);fe-- >0;)(j.isOdd()||M.isOdd())&&(j.iadd(H),M.isub(ee)),j.iushrn(1),M.iushrn(1);for(var Pe=0,Le=1;!(C.words[0]&Le)&&Pe<26;++Pe,Le<<=1);if(Pe>0)for(C.iushrn(Pe);Pe-- >0;)(d.isOdd()||v.isOdd())&&(d.iadd(H),v.isub(ee)),d.iushrn(1),v.iushrn(1);T.cmp(C)>=0?(T.isub(C),j.isub(d),M.isub(v)):(C.isub(T),d.isub(j),v.isub(M))}return{a:d,b:v,gcd:C.iushln(W)}},x.prototype._invmp=function(w){O(0===w.negative),O(!w.isZero());var fe,T=this,C=w.clone();T=0!==T.negative?T.umod(w):T.clone();for(var j=new x(1),M=new x(0),d=C.clone();T.cmpn(1)>0&&C.cmpn(1)>0;){for(var v=0,W=1;!(T.words[0]&W)&&v<26;++v,W<<=1);if(v>0)for(T.iushrn(v);v-- >0;)j.isOdd()&&j.iadd(d),j.iushrn(1);for(var H=0,ee=1;!(C.words[0]&ee)&&H<26;++H,ee<<=1);if(H>0)for(C.iushrn(H);H-- >0;)M.isOdd()&&M.iadd(d),M.iushrn(1);T.cmp(C)>=0?(T.isub(C),j.isub(M)):(C.isub(T),M.isub(j))}return(fe=0===T.cmpn(1)?j:M).cmpn(0)<0&&fe.iadd(w),fe},x.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var T=this.clone(),C=w.clone();T.negative=0,C.negative=0;for(var j=0;T.isEven()&&C.isEven();j++)T.iushrn(1),C.iushrn(1);for(;;){for(;T.isEven();)T.iushrn(1);for(;C.isEven();)C.iushrn(1);var M=T.cmp(C);if(M<0){var d=T;T=C,C=d}else if(0===M||0===C.cmpn(1))break;T.isub(C)}return C.iushln(j)},x.prototype.invm=function(w){return this.egcd(w).a.umod(w)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(w){return this.words[0]&w},x.prototype.bincn=function(w){O("number"==typeof w);var T=w%26,C=(w-T)/26,j=1<<T;if(this.length<=C)return this._expand(C+1),this.words[C]|=j,this;for(var M=j,d=C;0!==M&&d<this.length;d++){var v=0|this.words[d];M=(v+=M)>>>26,this.words[d]=v&=67108863}return 0!==M&&(this.words[d]=M,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(w){var C,T=w<0;if(0!==this.negative&&!T)return-1;if(0===this.negative&&T)return 1;if(this._strip(),this.length>1)C=1;else{T&&(w=-w),O(w<=67108863,"Number is too big");var j=0|this.words[0];C=j===w?0:j<w?-1:1}return 0!==this.negative?0|-C:C},x.prototype.cmp=function(w){if(0!==this.negative&&0===w.negative)return-1;if(0===this.negative&&0!==w.negative)return 1;var T=this.ucmp(w);return 0!==this.negative?0|-T:T},x.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var T=0,C=this.length-1;C>=0;C--){var j=0|this.words[C],M=0|w.words[C];if(j!==M){j<M?T=-1:j>M&&(T=1);break}}return T},x.prototype.gtn=function(w){return 1===this.cmpn(w)},x.prototype.gt=function(w){return 1===this.cmp(w)},x.prototype.gten=function(w){return this.cmpn(w)>=0},x.prototype.gte=function(w){return this.cmp(w)>=0},x.prototype.ltn=function(w){return-1===this.cmpn(w)},x.prototype.lt=function(w){return-1===this.cmp(w)},x.prototype.lten=function(w){return this.cmpn(w)<=0},x.prototype.lte=function(w){return this.cmp(w)<=0},x.prototype.eqn=function(w){return 0===this.cmpn(w)},x.prototype.eq=function(w){return 0===this.cmp(w)},x.red=function(w){return new u(w)},x.prototype.toRed=function(w){return O(!this.red,"Already a number in reduction context"),O(0===this.negative,"red works only with positives"),w.convertTo(this)._forceRed(w)},x.prototype.fromRed=function(){return O(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(w){return this.red=w,this},x.prototype.forceRed=function(w){return O(!this.red,"Already a number in reduction context"),this._forceRed(w)},x.prototype.redAdd=function(w){return O(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},x.prototype.redIAdd=function(w){return O(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},x.prototype.redSub=function(w){return O(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},x.prototype.redISub=function(w){return O(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},x.prototype.redShl=function(w){return O(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},x.prototype.redMul=function(w){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},x.prototype.redIMul=function(w){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},x.prototype.redSqr=function(){return O(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return O(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return O(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return O(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return O(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(w){return O(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var ue={k256:null,p224:null,p192:null,p25519:null};function ae(g,w){this.name=g,this.p=new x(w,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ve(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _e(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function De(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function u(g){if("string"==typeof g){var w=x._prime(g);this.m=w.p,this.prime=w}else O(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}function h(g){u.call(this,g),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ae.prototype._tmp=function(){var w=new x(null);return w.words=new Array(Math.ceil(this.n/13)),w},ae.prototype.ireduce=function(w){var C,T=w;do{this.split(T,this.tmp),C=(T=(T=this.imulK(T)).iadd(this.tmp)).bitLength()}while(C>this.n);var j=C<this.n?-1:T.ucmp(this.p);return 0===j?(T.words[0]=0,T.length=1):j>0?T.isub(this.p):void 0!==T.strip?T.strip():T._strip(),T},ae.prototype.split=function(w,T){w.iushrn(this.n,0,T)},ae.prototype.imulK=function(w){return w.imul(this.k)},G(ve,ae),ve.prototype.split=function(w,T){for(var C=4194303,j=Math.min(w.length,9),M=0;M<j;M++)T.words[M]=w.words[M];if(T.length=j,w.length<=9)return w.words[0]=0,void(w.length=1);var d=w.words[9];for(T.words[T.length++]=d&C,M=10;M<w.length;M++){var v=0|w.words[M];w.words[M-10]=(v&C)<<4|d>>>22,d=v}w.words[M-10]=d>>>=22,w.length-=0===d&&w.length>10?10:9},ve.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var T=0,C=0;C<w.length;C++){var j=0|w.words[C];w.words[C]=67108863&(T+=977*j),T=64*j+(T/67108864|0)}return 0===w.words[w.length-1]&&(w.length--,0===w.words[w.length-1]&&w.length--),w},G(_e,ae),G(De,ae),G(P,ae),P.prototype.imulK=function(w){for(var T=0,C=0;C<w.length;C++){var j=19*(0|w.words[C])+T,M=67108863&j;j>>>=26,w.words[C]=M,T=j}return 0!==T&&(w.words[w.length++]=T),w},x._prime=function(w){if(ue[w])return ue[w];var T;if("k256"===w)T=new ve;else if("p224"===w)T=new _e;else if("p192"===w)T=new De;else{if("p25519"!==w)throw new Error("Unknown prime "+w);T=new P}return ue[w]=T,T},u.prototype._verify1=function(w){O(0===w.negative,"red works only with positives"),O(w.red,"red works only with red numbers")},u.prototype._verify2=function(w,T){O(!(w.negative|T.negative),"red works only with positives"),O(w.red&&w.red===T.red,"red works only with red numbers")},u.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):(K(w,w.umod(this.m)._forceRed(this)),w)},u.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},u.prototype.add=function(w,T){this._verify2(w,T);var C=w.add(T);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},u.prototype.iadd=function(w,T){this._verify2(w,T);var C=w.iadd(T);return C.cmp(this.m)>=0&&C.isub(this.m),C},u.prototype.sub=function(w,T){this._verify2(w,T);var C=w.sub(T);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},u.prototype.isub=function(w,T){this._verify2(w,T);var C=w.isub(T);return C.cmpn(0)<0&&C.iadd(this.m),C},u.prototype.shl=function(w,T){return this._verify1(w),this.imod(w.ushln(T))},u.prototype.imul=function(w,T){return this._verify2(w,T),this.imod(w.imul(T))},u.prototype.mul=function(w,T){return this._verify2(w,T),this.imod(w.mul(T))},u.prototype.isqr=function(w){return this.imul(w,w.clone())},u.prototype.sqr=function(w){return this.mul(w,w)},u.prototype.sqrt=function(w){if(w.isZero())return w.clone();var T=this.m.andln(3);if(O(T%2==1),3===T){var C=this.m.add(new x(1)).iushrn(2);return this.pow(w,C)}for(var j=this.m.subn(1),M=0;!j.isZero()&&0===j.andln(1);)M++,j.iushrn(1);O(!j.isZero());var d=new x(1).toRed(this),v=d.redNeg(),W=this.m.subn(1).iushrn(1),H=this.m.bitLength();for(H=new x(2*H*H).toRed(this);0!==this.pow(H,W).cmp(v);)H.redIAdd(v);for(var ee=this.pow(H,j),fe=this.pow(w,j.addn(1).iushrn(1)),Ae=this.pow(w,j),Pe=M;0!==Ae.cmp(d);){for(var Le=Ae,be=0;0!==Le.cmp(d);be++)Le=Le.redSqr();O(be<Pe);var ge=this.pow(ee,new x(1).iushln(Pe-be-1));fe=fe.redMul(ge),ee=ge.redSqr(),Ae=Ae.redMul(ee),Pe=be}return fe},u.prototype.invm=function(w){var T=w._invmp(this.m);return 0!==T.negative?(T.negative=0,this.imod(T).redNeg()):this.imod(T)},u.prototype.pow=function(w,T){if(T.isZero())return new x(1).toRed(this);if(0===T.cmpn(1))return w.clone();var j=new Array(16);j[0]=new x(1).toRed(this),j[1]=w;for(var M=2;M<j.length;M++)j[M]=this.mul(j[M-1],w);var d=j[0],v=0,W=0,H=T.bitLength()%26;for(0===H&&(H=26),M=T.length-1;M>=0;M--){for(var ee=T.words[M],fe=H-1;fe>=0;fe--){var Ae=ee>>fe&1;d!==j[0]&&(d=this.sqr(d)),0!==Ae||0!==v?(v<<=1,v|=Ae,(4==++W||0===M&&0===fe)&&(d=this.mul(d,j[v]),W=0,v=0)):W=0}H=26}return d},u.prototype.convertTo=function(w){var T=w.umod(this.m);return T===w?T.clone():T},u.prototype.convertFrom=function(w){var T=w.clone();return T.red=null,T},x.mont=function(w){return new h(w)},G(h,u),h.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},h.prototype.convertFrom=function(w){var T=this.imod(w.mul(this.rinv));return T.red=null,T},h.prototype.imul=function(w,T){if(w.isZero()||T.isZero())return w.words[0]=0,w.length=1,w;var C=w.imul(T),j=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=C.isub(j).iushrn(this.shift),d=M;return M.cmp(this.m)>=0?d=M.isub(this.m):M.cmpn(0)<0&&(d=M.iadd(this.m)),d._forceRed(this)},h.prototype.mul=function(w,T){if(w.isZero()||T.isZero())return new x(0)._forceRed(this);var C=w.mul(T),j=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=C.isub(j).iushrn(this.shift),d=M;return M.cmp(this.m)>=0?d=M.isub(this.m):M.cmpn(0)<0&&(d=M.iadd(this.m)),d._forceRed(this)},h.prototype.invm=function(w){return this.imod(w._invmp(this.m).mul(this.r2))._forceRed(this)}}(Be=E.nmd(Be),this)},35294:(Be,z,E)=>{var p;function S(G){this.rand=G}if(Be.exports=function(x){return p||(p=new S(null)),p.generate(x)},Be.exports.Rand=S,S.prototype.generate=function(x){return this._rand(x)},S.prototype._rand=function(x){if(this.rand.getBytes)return this.rand.getBytes(x);for(var B=new Uint8Array(x),A=0;A<B.length;A++)B[A]=this.rand.getByte();return B},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?S.prototype._rand=function(x){var B=new Uint8Array(x);return self.crypto.getRandomValues(B),B}:self.msCrypto&&self.msCrypto.getRandomValues?S.prototype._rand=function(x){var B=new Uint8Array(x);return self.msCrypto.getRandomValues(B),B}:"object"==typeof window&&(S.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var O=E(91426);if("function"!=typeof O.randomBytes)throw new Error("Not supported");S.prototype._rand=function(x){return O.randomBytes(x)}}catch{}},23963:(Be,z,E)=>{"use strict";const{AbstractLevel:p}=E(75929),S=E(61747),O=E(81725),{fromCallback:G}=E(42381),{Iterator:x}=E(18229),B=E(97899),A=E(19857),N=E(57059),$="level-js-",K=Symbol("idb"),D=Symbol("namePrefix"),X=Symbol("location"),V=Symbol("version"),Z=Symbol("store"),Q=Symbol("onComplete"),te=Symbol("promise");z.BrowserLevel=(()=>{class q extends p{constructor(se,oe,ue){if("function"==typeof oe||"function"==typeof ue)throw new S("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:ae,version:ve,..._e}=oe||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},_e),"string"!=typeof se)throw new Error("constructor requires a location string argument");this[X]=se,this[D]=ae??$,this[V]=parseInt(ve||1,10),this[K]=null}get location(){return this[X]}get namePrefix(){return this[D]}get version(){return this[V]}get db(){return this[K]}get type(){return"browser-level"}_open(se,oe){const ue=indexedDB.open(this[D]+this[X],this[V]);ue.onerror=function(){oe(ue.error||new Error("unknown error"))},ue.onsuccess=()=>{this[K]=ue.result,oe()},ue.onupgradeneeded=ae=>{const ve=ae.target.result;ve.objectStoreNames.contains(this[X])||ve.createObjectStore(this[X])}}[Z](se){return this[K].transaction([this[X]],se).objectStore(this[X])}[Q](se,oe){const ue=se.transaction;ue.onabort=function(){oe(ue.error||new Error("aborted by user"))},ue.oncomplete=function(){oe(null,se.result)}}_get(se,oe,ue){const ae=this[Z]("readonly");let ve;try{ve=ae.get(se)}catch(_e){return this.nextTick(ue,_e)}this[Q](ve,function(_e,De){return _e?ue(_e):void 0===De?ue(new S("Entry not found",{code:"LEVEL_NOT_FOUND"})):void ue(null,B(De))})}_getMany(se,oe,ue){const ae=this[Z]("readonly"),ve=se.map(_e=>De=>{let P;try{P=ae.get(_e)}catch(u){return De(u)}P.onsuccess=()=>{const u=P.result;De(null,void 0===u?u:B(u))},P.onerror=u=>{u.stopPropagation(),De(P.error)}});O(ve,16,ue)}_del(se,oe,ue){const ae=this[Z]("readwrite");let ve;try{ve=ae.delete(se)}catch(_e){return this.nextTick(ue,_e)}this[Q](ve,ue)}_put(se,oe,ue,ae){const ve=this[Z]("readwrite");let _e;try{_e=ve.put(oe,se)}catch(De){return this.nextTick(ae,De)}this[Q](_e,ae)}_iterator(se){return new x(this,this[X],se)}_batch(se,oe,ue){const ae=this[Z]("readwrite"),ve=ae.transaction;let De,_e=0;ve.onabort=function(){ue(De||ve.error||new Error("aborted by user"))},ve.oncomplete=function(){ue()},function P(){const u=se[_e++],h=u.key;let g;try{g="del"===u.type?ae.delete(h):ae.put(u.value,h)}catch(w){return De=w,void ve.abort()}_e<se.length?g.onsuccess=P:"function"==typeof ve.commit&&ve.commit()}()}_clear(se,oe){let ue,ae;try{ue=N(se)}catch{return this.nextTick(oe)}if(se.limit>=0)return A(this,this[X],ue,se,oe);try{const ve=this[Z]("readwrite");ae=ue?ve.delete(ue):ve.clear()}catch(ve){return this.nextTick(oe,ve)}this[Q](ae,oe)}_close(se){this[K].close(),this.nextTick(se)}}return q.destroy=function(ne,se,oe){"function"==typeof se&&(oe=se,se=$),oe=G(oe,te);const ue=indexedDB.deleteDatabase(se+ne);return ue.onsuccess=function(){oe()},ue.onerror=function(ae){oe(ae)},oe[te]},q})()},18229:(Be,z,E)=>{"use strict";const{AbstractIterator:p}=E(75929),S=E(57059),O=E(97899),G=Symbol("cache"),x=Symbol("finished"),B=Symbol("options"),A=Symbol("currentOptions"),N=Symbol("position"),$=Symbol("location"),K=Symbol("first"),D={};function V(Z){"function"==typeof Z.commit&&Z.commit()}z.Iterator=class X extends p{constructor(Q,te,J){super(Q,J),this[G]=[],this[x]=0===this.limit,this[B]=J,this[A]={...J},this[N]=void 0,this[$]=te,this[K]=!0}_nextv(Q,te,J){if(this[K]=!1,this[x])return this.nextTick(J,null,[]);if(this[G].length>0)return Q=Math.min(Q,this[G].length),this.nextTick(J,null,this[G].splice(0,Q));let q;void 0!==this[N]&&(this[B].reverse?(this[A].lt=this[N],this[A].lte=void 0):(this[A].gt=this[N],this[A].gte=void 0));try{q=S(this[A])}catch{return this[x]=!0,this.nextTick(J,null,[])}const ne=this.db.db.transaction([this[$]],"readonly"),se=ne.objectStore(this[$]),oe=[];if(this[B].reverse)se[!this[B].values&&se.openKeyCursor?"openKeyCursor":"openCursor"](q,"prev").onsuccess=ae=>{const ve=ae.target.result;if(ve){const{key:_e,value:De}=ve;this[N]=_e,oe.push([this[B].keys&&void 0!==_e?O(_e):void 0,this[B].values&&void 0!==De?O(De):void 0]),oe.length<Q?ve.continue():V(ne)}else this[x]=!0};else{let ue,ae;const ve=()=>{if(void 0===ue||void 0===ae)return;const _e=Math.max(ue.length,ae.length);0===_e||Q===1/0?this[x]=!0:this[N]=ue[_e-1],oe.length=_e;for(let De=0;De<_e;De++){const P=ue[De],u=ae[De];oe[De]=[this[B].keys&&void 0!==P?O(P):void 0,this[B].values&&void 0!==u?O(u):void 0]}V(ne)};this[B].keys||Q<1/0?se.getAllKeys(q,Q<1/0?Q:void 0).onsuccess=_e=>{ue=_e.target.result,ve()}:(ue=[],this.nextTick(ve)),this[B].values?se.getAll(q,Q<1/0?Q:void 0).onsuccess=_e=>{ae=_e.target.result,ve()}:(ae=[],this.nextTick(ve))}ne.onabort=()=>{J(ne.error||new Error("aborted by user")),J=null},ne.oncomplete=()=>{J(null,oe),J=null}}_next(Q){if(this[G].length>0){const[te,J]=this[G].shift();this.nextTick(Q,null,te,J)}else if(this[x])this.nextTick(Q);else{let te=Math.min(100,this.limit-this.count);this[K]&&(this[K]=!1,te=1),this._nextv(te,D,(J,q)=>{if(J)return Q(J);this[G]=q,this._next(Q)})}}_all(Q,te){this[K]=!1;const J=this[G].splice(0,this[G].length),q=this.limit-this.count-J.length;if(q<=0)return this.nextTick(te,null,J);this._nextv(q,D,(ne,se)=>{if(ne)return te(ne);J.length>0&&(se=J.concat(se)),te(null,se)})}_seek(Q,te){let J;this[K]=!0,this[G]=[],this[x]=!1,this[N]=void 0,this[A]={...this[B]};try{J=S(this[B])}catch{return void(this[x]=!0)}null===J||J.includes(Q)?this[B].reverse?this[A].lte=Q:this[A].gte=Q:this[x]=!0}}},19857:Be=>{"use strict";Be.exports=function(E,p,S,O,G){if(0===O.limit)return E.nextTick(G);const x=E.db.transaction([p],"readwrite"),B=x.objectStore(p);let A=0;x.oncomplete=function(){G()},x.onabort=function(){G(x.error||new Error("aborted by user"))},B[B.openKeyCursor?"openKeyCursor":"openCursor"](S,O.reverse?"prev":"next").onsuccess=function(K){const D=K.target.result;D&&(B.delete(D.key).onsuccess=function(){(O.limit<=0||++A<O.limit)&&D.continue()})}}},97899:Be=>{"use strict";const z=new TextEncoder;Be.exports=function(E){return E instanceof Uint8Array?E:E instanceof ArrayBuffer?new Uint8Array(E):z.encode(E)}},57059:Be=>{"use strict";Be.exports=function(E){const p=void 0!==E.gte?E.gte:void 0!==E.gt?E.gt:void 0,S=void 0!==E.lte?E.lte:void 0!==E.lt?E.lt:void 0,O=void 0===E.gte,G=void 0===E.lte;return void 0!==p&&void 0!==S?IDBKeyRange.bound(p,S,O,G):void 0!==p?IDBKeyRange.lowerBound(p,O):void 0!==S?IDBKeyRange.upperBound(S,G):null}},12375:(Be,z,E)=>{var p=E(27054).Buffer;function S(N){p.isBuffer(N)||(N=p.from(N));for(var $=N.length/4|0,K=new Array($),D=0;D<$;D++)K[D]=N.readUInt32BE(4*D);return K}function O(N){for(;0<N.length;N++)N[0]=0}function G(N,$,K,D,X){for(var oe,ue,ae,ve,V=K[0],Z=K[1],Q=K[2],te=K[3],J=N[0]^$[0],q=N[1]^$[1],ne=N[2]^$[2],se=N[3]^$[3],_e=4,De=1;De<X;De++)oe=V[J>>>24]^Z[q>>>16&255]^Q[ne>>>8&255]^te[255&se]^$[_e++],ue=V[q>>>24]^Z[ne>>>16&255]^Q[se>>>8&255]^te[255&J]^$[_e++],ae=V[ne>>>24]^Z[se>>>16&255]^Q[J>>>8&255]^te[255&q]^$[_e++],ve=V[se>>>24]^Z[J>>>16&255]^Q[q>>>8&255]^te[255&ne]^$[_e++],J=oe,q=ue,ne=ae,se=ve;return oe=(D[J>>>24]<<24|D[q>>>16&255]<<16|D[ne>>>8&255]<<8|D[255&se])^$[_e++],ue=(D[q>>>24]<<24|D[ne>>>16&255]<<16|D[se>>>8&255]<<8|D[255&J])^$[_e++],ae=(D[ne>>>24]<<24|D[se>>>16&255]<<16|D[J>>>8&255]<<8|D[255&q])^$[_e++],ve=(D[se>>>24]<<24|D[J>>>16&255]<<16|D[q>>>8&255]<<8|D[255&ne])^$[_e++],[oe>>>=0,ue>>>=0,ae>>>=0,ve>>>=0]}var x=[0,1,2,4,8,16,32,64,128,27,54],B=function(){for(var N=new Array(256),$=0;$<256;$++)N[$]=$<128?$<<1:$<<1^283;for(var K=[],D=[],X=[[],[],[],[]],V=[[],[],[],[]],Z=0,Q=0,te=0;te<256;++te){var J=Q^Q<<1^Q<<2^Q<<3^Q<<4;K[Z]=J=J>>>8^255&J^99,D[J]=Z;var q=N[Z],ne=N[q],se=N[ne],oe=257*N[J]^16843008*J;X[0][Z]=oe<<24|oe>>>8,X[1][Z]=oe<<16|oe>>>16,X[2][Z]=oe<<8|oe>>>24,X[3][Z]=oe,V[0][J]=(oe=16843009*se^65537*ne^257*q^16843008*Z)<<24|oe>>>8,V[1][J]=oe<<16|oe>>>16,V[2][J]=oe<<8|oe>>>24,V[3][J]=oe,0===Z?Z=Q=1:(Z=q^N[N[N[se^q]]],Q^=N[N[Q]])}return{SBOX:K,INV_SBOX:D,SUB_MIX:X,INV_SUB_MIX:V}}();function A(N){this._key=S(N),this._reset()}A.blockSize=16,A.keySize=32,A.prototype.blockSize=A.blockSize,A.prototype.keySize=A.keySize,A.prototype._reset=function(){for(var N=this._key,$=N.length,K=$+6,D=4*(K+1),X=[],V=0;V<$;V++)X[V]=N[V];for(V=$;V<D;V++){var Z=X[V-1];V%$==0?(Z=B.SBOX[(Z=Z<<8|Z>>>24)>>>24]<<24|B.SBOX[Z>>>16&255]<<16|B.SBOX[Z>>>8&255]<<8|B.SBOX[255&Z],Z^=x[V/$|0]<<24):$>6&&V%$==4&&(Z=B.SBOX[Z>>>24]<<24|B.SBOX[Z>>>16&255]<<16|B.SBOX[Z>>>8&255]<<8|B.SBOX[255&Z]),X[V]=X[V-$]^Z}for(var Q=[],te=0;te<D;te++){var J=D-te,q=X[J-(te%4?0:4)];Q[te]=te<4||J<=4?q:B.INV_SUB_MIX[0][B.SBOX[q>>>24]]^B.INV_SUB_MIX[1][B.SBOX[q>>>16&255]]^B.INV_SUB_MIX[2][B.SBOX[q>>>8&255]]^B.INV_SUB_MIX[3][B.SBOX[255&q]]}this._nRounds=K,this._keySchedule=X,this._invKeySchedule=Q},A.prototype.encryptBlockRaw=function(N){return G(N=S(N),this._keySchedule,B.SUB_MIX,B.SBOX,this._nRounds)},A.prototype.encryptBlock=function(N){var $=this.encryptBlockRaw(N),K=p.allocUnsafe(16);return K.writeUInt32BE($[0],0),K.writeUInt32BE($[1],4),K.writeUInt32BE($[2],8),K.writeUInt32BE($[3],12),K},A.prototype.decryptBlock=function(N){var $=(N=S(N))[1];N[1]=N[3],N[3]=$;var K=G(N,this._invKeySchedule,B.INV_SUB_MIX,B.INV_SBOX,this._nRounds),D=p.allocUnsafe(16);return D.writeUInt32BE(K[0],0),D.writeUInt32BE(K[3],4),D.writeUInt32BE(K[2],8),D.writeUInt32BE(K[1],12),D},A.prototype.scrub=function(){O(this._keySchedule),O(this._invKeySchedule),O(this._key)},Be.exports.AES=A},19307:(Be,z,E)=>{var p=E(12375),S=E(27054).Buffer,O=E(3247),G=E(71993),x=E(85917),B=E(13546),A=E(95725);function K(D,X,V,Z){O.call(this);var Q=S.alloc(4,0);this._cipher=new p.AES(X);var te=this._cipher.encryptBlock(Q);this._ghash=new x(te),V=function $(D,X,V){if(12===X.length)return D._finID=S.concat([X,S.from([0,0,0,1])]),S.concat([X,S.from([0,0,0,2])]);var Z=new x(V),Q=X.length,te=Q%16;Z.update(X),te&&Z.update(S.alloc(te=16-te,0)),Z.update(S.alloc(8,0));var J=8*Q,q=S.alloc(8);q.writeUIntBE(J,0,8),Z.update(q),D._finID=Z.state;var ne=S.from(D._finID);return A(ne),ne}(this,V,te),this._prev=S.from(V),this._cache=S.allocUnsafe(0),this._secCache=S.allocUnsafe(0),this._decrypt=Z,this._alen=0,this._len=0,this._mode=D,this._authTag=null,this._called=!1}G(K,O),K.prototype._update=function(D){if(!this._called&&this._alen){var X=16-this._alen%16;X<16&&(X=S.alloc(X,0),this._ghash.update(X))}this._called=!0;var V=this._mode.encrypt(this,D);return this._ghash.update(this._decrypt?D:V),this._len+=D.length,V},K.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var D=B(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function N(D,X){var V=0;D.length!==X.length&&V++;for(var Z=Math.min(D.length,X.length),Q=0;Q<Z;++Q)V+=D[Q]^X[Q];return V}(D,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=D,this._cipher.scrub()},K.prototype.getAuthTag=function(){if(this._decrypt||!S.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},K.prototype.setAuthTag=function(X){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=X},K.prototype.setAAD=function(X){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(X),this._alen+=X.length},Be.exports=K},43388:(Be,z,E)=>{var p=E(350),S=E(60102),O=E(3219);z.createCipher=z.Cipher=p.createCipher,z.createCipheriv=z.Cipheriv=p.createCipheriv,z.createDecipher=z.Decipher=S.createDecipher,z.createDecipheriv=z.Decipheriv=S.createDecipheriv,z.listCiphers=z.getCiphers=function G(){return Object.keys(O)}},60102:(Be,z,E)=>{var p=E(19307),S=E(27054).Buffer,O=E(60503),G=E(91821),x=E(3247),B=E(12375),A=E(18211);function $(Z,Q,te){x.call(this),this._cache=new K,this._last=void 0,this._cipher=new B.AES(Q),this._prev=S.from(te),this._mode=Z,this._autopadding=!0}function K(){this.cache=S.allocUnsafe(0)}function X(Z,Q,te){var J=O[Z.toLowerCase()];if(!J)throw new TypeError("invalid suite type");if("string"==typeof te&&(te=S.from(te)),"GCM"!==J.mode&&te.length!==J.iv)throw new TypeError("invalid iv length "+te.length);if("string"==typeof Q&&(Q=S.from(Q)),Q.length!==J.key/8)throw new TypeError("invalid key length "+Q.length);return"stream"===J.type?new G(J.module,Q,te,!0):"auth"===J.type?new p(J.module,Q,te,!0):new $(J.module,Q,te)}E(71993)($,x),$.prototype._update=function(Z){this._cache.add(Z);for(var Q,te,J=[];Q=this._cache.get(this._autopadding);)te=this._mode.decrypt(this,Q),J.push(te);return S.concat(J)},$.prototype._final=function(){var Z=this._cache.flush();if(this._autopadding)return function D(Z){var Q=Z[15];if(Q<1||Q>16)throw new Error("unable to decrypt data");for(var te=-1;++te<Q;)if(Z[te+(16-Q)]!==Q)throw new Error("unable to decrypt data");if(16!==Q)return Z.slice(0,16-Q)}(this._mode.decrypt(this,Z));if(Z)throw new Error("data not multiple of block length")},$.prototype.setAutoPadding=function(Z){return this._autopadding=!!Z,this},K.prototype.add=function(Z){this.cache=S.concat([this.cache,Z])},K.prototype.get=function(Z){var Q;if(Z){if(this.cache.length>16)return Q=this.cache.slice(0,16),this.cache=this.cache.slice(16),Q}else if(this.cache.length>=16)return Q=this.cache.slice(0,16),this.cache=this.cache.slice(16),Q;return null},K.prototype.flush=function(){if(this.cache.length)return this.cache},z.createDecipher=function V(Z,Q){var te=O[Z.toLowerCase()];if(!te)throw new TypeError("invalid suite type");var J=A(Q,!1,te.key,te.iv);return X(Z,J.key,J.iv)},z.createDecipheriv=X},350:(Be,z,E)=>{var p=E(60503),S=E(19307),O=E(27054).Buffer,G=E(91821),x=E(3247),B=E(12375),A=E(18211);function $(Z,Q,te){x.call(this),this._cache=new D,this._cipher=new B.AES(Q),this._prev=O.from(te),this._mode=Z,this._autopadding=!0}E(71993)($,x),$.prototype._update=function(Z){this._cache.add(Z);for(var Q,te,J=[];Q=this._cache.get();)te=this._mode.encrypt(this,Q),J.push(te);return O.concat(J)};var K=O.alloc(16,16);function D(){this.cache=O.allocUnsafe(0)}function X(Z,Q,te){var J=p[Z.toLowerCase()];if(!J)throw new TypeError("invalid suite type");if("string"==typeof Q&&(Q=O.from(Q)),Q.length!==J.key/8)throw new TypeError("invalid key length "+Q.length);if("string"==typeof te&&(te=O.from(te)),"GCM"!==J.mode&&te.length!==J.iv)throw new TypeError("invalid iv length "+te.length);return"stream"===J.type?new G(J.module,Q,te):"auth"===J.type?new S(J.module,Q,te):new $(J.module,Q,te)}$.prototype._final=function(){var Z=this._cache.flush();if(this._autopadding)return Z=this._mode.encrypt(this,Z),this._cipher.scrub(),Z;if(!Z.equals(K))throw this._cipher.scrub(),new Error("data not multiple of block length")},$.prototype.setAutoPadding=function(Z){return this._autopadding=!!Z,this},D.prototype.add=function(Z){this.cache=O.concat([this.cache,Z])},D.prototype.get=function(){if(this.cache.length>15){var Z=this.cache.slice(0,16);return this.cache=this.cache.slice(16),Z}return null},D.prototype.flush=function(){for(var Z=16-this.cache.length,Q=O.allocUnsafe(Z),te=-1;++te<Z;)Q.writeUInt8(Z,te);return O.concat([this.cache,Q])},z.createCipheriv=X,z.createCipher=function V(Z,Q){var te=p[Z.toLowerCase()];if(!te)throw new TypeError("invalid suite type");var J=A(Q,!1,te.key,te.iv);return X(Z,J.key,J.iv)}},85917:(Be,z,E)=>{var p=E(27054).Buffer,S=p.alloc(16,0);function G(B){var A=p.allocUnsafe(16);return A.writeUInt32BE(B[0]>>>0,0),A.writeUInt32BE(B[1]>>>0,4),A.writeUInt32BE(B[2]>>>0,8),A.writeUInt32BE(B[3]>>>0,12),A}function x(B){this.h=B,this.state=p.alloc(16,0),this.cache=p.allocUnsafe(0)}x.prototype.ghash=function(B){for(var A=-1;++A<B.length;)this.state[A]^=B[A];this._multiply()},x.prototype._multiply=function(){for(var N,K,B=function O(B){return[B.readUInt32BE(0),B.readUInt32BE(4),B.readUInt32BE(8),B.readUInt32BE(12)]}(this.h),A=[0,0,0,0],D=-1;++D<128;){for(!!(this.state[~~(D/8)]&1<<7-D%8)&&(A[0]^=B[0],A[1]^=B[1],A[2]^=B[2],A[3]^=B[3]),K=!!(1&B[3]),N=3;N>0;N--)B[N]=B[N]>>>1|(1&B[N-1])<<31;B[0]=B[0]>>>1,K&&(B[0]=B[0]^225<<24)}this.state=G(A)},x.prototype.update=function(B){this.cache=p.concat([this.cache,B]);for(var A;this.cache.length>=16;)A=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(A)},x.prototype.final=function(B,A){return this.cache.length&&this.ghash(p.concat([this.cache,S],16)),this.ghash(G([0,B,0,A])),this.state},Be.exports=x},95725:Be=>{Be.exports=function z(E){for(var S,p=E.length;p--;){if(255!==(S=E.readUInt8(p))){S++,E.writeUInt8(S,p);break}E.writeUInt8(0,p)}}},34133:(Be,z,E)=>{var p=E(13546);z.encrypt=function(S,O){var G=p(O,S._prev);return S._prev=S._cipher.encryptBlock(G),S._prev},z.decrypt=function(S,O){var G=S._prev;S._prev=O;var x=S._cipher.decryptBlock(O);return p(x,G)}},17090:(Be,z,E)=>{var p=E(27054).Buffer,S=E(13546);function O(G,x,B){var A=x.length,N=S(x,G._cache);return G._cache=G._cache.slice(A),G._prev=p.concat([G._prev,B?x:N]),N}z.encrypt=function(G,x,B){for(var N,A=p.allocUnsafe(0);x.length;){if(0===G._cache.length&&(G._cache=G._cipher.encryptBlock(G._prev),G._prev=p.allocUnsafe(0)),!(G._cache.length<=x.length)){A=p.concat([A,O(G,x,B)]);break}A=p.concat([A,O(G,x.slice(0,N=G._cache.length),B)]),x=x.slice(N)}return A}},71039:(Be,z,E)=>{var p=E(27054).Buffer;function S(G,x,B){for(var D,X,N=-1,K=0;++N<8;)K+=(128&(X=G._cipher.encryptBlock(G._prev)[0]^(D=x&1<<7-N?128:0)))>>N%8,G._prev=O(G._prev,B?D:X);return K}function O(G,x){var B=G.length,A=-1,N=p.allocUnsafe(G.length);for(G=p.concat([G,p.from([x])]);++A<B;)N[A]=G[A]<<1|G[A+1]>>7;return N}z.encrypt=function(G,x,B){for(var A=x.length,N=p.allocUnsafe(A),$=-1;++$<A;)N[$]=S(G,x[$],B);return N}},72576:(Be,z,E)=>{var p=E(27054).Buffer;function S(O,G,x){var A=O._cipher.encryptBlock(O._prev)[0]^G;return O._prev=p.concat([O._prev.slice(1),p.from([x?G:A])]),A}z.encrypt=function(O,G,x){for(var B=G.length,A=p.allocUnsafe(B),N=-1;++N<B;)A[N]=S(O,G[N],x);return A}},70336:(Be,z,E)=>{var p=E(13546),S=E(27054).Buffer,O=E(95725);function G(B){var A=B._cipher.encryptBlockRaw(B._prev);return O(B._prev),A}z.encrypt=function(B,A){var N=Math.ceil(A.length/16),$=B._cache.length;B._cache=S.concat([B._cache,S.allocUnsafe(16*N)]);for(var K=0;K<N;K++){var D=G(B),X=$+16*K;B._cache.writeUInt32BE(D[0],X+0),B._cache.writeUInt32BE(D[1],X+4),B._cache.writeUInt32BE(D[2],X+8),B._cache.writeUInt32BE(D[3],X+12)}var V=B._cache.slice(0,A.length);return B._cache=B._cache.slice(A.length),p(A,V)}},37513:(Be,z)=>{z.encrypt=function(E,p){return E._cipher.encryptBlock(p)},z.decrypt=function(E,p){return E._cipher.decryptBlock(p)}},60503:(Be,z,E)=>{var p={ECB:E(37513),CBC:E(34133),CFB:E(17090),CFB8:E(72576),CFB1:E(71039),OFB:E(46854),CTR:E(70336),GCM:E(70336)},S=E(3219);for(var O in S)S[O].module=p[S[O].mode];Be.exports=S},46854:(Be,z,E)=>{var p=E(13546);function S(O){return O._prev=O._cipher.encryptBlock(O._prev),O._prev}z.encrypt=function(O,G){for(;O._cache.length<G.length;)O._cache=Buffer.concat([O._cache,S(O)]);var x=O._cache.slice(0,G.length);return O._cache=O._cache.slice(G.length),p(G,x)}},91821:(Be,z,E)=>{var p=E(12375),S=E(27054).Buffer,O=E(3247);function x(B,A,N,$){O.call(this),this._cipher=new p.AES(A),this._prev=S.from(N),this._cache=S.allocUnsafe(0),this._secCache=S.allocUnsafe(0),this._decrypt=$,this._mode=B}E(71993)(x,O),x.prototype._update=function(B){return this._mode.encrypt(this,B,this._decrypt)},x.prototype._final=function(){this._cipher.scrub()},Be.exports=x},88862:(Be,z,E)=>{var p=E(39799),S=E(43388),O=E(60503),G=E(59571),x=E(18211);function N(D,X,V){if(D=D.toLowerCase(),O[D])return S.createCipheriv(D,X,V);if(G[D])return new p({key:X,iv:V,mode:D});throw new TypeError("invalid suite type")}function $(D,X,V){if(D=D.toLowerCase(),O[D])return S.createDecipheriv(D,X,V);if(G[D])return new p({key:X,iv:V,mode:D,decrypt:!0});throw new TypeError("invalid suite type")}z.createCipher=z.Cipher=function B(D,X){var V,Z;if(D=D.toLowerCase(),O[D])V=O[D].key,Z=O[D].iv;else{if(!G[D])throw new TypeError("invalid suite type");V=8*G[D].key,Z=G[D].iv}var Q=x(X,!1,V,Z);return N(D,Q.key,Q.iv)},z.createCipheriv=z.Cipheriv=N,z.createDecipher=z.Decipher=function A(D,X){var V,Z;if(D=D.toLowerCase(),O[D])V=O[D].key,Z=O[D].iv;else{if(!G[D])throw new TypeError("invalid suite type");V=8*G[D].key,Z=G[D].iv}var Q=x(X,!1,V,Z);return $(D,Q.key,Q.iv)},z.createDecipheriv=z.Decipheriv=$,z.listCiphers=z.getCiphers=function K(){return Object.keys(G).concat(S.getCiphers())}},39799:(Be,z,E)=>{var p=E(3247),S=E(71549),O=E(71993),G=E(27054).Buffer,x={"des-ede3-cbc":S.CBC.instantiate(S.EDE),"des-ede3":S.EDE,"des-ede-cbc":S.CBC.instantiate(S.EDE),"des-ede":S.EDE,"des-cbc":S.CBC.instantiate(S.DES),"des-ecb":S.DES};function B(A){p.call(this);var K,N=A.mode.toLowerCase(),$=x[N];K=A.decrypt?"decrypt":"encrypt";var D=A.key;G.isBuffer(D)||(D=G.from(D)),("des-ede"===N||"des-ede-cbc"===N)&&(D=G.concat([D,D.slice(0,8)]));var X=A.iv;G.isBuffer(X)||(X=G.from(X)),this._des=$.create({key:D,iv:X,type:K})}x.des=x["des-cbc"],x.des3=x["des-ede3-cbc"],Be.exports=B,O(B,p),B.prototype._update=function(A){return G.from(this._des.update(A))},B.prototype._final=function(){return G.from(this._des.final())}},59571:(Be,z)=>{z["des-ecb"]={key:8,iv:0},z["des-cbc"]=z.des={key:8,iv:8},z["des-ede3-cbc"]=z.des3={key:24,iv:8},z["des-ede3"]={key:24,iv:0},z["des-ede-cbc"]={key:16,iv:8},z["des-ede"]={key:16,iv:0}},14105:(Be,z,E)=>{var p=E(917),S=E(3342);function G(B){var N,A=B.modulus.byteLength();do{N=new p(S(A))}while(N.cmp(B.modulus)>=0||!N.umod(B.prime1)||!N.umod(B.prime2));return N}function x(B,A){var N=function O(B){var A=G(B);return{blinder:A.toRed(p.mont(B.modulus)).redPow(new p(B.publicExponent)).fromRed(),unblinder:A.invm(B.modulus)}}(A),$=A.modulus.byteLength(),K=new p(B).mul(N.blinder).umod(A.modulus),D=K.toRed(p.mont(A.prime1)),X=K.toRed(p.mont(A.prime2)),V=A.coefficient,Z=A.prime1,Q=A.prime2,te=D.redPow(A.exponent1).fromRed(),J=X.redPow(A.exponent2).fromRed(),q=te.isub(J).imul(V).umod(Z).imul(Q);return J.iadd(q).imul(N.unblinder).umod(A.modulus).toArrayLike(Buffer,"be",$)}x.getr=G,Be.exports=x},99560:(Be,z,E)=>{"use strict";Be.exports=E(62951)},79143:(Be,z,E)=>{"use strict";var p=E(27054).Buffer,S=E(67211),O=E(64670),G=E(71993),x=E(43150),B=E(74754),A=E(62951);function N(X){O.Writable.call(this);var V=A[X];if(!V)throw new Error("Unknown message digest");this._hashType=V.hash,this._hash=S(V.hash),this._tag=V.id,this._signType=V.sign}function $(X){O.Writable.call(this);var V=A[X];if(!V)throw new Error("Unknown message digest");this._hash=S(V.hash),this._tag=V.id,this._signType=V.sign}function K(X){return new N(X)}function D(X){return new $(X)}Object.keys(A).forEach(function(X){A[X].id=p.from(A[X].id,"hex"),A[X.toLowerCase()]=A[X]}),G(N,O.Writable),N.prototype._write=function(V,Z,Q){this._hash.update(V),Q()},N.prototype.update=function(V,Z){return this._hash.update("string"==typeof V?p.from(V,Z):V),this},N.prototype.sign=function(V,Z){this.end();var Q=this._hash.digest(),te=x(Q,V,this._hashType,this._signType,this._tag);return Z?te.toString(Z):te},G($,O.Writable),$.prototype._write=function(V,Z,Q){this._hash.update(V),Q()},$.prototype.update=function(V,Z){return this._hash.update("string"==typeof V?p.from(V,Z):V),this},$.prototype.verify=function(V,Z,Q){var te="string"==typeof Z?p.from(Z,Q):Z;this.end();var J=this._hash.digest();return B(te,J,V,this._signType,this._tag)},Be.exports={Sign:K,Verify:D,createSign:K,createVerify:D}},43150:(Be,z,E)=>{"use strict";var p=E(27054).Buffer,S=E(56432),O=E(14105),G=E(90518).ec,x=E(917),B=E(65667),A=E(64589);function V(q,ne,se,oe){if((q=p.from(q.toArray())).length<ne.byteLength()){var ue=p.alloc(ne.byteLength()-q.length);q=p.concat([ue,q])}var ae=se.length,ve=function Q(q,ne){q=(q=Z(q,ne)).mod(ne);var se=p.from(q.toArray());if(se.length<ne.byteLength()){var oe=p.alloc(ne.byteLength()-se.length);se=p.concat([oe,se])}return se}(se,ne),_e=p.alloc(ae);_e.fill(1);var De=p.alloc(ae);return De=S(oe,De).update(_e).update(p.from([0])).update(q).update(ve).digest(),_e=S(oe,De).update(_e).digest(),{k:De=S(oe,De).update(_e).update(p.from([1])).update(q).update(ve).digest(),v:_e=S(oe,De).update(_e).digest()}}function Z(q,ne){var se=new x(q),oe=(q.length<<3)-ne.bitLength();return oe>0&&se.ishrn(oe),se}function te(q,ne,se){var oe,ue;do{for(oe=p.alloc(0);8*oe.length<q.bitLength();)ne.v=S(se,ne.k).update(ne.v).digest(),oe=p.concat([oe,ne.v]);ue=Z(oe,q),ne.k=S(se,ne.k).update(ne.v).update(p.from([0])).digest(),ne.v=S(se,ne.k).update(ne.v).digest()}while(-1!==ue.cmp(q));return ue}function J(q,ne,se,oe){return q.toRed(x.mont(se)).redPow(ne).fromRed().mod(oe)}Be.exports=function $(q,ne,se,oe,ue){var ae=B(ne);if(ae.curve){if("ecdsa"!==oe&&"ecdsa/rsa"!==oe)throw new Error("wrong private key type");return function K(q,ne){var se=A[ne.curve.join(".")];if(!se)throw new Error("unknown curve "+ne.curve.join("."));var ae=new G(se).keyFromPrivate(ne.privateKey).sign(q);return p.from(ae.toDER())}(q,ae)}if("dsa"===ae.type){if("dsa"!==oe)throw new Error("wrong private key type");return function D(q,ne,se){for(var De,oe=ne.params.priv_key,ue=ne.params.p,ae=ne.params.q,ve=ne.params.g,_e=new x(0),P=Z(q,ae).mod(ae),u=!1,h=V(oe,ae,q,se);!1===u;)_e=J(ve,De=te(ae,h,se),ue,ae),0===(u=De.invm(ae).imul(P.add(oe.mul(_e))).mod(ae)).cmpn(0)&&(u=!1,_e=new x(0));return function X(q,ne){q=q.toArray(),ne=ne.toArray(),128&q[0]&&(q=[0].concat(q)),128&ne[0]&&(ne=[0].concat(ne));var oe=[48,q.length+ne.length+4,2,q.length];return oe=oe.concat(q,[2,ne.length],ne),p.from(oe)}(_e,u)}(q,ae,se)}if("rsa"!==oe&&"ecdsa/rsa"!==oe)throw new Error("wrong private key type");if(void 0!==ne.padding&&1!==ne.padding)throw new Error("illegal or unsupported padding mode");q=p.concat([ue,q]);for(var ve=ae.modulus.byteLength(),_e=[0,1];q.length+_e.length+1<ve;)_e.push(255);_e.push(0);for(var De=-1;++De<q.length;)_e.push(q[De]);return O(_e,ae)},Be.exports.getKey=V,Be.exports.makeKey=te},74754:(Be,z,E)=>{"use strict";var p=E(27054).Buffer,S=E(917),O=E(90518).ec,G=E(65667),x=E(64589);function $(K,D){if(K.cmpn(0)<=0)throw new Error("invalid sig");if(K.cmp(D)>=0)throw new Error("invalid sig")}Be.exports=function B(K,D,X,V,Z){var Q=G(X);if("ec"===Q.type){if("ecdsa"!==V&&"ecdsa/rsa"!==V)throw new Error("wrong public key type");return function A(K,D,X){var V=x[X.data.algorithm.curve.join(".")];if(!V)throw new Error("unknown curve "+X.data.algorithm.curve.join("."));return new O(V).verify(D,K,X.data.subjectPrivateKey.data)}(K,D,Q)}if("dsa"===Q.type){if("dsa"!==V)throw new Error("wrong public key type");return function N(K,D,X){var V=X.data.p,Z=X.data.q,Q=X.data.g,te=X.data.pub_key,J=G.signature.decode(K,"der"),q=J.s,ne=J.r;$(q,Z),$(ne,Z);var se=S.mont(V),oe=q.invm(Z);return 0===Q.toRed(se).redPow(new S(D).mul(oe).mod(Z)).fromRed().mul(te.toRed(se).redPow(ne.mul(oe).mod(Z)).fromRed()).mod(V).mod(Z).cmp(ne)}(K,D,Q)}if("rsa"!==V&&"ecdsa/rsa"!==V)throw new Error("wrong public key type");D=p.concat([Z,D]);for(var te=Q.modulus.byteLength(),J=[1],q=0;D.length+J.length+2<te;)J.push(255),q+=1;J.push(0);for(var ne=-1;++ne<D.length;)J.push(D[ne]);J=p.from(J);var se=S.mont(Q.modulus);K=(K=new S(K).toRed(se)).redPow(new S(Q.publicExponent)),K=p.from(K.fromRed().toArray());var oe=q<8?1:0;for(te=Math.min(K.length,J.length),K.length!==J.length&&(oe=1),ne=-1;++ne<te;)oe|=K[ne]^J[ne];return 0===oe}},23827:(Be,z,E)=>{"use strict";var p=E(9656),S=Object.keys||function(X){var V=[];for(var Z in X)V.push(Z);return V};Be.exports=$;var O=Object.create(E(27637));O.inherits=E(71993);var G=E(81217),x=E(14817);O.inherits($,G);for(var B=S(x.prototype),A=0;A<B.length;A++){var N=B[A];$.prototype[N]||($.prototype[N]=x.prototype[N])}function $(X){if(!(this instanceof $))return new $(X);G.call(this,X),x.call(this,X),X&&!1===X.readable&&(this.readable=!1),X&&!1===X.writable&&(this.writable=!1),this.allowHalfOpen=!0,X&&!1===X.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",K)}function K(){this.allowHalfOpen||this._writableState.ended||p.nextTick(D,this)}function D(X){X.end()}Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty($.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(X){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=X,this._writableState.destroyed=X)}}),$.prototype._destroy=function(X,V){this.push(null),this.end(),p.nextTick(V,X)}},75519:(Be,z,E)=>{"use strict";Be.exports=O;var p=E(93045),S=Object.create(E(27637));function O(G){if(!(this instanceof O))return new O(G);p.call(this,G)}S.inherits=E(71993),S.inherits(O,p),O.prototype._transform=function(G,x,B){B(null,G)}},81217:(Be,z,E)=>{"use strict";var p=E(40573),S=E(9656);Be.exports=oe;var G,O=E(20053);oe.ReadableState=se,E(44356);var B=function(ge,Re){return ge.listeners(Re).length},A=E(62078),N=E(29783).Buffer,$=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},X=Object.create(E(27637));X.inherits=E(71993);var V=E(92668),Z=void 0;Z=V&&V.debuglog?V.debuglog("stream"):function(){};var J,Q=E(10793),te=E(43357);X.inherits(oe,A);var q=["error","close","destroy","pause","resume"];function se(ge,Re){var me=Re instanceof(G=G||E(23827));this.objectMode=!!(ge=ge||{}).objectMode,me&&(this.objectMode=this.objectMode||!!ge.readableObjectMode);var xe=ge.highWaterMark,le=ge.readableHighWaterMark;this.highWaterMark=xe||0===xe?xe:me&&(le||0===le)?le:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Q,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=ge.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ge.encoding&&(J||(J=E(49937).I),this.decoder=new J(ge.encoding),this.encoding=ge.encoding)}function oe(ge){if(G=G||E(23827),!(this instanceof oe))return new oe(ge);this._readableState=new se(ge,this),this.readable=!0,ge&&("function"==typeof ge.read&&(this._read=ge.read),"function"==typeof ge.destroy&&(this._destroy=ge.destroy)),A.call(this)}function ue(ge,Re,me,xe,le){var re,he=ge._readableState;return null===Re?(he.reading=!1,function h(ge,Re){if(!Re.ended){if(Re.decoder){var me=Re.decoder.end();me&&me.length&&(Re.buffer.push(me),Re.length+=Re.objectMode?1:me.length)}Re.ended=!0,g(ge)}}(ge,he)):(le||(re=function ve(ge,Re){var me;return!function D(ge){return N.isBuffer(ge)||ge instanceof $}(Re)&&"string"!=typeof Re&&void 0!==Re&&!ge.objectMode&&(me=new TypeError("Invalid non-string/buffer chunk")),me}(he,Re)),re?ge.emit("error",re):he.objectMode||Re&&Re.length>0?("string"!=typeof Re&&!he.objectMode&&Object.getPrototypeOf(Re)!==N.prototype&&(Re=function K(ge){return N.from(ge)}(Re)),xe?he.endEmitted?ge.emit("error",new Error("stream.unshift() after end event")):ae(ge,he,Re,!0):he.ended?ge.emit("error",new Error("stream.push() after EOF")):(he.reading=!1,he.decoder&&!me?(Re=he.decoder.write(Re),he.objectMode||0!==Re.length?ae(ge,he,Re,!1):T(ge,he)):ae(ge,he,Re,!1))):xe||(he.reading=!1)),function _e(ge){return!ge.ended&&(ge.needReadable||ge.length<ge.highWaterMark||0===ge.length)}(he)}function ae(ge,Re,me,xe){Re.flowing&&0===Re.length&&!Re.sync?(ge.emit("data",me),ge.read(0)):(Re.length+=Re.objectMode?1:me.length,xe?Re.buffer.unshift(me):Re.buffer.push(me),Re.needReadable&&g(ge)),T(ge,Re)}Object.defineProperty(oe.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(ge){this._readableState&&(this._readableState.destroyed=ge)}}),oe.prototype.destroy=te.destroy,oe.prototype._undestroy=te.undestroy,oe.prototype._destroy=function(ge,Re){this.push(null),Re(ge)},oe.prototype.push=function(ge,Re){var xe,me=this._readableState;return me.objectMode?xe=!0:"string"==typeof ge&&((Re=Re||me.defaultEncoding)!==me.encoding&&(ge=N.from(ge,Re),Re=""),xe=!0),ue(this,ge,Re,!1,xe)},oe.prototype.unshift=function(ge){return ue(this,ge,null,!0,!1)},oe.prototype.isPaused=function(){return!1===this._readableState.flowing},oe.prototype.setEncoding=function(ge){return J||(J=E(49937).I),this._readableState.decoder=new J(ge),this._readableState.encoding=ge,this};function u(ge,Re){return ge<=0||0===Re.length&&Re.ended?0:Re.objectMode?1:ge!=ge?Re.flowing&&Re.length?Re.buffer.head.data.length:Re.length:(ge>Re.highWaterMark&&(Re.highWaterMark=function P(ge){return ge>=8388608?ge=8388608:(ge--,ge|=ge>>>1,ge|=ge>>>2,ge|=ge>>>4,ge|=ge>>>8,ge|=ge>>>16,ge++),ge}(ge)),ge<=Re.length?ge:Re.ended?Re.length:(Re.needReadable=!0,0))}function g(ge){var Re=ge._readableState;Re.needReadable=!1,Re.emittedReadable||(Z("emitReadable",Re.flowing),Re.emittedReadable=!0,Re.sync?S.nextTick(w,ge):w(ge))}function w(ge){Z("emit readable"),ge.emit("readable"),W(ge)}function T(ge,Re){Re.readingMore||(Re.readingMore=!0,S.nextTick(C,ge,Re))}function C(ge,Re){for(var me=Re.length;!Re.reading&&!Re.flowing&&!Re.ended&&Re.length<Re.highWaterMark&&(Z("maybeReadMore read 0"),ge.read(0),me!==Re.length);)me=Re.length;Re.readingMore=!1}function M(ge){Z("readable nexttick read 0"),ge.read(0)}function v(ge,Re){Re.reading||(Z("resume read 0"),ge.read(0)),Re.resumeScheduled=!1,Re.awaitDrain=0,ge.emit("resume"),W(ge),Re.flowing&&!Re.reading&&ge.read(0)}function W(ge){var Re=ge._readableState;for(Z("flow",Re.flowing);Re.flowing&&null!==ge.read(););}function H(ge,Re){return 0===Re.length?null:(Re.objectMode?me=Re.buffer.shift():!ge||ge>=Re.length?(me=Re.decoder?Re.buffer.join(""):1===Re.buffer.length?Re.buffer.head.data:Re.buffer.concat(Re.length),Re.buffer.clear()):me=function ee(ge,Re,me){var xe;return ge<Re.head.data.length?(xe=Re.head.data.slice(0,ge),Re.head.data=Re.head.data.slice(ge)):xe=ge===Re.head.data.length?Re.shift():me?function fe(ge,Re){var me=Re.head,xe=1,le=me.data;for(ge-=le.length;me=me.next;){var he=me.data,re=ge>he.length?he.length:ge;if(le+=re===he.length?he:he.slice(0,ge),0==(ge-=re)){re===he.length?(++xe,Re.head=me.next?me.next:Re.tail=null):(Re.head=me,me.data=he.slice(re));break}++xe}return Re.length-=xe,le}(ge,Re):function Ae(ge,Re){var me=N.allocUnsafe(ge),xe=Re.head,le=1;for(xe.data.copy(me),ge-=xe.data.length;xe=xe.next;){var he=xe.data,re=ge>he.length?he.length:ge;if(he.copy(me,me.length-ge,0,re),0==(ge-=re)){re===he.length?(++le,Re.head=xe.next?xe.next:Re.tail=null):(Re.head=xe,xe.data=he.slice(re));break}++le}return Re.length-=le,me}(ge,Re),xe}(ge,Re.buffer,Re.decoder),me);var me}function Pe(ge){var Re=ge._readableState;if(Re.length>0)throw new Error('"endReadable()" called on non-empty stream');Re.endEmitted||(Re.ended=!0,S.nextTick(Le,Re,ge))}function Le(ge,Re){!ge.endEmitted&&0===ge.length&&(ge.endEmitted=!0,Re.readable=!1,Re.emit("end"))}function be(ge,Re){for(var me=0,xe=ge.length;me<xe;me++)if(ge[me]===Re)return me;return-1}oe.prototype.read=function(ge){Z("read",ge),ge=parseInt(ge,10);var Re=this._readableState,me=ge;if(0!==ge&&(Re.emittedReadable=!1),0===ge&&Re.needReadable&&(Re.length>=Re.highWaterMark||Re.ended))return Z("read: emitReadable",Re.length,Re.ended),0===Re.length&&Re.ended?Pe(this):g(this),null;if(0===(ge=u(ge,Re))&&Re.ended)return 0===Re.length&&Pe(this),null;var le,xe=Re.needReadable;return Z("need readable",xe),(0===Re.length||Re.length-ge<Re.highWaterMark)&&Z("length less than watermark",xe=!0),Re.ended||Re.reading?Z("reading or ended",xe=!1):xe&&(Z("do read"),Re.reading=!0,Re.sync=!0,0===Re.length&&(Re.needReadable=!0),this._read(Re.highWaterMark),Re.sync=!1,Re.reading||(ge=u(me,Re))),null===(le=ge>0?H(ge,Re):null)?(Re.needReadable=!0,ge=0):Re.length-=ge,0===Re.length&&(Re.ended||(Re.needReadable=!0),me!==ge&&Re.ended&&Pe(this)),null!==le&&this.emit("data",le),le},oe.prototype._read=function(ge){this.emit("error",new Error("_read() is not implemented"))},oe.prototype.pipe=function(ge,Re){var me=this,xe=this._readableState;switch(xe.pipesCount){case 0:xe.pipes=ge;break;case 1:xe.pipes=[xe.pipes,ge];break;default:xe.pipes.push(ge)}xe.pipesCount+=1,Z("pipe count=%d opts=%j",xe.pipesCount,Re);var he=Re&&!1===Re.end||ge===p.stdout||ge===p.stderr?lt:de;function de(){Z("onend"),ge.end()}xe.endEmitted?S.nextTick(he):me.once("end",he),ge.on("unpipe",function re(U,_){Z("onunpipe"),U===me&&_&&!1===_.hasUnpiped&&(_.hasUnpiped=!0,function ke(){Z("cleanup"),ge.removeListener("close",Xe),ge.removeListener("finish",Ke),ge.removeListener("drain",pe),ge.removeListener("error",Tt),ge.removeListener("unpipe",re),me.removeListener("end",de),me.removeListener("end",lt),me.removeListener("data",We),Se=!0,xe.awaitDrain&&(!ge._writableState||ge._writableState.needDrain)&&pe()}())});var pe=function j(ge){return function(){var Re=ge._readableState;Z("pipeOnDrain",Re.awaitDrain),Re.awaitDrain&&Re.awaitDrain--,0===Re.awaitDrain&&B(ge,"data")&&(Re.flowing=!0,W(ge))}}(me);ge.on("drain",pe);var Se=!1,Fe=!1;function We(U){Z("ondata"),Fe=!1,!1===ge.write(U)&&!Fe&&((1===xe.pipesCount&&xe.pipes===ge||xe.pipesCount>1&&-1!==be(xe.pipes,ge))&&!Se&&(Z("false write response, pause",xe.awaitDrain),xe.awaitDrain++,Fe=!0),me.pause())}function Tt(U){Z("onerror",U),lt(),ge.removeListener("error",Tt),0===B(ge,"error")&&ge.emit("error",U)}function Xe(){ge.removeListener("finish",Ke),lt()}function Ke(){Z("onfinish"),ge.removeListener("close",Xe),lt()}function lt(){Z("unpipe"),me.unpipe(ge)}return me.on("data",We),function ne(ge,Re,me){if("function"==typeof ge.prependListener)return ge.prependListener(Re,me);ge._events&&ge._events[Re]?O(ge._events[Re])?ge._events[Re].unshift(me):ge._events[Re]=[me,ge._events[Re]]:ge.on(Re,me)}(ge,"error",Tt),ge.once("close",Xe),ge.once("finish",Ke),ge.emit("pipe",me),xe.flowing||(Z("pipe resume"),me.resume()),ge},oe.prototype.unpipe=function(ge){var Re=this._readableState,me={hasUnpiped:!1};if(0===Re.pipesCount)return this;if(1===Re.pipesCount)return ge&&ge!==Re.pipes||(ge||(ge=Re.pipes),Re.pipes=null,Re.pipesCount=0,Re.flowing=!1,ge&&ge.emit("unpipe",this,me)),this;if(!ge){var xe=Re.pipes,le=Re.pipesCount;Re.pipes=null,Re.pipesCount=0,Re.flowing=!1;for(var he=0;he<le;he++)xe[he].emit("unpipe",this,{hasUnpiped:!1});return this}var re=be(Re.pipes,ge);return-1===re||(Re.pipes.splice(re,1),Re.pipesCount-=1,1===Re.pipesCount&&(Re.pipes=Re.pipes[0]),ge.emit("unpipe",this,me)),this},oe.prototype.addListener=oe.prototype.on=function(ge,Re){var me=A.prototype.on.call(this,ge,Re);if("data"===ge)!1!==this._readableState.flowing&&this.resume();else if("readable"===ge){var xe=this._readableState;!xe.endEmitted&&!xe.readableListening&&(xe.readableListening=xe.needReadable=!0,xe.emittedReadable=!1,xe.reading?xe.length&&g(this):S.nextTick(M,this))}return me},oe.prototype.resume=function(){var ge=this._readableState;return ge.flowing||(Z("resume"),ge.flowing=!0,function d(ge,Re){Re.resumeScheduled||(Re.resumeScheduled=!0,S.nextTick(v,ge,Re))}(this,ge)),this},oe.prototype.pause=function(){return Z("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Z("pause"),this._readableState.flowing=!1,this.emit("pause")),this},oe.prototype.wrap=function(ge){var Re=this,me=this._readableState,xe=!1;for(var le in ge.on("end",function(){if(Z("wrapped end"),me.decoder&&!me.ended){var re=me.decoder.end();re&&re.length&&Re.push(re)}Re.push(null)}),ge.on("data",function(re){Z("wrapped data"),me.decoder&&(re=me.decoder.write(re)),me.objectMode&&null==re||!(me.objectMode||re&&re.length)||Re.push(re)||(xe=!0,ge.pause())}),ge)void 0===this[le]&&"function"==typeof ge[le]&&(this[le]=function(re){return function(){return ge[re].apply(ge,arguments)}}(le));for(var he=0;he<q.length;he++)ge.on(q[he],this.emit.bind(this,q[he]));return this._read=function(re){Z("wrapped _read",re),xe&&(xe=!1,ge.resume())},this},Object.defineProperty(oe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),oe._fromList=H},93045:(Be,z,E)=>{"use strict";Be.exports=G;var p=E(23827),S=Object.create(E(27637));function O(A,N){var $=this._transformState;$.transforming=!1;var K=$.writecb;if(!K)return this.emit("error",new Error("write callback called multiple times"));$.writechunk=null,$.writecb=null,null!=N&&this.push(N),K(A);var D=this._readableState;D.reading=!1,(D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}function G(A){if(!(this instanceof G))return new G(A);p.call(this,A),this._transformState={afterTransform:O.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,A&&("function"==typeof A.transform&&(this._transform=A.transform),"function"==typeof A.flush&&(this._flush=A.flush)),this.on("prefinish",x)}function x(){var A=this;"function"==typeof this._flush?this._flush(function(N,$){B(A,N,$)}):B(this,null,null)}function B(A,N,$){if(N)return A.emit("error",N);if(null!=$&&A.push($),A._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(A._transformState.transforming)throw new Error("Calling transform done when still transforming");return A.push(null)}S.inherits=E(71993),S.inherits(G,p),G.prototype.push=function(A,N){return this._transformState.needTransform=!1,p.prototype.push.call(this,A,N)},G.prototype._transform=function(A,N,$){throw new Error("_transform() is not implemented")},G.prototype._write=function(A,N,$){var K=this._transformState;if(K.writecb=$,K.writechunk=A,K.writeencoding=N,!K.transforming){var D=this._readableState;(K.needTransform||D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}},G.prototype._read=function(A){var N=this._transformState;null!==N.writechunk&&N.writecb&&!N.transforming?(N.transforming=!0,this._transform(N.writechunk,N.writeencoding,N.afterTransform)):N.needTransform=!0},G.prototype._destroy=function(A,N){var $=this;p.prototype._destroy.call(this,A,function(K){N(K),$.emit("close")})}},14817:(Be,z,E)=>{"use strict";var p=E(40573),S=E(9656);function G(d){var v=this;this.next=null,this.entry=null,this.finish=function(){!function M(d,v,W){var H=d.entry;for(d.entry=null;H;){var ee=H.callback;v.pendingcb--,ee(W),H=H.next}v.corkedRequestsFree.next=d}(v,d)}}Be.exports=q;var B,x=!p.browser&&["v0.10","v0.9."].indexOf(p.version.slice(0,5))>-1?setImmediate:S.nextTick;q.WritableState=te;var A=Object.create(E(27637));A.inherits=E(71993);var J,N={deprecate:E(3398)},$=E(62078),K=E(29783).Buffer,D=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},Z=E(43357);function Q(){}function te(d,v){B=B||E(23827);var W=v instanceof B;this.objectMode=!!(d=d||{}).objectMode,W&&(this.objectMode=this.objectMode||!!d.writableObjectMode);var H=d.highWaterMark,ee=d.writableHighWaterMark;this.highWaterMark=H||0===H?H:W&&(ee||0===ee)?ee:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===d.decodeStrings),this.defaultEncoding=d.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Pe){!function De(d,v){var W=d._writableState,H=W.sync,ee=W.writecb;if(function _e(d){d.writing=!1,d.writecb=null,d.length-=d.writelen,d.writelen=0}(W),v)!function ve(d,v,W,H,ee){--v.pendingcb,W?(S.nextTick(ee,H),S.nextTick(C,d,v),d._writableState.errorEmitted=!0,d.emit("error",H)):(ee(H),d._writableState.errorEmitted=!0,d.emit("error",H),C(d,v))}(d,W,H,v,ee);else{var fe=g(W);!fe&&!W.corked&&!W.bufferProcessing&&W.bufferedRequest&&h(d,W),H?x(P,d,W,fe,ee):P(d,W,fe,ee)}}(v,Pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new G(this)}function q(d){if(B=B||E(23827),!(J.call(q,this)||this instanceof B))return new q(d);this._writableState=new te(d,this),this.writable=!0,d&&("function"==typeof d.write&&(this._write=d.write),"function"==typeof d.writev&&(this._writev=d.writev),"function"==typeof d.destroy&&(this._destroy=d.destroy),"function"==typeof d.final&&(this._final=d.final)),$.call(this)}function ae(d,v,W,H,ee,fe,Ae){v.writelen=H,v.writecb=Ae,v.writing=!0,v.sync=!0,W?d._writev(ee,v.onwrite):d._write(ee,fe,v.onwrite),v.sync=!1}function P(d,v,W,H){W||function u(d,v){0===v.length&&v.needDrain&&(v.needDrain=!1,d.emit("drain"))}(d,v),v.pendingcb--,H(),C(d,v)}function h(d,v){v.bufferProcessing=!0;var W=v.bufferedRequest;if(d._writev&&W&&W.next){var ee=new Array(v.bufferedRequestCount),fe=v.corkedRequestsFree;fe.entry=W;for(var Ae=0,Pe=!0;W;)ee[Ae]=W,W.isBuf||(Pe=!1),W=W.next,Ae+=1;ee.allBuffers=Pe,ae(d,v,!0,v.length,ee,"",fe.finish),v.pendingcb++,v.lastBufferedRequest=null,fe.next?(v.corkedRequestsFree=fe.next,fe.next=null):v.corkedRequestsFree=new G(v),v.bufferedRequestCount=0}else{for(;W;){var Le=W.chunk;if(ae(d,v,!1,v.objectMode?1:Le.length,Le,W.encoding,W.callback),W=W.next,v.bufferedRequestCount--,v.writing)break}null===W&&(v.lastBufferedRequest=null)}v.bufferedRequest=W,v.bufferProcessing=!1}function g(d){return d.ending&&0===d.length&&null===d.bufferedRequest&&!d.finished&&!d.writing}function w(d,v){d._final(function(W){v.pendingcb--,W&&d.emit("error",W),v.prefinished=!0,d.emit("prefinish"),C(d,v)})}function C(d,v){var W=g(v);return W&&(function T(d,v){!v.prefinished&&!v.finalCalled&&("function"==typeof d._final?(v.pendingcb++,v.finalCalled=!0,S.nextTick(w,d,v)):(v.prefinished=!0,d.emit("prefinish")))}(d,v),0===v.pendingcb&&(v.finished=!0,d.emit("finish"))),W}A.inherits(q,$),te.prototype.getBuffer=function(){for(var v=this.bufferedRequest,W=[];v;)W.push(v),v=v.next;return W},function(){try{Object.defineProperty(te.prototype,"buffer",{get:N.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(J=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(d){return!!J.call(this,d)||this===q&&d&&d._writableState instanceof te}})):J=function(d){return d instanceof this},q.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},q.prototype.write=function(d,v,W){var H=this._writableState,ee=!1,fe=!H.objectMode&&function V(d){return K.isBuffer(d)||d instanceof D}(d);return fe&&!K.isBuffer(d)&&(d=function X(d){return K.from(d)}(d)),"function"==typeof v&&(W=v,v=null),fe?v="buffer":v||(v=H.defaultEncoding),"function"!=typeof W&&(W=Q),H.ended?function ne(d,v){var W=new Error("write after end");d.emit("error",W),S.nextTick(v,W)}(this,W):(fe||function se(d,v,W,H){var ee=!0,fe=!1;return null===W?fe=new TypeError("May not write null values to stream"):"string"!=typeof W&&void 0!==W&&!v.objectMode&&(fe=new TypeError("Invalid non-string/buffer chunk")),fe&&(d.emit("error",fe),S.nextTick(H,fe),ee=!1),ee}(this,H,d,W))&&(H.pendingcb++,ee=function ue(d,v,W,H,ee,fe){if(!W){var Ae=function oe(d,v,W){return!d.objectMode&&!1!==d.decodeStrings&&"string"==typeof v&&(v=K.from(v,W)),v}(v,H,ee);H!==Ae&&(W=!0,ee="buffer",H=Ae)}var Pe=v.objectMode?1:H.length;v.length+=Pe;var Le=v.length<v.highWaterMark;if(Le||(v.needDrain=!0),v.writing||v.corked){var be=v.lastBufferedRequest;v.lastBufferedRequest={chunk:H,encoding:ee,isBuf:W,callback:fe,next:null},be?be.next=v.lastBufferedRequest:v.bufferedRequest=v.lastBufferedRequest,v.bufferedRequestCount+=1}else ae(d,v,!1,Pe,H,ee,fe);return Le}(this,H,fe,d,v,W)),ee},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var d=this._writableState;d.corked&&(d.corked--,!d.writing&&!d.corked&&!d.bufferProcessing&&d.bufferedRequest&&h(this,d))},q.prototype.setDefaultEncoding=function(v){if("string"==typeof v&&(v=v.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((v+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+v);return this._writableState.defaultEncoding=v,this},Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),q.prototype._write=function(d,v,W){W(new Error("_write() is not implemented"))},q.prototype._writev=null,q.prototype.end=function(d,v,W){var H=this._writableState;"function"==typeof d?(W=d,d=null,v=null):"function"==typeof v&&(W=v,v=null),null!=d&&this.write(d,v),H.corked&&(H.corked=1,this.uncork()),H.ending||function j(d,v,W){v.ending=!0,C(d,v),W&&(v.finished?S.nextTick(W):d.once("finish",W)),v.ended=!0,d.writable=!1}(this,H,W)},Object.defineProperty(q.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(d){this._writableState&&(this._writableState.destroyed=d)}}),q.prototype.destroy=Z.destroy,q.prototype._undestroy=Z.undestroy,q.prototype._destroy=function(d,v){this.end(),v(d)}},10793:(Be,z,E)=>{"use strict";var S=E(29783).Buffer,O=E(21638);function G(x,B,A){x.copy(B,A)}Be.exports=function(){function x(){(function p(x,B){if(!(x instanceof B))throw new TypeError("Cannot call a class as a function")})(this,x),this.head=null,this.tail=null,this.length=0}return x.prototype.push=function(A){var N={data:A,next:null};this.length>0?this.tail.next=N:this.head=N,this.tail=N,++this.length},x.prototype.unshift=function(A){var N={data:A,next:this.head};0===this.length&&(this.tail=N),this.head=N,++this.length},x.prototype.shift=function(){if(0!==this.length){var A=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,A}},x.prototype.clear=function(){this.head=this.tail=null,this.length=0},x.prototype.join=function(A){if(0===this.length)return"";for(var N=this.head,$=""+N.data;N=N.next;)$+=A+N.data;return $},x.prototype.concat=function(A){if(0===this.length)return S.alloc(0);for(var N=S.allocUnsafe(A>>>0),$=this.head,K=0;$;)G($.data,N,K),K+=$.data.length,$=$.next;return N},x}(),O&&O.inspect&&O.inspect.custom&&(Be.exports.prototype[O.inspect.custom]=function(){var x=O.inspect({length:this.length});return this.constructor.name+" "+x})},43357:(Be,z,E)=>{"use strict";var p=E(9656);function G(x,B){x.emit("error",B)}Be.exports={destroy:function S(x,B){var A=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(B?B(x):x&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.nextTick(G,this,x)):p.nextTick(G,this,x)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(x||null,function(K){!B&&K?A._writableState?A._writableState.errorEmitted||(A._writableState.errorEmitted=!0,p.nextTick(G,A,K)):p.nextTick(G,A,K):B&&B(K)}),this)},undestroy:function O(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},62078:(Be,z,E)=>{Be.exports=E(44356).EventEmitter},29783:(Be,z,E)=>{var p=E(83838),S=p.Buffer;function O(x,B){for(var A in x)B[A]=x[A]}function G(x,B,A){return S(x,B,A)}S.from&&S.alloc&&S.allocUnsafe&&S.allocUnsafeSlow?Be.exports=p:(O(p,z),z.Buffer=G),O(S,G),G.from=function(x,B,A){if("number"==typeof x)throw new TypeError("Argument must not be a number");return S(x,B,A)},G.alloc=function(x,B,A){if("number"!=typeof x)throw new TypeError("Argument must be a number");var N=S(x);return void 0!==B?"string"==typeof A?N.fill(B,A):N.fill(B):N.fill(0),N},G.allocUnsafe=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return S(x)},G.allocUnsafeSlow=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return p.SlowBuffer(x)}},64670:(Be,z,E)=>{(z=Be.exports=E(81217)).Stream=z,z.Readable=z,z.Writable=E(14817),z.Duplex=E(23827),z.Transform=E(93045),z.PassThrough=E(75519)},49937:(Be,z,E)=>{"use strict";var p=E(37656).Buffer,S=p.isEncoding||function(q){switch((q=""+q)&&q.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function x(q){var ne;switch(this.encoding=function G(q){var ne=function O(q){if(!q)return"utf8";for(var ne;;)switch(q){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return q;default:if(ne)return;q=(""+q).toLowerCase(),ne=!0}}(q);if("string"!=typeof ne&&(p.isEncoding===S||!S(q)))throw new Error("Unknown encoding: "+q);return ne||q}(q),this.encoding){case"utf16le":this.text=X,this.end=V,ne=4;break;case"utf8":this.fillLast=$,ne=4;break;case"base64":this.text=Z,this.end=Q,ne=3;break;default:return this.write=te,void(this.end=J)}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(ne)}function B(q){return q<=127?0:q>>5==6?2:q>>4==14?3:q>>3==30?4:q>>6==2?-1:-2}function $(q){var ne=this.lastTotal-this.lastNeed,se=function N(q,ne,se){if(128!=(192&ne[0]))return q.lastNeed=0,"\ufffd";if(q.lastNeed>1&&ne.length>1){if(128!=(192&ne[1]))return q.lastNeed=1,"\ufffd";if(q.lastNeed>2&&ne.length>2&&128!=(192&ne[2]))return q.lastNeed=2,"\ufffd"}}(this,q);return void 0!==se?se:this.lastNeed<=q.length?(q.copy(this.lastChar,ne,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(q.copy(this.lastChar,ne,0,q.length),void(this.lastNeed-=q.length))}function X(q,ne){if((q.length-ne)%2==0){var se=q.toString("utf16le",ne);if(se){var oe=se.charCodeAt(se.length-1);if(oe>=55296&&oe<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=q[q.length-2],this.lastChar[1]=q[q.length-1],se.slice(0,-1)}return se}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=q[q.length-1],q.toString("utf16le",ne,q.length-1)}function V(q){var ne=q&&q.length?this.write(q):"";return this.lastNeed?ne+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):ne}function Z(q,ne){var se=(q.length-ne)%3;return 0===se?q.toString("base64",ne):(this.lastNeed=3-se,this.lastTotal=3,1===se?this.lastChar[0]=q[q.length-1]:(this.lastChar[0]=q[q.length-2],this.lastChar[1]=q[q.length-1]),q.toString("base64",ne,q.length-se))}function Q(q){var ne=q&&q.length?this.write(q):"";return this.lastNeed?ne+this.lastChar.toString("base64",0,3-this.lastNeed):ne}function te(q){return q.toString(this.encoding)}function J(q){return q&&q.length?this.write(q):""}z.I=x,x.prototype.write=function(q){if(0===q.length)return"";var ne,se;if(this.lastNeed){if(void 0===(ne=this.fillLast(q)))return"";se=this.lastNeed,this.lastNeed=0}else se=0;return se<q.length?ne?ne+this.text(q,se):this.text(q,se):ne||""},x.prototype.end=function D(q){var ne=q&&q.length?this.write(q):"";return this.lastNeed?ne+"\ufffd":ne},x.prototype.text=function K(q,ne){var se=function A(q,ne,se){var oe=ne.length-1;if(oe<se)return 0;var ue=B(ne[oe]);return ue>=0?(ue>0&&(q.lastNeed=ue-1),ue):--oe<se||-2===ue?0:(ue=B(ne[oe]))>=0?(ue>0&&(q.lastNeed=ue-2),ue):--oe<se||-2===ue?0:(ue=B(ne[oe]))>=0?(ue>0&&(2===ue?ue=0:q.lastNeed=ue-3),ue):0}(this,q,ne);if(!this.lastNeed)return q.toString("utf8",ne);this.lastTotal=se;var oe=q.length-(se-this.lastNeed);return q.copy(this.lastChar,0,oe),q.toString("utf8",ne,oe)},x.prototype.fillLast=function(q){if(this.lastNeed<=q.length)return q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,q.length),this.lastNeed-=q.length}},37656:(Be,z,E)=>{var p=E(83838),S=p.Buffer;function O(x,B){for(var A in x)B[A]=x[A]}function G(x,B,A){return S(x,B,A)}S.from&&S.alloc&&S.allocUnsafe&&S.allocUnsafeSlow?Be.exports=p:(O(p,z),z.Buffer=G),O(S,G),G.from=function(x,B,A){if("number"==typeof x)throw new TypeError("Argument must not be a number");return S(x,B,A)},G.alloc=function(x,B,A){if("number"!=typeof x)throw new TypeError("Argument must be a number");var N=S(x);return void 0!==B?"string"==typeof A?N.fill(B,A):N.fill(B):N.fill(0),N},G.allocUnsafe=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return S(x)},G.allocUnsafeSlow=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return p.SlowBuffer(x)}},13546:Be=>{Be.exports=function(E,p){for(var S=Math.min(E.length,p.length),O=new Buffer(S),G=0;G<S;++G)O[G]=E[G]^p[G];return O}},83838:(Be,z,E)=>{"use strict";var p=E(13981),S=E(22020),O="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=A,z.SlowBuffer=function q(re){return+re!=re&&(re=0),A.alloc(+re)},z.INSPECT_MAX_BYTES=50;var G=2147483647;function B(re){if(re>G)throw new RangeError('The value "'+re+'" is invalid for option "size"');var de=new Uint8Array(re);return Object.setPrototypeOf(de,A.prototype),de}function A(re,de,pe){if("number"==typeof re){if("string"==typeof de)throw new TypeError('The "string" argument must be of type string. Received type number');return D(re)}return N(re,de,pe)}function N(re,de,pe){if("string"==typeof re)return function X(re,de){if(("string"!=typeof de||""===de)&&(de="utf8"),!A.isEncoding(de))throw new TypeError("Unknown encoding: "+de);var pe=0|ne(re,de),Se=B(pe),ke=Se.write(re,de);return ke!==pe&&(Se=Se.slice(0,ke)),Se}(re,de);if(ArrayBuffer.isView(re))return function Z(re){if(xe(re,Uint8Array)){var de=new Uint8Array(re);return Q(de.buffer,de.byteOffset,de.byteLength)}return V(re)}(re);if(null==re)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof re);if(xe(re,ArrayBuffer)||re&&xe(re.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xe(re,SharedArrayBuffer)||re&&xe(re.buffer,SharedArrayBuffer)))return Q(re,de,pe);if("number"==typeof re)throw new TypeError('The "value" argument must not be of type number. Received type number');var Se=re.valueOf&&re.valueOf();if(null!=Se&&Se!==re)return A.from(Se,de,pe);var ke=function te(re){if(A.isBuffer(re)){var de=0|J(re.length),pe=B(de);return 0===pe.length||re.copy(pe,0,0,de),pe}return void 0!==re.length?"number"!=typeof re.length||le(re.length)?B(0):V(re):"Buffer"===re.type&&Array.isArray(re.data)?V(re.data):void 0}(re);if(ke)return ke;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof re[Symbol.toPrimitive])return A.from(re[Symbol.toPrimitive]("string"),de,pe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof re)}function $(re){if("number"!=typeof re)throw new TypeError('"size" argument must be of type number');if(re<0)throw new RangeError('The value "'+re+'" is invalid for option "size"')}function D(re){return $(re),B(re<0?0:0|J(re))}function V(re){for(var de=re.length<0?0:0|J(re.length),pe=B(de),Se=0;Se<de;Se+=1)pe[Se]=255&re[Se];return pe}function Q(re,de,pe){if(de<0||re.byteLength<de)throw new RangeError('"offset" is outside of buffer bounds');if(re.byteLength<de+(pe||0))throw new RangeError('"length" is outside of buffer bounds');var Se;return Se=void 0===de&&void 0===pe?new Uint8Array(re):void 0===pe?new Uint8Array(re,de):new Uint8Array(re,de,pe),Object.setPrototypeOf(Se,A.prototype),Se}function J(re){if(re>=G)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+G.toString(16)+" bytes");return 0|re}function ne(re,de){if(A.isBuffer(re))return re.length;if(ArrayBuffer.isView(re)||xe(re,ArrayBuffer))return re.byteLength;if("string"!=typeof re)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof re);var pe=re.length,Se=arguments.length>2&&!0===arguments[2];if(!Se&&0===pe)return 0;for(var ke=!1;;)switch(de){case"ascii":case"latin1":case"binary":return pe;case"utf8":case"utf-8":return Le(re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*pe;case"hex":return pe>>>1;case"base64":return Re(re).length;default:if(ke)return Se?-1:Le(re).length;de=(""+de).toLowerCase(),ke=!0}}function se(re,de,pe){var Se=!1;if((void 0===de||de<0)&&(de=0),de>this.length||((void 0===pe||pe>this.length)&&(pe=this.length),pe<=0)||(pe>>>=0)<=(de>>>=0))return"";for(re||(re="utf8");;)switch(re){case"hex":return M(this,de,pe);case"utf8":case"utf-8":return g(this,de,pe);case"ascii":return C(this,de,pe);case"latin1":case"binary":return j(this,de,pe);case"base64":return h(this,de,pe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,de,pe);default:if(Se)throw new TypeError("Unknown encoding: "+re);re=(re+"").toLowerCase(),Se=!0}}function oe(re,de,pe){var Se=re[de];re[de]=re[pe],re[pe]=Se}function ue(re,de,pe,Se,ke){if(0===re.length)return-1;if("string"==typeof pe?(Se=pe,pe=0):pe>2147483647?pe=2147483647:pe<-2147483648&&(pe=-2147483648),le(pe=+pe)&&(pe=ke?0:re.length-1),pe<0&&(pe=re.length+pe),pe>=re.length){if(ke)return-1;pe=re.length-1}else if(pe<0){if(!ke)return-1;pe=0}if("string"==typeof de&&(de=A.from(de,Se)),A.isBuffer(de))return 0===de.length?-1:ae(re,de,pe,Se,ke);if("number"==typeof de)return de&=255,"function"==typeof Uint8Array.prototype.indexOf?ke?Uint8Array.prototype.indexOf.call(re,de,pe):Uint8Array.prototype.lastIndexOf.call(re,de,pe):ae(re,[de],pe,Se,ke);throw new TypeError("val must be string, number or Buffer")}function ae(re,de,pe,Se,ke){var Ke,Fe=1,We=re.length,Tt=de.length;if(void 0!==Se&&("ucs2"===(Se=String(Se).toLowerCase())||"ucs-2"===Se||"utf16le"===Se||"utf-16le"===Se)){if(re.length<2||de.length<2)return-1;Fe=2,We/=2,Tt/=2,pe/=2}function Xe(m,F){return 1===Fe?m[F]:m.readUInt16BE(F*Fe)}if(ke){var lt=-1;for(Ke=pe;Ke<We;Ke++)if(Xe(re,Ke)===Xe(de,-1===lt?0:Ke-lt)){if(-1===lt&&(lt=Ke),Ke-lt+1===Tt)return lt*Fe}else-1!==lt&&(Ke-=Ke-lt),lt=-1}else for(pe+Tt>We&&(pe=We-Tt),Ke=pe;Ke>=0;Ke--){for(var U=!0,_=0;_<Tt;_++)if(Xe(re,Ke+_)!==Xe(de,_)){U=!1;break}if(U)return Ke}return-1}function ve(re,de,pe,Se){pe=Number(pe)||0;var ke=re.length-pe;Se?(Se=Number(Se))>ke&&(Se=ke):Se=ke;var Fe=de.length;Se>Fe/2&&(Se=Fe/2);for(var We=0;We<Se;++We){var Tt=parseInt(de.substr(2*We,2),16);if(le(Tt))return We;re[pe+We]=Tt}return We}function _e(re,de,pe,Se){return me(Le(de,re.length-pe),re,pe,Se)}function De(re,de,pe,Se){return me(function be(re){for(var de=[],pe=0;pe<re.length;++pe)de.push(255&re.charCodeAt(pe));return de}(de),re,pe,Se)}function P(re,de,pe,Se){return me(Re(de),re,pe,Se)}function u(re,de,pe,Se){return me(function ge(re,de){for(var pe,Se,Fe=[],We=0;We<re.length&&!((de-=2)<0);++We)Se=(pe=re.charCodeAt(We))>>8,Fe.push(pe%256),Fe.push(Se);return Fe}(de,re.length-pe),re,pe,Se)}function h(re,de,pe){return p.fromByteArray(0===de&&pe===re.length?re:re.slice(de,pe))}function g(re,de,pe){pe=Math.min(re.length,pe);for(var Se=[],ke=de;ke<pe;){var Xe,Ke,lt,U,Fe=re[ke],We=null,Tt=Fe>239?4:Fe>223?3:Fe>191?2:1;if(ke+Tt<=pe)switch(Tt){case 1:Fe<128&&(We=Fe);break;case 2:128==(192&(Xe=re[ke+1]))&&(U=(31&Fe)<<6|63&Xe)>127&&(We=U);break;case 3:Ke=re[ke+2],128==(192&(Xe=re[ke+1]))&&128==(192&Ke)&&(U=(15&Fe)<<12|(63&Xe)<<6|63&Ke)>2047&&(U<55296||U>57343)&&(We=U);break;case 4:Ke=re[ke+2],lt=re[ke+3],128==(192&(Xe=re[ke+1]))&&128==(192&Ke)&&128==(192&lt)&&(U=(15&Fe)<<18|(63&Xe)<<12|(63&Ke)<<6|63&lt)>65535&&U<1114112&&(We=U)}null===We?(We=65533,Tt=1):We>65535&&(Se.push((We-=65536)>>>10&1023|55296),We=56320|1023&We),Se.push(We),ke+=Tt}return function T(re){var de=re.length;if(de<=w)return String.fromCharCode.apply(String,re);for(var pe="",Se=0;Se<de;)pe+=String.fromCharCode.apply(String,re.slice(Se,Se+=w));return pe}(Se)}z.kMaxLength=G,!(A.TYPED_ARRAY_SUPPORT=function x(){try{var re=new Uint8Array(1),de={foo:function(){return 42}};return Object.setPrototypeOf(de,Uint8Array.prototype),Object.setPrototypeOf(re,de),42===re.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(re,de,pe){return N(re,de,pe)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(re,de,pe){return function K(re,de,pe){return $(re),re<=0?B(re):void 0!==de?"string"==typeof pe?B(re).fill(de,pe):B(re).fill(de):B(re)}(re,de,pe)},A.allocUnsafe=function(re){return D(re)},A.allocUnsafeSlow=function(re){return D(re)},A.isBuffer=function(de){return null!=de&&!0===de._isBuffer&&de!==A.prototype},A.compare=function(de,pe){if(xe(de,Uint8Array)&&(de=A.from(de,de.offset,de.byteLength)),xe(pe,Uint8Array)&&(pe=A.from(pe,pe.offset,pe.byteLength)),!A.isBuffer(de)||!A.isBuffer(pe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(de===pe)return 0;for(var Se=de.length,ke=pe.length,Fe=0,We=Math.min(Se,ke);Fe<We;++Fe)if(de[Fe]!==pe[Fe]){Se=de[Fe],ke=pe[Fe];break}return Se<ke?-1:ke<Se?1:0},A.isEncoding=function(de){switch(String(de).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(de,pe){if(!Array.isArray(de))throw new TypeError('"list" argument must be an Array of Buffers');if(0===de.length)return A.alloc(0);var Se;if(void 0===pe)for(pe=0,Se=0;Se<de.length;++Se)pe+=de[Se].length;var ke=A.allocUnsafe(pe),Fe=0;for(Se=0;Se<de.length;++Se){var We=de[Se];if(xe(We,Uint8Array))Fe+We.length>ke.length?A.from(We).copy(ke,Fe):Uint8Array.prototype.set.call(ke,We,Fe);else{if(!A.isBuffer(We))throw new TypeError('"list" argument must be an Array of Buffers');We.copy(ke,Fe)}Fe+=We.length}return ke},A.byteLength=ne,A.prototype._isBuffer=!0,A.prototype.swap16=function(){var de=this.length;if(de%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var pe=0;pe<de;pe+=2)oe(this,pe,pe+1);return this},A.prototype.swap32=function(){var de=this.length;if(de%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var pe=0;pe<de;pe+=4)oe(this,pe,pe+3),oe(this,pe+1,pe+2);return this},A.prototype.swap64=function(){var de=this.length;if(de%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var pe=0;pe<de;pe+=8)oe(this,pe,pe+7),oe(this,pe+1,pe+6),oe(this,pe+2,pe+5),oe(this,pe+3,pe+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){var de=this.length;return 0===de?"":0===arguments.length?g(this,0,de):se.apply(this,arguments)},A.prototype.equals=function(de){if(!A.isBuffer(de))throw new TypeError("Argument must be a Buffer");return this===de||0===A.compare(this,de)},A.prototype.inspect=function(){var de="",pe=z.INSPECT_MAX_BYTES;return de=this.toString("hex",0,pe).replace(/(.{2})/g,"$1 ").trim(),this.length>pe&&(de+=" ... "),"<Buffer "+de+">"},O&&(A.prototype[O]=A.prototype.inspect),A.prototype.compare=function(de,pe,Se,ke,Fe){if(xe(de,Uint8Array)&&(de=A.from(de,de.offset,de.byteLength)),!A.isBuffer(de))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof de);if(void 0===pe&&(pe=0),void 0===Se&&(Se=de?de.length:0),void 0===ke&&(ke=0),void 0===Fe&&(Fe=this.length),pe<0||Se>de.length||ke<0||Fe>this.length)throw new RangeError("out of range index");if(ke>=Fe&&pe>=Se)return 0;if(ke>=Fe)return-1;if(pe>=Se)return 1;if(this===de)return 0;for(var We=(Fe>>>=0)-(ke>>>=0),Tt=(Se>>>=0)-(pe>>>=0),Xe=Math.min(We,Tt),Ke=this.slice(ke,Fe),lt=de.slice(pe,Se),U=0;U<Xe;++U)if(Ke[U]!==lt[U]){We=Ke[U],Tt=lt[U];break}return We<Tt?-1:Tt<We?1:0},A.prototype.includes=function(de,pe,Se){return-1!==this.indexOf(de,pe,Se)},A.prototype.indexOf=function(de,pe,Se){return ue(this,de,pe,Se,!0)},A.prototype.lastIndexOf=function(de,pe,Se){return ue(this,de,pe,Se,!1)},A.prototype.write=function(de,pe,Se,ke){if(void 0===pe)ke="utf8",Se=this.length,pe=0;else if(void 0===Se&&"string"==typeof pe)ke=pe,Se=this.length,pe=0;else{if(!isFinite(pe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");pe>>>=0,isFinite(Se)?(Se>>>=0,void 0===ke&&(ke="utf8")):(ke=Se,Se=void 0)}var Fe=this.length-pe;if((void 0===Se||Se>Fe)&&(Se=Fe),de.length>0&&(Se<0||pe<0)||pe>this.length)throw new RangeError("Attempt to write outside buffer bounds");ke||(ke="utf8");for(var We=!1;;)switch(ke){case"hex":return ve(this,de,pe,Se);case"utf8":case"utf-8":return _e(this,de,pe,Se);case"ascii":case"latin1":case"binary":return De(this,de,pe,Se);case"base64":return P(this,de,pe,Se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,de,pe,Se);default:if(We)throw new TypeError("Unknown encoding: "+ke);ke=(""+ke).toLowerCase(),We=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function C(re,de,pe){var Se="";pe=Math.min(re.length,pe);for(var ke=de;ke<pe;++ke)Se+=String.fromCharCode(127&re[ke]);return Se}function j(re,de,pe){var Se="";pe=Math.min(re.length,pe);for(var ke=de;ke<pe;++ke)Se+=String.fromCharCode(re[ke]);return Se}function M(re,de,pe){var Se=re.length;(!de||de<0)&&(de=0),(!pe||pe<0||pe>Se)&&(pe=Se);for(var ke="",Fe=de;Fe<pe;++Fe)ke+=he[re[Fe]];return ke}function d(re,de,pe){for(var Se=re.slice(de,pe),ke="",Fe=0;Fe<Se.length-1;Fe+=2)ke+=String.fromCharCode(Se[Fe]+256*Se[Fe+1]);return ke}function v(re,de,pe){if(re%1!=0||re<0)throw new RangeError("offset is not uint");if(re+de>pe)throw new RangeError("Trying to access beyond buffer length")}function W(re,de,pe,Se,ke,Fe){if(!A.isBuffer(re))throw new TypeError('"buffer" argument must be a Buffer instance');if(de>ke||de<Fe)throw new RangeError('"value" argument is out of bounds');if(pe+Se>re.length)throw new RangeError("Index out of range")}function H(re,de,pe,Se,ke,Fe){if(pe+Se>re.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("Index out of range")}function ee(re,de,pe,Se,ke){return de=+de,pe>>>=0,ke||H(re,0,pe,4),S.write(re,de,pe,Se,23,4),pe+4}function fe(re,de,pe,Se,ke){return de=+de,pe>>>=0,ke||H(re,0,pe,8),S.write(re,de,pe,Se,52,8),pe+8}A.prototype.slice=function(de,pe){var Se=this.length;(de=~~de)<0?(de+=Se)<0&&(de=0):de>Se&&(de=Se),(pe=void 0===pe?Se:~~pe)<0?(pe+=Se)<0&&(pe=0):pe>Se&&(pe=Se),pe<de&&(pe=de);var ke=this.subarray(de,pe);return Object.setPrototypeOf(ke,A.prototype),ke},A.prototype.readUintLE=A.prototype.readUIntLE=function(de,pe,Se){de>>>=0,pe>>>=0,Se||v(de,pe,this.length);for(var ke=this[de],Fe=1,We=0;++We<pe&&(Fe*=256);)ke+=this[de+We]*Fe;return ke},A.prototype.readUintBE=A.prototype.readUIntBE=function(de,pe,Se){de>>>=0,pe>>>=0,Se||v(de,pe,this.length);for(var ke=this[de+--pe],Fe=1;pe>0&&(Fe*=256);)ke+=this[de+--pe]*Fe;return ke},A.prototype.readUint8=A.prototype.readUInt8=function(de,pe){return de>>>=0,pe||v(de,1,this.length),this[de]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(de,pe){return de>>>=0,pe||v(de,2,this.length),this[de]|this[de+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(de,pe){return de>>>=0,pe||v(de,2,this.length),this[de]<<8|this[de+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(de,pe){return de>>>=0,pe||v(de,4,this.length),(this[de]|this[de+1]<<8|this[de+2]<<16)+16777216*this[de+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(de,pe){return de>>>=0,pe||v(de,4,this.length),16777216*this[de]+(this[de+1]<<16|this[de+2]<<8|this[de+3])},A.prototype.readIntLE=function(de,pe,Se){de>>>=0,pe>>>=0,Se||v(de,pe,this.length);for(var ke=this[de],Fe=1,We=0;++We<pe&&(Fe*=256);)ke+=this[de+We]*Fe;return ke>=(Fe*=128)&&(ke-=Math.pow(2,8*pe)),ke},A.prototype.readIntBE=function(de,pe,Se){de>>>=0,pe>>>=0,Se||v(de,pe,this.length);for(var ke=pe,Fe=1,We=this[de+--ke];ke>0&&(Fe*=256);)We+=this[de+--ke]*Fe;return We>=(Fe*=128)&&(We-=Math.pow(2,8*pe)),We},A.prototype.readInt8=function(de,pe){return de>>>=0,pe||v(de,1,this.length),128&this[de]?-1*(255-this[de]+1):this[de]},A.prototype.readInt16LE=function(de,pe){de>>>=0,pe||v(de,2,this.length);var Se=this[de]|this[de+1]<<8;return 32768&Se?4294901760|Se:Se},A.prototype.readInt16BE=function(de,pe){de>>>=0,pe||v(de,2,this.length);var Se=this[de+1]|this[de]<<8;return 32768&Se?4294901760|Se:Se},A.prototype.readInt32LE=function(de,pe){return de>>>=0,pe||v(de,4,this.length),this[de]|this[de+1]<<8|this[de+2]<<16|this[de+3]<<24},A.prototype.readInt32BE=function(de,pe){return de>>>=0,pe||v(de,4,this.length),this[de]<<24|this[de+1]<<16|this[de+2]<<8|this[de+3]},A.prototype.readFloatLE=function(de,pe){return de>>>=0,pe||v(de,4,this.length),S.read(this,de,!0,23,4)},A.prototype.readFloatBE=function(de,pe){return de>>>=0,pe||v(de,4,this.length),S.read(this,de,!1,23,4)},A.prototype.readDoubleLE=function(de,pe){return de>>>=0,pe||v(de,8,this.length),S.read(this,de,!0,52,8)},A.prototype.readDoubleBE=function(de,pe){return de>>>=0,pe||v(de,8,this.length),S.read(this,de,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(de,pe,Se,ke){de=+de,pe>>>=0,Se>>>=0,ke||W(this,de,pe,Se,Math.pow(2,8*Se)-1,0);var We=1,Tt=0;for(this[pe]=255&de;++Tt<Se&&(We*=256);)this[pe+Tt]=de/We&255;return pe+Se},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(de,pe,Se,ke){de=+de,pe>>>=0,Se>>>=0,ke||W(this,de,pe,Se,Math.pow(2,8*Se)-1,0);var We=Se-1,Tt=1;for(this[pe+We]=255&de;--We>=0&&(Tt*=256);)this[pe+We]=de/Tt&255;return pe+Se},A.prototype.writeUint8=A.prototype.writeUInt8=function(de,pe,Se){return de=+de,pe>>>=0,Se||W(this,de,pe,1,255,0),this[pe]=255&de,pe+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(de,pe,Se){return de=+de,pe>>>=0,Se||W(this,de,pe,2,65535,0),this[pe]=255&de,this[pe+1]=de>>>8,pe+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(de,pe,Se){return de=+de,pe>>>=0,Se||W(this,de,pe,2,65535,0),this[pe]=de>>>8,this[pe+1]=255&de,pe+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(de,pe,Se){return de=+de,pe>>>=0,Se||W(this,de,pe,4,4294967295,0),this[pe+3]=de>>>24,this[pe+2]=de>>>16,this[pe+1]=de>>>8,this[pe]=255&de,pe+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(de,pe,Se){return de=+de,pe>>>=0,Se||W(this,de,pe,4,4294967295,0),this[pe]=de>>>24,this[pe+1]=de>>>16,this[pe+2]=de>>>8,this[pe+3]=255&de,pe+4},A.prototype.writeIntLE=function(de,pe,Se,ke){if(de=+de,pe>>>=0,!ke){var Fe=Math.pow(2,8*Se-1);W(this,de,pe,Se,Fe-1,-Fe)}var We=0,Tt=1,Xe=0;for(this[pe]=255&de;++We<Se&&(Tt*=256);)de<0&&0===Xe&&0!==this[pe+We-1]&&(Xe=1),this[pe+We]=(de/Tt|0)-Xe&255;return pe+Se},A.prototype.writeIntBE=function(de,pe,Se,ke){if(de=+de,pe>>>=0,!ke){var Fe=Math.pow(2,8*Se-1);W(this,de,pe,Se,Fe-1,-Fe)}var We=Se-1,Tt=1,Xe=0;for(this[pe+We]=255&de;--We>=0&&(Tt*=256);)de<0&&0===Xe&&0!==this[pe+We+1]&&(Xe=1),this[pe+We]=(de/Tt|0)-Xe&255;return pe+Se},A.prototype.writeInt8=function(de,pe,Se){return de=+de,pe>>>=0,Se||W(this,de,pe,1,127,-128),de<0&&(de=255+de+1),this[pe]=255&de,pe+1},A.prototype.writeInt16LE=function(de,pe,Se){return de=+de,pe>>>=0,Se||W(this,de,pe,2,32767,-32768),this[pe]=255&de,this[pe+1]=de>>>8,pe+2},A.prototype.writeInt16BE=function(de,pe,Se){return de=+de,pe>>>=0,Se||W(this,de,pe,2,32767,-32768),this[pe]=de>>>8,this[pe+1]=255&de,pe+2},A.prototype.writeInt32LE=function(de,pe,Se){return de=+de,pe>>>=0,Se||W(this,de,pe,4,2147483647,-2147483648),this[pe]=255&de,this[pe+1]=de>>>8,this[pe+2]=de>>>16,this[pe+3]=de>>>24,pe+4},A.prototype.writeInt32BE=function(de,pe,Se){return de=+de,pe>>>=0,Se||W(this,de,pe,4,2147483647,-2147483648),de<0&&(de=4294967295+de+1),this[pe]=de>>>24,this[pe+1]=de>>>16,this[pe+2]=de>>>8,this[pe+3]=255&de,pe+4},A.prototype.writeFloatLE=function(de,pe,Se){return ee(this,de,pe,!0,Se)},A.prototype.writeFloatBE=function(de,pe,Se){return ee(this,de,pe,!1,Se)},A.prototype.writeDoubleLE=function(de,pe,Se){return fe(this,de,pe,!0,Se)},A.prototype.writeDoubleBE=function(de,pe,Se){return fe(this,de,pe,!1,Se)},A.prototype.copy=function(de,pe,Se,ke){if(!A.isBuffer(de))throw new TypeError("argument should be a Buffer");if(Se||(Se=0),!ke&&0!==ke&&(ke=this.length),pe>=de.length&&(pe=de.length),pe||(pe=0),ke>0&&ke<Se&&(ke=Se),ke===Se||0===de.length||0===this.length)return 0;if(pe<0)throw new RangeError("targetStart out of bounds");if(Se<0||Se>=this.length)throw new RangeError("Index out of range");if(ke<0)throw new RangeError("sourceEnd out of bounds");ke>this.length&&(ke=this.length),de.length-pe<ke-Se&&(ke=de.length-pe+Se);var Fe=ke-Se;return this===de&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(pe,Se,ke):Uint8Array.prototype.set.call(de,this.subarray(Se,ke),pe),Fe},A.prototype.fill=function(de,pe,Se,ke){if("string"==typeof de){if("string"==typeof pe?(ke=pe,pe=0,Se=this.length):"string"==typeof Se&&(ke=Se,Se=this.length),void 0!==ke&&"string"!=typeof ke)throw new TypeError("encoding must be a string");if("string"==typeof ke&&!A.isEncoding(ke))throw new TypeError("Unknown encoding: "+ke);if(1===de.length){var Fe=de.charCodeAt(0);("utf8"===ke&&Fe<128||"latin1"===ke)&&(de=Fe)}}else"number"==typeof de?de&=255:"boolean"==typeof de&&(de=Number(de));if(pe<0||this.length<pe||this.length<Se)throw new RangeError("Out of range index");if(Se<=pe)return this;var We;if(pe>>>=0,Se=void 0===Se?this.length:Se>>>0,de||(de=0),"number"==typeof de)for(We=pe;We<Se;++We)this[We]=de;else{var Tt=A.isBuffer(de)?de:A.from(de,ke),Xe=Tt.length;if(0===Xe)throw new TypeError('The value "'+de+'" is invalid for argument "value"');for(We=0;We<Se-pe;++We)this[We+pe]=Tt[We%Xe]}return this};var Ae=/[^+/0-9A-Za-z-_]/g;function Le(re,de){de=de||1/0;for(var pe,Se=re.length,ke=null,Fe=[],We=0;We<Se;++We){if((pe=re.charCodeAt(We))>55295&&pe<57344){if(!ke){if(pe>56319){(de-=3)>-1&&Fe.push(239,191,189);continue}if(We+1===Se){(de-=3)>-1&&Fe.push(239,191,189);continue}ke=pe;continue}if(pe<56320){(de-=3)>-1&&Fe.push(239,191,189),ke=pe;continue}pe=65536+(ke-55296<<10|pe-56320)}else ke&&(de-=3)>-1&&Fe.push(239,191,189);if(ke=null,pe<128){if((de-=1)<0)break;Fe.push(pe)}else if(pe<2048){if((de-=2)<0)break;Fe.push(pe>>6|192,63&pe|128)}else if(pe<65536){if((de-=3)<0)break;Fe.push(pe>>12|224,pe>>6&63|128,63&pe|128)}else{if(!(pe<1114112))throw new Error("Invalid code point");if((de-=4)<0)break;Fe.push(pe>>18|240,pe>>12&63|128,pe>>6&63|128,63&pe|128)}}return Fe}function Re(re){return p.toByteArray(function Pe(re){if((re=(re=re.split("=")[0]).trim().replace(Ae,"")).length<2)return"";for(;re.length%4!=0;)re+="=";return re}(re))}function me(re,de,pe,Se){for(var ke=0;ke<Se&&!(ke+pe>=de.length||ke>=re.length);++ke)de[ke+pe]=re[ke];return ke}function xe(re,de){return re instanceof de||null!=re&&null!=re.constructor&&null!=re.constructor.name&&re.constructor.name===de.name}function le(re){return re!=re}var he=function(){for(var re="0123456789abcdef",de=new Array(256),pe=0;pe<16;++pe)for(var Se=16*pe,ke=0;ke<16;++ke)de[Se+ke]=re[pe]+re[ke];return de}()},28846:Be=>{"use strict";Be.exports=function z(E){if("number"==typeof E&&isNaN(E))throw new Error("NaN is not allowed");if("number"==typeof E&&!isFinite(E))throw new Error("Infinity is not allowed");return null===E||"object"!=typeof E?JSON.stringify(E):E.toJSON instanceof Function?z(E.toJSON()):Array.isArray(E)?`[${E.reduce((O,G,x)=>`${O}${0===x?"":","}${z(void 0===G||"symbol"==typeof G?null:G)}`,"")}]`:`{${Object.keys(E).sort().reduce((S,O)=>void 0===E[O]||"symbol"==typeof E[O]?S:`${S}${0===S.length?"":","}${z(O)}:${z(E[O])}`,"")}}`}},42381:(Be,z,E)=>{"use strict";var p=E(78341);z.fromCallback=function(S,O){if(void 0===S){var G=new Promise(function(x,B){S=function(A,N){A?B(A):x(N)}});S[void 0!==O?O:"promise"]=G}else if("function"!=typeof S)throw new TypeError("Callback must be a function");return S},z.fromPromise=function(S,O){if(void 0===O)return S;S.then(function(G){p(()=>O(null,G))}).catch(function(G){p(()=>O(G))})}},78341:Be=>{Be.exports="function"==typeof queueMicrotask?queueMicrotask:z=>Promise.resolve().then(z)},3247:(Be,z,E)=>{var p=E(27054).Buffer,S=E(7045).Transform,O=E(78454).StringDecoder;function x(B){S.call(this),this.hashMode="string"==typeof B,this.hashMode?this[B]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}E(71993)(x,S),x.prototype.update=function(B,A,N){"string"==typeof B&&(B=p.from(B,A));var $=this._update(B);return this.hashMode?this:(N&&($=this._toString($,N)),$)},x.prototype.setAutoPadding=function(){},x.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},x.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},x.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},x.prototype._transform=function(B,A,N){var $;try{this.hashMode?this._update(B):this.push(this._update(B))}catch(K){$=K}finally{N($)}},x.prototype._flush=function(B){var A;try{this.push(this.__final())}catch(N){A=N}B(A)},x.prototype._finalOrDigest=function(B){var A=this.__final()||p.alloc(0);return B&&(A=this._toString(A,B,!0)),A},x.prototype._toString=function(B,A,N){if(this._decoder||(this._decoder=new O(A),this._encoding=A),this._encoding!==A)throw new Error("can't switch encodings");var $=this._decoder.write(B);return N&&($+=this._decoder.end()),$},Be.exports=x},27637:(Be,z,E)=>{function Q(te){return Object.prototype.toString.call(te)}z.isArray=function p(te){return Array.isArray?Array.isArray(te):"[object Array]"===Q(te)},z.isBoolean=function S(te){return"boolean"==typeof te},z.isNull=function O(te){return null===te},z.isNullOrUndefined=function G(te){return null==te},z.isNumber=function x(te){return"number"==typeof te},z.isString=function B(te){return"string"==typeof te},z.isSymbol=function A(te){return"symbol"==typeof te},z.isUndefined=function N(te){return void 0===te},z.isRegExp=function $(te){return"[object RegExp]"===Q(te)},z.isObject=function K(te){return"object"==typeof te&&null!==te},z.isDate=function D(te){return"[object Date]"===Q(te)},z.isError=function X(te){return"[object Error]"===Q(te)||te instanceof Error},z.isFunction=function V(te){return"function"==typeof te},z.isPrimitive=function Z(te){return null===te||"boolean"==typeof te||"number"==typeof te||"string"==typeof te||"symbol"==typeof te||typeof te>"u"},z.isBuffer=E(83838).Buffer.isBuffer},87303:(Be,z,E)=>{var p=E(90518),S=E(89606);Be.exports=function(A){return new G(A)};var O={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function G(B){this.curveType=O[B],this.curveType||(this.curveType={name:B}),this.curve=new p.ec(this.curveType.name),this.keys=void 0}function x(B,A,N){Array.isArray(B)||(B=B.toArray());var $=new Buffer(B);if(N&&$.length<N){var K=new Buffer(N-$.length);K.fill(0),$=Buffer.concat([K,$])}return A?$.toString(A):$}O.p224=O.secp224r1,O.p256=O.secp256r1=O.prime256v1,O.p192=O.secp192r1=O.prime192v1,O.p384=O.secp384r1,O.p521=O.secp521r1,G.prototype.generateKeys=function(B,A){return this.keys=this.curve.genKeyPair(),this.getPublicKey(B,A)},G.prototype.computeSecret=function(B,A,N){return A=A||"utf8",Buffer.isBuffer(B)||(B=new Buffer(B,A)),x(this.curve.keyFromPublic(B).getPublic().mul(this.keys.getPrivate()).getX(),N,this.curveType.byteLength)},G.prototype.getPublicKey=function(B,A){var N=this.keys.getPublic("compressed"===A,!0);return"hybrid"===A&&(N[0]=N[N.length-1]%2?7:6),x(N,B)},G.prototype.getPrivateKey=function(B){return x(this.keys.getPrivate(),B)},G.prototype.setPublicKey=function(B,A){return A=A||"utf8",Buffer.isBuffer(B)||(B=new Buffer(B,A)),this.keys._importPublic(B),this},G.prototype.setPrivateKey=function(B,A){A=A||"utf8",Buffer.isBuffer(B)||(B=new Buffer(B,A));var N=new S(B);return N=N.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(N),this}},89606:function(Be,z,E){!function(p,S){"use strict";function O(P,u){if(!P)throw new Error(u||"Assertion failed")}function G(P,u){P.super_=u;var h=function(){};h.prototype=u.prototype,P.prototype=new h,P.prototype.constructor=P}function x(P,u,h){if(x.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,null!==P&&(("le"===u||"be"===u)&&(h=u,u=10),this._init(P||0,u||10,h||"be"))}var B;"object"==typeof p?p.exports=x:S.BN=x,x.BN=x,x.wordSize=26;try{B=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(77965).Buffer}catch{}function A(P,u){var h=P.charCodeAt(u);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(P,u,h){var g=A(P,h);return h-1>=u&&(g|=A(P,h-1)<<4),g}function $(P,u,h,g){for(var w=0,T=Math.min(P.length,h),C=u;C<T;C++){var j=P.charCodeAt(C)-48;w*=g,w+=j>=49?j-49+10:j>=17?j-17+10:j}return w}x.isBN=function(u){return u instanceof x||null!==u&&"object"==typeof u&&u.constructor.wordSize===x.wordSize&&Array.isArray(u.words)},x.max=function(u,h){return u.cmp(h)>0?u:h},x.min=function(u,h){return u.cmp(h)<0?u:h},x.prototype._init=function(u,h,g){if("number"==typeof u)return this._initNumber(u,h,g);if("object"==typeof u)return this._initArray(u,h,g);"hex"===h&&(h=16),O(h===(0|h)&&h>=2&&h<=36);var w=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(w++,this.negative=1),w<u.length&&(16===h?this._parseHex(u,w,g):(this._parseBase(u,h,w),"le"===g&&this._initArray(this.toArray(),h,g)))},x.prototype._initNumber=function(u,h,g){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(O(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===g&&this._initArray(this.toArray(),h,g)},x.prototype._initArray=function(u,h,g){if(O("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var T,C,j=0;if("be"===g)for(w=u.length-1,T=0;w>=0;w-=3)this.words[T]|=(C=u[w]|u[w-1]<<8|u[w-2]<<16)<<j&67108863,this.words[T+1]=C>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);else if("le"===g)for(w=0,T=0;w<u.length;w+=3)this.words[T]|=(C=u[w]|u[w+1]<<8|u[w+2]<<16)<<j&67108863,this.words[T+1]=C>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);return this.strip()},x.prototype._parseHex=function(u,h,g){this.length=Math.ceil((u.length-h)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var j,T=0,C=0;if("be"===g)for(w=u.length-1;w>=h;w-=2)j=N(u,h,w)<<T,this.words[C]|=67108863&j,T>=18?(T-=18,this.words[C+=1]|=j>>>26):T+=8;else for(w=(u.length-h)%2==0?h+1:h;w<u.length;w+=2)j=N(u,h,w)<<T,this.words[C]|=67108863&j,T>=18?(T-=18,this.words[C+=1]|=j>>>26):T+=8;this.strip()},x.prototype._parseBase=function(u,h,g){this.words=[0],this.length=1;for(var w=0,T=1;T<=67108863;T*=h)w++;w--,T=T/h|0;for(var C=u.length-g,j=C%w,M=Math.min(C,C-j)+g,d=0,v=g;v<M;v+=w)d=$(u,v,v+w,h),this.imuln(T),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==j){var W=1;for(d=$(u,v,u.length,h),v=0;v<j;v++)W*=h;this.imuln(W),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},x.prototype.copy=function(u){u.words=new Array(this.length);for(var h=0;h<this.length;h++)u.words[h]=this.words[h];u.length=this.length,u.negative=this.negative,u.red=this.red},x.prototype.clone=function(){var u=new x(null);return this.copy(u),u},x.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var K=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Z(P,u,h){h.negative=u.negative^P.negative;var g=P.length+u.length|0;h.length=g,g=g-1|0;var w=0|P.words[0],T=0|u.words[0],C=w*T,M=C/67108864|0;h.words[0]=67108863&C;for(var d=1;d<g;d++){for(var v=M>>>26,W=67108863&M,H=Math.min(d,u.length-1),ee=Math.max(0,d-P.length+1);ee<=H;ee++)v+=(C=(w=0|P.words[d-ee|0])*(T=0|u.words[ee])+W)/67108864|0,W=67108863&C;h.words[d]=0|W,M=0|v}return 0!==M?h.words[d]=0|M:h.length--,h.strip()}x.prototype.toString=function(u,h){var g;if(h=0|h||1,16===(u=u||10)||"hex"===u){g="";for(var w=0,T=0,C=0;C<this.length;C++){var j=this.words[C],M=(16777215&(j<<w|T)).toString(16);g=0!=(T=j>>>24-w&16777215)||C!==this.length-1?K[6-M.length]+M+g:M+g,(w+=2)>=26&&(w-=26,C--)}for(0!==T&&(g=T.toString(16)+g);g.length%h!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}if(u===(0|u)&&u>=2&&u<=36){var d=D[u],v=X[u];g="";var W=this.clone();for(W.negative=0;!W.isZero();){var H=W.modn(v).toString(u);g=(W=W.idivn(v)).isZero()?H+g:K[d-H.length]+H+g}for(this.isZero()&&(g="0"+g);g.length%h!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}O(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&O(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(u,h){return O(typeof B<"u"),this.toArrayLike(B,u,h)},x.prototype.toArray=function(u,h){return this.toArrayLike(Array,u,h)},x.prototype.toArrayLike=function(u,h,g){var w=this.byteLength(),T=g||Math.max(1,w);O(w<=T,"byte array longer than desired length"),O(T>0,"Requested array length <= 0"),this.strip();var M,d,C="le"===h,j=new u(T),v=this.clone();if(C){for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),j[d]=M;for(;d<T;d++)j[d]=0}else{for(d=0;d<T-w;d++)j[d]=0;for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),j[T-d-1]=M}return j},x.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var h=u,g=0;return h>=4096&&(g+=13,h>>>=13),h>=64&&(g+=7,h>>>=7),h>=8&&(g+=4,h>>>=4),h>=2&&(g+=2,h>>>=2),g+h},x.prototype._zeroBits=function(u){if(0===u)return 26;var h=u,g=0;return 8191&h||(g+=13,h>>>=13),127&h||(g+=7,h>>>=7),15&h||(g+=4,h>>>=4),3&h||(g+=2,h>>>=2),1&h||g++,g},x.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,h=0;h<this.length;h++){var g=this._zeroBits(this.words[h]);if(u+=g,26!==g)break}return u},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},x.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]|u.words[h];return this.strip()},x.prototype.ior=function(u){return O(!(this.negative|u.negative)),this.iuor(u)},x.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},x.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},x.prototype.iuand=function(u){var h;h=this.length>u.length?u:this;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]&u.words[g];return this.length=h.length,this.strip()},x.prototype.iand=function(u){return O(!(this.negative|u.negative)),this.iuand(u)},x.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},x.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},x.prototype.iuxor=function(u){var h,g;this.length>u.length?(h=this,g=u):(h=u,g=this);for(var w=0;w<g.length;w++)this.words[w]=h.words[w]^g.words[w];if(this!==h)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=h.length,this.strip()},x.prototype.ixor=function(u){return O(!(this.negative|u.negative)),this.iuxor(u)},x.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},x.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},x.prototype.inotn=function(u){O("number"==typeof u&&u>=0);var h=0|Math.ceil(u/26),g=u%26;this._expand(h),g>0&&h--;for(var w=0;w<h;w++)this.words[w]=67108863&~this.words[w];return g>0&&(this.words[w]=~this.words[w]&67108863>>26-g),this.strip()},x.prototype.notn=function(u){return this.clone().inotn(u)},x.prototype.setn=function(u,h){O("number"==typeof u&&u>=0);var g=u/26|0,w=u%26;return this._expand(g+1),this.words[g]=h?this.words[g]|1<<w:this.words[g]&~(1<<w),this.strip()},x.prototype.iadd=function(u){var h,g,w;if(0!==this.negative&&0===u.negative)return this.negative=0,h=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,h=this.isub(u),u.negative=1,h._normSign();this.length>u.length?(g=this,w=u):(g=u,w=this);for(var T=0,C=0;C<w.length;C++)this.words[C]=67108863&(h=(0|g.words[C])+(0|w.words[C])+T),T=h>>>26;for(;0!==T&&C<g.length;C++)this.words[C]=67108863&(h=(0|g.words[C])+T),T=h>>>26;if(this.length=g.length,0!==T)this.words[this.length]=T,this.length++;else if(g!==this)for(;C<g.length;C++)this.words[C]=g.words[C];return this},x.prototype.add=function(u){var h;return 0!==u.negative&&0===this.negative?(u.negative=0,h=this.sub(u),u.negative^=1,h):0===u.negative&&0!==this.negative?(this.negative=0,h=u.sub(this),this.negative=1,h):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},x.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var h=this.iadd(u);return u.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var w,T,g=this.cmp(u);if(0===g)return this.negative=0,this.length=1,this.words[0]=0,this;g>0?(w=this,T=u):(w=u,T=this);for(var C=0,j=0;j<T.length;j++)C=(h=(0|w.words[j])-(0|T.words[j])+C)>>26,this.words[j]=67108863&h;for(;0!==C&&j<w.length;j++)C=(h=(0|w.words[j])+C)>>26,this.words[j]=67108863&h;if(0===C&&j<w.length&&w!==this)for(;j<w.length;j++)this.words[j]=w.words[j];return this.length=Math.max(this.length,j),w!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(u){return this.clone().isub(u)};var Q=function(u,h,g){var M,d,v,w=u.words,T=h.words,C=g.words,j=0,W=0|w[0],H=8191&W,ee=W>>>13,fe=0|w[1],Ae=8191&fe,Pe=fe>>>13,Le=0|w[2],be=8191&Le,ge=Le>>>13,Re=0|w[3],me=8191&Re,xe=Re>>>13,le=0|w[4],he=8191&le,re=le>>>13,de=0|w[5],pe=8191&de,Se=de>>>13,ke=0|w[6],Fe=8191&ke,We=ke>>>13,Tt=0|w[7],Xe=8191&Tt,Ke=Tt>>>13,lt=0|w[8],U=8191&lt,_=lt>>>13,m=0|w[9],F=8191&m,ie=m>>>13,we=0|T[0],Ie=8191&we,Qe=we>>>13,kt=0|T[1],pt=8191&kt,Et=kt>>>13,Lt=0|T[2],qt=8191&Lt,Kt=Lt>>>13,er=0|T[3],cn=8191&er,Ut=er>>>13,Nt=0|T[4],dt=8191&Nt,it=Nt>>>13,Ct=0|T[5],Bt=8191&Ct,Wt=Ct>>>13,Yn=0|T[6],at=8191&Yn,ut=Yn>>>13,ft=0|T[7],et=8191&ft,gt=ft>>>13,un=0|T[8],zt=8191&un,tn=un>>>13,pr=0|T[9],bn=8191&pr,vn=pr>>>13;g.negative=u.negative^h.negative,g.length=19;var Or=(j+(M=Math.imul(H,Ie))|0)+((8191&(d=(d=Math.imul(H,Qe))+Math.imul(ee,Ie)|0))<<13)|0;j=((v=Math.imul(ee,Qe))+(d>>>13)|0)+(Or>>>26)|0,Or&=67108863,M=Math.imul(Ae,Ie),d=(d=Math.imul(Ae,Qe))+Math.imul(Pe,Ie)|0,v=Math.imul(Pe,Qe);var Qn=(j+(M=M+Math.imul(H,pt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Et)|0)+Math.imul(ee,pt)|0))<<13)|0;j=((v=v+Math.imul(ee,Et)|0)+(d>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,M=Math.imul(be,Ie),d=(d=Math.imul(be,Qe))+Math.imul(ge,Ie)|0,v=Math.imul(ge,Qe),M=M+Math.imul(Ae,pt)|0,d=(d=d+Math.imul(Ae,Et)|0)+Math.imul(Pe,pt)|0,v=v+Math.imul(Pe,Et)|0;var jn=(j+(M=M+Math.imul(H,qt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Kt)|0)+Math.imul(ee,qt)|0))<<13)|0;j=((v=v+Math.imul(ee,Kt)|0)+(d>>>13)|0)+(jn>>>26)|0,jn&=67108863,M=Math.imul(me,Ie),d=(d=Math.imul(me,Qe))+Math.imul(xe,Ie)|0,v=Math.imul(xe,Qe),M=M+Math.imul(be,pt)|0,d=(d=d+Math.imul(be,Et)|0)+Math.imul(ge,pt)|0,v=v+Math.imul(ge,Et)|0,M=M+Math.imul(Ae,qt)|0,d=(d=d+Math.imul(Ae,Kt)|0)+Math.imul(Pe,qt)|0,v=v+Math.imul(Pe,Kt)|0;var On=(j+(M=M+Math.imul(H,cn)|0)|0)+((8191&(d=(d=d+Math.imul(H,Ut)|0)+Math.imul(ee,cn)|0))<<13)|0;j=((v=v+Math.imul(ee,Ut)|0)+(d>>>13)|0)+(On>>>26)|0,On&=67108863,M=Math.imul(he,Ie),d=(d=Math.imul(he,Qe))+Math.imul(re,Ie)|0,v=Math.imul(re,Qe),M=M+Math.imul(me,pt)|0,d=(d=d+Math.imul(me,Et)|0)+Math.imul(xe,pt)|0,v=v+Math.imul(xe,Et)|0,M=M+Math.imul(be,qt)|0,d=(d=d+Math.imul(be,Kt)|0)+Math.imul(ge,qt)|0,v=v+Math.imul(ge,Kt)|0,M=M+Math.imul(Ae,cn)|0,d=(d=d+Math.imul(Ae,Ut)|0)+Math.imul(Pe,cn)|0,v=v+Math.imul(Pe,Ut)|0;var Vn=(j+(M=M+Math.imul(H,dt)|0)|0)+((8191&(d=(d=d+Math.imul(H,it)|0)+Math.imul(ee,dt)|0))<<13)|0;j=((v=v+Math.imul(ee,it)|0)+(d>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,M=Math.imul(pe,Ie),d=(d=Math.imul(pe,Qe))+Math.imul(Se,Ie)|0,v=Math.imul(Se,Qe),M=M+Math.imul(he,pt)|0,d=(d=d+Math.imul(he,Et)|0)+Math.imul(re,pt)|0,v=v+Math.imul(re,Et)|0,M=M+Math.imul(me,qt)|0,d=(d=d+Math.imul(me,Kt)|0)+Math.imul(xe,qt)|0,v=v+Math.imul(xe,Kt)|0,M=M+Math.imul(be,cn)|0,d=(d=d+Math.imul(be,Ut)|0)+Math.imul(ge,cn)|0,v=v+Math.imul(ge,Ut)|0,M=M+Math.imul(Ae,dt)|0,d=(d=d+Math.imul(Ae,it)|0)+Math.imul(Pe,dt)|0,v=v+Math.imul(Pe,it)|0;var Hn=(j+(M=M+Math.imul(H,Bt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Wt)|0)+Math.imul(ee,Bt)|0))<<13)|0;j=((v=v+Math.imul(ee,Wt)|0)+(d>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,M=Math.imul(Fe,Ie),d=(d=Math.imul(Fe,Qe))+Math.imul(We,Ie)|0,v=Math.imul(We,Qe),M=M+Math.imul(pe,pt)|0,d=(d=d+Math.imul(pe,Et)|0)+Math.imul(Se,pt)|0,v=v+Math.imul(Se,Et)|0,M=M+Math.imul(he,qt)|0,d=(d=d+Math.imul(he,Kt)|0)+Math.imul(re,qt)|0,v=v+Math.imul(re,Kt)|0,M=M+Math.imul(me,cn)|0,d=(d=d+Math.imul(me,Ut)|0)+Math.imul(xe,cn)|0,v=v+Math.imul(xe,Ut)|0,M=M+Math.imul(be,dt)|0,d=(d=d+Math.imul(be,it)|0)+Math.imul(ge,dt)|0,v=v+Math.imul(ge,it)|0,M=M+Math.imul(Ae,Bt)|0,d=(d=d+Math.imul(Ae,Wt)|0)+Math.imul(Pe,Bt)|0,v=v+Math.imul(Pe,Wt)|0;var ar=(j+(M=M+Math.imul(H,at)|0)|0)+((8191&(d=(d=d+Math.imul(H,ut)|0)+Math.imul(ee,at)|0))<<13)|0;j=((v=v+Math.imul(ee,ut)|0)+(d>>>13)|0)+(ar>>>26)|0,ar&=67108863,M=Math.imul(Xe,Ie),d=(d=Math.imul(Xe,Qe))+Math.imul(Ke,Ie)|0,v=Math.imul(Ke,Qe),M=M+Math.imul(Fe,pt)|0,d=(d=d+Math.imul(Fe,Et)|0)+Math.imul(We,pt)|0,v=v+Math.imul(We,Et)|0,M=M+Math.imul(pe,qt)|0,d=(d=d+Math.imul(pe,Kt)|0)+Math.imul(Se,qt)|0,v=v+Math.imul(Se,Kt)|0,M=M+Math.imul(he,cn)|0,d=(d=d+Math.imul(he,Ut)|0)+Math.imul(re,cn)|0,v=v+Math.imul(re,Ut)|0,M=M+Math.imul(me,dt)|0,d=(d=d+Math.imul(me,it)|0)+Math.imul(xe,dt)|0,v=v+Math.imul(xe,it)|0,M=M+Math.imul(be,Bt)|0,d=(d=d+Math.imul(be,Wt)|0)+Math.imul(ge,Bt)|0,v=v+Math.imul(ge,Wt)|0,M=M+Math.imul(Ae,at)|0,d=(d=d+Math.imul(Ae,ut)|0)+Math.imul(Pe,at)|0,v=v+Math.imul(Pe,ut)|0;var qn=(j+(M=M+Math.imul(H,et)|0)|0)+((8191&(d=(d=d+Math.imul(H,gt)|0)+Math.imul(ee,et)|0))<<13)|0;j=((v=v+Math.imul(ee,gt)|0)+(d>>>13)|0)+(qn>>>26)|0,qn&=67108863,M=Math.imul(U,Ie),d=(d=Math.imul(U,Qe))+Math.imul(_,Ie)|0,v=Math.imul(_,Qe),M=M+Math.imul(Xe,pt)|0,d=(d=d+Math.imul(Xe,Et)|0)+Math.imul(Ke,pt)|0,v=v+Math.imul(Ke,Et)|0,M=M+Math.imul(Fe,qt)|0,d=(d=d+Math.imul(Fe,Kt)|0)+Math.imul(We,qt)|0,v=v+Math.imul(We,Kt)|0,M=M+Math.imul(pe,cn)|0,d=(d=d+Math.imul(pe,Ut)|0)+Math.imul(Se,cn)|0,v=v+Math.imul(Se,Ut)|0,M=M+Math.imul(he,dt)|0,d=(d=d+Math.imul(he,it)|0)+Math.imul(re,dt)|0,v=v+Math.imul(re,it)|0,M=M+Math.imul(me,Bt)|0,d=(d=d+Math.imul(me,Wt)|0)+Math.imul(xe,Bt)|0,v=v+Math.imul(xe,Wt)|0,M=M+Math.imul(be,at)|0,d=(d=d+Math.imul(be,ut)|0)+Math.imul(ge,at)|0,v=v+Math.imul(ge,ut)|0,M=M+Math.imul(Ae,et)|0,d=(d=d+Math.imul(Ae,gt)|0)+Math.imul(Pe,et)|0,v=v+Math.imul(Pe,gt)|0;var vr=(j+(M=M+Math.imul(H,zt)|0)|0)+((8191&(d=(d=d+Math.imul(H,tn)|0)+Math.imul(ee,zt)|0))<<13)|0;j=((v=v+Math.imul(ee,tn)|0)+(d>>>13)|0)+(vr>>>26)|0,vr&=67108863,M=Math.imul(F,Ie),d=(d=Math.imul(F,Qe))+Math.imul(ie,Ie)|0,v=Math.imul(ie,Qe),M=M+Math.imul(U,pt)|0,d=(d=d+Math.imul(U,Et)|0)+Math.imul(_,pt)|0,v=v+Math.imul(_,Et)|0,M=M+Math.imul(Xe,qt)|0,d=(d=d+Math.imul(Xe,Kt)|0)+Math.imul(Ke,qt)|0,v=v+Math.imul(Ke,Kt)|0,M=M+Math.imul(Fe,cn)|0,d=(d=d+Math.imul(Fe,Ut)|0)+Math.imul(We,cn)|0,v=v+Math.imul(We,Ut)|0,M=M+Math.imul(pe,dt)|0,d=(d=d+Math.imul(pe,it)|0)+Math.imul(Se,dt)|0,v=v+Math.imul(Se,it)|0,M=M+Math.imul(he,Bt)|0,d=(d=d+Math.imul(he,Wt)|0)+Math.imul(re,Bt)|0,v=v+Math.imul(re,Wt)|0,M=M+Math.imul(me,at)|0,d=(d=d+Math.imul(me,ut)|0)+Math.imul(xe,at)|0,v=v+Math.imul(xe,ut)|0,M=M+Math.imul(be,et)|0,d=(d=d+Math.imul(be,gt)|0)+Math.imul(ge,et)|0,v=v+Math.imul(ge,gt)|0,M=M+Math.imul(Ae,zt)|0,d=(d=d+Math.imul(Ae,tn)|0)+Math.imul(Pe,zt)|0,v=v+Math.imul(Pe,tn)|0;var _r=(j+(M=M+Math.imul(H,bn)|0)|0)+((8191&(d=(d=d+Math.imul(H,vn)|0)+Math.imul(ee,bn)|0))<<13)|0;j=((v=v+Math.imul(ee,vn)|0)+(d>>>13)|0)+(_r>>>26)|0,_r&=67108863,M=Math.imul(F,pt),d=(d=Math.imul(F,Et))+Math.imul(ie,pt)|0,v=Math.imul(ie,Et),M=M+Math.imul(U,qt)|0,d=(d=d+Math.imul(U,Kt)|0)+Math.imul(_,qt)|0,v=v+Math.imul(_,Kt)|0,M=M+Math.imul(Xe,cn)|0,d=(d=d+Math.imul(Xe,Ut)|0)+Math.imul(Ke,cn)|0,v=v+Math.imul(Ke,Ut)|0,M=M+Math.imul(Fe,dt)|0,d=(d=d+Math.imul(Fe,it)|0)+Math.imul(We,dt)|0,v=v+Math.imul(We,it)|0,M=M+Math.imul(pe,Bt)|0,d=(d=d+Math.imul(pe,Wt)|0)+Math.imul(Se,Bt)|0,v=v+Math.imul(Se,Wt)|0,M=M+Math.imul(he,at)|0,d=(d=d+Math.imul(he,ut)|0)+Math.imul(re,at)|0,v=v+Math.imul(re,ut)|0,M=M+Math.imul(me,et)|0,d=(d=d+Math.imul(me,gt)|0)+Math.imul(xe,et)|0,v=v+Math.imul(xe,gt)|0,M=M+Math.imul(be,zt)|0,d=(d=d+Math.imul(be,tn)|0)+Math.imul(ge,zt)|0,v=v+Math.imul(ge,tn)|0;var Er=(j+(M=M+Math.imul(Ae,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Ae,vn)|0)+Math.imul(Pe,bn)|0))<<13)|0;j=((v=v+Math.imul(Pe,vn)|0)+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,M=Math.imul(F,qt),d=(d=Math.imul(F,Kt))+Math.imul(ie,qt)|0,v=Math.imul(ie,Kt),M=M+Math.imul(U,cn)|0,d=(d=d+Math.imul(U,Ut)|0)+Math.imul(_,cn)|0,v=v+Math.imul(_,Ut)|0,M=M+Math.imul(Xe,dt)|0,d=(d=d+Math.imul(Xe,it)|0)+Math.imul(Ke,dt)|0,v=v+Math.imul(Ke,it)|0,M=M+Math.imul(Fe,Bt)|0,d=(d=d+Math.imul(Fe,Wt)|0)+Math.imul(We,Bt)|0,v=v+Math.imul(We,Wt)|0,M=M+Math.imul(pe,at)|0,d=(d=d+Math.imul(pe,ut)|0)+Math.imul(Se,at)|0,v=v+Math.imul(Se,ut)|0,M=M+Math.imul(he,et)|0,d=(d=d+Math.imul(he,gt)|0)+Math.imul(re,et)|0,v=v+Math.imul(re,gt)|0,M=M+Math.imul(me,zt)|0,d=(d=d+Math.imul(me,tn)|0)+Math.imul(xe,zt)|0,v=v+Math.imul(xe,tn)|0;var mr=(j+(M=M+Math.imul(be,bn)|0)|0)+((8191&(d=(d=d+Math.imul(be,vn)|0)+Math.imul(ge,bn)|0))<<13)|0;j=((v=v+Math.imul(ge,vn)|0)+(d>>>13)|0)+(mr>>>26)|0,mr&=67108863,M=Math.imul(F,cn),d=(d=Math.imul(F,Ut))+Math.imul(ie,cn)|0,v=Math.imul(ie,Ut),M=M+Math.imul(U,dt)|0,d=(d=d+Math.imul(U,it)|0)+Math.imul(_,dt)|0,v=v+Math.imul(_,it)|0,M=M+Math.imul(Xe,Bt)|0,d=(d=d+Math.imul(Xe,Wt)|0)+Math.imul(Ke,Bt)|0,v=v+Math.imul(Ke,Wt)|0,M=M+Math.imul(Fe,at)|0,d=(d=d+Math.imul(Fe,ut)|0)+Math.imul(We,at)|0,v=v+Math.imul(We,ut)|0,M=M+Math.imul(pe,et)|0,d=(d=d+Math.imul(pe,gt)|0)+Math.imul(Se,et)|0,v=v+Math.imul(Se,gt)|0,M=M+Math.imul(he,zt)|0,d=(d=d+Math.imul(he,tn)|0)+Math.imul(re,zt)|0,v=v+Math.imul(re,tn)|0;var Rr=(j+(M=M+Math.imul(me,bn)|0)|0)+((8191&(d=(d=d+Math.imul(me,vn)|0)+Math.imul(xe,bn)|0))<<13)|0;j=((v=v+Math.imul(xe,vn)|0)+(d>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,M=Math.imul(F,dt),d=(d=Math.imul(F,it))+Math.imul(ie,dt)|0,v=Math.imul(ie,it),M=M+Math.imul(U,Bt)|0,d=(d=d+Math.imul(U,Wt)|0)+Math.imul(_,Bt)|0,v=v+Math.imul(_,Wt)|0,M=M+Math.imul(Xe,at)|0,d=(d=d+Math.imul(Xe,ut)|0)+Math.imul(Ke,at)|0,v=v+Math.imul(Ke,ut)|0,M=M+Math.imul(Fe,et)|0,d=(d=d+Math.imul(Fe,gt)|0)+Math.imul(We,et)|0,v=v+Math.imul(We,gt)|0,M=M+Math.imul(pe,zt)|0,d=(d=d+Math.imul(pe,tn)|0)+Math.imul(Se,zt)|0,v=v+Math.imul(Se,tn)|0;var Br=(j+(M=M+Math.imul(he,bn)|0)|0)+((8191&(d=(d=d+Math.imul(he,vn)|0)+Math.imul(re,bn)|0))<<13)|0;j=((v=v+Math.imul(re,vn)|0)+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,M=Math.imul(F,Bt),d=(d=Math.imul(F,Wt))+Math.imul(ie,Bt)|0,v=Math.imul(ie,Wt),M=M+Math.imul(U,at)|0,d=(d=d+Math.imul(U,ut)|0)+Math.imul(_,at)|0,v=v+Math.imul(_,ut)|0,M=M+Math.imul(Xe,et)|0,d=(d=d+Math.imul(Xe,gt)|0)+Math.imul(Ke,et)|0,v=v+Math.imul(Ke,gt)|0,M=M+Math.imul(Fe,zt)|0,d=(d=d+Math.imul(Fe,tn)|0)+Math.imul(We,zt)|0,v=v+Math.imul(We,tn)|0;var kr=(j+(M=M+Math.imul(pe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(pe,vn)|0)+Math.imul(Se,bn)|0))<<13)|0;j=((v=v+Math.imul(Se,vn)|0)+(d>>>13)|0)+(kr>>>26)|0,kr&=67108863,M=Math.imul(F,at),d=(d=Math.imul(F,ut))+Math.imul(ie,at)|0,v=Math.imul(ie,ut),M=M+Math.imul(U,et)|0,d=(d=d+Math.imul(U,gt)|0)+Math.imul(_,et)|0,v=v+Math.imul(_,gt)|0,M=M+Math.imul(Xe,zt)|0,d=(d=d+Math.imul(Xe,tn)|0)+Math.imul(Ke,zt)|0,v=v+Math.imul(Ke,tn)|0;var jr=(j+(M=M+Math.imul(Fe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Fe,vn)|0)+Math.imul(We,bn)|0))<<13)|0;j=((v=v+Math.imul(We,vn)|0)+(d>>>13)|0)+(jr>>>26)|0,jr&=67108863,M=Math.imul(F,et),d=(d=Math.imul(F,gt))+Math.imul(ie,et)|0,v=Math.imul(ie,gt),M=M+Math.imul(U,zt)|0,d=(d=d+Math.imul(U,tn)|0)+Math.imul(_,zt)|0,v=v+Math.imul(_,tn)|0;var Yr=(j+(M=M+Math.imul(Xe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Xe,vn)|0)+Math.imul(Ke,bn)|0))<<13)|0;j=((v=v+Math.imul(Ke,vn)|0)+(d>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,M=Math.imul(F,zt),d=(d=Math.imul(F,tn))+Math.imul(ie,zt)|0,v=Math.imul(ie,tn);var wt=(j+(M=M+Math.imul(U,bn)|0)|0)+((8191&(d=(d=d+Math.imul(U,vn)|0)+Math.imul(_,bn)|0))<<13)|0;j=((v=v+Math.imul(_,vn)|0)+(d>>>13)|0)+(wt>>>26)|0,wt&=67108863;var Pt=(j+(M=Math.imul(F,bn))|0)+((8191&(d=(d=Math.imul(F,vn))+Math.imul(ie,bn)|0))<<13)|0;return j=((v=Math.imul(ie,vn))+(d>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,C[0]=Or,C[1]=Qn,C[2]=jn,C[3]=On,C[4]=Vn,C[5]=Hn,C[6]=ar,C[7]=qn,C[8]=vr,C[9]=_r,C[10]=Er,C[11]=mr,C[12]=Rr,C[13]=Br,C[14]=kr,C[15]=jr,C[16]=Yr,C[17]=wt,C[18]=Pt,0!==j&&(C[19]=j,g.length++),g};function J(P,u,h){return(new q).mulp(P,u,h)}function q(P,u){this.x=P,this.y=u}Math.imul||(Q=Z),x.prototype.mulTo=function(u,h){var g,w=this.length+u.length;return g=10===this.length&&10===u.length?Q(this,u,h):w<63?Z(this,u,h):w<1024?function te(P,u,h){h.negative=u.negative^P.negative,h.length=P.length+u.length;for(var g=0,w=0,T=0;T<h.length-1;T++){var C=w;w=0;for(var j=67108863&g,M=Math.min(T,u.length-1),d=Math.max(0,T-P.length+1);d<=M;d++){var ee=(0|P.words[T-d])*(0|u.words[d]),fe=67108863&ee;j=67108863&(fe=fe+j|0),w+=(C=(C=C+(ee/67108864|0)|0)+(fe>>>26)|0)>>>26,C&=67108863}h.words[T]=j,g=C,C=w}return 0!==g?h.words[T]=g:h.length--,h.strip()}(this,u,h):J(this,u,h),g},q.prototype.makeRBT=function(u){for(var h=new Array(u),g=x.prototype._countBits(u)-1,w=0;w<u;w++)h[w]=this.revBin(w,g,u);return h},q.prototype.revBin=function(u,h,g){if(0===u||u===g-1)return u;for(var w=0,T=0;T<h;T++)w|=(1&u)<<h-T-1,u>>=1;return w},q.prototype.permute=function(u,h,g,w,T,C){for(var j=0;j<C;j++)w[j]=h[u[j]],T[j]=g[u[j]]},q.prototype.transform=function(u,h,g,w,T,C){this.permute(C,u,h,g,w,T);for(var j=1;j<T;j<<=1)for(var M=j<<1,d=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<T;W+=M)for(var H=d,ee=v,fe=0;fe<j;fe++){var Ae=g[W+fe],Pe=w[W+fe],Le=g[W+fe+j],be=w[W+fe+j],ge=H*Le-ee*be;be=H*be+ee*Le,g[W+fe]=Ae+(Le=ge),w[W+fe]=Pe+be,g[W+fe+j]=Ae-Le,w[W+fe+j]=Pe-be,fe!==M&&(ge=d*H-v*ee,ee=d*ee+v*H,H=ge)}},q.prototype.guessLen13b=function(u,h){var g=1|Math.max(h,u),w=1&g,T=0;for(g=g/2|0;g;g>>>=1)T++;return 1<<T+1+w},q.prototype.conjugate=function(u,h,g){if(!(g<=1))for(var w=0;w<g/2;w++){var T=u[w];u[w]=u[g-w-1],u[g-w-1]=T,T=h[w],h[w]=-h[g-w-1],h[g-w-1]=-T}},q.prototype.normalize13b=function(u,h){for(var g=0,w=0;w<h/2;w++){var T=8192*Math.round(u[2*w+1]/h)+Math.round(u[2*w]/h)+g;u[w]=67108863&T,g=T<67108864?0:T/67108864|0}return u},q.prototype.convert13b=function(u,h,g,w){for(var T=0,C=0;C<h;C++)g[2*C]=8191&(T+=0|u[C]),g[2*C+1]=8191&(T>>>=13),T>>>=13;for(C=2*h;C<w;++C)g[C]=0;O(0===T),O(!(-8192&T))},q.prototype.stub=function(u){for(var h=new Array(u),g=0;g<u;g++)h[g]=0;return h},q.prototype.mulp=function(u,h,g){var w=2*this.guessLen13b(u.length,h.length),T=this.makeRBT(w),C=this.stub(w),j=new Array(w),M=new Array(w),d=new Array(w),v=new Array(w),W=new Array(w),H=new Array(w),ee=g.words;ee.length=w,this.convert13b(u.words,u.length,j,w),this.convert13b(h.words,h.length,v,w),this.transform(j,C,M,d,w,T),this.transform(v,C,W,H,w,T);for(var fe=0;fe<w;fe++){var Ae=M[fe]*W[fe]-d[fe]*H[fe];d[fe]=M[fe]*H[fe]+d[fe]*W[fe],M[fe]=Ae}return this.conjugate(M,d,w),this.transform(M,d,ee,C,w,T),this.conjugate(ee,C,w),this.normalize13b(ee,w),g.negative=u.negative^h.negative,g.length=u.length+h.length,g.strip()},x.prototype.mul=function(u){var h=new x(null);return h.words=new Array(this.length+u.length),this.mulTo(u,h)},x.prototype.mulf=function(u){var h=new x(null);return h.words=new Array(this.length+u.length),J(this,u,h)},x.prototype.imul=function(u){return this.clone().mulTo(u,this)},x.prototype.imuln=function(u){O("number"==typeof u),O(u<67108864);for(var h=0,g=0;g<this.length;g++){var w=(0|this.words[g])*u,T=(67108863&w)+(67108863&h);h>>=26,h+=w/67108864|0,h+=T>>>26,this.words[g]=67108863&T}return 0!==h&&(this.words[g]=h,this.length++),this},x.prototype.muln=function(u){return this.clone().imuln(u)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(u){var h=function V(P){for(var u=new Array(P.bitLength()),h=0;h<u.length;h++){var w=h%26;u[h]=(P.words[h/26|0]&1<<w)>>>w}return u}(u);if(0===h.length)return new x(1);for(var g=this,w=0;w<h.length&&0===h[w];w++,g=g.sqr());if(++w<h.length)for(var T=g.sqr();w<h.length;w++,T=T.sqr())0!==h[w]&&(g=g.mul(T));return g},x.prototype.iushln=function(u){O("number"==typeof u&&u>=0);var T,h=u%26,g=(u-h)/26,w=67108863>>>26-h<<26-h;if(0!==h){var C=0;for(T=0;T<this.length;T++){var j=this.words[T]&w;this.words[T]=(0|this.words[T])-j<<h|C,C=j>>>26-h}C&&(this.words[T]=C,this.length++)}if(0!==g){for(T=this.length-1;T>=0;T--)this.words[T+g]=this.words[T];for(T=0;T<g;T++)this.words[T]=0;this.length+=g}return this.strip()},x.prototype.ishln=function(u){return O(0===this.negative),this.iushln(u)},x.prototype.iushrn=function(u,h,g){var w;O("number"==typeof u&&u>=0),w=h?(h-h%26)/26:0;var T=u%26,C=Math.min((u-T)/26,this.length),j=67108863^67108863>>>T<<T,M=g;if(w-=C,w=Math.max(0,w),M){for(var d=0;d<C;d++)M.words[d]=this.words[d];M.length=C}if(0!==C)if(this.length>C)for(this.length-=C,d=0;d<this.length;d++)this.words[d]=this.words[d+C];else this.words[0]=0,this.length=1;var v=0;for(d=this.length-1;d>=0&&(0!==v||d>=w);d--){var W=0|this.words[d];this.words[d]=v<<26-T|W>>>T,v=W&j}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(u,h,g){return O(0===this.negative),this.iushrn(u,h,g)},x.prototype.shln=function(u){return this.clone().ishln(u)},x.prototype.ushln=function(u){return this.clone().iushln(u)},x.prototype.shrn=function(u){return this.clone().ishrn(u)},x.prototype.ushrn=function(u){return this.clone().iushrn(u)},x.prototype.testn=function(u){O("number"==typeof u&&u>=0);var h=u%26,g=(u-h)/26;return!(this.length<=g||!(this.words[g]&1<<h))},x.prototype.imaskn=function(u){O("number"==typeof u&&u>=0);var h=u%26,g=(u-h)/26;return O(0===this.negative,"imaskn works only with positive numbers"),this.length<=g?this:(0!==h&&g++,this.length=Math.min(g,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},x.prototype.maskn=function(u){return this.clone().imaskn(u)},x.prototype.iaddn=function(u){return O("number"==typeof u),O(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},x.prototype._iaddn=function(u){this.words[0]+=u;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},x.prototype.isubn=function(u){if(O("number"==typeof u),O(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},x.prototype.addn=function(u){return this.clone().iaddn(u)},x.prototype.subn=function(u){return this.clone().isubn(u)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(u,h,g){var T;this._expand(u.length+g);var C,j=0;for(T=0;T<u.length;T++){C=(0|this.words[T+g])+j;var M=(0|u.words[T])*h;j=((C-=67108863&M)>>26)-(M/67108864|0),this.words[T+g]=67108863&C}for(;T<this.length-g;T++)j=(C=(0|this.words[T+g])+j)>>26,this.words[T+g]=67108863&C;if(0===j)return this.strip();for(O(-1===j),j=0,T=0;T<this.length;T++)j=(C=-(0|this.words[T])+j)>>26,this.words[T]=67108863&C;return this.negative=1,this.strip()},x.prototype._wordDiv=function(u,h){var g,w=this.clone(),T=u,C=0|T.words[T.length-1];0!=(g=26-this._countBits(C))&&(T=T.ushln(g),w.iushln(g),C=0|T.words[T.length-1]);var d,M=w.length-T.length;if("mod"!==h){(d=new x(null)).length=M+1,d.words=new Array(d.length);for(var v=0;v<d.length;v++)d.words[v]=0}var W=w.clone()._ishlnsubmul(T,1,M);0===W.negative&&(w=W,d&&(d.words[M]=1));for(var H=M-1;H>=0;H--){var ee=67108864*(0|w.words[T.length+H])+(0|w.words[T.length+H-1]);for(ee=Math.min(ee/C|0,67108863),w._ishlnsubmul(T,ee,H);0!==w.negative;)ee--,w.negative=0,w._ishlnsubmul(T,1,H),w.isZero()||(w.negative^=1);d&&(d.words[H]=ee)}return d&&d.strip(),w.strip(),"div"!==h&&0!==g&&w.iushrn(g),{div:d||null,mod:w}},x.prototype.divmod=function(u,h,g){return O(!u.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===u.negative?(C=this.neg().divmod(u,h),"mod"!==h&&(w=C.div.neg()),"div"!==h&&(T=C.mod.neg(),g&&0!==T.negative&&T.iadd(u)),{div:w,mod:T}):0===this.negative&&0!==u.negative?(C=this.divmod(u.neg(),h),"mod"!==h&&(w=C.div.neg()),{div:w,mod:C.mod}):this.negative&u.negative?(C=this.neg().divmod(u.neg(),h),"div"!==h&&(T=C.mod.neg(),g&&0!==T.negative&&T.isub(u)),{div:C.div,mod:T}):u.length>this.length||this.cmp(u)<0?{div:new x(0),mod:this}:1===u.length?"div"===h?{div:this.divn(u.words[0]),mod:null}:"mod"===h?{div:null,mod:new x(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new x(this.modn(u.words[0]))}:this._wordDiv(u,h);var w,T,C},x.prototype.div=function(u){return this.divmod(u,"div",!1).div},x.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},x.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},x.prototype.divRound=function(u){var h=this.divmod(u);if(h.mod.isZero())return h.div;var g=0!==h.div.negative?h.mod.isub(u):h.mod,w=u.ushrn(1),T=u.andln(1),C=g.cmp(w);return C<0||1===T&&0===C?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},x.prototype.modn=function(u){O(u<=67108863);for(var h=(1<<26)%u,g=0,w=this.length-1;w>=0;w--)g=(h*g+(0|this.words[w]))%u;return g},x.prototype.idivn=function(u){O(u<=67108863);for(var h=0,g=this.length-1;g>=0;g--){var w=(0|this.words[g])+67108864*h;this.words[g]=w/u|0,h=w%u}return this.strip()},x.prototype.divn=function(u){return this.clone().idivn(u)},x.prototype.egcd=function(u){O(0===u.negative),O(!u.isZero());var h=this,g=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new x(1),T=new x(0),C=new x(0),j=new x(1),M=0;h.isEven()&&g.isEven();)h.iushrn(1),g.iushrn(1),++M;for(var d=g.clone(),v=h.clone();!h.isZero();){for(var W=0,H=1;!(h.words[0]&H)&&W<26;++W,H<<=1);if(W>0)for(h.iushrn(W);W-- >0;)(w.isOdd()||T.isOdd())&&(w.iadd(d),T.isub(v)),w.iushrn(1),T.iushrn(1);for(var ee=0,fe=1;!(g.words[0]&fe)&&ee<26;++ee,fe<<=1);if(ee>0)for(g.iushrn(ee);ee-- >0;)(C.isOdd()||j.isOdd())&&(C.iadd(d),j.isub(v)),C.iushrn(1),j.iushrn(1);h.cmp(g)>=0?(h.isub(g),w.isub(C),T.isub(j)):(g.isub(h),C.isub(w),j.isub(T))}return{a:C,b:j,gcd:g.iushln(M)}},x.prototype._invmp=function(u){O(0===u.negative),O(!u.isZero());var W,h=this,g=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new x(1),T=new x(0),C=g.clone();h.cmpn(1)>0&&g.cmpn(1)>0;){for(var j=0,M=1;!(h.words[0]&M)&&j<26;++j,M<<=1);if(j>0)for(h.iushrn(j);j-- >0;)w.isOdd()&&w.iadd(C),w.iushrn(1);for(var d=0,v=1;!(g.words[0]&v)&&d<26;++d,v<<=1);if(d>0)for(g.iushrn(d);d-- >0;)T.isOdd()&&T.iadd(C),T.iushrn(1);h.cmp(g)>=0?(h.isub(g),w.isub(T)):(g.isub(h),T.isub(w))}return(W=0===h.cmpn(1)?w:T).cmpn(0)<0&&W.iadd(u),W},x.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var h=this.clone(),g=u.clone();h.negative=0,g.negative=0;for(var w=0;h.isEven()&&g.isEven();w++)h.iushrn(1),g.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;g.isEven();)g.iushrn(1);var T=h.cmp(g);if(T<0){var C=h;h=g,g=C}else if(0===T||0===g.cmpn(1))break;h.isub(g)}return g.iushln(w)},x.prototype.invm=function(u){return this.egcd(u).a.umod(u)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(u){return this.words[0]&u},x.prototype.bincn=function(u){O("number"==typeof u);var h=u%26,g=(u-h)/26,w=1<<h;if(this.length<=g)return this._expand(g+1),this.words[g]|=w,this;for(var T=w,C=g;0!==T&&C<this.length;C++){var j=0|this.words[C];T=(j+=T)>>>26,this.words[C]=j&=67108863}return 0!==T&&(this.words[C]=T,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(u){var g,h=u<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)g=1;else{h&&(u=-u),O(u<=67108863,"Number is too big");var w=0|this.words[0];g=w===u?0:w<u?-1:1}return 0!==this.negative?0|-g:g},x.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var h=this.ucmp(u);return 0!==this.negative?0|-h:h},x.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var h=0,g=this.length-1;g>=0;g--){var w=0|this.words[g],T=0|u.words[g];if(w!==T){w<T?h=-1:w>T&&(h=1);break}}return h},x.prototype.gtn=function(u){return 1===this.cmpn(u)},x.prototype.gt=function(u){return 1===this.cmp(u)},x.prototype.gten=function(u){return this.cmpn(u)>=0},x.prototype.gte=function(u){return this.cmp(u)>=0},x.prototype.ltn=function(u){return-1===this.cmpn(u)},x.prototype.lt=function(u){return-1===this.cmp(u)},x.prototype.lten=function(u){return this.cmpn(u)<=0},x.prototype.lte=function(u){return this.cmp(u)<=0},x.prototype.eqn=function(u){return 0===this.cmpn(u)},x.prototype.eq=function(u){return 0===this.cmp(u)},x.red=function(u){return new _e(u)},x.prototype.toRed=function(u){return O(!this.red,"Already a number in reduction context"),O(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},x.prototype.fromRed=function(){return O(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(u){return this.red=u,this},x.prototype.forceRed=function(u){return O(!this.red,"Already a number in reduction context"),this._forceRed(u)},x.prototype.redAdd=function(u){return O(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},x.prototype.redIAdd=function(u){return O(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},x.prototype.redSub=function(u){return O(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},x.prototype.redISub=function(u){return O(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},x.prototype.redShl=function(u){return O(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},x.prototype.redMul=function(u){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},x.prototype.redIMul=function(u){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},x.prototype.redSqr=function(){return O(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return O(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return O(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return O(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return O(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(u){return O(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var ne={k256:null,p224:null,p192:null,p25519:null};function se(P,u){this.name=P,this.p=new x(u,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function oe(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ae(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function ve(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _e(P){if("string"==typeof P){var u=x._prime(P);this.m=u.p,this.prime=u}else O(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}function De(P){_e.call(this,P),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se.prototype._tmp=function(){var u=new x(null);return u.words=new Array(Math.ceil(this.n/13)),u},se.prototype.ireduce=function(u){var g,h=u;do{this.split(h,this.tmp),g=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(g>this.n);var w=g<this.n?-1:h.ucmp(this.p);return 0===w?(h.words[0]=0,h.length=1):w>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},se.prototype.split=function(u,h){u.iushrn(this.n,0,h)},se.prototype.imulK=function(u){return u.imul(this.k)},G(oe,se),oe.prototype.split=function(u,h){for(var g=4194303,w=Math.min(u.length,9),T=0;T<w;T++)h.words[T]=u.words[T];if(h.length=w,u.length<=9)return u.words[0]=0,void(u.length=1);var C=u.words[9];for(h.words[h.length++]=C&g,T=10;T<u.length;T++){var j=0|u.words[T];u.words[T-10]=(j&g)<<4|C>>>22,C=j}u.words[T-10]=C>>>=22,u.length-=0===C&&u.length>10?10:9},oe.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var h=0,g=0;g<u.length;g++){var w=0|u.words[g];u.words[g]=67108863&(h+=977*w),h=64*w+(h/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},G(ue,se),G(ae,se),G(ve,se),ve.prototype.imulK=function(u){for(var h=0,g=0;g<u.length;g++){var w=19*(0|u.words[g])+h,T=67108863&w;w>>>=26,u.words[g]=T,h=w}return 0!==h&&(u.words[u.length++]=h),u},x._prime=function(u){if(ne[u])return ne[u];var h;if("k256"===u)h=new oe;else if("p224"===u)h=new ue;else if("p192"===u)h=new ae;else{if("p25519"!==u)throw new Error("Unknown prime "+u);h=new ve}return ne[u]=h,h},_e.prototype._verify1=function(u){O(0===u.negative,"red works only with positives"),O(u.red,"red works only with red numbers")},_e.prototype._verify2=function(u,h){O(!(u.negative|h.negative),"red works only with positives"),O(u.red&&u.red===h.red,"red works only with red numbers")},_e.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},_e.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},_e.prototype.add=function(u,h){this._verify2(u,h);var g=u.add(h);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},_e.prototype.iadd=function(u,h){this._verify2(u,h);var g=u.iadd(h);return g.cmp(this.m)>=0&&g.isub(this.m),g},_e.prototype.sub=function(u,h){this._verify2(u,h);var g=u.sub(h);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},_e.prototype.isub=function(u,h){this._verify2(u,h);var g=u.isub(h);return g.cmpn(0)<0&&g.iadd(this.m),g},_e.prototype.shl=function(u,h){return this._verify1(u),this.imod(u.ushln(h))},_e.prototype.imul=function(u,h){return this._verify2(u,h),this.imod(u.imul(h))},_e.prototype.mul=function(u,h){return this._verify2(u,h),this.imod(u.mul(h))},_e.prototype.isqr=function(u){return this.imul(u,u.clone())},_e.prototype.sqr=function(u){return this.mul(u,u)},_e.prototype.sqrt=function(u){if(u.isZero())return u.clone();var h=this.m.andln(3);if(O(h%2==1),3===h){var g=this.m.add(new x(1)).iushrn(2);return this.pow(u,g)}for(var w=this.m.subn(1),T=0;!w.isZero()&&0===w.andln(1);)T++,w.iushrn(1);O(!w.isZero());var C=new x(1).toRed(this),j=C.redNeg(),M=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new x(2*d*d).toRed(this);0!==this.pow(d,M).cmp(j);)d.redIAdd(j);for(var v=this.pow(d,w),W=this.pow(u,w.addn(1).iushrn(1)),H=this.pow(u,w),ee=T;0!==H.cmp(C);){for(var fe=H,Ae=0;0!==fe.cmp(C);Ae++)fe=fe.redSqr();O(Ae<ee);var Pe=this.pow(v,new x(1).iushln(ee-Ae-1));W=W.redMul(Pe),v=Pe.redSqr(),H=H.redMul(v),ee=Ae}return W},_e.prototype.invm=function(u){var h=u._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},_e.prototype.pow=function(u,h){if(h.isZero())return new x(1).toRed(this);if(0===h.cmpn(1))return u.clone();var w=new Array(16);w[0]=new x(1).toRed(this),w[1]=u;for(var T=2;T<w.length;T++)w[T]=this.mul(w[T-1],u);var C=w[0],j=0,M=0,d=h.bitLength()%26;for(0===d&&(d=26),T=h.length-1;T>=0;T--){for(var v=h.words[T],W=d-1;W>=0;W--){var H=v>>W&1;C!==w[0]&&(C=this.sqr(C)),0!==H||0!==j?(j<<=1,j|=H,(4==++M||0===T&&0===W)&&(C=this.mul(C,w[j]),M=0,j=0)):M=0}d=26}return C},_e.prototype.convertTo=function(u){var h=u.umod(this.m);return h===u?h.clone():h},_e.prototype.convertFrom=function(u){var h=u.clone();return h.red=null,h},x.mont=function(u){return new De(u)},G(De,_e),De.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},De.prototype.convertFrom=function(u){var h=this.imod(u.mul(this.rinv));return h.red=null,h},De.prototype.imul=function(u,h){if(u.isZero()||h.isZero())return u.words[0]=0,u.length=1,u;var g=u.imul(h),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=g.isub(w).iushrn(this.shift),C=T;return T.cmp(this.m)>=0?C=T.isub(this.m):T.cmpn(0)<0&&(C=T.iadd(this.m)),C._forceRed(this)},De.prototype.mul=function(u,h){if(u.isZero()||h.isZero())return new x(0)._forceRed(this);var g=u.mul(h),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=g.isub(w).iushrn(this.shift),C=T;return T.cmp(this.m)>=0?C=T.isub(this.m):T.cmpn(0)<0&&(C=T.iadd(this.m)),C._forceRed(this)},De.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Be=E.nmd(Be),this)},67211:(Be,z,E)=>{"use strict";var p=E(71993),S=E(34725),O=E(36636),G=E(25443),x=E(3247);function B(A){x.call(this,"digest"),this._hash=A}p(B,x),B.prototype._update=function(A){this._hash.update(A)},B.prototype._final=function(){return this._hash.digest()},Be.exports=function(N){return"md5"===(N=N.toLowerCase())?new S:"rmd160"===N||"ripemd160"===N?new O:new B(G(N))}},83407:(Be,z,E)=>{var p=E(34725);Be.exports=function(S){return(new p).update(S).digest()}},56432:(Be,z,E)=>{"use strict";var p=E(71993),S=E(90509),O=E(3247),G=E(27054).Buffer,x=E(83407),B=E(36636),A=E(25443),N=G.alloc(128);function $(K,D){O.call(this,"digest"),"string"==typeof D&&(D=G.from(D));var X="sha512"===K||"sha384"===K?128:64;this._alg=K,this._key=D,D.length>X?D=("rmd160"===K?new B:A(K)).update(D).digest():D.length<X&&(D=G.concat([D,N],X));for(var Z=this._ipad=G.allocUnsafe(X),Q=this._opad=G.allocUnsafe(X),te=0;te<X;te++)Z[te]=54^D[te],Q[te]=92^D[te];this._hash="rmd160"===K?new B:A(K),this._hash.update(Z)}p($,O),$.prototype._update=function(K){this._hash.update(K)},$.prototype._final=function(){var K=this._hash.digest();return("rmd160"===this._alg?new B:A(this._alg)).update(this._opad).update(K).digest()},Be.exports=function(D,X){return"rmd160"===(D=D.toLowerCase())||"ripemd160"===D?new $("rmd160",X):"md5"===D?new S(x,X):new $(D,X)}},90509:(Be,z,E)=>{"use strict";var p=E(71993),S=E(27054).Buffer,O=E(3247),G=S.alloc(128),x=64;function B(A,N){O.call(this,"digest"),"string"==typeof N&&(N=S.from(N)),this._alg=A,this._key=N,N.length>x?N=A(N):N.length<x&&(N=S.concat([N,G],x));for(var $=this._ipad=S.allocUnsafe(x),K=this._opad=S.allocUnsafe(x),D=0;D<x;D++)$[D]=54^N[D],K[D]=92^N[D];this._hash=[$]}p(B,O),B.prototype._update=function(A){this._hash.push(A)},B.prototype._final=function(){var A=this._alg(S.concat(this._hash));return this._alg(S.concat([this._opad,A]))},Be.exports=B},91426:(Be,z,E)=>{"use strict";z.randomBytes=z.rng=z.pseudoRandomBytes=z.prng=E(3342),z.createHash=z.Hash=E(67211),z.createHmac=z.Hmac=E(56432);var p=E(99560),S=Object.keys(p),O=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(S);z.getHashes=function(){return O};var G=E(93397);z.pbkdf2=G.pbkdf2,z.pbkdf2Sync=G.pbkdf2Sync;var x=E(88862);z.Cipher=x.Cipher,z.createCipher=x.createCipher,z.Cipheriv=x.Cipheriv,z.createCipheriv=x.createCipheriv,z.Decipher=x.Decipher,z.createDecipher=x.createDecipher,z.Decipheriv=x.Decipheriv,z.createDecipheriv=x.createDecipheriv,z.getCiphers=x.getCiphers,z.listCiphers=x.listCiphers;var B=E(4377);z.DiffieHellmanGroup=B.DiffieHellmanGroup,z.createDiffieHellmanGroup=B.createDiffieHellmanGroup,z.getDiffieHellman=B.getDiffieHellman,z.createDiffieHellman=B.createDiffieHellman,z.DiffieHellman=B.DiffieHellman;var A=E(79143);z.createSign=A.createSign,z.Sign=A.Sign,z.createVerify=A.createVerify,z.Verify=A.Verify,z.createECDH=E(87303);var N=E(52965);z.publicEncrypt=N.publicEncrypt,z.privateEncrypt=N.privateEncrypt,z.publicDecrypt=N.publicDecrypt,z.privateDecrypt=N.privateDecrypt;var $=E(9682);z.randomFill=$.randomFill,z.randomFillSync=$.randomFillSync,z.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},z.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},71549:(Be,z,E)=>{"use strict";z.utils=E(85671),z.Cipher=E(10219),z.DES=E(64166),z.CBC=E(88800),z.EDE=E(62122)},88800:(Be,z,E)=>{"use strict";var p=E(39210),S=E(71993),O={};function G(B){p.equal(B.length,8,"Invalid IV length"),this.iv=new Array(8);for(var A=0;A<this.iv.length;A++)this.iv[A]=B[A]}z.instantiate=function x(B){function A(D){B.call(this,D),this._cbcInit()}S(A,B);for(var N=Object.keys(O),$=0;$<N.length;$++){var K=N[$];A.prototype[K]=O[K]}return A.create=function(X){return new A(X)},A},O._cbcInit=function(){var A=new G(this.options.iv);this._cbcState=A},O._update=function(A,N,$,K){var X=this.constructor.super_.prototype,V=this._cbcState.iv;if("encrypt"===this.type){for(var Z=0;Z<this.blockSize;Z++)V[Z]^=A[N+Z];for(X._update.call(this,V,0,$,K),Z=0;Z<this.blockSize;Z++)V[Z]=$[K+Z]}else{for(X._update.call(this,A,N,$,K),Z=0;Z<this.blockSize;Z++)$[K+Z]^=V[Z];for(Z=0;Z<this.blockSize;Z++)V[Z]=A[N+Z]}}},10219:(Be,z,E)=>{"use strict";var p=E(39210);function S(O){this.options=O,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==O.padding}Be.exports=S,S.prototype._init=function(){},S.prototype.update=function(G){return 0===G.length?[]:"decrypt"===this.type?this._updateDecrypt(G):this._updateEncrypt(G)},S.prototype._buffer=function(G,x){for(var B=Math.min(this.buffer.length-this.bufferOff,G.length-x),A=0;A<B;A++)this.buffer[this.bufferOff+A]=G[x+A];return this.bufferOff+=B,B},S.prototype._flushBuffer=function(G,x){return this._update(this.buffer,0,G,x),this.bufferOff=0,this.blockSize},S.prototype._updateEncrypt=function(G){var x=0,B=0,N=new Array(((this.bufferOff+G.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(x+=this._buffer(G,x),this.bufferOff===this.buffer.length&&(B+=this._flushBuffer(N,B)));for(var $=G.length-(G.length-x)%this.blockSize;x<$;x+=this.blockSize)this._update(G,x,N,B),B+=this.blockSize;for(;x<G.length;x++,this.bufferOff++)this.buffer[this.bufferOff]=G[x];return N},S.prototype._updateDecrypt=function(G){for(var x=0,B=0,A=Math.ceil((this.bufferOff+G.length)/this.blockSize)-1,N=new Array(A*this.blockSize);A>0;A--)x+=this._buffer(G,x),B+=this._flushBuffer(N,B);return x+=this._buffer(G,x),N},S.prototype.final=function(G){var x,B;return G&&(x=this.update(G)),B="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),x?x.concat(B):B},S.prototype._pad=function(G,x){if(0===x)return!1;for(;x<G.length;)G[x++]=0;return!0},S.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var G=new Array(this.blockSize);return this._update(this.buffer,0,G,0),G},S.prototype._unpad=function(G){return G},S.prototype._finalDecrypt=function(){p.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var G=new Array(this.blockSize);return this._flushBuffer(G,0),this._unpad(G)}},64166:(Be,z,E)=>{"use strict";var p=E(39210),S=E(71993),O=E(85671),G=E(10219);function x(){this.tmp=new Array(2),this.keys=null}function B(N){G.call(this,N);var $=new x;this._desState=$,this.deriveKeys($,N.key)}S(B,G),Be.exports=B,B.create=function($){return new B($)};var A=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];B.prototype.deriveKeys=function($,K){$.keys=new Array(32),p.equal(K.length,this.blockSize,"Invalid key length");var D=O.readUInt32BE(K,0),X=O.readUInt32BE(K,4);O.pc1(D,X,$.tmp,0),D=$.tmp[0],X=$.tmp[1];for(var V=0;V<$.keys.length;V+=2){var Z=A[V>>>1];D=O.r28shl(D,Z),X=O.r28shl(X,Z),O.pc2(D,X,$.keys,V)}},B.prototype._update=function($,K,D,X){var V=this._desState,Z=O.readUInt32BE($,K),Q=O.readUInt32BE($,K+4);O.ip(Z,Q,V.tmp,0),Z=V.tmp[0],Q=V.tmp[1],"encrypt"===this.type?this._encrypt(V,Z,Q,V.tmp,0):this._decrypt(V,Z,Q,V.tmp,0),Q=V.tmp[1],O.writeUInt32BE(D,Z=V.tmp[0],X),O.writeUInt32BE(D,Q,X+4)},B.prototype._pad=function($,K){if(!1===this.padding)return!1;for(var D=$.length-K,X=K;X<$.length;X++)$[X]=D;return!0},B.prototype._unpad=function($){if(!1===this.padding)return $;for(var K=$[$.length-1],D=$.length-K;D<$.length;D++)p.equal($[D],K);return $.slice(0,$.length-K)},B.prototype._encrypt=function($,K,D,X,V){for(var Z=K,Q=D,te=0;te<$.keys.length;te+=2){var J=$.keys[te],q=$.keys[te+1];O.expand(Q,$.tmp,0);var ne=O.substitute(J^=$.tmp[0],q^=$.tmp[1]),oe=Q;Q=(Z^O.permute(ne))>>>0,Z=oe}O.rip(Q,Z,X,V)},B.prototype._decrypt=function($,K,D,X,V){for(var Z=D,Q=K,te=$.keys.length-2;te>=0;te-=2){var J=$.keys[te],q=$.keys[te+1];O.expand(Z,$.tmp,0);var ne=O.substitute(J^=$.tmp[0],q^=$.tmp[1]),oe=Z;Z=(Q^O.permute(ne))>>>0,Q=oe}O.rip(Z,Q,X,V)}},62122:(Be,z,E)=>{"use strict";var p=E(39210),S=E(71993),O=E(10219),G=E(64166);function x(A,N){p.equal(N.length,24,"Invalid key length");var $=N.slice(0,8),K=N.slice(8,16),D=N.slice(16,24);this.ciphers="encrypt"===A?[G.create({type:"encrypt",key:$}),G.create({type:"decrypt",key:K}),G.create({type:"encrypt",key:D})]:[G.create({type:"decrypt",key:D}),G.create({type:"encrypt",key:K}),G.create({type:"decrypt",key:$})]}function B(A){O.call(this,A);var N=new x(this.type,this.options.key);this._edeState=N}S(B,O),Be.exports=B,B.create=function(N){return new B(N)},B.prototype._update=function(N,$,K,D){var X=this._edeState;X.ciphers[0]._update(N,$,K,D),X.ciphers[1]._update(K,D,K,D),X.ciphers[2]._update(K,D,K,D)},B.prototype._pad=G.prototype._pad,B.prototype._unpad=G.prototype._unpad},85671:(Be,z)=>{"use strict";z.readUInt32BE=function(G,x){return(G[0+x]<<24|G[1+x]<<16|G[2+x]<<8|G[3+x])>>>0},z.writeUInt32BE=function(G,x,B){G[0+B]=x>>>24,G[1+B]=x>>>16&255,G[2+B]=x>>>8&255,G[3+B]=255&x},z.ip=function(G,x,B,A){for(var N=0,$=0,K=6;K>=0;K-=2){for(var D=0;D<=24;D+=8)N<<=1,N|=x>>>D+K&1;for(D=0;D<=24;D+=8)N<<=1,N|=G>>>D+K&1}for(K=6;K>=0;K-=2){for(D=1;D<=25;D+=8)$<<=1,$|=x>>>D+K&1;for(D=1;D<=25;D+=8)$<<=1,$|=G>>>D+K&1}B[A+0]=N>>>0,B[A+1]=$>>>0},z.rip=function(G,x,B,A){for(var N=0,$=0,K=0;K<4;K++)for(var D=24;D>=0;D-=8)N<<=1,N|=x>>>D+K&1,N<<=1,N|=G>>>D+K&1;for(K=4;K<8;K++)for(D=24;D>=0;D-=8)$<<=1,$|=x>>>D+K&1,$<<=1,$|=G>>>D+K&1;B[A+0]=N>>>0,B[A+1]=$>>>0},z.pc1=function(G,x,B,A){for(var N=0,$=0,K=7;K>=5;K--){for(var D=0;D<=24;D+=8)N<<=1,N|=x>>D+K&1;for(D=0;D<=24;D+=8)N<<=1,N|=G>>D+K&1}for(D=0;D<=24;D+=8)N<<=1,N|=x>>D+K&1;for(K=1;K<=3;K++){for(D=0;D<=24;D+=8)$<<=1,$|=x>>D+K&1;for(D=0;D<=24;D+=8)$<<=1,$|=G>>D+K&1}for(D=0;D<=24;D+=8)$<<=1,$|=G>>D+K&1;B[A+0]=N>>>0,B[A+1]=$>>>0},z.r28shl=function(G,x){return G<<x&268435455|G>>>28-x};var E=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];z.pc2=function(G,x,B,A){for(var N=0,$=0,K=E.length>>>1,D=0;D<K;D++)N<<=1,N|=G>>>E[D]&1;for(D=K;D<E.length;D++)$<<=1,$|=x>>>E[D]&1;B[A+0]=N>>>0,B[A+1]=$>>>0},z.expand=function(G,x,B){var A=0,N=0;A=(1&G)<<5|G>>>27;for(var $=23;$>=15;$-=4)A<<=6,A|=G>>>$&63;for($=11;$>=3;$-=4)N|=G>>>$&63,N<<=6;N|=(31&G)<<1|G>>>31,x[B+0]=A>>>0,x[B+1]=N>>>0};var p=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];z.substitute=function(G,x){for(var B=0,A=0;A<4;A++)B<<=4,B|=p[64*A+(G>>>18-6*A&63)];for(A=0;A<4;A++)B<<=4,B|=p[256+64*A+(x>>>18-6*A&63)];return B>>>0};var S=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];z.permute=function(G){for(var x=0,B=0;B<S.length;B++)x<<=1,x|=G>>>S[B]&1;return x>>>0},z.padSplit=function(G,x,B){for(var A=G.toString(2);A.length<x;)A="0"+A;for(var N=[],$=0;$<x;$+=B)N.push(A.slice($,$+B));return N.join(" ")}},4377:(Be,z,E)=>{var p=E(12727),S=E(23241),O=E(94593),x={binary:!0,hex:!0,base64:!0};z.DiffieHellmanGroup=z.createDiffieHellmanGroup=z.getDiffieHellman=function G(A){var N=new Buffer(S[A].prime,"hex"),$=new Buffer(S[A].gen,"hex");return new O(N,$)},z.createDiffieHellman=z.DiffieHellman=function B(A,N,$,K){return Buffer.isBuffer(N)||void 0===x[N]?B(A,"binary",N,$):(N=N||"binary",K=K||"binary",$=$||new Buffer([2]),Buffer.isBuffer($)||($=new Buffer($,K)),"number"==typeof A?new O(p(A,$),$,!0):(Buffer.isBuffer(A)||(A=new Buffer(A,N)),new O(A,$,!0)))}},94593:(Be,z,E)=>{var p=E(38280),O=new(E(53459)),G=new p(24),x=new p(11),B=new p(10),A=new p(3),N=new p(7),$=E(12727),K=E(3342);function D(J,q){return q=q||"utf8",Buffer.isBuffer(J)||(J=new Buffer(J,q)),this._pub=new p(J),this}function X(J,q){return q=q||"utf8",Buffer.isBuffer(J)||(J=new Buffer(J,q)),this._priv=new p(J),this}Be.exports=Q;var V={};function Q(J,q,ne){this.setGenerator(q),this.__prime=new p(J),this._prime=p.mont(this.__prime),this._primeLen=J.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,ne?(this.setPublicKey=D,this.setPrivateKey=X):this._primeCode=8}function te(J,q){var ne=new Buffer(J.toArray());return q?ne.toString(q):ne}Object.defineProperty(Q.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function Z(J,q){var ne=q.toString("hex"),se=[ne,J.toString(16)].join("_");if(se in V)return V[se];var ue,oe=0;if(J.isEven()||!$.simpleSieve||!$.fermatTest(J)||!O.test(J))return oe+=1,V[se]=oe+="02"===ne||"05"===ne?8:4,oe;switch(O.test(J.shrn(1))||(oe+=2),ne){case"02":J.mod(G).cmp(x)&&(oe+=8);break;case"05":(ue=J.mod(B)).cmp(A)&&ue.cmp(N)&&(oe+=8);break;default:oe+=4}return V[se]=oe,oe}(this.__prime,this.__gen)),this._primeCode}}),Q.prototype.generateKeys=function(){return this._priv||(this._priv=new p(K(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},Q.prototype.computeSecret=function(J){var q=(J=(J=new p(J)).toRed(this._prime)).redPow(this._priv).fromRed(),ne=new Buffer(q.toArray()),se=this.getPrime();if(ne.length<se.length){var oe=new Buffer(se.length-ne.length);oe.fill(0),ne=Buffer.concat([oe,ne])}return ne},Q.prototype.getPublicKey=function(q){return te(this._pub,q)},Q.prototype.getPrivateKey=function(q){return te(this._priv,q)},Q.prototype.getPrime=function(J){return te(this.__prime,J)},Q.prototype.getGenerator=function(J){return te(this._gen,J)},Q.prototype.setGenerator=function(J,q){return q=q||"utf8",Buffer.isBuffer(J)||(J=new Buffer(J,q)),this.__gen=J,this._gen=new p(J),this}},12727:(Be,z,E)=>{var p=E(3342);Be.exports=oe,oe.simpleSieve=ne,oe.fermatTest=se;var S=E(38280),O=new S(24),x=new(E(53459)),B=new S(1),A=new S(2),N=new S(5),D=(new S(16),new S(8),new S(10)),X=new S(3),Z=(new S(7),new S(11)),Q=new S(4),J=(new S(12),null);function ne(ue){for(var ae=function q(){if(null!==J)return J;var ae=[];ae[0]=2;for(var ve=1,_e=3;_e<1048576;_e+=2){for(var De=Math.ceil(Math.sqrt(_e)),P=0;P<ve&&ae[P]<=De&&_e%ae[P]!=0;P++);ve!==P&&ae[P]<=De||(ae[ve++]=_e)}return J=ae,ae}(),ve=0;ve<ae.length;ve++)if(0===ue.modn(ae[ve]))return 0===ue.cmpn(ae[ve]);return!0}function se(ue){var ae=S.mont(ue);return 0===A.toRed(ae).redPow(ue.subn(1)).fromRed().cmpn(1)}function oe(ue,ae){if(ue<16)return new S(2===ae||5===ae?[140,123]:[140,39]);ae=new S(ae);for(var ve,_e;;){for(ve=new S(p(Math.ceil(ue/8)));ve.bitLength()>ue;)ve.ishrn(1);if(ve.isEven()&&ve.iadd(B),ve.testn(1)||ve.iadd(A),ae.cmp(A)){if(!ae.cmp(N))for(;ve.mod(D).cmp(X);)ve.iadd(Q)}else for(;ve.mod(O).cmp(Z);)ve.iadd(Q);if(ne(_e=ve.shrn(1))&&ne(ve)&&se(_e)&&se(ve)&&x.test(_e)&&x.test(ve))return ve}}},38280:function(Be,z,E){!function(p,S){"use strict";function O(P,u){if(!P)throw new Error(u||"Assertion failed")}function G(P,u){P.super_=u;var h=function(){};h.prototype=u.prototype,P.prototype=new h,P.prototype.constructor=P}function x(P,u,h){if(x.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,null!==P&&(("le"===u||"be"===u)&&(h=u,u=10),this._init(P||0,u||10,h||"be"))}var B;"object"==typeof p?p.exports=x:S.BN=x,x.BN=x,x.wordSize=26;try{B=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(66089).Buffer}catch{}function A(P,u){var h=P.charCodeAt(u);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(P,u,h){var g=A(P,h);return h-1>=u&&(g|=A(P,h-1)<<4),g}function $(P,u,h,g){for(var w=0,T=Math.min(P.length,h),C=u;C<T;C++){var j=P.charCodeAt(C)-48;w*=g,w+=j>=49?j-49+10:j>=17?j-17+10:j}return w}x.isBN=function(u){return u instanceof x||null!==u&&"object"==typeof u&&u.constructor.wordSize===x.wordSize&&Array.isArray(u.words)},x.max=function(u,h){return u.cmp(h)>0?u:h},x.min=function(u,h){return u.cmp(h)<0?u:h},x.prototype._init=function(u,h,g){if("number"==typeof u)return this._initNumber(u,h,g);if("object"==typeof u)return this._initArray(u,h,g);"hex"===h&&(h=16),O(h===(0|h)&&h>=2&&h<=36);var w=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(w++,this.negative=1),w<u.length&&(16===h?this._parseHex(u,w,g):(this._parseBase(u,h,w),"le"===g&&this._initArray(this.toArray(),h,g)))},x.prototype._initNumber=function(u,h,g){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(O(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===g&&this._initArray(this.toArray(),h,g)},x.prototype._initArray=function(u,h,g){if(O("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var T,C,j=0;if("be"===g)for(w=u.length-1,T=0;w>=0;w-=3)this.words[T]|=(C=u[w]|u[w-1]<<8|u[w-2]<<16)<<j&67108863,this.words[T+1]=C>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);else if("le"===g)for(w=0,T=0;w<u.length;w+=3)this.words[T]|=(C=u[w]|u[w+1]<<8|u[w+2]<<16)<<j&67108863,this.words[T+1]=C>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);return this.strip()},x.prototype._parseHex=function(u,h,g){this.length=Math.ceil((u.length-h)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var j,T=0,C=0;if("be"===g)for(w=u.length-1;w>=h;w-=2)j=N(u,h,w)<<T,this.words[C]|=67108863&j,T>=18?(T-=18,this.words[C+=1]|=j>>>26):T+=8;else for(w=(u.length-h)%2==0?h+1:h;w<u.length;w+=2)j=N(u,h,w)<<T,this.words[C]|=67108863&j,T>=18?(T-=18,this.words[C+=1]|=j>>>26):T+=8;this.strip()},x.prototype._parseBase=function(u,h,g){this.words=[0],this.length=1;for(var w=0,T=1;T<=67108863;T*=h)w++;w--,T=T/h|0;for(var C=u.length-g,j=C%w,M=Math.min(C,C-j)+g,d=0,v=g;v<M;v+=w)d=$(u,v,v+w,h),this.imuln(T),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==j){var W=1;for(d=$(u,v,u.length,h),v=0;v<j;v++)W*=h;this.imuln(W),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},x.prototype.copy=function(u){u.words=new Array(this.length);for(var h=0;h<this.length;h++)u.words[h]=this.words[h];u.length=this.length,u.negative=this.negative,u.red=this.red},x.prototype.clone=function(){var u=new x(null);return this.copy(u),u},x.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var K=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Z(P,u,h){h.negative=u.negative^P.negative;var g=P.length+u.length|0;h.length=g,g=g-1|0;var w=0|P.words[0],T=0|u.words[0],C=w*T,M=C/67108864|0;h.words[0]=67108863&C;for(var d=1;d<g;d++){for(var v=M>>>26,W=67108863&M,H=Math.min(d,u.length-1),ee=Math.max(0,d-P.length+1);ee<=H;ee++)v+=(C=(w=0|P.words[d-ee|0])*(T=0|u.words[ee])+W)/67108864|0,W=67108863&C;h.words[d]=0|W,M=0|v}return 0!==M?h.words[d]=0|M:h.length--,h.strip()}x.prototype.toString=function(u,h){var g;if(h=0|h||1,16===(u=u||10)||"hex"===u){g="";for(var w=0,T=0,C=0;C<this.length;C++){var j=this.words[C],M=(16777215&(j<<w|T)).toString(16);g=0!=(T=j>>>24-w&16777215)||C!==this.length-1?K[6-M.length]+M+g:M+g,(w+=2)>=26&&(w-=26,C--)}for(0!==T&&(g=T.toString(16)+g);g.length%h!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}if(u===(0|u)&&u>=2&&u<=36){var d=D[u],v=X[u];g="";var W=this.clone();for(W.negative=0;!W.isZero();){var H=W.modn(v).toString(u);g=(W=W.idivn(v)).isZero()?H+g:K[d-H.length]+H+g}for(this.isZero()&&(g="0"+g);g.length%h!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}O(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&O(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(u,h){return O(typeof B<"u"),this.toArrayLike(B,u,h)},x.prototype.toArray=function(u,h){return this.toArrayLike(Array,u,h)},x.prototype.toArrayLike=function(u,h,g){var w=this.byteLength(),T=g||Math.max(1,w);O(w<=T,"byte array longer than desired length"),O(T>0,"Requested array length <= 0"),this.strip();var M,d,C="le"===h,j=new u(T),v=this.clone();if(C){for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),j[d]=M;for(;d<T;d++)j[d]=0}else{for(d=0;d<T-w;d++)j[d]=0;for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),j[T-d-1]=M}return j},x.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var h=u,g=0;return h>=4096&&(g+=13,h>>>=13),h>=64&&(g+=7,h>>>=7),h>=8&&(g+=4,h>>>=4),h>=2&&(g+=2,h>>>=2),g+h},x.prototype._zeroBits=function(u){if(0===u)return 26;var h=u,g=0;return 8191&h||(g+=13,h>>>=13),127&h||(g+=7,h>>>=7),15&h||(g+=4,h>>>=4),3&h||(g+=2,h>>>=2),1&h||g++,g},x.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,h=0;h<this.length;h++){var g=this._zeroBits(this.words[h]);if(u+=g,26!==g)break}return u},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},x.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]|u.words[h];return this.strip()},x.prototype.ior=function(u){return O(!(this.negative|u.negative)),this.iuor(u)},x.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},x.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},x.prototype.iuand=function(u){var h;h=this.length>u.length?u:this;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]&u.words[g];return this.length=h.length,this.strip()},x.prototype.iand=function(u){return O(!(this.negative|u.negative)),this.iuand(u)},x.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},x.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},x.prototype.iuxor=function(u){var h,g;this.length>u.length?(h=this,g=u):(h=u,g=this);for(var w=0;w<g.length;w++)this.words[w]=h.words[w]^g.words[w];if(this!==h)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=h.length,this.strip()},x.prototype.ixor=function(u){return O(!(this.negative|u.negative)),this.iuxor(u)},x.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},x.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},x.prototype.inotn=function(u){O("number"==typeof u&&u>=0);var h=0|Math.ceil(u/26),g=u%26;this._expand(h),g>0&&h--;for(var w=0;w<h;w++)this.words[w]=67108863&~this.words[w];return g>0&&(this.words[w]=~this.words[w]&67108863>>26-g),this.strip()},x.prototype.notn=function(u){return this.clone().inotn(u)},x.prototype.setn=function(u,h){O("number"==typeof u&&u>=0);var g=u/26|0,w=u%26;return this._expand(g+1),this.words[g]=h?this.words[g]|1<<w:this.words[g]&~(1<<w),this.strip()},x.prototype.iadd=function(u){var h,g,w;if(0!==this.negative&&0===u.negative)return this.negative=0,h=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,h=this.isub(u),u.negative=1,h._normSign();this.length>u.length?(g=this,w=u):(g=u,w=this);for(var T=0,C=0;C<w.length;C++)this.words[C]=67108863&(h=(0|g.words[C])+(0|w.words[C])+T),T=h>>>26;for(;0!==T&&C<g.length;C++)this.words[C]=67108863&(h=(0|g.words[C])+T),T=h>>>26;if(this.length=g.length,0!==T)this.words[this.length]=T,this.length++;else if(g!==this)for(;C<g.length;C++)this.words[C]=g.words[C];return this},x.prototype.add=function(u){var h;return 0!==u.negative&&0===this.negative?(u.negative=0,h=this.sub(u),u.negative^=1,h):0===u.negative&&0!==this.negative?(this.negative=0,h=u.sub(this),this.negative=1,h):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},x.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var h=this.iadd(u);return u.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var w,T,g=this.cmp(u);if(0===g)return this.negative=0,this.length=1,this.words[0]=0,this;g>0?(w=this,T=u):(w=u,T=this);for(var C=0,j=0;j<T.length;j++)C=(h=(0|w.words[j])-(0|T.words[j])+C)>>26,this.words[j]=67108863&h;for(;0!==C&&j<w.length;j++)C=(h=(0|w.words[j])+C)>>26,this.words[j]=67108863&h;if(0===C&&j<w.length&&w!==this)for(;j<w.length;j++)this.words[j]=w.words[j];return this.length=Math.max(this.length,j),w!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(u){return this.clone().isub(u)};var Q=function(u,h,g){var M,d,v,w=u.words,T=h.words,C=g.words,j=0,W=0|w[0],H=8191&W,ee=W>>>13,fe=0|w[1],Ae=8191&fe,Pe=fe>>>13,Le=0|w[2],be=8191&Le,ge=Le>>>13,Re=0|w[3],me=8191&Re,xe=Re>>>13,le=0|w[4],he=8191&le,re=le>>>13,de=0|w[5],pe=8191&de,Se=de>>>13,ke=0|w[6],Fe=8191&ke,We=ke>>>13,Tt=0|w[7],Xe=8191&Tt,Ke=Tt>>>13,lt=0|w[8],U=8191&lt,_=lt>>>13,m=0|w[9],F=8191&m,ie=m>>>13,we=0|T[0],Ie=8191&we,Qe=we>>>13,kt=0|T[1],pt=8191&kt,Et=kt>>>13,Lt=0|T[2],qt=8191&Lt,Kt=Lt>>>13,er=0|T[3],cn=8191&er,Ut=er>>>13,Nt=0|T[4],dt=8191&Nt,it=Nt>>>13,Ct=0|T[5],Bt=8191&Ct,Wt=Ct>>>13,Yn=0|T[6],at=8191&Yn,ut=Yn>>>13,ft=0|T[7],et=8191&ft,gt=ft>>>13,un=0|T[8],zt=8191&un,tn=un>>>13,pr=0|T[9],bn=8191&pr,vn=pr>>>13;g.negative=u.negative^h.negative,g.length=19;var Or=(j+(M=Math.imul(H,Ie))|0)+((8191&(d=(d=Math.imul(H,Qe))+Math.imul(ee,Ie)|0))<<13)|0;j=((v=Math.imul(ee,Qe))+(d>>>13)|0)+(Or>>>26)|0,Or&=67108863,M=Math.imul(Ae,Ie),d=(d=Math.imul(Ae,Qe))+Math.imul(Pe,Ie)|0,v=Math.imul(Pe,Qe);var Qn=(j+(M=M+Math.imul(H,pt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Et)|0)+Math.imul(ee,pt)|0))<<13)|0;j=((v=v+Math.imul(ee,Et)|0)+(d>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,M=Math.imul(be,Ie),d=(d=Math.imul(be,Qe))+Math.imul(ge,Ie)|0,v=Math.imul(ge,Qe),M=M+Math.imul(Ae,pt)|0,d=(d=d+Math.imul(Ae,Et)|0)+Math.imul(Pe,pt)|0,v=v+Math.imul(Pe,Et)|0;var jn=(j+(M=M+Math.imul(H,qt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Kt)|0)+Math.imul(ee,qt)|0))<<13)|0;j=((v=v+Math.imul(ee,Kt)|0)+(d>>>13)|0)+(jn>>>26)|0,jn&=67108863,M=Math.imul(me,Ie),d=(d=Math.imul(me,Qe))+Math.imul(xe,Ie)|0,v=Math.imul(xe,Qe),M=M+Math.imul(be,pt)|0,d=(d=d+Math.imul(be,Et)|0)+Math.imul(ge,pt)|0,v=v+Math.imul(ge,Et)|0,M=M+Math.imul(Ae,qt)|0,d=(d=d+Math.imul(Ae,Kt)|0)+Math.imul(Pe,qt)|0,v=v+Math.imul(Pe,Kt)|0;var On=(j+(M=M+Math.imul(H,cn)|0)|0)+((8191&(d=(d=d+Math.imul(H,Ut)|0)+Math.imul(ee,cn)|0))<<13)|0;j=((v=v+Math.imul(ee,Ut)|0)+(d>>>13)|0)+(On>>>26)|0,On&=67108863,M=Math.imul(he,Ie),d=(d=Math.imul(he,Qe))+Math.imul(re,Ie)|0,v=Math.imul(re,Qe),M=M+Math.imul(me,pt)|0,d=(d=d+Math.imul(me,Et)|0)+Math.imul(xe,pt)|0,v=v+Math.imul(xe,Et)|0,M=M+Math.imul(be,qt)|0,d=(d=d+Math.imul(be,Kt)|0)+Math.imul(ge,qt)|0,v=v+Math.imul(ge,Kt)|0,M=M+Math.imul(Ae,cn)|0,d=(d=d+Math.imul(Ae,Ut)|0)+Math.imul(Pe,cn)|0,v=v+Math.imul(Pe,Ut)|0;var Vn=(j+(M=M+Math.imul(H,dt)|0)|0)+((8191&(d=(d=d+Math.imul(H,it)|0)+Math.imul(ee,dt)|0))<<13)|0;j=((v=v+Math.imul(ee,it)|0)+(d>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,M=Math.imul(pe,Ie),d=(d=Math.imul(pe,Qe))+Math.imul(Se,Ie)|0,v=Math.imul(Se,Qe),M=M+Math.imul(he,pt)|0,d=(d=d+Math.imul(he,Et)|0)+Math.imul(re,pt)|0,v=v+Math.imul(re,Et)|0,M=M+Math.imul(me,qt)|0,d=(d=d+Math.imul(me,Kt)|0)+Math.imul(xe,qt)|0,v=v+Math.imul(xe,Kt)|0,M=M+Math.imul(be,cn)|0,d=(d=d+Math.imul(be,Ut)|0)+Math.imul(ge,cn)|0,v=v+Math.imul(ge,Ut)|0,M=M+Math.imul(Ae,dt)|0,d=(d=d+Math.imul(Ae,it)|0)+Math.imul(Pe,dt)|0,v=v+Math.imul(Pe,it)|0;var Hn=(j+(M=M+Math.imul(H,Bt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Wt)|0)+Math.imul(ee,Bt)|0))<<13)|0;j=((v=v+Math.imul(ee,Wt)|0)+(d>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,M=Math.imul(Fe,Ie),d=(d=Math.imul(Fe,Qe))+Math.imul(We,Ie)|0,v=Math.imul(We,Qe),M=M+Math.imul(pe,pt)|0,d=(d=d+Math.imul(pe,Et)|0)+Math.imul(Se,pt)|0,v=v+Math.imul(Se,Et)|0,M=M+Math.imul(he,qt)|0,d=(d=d+Math.imul(he,Kt)|0)+Math.imul(re,qt)|0,v=v+Math.imul(re,Kt)|0,M=M+Math.imul(me,cn)|0,d=(d=d+Math.imul(me,Ut)|0)+Math.imul(xe,cn)|0,v=v+Math.imul(xe,Ut)|0,M=M+Math.imul(be,dt)|0,d=(d=d+Math.imul(be,it)|0)+Math.imul(ge,dt)|0,v=v+Math.imul(ge,it)|0,M=M+Math.imul(Ae,Bt)|0,d=(d=d+Math.imul(Ae,Wt)|0)+Math.imul(Pe,Bt)|0,v=v+Math.imul(Pe,Wt)|0;var ar=(j+(M=M+Math.imul(H,at)|0)|0)+((8191&(d=(d=d+Math.imul(H,ut)|0)+Math.imul(ee,at)|0))<<13)|0;j=((v=v+Math.imul(ee,ut)|0)+(d>>>13)|0)+(ar>>>26)|0,ar&=67108863,M=Math.imul(Xe,Ie),d=(d=Math.imul(Xe,Qe))+Math.imul(Ke,Ie)|0,v=Math.imul(Ke,Qe),M=M+Math.imul(Fe,pt)|0,d=(d=d+Math.imul(Fe,Et)|0)+Math.imul(We,pt)|0,v=v+Math.imul(We,Et)|0,M=M+Math.imul(pe,qt)|0,d=(d=d+Math.imul(pe,Kt)|0)+Math.imul(Se,qt)|0,v=v+Math.imul(Se,Kt)|0,M=M+Math.imul(he,cn)|0,d=(d=d+Math.imul(he,Ut)|0)+Math.imul(re,cn)|0,v=v+Math.imul(re,Ut)|0,M=M+Math.imul(me,dt)|0,d=(d=d+Math.imul(me,it)|0)+Math.imul(xe,dt)|0,v=v+Math.imul(xe,it)|0,M=M+Math.imul(be,Bt)|0,d=(d=d+Math.imul(be,Wt)|0)+Math.imul(ge,Bt)|0,v=v+Math.imul(ge,Wt)|0,M=M+Math.imul(Ae,at)|0,d=(d=d+Math.imul(Ae,ut)|0)+Math.imul(Pe,at)|0,v=v+Math.imul(Pe,ut)|0;var qn=(j+(M=M+Math.imul(H,et)|0)|0)+((8191&(d=(d=d+Math.imul(H,gt)|0)+Math.imul(ee,et)|0))<<13)|0;j=((v=v+Math.imul(ee,gt)|0)+(d>>>13)|0)+(qn>>>26)|0,qn&=67108863,M=Math.imul(U,Ie),d=(d=Math.imul(U,Qe))+Math.imul(_,Ie)|0,v=Math.imul(_,Qe),M=M+Math.imul(Xe,pt)|0,d=(d=d+Math.imul(Xe,Et)|0)+Math.imul(Ke,pt)|0,v=v+Math.imul(Ke,Et)|0,M=M+Math.imul(Fe,qt)|0,d=(d=d+Math.imul(Fe,Kt)|0)+Math.imul(We,qt)|0,v=v+Math.imul(We,Kt)|0,M=M+Math.imul(pe,cn)|0,d=(d=d+Math.imul(pe,Ut)|0)+Math.imul(Se,cn)|0,v=v+Math.imul(Se,Ut)|0,M=M+Math.imul(he,dt)|0,d=(d=d+Math.imul(he,it)|0)+Math.imul(re,dt)|0,v=v+Math.imul(re,it)|0,M=M+Math.imul(me,Bt)|0,d=(d=d+Math.imul(me,Wt)|0)+Math.imul(xe,Bt)|0,v=v+Math.imul(xe,Wt)|0,M=M+Math.imul(be,at)|0,d=(d=d+Math.imul(be,ut)|0)+Math.imul(ge,at)|0,v=v+Math.imul(ge,ut)|0,M=M+Math.imul(Ae,et)|0,d=(d=d+Math.imul(Ae,gt)|0)+Math.imul(Pe,et)|0,v=v+Math.imul(Pe,gt)|0;var vr=(j+(M=M+Math.imul(H,zt)|0)|0)+((8191&(d=(d=d+Math.imul(H,tn)|0)+Math.imul(ee,zt)|0))<<13)|0;j=((v=v+Math.imul(ee,tn)|0)+(d>>>13)|0)+(vr>>>26)|0,vr&=67108863,M=Math.imul(F,Ie),d=(d=Math.imul(F,Qe))+Math.imul(ie,Ie)|0,v=Math.imul(ie,Qe),M=M+Math.imul(U,pt)|0,d=(d=d+Math.imul(U,Et)|0)+Math.imul(_,pt)|0,v=v+Math.imul(_,Et)|0,M=M+Math.imul(Xe,qt)|0,d=(d=d+Math.imul(Xe,Kt)|0)+Math.imul(Ke,qt)|0,v=v+Math.imul(Ke,Kt)|0,M=M+Math.imul(Fe,cn)|0,d=(d=d+Math.imul(Fe,Ut)|0)+Math.imul(We,cn)|0,v=v+Math.imul(We,Ut)|0,M=M+Math.imul(pe,dt)|0,d=(d=d+Math.imul(pe,it)|0)+Math.imul(Se,dt)|0,v=v+Math.imul(Se,it)|0,M=M+Math.imul(he,Bt)|0,d=(d=d+Math.imul(he,Wt)|0)+Math.imul(re,Bt)|0,v=v+Math.imul(re,Wt)|0,M=M+Math.imul(me,at)|0,d=(d=d+Math.imul(me,ut)|0)+Math.imul(xe,at)|0,v=v+Math.imul(xe,ut)|0,M=M+Math.imul(be,et)|0,d=(d=d+Math.imul(be,gt)|0)+Math.imul(ge,et)|0,v=v+Math.imul(ge,gt)|0,M=M+Math.imul(Ae,zt)|0,d=(d=d+Math.imul(Ae,tn)|0)+Math.imul(Pe,zt)|0,v=v+Math.imul(Pe,tn)|0;var _r=(j+(M=M+Math.imul(H,bn)|0)|0)+((8191&(d=(d=d+Math.imul(H,vn)|0)+Math.imul(ee,bn)|0))<<13)|0;j=((v=v+Math.imul(ee,vn)|0)+(d>>>13)|0)+(_r>>>26)|0,_r&=67108863,M=Math.imul(F,pt),d=(d=Math.imul(F,Et))+Math.imul(ie,pt)|0,v=Math.imul(ie,Et),M=M+Math.imul(U,qt)|0,d=(d=d+Math.imul(U,Kt)|0)+Math.imul(_,qt)|0,v=v+Math.imul(_,Kt)|0,M=M+Math.imul(Xe,cn)|0,d=(d=d+Math.imul(Xe,Ut)|0)+Math.imul(Ke,cn)|0,v=v+Math.imul(Ke,Ut)|0,M=M+Math.imul(Fe,dt)|0,d=(d=d+Math.imul(Fe,it)|0)+Math.imul(We,dt)|0,v=v+Math.imul(We,it)|0,M=M+Math.imul(pe,Bt)|0,d=(d=d+Math.imul(pe,Wt)|0)+Math.imul(Se,Bt)|0,v=v+Math.imul(Se,Wt)|0,M=M+Math.imul(he,at)|0,d=(d=d+Math.imul(he,ut)|0)+Math.imul(re,at)|0,v=v+Math.imul(re,ut)|0,M=M+Math.imul(me,et)|0,d=(d=d+Math.imul(me,gt)|0)+Math.imul(xe,et)|0,v=v+Math.imul(xe,gt)|0,M=M+Math.imul(be,zt)|0,d=(d=d+Math.imul(be,tn)|0)+Math.imul(ge,zt)|0,v=v+Math.imul(ge,tn)|0;var Er=(j+(M=M+Math.imul(Ae,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Ae,vn)|0)+Math.imul(Pe,bn)|0))<<13)|0;j=((v=v+Math.imul(Pe,vn)|0)+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,M=Math.imul(F,qt),d=(d=Math.imul(F,Kt))+Math.imul(ie,qt)|0,v=Math.imul(ie,Kt),M=M+Math.imul(U,cn)|0,d=(d=d+Math.imul(U,Ut)|0)+Math.imul(_,cn)|0,v=v+Math.imul(_,Ut)|0,M=M+Math.imul(Xe,dt)|0,d=(d=d+Math.imul(Xe,it)|0)+Math.imul(Ke,dt)|0,v=v+Math.imul(Ke,it)|0,M=M+Math.imul(Fe,Bt)|0,d=(d=d+Math.imul(Fe,Wt)|0)+Math.imul(We,Bt)|0,v=v+Math.imul(We,Wt)|0,M=M+Math.imul(pe,at)|0,d=(d=d+Math.imul(pe,ut)|0)+Math.imul(Se,at)|0,v=v+Math.imul(Se,ut)|0,M=M+Math.imul(he,et)|0,d=(d=d+Math.imul(he,gt)|0)+Math.imul(re,et)|0,v=v+Math.imul(re,gt)|0,M=M+Math.imul(me,zt)|0,d=(d=d+Math.imul(me,tn)|0)+Math.imul(xe,zt)|0,v=v+Math.imul(xe,tn)|0;var mr=(j+(M=M+Math.imul(be,bn)|0)|0)+((8191&(d=(d=d+Math.imul(be,vn)|0)+Math.imul(ge,bn)|0))<<13)|0;j=((v=v+Math.imul(ge,vn)|0)+(d>>>13)|0)+(mr>>>26)|0,mr&=67108863,M=Math.imul(F,cn),d=(d=Math.imul(F,Ut))+Math.imul(ie,cn)|0,v=Math.imul(ie,Ut),M=M+Math.imul(U,dt)|0,d=(d=d+Math.imul(U,it)|0)+Math.imul(_,dt)|0,v=v+Math.imul(_,it)|0,M=M+Math.imul(Xe,Bt)|0,d=(d=d+Math.imul(Xe,Wt)|0)+Math.imul(Ke,Bt)|0,v=v+Math.imul(Ke,Wt)|0,M=M+Math.imul(Fe,at)|0,d=(d=d+Math.imul(Fe,ut)|0)+Math.imul(We,at)|0,v=v+Math.imul(We,ut)|0,M=M+Math.imul(pe,et)|0,d=(d=d+Math.imul(pe,gt)|0)+Math.imul(Se,et)|0,v=v+Math.imul(Se,gt)|0,M=M+Math.imul(he,zt)|0,d=(d=d+Math.imul(he,tn)|0)+Math.imul(re,zt)|0,v=v+Math.imul(re,tn)|0;var Rr=(j+(M=M+Math.imul(me,bn)|0)|0)+((8191&(d=(d=d+Math.imul(me,vn)|0)+Math.imul(xe,bn)|0))<<13)|0;j=((v=v+Math.imul(xe,vn)|0)+(d>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,M=Math.imul(F,dt),d=(d=Math.imul(F,it))+Math.imul(ie,dt)|0,v=Math.imul(ie,it),M=M+Math.imul(U,Bt)|0,d=(d=d+Math.imul(U,Wt)|0)+Math.imul(_,Bt)|0,v=v+Math.imul(_,Wt)|0,M=M+Math.imul(Xe,at)|0,d=(d=d+Math.imul(Xe,ut)|0)+Math.imul(Ke,at)|0,v=v+Math.imul(Ke,ut)|0,M=M+Math.imul(Fe,et)|0,d=(d=d+Math.imul(Fe,gt)|0)+Math.imul(We,et)|0,v=v+Math.imul(We,gt)|0,M=M+Math.imul(pe,zt)|0,d=(d=d+Math.imul(pe,tn)|0)+Math.imul(Se,zt)|0,v=v+Math.imul(Se,tn)|0;var Br=(j+(M=M+Math.imul(he,bn)|0)|0)+((8191&(d=(d=d+Math.imul(he,vn)|0)+Math.imul(re,bn)|0))<<13)|0;j=((v=v+Math.imul(re,vn)|0)+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,M=Math.imul(F,Bt),d=(d=Math.imul(F,Wt))+Math.imul(ie,Bt)|0,v=Math.imul(ie,Wt),M=M+Math.imul(U,at)|0,d=(d=d+Math.imul(U,ut)|0)+Math.imul(_,at)|0,v=v+Math.imul(_,ut)|0,M=M+Math.imul(Xe,et)|0,d=(d=d+Math.imul(Xe,gt)|0)+Math.imul(Ke,et)|0,v=v+Math.imul(Ke,gt)|0,M=M+Math.imul(Fe,zt)|0,d=(d=d+Math.imul(Fe,tn)|0)+Math.imul(We,zt)|0,v=v+Math.imul(We,tn)|0;var kr=(j+(M=M+Math.imul(pe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(pe,vn)|0)+Math.imul(Se,bn)|0))<<13)|0;j=((v=v+Math.imul(Se,vn)|0)+(d>>>13)|0)+(kr>>>26)|0,kr&=67108863,M=Math.imul(F,at),d=(d=Math.imul(F,ut))+Math.imul(ie,at)|0,v=Math.imul(ie,ut),M=M+Math.imul(U,et)|0,d=(d=d+Math.imul(U,gt)|0)+Math.imul(_,et)|0,v=v+Math.imul(_,gt)|0,M=M+Math.imul(Xe,zt)|0,d=(d=d+Math.imul(Xe,tn)|0)+Math.imul(Ke,zt)|0,v=v+Math.imul(Ke,tn)|0;var jr=(j+(M=M+Math.imul(Fe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Fe,vn)|0)+Math.imul(We,bn)|0))<<13)|0;j=((v=v+Math.imul(We,vn)|0)+(d>>>13)|0)+(jr>>>26)|0,jr&=67108863,M=Math.imul(F,et),d=(d=Math.imul(F,gt))+Math.imul(ie,et)|0,v=Math.imul(ie,gt),M=M+Math.imul(U,zt)|0,d=(d=d+Math.imul(U,tn)|0)+Math.imul(_,zt)|0,v=v+Math.imul(_,tn)|0;var Yr=(j+(M=M+Math.imul(Xe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Xe,vn)|0)+Math.imul(Ke,bn)|0))<<13)|0;j=((v=v+Math.imul(Ke,vn)|0)+(d>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,M=Math.imul(F,zt),d=(d=Math.imul(F,tn))+Math.imul(ie,zt)|0,v=Math.imul(ie,tn);var wt=(j+(M=M+Math.imul(U,bn)|0)|0)+((8191&(d=(d=d+Math.imul(U,vn)|0)+Math.imul(_,bn)|0))<<13)|0;j=((v=v+Math.imul(_,vn)|0)+(d>>>13)|0)+(wt>>>26)|0,wt&=67108863;var Pt=(j+(M=Math.imul(F,bn))|0)+((8191&(d=(d=Math.imul(F,vn))+Math.imul(ie,bn)|0))<<13)|0;return j=((v=Math.imul(ie,vn))+(d>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,C[0]=Or,C[1]=Qn,C[2]=jn,C[3]=On,C[4]=Vn,C[5]=Hn,C[6]=ar,C[7]=qn,C[8]=vr,C[9]=_r,C[10]=Er,C[11]=mr,C[12]=Rr,C[13]=Br,C[14]=kr,C[15]=jr,C[16]=Yr,C[17]=wt,C[18]=Pt,0!==j&&(C[19]=j,g.length++),g};function J(P,u,h){return(new q).mulp(P,u,h)}function q(P,u){this.x=P,this.y=u}Math.imul||(Q=Z),x.prototype.mulTo=function(u,h){var g,w=this.length+u.length;return g=10===this.length&&10===u.length?Q(this,u,h):w<63?Z(this,u,h):w<1024?function te(P,u,h){h.negative=u.negative^P.negative,h.length=P.length+u.length;for(var g=0,w=0,T=0;T<h.length-1;T++){var C=w;w=0;for(var j=67108863&g,M=Math.min(T,u.length-1),d=Math.max(0,T-P.length+1);d<=M;d++){var ee=(0|P.words[T-d])*(0|u.words[d]),fe=67108863&ee;j=67108863&(fe=fe+j|0),w+=(C=(C=C+(ee/67108864|0)|0)+(fe>>>26)|0)>>>26,C&=67108863}h.words[T]=j,g=C,C=w}return 0!==g?h.words[T]=g:h.length--,h.strip()}(this,u,h):J(this,u,h),g},q.prototype.makeRBT=function(u){for(var h=new Array(u),g=x.prototype._countBits(u)-1,w=0;w<u;w++)h[w]=this.revBin(w,g,u);return h},q.prototype.revBin=function(u,h,g){if(0===u||u===g-1)return u;for(var w=0,T=0;T<h;T++)w|=(1&u)<<h-T-1,u>>=1;return w},q.prototype.permute=function(u,h,g,w,T,C){for(var j=0;j<C;j++)w[j]=h[u[j]],T[j]=g[u[j]]},q.prototype.transform=function(u,h,g,w,T,C){this.permute(C,u,h,g,w,T);for(var j=1;j<T;j<<=1)for(var M=j<<1,d=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<T;W+=M)for(var H=d,ee=v,fe=0;fe<j;fe++){var Ae=g[W+fe],Pe=w[W+fe],Le=g[W+fe+j],be=w[W+fe+j],ge=H*Le-ee*be;be=H*be+ee*Le,g[W+fe]=Ae+(Le=ge),w[W+fe]=Pe+be,g[W+fe+j]=Ae-Le,w[W+fe+j]=Pe-be,fe!==M&&(ge=d*H-v*ee,ee=d*ee+v*H,H=ge)}},q.prototype.guessLen13b=function(u,h){var g=1|Math.max(h,u),w=1&g,T=0;for(g=g/2|0;g;g>>>=1)T++;return 1<<T+1+w},q.prototype.conjugate=function(u,h,g){if(!(g<=1))for(var w=0;w<g/2;w++){var T=u[w];u[w]=u[g-w-1],u[g-w-1]=T,T=h[w],h[w]=-h[g-w-1],h[g-w-1]=-T}},q.prototype.normalize13b=function(u,h){for(var g=0,w=0;w<h/2;w++){var T=8192*Math.round(u[2*w+1]/h)+Math.round(u[2*w]/h)+g;u[w]=67108863&T,g=T<67108864?0:T/67108864|0}return u},q.prototype.convert13b=function(u,h,g,w){for(var T=0,C=0;C<h;C++)g[2*C]=8191&(T+=0|u[C]),g[2*C+1]=8191&(T>>>=13),T>>>=13;for(C=2*h;C<w;++C)g[C]=0;O(0===T),O(!(-8192&T))},q.prototype.stub=function(u){for(var h=new Array(u),g=0;g<u;g++)h[g]=0;return h},q.prototype.mulp=function(u,h,g){var w=2*this.guessLen13b(u.length,h.length),T=this.makeRBT(w),C=this.stub(w),j=new Array(w),M=new Array(w),d=new Array(w),v=new Array(w),W=new Array(w),H=new Array(w),ee=g.words;ee.length=w,this.convert13b(u.words,u.length,j,w),this.convert13b(h.words,h.length,v,w),this.transform(j,C,M,d,w,T),this.transform(v,C,W,H,w,T);for(var fe=0;fe<w;fe++){var Ae=M[fe]*W[fe]-d[fe]*H[fe];d[fe]=M[fe]*H[fe]+d[fe]*W[fe],M[fe]=Ae}return this.conjugate(M,d,w),this.transform(M,d,ee,C,w,T),this.conjugate(ee,C,w),this.normalize13b(ee,w),g.negative=u.negative^h.negative,g.length=u.length+h.length,g.strip()},x.prototype.mul=function(u){var h=new x(null);return h.words=new Array(this.length+u.length),this.mulTo(u,h)},x.prototype.mulf=function(u){var h=new x(null);return h.words=new Array(this.length+u.length),J(this,u,h)},x.prototype.imul=function(u){return this.clone().mulTo(u,this)},x.prototype.imuln=function(u){O("number"==typeof u),O(u<67108864);for(var h=0,g=0;g<this.length;g++){var w=(0|this.words[g])*u,T=(67108863&w)+(67108863&h);h>>=26,h+=w/67108864|0,h+=T>>>26,this.words[g]=67108863&T}return 0!==h&&(this.words[g]=h,this.length++),this},x.prototype.muln=function(u){return this.clone().imuln(u)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(u){var h=function V(P){for(var u=new Array(P.bitLength()),h=0;h<u.length;h++){var w=h%26;u[h]=(P.words[h/26|0]&1<<w)>>>w}return u}(u);if(0===h.length)return new x(1);for(var g=this,w=0;w<h.length&&0===h[w];w++,g=g.sqr());if(++w<h.length)for(var T=g.sqr();w<h.length;w++,T=T.sqr())0!==h[w]&&(g=g.mul(T));return g},x.prototype.iushln=function(u){O("number"==typeof u&&u>=0);var T,h=u%26,g=(u-h)/26,w=67108863>>>26-h<<26-h;if(0!==h){var C=0;for(T=0;T<this.length;T++){var j=this.words[T]&w;this.words[T]=(0|this.words[T])-j<<h|C,C=j>>>26-h}C&&(this.words[T]=C,this.length++)}if(0!==g){for(T=this.length-1;T>=0;T--)this.words[T+g]=this.words[T];for(T=0;T<g;T++)this.words[T]=0;this.length+=g}return this.strip()},x.prototype.ishln=function(u){return O(0===this.negative),this.iushln(u)},x.prototype.iushrn=function(u,h,g){var w;O("number"==typeof u&&u>=0),w=h?(h-h%26)/26:0;var T=u%26,C=Math.min((u-T)/26,this.length),j=67108863^67108863>>>T<<T,M=g;if(w-=C,w=Math.max(0,w),M){for(var d=0;d<C;d++)M.words[d]=this.words[d];M.length=C}if(0!==C)if(this.length>C)for(this.length-=C,d=0;d<this.length;d++)this.words[d]=this.words[d+C];else this.words[0]=0,this.length=1;var v=0;for(d=this.length-1;d>=0&&(0!==v||d>=w);d--){var W=0|this.words[d];this.words[d]=v<<26-T|W>>>T,v=W&j}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(u,h,g){return O(0===this.negative),this.iushrn(u,h,g)},x.prototype.shln=function(u){return this.clone().ishln(u)},x.prototype.ushln=function(u){return this.clone().iushln(u)},x.prototype.shrn=function(u){return this.clone().ishrn(u)},x.prototype.ushrn=function(u){return this.clone().iushrn(u)},x.prototype.testn=function(u){O("number"==typeof u&&u>=0);var h=u%26,g=(u-h)/26;return!(this.length<=g||!(this.words[g]&1<<h))},x.prototype.imaskn=function(u){O("number"==typeof u&&u>=0);var h=u%26,g=(u-h)/26;return O(0===this.negative,"imaskn works only with positive numbers"),this.length<=g?this:(0!==h&&g++,this.length=Math.min(g,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},x.prototype.maskn=function(u){return this.clone().imaskn(u)},x.prototype.iaddn=function(u){return O("number"==typeof u),O(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},x.prototype._iaddn=function(u){this.words[0]+=u;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},x.prototype.isubn=function(u){if(O("number"==typeof u),O(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},x.prototype.addn=function(u){return this.clone().iaddn(u)},x.prototype.subn=function(u){return this.clone().isubn(u)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(u,h,g){var T;this._expand(u.length+g);var C,j=0;for(T=0;T<u.length;T++){C=(0|this.words[T+g])+j;var M=(0|u.words[T])*h;j=((C-=67108863&M)>>26)-(M/67108864|0),this.words[T+g]=67108863&C}for(;T<this.length-g;T++)j=(C=(0|this.words[T+g])+j)>>26,this.words[T+g]=67108863&C;if(0===j)return this.strip();for(O(-1===j),j=0,T=0;T<this.length;T++)j=(C=-(0|this.words[T])+j)>>26,this.words[T]=67108863&C;return this.negative=1,this.strip()},x.prototype._wordDiv=function(u,h){var g,w=this.clone(),T=u,C=0|T.words[T.length-1];0!=(g=26-this._countBits(C))&&(T=T.ushln(g),w.iushln(g),C=0|T.words[T.length-1]);var d,M=w.length-T.length;if("mod"!==h){(d=new x(null)).length=M+1,d.words=new Array(d.length);for(var v=0;v<d.length;v++)d.words[v]=0}var W=w.clone()._ishlnsubmul(T,1,M);0===W.negative&&(w=W,d&&(d.words[M]=1));for(var H=M-1;H>=0;H--){var ee=67108864*(0|w.words[T.length+H])+(0|w.words[T.length+H-1]);for(ee=Math.min(ee/C|0,67108863),w._ishlnsubmul(T,ee,H);0!==w.negative;)ee--,w.negative=0,w._ishlnsubmul(T,1,H),w.isZero()||(w.negative^=1);d&&(d.words[H]=ee)}return d&&d.strip(),w.strip(),"div"!==h&&0!==g&&w.iushrn(g),{div:d||null,mod:w}},x.prototype.divmod=function(u,h,g){return O(!u.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===u.negative?(C=this.neg().divmod(u,h),"mod"!==h&&(w=C.div.neg()),"div"!==h&&(T=C.mod.neg(),g&&0!==T.negative&&T.iadd(u)),{div:w,mod:T}):0===this.negative&&0!==u.negative?(C=this.divmod(u.neg(),h),"mod"!==h&&(w=C.div.neg()),{div:w,mod:C.mod}):this.negative&u.negative?(C=this.neg().divmod(u.neg(),h),"div"!==h&&(T=C.mod.neg(),g&&0!==T.negative&&T.isub(u)),{div:C.div,mod:T}):u.length>this.length||this.cmp(u)<0?{div:new x(0),mod:this}:1===u.length?"div"===h?{div:this.divn(u.words[0]),mod:null}:"mod"===h?{div:null,mod:new x(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new x(this.modn(u.words[0]))}:this._wordDiv(u,h);var w,T,C},x.prototype.div=function(u){return this.divmod(u,"div",!1).div},x.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},x.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},x.prototype.divRound=function(u){var h=this.divmod(u);if(h.mod.isZero())return h.div;var g=0!==h.div.negative?h.mod.isub(u):h.mod,w=u.ushrn(1),T=u.andln(1),C=g.cmp(w);return C<0||1===T&&0===C?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},x.prototype.modn=function(u){O(u<=67108863);for(var h=(1<<26)%u,g=0,w=this.length-1;w>=0;w--)g=(h*g+(0|this.words[w]))%u;return g},x.prototype.idivn=function(u){O(u<=67108863);for(var h=0,g=this.length-1;g>=0;g--){var w=(0|this.words[g])+67108864*h;this.words[g]=w/u|0,h=w%u}return this.strip()},x.prototype.divn=function(u){return this.clone().idivn(u)},x.prototype.egcd=function(u){O(0===u.negative),O(!u.isZero());var h=this,g=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new x(1),T=new x(0),C=new x(0),j=new x(1),M=0;h.isEven()&&g.isEven();)h.iushrn(1),g.iushrn(1),++M;for(var d=g.clone(),v=h.clone();!h.isZero();){for(var W=0,H=1;!(h.words[0]&H)&&W<26;++W,H<<=1);if(W>0)for(h.iushrn(W);W-- >0;)(w.isOdd()||T.isOdd())&&(w.iadd(d),T.isub(v)),w.iushrn(1),T.iushrn(1);for(var ee=0,fe=1;!(g.words[0]&fe)&&ee<26;++ee,fe<<=1);if(ee>0)for(g.iushrn(ee);ee-- >0;)(C.isOdd()||j.isOdd())&&(C.iadd(d),j.isub(v)),C.iushrn(1),j.iushrn(1);h.cmp(g)>=0?(h.isub(g),w.isub(C),T.isub(j)):(g.isub(h),C.isub(w),j.isub(T))}return{a:C,b:j,gcd:g.iushln(M)}},x.prototype._invmp=function(u){O(0===u.negative),O(!u.isZero());var W,h=this,g=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new x(1),T=new x(0),C=g.clone();h.cmpn(1)>0&&g.cmpn(1)>0;){for(var j=0,M=1;!(h.words[0]&M)&&j<26;++j,M<<=1);if(j>0)for(h.iushrn(j);j-- >0;)w.isOdd()&&w.iadd(C),w.iushrn(1);for(var d=0,v=1;!(g.words[0]&v)&&d<26;++d,v<<=1);if(d>0)for(g.iushrn(d);d-- >0;)T.isOdd()&&T.iadd(C),T.iushrn(1);h.cmp(g)>=0?(h.isub(g),w.isub(T)):(g.isub(h),T.isub(w))}return(W=0===h.cmpn(1)?w:T).cmpn(0)<0&&W.iadd(u),W},x.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var h=this.clone(),g=u.clone();h.negative=0,g.negative=0;for(var w=0;h.isEven()&&g.isEven();w++)h.iushrn(1),g.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;g.isEven();)g.iushrn(1);var T=h.cmp(g);if(T<0){var C=h;h=g,g=C}else if(0===T||0===g.cmpn(1))break;h.isub(g)}return g.iushln(w)},x.prototype.invm=function(u){return this.egcd(u).a.umod(u)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(u){return this.words[0]&u},x.prototype.bincn=function(u){O("number"==typeof u);var h=u%26,g=(u-h)/26,w=1<<h;if(this.length<=g)return this._expand(g+1),this.words[g]|=w,this;for(var T=w,C=g;0!==T&&C<this.length;C++){var j=0|this.words[C];T=(j+=T)>>>26,this.words[C]=j&=67108863}return 0!==T&&(this.words[C]=T,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(u){var g,h=u<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)g=1;else{h&&(u=-u),O(u<=67108863,"Number is too big");var w=0|this.words[0];g=w===u?0:w<u?-1:1}return 0!==this.negative?0|-g:g},x.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var h=this.ucmp(u);return 0!==this.negative?0|-h:h},x.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var h=0,g=this.length-1;g>=0;g--){var w=0|this.words[g],T=0|u.words[g];if(w!==T){w<T?h=-1:w>T&&(h=1);break}}return h},x.prototype.gtn=function(u){return 1===this.cmpn(u)},x.prototype.gt=function(u){return 1===this.cmp(u)},x.prototype.gten=function(u){return this.cmpn(u)>=0},x.prototype.gte=function(u){return this.cmp(u)>=0},x.prototype.ltn=function(u){return-1===this.cmpn(u)},x.prototype.lt=function(u){return-1===this.cmp(u)},x.prototype.lten=function(u){return this.cmpn(u)<=0},x.prototype.lte=function(u){return this.cmp(u)<=0},x.prototype.eqn=function(u){return 0===this.cmpn(u)},x.prototype.eq=function(u){return 0===this.cmp(u)},x.red=function(u){return new _e(u)},x.prototype.toRed=function(u){return O(!this.red,"Already a number in reduction context"),O(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},x.prototype.fromRed=function(){return O(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(u){return this.red=u,this},x.prototype.forceRed=function(u){return O(!this.red,"Already a number in reduction context"),this._forceRed(u)},x.prototype.redAdd=function(u){return O(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},x.prototype.redIAdd=function(u){return O(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},x.prototype.redSub=function(u){return O(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},x.prototype.redISub=function(u){return O(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},x.prototype.redShl=function(u){return O(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},x.prototype.redMul=function(u){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},x.prototype.redIMul=function(u){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},x.prototype.redSqr=function(){return O(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return O(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return O(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return O(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return O(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(u){return O(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var ne={k256:null,p224:null,p192:null,p25519:null};function se(P,u){this.name=P,this.p=new x(u,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function oe(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ae(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function ve(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _e(P){if("string"==typeof P){var u=x._prime(P);this.m=u.p,this.prime=u}else O(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}function De(P){_e.call(this,P),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se.prototype._tmp=function(){var u=new x(null);return u.words=new Array(Math.ceil(this.n/13)),u},se.prototype.ireduce=function(u){var g,h=u;do{this.split(h,this.tmp),g=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(g>this.n);var w=g<this.n?-1:h.ucmp(this.p);return 0===w?(h.words[0]=0,h.length=1):w>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},se.prototype.split=function(u,h){u.iushrn(this.n,0,h)},se.prototype.imulK=function(u){return u.imul(this.k)},G(oe,se),oe.prototype.split=function(u,h){for(var g=4194303,w=Math.min(u.length,9),T=0;T<w;T++)h.words[T]=u.words[T];if(h.length=w,u.length<=9)return u.words[0]=0,void(u.length=1);var C=u.words[9];for(h.words[h.length++]=C&g,T=10;T<u.length;T++){var j=0|u.words[T];u.words[T-10]=(j&g)<<4|C>>>22,C=j}u.words[T-10]=C>>>=22,u.length-=0===C&&u.length>10?10:9},oe.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var h=0,g=0;g<u.length;g++){var w=0|u.words[g];u.words[g]=67108863&(h+=977*w),h=64*w+(h/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},G(ue,se),G(ae,se),G(ve,se),ve.prototype.imulK=function(u){for(var h=0,g=0;g<u.length;g++){var w=19*(0|u.words[g])+h,T=67108863&w;w>>>=26,u.words[g]=T,h=w}return 0!==h&&(u.words[u.length++]=h),u},x._prime=function(u){if(ne[u])return ne[u];var h;if("k256"===u)h=new oe;else if("p224"===u)h=new ue;else if("p192"===u)h=new ae;else{if("p25519"!==u)throw new Error("Unknown prime "+u);h=new ve}return ne[u]=h,h},_e.prototype._verify1=function(u){O(0===u.negative,"red works only with positives"),O(u.red,"red works only with red numbers")},_e.prototype._verify2=function(u,h){O(!(u.negative|h.negative),"red works only with positives"),O(u.red&&u.red===h.red,"red works only with red numbers")},_e.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},_e.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},_e.prototype.add=function(u,h){this._verify2(u,h);var g=u.add(h);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},_e.prototype.iadd=function(u,h){this._verify2(u,h);var g=u.iadd(h);return g.cmp(this.m)>=0&&g.isub(this.m),g},_e.prototype.sub=function(u,h){this._verify2(u,h);var g=u.sub(h);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},_e.prototype.isub=function(u,h){this._verify2(u,h);var g=u.isub(h);return g.cmpn(0)<0&&g.iadd(this.m),g},_e.prototype.shl=function(u,h){return this._verify1(u),this.imod(u.ushln(h))},_e.prototype.imul=function(u,h){return this._verify2(u,h),this.imod(u.imul(h))},_e.prototype.mul=function(u,h){return this._verify2(u,h),this.imod(u.mul(h))},_e.prototype.isqr=function(u){return this.imul(u,u.clone())},_e.prototype.sqr=function(u){return this.mul(u,u)},_e.prototype.sqrt=function(u){if(u.isZero())return u.clone();var h=this.m.andln(3);if(O(h%2==1),3===h){var g=this.m.add(new x(1)).iushrn(2);return this.pow(u,g)}for(var w=this.m.subn(1),T=0;!w.isZero()&&0===w.andln(1);)T++,w.iushrn(1);O(!w.isZero());var C=new x(1).toRed(this),j=C.redNeg(),M=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new x(2*d*d).toRed(this);0!==this.pow(d,M).cmp(j);)d.redIAdd(j);for(var v=this.pow(d,w),W=this.pow(u,w.addn(1).iushrn(1)),H=this.pow(u,w),ee=T;0!==H.cmp(C);){for(var fe=H,Ae=0;0!==fe.cmp(C);Ae++)fe=fe.redSqr();O(Ae<ee);var Pe=this.pow(v,new x(1).iushln(ee-Ae-1));W=W.redMul(Pe),v=Pe.redSqr(),H=H.redMul(v),ee=Ae}return W},_e.prototype.invm=function(u){var h=u._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},_e.prototype.pow=function(u,h){if(h.isZero())return new x(1).toRed(this);if(0===h.cmpn(1))return u.clone();var w=new Array(16);w[0]=new x(1).toRed(this),w[1]=u;for(var T=2;T<w.length;T++)w[T]=this.mul(w[T-1],u);var C=w[0],j=0,M=0,d=h.bitLength()%26;for(0===d&&(d=26),T=h.length-1;T>=0;T--){for(var v=h.words[T],W=d-1;W>=0;W--){var H=v>>W&1;C!==w[0]&&(C=this.sqr(C)),0!==H||0!==j?(j<<=1,j|=H,(4==++M||0===T&&0===W)&&(C=this.mul(C,w[j]),M=0,j=0)):M=0}d=26}return C},_e.prototype.convertTo=function(u){var h=u.umod(this.m);return h===u?h.clone():h},_e.prototype.convertFrom=function(u){var h=u.clone();return h.red=null,h},x.mont=function(u){return new De(u)},G(De,_e),De.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},De.prototype.convertFrom=function(u){var h=this.imod(u.mul(this.rinv));return h.red=null,h},De.prototype.imul=function(u,h){if(u.isZero()||h.isZero())return u.words[0]=0,u.length=1,u;var g=u.imul(h),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=g.isub(w).iushrn(this.shift),C=T;return T.cmp(this.m)>=0?C=T.isub(this.m):T.cmpn(0)<0&&(C=T.iadd(this.m)),C._forceRed(this)},De.prototype.mul=function(u,h){if(u.isZero()||h.isZero())return new x(0)._forceRed(this);var g=u.mul(h),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=g.isub(w).iushrn(this.shift),C=T;return T.cmp(this.m)>=0?C=T.isub(this.m):T.cmpn(0)<0&&(C=T.iadd(this.m)),C._forceRed(this)},De.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Be=E.nmd(Be),this)},48967:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.ephemeralKeySize=z.symmetricNonceLength=z.symmetricAlgorithm=z.isHkdfKeyCompressed=z.isEphemeralKeyCompressed=z.ellipticCurve=z.ECIES_CONFIG=void 0;var p=E(29277);z.ECIES_CONFIG=new(function(){return function $(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16}}()),z.ellipticCurve=function(){return z.ECIES_CONFIG.ellipticCurve},z.isEphemeralKeyCompressed=function(){return z.ECIES_CONFIG.isEphemeralKeyCompressed},z.isHkdfKeyCompressed=function(){return z.ECIES_CONFIG.isHkdfKeyCompressed},z.symmetricAlgorithm=function(){return z.ECIES_CONFIG.symmetricAlgorithm},z.symmetricNonceLength=function(){return z.ECIES_CONFIG.symmetricNonceLength},z.ephemeralKeySize=function(){var $={secp256k1:z.ECIES_CONFIG.isEphemeralKeyCompressed?p.COMPRESSED_PUBLIC_KEY_SIZE:p.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:p.CURVE25519_PUBLIC_KEY_SIZE,ed25519:p.CURVE25519_PUBLIC_KEY_SIZE};if(z.ECIES_CONFIG.ellipticCurve in $)return $[z.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}},29277:(Be,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.AEAD_TAG_LENGTH=z.XCHACHA20_NONCE_LENGTH=z.CURVE25519_PUBLIC_KEY_SIZE=z.ETH_PUBLIC_KEY_SIZE=z.UNCOMPRESSED_PUBLIC_KEY_SIZE=z.COMPRESSED_PUBLIC_KEY_SIZE=z.SECRET_KEY_LENGTH=void 0,z.SECRET_KEY_LENGTH=32,z.COMPRESSED_PUBLIC_KEY_SIZE=33,z.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,z.ETH_PUBLIC_KEY_SIZE=64,z.CURVE25519_PUBLIC_KEY_SIZE=32,z.XCHACHA20_NONCE_LENGTH=24,z.AEAD_TAG_LENGTH=16},63397:(Be,z,E)=>{"use strict";z.VV=z.Yc=z.w=void 0;var S=E(23790),O=E(48967),G=E(40774),x=E(77399);z.w=function B(K,D){var te,X=new G.PrivateKey,V=K instanceof Uint8Array?new G.PublicKey(K):G.PublicKey.fromHex(K),Z=X.encapsulate(V),Q=(0,x.aesEncrypt)(Z,D);return te=(0,O.isEphemeralKeyCompressed)()?X.publicKey.compressed:X.publicKey.uncompressed,Buffer.from((0,S.concatBytes)(te,Q))},z.Yc=function A(K,D){var X=K instanceof Uint8Array?new G.PrivateKey(K):G.PrivateKey.fromHex(K),V=(0,O.ephemeralKeySize)(),Z=new G.PublicKey(D.subarray(0,V)),Q=D.subarray(V),te=Z.decapsulate(X);return Buffer.from((0,x.aesDecrypt)(te,Q))};var N=E(48967);Object.defineProperty(z,"VV",{enumerable:!0,get:function(){return N.ECIES_CONFIG}});E(40774)},1210:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.PrivateKey=void 0;var p=E(23790),S=E(48967),O=E(77399),G=E(40762),x=function(){function B(A){var N=void 0===A?(0,O.getValidSecret)():A;if(!(0,O.isValidPrivateKey)(N))throw new Error("Invalid private key");this.data=N,this.publicKey=new G.PublicKey((0,O.getPublicKey)(N))}return B.fromHex=function(A){return new B((0,O.decodeHex)(A))},Object.defineProperty(B.prototype,"secret",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),B.prototype.toHex=function(){return(0,p.bytesToHex)(this.data)},B.prototype.encapsulate=function(A){var N,$;return(0,S.isHkdfKeyCompressed)()?(N=this.publicKey.compressed,$=this.multiply(A,!0)):(N=this.publicKey.uncompressed,$=this.multiply(A,!1)),(0,O.getSharedKey)(N,$)},B.prototype.multiply=function(A,N){return void 0===N&&(N=!1),(0,O.getSharedPoint)(this.data,A.compressed,N)},B.prototype.equals=function(A){return(0,p.equalBytes)(this.data,A.data)},B}();z.PrivateKey=x},40762:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.PublicKey=void 0;var p=E(23790),S=E(48967),O=E(77399),G=function(){function x(B){this.data=(0,O.convertPublicKeyFormat)(B,!0)}return x.fromHex=function(B){return new x((0,O.hexToPublicKey)(B))},Object.defineProperty(x.prototype,"uncompressed",{get:function(){return Buffer.from((0,O.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"compressed",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),x.prototype.toHex=function(B){return void 0===B&&(B=!0),(0,p.bytesToHex)(B?this.data:this.uncompressed)},x.prototype.decapsulate=function(B){var A,N;return(0,S.isHkdfKeyCompressed)()?(A=this.data,N=B.multiply(this,!0)):(A=this.uncompressed,N=B.multiply(this,!1)),(0,O.getSharedKey)(A,N)},x.prototype.equals=function(B){return(0,p.equalBytes)(this.data,B.data)},x}();z.PublicKey=G},40774:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.PublicKey=z.PrivateKey=void 0;var p=E(1210);Object.defineProperty(z,"PrivateKey",{enumerable:!0,get:function(){return p.PrivateKey}});var S=E(40762);Object.defineProperty(z,"PublicKey",{enumerable:!0,get:function(){return S.PublicKey}})},1849:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.aes256gcm=void 0;var p=E(23790),S=E(91426),O=E(29277);z.aes256gcm=function G(x,B,A){return{tagLength:O.AEAD_TAG_LENGTH,encrypt:function(K){var D=(0,S.createCipheriv)("aes-256-gcm",x,B);A&&D.setAAD(A);var X=D.update(K),V=D.final();return(0,p.concatBytes)(X,V,D.getAuthTag())},decrypt:function(K){var D=K.subarray(0,K.length-O.AEAD_TAG_LENGTH),X=K.subarray(-O.AEAD_TAG_LENGTH),V=(0,S.createDecipheriv)("aes-256-gcm",x,B);A&&V.setAAD(A),V.setAuthTag(X);var Z=V.update(D),Q=V.final();return(0,p.concatBytes)(Z,Q)}}}},77553:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.hexToPublicKey=z.convertPublicKeyFormat=z.getSharedPoint=z.getSharedKey=z.getPublicKey=z.isValidPrivateKey=z.getValidSecret=void 0;var p=E(23790),S=E(42098),O=E(57340),G=E(91717),x=E(48967),B=E(29277),A=E(99666),N=E(63364);function K(J){return te(function(q){return q.utils.isValidPrivateKey(J)},function(){return!0},function(){return!0})}function te(J,q,ne){if("secp256k1"===(0,x.ellipticCurve)())return J(G.secp256k1);if("x25519"===(0,x.ellipticCurve)())return q(O.x25519);if("ed25519"===(0,x.ellipticCurve)())return ne(O.ed25519);throw new Error("Not implemented")}z.getValidSecret=function $(){var J;do{J=(0,S.randomBytes)(B.SECRET_KEY_LENGTH)}while(!K(J));return J},z.isValidPrivateKey=K,z.getPublicKey=function D(J){return te(function(q){return q.getPublicKey(J)},function(q){return q.getPublicKey(J)},function(q){return q.getPublicKey(J)})},z.getSharedKey=function X(J,q){return(0,N.deriveKey)((0,p.concatBytes)(J,q))},z.getSharedPoint=function V(J,q,ne){return te(function(se){return se.getSharedSecret(J,q,ne)},function(se){return se.getSharedSecret(J,q)},function(se){var oe=se.utils.getExtendedPublicKey(J).scalar;return se.ExtendedPoint.fromHex(q).multiply(oe).toRawBytes()})},z.convertPublicKeyFormat=function Z(J,q){return te(function(ne){return ne.getSharedSecret(BigInt(1),J,q)},function(){return J},function(){return J})},z.hexToPublicKey=function Q(J){var q=(0,A.decodeHex)(J);return te(function(){if(q.length===B.ETH_PUBLIC_KEY_SIZE){var ne=new Uint8Array(1+q.length);return ne.set([4]),ne.set(q,1),ne}return q},function(){return q},function(){return q})}},99666:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.decodeHex=z.remove0x=void 0;var p=E(23790);function S(G){return G.startsWith("0x")||G.startsWith("0X")?G.slice(2):G}z.remove0x=S,z.decodeHex=function O(G){return(0,p.hexToBytes)(S(G))}},77399:function(Be,z,E){"use strict";var p=this&&this.__createBinding||(Object.create?function(O,G,x,B){void 0===B&&(B=x);var A=Object.getOwnPropertyDescriptor(G,x);(!A||("get"in A?!G.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return G[x]}}),Object.defineProperty(O,B,A)}:function(O,G,x,B){void 0===B&&(B=x),O[B]=G[x]}),S=this&&this.__exportStar||function(O,G){for(var x in O)"default"!==x&&!Object.prototype.hasOwnProperty.call(G,x)&&p(G,O,x)};Object.defineProperty(z,"__esModule",{value:!0}),S(E(77553),z),S(E(99666),z),S(E(63364),z)},63364:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.deriveKey=z.aesDecrypt=z.aesEncrypt=void 0;var p=E(59219),S=E(23790),O=E(42098),G=E(57334),x=E(1806),B=E(48967),A=E(29277),N=E(1849);function X(Q,te,J){var q=(0,B.symmetricAlgorithm)(),ne=Q?V:Z;if("aes-256-gcm"===q)return ne(N.aes256gcm,te,J,(0,B.symmetricNonceLength)());if("xchacha20"===q)return ne(p.xchacha20poly1305,te,J,A.XCHACHA20_NONCE_LENGTH);throw new Error("Not implemented")}function V(Q,te,J,q){var ne=(0,O.randomBytes)(q),oe=Q(te,ne).encrypt(J),ue=oe.subarray(0,oe.length-A.AEAD_TAG_LENGTH),ae=oe.subarray(-A.AEAD_TAG_LENGTH);return(0,S.concatBytes)(ne,ae,ue)}function Z(Q,te,J,q){var ne=q+A.AEAD_TAG_LENGTH,se=J.subarray(0,q),oe=J.subarray(q,ne),ue=J.subarray(ne),ae=Q(te,Uint8Array.from(se)),ve=(0,S.concatBytes)(ue,oe);return ae.decrypt(ve)}z.aesEncrypt=function $(Q,te){return X(!0,Q,te)},z.aesDecrypt=function K(Q,te){return X(!1,Q,te)},z.deriveKey=function D(Q){return(0,G.hkdf)(x.sha256,Q,void 0,void 0,32)}},32856:(Be,z)=>{"use strict";function E(A){if(!Number.isSafeInteger(A)||A<0)throw new Error(`Wrong positive integer: ${A}`)}function p(A){if("boolean"!=typeof A)throw new Error(`Expected boolean, not ${A}`)}function S(A,...N){if(!(A instanceof Uint8Array))throw new Error("Expected Uint8Array");if(N.length>0&&!N.includes(A.length))throw new Error(`Expected Uint8Array of length ${N}, not of length=${A.length}`)}function O(A){if("function"!=typeof A||"function"!=typeof A.create)throw new Error("hash must be wrapped by utils.wrapConstructor");E(A.outputLen),E(A.blockLen)}function G(A,N=!0){if(A.destroyed)throw new Error("Hash instance has been destroyed");if(N&&A.finished)throw new Error("Hash#digest() has already been called")}function x(A,N){S(A);const $=N.outputLen;if(A.length<$)throw new Error(`digestInto() expects output buffer of length at least ${$}`)}Object.defineProperty(z,"__esModule",{value:!0}),z.output=z.exists=z.hash=z.bytes=z.bool=z.number=void 0,z.number=E,z.bool=p,z.bytes=S,z.hash=O,z.exists=G,z.output=x,z.default={number:E,bool:p,bytes:S,hash:O,exists:G,output:x}},17035:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.poly1305=z.wrapConstructorWithKey=void 0;const p=E(23790),S=E(32856),O=(B,A)=>255&B[A++]|(255&B[A++])<<8;class G{constructor(A){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,A=(0,p.toBytes)(A),(0,p.ensureBytes)(A,32);const N=O(A,0),$=O(A,2),K=O(A,4),D=O(A,6),X=O(A,8),V=O(A,10),Z=O(A,12),Q=O(A,14);this.r[0]=8191&N,this.r[1]=8191&(N>>>13|$<<3),this.r[2]=7939&($>>>10|K<<6),this.r[3]=8191&(K>>>7|D<<9),this.r[4]=255&(D>>>4|X<<12),this.r[5]=X>>>1&8190,this.r[6]=8191&(X>>>14|V<<2),this.r[7]=8065&(V>>>11|Z<<5),this.r[8]=8191&(Z>>>8|Q<<8),this.r[9]=Q>>>5&127;for(let te=0;te<8;te++)this.pad[te]=O(A,16+2*te)}process(A,N,$=!1){const K=$?0:2048,{h:D,r:X}=this,V=X[0],Z=X[1],Q=X[2],te=X[3],J=X[4],q=X[5],ne=X[6],se=X[7],oe=X[8],ue=X[9],ae=O(A,N+0),ve=O(A,N+2),_e=O(A,N+4),De=O(A,N+6),P=O(A,N+8),u=O(A,N+10),h=O(A,N+12),g=O(A,N+14);let w=D[0]+(8191&ae),T=D[1]+(8191&(ae>>>13|ve<<3)),C=D[2]+(8191&(ve>>>10|_e<<6)),j=D[3]+(8191&(_e>>>7|De<<9)),M=D[4]+(8191&(De>>>4|P<<12)),d=D[5]+(P>>>1&8191),v=D[6]+(8191&(P>>>14|u<<2)),W=D[7]+(8191&(u>>>11|h<<5)),H=D[8]+(8191&(h>>>8|g<<8)),ee=D[9]+(g>>>5|K),fe=0,Ae=fe+w*V+T*(5*ue)+C*(5*oe)+j*(5*se)+M*(5*ne);fe=Ae>>>13,Ae&=8191,Ae+=d*(5*q)+v*(5*J)+W*(5*te)+H*(5*Q)+ee*(5*Z),fe+=Ae>>>13,Ae&=8191;let Pe=fe+w*Z+T*V+C*(5*ue)+j*(5*oe)+M*(5*se);fe=Pe>>>13,Pe&=8191,Pe+=d*(5*ne)+v*(5*q)+W*(5*J)+H*(5*te)+ee*(5*Q),fe+=Pe>>>13,Pe&=8191;let Le=fe+w*Q+T*Z+C*V+j*(5*ue)+M*(5*oe);fe=Le>>>13,Le&=8191,Le+=d*(5*se)+v*(5*ne)+W*(5*q)+H*(5*J)+ee*(5*te),fe+=Le>>>13,Le&=8191;let be=fe+w*te+T*Q+C*Z+j*V+M*(5*ue);fe=be>>>13,be&=8191,be+=d*(5*oe)+v*(5*se)+W*(5*ne)+H*(5*q)+ee*(5*J),fe+=be>>>13,be&=8191;let ge=fe+w*J+T*te+C*Q+j*Z+M*V;fe=ge>>>13,ge&=8191,ge+=d*(5*ue)+v*(5*oe)+W*(5*se)+H*(5*ne)+ee*(5*q),fe+=ge>>>13,ge&=8191;let Re=fe+w*q+T*J+C*te+j*Q+M*Z;fe=Re>>>13,Re&=8191,Re+=d*V+v*(5*ue)+W*(5*oe)+H*(5*se)+ee*(5*ne),fe+=Re>>>13,Re&=8191;let me=fe+w*ne+T*q+C*J+j*te+M*Q;fe=me>>>13,me&=8191,me+=d*Z+v*V+W*(5*ue)+H*(5*oe)+ee*(5*se),fe+=me>>>13,me&=8191;let xe=fe+w*se+T*ne+C*q+j*J+M*te;fe=xe>>>13,xe&=8191,xe+=d*Q+v*Z+W*V+H*(5*ue)+ee*(5*oe),fe+=xe>>>13,xe&=8191;let le=fe+w*oe+T*se+C*ne+j*q+M*J;fe=le>>>13,le&=8191,le+=d*te+v*Q+W*Z+H*V+ee*(5*ue),fe+=le>>>13,le&=8191;let he=fe+w*ue+T*oe+C*se+j*ne+M*q;fe=he>>>13,he&=8191,he+=d*J+v*te+W*Q+H*Z+ee*V,fe+=he>>>13,he&=8191,fe=(fe<<2)+fe|0,fe=fe+Ae|0,Ae=8191&fe,fe>>>=13,Pe+=fe,D[0]=Ae,D[1]=Pe,D[2]=Le,D[3]=be,D[4]=ge,D[5]=Re,D[6]=me,D[7]=xe,D[8]=le,D[9]=he}finalize(){const{h:A,pad:N}=this,$=new Uint16Array(10);let K=A[1]>>>13;A[1]&=8191;for(let V=2;V<10;V++)A[V]+=K,K=A[V]>>>13,A[V]&=8191;A[0]+=5*K,K=A[0]>>>13,A[0]&=8191,A[1]+=K,K=A[1]>>>13,A[1]&=8191,A[2]+=K,$[0]=A[0]+5,K=$[0]>>>13,$[0]&=8191;for(let V=1;V<10;V++)$[V]=A[V]+K,K=$[V]>>>13,$[V]&=8191;$[9]-=8192;let D=(1^K)-1;for(let V=0;V<10;V++)$[V]&=D;D=~D;for(let V=0;V<10;V++)A[V]=A[V]&D|$[V];A[0]=65535&(A[0]|A[1]<<13),A[1]=65535&(A[1]>>>3|A[2]<<10),A[2]=65535&(A[2]>>>6|A[3]<<7),A[3]=65535&(A[3]>>>9|A[4]<<4),A[4]=65535&(A[4]>>>12|A[5]<<1|A[6]<<14),A[5]=65535&(A[6]>>>2|A[7]<<11),A[6]=65535&(A[7]>>>5|A[8]<<8),A[7]=65535&(A[8]>>>8|A[9]<<5);let X=A[0]+N[0];A[0]=65535&X;for(let V=1;V<8;V++)X=(A[V]+N[V]|0)+(X>>>16)|0,A[V]=65535&X}update(A){S.default.exists(this);const{buffer:N,blockLen:$}=this,K=(A=(0,p.toBytes)(A)).length;for(let D=0;D<K;){const X=Math.min($-this.pos,K-D);if(X!==$)N.set(A.subarray(D,D+X),this.pos),this.pos+=X,D+=X,this.pos===$&&(this.process(N,0,!1),this.pos=0);else for(;$<=K-D;D+=$)this.process(A,D)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(A){S.default.exists(this),S.default.output(A,this),this.finished=!0;const{buffer:N,h:$}=this;let{pos:K}=this;if(K){for(N[K++]=1;K<16;K++)N[K]=0;this.process(N,0,!0)}this.finalize();let D=0;for(let X=0;X<8;X++)A[D++]=$[X]>>>0,A[D++]=$[X]>>>8;return A}digest(){const{buffer:A,outputLen:N}=this;this.digestInto(A);const $=A.slice(0,N);return this.destroy(),$}}function x(B){const A=($,K)=>B(K).update((0,p.toBytes)($)).digest(),N=B(new Uint8Array(32));return A.outputLen=N.outputLen,A.blockLen=N.blockLen,A.create=$=>B($),A}z.wrapConstructorWithKey=x,z.poly1305=x(B=>new G(B))},70580:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.salsaBasic=void 0;const p=E(32856),S=E(23790),O=(0,S.utf8ToBytes)("expand 16-byte k"),G=(0,S.utf8ToBytes)("expand 32-byte k"),x=(0,S.u32)(O),B=(0,S.u32)(G),A=$=>!($.byteOffset%4);z.salsaBasic=$=>{const{core:K,rounds:D,counterRight:X,counterLen:V,allow128bitKeys:Z,extendNonceFn:Q,blockLen:te}=(0,S.checkOpts)({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},$);p.default.number(V),p.default.number(D),p.default.number(te),p.default.bool(X),p.default.bool(Z);const J=te/4;if(te%4!=0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return(q,ne,se,oe,ue=0)=>{if(p.default.bytes(q),p.default.bytes(ne),p.default.bytes(se),oe||(oe=new Uint8Array(se.length)),p.default.bytes(oe),p.default.number(ue),ue<0||ue>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(oe.length<se.length)throw new Error(`Salsa/ChaCha: output (${oe.length}) is shorter than data (${se.length})`);const ae=[];let ve,_e;if(32===q.length)A(q)?ve=q:(ve=q.slice(),ae.push(ve)),_e=B;else{if(16!==q.length||!Z)throw new Error(`Salsa/ChaCha: invalid 32-byte key, got length=${q.length}`);ve=new Uint8Array(32),ve.set(q),ve.set(q,16),_e=x,ae.push(ve)}if(A(ne)||(ne=ne.slice(),ae.push(ne)),Q){if(ne.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");ve=Q(_e,ve,ne.subarray(0,16),new Uint8Array(32)),ae.push(ve),ne=ne.subarray(16)}const De=16-V;if(ne.length!==De)throw new Error(`Salsa/ChaCha: nonce must be ${De} or 16 bytes`);if(12!==De){const j=new Uint8Array(12);j.set(ne,X?0:12-ne.length),ae.push(ne=j)}const P=new Uint8Array(te),u=(0,S.u32)(P),h=(0,S.u32)(ve),g=(0,S.u32)(ne),w=A(se)&&(0,S.u32)(se),T=A(oe)&&(0,S.u32)(oe);ae.push(u);const C=se.length;for(let j=0,M=ue;j<C;M++){if(K(_e,h,g,u,M,D),M>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const d=Math.min(te,C-j);if(d===te&&T&&w){const v=j/4;if(j%4!=0)throw new Error("Salsa/ChaCha: invalid block position");for(let W=0;W<J;W++)T[v+W]=w[v+W]^u[W];j+=te}else{for(let v=0;v<d;v++)oe[j+v]=se[j+v]^P[v];j+=d}}for(let j=0;j<ae.length;j++)ae[j].fill(0);return oe}}},59219:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.xchacha20poly1305=z.chacha20poly1305=z._poly1305_aead=z.chacha12=z.chacha8=z.xchacha20=z.chacha20=z.chacha20orig=z.hchacha=void 0;const p=E(23790),S=E(17035),O=E(70580),G=(D,X)=>D<<X|D>>>32-X;function x(D,X,V,Z,Q,te=20){let J=D[0],q=D[1],ne=D[2],se=D[3],oe=X[0],ue=X[1],ae=X[2],ve=X[3],_e=X[4],De=X[5],P=X[6],u=X[7],h=Q,g=V[0],w=V[1],T=V[2],C=J,j=q,M=ne,d=se,v=oe,W=ue,H=ae,ee=ve,fe=_e,Ae=De,Pe=P,Le=u,be=h,ge=g,Re=w,me=T;for(let le=0;le<te;le+=2)C=C+v|0,be=G(be^C,16),fe=fe+be|0,v=G(v^fe,12),C=C+v|0,be=G(be^C,8),fe=fe+be|0,v=G(v^fe,7),j=j+W|0,ge=G(ge^j,16),Ae=Ae+ge|0,W=G(W^Ae,12),j=j+W|0,ge=G(ge^j,8),Ae=Ae+ge|0,W=G(W^Ae,7),M=M+H|0,Re=G(Re^M,16),Pe=Pe+Re|0,H=G(H^Pe,12),M=M+H|0,Re=G(Re^M,8),Pe=Pe+Re|0,H=G(H^Pe,7),d=d+ee|0,me=G(me^d,16),Le=Le+me|0,ee=G(ee^Le,12),d=d+ee|0,me=G(me^d,8),Le=Le+me|0,ee=G(ee^Le,7),C=C+W|0,me=G(me^C,16),Pe=Pe+me|0,W=G(W^Pe,12),C=C+W|0,me=G(me^C,8),Pe=Pe+me|0,W=G(W^Pe,7),j=j+H|0,be=G(be^j,16),Le=Le+be|0,H=G(H^Le,12),j=j+H|0,be=G(be^j,8),Le=Le+be|0,H=G(H^Le,7),M=M+ee|0,ge=G(ge^M,16),fe=fe+ge|0,ee=G(ee^fe,12),M=M+ee|0,ge=G(ge^M,8),fe=fe+ge|0,ee=G(ee^fe,7),d=d+v|0,Re=G(Re^d,16),Ae=Ae+Re|0,v=G(v^Ae,12),d=d+v|0,Re=G(Re^d,8),Ae=Ae+Re|0,v=G(v^Ae,7);let xe=0;Z[xe++]=J+C|0,Z[xe++]=q+j|0,Z[xe++]=ne+M|0,Z[xe++]=se+d|0,Z[xe++]=oe+v|0,Z[xe++]=ue+W|0,Z[xe++]=ae+H|0,Z[xe++]=ve+ee|0,Z[xe++]=_e+fe|0,Z[xe++]=De+Ae|0,Z[xe++]=P+Pe|0,Z[xe++]=u+Le|0,Z[xe++]=h+be|0,Z[xe++]=g+ge|0,Z[xe++]=w+Re|0,Z[xe++]=T+me|0}function B(D,X,V,Z){const Q=(0,p.u32)(X),te=(0,p.u32)(V),J=(0,p.u32)(Z);let q=D[0],ne=D[1],se=D[2],oe=D[3],ue=Q[0],ae=Q[1],ve=Q[2],_e=Q[3],De=Q[4],P=Q[5],u=Q[6],h=Q[7],g=te[0],w=te[1],T=te[2],C=te[3];for(let j=0;j<20;j+=2)q=q+ue|0,g=G(g^q,16),De=De+g|0,ue=G(ue^De,12),q=q+ue|0,g=G(g^q,8),De=De+g|0,ue=G(ue^De,7),ne=ne+ae|0,w=G(w^ne,16),P=P+w|0,ae=G(ae^P,12),ne=ne+ae|0,w=G(w^ne,8),P=P+w|0,ae=G(ae^P,7),se=se+ve|0,T=G(T^se,16),u=u+T|0,ve=G(ve^u,12),se=se+ve|0,T=G(T^se,8),u=u+T|0,ve=G(ve^u,7),oe=oe+_e|0,C=G(C^oe,16),h=h+C|0,_e=G(_e^h,12),oe=oe+_e|0,C=G(C^oe,8),h=h+C|0,_e=G(_e^h,7),q=q+ae|0,C=G(C^q,16),u=u+C|0,ae=G(ae^u,12),q=q+ae|0,C=G(C^q,8),u=u+C|0,ae=G(ae^u,7),ne=ne+ve|0,g=G(g^ne,16),h=h+g|0,ve=G(ve^h,12),ne=ne+ve|0,g=G(g^ne,8),h=h+g|0,ve=G(ve^h,7),se=se+_e|0,w=G(w^se,16),De=De+w|0,_e=G(_e^De,12),se=se+_e|0,w=G(w^se,8),De=De+w|0,_e=G(_e^De,7),oe=oe+ue|0,T=G(T^oe,16),P=P+T|0,ue=G(ue^P,12),oe=oe+ue|0,T=G(T^oe,8),P=P+T|0,ue=G(ue^P,7);return J[0]=q,J[1]=ne,J[2]=se,J[3]=oe,J[4]=g,J[5]=w,J[6]=T,J[7]=C,Z}z.hchacha=B,z.chacha20orig=(0,O.salsaBasic)({core:x,counterRight:!1,counterLen:8}),z.chacha20=(0,O.salsaBasic)({core:x,counterRight:!1,counterLen:4,allow128bitKeys:!1}),z.xchacha20=(0,O.salsaBasic)({core:x,counterRight:!1,counterLen:8,extendNonceFn:B,allow128bitKeys:!1}),z.chacha8=(0,O.salsaBasic)({core:x,counterRight:!1,counterLen:4,rounds:8}),z.chacha12=(0,O.salsaBasic)({core:x,counterRight:!1,counterLen:4,rounds:12});const A=new Uint8Array(16),N=(D,X)=>{D.update(X);const V=X.length%16;V&&D.update(A.subarray(V))},$=(D,X,V,Z,Q)=>{const te=D(X,V,new Uint8Array(32)),J=S.poly1305.create(te);Q&&N(J,Q),N(J,Z);const q=new Uint8Array(16),ne=(0,p.createView)(q);(0,p.setBigUint64)(ne,0,BigInt(Q?Q.length:0),!0),(0,p.setBigUint64)(ne,8,BigInt(Z.length),!0),J.update(q);const se=J.digest();return te.fill(0),se};z._poly1305_aead=D=>(X,V,Z)=>((0,p.ensureBytes)(X,32),(0,p.ensureBytes)(V),{tagLength:16,encrypt:(te,J)=>{const q=te.length,ne=q+16;J?(0,p.ensureBytes)(J,ne):J=new Uint8Array(ne),D(X,V,te,J,1);const se=$(D,X,V,J.subarray(0,-16),Z);return J.set(se,q),J},decrypt:(te,J)=>{const q=te.length,ne=q-16;if(q<16)throw new Error("encrypted data must be at least 16 bytes");J?(0,p.ensureBytes)(J,ne):J=new Uint8Array(ne);const se=te.subarray(0,-16),oe=te.subarray(-16),ue=$(D,X,V,se,Z);if(!(0,p.equalBytes)(oe,ue))throw new Error("invalid tag");return D(X,V,se,J,1),J}}),z.chacha20poly1305=(0,z._poly1305_aead)(z.chacha20),z.xchacha20poly1305=(0,z._poly1305_aead)(z.xchacha20)},23790:(Be,z,E)=>{"use strict";var p=E(29293).default;Object.defineProperty(z,"__esModule",{value:!0}),z.setBigUint64=z.Hash=z.equalBytes=z.ensureBytes=z.checkOpts=z.concatBytes=z.toBytes=z.bytesToUtf8=z.utf8ToBytes=z.asyncLoop=z.nextTick=z.hexToBytes=z.bytesToHex=z.isLE=z.createView=z.u32=z.u16=z.u8=void 0;const S=ae=>ae instanceof Uint8Array;if(z.u8=ae=>new Uint8Array(ae.buffer,ae.byteOffset,ae.byteLength),z.u16=ae=>new Uint16Array(ae.buffer,ae.byteOffset,Math.floor(ae.byteLength/2)),z.u32=ae=>new Uint32Array(ae.buffer,ae.byteOffset,Math.floor(ae.byteLength/4)),z.createView=ae=>new DataView(ae.buffer,ae.byteOffset,ae.byteLength),z.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!z.isLE)throw new Error("Non little-endian hardware is not supported");const A=Array.from({length:256},(ae,ve)=>ve.toString(16).padStart(2,"0"));function X(){return(X=p(function*(ae,ve,_e){let De=Date.now();for(let P=0;P<ae;P++){_e(P);const u=Date.now()-De;u>=0&&u<ve||(yield(0,z.nextTick)(),De+=u)}})).apply(this,arguments)}function V(ae){if("string"!=typeof ae)throw new Error("utf8ToBytes expected string, got "+typeof ae);return new Uint8Array((new TextEncoder).encode(ae))}z.bytesToHex=function N(ae){if(!S(ae))throw new Error("Uint8Array expected");let ve="";for(let _e=0;_e<ae.length;_e++)ve+=A[ae[_e]];return ve},z.hexToBytes=function $(ae){if("string"!=typeof ae)throw new Error("hex string expected, got "+typeof ae);const ve=ae.length;if(ve%2)throw new Error("padded hex string expected, got unpadded hex of length "+ve);const _e=new Uint8Array(ve/2);for(let De=0;De<_e.length;De++){const P=2*De,u=ae.slice(P,P+2),h=Number.parseInt(u,16);if(Number.isNaN(h)||h<0)throw new Error("Invalid byte sequence");_e[De]=h}return _e},z.nextTick=function(){var ae=p(function*(){});return function(){return ae.apply(this,arguments)}}(),z.asyncLoop=function D(ae,ve,_e){return X.apply(this,arguments)},z.utf8ToBytes=V,z.bytesToUtf8=function Z(ae){return(new TextDecoder).decode(ae)},z.toBytes=function Q(ae){if("string"==typeof ae&&(ae=V(ae)),!S(ae))throw new Error("expected Uint8Array, got "+typeof ae);return ae},z.concatBytes=function te(...ae){const ve=new Uint8Array(ae.reduce((De,P)=>De+P.length,0));let _e=0;return ae.forEach(De=>{if(!S(De))throw new Error("Uint8Array expected");ve.set(De,_e),_e+=De.length}),ve},z.checkOpts=function q(ae,ve){if(void 0!==ve&&("object"!=typeof ve||!(ae=>"[object Object]"===Object.prototype.toString.call(ae)&&ae.constructor===Object)(ve)))throw new Error("options must be object or undefined");return Object.assign(ae,ve)},z.ensureBytes=function ne(ae,ve){if(!(ae instanceof Uint8Array))throw new Error("Uint8Array expected");if("number"==typeof ve&&ae.length!==ve)throw new Error(`Uint8Array length ${ve} expected`)},z.equalBytes=function se(ae,ve){if(ae.length!==ve.length)throw new Error("equalBytes: Different size of Uint8Arrays");let _e=!0;for(let De=0;De<ae.length;De++)_e&&(_e=ae[De]===ve[De]);return _e},z.Hash=class oe{},z.setBigUint64=function ue(ae,ve,_e,De){if("function"==typeof ae.setBigUint64)return ae.setBigUint64(ve,_e,De);const P=BigInt(32),u=BigInt(4294967295),h=Number(_e>>P&u),g=Number(_e&u),T=De?0:4;ae.setUint32(ve+(De?4:0),h,De),ae.setUint32(ve+T,g,De)}},89742:(Be,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.crypto=void 0,z.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},42098:(Be,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getWebcryptoSubtle=z.randomBytes=void 0;const p=E(89742);z.randomBytes=function S(G=32){if(p.crypto&&"function"==typeof p.crypto.getRandomValues)return p.crypto.getRandomValues(new Uint8Array(G));throw new Error("crypto.getRandomValues must be defined")},z.getWebcryptoSubtle=function O(){if(p.crypto&&"object"==typeof p.crypto.subtle&&null!=p.crypto.subtle)return p.crypto.subtle;throw new Error("crypto.subtle must be defined")}},90518:(Be,z,E)=>{"use strict";var p=z;p.version=E(1636).rE,p.utils=E(3136),p.rand=E(35294),p.curve=E(8729),p.curves=E(23401),p.ec=E(29042),p.eddsa=E(83045)},98828:(Be,z,E)=>{"use strict";var p=E(88723),S=E(3136),O=S.getNAF,G=S.getJSF,x=S.assert;function B(N,$){this.type=N,this.p=new p($.p,16),this.red=$.prime?p.red($.prime):p.mont(this.p),this.zero=new p(0).toRed(this.red),this.one=new p(1).toRed(this.red),this.two=new p(2).toRed(this.red),this.n=$.n&&new p($.n,16),this.g=$.g&&this.pointFromJSON($.g,$.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var K=this.n&&this.p.div(this.n);!K||K.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function A(N,$){this.curve=N,this.type=$,this.precomputed=null}Be.exports=B,B.prototype.point=function(){throw new Error("Not implemented")},B.prototype.validate=function(){throw new Error("Not implemented")},B.prototype._fixedNafMul=function($,K){x($.precomputed);var D=$._getDoubles(),X=O(K,1,this._bitLength),V=(1<<D.step+1)-(D.step%2==0?2:1);V/=3;var Q,te,Z=[];for(Q=0;Q<X.length;Q+=D.step){te=0;for(var J=Q+D.step-1;J>=Q;J--)te=(te<<1)+X[J];Z.push(te)}for(var q=this.jpoint(null,null,null),ne=this.jpoint(null,null,null),se=V;se>0;se--){for(Q=0;Q<Z.length;Q++)(te=Z[Q])===se?ne=ne.mixedAdd(D.points[Q]):te===-se&&(ne=ne.mixedAdd(D.points[Q].neg()));q=q.add(ne)}return q.toP()},B.prototype._wnafMul=function($,K){for(var D=4,X=$._getNAFPoints(D),V=X.points,Z=O(K,D=X.wnd,this._bitLength),Q=this.jpoint(null,null,null),te=Z.length-1;te>=0;te--){for(var J=0;te>=0&&0===Z[te];te--)J++;if(te>=0&&J++,Q=Q.dblp(J),te<0)break;var q=Z[te];x(0!==q),Q="affine"===$.type?Q.mixedAdd(q>0?V[q-1>>1]:V[-q-1>>1].neg()):Q.add(q>0?V[q-1>>1]:V[-q-1>>1].neg())}return"affine"===$.type?Q.toP():Q},B.prototype._wnafMulAdd=function($,K,D,X,V){var q,ne,se,Z=this._wnafT1,Q=this._wnafT2,te=this._wnafT3,J=0;for(q=0;q<X;q++){var oe=(se=K[q])._getNAFPoints($);Z[q]=oe.wnd,Q[q]=oe.points}for(q=X-1;q>=1;q-=2){var ue=q-1,ae=q;if(1===Z[ue]&&1===Z[ae]){var ve=[K[ue],null,null,K[ae]];0===K[ue].y.cmp(K[ae].y)?(ve[1]=K[ue].add(K[ae]),ve[2]=K[ue].toJ().mixedAdd(K[ae].neg())):0===K[ue].y.cmp(K[ae].y.redNeg())?(ve[1]=K[ue].toJ().mixedAdd(K[ae]),ve[2]=K[ue].add(K[ae].neg())):(ve[1]=K[ue].toJ().mixedAdd(K[ae]),ve[2]=K[ue].toJ().mixedAdd(K[ae].neg()));var _e=[-3,-1,-5,-7,0,7,5,1,3],De=G(D[ue],D[ae]);for(J=Math.max(De[0].length,J),te[ue]=new Array(J),te[ae]=new Array(J),ne=0;ne<J;ne++)te[ue][ne]=_e[3*(1+(0|De[0][ne]))+(1+(0|De[1][ne]))],te[ae][ne]=0,Q[ue]=ve}else te[ue]=O(D[ue],Z[ue],this._bitLength),te[ae]=O(D[ae],Z[ae],this._bitLength),J=Math.max(te[ue].length,J),J=Math.max(te[ae].length,J)}var h=this.jpoint(null,null,null),g=this._wnafT4;for(q=J;q>=0;q--){for(var w=0;q>=0;){var T=!0;for(ne=0;ne<X;ne++)g[ne]=0|te[ne][q],0!==g[ne]&&(T=!1);if(!T)break;w++,q--}if(q>=0&&w++,h=h.dblp(w),q<0)break;for(ne=0;ne<X;ne++){var C=g[ne];0!==C&&(C>0?se=Q[ne][C-1>>1]:C<0&&(se=Q[ne][-C-1>>1].neg()),h="affine"===se.type?h.mixedAdd(se):h.add(se))}}for(q=0;q<X;q++)Q[q]=null;return V?h:h.toP()},B.BasePoint=A,A.prototype.eq=function(){throw new Error("Not implemented")},A.prototype.validate=function(){return this.curve.validate(this)},B.prototype.decodePoint=function($,K){$=S.toArray($,K);var D=this.p.byteLength();if((4===$[0]||6===$[0]||7===$[0])&&$.length-1==2*D)return 6===$[0]?x($[$.length-1]%2==0):7===$[0]&&x($[$.length-1]%2==1),this.point($.slice(1,1+D),$.slice(1+D,1+2*D));if((2===$[0]||3===$[0])&&$.length-1===D)return this.pointFromX($.slice(1,1+D),3===$[0]);throw new Error("Unknown point format")},A.prototype.encodeCompressed=function($){return this.encode($,!0)},A.prototype._encode=function($){var K=this.curve.p.byteLength(),D=this.getX().toArray("be",K);return $?[this.getY().isEven()?2:3].concat(D):[4].concat(D,this.getY().toArray("be",K))},A.prototype.encode=function($,K){return S.encode(this._encode(K),$)},A.prototype.precompute=function($){if(this.precomputed)return this;var K={doubles:null,naf:null,beta:null};return K.naf=this._getNAFPoints(8),K.doubles=this._getDoubles(4,$),K.beta=this._getBeta(),this.precomputed=K,this},A.prototype._hasDoubles=function($){if(!this.precomputed)return!1;var K=this.precomputed.doubles;return!!K&&K.points.length>=Math.ceil(($.bitLength()+1)/K.step)},A.prototype._getDoubles=function($,K){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var D=[this],X=this,V=0;V<K;V+=$){for(var Z=0;Z<$;Z++)X=X.dbl();D.push(X)}return{step:$,points:D}},A.prototype._getNAFPoints=function($){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var K=[this],D=(1<<$)-1,X=1===D?null:this.dbl(),V=1;V<D;V++)K[V]=K[V-1].add(X);return{wnd:$,points:K}},A.prototype._getBeta=function(){return null},A.prototype.dblp=function($){for(var K=this,D=0;D<$;D++)K=K.dbl();return K}},55537:(Be,z,E)=>{"use strict";var p=E(3136),S=E(88723),O=E(71993),G=E(98828),x=p.assert;function B(N){this.twisted=1!=(0|N.a),this.mOneA=this.twisted&&-1==(0|N.a),this.extended=this.mOneA,G.call(this,"edwards",N),this.a=new S(N.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new S(N.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new S(N.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),x(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|N.c)}function A(N,$,K,D,X){G.BasePoint.call(this,N,"projective"),null===$&&null===K&&null===D?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new S($,16),this.y=new S(K,16),this.z=D?new S(D,16):this.curve.one,this.t=X&&new S(X,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}O(B,G),Be.exports=B,B.prototype._mulA=function($){return this.mOneA?$.redNeg():this.a.redMul($)},B.prototype._mulC=function($){return this.oneC?$:this.c.redMul($)},B.prototype.jpoint=function($,K,D,X){return this.point($,K,D,X)},B.prototype.pointFromX=function($,K){($=new S($,16)).red||($=$.toRed(this.red));var D=$.redSqr(),X=this.c2.redSub(this.a.redMul(D)),V=this.one.redSub(this.c2.redMul(this.d).redMul(D)),Z=X.redMul(V.redInvm()),Q=Z.redSqrt();if(0!==Q.redSqr().redSub(Z).cmp(this.zero))throw new Error("invalid point");var te=Q.fromRed().isOdd();return(K&&!te||!K&&te)&&(Q=Q.redNeg()),this.point($,Q)},B.prototype.pointFromY=function($,K){($=new S($,16)).red||($=$.toRed(this.red));var D=$.redSqr(),X=D.redSub(this.c2),V=D.redMul(this.d).redMul(this.c2).redSub(this.a),Z=X.redMul(V.redInvm());if(0===Z.cmp(this.zero)){if(K)throw new Error("invalid point");return this.point(this.zero,$)}var Q=Z.redSqrt();if(0!==Q.redSqr().redSub(Z).cmp(this.zero))throw new Error("invalid point");return Q.fromRed().isOdd()!==K&&(Q=Q.redNeg()),this.point(Q,$)},B.prototype.validate=function($){if($.isInfinity())return!0;$.normalize();var K=$.x.redSqr(),D=$.y.redSqr(),X=K.redMul(this.a).redAdd(D),V=this.c2.redMul(this.one.redAdd(this.d.redMul(K).redMul(D)));return 0===X.cmp(V)},O(A,G.BasePoint),B.prototype.pointFromJSON=function($){return A.fromJSON(this,$)},B.prototype.point=function($,K,D,X){return new A(this,$,K,D,X)},A.fromJSON=function($,K){return new A($,K[0],K[1],K[2])},A.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},A.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},A.prototype._extDbl=function(){var $=this.x.redSqr(),K=this.y.redSqr(),D=this.z.redSqr();D=D.redIAdd(D);var X=this.curve._mulA($),V=this.x.redAdd(this.y).redSqr().redISub($).redISub(K),Z=X.redAdd(K),Q=Z.redSub(D),te=X.redSub(K),J=V.redMul(Q),q=Z.redMul(te),ne=V.redMul(te),se=Q.redMul(Z);return this.curve.point(J,q,se,ne)},A.prototype._projDbl=function(){var X,V,Z,Q,te,J,$=this.x.redAdd(this.y).redSqr(),K=this.x.redSqr(),D=this.y.redSqr();if(this.curve.twisted){var q=(Q=this.curve._mulA(K)).redAdd(D);this.zOne?(X=$.redSub(K).redSub(D).redMul(q.redSub(this.curve.two)),V=q.redMul(Q.redSub(D)),Z=q.redSqr().redSub(q).redSub(q)):(te=this.z.redSqr(),J=q.redSub(te).redISub(te),X=$.redSub(K).redISub(D).redMul(J),V=q.redMul(Q.redSub(D)),Z=q.redMul(J))}else Q=K.redAdd(D),te=this.curve._mulC(this.z).redSqr(),J=Q.redSub(te).redSub(te),X=this.curve._mulC($.redISub(Q)).redMul(J),V=this.curve._mulC(Q).redMul(K.redISub(D)),Z=Q.redMul(J);return this.curve.point(X,V,Z)},A.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},A.prototype._extAdd=function($){var K=this.y.redSub(this.x).redMul($.y.redSub($.x)),D=this.y.redAdd(this.x).redMul($.y.redAdd($.x)),X=this.t.redMul(this.curve.dd).redMul($.t),V=this.z.redMul($.z.redAdd($.z)),Z=D.redSub(K),Q=V.redSub(X),te=V.redAdd(X),J=D.redAdd(K),q=Z.redMul(Q),ne=te.redMul(J),se=Z.redMul(J),oe=Q.redMul(te);return this.curve.point(q,ne,oe,se)},A.prototype._projAdd=function($){var ne,se,K=this.z.redMul($.z),D=K.redSqr(),X=this.x.redMul($.x),V=this.y.redMul($.y),Z=this.curve.d.redMul(X).redMul(V),Q=D.redSub(Z),te=D.redAdd(Z),J=this.x.redAdd(this.y).redMul($.x.redAdd($.y)).redISub(X).redISub(V),q=K.redMul(Q).redMul(J);return this.curve.twisted?(ne=K.redMul(te).redMul(V.redSub(this.curve._mulA(X))),se=Q.redMul(te)):(ne=K.redMul(te).redMul(V.redSub(X)),se=this.curve._mulC(Q).redMul(te)),this.curve.point(q,ne,se)},A.prototype.add=function($){return this.isInfinity()?$:$.isInfinity()?this:this.curve.extended?this._extAdd($):this._projAdd($)},A.prototype.mul=function($){return this._hasDoubles($)?this.curve._fixedNafMul(this,$):this.curve._wnafMul(this,$)},A.prototype.mulAdd=function($,K,D){return this.curve._wnafMulAdd(1,[this,K],[$,D],2,!1)},A.prototype.jmulAdd=function($,K,D){return this.curve._wnafMulAdd(1,[this,K],[$,D],2,!0)},A.prototype.normalize=function(){if(this.zOne)return this;var $=this.z.redInvm();return this.x=this.x.redMul($),this.y=this.y.redMul($),this.t&&(this.t=this.t.redMul($)),this.z=this.curve.one,this.zOne=!0,this},A.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},A.prototype.getX=function(){return this.normalize(),this.x.fromRed()},A.prototype.getY=function(){return this.normalize(),this.y.fromRed()},A.prototype.eq=function($){return this===$||0===this.getX().cmp($.getX())&&0===this.getY().cmp($.getY())},A.prototype.eqXToP=function($){var K=$.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(K))return!0;for(var D=$.clone(),X=this.curve.redN.redMul(this.z);;){if(D.iadd(this.curve.n),D.cmp(this.curve.p)>=0)return!1;if(K.redIAdd(X),0===this.x.cmp(K))return!0}},A.prototype.toP=A.prototype.normalize,A.prototype.mixedAdd=A.prototype.add},8729:(Be,z,E)=>{"use strict";var p=z;p.base=E(98828),p.short=E(68075),p.mont=E(64947),p.edwards=E(55537)},64947:(Be,z,E)=>{"use strict";var p=E(88723),S=E(71993),O=E(98828),G=E(3136);function x(A){O.call(this,"mont",A),this.a=new p(A.a,16).toRed(this.red),this.b=new p(A.b,16).toRed(this.red),this.i4=new p(4).toRed(this.red).redInvm(),this.two=new p(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function B(A,N,$){O.BasePoint.call(this,A,"projective"),null===N&&null===$?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new p(N,16),this.z=new p($,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}S(x,O),Be.exports=x,x.prototype.validate=function(N){var $=N.normalize().x,K=$.redSqr(),D=K.redMul($).redAdd(K.redMul(this.a)).redAdd($);return 0===D.redSqrt().redSqr().cmp(D)},S(B,O.BasePoint),x.prototype.decodePoint=function(N,$){return this.point(G.toArray(N,$),1)},x.prototype.point=function(N,$){return new B(this,N,$)},x.prototype.pointFromJSON=function(N){return B.fromJSON(this,N)},B.prototype.precompute=function(){},B.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},B.fromJSON=function(N,$){return new B(N,$[0],$[1]||N.one)},B.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},B.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},B.prototype.dbl=function(){var $=this.x.redAdd(this.z).redSqr(),D=this.x.redSub(this.z).redSqr(),X=$.redSub(D),V=$.redMul(D),Z=X.redMul(D.redAdd(this.curve.a24.redMul(X)));return this.curve.point(V,Z)},B.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},B.prototype.diffAdd=function(N,$){var K=this.x.redAdd(this.z),D=this.x.redSub(this.z),X=N.x.redAdd(N.z),Z=N.x.redSub(N.z).redMul(K),Q=X.redMul(D),te=$.z.redMul(Z.redAdd(Q).redSqr()),J=$.x.redMul(Z.redISub(Q).redSqr());return this.curve.point(te,J)},B.prototype.mul=function(N){for(var $=N.clone(),K=this,D=this.curve.point(null,null),V=[];0!==$.cmpn(0);$.iushrn(1))V.push($.andln(1));for(var Z=V.length-1;Z>=0;Z--)0===V[Z]?(K=K.diffAdd(D,this),D=D.dbl()):(D=K.diffAdd(D,this),K=K.dbl());return D},B.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},B.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},B.prototype.eq=function(N){return 0===this.getX().cmp(N.getX())},B.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},B.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},68075:(Be,z,E)=>{"use strict";var p=E(3136),S=E(88723),O=E(71993),G=E(98828),x=p.assert;function B($){G.call(this,"short",$),this.a=new S($.a,16).toRed(this.red),this.b=new S($.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism($),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function A($,K,D,X){G.BasePoint.call(this,$,"affine"),null===K&&null===D?(this.x=null,this.y=null,this.inf=!0):(this.x=new S(K,16),this.y=new S(D,16),X&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function N($,K,D,X){G.BasePoint.call(this,$,"jacobian"),null===K&&null===D&&null===X?(this.x=this.curve.one,this.y=this.curve.one,this.z=new S(0)):(this.x=new S(K,16),this.y=new S(D,16),this.z=new S(X,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}O(B,G),Be.exports=B,B.prototype._getEndomorphism=function(K){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var D,X;if(K.beta)D=new S(K.beta,16).toRed(this.red);else{var V=this._getEndoRoots(this.p);D=(D=V[0].cmp(V[1])<0?V[0]:V[1]).toRed(this.red)}if(K.lambda)X=new S(K.lambda,16);else{var Z=this._getEndoRoots(this.n);0===this.g.mul(Z[0]).x.cmp(this.g.x.redMul(D))?X=Z[0]:x(0===this.g.mul(X=Z[1]).x.cmp(this.g.x.redMul(D)))}return{beta:D,lambda:X,basis:K.basis?K.basis.map(function(te){return{a:new S(te.a,16),b:new S(te.b,16)}}):this._getEndoBasis(X)}}},B.prototype._getEndoRoots=function(K){var D=K===this.p?this.red:S.mont(K),X=new S(2).toRed(D).redInvm(),V=X.redNeg(),Z=new S(3).toRed(D).redNeg().redSqrt().redMul(X);return[V.redAdd(Z).fromRed(),V.redSub(Z).fromRed()]},B.prototype._getEndoBasis=function(K){for(var q,ne,se,oe,ue,ae,ve,De,P,D=this.n.ushrn(Math.floor(this.n.bitLength()/2)),X=K,V=this.n.clone(),Z=new S(1),Q=new S(0),te=new S(0),J=new S(1),_e=0;0!==X.cmpn(0);){var u=V.div(X);De=V.sub(u.mul(X)),P=te.sub(u.mul(Z));var h=J.sub(u.mul(Q));if(!se&&De.cmp(D)<0)q=ve.neg(),ne=Z,se=De.neg(),oe=P;else if(se&&2==++_e)break;ve=De,V=X,X=De,te=Z,Z=P,J=Q,Q=h}ue=De.neg(),ae=P;var g=se.sqr().add(oe.sqr());return ue.sqr().add(ae.sqr()).cmp(g)>=0&&(ue=q,ae=ne),se.negative&&(se=se.neg(),oe=oe.neg()),ue.negative&&(ue=ue.neg(),ae=ae.neg()),[{a:se,b:oe},{a:ue,b:ae}]},B.prototype._endoSplit=function(K){var D=this.endo.basis,X=D[0],V=D[1],Z=V.b.mul(K).divRound(this.n),Q=X.b.neg().mul(K).divRound(this.n),te=Z.mul(X.a),J=Q.mul(V.a),q=Z.mul(X.b),ne=Q.mul(V.b);return{k1:K.sub(te).sub(J),k2:q.add(ne).neg()}},B.prototype.pointFromX=function(K,D){(K=new S(K,16)).red||(K=K.toRed(this.red));var X=K.redSqr().redMul(K).redIAdd(K.redMul(this.a)).redIAdd(this.b),V=X.redSqrt();if(0!==V.redSqr().redSub(X).cmp(this.zero))throw new Error("invalid point");var Z=V.fromRed().isOdd();return(D&&!Z||!D&&Z)&&(V=V.redNeg()),this.point(K,V)},B.prototype.validate=function(K){if(K.inf)return!0;var D=K.x,X=K.y,V=this.a.redMul(D),Z=D.redSqr().redMul(D).redIAdd(V).redIAdd(this.b);return 0===X.redSqr().redISub(Z).cmpn(0)},B.prototype._endoWnafMulAdd=function(K,D,X){for(var V=this._endoWnafT1,Z=this._endoWnafT2,Q=0;Q<K.length;Q++){var te=this._endoSplit(D[Q]),J=K[Q],q=J._getBeta();te.k1.negative&&(te.k1.ineg(),J=J.neg(!0)),te.k2.negative&&(te.k2.ineg(),q=q.neg(!0)),V[2*Q]=J,V[2*Q+1]=q,Z[2*Q]=te.k1,Z[2*Q+1]=te.k2}for(var ne=this._wnafMulAdd(1,V,Z,2*Q,X),se=0;se<2*Q;se++)V[se]=null,Z[se]=null;return ne},O(A,G.BasePoint),B.prototype.point=function(K,D,X){return new A(this,K,D,X)},B.prototype.pointFromJSON=function(K,D){return A.fromJSON(this,K,D)},A.prototype._getBeta=function(){if(this.curve.endo){var K=this.precomputed;if(K&&K.beta)return K.beta;var D=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(K){var X=this.curve,V=function(Z){return X.point(Z.x.redMul(X.endo.beta),Z.y)};K.beta=D,D.precomputed={beta:null,naf:K.naf&&{wnd:K.naf.wnd,points:K.naf.points.map(V)},doubles:K.doubles&&{step:K.doubles.step,points:K.doubles.points.map(V)}}}return D}},A.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},A.fromJSON=function(K,D,X){"string"==typeof D&&(D=JSON.parse(D));var V=K.point(D[0],D[1],X);if(!D[2])return V;function Z(te){return K.point(te[0],te[1],X)}var Q=D[2];return V.precomputed={beta:null,doubles:Q.doubles&&{step:Q.doubles.step,points:[V].concat(Q.doubles.points.map(Z))},naf:Q.naf&&{wnd:Q.naf.wnd,points:[V].concat(Q.naf.points.map(Z))}},V},A.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},A.prototype.isInfinity=function(){return this.inf},A.prototype.add=function(K){if(this.inf)return K;if(K.inf)return this;if(this.eq(K))return this.dbl();if(this.neg().eq(K))return this.curve.point(null,null);if(0===this.x.cmp(K.x))return this.curve.point(null,null);var D=this.y.redSub(K.y);0!==D.cmpn(0)&&(D=D.redMul(this.x.redSub(K.x).redInvm()));var X=D.redSqr().redISub(this.x).redISub(K.x),V=D.redMul(this.x.redSub(X)).redISub(this.y);return this.curve.point(X,V)},A.prototype.dbl=function(){if(this.inf)return this;var K=this.y.redAdd(this.y);if(0===K.cmpn(0))return this.curve.point(null,null);var D=this.curve.a,X=this.x.redSqr(),V=K.redInvm(),Z=X.redAdd(X).redIAdd(X).redIAdd(D).redMul(V),Q=Z.redSqr().redISub(this.x.redAdd(this.x)),te=Z.redMul(this.x.redSub(Q)).redISub(this.y);return this.curve.point(Q,te)},A.prototype.getX=function(){return this.x.fromRed()},A.prototype.getY=function(){return this.y.fromRed()},A.prototype.mul=function(K){return K=new S(K,16),this.isInfinity()?this:this._hasDoubles(K)?this.curve._fixedNafMul(this,K):this.curve.endo?this.curve._endoWnafMulAdd([this],[K]):this.curve._wnafMul(this,K)},A.prototype.mulAdd=function(K,D,X){var V=[this,D],Z=[K,X];return this.curve.endo?this.curve._endoWnafMulAdd(V,Z):this.curve._wnafMulAdd(1,V,Z,2)},A.prototype.jmulAdd=function(K,D,X){var V=[this,D],Z=[K,X];return this.curve.endo?this.curve._endoWnafMulAdd(V,Z,!0):this.curve._wnafMulAdd(1,V,Z,2,!0)},A.prototype.eq=function(K){return this===K||this.inf===K.inf&&(this.inf||0===this.x.cmp(K.x)&&0===this.y.cmp(K.y))},A.prototype.neg=function(K){if(this.inf)return this;var D=this.curve.point(this.x,this.y.redNeg());if(K&&this.precomputed){var X=this.precomputed,V=function(Z){return Z.neg()};D.precomputed={naf:X.naf&&{wnd:X.naf.wnd,points:X.naf.points.map(V)},doubles:X.doubles&&{step:X.doubles.step,points:X.doubles.points.map(V)}}}return D},A.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},O(N,G.BasePoint),B.prototype.jpoint=function(K,D,X){return new N(this,K,D,X)},N.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var K=this.z.redInvm(),D=K.redSqr(),X=this.x.redMul(D),V=this.y.redMul(D).redMul(K);return this.curve.point(X,V)},N.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},N.prototype.add=function(K){if(this.isInfinity())return K;if(K.isInfinity())return this;var D=K.z.redSqr(),X=this.z.redSqr(),V=this.x.redMul(D),Z=K.x.redMul(X),Q=this.y.redMul(D.redMul(K.z)),te=K.y.redMul(X.redMul(this.z)),J=V.redSub(Z),q=Q.redSub(te);if(0===J.cmpn(0))return 0!==q.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var ne=J.redSqr(),se=ne.redMul(J),oe=V.redMul(ne),ue=q.redSqr().redIAdd(se).redISub(oe).redISub(oe),ae=q.redMul(oe.redISub(ue)).redISub(Q.redMul(se)),ve=this.z.redMul(K.z).redMul(J);return this.curve.jpoint(ue,ae,ve)},N.prototype.mixedAdd=function(K){if(this.isInfinity())return K.toJ();if(K.isInfinity())return this;var D=this.z.redSqr(),X=this.x,V=K.x.redMul(D),Z=this.y,Q=K.y.redMul(D).redMul(this.z),te=X.redSub(V),J=Z.redSub(Q);if(0===te.cmpn(0))return 0!==J.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var q=te.redSqr(),ne=q.redMul(te),se=X.redMul(q),oe=J.redSqr().redIAdd(ne).redISub(se).redISub(se),ue=J.redMul(se.redISub(oe)).redISub(Z.redMul(ne)),ae=this.z.redMul(te);return this.curve.jpoint(oe,ue,ae)},N.prototype.dblp=function(K){if(0===K)return this;if(this.isInfinity())return this;if(!K)return this.dbl();var D;if(this.curve.zeroA||this.curve.threeA){var X=this;for(D=0;D<K;D++)X=X.dbl();return X}var V=this.curve.a,Z=this.curve.tinv,Q=this.x,te=this.y,J=this.z,q=J.redSqr().redSqr(),ne=te.redAdd(te);for(D=0;D<K;D++){var se=Q.redSqr(),oe=ne.redSqr(),ue=oe.redSqr(),ae=se.redAdd(se).redIAdd(se).redIAdd(V.redMul(q)),ve=Q.redMul(oe),_e=ae.redSqr().redISub(ve.redAdd(ve)),De=ve.redISub(_e),P=ae.redMul(De);P=P.redIAdd(P).redISub(ue);var u=ne.redMul(J);D+1<K&&(q=q.redMul(ue)),Q=_e,J=u,ne=P}return this.curve.jpoint(Q,ne.redMul(Z),J)},N.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},N.prototype._zeroDbl=function(){var K,D,X;if(this.zOne){var V=this.x.redSqr(),Z=this.y.redSqr(),Q=Z.redSqr(),te=this.x.redAdd(Z).redSqr().redISub(V).redISub(Q);te=te.redIAdd(te);var J=V.redAdd(V).redIAdd(V),q=J.redSqr().redISub(te).redISub(te),ne=Q.redIAdd(Q);ne=(ne=ne.redIAdd(ne)).redIAdd(ne),K=q,D=J.redMul(te.redISub(q)).redISub(ne),X=this.y.redAdd(this.y)}else{var se=this.x.redSqr(),oe=this.y.redSqr(),ue=oe.redSqr(),ae=this.x.redAdd(oe).redSqr().redISub(se).redISub(ue);ae=ae.redIAdd(ae);var ve=se.redAdd(se).redIAdd(se),_e=ve.redSqr(),De=ue.redIAdd(ue);De=(De=De.redIAdd(De)).redIAdd(De),K=_e.redISub(ae).redISub(ae),D=ve.redMul(ae.redISub(K)).redISub(De),X=(X=this.y.redMul(this.z)).redIAdd(X)}return this.curve.jpoint(K,D,X)},N.prototype._threeDbl=function(){var K,D,X;if(this.zOne){var V=this.x.redSqr(),Z=this.y.redSqr(),Q=Z.redSqr(),te=this.x.redAdd(Z).redSqr().redISub(V).redISub(Q);te=te.redIAdd(te);var J=V.redAdd(V).redIAdd(V).redIAdd(this.curve.a),q=J.redSqr().redISub(te).redISub(te);K=q;var ne=Q.redIAdd(Q);ne=(ne=ne.redIAdd(ne)).redIAdd(ne),D=J.redMul(te.redISub(q)).redISub(ne),X=this.y.redAdd(this.y)}else{var se=this.z.redSqr(),oe=this.y.redSqr(),ue=this.x.redMul(oe),ae=this.x.redSub(se).redMul(this.x.redAdd(se));ae=ae.redAdd(ae).redIAdd(ae);var ve=ue.redIAdd(ue),_e=(ve=ve.redIAdd(ve)).redAdd(ve);K=ae.redSqr().redISub(_e),X=this.y.redAdd(this.z).redSqr().redISub(oe).redISub(se);var De=oe.redSqr();De=(De=(De=De.redIAdd(De)).redIAdd(De)).redIAdd(De),D=ae.redMul(ve.redISub(K)).redISub(De)}return this.curve.jpoint(K,D,X)},N.prototype._dbl=function(){var K=this.curve.a,D=this.x,X=this.y,V=this.z,Z=V.redSqr().redSqr(),Q=D.redSqr(),te=X.redSqr(),J=Q.redAdd(Q).redIAdd(Q).redIAdd(K.redMul(Z)),q=D.redAdd(D),ne=(q=q.redIAdd(q)).redMul(te),se=J.redSqr().redISub(ne.redAdd(ne)),oe=ne.redISub(se),ue=te.redSqr();ue=(ue=(ue=ue.redIAdd(ue)).redIAdd(ue)).redIAdd(ue);var ae=J.redMul(oe).redISub(ue),ve=X.redAdd(X).redMul(V);return this.curve.jpoint(se,ae,ve)},N.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var K=this.x.redSqr(),D=this.y.redSqr(),X=this.z.redSqr(),V=D.redSqr(),Z=K.redAdd(K).redIAdd(K),Q=Z.redSqr(),te=this.x.redAdd(D).redSqr().redISub(K).redISub(V),J=(te=(te=(te=te.redIAdd(te)).redAdd(te).redIAdd(te)).redISub(Q)).redSqr(),q=V.redIAdd(V);q=(q=(q=q.redIAdd(q)).redIAdd(q)).redIAdd(q);var ne=Z.redIAdd(te).redSqr().redISub(Q).redISub(J).redISub(q),se=D.redMul(ne);se=(se=se.redIAdd(se)).redIAdd(se);var oe=this.x.redMul(J).redISub(se);oe=(oe=oe.redIAdd(oe)).redIAdd(oe);var ue=this.y.redMul(ne.redMul(q.redISub(ne)).redISub(te.redMul(J)));ue=(ue=(ue=ue.redIAdd(ue)).redIAdd(ue)).redIAdd(ue);var ae=this.z.redAdd(te).redSqr().redISub(X).redISub(J);return this.curve.jpoint(oe,ue,ae)},N.prototype.mul=function(K,D){return K=new S(K,D),this.curve._wnafMul(this,K)},N.prototype.eq=function(K){if("affine"===K.type)return this.eq(K.toJ());if(this===K)return!0;var D=this.z.redSqr(),X=K.z.redSqr();if(0!==this.x.redMul(X).redISub(K.x.redMul(D)).cmpn(0))return!1;var V=D.redMul(this.z),Z=X.redMul(K.z);return 0===this.y.redMul(Z).redISub(K.y.redMul(V)).cmpn(0)},N.prototype.eqXToP=function(K){var D=this.z.redSqr(),X=K.toRed(this.curve.red).redMul(D);if(0===this.x.cmp(X))return!0;for(var V=K.clone(),Z=this.curve.redN.redMul(D);;){if(V.iadd(this.curve.n),V.cmp(this.curve.p)>=0)return!1;if(X.redIAdd(Z),0===this.x.cmp(X))return!0}},N.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},N.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},23401:(Be,z,E)=>{"use strict";var N,p=z,S=E(52529),O=E(8729),x=E(3136).assert;function B($){this.curve="short"===$.type?new O.short($):"edwards"===$.type?new O.edwards($):new O.mont($),this.g=this.curve.g,this.n=this.curve.n,this.hash=$.hash,x(this.g.validate(),"Invalid curve"),x(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function A($,K){Object.defineProperty(p,$,{configurable:!0,enumerable:!0,get:function(){var D=new B(K);return Object.defineProperty(p,$,{configurable:!0,enumerable:!0,value:D}),D}})}p.PresetCurve=B,A("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:S.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),A("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:S.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),A("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:S.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),A("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:S.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),A("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:S.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),A("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:S.sha256,gRed:!1,g:["9"]}),A("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:S.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{N=E(51416)}catch{N=void 0}A("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:S.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",N]})},29042:(Be,z,E)=>{"use strict";var p=E(88723),S=E(33556),O=E(3136),G=E(23401),x=E(35294),B=O.assert,A=E(60541),N=E(40484);function $(K){if(!(this instanceof $))return new $(K);"string"==typeof K&&(B(Object.prototype.hasOwnProperty.call(G,K),"Unknown curve "+K),K=G[K]),K instanceof G.PresetCurve&&(K={curve:K}),this.curve=K.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=K.curve.g,this.g.precompute(K.curve.n.bitLength()+1),this.hash=K.hash||K.curve.hash}Be.exports=$,$.prototype.keyPair=function(D){return new A(this,D)},$.prototype.keyFromPrivate=function(D,X){return A.fromPrivate(this,D,X)},$.prototype.keyFromPublic=function(D,X){return A.fromPublic(this,D,X)},$.prototype.genKeyPair=function(D){D||(D={});for(var X=new S({hash:this.hash,pers:D.pers,persEnc:D.persEnc||"utf8",entropy:D.entropy||x(this.hash.hmacStrength),entropyEnc:D.entropy&&D.entropyEnc||"utf8",nonce:this.n.toArray()}),V=this.n.byteLength(),Z=this.n.sub(new p(2));;){var Q=new p(X.generate(V));if(!(Q.cmp(Z)>0))return Q.iaddn(1),this.keyFromPrivate(Q)}},$.prototype._truncateToN=function(D,X){var V=8*D.byteLength()-this.n.bitLength();return V>0&&(D=D.ushrn(V)),!X&&D.cmp(this.n)>=0?D.sub(this.n):D},$.prototype.sign=function(D,X,V,Z){"object"==typeof V&&(Z=V,V=null),Z||(Z={}),X=this.keyFromPrivate(X,V),D=this._truncateToN(new p(D,16));for(var Q=this.n.byteLength(),te=X.getPrivate().toArray("be",Q),J=D.toArray("be",Q),q=new S({hash:this.hash,entropy:te,nonce:J,pers:Z.pers,persEnc:Z.persEnc||"utf8"}),ne=this.n.sub(new p(1)),se=0;;se++){var oe=Z.k?Z.k(se):new p(q.generate(this.n.byteLength()));if(!((oe=this._truncateToN(oe,!0)).cmpn(1)<=0||oe.cmp(ne)>=0)){var ue=this.g.mul(oe);if(!ue.isInfinity()){var ae=ue.getX(),ve=ae.umod(this.n);if(0!==ve.cmpn(0)){var _e=oe.invm(this.n).mul(ve.mul(X.getPrivate()).iadd(D));if(0!==(_e=_e.umod(this.n)).cmpn(0)){var De=(ue.getY().isOdd()?1:0)|(0!==ae.cmp(ve)?2:0);return Z.canonical&&_e.cmp(this.nh)>0&&(_e=this.n.sub(_e),De^=1),new N({r:ve,s:_e,recoveryParam:De})}}}}}},$.prototype.verify=function(D,X,V,Z){D=this._truncateToN(new p(D,16)),V=this.keyFromPublic(V,Z);var Q=(X=new N(X,"hex")).r,te=X.s;if(Q.cmpn(1)<0||Q.cmp(this.n)>=0||te.cmpn(1)<0||te.cmp(this.n)>=0)return!1;var se,J=te.invm(this.n),q=J.mul(D).umod(this.n),ne=J.mul(Q).umod(this.n);return this.curve._maxwellTrick?!(se=this.g.jmulAdd(q,V.getPublic(),ne)).isInfinity()&&se.eqXToP(Q):!(se=this.g.mulAdd(q,V.getPublic(),ne)).isInfinity()&&0===se.getX().umod(this.n).cmp(Q)},$.prototype.recoverPubKey=function(K,D,X,V){B((3&X)===X,"The recovery param is more than two bits"),D=new N(D,V);var Z=this.n,Q=new p(K),te=D.r,J=D.s,q=1&X,ne=X>>1;if(te.cmp(this.curve.p.umod(this.curve.n))>=0&&ne)throw new Error("Unable to find sencond key candinate");te=this.curve.pointFromX(ne?te.add(this.curve.n):te,q);var se=D.r.invm(Z),oe=Z.sub(Q).mul(se).umod(Z),ue=J.mul(se).umod(Z);return this.g.mulAdd(oe,te,ue)},$.prototype.getKeyRecoveryParam=function(K,D,X,V){if(null!==(D=new N(D,V)).recoveryParam)return D.recoveryParam;for(var Z=0;Z<4;Z++){var Q;try{Q=this.recoverPubKey(K,D,Z)}catch{continue}if(Q.eq(X))return Z}throw new Error("Unable to find valid recovery factor")}},60541:(Be,z,E)=>{"use strict";var p=E(88723),O=E(3136).assert;function G(x,B){this.ec=x,this.priv=null,this.pub=null,B.priv&&this._importPrivate(B.priv,B.privEnc),B.pub&&this._importPublic(B.pub,B.pubEnc)}Be.exports=G,G.fromPublic=function(B,A,N){return A instanceof G?A:new G(B,{pub:A,pubEnc:N})},G.fromPrivate=function(B,A,N){return A instanceof G?A:new G(B,{priv:A,privEnc:N})},G.prototype.validate=function(){var B=this.getPublic();return B.isInfinity()?{result:!1,reason:"Invalid public key"}:B.validate()?B.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},G.prototype.getPublic=function(B,A){return"string"==typeof B&&(A=B,B=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),A?this.pub.encode(A,B):this.pub},G.prototype.getPrivate=function(B){return"hex"===B?this.priv.toString(16,2):this.priv},G.prototype._importPrivate=function(B,A){this.priv=new p(B,A||16),this.priv=this.priv.umod(this.ec.curve.n)},G.prototype._importPublic=function(B,A){if(B.x||B.y)return"mont"===this.ec.curve.type?O(B.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&O(B.x&&B.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(B.x,B.y));this.pub=this.ec.curve.decodePoint(B,A)},G.prototype.derive=function(B){return B.validate()||O(B.validate(),"public point not validated"),B.mul(this.priv).getX()},G.prototype.sign=function(B,A,N){return this.ec.sign(B,this,A,N)},G.prototype.verify=function(B,A){return this.ec.verify(B,A,this)},G.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},40484:(Be,z,E)=>{"use strict";var p=E(88723),S=E(3136),O=S.assert;function G($,K){if($ instanceof G)return $;this._importDER($,K)||(O($.r&&$.s,"Signature without r or s"),this.r=new p($.r,16),this.s=new p($.s,16),this.recoveryParam=void 0===$.recoveryParam?null:$.recoveryParam)}function x(){this.place=0}function B($,K){var D=$[K.place++];if(!(128&D))return D;var X=15&D;if(0===X||X>4)return!1;for(var V=0,Z=0,Q=K.place;Z<X;Z++,Q++)V<<=8,V|=$[Q],V>>>=0;return!(V<=127)&&(K.place=Q,V)}function A($){for(var K=0,D=$.length-1;!$[K]&&!(128&$[K+1])&&K<D;)K++;return 0===K?$:$.slice(K)}function N($,K){if(K<128)$.push(K);else{var D=1+(Math.log(K)/Math.LN2>>>3);for($.push(128|D);--D;)$.push(K>>>(D<<3)&255);$.push(K)}}Be.exports=G,G.prototype._importDER=function(K,D){K=S.toArray(K,D);var X=new x;if(48!==K[X.place++])return!1;var V=B(K,X);if(!1===V||V+X.place!==K.length||2!==K[X.place++])return!1;var Z=B(K,X);if(!1===Z)return!1;var Q=K.slice(X.place,Z+X.place);if(X.place+=Z,2!==K[X.place++])return!1;var te=B(K,X);if(!1===te||K.length!==te+X.place)return!1;var J=K.slice(X.place,te+X.place);if(0===Q[0]){if(!(128&Q[1]))return!1;Q=Q.slice(1)}if(0===J[0]){if(!(128&J[1]))return!1;J=J.slice(1)}return this.r=new p(Q),this.s=new p(J),this.recoveryParam=null,!0},G.prototype.toDER=function(K){var D=this.r.toArray(),X=this.s.toArray();for(128&D[0]&&(D=[0].concat(D)),128&X[0]&&(X=[0].concat(X)),D=A(D),X=A(X);!(X[0]||128&X[1]);)X=X.slice(1);var V=[2];N(V,D.length),(V=V.concat(D)).push(2),N(V,X.length);var Z=V.concat(X),Q=[48];return N(Q,Z.length),Q=Q.concat(Z),S.encode(Q,K)}},83045:(Be,z,E)=>{"use strict";var p=E(52529),S=E(23401),O=E(3136),G=O.assert,x=O.parseBytes,B=E(87222),A=E(5451);function N($){if(G("ed25519"===$,"only tested with ed25519 so far"),!(this instanceof N))return new N($);this.curve=$=S[$].curve,this.g=$.g,this.g.precompute($.n.bitLength()+1),this.pointClass=$.point().constructor,this.encodingLength=Math.ceil($.n.bitLength()/8),this.hash=p.sha512}Be.exports=N,N.prototype.sign=function(K,D){K=x(K);var X=this.keyFromSecret(D),V=this.hashInt(X.messagePrefix(),K),Z=this.g.mul(V),Q=this.encodePoint(Z),te=this.hashInt(Q,X.pubBytes(),K).mul(X.priv()),J=V.add(te).umod(this.curve.n);return this.makeSignature({R:Z,S:J,Rencoded:Q})},N.prototype.verify=function(K,D,X){K=x(K),D=this.makeSignature(D);var V=this.keyFromPublic(X),Z=this.hashInt(D.Rencoded(),V.pubBytes(),K),Q=this.g.mul(D.S());return D.R().add(V.pub().mul(Z)).eq(Q)},N.prototype.hashInt=function(){for(var K=this.hash(),D=0;D<arguments.length;D++)K.update(arguments[D]);return O.intFromLE(K.digest()).umod(this.curve.n)},N.prototype.keyFromPublic=function(K){return B.fromPublic(this,K)},N.prototype.keyFromSecret=function(K){return B.fromSecret(this,K)},N.prototype.makeSignature=function(K){return K instanceof A?K:new A(this,K)},N.prototype.encodePoint=function(K){var D=K.getY().toArray("le",this.encodingLength);return D[this.encodingLength-1]|=K.getX().isOdd()?128:0,D},N.prototype.decodePoint=function(K){var D=(K=O.parseBytes(K)).length-1,X=K.slice(0,D).concat(-129&K[D]),V=!!(128&K[D]),Z=O.intFromLE(X);return this.curve.pointFromY(Z,V)},N.prototype.encodeInt=function(K){return K.toArray("le",this.encodingLength)},N.prototype.decodeInt=function(K){return O.intFromLE(K)},N.prototype.isPoint=function(K){return K instanceof this.pointClass}},87222:(Be,z,E)=>{"use strict";var p=E(3136),S=p.assert,O=p.parseBytes,G=p.cachedProperty;function x(B,A){this.eddsa=B,this._secret=O(A.secret),B.isPoint(A.pub)?this._pub=A.pub:this._pubBytes=O(A.pub)}x.fromPublic=function(A,N){return N instanceof x?N:new x(A,{pub:N})},x.fromSecret=function(A,N){return N instanceof x?N:new x(A,{secret:N})},x.prototype.secret=function(){return this._secret},G(x,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),G(x,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),G(x,"privBytes",function(){var A=this.eddsa,N=this.hash(),$=A.encodingLength-1,K=N.slice(0,A.encodingLength);return K[0]&=248,K[$]&=127,K[$]|=64,K}),G(x,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),G(x,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),G(x,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),x.prototype.sign=function(A){return S(this._secret,"KeyPair can only verify"),this.eddsa.sign(A,this)},x.prototype.verify=function(A,N){return this.eddsa.verify(A,N,this)},x.prototype.getSecret=function(A){return S(this._secret,"KeyPair is public only"),p.encode(this.secret(),A)},x.prototype.getPublic=function(A){return p.encode(this.pubBytes(),A)},Be.exports=x},5451:(Be,z,E)=>{"use strict";var p=E(88723),S=E(3136),O=S.assert,G=S.cachedProperty,x=S.parseBytes;function B(A,N){this.eddsa=A,"object"!=typeof N&&(N=x(N)),Array.isArray(N)&&(N={R:N.slice(0,A.encodingLength),S:N.slice(A.encodingLength)}),O(N.R&&N.S,"Signature without R or S"),A.isPoint(N.R)&&(this._R=N.R),N.S instanceof p&&(this._S=N.S),this._Rencoded=Array.isArray(N.R)?N.R:N.Rencoded,this._Sencoded=Array.isArray(N.S)?N.S:N.Sencoded}G(B,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),G(B,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),G(B,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),G(B,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),B.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},B.prototype.toHex=function(){return S.encode(this.toBytes(),"hex").toUpperCase()},Be.exports=B},51416:Be=>{Be.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},3136:(Be,z,E)=>{"use strict";var p=z,S=E(88723),O=E(39210),G=E(21832);p.assert=O,p.toArray=G.toArray,p.zero2=G.zero2,p.toHex=G.toHex,p.encode=G.encode,p.getNAF=function x(K,D,X){var Z,V=new Array(Math.max(K.bitLength(),X)+1);for(Z=0;Z<V.length;Z+=1)V[Z]=0;var Q=1<<D+1,te=K.clone();for(Z=0;Z<V.length;Z++){var J,q=te.andln(Q-1);te.isOdd()?te.isubn(J=q>(Q>>1)-1?(Q>>1)-q:q):J=0,V[Z]=J,te.iushrn(1)}return V},p.getJSF=function B(K,D){var X=[[],[]];K=K.clone(),D=D.clone();for(var Q,V=0,Z=0;K.cmpn(-V)>0||D.cmpn(-Z)>0;){var q,ne,te=K.andln(3)+V&3,J=D.andln(3)+Z&3;3===te&&(te=-1),3===J&&(J=-1),q=1&te?3!=(Q=K.andln(7)+V&7)&&5!==Q||2!==J?te:-te:0,X[0].push(q),ne=1&J?3!=(Q=D.andln(7)+Z&7)&&5!==Q||2!==te?J:-J:0,X[1].push(ne),2*V===q+1&&(V=1-V),2*Z===ne+1&&(Z=1-Z),K.iushrn(1),D.iushrn(1)}return X},p.cachedProperty=function A(K,D,X){var V="_"+D;K.prototype[D]=function(){return void 0!==this[V]?this[V]:this[V]=X.call(this)}},p.parseBytes=function N(K){return"string"==typeof K?p.toArray(K,"hex"):K},p.intFromLE=function $(K){return new S(K,"hex","le")}},88723:function(Be,z,E){!function(p,S){"use strict";function O(P,u){if(!P)throw new Error(u||"Assertion failed")}function G(P,u){P.super_=u;var h=function(){};h.prototype=u.prototype,P.prototype=new h,P.prototype.constructor=P}function x(P,u,h){if(x.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,null!==P&&(("le"===u||"be"===u)&&(h=u,u=10),this._init(P||0,u||10,h||"be"))}var B;"object"==typeof p?p.exports=x:S.BN=x,x.BN=x,x.wordSize=26;try{B=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(79368).Buffer}catch{}function A(P,u){var h=P.charCodeAt(u);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(P,u,h){var g=A(P,h);return h-1>=u&&(g|=A(P,h-1)<<4),g}function $(P,u,h,g){for(var w=0,T=Math.min(P.length,h),C=u;C<T;C++){var j=P.charCodeAt(C)-48;w*=g,w+=j>=49?j-49+10:j>=17?j-17+10:j}return w}x.isBN=function(u){return u instanceof x||null!==u&&"object"==typeof u&&u.constructor.wordSize===x.wordSize&&Array.isArray(u.words)},x.max=function(u,h){return u.cmp(h)>0?u:h},x.min=function(u,h){return u.cmp(h)<0?u:h},x.prototype._init=function(u,h,g){if("number"==typeof u)return this._initNumber(u,h,g);if("object"==typeof u)return this._initArray(u,h,g);"hex"===h&&(h=16),O(h===(0|h)&&h>=2&&h<=36);var w=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(w++,this.negative=1),w<u.length&&(16===h?this._parseHex(u,w,g):(this._parseBase(u,h,w),"le"===g&&this._initArray(this.toArray(),h,g)))},x.prototype._initNumber=function(u,h,g){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(O(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===g&&this._initArray(this.toArray(),h,g)},x.prototype._initArray=function(u,h,g){if(O("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var T,C,j=0;if("be"===g)for(w=u.length-1,T=0;w>=0;w-=3)this.words[T]|=(C=u[w]|u[w-1]<<8|u[w-2]<<16)<<j&67108863,this.words[T+1]=C>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);else if("le"===g)for(w=0,T=0;w<u.length;w+=3)this.words[T]|=(C=u[w]|u[w+1]<<8|u[w+2]<<16)<<j&67108863,this.words[T+1]=C>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);return this.strip()},x.prototype._parseHex=function(u,h,g){this.length=Math.ceil((u.length-h)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var j,T=0,C=0;if("be"===g)for(w=u.length-1;w>=h;w-=2)j=N(u,h,w)<<T,this.words[C]|=67108863&j,T>=18?(T-=18,this.words[C+=1]|=j>>>26):T+=8;else for(w=(u.length-h)%2==0?h+1:h;w<u.length;w+=2)j=N(u,h,w)<<T,this.words[C]|=67108863&j,T>=18?(T-=18,this.words[C+=1]|=j>>>26):T+=8;this.strip()},x.prototype._parseBase=function(u,h,g){this.words=[0],this.length=1;for(var w=0,T=1;T<=67108863;T*=h)w++;w--,T=T/h|0;for(var C=u.length-g,j=C%w,M=Math.min(C,C-j)+g,d=0,v=g;v<M;v+=w)d=$(u,v,v+w,h),this.imuln(T),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==j){var W=1;for(d=$(u,v,u.length,h),v=0;v<j;v++)W*=h;this.imuln(W),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},x.prototype.copy=function(u){u.words=new Array(this.length);for(var h=0;h<this.length;h++)u.words[h]=this.words[h];u.length=this.length,u.negative=this.negative,u.red=this.red},x.prototype.clone=function(){var u=new x(null);return this.copy(u),u},x.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var K=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Z(P,u,h){h.negative=u.negative^P.negative;var g=P.length+u.length|0;h.length=g,g=g-1|0;var w=0|P.words[0],T=0|u.words[0],C=w*T,M=C/67108864|0;h.words[0]=67108863&C;for(var d=1;d<g;d++){for(var v=M>>>26,W=67108863&M,H=Math.min(d,u.length-1),ee=Math.max(0,d-P.length+1);ee<=H;ee++)v+=(C=(w=0|P.words[d-ee|0])*(T=0|u.words[ee])+W)/67108864|0,W=67108863&C;h.words[d]=0|W,M=0|v}return 0!==M?h.words[d]=0|M:h.length--,h.strip()}x.prototype.toString=function(u,h){var g;if(h=0|h||1,16===(u=u||10)||"hex"===u){g="";for(var w=0,T=0,C=0;C<this.length;C++){var j=this.words[C],M=(16777215&(j<<w|T)).toString(16);g=0!=(T=j>>>24-w&16777215)||C!==this.length-1?K[6-M.length]+M+g:M+g,(w+=2)>=26&&(w-=26,C--)}for(0!==T&&(g=T.toString(16)+g);g.length%h!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}if(u===(0|u)&&u>=2&&u<=36){var d=D[u],v=X[u];g="";var W=this.clone();for(W.negative=0;!W.isZero();){var H=W.modn(v).toString(u);g=(W=W.idivn(v)).isZero()?H+g:K[d-H.length]+H+g}for(this.isZero()&&(g="0"+g);g.length%h!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}O(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&O(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(u,h){return O(typeof B<"u"),this.toArrayLike(B,u,h)},x.prototype.toArray=function(u,h){return this.toArrayLike(Array,u,h)},x.prototype.toArrayLike=function(u,h,g){var w=this.byteLength(),T=g||Math.max(1,w);O(w<=T,"byte array longer than desired length"),O(T>0,"Requested array length <= 0"),this.strip();var M,d,C="le"===h,j=new u(T),v=this.clone();if(C){for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),j[d]=M;for(;d<T;d++)j[d]=0}else{for(d=0;d<T-w;d++)j[d]=0;for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),j[T-d-1]=M}return j},x.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var h=u,g=0;return h>=4096&&(g+=13,h>>>=13),h>=64&&(g+=7,h>>>=7),h>=8&&(g+=4,h>>>=4),h>=2&&(g+=2,h>>>=2),g+h},x.prototype._zeroBits=function(u){if(0===u)return 26;var h=u,g=0;return 8191&h||(g+=13,h>>>=13),127&h||(g+=7,h>>>=7),15&h||(g+=4,h>>>=4),3&h||(g+=2,h>>>=2),1&h||g++,g},x.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,h=0;h<this.length;h++){var g=this._zeroBits(this.words[h]);if(u+=g,26!==g)break}return u},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},x.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]|u.words[h];return this.strip()},x.prototype.ior=function(u){return O(!(this.negative|u.negative)),this.iuor(u)},x.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},x.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},x.prototype.iuand=function(u){var h;h=this.length>u.length?u:this;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]&u.words[g];return this.length=h.length,this.strip()},x.prototype.iand=function(u){return O(!(this.negative|u.negative)),this.iuand(u)},x.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},x.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},x.prototype.iuxor=function(u){var h,g;this.length>u.length?(h=this,g=u):(h=u,g=this);for(var w=0;w<g.length;w++)this.words[w]=h.words[w]^g.words[w];if(this!==h)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=h.length,this.strip()},x.prototype.ixor=function(u){return O(!(this.negative|u.negative)),this.iuxor(u)},x.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},x.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},x.prototype.inotn=function(u){O("number"==typeof u&&u>=0);var h=0|Math.ceil(u/26),g=u%26;this._expand(h),g>0&&h--;for(var w=0;w<h;w++)this.words[w]=67108863&~this.words[w];return g>0&&(this.words[w]=~this.words[w]&67108863>>26-g),this.strip()},x.prototype.notn=function(u){return this.clone().inotn(u)},x.prototype.setn=function(u,h){O("number"==typeof u&&u>=0);var g=u/26|0,w=u%26;return this._expand(g+1),this.words[g]=h?this.words[g]|1<<w:this.words[g]&~(1<<w),this.strip()},x.prototype.iadd=function(u){var h,g,w;if(0!==this.negative&&0===u.negative)return this.negative=0,h=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,h=this.isub(u),u.negative=1,h._normSign();this.length>u.length?(g=this,w=u):(g=u,w=this);for(var T=0,C=0;C<w.length;C++)this.words[C]=67108863&(h=(0|g.words[C])+(0|w.words[C])+T),T=h>>>26;for(;0!==T&&C<g.length;C++)this.words[C]=67108863&(h=(0|g.words[C])+T),T=h>>>26;if(this.length=g.length,0!==T)this.words[this.length]=T,this.length++;else if(g!==this)for(;C<g.length;C++)this.words[C]=g.words[C];return this},x.prototype.add=function(u){var h;return 0!==u.negative&&0===this.negative?(u.negative=0,h=this.sub(u),u.negative^=1,h):0===u.negative&&0!==this.negative?(this.negative=0,h=u.sub(this),this.negative=1,h):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},x.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var h=this.iadd(u);return u.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var w,T,g=this.cmp(u);if(0===g)return this.negative=0,this.length=1,this.words[0]=0,this;g>0?(w=this,T=u):(w=u,T=this);for(var C=0,j=0;j<T.length;j++)C=(h=(0|w.words[j])-(0|T.words[j])+C)>>26,this.words[j]=67108863&h;for(;0!==C&&j<w.length;j++)C=(h=(0|w.words[j])+C)>>26,this.words[j]=67108863&h;if(0===C&&j<w.length&&w!==this)for(;j<w.length;j++)this.words[j]=w.words[j];return this.length=Math.max(this.length,j),w!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(u){return this.clone().isub(u)};var Q=function(u,h,g){var M,d,v,w=u.words,T=h.words,C=g.words,j=0,W=0|w[0],H=8191&W,ee=W>>>13,fe=0|w[1],Ae=8191&fe,Pe=fe>>>13,Le=0|w[2],be=8191&Le,ge=Le>>>13,Re=0|w[3],me=8191&Re,xe=Re>>>13,le=0|w[4],he=8191&le,re=le>>>13,de=0|w[5],pe=8191&de,Se=de>>>13,ke=0|w[6],Fe=8191&ke,We=ke>>>13,Tt=0|w[7],Xe=8191&Tt,Ke=Tt>>>13,lt=0|w[8],U=8191&lt,_=lt>>>13,m=0|w[9],F=8191&m,ie=m>>>13,we=0|T[0],Ie=8191&we,Qe=we>>>13,kt=0|T[1],pt=8191&kt,Et=kt>>>13,Lt=0|T[2],qt=8191&Lt,Kt=Lt>>>13,er=0|T[3],cn=8191&er,Ut=er>>>13,Nt=0|T[4],dt=8191&Nt,it=Nt>>>13,Ct=0|T[5],Bt=8191&Ct,Wt=Ct>>>13,Yn=0|T[6],at=8191&Yn,ut=Yn>>>13,ft=0|T[7],et=8191&ft,gt=ft>>>13,un=0|T[8],zt=8191&un,tn=un>>>13,pr=0|T[9],bn=8191&pr,vn=pr>>>13;g.negative=u.negative^h.negative,g.length=19;var Or=(j+(M=Math.imul(H,Ie))|0)+((8191&(d=(d=Math.imul(H,Qe))+Math.imul(ee,Ie)|0))<<13)|0;j=((v=Math.imul(ee,Qe))+(d>>>13)|0)+(Or>>>26)|0,Or&=67108863,M=Math.imul(Ae,Ie),d=(d=Math.imul(Ae,Qe))+Math.imul(Pe,Ie)|0,v=Math.imul(Pe,Qe);var Qn=(j+(M=M+Math.imul(H,pt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Et)|0)+Math.imul(ee,pt)|0))<<13)|0;j=((v=v+Math.imul(ee,Et)|0)+(d>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,M=Math.imul(be,Ie),d=(d=Math.imul(be,Qe))+Math.imul(ge,Ie)|0,v=Math.imul(ge,Qe),M=M+Math.imul(Ae,pt)|0,d=(d=d+Math.imul(Ae,Et)|0)+Math.imul(Pe,pt)|0,v=v+Math.imul(Pe,Et)|0;var jn=(j+(M=M+Math.imul(H,qt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Kt)|0)+Math.imul(ee,qt)|0))<<13)|0;j=((v=v+Math.imul(ee,Kt)|0)+(d>>>13)|0)+(jn>>>26)|0,jn&=67108863,M=Math.imul(me,Ie),d=(d=Math.imul(me,Qe))+Math.imul(xe,Ie)|0,v=Math.imul(xe,Qe),M=M+Math.imul(be,pt)|0,d=(d=d+Math.imul(be,Et)|0)+Math.imul(ge,pt)|0,v=v+Math.imul(ge,Et)|0,M=M+Math.imul(Ae,qt)|0,d=(d=d+Math.imul(Ae,Kt)|0)+Math.imul(Pe,qt)|0,v=v+Math.imul(Pe,Kt)|0;var On=(j+(M=M+Math.imul(H,cn)|0)|0)+((8191&(d=(d=d+Math.imul(H,Ut)|0)+Math.imul(ee,cn)|0))<<13)|0;j=((v=v+Math.imul(ee,Ut)|0)+(d>>>13)|0)+(On>>>26)|0,On&=67108863,M=Math.imul(he,Ie),d=(d=Math.imul(he,Qe))+Math.imul(re,Ie)|0,v=Math.imul(re,Qe),M=M+Math.imul(me,pt)|0,d=(d=d+Math.imul(me,Et)|0)+Math.imul(xe,pt)|0,v=v+Math.imul(xe,Et)|0,M=M+Math.imul(be,qt)|0,d=(d=d+Math.imul(be,Kt)|0)+Math.imul(ge,qt)|0,v=v+Math.imul(ge,Kt)|0,M=M+Math.imul(Ae,cn)|0,d=(d=d+Math.imul(Ae,Ut)|0)+Math.imul(Pe,cn)|0,v=v+Math.imul(Pe,Ut)|0;var Vn=(j+(M=M+Math.imul(H,dt)|0)|0)+((8191&(d=(d=d+Math.imul(H,it)|0)+Math.imul(ee,dt)|0))<<13)|0;j=((v=v+Math.imul(ee,it)|0)+(d>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,M=Math.imul(pe,Ie),d=(d=Math.imul(pe,Qe))+Math.imul(Se,Ie)|0,v=Math.imul(Se,Qe),M=M+Math.imul(he,pt)|0,d=(d=d+Math.imul(he,Et)|0)+Math.imul(re,pt)|0,v=v+Math.imul(re,Et)|0,M=M+Math.imul(me,qt)|0,d=(d=d+Math.imul(me,Kt)|0)+Math.imul(xe,qt)|0,v=v+Math.imul(xe,Kt)|0,M=M+Math.imul(be,cn)|0,d=(d=d+Math.imul(be,Ut)|0)+Math.imul(ge,cn)|0,v=v+Math.imul(ge,Ut)|0,M=M+Math.imul(Ae,dt)|0,d=(d=d+Math.imul(Ae,it)|0)+Math.imul(Pe,dt)|0,v=v+Math.imul(Pe,it)|0;var Hn=(j+(M=M+Math.imul(H,Bt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Wt)|0)+Math.imul(ee,Bt)|0))<<13)|0;j=((v=v+Math.imul(ee,Wt)|0)+(d>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,M=Math.imul(Fe,Ie),d=(d=Math.imul(Fe,Qe))+Math.imul(We,Ie)|0,v=Math.imul(We,Qe),M=M+Math.imul(pe,pt)|0,d=(d=d+Math.imul(pe,Et)|0)+Math.imul(Se,pt)|0,v=v+Math.imul(Se,Et)|0,M=M+Math.imul(he,qt)|0,d=(d=d+Math.imul(he,Kt)|0)+Math.imul(re,qt)|0,v=v+Math.imul(re,Kt)|0,M=M+Math.imul(me,cn)|0,d=(d=d+Math.imul(me,Ut)|0)+Math.imul(xe,cn)|0,v=v+Math.imul(xe,Ut)|0,M=M+Math.imul(be,dt)|0,d=(d=d+Math.imul(be,it)|0)+Math.imul(ge,dt)|0,v=v+Math.imul(ge,it)|0,M=M+Math.imul(Ae,Bt)|0,d=(d=d+Math.imul(Ae,Wt)|0)+Math.imul(Pe,Bt)|0,v=v+Math.imul(Pe,Wt)|0;var ar=(j+(M=M+Math.imul(H,at)|0)|0)+((8191&(d=(d=d+Math.imul(H,ut)|0)+Math.imul(ee,at)|0))<<13)|0;j=((v=v+Math.imul(ee,ut)|0)+(d>>>13)|0)+(ar>>>26)|0,ar&=67108863,M=Math.imul(Xe,Ie),d=(d=Math.imul(Xe,Qe))+Math.imul(Ke,Ie)|0,v=Math.imul(Ke,Qe),M=M+Math.imul(Fe,pt)|0,d=(d=d+Math.imul(Fe,Et)|0)+Math.imul(We,pt)|0,v=v+Math.imul(We,Et)|0,M=M+Math.imul(pe,qt)|0,d=(d=d+Math.imul(pe,Kt)|0)+Math.imul(Se,qt)|0,v=v+Math.imul(Se,Kt)|0,M=M+Math.imul(he,cn)|0,d=(d=d+Math.imul(he,Ut)|0)+Math.imul(re,cn)|0,v=v+Math.imul(re,Ut)|0,M=M+Math.imul(me,dt)|0,d=(d=d+Math.imul(me,it)|0)+Math.imul(xe,dt)|0,v=v+Math.imul(xe,it)|0,M=M+Math.imul(be,Bt)|0,d=(d=d+Math.imul(be,Wt)|0)+Math.imul(ge,Bt)|0,v=v+Math.imul(ge,Wt)|0,M=M+Math.imul(Ae,at)|0,d=(d=d+Math.imul(Ae,ut)|0)+Math.imul(Pe,at)|0,v=v+Math.imul(Pe,ut)|0;var qn=(j+(M=M+Math.imul(H,et)|0)|0)+((8191&(d=(d=d+Math.imul(H,gt)|0)+Math.imul(ee,et)|0))<<13)|0;j=((v=v+Math.imul(ee,gt)|0)+(d>>>13)|0)+(qn>>>26)|0,qn&=67108863,M=Math.imul(U,Ie),d=(d=Math.imul(U,Qe))+Math.imul(_,Ie)|0,v=Math.imul(_,Qe),M=M+Math.imul(Xe,pt)|0,d=(d=d+Math.imul(Xe,Et)|0)+Math.imul(Ke,pt)|0,v=v+Math.imul(Ke,Et)|0,M=M+Math.imul(Fe,qt)|0,d=(d=d+Math.imul(Fe,Kt)|0)+Math.imul(We,qt)|0,v=v+Math.imul(We,Kt)|0,M=M+Math.imul(pe,cn)|0,d=(d=d+Math.imul(pe,Ut)|0)+Math.imul(Se,cn)|0,v=v+Math.imul(Se,Ut)|0,M=M+Math.imul(he,dt)|0,d=(d=d+Math.imul(he,it)|0)+Math.imul(re,dt)|0,v=v+Math.imul(re,it)|0,M=M+Math.imul(me,Bt)|0,d=(d=d+Math.imul(me,Wt)|0)+Math.imul(xe,Bt)|0,v=v+Math.imul(xe,Wt)|0,M=M+Math.imul(be,at)|0,d=(d=d+Math.imul(be,ut)|0)+Math.imul(ge,at)|0,v=v+Math.imul(ge,ut)|0,M=M+Math.imul(Ae,et)|0,d=(d=d+Math.imul(Ae,gt)|0)+Math.imul(Pe,et)|0,v=v+Math.imul(Pe,gt)|0;var vr=(j+(M=M+Math.imul(H,zt)|0)|0)+((8191&(d=(d=d+Math.imul(H,tn)|0)+Math.imul(ee,zt)|0))<<13)|0;j=((v=v+Math.imul(ee,tn)|0)+(d>>>13)|0)+(vr>>>26)|0,vr&=67108863,M=Math.imul(F,Ie),d=(d=Math.imul(F,Qe))+Math.imul(ie,Ie)|0,v=Math.imul(ie,Qe),M=M+Math.imul(U,pt)|0,d=(d=d+Math.imul(U,Et)|0)+Math.imul(_,pt)|0,v=v+Math.imul(_,Et)|0,M=M+Math.imul(Xe,qt)|0,d=(d=d+Math.imul(Xe,Kt)|0)+Math.imul(Ke,qt)|0,v=v+Math.imul(Ke,Kt)|0,M=M+Math.imul(Fe,cn)|0,d=(d=d+Math.imul(Fe,Ut)|0)+Math.imul(We,cn)|0,v=v+Math.imul(We,Ut)|0,M=M+Math.imul(pe,dt)|0,d=(d=d+Math.imul(pe,it)|0)+Math.imul(Se,dt)|0,v=v+Math.imul(Se,it)|0,M=M+Math.imul(he,Bt)|0,d=(d=d+Math.imul(he,Wt)|0)+Math.imul(re,Bt)|0,v=v+Math.imul(re,Wt)|0,M=M+Math.imul(me,at)|0,d=(d=d+Math.imul(me,ut)|0)+Math.imul(xe,at)|0,v=v+Math.imul(xe,ut)|0,M=M+Math.imul(be,et)|0,d=(d=d+Math.imul(be,gt)|0)+Math.imul(ge,et)|0,v=v+Math.imul(ge,gt)|0,M=M+Math.imul(Ae,zt)|0,d=(d=d+Math.imul(Ae,tn)|0)+Math.imul(Pe,zt)|0,v=v+Math.imul(Pe,tn)|0;var _r=(j+(M=M+Math.imul(H,bn)|0)|0)+((8191&(d=(d=d+Math.imul(H,vn)|0)+Math.imul(ee,bn)|0))<<13)|0;j=((v=v+Math.imul(ee,vn)|0)+(d>>>13)|0)+(_r>>>26)|0,_r&=67108863,M=Math.imul(F,pt),d=(d=Math.imul(F,Et))+Math.imul(ie,pt)|0,v=Math.imul(ie,Et),M=M+Math.imul(U,qt)|0,d=(d=d+Math.imul(U,Kt)|0)+Math.imul(_,qt)|0,v=v+Math.imul(_,Kt)|0,M=M+Math.imul(Xe,cn)|0,d=(d=d+Math.imul(Xe,Ut)|0)+Math.imul(Ke,cn)|0,v=v+Math.imul(Ke,Ut)|0,M=M+Math.imul(Fe,dt)|0,d=(d=d+Math.imul(Fe,it)|0)+Math.imul(We,dt)|0,v=v+Math.imul(We,it)|0,M=M+Math.imul(pe,Bt)|0,d=(d=d+Math.imul(pe,Wt)|0)+Math.imul(Se,Bt)|0,v=v+Math.imul(Se,Wt)|0,M=M+Math.imul(he,at)|0,d=(d=d+Math.imul(he,ut)|0)+Math.imul(re,at)|0,v=v+Math.imul(re,ut)|0,M=M+Math.imul(me,et)|0,d=(d=d+Math.imul(me,gt)|0)+Math.imul(xe,et)|0,v=v+Math.imul(xe,gt)|0,M=M+Math.imul(be,zt)|0,d=(d=d+Math.imul(be,tn)|0)+Math.imul(ge,zt)|0,v=v+Math.imul(ge,tn)|0;var Er=(j+(M=M+Math.imul(Ae,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Ae,vn)|0)+Math.imul(Pe,bn)|0))<<13)|0;j=((v=v+Math.imul(Pe,vn)|0)+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,M=Math.imul(F,qt),d=(d=Math.imul(F,Kt))+Math.imul(ie,qt)|0,v=Math.imul(ie,Kt),M=M+Math.imul(U,cn)|0,d=(d=d+Math.imul(U,Ut)|0)+Math.imul(_,cn)|0,v=v+Math.imul(_,Ut)|0,M=M+Math.imul(Xe,dt)|0,d=(d=d+Math.imul(Xe,it)|0)+Math.imul(Ke,dt)|0,v=v+Math.imul(Ke,it)|0,M=M+Math.imul(Fe,Bt)|0,d=(d=d+Math.imul(Fe,Wt)|0)+Math.imul(We,Bt)|0,v=v+Math.imul(We,Wt)|0,M=M+Math.imul(pe,at)|0,d=(d=d+Math.imul(pe,ut)|0)+Math.imul(Se,at)|0,v=v+Math.imul(Se,ut)|0,M=M+Math.imul(he,et)|0,d=(d=d+Math.imul(he,gt)|0)+Math.imul(re,et)|0,v=v+Math.imul(re,gt)|0,M=M+Math.imul(me,zt)|0,d=(d=d+Math.imul(me,tn)|0)+Math.imul(xe,zt)|0,v=v+Math.imul(xe,tn)|0;var mr=(j+(M=M+Math.imul(be,bn)|0)|0)+((8191&(d=(d=d+Math.imul(be,vn)|0)+Math.imul(ge,bn)|0))<<13)|0;j=((v=v+Math.imul(ge,vn)|0)+(d>>>13)|0)+(mr>>>26)|0,mr&=67108863,M=Math.imul(F,cn),d=(d=Math.imul(F,Ut))+Math.imul(ie,cn)|0,v=Math.imul(ie,Ut),M=M+Math.imul(U,dt)|0,d=(d=d+Math.imul(U,it)|0)+Math.imul(_,dt)|0,v=v+Math.imul(_,it)|0,M=M+Math.imul(Xe,Bt)|0,d=(d=d+Math.imul(Xe,Wt)|0)+Math.imul(Ke,Bt)|0,v=v+Math.imul(Ke,Wt)|0,M=M+Math.imul(Fe,at)|0,d=(d=d+Math.imul(Fe,ut)|0)+Math.imul(We,at)|0,v=v+Math.imul(We,ut)|0,M=M+Math.imul(pe,et)|0,d=(d=d+Math.imul(pe,gt)|0)+Math.imul(Se,et)|0,v=v+Math.imul(Se,gt)|0,M=M+Math.imul(he,zt)|0,d=(d=d+Math.imul(he,tn)|0)+Math.imul(re,zt)|0,v=v+Math.imul(re,tn)|0;var Rr=(j+(M=M+Math.imul(me,bn)|0)|0)+((8191&(d=(d=d+Math.imul(me,vn)|0)+Math.imul(xe,bn)|0))<<13)|0;j=((v=v+Math.imul(xe,vn)|0)+(d>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,M=Math.imul(F,dt),d=(d=Math.imul(F,it))+Math.imul(ie,dt)|0,v=Math.imul(ie,it),M=M+Math.imul(U,Bt)|0,d=(d=d+Math.imul(U,Wt)|0)+Math.imul(_,Bt)|0,v=v+Math.imul(_,Wt)|0,M=M+Math.imul(Xe,at)|0,d=(d=d+Math.imul(Xe,ut)|0)+Math.imul(Ke,at)|0,v=v+Math.imul(Ke,ut)|0,M=M+Math.imul(Fe,et)|0,d=(d=d+Math.imul(Fe,gt)|0)+Math.imul(We,et)|0,v=v+Math.imul(We,gt)|0,M=M+Math.imul(pe,zt)|0,d=(d=d+Math.imul(pe,tn)|0)+Math.imul(Se,zt)|0,v=v+Math.imul(Se,tn)|0;var Br=(j+(M=M+Math.imul(he,bn)|0)|0)+((8191&(d=(d=d+Math.imul(he,vn)|0)+Math.imul(re,bn)|0))<<13)|0;j=((v=v+Math.imul(re,vn)|0)+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,M=Math.imul(F,Bt),d=(d=Math.imul(F,Wt))+Math.imul(ie,Bt)|0,v=Math.imul(ie,Wt),M=M+Math.imul(U,at)|0,d=(d=d+Math.imul(U,ut)|0)+Math.imul(_,at)|0,v=v+Math.imul(_,ut)|0,M=M+Math.imul(Xe,et)|0,d=(d=d+Math.imul(Xe,gt)|0)+Math.imul(Ke,et)|0,v=v+Math.imul(Ke,gt)|0,M=M+Math.imul(Fe,zt)|0,d=(d=d+Math.imul(Fe,tn)|0)+Math.imul(We,zt)|0,v=v+Math.imul(We,tn)|0;var kr=(j+(M=M+Math.imul(pe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(pe,vn)|0)+Math.imul(Se,bn)|0))<<13)|0;j=((v=v+Math.imul(Se,vn)|0)+(d>>>13)|0)+(kr>>>26)|0,kr&=67108863,M=Math.imul(F,at),d=(d=Math.imul(F,ut))+Math.imul(ie,at)|0,v=Math.imul(ie,ut),M=M+Math.imul(U,et)|0,d=(d=d+Math.imul(U,gt)|0)+Math.imul(_,et)|0,v=v+Math.imul(_,gt)|0,M=M+Math.imul(Xe,zt)|0,d=(d=d+Math.imul(Xe,tn)|0)+Math.imul(Ke,zt)|0,v=v+Math.imul(Ke,tn)|0;var jr=(j+(M=M+Math.imul(Fe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Fe,vn)|0)+Math.imul(We,bn)|0))<<13)|0;j=((v=v+Math.imul(We,vn)|0)+(d>>>13)|0)+(jr>>>26)|0,jr&=67108863,M=Math.imul(F,et),d=(d=Math.imul(F,gt))+Math.imul(ie,et)|0,v=Math.imul(ie,gt),M=M+Math.imul(U,zt)|0,d=(d=d+Math.imul(U,tn)|0)+Math.imul(_,zt)|0,v=v+Math.imul(_,tn)|0;var Yr=(j+(M=M+Math.imul(Xe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Xe,vn)|0)+Math.imul(Ke,bn)|0))<<13)|0;j=((v=v+Math.imul(Ke,vn)|0)+(d>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,M=Math.imul(F,zt),d=(d=Math.imul(F,tn))+Math.imul(ie,zt)|0,v=Math.imul(ie,tn);var wt=(j+(M=M+Math.imul(U,bn)|0)|0)+((8191&(d=(d=d+Math.imul(U,vn)|0)+Math.imul(_,bn)|0))<<13)|0;j=((v=v+Math.imul(_,vn)|0)+(d>>>13)|0)+(wt>>>26)|0,wt&=67108863;var Pt=(j+(M=Math.imul(F,bn))|0)+((8191&(d=(d=Math.imul(F,vn))+Math.imul(ie,bn)|0))<<13)|0;return j=((v=Math.imul(ie,vn))+(d>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,C[0]=Or,C[1]=Qn,C[2]=jn,C[3]=On,C[4]=Vn,C[5]=Hn,C[6]=ar,C[7]=qn,C[8]=vr,C[9]=_r,C[10]=Er,C[11]=mr,C[12]=Rr,C[13]=Br,C[14]=kr,C[15]=jr,C[16]=Yr,C[17]=wt,C[18]=Pt,0!==j&&(C[19]=j,g.length++),g};function J(P,u,h){return(new q).mulp(P,u,h)}function q(P,u){this.x=P,this.y=u}Math.imul||(Q=Z),x.prototype.mulTo=function(u,h){var g,w=this.length+u.length;return g=10===this.length&&10===u.length?Q(this,u,h):w<63?Z(this,u,h):w<1024?function te(P,u,h){h.negative=u.negative^P.negative,h.length=P.length+u.length;for(var g=0,w=0,T=0;T<h.length-1;T++){var C=w;w=0;for(var j=67108863&g,M=Math.min(T,u.length-1),d=Math.max(0,T-P.length+1);d<=M;d++){var ee=(0|P.words[T-d])*(0|u.words[d]),fe=67108863&ee;j=67108863&(fe=fe+j|0),w+=(C=(C=C+(ee/67108864|0)|0)+(fe>>>26)|0)>>>26,C&=67108863}h.words[T]=j,g=C,C=w}return 0!==g?h.words[T]=g:h.length--,h.strip()}(this,u,h):J(this,u,h),g},q.prototype.makeRBT=function(u){for(var h=new Array(u),g=x.prototype._countBits(u)-1,w=0;w<u;w++)h[w]=this.revBin(w,g,u);return h},q.prototype.revBin=function(u,h,g){if(0===u||u===g-1)return u;for(var w=0,T=0;T<h;T++)w|=(1&u)<<h-T-1,u>>=1;return w},q.prototype.permute=function(u,h,g,w,T,C){for(var j=0;j<C;j++)w[j]=h[u[j]],T[j]=g[u[j]]},q.prototype.transform=function(u,h,g,w,T,C){this.permute(C,u,h,g,w,T);for(var j=1;j<T;j<<=1)for(var M=j<<1,d=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<T;W+=M)for(var H=d,ee=v,fe=0;fe<j;fe++){var Ae=g[W+fe],Pe=w[W+fe],Le=g[W+fe+j],be=w[W+fe+j],ge=H*Le-ee*be;be=H*be+ee*Le,g[W+fe]=Ae+(Le=ge),w[W+fe]=Pe+be,g[W+fe+j]=Ae-Le,w[W+fe+j]=Pe-be,fe!==M&&(ge=d*H-v*ee,ee=d*ee+v*H,H=ge)}},q.prototype.guessLen13b=function(u,h){var g=1|Math.max(h,u),w=1&g,T=0;for(g=g/2|0;g;g>>>=1)T++;return 1<<T+1+w},q.prototype.conjugate=function(u,h,g){if(!(g<=1))for(var w=0;w<g/2;w++){var T=u[w];u[w]=u[g-w-1],u[g-w-1]=T,T=h[w],h[w]=-h[g-w-1],h[g-w-1]=-T}},q.prototype.normalize13b=function(u,h){for(var g=0,w=0;w<h/2;w++){var T=8192*Math.round(u[2*w+1]/h)+Math.round(u[2*w]/h)+g;u[w]=67108863&T,g=T<67108864?0:T/67108864|0}return u},q.prototype.convert13b=function(u,h,g,w){for(var T=0,C=0;C<h;C++)g[2*C]=8191&(T+=0|u[C]),g[2*C+1]=8191&(T>>>=13),T>>>=13;for(C=2*h;C<w;++C)g[C]=0;O(0===T),O(!(-8192&T))},q.prototype.stub=function(u){for(var h=new Array(u),g=0;g<u;g++)h[g]=0;return h},q.prototype.mulp=function(u,h,g){var w=2*this.guessLen13b(u.length,h.length),T=this.makeRBT(w),C=this.stub(w),j=new Array(w),M=new Array(w),d=new Array(w),v=new Array(w),W=new Array(w),H=new Array(w),ee=g.words;ee.length=w,this.convert13b(u.words,u.length,j,w),this.convert13b(h.words,h.length,v,w),this.transform(j,C,M,d,w,T),this.transform(v,C,W,H,w,T);for(var fe=0;fe<w;fe++){var Ae=M[fe]*W[fe]-d[fe]*H[fe];d[fe]=M[fe]*H[fe]+d[fe]*W[fe],M[fe]=Ae}return this.conjugate(M,d,w),this.transform(M,d,ee,C,w,T),this.conjugate(ee,C,w),this.normalize13b(ee,w),g.negative=u.negative^h.negative,g.length=u.length+h.length,g.strip()},x.prototype.mul=function(u){var h=new x(null);return h.words=new Array(this.length+u.length),this.mulTo(u,h)},x.prototype.mulf=function(u){var h=new x(null);return h.words=new Array(this.length+u.length),J(this,u,h)},x.prototype.imul=function(u){return this.clone().mulTo(u,this)},x.prototype.imuln=function(u){O("number"==typeof u),O(u<67108864);for(var h=0,g=0;g<this.length;g++){var w=(0|this.words[g])*u,T=(67108863&w)+(67108863&h);h>>=26,h+=w/67108864|0,h+=T>>>26,this.words[g]=67108863&T}return 0!==h&&(this.words[g]=h,this.length++),this},x.prototype.muln=function(u){return this.clone().imuln(u)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(u){var h=function V(P){for(var u=new Array(P.bitLength()),h=0;h<u.length;h++){var w=h%26;u[h]=(P.words[h/26|0]&1<<w)>>>w}return u}(u);if(0===h.length)return new x(1);for(var g=this,w=0;w<h.length&&0===h[w];w++,g=g.sqr());if(++w<h.length)for(var T=g.sqr();w<h.length;w++,T=T.sqr())0!==h[w]&&(g=g.mul(T));return g},x.prototype.iushln=function(u){O("number"==typeof u&&u>=0);var T,h=u%26,g=(u-h)/26,w=67108863>>>26-h<<26-h;if(0!==h){var C=0;for(T=0;T<this.length;T++){var j=this.words[T]&w;this.words[T]=(0|this.words[T])-j<<h|C,C=j>>>26-h}C&&(this.words[T]=C,this.length++)}if(0!==g){for(T=this.length-1;T>=0;T--)this.words[T+g]=this.words[T];for(T=0;T<g;T++)this.words[T]=0;this.length+=g}return this.strip()},x.prototype.ishln=function(u){return O(0===this.negative),this.iushln(u)},x.prototype.iushrn=function(u,h,g){var w;O("number"==typeof u&&u>=0),w=h?(h-h%26)/26:0;var T=u%26,C=Math.min((u-T)/26,this.length),j=67108863^67108863>>>T<<T,M=g;if(w-=C,w=Math.max(0,w),M){for(var d=0;d<C;d++)M.words[d]=this.words[d];M.length=C}if(0!==C)if(this.length>C)for(this.length-=C,d=0;d<this.length;d++)this.words[d]=this.words[d+C];else this.words[0]=0,this.length=1;var v=0;for(d=this.length-1;d>=0&&(0!==v||d>=w);d--){var W=0|this.words[d];this.words[d]=v<<26-T|W>>>T,v=W&j}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(u,h,g){return O(0===this.negative),this.iushrn(u,h,g)},x.prototype.shln=function(u){return this.clone().ishln(u)},x.prototype.ushln=function(u){return this.clone().iushln(u)},x.prototype.shrn=function(u){return this.clone().ishrn(u)},x.prototype.ushrn=function(u){return this.clone().iushrn(u)},x.prototype.testn=function(u){O("number"==typeof u&&u>=0);var h=u%26,g=(u-h)/26;return!(this.length<=g||!(this.words[g]&1<<h))},x.prototype.imaskn=function(u){O("number"==typeof u&&u>=0);var h=u%26,g=(u-h)/26;return O(0===this.negative,"imaskn works only with positive numbers"),this.length<=g?this:(0!==h&&g++,this.length=Math.min(g,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},x.prototype.maskn=function(u){return this.clone().imaskn(u)},x.prototype.iaddn=function(u){return O("number"==typeof u),O(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},x.prototype._iaddn=function(u){this.words[0]+=u;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},x.prototype.isubn=function(u){if(O("number"==typeof u),O(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},x.prototype.addn=function(u){return this.clone().iaddn(u)},x.prototype.subn=function(u){return this.clone().isubn(u)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(u,h,g){var T;this._expand(u.length+g);var C,j=0;for(T=0;T<u.length;T++){C=(0|this.words[T+g])+j;var M=(0|u.words[T])*h;j=((C-=67108863&M)>>26)-(M/67108864|0),this.words[T+g]=67108863&C}for(;T<this.length-g;T++)j=(C=(0|this.words[T+g])+j)>>26,this.words[T+g]=67108863&C;if(0===j)return this.strip();for(O(-1===j),j=0,T=0;T<this.length;T++)j=(C=-(0|this.words[T])+j)>>26,this.words[T]=67108863&C;return this.negative=1,this.strip()},x.prototype._wordDiv=function(u,h){var g,w=this.clone(),T=u,C=0|T.words[T.length-1];0!=(g=26-this._countBits(C))&&(T=T.ushln(g),w.iushln(g),C=0|T.words[T.length-1]);var d,M=w.length-T.length;if("mod"!==h){(d=new x(null)).length=M+1,d.words=new Array(d.length);for(var v=0;v<d.length;v++)d.words[v]=0}var W=w.clone()._ishlnsubmul(T,1,M);0===W.negative&&(w=W,d&&(d.words[M]=1));for(var H=M-1;H>=0;H--){var ee=67108864*(0|w.words[T.length+H])+(0|w.words[T.length+H-1]);for(ee=Math.min(ee/C|0,67108863),w._ishlnsubmul(T,ee,H);0!==w.negative;)ee--,w.negative=0,w._ishlnsubmul(T,1,H),w.isZero()||(w.negative^=1);d&&(d.words[H]=ee)}return d&&d.strip(),w.strip(),"div"!==h&&0!==g&&w.iushrn(g),{div:d||null,mod:w}},x.prototype.divmod=function(u,h,g){return O(!u.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===u.negative?(C=this.neg().divmod(u,h),"mod"!==h&&(w=C.div.neg()),"div"!==h&&(T=C.mod.neg(),g&&0!==T.negative&&T.iadd(u)),{div:w,mod:T}):0===this.negative&&0!==u.negative?(C=this.divmod(u.neg(),h),"mod"!==h&&(w=C.div.neg()),{div:w,mod:C.mod}):this.negative&u.negative?(C=this.neg().divmod(u.neg(),h),"div"!==h&&(T=C.mod.neg(),g&&0!==T.negative&&T.isub(u)),{div:C.div,mod:T}):u.length>this.length||this.cmp(u)<0?{div:new x(0),mod:this}:1===u.length?"div"===h?{div:this.divn(u.words[0]),mod:null}:"mod"===h?{div:null,mod:new x(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new x(this.modn(u.words[0]))}:this._wordDiv(u,h);var w,T,C},x.prototype.div=function(u){return this.divmod(u,"div",!1).div},x.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},x.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},x.prototype.divRound=function(u){var h=this.divmod(u);if(h.mod.isZero())return h.div;var g=0!==h.div.negative?h.mod.isub(u):h.mod,w=u.ushrn(1),T=u.andln(1),C=g.cmp(w);return C<0||1===T&&0===C?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},x.prototype.modn=function(u){O(u<=67108863);for(var h=(1<<26)%u,g=0,w=this.length-1;w>=0;w--)g=(h*g+(0|this.words[w]))%u;return g},x.prototype.idivn=function(u){O(u<=67108863);for(var h=0,g=this.length-1;g>=0;g--){var w=(0|this.words[g])+67108864*h;this.words[g]=w/u|0,h=w%u}return this.strip()},x.prototype.divn=function(u){return this.clone().idivn(u)},x.prototype.egcd=function(u){O(0===u.negative),O(!u.isZero());var h=this,g=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new x(1),T=new x(0),C=new x(0),j=new x(1),M=0;h.isEven()&&g.isEven();)h.iushrn(1),g.iushrn(1),++M;for(var d=g.clone(),v=h.clone();!h.isZero();){for(var W=0,H=1;!(h.words[0]&H)&&W<26;++W,H<<=1);if(W>0)for(h.iushrn(W);W-- >0;)(w.isOdd()||T.isOdd())&&(w.iadd(d),T.isub(v)),w.iushrn(1),T.iushrn(1);for(var ee=0,fe=1;!(g.words[0]&fe)&&ee<26;++ee,fe<<=1);if(ee>0)for(g.iushrn(ee);ee-- >0;)(C.isOdd()||j.isOdd())&&(C.iadd(d),j.isub(v)),C.iushrn(1),j.iushrn(1);h.cmp(g)>=0?(h.isub(g),w.isub(C),T.isub(j)):(g.isub(h),C.isub(w),j.isub(T))}return{a:C,b:j,gcd:g.iushln(M)}},x.prototype._invmp=function(u){O(0===u.negative),O(!u.isZero());var W,h=this,g=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new x(1),T=new x(0),C=g.clone();h.cmpn(1)>0&&g.cmpn(1)>0;){for(var j=0,M=1;!(h.words[0]&M)&&j<26;++j,M<<=1);if(j>0)for(h.iushrn(j);j-- >0;)w.isOdd()&&w.iadd(C),w.iushrn(1);for(var d=0,v=1;!(g.words[0]&v)&&d<26;++d,v<<=1);if(d>0)for(g.iushrn(d);d-- >0;)T.isOdd()&&T.iadd(C),T.iushrn(1);h.cmp(g)>=0?(h.isub(g),w.isub(T)):(g.isub(h),T.isub(w))}return(W=0===h.cmpn(1)?w:T).cmpn(0)<0&&W.iadd(u),W},x.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var h=this.clone(),g=u.clone();h.negative=0,g.negative=0;for(var w=0;h.isEven()&&g.isEven();w++)h.iushrn(1),g.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;g.isEven();)g.iushrn(1);var T=h.cmp(g);if(T<0){var C=h;h=g,g=C}else if(0===T||0===g.cmpn(1))break;h.isub(g)}return g.iushln(w)},x.prototype.invm=function(u){return this.egcd(u).a.umod(u)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(u){return this.words[0]&u},x.prototype.bincn=function(u){O("number"==typeof u);var h=u%26,g=(u-h)/26,w=1<<h;if(this.length<=g)return this._expand(g+1),this.words[g]|=w,this;for(var T=w,C=g;0!==T&&C<this.length;C++){var j=0|this.words[C];T=(j+=T)>>>26,this.words[C]=j&=67108863}return 0!==T&&(this.words[C]=T,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(u){var g,h=u<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)g=1;else{h&&(u=-u),O(u<=67108863,"Number is too big");var w=0|this.words[0];g=w===u?0:w<u?-1:1}return 0!==this.negative?0|-g:g},x.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var h=this.ucmp(u);return 0!==this.negative?0|-h:h},x.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var h=0,g=this.length-1;g>=0;g--){var w=0|this.words[g],T=0|u.words[g];if(w!==T){w<T?h=-1:w>T&&(h=1);break}}return h},x.prototype.gtn=function(u){return 1===this.cmpn(u)},x.prototype.gt=function(u){return 1===this.cmp(u)},x.prototype.gten=function(u){return this.cmpn(u)>=0},x.prototype.gte=function(u){return this.cmp(u)>=0},x.prototype.ltn=function(u){return-1===this.cmpn(u)},x.prototype.lt=function(u){return-1===this.cmp(u)},x.prototype.lten=function(u){return this.cmpn(u)<=0},x.prototype.lte=function(u){return this.cmp(u)<=0},x.prototype.eqn=function(u){return 0===this.cmpn(u)},x.prototype.eq=function(u){return 0===this.cmp(u)},x.red=function(u){return new _e(u)},x.prototype.toRed=function(u){return O(!this.red,"Already a number in reduction context"),O(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},x.prototype.fromRed=function(){return O(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(u){return this.red=u,this},x.prototype.forceRed=function(u){return O(!this.red,"Already a number in reduction context"),this._forceRed(u)},x.prototype.redAdd=function(u){return O(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},x.prototype.redIAdd=function(u){return O(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},x.prototype.redSub=function(u){return O(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},x.prototype.redISub=function(u){return O(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},x.prototype.redShl=function(u){return O(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},x.prototype.redMul=function(u){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},x.prototype.redIMul=function(u){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},x.prototype.redSqr=function(){return O(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return O(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return O(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return O(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return O(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(u){return O(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var ne={k256:null,p224:null,p192:null,p25519:null};function se(P,u){this.name=P,this.p=new x(u,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function oe(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ae(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function ve(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _e(P){if("string"==typeof P){var u=x._prime(P);this.m=u.p,this.prime=u}else O(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}function De(P){_e.call(this,P),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se.prototype._tmp=function(){var u=new x(null);return u.words=new Array(Math.ceil(this.n/13)),u},se.prototype.ireduce=function(u){var g,h=u;do{this.split(h,this.tmp),g=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(g>this.n);var w=g<this.n?-1:h.ucmp(this.p);return 0===w?(h.words[0]=0,h.length=1):w>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},se.prototype.split=function(u,h){u.iushrn(this.n,0,h)},se.prototype.imulK=function(u){return u.imul(this.k)},G(oe,se),oe.prototype.split=function(u,h){for(var g=4194303,w=Math.min(u.length,9),T=0;T<w;T++)h.words[T]=u.words[T];if(h.length=w,u.length<=9)return u.words[0]=0,void(u.length=1);var C=u.words[9];for(h.words[h.length++]=C&g,T=10;T<u.length;T++){var j=0|u.words[T];u.words[T-10]=(j&g)<<4|C>>>22,C=j}u.words[T-10]=C>>>=22,u.length-=0===C&&u.length>10?10:9},oe.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var h=0,g=0;g<u.length;g++){var w=0|u.words[g];u.words[g]=67108863&(h+=977*w),h=64*w+(h/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},G(ue,se),G(ae,se),G(ve,se),ve.prototype.imulK=function(u){for(var h=0,g=0;g<u.length;g++){var w=19*(0|u.words[g])+h,T=67108863&w;w>>>=26,u.words[g]=T,h=w}return 0!==h&&(u.words[u.length++]=h),u},x._prime=function(u){if(ne[u])return ne[u];var h;if("k256"===u)h=new oe;else if("p224"===u)h=new ue;else if("p192"===u)h=new ae;else{if("p25519"!==u)throw new Error("Unknown prime "+u);h=new ve}return ne[u]=h,h},_e.prototype._verify1=function(u){O(0===u.negative,"red works only with positives"),O(u.red,"red works only with red numbers")},_e.prototype._verify2=function(u,h){O(!(u.negative|h.negative),"red works only with positives"),O(u.red&&u.red===h.red,"red works only with red numbers")},_e.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},_e.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},_e.prototype.add=function(u,h){this._verify2(u,h);var g=u.add(h);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},_e.prototype.iadd=function(u,h){this._verify2(u,h);var g=u.iadd(h);return g.cmp(this.m)>=0&&g.isub(this.m),g},_e.prototype.sub=function(u,h){this._verify2(u,h);var g=u.sub(h);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},_e.prototype.isub=function(u,h){this._verify2(u,h);var g=u.isub(h);return g.cmpn(0)<0&&g.iadd(this.m),g},_e.prototype.shl=function(u,h){return this._verify1(u),this.imod(u.ushln(h))},_e.prototype.imul=function(u,h){return this._verify2(u,h),this.imod(u.imul(h))},_e.prototype.mul=function(u,h){return this._verify2(u,h),this.imod(u.mul(h))},_e.prototype.isqr=function(u){return this.imul(u,u.clone())},_e.prototype.sqr=function(u){return this.mul(u,u)},_e.prototype.sqrt=function(u){if(u.isZero())return u.clone();var h=this.m.andln(3);if(O(h%2==1),3===h){var g=this.m.add(new x(1)).iushrn(2);return this.pow(u,g)}for(var w=this.m.subn(1),T=0;!w.isZero()&&0===w.andln(1);)T++,w.iushrn(1);O(!w.isZero());var C=new x(1).toRed(this),j=C.redNeg(),M=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new x(2*d*d).toRed(this);0!==this.pow(d,M).cmp(j);)d.redIAdd(j);for(var v=this.pow(d,w),W=this.pow(u,w.addn(1).iushrn(1)),H=this.pow(u,w),ee=T;0!==H.cmp(C);){for(var fe=H,Ae=0;0!==fe.cmp(C);Ae++)fe=fe.redSqr();O(Ae<ee);var Pe=this.pow(v,new x(1).iushln(ee-Ae-1));W=W.redMul(Pe),v=Pe.redSqr(),H=H.redMul(v),ee=Ae}return W},_e.prototype.invm=function(u){var h=u._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},_e.prototype.pow=function(u,h){if(h.isZero())return new x(1).toRed(this);if(0===h.cmpn(1))return u.clone();var w=new Array(16);w[0]=new x(1).toRed(this),w[1]=u;for(var T=2;T<w.length;T++)w[T]=this.mul(w[T-1],u);var C=w[0],j=0,M=0,d=h.bitLength()%26;for(0===d&&(d=26),T=h.length-1;T>=0;T--){for(var v=h.words[T],W=d-1;W>=0;W--){var H=v>>W&1;C!==w[0]&&(C=this.sqr(C)),0!==H||0!==j?(j<<=1,j|=H,(4==++M||0===T&&0===W)&&(C=this.mul(C,w[j]),M=0,j=0)):M=0}d=26}return C},_e.prototype.convertTo=function(u){var h=u.umod(this.m);return h===u?h.clone():h},_e.prototype.convertFrom=function(u){var h=u.clone();return h.red=null,h},x.mont=function(u){return new De(u)},G(De,_e),De.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},De.prototype.convertFrom=function(u){var h=this.imod(u.mul(this.rinv));return h.red=null,h},De.prototype.imul=function(u,h){if(u.isZero()||h.isZero())return u.words[0]=0,u.length=1,u;var g=u.imul(h),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=g.isub(w).iushrn(this.shift),C=T;return T.cmp(this.m)>=0?C=T.isub(this.m):T.cmpn(0)<0&&(C=T.iadd(this.m)),C._forceRed(this)},De.prototype.mul=function(u,h){if(u.isZero()||h.isZero())return new x(0)._forceRed(this);var g=u.mul(h),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=g.isub(w).iushrn(this.shift),C=T;return T.cmp(this.m)>=0?C=T.isub(this.m):T.cmpn(0)<0&&(C=T.iadd(this.m)),C._forceRed(this)},De.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Be=E.nmd(Be),this)},44356:Be=>{"use strict";var p,z="object"==typeof Reflect?Reflect:null,E=z&&"function"==typeof z.apply?z.apply:function(se,oe,ue){return Function.prototype.apply.call(se,oe,ue)};p=z&&"function"==typeof z.ownKeys?z.ownKeys:Object.getOwnPropertySymbols?function(se){return Object.getOwnPropertyNames(se).concat(Object.getOwnPropertySymbols(se))}:function(se){return Object.getOwnPropertyNames(se)};var O=Number.isNaN||function(se){return se!=se};function G(){G.init.call(this)}Be.exports=G,Be.exports.once=function te(ne,se){return new Promise(function(oe,ue){function ae(_e){ne.removeListener(se,ve),ue(_e)}function ve(){"function"==typeof ne.removeListener&&ne.removeListener("error",ae),oe([].slice.call(arguments))}q(ne,se,ve,{once:!0}),"error"!==se&&function J(ne,se,oe){"function"==typeof ne.on&&q(ne,"error",se,oe)}(ne,ae,{once:!0})})},G.EventEmitter=G,G.prototype._events=void 0,G.prototype._eventsCount=0,G.prototype._maxListeners=void 0;var x=10;function B(ne){if("function"!=typeof ne)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ne)}function A(ne){return void 0===ne._maxListeners?G.defaultMaxListeners:ne._maxListeners}function N(ne,se,oe,ue){var ae,ve,_e;if(B(oe),void 0===(ve=ne._events)?(ve=ne._events=Object.create(null),ne._eventsCount=0):(void 0!==ve.newListener&&(ne.emit("newListener",se,oe.listener?oe.listener:oe),ve=ne._events),_e=ve[se]),void 0===_e)_e=ve[se]=oe,++ne._eventsCount;else if("function"==typeof _e?_e=ve[se]=ue?[oe,_e]:[_e,oe]:ue?_e.unshift(oe):_e.push(oe),(ae=A(ne))>0&&_e.length>ae&&!_e.warned){_e.warned=!0;var De=new Error("Possible EventEmitter memory leak detected. "+_e.length+" "+String(se)+" listeners added. Use emitter.setMaxListeners() to increase limit");De.name="MaxListenersExceededWarning",De.emitter=ne,De.type=se,De.count=_e.length,function S(ne){console&&console.warn&&console.warn(ne)}(De)}return ne}function $(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function K(ne,se,oe){var ue={fired:!1,wrapFn:void 0,target:ne,type:se,listener:oe},ae=$.bind(ue);return ae.listener=oe,ue.wrapFn=ae,ae}function D(ne,se,oe){var ue=ne._events;if(void 0===ue)return[];var ae=ue[se];return void 0===ae?[]:"function"==typeof ae?oe?[ae.listener||ae]:[ae]:oe?function Q(ne){for(var se=new Array(ne.length),oe=0;oe<se.length;++oe)se[oe]=ne[oe].listener||ne[oe];return se}(ae):V(ae,ae.length)}function X(ne){var se=this._events;if(void 0!==se){var oe=se[ne];if("function"==typeof oe)return 1;if(void 0!==oe)return oe.length}return 0}function V(ne,se){for(var oe=new Array(se),ue=0;ue<se;++ue)oe[ue]=ne[ue];return oe}function q(ne,se,oe,ue){if("function"==typeof ne.on)ue.once?ne.once(se,oe):ne.on(se,oe);else{if("function"!=typeof ne.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ne);ne.addEventListener(se,function ae(ve){ue.once&&ne.removeEventListener(se,ae),oe(ve)})}}Object.defineProperty(G,"defaultMaxListeners",{enumerable:!0,get:function(){return x},set:function(ne){if("number"!=typeof ne||ne<0||O(ne))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ne+".");x=ne}}),G.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},G.prototype.setMaxListeners=function(se){if("number"!=typeof se||se<0||O(se))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+se+".");return this._maxListeners=se,this},G.prototype.getMaxListeners=function(){return A(this)},G.prototype.emit=function(se){for(var oe=[],ue=1;ue<arguments.length;ue++)oe.push(arguments[ue]);var ae="error"===se,ve=this._events;if(void 0!==ve)ae=ae&&void 0===ve.error;else if(!ae)return!1;if(ae){var _e;if(oe.length>0&&(_e=oe[0]),_e instanceof Error)throw _e;var De=new Error("Unhandled error."+(_e?" ("+_e.message+")":""));throw De.context=_e,De}var P=ve[se];if(void 0===P)return!1;if("function"==typeof P)E(P,this,oe);else{var u=P.length,h=V(P,u);for(ue=0;ue<u;++ue)E(h[ue],this,oe)}return!0},G.prototype.on=G.prototype.addListener=function(se,oe){return N(this,se,oe,!1)},G.prototype.prependListener=function(se,oe){return N(this,se,oe,!0)},G.prototype.once=function(se,oe){return B(oe),this.on(se,K(this,se,oe)),this},G.prototype.prependOnceListener=function(se,oe){return B(oe),this.prependListener(se,K(this,se,oe)),this},G.prototype.off=G.prototype.removeListener=function(se,oe){var ue,ae,ve,_e,De;if(B(oe),void 0===(ae=this._events))return this;if(void 0===(ue=ae[se]))return this;if(ue===oe||ue.listener===oe)0==--this._eventsCount?this._events=Object.create(null):(delete ae[se],ae.removeListener&&this.emit("removeListener",se,ue.listener||oe));else if("function"!=typeof ue){for(ve=-1,_e=ue.length-1;_e>=0;_e--)if(ue[_e]===oe||ue[_e].listener===oe){De=ue[_e].listener,ve=_e;break}if(ve<0)return this;0===ve?ue.shift():function Z(ne,se){for(;se+1<ne.length;se++)ne[se]=ne[se+1];ne.pop()}(ue,ve),1===ue.length&&(ae[se]=ue[0]),void 0!==ae.removeListener&&this.emit("removeListener",se,De||oe)}return this},G.prototype.removeAllListeners=function(se){var oe,ue,ae;if(void 0===(ue=this._events))return this;if(void 0===ue.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==ue[se]&&(0==--this._eventsCount?this._events=Object.create(null):delete ue[se]),this;if(0===arguments.length){var _e,ve=Object.keys(ue);for(ae=0;ae<ve.length;++ae)"removeListener"!==(_e=ve[ae])&&this.removeAllListeners(_e);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(oe=ue[se]))this.removeListener(se,oe);else if(void 0!==oe)for(ae=oe.length-1;ae>=0;ae--)this.removeListener(se,oe[ae]);return this},G.prototype.listeners=function(se){return D(this,se,!0)},G.prototype.rawListeners=function(se){return D(this,se,!1)},G.listenerCount=function(ne,se){return"function"==typeof ne.listenerCount?ne.listenerCount(se):X.call(ne,se)},G.prototype.listenerCount=X,G.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]}},18211:(Be,z,E)=>{var p=E(27054).Buffer,S=E(34725);Be.exports=function O(G,x,B,A){if(p.isBuffer(G)||(G=p.from(G,"binary")),x&&(p.isBuffer(x)||(x=p.from(x,"binary")),8!==x.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var N=B/8,$=p.alloc(N),K=p.alloc(A||0),D=p.alloc(0);N>0||A>0;){var X=new S;X.update(D),X.update(G),x&&X.update(x),D=X.digest();var V=0;if(N>0){var Z=$.length-N;V=Math.min(N,D.length),D.copy($,Z,0,V),N-=V}if(V<D.length&&A>0){var Q=K.length-A,te=Math.min(A,D.length-V);D.copy(K,Q,V,V+te),A-=te}}return D.fill(0),{key:$,iv:K}}},40362:Be=>{"use strict";Be.exports=function z(E,p){if(E===p)return!0;if(E&&p&&"object"==typeof E&&"object"==typeof p){if(E.constructor!==p.constructor)return!1;var S,O,G;if(Array.isArray(E)){if((S=E.length)!=p.length)return!1;for(O=S;0!=O--;)if(!z(E[O],p[O]))return!1;return!0}if(E.constructor===RegExp)return E.source===p.source&&E.flags===p.flags;if(E.valueOf!==Object.prototype.valueOf)return E.valueOf()===p.valueOf();if(E.toString!==Object.prototype.toString)return E.toString()===p.toString();if((S=(G=Object.keys(E)).length)!==Object.keys(p).length)return!1;for(O=S;0!=O--;)if(!Object.prototype.hasOwnProperty.call(p,G[O]))return!1;for(O=S;0!=O--;){var x=G[O];if(!z(E[x],p[x]))return!1}return!0}return E!=E&&p!=p}},13686:(Be,z,E)=>{"use strict";var p=E(27054).Buffer,S=E(7045).Transform;function x(B){S.call(this),this._block=p.allocUnsafe(B),this._blockSize=B,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}E(71993)(x,S),x.prototype._transform=function(B,A,N){var $=null;try{this.update(B,A)}catch(K){$=K}N($)},x.prototype._flush=function(B){var A=null;try{this.push(this.digest())}catch(N){A=N}B(A)},x.prototype.update=function(B,A){if(function G(B,A){if(!p.isBuffer(B)&&"string"!=typeof B)throw new TypeError(A+" must be a string or a buffer")}(B,"Data"),this._finalized)throw new Error("Digest already called");p.isBuffer(B)||(B=p.from(B,A));for(var N=this._block,$=0;this._blockOffset+B.length-$>=this._blockSize;){for(var K=this._blockOffset;K<this._blockSize;)N[K++]=B[$++];this._update(),this._blockOffset=0}for(;$<B.length;)N[this._blockOffset++]=B[$++];for(var D=0,X=8*B.length;X>0;++D)this._length[D]+=X,(X=this._length[D]/4294967296|0)>0&&(this._length[D]-=4294967296*X);return this},x.prototype._update=function(){throw new Error("_update is not implemented")},x.prototype.digest=function(B){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var A=this._digest();void 0!==B&&(A=A.toString(B)),this._block.fill(0),this._blockOffset=0;for(var N=0;N<4;++N)this._length[N]=0;return A},x.prototype._digest=function(){throw new Error("_digest is not implemented")},Be.exports=x},52529:(Be,z,E)=>{var p=z;p.utils=E(68283),p.common=E(12901),p.sha=E(78528),p.ripemd=E(15283),p.hmac=E(37163),p.sha1=p.sha.sha1,p.sha256=p.sha.sha256,p.sha224=p.sha.sha224,p.sha384=p.sha.sha384,p.sha512=p.sha.sha512,p.ripemd160=p.ripemd.ripemd160},12901:(Be,z,E)=>{"use strict";var p=E(68283),S=E(39210);function O(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}z.BlockHash=O,O.prototype.update=function(x,B){if(x=p.toArray(x,B),this.pending=this.pending?this.pending.concat(x):x,this.pendingTotal+=x.length,this.pending.length>=this._delta8){var A=(x=this.pending).length%this._delta8;this.pending=x.slice(x.length-A,x.length),0===this.pending.length&&(this.pending=null),x=p.join32(x,0,x.length-A,this.endian);for(var N=0;N<x.length;N+=this._delta32)this._update(x,N,N+this._delta32)}return this},O.prototype.digest=function(x){return this.update(this._pad()),S(null===this.pending),this._digest(x)},O.prototype._pad=function(){var x=this.pendingTotal,B=this._delta8,A=B-(x+this.padLength)%B,N=new Array(A+this.padLength);N[0]=128;for(var $=1;$<A;$++)N[$]=0;if(x<<=3,"big"===this.endian){for(var K=8;K<this.padLength;K++)N[$++]=0;N[$++]=0,N[$++]=0,N[$++]=0,N[$++]=0,N[$++]=x>>>24&255,N[$++]=x>>>16&255,N[$++]=x>>>8&255,N[$++]=255&x}else for(N[$++]=255&x,N[$++]=x>>>8&255,N[$++]=x>>>16&255,N[$++]=x>>>24&255,N[$++]=0,N[$++]=0,N[$++]=0,N[$++]=0,K=8;K<this.padLength;K++)N[$++]=0;return N}},37163:(Be,z,E)=>{"use strict";var p=E(68283),S=E(39210);function O(G,x,B){if(!(this instanceof O))return new O(G,x,B);this.Hash=G,this.blockSize=G.blockSize/8,this.outSize=G.outSize/8,this.inner=null,this.outer=null,this._init(p.toArray(x,B))}Be.exports=O,O.prototype._init=function(x){x.length>this.blockSize&&(x=(new this.Hash).update(x).digest()),S(x.length<=this.blockSize);for(var B=x.length;B<this.blockSize;B++)x.push(0);for(B=0;B<x.length;B++)x[B]^=54;for(this.inner=(new this.Hash).update(x),B=0;B<x.length;B++)x[B]^=106;this.outer=(new this.Hash).update(x)},O.prototype.update=function(x,B){return this.inner.update(x,B),this},O.prototype.digest=function(x){return this.outer.update(this.inner.digest()),this.outer.digest(x)}},15283:(Be,z,E)=>{"use strict";var p=E(68283),S=E(12901),O=p.rotl32,G=p.sum32,x=p.sum32_3,B=p.sum32_4,A=S.BlockHash;function N(){if(!(this instanceof N))return new N;A.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function $(te,J,q,ne){return te<=15?J^q^ne:te<=31?J&q|~J&ne:te<=47?(J|~q)^ne:te<=63?J&ne|q&~ne:J^(q|~ne)}function D(te){return te<=15?1352829926:te<=31?1548603684:te<=47?1836072691:te<=63?2053994217:0}p.inherits(N,A),z.ripemd160=N,N.blockSize=512,N.outSize=160,N.hmacStrength=192,N.padLength=64,N.prototype._update=function(J,q){for(var ne=this.h[0],se=this.h[1],oe=this.h[2],ue=this.h[3],ae=this.h[4],ve=ne,_e=se,De=oe,P=ue,u=ae,h=0;h<80;h++){var g=G(O(B(ne,$(h,se,oe,ue),J[X[h]+q],(te=h)<=15?0:te<=31?1518500249:te<=47?1859775393:te<=63?2400959708:2840853838),Z[h]),ae);ne=ae,ae=ue,ue=O(oe,10),oe=se,se=g,g=G(O(B(ve,$(79-h,_e,De,P),J[V[h]+q],D(h)),Q[h]),u),ve=u,u=P,P=O(De,10),De=_e,_e=g}var te;g=x(this.h[1],oe,P),this.h[1]=x(this.h[2],ue,u),this.h[2]=x(this.h[3],ae,ve),this.h[3]=x(this.h[4],ne,_e),this.h[4]=x(this.h[0],se,De),this.h[0]=g},N.prototype._digest=function(J){return"hex"===J?p.toHex32(this.h,"little"):p.split32(this.h,"little")};var X=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],V=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Z=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Q=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},78528:(Be,z,E)=>{"use strict";z.sha1=E(33468),z.sha224=E(5563),z.sha256=E(27138),z.sha384=E(93898),z.sha512=E(10827)},33468:(Be,z,E)=>{"use strict";var p=E(68283),S=E(12901),O=E(95542),G=p.rotl32,x=p.sum32,B=p.sum32_5,A=O.ft_1,N=S.BlockHash,$=[1518500249,1859775393,2400959708,3395469782];function K(){if(!(this instanceof K))return new K;N.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}p.inherits(K,N),Be.exports=K,K.blockSize=512,K.outSize=160,K.hmacStrength=80,K.padLength=64,K.prototype._update=function(X,V){for(var Z=this.W,Q=0;Q<16;Q++)Z[Q]=X[V+Q];for(;Q<Z.length;Q++)Z[Q]=G(Z[Q-3]^Z[Q-8]^Z[Q-14]^Z[Q-16],1);var te=this.h[0],J=this.h[1],q=this.h[2],ne=this.h[3],se=this.h[4];for(Q=0;Q<Z.length;Q++){var oe=~~(Q/20),ue=B(G(te,5),A(oe,J,q,ne),se,Z[Q],$[oe]);se=ne,ne=q,q=G(J,30),J=te,te=ue}this.h[0]=x(this.h[0],te),this.h[1]=x(this.h[1],J),this.h[2]=x(this.h[2],q),this.h[3]=x(this.h[3],ne),this.h[4]=x(this.h[4],se)},K.prototype._digest=function(X){return"hex"===X?p.toHex32(this.h,"big"):p.split32(this.h,"big")}},5563:(Be,z,E)=>{"use strict";var p=E(68283),S=E(27138);function O(){if(!(this instanceof O))return new O;S.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}p.inherits(O,S),Be.exports=O,O.blockSize=512,O.outSize=224,O.hmacStrength=192,O.padLength=64,O.prototype._digest=function(x){return"hex"===x?p.toHex32(this.h.slice(0,7),"big"):p.split32(this.h.slice(0,7),"big")}},27138:(Be,z,E)=>{"use strict";var p=E(68283),S=E(12901),O=E(95542),G=E(39210),x=p.sum32,B=p.sum32_4,A=p.sum32_5,N=O.ch32,$=O.maj32,K=O.s0_256,D=O.s1_256,X=O.g0_256,V=O.g1_256,Z=S.BlockHash,Q=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function te(){if(!(this instanceof te))return new te;Z.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Q,this.W=new Array(64)}p.inherits(te,Z),Be.exports=te,te.blockSize=512,te.outSize=256,te.hmacStrength=192,te.padLength=64,te.prototype._update=function(q,ne){for(var se=this.W,oe=0;oe<16;oe++)se[oe]=q[ne+oe];for(;oe<se.length;oe++)se[oe]=B(V(se[oe-2]),se[oe-7],X(se[oe-15]),se[oe-16]);var ue=this.h[0],ae=this.h[1],ve=this.h[2],_e=this.h[3],De=this.h[4],P=this.h[5],u=this.h[6],h=this.h[7];for(G(this.k.length===se.length),oe=0;oe<se.length;oe++){var g=A(h,D(De),N(De,P,u),this.k[oe],se[oe]),w=x(K(ue),$(ue,ae,ve));h=u,u=P,P=De,De=x(_e,g),_e=ve,ve=ae,ae=ue,ue=x(g,w)}this.h[0]=x(this.h[0],ue),this.h[1]=x(this.h[1],ae),this.h[2]=x(this.h[2],ve),this.h[3]=x(this.h[3],_e),this.h[4]=x(this.h[4],De),this.h[5]=x(this.h[5],P),this.h[6]=x(this.h[6],u),this.h[7]=x(this.h[7],h)},te.prototype._digest=function(q){return"hex"===q?p.toHex32(this.h,"big"):p.split32(this.h,"big")}},93898:(Be,z,E)=>{"use strict";var p=E(68283),S=E(10827);function O(){if(!(this instanceof O))return new O;S.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}p.inherits(O,S),Be.exports=O,O.blockSize=1024,O.outSize=384,O.hmacStrength=192,O.padLength=128,O.prototype._digest=function(x){return"hex"===x?p.toHex32(this.h.slice(0,12),"big"):p.split32(this.h.slice(0,12),"big")}},10827:(Be,z,E)=>{"use strict";var p=E(68283),S=E(12901),O=E(39210),G=p.rotr64_hi,x=p.rotr64_lo,B=p.shr64_hi,A=p.shr64_lo,N=p.sum64,$=p.sum64_hi,K=p.sum64_lo,D=p.sum64_4_hi,X=p.sum64_4_lo,V=p.sum64_5_hi,Z=p.sum64_5_lo,Q=S.BlockHash,te=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(){if(!(this instanceof J))return new J;Q.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=te,this.W=new Array(160)}function q(g,w,T,C,j){var M=g&T^~g&j;return M<0&&(M+=4294967296),M}function ne(g,w,T,C,j,M){var d=w&C^~w&M;return d<0&&(d+=4294967296),d}function se(g,w,T,C,j){var M=g&T^g&j^T&j;return M<0&&(M+=4294967296),M}function oe(g,w,T,C,j,M){var d=w&C^w&M^C&M;return d<0&&(d+=4294967296),d}function ue(g,w){var M=G(g,w,28)^G(w,g,2)^G(w,g,7);return M<0&&(M+=4294967296),M}function ae(g,w){var M=x(g,w,28)^x(w,g,2)^x(w,g,7);return M<0&&(M+=4294967296),M}function ve(g,w){var M=G(g,w,14)^G(g,w,18)^G(w,g,9);return M<0&&(M+=4294967296),M}function _e(g,w){var M=x(g,w,14)^x(g,w,18)^x(w,g,9);return M<0&&(M+=4294967296),M}function De(g,w){var M=G(g,w,1)^G(g,w,8)^B(g,w,7);return M<0&&(M+=4294967296),M}function P(g,w){var M=x(g,w,1)^x(g,w,8)^A(g,w,7);return M<0&&(M+=4294967296),M}function u(g,w){var M=G(g,w,19)^G(w,g,29)^B(g,w,6);return M<0&&(M+=4294967296),M}function h(g,w){var M=x(g,w,19)^x(w,g,29)^A(g,w,6);return M<0&&(M+=4294967296),M}p.inherits(J,Q),Be.exports=J,J.blockSize=1024,J.outSize=512,J.hmacStrength=192,J.padLength=128,J.prototype._prepareBlock=function(w,T){for(var C=this.W,j=0;j<32;j++)C[j]=w[T+j];for(;j<C.length;j+=2){var M=u(C[j-4],C[j-3]),d=h(C[j-4],C[j-3]),v=C[j-14],W=C[j-13],H=De(C[j-30],C[j-29]),ee=P(C[j-30],C[j-29]),fe=C[j-32],Ae=C[j-31];C[j]=D(M,d,v,W,H,ee,fe,Ae),C[j+1]=X(M,d,v,W,H,ee,fe,Ae)}},J.prototype._update=function(w,T){this._prepareBlock(w,T);var C=this.W,j=this.h[0],M=this.h[1],d=this.h[2],v=this.h[3],W=this.h[4],H=this.h[5],ee=this.h[6],fe=this.h[7],Ae=this.h[8],Pe=this.h[9],Le=this.h[10],be=this.h[11],ge=this.h[12],Re=this.h[13],me=this.h[14],xe=this.h[15];O(this.k.length===C.length);for(var le=0;le<C.length;le+=2){var he=me,re=xe,de=ve(Ae,Pe),pe=_e(Ae,Pe),Se=q(Ae,0,Le,0,ge),ke=ne(0,Pe,0,be,0,Re),Fe=this.k[le],We=this.k[le+1],Tt=C[le],Xe=C[le+1],Ke=V(he,re,de,pe,Se,ke,Fe,We,Tt,Xe),lt=Z(he,re,de,pe,Se,ke,Fe,We,Tt,Xe);he=ue(j,M),re=ae(j,M),de=se(j,0,d,0,W),pe=oe(0,M,0,v,0,H);var U=$(he,re,de,pe),_=K(he,re,de,pe);me=ge,xe=Re,ge=Le,Re=be,Le=Ae,be=Pe,Ae=$(ee,fe,Ke,lt),Pe=K(fe,fe,Ke,lt),ee=W,fe=H,W=d,H=v,d=j,v=M,j=$(Ke,lt,U,_),M=K(Ke,lt,U,_)}N(this.h,0,j,M),N(this.h,2,d,v),N(this.h,4,W,H),N(this.h,6,ee,fe),N(this.h,8,Ae,Pe),N(this.h,10,Le,be),N(this.h,12,ge,Re),N(this.h,14,me,xe)},J.prototype._digest=function(w){return"hex"===w?p.toHex32(this.h,"big"):p.split32(this.h,"big")}},95542:(Be,z,E)=>{"use strict";var S=E(68283).rotr32;function G(D,X,V){return D&X^~D&V}function x(D,X,V){return D&X^D&V^X&V}function B(D,X,V){return D^X^V}z.ft_1=function O(D,X,V,Z){return 0===D?G(X,V,Z):1===D||3===D?B(X,V,Z):2===D?x(X,V,Z):void 0},z.ch32=G,z.maj32=x,z.p32=B,z.s0_256=function A(D){return S(D,2)^S(D,13)^S(D,22)},z.s1_256=function N(D){return S(D,6)^S(D,11)^S(D,25)},z.g0_256=function $(D){return S(D,7)^S(D,18)^D>>>3},z.g1_256=function K(D){return S(D,17)^S(D,19)^D>>>10}},68283:(Be,z,E)=>{"use strict";var p=E(39210),S=E(71993);function O(h,g){return!(55296!=(64512&h.charCodeAt(g))||g<0||g+1>=h.length)&&56320==(64512&h.charCodeAt(g+1))}function B(h){return(h>>>24|h>>>8&65280|h<<8&16711680|(255&h)<<24)>>>0}function N(h){return 1===h.length?"0"+h:h}function $(h){return 7===h.length?"0"+h:6===h.length?"00"+h:5===h.length?"000"+h:4===h.length?"0000"+h:3===h.length?"00000"+h:2===h.length?"000000"+h:1===h.length?"0000000"+h:h}z.inherits=S,z.toArray=function G(h,g){if(Array.isArray(h))return h.slice();if(!h)return[];var w=[];if("string"==typeof h)if(g){if("hex"===g)for((h=h.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(h="0"+h),C=0;C<h.length;C+=2)w.push(parseInt(h[C]+h[C+1],16))}else for(var T=0,C=0;C<h.length;C++){var j=h.charCodeAt(C);j<128?w[T++]=j:j<2048?(w[T++]=j>>6|192,w[T++]=63&j|128):O(h,C)?(j=65536+((1023&j)<<10)+(1023&h.charCodeAt(++C)),w[T++]=j>>18|240,w[T++]=j>>12&63|128,w[T++]=j>>6&63|128,w[T++]=63&j|128):(w[T++]=j>>12|224,w[T++]=j>>6&63|128,w[T++]=63&j|128)}else for(C=0;C<h.length;C++)w[C]=0|h[C];return w},z.toHex=function x(h){for(var g="",w=0;w<h.length;w++)g+=N(h[w].toString(16));return g},z.htonl=B,z.toHex32=function A(h,g){for(var w="",T=0;T<h.length;T++){var C=h[T];"little"===g&&(C=B(C)),w+=$(C.toString(16))}return w},z.zero2=N,z.zero8=$,z.join32=function K(h,g,w,T){var C=w-g;p(C%4==0);for(var j=new Array(C/4),M=0,d=g;M<j.length;M++,d+=4)j[M]=("big"===T?h[d]<<24|h[d+1]<<16|h[d+2]<<8|h[d+3]:h[d+3]<<24|h[d+2]<<16|h[d+1]<<8|h[d])>>>0;return j},z.split32=function D(h,g){for(var w=new Array(4*h.length),T=0,C=0;T<h.length;T++,C+=4){var j=h[T];"big"===g?(w[C]=j>>>24,w[C+1]=j>>>16&255,w[C+2]=j>>>8&255,w[C+3]=255&j):(w[C+3]=j>>>24,w[C+2]=j>>>16&255,w[C+1]=j>>>8&255,w[C]=255&j)}return w},z.rotr32=function X(h,g){return h>>>g|h<<32-g},z.rotl32=function V(h,g){return h<<g|h>>>32-g},z.sum32=function Z(h,g){return h+g>>>0},z.sum32_3=function Q(h,g,w){return h+g+w>>>0},z.sum32_4=function te(h,g,w,T){return h+g+w+T>>>0},z.sum32_5=function J(h,g,w,T,C){return h+g+w+T+C>>>0},z.sum64=function q(h,g,w,T){var M=T+h[g+1]>>>0;h[g]=(M<T?1:0)+w+h[g]>>>0,h[g+1]=M},z.sum64_hi=function ne(h,g,w,T){return(g+T>>>0<g?1:0)+h+w>>>0},z.sum64_lo=function se(h,g,w,T){return g+T>>>0},z.sum64_4_hi=function oe(h,g,w,T,C,j,M,d){var v=0,W=g;return v+=(W=W+T>>>0)<g?1:0,v+=(W=W+j>>>0)<j?1:0,h+w+C+M+(v+=(W=W+d>>>0)<d?1:0)>>>0},z.sum64_4_lo=function ue(h,g,w,T,C,j,M,d){return g+T+j+d>>>0},z.sum64_5_hi=function ae(h,g,w,T,C,j,M,d,v,W){var H=0,ee=g;return H+=(ee=ee+T>>>0)<g?1:0,H+=(ee=ee+j>>>0)<j?1:0,H+=(ee=ee+d>>>0)<d?1:0,h+w+C+M+v+(H+=(ee=ee+W>>>0)<W?1:0)>>>0},z.sum64_5_lo=function ve(h,g,w,T,C,j,M,d,v,W){return g+T+j+d+W>>>0},z.rotr64_hi=function _e(h,g,w){return(g<<32-w|h>>>w)>>>0},z.rotr64_lo=function De(h,g,w){return(h<<32-w|g>>>w)>>>0},z.shr64_hi=function P(h,g,w){return h>>>w},z.shr64_lo=function u(h,g,w){return(h<<32-w|g>>>w)>>>0}},33556:(Be,z,E)=>{"use strict";var p=E(52529),S=E(21832),O=E(39210);function G(x){if(!(this instanceof G))return new G(x);this.hash=x.hash,this.predResist=!!x.predResist,this.outLen=this.hash.outSize,this.minEntropy=x.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var B=S.toArray(x.entropy,x.entropyEnc||"hex"),A=S.toArray(x.nonce,x.nonceEnc||"hex"),N=S.toArray(x.pers,x.persEnc||"hex");O(B.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(B,A,N)}Be.exports=G,G.prototype._init=function(B,A,N){var $=B.concat(A).concat(N);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var K=0;K<this.V.length;K++)this.K[K]=0,this.V[K]=1;this._update($),this._reseed=1,this.reseedInterval=281474976710656},G.prototype._hmac=function(){return new p.hmac(this.hash,this.K)},G.prototype._update=function(B){var A=this._hmac().update(this.V).update([0]);B&&(A=A.update(B)),this.K=A.digest(),this.V=this._hmac().update(this.V).digest(),B&&(this.K=this._hmac().update(this.V).update([1]).update(B).digest(),this.V=this._hmac().update(this.V).digest())},G.prototype.reseed=function(B,A,N,$){"string"!=typeof A&&($=N,N=A,A=null),B=S.toArray(B,A),N=S.toArray(N,$),O(B.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(B.concat(N||[])),this._reseed=1},G.prototype.generate=function(B,A,N,$){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof A&&($=N,N=A,A=null),N&&(N=S.toArray(N,$||"hex"),this._update(N));for(var K=[];K.length<B;)this.V=this._hmac().update(this.V).digest(),K=K.concat(this.V);var D=K.slice(0,B);return this._update(N),this._reseed++,S.encode(D,A)}},22020:(Be,z)=>{z.read=function(E,p,S,O,G){var x,B,A=8*G-O-1,N=(1<<A)-1,$=N>>1,K=-7,D=S?G-1:0,X=S?-1:1,V=E[p+D];for(D+=X,x=V&(1<<-K)-1,V>>=-K,K+=A;K>0;x=256*x+E[p+D],D+=X,K-=8);for(B=x&(1<<-K)-1,x>>=-K,K+=O;K>0;B=256*B+E[p+D],D+=X,K-=8);if(0===x)x=1-$;else{if(x===N)return B?NaN:1/0*(V?-1:1);B+=Math.pow(2,O),x-=$}return(V?-1:1)*B*Math.pow(2,x-O)},z.write=function(E,p,S,O,G,x){var B,A,N,$=8*x-G-1,K=(1<<$)-1,D=K>>1,X=23===G?Math.pow(2,-24)-Math.pow(2,-77):0,V=O?0:x-1,Z=O?1:-1,Q=p<0||0===p&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(A=isNaN(p)?1:0,B=K):(B=Math.floor(Math.log(p)/Math.LN2),p*(N=Math.pow(2,-B))<1&&(B--,N*=2),(p+=B+D>=1?X/N:X*Math.pow(2,1-D))*N>=2&&(B++,N/=2),B+D>=K?(A=0,B=K):B+D>=1?(A=(p*N-1)*Math.pow(2,G),B+=D):(A=p*Math.pow(2,D-1)*Math.pow(2,G),B=0));G>=8;E[S+V]=255&A,V+=Z,A/=256,G-=8);for(B=B<<G|A,$+=G;$>0;E[S+V]=255&B,V+=Z,B/=256,$-=8);E[S+V-Z]|=128*Q}},71993:Be=>{Be.exports="function"==typeof Object.create?function(E,p){p&&(E.super_=p,E.prototype=Object.create(p.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}))}:function(E,p){if(p){E.super_=p;var S=function(){};S.prototype=p.prototype,E.prototype=new S,E.prototype.constructor=E}}},42853:Be=>{"use strict";function z(p,S){for(const O in S)Object.defineProperty(p,O,{value:S[O],enumerable:!0,configurable:!0});return p}Be.exports=function E(p,S,O){if(!p||"string"==typeof p)throw new TypeError("Please pass an Error to err-code");O||(O={}),"object"==typeof S&&(O=S,S=""),S&&(O.code=S);try{return z(p,O)}catch{O.message=p.message,O.stack=p.stack;const x=function(){};return x.prototype=Object.create(Object.getPrototypeOf(p)),z(new x,O)}}},5014:Be=>{"use strict";function z(p,S){for(const O in S)Object.defineProperty(p,O,{value:S[O],enumerable:!0,configurable:!0});return p}Be.exports=function E(p,S,O){if(!p||"string"==typeof p)throw new TypeError("Please pass an Error to err-code");O||(O={}),"object"==typeof S&&(O=S,S=""),S&&(O.code=S);try{return z(p,O)}catch{O.message=p.message,O.stack=p.stack;const x=function(){};return x.prototype=Object.create(Object.getPrototypeOf(p)),z(new x,O)}}},3087:Be=>{"use strict";function z(p,S){for(const O in S)Object.defineProperty(p,O,{value:S[O],enumerable:!0,configurable:!0});return p}Be.exports=function E(p,S,O){if(!p||"string"==typeof p)throw new TypeError("Please pass an Error to err-code");O||(O={}),"object"==typeof S&&(O=S,S=""),S&&(O.code=S);try{return z(p,O)}catch{O.message=p.message,O.stack=p.stack;const x=function(){};return x.prototype=Object.create(Object.getPrototypeOf(p)),z(new x,O)}}},20053:Be=>{var z={}.toString;Be.exports=Array.isArray||function(E){return"[object Array]"==z.call(E)}},89994:function(Be){Be.exports=function(){"use strict";var z=Math.imul,E=Math.clz32;function p(ae){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ve){return typeof ve}:function(ve){return ve&&"function"==typeof Symbol&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve})(ae)}function O(ae,ve){for(var _e,De=0;De<ve.length;De++)(_e=ve[De]).enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(ae,_e.key,_e)}function B(ae){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(ve){return ve.__proto__||Object.getPrototypeOf(ve)})(ae)}function A(ae,ve){return(A=Object.setPrototypeOf||function(_e,De){return _e.__proto__=De,_e})(ae,ve)}function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(){return($=N()?Reflect.construct:function(ae,ve,_e){var De=[null];De.push.apply(De,ve);var u=new(Function.bind.apply(ae,De));return _e&&A(u,_e.prototype),u}).apply(null,arguments)}function D(ae){var ve="function"==typeof Map?new Map:void 0;return D=function(_e){function De(){return $(_e,arguments,B(this).constructor)}if(null===_e||!function K(ae){return-1!==Function.toString.call(ae).indexOf("[native code]")}(_e))return _e;if("function"!=typeof _e)throw new TypeError("Super expression must either be null or a function");if(typeof ve<"u"){if(ve.has(_e))return ve.get(_e);ve.set(_e,De)}return De.prototype=Object.create(_e.prototype,{constructor:{value:De,enumerable:!1,writable:!0,configurable:!0}}),A(De,_e)},D(ae)}function X(ae){if(void 0===ae)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae}function Z(ae){var ve=N();return function(){var _e,De=B(ae);if(ve){var P=B(this).constructor;_e=Reflect.construct(De,arguments,P)}else _e=De.apply(this,arguments);return function V(ae,ve){if(ve&&("object"==typeof ve||"function"==typeof ve))return ve;if(void 0!==ve)throw new TypeError("Derived constructors may only return object or undefined");return X(ae)}(this,_e)}}function Q(ae,ve){return function te(ae){if(Array.isArray(ae))return ae}(ae)||function J(ae,ve){var _e=null==ae?null:typeof Symbol<"u"&&ae[Symbol.iterator]||ae["@@iterator"];if(null!=_e){var De,P,u=[],h=!0,g=!1;try{for(_e=_e.call(ae);!(h=(De=_e.next()).done)&&(u.push(De.value),!ve||u.length!==ve);h=!0);}catch(w){g=!0,P=w}finally{try{h||null==_e.return||_e.return()}finally{if(g)throw P}}return u}}(ae,ve)||q(ae,ve)||function se(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(ae,ve){if(ae){if("string"==typeof ae)return ne(ae,ve);var _e=Object.prototype.toString.call(ae).slice(8,-1);return"Object"===_e&&ae.constructor&&(_e=ae.constructor.name),"Map"===_e||"Set"===_e?Array.from(ae):"Arguments"===_e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_e)?ne(ae,ve):void 0}}function ne(ae,ve){(null==ve||ve>ae.length)&&(ve=ae.length);for(var _e=0,De=Array(ve);_e<ve;_e++)De[_e]=ae[_e];return De}var ue=function(ae){var ve=Math.abs,_e=Math.max,De=Math.floor;function P(h,g){var w;if(function S(ae,ve){if(!(ae instanceof ve))throw new TypeError("Cannot call a class as a function")}(this,P),(w=u.call(this,h)).sign=g,Object.setPrototypeOf(X(w),P.prototype),h>P.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return w}!function x(ae,ve){if("function"!=typeof ve&&null!==ve)throw new TypeError("Super expression must either be null or a function");ae.prototype=Object.create(ve&&ve.prototype,{constructor:{value:ae,writable:!0,configurable:!0}}),Object.defineProperty(ae,"prototype",{writable:!1}),ve&&A(ae,ve)}(P,ae);var u=Z(P);return function G(ae,ve,_e){return ve&&O(ae.prototype,ve),_e&&O(ae,_e),Object.defineProperty(ae,"prototype",{writable:!1}),ae}(P,[{key:"toDebugString",value:function(){var h,g=["BigInt["],w=function oe(ae,ve){var _e=typeof Symbol<"u"&&ae[Symbol.iterator]||ae["@@iterator"];if(!_e){if(Array.isArray(ae)||(_e=q(ae))||ve&&ae&&"number"==typeof ae.length){_e&&(ae=_e);var De=0,P=function(){};return{s:P,n:function(){return De>=ae.length?{done:!0}:{done:!1,value:ae[De++]}},e:function(w){throw w},f:P}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,h=!0,g=!1;return{s:function(){_e=_e.call(ae)},n:function(){var w=_e.next();return h=w.done,w},e:function(w){g=!0,u=w},f:function(){try{h||null==_e.return||_e.return()}finally{if(g)throw u}}}}(this);try{for(w.s();!(h=w.n()).done;){var T=h.value;g.push((T&&(T>>>0).toString(16))+", ")}}catch(C){w.e(C)}finally{w.f()}return g.push("]"),g.join("")}},{key:"toString",value:function(){var h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>h||36<h)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":h&h-1?P.__toStringGeneric(this,h,!1):P.__toStringBasePowerOfTwo(this,h)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var h=new P(this.length,this.sign),g=0;g<this.length;g++)h[g]=this[g];return h}},{key:"__trim",value:function(){for(var h=this.length,g=this[h-1];0===g;)g=this[--h-1],this.pop();return 0===h&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var h=0;h<this.length;h++)this[h]=0}},{key:"__clzmsd",value:function(){return P.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(h,g,w){w>this.length&&(w=this.length);for(var T=32767&h,C=h>>>15,j=0,M=g,d=0;d<w;d++){var v=this.__digit(d),W=32767&v,H=v>>>15,ee=P.__imul(W,T),fe=P.__imul(W,C),Ae=P.__imul(H,T),Le=M+ee+j;j=Le>>>30,Le&=1073741823,j+=(Le+=((32767&fe)<<15)+((32767&Ae)<<15))>>>30,M=P.__imul(H,C)+(fe>>>15)+(Ae>>>15),this.__setDigit(d,1073741823&Le)}if(0!==j||0!==M)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(h,g,w){for(var T,C=0,j=0;j<w;j++)C=(T=this.__halfDigit(g+j)+h.__halfDigit(j)+C)>>>15,this.__setHalfDigit(g+j,32767&T);return C}},{key:"__inplaceSub",value:function(h,g,w){var T=0;if(1&g){for(var C=this.__digit(g>>=1),j=32767&C,M=0;M<w-1>>>1;M++){var d=h.__digit(M),v=(C>>>15)-(32767&d)-T;T=1&v>>>15,this.__setDigit(g+M,(32767&v)<<15|32767&j),T=1&(j=(32767&(C=this.__digit(g+M+1)))-(d>>>15)-T)>>>15}var W=h.__digit(M),H=(C>>>15)-(32767&W)-T;if(T=1&H>>>15,this.__setDigit(g+M,(32767&H)<<15|32767&j),g+M+1>=this.length)throw new RangeError("out of bounds");!(1&w)&&(T=1&(j=(32767&(C=this.__digit(g+M+1)))-(W>>>15)-T)>>>15,this.__setDigit(g+h.length,1073709056&C|32767&j))}else{g>>=1;for(var ee=0;ee<h.length-1;ee++){var fe=this.__digit(g+ee),Ae=h.__digit(ee),Pe=(32767&fe)-(32767&Ae)-T,Le=(fe>>>15)-(Ae>>>15)-(T=1&Pe>>>15);T=1&Le>>>15,this.__setDigit(g+ee,(32767&Le)<<15|32767&Pe)}var be=this.__digit(g+ee),ge=h.__digit(ee),Re=(32767&be)-(32767&ge)-T;T=1&Re>>>15;var me=0;!(1&w)&&(T=1&(me=(be>>>15)-(ge>>>15)-T)>>>15),this.__setDigit(g+ee,(32767&me)<<15|32767&Re)}return T}},{key:"__inplaceRightShift",value:function(h){if(0!==h){for(var g,w=this.__digit(0)>>>h,T=this.length-1,C=0;C<T;C++)g=this.__digit(C+1),this.__setDigit(C,1073741823&g<<30-h|w),w=g>>>h;this.__setDigit(T,w)}}},{key:"__digit",value:function(h){return this[h]}},{key:"__unsignedDigit",value:function(h){return this[h]>>>0}},{key:"__setDigit",value:function(h,g){this[h]=0|g}},{key:"__setDigitGrow",value:function(h,g){this[h]=0|g}},{key:"__halfDigitLength",value:function(){var h=this.length;return 32767>=this.__unsignedDigit(h-1)?2*h-1:2*h}},{key:"__halfDigit",value:function(h){return 32767&this[h>>>1]>>>15*(1&h)}},{key:"__setHalfDigit",value:function(h,g){var w=h>>>1,T=this.__digit(w);this.__setDigit(w,1&h?32767&T|g<<15:1073709056&T|32767&g)}}],[{key:"BigInt",value:function(h){var g=Number.isFinite;if("number"==typeof h){if(0===h)return P.__zero();if(P.__isOneDigitInt(h))return 0>h?P.__oneDigit(-h,!0):P.__oneDigit(h,!1);if(!g(h)||De(h)!==h)throw new RangeError("The number "+h+" cannot be converted to BigInt because it is not an integer");return P.__fromDouble(h)}if("string"==typeof h){var w=P.__fromString(h);if(null===w)throw new SyntaxError("Cannot convert "+h+" to a BigInt");return w}if("boolean"==typeof h)return!0===h?P.__oneDigit(1,!1):P.__zero();if("object"===p(h)){if(h.constructor===P)return h;var T=P.__toPrimitive(h);return P.BigInt(T)}throw new TypeError("Cannot convert "+h+" to a BigInt")}},{key:"toNumber",value:function(h){var g=h.length;if(0===g)return 0;if(1===g){var w=h.__unsignedDigit(0);return h.sign?-w:w}var T=h.__digit(g-1),C=P.__clz30(T),j=30*g-C;if(1024<j)return h.sign?-1/0:1/0;var M=j-1,d=T,v=g-1,W=C+3,H=32===W?0:d<<W;H>>>=12;var ee=W-12,fe=12<=W?0:d<<20+W,Ae=20+W;for(0<ee&&0<v&&(v--,H|=(d=h.__digit(v))>>>30-ee,fe=d<<ee+2,Ae=ee+2);0<Ae&&0<v;)v--,d=h.__digit(v),fe|=30<=Ae?d<<Ae-30:d>>>30-Ae,Ae-=30;var Pe=P.__decideRounding(h,Ae,v,d);return 1!==Pe&&(0!==Pe||1&~fe)||0!=(fe=fe+1>>>0)||!(++H>>>20!=0&&(H=0,1023<++M))?(P.__kBitConversionInts[1]=(h.sign?-2147483648:0)|(M=M+1023<<20)|H,P.__kBitConversionInts[0]=fe,P.__kBitConversionDouble[0]):h.sign?-1/0:1/0}},{key:"unaryMinus",value:function(h){if(0===h.length)return h;var g=h.__copy();return g.sign=!h.sign,g}},{key:"bitwiseNot",value:function(h){return h.sign?P.__absoluteSubOne(h).__trim():P.__absoluteAddOne(h,!0)}},{key:"exponentiate",value:function(h,g){if(g.sign)throw new RangeError("Exponent must be positive");if(0===g.length)return P.__oneDigit(1,!1);if(0===h.length)return h;if(1===h.length&&1===h.__digit(0))return!h.sign||1&g.__digit(0)?h:P.unaryMinus(h);if(1<g.length)throw new RangeError("BigInt too big");var w=g.__unsignedDigit(0);if(1===w)return h;if(w>=P.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===h.length&&2===h.__digit(0)){var T=1+(0|w/30),j=new P(T,h.sign&&!!(1&w));return j.__initializeDigits(),j.__setDigit(T-1,1<<w%30),j}var d=null,v=h;for(1&w&&(d=h),w>>=1;0!==w;w>>=1)v=P.multiply(v,v),1&w&&(d=null===d?v:P.multiply(d,v));return d}},{key:"multiply",value:function(h,g){if(0===h.length)return h;if(0===g.length)return g;var w=h.length+g.length;30<=h.__clzmsd()+g.__clzmsd()&&w--;var T=new P(w,h.sign!==g.sign);T.__initializeDigits();for(var C=0;C<h.length;C++)P.__multiplyAccumulate(g,h.__digit(C),T,C);return T.__trim()}},{key:"divide",value:function(h,g){if(0===g.length)throw new RangeError("Division by zero");if(0>P.__absoluteCompare(h,g))return P.__zero();var w,T=h.sign!==g.sign,C=g.__unsignedDigit(0);if(1===g.length&&32767>=C){if(1===C)return T===h.sign?h:P.unaryMinus(h);w=P.__absoluteDivSmall(h,C,null)}else w=P.__absoluteDivLarge(h,g,!0,!1);return w.sign=T,w.__trim()}},{key:"remainder",value:function(g,w){if(0===w.length)throw new RangeError("Division by zero");if(0>P.__absoluteCompare(g,w))return g;var T=w.__unsignedDigit(0);if(1===w.length&&32767>=T){if(1===T)return P.__zero();var C=P.__absoluteModSmall(g,T);return 0===C?P.__zero():P.__oneDigit(C,g.sign)}var j=P.__absoluteDivLarge(g,w,!1,!0);return j.sign=g.sign,j.__trim()}},{key:"add",value:function(h,g){var w=h.sign;return w===g.sign?P.__absoluteAdd(h,g,w):0<=P.__absoluteCompare(h,g)?P.__absoluteSub(h,g,w):P.__absoluteSub(g,h,!w)}},{key:"subtract",value:function(h,g){var w=h.sign;return w===g.sign?0<=P.__absoluteCompare(h,g)?P.__absoluteSub(h,g,w):P.__absoluteSub(g,h,!w):P.__absoluteAdd(h,g,w)}},{key:"leftShift",value:function(h,g){return 0===g.length||0===h.length?h:g.sign?P.__rightShiftByAbsolute(h,g):P.__leftShiftByAbsolute(h,g)}},{key:"signedRightShift",value:function(h,g){return 0===g.length||0===h.length?h:g.sign?P.__leftShiftByAbsolute(h,g):P.__rightShiftByAbsolute(h,g)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(h,g){return 0>P.__compareToBigInt(h,g)}},{key:"lessThanOrEqual",value:function(h,g){return 0>=P.__compareToBigInt(h,g)}},{key:"greaterThan",value:function(h,g){return 0<P.__compareToBigInt(h,g)}},{key:"greaterThanOrEqual",value:function(h,g){return 0<=P.__compareToBigInt(h,g)}},{key:"equal",value:function(h,g){if(h.sign!==g.sign||h.length!==g.length)return!1;for(var w=0;w<h.length;w++)if(h.__digit(w)!==g.__digit(w))return!1;return!0}},{key:"notEqual",value:function(h,g){return!P.equal(h,g)}},{key:"bitwiseAnd",value:function(h,g){if(!h.sign&&!g.sign)return P.__absoluteAnd(h,g).__trim();if(h.sign&&g.sign){var w=_e(h.length,g.length)+1,T=P.__absoluteSubOne(h,w),C=P.__absoluteSubOne(g);return T=P.__absoluteOr(T,C,T),P.__absoluteAddOne(T,!0,T).__trim()}if(h.sign){var j=[g,h];h=j[0],g=j[1]}return P.__absoluteAndNot(h,P.__absoluteSubOne(g)).__trim()}},{key:"bitwiseXor",value:function(h,g){if(!h.sign&&!g.sign)return P.__absoluteXor(h,g).__trim();if(h.sign&&g.sign){var w=_e(h.length,g.length),T=P.__absoluteSubOne(h,w),C=P.__absoluteSubOne(g);return P.__absoluteXor(T,C,T).__trim()}var j=_e(h.length,g.length)+1;if(h.sign){var M=[g,h];h=M[0],g=M[1]}var d=P.__absoluteSubOne(g,j);return d=P.__absoluteXor(d,h,d),P.__absoluteAddOne(d,!0,d).__trim()}},{key:"bitwiseOr",value:function(h,g){var w=_e(h.length,g.length);if(!h.sign&&!g.sign)return P.__absoluteOr(h,g).__trim();if(h.sign&&g.sign){var T=P.__absoluteSubOne(h,w),C=P.__absoluteSubOne(g);return T=P.__absoluteAnd(T,C,T),P.__absoluteAddOne(T,!0,T).__trim()}if(h.sign){var j=[g,h];h=j[0],g=j[1]}var M=P.__absoluteSubOne(g,w);return M=P.__absoluteAndNot(M,h,M),P.__absoluteAddOne(M,!0,M).__trim()}},{key:"asIntN",value:function(h,g){if(0===g.length)return g;if(0>(h=De(h)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===h)return P.__zero();if(h>=P.__kMaxLengthBits)return g;var w=0|(h+29)/30;if(g.length<w)return g;var T=g.__unsignedDigit(w-1),C=1<<(h-1)%30;if(g.length===w&&T<C)return g;if((T&C)!==C)return P.__truncateToNBits(h,g);if(!g.sign)return P.__truncateAndSubFromPowerOfTwo(h,g,!0);if(!(T&C-1)){for(var j=w-2;0<=j;j--)if(0!==g.__digit(j))return P.__truncateAndSubFromPowerOfTwo(h,g,!1);return g.length===w&&T===C?g:P.__truncateToNBits(h,g)}return P.__truncateAndSubFromPowerOfTwo(h,g,!1)}},{key:"asUintN",value:function(h,g){if(0===g.length)return g;if(0>(h=De(h)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===h)return P.__zero();if(g.sign){if(h>P.__kMaxLengthBits)throw new RangeError("BigInt too big");return P.__truncateAndSubFromPowerOfTwo(h,g,!1)}if(h>=P.__kMaxLengthBits)return g;var w=0|(h+29)/30;if(g.length<w)return g;var T=h%30;if(g.length==w){if(0===T)return g;if(!(g.__digit(w-1)>>>T))return g}return P.__truncateToNBits(h,g)}},{key:"ADD",value:function(h,g){if(h=P.__toPrimitive(h),g=P.__toPrimitive(g),"string"==typeof h)return"string"!=typeof g&&(g=g.toString()),h+g;if("string"==typeof g)return h.toString()+g;if(h=P.__toNumeric(h),g=P.__toNumeric(g),P.__isBigInt(h)&&P.__isBigInt(g))return P.add(h,g);if("number"==typeof h&&"number"==typeof g)return h+g;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(h,g){return P.__compare(h,g,0)}},{key:"LE",value:function(h,g){return P.__compare(h,g,1)}},{key:"GT",value:function(h,g){return P.__compare(h,g,2)}},{key:"GE",value:function(h,g){return P.__compare(h,g,3)}},{key:"EQ",value:function(h,g){for(;;){if(P.__isBigInt(h))return P.__isBigInt(g)?P.equal(h,g):P.EQ(g,h);if("number"==typeof h){if(P.__isBigInt(g))return P.__equalToNumber(g,h);if("object"!==p(g))return h==g;g=P.__toPrimitive(g)}else if("string"==typeof h){if(P.__isBigInt(g))return null!==(h=P.__fromString(h))&&P.equal(h,g);if("object"!==p(g))return h==g;g=P.__toPrimitive(g)}else if("boolean"==typeof h){if(P.__isBigInt(g))return P.__equalToNumber(g,+h);if("object"!==p(g))return h==g;g=P.__toPrimitive(g)}else if("symbol"===p(h)){if(P.__isBigInt(g))return!1;if("object"!==p(g))return h==g;g=P.__toPrimitive(g)}else{if("object"!==p(h))return h==g;if("object"===p(g)&&g.constructor!==P)return h==g;h=P.__toPrimitive(h)}}}},{key:"NE",value:function(h,g){return!P.EQ(h,g)}},{key:"DataViewGetBigInt64",value:function(h,g){return P.asIntN(64,P.DataViewGetBigUint64(h,g,2<arguments.length&&void 0!==arguments[2]&&arguments[2]))}},{key:"DataViewGetBigUint64",value:function(h,g){var w=2<arguments.length&&void 0!==arguments[2]&&arguments[2],C=Q(w?[4,0]:[0,4],2),M=C[1],d=h.getUint32(g+C[0],w),v=h.getUint32(g+M,w),W=new P(3,!1);return W.__setDigit(0,1073741823&v),W.__setDigit(1,(268435455&d)<<2|v>>>30),W.__setDigit(2,d>>>28),W.__trim()}},{key:"DataViewSetBigInt64",value:function(h,g,w){P.DataViewSetBigUint64(h,g,w,3<arguments.length&&void 0!==arguments[3]&&arguments[3])}},{key:"DataViewSetBigUint64",value:function(h,g,w){var T=3<arguments.length&&void 0!==arguments[3]&&arguments[3],C=0,j=0;if(0<(w=P.asUintN(64,w)).length&&(j=w.__digit(0),1<w.length)){var M=w.__digit(1);j|=M<<30,C=M>>>2,2<w.length&&(C|=w.__digit(2)<<28)}var v=Q(T?[4,0]:[0,4],2),H=v[1];h.setUint32(g+v[0],C,T),h.setUint32(g+H,j,T)}},{key:"__zero",value:function(){return new P(0,!1)}},{key:"__oneDigit",value:function(h,g){var w=new P(1,g);return w.__setDigit(0,h),w}},{key:"__decideRounding",value:function(h,g,w,T){if(0<g)return-1;var C;if(0>g)C=-g-1;else{if(0===w)return-1;w--,T=h.__digit(w),C=29}var j=1<<C;if(!(T&j))return-1;if(T&(j-=1))return 1;for(;0<w;)if(w--,0!==h.__digit(w))return 1;return 0}},{key:"__fromDouble",value:function(h){P.__kBitConversionDouble[0]=h;var g,T=(2047&P.__kBitConversionInts[1]>>>20)-1023,C=1+(0|T/30),j=new P(C,0>h),M=1048575&P.__kBitConversionInts[1]|1048576,d=P.__kBitConversionInts[0],W=T%30,H=0;if(W<20){var ee=20-W;H=ee+32,g=M>>>ee,M=M<<32-ee|d>>>ee,d<<=32-ee}else if(20===W)H=32,g=M,M=d,d=0;else{var fe=W-20;H=32-fe,g=M<<fe|d>>>32-fe,M=d<<fe,d=0}j.__setDigit(C-1,g);for(var Ae=C-2;0<=Ae;Ae--)0<H?(H-=30,g=M>>>2,M=M<<30|d>>>2,d<<=30):g=0,j.__setDigit(Ae,g);return j.__trim()}},{key:"__isWhitespace",value:function(h){return 13>=h&&9<=h||(159>=h?32==h:131071>=h?160==h||5760==h:196607>=h?10>=(h&=131071)||40==h||41==h||47==h||95==h||4096==h:65279==h)}},{key:"__fromString",value:function(h){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,w=0,T=h.length,C=0;if(C===T)return P.__zero();for(var j=h.charCodeAt(C);P.__isWhitespace(j);){if(++C===T)return P.__zero();j=h.charCodeAt(C)}if(43===j){if(++C===T)return null;j=h.charCodeAt(C),w=1}else if(45===j){if(++C===T)return null;j=h.charCodeAt(C),w=-1}if(0===g){if(g=10,48===j){if(++C===T)return P.__zero();if(88===(j=h.charCodeAt(C))||120===j){if(g=16,++C===T)return null;j=h.charCodeAt(C)}else if(79===j||111===j){if(g=8,++C===T)return null;j=h.charCodeAt(C)}else if(66===j||98===j){if(g=2,++C===T)return null;j=h.charCodeAt(C)}}}else if(16===g&&48===j){if(++C===T)return P.__zero();if(88===(j=h.charCodeAt(C))||120===j){if(++C===T)return null;j=h.charCodeAt(C)}}if(0!==w&&10!==g)return null;for(;48===j;){if(++C===T)return P.__zero();j=h.charCodeAt(C)}var M=T-C,d=P.__kMaxBitsPerChar[g],v=P.__kBitsPerCharTableMultiplier-1;if(M>1073741824/d)return null;var H=new P(0|(29+(d*M+v>>>P.__kBitsPerCharTableShift))/30,!1),ee=10>g?g:10,fe=10<g?g-10:0;if(g&g-1){H.__initializeDigits();var me=!1,xe=0;do{for(var le,he=0,re=1;;){if(le=void 0,j-48>>>0<ee)le=j-48;else{if(!((32|j)-97>>>0<fe)){me=!0;break}le=(32|j)-87}var de=re*g;if(1073741823<de)break;if(re=de,he=he*g+le,xe++,++C===T){me=!0;break}j=h.charCodeAt(C)}H.__inplaceMultiplyAdd(re,he,0|(d*xe+(v=30*P.__kBitsPerCharTableMultiplier-1)>>>P.__kBitsPerCharTableShift)/30)}while(!me)}else{d>>=P.__kBitsPerCharTableShift;var Ae=[],Pe=[],Le=!1;do{for(var be,ge=0,Re=0;;){if(be=void 0,j-48>>>0<ee)be=j-48;else{if(!((32|j)-97>>>0<fe)){Le=!0;break}be=(32|j)-87}if(Re+=d,ge=ge<<d|be,++C===T){Le=!0;break}if(j=h.charCodeAt(C),30<Re+d)break}Ae.push(ge),Pe.push(Re)}while(!Le);P.__fillFromParts(H,Ae,Pe)}if(C!==T){if(!P.__isWhitespace(j))return null;for(C++;C<T;C++)if(j=h.charCodeAt(C),!P.__isWhitespace(j))return null}return H.sign=-1===w,H.__trim()}},{key:"__fillFromParts",value:function(h,g,w){for(var T=0,C=0,j=0,M=g.length-1;0<=M;M--){var d=g[M],v=w[M];C|=d<<j,30===(j+=v)?(h.__setDigit(T++,C),j=0,C=0):30<j&&(h.__setDigit(T++,1073741823&C),C=d>>>v-(j-=30))}if(0!==C){if(T>=h.length)throw new Error("implementation bug");h.__setDigit(T++,C)}for(;T<h.length;T++)h.__setDigit(T,0)}},{key:"__toStringBasePowerOfTwo",value:function(h,g){var w=h.length,T=g-1,C=T=(15&(T=(51&(T=(85&T>>>1)+(85&T))>>>2)+(51&T))>>>4)+(15&T),j=g-1,M=h.__digit(w-1),v=0|(30*w-P.__clz30(M)+C-1)/C;if(h.sign&&v++,268435456<v)throw new Error("string too long");for(var W=Array(v),H=v-1,ee=0,fe=0,Ae=0;Ae<w-1;Ae++){var Pe=h.__digit(Ae);W[H--]=P.__kConversionChars[(ee|Pe<<fe)&j];var be=C-fe;for(ee=Pe>>>be,fe=30-be;fe>=C;)W[H--]=P.__kConversionChars[ee&j],ee>>>=C,fe-=C}for(W[H--]=P.__kConversionChars[(ee|M<<fe)&j],ee=M>>>C-fe;0!==ee;)W[H--]=P.__kConversionChars[ee&j],ee>>>=C;if(h.sign&&(W[H--]="-"),-1!==H)throw new Error("implementation bug");return W.join("")}},{key:"__toStringGeneric",value:function(h,g,w){var T=h.length;if(0===T)return"";if(1===T){var C=h.__unsignedDigit(0).toString(g);return!1===w&&h.sign&&(C="-"+C),C}var W,H,j=30*T-P.__clz30(h.__digit(T-1)),d=P.__kMaxBitsPerChar[g]-1,v=j*P.__kBitsPerCharTableMultiplier,ee=1+(v=0|(v+=d-1)/d)>>1,fe=P.exponentiate(P.__oneDigit(g,!1),P.__oneDigit(ee,!1)),Ae=fe.__unsignedDigit(0);if(1===fe.length&&32767>=Ae){(W=new P(h.length,!1)).__initializeDigits();for(var Pe,Le=0,be=2*h.length-1;0<=be;be--)Pe=Le<<15|h.__halfDigit(be),W.__setHalfDigit(be,0|Pe/Ae),Le=0|Pe%Ae;H=Le.toString(g)}else{var ge=P.__absoluteDivLarge(h,fe,!0,!0);W=ge.quotient;var Re=ge.remainder.__trim();H=P.__toStringGeneric(Re,g,!0)}W.__trim();for(var me=P.__toStringGeneric(W,g,!0);H.length<ee;)H="0"+H;return!1===w&&h.sign&&(me="-"+me),me+H}},{key:"__unequalSign",value:function(h){return h?-1:1}},{key:"__absoluteGreater",value:function(h){return h?-1:1}},{key:"__absoluteLess",value:function(h){return h?1:-1}},{key:"__compareToBigInt",value:function(h,g){var w=h.sign;if(w!==g.sign)return P.__unequalSign(w);var T=P.__absoluteCompare(h,g);return 0<T?P.__absoluteGreater(w):0>T?P.__absoluteLess(w):0}},{key:"__compareToNumber",value:function(h,g){if(P.__isOneDigitInt(g)){var w=h.sign,T=0>g;if(w!==T)return P.__unequalSign(w);if(0===h.length){if(T)throw new Error("implementation bug");return 0===g?0:-1}if(1<h.length)return P.__absoluteGreater(w);var C=ve(g),j=h.__unsignedDigit(0);return j>C?P.__absoluteGreater(w):j<C?P.__absoluteLess(w):0}return P.__compareToDouble(h,g)}},{key:"__compareToDouble",value:function(h,g){if(g!=g)return g;if(g===1/0)return-1;if(g===-1/0)return 1;var w=h.sign;if(w!==0>g)return P.__unequalSign(w);if(0===g)throw new Error("implementation bug: should be handled elsewhere");if(0===h.length)return-1;P.__kBitConversionDouble[0]=g;var T=2047&P.__kBitConversionInts[1]>>>20;if(2047==T)throw new Error("implementation bug: handled elsewhere");var C=T-1023;if(0>C)return P.__absoluteGreater(w);var j=h.length,M=h.__digit(j-1),d=P.__clz30(M),v=30*j-d,W=C+1;if(v<W)return P.__absoluteLess(w);if(v>W)return P.__absoluteGreater(w);var H=1048576|1048575&P.__kBitConversionInts[1],ee=P.__kBitConversionInts[0],Ae=29-d;if(Ae!==(0|(v-1)%30))throw new Error("implementation bug");var Pe,Le=0;if(Ae<20){var be=20-Ae;Le=be+32,Pe=H>>>be,H=H<<32-be|ee>>>be,ee<<=32-be}else if(20===Ae)Le=32,Pe=H,H=ee,ee=0;else{var ge=Ae-20;Le=32-ge,Pe=H<<ge|ee>>>32-ge,H=ee<<ge,ee=0}if((M>>>=0)>(Pe>>>=0))return P.__absoluteGreater(w);if(M<Pe)return P.__absoluteLess(w);for(var Re=j-2;0<=Re;Re--){0<Le?(Le-=30,Pe=H>>>2,H=H<<30|ee>>>2,ee<<=30):Pe=0;var me=h.__unsignedDigit(Re);if(me>Pe)return P.__absoluteGreater(w);if(me<Pe)return P.__absoluteLess(w)}if(0!==H||0!==ee){if(0===Le)throw new Error("implementation bug");return P.__absoluteLess(w)}return 0}},{key:"__equalToNumber",value:function(h,g){return P.__isOneDigitInt(g)?0===g?0===h.length:1===h.length&&h.sign===0>g&&h.__unsignedDigit(0)===ve(g):0===P.__compareToDouble(h,g)}},{key:"__comparisonResultToBool",value:function(h,g){return 0===g?0>h:1===g?0>=h:2===g?0<h:3===g?0<=h:void 0}},{key:"__compare",value:function(h,g,w){if(h=P.__toPrimitive(h),g=P.__toPrimitive(g),"string"==typeof h&&"string"==typeof g)switch(w){case 0:return h<g;case 1:return h<=g;case 2:return h>g;case 3:return h>=g}if(P.__isBigInt(h)&&"string"==typeof g)return null!==(g=P.__fromString(g))&&P.__comparisonResultToBool(P.__compareToBigInt(h,g),w);if("string"==typeof h&&P.__isBigInt(g))return null!==(h=P.__fromString(h))&&P.__comparisonResultToBool(P.__compareToBigInt(h,g),w);if(h=P.__toNumeric(h),g=P.__toNumeric(g),P.__isBigInt(h)){if(P.__isBigInt(g))return P.__comparisonResultToBool(P.__compareToBigInt(h,g),w);if("number"!=typeof g)throw new Error("implementation bug");return P.__comparisonResultToBool(P.__compareToNumber(h,g),w)}if("number"!=typeof h)throw new Error("implementation bug");if(P.__isBigInt(g))return P.__comparisonResultToBool(P.__compareToNumber(g,h),2^w);if("number"!=typeof g)throw new Error("implementation bug");return 0===w?h<g:1===w?h<=g:2===w?h>g:3===w?h>=g:void 0}},{key:"__absoluteAdd",value:function(h,g,w){if(h.length<g.length)return P.__absoluteAdd(g,h,w);if(0===h.length)return h;if(0===g.length)return h.sign===w?h:P.unaryMinus(h);var T=h.length;(0===h.__clzmsd()||g.length===h.length&&0===g.__clzmsd())&&T++;for(var C,j=new P(T,w),M=0,d=0;d<g.length;d++)M=(C=h.__digit(d)+g.__digit(d)+M)>>>30,j.__setDigit(d,1073741823&C);for(;d<h.length;d++){var v=h.__digit(d)+M;M=v>>>30,j.__setDigit(d,1073741823&v)}return d<j.length&&j.__setDigit(d,M),j.__trim()}},{key:"__absoluteSub",value:function(h,g,w){if(0===h.length)return h;if(0===g.length)return h.sign===w?h:P.unaryMinus(h);for(var T,C=new P(h.length,w),j=0,M=0;M<g.length;M++)j=1&(T=h.__digit(M)-g.__digit(M)-j)>>>30,C.__setDigit(M,1073741823&T);for(;M<h.length;M++){var d=h.__digit(M)-j;j=1&d>>>30,C.__setDigit(M,1073741823&d)}return C.__trim()}},{key:"__absoluteAddOne",value:function(h,g){var w=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,T=h.length;null===w?w=new P(T,g):w.sign=g;for(var C,j=1,M=0;M<T;M++)j=(C=h.__digit(M)+j)>>>30,w.__setDigit(M,1073741823&C);return 0!==j&&w.__setDigitGrow(T,1),w}},{key:"__absoluteSubOne",value:function(h,g){for(var T,w=h.length,C=new P(g=g||w,!1),j=1,M=0;M<w;M++)j=1&(T=h.__digit(M)-j)>>>30,C.__setDigit(M,1073741823&T);if(0!==j)throw new Error("implementation bug");for(var d=w;d<g;d++)C.__setDigit(d,0);return C}},{key:"__absoluteAnd",value:function(h,g){var w=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,T=h.length,C=g.length,j=C;if(T<C){j=T;var M=h,d=T;h=g,T=C,g=M,C=d}var v=j;null===w?w=new P(v,!1):v=w.length;for(var W=0;W<j;W++)w.__setDigit(W,h.__digit(W)&g.__digit(W));for(;W<v;W++)w.__setDigit(W,0);return w}},{key:"__absoluteAndNot",value:function(h,g){var w=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,T=h.length,C=g.length,j=C;T<C&&(j=T);var M=T;null===w?w=new P(M,!1):M=w.length;for(var d=0;d<j;d++)w.__setDigit(d,h.__digit(d)&~g.__digit(d));for(;d<T;d++)w.__setDigit(d,h.__digit(d));for(;d<M;d++)w.__setDigit(d,0);return w}},{key:"__absoluteOr",value:function(h,g){var w=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,T=h.length,C=g.length,j=C;if(T<C){j=T;var M=h,d=T;h=g,T=C,g=M,C=d}var v=T;null===w?w=new P(v,!1):v=w.length;for(var W=0;W<j;W++)w.__setDigit(W,h.__digit(W)|g.__digit(W));for(;W<T;W++)w.__setDigit(W,h.__digit(W));for(;W<v;W++)w.__setDigit(W,0);return w}},{key:"__absoluteXor",value:function(h,g){var w=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,T=h.length,C=g.length,j=C;if(T<C){j=T;var M=h,d=T;h=g,T=C,g=M,C=d}var v=T;null===w?w=new P(v,!1):v=w.length;for(var W=0;W<j;W++)w.__setDigit(W,h.__digit(W)^g.__digit(W));for(;W<T;W++)w.__setDigit(W,h.__digit(W));for(;W<v;W++)w.__setDigit(W,0);return w}},{key:"__absoluteCompare",value:function(h,g){var w=h.length-g.length;if(0!=w)return w;for(var T=h.length-1;0<=T&&h.__digit(T)===g.__digit(T);)T--;return 0>T?0:h.__unsignedDigit(T)>g.__unsignedDigit(T)?1:-1}},{key:"__multiplyAccumulate",value:function(h,g,w,T){if(0!==g){for(var C=32767&g,j=g>>>15,M=0,d=0,v=0;v<h.length;v++,T++){var W=w.__digit(T),H=h.__digit(v),ee=32767&H,fe=H>>>15,Ae=P.__imul(ee,C),Pe=P.__imul(ee,j),Le=P.__imul(fe,C);M=(W+=d+Ae+M)>>>30,W&=1073741823,M+=(W+=((32767&Pe)<<15)+((32767&Le)<<15))>>>30,d=P.__imul(fe,j)+(Pe>>>15)+(Le>>>15),w.__setDigit(T,1073741823&W)}for(;0!==M||0!==d;T++){var ge=w.__digit(T);ge+=M+d,d=0,M=ge>>>30,w.__setDigit(T,1073741823&ge)}}}},{key:"__internalMultiplyAdd",value:function(h,g,w,T,C){for(var j=w,M=0,d=0;d<T;d++){var v=h.__digit(d),W=P.__imul(32767&v,g),H=P.__imul(v>>>15,g),ee=W+((32767&H)<<15)+M+j;j=ee>>>30,M=H>>>15,C.__setDigit(d,1073741823&ee)}if(C.length>T)for(C.__setDigit(T++,j+M);T<C.length;)C.__setDigit(T++,0);else if(j+M!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(h,g){var w=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===w&&(w=new P(h.length,!1));for(var T=0,C=2*h.length-1;0<=C;C-=2){var j=(T<<15|h.__halfDigit(C))>>>0,M=0|j/g;T=0|(j=((T=0|j%g)<<15|h.__halfDigit(C-1))>>>0)%g,w.__setDigit(C>>>1,M<<15|j/g)}return w}},{key:"__absoluteModSmall",value:function(h,g){for(var T=0,C=2*h.length-1;0<=C;C--)T=0|((T<<15|h.__halfDigit(C))>>>0)%g;return T}},{key:"__absoluteDivLarge",value:function(h,g,w,T){var C=g.__halfDigitLength(),j=g.length,M=h.__halfDigitLength()-C,d=null;w&&(d=new P(M+2>>>1,!1)).__initializeDigits();var v=new P(C+2>>>1,!1);v.__initializeDigits();var W=P.__clz15(g.__halfDigit(C-1));0<W&&(g=P.__specialLeftShift(g,W,0));for(var H=P.__specialLeftShift(h,W,1),ee=g.__halfDigit(C-1),fe=0,Ae=M;0<=Ae;Ae--){var Pe=32767,Le=H.__halfDigit(Ae+C);if(Le!==ee){var be=(Le<<15|H.__halfDigit(Ae+C-1))>>>0;Pe=0|be/ee;for(var ge=0|be%ee,Re=g.__halfDigit(C-2),me=H.__halfDigit(Ae+C-2);P.__imul(Pe,Re)>>>0>(ge<<16|me)>>>0&&(Pe--,!(32767<(ge+=ee))););}P.__internalMultiplyAdd(g,Pe,0,j,v);var xe=H.__inplaceSub(v,Ae,C+1);0!==xe&&(xe=H.__inplaceAdd(g,Ae,C),H.__setHalfDigit(Ae+C,32767&H.__halfDigit(Ae+C)+xe),Pe--),w&&(1&Ae?fe=Pe<<15:d.__setDigit(Ae>>>1,fe|Pe))}if(T)return H.__inplaceRightShift(W),w?{quotient:d,remainder:H}:H;if(w)return d;throw new Error("unreachable")}},{key:"__clz15",value:function(h){return P.__clz30(h)-15}},{key:"__specialLeftShift",value:function(h,g,w){var T=h.length,C=new P(T+w,!1);if(0===g){for(var j=0;j<T;j++)C.__setDigit(j,h.__digit(j));return 0<w&&C.__setDigit(T,0),C}for(var M,d=0,v=0;v<T;v++)M=h.__digit(v),C.__setDigit(v,1073741823&M<<g|d),d=M>>>30-g;return 0<w&&C.__setDigit(T,d),C}},{key:"__leftShiftByAbsolute",value:function(h,g){var w=P.__toShiftAmount(g);if(0>w)throw new RangeError("BigInt too big");var T=0|w/30,C=w%30,j=h.length,M=0!==C&&h.__digit(j-1)>>>30-C!=0,d=j+T+(M?1:0),v=new P(d,h.sign);if(0===C){for(var W=0;W<T;W++)v.__setDigit(W,0);for(;W<d;W++)v.__setDigit(W,h.__digit(W-T))}else{for(var H=0,ee=0;ee<T;ee++)v.__setDigit(ee,0);for(var fe,Ae=0;Ae<j;Ae++)fe=h.__digit(Ae),v.__setDigit(Ae+T,1073741823&fe<<C|H),H=fe>>>30-C;if(M)v.__setDigit(j+T,H);else if(0!==H)throw new Error("implementation bug")}return v.__trim()}},{key:"__rightShiftByAbsolute",value:function(h,g){var w=h.length,T=h.sign,C=P.__toShiftAmount(g);if(0>C)return P.__rightShiftByMaximum(T);var j=0|C/30,M=C%30,d=w-j;if(0>=d)return P.__rightShiftByMaximum(T);var v=!1;if(T)if(h.__digit(j)&(1<<M)-1)v=!0;else for(var W=0;W<j;W++)if(0!==h.__digit(W)){v=!0;break}v&&0===M&&!~h.__digit(w-1)&&d++;var ee=new P(d,T);if(0===M){ee.__setDigit(d-1,0);for(var fe=j;fe<w;fe++)ee.__setDigit(fe-j,h.__digit(fe))}else{for(var Ae,Pe=h.__digit(j)>>>M,Le=w-j-1,be=0;be<Le;be++)Ae=h.__digit(be+j+1),ee.__setDigit(be,1073741823&Ae<<30-M|Pe),Pe=Ae>>>M;ee.__setDigit(Le,Pe)}return v&&(ee=P.__absoluteAddOne(ee,!0,ee)),ee.__trim()}},{key:"__rightShiftByMaximum",value:function(h){return h?P.__oneDigit(1,!0):P.__zero()}},{key:"__toShiftAmount",value:function(h){if(1<h.length)return-1;var g=h.__unsignedDigit(0);return g>P.__kMaxLengthBits?-1:g}},{key:"__toPrimitive",value:function(h){var g=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==p(h)||h.constructor===P)return h;if(typeof Symbol<"u"&&"symbol"===p(Symbol.toPrimitive)){var w=h[Symbol.toPrimitive];if(w){var T=w(g);if("object"!==p(T))return T;throw new TypeError("Cannot convert object to primitive value")}}var C=h.valueOf;if(C){var j=C.call(h);if("object"!==p(j))return j}var M=h.toString;if(M){var d=M.call(h);if("object"!==p(d))return d}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(h){return P.__isBigInt(h)?h:+h}},{key:"__isBigInt",value:function(h){return"object"===p(h)&&null!==h&&h.constructor===P}},{key:"__truncateToNBits",value:function(h,g){for(var w=0|(h+29)/30,T=new P(w,g.sign),C=w-1,j=0;j<C;j++)T.__setDigit(j,g.__digit(j));var M=g.__digit(C);if(h%30!=0){var d=32-h%30;M=M<<d>>>d}return T.__setDigit(C,M),T.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(h,g,w){for(var C,T=Math.min,j=0|(h+29)/30,M=new P(j,w),d=0,v=j-1,W=0,H=T(v,g.length);d<H;d++)W=1&(C=0-g.__digit(d)-W)>>>30,M.__setDigit(d,1073741823&C);for(;d<v;d++)M.__setDigit(d,1073741823&-W);var ee,fe=v<g.length?g.__digit(v):0,Ae=h%30;if(0===Ae)ee=0-fe-W,ee&=1073741823;else{var Pe=32-Ae,Le=1<<32-Pe;ee=Le-(fe=fe<<Pe>>>Pe)-W,ee&=Le-1}return M.__setDigit(v,ee),M.__trim()}},{key:"__digitPow",value:function(h,g){for(var w=1;0<g;)1&g&&(w*=h),g>>>=1,h*=h;return w}},{key:"__isOneDigitInt",value:function(h){return(1073741823&h)===h}}]),P}(D(Array));return ue.__kMaxLength=33554432,ue.__kMaxLengthBits=ue.__kMaxLength<<5,ue.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],ue.__kBitsPerCharTableShift=5,ue.__kBitsPerCharTableMultiplier=1<<ue.__kBitsPerCharTableShift,ue.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ue.__kBitConversionBuffer=new ArrayBuffer(8),ue.__kBitConversionDouble=new Float64Array(ue.__kBitConversionBuffer),ue.__kBitConversionInts=new Int32Array(ue.__kBitConversionBuffer),ue.__clz30=E?function(ae){return E(ae)-2}:function(ae){var ve=Math.LN2,_e=Math.log;return 0===ae?30:0|29-(0|_e(ae>>>0)/ve)},ue.__imul=z||function(ae,ve){return 0|ae*ve},ue}()},44331:Be=>{"use strict";var z=Be.exports=function(S,O,G){"function"==typeof O&&(G=O,O={}),E(O,"function"==typeof(G=O.cb||G)?G:G.pre||function(){},G.post||function(){},S,"",S)};function E(S,O,G,x,B,A,N,$,K,D){if(x&&"object"==typeof x&&!Array.isArray(x)){for(var X in O(x,B,A,N,$,K,D),x){var V=x[X];if(Array.isArray(V)){if(X in z.arrayKeywords)for(var Z=0;Z<V.length;Z++)E(S,O,G,V[Z],B+"/"+X+"/"+Z,A,B,X,x,Z)}else if(X in z.propsKeywords){if(V&&"object"==typeof V)for(var Q in V)E(S,O,G,V[Q],B+"/"+X+"/"+p(Q),A,B,X,x,Q)}else(X in z.keywords||S.allKeys&&!(X in z.skipKeywords))&&E(S,O,G,V,B+"/"+X,A,B,X,x)}G(x,B,A,N,$,K,D)}}function p(S){return S.replace(/~/g,"~0").replace(/\//g,"~1")}z.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},z.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},z.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},z.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},89061:(Be,z)=>{"use strict";z.supports=function(...p){const S=p.reduce((O,G)=>Object.assign(O,G),{});return Object.assign(S,{snapshots:S.snapshots||!1,permanence:S.permanence||!1,seek:S.seek||!1,clear:S.clear||!1,getMany:S.getMany||!1,keyIterator:S.keyIterator||!1,valueIterator:S.valueIterator||!1,iteratorNextv:S.iteratorNextv||!1,iteratorAll:S.iteratorAll||!1,status:S.status||!1,createIfMissing:S.createIfMissing||!1,errorIfExists:S.errorIfExists||!1,deferredOpen:S.deferredOpen||!1,promises:S.promises||!1,streams:S.streams||!1,encodings:Object.assign({},S.encodings),events:Object.assign({},S.events),additionalMethods:Object.assign({},S.additionalMethods)})}},25006:(Be,z,E)=>{"use strict";const p=E(61747),S=E(40080),{Encoding:O}=E(15045),{BufferFormat:G,ViewFormat:x,UTF8Format:B}=E(48262),A=Symbol("formats"),N=Symbol("encodings"),$=new Set(["buffer","view","utf8"]);z.Transcoder=class K{constructor(J){if(!Array.isArray(J))throw new TypeError("The first argument 'formats' must be an array");if(!J.every(q=>$.has(q)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[N]=new Map,this[A]=new Set(J);for(const q in S)try{this.encoding(q)}catch(ne){if("LEVEL_ENCODING_NOT_SUPPORTED"!==ne.code)throw ne}}encodings(){return Array.from(new Set(this[N].values()))}encoding(J){let q=this[N].get(J);if(void 0===q){if("string"==typeof J&&""!==J){if(q=Z[J],!q)throw new p(`Encoding '${J}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof J||null===J)throw new TypeError("First argument 'encoding' must be a string or object");q=function D(te){if(te instanceof O)return te;const q=te.name||("type"in te&&"string"==typeof te.type?te.type:void 0)||"anonymous-"+Q++;switch(function X(te){return"format"in te&&void 0!==te.format?te.format:"buffer"in te&&"boolean"==typeof te.buffer?te.buffer?"buffer":"utf8":"code"in te&&Number.isInteger(te.code)?"view":"buffer"}(te)){case"view":return new x({...te,name:q});case"utf8":return new B({...te,name:q});case"buffer":return new G({...te,name:q});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(J)}const{name:ne,format:se}=q;if(!this[A].has(se))if(this[A].has("view"))q=q.createViewTranscoder();else if(this[A].has("buffer"))q=q.createBufferTranscoder();else{if(!this[A].has("utf8"))throw new p(`Encoding '${ne}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});q=q.createUTF8Transcoder()}for(const oe of[J,ne,q.name,q.commonName])this[N].set(oe,q)}return q}};const V={binary:S.buffer,"utf-8":S.utf8},Z={...S,...V};let Q=0},15045:(Be,z,E)=>{"use strict";const p=E(61747),S=new Set(["buffer","view","utf8"]);z.Encoding=class O{constructor(x){if(this.encode=x.encode||this.encode,this.decode=x.decode||this.decode,this.name=x.name||this.name,this.format=x.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!S.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");x.createViewTranscoder&&(this.createViewTranscoder=x.createViewTranscoder),x.createBufferTranscoder&&(this.createBufferTranscoder=x.createBufferTranscoder),x.createUTF8Transcoder&&(this.createUTF8Transcoder=x.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new p(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new p(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new p(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}},40080:(Be,z,E)=>{"use strict";const{Buffer:p}=E(484)||{Buffer:{isBuffer:()=>!1}},{textEncoder:S,textDecoder:O}=E(33619)(),{BufferFormat:G,ViewFormat:x,UTF8Format:B}=E(48262),A=N=>N;z.utf8=new B({encode:function(N){return p.isBuffer(N)?N.toString("utf8"):ArrayBuffer.isView(N)?O.decode(N):String(N)},decode:A,name:"utf8",createViewTranscoder(){return new x({encode:function(N){return ArrayBuffer.isView(N)?N:S.encode(N)},decode:function(N){return O.decode(N)},name:`${this.name}+view`})},createBufferTranscoder(){return new G({encode:function(N){return p.isBuffer(N)?N:ArrayBuffer.isView(N)?p.from(N.buffer,N.byteOffset,N.byteLength):p.from(String(N),"utf8")},decode:function(N){return N.toString("utf8")},name:`${this.name}+buffer`})}}),z.json=new B({encode:JSON.stringify,decode:JSON.parse,name:"json"}),z.buffer=new G({encode:function(N){return p.isBuffer(N)?N:ArrayBuffer.isView(N)?p.from(N.buffer,N.byteOffset,N.byteLength):p.from(String(N),"utf8")},decode:A,name:"buffer",createViewTranscoder(){return new x({encode:function(N){return ArrayBuffer.isView(N)?N:p.from(String(N),"utf8")},decode:function(N){return p.from(N.buffer,N.byteOffset,N.byteLength)},name:`${this.name}+view`})}}),z.view=new x({encode:function(N){return ArrayBuffer.isView(N)?N:S.encode(N)},decode:A,name:"view",createBufferTranscoder(){return new G({encode:function(N){return p.isBuffer(N)?N:ArrayBuffer.isView(N)?p.from(N.buffer,N.byteOffset,N.byteLength):p.from(String(N),"utf8")},decode:A,name:`${this.name}+buffer`})}}),z.hex=new G({encode:function(N){return p.isBuffer(N)?N:p.from(String(N),"hex")},decode:function(N){return N.toString("hex")},name:"hex"}),z.base64=new G({encode:function(N){return p.isBuffer(N)?N:p.from(String(N),"base64")},decode:function(N){return N.toString("base64")},name:"base64"})},48262:(Be,z,E)=>{"use strict";const{Buffer:p}=E(484)||{},{Encoding:S}=E(15045),O=E(33619);class G extends S{constructor(N){super({...N,format:"buffer"})}createViewTranscoder(){return new x({encode:this.encode,decode:N=>this.decode(p.from(N.buffer,N.byteOffset,N.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class x extends S{constructor(N){super({...N,format:"view"})}createBufferTranscoder(){return new G({encode:N=>{const $=this.encode(N);return p.from($.buffer,$.byteOffset,$.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}z.BufferFormat=G,z.ViewFormat=x,z.UTF8Format=class B extends S{constructor(N){super({...N,format:"utf8"})}createBufferTranscoder(){return new G({encode:N=>p.from(this.encode(N),"utf8"),decode:N=>this.decode(N.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:N,textDecoder:$}=O();return new x({encode:K=>N.encode(this.encode(K)),decode:K=>this.decode($.decode(K)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}},33619:Be=>{"use strict";let z=null;Be.exports=function(){return null===z&&(z={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),z}},484:(Be,z,E)=>{"use strict";const p=E(13981),S=E(22020),O="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=A,z.SlowBuffer=function q(U){return+U!=U&&(U=0),A.alloc(+U)},z.INSPECT_MAX_BYTES=50;const G=2147483647;function B(U){if(U>G)throw new RangeError('The value "'+U+'" is invalid for option "size"');const _=new Uint8Array(U);return Object.setPrototypeOf(_,A.prototype),_}function A(U,_,m){if("number"==typeof U){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return D(U)}return N(U,_,m)}function N(U,_,m){if("string"==typeof U)return function X(U,_){if(("string"!=typeof _||""===_)&&(_="utf8"),!A.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const m=0|ne(U,_);let F=B(m);const ie=F.write(U,_);return ie!==m&&(F=F.slice(0,ie)),F}(U,_);if(ArrayBuffer.isView(U))return function Z(U){if(We(U,Uint8Array)){const _=new Uint8Array(U);return Q(_.buffer,_.byteOffset,_.byteLength)}return V(U)}(U);if(null==U)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(We(U,ArrayBuffer)||U&&We(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(We(U,SharedArrayBuffer)||U&&We(U.buffer,SharedArrayBuffer)))return Q(U,_,m);if("number"==typeof U)throw new TypeError('The "value" argument must not be of type number. Received type number');const F=U.valueOf&&U.valueOf();if(null!=F&&F!==U)return A.from(F,_,m);const ie=function te(U){if(A.isBuffer(U)){const _=0|J(U.length),m=B(_);return 0===m.length||U.copy(m,0,0,_),m}return void 0!==U.length?"number"!=typeof U.length||Tt(U.length)?B(0):V(U):"Buffer"===U.type&&Array.isArray(U.data)?V(U.data):void 0}(U);if(ie)return ie;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof U[Symbol.toPrimitive])return A.from(U[Symbol.toPrimitive]("string"),_,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function $(U){if("number"!=typeof U)throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function D(U){return $(U),B(U<0?0:0|J(U))}function V(U){const _=U.length<0?0:0|J(U.length),m=B(_);for(let F=0;F<_;F+=1)m[F]=255&U[F];return m}function Q(U,_,m){if(_<0||U.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<_+(m||0))throw new RangeError('"length" is outside of buffer bounds');let F;return F=void 0===_&&void 0===m?new Uint8Array(U):void 0===m?new Uint8Array(U,_):new Uint8Array(U,_,m),Object.setPrototypeOf(F,A.prototype),F}function J(U){if(U>=G)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+G.toString(16)+" bytes");return 0|U}function ne(U,_){if(A.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||We(U,ArrayBuffer))return U.byteLength;if("string"!=typeof U)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const m=U.length,F=arguments.length>2&&!0===arguments[2];if(!F&&0===m)return 0;let ie=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return de(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*m;case"hex":return m>>>1;case"base64":return ke(U).length;default:if(ie)return F?-1:de(U).length;_=(""+_).toLowerCase(),ie=!0}}function se(U,_,m){let F=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===m||m>this.length)&&(m=this.length),m<=0)||(m>>>=0)<=(_>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return M(this,_,m);case"utf8":case"utf-8":return g(this,_,m);case"ascii":return C(this,_,m);case"latin1":case"binary":return j(this,_,m);case"base64":return h(this,_,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,_,m);default:if(F)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),F=!0}}function oe(U,_,m){const F=U[_];U[_]=U[m],U[m]=F}function ue(U,_,m,F,ie){if(0===U.length)return-1;if("string"==typeof m?(F=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),Tt(m=+m)&&(m=ie?0:U.length-1),m<0&&(m=U.length+m),m>=U.length){if(ie)return-1;m=U.length-1}else if(m<0){if(!ie)return-1;m=0}if("string"==typeof _&&(_=A.from(_,F)),A.isBuffer(_))return 0===_.length?-1:ae(U,_,m,F,ie);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?ie?Uint8Array.prototype.indexOf.call(U,_,m):Uint8Array.prototype.lastIndexOf.call(U,_,m):ae(U,[_],m,F,ie);throw new TypeError("val must be string, number or Buffer")}function ae(U,_,m,F,ie){let pt,we=1,Ie=U.length,Qe=_.length;if(void 0!==F&&("ucs2"===(F=String(F).toLowerCase())||"ucs-2"===F||"utf16le"===F||"utf-16le"===F)){if(U.length<2||_.length<2)return-1;we=2,Ie/=2,Qe/=2,m/=2}function kt(Et,Lt){return 1===we?Et[Lt]:Et.readUInt16BE(Lt*we)}if(ie){let Et=-1;for(pt=m;pt<Ie;pt++)if(kt(U,pt)===kt(_,-1===Et?0:pt-Et)){if(-1===Et&&(Et=pt),pt-Et+1===Qe)return Et*we}else-1!==Et&&(pt-=pt-Et),Et=-1}else for(m+Qe>Ie&&(m=Ie-Qe),pt=m;pt>=0;pt--){let Et=!0;for(let Lt=0;Lt<Qe;Lt++)if(kt(U,pt+Lt)!==kt(_,Lt)){Et=!1;break}if(Et)return pt}return-1}function ve(U,_,m,F){m=Number(m)||0;const ie=U.length-m;F?(F=Number(F))>ie&&(F=ie):F=ie;const we=_.length;let Ie;for(F>we/2&&(F=we/2),Ie=0;Ie<F;++Ie){const Qe=parseInt(_.substr(2*Ie,2),16);if(Tt(Qe))return Ie;U[m+Ie]=Qe}return Ie}function _e(U,_,m,F){return Fe(de(_,U.length-m),U,m,F)}function De(U,_,m,F){return Fe(function pe(U){const _=[];for(let m=0;m<U.length;++m)_.push(255&U.charCodeAt(m));return _}(_),U,m,F)}function P(U,_,m,F){return Fe(ke(_),U,m,F)}function u(U,_,m,F){return Fe(function Se(U,_){let m,F,ie;const we=[];for(let Ie=0;Ie<U.length&&!((_-=2)<0);++Ie)m=U.charCodeAt(Ie),F=m>>8,ie=m%256,we.push(ie),we.push(F);return we}(_,U.length-m),U,m,F)}function h(U,_,m){return p.fromByteArray(0===_&&m===U.length?U:U.slice(_,m))}function g(U,_,m){m=Math.min(U.length,m);const F=[];let ie=_;for(;ie<m;){const we=U[ie];let Ie=null,Qe=we>239?4:we>223?3:we>191?2:1;if(ie+Qe<=m){let kt,pt,Et,Lt;switch(Qe){case 1:we<128&&(Ie=we);break;case 2:kt=U[ie+1],128==(192&kt)&&(Lt=(31&we)<<6|63&kt,Lt>127&&(Ie=Lt));break;case 3:kt=U[ie+1],pt=U[ie+2],128==(192&kt)&&128==(192&pt)&&(Lt=(15&we)<<12|(63&kt)<<6|63&pt,Lt>2047&&(Lt<55296||Lt>57343)&&(Ie=Lt));break;case 4:kt=U[ie+1],pt=U[ie+2],Et=U[ie+3],128==(192&kt)&&128==(192&pt)&&128==(192&Et)&&(Lt=(15&we)<<18|(63&kt)<<12|(63&pt)<<6|63&Et,Lt>65535&&Lt<1114112&&(Ie=Lt))}}null===Ie?(Ie=65533,Qe=1):Ie>65535&&(Ie-=65536,F.push(Ie>>>10&1023|55296),Ie=56320|1023&Ie),F.push(Ie),ie+=Qe}return function T(U){const _=U.length;if(_<=w)return String.fromCharCode.apply(String,U);let m="",F=0;for(;F<_;)m+=String.fromCharCode.apply(String,U.slice(F,F+=w));return m}(F)}z.kMaxLength=G,!(A.TYPED_ARRAY_SUPPORT=function x(){try{const U=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(U,_),42===U.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(U,_,m){return N(U,_,m)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(U,_,m){return function K(U,_,m){return $(U),U<=0?B(U):void 0!==_?"string"==typeof m?B(U).fill(_,m):B(U).fill(_):B(U)}(U,_,m)},A.allocUnsafe=function(U){return D(U)},A.allocUnsafeSlow=function(U){return D(U)},A.isBuffer=function(_){return null!=_&&!0===_._isBuffer&&_!==A.prototype},A.compare=function(_,m){if(We(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),We(m,Uint8Array)&&(m=A.from(m,m.offset,m.byteLength)),!A.isBuffer(_)||!A.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===m)return 0;let F=_.length,ie=m.length;for(let we=0,Ie=Math.min(F,ie);we<Ie;++we)if(_[we]!==m[we]){F=_[we],ie=m[we];break}return F<ie?-1:ie<F?1:0},A.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(_,m){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_.length)return A.alloc(0);let F;if(void 0===m)for(m=0,F=0;F<_.length;++F)m+=_[F].length;const ie=A.allocUnsafe(m);let we=0;for(F=0;F<_.length;++F){let Ie=_[F];if(We(Ie,Uint8Array))we+Ie.length>ie.length?(A.isBuffer(Ie)||(Ie=A.from(Ie)),Ie.copy(ie,we)):Uint8Array.prototype.set.call(ie,Ie,we);else{if(!A.isBuffer(Ie))throw new TypeError('"list" argument must be an Array of Buffers');Ie.copy(ie,we)}we+=Ie.length}return ie},A.byteLength=ne,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<_;m+=2)oe(this,m,m+1);return this},A.prototype.swap32=function(){const _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<_;m+=4)oe(this,m,m+3),oe(this,m+1,m+2);return this},A.prototype.swap64=function(){const _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<_;m+=8)oe(this,m,m+7),oe(this,m+1,m+6),oe(this,m+2,m+5),oe(this,m+3,m+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){const _=this.length;return 0===_?"":0===arguments.length?g(this,0,_):se.apply(this,arguments)},A.prototype.equals=function(_){if(!A.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||0===A.compare(this,_)},A.prototype.inspect=function(){let _="";const m=z.INSPECT_MAX_BYTES;return _=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(_+=" ... "),"<Buffer "+_+">"},O&&(A.prototype[O]=A.prototype.inspect),A.prototype.compare=function(_,m,F,ie,we){if(We(_,Uint8Array)&&(_=A.from(_,_.offset,_.byteLength)),!A.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(void 0===m&&(m=0),void 0===F&&(F=_?_.length:0),void 0===ie&&(ie=0),void 0===we&&(we=this.length),m<0||F>_.length||ie<0||we>this.length)throw new RangeError("out of range index");if(ie>=we&&m>=F)return 0;if(ie>=we)return-1;if(m>=F)return 1;if(this===_)return 0;let Ie=(we>>>=0)-(ie>>>=0),Qe=(F>>>=0)-(m>>>=0);const kt=Math.min(Ie,Qe),pt=this.slice(ie,we),Et=_.slice(m,F);for(let Lt=0;Lt<kt;++Lt)if(pt[Lt]!==Et[Lt]){Ie=pt[Lt],Qe=Et[Lt];break}return Ie<Qe?-1:Qe<Ie?1:0},A.prototype.includes=function(_,m,F){return-1!==this.indexOf(_,m,F)},A.prototype.indexOf=function(_,m,F){return ue(this,_,m,F,!0)},A.prototype.lastIndexOf=function(_,m,F){return ue(this,_,m,F,!1)},A.prototype.write=function(_,m,F,ie){if(void 0===m)ie="utf8",F=this.length,m=0;else if(void 0===F&&"string"==typeof m)ie=m,F=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(F)?(F>>>=0,void 0===ie&&(ie="utf8")):(ie=F,F=void 0)}const we=this.length-m;if((void 0===F||F>we)&&(F=we),_.length>0&&(F<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let Ie=!1;for(;;)switch(ie){case"hex":return ve(this,_,m,F);case"utf8":case"utf-8":return _e(this,_,m,F);case"ascii":case"latin1":case"binary":return De(this,_,m,F);case"base64":return P(this,_,m,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,_,m,F);default:if(Ie)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),Ie=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const w=4096;function C(U,_,m){let F="";m=Math.min(U.length,m);for(let ie=_;ie<m;++ie)F+=String.fromCharCode(127&U[ie]);return F}function j(U,_,m){let F="";m=Math.min(U.length,m);for(let ie=_;ie<m;++ie)F+=String.fromCharCode(U[ie]);return F}function M(U,_,m){const F=U.length;(!_||_<0)&&(_=0),(!m||m<0||m>F)&&(m=F);let ie="";for(let we=_;we<m;++we)ie+=Xe[U[we]];return ie}function d(U,_,m){const F=U.slice(_,m);let ie="";for(let we=0;we<F.length-1;we+=2)ie+=String.fromCharCode(F[we]+256*F[we+1]);return ie}function v(U,_,m){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+_>m)throw new RangeError("Trying to access beyond buffer length")}function W(U,_,m,F,ie,we){if(!A.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>ie||_<we)throw new RangeError('"value" argument is out of bounds');if(m+F>U.length)throw new RangeError("Index out of range")}function H(U,_,m,F,ie){me(_,F,ie,U,m,7);let we=Number(_&BigInt(4294967295));U[m++]=we,we>>=8,U[m++]=we,we>>=8,U[m++]=we,we>>=8,U[m++]=we;let Ie=Number(_>>BigInt(32)&BigInt(4294967295));return U[m++]=Ie,Ie>>=8,U[m++]=Ie,Ie>>=8,U[m++]=Ie,Ie>>=8,U[m++]=Ie,m}function ee(U,_,m,F,ie){me(_,F,ie,U,m,7);let we=Number(_&BigInt(4294967295));U[m+7]=we,we>>=8,U[m+6]=we,we>>=8,U[m+5]=we,we>>=8,U[m+4]=we;let Ie=Number(_>>BigInt(32)&BigInt(4294967295));return U[m+3]=Ie,Ie>>=8,U[m+2]=Ie,Ie>>=8,U[m+1]=Ie,Ie>>=8,U[m]=Ie,m+8}function fe(U,_,m,F,ie,we){if(m+F>U.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function Ae(U,_,m,F,ie){return _=+_,m>>>=0,ie||fe(U,0,m,4),S.write(U,_,m,F,23,4),m+4}function Pe(U,_,m,F,ie){return _=+_,m>>>=0,ie||fe(U,0,m,8),S.write(U,_,m,F,52,8),m+8}A.prototype.slice=function(_,m){const F=this.length;(_=~~_)<0?(_+=F)<0&&(_=0):_>F&&(_=F),(m=void 0===m?F:~~m)<0?(m+=F)<0&&(m=0):m>F&&(m=F),m<_&&(m=_);const ie=this.subarray(_,m);return Object.setPrototypeOf(ie,A.prototype),ie},A.prototype.readUintLE=A.prototype.readUIntLE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=this[_],we=1,Ie=0;for(;++Ie<m&&(we*=256);)ie+=this[_+Ie]*we;return ie},A.prototype.readUintBE=A.prototype.readUIntBE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=this[_+--m],we=1;for(;m>0&&(we*=256);)ie+=this[_+--m]*we;return ie},A.prototype.readUint8=A.prototype.readUInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),this[_]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]|this[_+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(_,m){return _>>>=0,m||v(_,2,this.length),this[_]<<8|this[_+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},A.prototype.readBigUInt64LE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];(void 0===m||void 0===F)&&le(_,this.length-8);const ie=m+256*this[++_]+65536*this[++_]+this[++_]*2**24,we=this[++_]+256*this[++_]+65536*this[++_]+F*2**24;return BigInt(ie)+(BigInt(we)<<BigInt(32))}),A.prototype.readBigUInt64BE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];(void 0===m||void 0===F)&&le(_,this.length-8);const ie=m*2**24+65536*this[++_]+256*this[++_]+this[++_],we=this[++_]*2**24+65536*this[++_]+256*this[++_]+F;return(BigInt(ie)<<BigInt(32))+BigInt(we)}),A.prototype.readIntLE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=this[_],we=1,Ie=0;for(;++Ie<m&&(we*=256);)ie+=this[_+Ie]*we;return we*=128,ie>=we&&(ie-=Math.pow(2,8*m)),ie},A.prototype.readIntBE=function(_,m,F){_>>>=0,m>>>=0,F||v(_,m,this.length);let ie=m,we=1,Ie=this[_+--ie];for(;ie>0&&(we*=256);)Ie+=this[_+--ie]*we;return we*=128,Ie>=we&&(Ie-=Math.pow(2,8*m)),Ie},A.prototype.readInt8=function(_,m){return _>>>=0,m||v(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},A.prototype.readInt16LE=function(_,m){_>>>=0,m||v(_,2,this.length);const F=this[_]|this[_+1]<<8;return 32768&F?4294901760|F:F},A.prototype.readInt16BE=function(_,m){_>>>=0,m||v(_,2,this.length);const F=this[_+1]|this[_]<<8;return 32768&F?4294901760|F:F},A.prototype.readInt32LE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},A.prototype.readInt32BE=function(_,m){return _>>>=0,m||v(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},A.prototype.readBigInt64LE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];return(void 0===m||void 0===F)&&le(_,this.length-8),(BigInt(this[_+4]+256*this[_+5]+65536*this[_+6]+(F<<24))<<BigInt(32))+BigInt(m+256*this[++_]+65536*this[++_]+this[++_]*2**24)}),A.prototype.readBigInt64BE=Ke(function(_){xe(_>>>=0,"offset");const m=this[_],F=this[_+7];(void 0===m||void 0===F)&&le(_,this.length-8);const ie=(m<<24)+65536*this[++_]+256*this[++_]+this[++_];return(BigInt(ie)<<BigInt(32))+BigInt(this[++_]*2**24+65536*this[++_]+256*this[++_]+F)}),A.prototype.readFloatLE=function(_,m){return _>>>=0,m||v(_,4,this.length),S.read(this,_,!0,23,4)},A.prototype.readFloatBE=function(_,m){return _>>>=0,m||v(_,4,this.length),S.read(this,_,!1,23,4)},A.prototype.readDoubleLE=function(_,m){return _>>>=0,m||v(_,8,this.length),S.read(this,_,!0,52,8)},A.prototype.readDoubleBE=function(_,m){return _>>>=0,m||v(_,8,this.length),S.read(this,_,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(_,m,F,ie){_=+_,m>>>=0,F>>>=0,ie||W(this,_,m,F,Math.pow(2,8*F)-1,0);let we=1,Ie=0;for(this[m]=255&_;++Ie<F&&(we*=256);)this[m+Ie]=_/we&255;return m+F},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(_,m,F,ie){_=+_,m>>>=0,F>>>=0,ie||W(this,_,m,F,Math.pow(2,8*F)-1,0);let we=F-1,Ie=1;for(this[m+we]=255&_;--we>=0&&(Ie*=256);)this[m+we]=_/Ie&255;return m+F},A.prototype.writeUint8=A.prototype.writeUInt8=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,1,255,0),this[m]=255&_,m+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,65535,0),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,65535,0),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,4294967295,0),this[m+3]=_>>>24,this[m+2]=_>>>16,this[m+1]=_>>>8,this[m]=255&_,m+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,4294967295,0),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigUInt64LE=Ke(function(_,m=0){return H(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=Ke(function(_,m=0){return ee(this,_,m,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(_,m,F,ie){if(_=+_,m>>>=0,!ie){const kt=Math.pow(2,8*F-1);W(this,_,m,F,kt-1,-kt)}let we=0,Ie=1,Qe=0;for(this[m]=255&_;++we<F&&(Ie*=256);)_<0&&0===Qe&&0!==this[m+we-1]&&(Qe=1),this[m+we]=(_/Ie|0)-Qe&255;return m+F},A.prototype.writeIntBE=function(_,m,F,ie){if(_=+_,m>>>=0,!ie){const kt=Math.pow(2,8*F-1);W(this,_,m,F,kt-1,-kt)}let we=F-1,Ie=1,Qe=0;for(this[m+we]=255&_;--we>=0&&(Ie*=256);)_<0&&0===Qe&&0!==this[m+we+1]&&(Qe=1),this[m+we]=(_/Ie|0)-Qe&255;return m+F},A.prototype.writeInt8=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,1,127,-128),_<0&&(_=255+_+1),this[m]=255&_,m+1},A.prototype.writeInt16LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,32767,-32768),this[m]=255&_,this[m+1]=_>>>8,m+2},A.prototype.writeInt16BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,2,32767,-32768),this[m]=_>>>8,this[m+1]=255&_,m+2},A.prototype.writeInt32LE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,2147483647,-2147483648),this[m]=255&_,this[m+1]=_>>>8,this[m+2]=_>>>16,this[m+3]=_>>>24,m+4},A.prototype.writeInt32BE=function(_,m,F){return _=+_,m>>>=0,F||W(this,_,m,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[m]=_>>>24,this[m+1]=_>>>16,this[m+2]=_>>>8,this[m+3]=255&_,m+4},A.prototype.writeBigInt64LE=Ke(function(_,m=0){return H(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=Ke(function(_,m=0){return ee(this,_,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(_,m,F){return Ae(this,_,m,!0,F)},A.prototype.writeFloatBE=function(_,m,F){return Ae(this,_,m,!1,F)},A.prototype.writeDoubleLE=function(_,m,F){return Pe(this,_,m,!0,F)},A.prototype.writeDoubleBE=function(_,m,F){return Pe(this,_,m,!1,F)},A.prototype.copy=function(_,m,F,ie){if(!A.isBuffer(_))throw new TypeError("argument should be a Buffer");if(F||(F=0),!ie&&0!==ie&&(ie=this.length),m>=_.length&&(m=_.length),m||(m=0),ie>0&&ie<F&&(ie=F),ie===F||0===_.length||0===this.length)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),_.length-m<ie-F&&(ie=_.length-m+F);const we=ie-F;return this===_&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(m,F,ie):Uint8Array.prototype.set.call(_,this.subarray(F,ie),m),we},A.prototype.fill=function(_,m,F,ie){if("string"==typeof _){if("string"==typeof m?(ie=m,m=0,F=this.length):"string"==typeof F&&(ie=F,F=this.length),void 0!==ie&&"string"!=typeof ie)throw new TypeError("encoding must be a string");if("string"==typeof ie&&!A.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(1===_.length){const Ie=_.charCodeAt(0);("utf8"===ie&&Ie<128||"latin1"===ie)&&(_=Ie)}}else"number"==typeof _?_&=255:"boolean"==typeof _&&(_=Number(_));if(m<0||this.length<m||this.length<F)throw new RangeError("Out of range index");if(F<=m)return this;let we;if(m>>>=0,F=void 0===F?this.length:F>>>0,_||(_=0),"number"==typeof _)for(we=m;we<F;++we)this[we]=_;else{const Ie=A.isBuffer(_)?_:A.from(_,ie),Qe=Ie.length;if(0===Qe)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(we=0;we<F-m;++we)this[we+m]=Ie[we%Qe]}return this};const Le={};function be(U,_,m){Le[U]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,delete this.name}get code(){return U}set code(ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ie,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}function ge(U){let _="",m=U.length;const F="-"===U[0]?1:0;for(;m>=F+4;m-=3)_=`_${U.slice(m-3,m)}${_}`;return`${U.slice(0,m)}${_}`}function me(U,_,m,F,ie,we){if(U>m||U<_){const Ie="bigint"==typeof _?"n":"";let Qe;throw Qe=we>3?0===_||_===BigInt(0)?`>= 0${Ie} and < 2${Ie} ** ${8*(we+1)}${Ie}`:`>= -(2${Ie} ** ${8*(we+1)-1}${Ie}) and < 2 ** ${8*(we+1)-1}${Ie}`:`>= ${_}${Ie} and <= ${m}${Ie}`,new Le.ERR_OUT_OF_RANGE("value",Qe,U)}!function Re(U,_,m){xe(_,"offset"),(void 0===U[_]||void 0===U[_+m])&&le(_,U.length-(m+1))}(F,ie,we)}function xe(U,_){if("number"!=typeof U)throw new Le.ERR_INVALID_ARG_TYPE(_,"number",U)}function le(U,_,m){throw Math.floor(U)!==U?(xe(U,m),new Le.ERR_OUT_OF_RANGE(m||"offset","an integer",U)):_<0?new Le.ERR_BUFFER_OUT_OF_BOUNDS:new Le.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${_}`,U)}be("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),be("ERR_INVALID_ARG_TYPE",function(U,_){return`The "${U}" argument must be of type number. Received type ${typeof _}`},TypeError),be("ERR_OUT_OF_RANGE",function(U,_,m){let F=`The value of "${U}" is out of range.`,ie=m;return Number.isInteger(m)&&Math.abs(m)>2**32?ie=ge(String(m)):"bigint"==typeof m&&(ie=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(ie=ge(ie)),ie+="n"),F+=` It must be ${_}. Received ${ie}`,F},RangeError);const he=/[^+/0-9A-Za-z-_]/g;function de(U,_){let m;_=_||1/0;const F=U.length;let ie=null;const we=[];for(let Ie=0;Ie<F;++Ie){if(m=U.charCodeAt(Ie),m>55295&&m<57344){if(!ie){if(m>56319){(_-=3)>-1&&we.push(239,191,189);continue}if(Ie+1===F){(_-=3)>-1&&we.push(239,191,189);continue}ie=m;continue}if(m<56320){(_-=3)>-1&&we.push(239,191,189),ie=m;continue}m=65536+(ie-55296<<10|m-56320)}else ie&&(_-=3)>-1&&we.push(239,191,189);if(ie=null,m<128){if((_-=1)<0)break;we.push(m)}else if(m<2048){if((_-=2)<0)break;we.push(m>>6|192,63&m|128)}else if(m<65536){if((_-=3)<0)break;we.push(m>>12|224,m>>6&63|128,63&m|128)}else{if(!(m<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;we.push(m>>18|240,m>>12&63|128,m>>6&63|128,63&m|128)}}return we}function ke(U){return p.toByteArray(function re(U){if((U=(U=U.split("=")[0]).trim().replace(he,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U}(U))}function Fe(U,_,m,F){let ie;for(ie=0;ie<F&&!(ie+m>=_.length||ie>=U.length);++ie)_[ie+m]=U[ie];return ie}function We(U,_){return U instanceof _||null!=U&&null!=U.constructor&&null!=U.constructor.name&&U.constructor.name===_.name}function Tt(U){return U!=U}const Xe=function(){const U="0123456789abcdef",_=new Array(256);for(let m=0;m<16;++m){const F=16*m;for(let ie=0;ie<16;++ie)_[F+ie]=U[m]+U[ie]}return _}();function Ke(U){return typeof BigInt>"u"?lt:U}function lt(){throw new Error("BigInt not supported")}},54626:(Be,z,E)=>{z.Level=E(23963).BrowserLevel},8516:(Be,z,E)=>{var p=E(81464);Be.exports=p.Symbol},61057:(Be,z,E)=>{var p=E(8516),S=E(8488),O=E(53327),B=p?p.toStringTag:void 0;Be.exports=function A(N){return null==N?void 0===N?"[object Undefined]":"[object Null]":B&&B in Object(N)?S(N):O(N)}},78657:Be=>{var z="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis;Be.exports=z},46902:(Be,z,E)=>{var S=E(72852)(Object.getPrototypeOf,Object);Be.exports=S},8488:(Be,z,E)=>{var p=E(8516),S=Object.prototype,O=S.hasOwnProperty,G=S.toString,x=p?p.toStringTag:void 0;Be.exports=function B(A){var N=O.call(A,x),$=A[x];try{A[x]=void 0;var K=!0}catch{}var D=G.call(A);return K&&(N?A[x]=$:delete A[x]),D}},53327:Be=>{var E=Object.prototype.toString;Be.exports=function p(S){return E.call(S)}},72852:Be=>{Be.exports=function z(E,p){return function(S){return E(p(S))}}},81464:(Be,z,E)=>{var p=E(78657),S="object"==typeof self&&self&&self.Object===Object&&self,O=p||S||Function("return this")();Be.exports=O},57433:Be=>{Be.exports=function z(E){return null!=E&&"object"==typeof E}},49970:(Be,z,E)=>{var p=E(61057),S=E(46902),O=E(57433),A=Function.prototype.toString,N=Object.prototype.hasOwnProperty,$=A.call(Object);Be.exports=function K(D){if(!O(D)||"[object Object]"!=p(D))return!1;var X=S(D);if(null===X)return!0;var V=N.call(X,"constructor")&&X.constructor;return"function"==typeof V&&V instanceof V&&A.call(V)==$}},34725:(Be,z,E)=>{"use strict";var p=E(71993),S=E(13686),O=E(27054).Buffer,G=new Array(16);function x(){S.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function B(D,X){return D<<X|D>>>32-X}function A(D,X,V,Z,Q,te,J){return B(D+(X&V|~X&Z)+Q+te|0,J)+X|0}function N(D,X,V,Z,Q,te,J){return B(D+(X&Z|V&~Z)+Q+te|0,J)+X|0}function $(D,X,V,Z,Q,te,J){return B(D+(X^V^Z)+Q+te|0,J)+X|0}function K(D,X,V,Z,Q,te,J){return B(D+(V^(X|~Z))+Q+te|0,J)+X|0}p(x,S),x.prototype._update=function(){for(var D=G,X=0;X<16;++X)D[X]=this._block.readInt32LE(4*X);var V=this._a,Z=this._b,Q=this._c,te=this._d;V=A(V,Z,Q,te,D[0],3614090360,7),te=A(te,V,Z,Q,D[1],3905402710,12),Q=A(Q,te,V,Z,D[2],606105819,17),Z=A(Z,Q,te,V,D[3],3250441966,22),V=A(V,Z,Q,te,D[4],4118548399,7),te=A(te,V,Z,Q,D[5],1200080426,12),Q=A(Q,te,V,Z,D[6],2821735955,17),Z=A(Z,Q,te,V,D[7],4249261313,22),V=A(V,Z,Q,te,D[8],1770035416,7),te=A(te,V,Z,Q,D[9],2336552879,12),Q=A(Q,te,V,Z,D[10],4294925233,17),Z=A(Z,Q,te,V,D[11],2304563134,22),V=A(V,Z,Q,te,D[12],1804603682,7),te=A(te,V,Z,Q,D[13],4254626195,12),Q=A(Q,te,V,Z,D[14],2792965006,17),V=N(V,Z=A(Z,Q,te,V,D[15],1236535329,22),Q,te,D[1],4129170786,5),te=N(te,V,Z,Q,D[6],3225465664,9),Q=N(Q,te,V,Z,D[11],643717713,14),Z=N(Z,Q,te,V,D[0],3921069994,20),V=N(V,Z,Q,te,D[5],3593408605,5),te=N(te,V,Z,Q,D[10],38016083,9),Q=N(Q,te,V,Z,D[15],3634488961,14),Z=N(Z,Q,te,V,D[4],3889429448,20),V=N(V,Z,Q,te,D[9],568446438,5),te=N(te,V,Z,Q,D[14],3275163606,9),Q=N(Q,te,V,Z,D[3],4107603335,14),Z=N(Z,Q,te,V,D[8],1163531501,20),V=N(V,Z,Q,te,D[13],2850285829,5),te=N(te,V,Z,Q,D[2],4243563512,9),Q=N(Q,te,V,Z,D[7],1735328473,14),V=$(V,Z=N(Z,Q,te,V,D[12],2368359562,20),Q,te,D[5],4294588738,4),te=$(te,V,Z,Q,D[8],2272392833,11),Q=$(Q,te,V,Z,D[11],1839030562,16),Z=$(Z,Q,te,V,D[14],4259657740,23),V=$(V,Z,Q,te,D[1],2763975236,4),te=$(te,V,Z,Q,D[4],1272893353,11),Q=$(Q,te,V,Z,D[7],4139469664,16),Z=$(Z,Q,te,V,D[10],3200236656,23),V=$(V,Z,Q,te,D[13],681279174,4),te=$(te,V,Z,Q,D[0],3936430074,11),Q=$(Q,te,V,Z,D[3],3572445317,16),Z=$(Z,Q,te,V,D[6],76029189,23),V=$(V,Z,Q,te,D[9],3654602809,4),te=$(te,V,Z,Q,D[12],3873151461,11),Q=$(Q,te,V,Z,D[15],530742520,16),V=K(V,Z=$(Z,Q,te,V,D[2],3299628645,23),Q,te,D[0],4096336452,6),te=K(te,V,Z,Q,D[7],1126891415,10),Q=K(Q,te,V,Z,D[14],2878612391,15),Z=K(Z,Q,te,V,D[5],4237533241,21),V=K(V,Z,Q,te,D[12],1700485571,6),te=K(te,V,Z,Q,D[3],2399980690,10),Q=K(Q,te,V,Z,D[10],4293915773,15),Z=K(Z,Q,te,V,D[1],2240044497,21),V=K(V,Z,Q,te,D[8],1873313359,6),te=K(te,V,Z,Q,D[15],4264355552,10),Q=K(Q,te,V,Z,D[6],2734768916,15),Z=K(Z,Q,te,V,D[13],1309151649,21),V=K(V,Z,Q,te,D[4],4149444226,6),te=K(te,V,Z,Q,D[11],3174756917,10),Q=K(Q,te,V,Z,D[2],718787259,15),Z=K(Z,Q,te,V,D[9],3951481745,21),this._a=this._a+V|0,this._b=this._b+Z|0,this._c=this._c+Q|0,this._d=this._d+te|0},x.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var D=O.allocUnsafe(16);return D.writeInt32LE(this._a,0),D.writeInt32LE(this._b,4),D.writeInt32LE(this._c,8),D.writeInt32LE(this._d,12),D},Be.exports=x},53459:(Be,z,E)=>{var p=E(57223),S=E(35294);function O(G){this.rand=G||new S.Rand}Be.exports=O,O.create=function(x){return new O(x)},O.prototype._randbelow=function(x){var B=x.bitLength(),A=Math.ceil(B/8);do{var N=new p(this.rand.generate(A))}while(N.cmp(x)>=0);return N},O.prototype._randrange=function(x,B){var A=B.sub(x);return x.add(this._randbelow(A))},O.prototype.test=function(x,B,A){var N=x.bitLength(),$=p.mont(x),K=new p(1).toRed($);B||(B=Math.max(1,N/48|0));for(var D=x.subn(1),X=0;!D.testn(X);X++);for(var V=x.shrn(X),Z=D.toRed($);B>0;B--){var te=this._randrange(new p(2),D);A&&A(te);var J=te.toRed($).redPow(V);if(0!==J.cmp(K)&&0!==J.cmp(Z)){for(var q=1;q<X;q++){if(0===(J=J.redSqr()).cmp(K))return!1;if(0===J.cmp(Z))break}if(q===X)return!1}}return!0},O.prototype.getDivisor=function(x,B){var A=x.bitLength(),N=p.mont(x),$=new p(1).toRed(N);B||(B=Math.max(1,A/48|0));for(var K=x.subn(1),D=0;!K.testn(D);D++);for(var X=x.shrn(D),V=K.toRed(N);B>0;B--){var Z=this._randrange(new p(2),K),Q=x.gcd(Z);if(0!==Q.cmpn(1))return Q;var te=Z.toRed(N).redPow(X);if(0!==te.cmp($)&&0!==te.cmp(V)){for(var J=1;J<D;J++){if(0===(te=te.redSqr()).cmp($))return te.fromRed().subn(1).gcd(x);if(0===te.cmp(V))break}if(J===D)return(te=te.redSqr()).fromRed().subn(1).gcd(x)}}return!1}},57223:function(Be,z,E){!function(p,S){"use strict";function O(P,u){if(!P)throw new Error(u||"Assertion failed")}function G(P,u){P.super_=u;var h=function(){};h.prototype=u.prototype,P.prototype=new h,P.prototype.constructor=P}function x(P,u,h){if(x.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,null!==P&&(("le"===u||"be"===u)&&(h=u,u=10),this._init(P||0,u||10,h||"be"))}var B;"object"==typeof p?p.exports=x:S.BN=x,x.BN=x,x.wordSize=26;try{B=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(64688).Buffer}catch{}function A(P,u){var h=P.charCodeAt(u);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(P,u,h){var g=A(P,h);return h-1>=u&&(g|=A(P,h-1)<<4),g}function $(P,u,h,g){for(var w=0,T=Math.min(P.length,h),C=u;C<T;C++){var j=P.charCodeAt(C)-48;w*=g,w+=j>=49?j-49+10:j>=17?j-17+10:j}return w}x.isBN=function(u){return u instanceof x||null!==u&&"object"==typeof u&&u.constructor.wordSize===x.wordSize&&Array.isArray(u.words)},x.max=function(u,h){return u.cmp(h)>0?u:h},x.min=function(u,h){return u.cmp(h)<0?u:h},x.prototype._init=function(u,h,g){if("number"==typeof u)return this._initNumber(u,h,g);if("object"==typeof u)return this._initArray(u,h,g);"hex"===h&&(h=16),O(h===(0|h)&&h>=2&&h<=36);var w=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(w++,this.negative=1),w<u.length&&(16===h?this._parseHex(u,w,g):(this._parseBase(u,h,w),"le"===g&&this._initArray(this.toArray(),h,g)))},x.prototype._initNumber=function(u,h,g){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(O(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===g&&this._initArray(this.toArray(),h,g)},x.prototype._initArray=function(u,h,g){if(O("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var T,C,j=0;if("be"===g)for(w=u.length-1,T=0;w>=0;w-=3)this.words[T]|=(C=u[w]|u[w-1]<<8|u[w-2]<<16)<<j&67108863,this.words[T+1]=C>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);else if("le"===g)for(w=0,T=0;w<u.length;w+=3)this.words[T]|=(C=u[w]|u[w+1]<<8|u[w+2]<<16)<<j&67108863,this.words[T+1]=C>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);return this.strip()},x.prototype._parseHex=function(u,h,g){this.length=Math.ceil((u.length-h)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var j,T=0,C=0;if("be"===g)for(w=u.length-1;w>=h;w-=2)j=N(u,h,w)<<T,this.words[C]|=67108863&j,T>=18?(T-=18,this.words[C+=1]|=j>>>26):T+=8;else for(w=(u.length-h)%2==0?h+1:h;w<u.length;w+=2)j=N(u,h,w)<<T,this.words[C]|=67108863&j,T>=18?(T-=18,this.words[C+=1]|=j>>>26):T+=8;this.strip()},x.prototype._parseBase=function(u,h,g){this.words=[0],this.length=1;for(var w=0,T=1;T<=67108863;T*=h)w++;w--,T=T/h|0;for(var C=u.length-g,j=C%w,M=Math.min(C,C-j)+g,d=0,v=g;v<M;v+=w)d=$(u,v,v+w,h),this.imuln(T),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==j){var W=1;for(d=$(u,v,u.length,h),v=0;v<j;v++)W*=h;this.imuln(W),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},x.prototype.copy=function(u){u.words=new Array(this.length);for(var h=0;h<this.length;h++)u.words[h]=this.words[h];u.length=this.length,u.negative=this.negative,u.red=this.red},x.prototype.clone=function(){var u=new x(null);return this.copy(u),u},x.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var K=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Z(P,u,h){h.negative=u.negative^P.negative;var g=P.length+u.length|0;h.length=g,g=g-1|0;var w=0|P.words[0],T=0|u.words[0],C=w*T,M=C/67108864|0;h.words[0]=67108863&C;for(var d=1;d<g;d++){for(var v=M>>>26,W=67108863&M,H=Math.min(d,u.length-1),ee=Math.max(0,d-P.length+1);ee<=H;ee++)v+=(C=(w=0|P.words[d-ee|0])*(T=0|u.words[ee])+W)/67108864|0,W=67108863&C;h.words[d]=0|W,M=0|v}return 0!==M?h.words[d]=0|M:h.length--,h.strip()}x.prototype.toString=function(u,h){var g;if(h=0|h||1,16===(u=u||10)||"hex"===u){g="";for(var w=0,T=0,C=0;C<this.length;C++){var j=this.words[C],M=(16777215&(j<<w|T)).toString(16);g=0!=(T=j>>>24-w&16777215)||C!==this.length-1?K[6-M.length]+M+g:M+g,(w+=2)>=26&&(w-=26,C--)}for(0!==T&&(g=T.toString(16)+g);g.length%h!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}if(u===(0|u)&&u>=2&&u<=36){var d=D[u],v=X[u];g="";var W=this.clone();for(W.negative=0;!W.isZero();){var H=W.modn(v).toString(u);g=(W=W.idivn(v)).isZero()?H+g:K[d-H.length]+H+g}for(this.isZero()&&(g="0"+g);g.length%h!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}O(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&O(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(u,h){return O(typeof B<"u"),this.toArrayLike(B,u,h)},x.prototype.toArray=function(u,h){return this.toArrayLike(Array,u,h)},x.prototype.toArrayLike=function(u,h,g){var w=this.byteLength(),T=g||Math.max(1,w);O(w<=T,"byte array longer than desired length"),O(T>0,"Requested array length <= 0"),this.strip();var M,d,C="le"===h,j=new u(T),v=this.clone();if(C){for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),j[d]=M;for(;d<T;d++)j[d]=0}else{for(d=0;d<T-w;d++)j[d]=0;for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),j[T-d-1]=M}return j},x.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var h=u,g=0;return h>=4096&&(g+=13,h>>>=13),h>=64&&(g+=7,h>>>=7),h>=8&&(g+=4,h>>>=4),h>=2&&(g+=2,h>>>=2),g+h},x.prototype._zeroBits=function(u){if(0===u)return 26;var h=u,g=0;return 8191&h||(g+=13,h>>>=13),127&h||(g+=7,h>>>=7),15&h||(g+=4,h>>>=4),3&h||(g+=2,h>>>=2),1&h||g++,g},x.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,h=0;h<this.length;h++){var g=this._zeroBits(this.words[h]);if(u+=g,26!==g)break}return u},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},x.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]|u.words[h];return this.strip()},x.prototype.ior=function(u){return O(!(this.negative|u.negative)),this.iuor(u)},x.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},x.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},x.prototype.iuand=function(u){var h;h=this.length>u.length?u:this;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]&u.words[g];return this.length=h.length,this.strip()},x.prototype.iand=function(u){return O(!(this.negative|u.negative)),this.iuand(u)},x.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},x.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},x.prototype.iuxor=function(u){var h,g;this.length>u.length?(h=this,g=u):(h=u,g=this);for(var w=0;w<g.length;w++)this.words[w]=h.words[w]^g.words[w];if(this!==h)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=h.length,this.strip()},x.prototype.ixor=function(u){return O(!(this.negative|u.negative)),this.iuxor(u)},x.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},x.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},x.prototype.inotn=function(u){O("number"==typeof u&&u>=0);var h=0|Math.ceil(u/26),g=u%26;this._expand(h),g>0&&h--;for(var w=0;w<h;w++)this.words[w]=67108863&~this.words[w];return g>0&&(this.words[w]=~this.words[w]&67108863>>26-g),this.strip()},x.prototype.notn=function(u){return this.clone().inotn(u)},x.prototype.setn=function(u,h){O("number"==typeof u&&u>=0);var g=u/26|0,w=u%26;return this._expand(g+1),this.words[g]=h?this.words[g]|1<<w:this.words[g]&~(1<<w),this.strip()},x.prototype.iadd=function(u){var h,g,w;if(0!==this.negative&&0===u.negative)return this.negative=0,h=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,h=this.isub(u),u.negative=1,h._normSign();this.length>u.length?(g=this,w=u):(g=u,w=this);for(var T=0,C=0;C<w.length;C++)this.words[C]=67108863&(h=(0|g.words[C])+(0|w.words[C])+T),T=h>>>26;for(;0!==T&&C<g.length;C++)this.words[C]=67108863&(h=(0|g.words[C])+T),T=h>>>26;if(this.length=g.length,0!==T)this.words[this.length]=T,this.length++;else if(g!==this)for(;C<g.length;C++)this.words[C]=g.words[C];return this},x.prototype.add=function(u){var h;return 0!==u.negative&&0===this.negative?(u.negative=0,h=this.sub(u),u.negative^=1,h):0===u.negative&&0!==this.negative?(this.negative=0,h=u.sub(this),this.negative=1,h):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},x.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var h=this.iadd(u);return u.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var w,T,g=this.cmp(u);if(0===g)return this.negative=0,this.length=1,this.words[0]=0,this;g>0?(w=this,T=u):(w=u,T=this);for(var C=0,j=0;j<T.length;j++)C=(h=(0|w.words[j])-(0|T.words[j])+C)>>26,this.words[j]=67108863&h;for(;0!==C&&j<w.length;j++)C=(h=(0|w.words[j])+C)>>26,this.words[j]=67108863&h;if(0===C&&j<w.length&&w!==this)for(;j<w.length;j++)this.words[j]=w.words[j];return this.length=Math.max(this.length,j),w!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(u){return this.clone().isub(u)};var Q=function(u,h,g){var M,d,v,w=u.words,T=h.words,C=g.words,j=0,W=0|w[0],H=8191&W,ee=W>>>13,fe=0|w[1],Ae=8191&fe,Pe=fe>>>13,Le=0|w[2],be=8191&Le,ge=Le>>>13,Re=0|w[3],me=8191&Re,xe=Re>>>13,le=0|w[4],he=8191&le,re=le>>>13,de=0|w[5],pe=8191&de,Se=de>>>13,ke=0|w[6],Fe=8191&ke,We=ke>>>13,Tt=0|w[7],Xe=8191&Tt,Ke=Tt>>>13,lt=0|w[8],U=8191&lt,_=lt>>>13,m=0|w[9],F=8191&m,ie=m>>>13,we=0|T[0],Ie=8191&we,Qe=we>>>13,kt=0|T[1],pt=8191&kt,Et=kt>>>13,Lt=0|T[2],qt=8191&Lt,Kt=Lt>>>13,er=0|T[3],cn=8191&er,Ut=er>>>13,Nt=0|T[4],dt=8191&Nt,it=Nt>>>13,Ct=0|T[5],Bt=8191&Ct,Wt=Ct>>>13,Yn=0|T[6],at=8191&Yn,ut=Yn>>>13,ft=0|T[7],et=8191&ft,gt=ft>>>13,un=0|T[8],zt=8191&un,tn=un>>>13,pr=0|T[9],bn=8191&pr,vn=pr>>>13;g.negative=u.negative^h.negative,g.length=19;var Or=(j+(M=Math.imul(H,Ie))|0)+((8191&(d=(d=Math.imul(H,Qe))+Math.imul(ee,Ie)|0))<<13)|0;j=((v=Math.imul(ee,Qe))+(d>>>13)|0)+(Or>>>26)|0,Or&=67108863,M=Math.imul(Ae,Ie),d=(d=Math.imul(Ae,Qe))+Math.imul(Pe,Ie)|0,v=Math.imul(Pe,Qe);var Qn=(j+(M=M+Math.imul(H,pt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Et)|0)+Math.imul(ee,pt)|0))<<13)|0;j=((v=v+Math.imul(ee,Et)|0)+(d>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,M=Math.imul(be,Ie),d=(d=Math.imul(be,Qe))+Math.imul(ge,Ie)|0,v=Math.imul(ge,Qe),M=M+Math.imul(Ae,pt)|0,d=(d=d+Math.imul(Ae,Et)|0)+Math.imul(Pe,pt)|0,v=v+Math.imul(Pe,Et)|0;var jn=(j+(M=M+Math.imul(H,qt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Kt)|0)+Math.imul(ee,qt)|0))<<13)|0;j=((v=v+Math.imul(ee,Kt)|0)+(d>>>13)|0)+(jn>>>26)|0,jn&=67108863,M=Math.imul(me,Ie),d=(d=Math.imul(me,Qe))+Math.imul(xe,Ie)|0,v=Math.imul(xe,Qe),M=M+Math.imul(be,pt)|0,d=(d=d+Math.imul(be,Et)|0)+Math.imul(ge,pt)|0,v=v+Math.imul(ge,Et)|0,M=M+Math.imul(Ae,qt)|0,d=(d=d+Math.imul(Ae,Kt)|0)+Math.imul(Pe,qt)|0,v=v+Math.imul(Pe,Kt)|0;var On=(j+(M=M+Math.imul(H,cn)|0)|0)+((8191&(d=(d=d+Math.imul(H,Ut)|0)+Math.imul(ee,cn)|0))<<13)|0;j=((v=v+Math.imul(ee,Ut)|0)+(d>>>13)|0)+(On>>>26)|0,On&=67108863,M=Math.imul(he,Ie),d=(d=Math.imul(he,Qe))+Math.imul(re,Ie)|0,v=Math.imul(re,Qe),M=M+Math.imul(me,pt)|0,d=(d=d+Math.imul(me,Et)|0)+Math.imul(xe,pt)|0,v=v+Math.imul(xe,Et)|0,M=M+Math.imul(be,qt)|0,d=(d=d+Math.imul(be,Kt)|0)+Math.imul(ge,qt)|0,v=v+Math.imul(ge,Kt)|0,M=M+Math.imul(Ae,cn)|0,d=(d=d+Math.imul(Ae,Ut)|0)+Math.imul(Pe,cn)|0,v=v+Math.imul(Pe,Ut)|0;var Vn=(j+(M=M+Math.imul(H,dt)|0)|0)+((8191&(d=(d=d+Math.imul(H,it)|0)+Math.imul(ee,dt)|0))<<13)|0;j=((v=v+Math.imul(ee,it)|0)+(d>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,M=Math.imul(pe,Ie),d=(d=Math.imul(pe,Qe))+Math.imul(Se,Ie)|0,v=Math.imul(Se,Qe),M=M+Math.imul(he,pt)|0,d=(d=d+Math.imul(he,Et)|0)+Math.imul(re,pt)|0,v=v+Math.imul(re,Et)|0,M=M+Math.imul(me,qt)|0,d=(d=d+Math.imul(me,Kt)|0)+Math.imul(xe,qt)|0,v=v+Math.imul(xe,Kt)|0,M=M+Math.imul(be,cn)|0,d=(d=d+Math.imul(be,Ut)|0)+Math.imul(ge,cn)|0,v=v+Math.imul(ge,Ut)|0,M=M+Math.imul(Ae,dt)|0,d=(d=d+Math.imul(Ae,it)|0)+Math.imul(Pe,dt)|0,v=v+Math.imul(Pe,it)|0;var Hn=(j+(M=M+Math.imul(H,Bt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Wt)|0)+Math.imul(ee,Bt)|0))<<13)|0;j=((v=v+Math.imul(ee,Wt)|0)+(d>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,M=Math.imul(Fe,Ie),d=(d=Math.imul(Fe,Qe))+Math.imul(We,Ie)|0,v=Math.imul(We,Qe),M=M+Math.imul(pe,pt)|0,d=(d=d+Math.imul(pe,Et)|0)+Math.imul(Se,pt)|0,v=v+Math.imul(Se,Et)|0,M=M+Math.imul(he,qt)|0,d=(d=d+Math.imul(he,Kt)|0)+Math.imul(re,qt)|0,v=v+Math.imul(re,Kt)|0,M=M+Math.imul(me,cn)|0,d=(d=d+Math.imul(me,Ut)|0)+Math.imul(xe,cn)|0,v=v+Math.imul(xe,Ut)|0,M=M+Math.imul(be,dt)|0,d=(d=d+Math.imul(be,it)|0)+Math.imul(ge,dt)|0,v=v+Math.imul(ge,it)|0,M=M+Math.imul(Ae,Bt)|0,d=(d=d+Math.imul(Ae,Wt)|0)+Math.imul(Pe,Bt)|0,v=v+Math.imul(Pe,Wt)|0;var ar=(j+(M=M+Math.imul(H,at)|0)|0)+((8191&(d=(d=d+Math.imul(H,ut)|0)+Math.imul(ee,at)|0))<<13)|0;j=((v=v+Math.imul(ee,ut)|0)+(d>>>13)|0)+(ar>>>26)|0,ar&=67108863,M=Math.imul(Xe,Ie),d=(d=Math.imul(Xe,Qe))+Math.imul(Ke,Ie)|0,v=Math.imul(Ke,Qe),M=M+Math.imul(Fe,pt)|0,d=(d=d+Math.imul(Fe,Et)|0)+Math.imul(We,pt)|0,v=v+Math.imul(We,Et)|0,M=M+Math.imul(pe,qt)|0,d=(d=d+Math.imul(pe,Kt)|0)+Math.imul(Se,qt)|0,v=v+Math.imul(Se,Kt)|0,M=M+Math.imul(he,cn)|0,d=(d=d+Math.imul(he,Ut)|0)+Math.imul(re,cn)|0,v=v+Math.imul(re,Ut)|0,M=M+Math.imul(me,dt)|0,d=(d=d+Math.imul(me,it)|0)+Math.imul(xe,dt)|0,v=v+Math.imul(xe,it)|0,M=M+Math.imul(be,Bt)|0,d=(d=d+Math.imul(be,Wt)|0)+Math.imul(ge,Bt)|0,v=v+Math.imul(ge,Wt)|0,M=M+Math.imul(Ae,at)|0,d=(d=d+Math.imul(Ae,ut)|0)+Math.imul(Pe,at)|0,v=v+Math.imul(Pe,ut)|0;var qn=(j+(M=M+Math.imul(H,et)|0)|0)+((8191&(d=(d=d+Math.imul(H,gt)|0)+Math.imul(ee,et)|0))<<13)|0;j=((v=v+Math.imul(ee,gt)|0)+(d>>>13)|0)+(qn>>>26)|0,qn&=67108863,M=Math.imul(U,Ie),d=(d=Math.imul(U,Qe))+Math.imul(_,Ie)|0,v=Math.imul(_,Qe),M=M+Math.imul(Xe,pt)|0,d=(d=d+Math.imul(Xe,Et)|0)+Math.imul(Ke,pt)|0,v=v+Math.imul(Ke,Et)|0,M=M+Math.imul(Fe,qt)|0,d=(d=d+Math.imul(Fe,Kt)|0)+Math.imul(We,qt)|0,v=v+Math.imul(We,Kt)|0,M=M+Math.imul(pe,cn)|0,d=(d=d+Math.imul(pe,Ut)|0)+Math.imul(Se,cn)|0,v=v+Math.imul(Se,Ut)|0,M=M+Math.imul(he,dt)|0,d=(d=d+Math.imul(he,it)|0)+Math.imul(re,dt)|0,v=v+Math.imul(re,it)|0,M=M+Math.imul(me,Bt)|0,d=(d=d+Math.imul(me,Wt)|0)+Math.imul(xe,Bt)|0,v=v+Math.imul(xe,Wt)|0,M=M+Math.imul(be,at)|0,d=(d=d+Math.imul(be,ut)|0)+Math.imul(ge,at)|0,v=v+Math.imul(ge,ut)|0,M=M+Math.imul(Ae,et)|0,d=(d=d+Math.imul(Ae,gt)|0)+Math.imul(Pe,et)|0,v=v+Math.imul(Pe,gt)|0;var vr=(j+(M=M+Math.imul(H,zt)|0)|0)+((8191&(d=(d=d+Math.imul(H,tn)|0)+Math.imul(ee,zt)|0))<<13)|0;j=((v=v+Math.imul(ee,tn)|0)+(d>>>13)|0)+(vr>>>26)|0,vr&=67108863,M=Math.imul(F,Ie),d=(d=Math.imul(F,Qe))+Math.imul(ie,Ie)|0,v=Math.imul(ie,Qe),M=M+Math.imul(U,pt)|0,d=(d=d+Math.imul(U,Et)|0)+Math.imul(_,pt)|0,v=v+Math.imul(_,Et)|0,M=M+Math.imul(Xe,qt)|0,d=(d=d+Math.imul(Xe,Kt)|0)+Math.imul(Ke,qt)|0,v=v+Math.imul(Ke,Kt)|0,M=M+Math.imul(Fe,cn)|0,d=(d=d+Math.imul(Fe,Ut)|0)+Math.imul(We,cn)|0,v=v+Math.imul(We,Ut)|0,M=M+Math.imul(pe,dt)|0,d=(d=d+Math.imul(pe,it)|0)+Math.imul(Se,dt)|0,v=v+Math.imul(Se,it)|0,M=M+Math.imul(he,Bt)|0,d=(d=d+Math.imul(he,Wt)|0)+Math.imul(re,Bt)|0,v=v+Math.imul(re,Wt)|0,M=M+Math.imul(me,at)|0,d=(d=d+Math.imul(me,ut)|0)+Math.imul(xe,at)|0,v=v+Math.imul(xe,ut)|0,M=M+Math.imul(be,et)|0,d=(d=d+Math.imul(be,gt)|0)+Math.imul(ge,et)|0,v=v+Math.imul(ge,gt)|0,M=M+Math.imul(Ae,zt)|0,d=(d=d+Math.imul(Ae,tn)|0)+Math.imul(Pe,zt)|0,v=v+Math.imul(Pe,tn)|0;var _r=(j+(M=M+Math.imul(H,bn)|0)|0)+((8191&(d=(d=d+Math.imul(H,vn)|0)+Math.imul(ee,bn)|0))<<13)|0;j=((v=v+Math.imul(ee,vn)|0)+(d>>>13)|0)+(_r>>>26)|0,_r&=67108863,M=Math.imul(F,pt),d=(d=Math.imul(F,Et))+Math.imul(ie,pt)|0,v=Math.imul(ie,Et),M=M+Math.imul(U,qt)|0,d=(d=d+Math.imul(U,Kt)|0)+Math.imul(_,qt)|0,v=v+Math.imul(_,Kt)|0,M=M+Math.imul(Xe,cn)|0,d=(d=d+Math.imul(Xe,Ut)|0)+Math.imul(Ke,cn)|0,v=v+Math.imul(Ke,Ut)|0,M=M+Math.imul(Fe,dt)|0,d=(d=d+Math.imul(Fe,it)|0)+Math.imul(We,dt)|0,v=v+Math.imul(We,it)|0,M=M+Math.imul(pe,Bt)|0,d=(d=d+Math.imul(pe,Wt)|0)+Math.imul(Se,Bt)|0,v=v+Math.imul(Se,Wt)|0,M=M+Math.imul(he,at)|0,d=(d=d+Math.imul(he,ut)|0)+Math.imul(re,at)|0,v=v+Math.imul(re,ut)|0,M=M+Math.imul(me,et)|0,d=(d=d+Math.imul(me,gt)|0)+Math.imul(xe,et)|0,v=v+Math.imul(xe,gt)|0,M=M+Math.imul(be,zt)|0,d=(d=d+Math.imul(be,tn)|0)+Math.imul(ge,zt)|0,v=v+Math.imul(ge,tn)|0;var Er=(j+(M=M+Math.imul(Ae,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Ae,vn)|0)+Math.imul(Pe,bn)|0))<<13)|0;j=((v=v+Math.imul(Pe,vn)|0)+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,M=Math.imul(F,qt),d=(d=Math.imul(F,Kt))+Math.imul(ie,qt)|0,v=Math.imul(ie,Kt),M=M+Math.imul(U,cn)|0,d=(d=d+Math.imul(U,Ut)|0)+Math.imul(_,cn)|0,v=v+Math.imul(_,Ut)|0,M=M+Math.imul(Xe,dt)|0,d=(d=d+Math.imul(Xe,it)|0)+Math.imul(Ke,dt)|0,v=v+Math.imul(Ke,it)|0,M=M+Math.imul(Fe,Bt)|0,d=(d=d+Math.imul(Fe,Wt)|0)+Math.imul(We,Bt)|0,v=v+Math.imul(We,Wt)|0,M=M+Math.imul(pe,at)|0,d=(d=d+Math.imul(pe,ut)|0)+Math.imul(Se,at)|0,v=v+Math.imul(Se,ut)|0,M=M+Math.imul(he,et)|0,d=(d=d+Math.imul(he,gt)|0)+Math.imul(re,et)|0,v=v+Math.imul(re,gt)|0,M=M+Math.imul(me,zt)|0,d=(d=d+Math.imul(me,tn)|0)+Math.imul(xe,zt)|0,v=v+Math.imul(xe,tn)|0;var mr=(j+(M=M+Math.imul(be,bn)|0)|0)+((8191&(d=(d=d+Math.imul(be,vn)|0)+Math.imul(ge,bn)|0))<<13)|0;j=((v=v+Math.imul(ge,vn)|0)+(d>>>13)|0)+(mr>>>26)|0,mr&=67108863,M=Math.imul(F,cn),d=(d=Math.imul(F,Ut))+Math.imul(ie,cn)|0,v=Math.imul(ie,Ut),M=M+Math.imul(U,dt)|0,d=(d=d+Math.imul(U,it)|0)+Math.imul(_,dt)|0,v=v+Math.imul(_,it)|0,M=M+Math.imul(Xe,Bt)|0,d=(d=d+Math.imul(Xe,Wt)|0)+Math.imul(Ke,Bt)|0,v=v+Math.imul(Ke,Wt)|0,M=M+Math.imul(Fe,at)|0,d=(d=d+Math.imul(Fe,ut)|0)+Math.imul(We,at)|0,v=v+Math.imul(We,ut)|0,M=M+Math.imul(pe,et)|0,d=(d=d+Math.imul(pe,gt)|0)+Math.imul(Se,et)|0,v=v+Math.imul(Se,gt)|0,M=M+Math.imul(he,zt)|0,d=(d=d+Math.imul(he,tn)|0)+Math.imul(re,zt)|0,v=v+Math.imul(re,tn)|0;var Rr=(j+(M=M+Math.imul(me,bn)|0)|0)+((8191&(d=(d=d+Math.imul(me,vn)|0)+Math.imul(xe,bn)|0))<<13)|0;j=((v=v+Math.imul(xe,vn)|0)+(d>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,M=Math.imul(F,dt),d=(d=Math.imul(F,it))+Math.imul(ie,dt)|0,v=Math.imul(ie,it),M=M+Math.imul(U,Bt)|0,d=(d=d+Math.imul(U,Wt)|0)+Math.imul(_,Bt)|0,v=v+Math.imul(_,Wt)|0,M=M+Math.imul(Xe,at)|0,d=(d=d+Math.imul(Xe,ut)|0)+Math.imul(Ke,at)|0,v=v+Math.imul(Ke,ut)|0,M=M+Math.imul(Fe,et)|0,d=(d=d+Math.imul(Fe,gt)|0)+Math.imul(We,et)|0,v=v+Math.imul(We,gt)|0,M=M+Math.imul(pe,zt)|0,d=(d=d+Math.imul(pe,tn)|0)+Math.imul(Se,zt)|0,v=v+Math.imul(Se,tn)|0;var Br=(j+(M=M+Math.imul(he,bn)|0)|0)+((8191&(d=(d=d+Math.imul(he,vn)|0)+Math.imul(re,bn)|0))<<13)|0;j=((v=v+Math.imul(re,vn)|0)+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,M=Math.imul(F,Bt),d=(d=Math.imul(F,Wt))+Math.imul(ie,Bt)|0,v=Math.imul(ie,Wt),M=M+Math.imul(U,at)|0,d=(d=d+Math.imul(U,ut)|0)+Math.imul(_,at)|0,v=v+Math.imul(_,ut)|0,M=M+Math.imul(Xe,et)|0,d=(d=d+Math.imul(Xe,gt)|0)+Math.imul(Ke,et)|0,v=v+Math.imul(Ke,gt)|0,M=M+Math.imul(Fe,zt)|0,d=(d=d+Math.imul(Fe,tn)|0)+Math.imul(We,zt)|0,v=v+Math.imul(We,tn)|0;var kr=(j+(M=M+Math.imul(pe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(pe,vn)|0)+Math.imul(Se,bn)|0))<<13)|0;j=((v=v+Math.imul(Se,vn)|0)+(d>>>13)|0)+(kr>>>26)|0,kr&=67108863,M=Math.imul(F,at),d=(d=Math.imul(F,ut))+Math.imul(ie,at)|0,v=Math.imul(ie,ut),M=M+Math.imul(U,et)|0,d=(d=d+Math.imul(U,gt)|0)+Math.imul(_,et)|0,v=v+Math.imul(_,gt)|0,M=M+Math.imul(Xe,zt)|0,d=(d=d+Math.imul(Xe,tn)|0)+Math.imul(Ke,zt)|0,v=v+Math.imul(Ke,tn)|0;var jr=(j+(M=M+Math.imul(Fe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Fe,vn)|0)+Math.imul(We,bn)|0))<<13)|0;j=((v=v+Math.imul(We,vn)|0)+(d>>>13)|0)+(jr>>>26)|0,jr&=67108863,M=Math.imul(F,et),d=(d=Math.imul(F,gt))+Math.imul(ie,et)|0,v=Math.imul(ie,gt),M=M+Math.imul(U,zt)|0,d=(d=d+Math.imul(U,tn)|0)+Math.imul(_,zt)|0,v=v+Math.imul(_,tn)|0;var Yr=(j+(M=M+Math.imul(Xe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Xe,vn)|0)+Math.imul(Ke,bn)|0))<<13)|0;j=((v=v+Math.imul(Ke,vn)|0)+(d>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,M=Math.imul(F,zt),d=(d=Math.imul(F,tn))+Math.imul(ie,zt)|0,v=Math.imul(ie,tn);var wt=(j+(M=M+Math.imul(U,bn)|0)|0)+((8191&(d=(d=d+Math.imul(U,vn)|0)+Math.imul(_,bn)|0))<<13)|0;j=((v=v+Math.imul(_,vn)|0)+(d>>>13)|0)+(wt>>>26)|0,wt&=67108863;var Pt=(j+(M=Math.imul(F,bn))|0)+((8191&(d=(d=Math.imul(F,vn))+Math.imul(ie,bn)|0))<<13)|0;return j=((v=Math.imul(ie,vn))+(d>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,C[0]=Or,C[1]=Qn,C[2]=jn,C[3]=On,C[4]=Vn,C[5]=Hn,C[6]=ar,C[7]=qn,C[8]=vr,C[9]=_r,C[10]=Er,C[11]=mr,C[12]=Rr,C[13]=Br,C[14]=kr,C[15]=jr,C[16]=Yr,C[17]=wt,C[18]=Pt,0!==j&&(C[19]=j,g.length++),g};function J(P,u,h){return(new q).mulp(P,u,h)}function q(P,u){this.x=P,this.y=u}Math.imul||(Q=Z),x.prototype.mulTo=function(u,h){var g,w=this.length+u.length;return g=10===this.length&&10===u.length?Q(this,u,h):w<63?Z(this,u,h):w<1024?function te(P,u,h){h.negative=u.negative^P.negative,h.length=P.length+u.length;for(var g=0,w=0,T=0;T<h.length-1;T++){var C=w;w=0;for(var j=67108863&g,M=Math.min(T,u.length-1),d=Math.max(0,T-P.length+1);d<=M;d++){var ee=(0|P.words[T-d])*(0|u.words[d]),fe=67108863&ee;j=67108863&(fe=fe+j|0),w+=(C=(C=C+(ee/67108864|0)|0)+(fe>>>26)|0)>>>26,C&=67108863}h.words[T]=j,g=C,C=w}return 0!==g?h.words[T]=g:h.length--,h.strip()}(this,u,h):J(this,u,h),g},q.prototype.makeRBT=function(u){for(var h=new Array(u),g=x.prototype._countBits(u)-1,w=0;w<u;w++)h[w]=this.revBin(w,g,u);return h},q.prototype.revBin=function(u,h,g){if(0===u||u===g-1)return u;for(var w=0,T=0;T<h;T++)w|=(1&u)<<h-T-1,u>>=1;return w},q.prototype.permute=function(u,h,g,w,T,C){for(var j=0;j<C;j++)w[j]=h[u[j]],T[j]=g[u[j]]},q.prototype.transform=function(u,h,g,w,T,C){this.permute(C,u,h,g,w,T);for(var j=1;j<T;j<<=1)for(var M=j<<1,d=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<T;W+=M)for(var H=d,ee=v,fe=0;fe<j;fe++){var Ae=g[W+fe],Pe=w[W+fe],Le=g[W+fe+j],be=w[W+fe+j],ge=H*Le-ee*be;be=H*be+ee*Le,g[W+fe]=Ae+(Le=ge),w[W+fe]=Pe+be,g[W+fe+j]=Ae-Le,w[W+fe+j]=Pe-be,fe!==M&&(ge=d*H-v*ee,ee=d*ee+v*H,H=ge)}},q.prototype.guessLen13b=function(u,h){var g=1|Math.max(h,u),w=1&g,T=0;for(g=g/2|0;g;g>>>=1)T++;return 1<<T+1+w},q.prototype.conjugate=function(u,h,g){if(!(g<=1))for(var w=0;w<g/2;w++){var T=u[w];u[w]=u[g-w-1],u[g-w-1]=T,T=h[w],h[w]=-h[g-w-1],h[g-w-1]=-T}},q.prototype.normalize13b=function(u,h){for(var g=0,w=0;w<h/2;w++){var T=8192*Math.round(u[2*w+1]/h)+Math.round(u[2*w]/h)+g;u[w]=67108863&T,g=T<67108864?0:T/67108864|0}return u},q.prototype.convert13b=function(u,h,g,w){for(var T=0,C=0;C<h;C++)g[2*C]=8191&(T+=0|u[C]),g[2*C+1]=8191&(T>>>=13),T>>>=13;for(C=2*h;C<w;++C)g[C]=0;O(0===T),O(!(-8192&T))},q.prototype.stub=function(u){for(var h=new Array(u),g=0;g<u;g++)h[g]=0;return h},q.prototype.mulp=function(u,h,g){var w=2*this.guessLen13b(u.length,h.length),T=this.makeRBT(w),C=this.stub(w),j=new Array(w),M=new Array(w),d=new Array(w),v=new Array(w),W=new Array(w),H=new Array(w),ee=g.words;ee.length=w,this.convert13b(u.words,u.length,j,w),this.convert13b(h.words,h.length,v,w),this.transform(j,C,M,d,w,T),this.transform(v,C,W,H,w,T);for(var fe=0;fe<w;fe++){var Ae=M[fe]*W[fe]-d[fe]*H[fe];d[fe]=M[fe]*H[fe]+d[fe]*W[fe],M[fe]=Ae}return this.conjugate(M,d,w),this.transform(M,d,ee,C,w,T),this.conjugate(ee,C,w),this.normalize13b(ee,w),g.negative=u.negative^h.negative,g.length=u.length+h.length,g.strip()},x.prototype.mul=function(u){var h=new x(null);return h.words=new Array(this.length+u.length),this.mulTo(u,h)},x.prototype.mulf=function(u){var h=new x(null);return h.words=new Array(this.length+u.length),J(this,u,h)},x.prototype.imul=function(u){return this.clone().mulTo(u,this)},x.prototype.imuln=function(u){O("number"==typeof u),O(u<67108864);for(var h=0,g=0;g<this.length;g++){var w=(0|this.words[g])*u,T=(67108863&w)+(67108863&h);h>>=26,h+=w/67108864|0,h+=T>>>26,this.words[g]=67108863&T}return 0!==h&&(this.words[g]=h,this.length++),this},x.prototype.muln=function(u){return this.clone().imuln(u)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(u){var h=function V(P){for(var u=new Array(P.bitLength()),h=0;h<u.length;h++){var w=h%26;u[h]=(P.words[h/26|0]&1<<w)>>>w}return u}(u);if(0===h.length)return new x(1);for(var g=this,w=0;w<h.length&&0===h[w];w++,g=g.sqr());if(++w<h.length)for(var T=g.sqr();w<h.length;w++,T=T.sqr())0!==h[w]&&(g=g.mul(T));return g},x.prototype.iushln=function(u){O("number"==typeof u&&u>=0);var T,h=u%26,g=(u-h)/26,w=67108863>>>26-h<<26-h;if(0!==h){var C=0;for(T=0;T<this.length;T++){var j=this.words[T]&w;this.words[T]=(0|this.words[T])-j<<h|C,C=j>>>26-h}C&&(this.words[T]=C,this.length++)}if(0!==g){for(T=this.length-1;T>=0;T--)this.words[T+g]=this.words[T];for(T=0;T<g;T++)this.words[T]=0;this.length+=g}return this.strip()},x.prototype.ishln=function(u){return O(0===this.negative),this.iushln(u)},x.prototype.iushrn=function(u,h,g){var w;O("number"==typeof u&&u>=0),w=h?(h-h%26)/26:0;var T=u%26,C=Math.min((u-T)/26,this.length),j=67108863^67108863>>>T<<T,M=g;if(w-=C,w=Math.max(0,w),M){for(var d=0;d<C;d++)M.words[d]=this.words[d];M.length=C}if(0!==C)if(this.length>C)for(this.length-=C,d=0;d<this.length;d++)this.words[d]=this.words[d+C];else this.words[0]=0,this.length=1;var v=0;for(d=this.length-1;d>=0&&(0!==v||d>=w);d--){var W=0|this.words[d];this.words[d]=v<<26-T|W>>>T,v=W&j}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(u,h,g){return O(0===this.negative),this.iushrn(u,h,g)},x.prototype.shln=function(u){return this.clone().ishln(u)},x.prototype.ushln=function(u){return this.clone().iushln(u)},x.prototype.shrn=function(u){return this.clone().ishrn(u)},x.prototype.ushrn=function(u){return this.clone().iushrn(u)},x.prototype.testn=function(u){O("number"==typeof u&&u>=0);var h=u%26,g=(u-h)/26;return!(this.length<=g||!(this.words[g]&1<<h))},x.prototype.imaskn=function(u){O("number"==typeof u&&u>=0);var h=u%26,g=(u-h)/26;return O(0===this.negative,"imaskn works only with positive numbers"),this.length<=g?this:(0!==h&&g++,this.length=Math.min(g,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},x.prototype.maskn=function(u){return this.clone().imaskn(u)},x.prototype.iaddn=function(u){return O("number"==typeof u),O(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},x.prototype._iaddn=function(u){this.words[0]+=u;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},x.prototype.isubn=function(u){if(O("number"==typeof u),O(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},x.prototype.addn=function(u){return this.clone().iaddn(u)},x.prototype.subn=function(u){return this.clone().isubn(u)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(u,h,g){var T;this._expand(u.length+g);var C,j=0;for(T=0;T<u.length;T++){C=(0|this.words[T+g])+j;var M=(0|u.words[T])*h;j=((C-=67108863&M)>>26)-(M/67108864|0),this.words[T+g]=67108863&C}for(;T<this.length-g;T++)j=(C=(0|this.words[T+g])+j)>>26,this.words[T+g]=67108863&C;if(0===j)return this.strip();for(O(-1===j),j=0,T=0;T<this.length;T++)j=(C=-(0|this.words[T])+j)>>26,this.words[T]=67108863&C;return this.negative=1,this.strip()},x.prototype._wordDiv=function(u,h){var g,w=this.clone(),T=u,C=0|T.words[T.length-1];0!=(g=26-this._countBits(C))&&(T=T.ushln(g),w.iushln(g),C=0|T.words[T.length-1]);var d,M=w.length-T.length;if("mod"!==h){(d=new x(null)).length=M+1,d.words=new Array(d.length);for(var v=0;v<d.length;v++)d.words[v]=0}var W=w.clone()._ishlnsubmul(T,1,M);0===W.negative&&(w=W,d&&(d.words[M]=1));for(var H=M-1;H>=0;H--){var ee=67108864*(0|w.words[T.length+H])+(0|w.words[T.length+H-1]);for(ee=Math.min(ee/C|0,67108863),w._ishlnsubmul(T,ee,H);0!==w.negative;)ee--,w.negative=0,w._ishlnsubmul(T,1,H),w.isZero()||(w.negative^=1);d&&(d.words[H]=ee)}return d&&d.strip(),w.strip(),"div"!==h&&0!==g&&w.iushrn(g),{div:d||null,mod:w}},x.prototype.divmod=function(u,h,g){return O(!u.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===u.negative?(C=this.neg().divmod(u,h),"mod"!==h&&(w=C.div.neg()),"div"!==h&&(T=C.mod.neg(),g&&0!==T.negative&&T.iadd(u)),{div:w,mod:T}):0===this.negative&&0!==u.negative?(C=this.divmod(u.neg(),h),"mod"!==h&&(w=C.div.neg()),{div:w,mod:C.mod}):this.negative&u.negative?(C=this.neg().divmod(u.neg(),h),"div"!==h&&(T=C.mod.neg(),g&&0!==T.negative&&T.isub(u)),{div:C.div,mod:T}):u.length>this.length||this.cmp(u)<0?{div:new x(0),mod:this}:1===u.length?"div"===h?{div:this.divn(u.words[0]),mod:null}:"mod"===h?{div:null,mod:new x(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new x(this.modn(u.words[0]))}:this._wordDiv(u,h);var w,T,C},x.prototype.div=function(u){return this.divmod(u,"div",!1).div},x.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},x.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},x.prototype.divRound=function(u){var h=this.divmod(u);if(h.mod.isZero())return h.div;var g=0!==h.div.negative?h.mod.isub(u):h.mod,w=u.ushrn(1),T=u.andln(1),C=g.cmp(w);return C<0||1===T&&0===C?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},x.prototype.modn=function(u){O(u<=67108863);for(var h=(1<<26)%u,g=0,w=this.length-1;w>=0;w--)g=(h*g+(0|this.words[w]))%u;return g},x.prototype.idivn=function(u){O(u<=67108863);for(var h=0,g=this.length-1;g>=0;g--){var w=(0|this.words[g])+67108864*h;this.words[g]=w/u|0,h=w%u}return this.strip()},x.prototype.divn=function(u){return this.clone().idivn(u)},x.prototype.egcd=function(u){O(0===u.negative),O(!u.isZero());var h=this,g=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new x(1),T=new x(0),C=new x(0),j=new x(1),M=0;h.isEven()&&g.isEven();)h.iushrn(1),g.iushrn(1),++M;for(var d=g.clone(),v=h.clone();!h.isZero();){for(var W=0,H=1;!(h.words[0]&H)&&W<26;++W,H<<=1);if(W>0)for(h.iushrn(W);W-- >0;)(w.isOdd()||T.isOdd())&&(w.iadd(d),T.isub(v)),w.iushrn(1),T.iushrn(1);for(var ee=0,fe=1;!(g.words[0]&fe)&&ee<26;++ee,fe<<=1);if(ee>0)for(g.iushrn(ee);ee-- >0;)(C.isOdd()||j.isOdd())&&(C.iadd(d),j.isub(v)),C.iushrn(1),j.iushrn(1);h.cmp(g)>=0?(h.isub(g),w.isub(C),T.isub(j)):(g.isub(h),C.isub(w),j.isub(T))}return{a:C,b:j,gcd:g.iushln(M)}},x.prototype._invmp=function(u){O(0===u.negative),O(!u.isZero());var W,h=this,g=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new x(1),T=new x(0),C=g.clone();h.cmpn(1)>0&&g.cmpn(1)>0;){for(var j=0,M=1;!(h.words[0]&M)&&j<26;++j,M<<=1);if(j>0)for(h.iushrn(j);j-- >0;)w.isOdd()&&w.iadd(C),w.iushrn(1);for(var d=0,v=1;!(g.words[0]&v)&&d<26;++d,v<<=1);if(d>0)for(g.iushrn(d);d-- >0;)T.isOdd()&&T.iadd(C),T.iushrn(1);h.cmp(g)>=0?(h.isub(g),w.isub(T)):(g.isub(h),T.isub(w))}return(W=0===h.cmpn(1)?w:T).cmpn(0)<0&&W.iadd(u),W},x.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var h=this.clone(),g=u.clone();h.negative=0,g.negative=0;for(var w=0;h.isEven()&&g.isEven();w++)h.iushrn(1),g.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;g.isEven();)g.iushrn(1);var T=h.cmp(g);if(T<0){var C=h;h=g,g=C}else if(0===T||0===g.cmpn(1))break;h.isub(g)}return g.iushln(w)},x.prototype.invm=function(u){return this.egcd(u).a.umod(u)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(u){return this.words[0]&u},x.prototype.bincn=function(u){O("number"==typeof u);var h=u%26,g=(u-h)/26,w=1<<h;if(this.length<=g)return this._expand(g+1),this.words[g]|=w,this;for(var T=w,C=g;0!==T&&C<this.length;C++){var j=0|this.words[C];T=(j+=T)>>>26,this.words[C]=j&=67108863}return 0!==T&&(this.words[C]=T,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(u){var g,h=u<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)g=1;else{h&&(u=-u),O(u<=67108863,"Number is too big");var w=0|this.words[0];g=w===u?0:w<u?-1:1}return 0!==this.negative?0|-g:g},x.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var h=this.ucmp(u);return 0!==this.negative?0|-h:h},x.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var h=0,g=this.length-1;g>=0;g--){var w=0|this.words[g],T=0|u.words[g];if(w!==T){w<T?h=-1:w>T&&(h=1);break}}return h},x.prototype.gtn=function(u){return 1===this.cmpn(u)},x.prototype.gt=function(u){return 1===this.cmp(u)},x.prototype.gten=function(u){return this.cmpn(u)>=0},x.prototype.gte=function(u){return this.cmp(u)>=0},x.prototype.ltn=function(u){return-1===this.cmpn(u)},x.prototype.lt=function(u){return-1===this.cmp(u)},x.prototype.lten=function(u){return this.cmpn(u)<=0},x.prototype.lte=function(u){return this.cmp(u)<=0},x.prototype.eqn=function(u){return 0===this.cmpn(u)},x.prototype.eq=function(u){return 0===this.cmp(u)},x.red=function(u){return new _e(u)},x.prototype.toRed=function(u){return O(!this.red,"Already a number in reduction context"),O(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},x.prototype.fromRed=function(){return O(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(u){return this.red=u,this},x.prototype.forceRed=function(u){return O(!this.red,"Already a number in reduction context"),this._forceRed(u)},x.prototype.redAdd=function(u){return O(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},x.prototype.redIAdd=function(u){return O(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},x.prototype.redSub=function(u){return O(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},x.prototype.redISub=function(u){return O(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},x.prototype.redShl=function(u){return O(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},x.prototype.redMul=function(u){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},x.prototype.redIMul=function(u){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},x.prototype.redSqr=function(){return O(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return O(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return O(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return O(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return O(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(u){return O(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var ne={k256:null,p224:null,p192:null,p25519:null};function se(P,u){this.name=P,this.p=new x(u,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function oe(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ae(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function ve(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _e(P){if("string"==typeof P){var u=x._prime(P);this.m=u.p,this.prime=u}else O(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}function De(P){_e.call(this,P),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se.prototype._tmp=function(){var u=new x(null);return u.words=new Array(Math.ceil(this.n/13)),u},se.prototype.ireduce=function(u){var g,h=u;do{this.split(h,this.tmp),g=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(g>this.n);var w=g<this.n?-1:h.ucmp(this.p);return 0===w?(h.words[0]=0,h.length=1):w>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},se.prototype.split=function(u,h){u.iushrn(this.n,0,h)},se.prototype.imulK=function(u){return u.imul(this.k)},G(oe,se),oe.prototype.split=function(u,h){for(var g=4194303,w=Math.min(u.length,9),T=0;T<w;T++)h.words[T]=u.words[T];if(h.length=w,u.length<=9)return u.words[0]=0,void(u.length=1);var C=u.words[9];for(h.words[h.length++]=C&g,T=10;T<u.length;T++){var j=0|u.words[T];u.words[T-10]=(j&g)<<4|C>>>22,C=j}u.words[T-10]=C>>>=22,u.length-=0===C&&u.length>10?10:9},oe.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var h=0,g=0;g<u.length;g++){var w=0|u.words[g];u.words[g]=67108863&(h+=977*w),h=64*w+(h/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},G(ue,se),G(ae,se),G(ve,se),ve.prototype.imulK=function(u){for(var h=0,g=0;g<u.length;g++){var w=19*(0|u.words[g])+h,T=67108863&w;w>>>=26,u.words[g]=T,h=w}return 0!==h&&(u.words[u.length++]=h),u},x._prime=function(u){if(ne[u])return ne[u];var h;if("k256"===u)h=new oe;else if("p224"===u)h=new ue;else if("p192"===u)h=new ae;else{if("p25519"!==u)throw new Error("Unknown prime "+u);h=new ve}return ne[u]=h,h},_e.prototype._verify1=function(u){O(0===u.negative,"red works only with positives"),O(u.red,"red works only with red numbers")},_e.prototype._verify2=function(u,h){O(!(u.negative|h.negative),"red works only with positives"),O(u.red&&u.red===h.red,"red works only with red numbers")},_e.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},_e.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},_e.prototype.add=function(u,h){this._verify2(u,h);var g=u.add(h);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},_e.prototype.iadd=function(u,h){this._verify2(u,h);var g=u.iadd(h);return g.cmp(this.m)>=0&&g.isub(this.m),g},_e.prototype.sub=function(u,h){this._verify2(u,h);var g=u.sub(h);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},_e.prototype.isub=function(u,h){this._verify2(u,h);var g=u.isub(h);return g.cmpn(0)<0&&g.iadd(this.m),g},_e.prototype.shl=function(u,h){return this._verify1(u),this.imod(u.ushln(h))},_e.prototype.imul=function(u,h){return this._verify2(u,h),this.imod(u.imul(h))},_e.prototype.mul=function(u,h){return this._verify2(u,h),this.imod(u.mul(h))},_e.prototype.isqr=function(u){return this.imul(u,u.clone())},_e.prototype.sqr=function(u){return this.mul(u,u)},_e.prototype.sqrt=function(u){if(u.isZero())return u.clone();var h=this.m.andln(3);if(O(h%2==1),3===h){var g=this.m.add(new x(1)).iushrn(2);return this.pow(u,g)}for(var w=this.m.subn(1),T=0;!w.isZero()&&0===w.andln(1);)T++,w.iushrn(1);O(!w.isZero());var C=new x(1).toRed(this),j=C.redNeg(),M=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new x(2*d*d).toRed(this);0!==this.pow(d,M).cmp(j);)d.redIAdd(j);for(var v=this.pow(d,w),W=this.pow(u,w.addn(1).iushrn(1)),H=this.pow(u,w),ee=T;0!==H.cmp(C);){for(var fe=H,Ae=0;0!==fe.cmp(C);Ae++)fe=fe.redSqr();O(Ae<ee);var Pe=this.pow(v,new x(1).iushln(ee-Ae-1));W=W.redMul(Pe),v=Pe.redSqr(),H=H.redMul(v),ee=Ae}return W},_e.prototype.invm=function(u){var h=u._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},_e.prototype.pow=function(u,h){if(h.isZero())return new x(1).toRed(this);if(0===h.cmpn(1))return u.clone();var w=new Array(16);w[0]=new x(1).toRed(this),w[1]=u;for(var T=2;T<w.length;T++)w[T]=this.mul(w[T-1],u);var C=w[0],j=0,M=0,d=h.bitLength()%26;for(0===d&&(d=26),T=h.length-1;T>=0;T--){for(var v=h.words[T],W=d-1;W>=0;W--){var H=v>>W&1;C!==w[0]&&(C=this.sqr(C)),0!==H||0!==j?(j<<=1,j|=H,(4==++M||0===T&&0===W)&&(C=this.mul(C,w[j]),M=0,j=0)):M=0}d=26}return C},_e.prototype.convertTo=function(u){var h=u.umod(this.m);return h===u?h.clone():h},_e.prototype.convertFrom=function(u){var h=u.clone();return h.red=null,h},x.mont=function(u){return new De(u)},G(De,_e),De.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},De.prototype.convertFrom=function(u){var h=this.imod(u.mul(this.rinv));return h.red=null,h},De.prototype.imul=function(u,h){if(u.isZero()||h.isZero())return u.words[0]=0,u.length=1,u;var g=u.imul(h),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=g.isub(w).iushrn(this.shift),C=T;return T.cmp(this.m)>=0?C=T.isub(this.m):T.cmpn(0)<0&&(C=T.iadd(this.m)),C._forceRed(this)},De.prototype.mul=function(u,h){if(u.isZero()||h.isZero())return new x(0)._forceRed(this);var g=u.mul(h),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=g.isub(w).iushrn(this.shift),C=T;return T.cmp(this.m)>=0?C=T.isub(this.m):T.cmpn(0)<0&&(C=T.iadd(this.m)),C._forceRed(this)},De.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Be=E.nmd(Be),this)},39210:Be=>{function z(E,p){if(!E)throw new Error(p||"Assertion failed")}Be.exports=z,z.equal=function(p,S,O){if(p!=S)throw new Error(O||"Assertion failed: "+p+" != "+S)}},21832:(Be,z)=>{"use strict";var E=z;function S(G){return 1===G.length?"0"+G:G}function O(G){for(var x="",B=0;B<G.length;B++)x+=S(G[B].toString(16));return x}E.toArray=function p(G,x){if(Array.isArray(G))return G.slice();if(!G)return[];var B=[];if("string"!=typeof G){for(var A=0;A<G.length;A++)B[A]=0|G[A];return B}if("hex"===x)for((G=G.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(G="0"+G),A=0;A<G.length;A+=2)B.push(parseInt(G[A]+G[A+1],16));else for(A=0;A<G.length;A++){var N=G.charCodeAt(A),$=N>>8,K=255&N;$?B.push($,K):B.push(K)}return B},E.zero2=S,E.toHex=O,E.encode=function(x,B){return"hex"===B?O(x):x}},61747:Be=>{"use strict";Be.exports=class extends Error{constructor(E,p){super(E||""),"object"==typeof p&&null!==p&&(p.code&&(this.code=String(p.code)),p.expected&&(this.expected=!0),p.transient&&(this.transient=!0),p.cause&&(this.cause=p.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},13026:(Be,z,E)=>{Be.exports=E(3116)},3116:function(Be,z){!function(E,p){"use strict";var S={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function O(V){if(!Array.isArray(V)&&!ArrayBuffer.isView(V))return!1;for(var Z=0;Z<V.length;Z++)if(!Number.isInteger(V[Z])||V[Z]<0||V[Z]>255)return!1;return!0}function G(V,Z){return(65535&V)*Z+(((V>>>16)*Z&65535)<<16)}function x(V,Z){return V<<Z|V>>>32-Z}function B(V){return V=G(V^=V>>>16,2246822507),(V=G(V^=V>>>13,3266489909))^V>>>16}function A(V,Z){var Q=[0,0,0,0];return Q[3]+=(V=[V[0]>>>16,65535&V[0],V[1]>>>16,65535&V[1]])[3]+(Z=[Z[0]>>>16,65535&Z[0],Z[1]>>>16,65535&Z[1]])[3],Q[2]+=Q[3]>>>16,Q[3]&=65535,Q[2]+=V[2]+Z[2],Q[1]+=Q[2]>>>16,Q[2]&=65535,Q[1]+=V[1]+Z[1],Q[0]+=Q[1]>>>16,Q[1]&=65535,Q[0]+=V[0]+Z[0],Q[0]&=65535,[Q[0]<<16|Q[1],Q[2]<<16|Q[3]]}function N(V,Z){var Q=[0,0,0,0];return Q[3]+=(V=[V[0]>>>16,65535&V[0],V[1]>>>16,65535&V[1]])[3]*(Z=[Z[0]>>>16,65535&Z[0],Z[1]>>>16,65535&Z[1]])[3],Q[2]+=Q[3]>>>16,Q[3]&=65535,Q[2]+=V[2]*Z[3],Q[1]+=Q[2]>>>16,Q[2]&=65535,Q[2]+=V[3]*Z[2],Q[1]+=Q[2]>>>16,Q[2]&=65535,Q[1]+=V[1]*Z[3],Q[0]+=Q[1]>>>16,Q[1]&=65535,Q[1]+=V[2]*Z[2],Q[0]+=Q[1]>>>16,Q[1]&=65535,Q[1]+=V[3]*Z[1],Q[0]+=Q[1]>>>16,Q[1]&=65535,Q[0]+=V[0]*Z[3]+V[1]*Z[2]+V[2]*Z[1]+V[3]*Z[0],Q[0]&=65535,[Q[0]<<16|Q[1],Q[2]<<16|Q[3]]}function $(V,Z){return 32==(Z%=64)?[V[1],V[0]]:Z<32?[V[0]<<Z|V[1]>>>32-Z,V[1]<<Z|V[0]>>>32-Z]:[V[1]<<(Z-=32)|V[0]>>>32-Z,V[0]<<Z|V[1]>>>32-Z]}function K(V,Z){return 0==(Z%=64)?V:Z<32?[V[0]<<Z|V[1]>>>32-Z,V[1]<<Z]:[V[1]<<Z-32,0]}function D(V,Z){return[V[0]^Z[0],V[1]^Z[1]]}function X(V){return V=D(V,[0,V[0]>>>1]),V=D(V=N(V,[4283543511,3981806797]),[0,V[0]>>>1]),D(V=N(V,[3301882366,444984403]),[0,V[0]>>>1])}S.x86.hash32=function(V,Z){if(S.inputValidation&&!O(V))return p;for(var Q=V.length%4,te=V.length-Q,J=Z=Z||0,q=0,ne=3432918353,se=461845907,oe=0;oe<te;oe+=4)q=G(q=V[oe]|V[oe+1]<<8|V[oe+2]<<16|V[oe+3]<<24,ne),q=G(q=x(q,15),se),J=G(J=x(J^=q,13),5)+3864292196;switch(q=0,Q){case 3:q^=V[oe+2]<<16;case 2:q^=V[oe+1]<<8;case 1:q=G(q^=V[oe],ne),J^=q=G(q=x(q,15),se)}return(J=B(J^=V.length))>>>0},S.x86.hash128=function(V,Z){if(S.inputValidation&&!O(V))return p;for(var Q=V.length%16,te=V.length-Q,J=Z=Z||0,q=Z,ne=Z,se=Z,oe=0,ue=0,ae=0,ve=0,_e=597399067,De=2869860233,P=951274213,u=2716044179,h=0;h<te;h+=16)ue=V[h+4]|V[h+5]<<8|V[h+6]<<16|V[h+7]<<24,ae=V[h+8]|V[h+9]<<8|V[h+10]<<16|V[h+11]<<24,ve=V[h+12]|V[h+13]<<8|V[h+14]<<16|V[h+15]<<24,oe=x(oe=G(oe=V[h]|V[h+1]<<8|V[h+2]<<16|V[h+3]<<24,_e),15),J=x(J^=oe=G(oe,De),19),J=G(J+=q,5)+1444728091,ue=x(ue=G(ue,De),16),q=x(q^=ue=G(ue,P),17),q=G(q+=ne,5)+197830471,ae=x(ae=G(ae,P),17),ne=x(ne^=ae=G(ae,u),15),ne=G(ne+=se,5)+2530024501,ve=x(ve=G(ve,u),18),se=x(se^=ve=G(ve,_e),13),se=G(se+=J,5)+850148119;switch(oe=0,ue=0,ae=0,ve=0,Q){case 15:ve^=V[h+14]<<16;case 14:ve^=V[h+13]<<8;case 13:ve=G(ve^=V[h+12],u),se^=ve=G(ve=x(ve,18),_e);case 12:ae^=V[h+11]<<24;case 11:ae^=V[h+10]<<16;case 10:ae^=V[h+9]<<8;case 9:ae=G(ae^=V[h+8],P),ne^=ae=G(ae=x(ae,17),u);case 8:ue^=V[h+7]<<24;case 7:ue^=V[h+6]<<16;case 6:ue^=V[h+5]<<8;case 5:ue=G(ue^=V[h+4],De),q^=ue=G(ue=x(ue,16),P);case 4:oe^=V[h+3]<<24;case 3:oe^=V[h+2]<<16;case 2:oe^=V[h+1]<<8;case 1:oe=G(oe^=V[h],_e),J^=oe=G(oe=x(oe,15),De)}return J^=V.length,J+=q^=V.length,J+=ne^=V.length,q+=J+=se^=V.length,ne+=J,se+=J,J=B(J),J+=q=B(q),J+=ne=B(ne),q+=J+=se=B(se),ne+=J,se+=J,("00000000"+(J>>>0).toString(16)).slice(-8)+("00000000"+(q>>>0).toString(16)).slice(-8)+("00000000"+(ne>>>0).toString(16)).slice(-8)+("00000000"+(se>>>0).toString(16)).slice(-8)},S.x64.hash128=function(V,Z){if(S.inputValidation&&!O(V))return p;for(var Q=V.length%16,te=V.length-Q,J=[0,Z=Z||0],q=[0,Z],ne=[0,0],se=[0,0],oe=[2277735313,289559509],ue=[1291169091,658871167],ae=0;ae<te;ae+=16)se=[V[ae+12]|V[ae+13]<<8|V[ae+14]<<16|V[ae+15]<<24,V[ae+8]|V[ae+9]<<8|V[ae+10]<<16|V[ae+11]<<24],ne=$(ne=N(ne=[V[ae+4]|V[ae+5]<<8|V[ae+6]<<16|V[ae+7]<<24,V[ae]|V[ae+1]<<8|V[ae+2]<<16|V[ae+3]<<24],oe),31),J=A(J=$(J=D(J,ne=N(ne,ue)),27),q),J=A(N(J,[0,5]),[0,1390208809]),se=$(se=N(se,ue),33),q=A(q=$(q=D(q,se=N(se,oe)),31),J),q=A(N(q,[0,5]),[0,944331445]);switch(ne=[0,0],se=[0,0],Q){case 15:se=D(se,K([0,V[ae+14]],48));case 14:se=D(se,K([0,V[ae+13]],40));case 13:se=D(se,K([0,V[ae+12]],32));case 12:se=D(se,K([0,V[ae+11]],24));case 11:se=D(se,K([0,V[ae+10]],16));case 10:se=D(se,K([0,V[ae+9]],8));case 9:se=N(se=D(se,[0,V[ae+8]]),ue),q=D(q,se=N(se=$(se,33),oe));case 8:ne=D(ne,K([0,V[ae+7]],56));case 7:ne=D(ne,K([0,V[ae+6]],48));case 6:ne=D(ne,K([0,V[ae+5]],40));case 5:ne=D(ne,K([0,V[ae+4]],32));case 4:ne=D(ne,K([0,V[ae+3]],24));case 3:ne=D(ne,K([0,V[ae+2]],16));case 2:ne=D(ne,K([0,V[ae+1]],8));case 1:ne=N(ne=D(ne,[0,V[ae]]),oe),J=D(J,ne=N(ne=$(ne,31),ue))}return J=A(J=D(J,[0,V.length]),q=D(q,[0,V.length])),q=A(q,J),J=A(J=X(J),q=X(q)),q=A(q,J),("00000000"+(J[0]>>>0).toString(16)).slice(-8)+("00000000"+(J[1]>>>0).toString(16)).slice(-8)+("00000000"+(q[0]>>>0).toString(16)).slice(-8)+("00000000"+(q[1]>>>0).toString(16)).slice(-8)},Be.exports&&(z=Be.exports=S),z.murmurHash3=S}()},50233:Be=>{"use strict";var z=Object.prototype.hasOwnProperty,E="~";function p(){}function S(B,A,N){this.fn=B,this.context=A,this.once=N||!1}function O(B,A,N,$,K){if("function"!=typeof N)throw new TypeError("The listener must be a function");var D=new S(N,$||B,K),X=E?E+A:A;return B._events[X]?B._events[X].fn?B._events[X]=[B._events[X],D]:B._events[X].push(D):(B._events[X]=D,B._eventsCount++),B}function G(B,A){0==--B._eventsCount?B._events=new p:delete B._events[A]}function x(){this._events=new p,this._eventsCount=0}Object.create&&(p.prototype=Object.create(null),(new p).__proto__||(E=!1)),x.prototype.eventNames=function(){var N,$,A=[];if(0===this._eventsCount)return A;for($ in N=this._events)z.call(N,$)&&A.push(E?$.slice(1):$);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(N)):A},x.prototype.listeners=function(A){var $=this._events[E?E+A:A];if(!$)return[];if($.fn)return[$.fn];for(var K=0,D=$.length,X=new Array(D);K<D;K++)X[K]=$[K].fn;return X},x.prototype.listenerCount=function(A){var $=this._events[E?E+A:A];return $?$.fn?1:$.length:0},x.prototype.emit=function(A,N,$,K,D,X){var V=E?E+A:A;if(!this._events[V])return!1;var te,J,Z=this._events[V],Q=arguments.length;if(Z.fn){switch(Z.once&&this.removeListener(A,Z.fn,void 0,!0),Q){case 1:return Z.fn.call(Z.context),!0;case 2:return Z.fn.call(Z.context,N),!0;case 3:return Z.fn.call(Z.context,N,$),!0;case 4:return Z.fn.call(Z.context,N,$,K),!0;case 5:return Z.fn.call(Z.context,N,$,K,D),!0;case 6:return Z.fn.call(Z.context,N,$,K,D,X),!0}for(J=1,te=new Array(Q-1);J<Q;J++)te[J-1]=arguments[J];Z.fn.apply(Z.context,te)}else{var ne,q=Z.length;for(J=0;J<q;J++)switch(Z[J].once&&this.removeListener(A,Z[J].fn,void 0,!0),Q){case 1:Z[J].fn.call(Z[J].context);break;case 2:Z[J].fn.call(Z[J].context,N);break;case 3:Z[J].fn.call(Z[J].context,N,$);break;case 4:Z[J].fn.call(Z[J].context,N,$,K);break;default:if(!te)for(ne=1,te=new Array(Q-1);ne<Q;ne++)te[ne-1]=arguments[ne];Z[J].fn.apply(Z[J].context,te)}}return!0},x.prototype.on=function(A,N,$){return O(this,A,N,$,!1)},x.prototype.once=function(A,N,$){return O(this,A,N,$,!0)},x.prototype.removeListener=function(A,N,$,K){var D=E?E+A:A;if(!this._events[D])return this;if(!N)return G(this,D),this;var X=this._events[D];if(X.fn)X.fn===N&&(!K||X.once)&&(!$||X.context===$)&&G(this,D);else{for(var V=0,Z=[],Q=X.length;V<Q;V++)(X[V].fn!==N||K&&!X[V].once||$&&X[V].context!==$)&&Z.push(X[V]);Z.length?this._events[D]=1===Z.length?Z[0]:Z:G(this,D)}return this},x.prototype.removeAllListeners=function(A){var N;return A?this._events[N=E?E+A:A]&&G(this,N):(this._events=new p,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=E,x.EventEmitter=x,Be.exports=x},83138:(Be,z,E)=>{"use strict";var p=E(49609);z.certificate=E(94772);var S=p.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});z.RSAPrivateKey=S;var O=p.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});z.RSAPublicKey=O;var G=p.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),x=p.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(G),this.key("subjectPublicKey").bitstr())});z.PublicKey=x;var B=p.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(G),this.key("subjectPrivateKey").octstr())});z.PrivateKey=B;var A=p.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});z.EncryptedPrivateKey=A;var N=p.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});z.DSAPrivateKey=N,z.DSAparam=p.define("DSAparam",function(){this.int()});var $=p.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),K=p.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use($),this.key("publicKey").optional().explicit(1).bitstr())});z.ECPrivateKey=K,z.signature=p.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},94772:(Be,z,E)=>{"use strict";var p=E(49609),S=p.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),O=p.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),G=p.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),x=p.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(G),this.key("subjectPublicKey").bitstr())}),B=p.define("RelativeDistinguishedName",function(){this.setof(O)}),A=p.define("RDNSequence",function(){this.seqof(B)}),N=p.define("Name",function(){this.choice({rdnSequence:this.use(A)})}),$=p.define("Validity",function(){this.seq().obj(this.key("notBefore").use(S),this.key("notAfter").use(S))}),K=p.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),D=p.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(G),this.key("issuer").use(N),this.key("validity").use($),this.key("subject").use(N),this.key("subjectPublicKeyInfo").use(x),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(K).optional())}),X=p.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(D),this.key("signatureAlgorithm").use(G),this.key("signatureValue").bitstr())});Be.exports=X},89472:(Be,z,E)=>{"use strict";var p=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,S=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,O=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,G=E(18211),x=E(43388),B=E(27054).Buffer;Be.exports=function(A,N){var D,$=A.toString(),K=$.match(p);if(K){var V="aes"+K[1],Z=B.from(K[2],"hex"),Q=B.from(K[3].replace(/[\r\n]/g,""),"base64"),te=G(N,Z.slice(0,8),parseInt(K[1],10)).key,J=[],q=x.createDecipheriv(V,te,Z);J.push(q.update(Q)),J.push(q.final()),D=B.concat(J)}else{var X=$.match(O);D=B.from(X[2].replace(/[\r\n]/g,""),"base64")}return{tag:$.match(S)[1],data:D}}},65667:(Be,z,E)=>{"use strict";var p=E(83138),S=E(15579),O=E(89472),G=E(43388),x=E(93397),B=E(27054).Buffer;function N($){var K;"object"==typeof $&&!B.isBuffer($)&&(K=$.passphrase,$=$.key),"string"==typeof $&&($=B.from($));var Z,Q,D=O($,K),X=D.tag,V=D.data;switch(X){case"CERTIFICATE":Q=p.certificate.decode(V,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(Q||(Q=p.PublicKey.decode(V,"der")),Z=Q.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return p.RSAPublicKey.decode(Q.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return Q.subjectPrivateKey=Q.subjectPublicKey,{type:"ec",data:Q};case"1.2.840.10040.4.1":return Q.algorithm.params.pub_key=p.DSAparam.decode(Q.subjectPublicKey.data,"der"),{type:"dsa",data:Q.algorithm.params};default:throw new Error("unknown key id "+Z)}case"ENCRYPTED PRIVATE KEY":V=function A($,K){var D=$.algorithm.decrypt.kde.kdeparams.salt,X=parseInt($.algorithm.decrypt.kde.kdeparams.iters.toString(),10),V=S[$.algorithm.decrypt.cipher.algo.join(".")],Z=$.algorithm.decrypt.cipher.iv,Q=$.subjectPrivateKey,te=parseInt(V.split("-")[1],10)/8,J=x.pbkdf2Sync(K,D,X,te,"sha1"),q=G.createDecipheriv(V,J,Z),ne=[];return ne.push(q.update(Q)),ne.push(q.final()),B.concat(ne)}(V=p.EncryptedPrivateKey.decode(V,"der"),K);case"PRIVATE KEY":switch(Z=(Q=p.PrivateKey.decode(V,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return p.RSAPrivateKey.decode(Q.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:Q.algorithm.curve,privateKey:p.ECPrivateKey.decode(Q.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return Q.algorithm.params.priv_key=p.DSAparam.decode(Q.subjectPrivateKey,"der"),{type:"dsa",params:Q.algorithm.params};default:throw new Error("unknown key id "+Z)}case"RSA PUBLIC KEY":return p.RSAPublicKey.decode(V,"der");case"RSA PRIVATE KEY":return p.RSAPrivateKey.decode(V,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:p.DSAPrivateKey.decode(V,"der")};case"EC PRIVATE KEY":return{curve:(V=p.ECPrivateKey.decode(V,"der")).parameters.value,privateKey:V.privateKey};default:throw new Error("unknown key type "+X)}}N.signature=p.signature,Be.exports=N},93397:(Be,z,E)=>{z.pbkdf2=E(82685),z.pbkdf2Sync=E(59111)},82685:(Be,z,E)=>{var B,D,p=E(27054).Buffer,S=E(86111),O=E(45392),G=E(59111),x=E(76643),A=globalThis.crypto&&globalThis.crypto.subtle,N={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},$=[];function X(){return D||(D=globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.queueMicrotask?globalThis.queueMicrotask:globalThis.setImmediate?globalThis.setImmediate:globalThis.setTimeout)}function V(Q,te,J,q,ne){return A.importKey("raw",Q,{name:"PBKDF2"},!1,["deriveBits"]).then(function(se){return A.deriveBits({name:"PBKDF2",salt:te,iterations:J,hash:{name:ne}},se,q<<3)}).then(function(se){return p.from(se)})}Be.exports=function(Q,te,J,q,ne,se){"function"==typeof ne&&(se=ne,ne=void 0);var oe=N[(ne=ne||"sha1").toLowerCase()];if(oe&&"function"==typeof globalThis.Promise){if(S(J,q),Q=x(Q,O,"Password"),te=x(te,O,"Salt"),"function"!=typeof se)throw new Error("No callback provided to pbkdf2");!function Z(Q,te){Q.then(function(J){X()(function(){te(null,J)})},function(J){X()(function(){te(J)})})}(function K(Q){if(globalThis.process&&!globalThis.process.browser||!A||!A.importKey||!A.deriveBits)return Promise.resolve(!1);if(void 0!==$[Q])return $[Q];var te=V(B=B||p.alloc(8),B,10,128,Q).then(function(){return!0}).catch(function(){return!1});return $[Q]=te,te}(oe).then(function(ue){return ue?V(Q,te,J,q,oe):G(Q,te,J,q,ne)}),se)}else X()(function(){var ue;try{ue=G(Q,te,J,q,ne)}catch(ae){return se(ae)}se(null,ue)})}},45392:(Be,z,E)=>{var S,p=E(40573);S=globalThis.process&&globalThis.process.browser?"utf-8":globalThis.process&&globalThis.process.version?parseInt(p.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",Be.exports=S},86111:Be=>{var z=Math.pow(2,30)-1;Be.exports=function(E,p){if("number"!=typeof E)throw new TypeError("Iterations not a number");if(E<0)throw new TypeError("Bad iterations");if("number"!=typeof p)throw new TypeError("Key length not a number");if(p<0||p>z||p!=p)throw new TypeError("Bad key length")}},59111:(Be,z,E)=>{var p=E(83407),S=E(36636),O=E(25443),G=E(27054).Buffer,x=E(86111),B=E(45392),A=E(76643),N=G.alloc(128),$={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function K(V,Z,Q){var te=function D(V){return"rmd160"===V||"ripemd160"===V?function Q(te){return(new S).update(te).digest()}:"md5"===V?p:function Z(te){return O(V).update(te).digest()}}(V),J="sha512"===V||"sha384"===V?128:64;Z.length>J?Z=te(Z):Z.length<J&&(Z=G.concat([Z,N],J));for(var q=G.allocUnsafe(J+$[V]),ne=G.allocUnsafe(J+$[V]),se=0;se<J;se++)q[se]=54^Z[se],ne[se]=92^Z[se];var oe=G.allocUnsafe(J+Q+4);q.copy(oe,0,0,J),this.ipad1=oe,this.ipad2=q,this.opad=ne,this.alg=V,this.blocksize=J,this.hash=te,this.size=$[V]}K.prototype.run=function(V,Z){return V.copy(Z,this.blocksize),this.hash(Z).copy(this.opad,this.blocksize),this.hash(this.opad)},Be.exports=function X(V,Z,Q,te,J){x(Q,te);var q=new K(J=J||"sha1",V=A(V,B,"Password"),(Z=A(Z,B,"Salt")).length),ne=G.allocUnsafe(te),se=G.allocUnsafe(Z.length+4);Z.copy(se,0,0,Z.length);for(var oe=0,ue=$[J],ae=Math.ceil(te/ue),ve=1;ve<=ae;ve++){se.writeUInt32BE(ve,Z.length);for(var _e=q.run(se,q.ipad1),De=_e,P=1;P<Q;P++){De=q.run(De,q.ipad2);for(var u=0;u<ue;u++)_e[u]^=De[u]}_e.copy(ne,oe),oe+=ue}return ne}},76643:(Be,z,E)=>{var p=E(27054).Buffer;Be.exports=function(S,O,G){if(p.isBuffer(S))return S;if("string"==typeof S)return p.from(S,O);if(ArrayBuffer.isView(S))return p.from(S.buffer);throw new TypeError(G+" must be a string, a Buffer, a typed array or a DataView")}},9656:(Be,z,E)=>{"use strict";var p=E(40573);Be.exports=typeof p>"u"||!p.version||0===p.version.indexOf("v0.")||0===p.version.indexOf("v1.")&&0!==p.version.indexOf("v1.8.")?{nextTick:function S(O,G,x,B){if("function"!=typeof O)throw new TypeError('"callback" argument must be a function');var N,$,A=arguments.length;switch(A){case 0:case 1:return p.nextTick(O);case 2:return p.nextTick(function(){O.call(null,G)});case 3:return p.nextTick(function(){O.call(null,G,x)});case 4:return p.nextTick(function(){O.call(null,G,x,B)});default:for(N=new Array(A-1),$=0;$<N.length;)N[$++]=arguments[$];return p.nextTick(function(){O.apply(null,N)})}}}:p},40573:Be=>{var E,p,z=Be.exports={};function S(){throw new Error("setTimeout has not been defined")}function O(){throw new Error("clearTimeout has not been defined")}function G(Z){if(E===setTimeout)return setTimeout(Z,0);if((E===S||!E)&&setTimeout)return E=setTimeout,setTimeout(Z,0);try{return E(Z,0)}catch{try{return E.call(null,Z,0)}catch{return E.call(this,Z,0)}}}!function(){try{E="function"==typeof setTimeout?setTimeout:S}catch{E=S}try{p="function"==typeof clearTimeout?clearTimeout:O}catch{p=O}}();var N,B=[],A=!1,$=-1;function K(){!A||!N||(A=!1,N.length?B=N.concat(B):$=-1,B.length&&D())}function D(){if(!A){var Z=G(K);A=!0;for(var Q=B.length;Q;){for(N=B,B=[];++$<Q;)N&&N[$].run();$=-1,Q=B.length}N=null,A=!1,function x(Z){if(p===clearTimeout)return clearTimeout(Z);if((p===O||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(Z);try{return p(Z)}catch{try{return p.call(null,Z)}catch{return p.call(this,Z)}}}(Z)}}function X(Z,Q){this.fun=Z,this.array=Q}function V(){}z.nextTick=function(Z){var Q=new Array(arguments.length-1);if(arguments.length>1)for(var te=1;te<arguments.length;te++)Q[te-1]=arguments[te];B.push(new X(Z,Q)),1===B.length&&!A&&G(D)},X.prototype.run=function(){this.fun.apply(null,this.array)},z.title="browser",z.browser=!0,z.env={},z.argv=[],z.version="",z.versions={},z.on=V,z.addListener=V,z.once=V,z.off=V,z.removeListener=V,z.removeAllListeners=V,z.emit=V,z.prependListener=V,z.prependOnceListener=V,z.listeners=function(Z){return[]},z.binding=function(Z){throw new Error("process.binding is not supported")},z.cwd=function(){return"/"},z.chdir=function(Z){throw new Error("process.chdir is not supported")},z.umask=function(){return 0}},52965:(Be,z,E)=>{z.publicEncrypt=E(87267),z.privateDecrypt=E(98613),z.privateEncrypt=function(S,O){return z.publicEncrypt(S,O,!0)},z.publicDecrypt=function(S,O){return z.privateDecrypt(S,O,!0)}},30715:(Be,z,E)=>{var p=E(67211),S=E(27054).Buffer;function O(G){var x=S.allocUnsafe(4);return x.writeUInt32BE(G,0),x}Be.exports=function(G,x){for(var N,B=S.alloc(0),A=0;B.length<x;)N=O(A++),B=S.concat([B,p("sha1").update(G).update(N).digest()]);return B.slice(0,x)}},16508:function(Be,z,E){!function(p,S){"use strict";function O(P,u){if(!P)throw new Error(u||"Assertion failed")}function G(P,u){P.super_=u;var h=function(){};h.prototype=u.prototype,P.prototype=new h,P.prototype.constructor=P}function x(P,u,h){if(x.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,null!==P&&(("le"===u||"be"===u)&&(h=u,u=10),this._init(P||0,u||10,h||"be"))}var B;"object"==typeof p?p.exports=x:S.BN=x,x.BN=x,x.wordSize=26;try{B=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(51069).Buffer}catch{}function A(P,u){var h=P.charCodeAt(u);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(P,u,h){var g=A(P,h);return h-1>=u&&(g|=A(P,h-1)<<4),g}function $(P,u,h,g){for(var w=0,T=Math.min(P.length,h),C=u;C<T;C++){var j=P.charCodeAt(C)-48;w*=g,w+=j>=49?j-49+10:j>=17?j-17+10:j}return w}x.isBN=function(u){return u instanceof x||null!==u&&"object"==typeof u&&u.constructor.wordSize===x.wordSize&&Array.isArray(u.words)},x.max=function(u,h){return u.cmp(h)>0?u:h},x.min=function(u,h){return u.cmp(h)<0?u:h},x.prototype._init=function(u,h,g){if("number"==typeof u)return this._initNumber(u,h,g);if("object"==typeof u)return this._initArray(u,h,g);"hex"===h&&(h=16),O(h===(0|h)&&h>=2&&h<=36);var w=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(w++,this.negative=1),w<u.length&&(16===h?this._parseHex(u,w,g):(this._parseBase(u,h,w),"le"===g&&this._initArray(this.toArray(),h,g)))},x.prototype._initNumber=function(u,h,g){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(O(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===g&&this._initArray(this.toArray(),h,g)},x.prototype._initArray=function(u,h,g){if(O("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var T,C,j=0;if("be"===g)for(w=u.length-1,T=0;w>=0;w-=3)this.words[T]|=(C=u[w]|u[w-1]<<8|u[w-2]<<16)<<j&67108863,this.words[T+1]=C>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);else if("le"===g)for(w=0,T=0;w<u.length;w+=3)this.words[T]|=(C=u[w]|u[w+1]<<8|u[w+2]<<16)<<j&67108863,this.words[T+1]=C>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);return this.strip()},x.prototype._parseHex=function(u,h,g){this.length=Math.ceil((u.length-h)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var j,T=0,C=0;if("be"===g)for(w=u.length-1;w>=h;w-=2)j=N(u,h,w)<<T,this.words[C]|=67108863&j,T>=18?(T-=18,this.words[C+=1]|=j>>>26):T+=8;else for(w=(u.length-h)%2==0?h+1:h;w<u.length;w+=2)j=N(u,h,w)<<T,this.words[C]|=67108863&j,T>=18?(T-=18,this.words[C+=1]|=j>>>26):T+=8;this.strip()},x.prototype._parseBase=function(u,h,g){this.words=[0],this.length=1;for(var w=0,T=1;T<=67108863;T*=h)w++;w--,T=T/h|0;for(var C=u.length-g,j=C%w,M=Math.min(C,C-j)+g,d=0,v=g;v<M;v+=w)d=$(u,v,v+w,h),this.imuln(T),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==j){var W=1;for(d=$(u,v,u.length,h),v=0;v<j;v++)W*=h;this.imuln(W),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},x.prototype.copy=function(u){u.words=new Array(this.length);for(var h=0;h<this.length;h++)u.words[h]=this.words[h];u.length=this.length,u.negative=this.negative,u.red=this.red},x.prototype.clone=function(){var u=new x(null);return this.copy(u),u},x.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},x.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},x.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var K=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Z(P,u,h){h.negative=u.negative^P.negative;var g=P.length+u.length|0;h.length=g,g=g-1|0;var w=0|P.words[0],T=0|u.words[0],C=w*T,M=C/67108864|0;h.words[0]=67108863&C;for(var d=1;d<g;d++){for(var v=M>>>26,W=67108863&M,H=Math.min(d,u.length-1),ee=Math.max(0,d-P.length+1);ee<=H;ee++)v+=(C=(w=0|P.words[d-ee|0])*(T=0|u.words[ee])+W)/67108864|0,W=67108863&C;h.words[d]=0|W,M=0|v}return 0!==M?h.words[d]=0|M:h.length--,h.strip()}x.prototype.toString=function(u,h){var g;if(h=0|h||1,16===(u=u||10)||"hex"===u){g="";for(var w=0,T=0,C=0;C<this.length;C++){var j=this.words[C],M=(16777215&(j<<w|T)).toString(16);g=0!=(T=j>>>24-w&16777215)||C!==this.length-1?K[6-M.length]+M+g:M+g,(w+=2)>=26&&(w-=26,C--)}for(0!==T&&(g=T.toString(16)+g);g.length%h!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}if(u===(0|u)&&u>=2&&u<=36){var d=D[u],v=X[u];g="";var W=this.clone();for(W.negative=0;!W.isZero();){var H=W.modn(v).toString(u);g=(W=W.idivn(v)).isZero()?H+g:K[d-H.length]+H+g}for(this.isZero()&&(g="0"+g);g.length%h!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}O(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&O(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},x.prototype.toJSON=function(){return this.toString(16)},x.prototype.toBuffer=function(u,h){return O(typeof B<"u"),this.toArrayLike(B,u,h)},x.prototype.toArray=function(u,h){return this.toArrayLike(Array,u,h)},x.prototype.toArrayLike=function(u,h,g){var w=this.byteLength(),T=g||Math.max(1,w);O(w<=T,"byte array longer than desired length"),O(T>0,"Requested array length <= 0"),this.strip();var M,d,C="le"===h,j=new u(T),v=this.clone();if(C){for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),j[d]=M;for(;d<T;d++)j[d]=0}else{for(d=0;d<T-w;d++)j[d]=0;for(d=0;!v.isZero();d++)M=v.andln(255),v.iushrn(8),j[T-d-1]=M}return j},x.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var h=u,g=0;return h>=4096&&(g+=13,h>>>=13),h>=64&&(g+=7,h>>>=7),h>=8&&(g+=4,h>>>=4),h>=2&&(g+=2,h>>>=2),g+h},x.prototype._zeroBits=function(u){if(0===u)return 26;var h=u,g=0;return 8191&h||(g+=13,h>>>=13),127&h||(g+=7,h>>>=7),15&h||(g+=4,h>>>=4),3&h||(g+=2,h>>>=2),1&h||g++,g},x.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,h=0;h<this.length;h++){var g=this._zeroBits(this.words[h]);if(u+=g,26!==g)break}return u},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},x.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]|u.words[h];return this.strip()},x.prototype.ior=function(u){return O(!(this.negative|u.negative)),this.iuor(u)},x.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},x.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},x.prototype.iuand=function(u){var h;h=this.length>u.length?u:this;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]&u.words[g];return this.length=h.length,this.strip()},x.prototype.iand=function(u){return O(!(this.negative|u.negative)),this.iuand(u)},x.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},x.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},x.prototype.iuxor=function(u){var h,g;this.length>u.length?(h=this,g=u):(h=u,g=this);for(var w=0;w<g.length;w++)this.words[w]=h.words[w]^g.words[w];if(this!==h)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=h.length,this.strip()},x.prototype.ixor=function(u){return O(!(this.negative|u.negative)),this.iuxor(u)},x.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},x.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},x.prototype.inotn=function(u){O("number"==typeof u&&u>=0);var h=0|Math.ceil(u/26),g=u%26;this._expand(h),g>0&&h--;for(var w=0;w<h;w++)this.words[w]=67108863&~this.words[w];return g>0&&(this.words[w]=~this.words[w]&67108863>>26-g),this.strip()},x.prototype.notn=function(u){return this.clone().inotn(u)},x.prototype.setn=function(u,h){O("number"==typeof u&&u>=0);var g=u/26|0,w=u%26;return this._expand(g+1),this.words[g]=h?this.words[g]|1<<w:this.words[g]&~(1<<w),this.strip()},x.prototype.iadd=function(u){var h,g,w;if(0!==this.negative&&0===u.negative)return this.negative=0,h=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,h=this.isub(u),u.negative=1,h._normSign();this.length>u.length?(g=this,w=u):(g=u,w=this);for(var T=0,C=0;C<w.length;C++)this.words[C]=67108863&(h=(0|g.words[C])+(0|w.words[C])+T),T=h>>>26;for(;0!==T&&C<g.length;C++)this.words[C]=67108863&(h=(0|g.words[C])+T),T=h>>>26;if(this.length=g.length,0!==T)this.words[this.length]=T,this.length++;else if(g!==this)for(;C<g.length;C++)this.words[C]=g.words[C];return this},x.prototype.add=function(u){var h;return 0!==u.negative&&0===this.negative?(u.negative=0,h=this.sub(u),u.negative^=1,h):0===u.negative&&0!==this.negative?(this.negative=0,h=u.sub(this),this.negative=1,h):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},x.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var h=this.iadd(u);return u.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var w,T,g=this.cmp(u);if(0===g)return this.negative=0,this.length=1,this.words[0]=0,this;g>0?(w=this,T=u):(w=u,T=this);for(var C=0,j=0;j<T.length;j++)C=(h=(0|w.words[j])-(0|T.words[j])+C)>>26,this.words[j]=67108863&h;for(;0!==C&&j<w.length;j++)C=(h=(0|w.words[j])+C)>>26,this.words[j]=67108863&h;if(0===C&&j<w.length&&w!==this)for(;j<w.length;j++)this.words[j]=w.words[j];return this.length=Math.max(this.length,j),w!==this&&(this.negative=1),this.strip()},x.prototype.sub=function(u){return this.clone().isub(u)};var Q=function(u,h,g){var M,d,v,w=u.words,T=h.words,C=g.words,j=0,W=0|w[0],H=8191&W,ee=W>>>13,fe=0|w[1],Ae=8191&fe,Pe=fe>>>13,Le=0|w[2],be=8191&Le,ge=Le>>>13,Re=0|w[3],me=8191&Re,xe=Re>>>13,le=0|w[4],he=8191&le,re=le>>>13,de=0|w[5],pe=8191&de,Se=de>>>13,ke=0|w[6],Fe=8191&ke,We=ke>>>13,Tt=0|w[7],Xe=8191&Tt,Ke=Tt>>>13,lt=0|w[8],U=8191&lt,_=lt>>>13,m=0|w[9],F=8191&m,ie=m>>>13,we=0|T[0],Ie=8191&we,Qe=we>>>13,kt=0|T[1],pt=8191&kt,Et=kt>>>13,Lt=0|T[2],qt=8191&Lt,Kt=Lt>>>13,er=0|T[3],cn=8191&er,Ut=er>>>13,Nt=0|T[4],dt=8191&Nt,it=Nt>>>13,Ct=0|T[5],Bt=8191&Ct,Wt=Ct>>>13,Yn=0|T[6],at=8191&Yn,ut=Yn>>>13,ft=0|T[7],et=8191&ft,gt=ft>>>13,un=0|T[8],zt=8191&un,tn=un>>>13,pr=0|T[9],bn=8191&pr,vn=pr>>>13;g.negative=u.negative^h.negative,g.length=19;var Or=(j+(M=Math.imul(H,Ie))|0)+((8191&(d=(d=Math.imul(H,Qe))+Math.imul(ee,Ie)|0))<<13)|0;j=((v=Math.imul(ee,Qe))+(d>>>13)|0)+(Or>>>26)|0,Or&=67108863,M=Math.imul(Ae,Ie),d=(d=Math.imul(Ae,Qe))+Math.imul(Pe,Ie)|0,v=Math.imul(Pe,Qe);var Qn=(j+(M=M+Math.imul(H,pt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Et)|0)+Math.imul(ee,pt)|0))<<13)|0;j=((v=v+Math.imul(ee,Et)|0)+(d>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,M=Math.imul(be,Ie),d=(d=Math.imul(be,Qe))+Math.imul(ge,Ie)|0,v=Math.imul(ge,Qe),M=M+Math.imul(Ae,pt)|0,d=(d=d+Math.imul(Ae,Et)|0)+Math.imul(Pe,pt)|0,v=v+Math.imul(Pe,Et)|0;var jn=(j+(M=M+Math.imul(H,qt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Kt)|0)+Math.imul(ee,qt)|0))<<13)|0;j=((v=v+Math.imul(ee,Kt)|0)+(d>>>13)|0)+(jn>>>26)|0,jn&=67108863,M=Math.imul(me,Ie),d=(d=Math.imul(me,Qe))+Math.imul(xe,Ie)|0,v=Math.imul(xe,Qe),M=M+Math.imul(be,pt)|0,d=(d=d+Math.imul(be,Et)|0)+Math.imul(ge,pt)|0,v=v+Math.imul(ge,Et)|0,M=M+Math.imul(Ae,qt)|0,d=(d=d+Math.imul(Ae,Kt)|0)+Math.imul(Pe,qt)|0,v=v+Math.imul(Pe,Kt)|0;var On=(j+(M=M+Math.imul(H,cn)|0)|0)+((8191&(d=(d=d+Math.imul(H,Ut)|0)+Math.imul(ee,cn)|0))<<13)|0;j=((v=v+Math.imul(ee,Ut)|0)+(d>>>13)|0)+(On>>>26)|0,On&=67108863,M=Math.imul(he,Ie),d=(d=Math.imul(he,Qe))+Math.imul(re,Ie)|0,v=Math.imul(re,Qe),M=M+Math.imul(me,pt)|0,d=(d=d+Math.imul(me,Et)|0)+Math.imul(xe,pt)|0,v=v+Math.imul(xe,Et)|0,M=M+Math.imul(be,qt)|0,d=(d=d+Math.imul(be,Kt)|0)+Math.imul(ge,qt)|0,v=v+Math.imul(ge,Kt)|0,M=M+Math.imul(Ae,cn)|0,d=(d=d+Math.imul(Ae,Ut)|0)+Math.imul(Pe,cn)|0,v=v+Math.imul(Pe,Ut)|0;var Vn=(j+(M=M+Math.imul(H,dt)|0)|0)+((8191&(d=(d=d+Math.imul(H,it)|0)+Math.imul(ee,dt)|0))<<13)|0;j=((v=v+Math.imul(ee,it)|0)+(d>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,M=Math.imul(pe,Ie),d=(d=Math.imul(pe,Qe))+Math.imul(Se,Ie)|0,v=Math.imul(Se,Qe),M=M+Math.imul(he,pt)|0,d=(d=d+Math.imul(he,Et)|0)+Math.imul(re,pt)|0,v=v+Math.imul(re,Et)|0,M=M+Math.imul(me,qt)|0,d=(d=d+Math.imul(me,Kt)|0)+Math.imul(xe,qt)|0,v=v+Math.imul(xe,Kt)|0,M=M+Math.imul(be,cn)|0,d=(d=d+Math.imul(be,Ut)|0)+Math.imul(ge,cn)|0,v=v+Math.imul(ge,Ut)|0,M=M+Math.imul(Ae,dt)|0,d=(d=d+Math.imul(Ae,it)|0)+Math.imul(Pe,dt)|0,v=v+Math.imul(Pe,it)|0;var Hn=(j+(M=M+Math.imul(H,Bt)|0)|0)+((8191&(d=(d=d+Math.imul(H,Wt)|0)+Math.imul(ee,Bt)|0))<<13)|0;j=((v=v+Math.imul(ee,Wt)|0)+(d>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,M=Math.imul(Fe,Ie),d=(d=Math.imul(Fe,Qe))+Math.imul(We,Ie)|0,v=Math.imul(We,Qe),M=M+Math.imul(pe,pt)|0,d=(d=d+Math.imul(pe,Et)|0)+Math.imul(Se,pt)|0,v=v+Math.imul(Se,Et)|0,M=M+Math.imul(he,qt)|0,d=(d=d+Math.imul(he,Kt)|0)+Math.imul(re,qt)|0,v=v+Math.imul(re,Kt)|0,M=M+Math.imul(me,cn)|0,d=(d=d+Math.imul(me,Ut)|0)+Math.imul(xe,cn)|0,v=v+Math.imul(xe,Ut)|0,M=M+Math.imul(be,dt)|0,d=(d=d+Math.imul(be,it)|0)+Math.imul(ge,dt)|0,v=v+Math.imul(ge,it)|0,M=M+Math.imul(Ae,Bt)|0,d=(d=d+Math.imul(Ae,Wt)|0)+Math.imul(Pe,Bt)|0,v=v+Math.imul(Pe,Wt)|0;var ar=(j+(M=M+Math.imul(H,at)|0)|0)+((8191&(d=(d=d+Math.imul(H,ut)|0)+Math.imul(ee,at)|0))<<13)|0;j=((v=v+Math.imul(ee,ut)|0)+(d>>>13)|0)+(ar>>>26)|0,ar&=67108863,M=Math.imul(Xe,Ie),d=(d=Math.imul(Xe,Qe))+Math.imul(Ke,Ie)|0,v=Math.imul(Ke,Qe),M=M+Math.imul(Fe,pt)|0,d=(d=d+Math.imul(Fe,Et)|0)+Math.imul(We,pt)|0,v=v+Math.imul(We,Et)|0,M=M+Math.imul(pe,qt)|0,d=(d=d+Math.imul(pe,Kt)|0)+Math.imul(Se,qt)|0,v=v+Math.imul(Se,Kt)|0,M=M+Math.imul(he,cn)|0,d=(d=d+Math.imul(he,Ut)|0)+Math.imul(re,cn)|0,v=v+Math.imul(re,Ut)|0,M=M+Math.imul(me,dt)|0,d=(d=d+Math.imul(me,it)|0)+Math.imul(xe,dt)|0,v=v+Math.imul(xe,it)|0,M=M+Math.imul(be,Bt)|0,d=(d=d+Math.imul(be,Wt)|0)+Math.imul(ge,Bt)|0,v=v+Math.imul(ge,Wt)|0,M=M+Math.imul(Ae,at)|0,d=(d=d+Math.imul(Ae,ut)|0)+Math.imul(Pe,at)|0,v=v+Math.imul(Pe,ut)|0;var qn=(j+(M=M+Math.imul(H,et)|0)|0)+((8191&(d=(d=d+Math.imul(H,gt)|0)+Math.imul(ee,et)|0))<<13)|0;j=((v=v+Math.imul(ee,gt)|0)+(d>>>13)|0)+(qn>>>26)|0,qn&=67108863,M=Math.imul(U,Ie),d=(d=Math.imul(U,Qe))+Math.imul(_,Ie)|0,v=Math.imul(_,Qe),M=M+Math.imul(Xe,pt)|0,d=(d=d+Math.imul(Xe,Et)|0)+Math.imul(Ke,pt)|0,v=v+Math.imul(Ke,Et)|0,M=M+Math.imul(Fe,qt)|0,d=(d=d+Math.imul(Fe,Kt)|0)+Math.imul(We,qt)|0,v=v+Math.imul(We,Kt)|0,M=M+Math.imul(pe,cn)|0,d=(d=d+Math.imul(pe,Ut)|0)+Math.imul(Se,cn)|0,v=v+Math.imul(Se,Ut)|0,M=M+Math.imul(he,dt)|0,d=(d=d+Math.imul(he,it)|0)+Math.imul(re,dt)|0,v=v+Math.imul(re,it)|0,M=M+Math.imul(me,Bt)|0,d=(d=d+Math.imul(me,Wt)|0)+Math.imul(xe,Bt)|0,v=v+Math.imul(xe,Wt)|0,M=M+Math.imul(be,at)|0,d=(d=d+Math.imul(be,ut)|0)+Math.imul(ge,at)|0,v=v+Math.imul(ge,ut)|0,M=M+Math.imul(Ae,et)|0,d=(d=d+Math.imul(Ae,gt)|0)+Math.imul(Pe,et)|0,v=v+Math.imul(Pe,gt)|0;var vr=(j+(M=M+Math.imul(H,zt)|0)|0)+((8191&(d=(d=d+Math.imul(H,tn)|0)+Math.imul(ee,zt)|0))<<13)|0;j=((v=v+Math.imul(ee,tn)|0)+(d>>>13)|0)+(vr>>>26)|0,vr&=67108863,M=Math.imul(F,Ie),d=(d=Math.imul(F,Qe))+Math.imul(ie,Ie)|0,v=Math.imul(ie,Qe),M=M+Math.imul(U,pt)|0,d=(d=d+Math.imul(U,Et)|0)+Math.imul(_,pt)|0,v=v+Math.imul(_,Et)|0,M=M+Math.imul(Xe,qt)|0,d=(d=d+Math.imul(Xe,Kt)|0)+Math.imul(Ke,qt)|0,v=v+Math.imul(Ke,Kt)|0,M=M+Math.imul(Fe,cn)|0,d=(d=d+Math.imul(Fe,Ut)|0)+Math.imul(We,cn)|0,v=v+Math.imul(We,Ut)|0,M=M+Math.imul(pe,dt)|0,d=(d=d+Math.imul(pe,it)|0)+Math.imul(Se,dt)|0,v=v+Math.imul(Se,it)|0,M=M+Math.imul(he,Bt)|0,d=(d=d+Math.imul(he,Wt)|0)+Math.imul(re,Bt)|0,v=v+Math.imul(re,Wt)|0,M=M+Math.imul(me,at)|0,d=(d=d+Math.imul(me,ut)|0)+Math.imul(xe,at)|0,v=v+Math.imul(xe,ut)|0,M=M+Math.imul(be,et)|0,d=(d=d+Math.imul(be,gt)|0)+Math.imul(ge,et)|0,v=v+Math.imul(ge,gt)|0,M=M+Math.imul(Ae,zt)|0,d=(d=d+Math.imul(Ae,tn)|0)+Math.imul(Pe,zt)|0,v=v+Math.imul(Pe,tn)|0;var _r=(j+(M=M+Math.imul(H,bn)|0)|0)+((8191&(d=(d=d+Math.imul(H,vn)|0)+Math.imul(ee,bn)|0))<<13)|0;j=((v=v+Math.imul(ee,vn)|0)+(d>>>13)|0)+(_r>>>26)|0,_r&=67108863,M=Math.imul(F,pt),d=(d=Math.imul(F,Et))+Math.imul(ie,pt)|0,v=Math.imul(ie,Et),M=M+Math.imul(U,qt)|0,d=(d=d+Math.imul(U,Kt)|0)+Math.imul(_,qt)|0,v=v+Math.imul(_,Kt)|0,M=M+Math.imul(Xe,cn)|0,d=(d=d+Math.imul(Xe,Ut)|0)+Math.imul(Ke,cn)|0,v=v+Math.imul(Ke,Ut)|0,M=M+Math.imul(Fe,dt)|0,d=(d=d+Math.imul(Fe,it)|0)+Math.imul(We,dt)|0,v=v+Math.imul(We,it)|0,M=M+Math.imul(pe,Bt)|0,d=(d=d+Math.imul(pe,Wt)|0)+Math.imul(Se,Bt)|0,v=v+Math.imul(Se,Wt)|0,M=M+Math.imul(he,at)|0,d=(d=d+Math.imul(he,ut)|0)+Math.imul(re,at)|0,v=v+Math.imul(re,ut)|0,M=M+Math.imul(me,et)|0,d=(d=d+Math.imul(me,gt)|0)+Math.imul(xe,et)|0,v=v+Math.imul(xe,gt)|0,M=M+Math.imul(be,zt)|0,d=(d=d+Math.imul(be,tn)|0)+Math.imul(ge,zt)|0,v=v+Math.imul(ge,tn)|0;var Er=(j+(M=M+Math.imul(Ae,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Ae,vn)|0)+Math.imul(Pe,bn)|0))<<13)|0;j=((v=v+Math.imul(Pe,vn)|0)+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,M=Math.imul(F,qt),d=(d=Math.imul(F,Kt))+Math.imul(ie,qt)|0,v=Math.imul(ie,Kt),M=M+Math.imul(U,cn)|0,d=(d=d+Math.imul(U,Ut)|0)+Math.imul(_,cn)|0,v=v+Math.imul(_,Ut)|0,M=M+Math.imul(Xe,dt)|0,d=(d=d+Math.imul(Xe,it)|0)+Math.imul(Ke,dt)|0,v=v+Math.imul(Ke,it)|0,M=M+Math.imul(Fe,Bt)|0,d=(d=d+Math.imul(Fe,Wt)|0)+Math.imul(We,Bt)|0,v=v+Math.imul(We,Wt)|0,M=M+Math.imul(pe,at)|0,d=(d=d+Math.imul(pe,ut)|0)+Math.imul(Se,at)|0,v=v+Math.imul(Se,ut)|0,M=M+Math.imul(he,et)|0,d=(d=d+Math.imul(he,gt)|0)+Math.imul(re,et)|0,v=v+Math.imul(re,gt)|0,M=M+Math.imul(me,zt)|0,d=(d=d+Math.imul(me,tn)|0)+Math.imul(xe,zt)|0,v=v+Math.imul(xe,tn)|0;var mr=(j+(M=M+Math.imul(be,bn)|0)|0)+((8191&(d=(d=d+Math.imul(be,vn)|0)+Math.imul(ge,bn)|0))<<13)|0;j=((v=v+Math.imul(ge,vn)|0)+(d>>>13)|0)+(mr>>>26)|0,mr&=67108863,M=Math.imul(F,cn),d=(d=Math.imul(F,Ut))+Math.imul(ie,cn)|0,v=Math.imul(ie,Ut),M=M+Math.imul(U,dt)|0,d=(d=d+Math.imul(U,it)|0)+Math.imul(_,dt)|0,v=v+Math.imul(_,it)|0,M=M+Math.imul(Xe,Bt)|0,d=(d=d+Math.imul(Xe,Wt)|0)+Math.imul(Ke,Bt)|0,v=v+Math.imul(Ke,Wt)|0,M=M+Math.imul(Fe,at)|0,d=(d=d+Math.imul(Fe,ut)|0)+Math.imul(We,at)|0,v=v+Math.imul(We,ut)|0,M=M+Math.imul(pe,et)|0,d=(d=d+Math.imul(pe,gt)|0)+Math.imul(Se,et)|0,v=v+Math.imul(Se,gt)|0,M=M+Math.imul(he,zt)|0,d=(d=d+Math.imul(he,tn)|0)+Math.imul(re,zt)|0,v=v+Math.imul(re,tn)|0;var Rr=(j+(M=M+Math.imul(me,bn)|0)|0)+((8191&(d=(d=d+Math.imul(me,vn)|0)+Math.imul(xe,bn)|0))<<13)|0;j=((v=v+Math.imul(xe,vn)|0)+(d>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,M=Math.imul(F,dt),d=(d=Math.imul(F,it))+Math.imul(ie,dt)|0,v=Math.imul(ie,it),M=M+Math.imul(U,Bt)|0,d=(d=d+Math.imul(U,Wt)|0)+Math.imul(_,Bt)|0,v=v+Math.imul(_,Wt)|0,M=M+Math.imul(Xe,at)|0,d=(d=d+Math.imul(Xe,ut)|0)+Math.imul(Ke,at)|0,v=v+Math.imul(Ke,ut)|0,M=M+Math.imul(Fe,et)|0,d=(d=d+Math.imul(Fe,gt)|0)+Math.imul(We,et)|0,v=v+Math.imul(We,gt)|0,M=M+Math.imul(pe,zt)|0,d=(d=d+Math.imul(pe,tn)|0)+Math.imul(Se,zt)|0,v=v+Math.imul(Se,tn)|0;var Br=(j+(M=M+Math.imul(he,bn)|0)|0)+((8191&(d=(d=d+Math.imul(he,vn)|0)+Math.imul(re,bn)|0))<<13)|0;j=((v=v+Math.imul(re,vn)|0)+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,M=Math.imul(F,Bt),d=(d=Math.imul(F,Wt))+Math.imul(ie,Bt)|0,v=Math.imul(ie,Wt),M=M+Math.imul(U,at)|0,d=(d=d+Math.imul(U,ut)|0)+Math.imul(_,at)|0,v=v+Math.imul(_,ut)|0,M=M+Math.imul(Xe,et)|0,d=(d=d+Math.imul(Xe,gt)|0)+Math.imul(Ke,et)|0,v=v+Math.imul(Ke,gt)|0,M=M+Math.imul(Fe,zt)|0,d=(d=d+Math.imul(Fe,tn)|0)+Math.imul(We,zt)|0,v=v+Math.imul(We,tn)|0;var kr=(j+(M=M+Math.imul(pe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(pe,vn)|0)+Math.imul(Se,bn)|0))<<13)|0;j=((v=v+Math.imul(Se,vn)|0)+(d>>>13)|0)+(kr>>>26)|0,kr&=67108863,M=Math.imul(F,at),d=(d=Math.imul(F,ut))+Math.imul(ie,at)|0,v=Math.imul(ie,ut),M=M+Math.imul(U,et)|0,d=(d=d+Math.imul(U,gt)|0)+Math.imul(_,et)|0,v=v+Math.imul(_,gt)|0,M=M+Math.imul(Xe,zt)|0,d=(d=d+Math.imul(Xe,tn)|0)+Math.imul(Ke,zt)|0,v=v+Math.imul(Ke,tn)|0;var jr=(j+(M=M+Math.imul(Fe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Fe,vn)|0)+Math.imul(We,bn)|0))<<13)|0;j=((v=v+Math.imul(We,vn)|0)+(d>>>13)|0)+(jr>>>26)|0,jr&=67108863,M=Math.imul(F,et),d=(d=Math.imul(F,gt))+Math.imul(ie,et)|0,v=Math.imul(ie,gt),M=M+Math.imul(U,zt)|0,d=(d=d+Math.imul(U,tn)|0)+Math.imul(_,zt)|0,v=v+Math.imul(_,tn)|0;var Yr=(j+(M=M+Math.imul(Xe,bn)|0)|0)+((8191&(d=(d=d+Math.imul(Xe,vn)|0)+Math.imul(Ke,bn)|0))<<13)|0;j=((v=v+Math.imul(Ke,vn)|0)+(d>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,M=Math.imul(F,zt),d=(d=Math.imul(F,tn))+Math.imul(ie,zt)|0,v=Math.imul(ie,tn);var wt=(j+(M=M+Math.imul(U,bn)|0)|0)+((8191&(d=(d=d+Math.imul(U,vn)|0)+Math.imul(_,bn)|0))<<13)|0;j=((v=v+Math.imul(_,vn)|0)+(d>>>13)|0)+(wt>>>26)|0,wt&=67108863;var Pt=(j+(M=Math.imul(F,bn))|0)+((8191&(d=(d=Math.imul(F,vn))+Math.imul(ie,bn)|0))<<13)|0;return j=((v=Math.imul(ie,vn))+(d>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,C[0]=Or,C[1]=Qn,C[2]=jn,C[3]=On,C[4]=Vn,C[5]=Hn,C[6]=ar,C[7]=qn,C[8]=vr,C[9]=_r,C[10]=Er,C[11]=mr,C[12]=Rr,C[13]=Br,C[14]=kr,C[15]=jr,C[16]=Yr,C[17]=wt,C[18]=Pt,0!==j&&(C[19]=j,g.length++),g};function J(P,u,h){return(new q).mulp(P,u,h)}function q(P,u){this.x=P,this.y=u}Math.imul||(Q=Z),x.prototype.mulTo=function(u,h){var g,w=this.length+u.length;return g=10===this.length&&10===u.length?Q(this,u,h):w<63?Z(this,u,h):w<1024?function te(P,u,h){h.negative=u.negative^P.negative,h.length=P.length+u.length;for(var g=0,w=0,T=0;T<h.length-1;T++){var C=w;w=0;for(var j=67108863&g,M=Math.min(T,u.length-1),d=Math.max(0,T-P.length+1);d<=M;d++){var ee=(0|P.words[T-d])*(0|u.words[d]),fe=67108863&ee;j=67108863&(fe=fe+j|0),w+=(C=(C=C+(ee/67108864|0)|0)+(fe>>>26)|0)>>>26,C&=67108863}h.words[T]=j,g=C,C=w}return 0!==g?h.words[T]=g:h.length--,h.strip()}(this,u,h):J(this,u,h),g},q.prototype.makeRBT=function(u){for(var h=new Array(u),g=x.prototype._countBits(u)-1,w=0;w<u;w++)h[w]=this.revBin(w,g,u);return h},q.prototype.revBin=function(u,h,g){if(0===u||u===g-1)return u;for(var w=0,T=0;T<h;T++)w|=(1&u)<<h-T-1,u>>=1;return w},q.prototype.permute=function(u,h,g,w,T,C){for(var j=0;j<C;j++)w[j]=h[u[j]],T[j]=g[u[j]]},q.prototype.transform=function(u,h,g,w,T,C){this.permute(C,u,h,g,w,T);for(var j=1;j<T;j<<=1)for(var M=j<<1,d=Math.cos(2*Math.PI/M),v=Math.sin(2*Math.PI/M),W=0;W<T;W+=M)for(var H=d,ee=v,fe=0;fe<j;fe++){var Ae=g[W+fe],Pe=w[W+fe],Le=g[W+fe+j],be=w[W+fe+j],ge=H*Le-ee*be;be=H*be+ee*Le,g[W+fe]=Ae+(Le=ge),w[W+fe]=Pe+be,g[W+fe+j]=Ae-Le,w[W+fe+j]=Pe-be,fe!==M&&(ge=d*H-v*ee,ee=d*ee+v*H,H=ge)}},q.prototype.guessLen13b=function(u,h){var g=1|Math.max(h,u),w=1&g,T=0;for(g=g/2|0;g;g>>>=1)T++;return 1<<T+1+w},q.prototype.conjugate=function(u,h,g){if(!(g<=1))for(var w=0;w<g/2;w++){var T=u[w];u[w]=u[g-w-1],u[g-w-1]=T,T=h[w],h[w]=-h[g-w-1],h[g-w-1]=-T}},q.prototype.normalize13b=function(u,h){for(var g=0,w=0;w<h/2;w++){var T=8192*Math.round(u[2*w+1]/h)+Math.round(u[2*w]/h)+g;u[w]=67108863&T,g=T<67108864?0:T/67108864|0}return u},q.prototype.convert13b=function(u,h,g,w){for(var T=0,C=0;C<h;C++)g[2*C]=8191&(T+=0|u[C]),g[2*C+1]=8191&(T>>>=13),T>>>=13;for(C=2*h;C<w;++C)g[C]=0;O(0===T),O(!(-8192&T))},q.prototype.stub=function(u){for(var h=new Array(u),g=0;g<u;g++)h[g]=0;return h},q.prototype.mulp=function(u,h,g){var w=2*this.guessLen13b(u.length,h.length),T=this.makeRBT(w),C=this.stub(w),j=new Array(w),M=new Array(w),d=new Array(w),v=new Array(w),W=new Array(w),H=new Array(w),ee=g.words;ee.length=w,this.convert13b(u.words,u.length,j,w),this.convert13b(h.words,h.length,v,w),this.transform(j,C,M,d,w,T),this.transform(v,C,W,H,w,T);for(var fe=0;fe<w;fe++){var Ae=M[fe]*W[fe]-d[fe]*H[fe];d[fe]=M[fe]*H[fe]+d[fe]*W[fe],M[fe]=Ae}return this.conjugate(M,d,w),this.transform(M,d,ee,C,w,T),this.conjugate(ee,C,w),this.normalize13b(ee,w),g.negative=u.negative^h.negative,g.length=u.length+h.length,g.strip()},x.prototype.mul=function(u){var h=new x(null);return h.words=new Array(this.length+u.length),this.mulTo(u,h)},x.prototype.mulf=function(u){var h=new x(null);return h.words=new Array(this.length+u.length),J(this,u,h)},x.prototype.imul=function(u){return this.clone().mulTo(u,this)},x.prototype.imuln=function(u){O("number"==typeof u),O(u<67108864);for(var h=0,g=0;g<this.length;g++){var w=(0|this.words[g])*u,T=(67108863&w)+(67108863&h);h>>=26,h+=w/67108864|0,h+=T>>>26,this.words[g]=67108863&T}return 0!==h&&(this.words[g]=h,this.length++),this},x.prototype.muln=function(u){return this.clone().imuln(u)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(u){var h=function V(P){for(var u=new Array(P.bitLength()),h=0;h<u.length;h++){var w=h%26;u[h]=(P.words[h/26|0]&1<<w)>>>w}return u}(u);if(0===h.length)return new x(1);for(var g=this,w=0;w<h.length&&0===h[w];w++,g=g.sqr());if(++w<h.length)for(var T=g.sqr();w<h.length;w++,T=T.sqr())0!==h[w]&&(g=g.mul(T));return g},x.prototype.iushln=function(u){O("number"==typeof u&&u>=0);var T,h=u%26,g=(u-h)/26,w=67108863>>>26-h<<26-h;if(0!==h){var C=0;for(T=0;T<this.length;T++){var j=this.words[T]&w;this.words[T]=(0|this.words[T])-j<<h|C,C=j>>>26-h}C&&(this.words[T]=C,this.length++)}if(0!==g){for(T=this.length-1;T>=0;T--)this.words[T+g]=this.words[T];for(T=0;T<g;T++)this.words[T]=0;this.length+=g}return this.strip()},x.prototype.ishln=function(u){return O(0===this.negative),this.iushln(u)},x.prototype.iushrn=function(u,h,g){var w;O("number"==typeof u&&u>=0),w=h?(h-h%26)/26:0;var T=u%26,C=Math.min((u-T)/26,this.length),j=67108863^67108863>>>T<<T,M=g;if(w-=C,w=Math.max(0,w),M){for(var d=0;d<C;d++)M.words[d]=this.words[d];M.length=C}if(0!==C)if(this.length>C)for(this.length-=C,d=0;d<this.length;d++)this.words[d]=this.words[d+C];else this.words[0]=0,this.length=1;var v=0;for(d=this.length-1;d>=0&&(0!==v||d>=w);d--){var W=0|this.words[d];this.words[d]=v<<26-T|W>>>T,v=W&j}return M&&0!==v&&(M.words[M.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},x.prototype.ishrn=function(u,h,g){return O(0===this.negative),this.iushrn(u,h,g)},x.prototype.shln=function(u){return this.clone().ishln(u)},x.prototype.ushln=function(u){return this.clone().iushln(u)},x.prototype.shrn=function(u){return this.clone().ishrn(u)},x.prototype.ushrn=function(u){return this.clone().iushrn(u)},x.prototype.testn=function(u){O("number"==typeof u&&u>=0);var h=u%26,g=(u-h)/26;return!(this.length<=g||!(this.words[g]&1<<h))},x.prototype.imaskn=function(u){O("number"==typeof u&&u>=0);var h=u%26,g=(u-h)/26;return O(0===this.negative,"imaskn works only with positive numbers"),this.length<=g?this:(0!==h&&g++,this.length=Math.min(g,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},x.prototype.maskn=function(u){return this.clone().imaskn(u)},x.prototype.iaddn=function(u){return O("number"==typeof u),O(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},x.prototype._iaddn=function(u){this.words[0]+=u;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},x.prototype.isubn=function(u){if(O("number"==typeof u),O(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},x.prototype.addn=function(u){return this.clone().iaddn(u)},x.prototype.subn=function(u){return this.clone().isubn(u)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(u,h,g){var T;this._expand(u.length+g);var C,j=0;for(T=0;T<u.length;T++){C=(0|this.words[T+g])+j;var M=(0|u.words[T])*h;j=((C-=67108863&M)>>26)-(M/67108864|0),this.words[T+g]=67108863&C}for(;T<this.length-g;T++)j=(C=(0|this.words[T+g])+j)>>26,this.words[T+g]=67108863&C;if(0===j)return this.strip();for(O(-1===j),j=0,T=0;T<this.length;T++)j=(C=-(0|this.words[T])+j)>>26,this.words[T]=67108863&C;return this.negative=1,this.strip()},x.prototype._wordDiv=function(u,h){var g,w=this.clone(),T=u,C=0|T.words[T.length-1];0!=(g=26-this._countBits(C))&&(T=T.ushln(g),w.iushln(g),C=0|T.words[T.length-1]);var d,M=w.length-T.length;if("mod"!==h){(d=new x(null)).length=M+1,d.words=new Array(d.length);for(var v=0;v<d.length;v++)d.words[v]=0}var W=w.clone()._ishlnsubmul(T,1,M);0===W.negative&&(w=W,d&&(d.words[M]=1));for(var H=M-1;H>=0;H--){var ee=67108864*(0|w.words[T.length+H])+(0|w.words[T.length+H-1]);for(ee=Math.min(ee/C|0,67108863),w._ishlnsubmul(T,ee,H);0!==w.negative;)ee--,w.negative=0,w._ishlnsubmul(T,1,H),w.isZero()||(w.negative^=1);d&&(d.words[H]=ee)}return d&&d.strip(),w.strip(),"div"!==h&&0!==g&&w.iushrn(g),{div:d||null,mod:w}},x.prototype.divmod=function(u,h,g){return O(!u.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===u.negative?(C=this.neg().divmod(u,h),"mod"!==h&&(w=C.div.neg()),"div"!==h&&(T=C.mod.neg(),g&&0!==T.negative&&T.iadd(u)),{div:w,mod:T}):0===this.negative&&0!==u.negative?(C=this.divmod(u.neg(),h),"mod"!==h&&(w=C.div.neg()),{div:w,mod:C.mod}):this.negative&u.negative?(C=this.neg().divmod(u.neg(),h),"div"!==h&&(T=C.mod.neg(),g&&0!==T.negative&&T.isub(u)),{div:C.div,mod:T}):u.length>this.length||this.cmp(u)<0?{div:new x(0),mod:this}:1===u.length?"div"===h?{div:this.divn(u.words[0]),mod:null}:"mod"===h?{div:null,mod:new x(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new x(this.modn(u.words[0]))}:this._wordDiv(u,h);var w,T,C},x.prototype.div=function(u){return this.divmod(u,"div",!1).div},x.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},x.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},x.prototype.divRound=function(u){var h=this.divmod(u);if(h.mod.isZero())return h.div;var g=0!==h.div.negative?h.mod.isub(u):h.mod,w=u.ushrn(1),T=u.andln(1),C=g.cmp(w);return C<0||1===T&&0===C?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},x.prototype.modn=function(u){O(u<=67108863);for(var h=(1<<26)%u,g=0,w=this.length-1;w>=0;w--)g=(h*g+(0|this.words[w]))%u;return g},x.prototype.idivn=function(u){O(u<=67108863);for(var h=0,g=this.length-1;g>=0;g--){var w=(0|this.words[g])+67108864*h;this.words[g]=w/u|0,h=w%u}return this.strip()},x.prototype.divn=function(u){return this.clone().idivn(u)},x.prototype.egcd=function(u){O(0===u.negative),O(!u.isZero());var h=this,g=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new x(1),T=new x(0),C=new x(0),j=new x(1),M=0;h.isEven()&&g.isEven();)h.iushrn(1),g.iushrn(1),++M;for(var d=g.clone(),v=h.clone();!h.isZero();){for(var W=0,H=1;!(h.words[0]&H)&&W<26;++W,H<<=1);if(W>0)for(h.iushrn(W);W-- >0;)(w.isOdd()||T.isOdd())&&(w.iadd(d),T.isub(v)),w.iushrn(1),T.iushrn(1);for(var ee=0,fe=1;!(g.words[0]&fe)&&ee<26;++ee,fe<<=1);if(ee>0)for(g.iushrn(ee);ee-- >0;)(C.isOdd()||j.isOdd())&&(C.iadd(d),j.isub(v)),C.iushrn(1),j.iushrn(1);h.cmp(g)>=0?(h.isub(g),w.isub(C),T.isub(j)):(g.isub(h),C.isub(w),j.isub(T))}return{a:C,b:j,gcd:g.iushln(M)}},x.prototype._invmp=function(u){O(0===u.negative),O(!u.isZero());var W,h=this,g=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new x(1),T=new x(0),C=g.clone();h.cmpn(1)>0&&g.cmpn(1)>0;){for(var j=0,M=1;!(h.words[0]&M)&&j<26;++j,M<<=1);if(j>0)for(h.iushrn(j);j-- >0;)w.isOdd()&&w.iadd(C),w.iushrn(1);for(var d=0,v=1;!(g.words[0]&v)&&d<26;++d,v<<=1);if(d>0)for(g.iushrn(d);d-- >0;)T.isOdd()&&T.iadd(C),T.iushrn(1);h.cmp(g)>=0?(h.isub(g),w.isub(T)):(g.isub(h),T.isub(w))}return(W=0===h.cmpn(1)?w:T).cmpn(0)<0&&W.iadd(u),W},x.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var h=this.clone(),g=u.clone();h.negative=0,g.negative=0;for(var w=0;h.isEven()&&g.isEven();w++)h.iushrn(1),g.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;g.isEven();)g.iushrn(1);var T=h.cmp(g);if(T<0){var C=h;h=g,g=C}else if(0===T||0===g.cmpn(1))break;h.isub(g)}return g.iushln(w)},x.prototype.invm=function(u){return this.egcd(u).a.umod(u)},x.prototype.isEven=function(){return!(1&this.words[0])},x.prototype.isOdd=function(){return!(1&~this.words[0])},x.prototype.andln=function(u){return this.words[0]&u},x.prototype.bincn=function(u){O("number"==typeof u);var h=u%26,g=(u-h)/26,w=1<<h;if(this.length<=g)return this._expand(g+1),this.words[g]|=w,this;for(var T=w,C=g;0!==T&&C<this.length;C++){var j=0|this.words[C];T=(j+=T)>>>26,this.words[C]=j&=67108863}return 0!==T&&(this.words[C]=T,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(u){var g,h=u<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)g=1;else{h&&(u=-u),O(u<=67108863,"Number is too big");var w=0|this.words[0];g=w===u?0:w<u?-1:1}return 0!==this.negative?0|-g:g},x.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var h=this.ucmp(u);return 0!==this.negative?0|-h:h},x.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var h=0,g=this.length-1;g>=0;g--){var w=0|this.words[g],T=0|u.words[g];if(w!==T){w<T?h=-1:w>T&&(h=1);break}}return h},x.prototype.gtn=function(u){return 1===this.cmpn(u)},x.prototype.gt=function(u){return 1===this.cmp(u)},x.prototype.gten=function(u){return this.cmpn(u)>=0},x.prototype.gte=function(u){return this.cmp(u)>=0},x.prototype.ltn=function(u){return-1===this.cmpn(u)},x.prototype.lt=function(u){return-1===this.cmp(u)},x.prototype.lten=function(u){return this.cmpn(u)<=0},x.prototype.lte=function(u){return this.cmp(u)<=0},x.prototype.eqn=function(u){return 0===this.cmpn(u)},x.prototype.eq=function(u){return 0===this.cmp(u)},x.red=function(u){return new _e(u)},x.prototype.toRed=function(u){return O(!this.red,"Already a number in reduction context"),O(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},x.prototype.fromRed=function(){return O(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(u){return this.red=u,this},x.prototype.forceRed=function(u){return O(!this.red,"Already a number in reduction context"),this._forceRed(u)},x.prototype.redAdd=function(u){return O(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},x.prototype.redIAdd=function(u){return O(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},x.prototype.redSub=function(u){return O(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},x.prototype.redISub=function(u){return O(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},x.prototype.redShl=function(u){return O(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},x.prototype.redMul=function(u){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},x.prototype.redIMul=function(u){return O(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},x.prototype.redSqr=function(){return O(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return O(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return O(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return O(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return O(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(u){return O(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var ne={k256:null,p224:null,p192:null,p25519:null};function se(P,u){this.name=P,this.p=new x(u,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function oe(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ue(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ae(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function ve(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _e(P){if("string"==typeof P){var u=x._prime(P);this.m=u.p,this.prime=u}else O(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}function De(P){_e.call(this,P),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se.prototype._tmp=function(){var u=new x(null);return u.words=new Array(Math.ceil(this.n/13)),u},se.prototype.ireduce=function(u){var g,h=u;do{this.split(h,this.tmp),g=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(g>this.n);var w=g<this.n?-1:h.ucmp(this.p);return 0===w?(h.words[0]=0,h.length=1):w>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},se.prototype.split=function(u,h){u.iushrn(this.n,0,h)},se.prototype.imulK=function(u){return u.imul(this.k)},G(oe,se),oe.prototype.split=function(u,h){for(var g=4194303,w=Math.min(u.length,9),T=0;T<w;T++)h.words[T]=u.words[T];if(h.length=w,u.length<=9)return u.words[0]=0,void(u.length=1);var C=u.words[9];for(h.words[h.length++]=C&g,T=10;T<u.length;T++){var j=0|u.words[T];u.words[T-10]=(j&g)<<4|C>>>22,C=j}u.words[T-10]=C>>>=22,u.length-=0===C&&u.length>10?10:9},oe.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var h=0,g=0;g<u.length;g++){var w=0|u.words[g];u.words[g]=67108863&(h+=977*w),h=64*w+(h/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},G(ue,se),G(ae,se),G(ve,se),ve.prototype.imulK=function(u){for(var h=0,g=0;g<u.length;g++){var w=19*(0|u.words[g])+h,T=67108863&w;w>>>=26,u.words[g]=T,h=w}return 0!==h&&(u.words[u.length++]=h),u},x._prime=function(u){if(ne[u])return ne[u];var h;if("k256"===u)h=new oe;else if("p224"===u)h=new ue;else if("p192"===u)h=new ae;else{if("p25519"!==u)throw new Error("Unknown prime "+u);h=new ve}return ne[u]=h,h},_e.prototype._verify1=function(u){O(0===u.negative,"red works only with positives"),O(u.red,"red works only with red numbers")},_e.prototype._verify2=function(u,h){O(!(u.negative|h.negative),"red works only with positives"),O(u.red&&u.red===h.red,"red works only with red numbers")},_e.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},_e.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},_e.prototype.add=function(u,h){this._verify2(u,h);var g=u.add(h);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},_e.prototype.iadd=function(u,h){this._verify2(u,h);var g=u.iadd(h);return g.cmp(this.m)>=0&&g.isub(this.m),g},_e.prototype.sub=function(u,h){this._verify2(u,h);var g=u.sub(h);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},_e.prototype.isub=function(u,h){this._verify2(u,h);var g=u.isub(h);return g.cmpn(0)<0&&g.iadd(this.m),g},_e.prototype.shl=function(u,h){return this._verify1(u),this.imod(u.ushln(h))},_e.prototype.imul=function(u,h){return this._verify2(u,h),this.imod(u.imul(h))},_e.prototype.mul=function(u,h){return this._verify2(u,h),this.imod(u.mul(h))},_e.prototype.isqr=function(u){return this.imul(u,u.clone())},_e.prototype.sqr=function(u){return this.mul(u,u)},_e.prototype.sqrt=function(u){if(u.isZero())return u.clone();var h=this.m.andln(3);if(O(h%2==1),3===h){var g=this.m.add(new x(1)).iushrn(2);return this.pow(u,g)}for(var w=this.m.subn(1),T=0;!w.isZero()&&0===w.andln(1);)T++,w.iushrn(1);O(!w.isZero());var C=new x(1).toRed(this),j=C.redNeg(),M=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new x(2*d*d).toRed(this);0!==this.pow(d,M).cmp(j);)d.redIAdd(j);for(var v=this.pow(d,w),W=this.pow(u,w.addn(1).iushrn(1)),H=this.pow(u,w),ee=T;0!==H.cmp(C);){for(var fe=H,Ae=0;0!==fe.cmp(C);Ae++)fe=fe.redSqr();O(Ae<ee);var Pe=this.pow(v,new x(1).iushln(ee-Ae-1));W=W.redMul(Pe),v=Pe.redSqr(),H=H.redMul(v),ee=Ae}return W},_e.prototype.invm=function(u){var h=u._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},_e.prototype.pow=function(u,h){if(h.isZero())return new x(1).toRed(this);if(0===h.cmpn(1))return u.clone();var w=new Array(16);w[0]=new x(1).toRed(this),w[1]=u;for(var T=2;T<w.length;T++)w[T]=this.mul(w[T-1],u);var C=w[0],j=0,M=0,d=h.bitLength()%26;for(0===d&&(d=26),T=h.length-1;T>=0;T--){for(var v=h.words[T],W=d-1;W>=0;W--){var H=v>>W&1;C!==w[0]&&(C=this.sqr(C)),0!==H||0!==j?(j<<=1,j|=H,(4==++M||0===T&&0===W)&&(C=this.mul(C,w[j]),M=0,j=0)):M=0}d=26}return C},_e.prototype.convertTo=function(u){var h=u.umod(this.m);return h===u?h.clone():h},_e.prototype.convertFrom=function(u){var h=u.clone();return h.red=null,h},x.mont=function(u){return new De(u)},G(De,_e),De.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},De.prototype.convertFrom=function(u){var h=this.imod(u.mul(this.rinv));return h.red=null,h},De.prototype.imul=function(u,h){if(u.isZero()||h.isZero())return u.words[0]=0,u.length=1,u;var g=u.imul(h),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=g.isub(w).iushrn(this.shift),C=T;return T.cmp(this.m)>=0?C=T.isub(this.m):T.cmpn(0)<0&&(C=T.iadd(this.m)),C._forceRed(this)},De.prototype.mul=function(u,h){if(u.isZero()||h.isZero())return new x(0)._forceRed(this);var g=u.mul(h),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=g.isub(w).iushrn(this.shift),C=T;return T.cmp(this.m)>=0?C=T.isub(this.m):T.cmpn(0)<0&&(C=T.iadd(this.m)),C._forceRed(this)},De.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Be=E.nmd(Be),this)},98613:(Be,z,E)=>{var p=E(65667),S=E(30715),O=E(37196),G=E(16508),x=E(14105),B=E(67211),A=E(10568),N=E(27054).Buffer;Be.exports=function(V,Z,Q){var te;te=V.padding?V.padding:Q?1:4;var ne,J=p(V),q=J.modulus.byteLength();if(Z.length>q||new G(Z).cmp(J.modulus)>=0)throw new Error("decryption error");ne=Q?A(new G(Z),J):x(Z,J);var se=N.alloc(q-ne.length);if(ne=N.concat([se,ne],q),4===te)return function $(X,V){var Z=X.modulus.byteLength(),Q=B("sha1").update(N.alloc(0)).digest(),te=Q.length;if(0!==V[0])throw new Error("decryption error");var J=V.slice(1,te+1),q=V.slice(te+1),ne=O(J,S(q,te)),se=O(q,S(ne,Z-te-1));if(function D(X,V){X=N.from(X),V=N.from(V);var Z=0,Q=X.length;X.length!==V.length&&(Z++,Q=Math.min(X.length,V.length));for(var te=-1;++te<Q;)Z+=X[te]^V[te];return Z}(Q,se.slice(0,te)))throw new Error("decryption error");for(var oe=te;0===se[oe];)oe++;if(1!==se[oe++])throw new Error("decryption error");return se.slice(oe)}(J,ne);if(1===te)return function K(X,V,Z){for(var Q=V.slice(0,2),te=2,J=0;0!==V[te++];)if(te>=V.length){J++;break}var q=V.slice(2,te-1);if(("0002"!==Q.toString("hex")&&!Z||"0001"!==Q.toString("hex")&&Z)&&J++,q.length<8&&J++,J)throw new Error("decryption error");return V.slice(te)}(0,ne,Q);if(3===te)return ne;throw new Error("unknown padding")}},87267:(Be,z,E)=>{var p=E(65667),S=E(3342),O=E(67211),G=E(30715),x=E(37196),B=E(16508),A=E(10568),N=E(14105),$=E(27054).Buffer;Be.exports=function(Z,Q,te){var J;J=Z.padding?Z.padding:te?1:4;var ne,q=p(Z);if(4===J)ne=function K(V,Z){var Q=V.modulus.byteLength(),te=Z.length,J=O("sha1").update($.alloc(0)).digest(),q=J.length,ne=2*q;if(te>Q-ne-2)throw new Error("message too long");var se=$.alloc(Q-te-ne-2),oe=Q-q-1,ue=S(q),ae=x($.concat([J,se,$.alloc(1,1),Z],oe),G(ue,oe)),ve=x(ue,G(ae,q));return new B($.concat([$.alloc(1),ve,ae],Q))}(q,Q);else if(1===J)ne=function D(V,Z,Q){var q,te=Z.length,J=V.modulus.byteLength();if(te>J-11)throw new Error("message too long");return q=Q?$.alloc(J-te-3,255):function X(V){for(var q,Z=$.allocUnsafe(V),Q=0,te=S(2*V),J=0;Q<V;)J===te.length&&(te=S(2*V),J=0),(q=te[J++])&&(Z[Q++]=q);return Z}(J-te-3),new B($.concat([$.from([0,Q?1:2]),q,$.alloc(1),Z],J))}(q,Q,te);else{if(3!==J)throw new Error("unknown padding");if((ne=new B(Q)).cmp(q.modulus)>=0)throw new Error("data too long for modulus")}return te?N(ne,q):A(ne,q)}},10568:(Be,z,E)=>{var p=E(16508),S=E(27054).Buffer;Be.exports=function O(G,x){return S.from(G.toRed(p.mont(x.modulus)).redPow(new p(x.publicExponent)).fromRed().toArray())}},37196:Be=>{Be.exports=function(E,p){for(var S=E.length,O=-1;++O<S;)E[O]^=p[O];return E}},24515:Be=>{let z;Be.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:globalThis):E=>(z||(z=Promise.resolve())).then(E).catch(p=>setTimeout(()=>{throw p},0))},3342:(Be,z,E)=>{"use strict";var p=E(40573),S=65536,x=E(27054).Buffer,B=globalThis.crypto||globalThis.msCrypto;Be.exports=B&&B.getRandomValues?function A(N,$){if(N>4294967295)throw new RangeError("requested too many random bytes");var K=x.allocUnsafe(N);if(N>0)if(N>S)for(var D=0;D<N;D+=S)B.getRandomValues(K.slice(D,D+S));else B.getRandomValues(K);return"function"==typeof $?p.nextTick(function(){$(null,K)}):K}:function G(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},9682:(Be,z,E)=>{"use strict";var p=E(40573);function S(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var O=E(27054),G=E(3342),x=O.Buffer,B=O.kMaxLength,A=globalThis.crypto||globalThis.msCrypto,N=Math.pow(2,32)-1;function $(Z,Q){if("number"!=typeof Z||Z!=Z)throw new TypeError("offset must be a number");if(Z>N||Z<0)throw new TypeError("offset must be a uint32");if(Z>B||Z>Q)throw new RangeError("offset out of range")}function K(Z,Q,te){if("number"!=typeof Z||Z!=Z)throw new TypeError("size must be a number");if(Z>N||Z<0)throw new TypeError("size must be a uint32");if(Z+Q>te||Z>B)throw new RangeError("buffer too small")}function X(Z,Q,te,J){if(p.browser){var ne=new Uint8Array(Z.buffer,Q,te);return A.getRandomValues(ne),J?void p.nextTick(function(){J(null,Z)}):Z}if(!J)return G(te).copy(Z,Q),Z;G(te,function(oe,ue){if(oe)return J(oe);ue.copy(Z,Q),J(null,Z)})}A&&A.getRandomValues||!p.browser?(z.randomFill=function D(Z,Q,te,J){if(!(x.isBuffer(Z)||Z instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof Q)J=Q,Q=0,te=Z.length;else if("function"==typeof te)J=te,te=Z.length-Q;else if("function"!=typeof J)throw new TypeError('"cb" argument must be a function');return $(Q,Z.length),K(te,Q,Z.length),X(Z,Q,te,J)},z.randomFillSync=function V(Z,Q,te){if(typeof Q>"u"&&(Q=0),!(x.isBuffer(Z)||Z instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return $(Q,Z.length),void 0===te&&(te=Z.length-Q),K(te,Q,Z.length),X(Z,Q,te)}):(z.randomFill=S,z.randomFillSync=S)},26113:Be=>{"use strict";var E={};function p(B,A,N){N||(N=Error);var K=function(D){function X(V,Z,Q){return D.call(this,function $(D,X,V){return"string"==typeof A?A:A(D,X,V)}(V,Z,Q))||this}return function z(B,A){B.prototype=Object.create(A.prototype),B.prototype.constructor=B,B.__proto__=A}(X,D),X}(N);K.prototype.name=N.name,K.prototype.code=B,E[B]=K}function S(B,A){if(Array.isArray(B)){var N=B.length;return B=B.map(function($){return String($)}),N>2?"one of ".concat(A," ").concat(B.slice(0,N-1).join(", "),", or ")+B[N-1]:2===N?"one of ".concat(A," ").concat(B[0]," or ").concat(B[1]):"of ".concat(A," ").concat(B[0])}return"of ".concat(A," ").concat(String(B))}p("ERR_INVALID_OPT_VALUE",function(B,A){return'The value "'+A+'" is invalid for option "'+B+'"'},TypeError),p("ERR_INVALID_ARG_TYPE",function(B,A,N){var $,K;if("string"==typeof A&&function O(B,A,N){return B.substr(!N||N<0?0:+N,A.length)===A}(A,"not ")?($="must not be",A=A.replace(/^not /,"")):$="must be",function G(B,A,N){return(void 0===N||N>B.length)&&(N=B.length),B.substring(N-A.length,N)===A}(B," argument"))K="The ".concat(B," ").concat($," ").concat(S(A,"type"));else{var D=function x(B,A,N){return"number"!=typeof N&&(N=0),!(N+A.length>B.length)&&-1!==B.indexOf(A,N)}(B,".")?"property":"argument";K='The "'.concat(B,'" ').concat(D," ").concat($," ").concat(S(A,"type"))}return K+". Received type ".concat(typeof N)},TypeError),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),p("ERR_METHOD_NOT_IMPLEMENTED",function(B){return"The "+B+" method is not implemented"}),p("ERR_STREAM_PREMATURE_CLOSE","Premature close"),p("ERR_STREAM_DESTROYED",function(B){return"Cannot call "+B+" after a stream was destroyed"}),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),p("ERR_STREAM_WRITE_AFTER_END","write after end"),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_UNKNOWN_ENCODING",function(B){return"Unknown encoding: "+B},TypeError),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Be.exports.F=E},74075:(Be,z,E)=>{"use strict";var p=E(40573),S=Object.keys||function(D){var X=[];for(var V in D)X.push(V);return X};Be.exports=N;var O=E(19609),G=E(47849);E(71993)(N,O);for(var x=S(G.prototype),B=0;B<x.length;B++){var A=x[B];N.prototype[A]||(N.prototype[A]=G.prototype[A])}function N(D){if(!(this instanceof N))return new N(D);O.call(this,D),G.call(this,D),this.allowHalfOpen=!0,D&&(!1===D.readable&&(this.readable=!1),!1===D.writable&&(this.writable=!1),!1===D.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",$)))}function $(){this._writableState.ended||p.nextTick(K,this)}function K(D){D.end()}Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(N.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(N.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(X){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=X,this._writableState.destroyed=X)}})},18823:(Be,z,E)=>{"use strict";Be.exports=S;var p=E(2909);function S(O){if(!(this instanceof S))return new S(O);p.call(this,O)}E(71993)(S,p),S.prototype._transform=function(O,G,x){x(null,O)}},19609:(Be,z,E)=>{"use strict";var S,p=E(40573);Be.exports=u,u.ReadableState=P,E(44356);var D,G=function(he,re){return he.listeners(re).length},x=E(18342),B=E(83838).Buffer,A=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},K=E(79838);D=K&&K.debuglog?K.debuglog("stream"):function(){};var oe,ue,ae,X=E(19588),V=E(21509),Q=E(42934).getHighWaterMark,te=E(26113).F,J=te.ERR_INVALID_ARG_TYPE,q=te.ERR_STREAM_PUSH_AFTER_EOF,ne=te.ERR_METHOD_NOT_IMPLEMENTED,se=te.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;E(71993)(u,x);var ve=V.errorOrDestroy,_e=["error","close","destroy","pause","resume"];function P(le,he,re){S=S||E(74075),"boolean"!=typeof re&&(re=he instanceof S),this.objectMode=!!(le=le||{}).objectMode,re&&(this.objectMode=this.objectMode||!!le.readableObjectMode),this.highWaterMark=Q(this,le,"readableHighWaterMark",re),this.buffer=new X,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==le.emitClose,this.autoDestroy=!!le.autoDestroy,this.destroyed=!1,this.defaultEncoding=le.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,le.encoding&&(oe||(oe=E(78454).StringDecoder),this.decoder=new oe(le.encoding),this.encoding=le.encoding)}function u(le){if(S=S||E(74075),!(this instanceof u))return new u(le);this._readableState=new P(le,this,this instanceof S),this.readable=!0,le&&("function"==typeof le.read&&(this._read=le.read),"function"==typeof le.destroy&&(this._destroy=le.destroy)),x.call(this)}function h(le,he,re,de,pe){D("readableAddChunk",he);var ke,Se=le._readableState;if(null===he)Se.reading=!1,function M(le,he){if(D("onEofChunk"),!he.ended){if(he.decoder){var re=he.decoder.end();re&&re.length&&(he.buffer.push(re),he.length+=he.objectMode?1:re.length)}he.ended=!0,he.sync?d(le):(he.needReadable=!1,he.emittedReadable||(he.emittedReadable=!0,v(le)))}}(le,Se);else if(pe||(ke=function w(le,he){var re;return!function $(le){return B.isBuffer(le)||le instanceof A}(he)&&"string"!=typeof he&&void 0!==he&&!le.objectMode&&(re=new J("chunk",["string","Buffer","Uint8Array"],he)),re}(Se,he)),ke)ve(le,ke);else if(Se.objectMode||he&&he.length>0)if("string"!=typeof he&&!Se.objectMode&&Object.getPrototypeOf(he)!==B.prototype&&(he=function N(le){return B.from(le)}(he)),de)Se.endEmitted?ve(le,new se):g(le,Se,he,!0);else if(Se.ended)ve(le,new q);else{if(Se.destroyed)return!1;Se.reading=!1,Se.decoder&&!re?(he=Se.decoder.write(he),Se.objectMode||0!==he.length?g(le,Se,he,!1):W(le,Se)):g(le,Se,he,!1)}else de||(Se.reading=!1,W(le,Se));return!Se.ended&&(Se.length<Se.highWaterMark||0===Se.length)}function g(le,he,re,de){he.flowing&&0===he.length&&!he.sync?(he.awaitDrain=0,le.emit("data",re)):(he.length+=he.objectMode?1:re.length,de?he.buffer.unshift(re):he.buffer.push(re),he.needReadable&&d(le)),W(le,he)}Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(he){this._readableState&&(this._readableState.destroyed=he)}}),u.prototype.destroy=V.destroy,u.prototype._undestroy=V.undestroy,u.prototype._destroy=function(le,he){he(le)},u.prototype.push=function(le,he){var de,re=this._readableState;return re.objectMode?de=!0:"string"==typeof le&&((he=he||re.defaultEncoding)!==re.encoding&&(le=B.from(le,he),he=""),de=!0),h(this,le,he,!1,de)},u.prototype.unshift=function(le){return h(this,le,null,!0,!1)},u.prototype.isPaused=function(){return!1===this._readableState.flowing},u.prototype.setEncoding=function(le){oe||(oe=E(78454).StringDecoder);var he=new oe(le);this._readableState.decoder=he,this._readableState.encoding=this._readableState.decoder.encoding;for(var re=this._readableState.buffer.head,de="";null!==re;)de+=he.write(re.data),re=re.next;return this._readableState.buffer.clear(),""!==de&&this._readableState.buffer.push(de),this._readableState.length=de.length,this};var T=1073741824;function j(le,he){return le<=0||0===he.length&&he.ended?0:he.objectMode?1:le!=le?he.flowing&&he.length?he.buffer.head.data.length:he.length:(le>he.highWaterMark&&(he.highWaterMark=function C(le){return le>=T?le=T:(le--,le|=le>>>1,le|=le>>>2,le|=le>>>4,le|=le>>>8,le|=le>>>16,le++),le}(le)),le<=he.length?le:he.ended?he.length:(he.needReadable=!0,0))}function d(le){var he=le._readableState;D("emitReadable",he.needReadable,he.emittedReadable),he.needReadable=!1,he.emittedReadable||(D("emitReadable",he.flowing),he.emittedReadable=!0,p.nextTick(v,le))}function v(le){var he=le._readableState;D("emitReadable_",he.destroyed,he.length,he.ended),!he.destroyed&&(he.length||he.ended)&&(le.emit("readable"),he.emittedReadable=!1),he.needReadable=!he.flowing&&!he.ended&&he.length<=he.highWaterMark,be(le)}function W(le,he){he.readingMore||(he.readingMore=!0,p.nextTick(H,le,he))}function H(le,he){for(;!he.reading&&!he.ended&&(he.length<he.highWaterMark||he.flowing&&0===he.length);){var re=he.length;if(D("maybeReadMore read 0"),le.read(0),re===he.length)break}he.readingMore=!1}function fe(le){var he=le._readableState;he.readableListening=le.listenerCount("readable")>0,he.resumeScheduled&&!he.paused?he.flowing=!0:le.listenerCount("data")>0&&le.resume()}function Ae(le){D("readable nexttick read 0"),le.read(0)}function Le(le,he){D("resume",he.reading),he.reading||le.read(0),he.resumeScheduled=!1,le.emit("resume"),be(le),he.flowing&&!he.reading&&le.read(0)}function be(le){var he=le._readableState;for(D("flow",he.flowing);he.flowing&&null!==le.read(););}function ge(le,he){return 0===he.length?null:(he.objectMode?re=he.buffer.shift():!le||le>=he.length?(re=he.decoder?he.buffer.join(""):1===he.buffer.length?he.buffer.first():he.buffer.concat(he.length),he.buffer.clear()):re=he.buffer.consume(le,he.decoder),re);var re}function Re(le){var he=le._readableState;D("endReadable",he.endEmitted),he.endEmitted||(he.ended=!0,p.nextTick(me,he,le))}function me(le,he){if(D("endReadableNT",le.endEmitted,le.length),!le.endEmitted&&0===le.length&&(le.endEmitted=!0,he.readable=!1,he.emit("end"),le.autoDestroy)){var re=he._writableState;(!re||re.autoDestroy&&re.finished)&&he.destroy()}}function xe(le,he){for(var re=0,de=le.length;re<de;re++)if(le[re]===he)return re;return-1}u.prototype.read=function(le){D("read",le),le=parseInt(le,10);var he=this._readableState,re=le;if(0!==le&&(he.emittedReadable=!1),0===le&&he.needReadable&&((0!==he.highWaterMark?he.length>=he.highWaterMark:he.length>0)||he.ended))return D("read: emitReadable",he.length,he.ended),0===he.length&&he.ended?Re(this):d(this),null;if(0===(le=j(le,he))&&he.ended)return 0===he.length&&Re(this),null;var pe,de=he.needReadable;return D("need readable",de),(0===he.length||he.length-le<he.highWaterMark)&&D("length less than watermark",de=!0),he.ended||he.reading?D("reading or ended",de=!1):de&&(D("do read"),he.reading=!0,he.sync=!0,0===he.length&&(he.needReadable=!0),this._read(he.highWaterMark),he.sync=!1,he.reading||(le=j(re,he))),null===(pe=le>0?ge(le,he):null)?(he.needReadable=he.length<=he.highWaterMark,le=0):(he.length-=le,he.awaitDrain=0),0===he.length&&(he.ended||(he.needReadable=!0),re!==le&&he.ended&&Re(this)),null!==pe&&this.emit("data",pe),pe},u.prototype._read=function(le){ve(this,new ne("_read()"))},u.prototype.pipe=function(le,he){var re=this,de=this._readableState;switch(de.pipesCount){case 0:de.pipes=le;break;case 1:de.pipes=[de.pipes,le];break;default:de.pipes.push(le)}de.pipesCount+=1,D("pipe count=%d opts=%j",de.pipesCount,he);var Se=he&&!1===he.end||le===p.stdout||le===p.stderr?m:Fe;function Fe(){D("onend"),le.end()}de.endEmitted?p.nextTick(Se):re.once("end",Se),le.on("unpipe",function ke(F,ie){D("onunpipe"),F===re&&ie&&!1===ie.hasUnpiped&&(ie.hasUnpiped=!0,function Xe(){D("cleanup"),le.removeListener("close",U),le.removeListener("finish",_),le.removeListener("drain",We),le.removeListener("error",lt),le.removeListener("unpipe",ke),re.removeListener("end",Fe),re.removeListener("end",m),re.removeListener("data",Ke),Tt=!0,de.awaitDrain&&(!le._writableState||le._writableState.needDrain)&&We()}())});var We=function ee(le){return function(){var re=le._readableState;D("pipeOnDrain",re.awaitDrain),re.awaitDrain&&re.awaitDrain--,0===re.awaitDrain&&G(le,"data")&&(re.flowing=!0,be(le))}}(re);le.on("drain",We);var Tt=!1;function Ke(F){D("ondata");var ie=le.write(F);D("dest.write",ie),!1===ie&&((1===de.pipesCount&&de.pipes===le||de.pipesCount>1&&-1!==xe(de.pipes,le))&&!Tt&&(D("false write response, pause",de.awaitDrain),de.awaitDrain++),re.pause())}function lt(F){D("onerror",F),m(),le.removeListener("error",lt),0===G(le,"error")&&ve(le,F)}function U(){le.removeListener("finish",_),m()}function _(){D("onfinish"),le.removeListener("close",U),m()}function m(){D("unpipe"),re.unpipe(le)}return re.on("data",Ke),function De(le,he,re){if("function"==typeof le.prependListener)return le.prependListener(he,re);le._events&&le._events[he]?Array.isArray(le._events[he])?le._events[he].unshift(re):le._events[he]=[re,le._events[he]]:le.on(he,re)}(le,"error",lt),le.once("close",U),le.once("finish",_),le.emit("pipe",re),de.flowing||(D("pipe resume"),re.resume()),le},u.prototype.unpipe=function(le){var he=this._readableState,re={hasUnpiped:!1};if(0===he.pipesCount)return this;if(1===he.pipesCount)return le&&le!==he.pipes||(le||(le=he.pipes),he.pipes=null,he.pipesCount=0,he.flowing=!1,le&&le.emit("unpipe",this,re)),this;if(!le){var de=he.pipes,pe=he.pipesCount;he.pipes=null,he.pipesCount=0,he.flowing=!1;for(var Se=0;Se<pe;Se++)de[Se].emit("unpipe",this,{hasUnpiped:!1});return this}var ke=xe(he.pipes,le);return-1===ke||(he.pipes.splice(ke,1),he.pipesCount-=1,1===he.pipesCount&&(he.pipes=he.pipes[0]),le.emit("unpipe",this,re)),this},u.prototype.addListener=u.prototype.on=function(le,he){var re=x.prototype.on.call(this,le,he),de=this._readableState;return"data"===le?(de.readableListening=this.listenerCount("readable")>0,!1!==de.flowing&&this.resume()):"readable"===le&&!de.endEmitted&&!de.readableListening&&(de.readableListening=de.needReadable=!0,de.flowing=!1,de.emittedReadable=!1,D("on readable",de.length,de.reading),de.length?d(this):de.reading||p.nextTick(Ae,this)),re},u.prototype.removeListener=function(le,he){var re=x.prototype.removeListener.call(this,le,he);return"readable"===le&&p.nextTick(fe,this),re},u.prototype.removeAllListeners=function(le){var he=x.prototype.removeAllListeners.apply(this,arguments);return("readable"===le||void 0===le)&&p.nextTick(fe,this),he},u.prototype.resume=function(){var le=this._readableState;return le.flowing||(D("resume"),le.flowing=!le.readableListening,function Pe(le,he){he.resumeScheduled||(he.resumeScheduled=!0,p.nextTick(Le,le,he))}(this,le)),le.paused=!1,this},u.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},u.prototype.wrap=function(le){var he=this,re=this._readableState,de=!1;for(var pe in le.on("end",function(){if(D("wrapped end"),re.decoder&&!re.ended){var ke=re.decoder.end();ke&&ke.length&&he.push(ke)}he.push(null)}),le.on("data",function(ke){D("wrapped data"),re.decoder&&(ke=re.decoder.write(ke)),re.objectMode&&null==ke||!(re.objectMode||ke&&ke.length)||he.push(ke)||(de=!0,le.pause())}),le)void 0===this[pe]&&"function"==typeof le[pe]&&(this[pe]=function(Fe){return function(){return le[Fe].apply(le,arguments)}}(pe));for(var Se=0;Se<_e.length;Se++)le.on(_e[Se],this.emit.bind(this,_e[Se]));return this._read=function(ke){D("wrapped _read",ke),de&&(de=!1,le.resume())},this},"function"==typeof Symbol&&(u.prototype[Symbol.asyncIterator]=function(){return void 0===ue&&(ue=E(6320)),ue(this)}),Object.defineProperty(u.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(u.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(u.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(he){this._readableState&&(this._readableState.flowing=he)}}),u._fromList=ge,Object.defineProperty(u.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(u.from=function(le,he){return void 0===ae&&(ae=E(87654)),ae(u,le,he)})},2909:(Be,z,E)=>{"use strict";Be.exports=N;var p=E(26113).F,S=p.ERR_METHOD_NOT_IMPLEMENTED,O=p.ERR_MULTIPLE_CALLBACK,G=p.ERR_TRANSFORM_ALREADY_TRANSFORMING,x=p.ERR_TRANSFORM_WITH_LENGTH_0,B=E(74075);function A(D,X){var V=this._transformState;V.transforming=!1;var Z=V.writecb;if(null===Z)return this.emit("error",new O);V.writechunk=null,V.writecb=null,null!=X&&this.push(X),Z(D);var Q=this._readableState;Q.reading=!1,(Q.needReadable||Q.length<Q.highWaterMark)&&this._read(Q.highWaterMark)}function N(D){if(!(this instanceof N))return new N(D);B.call(this,D),this._transformState={afterTransform:A.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,D&&("function"==typeof D.transform&&(this._transform=D.transform),"function"==typeof D.flush&&(this._flush=D.flush)),this.on("prefinish",$)}function $(){var D=this;"function"!=typeof this._flush||this._readableState.destroyed?K(this,null,null):this._flush(function(X,V){K(D,X,V)})}function K(D,X,V){if(X)return D.emit("error",X);if(null!=V&&D.push(V),D._writableState.length)throw new x;if(D._transformState.transforming)throw new G;return D.push(null)}E(71993)(N,B),N.prototype.push=function(D,X){return this._transformState.needTransform=!1,B.prototype.push.call(this,D,X)},N.prototype._transform=function(D,X,V){V(new S("_transform()"))},N.prototype._write=function(D,X,V){var Z=this._transformState;if(Z.writecb=V,Z.writechunk=D,Z.writeencoding=X,!Z.transforming){var Q=this._readableState;(Z.needTransform||Q.needReadable||Q.length<Q.highWaterMark)&&this._read(Q.highWaterMark)}},N.prototype._read=function(D){var X=this._transformState;null===X.writechunk||X.transforming?X.needTransform=!0:(X.transforming=!0,this._transform(X.writechunk,X.writeencoding,X.afterTransform))},N.prototype._destroy=function(D,X){B.prototype._destroy.call(this,D,function(V){X(V)})}},47849:(Be,z,E)=>{"use strict";var G,p=E(40573);function O(be){var ge=this;this.next=null,this.entry=null,this.finish=function(){!function Le(be,ge,Re){var me=be.entry;for(be.entry=null;me;){var xe=me.callback;ge.pendingcb--,xe(Re),me=me.next}ge.corkedRequestsFree.next=be}(ge,be)}}Be.exports=P,P.WritableState=_e;var De,x={deprecate:E(3398)},B=E(18342),A=E(83838).Buffer,N=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},D=E(21509),V=E(42934).getHighWaterMark,Z=E(26113).F,Q=Z.ERR_INVALID_ARG_TYPE,te=Z.ERR_METHOD_NOT_IMPLEMENTED,J=Z.ERR_MULTIPLE_CALLBACK,q=Z.ERR_STREAM_CANNOT_PIPE,ne=Z.ERR_STREAM_DESTROYED,se=Z.ERR_STREAM_NULL_VALUES,oe=Z.ERR_STREAM_WRITE_AFTER_END,ue=Z.ERR_UNKNOWN_ENCODING,ae=D.errorOrDestroy;function ve(){}function _e(be,ge,Re){G=G||E(74075),"boolean"!=typeof Re&&(Re=ge instanceof G),this.objectMode=!!(be=be||{}).objectMode,Re&&(this.objectMode=this.objectMode||!!be.writableObjectMode),this.highWaterMark=V(this,be,"writableHighWaterMark",Re),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===be.decodeStrings),this.defaultEncoding=be.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(xe){!function M(be,ge){var Re=be._writableState,me=Re.sync,xe=Re.writecb;if("function"!=typeof xe)throw new J;if(function j(be){be.writing=!1,be.writecb=null,be.length-=be.writelen,be.writelen=0}(Re),ge)!function C(be,ge,Re,me,xe){--ge.pendingcb,Re?(p.nextTick(xe,me),p.nextTick(Ae,be,ge),be._writableState.errorEmitted=!0,ae(be,me)):(xe(me),be._writableState.errorEmitted=!0,ae(be,me),Ae(be,ge))}(be,Re,me,ge,xe);else{var le=H(Re)||be.destroyed;!le&&!Re.corked&&!Re.bufferProcessing&&Re.bufferedRequest&&W(be,Re),me?p.nextTick(d,be,Re,le,xe):d(be,Re,le,xe)}}(ge,xe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==be.emitClose,this.autoDestroy=!!be.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new O(this)}function P(be){var ge=this instanceof(G=G||E(74075));if(!ge&&!De.call(P,this))return new P(be);this._writableState=new _e(be,this,ge),this.writable=!0,be&&("function"==typeof be.write&&(this._write=be.write),"function"==typeof be.writev&&(this._writev=be.writev),"function"==typeof be.destroy&&(this._destroy=be.destroy),"function"==typeof be.final&&(this._final=be.final)),B.call(this)}function T(be,ge,Re,me,xe,le,he){ge.writelen=me,ge.writecb=he,ge.writing=!0,ge.sync=!0,ge.destroyed?ge.onwrite(new ne("write")):Re?be._writev(xe,ge.onwrite):be._write(xe,le,ge.onwrite),ge.sync=!1}function d(be,ge,Re,me){Re||function v(be,ge){0===ge.length&&ge.needDrain&&(ge.needDrain=!1,be.emit("drain"))}(be,ge),ge.pendingcb--,me(),Ae(be,ge)}function W(be,ge){ge.bufferProcessing=!0;var Re=ge.bufferedRequest;if(be._writev&&Re&&Re.next){var xe=new Array(ge.bufferedRequestCount),le=ge.corkedRequestsFree;le.entry=Re;for(var he=0,re=!0;Re;)xe[he]=Re,Re.isBuf||(re=!1),Re=Re.next,he+=1;xe.allBuffers=re,T(be,ge,!0,ge.length,xe,"",le.finish),ge.pendingcb++,ge.lastBufferedRequest=null,le.next?(ge.corkedRequestsFree=le.next,le.next=null):ge.corkedRequestsFree=new O(ge),ge.bufferedRequestCount=0}else{for(;Re;){var de=Re.chunk;if(T(be,ge,!1,ge.objectMode?1:de.length,de,Re.encoding,Re.callback),Re=Re.next,ge.bufferedRequestCount--,ge.writing)break}null===Re&&(ge.lastBufferedRequest=null)}ge.bufferedRequest=Re,ge.bufferProcessing=!1}function H(be){return be.ending&&0===be.length&&null===be.bufferedRequest&&!be.finished&&!be.writing}function ee(be,ge){be._final(function(Re){ge.pendingcb--,Re&&ae(be,Re),ge.prefinished=!0,be.emit("prefinish"),Ae(be,ge)})}function Ae(be,ge){var Re=H(ge);if(Re&&(function fe(be,ge){!ge.prefinished&&!ge.finalCalled&&("function"!=typeof be._final||ge.destroyed?(ge.prefinished=!0,be.emit("prefinish")):(ge.pendingcb++,ge.finalCalled=!0,p.nextTick(ee,be,ge)))}(be,ge),0===ge.pendingcb&&(ge.finished=!0,be.emit("finish"),ge.autoDestroy))){var me=be._readableState;(!me||me.autoDestroy&&me.endEmitted)&&be.destroy()}return Re}E(71993)(P,B),_e.prototype.getBuffer=function(){for(var ge=this.bufferedRequest,Re=[];ge;)Re.push(ge),ge=ge.next;return Re},function(){try{Object.defineProperty(_e.prototype,"buffer",{get:x.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(De=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(ge){return!!De.call(this,ge)||this===P&&ge&&ge._writableState instanceof _e}})):De=function(ge){return ge instanceof this},P.prototype.pipe=function(){ae(this,new q)},P.prototype.write=function(be,ge,Re){var me=this._writableState,xe=!1,le=!me.objectMode&&function K(be){return A.isBuffer(be)||be instanceof N}(be);return le&&!A.isBuffer(be)&&(be=function $(be){return A.from(be)}(be)),"function"==typeof ge&&(Re=ge,ge=null),le?ge="buffer":ge||(ge=me.defaultEncoding),"function"!=typeof Re&&(Re=ve),me.ending?function u(be,ge){var Re=new oe;ae(be,Re),p.nextTick(ge,Re)}(this,Re):(le||function h(be,ge,Re,me){var xe;return null===Re?xe=new se:"string"!=typeof Re&&!ge.objectMode&&(xe=new Q("chunk",["string","Buffer"],Re)),!xe||(ae(be,xe),p.nextTick(me,xe),!1)}(this,me,be,Re))&&(me.pendingcb++,xe=function w(be,ge,Re,me,xe,le){if(!Re){var he=function g(be,ge,Re){return!be.objectMode&&!1!==be.decodeStrings&&"string"==typeof ge&&(ge=A.from(ge,Re)),ge}(ge,me,xe);me!==he&&(Re=!0,xe="buffer",me=he)}var re=ge.objectMode?1:me.length;ge.length+=re;var de=ge.length<ge.highWaterMark;if(de||(ge.needDrain=!0),ge.writing||ge.corked){var pe=ge.lastBufferedRequest;ge.lastBufferedRequest={chunk:me,encoding:xe,isBuf:Re,callback:le,next:null},pe?pe.next=ge.lastBufferedRequest:ge.bufferedRequest=ge.lastBufferedRequest,ge.bufferedRequestCount+=1}else T(be,ge,!1,re,me,xe,le);return de}(this,me,le,be,ge,Re)),xe},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var be=this._writableState;be.corked&&(be.corked--,!be.writing&&!be.corked&&!be.bufferProcessing&&be.bufferedRequest&&W(this,be))},P.prototype.setDefaultEncoding=function(ge){if("string"==typeof ge&&(ge=ge.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ge+"").toLowerCase())>-1))throw new ue(ge);return this._writableState.defaultEncoding=ge,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(be,ge,Re){Re(new te("_write()"))},P.prototype._writev=null,P.prototype.end=function(be,ge,Re){var me=this._writableState;return"function"==typeof be?(Re=be,be=null,ge=null):"function"==typeof ge&&(Re=ge,ge=null),null!=be&&this.write(be,ge),me.corked&&(me.corked=1,this.uncork()),me.ending||function Pe(be,ge,Re){ge.ending=!0,Ae(be,ge),Re&&(ge.finished?p.nextTick(Re):be.once("finish",Re)),ge.ended=!0,be.writable=!1}(this,me,Re),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ge){this._writableState&&(this._writableState.destroyed=ge)}}),P.prototype.destroy=D.destroy,P.prototype._undestroy=D.undestroy,P.prototype._destroy=function(be,ge){ge(be)}},6320:(Be,z,E)=>{"use strict";var S,p=E(40573);function O(oe,ue,ae){return ue=function G(oe){var ue=function x(oe,ue){if("object"!=typeof oe||null===oe)return oe;var ae=oe[Symbol.toPrimitive];if(void 0!==ae){var ve=ae.call(oe,ue||"default");if("object"!=typeof ve)return ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ue?String:Number)(oe)}(oe,"string");return"symbol"==typeof ue?ue:String(ue)}(ue),ue in oe?Object.defineProperty(oe,ue,{value:ae,enumerable:!0,configurable:!0,writable:!0}):oe[ue]=ae,oe}var B=E(33139),A=Symbol("lastResolve"),N=Symbol("lastReject"),$=Symbol("error"),K=Symbol("ended"),D=Symbol("lastPromise"),X=Symbol("handlePromise"),V=Symbol("stream");function Z(oe,ue){return{value:oe,done:ue}}function Q(oe){var ue=oe[A];if(null!==ue){var ae=oe[V].read();null!==ae&&(oe[D]=null,oe[A]=null,oe[N]=null,ue(Z(ae,!1)))}}function te(oe){p.nextTick(Q,oe)}var q=Object.getPrototypeOf(function(){}),ne=Object.setPrototypeOf((O(S={get stream(){return this[V]},next:function(){var ue=this,ae=this[$];if(null!==ae)return Promise.reject(ae);if(this[K])return Promise.resolve(Z(void 0,!0));if(this[V].destroyed)return new Promise(function(P,u){p.nextTick(function(){ue[$]?u(ue[$]):P(Z(void 0,!0))})});var _e,ve=this[D];if(ve)_e=new Promise(function J(oe,ue){return function(ae,ve){oe.then(function(){ue[K]?ae(Z(void 0,!0)):ue[X](ae,ve)},ve)}}(ve,this));else{var De=this[V].read();if(null!==De)return Promise.resolve(Z(De,!1));_e=new Promise(this[X])}return this[D]=_e,_e}},Symbol.asyncIterator,function(){return this}),O(S,"return",function(){var ue=this;return new Promise(function(ae,ve){ue[V].destroy(null,function(_e){_e?ve(_e):ae(Z(void 0,!0))})})}),S),q);Be.exports=function(ue){var ae,ve=Object.create(ne,(O(ae={},V,{value:ue,writable:!0}),O(ae,A,{value:null,writable:!0}),O(ae,N,{value:null,writable:!0}),O(ae,$,{value:null,writable:!0}),O(ae,K,{value:ue._readableState.endEmitted,writable:!0}),O(ae,X,{value:function(De,P){var u=ve[V].read();u?(ve[D]=null,ve[A]=null,ve[N]=null,De(Z(u,!1))):(ve[A]=De,ve[N]=P)},writable:!0}),ae));return ve[D]=null,B(ue,function(_e){if(_e&&"ERR_STREAM_PREMATURE_CLOSE"!==_e.code){var De=ve[N];return null!==De&&(ve[D]=null,ve[A]=null,ve[N]=null,De(_e)),void(ve[$]=_e)}var P=ve[A];null!==P&&(ve[D]=null,ve[A]=null,ve[N]=null,P(Z(void 0,!0))),ve[K]=!0}),ue.on("readable",te.bind(null,ve)),ve}},19588:(Be,z,E)=>{"use strict";function p(Q,te){var J=Object.keys(Q);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(Q);te&&(q=q.filter(function(ne){return Object.getOwnPropertyDescriptor(Q,ne).enumerable})),J.push.apply(J,q)}return J}function S(Q){for(var te=1;te<arguments.length;te++){var J=null!=arguments[te]?arguments[te]:{};te%2?p(Object(J),!0).forEach(function(q){O(Q,q,J[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(J)):p(Object(J)).forEach(function(q){Object.defineProperty(Q,q,Object.getOwnPropertyDescriptor(J,q))})}return Q}function O(Q,te,J){return(te=A(te))in Q?Object.defineProperty(Q,te,{value:J,enumerable:!0,configurable:!0,writable:!0}):Q[te]=J,Q}function x(Q,te){for(var J=0;J<te.length;J++){var q=te[J];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(Q,A(q.key),q)}}function A(Q){var te=function N(Q,te){if("object"!=typeof Q||null===Q)return Q;var J=Q[Symbol.toPrimitive];if(void 0!==J){var q=J.call(Q,te||"default");if("object"!=typeof q)return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===te?String:Number)(Q)}(Q,"string");return"symbol"==typeof te?te:String(te)}var K=E(83838).Buffer,X=E(15340).inspect,V=X&&X.custom||"inspect";function Z(Q,te,J){K.prototype.copy.call(Q,te,J)}Be.exports=function(){function Q(){(function G(Q,te){if(!(Q instanceof te))throw new TypeError("Cannot call a class as a function")})(this,Q),this.head=null,this.tail=null,this.length=0}return function B(Q,te,J){te&&x(Q.prototype,te),J&&x(Q,J),Object.defineProperty(Q,"prototype",{writable:!1})}(Q,[{key:"push",value:function(J){var q={data:J,next:null};this.length>0?this.tail.next=q:this.head=q,this.tail=q,++this.length}},{key:"unshift",value:function(J){var q={data:J,next:this.head};0===this.length&&(this.tail=q),this.head=q,++this.length}},{key:"shift",value:function(){if(0!==this.length){var J=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,J}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(J){if(0===this.length)return"";for(var q=this.head,ne=""+q.data;q=q.next;)ne+=J+q.data;return ne}},{key:"concat",value:function(J){if(0===this.length)return K.alloc(0);for(var q=K.allocUnsafe(J>>>0),ne=this.head,se=0;ne;)Z(ne.data,q,se),se+=ne.data.length,ne=ne.next;return q}},{key:"consume",value:function(J,q){var ne;return J<this.head.data.length?(ne=this.head.data.slice(0,J),this.head.data=this.head.data.slice(J)):ne=J===this.head.data.length?this.shift():q?this._getString(J):this._getBuffer(J),ne}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(J){var q=this.head,ne=1,se=q.data;for(J-=se.length;q=q.next;){var oe=q.data,ue=J>oe.length?oe.length:J;if(se+=ue===oe.length?oe:oe.slice(0,J),0==(J-=ue)){ue===oe.length?(++ne,this.head=q.next?q.next:this.tail=null):(this.head=q,q.data=oe.slice(ue));break}++ne}return this.length-=ne,se}},{key:"_getBuffer",value:function(J){var q=K.allocUnsafe(J),ne=this.head,se=1;for(ne.data.copy(q),J-=ne.data.length;ne=ne.next;){var oe=ne.data,ue=J>oe.length?oe.length:J;if(oe.copy(q,q.length-J,0,ue),0==(J-=ue)){ue===oe.length?(++se,this.head=ne.next?ne.next:this.tail=null):(this.head=ne,ne.data=oe.slice(ue));break}++se}return this.length-=se,q}},{key:V,value:function(J,q){return X(this,S(S({},q),{},{depth:0,customInspect:!1}))}}]),Q}()},21509:(Be,z,E)=>{"use strict";var p=E(40573);function O(N,$){B(N,$),G(N)}function G(N){N._writableState&&!N._writableState.emitClose||N._readableState&&!N._readableState.emitClose||N.emit("close")}function B(N,$){N.emit("error",$)}Be.exports={destroy:function S(N,$){var K=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?($?$(N):N&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.nextTick(B,this,N)):p.nextTick(B,this,N)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(N||null,function(V){!$&&V?K._writableState?K._writableState.errorEmitted?p.nextTick(G,K):(K._writableState.errorEmitted=!0,p.nextTick(O,K,V)):p.nextTick(O,K,V):$?(p.nextTick(G,K),$(V)):p.nextTick(G,K)}),this)},undestroy:function x(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function A(N,$){var K=N._readableState,D=N._writableState;K&&K.autoDestroy||D&&D.autoDestroy?N.destroy($):N.emit("error",$)}}},33139:(Be,z,E)=>{"use strict";var p=E(26113).F.ERR_STREAM_PREMATURE_CLOSE;function O(){}Be.exports=function x(B,A,N){if("function"==typeof A)return x(B,null,A);A||(A={}),N=function S(B){var A=!1;return function(){if(!A){A=!0;for(var N=arguments.length,$=new Array(N),K=0;K<N;K++)$[K]=arguments[K];B.apply(this,$)}}}(N||O);var $=A.readable||!1!==A.readable&&B.readable,K=A.writable||!1!==A.writable&&B.writable,D=function(){B.writable||V()},X=B._writableState&&B._writableState.finished,V=function(){K=!1,X=!0,$||N.call(B)},Z=B._readableState&&B._readableState.endEmitted,Q=function(){$=!1,Z=!0,K||N.call(B)},te=function(se){N.call(B,se)},J=function(){var se;return $&&!Z?((!B._readableState||!B._readableState.ended)&&(se=new p),N.call(B,se)):K&&!X?((!B._writableState||!B._writableState.ended)&&(se=new p),N.call(B,se)):void 0},q=function(){B.req.on("finish",V)};return function G(B){return B.setHeader&&"function"==typeof B.abort}(B)?(B.on("complete",V),B.on("abort",J),B.req?q():B.on("request",q)):K&&!B._writableState&&(B.on("end",D),B.on("close",D)),B.on("end",Q),B.on("finish",V),!1!==A.error&&B.on("error",te),B.on("close",J),function(){B.removeListener("complete",V),B.removeListener("abort",J),B.removeListener("request",q),B.req&&B.req.removeListener("finish",V),B.removeListener("end",D),B.removeListener("close",D),B.removeListener("finish",V),B.removeListener("end",Q),B.removeListener("error",te),B.removeListener("close",J)}}},87654:Be=>{Be.exports=function(){throw new Error("Readable.from is not available in the browser")}},96249:(Be,z,E)=>{"use strict";var p,O=E(26113).F,G=O.ERR_MISSING_ARGS,x=O.ERR_STREAM_DESTROYED;function B(V){if(V)throw V}function $(V){V()}function K(V,Z){return V.pipe(Z)}Be.exports=function X(){for(var V=arguments.length,Z=new Array(V),Q=0;Q<V;Q++)Z[Q]=arguments[Q];var te=function D(V){return V.length&&"function"==typeof V[V.length-1]?V.pop():B}(Z);if(Array.isArray(Z[0])&&(Z=Z[0]),Z.length<2)throw new G("streams");var J,q=Z.map(function(ne,se){var oe=se<Z.length-1;return function N(V,Z,Q,te){te=function S(V){var Z=!1;return function(){Z||(Z=!0,V.apply(void 0,arguments))}}(te);var J=!1;V.on("close",function(){J=!0}),void 0===p&&(p=E(33139)),p(V,{readable:Z,writable:Q},function(ne){if(ne)return te(ne);J=!0,te()});var q=!1;return function(ne){if(!J&&!q){if(q=!0,function A(V){return V.setHeader&&"function"==typeof V.abort}(V))return V.abort();if("function"==typeof V.destroy)return V.destroy();te(ne||new x("pipe"))}}}(ne,oe,se>0,function(ae){J||(J=ae),ae&&q.forEach($),!oe&&(q.forEach($),te(J))})});return Z.reduce(K)}},42934:(Be,z,E)=>{"use strict";var p=E(26113).F.ERR_INVALID_OPT_VALUE;Be.exports={getHighWaterMark:function O(G,x,B,A){var N=function S(G,x,B){return null!=G.highWaterMark?G.highWaterMark:x?G[B]:null}(x,A,B);if(null!=N){if(!isFinite(N)||Math.floor(N)!==N||N<0)throw new p(A?B:"highWaterMark",N);return Math.floor(N)}return G.objectMode?16:16384}}},18342:(Be,z,E)=>{Be.exports=E(44356).EventEmitter},5942:(Be,z,E)=>{(z=Be.exports=E(19609)).Stream=z,z.Readable=z,z.Writable=E(47849),z.Duplex=E(74075),z.Transform=E(2909),z.PassThrough=E(18823),z.finished=E(33139),z.pipeline=E(96249)},85493:(Be,z,E)=>{"use strict";var S=E(29293).default;z.s=void 0;const O=E(5942);z.s=class G extends O.Readable{constructor(B){super(),this.bytesRead=0,this.released=!1,this.reader=B.getReader()}_read(){var B=this;return S(function*(){if(B.released)return void B.push(null);B.pendingRead=B.reader.read();const A=yield B.pendingRead;delete B.pendingRead,A.done||B.released?B.push(null):(B.bytesRead+=A.value.length,B.push(A.value))})()}waitForReadToComplete(){var B=this;return S(function*(){B.pendingRead&&(yield B.pendingRead)})()}close(){var B=this;return S(function*(){yield B.syncAndRelease()})()}syncAndRelease(){var B=this;return S(function*(){B.released=!0,yield B.waitForReadToComplete(),yield B.reader.releaseLock()})()}}},36636:(Be,z,E)=>{"use strict";var p=E(83838).Buffer,S=E(71993),O=E(13686),G=new Array(16),x=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],B=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],A=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],N=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],$=[0,1518500249,1859775393,2400959708,2840853838],K=[1352829926,1548603684,1836072691,2053994217,0];function D(){O.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function X(q,ne){return q<<ne|q>>>32-ne}function V(q,ne,se,oe,ue,ae,ve,_e){return X(q+(ne^se^oe)+ae+ve|0,_e)+ue|0}function Z(q,ne,se,oe,ue,ae,ve,_e){return X(q+(ne&se|~ne&oe)+ae+ve|0,_e)+ue|0}function Q(q,ne,se,oe,ue,ae,ve,_e){return X(q+((ne|~se)^oe)+ae+ve|0,_e)+ue|0}function te(q,ne,se,oe,ue,ae,ve,_e){return X(q+(ne&oe|se&~oe)+ae+ve|0,_e)+ue|0}function J(q,ne,se,oe,ue,ae,ve,_e){return X(q+(ne^(se|~oe))+ae+ve|0,_e)+ue|0}S(D,O),D.prototype._update=function(){for(var q=G,ne=0;ne<16;++ne)q[ne]=this._block.readInt32LE(4*ne);for(var se=0|this._a,oe=0|this._b,ue=0|this._c,ae=0|this._d,ve=0|this._e,_e=0|this._a,De=0|this._b,P=0|this._c,u=0|this._d,h=0|this._e,g=0;g<80;g+=1){var w,T;g<16?(w=V(se,oe,ue,ae,ve,q[x[g]],$[0],A[g]),T=J(_e,De,P,u,h,q[B[g]],K[0],N[g])):g<32?(w=Z(se,oe,ue,ae,ve,q[x[g]],$[1],A[g]),T=te(_e,De,P,u,h,q[B[g]],K[1],N[g])):g<48?(w=Q(se,oe,ue,ae,ve,q[x[g]],$[2],A[g]),T=Q(_e,De,P,u,h,q[B[g]],K[2],N[g])):g<64?(w=te(se,oe,ue,ae,ve,q[x[g]],$[3],A[g]),T=Z(_e,De,P,u,h,q[B[g]],K[3],N[g])):(w=J(se,oe,ue,ae,ve,q[x[g]],$[4],A[g]),T=V(_e,De,P,u,h,q[B[g]],K[4],N[g])),se=ve,ve=ae,ae=X(ue,10),ue=oe,oe=w,_e=h,h=u,u=X(P,10),P=De,De=T}var C=this._b+ue+u|0;this._b=this._c+ae+h|0,this._c=this._d+ve+_e|0,this._d=this._e+se+De|0,this._e=this._a+oe+P|0,this._a=C},D.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var q=p.alloc?p.alloc(20):new p(20);return q.writeInt32LE(this._a,0),q.writeInt32LE(this._b,4),q.writeInt32LE(this._c,8),q.writeInt32LE(this._d,12),q.writeInt32LE(this._e,16),q},Be.exports=D},81725:(Be,z,E)=>{Be.exports=function S(O,G,x){if("number"!=typeof G)throw new Error("second argument must be a Number");let B,A,N,$,K,X,D=!0;function V(Q){function te(){x&&x(Q,B),x=null}D?p(te):te()}function Z(Q,te,J){if(B[Q]=J,te&&(K=!0),0==--N||te)V(te);else if(!K&&X<A){let q;$?(q=$[X],X+=1,O[q](function(ne,se){Z(q,ne,se)})):(q=X,X+=1,O[q](function(ne,se){Z(q,ne,se)}))}}Array.isArray(O)?(B=[],N=A=O.length):($=Object.keys(O),B={},N=A=$.length),X=G,N?$?$.some(function(Q,te){return O[Q](function(J,q){Z(Q,J,q)}),te===G-1}):O.some(function(Q,te){return Q(function(J,q){Z(te,J,q)}),te===G-1}):V(null),D=!1};const p=E(24515)},84412:(Be,z,E)=>{"use strict";E.d(z,{t:()=>S});var p=E(21413);class S extends p.B{constructor(G){super(),this._value=G}get value(){return this.getValue()}_subscribe(G){const x=super._subscribe(G);return!x.closed&&G.next(this._value),x}getValue(){const{hasError:G,thrownError:x,_value:B}=this;if(G)throw x;return this._throwIfClosed(),B}next(G){super.next(this._value=G)}}},71985:(Be,z,E)=>{"use strict";E.d(z,{c:()=>N});var p=E(47707),S=E(18359),O=E(3494),G=E(71203),x=E(41026),B=E(98071),A=E(49786);let N=(()=>{class X{constructor(Z){Z&&(this._subscribe=Z)}lift(Z){const Q=new X;return Q.source=this,Q.operator=Z,Q}subscribe(Z,Q,te){const J=function D(X){return X&&X instanceof p.vU||function K(X){return X&&(0,B.T)(X.next)&&(0,B.T)(X.error)&&(0,B.T)(X.complete)}(X)&&(0,S.Uv)(X)}(Z)?Z:new p.Ms(Z,Q,te);return(0,A.Y)(()=>{const{operator:q,source:ne}=this;J.add(q?q.call(J,ne):ne?this._subscribe(J):this._trySubscribe(J))}),J}_trySubscribe(Z){try{return this._subscribe(Z)}catch(Q){Z.error(Q)}}forEach(Z,Q){return new(Q=$(Q))((te,J)=>{const q=new p.Ms({next:ne=>{try{Z(ne)}catch(se){J(se),q.unsubscribe()}},error:J,complete:te});this.subscribe(q)})}_subscribe(Z){var Q;return null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(Z)}[O.s](){return this}pipe(...Z){return(0,G.m)(Z)(this)}toPromise(Z){return new(Z=$(Z))((Q,te)=>{let J;this.subscribe(q=>J=q,q=>te(q),()=>Q(J))})}}return X.create=V=>new X(V),X})();function $(X){var V;return null!==(V=X??x.$.Promise)&&void 0!==V?V:Promise}},92771:(Be,z,E)=>{"use strict";E.d(z,{m:()=>O});var p=E(21413),S=E(86129);class O extends p.B{constructor(x=1/0,B=1/0,A=S.U){super(),this._bufferSize=x,this._windowTime=B,this._timestampProvider=A,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=B===1/0,this._bufferSize=Math.max(1,x),this._windowTime=Math.max(1,B)}next(x){const{isStopped:B,_buffer:A,_infiniteTimeWindow:N,_timestampProvider:$,_windowTime:K}=this;B||(A.push(x),!N&&A.push($.now()+K)),this._trimBuffer(),super.next(x)}_subscribe(x){this._throwIfClosed(),this._trimBuffer();const B=this._innerSubscribe(x),{_infiniteTimeWindow:A,_buffer:N}=this,$=N.slice();for(let K=0;K<$.length&&!x.closed;K+=A?1:2)x.next($[K]);return this._checkFinalizedStatuses(x),B}_trimBuffer(){const{_bufferSize:x,_timestampProvider:B,_buffer:A,_infiniteTimeWindow:N}=this,$=(N?1:2)*x;if(x<1/0&&$<A.length&&A.splice(0,A.length-$),!N){const K=B.now();let D=0;for(let X=1;X<A.length&&A[X]<=K;X+=2)D=X;D&&A.splice(0,D+1)}}}},21413:(Be,z,E)=>{"use strict";E.d(z,{B:()=>A});var p=E(71985),S=E(18359);const G=(0,E(81853).L)($=>function(){$(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var x=E(57908),B=E(49786);let A=(()=>{class $ extends p.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(D){const X=new N(this,this);return X.operator=D,X}_throwIfClosed(){if(this.closed)throw new G}next(D){(0,B.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(D)}})}error(D){(0,B.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=D;const{observers:X}=this;for(;X.length;)X.shift().error(D)}})}complete(){(0,B.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:D}=this;for(;D.length;)D.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var D;return(null===(D=this.observers)||void 0===D?void 0:D.length)>0}_trySubscribe(D){return this._throwIfClosed(),super._trySubscribe(D)}_subscribe(D){return this._throwIfClosed(),this._checkFinalizedStatuses(D),this._innerSubscribe(D)}_innerSubscribe(D){const{hasError:X,isStopped:V,observers:Z}=this;return X||V?S.Kn:(this.currentObservers=null,Z.push(D),new S.yU(()=>{this.currentObservers=null,(0,x.o)(Z,D)}))}_checkFinalizedStatuses(D){const{hasError:X,thrownError:V,isStopped:Z}=this;X?D.error(V):Z&&D.complete()}asObservable(){const D=new p.c;return D.source=this,D}}return $.create=(K,D)=>new N(K,D),$})();class N extends A{constructor(K,D){super(),this.destination=K,this.source=D}next(K){var D,X;null===(X=null===(D=this.destination)||void 0===D?void 0:D.next)||void 0===X||X.call(D,K)}error(K){var D,X;null===(X=null===(D=this.destination)||void 0===D?void 0:D.error)||void 0===X||X.call(D,K)}complete(){var K,D;null===(D=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===D||D.call(K)}_subscribe(K){var D,X;return null!==(X=null===(D=this.source)||void 0===D?void 0:D.subscribe(K))&&void 0!==X?X:S.Kn}}},47707:(Be,z,E)=>{"use strict";E.d(z,{Ms:()=>te,vU:()=>X});var p=E(98071),S=E(18359),O=E(41026),G=E(45334),x=E(85343);const B=$("C",void 0,void 0);function $(oe,ue,ae){return{kind:oe,value:ue,error:ae}}var K=E(19270),D=E(49786);class X extends S.yU{constructor(ue){super(),this.isStopped=!1,ue?(this.destination=ue,(0,S.Uv)(ue)&&ue.add(this)):this.destination=se}static create(ue,ae,ve){return new te(ue,ae,ve)}next(ue){this.isStopped?ne(function N(oe){return $("N",oe,void 0)}(ue),this):this._next(ue)}error(ue){this.isStopped?ne(function A(oe){return $("E",void 0,oe)}(ue),this):(this.isStopped=!0,this._error(ue))}complete(){this.isStopped?ne(B,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ue){this.destination.next(ue)}_error(ue){try{this.destination.error(ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const V=Function.prototype.bind;function Z(oe,ue){return V.call(oe,ue)}class Q{constructor(ue){this.partialObserver=ue}next(ue){const{partialObserver:ae}=this;if(ae.next)try{ae.next(ue)}catch(ve){J(ve)}}error(ue){const{partialObserver:ae}=this;if(ae.error)try{ae.error(ue)}catch(ve){J(ve)}else J(ue)}complete(){const{partialObserver:ue}=this;if(ue.complete)try{ue.complete()}catch(ae){J(ae)}}}class te extends X{constructor(ue,ae,ve){let _e;if(super(),(0,p.T)(ue)||!ue)_e={next:ue??void 0,error:ae??void 0,complete:ve??void 0};else{let De;this&&O.$.useDeprecatedNextContext?(De=Object.create(ue),De.unsubscribe=()=>this.unsubscribe(),_e={next:ue.next&&Z(ue.next,De),error:ue.error&&Z(ue.error,De),complete:ue.complete&&Z(ue.complete,De)}):_e=ue}this.destination=new Q(_e)}}function J(oe){O.$.useDeprecatedSynchronousErrorHandling?(0,D.l)(oe):(0,G.m)(oe)}function ne(oe,ue){const{onStoppedNotification:ae}=O.$;ae&&K.f.setTimeout(()=>ae(oe,ue))}const se={closed:!0,next:x.l,error:function q(oe){throw oe},complete:x.l}},18359:(Be,z,E)=>{"use strict";E.d(z,{Kn:()=>B,yU:()=>x,Uv:()=>A});var p=E(98071);const O=(0,E(81853).L)($=>function(D){$(this),this.message=D?`${D.length} errors occurred during unsubscription:\n${D.map((X,V)=>`${V+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=D});var G=E(57908);class x{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:D}=this;if(D)if(this._parentage=null,Array.isArray(D))for(const Z of D)Z.remove(this);else D.remove(this);const{initialTeardown:X}=this;if((0,p.T)(X))try{X()}catch(Z){K=Z instanceof O?Z.errors:[Z]}const{_finalizers:V}=this;if(V){this._finalizers=null;for(const Z of V)try{N(Z)}catch(Q){K=K??[],Q instanceof O?K=[...K,...Q.errors]:K.push(Q)}}if(K)throw new O(K)}}add(K){var D;if(K&&K!==this)if(this.closed)N(K);else{if(K instanceof x){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(D=this._finalizers)&&void 0!==D?D:[]).push(K)}}_hasParent(K){const{_parentage:D}=this;return D===K||Array.isArray(D)&&D.includes(K)}_addParent(K){const{_parentage:D}=this;this._parentage=Array.isArray(D)?(D.push(K),D):D?[D,K]:K}_removeParent(K){const{_parentage:D}=this;D===K?this._parentage=null:Array.isArray(D)&&(0,G.o)(D,K)}remove(K){const{_finalizers:D}=this;D&&(0,G.o)(D,K),K instanceof x&&K._removeParent(this)}}x.EMPTY=(()=>{const $=new x;return $.closed=!0,$})();const B=x.EMPTY;function A($){return $ instanceof x||$&&"closed"in $&&(0,p.T)($.remove)&&(0,p.T)($.add)&&(0,p.T)($.unsubscribe)}function N($){(0,p.T)($)?$():$.unsubscribe()}},41026:(Be,z,E)=>{"use strict";E.d(z,{$:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30017:(Be,z,E)=>{"use strict";E.d(z,{G:()=>B});var p=E(71985),S=E(18359),O=E(99898),G=E(54360),x=E(39974);class B extends p.c{constructor(N,$){super(),this.source=N,this.subjectFactory=$,this._subject=null,this._refCount=0,this._connection=null,(0,x.S)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,N?.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new S.yU;const $=this.getSubject();N.add(this.source.subscribe((0,G._)($,void 0,()=>{this._teardown(),$.complete()},K=>{this._teardown(),$.error(K)},()=>this._teardown()))),N.closed&&(this._connection=null,N=S.yU.EMPTY)}return N}refCount(){return(0,O.B)()(this)}}},84572:(Be,z,E)=>{"use strict";E.d(z,{z:()=>K});var p=E(71985),S=E(93073),O=E(86648),G=E(33669),x=E(6450),B=E(9326),A=E(58496),N=E(54360),$=E(45225);function K(...V){const Z=(0,B.lI)(V),Q=(0,B.ms)(V),{args:te,keys:J}=(0,S.D)(V);if(0===te.length)return(0,O.H)([],Z);const q=new p.c(function D(V,Z,Q=G.D){return te=>{X(Z,()=>{const{length:J}=V,q=new Array(J);let ne=J,se=J;for(let oe=0;oe<J;oe++)X(Z,()=>{const ue=(0,O.H)(V[oe],Z);let ae=!1;ue.subscribe((0,N._)(te,ve=>{q[oe]=ve,ae||(ae=!0,se--),se||te.next(Q(q.slice()))},()=>{--ne||te.complete()}))},te)},te)}}(te,Z,J?ne=>(0,A.e)(J,ne):G.D));return Q?q.pipe((0,x.I)(Q)):q}function X(V,Z,Q){V?(0,$.N)(Q,V,Z):Z()}},28793:(Be,z,E)=>{"use strict";E.d(z,{x:()=>x});var p=E(26365),O=E(9326),G=E(86648);function x(...B){return function S(){return(0,p.U)(1)}()((0,G.H)(B,(0,O.lI)(B)))}},59030:(Be,z,E)=>{"use strict";E.d(z,{v:()=>O});var p=E(71985),S=E(58750);function O(G){return new p.c(x=>{(0,S.Tg)(G()).subscribe(x)})}},983:(Be,z,E)=>{"use strict";E.d(z,{w:()=>S});const S=new(E(71985).c)(x=>x.complete())},27468:(Be,z,E)=>{"use strict";E.d(z,{p:()=>N});var p=E(71985),S=E(93073),O=E(58750),G=E(9326),x=E(54360),B=E(6450),A=E(58496);function N(...$){const K=(0,G.ms)($),{args:D,keys:X}=(0,S.D)($),V=new p.c(Z=>{const{length:Q}=D;if(!Q)return void Z.complete();const te=new Array(Q);let J=Q,q=Q;for(let ne=0;ne<Q;ne++){let se=!1;(0,O.Tg)(D[ne]).subscribe((0,x._)(Z,oe=>{se||(se=!0,q--),te[ne]=oe},()=>J--,void 0,()=>{(!J||!se)&&(q||Z.next(X?(0,A.e)(X,te):te),Z.complete())}))}});return K?V.pipe((0,B.I)(K)):V}},86648:(Be,z,E)=>{"use strict";E.d(z,{H:()=>ve});var p=E(58750),S=E(45225),O=E(39974),G=E(54360);function x(_e,De=0){return(0,O.N)((P,u)=>{P.subscribe((0,G._)(u,h=>(0,S.N)(u,_e,()=>u.next(h),De),()=>(0,S.N)(u,_e,()=>u.complete(),De),h=>(0,S.N)(u,_e,()=>u.error(h),De)))})}function B(_e,De=0){return(0,O.N)((P,u)=>{u.add(_e.schedule(()=>P.subscribe(u),De))})}var $=E(71985),D=E(4761),X=E(98071);function Z(_e,De){if(!_e)throw new Error("Iterable cannot be null");return new $.c(P=>{(0,S.N)(P,De,()=>{const u=_e[Symbol.asyncIterator]();(0,S.N)(P,De,()=>{u.next().then(h=>{h.done?P.complete():P.next(h.value)})},0,!0)})})}var Q=E(55055),te=E(59858),J=E(47441),q=E(85397),ne=E(37953),se=E(50591),oe=E(15196);function ve(_e,De){return De?function ae(_e,De){if(null!=_e){if((0,Q.l)(_e))return function A(_e,De){return(0,p.Tg)(_e).pipe(B(De),x(De))}(_e,De);if((0,J.X)(_e))return function K(_e,De){return new $.c(P=>{let u=0;return De.schedule(function(){u===_e.length?P.complete():(P.next(_e[u++]),P.closed||this.schedule())})})}(_e,De);if((0,te.y)(_e))return function N(_e,De){return(0,p.Tg)(_e).pipe(B(De),x(De))}(_e,De);if((0,ne.T)(_e))return Z(_e,De);if((0,q.x)(_e))return function V(_e,De){return new $.c(P=>{let u;return(0,S.N)(P,De,()=>{u=_e[D.l](),(0,S.N)(P,De,()=>{let h,g;try{({value:h,done:g}=u.next())}catch(w){return void P.error(w)}g?P.complete():P.next(h)},0,!0)}),()=>(0,X.T)(u?.return)&&u.return()})}(_e,De);if((0,oe.U)(_e))return function ue(_e,De){return Z((0,oe.C)(_e),De)}(_e,De)}throw(0,se.L)(_e)}(_e,De):(0,p.Tg)(_e)}},33726:(Be,z,E)=>{"use strict";E.d(z,{R:()=>K});var p=E(58750),S=E(71985),O=E(31397),G=E(47441),x=E(98071),B=E(6450);const A=["addListener","removeListener"],N=["addEventListener","removeEventListener"],$=["on","off"];function K(Q,te,J,q){if((0,x.T)(J)&&(q=J,J=void 0),q)return K(Q,te,J).pipe((0,B.I)(q));const[ne,se]=function Z(Q){return(0,x.T)(Q.addEventListener)&&(0,x.T)(Q.removeEventListener)}(Q)?N.map(oe=>ue=>Q[oe](te,ue,J)):function X(Q){return(0,x.T)(Q.addListener)&&(0,x.T)(Q.removeListener)}(Q)?A.map(D(Q,te)):function V(Q){return(0,x.T)(Q.on)&&(0,x.T)(Q.off)}(Q)?$.map(D(Q,te)):[];if(!ne&&(0,G.X)(Q))return(0,O.Z)(oe=>K(oe,te,J))((0,p.Tg)(Q));if(!ne)throw new TypeError("Invalid event target");return new S.c(oe=>{const ue=(...ae)=>oe.next(1<ae.length?ae:ae[0]);return ne(ue),()=>se(ue)})}function D(Q,te){return J=>q=>Q[J](te,q)}},58750:(Be,z,E)=>{"use strict";E.d(z,{Tg:()=>V});var p=E(31635),S=E(47441),O=E(59858),G=E(71985),x=E(55055),B=E(37953),A=E(50591),N=E(85397),$=E(15196),K=E(98071),D=E(45334),X=E(3494);function V(oe){if(oe instanceof G.c)return oe;if(null!=oe){if((0,x.l)(oe))return function Z(oe){return new G.c(ue=>{const ae=oe[X.s]();if((0,K.T)(ae.subscribe))return ae.subscribe(ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(oe);if((0,S.X)(oe))return function Q(oe){return new G.c(ue=>{for(let ae=0;ae<oe.length&&!ue.closed;ae++)ue.next(oe[ae]);ue.complete()})}(oe);if((0,O.y)(oe))return function te(oe){return new G.c(ue=>{oe.then(ae=>{ue.closed||(ue.next(ae),ue.complete())},ae=>ue.error(ae)).then(null,D.m)})}(oe);if((0,B.T)(oe))return q(oe);if((0,N.x)(oe))return function J(oe){return new G.c(ue=>{for(const ae of oe)if(ue.next(ae),ue.closed)return;ue.complete()})}(oe);if((0,$.U)(oe))return function ne(oe){return q((0,$.C)(oe))}(oe)}throw(0,A.L)(oe)}function q(oe){return new G.c(ue=>{(function se(oe,ue){var ae,ve,_e,De;return(0,p.sH)(this,void 0,void 0,function*(){try{for(ae=(0,p.xN)(oe);!(ve=yield ae.next()).done;)if(ue.next(ve.value),ue.closed)return}catch(P){_e={error:P}}finally{try{ve&&!ve.done&&(De=ae.return)&&(yield De.call(ae))}finally{if(_e)throw _e.error}}ue.complete()})})(oe,ue).catch(ae=>ue.error(ae))})}},40605:(Be,z,E)=>{"use strict";E.d(z,{Y:()=>O});var p=E(43236),S=E(41584);function O(G=0,x=p.E){return G<0&&(G=0),(0,S.O)(G,G,x)}},57786:(Be,z,E)=>{"use strict";E.d(z,{h:()=>B});var p=E(26365),S=E(58750),O=E(983),G=E(9326),x=E(86648);function B(...A){const N=(0,G.lI)(A),$=(0,G.R0)(A,1/0),K=A;return K.length?1===K.length?(0,S.Tg)(K[0]):(0,p.U)($)((0,x.H)(K,N)):O.w}},7673:(Be,z,E)=>{"use strict";E.d(z,{of:()=>O});var p=E(9326),S=E(86648);function O(...G){const x=(0,p.lI)(G);return(0,S.H)(G,x)}},18810:(Be,z,E)=>{"use strict";E.d(z,{$:()=>O});var p=E(71985),S=E(98071);function O(G,x){const B=(0,S.T)(G)?G:()=>G,A=N=>N.error(B());return new p.c(x?N=>x.schedule(A,0,N):A)}},41584:(Be,z,E)=>{"use strict";E.d(z,{O:()=>x});var p=E(71985),S=E(43236),O=E(79470);function x(B=0,A,N=S.b){let $=-1;return null!=A&&((0,O.m)(A)?N=A:$=A),new p.c(K=>{let D=function G(B){return B instanceof Date&&!isNaN(B)}(B)?+B-N.now():B;D<0&&(D=0);let X=0;return N.schedule(function(){K.closed||(K.next(X++),0<=$?this.schedule(void 0,$):K.complete())},D)})}},54360:(Be,z,E)=>{"use strict";E.d(z,{_:()=>S});var p=E(47707);function S(G,x,B,A,N){return new O(G,x,B,A,N)}class O extends p.vU{constructor(x,B,A,N,$,K){super(x),this.onFinalize=$,this.shouldUnsubscribe=K,this._next=B?function(D){try{B(D)}catch(X){x.error(X)}}:super._next,this._error=N?function(D){try{N(D)}catch(X){x.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=A?function(){try{A()}catch(D){x.error(D)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var x;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:B}=this;super.unsubscribe(),!B&&(null===(x=this.onFinalize)||void 0===x||x.call(this))}}}},99437:(Be,z,E)=>{"use strict";E.d(z,{W:()=>G});var p=E(58750),S=E(54360),O=E(39974);function G(x){return(0,O.N)((B,A)=>{let K,N=null,$=!1;N=B.subscribe((0,S._)(A,void 0,void 0,D=>{K=(0,p.Tg)(x(D,G(x)(B))),N?(N.unsubscribe(),N=null,K.subscribe(A)):$=!0})),$&&(N.unsubscribe(),N=null,K.subscribe(A))})}},70274:(Be,z,E)=>{"use strict";E.d(z,{H:()=>O});var p=E(31397),S=E(98071);function O(G,x){return(0,S.T)(x)?(0,p.Z)(G,x,1):(0,p.Z)(G,1)}},70152:(Be,z,E)=>{"use strict";E.d(z,{B:()=>G});var p=E(43236),S=E(39974),O=E(54360);function G(x,B=p.E){return(0,S.N)((A,N)=>{let $=null,K=null,D=null;const X=()=>{if($){$.unsubscribe(),$=null;const Z=K;K=null,N.next(Z)}};function V(){const Z=D+x,Q=B.now();if(Q<Z)return $=this.schedule(void 0,Z-Q),void N.add($);X()}A.subscribe((0,O._)(N,Z=>{K=Z,D=B.now(),$||($=B.schedule(V,x),N.add($))},()=>{X(),N.complete()},void 0,()=>{K=$=null}))})}},91986:(Be,z,E)=>{"use strict";E.d(z,{c:()=>V});var p=E(43236),S=E(28793),O=E(96697),G=E(39974),x=E(54360),B=E(85343),N=E(73703),$=E(31397),K=E(58750);function D(Z,Q){return Q?te=>(0,S.x)(Q.pipe((0,O.s)(1),function A(){return(0,G.N)((Z,Q)=>{Z.subscribe((0,x._)(Q,B.l))})}()),te.pipe(D(Z))):(0,$.Z)((te,J)=>(0,K.Tg)(Z(te,J)).pipe((0,O.s)(1),(0,N.u)(te)))}var X=E(41584);function V(Z,Q=p.E){const te=(0,X.O)(Z,Q);return D(()=>te)}},23294:(Be,z,E)=>{"use strict";E.d(z,{F:()=>G});var p=E(33669),S=E(39974),O=E(54360);function G(B,A=p.D){return B=B??x,(0,S.N)((N,$)=>{let K,D=!0;N.subscribe((0,O._)($,X=>{const V=A(X);(D||!B(K,V))&&(D=!1,K=V,$.next(X))}))})}function x(B,A){return B===A}},5964:(Be,z,E)=>{"use strict";E.d(z,{p:()=>O});var p=E(39974),S=E(54360);function O(G,x){return(0,p.N)((B,A)=>{let N=0;B.subscribe((0,S._)(A,$=>G.call(x,$,N++)&&A.next($)))})}},70980:(Be,z,E)=>{"use strict";E.d(z,{j:()=>S});var p=E(39974);function S(O){return(0,p.N)((G,x)=>{try{G.subscribe(x)}finally{x.add(O)}})}},96354:(Be,z,E)=>{"use strict";E.d(z,{T:()=>O});var p=E(39974),S=E(54360);function O(G,x){return(0,p.N)((B,A)=>{let N=0;B.subscribe((0,S._)(A,$=>{A.next(G.call(x,$,N++))}))})}},73703:(Be,z,E)=>{"use strict";E.d(z,{u:()=>S});var p=E(96354);function S(O){return(0,p.T)(()=>O)}},26365:(Be,z,E)=>{"use strict";E.d(z,{U:()=>O});var p=E(31397),S=E(33669);function O(G=1/0){return(0,p.Z)(S.D,G)}},31397:(Be,z,E)=>{"use strict";E.d(z,{Z:()=>N});var p=E(96354),S=E(58750),O=E(39974),G=E(45225),x=E(54360),A=E(98071);function N($,K,D=1/0){return(0,A.T)(K)?N((X,V)=>(0,p.T)((Z,Q)=>K(X,Z,V,Q))((0,S.Tg)($(X,V))),D):("number"==typeof K&&(D=K),(0,O.N)((X,V)=>function B($,K,D,X,V,Z,Q,te){const J=[];let q=0,ne=0,se=!1;const oe=()=>{se&&!J.length&&!q&&K.complete()},ue=ve=>q<X?ae(ve):J.push(ve),ae=ve=>{Z&&K.next(ve),q++;let _e=!1;(0,S.Tg)(D(ve,ne++)).subscribe((0,x._)(K,De=>{V?.(De),Z?ue(De):K.next(De)},()=>{_e=!0},void 0,()=>{if(_e)try{for(q--;J.length&&q<X;){const De=J.shift();Q?(0,G.N)(K,Q,()=>ae(De)):ae(De)}oe()}catch(De){K.error(De)}}))};return $.subscribe((0,x._)(K,ue,()=>{se=!0,oe()})),()=>{te?.()}}(X,V,$,D)))}},99898:(Be,z,E)=>{"use strict";E.d(z,{B:()=>O});var p=E(39974),S=E(54360);function O(){return(0,p.N)((G,x)=>{let B=null;G._refCount++;const A=(0,S._)(x,void 0,void 0,void 0,()=>{if(!G||G._refCount<=0||0<--G._refCount)return void(B=null);const N=G._connection,$=B;B=null,N&&(!$||N===$)&&N.unsubscribe(),x.unsubscribe()});G.subscribe(A),A.closed||(B=G.connect())})}},97647:(Be,z,E)=>{"use strict";E.d(z,{u:()=>x});var p=E(58750),S=E(21413),O=E(47707),G=E(39974);function x(A={}){const{connector:N=(()=>new S.B),resetOnError:$=!0,resetOnComplete:K=!0,resetOnRefCountZero:D=!0}=A;return X=>{let V,Z,Q,te=0,J=!1,q=!1;const ne=()=>{Z?.unsubscribe(),Z=void 0},se=()=>{ne(),V=Q=void 0,J=q=!1},oe=()=>{const ue=V;se(),ue?.unsubscribe()};return(0,G.N)((ue,ae)=>{te++,!q&&!J&&ne();const ve=Q=Q??N();ae.add(()=>{te--,0===te&&!q&&!J&&(Z=B(oe,D))}),ve.subscribe(ae),!V&&te>0&&(V=new O.Ms({next:_e=>ve.next(_e),error:_e=>{q=!0,ne(),Z=B(se,$,_e),ve.error(_e)},complete:()=>{J=!0,ne(),Z=B(se,K),ve.complete()}}),(0,p.Tg)(ue).subscribe(V))})(X)}}function B(A,N,...$){if(!0===N)return void A();if(!1===N)return;const K=new O.Ms({next:()=>{K.unsubscribe(),A()}});return(0,p.Tg)(N(...$)).subscribe(K)}},44668:(Be,z,E)=>{"use strict";E.d(z,{t:()=>O});var p=E(92771),S=E(97647);function O(G,x,B){let A,N=!1;return G&&"object"==typeof G?({bufferSize:A=1/0,windowTime:x=1/0,refCount:N=!1,scheduler:B}=G):A=G??1/0,(0,S.u)({connector:()=>new p.m(A,x,B),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:N})}},65245:(Be,z,E)=>{"use strict";E.d(z,{i:()=>S});var p=E(5964);function S(O){return(0,p.p)((G,x)=>O<=x)}},99172:(Be,z,E)=>{"use strict";E.d(z,{Z:()=>G});var p=E(28793),S=E(9326),O=E(39974);function G(...x){const B=(0,S.lI)(x);return(0,O.N)((A,N)=>{(B?(0,p.x)(x,A,B):(0,p.x)(x,A)).subscribe(N)})}},25558:(Be,z,E)=>{"use strict";E.d(z,{n:()=>G});var p=E(58750),S=E(39974),O=E(54360);function G(x,B){return(0,S.N)((A,N)=>{let $=null,K=0,D=!1;const X=()=>D&&!$&&N.complete();A.subscribe((0,O._)(N,V=>{$?.unsubscribe();let Z=0;const Q=K++;(0,p.Tg)(x(V,Q)).subscribe($=(0,O._)(N,te=>N.next(B?B(V,te,Q,Z++):te),()=>{$=null,X()}))},()=>{D=!0,X()}))})}},96697:(Be,z,E)=>{"use strict";E.d(z,{s:()=>G});var p=E(983),S=E(39974),O=E(54360);function G(x){return x<=0?()=>p.w:(0,S.N)((B,A)=>{let N=0;B.subscribe((0,O._)(A,$=>{++N<=x&&(A.next($),x<=N&&A.complete())}))})}},56977:(Be,z,E)=>{"use strict";E.d(z,{Q:()=>x});var p=E(39974),S=E(54360),O=E(58750),G=E(85343);function x(B){return(0,p.N)((A,N)=>{(0,O.Tg)(B).subscribe((0,S._)(N,()=>N.complete(),G.l)),!N.closed&&A.subscribe(N)})}},88141:(Be,z,E)=>{"use strict";E.d(z,{M:()=>x});var p=E(98071),S=E(39974),O=E(54360),G=E(33669);function x(B,A,N){const $=(0,p.T)(B)||A||N?{next:B,error:A,complete:N}:B;return $?(0,S.N)((K,D)=>{var X;null===(X=$.subscribe)||void 0===X||X.call($);let V=!0;K.subscribe((0,O._)(D,Z=>{var Q;null===(Q=$.next)||void 0===Q||Q.call($,Z),D.next(Z)},()=>{var Z;V=!1,null===(Z=$.complete)||void 0===Z||Z.call($),D.complete()},Z=>{var Q;V=!1,null===(Q=$.error)||void 0===Q||Q.call($,Z),D.error(Z)},()=>{var Z,Q;V&&(null===(Z=$.unsubscribe)||void 0===Z||Z.call($)),null===(Q=$.finalize)||void 0===Q||Q.call($)}))}):G.D}},96780:(Be,z,E)=>{"use strict";E.d(z,{R:()=>x});var p=E(18359);class S extends p.yU{constructor(A,N){super()}schedule(A,N=0){return this}}const O={setInterval(B,A,...N){const{delegate:$}=O;return $?.setInterval?$.setInterval(B,A,...N):setInterval(B,A,...N)},clearInterval(B){const{delegate:A}=O;return(A?.clearInterval||clearInterval)(B)},delegate:void 0};var G=E(57908);class x extends S{constructor(A,N){super(A,N),this.scheduler=A,this.work=N,this.pending=!1}schedule(A,N=0){var $;if(this.closed)return this;this.state=A;const K=this.id,D=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(D,K,N)),this.pending=!0,this.delay=N,this.id=null!==($=this.id)&&void 0!==$?$:this.requestAsyncId(D,this.id,N),this}requestAsyncId(A,N,$=0){return O.setInterval(A.flush.bind(A,this),$)}recycleAsyncId(A,N,$=0){if(null!=$&&this.delay===$&&!1===this.pending)return N;null!=N&&O.clearInterval(N)}execute(A,N){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $=this._execute(A,N);if($)return $;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(A,N){let K,$=!1;try{this.work(A)}catch(D){$=!0,K=D||new Error("Scheduled action threw falsy error")}if($)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:A,scheduler:N}=this,{actions:$}=N;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.o)($,this),null!=A&&(this.id=this.recycleAsyncId(N,A,null)),this.delay=null,super.unsubscribe()}}}},39687:(Be,z,E)=>{"use strict";E.d(z,{q:()=>O});var p=E(86129);class S{constructor(x,B=S.now){this.schedulerActionCtor=x,this.now=B}schedule(x,B=0,A){return new this.schedulerActionCtor(this,x).schedule(A,B)}}S.now=p.U.now;class O extends S{constructor(x,B=S.now){super(x,B),this.actions=[],this._active=!1}flush(x){const{actions:B}=this;if(this._active)return void B.push(x);let A;this._active=!0;do{if(A=x.execute(x.state,x.delay))break}while(x=B.shift());if(this._active=!1,A){for(;x=B.shift();)x.unsubscribe();throw A}}}},30536:(Be,z,E)=>{"use strict";E.d(z,{X:()=>A});var p=E(96780),S=E(18359);const O={schedule($){let K=requestAnimationFrame,D=cancelAnimationFrame;const{delegate:X}=O;X&&(K=X.requestAnimationFrame,D=X.cancelAnimationFrame);const V=K(Z=>{D=void 0,$(Z)});return new S.yU(()=>D?.(V))},requestAnimationFrame(...$){const{delegate:K}=O;return(K?.requestAnimationFrame||requestAnimationFrame)(...$)},cancelAnimationFrame(...$){const{delegate:K}=O;return(K?.cancelAnimationFrame||cancelAnimationFrame)(...$)},delegate:void 0};var x=E(39687);const A=new class B extends x.q{flush(K){this._active=!0;const D=this._scheduled;this._scheduled=void 0;const{actions:X}=this;let V;K=K||X.shift();do{if(V=K.execute(K.state,K.delay))break}while((K=X[0])&&K.id===D&&X.shift());if(this._active=!1,V){for(;(K=X[0])&&K.id===D&&X.shift();)K.unsubscribe();throw V}}}(class G extends p.R{constructor(K,D){super(K,D),this.scheduler=K,this.work=D}requestAsyncId(K,D,X=0){return null!==X&&X>0?super.requestAsyncId(K,D,X):(K.actions.push(this),K._scheduled||(K._scheduled=O.requestAnimationFrame(()=>K.flush(void 0))))}recycleAsyncId(K,D,X=0){var V;if(null!=X?X>0:this.delay>0)return super.recycleAsyncId(K,D,X);const{actions:Z}=K;null!=D&&(null===(V=Z[Z.length-1])||void 0===V?void 0:V.id)!==D&&(O.cancelAnimationFrame(D),K._scheduled=void 0)}})},25007:(Be,z,E)=>{"use strict";E.d(z,{$:()=>Z});var p=E(96780);let O,S=1;const G={};function x(te){return te in G&&(delete G[te],!0)}const B={setImmediate(te){const J=S++;return G[J]=!0,O||(O=Promise.resolve()),O.then(()=>x(J)&&te()),J},clearImmediate(te){x(te)}},{setImmediate:N,clearImmediate:$}=B,K={setImmediate(...te){const{delegate:J}=K;return(J?.setImmediate||N)(...te)},clearImmediate(te){const{delegate:J}=K;return(J?.clearImmediate||$)(te)},delegate:void 0};var X=E(39687);const Z=new class V extends X.q{flush(J){this._active=!0;const q=this._scheduled;this._scheduled=void 0;const{actions:ne}=this;let se;J=J||ne.shift();do{if(se=J.execute(J.state,J.delay))break}while((J=ne[0])&&J.id===q&&ne.shift());if(this._active=!1,se){for(;(J=ne[0])&&J.id===q&&ne.shift();)J.unsubscribe();throw se}}}(class D extends p.R{constructor(J,q){super(J,q),this.scheduler=J,this.work=q}requestAsyncId(J,q,ne=0){return null!==ne&&ne>0?super.requestAsyncId(J,q,ne):(J.actions.push(this),J._scheduled||(J._scheduled=K.setImmediate(J.flush.bind(J,void 0))))}recycleAsyncId(J,q,ne=0){var se;if(null!=ne?ne>0:this.delay>0)return super.recycleAsyncId(J,q,ne);const{actions:oe}=J;null!=q&&(null===(se=oe[oe.length-1])||void 0===se?void 0:se.id)!==q&&(K.clearImmediate(q),J._scheduled===q&&(J._scheduled=void 0))}})},43236:(Be,z,E)=>{"use strict";E.d(z,{E:()=>O,b:()=>G});var p=E(96780);const O=new(E(39687).q)(p.R),G=O},86129:(Be,z,E)=>{"use strict";E.d(z,{U:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},19270:(Be,z,E)=>{"use strict";E.d(z,{f:()=>p});const p={setTimeout(S,O,...G){const{delegate:x}=p;return x?.setTimeout?x.setTimeout(S,O,...G):setTimeout(S,O,...G)},clearTimeout(S){const{delegate:O}=p;return(O?.clearTimeout||clearTimeout)(S)},delegate:void 0}},4761:(Be,z,E)=>{"use strict";E.d(z,{l:()=>S});const S=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Be,z,E)=>{"use strict";E.d(z,{s:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(Be,z,E)=>{"use strict";E.d(z,{R0:()=>B,lI:()=>x,ms:()=>G});var p=E(98071),S=E(79470);function O(A){return A[A.length-1]}function G(A){return(0,p.T)(O(A))?A.pop():void 0}function x(A){return(0,S.m)(O(A))?A.pop():void 0}function B(A,N){return"number"==typeof O(A)?A.pop():N}},93073:(Be,z,E)=>{"use strict";E.d(z,{D:()=>x});const{isArray:p}=Array,{getPrototypeOf:S,prototype:O,keys:G}=Object;function x(A){if(1===A.length){const N=A[0];if(p(N))return{args:N,keys:null};if(function B(A){return A&&"object"==typeof A&&S(A)===O}(N)){const $=G(N);return{args:$.map(K=>N[K]),keys:$}}}return{args:A,keys:null}}},57908:(Be,z,E)=>{"use strict";function p(S,O){if(S){const G=S.indexOf(O);0<=G&&S.splice(G,1)}}E.d(z,{o:()=>p})},81853:(Be,z,E)=>{"use strict";function p(S){const G=S(x=>{Error.call(x),x.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}E.d(z,{L:()=>p})},58496:(Be,z,E)=>{"use strict";function p(S,O){return S.reduce((G,x,B)=>(G[x]=O[B],G),{})}E.d(z,{e:()=>p})},49786:(Be,z,E)=>{"use strict";E.d(z,{Y:()=>O,l:()=>G});var p=E(41026);let S=null;function O(x){if(p.$.useDeprecatedSynchronousErrorHandling){const B=!S;if(B&&(S={errorThrown:!1,error:null}),x(),B){const{errorThrown:A,error:N}=S;if(S=null,A)throw N}}else x()}function G(x){p.$.useDeprecatedSynchronousErrorHandling&&S&&(S.errorThrown=!0,S.error=x)}},45225:(Be,z,E)=>{"use strict";function p(S,O,G,x=0,B=!1){const A=O.schedule(function(){G(),B?S.add(this.schedule(null,x)):this.unsubscribe()},x);if(S.add(A),!B)return A}E.d(z,{N:()=>p})},33669:(Be,z,E)=>{"use strict";function p(S){return S}E.d(z,{D:()=>p})},47441:(Be,z,E)=>{"use strict";E.d(z,{X:()=>p});const p=S=>S&&"number"==typeof S.length&&"function"!=typeof S},37953:(Be,z,E)=>{"use strict";E.d(z,{T:()=>S});var p=E(98071);function S(O){return Symbol.asyncIterator&&(0,p.T)(O?.[Symbol.asyncIterator])}},98071:(Be,z,E)=>{"use strict";function p(S){return"function"==typeof S}E.d(z,{T:()=>p})},55055:(Be,z,E)=>{"use strict";E.d(z,{l:()=>O});var p=E(3494),S=E(98071);function O(G){return(0,S.T)(G[p.s])}},85397:(Be,z,E)=>{"use strict";E.d(z,{x:()=>O});var p=E(4761),S=E(98071);function O(G){return(0,S.T)(G?.[p.l])}},74402:(Be,z,E)=>{"use strict";E.d(z,{A:()=>O});var p=E(71985),S=E(98071);function O(G){return!!G&&(G instanceof p.c||(0,S.T)(G.lift)&&(0,S.T)(G.subscribe))}},59858:(Be,z,E)=>{"use strict";E.d(z,{y:()=>S});var p=E(98071);function S(O){return(0,p.T)(O?.then)}},15196:(Be,z,E)=>{"use strict";E.d(z,{C:()=>O,U:()=>G});var p=E(31635),S=E(98071);function O(x){return(0,p.AQ)(this,arguments,function*(){const A=x.getReader();try{for(;;){const{value:N,done:$}=yield(0,p.N3)(A.read());if($)return yield(0,p.N3)(void 0);yield yield(0,p.N3)(N)}}finally{A.releaseLock()}})}function G(x){return(0,S.T)(x?.getReader)}},79470:(Be,z,E)=>{"use strict";E.d(z,{m:()=>S});var p=E(98071);function S(O){return O&&(0,p.T)(O.schedule)}},39974:(Be,z,E)=>{"use strict";E.d(z,{N:()=>O,S:()=>S});var p=E(98071);function S(G){return(0,p.T)(G?.lift)}function O(G){return x=>{if(S(x))return x.lift(function(B){try{return G(B,this)}catch(A){this.error(A)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Be,z,E)=>{"use strict";E.d(z,{I:()=>G});var p=E(96354);const{isArray:S}=Array;function G(x){return(0,p.T)(B=>function O(x,B){return S(B)?x(...B):x(B)}(x,B))}},85343:(Be,z,E)=>{"use strict";function p(){}E.d(z,{l:()=>p})},71203:(Be,z,E)=>{"use strict";E.d(z,{F:()=>S,m:()=>O});var p=E(33669);function S(...G){return O(G)}function O(G){return 0===G.length?p.D:1===G.length?G[0]:function(B){return G.reduce((A,N)=>N(A),B)}}},45334:(Be,z,E)=>{"use strict";E.d(z,{m:()=>O});var p=E(41026),S=E(19270);function O(G){S.f.setTimeout(()=>{const{onUnhandledError:x}=p.$;if(!x)throw G;x(G)})}},50591:(Be,z,E)=>{"use strict";function p(S){return new TypeError(`You provided ${null!==S&&"object"==typeof S?"an invalid object":`'${S}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}E.d(z,{L:()=>p})},27054:(Be,z,E)=>{var p=E(83838),S=p.Buffer;function O(x,B){for(var A in x)B[A]=x[A]}function G(x,B,A){return S(x,B,A)}S.from&&S.alloc&&S.allocUnsafe&&S.allocUnsafeSlow?Be.exports=p:(O(p,z),z.Buffer=G),G.prototype=Object.create(S.prototype),O(S,G),G.from=function(x,B,A){if("number"==typeof x)throw new TypeError("Argument must not be a number");return S(x,B,A)},G.alloc=function(x,B,A){if("number"!=typeof x)throw new TypeError("Argument must be a number");var N=S(x);return void 0!==B?"string"==typeof A?N.fill(B,A):N.fill(B):N.fill(0),N},G.allocUnsafe=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return S(x)},G.allocUnsafeSlow=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return p.SlowBuffer(x)}},70463:(Be,z,E)=>{var p=E(27054).Buffer;function S(O,G){this._block=p.alloc(O),this._finalSize=G,this._blockSize=O,this._len=0}S.prototype.update=function(O,G){"string"==typeof O&&(O=p.from(O,G=G||"utf8"));for(var x=this._block,B=this._blockSize,A=O.length,N=this._len,$=0;$<A;){for(var K=N%B,D=Math.min(A-$,B-K),X=0;X<D;X++)x[K+X]=O[$+X];$+=D,(N+=D)%B==0&&this._update(x)}return this._len+=A,this},S.prototype.digest=function(O){var G=this._len%this._blockSize;this._block[G]=128,this._block.fill(0,G+1),G>=this._finalSize&&(this._update(this._block),this._block.fill(0));var x=8*this._len;if(x<=4294967295)this._block.writeUInt32BE(x,this._blockSize-4);else{var B=(4294967295&x)>>>0;this._block.writeUInt32BE((x-B)/4294967296,this._blockSize-8),this._block.writeUInt32BE(B,this._blockSize-4)}this._update(this._block);var N=this._hash();return O?N.toString(O):N},S.prototype._update=function(){throw new Error("_update must be implemented by subclass")},Be.exports=S},25443:(Be,z,E)=>{var p=Be.exports=function(O){O=O.toLowerCase();var G=p[O];if(!G)throw new Error(O+" is not supported (we accept pull requests)");return new G};p.sha=E(48585),p.sha1=E(21270),p.sha224=E(42709),p.sha256=E(32148),p.sha384=E(51856),p.sha512=E(3121)},48585:(Be,z,E)=>{var p=E(71993),S=E(70463),O=E(27054).Buffer,G=[1518500249,1859775393,-1894007588,-899497514],x=new Array(80);function B(){this.init(),this._w=x,S.call(this,64,56)}function A(K){return K<<5|K>>>27}function N(K){return K<<30|K>>>2}function $(K,D,X,V){return 0===K?D&X|~D&V:2===K?D&X|D&V|X&V:D^X^V}p(B,S),B.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},B.prototype._update=function(K){for(var D=this._w,X=0|this._a,V=0|this._b,Z=0|this._c,Q=0|this._d,te=0|this._e,J=0;J<16;++J)D[J]=K.readInt32BE(4*J);for(;J<80;++J)D[J]=D[J-3]^D[J-8]^D[J-14]^D[J-16];for(var q=0;q<80;++q){var ne=~~(q/20),se=A(X)+$(ne,V,Z,Q)+te+D[q]+G[ne]|0;te=Q,Q=Z,Z=N(V),V=X,X=se}this._a=X+this._a|0,this._b=V+this._b|0,this._c=Z+this._c|0,this._d=Q+this._d|0,this._e=te+this._e|0},B.prototype._hash=function(){var K=O.allocUnsafe(20);return K.writeInt32BE(0|this._a,0),K.writeInt32BE(0|this._b,4),K.writeInt32BE(0|this._c,8),K.writeInt32BE(0|this._d,12),K.writeInt32BE(0|this._e,16),K},Be.exports=B},21270:(Be,z,E)=>{var p=E(71993),S=E(70463),O=E(27054).Buffer,G=[1518500249,1859775393,-1894007588,-899497514],x=new Array(80);function B(){this.init(),this._w=x,S.call(this,64,56)}function A(D){return D<<1|D>>>31}function N(D){return D<<5|D>>>27}function $(D){return D<<30|D>>>2}function K(D,X,V,Z){return 0===D?X&V|~X&Z:2===D?X&V|X&Z|V&Z:X^V^Z}p(B,S),B.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},B.prototype._update=function(D){for(var X=this._w,V=0|this._a,Z=0|this._b,Q=0|this._c,te=0|this._d,J=0|this._e,q=0;q<16;++q)X[q]=D.readInt32BE(4*q);for(;q<80;++q)X[q]=A(X[q-3]^X[q-8]^X[q-14]^X[q-16]);for(var ne=0;ne<80;++ne){var se=~~(ne/20),oe=N(V)+K(se,Z,Q,te)+J+X[ne]+G[se]|0;J=te,te=Q,Q=$(Z),Z=V,V=oe}this._a=V+this._a|0,this._b=Z+this._b|0,this._c=Q+this._c|0,this._d=te+this._d|0,this._e=J+this._e|0},B.prototype._hash=function(){var D=O.allocUnsafe(20);return D.writeInt32BE(0|this._a,0),D.writeInt32BE(0|this._b,4),D.writeInt32BE(0|this._c,8),D.writeInt32BE(0|this._d,12),D.writeInt32BE(0|this._e,16),D},Be.exports=B},42709:(Be,z,E)=>{var p=E(71993),S=E(32148),O=E(70463),G=E(27054).Buffer,x=new Array(64);function B(){this.init(),this._w=x,O.call(this,64,56)}p(B,S),B.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},B.prototype._hash=function(){var A=G.allocUnsafe(28);return A.writeInt32BE(this._a,0),A.writeInt32BE(this._b,4),A.writeInt32BE(this._c,8),A.writeInt32BE(this._d,12),A.writeInt32BE(this._e,16),A.writeInt32BE(this._f,20),A.writeInt32BE(this._g,24),A},Be.exports=B},32148:(Be,z,E)=>{var p=E(71993),S=E(70463),O=E(27054).Buffer,G=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],x=new Array(64);function B(){this.init(),this._w=x,S.call(this,64,56)}function A(V,Z,Q){return Q^V&(Z^Q)}function N(V,Z,Q){return V&Z|Q&(V|Z)}function $(V){return(V>>>2|V<<30)^(V>>>13|V<<19)^(V>>>22|V<<10)}function K(V){return(V>>>6|V<<26)^(V>>>11|V<<21)^(V>>>25|V<<7)}function D(V){return(V>>>7|V<<25)^(V>>>18|V<<14)^V>>>3}function X(V){return(V>>>17|V<<15)^(V>>>19|V<<13)^V>>>10}p(B,S),B.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},B.prototype._update=function(V){for(var Z=this._w,Q=0|this._a,te=0|this._b,J=0|this._c,q=0|this._d,ne=0|this._e,se=0|this._f,oe=0|this._g,ue=0|this._h,ae=0;ae<16;++ae)Z[ae]=V.readInt32BE(4*ae);for(;ae<64;++ae)Z[ae]=X(Z[ae-2])+Z[ae-7]+D(Z[ae-15])+Z[ae-16]|0;for(var ve=0;ve<64;++ve){var _e=ue+K(ne)+A(ne,se,oe)+G[ve]+Z[ve]|0,De=$(Q)+N(Q,te,J)|0;ue=oe,oe=se,se=ne,ne=q+_e|0,q=J,J=te,te=Q,Q=_e+De|0}this._a=Q+this._a|0,this._b=te+this._b|0,this._c=J+this._c|0,this._d=q+this._d|0,this._e=ne+this._e|0,this._f=se+this._f|0,this._g=oe+this._g|0,this._h=ue+this._h|0},B.prototype._hash=function(){var V=O.allocUnsafe(32);return V.writeInt32BE(this._a,0),V.writeInt32BE(this._b,4),V.writeInt32BE(this._c,8),V.writeInt32BE(this._d,12),V.writeInt32BE(this._e,16),V.writeInt32BE(this._f,20),V.writeInt32BE(this._g,24),V.writeInt32BE(this._h,28),V},Be.exports=B},51856:(Be,z,E)=>{var p=E(71993),S=E(3121),O=E(70463),G=E(27054).Buffer,x=new Array(160);function B(){this.init(),this._w=x,O.call(this,128,112)}p(B,S),B.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},B.prototype._hash=function(){var A=G.allocUnsafe(48);function N($,K,D){A.writeInt32BE($,D),A.writeInt32BE(K,D+4)}return N(this._ah,this._al,0),N(this._bh,this._bl,8),N(this._ch,this._cl,16),N(this._dh,this._dl,24),N(this._eh,this._el,32),N(this._fh,this._fl,40),A},Be.exports=B},3121:(Be,z,E)=>{var p=E(71993),S=E(70463),O=E(27054).Buffer,G=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],x=new Array(160);function B(){this.init(),this._w=x,S.call(this,128,112)}function A(te,J,q){return q^te&(J^q)}function N(te,J,q){return te&J|q&(te|J)}function $(te,J){return(te>>>28|J<<4)^(J>>>2|te<<30)^(J>>>7|te<<25)}function K(te,J){return(te>>>14|J<<18)^(te>>>18|J<<14)^(J>>>9|te<<23)}function D(te,J){return(te>>>1|J<<31)^(te>>>8|J<<24)^te>>>7}function X(te,J){return(te>>>1|J<<31)^(te>>>8|J<<24)^(te>>>7|J<<25)}function V(te,J){return(te>>>19|J<<13)^(J>>>29|te<<3)^te>>>6}function Z(te,J){return(te>>>19|J<<13)^(J>>>29|te<<3)^(te>>>6|J<<26)}function Q(te,J){return te>>>0<J>>>0?1:0}p(B,S),B.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},B.prototype._update=function(te){for(var J=this._w,q=0|this._ah,ne=0|this._bh,se=0|this._ch,oe=0|this._dh,ue=0|this._eh,ae=0|this._fh,ve=0|this._gh,_e=0|this._hh,De=0|this._al,P=0|this._bl,u=0|this._cl,h=0|this._dl,g=0|this._el,w=0|this._fl,T=0|this._gl,C=0|this._hl,j=0;j<32;j+=2)J[j]=te.readInt32BE(4*j),J[j+1]=te.readInt32BE(4*j+4);for(;j<160;j+=2){var M=J[j-30],d=J[j-30+1],v=D(M,d),W=X(d,M),H=V(M=J[j-4],d=J[j-4+1]),ee=Z(d,M),Pe=J[j-32],Le=J[j-32+1],be=W+J[j-14+1]|0,ge=v+J[j-14]+Q(be,W)|0;ge=(ge=ge+H+Q(be=be+ee|0,ee)|0)+Pe+Q(be=be+Le|0,Le)|0,J[j]=ge,J[j+1]=be}for(var Re=0;Re<160;Re+=2){ge=J[Re],be=J[Re+1];var me=N(q,ne,se),xe=N(De,P,u),le=$(q,De),he=$(De,q),re=K(ue,g),de=K(g,ue),pe=G[Re],Se=G[Re+1],ke=A(ue,ae,ve),Fe=A(g,w,T),We=C+de|0,Tt=_e+re+Q(We,C)|0;Tt=(Tt=(Tt=Tt+ke+Q(We=We+Fe|0,Fe)|0)+pe+Q(We=We+Se|0,Se)|0)+ge+Q(We=We+be|0,be)|0;var Xe=he+xe|0,Ke=le+me+Q(Xe,he)|0;_e=ve,C=T,ve=ae,T=w,ae=ue,w=g,ue=oe+Tt+Q(g=h+We|0,h)|0,oe=se,h=u,se=ne,u=P,ne=q,P=De,q=Tt+Ke+Q(De=We+Xe|0,We)|0}this._al=this._al+De|0,this._bl=this._bl+P|0,this._cl=this._cl+u|0,this._dl=this._dl+h|0,this._el=this._el+g|0,this._fl=this._fl+w|0,this._gl=this._gl+T|0,this._hl=this._hl+C|0,this._ah=this._ah+q+Q(this._al,De)|0,this._bh=this._bh+ne+Q(this._bl,P)|0,this._ch=this._ch+se+Q(this._cl,u)|0,this._dh=this._dh+oe+Q(this._dl,h)|0,this._eh=this._eh+ue+Q(this._el,g)|0,this._fh=this._fh+ae+Q(this._fl,w)|0,this._gh=this._gh+ve+Q(this._gl,T)|0,this._hh=this._hh+_e+Q(this._hl,C)|0},B.prototype._hash=function(){var te=O.allocUnsafe(64);function J(q,ne,se){te.writeInt32BE(q,se),te.writeInt32BE(ne,se+4)}return J(this._ah,this._al,0),J(this._bh,this._bl,8),J(this._ch,this._cl,16),J(this._dh,this._dl,24),J(this._eh,this._el,32),J(this._fh,this._fl,40),J(this._gh,this._gl,48),J(this._hh,this._hl,56),te},Be.exports=B},18876:Be=>{"use strict";function E(G,x){return G+p(x)}function p(G){let x=G;return x-=x>>1&1431655765,x=(858993459&x)+(x>>2&858993459),16843009*(x+(x>>4)&252645135)>>24}function S(G,x){return G[0]-x[0]}function O(G){return G[1]}Be.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(x,B){let A=this._internalPositionFor(x,!1);if(void 0===B)-1!==A&&(this._unsetInternalPos(A),this._unsetBit(x),this._changedLength=!0,this._changedData=!0);else{let N=!1;-1===A?(A=this._data.length,this._setBit(x),this._changedData=!0):N=!0,this._setInternalPos(A,x,B,N),this._changedLength=!0}}unset(x){this.set(x,void 0)}get(x){this._sortData();const B=this._internalPositionFor(x,!0);if(-1!==B)return this._data[B][1]}push(x){return this.set(this.length,x),this.length}get length(){if(this._sortData(),this._changedLength){const x=this._data[this._data.length-1];this._length=x?x[0]+1:0,this._changedLength=!1}return this._length}forEach(x){let B=0;for(;B<this.length;)x(this.get(B),B,this),B++}map(x){let B=0,A=new Array(this.length);for(;B<this.length;)A[B]=x(this.get(B),B,this),B++;return A}reduce(x,B){let A=0,N=B;for(;A<this.length;)N=x(N,this.get(A),A),A++;return N}find(x){let A,N,B=0;for(;B<this.length&&!A;)N=this.get(B),A=x(N),B++;return A?N:void 0}_internalPositionFor(x,B){const A=this._bytePosFor(x,B);if(A>=this._bitArrays.length)return-1;const N=this._bitArrays[A],$=x-7*A;return(N&1<<$)>0?this._bitArrays.slice(0,A).reduce(E,0)+p(N&~(4294967295<<$+1))-1:-1}_bytePosFor(x,B){const A=Math.floor(x/7),N=A+1;for(;!B&&this._bitArrays.length<N;)this._bitArrays.push(0);return A}_setBit(x){const B=this._bytePosFor(x,!1);this._bitArrays[B]|=1<<x-7*B}_unsetBit(x){const B=this._bytePosFor(x,!1);this._bitArrays[B]&=~(1<<x-7*B)}_setInternalPos(x,B,A,N){const $=this._data,K=[B,A];if(N)this._sortData(),$[x]=K;else{if($.length)if($[$.length-1][0]>=B)$.push(K);else if($[0][0]<=B)$.unshift(K);else{const D=Math.round($.length/2);this._data=$.slice(0,D).concat(K).concat($.slice(D))}else this._data.push(K);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(x){this._data.splice(x,1)}_sortData(){this._changedData&&this._data.sort(S),this._changedData=!1}bitField(){const x=[];let $,B=8,A=0,N=0;const K=this._bitArrays.slice();for(;K.length||A;){0===A&&($=K.shift(),A=7);const X=Math.min(A,B);N|=($&~(255<<X))<<8-B,$>>>=X,A-=X,B-=X,(!B||!A&&!K.length)&&(x.push(N),N=0,B=8)}for(var D=x.length-1;D>0&&0===x[D];D--)x.pop();return x}compactArray(){return this._sortData(),this._data.map(O)}}},7045:(Be,z,E)=>{Be.exports=O;var p=E(44356).EventEmitter;function O(){p.call(this)}E(71993)(O,p),O.Readable=E(19609),O.Writable=E(47849),O.Duplex=E(74075),O.Transform=E(2909),O.PassThrough=E(18823),O.finished=E(33139),O.pipeline=E(96249),O.Stream=O,O.prototype.pipe=function(G,x){var B=this;function A(Z){G.writable&&!1===G.write(Z)&&B.pause&&B.pause()}function N(){B.readable&&B.resume&&B.resume()}B.on("data",A),G.on("drain",N),!G._isStdio&&(!x||!1!==x.end)&&(B.on("end",K),B.on("close",D));var $=!1;function K(){$||($=!0,G.end())}function D(){$||($=!0,"function"==typeof G.destroy&&G.destroy())}function X(Z){if(V(),0===p.listenerCount(this,"error"))throw Z}function V(){B.removeListener("data",A),G.removeListener("drain",N),B.removeListener("end",K),B.removeListener("close",D),B.removeListener("error",X),G.removeListener("error",X),B.removeListener("end",V),B.removeListener("close",V),G.removeListener("close",V)}return B.on("error",X),G.on("error",X),B.on("end",V),B.on("close",V),G.on("close",V),G.emit("pipe",B),G}},78454:(Be,z,E)=>{"use strict";var p=E(27054).Buffer,S=p.isEncoding||function(q){switch((q=""+q)&&q.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function x(q){var ne;switch(this.encoding=function G(q){var ne=function O(q){if(!q)return"utf8";for(var ne;;)switch(q){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return q;default:if(ne)return;q=(""+q).toLowerCase(),ne=!0}}(q);if("string"!=typeof ne&&(p.isEncoding===S||!S(q)))throw new Error("Unknown encoding: "+q);return ne||q}(q),this.encoding){case"utf16le":this.text=X,this.end=V,ne=4;break;case"utf8":this.fillLast=$,ne=4;break;case"base64":this.text=Z,this.end=Q,ne=3;break;default:return this.write=te,void(this.end=J)}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(ne)}function B(q){return q<=127?0:q>>5==6?2:q>>4==14?3:q>>3==30?4:q>>6==2?-1:-2}function $(q){var ne=this.lastTotal-this.lastNeed,se=function N(q,ne,se){if(128!=(192&ne[0]))return q.lastNeed=0,"\ufffd";if(q.lastNeed>1&&ne.length>1){if(128!=(192&ne[1]))return q.lastNeed=1,"\ufffd";if(q.lastNeed>2&&ne.length>2&&128!=(192&ne[2]))return q.lastNeed=2,"\ufffd"}}(this,q);return void 0!==se?se:this.lastNeed<=q.length?(q.copy(this.lastChar,ne,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(q.copy(this.lastChar,ne,0,q.length),void(this.lastNeed-=q.length))}function X(q,ne){if((q.length-ne)%2==0){var se=q.toString("utf16le",ne);if(se){var oe=se.charCodeAt(se.length-1);if(oe>=55296&&oe<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=q[q.length-2],this.lastChar[1]=q[q.length-1],se.slice(0,-1)}return se}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=q[q.length-1],q.toString("utf16le",ne,q.length-1)}function V(q){var ne=q&&q.length?this.write(q):"";return this.lastNeed?ne+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):ne}function Z(q,ne){var se=(q.length-ne)%3;return 0===se?q.toString("base64",ne):(this.lastNeed=3-se,this.lastTotal=3,1===se?this.lastChar[0]=q[q.length-1]:(this.lastChar[0]=q[q.length-2],this.lastChar[1]=q[q.length-1]),q.toString("base64",ne,q.length-se))}function Q(q){var ne=q&&q.length?this.write(q):"";return this.lastNeed?ne+this.lastChar.toString("base64",0,3-this.lastNeed):ne}function te(q){return q.toString(this.encoding)}function J(q){return q&&q.length?this.write(q):""}z.StringDecoder=x,x.prototype.write=function(q){if(0===q.length)return"";var ne,se;if(this.lastNeed){if(void 0===(ne=this.fillLast(q)))return"";se=this.lastNeed,this.lastNeed=0}else se=0;return se<q.length?ne?ne+this.text(q,se):this.text(q,se):ne||""},x.prototype.end=function D(q){var ne=q&&q.length?this.write(q):"";return this.lastNeed?ne+"\ufffd":ne},x.prototype.text=function K(q,ne){var se=function A(q,ne,se){var oe=ne.length-1;if(oe<se)return 0;var ue=B(ne[oe]);return ue>=0?(ue>0&&(q.lastNeed=ue-1),ue):--oe<se||-2===ue?0:(ue=B(ne[oe]))>=0?(ue>0&&(q.lastNeed=ue-2),ue):--oe<se||-2===ue?0:(ue=B(ne[oe]))>=0?(ue>0&&(2===ue?ue=0:q.lastNeed=ue-3),ue):0}(this,q,ne);if(!this.lastNeed)return q.toString("utf8",ne);this.lastTotal=se;var oe=q.length-(se-this.lastNeed);return q.copy(this.lastChar,0,oe),q.toString("utf8",ne,oe)},x.prototype.fillLast=function(q){if(this.lastNeed<=q.length)return q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);q.copy(this.lastChar,this.lastTotal-this.lastNeed,0,q.length),this.lastNeed-=q.length}},95568:function(Be,z){!function(E){"use strict";function p(){for(var ft=arguments.length,et=Array(ft),gt=0;gt<ft;gt++)et[gt]=arguments[gt];if(et.length>1){et[0]=et[0].slice(0,-1);for(var un=et.length-1,zt=1;zt<un;++zt)et[zt]=et[zt].slice(1,-1);return et[un]=et[un].slice(1),et.join("")}return et[0]}function S(ft){return"(?:"+ft+")"}function O(ft){return void 0===ft?"undefined":null===ft?"null":Object.prototype.toString.call(ft).split(" ").pop().split("]").shift().toLowerCase()}function G(ft){return ft.toUpperCase()}function A(ft){var et="[A-Za-z]",un="[0-9]",tn=p(un,"[A-Fa-f]"),vn=S(S("%[EFef]"+tn+"%"+tn+tn+"%"+tn+tn)+"|"+S("%[89A-Fa-f]"+tn+"%"+tn+tn)+"|"+S("%"+tn+tn)),Qn="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",jn=p("[\\:\\/\\?\\#\\[\\]\\@]",Qn),Vn=ft?"[\\uE000-\\uF8FF]":"[]",Hn=p(et,un,"[\\-\\.\\_\\~]",ft?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),ar=S(et+p(et,un,"[\\+\\-\\.]")+"*"),qn=S(S(vn+"|"+p(Hn,Qn,"[\\:]"))+"*"),_r=(S(S("25[0-5]")+"|"+S("2[0-4]"+un)+"|"+S("1"+un+un)+"|"+S("[1-9]"+un)+"|"+un),S(S("25[0-5]")+"|"+S("2[0-4]"+un)+"|"+S("1"+un+un)+"|"+S("0?[1-9]"+un)+"|0?0?"+un)),Er=S(_r+"\\."+_r+"\\."+_r+"\\."+_r),mr=S(tn+"{1,4}"),Rr=S(S(mr+"\\:"+mr)+"|"+Er),Br=S(S(mr+"\\:")+"{6}"+Rr),kr=S("\\:\\:"+S(mr+"\\:")+"{5}"+Rr),jr=S(S(mr)+"?\\:\\:"+S(mr+"\\:")+"{4}"+Rr),Yr=S(S(S(mr+"\\:")+"{0,1}"+mr)+"?\\:\\:"+S(mr+"\\:")+"{3}"+Rr),wt=S(S(S(mr+"\\:")+"{0,2}"+mr)+"?\\:\\:"+S(mr+"\\:")+"{2}"+Rr),Pt=S(S(S(mr+"\\:")+"{0,3}"+mr)+"?\\:\\:"+mr+"\\:"+Rr),sn=S(S(S(mr+"\\:")+"{0,4}"+mr)+"?\\:\\:"+Rr),_n=S(S(S(mr+"\\:")+"{0,5}"+mr)+"?\\:\\:"+mr),$n=S(S(S(mr+"\\:")+"{0,6}"+mr)+"?\\:\\:"),sr=S([Br,kr,jr,Yr,wt,Pt,sn,_n,$n].join("|")),ir=S(S(Hn+"|"+vn)+"+"),hr=(S(sr+"\\%25"+ir),S(sr+S("\\%25|\\%(?!"+tn+"{2})")+ir)),Fi=S("[vV]"+tn+"+\\."+p(Hn,Qn,"[\\:]")+"+"),_o=S("\\["+S(hr+"|"+sr+"|"+Fi)+"\\]"),Ci=S(S(vn+"|"+p(Hn,Qn))+"*"),fi=S(_o+"|"+Er+"(?!"+Ci+")|"+Ci),so=S(un+"*"),ei=S(S(qn+"@")+"?"+fi+S("\\:"+so)+"?"),yi=S(vn+"|"+p(Hn,Qn,"[\\:\\@]")),wi=S(yi+"*"),Ro=S(yi+"+"),Gs=S(S(vn+"|"+p(Hn,Qn,"[\\@]"))+"+"),ui=S(S("\\/"+wi)+"*"),mo=S("\\/"+S(Ro+ui)+"?"),qo=S(Gs+ui),br=S(Ro+ui),Ms="(?!"+yi+")",Kn=(S(ui+"|"+mo+"|"+qo+"|"+br+"|"+Ms),S(S(yi+"|"+p("[\\/\\?]",Vn))+"*")),jt=S(S(yi+"|[\\/\\?]")+"*"),wn=S(S("\\/\\/"+ei+ui)+"|"+mo+"|"+br+"|"+Ms),Mn=S(ar+"\\:"+wn+S("\\?"+Kn)+"?"+S("\\#"+jt)+"?"),zr=S(S("\\/\\/"+ei+ui)+"|"+mo+"|"+qo+"|"+Ms),Ur=S(zr+S("\\?"+Kn)+"?"+S("\\#"+jt)+"?");return S(Mn+"|"+Ur),S(ar+"\\:"+wn+S("\\?"+Kn)+"?"),S(S("\\/\\/("+S("("+qn+")@")+"?("+fi+")"+S("\\:("+so+")")+"?)")+"?("+ui+"|"+mo+"|"+br+"|"+Ms+")"),S("\\?("+Kn+")"),S("\\#("+jt+")"),S(S("\\/\\/("+S("("+qn+")@")+"?("+fi+")"+S("\\:("+so+")")+"?)")+"?("+ui+"|"+mo+"|"+qo+"|"+Ms+")"),S("\\?("+Kn+")"),S("\\#("+jt+")"),S(S("\\/\\/("+S("("+qn+")@")+"?("+fi+")"+S("\\:("+so+")")+"?)")+"?("+ui+"|"+mo+"|"+br+"|"+Ms+")"),S("\\?("+Kn+")"),S("\\#("+jt+")"),S("("+qn+")@"),S("\\:("+so+")"),{NOT_SCHEME:new RegExp(p("[^]",et,un,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(p("[^\\%\\:]",Hn,Qn),"g"),NOT_HOST:new RegExp(p("[^\\%\\[\\]\\:]",Hn,Qn),"g"),NOT_PATH:new RegExp(p("[^\\%\\/\\:\\@]",Hn,Qn),"g"),NOT_PATH_NOSCHEME:new RegExp(p("[^\\%\\/\\@]",Hn,Qn),"g"),NOT_QUERY:new RegExp(p("[^\\%]",Hn,Qn,"[\\:\\@\\/\\?]",Vn),"g"),NOT_FRAGMENT:new RegExp(p("[^\\%]",Hn,Qn,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(p("[^]",Hn,Qn),"g"),UNRESERVED:new RegExp(Hn,"g"),OTHER_CHARS:new RegExp(p("[^\\%]",Hn,jn),"g"),PCT_ENCODED:new RegExp(vn,"g"),IPV4ADDRESS:new RegExp("^("+Er+")$"),IPV6ADDRESS:new RegExp("^\\[?("+sr+")"+S(S("\\%25|\\%(?!"+tn+"{2})")+"("+ir+")")+"?\\]?$")}}var N=A(!1),$=A(!0),K=function(){return function(et,gt){if(Array.isArray(et))return et;if(Symbol.iterator in Object(et))return function ft(et,gt){var un=[],zt=!0,tn=!1,pr=void 0;try{for(var vn,bn=et[Symbol.iterator]();!(zt=(vn=bn.next()).done)&&(un.push(vn.value),!gt||un.length!==gt);zt=!0);}catch(Or){tn=!0,pr=Or}finally{try{!zt&&bn.return&&bn.return()}finally{if(tn)throw pr}}return un}(et,gt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),X=2147483647,V=36,oe=/^xn--/,ue=/[^\0-\x7E]/,ae=/[\x2E\u3002\uFF0E\uFF61]/g,ve={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},De=Math.floor,P=String.fromCharCode;function u(ft){throw new RangeError(ve[ft])}function g(ft,et){var gt=ft.split("@"),un="";return gt.length>1&&(un=gt[0]+"@",ft=gt[1]),un+function h(ft,et){for(var gt=[],un=ft.length;un--;)gt[un]=et(ft[un]);return gt}((ft=ft.replace(ae,".")).split("."),et).join(".")}function w(ft){for(var et=[],gt=0,un=ft.length;gt<un;){var zt=ft.charCodeAt(gt++);if(zt>=55296&&zt<=56319&&gt<un){var tn=ft.charCodeAt(gt++);56320==(64512&tn)?et.push(((1023&zt)<<10)+(1023&tn)+65536):(et.push(zt),gt--)}else et.push(zt)}return et}var C=function(et){return et-48<10?et-22:et-65<26?et-65:et-97<26?et-97:V},j=function(et,gt){return et+22+75*(et<26)-((0!=gt)<<5)},M=function(et,gt,un){var zt=0;for(et=un?De(et/700):et>>1,et+=De(et/gt);et>455;zt+=V)et=De(et/35);return De(zt+36*et/(et+38))},d=function(et){var gt=[],un=et.length,zt=0,tn=128,pr=72,bn=et.lastIndexOf("-");bn<0&&(bn=0);for(var vn=0;vn<bn;++vn)et.charCodeAt(vn)>=128&&u("not-basic"),gt.push(et.charCodeAt(vn));for(var Or=bn>0?bn+1:0;Or<un;){for(var Qn=zt,jn=1,On=V;;On+=V){Or>=un&&u("invalid-input");var Vn=C(et.charCodeAt(Or++));(Vn>=V||Vn>De((X-zt)/jn))&&u("overflow"),zt+=Vn*jn;var Hn=On<=pr?1:On>=pr+26?26:On-pr;if(Vn<Hn)break;var ar=V-Hn;jn>De(X/ar)&&u("overflow"),jn*=ar}var qn=gt.length+1;pr=M(zt-Qn,qn,0==Qn),De(zt/qn)>X-tn&&u("overflow"),tn+=De(zt/qn),zt%=qn,gt.splice(zt++,0,tn)}return String.fromCodePoint.apply(String,gt)},v=function(et){var gt=[],un=(et=w(et)).length,zt=128,tn=0,pr=72,bn=!0,vn=!1,Or=void 0;try{for(var jn,Qn=et[Symbol.iterator]();!(bn=(jn=Qn.next()).done);bn=!0){var On=jn.value;On<128&&gt.push(P(On))}}catch(hr){vn=!0,Or=hr}finally{try{!bn&&Qn.return&&Qn.return()}finally{if(vn)throw Or}}var Vn=gt.length,Hn=Vn;for(Vn&&gt.push("-");Hn<un;){var ar=X,qn=!0,vr=!1,_r=void 0;try{for(var mr,Er=et[Symbol.iterator]();!(qn=(mr=Er.next()).done);qn=!0){var Rr=mr.value;Rr>=zt&&Rr<ar&&(ar=Rr)}}catch(hr){vr=!0,_r=hr}finally{try{!qn&&Er.return&&Er.return()}finally{if(vr)throw _r}}var Br=Hn+1;ar-zt>De((X-tn)/Br)&&u("overflow"),tn+=(ar-zt)*Br,zt=ar;var kr=!0,jr=!1,Yr=void 0;try{for(var Pt,wt=et[Symbol.iterator]();!(kr=(Pt=wt.next()).done);kr=!0){var sn=Pt.value;if(sn<zt&&++tn>X&&u("overflow"),sn==zt){for(var _n=tn,$n=V;;$n+=V){var sr=$n<=pr?1:$n>=pr+26?26:$n-pr;if(_n<sr)break;var ir=_n-sr,Ar=V-sr;gt.push(P(j(sr+ir%Ar,0))),_n=De(ir/Ar)}gt.push(P(j(_n,0))),pr=M(tn,Br,Hn==Vn),tn=0,++Hn}}}catch(hr){jr=!0,Yr=hr}finally{try{!kr&&wt.return&&wt.return()}finally{if(jr)throw Yr}}++tn,++zt}return gt.join("")},ee={version:"2.1.0",ucs2:{decode:w,encode:function(et){return String.fromCodePoint.apply(String,function(ft){if(Array.isArray(ft)){for(var et=0,gt=Array(ft.length);et<ft.length;et++)gt[et]=ft[et];return gt}return Array.from(ft)}(et))}},decode:d,encode:v,toASCII:function(et){return g(et,function(gt){return ue.test(gt)?"xn--"+v(gt):gt})},toUnicode:function(et){return g(et,function(gt){return oe.test(gt)?d(gt.slice(4).toLowerCase()):gt})}},fe={};function Ae(ft){var et=ft.charCodeAt(0);return et<16?"%0"+et.toString(16).toUpperCase():et<128?"%"+et.toString(16).toUpperCase():et<2048?"%"+(et>>6|192).toString(16).toUpperCase()+"%"+(63&et|128).toString(16).toUpperCase():"%"+(et>>12|224).toString(16).toUpperCase()+"%"+(et>>6&63|128).toString(16).toUpperCase()+"%"+(63&et|128).toString(16).toUpperCase()}function Pe(ft){for(var et="",gt=0,un=ft.length;gt<un;){var zt=parseInt(ft.substr(gt+1,2),16);if(zt<128)et+=String.fromCharCode(zt),gt+=3;else if(zt>=194&&zt<224){if(un-gt>=6){var tn=parseInt(ft.substr(gt+4,2),16);et+=String.fromCharCode((31&zt)<<6|63&tn)}else et+=ft.substr(gt,6);gt+=6}else if(zt>=224){if(un-gt>=9){var pr=parseInt(ft.substr(gt+4,2),16),bn=parseInt(ft.substr(gt+7,2),16);et+=String.fromCharCode((15&zt)<<12|(63&pr)<<6|63&bn)}else et+=ft.substr(gt,9);gt+=9}else et+=ft.substr(gt,3),gt+=3}return et}function Le(ft,et){function gt(un){var zt=Pe(un);return zt.match(et.UNRESERVED)?zt:un}return ft.scheme&&(ft.scheme=String(ft.scheme).replace(et.PCT_ENCODED,gt).toLowerCase().replace(et.NOT_SCHEME,"")),void 0!==ft.userinfo&&(ft.userinfo=String(ft.userinfo).replace(et.PCT_ENCODED,gt).replace(et.NOT_USERINFO,Ae).replace(et.PCT_ENCODED,G)),void 0!==ft.host&&(ft.host=String(ft.host).replace(et.PCT_ENCODED,gt).toLowerCase().replace(et.NOT_HOST,Ae).replace(et.PCT_ENCODED,G)),void 0!==ft.path&&(ft.path=String(ft.path).replace(et.PCT_ENCODED,gt).replace(ft.scheme?et.NOT_PATH:et.NOT_PATH_NOSCHEME,Ae).replace(et.PCT_ENCODED,G)),void 0!==ft.query&&(ft.query=String(ft.query).replace(et.PCT_ENCODED,gt).replace(et.NOT_QUERY,Ae).replace(et.PCT_ENCODED,G)),void 0!==ft.fragment&&(ft.fragment=String(ft.fragment).replace(et.PCT_ENCODED,gt).replace(et.NOT_FRAGMENT,Ae).replace(et.PCT_ENCODED,G)),ft}function be(ft){return ft.replace(/^0*(.*)/,"$1")||"0"}function ge(ft,et){var gt=ft.match(et.IPV4ADDRESS)||[],zt=K(gt,2)[1];return zt?zt.split(".").map(be).join("."):ft}function Re(ft,et){var gt=ft.match(et.IPV6ADDRESS)||[],un=K(gt,3),zt=un[1],tn=un[2];if(zt){for(var pr=zt.toLowerCase().split("::").reverse(),bn=K(pr,2),vn=bn[0],Or=bn[1],Qn=Or?Or.split(":").map(be):[],jn=vn.split(":").map(be),On=et.IPV4ADDRESS.test(jn[jn.length-1]),Vn=On?7:8,Hn=jn.length-Vn,ar=Array(Vn),qn=0;qn<Vn;++qn)ar[qn]=Qn[qn]||jn[Hn+qn]||"";On&&(ar[Vn-1]=ge(ar[Vn-1],et));var _r=ar.reduce(function(Br,kr,jr){if(!kr||"0"===kr){var Yr=Br[Br.length-1];Yr&&Yr.index+Yr.length===jr?Yr.length++:Br.push({index:jr,length:1})}return Br},[]).sort(function(Br,kr){return kr.length-Br.length})[0],Er=void 0;if(_r&&_r.length>1){var mr=ar.slice(0,_r.index),Rr=ar.slice(_r.index+_r.length);Er=mr.join(":")+"::"+Rr.join(":")}else Er=ar.join(":");return tn&&(Er+="%"+tn),Er}return ft}var me=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,xe=void 0==="".match(/(){0}/)[1];function le(ft){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},gt={},un=!1!==et.iri?$:N;"suffix"===et.reference&&(ft=(et.scheme?et.scheme+":":"")+"//"+ft);var zt=ft.match(me);if(zt){xe?(gt.scheme=zt[1],gt.userinfo=zt[3],gt.host=zt[4],gt.port=parseInt(zt[5],10),gt.path=zt[6]||"",gt.query=zt[7],gt.fragment=zt[8],isNaN(gt.port)&&(gt.port=zt[5])):(gt.scheme=zt[1]||void 0,gt.userinfo=-1!==ft.indexOf("@")?zt[3]:void 0,gt.host=-1!==ft.indexOf("//")?zt[4]:void 0,gt.port=parseInt(zt[5],10),gt.path=zt[6]||"",gt.query=-1!==ft.indexOf("?")?zt[7]:void 0,gt.fragment=-1!==ft.indexOf("#")?zt[8]:void 0,isNaN(gt.port)&&(gt.port=ft.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?zt[4]:void 0)),gt.host&&(gt.host=Re(ge(gt.host,un),un)),gt.reference=void 0!==gt.scheme||void 0!==gt.userinfo||void 0!==gt.host||void 0!==gt.port||gt.path||void 0!==gt.query?void 0===gt.scheme?"relative":void 0===gt.fragment?"absolute":"uri":"same-document",et.reference&&"suffix"!==et.reference&&et.reference!==gt.reference&&(gt.error=gt.error||"URI is not a "+et.reference+" reference.");var tn=fe[(et.scheme||gt.scheme||"").toLowerCase()];if(et.unicodeSupport||tn&&tn.unicodeSupport)Le(gt,un);else{if(gt.host&&(et.domainHost||tn&&tn.domainHost))try{gt.host=ee.toASCII(gt.host.replace(un.PCT_ENCODED,Pe).toLowerCase())}catch(pr){gt.error=gt.error||"Host's domain name can not be converted to ASCII via punycode: "+pr}Le(gt,N)}tn&&tn.parse&&tn.parse(gt,et)}else gt.error=gt.error||"URI can not be parsed.";return gt}var re=/^\.\.?\//,de=/^\/\.(\/|$)/,pe=/^\/\.\.(\/|$)/,Se=/^\/?(?:.|\n)*?(?=\/|$)/;function ke(ft){for(var et=[];ft.length;)if(ft.match(re))ft=ft.replace(re,"");else if(ft.match(de))ft=ft.replace(de,"/");else if(ft.match(pe))ft=ft.replace(pe,"/"),et.pop();else if("."===ft||".."===ft)ft="";else{var gt=ft.match(Se);if(!gt)throw new Error("Unexpected dot segment condition");var un=gt[0];ft=ft.slice(un.length),et.push(un)}return et.join("")}function Fe(ft){var et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},gt=et.iri?$:N,un=[],zt=fe[(et.scheme||ft.scheme||"").toLowerCase()];if(zt&&zt.serialize&&zt.serialize(ft,et),ft.host&&!gt.IPV6ADDRESS.test(ft.host)&&(et.domainHost||zt&&zt.domainHost))try{ft.host=et.iri?ee.toUnicode(ft.host):ee.toASCII(ft.host.replace(gt.PCT_ENCODED,Pe).toLowerCase())}catch(bn){ft.error=ft.error||"Host's domain name can not be converted to "+(et.iri?"Unicode":"ASCII")+" via punycode: "+bn}Le(ft,gt),"suffix"!==et.reference&&ft.scheme&&(un.push(ft.scheme),un.push(":"));var tn=function he(ft,et){var gt=!1!==et.iri?$:N,un=[];return void 0!==ft.userinfo&&(un.push(ft.userinfo),un.push("@")),void 0!==ft.host&&un.push(Re(ge(String(ft.host),gt),gt).replace(gt.IPV6ADDRESS,function(zt,tn,pr){return"["+tn+(pr?"%25"+pr:"")+"]"})),("number"==typeof ft.port||"string"==typeof ft.port)&&(un.push(":"),un.push(String(ft.port))),un.length?un.join(""):void 0}(ft,et);if(void 0!==tn&&("suffix"!==et.reference&&un.push("//"),un.push(tn),ft.path&&"/"!==ft.path.charAt(0)&&un.push("/")),void 0!==ft.path){var pr=ft.path;!et.absolutePath&&(!zt||!zt.absolutePath)&&(pr=ke(pr)),void 0===tn&&(pr=pr.replace(/^\/\//,"/%2F")),un.push(pr)}return void 0!==ft.query&&(un.push("?"),un.push(ft.query)),void 0!==ft.fragment&&(un.push("#"),un.push(ft.fragment)),un.join("")}function We(ft,et){var gt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},zt={};return arguments[3]||(ft=le(Fe(ft,gt),gt),et=le(Fe(et,gt),gt)),!(gt=gt||{}).tolerant&&et.scheme?(zt.scheme=et.scheme,zt.userinfo=et.userinfo,zt.host=et.host,zt.port=et.port,zt.path=ke(et.path||""),zt.query=et.query):(void 0!==et.userinfo||void 0!==et.host||void 0!==et.port?(zt.userinfo=et.userinfo,zt.host=et.host,zt.port=et.port,zt.path=ke(et.path||""),zt.query=et.query):(et.path?("/"===et.path.charAt(0)?zt.path=ke(et.path):(zt.path=void 0===ft.userinfo&&void 0===ft.host&&void 0===ft.port||ft.path?ft.path?ft.path.slice(0,ft.path.lastIndexOf("/")+1)+et.path:et.path:"/"+et.path,zt.path=ke(zt.path)),zt.query=et.query):(zt.path=ft.path,zt.query=void 0!==et.query?et.query:ft.query),zt.userinfo=ft.userinfo,zt.host=ft.host,zt.port=ft.port),zt.scheme=ft.scheme),zt.fragment=et.fragment,zt}function U(ft,et){return ft&&ft.toString().replace(et&&et.iri?$.PCT_ENCODED:N.PCT_ENCODED,Pe)}var _={scheme:"http",domainHost:!0,parse:function(et,gt){return et.host||(et.error=et.error||"HTTP URIs must have a host."),et},serialize:function(et,gt){var un="https"===String(et.scheme).toLowerCase();return(et.port===(un?443:80)||""===et.port)&&(et.port=void 0),et.path||(et.path="/"),et}},m={scheme:"https",domainHost:_.domainHost,parse:_.parse,serialize:_.serialize};function F(ft){return"boolean"==typeof ft.secure?ft.secure:"wss"===String(ft.scheme).toLowerCase()}var ie={scheme:"ws",domainHost:!0,parse:function(et,gt){var un=et;return un.secure=F(un),un.resourceName=(un.path||"/")+(un.query?"?"+un.query:""),un.path=void 0,un.query=void 0,un},serialize:function(et,gt){if((et.port===(F(et)?443:80)||""===et.port)&&(et.port=void 0),"boolean"==typeof et.secure&&(et.scheme=et.secure?"wss":"ws",et.secure=void 0),et.resourceName){var un=et.resourceName.split("?"),zt=K(un,2),tn=zt[0],pr=zt[1];et.path=tn&&"/"!==tn?tn:void 0,et.query=pr,et.resourceName=void 0}return et.fragment=void 0,et}},we={scheme:"wss",domainHost:ie.domainHost,parse:ie.parse,serialize:ie.serialize},Ie={},kt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",pt="[0-9A-Fa-f]",Et=S(S("%[EFef]"+pt+"%"+pt+pt+"%"+pt+pt)+"|"+S("%[89A-Fa-f]"+pt+"%"+pt+pt)+"|"+S("%"+pt+pt)),Kt=p("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),cn=new RegExp(kt,"g"),Ut=new RegExp(Et,"g"),Nt=new RegExp(p("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Kt),"g"),dt=new RegExp(p("[^]",kt,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),it=dt;function Ct(ft){var et=Pe(ft);return et.match(cn)?et:ft}var Bt={scheme:"mailto",parse:function(et,gt){var un=et,zt=un.to=un.path?un.path.split(","):[];if(un.path=void 0,un.query){for(var tn=!1,pr={},bn=un.query.split("&"),vn=0,Or=bn.length;vn<Or;++vn){var Qn=bn[vn].split("=");switch(Qn[0]){case"to":for(var jn=Qn[1].split(","),On=0,Vn=jn.length;On<Vn;++On)zt.push(jn[On]);break;case"subject":un.subject=U(Qn[1],gt);break;case"body":un.body=U(Qn[1],gt);break;default:tn=!0,pr[U(Qn[0],gt)]=U(Qn[1],gt)}}tn&&(un.headers=pr)}un.query=void 0;for(var Hn=0,ar=zt.length;Hn<ar;++Hn){var qn=zt[Hn].split("@");if(qn[0]=U(qn[0]),gt.unicodeSupport)qn[1]=U(qn[1],gt).toLowerCase();else try{qn[1]=ee.toASCII(U(qn[1],gt).toLowerCase())}catch(vr){un.error=un.error||"Email address's domain name can not be converted to ASCII via punycode: "+vr}zt[Hn]=qn.join("@")}return un},serialize:function(et,gt){var un=et,zt=function x(ft){return null!=ft?ft instanceof Array?ft:"number"!=typeof ft.length||ft.split||ft.setInterval||ft.call?[ft]:Array.prototype.slice.call(ft):[]}(et.to);if(zt){for(var tn=0,pr=zt.length;tn<pr;++tn){var bn=String(zt[tn]),vn=bn.lastIndexOf("@"),Or=bn.slice(0,vn).replace(Ut,Ct).replace(Ut,G).replace(Nt,Ae),Qn=bn.slice(vn+1);try{Qn=gt.iri?ee.toUnicode(Qn):ee.toASCII(U(Qn,gt).toLowerCase())}catch(Hn){un.error=un.error||"Email address's domain name can not be converted to "+(gt.iri?"Unicode":"ASCII")+" via punycode: "+Hn}zt[tn]=Or+"@"+Qn}un.path=zt.join(",")}var jn=et.headers=et.headers||{};et.subject&&(jn.subject=et.subject),et.body&&(jn.body=et.body);var On=[];for(var Vn in jn)jn[Vn]!==Ie[Vn]&&On.push(Vn.replace(Ut,Ct).replace(Ut,G).replace(dt,Ae)+"="+jn[Vn].replace(Ut,Ct).replace(Ut,G).replace(it,Ae));return On.length&&(un.query=On.join("&")),un}},Wt=/^([^\:]+)\:(.*)/,Yn={scheme:"urn",parse:function(et,gt){var un=et.path&&et.path.match(Wt),zt=et;if(un){var tn=gt.scheme||zt.scheme||"urn",pr=un[1].toLowerCase(),bn=un[2],Or=fe[tn+":"+(gt.nid||pr)];zt.nid=pr,zt.nss=bn,zt.path=void 0,Or&&(zt=Or.parse(zt,gt))}else zt.error=zt.error||"URN can not be parsed.";return zt},serialize:function(et,gt){var zt=et.nid,pr=fe[(gt.scheme||et.scheme||"urn")+":"+(gt.nid||zt)];pr&&(et=pr.serialize(et,gt));var bn=et;return bn.path=(zt||gt.nid)+":"+et.nss,bn}},at=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ut={scheme:"urn:uuid",parse:function(et,gt){var un=et;return un.uuid=un.nss,un.nss=void 0,!gt.tolerant&&(!un.uuid||!un.uuid.match(at))&&(un.error=un.error||"UUID is not valid."),un},serialize:function(et,gt){var un=et;return un.nss=(et.uuid||"").toLowerCase(),un}};fe[_.scheme]=_,fe[m.scheme]=m,fe[ie.scheme]=ie,fe[we.scheme]=we,fe[Bt.scheme]=Bt,fe[Yn.scheme]=Yn,fe[ut.scheme]=ut,E.SCHEMES=fe,E.pctEncChar=Ae,E.pctDecChars=Pe,E.parse=le,E.removeDotSegments=ke,E.serialize=Fe,E.resolveComponents=We,E.resolve=function Tt(ft,et,gt){var un=function B(ft,et){var gt=ft;if(et)for(var un in et)gt[un]=et[un];return gt}({scheme:"null"},gt);return Fe(We(le(ft,un),le(et,un),un,!0),un)},E.normalize=function Xe(ft,et){return"string"==typeof ft?ft=Fe(le(ft,et),et):"object"===O(ft)&&(ft=le(Fe(ft,et),et)),ft},E.equal=function Ke(ft,et,gt){return"string"==typeof ft?ft=Fe(le(ft,gt),gt):"object"===O(ft)&&(ft=Fe(ft,gt)),"string"==typeof et?et=Fe(le(et,gt),gt):"object"===O(et)&&(et=Fe(et,gt)),ft===et},E.escapeComponent=function lt(ft,et){return ft&&ft.toString().replace(et&&et.iri?$.ESCAPE:N.ESCAPE,Ae)},E.unescapeComponent=U,Object.defineProperty(E,"__esModule",{value:!0})}(z)},3398:Be=>{function E(p){try{if(!globalThis.localStorage)return!1}catch{return!1}var S=globalThis.localStorage[p];return null!=S&&"true"===String(S).toLowerCase()}Be.exports=function z(p,S){if(E("noDeprecation"))return p;var O=!1;return function G(){if(!O){if(E("throwDeprecation"))throw new Error(S);E("traceDeprecation")?console.trace(S):console.warn(S),O=!0}return p.apply(this,arguments)}}},78982:()=>{},47790:()=>{},21638:()=>{},92668:()=>{},77965:()=>{},66089:()=>{},79368:()=>{},64688:()=>{},51069:()=>{},15340:()=>{},79838:()=>{},25172:Be=>{Be.exports=function z(E,p){this.v=E,this.k=p},Be.exports.__esModule=!0,Be.exports.default=Be.exports},93513:(Be,z,E)=>{var p=E(25172);Be.exports=function S(O){var G={},x=!1;function B(A,N){return x=!0,N=new Promise(function($){$(O[A](N))}),{done:!1,value:new p(N,1)}}return G[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},G.next=function(A){return x?(x=!1,A):B("next",A)},"function"==typeof O.throw&&(G.throw=function(A){if(x)throw x=!1,A;return B("throw",A)}),"function"==typeof O.return&&(G.return=function(A){return x?(x=!1,A):B("return",A)}),G},Be.exports.__esModule=!0,Be.exports.default=Be.exports},82881:Be=>{function E(p){function S(O){if(Object(O)!==O)return Promise.reject(new TypeError(O+" is not an object."));var G=O.done;return Promise.resolve(O.value).then(function(x){return{value:x,done:G}})}return(E=function(G){this.s=G,this.n=G.next}).prototype={s:null,n:null,next:function(){return S(this.n.apply(this.s,arguments))},return:function(G){var x=this.s.return;return void 0===x?Promise.resolve({value:G,done:!0}):S(x.apply(this.s,arguments))},throw:function(G){var x=this.s.return;return void 0===x?Promise.reject(G):S(x.apply(this.s,arguments))}},new E(p)}Be.exports=function z(p){var S,O,G,x=2;for(typeof Symbol<"u"&&(O=Symbol.asyncIterator,G=Symbol.iterator);x--;){if(O&&null!=(S=p[O]))return S.call(p);if(G&&null!=(S=p[G]))return new E(S.call(p));O="@@asyncIterator",G="@@iterator"}throw new TypeError("Object is not async iterable")},Be.exports.__esModule=!0,Be.exports.default=Be.exports},29293:Be=>{function z(p,S,O,G,x,B,A){try{var N=p[B](A),$=N.value}catch(K){return void O(K)}N.done?S($):Promise.resolve($).then(G,x)}Be.exports=function E(p){return function(){var S=this,O=arguments;return new Promise(function(G,x){var B=p.apply(S,O);function A($){z(B,G,x,A,N,"next",$)}function N($){z(B,G,x,A,N,"throw",$)}A(void 0)})}},Be.exports.__esModule=!0,Be.exports.default=Be.exports},53344:(Be,z,E)=>{var p=E(25172);Be.exports=function S(O){return new p(O,0)},Be.exports.__esModule=!0,Be.exports.default=Be.exports},42958:(Be,z,E)=>{var p=E(25172);function O(G){var x,B;function A($,K){try{var D=G[$](K),X=D.value,V=X instanceof p;Promise.resolve(V?X.v:X).then(function(Z){if(V){var Q="return"===$?"return":"next";if(!X.k||Z.done)return A(Q,Z);Z=G[Q](Z).value}N(D.done?"return":"normal",Z)},function(Z){A("throw",Z)})}catch(Z){N("throw",Z)}}function N($,K){switch($){case"return":x.resolve({value:K,done:!0});break;case"throw":x.reject(K);break;default:x.resolve({value:K,done:!1})}(x=x.next)?A(x.key,x.arg):B=null}this._invoke=function($,K){return new Promise(function(D,X){var V={key:$,arg:K,resolve:D,reject:X,next:null};B?B=B.next=V:(x=B=V,A($,K))})},"function"!=typeof G.return&&(this.return=void 0)}O.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},O.prototype.next=function(G){return this._invoke("next",G)},O.prototype.throw=function(G){return this._invoke("throw",G)},O.prototype.return=function(G){return this._invoke("return",G)},Be.exports=function S(G){return function(){return new O(G.apply(this,arguments))}},Be.exports.__esModule=!0,Be.exports.default=Be.exports},49969:(Be,z,E)=>{"use strict";E.d(z,{FX:()=>De,If:()=>p,K2:()=>B,MA:()=>X,Os:()=>x,P:()=>Z,hZ:()=>O,i0:()=>G,i7:()=>$,iF:()=>A,kY:()=>K,kp:()=>S,sf:()=>ve,ui:()=>_e,wk:()=>N});var p=function(P){return P[P.State=0]="State",P[P.Transition=1]="Transition",P[P.Sequence=2]="Sequence",P[P.Group=3]="Group",P[P.Animate=4]="Animate",P[P.Keyframes=5]="Keyframes",P[P.Style=6]="Style",P[P.Trigger=7]="Trigger",P[P.Reference=8]="Reference",P[P.AnimateChild=9]="AnimateChild",P[P.AnimateRef=10]="AnimateRef",P[P.Query=11]="Query",P[P.Stagger=12]="Stagger",P}(p||{});const S="*";function O(P,u){return{type:p.Trigger,name:P,definitions:u,options:{}}}function G(P,u=null){return{type:p.Animate,styles:u,timings:P}}function x(P,u=null){return{type:p.Group,steps:P,options:u}}function B(P,u=null){return{type:p.Sequence,steps:P,options:u}}function A(P){return{type:p.Style,styles:P,offset:null}}function N(P,u,h){return{type:p.State,name:P,styles:u,options:h}}function $(P){return{type:p.Keyframes,steps:P}}function K(P,u,h=null){return{type:p.Transition,expr:P,animation:u,options:h}}function X(P=null){return{type:p.AnimateChild,options:P}}function Z(P,u,h=null){return{type:p.Query,selector:P,animation:u,options:h}}class ve{constructor(u=0,h=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=u+h}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(u=>u()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(u){this._position=this.totalTime?u*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(u){const h="start"==u?this._onStartFns:this._onDoneFns;h.forEach(g=>g()),h.length=0}}class _e{constructor(u){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=u;let h=0,g=0,w=0;const T=this.players.length;0==T?queueMicrotask(()=>this._onFinish()):this.players.forEach(C=>{C.onDone(()=>{++h==T&&this._onFinish()}),C.onDestroy(()=>{++g==T&&this._onDestroy()}),C.onStart(()=>{++w==T&&this._onStart()})}),this.totalTime=this.players.reduce((C,j)=>Math.max(C,j.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this.players.forEach(u=>u.init())}onStart(u){this._onStartFns.push(u)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(u=>u()),this._onStartFns=[])}onDone(u){this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(u=>u.play())}pause(){this.players.forEach(u=>u.pause())}restart(){this.players.forEach(u=>u.restart())}finish(){this._onFinish(),this.players.forEach(u=>u.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(u=>u.destroy()),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}reset(){this.players.forEach(u=>u.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(u){const h=u*this.totalTime;this.players.forEach(g=>{const w=g.totalTime?Math.min(1,h/g.totalTime):1;g.setPosition(w)})}getPosition(){const u=this.players.reduce((h,g)=>null===h||g.totalTime>h.totalTime?g:h,null);return null!=u?u.getPosition():0}beforeDestroy(){this.players.forEach(u=>{u.beforeDestroy&&u.beforeDestroy()})}triggerCallback(u){const h="start"==u?this._onStartFns:this._onDoneFns;h.forEach(g=>g()),h.length=0}}const De="!"},18617:(Be,z,E)=>{"use strict";E.d(z,{Ae:()=>oe,Ai:()=>F,Au:()=>w,Bu:()=>T,FN:()=>kt,GX:()=>me,Pd:()=>cn,Q_:()=>er,Z7:()=>j,_G:()=>Se,px:()=>se,vR:()=>pt,vr:()=>P,w6:()=>ke});var p=E(60177),S=E(93953),O=E(36860),G=E(21413),x=E(18359),B=E(84412),A=E(7673),N=E(67336),$=E(88141),K=E(70152),D=E(5964),X=E(96354),V=E(65245),Z=E(23294),Q=E(56977),te=E(72318),J=E(14085),q=E(99327);const ne=" ";function se(Ut,Nt,dt){const it=ue(Ut,Nt);dt=dt.trim(),!it.some(Ct=>Ct.trim()===dt)&&(it.push(dt),Ut.setAttribute(Nt,it.join(ne)))}function oe(Ut,Nt,dt){const it=ue(Ut,Nt);dt=dt.trim();const Ct=it.filter(Bt=>Bt!==dt);Ct.length?Ut.setAttribute(Nt,Ct.join(ne)):Ut.removeAttribute(Nt)}function ue(Ut,Nt){return Ut.getAttribute(Nt)?.match(/\S+/g)??[]}const ve="cdk-describedby-message",_e="cdk-describedby-host";let De=0,P=(()=>{class Ut{constructor(dt,it){this._platform=it,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+De++,this._document=dt,this._id=(0,S.WQX)(S.sZ2)+"-"+De++}describe(dt,it,Ct){if(!this._canBeDescribed(dt,it))return;const Bt=u(it,Ct);"string"!=typeof it?(h(it,this._id),this._messageRegistry.set(Bt,{messageElement:it,referenceCount:0})):this._messageRegistry.has(Bt)||this._createMessageElement(it,Ct),this._isElementDescribedByMessage(dt,Bt)||this._addMessageReference(dt,Bt)}removeDescription(dt,it,Ct){if(!it||!this._isElementNode(dt))return;const Bt=u(it,Ct);if(this._isElementDescribedByMessage(dt,Bt)&&this._removeMessageReference(dt,Bt),"string"==typeof it){const Wt=this._messageRegistry.get(Bt);Wt&&0===Wt.referenceCount&&this._deleteMessageElement(Bt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const dt=this._document.querySelectorAll(`[${_e}="${this._id}"]`);for(let it=0;it<dt.length;it++)this._removeCdkDescribedByReferenceIds(dt[it]),dt[it].removeAttribute(_e);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(dt,it){const Ct=this._document.createElement("div");h(Ct,this._id),Ct.textContent=dt,it&&Ct.setAttribute("role",it),this._createMessagesContainer(),this._messagesContainer.appendChild(Ct),this._messageRegistry.set(u(dt,it),{messageElement:Ct,referenceCount:0})}_deleteMessageElement(dt){this._messageRegistry.get(dt)?.messageElement?.remove(),this._messageRegistry.delete(dt)}_createMessagesContainer(){if(this._messagesContainer)return;const dt="cdk-describedby-message-container",it=this._document.querySelectorAll(`.${dt}[platform="server"]`);for(let Bt=0;Bt<it.length;Bt++)it[Bt].remove();const Ct=this._document.createElement("div");Ct.style.visibility="hidden",Ct.classList.add(dt),Ct.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Ct.setAttribute("platform","server"),this._document.body.appendChild(Ct),this._messagesContainer=Ct}_removeCdkDescribedByReferenceIds(dt){const it=ue(dt,"aria-describedby").filter(Ct=>0!=Ct.indexOf(ve));dt.setAttribute("aria-describedby",it.join(" "))}_addMessageReference(dt,it){const Ct=this._messageRegistry.get(it);se(dt,"aria-describedby",Ct.messageElement.id),dt.setAttribute(_e,this._id),Ct.referenceCount++}_removeMessageReference(dt,it){const Ct=this._messageRegistry.get(it);Ct.referenceCount--,oe(dt,"aria-describedby",Ct.messageElement.id),dt.removeAttribute(_e)}_isElementDescribedByMessage(dt,it){const Ct=ue(dt,"aria-describedby"),Bt=this._messageRegistry.get(it),Wt=Bt&&Bt.messageElement.id;return!!Wt&&-1!=Ct.indexOf(Wt)}_canBeDescribed(dt,it){if(!this._isElementNode(dt))return!1;if(it&&"object"==typeof it)return!0;const Ct=null==it?"":`${it}`.trim(),Bt=dt.getAttribute("aria-label");return!(!Ct||Bt&&Bt.trim()===Ct)}_isElementNode(dt){return dt.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(it){return new(it||Ut)(S.KVO(p.qQ),S.KVO(O.OD))};static#t=this.\u0275prov=S.jDH({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})();function u(Ut,Nt){return"string"==typeof Ut?`${Nt||""}/${Ut}`:Ut}function h(Ut,Nt){Ut.id||(Ut.id=`${ve}-${Nt}-${De++}`)}class g{constructor(Nt,dt){this._items=Nt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new G.B,this._typeaheadSubscription=x.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=it=>it.disabled,this._pressedLetters=[],this.tabOut=new G.B,this.change=new G.B,Nt instanceof S.rOR?this._itemChangesSubscription=Nt.changes.subscribe(it=>this._itemsChanged(it.toArray())):(0,S.Hps)(Nt)&&(this._effectRef=(0,S.QZP)(()=>this._itemsChanged(Nt()),{injector:dt}))}skipPredicate(Nt){return this._skipPredicateFn=Nt,this}withWrap(Nt=!0){return this._wrap=Nt,this}withVerticalOrientation(Nt=!0){return this._vertical=Nt,this}withHorizontalOrientation(Nt){return this._horizontal=Nt,this}withAllowedModifierKeys(Nt){return this._allowedModifierKeys=Nt,this}withTypeAhead(Nt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,$.M)(dt=>this._pressedLetters.push(dt)),(0,K.B)(Nt),(0,D.p)(()=>this._pressedLetters.length>0),(0,X.T)(()=>this._pressedLetters.join(""))).subscribe(dt=>{const it=this._getItemsArray();for(let Ct=1;Ct<it.length+1;Ct++){const Bt=(this._activeItemIndex+Ct)%it.length,Wt=it[Bt];if(!this._skipPredicateFn(Wt)&&0===Wt.getLabel().toUpperCase().trim().indexOf(dt)){this.setActiveItem(Bt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Nt=!0){return this._homeAndEnd=Nt,this}withPageUpDown(Nt=!0,dt=10){return this._pageUpAndDown={enabled:Nt,delta:dt},this}setActiveItem(Nt){const dt=this._activeItem;this.updateActiveItem(Nt),this._activeItem!==dt&&this.change.next(this._activeItemIndex)}onKeydown(Nt){const dt=Nt.keyCode,Ct=["altKey","ctrlKey","metaKey","shiftKey"].every(Bt=>!Nt[Bt]||this._allowedModifierKeys.indexOf(Bt)>-1);switch(dt){case N.wn:return void this.tabOut.next();case N.n6:if(this._vertical&&Ct){this.setNextItemActive();break}return;case N.i7:if(this._vertical&&Ct){this.setPreviousItemActive();break}return;case N.LE:if(this._horizontal&&Ct){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case N.UQ:if(this._horizontal&&Ct){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case N.yZ:if(this._homeAndEnd&&Ct){this.setFirstItemActive();break}return;case N.Kp:if(this._homeAndEnd&&Ct){this.setLastItemActive();break}return;case N.w_:if(this._pageUpAndDown.enabled&&Ct){const Bt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Bt>0?Bt:0,1);break}return;case N.dB:if(this._pageUpAndDown.enabled&&Ct){const Bt=this._activeItemIndex+this._pageUpAndDown.delta,Wt=this._getItemsArray().length;this._setActiveItemByIndex(Bt<Wt?Bt:Wt-1,-1);break}return;default:return void((Ct||(0,N.rp)(Nt,"shiftKey"))&&(Nt.key&&1===Nt.key.length?this._letterKeyStream.next(Nt.key.toLocaleUpperCase()):(dt>=N.A&&dt<=N.Z||dt>=N.f2&&dt<=N.bn)&&this._letterKeyStream.next(String.fromCharCode(dt))))}this._pressedLetters=[],Nt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Nt){const dt=this._getItemsArray(),it="number"==typeof Nt?Nt:dt.indexOf(Nt);this._activeItem=dt[it]??null,this._activeItemIndex=it}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Nt){this._wrap?this._setActiveInWrapMode(Nt):this._setActiveInDefaultMode(Nt)}_setActiveInWrapMode(Nt){const dt=this._getItemsArray();for(let it=1;it<=dt.length;it++){const Ct=(this._activeItemIndex+Nt*it+dt.length)%dt.length;if(!this._skipPredicateFn(dt[Ct]))return void this.setActiveItem(Ct)}}_setActiveInDefaultMode(Nt){this._setActiveItemByIndex(this._activeItemIndex+Nt,Nt)}_setActiveItemByIndex(Nt,dt){const it=this._getItemsArray();if(it[Nt]){for(;this._skipPredicateFn(it[Nt]);)if(!it[Nt+=dt])return;this.setActiveItem(Nt)}}_getItemsArray(){return(0,S.Hps)(this._items)?this._items():this._items instanceof S.rOR?this._items.toArray():this._items}_itemsChanged(Nt){if(this._activeItem){const dt=Nt.indexOf(this._activeItem);dt>-1&&dt!==this._activeItemIndex&&(this._activeItemIndex=dt)}}}class w extends g{setActiveItem(Nt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Nt),this.activeItem&&this.activeItem.setActiveStyles()}}class T extends g{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Nt){return this._origin=Nt,this}setActiveItem(Nt){super.setActiveItem(Nt),this.activeItem&&this.activeItem.focus(this._origin)}}let j=(()=>{class Ut{constructor(dt){this._platform=dt}isDisabled(dt){return dt.hasAttribute("disabled")}isVisible(dt){return function d(Ut){return!!(Ut.offsetWidth||Ut.offsetHeight||"function"==typeof Ut.getClientRects&&Ut.getClientRects().length)}(dt)&&"visible"===getComputedStyle(dt).visibility}isTabbable(dt){if(!this._platform.isBrowser)return!1;const it=function M(Ut){try{return Ut.frameElement}catch{return null}}(function ge(Ut){return Ut.ownerDocument&&Ut.ownerDocument.defaultView||window}(dt));if(it&&(-1===Pe(it)||!this.isVisible(it)))return!1;let Ct=dt.nodeName.toLowerCase(),Bt=Pe(dt);return dt.hasAttribute("contenteditable")?-1!==Bt:!("iframe"===Ct||"object"===Ct||this._platform.WEBKIT&&this._platform.IOS&&!function Le(Ut){let Nt=Ut.nodeName.toLowerCase(),dt="input"===Nt&&Ut.type;return"text"===dt||"password"===dt||"select"===Nt||"textarea"===Nt}(dt))&&("audio"===Ct?!!dt.hasAttribute("controls")&&-1!==Bt:"video"===Ct?-1!==Bt&&(null!==Bt||this._platform.FIREFOX||dt.hasAttribute("controls")):dt.tabIndex>=0)}isFocusable(dt,it){return function be(Ut){return!function W(Ut){return function ee(Ut){return"input"==Ut.nodeName.toLowerCase()}(Ut)&&"hidden"==Ut.type}(Ut)&&(function v(Ut){let Nt=Ut.nodeName.toLowerCase();return"input"===Nt||"select"===Nt||"button"===Nt||"textarea"===Nt}(Ut)||function H(Ut){return function fe(Ut){return"a"==Ut.nodeName.toLowerCase()}(Ut)&&Ut.hasAttribute("href")}(Ut)||Ut.hasAttribute("contenteditable")||Ae(Ut))}(dt)&&!this.isDisabled(dt)&&(it?.ignoreVisibility||this.isVisible(dt))}static#e=this.\u0275fac=function(it){return new(it||Ut)(S.KVO(O.OD))};static#t=this.\u0275prov=S.jDH({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})();function Ae(Ut){if(!Ut.hasAttribute("tabindex")||void 0===Ut.tabIndex)return!1;let Nt=Ut.getAttribute("tabindex");return!(!Nt||isNaN(parseInt(Nt,10)))}function Pe(Ut){if(!Ae(Ut))return null;const Nt=parseInt(Ut.getAttribute("tabindex")||"",10);return isNaN(Nt)?-1:Nt}class Re{get enabled(){return this._enabled}set enabled(Nt){this._enabled=Nt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Nt,this._startAnchor),this._toggleAnchorTabIndex(Nt,this._endAnchor))}constructor(Nt,dt,it,Ct,Bt=!1,Wt){this._element=Nt,this._checker=dt,this._ngZone=it,this._document=Ct,this._injector=Wt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Bt||this.attachAnchors()}destroy(){const Nt=this._startAnchor,dt=this._endAnchor;Nt&&(Nt.removeEventListener("focus",this.startAnchorListener),Nt.remove()),dt&&(dt.removeEventListener("focus",this.endAnchorListener),dt.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Nt){return new Promise(dt=>{this._executeOnStable(()=>dt(this.focusInitialElement(Nt)))})}focusFirstTabbableElementWhenReady(Nt){return new Promise(dt=>{this._executeOnStable(()=>dt(this.focusFirstTabbableElement(Nt)))})}focusLastTabbableElementWhenReady(Nt){return new Promise(dt=>{this._executeOnStable(()=>dt(this.focusLastTabbableElement(Nt)))})}_getRegionBoundary(Nt){const dt=this._element.querySelectorAll(`[cdk-focus-region-${Nt}], [cdkFocusRegion${Nt}], [cdk-focus-${Nt}]`);return"start"==Nt?dt.length?dt[0]:this._getFirstTabbableElement(this._element):dt.length?dt[dt.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Nt){const dt=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(dt){if(!this._checker.isFocusable(dt)){const it=this._getFirstTabbableElement(dt);return it?.focus(Nt),!!it}return dt.focus(Nt),!0}return this.focusFirstTabbableElement(Nt)}focusFirstTabbableElement(Nt){const dt=this._getRegionBoundary("start");return dt&&dt.focus(Nt),!!dt}focusLastTabbableElement(Nt){const dt=this._getRegionBoundary("end");return dt&&dt.focus(Nt),!!dt}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Nt){if(this._checker.isFocusable(Nt)&&this._checker.isTabbable(Nt))return Nt;const dt=Nt.children;for(let it=0;it<dt.length;it++){const Ct=dt[it].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(dt[it]):null;if(Ct)return Ct}return null}_getLastTabbableElement(Nt){if(this._checker.isFocusable(Nt)&&this._checker.isTabbable(Nt))return Nt;const dt=Nt.children;for(let it=dt.length-1;it>=0;it--){const Ct=dt[it].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(dt[it]):null;if(Ct)return Ct}return null}_createAnchor(){const Nt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Nt),Nt.classList.add("cdk-visually-hidden"),Nt.classList.add("cdk-focus-trap-anchor"),Nt.setAttribute("aria-hidden","true"),Nt}_toggleAnchorTabIndex(Nt,dt){Nt?dt.setAttribute("tabindex","0"):dt.removeAttribute("tabindex")}toggleAnchors(Nt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Nt,this._startAnchor),this._toggleAnchorTabIndex(Nt,this._endAnchor))}_executeOnStable(Nt){this._injector?(0,S.mal)(Nt,{injector:this._injector}):setTimeout(Nt)}}let me=(()=>{class Ut{constructor(dt,it,Ct){this._checker=dt,this._ngZone=it,this._injector=(0,S.WQX)(S.zZn),this._document=Ct}create(dt,it=!1){return new Re(dt,this._checker,this._ngZone,this._document,it,this._injector)}static#e=this.\u0275fac=function(it){return new(it||Ut)(S.KVO(j),S.KVO(S.SKi),S.KVO(p.qQ))};static#t=this.\u0275prov=S.jDH({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})();function Se(Ut){return 0===Ut.buttons||0===Ut.detail}function ke(Ut){const Nt=Ut.touches&&Ut.touches[0]||Ut.changedTouches&&Ut.changedTouches[0];return!(!Nt||-1!==Nt.identifier||null!=Nt.radiusX&&1!==Nt.radiusX||null!=Nt.radiusY&&1!==Nt.radiusY)}const Fe=new S.nKC("cdk-input-modality-detector-options"),We={ignoreKeys:[N.A$,N.W3,N.eg,N.Ge,N.FX]},Xe=(0,O.BQ)({passive:!0,capture:!0});let Ke=(()=>{class Ut{get mostRecentModality(){return this._modality.value}constructor(dt,it,Ct,Bt){this._platform=dt,this._mostRecentTarget=null,this._modality=new B.t(null),this._lastTouchMs=0,this._onKeydown=Wt=>{this._options?.ignoreKeys?.some(Yn=>Yn===Wt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,O.Fb)(Wt))},this._onMousedown=Wt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Se(Wt)?"keyboard":"mouse"),this._mostRecentTarget=(0,O.Fb)(Wt))},this._onTouchstart=Wt=>{ke(Wt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,O.Fb)(Wt))},this._options={...We,...Bt},this.modalityDetected=this._modality.pipe((0,V.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Z.F)()),dt.isBrowser&&it.runOutsideAngular(()=>{Ct.addEventListener("keydown",this._onKeydown,Xe),Ct.addEventListener("mousedown",this._onMousedown,Xe),Ct.addEventListener("touchstart",this._onTouchstart,Xe)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Xe),document.removeEventListener("mousedown",this._onMousedown,Xe),document.removeEventListener("touchstart",this._onTouchstart,Xe))}static#e=this.\u0275fac=function(it){return new(it||Ut)(S.KVO(O.OD),S.KVO(S.SKi),S.KVO(p.qQ),S.KVO(Fe,8))};static#t=this.\u0275prov=S.jDH({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})();const lt=new S.nKC("liveAnnouncerElement",{providedIn:"root",factory:function U(){return null}}),_=new S.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let m=0,F=(()=>{class Ut{constructor(dt,it,Ct,Bt){this._ngZone=it,this._defaultOptions=Bt,this._document=Ct,this._liveElement=dt||this._createLiveElement()}announce(dt,...it){const Ct=this._defaultOptions;let Bt,Wt;return 1===it.length&&"number"==typeof it[0]?Wt=it[0]:[Bt,Wt]=it,this.clear(),clearTimeout(this._previousTimeout),Bt||(Bt=Ct&&Ct.politeness?Ct.politeness:"polite"),null==Wt&&Ct&&(Wt=Ct.duration),this._liveElement.setAttribute("aria-live",Bt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Yn=>this._currentResolve=Yn)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=dt,"number"==typeof Wt&&(this._previousTimeout=setTimeout(()=>this.clear(),Wt)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const dt="cdk-live-announcer-element",it=this._document.getElementsByClassName(dt),Ct=this._document.createElement("div");for(let Bt=0;Bt<it.length;Bt++)it[Bt].remove();return Ct.classList.add(dt),Ct.classList.add("cdk-visually-hidden"),Ct.setAttribute("aria-atomic","true"),Ct.setAttribute("aria-live","polite"),Ct.id="cdk-live-announcer-"+m++,this._document.body.appendChild(Ct),Ct}_exposeAnnouncerToModals(dt){const it=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Ct=0;Ct<it.length;Ct++){const Bt=it[Ct],Wt=Bt.getAttribute("aria-owns");Wt?-1===Wt.indexOf(dt)&&Bt.setAttribute("aria-owns",Wt+" "+dt):Bt.setAttribute("aria-owns",dt)}}static#e=this.\u0275fac=function(it){return new(it||Ut)(S.KVO(lt,8),S.KVO(S.SKi),S.KVO(p.qQ),S.KVO(_,8))};static#t=this.\u0275prov=S.jDH({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})();var we=function(Ut){return Ut[Ut.IMMEDIATE=0]="IMMEDIATE",Ut[Ut.EVENTUAL=1]="EVENTUAL",Ut}(we||{});const Ie=new S.nKC("cdk-focus-monitor-default-options"),Qe=(0,O.BQ)({passive:!0,capture:!0});let kt=(()=>{class Ut{constructor(dt,it,Ct,Bt,Wt){this._ngZone=dt,this._platform=it,this._inputModalityDetector=Ct,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new G.B,this._rootNodeFocusAndBlurListener=Yn=>{for(let ut=(0,O.Fb)(Yn);ut;ut=ut.parentElement)"focus"===Yn.type?this._onFocus(Yn,ut):this._onBlur(Yn,ut)},this._document=Bt,this._detectionMode=Wt?.detectionMode||we.IMMEDIATE}monitor(dt,it=!1){const Ct=(0,J.i8)(dt);if(!this._platform.isBrowser||1!==Ct.nodeType)return(0,A.of)();const Bt=(0,O.KT)(Ct)||this._getDocument(),Wt=this._elementInfo.get(Ct);if(Wt)return it&&(Wt.checkChildren=!0),Wt.subject;const Yn={checkChildren:it,subject:new G.B,rootNode:Bt};return this._elementInfo.set(Ct,Yn),this._registerGlobalListeners(Yn),Yn.subject}stopMonitoring(dt){const it=(0,J.i8)(dt),Ct=this._elementInfo.get(it);Ct&&(Ct.subject.complete(),this._setClasses(it),this._elementInfo.delete(it),this._removeGlobalListeners(Ct))}focusVia(dt,it,Ct){const Bt=(0,J.i8)(dt);Bt===this._getDocument().activeElement?this._getClosestElementsInfo(Bt).forEach(([Yn,at])=>this._originChanged(Yn,it,at)):(this._setOrigin(it),"function"==typeof Bt.focus&&Bt.focus(Ct))}ngOnDestroy(){this._elementInfo.forEach((dt,it)=>this.stopMonitoring(it))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(dt){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(dt)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:dt&&this._isLastInteractionFromInputLabel(dt)?"mouse":"program"}_shouldBeAttributedToTouch(dt){return this._detectionMode===we.EVENTUAL||!!dt?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(dt,it){dt.classList.toggle("cdk-focused",!!it),dt.classList.toggle("cdk-touch-focused","touch"===it),dt.classList.toggle("cdk-keyboard-focused","keyboard"===it),dt.classList.toggle("cdk-mouse-focused","mouse"===it),dt.classList.toggle("cdk-program-focused","program"===it)}_setOrigin(dt,it=!1){this._ngZone.runOutsideAngular(()=>{this._origin=dt,this._originFromTouchInteraction="touch"===dt&&it,this._detectionMode===we.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(dt,it){const Ct=this._elementInfo.get(it),Bt=(0,O.Fb)(dt);!Ct||!Ct.checkChildren&&it!==Bt||this._originChanged(it,this._getFocusOrigin(Bt),Ct)}_onBlur(dt,it){const Ct=this._elementInfo.get(it);!Ct||Ct.checkChildren&&dt.relatedTarget instanceof Node&&it.contains(dt.relatedTarget)||(this._setClasses(it),this._emitOrigin(Ct,null))}_emitOrigin(dt,it){dt.subject.observers.length&&this._ngZone.run(()=>dt.subject.next(it))}_registerGlobalListeners(dt){if(!this._platform.isBrowser)return;const it=dt.rootNode,Ct=this._rootNodeFocusListenerCount.get(it)||0;Ct||this._ngZone.runOutsideAngular(()=>{it.addEventListener("focus",this._rootNodeFocusAndBlurListener,Qe),it.addEventListener("blur",this._rootNodeFocusAndBlurListener,Qe)}),this._rootNodeFocusListenerCount.set(it,Ct+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Q.Q)(this._stopInputModalityDetector)).subscribe(Bt=>{this._setOrigin(Bt,!0)}))}_removeGlobalListeners(dt){const it=dt.rootNode;if(this._rootNodeFocusListenerCount.has(it)){const Ct=this._rootNodeFocusListenerCount.get(it);Ct>1?this._rootNodeFocusListenerCount.set(it,Ct-1):(it.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Qe),it.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Qe),this._rootNodeFocusListenerCount.delete(it))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(dt,it,Ct){this._setClasses(dt,it),this._emitOrigin(Ct,it),this._lastFocusOrigin=it}_getClosestElementsInfo(dt){const it=[];return this._elementInfo.forEach((Ct,Bt)=>{(Bt===dt||Ct.checkChildren&&Bt.contains(dt))&&it.push([Bt,Ct])}),it}_isLastInteractionFromInputLabel(dt){const{_mostRecentTarget:it,mostRecentModality:Ct}=this._inputModalityDetector;if("mouse"!==Ct||!it||it===dt||"INPUT"!==dt.nodeName&&"TEXTAREA"!==dt.nodeName||dt.disabled)return!1;const Bt=dt.labels;if(Bt)for(let Wt=0;Wt<Bt.length;Wt++)if(Bt[Wt].contains(it))return!0;return!1}static#e=this.\u0275fac=function(it){return new(it||Ut)(S.KVO(S.SKi),S.KVO(O.OD),S.KVO(Ke),S.KVO(p.qQ,8),S.KVO(Ie,8))};static#t=this.\u0275prov=S.jDH({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})(),pt=(()=>{class Ut{constructor(dt,it){this._elementRef=dt,this._focusMonitor=it,this._focusOrigin=null,this.cdkFocusChange=new S.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const dt=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(dt,1===dt.nodeType&&dt.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(it=>{this._focusOrigin=it,this.cdkFocusChange.emit(it)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(it){return new(it||Ut)(S.rXU(S.aKT),S.rXU(kt))};static#t=this.\u0275dir=S.FsC({type:Ut,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return Ut})();var Et=function(Ut){return Ut[Ut.NONE=0]="NONE",Ut[Ut.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",Ut[Ut.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",Ut}(Et||{});const Lt="cdk-high-contrast-black-on-white",qt="cdk-high-contrast-white-on-black",Kt="cdk-high-contrast-active";let er=(()=>{class Ut{constructor(dt,it){this._platform=dt,this._document=it,this._breakpointSubscription=(0,S.WQX)(q.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Et.NONE;const dt=this._document.createElement("div");dt.style.backgroundColor="rgb(1,2,3)",dt.style.position="absolute",this._document.body.appendChild(dt);const it=this._document.defaultView||window,Ct=it&&it.getComputedStyle?it.getComputedStyle(dt):null,Bt=(Ct&&Ct.backgroundColor||"").replace(/ /g,"");switch(dt.remove(),Bt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Et.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Et.BLACK_ON_WHITE}return Et.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const dt=this._document.body.classList;dt.remove(Kt,Lt,qt),this._hasCheckedHighContrastMode=!0;const it=this.getHighContrastMode();it===Et.BLACK_ON_WHITE?dt.add(Kt,Lt):it===Et.WHITE_ON_BLACK&&dt.add(Kt,qt)}}static#e=this.\u0275fac=function(it){return new(it||Ut)(S.KVO(O.OD),S.KVO(p.qQ))};static#t=this.\u0275prov=S.jDH({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})(),cn=(()=>{class Ut{constructor(dt){dt._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(it){return new(it||Ut)(S.KVO(er))};static#t=this.\u0275mod=S.$C({type:Ut});static#n=this.\u0275inj=S.G2t({imports:[te.w5]})}return Ut})()},28203:(Be,z,E)=>{"use strict";E.d(z,{dS:()=>A,jI:()=>$});var p=E(93953),S=E(60177);const O=new p.nKC("cdk-dir-doc",{providedIn:"root",factory:function G(){return(0,p.WQX)(S.qQ)}}),x=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let A=(()=>{class K{constructor(X){this.value="ltr",this.change=new p.bkB,X&&(this.value=function B(K){const D=K?.toLowerCase()||"";return"auto"===D&&typeof navigator<"u"&&navigator?.language?x.test(navigator.language)?"rtl":"ltr":"rtl"===D?"rtl":"ltr"}((X.body?X.body.dir:null)||(X.documentElement?X.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(V){return new(V||K)(p.KVO(O,8))};static#t=this.\u0275prov=p.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})(),$=(()=>{class K{static#e=this.\u0275fac=function(V){return new(V||K)};static#t=this.\u0275mod=p.$C({type:K});static#n=this.\u0275inj=p.G2t({})}return K})()},14085:(Be,z,E)=>{"use strict";E.d(z,{FG:()=>x,OE:()=>O,a1:()=>B,he:()=>S,i8:()=>A,o1:()=>G});var p=E(93953);function S($){return null!=$&&"false"!=`${$}`}function O($,K=0){return G($)?Number($):K}function G($){return!isNaN(parseFloat($))&&!isNaN(Number($))}function x($){return Array.isArray($)?$:[$]}function B($){return null==$?"":"string"==typeof $?$:`${$}px`}function A($){return $ instanceof p.aKT?$.nativeElement:$}},45024:(Be,z,E)=>{"use strict";E.d(z,{CB:()=>V,DQ:()=>X,Q3:()=>$,qS:()=>B,sL:()=>K,xn:()=>D,y4:()=>A,zP:()=>Q});var p=E(30017),G=(E(74402),E(7673),E(21413)),x=E(93953);class B{}function A(te){return te&&"function"==typeof te.connect&&!(te instanceof p.G)}var $=function(te){return te[te.REPLACED=0]="REPLACED",te[te.INSERTED=1]="INSERTED",te[te.MOVED=2]="MOVED",te[te.REMOVED=3]="REMOVED",te}($||{});const K=new x.nKC("_ViewRepeater");class D{applyChanges(J,q,ne,se,oe){J.forEachOperation((ue,ae,ve)=>{let _e,De;if(null==ue.previousIndex){const P=ne(ue,ae,ve);_e=q.createEmbeddedView(P.templateRef,P.context,P.index),De=$.INSERTED}else null==ve?(q.remove(ae),De=$.REMOVED):(_e=q.get(ae),q.move(_e,ve),De=$.MOVED);oe&&oe({context:_e?.context,operation:De,record:ue})})}detach(){}}class X{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(J,q,ne,se,oe){J.forEachOperation((ue,ae,ve)=>{let _e,De;null==ue.previousIndex?(_e=this._insertView(()=>ne(ue,ae,ve),ve,q,se(ue)),De=_e?$.INSERTED:$.REPLACED):null==ve?(this._detachAndCacheView(ae,q),De=$.REMOVED):(_e=this._moveView(ae,ve,q,se(ue)),De=$.MOVED),oe&&oe({context:_e?.context,operation:De,record:ue})})}detach(){for(const J of this._viewCache)J.destroy();this._viewCache=[]}_insertView(J,q,ne,se){const oe=this._insertViewFromCache(q,ne);if(oe)return void(oe.context.$implicit=se);const ue=J();return ne.createEmbeddedView(ue.templateRef,ue.context,ue.index)}_detachAndCacheView(J,q){const ne=q.detach(J);this._maybeCacheView(ne,q)}_moveView(J,q,ne,se){const oe=ne.get(J);return ne.move(oe,q),oe.context.$implicit=se,oe}_maybeCacheView(J,q){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(J);else{const ne=q.indexOf(J);-1===ne?J.destroy():q.remove(ne)}}_insertViewFromCache(J,q){const ne=this._viewCache.pop();return ne&&q.insert(ne,J),ne||null}}class V{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(J=!1,q,ne=!0,se){this._multiple=J,this._emitChanges=ne,this.compareWith=se,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new G.B,q&&q.length&&(J?q.forEach(oe=>this._markSelected(oe)):this._markSelected(q[0]),this._selectedToEmit.length=0)}select(...J){this._verifyValueAssignment(J),J.forEach(ne=>this._markSelected(ne));const q=this._hasQueuedChanges();return this._emitChangeEvent(),q}deselect(...J){this._verifyValueAssignment(J),J.forEach(ne=>this._unmarkSelected(ne));const q=this._hasQueuedChanges();return this._emitChangeEvent(),q}setSelection(...J){this._verifyValueAssignment(J);const q=this.selected,ne=new Set(J);J.forEach(oe=>this._markSelected(oe)),q.filter(oe=>!ne.has(this._getConcreteValue(oe,ne))).forEach(oe=>this._unmarkSelected(oe));const se=this._hasQueuedChanges();return this._emitChangeEvent(),se}toggle(J){return this.isSelected(J)?this.deselect(J):this.select(J)}clear(J=!0){this._unmarkAll();const q=this._hasQueuedChanges();return J&&this._emitChangeEvent(),q}isSelected(J){return this._selection.has(this._getConcreteValue(J))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(J){this._multiple&&this.selected&&this._selected.sort(J)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(J){J=this._getConcreteValue(J),this.isSelected(J)||(this._multiple||this._unmarkAll(),this.isSelected(J)||this._selection.add(J),this._emitChanges&&this._selectedToEmit.push(J))}_unmarkSelected(J){J=this._getConcreteValue(J),this.isSelected(J)&&(this._selection.delete(J),this._emitChanges&&this._deselectedToEmit.push(J))}_unmarkAll(){this.isEmpty()||this._selection.forEach(J=>this._unmarkSelected(J))}_verifyValueAssignment(J){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(J,q){if(this.compareWith){q=q??this._selection;for(let ne of q)if(this.compareWith(J,ne))return ne;return J}return J}}let Q=(()=>{class te{constructor(){this._listeners=[]}notify(q,ne){for(let se of this._listeners)se(q,ne)}listen(q){return this._listeners.push(q),()=>{this._listeners=this._listeners.filter(ne=>q!==ne)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(ne){return new(ne||te)};static#t=this.\u0275prov=x.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})()},67336:(Be,z,E)=>{"use strict";E.d(z,{A:()=>H,A$:()=>N,FX:()=>B,Fm:()=>x,G_:()=>S,Ge:()=>m,Kp:()=>Q,LE:()=>ne,SJ:()=>ve,UQ:()=>J,W3:()=>A,Z:()=>_,_f:()=>D,bn:()=>j,dB:()=>Z,eg:()=>$n,f2:()=>_e,i7:()=>q,n6:()=>se,rp:()=>sr,t6:()=>X,w_:()=>V,wn:()=>O,yZ:()=>te});const S=8,O=9,x=13,B=16,A=17,N=18,D=27,X=32,V=33,Z=34,Q=35,te=36,J=37,q=38,ne=39,se=40,ve=46,_e=48,j=57,H=65,_=90,m=91,$n=224;function sr(ir,...Ar){return Ar.length?Ar.some(hr=>ir[hr]):ir.altKey||ir.shiftKey||ir.ctrlKey||ir.metaKey}},99327:(Be,z,E)=>{"use strict";E.d(z,{QP:()=>se,Rp:()=>ue});var p=E(93953),S=E(14085),O=E(21413),G=E(84572),x=E(28793),B=E(71985),A=E(96697),N=E(65245),$=E(70152),K=E(96354),D=E(99172),X=E(56977),V=E(36860);const Q=new Set;let te,J=(()=>{class ae{constructor(_e,De){this._platform=_e,this._nonce=De,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ne}matchMedia(_e){return(this._platform.WEBKIT||this._platform.BLINK)&&function q(ae,ve){if(!Q.has(ae))try{te||(te=document.createElement("style"),ve&&te.setAttribute("nonce",ve),te.setAttribute("type","text/css"),document.head.appendChild(te)),te.sheet&&(te.sheet.insertRule(`@media ${ae} {body{ }}`,0),Q.add(ae))}catch(_e){console.error(_e)}}(_e,this._nonce),this._matchMedia(_e)}static#e=this.\u0275fac=function(De){return new(De||ae)(p.KVO(V.OD),p.KVO(p.BIS,8))};static#t=this.\u0275prov=p.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();function ne(ae){return{matches:"all"===ae||""===ae,media:ae,addListener:()=>{},removeListener:()=>{}}}let se=(()=>{class ae{constructor(_e,De){this._mediaMatcher=_e,this._zone=De,this._queries=new Map,this._destroySubject=new O.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(_e){return oe((0,S.FG)(_e)).some(P=>this._registerQuery(P).mql.matches)}observe(_e){const P=oe((0,S.FG)(_e)).map(h=>this._registerQuery(h).observable);let u=(0,G.z)(P);return u=(0,x.x)(u.pipe((0,A.s)(1)),u.pipe((0,N.i)(1),(0,$.B)(0))),u.pipe((0,K.T)(h=>{const g={matches:!1,breakpoints:{}};return h.forEach(({matches:w,query:T})=>{g.matches=g.matches||w,g.breakpoints[T]=w}),g}))}_registerQuery(_e){if(this._queries.has(_e))return this._queries.get(_e);const De=this._mediaMatcher.matchMedia(_e),u={observable:new B.c(h=>{const g=w=>this._zone.run(()=>h.next(w));return De.addListener(g),()=>{De.removeListener(g)}}).pipe((0,D.Z)(De),(0,K.T)(({matches:h})=>({query:_e,matches:h})),(0,X.Q)(this._destroySubject)),mql:De};return this._queries.set(_e,u),u}static#e=this.\u0275fac=function(De){return new(De||ae)(p.KVO(J),p.KVO(p.SKi))};static#t=this.\u0275prov=p.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();function oe(ae){return ae.map(ve=>ve.split(",")).reduce((ve,_e)=>ve.concat(_e)).map(ve=>ve.trim())}const ue={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},72318:(Be,z,E)=>{"use strict";E.d(z,{Wv:()=>D,w5:()=>X});var p=E(14085),S=E(93953),O=E(71985),G=E(21413),x=E(96354),B=E(5964),A=E(70152);let $=(()=>{class V{create(Q){return typeof MutationObserver>"u"?null:new MutationObserver(Q)}static#e=this.\u0275fac=function(te){return new(te||V)};static#t=this.\u0275prov=S.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})(),K=(()=>{class V{constructor(Q){this._mutationObserverFactory=Q,this._observedElements=new Map,this._ngZone=(0,S.WQX)(S.SKi)}ngOnDestroy(){this._observedElements.forEach((Q,te)=>this._cleanupObserver(te))}observe(Q){const te=(0,p.i8)(Q);return new O.c(J=>{const ne=this._observeElement(te).pipe((0,x.T)(se=>se.filter(oe=>!function N(V){if("characterData"===V.type&&V.target instanceof Comment)return!0;if("childList"===V.type){for(let Z=0;Z<V.addedNodes.length;Z++)if(!(V.addedNodes[Z]instanceof Comment))return!1;for(let Z=0;Z<V.removedNodes.length;Z++)if(!(V.removedNodes[Z]instanceof Comment))return!1;return!0}return!1}(oe))),(0,B.p)(se=>!!se.length)).subscribe(se=>{this._ngZone.run(()=>{J.next(se)})});return()=>{ne.unsubscribe(),this._unobserveElement(te)}})}_observeElement(Q){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(Q))this._observedElements.get(Q).count++;else{const te=new G.B,J=this._mutationObserverFactory.create(q=>te.next(q));J&&J.observe(Q,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Q,{observer:J,stream:te,count:1})}return this._observedElements.get(Q).stream})}_unobserveElement(Q){this._observedElements.has(Q)&&(this._observedElements.get(Q).count--,this._observedElements.get(Q).count||this._cleanupObserver(Q))}_cleanupObserver(Q){if(this._observedElements.has(Q)){const{observer:te,stream:J}=this._observedElements.get(Q);te&&te.disconnect(),J.complete(),this._observedElements.delete(Q)}}static#e=this.\u0275fac=function(te){return new(te||V)(S.KVO($))};static#t=this.\u0275prov=S.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})(),D=(()=>{class V{get disabled(){return this._disabled}set disabled(Q){this._disabled=Q,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Q){this._debounce=(0,p.OE)(Q),this._subscribe()}constructor(Q,te){this._contentObserver=Q,this._elementRef=te,this.event=new S.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Q=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?Q.pipe((0,A.B)(this.debounce)):Q).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(te){return new(te||V)(S.rXU(K),S.rXU(S.aKT))};static#t=this.\u0275dir=S.FsC({type:V,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",S.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[S.GFd]})}return V})(),X=(()=>{class V{static#e=this.\u0275fac=function(te){return new(te||V)};static#t=this.\u0275mod=S.$C({type:V});static#n=this.\u0275inj=S.G2t({providers:[$]})}return V})()},98170:(Be,z,E)=>{"use strict";E.d(z,{a:()=>$});var p=E(93953),S=E(21413),O=E(71985),G=E(5964),x=E(44668),B=E(56977);class N{constructor(D){this._box=D,this._destroyed=new S.B,this._resizeSubject=new S.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(X=>this._resizeSubject.next(X)))}observe(D){return this._elementObservables.has(D)||this._elementObservables.set(D,new O.c(X=>{const V=this._resizeSubject.subscribe(X);return this._resizeObserver?.observe(D,{box:this._box}),()=>{this._resizeObserver?.unobserve(D),V.unsubscribe(),this._elementObservables.delete(D)}}).pipe((0,G.p)(X=>X.some(V=>V.target===D)),(0,x.t)({bufferSize:1,refCount:!0}),(0,B.Q)(this._destroyed))),this._elementObservables.get(D)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let $=(()=>{class K{constructor(){this._observers=new Map,this._ngZone=(0,p.WQX)(p.SKi)}ngOnDestroy(){for(const[,X]of this._observers)X.destroy();this._observers.clear()}observe(X,V){const Z=V?.box||"content-box";return this._observers.has(Z)||this._observers.set(Z,new N(Z)),this._observers.get(Z).observe(X)}static#e=this.\u0275fac=function(V){return new(V||K)};static#t=this.\u0275prov=p.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})()},66969:(Be,z,E)=>{"use strict";E.d(z,{WB:()=>Se,$Q:()=>pe,hJ:()=>he,rR:()=>De,Sf:()=>d,z_:()=>We,yY:()=>v});var p=E(67333),S=E(60177),O=E(93953),G=E(14085),x=E(36860),B=E(5964),A=E(56977),N=E(39974),$=E(54360),D=E(28203),X=E(76939),V=E(21413),Z=E(18359),Q=E(57786),te=E(67336);const J=(0,x.CZ)();class q{constructor(Ke,lt){this._viewportRuler=Ke,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=lt}attach(){}enable(){if(this._canBeEnabled()){const Ke=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Ke.style.left||"",this._previousHTMLStyles.top=Ke.style.top||"",Ke.style.left=(0,G.a1)(-this._previousScrollPosition.left),Ke.style.top=(0,G.a1)(-this._previousScrollPosition.top),Ke.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Ke=this._document.documentElement,U=Ke.style,_=this._document.body.style,m=U.scrollBehavior||"",F=_.scrollBehavior||"";this._isEnabled=!1,U.left=this._previousHTMLStyles.left,U.top=this._previousHTMLStyles.top,Ke.classList.remove("cdk-global-scrollblock"),J&&(U.scrollBehavior=_.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),J&&(U.scrollBehavior=m,_.scrollBehavior=F)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const lt=this._document.body,U=this._viewportRuler.getViewportSize();return lt.scrollHeight>U.height||lt.scrollWidth>U.width}}class se{constructor(Ke,lt,U,_){this._scrollDispatcher=Ke,this._ngZone=lt,this._viewportRuler=U,this._config=_,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Ke){this._overlayRef=Ke}enable(){if(this._scrollSubscription)return;const Ke=this._scrollDispatcher.scrolled(0).pipe((0,B.p)(lt=>!lt||!this._overlayRef.overlayElement.contains(lt.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Ke.subscribe(()=>{const lt=this._viewportRuler.getViewportScrollPosition().top;Math.abs(lt-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Ke.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class oe{enable(){}disable(){}attach(){}}function ue(Xe,Ke){return Ke.some(lt=>Xe.bottom<lt.top||Xe.top>lt.bottom||Xe.right<lt.left||Xe.left>lt.right)}function ae(Xe,Ke){return Ke.some(lt=>Xe.top<lt.top||Xe.bottom>lt.bottom||Xe.left<lt.left||Xe.right>lt.right)}class ve{constructor(Ke,lt,U,_){this._scrollDispatcher=Ke,this._viewportRuler=lt,this._ngZone=U,this._config=_,this._scrollSubscription=null}attach(Ke){this._overlayRef=Ke}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const lt=this._overlayRef.overlayElement.getBoundingClientRect(),{width:U,height:_}=this._viewportRuler.getViewportSize();ue(lt,[{width:U,height:_,bottom:_,right:U,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let _e=(()=>{class Xe{constructor(lt,U,_,m){this._scrollDispatcher=lt,this._viewportRuler=U,this._ngZone=_,this.noop=()=>new oe,this.close=F=>new se(this._scrollDispatcher,this._ngZone,this._viewportRuler,F),this.block=()=>new q(this._viewportRuler,this._document),this.reposition=F=>new ve(this._scrollDispatcher,this._viewportRuler,this._ngZone,F),this._document=m}static#e=this.\u0275fac=function(U){return new(U||Xe)(O.KVO(p.R),O.KVO(p.Xj),O.KVO(O.SKi),O.KVO(S.qQ))};static#t=this.\u0275prov=O.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})();class De{constructor(Ke){if(this.scrollStrategy=new oe,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Ke){const lt=Object.keys(Ke);for(const U of lt)void 0!==Ke[U]&&(this[U]=Ke[U])}}}class h{constructor(Ke,lt){this.connectionPair=Ke,this.scrollableViewProperties=lt}}let T=(()=>{class Xe{constructor(lt){this._attachedOverlays=[],this._document=lt}ngOnDestroy(){this.detach()}add(lt){this.remove(lt),this._attachedOverlays.push(lt)}remove(lt){const U=this._attachedOverlays.indexOf(lt);U>-1&&this._attachedOverlays.splice(U,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(U){return new(U||Xe)(O.KVO(S.qQ))};static#t=this.\u0275prov=O.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})(),C=(()=>{class Xe extends T{constructor(lt,U){super(lt),this._ngZone=U,this._keydownListener=_=>{const m=this._attachedOverlays;for(let F=m.length-1;F>-1;F--)if(m[F]._keydownEvents.observers.length>0){const ie=m[F]._keydownEvents;this._ngZone?this._ngZone.run(()=>ie.next(_)):ie.next(_);break}}}add(lt){super.add(lt),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(U){return new(U||Xe)(O.KVO(S.qQ),O.KVO(O.SKi,8))};static#t=this.\u0275prov=O.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})(),j=(()=>{class Xe extends T{constructor(lt,U,_){super(lt),this._platform=U,this._ngZone=_,this._cursorStyleIsSet=!1,this._pointerDownListener=m=>{this._pointerDownEventTarget=(0,x.Fb)(m)},this._clickListener=m=>{const F=(0,x.Fb)(m),ie="click"===m.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:F;this._pointerDownEventTarget=null;const we=this._attachedOverlays.slice();for(let Ie=we.length-1;Ie>-1;Ie--){const Qe=we[Ie];if(Qe._outsidePointerEvents.observers.length<1||!Qe.hasAttached())continue;if(M(Qe.overlayElement,F)||M(Qe.overlayElement,ie))break;const kt=Qe._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>kt.next(m)):kt.next(m)}}}add(lt){if(super.add(lt),!this._isAttached){const U=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(U)):this._addEventListeners(U),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=U.style.cursor,U.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const lt=this._document.body;lt.removeEventListener("pointerdown",this._pointerDownListener,!0),lt.removeEventListener("click",this._clickListener,!0),lt.removeEventListener("auxclick",this._clickListener,!0),lt.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(lt.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(lt){lt.addEventListener("pointerdown",this._pointerDownListener,!0),lt.addEventListener("click",this._clickListener,!0),lt.addEventListener("auxclick",this._clickListener,!0),lt.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(U){return new(U||Xe)(O.KVO(S.qQ),O.KVO(x.OD),O.KVO(O.SKi,8))};static#t=this.\u0275prov=O.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})();function M(Xe,Ke){const lt=typeof ShadowRoot<"u"&&ShadowRoot;let U=Ke;for(;U;){if(U===Xe)return!0;U=lt&&U instanceof ShadowRoot?U.host:U.parentNode}return!1}let d=(()=>{class Xe{constructor(lt,U){this._platform=U,this._document=lt}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const lt="cdk-overlay-container";if(this._platform.isBrowser||(0,x.v8)()){const _=this._document.querySelectorAll(`.${lt}[platform="server"], .${lt}[platform="test"]`);for(let m=0;m<_.length;m++)_[m].remove()}const U=this._document.createElement("div");U.classList.add(lt),(0,x.v8)()?U.setAttribute("platform","test"):this._platform.isBrowser||U.setAttribute("platform","server"),this._document.body.appendChild(U),this._containerElement=U}static#e=this.\u0275fac=function(U){return new(U||Xe)(O.KVO(S.qQ),O.KVO(x.OD))};static#t=this.\u0275prov=O.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})();class v{constructor(Ke,lt,U,_,m,F,ie,we,Ie,Qe=!1,kt){this._portalOutlet=Ke,this._host=lt,this._pane=U,this._config=_,this._ngZone=m,this._keyboardDispatcher=F,this._document=ie,this._location=we,this._outsideClickDispatcher=Ie,this._animationsDisabled=Qe,this._injector=kt,this._backdropElement=null,this._backdropClick=new V.B,this._attachments=new V.B,this._detachments=new V.B,this._locationChanges=Z.yU.EMPTY,this._backdropClickHandler=pt=>this._backdropClick.next(pt),this._backdropTransitionendHandler=pt=>{this._disposeBackdrop(pt.target)},this._keydownEvents=new V.B,this._outsidePointerEvents=new V.B,this._renders=new V.B,_.scrollStrategy&&(this._scrollStrategy=_.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=_.positionStrategy,this._afterRenderRef=(0,O.O8t)(()=>(0,O.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Ke){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const lt=this._portalOutlet.attach(Ke);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,O.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof lt?.onDestroy&&lt.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),lt}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Ke=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Ke}dispose(){const Ke=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Ke&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Ke){Ke!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Ke,this.hasAttached()&&(Ke.attach(this),this.updatePosition()))}updateSize(Ke){this._config={...this._config,...Ke},this._updateElementSize()}setDirection(Ke){this._config={...this._config,direction:Ke},this._updateElementDirection()}addPanelClass(Ke){this._pane&&this._toggleClasses(this._pane,Ke,!0)}removePanelClass(Ke){this._pane&&this._toggleClasses(this._pane,Ke,!1)}getDirection(){const Ke=this._config.direction;return Ke?"string"==typeof Ke?Ke:Ke.value:"ltr"}updateScrollStrategy(Ke){Ke!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Ke,this.hasAttached()&&(Ke.attach(this),Ke.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Ke=this._pane.style;Ke.width=(0,G.a1)(this._config.width),Ke.height=(0,G.a1)(this._config.height),Ke.minWidth=(0,G.a1)(this._config.minWidth),Ke.minHeight=(0,G.a1)(this._config.minHeight),Ke.maxWidth=(0,G.a1)(this._config.maxWidth),Ke.maxHeight=(0,G.a1)(this._config.maxHeight)}_togglePointerEvents(Ke){this._pane.style.pointerEvents=Ke?"":"none"}_attachBackdrop(){const Ke="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Ke)})}):this._backdropElement.classList.add(Ke)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Ke=this._backdropElement;if(Ke){if(this._animationsDisabled)return void this._disposeBackdrop(Ke);Ke.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Ke.addEventListener("transitionend",this._backdropTransitionendHandler)}),Ke.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Ke)},500))}}_toggleClasses(Ke,lt,U){const _=(0,G.FG)(lt||[]).filter(m=>!!m);_.length&&(U?Ke.classList.add(..._):Ke.classList.remove(..._))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const Ke=this._renders.pipe((0,A.Q)((0,Q.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Ke.unsubscribe())})})}_disposeScrollStrategy(){const Ke=this._scrollStrategy;Ke&&(Ke.disable(),Ke.detach&&Ke.detach())}_disposeBackdrop(Ke){Ke&&(Ke.removeEventListener("click",this._backdropClickHandler),Ke.removeEventListener("transitionend",this._backdropTransitionendHandler),Ke.remove(),this._backdropElement===Ke&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const W="cdk-overlay-connected-position-bounding-box",H=/([A-Za-z%]+)$/;class ee{get positions(){return this._preferredPositions}constructor(Ke,lt,U,_,m){this._viewportRuler=lt,this._document=U,this._platform=_,this._overlayContainer=m,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new V.B,this._resizeSubscription=Z.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Ke)}attach(Ke){this._validatePositions(),Ke.hostElement.classList.add(W),this._overlayRef=Ke,this._boundingBox=Ke.hostElement,this._pane=Ke.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ke=this._originRect,lt=this._overlayRect,U=this._viewportRect,_=this._containerRect,m=[];let F;for(let ie of this._preferredPositions){let we=this._getOriginPoint(Ke,_,ie),Ie=this._getOverlayPoint(we,lt,ie),Qe=this._getOverlayFit(Ie,lt,U,ie);if(Qe.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(ie,we);this._canFitWithFlexibleDimensions(Qe,Ie,U)?m.push({position:ie,origin:we,overlayRect:lt,boundingBoxRect:this._calculateBoundingBoxRect(we,ie)}):(!F||F.overlayFit.visibleArea<Qe.visibleArea)&&(F={overlayFit:Qe,overlayPoint:Ie,originPoint:we,position:ie,overlayRect:lt})}if(m.length){let ie=null,we=-1;for(const Ie of m){const Qe=Ie.boundingBoxRect.width*Ie.boundingBoxRect.height*(Ie.position.weight||1);Qe>we&&(we=Qe,ie=Ie)}return this._isPushed=!1,void this._applyPosition(ie.position,ie.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(F.position,F.originPoint);this._applyPosition(F.position,F.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&fe(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(W),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Ke=this._lastPosition;if(Ke){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const lt=this._getOriginPoint(this._originRect,this._containerRect,Ke);this._applyPosition(Ke,lt)}else this.apply()}withScrollableContainers(Ke){return this._scrollables=Ke,this}withPositions(Ke){return this._preferredPositions=Ke,-1===Ke.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Ke){return this._viewportMargin=Ke,this}withFlexibleDimensions(Ke=!0){return this._hasFlexibleDimensions=Ke,this}withGrowAfterOpen(Ke=!0){return this._growAfterOpen=Ke,this}withPush(Ke=!0){return this._canPush=Ke,this}withLockedPosition(Ke=!0){return this._positionLocked=Ke,this}setOrigin(Ke){return this._origin=Ke,this}withDefaultOffsetX(Ke){return this._offsetX=Ke,this}withDefaultOffsetY(Ke){return this._offsetY=Ke,this}withTransformOriginOn(Ke){return this._transformOriginSelector=Ke,this}_getOriginPoint(Ke,lt,U){let _,m;if("center"==U.originX)_=Ke.left+Ke.width/2;else{const F=this._isRtl()?Ke.right:Ke.left,ie=this._isRtl()?Ke.left:Ke.right;_="start"==U.originX?F:ie}return lt.left<0&&(_-=lt.left),m="center"==U.originY?Ke.top+Ke.height/2:"top"==U.originY?Ke.top:Ke.bottom,lt.top<0&&(m-=lt.top),{x:_,y:m}}_getOverlayPoint(Ke,lt,U){let _,m;return _="center"==U.overlayX?-lt.width/2:"start"===U.overlayX?this._isRtl()?-lt.width:0:this._isRtl()?0:-lt.width,m="center"==U.overlayY?-lt.height/2:"top"==U.overlayY?0:-lt.height,{x:Ke.x+_,y:Ke.y+m}}_getOverlayFit(Ke,lt,U,_){const m=Pe(lt);let{x:F,y:ie}=Ke,we=this._getOffset(_,"x"),Ie=this._getOffset(_,"y");we&&(F+=we),Ie&&(ie+=Ie);let pt=0-ie,Et=ie+m.height-U.height,Lt=this._subtractOverflows(m.width,0-F,F+m.width-U.width),qt=this._subtractOverflows(m.height,pt,Et),Kt=Lt*qt;return{visibleArea:Kt,isCompletelyWithinViewport:m.width*m.height===Kt,fitsInViewportVertically:qt===m.height,fitsInViewportHorizontally:Lt==m.width}}_canFitWithFlexibleDimensions(Ke,lt,U){if(this._hasFlexibleDimensions){const _=U.bottom-lt.y,m=U.right-lt.x,F=Ae(this._overlayRef.getConfig().minHeight),ie=Ae(this._overlayRef.getConfig().minWidth);return(Ke.fitsInViewportVertically||null!=F&&F<=_)&&(Ke.fitsInViewportHorizontally||null!=ie&&ie<=m)}return!1}_pushOverlayOnScreen(Ke,lt,U){if(this._previousPushAmount&&this._positionLocked)return{x:Ke.x+this._previousPushAmount.x,y:Ke.y+this._previousPushAmount.y};const _=Pe(lt),m=this._viewportRect,F=Math.max(Ke.x+_.width-m.width,0),ie=Math.max(Ke.y+_.height-m.height,0),we=Math.max(m.top-U.top-Ke.y,0),Ie=Math.max(m.left-U.left-Ke.x,0);let Qe=0,kt=0;return Qe=_.width<=m.width?Ie||-F:Ke.x<this._viewportMargin?m.left-U.left-Ke.x:0,kt=_.height<=m.height?we||-ie:Ke.y<this._viewportMargin?m.top-U.top-Ke.y:0,this._previousPushAmount={x:Qe,y:kt},{x:Ke.x+Qe,y:Ke.y+kt}}_applyPosition(Ke,lt){if(this._setTransformOrigin(Ke),this._setOverlayElementStyles(lt,Ke),this._setBoundingBoxStyles(lt,Ke),Ke.panelClass&&this._addPanelClasses(Ke.panelClass),this._positionChanges.observers.length){const U=this._getScrollVisibility();if(Ke!==this._lastPosition||!this._lastScrollVisibility||!function Le(Xe,Ke){return Xe===Ke||Xe.isOriginClipped===Ke.isOriginClipped&&Xe.isOriginOutsideView===Ke.isOriginOutsideView&&Xe.isOverlayClipped===Ke.isOverlayClipped&&Xe.isOverlayOutsideView===Ke.isOverlayOutsideView}(this._lastScrollVisibility,U)){const _=new h(Ke,U);this._positionChanges.next(_)}this._lastScrollVisibility=U}this._lastPosition=Ke,this._isInitialRender=!1}_setTransformOrigin(Ke){if(!this._transformOriginSelector)return;const lt=this._boundingBox.querySelectorAll(this._transformOriginSelector);let U,_=Ke.overlayY;U="center"===Ke.overlayX?"center":this._isRtl()?"start"===Ke.overlayX?"right":"left":"start"===Ke.overlayX?"left":"right";for(let m=0;m<lt.length;m++)lt[m].style.transformOrigin=`${U} ${_}`}_calculateBoundingBoxRect(Ke,lt){const U=this._viewportRect,_=this._isRtl();let m,F,ie,Qe,kt,pt;if("top"===lt.overlayY)F=Ke.y,m=U.height-F+this._viewportMargin;else if("bottom"===lt.overlayY)ie=U.height-Ke.y+2*this._viewportMargin,m=U.height-ie+this._viewportMargin;else{const Et=Math.min(U.bottom-Ke.y+U.top,Ke.y),Lt=this._lastBoundingBoxSize.height;m=2*Et,F=Ke.y-Et,m>Lt&&!this._isInitialRender&&!this._growAfterOpen&&(F=Ke.y-Lt/2)}if("end"===lt.overlayX&&!_||"start"===lt.overlayX&&_)pt=U.width-Ke.x+2*this._viewportMargin,Qe=Ke.x-this._viewportMargin;else if("start"===lt.overlayX&&!_||"end"===lt.overlayX&&_)kt=Ke.x,Qe=U.right-Ke.x;else{const Et=Math.min(U.right-Ke.x+U.left,Ke.x),Lt=this._lastBoundingBoxSize.width;Qe=2*Et,kt=Ke.x-Et,Qe>Lt&&!this._isInitialRender&&!this._growAfterOpen&&(kt=Ke.x-Lt/2)}return{top:F,left:kt,bottom:ie,right:pt,width:Qe,height:m}}_setBoundingBoxStyles(Ke,lt){const U=this._calculateBoundingBoxRect(Ke,lt);!this._isInitialRender&&!this._growAfterOpen&&(U.height=Math.min(U.height,this._lastBoundingBoxSize.height),U.width=Math.min(U.width,this._lastBoundingBoxSize.width));const _={};if(this._hasExactPosition())_.top=_.left="0",_.bottom=_.right=_.maxHeight=_.maxWidth="",_.width=_.height="100%";else{const m=this._overlayRef.getConfig().maxHeight,F=this._overlayRef.getConfig().maxWidth;_.height=(0,G.a1)(U.height),_.top=(0,G.a1)(U.top),_.bottom=(0,G.a1)(U.bottom),_.width=(0,G.a1)(U.width),_.left=(0,G.a1)(U.left),_.right=(0,G.a1)(U.right),_.alignItems="center"===lt.overlayX?"center":"end"===lt.overlayX?"flex-end":"flex-start",_.justifyContent="center"===lt.overlayY?"center":"bottom"===lt.overlayY?"flex-end":"flex-start",m&&(_.maxHeight=(0,G.a1)(m)),F&&(_.maxWidth=(0,G.a1)(F))}this._lastBoundingBoxSize=U,fe(this._boundingBox.style,_)}_resetBoundingBoxStyles(){fe(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){fe(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Ke,lt){const U={},_=this._hasExactPosition(),m=this._hasFlexibleDimensions,F=this._overlayRef.getConfig();if(_){const Qe=this._viewportRuler.getViewportScrollPosition();fe(U,this._getExactOverlayY(lt,Ke,Qe)),fe(U,this._getExactOverlayX(lt,Ke,Qe))}else U.position="static";let ie="",we=this._getOffset(lt,"x"),Ie=this._getOffset(lt,"y");we&&(ie+=`translateX(${we}px) `),Ie&&(ie+=`translateY(${Ie}px)`),U.transform=ie.trim(),F.maxHeight&&(_?U.maxHeight=(0,G.a1)(F.maxHeight):m&&(U.maxHeight="")),F.maxWidth&&(_?U.maxWidth=(0,G.a1)(F.maxWidth):m&&(U.maxWidth="")),fe(this._pane.style,U)}_getExactOverlayY(Ke,lt,U){let _={top:"",bottom:""},m=this._getOverlayPoint(lt,this._overlayRect,Ke);return this._isPushed&&(m=this._pushOverlayOnScreen(m,this._overlayRect,U)),"bottom"===Ke.overlayY?_.bottom=this._document.documentElement.clientHeight-(m.y+this._overlayRect.height)+"px":_.top=(0,G.a1)(m.y),_}_getExactOverlayX(Ke,lt,U){let F,_={left:"",right:""},m=this._getOverlayPoint(lt,this._overlayRect,Ke);return this._isPushed&&(m=this._pushOverlayOnScreen(m,this._overlayRect,U)),F=this._isRtl()?"end"===Ke.overlayX?"left":"right":"end"===Ke.overlayX?"right":"left","right"===F?_.right=this._document.documentElement.clientWidth-(m.x+this._overlayRect.width)+"px":_.left=(0,G.a1)(m.x),_}_getScrollVisibility(){const Ke=this._getOriginRect(),lt=this._pane.getBoundingClientRect(),U=this._scrollables.map(_=>_.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ae(Ke,U),isOriginOutsideView:ue(Ke,U),isOverlayClipped:ae(lt,U),isOverlayOutsideView:ue(lt,U)}}_subtractOverflows(Ke,...lt){return lt.reduce((U,_)=>U-Math.max(_,0),Ke)}_getNarrowedViewportRect(){const Ke=this._document.documentElement.clientWidth,lt=this._document.documentElement.clientHeight,U=this._viewportRuler.getViewportScrollPosition();return{top:U.top+this._viewportMargin,left:U.left+this._viewportMargin,right:U.left+Ke-this._viewportMargin,bottom:U.top+lt-this._viewportMargin,width:Ke-2*this._viewportMargin,height:lt-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Ke,lt){return"x"===lt?null==Ke.offsetX?this._offsetX:Ke.offsetX:null==Ke.offsetY?this._offsetY:Ke.offsetY}_validatePositions(){}_addPanelClasses(Ke){this._pane&&(0,G.FG)(Ke).forEach(lt=>{""!==lt&&-1===this._appliedPanelClasses.indexOf(lt)&&(this._appliedPanelClasses.push(lt),this._pane.classList.add(lt))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Ke=>{this._pane.classList.remove(Ke)}),this._appliedPanelClasses=[])}_getOriginRect(){const Ke=this._origin;if(Ke instanceof O.aKT)return Ke.nativeElement.getBoundingClientRect();if(Ke instanceof Element)return Ke.getBoundingClientRect();const lt=Ke.width||0,U=Ke.height||0;return{top:Ke.y,bottom:Ke.y+U,left:Ke.x,right:Ke.x+lt,height:U,width:lt}}}function fe(Xe,Ke){for(let lt in Ke)Ke.hasOwnProperty(lt)&&(Xe[lt]=Ke[lt]);return Xe}function Ae(Xe){if("number"!=typeof Xe&&null!=Xe){const[Ke,lt]=Xe.split(H);return lt&&"px"!==lt?null:parseFloat(Ke)}return Xe||null}function Pe(Xe){return{top:Math.floor(Xe.top),right:Math.floor(Xe.right),bottom:Math.floor(Xe.bottom),left:Math.floor(Xe.left),width:Math.floor(Xe.width),height:Math.floor(Xe.height)}}const Re="cdk-global-overlay-wrapper";class me{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Ke){const lt=Ke.getConfig();this._overlayRef=Ke,this._width&&!lt.width&&Ke.updateSize({width:this._width}),this._height&&!lt.height&&Ke.updateSize({height:this._height}),Ke.hostElement.classList.add(Re),this._isDisposed=!1}top(Ke=""){return this._bottomOffset="",this._topOffset=Ke,this._alignItems="flex-start",this}left(Ke=""){return this._xOffset=Ke,this._xPosition="left",this}bottom(Ke=""){return this._topOffset="",this._bottomOffset=Ke,this._alignItems="flex-end",this}right(Ke=""){return this._xOffset=Ke,this._xPosition="right",this}start(Ke=""){return this._xOffset=Ke,this._xPosition="start",this}end(Ke=""){return this._xOffset=Ke,this._xPosition="end",this}width(Ke=""){return this._overlayRef?this._overlayRef.updateSize({width:Ke}):this._width=Ke,this}height(Ke=""){return this._overlayRef?this._overlayRef.updateSize({height:Ke}):this._height=Ke,this}centerHorizontally(Ke=""){return this.left(Ke),this._xPosition="center",this}centerVertically(Ke=""){return this.top(Ke),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Ke=this._overlayRef.overlayElement.style,lt=this._overlayRef.hostElement.style,U=this._overlayRef.getConfig(),{width:_,height:m,maxWidth:F,maxHeight:ie}=U,we=!("100%"!==_&&"100vw"!==_||F&&"100%"!==F&&"100vw"!==F),Ie=!("100%"!==m&&"100vh"!==m||ie&&"100%"!==ie&&"100vh"!==ie),Qe=this._xPosition,kt=this._xOffset,pt="rtl"===this._overlayRef.getConfig().direction;let Et="",Lt="",qt="";we?qt="flex-start":"center"===Qe?(qt="center",pt?Lt=kt:Et=kt):pt?"left"===Qe||"end"===Qe?(qt="flex-end",Et=kt):("right"===Qe||"start"===Qe)&&(qt="flex-start",Lt=kt):"left"===Qe||"start"===Qe?(qt="flex-start",Et=kt):("right"===Qe||"end"===Qe)&&(qt="flex-end",Lt=kt),Ke.position=this._cssPosition,Ke.marginLeft=we?"0":Et,Ke.marginTop=Ie?"0":this._topOffset,Ke.marginBottom=this._bottomOffset,Ke.marginRight=we?"0":Lt,lt.justifyContent=qt,lt.alignItems=Ie?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Ke=this._overlayRef.overlayElement.style,lt=this._overlayRef.hostElement,U=lt.style;lt.classList.remove(Re),U.justifyContent=U.alignItems=Ke.marginTop=Ke.marginBottom=Ke.marginLeft=Ke.marginRight=Ke.position="",this._overlayRef=null,this._isDisposed=!0}}let xe=(()=>{class Xe{constructor(lt,U,_,m){this._viewportRuler=lt,this._document=U,this._platform=_,this._overlayContainer=m}global(){return new me}flexibleConnectedTo(lt){return new ee(lt,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(U){return new(U||Xe)(O.KVO(p.Xj),O.KVO(S.qQ),O.KVO(x.OD),O.KVO(d))};static#t=this.\u0275prov=O.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})(),le=0,he=(()=>{class Xe{constructor(lt,U,_,m,F,ie,we,Ie,Qe,kt,pt,Et){this.scrollStrategies=lt,this._overlayContainer=U,this._componentFactoryResolver=_,this._positionBuilder=m,this._keyboardDispatcher=F,this._injector=ie,this._ngZone=we,this._document=Ie,this._directionality=Qe,this._location=kt,this._outsideClickDispatcher=pt,this._animationsModuleType=Et}create(lt){const U=this._createHostElement(),_=this._createPaneElement(U),m=this._createPortalOutlet(_),F=new De(lt);return F.direction=F.direction||this._directionality.value,new v(m,U,_,F,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(O.uvJ))}position(){return this._positionBuilder}_createPaneElement(lt){const U=this._document.createElement("div");return U.id="cdk-overlay-"+le++,U.classList.add("cdk-overlay-pane"),lt.appendChild(U),U}_createHostElement(){const lt=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(lt),lt}_createPortalOutlet(lt){return this._appRef||(this._appRef=this._injector.get(O.o8S)),new X.aI(lt,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(U){return new(U||Xe)(O.KVO(_e),O.KVO(d),O.KVO(O.OM3),O.KVO(xe),O.KVO(C),O.KVO(O.zZn),O.KVO(O.SKi),O.KVO(S.qQ),O.KVO(D.dS),O.KVO(S.aZ),O.KVO(j),O.KVO(O.bc$,8))};static#t=this.\u0275prov=O.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})();const re=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],de=new O.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const Xe=(0,O.WQX)(he);return()=>Xe.scrollStrategies.reposition()}});let pe=(()=>{class Xe{constructor(lt){this.elementRef=lt}static#e=this.\u0275fac=function(U){return new(U||Xe)(O.rXU(O.aKT))};static#t=this.\u0275dir=O.FsC({type:Xe,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return Xe})(),Se=(()=>{class Xe{get offsetX(){return this._offsetX}set offsetX(lt){this._offsetX=lt,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(lt){this._offsetY=lt,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(lt){this._disposeOnNavigation=lt}constructor(lt,U,_,m,F){this._overlay=lt,this._dir=F,this._backdropSubscription=Z.yU.EMPTY,this._attachSubscription=Z.yU.EMPTY,this._detachSubscription=Z.yU.EMPTY,this._positionSubscription=Z.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,O.WQX)(O.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new O.bkB,this.positionChange=new O.bkB,this.attach=new O.bkB,this.detach=new O.bkB,this.overlayKeydown=new O.bkB,this.overlayOutsideClick=new O.bkB,this._templatePortal=new X.VA(U,_),this._scrollStrategyFactory=m,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(lt){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),lt.origin&&this.open&&this._position.apply()),lt.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=re);const lt=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=lt.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=lt.detachments().subscribe(()=>this.detach.emit()),lt.keydownEvents().subscribe(U=>{this.overlayKeydown.next(U),U.keyCode===te._f&&!this.disableClose&&!(0,te.rp)(U)&&(U.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(U=>{const _=this._getOriginElement(),m=(0,x.Fb)(U);(!_||_!==m&&!_.contains(m))&&this.overlayOutsideClick.next(U)})}_buildConfig(){const lt=this._position=this.positionStrategy||this._createPositionStrategy(),U=new De({direction:this._dir,positionStrategy:lt,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(U.width=this.width),(this.height||0===this.height)&&(U.height=this.height),(this.minWidth||0===this.minWidth)&&(U.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(U.minHeight=this.minHeight),this.backdropClass&&(U.backdropClass=this.backdropClass),this.panelClass&&(U.panelClass=this.panelClass),U}_updatePositionStrategy(lt){const U=this.positions.map(_=>({originX:_.originX,originY:_.originY,overlayX:_.overlayX,overlayY:_.overlayY,offsetX:_.offsetX||this.offsetX,offsetY:_.offsetY||this.offsetY,panelClass:_.panelClass||void 0}));return lt.setOrigin(this._getOrigin()).withPositions(U).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const lt=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(lt),lt}_getOrigin(){return this.origin instanceof pe?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof pe?this.origin.elementRef.nativeElement:this.origin instanceof O.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(lt=>{this.backdropClick.emit(lt)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function K(Xe,Ke=!1){return(0,N.N)((lt,U)=>{let _=0;lt.subscribe((0,$._)(U,m=>{const F=Xe(m,_++);(F||Ke)&&U.next(m),!F&&U.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(lt=>{this._ngZone.run(()=>this.positionChange.emit(lt)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(U){return new(U||Xe)(O.rXU(he),O.rXU(O.C4Q),O.rXU(O.c1b),O.rXU(de),O.rXU(D.dS,8))};static#t=this.\u0275dir=O.FsC({type:Xe,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",O.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",O.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",O.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",O.L39],push:[2,"cdkConnectedOverlayPush","push",O.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",O.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[O.GFd,O.OA$]})}return Xe})();const Fe={provide:de,deps:[he],useFactory:function ke(Xe){return()=>Xe.scrollStrategies.reposition()}};let We=(()=>{class Xe{static#e=this.\u0275fac=function(U){return new(U||Xe)};static#t=this.\u0275mod=O.$C({type:Xe});static#n=this.\u0275inj=O.G2t({providers:[he,Fe],imports:[D.jI,X.jc,p.E9,p.E9]})}return Xe})()},36860:(Be,z,E)=>{"use strict";E.d(z,{BD:()=>te,BQ:()=>D,CZ:()=>Q,Fb:()=>oe,KT:()=>ne,MU:()=>N,OD:()=>G,r5:()=>X,v8:()=>ue,vc:()=>se});var p=E(93953),S=E(60177);let O;try{O=typeof Intl<"u"&&Intl.v8BreakIterator}catch{O=!1}let B,G=(()=>{class ae{constructor(_e){this._platformId=_e,this.isBrowser=this._platformId?(0,S.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!O)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(De){return new(De||ae)(p.KVO(p.Agw))};static#t=this.\u0275prov=p.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();const A=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function N(){if(B)return B;if("object"!=typeof document||!document)return B=new Set(A),B;let ae=document.createElement("input");return B=new Set(A.filter(ve=>(ae.setAttribute("type",ve),ae.type===ve))),B}let $;function D(ae){return function K(){if(null==$&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>$=!0}))}finally{$=$||!1}return $}()?ae:!!ae.capture}var X=function(ae){return ae[ae.NORMAL=0]="NORMAL",ae[ae.NEGATED=1]="NEGATED",ae[ae.INVERTED=2]="INVERTED",ae}(X||{});let V,Z,J;function Q(){if(null==Z){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Z=!1,Z;if("scrollBehavior"in document.documentElement.style)Z=!0;else{const ae=Element.prototype.scrollTo;Z=!!ae&&!/\{\s*\[native code\]\s*\}/.test(ae.toString())}}return Z}function te(){if("object"!=typeof document||!document)return X.NORMAL;if(null==V){const ae=document.createElement("div"),ve=ae.style;ae.dir="rtl",ve.width="1px",ve.overflow="auto",ve.visibility="hidden",ve.pointerEvents="none",ve.position="absolute";const _e=document.createElement("div"),De=_e.style;De.width="2px",De.height="1px",ae.appendChild(_e),document.body.appendChild(ae),V=X.NORMAL,0===ae.scrollLeft&&(ae.scrollLeft=1,V=0===ae.scrollLeft?X.NEGATED:X.INVERTED),ae.remove()}return V}function ne(ae){if(function q(){if(null==J){const ae=typeof document<"u"?document.head:null;J=!(!ae||!ae.createShadowRoot&&!ae.attachShadow)}return J}()){const ve=ae.getRootNode?ae.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&ve instanceof ShadowRoot)return ve}return null}function se(){let ae=typeof document<"u"&&document?document.activeElement:null;for(;ae&&ae.shadowRoot;){const ve=ae.shadowRoot.activeElement;if(ve===ae)break;ae=ve}return ae}function oe(ae){return ae.composedPath?ae.composedPath()[0]:ae.target}function ue(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},76939:(Be,z,E)=>{"use strict";E.d(z,{A8:()=>K,I3:()=>ne,VA:()=>D,aI:()=>Q,bV:()=>J,jc:()=>oe,lb:()=>V});var p=E(93953),S=E(60177);class ${attach(ve){return this._attachedHost=ve,ve.attach(this)}detach(){let ve=this._attachedHost;null!=ve&&(this._attachedHost=null,ve.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(ve){this._attachedHost=ve}}class K extends ${constructor(ve,_e,De,P,u){super(),this.component=ve,this.viewContainerRef=_e,this.injector=De,this.componentFactoryResolver=P,this.projectableNodes=u}}class D extends ${constructor(ve,_e,De,P){super(),this.templateRef=ve,this.viewContainerRef=_e,this.context=De,this.injector=P}get origin(){return this.templateRef.elementRef}attach(ve,_e=this.context){return this.context=_e,super.attach(ve)}detach(){return this.context=void 0,super.detach()}}class X extends ${constructor(ve){super(),this.element=ve instanceof p.aKT?ve.nativeElement:ve}}class V{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(ve){return ve instanceof K?(this._attachedPortal=ve,this.attachComponentPortal(ve)):ve instanceof D?(this._attachedPortal=ve,this.attachTemplatePortal(ve)):this.attachDomPortal&&ve instanceof X?(this._attachedPortal=ve,this.attachDomPortal(ve)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(ve){this._disposeFn=ve}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Q extends V{constructor(ve,_e,De,P,u){super(),this.outletElement=ve,this._componentFactoryResolver=_e,this._appRef=De,this._defaultInjector=P,this.attachDomPortal=h=>{const g=h.element,w=this._document.createComment("dom-portal");g.parentNode.insertBefore(w,g),this.outletElement.appendChild(g),this._attachedPortal=h,super.setDisposeFn(()=>{w.parentNode&&w.parentNode.replaceChild(g,w)})},this._document=u}attachComponentPortal(ve){const De=(ve.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ve.component);let P;return ve.viewContainerRef?(P=ve.viewContainerRef.createComponent(De,ve.viewContainerRef.length,ve.injector||ve.viewContainerRef.injector,ve.projectableNodes||void 0),this.setDisposeFn(()=>P.destroy())):(P=De.create(ve.injector||this._defaultInjector||p.zZn.NULL),this._appRef.attachView(P.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(P.hostView),P.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(P)),this._attachedPortal=ve,P}attachTemplatePortal(ve){let _e=ve.viewContainerRef,De=_e.createEmbeddedView(ve.templateRef,ve.context,{injector:ve.injector});return De.rootNodes.forEach(P=>this.outletElement.appendChild(P)),De.detectChanges(),this.setDisposeFn(()=>{let P=_e.indexOf(De);-1!==P&&_e.remove(P)}),this._attachedPortal=ve,De}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(ve){return ve.hostView.rootNodes[0]}}let J=(()=>{class ae extends D{constructor(_e,De){super(_e,De)}static#e=this.\u0275fac=function(De){return new(De||ae)(p.rXU(p.C4Q),p.rXU(p.c1b))};static#t=this.\u0275dir=p.FsC({type:ae,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[p.Vt3]})}return ae})(),ne=(()=>{class ae extends V{constructor(_e,De,P){super(),this._componentFactoryResolver=_e,this._viewContainerRef=De,this._isInitialized=!1,this.attached=new p.bkB,this.attachDomPortal=u=>{const h=u.element,g=this._document.createComment("dom-portal");u.setAttachedHost(this),h.parentNode.insertBefore(g,h),this._getRootNode().appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(h,g)})},this._document=P}get portal(){return this._attachedPortal}set portal(_e){this.hasAttached()&&!_e&&!this._isInitialized||(this.hasAttached()&&super.detach(),_e&&super.attach(_e),this._attachedPortal=_e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(_e){_e.setAttachedHost(this);const De=null!=_e.viewContainerRef?_e.viewContainerRef:this._viewContainerRef,u=(_e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(_e.component),h=De.createComponent(u,De.length,_e.injector||De.injector,_e.projectableNodes||void 0);return De!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=_e,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(_e){_e.setAttachedHost(this);const De=this._viewContainerRef.createEmbeddedView(_e.templateRef,_e.context,{injector:_e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=_e,this._attachedRef=De,this.attached.emit(De),De}_getRootNode(){const _e=this._viewContainerRef.element.nativeElement;return _e.nodeType===_e.ELEMENT_NODE?_e:_e.parentNode}static#e=this.\u0275fac=function(De){return new(De||ae)(p.rXU(p.OM3),p.rXU(p.c1b),p.rXU(S.qQ))};static#t=this.\u0275dir=p.FsC({type:ae,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[p.Vt3]})}return ae})(),oe=(()=>{class ae{static#e=this.\u0275fac=function(De){return new(De||ae)};static#t=this.\u0275mod=p.$C({type:ae});static#n=this.\u0275inj=p.G2t({})}return ae})()},67333:(Be,z,E)=>{"use strict";E.d(z,{uv:()=>h,Gj:()=>fe,R:()=>u,E9:()=>Ae,Xj:()=>w});var p=E(14085),S=E(93953),O=E(21413),G=E(7673),x=E(71985),B=E(33726),$=(E(30536),E(25007),E(43236)),K=E(39974),D=E(58750),X=E(54360),Z=E(41584);function Q(Pe,Le=$.E){return function V(Pe){return(0,K.N)((Le,be)=>{let ge=!1,Re=null,me=null,xe=!1;const le=()=>{if(me?.unsubscribe(),me=null,ge){ge=!1;const re=Re;Re=null,be.next(re)}xe&&be.complete()},he=()=>{me=null,xe&&be.complete()};Le.subscribe((0,X._)(be,re=>{ge=!0,Re=re,me||(0,D.Tg)(Pe(re)).subscribe(me=(0,X._)(be,le,he))},()=>{xe=!0,(!ge||!me||me.closed)&&be.complete()}))})}(()=>(0,Z.O)(Pe,Le))}var te=E(5964),J=E(56977),q=E(36860),ne=E(60177),se=E(28203);let u=(()=>{class Pe{constructor(be,ge,Re){this._ngZone=be,this._platform=ge,this._scrolled=new O.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Re}register(be){this.scrollContainers.has(be)||this.scrollContainers.set(be,be.elementScrolled().subscribe(()=>this._scrolled.next(be)))}deregister(be){const ge=this.scrollContainers.get(be);ge&&(ge.unsubscribe(),this.scrollContainers.delete(be))}scrolled(be=20){return this._platform.isBrowser?new x.c(ge=>{this._globalSubscription||this._addGlobalListener();const Re=be>0?this._scrolled.pipe(Q(be)).subscribe(ge):this._scrolled.subscribe(ge);return this._scrolledCount++,()=>{Re.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,G.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((be,ge)=>this.deregister(ge)),this._scrolled.complete()}ancestorScrolled(be,ge){const Re=this.getAncestorScrollContainers(be);return this.scrolled(ge).pipe((0,te.p)(me=>!me||Re.indexOf(me)>-1))}getAncestorScrollContainers(be){const ge=[];return this.scrollContainers.forEach((Re,me)=>{this._scrollableContainsElement(me,be)&&ge.push(me)}),ge}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(be,ge){let Re=(0,p.i8)(ge),me=be.getElementRef().nativeElement;do{if(Re==me)return!0}while(Re=Re.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const be=this._getWindow();return(0,B.R)(be.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(ge){return new(ge||Pe)(S.KVO(S.SKi),S.KVO(q.OD),S.KVO(ne.qQ,8))};static#t=this.\u0275prov=S.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})(),h=(()=>{class Pe{constructor(be,ge,Re,me){this.elementRef=be,this.scrollDispatcher=ge,this.ngZone=Re,this.dir=me,this._destroyed=new O.B,this._elementScrolled=new x.c(xe=>this.ngZone.runOutsideAngular(()=>(0,B.R)(this.elementRef.nativeElement,"scroll").pipe((0,J.Q)(this._destroyed)).subscribe(xe)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(be){const ge=this.elementRef.nativeElement,Re=this.dir&&"rtl"==this.dir.value;null==be.left&&(be.left=Re?be.end:be.start),null==be.right&&(be.right=Re?be.start:be.end),null!=be.bottom&&(be.top=ge.scrollHeight-ge.clientHeight-be.bottom),Re&&(0,q.BD)()!=q.r5.NORMAL?(null!=be.left&&(be.right=ge.scrollWidth-ge.clientWidth-be.left),(0,q.BD)()==q.r5.INVERTED?be.left=be.right:(0,q.BD)()==q.r5.NEGATED&&(be.left=be.right?-be.right:be.right)):null!=be.right&&(be.left=ge.scrollWidth-ge.clientWidth-be.right),this._applyScrollToOptions(be)}_applyScrollToOptions(be){const ge=this.elementRef.nativeElement;(0,q.CZ)()?ge.scrollTo(be):(null!=be.top&&(ge.scrollTop=be.top),null!=be.left&&(ge.scrollLeft=be.left))}measureScrollOffset(be){const ge="left",me=this.elementRef.nativeElement;if("top"==be)return me.scrollTop;if("bottom"==be)return me.scrollHeight-me.clientHeight-me.scrollTop;const xe=this.dir&&"rtl"==this.dir.value;return"start"==be?be=xe?"right":ge:"end"==be&&(be=xe?ge:"right"),xe&&(0,q.BD)()==q.r5.INVERTED?be==ge?me.scrollWidth-me.clientWidth-me.scrollLeft:me.scrollLeft:xe&&(0,q.BD)()==q.r5.NEGATED?be==ge?me.scrollLeft+me.scrollWidth-me.clientWidth:-me.scrollLeft:be==ge?me.scrollLeft:me.scrollWidth-me.clientWidth-me.scrollLeft}static#e=this.\u0275fac=function(ge){return new(ge||Pe)(S.rXU(S.aKT),S.rXU(u),S.rXU(S.SKi),S.rXU(se.dS,8))};static#t=this.\u0275dir=S.FsC({type:Pe,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return Pe})(),w=(()=>{class Pe{constructor(be,ge,Re){this._platform=be,this._change=new O.B,this._changeListener=me=>{this._change.next(me)},this._document=Re,ge.runOutsideAngular(()=>{if(be.isBrowser){const me=this._getWindow();me.addEventListener("resize",this._changeListener),me.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const be=this._getWindow();be.removeEventListener("resize",this._changeListener),be.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const be={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),be}getViewportRect(){const be=this.getViewportScrollPosition(),{width:ge,height:Re}=this.getViewportSize();return{top:be.top,left:be.left,bottom:be.top+Re,right:be.left+ge,height:Re,width:ge}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const be=this._document,ge=this._getWindow(),Re=be.documentElement,me=Re.getBoundingClientRect();return{top:-me.top||be.body.scrollTop||ge.scrollY||Re.scrollTop||0,left:-me.left||be.body.scrollLeft||ge.scrollX||Re.scrollLeft||0}}change(be=20){return be>0?this._change.pipe(Q(be)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const be=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:be.innerWidth,height:be.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(ge){return new(ge||Pe)(S.KVO(q.OD),S.KVO(S.SKi),S.KVO(ne.qQ,8))};static#t=this.\u0275prov=S.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})(),fe=(()=>{class Pe{static#e=this.\u0275fac=function(ge){return new(ge||Pe)};static#t=this.\u0275mod=S.$C({type:Pe});static#n=this.\u0275inj=S.G2t({})}return Pe})(),Ae=(()=>{class Pe{static#e=this.\u0275fac=function(ge){return new(ge||Pe)};static#t=this.\u0275mod=S.$C({type:Pe});static#n=this.\u0275inj=S.G2t({imports:[se.jI,fe,se.jI,fe]})}return Pe})()},60177:(Be,z,E)=>{"use strict";E.d(z,{AJ:()=>ya,B3:()=>wi,Jj:()=>an,MD:()=>Hu,N0:()=>wl,QT:()=>O,Sm:()=>te,Sq:()=>sn,T3:()=>Ro,UE:()=>Wl,VF:()=>x,Vy:()=>Af,Xr:()=>Zs,YU:()=>jr,ZD:()=>G,_b:()=>Rr,aZ:()=>q,bT:()=>sr,fw:()=>J,hb:()=>Z,hj:()=>$,qQ:()=>A,vh:()=>As});var p=E(93953);let S=null;function O(){return S}function G(Ye){S??=Ye}class x{}const A=new p.nKC("");let N=(()=>{class Ye{historyGo(ht){throw new Error("")}static#e=this.\u0275fac=function(At){return new(At||Ye)};static#t=this.\u0275prov=p.jDH({token:Ye,factory:()=>(0,p.WQX)(K),providedIn:"platform"})}return Ye})();const $=new p.nKC("");let K=(()=>{class Ye extends N{constructor(){super(),this._doc=(0,p.WQX)(A),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(ht){const At=O().getGlobalEventTarget(this._doc,"window");return At.addEventListener("popstate",ht,!1),()=>At.removeEventListener("popstate",ht)}onHashChange(ht){const At=O().getGlobalEventTarget(this._doc,"window");return At.addEventListener("hashchange",ht,!1),()=>At.removeEventListener("hashchange",ht)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(ht){this._location.pathname=ht}pushState(ht,At,nn){this._history.pushState(ht,At,nn)}replaceState(ht,At,nn){this._history.replaceState(ht,At,nn)}forward(){this._history.forward()}back(){this._history.back()}historyGo(ht=0){this._history.go(ht)}getState(){return this._history.state}static#e=this.\u0275fac=function(At){return new(At||Ye)};static#t=this.\u0275prov=p.jDH({token:Ye,factory:()=>new Ye,providedIn:"platform"})}return Ye})();function D(Ye,Ot){if(0==Ye.length)return Ot;if(0==Ot.length)return Ye;let ht=0;return Ye.endsWith("/")&&ht++,Ot.startsWith("/")&&ht++,2==ht?Ye+Ot.substring(1):1==ht?Ye+Ot:Ye+"/"+Ot}function X(Ye){const Ot=Ye.match(/#|\?|$/),ht=Ot&&Ot.index||Ye.length;return Ye.slice(0,ht-("/"===Ye[ht-1]?1:0))+Ye.slice(ht)}function V(Ye){return Ye&&"?"!==Ye[0]?"?"+Ye:Ye}let Z=(()=>{class Ye{historyGo(ht){throw new Error("")}static#e=this.\u0275fac=function(At){return new(At||Ye)};static#t=this.\u0275prov=p.jDH({token:Ye,factory:()=>(0,p.WQX)(te),providedIn:"root"})}return Ye})();const Q=new p.nKC("");let te=(()=>{class Ye extends Z{constructor(ht,At){super(),this._platformLocation=ht,this._removeListenerFns=[],this._baseHref=At??this._platformLocation.getBaseHrefFromDOM()??(0,p.WQX)(A).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ht){this._removeListenerFns.push(this._platformLocation.onPopState(ht),this._platformLocation.onHashChange(ht))}getBaseHref(){return this._baseHref}prepareExternalUrl(ht){return D(this._baseHref,ht)}path(ht=!1){const At=this._platformLocation.pathname+V(this._platformLocation.search),nn=this._platformLocation.hash;return nn&&ht?`${At}${nn}`:At}pushState(ht,At,nn,Dn){const Jn=this.prepareExternalUrl(nn+V(Dn));this._platformLocation.pushState(ht,At,Jn)}replaceState(ht,At,nn,Dn){const Jn=this.prepareExternalUrl(nn+V(Dn));this._platformLocation.replaceState(ht,At,Jn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ht=0){this._platformLocation.historyGo?.(ht)}static#e=this.\u0275fac=function(At){return new(At||Ye)(p.KVO(N),p.KVO(Q,8))};static#t=this.\u0275prov=p.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}return Ye})(),J=(()=>{class Ye extends Z{constructor(ht,At){super(),this._platformLocation=ht,this._baseHref="",this._removeListenerFns=[],null!=At&&(this._baseHref=At)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ht){this._removeListenerFns.push(this._platformLocation.onPopState(ht),this._platformLocation.onHashChange(ht))}getBaseHref(){return this._baseHref}path(ht=!1){const At=this._platformLocation.hash??"#";return At.length>0?At.substring(1):At}prepareExternalUrl(ht){const At=D(this._baseHref,ht);return At.length>0?"#"+At:At}pushState(ht,At,nn,Dn){let Jn=this.prepareExternalUrl(nn+V(Dn));0==Jn.length&&(Jn=this._platformLocation.pathname),this._platformLocation.pushState(ht,At,Jn)}replaceState(ht,At,nn,Dn){let Jn=this.prepareExternalUrl(nn+V(Dn));0==Jn.length&&(Jn=this._platformLocation.pathname),this._platformLocation.replaceState(ht,At,Jn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ht=0){this._platformLocation.historyGo?.(ht)}static#e=this.\u0275fac=function(At){return new(At||Ye)(p.KVO(N),p.KVO(Q,8))};static#t=this.\u0275prov=p.jDH({token:Ye,factory:Ye.\u0275fac})}return Ye})(),q=(()=>{class Ye{constructor(ht){this._subject=new p.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=ht;const At=this._locationStrategy.getBaseHref();this._basePath=function ue(Ye){if(new RegExp("^(https?:)?//").test(Ye)){const[,ht]=Ye.split(/\/\/[^\/]+/);return ht}return Ye}(X(oe(At))),this._locationStrategy.onPopState(nn=>{this._subject.emit({url:this.path(!0),pop:!0,state:nn.state,type:nn.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(ht=!1){return this.normalize(this._locationStrategy.path(ht))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(ht,At=""){return this.path()==this.normalize(ht+V(At))}normalize(ht){return Ye.stripTrailingSlash(function se(Ye,Ot){if(!Ye||!Ot.startsWith(Ye))return Ot;const ht=Ot.substring(Ye.length);return""===ht||["/",";","?","#"].includes(ht[0])?ht:Ot}(this._basePath,oe(ht)))}prepareExternalUrl(ht){return ht&&"/"!==ht[0]&&(ht="/"+ht),this._locationStrategy.prepareExternalUrl(ht)}go(ht,At="",nn=null){this._locationStrategy.pushState(nn,"",ht,At),this._notifyUrlChangeListeners(this.prepareExternalUrl(ht+V(At)),nn)}replaceState(ht,At="",nn=null){this._locationStrategy.replaceState(nn,"",ht,At),this._notifyUrlChangeListeners(this.prepareExternalUrl(ht+V(At)),nn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(ht=0){this._locationStrategy.historyGo?.(ht)}onUrlChange(ht){return this._urlChangeListeners.push(ht),this._urlChangeSubscription??=this.subscribe(At=>{this._notifyUrlChangeListeners(At.url,At.state)}),()=>{const At=this._urlChangeListeners.indexOf(ht);this._urlChangeListeners.splice(At,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(ht="",At){this._urlChangeListeners.forEach(nn=>nn(ht,At))}subscribe(ht,At,nn){return this._subject.subscribe({next:ht,error:At,complete:nn})}static#e=this.normalizeQueryParams=V;static#t=this.joinWithSlash=D;static#n=this.stripTrailingSlash=X;static#f=this.\u0275fac=function(At){return new(At||Ye)(p.KVO(Z))};static#A=this.\u0275prov=p.jDH({token:Ye,factory:()=>function ne(){return new q((0,p.KVO)(Z))}(),providedIn:"root"})}return Ye})();function oe(Ye){return Ye.replace(/\/index.html$/,"")}var De=function(Ye){return Ye[Ye.Format=0]="Format",Ye[Ye.Standalone=1]="Standalone",Ye}(De||{}),P=function(Ye){return Ye[Ye.Narrow=0]="Narrow",Ye[Ye.Abbreviated=1]="Abbreviated",Ye[Ye.Wide=2]="Wide",Ye[Ye.Short=3]="Short",Ye}(P||{}),u=function(Ye){return Ye[Ye.Short=0]="Short",Ye[Ye.Medium=1]="Medium",Ye[Ye.Long=2]="Long",Ye[Ye.Full=3]="Full",Ye}(u||{});const h={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function W(Ye,Ot){return re((0,p.H5H)(Ye)[p.KH2.DateFormat],Ot)}function H(Ye,Ot){return re((0,p.H5H)(Ye)[p.KH2.TimeFormat],Ot)}function ee(Ye,Ot){return re((0,p.H5H)(Ye)[p.KH2.DateTimeFormat],Ot)}function fe(Ye,Ot){const ht=(0,p.H5H)(Ye),At=ht[p.KH2.NumberSymbols][Ot];if(typeof At>"u"){if(Ot===h.CurrencyDecimal)return ht[p.KH2.NumberSymbols][h.Decimal];if(Ot===h.CurrencyGroup)return ht[p.KH2.NumberSymbols][h.Group]}return At}function me(Ye){if(!Ye[p.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${Ye[p.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function re(Ye,Ot){for(let ht=Ot;ht>-1;ht--)if(typeof Ye[ht]<"u")return Ye[ht];throw new Error("Locale data API: locale data undefined")}function de(Ye){const[Ot,ht]=Ye.split(":");return{hours:+Ot,minutes:+ht}}const Fe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,We={},Tt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Xe=function(Ye){return Ye[Ye.Short=0]="Short",Ye[Ye.ShortGMT=1]="ShortGMT",Ye[Ye.Long=2]="Long",Ye[Ye.Extended=3]="Extended",Ye}(Xe||{}),Ke=function(Ye){return Ye[Ye.FullYear=0]="FullYear",Ye[Ye.Month=1]="Month",Ye[Ye.Date=2]="Date",Ye[Ye.Hours=3]="Hours",Ye[Ye.Minutes=4]="Minutes",Ye[Ye.Seconds=5]="Seconds",Ye[Ye.FractionalSeconds=6]="FractionalSeconds",Ye[Ye.Day=7]="Day",Ye}(Ke||{}),lt=function(Ye){return Ye[Ye.DayPeriods=0]="DayPeriods",Ye[Ye.Days=1]="Days",Ye[Ye.Months=2]="Months",Ye[Ye.Eras=3]="Eras",Ye}(lt||{});function U(Ye,Ot,ht,At){let nn=function Wt(Ye){if(at(Ye))return Ye;if("number"==typeof Ye&&!isNaN(Ye))return new Date(Ye);if("string"==typeof Ye){if(Ye=Ye.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Ye)){const[nn,Dn=1,Jn=1]=Ye.split("-").map(Ir=>+Ir);return _(nn,Dn-1,Jn)}const ht=parseFloat(Ye);if(!isNaN(Ye-ht))return new Date(ht);let At;if(At=Ye.match(Fe))return function Yn(Ye){const Ot=new Date(0);let ht=0,At=0;const nn=Ye[8]?Ot.setUTCFullYear:Ot.setFullYear,Dn=Ye[8]?Ot.setUTCHours:Ot.setHours;Ye[9]&&(ht=Number(Ye[9]+Ye[10]),At=Number(Ye[9]+Ye[11])),nn.call(Ot,Number(Ye[1]),Number(Ye[2])-1,Number(Ye[3]));const Jn=Number(Ye[4]||0)-ht,Ir=Number(Ye[5]||0)-At,To=Number(Ye[6]||0),_i=Math.floor(1e3*parseFloat("0."+(Ye[7]||0)));return Dn.call(Ot,Jn,Ir,To,_i),Ot}(At)}const Ot=new Date(Ye);if(!at(Ot))throw new Error(`Unable to convert "${Ye}" into a date`);return Ot}(Ye);Ot=m(ht,Ot)||Ot;let Ir,Jn=[];for(;Ot;){if(Ir=Tt.exec(Ot),!Ir){Jn.push(Ot);break}{Jn=Jn.concat(Ir.slice(1));const yo=Jn.pop();if(!yo)break;Ot=yo}}let To=nn.getTimezoneOffset();At&&(To=it(At,To),nn=function Bt(Ye,Ot,ht){const At=ht?-1:1,nn=Ye.getTimezoneOffset();return function Ct(Ye,Ot){return(Ye=new Date(Ye.getTime())).setMinutes(Ye.getMinutes()+Ot),Ye}(Ye,At*(it(Ot,nn)-nn))}(nn,At,!0));let _i="";return Jn.forEach(yo=>{const cr=function dt(Ye){if(Nt[Ye])return Nt[Ye];let Ot;switch(Ye){case"G":case"GG":case"GGG":Ot=kt(lt.Eras,P.Abbreviated);break;case"GGGG":Ot=kt(lt.Eras,P.Wide);break;case"GGGGG":Ot=kt(lt.Eras,P.Narrow);break;case"y":Ot=Ie(Ke.FullYear,1,0,!1,!0);break;case"yy":Ot=Ie(Ke.FullYear,2,0,!0,!0);break;case"yyy":Ot=Ie(Ke.FullYear,3,0,!1,!0);break;case"yyyy":Ot=Ie(Ke.FullYear,4,0,!1,!0);break;case"Y":Ot=Ut(1);break;case"YY":Ot=Ut(2,!0);break;case"YYY":Ot=Ut(3);break;case"YYYY":Ot=Ut(4);break;case"M":case"L":Ot=Ie(Ke.Month,1,1);break;case"MM":case"LL":Ot=Ie(Ke.Month,2,1);break;case"MMM":Ot=kt(lt.Months,P.Abbreviated);break;case"MMMM":Ot=kt(lt.Months,P.Wide);break;case"MMMMM":Ot=kt(lt.Months,P.Narrow);break;case"LLL":Ot=kt(lt.Months,P.Abbreviated,De.Standalone);break;case"LLLL":Ot=kt(lt.Months,P.Wide,De.Standalone);break;case"LLLLL":Ot=kt(lt.Months,P.Narrow,De.Standalone);break;case"w":Ot=cn(1);break;case"ww":Ot=cn(2);break;case"W":Ot=cn(1,!0);break;case"d":Ot=Ie(Ke.Date,1);break;case"dd":Ot=Ie(Ke.Date,2);break;case"c":case"cc":Ot=Ie(Ke.Day,1);break;case"ccc":Ot=kt(lt.Days,P.Abbreviated,De.Standalone);break;case"cccc":Ot=kt(lt.Days,P.Wide,De.Standalone);break;case"ccccc":Ot=kt(lt.Days,P.Narrow,De.Standalone);break;case"cccccc":Ot=kt(lt.Days,P.Short,De.Standalone);break;case"E":case"EE":case"EEE":Ot=kt(lt.Days,P.Abbreviated);break;case"EEEE":Ot=kt(lt.Days,P.Wide);break;case"EEEEE":Ot=kt(lt.Days,P.Narrow);break;case"EEEEEE":Ot=kt(lt.Days,P.Short);break;case"a":case"aa":case"aaa":Ot=kt(lt.DayPeriods,P.Abbreviated);break;case"aaaa":Ot=kt(lt.DayPeriods,P.Wide);break;case"aaaaa":Ot=kt(lt.DayPeriods,P.Narrow);break;case"b":case"bb":case"bbb":Ot=kt(lt.DayPeriods,P.Abbreviated,De.Standalone,!0);break;case"bbbb":Ot=kt(lt.DayPeriods,P.Wide,De.Standalone,!0);break;case"bbbbb":Ot=kt(lt.DayPeriods,P.Narrow,De.Standalone,!0);break;case"B":case"BB":case"BBB":Ot=kt(lt.DayPeriods,P.Abbreviated,De.Format,!0);break;case"BBBB":Ot=kt(lt.DayPeriods,P.Wide,De.Format,!0);break;case"BBBBB":Ot=kt(lt.DayPeriods,P.Narrow,De.Format,!0);break;case"h":Ot=Ie(Ke.Hours,1,-12);break;case"hh":Ot=Ie(Ke.Hours,2,-12);break;case"H":Ot=Ie(Ke.Hours,1);break;case"HH":Ot=Ie(Ke.Hours,2);break;case"m":Ot=Ie(Ke.Minutes,1);break;case"mm":Ot=Ie(Ke.Minutes,2);break;case"s":Ot=Ie(Ke.Seconds,1);break;case"ss":Ot=Ie(Ke.Seconds,2);break;case"S":Ot=Ie(Ke.FractionalSeconds,1);break;case"SS":Ot=Ie(Ke.FractionalSeconds,2);break;case"SSS":Ot=Ie(Ke.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Ot=Et(Xe.Short);break;case"ZZZZZ":Ot=Et(Xe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Ot=Et(Xe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Ot=Et(Xe.Long);break;default:return null}return Nt[Ye]=Ot,Ot}(yo);_i+=cr?cr(nn,ht,To):"''"===yo?"'":yo.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_i}function _(Ye,Ot,ht){const At=new Date(0);return At.setFullYear(Ye,Ot,ht),At.setHours(0,0,0),At}function m(Ye,Ot){const ht=function w(Ye){return(0,p.H5H)(Ye)[p.KH2.LocaleId]}(Ye);if(We[ht]??={},We[ht][Ot])return We[ht][Ot];let At="";switch(Ot){case"shortDate":At=W(Ye,u.Short);break;case"mediumDate":At=W(Ye,u.Medium);break;case"longDate":At=W(Ye,u.Long);break;case"fullDate":At=W(Ye,u.Full);break;case"shortTime":At=H(Ye,u.Short);break;case"mediumTime":At=H(Ye,u.Medium);break;case"longTime":At=H(Ye,u.Long);break;case"fullTime":At=H(Ye,u.Full);break;case"short":const nn=m(Ye,"shortTime"),Dn=m(Ye,"shortDate");At=F(ee(Ye,u.Short),[nn,Dn]);break;case"medium":const Jn=m(Ye,"mediumTime"),Ir=m(Ye,"mediumDate");At=F(ee(Ye,u.Medium),[Jn,Ir]);break;case"long":const To=m(Ye,"longTime"),_i=m(Ye,"longDate");At=F(ee(Ye,u.Long),[To,_i]);break;case"full":const yo=m(Ye,"fullTime"),cr=m(Ye,"fullDate");At=F(ee(Ye,u.Full),[yo,cr])}return At&&(We[ht][Ot]=At),At}function F(Ye,Ot){return Ot&&(Ye=Ye.replace(/\{([^}]+)}/g,function(ht,At){return null!=Ot&&At in Ot?Ot[At]:ht})),Ye}function ie(Ye,Ot,ht="-",At,nn){let Dn="";(Ye<0||nn&&Ye<=0)&&(nn?Ye=1-Ye:(Ye=-Ye,Dn=ht));let Jn=String(Ye);for(;Jn.length<Ot;)Jn="0"+Jn;return At&&(Jn=Jn.slice(Jn.length-Ot)),Dn+Jn}function Ie(Ye,Ot,ht=0,At=!1,nn=!1){return function(Dn,Jn){let Ir=function Qe(Ye,Ot){switch(Ye){case Ke.FullYear:return Ot.getFullYear();case Ke.Month:return Ot.getMonth();case Ke.Date:return Ot.getDate();case Ke.Hours:return Ot.getHours();case Ke.Minutes:return Ot.getMinutes();case Ke.Seconds:return Ot.getSeconds();case Ke.FractionalSeconds:return Ot.getMilliseconds();case Ke.Day:return Ot.getDay();default:throw new Error(`Unknown DateType value "${Ye}".`)}}(Ye,Dn);if((ht>0||Ir>-ht)&&(Ir+=ht),Ye===Ke.Hours)0===Ir&&-12===ht&&(Ir=12);else if(Ye===Ke.FractionalSeconds)return function we(Ye,Ot){return ie(Ye,3).substring(0,Ot)}(Ir,Ot);const To=fe(Jn,h.MinusSign);return ie(Ir,Ot,To,At,nn)}}function kt(Ye,Ot,ht=De.Format,At=!1){return function(nn,Dn){return function pt(Ye,Ot,ht,At,nn,Dn){switch(ht){case lt.Months:return function j(Ye,Ot,ht){const At=(0,p.H5H)(Ye),Dn=re([At[p.KH2.MonthsFormat],At[p.KH2.MonthsStandalone]],Ot);return re(Dn,ht)}(Ot,nn,At)[Ye.getMonth()];case lt.Days:return function C(Ye,Ot,ht){const At=(0,p.H5H)(Ye),Dn=re([At[p.KH2.DaysFormat],At[p.KH2.DaysStandalone]],Ot);return re(Dn,ht)}(Ot,nn,At)[Ye.getDay()];case lt.DayPeriods:const Jn=Ye.getHours(),Ir=Ye.getMinutes();if(Dn){const _i=function xe(Ye){const Ot=(0,p.H5H)(Ye);return me(Ot),(Ot[p.KH2.ExtraData][2]||[]).map(At=>"string"==typeof At?de(At):[de(At[0]),de(At[1])])}(Ot),yo=function le(Ye,Ot,ht){const At=(0,p.H5H)(Ye);me(At);const Dn=re([At[p.KH2.ExtraData][0],At[p.KH2.ExtraData][1]],Ot)||[];return re(Dn,ht)||[]}(Ot,nn,At),cr=_i.findIndex(Zo=>{if(Array.isArray(Zo)){const[Wi,Oo]=Zo,au=Jn>=Wi.hours&&Ir>=Wi.minutes,Xs=Jn<Oo.hours||Jn===Oo.hours&&Ir<Oo.minutes;if(Wi.hours<Oo.hours){if(au&&Xs)return!0}else if(au||Xs)return!0}else if(Zo.hours===Jn&&Zo.minutes===Ir)return!0;return!1});if(-1!==cr)return yo[cr]}return function T(Ye,Ot,ht){const At=(0,p.H5H)(Ye),Dn=re([At[p.KH2.DayPeriodsFormat],At[p.KH2.DayPeriodsStandalone]],Ot);return re(Dn,ht)}(Ot,nn,At)[Jn<12?0:1];case lt.Eras:return function M(Ye,Ot){return re((0,p.H5H)(Ye)[p.KH2.Eras],Ot)}(Ot,At)[Ye.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${ht}`)}}(nn,Dn,Ye,Ot,ht,At)}}function Et(Ye){return function(Ot,ht,At){const nn=-1*At,Dn=fe(ht,h.MinusSign),Jn=nn>0?Math.floor(nn/60):Math.ceil(nn/60);switch(Ye){case Xe.Short:return(nn>=0?"+":"")+ie(Jn,2,Dn)+ie(Math.abs(nn%60),2,Dn);case Xe.ShortGMT:return"GMT"+(nn>=0?"+":"")+ie(Jn,1,Dn);case Xe.Long:return"GMT"+(nn>=0?"+":"")+ie(Jn,2,Dn)+":"+ie(Math.abs(nn%60),2,Dn);case Xe.Extended:return 0===At?"Z":(nn>=0?"+":"")+ie(Jn,2,Dn)+":"+ie(Math.abs(nn%60),2,Dn);default:throw new Error(`Unknown zone width "${Ye}"`)}}}const Lt=0,qt=4;function er(Ye){const Ot=Ye.getDay(),ht=0===Ot?-3:qt-Ot;return _(Ye.getFullYear(),Ye.getMonth(),Ye.getDate()+ht)}function cn(Ye,Ot=!1){return function(ht,At){let nn;if(Ot){const Dn=new Date(ht.getFullYear(),ht.getMonth(),1).getDay()-1,Jn=ht.getDate();nn=1+Math.floor((Jn+Dn)/7)}else{const Dn=er(ht),Jn=function Kt(Ye){const Ot=_(Ye,Lt,1).getDay();return _(Ye,0,1+(Ot<=qt?qt:qt+7)-Ot)}(Dn.getFullYear()),Ir=Dn.getTime()-Jn.getTime();nn=1+Math.round(Ir/6048e5)}return ie(nn,Ye,fe(At,h.MinusSign))}}function Ut(Ye,Ot=!1){return function(ht,At){return ie(er(ht).getFullYear(),Ye,fe(At,h.MinusSign),Ot)}}const Nt={};function it(Ye,Ot){Ye=Ye.replace(/:/g,"");const ht=Date.parse("Jan 01, 1970 00:00:00 "+Ye)/6e4;return isNaN(ht)?Ot:ht}function at(Ye){return Ye instanceof Date&&!isNaN(Ye.valueOf())}function Rr(Ye,Ot){Ot=encodeURIComponent(Ot);for(const ht of Ye.split(";")){const At=ht.indexOf("="),[nn,Dn]=-1==At?[ht,""]:[ht.slice(0,At),ht.slice(At+1)];if(nn.trim()===Ot)return decodeURIComponent(Dn)}return null}const Br=/\s+/,kr=[];let jr=(()=>{class Ye{constructor(ht,At){this._ngEl=ht,this._renderer=At,this.initialClasses=kr,this.stateMap=new Map}set klass(ht){this.initialClasses=null!=ht?ht.trim().split(Br):kr}set ngClass(ht){this.rawClass="string"==typeof ht?ht.trim().split(Br):ht}ngDoCheck(){for(const At of this.initialClasses)this._updateState(At,!0);const ht=this.rawClass;if(Array.isArray(ht)||ht instanceof Set)for(const At of ht)this._updateState(At,!0);else if(null!=ht)for(const At of Object.keys(ht))this._updateState(At,!!ht[At]);this._applyStateDiff()}_updateState(ht,At){const nn=this.stateMap.get(ht);void 0!==nn?(nn.enabled!==At&&(nn.changed=!0,nn.enabled=At),nn.touched=!0):this.stateMap.set(ht,{enabled:At,changed:!0,touched:!0})}_applyStateDiff(){for(const ht of this.stateMap){const At=ht[0],nn=ht[1];nn.changed?(this._toggleClass(At,nn.enabled),nn.changed=!1):nn.touched||(nn.enabled&&this._toggleClass(At,!1),this.stateMap.delete(At)),nn.touched=!1}}_toggleClass(ht,At){(ht=ht.trim()).length>0&&ht.split(Br).forEach(nn=>{At?this._renderer.addClass(this._ngEl.nativeElement,nn):this._renderer.removeClass(this._ngEl.nativeElement,nn)})}static#e=this.\u0275fac=function(At){return new(At||Ye)(p.rXU(p.aKT),p.rXU(p.sFG))};static#t=this.\u0275dir=p.FsC({type:Ye,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return Ye})();class Pt{constructor(Ot,ht,At,nn){this.$implicit=Ot,this.ngForOf=ht,this.index=At,this.count=nn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sn=(()=>{class Ye{set ngForOf(ht){this._ngForOf=ht,this._ngForOfDirty=!0}set ngForTrackBy(ht){this._trackByFn=ht}get ngForTrackBy(){return this._trackByFn}constructor(ht,At,nn){this._viewContainer=ht,this._template=At,this._differs=nn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(ht){ht&&(this._template=ht)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ht=this._ngForOf;!this._differ&&ht&&(this._differ=this._differs.find(ht).create(this.ngForTrackBy))}if(this._differ){const ht=this._differ.diff(this._ngForOf);ht&&this._applyChanges(ht)}}_applyChanges(ht){const At=this._viewContainer;ht.forEachOperation((nn,Dn,Jn)=>{if(null==nn.previousIndex)At.createEmbeddedView(this._template,new Pt(nn.item,this._ngForOf,-1,-1),null===Jn?void 0:Jn);else if(null==Jn)At.remove(null===Dn?void 0:Dn);else if(null!==Dn){const Ir=At.get(Dn);At.move(Ir,Jn),_n(Ir,nn)}});for(let nn=0,Dn=At.length;nn<Dn;nn++){const Ir=At.get(nn).context;Ir.index=nn,Ir.count=Dn,Ir.ngForOf=this._ngForOf}ht.forEachIdentityChange(nn=>{_n(At.get(nn.currentIndex),nn)})}static ngTemplateContextGuard(ht,At){return!0}static#e=this.\u0275fac=function(At){return new(At||Ye)(p.rXU(p.c1b),p.rXU(p.C4Q),p.rXU(p._q3))};static#t=this.\u0275dir=p.FsC({type:Ye,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return Ye})();function _n(Ye,Ot){Ye.context.$implicit=Ot.item}let sr=(()=>{class Ye{constructor(ht,At){this._viewContainer=ht,this._context=new ir,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=At}set ngIf(ht){this._context.$implicit=this._context.ngIf=ht,this._updateView()}set ngIfThen(ht){Ar("ngIfThen",ht),this._thenTemplateRef=ht,this._thenViewRef=null,this._updateView()}set ngIfElse(ht){Ar("ngIfElse",ht),this._elseTemplateRef=ht,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(ht,At){return!0}static#e=this.\u0275fac=function(At){return new(At||Ye)(p.rXU(p.c1b),p.rXU(p.C4Q))};static#t=this.\u0275dir=p.FsC({type:Ye,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return Ye})();class ir{constructor(){this.$implicit=null,this.ngIf=null}}function Ar(Ye,Ot){if(Ot&&!Ot.createEmbeddedView)throw new Error(`${Ye} must be a TemplateRef, but received '${(0,p.Tbb)(Ot)}'.`)}let wi=(()=>{class Ye{constructor(ht,At,nn){this._ngEl=ht,this._differs=At,this._renderer=nn,this._ngStyle=null,this._differ=null}set ngStyle(ht){this._ngStyle=ht,!this._differ&&ht&&(this._differ=this._differs.find(ht).create())}ngDoCheck(){if(this._differ){const ht=this._differ.diff(this._ngStyle);ht&&this._applyChanges(ht)}}_setStyle(ht,At){const[nn,Dn]=ht.split("."),Jn=-1===nn.indexOf("-")?void 0:p.czy.DashCase;null!=At?this._renderer.setStyle(this._ngEl.nativeElement,nn,Dn?`${At}${Dn}`:At,Jn):this._renderer.removeStyle(this._ngEl.nativeElement,nn,Jn)}_applyChanges(ht){ht.forEachRemovedItem(At=>this._setStyle(At.key,null)),ht.forEachAddedItem(At=>this._setStyle(At.key,At.currentValue)),ht.forEachChangedItem(At=>this._setStyle(At.key,At.currentValue))}static#e=this.\u0275fac=function(At){return new(At||Ye)(p.rXU(p.aKT),p.rXU(p.MKu),p.rXU(p.sFG))};static#t=this.\u0275dir=p.FsC({type:Ye,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return Ye})(),Ro=(()=>{class Ye{constructor(ht){this._viewContainerRef=ht,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(ht){if(this._shouldRecreateView(ht)){const At=this._viewContainerRef;if(this._viewRef&&At.remove(At.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const nn=this._createContextForwardProxy();this._viewRef=At.createEmbeddedView(this.ngTemplateOutlet,nn,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(ht){return!!ht.ngTemplateOutlet||!!ht.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(ht,At,nn)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,At,nn),get:(ht,At,nn)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,At,nn)}})}static#e=this.\u0275fac=function(At){return new(At||Ye)(p.rXU(p.c1b))};static#t=this.\u0275dir=p.FsC({type:Ye,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[p.OA$]})}return Ye})();function ui(Ye,Ot){return new p.wOt(2100,!1)}class mo{createSubscription(Ot,ht){return(0,p.O8t)(()=>Ot.subscribe({next:ht,error:At=>{throw At}}))}dispose(Ot){(0,p.O8t)(()=>Ot.unsubscribe())}}class qo{createSubscription(Ot,ht){return Ot.then(ht,At=>{throw At})}dispose(Ot){}}const br=new qo,Ms=new mo;let an=(()=>{class Ye{constructor(ht){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=ht}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(ht){if(!this._obj){if(ht)try{this.markForCheckOnValueUpdate=!1,this._subscribe(ht)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return ht!==this._obj?(this._dispose(),this.transform(ht)):this._latestValue}_subscribe(ht){this._obj=ht,this._strategy=this._selectStrategy(ht),this._subscription=this._strategy.createSubscription(ht,At=>this._updateLatestValue(ht,At))}_selectStrategy(ht){if((0,p.jNT)(ht))return br;if((0,p.zjR)(ht))return Ms;throw ui()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(ht,At){ht===this._obj&&(this._latestValue=At,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(At){return new(At||Ye)(p.rXU(p.gRc,16))};static#t=this.\u0275pipe=p.EJ8({name:"async",type:Ye,pure:!1,standalone:!0})}return Ye})();const Ur=new p.nKC(""),Go=new p.nKC("");let As=(()=>{class Ye{constructor(ht,At,nn){this.locale=ht,this.defaultTimezone=At,this.defaultOptions=nn}transform(ht,At,nn,Dn){if(null==ht||""===ht||ht!=ht)return null;try{return U(ht,At??this.defaultOptions?.dateFormat??"mediumDate",Dn||this.locale,nn??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Jn){throw ui()}}static#e=this.\u0275fac=function(At){return new(At||Ye)(p.rXU(p.xe9,16),p.rXU(Ur,24),p.rXU(Go,24))};static#t=this.\u0275pipe=p.EJ8({name:"date",type:Ye,pure:!0,standalone:!0})}return Ye})(),Hu=(()=>{class Ye{static#e=this.\u0275fac=function(At){return new(At||Ye)};static#t=this.\u0275mod=p.$C({type:Ye});static#n=this.\u0275inj=p.G2t({})}return Ye})();const ya="browser",gc="server";function Wl(Ye){return Ye===ya}function Af(Ye){return Ye===gc}let Zs=(()=>{class Ye{static#e=this.\u0275prov=(0,p.jDH)({token:Ye,providedIn:"root",factory:()=>Wl((0,p.WQX)(p.Agw))?new xd((0,p.WQX)(A),window):new uh})}return Ye})();class xd{constructor(Ot,ht){this.document=Ot,this.window=ht,this.offset=()=>[0,0]}setOffset(Ot){this.offset=Array.isArray(Ot)?()=>Ot:Ot}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Ot){this.window.scrollTo(Ot[0],Ot[1])}scrollToAnchor(Ot){const ht=function Wu(Ye,Ot){const ht=Ye.getElementById(Ot)||Ye.getElementsByName(Ot)[0];if(ht)return ht;if("function"==typeof Ye.createTreeWalker&&Ye.body&&"function"==typeof Ye.body.attachShadow){const At=Ye.createTreeWalker(Ye.body,NodeFilter.SHOW_ELEMENT);let nn=At.currentNode;for(;nn;){const Dn=nn.shadowRoot;if(Dn){const Jn=Dn.getElementById(Ot)||Dn.querySelector(`[name="${Ot}"]`);if(Jn)return Jn}nn=At.nextNode()}}return null}(this.document,Ot);ht&&(this.scrollToElement(ht),ht.focus())}setHistoryScrollRestoration(Ot){this.window.history.scrollRestoration=Ot}scrollToElement(Ot){const ht=Ot.getBoundingClientRect(),At=ht.left+this.window.pageXOffset,nn=ht.top+this.window.pageYOffset,Dn=this.offset();this.window.scrollTo(At-Dn[0],nn-Dn[1])}}class uh{setOffset(Ot){}getScrollPosition(){return[0,0]}scrollToPosition(Ot){}scrollToAnchor(Ot){}setHistoryScrollRestoration(Ot){}}class wl{}},21626:(Be,z,E)=>{"use strict";E.d(z,{Qq:()=>ee,q1:()=>tn});var p=E(10467),S=E(93953),O=E(7673),G=E(71985),x=E(86648),B=E(70274),A=E(5964),N=E(96354),$=E(70980),K=E(25558),D=E(60177);class X{}class V{}class Z{constructor(Pt){this.normalizedNames=new Map,this.lazyUpdate=null,Pt?"string"==typeof Pt?this.lazyInit=()=>{this.headers=new Map,Pt.split("\n").forEach(sn=>{const _n=sn.indexOf(":");if(_n>0){const $n=sn.slice(0,_n),sr=$n.toLowerCase(),ir=sn.slice(_n+1).trim();this.maybeSetNormalizedName($n,sr),this.headers.has(sr)?this.headers.get(sr).push(ir):this.headers.set(sr,[ir])}})}:typeof Headers<"u"&&Pt instanceof Headers?(this.headers=new Map,Pt.forEach((sn,_n)=>{this.setHeaderEntries(_n,sn)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Pt).forEach(([sn,_n])=>{this.setHeaderEntries(sn,_n)})}:this.headers=new Map}has(Pt){return this.init(),this.headers.has(Pt.toLowerCase())}get(Pt){this.init();const sn=this.headers.get(Pt.toLowerCase());return sn&&sn.length>0?sn[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Pt){return this.init(),this.headers.get(Pt.toLowerCase())||null}append(Pt,sn){return this.clone({name:Pt,value:sn,op:"a"})}set(Pt,sn){return this.clone({name:Pt,value:sn,op:"s"})}delete(Pt,sn){return this.clone({name:Pt,value:sn,op:"d"})}maybeSetNormalizedName(Pt,sn){this.normalizedNames.has(sn)||this.normalizedNames.set(sn,Pt)}init(){this.lazyInit&&(this.lazyInit instanceof Z?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Pt=>this.applyUpdate(Pt)),this.lazyUpdate=null))}copyFrom(Pt){Pt.init(),Array.from(Pt.headers.keys()).forEach(sn=>{this.headers.set(sn,Pt.headers.get(sn)),this.normalizedNames.set(sn,Pt.normalizedNames.get(sn))})}clone(Pt){const sn=new Z;return sn.lazyInit=this.lazyInit&&this.lazyInit instanceof Z?this.lazyInit:this,sn.lazyUpdate=(this.lazyUpdate||[]).concat([Pt]),sn}applyUpdate(Pt){const sn=Pt.name.toLowerCase();switch(Pt.op){case"a":case"s":let _n=Pt.value;if("string"==typeof _n&&(_n=[_n]),0===_n.length)return;this.maybeSetNormalizedName(Pt.name,sn);const $n=("a"===Pt.op?this.headers.get(sn):void 0)||[];$n.push(..._n),this.headers.set(sn,$n);break;case"d":const sr=Pt.value;if(sr){let ir=this.headers.get(sn);if(!ir)return;ir=ir.filter(Ar=>-1===sr.indexOf(Ar)),0===ir.length?(this.headers.delete(sn),this.normalizedNames.delete(sn)):this.headers.set(sn,ir)}else this.headers.delete(sn),this.normalizedNames.delete(sn)}}setHeaderEntries(Pt,sn){const _n=(Array.isArray(sn)?sn:[sn]).map(sr=>sr.toString()),$n=Pt.toLowerCase();this.headers.set($n,_n),this.maybeSetNormalizedName(Pt,$n)}forEach(Pt){this.init(),Array.from(this.normalizedNames.keys()).forEach(sn=>Pt(this.normalizedNames.get(sn),this.headers.get(sn)))}}class te{encodeKey(Pt){return se(Pt)}encodeValue(Pt){return se(Pt)}decodeKey(Pt){return decodeURIComponent(Pt)}decodeValue(Pt){return decodeURIComponent(Pt)}}const q=/%(\d[a-f0-9])/gi,ne={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function se(wt){return encodeURIComponent(wt).replace(q,(Pt,sn)=>ne[sn]??Pt)}function oe(wt){return`${wt}`}class ue{constructor(Pt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Pt.encoder||new te,Pt.fromString){if(Pt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function J(wt,Pt){const sn=new Map;return wt.length>0&&wt.replace(/^\?/,"").split("&").forEach($n=>{const sr=$n.indexOf("="),[ir,Ar]=-1==sr?[Pt.decodeKey($n),""]:[Pt.decodeKey($n.slice(0,sr)),Pt.decodeValue($n.slice(sr+1))],hr=sn.get(ir)||[];hr.push(Ar),sn.set(ir,hr)}),sn}(Pt.fromString,this.encoder)}else Pt.fromObject?(this.map=new Map,Object.keys(Pt.fromObject).forEach(sn=>{const _n=Pt.fromObject[sn],$n=Array.isArray(_n)?_n.map(oe):[oe(_n)];this.map.set(sn,$n)})):this.map=null}has(Pt){return this.init(),this.map.has(Pt)}get(Pt){this.init();const sn=this.map.get(Pt);return sn?sn[0]:null}getAll(Pt){return this.init(),this.map.get(Pt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Pt,sn){return this.clone({param:Pt,value:sn,op:"a"})}appendAll(Pt){const sn=[];return Object.keys(Pt).forEach(_n=>{const $n=Pt[_n];Array.isArray($n)?$n.forEach(sr=>{sn.push({param:_n,value:sr,op:"a"})}):sn.push({param:_n,value:$n,op:"a"})}),this.clone(sn)}set(Pt,sn){return this.clone({param:Pt,value:sn,op:"s"})}delete(Pt,sn){return this.clone({param:Pt,value:sn,op:"d"})}toString(){return this.init(),this.keys().map(Pt=>{const sn=this.encoder.encodeKey(Pt);return this.map.get(Pt).map(_n=>sn+"="+this.encoder.encodeValue(_n)).join("&")}).filter(Pt=>""!==Pt).join("&")}clone(Pt){const sn=new ue({encoder:this.encoder});return sn.cloneFrom=this.cloneFrom||this,sn.updates=(this.updates||[]).concat(Pt),sn}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Pt=>this.map.set(Pt,this.cloneFrom.map.get(Pt))),this.updates.forEach(Pt=>{switch(Pt.op){case"a":case"s":const sn=("a"===Pt.op?this.map.get(Pt.param):void 0)||[];sn.push(oe(Pt.value)),this.map.set(Pt.param,sn);break;case"d":if(void 0===Pt.value){this.map.delete(Pt.param);break}{let _n=this.map.get(Pt.param)||[];const $n=_n.indexOf(oe(Pt.value));-1!==$n&&_n.splice($n,1),_n.length>0?this.map.set(Pt.param,_n):this.map.delete(Pt.param)}}}),this.cloneFrom=this.updates=null)}}class ve{constructor(){this.map=new Map}set(Pt,sn){return this.map.set(Pt,sn),this}get(Pt){return this.map.has(Pt)||this.map.set(Pt,Pt.defaultValue()),this.map.get(Pt)}delete(Pt){return this.map.delete(Pt),this}has(Pt){return this.map.has(Pt)}keys(){return this.map.keys()}}function De(wt){return typeof ArrayBuffer<"u"&&wt instanceof ArrayBuffer}function P(wt){return typeof Blob<"u"&&wt instanceof Blob}function u(wt){return typeof FormData<"u"&&wt instanceof FormData}class g{constructor(Pt,sn,_n,$n){let sr;if(this.url=sn,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Pt.toUpperCase(),function _e(wt){switch(wt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||$n?(this.body=void 0!==_n?_n:null,sr=$n):sr=_n,sr&&(this.reportProgress=!!sr.reportProgress,this.withCredentials=!!sr.withCredentials,sr.responseType&&(this.responseType=sr.responseType),sr.headers&&(this.headers=sr.headers),sr.context&&(this.context=sr.context),sr.params&&(this.params=sr.params),this.transferCache=sr.transferCache),this.headers??=new Z,this.context??=new ve,this.params){const ir=this.params.toString();if(0===ir.length)this.urlWithParams=sn;else{const Ar=sn.indexOf("?");this.urlWithParams=sn+(-1===Ar?"?":Ar<sn.length-1?"&":"")+ir}}else this.params=new ue,this.urlWithParams=sn}serializeBody(){return null===this.body?null:"string"==typeof this.body||De(this.body)||P(this.body)||u(this.body)||function h(wt){return typeof URLSearchParams<"u"&&wt instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ue?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||u(this.body)?null:P(this.body)?this.body.type||null:De(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ue?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Pt={}){const sn=Pt.method||this.method,_n=Pt.url||this.url,$n=Pt.responseType||this.responseType,sr=Pt.transferCache??this.transferCache,ir=void 0!==Pt.body?Pt.body:this.body,Ar=Pt.withCredentials??this.withCredentials,hr=Pt.reportProgress??this.reportProgress;let Fi=Pt.headers||this.headers,_o=Pt.params||this.params;const Ci=Pt.context??this.context;return void 0!==Pt.setHeaders&&(Fi=Object.keys(Pt.setHeaders).reduce((fi,so)=>fi.set(so,Pt.setHeaders[so]),Fi)),Pt.setParams&&(_o=Object.keys(Pt.setParams).reduce((fi,so)=>fi.set(so,Pt.setParams[so]),_o)),new g(sn,_n,ir,{params:_o,headers:Fi,context:Ci,reportProgress:hr,responseType:$n,withCredentials:Ar,transferCache:sr})}}var w=function(wt){return wt[wt.Sent=0]="Sent",wt[wt.UploadProgress=1]="UploadProgress",wt[wt.ResponseHeader=2]="ResponseHeader",wt[wt.DownloadProgress=3]="DownloadProgress",wt[wt.Response=4]="Response",wt[wt.User=5]="User",wt}(w||{});class T{constructor(Pt,sn=200,_n="OK"){this.headers=Pt.headers||new Z,this.status=void 0!==Pt.status?Pt.status:sn,this.statusText=Pt.statusText||_n,this.url=Pt.url||null,this.ok=this.status>=200&&this.status<300}}class C extends T{constructor(Pt={}){super(Pt),this.type=w.ResponseHeader}clone(Pt={}){return new C({headers:Pt.headers||this.headers,status:void 0!==Pt.status?Pt.status:this.status,statusText:Pt.statusText||this.statusText,url:Pt.url||this.url||void 0})}}class j extends T{constructor(Pt={}){super(Pt),this.type=w.Response,this.body=void 0!==Pt.body?Pt.body:null}clone(Pt={}){return new j({body:void 0!==Pt.body?Pt.body:this.body,headers:Pt.headers||this.headers,status:void 0!==Pt.status?Pt.status:this.status,statusText:Pt.statusText||this.statusText,url:Pt.url||this.url||void 0})}}class M extends T{constructor(Pt){super(Pt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Pt.url||"(unknown url)"}`:`Http failure response for ${Pt.url||"(unknown url)"}: ${Pt.status} ${Pt.statusText}`,this.error=Pt.error||null}}function H(wt,Pt){return{body:Pt,headers:wt.headers,context:wt.context,observe:wt.observe,params:wt.params,reportProgress:wt.reportProgress,responseType:wt.responseType,withCredentials:wt.withCredentials,transferCache:wt.transferCache}}let ee=(()=>{class wt{constructor(sn){this.handler=sn}request(sn,_n,$n={}){let sr;if(sn instanceof g)sr=sn;else{let hr,Fi;hr=$n.headers instanceof Z?$n.headers:new Z($n.headers),$n.params&&(Fi=$n.params instanceof ue?$n.params:new ue({fromObject:$n.params})),sr=new g(sn,_n,void 0!==$n.body?$n.body:null,{headers:hr,context:$n.context,params:Fi,reportProgress:$n.reportProgress,responseType:$n.responseType||"json",withCredentials:$n.withCredentials,transferCache:$n.transferCache})}const ir=(0,O.of)(sr).pipe((0,B.H)(hr=>this.handler.handle(hr)));if(sn instanceof g||"events"===$n.observe)return ir;const Ar=ir.pipe((0,A.p)(hr=>hr instanceof j));switch($n.observe||"body"){case"body":switch(sr.responseType){case"arraybuffer":return Ar.pipe((0,N.T)(hr=>{if(null!==hr.body&&!(hr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return hr.body}));case"blob":return Ar.pipe((0,N.T)(hr=>{if(null!==hr.body&&!(hr.body instanceof Blob))throw new Error("Response is not a Blob.");return hr.body}));case"text":return Ar.pipe((0,N.T)(hr=>{if(null!==hr.body&&"string"!=typeof hr.body)throw new Error("Response is not a string.");return hr.body}));default:return Ar.pipe((0,N.T)(hr=>hr.body))}case"response":return Ar;default:throw new Error(`Unreachable: unhandled observe type ${$n.observe}}`)}}delete(sn,_n={}){return this.request("DELETE",sn,_n)}get(sn,_n={}){return this.request("GET",sn,_n)}head(sn,_n={}){return this.request("HEAD",sn,_n)}jsonp(sn,_n){return this.request("JSONP",sn,{params:(new ue).append(_n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(sn,_n={}){return this.request("OPTIONS",sn,_n)}patch(sn,_n,$n={}){return this.request("PATCH",sn,H($n,_n))}post(sn,_n,$n={}){return this.request("POST",sn,H($n,_n))}put(sn,_n,$n={}){return this.request("PUT",sn,H($n,_n))}static#e=this.\u0275fac=function(_n){return new(_n||wt)(S.KVO(X))};static#t=this.\u0275prov=S.jDH({token:wt,factory:wt.\u0275fac})}return wt})();const fe=/^\)\]\}',?\n/;function Pe(wt){if(wt.url)return wt.url;const Pt="X-Request-URL".toLocaleLowerCase();return wt.headers.get(Pt)}let Le=(()=>{class wt{constructor(){this.fetchImpl=(0,S.WQX)(be,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,S.WQX)(S.SKi)}handle(sn){return new G.c(_n=>{const $n=new AbortController;return this.doRequest(sn,$n.signal,_n).then(ge,sr=>_n.error(new M({error:sr}))),()=>$n.abort()})}doRequest(sn,_n,$n){var sr=this;return(0,p.A)(function*(){const ir=sr.createRequestInit(sn);let Ar;try{const ei=sr.ngZone.runOutsideAngular(()=>sr.fetchImpl(sn.urlWithParams,{signal:_n,...ir}));(function Re(wt){wt.then(ge,ge)})(ei),$n.next({type:w.Sent}),Ar=yield ei}catch(ei){return void $n.error(new M({error:ei,status:ei.status??0,statusText:ei.statusText,url:sn.urlWithParams,headers:ei.headers}))}const hr=new Z(Ar.headers),Fi=Ar.statusText,_o=Pe(Ar)??sn.urlWithParams;let Ci=Ar.status,fi=null;if(sn.reportProgress&&$n.next(new C({headers:hr,status:Ci,statusText:Fi,url:_o})),Ar.body){const ei=Ar.headers.get("content-length"),yi=[],wi=Ar.body.getReader();let Gs,ui,Ro=0;const mo=typeof Zone<"u"&&Zone.current;yield sr.ngZone.runOutsideAngular((0,p.A)(function*(){for(;;){const{done:br,value:Ms}=yield wi.read();if(br)break;if(yi.push(Ms),Ro+=Ms.length,sn.reportProgress){ui="text"===sn.responseType?(ui??"")+(Gs??=new TextDecoder).decode(Ms,{stream:!0}):void 0;const an=()=>$n.next({type:w.DownloadProgress,total:ei?+ei:void 0,loaded:Ro,partialText:ui});mo?mo.run(an):an()}}}));const qo=sr.concatChunks(yi,Ro);try{const br=Ar.headers.get("Content-Type")??"";fi=sr.parseBody(sn,qo,br)}catch(br){return void $n.error(new M({error:br,headers:new Z(Ar.headers),status:Ar.status,statusText:Ar.statusText,url:Pe(Ar)??sn.urlWithParams}))}}0===Ci&&(Ci=fi?200:0),Ci>=200&&Ci<300?($n.next(new j({body:fi,headers:hr,status:Ci,statusText:Fi,url:_o})),$n.complete()):$n.error(new M({error:fi,headers:hr,status:Ci,statusText:Fi,url:_o}))})()}parseBody(sn,_n,$n){switch(sn.responseType){case"json":const sr=(new TextDecoder).decode(_n).replace(fe,"");return""===sr?null:JSON.parse(sr);case"text":return(new TextDecoder).decode(_n);case"blob":return new Blob([_n],{type:$n});case"arraybuffer":return _n.buffer}}createRequestInit(sn){const _n={},$n=sn.withCredentials?"include":void 0;if(sn.headers.forEach((sr,ir)=>_n[sr]=ir.join(",")),sn.headers.has("Accept")||(_n.Accept="application/json, text/plain, */*"),!sn.headers.has("Content-Type")){const sr=sn.detectContentTypeHeader();null!==sr&&(_n["Content-Type"]=sr)}return{body:sn.serializeBody(),method:sn.method,headers:_n,credentials:$n}}concatChunks(sn,_n){const $n=new Uint8Array(_n);let sr=0;for(const ir of sn)$n.set(ir,sr),sr+=ir.length;return $n}static#e=this.\u0275fac=function(_n){return new(_n||wt)};static#t=this.\u0275prov=S.jDH({token:wt,factory:wt.\u0275fac})}return wt})();class be{}function ge(){}function me(wt,Pt){return Pt(wt)}function xe(wt,Pt){return(sn,_n)=>Pt.intercept(sn,{handle:$n=>wt($n,_n)})}const he=new S.nKC(""),re=new S.nKC(""),de=new S.nKC(""),pe=new S.nKC("",{providedIn:"root",factory:()=>!0});function Se(){let wt=null;return(Pt,sn)=>{null===wt&&(wt=((0,S.WQX)(he,{optional:!0})??[]).reduceRight(xe,me));const _n=(0,S.WQX)(S.TgB);if((0,S.WQX)(pe)){const sr=_n.add();return wt(Pt,sn).pipe((0,$.j)(()=>_n.remove(sr)))}return wt(Pt,sn)}}let We=(()=>{class wt extends X{constructor(sn,_n){super(),this.backend=sn,this.injector=_n,this.chain=null,this.pendingTasks=(0,S.WQX)(S.TgB),this.contributeToStability=(0,S.WQX)(pe)}handle(sn){if(null===this.chain){const _n=Array.from(new Set([...this.injector.get(re),...this.injector.get(de,[])]));this.chain=_n.reduceRight(($n,sr)=>function le(wt,Pt,sn){return(_n,$n)=>(0,S.N4e)(sn,()=>Pt(_n,sr=>wt(sr,$n)))}($n,sr,this.injector),me)}if(this.contributeToStability){const _n=this.pendingTasks.add();return this.chain(sn,$n=>this.backend.handle($n)).pipe((0,$.j)(()=>this.pendingTasks.remove(_n)))}return this.chain(sn,_n=>this.backend.handle(_n))}static#e=this.\u0275fac=function(_n){return new(_n||wt)(S.KVO(V),S.KVO(S.uvJ))};static#t=this.\u0275prov=S.jDH({token:wt,factory:wt.\u0275fac})}return wt})();const Qe=/^\)\]\}',?\n/;let pt=(()=>{class wt{constructor(sn){this.xhrFactory=sn}handle(sn){if("JSONP"===sn.method)throw new S.wOt(-2800,!1);const _n=this.xhrFactory;return(_n.\u0275loadImpl?(0,x.H)(_n.\u0275loadImpl()):(0,O.of)(null)).pipe((0,K.n)(()=>new G.c(sr=>{const ir=_n.build();if(ir.open(sn.method,sn.urlWithParams),sn.withCredentials&&(ir.withCredentials=!0),sn.headers.forEach((yi,wi)=>ir.setRequestHeader(yi,wi.join(","))),sn.headers.has("Accept")||ir.setRequestHeader("Accept","application/json, text/plain, */*"),!sn.headers.has("Content-Type")){const yi=sn.detectContentTypeHeader();null!==yi&&ir.setRequestHeader("Content-Type",yi)}if(sn.responseType){const yi=sn.responseType.toLowerCase();ir.responseType="json"!==yi?yi:"text"}const Ar=sn.serializeBody();let hr=null;const Fi=()=>{if(null!==hr)return hr;const yi=ir.statusText||"OK",wi=new Z(ir.getAllResponseHeaders()),Ro=function kt(wt){return"responseURL"in wt&&wt.responseURL?wt.responseURL:/^X-Request-URL:/m.test(wt.getAllResponseHeaders())?wt.getResponseHeader("X-Request-URL"):null}(ir)||sn.url;return hr=new C({headers:wi,status:ir.status,statusText:yi,url:Ro}),hr},_o=()=>{let{headers:yi,status:wi,statusText:Ro,url:Gs}=Fi(),ui=null;204!==wi&&(ui=typeof ir.response>"u"?ir.responseText:ir.response),0===wi&&(wi=ui?200:0);let mo=wi>=200&&wi<300;if("json"===sn.responseType&&"string"==typeof ui){const qo=ui;ui=ui.replace(Qe,"");try{ui=""!==ui?JSON.parse(ui):null}catch(br){ui=qo,mo&&(mo=!1,ui={error:br,text:ui})}}mo?(sr.next(new j({body:ui,headers:yi,status:wi,statusText:Ro,url:Gs||void 0})),sr.complete()):sr.error(new M({error:ui,headers:yi,status:wi,statusText:Ro,url:Gs||void 0}))},Ci=yi=>{const{url:wi}=Fi(),Ro=new M({error:yi,status:ir.status||0,statusText:ir.statusText||"Unknown Error",url:wi||void 0});sr.error(Ro)};let fi=!1;const so=yi=>{fi||(sr.next(Fi()),fi=!0);let wi={type:w.DownloadProgress,loaded:yi.loaded};yi.lengthComputable&&(wi.total=yi.total),"text"===sn.responseType&&ir.responseText&&(wi.partialText=ir.responseText),sr.next(wi)},ei=yi=>{let wi={type:w.UploadProgress,loaded:yi.loaded};yi.lengthComputable&&(wi.total=yi.total),sr.next(wi)};return ir.addEventListener("load",_o),ir.addEventListener("error",Ci),ir.addEventListener("timeout",Ci),ir.addEventListener("abort",Ci),sn.reportProgress&&(ir.addEventListener("progress",so),null!==Ar&&ir.upload&&ir.upload.addEventListener("progress",ei)),ir.send(Ar),sr.next({type:w.Sent}),()=>{ir.removeEventListener("error",Ci),ir.removeEventListener("abort",Ci),ir.removeEventListener("load",_o),ir.removeEventListener("timeout",Ci),sn.reportProgress&&(ir.removeEventListener("progress",so),null!==Ar&&ir.upload&&ir.upload.removeEventListener("progress",ei)),ir.readyState!==ir.DONE&&ir.abort()}})))}static#e=this.\u0275fac=function(_n){return new(_n||wt)(S.KVO(D.N0))};static#t=this.\u0275prov=S.jDH({token:wt,factory:wt.\u0275fac})}return wt})();const Et=new S.nKC(""),qt=new S.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),er=new S.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class cn{}let Ut=(()=>{class wt{constructor(sn,_n,$n){this.doc=sn,this.platform=_n,this.cookieName=$n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const sn=this.doc.cookie||"";return sn!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,D._b)(sn,this.cookieName),this.lastCookieString=sn),this.lastToken}static#e=this.\u0275fac=function(_n){return new(_n||wt)(S.KVO(D.qQ),S.KVO(S.Agw),S.KVO(qt))};static#t=this.\u0275prov=S.jDH({token:wt,factory:wt.\u0275fac})}return wt})();function Nt(wt,Pt){const sn=wt.url.toLowerCase();if(!(0,S.WQX)(Et)||"GET"===wt.method||"HEAD"===wt.method||sn.startsWith("http://")||sn.startsWith("https://"))return Pt(wt);const _n=(0,S.WQX)(cn).getToken(),$n=(0,S.WQX)(er);return null!=_n&&!wt.headers.has($n)&&(wt=wt.clone({headers:wt.headers.set($n,_n)})),Pt(wt)}var it=function(wt){return wt[wt.Interceptors=0]="Interceptors",wt[wt.LegacyInterceptors=1]="LegacyInterceptors",wt[wt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",wt[wt.NoXsrfProtection=3]="NoXsrfProtection",wt[wt.JsonpSupport=4]="JsonpSupport",wt[wt.RequestsMadeViaParent=5]="RequestsMadeViaParent",wt[wt.Fetch=6]="Fetch",wt}(it||{});function Bt(...wt){const Pt=[ee,pt,We,{provide:X,useExisting:We},{provide:V,useFactory:()=>(0,S.WQX)(Le,{optional:!0})??(0,S.WQX)(pt)},{provide:re,useValue:Nt,multi:!0},{provide:Et,useValue:!0},{provide:cn,useClass:Ut}];for(const sn of wt)Pt.push(...sn.\u0275providers);return(0,S.EmA)(Pt)}const Yn=new S.nKC("");function at(){return function Ct(wt,Pt){return{\u0275kind:wt,\u0275providers:Pt}}(it.LegacyInterceptors,[{provide:Yn,useFactory:Se},{provide:re,useExisting:Yn,multi:!0}])}let tn=(()=>{class wt{static#e=this.\u0275fac=function(_n){return new(_n||wt)};static#t=this.\u0275mod=S.$C({type:wt});static#n=this.\u0275inj=S.G2t({providers:[Bt(at())]})}return wt})()},93953:(Be,z,E)=>{"use strict";function p(c,f){return Object.is(c,f)}E.d(z,{bc$:()=>OR,iLQ:()=>Wo,sZ2:()=>m2,hnV:()=>HT,wjH:()=>od,o8S:()=>vf,BIS:()=>BR,gRc:()=>m0,Ql9:()=>a8,OM3:()=>Rw,Ocv:()=>cN,Z63:()=>Ri,aKT:()=>l2,uvJ:()=>ef,zcH:()=>td,bkB:()=>Ih,$GK:()=>Zi,nKC:()=>ki,zZn:()=>Ac,_q3:()=>Px,MKu:()=>g8,xe9:()=>Fl,Co$:()=>lB,Vns:()=>rv,SKi:()=>ea,Xx1:()=>Xc,Agw:()=>Qb,PLl:()=>O3,rOR:()=>Zb,sFG:()=>p4,_9s:()=>KM,czy:()=>oo,WPN:()=>Qs,kdw:()=>Xl,C4Q:()=>Sw,NYb:()=>rN,giA:()=>o8,RxE:()=>Q5,c1b:()=>Uw,gXe:()=>qa,mal:()=>x6,Tzd:()=>WM,L39:()=>B8,EWP:()=>PN,sbv:()=>z4,a0P:()=>zx,Ol2:()=>hy,w6W:()=>e5,QZP:()=>Q_,Rfq:()=>xl,WQX:()=>cr,hFB:()=>pR,naY:()=>Jh,Hps:()=>uy,QuC:()=>Tl,EmA:()=>U1,geq:()=>G4,Udg:()=>vI,Jn2:()=>l8,HJs:()=>L8,N4e:()=>jD,vPA:()=>lE,O8t:()=>RN,ebz:()=>$4,An2:()=>ly,H3F:()=>e8,zAP:()=>jx,H8p:()=>j1,KH2:()=>jd,TgB:()=>bm,wOt:()=>xr,WHO:()=>zT,e01:()=>Gf,lNU:()=>El,h9k:()=>tO,$MX:()=>x2,ZF7:()=>aw,Kcf:()=>HL,e5t:()=>G3,UyX:()=>WL,cWb:()=>Am,osQ:()=>YR,H5H:()=>Lr,Zy3:()=>$o,mq5:()=>M5,JZv:()=>ss,TL3:()=>Ky,LfX:()=>Ab,plB:()=>Om,jNT:()=>F_,zjR:()=>Ov,ngT:()=>id,TL$:()=>PR,Tbb:()=>gs,rcV:()=>Mm,nM4:()=>$w,Vt3:()=>lA,GFd:()=>gE,OA$:()=>J1,Jv_:()=>k_,aNF:()=>dx,R7$:()=>vM,BMQ:()=>as,HbH:()=>p5,ZvI:()=>by,AVh:()=>OA,vxM:()=>E5,wni:()=>rT,C6U:()=>qE,VBU:()=>Vt,FsC:()=>hi,jDH:()=>Do,G2t:()=>ou,$C:()=>Tn,EJ8:()=>Oi,rXU:()=>Gg,nrm:()=>jA,eu8:()=>BE,bVm:()=>l_,qex:()=>c_,k0s:()=>a_,j41:()=>gu,RV6:()=>vu,xGo:()=>GS,Mr5:()=>vs,pXf:()=>vv,KVO:()=>_i,kS0:()=>qs,QTQ:()=>xC,bIt:()=>ud,lsd:()=>sT,joV:()=>nf,qSk:()=>a3,XpG:()=>JA,nI1:()=>CT,bMT:()=>kT,SdG:()=>eT,NAR:()=>QA,Y8G:()=>Bh,FS9:()=>YE,lJ4:()=>zf,eq3:()=>R_,l_i:()=>Sv,NyB:()=>Wh,mGM:()=>oT,sdS:()=>I_,Dyx:()=>fo,Z7z:()=>wy,fX1:()=>$r,Vm6:()=>vo,Njj:()=>qD,eBV:()=>Z0,npT:()=>nC,B4B:()=>cM,n$t:()=>oC,xc7:()=>RA,Kam:()=>Fc,zvX:()=>bs,DNE:()=>Hw,C5r:()=>Iv,EFF:()=>C_,JRh:()=>Ev,SpI:()=>xv,Lme:()=>nx,DH7:()=>vT,mxI:()=>sx,R50:()=>ox,GBs:()=>iT,wEZ:()=>Up});let S=null,O=!1,G=1;const x=Symbol("SIGNAL");function B(c){const f=S;return S=c,f}const K={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function D(c){if(O)throw new Error("");if(null===S)return;S.consumerOnSignalRead(c);const f=S.nextProducerIndex++;ve(S),f<S.producerNode.length&&S.producerNode[f]!==c&&ae(S)&&ue(S.producerNode[f],S.producerIndexOfThis[f]),S.producerNode[f]!==c&&(S.producerNode[f]=c,S.producerIndexOfThis[f]=ae(S)?oe(c,S,f):0),S.producerLastReadVersion[f]=c.version}function V(c){if((!ae(c)||c.dirty)&&(c.dirty||c.lastCleanEpoch!==G)){if(!c.producerMustRecompute(c)&&!ne(c))return c.dirty=!1,void(c.lastCleanEpoch=G);c.producerRecomputeValue(c),c.dirty=!1,c.lastCleanEpoch=G}}function Z(c){if(void 0===c.liveConsumerNode)return;const f=O;O=!0;try{for(const b of c.liveConsumerNode)b.dirty||te(b)}finally{O=f}}function Q(){return!1!==S?.consumerAllowSignalWrites}function te(c){c.dirty=!0,Z(c),c.consumerMarkedDirty?.(c)}function J(c){return c&&(c.nextProducerIndex=0),B(c)}function q(c,f){if(B(f),c&&void 0!==c.producerNode&&void 0!==c.producerIndexOfThis&&void 0!==c.producerLastReadVersion){if(ae(c))for(let b=c.nextProducerIndex;b<c.producerNode.length;b++)ue(c.producerNode[b],c.producerIndexOfThis[b]);for(;c.producerNode.length>c.nextProducerIndex;)c.producerNode.pop(),c.producerLastReadVersion.pop(),c.producerIndexOfThis.pop()}}function ne(c){ve(c);for(let f=0;f<c.producerNode.length;f++){const b=c.producerNode[f],k=c.producerLastReadVersion[f];if(k!==b.version||(V(b),k!==b.version))return!0}return!1}function se(c){if(ve(c),ae(c))for(let f=0;f<c.producerNode.length;f++)ue(c.producerNode[f],c.producerIndexOfThis[f]);c.producerNode.length=c.producerLastReadVersion.length=c.producerIndexOfThis.length=0,c.liveConsumerNode&&(c.liveConsumerNode.length=c.liveConsumerIndexOfThis.length=0)}function oe(c,f,b){if(_e(c),0===c.liveConsumerNode.length&&De(c))for(let k=0;k<c.producerNode.length;k++)c.producerIndexOfThis[k]=oe(c.producerNode[k],c,k);return c.liveConsumerIndexOfThis.push(b),c.liveConsumerNode.push(f)-1}function ue(c,f){if(_e(c),1===c.liveConsumerNode.length&&De(c))for(let k=0;k<c.producerNode.length;k++)ue(c.producerNode[k],c.producerIndexOfThis[k]);const b=c.liveConsumerNode.length-1;if(c.liveConsumerNode[f]=c.liveConsumerNode[b],c.liveConsumerIndexOfThis[f]=c.liveConsumerIndexOfThis[b],c.liveConsumerNode.length--,c.liveConsumerIndexOfThis.length--,f<c.liveConsumerNode.length){const k=c.liveConsumerIndexOfThis[f],Y=c.liveConsumerNode[f];ve(Y),Y.producerIndexOfThis[k]=f}}function ae(c){return c.consumerIsAlwaysLive||(c?.liveConsumerNode?.length??0)>0}function ve(c){c.producerNode??=[],c.producerIndexOfThis??=[],c.producerLastReadVersion??=[]}function _e(c){c.liveConsumerNode??=[],c.liveConsumerIndexOfThis??=[]}function De(c){return void 0!==c.producerNode}function P(c){const f=Object.create(w);f.computation=c;const b=()=>{if(V(f),D(f),f.value===g)throw f.error;return f.value};return b[x]=f,b}const u=Symbol("UNSET"),h=Symbol("COMPUTING"),g=Symbol("ERRORED"),w={...K,value:u,dirty:!0,error:null,equal:p,producerMustRecompute:c=>c.value===u||c.value===h,producerRecomputeValue(c){if(c.value===h)throw new Error("Detected cycle in computations.");const f=c.value;c.value=h;const b=J(c);let k;try{k=c.computation()}catch(Y){k=g,c.error=Y}finally{q(c,b)}f!==u&&f!==g&&k!==g&&c.equal(f,k)?c.value=f:(c.value=k,c.version++)}};let C=function T(){throw new Error};function j(){C()}let d=null;function ee(c,f){Q()||j(),c.equal(c.value,f)||(c.value=f,function Le(c){c.version++,function X(){G++}(),Z(c),d?.()}(c))}const Pe={...K,equal:p,value:void 0};const ge=()=>{},Re={...K,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:c=>{null!==c.schedule&&c.schedule(c.ref)},hasRun:!1,cleanupFn:ge};var xe=E(84412),le=E(21413),he=E(18359),re=E(96354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const El="https://g.co/ng/security#xss";class xr extends Error{constructor(f,b){super($o(f,b)),this.code=f}}function $o(c,f){return`NG0${Math.abs(c)}${f?": "+f:""}`}const vc=Symbol("InputSignalNode#UNSET"),os={...Pe,transformFn:void 0,applyValueToInputSignal(c,f){ee(c,f)}};function nu(c,f){const b=Object.create(os);function k(){if(D(b),b.value===vc)throw new xr(-950,!1);return b.value}return b.value=c,b.transformFn=f?.transform,k[x]=b,k}function Vo(c){return{toString:c}.toString()}const Zc="__parameters__";function Us(c,f,b){return Vo(()=>{const k=function If(c){return function(...b){if(c){const k=c(...b);for(const Y in k)this[Y]=k[Y]}}}(f);function Y(...ce){if(this instanceof Y)return k.apply(this,ce),this;const Ee=new Y(...ce);return Oe.annotation=Ee,Oe;function Oe(Ze,mt,xt){const Ht=Ze.hasOwnProperty(Zc)?Ze[Zc]:Object.defineProperty(Ze,Zc,{value:[]})[Zc];for(;Ht.length<=xt;)Ht.push(null);return(Ht[xt]=Ht[xt]||[]).push(Ee),Ze}}return b&&(Y.prototype=Object.create(b.prototype)),Y.prototype.ngMetadataName=c,Y.annotationCls=Y,Y})}const ss=globalThis;function Eo(c){for(let f in c)if(c[f]===Eo)return f;throw Error("Could not find renamed property on target object.")}function Gu(c,f){for(const b in f)f.hasOwnProperty(b)&&!c.hasOwnProperty(b)&&(c[b]=f[b])}function gs(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(gs).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const f=c.toString();if(null==f)return""+f;const b=f.indexOf("\n");return-1===b?f:f.substring(0,b)}function tm(c,f){return null==c||""===c?null===f?"":f:null==f||""===f?c:c+" "+f}const ru=Eo({__forward_ref__:Eo});function xl(c){return c.__forward_ref__=xl,c.toString=function(){return gs(this())},c}function si(c){return Ya(c)?c():c}function Ya(c){return"function"==typeof c&&c.hasOwnProperty(ru)&&c.__forward_ref__===xl}function bc(c,f,b){c!=f&&function ti(c,f,b,k){throw new Error(`ASSERTION ERROR: ${c}`+(null==k?"":` [Expected=> ${b} ${k} ${f} <=Actual]`))}(b,c,f,"==")}function Do(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function ou(c){return{providers:c.providers||[],imports:c.imports||[]}}function Zu(c){return ph(c,yp)||ph(c,su)}function Ab(c){return null!==Zu(c)}function ph(c,f){return c.hasOwnProperty(f)?c[f]:null}function Yc(c){return c&&(c.hasOwnProperty(gp)||c.hasOwnProperty(P0))?c[gp]:null}const yp=Eo({\u0275prov:Eo}),gp=Eo({\u0275inj:Eo}),su=Eo({ngInjectableDef:Eo}),P0=Eo({ngInjectorDef:Eo});class ki{constructor(f,b){this._desc=f,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof b?this.__NG_ELEMENT_ID__=b:void 0!==b&&(this.\u0275prov=Do({token:this,providedIn:b.providedIn||"root",factory:b.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function yh(c){return c&&!!c.\u0275providers}const Sa=Eo({\u0275cmp:Eo}),O0=Eo({\u0275dir:Eo}),im=Eo({\u0275pipe:Eo}),om=Eo({\u0275mod:Eo}),Su=Eo({\u0275fac:Eo}),sm=Eo({__NG_ELEMENT_ID__:Eo}),bp=Eo({__NG_ENV_ID__:Eo});function Pi(c){return"string"==typeof c?c:null==c?"":String(c)}function gh(c,f){throw new xr(-201,!1)}var Zi=function(c){return c[c.Default=0]="Default",c[c.Host=1]="Host",c[c.Self=2]="Self",c[c.SkipSelf=4]="SkipSelf",c[c.Optional=8]="Optional",c}(Zi||{});let Xu;function am(){return Xu}function Ja(c){const f=Xu;return Xu=c,f}function vh(c,f,b){const k=Zu(c);return k&&"root"==k.providedIn?void 0===k.value?k.value=k.factory():k.value:b&Zi.Optional?null:void 0!==f?f:void gh()}const wp={},Md="__NG_DI_FLAG__",Ye="ngTempTokenPath",ht=/\n/gm,nn="__source";let Dn;function Ir(c){const f=Dn;return Dn=c,f}function To(c,f=Zi.Default){if(void 0===Dn)throw new xr(-203,!1);return null===Dn?vh(c,void 0,f):Dn.get(c,f&Zi.Optional?null:void 0,f)}function _i(c,f=Zi.Default){return(am()||To)(si(c),f)}function cr(c,f=Zi.Default){return _i(c,Zo(f))}function Zo(c){return typeof c>"u"||"number"==typeof c?c:(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)}function Wi(c){const f=[];for(let b=0;b<c.length;b++){const k=si(c[b]);if(Array.isArray(k)){if(0===k.length)throw new xr(900,!1);let Y,ce=Zi.Default;for(let Ee=0;Ee<k.length;Ee++){const Oe=k[Ee],Ze=au(Oe);"number"==typeof Ze?-1===Ze?Y=Oe.token:ce|=Ze:Y=Oe}f.push(_i(Y,ce))}else f.push(_i(k))}return f}function Oo(c,f){return c[Md]=f,c.prototype[Md]=f,c}function au(c){return c[Md]}const Xc=Oo(Us("Optional"),8),Xl=Oo(Us("SkipSelf"),4);function Pf(c,f){return c.hasOwnProperty(Su)?c[Su]:null}function Qo(c,f){c.forEach(b=>Array.isArray(b)?Qo(b,f):f(b))}function Ko(c,f,b){f>=c.length?c.push(b):c.splice(f,0,b)}function tt(c,f){return f>=c.length-1?c.pop():c.splice(f,1)[0]}function Zt(c,f,b){let k=Ln(c,f);return k>=0?c[1|k]=b:(k=~k,function Dt(c,f,b,k){let Y=c.length;if(Y==f)c.push(b,k);else if(1===Y)c.push(k,c[0]),c[0]=b;else{for(Y--,c.push(c[Y-1],c[Y]);Y>f;)c[Y]=c[Y-2],Y--;c[f]=b,c[f+1]=k}}(c,k,f,b)),k}function xn(c,f){const b=Ln(c,f);if(b>=0)return c[1|b]}function Ln(c,f){return function gn(c,f,b){let k=0,Y=c.length>>b;for(;Y!==k;){const ce=k+(Y-k>>1),Ee=c[ce<<b];if(f===Ee)return ce<<b;Ee>f?Y=ce:k=ce+1}return~(Y<<b)}(c,f,1)}const Rn={},ai=[],Ri=new ki(""),Yi=new ki("",-1),Ho=new ki("");class Ad{get(f,b=wp){if(b===wp){const k=new Error(`NullInjectorError: No provider for ${gs(f)}!`);throw k.name="NullInjectorError",k}return b}}var wc=function(c){return c[c.OnPush=0]="OnPush",c[c.Default=1]="Default",c}(wc||{}),qa=function(c){return c[c.Emulated=0]="Emulated",c[c.None=2]="None",c[c.ShadowDom=3]="ShadowDom",c}(qa||{}),Qa=function(c){return c[c.None=0]="None",c[c.SignalBased=1]="SignalBased",c[c.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",c}(Qa||{});function Ml(c,f,b){let k=c.length;for(;;){const Y=c.indexOf(f,b);if(-1===Y)return Y;if(0===Y||c.charCodeAt(Y-1)<=32){const ce=f.length;if(Y+ce===k||c.charCodeAt(Y+ce)<=32)return Y}b=Y+1}}function Al(c,f,b){let k=0;for(;k<b.length;){const Y=b[k];if("number"==typeof Y){if(0!==Y)break;k++;const ce=b[k++],Ee=b[k++],Oe=b[k++];c.setAttribute(f,Ee,Oe,ce)}else{const ce=Y,Ee=b[++k];Td(ce)?c.setProperty(f,ce,Ee):c.setAttribute(f,ce,Ee),k++}}return k}function qu(c){return 3===c||4===c||6===c}function Td(c){return 64===c.charCodeAt(0)}function Jl(c,f){if(null!==f&&0!==f.length)if(null===c||0===c.length)c=f.slice();else{let b=-1;for(let k=0;k<f.length;k++){const Y=f[k];"number"==typeof Y?b=Y:0===b||bh(c,b,Y,null,-1===b||2===b?f[++k]:null)}}return c}function bh(c,f,b,k,Y){let ce=0,Ee=c.length;if(-1===f)Ee=-1;else for(;ce<c.length;){const Oe=c[ce++];if("number"==typeof Oe){if(Oe===f){Ee=-1;break}if(Oe>f){Ee=ce-1;break}}}for(;ce<c.length;){const Oe=c[ce];if("number"==typeof Oe)break;if(Oe===b){if(null===k)return void(null!==Y&&(c[ce+1]=Y));if(k===c[ce+1])return void(c[ce+2]=Y)}ce++,null!==k&&ce++,null!==Y&&ce++}-1!==Ee&&(c.splice(Ee,0,f),ce=Ee+1),c.splice(ce++,0,b),null!==k&&c.splice(ce++,0,k),null!==Y&&c.splice(ce++,0,Y)}const Tb="ng-template";function gS(c,f,b,k){let Y=0;if(k){for(;Y<f.length&&"string"==typeof f[Y];Y+=2)if("class"===f[Y]&&-1!==Ml(f[Y+1].toLowerCase(),b,0))return!0}else if(Ib(c))return!1;if(Y=f.indexOf(1,Y),Y>-1){let ce;for(;++Y<f.length&&"string"==typeof(ce=f[Y]);)if(ce.toLowerCase()===b)return!0}return!1}function Ib(c){return 4===c.type&&c.value!==Tb}function bg(c,f,b){return f===(4!==c.type||b?c.value:Tb)}function vS(c,f,b){let k=4;const Y=c.attrs,ce=null!==Y?function cm(c){for(let f=0;f<c.length;f++)if(qu(c[f]))return f;return c.length}(Y):0;let Ee=!1;for(let Oe=0;Oe<f.length;Oe++){const Ze=f[Oe];if("number"!=typeof Ze){if(!Ee)if(4&k){if(k=2|1&k,""!==Ze&&!bg(c,Ze,b)||""===Ze&&1===f.length){if(Au(k))return!1;Ee=!0}}else if(8&k){if(null===Y||!gS(c,Y,Ze,b)){if(Au(k))return!1;Ee=!0}}else{const mt=f[++Oe],xt=BD(Ze,Y,Ib(c),b);if(-1===xt){if(Au(k))return!1;Ee=!0;continue}if(""!==mt){let Ht;if(Ht=xt>ce?"":Y[xt+1].toLowerCase(),2&k&&mt!==Ht){if(Au(k))return!1;Ee=!0}}}}else{if(!Ee&&!Au(k)&&!Au(Ze))return!1;if(Ee&&Au(Ze))continue;Ee=!1,k=Ze|1&k}}return Au(k)||Ee}function Au(c){return!(1&c)}function BD(c,f,b,k){if(null===f)return-1;let Y=0;if(k||!b){let ce=!1;for(;Y<f.length;){const Ee=f[Y];if(Ee===c)return Y;if(3===Ee||6===Ee)ce=!0;else{if(1===Ee||2===Ee){let Oe=f[++Y];for(;"string"==typeof Oe;)Oe=f[++Y];continue}if(4===Ee)break;if(0===Ee){Y+=4;continue}}Y+=ce?1:2}return-1}return function Qu(c,f){let b=c.indexOf(4);if(b>-1)for(b++;b<c.length;){const k=c[b];if("number"==typeof k)return-1;if(k===f)return b;b++}return-1}(f,c)}function bS(c,f,b=!1){for(let k=0;k<f.length;k++)if(vS(c,f[k],b))return!0;return!1}function Ue(c,f){e:for(let b=0;b<f.length;b++){const k=f[b];if(c.length===k.length){for(let Y=0;Y<c.length;Y++)if(c[Y]!==k[Y])continue e;return!0}}return!1}function nt(c,f){return c?":not("+f.trim()+")":f}function Ve(c){let f=c[0],b=1,k=2,Y="",ce=!1;for(;b<c.length;){let Ee=c[b];if("string"==typeof Ee)if(2&k){const Oe=c[++b];Y+="["+Ee+(Oe.length>0?'="'+Oe+'"':"")+"]"}else 8&k?Y+="."+Ee:4&k&&(Y+=" "+Ee);else""!==Y&&!Au(Ee)&&(f+=nt(ce,Y),Y=""),k=Ee,ce=ce||!Au(k);b++}return""!==Y&&(f+=nt(ce,Y)),f}function Vt(c){return Vo(()=>{const f=U0(c),b={...f,decls:c.decls,vars:c.vars,template:c.template,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,onPush:c.changeDetection===wc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:f.standalone&&c.dependencies||null,getStandaloneInjector:null,signals:c.signals??!1,data:c.data||{},encapsulation:c.encapsulation||qa.Emulated,styles:c.styles||ai,_:null,schemas:c.schemas||null,tView:null,id:""};wS(b);const k=c.dependencies;return b.directiveDefs=lm(k,!1),b.pipeDefs=lm(k,!0),b.id=function rL(c){let f=0;const b=[c.selectors,c.ngContentSelectors,c.hostVars,c.hostAttrs,c.consts,c.vars,c.decls,c.encapsulation,c.standalone,c.signals,c.exportAs,JSON.stringify(c.inputs),JSON.stringify(c.outputs),Object.getOwnPropertyNames(c.type.prototype),!!c.contentQueries,!!c.viewQuery].join("|");for(const Y of b)f=Math.imul(31,f)+Y.charCodeAt(0)|0;return f+=2147483648,"c"+f}(b),b})}function rn(c){return Gr(c)||es(c)}function Un(c){return null!==c}function Tn(c){return Vo(()=>({type:c.type,bootstrap:c.bootstrap||ai,declarations:c.declarations||ai,imports:c.imports||ai,exports:c.exports||ai,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null}))}function Tr(c,f){if(null==c)return Rn;const b={};for(const k in c)if(c.hasOwnProperty(k)){const Y=c[k];let ce,Ee,Oe=Qa.None;Array.isArray(Y)?(Oe=Y[0],ce=Y[1],Ee=Y[2]??ce):(ce=Y,Ee=Y),f?(b[ce]=Oe!==Qa.None?[k,Oe]:k,f[ce]=Ee):b[ce]=k}return b}function hi(c){return Vo(()=>{const f=U0(c);return wS(f),f})}function Oi(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,standalone:!0===c.standalone,onDestroy:c.type.prototype.ngOnDestroy||null}}function Gr(c){return c[Sa]||null}function es(c){return c[O0]||null}function ao(c){return c[im]||null}function Tl(c){const f=Gr(c)||es(c)||ao(c);return null!==f&&f.standalone}function Ts(c,f){const b=c[om]||null;if(!b&&!0===f)throw new Error(`Type ${gs(c)} does not have '\u0275mod' property.`);return b}function U0(c){const f={};return{type:c.type,providersResolver:null,factory:null,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:f,inputTransforms:null,inputConfig:c.inputs||Rn,exportAs:c.exportAs||null,standalone:!0===c.standalone,signals:!0===c.signals,selectors:c.selectors||ai,viewQuery:c.viewQuery||null,features:c.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tr(c.inputs,f),outputs:Tr(c.outputs),debugInfo:null}}function wS(c){c.features?.forEach(f=>f(c))}function lm(c,f){if(!c)return null;const b=f?ao:rn;return()=>("function"==typeof c?c():c).map(k=>b(k)).filter(Un)}function U1(c){return{\u0275providers:c}}function MP(...c){return{\u0275providers:dm(0,c),\u0275fromNgModule:!0}}function dm(c,...f){const b=[],k=new Set;let Y;const ce=Ee=>{b.push(Ee)};return Qo(f,Ee=>{const Oe=Ee;F1(Oe,ce,[],k)&&(Y||=[],Y.push(Oe))}),void 0!==Y&&AP(Y,ce),b}function AP(c,f){for(let b=0;b<c.length;b++){const{ngModule:k,providers:Y}=c[b];_S(Y,ce=>{f(ce,k)})}}function F1(c,f,b,k){if(!(c=si(c)))return!1;let Y=null,ce=Yc(c);const Ee=!ce&&Gr(c);if(ce||Ee){if(Ee&&!Ee.standalone)return!1;Y=c}else{const Ze=c.ngModule;if(ce=Yc(Ze),!ce)return!1;Y=Ze}const Oe=k.has(Y);if(Ee){if(Oe)return!1;if(k.add(Y),Ee.dependencies){const Ze="function"==typeof Ee.dependencies?Ee.dependencies():Ee.dependencies;for(const mt of Ze)F1(mt,f,b,k)}}else{if(!ce)return!1;{if(null!=ce.imports&&!Oe){let mt;k.add(Y);try{Qo(ce.imports,xt=>{F1(xt,f,b,k)&&(mt||=[],mt.push(xt))})}finally{}void 0!==mt&&AP(mt,f)}if(!Oe){const mt=Pf(Y)||(()=>new Y);f({provide:Y,useFactory:mt,deps:ai},Y),f({provide:Ho,useValue:Y,multi:!0},Y),f({provide:Ri,useValue:()=>_i(Y),multi:!0},Y)}const Ze=ce.providers;if(null!=Ze&&!Oe){const mt=c;_S(Ze,xt=>{f(xt,mt)})}}}return Y!==c&&void 0!==c.providers}function _S(c,f){for(let b of c)yh(b)&&(b=b.\u0275providers),Array.isArray(b)?_S(b,f):f(b)}const TP=Eo({provide:String,useValue:Eo});function ES(c){return null!==c&&"object"==typeof c&&TP in c}function F0(c){return"function"==typeof c}const j1=new ki(""),K1={},$1={};let j0;function V1(){return void 0===j0&&(j0=new Ad),j0}class ef{}class Aa extends ef{get destroyed(){return this._destroyed}constructor(f,b,k,Y){super(),this.parent=b,this.source=k,this.scopes=Y,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,SS(f,Ee=>this.processProvider(Ee)),this.records.set(Yi,K0(void 0,this)),Y.has("environment")&&this.records.set(ef,K0(void 0,this));const ce=this.records.get(j1);null!=ce&&"string"==typeof ce.value&&this.scopes.add(ce.value),this.injectorDefTypes=new Set(this.get(Ho,ai,Zi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const f=B(null);try{for(const k of this._ngOnDestroyHooks)k.ngOnDestroy();const b=this._onDestroyHooks;this._onDestroyHooks=[];for(const k of b)k()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),B(f)}}onDestroy(f){return this.assertNotDestroyed(),this._onDestroyHooks.push(f),()=>this.removeOnDestroy(f)}runInContext(f){this.assertNotDestroyed();const b=Ir(this),k=Ja(void 0);try{return f()}finally{Ir(b),Ja(k)}}get(f,b=wp,k=Zi.Default){if(this.assertNotDestroyed(),f.hasOwnProperty(bp))return f[bp](this);k=Zo(k);const ce=Ir(this),Ee=Ja(void 0);try{if(!(k&Zi.SkipSelf)){let Ze=this.records.get(f);if(void 0===Ze){const mt=function RP(c){return"function"==typeof c||"object"==typeof c&&c instanceof ki}(f)&&Zu(f);Ze=mt&&this.injectableDefInScope(mt)?K0(xS(f),K1):null,this.records.set(f,Ze)}if(null!=Ze)return this.hydrate(f,Ze)}return(k&Zi.Self?V1():this.parent).get(f,b=k&Zi.Optional&&b===wp?null:b)}catch(Oe){if("NullInjectorError"===Oe.name){if((Oe[Ye]=Oe[Ye]||[]).unshift(gs(f)),ce)throw Oe;return function Xs(c,f,b,k){const Y=c[Ye];throw f[nn]&&Y.unshift(f[nn]),c.message=function kf(c,f,b,k=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.slice(2):c;let Y=gs(f);if(Array.isArray(f))Y=f.map(gs).join(" -> ");else if("object"==typeof f){let ce=[];for(let Ee in f)if(f.hasOwnProperty(Ee)){let Oe=f[Ee];ce.push(Ee+":"+("string"==typeof Oe?JSON.stringify(Oe):gs(Oe)))}Y=`{${ce.join(", ")}}`}return`${b}${k?"("+k+")":""}[${Y}]: ${c.replace(ht,"\n  ")}`}("\n"+c.message,Y,b,k),c.ngTokenPath=Y,c[Ye]=null,c}(Oe,f,"R3InjectorError",this.source)}throw Oe}finally{Ja(Ee),Ir(ce)}}resolveInjectorInitializers(){const f=B(null),b=Ir(this),k=Ja(void 0);try{const ce=this.get(Ri,ai,Zi.Self);for(const Ee of ce)Ee()}finally{Ir(b),Ja(k),B(f)}}toString(){const f=[],b=this.records;for(const k of b.keys())f.push(gs(k));return`R3Injector[${f.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xr(205,!1)}processProvider(f){let b=F0(f=si(f))?f:si(f&&f.provide);const k=function CP(c){return ES(c)?K0(void 0,c.useValue):K0(FD(c),K1)}(f);if(!F0(f)&&!0===f.multi){let Y=this.records.get(b);Y||(Y=K0(void 0,K1,!0),Y.factory=()=>Wi(Y.multi),this.records.set(b,Y)),b=f,Y.multi.push(f)}this.records.set(b,k)}hydrate(f,b){const k=B(null);try{return b.value===K1&&(b.value=$1,b.value=b.factory()),"object"==typeof b.value&&b.value&&function PP(c){return null!==c&&"object"==typeof c&&"function"==typeof c.ngOnDestroy}(b.value)&&this._ngOnDestroyHooks.add(b.value),b.value}finally{B(k)}}injectableDefInScope(f){if(!f.providedIn)return!1;const b=si(f.providedIn);return"string"==typeof b?"any"===b||this.scopes.has(b):this.injectorDefTypes.has(b)}removeOnDestroy(f){const b=this._onDestroyHooks.indexOf(f);-1!==b&&this._onDestroyHooks.splice(b,1)}}function xS(c){const f=Zu(c),b=null!==f?f.factory:Pf(c);if(null!==b)return b;if(c instanceof ki)throw new xr(204,!1);if(c instanceof Function)return function DP(c){if(c.length>0)throw new xr(204,!1);const b=function Yl(c){return c&&(c[yp]||c[su])||null}(c);return null!==b?()=>b.factory(c):()=>new c}(c);throw new xr(204,!1)}function FD(c,f,b){let k;if(F0(c)){const Y=si(c);return Pf(Y)||xS(Y)}if(ES(c))k=()=>si(c.useValue);else if(function UD(c){return!(!c||!c.useFactory)}(c))k=()=>c.useFactory(...Wi(c.deps||[]));else if(function LD(c){return!(!c||!c.useExisting)}(c))k=()=>_i(si(c.useExisting));else{const Y=si(c&&(c.useClass||c.provide));if(!function kP(c){return!!c.deps}(c))return Pf(Y)||xS(Y);k=()=>new Y(...Wi(c.deps))}return k}function K0(c,f,b=!1){return{factory:c,value:f,multi:b?[]:void 0}}function SS(c,f){for(const b of c)Array.isArray(b)?SS(b,f):b&&yh(b)?SS(b.\u0275providers,f):f(b)}function jD(c,f){c instanceof Aa&&c.assertNotDestroyed();const k=Ir(c),Y=Ja(void 0);try{return f()}finally{Ir(k),Ja(Y)}}function wg(){return void 0!==am()||null!=function Jn(){return Dn}()}function z1(c){if(!wg())throw new xr(-203,!1)}const da=0,gr=1,pi=2,ec=3,Rf=4,Il=5,Id=6,Eg=7,js=8,tc=9,wh=10,ji=11,Cb=12,AS=13,xg=14,ua=15,$0=16,V0=17,Ep=18,Sg=19,TS=20,_h=21,W1=22,tf=23,ri=25,IS=1,Eh=7,Mg=9,Na=10;var Z1=function(c){return c[c.None=0]="None",c[c.HasTransplantedViews=2]="HasTransplantedViews",c}(Z1||{});function Jc(c){return Array.isArray(c)&&"object"==typeof c[IS]}function ql(c){return Array.isArray(c)&&!0===c[IS]}function Ag(c){return!!(4&c.flags)}function xp(c){return c.componentOffset>-1}function z0(c){return!(1&~c.flags)}function lu(c){return!!c.template}function um(c){return!!(512&c[pi])}class HD{constructor(f,b,k){this.previousValue=f,this.currentValue=b,this.firstChange=k}isFirstChange(){return this.firstChange}}function WD(c,f,b,k){null!==f?f.applyValueToInputSignal(f,k):c[b]=k}function J1(){return ZP}function ZP(c){return c.type.prototype.ngOnChanges&&(c.setInput=fm),hL}function hL(){const c=CS(this),f=c?.current;if(f){const b=c.previous;if(b===Rn)c.previous=f;else for(let k in f)b[k]=f[k];c.current=null,this.ngOnChanges(f)}}function fm(c,f,b,k,Y){const ce=this.declaredInputs[k],Ee=CS(c)||function GD(c,f){return c[hm]=f}(c,{previous:Rn,current:null}),Oe=Ee.current||(Ee.current={}),Ze=Ee.previous,mt=Ze[ce];Oe[ce]=new HD(mt&&mt.currentValue,b,Ze===Rn),WD(c,f,Y,b)}J1.ngInherit=!0;const hm="__ngSimpleChanges__";function CS(c){return c[hm]||null}const Of=function(c,f,b){},q1="svg";function Io(c){for(;Array.isArray(c);)c=c[da];return c}function Dd(c,f){return Io(f[c])}function Qc(c,f){return Io(f[c.index])}function Ob(c,f){return c.data[f]}function H0(c,f){return c[f]}function xo(c,f){const b=f[c];return Jc(b)?b:b[da]}function W0(c){return!(128&~c[pi])}function du(c,f){return null==f?null:c[f]}function RS(c){c[V0]=0}function Bb(c){1024&c[pi]||(c[pi]|=1024,W0(c)&&Bf(c))}function Nb(c){return!!(9216&c[pi]||c[tf]?.dirty)}function XD(c){c[wh].changeDetectionScheduler?.notify(7),64&c[pi]&&(c[pi]|=1024),Nb(c)&&Bf(c)}function Bf(c){c[wh].changeDetectionScheduler?.notify(0);let f=uu(c);for(;null!==f&&!(8192&f[pi])&&(f[pi]|=8192,W0(f));)f=uu(f)}function Lb(c,f){if(!(256&~c[pi]))throw new xr(911,!1);null===c[_h]&&(c[_h]=[]),c[_h].push(f)}function uu(c){const f=c[ec];return ql(f)?f[ec]:f}const Bi={lFrame:r3(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let JD=!1;function Yo(){return Bi.bindingsEnabled}function Is(){return null!==Bi.skipHydrationRootTNode}function Xn(){return Bi.lFrame.lView}function co(){return Bi.lFrame.tView}function Z0(c){return Bi.lFrame.contextLView=c,c[js]}function qD(c){return Bi.lFrame.contextLView=null,c}function Ki(){let c=JP();for(;null!==c&&64===c.type;)c=c.parent;return c}function JP(){return Bi.lFrame.currentTNode}function xh(){const c=Bi.lFrame,f=c.currentTNode;return c.isParent?f:f.parent}function nc(c,f){const b=Bi.lFrame;b.currentTNode=c,b.isParent=f}function QD(){return Bi.lFrame.isParent}function Q1(){Bi.lFrame.isParent=!1}function Ec(){return JD}function e3(c){JD=c}function Cd(){const c=Bi.lFrame;let f=c.bindingRootIndex;return-1===f&&(f=c.bindingRootIndex=c.tView.bindingStartIndex),f}function Nf(){return Bi.lFrame.bindingIndex++}function Lf(c){const f=Bi.lFrame,b=f.bindingIndex;return f.bindingIndex=f.bindingIndex+c,b}function LS(c){Bi.lFrame.inI18n=c}function wL(c,f){const b=Bi.lFrame;b.bindingIndex=b.bindingRootIndex=c,Kr(f)}function Kr(c){Bi.lFrame.currentDirectiveIndex=c}function ts(c){const f=Bi.lFrame.currentDirectiveIndex;return-1===f?null:c[f]}function US(){return Bi.lFrame.currentQueryIndex}function Fb(c){Bi.lFrame.currentQueryIndex=c}function Ql(c){const f=c[gr];return 2===f.type?f.declTNode:1===f.type?c[Il]:null}function t3(c,f,b){if(b&Zi.SkipSelf){let Y=f,ce=c;for(;!(Y=Y.parent,null!==Y||b&Zi.Host||(Y=Ql(ce),null===Y||(ce=ce[xg],10&Y.type))););if(null===Y)return!1;f=Y,c=ce}const k=Bi.lFrame=mm();return k.currentTNode=f,k.lView=c,!0}function n3(c){const f=mm(),b=c[gr];Bi.lFrame=f,f.currentTNode=b.firstChild,f.lView=c,f.tView=b,f.contextLView=c,f.bindingIndex=b.bindingStartIndex,f.inI18n=!1}function mm(){const c=Bi.lFrame,f=null===c?null:c.child;return null===f?r3(c):f}function r3(c){const f={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=f),f}function i3(){const c=Bi.lFrame;return Bi.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const o3=i3;function s3(){const c=i3();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function Dl(){return Bi.lFrame.selectedIndex}function va(c){Bi.lFrame.selectedIndex=c}function Ks(){const c=Bi.lFrame;return Ob(c.tView,c.selectedIndex)}function a3(){Bi.lFrame.currentNamespace=q1}function nf(){!function eR(){Bi.lFrame.currentNamespace=null}()}let $s=!0;function Kb(){return $s}function Uf(c){$s=c}function e2(c,f){for(let b=f.directiveStart,k=f.directiveEnd;b<k;b++){const ce=c.data[b].type.prototype,{ngAfterContentInit:Ee,ngAfterContentChecked:Oe,ngAfterViewInit:Ze,ngAfterViewChecked:mt,ngOnDestroy:xt}=ce;Ee&&(c.contentHooks??=[]).push(-b,Ee),Oe&&((c.contentHooks??=[]).push(b,Oe),(c.contentCheckHooks??=[]).push(b,Oe)),Ze&&(c.viewHooks??=[]).push(-b,Ze),mt&&((c.viewHooks??=[]).push(b,mt),(c.viewCheckHooks??=[]).push(b,mt)),null!=xt&&(c.destroyHooks??=[]).push(b,xt)}}function $b(c,f,b){KS(c,f,3,b)}function rc(c,f,b,k){(3&c[pi])===b&&KS(c,f,b,k)}function jS(c,f){let b=c[pi];(3&b)===f&&(b&=16383,b+=1,c[pi]=b)}function KS(c,f,b,k){const ce=k??-1,Ee=f.length-1;let Oe=0;for(let Ze=void 0!==k?65535&c[V0]:0;Ze<Ee;Ze++)if("number"==typeof f[Ze+1]){if(Oe=f[Ze],null!=k&&Oe>=k)break}else f[Ze]<0&&(c[V0]+=65536),(Oe<ce||-1==ce)&&(tR(c,b,f,Ze),c[V0]=(4294901760&c[V0])+Ze+2),Ze++}function Cl(c,f){Of(4,c,f);const b=B(null);try{f.call(c)}finally{B(b),Of(5,c,f)}}function tR(c,f,b,k){const Y=b[k]<0,ce=b[k+1],Oe=c[Y?-b[k]:b[k]];Y?c[pi]>>14<c[V0]>>16&&(3&c[pi])===f&&(c[pi]+=16384,Cl(Oe,ce)):Cl(Oe,ce)}const ic=-1;class Vb{constructor(f,b,k){this.factory=f,this.resolving=!1,this.canSeeViewProviders=b,this.injectImpl=k}}const l3={};class Ig{constructor(f,b){this.injector=f,this.parentInjector=b}get(f,b,k){k=Zo(k);const Y=this.injector.get(f,l3,k);return Y!==l3||b===l3?Y:this.parentInjector.get(f,b,k)}}function d3(c){return c!==ic}function t2(c){return 32767&c}function n2(c,f){let b=function xL(c){return c>>16}(c),k=f;for(;b>0;)k=k[xg],b--;return k}let Sp=!0;function Sc(c){const f=Sp;return Sp=c,f}const rR=255,ym=5;let Iu=0;const Ah={};function Th(c,f){const b=iR(c,f);if(-1!==b)return b;const k=f[gr];k.firstCreatePass&&(c.injectorIndex=f.length,VS(k.data,c),VS(f,null),VS(k.blueprint,null));const Y=gm(c,f),ce=c.injectorIndex;if(d3(Y)){const Ee=t2(Y),Oe=n2(Y,f),Ze=Oe[gr].data;for(let mt=0;mt<8;mt++)f[ce+mt]=Oe[Ee+mt]|Ze[Ee+mt]}return f[ce+8]=Y,ce}function VS(c,f){c.push(0,0,0,0,0,0,0,0,f)}function iR(c,f){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===f[c.injectorIndex+8]?-1:c.injectorIndex}function gm(c,f){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let b=0,k=null,Y=f;for(;null!==Y;){if(k=ZS(Y),null===k)return ic;if(b++,Y=Y[xg],-1!==k.injectorIndex)return k.injectorIndex|b<<16}return ic}function zS(c,f,b){!function AL(c,f,b){let k;"string"==typeof b?k=b.charCodeAt(0)||0:b.hasOwnProperty(sm)&&(k=b[sm]),null==k&&(k=b[sm]=Iu++);const Y=k&rR;f.data[c+(Y>>ym)]|=1<<Y}(c,f,b)}function Dg(c,f,b){if(b&Zi.Optional||void 0!==c)return c;gh()}function u3(c,f,b,k){if(b&Zi.Optional&&void 0===k&&(k=null),!(b&(Zi.Self|Zi.Host))){const Y=c[tc],ce=Ja(void 0);try{return Y?Y.get(f,k,b&Zi.Optional):vh(f,k,b&Zi.Optional)}finally{Ja(ce)}}return Dg(k,0,b)}function oR(c,f,b,k=Zi.Default,Y){if(null!==c){if(2048&f[pi]&&!(k&Zi.Self)){const Ee=function cR(c,f,b,k,Y){let ce=c,Ee=f;for(;null!==ce&&null!==Ee&&2048&Ee[pi]&&!(512&Ee[pi]);){const Oe=HS(ce,Ee,b,k|Zi.Self,Ah);if(Oe!==Ah)return Oe;let Ze=ce.parent;if(!Ze){const mt=Ee[TS];if(mt){const xt=mt.get(b,Ah,k);if(xt!==Ah)return xt}Ze=ZS(Ee),Ee=Ee[xg]}ce=Ze}return Y}(c,f,b,k,Ah);if(Ee!==Ah)return Ee}const ce=HS(c,f,b,k,Ah);if(ce!==Ah)return ce}return u3(f,b,k,Y)}function HS(c,f,b,k,Y){const ce=function sR(c){if("string"==typeof c)return c.charCodeAt(0)||0;const f=c.hasOwnProperty(sm)?c[sm]:void 0;return"number"==typeof f?f>=0?f&rR:aR:f}(b);if("function"==typeof ce){if(!t3(f,c,k))return k&Zi.Host?Dg(Y,0,k):u3(f,b,k,Y);try{let Ee;if(Ee=ce(k),null!=Ee||k&Zi.Optional)return Ee;gh()}finally{o3()}}else if("number"==typeof ce){let Ee=null,Oe=iR(c,f),Ze=ic,mt=k&Zi.Host?f[ua][Il]:null;for((-1===Oe||k&Zi.SkipSelf)&&(Ze=-1===Oe?gm(c,f):f[Oe+8],Ze!==ic&&r2(k,!1)?(Ee=f[gr],Oe=t2(Ze),f=n2(Ze,f)):Oe=-1);-1!==Oe;){const xt=f[gr];if(WS(ce,Oe,xt.data)){const Ht=Cg(Oe,f,b,Ee,k,mt);if(Ht!==Ah)return Ht}Ze=f[Oe+8],Ze!==ic&&r2(k,f[gr].data[Oe+8]===mt)&&WS(ce,Oe,f)?(Ee=xt,Oe=t2(Ze),f=n2(Ze,f)):Oe=-1}}return Y}function Cg(c,f,b,k,Y,ce){const Ee=f[gr],Oe=Ee.data[c+8],xt=zb(Oe,Ee,b,null==k?xp(Oe)&&Sp:k!=Ee&&!!(3&Oe.type),Y&Zi.Host&&ce===Oe);return null!==xt?Y0(f,Ee,xt,Oe):Ah}function zb(c,f,b,k,Y){const ce=c.providerIndexes,Ee=f.data,Oe=1048575&ce,Ze=c.directiveStart,xt=ce>>20,ln=Y?Oe+xt:c.directiveEnd;for(let mn=k?Oe:Oe+xt;mn<ln;mn++){const In=Ee[mn];if(mn<Ze&&b===In||mn>=Ze&&In.type===b)return mn}if(Y){const mn=Ee[Ze];if(mn&&lu(mn)&&mn.type===b)return Ze}return null}function Y0(c,f,b,k){let Y=c[b];const ce=f.data;if(function Mh(c){return c instanceof Vb}(Y)){const Ee=Y;Ee.resolving&&function N0(c,f){throw f&&f.join(" > "),new xr(-200,c)}(function qi(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():Pi(c)}(ce[b]));const Oe=Sc(Ee.canSeeViewProviders);Ee.resolving=!0;const mt=Ee.injectImpl?Ja(Ee.injectImpl):null;t3(c,k,Zi.Default);try{Y=c[b]=Ee.factory(void 0,ce,c,k),f.firstCreatePass&&b>=k.directiveStart&&function ba(c,f,b){const{ngOnChanges:k,ngOnInit:Y,ngDoCheck:ce}=f.type.prototype;if(k){const Ee=ZP(f);(b.preOrderHooks??=[]).push(c,Ee),(b.preOrderCheckHooks??=[]).push(c,Ee)}Y&&(b.preOrderHooks??=[]).push(0-c,Y),ce&&((b.preOrderHooks??=[]).push(c,ce),(b.preOrderCheckHooks??=[]).push(c,ce))}(b,ce[b],f)}finally{null!==mt&&Ja(mt),Sc(Oe),Ee.resolving=!1,o3()}}return Y}function WS(c,f,b){return!!(b[f+(c>>ym)]&1<<c)}function r2(c,f){return!(c&Zi.Self||c&Zi.Host&&f)}class Mc{constructor(f,b){this._tNode=f,this._lView=b}get(f,b,k){return oR(this._tNode,this._lView,f,Zo(k),b)}}function aR(){return new Mc(Ki(),Xn())}function GS(c){return Vo(()=>{const f=c.prototype.constructor,b=f[Su]||el(f),k=Object.prototype;let Y=Object.getPrototypeOf(c.prototype).constructor;for(;Y&&Y!==k;){const ce=Y[Su]||el(Y);if(ce&&ce!==b)return ce;Y=Object.getPrototypeOf(Y)}return ce=>new ce})}function el(c){return Ya(c)?()=>{const f=el(si(c));return f&&f()}:Pf(c)}function ZS(c){const f=c[gr],b=f.type;return 2===b?f.declTNode:1===b?c[Il]:null}function qs(c){return function TL(c,f){if("class"===f)return c.classes;if("style"===f)return c.styles;const b=c.attrs;if(b){const k=b.length;let Y=0;for(;Y<k;){const ce=b[Y];if(qu(ce))break;if(0===ce)Y+=2;else if("number"==typeof ce)for(Y++;Y<k&&"string"==typeof b[Y];)Y++;else{if(ce===f)return b[Y+1];Y+=2}}}return null}(Ki(),c)}function s2(c,f=null,b=null,k){const Y=rf(c,f,b,k);return Y.resolveInjectorInitializers(),Y}function rf(c,f=null,b=null,k,Y=new Set){const ce=[b||ai,MP(c)];return k=k||("object"==typeof c?void 0:gs(c)),new Aa(ce,f||V1(),k||null,Y)}class Ac{static#e=this.THROW_IF_NOT_FOUND=wp;static#t=this.NULL=new Ad;static create(f,b){if(Array.isArray(f))return s2({name:""},b,f,"");{const k=f.name??"";return s2({name:k},f.parent,f.providers,k)}}static#n=this.\u0275prov=Do({token:Ac,providedIn:"any",factory:()=>_i(Yi)});static#f=this.__NG_ELEMENT_ID__=-1}new ki("").__NG_ELEMENT_ID__=c=>{const f=Ki();if(null===f)throw new xr(204,!1);if(2&f.type)return f.value;if(c&Zi.Optional)return null;throw new xr(204,!1)};function ci(c){return c.ngOriginalError}class td{constructor(){this._console=console}handleError(f){const b=this._findOriginalError(f);this._console.error("ERROR",f),b&&this._console.error("ORIGINAL ERROR",b)}_findOriginalError(f){let b=f&&ci(f);for(;b&&ci(b);)b=ci(b);return b||null}}const m3=new ki("",{providedIn:"root",factory:()=>cr(td).handleError.bind(void 0)});let Wb=(()=>{class c{static#e=this.__NG_ELEMENT_ID__=y3;static#t=this.__NG_ENV_ID__=b=>b}return c})();class a2 extends Wb{constructor(f){super(),this._lView=f}onDestroy(f){return Lb(this._lView,f),()=>function Tg(c,f){if(null===c[_h])return;const b=c[_h].indexOf(f);-1!==b&&c[_h].splice(b,1)}(this._lView,f)}}function y3(){return new a2(Xn())}class g3{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=cr(td,{optional:!0}),this.destroyRef=cr(Wb),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(f){if(this.destroyed)throw new xr(953,!1);return(this.listeners??=[]).push(f),{unsubscribe:()=>{const b=this.listeners?.indexOf(f);void 0!==b&&-1!==b&&this.listeners?.splice(b,1)}}}emit(f){if(this.destroyed)throw new xr(953,!1);if(null===this.listeners)return;const b=B(null);try{for(const k of this.listeners)try{k(f)}catch(Y){this.errorHandler?.handleError(Y)}}finally{B(b)}}}function c2(c,f){return nu(c,f)}const pR=(c2.required=function hR(c){return nu(vc,c)},c2);function RL(){return Gb(Ki(),Xn())}function Gb(c,f){return new l2(Qc(c,f))}let l2=(()=>{class c{constructor(b){this.nativeElement=b}static#e=this.__NG_ELEMENT_ID__=RL}return c})();function v3(c){return c instanceof l2?c.nativeElement:c}let bm=(()=>{class c{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xe.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const b=this.taskId++;return this.pendingTasks.add(b),b}remove(b){this.pendingTasks.delete(b),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Do({token:c,providedIn:"root",factory:()=>new c})}return c})();const Ih=class b3 extends le.B{constructor(f=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=f,wg()&&(this.destroyRef=cr(Wb,{optional:!0})??void 0,this.pendingTasks=cr(bm,{optional:!0})??void 0)}emit(f){const b=B(null);try{super.next(f)}finally{B(b)}}subscribe(f,b,k){let Y=f,ce=b||(()=>null),Ee=k;if(f&&"object"==typeof f){const Ze=f;Y=Ze.next?.bind(Ze),ce=Ze.error?.bind(Ze),Ee=Ze.complete?.bind(Ze)}this.__isAsync&&(ce=this.wrapInTimeout(ce),Y&&(Y=this.wrapInTimeout(Y)),Ee&&(Ee=this.wrapInTimeout(Ee)));const Oe=super.subscribe({next:Y,error:ce,complete:Ee});return f instanceof he.yU&&f.add(Oe),Oe}wrapInTimeout(f){return b=>{const k=this.pendingTasks?.add();setTimeout(()=>{f(b),void 0!==k&&this.pendingTasks?.remove(k)})}}};function yR(){return this._results[Symbol.iterator]()}class Zb{static#e=Symbol.iterator;get changes(){return this._changes??=new Ih}constructor(f=!1){this._emitDistinctChangesOnly=f,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const b=Zb.prototype;b[Symbol.iterator]||(b[Symbol.iterator]=yR)}get(f){return this._results[f]}map(f){return this._results.map(f)}filter(f){return this._results.filter(f)}find(f){return this._results.find(f)}reduce(f,b){return this._results.reduce(f,b)}forEach(f){this._results.forEach(f)}some(f){return this._results.some(f)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(f,b){this.dirty=!1;const k=function Ma(c){return c.flat(Number.POSITIVE_INFINITY)}(f);(this._changesDetected=!function yS(c,f,b){if(c.length!==f.length)return!1;for(let k=0;k<c.length;k++){let Y=c[k],ce=f[k];if(b&&(Y=b(Y),ce=b(ce)),ce!==Y)return!1}return!0}(this._results,k,b))&&(this._results=k,this.length=k.length,this.last=k[this.length-1],this.first=k[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(f){this._onDirty=f}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function oc(c){return!(128&~c.flags)}const Mp=new Map;let J0=0;const d2="__ngContext__";function kl(c,f){Jc(f)?(c[d2]=f[Sg],function gR(c){Mp.set(c[Sg],c)}(f)):c[d2]=f}function A3(c){return I3(c[Cb])}function T3(c){return I3(c[Rf])}function I3(c){for(;null!==c&&!ql(c);)c=c[Rf];return c}let qb;function PR(c){qb=c}function wm(){if(void 0!==qb)return qb;if(typeof document<"u")return document;throw new xr(210,!1)}const m2=new ki("",{providedIn:"root",factory:()=>RR}),RR="ng",O3=new ki(""),Qb=new ki("",{providedIn:"platform",factory:()=>"unknown"}),OR=new ki(""),BR=new ki("",{providedIn:"root",factory:()=>wm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let N3=()=>null;function nw(c,f,b=!1){return N3(c,f,b)}const VR=new ki("",{providedIn:"root",factory:()=>!1});let eM,w2;function Fg(c){return function z3(){if(void 0===eM&&(eM=null,ss.trustedTypes))try{eM=ss.trustedTypes.createPolicy("angular",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return eM}()?.createHTML(c)||c}function _2(){if(void 0===w2&&(w2=null,ss.trustedTypes))try{w2=ss.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return w2}function tM(c){return _2()?.createHTML(c)||c}function W3(c){return _2()?.createScriptURL(c)||c}class Rd{constructor(f){this.changingThisBreaksApplicationSecurity=f}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${El})`}}class E2 extends Rd{getTypeName(){return"HTML"}}class jL extends Rd{getTypeName(){return"Style"}}class KL extends Rd{getTypeName(){return"Script"}}class $L extends Rd{getTypeName(){return"URL"}}class VL extends Rd{getTypeName(){return"ResourceURL"}}function Mm(c){return c instanceof Rd?c.changingThisBreaksApplicationSecurity:c}function aw(c,f){const b=function zL(c){return c instanceof Rd&&c.getTypeName()||null}(c);if(null!=b&&b!==f){if("ResourceURL"===b&&"URL"===f)return!0;throw new Error(`Required a safe ${f}, got a ${b} (see ${El})`)}return b===f}function HL(c){return new E2(c)}function Am(c){return new jL(c)}function WL(c){return new KL(c)}function YR(c){return new $L(c)}function G3(c){return new VL(c)}function Z3(c){const f=new JR(c);return function Y3(){try{return!!(new window.DOMParser).parseFromString(Fg(""),"text/html")}catch{return!1}}()?new XR(f):f}class XR{constructor(f){this.inertDocumentHelper=f}getInertBodyElement(f){f="<body><remove></remove>"+f;try{const b=(new window.DOMParser).parseFromString(Fg(f),"text/html").body;return null===b?this.inertDocumentHelper.getInertBodyElement(f):(b.removeChild(b.firstChild),b)}catch{return null}}}class JR{constructor(f){this.defaultDoc=f,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(f){const b=this.inertDocument.createElement("template");return b.innerHTML=Fg(f),b}}const qR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function x2(c){return(c=String(c)).match(qR)?c:"unsafe:"+c}function Ch(c){const f={};for(const b of c.split(","))f[b]=!0;return f}function ny(...c){const f={};for(const b of c)for(const k in b)b.hasOwnProperty(k)&&(f[k]=!0);return f}const X3=Ch("area,br,col,hr,img,wbr"),J3=Ch("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),q3=Ch("rp,rt"),nM=ny(X3,ny(J3,Ch("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ny(q3,Ch("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ny(q3,J3)),rM=Ch("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Q3=ny(rM,Ch("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ch("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),QR=Ch("script,style,template");class S2{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(f){let b=f.firstChild,k=!0,Y=[];for(;b;)if(b.nodeType===Node.ELEMENT_NODE?k=this.startElement(b):b.nodeType===Node.TEXT_NODE?this.chars(b.nodeValue):this.sanitizedSomething=!0,k&&b.firstChild)Y.push(b),b=A2(b);else for(;b;){b.nodeType===Node.ELEMENT_NODE&&this.endElement(b);let ce=M2(b);if(ce){b=ce;break}b=Y.pop()}return this.buf.join("")}startElement(f){const b=eC(f).toLowerCase();if(!nM.hasOwnProperty(b))return this.sanitizedSomething=!0,!QR.hasOwnProperty(b);this.buf.push("<"),this.buf.push(b);const k=f.attributes;for(let Y=0;Y<k.length;Y++){const ce=k.item(Y),Ee=ce.name,Oe=Ee.toLowerCase();if(!Q3.hasOwnProperty(Oe)){this.sanitizedSomething=!0;continue}let Ze=ce.value;rM[Oe]&&(Ze=x2(Ze)),this.buf.push(" ",Ee,'="',T2(Ze),'"')}return this.buf.push(">"),!0}endElement(f){const b=eC(f).toLowerCase();nM.hasOwnProperty(b)&&!X3.hasOwnProperty(b)&&(this.buf.push("</"),this.buf.push(b),this.buf.push(">"))}chars(f){this.buf.push(T2(f))}}function M2(c){const f=c.nextSibling;if(f&&c!==f.previousSibling)throw tC(f);return f}function A2(c){const f=c.firstChild;if(f&&function iM(c,f){return(c.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(c,f))throw tC(f);return f}function eC(c){const f=c.nodeName;return"string"==typeof f?f:"FORM"}function tC(c){return new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`)}const eO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oM=/([^\#-~ |!])/g;function T2(c){return c.replace(/&/g,"&amp;").replace(eO,function(f){return"&#"+(1024*(f.charCodeAt(0)-55296)+(f.charCodeAt(1)-56320)+65536)+";"}).replace(oM,function(f){return"&#"+f.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sM;function tO(c,f){let b=null;try{sM=sM||Z3(c);let k=f?String(f):"";b=sM.getInertBodyElement(k);let Y=5,ce=k;do{if(0===Y)throw new Error("Failed to sanitize html because the input is unstable");Y--,k=ce,ce=b.innerHTML,b=sM.getInertBodyElement(k)}while(k!==ce);return Fg((new S2).sanitizeChildren(I2(b)||b))}finally{if(b){const k=I2(b)||b;for(;k.firstChild;)k.removeChild(k.firstChild)}}}function I2(c){return"content"in c&&function aM(c){return c.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===c.nodeName}(c)?c.content:null}var Qs=function(c){return c[c.NONE=0]="NONE",c[c.HTML=1]="HTML",c[c.STYLE=2]="STYLE",c[c.SCRIPT=3]="SCRIPT",c[c.URL=4]="URL",c[c.RESOURCE_URL=5]="RESOURCE_URL",c}(Qs||{});function nC(c){const f=cw();return f?tM(f.sanitize(Qs.HTML,c)||""):aw(c,"HTML")?tM(Mm(c)):tO(wm(),Pi(c))}function cM(c){const f=cw();return f?f.sanitize(Qs.URL,c)||"":aw(c,"URL")?Mm(c):x2(Pi(c))}function jg(c){const f=cw();if(f)return W3(f.sanitize(Qs.RESOURCE_URL,c)||"");if(aw(c,"ResourceURL"))return W3(Mm(c));throw new xr(904,!1)}function oC(c,f,b){return function iC(c,f){return"src"===f&&("embed"===c||"frame"===c||"iframe"===c||"media"===c||"script"===c)||"href"===f&&("base"===c||"link"===c)?jg:cM}(f,b)(c)}function cw(){const c=Xn();return c&&c[wh].sanitizer}const oO=/^>|^->|<!--|-->|--!>|<!-$/g,sC=/(<|>)/g,sO="\u200b$1\u200b";function Cu(c){return c instanceof Function?c():c}function La(c){return"browser"===(c??cr(Ac)).get(Qb)}var oo=function(c){return c[c.Important=1]="Important",c[c.DashCase=2]="DashCase",c}(oo||{});let $g;function Vg(c,f){return $g(c,f)}function zg(c,f,b,k,Y){if(null!=k){let ce,Ee=!1;ql(k)?ce=k:Jc(k)&&(Ee=!0,k=k[da]);const Oe=Io(k);0===c&&null!==b?null==Y?mO(f,b,Oe):Hg(f,b,Oe,Y||null,!0):1===c&&null!==b?Hg(f,b,Oe,Y||null,!0):2===c?function Im(c,f,b){const k=B2(c,f);k&&function yO(c,f,b,k){c.removeChild(f,b,k)}(c,k,f,b)}(f,Oe,Ee):3===c&&f.destroyNode(Oe),null!=ce&&function sU(c,f,b,k,Y){const ce=b[Eh];ce!==Io(b)&&zg(f,c,k,ce,Y);for(let Oe=Na;Oe<b.length;Oe++){const Ze=b[Oe];gM(Ze[gr],Ze,c,f,k,ce)}}(f,c,ce,b,Y)}}function P2(c,f){return c.createText(f)}function hw(c,f){return c.createComment(function lw(c){return c.replace(oO,f=>f.replace(sC,sO))}(f))}function dM(c,f,b){return c.createElement(f,b)}function fM(c,f){f[wh].changeDetectionScheduler?.notify(8),gM(c,f,f[ji],2,null,null)}function Tm(c,f){const b=c[Mg],k=f[ec];(Jc(k)||f[ua]!==k[ec][ua])&&(c[pi]|=Z1.HasTransplantedViews),null===b?c[Mg]=[f]:b.push(f)}function hM(c,f){const b=c[Mg],k=b.indexOf(f);b.splice(k,1)}function pw(c,f){if(c.length<=Na)return;const b=Na+f,k=c[b];if(k){const Y=k[$0];null!==Y&&Y!==c&&hM(Y,k),f>0&&(c[b-1][Rf]=k[Rf]);const ce=tt(c,Na+f);!function uM(c,f){fM(c,f),f[da]=null,f[Il]=null}(k[gr],k);const Ee=ce[Ep];null!==Ee&&Ee.detachView(ce[gr]),k[ec]=null,k[Rf]=null,k[pi]&=-129}return k}function O2(c,f){if(!(256&f[pi])){const b=f[ji];b.destroyNode&&gM(c,f,b,3,null,null),function mC(c){let f=c[Cb];if(!f)return yC(c[gr],c);for(;f;){let b=null;if(Jc(f))b=f[Cb];else{const k=f[Na];k&&(b=k)}if(!b){for(;f&&!f[Rf]&&f!==c;)Jc(f)&&yC(f[gr],f),f=f[ec];null===f&&(f=c),Jc(f)&&yC(f[gr],f),b=f&&f[Rf]}f=b}}(f)}}function yC(c,f){if(256&f[pi])return;const b=B(null);try{f[pi]&=-129,f[pi]|=256,f[tf]&&se(f[tf]),function hO(c,f){let b;if(null!=c&&null!=(b=c.destroyHooks))for(let k=0;k<b.length;k+=2){const Y=f[b[k]];if(!(Y instanceof Vb)){const ce=b[k+1];if(Array.isArray(ce))for(let Ee=0;Ee<ce.length;Ee+=2){const Oe=Y[ce[Ee]],Ze=ce[Ee+1];Of(4,Oe,Ze);try{Ze.call(Oe)}finally{Of(5,Oe,Ze)}}else{Of(4,Y,ce);try{ce.call(Y)}finally{Of(5,Y,ce)}}}}}(c,f),function rU(c,f){const b=c.cleanup,k=f[Eg];if(null!==b)for(let ce=0;ce<b.length-1;ce+=2)if("string"==typeof b[ce]){const Ee=b[ce+3];Ee>=0?k[Ee]():k[-Ee].unsubscribe(),ce+=2}else b[ce].call(k[b[ce+1]]);null!==k&&(f[Eg]=null);const Y=f[_h];if(null!==Y){f[_h]=null;for(let ce=0;ce<Y.length;ce++)(0,Y[ce])()}}(c,f),1===f[gr].type&&f[ji].destroy();const k=f[$0];if(null!==k&&ql(f[ec])){k!==f[ec]&&hM(k,f);const Y=f[Ep];null!==Y&&Y.detachView(c)}!function vR(c){Mp.delete(c[Sg])}(f)}finally{B(b)}}function mw(c,f,b){return pO(c,f.parent,b)}function pO(c,f,b){let k=f;for(;null!==k&&168&k.type;)k=(f=k).parent;if(null===k)return b[da];{const{componentOffset:Y}=k;if(Y>-1){const{encapsulation:ce}=c.data[k.directiveStart+Y];if(ce===qa.None||ce===qa.Emulated)return null}return Qc(k,b)}}function Hg(c,f,b,k,Y){c.insertBefore(f,b,k,Y)}function mO(c,f,b){c.appendChild(f,b)}function gC(c,f,b,k,Y){null!==k?Hg(c,f,b,k,Y):mO(c,f,b)}function B2(c,f){return c.parentNode(f)}function vC(c,f,b){return pM(c,f,b)}function bC(c,f,b){return 40&c.type?Qc(c,b):null}let mM,pM=bC;function yM(c,f){pM=c,mM=f}function yw(c,f,b,k){const Y=mw(c,k,f),ce=f[ji],Oe=vC(k.parent||f[Il],k,f);if(null!=Y)if(Array.isArray(b))for(let Ze=0;Ze<b.length;Ze++)gC(ce,Y,b[Ze],Oe,!1);else gC(ce,Y,b,Oe,!1);void 0!==mM&&mM(ce,k,f,b,Y)}function Wg(c,f){if(null!==f){const b=f.type;if(3&b)return Qc(f,c);if(4&b)return jf(-1,c[f.index]);if(8&b){const k=f.child;if(null!==k)return Wg(c,k);{const Y=c[f.index];return ql(Y)?jf(-1,Y):Io(Y)}}if(32&b)return Vg(f,c)()||Io(c[f.index]);{const k=wC(c,f);return null!==k?Array.isArray(k)?k[0]:Wg(uu(c[ua]),k):Wg(c,f.next)}}return null}function wC(c,f){return null!==f?c[ua][Il].projection[f.projection]:null}function jf(c,f){const b=Na+c+1;if(b<f.length){const k=f[b],Y=k[gr].firstChild;if(null!==Y)return Wg(k,Y)}return f[Eh]}function _C(c,f,b,k,Y,ce,Ee){for(;null!=b;){if(128===b.type){b=b.next;continue}const Oe=k[b.index],Ze=b.type;if(Ee&&0===f&&(Oe&&kl(Io(Oe),k),b.flags|=2),32&~b.flags)if(8&Ze)_C(c,f,b.child,k,Y,ce,!1),zg(f,c,Y,Oe,ce);else if(32&Ze){const mt=Vg(b,k);let xt;for(;xt=mt();)zg(f,c,Y,xt,ce);zg(f,c,Y,Oe,ce)}else 16&Ze?bO(c,f,k,b,Y,ce):zg(f,c,Y,Oe,ce);b=Ee?b.projectionNext:b.next}}function gM(c,f,b,k,Y,ce){_C(b,k,c.firstChild,f,Y,ce,!1)}function bO(c,f,b,k,Y,ce){const Ee=b[ua],Ze=Ee[Il].projection[k.projection];if(Array.isArray(Ze))for(let mt=0;mt<Ze.length;mt++)zg(f,c,Y,Ze[mt],ce);else{let mt=Ze;const xt=Ee[ec];oc(k)&&(mt.flags|=128),_C(c,f,mt,xt,Y,ce,!0)}}function Ap(c,f,b){""===b?c.removeAttribute(f,"class"):c.setAttribute(f,"class",b)}function wO(c,f,b){const{mergedAttrs:k,classes:Y,styles:ce}=b;null!==k&&Al(c,f,k),null!==Y&&Ap(c,f,Y),null!==ce&&function cU(c,f,b){c.setAttribute(f,"style",b)}(c,f,ce)}const Xi={};function vM(c=1){EC(co(),Xn(),Dl()+c,!1)}function EC(c,f,b,k){if(!k)if(3&~f[pi]){const ce=c.preOrderHooks;null!==ce&&rc(f,ce,0,b)}else{const ce=c.preOrderCheckHooks;null!==ce&&$b(f,ce,b)}va(b)}function Gg(c,f=Zi.Default){const b=Xn();return null===b?_i(c,f):oR(Ki(),b,si(c),f)}function xC(){throw new Error("invalid")}function bM(c,f,b,k,Y,ce){const Ee=B(null);try{let Oe=null;Y&Qa.SignalBased&&(Oe=f[k][x]),null!==Oe&&void 0!==Oe.transformFn&&(ce=Oe.transformFn(ce)),Y&Qa.HasDecoratorInputTransform&&(ce=c.inputTransforms[k].call(f,ce)),null!==c.setInput?c.setInput(f,Oe,ce,b,k):WD(f,Oe,k,ce)}finally{B(Ee)}}function N2(c,f,b,k,Y,ce,Ee,Oe,Ze,mt,xt){const Ht=f.blueprint.slice();return Ht[da]=Y,Ht[pi]=204|k,(null!==mt||c&&2048&c[pi])&&(Ht[pi]|=2048),RS(Ht),Ht[ec]=Ht[xg]=c,Ht[js]=b,Ht[wh]=Ee||c&&c[wh],Ht[ji]=Oe||c&&c[ji],Ht[tc]=Ze||c&&c[tc]||null,Ht[Il]=ce,Ht[Sg]=function q0(){return J0++}(),Ht[Id]=xt,Ht[TS]=mt,Ht[ua]=2==f.type?c[ua]:Ht,Ht}function Dm(c,f,b,k,Y){let ce=c.data[f];if(null===ce)ce=gw(c,f,b,k,Y),function NS(){return Bi.lFrame.inI18n}()&&(ce.flags|=32);else if(64&ce.type){ce.type=b,ce.value=k,ce.attrs=Y;const Ee=xh();ce.injectorIndex=null===Ee?-1:Ee.injectorIndex}return nc(ce,!0),ce}function gw(c,f,b,k,Y){const ce=JP(),Ee=QD(),Ze=c.data[f]=function U2(c,f,b,k,Y,ce){let Ee=f?f.injectorIndex:-1,Oe=0;return Is()&&(Oe|=128),{type:b,index:k,insertBeforeIndex:null,injectorIndex:Ee,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Oe,providerIndexes:0,value:Y,attrs:ce,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:f,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,Ee?ce:ce&&ce.parent,b,f,k,Y);return null===c.firstChild&&(c.firstChild=Ze),null!==ce&&(Ee?null==ce.child&&null!==Ze.parent&&(ce.child=Ze):null===ce.next&&(ce.next=Ze,Ze.prev=ce)),Ze}function vw(c,f,b,k){if(0===b)return-1;const Y=f.length;for(let ce=0;ce<b;ce++)f.push(k),c.blueprint.push(k),c.data.push(null);return Y}function SC(c,f,b,k,Y){const ce=Dl(),Ee=2&k;try{va(-1),Ee&&f.length>ri&&EC(c,f,ri,!1),Of(Ee?2:0,Y),b(k,Y)}finally{va(ce),Of(Ee?3:1,Y)}}function wM(c,f,b){if(Ag(f)){const k=B(null);try{const ce=f.directiveEnd;for(let Ee=f.directiveStart;Ee<ce;Ee++){const Oe=c.data[Ee];Oe.contentQueries&&Oe.contentQueries(1,b[Ee],Ee)}}finally{B(k)}}}function _M(c,f,b){Yo()&&(function DO(c,f,b,k){const Y=b.directiveStart,ce=b.directiveEnd;xp(b)&&function DC(c,f,b){const k=Qc(f,c),Y=MC(b);let Ee=16;b.signals?Ee=4096:b.onPush&&(Ee=64);const Oe=V2(c,N2(c,Y,null,Ee,k,f,null,c[wh].rendererFactory.createRenderer(k,b),null,null,null));c[f.index]=Oe}(f,b,c.data[Y+b.componentOffset]),c.firstCreatePass||Th(b,f),kl(k,f);const Ee=b.initialInputs;for(let Oe=Y;Oe<ce;Oe++){const Ze=c.data[Oe],mt=Y0(f,c,Oe,b);kl(mt,f),null!==Ee&&CC(0,Oe-Y,mt,Ze,0,Ee),lu(Ze)&&(xo(b.index,f)[js]=Y0(f,c,Oe,b))}}(c,f,b,Qc(b,f)),!(64&~b.flags)&&IC(c,f,b))}function EM(c,f,b=Qc){const k=f.localNames;if(null!==k){let Y=f.index+1;for(let ce=0;ce<k.length;ce+=2){const Ee=k[ce+1],Oe=-1===Ee?b(f,c):c[Ee];c[Y++]=Oe}}}function MC(c){const f=c.tView;return null===f||f.incompleteFirstPass?c.tView=xM(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts,c.id):f}function xM(c,f,b,k,Y,ce,Ee,Oe,Ze,mt,xt){const Ht=ri+k,ln=Ht+Y,mn=function EO(c,f){const b=[];for(let k=0;k<f;k++)b.push(k<c?null:Xi);return b}(Ht,ln),In="function"==typeof mt?mt():mt;return mn[gr]={type:c,blueprint:mn,template:b,queries:null,viewQuery:Oe,declTNode:f,data:mn.slice().fill(null,Ht),bindingStartIndex:Ht,expandoStartIndex:ln,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof ce?ce():ce,pipeRegistry:"function"==typeof Ee?Ee():Ee,firstChild:null,schemas:Ze,consts:In,incompleteFirstPass:!1,ssrId:xt}}let AC=()=>null;function bw(c,f,b,k,Y){for(let ce in f){if(!f.hasOwnProperty(ce))continue;const Ee=f[ce];if(void 0===Ee)continue;k??={};let Oe,Ze=Qa.None;Array.isArray(Ee)?(Oe=Ee[0],Ze=Ee[1]):Oe=Ee;let mt=ce;if(null!==Y){if(!Y.hasOwnProperty(ce))continue;mt=Y[ce]}0===c?TC(k,b,mt,Oe,Ze):TC(k,b,mt,Oe)}return k}function TC(c,f,b,k,Y){let ce;c.hasOwnProperty(b)?(ce=c[b]).push(f,k):ce=c[b]=[f,k],void 0!==Y&&ce.push(Y)}function nd(c,f,b,k,Y,ce,Ee,Oe){const Ze=Qc(f,b);let xt,mt=f.inputs;!Oe&&null!=mt&&(xt=mt[k])?(DM(c,b,xt,k,Y),xp(f)&&function MM(c,f){const b=xo(f,c);16&b[pi]||(b[pi]|=64)}(b,f.index)):3&f.type&&(k=function TO(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(k),Y=null!=Ee?Ee(Y,f.value||"",k):Y,ce.setProperty(Ze,k,Y))}function F2(c,f,b,k){if(Yo()){const Y=null===k?null:{"":-1},ce=function CO(c,f){const b=c.directiveRegistry;let k=null,Y=null;if(b)for(let ce=0;ce<b.length;ce++){const Ee=b[ce];if(bS(f,Ee.selectors,!1))if(k||(k=[]),lu(Ee))if(null!==Ee.findHostDirectiveDefs){const Oe=[];Y=Y||new Map,Ee.findHostDirectiveDefs(Ee,Oe,Y),k.unshift(...Oe,Ee),K2(c,f,Oe.length)}else k.unshift(Ee),K2(c,f,0);else Y=Y||new Map,Ee.findHostDirectiveDefs?.(Ee,k,Y),k.push(Ee)}return null===k?null:[k,Y]}(c,b);let Ee,Oe;null===ce?Ee=Oe=null:[Ee,Oe]=ce,null!==Ee&&j2(c,f,b,Ee,Y,Oe),Y&&function kO(c,f,b){if(f){const k=c.localNames=[];for(let Y=0;Y<f.length;Y+=2){const ce=b[f[Y+1]];if(null==ce)throw new xr(-301,!1);k.push(f[Y],ce)}}}(b,k,Y)}b.mergedAttrs=Jl(b.mergedAttrs,b.attrs)}function j2(c,f,b,k,Y,ce){for(let mt=0;mt<k.length;mt++)zS(Th(b,f),c,k[mt].type);!function AM(c,f,b){c.flags|=1,c.directiveStart=f,c.directiveEnd=f+b,c.providerIndexes=f}(b,c.data.length,k.length);for(let mt=0;mt<k.length;mt++){const xt=k[mt];xt.providersResolver&&xt.providersResolver(xt)}let Ee=!1,Oe=!1,Ze=vw(c,f,k.length,null);for(let mt=0;mt<k.length;mt++){const xt=k[mt];b.mergedAttrs=Jl(b.mergedAttrs,xt.hostAttrs),$2(c,b,f,Ze,xt),PO(Ze,xt,Y),null!==xt.contentQueries&&(b.flags|=4),(null!==xt.hostBindings||null!==xt.hostAttrs||0!==xt.hostVars)&&(b.flags|=64);const Ht=xt.type.prototype;!Ee&&(Ht.ngOnChanges||Ht.ngOnInit||Ht.ngDoCheck)&&((c.preOrderHooks??=[]).push(b.index),Ee=!0),!Oe&&(Ht.ngOnChanges||Ht.ngDoCheck)&&((c.preOrderCheckHooks??=[]).push(b.index),Oe=!0),Ze++}!function AO(c,f,b){const Y=f.directiveEnd,ce=c.data,Ee=f.attrs,Oe=[];let Ze=null,mt=null;for(let xt=f.directiveStart;xt<Y;xt++){const Ht=ce[xt],ln=b?b.get(Ht):null,In=ln?ln.outputs:null;Ze=bw(0,Ht.inputs,xt,Ze,ln?ln.inputs:null),mt=bw(1,Ht.outputs,xt,mt,In);const Zn=null===Ze||null===Ee||Ib(f)?null:kC(Ze,xt,Ee);Oe.push(Zn)}null!==Ze&&(Ze.hasOwnProperty("class")&&(f.flags|=8),Ze.hasOwnProperty("style")&&(f.flags|=16)),f.initialInputs=Oe,f.inputs=Ze,f.outputs=mt}(c,b,ce)}function IC(c,f,b){const k=b.directiveStart,Y=b.directiveEnd,ce=b.index,Ee=function _L(){return Bi.lFrame.currentDirectiveIndex}();try{va(ce);for(let Oe=k;Oe<Y;Oe++){const Ze=c.data[Oe],mt=f[Oe];Kr(Oe),(null!==Ze.hostBindings||0!==Ze.hostVars||null!==Ze.hostAttrs)&&ww(Ze,mt)}}finally{va(-1),Kr(Ee)}}function ww(c,f){null!==c.hostBindings&&c.hostBindings(1,f)}function K2(c,f,b){f.componentOffset=b,(c.components??=[]).push(f.index)}function PO(c,f,b){if(b){if(f.exportAs)for(let k=0;k<f.exportAs.length;k++)b[f.exportAs[k]]=c;lu(f)&&(b[""]=c)}}function $2(c,f,b,k,Y){c.data[k]=Y;const ce=Y.factory||(Y.factory=Pf(Y.type)),Ee=new Vb(ce,lu(Y),Gg);c.blueprint[k]=Ee,b[k]=Ee,function Ta(c,f,b,k,Y){const ce=Y.hostBindings;if(ce){let Ee=c.hostBindingOpCodes;null===Ee&&(Ee=c.hostBindingOpCodes=[]);const Oe=~f.index;(function IO(c){let f=c.length;for(;f>0;){const b=c[--f];if("number"==typeof b&&b<0)return b}return 0})(Ee)!=Oe&&Ee.push(Oe),Ee.push(b,k,ce)}}(c,f,k,vw(c,b,Y.hostVars,Xi),Y)}function kh(c,f,b,k,Y,ce){const Ee=Qc(c,f);!function TM(c,f,b,k,Y,ce,Ee){if(null==ce)c.removeAttribute(f,Y,b);else{const Oe=null==Ee?Pi(ce):Ee(ce,k||"",Y);c.setAttribute(f,Y,Oe,b)}}(f[ji],Ee,ce,c.value,b,k,Y)}function CC(c,f,b,k,Y,ce){const Ee=ce[f];if(null!==Ee)for(let Oe=0;Oe<Ee.length;)bM(k,b,Ee[Oe++],Ee[Oe++],Ee[Oe++],Ee[Oe++])}function kC(c,f,b){let k=null,Y=0;for(;Y<b.length;){const ce=b[Y];if(0!==ce)if(5!==ce){if("number"==typeof ce)break;if(c.hasOwnProperty(ce)){null===k&&(k=[]);const Ee=c[ce];for(let Oe=0;Oe<Ee.length;Oe+=3)if(Ee[Oe]===f){k.push(ce,Ee[Oe+1],Ee[Oe+2],b[Y+1]);break}}Y+=2}else Y+=2;else Y+=4}return k}function PC(c,f,b,k){return[c,!0,0,f,null,k,null,b,null,null]}function RC(c,f){const b=c.contentQueries;if(null!==b){const k=B(null);try{for(let Y=0;Y<b.length;Y+=2){const Ee=b[Y+1];if(-1!==Ee){const Oe=c.data[Ee];Fb(b[Y]),Oe.contentQueries(2,f[Ee],Ee)}}}finally{B(k)}}}function V2(c,f){return c[Cb]?c[AS][Rf]=f:c[Cb]=f,c[AS]=f,f}function IM(c,f,b){Fb(0);const k=B(null);try{f(c,b)}finally{B(k)}}function Zg(c){return c[Eg]??=[]}function iy(c){return c.cleanup??=[]}function OC(c,f,b){return(null===c||lu(c))&&(b=function kS(c){for(;Array.isArray(c);){if("object"==typeof c[IS])return c;c=c[da]}return null}(b[f.index])),b[ji]}function z2(c,f){const b=c[tc],k=b?b.get(td,null):null;k&&k.handleError(f)}function DM(c,f,b,k,Y){for(let ce=0;ce<b.length;){const Ee=b[ce++],Oe=b[ce++],Ze=b[ce++];bM(c.data[Ee],f[Ee],k,Oe,Ze,Y)}}function Tp(c,f,b){const k=Dd(f,c);!function lM(c,f,b){c.setValue(f,b)}(c[ji],k,b)}function CM(c,f){const b=xo(f,c),k=b[gr];!function BC(c,f){for(let b=f.length;b<c.blueprint.length;b++)f.push(c.blueprint[b])}(k,b);const Y=b[da];null!==Y&&null===b[Id]&&(b[Id]=nw(Y,b[tc])),H2(k,b,b[js])}function H2(c,f,b){n3(f);try{const k=c.viewQuery;null!==k&&IM(1,k,b);const Y=c.template;null!==Y&&SC(c,f,Y,1,b),c.firstCreatePass&&(c.firstCreatePass=!1),f[Ep]?.finishViewCreation(c),c.staticContentQueries&&RC(c,f),c.staticViewQueries&&IM(2,c.viewQuery,b);const ce=c.components;null!==ce&&function NC(c,f){for(let b=0;b<f.length;b++)CM(c,f[b])}(f,ce)}catch(k){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),k}finally{f[pi]&=-5,s3()}}function ku(c,f,b,k){const Y=B(null);try{const ce=f.tView,Ze=N2(c,ce,b,4096&c[pi]?4096:16,null,f,null,null,k?.injector??null,k?.embeddedViewInjector??null,k?.dehydratedView??null);Ze[$0]=c[f.index];const xt=c[Ep];return null!==xt&&(Ze[Ep]=xt.createEmbeddedView(ce)),H2(ce,Ze,b),Ze}finally{B(Y)}}function kM(c,f){const b=Na+f;if(b<c.length)return c[b]}function oy(c,f){return!f||null===f.firstChild||oc(c)}function Yg(c,f,b,k=!0){const Y=f[gr];if(function R2(c,f,b,k){const Y=Na+k,ce=b.length;k>0&&(b[Y-1][Rf]=f),k<ce-Na?(f[Rf]=b[Y],Ko(b,Na+k,f)):(b.push(f),f[Rf]=null),f[ec]=b;const Ee=f[$0];null!==Ee&&b!==Ee&&Tm(Ee,f);const Oe=f[Ep];null!==Oe&&Oe.insertView(c),XD(f),f[pi]|=128}(Y,f,c,b),k){const Ee=jf(b,c),Oe=f[ji],Ze=B2(Oe,c[Eh]);null!==Ze&&function fO(c,f,b,k,Y,ce){k[da]=Y,k[Il]=f,gM(c,k,b,1,Y,ce)}(Y,c[Il],Oe,f,Ze,Ee)}const ce=f[Id];null!==ce&&null!==ce.firstChild&&(ce.firstChild=null)}function PM(c,f){const b=pw(c,f);return void 0!==b&&O2(b[gr],b),b}function _w(c,f,b,k,Y=!1){for(;null!==b;){if(128===b.type){b=Y?b.projectionNext:b.next;continue}const ce=f[b.index];null!==ce&&k.push(Io(ce)),ql(ce)&&W2(ce,k);const Ee=b.type;if(8&Ee)_w(c,f,b.child,k);else if(32&Ee){const Oe=Vg(b,f);let Ze;for(;Ze=Oe();)k.push(Ze)}else if(16&Ee){const Oe=wC(f,b);if(Array.isArray(Oe))k.push(...Oe);else{const Ze=uu(f[ua]);_w(Ze[gr],Ze,Oe,k,!0)}}b=Y?b.projectionNext:b.next}return k}function W2(c,f){for(let b=Na;b<c.length;b++){const k=c[b],Y=k[gr].firstChild;null!==Y&&_w(k[gr],k,Y,f)}c[Eh]!==c[da]&&f.push(c[Eh])}let Ip=[];const OO={...K,consumerIsAlwaysLive:!0,consumerMarkedDirty:c=>{Bf(c.lView)},consumerOnSignalRead(){this.lView[tf]=this}},RM={...K,consumerIsAlwaysLive:!0,consumerMarkedDirty:c=>{let f=uu(c.lView);for(;f&&!G2(f[gr]);)f=uu(f);f&&Bb(f)},consumerOnSignalRead(){this.lView[tf]=this}};function G2(c){return 2!==c.type}const OM=100;function Xg(c,f=!0,b=0){const k=c[wh],Y=k.rendererFactory;Y.begin?.();try{!function ns(c,f){const b=Ec();try{e3(!0),jC(c,f);let k=0;for(;Nb(c);){if(k===OM)throw new xr(103,!1);k++,jC(c,1)}}finally{e3(b)}}(c,b)}catch(Ee){throw f&&z2(c,Ee),Ee}finally{Y.end?.(),k.inlineEffectRunner?.flush()}}function xw(c,f,b,k){const Y=f[pi];if(!(256&~Y))return;f[wh].inlineEffectRunner?.flush(),n3(f);let Oe=!0,Ze=null,mt=null;G2(c)?(mt=function Ew(c){return c[tf]??function LC(c){const f=Ip.pop()??Object.create(OO);return f.lView=c,f}(c)}(f),Ze=J(mt)):null===function A(){return S}()?(Oe=!1,mt=function BO(c){const f=c[tf]??Object.create(RM);return f.lView=c,f}(f),Ze=J(mt)):f[tf]&&(se(f[tf]),f[tf]=null);try{RS(f),function xc(c){return Bi.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==b&&SC(c,f,b,2,k);const xt=!(3&~Y);if(xt){const mn=c.preOrderCheckHooks;null!==mn&&$b(f,mn,null)}else{const mn=c.preOrderHooks;null!==mn&&rc(f,mn,0,null),jS(f,0)}if(function NO(c){for(let f=A3(c);null!==f;f=T3(f)){if(!(f[pi]&Z1.HasTransplantedViews))continue;const b=f[Mg];for(let k=0;k<b.length;k++)Bb(b[k])}}(f),BM(f,0),null!==c.contentQueries&&RC(c,f),xt){const mn=c.contentCheckHooks;null!==mn&&$b(f,mn)}else{const mn=c.contentHooks;null!==mn&&rc(f,mn,1),jS(f,1)}!function _O(c,f){const b=c.hostBindingOpCodes;if(null!==b)try{for(let k=0;k<b.length;k++){const Y=b[k];if(Y<0)va(~Y);else{const ce=Y,Ee=b[++k],Oe=b[++k];wL(Ee,ce),Oe(2,f[ce])}}}finally{va(-1)}}(c,f);const Ht=c.components;null!==Ht&&LO(f,Ht,0);const ln=c.viewQuery;if(null!==ln&&IM(2,ln,k),xt){const mn=c.viewCheckHooks;null!==mn&&$b(f,mn)}else{const mn=c.viewHooks;null!==mn&&rc(f,mn,2),jS(f,2)}if(!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),f[W1]){for(const mn of f[W1])mn();f[W1]=null}f[pi]&=-73}catch(xt){throw Bf(f),xt}finally{null!==mt&&(q(mt,Ze),Oe&&function RO(c){c.lView[tf]!==c&&(c.lView=null,Ip.push(c))}(mt)),s3()}}function BM(c,f){for(let b=A3(c);null!==b;b=T3(b))for(let k=Na;k<b.length;k++)FC(b[k],f)}function UC(c,f,b){FC(xo(f,c),b)}function FC(c,f){W0(c)&&jC(c,f)}function jC(c,f){const k=c[gr],Y=c[pi],ce=c[tf];let Ee=!!(0===f&&16&Y);if(Ee||=!!(64&Y&&0===f),Ee||=!!(1024&Y),Ee||=!(!ce?.dirty||!ne(ce)),Ee||=!1,ce&&(ce.dirty=!1),c[pi]&=-9217,Ee)xw(k,c,k.template,c[js]);else if(8192&Y){BM(c,1);const Oe=k.components;null!==Oe&&LO(c,Oe,1)}}function LO(c,f,b){for(let k=0;k<f.length;k++)UC(c,f[k],b)}function Dp(c,f){const b=Ec()?64:1088;for(c[wh].changeDetectionScheduler?.notify(f);c;){c[pi]|=b;const k=uu(c);if(um(c)&&!k)return c;c=k}return null}class ac{get rootNodes(){const f=this._lView,b=f[gr];return _w(b,f,b.firstChild,[])}constructor(f,b,k=!0){this._lView=f,this._cdRefInjectingView=b,this.notifyErrorHandler=k,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[js]}set context(f){this._lView[js]=f}get destroyed(){return!(256&~this._lView[pi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const f=this._lView[ec];if(ql(f)){const b=f[8],k=b?b.indexOf(this):-1;k>-1&&(pw(f,k),tt(b,k))}this._attachedToViewContainer=!1}O2(this._lView[gr],this._lView)}onDestroy(f){Lb(this._lView,f)}markForCheck(){Dp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[pi]&=-129}reattach(){XD(this._lView),this._lView[pi]|=128}detectChanges(){this._lView[pi]|=1024,Xg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xr(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const f=um(this._lView),b=this._lView[$0];null!==b&&!f&&hM(b,this._lView),fM(this._lView[gr],this._lView)}attachToAppRef(f){if(this._attachedToViewContainer)throw new xr(902,!1);this._appRef=f;const b=um(this._lView),k=this._lView[$0];null!==k&&!b&&Tm(k,this._lView),XD(this._lView)}}let Sw=(()=>{class c{static#e=this.__NG_ELEMENT_ID__=fU}return c})();const uU=Sw,UO=class extends uU{constructor(f,b,k){super(),this._declarationLView=f,this._declarationTContainer=b,this.elementRef=k}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(f,b){return this.createEmbeddedViewImpl(f,b)}createEmbeddedViewImpl(f,b,k){const Y=ku(this._declarationLView,this._declarationTContainer,f,{embeddedViewInjector:b,dehydratedView:k});return new ac(Y)}};function fU(){return Cm(Ki(),Xn())}function Cm(c,f){return 4&c.type?new UO(f,c,Gb(c,f)):null}function zC(c,f,b){const k=f.insertBeforeIndex,Y=Array.isArray(k)?k[0]:k;return null===Y?bC(c,0,b):Io(b[Y])}function HC(c,f,b,k,Y){const ce=f.insertBeforeIndex;if(Array.isArray(ce)){let Ee=k,Oe=null;if(3&f.type||(Oe=Ee,Ee=Y),null!==Ee&&-1===f.componentOffset)for(let Ze=1;Ze<ce.length;Ze++)Hg(c,Ee,b[ce[Ze]],Oe,!1)}}function WC(c,f){if(c.push(f),c.length>1)for(let b=c.length-2;b>=0;b--){const k=c[b];X2(k)||NM(k,f)&&null===VO(k)&&zO(k,f.index)}}function X2(c){return!(64&c.type)}function NM(c,f){return X2(f)||c.index>f.index}function VO(c){const f=c.insertBeforeIndex;return Array.isArray(f)?f[0]:f}function zO(c,f){const b=c.insertBeforeIndex;Array.isArray(b)?b[0]=f:(yM(zC,HC),c.insertBeforeIndex=f)}function WO(c,f,b){const k=gw(c,b,64,null,null);return WC(f,k),k}function Tw(c,f,b){c.index=0;const k=function J2(c,f){const b=f[c.currentCaseLViewIndex];return null===b?b:b<0?~b:b}(f,b);c.removes=null!==k?f.remove[k]:ai}function LM(c){if(c.index<c.removes.length){const f=c.removes[c.index++];return f>0?c.lView[f]:(c.stack.push(c.index,c.removes),Tw(c,c.lView[gr].data[~f],c.lView),LM(c))}return 0===c.stack.length?null:(c.removes=c.stack.pop(),c.index=c.stack.pop(),LM(c))}function Ph(){const c={stack:[],index:-1};return function f(b,k){for(c.lView=k;c.stack.length;)c.stack.pop();return Tw(c,b.value,k),LM.bind(null,c)}}let n6=()=>{},l6=()=>null;function cy(c,f){return l6(c,f)}class ly{}const kw=new ki("",{providedIn:"root",factory:()=>!1}),u6=new ki("");class Pw{}class f6{}class h4{resolveComponentFactory(f){throw function f4(c){const f=Error(`No component factory found for ${gs(c)}.`);return f.ngComponent=c,f}(f)}}class Rw{static#e=this.NULL=new h4}class KM{}let p4=(()=>{class c{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function m4(){const c=Xn(),b=xo(Ki().index,c);return(Jc(b)?b:c)[ji]}()}return c})(),y4=(()=>{class c{static#e=this.\u0275prov=Do({token:c,providedIn:"root",factory:()=>null})}return c})();const p6=new Set;function id(c){p6.has(c)||(p6.add(c),performance?.mark?.("mark_feature_usage",{detail:{feature:c}}))}function m6(c){let f=!0;return setTimeout(()=>{f&&(f=!1,c())}),"function"==typeof ss.requestAnimationFrame&&ss.requestAnimationFrame(()=>{f&&(f=!1,c())}),()=>{f=!1}}function y6(c){let f=!0;return queueMicrotask(()=>{f&&c()}),()=>{f=!1}}function g6(...c){}class ea{constructor({enableLongStackTrace:f=!1,shouldCoalesceEventChangeDetection:b=!1,shouldCoalesceRunChangeDetection:k=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ih(!1),this.onMicrotaskEmpty=new Ih(!1),this.onStable=new Ih(!1),this.onError=new Ih(!1),typeof Zone>"u")throw new xr(908,!1);Zone.assertZonePatched();const Y=this;Y._nesting=0,Y._outer=Y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(Y._inner=Y._inner.fork(new Zone.TaskTrackingZoneSpec)),f&&Zone.longStackTraceZoneSpec&&(Y._inner=Y._inner.fork(Zone.longStackTraceZoneSpec)),Y.shouldCoalesceEventChangeDetection=!k&&b,Y.shouldCoalesceRunChangeDetection=k,Y.callbackScheduled=!1,function b4(c){const f=()=>{!function v4(c){c.isCheckStableRunning||c.callbackScheduled||(c.callbackScheduled=!0,Zone.root.run(()=>{m6(()=>{c.callbackScheduled=!1,VM(c),c.isCheckStableRunning=!0,$M(c),c.isCheckStableRunning=!1})}),VM(c))}(c)};c._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(b,k,Y,ce,Ee,Oe)=>{if(function w4(c){return w6(c,"__ignore_ng_zone__")}(Oe))return b.invokeTask(Y,ce,Ee,Oe);try{return v6(c),b.invokeTask(Y,ce,Ee,Oe)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===ce.type||c.shouldCoalesceRunChangeDetection)&&f(),b6(c)}},onInvoke:(b,k,Y,ce,Ee,Oe,Ze)=>{try{return v6(c),b.invoke(Y,ce,Ee,Oe,Ze)}finally{c.shouldCoalesceRunChangeDetection&&!c.callbackScheduled&&!function _4(c){return w6(c,"__scheduler_tick__")}(Oe)&&f(),b6(c)}},onHasTask:(b,k,Y,ce)=>{b.hasTask(Y,ce),k===Y&&("microTask"==ce.change?(c._hasPendingMicrotasks=ce.microTask,VM(c),$M(c)):"macroTask"==ce.change&&(c.hasPendingMacrotasks=ce.macroTask))},onHandleError:(b,k,Y,ce)=>(b.handleError(Y,ce),c.runOutsideAngular(()=>c.onError.emit(ce)),!1)})}(Y)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ea.isInAngularZone())throw new xr(909,!1)}static assertNotInAngularZone(){if(ea.isInAngularZone())throw new xr(909,!1)}run(f,b,k){return this._inner.run(f,b,k)}runTask(f,b,k,Y){const ce=this._inner,Ee=ce.scheduleEventTask("NgZoneEvent: "+Y,f,g4,g6,g6);try{return ce.runTask(Ee,b,k)}finally{ce.cancelTask(Ee)}}runGuarded(f,b,k){return this._inner.runGuarded(f,b,k)}runOutsideAngular(f){return this._outer.run(f)}}const g4={};function $M(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function VM(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&!0===c.callbackScheduled)}function v6(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function b6(c){c._nesting--,$M(c)}class zM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ih,this.onMicrotaskEmpty=new Ih,this.onStable=new Ih,this.onError=new Ih}run(f,b,k){return f.apply(b,k)}runGuarded(f,b,k){return f.apply(b,k)}runOutsideAngular(f){return f()}runTask(f,b,k,Y){return f.apply(b,k)}}function w6(c,f){return!(!Array.isArray(c)||1!==c.length)&&!0===c[0]?.data?.[f]}var od=function(c){return c[c.EarlyRead=0]="EarlyRead",c[c.Write=1]="Write",c[c.MixedReadWrite=2]="MixedReadWrite",c[c.Read=3]="Read",c}(od||{});const E6={destroy(){}};function WM(c,f){!f&&z1();const b=f?.injector??cr(Ac);return La(b)?(id("NgAfterRender"),GM(c,b,!1,f?.phase??od.MixedReadWrite)):E6}function x6(c,f){!f&&z1();const b=f?.injector??cr(Ac);return La(b)?(id("NgAfterNextRender"),GM(c,b,!0,f?.phase??od.MixedReadWrite)):E6}function GM(c,f,b,k){const Y=function E4(c,f){if(c instanceof Function)switch(f){case od.EarlyRead:return{earlyRead:c};case od.Write:return{write:c};case od.MixedReadWrite:return{mixedReadWrite:c};case od.Read:return{read:c}}return c}(c,k),ce=f.get(iE),Ee=ce.handler??=new x4,Oe=[],Ze=[],mt=()=>{for(const mn of Ze)Ee.unregister(mn);xt()},xt=f.get(Wb).onDestroy(mt);let Ht=0;const ln=(mn,In)=>{if(!In)return;const Zn=b?(...Mr)=>(Ht--,Ht<1&&mt(),In(...Mr)):In,yr=jD(f,()=>new ZM(mn,Oe,Zn));Ee.register(yr),Ze.push(yr),Ht++};return ln(od.EarlyRead,Y.earlyRead),ln(od.Write,Y.write),ln(od.MixedReadWrite,Y.mixedReadWrite),ln(od.Read,Y.read),{destroy:mt}}class ZM{constructor(f,b,k){this.phase=f,this.pipelinedArgs=b,this.callbackFn=k,this.zone=cr(ea),this.errorHandler=cr(td,{optional:!0}),cr(ly,{optional:!0})?.notify(6)}invoke(){try{const f=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,f)}catch(f){this.errorHandler?.handleError(f)}}}class x4{constructor(){this.executingCallbacks=!1,this.buckets={[od.EarlyRead]:new Set,[od.Write]:new Set,[od.MixedReadWrite]:new Set,[od.Read]:new Set},this.deferredCallbacks=new Set}register(f){(this.executingCallbacks?this.deferredCallbacks:this.buckets[f.phase]).add(f)}unregister(f){this.buckets[f.phase].delete(f),this.deferredCallbacks.delete(f)}execute(){this.executingCallbacks=!0;for(const f of Object.values(this.buckets))for(const b of f)b.invoke();this.executingCallbacks=!1;for(const f of this.deferredCallbacks)this.buckets[f.phase].add(f);this.deferredCallbacks.clear()}destroy(){for(const f of Object.values(this.buckets))f.clear();this.deferredCallbacks.clear()}}let iE=(()=>{class c{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const b=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const k of b)k()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Do({token:c,providedIn:"root",factory:()=>new c})}return c})();function Om(c){return!!Ts(c)}function dy(c,f,b){let k=b?c.styles:null,Y=b?c.classes:null,ce=0;if(null!==f)for(let Ee=0;Ee<f.length;Ee++){const Oe=f[Ee];"number"==typeof Oe?ce=Oe:1==ce?Y=tm(Y,Oe):2==ce&&(k=tm(k,Oe+": "+f[++Ee]+";"))}b?c.styles=k:c.stylesWithoutHost=k,b?c.classes=Y:c.classesWithoutHost=Y}class Bw extends Rw{constructor(f){super(),this.ngModule=f}resolveComponentFactory(f){const b=Gr(f);return new Lw(b,this.ngModule)}}function Nw(c,f){const b=[];for(const k in c){if(!c.hasOwnProperty(k))continue;const Y=c[k];if(void 0===Y)continue;const ce=Array.isArray(Y),Ee=ce?Y[0]:Y;b.push(f?{propName:Ee,templateName:k,isSignal:!!((ce?Y[1]:Qa.None)&Qa.SignalBased)}:{propName:Ee,templateName:k})}return b}class Lw extends f6{get inputs(){const f=this.componentDef,b=f.inputTransforms,k=Nw(f.inputs,!0);if(null!==b)for(const Y of k)b.hasOwnProperty(Y.propName)&&(Y.transform=b[Y.propName]);return k}get outputs(){return Nw(this.componentDef.outputs,!1)}constructor(f,b){super(),this.componentDef=f,this.ngModule=b,this.componentType=f.type,this.selector=function ot(c){return c.map(Ve).join(",")}(f.selectors),this.ngContentSelectors=f.ngContentSelectors?f.ngContentSelectors:[],this.isBoundToModule=!!b}create(f,b,k,Y){const ce=B(null);try{let Ee=(Y=Y||this.ngModule)instanceof ef?Y:Y?.injector;Ee&&null!==this.componentDef.getStandaloneInjector&&(Ee=this.componentDef.getStandaloneInjector(Ee)||Ee);const Oe=Ee?new Ig(f,Ee):f,Ze=Oe.get(KM,null);if(null===Ze)throw new xr(407,!1);const mt=Oe.get(y4,null),ln={rendererFactory:Ze,sanitizer:mt,inlineEffectRunner:null,afterRenderEventManager:Oe.get(iE,null),changeDetectionScheduler:Oe.get(ly,null)},mn=Ze.createRenderer(null,this.componentDef),In=this.componentDef.selectors[0][0]||"div",Zn=k?function xO(c,f,b,k){const ce=k.get(VR,!1)||b===qa.ShadowDom,Ee=c.selectRootElement(f,ce);return function SO(c){AC(c)}(Ee),Ee}(mn,k,this.componentDef.encapsulation,Oe):dM(mn,In,function A4(c){const f=c.toLowerCase();return"svg"===f?q1:"math"===f?"math":null}(In));let yr=512;this.componentDef.signals?yr|=4096:this.componentDef.onPush||(yr|=16);let Mr=null;null!==Zn&&(Mr=nw(Zn,Oe,!0));const rr=xM(0,null,null,1,0,null,null,null,null,null,null),Li=N2(null,rr,null,yr,null,null,ln,mn,Oe,null,Mr);let Uo,Rs;n3(Li);try{const cl=this.componentDef;let ju,e1=null;cl.findHostDirectiveDefs?(ju=[],e1=new Map,cl.findHostDirectiveDefs(cl,ju,e1),ju.push(cl)):ju=[cl];const NN=function T6(c,f){const b=c[gr],k=ri;return c[k]=f,Dm(b,k,2,"#host",null)}(Li,Zn),sF=function T4(c,f,b,k,Y,ce,Ee){const Oe=Y[gr];!function I6(c,f,b,k){for(const Y of c)f.mergedAttrs=Jl(f.mergedAttrs,Y.hostAttrs);null!==f.mergedAttrs&&(dy(f,f.mergedAttrs,!0),null!==b&&wO(k,b,f))}(k,c,f,Ee);let Ze=null;null!==f&&(Ze=nw(f,Y[tc]));const mt=ce.rendererFactory.createRenderer(f,b);let xt=16;b.signals?xt=4096:b.onPush&&(xt=64);const Ht=N2(Y,MC(b),null,xt,Y[c.index],c,ce,mt,null,null,Ze);return Oe.firstCreatePass&&K2(Oe,c,k.length-1),V2(Y,Ht),Y[c.index]=Ht}(NN,Zn,cl,ju,Li,ln,mn);Rs=Ob(rr,ri),Zn&&function I4(c,f,b,k){if(k)Al(c,b,["ng-version","18.1.2"]);else{const{attrs:Y,classes:ce}=function Mt(c){const f=[],b=[];let k=1,Y=2;for(;k<c.length;){let ce=c[k];if("string"==typeof ce)2===Y?""!==ce&&f.push(ce,c[++k]):8===Y&&b.push(ce);else{if(!Au(Y))break;Y=ce}k++}return{attrs:f,classes:b}}(f.selectors[0]);Y&&Al(c,b,Y),ce&&ce.length>0&&Ap(c,b,ce.join(" "))}}(mn,cl,Zn,k),void 0!==b&&function D6(c,f,b){const k=c.projection=[];for(let Y=0;Y<f.length;Y++){const ce=b[Y];k.push(null!=ce?Array.from(ce):null)}}(Rs,this.ngContentSelectors,b),Uo=function wU(c,f,b,k,Y,ce){const Ee=Ki(),Oe=Y[gr],Ze=Qc(Ee,Y);j2(Oe,Y,Ee,b,null,k);for(let xt=0;xt<b.length;xt++)kl(Y0(Y,Oe,Ee.directiveStart+xt,Ee),Y);IC(Oe,Y,Ee),Ze&&kl(Ze,Y);const mt=Y0(Y,Oe,Ee.directiveStart+Ee.componentOffset,Ee);if(c[js]=Y[js]=mt,null!==ce)for(const xt of ce)xt(mt,f);return wM(Oe,Ee,Y),mt}(sF,cl,ju,e1,Li,[D4]),H2(rr,Li,null)}finally{s3()}return new JM(this.componentType,Uo,Gb(Rs,Li),Li,Rs)}finally{B(ce)}}}class JM extends Pw{constructor(f,b,k,Y,ce){super(),this.location=k,this._rootLView=Y,this._tNode=ce,this.previousInputValues=null,this.instance=b,this.hostView=this.changeDetectorRef=new ac(Y,void 0,!1),this.componentType=f}setInput(f,b){const k=this._tNode.inputs;let Y;if(null!==k&&(Y=k[f])){if(this.previousInputValues??=new Map,this.previousInputValues.has(f)&&Object.is(this.previousInputValues.get(f),b))return;const ce=this._rootLView;DM(ce[gr],ce,Y,f,b),this.previousInputValues.set(f,b),Dp(xo(this._tNode.index,ce),1)}}get injector(){return new Mc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(f){this.hostView.onDestroy(f)}}function D4(){const c=Ki();e2(Xn()[gr],c)}let Uw=(()=>{class c{static#e=this.__NG_ELEMENT_ID__=C4}return c})();function C4(){return qM(Ki(),Xn())}const k4=Uw,sE=class extends k4{constructor(f,b,k){super(),this._lContainer=f,this._hostTNode=b,this._hostLView=k}get element(){return Gb(this._hostTNode,this._hostLView)}get injector(){return new Mc(this._hostTNode,this._hostLView)}get parentInjector(){const f=gm(this._hostTNode,this._hostLView);if(d3(f)){const b=n2(f,this._hostLView),k=t2(f);return new Mc(b[gr].data[k+8],b)}return new Mc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(f){const b=P4(this._lContainer);return null!==b&&b[f]||null}get length(){return this._lContainer.length-Na}createEmbeddedView(f,b,k){let Y,ce;"number"==typeof k?Y=k:null!=k&&(Y=k.index,ce=k.injector);const Ee=cy(this._lContainer,f.ssrId),Oe=f.createEmbeddedViewImpl(b||{},ce,Ee);return this.insertImpl(Oe,Y,oy(this._hostTNode,Ee)),Oe}createComponent(f,b,k,Y,ce){const Ee=f&&!function Db(c){return"function"==typeof c}(f);let Oe;if(Ee)Oe=b;else{const In=b||{};Oe=In.index,k=In.injector,Y=In.projectableNodes,ce=In.environmentInjector||In.ngModuleRef}const Ze=Ee?f:new Lw(Gr(f)),mt=k||this.parentInjector;if(!ce&&null==Ze.ngModule){const Zn=(Ee?mt:this.parentInjector).get(ef,null);Zn&&(ce=Zn)}const xt=Gr(Ze.componentType??{}),Ht=cy(this._lContainer,xt?.id??null),mn=Ze.create(mt,Y,Ht?.firstChild??null,ce);return this.insertImpl(mn.hostView,Oe,oy(this._hostTNode,Ht)),mn}insert(f,b){return this.insertImpl(f,b,!0)}insertImpl(f,b,k){const Y=f._lView;if(function YD(c){return ql(c[ec])}(Y)){const Oe=this.indexOf(f);if(-1!==Oe)this.detach(Oe);else{const Ze=Y[ec],mt=new sE(Ze,Ze[Il],Ze[ec]);mt.detach(mt.indexOf(f))}}const ce=this._adjustIndex(b),Ee=this._lContainer;return Yg(Ee,Y,ce,k),f.attachToViewContainerRef(),Ko(C6(Ee),ce,f),f}move(f,b){return this.insert(f,b)}indexOf(f){const b=P4(this._lContainer);return null!==b?b.indexOf(f):-1}remove(f){const b=this._adjustIndex(f,-1),k=pw(this._lContainer,b);k&&(tt(C6(this._lContainer),b),O2(k[gr],k))}detach(f){const b=this._adjustIndex(f,-1),k=pw(this._lContainer,b);return k&&null!=tt(C6(this._lContainer),b)?new ac(k):null}_adjustIndex(f,b=0){return f??this.length+b}};function P4(c){return c[8]}function C6(c){return c[8]||(c[8]=[])}function qM(c,f){let b;const k=f[c.index];return ql(k)?b=k:(b=PC(k,f,null,c),f[c.index]=b,V2(f,b)),nl(b,f,c,k),new sE(b,c,f)}let nl=function P6(c,f,b,k){if(c[Eh])return;let Y;Y=8&b.type?Io(k):function QM(c,f){const b=c[ji],k=b.createComment(""),Y=Qc(f,c);return Hg(b,B2(b,Y),k,function gO(c,f){return c.nextSibling(f)}(b,Y),!1),k}(f,b),c[Eh]=Y},eA=()=>!1;class tA{constructor(f){this.queryList=f,this.matches=null}clone(){return new tA(this.queryList)}setDirty(){this.queryList.setDirty()}}class aE{constructor(f=[]){this.queries=f}createEmbeddedView(f){const b=f.queries;if(null!==b){const k=null!==f.contentQueries?f.contentQueries[0]:b.length,Y=[];for(let ce=0;ce<k;ce++){const Ee=b.getByIndex(ce);Y.push(this.queries[Ee.indexInDeclarationView].clone())}return new aE(Y)}return null}insertView(f){this.dirtyQueriesWithMatches(f)}detachView(f){this.dirtyQueriesWithMatches(f)}finishViewCreation(f){this.dirtyQueriesWithMatches(f)}dirtyQueriesWithMatches(f){for(let b=0;b<this.queries.length;b++)null!==cE(f,b).matches&&this.queries[b].setDirty()}}class O4{constructor(f,b,k=null){this.flags=b,this.read=k,this.predicate="string"==typeof f?function L4(c){return c.split(",").map(f=>f.trim())}(f):f}}class O6{constructor(f=[]){this.queries=f}elementStart(f,b){for(let k=0;k<this.queries.length;k++)this.queries[k].elementStart(f,b)}elementEnd(f){for(let b=0;b<this.queries.length;b++)this.queries[b].elementEnd(f)}embeddedTView(f){let b=null;for(let k=0;k<this.length;k++){const Y=null!==b?b.length:0,ce=this.getByIndex(k).embeddedTView(f,Y);ce&&(ce.indexInDeclarationView=k,null!==b?b.push(ce):b=[ce])}return null!==b?new O6(b):null}template(f,b){for(let k=0;k<this.queries.length;k++)this.queries[k].template(f,b)}getByIndex(f){return this.queries[f]}get length(){return this.queries.length}track(f){this.queries.push(f)}}class B6{constructor(f,b=-1){this.metadata=f,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=b}elementStart(f,b){this.isApplyingToNode(b)&&this.matchTNode(f,b)}elementEnd(f){this._declarationNodeIndex===f.index&&(this._appliesToNextNode=!1)}template(f,b){this.elementStart(f,b)}embeddedTView(f,b){return this.isApplyingToNode(f)?(this.crossesNgTemplate=!0,this.addMatch(-f.index,b),new B6(this.metadata)):null}isApplyingToNode(f){if(this._appliesToNextNode&&1&~this.metadata.flags){const b=this._declarationNodeIndex;let k=f.parent;for(;null!==k&&8&k.type&&k.index!==b;)k=k.parent;return b===(null!==k?k.index:-1)}return this._appliesToNextNode}matchTNode(f,b){const k=this.metadata.predicate;if(Array.isArray(k))for(let Y=0;Y<k.length;Y++){const ce=k[Y];this.matchTNodeWithReadOption(f,b,B4(b,ce)),this.matchTNodeWithReadOption(f,b,zb(b,f,ce,!1,!1))}else k===Sw?4&b.type&&this.matchTNodeWithReadOption(f,b,-1):this.matchTNodeWithReadOption(f,b,zb(b,f,k,!1,!1))}matchTNodeWithReadOption(f,b,k){if(null!==k){const Y=this.metadata.read;if(null!==Y)if(Y===l2||Y===Uw||Y===Sw&&4&b.type)this.addMatch(b.index,-2);else{const ce=zb(b,f,Y,!1,!1);null!==ce&&this.addMatch(b.index,ce)}else this.addMatch(b.index,k)}}addMatch(f,b){null===this.matches?this.matches=[f,b]:this.matches.push(f,b)}}function B4(c,f){const b=c.localNames;if(null!==b)for(let k=0;k<b.length;k+=2)if(b[k]===f)return b[k+1];return null}function L6(c,f,b,k){return-1===b?function N6(c,f){return 11&c.type?Gb(c,f):4&c.type?Cm(c,f):null}(f,c):-2===b?function nA(c,f,b){return b===l2?Gb(f,c):b===Sw?Cm(f,c):b===Uw?qM(f,c):void 0}(c,f,k):Y0(c,c[gr],b,f)}function N4(c,f,b,k){const Y=f[Ep].queries[k];if(null===Y.matches){const ce=c.data,Ee=b.matches,Oe=[];for(let Ze=0;null!==Ee&&Ze<Ee.length;Ze+=2){const mt=Ee[Ze];Oe.push(mt<0?null:L6(f,ce[mt],Ee[Ze+1],b.metadata.read))}Y.matches=Oe}return Y.matches}function rA(c,f,b,k){const Y=c.queries.getByIndex(b),ce=Y.matches;if(null!==ce){const Ee=N4(c,f,Y,b);for(let Oe=0;Oe<ce.length;Oe+=2){const Ze=ce[Oe];if(Ze>0)k.push(Ee[Oe/2]);else{const mt=ce[Oe+1],xt=f[-Ze];for(let Ht=Na;Ht<xt.length;Ht++){const ln=xt[Ht];ln[$0]===ln[ec]&&rA(ln[gr],ln,mt,k)}if(null!==xt[Mg]){const Ht=xt[Mg];for(let ln=0;ln<Ht.length;ln++){const mn=Ht[ln];rA(mn[gr],mn,mt,k)}}}}}return k}function iA(c,f){return c[Ep].queries[f].queryList}function U6(c,f,b){const k=new Zb(!(4&~b));return function SM(c,f,b,k){const Y=Zg(f);Y.push(b),c.firstCreatePass&&iy(c).push(k,Y.length-1)}(c,f,k,k.destroy),(f[Ep]??=new aE).queries.push(new tA(k))-1}function F6(c,f,b){const k=co();return k.firstCreatePass&&(K6(k,new O4(c,f,b),-1),!(2&~f)&&(k.staticViewQueries=!0)),U6(k,Xn(),f)}function j6(c,f,b,k){const Y=co();if(Y.firstCreatePass){const ce=Ki();K6(Y,new O4(f,b,k),ce.index),function _U(c,f){const b=c.contentQueries||(c.contentQueries=[]);f!==(b.length?b[b.length-1]:-1)&&b.push(c.queries.length-1,f)}(Y,c),!(2&~b)&&(Y.staticContentQueries=!0)}return U6(Y,Xn(),b)}function K6(c,f,b){null===c.queries&&(c.queries=new O6),c.queries.track(new B6(f,b))}function cE(c,f){return c.queries.getByIndex(f)}function $6(c,f){const b=c[gr],k=cE(b,f);return k.crossesNgTemplate?rA(b,c,f,[]):N4(b,c,k,f)}function uy(c){return"function"==typeof c&&void 0!==c[x]}function lE(c,f){id("NgSignals");const b=function v(c){const f=Object.create(Pe);f.value=c;const b=()=>(D(f),f.value);return b[x]=f,b}(c),k=b[x];return f?.equal&&(k.equal=f.equal),b.set=Y=>ee(k,Y),b.update=Y=>function fe(c,f){Q()||j(),ee(c,f(c.value))}(k,Y),b.asReadonly=H6.bind(b),b}function H6(){const c=this[x];if(void 0===c.readonlyFn){const f=()=>this();f[x]=c,c.readonlyFn=f}return c.readonlyFn}function U4(c){return uy(c)&&"function"==typeof c.set}function dE(c,f){let b;const k=P(()=>{b._dirtyCounter();const Y=function EU(c,f){const b=c._lView,k=c._queryIndex;if(void 0===b||void 0===k||4&b[pi])return f?void 0:ai;const Y=iA(b,k),ce=$6(b,k);return Y.reset(ce,v3),f?Y.first:Y._changesDetected||void 0===c._flatValue?c._flatValue=Y.toArray():c._flatValue}(b,c);if(f&&void 0===Y)throw new xr(-951,!1);return Y});return b=k[x],b._dirtyCounter=lE(0),b._flatValue=void 0,k}function W6(){return dE(!0,!1)}function uE(){return dE(!0,!0)}function j4(c,f){const b=c[x];b._lView=Xn(),b._queryIndex=f,b._queryList=iA(b._lView,f),b._queryList.onDirty(()=>b._dirtyCounter.update(k=>k+1))}function G6(c,f){return W6()}const $4=(G6.required=function K4(c,f){return uE()},G6);function Z6(c,f){return W6()}const z4=(Z6.required=function V4(c,f){return uE()},Z6);function Y6(c){const f=Object.create(os),b=new g3;function k(){return D(f),oA(f.value),f.value}return f.value=c,k[x]=f,k.asReadonly=H6.bind(k),k.set=Y=>{f.equal(f.value,Y)||(ee(f,Y),b.emit(Y))},k.update=Y=>{oA(f.value),k.set(Y(f.value))},k.subscribe=b.subscribe.bind(b),k.destroyRef=b.destroyRef,k}function oA(c){if(c===vc)throw new xr(952,!1)}function sA(c){return Y6(c)}const G4=(sA.required=function W4(){return Y6(vc)},sA);function lA(c){let f=function Q6(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),b=!0;const k=[c];for(;f;){let Y;if(lu(c))Y=f.\u0275cmp||f.\u0275dir;else{if(f.\u0275cmp)throw new xr(903,!1);Y=f.\u0275dir}if(Y){if(b){k.push(Y);const Ee=c;Ee.inputs=hE(c.inputs),Ee.inputTransforms=hE(c.inputTransforms),Ee.declaredInputs=hE(c.declaredInputs),Ee.outputs=hE(c.outputs);const Oe=Y.hostBindings;Oe&&sB(c,Oe);const Ze=Y.viewQuery,mt=Y.contentQueries;if(Ze&&iB(c,Ze),mt&&oB(c,mt),nB(c,Y),Gu(c.outputs,Y.outputs),lu(Y)&&Y.data.animation){const xt=c.data;xt.animation=(xt.animation||[]).concat(Y.data.animation)}}const ce=Y.features;if(ce)for(let Ee=0;Ee<ce.length;Ee++){const Oe=ce[Ee];Oe&&Oe.ngInherit&&Oe(c),Oe===lA&&(b=!1)}}f=Object.getPrototypeOf(f)}!function rB(c){let f=0,b=null;for(let k=c.length-1;k>=0;k--){const Y=c[k];Y.hostVars=f+=Y.hostVars,Y.hostAttrs=Jl(Y.hostAttrs,b=Jl(b,Y.hostAttrs))}}(k)}function nB(c,f){for(const b in f.inputs){if(!f.inputs.hasOwnProperty(b)||c.inputs.hasOwnProperty(b))continue;const k=f.inputs[b];if(void 0!==k&&(c.inputs[b]=k,c.declaredInputs[b]=f.declaredInputs[b],null!==f.inputTransforms)){const Y=Array.isArray(k)?k[0]:k;if(!f.inputTransforms.hasOwnProperty(Y))continue;c.inputTransforms??={},c.inputTransforms[Y]=f.inputTransforms[Y]}}}function hE(c){return c===Rn?{}:c===ai?[]:c}function iB(c,f){const b=c.viewQuery;c.viewQuery=b?(k,Y)=>{f(k,Y),b(k,Y)}:f}function oB(c,f){const b=c.contentQueries;c.contentQueries=b?(k,Y,ce)=>{f(k,Y,ce),b(k,Y,ce)}:f}function sB(c,f){const b=c.hostBindings;c.hostBindings=b?(k,Y)=>{f(k,Y),b(k,Y)}:f}function $w(c){const f=b=>{const k=(Array.isArray(c)?c:c()).map(Y=>"function"==typeof Y?{directive:si(Y),inputs:Rn,outputs:Rn}:{directive:si(Y.directive),inputs:mE(Y.inputs),outputs:mE(Y.outputs)});null===b.hostDirectives?(b.findHostDirectiveDefs=Vw,b.hostDirectives=k):b.hostDirectives.unshift(...k)};return f.ngInherit=!0,f}function Vw(c,f,b){if(null!==c.hostDirectives)for(const k of c.hostDirectives){const Y=es(k.directive);cB(Y.declaredInputs,k.inputs),Vw(Y,f,b),b.set(Y,k),f.push(Y)}}function mE(c){if(void 0===c||0===c.length)return Rn;const f={};for(let b=0;b<c.length;b+=2)f[c[b]]=c[b+1];return f}function cB(c,f){for(const b in f)f.hasOwnProperty(b)&&(c[f[b]]=c[b])}function gE(c){const f=c.inputConfig,b={};for(const k in f)if(f.hasOwnProperty(k)){const Y=f[k];Array.isArray(Y)&&Y[3]&&(b[k]=Y[3])}c.inputTransforms=b}class rv{}class lB{}function e5(c,f){return new Tc(c,f??null,[])}class Tc extends rv{constructor(f,b,k){super(),this._parent=b,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bw(this);const Y=Ts(f);this._bootstrapComponents=Cu(Y.bootstrap),this._r3Injector=rf(f,b,[{provide:rv,useValue:this},{provide:Rw,useValue:this.componentFactoryResolver},...k],gs(f),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(f)}get injector(){return this._r3Injector}destroy(){const f=this._r3Injector;!f.destroyed&&f.destroy(),this.destroyCbs.forEach(b=>b()),this.destroyCbs=null}onDestroy(f){this.destroyCbs.push(f)}}class uA extends lB{constructor(f){super(),this.moduleType=f}create(f){return new Tc(this.moduleType,f,[])}}class n5 extends rv{constructor(f){super(),this.componentFactoryResolver=new Bw(this),this.instance=null;const b=new Aa([...f.providers,{provide:rv,useValue:this},{provide:Rw,useValue:this.componentFactoryResolver}],f.parent||V1(),f.debugName,new Set(["environment"]));this.injector=b,f.runEnvironmentInitializers&&b.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(f){this.injector.onDestroy(f)}}function hy(c,f,b=null){return new n5({providers:c,parent:f,debugName:b,runEnvironmentInitializers:!0}).injector}function vE(c){return!!zw(c)&&(Array.isArray(c)||!(c instanceof Map)&&Symbol.iterator in c)}function zw(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function Cp(c,f,b){return c[f]=b}function lc(c,f,b){return!Object.is(c[f],b)&&(c[f]=b,!0)}function py(c,f,b,k){const Y=lc(c,f,b);return lc(c,f+1,k)||Y}function sv(c,f,b,k,Y,ce,Ee,Oe,Ze,mt){const xt=b+ri,Ht=f.firstCreatePass?function mB(c,f,b,k,Y,ce,Ee,Oe,Ze){const mt=f.consts,xt=Dm(f,c,4,Ee||null,Oe||null);F2(f,b,xt,du(mt,Ze)),e2(f,xt);const Ht=xt.tView=xM(2,xt,k,Y,ce,f.directiveRegistry,f.pipeRegistry,null,f.schemas,mt,null);return null!==f.queries&&(f.queries.template(f,xt),Ht.queries=f.queries.embeddedTView(xt)),xt}(xt,f,c,k,Y,ce,Ee,Oe,Ze):f.data[xt];nc(Ht,!1);const ln=r5(f,c,Ht,b);Kb()&&yw(f,c,ln,Ht),kl(ln,c);const mn=PC(ln,c,ln,Ht);return c[xt]=mn,V2(c,mn),function k6(c,f,b){return eA(c,f,b)}(mn,Ht,c),z0(Ht)&&_M(f,c,Ht),null!=Ze&&EM(c,Ht,mt),Ht}function Hw(c,f,b,k,Y,ce,Ee,Oe){const Ze=Xn(),mt=co();return sv(Ze,mt,c,f,b,k,Y,du(mt.consts,ce),Ee,Oe),Hw}let r5=function i5(c,f,b,k){return Uf(!0),f[ji].createComment("")};function as(c,f,b,k){const Y=Xn();return lc(Y,Nf(),f)&&(co(),kh(Ks(),Y,c,f,b,k)),as}function my(c,f,b,k){return lc(c,Nf(),b)?f+Pi(b)+k:Xi}function yy(c,f,b,k,Y,ce){const Oe=py(c,function Sh(){return Bi.lFrame.bindingIndex}(),b,Y);return Lf(2),Oe?f+Pi(b)+k+Pi(Y)+ce:Xi}function Fa(c,f){return c<<17|f<<2}function no(c){return c>>17&32767}function rl(c){return 2|c}function wa(c){return(131068&c)>>2}function Dc(c,f){return-131069&c|f<<2}function Cc(c){return 1|c}function TA(c,f,b,k){const Y=c[b+1],ce=null===f;let Ee=k?no(Y):wa(Y),Oe=!1;for(;0!==Ee&&(!1===Oe||ce);){const mt=c[Ee+1];IA(c[Ee],f)&&(Oe=!0,c[Ee+1]=k?Cc(mt):rl(mt)),Ee=k?no(mt):wa(mt)}Oe&&(c[b+1]=k?rl(Y):Cc(Y))}function IA(c,f){return null===c||null==f||(Array.isArray(c)?c[1]:c)===f||!(!Array.isArray(c)||"string"!=typeof f)&&Ln(c,f)>=0}const ja={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kE(c){return c.substring(ja.key,ja.keyEnd)}function Ne(c,f){const b=ja.textEnd;return b===f?-1:(f=ja.keyEnd=function PE(c,f,b){for(;f<b&&c.charCodeAt(f)>32;)f++;return f}(c,ja.key=f,b),gy(c,f,b))}function gy(c,f,b){for(;f<b&&c.charCodeAt(f)<=32;)f++;return f}function Bh(c,f,b){const k=Xn();return lc(k,Nf(),f)&&nd(co(),Ks(),k,c,f,k[ji],b,!1),Bh}function PA(c,f,b,k,Y){const Ee=Y?"class":"style";DM(c,b,f.inputs[Ee],Ee,k)}function RA(c,f,b){return $f(c,f,b,!1),RA}function OA(c,f){return $f(c,f,null,!0),OA}function p5(c){uf(i_,Lh,c,!0)}function Lh(c,f){for(let b=function Ka(c){return function lv(c){ja.key=0,ja.keyEnd=0,ja.value=0,ja.valueEnd=0,ja.textEnd=c.length}(c),Ne(c,gy(c,0,ja.textEnd))}(f);b>=0;b=Ne(f,b))Zt(c,kE(f),!0)}function $f(c,f,b,k){const Y=Xn(),ce=co(),Ee=Lf(2);ce.firstUpdatePass&&m5(ce,c,Ee,k),f!==Xi&&lc(Y,Ee,f)&&kc(ce,ce.data[Dl()],Y,Y[ji],c,Y[Ee+1]=function kB(c,f){return null==c||""===c||("string"==typeof f?c+=f:"object"==typeof c&&(c=gs(Mm(c)))),c}(f,b),k,Ee)}function uf(c,f,b,k){const Y=co(),ce=Lf(2);Y.firstUpdatePass&&m5(Y,null,ce,k);const Ee=Xn();if(b!==Xi&&lc(Ee,ce,b)){const Oe=Y.data[Dl()];if(Cs(Oe,k)&&!NA(Y,ce)){let Ze=k?Oe.classesWithoutHost:Oe.stylesWithoutHost;null!==Ze&&(b=tm(Ze,b||"")),PA(Y,Oe,Ee,b,k)}else!function CB(c,f,b,k,Y,ce,Ee,Oe){Y===Xi&&(Y=ai);let Ze=0,mt=0,xt=0<Y.length?Y[0]:null,Ht=0<ce.length?ce[0]:null;for(;null!==xt||null!==Ht;){const ln=Ze<Y.length?Y[Ze+1]:void 0,mn=mt<ce.length?ce[mt+1]:void 0;let Zn,In=null;xt===Ht?(Ze+=2,mt+=2,ln!==mn&&(In=Ht,Zn=mn)):null===Ht||null!==xt&&xt<Ht?(Ze+=2,In=xt):(mt+=2,In=Ht,Zn=mn),null!==In&&kc(c,f,b,k,In,Zn,Ee,Oe),xt=Ze<Y.length?Y[Ze]:null,Ht=mt<ce.length?ce[mt]:null}}(Y,Oe,Ee,Ee[ji],Ee[ce+1],Ee[ce+1]=function Ll(c,f,b){if(null==b||""===b)return ai;const k=[],Y=Mm(b);if(Array.isArray(Y))for(let ce=0;ce<Y.length;ce++)c(k,Y[ce],!0);else if("object"==typeof Y)for(const ce in Y)Y.hasOwnProperty(ce)&&c(k,ce,Y[ce]);else"string"==typeof Y&&f(k,Y);return k}(c,f,b),k,ce)}}function NA(c,f){return f>=c.expandoStartIndex}function m5(c,f,b,k){const Y=c.data;if(null===Y[b+1]){const ce=Y[Dl()],Ee=NA(c,b);Cs(ce,k)&&null===f&&!Ee&&(f=!1),f=function DB(c,f,b,k){const Y=ts(c);let ce=k?f.residualClasses:f.residualStyles;if(null===Y)0===(k?f.classBindings:f.styleBindings)&&(b=Gm(b=Rp(null,c,f,b,k),f.attrs,k),ce=null);else{const Ee=f.directiveStylingLast;if(-1===Ee||c[Ee]!==Y)if(b=Rp(Y,c,f,b,k),null===ce){let Ze=function cs(c,f,b){const k=b?f.classBindings:f.styleBindings;if(0!==wa(k))return c[no(k)]}(c,f,k);void 0!==Ze&&Array.isArray(Ze)&&(Ze=Rp(null,c,f,Ze[1],k),Ze=Gm(Ze,f.attrs,k),function Fd(c,f,b,k){c[no(b?f.classBindings:f.styleBindings)]=k}(c,f,k,Ze))}else ce=function dv(c,f,b){let k;const Y=f.directiveEnd;for(let ce=1+f.directiveStylingLast;ce<Y;ce++)k=Gm(k,c[ce].hostAttrs,b);return Gm(k,f.attrs,b)}(c,f,k)}return void 0!==ce&&(k?f.residualClasses=ce:f.residualStyles=ce),b}(Y,ce,f,k),function Nl(c,f,b,k,Y,ce){let Ee=ce?f.classBindings:f.styleBindings,Oe=no(Ee),Ze=wa(Ee);c[k]=b;let xt,mt=!1;if(Array.isArray(b)?(xt=b[1],(null===xt||Ln(b,xt)>0)&&(mt=!0)):xt=b,Y)if(0!==Ze){const ln=no(c[Oe+1]);c[k+1]=Fa(ln,Oe),0!==ln&&(c[ln+1]=Dc(c[ln+1],k)),c[Oe+1]=function dc(c,f){return 131071&c|f<<17}(c[Oe+1],k)}else c[k+1]=Fa(Oe,0),0!==Oe&&(c[Oe+1]=Dc(c[Oe+1],k)),Oe=k;else c[k+1]=Fa(Ze,0),0===Oe?Oe=k:c[Ze+1]=Dc(c[Ze+1],k),Ze=k;mt&&(c[k+1]=rl(c[k+1])),TA(c,xt,k,!0),TA(c,xt,k,!1),function Ds(c,f,b,k,Y){const ce=Y?c.residualClasses:c.residualStyles;null!=ce&&"string"==typeof f&&Ln(ce,f)>=0&&(b[k+1]=Cc(b[k+1]))}(f,xt,c,k,ce),Ee=Fa(Oe,Ze),ce?f.classBindings=Ee:f.styleBindings=Ee}(Y,ce,f,b,Ee,k)}}function Rp(c,f,b,k,Y){let ce=null;const Ee=b.directiveEnd;let Oe=b.directiveStylingLast;for(-1===Oe?Oe=b.directiveStart:Oe++;Oe<Ee&&(ce=f[Oe],k=Gm(k,ce.hostAttrs,Y),ce!==c);)Oe++;return null!==c&&(b.directiveStylingLast=Oe),k}function Gm(c,f,b){const k=b?1:2;let Y=-1;if(null!==f)for(let ce=0;ce<f.length;ce++){const Ee=f[ce];"number"==typeof Ee?Y=Ee:Y===k&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),Zt(c,Ee,!!b||f[++ce]))}return void 0===c?null:c}function i_(c,f,b){const k=String(f);""!==k&&!k.includes(" ")&&Zt(c,k,b)}function kc(c,f,b,k,Y,ce,Ee,Oe){if(!(3&f.type))return;const Ze=c.data,mt=Ze[Oe+1],xt=function Bl(c){return!(1&~c)}(mt)?g5(Ze,f,b,Y,wa(mt),Ee):void 0;vy(xt)||(vy(ce)||function Ol(c){return!(2&~c)}(mt)&&(ce=g5(Ze,null,b,Y,Oe,Ee)),function aU(c,f,b,k,Y){if(f)Y?c.addClass(b,k):c.removeClass(b,k);else{let ce=-1===k.indexOf("-")?void 0:oo.DashCase;null==Y?c.removeStyle(b,k,ce):("string"==typeof Y&&Y.endsWith("!important")&&(Y=Y.slice(0,-10),ce|=oo.Important),c.setStyle(b,k,Y,ce))}}(k,Ee,Dd(Dl(),b),Y,ce))}function g5(c,f,b,k,Y,ce){const Ee=null===f;let Oe;for(;Y>0;){const Ze=c[Y],mt=Array.isArray(Ze),xt=mt?Ze[1]:Ze,Ht=null===xt;let ln=b[Y+1];ln===Xi&&(ln=Ht?ai:void 0);let mn=Ht?xn(ln,k):xt===k?ln:void 0;if(mt&&!vy(mn)&&(mn=xn(Ze,k)),vy(mn)&&(Oe=mn,Ee))return Oe;const In=c[Y+1];Y=Ee?no(In):wa(In)}if(null!==f){let Ze=ce?f.residualClasses:f.residualStyles;null!=Ze&&(Oe=xn(Ze,k))}return Oe}function vy(c){return void 0!==c}function Cs(c,f){return!!(c.flags&(f?8:16))}function by(c,f,b){uf(Zt,Lh,my(Xn(),c,f,b),!0)}class o_{destroy(f){}updateValue(f,b){}swap(f,b){const k=Math.min(f,b),Y=Math.max(f,b),ce=this.detach(Y);if(Y-k>1){const Ee=this.detach(k);this.attach(k,ce),this.attach(Y,Ee)}else this.attach(k,ce)}move(f,b){this.attach(b,this.detach(f))}}function Zm(c,f,b,k,Y){return c===b&&Object.is(f,k)?1:Object.is(Y(c,f),Y(b,k))?-1:0}function Ym(c,f,b,k){return!(void 0===f||!f.has(k)||(c.attach(b,f.get(k)),f.delete(k),0))}function _5(c,f,b,k,Y){if(Ym(c,f,k,b(k,Y)))c.updateValue(k,Y);else{const ce=c.create(k,Y);c.attach(k,ce)}}function UA(c,f,b,k){const Y=new Set;for(let ce=f;ce<=b;ce++)Y.add(k(ce,c.at(ce)));return Y}class FA{constructor(){this.kvMap=new Map,this._vMap=void 0}has(f){return this.kvMap.has(f)}delete(f){if(!this.has(f))return!1;const b=this.kvMap.get(f);return void 0!==this._vMap&&this._vMap.has(b)?(this.kvMap.set(f,this._vMap.get(b)),this._vMap.delete(b)):this.kvMap.delete(f),!0}get(f){return this.kvMap.get(f)}set(f,b){if(this.kvMap.has(f)){let k=this.kvMap.get(f);void 0===this._vMap&&(this._vMap=new Map);const Y=this._vMap;for(;Y.has(k);)k=Y.get(k);Y.set(k,b)}else this.kvMap.set(f,b)}forEach(f){for(let[b,k]of this.kvMap)if(f(k,b),void 0!==this._vMap){const Y=this._vMap;for(;Y.has(k);)k=Y.get(k),f(k,b)}}}function E5(c,f){id("NgControlFlow");const b=Xn(),k=Nf(),Y=b[k]!==Xi?b[k]:-1,ce=-1!==Y?s_(b,ri+Y):void 0;if(lc(b,k,c)){const Oe=B(null);try{if(void 0!==ce&&PM(ce,0),-1!==c){const Ze=ri+c,mt=s_(b,Ze),xt=uv(b[gr],Ze),Ht=cy(mt,xt.tView.ssrId);Yg(mt,ku(b,xt,f,{dehydratedView:Ht}),0,oy(xt,Ht))}}finally{B(Oe)}}else if(void 0!==ce){const Oe=kM(ce,0);void 0!==Oe&&(Oe[js]=f)}}class Ou{constructor(f,b,k){this.lContainer=f,this.$implicit=b,this.$index=k}get $count(){return this.lContainer.length-Na}}function vo(c){return c}function $r(c,f){return f}class ls{constructor(f,b,k){this.hasEmptyBlock=f,this.trackByFn=b,this.liveCollection=k}}function wy(c,f,b,k,Y,ce,Ee,Oe,Ze,mt,xt,Ht,ln){id("NgControlFlow");const mn=Xn(),In=co(),Zn=void 0!==Ze,yr=Xn(),Mr=Oe?Ee.bind(yr[ua][js]):Ee,rr=new ls(Zn,Mr);yr[ri+c]=rr,sv(mn,In,c+1,f,b,k,Y,du(In.consts,ce)),Zn&&sv(mn,In,c+2,Ze,mt,xt,Ht,du(In.consts,ln))}class Ul extends o_{constructor(f,b,k){super(),this.lContainer=f,this.hostLView=b,this.templateTNode=k,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Na}at(f){return this.getLView(f)[js].$implicit}attach(f,b){const k=b[Id];this.needsIndexUpdate||=f!==this.length,Yg(this.lContainer,b,f,oy(this.templateTNode,k))}detach(f){return this.needsIndexUpdate||=f!==this.length-1,function $a(c,f){return pw(c,f)}(this.lContainer,f)}create(f,b){const k=cy(this.lContainer,this.templateTNode.tView.ssrId),Y=ku(this.hostLView,this.templateTNode,new Ou(this.lContainer,b,f),{dehydratedView:k});return this.operationsCounter?.recordCreate(),Y}destroy(f){O2(f[gr],f),this.operationsCounter?.recordDestroy()}updateValue(f,b){this.getLView(f)[js].$implicit=b}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let f=0;f<this.length;f++)this.getLView(f)[js].$index=f}getLView(f){return function fa(c,f){return kM(c,f)}(this.lContainer,f)}}function fo(c){const f=B(null),b=Dl();try{const k=Xn(),Y=k[gr],ce=k[b],Ee=b+1,Oe=s_(k,Ee);if(void 0===ce.liveCollection){const mt=uv(Y,Ee);ce.liveCollection=new Ul(Oe,k,mt)}else ce.liveCollection.reset();const Ze=ce.liveCollection;if(function RE(c,f,b){let k,Y,ce=0,Ee=c.length-1;if(Array.isArray(f)){let Ze=f.length-1;for(;ce<=Ee&&ce<=Ze;){const mt=c.at(ce),xt=f[ce],Ht=Zm(ce,mt,ce,xt,b);if(0!==Ht){Ht<0&&c.updateValue(ce,xt),ce++;continue}const ln=c.at(Ee),mn=f[Ze],In=Zm(Ee,ln,Ze,mn,b);if(0!==In){In<0&&c.updateValue(Ee,mn),Ee--,Ze--;continue}const Zn=b(ce,mt),yr=b(Ee,ln),Mr=b(ce,xt);if(Object.is(Mr,yr)){const rr=b(Ze,mn);Object.is(rr,Zn)?(c.swap(ce,Ee),c.updateValue(Ee,mn),Ze--,Ee--):c.move(Ee,ce),c.updateValue(ce,xt),ce++}else if(k??=new FA,Y??=UA(c,ce,Ee,b),Ym(c,k,ce,Mr))c.updateValue(ce,xt),ce++,Ee++;else if(Y.has(Mr))k.set(Zn,c.detach(ce)),Ee--;else{const rr=c.create(ce,f[ce]);c.attach(ce,rr),ce++,Ee++}}for(;ce<=Ze;)_5(c,k,b,ce,f[ce]),ce++}else if(null!=f){const Ze=f[Symbol.iterator]();let mt=Ze.next();for(;!mt.done&&ce<=Ee;){const xt=c.at(ce),Ht=mt.value,ln=Zm(ce,xt,ce,Ht,b);if(0!==ln)ln<0&&c.updateValue(ce,Ht),ce++,mt=Ze.next();else{k??=new FA,Y??=UA(c,ce,Ee,b);const mn=b(ce,Ht);if(Ym(c,k,ce,mn))c.updateValue(ce,Ht),ce++,Ee++,mt=Ze.next();else if(Y.has(mn)){const In=b(ce,xt);k.set(In,c.detach(ce)),Ee--}else c.attach(ce,c.create(ce,Ht)),ce++,Ee++,mt=Ze.next()}}for(;!mt.done;)_5(c,k,b,c.length,mt.value),mt=Ze.next()}for(;ce<=Ee;)c.destroy(c.detach(Ee--));k?.forEach(Ze=>{c.destroy(Ze)})}(Ze,c,ce.trackByFn),Ze.updateIndexes(),ce.hasEmptyBlock){const mt=Nf(),xt=0===Ze.length;if(lc(k,mt,xt)){const Ht=b+2,ln=s_(k,Ht);if(xt){const mn=uv(Y,Ht),In=cy(ln,mn.tView.ssrId);Yg(ln,ku(k,mn,void 0,{dehydratedView:In}),0,oy(mn,In))}else PM(ln,0)}}}finally{B(f)}}function s_(c,f){return c[f]}function uv(c,f){return Ob(c,f)}function gu(c,f,b,k){const Y=Xn(),ce=co(),Ee=ri+c,Oe=Y[ji],Ze=ce.firstCreatePass?function x5(c,f,b,k,Y,ce){const Ee=f.consts,Ze=Dm(f,c,2,k,du(Ee,Y));return F2(f,b,Ze,du(Ee,ce)),null!==Ze.attrs&&dy(Ze,Ze.attrs,!1),null!==Ze.mergedAttrs&&dy(Ze,Ze.mergedAttrs,!0),null!==f.queries&&f.queries.elementStart(f,Ze),Ze}(Ee,ce,Y,f,b,k):ce.data[Ee],mt=fv(ce,Y,Ze,Oe,f,c);Y[Ee]=mt;const xt=z0(Ze);return nc(Ze,!0),wO(Oe,mt,Ze),!function ov(c){return!(32&~c.flags)}(Ze)&&Kb()&&yw(ce,Y,mt,Ze),0===function mL(){return Bi.lFrame.elementDepthCount}()&&kl(mt,Y),function yL(){Bi.lFrame.elementDepthCount++}(),xt&&(_M(ce,Y,Ze),wM(ce,Ze,Y)),null!==k&&EM(Y,Ze),gu}function a_(){let c=Ki();QD()?Q1():(c=c.parent,nc(c,!1));const f=c;(function XP(c){return Bi.skipHydrationRootTNode===c})(f)&&function bL(){Bi.skipHydrationRootTNode=null}(),function G0(){Bi.lFrame.elementDepthCount--}();const b=co();return b.firstCreatePass&&(e2(b,c),Ag(c)&&b.queries.elementEnd(c)),null!=f.classesWithoutHost&&function c3(c){return!!(8&c.flags)}(f)&&PA(b,f,Xn(),f.classesWithoutHost,!0),null!=f.stylesWithoutHost&&function EL(c){return!!(16&c.flags)}(f)&&PA(b,f,Xn(),f.stylesWithoutHost,!1),a_}function jA(c,f,b,k){return gu(c,f,b,k),a_(),jA}let fv=(c,f,b,k,Y,ce)=>(Uf(!0),dM(k,Y,function FS(){return Bi.lFrame.currentNamespace}()));function c_(c,f,b){const k=Xn(),Y=co(),ce=c+ri,Ee=Y.firstCreatePass?function S5(c,f,b,k,Y){const ce=f.consts,Ee=du(ce,k),Oe=Dm(f,c,8,"ng-container",Ee);return null!==Ee&&dy(Oe,Ee,!0),F2(f,b,Oe,du(ce,Y)),null!==f.queries&&f.queries.elementStart(f,Oe),Oe}(ce,Y,k,f,b):Y.data[ce];nc(Ee,!0);const Oe=KA(Y,k,Ee,c);return k[ce]=Oe,Kb()&&yw(Y,k,Oe,Ee),kl(Oe,k),z0(Ee)&&(_M(Y,k,Ee),wM(Y,Ee,k)),null!=b&&EM(k,Ee),c_}function l_(){let c=Ki();const f=co();return QD()?Q1():(c=c.parent,nc(c,!1)),f.firstCreatePass&&(e2(f,c),Ag(c)&&f.queries.elementEnd(c)),l_}function BE(c,f,b){return c_(c,f,b),l_(),BE}let KA=(c,f,b,k)=>(Uf(!0),hw(f[ji],""));function vu(){return Xn()}function vs(c,f,b){const k=Xn();return lc(k,Nf(),f)&&nd(co(),Ks(),k,c,f,k[ji],b,!0),vs}function bs(c,f,b){const k=Xn();if(lc(k,Nf(),f)){const ce=co(),Ee=Ks();nd(ce,Ee,k,c,f,OC(ts(ce.data),Ee,k),b,!0)}return bs}const Ni=void 0;var Ti=["en",[["a","p"],["AM","PM"],Ni],[["AM","PM"],Ni,Ni],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ni,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ni,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ni,"{1} 'at' {0}",Ni],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Vs(c){const b=Math.floor(Math.abs(c)),k=c.toString().replace(/^[^.]*\.?/,"").length;return 1===b&&0===k?1:5}];let eo={};function Lr(c){const f=function $A(c){return c.toLowerCase().replace(/_/g,"-")}(c);let b=NE(f);if(b)return b;const k=f.split("-")[0];if(b=NE(k),b)return b;if("en"===k)return Ti;throw new xr(701,!1)}function M5(c){return Lr(c)[jd.PluralCase]}function NE(c){return c in eo||(eo[c]=ss.ng&&ss.ng.common&&ss.ng.common.locales&&ss.ng.common.locales[c]),eo[c]}var jd=function(c){return c[c.LocaleId=0]="LocaleId",c[c.DayPeriodsFormat=1]="DayPeriodsFormat",c[c.DayPeriodsStandalone=2]="DayPeriodsStandalone",c[c.DaysFormat=3]="DaysFormat",c[c.DaysStandalone=4]="DaysStandalone",c[c.MonthsFormat=5]="MonthsFormat",c[c.MonthsStandalone=6]="MonthsStandalone",c[c.Eras=7]="Eras",c[c.FirstDayOfWeek=8]="FirstDayOfWeek",c[c.WeekendRange=9]="WeekendRange",c[c.DateFormat=10]="DateFormat",c[c.TimeFormat=11]="TimeFormat",c[c.DateTimeFormat=12]="DateTimeFormat",c[c.NumberSymbols=13]="NumberSymbols",c[c.NumberFormats=14]="NumberFormats",c[c.CurrencyCode=15]="CurrencyCode",c[c.CurrencySymbol=16]="CurrencySymbol",c[c.CurrencyName=17]="CurrencyName",c[c.Currencies=18]="Currencies",c[c.Directionality=19]="Directionality",c[c.PluralCase=20]="PluralCase",c[c.ExtraData=21]="ExtraData",c}(jd||{});const Op="en-US",Kh={marker:"element"},ks={marker:"ICU"};var Pc=function(c){return c[c.SHIFT=2]="SHIFT",c[c.APPEND_EAGERLY=1]="APPEND_EAGERLY",c[c.COMMENT=2]="COMMENT",c}(Pc||{});let ff=Op;let Rc=(c,f,b,k)=>(Uf(!0),function Xm(c,f,b){const k=c[ji];switch(b){case Node.COMMENT_NODE:return hw(k,f);case Node.TEXT_NODE:return P2(k,f);case Node.ELEMENT_NODE:return dM(k,f,null)}}(c,b,k));const Qm=/\ufffd(\d+):?\d*\ufffd/gi,Nu=/\ufffd(\d+)\ufffd/,HA=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Oc="\ufffd",I5=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,v_=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,D5=/\uE500/g;function ha(c,f,b,k,Y,ce,Ee){const Oe=vw(c,k,1,null);let Ze=Oe<<Pc.SHIFT,mt=xh();f===mt&&(mt=null),null===mt&&(Ze|=Pc.APPEND_EAGERLY),Ee&&(Ze|=Pc.COMMENT,function uO(c){void 0===$g&&($g=c())}(Ph)),Y.push(Ze,null===ce?"":ce);const xt=gw(c,Oe,Ee?32:1,null===ce?"":ce,null);WC(b,xt);const Ht=xt.index;return nc(xt,!1),null!==mt&&f!==mt&&function HO(c,f){let b=c.insertBeforeIndex;null===b?(yM(zC,HC),b=c.insertBeforeIndex=[null,f]):(bc(Array.isArray(b),!0,"Expecting array here"),b.push(f))}(mt,Ht),xt}function Ey(c,f,b,k,Y,ce,Ee,Oe){const Ze=Oe.match(Qm),xt=ha(f,b,k,Ee,Y,Ze?null:Oe,!1).index;Ze&&hf(ce,Oe,xt,null,0,null),c.push({kind:0,index:xt})}function hf(c,f,b,k,Y,ce){const Ee=c.length,Oe=Ee+1;c.push(null,null);const Ze=Ee+2,mt=f.split(Qm);let xt=0;for(let Ht=0;Ht<mt.length;Ht++){const ln=mt[Ht];if(1&Ht){const mn=Y+parseInt(ln,10);c.push(-1-mn),xt|=w_(mn)}else""!==ln&&c.push(ln)}return c.push(b<<2|(k?1:0)),k&&c.push(k,ce),c[Ee]=xt,c[Oe]=c.length-Ze,xt}function w_(c){return 1<<Math.min(c,31)}function mv(c){let f,ce,b="",k=0,Y=!1;for(;null!==(f=I5.exec(c));)Y?f[0]===`${Oc}/*${ce}${Oc}`&&(k=f.index,Y=!1):(b+=c.substring(k,f.index+f[0].length),ce=f[1],Y=!0);return b+=c.slice(k),b}function E_(c,f,b,k,Y,ce,Ee){let Oe=0;const Ze={type:ce.type,currentCaseLViewIndex:vw(f,b,1,null),anchorIdx:Ee,cases:[],create:[],remove:[],update:[]};(function zE(c,f,b){c.push(w_(f.mainBinding),2,-1-f.mainBinding,b<<2|2)})(k,ce,Ee),function Aw(c,f,b){const k=c.data[f];null===k?c.data[f]=b:k.value=b}(f,Ee,Ze);const mt=ce.values,xt=[];for(let Ht=0;Ht<mt.length;Ht++){const ln=mt[Ht],mn=[];for(let Zn=0;Zn<ln.length;Zn++){const yr=ln[Zn];if("string"!=typeof yr){const Mr=mn.push(yr)-1;ln[Zn]=`\x3c!--\ufffd${Mr}\ufffd--\x3e`}}const In=[];xt.push(In),Oe=WA(In,f,Ze,b,k,Y,ce.cases[Ht],ln.join(""),mn)|Oe}Oe&&function HE(c,f,b){c.push(f,1,b<<2|3)}(k,Oe,Ee),c.push({kind:3,index:Ee,cases:xt,currentCaseLViewIndex:Ze.currentCaseLViewIndex})}function KE(c){const f=[],b=[];let k=1,Y=0;const ce=x_(c=c.replace(HA,function(Ee,Oe,Ze){return k="select"===Ze?0:1,Y=parseInt(Oe.slice(1),10),""}));for(let Ee=0;Ee<ce.length;){let Oe=ce[Ee++].trim();1===k&&(Oe=Oe.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Oe.length&&f.push(Oe);const Ze=x_(ce[Ee++]);f.length>b.length&&b.push(Ze)}return{type:k,mainBinding:Y,cases:f,values:b}}function x_(c){if(!c)return[];let f=0;const b=[],k=[],Y=/[{}]/g;let ce;for(Y.lastIndex=0;ce=Y.exec(c);){const Oe=ce.index;if("}"==ce[0]){if(b.pop(),0==b.length){const Ze=c.substring(f,Oe);HA.test(Ze)?k.push(KE(Ze)):k.push(Ze),f=Oe+1}}else{if(0==b.length){const Ze=c.substring(f,Oe);k.push(Ze),f=Oe+1}b.push("{")}}const Ee=c.substring(f);return k.push(Ee),k}function WA(c,f,b,k,Y,ce,Ee,Oe,Ze){const mt=[],xt=[],Ht=[];b.cases.push(Ee),b.create.push(mt),b.remove.push(xt),b.update.push(Ht);const mn=Z3(wm()).getInertBodyElement(Oe),In=I2(mn)||mn;return In?$E(c,f,b,k,Y,mt,xt,Ht,In,ce,Ze,0):0}function $E(c,f,b,k,Y,ce,Ee,Oe,Ze,mt,xt,Ht){let ln=0,mn=Ze.firstChild;for(;mn;){const In=vw(f,k,1,null);switch(mn.nodeType){case Node.ELEMENT_NODE:const Zn=mn,yr=Zn.tagName.toLowerCase();if(nM.hasOwnProperty(yr)){yv(ce,Kh,yr,mt,In),f.data[In]=yr;const Uo=Zn.attributes;for(let cl=0;cl<Uo.length;cl++){const ju=Uo.item(cl),e1=ju.name.toLowerCase();ju.value.match(Qm)?Q3.hasOwnProperty(e1)&&hf(Oe,ju.value,In,ju.name,0,rM[e1]?x2:null):WE(ce,In,ju)}const Rs={kind:1,index:In,children:[]};c.push(Rs),ln=$E(Rs.children,f,b,k,Y,ce,Ee,Oe,mn,In,xt,Ht+1)|ln,VE(Ee,In,Ht)}break;case Node.TEXT_NODE:const Mr=mn.textContent||"",rr=Mr.match(Qm);yv(ce,null,rr?"":Mr,mt,In),VE(Ee,In,Ht),rr&&(ln=hf(Oe,Mr,In,null,0,null)|ln),c.push({kind:0,index:In});break;case Node.COMMENT_NODE:const Li=Nu.exec(mn.textContent||"");if(Li){const Rs=xt[parseInt(Li[1],10)];yv(ce,ks,"",mt,In),E_(c,f,k,Y,mt,Rs,In),GA(Ee,In,Ht)}}mn=mn.nextSibling}return ln}function VE(c,f,b){0===b&&c.push(f)}function GA(c,f,b){0===b&&(c.push(~f),c.push(f))}function yv(c,f,b,k,Y){null!==f&&c.push(f),c.push(b,Y,function ZC(c,f,b){return c|f<<17|b<<1}(0,k,Y))}function WE(c,f,b){c.push(f<<1|1,b.name,b.value)}function Sy(c,f,b=-1){const k=co(),Y=Xn(),ce=ri+c,Ee=du(k.consts,f),Oe=xh();k.firstCreatePass&&function Bc(c,f,b,k,Y,ce){const Ee=xh(),Oe=[],Ze=[],mt=[[]],xt=[[]];Y=function __(c,f){if(function YC(c){return-1===c}(f))return mv(c);{const b=c.indexOf(`:${f}${Oc}`)+2+f.toString().length,k=c.search(new RegExp(`${Oc}\\/\\*\\d+:${f}${Oc}`));return mv(c.substring(b,k))}}(Y,ce);const Ht=function b_(c){return c.replace(D5," ")}(Y).split(v_);for(let ln=0;ln<Ht.length;ln++){let mn=Ht[ln];if(1&ln){const In=47===mn.charCodeAt(0),Zn=mn.charCodeAt(In?1:0),yr=ri+Number.parseInt(mn.substring(In?2:1));if(In)mt.shift(),xt.shift(),nc(xh(),!1);else{const Mr=WO(c,mt[0],yr);mt.unshift([]),nc(Mr,!0);const rr={kind:2,index:yr,children:[],type:35===Zn?0:1};xt[0].push(rr),xt.unshift(rr.children)}}else{const In=x_(mn);for(let Zn=0;Zn<In.length;Zn++){let yr=In[Zn];if(1&Zn){const Mr=yr;if("object"!=typeof Mr)throw new Error(`Unable to parse ICU expression in "${Y}" message.`);const Li=ha(c,Ee,mt[0],b,Oe,"",!0).index;E_(xt[0],c,b,Ze,f,Mr,Li)}else""!==yr&&Ey(xt[0],c,Ee,mt[0],Oe,Ze,b,yr)}}}c.data[k]={create:Oe,update:Ze,ast:xt[0]}}(k,null===Oe?0:Oe.index,Y,ce,Ee,b),2===k.type?Y[ua][pi]|=32:Y[pi]|=32;const Ze=k.data[ce],xt=pO(k,Oe===Y[Il]?null:Oe,Y),Ht=Oe&&8&Oe.type?Y[Oe.index]:null;(function JO(c,f,b,k){n6(c,f,b,k)})(Y,ce,Oe,b),function _y(c,f,b,k){const Y=c[ji];for(let ce=0;ce<f.length;ce++){const Ee=f[ce++],mt=(Ee&Pc.APPEND_EAGERLY)===Pc.APPEND_EAGERLY,xt=Ee>>>Pc.SHIFT;let Ht=c[xt],ln=!1;null===Ht&&(Ht=c[xt]=Rc(c,xt,f[ce],(Ee&Pc.COMMENT)===Pc.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),ln=Kb()),mt&&null!==b&&ln&&Hg(Y,b,Ht,k,!1)}}(Y,Ze.create,xt,Ht),LS(!0)}function vv(c,f,b){Sy(c,f,b),function Uc(){LS(!1)}()}let pf=(c,f,b)=>{};function ud(c,f,b,k){const Y=Xn(),ce=co(),Ee=Ki();return wv(ce,Y,Y[ji],Ee,c,f,k),ud}function Fc(c,f){const b=Ki(),k=Xn(),Y=co();return wv(Y,k,OC(ts(Y.data),b,k),b,c,f),Fc}function wv(c,f,b,k,Y,ce,Ee){const Oe=z0(k),mt=c.firstCreatePass&&iy(c),xt=f[js],Ht=Zg(f);let ln=!0;if(3&k.type||Ee){const Zn=Qc(k,f),yr=Ee?Ee(Zn):Zn,Mr=Ht.length,rr=Ee?Uo=>Ee(Io(Uo[k.index])):k.index;let Li=null;if(!Ee&&Oe&&(Li=function P5(c,f,b,k){const Y=c.cleanup;if(null!=Y)for(let ce=0;ce<Y.length-1;ce+=2){const Ee=Y[ce];if(Ee===b&&Y[ce+1]===k){const Oe=f[Eg],Ze=Y[ce+2];return Oe.length>Ze?Oe[Ze]:null}"string"==typeof Ee&&(ce+=2)}return null}(c,f,Y,k.index)),null!==Li)(Li.__ngLastListenerFn__||Li).__ngNextListenerFn__=ce,Li.__ngLastListenerFn__=ce,ln=!1;else{ce=ds(k,f,xt,ce),pf(Zn,Y,ce);const Uo=b.listen(yr,Y,ce);Ht.push(ce,Uo),mt&&mt.push(Y,rr,Mr,Mr+1)}}else ce=ds(k,f,xt,ce);const mn=k.outputs;let In;if(ln&&null!==mn&&(In=mn[Y])){const Zn=In.length;if(Zn)for(let yr=0;yr<Zn;yr+=2){const Rs=f[In[yr]][In[yr+1]].subscribe(ce),cl=Ht.length;Ht.push(ce,Rs),mt&&mt.push(Y,k.index,cl,-(cl+1))}}}function e0(c,f,b,k){const Y=B(null);try{return Of(6,f,b),!1!==b(k)}catch(ce){return z2(c,ce),!1}finally{Of(7,f,b),B(Y)}}function ds(c,f,b,k){return function Y(ce){if(ce===Function)return k;Dp(c.componentOffset>-1?xo(c.index,f):f,5);let Oe=e0(f,b,k,ce),Ze=Y.__ngNextListenerFn__;for(;Ze;)Oe=e0(f,b,Ze,ce)&&Oe,Ze=Ze.__ngNextListenerFn__;return Oe}}function JA(c=1){return function jb(c){return(Bi.lFrame.contextLView=function OS(c,f){for(;c>0;)f=f[xg],c--;return f}(c,Bi.lFrame.contextLView))[js]}(c)}function qA(c,f){let b=null;const k=function ND(c){const f=c.attrs;if(null!=f){const b=f.indexOf(5);if(!(1&b))return f[b+1]}return null}(c);for(let Y=0;Y<f.length;Y++){const ce=f[Y];if("*"!==ce){if(null===k?bS(c,ce,!0):Ue(k,ce))return Y}else b=Y}return b}function QA(c){const f=Xn()[ua][Il];if(!f.projection){const k=f.projection=function Ge(c,f){const b=[];for(let k=0;k<c;k++)b.push(f);return b}(c?c.length:1,null),Y=k.slice();let ce=f.child;for(;null!==ce;){if(128!==ce.type){const Ee=c?qA(ce,c):0;null!==Ee&&(Y[Ee]?Y[Ee].projectionNext=ce:k[Ee]=ce,Y[Ee]=ce)}ce=ce.next}}}function eT(c,f=0,b,k,Y,ce){const Ee=Xn(),Oe=co(),Ze=k?c+1:null;null!==Ze&&sv(Ee,Oe,Ze,k,Y,ce,null,b);const mt=Dm(Oe,ri+c,16,null,b||null);null===mt.projection&&(mt.projection=f),Q1();const Ht=!Ee[Id]||Is();null===Ee[ua][Il].projection[mt.projection]&&null!==Ze?function R5(c,f,b){const k=ri+b,Y=f.data[k],ce=c[k],Ee=cy(ce,Y.tView.ssrId);Yg(ce,ku(c,Y,void 0,{dehydratedView:Ee}),0,oy(Y,Ee))}(Ee,Oe,Ze):Ht&&32&~mt.flags&&function oU(c,f,b){bO(f[ji],0,f,b,mw(c,b,f),vC(b.parent||f[Il],b,f))}(Oe,Ee,mt)}function YE(c,f,b){return XE(c,"",f,"",b),YE}function XE(c,f,b,k,Y){const ce=Xn(),Ee=my(ce,f,b,k);return Ee!==Xi&&nd(co(),Ks(),ce,c,Ee,ce[ji],Y,!1),XE}function rT(c,f,b,k){j6(c,f,b,k)}function iT(c,f,b){F6(c,f,b)}function oT(c){const f=Xn(),b=co(),k=US();Fb(k+1);const Y=cE(b,k);if(c.dirty&&function PS(c){return!(4&~c[pi])}(f)===!(2&~Y.metadata.flags)){if(null===Y.matches)c.reset([]);else{const ce=$6(f,k);c.reset(ce,v3),c.notifyOnChanges()}return!0}return!1}function sT(){return iA(Xn(),US())}function qE(c,f,b,k,Y){j4(f,j6(c,b,k,Y))}function Up(c,f,b,k){j4(c,F6(f,b,k))}function Wh(c=1){Fb(US()+c)}function I_(c){return H0(function Xo(){return Bi.lFrame.contextLView}(),ri+c)}function C_(c,f=""){const b=Xn(),k=co(),Y=c+ri,ce=k.firstCreatePass?Dm(k,Y,1,f,null):k.data[Y],Ee=tx(k,b,ce,f,c);b[Y]=Ee,Kb()&&yw(k,b,Ee,ce),nc(ce,!1)}let tx=(c,f,b,k,Y)=>(Uf(!0),P2(f[ji],k));function Ev(c){return xv("",c,""),Ev}function xv(c,f,b){const k=Xn(),Y=my(k,c,f,b);return Y!==Xi&&Tp(k,Dl(),Y),xv}function nx(c,f,b,k,Y){const ce=Xn(),Ee=yy(ce,c,f,b,k,Y);return Ee!==Xi&&Tp(ce,Dl(),Ee),nx}function ox(c,f,b){U4(f)&&(f=f());const k=Xn();return lc(k,Nf(),f)&&nd(co(),Ks(),k,c,f,k[ji],b,!1),ox}function vT(c,f){const b=U4(c);return b&&c.set(f),b}function sx(c,f){const b=Xn(),k=co(),Y=Ki();return wv(k,b,b[ji],Y,c,f),sx}function Kd(c,f,b,k,Y){if(c=si(c),Array.isArray(c))for(let ce=0;ce<c.length;ce++)Kd(c[ce],f,b,k,Y);else{const ce=co(),Ee=Xn(),Oe=Ki();let Ze=F0(c)?c:si(c.provide);const mt=FD(c),xt=1048575&Oe.providerIndexes,Ht=Oe.directiveStart,ln=Oe.providerIndexes>>20;if(F0(c)||!c.multi){const mn=new Vb(mt,Y,Gg),In=cx(Ze,f,Y?xt:xt+ln,Ht);-1===In?(zS(Th(Oe,Ee),ce,Ze),ax(ce,c,f.length),f.push(Ze),Oe.directiveStart++,Oe.directiveEnd++,Y&&(Oe.providerIndexes+=1048576),b.push(mn),Ee.push(mn)):(b[In]=mn,Ee[In]=mn)}else{const mn=cx(Ze,f,xt+ln,Ht),In=cx(Ze,f,xt,xt+ln),yr=In>=0&&b[In];if(Y&&!yr||!Y&&!(mn>=0&&b[mn])){zS(Th(Oe,Ee),ce,Ze);const Mr=function bu(c,f,b,k,Y){const ce=new Vb(c,b,Gg);return ce.multi=[],ce.index=f,ce.componentProviders=0,ET(ce,Y,k&&!b),ce}(Y?U5:L5,b.length,Y,k,mt);!Y&&yr&&(b[In].providerFactory=Mr),ax(ce,c,f.length,0),f.push(Ze),Oe.directiveStart++,Oe.directiveEnd++,Y&&(Oe.providerIndexes+=1048576),b.push(Mr),Ee.push(Mr)}else ax(ce,c,mn>-1?mn:In,ET(b[Y?In:mn],mt,!Y&&k));!Y&&k&&yr&&b[In].componentProviders++}}}function ax(c,f,b,k){const Y=F0(f),ce=function IP(c){return!!c.useClass}(f);if(Y||ce){const Ze=(ce?si(f.useClass):f).prototype.ngOnDestroy;if(Ze){const mt=c.destroyHooks||(c.destroyHooks=[]);if(!Y&&f.multi){const xt=mt.indexOf(b);-1===xt?mt.push(b,[k,Ze]):mt[xt+1].push(k,Ze)}else mt.push(b,Ze)}}}function ET(c,f,b){return b&&c.componentProviders++,c.multi.push(f)-1}function cx(c,f,b,k){for(let Y=b;Y<k;Y++)if(f[Y]===c)return Y;return-1}function L5(c,f,b,k){return lx(this.multi,[])}function U5(c,f,b,k){const Y=this.multi;let ce;if(this.providerFactory){const Ee=this.providerFactory.componentProviders,Oe=Y0(b,b[gr],this.providerFactory.index,k);ce=Oe.slice(0,Ee),lx(Y,ce);for(let Ze=Ee;Ze<Oe.length;Ze++)ce.push(Oe[Ze])}else ce=[],lx(Y,ce);return ce}function lx(c,f){for(let b=0;b<c.length;b++)f.push((0,c[b])());return f}function k_(c,f=[]){return b=>{b.providersResolver=(k,Y)=>function _T(c,f,b){const k=co();if(k.firstCreatePass){const Y=lu(c);Kd(b,k.data,k.blueprint,Y,!0),Kd(f,k.data,k.blueprint,Y,!1)}}(k,Y?Y(c):c,f)}}let xT=(()=>{class c{constructor(b){this._injector=b,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(b){if(!b.standalone)return null;if(!this.cachedInjectors.has(b)){const k=dm(0,b.type),Y=k.length>0?hy([k],this._injector,`Standalone[${b.type.name}]`):null;this.cachedInjectors.set(b,Y)}return this.cachedInjectors.get(b)}ngOnDestroy(){try{for(const b of this.cachedInjectors.values())null!==b&&b.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Do({token:c,providedIn:"environment",factory:()=>new c(_i(ef))})}return c})();function dx(c){id("NgStandalone"),c.getStandaloneInjector=f=>f.get(xT).getOrCreateStandaloneInjector(c)}function zf(c,f,b){const k=Cd()+c,Y=Xn();return Y[k]===Xi?Cp(Y,k,b?f.call(b):f()):function iv(c,f){return c[f]}(Y,k)}function R_(c,f,b,k){return Hf(Xn(),Cd(),c,f,b,k)}function Sv(c,f,b,k,Y){return function AT(c,f,b,k,Y,ce,Ee){const Oe=f+b;return py(c,Oe,Y,ce)?Cp(c,Oe+2,Ee?k.call(Ee,Y,ce):k(Y,ce)):Lu(c,Oe+2)}(Xn(),Cd(),c,f,b,k,Y)}function Lu(c,f){const b=c[f];return b===Xi?void 0:b}function Hf(c,f,b,k,Y,ce){const Ee=f+b;return lc(c,Ee,Y)?Cp(c,Ee+1,ce?k.call(ce,Y):k(Y)):Lu(c,Ee+1)}function CT(c,f){const b=co();let k;const Y=c+ri;b.firstCreatePass?(k=function F5(c,f){if(f)for(let b=f.length-1;b>=0;b--){const k=f[b];if(c===k.name)return k}}(f,b.pipeRegistry),b.data[Y]=k,k.onDestroy&&(b.destroyHooks??=[]).push(Y,k.onDestroy)):k=b.data[Y];const ce=k.factory||(k.factory=Pf(k.type)),Oe=Ja(Gg);try{const Ze=Sc(!1),mt=ce();return Sc(Ze),function T_(c,f,b,k){b>=c.data.length&&(c.data[b]=null,c.blueprint[b]=null),f[b]=k}(b,Xn(),Y,mt),mt}finally{Ja(Oe)}}function kT(c,f,b){const k=c+ri,Y=Xn(),ce=H0(Y,k);return function Py(c,f){return c[gr].data[f].pure}(Y,k)?Hf(Y,Cd(),f,ce.transform,b,ce):ce.transform(b)}function Iv(c,f){return Cm(c,f)}class Q5{constructor(f){this.full=f;const b=f.split(".");this.major=b[0],this.minor=b[1],this.patch=b.slice(2).join(".")}}let e8=(()=>{class c{log(b){console.log(b)}warn(b){console.warn(b)}static#e=this.\u0275fac=function(k){return new(k||c)};static#t=this.\u0275prov=Do({token:c,factory:c.\u0275fac,providedIn:"platform"})}return c})();const zT=new ki(""),Gf=new ki("");let Zf,rN=(()=>{class c{constructor(b,k,Y){this._ngZone=b,this.registry=k,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Zf||(function iN(c){Zf=c}(Y),Y.addToWindow(k)),this._watchAngularEvents(),b.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ea.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let b=this._callbacks.pop();clearTimeout(b.timeoutId),b.doneCb()}});else{let b=this.getPendingTasks();this._callbacks=this._callbacks.filter(k=>!k.updateCb||!k.updateCb(b)||(clearTimeout(k.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(b=>({source:b.source,creationLocation:b.creationLocation,data:b.data})):[]}addCallback(b,k,Y){let ce=-1;k&&k>0&&(ce=setTimeout(()=>{this._callbacks=this._callbacks.filter(Ee=>Ee.timeoutId!==ce),b()},k)),this._callbacks.push({doneCb:b,timeoutId:ce,updateCb:Y})}whenStable(b,k,Y){if(Y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(b,k,Y),this._runCallbacksIfReady()}registerApplication(b){this.registry.registerApplication(b,this)}unregisterApplication(b){this.registry.unregisterApplication(b)}findProviders(b,k,Y){return[]}static#e=this.\u0275fac=function(k){return new(k||c)(_i(ea),_i(o8),_i(Gf))};static#t=this.\u0275prov=Do({token:c,factory:c.\u0275fac})}return c})(),o8=(()=>{class c{constructor(){this._applications=new Map}registerApplication(b,k){this._applications.set(b,k)}unregisterApplication(b){this._applications.delete(b)}unregisterAllApplications(){this._applications.clear()}getTestability(b){return this._applications.get(b)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(b,k=!0){return Zf?.findTestabilityInTree(this,b,k)??null}static#e=this.\u0275fac=function(k){return new(k||c)};static#t=this.\u0275prov=Do({token:c,factory:c.\u0275fac,providedIn:"platform"})}return c})();function F_(c){return!!c&&"function"==typeof c.then}function Ov(c){return!!c&&"function"==typeof c.subscribe}const HT=new ki("");let Yh=(()=>{class c{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((b,k)=>{this.resolve=b,this.reject=k}),this.appInits=cr(HT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const b=[];for(const Y of this.appInits){const ce=Y();if(F_(ce))b.push(ce);else if(Ov(ce)){const Ee=new Promise((Oe,Ze)=>{ce.subscribe({complete:Oe,error:Ze})});b.push(Ee)}}const k=()=>{this.done=!0,this.resolve()};Promise.all(b).then(()=>{k()}).catch(Y=>{this.reject(Y)}),0===b.length&&k(),this.initialized=!0}static#e=this.\u0275fac=function(k){return new(k||c)};static#t=this.\u0275prov=Do({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const Wo=new ki("");let vf=(()=>{class c{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=cr(m3),this.afterRenderEffectManager=cr(iE),this.zonelessEnabled=cr(kw),this.externalTestViews=new Set,this.beforeRender=new le.B,this.afterTick=new le.B,this.componentTypes=[],this.components=[],this.isStable=cr(bm).hasPendingTasks.pipe((0,re.T)(b=>!b)),this._injector=cr(ef)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(b,k){const Y=b instanceof f6;if(!this._injector.get(Yh).done)throw!Y&&Tl(b),new xr(405,!1);let Ee;Ee=Y?b:this._injector.get(Rw).resolveComponentFactory(b),this.componentTypes.push(Ee.componentType);const Oe=function j_(c){return c.isBoundToModule}(Ee)?void 0:this._injector.get(rv),mt=Ee.create(Ac.NULL,[],k||Ee.selector,Oe),xt=mt.location.nativeElement,Ht=mt.injector.get(zT,null);return Ht?.registerApplication(xt),mt.onDestroy(()=>{this.detachView(mt.hostView),l0(this.components,mt),Ht?.unregisterApplication(xt)}),this._loadComponent(mt),mt}tick(){this._tick(!0)}_tick(b){if(this._runningTick)throw new xr(101,!1);const k=B(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(b)}catch(Y){this.internalErrorHandler(Y)}finally{this._runningTick=!1,B(k),this.afterTick.next()}}detectChangesInAttachedViews(b){let k=null;this._injector.destroyed||(k=this._injector.get(KM,null,{optional:!0}));let Y=0;const ce=this.afterRenderEffectManager;for(;Y<10;){const Ee=0===Y;if(b||!Ee){this.beforeRender.next(Ee);for(let{_lView:Oe,notifyErrorHandler:Ze}of this._views)s8(Oe,Ze,Ee,this.zonelessEnabled)}else k?.begin?.(),k?.end?.();if(Y++,ce.executeInternalCallbacks(),!this.allViews.some(({_lView:Oe})=>Nb(Oe))&&(ce.execute(),!this.allViews.some(({_lView:Oe})=>Nb(Oe))))break}}attachView(b){const k=b;this._views.push(k),k.attachToAppRef(this)}detachView(b){const k=b;l0(this._views,k),k.detachFromAppRef()}_loadComponent(b){this.attachView(b.hostView),this.tick(),this.components.push(b);const k=this._injector.get(Wo,[]);[...this._bootstrapListeners,...k].forEach(Y=>Y(b))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(b=>b()),this._views.slice().forEach(b=>b.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(b){return this._destroyListeners.push(b),()=>l0(this._destroyListeners,b)}destroy(){if(this._destroyed)throw new xr(406,!1);const b=this._injector;b.destroy&&!b.destroyed&&b.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(k){return new(k||c)};static#t=this.\u0275prov=Do({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function l0(c,f){const b=c.indexOf(f);b>-1&&c.splice(b,1)}function s8(c,f,b,k){(b||Nb(c))&&Xg(c,f,b&&!k?0:1)}class Nv{constructor(f,b){this.ngModuleFactory=f,this.componentFactories=b}}let a8=(()=>{class c{compileModuleSync(b){return new uA(b)}compileModuleAsync(b){return Promise.resolve(this.compileModuleSync(b))}compileModuleAndAllComponentsSync(b){const k=this.compileModuleSync(b),ce=Cu(Ts(b).declarations).reduce((Ee,Oe)=>{const Ze=Gr(Oe);return Ze&&Ee.push(new Lw(Ze)),Ee},[]);return new Nv(k,ce)}compileModuleAndAllComponentsAsync(b){return Promise.resolve(this.compileModuleAndAllComponentsSync(b))}clearCache(){}clearCacheFor(b){}getModuleId(b){}static#e=this.\u0275fac=function(k){return new(k||c)};static#t=this.\u0275prov=Do({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),YT=(()=>{class c{constructor(){this.zone=cr(ea),this.changeDetectionScheduler=cr(ly),this.applicationRef=cr(vf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(k){return new(k||c)};static#t=this.\u0275prov=Do({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const c8=new ki("",{factory:()=>!1});function d0({ngZoneFactory:c,ignoreChangesOutsideZone:f}){return c??=()=>new ea(XT()),[{provide:ea,useFactory:c},{provide:Ri,multi:!0,useFactory:()=>{const b=cr(YT,{optional:!0});return()=>b.initialize()}},{provide:Ri,multi:!0,useFactory:()=>{const b=cr(Uu);return()=>{b.initialize()}}},{provide:m3,useFactory:jc},!0===f?{provide:u6,useValue:!0}:[]]}function jc(){const c=cr(ea),f=cr(td);return b=>c.runOutsideAngular(()=>f.handleError(b))}function l8(c){const f=c?.ignoreChangesOutsideZone,b=d0({ngZoneFactory:()=>{const k=XT(c);return k.shouldCoalesceEventChangeDetection&&id("NgZone_CoalesceEvent"),new ea(k)},ignoreChangesOutsideZone:f});return U1([{provide:c8,useValue:!0},{provide:kw,useValue:!1},b])}function XT(c){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:c?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:c?.runCoalescing??!1}}let Uu=(()=>{class c{constructor(){this.subscription=new he.yU,this.initialized=!1,this.zone=cr(ea),this.pendingTasks=cr(bm)}initialize(){if(this.initialized)return;this.initialized=!0;let b=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(b=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ea.assertNotInAngularZone(),queueMicrotask(()=>{null!==b&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(b),b=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ea.assertInAngularZone(),b??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(k){return new(k||c)};static#t=this.\u0275prov=Do({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),Xh=(()=>{class c{constructor(){this.appRef=cr(vf),this.taskService=cr(bm),this.ngZone=cr(ea),this.zonelessEnabled=cr(kw),this.disableScheduling=cr(u6,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new he.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof zM||!this.zoneIsDefined)}notify(b){if(!this.zonelessEnabled&&5===b)return;switch(b){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const k=this.useMicrotaskScheduler?y6:m6;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=k(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=k(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&ea.isInAngularZone())}tick(b){if(this.runningTick||this.appRef.destroyed)return;const k=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(b)},void 0,this.schedulerTickApplyArgs)}catch(Y){throw this.taskService.remove(k),Y}finally{this.cleanup()}this.useMicrotaskScheduler=!0,y6(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(k)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const b=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(b)}}static#e=this.\u0275fac=function(k){return new(k||c)};static#t=this.\u0275prov=Do({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const Fl=new ki("",{providedIn:"root",factory:()=>cr(Fl,Zi.Optional|Zi.SkipSelf)||function aN(){return typeof $localize<"u"&&$localize.locale||Op}()}),cN=new ki("",{providedIn:"root",factory:()=>"USD"}),u0=new ki("");let f0=null;function Jh(){return!1}let m0=(()=>{class c{static#e=this.__NG_ELEMENT_ID__=Ax}return c})();function Ax(c){return function qh(c,f,b){if(xp(c)&&!b){const k=xo(c.index,f);return new ac(k,k)}return 175&c.type?new ac(f[ua],f):null}(Ki(),Xn(),!(16&~c))}class jv{constructor(){}supports(f){return vE(f)}create(f){return new lN(f)}}const H_=(c,f)=>f;class lN{constructor(f){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=f||H_}forEachItem(f){let b;for(b=this._itHead;null!==b;b=b._next)f(b)}forEachOperation(f){let b=this._itHead,k=this._removalsHead,Y=0,ce=null;for(;b||k;){const Ee=!k||b&&b.currentIndex<sl(k,Y,ce)?b:k,Oe=sl(Ee,Y,ce),Ze=Ee.currentIndex;if(Ee===k)Y--,k=k._nextRemoved;else if(b=b._next,null==Ee.previousIndex)Y++;else{ce||(ce=[]);const mt=Oe-Y,xt=Ze-Y;if(mt!=xt){for(let ln=0;ln<mt;ln++){const mn=ln<ce.length?ce[ln]:ce[ln]=0,In=mn+ln;xt<=In&&In<mt&&(ce[ln]=mn+1)}ce[Ee.previousIndex]=xt-mt}}Oe!==Ze&&f(Ee,Oe,Ze)}}forEachPreviousItem(f){let b;for(b=this._previousItHead;null!==b;b=b._nextPrevious)f(b)}forEachAddedItem(f){let b;for(b=this._additionsHead;null!==b;b=b._nextAdded)f(b)}forEachMovedItem(f){let b;for(b=this._movesHead;null!==b;b=b._nextMoved)f(b)}forEachRemovedItem(f){let b;for(b=this._removalsHead;null!==b;b=b._nextRemoved)f(b)}forEachIdentityChange(f){let b;for(b=this._identityChangesHead;null!==b;b=b._nextIdentityChange)f(b)}diff(f){if(null==f&&(f=[]),!vE(f))throw new xr(900,!1);return this.check(f)?this:null}onDestroy(){}check(f){this._reset();let Y,ce,Ee,b=this._itHead,k=!1;if(Array.isArray(f)){this.length=f.length;for(let Oe=0;Oe<this.length;Oe++)ce=f[Oe],Ee=this._trackByFn(Oe,ce),null!==b&&Object.is(b.trackById,Ee)?(k&&(b=this._verifyReinsertion(b,ce,Ee,Oe)),Object.is(b.item,ce)||this._addIdentityChange(b,ce)):(b=this._mismatch(b,ce,Ee,Oe),k=!0),b=b._next}else Y=0,function hB(c,f){if(Array.isArray(c))for(let b=0;b<c.length;b++)f(c[b]);else{const b=c[Symbol.iterator]();let k;for(;!(k=b.next()).done;)f(k.value)}}(f,Oe=>{Ee=this._trackByFn(Y,Oe),null!==b&&Object.is(b.trackById,Ee)?(k&&(b=this._verifyReinsertion(b,Oe,Ee,Y)),Object.is(b.item,Oe)||this._addIdentityChange(b,Oe)):(b=this._mismatch(b,Oe,Ee,Y),k=!0),b=b._next,Y++}),this.length=Y;return this._truncate(b),this.collection=f,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let f;for(f=this._previousItHead=this._itHead;null!==f;f=f._next)f._nextPrevious=f._next;for(f=this._additionsHead;null!==f;f=f._nextAdded)f.previousIndex=f.currentIndex;for(this._additionsHead=this._additionsTail=null,f=this._movesHead;null!==f;f=f._nextMoved)f.previousIndex=f.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(f,b,k,Y){let ce;return null===f?ce=this._itTail:(ce=f._prev,this._remove(f)),null!==(f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(k,null))?(Object.is(f.item,b)||this._addIdentityChange(f,b),this._reinsertAfter(f,ce,Y)):null!==(f=null===this._linkedRecords?null:this._linkedRecords.get(k,Y))?(Object.is(f.item,b)||this._addIdentityChange(f,b),this._moveAfter(f,ce,Y)):f=this._addAfter(new Fu(b,k),ce,Y),f}_verifyReinsertion(f,b,k,Y){let ce=null===this._unlinkedRecords?null:this._unlinkedRecords.get(k,null);return null!==ce?f=this._reinsertAfter(ce,f._prev,Y):f.currentIndex!=Y&&(f.currentIndex=Y,this._addToMoves(f,Y)),f}_truncate(f){for(;null!==f;){const b=f._next;this._addToRemovals(this._unlink(f)),f=b}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(f,b,k){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(f);const Y=f._prevRemoved,ce=f._nextRemoved;return null===Y?this._removalsHead=ce:Y._nextRemoved=ce,null===ce?this._removalsTail=Y:ce._prevRemoved=Y,this._insertAfter(f,b,k),this._addToMoves(f,k),f}_moveAfter(f,b,k){return this._unlink(f),this._insertAfter(f,b,k),this._addToMoves(f,k),f}_addAfter(f,b,k){return this._insertAfter(f,b,k),this._additionsTail=null===this._additionsTail?this._additionsHead=f:this._additionsTail._nextAdded=f,f}_insertAfter(f,b,k){const Y=null===b?this._itHead:b._next;return f._next=Y,f._prev=b,null===Y?this._itTail=f:Y._prev=f,null===b?this._itHead=f:b._next=f,null===this._linkedRecords&&(this._linkedRecords=new Kv),this._linkedRecords.put(f),f.currentIndex=k,f}_remove(f){return this._addToRemovals(this._unlink(f))}_unlink(f){null!==this._linkedRecords&&this._linkedRecords.remove(f);const b=f._prev,k=f._next;return null===b?this._itHead=k:b._next=k,null===k?this._itTail=b:k._prev=b,f}_addToMoves(f,b){return f.previousIndex===b||(this._movesTail=null===this._movesTail?this._movesHead=f:this._movesTail._nextMoved=f),f}_addToRemovals(f){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Kv),this._unlinkedRecords.put(f),f.currentIndex=null,f._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=f,f._prevRemoved=null):(f._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=f),f}_addIdentityChange(f,b){return f.item=b,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=f:this._identityChangesTail._nextIdentityChange=f,f}}class Fu{constructor(f,b){this.item=f,this.trackById=b,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dN{constructor(){this._head=null,this._tail=null}add(f){null===this._head?(this._head=this._tail=f,f._nextDup=null,f._prevDup=null):(this._tail._nextDup=f,f._prevDup=this._tail,f._nextDup=null,this._tail=f)}get(f,b){let k;for(k=this._head;null!==k;k=k._nextDup)if((null===b||b<=k.currentIndex)&&Object.is(k.trackById,f))return k;return null}remove(f){const b=f._prevDup,k=f._nextDup;return null===b?this._head=k:b._nextDup=k,null===k?this._tail=b:k._prevDup=b,null===this._head}}class Kv{constructor(){this.map=new Map}put(f){const b=f.trackById;let k=this.map.get(b);k||(k=new dN,this.map.set(b,k)),k.add(f)}get(f,b){const Y=this.map.get(f);return Y?Y.get(f,b):null}remove(f){const b=f.trackById;return this.map.get(b).remove(f)&&this.map.delete(b),f}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sl(c,f,b){const k=c.previousIndex;if(null===k)return k;let Y=0;return b&&k<b.length&&(Y=b[k]),k+f+Y}class Cx{constructor(){}supports(f){return f instanceof Map||zw(f)}create(){return new uN}}class uN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(f){let b;for(b=this._mapHead;null!==b;b=b._next)f(b)}forEachPreviousItem(f){let b;for(b=this._previousMapHead;null!==b;b=b._nextPrevious)f(b)}forEachChangedItem(f){let b;for(b=this._changesHead;null!==b;b=b._nextChanged)f(b)}forEachAddedItem(f){let b;for(b=this._additionsHead;null!==b;b=b._nextAdded)f(b)}forEachRemovedItem(f){let b;for(b=this._removalsHead;null!==b;b=b._nextRemoved)f(b)}diff(f){if(f){if(!(f instanceof Map||zw(f)))throw new xr(900,!1)}else f=new Map;return this.check(f)?this:null}onDestroy(){}check(f){this._reset();let b=this._mapHead;if(this._appendAfter=null,this._forEach(f,(k,Y)=>{if(b&&b.key===Y)this._maybeAddToChanges(b,k),this._appendAfter=b,b=b._next;else{const ce=this._getOrCreateRecordForKey(Y,k);b=this._insertBeforeOrAppend(b,ce)}}),b){b._prev&&(b._prev._next=null),this._removalsHead=b;for(let k=b;null!==k;k=k._nextRemoved)k===this._mapHead&&(this._mapHead=null),this._records.delete(k.key),k._nextRemoved=k._next,k.previousValue=k.currentValue,k.currentValue=null,k._prev=null,k._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(f,b){if(f){const k=f._prev;return b._next=f,b._prev=k,f._prev=b,k&&(k._next=b),f===this._mapHead&&(this._mapHead=b),this._appendAfter=f,f}return this._appendAfter?(this._appendAfter._next=b,b._prev=this._appendAfter):this._mapHead=b,this._appendAfter=b,null}_getOrCreateRecordForKey(f,b){if(this._records.has(f)){const Y=this._records.get(f);this._maybeAddToChanges(Y,b);const ce=Y._prev,Ee=Y._next;return ce&&(ce._next=Ee),Ee&&(Ee._prev=ce),Y._next=null,Y._prev=null,Y}const k=new fN(f);return this._records.set(f,k),k.currentValue=b,this._addToAdditions(k),k}_reset(){if(this.isDirty){let f;for(this._previousMapHead=this._mapHead,f=this._previousMapHead;null!==f;f=f._next)f._nextPrevious=f._next;for(f=this._changesHead;null!==f;f=f._nextChanged)f.previousValue=f.currentValue;for(f=this._additionsHead;null!=f;f=f._nextAdded)f.previousValue=f.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(f,b){Object.is(b,f.currentValue)||(f.previousValue=f.currentValue,f.currentValue=b,this._addToChanges(f))}_addToAdditions(f){null===this._additionsHead?this._additionsHead=this._additionsTail=f:(this._additionsTail._nextAdded=f,this._additionsTail=f)}_addToChanges(f){null===this._changesHead?this._changesHead=this._changesTail=f:(this._changesTail._nextChanged=f,this._changesTail=f)}_forEach(f,b){f instanceof Map?f.forEach(b):Object.keys(f).forEach(k=>b(f[k],k))}}class fN{constructor(f){this.key=f,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kx(){return new Px([new jv])}let Px=(()=>{class c{static#e=this.\u0275prov=Do({token:c,providedIn:"root",factory:kx});constructor(b){this.factories=b}static create(b,k){if(null!=k){const Y=k.factories.slice();b=b.concat(Y)}return new c(b)}static extend(b){return{provide:c,useFactory:k=>c.create(b,k||kx()),deps:[[c,new Xl,new Xc]]}}find(b){const k=this.factories.find(Y=>Y.supports(b));if(null!=k)return k;throw new xr(901,!1)}}return c})();function oI(){return new g8([new Cx])}let g8=(()=>{class c{static#e=this.\u0275prov=Do({token:c,providedIn:"root",factory:oI});constructor(b){this.factories=b}static create(b,k){if(k){const Y=k.factories.slice();b=b.concat(Y)}return new c(b)}static extend(b){return{provide:c,useFactory:k=>c.create(b,k||oI()),deps:[[c,new Xl,new Xc]]}}find(b){const k=this.factories.find(Y=>Y.supports(b));if(k)return k;throw new xr(901,!1)}}return c})();function Ky(c){try{const{rootComponent:f,appProviders:b,platformProviders:k}=c,Y=function h8(c=[]){if(f0)return f0;const f=function Uv(c=[],f){return Ac.create({name:f,providers:[{provide:j1,useValue:"platform"},{provide:u0,useValue:new Set([()=>f0=null])},...c]})}(c);return f0=f,function gx(){!function M(c){C=c}(()=>{throw new xr(600,!1)})}(),function xx(c){c.get(O3,null)?.forEach(b=>b())}(f),f}(k),ce=[d0({}),{provide:ly,useExisting:Xh},...b||[]],Oe=new n5({providers:ce,parent:Y,debugName:"",runEnvironmentInitializers:!1}).injector,Ze=Oe.get(ea);return Ze.run(()=>{Oe.resolveInjectorInitializers();const mt=Oe.get(td,null);let xt;Ze.runOutsideAngular(()=>{xt=Ze.onError.subscribe({next:mn=>{mt.handleError(mn)}})});const Ht=()=>Oe.destroy(),ln=Y.get(u0);return ln.add(Ht),Oe.onDestroy(()=>{xt.unsubscribe(),ln.delete(Ht)}),function vx(c,f,b){try{const k=b();return F_(k)?k.catch(Y=>{throw f.runOutsideAngular(()=>c.handleError(Y)),Y}):k}catch(k){throw f.runOutsideAngular(()=>c.handleError(k)),k}}(mt,Ze,()=>{const mn=Oe.get(Yh);return mn.runInitializers(),mn.donePromise.then(()=>{!function u_(c){"string"==typeof c&&(ff=c.toLowerCase().replace(/_/g,"-"))}(Oe.get(Fl,Op)||Op);const Zn=Oe.get(vf);return void 0!==f&&Zn.bootstrap(f),Zn})})})}catch(f){return Promise.reject(f)}}const jx=new ki("");function B8(c){return"boolean"==typeof c?c:null!=c&&"false"!==c}function vI(c,f=NaN){return isNaN(parseFloat(c))||isNaN(Number(c))?f:Number(c)}function PN(c,f){id("NgSignals");const b=P(c);return f?.equal&&(b[x].equal=f.equal),b}function RN(c){const f=B(null);try{return c()}finally{B(f)}}const ON=new ki("",{providedIn:"root",factory:()=>cr(oF)});let oF=(()=>{class c{static#e=this.\u0275prov=Do({token:c,providedIn:"root",factory:()=>new BN})}return c})();class BN{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=cr(bm),this.taskId=null}scheduleEffect(f){if(this.enqueue(f),null===this.taskId){const b=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(b),this.taskId=null})}}enqueue(f){const b=f.creationZone;this.queues.has(b)||this.queues.set(b,new Set);const k=this.queues.get(b);k.has(f)||(this.queuedEffectCount++,k.add(f))}flush(){for(;this.queuedEffectCount>0;)for(const[f,b]of this.queues)null===f?this.flushQueue(b):f.run(()=>this.flushQueue(b))}flushQueue(f){for(const b of f)f.delete(b),this.queuedEffectCount--,b.run()}}class N8{constructor(f,b,k,Y,ce,Ee){this.scheduler=f,this.effectFn=b,this.creationZone=k,this.injector=ce,this.watcher=function be(c,f,b){const k=Object.create(Re);b&&(k.consumerAllowSignalWrites=!0),k.fn=c,k.schedule=f;const Y=Ze=>{k.cleanupFn=Ze};return k.ref={notify:()=>te(k),run:()=>{if(null===k.fn)return;if(function N(){return O}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(k.dirty=!1,k.hasRun&&!ne(k))return;k.hasRun=!0;const Ze=J(k);try{k.cleanupFn(),k.cleanupFn=ge,k.fn(Y)}finally{q(k,Ze)}},cleanup:()=>k.cleanupFn(),destroy:()=>function Ee(Ze){(function ce(Ze){return null===Ze.fn&&null===Ze.schedule})(Ze)||(se(Ze),Ze.cleanupFn(),Ze.fn=null,Ze.schedule=null,Ze.cleanupFn=ge)}(k),[x]:k},k.ref}(Oe=>this.runEffect(Oe),()=>this.schedule(),Ee),this.unregisterOnDestroy=Y?.onDestroy(()=>this.destroy())}runEffect(f){try{this.effectFn(f)}catch(b){this.injector.get(td,null,{optional:!0})?.handleError(b)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Q_(c,f){id("NgSignals"),!f?.injector&&z1();const b=f?.injector??cr(Ac),k=!0!==f?.manualCleanup?b.get(Wb):null,Y=new N8(b.get(ON),c,typeof Zone>"u"?null:Zone.current,k,b,f?.allowSignalWrites??!1),ce=b.get(m0,null,{optional:!0});return ce&&8&ce._lView[pi]?(ce._lView[W1]??=[]).push(Y.watcher.notify):Y.watcher.notify(),Y}function zx(c,f){const b=Gr(c),k=f.elementInjector||V1();return new Lw(b).create(k,f.projectableNodes,f.hostElement,f.environmentInjector)}function L8(c){const f=Gr(c);if(!f)return null;const b=new Lw(f);return{get selector(){return b.selector},get type(){return b.componentType},get inputs(){return b.inputs},get outputs(){return b.outputs},get ngContentSelectors(){return b.ngContentSelectors},get isStandalone(){return f.standalone},get isSignal(){return f.signals}}}},89417:(Be,z,E)=>{"use strict";E.d(z,{BC:()=>pe,JD:()=>ya,MJ:()=>yi,X1:()=>iu,YN:()=>bc,cV:()=>fi,cb:()=>Se,cz:()=>q,j4:()=>Ea,k0:()=>oe,kq:()=>$,l_:()=>Ed,me:()=>Q,ok:()=>Ys,qT:()=>Mn,tU:()=>Za,v8:()=>Wa,vO:()=>le,vS:()=>wn,xq:()=>la});var p=E(93953),S=E(60177),O=E(86648),G=E(27468),x=E(21413),B=E(96354);let A=(()=>{class bt{constructor(st,Ft){this._renderer=st,this._elementRef=Ft,this.onChange=pn=>{},this.onTouched=()=>{}}setProperty(st,Ft){this._renderer.setProperty(this._elementRef.nativeElement,st,Ft)}registerOnTouched(st){this.onTouched=st}registerOnChange(st){this.onChange=st}setDisabledState(st){this.setProperty("disabled",st)}static#e=this.\u0275fac=function(Ft){return new(Ft||bt)(p.rXU(p.sFG),p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:bt})}return bt})(),N=(()=>{class bt extends A{static#e=this.\u0275fac=(()=>{let st;return function(pn){return(st||(st=p.xGo(bt)))(pn||bt)}})();static#t=this.\u0275dir=p.FsC({type:bt,features:[p.Vt3]})}return bt})();const $=new p.nKC(""),X={provide:$,useExisting:(0,p.Rfq)(()=>Q),multi:!0},Z=new p.nKC("");let Q=(()=>{class bt extends A{constructor(st,Ft,pn){super(st,Ft),this._compositionMode=pn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function V(){const bt=(0,S.QT)()?(0,S.QT)().getUserAgent():"";return/android (\d+)/.test(bt.toLowerCase())}())}writeValue(st){this.setProperty("value",st??"")}_handleInput(st){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(st)}_compositionStart(){this._composing=!0}_compositionEnd(st){this._composing=!1,this._compositionMode&&this.onChange(st)}static#e=this.\u0275fac=function(Ft){return new(Ft||bt)(p.rXU(p.sFG),p.rXU(p.aKT),p.rXU(Z,8))};static#t=this.\u0275dir=p.FsC({type:bt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Ft,pn){1&Ft&&p.bIt("input",function(qr){return pn._handleInput(qr.target.value)})("blur",function(){return pn.onTouched()})("compositionstart",function(){return pn._compositionStart()})("compositionend",function(qr){return pn._compositionEnd(qr.target.value)})},features:[p.Jv_([X]),p.Vt3]})}return bt})();function te(bt){return null==bt||("string"==typeof bt||Array.isArray(bt))&&0===bt.length}function J(bt){return null!=bt&&"number"==typeof bt.length}const q=new p.nKC(""),ne=new p.nKC(""),se=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class oe{static min(St){return function ue(bt){return St=>{if(te(St.value)||te(bt))return null;const st=parseFloat(St.value);return!isNaN(st)&&st<bt?{min:{min:bt,actual:St.value}}:null}}(St)}static max(St){return function ae(bt){return St=>{if(te(St.value)||te(bt))return null;const st=parseFloat(St.value);return!isNaN(st)&&st>bt?{max:{max:bt,actual:St.value}}:null}}(St)}static required(St){return ve(St)}static requiredTrue(St){return _e(St)}static email(St){return function De(bt){return te(bt.value)||se.test(bt.value)?null:{email:!0}}(St)}static minLength(St){return function P(bt){return St=>te(St.value)||!J(St.value)?null:St.value.length<bt?{minlength:{requiredLength:bt,actualLength:St.value.length}}:null}(St)}static maxLength(St){return u(St)}static pattern(St){return function h(bt){if(!bt)return g;let St,st;return"string"==typeof bt?(st="","^"!==bt.charAt(0)&&(st+="^"),st+=bt,"$"!==bt.charAt(bt.length-1)&&(st+="$"),St=new RegExp(st)):(st=bt.toString(),St=bt),Ft=>{if(te(Ft.value))return null;const pn=Ft.value;return St.test(pn)?null:{pattern:{requiredPattern:st,actualValue:pn}}}}(St)}static nullValidator(St){return null}static compose(St){return v(St)}static composeAsync(St){return H(St)}}function ve(bt){return te(bt.value)?{required:!0}:null}function _e(bt){return!0===bt.value?null:{required:!0}}function u(bt){return St=>J(St.value)&&St.value.length>bt?{maxlength:{requiredLength:bt,actualLength:St.value.length}}:null}function g(bt){return null}function w(bt){return null!=bt}function T(bt){return(0,p.jNT)(bt)?(0,O.H)(bt):bt}function C(bt){let St={};return bt.forEach(st=>{St=null!=st?{...St,...st}:St}),0===Object.keys(St).length?null:St}function j(bt,St){return St.map(st=>st(bt))}function d(bt){return bt.map(St=>function M(bt){return!bt.validate}(St)?St:st=>St.validate(st))}function v(bt){if(!bt)return null;const St=bt.filter(w);return 0==St.length?null:function(st){return C(j(st,St))}}function W(bt){return null!=bt?v(d(bt)):null}function H(bt){if(!bt)return null;const St=bt.filter(w);return 0==St.length?null:function(st){const Ft=j(st,St).map(T);return(0,G.p)(Ft).pipe((0,B.T)(C))}}function ee(bt){return null!=bt?H(d(bt)):null}function fe(bt,St){return null===bt?[St]:Array.isArray(bt)?[...bt,St]:[bt,St]}function Ae(bt){return bt._rawValidators}function Pe(bt){return bt._rawAsyncValidators}function Le(bt){return bt?Array.isArray(bt)?bt:[bt]:[]}function be(bt,St){return Array.isArray(bt)?bt.includes(St):bt===St}function ge(bt,St){const st=Le(St);return Le(bt).forEach(pn=>{be(st,pn)||st.push(pn)}),st}function Re(bt,St){return Le(St).filter(st=>!be(bt,st))}class me{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(St){this._rawValidators=St||[],this._composedValidatorFn=W(this._rawValidators)}_setAsyncValidators(St){this._rawAsyncValidators=St||[],this._composedAsyncValidatorFn=ee(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(St){this._onDestroyCallbacks.push(St)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(St=>St()),this._onDestroyCallbacks=[]}reset(St=void 0){this.control&&this.control.reset(St)}hasError(St,st){return!!this.control&&this.control.hasError(St,st)}getError(St,st){return this.control?this.control.getError(St,st):null}}class xe extends me{get formDirective(){return null}get path(){return null}}class le extends me{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class he{constructor(St){this._cd=St}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let pe=(()=>{class bt extends he{constructor(st){super(st)}static#e=this.\u0275fac=function(Ft){return new(Ft||bt)(p.rXU(le,2))};static#t=this.\u0275dir=p.FsC({type:bt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Ft,pn){2&Ft&&p.AVh("ng-untouched",pn.isUntouched)("ng-touched",pn.isTouched)("ng-pristine",pn.isPristine)("ng-dirty",pn.isDirty)("ng-valid",pn.isValid)("ng-invalid",pn.isInvalid)("ng-pending",pn.isPending)},features:[p.Vt3]})}return bt})(),Se=(()=>{class bt extends he{constructor(st){super(st)}static#e=this.\u0275fac=function(Ft){return new(Ft||bt)(p.rXU(xe,10))};static#t=this.\u0275dir=p.FsC({type:bt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Ft,pn){2&Ft&&p.AVh("ng-untouched",pn.isUntouched)("ng-touched",pn.isTouched)("ng-pristine",pn.isPristine)("ng-dirty",pn.isDirty)("ng-valid",pn.isValid)("ng-invalid",pn.isInvalid)("ng-pending",pn.isPending)("ng-submitted",pn.isSubmitted)},features:[p.Vt3]})}return bt})();const Lt="VALID",qt="INVALID",Kt="PENDING",er="DISABLED";class cn{}class Ut extends cn{constructor(St,st){super(),this.value=St,this.source=st}}class Nt extends cn{constructor(St,st){super(),this.pristine=St,this.source=st}}class dt extends cn{constructor(St,st){super(),this.touched=St,this.source=st}}class it extends cn{constructor(St,st){super(),this.status=St,this.source=st}}class Ct extends cn{constructor(St){super(),this.source=St}}class Bt extends cn{constructor(St){super(),this.source=St}}function Wt(bt){return(ft(bt)?bt.validators:bt)||null}function at(bt,St){return(ft(St)?St.asyncValidators:bt)||null}function ft(bt){return null!=bt&&!Array.isArray(bt)&&"object"==typeof bt}function et(bt,St,st){const Ft=bt.controls;if(!(St?Object.keys(Ft):Ft).length)throw new p.wOt(1e3,"");if(!Ft[st])throw new p.wOt(1001,"")}function gt(bt,St,st){bt._forEachChild((Ft,pn)=>{if(void 0===st[pn])throw new p.wOt(1002,"")})}class un{constructor(St,st){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,p.EWP)(()=>this.statusReactive()),this.statusReactive=(0,p.vPA)(void 0),this._pristine=(0,p.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,p.vPA)(!0),this._touched=(0,p.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,p.vPA)(!1),this._events=new x.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(St),this._assignAsyncValidators(st)}get validator(){return this._composedValidatorFn}set validator(St){this._rawValidators=this._composedValidatorFn=St}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(St){this._rawAsyncValidators=this._composedAsyncValidatorFn=St}get parent(){return this._parent}get status(){return(0,p.O8t)(this.statusReactive)}set status(St){(0,p.O8t)(()=>this.statusReactive.set(St))}get valid(){return this.status===Lt}get invalid(){return this.status===qt}get pending(){return this.status==Kt}get disabled(){return this.status===er}get enabled(){return this.status!==er}get pristine(){return(0,p.O8t)(this.pristineReactive)}set pristine(St){(0,p.O8t)(()=>this.pristineReactive.set(St))}get dirty(){return!this.pristine}get touched(){return(0,p.O8t)(this.touchedReactive)}set touched(St){(0,p.O8t)(()=>this.touchedReactive.set(St))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(St){this._assignValidators(St)}setAsyncValidators(St){this._assignAsyncValidators(St)}addValidators(St){this.setValidators(ge(St,this._rawValidators))}addAsyncValidators(St){this.setAsyncValidators(ge(St,this._rawAsyncValidators))}removeValidators(St){this.setValidators(Re(St,this._rawValidators))}removeAsyncValidators(St){this.setAsyncValidators(Re(St,this._rawAsyncValidators))}hasValidator(St){return be(this._rawValidators,St)}hasAsyncValidator(St){return be(this._rawAsyncValidators,St)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(St={}){const st=!1===this.touched;this.touched=!0;const Ft=St.sourceControl??this;this._parent&&!St.onlySelf&&this._parent.markAsTouched({...St,sourceControl:Ft}),st&&!1!==St.emitEvent&&this._events.next(new dt(!0,Ft))}markAllAsTouched(St={}){this.markAsTouched({onlySelf:!0,emitEvent:St.emitEvent,sourceControl:this}),this._forEachChild(st=>st.markAllAsTouched(St))}markAsUntouched(St={}){const st=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Ft=St.sourceControl??this;this._forEachChild(pn=>{pn.markAsUntouched({onlySelf:!0,emitEvent:St.emitEvent,sourceControl:Ft})}),this._parent&&!St.onlySelf&&this._parent._updateTouched(St,Ft),st&&!1!==St.emitEvent&&this._events.next(new dt(!1,Ft))}markAsDirty(St={}){const st=!0===this.pristine;this.pristine=!1;const Ft=St.sourceControl??this;this._parent&&!St.onlySelf&&this._parent.markAsDirty({...St,sourceControl:Ft}),st&&!1!==St.emitEvent&&this._events.next(new Nt(!1,Ft))}markAsPristine(St={}){const st=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Ft=St.sourceControl??this;this._forEachChild(pn=>{pn.markAsPristine({onlySelf:!0,emitEvent:St.emitEvent})}),this._parent&&!St.onlySelf&&this._parent._updatePristine(St,Ft),st&&!1!==St.emitEvent&&this._events.next(new Nt(!0,Ft))}markAsPending(St={}){this.status=Kt;const st=St.sourceControl??this;!1!==St.emitEvent&&(this._events.next(new it(this.status,st)),this.statusChanges.emit(this.status)),this._parent&&!St.onlySelf&&this._parent.markAsPending({...St,sourceControl:st})}disable(St={}){const st=this._parentMarkedDirty(St.onlySelf);this.status=er,this.errors=null,this._forEachChild(pn=>{pn.disable({...St,onlySelf:!0})}),this._updateValue();const Ft=St.sourceControl??this;!1!==St.emitEvent&&(this._events.next(new Ut(this.value,Ft)),this._events.next(new it(this.status,Ft)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...St,skipPristineCheck:st},this),this._onDisabledChange.forEach(pn=>pn(!0))}enable(St={}){const st=this._parentMarkedDirty(St.onlySelf);this.status=Lt,this._forEachChild(Ft=>{Ft.enable({...St,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:St.emitEvent}),this._updateAncestors({...St,skipPristineCheck:st},this),this._onDisabledChange.forEach(Ft=>Ft(!1))}_updateAncestors(St,st){this._parent&&!St.onlySelf&&(this._parent.updateValueAndValidity(St),St.skipPristineCheck||this._parent._updatePristine({},st),this._parent._updateTouched({},st))}setParent(St){this._parent=St}getRawValue(){return this.value}updateValueAndValidity(St={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const Ft=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lt||this.status===Kt)&&this._runAsyncValidator(Ft,St.emitEvent)}const st=St.sourceControl??this;!1!==St.emitEvent&&(this._events.next(new Ut(this.value,st)),this._events.next(new it(this.status,st)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!St.onlySelf&&this._parent.updateValueAndValidity({...St,sourceControl:st})}_updateTreeValidity(St={emitEvent:!0}){this._forEachChild(st=>st._updateTreeValidity(St)),this.updateValueAndValidity({onlySelf:!0,emitEvent:St.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?er:Lt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(St,st){if(this.asyncValidator){this.status=Kt,this._hasOwnPendingAsyncValidator={emitEvent:!1!==st};const Ft=T(this.asyncValidator(this));this._asyncValidationSubscription=Ft.subscribe(pn=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(pn,{emitEvent:st,shouldHaveEmitted:St})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const St=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,St}return!1}setErrors(St,st={}){this.errors=St,this._updateControlsErrors(!1!==st.emitEvent,this,st.shouldHaveEmitted)}get(St){let st=St;return null==st||(Array.isArray(st)||(st=st.split(".")),0===st.length)?null:st.reduce((Ft,pn)=>Ft&&Ft._find(pn),this)}getError(St,st){const Ft=st?this.get(st):this;return Ft&&Ft.errors?Ft.errors[St]:null}hasError(St,st){return!!this.getError(St,st)}get root(){let St=this;for(;St._parent;)St=St._parent;return St}_updateControlsErrors(St,st,Ft){this.status=this._calculateStatus(),St&&this.statusChanges.emit(this.status),(St||Ft)&&this._events.next(new it(this.status,st)),this._parent&&this._parent._updateControlsErrors(St,st,Ft)}_initObservables(){this.valueChanges=new p.bkB,this.statusChanges=new p.bkB}_calculateStatus(){return this._allControlsDisabled()?er:this.errors?qt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kt)?Kt:this._anyControlsHaveStatus(qt)?qt:Lt}_anyControlsHaveStatus(St){return this._anyControls(st=>st.status===St)}_anyControlsDirty(){return this._anyControls(St=>St.dirty)}_anyControlsTouched(){return this._anyControls(St=>St.touched)}_updatePristine(St,st){const Ft=!this._anyControlsDirty(),pn=this.pristine!==Ft;this.pristine=Ft,this._parent&&!St.onlySelf&&this._parent._updatePristine(St,st),pn&&this._events.next(new Nt(this.pristine,st))}_updateTouched(St={},st){this.touched=this._anyControlsTouched(),this._events.next(new dt(this.touched,st)),this._parent&&!St.onlySelf&&this._parent._updateTouched(St,st)}_registerOnCollectionChange(St){this._onCollectionChange=St}_setUpdateStrategy(St){ft(St)&&null!=St.updateOn&&(this._updateOn=St.updateOn)}_parentMarkedDirty(St){return!St&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(St){return null}_assignValidators(St){this._rawValidators=Array.isArray(St)?St.slice():St,this._composedValidatorFn=function Yn(bt){return Array.isArray(bt)?W(bt):bt||null}(this._rawValidators)}_assignAsyncValidators(St){this._rawAsyncValidators=Array.isArray(St)?St.slice():St,this._composedAsyncValidatorFn=function ut(bt){return Array.isArray(bt)?ee(bt):bt||null}(this._rawAsyncValidators)}}class zt extends un{constructor(St,st,Ft){super(Wt(st),at(Ft,st)),this.controls=St,this._initObservables(),this._setUpdateStrategy(st),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(St,st){return this.controls[St]?this.controls[St]:(this.controls[St]=st,st.setParent(this),st._registerOnCollectionChange(this._onCollectionChange),st)}addControl(St,st,Ft={}){this.registerControl(St,st),this.updateValueAndValidity({emitEvent:Ft.emitEvent}),this._onCollectionChange()}removeControl(St,st={}){this.controls[St]&&this.controls[St]._registerOnCollectionChange(()=>{}),delete this.controls[St],this.updateValueAndValidity({emitEvent:st.emitEvent}),this._onCollectionChange()}setControl(St,st,Ft={}){this.controls[St]&&this.controls[St]._registerOnCollectionChange(()=>{}),delete this.controls[St],st&&this.registerControl(St,st),this.updateValueAndValidity({emitEvent:Ft.emitEvent}),this._onCollectionChange()}contains(St){return this.controls.hasOwnProperty(St)&&this.controls[St].enabled}setValue(St,st={}){gt(this,0,St),Object.keys(St).forEach(Ft=>{et(this,!0,Ft),this.controls[Ft].setValue(St[Ft],{onlySelf:!0,emitEvent:st.emitEvent})}),this.updateValueAndValidity(st)}patchValue(St,st={}){null!=St&&(Object.keys(St).forEach(Ft=>{const pn=this.controls[Ft];pn&&pn.patchValue(St[Ft],{onlySelf:!0,emitEvent:st.emitEvent})}),this.updateValueAndValidity(st))}reset(St={},st={}){this._forEachChild((Ft,pn)=>{Ft.reset(St?St[pn]:null,{onlySelf:!0,emitEvent:st.emitEvent})}),this._updatePristine(st,this),this._updateTouched(st,this),this.updateValueAndValidity(st)}getRawValue(){return this._reduceChildren({},(St,st,Ft)=>(St[Ft]=st.getRawValue(),St))}_syncPendingControls(){let St=this._reduceChildren(!1,(st,Ft)=>!!Ft._syncPendingControls()||st);return St&&this.updateValueAndValidity({onlySelf:!0}),St}_forEachChild(St){Object.keys(this.controls).forEach(st=>{const Ft=this.controls[st];Ft&&St(Ft,st)})}_setUpControls(){this._forEachChild(St=>{St.setParent(this),St._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(St){for(const[st,Ft]of Object.entries(this.controls))if(this.contains(st)&&St(Ft))return!0;return!1}_reduceValue(){return this._reduceChildren({},(st,Ft,pn)=>((Ft.enabled||this.disabled)&&(st[pn]=Ft.value),st))}_reduceChildren(St,st){let Ft=St;return this._forEachChild((pn,Nr)=>{Ft=st(Ft,pn,Nr)}),Ft}_allControlsDisabled(){for(const St of Object.keys(this.controls))if(this.controls[St].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(St){return this.controls.hasOwnProperty(St)?this.controls[St]:null}}class vn extends zt{}const Qn=new p.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>jn}),jn="always";function On(bt,St){return[...St.path,bt]}function Vn(bt,St,st=jn){vr(bt,St),St.valueAccessor.writeValue(bt.value),(bt.disabled||"always"===st)&&St.valueAccessor.setDisabledState?.(bt.disabled),function Er(bt,St){St.valueAccessor.registerOnChange(st=>{bt._pendingValue=st,bt._pendingChange=!0,bt._pendingDirty=!0,"change"===bt.updateOn&&Rr(bt,St)})}(bt,St),function Br(bt,St){const st=(Ft,pn)=>{St.valueAccessor.writeValue(Ft),pn&&St.viewToModelUpdate(Ft)};bt.registerOnChange(st),St._registerOnDestroy(()=>{bt._unregisterOnChange(st)})}(bt,St),function mr(bt,St){St.valueAccessor.registerOnTouched(()=>{bt._pendingTouched=!0,"blur"===bt.updateOn&&bt._pendingChange&&Rr(bt,St),"submit"!==bt.updateOn&&bt.markAsTouched()})}(bt,St),function qn(bt,St){if(St.valueAccessor.setDisabledState){const st=Ft=>{St.valueAccessor.setDisabledState(Ft)};bt.registerOnDisabledChange(st),St._registerOnDestroy(()=>{bt._unregisterOnDisabledChange(st)})}}(bt,St)}function Hn(bt,St,st=!0){const Ft=()=>{};St.valueAccessor&&(St.valueAccessor.registerOnChange(Ft),St.valueAccessor.registerOnTouched(Ft)),_r(bt,St),bt&&(St._invokeOnDestroyCallbacks(),bt._registerOnCollectionChange(()=>{}))}function ar(bt,St){bt.forEach(st=>{st.registerOnValidatorChange&&st.registerOnValidatorChange(St)})}function vr(bt,St){const st=Ae(bt);null!==St.validator?bt.setValidators(fe(st,St.validator)):"function"==typeof st&&bt.setValidators([st]);const Ft=Pe(bt);null!==St.asyncValidator?bt.setAsyncValidators(fe(Ft,St.asyncValidator)):"function"==typeof Ft&&bt.setAsyncValidators([Ft]);const pn=()=>bt.updateValueAndValidity();ar(St._rawValidators,pn),ar(St._rawAsyncValidators,pn)}function _r(bt,St){let st=!1;if(null!==bt){if(null!==St.validator){const pn=Ae(bt);if(Array.isArray(pn)&&pn.length>0){const Nr=pn.filter(qr=>qr!==St.validator);Nr.length!==pn.length&&(st=!0,bt.setValidators(Nr))}}if(null!==St.asyncValidator){const pn=Pe(bt);if(Array.isArray(pn)&&pn.length>0){const Nr=pn.filter(qr=>qr!==St.asyncValidator);Nr.length!==pn.length&&(st=!0,bt.setAsyncValidators(Nr))}}}const Ft=()=>{};return ar(St._rawValidators,Ft),ar(St._rawAsyncValidators,Ft),st}function Rr(bt,St){bt._pendingDirty&&bt.markAsDirty(),bt.setValue(bt._pendingValue,{emitModelToViewChange:!1}),St.viewToModelUpdate(bt._pendingValue),bt._pendingChange=!1}function kr(bt,St){vr(bt,St)}function $n(bt,St){if(!bt.hasOwnProperty("model"))return!1;const st=bt.model;return!!st.isFirstChange()||!Object.is(St,st.currentValue)}function ir(bt,St){bt._syncPendingControls(),St.forEach(st=>{const Ft=st.control;"submit"===Ft.updateOn&&Ft._pendingChange&&(st.viewToModelUpdate(Ft._pendingValue),Ft._pendingChange=!1)})}function Ar(bt,St){if(!St)return null;let st,Ft,pn;return Array.isArray(St),St.forEach(Nr=>{Nr.constructor===Q?st=Nr:function sr(bt){return Object.getPrototypeOf(bt.constructor)===N}(Nr)?Ft=Nr:pn=Nr}),pn||Ft||st||null}const _o={provide:xe,useExisting:(0,p.Rfq)(()=>fi)},Ci=Promise.resolve();let fi=(()=>{class bt extends xe{get submitted(){return(0,p.O8t)(this.submittedReactive)}constructor(st,Ft,pn){super(),this.callSetDisabledState=pn,this._submitted=(0,p.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,p.vPA)(!1),this._directives=new Set,this.ngSubmit=new p.bkB,this.form=new zt({},W(st),ee(Ft))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(st){Ci.then(()=>{const Ft=this._findContainer(st.path);st.control=Ft.registerControl(st.name,st.control),Vn(st.control,st,this.callSetDisabledState),st.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(st)})}getControl(st){return this.form.get(st.path)}removeControl(st){Ci.then(()=>{const Ft=this._findContainer(st.path);Ft&&Ft.removeControl(st.name),this._directives.delete(st)})}addFormGroup(st){Ci.then(()=>{const Ft=this._findContainer(st.path),pn=new zt({});kr(pn,st),Ft.registerControl(st.name,pn),pn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(st){Ci.then(()=>{const Ft=this._findContainer(st.path);Ft&&Ft.removeControl(st.name)})}getFormGroup(st){return this.form.get(st.path)}updateModel(st,Ft){Ci.then(()=>{this.form.get(st.path).setValue(Ft)})}setValue(st){this.control.setValue(st)}onSubmit(st){return this.submittedReactive.set(!0),ir(this.form,this._directives),this.ngSubmit.emit(st),"dialog"===st?.target?.method}onReset(){this.resetForm()}resetForm(st=void 0){this.form.reset(st),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(st){return st.pop(),st.length?this.form.get(st):this.form}static#e=this.\u0275fac=function(Ft){return new(Ft||bt)(p.rXU(q,10),p.rXU(ne,10),p.rXU(Qn,8))};static#t=this.\u0275dir=p.FsC({type:bt,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Ft,pn){1&Ft&&p.bIt("submit",function(qr){return pn.onSubmit(qr)})("reset",function(){return pn.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p.Jv_([_o]),p.Vt3]})}return bt})();function so(bt,St){const st=bt.indexOf(St);st>-1&&bt.splice(st,1)}function ei(bt){return"object"==typeof bt&&null!==bt&&2===Object.keys(bt).length&&"value"in bt&&"disabled"in bt}const yi=class extends un{constructor(St=null,st,Ft){super(Wt(st),at(Ft,st)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(St),this._setUpdateStrategy(st),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ft(st)&&(st.nonNullable||st.initialValueIsDefault)&&(this.defaultValue=ei(St)?St.value:St)}setValue(St,st={}){this.value=this._pendingValue=St,this._onChange.length&&!1!==st.emitModelToViewChange&&this._onChange.forEach(Ft=>Ft(this.value,!1!==st.emitViewToModelChange)),this.updateValueAndValidity(st)}patchValue(St,st={}){this.setValue(St,st)}reset(St=this.defaultValue,st={}){this._applyFormState(St),this.markAsPristine(st),this.markAsUntouched(st),this.setValue(this.value,st),this._pendingChange=!1}_updateValue(){}_anyControls(St){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(St){this._onChange.push(St)}_unregisterOnChange(St){so(this._onChange,St)}registerOnDisabledChange(St){this._onDisabledChange.push(St)}_unregisterOnDisabledChange(St){so(this._onDisabledChange,St)}_forEachChild(St){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(St){ei(St)?(this.value=this._pendingValue=St.value,St.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=St}};let Gs=(()=>{class bt extends xe{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return On(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let st;return function(pn){return(st||(st=p.xGo(bt)))(pn||bt)}})();static#t=this.\u0275dir=p.FsC({type:bt,features:[p.Vt3]})}return bt})();const Kn={provide:le,useExisting:(0,p.Rfq)(()=>wn)},jt=Promise.resolve();let wn=(()=>{class bt extends le{constructor(st,Ft,pn,Nr,qr,zo){super(),this._changeDetectorRef=qr,this.callSetDisabledState=zo,this.control=new yi,this._registered=!1,this.name="",this.update=new p.bkB,this._parent=st,this._setValidators(Ft),this._setAsyncValidators(pn),this.valueAccessor=Ar(0,Nr)}ngOnChanges(st){if(this._checkForErrors(),!this._registered||"name"in st){if(this._registered&&(this._checkName(),this.formDirective)){const Ft=st.name.previousValue;this.formDirective.removeControl({name:Ft,path:this._getPath(Ft)})}this._setUpControl()}"isDisabled"in st&&this._updateDisabled(st),$n(st,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(st){this.viewModel=st,this.update.emit(st)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(st){jt.then(()=>{this.control.setValue(st,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(st){const Ft=st.isDisabled.currentValue,pn=0!==Ft&&(0,p.L39)(Ft);jt.then(()=>{pn&&!this.control.disabled?this.control.disable():!pn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(st){return this._parent?On(st,this._parent):[st]}static#e=this.\u0275fac=function(Ft){return new(Ft||bt)(p.rXU(xe,9),p.rXU(q,10),p.rXU(ne,10),p.rXU($,10),p.rXU(p.gRc,8),p.rXU(Qn,8))};static#t=this.\u0275dir=p.FsC({type:bt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p.Jv_([Kn]),p.Vt3,p.OA$]})}return bt})(),Mn=(()=>{class bt{static#e=this.\u0275fac=function(Ft){return new(Ft||bt)};static#t=this.\u0275dir=p.FsC({type:bt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return bt})();const Gc=new p.nKC(""),ca={provide:le,useExisting:(0,p.Rfq)(()=>Ed)};let Ed=(()=>{class bt extends le{set isDisabled(st){}static#e=this._ngModelWarningSentOnce=!1;constructor(st,Ft,pn,Nr,qr){super(),this._ngModelWarningConfig=Nr,this.callSetDisabledState=qr,this.update=new p.bkB,this._ngModelWarningSent=!1,this._setValidators(st),this._setAsyncValidators(Ft),this.valueAccessor=Ar(0,pn)}ngOnChanges(st){if(this._isControlChanged(st)){const Ft=st.form.previousValue;Ft&&Hn(Ft,this,!1),Vn(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}$n(st,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Hn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(st){this.viewModel=st,this.update.emit(st)}_isControlChanged(st){return st.hasOwnProperty("form")}static#t=this.\u0275fac=function(Ft){return new(Ft||bt)(p.rXU(q,10),p.rXU(ne,10),p.rXU($,10),p.rXU(Gc,8),p.rXU(Qn,8))};static#n=this.\u0275dir=p.FsC({type:bt,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[p.Jv_([ca]),p.Vt3,p.OA$]})}return bt})();const tu={provide:xe,useExisting:(0,p.Rfq)(()=>Ea)};let Ea=(()=>{class bt extends xe{get submitted(){return(0,p.O8t)(this._submittedReactive)}set submitted(st){this._submittedReactive.set(st)}constructor(st,Ft,pn){super(),this.callSetDisabledState=pn,this._submitted=(0,p.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,p.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.bkB,this._setValidators(st),this._setAsyncValidators(Ft)}ngOnChanges(st){this._checkFormPresent(),st.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_r(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(st){const Ft=this.form.get(st.path);return Vn(Ft,st,this.callSetDisabledState),Ft.updateValueAndValidity({emitEvent:!1}),this.directives.push(st),Ft}getControl(st){return this.form.get(st.path)}removeControl(st){Hn(st.control||null,st,!1),function hr(bt,St){const st=bt.indexOf(St);st>-1&&bt.splice(st,1)}(this.directives,st)}addFormGroup(st){this._setUpFormContainer(st)}removeFormGroup(st){this._cleanUpFormContainer(st)}getFormGroup(st){return this.form.get(st.path)}addFormArray(st){this._setUpFormContainer(st)}removeFormArray(st){this._cleanUpFormContainer(st)}getFormArray(st){return this.form.get(st.path)}updateModel(st,Ft){this.form.get(st.path).setValue(Ft)}onSubmit(st){return this._submittedReactive.set(!0),ir(this.form,this.directives),this.ngSubmit.emit(st),this.form._events.next(new Ct(this.control)),"dialog"===st?.target?.method}onReset(){this.resetForm()}resetForm(st=void 0){this.form.reset(st),this._submittedReactive.set(!1),this.form._events.next(new Bt(this.form))}_updateDomValue(){this.directives.forEach(st=>{const Ft=st.control,pn=this.form.get(st.path);Ft!==pn&&(Hn(Ft||null,st),(bt=>bt instanceof yi)(pn)&&(Vn(pn,st,this.callSetDisabledState),st.control=pn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(st){const Ft=this.form.get(st.path);kr(Ft,st),Ft.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(st){if(this.form){const Ft=this.form.get(st.path);Ft&&function jr(bt,St){return _r(bt,St)}(Ft,st)&&Ft.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vr(this.form,this),this._oldForm&&_r(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(Ft){return new(Ft||bt)(p.rXU(q,10),p.rXU(ne,10),p.rXU(Qn,8))};static#t=this.\u0275dir=p.FsC({type:bt,selectors:[["","formGroup",""]],hostBindings:function(Ft,pn){1&Ft&&p.bIt("submit",function(qr){return pn.onSubmit(qr)})("reset",function(){return pn.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p.Jv_([tu]),p.Vt3,p.OA$]})}return bt})();const bl={provide:xe,useExisting:(0,p.Rfq)(()=>zl)};let zl=(()=>{class bt extends Gs{constructor(st,Ft,pn){super(),this.name=null,this._parent=st,this._setValidators(Ft),this._setAsyncValidators(pn)}_checkParentType(){Hl(this._parent)}static#e=this.\u0275fac=function(Ft){return new(Ft||bt)(p.rXU(xe,13),p.rXU(q,10),p.rXU(ne,10))};static#t=this.\u0275dir=p.FsC({type:bt,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[p.Jv_([bl]),p.Vt3]})}return bt})();const xa={provide:xe,useExisting:(0,p.Rfq)(()=>Wa)};let Wa=(()=>{class bt extends xe{constructor(st,Ft,pn){super(),this.name=null,this._parent=st,this._setValidators(Ft),this._setAsyncValidators(pn)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return On(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Hl(this._parent)}static#e=this.\u0275fac=function(Ft){return new(Ft||bt)(p.rXU(xe,13),p.rXU(q,10),p.rXU(ne,10))};static#t=this.\u0275dir=p.FsC({type:bt,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[p.Jv_([xa]),p.Vt3]})}return bt})();function Hl(bt){return!(bt instanceof zl||bt instanceof Ea||bt instanceof Wa)}const Hu={provide:le,useExisting:(0,p.Rfq)(()=>ya)};let ya=(()=>{class bt extends le{set isDisabled(st){}static#e=this._ngModelWarningSentOnce=!1;constructor(st,Ft,pn,Nr,qr){super(),this._ngModelWarningConfig=qr,this._added=!1,this.name=null,this.update=new p.bkB,this._ngModelWarningSent=!1,this._parent=st,this._setValidators(Ft),this._setAsyncValidators(pn),this.valueAccessor=Ar(0,Nr)}ngOnChanges(st){this._added||this._setUpControl(),$n(st,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(st){this.viewModel=st,this.update.emit(st)}get path(){return On(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(Ft){return new(Ft||bt)(p.rXU(xe,13),p.rXU(q,10),p.rXU(ne,10),p.rXU($,10),p.rXU(Gc,8))};static#n=this.\u0275dir=p.FsC({type:bt,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[p.Jv_([Hu]),p.Vt3,p.OA$]})}return bt})();let vc=(()=>{class bt{constructor(){this._validator=g}ngOnChanges(st){if(this.inputName in st){const Ft=this.normalizeInput(st[this.inputName].currentValue);this._enabled=this.enabled(Ft),this._validator=this._enabled?this.createValidator(Ft):g,this._onChange&&this._onChange()}}validate(st){return this._validator(st)}registerOnValidatorChange(st){this._onChange=st}enabled(st){return null!=st}static#e=this.\u0275fac=function(Ft){return new(Ft||bt)};static#t=this.\u0275dir=p.FsC({type:bt,features:[p.OA$]})}return bt})();const Vo={provide:q,useExisting:(0,p.Rfq)(()=>Zc),multi:!0},Ba={provide:q,useExisting:(0,p.Rfq)(()=>la),multi:!0};let Zc=(()=>{class bt extends vc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.L39,this.createValidator=st=>ve}enabled(st){return st}static#e=this.\u0275fac=(()=>{let st;return function(pn){return(st||(st=p.xGo(bt)))(pn||bt)}})();static#t=this.\u0275dir=p.FsC({type:bt,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Ft,pn){2&Ft&&p.BMQ("required",pn._enabled?"":null)},inputs:{required:"required"},features:[p.Jv_([Vo]),p.Vt3]})}return bt})(),la=(()=>{class bt extends Zc{constructor(){super(...arguments),this.createValidator=st=>_e}static#e=this.\u0275fac=(()=>{let st;return function(pn){return(st||(st=p.xGo(bt)))(pn||bt)}})();static#t=this.\u0275dir=p.FsC({type:bt,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(Ft,pn){2&Ft&&p.BMQ("required",pn._enabled?"":null)},features:[p.Jv_([Ba]),p.Vt3]})}return bt})();const ss={provide:q,useExisting:(0,p.Rfq)(()=>Za),multi:!0};let Za=(()=>{class bt extends vc{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=st=>function xr(bt){return"number"==typeof bt?bt:parseInt(bt,10)}(st),this.createValidator=st=>u(st)}static#e=this.\u0275fac=(()=>{let st;return function(pn){return(st||(st=p.xGo(bt)))(pn||bt)}})();static#t=this.\u0275dir=p.FsC({type:bt,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Ft,pn){2&Ft&&p.BMQ("maxlength",pn._enabled?pn.maxlength:null)},inputs:{maxlength:"maxlength"},features:[p.Jv_([ss]),p.Vt3]})}return bt})(),nm=(()=>{class bt{static#e=this.\u0275fac=function(Ft){return new(Ft||bt)};static#t=this.\u0275mod=p.$C({type:bt});static#n=this.\u0275inj=p.G2t({})}return bt})();class ru extends un{constructor(St,st,Ft){super(Wt(st),at(Ft,st)),this.controls=St,this._initObservables(),this._setUpdateStrategy(st),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(St){return this.controls[this._adjustIndex(St)]}push(St,st={}){this.controls.push(St),this._registerControl(St),this.updateValueAndValidity({emitEvent:st.emitEvent}),this._onCollectionChange()}insert(St,st,Ft={}){this.controls.splice(St,0,st),this._registerControl(st),this.updateValueAndValidity({emitEvent:Ft.emitEvent})}removeAt(St,st={}){let Ft=this._adjustIndex(St);Ft<0&&(Ft=0),this.controls[Ft]&&this.controls[Ft]._registerOnCollectionChange(()=>{}),this.controls.splice(Ft,1),this.updateValueAndValidity({emitEvent:st.emitEvent})}setControl(St,st,Ft={}){let pn=this._adjustIndex(St);pn<0&&(pn=0),this.controls[pn]&&this.controls[pn]._registerOnCollectionChange(()=>{}),this.controls.splice(pn,1),st&&(this.controls.splice(pn,0,st),this._registerControl(st)),this.updateValueAndValidity({emitEvent:Ft.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(St,st={}){gt(this,0,St),St.forEach((Ft,pn)=>{et(this,!1,pn),this.at(pn).setValue(Ft,{onlySelf:!0,emitEvent:st.emitEvent})}),this.updateValueAndValidity(st)}patchValue(St,st={}){null!=St&&(St.forEach((Ft,pn)=>{this.at(pn)&&this.at(pn).patchValue(Ft,{onlySelf:!0,emitEvent:st.emitEvent})}),this.updateValueAndValidity(st))}reset(St=[],st={}){this._forEachChild((Ft,pn)=>{Ft.reset(St[pn],{onlySelf:!0,emitEvent:st.emitEvent})}),this._updatePristine(st,this),this._updateTouched(st,this),this.updateValueAndValidity(st)}getRawValue(){return this.controls.map(St=>St.getRawValue())}clear(St={}){this.controls.length<1||(this._forEachChild(st=>st._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:St.emitEvent}))}_adjustIndex(St){return St<0?St+this.length:St}_syncPendingControls(){let St=this.controls.reduce((st,Ft)=>!!Ft._syncPendingControls()||st,!1);return St&&this.updateValueAndValidity({onlySelf:!0}),St}_forEachChild(St){this.controls.forEach((st,Ft)=>{St(st,Ft)})}_updateValue(){this.value=this.controls.filter(St=>St.enabled||this.disabled).map(St=>St.value)}_anyControls(St){return this.controls.some(st=>st.enabled&&St(st))}_setUpControls(){this._forEachChild(St=>this._registerControl(St))}_allControlsDisabled(){for(const St of this.controls)if(St.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(St){St.setParent(this),St._registerOnCollectionChange(this._onCollectionChange)}_find(St){return this.at(St)??null}}function Ya(bt){return!!bt&&(void 0!==bt.asyncValidators||void 0!==bt.validators||void 0!==bt.updateOn)}let Ys=(()=>{class bt{constructor(){this.useNonNullable=!1}get nonNullable(){const st=new bt;return st.useNonNullable=!0,st}group(st,Ft=null){const pn=this._reduceControls(st);let Nr={};return Ya(Ft)?Nr=Ft:null!==Ft&&(Nr.validators=Ft.validator,Nr.asyncValidators=Ft.asyncValidator),new zt(pn,Nr)}record(st,Ft=null){const pn=this._reduceControls(st);return new vn(pn,Ft)}control(st,Ft,pn){let Nr={};return this.useNonNullable?(Ya(Ft)?Nr=Ft:(Nr.validators=Ft,Nr.asyncValidators=pn),new yi(st,{...Nr,nonNullable:!0})):new yi(st,Ft,pn)}array(st,Ft,pn){const Nr=st.map(qr=>this._createControl(qr));return new ru(Nr,Ft,pn)}_reduceControls(st){const Ft={};return Object.keys(st).forEach(pn=>{Ft[pn]=this._createControl(st[pn])}),Ft}_createControl(st){return st instanceof yi||st instanceof un?st:Array.isArray(st)?this.control(st[0],st.length>1?st[1]:null,st.length>2?st[2]:null):this.control(st)}static#e=this.\u0275fac=function(Ft){return new(Ft||bt)};static#t=this.\u0275prov=p.jDH({token:bt,factory:bt.\u0275fac,providedIn:"root"})}return bt})(),bc=(()=>{class bt{static withConfig(st){return{ngModule:bt,providers:[{provide:Qn,useValue:st.callSetDisabledState??jn}]}}static#e=this.\u0275fac=function(Ft){return new(Ft||bt)};static#t=this.\u0275mod=p.$C({type:bt});static#n=this.\u0275inj=p.G2t({imports:[nm]})}return bt})(),iu=(()=>{class bt{static withConfig(st){return{ngModule:bt,providers:[{provide:Gc,useValue:st.warnOnNgModelWithFormControl??"always"},{provide:Qn,useValue:st.callSetDisabledState??jn}]}}static#e=this.\u0275fac=function(Ft){return new(Ft||bt)};static#t=this.\u0275mod=p.$C({type:bt});static#n=this.\u0275inj=p.G2t({imports:[nm]})}return bt})()},94073:()=>{"use strict";const Be=":";Error;const fe=function(Le,...be){if(fe.translate){const Re=fe.translate(Le,be);Le=Re[0],be=Re[1]}let ge=Pe(Le[0],Le.raw[0]);for(let Re=1;Re<Le.length;Re++)ge+=be[Re-1]+Pe(Le[Re],Le.raw[Re]);return ge},Ae=":";function Pe(Le,be){return be.charAt(0)===Ae?Le.substring(function g(Le,be){for(let ge=1,Re=1;ge<Le.length;ge++,Re++)if("\\"===be[Re])Re++;else if(Le[ge]===Be)return ge;throw new Error(`Unterminated $localize metadata block in "${be}".`)}(Le,be)+1):Le}globalThis.$localize=fe},88834:(Be,z,E)=>{"use strict";E.d(z,{$z:()=>ue,Hl:()=>C,It:()=>ae,iY:()=>w});var p=E(36860),S=E(93953),O=E(18617),G=E(86600);const x=["mat-button",""],B=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],A=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],$=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",V=["mat-icon-button",""],Z=["*"],te=new S.nKC("MAT_BUTTON_CONFIG"),q=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let ne=(()=>{class j{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(d){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,d)}get disableRipple(){return this._disableRipple}set disableRipple(d){this._disableRipple=d,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(d){this._disabled=d,this._updateRippleDisabled()}constructor(d,v,W,H){this._elementRef=d,this._platform=v,this._ngZone=W,this._animationMode=H,this._focusMonitor=(0,S.WQX)(O.FN),this._rippleLoader=(0,S.WQX)(G.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const ee=(0,S.WQX)(te,{optional:!0}),fe=d.nativeElement,Ae=fe.classList;this.disabledInteractive=ee?.disabledInteractive??!1,this.color=ee?.color??null,this._rippleLoader?.configureRipple(fe,{className:"mat-mdc-button-ripple"});for(const{attribute:Pe,mdcClasses:Le}of q)fe.hasAttribute(Pe)&&Ae.add(...Le)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(d="program",v){d?this._focusMonitor.focusVia(this._elementRef.nativeElement,d,v):this._elementRef.nativeElement.focus(v)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(v){S.QTQ()};static#t=this.\u0275dir=S.FsC({type:j,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",S.L39],disabled:[2,"disabled","disabled",S.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",S.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",S.L39]},features:[S.GFd]})}return j})(),oe=(()=>{class j extends ne{constructor(d,v,W,H){super(d,v,W,H),this._haltDisabledEvents=ee=>{this.disabled&&(ee.preventDefault(),ee.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(v){S.QTQ()};static#t=this.\u0275dir=S.FsC({type:j,inputs:{tabIndex:[2,"tabIndex","tabIndex",d=>null==d?void 0:(0,S.Udg)(d)]},features:[S.GFd,S.Vt3]})}return j})(),ue=(()=>{class j extends ne{constructor(d,v,W,H){super(d,v,W,H)}static#e=this.\u0275fac=function(v){return new(v||j)(S.rXU(S.aKT),S.rXU(p.OD),S.rXU(S.SKi),S.rXU(S.bc$,8))};static#t=this.\u0275cmp=S.VBU({type:j,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(v,W){2&v&&(S.BMQ("disabled",W._getDisabledAttribute())("aria-disabled",W._getAriaDisabled()),S.HbH(W.color?"mat-"+W.color:""),S.AVh("mat-mdc-button-disabled",W.disabled)("mat-mdc-button-disabled-interactive",W.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===W._animationMode)("mat-unthemed",!W.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[S.Vt3,S.aNF],attrs:x,ngContentSelectors:A,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,W){1&v&&(S.NAR(B),S.nrm(0,"span",0),S.SdG(1),S.j41(2,"span",1),S.SdG(3,1),S.k0s(),S.SdG(4,2),S.nrm(5,"span",2)(6,"span",3)),2&v&&S.AVh("mdc-button__ripple",!W._isFab)("mdc-fab__ripple",W._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return j})(),ae=(()=>{class j extends oe{constructor(d,v,W,H){super(d,v,W,H)}static#e=this.\u0275fac=function(v){return new(v||j)(S.rXU(S.aKT),S.rXU(p.OD),S.rXU(S.SKi),S.rXU(S.bc$,8))};static#t=this.\u0275cmp=S.VBU({type:j,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(v,W){2&v&&(S.BMQ("disabled",W._getDisabledAttribute())("tabindex",W.disabled&&!W.disabledInteractive?-1:W.tabIndex)("aria-disabled",W._getDisabledAttribute()),S.HbH(W.color?"mat-"+W.color:""),S.AVh("mat-mdc-button-disabled",W.disabled)("mat-mdc-button-disabled-interactive",W.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===W._animationMode)("mat-unthemed",!W.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[S.Vt3,S.aNF],attrs:x,ngContentSelectors:A,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,W){1&v&&(S.NAR(B),S.nrm(0,"span",0),S.SdG(1),S.j41(2,"span",1),S.SdG(3,1),S.k0s(),S.SdG(4,2),S.nrm(5,"span",2)(6,"span",3)),2&v&&S.AVh("mdc-button__ripple",!W._isFab)("mdc-fab__ripple",W._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',$],encapsulation:2,changeDetection:0})}return j})(),w=(()=>{class j extends ne{constructor(d,v,W,H){super(d,v,W,H),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(v){return new(v||j)(S.rXU(S.aKT),S.rXU(p.OD),S.rXU(S.SKi),S.rXU(S.bc$,8))};static#t=this.\u0275cmp=S.VBU({type:j,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(v,W){2&v&&(S.BMQ("disabled",W._getDisabledAttribute())("aria-disabled",W._getAriaDisabled()),S.HbH(W.color?"mat-"+W.color:""),S.AVh("mat-mdc-button-disabled",W.disabled)("mat-mdc-button-disabled-interactive",W.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===W._animationMode)("mat-unthemed",!W.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[S.Vt3,S.aNF],attrs:V,ngContentSelectors:Z,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,W){1&v&&(S.NAR(),S.nrm(0,"span",0),S.SdG(1),S.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',$],encapsulation:2,changeDetection:0})}return j})(),C=(()=>{class j{static#e=this.\u0275fac=function(v){return new(v||j)};static#t=this.\u0275mod=S.$C({type:j});static#n=this.\u0275inj=S.G2t({imports:[G.yE,G.pZ,G.yE]})}return j})()},25596:(Be,z,E)=>{"use strict";E.d(z,{Hu:()=>_e,Lc:()=>Z,MM:()=>te,QG:()=>ae,RN:()=>K,WQ:()=>J,YY:()=>Q,aJ:()=>X,dh:()=>D,kF:()=>q,m2:()=>V});var p=E(93953),S=E(60177),O=E(86600);const G=["*"],x=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["","mat-card-image",""],["","matCardImage",""],["","mat-card-sm-image",""],["","matCardImageSmall",""],["","mat-card-md-image",""],["","matCardImageMedium",""],["","mat-card-lg-image",""],["","matCardImageLarge",""],["","mat-card-xl-image",""],["","matCardImageXLarge",""]],"*"],B=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","[mat-card-image], [matCardImage],\n                    [mat-card-sm-image], [matCardImageSmall],\n                    [mat-card-md-image], [matCardImageMedium],\n                    [mat-card-lg-image], [matCardImageLarge],\n                    [mat-card-xl-image], [matCardImageXLarge]","*"],A=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],N=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],$=new p.nKC("MAT_CARD_CONFIG");let K=(()=>{class De{constructor(u){this.appearance=u?.appearance||"raised"}static#e=this.\u0275fac=function(h){return new(h||De)(p.rXU($,8))};static#t=this.\u0275cmp=p.VBU({type:De,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(h,g){2&h&&p.AVh("mat-mdc-card-outlined","outlined"===g.appearance)("mdc-card--outlined","outlined"===g.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[p.aNF],ngContentSelectors:G,decls:1,vars:0,template:function(h,g){1&h&&(p.NAR(),p.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return De})(),D=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275dir=p.FsC({type:De,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return De})(),X=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275cmp=p.VBU({type:De,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-mdc-card-title-group"],standalone:!0,features:[p.aNF],ngContentSelectors:B,decls:4,vars:0,template:function(h,g){1&h&&(p.NAR(x),p.j41(0,"div"),p.SdG(1),p.k0s(),p.SdG(2,1),p.SdG(3,2))},encapsulation:2,changeDetection:0})}return De})(),V=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275dir=p.FsC({type:De,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return De})(),Z=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275dir=p.FsC({type:De,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return De})(),Q=(()=>{class De{constructor(){this.align="start"}static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275dir=p.FsC({type:De,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(h,g){2&h&&p.AVh("mat-mdc-card-actions-align-end","end"===g.align)},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0})}return De})(),te=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275cmp=p.VBU({type:De,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[p.aNF],ngContentSelectors:N,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(h,g){1&h&&(p.NAR(A),p.SdG(0),p.j41(1,"div",0),p.SdG(2,1),p.k0s(),p.SdG(3,2))},encapsulation:2,changeDetection:0})}return De})(),J=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275dir=p.FsC({type:De,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0})}return De})(),q=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275dir=p.FsC({type:De,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0})}return De})(),ae=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275dir=p.FsC({type:De,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"],standalone:!0})}return De})(),_e=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275mod=p.$C({type:De});static#n=this.\u0275inj=p.G2t({imports:[O.yE,S.MD,O.yE]})}return De})()},86600:(Be,z,E)=>{"use strict";E.d(z,{r5:()=>oe,ed:()=>ue,es:()=>me,QC:()=>kt,is:()=>Ie,$E:()=>_,yE:()=>_e,Np:()=>re,wT:()=>qt,Sy:()=>cn,wg:()=>ie,O5:()=>we,r6:()=>m,Ej:()=>Wt,pZ:()=>F,ug:()=>lt,X0:()=>C,tO:()=>Yn,jb:()=>Kt,TL:()=>er});var p=E(93953),S=E(18617),O=E(28203),x=E(60177),B=E(36860),A=E(14085),N=E(21413),$=E(67336);const X=["text"],V=[[["mat-icon"]],"*"],Z=["mat-icon","*"];function Q(at,ut){if(1&at&&p.nrm(0,"mat-pseudo-checkbox",1),2&at){const ft=p.XpG();p.Y8G("disabled",ft.disabled)("state",ft.selected?"checked":"unchecked")}}function te(at,ut){if(1&at&&p.nrm(0,"mat-pseudo-checkbox",3),2&at){const ft=p.XpG();p.Y8G("disabled",ft.disabled)}}function J(at,ut){if(1&at&&(p.j41(0,"span",4),p.EFF(1),p.k0s()),2&at){const ft=p.XpG();p.R7$(),p.SpI("(",ft.group.label,")")}}const q=["mat-internal-form-field",""],ne=["*"];let oe=(()=>{class at{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#f=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return at})(),ue=(()=>{class at{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return at})();const ve=new p.nKC("mat-sanity-checks",{providedIn:"root",factory:function ae(){return!0}});let _e=(()=>{class at{constructor(ft,et,gt){this._sanityChecks=et,this._document=gt,this._hasDoneGlobalChecks=!1,ft._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(ft){return!(0,B.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[ft])}static#e=this.\u0275fac=function(et){return new(et||at)(p.KVO(S.Q_),p.KVO(ve,8),p.KVO(x.qQ))};static#t=this.\u0275mod=p.$C({type:at});static#n=this.\u0275inj=p.G2t({imports:[O.jI,O.jI]})}return at})();class C{constructor(ut,ft,et,gt,un){this._defaultMatcher=ut,this.ngControl=ft,this._parentFormGroup=et,this._parentForm=gt,this._stateChanges=un,this.errorState=!1}updateErrorState(){const ut=this.errorState,ft=this._parentFormGroup||this._parentForm,et=this.matcher||this._defaultMatcher,gt=this.ngControl?this.ngControl.control:null,un=et?.isErrorState(gt,ft)??!1;un!==ut&&(this.errorState=un,this._stateChanges.next())}}let me=(()=>{class at{isErrorState(ft,et){return!!(ft&&ft.invalid&&(ft.touched||et&&et.submitted))}static#e=this.\u0275fac=function(et){return new(et||at)};static#t=this.\u0275prov=p.jDH({token:at,factory:at.\u0275fac,providedIn:"root"})}return at})(),re=(()=>{class at{static#e=this.\u0275fac=function(et){return new(et||at)};static#t=this.\u0275mod=p.$C({type:at});static#n=this.\u0275inj=p.G2t({imports:[_e,_e]})}return at})();var de=function(at){return at[at.FADING_IN=0]="FADING_IN",at[at.VISIBLE=1]="VISIBLE",at[at.FADING_OUT=2]="FADING_OUT",at[at.HIDDEN=3]="HIDDEN",at}(de||{});class pe{constructor(ut,ft,et,gt=!1){this._renderer=ut,this.element=ft,this.config=et,this._animationForciblyDisabledThroughCss=gt,this.state=de.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Se=(0,B.BQ)({passive:!0,capture:!0});class ke{constructor(){this._events=new Map,this._delegateEventHandler=ut=>{const ft=(0,B.Fb)(ut);ft&&this._events.get(ut.type)?.forEach((et,gt)=>{(gt===ft||gt.contains(ft))&&et.forEach(un=>un.handleEvent(ut))})}}addHandler(ut,ft,et,gt){const un=this._events.get(ft);if(un){const zt=un.get(et);zt?zt.add(gt):un.set(et,new Set([gt]))}else this._events.set(ft,new Map([[et,new Set([gt])]])),ut.runOutsideAngular(()=>{document.addEventListener(ft,this._delegateEventHandler,Se)})}removeHandler(ut,ft,et){const gt=this._events.get(ut);if(!gt)return;const un=gt.get(ft);un&&(un.delete(et),0===un.size&&gt.delete(ft),0===gt.size&&(this._events.delete(ut),document.removeEventListener(ut,this._delegateEventHandler,Se)))}}const Fe={enterDuration:225,exitDuration:150},Tt=(0,B.BQ)({passive:!0,capture:!0}),Xe=["mousedown","touchstart"],Ke=["mouseup","mouseleave","touchend","touchcancel"];class lt{static#e=this._eventManager=new ke;constructor(ut,ft,et,gt){this._target=ut,this._ngZone=ft,this._platform=gt,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,gt.isBrowser&&(this._containerElement=(0,A.i8)(et))}fadeInRipple(ut,ft,et={}){const gt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),un={...Fe,...et.animation};et.centered&&(ut=gt.left+gt.width/2,ft=gt.top+gt.height/2);const zt=et.radius||function U(at,ut,ft){const et=Math.max(Math.abs(at-ft.left),Math.abs(at-ft.right)),gt=Math.max(Math.abs(ut-ft.top),Math.abs(ut-ft.bottom));return Math.sqrt(et*et+gt*gt)}(ut,ft,gt),tn=ut-gt.left,pr=ft-gt.top,bn=un.enterDuration,vn=document.createElement("div");vn.classList.add("mat-ripple-element"),vn.style.left=tn-zt+"px",vn.style.top=pr-zt+"px",vn.style.height=2*zt+"px",vn.style.width=2*zt+"px",null!=et.color&&(vn.style.backgroundColor=et.color),vn.style.transitionDuration=`${bn}ms`,this._containerElement.appendChild(vn);const Or=window.getComputedStyle(vn),jn=Or.transitionDuration,On="none"===Or.transitionProperty||"0s"===jn||"0s, 0s"===jn||0===gt.width&&0===gt.height,Vn=new pe(this,vn,et,On);vn.style.transform="scale3d(1, 1, 1)",Vn.state=de.FADING_IN,et.persistent||(this._mostRecentTransientRipple=Vn);let Hn=null;return!On&&(bn||un.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ar=()=>{Hn&&(Hn.fallbackTimer=null),clearTimeout(vr),this._finishRippleTransition(Vn)},qn=()=>this._destroyRipple(Vn),vr=setTimeout(qn,bn+100);vn.addEventListener("transitionend",ar),vn.addEventListener("transitioncancel",qn),Hn={onTransitionEnd:ar,onTransitionCancel:qn,fallbackTimer:vr}}),this._activeRipples.set(Vn,Hn),(On||!bn)&&this._finishRippleTransition(Vn),Vn}fadeOutRipple(ut){if(ut.state===de.FADING_OUT||ut.state===de.HIDDEN)return;const ft=ut.element,et={...Fe,...ut.config.animation};ft.style.transitionDuration=`${et.exitDuration}ms`,ft.style.opacity="0",ut.state=de.FADING_OUT,(ut._animationForciblyDisabledThroughCss||!et.exitDuration)&&this._finishRippleTransition(ut)}fadeOutAll(){this._getActiveRipples().forEach(ut=>ut.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(ut=>{ut.config.persistent||ut.fadeOut()})}setupTriggerEvents(ut){const ft=(0,A.i8)(ut);!this._platform.isBrowser||!ft||ft===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=ft,Xe.forEach(et=>{lt._eventManager.addHandler(this._ngZone,et,ft,this)}))}handleEvent(ut){"mousedown"===ut.type?this._onMousedown(ut):"touchstart"===ut.type?this._onTouchStart(ut):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ke.forEach(ft=>{this._triggerElement.addEventListener(ft,this,Tt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(ut){ut.state===de.FADING_IN?this._startFadeOutTransition(ut):ut.state===de.FADING_OUT&&this._destroyRipple(ut)}_startFadeOutTransition(ut){const ft=ut===this._mostRecentTransientRipple,{persistent:et}=ut.config;ut.state=de.VISIBLE,!et&&(!ft||!this._isPointerDown)&&ut.fadeOut()}_destroyRipple(ut){const ft=this._activeRipples.get(ut)??null;this._activeRipples.delete(ut),this._activeRipples.size||(this._containerRect=null),ut===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),ut.state=de.HIDDEN,null!==ft&&(ut.element.removeEventListener("transitionend",ft.onTransitionEnd),ut.element.removeEventListener("transitioncancel",ft.onTransitionCancel),null!==ft.fallbackTimer&&clearTimeout(ft.fallbackTimer)),ut.element.remove()}_onMousedown(ut){const ft=(0,S._G)(ut),et=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!ft&&!et&&(this._isPointerDown=!0,this.fadeInRipple(ut.clientX,ut.clientY,this._target.rippleConfig))}_onTouchStart(ut){if(!this._target.rippleDisabled&&!(0,S.w6)(ut)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const ft=ut.changedTouches;if(ft)for(let et=0;et<ft.length;et++)this.fadeInRipple(ft[et].clientX,ft[et].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(ut=>{!ut.config.persistent&&(ut.state===de.VISIBLE||ut.config.terminateOnPointerUp&&ut.state===de.FADING_IN)&&ut.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const ut=this._triggerElement;ut&&(Xe.forEach(ft=>lt._eventManager.removeHandler(ft,ut,this)),this._pointerUpEventsRegistered&&(Ke.forEach(ft=>ut.removeEventListener(ft,this,Tt)),this._pointerUpEventsRegistered=!1))}}const _=new p.nKC("mat-ripple-global-options");let m=(()=>{class at{get disabled(){return this._disabled}set disabled(ft){ft&&this.fadeOutAllNonPersistent(),this._disabled=ft,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(ft){this._trigger=ft,this._setupTriggerEventsIfEnabled()}constructor(ft,et,gt,un,zt){this._elementRef=ft,this._animationMode=zt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=un||{},this._rippleRenderer=new lt(this,et,ft,gt)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(ft,et=0,gt){return"number"==typeof ft?this._rippleRenderer.fadeInRipple(ft,et,{...this.rippleConfig,...gt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...ft})}static#e=this.\u0275fac=function(et){return new(et||at)(p.rXU(p.aKT),p.rXU(p.SKi),p.rXU(B.OD),p.rXU(_,8),p.rXU(p.bc$,8))};static#t=this.\u0275dir=p.FsC({type:at,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(et,gt){2&et&&p.AVh("mat-ripple-unbounded",gt.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return at})(),F=(()=>{class at{static#e=this.\u0275fac=function(et){return new(et||at)};static#t=this.\u0275mod=p.$C({type:at});static#n=this.\u0275inj=p.G2t({imports:[_e,_e]})}return at})(),ie=(()=>{class at{constructor(ft){this._animationMode=ft,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(et){return new(et||at)(p.rXU(p.bc$,8))};static#t=this.\u0275cmp=p.VBU({type:at,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(et,gt){2&et&&p.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===gt.state)("mat-pseudo-checkbox-checked","checked"===gt.state)("mat-pseudo-checkbox-disabled",gt.disabled)("mat-pseudo-checkbox-minimal","minimal"===gt.appearance)("mat-pseudo-checkbox-full","full"===gt.appearance)("_mat-animation-noopable","NoopAnimations"===gt._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[p.aNF],decls:0,vars:0,template:function(et,gt){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return at})(),we=(()=>{class at{static#e=this.\u0275fac=function(et){return new(et||at)};static#t=this.\u0275mod=p.$C({type:at});static#n=this.\u0275inj=p.G2t({imports:[_e]})}return at})();const Ie=new p.nKC("MAT_OPTION_PARENT_COMPONENT"),kt=new p.nKC("MatOptgroup");let Et=0;class Lt{constructor(ut,ft=!1){this.source=ut,this.isUserInput=ft}}let qt=(()=>{class at{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(ft){this._disabled=ft}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(ft,et,gt,un){this._element=ft,this._changeDetectorRef=et,this._parent=gt,this.group=un,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Et++,this.onSelectionChange=new p.bkB,this._stateChanges=new N.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(ft=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),ft&&this._emitSelectionChangeEvent())}deselect(ft=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),ft&&this._emitSelectionChangeEvent())}focus(ft,et){const gt=this._getHostElement();"function"==typeof gt.focus&&gt.focus(et)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(ft){(ft.keyCode===$.Fm||ft.keyCode===$.t6)&&!(0,$.rp)(ft)&&(this._selectViaInteraction(),ft.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const ft=this.viewValue;ft!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=ft)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(ft=!1){this.onSelectionChange.emit(new Lt(this,ft))}static#e=this.\u0275fac=function(et){return new(et||at)(p.rXU(p.aKT),p.rXU(p.gRc),p.rXU(Ie,8),p.rXU(kt,8))};static#t=this.\u0275cmp=p.VBU({type:at,selectors:[["mat-option"]],viewQuery:function(et,gt){if(1&et&&p.GBs(X,7),2&et){let un;p.mGM(un=p.lsd())&&(gt._text=un.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(et,gt){1&et&&p.bIt("click",function(){return gt._selectViaInteraction()})("keydown",function(zt){return gt._handleKeydown(zt)}),2&et&&(p.Mr5("id",gt.id),p.BMQ("aria-selected",gt.selected)("aria-disabled",gt.disabled.toString()),p.AVh("mdc-list-item--selected",gt.selected)("mat-mdc-option-multiple",gt.multiple)("mat-mdc-option-active",gt.active)("mdc-list-item--disabled",gt.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",p.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[p.GFd,p.aNF],ngContentSelectors:Z,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(et,gt){1&et&&(p.NAR(V),p.DNE(0,Q,1,2,"mat-pseudo-checkbox",1),p.SdG(1),p.j41(2,"span",2,0),p.SdG(4,1),p.k0s(),p.DNE(5,te,1,1,"mat-pseudo-checkbox",3)(6,J,2,1,"span",4),p.nrm(7,"div",5)),2&et&&(p.vxM(gt.multiple?0:-1),p.R7$(5),p.vxM(gt.multiple||!gt.selected||gt.hideSingleSelectionIndicator?-1:5),p.R7$(),p.vxM(gt.group&&gt.group._inert?6:-1),p.R7$(),p.Y8G("matRippleTrigger",gt._getHostElement())("matRippleDisabled",gt.disabled||gt.disableRipple))},dependencies:[ie,m],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return at})();function Kt(at,ut,ft){if(ft.length){let et=ut.toArray(),gt=ft.toArray(),un=0;for(let zt=0;zt<at+1;zt++)et[zt].group&&et[zt].group===gt[un]&&un++;return un}return 0}function er(at,ut,ft,et){return at<ft?at:at+ut>ft+et?Math.max(0,at-et+ut):ft}let cn=(()=>{class at{static#e=this.\u0275fac=function(et){return new(et||at)};static#t=this.\u0275mod=p.$C({type:at});static#n=this.\u0275inj=p.G2t({imports:[F,_e,we]})}return at})();const Ut={capture:!0},Nt=["focus","mousedown","mouseenter","touchstart"],dt="mat-ripple-loader-uninitialized",it="mat-ripple-loader-class-name",Ct="mat-ripple-loader-centered",Bt="mat-ripple-loader-disabled";let Wt=(()=>{class at{constructor(){this._document=(0,p.WQX)(x.qQ,{optional:!0}),this._animationMode=(0,p.WQX)(p.bc$,{optional:!0}),this._globalRippleOptions=(0,p.WQX)(_,{optional:!0}),this._platform=(0,p.WQX)(B.OD),this._ngZone=(0,p.WQX)(p.SKi),this._hosts=new Map,this._onInteraction=ft=>{const et=(0,B.Fb)(ft);if(et instanceof HTMLElement){const gt=et.closest(`[${dt}="${this._globalRippleOptions?.namespace??""}"]`);gt&&this._createRipple(gt)}},this._ngZone.runOutsideAngular(()=>{for(const ft of Nt)this._document?.addEventListener(ft,this._onInteraction,Ut)})}ngOnDestroy(){const ft=this._hosts.keys();for(const et of ft)this.destroyRipple(et);for(const et of Nt)this._document?.removeEventListener(et,this._onInteraction,Ut)}configureRipple(ft,et){ft.setAttribute(dt,this._globalRippleOptions?.namespace??""),(et.className||!ft.hasAttribute(it))&&ft.setAttribute(it,et.className||""),et.centered&&ft.setAttribute(Ct,""),et.disabled&&ft.setAttribute(Bt,"")}getRipple(ft){return this._hosts.get(ft)||this._createRipple(ft)}setDisabled(ft,et){const gt=this._hosts.get(ft);gt?gt.disabled=et:et?ft.setAttribute(Bt,""):ft.removeAttribute(Bt)}_createRipple(ft){if(!this._document)return;const et=this._hosts.get(ft);if(et)return et;ft.querySelector(".mat-ripple")?.remove();const gt=this._document.createElement("span");gt.classList.add("mat-ripple",ft.getAttribute(it)),ft.append(gt);const un=new m(new p.aKT(gt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return un._isInitialized=!0,un.trigger=ft,un.centered=ft.hasAttribute(Ct),un.disabled=ft.hasAttribute(Bt),this.attachRipple(ft,un),un}attachRipple(ft,et){ft.removeAttribute(dt),this._hosts.set(ft,et)}destroyRipple(ft){const et=this._hosts.get(ft);et&&(et.ngOnDestroy(),this._hosts.delete(ft))}static#e=this.\u0275fac=function(et){return new(et||at)};static#t=this.\u0275prov=p.jDH({token:at,factory:at.\u0275fac,providedIn:"root"})}return at})(),Yn=(()=>{class at{static#e=this.\u0275fac=function(et){return new(et||at)};static#t=this.\u0275cmp=p.VBU({type:at,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(et,gt){2&et&&p.AVh("mdc-form-field--align-end","before"===gt.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[p.aNF],attrs:q,ngContentSelectors:ne,decls:1,vars:0,template:function(et,gt){1&et&&(p.NAR(),p.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return at})()},71997:(Be,z,E)=>{"use strict";E.d(z,{q:()=>G,w:()=>x});var p=E(93953),S=E(14085),O=E(86600);let G=(()=>{class B{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(N){this._vertical=(0,S.he)(N)}get inset(){return this._inset}set inset(N){this._inset=(0,S.he)(N)}static#e=this.\u0275fac=function($){return new($||B)};static#t=this.\u0275cmp=p.VBU({type:B,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function($,K){2&$&&(p.BMQ("aria-orientation",K.vertical?"vertical":"horizontal"),p.AVh("mat-divider-vertical",K.vertical)("mat-divider-horizontal",!K.vertical)("mat-divider-inset",K.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[p.aNF],decls:0,vars:0,template:function($,K){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return B})(),x=(()=>{class B{static#e=this.\u0275fac=function($){return new($||B)};static#t=this.\u0275mod=p.$C({type:B});static#n=this.\u0275inj=p.G2t({imports:[O.yE,O.yE]})}return B})()},53719:(Be,z,E)=>{"use strict";E.d(z,{MV:()=>Le,RG:()=>Ie,TL:()=>Ae,U$:()=>lt,nJ:()=>H,qT:()=>Fe,rl:()=>we,xb:()=>Ke,yw:()=>me});var p=E(93953),S=E(28203),O=E(14085),G=E(36860),x=E(60177),B=E(18359),A=E(21413),N=E(57786),$=E(56977),K=E(98170),D=E(49969),X=E(72318),V=E(86600);const Z=["notch"],Q=["matFormFieldNotchedOutline",""],te=["*"],J=["textField"],q=["iconPrefixContainer"],ne=["textPrefixContainer"],se=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],oe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function ue(Qe,kt){1&Qe&&p.nrm(0,"span",19)}function ae(Qe,kt){if(1&Qe&&(p.j41(0,"label",18),p.SdG(1,1),p.DNE(2,ue,1,0,"span",19),p.k0s()),2&Qe){const pt=p.XpG(2);p.Y8G("floating",pt._shouldLabelFloat())("monitorResize",pt._hasOutline())("id",pt._labelId),p.BMQ("for",pt._control.disableAutomaticLabeling?null:pt._control.id),p.R7$(2),p.vxM(!pt.hideRequiredMarker&&pt._control.required?2:-1)}}function ve(Qe,kt){if(1&Qe&&p.DNE(0,ae,3,5,"label",18),2&Qe){const pt=p.XpG();p.vxM(pt._hasFloatingLabel()?0:-1)}}function _e(Qe,kt){1&Qe&&p.nrm(0,"div",5)}function De(Qe,kt){}function P(Qe,kt){if(1&Qe&&p.DNE(0,De,0,0,"ng-template",11),2&Qe){p.XpG(2);const pt=p.sdS(1);p.Y8G("ngTemplateOutlet",pt)}}function u(Qe,kt){if(1&Qe&&(p.j41(0,"div",7),p.DNE(1,P,1,1,null,11),p.k0s()),2&Qe){const pt=p.XpG();p.Y8G("matFormFieldNotchedOutlineOpen",pt._shouldLabelFloat()),p.R7$(),p.vxM(pt._forceDisplayInfixLabel()?-1:1)}}function h(Qe,kt){1&Qe&&(p.j41(0,"div",8,2),p.SdG(2,2),p.k0s())}function g(Qe,kt){1&Qe&&(p.j41(0,"div",9,3),p.SdG(2,3),p.k0s())}function w(Qe,kt){}function T(Qe,kt){if(1&Qe&&p.DNE(0,w,0,0,"ng-template",11),2&Qe){p.XpG();const pt=p.sdS(1);p.Y8G("ngTemplateOutlet",pt)}}function C(Qe,kt){1&Qe&&(p.j41(0,"div",12),p.SdG(1,4),p.k0s())}function j(Qe,kt){1&Qe&&(p.j41(0,"div",13),p.SdG(1,5),p.k0s())}function M(Qe,kt){1&Qe&&p.nrm(0,"div",14)}function d(Qe,kt){if(1&Qe&&(p.j41(0,"div",16),p.SdG(1,6),p.k0s()),2&Qe){const pt=p.XpG();p.Y8G("@transitionMessages",pt._subscriptAnimationState)}}function v(Qe,kt){if(1&Qe&&(p.j41(0,"mat-hint",20),p.EFF(1),p.k0s()),2&Qe){const pt=p.XpG(2);p.Y8G("id",pt._hintLabelId),p.R7$(),p.JRh(pt.hintLabel)}}function W(Qe,kt){if(1&Qe&&(p.j41(0,"div",17),p.DNE(1,v,2,2,"mat-hint",20),p.SdG(2,7),p.nrm(3,"div",21),p.SdG(4,8),p.k0s()),2&Qe){const pt=p.XpG();p.Y8G("@transitionMessages",pt._subscriptAnimationState),p.R7$(),p.vxM(pt.hintLabel?1:-1)}}let H=(()=>{class Qe{static#e=this.\u0275fac=function(Et){return new(Et||Qe)};static#t=this.\u0275dir=p.FsC({type:Qe,selectors:[["mat-label"]],standalone:!0})}return Qe})(),ee=0;const fe=new p.nKC("MatError");let Ae=(()=>{class Qe{constructor(pt,Et){this.id="mat-mdc-error-"+ee++,pt||Et.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(Et){return new(Et||Qe)(p.kS0("aria-live"),p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:Qe,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Et,Lt){2&Et&&p.Mr5("id",Lt.id)},inputs:{id:"id"},standalone:!0,features:[p.Jv_([{provide:fe,useExisting:Qe}])]})}return Qe})(),Pe=0,Le=(()=>{class Qe{constructor(){this.align="start",this.id="mat-mdc-hint-"+Pe++}static#e=this.\u0275fac=function(Et){return new(Et||Qe)};static#t=this.\u0275dir=p.FsC({type:Qe,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Et,Lt){2&Et&&(p.Mr5("id",Lt.id),p.BMQ("align",null),p.AVh("mat-mdc-form-field-hint-end","end"===Lt.align))},inputs:{align:"align",id:"id"},standalone:!0})}return Qe})();const be=new p.nKC("MatPrefix"),Re=new p.nKC("MatSuffix");let me=(()=>{class Qe{constructor(){this._isText=!1}set _isTextSelector(pt){this._isText=!0}static#e=this.\u0275fac=function(Et){return new(Et||Qe)};static#t=this.\u0275dir=p.FsC({type:Qe,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[p.Jv_([{provide:Re,useExisting:Qe}])]})}return Qe})();const xe=new p.nKC("FloatingLabelParent");let le=(()=>{class Qe{get floating(){return this._floating}set floating(pt){this._floating=pt,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(pt){this._monitorResize=pt,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(pt){this._elementRef=pt,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,p.WQX)(K.a),this._ngZone=(0,p.WQX)(p.SKi),this._parent=(0,p.WQX)(xe),this._resizeSubscription=new B.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function he(Qe){if(null!==Qe.offsetParent)return Qe.scrollWidth;const pt=Qe.cloneNode(!0);pt.style.setProperty("position","absolute"),pt.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(pt);const Et=pt.scrollWidth;return pt.remove(),Et}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(Et){return new(Et||Qe)(p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:Qe,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Et,Lt){2&Et&&p.AVh("mdc-floating-label--float-above",Lt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return Qe})();const re="mdc-line-ripple--active",de="mdc-line-ripple--deactivating";let pe=(()=>{class Qe{constructor(pt,Et){this._elementRef=pt,this._handleTransitionEnd=Lt=>{const qt=this._elementRef.nativeElement.classList,Kt=qt.contains(de);"opacity"===Lt.propertyName&&Kt&&qt.remove(re,de)},Et.runOutsideAngular(()=>{pt.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const pt=this._elementRef.nativeElement.classList;pt.remove(de),pt.add(re)}deactivate(){this._elementRef.nativeElement.classList.add(de)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(Et){return new(Et||Qe)(p.rXU(p.aKT),p.rXU(p.SKi))};static#t=this.\u0275dir=p.FsC({type:Qe,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return Qe})(),Se=(()=>{class Qe{constructor(pt,Et){this._elementRef=pt,this._ngZone=Et,this.open=!1}ngAfterViewInit(){const pt=this._elementRef.nativeElement.querySelector(".mdc-floating-label");pt?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(pt.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>pt.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(pt){this._notch.nativeElement.style.width=this.open&&pt?`calc(${pt}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(Et){return new(Et||Qe)(p.rXU(p.aKT),p.rXU(p.SKi))};static#t=this.\u0275cmp=p.VBU({type:Qe,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(Et,Lt){if(1&Et&&p.GBs(Z,5),2&Et){let qt;p.mGM(qt=p.lsd())&&(Lt._notch=qt.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Et,Lt){2&Et&&p.AVh("mdc-notched-outline--notched",Lt.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[p.aNF],attrs:Q,ngContentSelectors:te,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(Et,Lt){1&Et&&(p.NAR(),p.nrm(0,"div",1),p.j41(1,"div",2,0),p.SdG(3),p.k0s(),p.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return Qe})();const ke={transitionMessages:(0,D.hZ)("transitionMessages",[(0,D.wk)("enter",(0,D.iF)({opacity:1,transform:"translateY(0%)"})),(0,D.kY)("void => enter",[(0,D.iF)({opacity:0,transform:"translateY(-5px)"}),(0,D.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Fe=(()=>{class Qe{static#e=this.\u0275fac=function(Et){return new(Et||Qe)};static#t=this.\u0275dir=p.FsC({type:Qe})}return Qe})();const Ke=new p.nKC("MatFormField"),lt=new p.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let U=0;const _="fill",F="fixed";let we=(()=>{class Qe{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(pt){this._hideRequiredMarker=(0,O.he)(pt)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(pt){pt!==this._floatLabel&&(this._floatLabel=pt,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(pt){const Et=this._appearance;this._appearance=pt||this._defaults?.appearance||_,"outline"===this._appearance&&this._appearance!==Et&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||F}set subscriptSizing(pt){this._subscriptSizing=pt||this._defaults?.subscriptSizing||F}get hintLabel(){return this._hintLabel}set hintLabel(pt){this._hintLabel=pt,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(pt){this._explicitFormFieldControl=pt}constructor(pt,Et,Lt,qt,Kt,er,cn,Ut){this._elementRef=pt,this._changeDetectorRef=Et,this._dir=qt,this._platform=Kt,this._defaults=er,this._animationMode=cn,this._labelChild=(0,p.sbv)(H),this._hideRequiredMarker=!1,this.color="primary",this._appearance=_,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+U++,this._hintLabelId="mat-mdc-hint-"+U++,this._subscriptAnimationState="",this._destroyed=new A.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,p.WQX)(p.zZn),this.getLabelId=(0,p.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,p.EWP)(()=>!!this._labelChild()),er&&(er.appearance&&(this.appearance=er.appearance),this._hideRequiredMarker=!!er?.hideRequiredMarker,er.color&&(this.color=er.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const pt=this._control;pt.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${pt.controlType}`),pt.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),pt.ngControl&&pt.ngControl.valueChanges&&pt.ngControl.valueChanges.pipe((0,$.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(pt=>!pt._isText),this._hasTextPrefix=!!this._prefixChildren.find(pt=>pt._isText),this._hasIconSuffix=!!this._suffixChildren.find(pt=>!pt._isText),this._hasTextSuffix=!!this._suffixChildren.find(pt=>pt._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,N.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,p.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,$.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(pt){const Et=this._control?this._control.ngControl:null;return Et&&Et[pt]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let pt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&pt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Et=this._hintChildren?this._hintChildren.find(qt=>"start"===qt.align):null,Lt=this._hintChildren?this._hintChildren.find(qt=>"end"===qt.align):null;Et?pt.push(Et.id):this._hintLabel&&pt.push(this._hintLabelId),Lt&&pt.push(Lt.id)}else this._errorChildren&&pt.push(...this._errorChildren.map(Et=>Et.id));this._control.setDescribedByIds(pt)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const pt=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(pt.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const Et=this._iconPrefixContainer?.nativeElement,Lt=this._textPrefixContainer?.nativeElement,qt=Et?.getBoundingClientRect().width??0,Kt=Lt?.getBoundingClientRect().width??0;pt.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${qt+Kt}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const pt=this._elementRef.nativeElement;if(pt.getRootNode){const Et=pt.getRootNode();return Et&&Et!==pt}return document.documentElement.contains(pt)}static#e=this.\u0275fac=function(Et){return new(Et||Qe)(p.rXU(p.aKT),p.rXU(p.gRc),p.rXU(p.SKi),p.rXU(S.dS),p.rXU(G.OD),p.rXU(lt,8),p.rXU(p.bc$,8),p.rXU(x.qQ))};static#t=this.\u0275cmp=p.VBU({type:Qe,selectors:[["mat-form-field"]],contentQueries:function(Et,Lt,qt){if(1&Et&&(p.C6U(qt,Lt._labelChild,H,5),p.wni(qt,Fe,5),p.wni(qt,be,5),p.wni(qt,Re,5),p.wni(qt,fe,5),p.wni(qt,Le,5)),2&Et){let Kt;p.NyB(),p.mGM(Kt=p.lsd())&&(Lt._formFieldControl=Kt.first),p.mGM(Kt=p.lsd())&&(Lt._prefixChildren=Kt),p.mGM(Kt=p.lsd())&&(Lt._suffixChildren=Kt),p.mGM(Kt=p.lsd())&&(Lt._errorChildren=Kt),p.mGM(Kt=p.lsd())&&(Lt._hintChildren=Kt)}},viewQuery:function(Et,Lt){if(1&Et&&(p.GBs(J,5),p.GBs(q,5),p.GBs(ne,5),p.GBs(le,5),p.GBs(Se,5),p.GBs(pe,5)),2&Et){let qt;p.mGM(qt=p.lsd())&&(Lt._textField=qt.first),p.mGM(qt=p.lsd())&&(Lt._iconPrefixContainer=qt.first),p.mGM(qt=p.lsd())&&(Lt._textPrefixContainer=qt.first),p.mGM(qt=p.lsd())&&(Lt._floatingLabel=qt.first),p.mGM(qt=p.lsd())&&(Lt._notchedOutline=qt.first),p.mGM(qt=p.lsd())&&(Lt._lineRipple=qt.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Et,Lt){2&Et&&p.AVh("mat-mdc-form-field-label-always-float",Lt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",Lt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",Lt._hasIconSuffix)("mat-form-field-invalid",Lt._control.errorState)("mat-form-field-disabled",Lt._control.disabled)("mat-form-field-autofilled",Lt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===Lt._animationMode)("mat-form-field-appearance-fill","fill"==Lt.appearance)("mat-form-field-appearance-outline","outline"==Lt.appearance)("mat-form-field-hide-placeholder",Lt._hasFloatingLabel()&&!Lt._shouldLabelFloat())("mat-focused",Lt._control.focused)("mat-primary","accent"!==Lt.color&&"warn"!==Lt.color)("mat-accent","accent"===Lt.color)("mat-warn","warn"===Lt.color)("ng-untouched",Lt._shouldForward("untouched"))("ng-touched",Lt._shouldForward("touched"))("ng-pristine",Lt._shouldForward("pristine"))("ng-dirty",Lt._shouldForward("dirty"))("ng-valid",Lt._shouldForward("valid"))("ng-invalid",Lt._shouldForward("invalid"))("ng-pending",Lt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[p.Jv_([{provide:Ke,useExisting:Qe},{provide:xe,useExisting:Qe}]),p.aNF],ngContentSelectors:oe,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(Et,Lt){if(1&Et){const qt=p.RV6();p.NAR(se),p.DNE(0,ve,1,1,"ng-template",null,0,p.C5r),p.j41(2,"div",4,1),p.bIt("click",function(er){return p.eBV(qt),p.Njj(Lt._control.onContainerClick(er))}),p.DNE(4,_e,1,0,"div",5),p.j41(5,"div",6),p.DNE(6,u,2,2,"div",7)(7,h,3,0,"div",8)(8,g,3,0,"div",9),p.j41(9,"div",10),p.DNE(10,T,1,1,null,11),p.SdG(11),p.k0s(),p.DNE(12,C,2,0,"div",12)(13,j,2,0,"div",13),p.k0s(),p.DNE(14,M,1,0,"div",14),p.k0s(),p.j41(15,"div",15),p.DNE(16,d,2,1,"div",16)(17,W,5,2,"div",17),p.k0s()}if(2&Et){let qt;p.R7$(2),p.AVh("mdc-text-field--filled",!Lt._hasOutline())("mdc-text-field--outlined",Lt._hasOutline())("mdc-text-field--no-label",!Lt._hasFloatingLabel())("mdc-text-field--disabled",Lt._control.disabled)("mdc-text-field--invalid",Lt._control.errorState),p.R7$(2),p.vxM(Lt._hasOutline()||Lt._control.disabled?-1:4),p.R7$(2),p.vxM(Lt._hasOutline()?6:-1),p.R7$(),p.vxM(Lt._hasIconPrefix?7:-1),p.R7$(),p.vxM(Lt._hasTextPrefix?8:-1),p.R7$(2),p.vxM(!Lt._hasOutline()||Lt._forceDisplayInfixLabel()?10:-1),p.R7$(2),p.vxM(Lt._hasTextSuffix?12:-1),p.R7$(),p.vxM(Lt._hasIconSuffix?13:-1),p.R7$(),p.vxM(Lt._hasOutline()?-1:14),p.R7$(),p.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===Lt.subscriptSizing),p.R7$(),p.vxM("error"===(qt=Lt._getDisplayedMessages())?16:"hint"===qt?17:-1)}},dependencies:[le,Se,x.T3,pe,Le],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[ke.transitionMessages]},changeDetection:0})}return Qe})(),Ie=(()=>{class Qe{static#e=this.\u0275fac=function(Et){return new(Et||Qe)};static#t=this.\u0275mod=p.$C({type:Qe});static#n=this.\u0275inj=p.G2t({imports:[V.yE,x.MD,X.w5,V.yE]})}return Qe})()},99213:(Be,z,E)=>{"use strict";E.d(z,{An:()=>v,m_:()=>W});var p=E(93953),S=E(86600),O=E(60177),G=E(7673),x=E(18810),B=E(27468),A=E(18359),N=E(88141),$=E(96354),K=E(99437),D=E(70980),X=E(97647),V=E(96697),Z=E(21626),Q=E(345);const te=["*"];let J;function ne(H){return function q(){if(void 0===J&&(J=null,typeof window<"u")){const H=window;void 0!==H.trustedTypes&&(J=H.trustedTypes.createPolicy("angular#components",{createHTML:ee=>ee}))}return J}()?.createHTML(H)||H}function se(H){return Error(`Unable to find icon with the name "${H}"`)}function ue(H){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${H}".`)}function ae(H){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${H}".`)}class ve{constructor(ee,fe,Ae){this.url=ee,this.svgText=fe,this.options=Ae}}let _e=(()=>{class H{constructor(fe,Ae,Pe,Le){this._httpClient=fe,this._sanitizer=Ae,this._errorHandler=Le,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Pe}addSvgIcon(fe,Ae,Pe){return this.addSvgIconInNamespace("",fe,Ae,Pe)}addSvgIconLiteral(fe,Ae,Pe){return this.addSvgIconLiteralInNamespace("",fe,Ae,Pe)}addSvgIconInNamespace(fe,Ae,Pe,Le){return this._addSvgIconConfig(fe,Ae,new ve(Pe,null,Le))}addSvgIconResolver(fe){return this._resolvers.push(fe),this}addSvgIconLiteralInNamespace(fe,Ae,Pe,Le){const be=this._sanitizer.sanitize(p.WPN.HTML,Pe);if(!be)throw ae(Pe);const ge=ne(be);return this._addSvgIconConfig(fe,Ae,new ve("",ge,Le))}addSvgIconSet(fe,Ae){return this.addSvgIconSetInNamespace("",fe,Ae)}addSvgIconSetLiteral(fe,Ae){return this.addSvgIconSetLiteralInNamespace("",fe,Ae)}addSvgIconSetInNamespace(fe,Ae,Pe){return this._addSvgIconSetConfig(fe,new ve(Ae,null,Pe))}addSvgIconSetLiteralInNamespace(fe,Ae,Pe){const Le=this._sanitizer.sanitize(p.WPN.HTML,Ae);if(!Le)throw ae(Ae);const be=ne(Le);return this._addSvgIconSetConfig(fe,new ve("",be,Pe))}registerFontClassAlias(fe,Ae=fe){return this._fontCssClassesByAlias.set(fe,Ae),this}classNameForFontAlias(fe){return this._fontCssClassesByAlias.get(fe)||fe}setDefaultFontSetClass(...fe){return this._defaultFontSetClass=fe,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(fe){const Ae=this._sanitizer.sanitize(p.WPN.RESOURCE_URL,fe);if(!Ae)throw ue(fe);const Pe=this._cachedIconsByUrl.get(Ae);return Pe?(0,G.of)(u(Pe)):this._loadSvgIconFromConfig(new ve(fe,null)).pipe((0,N.M)(Le=>this._cachedIconsByUrl.set(Ae,Le)),(0,$.T)(Le=>u(Le)))}getNamedSvgIcon(fe,Ae=""){const Pe=h(Ae,fe);let Le=this._svgIconConfigs.get(Pe);if(Le)return this._getSvgFromConfig(Le);if(Le=this._getIconConfigFromResolvers(Ae,fe),Le)return this._svgIconConfigs.set(Pe,Le),this._getSvgFromConfig(Le);const be=this._iconSetConfigs.get(Ae);return be?this._getSvgFromIconSetConfigs(fe,be):(0,x.$)(se(Pe))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(fe){return fe.svgText?(0,G.of)(u(this._svgElementFromConfig(fe))):this._loadSvgIconFromConfig(fe).pipe((0,$.T)(Ae=>u(Ae)))}_getSvgFromIconSetConfigs(fe,Ae){const Pe=this._extractIconWithNameFromAnySet(fe,Ae);if(Pe)return(0,G.of)(Pe);const Le=Ae.filter(be=>!be.svgText).map(be=>this._loadSvgIconSetFromConfig(be).pipe((0,K.W)(ge=>{const me=`Loading icon set URL: ${this._sanitizer.sanitize(p.WPN.RESOURCE_URL,be.url)} failed: ${ge.message}`;return this._errorHandler.handleError(new Error(me)),(0,G.of)(null)})));return(0,B.p)(Le).pipe((0,$.T)(()=>{const be=this._extractIconWithNameFromAnySet(fe,Ae);if(!be)throw se(fe);return be}))}_extractIconWithNameFromAnySet(fe,Ae){for(let Pe=Ae.length-1;Pe>=0;Pe--){const Le=Ae[Pe];if(Le.svgText&&Le.svgText.toString().indexOf(fe)>-1){const be=this._svgElementFromConfig(Le),ge=this._extractSvgIconFromSet(be,fe,Le.options);if(ge)return ge}}return null}_loadSvgIconFromConfig(fe){return this._fetchIcon(fe).pipe((0,N.M)(Ae=>fe.svgText=Ae),(0,$.T)(()=>this._svgElementFromConfig(fe)))}_loadSvgIconSetFromConfig(fe){return fe.svgText?(0,G.of)(null):this._fetchIcon(fe).pipe((0,N.M)(Ae=>fe.svgText=Ae))}_extractSvgIconFromSet(fe,Ae,Pe){const Le=fe.querySelector(`[id="${Ae}"]`);if(!Le)return null;const be=Le.cloneNode(!0);if(be.removeAttribute("id"),"svg"===be.nodeName.toLowerCase())return this._setSvgAttributes(be,Pe);if("symbol"===be.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(be),Pe);const ge=this._svgElementFromString(ne("<svg></svg>"));return ge.appendChild(be),this._setSvgAttributes(ge,Pe)}_svgElementFromString(fe){const Ae=this._document.createElement("DIV");Ae.innerHTML=fe;const Pe=Ae.querySelector("svg");if(!Pe)throw Error("<svg> tag not found");return Pe}_toSvgElement(fe){const Ae=this._svgElementFromString(ne("<svg></svg>")),Pe=fe.attributes;for(let Le=0;Le<Pe.length;Le++){const{name:be,value:ge}=Pe[Le];"id"!==be&&Ae.setAttribute(be,ge)}for(let Le=0;Le<fe.childNodes.length;Le++)fe.childNodes[Le].nodeType===this._document.ELEMENT_NODE&&Ae.appendChild(fe.childNodes[Le].cloneNode(!0));return Ae}_setSvgAttributes(fe,Ae){return fe.setAttribute("fit",""),fe.setAttribute("height","100%"),fe.setAttribute("width","100%"),fe.setAttribute("preserveAspectRatio","xMidYMid meet"),fe.setAttribute("focusable","false"),Ae&&Ae.viewBox&&fe.setAttribute("viewBox",Ae.viewBox),fe}_fetchIcon(fe){const{url:Ae,options:Pe}=fe,Le=Pe?.withCredentials??!1;if(!this._httpClient)throw function oe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Ae)throw Error(`Cannot fetch icon from URL "${Ae}".`);const be=this._sanitizer.sanitize(p.WPN.RESOURCE_URL,Ae);if(!be)throw ue(Ae);const ge=this._inProgressUrlFetches.get(be);if(ge)return ge;const Re=this._httpClient.get(be,{responseType:"text",withCredentials:Le}).pipe((0,$.T)(me=>ne(me)),(0,D.j)(()=>this._inProgressUrlFetches.delete(be)),(0,X.u)());return this._inProgressUrlFetches.set(be,Re),Re}_addSvgIconConfig(fe,Ae,Pe){return this._svgIconConfigs.set(h(fe,Ae),Pe),this}_addSvgIconSetConfig(fe,Ae){const Pe=this._iconSetConfigs.get(fe);return Pe?Pe.push(Ae):this._iconSetConfigs.set(fe,[Ae]),this}_svgElementFromConfig(fe){if(!fe.svgElement){const Ae=this._svgElementFromString(fe.svgText);this._setSvgAttributes(Ae,fe.options),fe.svgElement=Ae}return fe.svgElement}_getIconConfigFromResolvers(fe,Ae){for(let Pe=0;Pe<this._resolvers.length;Pe++){const Le=this._resolvers[Pe](Ae,fe);if(Le)return g(Le)?new ve(Le.url,null,Le.options):new ve(Le,null)}}static#e=this.\u0275fac=function(Ae){return new(Ae||H)(p.KVO(Z.Qq,8),p.KVO(Q.up),p.KVO(O.qQ,8),p.KVO(p.zcH))};static#t=this.\u0275prov=p.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})();function u(H){return H.cloneNode(!0)}function h(H,ee){return H+":"+ee}function g(H){return!(!H.url||!H.options)}const w=new p.nKC("MAT_ICON_DEFAULT_OPTIONS"),T=new p.nKC("mat-icon-location",{providedIn:"root",factory:function C(){const H=(0,p.WQX)(O.qQ),ee=H?H.location:null;return{getPathname:()=>ee?ee.pathname+ee.search:""}}}),j=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],M=j.map(H=>`[${H}]`).join(", "),d=/^url\(['"]?#(.*?)['"]?\)$/;let v=(()=>{class H{get color(){return this._color||this._defaultColor}set color(fe){this._color=fe}get svgIcon(){return this._svgIcon}set svgIcon(fe){fe!==this._svgIcon&&(fe?this._updateSvgIcon(fe):this._svgIcon&&this._clearSvgElement(),this._svgIcon=fe)}get fontSet(){return this._fontSet}set fontSet(fe){const Ae=this._cleanupFontValue(fe);Ae!==this._fontSet&&(this._fontSet=Ae,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(fe){const Ae=this._cleanupFontValue(fe);Ae!==this._fontIcon&&(this._fontIcon=Ae,this._updateFontIconClasses())}constructor(fe,Ae,Pe,Le,be,ge){this._elementRef=fe,this._iconRegistry=Ae,this._location=Le,this._errorHandler=be,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=A.yU.EMPTY,ge&&(ge.color&&(this.color=this._defaultColor=ge.color),ge.fontSet&&(this.fontSet=ge.fontSet)),Pe||fe.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(fe){if(!fe)return["",""];const Ae=fe.split(":");switch(Ae.length){case 1:return["",Ae[0]];case 2:return Ae;default:throw Error(`Invalid icon name: "${fe}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const fe=this._elementsWithExternalReferences;if(fe&&fe.size){const Ae=this._location.getPathname();Ae!==this._previousPath&&(this._previousPath=Ae,this._prependPathToReferences(Ae))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(fe){this._clearSvgElement();const Ae=this._location.getPathname();this._previousPath=Ae,this._cacheChildrenWithExternalReferences(fe),this._prependPathToReferences(Ae),this._elementRef.nativeElement.appendChild(fe)}_clearSvgElement(){const fe=this._elementRef.nativeElement;let Ae=fe.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Ae--;){const Pe=fe.childNodes[Ae];(1!==Pe.nodeType||"svg"===Pe.nodeName.toLowerCase())&&Pe.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const fe=this._elementRef.nativeElement,Ae=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Pe=>Pe.length>0);this._previousFontSetClass.forEach(Pe=>fe.classList.remove(Pe)),Ae.forEach(Pe=>fe.classList.add(Pe)),this._previousFontSetClass=Ae,this.fontIcon!==this._previousFontIconClass&&!Ae.includes("mat-ligature-font")&&(this._previousFontIconClass&&fe.classList.remove(this._previousFontIconClass),this.fontIcon&&fe.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(fe){return"string"==typeof fe?fe.trim().split(" ")[0]:fe}_prependPathToReferences(fe){const Ae=this._elementsWithExternalReferences;Ae&&Ae.forEach((Pe,Le)=>{Pe.forEach(be=>{Le.setAttribute(be.name,`url('${fe}#${be.value}')`)})})}_cacheChildrenWithExternalReferences(fe){const Ae=fe.querySelectorAll(M),Pe=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Le=0;Le<Ae.length;Le++)j.forEach(be=>{const ge=Ae[Le],Re=ge.getAttribute(be),me=Re?Re.match(d):null;if(me){let xe=Pe.get(ge);xe||(xe=[],Pe.set(ge,xe)),xe.push({name:be,value:me[1]})}})}_updateSvgIcon(fe){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),fe){const[Ae,Pe]=this._splitIconName(fe);Ae&&(this._svgNamespace=Ae),Pe&&(this._svgName=Pe),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Pe,Ae).pipe((0,V.s)(1)).subscribe(Le=>this._setSvgElement(Le),Le=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Ae}:${Pe}! ${Le.message}`))})}}static#e=this.\u0275fac=function(Ae){return new(Ae||H)(p.rXU(p.aKT),p.rXU(_e),p.kS0("aria-hidden"),p.rXU(T),p.rXU(p.zcH),p.rXU(w,8))};static#t=this.\u0275cmp=p.VBU({type:H,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(Ae,Pe){2&Ae&&(p.BMQ("data-mat-icon-type",Pe._usingFontIcon()?"font":"svg")("data-mat-icon-name",Pe._svgName||Pe.fontIcon)("data-mat-icon-namespace",Pe._svgNamespace||Pe.fontSet)("fontIcon",Pe._usingFontIcon()?Pe.fontIcon:null),p.HbH(Pe.color?"mat-"+Pe.color:""),p.AVh("mat-icon-inline",Pe.inline)("mat-icon-no-color","primary"!==Pe.color&&"accent"!==Pe.color&&"warn"!==Pe.color))},inputs:{color:"color",inline:[2,"inline","inline",p.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[p.GFd,p.aNF],ngContentSelectors:te,decls:1,vars:0,template:function(Ae,Pe){1&Ae&&(p.NAR(),p.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return H})(),W=(()=>{class H{static#e=this.\u0275fac=function(Ae){return new(Ae||H)};static#t=this.\u0275mod=p.$C({type:H});static#n=this.\u0275inj=p.G2t({imports:[S.yE,S.yE]})}return H})()},99631:(Be,z,E)=>{"use strict";E.d(z,{fg:()=>q,fS:()=>ne});var p=E(14085),S=E(36860),O=E(93953),G=E(983),x=E(21413);const B=(0,S.BQ)({passive:!0});let A=(()=>{class se{constructor(ue,ae){this._platform=ue,this._ngZone=ae,this._monitoredElements=new Map}monitor(ue){if(!this._platform.isBrowser)return G.w;const ae=(0,p.i8)(ue),ve=this._monitoredElements.get(ae);if(ve)return ve.subject;const _e=new x.B,De="cdk-text-field-autofilled",P=u=>{"cdk-text-field-autofill-start"!==u.animationName||ae.classList.contains(De)?"cdk-text-field-autofill-end"===u.animationName&&ae.classList.contains(De)&&(ae.classList.remove(De),this._ngZone.run(()=>_e.next({target:u.target,isAutofilled:!1}))):(ae.classList.add(De),this._ngZone.run(()=>_e.next({target:u.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{ae.addEventListener("animationstart",P,B),ae.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(ae,{subject:_e,unlisten:()=>{ae.removeEventListener("animationstart",P,B)}}),_e}stopMonitoring(ue){const ae=(0,p.i8)(ue),ve=this._monitoredElements.get(ae);ve&&(ve.unlisten(),ve.subject.complete(),ae.classList.remove("cdk-text-field-autofill-monitored"),ae.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(ae))}ngOnDestroy(){this._monitoredElements.forEach((ue,ae)=>this.stopMonitoring(ae))}static#e=this.\u0275fac=function(ae){return new(ae||se)(O.KVO(S.OD),O.KVO(O.SKi))};static#t=this.\u0275prov=O.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})(),K=(()=>{class se{static#e=this.\u0275fac=function(ae){return new(ae||se)};static#t=this.\u0275mod=O.$C({type:se});static#n=this.\u0275inj=O.G2t({})}return se})();var D=E(89417),X=E(86600),V=E(53719);const Q=new O.nKC("MAT_INPUT_VALUE_ACCESSOR"),te=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let J=0,q=(()=>{class se{get disabled(){return this._disabled}set disabled(ue){this._disabled=(0,p.he)(ue),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(ue){this._id=ue||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(D.k0.required)??!1}set required(ue){this._required=(0,p.he)(ue)}get type(){return this._type}set type(ue){this._type=ue||"text",this._validateType(),!this._isTextarea&&(0,S.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(ue){this._errorStateTracker.matcher=ue}get value(){return this._inputValueAccessor.value}set value(ue){ue!==this.value&&(this._inputValueAccessor.value=ue,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(ue){this._readonly=(0,p.he)(ue)}get errorState(){return this._errorStateTracker.errorState}set errorState(ue){this._errorStateTracker.errorState=ue}constructor(ue,ae,ve,_e,De,P,u,h,g,w){this._elementRef=ue,this._platform=ae,this.ngControl=ve,this._autofillMonitor=h,this._ngZone=g,this._formField=w,this._uid="mat-input-"+J++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new x.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(j=>(0,S.MU)().has(j)),this._iOSKeyupListener=j=>{const M=j.target;!M.value&&0===M.selectionStart&&0===M.selectionEnd&&(M.setSelectionRange(1,1),M.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const T=this._elementRef.nativeElement,C=T.nodeName.toLowerCase();this._inputValueAccessor=u||T,this._previousNativeValue=this.value,this.id=this.id,ae.IOS&&g.runOutsideAngular(()=>{ue.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new X.X0(P,ve,De,_e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===C,this._isTextarea="textarea"===C,this._isInFormField=!!w,this._isNativeSelect&&(this.controlType=T.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(ue=>{this.autofilled=ue.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(ue){this._elementRef.nativeElement.focus(ue)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(ue){ue!==this.focused&&(this.focused=ue,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const ue=this._elementRef.nativeElement.value;this._previousNativeValue!==ue&&(this._previousNativeValue=ue,this.stateChanges.next())}_dirtyCheckPlaceholder(){const ue=this._getPlaceholder();if(ue!==this._previousPlaceholder){const ae=this._elementRef.nativeElement;this._previousPlaceholder=ue,ue?ae.setAttribute("placeholder",ue):ae.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){te.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let ue=this._elementRef.nativeElement.validity;return ue&&ue.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const ue=this._elementRef.nativeElement,ae=ue.options[0];return this.focused||ue.multiple||!this.empty||!!(ue.selectedIndex>-1&&ae&&ae.label)}return this.focused||!this.empty}setDescribedByIds(ue){ue.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ue.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const ue=this._elementRef.nativeElement;return this._isNativeSelect&&(ue.multiple||ue.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static#e=this.\u0275fac=function(ae){return new(ae||se)(O.rXU(O.aKT),O.rXU(S.OD),O.rXU(D.vO,10),O.rXU(D.cV,8),O.rXU(D.j4,8),O.rXU(X.es),O.rXU(Q,10),O.rXU(A),O.rXU(O.SKi),O.rXU(V.xb,8))};static#t=this.\u0275dir=O.FsC({type:se,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(ae,ve){1&ae&&O.bIt("focus",function(){return ve._focusChanged(!0)})("blur",function(){return ve._focusChanged(!1)})("input",function(){return ve._onInput()}),2&ae&&(O.Mr5("id",ve.id)("disabled",ve.disabled)("required",ve.required),O.BMQ("name",ve.name||null)("readonly",ve.readonly&&!ve._isNativeSelect||null)("aria-invalid",ve.empty&&ve.required?null:ve.errorState)("aria-required",ve.required)("id",ve.id),O.AVh("mat-input-server",ve._isServer)("mat-mdc-form-field-textarea-control",ve._isInFormField&&ve._isTextarea)("mat-mdc-form-field-input-control",ve._isInFormField)("mdc-text-field__input",ve._isInFormField)("mat-mdc-native-select-inline",ve._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[O.Jv_([{provide:V.qT,useExisting:se}]),O.OA$]})}return se})(),ne=(()=>{class se{static#e=this.\u0275fac=function(ae){return new(ae||se)};static#t=this.\u0275mod=O.$C({type:se});static#n=this.\u0275inj=O.G2t({imports:[X.yE,V.RG,V.RG,K,X.yE]})}return se})()},3902:(Be,z,E)=>{"use strict";E.d(z,{C_:()=>fe,EI:()=>ke,Fg:()=>lt,YE:()=>de,ZV:()=>be,_L:()=>We,jt:()=>re,yE:()=>ee,zi:()=>Le});var p=E(93953),S=E(14085),O=E(36860),G=E(86600),x=E(18359),B=E(57786),N=(E(21413),E(72318)),$=E(60177),K=E(71997);E(18617),E(45024),E(67336),E(89417),E(56977);const te=["*"],J='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color);font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color);font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color);opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color);opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}',q=["unscopedContent"],ne=["text"],se=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],oe=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],H=new p.nKC("ListOption");let ee=(()=>{class U{constructor(m){this._elementRef=m}static#e=this.\u0275fac=function(F){return new(F||U)(p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:U,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}return U})(),fe=(()=>{class U{constructor(m){this._elementRef=m}static#e=this.\u0275fac=function(F){return new(F||U)(p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:U,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}return U})(),Ae=(()=>{class U{static#e=this.\u0275fac=function(F){return new(F||U)};static#t=this.\u0275dir=p.FsC({type:U,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}return U})(),Pe=(()=>{class U{constructor(m){this._listOption=m}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(F){return new(F||U)(p.rXU(H,8))};static#t=this.\u0275dir=p.FsC({type:U,hostVars:4,hostBindings:function(F,ie){2&F&&p.AVh("mdc-list-item__start",ie._isAlignedAtStart())("mdc-list-item__end",!ie._isAlignedAtStart())},standalone:!0})}return U})(),Le=(()=>{class U extends Pe{static#e=this.\u0275fac=(()=>{let m;return function(ie){return(m||(m=p.xGo(U)))(ie||U)}})();static#t=this.\u0275dir=p.FsC({type:U,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[p.Vt3]})}return U})(),be=(()=>{class U extends Pe{static#e=this.\u0275fac=(()=>{let m;return function(ie){return(m||(m=p.xGo(U)))(ie||U)}})();static#t=this.\u0275dir=p.FsC({type:U,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[p.Vt3]})}return U})();const ge=new p.nKC("MAT_LIST_CONFIG");let Re=(()=>{class U{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,p.WQX)(ge,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(m){this._disableRipple=(0,S.he)(m)}get disabled(){return this._disabled}set disabled(m){this._disabled=(0,S.he)(m)}static#e=this.\u0275fac=function(F){return new(F||U)};static#t=this.\u0275dir=p.FsC({type:U,hostVars:1,hostBindings:function(F,ie){2&F&&p.BMQ("aria-disabled",ie.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return U})(),me=(()=>{class U{set lines(m){this._explicitLines=(0,S.OE)(m,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(m){this._disableRipple=(0,S.he)(m)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(m){this._disabled=(0,S.he)(m)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(m,F,ie,we,Ie,Qe){this._elementRef=m,this._ngZone=F,this._listBase=ie,this._platform=we,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new x.yU,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=Ie||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===Qe,ie&&!ie._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new G.ug(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,B.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(m){if(!this._lines||!this._titles||!this._unscopedContent)return;m&&this._checkDomForUnscopedTextContent();const F=this._explicitLines??this._inferLinesFromContent(),ie=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",F<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",F<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===F),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===F),this._hasUnscopedTextContent){const we=0===this._titles.length&&1===F;ie.classList.toggle("mdc-list-item__primary-text",we),ie.classList.toggle("mdc-list-item__secondary-text",!we)}else ie.classList.remove("mdc-list-item__primary-text"),ie.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let m=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(m+=1),m}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(m=>m.nodeType!==m.COMMENT_NODE).some(m=>!(!m.textContent||!m.textContent.trim()))}static#e=this.\u0275fac=function(F){return new(F||U)(p.rXU(p.aKT),p.rXU(p.SKi),p.rXU(Re,8),p.rXU(O.OD),p.rXU(G.$E,8),p.rXU(p.bc$,8))};static#t=this.\u0275dir=p.FsC({type:U,contentQueries:function(F,ie,we){if(1&F&&(p.wni(we,Le,4),p.wni(we,be,4)),2&F){let Ie;p.mGM(Ie=p.lsd())&&(ie._avatars=Ie),p.mGM(Ie=p.lsd())&&(ie._icons=Ie)}},hostVars:4,hostBindings:function(F,ie){2&F&&(p.BMQ("aria-disabled",ie.disabled)("disabled",ie._isButtonElement&&ie.disabled||null),p.AVh("mdc-list-item--disabled",ie.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return U})(),re=(()=>{class U extends Re{static#e=this.\u0275fac=(()=>{let m;return function(ie){return(m||(m=p.xGo(U)))(ie||U)}})();static#t=this.\u0275cmp=p.VBU({type:U,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[p.Jv_([{provide:Re,useExisting:U}]),p.Vt3,p.aNF],ngContentSelectors:te,decls:1,vars:0,template:function(F,ie){1&F&&(p.NAR(),p.SdG(0))},styles:[J],encapsulation:2,changeDetection:0})}return U})(),de=(()=>{class U extends me{get activated(){return this._activated}set activated(m){this._activated=(0,S.he)(m)}constructor(m,F,ie,we,Ie,Qe){super(m,F,ie,we,Ie,Qe),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return 0!==this._meta.length&&(0!==this._avatars.length||0!==this._icons.length)}static#e=this.\u0275fac=function(F){return new(F||U)(p.rXU(p.aKT),p.rXU(p.SKi),p.rXU(Re,8),p.rXU(O.OD),p.rXU(G.$E,8),p.rXU(p.bc$,8))};static#t=this.\u0275cmp=p.VBU({type:U,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(F,ie,we){if(1&F&&(p.wni(we,fe,5),p.wni(we,ee,5),p.wni(we,Ae,5)),2&F){let Ie;p.mGM(Ie=p.lsd())&&(ie._lines=Ie),p.mGM(Ie=p.lsd())&&(ie._titles=Ie),p.mGM(Ie=p.lsd())&&(ie._meta=Ie)}},viewQuery:function(F,ie){if(1&F&&(p.GBs(q,5),p.GBs(ne,5)),2&F){let we;p.mGM(we=p.lsd())&&(ie._unscopedContent=we.first),p.mGM(we=p.lsd())&&(ie._itemText=we.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(F,ie){2&F&&(p.BMQ("aria-current",ie._getAriaCurrent()),p.AVh("mdc-list-item--activated",ie.activated)("mdc-list-item--with-leading-avatar",0!==ie._avatars.length)("mdc-list-item--with-leading-icon",0!==ie._icons.length)("mdc-list-item--with-trailing-meta",0!==ie._meta.length)("mat-mdc-list-item-both-leading-and-trailing",ie._hasBothLeadingAndTrailing())("_mat-animation-noopable",ie._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[p.Vt3,p.aNF],ngContentSelectors:oe,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(F,ie){if(1&F){const we=p.RV6();p.NAR(se),p.SdG(0),p.j41(1,"span",1),p.SdG(2,1),p.SdG(3,2),p.j41(4,"span",2,0),p.bIt("cdkObserveContent",function(){return p.eBV(we),p.Njj(ie._updateItemLines(!0))}),p.SdG(6,3),p.k0s()(),p.SdG(7,4),p.SdG(8,5),p.nrm(9,"div",3)}},dependencies:[N.Wv],encapsulation:2,changeDetection:0})}return U})(),ke=(()=>{class U{static#e=this.\u0275fac=function(F){return new(F||U)};static#t=this.\u0275dir=p.FsC({type:U,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"],standalone:!0})}return U})(),We=(()=>{class U extends Re{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=(()=>{let m;return function(ie){return(m||(m=p.xGo(U)))(ie||U)}})();static#t=this.\u0275cmp=p.VBU({type:U,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[p.Jv_([{provide:Re,useExisting:U}]),p.Vt3,p.aNF],ngContentSelectors:te,decls:1,vars:0,template:function(F,ie){1&F&&(p.NAR(),p.SdG(0))},styles:[J],encapsulation:2,changeDetection:0})}return U})(),lt=(()=>{class U{static#e=this.\u0275fac=function(F){return new(F||U)};static#t=this.\u0275mod=p.$C({type:U});static#n=this.\u0275inj=p.G2t({imports:[N.w5,$.MD,G.yE,G.pZ,G.O5,K.w]})}return U})()},59115:(Be,z,E)=>{"use strict";E.d(z,{Cn:()=>xe,Cp:()=>me,fb:()=>g,kk:()=>Ae});var p=E(93953),S=E(18617),O=E(67336),G=E(21413),x=E(57786),B=E(18359),A=E(7673),N=E(25007),$=E(99172),K=E(25558),D=E(56977),X=E(5964),V=E(96697),Z=E(91986),Q=E(60177),te=E(86600),J=E(76939),q=E(49969),ne=E(28203),se=E(66969),oe=E(36860),ue=E(67333);const ae=["mat-menu-item",""],ve=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],_e=["mat-icon, [matMenuItemIcon]","*"];function De(le,he){1&le&&(p.qSk(),p.j41(0,"svg",2),p.nrm(1,"polygon",3),p.k0s())}const P=["*"];function u(le,he){if(1&le){const re=p.RV6();p.j41(0,"div",0),p.bIt("keydown",function(pe){p.eBV(re);const Se=p.XpG();return p.Njj(Se._handleKeydown(pe))})("click",function(){p.eBV(re);const pe=p.XpG();return p.Njj(pe.closed.emit("click"))})("@transformMenu.start",function(pe){p.eBV(re);const Se=p.XpG();return p.Njj(Se._onAnimationStart(pe))})("@transformMenu.done",function(pe){p.eBV(re);const Se=p.XpG();return p.Njj(Se._onAnimationDone(pe))}),p.j41(1,"div",1),p.SdG(2),p.k0s()()}if(2&le){const re=p.XpG();p.HbH(re._classList),p.Y8G("id",re.panelId)("@transformMenu",re._panelAnimationState),p.BMQ("aria-label",re.ariaLabel||null)("aria-labelledby",re.ariaLabelledby||null)("aria-describedby",re.ariaDescribedby||null)}}const h=new p.nKC("MAT_MENU_PANEL");let g=(()=>{class le{constructor(re,de,pe,Se,ke){this._elementRef=re,this._document=de,this._focusMonitor=pe,this._parentMenu=Se,this._changeDetectorRef=ke,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new G.B,this._focused=new G.B,this._highlighted=!1,this._triggersSubmenu=!1,Se?.addItem?.(this)}focus(re,de){this._focusMonitor&&re?this._focusMonitor.focusVia(this._getHostElement(),re,de):this._getHostElement().focus(de),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(re){this.disabled&&(re.preventDefault(),re.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const re=this._elementRef.nativeElement.cloneNode(!0),de=re.querySelectorAll("mat-icon, .material-icons");for(let pe=0;pe<de.length;pe++)de[pe].remove();return re.textContent?.trim()||""}_setHighlighted(re){this._highlighted=re,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(re){this._triggersSubmenu=re,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(de){return new(de||le)(p.rXU(p.aKT),p.rXU(Q.qQ),p.rXU(S.FN),p.rXU(h,8),p.rXU(p.gRc))};static#t=this.\u0275cmp=p.VBU({type:le,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(de,pe){1&de&&p.bIt("click",function(ke){return pe._checkDisabled(ke)})("mouseenter",function(){return pe._handleMouseEnter()}),2&de&&(p.BMQ("role",pe.role)("tabindex",pe._getTabIndex())("aria-disabled",pe.disabled)("disabled",pe.disabled||null),p.AVh("mat-mdc-menu-item-highlighted",pe._highlighted)("mat-mdc-menu-item-submenu-trigger",pe._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",p.L39],disableRipple:[2,"disableRipple","disableRipple",p.L39]},exportAs:["matMenuItem"],standalone:!0,features:[p.GFd,p.aNF],attrs:ae,ngContentSelectors:_e,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(de,pe){1&de&&(p.NAR(ve),p.SdG(0),p.j41(1,"span",0),p.SdG(2,1),p.k0s(),p.nrm(3,"div",1),p.DNE(4,De,2,0,":svg:svg",2)),2&de&&(p.R7$(3),p.Y8G("matRippleDisabled",pe.disableRipple||pe.disabled)("matRippleTrigger",pe._getHostElement()),p.R7$(),p.vxM(pe._triggersSubmenu?4:-1))},dependencies:[te.r6],encapsulation:2,changeDetection:0})}return le})();const j=new p.nKC("MatMenuContent"),d={transformMenu:(0,q.hZ)("transformMenu",[(0,q.wk)("void",(0,q.iF)({opacity:0,transform:"scale(0.8)"})),(0,q.kY)("void => enter",(0,q.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,q.iF)({opacity:1,transform:"scale(1)"}))),(0,q.kY)("* => void",(0,q.i0)("100ms 25ms linear",(0,q.iF)({opacity:0})))]),fadeInItems:(0,q.hZ)("fadeInItems",[(0,q.wk)("showing",(0,q.iF)({opacity:1})),(0,q.kY)("void => *",[(0,q.iF)({opacity:0}),(0,q.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let H=0;const ee=new p.nKC("mat-menu-default-options",{providedIn:"root",factory:function fe(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ae=(()=>{class le{get xPosition(){return this._xPosition}set xPosition(re){this._xPosition=re,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(re){this._yPosition=re,this.setPositionClasses()}set panelClass(re){const de=this._previousPanelClass,pe={...this._classList};de&&de.length&&de.split(" ").forEach(Se=>{pe[Se]=!1}),this._previousPanelClass=re,re&&re.length&&(re.split(" ").forEach(Se=>{pe[Se]=!0}),this._elementRef.nativeElement.className=""),this._classList=pe}get classList(){return this.panelClass}set classList(re){this.panelClass=re}constructor(re,de,pe,Se){this._elementRef=re,this._changeDetectorRef=Se,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new p.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new G.B,this.closed=new p.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+H++,this._injector=(0,p.WQX)(p.zZn),this.overlayPanelClass=pe.overlayPanelClass||"",this._xPosition=pe.xPosition,this._yPosition=pe.yPosition,this.backdropClass=pe.backdropClass,this.overlapTrigger=pe.overlapTrigger,this.hasBackdrop=pe.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new S.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,$.Z)(this._directDescendantItems),(0,K.n)(re=>(0,x.h)(...re.map(de=>de._focused)))).subscribe(re=>this._keyManager.updateActiveItem(re)),this._directDescendantItems.changes.subscribe(re=>{const de=this._keyManager;if("enter"===this._panelAnimationState&&de.activeItem?._hasFocus()){const pe=re.toArray(),Se=Math.max(0,Math.min(pe.length-1,de.activeItemIndex||0));pe[Se]&&!pe[Se].disabled?de.setActiveItem(Se):de.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,$.Z)(this._directDescendantItems),(0,K.n)(de=>(0,x.h)(...de.map(pe=>pe._hovered))))}addItem(re){}removeItem(re){}_handleKeydown(re){const de=re.keyCode,pe=this._keyManager;switch(de){case O._f:(0,O.rp)(re)||(re.preventDefault(),this.closed.emit("keydown"));break;case O.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case O.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(de===O.i7||de===O.n6)&&pe.setFocusOrigin("keyboard"),void pe.onKeydown(re)}re.stopPropagation()}focusFirstItem(re="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,p.mal)(()=>{let de=null;if(this._directDescendantItems.length&&(de=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!de||!de.contains(document.activeElement)){const pe=this._keyManager;pe.setFocusOrigin(re).setFirstItemActive(),!pe.activeItem&&de&&de.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(re){if(null===this._baseElevation){const Fe=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(Fe)}const de=Math.min(this._baseElevation+re,24),pe=`${this._elevationPrefix}${de}`,Se=Object.keys(this._classList).find(ke=>ke.startsWith(this._elevationPrefix));if(!Se||Se===this._previousElevation){const ke={...this._classList};this._previousElevation&&(ke[this._previousElevation]=!1),ke[pe]=!0,this._previousElevation=pe,this._classList=ke}}setPositionClasses(re=this.xPosition,de=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===re,"mat-menu-after":"after"===re,"mat-menu-above":"above"===de,"mat-menu-below":"below"===de},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(re){this._animationDone.next(re),this._isAnimating=!1}_onAnimationStart(re){this._isAnimating=!0,"enter"===re.toState&&0===this._keyManager.activeItemIndex&&(re.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,$.Z)(this._allItems)).subscribe(re=>{this._directDescendantItems.reset(re.filter(de=>de._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(de){return new(de||le)(p.rXU(p.aKT),p.rXU(p.SKi),p.rXU(ee),p.rXU(p.gRc))};static#t=this.\u0275cmp=p.VBU({type:le,selectors:[["mat-menu"]],contentQueries:function(de,pe,Se){if(1&de&&(p.wni(Se,j,5),p.wni(Se,g,5),p.wni(Se,g,4)),2&de){let ke;p.mGM(ke=p.lsd())&&(pe.lazyContent=ke.first),p.mGM(ke=p.lsd())&&(pe._allItems=ke),p.mGM(ke=p.lsd())&&(pe.items=ke)}},viewQuery:function(de,pe){if(1&de&&p.GBs(p.C4Q,5),2&de){let Se;p.mGM(Se=p.lsd())&&(pe.templateRef=Se.first)}},hostVars:3,hostBindings:function(de,pe){2&de&&p.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",p.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",re=>null==re?null:(0,p.L39)(re)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[p.Jv_([{provide:h,useExisting:le}]),p.GFd,p.aNF],ngContentSelectors:P,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(de,pe){1&de&&(p.NAR(),p.DNE(0,u,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[d.transformMenu,d.fadeInItems]},changeDetection:0})}return le})();const Pe=new p.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const le=(0,p.WQX)(se.hJ);return()=>le.scrollStrategies.reposition()}}),be={provide:Pe,deps:[se.hJ],useFactory:function Le(le){return()=>le.scrollStrategies.reposition()}},ge=(0,oe.BQ)({passive:!0});let me=(()=>{class le{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(re){this.menu=re}get menu(){return this._menu}set menu(re){re!==this._menu&&(this._menu=re,this._menuCloseSubscription.unsubscribe(),re&&(this._menuCloseSubscription=re.close.subscribe(de=>{this._destroyMenu(de),("click"===de||"tab"===de)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(de)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(re,de,pe,Se,ke,Fe,We,Tt,Xe){this._overlay=re,this._element=de,this._viewContainerRef=pe,this._menuItemInstance=Fe,this._dir=We,this._focusMonitor=Tt,this._ngZone=Xe,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=B.yU.EMPTY,this._hoverSubscription=B.yU.EMPTY,this._menuCloseSubscription=B.yU.EMPTY,this._changeDetectorRef=(0,p.WQX)(p.gRc),this._handleTouchStart=Ke=>{(0,S.w6)(Ke)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new p.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new p.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=Se,this._parentMaterialMenu=ke instanceof Ae?ke:void 0,de.nativeElement.addEventListener("touchstart",this._handleTouchStart,ge)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,ge),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const re=this.menu;if(this._menuOpen||!re)return;const de=this._createOverlay(re),pe=de.getConfig(),Se=pe.positionStrategy;this._setPosition(re,Se),pe.hasBackdrop=null==re.hasBackdrop?!this.triggersSubmenu():re.hasBackdrop,de.attach(this._getPortal(re)),re.lazyContent&&re.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(re),re instanceof Ae&&(re._startAnimation(),re._directDescendantItems.changes.pipe((0,D.Q)(re.close)).subscribe(()=>{Se.withLockedPosition(!1).reapplyLastPosition(),Se.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(re,de){this._focusMonitor&&re?this._focusMonitor.focusVia(this._element,re,de):this._element.nativeElement.focus(de)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(re){if(!this._overlayRef||!this.menuOpen)return;const de=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===re||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,de instanceof Ae?(de._resetAnimation(),de.lazyContent?de._animationDone.pipe((0,X.p)(pe=>"void"===pe.toState),(0,V.s)(1),(0,D.Q)(de.lazyContent._attached)).subscribe({next:()=>de.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),de?.lazyContent?.detach())}_initMenu(re){re.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,re.direction=this.dir,this._setMenuElevation(re),re.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(re){if(re.setElevation){let de=0,pe=re.parentMenu;for(;pe;)de++,pe=pe.parentMenu;re.setElevation(de)}}_setIsMenuOpen(re){re!==this._menuOpen&&(this._menuOpen=re,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(re),this._changeDetectorRef.markForCheck())}_createOverlay(re){if(!this._overlayRef){const de=this._getOverlayConfig(re);this._subscribeToPositions(re,de.positionStrategy),this._overlayRef=this._overlay.create(de),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(re){return new se.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:re.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:re.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(re,de){re.setPositionClasses&&de.positionChanges.subscribe(pe=>{const Se="start"===pe.connectionPair.overlayX?"after":"before",ke="top"===pe.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>re.setPositionClasses(Se,ke)):re.setPositionClasses(Se,ke)})}_setPosition(re,de){let[pe,Se]="before"===re.xPosition?["end","start"]:["start","end"],[ke,Fe]="above"===re.yPosition?["bottom","top"]:["top","bottom"],[We,Tt]=[ke,Fe],[Xe,Ke]=[pe,Se],lt=0;if(this.triggersSubmenu()){if(Ke=pe="before"===re.xPosition?"start":"end",Se=Xe="end"===pe?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const U=this._parentMaterialMenu.items.first;this._parentInnerPadding=U?U._getHostElement().offsetTop:0}lt="bottom"===ke?this._parentInnerPadding:-this._parentInnerPadding}}else re.overlapTrigger||(We="top"===ke?"bottom":"top",Tt="top"===Fe?"bottom":"top");de.withPositions([{originX:pe,originY:We,overlayX:Xe,overlayY:ke,offsetY:lt},{originX:Se,originY:We,overlayX:Ke,overlayY:ke,offsetY:lt},{originX:pe,originY:Tt,overlayX:Xe,overlayY:Fe,offsetY:-lt},{originX:Se,originY:Tt,overlayX:Ke,overlayY:Fe,offsetY:-lt}])}_menuClosingActions(){const re=this._overlayRef.backdropClick(),de=this._overlayRef.detachments(),pe=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,A.of)(),Se=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,X.p)(ke=>ke!==this._menuItemInstance),(0,X.p)(()=>this._menuOpen)):(0,A.of)();return(0,x.h)(re,pe,Se,de)}_handleMousedown(re){(0,S._G)(re)||(this._openedBy=0===re.button?"mouse":void 0,this.triggersSubmenu()&&re.preventDefault())}_handleKeydown(re){const de=re.keyCode;(de===O.Fm||de===O.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(de===O.LE&&"ltr"===this.dir||de===O.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(re){this.triggersSubmenu()?(re.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,X.p)(re=>re===this._menuItemInstance&&!re.disabled),(0,Z.c)(0,N.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ae&&this.menu._isAnimating?this.menu._animationDone.pipe((0,V.s)(1),(0,Z.c)(0,N.$),(0,D.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(re){return(!this._portal||this._portal.templateRef!==re.templateRef)&&(this._portal=new J.VA(re.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(de){return new(de||le)(p.rXU(se.hJ),p.rXU(p.aKT),p.rXU(p.c1b),p.rXU(Pe),p.rXU(h,8),p.rXU(g,10),p.rXU(ne.dS,8),p.rXU(S.FN),p.rXU(p.SKi))};static#t=this.\u0275dir=p.FsC({type:le,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(de,pe){1&de&&p.bIt("click",function(ke){return pe._handleClick(ke)})("mousedown",function(ke){return pe._handleMousedown(ke)})("keydown",function(ke){return pe._handleKeydown(ke)}),2&de&&p.BMQ("aria-haspopup",pe.menu?"menu":null)("aria-expanded",pe.menuOpen)("aria-controls",pe.menuOpen?pe.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return le})(),xe=(()=>{class le{static#e=this.\u0275fac=function(de){return new(de||le)};static#t=this.\u0275mod=p.$C({type:le});static#n=this.\u0275inj=p.G2t({providers:[be],imports:[Q.MD,te.pZ,te.yE,se.z_,ue.Gj,te.yE]})}return le})()},9183:(Be,z,E)=>{"use strict";E.d(z,{D6:()=>X,LG:()=>K});var p=E(93953),S=E(60177),O=E(86600);const G=["determinateSpinner"];function x(V,Z){if(1&V&&(p.qSk(),p.j41(0,"svg",11),p.nrm(1,"circle",12),p.k0s()),2&V){const Q=p.XpG();p.BMQ("viewBox",Q._viewBox()),p.R7$(),p.xc7("stroke-dasharray",Q._strokeCircumference(),"px")("stroke-dashoffset",Q._strokeCircumference()/2,"px")("stroke-width",Q._circleStrokeWidth(),"%"),p.BMQ("r",Q._circleRadius())}}const B=new p.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function A(){return{diameter:N}}}),N=100;let K=(()=>{class V{get color(){return this._color||this._defaultColor}set color(Q){this._color=Q}constructor(Q,te,J){this._elementRef=Q,this._defaultColor="primary",this._value=0,this._diameter=N,this._noopAnimations="NoopAnimations"===te&&!!J&&!J._forceAnimations,this.mode="mat-spinner"===Q.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",J&&(J.color&&(this.color=this._defaultColor=J.color),J.diameter&&(this.diameter=J.diameter),J.strokeWidth&&(this.strokeWidth=J.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(Q){this._value=Math.max(0,Math.min(100,Q||0))}get diameter(){return this._diameter}set diameter(Q){this._diameter=Q||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(Q){this._strokeWidth=Q||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const Q=2*this._circleRadius()+this.strokeWidth;return`0 0 ${Q} ${Q}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(te){return new(te||V)(p.rXU(p.aKT),p.rXU(p.bc$,8),p.rXU(B))};static#t=this.\u0275cmp=p.VBU({type:V,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(te,J){if(1&te&&p.GBs(G,5),2&te){let q;p.mGM(q=p.lsd())&&(J._determinateCircle=q.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(te,J){2&te&&(p.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===J.mode?J.value:null)("mode",J.mode),p.HbH("mat-"+J.color),p.xc7("width",J.diameter,"px")("height",J.diameter,"px")("--mdc-circular-progress-size",J.diameter+"px")("--mdc-circular-progress-active-indicator-width",J.diameter+"px"),p.AVh("_mat-animation-noopable",J._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===J.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",p.Udg],diameter:[2,"diameter","diameter",p.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",p.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[p.GFd,p.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(te,J){if(1&te&&(p.DNE(0,x,2,8,"ng-template",null,0,p.C5r),p.j41(2,"div",2,1),p.qSk(),p.j41(4,"svg",3),p.nrm(5,"circle",4),p.k0s()(),p.joV(),p.j41(6,"div",5)(7,"div",6)(8,"div",7),p.eu8(9,8),p.k0s(),p.j41(10,"div",9),p.eu8(11,8),p.k0s(),p.j41(12,"div",10),p.eu8(13,8),p.k0s()()()),2&te){const q=p.sdS(1);p.R7$(4),p.BMQ("viewBox",J._viewBox()),p.R7$(),p.xc7("stroke-dasharray",J._strokeCircumference(),"px")("stroke-dashoffset",J._strokeDashOffset(),"px")("stroke-width",J._circleStrokeWidth(),"%"),p.BMQ("r",J._circleRadius()),p.R7$(4),p.Y8G("ngTemplateOutlet",q),p.R7$(2),p.Y8G("ngTemplateOutlet",q),p.R7$(2),p.Y8G("ngTemplateOutlet",q)}},dependencies:[S.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return V})(),X=(()=>{class V{static#e=this.\u0275fac=function(te){return new(te||V)};static#t=this.\u0275mod=p.$C({type:V});static#n=this.\u0275inj=p.G2t({imports:[S.MD,O.yE]})}return V})()},5951:(Be,z,E)=>{"use strict";E.d(z,{Wk:()=>q});var p=E(18617),S=E(45024),O=E(93953),x=(E(89417),E(86600)),B=E(60177);const A=["input"],N=["formField"],$=["*"];let K=0;class D{constructor(se,oe){this.source=se,this.value=oe}}const V=new O.nKC("MatRadioGroup"),Z=new O.nKC("mat-radio-default-options",{providedIn:"root",factory:function Q(){return{color:"accent"}}});let J=(()=>{class ne{get checked(){return this._checked}set checked(oe){this._checked!==oe&&(this._checked=oe,oe&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!oe&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),oe&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(oe){this._value!==oe&&(this._value=oe,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===oe),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(oe){this._labelPosition=oe}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(oe){this._setDisabled(oe)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(oe){this._required=oe}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(oe){this._color=oe}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(oe,ue,ae,ve,_e,De,P,u){this._elementRef=ue,this._changeDetector=ae,this._focusMonitor=ve,this._radioDispatcher=_e,this._providerOverride=P,this._uniqueId="mat-radio-"+ ++K,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new O.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,O.WQX)(O.zZn),this.radioGroup=oe,this._noopAnimations="NoopAnimations"===De,u&&(this.tabIndex=(0,O.Udg)(u,0))}focus(oe,ue){ue?this._focusMonitor.focusVia(this._inputElement,ue,oe):this._inputElement.nativeElement.focus(oe)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((oe,ue)=>{oe!==this.id&&ue===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(oe=>{!oe&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new D(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(oe){oe.stopPropagation()}_onInputInteraction(oe){if(oe.stopPropagation(),!this.checked&&!this.disabled){const ue=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),ue&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(oe){this._onInputInteraction(oe),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(oe){this._disabled!==oe&&(this._disabled=oe,this._changeDetector.markForCheck())}_updateTabIndex(){const oe=this.radioGroup;let ue;if(ue=oe&&oe.selected&&!this.disabled?oe.selected===this?this.tabIndex:-1:this.tabIndex,ue!==this._previousTabIndex){const ae=this._inputElement?.nativeElement;ae&&(ae.setAttribute("tabindex",ue+""),this._previousTabIndex=ue,(0,O.mal)(()=>{queueMicrotask(()=>{oe&&oe.selected&&oe.selected!==this&&document.activeElement===ae&&(oe.selected?._inputElement.nativeElement.focus(),document.activeElement===ae&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(ue){return new(ue||ne)(O.rXU(V,8),O.rXU(O.aKT),O.rXU(O.gRc),O.rXU(p.FN),O.rXU(S.zP),O.rXU(O.bc$,8),O.rXU(Z,8),O.kS0("tabindex"))};static#t=this.\u0275cmp=O.VBU({type:ne,selectors:[["mat-radio-button"]],viewQuery:function(ue,ae){if(1&ue&&(O.GBs(A,5),O.GBs(N,7,O.aKT)),2&ue){let ve;O.mGM(ve=O.lsd())&&(ae._inputElement=ve.first),O.mGM(ve=O.lsd())&&(ae._rippleTrigger=ve.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(ue,ae){1&ue&&O.bIt("focus",function(){return ae._inputElement.nativeElement.focus()}),2&ue&&(O.BMQ("id",ae.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),O.AVh("mat-primary","primary"===ae.color)("mat-accent","accent"===ae.color)("mat-warn","warn"===ae.color)("mat-mdc-radio-checked",ae.checked)("_mat-animation-noopable",ae._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",O.L39],tabIndex:[2,"tabIndex","tabIndex",oe=>null==oe?0:(0,O.Udg)(oe)],checked:[2,"checked","checked",O.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",O.L39],required:[2,"required","required",O.L39],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[O.GFd,O.aNF],ngContentSelectors:$,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(ue,ae){if(1&ue){const ve=O.RV6();O.NAR(),O.j41(0,"div",2,0)(2,"div",3)(3,"div",4),O.bIt("click",function(De){return O.eBV(ve),O.Njj(ae._onTouchTargetClick(De))}),O.k0s(),O.j41(4,"input",5,1),O.bIt("change",function(De){return O.eBV(ve),O.Njj(ae._onInputInteraction(De))}),O.k0s(),O.j41(6,"div",6),O.nrm(7,"div",7)(8,"div",8),O.k0s(),O.j41(9,"div",9),O.nrm(10,"div",10),O.k0s()(),O.j41(11,"label",11),O.SdG(12),O.k0s()()}2&ue&&(O.Y8G("labelPosition",ae.labelPosition),O.R7$(2),O.AVh("mdc-radio--disabled",ae.disabled),O.R7$(2),O.Y8G("id",ae.inputId)("checked",ae.checked)("disabled",ae.disabled)("required",ae.required),O.BMQ("name",ae.name)("value",ae.value)("aria-label",ae.ariaLabel)("aria-labelledby",ae.ariaLabelledby)("aria-describedby",ae.ariaDescribedby),O.R7$(5),O.Y8G("matRippleTrigger",ae._rippleTrigger.nativeElement)("matRippleDisabled",ae._isRippleDisabled())("matRippleCentered",!0),O.R7$(2),O.Y8G("for",ae.inputId))},dependencies:[x.r6,x.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color);opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color);opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color);font-family:var(--mat-radio-label-text-font);line-height:var(--mat-radio-label-text-line-height);font-size:var(--mat-radio-label-text-size);letter-spacing:var(--mat-radio-label-text-tracking);font-weight:var(--mat-radio-label-text-weight)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return ne})(),q=(()=>{class ne{static#e=this.\u0275fac=function(ue){return new(ue||ne)};static#t=this.\u0275mod=O.$C({type:ne});static#n=this.\u0275inj=O.G2t({imports:[x.yE,B.MD,x.pZ,J,x.yE]})}return ne})()},82798:(Be,z,E)=>{"use strict";E.d(z,{VO:()=>Pe,Ve:()=>be});var p=E(66969),S=E(60177),O=E(93953),G=E(86600),x=E(53719),B=E(67333),A=E(18617),N=E(28203),$=E(45024),K=E(67336),D=E(89417),X=E(21413),V=E(59030),Z=E(57786),Q=E(99172),te=E(25558),J=E(5964),q=E(96354),ne=E(23294),se=E(56977),oe=E(96697),ue=E(49969);const ae=["trigger"],ve=["panel"],_e=[[["mat-select-trigger"]],"*"],De=["mat-select-trigger","*"];function P(ge,Re){if(1&ge&&(O.j41(0,"span",4),O.EFF(1),O.k0s()),2&ge){const me=O.XpG();O.R7$(),O.JRh(me.placeholder)}}function u(ge,Re){1&ge&&O.SdG(0)}function h(ge,Re){if(1&ge&&(O.j41(0,"span",11),O.EFF(1),O.k0s()),2&ge){const me=O.XpG(2);O.R7$(),O.JRh(me.triggerValue)}}function g(ge,Re){if(1&ge&&(O.j41(0,"span",5),O.DNE(1,u,1,0)(2,h,2,1,"span",11),O.k0s()),2&ge){const me=O.XpG();O.R7$(),O.vxM(me.customTrigger?1:2)}}function w(ge,Re){if(1&ge){const me=O.RV6();O.j41(0,"div",12,1),O.bIt("@transformPanel.done",function(le){O.eBV(me);const he=O.XpG();return O.Njj(he._panelDoneAnimatingStream.next(le.toState))})("keydown",function(le){O.eBV(me);const he=O.XpG();return O.Njj(he._handleKeydown(le))}),O.SdG(2,1),O.k0s()}if(2&ge){const me=O.XpG();O.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",me._getPanelTheme(),""),O.Y8G("ngClass",me.panelClass)("@transformPanel","showing"),O.BMQ("id",me.id+"-panel")("aria-multiselectable",me.multiple)("aria-label",me.ariaLabel||null)("aria-labelledby",me._getPanelAriaLabelledby())}}const T={transformPanelWrap:(0,ue.hZ)("transformPanelWrap",[(0,ue.kY)("* => void",(0,ue.P)("@transformPanel",[(0,ue.MA)()],{optional:!0}))]),transformPanel:(0,ue.hZ)("transformPanel",[(0,ue.wk)("void",(0,ue.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,ue.kY)("void => showing",(0,ue.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,ue.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,ue.kY)("* => void",(0,ue.i0)("100ms linear",(0,ue.iF)({opacity:0})))])};let d=0;const v=new O.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const ge=(0,O.WQX)(p.hJ);return()=>ge.scrollStrategies.reposition()}}),H=new O.nKC("MAT_SELECT_CONFIG"),ee={provide:v,deps:[p.hJ],useFactory:function W(ge){return()=>ge.scrollStrategies.reposition()}},fe=new O.nKC("MatSelectTrigger");class Ae{constructor(Re,me){this.source=Re,this.value=me}}let Pe=(()=>{class ge{_scrollOptionIntoView(me){const xe=this.options.toArray()[me];if(xe){const le=this.panel.nativeElement,he=(0,G.jb)(me,this.options,this.optionGroups),re=xe._getHostElement();le.scrollTop=0===me&&1===he?0:(0,G.TL)(re.offsetTop,re.offsetHeight,le.scrollTop,le.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(me){return new Ae(this,me)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(me){this._hideSingleSelectionIndicator=me,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(me){this._placeholder=me,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(D.k0.required)??!1}set required(me){this._required=me,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(me){this._multiple=me}get compareWith(){return this._compareWith}set compareWith(me){this._compareWith=me,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(me){this._assignValue(me)&&this._onChange(me)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(me){this._errorStateTracker.matcher=me}get id(){return this._id}set id(me){this._id=me||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(me){this._errorStateTracker.errorState=me}constructor(me,xe,le,he,re,de,pe,Se,ke,Fe,We,Tt,Xe,Ke){this._viewportRuler=me,this._changeDetectorRef=xe,this._elementRef=re,this._dir=de,this._parentFormField=ke,this.ngControl=Fe,this._liveAnnouncer=Xe,this._defaultOptions=Ke,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(lt,U)=>lt===U,this._uid="mat-select-"+d++,this._triggerAriaLabelledBy=null,this._destroy=new X.B,this.stateChanges=new X.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+d++,this._panelDoneAnimatingStream=new X.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new X.B,this.optionSelectionChanges=(0,V.v)(()=>{const lt=this.options;return lt?lt.changes.pipe((0,Q.Z)(lt),(0,te.n)(()=>(0,Z.h)(...lt.map(U=>U.onSelectionChange)))):this._initialized.pipe((0,te.n)(()=>this.optionSelectionChanges))}),this.openedChange=new O.bkB,this._openedStream=this.openedChange.pipe((0,J.p)(lt=>lt),(0,q.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,J.p)(lt=>!lt),(0,q.T)(()=>{})),this.selectionChange=new O.bkB,this.valueChange=new O.bkB,this._trackedModal=null,this._skipPredicate=lt=>!this.panelOpen&&lt.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Ke?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=Ke.typeaheadDebounceInterval),this._errorStateTracker=new G.X0(he,Fe,Se,pe,this.stateChanges),this._scrollStrategyFactory=Tt,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(We)||0,this.id=this.id}ngOnInit(){this._selectionModel=new $.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,ne.F)(),(0,se.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,se.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,se.Q)(this._destroy)).subscribe(me=>{me.added.forEach(xe=>xe.select()),me.removed.forEach(xe=>xe.deselect())}),this.options.changes.pipe((0,Q.Z)(null),(0,se.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const me=this._getTriggerAriaLabelledby(),xe=this.ngControl;if(me!==this._triggerAriaLabelledBy){const le=this._elementRef.nativeElement;this._triggerAriaLabelledBy=me,me?le.setAttribute("aria-labelledby",me):le.removeAttribute("aria-labelledby")}xe&&(this._previousControl!==xe.control&&(void 0!==this._previousControl&&null!==xe.disabled&&xe.disabled!==this.disabled&&(this.disabled=xe.disabled),this._previousControl=xe.control),this.updateErrorState())}ngOnChanges(me){(me.disabled||me.userAriaDescribedBy)&&this.stateChanges.next(),me.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const me=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!me)return;const xe=`${this.id}-panel`;this._trackedModal&&(0,A.Ae)(this._trackedModal,"aria-owns",xe),(0,A.px)(me,"aria-owns",xe),this._trackedModal=me}_clearFromModal(){this._trackedModal&&((0,A.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(me){this._assignValue(me)}registerOnChange(me){this._onChange=me}registerOnTouched(me){this._onTouched=me}setDisabledState(me){this.disabled=me,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const me=this._selectionModel.selected.map(xe=>xe.viewValue);return this._isRtl()&&me.reverse(),me.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(me){this.disabled||(this.panelOpen?this._handleOpenKeydown(me):this._handleClosedKeydown(me))}_handleClosedKeydown(me){const xe=me.keyCode,le=xe===K.n6||xe===K.i7||xe===K.UQ||xe===K.LE,he=xe===K.Fm||xe===K.t6,re=this._keyManager;if(!re.isTyping()&&he&&!(0,K.rp)(me)||(this.multiple||me.altKey)&&le)me.preventDefault(),this.open();else if(!this.multiple){const de=this.selected;re.onKeydown(me);const pe=this.selected;pe&&de!==pe&&this._liveAnnouncer.announce(pe.viewValue,1e4)}}_handleOpenKeydown(me){const xe=this._keyManager,le=me.keyCode,he=le===K.n6||le===K.i7,re=xe.isTyping();if(he&&me.altKey)me.preventDefault(),this.close();else if(re||le!==K.Fm&&le!==K.t6||!xe.activeItem||(0,K.rp)(me))if(!re&&this._multiple&&le===K.A&&me.ctrlKey){me.preventDefault();const de=this.options.some(pe=>!pe.disabled&&!pe.selected);this.options.forEach(pe=>{pe.disabled||(de?pe.select():pe.deselect())})}else{const de=xe.activeItemIndex;xe.onKeydown(me),this._multiple&&he&&me.shiftKey&&xe.activeItem&&xe.activeItemIndex!==de&&xe.activeItem._selectViaInteraction()}else me.preventDefault(),xe.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,oe.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(me){if(this.options.forEach(xe=>xe.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&me)Array.isArray(me),me.forEach(xe=>this._selectOptionByValue(xe)),this._sortValues();else{const xe=this._selectOptionByValue(me);xe?this._keyManager.updateActiveItem(xe):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(me){const xe=this.options.find(le=>{if(this._selectionModel.isSelected(le))return!1;try{return null!=le.value&&this._compareWith(le.value,me)}catch{return!1}});return xe&&this._selectionModel.select(xe),xe}_assignValue(me){return!!(me!==this._value||this._multiple&&Array.isArray(me))&&(this.options&&this._setSelectionByValue(me),this._value=me,!0)}_getOverlayWidth(me){return"auto"===this.panelWidth?(me instanceof p.$Q?me.elementRef:me||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const me of this.options)me._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new A.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const me=(0,Z.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,se.Q)(me)).subscribe(xe=>{this._onSelect(xe.source,xe.isUserInput),xe.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Z.h)(...this.options.map(xe=>xe._stateChanges)).pipe((0,se.Q)(me)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(me,xe){const le=this._selectionModel.isSelected(me);null!=me.value||this._multiple?(le!==me.selected&&(me.selected?this._selectionModel.select(me):this._selectionModel.deselect(me)),xe&&this._keyManager.setActiveItem(me),this.multiple&&(this._sortValues(),xe&&this.focus())):(me.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(me.value)),le!==this._selectionModel.isSelected(me)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const me=this.options.toArray();this._selectionModel.sort((xe,le)=>this.sortComparator?this.sortComparator(xe,le,me):me.indexOf(xe)-me.indexOf(le)),this.stateChanges.next()}}_propagateChanges(me){let xe;xe=this.multiple?this.selected.map(le=>le.value):this.selected?this.selected.value:me,this._value=xe,this.valueChange.emit(xe),this._onChange(xe),this.selectionChange.emit(this._getChangeEvent(xe)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let me=-1;for(let xe=0;xe<this.options.length;xe++)if(!this.options.get(xe).disabled){me=xe;break}this._keyManager.setActiveItem(me)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(me){this._elementRef.nativeElement.focus(me)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const me=this._parentFormField?.getLabelId();return this.ariaLabelledby?(me?me+" ":"")+this.ariaLabelledby:me}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const me=this._parentFormField?.getLabelId();let xe=(me?me+" ":"")+this._valueId;return this.ariaLabelledby&&(xe+=" "+this.ariaLabelledby),xe}_panelDoneAnimating(me){this.openedChange.emit(me)}setDescribedByIds(me){me.length?this._elementRef.nativeElement.setAttribute("aria-describedby",me.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(xe){return new(xe||ge)(O.rXU(B.Xj),O.rXU(O.gRc),O.rXU(O.SKi),O.rXU(G.es),O.rXU(O.aKT),O.rXU(N.dS,8),O.rXU(D.cV,8),O.rXU(D.j4,8),O.rXU(x.xb,8),O.rXU(D.vO,10),O.kS0("tabindex"),O.rXU(v),O.rXU(A.Ai),O.rXU(H,8))};static#t=this.\u0275cmp=O.VBU({type:ge,selectors:[["mat-select"]],contentQueries:function(xe,le,he){if(1&xe&&(O.wni(he,fe,5),O.wni(he,G.wT,5),O.wni(he,G.QC,5)),2&xe){let re;O.mGM(re=O.lsd())&&(le.customTrigger=re.first),O.mGM(re=O.lsd())&&(le.options=re),O.mGM(re=O.lsd())&&(le.optionGroups=re)}},viewQuery:function(xe,le){if(1&xe&&(O.GBs(ae,5),O.GBs(ve,5),O.GBs(p.WB,5)),2&xe){let he;O.mGM(he=O.lsd())&&(le.trigger=he.first),O.mGM(he=O.lsd())&&(le.panel=he.first),O.mGM(he=O.lsd())&&(le._overlayDir=he.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(xe,le){1&xe&&O.bIt("keydown",function(re){return le._handleKeydown(re)})("focus",function(){return le._onFocus()})("blur",function(){return le._onBlur()}),2&xe&&(O.BMQ("id",le.id)("tabindex",le.disabled?-1:le.tabIndex)("aria-controls",le.panelOpen?le.id+"-panel":null)("aria-expanded",le.panelOpen)("aria-label",le.ariaLabel||null)("aria-required",le.required.toString())("aria-disabled",le.disabled.toString())("aria-invalid",le.errorState)("aria-activedescendant",le._getAriaActiveDescendant()),O.AVh("mat-mdc-select-disabled",le.disabled)("mat-mdc-select-invalid",le.errorState)("mat-mdc-select-required",le.required)("mat-mdc-select-empty",le.empty)("mat-mdc-select-multiple",le.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",O.L39],disableRipple:[2,"disableRipple","disableRipple",O.L39],tabIndex:[2,"tabIndex","tabIndex",me=>null==me?0:(0,O.Udg)(me)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",O.L39],placeholder:"placeholder",required:[2,"required","required",O.L39],multiple:[2,"multiple","multiple",O.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",O.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",O.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[O.Jv_([{provide:x.qT,useExisting:ge},{provide:G.is,useExisting:ge}]),O.GFd,O.OA$,O.aNF],ngContentSelectors:De,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(xe,le){if(1&xe){const he=O.RV6();O.NAR(_e),O.j41(0,"div",2,0),O.bIt("click",function(){return O.eBV(he),O.Njj(le.open())}),O.j41(3,"div",3),O.DNE(4,P,2,1,"span",4)(5,g,3,1,"span",5),O.k0s(),O.j41(6,"div",6)(7,"div",7),O.qSk(),O.j41(8,"svg",8),O.nrm(9,"path",9),O.k0s()()()(),O.DNE(10,w,3,9,"ng-template",10),O.bIt("backdropClick",function(){return O.eBV(he),O.Njj(le.close())})("attach",function(){return O.eBV(he),O.Njj(le._onAttached())})("detach",function(){return O.eBV(he),O.Njj(le.close())})}if(2&xe){const he=O.sdS(1);O.R7$(3),O.BMQ("id",le._valueId),O.R7$(),O.vxM(le.empty?4:5),O.R7$(6),O.Y8G("cdkConnectedOverlayPanelClass",le._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",le._scrollStrategy)("cdkConnectedOverlayOrigin",le._preferredOverlayOrigin||he)("cdkConnectedOverlayOpen",le.panelOpen)("cdkConnectedOverlayPositions",le._positions)("cdkConnectedOverlayWidth",le._overlayWidth)}},dependencies:[p.$Q,p.WB,S.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[T.transformPanel]},changeDetection:0})}return ge})(),be=(()=>{class ge{static#e=this.\u0275fac=function(xe){return new(xe||ge)};static#t=this.\u0275mod=O.$C({type:ge});static#n=this.\u0275inj=O.G2t({providers:[ee],imports:[S.MD,p.z_,G.Sy,G.yE,B.Gj,x.RG,G.Sy,G.yE]})}return ge})()},55911:(Be,z,E)=>{"use strict";E.d(z,{KQ:()=>N,s5:()=>K});var p=E(93953),S=E(86600),O=E(36860),G=E(60177);const x=["*",[["mat-toolbar-row"]]],B=["*","mat-toolbar-row"];let A=(()=>{class D{static#e=this.\u0275fac=function(Z){return new(Z||D)};static#t=this.\u0275dir=p.FsC({type:D,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return D})(),N=(()=>{class D{constructor(V,Z,Q){this._elementRef=V,this._platform=Z,this._document=Q}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(Z){return new(Z||D)(p.rXU(p.aKT),p.rXU(O.OD),p.rXU(G.qQ))};static#t=this.\u0275cmp=p.VBU({type:D,selectors:[["mat-toolbar"]],contentQueries:function(Z,Q,te){if(1&Z&&p.wni(te,A,5),2&Z){let J;p.mGM(J=p.lsd())&&(Q._toolbarRows=J)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(Z,Q){2&Z&&(p.HbH(Q.color?"mat-"+Q.color:""),p.AVh("mat-toolbar-multiple-rows",Q._toolbarRows.length>0)("mat-toolbar-single-row",0===Q._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[p.aNF],ngContentSelectors:B,decls:2,vars:0,template:function(Z,Q){1&Z&&(p.NAR(x),p.SdG(0),p.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return D})(),K=(()=>{class D{static#e=this.\u0275fac=function(Z){return new(Z||D)};static#t=this.\u0275mod=p.$C({type:D});static#n=this.\u0275inj=p.G2t({imports:[S.yE,S.yE]})}return D})()},14823:(Be,z,E)=>{"use strict";E.d(z,{oV:()=>g,uc:()=>C});var p=E(56977),S=E(14085),O=E(67336),G=E(93953),x=E(60177),B=E(36860),A=E(18617),N=E(28203),$=E(66969),K=E(67333),D=E(76939),X=E(21413),Z=(E(49969),E(86600));const Q=["tooltip"],q=new G.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const j=(0,G.WQX)($.hJ);return()=>j.scrollStrategies.reposition({scrollThrottle:20})}}),se={provide:q,deps:[$.hJ],useFactory:function ne(j){return()=>j.scrollStrategies.reposition({scrollThrottle:20})}},ue=new G.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function oe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),ve="tooltip-panel",_e=(0,B.BQ)({passive:!0});let g=(()=>{class j{get position(){return this._position}set position(d){d!==this._position&&(this._position=d,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(d){this._positionAtOrigin=(0,S.he)(d),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(d){this._disabled=(0,S.he)(d),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(d){this._showDelay=(0,S.OE)(d)}get hideDelay(){return this._hideDelay}set hideDelay(d){this._hideDelay=(0,S.OE)(d),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(d){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=d?String(d).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(d){this._tooltipClass=d,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(d,v,W,H,ee,fe,Ae,Pe,Le,be,ge,Re){this._overlay=d,this._elementRef=v,this._scrollDispatcher=W,this._viewContainerRef=H,this._ngZone=ee,this._platform=fe,this._ariaDescriber=Ae,this._focusMonitor=Pe,this._dir=be,this._defaultOptions=ge,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=w,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new X.B,this._injector=(0,G.WQX)(G.zZn),this._scrollStrategy=Le,this._document=Re,ge&&(this._showDelay=ge.showDelay,this._hideDelay=ge.hideDelay,ge.position&&(this.position=ge.position),ge.positionAtOrigin&&(this.positionAtOrigin=ge.positionAtOrigin),ge.touchGestures&&(this.touchGestures=ge.touchGestures)),be.change.pipe((0,p.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,p.Q)(this._destroyed)).subscribe(d=>{d?"keyboard"===d&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const d=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([v,W])=>{d.removeEventListener(v,W,_e)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(d,this.message,"tooltip"),this._focusMonitor.stopMonitoring(d)}show(d=this.showDelay,v){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const W=this._createOverlay(v);this._detach(),this._portal=this._portal||new D.A8(this._tooltipComponent,this._viewContainerRef);const H=this._tooltipInstance=W.attach(this._portal).instance;H._triggerElement=this._elementRef.nativeElement,H._mouseLeaveHideDelay=this._hideDelay,H.afterHidden().pipe((0,p.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),H.show(d)}hide(d=this.hideDelay){const v=this._tooltipInstance;v&&(v.isVisible()?v.hide(d):(v._cancelPendingAnimations(),this._detach()))}toggle(d){this._isTooltipVisible()?this.hide():this.show(void 0,d)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(d){if(this._overlayRef){const H=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!d)&&H._origin instanceof G.aKT)return this._overlayRef;this._detach()}const v=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),W=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&d||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(v);return W.positionChanges.pipe((0,p.Q)(this._destroyed)).subscribe(H=>{this._updateCurrentPositionClass(H.connectionPair),this._tooltipInstance&&H.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:W,panelClass:`${this._cssClassPrefix}-${ve}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,p.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,p.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,p.Q)(this._destroyed)).subscribe(H=>{this._isTooltipVisible()&&H.keyCode===O._f&&!(0,O.rp)(H)&&(H.preventDefault(),H.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(d){const v=d.getConfig().positionStrategy,W=this._getOrigin(),H=this._getOverlayPosition();v.withPositions([this._addOffset({...W.main,...H.main}),this._addOffset({...W.fallback,...H.fallback})])}_addOffset(d){const W=!this._dir||"ltr"==this._dir.value;return"top"===d.originY?d.offsetY=-8:"bottom"===d.originY?d.offsetY=8:"start"===d.originX?d.offsetX=W?-8:8:"end"===d.originX&&(d.offsetX=W?8:-8),d}_getOrigin(){const d=!this._dir||"ltr"==this._dir.value,v=this.position;let W;"above"==v||"below"==v?W={originX:"center",originY:"above"==v?"top":"bottom"}:"before"==v||"left"==v&&d||"right"==v&&!d?W={originX:"start",originY:"center"}:("after"==v||"right"==v&&d||"left"==v&&!d)&&(W={originX:"end",originY:"center"});const{x:H,y:ee}=this._invertPosition(W.originX,W.originY);return{main:W,fallback:{originX:H,originY:ee}}}_getOverlayPosition(){const d=!this._dir||"ltr"==this._dir.value,v=this.position;let W;"above"==v?W={overlayX:"center",overlayY:"bottom"}:"below"==v?W={overlayX:"center",overlayY:"top"}:"before"==v||"left"==v&&d||"right"==v&&!d?W={overlayX:"end",overlayY:"center"}:("after"==v||"right"==v&&d||"left"==v&&!d)&&(W={overlayX:"start",overlayY:"center"});const{x:H,y:ee}=this._invertPosition(W.overlayX,W.overlayY);return{main:W,fallback:{overlayX:H,overlayY:ee}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,G.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(d){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=d,this._tooltipInstance._markForCheck())}_invertPosition(d,v){return"above"===this.position||"below"===this.position?"top"===v?v="bottom":"bottom"===v&&(v="top"):"end"===d?d="start":"start"===d&&(d="end"),{x:d,y:v}}_updateCurrentPositionClass(d){const{overlayY:v,originX:W,originY:H}=d;let ee;if(ee="center"===v?this._dir&&"rtl"===this._dir.value?"end"===W?"left":"right":"start"===W?"left":"right":"bottom"===v&&"top"===H?"above":"below",ee!==this._currentPosition){const fe=this._overlayRef;if(fe){const Ae=`${this._cssClassPrefix}-${ve}-`;fe.removePanelClass(Ae+this._currentPosition),fe.addPanelClass(Ae+ee)}this._currentPosition=ee}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",d=>{let v;this._setupPointerExitEventsIfNeeded(),void 0!==d.x&&void 0!==d.y&&(v=d),this.show(void 0,v)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",d=>{const v=d.targetTouches?.[0],W=v?{x:v.clientX,y:v.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,W),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const d=[];if(this._platformSupportsMouseEvents())d.push(["mouseleave",v=>{const W=v.relatedTarget;(!W||!this._overlayRef?.overlayElement.contains(W))&&this.hide()}],["wheel",v=>this._wheelListener(v)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const v=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};d.push(["touchend",v],["touchcancel",v])}this._addListeners(d),this._passiveListeners.push(...d)}_addListeners(d){d.forEach(([v,W])=>{this._elementRef.nativeElement.addEventListener(v,W,_e)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(d){if(this._isTooltipVisible()){const v=this._document.elementFromPoint(d.clientX,d.clientY),W=this._elementRef.nativeElement;v!==W&&!W.contains(v)&&this.hide()}}_disableNativeGesturesIfNecessary(){const d=this.touchGestures;if("off"!==d){const v=this._elementRef.nativeElement,W=v.style;("on"===d||"INPUT"!==v.nodeName&&"TEXTAREA"!==v.nodeName)&&(W.userSelect=W.msUserSelect=W.webkitUserSelect=W.MozUserSelect="none"),("on"===d||!v.draggable)&&(W.webkitUserDrag="none"),W.touchAction="none",W.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(v){return new(v||j)(G.rXU($.hJ),G.rXU(G.aKT),G.rXU(K.R),G.rXU(G.c1b),G.rXU(G.SKi),G.rXU(B.OD),G.rXU(A.vr),G.rXU(A.FN),G.rXU(q),G.rXU(N.dS),G.rXU(ue,8),G.rXU(x.qQ))};static#t=this.\u0275dir=G.FsC({type:j,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(v,W){2&v&&G.AVh("mat-mdc-tooltip-disabled",W.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return j})(),w=(()=>{class j{constructor(d,v,W){this._changeDetectorRef=d,this._elementRef=v,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new X.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===W}show(d){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},d)}hide(d){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},d)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:d}){(!d||!this._triggerElement.contains(d))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const d=this._elementRef.nativeElement.getBoundingClientRect();return d.height>24&&d.width>=200}_handleAnimationEnd({animationName:d}){(d===this._showAnimation||d===this._hideAnimation)&&this._finalizeAnimation(d===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(d){d?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(d){const v=this._tooltip.nativeElement,W=this._showAnimation,H=this._hideAnimation;if(v.classList.remove(d?H:W),v.classList.add(d?W:H),this._isVisible!==d&&(this._isVisible=d,this._changeDetectorRef.markForCheck()),d&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const ee=getComputedStyle(v);("0s"===ee.getPropertyValue("animation-duration")||"none"===ee.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}d&&this._onShow(),this._animationsDisabled&&(v.classList.add("_mat-animation-noopable"),this._finalizeAnimation(d))}static#e=this.\u0275fac=function(v){return new(v||j)(G.rXU(G.gRc),G.rXU(G.aKT),G.rXU(G.bc$,8))};static#t=this.\u0275cmp=G.VBU({type:j,selectors:[["mat-tooltip-component"]],viewQuery:function(v,W){if(1&v&&G.GBs(Q,7),2&v){let H;G.mGM(H=G.lsd())&&(W._tooltip=H.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(v,W){1&v&&G.bIt("mouseleave",function(ee){return W._handleMouseLeave(ee)}),2&v&&G.xc7("zoom",W.isVisible()?1:null)},standalone:!0,features:[G.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(v,W){if(1&v){const H=G.RV6();G.j41(0,"div",1,0),G.bIt("animationend",function(fe){return G.eBV(H),G.Njj(W._handleAnimationEnd(fe))}),G.j41(2,"div",2),G.EFF(3),G.k0s()()}2&v&&(G.AVh("mdc-tooltip--multiline",W._isMultiline),G.Y8G("ngClass",W.tooltipClass),G.R7$(3),G.JRh(W.message))},dependencies:[x.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color);color:var(--mdc-plain-tooltip-supporting-text-color);border-radius:var(--mdc-plain-tooltip-container-shape);font-family:var(--mdc-plain-tooltip-supporting-text-font);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return j})(),C=(()=>{class j{static#e=this.\u0275fac=function(v){return new(v||j)};static#t=this.\u0275mod=G.$C({type:j});static#n=this.\u0275inj=G.G2t({providers:[se],imports:[A.Pd,x.MD,$.z_,Z.yE,Z.yE,K.Gj]})}return j})()},345:(Be,z,E)=>{"use strict";E.d(z,{B7:()=>_e,B8:()=>H,hE:()=>pe,up:()=>Ie});var p=E(60177),S=E(93953);class O extends p.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class G extends O{static makeCurrent(){(0,p.ZD)(new G)}onAndCancel(dt,it,Ct){return dt.addEventListener(it,Ct),()=>{dt.removeEventListener(it,Ct)}}dispatchEvent(dt,it){dt.dispatchEvent(it)}remove(dt){dt.parentNode&&dt.parentNode.removeChild(dt)}createElement(dt,it){return(it=it||this.getDefaultDocument()).createElement(dt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(dt){return dt.nodeType===Node.ELEMENT_NODE}isShadowRoot(dt){return dt instanceof DocumentFragment}getGlobalEventTarget(dt,it){return"window"===it?window:"document"===it?dt:"body"===it?dt.body:null}getBaseHref(dt){const it=function B(){return x=x||document.querySelector("base"),x?x.getAttribute("href"):null}();return null==it?null:function A(Nt){return new URL(Nt,document.baseURI).pathname}(it)}resetBaseElement(){x=null}getUserAgent(){return window.navigator.userAgent}getCookie(dt){return(0,p._b)(document.cookie,dt)}}let x=null,$=(()=>{class Nt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Ct){return new(Ct||Nt)};static#t=this.\u0275prov=S.jDH({token:Nt,factory:Nt.\u0275fac})}return Nt})();const K=new S.nKC("");let D=(()=>{class Nt{constructor(it,Ct){this._zone=Ct,this._eventNameToPlugin=new Map,it.forEach(Bt=>{Bt.manager=this}),this._plugins=it.slice().reverse()}addEventListener(it,Ct,Bt){return this._findPluginFor(Ct).addEventListener(it,Ct,Bt)}getZone(){return this._zone}_findPluginFor(it){let Ct=this._eventNameToPlugin.get(it);if(Ct)return Ct;if(Ct=this._plugins.find(Wt=>Wt.supports(it)),!Ct)throw new S.wOt(5101,!1);return this._eventNameToPlugin.set(it,Ct),Ct}static#e=this.\u0275fac=function(Ct){return new(Ct||Nt)(S.KVO(K),S.KVO(S.SKi))};static#t=this.\u0275prov=S.jDH({token:Nt,factory:Nt.\u0275fac})}return Nt})();class X{constructor(dt){this._doc=dt}}const V="ng-app-id";let Z=(()=>{class Nt{constructor(it,Ct,Bt,Wt={}){this.doc=it,this.appId=Ct,this.nonce=Bt,this.platformId=Wt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,p.Vy)(Wt),this.resetHostNodes()}addStyles(it){for(const Ct of it)1===this.changeUsageCount(Ct,1)&&this.onStyleAdded(Ct)}removeStyles(it){for(const Ct of it)this.changeUsageCount(Ct,-1)<=0&&this.onStyleRemoved(Ct)}ngOnDestroy(){const it=this.styleNodesInDOM;it&&(it.forEach(Ct=>Ct.remove()),it.clear());for(const Ct of this.getAllStyles())this.onStyleRemoved(Ct);this.resetHostNodes()}addHost(it){this.hostNodes.add(it);for(const Ct of this.getAllStyles())this.addStyleToHost(it,Ct)}removeHost(it){this.hostNodes.delete(it)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(it){for(const Ct of this.hostNodes)this.addStyleToHost(Ct,it)}onStyleRemoved(it){const Ct=this.styleRef;Ct.get(it)?.elements?.forEach(Bt=>Bt.remove()),Ct.delete(it)}collectServerRenderedStyles(){const it=this.doc.head?.querySelectorAll(`style[${V}="${this.appId}"]`);if(it?.length){const Ct=new Map;return it.forEach(Bt=>{null!=Bt.textContent&&Ct.set(Bt.textContent,Bt)}),Ct}return null}changeUsageCount(it,Ct){const Bt=this.styleRef;if(Bt.has(it)){const Wt=Bt.get(it);return Wt.usage+=Ct,Wt.usage}return Bt.set(it,{usage:Ct,elements:[]}),Ct}getStyleElement(it,Ct){const Bt=this.styleNodesInDOM,Wt=Bt?.get(Ct);if(Wt?.parentNode===it)return Bt.delete(Ct),Wt.removeAttribute(V),Wt;{const Yn=this.doc.createElement("style");return this.nonce&&Yn.setAttribute("nonce",this.nonce),Yn.textContent=Ct,this.platformIsServer&&Yn.setAttribute(V,this.appId),it.appendChild(Yn),Yn}}addStyleToHost(it,Ct){const Bt=this.getStyleElement(it,Ct),Wt=this.styleRef,Yn=Wt.get(Ct)?.elements;Yn?Yn.push(Bt):Wt.set(Ct,{elements:[Bt],usage:1})}resetHostNodes(){const it=this.hostNodes;it.clear(),it.add(this.doc.head)}static#e=this.\u0275fac=function(Ct){return new(Ct||Nt)(S.KVO(p.qQ),S.KVO(S.sZ2),S.KVO(S.BIS,8),S.KVO(S.Agw))};static#t=this.\u0275prov=S.jDH({token:Nt,factory:Nt.\u0275fac})}return Nt})();const Q={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},te=/%COMP%/g,J="%COMP%",q=`_nghost-${J}`,ne=`_ngcontent-${J}`,oe=new S.nKC("",{providedIn:"root",factory:()=>!0});function ve(Nt,dt){return dt.map(it=>it.replace(te,Nt))}let _e=(()=>{class Nt{constructor(it,Ct,Bt,Wt,Yn,at,ut,ft=null){this.eventManager=it,this.sharedStylesHost=Ct,this.appId=Bt,this.removeStylesOnCompDestroy=Wt,this.doc=Yn,this.platformId=at,this.ngZone=ut,this.nonce=ft,this.rendererByCompId=new Map,this.platformIsServer=(0,p.Vy)(at),this.defaultRenderer=new De(it,Yn,ut,this.platformIsServer)}createRenderer(it,Ct){if(!it||!Ct)return this.defaultRenderer;this.platformIsServer&&Ct.encapsulation===S.gXe.ShadowDom&&(Ct={...Ct,encapsulation:S.gXe.Emulated});const Bt=this.getOrCreateRenderer(it,Ct);return Bt instanceof T?Bt.applyToHost(it):Bt instanceof w&&Bt.applyStyles(),Bt}getOrCreateRenderer(it,Ct){const Bt=this.rendererByCompId;let Wt=Bt.get(Ct.id);if(!Wt){const Yn=this.doc,at=this.ngZone,ut=this.eventManager,ft=this.sharedStylesHost,et=this.removeStylesOnCompDestroy,gt=this.platformIsServer;switch(Ct.encapsulation){case S.gXe.Emulated:Wt=new T(ut,ft,Ct,this.appId,et,Yn,at,gt);break;case S.gXe.ShadowDom:return new g(ut,ft,it,Ct,Yn,at,this.nonce,gt);default:Wt=new w(ut,ft,Ct,et,Yn,at,gt)}Bt.set(Ct.id,Wt)}return Wt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Ct){return new(Ct||Nt)(S.KVO(D),S.KVO(Z),S.KVO(S.sZ2),S.KVO(oe),S.KVO(p.qQ),S.KVO(S.Agw),S.KVO(S.SKi),S.KVO(S.BIS))};static#t=this.\u0275prov=S.jDH({token:Nt,factory:Nt.\u0275fac})}return Nt})();class De{constructor(dt,it,Ct,Bt){this.eventManager=dt,this.doc=it,this.ngZone=Ct,this.platformIsServer=Bt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(dt,it){return it?this.doc.createElementNS(Q[it]||it,dt):this.doc.createElement(dt)}createComment(dt){return this.doc.createComment(dt)}createText(dt){return this.doc.createTextNode(dt)}appendChild(dt,it){(h(dt)?dt.content:dt).appendChild(it)}insertBefore(dt,it,Ct){dt&&(h(dt)?dt.content:dt).insertBefore(it,Ct)}removeChild(dt,it){dt&&dt.removeChild(it)}selectRootElement(dt,it){let Ct="string"==typeof dt?this.doc.querySelector(dt):dt;if(!Ct)throw new S.wOt(-5104,!1);return it||(Ct.textContent=""),Ct}parentNode(dt){return dt.parentNode}nextSibling(dt){return dt.nextSibling}setAttribute(dt,it,Ct,Bt){if(Bt){it=Bt+":"+it;const Wt=Q[Bt];Wt?dt.setAttributeNS(Wt,it,Ct):dt.setAttribute(it,Ct)}else dt.setAttribute(it,Ct)}removeAttribute(dt,it,Ct){if(Ct){const Bt=Q[Ct];Bt?dt.removeAttributeNS(Bt,it):dt.removeAttribute(`${Ct}:${it}`)}else dt.removeAttribute(it)}addClass(dt,it){dt.classList.add(it)}removeClass(dt,it){dt.classList.remove(it)}setStyle(dt,it,Ct,Bt){Bt&(S.czy.DashCase|S.czy.Important)?dt.style.setProperty(it,Ct,Bt&S.czy.Important?"important":""):dt.style[it]=Ct}removeStyle(dt,it,Ct){Ct&S.czy.DashCase?dt.style.removeProperty(it):dt.style[it]=""}setProperty(dt,it,Ct){null!=dt&&(dt[it]=Ct)}setValue(dt,it){dt.nodeValue=it}listen(dt,it,Ct){if("string"==typeof dt&&!(dt=(0,p.QT)().getGlobalEventTarget(this.doc,dt)))throw new Error(`Unsupported event target ${dt} for event ${it}`);return this.eventManager.addEventListener(dt,it,this.decoratePreventDefault(Ct))}decoratePreventDefault(dt){return it=>{if("__ngUnwrap__"===it)return dt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>dt(it)):dt(it))&&it.preventDefault()}}}function h(Nt){return"TEMPLATE"===Nt.tagName&&void 0!==Nt.content}class g extends De{constructor(dt,it,Ct,Bt,Wt,Yn,at,ut){super(dt,Wt,Yn,ut),this.sharedStylesHost=it,this.hostEl=Ct,this.shadowRoot=Ct.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ft=ve(Bt.id,Bt.styles);for(const et of ft){const gt=document.createElement("style");at&&gt.setAttribute("nonce",at),gt.textContent=et,this.shadowRoot.appendChild(gt)}}nodeOrShadowRoot(dt){return dt===this.hostEl?this.shadowRoot:dt}appendChild(dt,it){return super.appendChild(this.nodeOrShadowRoot(dt),it)}insertBefore(dt,it,Ct){return super.insertBefore(this.nodeOrShadowRoot(dt),it,Ct)}removeChild(dt,it){return super.removeChild(this.nodeOrShadowRoot(dt),it)}parentNode(dt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(dt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class w extends De{constructor(dt,it,Ct,Bt,Wt,Yn,at,ut){super(dt,Wt,Yn,at),this.sharedStylesHost=it,this.removeStylesOnCompDestroy=Bt,this.styles=ut?ve(ut,Ct.styles):Ct.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class T extends w{constructor(dt,it,Ct,Bt,Wt,Yn,at,ut){const ft=Bt+"-"+Ct.id;super(dt,it,Ct,Wt,Yn,at,ut,ft),this.contentAttr=function ue(Nt){return ne.replace(te,Nt)}(ft),this.hostAttr=function ae(Nt){return q.replace(te,Nt)}(ft)}applyToHost(dt){this.applyStyles(),this.setAttribute(dt,this.hostAttr,"")}createElement(dt,it){const Ct=super.createElement(dt,it);return super.setAttribute(Ct,this.contentAttr,""),Ct}}let C=(()=>{class Nt extends X{constructor(it){super(it)}supports(it){return!0}addEventListener(it,Ct,Bt){return it.addEventListener(Ct,Bt,!1),()=>this.removeEventListener(it,Ct,Bt)}removeEventListener(it,Ct,Bt){return it.removeEventListener(Ct,Bt)}static#e=this.\u0275fac=function(Ct){return new(Ct||Nt)(S.KVO(p.qQ))};static#t=this.\u0275prov=S.jDH({token:Nt,factory:Nt.\u0275fac})}return Nt})(),j=(()=>{class Nt extends X{constructor(it){super(it),this.delegate=(0,S.WQX)(S.zAP,{optional:!0})}supports(it){return!!this.delegate&&this.delegate.supports(it)}addEventListener(it,Ct,Bt){return this.delegate.addEventListener(it,Ct,Bt)}removeEventListener(it,Ct,Bt){return this.delegate.removeEventListener(it,Ct,Bt)}static#e=this.\u0275fac=function(Ct){return new(Ct||Nt)(S.KVO(p.qQ))};static#t=this.\u0275prov=S.jDH({token:Nt,factory:Nt.\u0275fac})}return Nt})();const M=["alt","control","meta","shift"],d={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},v={alt:Nt=>Nt.altKey,control:Nt=>Nt.ctrlKey,meta:Nt=>Nt.metaKey,shift:Nt=>Nt.shiftKey};let W=(()=>{class Nt extends X{constructor(it){super(it)}supports(it){return null!=Nt.parseEventName(it)}addEventListener(it,Ct,Bt){const Wt=Nt.parseEventName(Ct),Yn=Nt.eventCallback(Wt.fullKey,Bt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.QT)().onAndCancel(it,Wt.domEventName,Yn))}static parseEventName(it){const Ct=it.toLowerCase().split("."),Bt=Ct.shift();if(0===Ct.length||"keydown"!==Bt&&"keyup"!==Bt)return null;const Wt=Nt._normalizeKey(Ct.pop());let Yn="",at=Ct.indexOf("code");if(at>-1&&(Ct.splice(at,1),Yn="code."),M.forEach(ft=>{const et=Ct.indexOf(ft);et>-1&&(Ct.splice(et,1),Yn+=ft+".")}),Yn+=Wt,0!=Ct.length||0===Wt.length)return null;const ut={};return ut.domEventName=Bt,ut.fullKey=Yn,ut}static matchEventFullKeyCode(it,Ct){let Bt=d[it.key]||it.key,Wt="";return Ct.indexOf("code.")>-1&&(Bt=it.code,Wt="code."),!(null==Bt||!Bt)&&(Bt=Bt.toLowerCase()," "===Bt?Bt="space":"."===Bt&&(Bt="dot"),M.forEach(Yn=>{Yn!==Bt&&(0,v[Yn])(it)&&(Wt+=Yn+".")}),Wt+=Bt,Wt===Ct)}static eventCallback(it,Ct,Bt){return Wt=>{Nt.matchEventFullKeyCode(Wt,it)&&Bt.runGuarded(()=>Ct(Wt))}}static _normalizeKey(it){return"esc"===it?"escape":it}static#e=this.\u0275fac=function(Ct){return new(Ct||Nt)(S.KVO(p.qQ))};static#t=this.\u0275prov=S.jDH({token:Nt,factory:Nt.\u0275fac})}return Nt})();function H(Nt,dt){return(0,S.TL3)({rootComponent:Nt,...fe(dt)})}function fe(Nt){return{appProviders:[...le,...Nt?.providers??[]],platformProviders:ge}}const ge=[{provide:S.Agw,useValue:p.AJ},{provide:S.PLl,useValue:function Pe(){G.makeCurrent()},multi:!0},{provide:p.qQ,useFactory:function be(){return(0,S.TL$)(document),document},deps:[]}],le=[{provide:S.H8p,useValue:"root"},{provide:S.zcH,useFactory:function Le(){return new S.zcH},deps:[]},{provide:K,useClass:C,multi:!0,deps:[p.qQ,S.SKi,S.Agw]},{provide:K,useClass:W,multi:!0,deps:[p.qQ]},{provide:K,useClass:j,multi:!0},_e,Z,D,{provide:S._9s,useExisting:_e},{provide:p.N0,useClass:$,deps:[]},[]];let pe=(()=>{class Nt{constructor(it){this._doc=it}getTitle(){return this._doc.title}setTitle(it){this._doc.title=it||""}static#e=this.\u0275fac=function(Ct){return new(Ct||Nt)(S.KVO(p.qQ))};static#t=this.\u0275prov=S.jDH({token:Nt,factory:Nt.\u0275fac,providedIn:"root"})}return Nt})(),Ie=(()=>{class Nt{static#e=this.\u0275fac=function(Ct){return new(Ct||Nt)};static#t=this.\u0275prov=S.jDH({token:Nt,factory:function(Ct){let Bt=null;return Bt=Ct?new(Ct||Nt):S.KVO(Qe),Bt},providedIn:"root"})}return Nt})(),Qe=(()=>{class Nt extends Ie{constructor(it){super(),this._doc=it}sanitize(it,Ct){if(null==Ct)return null;switch(it){case S.WPN.NONE:return Ct;case S.WPN.HTML:return(0,S.ZF7)(Ct,"HTML")?(0,S.rcV)(Ct):(0,S.h9k)(this._doc,String(Ct)).toString();case S.WPN.STYLE:return(0,S.ZF7)(Ct,"Style")?(0,S.rcV)(Ct):Ct;case S.WPN.SCRIPT:if((0,S.ZF7)(Ct,"Script"))return(0,S.rcV)(Ct);throw new S.wOt(5200,!1);case S.WPN.URL:return(0,S.ZF7)(Ct,"URL")?(0,S.rcV)(Ct):(0,S.$MX)(String(Ct));case S.WPN.RESOURCE_URL:if((0,S.ZF7)(Ct,"ResourceURL"))return(0,S.rcV)(Ct);throw new S.wOt(5201,!1);default:throw new S.wOt(5202,!1)}}bypassSecurityTrustHtml(it){return(0,S.Kcf)(it)}bypassSecurityTrustStyle(it){return(0,S.cWb)(it)}bypassSecurityTrustScript(it){return(0,S.UyX)(it)}bypassSecurityTrustUrl(it){return(0,S.osQ)(it)}bypassSecurityTrustResourceUrl(it){return(0,S.e5t)(it)}static#e=this.\u0275fac=function(Ct){return new(Ct||Nt)(S.KVO(p.qQ))};static#t=this.\u0275prov=S.jDH({token:Nt,factory:Nt.\u0275fac,providedIn:"root"})}return Nt})()},18498:(Be,z,E)=>{"use strict";E.d(z,{nX:()=>gc,wF:()=>ir,Z:()=>sr,Kp:()=>Pf,Ix:()=>Xs,Wk:()=>Xc,wQ:()=>Sl,iI:()=>Td,n3:()=>_l,lh:()=>tt,Sn:()=>Yi});var p=E(93953),S=E(74402),O=E(86648),G=E(7673),x=E(84412),B=E(84572);const N=(0,E(81853).L)(Ue=>function(){Ue(this),this.name="EmptyError",this.message="no elements in sequence"});var $=E(28793),K=E(59030),D=E(71203),X=E(18810),V=E(983),Z=E(30017),Q=E(21413),te=E(18359),J=E(60177),q=E(96354),ne=E(25558),se=E(96697),oe=E(99172),ue=E(5964),ae=E(31397),ve=E(39974),_e=E(54360);function De(Ue){return(0,ve.N)((nt,Ve)=>{let ot=!1;nt.subscribe((0,_e._)(Ve,Mt=>{ot=!0,Ve.next(Mt)},()=>{ot||Ve.next(Ue),Ve.complete()}))})}function P(Ue=u){return(0,ve.N)((nt,Ve)=>{let ot=!1;nt.subscribe((0,_e._)(Ve,Mt=>{ot=!0,Ve.next(Mt)},()=>ot?Ve.complete():Ve.error(Ue())))})}function u(){return new N}var h=E(33669);function g(Ue,nt){const Ve=arguments.length>=2;return ot=>ot.pipe(Ue?(0,ue.p)((Mt,Vt)=>Ue(Mt,Vt,ot)):h.D,(0,se.s)(1),Ve?De(nt):P(()=>new N))}var w=E(70274),T=E(88141),C=E(99437);function d(Ue){return Ue<=0?()=>V.w:(0,ve.N)((nt,Ve)=>{let ot=[];nt.subscribe((0,_e._)(Ve,Mt=>{ot.push(Mt),Ue<ot.length&&ot.shift()},()=>{for(const Mt of ot)Ve.next(Mt);Ve.complete()},void 0,()=>{ot=null}))})}var W=E(73703),H=E(70980),ee=E(99898),fe=E(56977),Ae=E(26365),Pe=E(345);const Le="primary",be=Symbol("RouteTitle");class ge{constructor(nt){this.params=nt||{}}has(nt){return Object.prototype.hasOwnProperty.call(this.params,nt)}get(nt){if(this.has(nt)){const Ve=this.params[nt];return Array.isArray(Ve)?Ve[0]:Ve}return null}getAll(nt){if(this.has(nt)){const Ve=this.params[nt];return Array.isArray(Ve)?Ve:[Ve]}return[]}get keys(){return Object.keys(this.params)}}function Re(Ue){return new ge(Ue)}function me(Ue,nt,Ve){const ot=Ve.path.split("/");if(ot.length>Ue.length||"full"===Ve.pathMatch&&(nt.hasChildren()||ot.length<Ue.length))return null;const Mt={};for(let Vt=0;Vt<ot.length;Vt++){const rn=ot[Vt],Un=Ue[Vt];if(":"===rn[0])Mt[rn.substring(1)]=Un;else if(rn!==Un.path)return null}return{consumed:Ue.slice(0,ot.length),posParams:Mt}}function le(Ue,nt){const Ve=Ue?he(Ue):void 0,ot=nt?he(nt):void 0;if(!Ve||!ot||Ve.length!=ot.length)return!1;let Mt;for(let Vt=0;Vt<Ve.length;Vt++)if(Mt=Ve[Vt],!re(Ue[Mt],nt[Mt]))return!1;return!0}function he(Ue){return[...Object.keys(Ue),...Object.getOwnPropertySymbols(Ue)]}function re(Ue,nt){if(Array.isArray(Ue)&&Array.isArray(nt)){if(Ue.length!==nt.length)return!1;const Ve=[...Ue].sort(),ot=[...nt].sort();return Ve.every((Mt,Vt)=>ot[Vt]===Mt)}return Ue===nt}function de(Ue){return Ue.length>0?Ue[Ue.length-1]:null}function pe(Ue){return(0,S.A)(Ue)?Ue:(0,p.jNT)(Ue)?(0,O.H)(Promise.resolve(Ue)):(0,G.of)(Ue)}const Se={exact:function Tt(Ue,nt,Ve){if(!we(Ue.segments,nt.segments)||!U(Ue.segments,nt.segments,Ve)||Ue.numberOfChildren!==nt.numberOfChildren)return!1;for(const ot in nt.children)if(!Ue.children[ot]||!Tt(Ue.children[ot],nt.children[ot],Ve))return!1;return!0},subset:Ke},ke={exact:function We(Ue,nt){return le(Ue,nt)},subset:function Xe(Ue,nt){return Object.keys(nt).length<=Object.keys(Ue).length&&Object.keys(nt).every(Ve=>re(Ue[Ve],nt[Ve]))},ignored:()=>!0};function Fe(Ue,nt,Ve){return Se[Ve.paths](Ue.root,nt.root,Ve.matrixParams)&&ke[Ve.queryParams](Ue.queryParams,nt.queryParams)&&!("exact"===Ve.fragment&&Ue.fragment!==nt.fragment)}function Ke(Ue,nt,Ve){return lt(Ue,nt,nt.segments,Ve)}function lt(Ue,nt,Ve,ot){if(Ue.segments.length>Ve.length){const Mt=Ue.segments.slice(0,Ve.length);return!(!we(Mt,Ve)||nt.hasChildren()||!U(Mt,Ve,ot))}if(Ue.segments.length===Ve.length){if(!we(Ue.segments,Ve)||!U(Ue.segments,Ve,ot))return!1;for(const Mt in nt.children)if(!Ue.children[Mt]||!Ke(Ue.children[Mt],nt.children[Mt],ot))return!1;return!0}{const Mt=Ve.slice(0,Ue.segments.length),Vt=Ve.slice(Ue.segments.length);return!!(we(Ue.segments,Mt)&&U(Ue.segments,Mt,ot)&&Ue.children[Le])&&lt(Ue.children[Le],nt,Vt,ot)}}function U(Ue,nt,Ve){return nt.every((ot,Mt)=>ke[Ve](Ue[Mt].parameters,ot.parameters))}class _{constructor(nt=new m([],{}),Ve={},ot=null){this.root=nt,this.queryParams=Ve,this.fragment=ot}get queryParamMap(){return this._queryParamMap??=Re(this.queryParams),this._queryParamMap}toString(){return pt.serialize(this)}}class m{constructor(nt,Ve){this.segments=nt,this.children=Ve,this.parent=null,Object.values(Ve).forEach(ot=>ot.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Et(this)}}class F{constructor(nt,Ve){this.path=nt,this.parameters=Ve}get parameterMap(){return this._parameterMap??=Re(this.parameters),this._parameterMap}toString(){return dt(this)}}function we(Ue,nt){return Ue.length===nt.length&&Ue.every((Ve,ot)=>Ve.path===nt[ot].path)}let Qe=(()=>{class Ue{static#e=this.\u0275fac=function(ot){return new(ot||Ue)};static#t=this.\u0275prov=p.jDH({token:Ue,factory:()=>new kt,providedIn:"root"})}return Ue})();class kt{parse(nt){const Ve=new un(nt);return new _(Ve.parseRootSegment(),Ve.parseQueryParams(),Ve.parseFragment())}serialize(nt){const Ve=`/${Lt(nt.root,!0)}`,ot=function Ct(Ue){const nt=Object.entries(Ue).map(([Ve,ot])=>Array.isArray(ot)?ot.map(Mt=>`${Kt(Ve)}=${Kt(Mt)}`).join("&"):`${Kt(Ve)}=${Kt(ot)}`).filter(Ve=>Ve);return nt.length?`?${nt.join("&")}`:""}(nt.queryParams);return`${Ve}${ot}${"string"==typeof nt.fragment?`#${function er(Ue){return encodeURI(Ue)}(nt.fragment)}`:""}`}}const pt=new kt;function Et(Ue){return Ue.segments.map(nt=>dt(nt)).join("/")}function Lt(Ue,nt){if(!Ue.hasChildren())return Et(Ue);if(nt){const Ve=Ue.children[Le]?Lt(Ue.children[Le],!1):"",ot=[];return Object.entries(Ue.children).forEach(([Mt,Vt])=>{Mt!==Le&&ot.push(`${Mt}:${Lt(Vt,!1)}`)}),ot.length>0?`${Ve}(${ot.join("//")})`:Ve}{const Ve=function Ie(Ue,nt){let Ve=[];return Object.entries(Ue.children).forEach(([ot,Mt])=>{ot===Le&&(Ve=Ve.concat(nt(Mt,ot)))}),Object.entries(Ue.children).forEach(([ot,Mt])=>{ot!==Le&&(Ve=Ve.concat(nt(Mt,ot)))}),Ve}(Ue,(ot,Mt)=>Mt===Le?[Lt(Ue.children[Le],!1)]:[`${Mt}:${Lt(ot,!1)}`]);return 1===Object.keys(Ue.children).length&&null!=Ue.children[Le]?`${Et(Ue)}/${Ve[0]}`:`${Et(Ue)}/(${Ve.join("//")})`}}function qt(Ue){return encodeURIComponent(Ue).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kt(Ue){return qt(Ue).replace(/%3B/gi,";")}function cn(Ue){return qt(Ue).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ut(Ue){return decodeURIComponent(Ue)}function Nt(Ue){return Ut(Ue.replace(/\+/g,"%20"))}function dt(Ue){return`${cn(Ue.path)}${function it(Ue){return Object.entries(Ue).map(([nt,Ve])=>`;${cn(nt)}=${cn(Ve)}`).join("")}(Ue.parameters)}`}const Bt=/^[^\/()?;#]+/;function Wt(Ue){const nt=Ue.match(Bt);return nt?nt[0]:""}const Yn=/^[^\/()?;=#]+/,ut=/^[^=?&#]+/,et=/^[^&#]+/;class un{constructor(nt){this.url=nt,this.remaining=nt}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new m([],{}):new m([],this.parseChildren())}parseQueryParams(){const nt={};if(this.consumeOptional("?"))do{this.parseQueryParam(nt)}while(this.consumeOptional("&"));return nt}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const nt=[];for(this.peekStartsWith("(")||nt.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),nt.push(this.parseSegment());let Ve={};this.peekStartsWith("/(")&&(this.capture("/"),Ve=this.parseParens(!0));let ot={};return this.peekStartsWith("(")&&(ot=this.parseParens(!1)),(nt.length>0||Object.keys(Ve).length>0)&&(ot[Le]=new m(nt,Ve)),ot}parseSegment(){const nt=Wt(this.remaining);if(""===nt&&this.peekStartsWith(";"))throw new p.wOt(4009,!1);return this.capture(nt),new F(Ut(nt),this.parseMatrixParams())}parseMatrixParams(){const nt={};for(;this.consumeOptional(";");)this.parseParam(nt);return nt}parseParam(nt){const Ve=function at(Ue){const nt=Ue.match(Yn);return nt?nt[0]:""}(this.remaining);if(!Ve)return;this.capture(Ve);let ot="";if(this.consumeOptional("=")){const Mt=Wt(this.remaining);Mt&&(ot=Mt,this.capture(ot))}nt[Ut(Ve)]=Ut(ot)}parseQueryParam(nt){const Ve=function ft(Ue){const nt=Ue.match(ut);return nt?nt[0]:""}(this.remaining);if(!Ve)return;this.capture(Ve);let ot="";if(this.consumeOptional("=")){const rn=function gt(Ue){const nt=Ue.match(et);return nt?nt[0]:""}(this.remaining);rn&&(ot=rn,this.capture(ot))}const Mt=Nt(Ve),Vt=Nt(ot);if(nt.hasOwnProperty(Mt)){let rn=nt[Mt];Array.isArray(rn)||(rn=[rn],nt[Mt]=rn),rn.push(Vt)}else nt[Mt]=Vt}parseParens(nt){const Ve={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const ot=Wt(this.remaining),Mt=this.remaining[ot.length];if("/"!==Mt&&")"!==Mt&&";"!==Mt)throw new p.wOt(4010,!1);let Vt;ot.indexOf(":")>-1?(Vt=ot.slice(0,ot.indexOf(":")),this.capture(Vt),this.capture(":")):nt&&(Vt=Le);const rn=this.parseChildren();Ve[Vt]=1===Object.keys(rn).length?rn[Le]:new m([],rn),this.consumeOptional("//")}return Ve}peekStartsWith(nt){return this.remaining.startsWith(nt)}consumeOptional(nt){return!!this.peekStartsWith(nt)&&(this.remaining=this.remaining.substring(nt.length),!0)}capture(nt){if(!this.consumeOptional(nt))throw new p.wOt(4011,!1)}}function zt(Ue){return Ue.segments.length>0?new m([],{[Le]:Ue}):Ue}function tn(Ue){const nt={};for(const[ot,Mt]of Object.entries(Ue.children)){const Vt=tn(Mt);if(ot===Le&&0===Vt.segments.length&&Vt.hasChildren())for(const[rn,Un]of Object.entries(Vt.children))nt[rn]=Un;else(Vt.segments.length>0||Vt.hasChildren())&&(nt[ot]=Vt)}return function pr(Ue){if(1===Ue.numberOfChildren&&Ue.children[Le]){const nt=Ue.children[Le];return new m(Ue.segments.concat(nt.segments),nt.children)}return Ue}(new m(Ue.segments,nt))}function bn(Ue){return Ue instanceof _}function Or(Ue){let nt;const Mt=zt(function Ve(Vt){const rn={};for(const Tn of Vt.children){const Tr=Ve(Tn);rn[Tn.outlet]=Tr}const Un=new m(Vt.url,rn);return Vt===Ue&&(nt=Un),Un}(Ue.root));return nt??Mt}function Qn(Ue,nt,Ve,ot){let Mt=Ue;for(;Mt.parent;)Mt=Mt.parent;if(0===nt.length)return Vn(Mt,Mt,Mt,Ve,ot);const Vt=function qn(Ue){if("string"==typeof Ue[0]&&1===Ue.length&&"/"===Ue[0])return new ar(!0,0,Ue);let nt=0,Ve=!1;const ot=Ue.reduce((Mt,Vt,rn)=>{if("object"==typeof Vt&&null!=Vt){if(Vt.outlets){const Un={};return Object.entries(Vt.outlets).forEach(([Tn,Tr])=>{Un[Tn]="string"==typeof Tr?Tr.split("/"):Tr}),[...Mt,{outlets:Un}]}if(Vt.segmentPath)return[...Mt,Vt.segmentPath]}return"string"!=typeof Vt?[...Mt,Vt]:0===rn?(Vt.split("/").forEach((Un,Tn)=>{0==Tn&&"."===Un||(0==Tn&&""===Un?Ve=!0:".."===Un?nt++:""!=Un&&Mt.push(Un))}),Mt):[...Mt,Vt]},[]);return new ar(Ve,nt,ot)}(nt);if(Vt.toRoot())return Vn(Mt,Mt,new m([],{}),Ve,ot);const rn=function _r(Ue,nt,Ve){if(Ue.isAbsolute)return new vr(nt,!0,0);if(!Ve)return new vr(nt,!1,NaN);if(null===Ve.parent)return new vr(Ve,!0,0);const ot=jn(Ue.commands[0])?0:1;return function Er(Ue,nt,Ve){let ot=Ue,Mt=nt,Vt=Ve;for(;Vt>Mt;){if(Vt-=Mt,ot=ot.parent,!ot)throw new p.wOt(4005,!1);Mt=ot.segments.length}return new vr(ot,!1,Mt-Vt)}(Ve,Ve.segments.length-1+ot,Ue.numberOfDoubleDots)}(Vt,Mt,Ue),Un=rn.processChildren?Br(rn.segmentGroup,rn.index,Vt.commands):Rr(rn.segmentGroup,rn.index,Vt.commands);return Vn(Mt,rn.segmentGroup,Un,Ve,ot)}function jn(Ue){return"object"==typeof Ue&&null!=Ue&&!Ue.outlets&&!Ue.segmentPath}function On(Ue){return"object"==typeof Ue&&null!=Ue&&Ue.outlets}function Vn(Ue,nt,Ve,ot,Mt){let rn,Vt={};ot&&Object.entries(ot).forEach(([Tn,Tr])=>{Vt[Tn]=Array.isArray(Tr)?Tr.map(hi=>`${hi}`):`${Tr}`}),rn=Ue===nt?Ve:Hn(Ue,nt,Ve);const Un=zt(tn(rn));return new _(Un,Vt,Mt)}function Hn(Ue,nt,Ve){const ot={};return Object.entries(Ue.children).forEach(([Mt,Vt])=>{ot[Mt]=Vt===nt?Ve:Hn(Vt,nt,Ve)}),new m(Ue.segments,ot)}class ar{constructor(nt,Ve,ot){if(this.isAbsolute=nt,this.numberOfDoubleDots=Ve,this.commands=ot,nt&&ot.length>0&&jn(ot[0]))throw new p.wOt(4003,!1);const Mt=ot.find(On);if(Mt&&Mt!==de(ot))throw new p.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vr{constructor(nt,Ve,ot){this.segmentGroup=nt,this.processChildren=Ve,this.index=ot}}function Rr(Ue,nt,Ve){if(Ue??=new m([],{}),0===Ue.segments.length&&Ue.hasChildren())return Br(Ue,nt,Ve);const ot=function kr(Ue,nt,Ve){let ot=0,Mt=nt;const Vt={match:!1,pathIndex:0,commandIndex:0};for(;Mt<Ue.segments.length;){if(ot>=Ve.length)return Vt;const rn=Ue.segments[Mt],Un=Ve[ot];if(On(Un))break;const Tn=`${Un}`,Tr=ot<Ve.length-1?Ve[ot+1]:null;if(Mt>0&&void 0===Tn)break;if(Tn&&Tr&&"object"==typeof Tr&&void 0===Tr.outlets){if(!Pt(Tn,Tr,rn))return Vt;ot+=2}else{if(!Pt(Tn,{},rn))return Vt;ot++}Mt++}return{match:!0,pathIndex:Mt,commandIndex:ot}}(Ue,nt,Ve),Mt=Ve.slice(ot.commandIndex);if(ot.match&&ot.pathIndex<Ue.segments.length){const Vt=new m(Ue.segments.slice(0,ot.pathIndex),{});return Vt.children[Le]=new m(Ue.segments.slice(ot.pathIndex),Ue.children),Br(Vt,0,Mt)}return ot.match&&0===Mt.length?new m(Ue.segments,{}):ot.match&&!Ue.hasChildren()?jr(Ue,nt,Ve):ot.match?Br(Ue,0,Mt):jr(Ue,nt,Ve)}function Br(Ue,nt,Ve){if(0===Ve.length)return new m(Ue.segments,{});{const ot=function mr(Ue){return On(Ue[0])?Ue[0].outlets:{[Le]:Ue}}(Ve),Mt={};if(Object.keys(ot).some(Vt=>Vt!==Le)&&Ue.children[Le]&&1===Ue.numberOfChildren&&0===Ue.children[Le].segments.length){const Vt=Br(Ue.children[Le],nt,Ve);return new m(Ue.segments,Vt.children)}return Object.entries(ot).forEach(([Vt,rn])=>{"string"==typeof rn&&(rn=[rn]),null!==rn&&(Mt[Vt]=Rr(Ue.children[Vt],nt,rn))}),Object.entries(Ue.children).forEach(([Vt,rn])=>{void 0===ot[Vt]&&(Mt[Vt]=rn)}),new m(Ue.segments,Mt)}}function jr(Ue,nt,Ve){const ot=Ue.segments.slice(0,nt);let Mt=0;for(;Mt<Ve.length;){const Vt=Ve[Mt];if(On(Vt)){const Tn=Yr(Vt.outlets);return new m(ot,Tn)}if(0===Mt&&jn(Ve[0])){ot.push(new F(Ue.segments[nt].path,wt(Ve[0]))),Mt++;continue}const rn=On(Vt)?Vt.outlets[Le]:`${Vt}`,Un=Mt<Ve.length-1?Ve[Mt+1]:null;rn&&Un&&jn(Un)?(ot.push(new F(rn,wt(Un))),Mt+=2):(ot.push(new F(rn,{})),Mt++)}return new m(ot,{})}function Yr(Ue){const nt={};return Object.entries(Ue).forEach(([Ve,ot])=>{"string"==typeof ot&&(ot=[ot]),null!==ot&&(nt[Ve]=jr(new m([],{}),0,ot))}),nt}function wt(Ue){const nt={};return Object.entries(Ue).forEach(([Ve,ot])=>nt[Ve]=`${ot}`),nt}function Pt(Ue,nt,Ve){return Ue==Ve.path&&le(nt,Ve.parameters)}const sn="imperative";var _n=function(Ue){return Ue[Ue.NavigationStart=0]="NavigationStart",Ue[Ue.NavigationEnd=1]="NavigationEnd",Ue[Ue.NavigationCancel=2]="NavigationCancel",Ue[Ue.NavigationError=3]="NavigationError",Ue[Ue.RoutesRecognized=4]="RoutesRecognized",Ue[Ue.ResolveStart=5]="ResolveStart",Ue[Ue.ResolveEnd=6]="ResolveEnd",Ue[Ue.GuardsCheckStart=7]="GuardsCheckStart",Ue[Ue.GuardsCheckEnd=8]="GuardsCheckEnd",Ue[Ue.RouteConfigLoadStart=9]="RouteConfigLoadStart",Ue[Ue.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",Ue[Ue.ChildActivationStart=11]="ChildActivationStart",Ue[Ue.ChildActivationEnd=12]="ChildActivationEnd",Ue[Ue.ActivationStart=13]="ActivationStart",Ue[Ue.ActivationEnd=14]="ActivationEnd",Ue[Ue.Scroll=15]="Scroll",Ue[Ue.NavigationSkipped=16]="NavigationSkipped",Ue}(_n||{});class $n{constructor(nt,Ve){this.id=nt,this.url=Ve}}class sr extends $n{constructor(nt,Ve,ot="imperative",Mt=null){super(nt,Ve),this.type=_n.NavigationStart,this.navigationTrigger=ot,this.restoredState=Mt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ir extends $n{constructor(nt,Ve,ot){super(nt,Ve),this.urlAfterRedirects=ot,this.type=_n.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ar=function(Ue){return Ue[Ue.Redirect=0]="Redirect",Ue[Ue.SupersededByNewNavigation=1]="SupersededByNewNavigation",Ue[Ue.NoDataFromResolver=2]="NoDataFromResolver",Ue[Ue.GuardRejected=3]="GuardRejected",Ue}(Ar||{}),hr=function(Ue){return Ue[Ue.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",Ue[Ue.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",Ue}(hr||{});class Fi extends $n{constructor(nt,Ve,ot,Mt){super(nt,Ve),this.reason=ot,this.code=Mt,this.type=_n.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _o extends $n{constructor(nt,Ve,ot,Mt){super(nt,Ve),this.reason=ot,this.code=Mt,this.type=_n.NavigationSkipped}}class Ci extends $n{constructor(nt,Ve,ot,Mt){super(nt,Ve),this.error=ot,this.target=Mt,this.type=_n.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fi extends $n{constructor(nt,Ve,ot,Mt){super(nt,Ve),this.urlAfterRedirects=ot,this.state=Mt,this.type=_n.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class so extends $n{constructor(nt,Ve,ot,Mt){super(nt,Ve),this.urlAfterRedirects=ot,this.state=Mt,this.type=_n.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ei extends $n{constructor(nt,Ve,ot,Mt,Vt){super(nt,Ve),this.urlAfterRedirects=ot,this.state=Mt,this.shouldActivate=Vt,this.type=_n.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yi extends $n{constructor(nt,Ve,ot,Mt){super(nt,Ve),this.urlAfterRedirects=ot,this.state=Mt,this.type=_n.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wi extends $n{constructor(nt,Ve,ot,Mt){super(nt,Ve),this.urlAfterRedirects=ot,this.state=Mt,this.type=_n.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ro{constructor(nt){this.route=nt,this.type=_n.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gs{constructor(nt){this.route=nt,this.type=_n.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ui{constructor(nt){this.snapshot=nt,this.type=_n.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mo{constructor(nt){this.snapshot=nt,this.type=_n.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qo{constructor(nt){this.snapshot=nt,this.type=_n.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class br{constructor(nt){this.snapshot=nt,this.type=_n.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ms{constructor(nt,Ve,ot){this.routerEvent=nt,this.position=Ve,this.anchor=ot,this.type=_n.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class an{}class Kn{constructor(nt,Ve){this.url=nt,this.navigationBehaviorOptions=Ve}}function ps(Ue){return Ue.outlet||Le}function ca(Ue){if(!Ue)return null;if(Ue.routeConfig?._injector)return Ue.routeConfig._injector;for(let nt=Ue.parent;nt;nt=nt.parent){const Ve=nt.routeConfig;if(Ve?._loadedInjector)return Ve._loadedInjector;if(Ve?._injector)return Ve._injector}return null}class Ed{get injector(){return ca(this.route?.snapshot)??this.rootInjector}set injector(nt){}constructor(nt){this.rootInjector=nt,this.outlet=null,this.route=null,this.children=new tu(this.rootInjector),this.attachRef=null}}let tu=(()=>{class Ue{constructor(Ve){this.rootInjector=Ve,this.contexts=new Map}onChildOutletCreated(Ve,ot){const Mt=this.getOrCreateContext(Ve);Mt.outlet=ot,this.contexts.set(Ve,Mt)}onChildOutletDestroyed(Ve){const ot=this.getContext(Ve);ot&&(ot.outlet=null,ot.attachRef=null)}onOutletDeactivated(){const Ve=this.contexts;return this.contexts=new Map,Ve}onOutletReAttached(Ve){this.contexts=Ve}getOrCreateContext(Ve){let ot=this.getContext(Ve);return ot||(ot=new Ed(this.rootInjector),this.contexts.set(Ve,ot)),ot}getContext(Ve){return this.contexts.get(Ve)||null}static#e=this.\u0275fac=function(ot){return new(ot||Ue)(p.KVO(p.uvJ))};static#t=this.\u0275prov=p.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();class Ea{constructor(nt){this._root=nt}get root(){return this._root.value}parent(nt){const Ve=this.pathFromRoot(nt);return Ve.length>1?Ve[Ve.length-2]:null}children(nt){const Ve=bl(nt,this._root);return Ve?Ve.children.map(ot=>ot.value):[]}firstChild(nt){const Ve=bl(nt,this._root);return Ve&&Ve.children.length>0?Ve.children[0].value:null}siblings(nt){const Ve=zl(nt,this._root);return Ve.length<2?[]:Ve[Ve.length-2].children.map(Mt=>Mt.value).filter(Mt=>Mt!==nt)}pathFromRoot(nt){return zl(nt,this._root).map(Ve=>Ve.value)}}function bl(Ue,nt){if(Ue===nt.value)return nt;for(const Ve of nt.children){const ot=bl(Ue,Ve);if(ot)return ot}return null}function zl(Ue,nt){if(Ue===nt.value)return[nt];for(const Ve of nt.children){const ot=zl(Ue,Ve);if(ot.length)return ot.unshift(nt),ot}return[]}class xa{constructor(nt,Ve){this.value=nt,this.children=Ve}toString(){return`TreeNode(${this.value})`}}function Wa(Ue){const nt={};return Ue&&Ue.children.forEach(Ve=>nt[Ve.value.outlet]=Ve),nt}class Hl extends Ea{constructor(nt,Ve){super(nt),this.snapshot=Ve,Zs(this,nt)}toString(){return this.snapshot.toString()}}function Hu(Ue){const nt=function ya(Ue){const Vt=new Af([],{},{},"",{},Le,Ue,null,{});return new Tf("",new xa(Vt,[]))}(Ue),Ve=new x.t([new F("",{})]),ot=new x.t({}),Mt=new x.t({}),Vt=new x.t({}),rn=new x.t(""),Un=new gc(Ve,ot,Vt,rn,Mt,Le,Ue,nt.root);return Un.snapshot=nt.root,new Hl(new xa(Un,[]),nt)}class gc{constructor(nt,Ve,ot,Mt,Vt,rn,Un,Tn){this.urlSubject=nt,this.paramsSubject=Ve,this.queryParamsSubject=ot,this.fragmentSubject=Mt,this.dataSubject=Vt,this.outlet=rn,this.component=Un,this._futureSnapshot=Tn,this.title=this.dataSubject?.pipe((0,q.T)(Tr=>Tr[be]))??(0,G.of)(void 0),this.url=nt,this.params=Ve,this.queryParams=ot,this.fragment=Mt,this.data=Vt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,q.T)(nt=>Re(nt))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,q.T)(nt=>Re(nt))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wl(Ue,nt,Ve="emptyOnly"){let ot;const{routeConfig:Mt}=Ue;return ot=null===nt||"always"!==Ve&&""!==Mt?.path&&(nt.component||nt.routeConfig?.loadComponent)?{params:{...Ue.params},data:{...Ue.data},resolve:{...Ue.data,...Ue._resolvedData??{}}}:{params:{...nt.params,...Ue.params},data:{...nt.data,...Ue.data},resolve:{...Ue.data,...nt.data,...Mt?.data,...Ue._resolvedData}},Mt&&wl(Mt)&&(ot.resolve[be]=Mt.title),ot}class Af{get title(){return this.data?.[be]}constructor(nt,Ve,ot,Mt,Vt,rn,Un,Tn,Tr){this.url=nt,this.params=Ve,this.queryParams=ot,this.fragment=Mt,this.data=Vt,this.outlet=rn,this.component=Un,this.routeConfig=Tn,this._resolve=Tr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Re(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Re(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(ot=>ot.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Tf extends Ea{constructor(nt,Ve){super(Ve),this.url=nt,Zs(this,Ve)}toString(){return xd(this._root)}}function Zs(Ue,nt){nt.value._routerState=Ue,nt.children.forEach(Ve=>Zs(Ue,Ve))}function xd(Ue){const nt=Ue.children.length>0?` { ${Ue.children.map(xd).join(", ")} } `:"";return`${Ue.value}${nt}`}function Wu(Ue){if(Ue.snapshot){const nt=Ue.snapshot,Ve=Ue._futureSnapshot;Ue.snapshot=Ve,le(nt.queryParams,Ve.queryParams)||Ue.queryParamsSubject.next(Ve.queryParams),nt.fragment!==Ve.fragment&&Ue.fragmentSubject.next(Ve.fragment),le(nt.params,Ve.params)||Ue.paramsSubject.next(Ve.params),function xe(Ue,nt){if(Ue.length!==nt.length)return!1;for(let Ve=0;Ve<Ue.length;++Ve)if(!le(Ue[Ve],nt[Ve]))return!1;return!0}(nt.url,Ve.url)||Ue.urlSubject.next(Ve.url),le(nt.data,Ve.data)||Ue.dataSubject.next(Ve.data)}else Ue.snapshot=Ue._futureSnapshot,Ue.dataSubject.next(Ue._futureSnapshot.data)}function uh(Ue,nt){const Ve=le(Ue.params,nt.params)&&function ie(Ue,nt){return we(Ue,nt)&&Ue.every((Ve,ot)=>le(Ve.parameters,nt[ot].parameters))}(Ue.url,nt.url);return Ve&&!(!Ue.parent!=!nt.parent)&&(!Ue.parent||uh(Ue.parent,nt.parent))}function wl(Ue){return"string"==typeof Ue.title||null===Ue.title}let _l=(()=>{class Ue{constructor(){this.activated=null,this._activatedRoute=null,this.name=Le,this.activateEvents=new p.bkB,this.deactivateEvents=new p.bkB,this.attachEvents=new p.bkB,this.detachEvents=new p.bkB,this.parentContexts=(0,p.WQX)(tu),this.location=(0,p.WQX)(p.c1b),this.changeDetector=(0,p.WQX)(p.gRc),this.inputBinder=(0,p.WQX)(xr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(Ve){if(Ve.name){const{firstChange:ot,previousValue:Mt}=Ve.name;if(ot)return;this.isTrackedInParentContexts(Mt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Mt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(Ve){return this.parentContexts.getContext(Ve)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const Ve=this.parentContexts.getContext(this.name);Ve?.route&&(Ve.attachRef?this.attach(Ve.attachRef,Ve.route):this.activateWith(Ve.route,Ve.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.wOt(4012,!1);this.location.detach();const Ve=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Ve.instance),Ve}attach(Ve,ot){this.activated=Ve,this._activatedRoute=ot,this.location.insert(Ve.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(Ve.instance)}deactivate(){if(this.activated){const Ve=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Ve)}}activateWith(Ve,ot){if(this.isActivated)throw new p.wOt(4013,!1);this._activatedRoute=Ve;const Mt=this.location,rn=Ve.snapshot.component,Un=this.parentContexts.getOrCreateContext(this.name).children,Tn=new El(Ve,Un,Mt.injector);this.activated=Mt.createComponent(rn,{index:Mt.length,injector:Tn,environmentInjector:ot}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(ot){return new(ot||Ue)};static#t=this.\u0275dir=p.FsC({type:Ue,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.OA$]})}return Ue})();class El{__ngOutletInjector(nt){return new El(this.route,this.childContexts,nt)}constructor(nt,Ve,ot){this.route=nt,this.childContexts=Ve,this.parent=ot}get(nt,Ve){return nt===gc?this.route:nt===tu?this.childContexts:this.parent.get(nt,Ve)}}const xr=new p.nKC("");let $o=(()=>{class Ue{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(Ve){this.unsubscribeFromRouteData(Ve),this.subscribeToRouteData(Ve)}unsubscribeFromRouteData(Ve){this.outletDataSubscriptions.get(Ve)?.unsubscribe(),this.outletDataSubscriptions.delete(Ve)}subscribeToRouteData(Ve){const{activatedRoute:ot}=Ve,Mt=(0,B.z)([ot.queryParams,ot.params,ot.data]).pipe((0,ne.n)(([Vt,rn,Un],Tn)=>(Un={...Vt,...rn,...Un},0===Tn?(0,G.of)(Un):Promise.resolve(Un)))).subscribe(Vt=>{if(!Ve.isActivated||!Ve.activatedComponentRef||Ve.activatedRoute!==ot||null===ot.component)return void this.unsubscribeFromRouteData(Ve);const rn=(0,p.HJs)(ot.component);if(rn)for(const{templateName:Un}of rn.inputs)Ve.activatedComponentRef.setInput(Un,Vt[Un]);else this.unsubscribeFromRouteData(Ve)});this.outletDataSubscriptions.set(Ve,Mt)}static#e=this.\u0275fac=function(ot){return new(ot||Ue)};static#t=this.\u0275prov=p.jDH({token:Ue,factory:Ue.\u0275fac})}return Ue})();function os(Ue,nt,Ve){if(Ve&&Ue.shouldReuseRoute(nt.value,Ve.value.snapshot)){const ot=Ve.value;ot._futureSnapshot=nt.value;const Mt=function Ga(Ue,nt,Ve){return nt.children.map(ot=>{for(const Mt of Ve.children)if(Ue.shouldReuseRoute(ot.value,Mt.value.snapshot))return os(Ue,ot,Mt);return os(Ue,ot)})}(Ue,nt,Ve);return new xa(ot,Mt)}{if(Ue.shouldAttach(nt.value)){const Vt=Ue.retrieve(nt.value);if(null!==Vt){const rn=Vt.route;return rn.value._futureSnapshot=nt.value,rn.children=nt.children.map(Un=>os(Ue,Un)),rn}}const ot=function ys(Ue){return new gc(new x.t(Ue.url),new x.t(Ue.params),new x.t(Ue.queryParams),new x.t(Ue.fragment),new x.t(Ue.data),Ue.outlet,Ue.component,Ue)}(nt.value),Mt=nt.children.map(Vt=>os(Ue,Vt));return new xa(ot,Mt)}}class nu{constructor(nt,Ve){this.redirectTo=nt,this.navigationBehaviorOptions=Ve}}const Vo="ngNavigationCancelingError";function Ba(Ue,nt){const{redirectTo:Ve,navigationBehaviorOptions:ot}=bn(nt)?{redirectTo:nt,navigationBehaviorOptions:void 0}:nt,Mt=Zc(!1,Ar.Redirect);return Mt.url=Ve,Mt.navigationBehaviorOptions=ot,Mt}function Zc(Ue,nt){const Ve=new Error(`NavigationCancelingError: ${Ue||""}`);return Ve[Vo]=!0,Ve.cancellationCode=nt,Ve}function ga(Ue){return!!Ue&&Ue[Vo]}class Eu{constructor(nt,Ve,ot,Mt,Vt){this.routeReuseStrategy=nt,this.futureState=Ve,this.currState=ot,this.forwardEvent=Mt,this.inputBindingEnabled=Vt}activate(nt){const Ve=this.futureState._root,ot=this.currState?this.currState._root:null;this.deactivateChildRoutes(Ve,ot,nt),Wu(this.futureState.root),this.activateChildRoutes(Ve,ot,nt)}deactivateChildRoutes(nt,Ve,ot){const Mt=Wa(Ve);nt.children.forEach(Vt=>{const rn=Vt.value.outlet;this.deactivateRoutes(Vt,Mt[rn],ot),delete Mt[rn]}),Object.values(Mt).forEach(Vt=>{this.deactivateRouteAndItsChildren(Vt,ot)})}deactivateRoutes(nt,Ve,ot){const Mt=nt.value,Vt=Ve?Ve.value:null;if(Mt===Vt)if(Mt.component){const rn=ot.getContext(Mt.outlet);rn&&this.deactivateChildRoutes(nt,Ve,rn.children)}else this.deactivateChildRoutes(nt,Ve,ot);else Vt&&this.deactivateRouteAndItsChildren(Ve,ot)}deactivateRouteAndItsChildren(nt,Ve){nt.value.component&&this.routeReuseStrategy.shouldDetach(nt.value.snapshot)?this.detachAndStoreRouteSubtree(nt,Ve):this.deactivateRouteAndOutlet(nt,Ve)}detachAndStoreRouteSubtree(nt,Ve){const ot=Ve.getContext(nt.value.outlet),Mt=ot&&nt.value.component?ot.children:Ve,Vt=Wa(nt);for(const rn of Object.values(Vt))this.deactivateRouteAndItsChildren(rn,Mt);if(ot&&ot.outlet){const rn=ot.outlet.detach(),Un=ot.children.onOutletDeactivated();this.routeReuseStrategy.store(nt.value.snapshot,{componentRef:rn,route:nt,contexts:Un})}}deactivateRouteAndOutlet(nt,Ve){const ot=Ve.getContext(nt.value.outlet),Mt=ot&&nt.value.component?ot.children:Ve,Vt=Wa(nt);for(const rn of Object.values(Vt))this.deactivateRouteAndItsChildren(rn,Mt);ot&&(ot.outlet&&(ot.outlet.deactivate(),ot.children.onOutletDeactivated()),ot.attachRef=null,ot.route=null)}activateChildRoutes(nt,Ve,ot){const Mt=Wa(Ve);nt.children.forEach(Vt=>{this.activateRoutes(Vt,Mt[Vt.value.outlet],ot),this.forwardEvent(new br(Vt.value.snapshot))}),nt.children.length&&this.forwardEvent(new mo(nt.value.snapshot))}activateRoutes(nt,Ve,ot){const Mt=nt.value,Vt=Ve?Ve.value:null;if(Wu(Mt),Mt===Vt)if(Mt.component){const rn=ot.getOrCreateContext(Mt.outlet);this.activateChildRoutes(nt,Ve,rn.children)}else this.activateChildRoutes(nt,Ve,ot);else if(Mt.component){const rn=ot.getOrCreateContext(Mt.outlet);if(this.routeReuseStrategy.shouldAttach(Mt.snapshot)){const Un=this.routeReuseStrategy.retrieve(Mt.snapshot);this.routeReuseStrategy.store(Mt.snapshot,null),rn.children.onOutletReAttached(Un.contexts),rn.attachRef=Un.componentRef,rn.route=Un.route.value,rn.outlet&&rn.outlet.attach(Un.componentRef,Un.route.value),Wu(Un.route.value),this.activateChildRoutes(nt,null,rn.children)}else rn.attachRef=null,rn.route=Mt,rn.outlet&&rn.outlet.activateWith(Mt,rn.injector),this.activateChildRoutes(nt,null,rn.children)}else this.activateChildRoutes(nt,null,ot)}}class ss{constructor(nt){this.path=nt,this.route=this.path[this.path.length-1]}}class Za{constructor(nt,Ve){this.component=nt,this.route=Ve}}function fh(Ue,nt,Ve){const ot=Ue._root;return gs(ot,nt?nt._root:null,Ve,[ot.value])}function Gu(Ue,nt){const Ve=Symbol(),ot=nt.get(Ue,Ve);return ot===Ve?"function"!=typeof Ue||(0,p.LfX)(Ue)?nt.get(Ue):Ue:ot}function gs(Ue,nt,Ve,ot,Mt={canDeactivateChecks:[],canActivateChecks:[]}){const Vt=Wa(nt);return Ue.children.forEach(rn=>{(function tm(Ue,nt,Ve,ot,Mt={canDeactivateChecks:[],canActivateChecks:[]}){const Vt=Ue.value,rn=nt?nt.value:null,Un=Ve?Ve.getContext(Ue.value.outlet):null;if(rn&&Vt.routeConfig===rn.routeConfig){const Tn=function nm(Ue,nt,Ve){if("function"==typeof Ve)return Ve(Ue,nt);switch(Ve){case"pathParamsChange":return!we(Ue.url,nt.url);case"pathParamsOrQueryParamsChange":return!we(Ue.url,nt.url)||!le(Ue.queryParams,nt.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uh(Ue,nt)||!le(Ue.queryParams,nt.queryParams);default:return!uh(Ue,nt)}}(rn,Vt,Vt.routeConfig.runGuardsAndResolvers);Tn?Mt.canActivateChecks.push(new ss(ot)):(Vt.data=rn.data,Vt._resolvedData=rn._resolvedData),gs(Ue,nt,Vt.component?Un?Un.children:null:Ve,ot,Mt),Tn&&Un&&Un.outlet&&Un.outlet.isActivated&&Mt.canDeactivateChecks.push(new Za(Un.outlet.component,rn))}else rn&&ru(nt,Un,Mt),Mt.canActivateChecks.push(new ss(ot)),gs(Ue,null,Vt.component?Un?Un.children:null:Ve,ot,Mt)})(rn,Vt[rn.value.outlet],Ve,ot.concat([rn.value]),Mt),delete Vt[rn.value.outlet]}),Object.entries(Vt).forEach(([rn,Un])=>ru(Un,Ve.getContext(rn),Mt)),Mt}function ru(Ue,nt,Ve){const ot=Wa(Ue),Mt=Ue.value;Object.entries(ot).forEach(([Vt,rn])=>{ru(rn,Mt.component?nt?nt.children.getContext(Vt):null:nt,Ve)}),Ve.canDeactivateChecks.push(new Za(Mt.component&&nt&&nt.outlet&&nt.outlet.isActivated?nt.outlet.component:null,Mt))}function xl(Ue){return"function"==typeof Ue}function bc(Ue){return Ue instanceof N||"EmptyError"===Ue?.name}const iu=Symbol("INITIAL_VALUE");function bt(){return(0,ne.n)(Ue=>(0,B.z)(Ue.map(nt=>nt.pipe((0,se.s)(1),(0,oe.Z)(iu)))).pipe((0,q.T)(nt=>{for(const Ve of nt)if(!0!==Ve){if(Ve===iu)return iu;if(!1===Ve||St(Ve))return Ve}return!0}),(0,ue.p)(nt=>nt!==iu),(0,se.s)(1)))}function St(Ue){return bn(Ue)||Ue instanceof nu}function k0(Ue){return(0,D.F)((0,T.M)(nt=>{if("boolean"!=typeof nt)throw Ba(0,nt)}),(0,q.T)(nt=>!0===nt))}class Gl{constructor(nt){this.segmentGroup=nt||null}}class Do extends Error{constructor(nt){super(),this.urlTree=nt}}function Zl(Ue){return(0,X.$)(new Gl(Ue))}class ph{constructor(nt,Ve){this.urlSerializer=nt,this.urlTree=Ve}lineralizeSegments(nt,Ve){let ot=[],Mt=Ve.root;for(;;){if(ot=ot.concat(Mt.segments),0===Mt.numberOfChildren)return(0,G.of)(ot);if(Mt.numberOfChildren>1||!Mt.children[Le])return(0,X.$)(new p.wOt(4e3,!1));Mt=Mt.children[Le]}}applyRedirectCommands(nt,Ve,ot,Mt,Vt){if("string"!=typeof Ve){const Un=Ve,{queryParams:Tn,fragment:Tr,routeConfig:hi,url:Oi,outlet:Gr,params:es,data:ao,title:Tl}=Mt,Ts=(0,p.N4e)(Vt,()=>Un({params:es,data:ao,queryParams:Tn,fragment:Tr,routeConfig:hi,url:Oi,outlet:Gr,title:Tl}));if(Ts instanceof _)throw new Do(Ts);Ve=Ts}const rn=this.applyRedirectCreateUrlTree(Ve,this.urlSerializer.parse(Ve),nt,ot);if("/"===Ve[0])throw new Do(rn);return rn}applyRedirectCreateUrlTree(nt,Ve,ot,Mt){const Vt=this.createSegmentGroup(nt,Ve.root,ot,Mt);return new _(Vt,this.createQueryParams(Ve.queryParams,this.urlTree.queryParams),Ve.fragment)}createQueryParams(nt,Ve){const ot={};return Object.entries(nt).forEach(([Mt,Vt])=>{if("string"==typeof Vt&&":"===Vt[0]){const Un=Vt.substring(1);ot[Mt]=Ve[Un]}else ot[Mt]=Vt}),ot}createSegmentGroup(nt,Ve,ot,Mt){const Vt=this.createSegments(nt,Ve.segments,ot,Mt);let rn={};return Object.entries(Ve.children).forEach(([Un,Tn])=>{rn[Un]=this.createSegmentGroup(nt,Tn,ot,Mt)}),new m(Vt,rn)}createSegments(nt,Ve,ot,Mt){return Ve.map(Vt=>":"===Vt.path[0]?this.findPosParam(nt,Vt,Mt):this.findOrReturn(Vt,ot))}findPosParam(nt,Ve,ot){const Mt=ot[Ve.path.substring(1)];if(!Mt)throw new p.wOt(4001,!1);return Mt}findOrReturn(nt,Ve){let ot=0;for(const Mt of Ve){if(Mt.path===nt.path)return Ve.splice(ot),Mt;ot++}return nt}}const Yl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yc(Ue,nt,Ve,ot,Mt){const Vt=yp(Ue,nt,Ve);return Vt.matched?(ot=function wn(Ue,nt){return Ue.providers&&!Ue._injector&&(Ue._injector=(0,p.Ol2)(Ue.providers,nt,`Route: ${Ue.path}`)),Ue._injector??nt}(nt,ot),function Df(Ue,nt,Ve,ot){const Mt=nt.canMatch;if(!Mt||0===Mt.length)return(0,G.of)(!0);const Vt=Mt.map(rn=>{const Un=Gu(rn,Ue);return pe(function pp(Ue){return Ue&&xl(Ue.canMatch)}(Un)?Un.canMatch(nt,Ve):(0,p.N4e)(Ue,()=>Un(nt,Ve)))});return(0,G.of)(Vt).pipe(bt(),k0())}(ot,nt,Ve).pipe((0,q.T)(rn=>!0===rn?Vt:{...Yl}))):(0,G.of)(Vt)}function yp(Ue,nt,Ve){if("**"===nt.path)return function gp(Ue){return{matched:!0,parameters:Ue.length>0?de(Ue).parameters:{},consumedSegments:Ue,remainingSegments:[],positionalParamSegments:{}}}(Ve);if(""===nt.path)return"full"===nt.pathMatch&&(Ue.hasChildren()||Ve.length>0)?{...Yl}:{matched:!0,consumedSegments:[],remainingSegments:Ve,parameters:{},positionalParamSegments:{}};const Mt=(nt.matcher||me)(Ve,Ue,nt);if(!Mt)return{...Yl};const Vt={};Object.entries(Mt.posParams??{}).forEach(([Un,Tn])=>{Vt[Un]=Tn.path});const rn=Mt.consumed.length>0?{...Vt,...Mt.consumed[Mt.consumed.length-1].parameters}:Vt;return{matched:!0,consumedSegments:Mt.consumed,remainingSegments:Ve.slice(Mt.consumed.length),parameters:rn,positionalParamSegments:Mt.posParams??{}}}function su(Ue,nt,Ve,ot){return Ve.length>0&&function Yu(Ue,nt,Ve){return Ve.some(ot=>Fs(Ue,nt,ot)&&ps(ot)!==Le)}(Ue,Ve,ot)?{segmentGroup:new m(nt,ki(ot,new m(Ve,Ue.children))),slicedSegments:[]}:0===Ve.length&&function vp(Ue,nt,Ve){return Ve.some(ot=>Fs(Ue,nt,ot))}(Ue,Ve,ot)?{segmentGroup:new m(Ue.segments,P0(Ue,Ve,ot,Ue.children)),slicedSegments:Ve}:{segmentGroup:new m(Ue.segments,Ue.children),slicedSegments:Ve}}function P0(Ue,nt,Ve,ot){const Mt={};for(const Vt of Ve)if(Fs(Ue,nt,Vt)&&!ot[ps(Vt)]){const rn=new m([],{});Mt[ps(Vt)]=rn}return{...ot,...Mt}}function ki(Ue,nt){const Ve={};Ve[Le]=nt;for(const ot of Ue)if(""===ot.path&&ps(ot)!==Le){const Mt=new m([],{});Ve[ps(ot)]=Mt}return Ve}function Fs(Ue,nt,Ve){return(!(Ue.hasChildren()||nt.length>0)||"full"!==Ve.pathMatch)&&""===Ve.path}class R0{}class L1{constructor(nt,Ve,ot,Mt,Vt,rn,Un){this.injector=nt,this.configLoader=Ve,this.rootComponentType=ot,this.config=Mt,this.urlTree=Vt,this.paramsInheritanceStrategy=rn,this.urlSerializer=Un,this.applyRedirects=new ph(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(nt){return new p.wOt(4002,`'${nt.segmentGroup}'`)}recognize(){const nt=su(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(nt).pipe((0,q.T)(({children:Ve,rootSnapshot:ot})=>{const Mt=new xa(ot,Ve),Vt=new Tf("",Mt),rn=function vn(Ue,nt,Ve=null,ot=null){return Qn(Or(Ue),nt,Ve,ot)}(ot,[],this.urlTree.queryParams,this.urlTree.fragment);return rn.queryParams=this.urlTree.queryParams,Vt.url=this.urlSerializer.serialize(rn),{state:Vt,tree:rn}}))}match(nt){const Ve=new Af([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Le,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,nt,Le,Ve).pipe((0,q.T)(ot=>({children:ot,rootSnapshot:Ve})),(0,C.W)(ot=>{if(ot instanceof Do)return this.urlTree=ot.urlTree,this.match(ot.urlTree.root);throw ot instanceof Gl?this.noMatchError(ot):ot}))}processSegmentGroup(nt,Ve,ot,Mt,Vt){return 0===ot.segments.length&&ot.hasChildren()?this.processChildren(nt,Ve,ot,Vt):this.processSegment(nt,Ve,ot,ot.segments,Mt,!0,Vt).pipe((0,q.T)(rn=>rn instanceof xa?[rn]:[]))}processChildren(nt,Ve,ot,Mt){const Vt=[];for(const rn of Object.keys(ot.children))"primary"===rn?Vt.unshift(rn):Vt.push(rn);return(0,O.H)(Vt).pipe((0,w.H)(rn=>{const Un=ot.children[rn],Tn=function Gc(Ue,nt){const Ve=Ue.filter(ot=>ps(ot)===nt);return Ve.push(...Ue.filter(ot=>ps(ot)!==nt)),Ve}(Ve,rn);return this.processSegmentGroup(nt,Tn,Un,rn,Mt)}),function M(Ue,nt){return(0,ve.N)(function j(Ue,nt,Ve,ot,Mt){return(Vt,rn)=>{let Un=Ve,Tn=nt,Tr=0;Vt.subscribe((0,_e._)(rn,hi=>{const Oi=Tr++;Tn=Un?Ue(Tn,hi,Oi):(Un=!0,hi),ot&&rn.next(Tn)},Mt&&(()=>{Un&&rn.next(Tn),rn.complete()})))}}(Ue,nt,arguments.length>=2,!0))}((rn,Un)=>(rn.push(...Un),rn)),De(null),function v(Ue,nt){const Ve=arguments.length>=2;return ot=>ot.pipe(Ue?(0,ue.p)((Mt,Vt)=>Ue(Mt,Vt,ot)):h.D,d(1),Ve?De(nt):P(()=>new N))}(),(0,ae.Z)(rn=>{if(null===rn)return Zl(ot);const Un=Sa(rn);return function rm(Ue){Ue.sort((nt,Ve)=>nt.value.outlet===Le?-1:Ve.value.outlet===Le?1:nt.value.outlet.localeCompare(Ve.value.outlet))}(Un),(0,G.of)(Un)}))}processSegment(nt,Ve,ot,Mt,Vt,rn,Un){return(0,O.H)(Ve).pipe((0,w.H)(Tn=>this.processSegmentAgainstRoute(Tn._injector??nt,Ve,Tn,ot,Mt,Vt,rn,Un).pipe((0,C.W)(Tr=>{if(Tr instanceof Gl)return(0,G.of)(null);throw Tr}))),g(Tn=>!!Tn),(0,C.W)(Tn=>{if(bc(Tn))return function N1(Ue,nt,Ve){return 0===nt.length&&!Ue.children[Ve]}(ot,Mt,Vt)?(0,G.of)(new R0):Zl(ot);throw Tn}))}processSegmentAgainstRoute(nt,Ve,ot,Mt,Vt,rn,Un,Tn){return function mh(Ue,nt,Ve,ot){return!!(ps(Ue)===ot||ot!==Le&&Fs(nt,Ve,Ue))&&yp(nt,Ue,Ve).matched}(ot,Mt,Vt,rn)?void 0===ot.redirectTo?this.matchSegmentAgainstRoute(nt,Mt,ot,Vt,rn,Tn):this.allowRedirects&&Un?this.expandSegmentAgainstRouteUsingRedirect(nt,Mt,Ve,ot,Vt,rn,Tn):Zl(Mt):Zl(Mt)}expandSegmentAgainstRouteUsingRedirect(nt,Ve,ot,Mt,Vt,rn,Un){const{matched:Tn,parameters:Tr,consumedSegments:hi,positionalParamSegments:Oi,remainingSegments:Gr}=yp(Ve,Mt,Vt);if(!Tn)return Zl(Ve);"string"==typeof Mt.redirectTo&&"/"===Mt.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const es=new Af(Vt,Tr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,im(Mt),ps(Mt),Mt.component??Mt._loadedComponent??null,Mt,om(Mt)),ao=Wl(es,Un,this.paramsInheritanceStrategy);es.params=Object.freeze(ao.params),es.data=Object.freeze(ao.data);const Tl=this.applyRedirects.applyRedirectCommands(hi,Mt.redirectTo,Oi,es,nt);return this.applyRedirects.lineralizeSegments(Mt,Tl).pipe((0,ae.Z)(Ts=>this.processSegment(nt,ot,Ve,Ts.concat(Gr),rn,!1,Un)))}matchSegmentAgainstRoute(nt,Ve,ot,Mt,Vt,rn){const Un=Yc(Ve,ot,Mt,nt);return"**"===ot.path&&(Ve.children={}),Un.pipe((0,ne.n)(Tn=>Tn.matched?this.getChildConfig(nt=ot._injector??nt,ot,Mt).pipe((0,ne.n)(({routes:Tr})=>{const hi=ot._loadedInjector??nt,{parameters:Oi,consumedSegments:Gr,remainingSegments:es}=Tn,ao=new Af(Gr,Oi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,im(ot),ps(ot),ot.component??ot._loadedComponent??null,ot,om(ot)),Tl=Wl(ao,rn,this.paramsInheritanceStrategy);ao.params=Object.freeze(Tl.params),ao.data=Object.freeze(Tl.data);const{segmentGroup:Ts,slicedSegments:U0}=su(Ve,Gr,es,Tr);if(0===U0.length&&Ts.hasChildren())return this.processChildren(hi,Tr,Ts,ao).pipe((0,q.T)(lm=>new xa(ao,lm)));if(0===Tr.length&&0===U0.length)return(0,G.of)(new xa(ao,[]));const wS=ps(ot)===Vt;return this.processSegment(hi,Tr,Ts,U0,wS?Le:Vt,!0,ao).pipe((0,q.T)(lm=>new xa(ao,lm instanceof xa?[lm]:[])))})):Zl(Ve)))}getChildConfig(nt,Ve,ot){return Ve.children?(0,G.of)({routes:Ve.children,injector:nt}):Ve.loadChildren?void 0!==Ve._loadedRoutes?(0,G.of)({routes:Ve._loadedRoutes,injector:Ve._loadedInjector}):function Sd(Ue,nt,Ve,ot){const Mt=nt.canLoad;if(void 0===Mt||0===Mt.length)return(0,G.of)(!0);const Vt=Mt.map(rn=>{const Un=Gu(rn,Ue);return pe(function Ya(Ue){return Ue&&xl(Ue.canLoad)}(Un)?Un.canLoad(nt,Ve):(0,p.N4e)(Ue,()=>Un(nt,Ve)))});return(0,G.of)(Vt).pipe(bt(),k0())}(nt,Ve,ot).pipe((0,ae.Z)(Mt=>Mt?this.configLoader.loadChildren(nt,Ve).pipe((0,T.M)(Vt=>{Ve._loadedRoutes=Vt.routes,Ve._loadedInjector=Vt.injector})):function Ab(Ue){return(0,X.$)(Zc(!1,Ar.GuardRejected))}())):(0,G.of)({routes:[],injector:nt})}}function yh(Ue){const nt=Ue.value.routeConfig;return nt&&""===nt.path}function Sa(Ue){const nt=[],Ve=new Set;for(const ot of Ue){if(!yh(ot)){nt.push(ot);continue}const Mt=nt.find(Vt=>ot.value.routeConfig===Vt.value.routeConfig);void 0!==Mt?(Mt.children.push(...ot.children),Ve.add(Mt)):nt.push(ot)}for(const ot of Ve){const Mt=Sa(ot.children);nt.push(new xa(ot.value,Mt))}return nt.filter(ot=>!Ve.has(ot))}function im(Ue){return Ue.data||{}}function om(Ue){return Ue.resolve||{}}function bp(Ue){const nt=Ue.children.map(Ve=>bp(Ve)).flat();return[Ue,...nt]}function B0(Ue){return(0,ne.n)(nt=>{const Ve=Ue(nt);return Ve?(0,O.H)(Ve).pipe((0,q.T)(()=>nt)):(0,G.of)(nt)})}let N0=(()=>{class Ue{buildTitle(Ve){let ot,Mt=Ve.root;for(;void 0!==Mt;)ot=this.getResolvedTitleForRoute(Mt)??ot,Mt=Mt.children.find(Vt=>Vt.outlet===Le);return ot}getResolvedTitleForRoute(Ve){return Ve.data[be]}static#e=this.\u0275fac=function(ot){return new(ot||Ue)};static#t=this.\u0275prov=p.jDH({token:Ue,factory:()=>(0,p.WQX)(Cf),providedIn:"root"})}return Ue})(),Cf=(()=>{class Ue extends N0{constructor(Ve){super(),this.title=Ve}updateTitle(Ve){const ot=this.buildTitle(Ve);void 0!==ot&&this.title.setTitle(ot)}static#e=this.\u0275fac=function(ot){return new(ot||Ue)(p.KVO(Pe.hE))};static#t=this.\u0275prov=p.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();const Xa=new p.nKC("",{providedIn:"root",factory:()=>({})});let gh=(()=>{class Ue{static#e=this.\u0275fac=function(ot){return new(ot||Ue)};static#t=this.\u0275cmp=p.VBU({type:Ue,selectors:[["ng-component"]],standalone:!0,features:[p.aNF],decls:1,vars:0,template:function(ot,Mt){1&ot&&p.nrm(0,"router-outlet")},dependencies:[_l],encapsulation:2})}return Ue})();function Zi(Ue){const nt=Ue.children&&Ue.children.map(Zi),Ve=nt?{...Ue,children:nt}:{...Ue};return!Ve.component&&!Ve.loadComponent&&(nt||Ve.loadChildren)&&Ve.outlet&&Ve.outlet!==Le&&(Ve.component=gh),Ve}const Xu=new p.nKC("");let am=(()=>{class Ue{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.WQX)(p.Ql9)}loadComponent(Ve){if(this.componentLoaders.get(Ve))return this.componentLoaders.get(Ve);if(Ve._loadedComponent)return(0,G.of)(Ve._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(Ve);const ot=pe(Ve.loadComponent()).pipe((0,q.T)(L0),(0,T.M)(Vt=>{this.onLoadEndListener&&this.onLoadEndListener(Ve),Ve._loadedComponent=Vt}),(0,H.j)(()=>{this.componentLoaders.delete(Ve)})),Mt=new Z.G(ot,()=>new Q.B).pipe((0,ee.B)());return this.componentLoaders.set(Ve,Mt),Mt}loadChildren(Ve,ot){if(this.childrenLoaders.get(ot))return this.childrenLoaders.get(ot);if(ot._loadedRoutes)return(0,G.of)({routes:ot._loadedRoutes,injector:ot._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(ot);const Vt=function Ja(Ue,nt,Ve,ot){return pe(Ue.loadChildren()).pipe((0,q.T)(L0),(0,ae.Z)(Mt=>Mt instanceof p.Co$||Array.isArray(Mt)?(0,G.of)(Mt):(0,O.H)(nt.compileModuleAsync(Mt))),(0,q.T)(Mt=>{ot&&ot(Ue);let Vt,rn,Un=!1;return Array.isArray(Mt)?(rn=Mt,!0):(Vt=Mt.create(Ve).injector,rn=Vt.get(Xu,[],{optional:!0,self:!0}).flat()),{routes:rn.map(Zi),injector:Vt}}))}(ot,this.compiler,Ve,this.onLoadEndListener).pipe((0,H.j)(()=>{this.childrenLoaders.delete(ot)})),rn=new Z.G(Vt,()=>new Q.B).pipe((0,ee.B)());return this.childrenLoaders.set(ot,rn),rn}static#e=this.\u0275fac=function(ot){return new(ot||Ue)};static#t=this.\u0275prov=p.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();function L0(Ue){return function vh(Ue){return Ue&&"object"==typeof Ue&&"default"in Ue}(Ue)?Ue.default:Ue}let Mu=(()=>{class Ue{static#e=this.\u0275fac=function(ot){return new(ot||Ue)};static#t=this.\u0275prov=p.jDH({token:Ue,factory:()=>(0,p.WQX)(wp),providedIn:"root"})}return Ue})(),wp=(()=>{class Ue{shouldProcessUrl(Ve){return!0}extract(Ve){return Ve}merge(Ve,ot){return Ve}static#e=this.\u0275fac=function(ot){return new(ot||Ue)};static#t=this.\u0275prov=p.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();const Md=new p.nKC(""),Ye=new p.nKC("");function Ot(Ue,nt,Ve){const ot=Ue.get(Ye),Mt=Ue.get(J.qQ);return Ue.get(p.SKi).runOutsideAngular(()=>{if(!Mt.startViewTransition||ot.skipNextTransition)return ot.skipNextTransition=!1,new Promise(Tr=>setTimeout(Tr));let Vt;const rn=new Promise(Tr=>{Vt=Tr}),Un=Mt.startViewTransition(()=>(Vt(),function ht(Ue){return new Promise(nt=>{(0,p.mal)({read:()=>setTimeout(nt)},{injector:Ue})})}(Ue))),{onViewTransitionCreated:Tn}=ot;return Tn&&(0,p.N4e)(Ue,()=>Tn({transition:Un,from:nt,to:Ve})),rn})}const At=new p.nKC("");let nn=(()=>{class Ue{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Q.B,this.transitionAbortSubject=new Q.B,this.configLoader=(0,p.WQX)(am),this.environmentInjector=(0,p.WQX)(p.uvJ),this.urlSerializer=(0,p.WQX)(Qe),this.rootContexts=(0,p.WQX)(tu),this.location=(0,p.WQX)(J.aZ),this.inputBindingEnabled=null!==(0,p.WQX)(xr,{optional:!0}),this.titleStrategy=(0,p.WQX)(N0),this.options=(0,p.WQX)(Xa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,p.WQX)(Mu),this.createViewTransition=(0,p.WQX)(Md,{optional:!0}),this.navigationErrorHandler=(0,p.WQX)(At,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,G.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Mt=>this.events.next(new Gs(Mt)),this.configLoader.onLoadStartListener=Mt=>this.events.next(new Ro(Mt))}complete(){this.transitions?.complete()}handleNavigationRequest(Ve){const ot=++this.navigationId;this.transitions?.next({...this.transitions.value,...Ve,id:ot})}setupNavigations(Ve,ot,Mt){return this.transitions=new x.t({id:0,currentUrlTree:ot,currentRawUrl:ot,extractedUrl:this.urlHandlingStrategy.extract(ot),urlAfterRedirects:this.urlHandlingStrategy.extract(ot),rawUrl:ot,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:sn,restoredState:null,currentSnapshot:Mt.snapshot,targetSnapshot:null,currentRouterState:Mt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ue.p)(Vt=>0!==Vt.id),(0,q.T)(Vt=>({...Vt,extractedUrl:this.urlHandlingStrategy.extract(Vt.rawUrl)})),(0,ne.n)(Vt=>{let rn=!1,Un=!1;return(0,G.of)(Vt).pipe((0,ne.n)(Tn=>{if(this.navigationId>Vt.id)return this.cancelNavigationTransition(Vt,"",Ar.SupersededByNewNavigation),V.w;this.currentTransition=Vt,this.currentNavigation={id:Tn.id,initialUrl:Tn.rawUrl,extractedUrl:Tn.extractedUrl,targetBrowserUrl:"string"==typeof Tn.extras.browserUrl?this.urlSerializer.parse(Tn.extras.browserUrl):Tn.extras.browserUrl,trigger:Tn.source,extras:Tn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Tr=!Ve.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Tr&&"reload"!==(Tn.extras.onSameUrlNavigation??Ve.onSameUrlNavigation)){const Oi="";return this.events.next(new _o(Tn.id,this.urlSerializer.serialize(Tn.rawUrl),Oi,hr.IgnoredSameUrlNavigation)),Tn.resolve(!1),V.w}if(this.urlHandlingStrategy.shouldProcessUrl(Tn.rawUrl))return(0,G.of)(Tn).pipe((0,ne.n)(Oi=>{const Gr=this.transitions?.getValue();return this.events.next(new sr(Oi.id,this.urlSerializer.serialize(Oi.extractedUrl),Oi.source,Oi.restoredState)),Gr!==this.transitions?.getValue()?V.w:Promise.resolve(Oi)}),function Su(Ue,nt,Ve,ot,Mt,Vt){return(0,ae.Z)(rn=>function yg(Ue,nt,Ve,ot,Mt,Vt,rn="emptyOnly"){return new L1(Ue,nt,Ve,ot,Mt,rn,Vt).recognize()}(Ue,nt,Ve,ot,rn.extractedUrl,Mt,Vt).pipe((0,q.T)(({state:Un,tree:Tn})=>({...rn,targetSnapshot:Un,urlAfterRedirects:Tn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,Ve.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,T.M)(Oi=>{Vt.targetSnapshot=Oi.targetSnapshot,Vt.urlAfterRedirects=Oi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Oi.urlAfterRedirects};const Gr=new fi(Oi.id,this.urlSerializer.serialize(Oi.extractedUrl),this.urlSerializer.serialize(Oi.urlAfterRedirects),Oi.targetSnapshot);this.events.next(Gr)}));if(Tr&&this.urlHandlingStrategy.shouldProcessUrl(Tn.currentRawUrl)){const{id:Oi,extractedUrl:Gr,source:es,restoredState:ao,extras:Tl}=Tn,Ts=new sr(Oi,this.urlSerializer.serialize(Gr),es,ao);this.events.next(Ts);const U0=Hu(this.rootComponentType).snapshot;return this.currentTransition=Vt={...Tn,targetSnapshot:U0,urlAfterRedirects:Gr,extras:{...Tl,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Gr,(0,G.of)(Vt)}{const Oi="";return this.events.next(new _o(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),Oi,hr.IgnoredByUrlHandlingStrategy)),Tn.resolve(!1),V.w}}),(0,T.M)(Tn=>{const Tr=new so(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(Tr)}),(0,q.T)(Tn=>(this.currentTransition=Vt={...Tn,guards:fh(Tn.targetSnapshot,Tn.currentSnapshot,this.rootContexts)},Vt)),function st(Ue,nt){return(0,ae.Z)(Ve=>{const{targetSnapshot:ot,currentSnapshot:Mt,guards:{canActivateChecks:Vt,canDeactivateChecks:rn}}=Ve;return 0===rn.length&&0===Vt.length?(0,G.of)({...Ve,guardsResult:!0}):function Ft(Ue,nt,Ve,ot){return(0,O.H)(Ue).pipe((0,ae.Z)(Mt=>function mp(Ue,nt,Ve,ot,Mt){const Vt=nt&&nt.routeConfig?nt.routeConfig.canDeactivate:null;if(!Vt||0===Vt.length)return(0,G.of)(!0);const rn=Vt.map(Un=>{const Tn=ca(nt)??Mt,Tr=Gu(Un,Tn);return pe(function hh(Ue){return Ue&&xl(Ue.canDeactivate)}(Tr)?Tr.canDeactivate(Ue,nt,Ve,ot):(0,p.N4e)(Tn,()=>Tr(Ue,nt,Ve,ot))).pipe(g())});return(0,G.of)(rn).pipe(bt())}(Mt.component,Mt.route,Ve,nt,ot)),g(Mt=>!0!==Mt,!0))}(rn,ot,Mt,Ue).pipe((0,ae.Z)(Un=>Un&&function si(Ue){return"boolean"==typeof Ue}(Un)?function pn(Ue,nt,Ve,ot){return(0,O.H)(nt).pipe((0,w.H)(Mt=>(0,$.x)(function qr(Ue,nt){return null!==Ue&&nt&&nt(new ui(Ue)),(0,G.of)(!0)}(Mt.route.parent,ot),function Nr(Ue,nt){return null!==Ue&&nt&&nt(new qo(Ue)),(0,G.of)(!0)}(Mt.route,ot),function ti(Ue,nt,Ve){const ot=nt[nt.length-1],Vt=nt.slice(0,nt.length-1).reverse().map(rn=>function Eo(Ue){const nt=Ue.routeConfig?Ue.routeConfig.canActivateChild:null;return nt&&0!==nt.length?{node:Ue,guards:nt}:null}(rn)).filter(rn=>null!==rn).map(rn=>(0,K.v)(()=>{const Un=rn.guards.map(Tn=>{const Tr=ca(rn.node)??Ve,hi=Gu(Tn,Tr);return pe(function xu(Ue){return Ue&&xl(Ue.canActivateChild)}(hi)?hi.canActivateChild(ot,Ue):(0,p.N4e)(Tr,()=>hi(ot,Ue))).pipe(g())});return(0,G.of)(Un).pipe(bt())}));return(0,G.of)(Vt).pipe(bt())}(Ue,Mt.path,Ve),function zo(Ue,nt,Ve){const ot=nt.routeConfig?nt.routeConfig.canActivate:null;if(!ot||0===ot.length)return(0,G.of)(!0);const Mt=ot.map(Vt=>(0,K.v)(()=>{const rn=ca(nt)??Ve,Un=Gu(Vt,rn);return pe(function Ys(Ue){return Ue&&xl(Ue.canActivate)}(Un)?Un.canActivate(nt,Ue):(0,p.N4e)(rn,()=>Un(nt,Ue))).pipe(g())}));return(0,G.of)(Mt).pipe(bt())}(Ue,Mt.route,Ve))),g(Mt=>!0!==Mt,!0))}(ot,Vt,Ue,nt):(0,G.of)(Un)),(0,q.T)(Un=>({...Ve,guardsResult:Un})))})}(this.environmentInjector,Tn=>this.events.next(Tn)),(0,T.M)(Tn=>{if(Vt.guardsResult=Tn.guardsResult,Tn.guardsResult&&"boolean"!=typeof Tn.guardsResult)throw Ba(0,Tn.guardsResult);const Tr=new ei(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot,!!Tn.guardsResult);this.events.next(Tr)}),(0,ue.p)(Tn=>!!Tn.guardsResult||(this.cancelNavigationTransition(Tn,"",Ar.GuardRejected),!1)),B0(Tn=>{if(Tn.guards.canActivateChecks.length)return(0,G.of)(Tn).pipe((0,T.M)(Tr=>{const hi=new yi(Tr.id,this.urlSerializer.serialize(Tr.extractedUrl),this.urlSerializer.serialize(Tr.urlAfterRedirects),Tr.targetSnapshot);this.events.next(hi)}),(0,ne.n)(Tr=>{let hi=!1;return(0,G.of)(Tr).pipe(function sm(Ue,nt){return(0,ae.Z)(Ve=>{const{targetSnapshot:ot,guards:{canActivateChecks:Mt}}=Ve;if(!Mt.length)return(0,G.of)(Ve);const Vt=new Set(Mt.map(Tn=>Tn.route)),rn=new Set;for(const Tn of Vt)if(!rn.has(Tn))for(const Tr of bp(Tn))rn.add(Tr);let Un=0;return(0,O.H)(rn).pipe((0,w.H)(Tn=>Vt.has(Tn)?function Pi(Ue,nt,Ve,ot){const Mt=Ue.routeConfig,Vt=Ue._resolve;return void 0!==Mt?.title&&!wl(Mt)&&(Vt[be]=Mt.title),function qi(Ue,nt,Ve,ot){const Mt=he(Ue);if(0===Mt.length)return(0,G.of)({});const Vt={};return(0,O.H)(Mt).pipe((0,ae.Z)(rn=>function vg(Ue,nt,Ve,ot){const Mt=ca(nt)??ot,Vt=Gu(Ue,Mt);return pe(Vt.resolve?Vt.resolve(nt,Ve):(0,p.N4e)(Mt,()=>Vt(nt,Ve)))}(Ue[rn],nt,Ve,ot).pipe(g(),(0,T.M)(Un=>{if(Un instanceof nu)throw Ba(new kt,Un);Vt[rn]=Un}))),d(1),(0,W.u)(Vt),(0,C.W)(rn=>bc(rn)?V.w:(0,X.$)(rn)))}(Vt,Ue,nt,ot).pipe((0,q.T)(rn=>(Ue._resolvedData=rn,Ue.data=Wl(Ue,Ue.parent,Ve).resolve,null)))}(Tn,ot,Ue,nt):(Tn.data=Wl(Tn,Tn.parent,Ue).resolve,(0,G.of)(void 0))),(0,T.M)(()=>Un++),d(1),(0,ae.Z)(Tn=>Un===rn.size?(0,G.of)(Ve):V.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,T.M)({next:()=>hi=!0,complete:()=>{hi||this.cancelNavigationTransition(Tr,"",Ar.NoDataFromResolver)}}))}),(0,T.M)(Tr=>{const hi=new wi(Tr.id,this.urlSerializer.serialize(Tr.extractedUrl),this.urlSerializer.serialize(Tr.urlAfterRedirects),Tr.targetSnapshot);this.events.next(hi)}))}),B0(Tn=>{const Tr=hi=>{const Oi=[];hi.routeConfig?.loadComponent&&!hi.routeConfig._loadedComponent&&Oi.push(this.configLoader.loadComponent(hi.routeConfig).pipe((0,T.M)(Gr=>{hi.component=Gr}),(0,q.T)(()=>{})));for(const Gr of hi.children)Oi.push(...Tr(Gr));return Oi};return(0,B.z)(Tr(Tn.targetSnapshot.root)).pipe(De(null),(0,se.s)(1))}),B0(()=>this.afterPreactivation()),(0,ne.n)(()=>{const{currentSnapshot:Tn,targetSnapshot:Tr}=Vt,hi=this.createViewTransition?.(this.environmentInjector,Tn.root,Tr.root);return hi?(0,O.H)(hi).pipe((0,q.T)(()=>Vt)):(0,G.of)(Vt)}),(0,q.T)(Tn=>{const Tr=function vc(Ue,nt,Ve){const ot=os(Ue,nt._root,Ve?Ve._root:void 0);return new Hl(ot,nt)}(Ve.routeReuseStrategy,Tn.targetSnapshot,Tn.currentRouterState);return this.currentTransition=Vt={...Tn,targetRouterState:Tr},this.currentNavigation.targetRouterState=Tr,Vt}),(0,T.M)(()=>{this.events.next(new an)}),((Ue,nt,Ve,ot)=>(0,q.T)(Mt=>(new Eu(nt,Mt.targetRouterState,Mt.currentRouterState,Ve,ot).activate(Ue),Mt)))(this.rootContexts,Ve.routeReuseStrategy,Tn=>this.events.next(Tn),this.inputBindingEnabled),(0,se.s)(1),(0,T.M)({next:Tn=>{rn=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ir(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects))),this.titleStrategy?.updateTitle(Tn.targetRouterState.snapshot),Tn.resolve(!0)},complete:()=>{rn=!0}}),(0,fe.Q)(this.transitionAbortSubject.pipe((0,T.M)(Tn=>{throw Tn}))),(0,H.j)(()=>{!rn&&!Un&&this.cancelNavigationTransition(Vt,"",Ar.SupersededByNewNavigation),this.currentTransition?.id===Vt.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,C.W)(Tn=>{if(Un=!0,ga(Tn))this.events.next(new Fi(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),Tn.message,Tn.cancellationCode)),function la(Ue){return ga(Ue)&&bn(Ue.url)}(Tn)?this.events.next(new Kn(Tn.url,Tn.navigationBehaviorOptions)):Vt.resolve(!1);else{const Tr=new Ci(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),Tn,Vt.targetSnapshot??void 0);try{const hi=(0,p.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Tr));if(hi instanceof nu){const{message:Oi,cancellationCode:Gr}=Ba(0,hi);this.events.next(new Fi(Vt.id,this.urlSerializer.serialize(Vt.extractedUrl),Oi,Gr)),this.events.next(new Kn(hi.redirectTo,hi.navigationBehaviorOptions))}else{this.events.next(Tr);const Oi=Ve.errorHandler(Tn);Vt.resolve(!!Oi)}}catch(hi){this.options.resolveNavigationPromiseOnError?Vt.resolve(!1):Vt.reject(hi)}}return V.w}))}))}cancelNavigationTransition(Ve,ot,Mt){const Vt=new Fi(Ve.id,this.urlSerializer.serialize(Ve.extractedUrl),ot,Mt);this.events.next(Vt),Ve.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const Ve=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),ot=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return Ve.toString()!==ot?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(ot){return new(ot||Ue)};static#t=this.\u0275prov=p.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();function Dn(Ue){return Ue!==sn}let Jn=(()=>{class Ue{static#e=this.\u0275fac=function(ot){return new(ot||Ue)};static#t=this.\u0275prov=p.jDH({token:Ue,factory:()=>(0,p.WQX)(To),providedIn:"root"})}return Ue})();class Ir{shouldDetach(nt){return!1}store(nt,Ve){}shouldAttach(nt){return!1}retrieve(nt){return null}shouldReuseRoute(nt,Ve){return nt.routeConfig===Ve.routeConfig}}let To=(()=>{class Ue extends Ir{static#e=this.\u0275fac=(()=>{let Ve;return function(Mt){return(Ve||(Ve=p.xGo(Ue)))(Mt||Ue)}})();static#t=this.\u0275prov=p.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})(),_i=(()=>{class Ue{static#e=this.\u0275fac=function(ot){return new(ot||Ue)};static#t=this.\u0275prov=p.jDH({token:Ue,factory:()=>(0,p.WQX)(yo),providedIn:"root"})}return Ue})(),yo=(()=>{class Ue extends _i{constructor(){super(...arguments),this.location=(0,p.WQX)(J.aZ),this.urlSerializer=(0,p.WQX)(Qe),this.options=(0,p.WQX)(Xa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,p.WQX)(Mu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new _,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Hu(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(Ve){return this.location.subscribe(ot=>{"popstate"===ot.type&&Ve(ot.url,ot.state)})}handleRouterEvent(Ve,ot){if(Ve instanceof sr)this.stateMemento=this.createStateMemento();else if(Ve instanceof _o)this.rawUrlTree=ot.initialUrl;else if(Ve instanceof fi){if("eager"===this.urlUpdateStrategy&&!ot.extras.skipLocationChange){const Mt=this.urlHandlingStrategy.merge(ot.finalUrl,ot.initialUrl);this.setBrowserUrl(ot.targetBrowserUrl??Mt,ot)}}else Ve instanceof an?(this.currentUrlTree=ot.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(ot.finalUrl,ot.initialUrl),this.routerState=ot.targetRouterState,"deferred"===this.urlUpdateStrategy&&!ot.extras.skipLocationChange&&this.setBrowserUrl(ot.targetBrowserUrl??this.rawUrlTree,ot)):Ve instanceof Fi&&(Ve.code===Ar.GuardRejected||Ve.code===Ar.NoDataFromResolver)?this.restoreHistory(ot):Ve instanceof Ci?this.restoreHistory(ot,!0):Ve instanceof ir&&(this.lastSuccessfulId=Ve.id,this.currentPageId=this.browserPageId)}setBrowserUrl(Ve,ot){const Mt=Ve instanceof _?this.urlSerializer.serialize(Ve):Ve;if(this.location.isCurrentPathEqualTo(Mt)||ot.extras.replaceUrl){const rn={...ot.extras.state,...this.generateNgRouterState(ot.id,this.browserPageId)};this.location.replaceState(Mt,"",rn)}else{const Vt={...ot.extras.state,...this.generateNgRouterState(ot.id,this.browserPageId+1)};this.location.go(Mt,"",Vt)}}restoreHistory(Ve,ot=!1){if("computed"===this.canceledNavigationResolution){const Vt=this.currentPageId-this.browserPageId;0!==Vt?this.location.historyGo(Vt):this.currentUrlTree===Ve.finalUrl&&0===Vt&&(this.resetState(Ve),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(ot&&this.resetState(Ve),this.resetUrlToCurrentUrlTree())}resetState(Ve){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Ve.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(Ve,ot){return"computed"===this.canceledNavigationResolution?{navigationId:Ve,\u0275routerPageId:ot}:{navigationId:Ve}}static#e=this.\u0275fac=(()=>{let Ve;return function(Mt){return(Ve||(Ve=p.xGo(Ue)))(Mt||Ue)}})();static#t=this.\u0275prov=p.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();var cr=function(Ue){return Ue[Ue.COMPLETE=0]="COMPLETE",Ue[Ue.FAILED=1]="FAILED",Ue[Ue.REDIRECTING=2]="REDIRECTING",Ue}(cr||{});function Zo(Ue,nt){Ue.events.pipe((0,ue.p)(Ve=>Ve instanceof ir||Ve instanceof Fi||Ve instanceof Ci||Ve instanceof _o),(0,q.T)(Ve=>Ve instanceof ir||Ve instanceof _o?cr.COMPLETE:Ve instanceof Fi&&(Ve.code===Ar.Redirect||Ve.code===Ar.SupersededByNewNavigation)?cr.REDIRECTING:cr.FAILED),(0,ue.p)(Ve=>Ve!==cr.REDIRECTING),(0,se.s)(1)).subscribe(()=>{nt()})}function Wi(Ue){throw Ue}const Oo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},au={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xs=(()=>{class Ue{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,p.WQX)(p.H3F),this.stateManager=(0,p.WQX)(_i),this.options=(0,p.WQX)(Xa,{optional:!0})||{},this.pendingTasks=(0,p.WQX)(p.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,p.WQX)(nn),this.urlSerializer=(0,p.WQX)(Qe),this.location=(0,p.WQX)(J.aZ),this.urlHandlingStrategy=(0,p.WQX)(Mu),this._events=new Q.B,this.errorHandler=this.options.errorHandler||Wi,this.navigated=!1,this.routeReuseStrategy=(0,p.WQX)(Jn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,p.WQX)(Xu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,p.WQX)(xr,{optional:!0}),this.eventsSubscription=new te.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Ve=>{this.console.warn(Ve)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const Ve=this.navigationTransitions.events.subscribe(ot=>{try{const Mt=this.navigationTransitions.currentTransition,Vt=this.navigationTransitions.currentNavigation;if(null!==Mt&&null!==Vt)if(this.stateManager.handleRouterEvent(ot,Vt),ot instanceof Fi&&ot.code!==Ar.Redirect&&ot.code!==Ar.SupersededByNewNavigation)this.navigated=!0;else if(ot instanceof ir)this.navigated=!0;else if(ot instanceof Kn){const rn=ot.navigationBehaviorOptions,Un=this.urlHandlingStrategy.merge(ot.url,Mt.currentRawUrl),Tn={browserUrl:Mt.extras.browserUrl,info:Mt.extras.info,skipLocationChange:Mt.extras.skipLocationChange,replaceUrl:Mt.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Dn(Mt.source),...rn};this.scheduleNavigation(Un,sn,null,Tn,{resolve:Mt.resolve,reject:Mt.reject,promise:Mt.promise})}(function cu(Ue){return!(Ue instanceof an||Ue instanceof Kn)})(ot)&&this._events.next(ot)}catch(Mt){this.navigationTransitions.transitionAbortSubject.next(Mt)}});this.eventsSubscription.add(Ve)}resetRootComponentType(Ve){this.routerState.root.component=Ve,this.navigationTransitions.rootComponentType=Ve}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((Ve,ot)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(Ve,"popstate",ot)},0)})}navigateToSyncWithBrowser(Ve,ot,Mt){const Vt={replaceUrl:!0},rn=Mt?.navigationId?Mt:null;if(Mt){const Tn={...Mt};delete Tn.navigationId,delete Tn.\u0275routerPageId,0!==Object.keys(Tn).length&&(Vt.state=Tn)}const Un=this.parseUrl(Ve);this.scheduleNavigation(Un,ot,rn,Vt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(Ve){this.config=Ve.map(Zi),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(Ve,ot={}){const{relativeTo:Mt,queryParams:Vt,fragment:rn,queryParamsHandling:Un,preserveFragment:Tn}=ot,Tr=Tn?this.currentUrlTree.fragment:rn;let Oi,hi=null;switch(Un){case"merge":hi={...this.currentUrlTree.queryParams,...Vt};break;case"preserve":hi=this.currentUrlTree.queryParams;break;default:hi=Vt||null}null!==hi&&(hi=this.removeEmptyProps(hi));try{Oi=Or(Mt?Mt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof Ve[0]||"/"!==Ve[0][0])&&(Ve=[]),Oi=this.currentUrlTree.root}return Qn(Oi,Ve,hi,Tr??null)}navigateByUrl(Ve,ot={skipLocationChange:!1}){const Mt=bn(Ve)?Ve:this.parseUrl(Ve),Vt=this.urlHandlingStrategy.merge(Mt,this.rawUrlTree);return this.scheduleNavigation(Vt,sn,null,ot)}navigate(Ve,ot={skipLocationChange:!1}){return function kf(Ue){for(let nt=0;nt<Ue.length;nt++)if(null==Ue[nt])throw new p.wOt(4008,!1)}(Ve),this.navigateByUrl(this.createUrlTree(Ve,ot),ot)}serializeUrl(Ve){return this.urlSerializer.serialize(Ve)}parseUrl(Ve){try{return this.urlSerializer.parse(Ve)}catch{return this.urlSerializer.parse("/")}}isActive(Ve,ot){let Mt;if(Mt=!0===ot?{...Oo}:!1===ot?{...au}:ot,bn(Ve))return Fe(this.currentUrlTree,Ve,Mt);const Vt=this.parseUrl(Ve);return Fe(this.currentUrlTree,Vt,Mt)}removeEmptyProps(Ve){return Object.entries(Ve).reduce((ot,[Mt,Vt])=>(null!=Vt&&(ot[Mt]=Vt),ot),{})}scheduleNavigation(Ve,ot,Mt,Vt,rn){if(this.disposed)return Promise.resolve(!1);let Un,Tn,Tr;rn?(Un=rn.resolve,Tn=rn.reject,Tr=rn.promise):Tr=new Promise((Oi,Gr)=>{Un=Oi,Tn=Gr});const hi=this.pendingTasks.add();return Zo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(hi))}),this.navigationTransitions.handleNavigationRequest({source:ot,restoredState:Mt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:Ve,extras:Vt,resolve:Un,reject:Tn,promise:Tr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Tr.catch(Oi=>Promise.reject(Oi))}static#e=this.\u0275fac=function(ot){return new(ot||Ue)};static#t=this.\u0275prov=p.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})(),Xc=(()=>{class Ue{constructor(Ve,ot,Mt,Vt,rn,Un){this.router=Ve,this.route=ot,this.tabIndexAttribute=Mt,this.renderer=Vt,this.el=rn,this.locationStrategy=Un,this.href=null,this.onChanges=new Q.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Tn=rn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Tn||"area"===Tn,this.isAnchorElement?this.subscription=Ve.events.subscribe(Tr=>{Tr instanceof ir&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(Ve){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Ve)}ngOnChanges(Ve){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(Ve){null==Ve?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=bn(Ve)||Array.isArray(Ve)?Ve:[Ve],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Ve,ot,Mt,Vt,rn){const Un=this.urlTree;return!!(null===Un||this.isAnchorElement&&(0!==Ve||ot||Mt||Vt||rn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Un,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Ve=this.urlTree;this.href=null!==Ve&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Ve)):null;const ot=null===this.href?null:(0,p.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ot)}applyAttributeValue(Ve,ot){const Mt=this.renderer,Vt=this.el.nativeElement;null!==ot?Mt.setAttribute(Vt,Ve,ot):Mt.removeAttribute(Vt,Ve)}get urlTree(){return null===this.routerLinkInput?null:bn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(ot){return new(ot||Ue)(p.rXU(Xs),p.rXU(gc),p.kS0("tabindex"),p.rXU(p.sFG),p.rXU(p.aKT),p.rXU(J.hb))};static#t=this.\u0275dir=p.FsC({type:Ue,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(ot,Mt){1&ot&&p.bIt("click",function(rn){return Mt.onClick(rn.button,rn.ctrlKey,rn.shiftKey,rn.altKey,rn.metaKey)}),2&ot&&p.BMQ("target",Mt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",p.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",p.L39],replaceUrl:[2,"replaceUrl","replaceUrl",p.L39],routerLink:"routerLink"},standalone:!0,features:[p.GFd,p.OA$]})}return Ue})(),Sl=(()=>{class Ue{get isActive(){return this._isActive}constructor(Ve,ot,Mt,Vt,rn){this.router=Ve,this.element=ot,this.renderer=Mt,this.cdr=Vt,this.link=rn,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new p.bkB,this.routerEventsSubscription=Ve.events.subscribe(Un=>{Un instanceof ir&&this.update()})}ngAfterContentInit(){(0,G.of)(this.links.changes,(0,G.of)(null)).pipe((0,Ae.U)()).subscribe(Ve=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const Ve=[...this.links.toArray(),this.link].filter(ot=>!!ot).map(ot=>ot.onChanges);this.linkInputChangesSubscription=(0,O.H)(Ve).pipe((0,Ae.U)()).subscribe(ot=>{this._isActive!==this.isLinkActive(this.router)(ot)&&this.update()})}set routerLinkActive(Ve){const ot=Array.isArray(Ve)?Ve:Ve.split(" ");this.classes=ot.filter(Mt=>!!Mt)}ngOnChanges(Ve){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const Ve=this.hasActiveLinks();this.classes.forEach(ot=>{Ve?this.renderer.addClass(this.element.nativeElement,ot):this.renderer.removeClass(this.element.nativeElement,ot)}),Ve&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==Ve&&(this._isActive=Ve,this.cdr.markForCheck(),this.isActiveChange.emit(Ve))})}isLinkActive(Ve){const ot=function Xl(Ue){return!!Ue.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Mt=>{const Vt=Mt.urlTree;return!!Vt&&Ve.isActive(Vt,ot)}}hasActiveLinks(){const Ve=this.isLinkActive(this.router);return this.link&&Ve(this.link)||this.links.some(Ve)}static#e=this.\u0275fac=function(ot){return new(ot||Ue)(p.rXU(Xs),p.rXU(p.aKT),p.rXU(p.sFG),p.rXU(p.gRc),p.rXU(Xc,8))};static#t=this.\u0275dir=p.FsC({type:Ue,selectors:[["","routerLinkActive",""]],contentQueries:function(ot,Mt,Vt){if(1&ot&&p.wni(Vt,Xc,5),2&ot){let rn;p.mGM(rn=p.lsd())&&(Mt.links=rn)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[p.OA$]})}return Ue})();class Ju{}let Pf=(()=>{class Ue{preload(Ve,ot){return ot().pipe((0,C.W)(()=>(0,G.of)(null)))}static#e=this.\u0275fac=function(ot){return new(ot||Ue)};static#t=this.\u0275prov=p.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})(),Ma=(()=>{class Ue{constructor(Ve,ot,Mt,Vt,rn){this.router=Ve,this.injector=Mt,this.preloadingStrategy=Vt,this.loader=rn}setUpPreloading(){this.subscription=this.router.events.pipe((0,ue.p)(Ve=>Ve instanceof ir),(0,w.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Ve,ot){const Mt=[];for(const Vt of ot){Vt.providers&&!Vt._injector&&(Vt._injector=(0,p.Ol2)(Vt.providers,Ve,`Route: ${Vt.path}`));const rn=Vt._injector??Ve,Un=Vt._loadedInjector??rn;(Vt.loadChildren&&!Vt._loadedRoutes&&void 0===Vt.canLoad||Vt.loadComponent&&!Vt._loadedComponent)&&Mt.push(this.preloadConfig(rn,Vt)),(Vt.children||Vt._loadedRoutes)&&Mt.push(this.processRoutes(Un,Vt.children??Vt._loadedRoutes))}return(0,O.H)(Mt).pipe((0,Ae.U)())}preloadConfig(Ve,ot){return this.preloadingStrategy.preload(ot,()=>{let Mt;Mt=ot.loadChildren&&void 0===ot.canLoad?this.loader.loadChildren(Ve,ot):(0,G.of)(null);const Vt=Mt.pipe((0,ae.Z)(rn=>null===rn?(0,G.of)(void 0):(ot._loadedRoutes=rn.routes,ot._loadedInjector=rn.injector,this.processRoutes(rn.injector??Ve,rn.routes))));if(ot.loadComponent&&!ot._loadedComponent){const rn=this.loader.loadComponent(ot);return(0,O.H)([Vt,rn]).pipe((0,Ae.U)())}return Vt})}static#e=this.\u0275fac=function(ot){return new(ot||Ue)(p.KVO(Xs),p.KVO(p.Ql9),p.KVO(p.uvJ),p.KVO(Ju),p.KVO(am))};static#t=this.\u0275prov=p.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();const Qo=new p.nKC("");let Ko=(()=>{class Ue{constructor(Ve,ot,Mt,Vt,rn={}){this.urlSerializer=Ve,this.transitions=ot,this.viewportScroller=Mt,this.zone=Vt,this.options=rn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},rn.scrollPositionRestoration||="disabled",rn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Ve=>{Ve instanceof sr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Ve.navigationTrigger,this.restoredId=Ve.restoredState?Ve.restoredState.navigationId:0):Ve instanceof ir?(this.lastId=Ve.id,this.scheduleScrollEvent(Ve,this.urlSerializer.parse(Ve.urlAfterRedirects).fragment)):Ve instanceof _o&&Ve.code===hr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Ve,this.urlSerializer.parse(Ve.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Ve=>{Ve instanceof Ms&&(Ve.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Ve.position):Ve.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Ve.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Ve,ot){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ms(Ve,"popstate"===this.lastSource?this.store[this.restoredId]:null,ot))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(ot){p.QTQ()};static#t=this.\u0275prov=p.jDH({token:Ue,factory:Ue.\u0275fac})}return Ue})();function tt(Ue,...nt){return(0,p.EmA)([{provide:Xu,multi:!0,useValue:Ue},[],{provide:gc,useFactory:Ge,deps:[Xs]},{provide:p.iLQ,multi:!0,useFactory:xn},nt.map(Ve=>Ve.\u0275providers)])}function Ge(Ue){return Ue.routerState.root}function $e(Ue,nt){return{\u0275kind:Ue,\u0275providers:nt}}function xn(){const Ue=(0,p.WQX)(p.zZn);return nt=>{const Ve=Ue.get(p.o8S);if(nt!==Ve.components[0])return;const ot=Ue.get(Xs),Mt=Ue.get(Ln);1===Ue.get(zn)&&ot.initialNavigation(),Ue.get(Ri,null,p.$GK.Optional)?.setUpPreloading(),Ue.get(Qo,null,p.$GK.Optional)?.init(),ot.resetRootComponentType(Ve.componentTypes[0]),Mt.closed||(Mt.next(),Mt.complete(),Mt.unsubscribe())}}const Ln=new p.nKC("",{factory:()=>new Q.B}),zn=new p.nKC("",{providedIn:"root",factory:()=>1}),Ri=new p.nKC("");function Yi(Ue){return $e(0,[{provide:Ri,useExisting:Ma},{provide:Ju,useExisting:Ue}])}function Qa(Ue){return $e(9,[{provide:Md,useValue:Ot},{provide:Ye,useValue:{skipNextTransition:!!Ue?.skipInitialTransition,...Ue}}])}const Al=new p.nKC("ROUTER_FORROOT_GUARD"),qu=[J.aZ,{provide:Qe,useClass:kt},Xs,tu,{provide:gc,useFactory:Ge,deps:[Xs]},am,[]];let Td=(()=>{class Ue{constructor(Ve){}static forRoot(Ve,ot){return{ngModule:Ue,providers:[qu,[],{provide:Xu,multi:!0,useValue:Ve},{provide:Al,useFactory:gS,deps:[[Xs,new p.Xx1,new p.kdw]]},{provide:Xa,useValue:ot||{}},ot?.useHash?{provide:J.hb,useClass:J.fw}:{provide:J.hb,useClass:J.Sm},{provide:Qo,useFactory:()=>{const Ue=(0,p.WQX)(J.Xr),nt=(0,p.WQX)(p.SKi),Ve=(0,p.WQX)(Xa),ot=(0,p.WQX)(nn),Mt=(0,p.WQX)(Qe);return Ve.scrollOffset&&Ue.setOffset(Ve.scrollOffset),new Ko(Mt,ot,Ue,nt,Ve)}},ot?.preloadingStrategy?Yi(ot.preloadingStrategy).\u0275providers:[],ot?.initialNavigation?Ib(ot):[],ot?.bindToComponentInputs?$e(8,[$o,{provide:xr,useExisting:$o}]).\u0275providers:[],ot?.enableViewTransitions?Qa().\u0275providers:[],[{provide:bg,useFactory:xn},{provide:p.iLQ,multi:!0,useExisting:bg}]]}}static forChild(Ve){return{ngModule:Ue,providers:[{provide:Xu,multi:!0,useValue:Ve}]}}static#e=this.\u0275fac=function(ot){return new(ot||Ue)(p.KVO(Al,8))};static#t=this.\u0275mod=p.$C({type:Ue});static#n=this.\u0275inj=p.G2t({})}return Ue})();function gS(Ue){return"guarded"}function Ib(Ue){return["disabled"===Ue.initialNavigation?$e(3,[{provide:p.hnV,multi:!0,useFactory:()=>{const nt=(0,p.WQX)(Xs);return()=>{nt.setUpLocationChangeListener()}}},{provide:zn,useValue:2}]).\u0275providers:[],"enabledBlocking"===Ue.initialNavigation?$e(2,[{provide:zn,useValue:0},{provide:p.hnV,multi:!0,deps:[p.zZn],useFactory:nt=>{const Ve=nt.get(J.hj,Promise.resolve());return()=>Ve.then(()=>new Promise(ot=>{const Mt=nt.get(Xs),Vt=nt.get(Ln);Zo(Mt,()=>{ot(!0)}),nt.get(nn).afterPreactivation=()=>(ot(!0),Vt.closed?(0,G.of)(void 0):Vt),Mt.initialNavigation()}))}}]).\u0275providers:[]]}const bg=new p.nKC("")},34931:(Be,z,E)=>{"use strict";function p(K){if(!Number.isSafeInteger(K)||K<0)throw new Error(`wrong positive integer: ${K}`)}function S(K){if("boolean"!=typeof K)throw new Error(`boolean expected, not ${K}`)}function G(K,...D){if(!function O(K){return null!=K&&"object"==typeof K&&(K instanceof Uint8Array||"Uint8Array"===K.constructor.name)}(K))throw new Error("Uint8Array expected");if(D.length>0&&!D.includes(K.length))throw new Error(`Uint8Array expected of length ${D}, not of length=${K.length}`)}function B(K,D=!0){if(K.destroyed)throw new Error("Hash instance has been destroyed");if(D&&K.finished)throw new Error("Hash#digest() has already been called")}function A(K,D){G(K);const X=D.outputLen;if(K.length<X)throw new Error(`digestInto() expects output buffer of length at least ${X}`)}E.d(z,{CG:()=>A,ai:()=>p,ee:()=>G,lc:()=>S,t2:()=>B})},94730:(Be,z,E)=>{"use strict";var p=E(25953),S=E(34931);const O=(C,j)=>255&C[j++]|(255&C[j++])<<8;class G{constructor(j){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,j=(0,p.ZJ)(j),(0,p.qj)(j,32);const M=O(j,0),d=O(j,2),v=O(j,4),W=O(j,6),H=O(j,8),ee=O(j,10),fe=O(j,12),Ae=O(j,14);this.r[0]=8191&M,this.r[1]=8191&(M>>>13|d<<3),this.r[2]=7939&(d>>>10|v<<6),this.r[3]=8191&(v>>>7|W<<9),this.r[4]=255&(W>>>4|H<<12),this.r[5]=H>>>1&8190,this.r[6]=8191&(H>>>14|ee<<2),this.r[7]=8065&(ee>>>11|fe<<5),this.r[8]=8191&(fe>>>8|Ae<<8),this.r[9]=Ae>>>5&127;for(let Pe=0;Pe<8;Pe++)this.pad[Pe]=O(j,16+2*Pe)}process(j,M,d=!1){const v=d?0:2048,{h:W,r:H}=this,ee=H[0],fe=H[1],Ae=H[2],Pe=H[3],Le=H[4],be=H[5],ge=H[6],Re=H[7],me=H[8],xe=H[9],le=O(j,M+0),he=O(j,M+2),re=O(j,M+4),de=O(j,M+6),pe=O(j,M+8),Se=O(j,M+10),ke=O(j,M+12),Fe=O(j,M+14);let We=W[0]+(8191&le),Tt=W[1]+(8191&(le>>>13|he<<3)),Xe=W[2]+(8191&(he>>>10|re<<6)),Ke=W[3]+(8191&(re>>>7|de<<9)),lt=W[4]+(8191&(de>>>4|pe<<12)),U=W[5]+(pe>>>1&8191),_=W[6]+(8191&(pe>>>14|Se<<2)),m=W[7]+(8191&(Se>>>11|ke<<5)),F=W[8]+(8191&(ke>>>8|Fe<<8)),ie=W[9]+(Fe>>>5|v),we=0,Ie=we+We*ee+Tt*(5*xe)+Xe*(5*me)+Ke*(5*Re)+lt*(5*ge);we=Ie>>>13,Ie&=8191,Ie+=U*(5*be)+_*(5*Le)+m*(5*Pe)+F*(5*Ae)+ie*(5*fe),we+=Ie>>>13,Ie&=8191;let Qe=we+We*fe+Tt*ee+Xe*(5*xe)+Ke*(5*me)+lt*(5*Re);we=Qe>>>13,Qe&=8191,Qe+=U*(5*ge)+_*(5*be)+m*(5*Le)+F*(5*Pe)+ie*(5*Ae),we+=Qe>>>13,Qe&=8191;let kt=we+We*Ae+Tt*fe+Xe*ee+Ke*(5*xe)+lt*(5*me);we=kt>>>13,kt&=8191,kt+=U*(5*Re)+_*(5*ge)+m*(5*be)+F*(5*Le)+ie*(5*Pe),we+=kt>>>13,kt&=8191;let pt=we+We*Pe+Tt*Ae+Xe*fe+Ke*ee+lt*(5*xe);we=pt>>>13,pt&=8191,pt+=U*(5*me)+_*(5*Re)+m*(5*ge)+F*(5*be)+ie*(5*Le),we+=pt>>>13,pt&=8191;let Et=we+We*Le+Tt*Pe+Xe*Ae+Ke*fe+lt*ee;we=Et>>>13,Et&=8191,Et+=U*(5*xe)+_*(5*me)+m*(5*Re)+F*(5*ge)+ie*(5*be),we+=Et>>>13,Et&=8191;let Lt=we+We*be+Tt*Le+Xe*Pe+Ke*Ae+lt*fe;we=Lt>>>13,Lt&=8191,Lt+=U*ee+_*(5*xe)+m*(5*me)+F*(5*Re)+ie*(5*ge),we+=Lt>>>13,Lt&=8191;let qt=we+We*ge+Tt*be+Xe*Le+Ke*Pe+lt*Ae;we=qt>>>13,qt&=8191,qt+=U*fe+_*ee+m*(5*xe)+F*(5*me)+ie*(5*Re),we+=qt>>>13,qt&=8191;let Kt=we+We*Re+Tt*ge+Xe*be+Ke*Le+lt*Pe;we=Kt>>>13,Kt&=8191,Kt+=U*Ae+_*fe+m*ee+F*(5*xe)+ie*(5*me),we+=Kt>>>13,Kt&=8191;let er=we+We*me+Tt*Re+Xe*ge+Ke*be+lt*Le;we=er>>>13,er&=8191,er+=U*Pe+_*Ae+m*fe+F*ee+ie*(5*xe),we+=er>>>13,er&=8191;let cn=we+We*xe+Tt*me+Xe*Re+Ke*ge+lt*be;we=cn>>>13,cn&=8191,cn+=U*Le+_*Pe+m*Ae+F*fe+ie*ee,we+=cn>>>13,cn&=8191,we=(we<<2)+we|0,we=we+Ie|0,Ie=8191&we,we>>>=13,Qe+=we,W[0]=Ie,W[1]=Qe,W[2]=kt,W[3]=pt,W[4]=Et,W[5]=Lt,W[6]=qt,W[7]=Kt,W[8]=er,W[9]=cn}finalize(){const{h:j,pad:M}=this,d=new Uint16Array(10);let v=j[1]>>>13;j[1]&=8191;for(let ee=2;ee<10;ee++)j[ee]+=v,v=j[ee]>>>13,j[ee]&=8191;j[0]+=5*v,v=j[0]>>>13,j[0]&=8191,j[1]+=v,v=j[1]>>>13,j[1]&=8191,j[2]+=v,d[0]=j[0]+5,v=d[0]>>>13,d[0]&=8191;for(let ee=1;ee<10;ee++)d[ee]=j[ee]+v,v=d[ee]>>>13,d[ee]&=8191;d[9]-=8192;let W=(1^v)-1;for(let ee=0;ee<10;ee++)d[ee]&=W;W=~W;for(let ee=0;ee<10;ee++)j[ee]=j[ee]&W|d[ee];j[0]=65535&(j[0]|j[1]<<13),j[1]=65535&(j[1]>>>3|j[2]<<10),j[2]=65535&(j[2]>>>6|j[3]<<7),j[3]=65535&(j[3]>>>9|j[4]<<4),j[4]=65535&(j[4]>>>12|j[5]<<1|j[6]<<14),j[5]=65535&(j[6]>>>2|j[7]<<11),j[6]=65535&(j[7]>>>5|j[8]<<8),j[7]=65535&(j[8]>>>8|j[9]<<5);let H=j[0]+M[0];j[0]=65535&H;for(let ee=1;ee<8;ee++)H=(j[ee]+M[ee]|0)+(H>>>16)|0,j[ee]=65535&H}update(j){(0,S.t2)(this);const{buffer:M,blockLen:d}=this,v=(j=(0,p.ZJ)(j)).length;for(let W=0;W<v;){const H=Math.min(d-this.pos,v-W);if(H!==d)M.set(j.subarray(W,W+H),this.pos),this.pos+=H,W+=H,this.pos===d&&(this.process(M,0,!1),this.pos=0);else for(;d<=v-W;W+=d)this.process(j,W)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(j){(0,S.t2)(this),(0,S.CG)(j,this),this.finished=!0;const{buffer:M,h:d}=this;let{pos:v}=this;if(v){for(M[v++]=1;v<16;v++)M[v]=0;this.process(M,0,!0)}this.finalize();let W=0;for(let H=0;H<8;H++)j[W++]=d[H]>>>0,j[W++]=d[H]>>>8;return j}digest(){const{buffer:j,outputLen:M}=this;this.digestInto(j);const d=j.slice(0,M);return this.destroy(),d}}const B=function x(C){const j=(d,v)=>C(v).update((0,p.ZJ)(d)).digest(),M=C(new Uint8Array(32));return j.outputLen=M.outputLen,j.blockLen=M.blockLen,j.create=d=>C(d),j}(C=>new G(C)),A=(0,p.AI)("expand 16-byte k"),N=(0,p.AI)("expand 32-byte k"),$=(0,p.DH)(A),K=(0,p.DH)(N);function D(C,j){return C<<j|C>>>32-j}function X(C){return C.byteOffset%4==0}const Q=2**32-1,te=new Uint32Array;function q(C,j){const{allowShortKeys:M,extendNonceFn:d,counterLength:v,counterRight:W,rounds:H}=(0,p.tY)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},j);if("function"!=typeof C)throw new Error("core must be a function");return(0,S.ai)(v),(0,S.ai)(H),(0,S.lc)(W),(0,S.lc)(M),(ee,fe,Ae,Pe,Le=0)=>{(0,S.ee)(ee),(0,S.ee)(fe),(0,S.ee)(Ae);const be=Ae.length;if(Pe||(Pe=new Uint8Array(be)),(0,S.ee)(Pe),(0,S.ai)(Le),Le<0||Le>=Q)throw new Error("arx: counter overflow");if(Pe.length<be)throw new Error(`arx: output (${Pe.length}) is shorter than data (${be})`);const ge=[];let me,xe,Re=ee.length;if(32===Re)me=ee.slice(),ge.push(me),xe=K;else{if(16!==Re||!M)throw new Error(`arx: invalid 32-byte key, got length=${Re}`);me=new Uint8Array(32),me.set(ee),me.set(ee,16),xe=$,ge.push(me)}X(fe)||(fe=fe.slice(),ge.push(fe));const le=(0,p.DH)(me);if(d){if(24!==fe.length)throw new Error("arx: extended nonce must be 24 bytes");d(xe,le,(0,p.DH)(fe.subarray(0,16)),le),fe=fe.subarray(16)}const he=16-v;if(he!==fe.length)throw new Error(`arx: nonce must be ${he} or 16 bytes`);if(12!==he){const de=new Uint8Array(12);de.set(fe,W?0:12-fe.length),ge.push(fe=de)}const re=(0,p.DH)(fe);for(function J(C,j,M,d,v,W,H,ee){const fe=v.length,Ae=new Uint8Array(64),Pe=(0,p.DH)(Ae),Le=X(v)&&X(W),be=Le?(0,p.DH)(v):te,ge=Le?(0,p.DH)(W):te;for(let Re=0;Re<fe;H++){if(C(j,M,d,Pe,H,ee),H>=Q)throw new Error("arx: counter overflow");const me=Math.min(64,fe-Re);if(Le&&64===me){const xe=Re/4;if(Re%4!=0)throw new Error("arx: invalid block position");for(let he,le=0;le<16;le++)he=xe+le,ge[he]=be[he]^Pe[le];Re+=64}else{for(let le,xe=0;xe<me;xe++)le=Re+xe,W[le]=v[le]^Ae[xe];Re+=me}}}(C,xe,le,re,Ae,Pe,Le,H);ge.length>0;)ge.pop().fill(0);return Pe}}function ne(C,j,M,d,v,W=20){let H=C[0],ee=C[1],fe=C[2],Ae=C[3],Pe=j[0],Le=j[1],be=j[2],ge=j[3],Re=j[4],me=j[5],xe=j[6],le=j[7],he=v,re=M[0],de=M[1],pe=M[2],Se=H,ke=ee,Fe=fe,We=Ae,Tt=Pe,Xe=Le,Ke=be,lt=ge,U=Re,_=me,m=xe,F=le,ie=he,we=re,Ie=de,Qe=pe;for(let pt=0;pt<W;pt+=2)Se=Se+Tt|0,ie=D(ie^Se,16),U=U+ie|0,Tt=D(Tt^U,12),Se=Se+Tt|0,ie=D(ie^Se,8),U=U+ie|0,Tt=D(Tt^U,7),ke=ke+Xe|0,we=D(we^ke,16),_=_+we|0,Xe=D(Xe^_,12),ke=ke+Xe|0,we=D(we^ke,8),_=_+we|0,Xe=D(Xe^_,7),Fe=Fe+Ke|0,Ie=D(Ie^Fe,16),m=m+Ie|0,Ke=D(Ke^m,12),Fe=Fe+Ke|0,Ie=D(Ie^Fe,8),m=m+Ie|0,Ke=D(Ke^m,7),We=We+lt|0,Qe=D(Qe^We,16),F=F+Qe|0,lt=D(lt^F,12),We=We+lt|0,Qe=D(Qe^We,8),F=F+Qe|0,lt=D(lt^F,7),Se=Se+Xe|0,Qe=D(Qe^Se,16),m=m+Qe|0,Xe=D(Xe^m,12),Se=Se+Xe|0,Qe=D(Qe^Se,8),m=m+Qe|0,Xe=D(Xe^m,7),ke=ke+Ke|0,ie=D(ie^ke,16),F=F+ie|0,Ke=D(Ke^F,12),ke=ke+Ke|0,ie=D(ie^ke,8),F=F+ie|0,Ke=D(Ke^F,7),Fe=Fe+lt|0,we=D(we^Fe,16),U=U+we|0,lt=D(lt^U,12),Fe=Fe+lt|0,we=D(we^Fe,8),U=U+we|0,lt=D(lt^U,7),We=We+Tt|0,Ie=D(Ie^We,16),_=_+Ie|0,Tt=D(Tt^_,12),We=We+Tt|0,Ie=D(Ie^We,8),_=_+Ie|0,Tt=D(Tt^_,7);let kt=0;d[kt++]=H+Se|0,d[kt++]=ee+ke|0,d[kt++]=fe+Fe|0,d[kt++]=Ae+We|0,d[kt++]=Pe+Tt|0,d[kt++]=Le+Xe|0,d[kt++]=be+Ke|0,d[kt++]=ge+lt|0,d[kt++]=Re+U|0,d[kt++]=me+_|0,d[kt++]=xe+m|0,d[kt++]=le+F|0,d[kt++]=he+ie|0,d[kt++]=re+we|0,d[kt++]=de+Ie|0,d[kt++]=pe+Qe|0}const ue=q(ne,{counterRight:!1,counterLength:4,allowShortKeys:!1}),ae=q(ne,{counterRight:!1,counterLength:8,extendNonceFn:function se(C,j,M,d){let v=C[0],W=C[1],H=C[2],ee=C[3],fe=j[0],Ae=j[1],Pe=j[2],Le=j[3],be=j[4],ge=j[5],Re=j[6],me=j[7],xe=M[0],le=M[1],he=M[2],re=M[3];for(let pe=0;pe<20;pe+=2)v=v+fe|0,xe=D(xe^v,16),be=be+xe|0,fe=D(fe^be,12),v=v+fe|0,xe=D(xe^v,8),be=be+xe|0,fe=D(fe^be,7),W=W+Ae|0,le=D(le^W,16),ge=ge+le|0,Ae=D(Ae^ge,12),W=W+Ae|0,le=D(le^W,8),ge=ge+le|0,Ae=D(Ae^ge,7),H=H+Pe|0,he=D(he^H,16),Re=Re+he|0,Pe=D(Pe^Re,12),H=H+Pe|0,he=D(he^H,8),Re=Re+he|0,Pe=D(Pe^Re,7),ee=ee+Le|0,re=D(re^ee,16),me=me+re|0,Le=D(Le^me,12),ee=ee+Le|0,re=D(re^ee,8),me=me+re|0,Le=D(Le^me,7),v=v+Ae|0,re=D(re^v,16),Re=Re+re|0,Ae=D(Ae^Re,12),v=v+Ae|0,re=D(re^v,8),Re=Re+re|0,Ae=D(Ae^Re,7),W=W+Pe|0,xe=D(xe^W,16),me=me+xe|0,Pe=D(Pe^me,12),W=W+Pe|0,xe=D(xe^W,8),me=me+xe|0,Pe=D(Pe^me,7),H=H+Le|0,le=D(le^H,16),be=be+le|0,Le=D(Le^be,12),H=H+Le|0,le=D(le^H,8),be=be+le|0,Le=D(Le^be,7),ee=ee+fe|0,he=D(he^ee,16),ge=ge+he|0,fe=D(fe^ge,12),ee=ee+fe|0,he=D(he^ee,8),ge=ge+he|0,fe=D(fe^ge,7);let de=0;d[de++]=v,d[de++]=W,d[de++]=H,d[de++]=ee,d[de++]=xe,d[de++]=le,d[de++]=he,d[de++]=re},allowShortKeys:!1}),De=new Uint8Array(16),P=(C,j)=>{C.update(j);const M=j.length%16;M&&C.update(De.subarray(M))},u=new Uint8Array(32);function h(C,j,M,d,v){const W=C(j,M,u),H=B.create(W);v&&P(H,v),P(H,d);const ee=new Uint8Array(16),fe=(0,p.O8)(ee);(0,p.zp)(fe,0,BigInt(v?v.length:0),!0),(0,p.zp)(fe,8,BigInt(d.length),!0),H.update(ee);const Ae=H.digest();return W.fill(0),Ae}const g=C=>(j,M,d)=>((0,p.qj)(j,32),(0,p.qj)(M),{encrypt:(W,H)=>{const ee=W.length,fe=ee+16;H?(0,p.qj)(H,fe):H=new Uint8Array(fe),C(j,M,W,H,1);const Ae=h(C,j,M,H.subarray(0,-16),d);return H.set(Ae,ee),H},decrypt:(W,H)=>{const ee=W.length,fe=ee-16;if(ee<16)throw new Error("encrypted data must be at least 16 bytes");H?(0,p.qj)(H,fe):H=new Uint8Array(fe);const Ae=W.subarray(0,-16),Pe=W.subarray(-16),Le=h(C,j,M,Ae,d);if(!(0,p.ex)(Pe,Le))throw new Error("invalid tag");return C(j,M,Ae,H,1),H}});g(ue),g(ae)},25953:(Be,z,E)=>{"use strict";E.d(z,{AI:()=>q,DH:()=>O,O8:()=>x,ZJ:()=>se,ex:()=>_e,qj:()=>ve,qn:()=>P,tY:()=>ae,zp:()=>u});const O=g=>new Uint32Array(g.buffer,g.byteOffset,Math.floor(g.byteLength/4));function G(g){return g instanceof Uint8Array||null!=g&&"object"==typeof g&&"Uint8Array"===g.constructor.name}const x=g=>new DataView(g.buffer,g.byteOffset,g.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function q(g){if("string"!=typeof g)throw new Error("utf8ToBytes expected string, got "+typeof g);return new Uint8Array((new TextEncoder).encode(g))}function se(g){if("string"==typeof g)g=q(g);else{if(!G(g))throw new Error("expected Uint8Array, got "+typeof g);g=g.slice()}return g}const ue=g=>"[object Object]"===Object.prototype.toString.call(g)&&g.constructor===Object;function ae(g,w){if(void 0!==w&&("object"!=typeof w||!ue(w)))throw new Error("options must be object or undefined");return Object.assign(g,w)}function ve(g,w){if(!G(g))throw new Error("Uint8Array expected");if("number"==typeof w&&g.length!==w)throw new Error(`Uint8Array length ${w} expected`)}function _e(g,w){if(g.length!==w.length)return!1;let T=0;for(let C=0;C<g.length;C++)T|=g[C]^w[C];return 0===T}const P=(g,w)=>(Object.assign(w,g),w);function u(g,w,T,C){if("function"==typeof g.setBigUint64)return g.setBigUint64(w,T,C);const j=BigInt(32),M=BigInt(4294967295),d=Number(T>>j&M),v=Number(T&M),H=C?0:4;g.setUint32(w+(C?4:0),d,C),g.setUint32(w+H,v,C)}},91879:(Be,z,E)=>{"use strict";E.d(z,{NZ:()=>x});const p="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function x(){if(p&&"object"==typeof p.subtle&&null!=p.subtle)return p.subtle;throw new Error("crypto.subtle must be defined")}E(25953),E(34931)},2716:(Be,z,E)=>{"use strict";E.d(z,{s:()=>oe});var p=E(75781),S=E(62953),O=E(35765),G=E(91006),x=E(7184);const{Ph:A,aT:N}=G,$={Err:class extends Error{constructor(ae=""){super(ae)}},_parseInt(ue){const{Err:ae}=$;if(ue.length<2||2!==ue[0])throw new ae("Invalid signature integer tag");const ve=ue[1],_e=ue.subarray(2,ve+2);if(!ve||_e.length!==ve)throw new ae("Invalid signature integer: wrong length");if(128&_e[0])throw new ae("Invalid signature integer: negative");if(0===_e[0]&&!(128&_e[1]))throw new ae("Invalid signature integer: unnecessary leading zero");return{d:A(_e),l:ue.subarray(ve+2)}},toSig(ue){const{Err:ae}=$,ve="string"==typeof ue?N(ue):ue;if(!G.aY(ve))throw new Error("ui8a expected");let _e=ve.length;if(_e<2||48!=ve[0])throw new ae("Invalid signature tag");if(ve[1]!==_e-2)throw new ae("Invalid signature: incorrect length");const{d:De,l:P}=$._parseInt(ve.subarray(2)),{d:u,l:h}=$._parseInt(P);if(h.length)throw new ae("Invalid signature: left bytes after parsing");return{r:De,s:u}},hexFromSig(ue){const ae=w=>8&Number.parseInt(w[0],16)?"00"+w:w,ve=w=>{const T=w.toString(16);return 1&T.length?`0${T}`:T},_e=ae(ve(ue.s)),De=ae(ve(ue.r)),P=_e.length/2,u=De.length/2,h=ve(P),g=ve(u);return`30${ve(u+P+4)}02${g}${De}02${h}${_e}`}},K=BigInt(0),D=BigInt(1),V=(BigInt(2),BigInt(3));function J(ue){const ae=function te(ue){const ae=(0,x.h)(ue);return G.Q5(ae,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...ae})}(ue),{Fp:ve,n:_e}=ae,De=ve.BYTES+1,P=2*ve.BYTES+1;function h(de){return O.zi(de,_e)}function g(de){return O.B8(de,_e)}const{ProjectivePoint:w,normPrivateKeyToScalar:T,weierstrassEquation:C,isWithinCurveOrder:j}=function Q(ue){const ae=function B(ue){const ae=(0,x.h)(ue);G.Q5(ae,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:ve,Fp:_e,a:De}=ae;if(ve){if(!_e.eql(De,_e.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof ve||"bigint"!=typeof ve.beta||"function"!=typeof ve.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...ae})}(ue),{Fp:ve}=ae,_e=ae.toBytes||((d,v,W)=>{const H=v.toAffine();return G.Id(Uint8Array.from([4]),ve.toBytes(H.x),ve.toBytes(H.y))}),De=ae.fromBytes||(d=>{const v=d.subarray(1);return{x:ve.fromBytes(v.subarray(0,ve.BYTES)),y:ve.fromBytes(v.subarray(ve.BYTES,2*ve.BYTES))}});function P(d){const{a:v,b:W}=ae,H=ve.sqr(d),ee=ve.mul(H,d);return ve.add(ve.add(ee,ve.mul(d,v)),W)}if(!ve.eql(ve.sqr(ae.Gy),P(ae.Gx)))throw new Error("bad generator point: equation left != right");function u(d){return"bigint"==typeof d&&K<d&&d<ae.n}function h(d){if(!u(d))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function g(d){const{allowedPrivateKeyLengths:v,nByteLength:W,wrapPrivateKey:H,n:ee}=ae;if(v&&"bigint"!=typeof d){if(G.aY(d)&&(d=G.My(d)),"string"!=typeof d||!v.includes(d.length))throw new Error("Invalid key");d=d.padStart(2*W,"0")}let fe;try{fe="bigint"==typeof d?d:G.Ph((0,G.qj)("private key",d,W))}catch{throw new Error(`private key must be ${W} bytes, hex or bigint, not ${typeof d}`)}return H&&(fe=O.zi(fe,ee)),h(fe),fe}const w=new Map;function T(d){if(!(d instanceof C))throw new Error("ProjectivePoint expected")}class C{constructor(v,W,H){if(this.px=v,this.py=W,this.pz=H,null==v||!ve.isValid(v))throw new Error("x required");if(null==W||!ve.isValid(W))throw new Error("y required");if(null==H||!ve.isValid(H))throw new Error("z required")}static fromAffine(v){const{x:W,y:H}=v||{};if(!v||!ve.isValid(W)||!ve.isValid(H))throw new Error("invalid affine point");if(v instanceof C)throw new Error("projective point not allowed");const ee=fe=>ve.eql(fe,ve.ZERO);return ee(W)&&ee(H)?C.ZERO:new C(W,H,ve.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const W=ve.invertBatch(v.map(H=>H.pz));return v.map((H,ee)=>H.toAffine(W[ee])).map(C.fromAffine)}static fromHex(v){const W=C.fromAffine(De((0,G.qj)("pointHex",v)));return W.assertValidity(),W}static fromPrivateKey(v){return C.BASE.multiply(g(v))}_setWindowSize(v){this._WINDOW_SIZE=v,w.delete(this)}assertValidity(){if(this.is0()){if(ae.allowInfinityPoint&&!ve.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:W}=this.toAffine();if(!ve.isValid(v)||!ve.isValid(W))throw new Error("bad point: x or y not FE");const H=ve.sqr(W),ee=P(v);if(!ve.eql(H,ee))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(ve.isOdd)return!ve.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){T(v);const{px:W,py:H,pz:ee}=this,{px:fe,py:Ae,pz:Pe}=v,Le=ve.eql(ve.mul(W,Pe),ve.mul(fe,ee)),be=ve.eql(ve.mul(H,Pe),ve.mul(Ae,ee));return Le&&be}negate(){return new C(this.px,ve.neg(this.py),this.pz)}double(){const{a:v,b:W}=ae,H=ve.mul(W,V),{px:ee,py:fe,pz:Ae}=this;let Pe=ve.ZERO,Le=ve.ZERO,be=ve.ZERO,ge=ve.mul(ee,ee),Re=ve.mul(fe,fe),me=ve.mul(Ae,Ae),xe=ve.mul(ee,fe);return xe=ve.add(xe,xe),be=ve.mul(ee,Ae),be=ve.add(be,be),Pe=ve.mul(v,be),Le=ve.mul(H,me),Le=ve.add(Pe,Le),Pe=ve.sub(Re,Le),Le=ve.add(Re,Le),Le=ve.mul(Pe,Le),Pe=ve.mul(xe,Pe),be=ve.mul(H,be),me=ve.mul(v,me),xe=ve.sub(ge,me),xe=ve.mul(v,xe),xe=ve.add(xe,be),be=ve.add(ge,ge),ge=ve.add(be,ge),ge=ve.add(ge,me),ge=ve.mul(ge,xe),Le=ve.add(Le,ge),me=ve.mul(fe,Ae),me=ve.add(me,me),ge=ve.mul(me,xe),Pe=ve.sub(Pe,ge),be=ve.mul(me,Re),be=ve.add(be,be),be=ve.add(be,be),new C(Pe,Le,be)}add(v){T(v);const{px:W,py:H,pz:ee}=this,{px:fe,py:Ae,pz:Pe}=v;let Le=ve.ZERO,be=ve.ZERO,ge=ve.ZERO;const Re=ae.a,me=ve.mul(ae.b,V);let xe=ve.mul(W,fe),le=ve.mul(H,Ae),he=ve.mul(ee,Pe),re=ve.add(W,H),de=ve.add(fe,Ae);re=ve.mul(re,de),de=ve.add(xe,le),re=ve.sub(re,de),de=ve.add(W,ee);let pe=ve.add(fe,Pe);return de=ve.mul(de,pe),pe=ve.add(xe,he),de=ve.sub(de,pe),pe=ve.add(H,ee),Le=ve.add(Ae,Pe),pe=ve.mul(pe,Le),Le=ve.add(le,he),pe=ve.sub(pe,Le),ge=ve.mul(Re,de),Le=ve.mul(me,he),ge=ve.add(Le,ge),Le=ve.sub(le,ge),ge=ve.add(le,ge),be=ve.mul(Le,ge),le=ve.add(xe,xe),le=ve.add(le,xe),he=ve.mul(Re,he),de=ve.mul(me,de),le=ve.add(le,he),he=ve.sub(xe,he),he=ve.mul(Re,he),de=ve.add(de,he),xe=ve.mul(le,de),be=ve.add(be,xe),xe=ve.mul(pe,de),Le=ve.mul(re,Le),Le=ve.sub(Le,xe),xe=ve.mul(re,le),ge=ve.mul(pe,ge),ge=ve.add(ge,xe),new C(Le,be,ge)}subtract(v){return this.add(v.negate())}is0(){return this.equals(C.ZERO)}wNAF(v){return M.wNAFCached(this,w,v,W=>{const H=ve.invertBatch(W.map(ee=>ee.pz));return W.map((ee,fe)=>ee.toAffine(H[fe])).map(C.fromAffine)})}multiplyUnsafe(v){const W=C.ZERO;if(v===K)return W;if(h(v),v===D)return this;const{endo:H}=ae;if(!H)return M.unsafeLadder(this,v);let{k1neg:ee,k1:fe,k2neg:Ae,k2:Pe}=H.splitScalar(v),Le=W,be=W,ge=this;for(;fe>K||Pe>K;)fe&D&&(Le=Le.add(ge)),Pe&D&&(be=be.add(ge)),ge=ge.double(),fe>>=D,Pe>>=D;return ee&&(Le=Le.negate()),Ae&&(be=be.negate()),be=new C(ve.mul(be.px,H.beta),be.py,be.pz),Le.add(be)}multiply(v){h(v);let H,ee,W=v;const{endo:fe}=ae;if(fe){const{k1neg:Ae,k1:Pe,k2neg:Le,k2:be}=fe.splitScalar(W);let{p:ge,f:Re}=this.wNAF(Pe),{p:me,f:xe}=this.wNAF(be);ge=M.constTimeNegate(Ae,ge),me=M.constTimeNegate(Le,me),me=new C(ve.mul(me.px,fe.beta),me.py,me.pz),H=ge.add(me),ee=Re.add(xe)}else{const{p:Ae,f:Pe}=this.wNAF(W);H=Ae,ee=Pe}return C.normalizeZ([H,ee])[0]}multiplyAndAddUnsafe(v,W,H){const ee=C.BASE,fe=(Pe,Le)=>Le!==K&&Le!==D&&Pe.equals(ee)?Pe.multiply(Le):Pe.multiplyUnsafe(Le),Ae=fe(this,W).add(fe(v,H));return Ae.is0()?void 0:Ae}toAffine(v){const{px:W,py:H,pz:ee}=this,fe=this.is0();null==v&&(v=fe?ve.ONE:ve.inv(ee));const Ae=ve.mul(W,v),Pe=ve.mul(H,v),Le=ve.mul(ee,v);if(fe)return{x:ve.ZERO,y:ve.ZERO};if(!ve.eql(Le,ve.ONE))throw new Error("invZ was invalid");return{x:Ae,y:Pe}}isTorsionFree(){const{h:v,isTorsionFree:W}=ae;if(v===D)return!0;if(W)return W(C,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:W}=ae;return v===D?this:W?W(C,this):this.multiplyUnsafe(ae.h)}toRawBytes(v=!0){return this.assertValidity(),_e(C,this,v)}toHex(v=!0){return G.My(this.toRawBytes(v))}}C.BASE=new C(ae.Gx,ae.Gy,ve.ONE),C.ZERO=new C(ve.ZERO,ve.ONE,ve.ZERO);const j=ae.nBitLength,M=(0,x.A)(C,ae.endo?Math.ceil(j/2):j);return{CURVE:ae,ProjectivePoint:C,normPrivateKeyToScalar:g,weierstrassEquation:P,isWithinCurveOrder:u}}({...ae,toBytes(de,pe,Se){const ke=pe.toAffine(),Fe=ve.toBytes(ke.x),We=G.Id;return Se?We(Uint8Array.from([pe.hasEvenY()?2:3]),Fe):We(Uint8Array.from([4]),Fe,ve.toBytes(ke.y))},fromBytes(de){const pe=de.length,Se=de[0],ke=de.subarray(1);if(pe!==De||2!==Se&&3!==Se){if(pe===P&&4===Se)return{x:ve.fromBytes(ke.subarray(0,ve.BYTES)),y:ve.fromBytes(ke.subarray(ve.BYTES,2*ve.BYTES))};throw new Error(`Point of length ${pe} was invalid. Expected ${De} compressed bytes or ${P} uncompressed bytes`)}{const Fe=G.Ph(ke);if(!function u(de){return K<de&&de<ve.ORDER}(Fe))throw new Error("Point is not on curve");const We=C(Fe);let Tt=ve.sqrt(We);return!(1&~Se)!=((Tt&D)===D)&&(Tt=ve.neg(Tt)),{x:Fe,y:Tt}}}}),M=de=>G.My(G.lq(de,ae.nByteLength));function d(de){return de>_e>>D}const W=(de,pe,Se)=>G.Ph(de.slice(pe,Se));class H{constructor(pe,Se,ke){this.r=pe,this.s=Se,this.recovery=ke,this.assertValidity()}static fromCompact(pe){const Se=ae.nByteLength;return pe=(0,G.qj)("compactSignature",pe,2*Se),new H(W(pe,0,Se),W(pe,Se,2*Se))}static fromDER(pe){const{r:Se,s:ke}=$.toSig((0,G.qj)("DER",pe));return new H(Se,ke)}assertValidity(){if(!j(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!j(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(pe){return new H(this.r,this.s,pe)}recoverPublicKey(pe){const{r:Se,s:ke,recovery:Fe}=this,We=be((0,G.qj)("msgHash",pe));if(null==Fe||![0,1,2,3].includes(Fe))throw new Error("recovery id invalid");const Tt=2===Fe||3===Fe?Se+ae.n:Se;if(Tt>=ve.ORDER)throw new Error("recovery id 2 or 3 invalid");const Ke=w.fromHex((1&Fe?"03":"02")+M(Tt)),lt=g(Tt),U=h(-We*lt),_=h(ke*lt),m=w.BASE.multiplyAndAddUnsafe(Ke,U,_);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new H(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return G.aT(this.toDERHex())}toDERHex(){return $.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return G.aT(this.toCompactHex())}toCompactHex(){return M(this.r)+M(this.s)}}const ee={isValidPrivateKey(de){try{return T(de),!0}catch{return!1}},normPrivateKeyToScalar:T,randomPrivateKey:()=>{const de=O.Tp(ae.n);return O.qy(ae.randomBytes(de),ae.n)},precompute:(de=8,pe=w.BASE)=>(pe._setWindowSize(de),pe.multiply(BigInt(3)),pe)};function Ae(de){const pe=G.aY(de),Se="string"==typeof de,ke=(pe||Se)&&de.length;return pe?ke===De||ke===P:Se?ke===2*De||ke===2*P:de instanceof w}const Le=ae.bits2int||function(de){const pe=G.Ph(de),Se=8*de.length-ae.nBitLength;return Se>0?pe>>BigInt(Se):pe},be=ae.bits2int_modN||function(de){return h(Le(de))},ge=G.OG(ae.nBitLength);function Re(de){if("bigint"!=typeof de)throw new Error("bigint expected");if(!(K<=de&&de<ge))throw new Error(`bigint expected < 2^${ae.nBitLength}`);return G.lq(de,ae.nByteLength)}const xe={lowS:ae.lowS,prehash:!1},le={lowS:ae.lowS,prehash:!1};return w.BASE._setWindowSize(8),{CURVE:ae,getPublicKey:function fe(de,pe=!0){return w.fromPrivateKey(de).toRawBytes(pe)},getSharedSecret:function Pe(de,pe,Se=!0){if(Ae(de))throw new Error("first arg must be private key");if(!Ae(pe))throw new Error("second arg must be public key");return w.fromHex(pe).multiply(T(de)).toRawBytes(Se)},sign:function he(de,pe,Se=xe){const{seed:ke,k2sig:Fe}=function me(de,pe,Se=xe){if(["recovered","canonical"].some(ie=>ie in Se))throw new Error("sign() legacy options not supported");const{hash:ke,randomBytes:Fe}=ae;let{lowS:We,prehash:Tt,extraEntropy:Xe}=Se;null==We&&(We=!0),de=(0,G.qj)("msgHash",de),Tt&&(de=(0,G.qj)("prehashed msgHash",ke(de)));const Ke=be(de),lt=T(pe),U=[Re(lt),Re(Ke)];if(null!=Xe){const ie=!0===Xe?Fe(ve.BYTES):Xe;U.push((0,G.qj)("extraEntropy",ie))}const _=G.Id(...U),m=Ke;return{seed:_,k2sig:function F(ie){const we=Le(ie);if(!j(we))return;const Ie=g(we),Qe=w.BASE.multiply(we).toAffine(),kt=h(Qe.x);if(kt===K)return;const pt=h(Ie*h(m+kt*lt));if(pt===K)return;let Et=(Qe.x===kt?0:2)|Number(Qe.y&D),Lt=pt;return We&&d(pt)&&(Lt=function v(de){return d(de)?h(-de):de}(pt),Et^=1),new H(kt,Lt,Et)}}}(de,pe,Se);return G.fg(ae.hash.outputLen,ae.nByteLength,ae.hmac)(ke,Fe)},verify:function re(de,pe,Se,ke=le){const Fe=de;if(pe=(0,G.qj)("msgHash",pe),Se=(0,G.qj)("publicKey",Se),"strict"in ke)throw new Error("options.strict was renamed to lowS");const{lowS:We,prehash:Tt}=ke;let Xe,Ke;try{if("string"==typeof Fe||G.aY(Fe))try{Xe=H.fromDER(Fe)}catch(Qe){if(!(Qe instanceof $.Err))throw Qe;Xe=H.fromCompact(Fe)}else{if("object"!=typeof Fe||"bigint"!=typeof Fe.r||"bigint"!=typeof Fe.s)throw new Error("PARSE");{const{r:Qe,s:kt}=Fe;Xe=new H(Qe,kt)}}Ke=w.fromHex(Se)}catch(Qe){if("PARSE"===Qe.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(We&&Xe.hasHighS())return!1;Tt&&(pe=ae.hash(pe));const{r:lt,s:U}=Xe,_=be(pe),m=g(U),F=h(_*m),ie=h(lt*m),we=w.BASE.multiplyAndAddUnsafe(Ke,F,ie)?.toAffine();return!!we&&h(we.x)===lt},ProjectivePoint:w,Signature:H,utils:ee}}function se(ue){return{hash:ue,hmac:(ae,...ve)=>(0,p.w)(ue,ae,(0,S.Id)(...ve)),randomBytes:S.po}}function oe(ue,ae){const ve=_e=>J({...ue,...se(_e)});return Object.freeze({...ve(ae),create:ve})}BigInt(4)},7184:(Be,z,E)=>{"use strict";E.d(z,{A:()=>x,h:()=>B});var p=E(35765),S=E(91006);const O=BigInt(0),G=BigInt(1);function x(A,N){const $=(D,X)=>{const V=X.negate();return D?V:X},K=D=>({windows:Math.ceil(N/D)+1,windowSize:2**(D-1)});return{constTimeNegate:$,unsafeLadder(D,X){let V=A.ZERO,Z=D;for(;X>O;)X&G&&(V=V.add(Z)),Z=Z.double(),X>>=G;return V},precomputeWindow(D,X){const{windows:V,windowSize:Z}=K(X),Q=[];let te=D,J=te;for(let q=0;q<V;q++){J=te,Q.push(J);for(let ne=1;ne<Z;ne++)J=J.add(te),Q.push(J);te=J.double()}return Q},wNAF(D,X,V){const{windows:Z,windowSize:Q}=K(D);let te=A.ZERO,J=A.BASE;const q=BigInt(2**D-1),ne=2**D,se=BigInt(D);for(let oe=0;oe<Z;oe++){const ue=oe*Q;let ae=Number(V&q);V>>=se,ae>Q&&(ae-=ne,V+=G);const ve=ue,_e=ue+Math.abs(ae)-1,P=ae<0;0===ae?J=J.add($(oe%2!=0,X[ve])):te=te.add($(P,X[_e]))}return{p:te,f:J}},wNAFCached(D,X,V,Z){const Q=D._WINDOW_SIZE||1;let te=X.get(D);return te||(te=this.precomputeWindow(D,Q),1!==Q&&X.set(D,Z(te))),this.wNAF(Q,te,V)}}}function B(A){return(0,p.jr)(A.Fp),(0,S.Q5)(A,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,p.LH)(A.n,A.nBitLength),...A,p:A.Fp.ORDER})}},35765:(Be,z,E)=>{"use strict";E.d(z,{B8:()=>Z,D0:()=>_e,LH:()=>ve,Tp:()=>g,Tv:()=>P,dQ:()=>J,jr:()=>ne,n7:()=>X,qy:()=>w,zH:()=>V,zi:()=>D});var p=E(91006);const S=BigInt(0),O=BigInt(1),G=BigInt(2),x=BigInt(3),B=BigInt(4),A=BigInt(5),N=BigInt(8);function D(T,C){const j=T%C;return j>=S?j:C+j}function X(T,C,j){if(j<=S||C<S)throw new Error("Expected power/modulo > 0");if(j===O)return S;let M=O;for(;C>S;)C&O&&(M=M*T%j),T=T*T%j,C>>=O;return M}function V(T,C,j){let M=T;for(;C-- >S;)M*=M,M%=j;return M}function Z(T,C){if(T===S||C<=S)throw new Error(`invert: expected positive integers, got n=${T} mod=${C}`);let j=D(T,C),M=C,d=S,v=O,W=O,H=S;for(;j!==S;){const fe=M/j,Ae=M%j,Pe=d-W*fe,Le=v-H*fe;M=j,j=Ae,d=W,v=H,W=Pe,H=Le}if(M!==O)throw new Error("invert: does not exist");return D(d,C)}BigInt(9),BigInt(16);const J=(T,C)=>(D(T,C)&O)===O,q=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ne(T){const j=q.reduce((M,d)=>(M[d]="function",M),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,p.Q5)(T,j)}function ve(T,C){const j=void 0!==C?C:T.toString(2).length;return{nBitLength:j,nByteLength:Math.ceil(j/8)}}function _e(T,C,j=!1,M={}){if(T<=S)throw new Error(`Expected Field ORDER > 0, got ${T}`);const{nBitLength:d,nByteLength:v}=ve(T,C);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const W=function te(T){if(T%B===x){const C=(T+O)/B;return function(M,d){const v=M.pow(d,C);if(!M.eql(M.sqr(v),d))throw new Error("Cannot find square root");return v}}if(T%N===A){const C=(T-A)/N;return function(M,d){const v=M.mul(d,G),W=M.pow(v,C),H=M.mul(d,W),ee=M.mul(M.mul(H,G),W),fe=M.mul(H,M.sub(ee,M.ONE));if(!M.eql(M.sqr(fe),d))throw new Error("Cannot find square root");return fe}}return function Q(T){const C=(T-O)/G;let j,M,d;for(j=T-O,M=0;j%G===S;j/=G,M++);for(d=G;d<T&&X(d,C,T)!==T-O;d++);if(1===M){const W=(T+O)/B;return function(ee,fe){const Ae=ee.pow(fe,W);if(!ee.eql(ee.sqr(Ae),fe))throw new Error("Cannot find square root");return Ae}}const v=(j+O)/G;return function(H,ee){if(H.pow(ee,C)===H.neg(H.ONE))throw new Error("Cannot find square root");let fe=M,Ae=H.pow(H.mul(H.ONE,d),j),Pe=H.pow(ee,v),Le=H.pow(ee,j);for(;!H.eql(Le,H.ONE);){if(H.eql(Le,H.ZERO))return H.ZERO;let be=1;for(let Re=H.sqr(Le);be<fe&&!H.eql(Re,H.ONE);be++)Re=H.sqr(Re);const ge=H.pow(Ae,O<<BigInt(fe-be-1));Ae=H.sqr(ge),Pe=H.mul(Pe,ge),Le=H.mul(Le,Ae),fe=be}return Pe}}(T)}(T),H=Object.freeze({ORDER:T,BITS:d,BYTES:v,MASK:(0,p.OG)(d),ZERO:S,ONE:O,create:ee=>D(ee,T),isValid:ee=>{if("bigint"!=typeof ee)throw new Error("Invalid field element: expected bigint, got "+typeof ee);return S<=ee&&ee<T},is0:ee=>ee===S,isOdd:ee=>(ee&O)===O,neg:ee=>D(-ee,T),eql:(ee,fe)=>ee===fe,sqr:ee=>D(ee*ee,T),add:(ee,fe)=>D(ee+fe,T),sub:(ee,fe)=>D(ee-fe,T),mul:(ee,fe)=>D(ee*fe,T),pow:(ee,fe)=>function se(T,C,j){if(j<S)throw new Error("Expected power > 0");if(j===S)return T.ONE;if(j===O)return C;let M=T.ONE,d=C;for(;j>S;)j&O&&(M=T.mul(M,d)),d=T.sqr(d),j>>=O;return M}(H,ee,fe),div:(ee,fe)=>D(ee*Z(fe,T),T),sqrN:ee=>ee*ee,addN:(ee,fe)=>ee+fe,subN:(ee,fe)=>ee-fe,mulN:(ee,fe)=>ee*fe,inv:ee=>Z(ee,T),sqrt:M.sqrt||(ee=>W(H,ee)),invertBatch:ee=>function oe(T,C){const j=new Array(C.length),M=C.reduce((v,W,H)=>T.is0(W)?v:(j[H]=v,T.mul(v,W)),T.ONE),d=T.inv(M);return C.reduceRight((v,W,H)=>T.is0(W)?v:(j[H]=T.mul(v,j[H]),T.mul(v,W)),d),j}(H,ee),cmov:(ee,fe,Ae)=>Ae?fe:ee,toBytes:ee=>j?(0,p.z)(ee,v):(0,p.lq)(ee,v),fromBytes:ee=>{if(ee.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${ee.length}`);return j?(0,p.lX)(ee):(0,p.Ph)(ee)}});return Object.freeze(H)}function P(T,C){if(!T.isOdd)throw new Error("Field doesn't have isOdd");const j=T.sqrt(C);return T.isOdd(j)?T.neg(j):j}function h(T){if("bigint"!=typeof T)throw new Error("field order must be bigint");const C=T.toString(2).length;return Math.ceil(C/8)}function g(T){const C=h(T);return C+Math.ceil(C/2)}function w(T,C,j=!1){const M=T.length,d=h(C),v=g(C);if(M<16||M<v||M>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${M}`);const H=D(j?(0,p.Ph)(T):(0,p.lX)(T),C-O)+O;return j?(0,p.z)(H,d):(0,p.lq)(H,d)}},91006:(Be,z,E)=>{"use strict";E.d(z,{Id:()=>q,My:()=>B,OG:()=>ve,Ph:()=>X,Q5:()=>h,aT:()=>D,aY:()=>G,fg:()=>P,lX:()=>V,lq:()=>Z,qj:()=>J,z:()=>Q}),BigInt(0);const S=BigInt(1),O=BigInt(2);function G(g){return g instanceof Uint8Array||null!=g&&"object"==typeof g&&"Uint8Array"===g.constructor.name}const x=Array.from({length:256},(g,w)=>w.toString(16).padStart(2,"0"));function B(g){if(!G(g))throw new Error("Uint8Array expected");let w="";for(let T=0;T<g.length;T++)w+=x[g[T]];return w}function N(g){if("string"!=typeof g)throw new Error("hex string expected, got "+typeof g);return BigInt(""===g?"0":`0x${g}`)}const $={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function K(g){return g>=$._0&&g<=$._9?g-$._0:g>=$._A&&g<=$._F?g-($._A-10):g>=$._a&&g<=$._f?g-($._a-10):void 0}function D(g){if("string"!=typeof g)throw new Error("hex string expected, got "+typeof g);const w=g.length,T=w/2;if(w%2)throw new Error("padded hex string expected, got unpadded hex of length "+w);const C=new Uint8Array(T);for(let j=0,M=0;j<T;j++,M+=2){const d=K(g.charCodeAt(M)),v=K(g.charCodeAt(M+1));if(void 0===d||void 0===v)throw new Error('hex string expected, got non-hex character "'+(g[M]+g[M+1])+'" at index '+M);C[j]=16*d+v}return C}function X(g){return N(B(g))}function V(g){if(!G(g))throw new Error("Uint8Array expected");return N(B(Uint8Array.from(g).reverse()))}function Z(g,w){return D(g.toString(16).padStart(2*w,"0"))}function Q(g,w){return Z(g,w).reverse()}function J(g,w,T){let C;if("string"==typeof w)try{C=D(w)}catch(M){throw new Error(`${g} must be valid hex string, got "${w}". Cause: ${M}`)}else{if(!G(w))throw new Error(`${g} must be hex string or Uint8Array`);C=Uint8Array.from(w)}const j=C.length;if("number"==typeof T&&j!==T)throw new Error(`${g} expected ${T} bytes, got ${j}`);return C}function q(...g){let w=0;for(let j=0;j<g.length;j++){const M=g[j];if(!G(M))throw new Error("Uint8Array expected");w+=M.length}let T=new Uint8Array(w),C=0;for(let j=0;j<g.length;j++){const M=g[j];T.set(M,C),C+=M.length}return T}const ve=g=>(O<<BigInt(g-1))-S,_e=g=>new Uint8Array(g),De=g=>Uint8Array.from(g);function P(g,w,T){if("number"!=typeof g||g<2)throw new Error("hashLen must be a number");if("number"!=typeof w||w<2)throw new Error("qByteLen must be a number");if("function"!=typeof T)throw new Error("hmacFn must be a function");let C=_e(g),j=_e(g),M=0;const d=()=>{C.fill(1),j.fill(0),M=0},v=(...fe)=>T(j,C,...fe),W=(fe=_e())=>{j=v(De([0]),fe),C=v(),0!==fe.length&&(j=v(De([1]),fe),C=v())},H=()=>{if(M++>=1e3)throw new Error("drbg: tried 1000 values");let fe=0;const Ae=[];for(;fe<w;){C=v();const Pe=C.slice();Ae.push(Pe),fe+=C.length}return q(...Ae)};return(fe,Ae)=>{let Pe;for(d(),W(fe);!(Pe=Ae(H()));)W();return d(),Pe}}const u={bigint:g=>"bigint"==typeof g,function:g=>"function"==typeof g,boolean:g=>"boolean"==typeof g,string:g=>"string"==typeof g,stringOrUint8Array:g=>"string"==typeof g||G(g),isSafeInteger:g=>Number.isSafeInteger(g),array:g=>Array.isArray(g),field:(g,w)=>w.Fp.isValid(g),hash:g=>"function"==typeof g&&Number.isSafeInteger(g.outputLen)};function h(g,w,T={}){const C=(j,M,d)=>{const v=u[M];if("function"!=typeof v)throw new Error(`Invalid validator "${M}", expected function`);const W=g[j];if(!(d&&void 0===W||v(W,g)))throw new Error(`Invalid param ${String(j)}=${W} (${typeof W}), expected ${M}`)};for(const[j,M]of Object.entries(w))C(j,M,!1);for(const[j,M]of Object.entries(T))C(j,M,!0);return g}},86295:(Be,z,E)=>{"use strict";E.d(z,{ev:()=>C,OA:()=>ee,GU:()=>W,TU:()=>v});var p=E(25431),S=E(62953),O=E(35765),G=E(91006),x=E(7184);const B=BigInt(0),A=BigInt(1),N=BigInt(2),$=BigInt(8),K={zip215:!0};function X(F){const ie=function D(F){const ie=(0,x.h)(F);return G.Q5(F,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...ie})}(F),{Fp:we,n:Ie,prehash:Qe,hash:kt,randomBytes:pt,nByteLength:Et,h:Lt}=ie,qt=N<<BigInt(8*Et)-A,Kt=we.create,er=ie.uvRatio||((jn,On)=>{try{return{isValid:!0,value:we.sqrt(jn*we.inv(On))}}catch{return{isValid:!1,value:B}}}),cn=ie.adjustScalarBytes||(jn=>jn),Ut=ie.domain||((jn,On,Vn)=>{if(On.length||Vn)throw new Error("Contexts/pre-hash are not supported");return jn}),Nt=jn=>"bigint"==typeof jn&&B<jn,dt=(jn,On)=>Nt(jn)&&Nt(On)&&jn<On,it=jn=>jn===B||dt(jn,qt);function Ct(jn,On){if(dt(jn,On))return jn;throw new Error(`Expected valid scalar < ${On}, got ${typeof jn} ${jn}`)}function Bt(jn){return jn===B?jn:Ct(jn,Ie)}const Wt=new Map;function Yn(jn){if(!(jn instanceof at))throw new Error("ExtendedPoint expected")}class at{constructor(On,Vn,Hn,ar){if(this.ex=On,this.ey=Vn,this.ez=Hn,this.et=ar,!it(On))throw new Error("x required");if(!it(Vn))throw new Error("y required");if(!it(Hn))throw new Error("z required");if(!it(ar))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(On){if(On instanceof at)throw new Error("extended point not allowed");const{x:Vn,y:Hn}=On||{};if(!it(Vn)||!it(Hn))throw new Error("invalid affine point");return new at(Vn,Hn,A,Kt(Vn*Hn))}static normalizeZ(On){const Vn=we.invertBatch(On.map(Hn=>Hn.ez));return On.map((Hn,ar)=>Hn.toAffine(Vn[ar])).map(at.fromAffine)}_setWindowSize(On){this._WINDOW_SIZE=On,Wt.delete(this)}assertValidity(){const{a:On,d:Vn}=ie;if(this.is0())throw new Error("bad point: ZERO");const{ex:Hn,ey:ar,ez:qn,et:vr}=this,_r=Kt(Hn*Hn),Er=Kt(ar*ar),mr=Kt(qn*qn),Rr=Kt(mr*mr),Br=Kt(_r*On);if(Kt(mr*Kt(Br+Er))!==Kt(Rr+Kt(Vn*Kt(_r*Er))))throw new Error("bad point: equation left != right (1)");if(Kt(Hn*ar)!==Kt(qn*vr))throw new Error("bad point: equation left != right (2)")}equals(On){Yn(On);const{ex:Vn,ey:Hn,ez:ar}=this,{ex:qn,ey:vr,ez:_r}=On,Er=Kt(Vn*_r),mr=Kt(qn*ar),Rr=Kt(Hn*_r),Br=Kt(vr*ar);return Er===mr&&Rr===Br}is0(){return this.equals(at.ZERO)}negate(){return new at(Kt(-this.ex),this.ey,this.ez,Kt(-this.et))}double(){const{a:On}=ie,{ex:Vn,ey:Hn,ez:ar}=this,qn=Kt(Vn*Vn),vr=Kt(Hn*Hn),_r=Kt(N*Kt(ar*ar)),Er=Kt(On*qn),mr=Vn+Hn,Rr=Kt(Kt(mr*mr)-qn-vr),Br=Er+vr,kr=Br-_r,jr=Er-vr,Yr=Kt(Rr*kr),wt=Kt(Br*jr),Pt=Kt(Rr*jr),sn=Kt(kr*Br);return new at(Yr,wt,sn,Pt)}add(On){Yn(On);const{a:Vn,d:Hn}=ie,{ex:ar,ey:qn,ez:vr,et:_r}=this,{ex:Er,ey:mr,ez:Rr,et:Br}=On;if(Vn===BigInt(-1)){const Fi=Kt((qn-ar)*(mr+Er)),_o=Kt((qn+ar)*(mr-Er)),Ci=Kt(_o-Fi);if(Ci===B)return this.double();const fi=Kt(vr*N*Br),so=Kt(_r*N*Rr),ei=so+fi,yi=_o+Fi,wi=so-fi,Ro=Kt(ei*Ci),Gs=Kt(yi*wi),ui=Kt(ei*wi),mo=Kt(Ci*yi);return new at(Ro,Gs,mo,ui)}const kr=Kt(ar*Er),jr=Kt(qn*mr),Yr=Kt(_r*Hn*Br),wt=Kt(vr*Rr),Pt=Kt((ar+qn)*(Er+mr)-kr-jr),sn=wt-Yr,_n=wt+Yr,$n=Kt(jr-Vn*kr),sr=Kt(Pt*sn),ir=Kt(_n*$n),Ar=Kt(Pt*$n),hr=Kt(sn*_n);return new at(sr,ir,hr,Ar)}subtract(On){return this.add(On.negate())}wNAF(On){return et.wNAFCached(this,Wt,On,at.normalizeZ)}multiply(On){const{p:Vn,f:Hn}=this.wNAF(Ct(On,Ie));return at.normalizeZ([Vn,Hn])[0]}multiplyUnsafe(On){let Vn=Bt(On);return Vn===B?ft:this.equals(ft)||Vn===A?this:this.equals(ut)?this.wNAF(Vn).p:et.unsafeLadder(this,Vn)}isSmallOrder(){return this.multiplyUnsafe(Lt).is0()}isTorsionFree(){return et.unsafeLadder(this,Ie).is0()}toAffine(On){const{ex:Vn,ey:Hn,ez:ar}=this,qn=this.is0();null==On&&(On=qn?$:we.inv(ar));const vr=Kt(Vn*On),_r=Kt(Hn*On),Er=Kt(ar*On);if(qn)return{x:B,y:A};if(Er!==A)throw new Error("invZ was invalid");return{x:vr,y:_r}}clearCofactor(){const{h:On}=ie;return On===A?this:this.multiplyUnsafe(On)}static fromHex(On,Vn=!1){const{d:Hn,a:ar}=ie,qn=we.BYTES,vr=(On=(0,G.qj)("pointHex",On,qn)).slice(),_r=On[qn-1];vr[qn-1]=-129&_r;const Er=G.lX(vr);Er===B||Ct(Er,Vn?qt:we.ORDER);const mr=Kt(Er*Er),Rr=Kt(mr-A),Br=Kt(Hn*mr-ar);let{isValid:kr,value:jr}=er(Rr,Br);if(!kr)throw new Error("Point.fromHex: invalid y coordinate");const Yr=(jr&A)===A,wt=!!(128&_r);if(!Vn&&jr===B&&wt)throw new Error("Point.fromHex: x=0 and x_0=1");return wt!==Yr&&(jr=Kt(-jr)),at.fromAffine({x:jr,y:Er})}static fromPrivateKey(On){return zt(On).point}toRawBytes(){const{x:On,y:Vn}=this.toAffine(),Hn=G.z(Vn,we.BYTES);return Hn[Hn.length-1]|=On&A?128:0,Hn}toHex(){return G.My(this.toRawBytes())}}at.BASE=new at(ie.Gx,ie.Gy,A,Kt(ie.Gx*ie.Gy)),at.ZERO=new at(B,A,A,B);const{BASE:ut,ZERO:ft}=at,et=(0,x.A)(at,8*Et);function gt(jn){return(0,O.zi)(jn,Ie)}function un(jn){return gt(G.lX(jn))}function zt(jn){const On=Et;jn=(0,G.qj)("private key",jn,On);const Vn=(0,G.qj)("hashed private key",kt(jn),2*On),Hn=cn(Vn.slice(0,On)),ar=Vn.slice(On,2*On),qn=un(Hn),vr=ut.multiply(qn),_r=vr.toRawBytes();return{head:Hn,prefix:ar,scalar:qn,point:vr,pointBytes:_r}}function pr(jn=new Uint8Array,...On){const Vn=G.Id(...On);return un(kt(Ut(Vn,(0,G.qj)("context",jn),!!Qe)))}const vn=K;return ut._setWindowSize(8),{CURVE:ie,getPublicKey:function tn(jn){return zt(jn).pointBytes},sign:function bn(jn,On,Vn={}){jn=(0,G.qj)("message",jn),Qe&&(jn=Qe(jn));const{prefix:Hn,scalar:ar,pointBytes:qn}=zt(On),vr=pr(Vn.context,Hn,jn),_r=ut.multiply(vr).toRawBytes(),mr=gt(vr+pr(Vn.context,_r,qn,jn)*ar);Bt(mr);const Rr=G.Id(_r,G.z(mr,we.BYTES));return(0,G.qj)("result",Rr,2*Et)},verify:function Or(jn,On,Vn,Hn=vn){const{context:ar,zip215:qn}=Hn,vr=we.BYTES;jn=(0,G.qj)("signature",jn,2*vr),On=(0,G.qj)("message",On),Qe&&(On=Qe(On));const _r=G.lX(jn.slice(vr,2*vr));let Er,mr,Rr;try{Er=at.fromHex(Vn,qn),mr=at.fromHex(jn.slice(0,vr),qn),Rr=ut.multiplyUnsafe(_r)}catch{return!1}if(!qn&&Er.isSmallOrder())return!1;const Br=pr(ar,mr.toRawBytes(),Er.toRawBytes(),On);return mr.add(Er.multiplyUnsafe(Br)).subtract(Rr).clearCofactor().equals(at.ZERO)},ExtendedPoint:at,utils:{getExtendedPublicKey:zt,randomPrivateKey:()=>pt(we.BYTES),precompute:(jn=8,On=at.BASE)=>(On._setWindowSize(jn),On.multiply(BigInt(3)),On)}}}const V=BigInt(0),Z=BigInt(1),J=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),q=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),se=(BigInt(0),BigInt(1)),oe=BigInt(2),ue=BigInt(5),ae=BigInt(10),ve=BigInt(20),_e=BigInt(40),De=BigInt(80);function P(F){const ie=J,Ie=F*F%ie*F%ie,Qe=(0,O.zH)(Ie,oe,ie)*Ie%ie,kt=(0,O.zH)(Qe,se,ie)*F%ie,pt=(0,O.zH)(kt,ue,ie)*kt%ie,Et=(0,O.zH)(pt,ae,ie)*pt%ie,Lt=(0,O.zH)(Et,ve,ie)*Et%ie,qt=(0,O.zH)(Lt,_e,ie)*Lt%ie,Kt=(0,O.zH)(qt,De,ie)*qt%ie,er=(0,O.zH)(Kt,De,ie)*qt%ie,cn=(0,O.zH)(er,ae,ie)*pt%ie;return{pow_p_5_8:(0,O.zH)(cn,oe,ie)*F%ie,b2:Ie}}function u(F){return F[0]&=248,F[31]&=127,F[31]|=64,F}const w=(0,O.D0)(J,void 0,!0),T={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:w,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:p.Zf,randomBytes:S.po,adjustScalarBytes:u,uvRatio:function h(F,ie){const we=J,Ie=(0,O.zi)(ie*ie*ie,we),kt=P(F*(0,O.zi)(Ie*Ie*ie,we)).pow_p_5_8;let pt=(0,O.zi)(F*Ie*kt,we);const Et=(0,O.zi)(ie*pt*pt,we),Lt=pt,qt=(0,O.zi)(pt*q,we),Kt=Et===F,er=Et===(0,O.zi)(-F,we),cn=Et===(0,O.zi)(-F*q,we);return Kt&&(pt=Lt),(er||cn)&&(pt=qt),(0,O.dQ)(pt,we)&&(pt=(0,O.zi)(-pt,we)),{isValid:Kt||er,value:pt}}},C=X(T);const v=function te(F){const ie=function Q(F){return(0,G.Q5)(F,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...F})}(F),{P:we}=ie,Ie=Wt=>(0,O.zi)(Wt,we),Qe=ie.montgomeryBits,kt=Math.ceil(Qe/8),pt=ie.nByteLength,Et=ie.adjustScalarBytes||(Wt=>Wt),Lt=ie.powPminus2||(Wt=>(0,O.n7)(Wt,we-BigInt(2),we));function qt(Wt,Yn,at){const ut=Ie(Wt*(Yn-at));return[Yn=Ie(Yn-ut),at=Ie(at+ut)]}function Kt(Wt){if("bigint"==typeof Wt&&V<=Wt&&Wt<we)return Wt;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const er=(ie.a-BigInt(2))/BigInt(4);function Ut(Wt){return(0,G.z)(Ie(Wt),kt)}function it(Wt,Yn){const at=function Nt(Wt){const Yn=(0,G.qj)("u coordinate",Wt,kt);return 32===pt&&(Yn[31]&=127),(0,G.lX)(Yn)}(Yn),ut=function dt(Wt){const Yn=(0,G.qj)("scalar",Wt),at=Yn.length;if(at!==kt&&at!==pt)throw new Error(`Expected ${kt} or ${pt} bytes, got ${at}`);return(0,G.lX)(Et(Yn))}(Wt),ft=function cn(Wt,Yn){const at=Kt(Wt),ut=Kt(Yn),ft=at;let pr,et=Z,gt=V,un=at,zt=Z,tn=V;for(let vn=BigInt(Qe-1);vn>=V;vn--){const Or=ut>>vn&Z;tn^=Or,pr=qt(tn,et,un),et=pr[0],un=pr[1],pr=qt(tn,gt,zt),gt=pr[0],zt=pr[1],tn=Or;const Qn=et+gt,jn=Ie(Qn*Qn),On=et-gt,Vn=Ie(On*On),Hn=jn-Vn,ar=un+zt,vr=Ie((un-zt)*Qn),_r=Ie(ar*On),Er=vr+_r,mr=vr-_r;un=Ie(Er*Er),zt=Ie(ft*Ie(mr*mr)),et=Ie(jn*Vn),gt=Ie(Hn*(jn+Ie(er*Hn)))}pr=qt(tn,et,un),et=pr[0],un=pr[1],pr=qt(tn,gt,zt),gt=pr[0],zt=pr[1];const bn=Lt(gt);return Ie(et*bn)}(at,ut);if(ft===V)throw new Error("Invalid private or public key received");return Ut(ft)}const Ct=Ut(ie.Gu);function Bt(Wt){return it(Wt,Ct)}return{scalarMult:it,scalarMultBase:Bt,getSharedSecret:(Wt,Yn)=>it(Wt,Yn),getPublicKey:Wt=>Bt(Wt),utils:{randomPrivateKey:()=>ie.randomBytes(ie.nByteLength)},GuBytes:Ct}}({P:J,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:F=>{const ie=J,{pow_p_5_8:we,b2:Ie}=P(F);return(0,O.zi)((0,O.zH)(we,BigInt(3),ie)*Ie,ie)},adjustScalarBytes:u,randomBytes:S.po});function W(F){const{y:ie}=C.ExtendedPoint.fromHex(F),we=BigInt(1);return w.toBytes(w.create((we+ie)*w.inv(we-ie)))}function ee(F){const ie=T.hash(F.subarray(0,32));return T.adjustScalarBytes(ie).subarray(0,32)}const fe=(w.ORDER+BigInt(3))/BigInt(8);w.pow(oe,fe),w.sqrt(w.neg(w.ONE)),BigInt(5),BigInt(8),BigInt(486662),(0,O.Tv)(w,w.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},40499:(Be,z,E)=>{"use strict";E.d(z,{Ag:()=>N});var p=E(2716),S=E(47565);const G=(0,E(35765).D0)(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),x=G.create(BigInt("-3")),B=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),N=(0,p.s)({a:x,b:B,Fp:G,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},S.s)},94256:(Be,z,E)=>{"use strict";E.d(z,{bI:()=>D});var p=E(47565),S=E(35765),O=E(2716);const G=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),x=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),B=BigInt(1),A=BigInt(2),N=(M,d)=>(M+d/A)/d;const K=(0,S.D0)(G,void 0,void 0,{sqrt:function $(M){const d=G,v=BigInt(3),W=BigInt(6),H=BigInt(11),ee=BigInt(22),fe=BigInt(23),Ae=BigInt(44),Pe=BigInt(88),Le=M*M*M%d,be=Le*Le*M%d,ge=(0,S.zH)(be,v,d)*be%d,Re=(0,S.zH)(ge,v,d)*be%d,me=(0,S.zH)(Re,A,d)*Le%d,xe=(0,S.zH)(me,H,d)*me%d,le=(0,S.zH)(xe,ee,d)*xe%d,he=(0,S.zH)(le,Ae,d)*le%d,re=(0,S.zH)(he,Pe,d)*he%d,de=(0,S.zH)(re,Ae,d)*le%d,pe=(0,S.zH)(de,v,d)*be%d,Se=(0,S.zH)(pe,fe,d)*xe%d,ke=(0,S.zH)(Se,W,d)*Le%d,Fe=(0,S.zH)(ke,A,d);if(!K.eql(K.sqr(Fe),M))throw new Error("Cannot find square root");return Fe}}),D=(0,O.s)({a:BigInt(0),b:BigInt(7),Fp:K,n:x,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:M=>{const d=x,v=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),W=-B*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),H=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ee=v,fe=BigInt("0x100000000000000000000000000000000"),Ae=N(ee*M,d),Pe=N(-W*M,d);let Le=(0,S.zi)(M-Ae*v-Pe*H,d),be=(0,S.zi)(-Ae*W-Pe*ee,d);const ge=Le>fe,Re=be>fe;if(ge&&(Le=d-Le),Re&&(be=d-be),Le>fe||be>fe)throw new Error("splitScalar: Endomorphism failed, k="+M);return{k1neg:ge,k1:Le,k2neg:Re,k2:be}}}},p.s);BigInt(0)},37099:(Be,z,E)=>{"use strict";function p(K){if(!Number.isSafeInteger(K)||K<0)throw new Error(`Wrong positive integer: ${K}`)}function G(K,...D){if(!function O(K){return K instanceof Uint8Array||null!=K&&"object"==typeof K&&"Uint8Array"===K.constructor.name}(K))throw new Error("Expected Uint8Array");if(D.length>0&&!D.includes(K.length))throw new Error(`Expected Uint8Array of length ${D}, not of length=${K.length}`)}function x(K){if("function"!=typeof K||"function"!=typeof K.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");p(K.outputLen),p(K.blockLen)}function B(K,D=!0){if(K.destroyed)throw new Error("Hash instance has been destroyed");if(D&&K.finished)throw new Error("Hash#digest() has already been called")}function A(K,D){G(K);const X=D.outputLen;if(K.length<X)throw new Error(`digestInto() expects output buffer of length at least ${X}`)}E.d(z,{CG:()=>A,ai:()=>p,ee:()=>G,t2:()=>B,tW:()=>x})},36405:(Be,z,E)=>{"use strict";E.d(z,{D:()=>G});var p=E(37099),S=E(62953);class G extends S.Vw{constructor(B,A,N,$){super(),this.blockLen=B,this.outputLen=A,this.padOffset=N,this.isLE=$,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(B),this.view=(0,S.O8)(this.buffer)}update(B){(0,p.t2)(this);const{view:A,buffer:N,blockLen:$}=this,K=(B=(0,S.ZJ)(B)).length;for(let D=0;D<K;){const X=Math.min($-this.pos,K-D);if(X!==$)N.set(B.subarray(D,D+X),this.pos),this.pos+=X,D+=X,this.pos===$&&(this.process(A,0),this.pos=0);else{const V=(0,S.O8)(B);for(;$<=K-D;D+=$)this.process(V,D)}}return this.length+=B.length,this.roundClean(),this}digestInto(B){(0,p.t2)(this),(0,p.CG)(B,this),this.finished=!0;const{buffer:A,view:N,blockLen:$,isLE:K}=this;let{pos:D}=this;A[D++]=128,this.buffer.subarray(D).fill(0),this.padOffset>$-D&&(this.process(N,0),D=0);for(let te=D;te<$;te++)A[te]=0;(function O(x,B,A,N){if("function"==typeof x.setBigUint64)return x.setBigUint64(B,A,N);const $=BigInt(32),K=BigInt(4294967295),D=Number(A>>$&K),X=Number(A&K),Z=N?0:4;x.setUint32(B+(N?4:0),D,N),x.setUint32(B+Z,X,N)})(N,$-8,BigInt(8*this.length),K),this.process(N,0);const X=(0,S.O8)(B),V=this.outputLen;if(V%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Z=V/4,Q=this.get();if(Z>Q.length)throw new Error("_sha2: outputLen bigger than state");for(let te=0;te<Z;te++)X.setUint32(4*te,Q[te],K)}digest(){const{buffer:B,outputLen:A}=this;this.digestInto(B);const N=B.slice(0,A);return this.destroy(),N}_cloneInto(B){B||(B=new this.constructor),B.set(...this.get());const{blockLen:A,buffer:N,length:$,finished:K,destroyed:D,pos:X}=this;return B.length=$,B.pos=X,B.finished=K,B.destroyed=D,$%A&&B.buffer.set(N),B}}},86703:(Be,z,E)=>{"use strict";E.d(z,{E:()=>p});const p="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},75781:(Be,z,E)=>{"use strict";E.d(z,{w:()=>G});var p=E(37099),S=E(62953);class O extends S.Vw{constructor(B,A){super(),this.finished=!1,this.destroyed=!1,(0,p.tW)(B);const N=(0,S.ZJ)(A);if(this.iHash=B.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const $=this.blockLen,K=new Uint8Array($);K.set(N.length>$?B.create().update(N).digest():N);for(let D=0;D<K.length;D++)K[D]^=54;this.iHash.update(K),this.oHash=B.create();for(let D=0;D<K.length;D++)K[D]^=106;this.oHash.update(K),K.fill(0)}update(B){return(0,p.t2)(this),this.iHash.update(B),this}digestInto(B){(0,p.t2)(this),(0,p.ee)(B,this.outputLen),this.finished=!0,this.iHash.digestInto(B),this.oHash.update(B),this.oHash.digestInto(B),this.destroy()}digest(){const B=new Uint8Array(this.oHash.outputLen);return this.digestInto(B),B}_cloneInto(B){B||(B=Object.create(Object.getPrototypeOf(this),{}));const{oHash:A,iHash:N,finished:$,destroyed:K,blockLen:D,outputLen:X}=this;return B.finished=$,B.destroyed=K,B.blockLen=D,B.outputLen=X,B.oHash=A._cloneInto(B.oHash),B.iHash=N._cloneInto(B.iHash),B}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const G=(x,B,A)=>new O(x,B).update(A).digest();G.create=(x,B)=>new O(x,B)},47565:(Be,z,E)=>{"use strict";E.d(z,{s:()=>K});var p=E(36405),S=E(62953);const O=(X,V,Z)=>X&V^~X&Z,G=(X,V,Z)=>X&V^X&Z^V&Z,x=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),B=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),A=new Uint32Array(64);class N extends p.D{constructor(){super(64,32,8,!1),this.A=0|B[0],this.B=0|B[1],this.C=0|B[2],this.D=0|B[3],this.E=0|B[4],this.F=0|B[5],this.G=0|B[6],this.H=0|B[7]}get(){const{A:V,B:Z,C:Q,D:te,E:J,F:q,G:ne,H:se}=this;return[V,Z,Q,te,J,q,ne,se]}set(V,Z,Q,te,J,q,ne,se){this.A=0|V,this.B=0|Z,this.C=0|Q,this.D=0|te,this.E=0|J,this.F=0|q,this.G=0|ne,this.H=0|se}process(V,Z){for(let ae=0;ae<16;ae++,Z+=4)A[ae]=V.getUint32(Z,!1);for(let ae=16;ae<64;ae++){const ve=A[ae-15],_e=A[ae-2],De=(0,S.Ow)(ve,7)^(0,S.Ow)(ve,18)^ve>>>3,P=(0,S.Ow)(_e,17)^(0,S.Ow)(_e,19)^_e>>>10;A[ae]=P+A[ae-7]+De+A[ae-16]|0}let{A:Q,B:te,C:J,D:q,E:ne,F:se,G:oe,H:ue}=this;for(let ae=0;ae<64;ae++){const _e=ue+((0,S.Ow)(ne,6)^(0,S.Ow)(ne,11)^(0,S.Ow)(ne,25))+O(ne,se,oe)+x[ae]+A[ae]|0,P=((0,S.Ow)(Q,2)^(0,S.Ow)(Q,13)^(0,S.Ow)(Q,22))+G(Q,te,J)|0;ue=oe,oe=se,se=ne,ne=q+_e|0,q=J,J=te,te=Q,Q=_e+P|0}Q=Q+this.A|0,te=te+this.B|0,J=J+this.C|0,q=q+this.D|0,ne=ne+this.E|0,se=se+this.F|0,oe=oe+this.G|0,ue=ue+this.H|0,this.set(Q,te,J,q,ne,se,oe,ue)}roundClean(){A.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const K=(0,S.ld)(()=>new N)},25431:(Be,z,E)=>{"use strict";E.d(z,{Zf:()=>v});var p=E(36405);const S=BigInt(2**32-1),O=BigInt(32);function G(fe,Ae=!1){return Ae?{h:Number(fe&S),l:Number(fe>>O&S)}:{h:0|Number(fe>>O&S),l:0|Number(fe&S)}}const P_split=function x(fe,Ae=!1){let Pe=new Uint32Array(fe.length),Le=new Uint32Array(fe.length);for(let be=0;be<fe.length;be++){const{h:ge,l:Re}=G(fe[be],Ae);[Pe[be],Le[be]]=[ge,Re]}return[Pe,Le]},P_shrSH=(fe,Ae,Pe)=>fe>>>Pe,P_shrSL=(fe,Ae,Pe)=>fe<<32-Pe|Ae>>>Pe,P_rotrSH=(fe,Ae,Pe)=>fe>>>Pe|Ae<<32-Pe,P_rotrSL=(fe,Ae,Pe)=>fe<<32-Pe|Ae>>>Pe,P_rotrBH=(fe,Ae,Pe)=>fe<<64-Pe|Ae>>>Pe-32,P_rotrBL=(fe,Ae,Pe)=>fe>>>Pe-32|Ae<<64-Pe,P_add=function ne(fe,Ae,Pe,Le){const be=(Ae>>>0)+(Le>>>0);return{h:fe+Pe+(be/2**32|0)|0,l:0|be}},P_add3L=(fe,Ae,Pe)=>(fe>>>0)+(Ae>>>0)+(Pe>>>0),P_add3H=(fe,Ae,Pe,Le)=>Ae+Pe+Le+(fe/2**32|0)|0,P_add4L=(fe,Ae,Pe,Le)=>(fe>>>0)+(Ae>>>0)+(Pe>>>0)+(Le>>>0),P_add4H=(fe,Ae,Pe,Le,be)=>Ae+Pe+Le+be+(fe/2**32|0)|0,P_add5H=(fe,Ae,Pe,Le,be,ge)=>Ae+Pe+Le+be+ge+(fe/2**32|0)|0,P_add5L=(fe,Ae,Pe,Le,be)=>(fe>>>0)+(Ae>>>0)+(Pe>>>0)+(Le>>>0)+(be>>>0);var u=E(62953);const[h,g]=P_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(fe=>BigInt(fe))),w=new Uint32Array(80),T=new Uint32Array(80);class C extends p.D{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:Ae,Al:Pe,Bh:Le,Bl:be,Ch:ge,Cl:Re,Dh:me,Dl:xe,Eh:le,El:he,Fh:re,Fl:de,Gh:pe,Gl:Se,Hh:ke,Hl:Fe}=this;return[Ae,Pe,Le,be,ge,Re,me,xe,le,he,re,de,pe,Se,ke,Fe]}set(Ae,Pe,Le,be,ge,Re,me,xe,le,he,re,de,pe,Se,ke,Fe){this.Ah=0|Ae,this.Al=0|Pe,this.Bh=0|Le,this.Bl=0|be,this.Ch=0|ge,this.Cl=0|Re,this.Dh=0|me,this.Dl=0|xe,this.Eh=0|le,this.El=0|he,this.Fh=0|re,this.Fl=0|de,this.Gh=0|pe,this.Gl=0|Se,this.Hh=0|ke,this.Hl=0|Fe}process(Ae,Pe){for(let Xe=0;Xe<16;Xe++,Pe+=4)w[Xe]=Ae.getUint32(Pe),T[Xe]=Ae.getUint32(Pe+=4);for(let Xe=16;Xe<80;Xe++){const Ke=0|w[Xe-15],lt=0|T[Xe-15],U=P_rotrSH(Ke,lt,1)^P_rotrSH(Ke,lt,8)^P_shrSH(Ke,lt,7),_=P_rotrSL(Ke,lt,1)^P_rotrSL(Ke,lt,8)^P_shrSL(Ke,lt,7),m=0|w[Xe-2],F=0|T[Xe-2],ie=P_rotrSH(m,F,19)^P_rotrBH(m,F,61)^P_shrSH(m,F,6),we=P_rotrSL(m,F,19)^P_rotrBL(m,F,61)^P_shrSL(m,F,6),Ie=P_add4L(_,we,T[Xe-7],T[Xe-16]),Qe=P_add4H(Ie,U,ie,w[Xe-7],w[Xe-16]);w[Xe]=0|Qe,T[Xe]=0|Ie}let{Ah:Le,Al:be,Bh:ge,Bl:Re,Ch:me,Cl:xe,Dh:le,Dl:he,Eh:re,El:de,Fh:pe,Fl:Se,Gh:ke,Gl:Fe,Hh:We,Hl:Tt}=this;for(let Xe=0;Xe<80;Xe++){const Ke=P_rotrSH(re,de,14)^P_rotrSH(re,de,18)^P_rotrBH(re,de,41),lt=P_rotrSL(re,de,14)^P_rotrSL(re,de,18)^P_rotrBL(re,de,41),U=re&pe^~re&ke,m=P_add5L(Tt,lt,de&Se^~de&Fe,g[Xe],T[Xe]),F=P_add5H(m,We,Ke,U,h[Xe],w[Xe]),ie=0|m,we=P_rotrSH(Le,be,28)^P_rotrBH(Le,be,34)^P_rotrBH(Le,be,39),Ie=P_rotrSL(Le,be,28)^P_rotrBL(Le,be,34)^P_rotrBL(Le,be,39),Qe=Le&ge^Le&me^ge&me,kt=be&Re^be&xe^Re&xe;We=0|ke,Tt=0|Fe,ke=0|pe,Fe=0|Se,pe=0|re,Se=0|de,({h:re,l:de}=P_add(0|le,0|he,0|F,0|ie)),le=0|me,he=0|xe,me=0|ge,xe=0|Re,ge=0|Le,Re=0|be;const pt=P_add3L(ie,Ie,kt);Le=P_add3H(pt,F,we,Qe),be=0|pt}({h:Le,l:be}=P_add(0|this.Ah,0|this.Al,0|Le,0|be)),({h:ge,l:Re}=P_add(0|this.Bh,0|this.Bl,0|ge,0|Re)),({h:me,l:xe}=P_add(0|this.Ch,0|this.Cl,0|me,0|xe)),({h:le,l:he}=P_add(0|this.Dh,0|this.Dl,0|le,0|he)),({h:re,l:de}=P_add(0|this.Eh,0|this.El,0|re,0|de)),({h:pe,l:Se}=P_add(0|this.Fh,0|this.Fl,0|pe,0|Se)),({h:ke,l:Fe}=P_add(0|this.Gh,0|this.Gl,0|ke,0|Fe)),({h:We,l:Tt}=P_add(0|this.Hh,0|this.Hl,0|We,0|Tt)),this.set(Le,be,ge,Re,me,xe,le,he,re,de,pe,Se,ke,Fe,We,Tt)}roundClean(){w.fill(0),T.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const v=(0,u.ld)(()=>new C)},62953:(Be,z,E)=>{"use strict";E.d(z,{$h:()=>Q,AI:()=>J,Id:()=>ne,My:()=>K,O8:()=>B,Ow:()=>A,Vw:()=>se,ZJ:()=>q,aT:()=>V,ld:()=>ae,po:()=>De,tY:()=>ue});var p=E(10467),S=E(86703);function x(P){return P instanceof Uint8Array||null!=P&&"object"==typeof P&&"Uint8Array"===P.constructor.name}const B=P=>new DataView(P.buffer,P.byteOffset,P.byteLength),A=(P,u)=>P<<32-u|P>>>u;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const $=Array.from({length:256},(P,u)=>u.toString(16).padStart(2,"0"));function K(P){if(!x(P))throw new Error("Uint8Array expected");let u="";for(let h=0;h<P.length;h++)u+=$[P[h]];return u}const D={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function X(P){return P>=D._0&&P<=D._9?P-D._0:P>=D._A&&P<=D._F?P-(D._A-10):P>=D._a&&P<=D._f?P-(D._a-10):void 0}function V(P){if("string"!=typeof P)throw new Error("hex string expected, got "+typeof P);const u=P.length,h=u/2;if(u%2)throw new Error("padded hex string expected, got unpadded hex of length "+u);const g=new Uint8Array(h);for(let w=0,T=0;w<h;w++,T+=2){const C=X(P.charCodeAt(T)),j=X(P.charCodeAt(T+1));if(void 0===C||void 0===j)throw new Error('hex string expected, got non-hex character "'+(P[T]+P[T+1])+'" at index '+T);g[w]=16*C+j}return g}const Z=function(){var P=(0,p.A)(function*(){});return function(){return P.apply(this,arguments)}}();function Q(P,u,h){return te.apply(this,arguments)}function te(){return(te=(0,p.A)(function*(P,u,h){let g=Date.now();for(let w=0;w<P;w++){h(w);const T=Date.now()-g;T>=0&&T<u||(yield Z(),g+=T)}})).apply(this,arguments)}function J(P){if("string"!=typeof P)throw new Error("utf8ToBytes expected string, got "+typeof P);return new Uint8Array((new TextEncoder).encode(P))}function q(P){if("string"==typeof P&&(P=J(P)),!x(P))throw new Error("expected Uint8Array, got "+typeof P);return P}function ne(...P){let u=0;for(let g=0;g<P.length;g++){const w=P[g];if(!x(w))throw new Error("Uint8Array expected");u+=w.length}const h=new Uint8Array(u);for(let g=0,w=0;g<P.length;g++){const T=P[g];h.set(T,w),w+=T.length}return h}class se{clone(){return this._cloneInto()}}const oe={}.toString;function ue(P,u){if(void 0!==u&&"[object Object]"!==oe.call(u))throw new Error("Options should be object or undefined");return Object.assign(P,u)}function ae(P){const u=g=>P().update(q(g)).digest(),h=P();return u.outputLen=h.outputLen,u.blockLen=h.blockLen,u.create=()=>P(),u}function De(P=32){if(S.E&&"function"==typeof S.E.getRandomValues)return S.E.getRandomValues(new Uint8Array(P));throw new Error("crypto.getRandomValues must be defined")}},53813:(Be,z,E)=>{"use strict";function S(me){return me instanceof Uint8Array||null!=me&&"object"==typeof me&&"Uint8Array"===me.constructor.name}function N(me,xe,le){if(xe<2)throw new Error(`convertRadix: wrong from=${xe}, base cannot be less than 2`);if(le<2)throw new Error(`convertRadix: wrong to=${le}, base cannot be less than 2`);if(!Array.isArray(me))throw new Error("convertRadix: data should be array");if(!me.length)return[];let he=0;const re=[],de=Array.from(me);for(de.forEach(pe=>{if(pe<0||pe>=xe)throw new Error(`Wrong integer: ${pe}`)});;){let pe=0,Se=!0;for(let ke=he;ke<de.length;ke++){const Fe=de[ke],We=xe*pe+Fe;if(!Number.isSafeInteger(We)||xe*pe/xe!==pe||We-Fe!=xe*pe)throw new Error("convertRadix: carry overflow");pe=We%le;const Tt=Math.floor(We/le);if(de[ke]=Tt,!Number.isSafeInteger(Tt)||Tt*le+pe!==We)throw new Error("convertRadix: carry overflow");Se&&(Tt?Se=!1:he=ke)}if(re.push(pe),Se)break}for(let pe=0;pe<me.length-1&&0===me[pe];pe++)re.push(0);return re.reverse()}E.d(z,{Wp:()=>te});const $=(me,xe)=>xe?$(xe,me%xe):me,K=(me,xe)=>me+(xe-$(me,xe));function D(me,xe,le,he){if(!Array.isArray(me))throw new Error("convertRadix2: data should be array");if(xe<=0||xe>32)throw new Error(`convertRadix2: wrong from=${xe}`);if(le<=0||le>32)throw new Error(`convertRadix2: wrong to=${le}`);if(K(xe,le)>32)throw new Error(`convertRadix2: carry overflow from=${xe} to=${le} carryBits=${K(xe,le)}`);let re=0,de=0;const pe=2**le-1,Se=[];for(const ke of me){if(ke>=2**xe)throw new Error(`convertRadix2: invalid data word=${ke} from=${xe}`);if(re=re<<xe|ke,de+xe>32)throw new Error(`convertRadix2: carry overflow pos=${de} from=${xe}`);for(de+=xe;de>=le;de-=le)Se.push((re>>de-le&pe)>>>0);re&=2**de-1}if(re=re<<le-de&pe,!he&&de>=xe)throw new Error("Excess padding");if(!he&&re)throw new Error(`Non-zero padding: ${re}`);return he&&de>0&&Se.push(re>>>0),Se}const te={alphabet:function G(me){return{encode:xe=>{if(!Array.isArray(xe)||xe.length&&"number"!=typeof xe[0])throw new Error("alphabet.encode input should be an array of numbers");return xe.map(le=>{if(le<0||le>=me.length)throw new Error(`Digit index outside alphabet: ${le} (alphabet: ${me.length})`);return me[le]})},decode:xe=>{if(!Array.isArray(xe)||xe.length&&"string"!=typeof xe[0])throw new Error("alphabet.decode input should be array of strings");return xe.map(le=>{if("string"!=typeof le)throw new Error(`alphabet.decode: not string element=${le}`);const he=me.indexOf(le);if(-1===he)throw new Error(`Unknown letter: "${le}". Allowed: ${me}`);return he})}}},chain:function O(...me){const xe=de=>de,le=(de,pe)=>Se=>de(pe(Se));return{encode:me.map(de=>de.encode).reduceRight(le,xe),decode:me.map(de=>de.decode).reduce(le,xe)}},checksum:function Q(me,xe){if("function"!=typeof xe)throw new Error("checksum fn should be function");return{encode(le){if(!S(le))throw new Error("checksum.encode: input should be Uint8Array");const he=xe(le).slice(0,me),re=new Uint8Array(le.length+me);return re.set(le),re.set(he,le.length),re},decode(le){if(!S(le))throw new Error("checksum.decode: input should be Uint8Array");const he=le.slice(0,-me),re=xe(he).slice(0,me),de=le.slice(-me);for(let pe=0;pe<me;pe++)if(re[pe]!==de[pe])throw new Error("Invalid checksum");return he}}},convertRadix:N,convertRadix2:D,radix:function X(me){return{encode:xe=>{if(!S(xe))throw new Error("radix.encode input should be Uint8Array");return N(Array.from(xe),256,me)},decode:xe=>{if(!Array.isArray(xe)||xe.length&&"number"!=typeof xe[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(N(xe,me,256))}}},radix2:function V(me,xe=!1){if(me<=0||me>32)throw new Error("radix2: bits should be in (0..32]");if(K(8,me)>32||K(me,8)>32)throw new Error("radix2: carry overflow");return{encode:le=>{if(!S(le))throw new Error("radix2.encode input should be Uint8Array");return D(Array.from(le),8,me,!xe)},decode:le=>{if(!Array.isArray(le)||le.length&&"number"!=typeof le[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(D(le,me,8,xe))}}},join:function x(me=""){if("string"!=typeof me)throw new Error("join separator should be string");return{encode:xe=>{if(!Array.isArray(xe)||xe.length&&"string"!=typeof xe[0])throw new Error("join.encode input should be array of strings");for(let le of xe)if("string"!=typeof le)throw new Error(`join.encode: non-string input=${le}`);return xe.join(me)},decode:xe=>{if("string"!=typeof xe)throw new Error("join.decode input should be string");return xe.split(me)}}},padding:function B(me,xe="="){if("string"!=typeof xe)throw new Error("padding chr should be string");return{encode(le){if(!Array.isArray(le)||le.length&&"string"!=typeof le[0])throw new Error("padding.encode input should be array of strings");for(let he of le)if("string"!=typeof he)throw new Error(`padding.encode: non-string input=${he}`);for(;le.length*me%8;)le.push(xe);return le},decode(le){if(!Array.isArray(le)||le.length&&"string"!=typeof le[0])throw new Error("padding.encode input should be array of strings");for(let re of le)if("string"!=typeof re)throw new Error(`padding.decode: non-string input=${re}`);let he=le.length;if(he*me%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;he>0&&le[he-1]===xe;he--)if(!((he-1)*me%8))throw new Error("Invalid padding: string has too much padding");return le.slice(0,he)}}}}},4165:(Be,z,E)=>{"use strict";E.d(z,{uW:()=>K7});var p={};E.r(p),E.d(p,{DO:()=>Ye,OG:()=>Sl,My:()=>ht,Ph:()=>To,lX:()=>_i,Id:()=>Oo,fg:()=>Pf,qj:()=>Wi,aT:()=>Ir,aY:()=>Md,lq:()=>yo,z:()=>cr,Q5:()=>Ma});var S={};E.r(S),E.d(S,{base10:()=>xS});var O={};E.r(O),E.d(O,{base16:()=>DP,base16upper:()=>CP});var G={};E.r(G),E.d(G,{base2:()=>FD});var x={};E.r(x),E.d(x,{base256emoji:()=>jD});var B={};E.r(B),E.d(B,{base32:()=>wg,base32hex:()=>BP,base32hexpad:()=>KD,base32hexpadupper:()=>NP,base32hexupper:()=>_c,base32pad:()=>_g,base32padupper:()=>OP,base32upper:()=>z1,base32z:()=>Db});var A={};E.r(A),E.d(A,{base36:()=>LP,base36upper:()=>UP});var N={};E.r(N),E.d(N,{base58btc:()=>_p,base58flickr:()=>FP});var $={};E.r($),E.d($,{base64:()=>jP,base64pad:()=>KP,base64url:()=>MS,base64urlpad:()=>H1});var K={};E.r(K),E.d(K,{base8:()=>da});var D={};E.r(D),E.d(D,{identity:()=>gr});var X={};E.r(X),E.d(X,{code:()=>Il,decode:()=>Eg,encode:()=>Id,name:()=>Rf});var V={};E.r(V),E.d(V,{code:()=>tc,decode:()=>ji,encode:()=>wh,name:()=>js});var Z={};E.r(Z),E.d(Z,{identity:()=>sL});var Q={};E.r(Q),E.d(Q,{sha256:()=>cL,sha512:()=>lL});var te={};E.r(te),E.d(te,{Authorization:()=>JD,AuthorizationDelegatedGrant:()=>XP,AuthorizationOwner:()=>e3,Definitions:()=>o3,GeneralJwk:()=>Dl,GeneralJws:()=>Ks,GenericSignaturePayload:()=>dR,JwkVerificationMethod:()=>a3,MessagesFilter:()=>eR,MessagesQuery:()=>Kb,MessagesRead:()=>e2,MessagesSubscribe:()=>jS,NumberRangeFilter:()=>tR,PaginationCursor:()=>Vb,PermissionGrantData:()=>$S,PermissionRequestData:()=>ML,PermissionRevocationData:()=>Ah,PermissionsDefinitions:()=>VS,PermissionsScopes:()=>zS,ProtocolDefinition:()=>u3,ProtocolRuleSet:()=>Mc,ProtocolsConfigure:()=>aR,ProtocolsQuery:()=>cR,PublicJwk:()=>f3,RecordsDelete:()=>Cd,RecordsFilter:()=>o2,RecordsQuery:()=>Nf,RecordsRead:()=>lR,RecordsSubscribe:()=>US,RecordsWrite:()=>t3,RecordsWriteDataEncoded:()=>r3,RecordsWriteSignaturePayload:()=>h3,RecordsWriteUnidentified:()=>i3,StringRangeFilter:()=>uR});var J={};E.r(J),E.d(J,{code:()=>lw,decode:()=>aC,encode:()=>aO,name:()=>sO});var q={};E.r(q),E.d(q,{code:()=>W2,createLink:()=>Yg,createNode:()=>oy,decode:()=>Ew,encode:()=>Ip,name:()=>_w,prepare:()=>ku,validate:()=>kM});var ne={};E.r(ne),E.d(ne,{code:()=>Qg,decode:()=>Iw,encode:()=>ZO,name:()=>QC});var se={};E.r(se),E.d(se,{base10:()=>l4});var oe={};E.r(oe),E.d(oe,{base16:()=>d4,base16upper:()=>l6});var ue={};E.r(ue),E.d(ue,{base2:()=>u4});var ae={};E.r(ae),E.d(ae,{base256emoji:()=>u6});var ve={};E.r(ve),E.d(ve,{base32:()=>Pw,base32hex:()=>vU,base32hexpad:()=>Rw,base32hexpadupper:()=>KM,base32hexupper:()=>h4,base32pad:()=>f4,base32padupper:()=>h6,base32upper:()=>f6,base32z:()=>p4});var _e={};E.r(_e),E.d(_e,{base36:()=>m4,base36upper:()=>y4});var De={};E.r(De),E.d(De,{base58btc:()=>Rm,base58flickr:()=>p6});var P={};E.r(P),E.d(P,{base64:()=>id,base64pad:()=>m6,base64url:()=>y6,base64urlpad:()=>g6});var u={};E.r(u),E.d(u,{base8:()=>bU});var h={};E.r(h),E.d(h,{identity:()=>ea});var g={};E.r(g),E.d(g,{code:()=>b4,decode:()=>v6,encode:()=>VM,name:()=>v4});var w={};E.r(w),E.d(w,{code:()=>zM,decode:()=>_4,encode:()=>w4,name:()=>b6});var T={};E.r(T),E.d(T,{identity:()=>I4});var C={};E.r(C),E.d(C,{sha256:()=>C4,sha512:()=>k4});var j={};E.r(j),E.d(j,{OG:()=>J_,My:()=>$v,Ph:()=>zv,lX:()=>v0,Id:()=>Ky,fg:()=>T8,qj:()=>Va,aT:()=>Vv,aY:()=>ep,lq:()=>Jf,z:()=>X_,Q5:()=>$y});var M=E(49970);const H=function d(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var a=r.charAt(o),s=a.charCodeAt(0);if(255!==n[s])throw new TypeError(a+" is ambiguous");n[s]=o}var l=r.length,R=r.charAt(0),I=Math.log(l)/Math.log(256),y=Math.log(256)/Math.log(l);function ye(Me){if("string"!=typeof Me)throw new TypeError("Expected String");if(0===Me.length)return new Uint8Array;var Ce=0;if(" "!==Me[Ce]){for(var je=0,Je=0;Me[Ce]===R;)je++,Ce++;for(var ze=(Me.length-Ce)*I+1>>>0,He=new Uint8Array(ze);Me[Ce];){var rt=n[Me.charCodeAt(Ce)];if(255===rt)return;for(var yt=0,ct=ze-1;(0!==rt||yt<Je)&&-1!==ct;ct--,yt++)He[ct]=(rt+=l*He[ct]>>>0)%256>>>0,rt=rt/256>>>0;if(0!==rt)throw new Error("Non-zero carry");Je=yt,Ce++}if(" "!==Me[Ce]){for(var _t=ze-Je;_t!==ze&&0===He[_t];)_t++;for(var It=new Uint8Array(je+(ze-_t)),Jt=je;_t!==ze;)It[Jt++]=He[_t++];return It}}}return{encode:function L(Me){if(Me instanceof Uint8Array||(ArrayBuffer.isView(Me)?Me=new Uint8Array(Me.buffer,Me.byteOffset,Me.byteLength):Array.isArray(Me)&&(Me=Uint8Array.from(Me))),!(Me instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Me.length)return"";for(var Ce=0,je=0,Je=0,ze=Me.length;Je!==ze&&0===Me[Je];)Je++,Ce++;for(var He=(ze-Je)*y+1>>>0,rt=new Uint8Array(He);Je!==ze;){for(var yt=Me[Je],ct=0,_t=He-1;(0!==yt||ct<je)&&-1!==_t;_t--,ct++)rt[_t]=(yt+=256*rt[_t]>>>0)%l>>>0,yt=yt/l>>>0;if(0!==yt)throw new Error("Non-zero carry");je=ct,Je++}for(var It=He-je;It!==He&&0===rt[It];)It++;for(var Jt=R.repeat(Ce);It<He;++It)Jt+=r.charAt(rt[It]);return Jt},decodeUnsafe:ye,decode:function Te(Me){var Ce=ye(Me);if(Ce)return Ce;throw new Error(`Non-${t} character`)}}},Le=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class me{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class xe{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return he(this,t)}}class le{constructor(t){this.decoders=t}or(t){return he(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const he=(r,t)=>new le({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class re{constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new me(t,n,i),this.decoder=new xe(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const de=({name:r,prefix:t,encode:n,decode:i})=>new re(r,t,n,i),pe=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:o}=H(n,t);return de({prefix:r,name:t,encode:i,decode:a=>Le(o(a))})},Fe=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>de({prefix:t,name:r,encode:o=>((r,t,n)=>{const i="="===t[t.length-1],o=(1<<n)-1;let a="",s=0,l=0;for(let R=0;R<r.length;++R)for(l=l<<8|r[R],s+=8;s>n;)s-=n,a+=t[o&l>>s];if(s&&(a+=t[o&l<<n-s]),i)for(;a.length*n&7;)a+="=";return a})(o,i,n),decode:o=>((r,t,n,i)=>{const o={};for(let y=0;y<t.length;++y)o[t[y]]=y;let a=r.length;for(;"="===r[a-1];)--a;const s=new Uint8Array(a*n/8|0);let l=0,R=0,I=0;for(let y=0;y<a;++y){const L=o[r[y]];if(void 0===L)throw new SyntaxError(`Non-${i} character`);R=R<<n|L,l+=n,l>=8&&(l-=8,s[I++]=255&R>>l)}if(l>=n||255&R<<8-l)throw new SyntaxError("Unexpected end of data");return s})(o,i,n,r)}),Xe=(Fe({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Fe({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Fe({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6})),lt=(Fe({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),new TextEncoder),U=new TextDecoder;class _{static base64UrlToBytes(t){return Xe.baseDecode(t)}static base64UrlToObject(t){const n=Xe.baseDecode(t);return _.bytesToObject(n)}static bytesToBase64Url(t){return Xe.baseEncode(t)}static bytesToString(t){return U.decode(t)}static bytesToObject(t){const n=_.bytesToString(t);return JSON.parse(n)}static objectToBytes(t){const n=JSON.stringify(t);return lt.encode(n)}static stringToBase64Url(t){const n=lt.encode(t);return Xe.baseEncode(n)}static stringToBytes(t){return lt.encode(t)}}var m=E(10467);const F=2n**255n-19n,ie=2n**252n+27742317777372353535851937790883648493n,we=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,Ie=0x6666666666666666666666666666666666666666666666666666666666666658n,Qe={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:F,n:ie,h:8,Gx:we,Gy:Ie},kt=(r="")=>{throw new Error(r)},pt=r=>"string"==typeof r,Et=(r,t)=>!(r instanceof Uint8Array)||"number"==typeof t&&t>0&&r.length!==t?kt("Uint8Array expected"):r,Lt=r=>new Uint8Array(r),qt=(r,t)=>Et(pt(r)?Bt(r):Lt(r),t),Kt=(r,t=F)=>{let n=r%t;return n>=0n?n:t+n},er=r=>r instanceof Ut?r:kt("Point expected");let cn;class Ut{constructor(t,n,i,o){this.ex=t,this.ey=n,this.ez=i,this.et=o}static fromAffine(t){return new Ut(t.x,t.y,1n,Kt(t.x*t.y))}static fromHex(t,n=!0){const{d:i}=Qe,o=(t=qt(t,32)).slice();o[31]=-129&t[31];const a=Yn(o);0n===a||(n&&!(0n<a&&a<F)&&kt("bad y coord 1"),!n&&!(0n<a&&a<2n**256n)&&kt("bad y coord 2"));const s=Kt(a*a),l=Kt(s-1n),R=Kt(i*s+1n);let{isValid:I,value:y}=un(l,R);return I||kt("bad y coordinate 3"),!!(128&t[31])!=(1n===(1n&y))&&(y=Kt(-y)),new Ut(y,a,1n,Kt(y*a))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(t){const{ex:n,ey:i,ez:o}=this,{ex:a,ey:s,ez:l}=er(t),R=Kt(n*l),I=Kt(a*o),y=Kt(i*l),L=Kt(s*o);return R===I&&y===L}is0(){return this.equals(dt)}negate(){return new Ut(Kt(-this.ex),this.ey,this.ez,Kt(-this.et))}double(){const{ex:t,ey:n,ez:i}=this,{a:o}=Qe,a=Kt(t*t),s=Kt(n*n),l=Kt(2n*Kt(i*i)),R=Kt(o*a),I=t+n,y=Kt(Kt(I*I)-a-s),L=R+s,ye=L-l,Te=R-s,Me=Kt(y*ye),Ce=Kt(L*Te),je=Kt(y*Te),Je=Kt(ye*L);return new Ut(Me,Ce,Je,je)}add(t){const{ex:n,ey:i,ez:o,et:a}=this,{ex:s,ey:l,ez:R,et:I}=er(t),{a:y,d:L}=Qe,ye=Kt(n*s),Te=Kt(i*l),Me=Kt(a*L*I),Ce=Kt(o*R),je=Kt((n+i)*(s+l)-ye-Te),Je=Kt(Ce-Me),ze=Kt(Ce+Me),He=Kt(Te-y*ye),rt=Kt(je*Je),yt=Kt(ze*He),ct=Kt(je*He),_t=Kt(Je*ze);return new Ut(rt,yt,_t,ct)}mul(t,n=!0){if(0n===t)return!0===n?kt("cannot multiply by 0"):dt;if("bigint"==typeof t&&0n<t&&t<ie||kt("invalid scalar, must be < L"),!n&&this.is0()||1n===t)return this;if(this.equals(Nt))return Yr(t).p;let i=dt,o=Nt;for(let a=this;t>0n;a=a.double(),t>>=1n)1n&t?i=i.add(a):n&&(o=o.add(a));return i}multiply(t){return this.mul(t)}clearCofactor(){return this.mul(BigInt(Qe.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let t=this.mul(ie/2n,!1).double();return t=t.add(this),t.is0()}toAffine(){const{ex:t,ey:n,ez:i}=this;if(this.is0())return{x:0n,y:0n};const o=ut(i);return 1n!==Kt(i*o)&&kt("invalid inverse"),{x:Kt(t*o),y:Kt(n*o)}}toRawBytes(){const{x:t,y:n}=this.toAffine(),i=Wt(n);return i[31]|=1n&t?128:0,i}toHex(){return Ct(this.toRawBytes())}}Ut.BASE=new Ut(we,Ie,1n,Kt(we*Ie)),Ut.ZERO=new Ut(0n,1n,1n,0n);const{BASE:Nt,ZERO:dt}=Ut,it=(r,t)=>r.toString(16).padStart(t,"0"),Ct=r=>Array.from(r).map(t=>it(t,2)).join(""),Bt=r=>{const t=r.length;(!pt(r)||t%2)&&kt("hex invalid 1");const n=Lt(t/2);for(let i=0;i<n.length;i++){const o=2*i,a=r.slice(o,o+2),s=Number.parseInt(a,16);(Number.isNaN(s)||s<0)&&kt("hex invalid 2"),n[i]=s}return n},Wt=r=>Bt(it(r,64)).reverse(),Yn=r=>BigInt("0x"+Ct(Lt(Et(r)).reverse())),at=(...r)=>{const t=Lt(r.reduce((i,o)=>i+Et(o).length,0));let n=0;return r.forEach(i=>{t.set(i,n),n+=i.length}),t},ut=(r,t=F)=>{(0n===r||t<=0n)&&kt("no inverse n="+r+" mod="+t);let n=Kt(r,t),i=t,o=0n,a=1n,s=1n,l=0n;for(;0n!==n;){const R=i/n,I=i%n,y=o-s*R,L=a-l*R;i=n,n=I,o=s,a=l,s=y,l=L}return 1n===i?Kt(o,t):kt("no inverse")},ft=(r,t)=>{let n=r;for(;t-- >0n;)n*=n,n%=F;return n},gt=19681161376707505956807079304988542015446066515923890162744021073123829784752n,un=(r,t)=>{const n=Kt(t*t*t),o=(r=>{const n=r*r%F*r%F,i=ft(n,2n)*n%F,o=ft(i,1n)*r%F,a=ft(o,5n)*o%F,s=ft(a,10n)*a%F,l=ft(s,20n)*s%F,R=ft(l,40n)*l%F,I=ft(R,80n)*R%F,y=ft(I,80n)*R%F,L=ft(y,10n)*a%F;return{pow_p_5_8:ft(L,2n)*r%F,b2:n}})(r*Kt(n*n*t)).pow_p_5_8;let a=Kt(r*n*o);const s=Kt(t*a*a),l=a,R=Kt(a*gt),I=s===r,y=s===Kt(-r),L=s===Kt(-r*gt);return I&&(a=l),(y||L)&&(a=R),1n===(1n&Kt(a))&&(a=Kt(-a)),{isValid:I||y,value:a}},zt=r=>Kt(Yn(r),ie);let tn;const pr=(...r)=>Rr.sha512Async(...r),bn=(...r)=>"function"==typeof tn?tn(...r):kt("etc.sha512Sync not set"),vn=r=>{const t=r.slice(0,32);t[0]&=248,t[31]&=127,t[31]|=64;const n=r.slice(32,64),i=zt(t),o=Nt.mul(i),a=o.toRawBytes();return{head:t,prefix:n,scalar:i,point:o,pointBytes:a}},Or=r=>pr(qt(r,32)).then(vn);function Vn(r,t){return r?pr(t.hashable).then(t.finish):t.finish(bn(t.hashable))}const ar=function(){var r=(0,m.A)(function*(t,n){const i=qt(t),o=yield Or(n);return Vn(!0,((r,t,n)=>{const{pointBytes:i,scalar:o}=r,a=zt(t),s=Nt.mul(a).toRawBytes();return{hashable:at(s,i,n),finish:I=>{const y=Kt(a+zt(I)*o,ie);return Et(at(s,Wt(y)),64)}}})(o,yield pr(o.prefix,i),i))});return function(n,i){return r.apply(this,arguments)}}(),_r=function(){var r=(0,m.A)(function*(t,n,i){return Vn(!0,((r,t,n)=>{t=qt(t),r=qt(r,64);const i=Ut.fromHex(n,!1),o=Ut.fromHex(r.slice(0,32),!1),a=Yn(r.slice(32,64)),s=Nt.mul(a,!1);return{hashable:at(o.toRawBytes(),i.toRawBytes(),t),finish:I=>{const y=zt(I);return o.add(i.mul(y,!1)).add(s.negate()).clearCofactor().is0()}}})(t,n,i))});return function(n,i,o){return r.apply(this,arguments)}}(),mr=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Rr={bytesToHex:Ct,hexToBytes:Bt,concatBytes:at,mod:Kt,invert:ut,randomBytes:r=>{const t=mr();return t||kt("crypto.getRandomValues must be defined"),t.getRandomValues(Lt(r))},sha512Async:(r=(0,m.A)(function*(...t){const n=mr();n||kt("crypto.subtle or etc.sha512Async must be defined");const i=at(...t);return Lt(yield n.subtle.digest("SHA-512",i.buffer))}),function(){return r.apply(this,arguments)}),sha512Sync:void 0};var r;Object.defineProperties(Rr,{sha512Sync:{configurable:!1,get:()=>tn,set(r){tn||(tn=r)}}});const Br_randomPrivateKey=()=>Rr.randomBytes(32),Yr=r=>{const t=cn||(cn=(()=>{const r=[];let n=Nt,i=n;for(let o=0;o<33;o++){i=n,r.push(i);for(let a=1;a<128;a++)i=i.add(n),r.push(i);n=i.double()}return r})()),n=(y,L)=>{let ye=L.negate();return y?ye:L};let i=dt,o=Nt;const l=BigInt(255),I=BigInt(8);for(let y=0;y<33;y++){const L=128*y;let ye=Number(r&l);r>>=I,ye>128&&(ye-=256,r+=1n);const Te=L,Me=L+Math.abs(ye)-1,je=ye<0;0===ye?o=o.add(n(y%2!=0,t[Te])):i=i.add(n(je,t[Me]))}return{p:i,f:o}};class wt extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DwnError"}}var Pt=function(r){return r.AuthenticateJwsMissing="AuthenticateJwsMissing",r.AuthenticateDescriptorCidMismatch="AuthenticateDescriptorCidMismatch",r.AuthenticationMoreThanOneSignatureNotSupported="AuthenticationMoreThanOneSignatureNotSupported",r.AuthorizationAuthorNotOwner="AuthorizationAuthorNotOwner",r.AuthorizationNotGrantedToAuthor="AuthorizationNotGrantedToAuthor",r.ComputeCidCodecNotSupported="ComputeCidCodecNotSupported",r.ComputeCidMultihashNotSupported="ComputeCidMultihashNotSupported",r.Ed25519InvalidJwk="Ed25519InvalidJwk",r.EventEmitterStreamNotOpenError="EventEmitterStreamNotOpenError",r.MessagesGrantAuthorizationMismatchedProtocol="EventsGrantAuthorizationMismatchedProtocol",r.MessagesSubscribeAuthorizationFailed="MessagesSubscribeAuthorizationFailed",r.MessagesSubscribeEventStreamUnimplemented="MessagesSubscribeEventStreamUnimplemented",r.GeneralJwsVerifierGetPublicKeyNotFound="GeneralJwsVerifierGetPublicKeyNotFound",r.GeneralJwsVerifierInvalidSignature="GeneralJwsVerifierInvalidSignature",r.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",r.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",r.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",r.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",r.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",r.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",r.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",r.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",r.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",r.JwsVerifySignatureUnsupportedCrv="JwsVerifySignatureUnsupportedCrv",r.IndexInvalidCursorValueType="IndexInvalidCursorValueType",r.IndexInvalidCursorSortProperty="IndexInvalidCursorSortProperty",r.IndexInvalidSortPropertyInMemory="IndexInvalidSortPropertyInMemory",r.IndexMissingIndexableProperty="IndexMissingIndexableProperty",r.JwsDecodePlainObjectPayloadInvalid="JwsDecodePlainObjectPayloadInvalid",r.MessagesReadInvalidCid="MessagesReadInvalidCid",r.MessagesReadAuthorizationFailed="MessagesReadAuthorizationFailed",r.MessageGetInvalidCid="MessageGetInvalidCid",r.MessagesQueryAuthorizationFailed="MessagesQueryAuthorizationFailed",r.MessagesReadVerifyScopeFailed="MessagesReadVerifyScopeFailed",r.ParseCidCodecNotSupported="ParseCidCodecNotSupported",r.ParseCidMultihashNotSupported="ParseCidMultihashNotSupported",r.PermissionsProtocolCreateGrantRecordsScopeMissingProtocol="PermissionsProtocolCreateGrantRecordsScopeMissingProtocol",r.PermissionsProtocolCreateRequestRecordsScopeMissingProtocol="PermissionsProtocolCreateRequestRecordsScopeMissingProtocol",r.PermissionsProtocolGetScopeInvalidProtocol="PermissionsProtocolGetScopeInvalidProtocol",r.PermissionsProtocolValidateSchemaUnexpectedRecord="PermissionsProtocolValidateSchemaUnexpectedRecord",r.PermissionsProtocolValidateScopeContextIdProhibitedProperties="PermissionsProtocolValidateScopeContextIdProhibitedProperties",r.PermissionsProtocolValidateScopeProtocolMismatch="PermissionsProtocolValidateScopeProtocolMismatch",r.PermissionsProtocolValidateScopeMissingProtocolTag="PermissionsProtocolValidateScopeMissingProtocolTag",r.PermissionsProtocolValidateRevocationProtocolTagMismatch="PermissionsProtocolValidateRevocationProtocolTagMismatch",r.PrivateKeySignerUnableToDeduceAlgorithm="PrivateKeySignerUnableToDeduceAlgorithm",r.PrivateKeySignerUnableToDeduceKeyId="PrivateKeySignerUnableToDeduceKeyId",r.PrivateKeySignerUnsupportedCurve="PrivateKeySignerUnsupportedCurve",r.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",r.ProtocolAuthorizationActionRulesNotFound="ProtocolAuthorizationActionRulesNotFound",r.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",r.ProtocolAuthorizationIncorrectContextId="ProtocolAuthorizationIncorrectContextId",r.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",r.ProtocolAuthorizationDuplicateRoleRecipient="ProtocolAuthorizationDuplicateRoleRecipient",r.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",r.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",r.ProtocolAuthorizationMatchingRoleRecordNotFound="ProtocolAuthorizationMatchingRoleRecordNotFound",r.ProtocolAuthorizationMaxSizeInvalid="ProtocolAuthorizationMaxSizeInvalid",r.ProtocolAuthorizationMinSizeInvalid="ProtocolAuthorizationMinSizeInvalid",r.ProtocolAuthorizationMissingContextId="ProtocolAuthorizationMissingContextId",r.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",r.ProtocolAuthorizationParentlessIncorrectProtocolPath="ProtocolAuthorizationParentlessIncorrectProtocolPath",r.ProtocolAuthorizationNotARole="ProtocolAuthorizationNotARole",r.ProtocolAuthorizationParentNotFoundConstructingRecordChain="ProtocolAuthorizationParentNotFoundConstructingRecordChain",r.ProtocolAuthorizationProtocolNotFound="ProtocolAuthorizationProtocolNotFound",r.ProtocolAuthorizationRoleMissingRecipient="ProtocolAuthorizationRoleMissingRecipient",r.ProtocolAuthorizationTagsInvalidSchema="ProtocolAuthorizationTagsInvalidSchema",r.ProtocolsConfigureDuplicateActorInRuleSet="ProtocolsConfigureDuplicateActorInRuleSet",r.ProtocolsConfigureDuplicateRoleInRuleSet="ProtocolsConfigureDuplicateRoleInRuleSet",r.ProtocolsConfigureInvalidSize="ProtocolsConfigureInvalidSize",r.ProtocolsConfigureInvalidActionMissingOf="ProtocolsConfigureInvalidActionMissingOf",r.ProtocolsConfigureInvalidActionOfNotAllowed="ProtocolsConfigureInvalidActionOfNotAllowed",r.ProtocolsConfigureInvalidActionDeleteWithoutCreate="ProtocolsConfigureInvalidActionDeleteWithoutCreate",r.ProtocolsConfigureInvalidActionUpdateWithoutCreate="ProtocolsConfigureInvalidActionUpdateWithoutCreate",r.ProtocolsConfigureInvalidRecipientOfAction="ProtocolsConfigureInvalidRecipientOfAction",r.ProtocolsConfigureInvalidRuleSetRecordType="ProtocolsConfigureInvalidRuleSetRecordType",r.ProtocolsConfigureInvalidTagSchema="ProtocolsConfigureInvalidTagSchema",r.ProtocolsConfigureRecordNestingDepthExceeded="ProtocolsConfigureRecordNestingDepthExceeded",r.ProtocolsConfigureRoleDoesNotExistAtGivenPath="ProtocolsConfigureRoleDoesNotExistAtGivenPath",r.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",r.RecordsAuthorDelegatedGrantAndIdExistenceMismatch="RecordsAuthorDelegatedGrantAndIdExistenceMismatch",r.RecordsAuthorDelegatedGrantCidMismatch="RecordsAuthorDelegatedGrantCidMismatch",r.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsAuthorDelegatedGrantNotADelegatedGrant="RecordsAuthorDelegatedGrantNotADelegatedGrant",r.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",r.RecordsDeleteAuthorizationFailed="RecordsDeleteAuthorizationFailed",r.RecordsQueryCreateFilterPublishedSortInvalid="RecordsQueryCreateFilterPublishedSortInvalid",r.RecordsQueryParseFilterPublishedSortInvalid="RecordsQueryParseFilterPublishedSortInvalid",r.RecordsGrantAuthorizationConditionPublicationProhibited="RecordsGrantAuthorizationConditionPublicationProhibited",r.RecordsGrantAuthorizationConditionPublicationRequired="RecordsGrantAuthorizationConditionPublicationRequired",r.RecordsGrantAuthorizationDeleteProtocolScopeMismatch="RecordsGrantAuthorizationDeleteProtocolScopeMismatch",r.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch="RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch",r.RecordsGrantAuthorizationScopeContextIdMismatch="RecordsGrantAuthorizationScopeContextIdMismatch",r.RecordsGrantAuthorizationScopeProtocolMismatch="RecordsGrantAuthorizationScopeProtocolMismatch",r.RecordsGrantAuthorizationScopeProtocolPathMismatch="RecordsGrantAuthorizationScopeProtocolPathMismatch",r.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",r.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",r.RecordsOwnerDelegatedGrantAndIdExistenceMismatch="RecordsOwnerDelegatedGrantAndIdExistenceMismatch",r.RecordsOwnerDelegatedGrantCidMismatch="RecordsOwnerDelegatedGrantCidMismatch",r.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsOwnerDelegatedGrantNotADelegatedGrant="RecordsOwnerDelegatedGrantNotADelegatedGrant",r.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",r.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",r.RecordsQueryFilterMissingRequiredProperties="RecordsQueryFilterMissingRequiredProperties",r.RecordsReadReturnedMultiple="RecordsReadReturnedMultiple",r.RecordsReadAuthorizationFailed="RecordsReadAuthorizationFailed",r.RecordsSubscribeEventStreamUnimplemented="RecordsSubscribeEventStreamUnimplemented",r.RecordsSubscribeFilterMissingRequiredProperties="RecordsSubscribeFilterMissingRequiredProperties",r.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",r.RecordsWriteAttestationIntegrityMoreThanOneSignature="RecordsWriteAttestationIntegrityMoreThanOneSignature",r.RecordsWriteAttestationIntegrityDescriptorCidMismatch="RecordsWriteAttestationIntegrityDescriptorCidMismatch",r.RecordsWriteAttestationIntegrityInvalidPayloadProperty="RecordsWriteAttestationIntegrityInvalidPayloadProperty",r.RecordsWriteAuthorizationFailed="RecordsWriteAuthorizationFailed",r.RecordsWriteCreateMissingSigner="RecordsWriteCreateMissingSigner",r.RecordsWriteCreateDataAndDataCidMutuallyExclusive="RecordsWriteCreateDataAndDataCidMutuallyExclusive",r.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive="RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive",r.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive="RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive",r.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",r.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",r.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",r.RecordsWriteGetNewestWriteRecordNotFound="RecordsWriteGetNewestWriteRecordNotFound",r.RecordsWriteGetInitialWriteNotFound="RecordsWriteGetInitialWriteNotFound",r.RecordsWriteImmutablePropertyChanged="RecordsWriteImmutablePropertyChanged",r.RecordsWriteMissingSigner="RecordsWriteMissingSigner",r.RecordsWriteMissingDataInPrevious="RecordsWriteMissingDataInPrevious",r.RecordsWriteMissingEncodedDataInPrevious="RecordsWriteMissingEncodedDataInPrevious",r.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",r.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",r.RecordsWriteMissingSchema="RecordsWriteMissingSchema",r.RecordsWriteOwnerAndTenantMismatch="RecordsWriteOwnerAndTenantMismatch",r.RecordsWriteSignAsOwnerDelegateUnknownAuthor="RecordsWriteSignAsOwnerDelegateUnknownAuthor",r.RecordsWriteSignAsOwnerUnknownAuthor="RecordsWriteSignAsOwnerUnknownAuthor",r.RecordsWriteValidateIntegrityAttestationMismatch="RecordsWriteValidateIntegrityAttestationMismatch",r.RecordsWriteValidateIntegrityContextIdMismatch="RecordsWriteValidateIntegrityContextIdMismatch",r.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload="RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload",r.RecordsWriteValidateIntegrityDateCreatedMismatch="RecordsWriteValidateIntegrityDateCreatedMismatch",r.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",r.RecordsWriteValidateIntegrityRecordIdUnauthorized="RecordsWriteValidateIntegrityRecordIdUnauthorized",r.SchemaValidatorAdditionalPropertyNotAllowed="SchemaValidatorAdditionalPropertyNotAllowed",r.SchemaValidatorFailure="SchemaValidatorFailure",r.SchemaValidatorSchemaNotFound="SchemaValidatorSchemaNotFound",r.SchemaValidatorUnevaluatedPropertyNotAllowed="SchemaValidatorUnevaluatedPropertyNotAllowed",r.Secp256k1KeyNotValid="Secp256k1KeyNotValid",r.Secp256r1KeyNotValid="Secp256r1KeyNotValid",r.TimestampInvalid="TimestampInvalid",r.UrlProtocolNotNormalized="UrlProtocolNotNormalized",r.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",r.UrlSchemaNotNormalized="UrlSchemaNotNormalized",r}(Pt||{}),sn=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};function _n(r){if("OKP"!==r.kty||"Ed25519"!==r.crv)throw new wt(Pt.Ed25519InvalidJwk,"invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function $n(r){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:_.bytesToBase64Url(r)}}const sr={sign:(r,t)=>sn(void 0,void 0,void 0,function*(){_n(t);const n=_.base64UrlToBytes(t.d);return ar(r,n)}),verify:(r,t,n)=>sn(void 0,void 0,void 0,function*(){_n(n);const i=_.base64UrlToBytes(n.x);return _r(t,r,i)}),generateKeyPair:()=>sn(void 0,void 0,void 0,function*(){const r=Br_randomPrivateKey(),t=yield(r=>Or(r).then(t=>t.pointBytes))(r),n=_.bytesToBase64Url(r),i=$n(t);return{publicJwk:i,privateJwk:Object.assign(Object.assign({},i),{d:n})}}),publicKeyToJwk:r=>sn(void 0,void 0,void 0,function*(){return $n(r)})},ir=2n**256n,Ar=ir-0x1000003d1n,hr=ir-0x14551231950b75fc4402da1732fc9bebfn,Fi=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,_o=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,Ci={p:Ar,n:hr,a:0n,b:7n,Gx:Fi,Gy:_o},fi=32,so=r=>br(br(r*r)*r+Ci.b),ei=(r="")=>{throw new Error(r)},yi=r=>"bigint"==typeof r,wi=r=>"string"==typeof r,Ro=r=>yi(r)&&0n<r&&r<Ar,Gs=r=>yi(r)&&0n<r&&r<hr,ui=(r,t)=>!(r instanceof Uint8Array)||"number"==typeof t&&t>0&&r.length!==t?ei("Uint8Array expected"):r,mo=r=>new Uint8Array(r),qo=(r,t)=>ui(wi(r)?Ur(r):mo(r),t),br=(r,t=Ar)=>{let n=r%t;return n>=0n?n:t+n},Ms=r=>r instanceof Kn?r:ei("Point expected");let an;class Kn{constructor(t,n,i){this.px=t,this.py=n,this.pz=i}static fromAffine(t){return new Kn(t.x,t.y,1n)}static fromHex(t){let n;const i=(t=qo(t))[0],o=t.subarray(1),a=As(o,0,fi),s=t.length;if(33===s&&[2,3].includes(i)){Ro(a)||ei("Point hex invalid: x not FE");let l=Gc(so(a));!(1&~i)!=(1n===(1n&l))&&(l=br(-l)),n=new Kn(a,l,1n)}return 65===s&&4===i&&(n=new Kn(a,As(o,fi,2*fi),1n)),n?n.ok():ei("Point is not on curve")}static fromPrivateKey(t){return jt.mul(ca(t))}get x(){return this.aff().x}get y(){return this.aff().y}equals(t){const{px:n,py:i,pz:o}=this,{px:a,py:s,pz:l}=Ms(t),R=br(n*l),I=br(a*o),y=br(i*l),L=br(s*o);return R===I&&y===L}negate(){return new Kn(this.px,br(-this.py),this.pz)}double(){return this.add(this)}add(t){const{px:n,py:i,pz:o}=this,{px:a,py:s,pz:l}=Ms(t),{a:R,b:I}=Ci;let y=0n,L=0n,ye=0n;const Te=br(3n*I);let Me=br(n*a),Ce=br(i*s),je=br(o*l),Je=br(n+i),ze=br(a+s);Je=br(Je*ze),ze=br(Me+Ce),Je=br(Je-ze),ze=br(n+o);let He=br(a+l);return ze=br(ze*He),He=br(Me+je),ze=br(ze-He),He=br(i+o),y=br(s+l),He=br(He*y),y=br(Ce+je),He=br(He-y),ye=br(R*ze),y=br(Te*je),ye=br(y+ye),y=br(Ce-ye),ye=br(Ce+ye),L=br(y*ye),Ce=br(Me+Me),Ce=br(Ce+Me),je=br(R*je),ze=br(Te*ze),Ce=br(Ce+je),je=br(Me-je),je=br(R*je),ze=br(ze+je),Me=br(Ce*ze),L=br(L+Me),Me=br(He*ze),y=br(Je*y),y=br(y-Me),Me=br(Je*Ce),ye=br(He*ye),ye=br(ye+Me),new Kn(y,L,ye)}mul(t,n=!0){if(!n&&0n===t)return wn;if(Gs(t)||ei("invalid scalar"),this.equals(jt))return $o(t).p;let i=wn,o=jt;for(let a=this;t>0n;a=a.double(),t>>=1n)1n&t?i=i.add(a):n&&(o=o.add(a));return i}mulAddQUns(t,n,i){return this.mul(n,!1).add(t.mul(i,!1)).ok()}toAffine(){const{px:t,py:n,pz:i}=this;if(this.equals(wn))return{x:0n,y:0n};if(1n===i)return{x:t,y:n};const o=ps(i);return 1n!==br(i*o)&&ei("invalid inverse"),{x:br(t*o),y:br(n*o)}}assertValidity(){const{x:t,y:n}=this.aff();return(!Ro(t)||!Ro(n))&&ei("Point invalid: x or y"),br(n*n)===so(t)?this:ei("Point invalid: not on curve")}multiply(t){return this.mul(t)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(t=!0){const{x:n,y:i}=this.aff();return(t?0n===(1n&i)?"02":"03":"04")+Hi(n)+(t?"":Hi(i))}toRawBytes(t=!0){return Ur(this.toHex(t))}}Kn.BASE=new Kn(Fi,_o,1n),Kn.ZERO=new Kn(0n,1n,0n);const{BASE:jt,ZERO:wn}=Kn,Mn=(r,t)=>r.toString(16).padStart(t,"0"),zr=r=>Array.from(r).map(t=>Mn(t,2)).join(""),Ur=r=>{const t=r.length;(!wi(r)||t%2)&&ei("hex invalid 1");const n=mo(t/2);for(let i=0;i<n.length;i++){const o=2*i,a=r.slice(o,o+2),s=Number.parseInt(a,16);(Number.isNaN(s)||s<0)&&ei("hex invalid 2"),n[i]=s}return n},Go=r=>BigInt("0x"+(zr(r)||"0")),As=(r,t,n)=>Go(r.slice(t,n)),Wc=r=>yi(r)&&r>=0n&&r<ir?Ur(Mn(r,2*fi)):ei("bigint expected"),Hi=r=>zr(Wc(r)),vl=(...r)=>{const t=mo(r.reduce((i,o)=>i+ui(o).length,0));let n=0;return r.forEach(i=>{t.set(i,n),n+=i.length}),t},ps=(r,t=Ar)=>{(0n===r||t<=0n)&&ei("no inverse n="+r+" mod="+t);let n=br(r,t),i=t,o=0n,a=1n,s=1n,l=0n;for(;0n!==n;){const R=i/n,I=i%n,y=o-s*R,L=a-l*R;i=n,n=I,o=s,a=l,s=y,l=L}return 1n===i?br(o,t):ei("no inverse")},Gc=r=>{let t=1n;for(let n=r,i=(Ar+1n)/4n;i>0n;i>>=1n)1n&i&&(t=t*n%Ar),n=n*n%Ar;return br(t*t)===r?t:ei("sqrt invalid")},ca=r=>(yi(r)||(r=Go(qo(r,fi))),Gs(r)?r:ei("private key out of range")),Ed=r=>r>hr>>1n;function tu(r,t=!0){return Kn.fromPrivateKey(r).toRawBytes(t)}class Ea{constructor(t,n,i){this.r=t,this.s=n,this.recovery=i,this.assertValidity()}static fromCompact(t){return t=qo(t,64),new Ea(As(t,0,fi),As(t,fi,2*fi))}assertValidity(){return Gs(this.r)&&Gs(this.s)?this:ei()}addRecoveryBit(t){return new Ea(this.r,this.s,t)}hasHighS(){return Ed(this.s)}recoverPublicKey(t){const{r:n,s:i,recovery:o}=this;[0,1,2,3].includes(o)||ei("recovery id invalid");const a=zl(qo(t,32)),s=2===o||3===o?n+hr:n;s>=Ar&&ei("q.x invalid");const R=Kn.fromHex((1&o?"03":"02")+Hi(s)),I=ps(s,hr),y=br(-a*I,hr),L=br(i*I,hr);return jt.mulAddQUns(R,y,L)}toCompactRawBytes(){return Ur(this.toCompactHex())}toCompactHex(){return Hi(this.r)+Hi(this.s)}}const bl=r=>{const t=8*r.length-256,n=Go(r);return t>0?n>>BigInt(t):n},zl=r=>br(bl(r),hr),xa=r=>Wc(r),Wa=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;let Hl;const Hu={lowS:!0},ya={lowS:!0};function Tf(){return Tf=(0,m.A)(function*(r,t,n=Hu){const{seed:i,k2sig:o}=function gc(r,t,n=Hu){["der","recovered","canonical"].some(L=>L in n)&&ei("sign() legacy options not supported");let{lowS:i}=n;null==i&&(i=!0);const o=zl(qo(r)),a=xa(o),s=ca(t),l=[xa(s),a];let R=n.extraEntropy;if(R){!0===R&&(R=wl.randomBytes(fi));const L=qo(R);L.length!==fi&&ei(),l.push(L)}const I=o;return{seed:vl(...l),k2sig:L=>{const ye=bl(L);if(!Gs(ye))return;const Te=ps(ye,hr),Me=jt.mul(ye).aff(),Ce=br(Me.x,hr);if(0n===Ce)return;const je=br(Te*br(I+br(s*Ce,hr),hr),hr);if(0n===je)return;let Je=je,ze=(Me.x===Ce?0:2)|Number(1n&Me.y);return i&&Ed(je)&&(Je=br(-je,hr),ze^=1),new Ea(Ce,Je,ze)}}}(r,t,n);return function Wl(r){let t=mo(fi),n=mo(fi),i=0;const o=()=>{t.fill(1),n.fill(0),i=0},a="drbg: tried 1000 values";if(r){const s=(...I)=>wl.hmacSha256Async(n,t,...I),l=function(){var I=(0,m.A)(function*(y=mo()){n=yield s(mo([0]),y),t=yield s(),0!==y.length&&(n=yield s(mo([1]),y),t=yield s())});return function(){return I.apply(this,arguments)}}(),R=function(){var I=(0,m.A)(function*(){return i++>=1e3&&ei(a),t=yield s(),t});return function(){return I.apply(this,arguments)}}();return function(){var I=(0,m.A)(function*(y,L){let ye;for(o(),yield l(y);!(ye=L(yield R()));)yield l();return o(),ye});return function(y,L){return I.apply(this,arguments)}}()}{const s=(...I)=>{const y=Hl;return y||ei("etc.hmacSha256Sync not set"),y(n,t,...I)},l=(I=mo())=>{n=s(mo([0]),I),t=s(),0!==I.length&&(n=s(mo([1]),I),t=s())},R=()=>(i++>=1e3&&ei(a),t=s(),t);return(I,y)=>{let L;for(o(),l(I);!(L=y(R()));)l();return o(),L}}}(!0)(i,o)}),Tf.apply(this,arguments)}function uh(r){((r=qo(r)).length<fi+8||r.length>1024)&&ei("expected proper params");const n=br(Go(r),hr-1n)+1n;return Wc(n)}const wl={hexToBytes:Ur,bytesToHex:zr,concatBytes:vl,bytesToNumberBE:Go,numberToBytesBE:Wc,mod:br,invert:ps,hmacSha256Async:function(){var r=(0,m.A)(function*(t,...n){const i=Wa();if(!i)return ei("etc.hmacSha256Async not set");const o=i.subtle,a=yield o.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return mo(yield o.sign("HMAC",a,vl(...n)))});return function(n){return r.apply(this,arguments)}}(),hmacSha256Sync:Hl,hashToPrivateKey:uh,randomBytes:r=>{const t=Wa();return t||ei("crypto.getRandomValues must be defined"),t.getRandomValues(mo(r))}},_l_randomPrivateKey=()=>uh(wl.randomBytes(fi+8));Object.defineProperties(wl,{hmacSha256Sync:{configurable:!1,get:()=>Hl,set(r){Hl||(Hl=r)}}});const $o=r=>{const t=an||(an=(()=>{const r=[];let n=jt,i=n;for(let o=0;o<33;o++){i=n,r.push(i);for(let a=1;a<128;a++)i=i.add(n),r.push(i);n=i.double()}return r})()),n=(y,L)=>{let ye=L.negate();return y?ye:L};let i=wn,o=jt;const l=BigInt(255),I=BigInt(8);for(let y=0;y<33;y++){const L=128*y;let ye=Number(r&l);r>>=I,ye>128&&(ye-=256,r+=1n);const Te=L,Me=L+Math.abs(ye)-1,je=ye<0;0===ye?o=o.add(n(y%2!=0,t[Te])):i=i.add(n(je,t[Me]))}return{p:i,f:o}};var os=128,ys=-128,nu=Math.pow(2,31),Zc=128,la=127,If=Math.pow(2,7),Us=Math.pow(2,14),Eu=Math.pow(2,21),ss=Math.pow(2,28),Za=Math.pow(2,35),fh=Math.pow(2,42),Eo=Math.pow(2,49),Gu=Math.pow(2,56),gs=Math.pow(2,63),nm={encode:function Vo(r,t,n){t=t||[];for(var i=n=n||0;r>=nu;)t[n++]=255&r|os,r/=128;for(;r&ys;)t[n++]=255&r|os,r>>>=7;return t[n]=0|r,Vo.bytes=n-i+1,t},decode:function ga(r,i){var s,n=0,o=0,a=i=i||0,l=r.length;do{if(a>=l)throw ga.bytes=0,new RangeError("Could not decode varint");s=r[a++],n+=o<28?(s&la)<<o:(s&la)*Math.pow(2,o),o+=7}while(s>=Zc);return ga.bytes=a-i,n},encodingLength:function(r){return r<If?1:r<Us?2:r<Eu?3:r<ss?4:r<Za?5:r<fh?6:r<Eo?7:r<Gu?8:r<gs?9:10}};const xl=nm,si=(r,t=0)=>[xl.decode(r,t),xl.decode.bytes],Ya=(r,t,n=0)=>(xl.encode(r,t,n),t),Ys=r=>xl.encodingLength(r),xu=(r,t)=>{const n=t.byteLength,i=Ys(r),o=i+Ys(n),a=new Uint8Array(o+n);return Ya(r,a,0),Ya(n,a,i),a.set(t,o),new bc(r,n,t,a)},hh=r=>{const t=Le(r),[n,i]=si(t),[o,a]=si(t.subarray(i)),s=t.subarray(i+a);if(s.byteLength!==o)throw new Error("Incorrect length");return new bc(n,o,s,t)};class bc{constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}const iu=({name:r,code:t,encode:n})=>new bt(r,t,n);class bt{constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?xu(this.code,n):n.then(i=>xu(this.code,i))}throw Error("Unknown type, must be binary type")}}const St=r=>function(){var t=(0,m.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),st=iu({name:"sha2-256",code:18,encode:St("SHA-256")});iu({name:"sha2-512",code:19,encode:St("SHA-512")});var pn=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class qr{static validateKey(t){if("EC"!==t.kty||"secp256k1"!==t.crv)throw new wt(Pt.Secp256k1KeyNotValid,"Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static publicKeyToJwk(t){return pn(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?Kn.fromHex(t).toRawBytes(!1):t,{alg:"ES256K",kty:"EC",crv:"secp256k1",x:_.bytesToBase64Url(n.subarray(1,33)),y:_.bytesToBase64Url(n.subarray(33,65))}})}static privateKeyToJwk(t){return pn(this,void 0,void 0,function*(){const n=yield qr.getPublicKey(t),i=yield qr.publicKeyToJwk(n);return i.d=_.bytesToBase64Url(t),i})}static publicJwkToBytes(t){const n=_.base64UrlToBytes(t.x),i=_.base64UrlToBytes(t.y);return Kn.fromAffine({x:wl.bytesToNumberBE(n),y:wl.bytesToNumberBE(i)}).toRawBytes(!0)}static privateJwkToBytes(t){return _.base64UrlToBytes(t.d)}static sign(t,n){return pn(this,void 0,void 0,function*(){qr.validateKey(n);const i=yield st.encode(t),o=qr.privateJwkToBytes(n);return(yield function Af(r,t){return Tf.apply(this,arguments)}(i,o)).toCompactRawBytes()})}static verify(t,n,i){return pn(this,void 0,void 0,function*(){qr.validateKey(i);const o=qr.publicJwkToBytes(i),a=yield st.encode(t);return function xd(r,t,n,i=ya){let a,s,l,{lowS:o}=i;null==o&&(o=!0),"strict"in i&&ei("verify() legacy options not supported");const R=r&&"object"==typeof r&&"r"in r;!R&&qo(r).length!==2*fi&&ei("signature must be 64 bytes");try{a=R?new Ea(r.r,r.s).assertValidity():Ea.fromCompact(r),s=zl(qo(t,fi)),l=n instanceof Kn?n.ok():Kn.fromHex(n)}catch{return!1}if(!a)return!1;const{r:I,s:y}=a;if(o&&Ed(y))return!1;let L;try{const Te=ps(y,hr),Me=br(s*Te,hr),Ce=br(I*Te,hr);L=jt.mulAddQUns(l,Me,Ce).aff()}catch{return!1}return!!L&&br(L.x,hr)===I}(n,a,o)})}static generateKeyPair(){return pn(this,void 0,void 0,function*(){const t=_l_randomPrivateKey(),n=tu(t,!1),i=_.bytesToBase64Url(t),o=yield qr.publicKeyToJwk(n);return{publicJwk:o,privateJwk:Object.assign(Object.assign({},o),{d:i})}})}static generateKeyPairRaw(){return pn(this,void 0,void 0,function*(){const t=_l_randomPrivateKey();return{publicKey:tu(t,!0),privateKey:t}})}static getPublicKey(t){return pn(this,void 0,void 0,function*(){return tu(t,!0)})}static getPublicJwk(t){return pn(this,void 0,void 0,function*(){return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"])})}}function zo(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}function Sd(r,...t){if(!function mp(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function Df(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}const ou="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Yl=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Yc=(r,t)=>r<<32-t|r>>>t;function rm(r){return"string"==typeof r&&(r=function L1(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}(r)),Sd(r),r}new Uint8Array(new Uint32Array([287454020]).buffer);class Sa{clone(){return this._cloneInto()}}function om(r){const t=i=>r().update(rm(i)).digest(),n=r();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>r(),t}function bp(r=32){if(ou&&"function"==typeof ou.getRandomValues)return ou.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}const qi=(r,t,n)=>r&t^~r&n,vg=(r,t,n)=>r&t^r&n^t&n;class B0 extends Sa{constructor(t,n,i,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Yl(this.buffer)}update(t){Df(this);const{view:n,buffer:i,blockLen:o}=this,a=(t=rm(t)).length;for(let s=0;s<a;){const l=Math.min(o-this.pos,a-s);if(l!==o)i.set(t.subarray(s,s+l),this.pos),this.pos+=l,s+=l,this.pos===o&&(this.process(n,0),this.pos=0);else{const R=Yl(t);for(;o<=a-s;s+=o)this.process(R,s)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Df(this),function Gl(r,t){Sd(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:o,isLE:a}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(i,0),s=0);for(let L=s;L<o;L++)n[L]=0;(function Pi(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const o=BigInt(32),a=BigInt(4294967295),s=Number(n>>o&a),l=Number(n&a),I=i?0:4;r.setUint32(t+(i?4:0),s,i),r.setUint32(t+I,l,i)})(i,o-8,BigInt(8*this.length),a),this.process(i,0);const l=Yl(t),R=this.outputLen;if(R%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const I=R/4,y=this.get();if(I>y.length)throw new Error("_sha2: outputLen bigger than state");for(let L=0;L<I;L++)l.setUint32(4*L,y[L],a)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:o,finished:a,destroyed:s,pos:l}=this;return t.length=o,t.pos=l,t.finished=a,t.destroyed=s,o%n&&t.buffer.set(i),t}}const N0=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Cf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xa=new Uint32Array(64);class gh extends B0{constructor(){super(64,32,8,!1),this.A=0|Cf[0],this.B=0|Cf[1],this.C=0|Cf[2],this.D=0|Cf[3],this.E=0|Cf[4],this.F=0|Cf[5],this.G=0|Cf[6],this.H=0|Cf[7]}get(){const{A:t,B:n,C:i,D:o,E:a,F:s,G:l,H:R}=this;return[t,n,i,o,a,s,l,R]}set(t,n,i,o,a,s,l,R){this.A=0|t,this.B=0|n,this.C=0|i,this.D=0|o,this.E=0|a,this.F=0|s,this.G=0|l,this.H=0|R}process(t,n){for(let L=0;L<16;L++,n+=4)Xa[L]=t.getUint32(n,!1);for(let L=16;L<64;L++){const ye=Xa[L-15],Te=Xa[L-2],Me=Yc(ye,7)^Yc(ye,18)^ye>>>3,Ce=Yc(Te,17)^Yc(Te,19)^Te>>>10;Xa[L]=Ce+Xa[L-7]+Me+Xa[L-16]|0}let{A:i,B:o,C:a,D:s,E:l,F:R,G:I,H:y}=this;for(let L=0;L<64;L++){const Te=y+(Yc(l,6)^Yc(l,11)^Yc(l,25))+qi(l,R,I)+N0[L]+Xa[L]|0,Ce=(Yc(i,2)^Yc(i,13)^Yc(i,22))+vg(i,o,a)|0;y=I,I=R,R=l,l=s+Te|0,s=a,a=o,o=i,i=Te+Ce|0}i=i+this.A|0,o=o+this.B|0,a=a+this.C|0,s=s+this.D|0,l=l+this.E|0,R=R+this.F|0,I=I+this.G|0,y=y+this.H|0,this.set(i,o,a,s,l,R,I,y)}roundClean(){Xa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Xu=om(()=>new gh);class Ja extends Sa{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,function k0(r){if("function"!=typeof r||"function"!=typeof r.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");zo(r.outputLen),zo(r.blockLen)}(t);const i=rm(n);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,a=new Uint8Array(o);a.set(i.length>o?t.create().update(i).digest():i);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=t.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(t){return Df(this),this.iHash.update(t),this}digestInto(t){Df(this),Sd(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:o,destroyed:a,blockLen:s,outputLen:l}=this;return t.finished=o,t.destroyed=a,t.blockLen=s,t.outputLen=l,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const vh=(r,t,n)=>new Ja(r,t).update(n).digest();vh.create=(r,t)=>new Ja(r,t);const Mu=BigInt(1),wp=BigInt(2);function Md(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}function Ye(r){if(!Md(r))throw new Error("Uint8Array expected")}const Ot=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function ht(r){Ye(r);let t="";for(let n=0;n<r.length;n++)t+=Ot[r[n]];return t}function nn(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);return BigInt(""===r?"0":`0x${r}`)}const Dn={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Jn(r){return r>=Dn._0&&r<=Dn._9?r-Dn._0:r>=Dn._A&&r<=Dn._F?r-(Dn._A-10):r>=Dn._a&&r<=Dn._f?r-(Dn._a-10):void 0}function Ir(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);const t=r.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let o=0,a=0;o<n;o++,a+=2){const s=Jn(r.charCodeAt(a)),l=Jn(r.charCodeAt(a+1));if(void 0===s||void 0===l)throw new Error('hex string expected, got non-hex character "'+(r[a]+r[a+1])+'" at index '+a);i[o]=16*s+l}return i}function To(r){return nn(ht(r))}function _i(r){return Ye(r),nn(ht(Uint8Array.from(r).reverse()))}function yo(r,t){return Ir(r.toString(16).padStart(2*t,"0"))}function cr(r,t){return yo(r,t).reverse()}function Wi(r,t,n){let i;if("string"==typeof t)try{i=Ir(t)}catch(a){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${a}`)}else{if(!Md(t))throw new Error(`${r} must be hex string or Uint8Array`);i=Uint8Array.from(t)}const o=i.length;if("number"==typeof n&&o!==n)throw new Error(`${r} expected ${n} bytes, got ${o}`);return i}function Oo(...r){let t=0;for(let i=0;i<r.length;i++){const o=r[i];Ye(o),t+=o.length}const n=new Uint8Array(t);for(let i=0,o=0;i<r.length;i++){const a=r[i];n.set(a,o),o+=a.length}return n}const Sl=r=>(wp<<BigInt(r-1))-Mu,Xl=r=>new Uint8Array(r),Ju=r=>Uint8Array.from(r);function Pf(r,t,n){if("number"!=typeof r||r<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let i=Xl(r),o=Xl(r),a=0;const s=()=>{i.fill(1),o.fill(0),a=0},l=(...L)=>n(o,i,...L),R=(L=Xl())=>{o=l(Ju([0]),L),i=l(),0!==L.length&&(o=l(Ju([1]),L),i=l())},I=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let L=0;const ye=[];for(;L<t;){i=l();const Te=i.slice();ye.push(Te),L+=i.length}return Oo(...ye)};return(L,ye)=>{let Te;for(s(),R(L);!(Te=ye(I()));)R();return s(),Te}}const yS={bigint:r=>"bigint"==typeof r,function:r=>"function"==typeof r,boolean:r=>"boolean"==typeof r,string:r=>"string"==typeof r,stringOrUint8Array:r=>"string"==typeof r||Md(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>"function"==typeof r&&Number.isSafeInteger(r.outputLen)};function Ma(r,t,n={}){const i=(o,a,s)=>{const l=yS[a];if("function"!=typeof l)throw new Error(`Invalid validator "${a}", expected function`);const R=r[o];if(!(s&&void 0===R||l(R,r)))throw new Error(`Invalid param ${String(o)}=${R} (${typeof R}), expected ${a}`)};for(const[o,a]of Object.entries(t))i(o,a,!1);for(const[o,a]of Object.entries(n))i(o,a,!0);return r}const Qo=BigInt(0),Ko=BigInt(1),tt=BigInt(2),Ge=BigInt(3),$e=BigInt(4),qe=BigInt(5),Dt=BigInt(8);function xn(r,t){const n=r%t;return n>=Qo?n:t+n}function Ln(r,t,n){if(n<=Qo||t<Qo)throw new Error("Expected power/modulo > 0");if(n===Ko)return Qo;let i=Ko;for(;t>Qo;)t&Ko&&(i=i*r%n),r=r*r%n,t>>=Ko;return i}function gn(r,t){if(r===Qo||t<=Qo)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let n=xn(r,t),i=t,o=Qo,a=Ko,s=Ko,l=Qo;for(;n!==Qo;){const I=i/n,y=i%n,L=o-s*I,ye=a-l*I;i=n,n=y,o=s,a=l,s=L,l=ye}if(i!==Ko)throw new Error("invert: does not exist");return xn(o,t)}BigInt(9),BigInt(16);const Yi=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ml(r,t){const n=void 0!==t?t:r.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function bh(r){if("bigint"!=typeof r)throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function Tb(r){const t=bh(r);return t+Math.ceil(t/2)}const Ib=BigInt(0),bg=BigInt(1);function Au(r){return function Ho(r){Ma(r,Yi.reduce((i,o)=>(i[o]="function",i),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(r.Fp),Ma(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ml(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const{Ph:bS,aT:ND}=p,cm={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){const{Err:t}=cm;if(r.length<2||2!==r[0])throw new t("Invalid signature integer tag");const n=r[1],i=r.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:bS(i),l:r.subarray(n+2)}},toSig(r){const{Err:t}=cm,n="string"==typeof r?ND(r):r;Ye(n);let i=n.length;if(i<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:o,l:a}=cm._parseInt(n.subarray(2)),{d:s,l}=cm._parseInt(a);if(l.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(r){const t=I=>8&Number.parseInt(I[0],16)?"00"+I:I,n=I=>{const y=I.toString(16);return 1&y.length?`0${y}`:y},i=t(n(r.s)),o=t(n(r.r)),a=i.length/2,s=o.length/2,l=n(a),R=n(s);return`30${n(s+a+4)}02${R}${o}02${l}${i}`}},Qu=BigInt(0),Ue=BigInt(1),Ve=(BigInt(2),BigInt(3));function rn(r){const t=function Vt(r){const t=Au(r);return Ma(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(r),{Fp:n,n:i}=t,o=n.BYTES+1,a=2*n.BYTES+1;function l($t){return xn($t,i)}function R($t){return gn($t,i)}const{ProjectivePoint:I,normPrivateKeyToScalar:y,weierstrassEquation:L,isWithinCurveOrder:ye}=function Mt(r){const t=function BD(r){const t=Au(r);Ma(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:o}=t;if(n){if(!i.eql(o,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(r),{Fp:n}=t,i=t.toBytes||((Me,Ce,je)=>{const Je=Ce.toAffine();return Oo(Uint8Array.from([4]),n.toBytes(Je.x),n.toBytes(Je.y))}),o=t.fromBytes||(Me=>{const Ce=Me.subarray(1);return{x:n.fromBytes(Ce.subarray(0,n.BYTES)),y:n.fromBytes(Ce.subarray(n.BYTES,2*n.BYTES))}});function a(Me){const{a:Ce,b:je}=t,Je=n.sqr(Me),ze=n.mul(Je,Me);return n.add(n.add(ze,n.mul(Me,Ce)),je)}if(!n.eql(n.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function s(Me){return"bigint"==typeof Me&&Qu<Me&&Me<t.n}function l(Me){if(!s(Me))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function R(Me){const{allowedPrivateKeyLengths:Ce,nByteLength:je,wrapPrivateKey:Je,n:ze}=t;if(Ce&&"bigint"!=typeof Me){if(Md(Me)&&(Me=ht(Me)),"string"!=typeof Me||!Ce.includes(Me.length))throw new Error("Invalid key");Me=Me.padStart(2*je,"0")}let He;try{He="bigint"==typeof Me?Me:To(Wi("private key",Me,je))}catch{throw new Error(`private key must be ${je} bytes, hex or bigint, not ${typeof Me}`)}return Je&&(He=xn(He,ze)),l(He),He}const I=new Map;function y(Me){if(!(Me instanceof L))throw new Error("ProjectivePoint expected")}class L{constructor(Ce,je,Je){if(this.px=Ce,this.py=je,this.pz=Je,null==Ce||!n.isValid(Ce))throw new Error("x required");if(null==je||!n.isValid(je))throw new Error("y required");if(null==Je||!n.isValid(Je))throw new Error("z required")}static fromAffine(Ce){const{x:je,y:Je}=Ce||{};if(!Ce||!n.isValid(je)||!n.isValid(Je))throw new Error("invalid affine point");if(Ce instanceof L)throw new Error("projective point not allowed");const ze=He=>n.eql(He,n.ZERO);return ze(je)&&ze(Je)?L.ZERO:new L(je,Je,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Ce){const je=n.invertBatch(Ce.map(Je=>Je.pz));return Ce.map((Je,ze)=>Je.toAffine(je[ze])).map(L.fromAffine)}static fromHex(Ce){const je=L.fromAffine(o(Wi("pointHex",Ce)));return je.assertValidity(),je}static fromPrivateKey(Ce){return L.BASE.multiply(R(Ce))}_setWindowSize(Ce){this._WINDOW_SIZE=Ce,I.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Ce,y:je}=this.toAffine();if(!n.isValid(Ce)||!n.isValid(je))throw new Error("bad point: x or y not FE");const Je=n.sqr(je),ze=a(Ce);if(!n.eql(Je,ze))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Ce}=this.toAffine();if(n.isOdd)return!n.isOdd(Ce);throw new Error("Field doesn't support isOdd")}equals(Ce){y(Ce);const{px:je,py:Je,pz:ze}=this,{px:He,py:rt,pz:yt}=Ce,ct=n.eql(n.mul(je,yt),n.mul(He,ze)),_t=n.eql(n.mul(Je,yt),n.mul(rt,ze));return ct&&_t}negate(){return new L(this.px,n.neg(this.py),this.pz)}double(){const{a:Ce,b:je}=t,Je=n.mul(je,Ve),{px:ze,py:He,pz:rt}=this;let yt=n.ZERO,ct=n.ZERO,_t=n.ZERO,It=n.mul(ze,ze),Jt=n.mul(He,He),Qt=n.mul(rt,rt),fn=n.mul(ze,He);return fn=n.add(fn,fn),_t=n.mul(ze,rt),_t=n.add(_t,_t),yt=n.mul(Ce,_t),ct=n.mul(Je,Qt),ct=n.add(yt,ct),yt=n.sub(Jt,ct),ct=n.add(Jt,ct),ct=n.mul(yt,ct),yt=n.mul(fn,yt),_t=n.mul(Je,_t),Qt=n.mul(Ce,Qt),fn=n.sub(It,Qt),fn=n.mul(Ce,fn),fn=n.add(fn,_t),_t=n.add(It,It),It=n.add(_t,It),It=n.add(It,Qt),It=n.mul(It,fn),ct=n.add(ct,It),Qt=n.mul(He,rt),Qt=n.add(Qt,Qt),It=n.mul(Qt,fn),yt=n.sub(yt,It),_t=n.mul(Qt,Jt),_t=n.add(_t,_t),_t=n.add(_t,_t),new L(yt,ct,_t)}add(Ce){y(Ce);const{px:je,py:Je,pz:ze}=this,{px:He,py:rt,pz:yt}=Ce;let ct=n.ZERO,_t=n.ZERO,It=n.ZERO;const Jt=t.a,Qt=n.mul(t.b,Ve);let fn=n.mul(je,He),Pn=n.mul(Je,rt),dn=n.mul(ze,yt),Sn=n.add(je,Je),$t=n.add(He,rt);Sn=n.mul(Sn,$t),$t=n.add(fn,Pn),Sn=n.sub(Sn,$t),$t=n.add(je,ze);let Yt=n.add(He,yt);return $t=n.mul($t,Yt),Yt=n.add(fn,dn),$t=n.sub($t,Yt),Yt=n.add(Je,ze),ct=n.add(rt,yt),Yt=n.mul(Yt,ct),ct=n.add(Pn,dn),Yt=n.sub(Yt,ct),It=n.mul(Jt,$t),ct=n.mul(Qt,dn),It=n.add(ct,It),ct=n.sub(Pn,It),It=n.add(Pn,It),_t=n.mul(ct,It),Pn=n.add(fn,fn),Pn=n.add(Pn,fn),dn=n.mul(Jt,dn),$t=n.mul(Qt,$t),Pn=n.add(Pn,dn),dn=n.sub(fn,dn),dn=n.mul(Jt,dn),$t=n.add($t,dn),fn=n.mul(Pn,$t),_t=n.add(_t,fn),fn=n.mul(Yt,$t),ct=n.mul(Sn,ct),ct=n.sub(ct,fn),fn=n.mul(Sn,Pn),It=n.mul(Yt,It),It=n.add(It,fn),new L(ct,_t,It)}subtract(Ce){return this.add(Ce.negate())}is0(){return this.equals(L.ZERO)}wNAF(Ce){return Te.wNAFCached(this,I,Ce,je=>{const Je=n.invertBatch(je.map(ze=>ze.pz));return je.map((ze,He)=>ze.toAffine(Je[He])).map(L.fromAffine)})}multiplyUnsafe(Ce){const je=L.ZERO;if(Ce===Qu)return je;if(l(Ce),Ce===Ue)return this;const{endo:Je}=t;if(!Je)return Te.unsafeLadder(this,Ce);let{k1neg:ze,k1:He,k2neg:rt,k2:yt}=Je.splitScalar(Ce),ct=je,_t=je,It=this;for(;He>Qu||yt>Qu;)He&Ue&&(ct=ct.add(It)),yt&Ue&&(_t=_t.add(It)),It=It.double(),He>>=Ue,yt>>=Ue;return ze&&(ct=ct.negate()),rt&&(_t=_t.negate()),_t=new L(n.mul(_t.px,Je.beta),_t.py,_t.pz),ct.add(_t)}multiply(Ce){l(Ce);let Je,ze,je=Ce;const{endo:He}=t;if(He){const{k1neg:rt,k1:yt,k2neg:ct,k2:_t}=He.splitScalar(je);let{p:It,f:Jt}=this.wNAF(yt),{p:Qt,f:fn}=this.wNAF(_t);It=Te.constTimeNegate(rt,It),Qt=Te.constTimeNegate(ct,Qt),Qt=new L(n.mul(Qt.px,He.beta),Qt.py,Qt.pz),Je=It.add(Qt),ze=Jt.add(fn)}else{const{p:rt,f:yt}=this.wNAF(je);Je=rt,ze=yt}return L.normalizeZ([Je,ze])[0]}multiplyAndAddUnsafe(Ce,je,Je){const ze=L.BASE,He=(yt,ct)=>ct!==Qu&&ct!==Ue&&yt.equals(ze)?yt.multiply(ct):yt.multiplyUnsafe(ct),rt=He(this,je).add(He(Ce,Je));return rt.is0()?void 0:rt}toAffine(Ce){const{px:je,py:Je,pz:ze}=this,He=this.is0();null==Ce&&(Ce=He?n.ONE:n.inv(ze));const rt=n.mul(je,Ce),yt=n.mul(Je,Ce),ct=n.mul(ze,Ce);if(He)return{x:n.ZERO,y:n.ZERO};if(!n.eql(ct,n.ONE))throw new Error("invZ was invalid");return{x:rt,y:yt}}isTorsionFree(){const{h:Ce,isTorsionFree:je}=t;if(Ce===Ue)return!0;if(je)return je(L,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Ce,clearCofactor:je}=t;return Ce===Ue?this:je?je(L,this):this.multiplyUnsafe(t.h)}toRawBytes(Ce=!0){return this.assertValidity(),i(L,this,Ce)}toHex(Ce=!0){return ht(this.toRawBytes(Ce))}}L.BASE=new L(t.Gx,t.Gy,n.ONE),L.ZERO=new L(n.ZERO,n.ONE,n.ZERO);const ye=t.nBitLength,Te=function vS(r,t){const n=(o,a)=>{const s=a.negate();return o?s:a},i=o=>({windows:Math.ceil(t/o)+1,windowSize:2**(o-1)});return{constTimeNegate:n,unsafeLadder(o,a){let s=r.ZERO,l=o;for(;a>Ib;)a&bg&&(s=s.add(l)),l=l.double(),a>>=bg;return s},precomputeWindow(o,a){const{windows:s,windowSize:l}=i(a),R=[];let I=o,y=I;for(let L=0;L<s;L++){y=I,R.push(y);for(let ye=1;ye<l;ye++)y=y.add(I),R.push(y);I=y.double()}return R},wNAF(o,a,s){const{windows:l,windowSize:R}=i(o);let I=r.ZERO,y=r.BASE;const L=BigInt(2**o-1),ye=2**o,Te=BigInt(o);for(let Me=0;Me<l;Me++){const Ce=Me*R;let je=Number(s&L);s>>=Te,je>R&&(je-=ye,s+=bg);const Je=Ce,ze=Ce+Math.abs(je)-1,rt=je<0;0===je?y=y.add(n(Me%2!=0,a[Je])):I=I.add(n(rt,a[ze]))}return{p:I,f:y}},wNAFCached(o,a,s,l){const R=o._WINDOW_SIZE||1;let I=a.get(o);return I||(I=this.precomputeWindow(o,R),1!==R&&a.set(o,l(I))),this.wNAF(R,I,s)}}}(L,t.endo?Math.ceil(ye/2):ye);return{CURVE:t,ProjectivePoint:L,normPrivateKeyToScalar:R,weierstrassEquation:a,isWithinCurveOrder:s}}({...t,toBytes($t,Yt,Xt){const yn=Yt.toAffine(),en=n.toBytes(yn.x),En=Oo;return Xt?En(Uint8Array.from([Yt.hasEvenY()?2:3]),en):En(Uint8Array.from([4]),en,n.toBytes(yn.y))},fromBytes($t){const Yt=$t.length,Xt=$t[0],yn=$t.subarray(1);if(Yt!==o||2!==Xt&&3!==Xt){if(Yt===a&&4===Xt)return{x:n.fromBytes(yn.subarray(0,n.BYTES)),y:n.fromBytes(yn.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${Yt} was invalid. Expected ${o} compressed bytes or ${a} uncompressed bytes`)}{const en=To(yn);if(!function s($t){return Qu<$t&&$t<n.ORDER}(en))throw new Error("Point is not on curve");const En=L(en);let Nn;try{Nn=n.sqrt(En)}catch(Fn){const tr=Fn instanceof Error?": "+Fn.message:"";throw new Error("Point is not on curve"+tr)}return!(1&~Xt)!=((Nn&Ue)===Ue)&&(Nn=n.neg(Nn)),{x:en,y:Nn}}}}),Te=$t=>ht(yo($t,t.nByteLength));function Me($t){return $t>i>>Ue}const je=($t,Yt,Xt)=>To($t.slice(Yt,Xt));class Je{constructor(Yt,Xt,yn){this.r=Yt,this.s=Xt,this.recovery=yn,this.assertValidity()}static fromCompact(Yt){const Xt=t.nByteLength;return Yt=Wi("compactSignature",Yt,2*Xt),new Je(je(Yt,0,Xt),je(Yt,Xt,2*Xt))}static fromDER(Yt){const{r:Xt,s:yn}=cm.toSig(Wi("DER",Yt));return new Je(Xt,yn)}assertValidity(){if(!ye(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!ye(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Yt){return new Je(this.r,this.s,Yt)}recoverPublicKey(Yt){const{r:Xt,s:yn,recovery:en}=this,En=_t(Wi("msgHash",Yt));if(null==en||![0,1,2,3].includes(en))throw new Error("recovery id invalid");const Nn=2===en||3===en?Xt+t.n:Xt;if(Nn>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Gt=I.fromHex((1&en?"03":"02")+Te(Nn)),Fn=R(Nn),tr=l(-En*Fn),An=l(yn*Fn),hn=I.BASE.multiplyAndAddUnsafe(Gt,tr,An);if(!hn)throw new Error("point at infinify");return hn.assertValidity(),hn}hasHighS(){return Me(this.s)}normalizeS(){return this.hasHighS()?new Je(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Ir(this.toDERHex())}toDERHex(){return cm.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ir(this.toCompactHex())}toCompactHex(){return Te(this.r)+Te(this.s)}}const ze={isValidPrivateKey($t){try{return y($t),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const $t=Tb(t.n);return function gS(r,t,n=!1){const i=r.length,o=bh(t),a=Tb(t);if(i<16||i<a||i>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${i}`);const l=xn(n?To(r):_i(r),t-Ko)+Ko;return n?cr(l,o):yo(l,o)}(t.randomBytes($t),t.n)},precompute:($t=8,Yt=I.BASE)=>(Yt._setWindowSize($t),Yt.multiply(BigInt(3)),Yt)};function rt($t){const Yt=Md($t),Xt="string"==typeof $t,yn=(Yt||Xt)&&$t.length;return Yt?yn===o||yn===a:Xt?yn===2*o||yn===2*a:$t instanceof I}const ct=t.bits2int||function($t){const Yt=To($t),Xt=8*$t.length-t.nBitLength;return Xt>0?Yt>>BigInt(Xt):Yt},_t=t.bits2int_modN||function($t){return l(ct($t))},It=Sl(t.nBitLength);function Jt($t){if("bigint"!=typeof $t)throw new Error("bigint expected");if(!(Qu<=$t&&$t<It))throw new Error(`bigint expected < 2^${t.nBitLength}`);return yo($t,t.nByteLength)}const fn={lowS:t.lowS,prehash:!1},Pn={lowS:t.lowS,prehash:!1};return I.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function He($t,Yt=!0){return I.fromPrivateKey($t).toRawBytes(Yt)},getSharedSecret:function yt($t,Yt,Xt=!0){if(rt($t))throw new Error("first arg must be private key");if(!rt(Yt))throw new Error("second arg must be public key");return I.fromHex(Yt).multiply(y($t)).toRawBytes(Xt)},sign:function dn($t,Yt,Xt=fn){const{seed:yn,k2sig:en}=function Qt($t,Yt,Xt=fn){if(["recovered","canonical"].some(Wn=>Wn in Xt))throw new Error("sign() legacy options not supported");const{hash:yn,randomBytes:en}=t;let{lowS:En,prehash:Nn,extraEntropy:Bn}=Xt;null==En&&(En=!0),$t=Wi("msgHash",$t),Nn&&($t=Wi("prehashed msgHash",yn($t)));const Gt=_t($t),Fn=y(Yt),tr=[Jt(Fn),Jt(Gt)];if(null!=Bn&&!1!==Bn){const Wn=!0===Bn?en(n.BYTES):Bn;tr.push(Wi("extraEntropy",Wn))}const An=Oo(...tr),hn=Gt;return{seed:An,k2sig:function Cn(Wn){const lr=ct(Wn);if(!ye(lr))return;const fr=R(lr),nr=I.BASE.multiply(lr).toAffine(),or=l(nr.x);if(or===Qu)return;const Wr=l(fr*l(hn+or*Fn));if(Wr===Qu)return;let xs=(nr.x===or?0:2)|Number(nr.y&Ue),Gn=Wr;return En&&Me(Wr)&&(Gn=function Ce($t){return Me($t)?l(-$t):$t}(Wr),xs^=1),new Je(or,Gn,xs)}}}($t,Yt,Xt);return Pf(t.hash.outputLen,t.nByteLength,t.hmac)(yn,en)},verify:function Sn($t,Yt,Xt,yn=Pn){const en=$t;if(Yt=Wi("msgHash",Yt),Xt=Wi("publicKey",Xt),"strict"in yn)throw new Error("options.strict was renamed to lowS");const{lowS:En,prehash:Nn}=yn;let Bn,Gt;try{if("string"==typeof en||Md(en))try{Bn=Je.fromDER(en)}catch(nr){if(!(nr instanceof cm.Err))throw nr;Bn=Je.fromCompact(en)}else{if("object"!=typeof en||"bigint"!=typeof en.r||"bigint"!=typeof en.s)throw new Error("PARSE");{const{r:nr,s:or}=en;Bn=new Je(nr,or)}}Gt=I.fromHex(Xt)}catch(nr){if("PARSE"===nr.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(En&&Bn.hasHighS())return!1;Nn&&(Yt=t.hash(Yt));const{r:Fn,s:tr}=Bn,An=_t(Yt),hn=R(tr),Cn=l(An*hn),Wn=l(Fn*hn),lr=I.BASE.multiplyAndAddUnsafe(Gt,Cn,Wn)?.toAffine();return!!lr&&l(lr.x)===Fn},ProjectivePoint:I,Signature:Je,utils:ze}}function Tr(r){return{hash:r,hmac:(t,...n)=>vh(r,t,function yh(...r){let t=0;for(let i=0;i<r.length;i++){const o=r[i];Sd(o),t+=o.length}const n=new Uint8Array(t);for(let i=0,o=0;i<r.length;i++){const a=r[i];n.set(a,o),o+=a.length}return n}(...n)),randomBytes:bp}}BigInt(4);const Oi=function Al(r,t,n=!1,i={}){if(r<=Qo)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:o,nByteLength:a}=Ml(r,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=function ai(r){if(r%$e===Ge){const t=(r+Ko)/$e;return function(i,o){const a=i.pow(o,t);if(!i.eql(i.sqr(a),o))throw new Error("Cannot find square root");return a}}if(r%Dt===qe){const t=(r-qe)/Dt;return function(i,o){const a=i.mul(o,tt),s=i.pow(a,t),l=i.mul(o,s),R=i.mul(i.mul(l,tt),s),I=i.mul(l,i.sub(R,i.ONE));if(!i.eql(i.sqr(I),o))throw new Error("Cannot find square root");return I}}return function Rn(r){const t=(r-Ko)/tt;let n,i,o;for(n=r-Ko,i=0;n%tt===Qo;n/=tt,i++);for(o=tt;o<r&&Ln(o,t,r)!==r-Ko;o++);if(1===i){const s=(r+Ko)/$e;return function(R,I){const y=R.pow(I,s);if(!R.eql(R.sqr(y),I))throw new Error("Cannot find square root");return y}}const a=(n+Ko)/tt;return function(l,R){if(l.pow(R,t)===l.neg(l.ONE))throw new Error("Cannot find square root");let I=i,y=l.pow(l.mul(l.ONE,o),n),L=l.pow(R,a),ye=l.pow(R,n);for(;!l.eql(ye,l.ONE);){if(l.eql(ye,l.ZERO))return l.ZERO;let Te=1;for(let Ce=l.sqr(ye);Te<I&&!l.eql(Ce,l.ONE);Te++)Ce=l.sqr(Ce);const Me=l.pow(y,Ko<<BigInt(I-Te-1));y=l.sqr(Me),L=l.mul(L,Me),ye=l.mul(ye,y),I=Te}return L}}(r)}(r),l=Object.freeze({ORDER:r,BITS:o,BYTES:a,MASK:Sl(o),ZERO:Qo,ONE:Ko,create:R=>xn(R,r),isValid:R=>{if("bigint"!=typeof R)throw new Error("Invalid field element: expected bigint, got "+typeof R);return Qo<=R&&R<r},is0:R=>R===Qo,isOdd:R=>(R&Ko)===Ko,neg:R=>xn(-R,r),eql:(R,I)=>R===I,sqr:R=>xn(R*R,r),add:(R,I)=>xn(R+I,r),sub:(R,I)=>xn(R-I,r),mul:(R,I)=>xn(R*I,r),pow:(R,I)=>function Ad(r,t,n){if(n<Qo)throw new Error("Expected power > 0");if(n===Qo)return r.ONE;if(n===Ko)return t;let i=r.ONE,o=t;for(;n>Qo;)n&Ko&&(i=r.mul(i,o)),o=r.sqr(o),n>>=Ko;return i}(l,R,I),div:(R,I)=>xn(R*gn(I,r),r),sqrN:R=>R*R,addN:(R,I)=>R+I,subN:(R,I)=>R-I,mulN:(R,I)=>R*I,inv:R=>gn(R,r),sqrt:i.sqrt||(R=>s(l,R)),invertBatch:R=>function wc(r,t){const n=new Array(t.length),i=t.reduce((a,s,l)=>r.is0(s)?a:(n[l]=a,r.mul(a,s)),r.ONE),o=r.inv(i);return t.reduceRight((a,s,l)=>r.is0(s)?a:(n[l]=r.mul(a,n[l]),r.mul(a,s)),o),n}(l,R),cmov:(R,I,y)=>y?I:R,toBytes:R=>n?cr(R,a):yo(R,a),fromBytes:R=>{if(R.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${R.length}`);return n?_i(R):To(R)}});return Object.freeze(l)}(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),ao=function hi(r,t){const n=i=>rn({...r,...Tr(i)});return Object.freeze({...n(t),create:n})}({a:Oi.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:Oi,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Xu),Tl=ao;function dm(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);const LD=function _S(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var a=r.charAt(o),s=a.charCodeAt(0);if(255!==n[s])throw new TypeError(a+" is ambiguous");n[s]=o}var l=r.length,R=r.charAt(0),I=Math.log(l)/Math.log(256),y=Math.log(256)/Math.log(l);function ye(Me){if("string"!=typeof Me)throw new TypeError("Expected String");if(0===Me.length)return new Uint8Array;var Ce=0;if(" "!==Me[Ce]){for(var je=0,Je=0;Me[Ce]===R;)je++,Ce++;for(var ze=(Me.length-Ce)*I+1>>>0,He=new Uint8Array(ze);Me[Ce];){var rt=n[Me.charCodeAt(Ce)];if(255===rt)return;for(var yt=0,ct=ze-1;(0!==rt||yt<Je)&&-1!==ct;ct--,yt++)He[ct]=(rt+=l*He[ct]>>>0)%256>>>0,rt=rt/256>>>0;if(0!==rt)throw new Error("Non-zero carry");Je=yt,Ce++}if(" "!==Me[Ce]){for(var _t=ze-Je;_t!==ze&&0===He[_t];)_t++;for(var It=new Uint8Array(je+(ze-_t)),Jt=je;_t!==ze;)It[Jt++]=He[_t++];return It}}}return{encode:function L(Me){if(Me instanceof Uint8Array||(ArrayBuffer.isView(Me)?Me=new Uint8Array(Me.buffer,Me.byteOffset,Me.byteLength):Array.isArray(Me)&&(Me=Uint8Array.from(Me))),!(Me instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Me.length)return"";for(var Ce=0,je=0,Je=0,ze=Me.length;Je!==ze&&0===Me[Je];)Je++,Ce++;for(var He=(ze-Je)*y+1>>>0,rt=new Uint8Array(He);Je!==ze;){for(var yt=Me[Je],ct=0,_t=He-1;(0!==yt||ct<je)&&-1!==_t;_t--,ct++)rt[_t]=(yt+=256*rt[_t]>>>0)%l>>>0,yt=yt/l>>>0;if(0!==yt)throw new Error("Non-zero carry");je=ct,Je++}for(var It=He-je;It!==He&&0===rt[It];)It++;for(var Jt=R.repeat(Ce);It<He;++It)Jt+=r.charAt(rt[It]);return Jt},decodeUnsafe:ye,decode:function Te(Me){var Ce=ye(Me);if(Ce)return Ce;throw new Error(`Non-${t} character`)}}};class UD{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class F0{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return j1(this,t)}}class IP{decoders;constructor(t){this.decoders=t}or(t){return j1(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function j1(r,t){return new IP({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class K1{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new UD(t,n,i),this.decoder=new F0(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function $1({name:r,prefix:t,encode:n,decode:i}){return new K1(r,t,n,i)}function j0({name:r,prefix:t,alphabet:n}){const{encode:i,decode:o}=LD(n,r);return $1({prefix:t,name:r,encode:i,decode:a=>dm(o(a))})}function Aa({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return $1({prefix:t,name:r,encode:o=>function ef(r,t,n){const i="="===t[t.length-1],o=(1<<n)-1;let a="",s=0,l=0;for(let R=0;R<r.length;++R)for(l=l<<8|r[R],s+=8;s>n;)s-=n,a+=t[o&l>>s];if(0!==s&&(a+=t[o&l<<n-s]),i)for(;a.length*n&7;)a+="=";return a}(o,i,n),decode:o=>function V1(r,t,n,i){const o={};for(let y=0;y<t.length;++y)o[t[y]]=y;let a=r.length;for(;"="===r[a-1];)--a;const s=new Uint8Array(a*n/8|0);let l=0,R=0,I=0;for(let y=0;y<a;++y){const L=o[r[y]];if(void 0===L)throw new SyntaxError(`Non-${i} character`);R=R<<n|L,l+=n,l>=8&&(l-=8,s[I++]=255&R>>l)}if(l>=n||255&R<<8-l)throw new SyntaxError("Unexpected end of data");return s}(o,i,n,r)})}const xS=j0({prefix:"9",name:"base10",alphabet:"0123456789"}),DP=Aa({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),CP=Aa({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),FD=Aa({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),K0=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),kP=K0.reduce((r,t,n)=>(r[n]=t,r),[]),PP=K0.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),jD=$1({prefix:"\u{1f680}",name:"base256emoji",encode:function RP(r){return r.reduce((t,n)=>t+kP[n],"")},decode:function SS(r){const t=[];for(const n of r){const i=PP[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),wg=Aa({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),z1=Aa({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),_g=Aa({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),OP=Aa({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),BP=Aa({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),_c=Aa({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),KD=Aa({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),NP=Aa({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Db=Aa({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),LP=j0({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),UP=j0({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),_p=j0({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),FP=j0({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),jP=Aa({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),KP=Aa({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),MS=Aa({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),H1=Aa({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),da=Aa({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),gr=$1({prefix:"\0",name:"identity",encode:r=>function iL(r){return(new TextDecoder).decode(r)}(r),decode:r=>function F1(r){return(new TextEncoder).encode(r)}(r)}),pi=new TextEncoder,ec=new TextDecoder,Rf="json",Il=512;function Id(r){return pi.encode(JSON.stringify(r))}function Eg(r){return JSON.parse(ec.decode(r))}const js="raw",tc=85;function wh(r){return dm(r)}function ji(r){return dm(r)}var AS=128,ua=-128,$0=Math.pow(2,31),Sg=128,TS=127,W1=Math.pow(2,7),tf=Math.pow(2,14),ri=Math.pow(2,21),IS=Math.pow(2,28),kb=Math.pow(2,35),Eh=Math.pow(2,42),G1=Math.pow(2,49),Mg=Math.pow(2,56),Na=Math.pow(2,63),Jc={encode:function V0(r,t,n){t=t||[];for(var i=n=n||0;r>=$0;)t[n++]=255&r|AS,r/=128;for(;r&ua;)t[n++]=255&r|AS,r>>>=7;return t[n]=0|r,V0.bytes=n-i+1,t},decode:function _h(r,i){var s,n=0,o=0,a=i=i||0,l=r.length;do{if(a>=l)throw _h.bytes=0,new RangeError("Could not decode varint");s=r[a++],n+=o<28?(s&TS)<<o:(s&TS)*Math.pow(2,o),o+=7}while(s>=Sg);return _h.bytes=a-i,n},encodingLength:function(r){return r<W1?1:r<tf?2:r<ri?3:r<IS?4:r<kb?5:r<Eh?6:r<G1?7:r<Mg?8:r<Na?9:10}};const Ag=Jc;function z0(r,t,n=0){return Ag.encode(r,t,n),t}function lu(r){return Ag.encodingLength(r)}function um(r,t){const n=t.byteLength,i=lu(r),o=i+lu(n),a=new Uint8Array(o+n);return z0(r,a,0),z0(n,a,i),a.set(t,o),new Pb(r,n,t,a)}class Pb{code;size;digest;bytes;constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}const Y1=dm,sL={code:0,name:"identity",encode:Y1,digest:function oL(r){return um(0,Y1(r))}};function HP({name:r,code:t,encode:n}){return new aL(r,t,n)}class aL{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?um(this.code,n):n.then(i=>um(this.code,i))}throw Error("Unknown type, must be binary type")}}function WP(r){return function(){var t=(0,m.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}()}const cL=HP({name:"sha2-256",code:18,encode:WP("SHA-256")}),lL=HP({name:"sha2-512",code:19,encode:WP("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const J1={...D,...G,...K,...S,...O,...B,...A,...N,...$,...x};function fm(r=0){return new Uint8Array(r)}function hm(r=0){return new Uint8Array(r)}function CS(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const GD=CS("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),Rb=CS("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=hm((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),Of={utf8:GD,"utf-8":GD,hex:J1.base16,latin1:Rb,ascii:Rb,binary:Rb,...J1};function q1(r,t="utf8"){const n=Of[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${r}`)}var Io=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};const kS_toString=function ZD(r,t="utf8"){const n=Of[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(r).substring(1)};class Dd{static validateKey(t){if("EC"!==t.kty||"P-256"!==t.crv)throw new wt(Pt.Secp256r1KeyNotValid,"Invalid SECP256R1 JWK: `kty` MUST be `EC`. `crv` MUST be `P-256`")}static publicKeyToJwk(t){return Io(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?ao.ProjectivePoint.fromHex(t).toRawBytes(!1):t,{alg:"ES256",kty:"EC",crv:"P-256",x:_.bytesToBase64Url(n.subarray(1,33)),y:_.bytesToBase64Url(n.subarray(33,65))}})}static privateJwkToBytes(t){return _.base64UrlToBytes(t.d)}static sign(t,n){return Io(this,void 0,void 0,function*(){Dd.validateKey(n);const i=yield st.encode(t),o=Dd.privateJwkToBytes(n);return Promise.resolve(ao.sign(i,o).toCompactRawBytes())})}static verify(t,n,i){return Io(this,void 0,void 0,function*(){let o;Dd.validateKey(i),o=64===n.length?ao.Signature.fromCompact(n):ao.Signature.fromDER(n);const a=yield st.encode(t),s=ao.ProjectivePoint.fromAffine({x:Dd.bytesToBigInt(_.base64UrlToBytes(i.x)),y:Dd.bytesToBigInt(_.base64UrlToBytes(i.y))}).toRawBytes(!1);return ao.verify(o,a,s)})}static generateKeyPair(){return Io(this,void 0,void 0,function*(){const t=ao.utils.randomPrivateKey(),n=Tl.getPublicKey(t,!1),i=_.bytesToBase64Url(t),o=yield Dd.publicKeyToJwk(n);return{publicJwk:o,privateJwk:Object.assign(Object.assign({},o),{d:i})}})}static bytesToBigInt(t){return BigInt("0x"+kS_toString(t,"base16"))}}const Qc={Ed25519:sr,secp256k1:{sign:qr.sign,verify:qr.verify,generateKeyPair:qr.generateKeyPair,publicKeyToJwk:qr.publicKeyToJwk},"P-256":{sign:Dd.sign,verify:Dd.verify,generateKeyPair:Dd.generateKeyPair,publicKeyToJwk:Dd.publicKeyToJwk}};class Ob{constructor(t){var n,i;if(void 0===t.keyId&&void 0===t.privateJwk.kid)throw new wt(Pt.PrivateKeySignerUnableToDeduceKeyId,"Unable to deduce the key ID");if(void 0===t.algorithm&&void 0===t.privateJwk.alg)throw new wt(Pt.PrivateKeySignerUnableToDeduceAlgorithm,"Unable to deduce the signature algorithm");if(this.keyId=null!==(n=t.keyId)&&void 0!==n?n:t.privateJwk.kid,this.algorithm=null!==(i=t.algorithm)&&void 0!==i?i:t.privateJwk.alg,this.privateJwk=t.privateJwk,this.signatureAlgorithm=Qc[t.privateJwk.crv],!this.signatureAlgorithm)throw new wt(Pt.PrivateKeySignerUnsupportedCurve,`Unsupported crv ${t.privateJwk.crv}, crv must be one of ${Object.keys(Qc)}`)}sign(t){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return yield this.signatureAlgorithm.sign(t,this.privateJwk)})}}class xo{static getKid(t){const{kid:n}=_.base64UrlToObject(t.protected);return n}static getSignerDid(t){const n=xo.getKid(t);return xo.extractDid(n)}static verifySignature(t,n,i){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const o=Qc[i.crv];if(!o)throw new wt(Pt.JwsVerifySignatureUnsupportedCrv,`unsupported crv. crv must be one of ${Object.keys(Qc)}`);const a=_.stringToBytes(`${n.protected}.${t}`),s=_.base64UrlToBytes(n.signature);return yield o.verify(a,s,i)})}static decodePlainObjectPayload(t){let n;try{n=_.base64UrlToObject(t.payload)}catch{throw new wt(Pt.JwsDecodePlainObjectPayloadInvalid,"payload is not a JSON object")}if(!M(n))throw new wt(Pt.JwsDecodePlainObjectPayloadInvalid,"signed payload must be a plain object");return n}static extractDid(t){const[n]=t.split("#");return n}static createSigners(t){return t.map(i=>xo.createSigner(i))}static createSigner(t){return new Ob({privateJwk:t.keyPair.privateJwk,keyId:t.keyId})}}var PS=E(40573);const W0="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,YD=new Set,du="object"==typeof PS&&PS?PS:{},RS=(r,t,n,i)=>{"function"==typeof du.emitWarning?du.emitWarning(r,t,n,i):console.error(`[${n}] ${t}: ${r}`)};let Bb=globalThis.AbortController,OS=globalThis.AbortSignal;if(typeof Bb>"u"){OS=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,o){this._onabort.push(o)}},Bb=class{constructor(){t()}signal=new OS;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const o of this.signal._onabort)o(i);this.signal.onabort?.(i)}}};let r="1"!==du.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{r&&(r=!1,RS("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const Bf=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),Lb=r=>Bf(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?Tg:null:null;class Tg extends Array{constructor(t){super(t),this.fill(0)}}class uu{heap;length;static#e=!1;static create(t){const n=Lb(t);if(!n)return[];uu.#e=!0;const i=new uu(t,n);return uu.#e=!1,i}constructor(t,n){if(!uu.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class Bi{#e;#t;#n;#f;#A;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#y;#a;#o;#r;#u;#p;#d;#c;#g;#l;#E;#x;#v;#b;#M;#h;static unsafeExposeInternals(t){return{starts:t.#x,ttls:t.#v,sizes:t.#E,keyMap:t.#a,keyList:t.#o,valList:t.#r,next:t.#u,prev:t.#p,get head(){return t.#d},get tail(){return t.#c},free:t.#g,isBackgroundFetch:n=>t.#i(n),backgroundFetch:(n,i,o,a)=>t.#P(n,i,o,a),moveToTail:n=>t.#D(n),indexes:n=>t.#w(n),rindexes:n=>t.#_(n),isStale:n=>t.#m(n)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#y}get size(){return this.#s}get fetchMethod(){return this.#A}get dispose(){return this.#n}get disposeAfter(){return this.#f}constructor(t){const{max:n=0,ttl:i,ttlResolution:o=1,ttlAutopurge:a,updateAgeOnGet:s,updateAgeOnHas:l,allowStale:R,dispose:I,disposeAfter:y,noDisposeOnSet:L,noUpdateTTL:ye,maxSize:Te=0,maxEntrySize:Me=0,sizeCalculation:Ce,fetchMethod:je,noDeleteOnFetchRejection:Je,noDeleteOnStaleGet:ze,allowStaleOnFetchRejection:He,allowStaleOnFetchAbort:rt,ignoreFetchAbort:yt}=t;if(0!==n&&!Bf(n))throw new TypeError("max option must be a nonnegative integer");const ct=n?Lb(n):Array;if(!ct)throw new Error("invalid max value: "+n);if(this.#e=n,this.#t=Te,this.maxEntrySize=Me||this.#t,this.sizeCalculation=Ce,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==je&&"function"!=typeof je)throw new TypeError("fetchMethod must be a function if specified");if(this.#A=je,this.#M=!!je,this.#a=new Map,this.#o=new Array(n).fill(void 0),this.#r=new Array(n).fill(void 0),this.#u=new ct(n),this.#p=new ct(n),this.#d=0,this.#c=0,this.#g=uu.create(n),this.#s=0,this.#y=0,"function"==typeof I&&(this.#n=I),"function"==typeof y?(this.#f=y,this.#l=[]):(this.#f=void 0,this.#l=void 0),this.#b=!!this.#n,this.#h=!!this.#f,this.noDisposeOnSet=!!L,this.noUpdateTTL=!!ye,this.noDeleteOnFetchRejection=!!Je,this.allowStaleOnFetchRejection=!!He,this.allowStaleOnFetchAbort=!!rt,this.ignoreFetchAbort=!!yt,0!==this.maxEntrySize){if(0!==this.#t&&!Bf(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!Bf(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#U()}if(this.allowStale=!!R,this.noDeleteOnStaleGet=!!ze,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!l,this.ttlResolution=Bf(o)||0===o?o:1,this.ttlAutopurge=!!a,this.ttl=i||0,this.ttl){if(!Bf(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#R()}if(0===this.#e&&0===this.ttl&&0===this.#t)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){const _t="LRU_CACHE_UNBOUNDED";(r=>!YD.has(r))(_t)&&(YD.add(_t),RS("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",_t,Bi))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#R(){const t=new Tg(this.#e),n=new Tg(this.#e);this.#v=t,this.#x=n,this.#O=(a,s,l=W0.now())=>{if(n[a]=0!==s?l:0,t[a]=s,0!==s&&this.ttlAutopurge){const R=setTimeout(()=>{this.#m(a)&&this.delete(this.#o[a])},s+1);R.unref&&R.unref()}},this.#T=a=>{n[a]=0!==t[a]?W0.now():0},this.#S=(a,s)=>{if(t[s]){const l=t[s],R=n[s];a.ttl=l,a.start=R,a.now=i||o(),a.remainingTTL=l-(a.now-R)}};let i=0;const o=()=>{const a=W0.now();if(this.ttlResolution>0){i=a;const s=setTimeout(()=>i=0,this.ttlResolution);s.unref&&s.unref()}return a};this.getRemainingTTL=a=>{const s=this.#a.get(a);if(void 0===s)return 0;const l=t[s],R=n[s];return 0===l||0===R?1/0:l-((i||o())-R)},this.#m=a=>0!==t[a]&&0!==n[a]&&(i||o())-n[a]>t[a]}#T=()=>{};#S=()=>{};#O=()=>{};#m=()=>!1;#U(){const t=new Tg(this.#e);this.#y=0,this.#E=t,this.#I=n=>{this.#y-=t[n],t[n]=0},this.#B=(n,i,o,a)=>{if(this.#i(i))return 0;if(!Bf(o)){if(!a)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof a)throw new TypeError("sizeCalculation must be a function");if(o=a(i,n),!Bf(o))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return o},this.#C=(n,i,o)=>{if(t[n]=i,this.#t){const a=this.#t-t[n];for(;this.#y>a;)this.#k(!0)}this.#y+=t[n],o&&(o.entrySize=i,o.totalCalculatedSize=this.#y)}}#I=t=>{};#C=(t,n,i)=>{};#B=(t,n,i,o)=>{if(i||o)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#c;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#d);)n=this.#p[n]}*#_({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#d;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#c);)n=this.#u[n]}#N(t){return void 0!==t&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#w())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*rentries(){for(const t of this.#_())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*keys(){for(const t of this.#w()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*rkeys(){for(const t of this.#_()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*values(){for(const t of this.#w())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}*rvalues(){for(const t of this.#_())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}[Symbol.iterator](){return this.entries()}find(t,n={}){for(const i of this.#w()){const o=this.#r[i],a=this.#i(o)?o.__staleWhileFetching:o;if(void 0!==a&&t(a,this.#o[i],this))return this.get(this.#o[i],n)}}forEach(t,n=this){for(const i of this.#w()){const o=this.#r[i],a=this.#i(o)?o.__staleWhileFetching:o;void 0!==a&&t.call(n,a,this.#o[i],this)}}rforEach(t,n=this){for(const i of this.#_()){const o=this.#r[i],a=this.#i(o)?o.__staleWhileFetching:o;void 0!==a&&t.call(n,a,this.#o[i],this)}}purgeStale(){let t=!1;for(const n of this.#_({allowStale:!0}))this.#m(n)&&(this.delete(this.#o[n]),t=!0);return t}dump(){const t=[];for(const n of this.#w({allowStale:!0})){const i=this.#o[n],o=this.#r[n],a=this.#i(o)?o.__staleWhileFetching:o;if(void 0===a||void 0===i)continue;const s={value:a};if(this.#v&&this.#x){s.ttl=this.#v[n];const l=W0.now()-this.#x[n];s.start=Math.floor(Date.now()-l)}this.#E&&(s.size=this.#E[n]),t.unshift([i,s])}return t}load(t){this.clear();for(const[n,i]of t){if(i.start){const o=Date.now()-i.start;i.start=W0.now()-o}this.set(n,i.value,i)}}set(t,n,i={}){if(void 0===n)return this.delete(t),this;const{ttl:o=this.ttl,start:a,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:l=this.sizeCalculation,status:R}=i;let{noUpdateTTL:I=this.noUpdateTTL}=i;const y=this.#B(t,n,i.size||0,l);if(this.maxEntrySize&&y>this.maxEntrySize)return R&&(R.set="miss",R.maxEntrySizeExceeded=!0),this.delete(t),this;let L=0===this.#s?void 0:this.#a.get(t);if(void 0===L)L=0===this.#s?this.#c:0!==this.#g.length?this.#g.pop():this.#s===this.#e?this.#k(!1):this.#s,this.#o[L]=t,this.#r[L]=n,this.#a.set(t,L),this.#u[this.#c]=L,this.#p[L]=this.#c,this.#c=L,this.#s++,this.#C(L,y,R),R&&(R.set="add"),I=!1;else{this.#D(L);const ye=this.#r[L];if(n!==ye){if(this.#M&&this.#i(ye)?ye.__abortController.abort(new Error("replaced")):s||(this.#b&&this.#n?.(ye,t,"set"),this.#h&&this.#l?.push([ye,t,"set"])),this.#I(L),this.#C(L,y,R),this.#r[L]=n,R){R.set="replace";const Te=ye&&this.#i(ye)?ye.__staleWhileFetching:ye;void 0!==Te&&(R.oldValue=Te)}}else R&&(R.set="update")}if(0!==o&&!this.#v&&this.#R(),this.#v&&(I||this.#O(L,o,a),R&&this.#S(R,L)),!s&&this.#h&&this.#l){const ye=this.#l;let Te;for(;Te=ye?.shift();)this.#f?.(...Te)}return this}pop(){try{for(;this.#s;){const t=this.#r[this.#d];if(this.#k(!0),this.#i(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#h&&this.#l){const t=this.#l;let n;for(;n=t?.shift();)this.#f?.(...n)}}}#k(t){const n=this.#d,i=this.#o[n],o=this.#r[n];return this.#M&&this.#i(o)?o.__abortController.abort(new Error("evicted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(o,i,"evict"),this.#h&&this.#l?.push([o,i,"evict"])),this.#I(n),t&&(this.#o[n]=void 0,this.#r[n]=void 0,this.#g.push(n)),1===this.#s?(this.#d=this.#c=0,this.#g.length=0):this.#d=this.#u[n],this.#a.delete(i),this.#s--,n}has(t,n={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:o}=n,a=this.#a.get(t);if(void 0!==a){const s=this.#r[a];if(this.#i(s)&&void 0===s.__staleWhileFetching)return!1;if(!this.#m(a))return i&&this.#T(a),o&&(o.has="hit",this.#S(o,a)),!0;o&&(o.has="stale",this.#S(o,a))}else o&&(o.has="miss");return!1}peek(t,n={}){const{allowStale:i=this.allowStale}=n,o=this.#a.get(t);if(void 0!==o&&(i||!this.#m(o))){const a=this.#r[o];return this.#i(a)?a.__staleWhileFetching:a}}#P(t,n,i,o){const a=void 0===n?void 0:this.#r[n];if(this.#i(a))return a;const s=new Bb,{signal:l}=i;l?.addEventListener("abort",()=>s.abort(l.reason),{signal:s.signal});const R={signal:s.signal,options:i,context:o},I=(Ce,je=!1)=>{const{aborted:Je}=s.signal,ze=i.ignoreFetchAbort&&void 0!==Ce;return i.status&&(Je&&!je?(i.status.fetchAborted=!0,i.status.fetchError=s.signal.reason,ze&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),!Je||ze||je?(this.#r[n]===Te&&(void 0===Ce?Te.__staleWhileFetching?this.#r[n]=Te.__staleWhileFetching:this.delete(t):(i.status&&(i.status.fetchUpdated=!0),this.set(t,Ce,R.options))),Ce):L(s.signal.reason)},L=Ce=>{const{aborted:je}=s.signal,Je=je&&i.allowStaleOnFetchAbort,ze=Je||i.allowStaleOnFetchRejection,rt=Te;if(this.#r[n]===Te&&((ze||i.noDeleteOnFetchRejection)&&void 0!==rt.__staleWhileFetching?Je||(this.#r[n]=rt.__staleWhileFetching):this.delete(t)),ze)return i.status&&void 0!==rt.__staleWhileFetching&&(i.status.returnedStale=!0),rt.__staleWhileFetching;if(rt.__returned===rt)throw Ce};i.status&&(i.status.fetchDispatched=!0);const Te=new Promise((Ce,je)=>{const Je=this.#A?.(t,a,R);Je&&Je instanceof Promise&&Je.then(ze=>Ce(ze),je),s.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(Ce(),i.allowStaleOnFetchAbort&&(Ce=ze=>I(ze,!0)))})}).then(I,Ce=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=Ce),L(Ce))),Me=Object.assign(Te,{__abortController:s,__staleWhileFetching:a,__returned:void 0});return void 0===n?(this.set(t,Me,{...R.options,status:void 0}),n=this.#a.get(t)):this.#r[n]=Me,Me}#i(t){if(!this.#M)return!1;const n=t;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof Bb}fetch(t,n={}){var i=this;return(0,m.A)(function*(){const{allowStale:o=i.allowStale,updateAgeOnGet:a=i.updateAgeOnGet,noDeleteOnStaleGet:s=i.noDeleteOnStaleGet,ttl:l=i.ttl,noDisposeOnSet:R=i.noDisposeOnSet,size:I=0,sizeCalculation:y=i.sizeCalculation,noUpdateTTL:L=i.noUpdateTTL,noDeleteOnFetchRejection:ye=i.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Te=i.allowStaleOnFetchRejection,ignoreFetchAbort:Me=i.ignoreFetchAbort,allowStaleOnFetchAbort:Ce=i.allowStaleOnFetchAbort,context:je,forceRefresh:Je=!1,status:ze,signal:He}=n;if(!i.#M)return ze&&(ze.fetch="get"),i.get(t,{allowStale:o,updateAgeOnGet:a,noDeleteOnStaleGet:s,status:ze});const rt={allowStale:o,updateAgeOnGet:a,noDeleteOnStaleGet:s,ttl:l,noDisposeOnSet:R,size:I,sizeCalculation:y,noUpdateTTL:L,noDeleteOnFetchRejection:ye,allowStaleOnFetchRejection:Te,allowStaleOnFetchAbort:Ce,ignoreFetchAbort:Me,status:ze,signal:He};let yt=i.#a.get(t);if(void 0===yt){ze&&(ze.fetch="miss");const ct=i.#P(t,yt,rt,je);return ct.__returned=ct}{const ct=i.#r[yt];if(i.#i(ct)){const fn=o&&void 0!==ct.__staleWhileFetching;return ze&&(ze.fetch="inflight",fn&&(ze.returnedStale=!0)),fn?ct.__staleWhileFetching:ct.__returned=ct}const _t=i.#m(yt);if(!Je&&!_t)return ze&&(ze.fetch="hit"),i.#D(yt),a&&i.#T(yt),ze&&i.#S(ze,yt),ct;const It=i.#P(t,yt,rt,je),Qt=void 0!==It.__staleWhileFetching&&o;return ze&&(ze.fetch=_t?"stale":"refresh",Qt&&_t&&(ze.returnedStale=!0)),Qt?It.__staleWhileFetching:It.__returned=It}})()}get(t,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:a=this.noDeleteOnStaleGet,status:s}=n,l=this.#a.get(t);if(void 0!==l){const R=this.#r[l],I=this.#i(R);return s&&this.#S(s,l),this.#m(l)?(s&&(s.get="stale"),I?(s&&i&&void 0!==R.__staleWhileFetching&&(s.returnedStale=!0),i?R.__staleWhileFetching:void 0):(a||this.delete(t),s&&i&&(s.returnedStale=!0),i?R:void 0)):(s&&(s.get="hit"),I?R.__staleWhileFetching:(this.#D(l),o&&this.#T(l),R))}s&&(s.get="miss")}#L(t,n){this.#p[n]=t,this.#u[t]=n}#D(t){t!==this.#c&&(t===this.#d?this.#d=this.#u[t]:this.#L(this.#p[t],this.#u[t]),this.#L(this.#c,t),this.#c=t)}delete(t){let n=!1;if(0!==this.#s){const i=this.#a.get(t);if(void 0!==i)if(n=!0,1===this.#s)this.clear();else{this.#I(i);const o=this.#r[i];this.#i(o)?o.__abortController.abort(new Error("deleted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(o,t,"delete"),this.#h&&this.#l?.push([o,t,"delete"])),this.#a.delete(t),this.#o[i]=void 0,this.#r[i]=void 0,i===this.#c?this.#c=this.#p[i]:i===this.#d?this.#d=this.#u[i]:(this.#u[this.#p[i]]=this.#u[i],this.#p[this.#u[i]]=this.#p[i]),this.#s--,this.#g.push(i)}}if(this.#h&&this.#l?.length){const i=this.#l;let o;for(;o=i?.shift();)this.#f?.(...o)}return n}clear(){for(const t of this.#_({allowStale:!0})){const n=this.#r[t];if(this.#i(n))n.__abortController.abort(new Error("deleted"));else{const i=this.#o[t];this.#b&&this.#n?.(n,i,"delete"),this.#h&&this.#l?.push([n,i,"delete"])}}if(this.#a.clear(),this.#r.fill(void 0),this.#o.fill(void 0),this.#v&&this.#x&&(this.#v.fill(0),this.#x.fill(0)),this.#E&&this.#E.fill(0),this.#d=0,this.#c=0,this.#g.length=0,this.#y=0,this.#s=0,this.#h&&this.#l){const t=this.#l;let n;for(;n=t?.shift();)this.#f?.(...n)}}}var Ub=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class BS{constructor(t){this.timeToLiveInSeconds=t,this.cache=new Bi({max:1e5,ttl:1e3*t})}set(t,n){return Ub(this,void 0,void 0,function*(){try{this.cache.set(t,n)}catch{}})}get(t){return Ub(this,void 0,void 0,function*(){return this.cache.get(t)})}}const JD=Is,G0=new RegExp("^[A-Za-z0-9_-]+$","u");function Yo(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){const R=Yo.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Yo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const ye=0;for(const Te in r)if("payload"!==Te&&"signatures"!==Te)return Yo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Te},message:"must NOT have additional properties"}],!1;if(0===ye){if(void 0!==r.payload){let Te=r.payload;const Me=0;if("string"!=typeof Te)return Yo.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!G0.test(Te))return Yo.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var I=0===Me}else I=!0;if(I)if(void 0!==r.signatures){let Te=r.signatures;const Me=0;if(0===Me){if(!Array.isArray(Te))return Yo.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Te.length<1)return Yo.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const je=Te.length;for(let Je=0;Je<je;Je++){let ze=Te[Je];const He=0;if(0===He){if(!ze||"object"!=typeof ze||Array.isArray(ze))return Yo.errors=[{instancePath:t+"/signatures/"+Je,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==ze.protected){let yt=ze.protected;const ct=0;if("string"!=typeof yt)return Yo.errors=[{instancePath:t+"/signatures/"+Je+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!G0.test(yt))return Yo.errors=[{instancePath:t+"/signatures/"+Je+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var L=0===ct}else L=!0;if(L)if(void 0!==ze.signature){let yt=ze.signature;const ct=0;if("string"!=typeof yt)return Yo.errors=[{instancePath:t+"/signatures/"+Je+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!G0.test(yt))return Yo.errors=[{instancePath:t+"/signatures/"+Je+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;L=0===ct}else L=!0}if(0!==He)break}}}I=0===Me}else I=!0}}return Yo.errors=null,!0}function Is(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=Is.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return Is.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const I=l;for(const y in r)if("signature"!==y)return Is.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;I===l&&void 0!==r.signature&&(Yo(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:o,dynamicAnchors:a})||(s=null===s?Yo.errors:s.concat(Yo.errors),l=s.length))}}return Is.errors=s,0===l}Yo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Is.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const XP=Ec,pm={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string",pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-owner.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},tags:{type:"object",minProperties:1,maxProperties:10,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"array",minItems:1,maxItems:10,items:{type:"string"}},{type:"array",minItems:1,maxItems:10,items:{type:"number"}}]}},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]},co=new RegExp("^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$","u"),Z0=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u"),qD=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u"),Ki=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u"),xh={validate:Tu};function nc(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=nc.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return nc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const y=l;for(const L in r)if("signature"!==L&&"authorDelegatedGrant"!==L&&"ownerSignature"!==L&&"ownerDelegatedGrant"!==L)return nc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:L},message:"must NOT have additional properties"}],!1;if(y===l){let L;if(void 0!==r.ownerSignature&&void 0===r.signature&&(L="signature"))return nc.errors=[{instancePath:t,schemaPath:"#/dependencies",keyword:"dependencies",params:{property:"ownerSignature",missingProperty:L,depsCount:1,deps:"signature"},message:"must have property signature when property ownerSignature is present"}],!1;if(void 0!==r.signature){const ye=l;Yo(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:o,dynamicAnchors:a})||(s=null===s?Yo.errors:s.concat(Yo.errors),l=s.length);var I=ye===l}else I=!0;if(I){if(void 0!==r.authorDelegatedGrant){const ye=l;xh.validate(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:o,dynamicAnchors:a})||(s=null===s?xh.validate.errors:s.concat(xh.validate.errors),l=s.length),I=ye===l}else I=!0;if(I){if(void 0!==r.ownerSignature){const ye=l;Yo(r.ownerSignature,{instancePath:t+"/ownerSignature",parentData:r,parentDataProperty:"ownerSignature",rootData:o,dynamicAnchors:a})||(s=null===s?Yo.errors:s.concat(Yo.errors),l=s.length),I=ye===l}else I=!0;if(I)if(void 0!==r.ownerDelegatedGrant){const ye=l;xh.validate(r.ownerDelegatedGrant,{instancePath:t+"/ownerDelegatedGrant",parentData:r,parentDataProperty:"ownerDelegatedGrant",rootData:o,dynamicAnchors:a})||(s=null===s?xh.validate.errors:s.concat(xh.validate.errors),l=s.length),I=ye===l}else I=!0}}}}}return nc.errors=s,0===l}nc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Q1={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function Xo(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=Xo.evaluated;R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0);const I=l,y=l;let L=!1,ye=null;const Te=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let Sn;if(void 0===r.crv&&(Sn="crv")||void 0===r.x&&(Sn="x")){const $t={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:Sn},message:"must have required property '"+Sn+"'"};null===s?s=[$t]:s.push($t),l++}else{if(void 0!==r.kty){const $t=l;if("EC"!==r.kty){const Yt={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===s?s=[Yt]:s.push(Yt),l++}var Me=$t===l}else Me=!0;if(Me){if(void 0!==r.crv){const $t=l;if("string"!=typeof r.crv){const Xt={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Xt]:s.push(Xt),l++}Me=$t===l}else Me=!0;if(Me){if(void 0!==r.x){const $t=l;if("string"!=typeof r.x){const Xt={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Xt]:s.push(Xt),l++}Me=$t===l}else Me=!0;if(Me){if(void 0!==r.y){const $t=l;if("string"!=typeof r.y){const Xt={instancePath:t+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Xt]:s.push(Xt),l++}Me=$t===l}else Me=!0;if(Me)if(void 0!==r.d){const $t=l;if("string"!=typeof r.d){const Xt={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Xt]:s.push(Xt),l++}Me=$t===l}else Me=!0}}}}}if(ze=Te===l){L=!0,ye=0;var Ce={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const je=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let Sn;if(void 0===r.crv&&(Sn="crv")||void 0===r.x&&(Sn="x")){const $t={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:Sn},message:"must have required property '"+Sn+"'"};null===s?s=[$t]:s.push($t),l++}else{if(void 0!==r.kty){const $t=l;if("OKP"!==r.kty){const Yt={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===s?s=[Yt]:s.push(Yt),l++}var Je=$t===l}else Je=!0;if(Je){if(void 0!==r.crv){const $t=l;if("string"!=typeof r.crv){const Xt={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Xt]:s.push(Xt),l++}Je=$t===l}else Je=!0;if(Je){if(void 0!==r.x){const $t=l;if("string"!=typeof r.x){const Xt={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Xt]:s.push(Xt),l++}Je=$t===l}else Je=!0;if(Je)if(void 0!==r.d){const $t=l;if("string"!=typeof r.d){const Xt={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Xt]:s.push(Xt),l++}Je=$t===l}else Je=!0}}}}if((ze=je===l)&&L)L=!1,ye=[ye,1];else{ze&&(L=!0,ye=1,!0!==Ce&&((Ce=Ce||{}).kty=!0,Ce.crv=!0,Ce.x=!0,Ce.d=!0));const Sn=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let Yt;if(void 0===r.n&&(Yt="n")||void 0===r.e&&(Yt="e")){const Xt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:Yt},message:"must have required property '"+Yt+"'"};null===s?s=[Xt]:s.push(Xt),l++}else{if(void 0!==r.kty){const Xt=l;if("RSA"!==r.kty){const yn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===s?s=[yn]:s.push(yn),l++}var He=Xt===l}else He=!0;if(He){if(void 0!==r.n){const Xt=l;if("string"!=typeof r.n){const en={instancePath:t+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[en]:s.push(en),l++}He=Xt===l}else He=!0;if(He){if(void 0!==r.e){const Xt=l;if("string"!=typeof r.e){const en={instancePath:t+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[en]:s.push(en),l++}He=Xt===l}else He=!0;if(He){if(void 0!==r.d){const Xt=l;if("string"!=typeof r.d){const en={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[en]:s.push(en),l++}He=Xt===l}else He=!0;if(He){if(void 0!==r.p){const Xt=l;if("string"!=typeof r.p){const en={instancePath:t+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[en]:s.push(en),l++}He=Xt===l}else He=!0;if(He){if(void 0!==r.q){const Xt=l;if("string"!=typeof r.q){const en={instancePath:t+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[en]:s.push(en),l++}He=Xt===l}else He=!0;if(He){if(void 0!==r.dp){const Xt=l;if("string"!=typeof r.dp){const en={instancePath:t+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[en]:s.push(en),l++}He=Xt===l}else He=!0;if(He){if(void 0!==r.dq){const Xt=l;if("string"!=typeof r.dq){const en={instancePath:t+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[en]:s.push(en),l++}He=Xt===l}else He=!0;if(He){if(void 0!==r.qi){const Xt=l;if("string"!=typeof r.qi){const en={instancePath:t+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[en]:s.push(en),l++}He=Xt===l}else He=!0;if(He)if(void 0!==r.oth){let Xt=r.oth;const yn=l;if(!Xt||"object"!=typeof Xt||Array.isArray(Xt)){const En={instancePath:t+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[En]:s.push(En),l++}He=yn===l}else He=!0}}}}}}}}}}if((ze=Sn===l)&&L)L=!1,ye=[ye,2];else{ze&&(L=!0,ye=2,!0!==Ce&&((Ce=Ce||{}).kty=!0,Ce.n=!0,Ce.e=!0,Ce.d=!0,Ce.p=!0,Ce.q=!0,Ce.dp=!0,Ce.dq=!0,Ce.qi=!0,Ce.oth=!0));const Yt=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let yn;if(void 0===r.k&&(yn="k")){const en={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:yn},message:"must have required property '"+yn+"'"};null===s?s=[en]:s.push(en),l++}else{if(void 0!==r.kty){const en=l;if("oct"!==r.kty){const En={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===s?s=[En]:s.push(En),l++}var rt=en===l}else rt=!0;if(rt)if(void 0!==r.k){const en=l;if("string"!=typeof r.k){const Nn={instancePath:t+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Nn]:s.push(Nn),l++}rt=en===l}else rt=!0}}var ze;(ze=Yt===l)&&L?(L=!1,ye=[ye,3]):ze&&(L=!0,ye=3,!0!==Ce&&((Ce=Ce||{}).kty=!0,Ce.k=!0))}}if(!L){const Sn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:ye},message:"must match exactly one schema in oneOf"};return null===s?s=[Sn]:s.push(Sn),l++,Xo.errors=s,!1}if(l=y,null!==s&&(y?s.length=y:s=null),l===I){if(!r||"object"!=typeof r||Array.isArray(r))return Xo.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Sn;if(void 0===r.kty&&(Sn="kty"))return Xo.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:Sn},message:"must have required property '"+Sn+"'"}],!1;if(!0!==Ce&&((Ce=Ce||{}).alg=!0,Ce.kid=!0,Ce.kty=!0,Ce.crv=!0,Ce.use=!0,Ce.key_ops=!0,Ce.x5u=!0,Ce.x5c=!0,Ce.x5t=!0,Ce["x5t#S256"]=!0),void 0!==r.alg){const $t=l;if("string"!=typeof r.alg)return Xo.errors=[{instancePath:t+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var yt=$t===l}else yt=!0;if(yt){if(void 0!==r.kid){const $t=l;if("string"!=typeof r.kid)return Xo.errors=[{instancePath:t+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;yt=$t===l}else yt=!0;if(yt){if(void 0!==r.kty){let $t=r.kty;const Yt=l;if("EC"!==$t&&"RSA"!==$t&&"oct"!==$t&&"OKP"!==$t)return Xo.errors=[{instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:Q1.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;yt=Yt===l}else yt=!0;if(yt){if(void 0!==r.crv){const $t=l;if("string"!=typeof r.crv)return Xo.errors=[{instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;yt=$t===l}else yt=!0;if(yt){if(void 0!==r.use){const $t=l;if("string"!=typeof r.use)return Xo.errors=[{instancePath:t+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;yt=$t===l}else yt=!0;if(yt){if(void 0!==r.key_ops){const $t=l;if("string"!=typeof r.key_ops)return Xo.errors=[{instancePath:t+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;yt=$t===l}else yt=!0;if(yt){if(void 0!==r.x5u){const $t=l;if("string"!=typeof r.x5u)return Xo.errors=[{instancePath:t+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;yt=$t===l}else yt=!0;if(yt){if(void 0!==r.x5c){const $t=l;if("string"!=typeof r.x5c)return Xo.errors=[{instancePath:t+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;yt=$t===l}else yt=!0;if(yt){if(void 0!==r.x5t){const $t=l;if("string"!=typeof r.x5t)return Xo.errors=[{instancePath:t+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;yt=$t===l}else yt=!0;if(yt)if(void 0!==r["x5t#S256"]){const $t=l;if("string"!=typeof r["x5t#S256"])return Xo.errors=[{instancePath:t+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;yt=$t===l}else yt=!0}}}}}}}}}}if(I===l){const Sn=l,$t=l,Yt=l;let Xt=!1;const yn=l,en=l;let En=!1;const Nn=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let Gn;if(void 0===r.d&&(Gn="d")){const li={};null===s?s=[li]:s.push(li),l++}}if(En=En||Nn===l,En)l=en,null!==s&&(en?s.length=en:s=null);else{const Gn={};null===s?s=[Gn]:s.push(Gn),l++}if(l===yn)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"EC"!==r.kty){const Gn={};null===s?s=[Gn]:s.push(Gn),l++}}else{const Gn={};null===s?s=[Gn]:s.push(Gn),l++}var Pn=yn===l;if(Xt=Xt||Pn,Pn)var It={kty:!0};const Bn=l,Gt=l;let Fn=!1;const tr=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let Gn;if(void 0===r.d&&(Gn="d")){const li={};null===s?s=[li]:s.push(li),l++}}if(Fn=Fn||tr===l,Fn)l=Gt,null!==s&&(Gt?s.length=Gt:s=null);else{const Gn={};null===s?s=[Gn]:s.push(Gn),l++}if(l===Bn)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"OKP"!==r.kty){const Gn={};null===s?s=[Gn]:s.push(Gn),l++}}else{const Gn={};null===s?s=[Gn]:s.push(Gn),l++}Pn=Bn===l,Xt=Xt||Pn,Pn&&!0!==It&&((It=It||{}).kty=!0);const An=l,hn=l;let Cn=!1;const Wn=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let Gn;if(void 0===r.d&&(Gn="d")){const li={};null===s?s=[li]:s.push(li),l++}}var Qt=Wn===l;Cn=Cn||Qt;const lr=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let Gn;if(void 0===r.p&&(Gn="p")){const li={};null===s?s=[li]:s.push(li),l++}}Qt=lr===l,Cn=Cn||Qt;const fr=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let Gn;if(void 0===r.q&&(Gn="q")){const li={};null===s?s=[li]:s.push(li),l++}}Qt=fr===l,Cn=Cn||Qt;const nr=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let Gn;if(void 0===r.dp&&(Gn="dp")){const li={};null===s?s=[li]:s.push(li),l++}}Qt=nr===l,Cn=Cn||Qt;const or=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let Gn;if(void 0===r.dq&&(Gn="dq")){const li={};null===s?s=[li]:s.push(li),l++}}Qt=or===l,Cn=Cn||Qt;const Wr=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let Gn;if(void 0===r.qi&&(Gn="qi")){const li={};null===s?s=[li]:s.push(li),l++}}Qt=Wr===l,Cn=Cn||Qt;const xs=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let Gn;if(void 0===r.oth&&(Gn="oth")){const li={};null===s?s=[li]:s.push(li),l++}}if(Qt=xs===l,Cn=Cn||Qt,Cn)l=hn,null!==s&&(hn?s.length=hn:s=null);else{const Gn={};null===s?s=[Gn]:s.push(Gn),l++}if(l===An)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty){const Gn=l;if("RSA"!==r.kty){const li={};null===s?s=[li]:s.push(li),l++}var fn=Gn===l}else fn=!0;if(fn)if(void 0!==r.oth){let Gn=r.oth;const li=l;if(!Gn||"object"!=typeof Gn||Array.isArray(Gn)){const Jr={};null===s?s=[Jr]:s.push(Jr),l++}fn=li===l}else fn=!0}else{const Gn={};null===s?s=[Gn]:s.push(Gn),l++}if(Pn=An===l,Xt=Xt||Pn,Pn&&!0!==It&&((It=It||{}).kty=!0,It.d=!0,It.p=!0,It.q=!0,It.dp=!0,It.dq=!0,It.qi=!0,It.oth=!0),Xt)l=Yt,null!==s&&(Yt?s.length=Yt:s=null);else{const Gn={};null===s?s=[Gn]:s.push(Gn),l++}if($t===l)return Xo.errors=[{instancePath:t,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;l=Sn,null!==s&&(Sn?s.length=Sn:s=null)}return Xo.errors=s,R.props=Ce,0===l}Xo.evaluated={dynamicProps:!0,dynamicItems:!1};const qP=Object.prototype.hasOwnProperty;function Fr(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=Fr.evaluated;R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0);const I=l;let y=!1;const L=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let Bn;if(void 0===r.contextId&&(Bn="contextId")){const Gt={instancePath:t,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:Bn},message:"must have required property '"+Bn+"'"};null===s?s=[Gt]:s.push(Gt),l++}else if(void 0!==r.descriptor){let Gt=r.descriptor;if(l==l)if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt)){let tr;if(void 0===Gt.protocol&&(tr="protocol")||void 0===Gt.protocolPath&&(tr="protocolPath")){const An={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:tr},message:"must have required property '"+tr+"'"};null===s?s=[An]:s.push(An),l++}}else{const tr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[tr]:s.push(tr),l++}}}var yt=L===l;if(y=y||yt,yt)var ye={descriptor:!0};const Te=l,Me=l,Ce=l,je=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let Bn;if(void 0===r.contextId&&(Bn="contextId")){const Gt={};null===s?s=[Gt]:s.push(Gt),l++}}if(je===l){const Bn={instancePath:t,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[Bn]:s.push(Bn),l++}else l=Ce,null!==s&&(Ce?s.length=Ce:s=null);if(Me===l){const Bn=l;if(r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let Fn=r.descriptor;if(!Fn||"object"!=typeof Fn||Array.isArray(Fn)){const hn={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[hn]:s.push(hn),l++}const tr=l,An=l;if(Fn&&"object"==typeof Fn&&!Array.isArray(Fn)){let hn;if(void 0===Fn.protocol&&(hn="protocol")){const Cn={};null===s?s=[Cn]:s.push(Cn),l++}}if(An===l){const hn={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[hn]:s.push(hn),l++}else l=tr,null!==s&&(tr?s.length=tr:s=null)}if(Bn===l&&r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let An=r.descriptor;if(!An||"object"!=typeof An||Array.isArray(An)){const Wn={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[Wn]:s.push(Wn),l++}const hn=l,Cn=l;if(An&&"object"==typeof An&&!Array.isArray(An)){let Wn;if(void 0===An.protocolPath&&(Wn="protocolPath")){const lr={};null===s?s=[lr]:s.push(lr),l++}}if(Cn===l){const Wn={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[Wn]:s.push(Wn),l++}else l=hn,null!==s&&(hn?s.length=hn:s=null)}}if(yt=Te===l,y=y||yt,yt&&!0!==ye&&((ye=ye||{}).descriptor=!0),!y){const Bn={instancePath:t,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===s?s=[Bn]:s.push(Bn),l++,Fr.errors=s,!1}if(l=I,null!==s&&(I?s.length=I:s=null),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return Fr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Bn;if(void 0===r.descriptor&&(Bn="descriptor"))return Fr.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Bn},message:"must have required property '"+Bn+"'"}],!1;if(!0!==ye&&((ye=ye||{}).recordId=!0,ye.contextId=!0,ye.attestation=!0,ye.authorization=!0,ye.encryption=!0,ye.descriptor=!0),void 0!==r.recordId){const Gt=l;if("string"!=typeof r.recordId)return Fr.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ct=Gt===l}else ct=!0;if(ct){if(void 0!==r.contextId){let Gt=r.contextId;const Fn=l;if(l===Fn){if("string"!=typeof Gt)return Fr.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!co.test(Gt))return Fr.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},message:'must match pattern "^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"'}],!1}ct=Fn===l}else ct=!0;if(ct){if(void 0!==r.attestation){const Gt=l;Yo(r.attestation,{instancePath:t+"/attestation",parentData:r,parentDataProperty:"attestation",rootData:o,dynamicAnchors:a})||(s=null===s?Yo.errors:s.concat(Yo.errors),l=s.length),ct=Gt===l}else ct=!0;if(ct){if(void 0!==r.authorization){const Gt=l;nc(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:a})||(s=null===s?nc.errors:s.concat(nc.errors),l=s.length),ct=Gt===l}else ct=!0;if(ct){if(void 0!==r.encryption){let Gt=r.encryption;const Fn=l;if(l===Fn){if(!Gt||"object"!=typeof Gt||Array.isArray(Gt))return Fr.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let An;if(void 0===Gt.algorithm&&(An="algorithm")||void 0===Gt.initializationVector&&(An="initializationVector")||void 0===Gt.keyEncryption&&(An="keyEncryption"))return Fr.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:An},message:"must have required property '"+An+"'"}],!1;{const hn=l;for(const Cn in Gt)if("algorithm"!==Cn&&"initializationVector"!==Cn&&"keyEncryption"!==Cn)return Fr.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Cn},message:"must NOT have additional properties"}],!1;if(hn===l){if(void 0!==Gt.algorithm){let Cn=Gt.algorithm;const Wn=l;if("string"!=typeof Cn)return Fr.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("A256CTR"!==Cn)return Fr.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:pm.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var _t=Wn===l}else _t=!0;if(_t){if(void 0!==Gt.initializationVector){let Cn=Gt.initializationVector;const Wn=l;if(l==l){if("string"!=typeof Cn)return Fr.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!G0.test(Cn))return Fr.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}_t=Wn===l}else _t=!0;if(_t)if(void 0!==Gt.keyEncryption){let Cn=Gt.keyEncryption;const Wn=l;if(l===Wn){if(!Array.isArray(Cn))return Fr.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Cn.length<1)return Fr.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const fr=Cn.length;for(let nr=0;nr<fr;nr++){let or=Cn[nr];const Wr=l;if(l===Wr){if(!or||"object"!=typeof or||Array.isArray(or))return Fr.errors=[{instancePath:t+"/encryption/keyEncryption/"+nr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Gn;if(void 0===or.rootKeyId&&(Gn="rootKeyId")||void 0===or.derivationScheme&&(Gn="derivationScheme")||void 0===or.algorithm&&(Gn="algorithm")||void 0===or.encryptedKey&&(Gn="encryptedKey")||void 0===or.initializationVector&&(Gn="initializationVector")||void 0===or.ephemeralPublicKey&&(Gn="ephemeralPublicKey")||void 0===or.messageAuthenticationCode&&(Gn="messageAuthenticationCode"))return Fr.errors=[{instancePath:t+"/encryption/keyEncryption/"+nr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:Gn},message:"must have required property '"+Gn+"'"}],!1;{const li=l;for(const di in or)if("rootKeyId"!==di&&"derivationScheme"!==di&&"derivedPublicKey"!==di&&"algorithm"!==di&&"encryptedKey"!==di&&"initializationVector"!==di&&"ephemeralPublicKey"!==di&&"messageAuthenticationCode"!==di)return Fr.errors=[{instancePath:t+"/encryption/keyEncryption/"+nr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:di},message:"must NOT have additional properties"}],!1;if(li===l){if(void 0!==or.rootKeyId){const di=l;if("string"!=typeof or.rootKeyId)return Fr.errors=[{instancePath:t+"/encryption/keyEncryption/"+nr+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Jt=di===l}else Jt=!0;if(Jt){if(void 0!==or.derivationScheme){let di=or.derivationScheme;const Jr=l;if("string"!=typeof di)return Fr.errors=[{instancePath:t+"/encryption/keyEncryption/"+nr+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dataFormats"!==di&&"protocolContext"!==di&&"protocolPath"!==di&&"schemas"!==di)return Fr.errors=[{instancePath:t+"/encryption/keyEncryption/"+nr+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:pm.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;Jt=Jr===l}else Jt=!0;if(Jt){if(void 0!==or.derivedPublicKey){const di=l;Xo(or.derivedPublicKey,{instancePath:t+"/encryption/keyEncryption/"+nr+"/derivedPublicKey",parentData:or,parentDataProperty:"derivedPublicKey",rootData:o,dynamicAnchors:a})||(s=null===s?Xo.errors:s.concat(Xo.errors),l=s.length),Jt=di===l}else Jt=!0;if(Jt){if(void 0!==or.algorithm){let di=or.algorithm;const Jr=l;if("string"!=typeof di)return Fr.errors=[{instancePath:t+"/encryption/keyEncryption/"+nr+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("ECIES-ES256K"!==di)return Fr.errors=[{instancePath:t+"/encryption/keyEncryption/"+nr+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:pm.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;Jt=Jr===l}else Jt=!0;if(Jt){if(void 0!==or.encryptedKey){let di=or.encryptedKey;const Jr=l;if(l==l){if("string"!=typeof di)return Fr.errors=[{instancePath:t+"/encryption/keyEncryption/"+nr+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!G0.test(di))return Fr.errors=[{instancePath:t+"/encryption/keyEncryption/"+nr+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}Jt=Jr===l}else Jt=!0;if(Jt){if(void 0!==or.initializationVector){let di=or.initializationVector;const Jr=l;if(l==l){if("string"!=typeof di)return Fr.errors=[{instancePath:t+"/encryption/keyEncryption/"+nr+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!G0.test(di))return Fr.errors=[{instancePath:t+"/encryption/keyEncryption/"+nr+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}Jt=Jr===l}else Jt=!0;if(Jt){if(void 0!==or.ephemeralPublicKey){const di=l;Xo(or.ephemeralPublicKey,{instancePath:t+"/encryption/keyEncryption/"+nr+"/ephemeralPublicKey",parentData:or,parentDataProperty:"ephemeralPublicKey",rootData:o,dynamicAnchors:a})||(s=null===s?Xo.errors:s.concat(Xo.errors),l=s.length),Jt=di===l}else Jt=!0;if(Jt)if(void 0!==or.messageAuthenticationCode){let di=or.messageAuthenticationCode;const Jr=l;if(l==l){if("string"!=typeof di)return Fr.errors=[{instancePath:t+"/encryption/keyEncryption/"+nr+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!G0.test(di))return Fr.errors=[{instancePath:t+"/encryption/keyEncryption/"+nr+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}Jt=Jr===l}else Jt=!0}}}}}}}}}}if(Wr!==l)break}}}_t=Wn===l}else _t=!0}}}}}ct=Fn===l}else ct=!0;if(ct)if(void 0!==r.descriptor){let Gt=r.descriptor;const Fn=l,tr=l;let An=!1;const hn=l;if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt)){let Gn;if(void 0===Gt.published&&(Gn="published")||void 0===Gt.datePublished&&(Gn="datePublished")){const li={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:Gn},message:"must have required property '"+Gn+"'"};null===s?s=[li]:s.push(li),l++}else if(void 0!==Gt.published){let li=Gt.published;if("boolean"!=typeof li){const di={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===s?s=[di]:s.push(di),l++}if(!0!==li){const di={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:pm.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===s?s=[di]:s.push(di),l++}}}var $t=hn===l;if(An=An||$t,$t)var Qt={published:!0};const Cn=l,Wn=l,lr=l;if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt)){let Gn;if(void 0===Gt.datePublished&&(Gn="datePublished")){const li={};null===s?s=[li]:s.push(li),l++}}if(lr===l){const Gn={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[Gn]:s.push(Gn),l++}else l=Wn,null!==s&&(Wn?s.length=Wn:s=null);if(l===Cn&&Gt&&"object"==typeof Gt&&!Array.isArray(Gt)&&void 0!==Gt.published){let Gn=Gt.published;if("boolean"!=typeof Gn){const li={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===s?s=[li]:s.push(li),l++}if(!1!==Gn){const li={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:pm.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};null===s?s=[li]:s.push(li),l++}}$t=Cn===l,An=An||$t,$t&&!0!==Qt&&((Qt=Qt||{}).published=!0);const fr=l,nr=l,or=l,Wr=l;if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt)){let Gn;if(void 0===Gt.published&&(Gn="published")){const li={};null===s?s=[li]:s.push(li),l++}}if(Wr===l){const Gn={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[Gn]:s.push(Gn),l++}else l=or,null!==s&&(or?s.length=or:s=null);if(nr===l){const li=l,di=l;if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt)){let is;if(void 0===Gt.datePublished&&(is="datePublished")){const wd={};null===s?s=[wd]:s.push(wd),l++}}if(di===l){const is={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[is]:s.push(is),l++}else l=li,null!==s&&(li?s.length=li:s=null)}if($t=fr===l,An=An||$t,!An){const Gn={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===s?s=[Gn]:s.push(Gn),l++,Fr.errors=s,!1}if(l=tr,null!==s&&(tr?s.length=tr:s=null),l===Fn){if(!Gt||"object"!=typeof Gt||Array.isArray(Gt))return Fr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Gn;if(void 0===Gt.interface&&(Gn="interface")||void 0===Gt.method&&(Gn="method")||void 0===Gt.dataCid&&(Gn="dataCid")||void 0===Gt.dataSize&&(Gn="dataSize")||void 0===Gt.dateCreated&&(Gn="dateCreated")||void 0===Gt.messageTimestamp&&(Gn="messageTimestamp")||void 0===Gt.dataFormat&&(Gn="dataFormat"))return Fr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Gn},message:"must have required property '"+Gn+"'"}],!1;{const li=l;for(const di in Gt)if(!qP.call(pm.properties.descriptor.properties,di))return Fr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:di},message:"must NOT have additional properties"}],!1;if(li===l){let di;if(void 0!==Gt.parentId&&void 0===Gt.protocol&&(di="protocol"))return Fr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:di,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(void 0!==Gt.interface){let Jr=Gt.interface;const is=l;if("string"!=typeof Jr)return Fr.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Jr)return Fr.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:pm.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var Yt=is===l}else Yt=!0;if(Yt){if(void 0!==Gt.method){let Jr=Gt.method;const is=l;if("string"!=typeof Jr)return Fr.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Write"!==Jr)return Fr.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:pm.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;Yt=is===l}else Yt=!0;if(Yt){if(void 0!==Gt.recipient){let Jr=Gt.recipient;const is=l;if(l==l){if("string"!=typeof Jr)return Fr.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Z0.test(Jr))return Fr.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Yt=is===l}else Yt=!0;if(Yt){if(void 0!==Gt.protocol){const Jr=l;if("string"!=typeof Gt.protocol)return Fr.errors=[{instancePath:t+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Yt=Jr===l}else Yt=!0;if(Yt){if(void 0!==Gt.protocolPath){let Jr=Gt.protocolPath;const is=l;if(l===is){if("string"!=typeof Jr)return Fr.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!qD.test(Jr))return Fr.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}Yt=is===l}else Yt=!0;if(Yt){if(void 0!==Gt.schema){const Jr=l;if("string"!=typeof Gt.schema)return Fr.errors=[{instancePath:t+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Yt=Jr===l}else Yt=!0;if(Yt){if(void 0!==Gt.tags){let Jr=Gt.tags;const is=l;if(l===is){if(!Jr||"object"!=typeof Jr||Array.isArray(Jr))return Fr.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Jr).length>10)return Fr.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/maxProperties",keyword:"maxProperties",params:{limit:10},message:"must NOT have more than 10 properties"}],!1;if(Object.keys(Jr).length<1)return Fr.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const Mo in Jr){let Ao=Jr[Mo];const Ss=l,ko=l;let oi=!1,Po=null;const _d=l;if("string"!=typeof Ao){const Hc={instancePath:t+"/descriptor/tags/"+Mo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Hc]:s.push(Hc),l++}(Xt=_d===l)&&(oi=!0,Po=0);const yc=l;if("number"!=typeof Ao||!isFinite(Ao)){const Hc={instancePath:t+"/descriptor/tags/"+Mo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===s?s=[Hc]:s.push(Hc),l++}if((Xt=yc===l)&&oi)oi=!1,Po=[Po,1];else{Xt&&(oi=!0,Po=1);const Hc=l;if("boolean"!=typeof Ao){const B1={instancePath:t+"/descriptor/tags/"+Mo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===s?s=[B1]:s.push(B1),l++}if((Xt=Hc===l)&&oi)oi=!1,Po=[Po,2];else{Xt&&(oi=!0,Po=2);const B1=l;if(l===B1)if(Array.isArray(Ao))if(Ao.length>10){const dh={instancePath:t+"/descriptor/tags/"+Mo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===s?s=[dh]:s.push(dh),l++}else if(Ao.length<1){const dh={instancePath:t+"/descriptor/tags/"+Mo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===s?s=[dh]:s.push(dh),l++}else{const dh=Ao.length;for(let EP=0;EP<dh;EP++){const hp=l;if("string"!=typeof Ao[EP]){const OD={instancePath:t+"/descriptor/tags/"+Mo.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+EP,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[OD]:s.push(OD),l++}if(hp!==l)break}}else{const dh={instancePath:t+"/descriptor/tags/"+Mo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"array"},message:"must be array"};null===s?s=[dh]:s.push(dh),l++}if((Xt=B1===l)&&oi)oi=!1,Po=[Po,3];else{if(Xt){oi=!0,Po=3;var en=!0}const dh=l;if(l===dh)if(Array.isArray(Ao))if(Ao.length>10){const hp={instancePath:t+"/descriptor/tags/"+Mo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===s?s=[hp]:s.push(hp),l++}else if(Ao.length<1){const hp={instancePath:t+"/descriptor/tags/"+Mo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===s?s=[hp]:s.push(hp),l++}else{const hp=Ao.length;for(let xP=0;xP<hp;xP++){let OD=Ao[xP];const EX=l;if("number"!=typeof OD||!isFinite(OD)){const z$={instancePath:t+"/descriptor/tags/"+Mo.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+xP,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/items/type",keyword:"type",params:{type:"number"},message:"must be number"};null===s?s=[z$]:s.push(z$),l++}if(EX!==l)break}}else{const hp={instancePath:t+"/descriptor/tags/"+Mo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/type",keyword:"type",params:{type:"array"},message:"must be array"};null===s?s=[hp]:s.push(hp),l++}var Xt;(Xt=dh===l)&&oi?(oi=!1,Po=[Po,4]):Xt&&(oi=!0,Po=4,!0!==en&&(en=!0))}}}if(!oi){const Hc={instancePath:t+"/descriptor/tags/"+Mo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:Po},message:"must match exactly one schema in oneOf"};return null===s?s=[Hc]:s.push(Hc),l++,Fr.errors=s,!1}if(l=ko,null!==s&&(ko?s.length=ko:s=null),Ss!==l)break}}Yt=is===l}else Yt=!0;if(Yt){if(void 0!==Gt.parentId){const Jr=l;if("string"!=typeof Gt.parentId)return Fr.errors=[{instancePath:t+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Yt=Jr===l}else Yt=!0;if(Yt){if(void 0!==Gt.dataCid){const Jr=l;if("string"!=typeof Gt.dataCid)return Fr.errors=[{instancePath:t+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Yt=Jr===l}else Yt=!0;if(Yt){if(void 0!==Gt.dataSize){let Jr=Gt.dataSize;const is=l;if("number"!=typeof Jr||!isFinite(Jr))return Fr.errors=[{instancePath:t+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Yt=is===l}else Yt=!0;if(Yt){if(void 0!==Gt.dateCreated){let Jr=Gt.dateCreated;const is=l;if(l==l){if("string"!=typeof Jr)return Fr.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(Jr))return Fr.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Yt=is===l}else Yt=!0;if(Yt){if(void 0!==Gt.messageTimestamp){let Jr=Gt.messageTimestamp;const is=l;if(l==l){if("string"!=typeof Jr)return Fr.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(Jr))return Fr.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Yt=is===l}else Yt=!0;if(Yt){if(void 0!==Gt.published){const Jr=l;if("boolean"!=typeof Gt.published)return Fr.errors=[{instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Yt=Jr===l}else Yt=!0;if(Yt){if(void 0!==Gt.datePublished){let Jr=Gt.datePublished;const is=l;if(l==l){if("string"!=typeof Jr)return Fr.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(Jr))return Fr.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Yt=is===l}else Yt=!0;if(Yt)if(void 0!==Gt.dataFormat){const Jr=l;if("string"!=typeof Gt.dataFormat)return Fr.errors=[{instancePath:t+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Yt=Jr===l}else Yt=!0}}}}}}}}}}}}}}}}}ct=Fn===l}else ct=!0}}}}}}return Fr.errors=s,R.props=ye,0===l}function Tu(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=Tu.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),Fr(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:o,dynamicAnchors:a}))var I=Fr.evaluated.props;else s=null===s?Fr.errors:s.concat(Fr.errors),l=s.length;if(0===l){if(!r||"object"!=typeof r||Array.isArray(r))return Tu.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let L;if(void 0===r.recordId&&(L="recordId")||void 0===r.authorization&&(L="authorization")||void 0===r.encodedData&&(L="encodedData"))return Tu.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:L},message:"must have required property '"+L+"'"}],!1;if(!0!==I&&((I=I||{}).encodedData=!0),void 0!==r.encodedData){const ye=l;if("string"!=typeof r.encodedData)return Tu.errors=[{instancePath:t+"/encodedData",schemaPath:"#/properties/encodedData/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var y=ye===l}else y=!0;if(y&&!0!==I)for(const ye in r)if(!I||!I[ye])return Tu.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:ye},message:"must NOT have unevaluated properties"}],!1}}return Tu.errors=s,0===l}function Ec(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=Ec.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return Ec.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const y=l;for(const L in r)if("signature"!==L&&"authorDelegatedGrant"!==L)return Ec.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:L},message:"must NOT have additional properties"}],!1;if(y===l){if(void 0!==r.signature){const L=l;Yo(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:o,dynamicAnchors:a})||(s=null===s?Yo.errors:s.concat(Yo.errors),l=s.length);var I=L===l}else I=!0;if(I)if(void 0!==r.authorDelegatedGrant){const L=l;Tu(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:o,dynamicAnchors:a})||(s=null===s?Tu.errors:s.concat(Tu.errors),l=s.length),I=L===l}else I=!0}}}return Ec.errors=s,0===l}Fr.evaluated={dynamicProps:!0,dynamicItems:!1},Tu.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Ec.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const e3=nc,Cd=xc,Sh={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId","prune"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},recordId:{type:"string"},prune:{type:"boolean"}}}}};function xc(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=xc.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return xc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let L;if(void 0===r.authorization&&(L="authorization")||void 0===r.descriptor&&(L="descriptor"))return xc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:L},message:"must have required property '"+L+"'"}],!1;{const ye=l;for(const Te in r)if("authorization"!==Te&&"descriptor"!==Te)return xc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Te},message:"must NOT have additional properties"}],!1;if(ye===l){if(void 0!==r.authorization){const Te=l;Ec(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:a})||(s=null===s?Ec.errors:s.concat(Ec.errors),l=s.length);var I=Te===l}else I=!0;if(I)if(void 0!==r.descriptor){let Te=r.descriptor;const Me=l;if(l===Me){if(!Te||"object"!=typeof Te||Array.isArray(Te))return xc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let je;if(void 0===Te.interface&&(je="interface")||void 0===Te.method&&(je="method")||void 0===Te.messageTimestamp&&(je="messageTimestamp")||void 0===Te.recordId&&(je="recordId")||void 0===Te.prune&&(je="prune"))return xc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:je},message:"must have required property '"+je+"'"}],!1;{const Je=l;for(const ze in Te)if("interface"!==ze&&"method"!==ze&&"messageTimestamp"!==ze&&"recordId"!==ze&&"prune"!==ze)return xc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ze},message:"must NOT have additional properties"}],!1;if(Je===l){if(void 0!==Te.interface){let ze=Te.interface;const He=l;if("string"!=typeof ze)return xc.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==ze)return xc.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Sh.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var y=He===l}else y=!0;if(y){if(void 0!==Te.method){let ze=Te.method;const He=l;if("string"!=typeof ze)return xc.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Delete"!==ze)return xc.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Sh.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;y=He===l}else y=!0;if(y){if(void 0!==Te.messageTimestamp){let ze=Te.messageTimestamp;const He=l;if(l==l){if("string"!=typeof ze)return xc.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(ze))return xc.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}y=He===l}else y=!0;if(y){if(void 0!==Te.recordId){const ze=l;if("string"!=typeof Te.recordId)return xc.errors=[{instancePath:t+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=ze===l}else y=!0;if(y)if(void 0!==Te.prune){const ze=l;if("boolean"!=typeof Te.prune)return xc.errors=[{instancePath:t+"/descriptor/prune",schemaPath:"#/properties/descriptor/properties/prune/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;y=ze===l}else y=!0}}}}}}}I=Me===l}else I=!0}}}}return xc.errors=s,0===l}xc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Nf=ts,Lf={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"},pagination:{type:"object",additionalProperties:!1,properties:{limit:{type:"number",minimum:1},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},NS={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json",type:"object",minProperties:1,additionalProperties:!1,required:["messageCid","value"],properties:{messageCid:{type:"string"},value:{type:["string","number"]}}},LS={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-filter.json",type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},author:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},contextId:{type:"string"},schema:{type:"string"},tags:{type:"object",minProperties:1,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"object",minProperties:1,additionalProperties:!1,properties:{startsWith:{type:"string"}}},{$ref:"https://identity.foundation/dwn/json-schemas/string-range-filter.json"},{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"}]}},recordId:{type:"string"},parentId:{type:"string"},published:{type:"boolean"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dataCid:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function Kr(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=Kr.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return Kr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Kr.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Bn=l;for(const Gt in r)if(!qP.call(LS.properties,Gt))return Kr.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Gt},message:"must NOT have additional properties"}],!1;if(Bn===l){if(void 0!==r.datePublished){const Gt=l,Fn=l;let tr=!1,An=null;const hn=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let fr;if(void 0===r.published&&(fr="published")){const nr={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:fr},message:"must have required property '"+fr+"'"};null===s?s=[nr]:s.push(nr),l++}else if(void 0!==r.published&&!0!==r.published){const nr={instancePath:t+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:LS.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===s?s=[nr]:s.push(nr),l++}}hn===l&&(tr=!0,An=0);const Cn=l,Wn=l,lr=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let fr;if(void 0===r.published&&(fr="published")){const nr={};null===s?s=[nr]:s.push(nr),l++}}var L;if(lr===l){const fr={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[fr]:s.push(fr),l++}else l=Wn,null!==s&&(Wn?s.length=Wn:s=null);if((L=Cn===l)&&tr?(tr=!1,An=[An,1]):L&&(tr=!0,An=1),!tr){const fr={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:An},message:"must match exactly one schema in oneOf"};return null===s?s=[fr]:s.push(fr),l++,Kr.errors=s,!1}l=Fn,null!==s&&(Fn?s.length=Fn:s=null);var ye=Gt===l}else ye=!0;if(ye){if(void 0!==r.protocol){const Gt=l;if("string"!=typeof r.protocol)return Kr.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Te=Gt===l}else Te=!0;if(Te){if(void 0!==r.protocolPath){const Gt=l;if("string"!=typeof r.protocolPath)return Kr.errors=[{instancePath:t+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=Gt===l}else Te=!0;if(Te){if(void 0!==r.author){let Gt=r.author;const Fn=l;if(l==l){if("string"!=typeof Gt)return Kr.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Z0.test(Gt))return Kr.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Te=Fn===l}else Te=!0;if(Te){if(void 0!==r.attester){let Gt=r.attester;const Fn=l;if(l==l){if("string"!=typeof Gt)return Kr.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Z0.test(Gt))return Kr.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Te=Fn===l}else Te=!0;if(Te){if(void 0!==r.recipient){let Gt=r.recipient;const Fn=l;if(l==l){if("string"!=typeof Gt)return Kr.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Z0.test(Gt))return Kr.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Te=Fn===l}else Te=!0;if(Te){if(void 0!==r.contextId){const Gt=l;if("string"!=typeof r.contextId)return Kr.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=Gt===l}else Te=!0;if(Te){if(void 0!==r.schema){const Gt=l;if("string"!=typeof r.schema)return Kr.errors=[{instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=Gt===l}else Te=!0;if(Te){if(void 0!==r.tags){let Gt=r.tags;const Fn=l;if(l===Fn){if(!Gt||"object"!=typeof Gt||Array.isArray(Gt))return Kr.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Gt).length<1)return Kr.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const An in Gt){let hn=Gt[An];const Cn=l,Wn=l;let lr=!1,fr=null;const nr=l;if("string"!=typeof hn){const Wr={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Wr]:s.push(Wr),l++}(Me=nr===l)&&(lr=!0,fr=0);const or=l;if("number"!=typeof hn||!isFinite(hn)){const Wr={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===s?s=[Wr]:s.push(Wr),l++}if((Me=or===l)&&lr)lr=!1,fr=[fr,1];else{Me&&(lr=!0,fr=1);const Wr=l;if("boolean"!=typeof hn){const Gn={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===s?s=[Gn]:s.push(Gn),l++}if((Me=Wr===l)&&lr)lr=!1,fr=[fr,2];else{Me&&(lr=!0,fr=2);const Gn=l;if(l===Gn)if(hn&&"object"==typeof hn&&!Array.isArray(hn))if(Object.keys(hn).length<1){const di={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===s?s=[di]:s.push(di),l++}else{const di=l;for(const Jr in hn)if("startsWith"!==Jr){const is={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Jr},message:"must NOT have additional properties"};null===s?s=[is]:s.push(is),l++;break}if(di===l&&void 0!==hn.startsWith&&"string"!=typeof hn.startsWith){const Jr={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1")+"/startsWith",schemaPath:"#/properties/tags/additionalProperties/oneOf/3/properties/startsWith/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Jr]:s.push(Jr),l++}}else{const di={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[di]:s.push(di),l++}if((Me=Gn===l)&&lr)lr=!1,fr=[fr,3];else{if(Me){lr=!0,fr=3;var Ce=!0}const di=l;if(l==l)if(hn&&"object"==typeof hn&&!Array.isArray(hn))if(Object.keys(hn).length<1){const wd={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===s?s=[wd]:s.push(wd),l++}else{const wd=l;for(const Mo in hn)if("gt"!==Mo&&"gte"!==Mo&&"lt"!==Mo&&"lte"!==Mo){const Ao={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Mo},message:"must NOT have additional properties"};null===s?s=[Ao]:s.push(Ao),l++;break}if(wd===l){if(void 0!==hn.gt){const Mo=l,Ao=l,Ss=l;if(hn&&"object"==typeof hn&&!Array.isArray(hn)){let ko;if(void 0===hn.gte&&(ko="gte")){const oi={};null===s?s=[oi]:s.push(oi),l++}}if(Ss===l){const ko={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[ko]:s.push(ko),l++}else l=Ao,null!==s&&(Ao?s.length=Ao:s=null);var Je=Mo===l}else Je=!0;if(Je){if(void 0!==hn.gte){const Mo=l,Ao=l,Ss=l;if(hn&&"object"==typeof hn&&!Array.isArray(hn)){let oi;if(void 0===hn.gt&&(oi="gt")){const Po={};null===s?s=[Po]:s.push(Po),l++}}if(Ss===l){const oi={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[oi]:s.push(oi),l++}else l=Ao,null!==s&&(Ao?s.length=Ao:s=null);Je=Mo===l}else Je=!0;if(Je){if(void 0!==hn.lt){const Mo=l,Ao=l,Ss=l;if(hn&&"object"==typeof hn&&!Array.isArray(hn)){let oi;if(void 0===hn.lte&&(oi="lte")){const Po={};null===s?s=[Po]:s.push(Po),l++}}if(Ss===l){const oi={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[oi]:s.push(oi),l++}else l=Ao,null!==s&&(Ao?s.length=Ao:s=null);Je=Mo===l}else Je=!0;if(Je){if(void 0!==hn.lte){const Mo=l,Ao=l,Ss=l;if(hn&&"object"==typeof hn&&!Array.isArray(hn)){let oi;if(void 0===hn.lt&&(oi="lt")){const Po={};null===s?s=[Po]:s.push(Po),l++}}if(Ss===l){const oi={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[oi]:s.push(oi),l++}else l=Ao,null!==s&&(Ao?s.length=Ao:s=null);Je=Mo===l}else Je=!0;if(Je){if(void 0!==hn.gt){const Mo=l;if("string"!=typeof hn.gt){const Ao={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Ao]:s.push(Ao),l++}var yt=Mo===l}else yt=!0;if(yt){if(void 0!==hn.gte){const Mo=l;if("string"!=typeof hn.gte){const Ss={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Ss]:s.push(Ss),l++}yt=Mo===l}else yt=!0;if(yt){if(void 0!==hn.lt){const Mo=l;if("string"!=typeof hn.lt){const Ss={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Ss]:s.push(Ss),l++}yt=Mo===l}else yt=!0;if(yt)if(void 0!==hn.lte){const Mo=l;if("string"!=typeof hn.lte){const Ss={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Ss]:s.push(Ss),l++}yt=Mo===l}else yt=!0}}}}}}}}else{const wd={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[wd]:s.push(wd),l++}if((Me=di===l)&&lr)lr=!1,fr=[fr,4];else{Me&&(lr=!0,fr=4,!0!==Ce&&(Ce=!0));const wd=l;if(l==l)if(hn&&"object"==typeof hn&&!Array.isArray(hn))if(Object.keys(hn).length<1){const Ss={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===s?s=[Ss]:s.push(Ss),l++}else{const Ss=l;for(const ko in hn)if("gt"!==ko&&"gte"!==ko&&"lt"!==ko&&"lte"!==ko){const oi={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ko},message:"must NOT have additional properties"};null===s?s=[oi]:s.push(oi),l++;break}if(Ss===l){if(void 0!==hn.gt){const ko=l,oi=l,Po=l;if(hn&&"object"==typeof hn&&!Array.isArray(hn)){let _d;if(void 0===hn.gte&&(_d="gte")){const yc={};null===s?s=[yc]:s.push(yc),l++}}if(Po===l){const _d={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[_d]:s.push(_d),l++}else l=oi,null!==s&&(oi?s.length=oi:s=null);var _t=ko===l}else _t=!0;if(_t){if(void 0!==hn.gte){const ko=l,oi=l,Po=l;if(hn&&"object"==typeof hn&&!Array.isArray(hn)){let yc;if(void 0===hn.gt&&(yc="gt")){const Hc={};null===s?s=[Hc]:s.push(Hc),l++}}if(Po===l){const yc={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[yc]:s.push(yc),l++}else l=oi,null!==s&&(oi?s.length=oi:s=null);_t=ko===l}else _t=!0;if(_t){if(void 0!==hn.lt){const ko=l,oi=l,Po=l;if(hn&&"object"==typeof hn&&!Array.isArray(hn)){let yc;if(void 0===hn.lte&&(yc="lte")){const Hc={};null===s?s=[Hc]:s.push(Hc),l++}}if(Po===l){const yc={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[yc]:s.push(yc),l++}else l=oi,null!==s&&(oi?s.length=oi:s=null);_t=ko===l}else _t=!0;if(_t){if(void 0!==hn.lte){const ko=l,oi=l,Po=l;if(hn&&"object"==typeof hn&&!Array.isArray(hn)){let yc;if(void 0===hn.lt&&(yc="lt")){const Hc={};null===s?s=[Hc]:s.push(Hc),l++}}if(Po===l){const yc={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[yc]:s.push(yc),l++}else l=oi,null!==s&&(oi?s.length=oi:s=null);_t=ko===l}else _t=!0;if(_t){if(void 0!==hn.gt){let ko=hn.gt;const oi=l;if("number"!=typeof ko||!isFinite(ko)){const Po={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===s?s=[Po]:s.push(Po),l++}var fn=oi===l}else fn=!0;if(fn){if(void 0!==hn.gte){let ko=hn.gte;const oi=l;if("number"!=typeof ko||!isFinite(ko)){const _d={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===s?s=[_d]:s.push(_d),l++}fn=oi===l}else fn=!0;if(fn){if(void 0!==hn.lt){let ko=hn.lt;const oi=l;if("number"!=typeof ko||!isFinite(ko)){const _d={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===s?s=[_d]:s.push(_d),l++}fn=oi===l}else fn=!0;if(fn)if(void 0!==hn.lte){let ko=hn.lte;const oi=l;if("number"!=typeof ko||!isFinite(ko)){const _d={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===s?s=[_d]:s.push(_d),l++}fn=oi===l}else fn=!0}}}}}}}}else{const Ss={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[Ss]:s.push(Ss),l++}var Me;(Me=wd===l)&&lr?(lr=!1,fr=[fr,5]):Me&&(lr=!0,fr=5,!0!==Ce&&(Ce=!0))}}}}if(!lr){const Wr={instancePath:t+"/tags/"+An.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:fr},message:"must match exactly one schema in oneOf"};return null===s?s=[Wr]:s.push(Wr),l++,Kr.errors=s,!1}if(l=Wn,null!==s&&(Wn?s.length=Wn:s=null),Cn!==l)break}}Te=Fn===l}else Te=!0;if(Te){if(void 0!==r.recordId){const Gt=l;if("string"!=typeof r.recordId)return Kr.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=Gt===l}else Te=!0;if(Te){if(void 0!==r.parentId){const Gt=l;if("string"!=typeof r.parentId)return Kr.errors=[{instancePath:t+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=Gt===l}else Te=!0;if(Te){if(void 0!==r.published){const Gt=l;if("boolean"!=typeof r.published)return Kr.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Te=Gt===l}else Te=!0;if(Te){if(void 0!==r.dataFormat){const Gt=l;if("string"!=typeof r.dataFormat)return Kr.errors=[{instancePath:t+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=Gt===l}else Te=!0;if(Te){if(void 0!==r.dataSize){let Gt=r.dataSize;const Fn=l;if(l==l){if(!Gt||"object"!=typeof Gt||Array.isArray(Gt))return Kr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Gt).length<1)return Kr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const hn=l;for(const Cn in Gt)if("gt"!==Cn&&"gte"!==Cn&&"lt"!==Cn&&"lte"!==Cn)return Kr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Cn},message:"must NOT have additional properties"}],!1;if(hn===l){if(void 0!==Gt.gt){const Cn=l,Wn=l,lr=l;if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt)){let fr;if(void 0===Gt.gte&&(fr="gte")){const nr={};null===s?s=[nr]:s.push(nr),l++}}if(lr===l)return Kr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;l=Wn,null!==s&&(Wn?s.length=Wn:s=null);var Sn=Cn===l}else Sn=!0;if(Sn){if(void 0!==Gt.gte){const Cn=l,Wn=l,lr=l;if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt)){let nr;if(void 0===Gt.gt&&(nr="gt")){const or={};null===s?s=[or]:s.push(or),l++}}if(lr===l)return Kr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;l=Wn,null!==s&&(Wn?s.length=Wn:s=null),Sn=Cn===l}else Sn=!0;if(Sn){if(void 0!==Gt.lt){const Cn=l,Wn=l,lr=l;if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt)){let nr;if(void 0===Gt.lte&&(nr="lte")){const or={};null===s?s=[or]:s.push(or),l++}}if(lr===l)return Kr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;l=Wn,null!==s&&(Wn?s.length=Wn:s=null),Sn=Cn===l}else Sn=!0;if(Sn){if(void 0!==Gt.lte){const Cn=l,Wn=l,lr=l;if(Gt&&"object"==typeof Gt&&!Array.isArray(Gt)){let nr;if(void 0===Gt.lt&&(nr="lt")){const or={};null===s?s=[or]:s.push(or),l++}}if(lr===l)return Kr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;l=Wn,null!==s&&(Wn?s.length=Wn:s=null),Sn=Cn===l}else Sn=!0;if(Sn){if(void 0!==Gt.gt){let Cn=Gt.gt;const Wn=l;if("number"!=typeof Cn||!isFinite(Cn))return Kr.errors=[{instancePath:t+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var yn=Wn===l}else yn=!0;if(yn){if(void 0!==Gt.gte){let Cn=Gt.gte;const Wn=l;if("number"!=typeof Cn||!isFinite(Cn))return Kr.errors=[{instancePath:t+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;yn=Wn===l}else yn=!0;if(yn){if(void 0!==Gt.lt){let Cn=Gt.lt;const Wn=l;if("number"!=typeof Cn||!isFinite(Cn))return Kr.errors=[{instancePath:t+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;yn=Wn===l}else yn=!0;if(yn)if(void 0!==Gt.lte){let Cn=Gt.lte;const Wn=l;if("number"!=typeof Cn||!isFinite(Cn))return Kr.errors=[{instancePath:t+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;yn=Wn===l}else yn=!0}}}}}}}}}Te=Fn===l}else Te=!0;if(Te){if(void 0!==r.dataCid){const Gt=l;if("string"!=typeof r.dataCid)return Kr.errors=[{instancePath:t+"/dataCid",schemaPath:"#/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=Gt===l}else Te=!0;if(Te){if(void 0!==r.dateCreated){let Gt=r.dateCreated;const Fn=l;if(l===Fn){if(!Gt||"object"!=typeof Gt||Array.isArray(Gt))return Kr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Gt).length<1)return Kr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const An=l;for(const hn in Gt)if("from"!==hn&&"to"!==hn)return Kr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:hn},message:"must NOT have additional properties"}],!1;if(An===l){if(void 0!==Gt.from){let hn=Gt.from;const Cn=l;if(l==l){if("string"!=typeof hn)return Kr.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(hn))return Kr.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var en=Cn===l}else en=!0;if(en)if(void 0!==Gt.to){let hn=Gt.to;const Cn=l;if(l==l){if("string"!=typeof hn)return Kr.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(hn))return Kr.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}en=Cn===l}else en=!0}}}Te=Fn===l}else Te=!0;if(Te){if(void 0!==r.datePublished){let Gt=r.datePublished;const Fn=l;if(l===Fn){if(!Gt||"object"!=typeof Gt||Array.isArray(Gt))return Kr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Gt).length<1)return Kr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const An=l;for(const hn in Gt)if("from"!==hn&&"to"!==hn)return Kr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:hn},message:"must NOT have additional properties"}],!1;if(An===l){if(void 0!==Gt.from){let hn=Gt.from;const Cn=l;if(l==l){if("string"!=typeof hn)return Kr.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(hn))return Kr.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var En=Cn===l}else En=!0;if(En)if(void 0!==Gt.to){let hn=Gt.to;const Cn=l;if(l==l){if("string"!=typeof hn)return Kr.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(hn))return Kr.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}En=Cn===l}else En=!0}}}Te=Fn===l}else Te=!0;if(Te)if(void 0!==r.dateUpdated){let Gt=r.dateUpdated;const Fn=l;if(l===Fn){if(!Gt||"object"!=typeof Gt||Array.isArray(Gt))return Kr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Gt).length<1)return Kr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const An=l;for(const hn in Gt)if("from"!==hn&&"to"!==hn)return Kr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:hn},message:"must NOT have additional properties"}],!1;if(An===l){if(void 0!==Gt.from){let hn=Gt.from;const Cn=l;if(l==l){if("string"!=typeof hn)return Kr.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(hn))return Kr.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Nn=Cn===l}else Nn=!0;if(Nn)if(void 0!==Gt.to){let hn=Gt.to;const Cn=l;if(l==l){if("string"!=typeof hn)return Kr.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(hn))return Kr.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Nn=Cn===l}else Nn=!0}}}Te=Fn===l}else Te=!0}}}}}}}}}}}}}}}}}}}return Kr.errors=s,0===l}function ts(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=ts.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return ts.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Te;if(void 0===r.descriptor&&(Te="descriptor"))return ts.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Te},message:"must have required property '"+Te+"'"}],!1;{const Me=l;for(const Ce in r)if("authorization"!==Ce&&"descriptor"!==Ce)return ts.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ce},message:"must NOT have additional properties"}],!1;if(Me===l){if(void 0!==r.authorization){const Ce=l;Ec(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:a})||(s=null===s?Ec.errors:s.concat(Ec.errors),l=s.length);var I=Ce===l}else I=!0;if(I)if(void 0!==r.descriptor){let Ce=r.descriptor;const je=l;if(l===je){if(!Ce||"object"!=typeof Ce||Array.isArray(Ce))return ts.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ze;if(void 0===Ce.interface&&(ze="interface")||void 0===Ce.method&&(ze="method")||void 0===Ce.messageTimestamp&&(ze="messageTimestamp")||void 0===Ce.filter&&(ze="filter"))return ts.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ze},message:"must have required property '"+ze+"'"}],!1;{const He=l;for(const rt in Ce)if("interface"!==rt&&"method"!==rt&&"messageTimestamp"!==rt&&"filter"!==rt&&"pagination"!==rt&&"dateSort"!==rt)return ts.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rt},message:"must NOT have additional properties"}],!1;if(He===l){if(void 0!==Ce.interface){let rt=Ce.interface;const yt=l;if("string"!=typeof rt)return ts.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==rt)return ts.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Lf.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var y=yt===l}else y=!0;if(y){if(void 0!==Ce.method){let rt=Ce.method;const yt=l;if("string"!=typeof rt)return ts.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==rt)return ts.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Lf.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;y=yt===l}else y=!0;if(y){if(void 0!==Ce.messageTimestamp){let rt=Ce.messageTimestamp;const yt=l;if(l==l){if("string"!=typeof rt)return ts.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(rt))return ts.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}y=yt===l}else y=!0;if(y){if(void 0!==Ce.filter){const rt=l;Kr(Ce.filter,{instancePath:t+"/descriptor/filter",parentData:Ce,parentDataProperty:"filter",rootData:o,dynamicAnchors:a})||(s=null===s?Kr.errors:s.concat(Kr.errors),l=s.length),y=rt===l}else y=!0;if(y){if(void 0!==Ce.pagination){let rt=Ce.pagination;const yt=l;if(l===yt){if(!rt||"object"!=typeof rt||Array.isArray(rt))return ts.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const _t=l;for(const It in rt)if("limit"!==It&&"cursor"!==It)return ts.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:It},message:"must NOT have additional properties"}],!1;if(_t===l){if(void 0!==rt.limit){let It=rt.limit;const Jt=l;if(l===Jt){if("number"!=typeof It||!isFinite(It))return ts.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(It<1||isNaN(It))return ts.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"}],!1}var L=Jt===l}else L=!0;if(L)if(void 0!==rt.cursor){let It=rt.cursor;const Jt=l;if(l==l){if(!It||"object"!=typeof It||Array.isArray(It))return ts.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(It).length<1)return ts.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let Pn;if(void 0===It.messageCid&&(Pn="messageCid")||void 0===It.value&&(Pn="value"))return ts.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:Pn},message:"must have required property '"+Pn+"'"}],!1;{const dn=l;for(const Sn in It)if("messageCid"!==Sn&&"value"!==Sn)return ts.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Sn},message:"must NOT have additional properties"}],!1;if(dn===l){if(void 0!==It.messageCid){const Sn=l;if("string"!=typeof It.messageCid)return ts.errors=[{instancePath:t+"/descriptor/pagination/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ye=Sn===l}else ye=!0;if(ye)if(void 0!==It.value){let Sn=It.value;const $t=l;if("string"!=typeof Sn&&("number"!=typeof Sn||!isFinite(Sn)))return ts.errors=[{instancePath:t+"/descriptor/pagination/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:NS.properties.value.type},message:"must be string,number"}],!1;ye=$t===l}else ye=!0}}}}L=Jt===l}else L=!0}}}y=yt===l}else y=!0;if(y)if(void 0!==Ce.dateSort){let rt=Ce.dateSort;const yt=l;if("string"!=typeof rt)return ts.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("createdAscending"!==rt&&"createdDescending"!==rt&&"publishedAscending"!==rt&&"publishedDescending"!==rt)return ts.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:Lf.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;y=yt===l}else y=!0}}}}}}}}I=je===l}else I=!0}}}}return ts.errors=s,0===l}Kr.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},ts.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const US=Ql,Fb={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function Ql(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=Ql.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return Ql.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let L;if(void 0===r.descriptor&&(L="descriptor"))return Ql.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:L},message:"must have required property '"+L+"'"}],!1;{const ye=l;for(const Te in r)if("authorization"!==Te&&"descriptor"!==Te)return Ql.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Te},message:"must NOT have additional properties"}],!1;if(ye===l){if(void 0!==r.authorization){const Te=l;Ec(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:a})||(s=null===s?Ec.errors:s.concat(Ec.errors),l=s.length);var I=Te===l}else I=!0;if(I)if(void 0!==r.descriptor){let Te=r.descriptor;const Me=l;if(l===Me){if(!Te||"object"!=typeof Te||Array.isArray(Te))return Ql.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let je;if(void 0===Te.interface&&(je="interface")||void 0===Te.method&&(je="method")||void 0===Te.messageTimestamp&&(je="messageTimestamp")||void 0===Te.filter&&(je="filter"))return Ql.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:je},message:"must have required property '"+je+"'"}],!1;{const Je=l;for(const ze in Te)if("interface"!==ze&&"method"!==ze&&"messageTimestamp"!==ze&&"filter"!==ze)return Ql.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ze},message:"must NOT have additional properties"}],!1;if(Je===l){if(void 0!==Te.interface){let ze=Te.interface;const He=l;if("string"!=typeof ze)return Ql.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==ze)return Ql.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Fb.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var y=He===l}else y=!0;if(y){if(void 0!==Te.method){let ze=Te.method;const He=l;if("string"!=typeof ze)return Ql.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==ze)return Ql.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Fb.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;y=He===l}else y=!0;if(y){if(void 0!==Te.messageTimestamp){let ze=Te.messageTimestamp;const He=l;if(l==l){if("string"!=typeof ze)return Ql.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(ze))return Ql.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}y=He===l}else y=!0;if(y)if(void 0!==Te.filter){const ze=l;Kr(Te.filter,{instancePath:t+"/descriptor/filter",parentData:Te,parentDataProperty:"filter",rootData:o,dynamicAnchors:a})||(s=null===s?Kr.errors:s.concat(Kr.errors),l=s.length),y=ze===l}else y=!0}}}}}}I=Me===l}else I=!0}}}}return Ql.errors=s,0===l}Ql.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const t3=mm;function mm(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=mm.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),Fr(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:o,dynamicAnchors:a}))var I=Fr.evaluated.props;else s=null===s?Fr.errors:s.concat(Fr.errors),l=s.length;if(0===l){if(!r||"object"!=typeof r||Array.isArray(r))return mm.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let y;if(void 0===r.recordId&&(y="recordId")||void 0===r.authorization&&(y="authorization"))return mm.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:y},message:"must have required property '"+y+"'"}],!1;if(!0!==I)for(const L in r)if(!I||!I[L])return mm.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:L},message:"must NOT have unevaluated properties"}],!1}}return mm.errors=s,0===l}mm.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const r3=Tu,i3=Fr,o3=jb;function jb(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){const R=jb.evaluated;return R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(jb.errors=null,!0):(jb.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}jb.evaluated={dynamicProps:!1,dynamicItems:!1};const Dl=va;function va(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=va.evaluated;R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0);const I=l;let y=!1,L=null;const ye=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let yt;if(void 0===r.crv&&(yt="crv")||void 0===r.x&&(yt="x")){const ct={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:yt},message:"must have required property '"+yt+"'"};null===s?s=[ct]:s.push(ct),l++}else{if(void 0!==r.kty){const ct=l;if("EC"!==r.kty){const _t={instancePath:t+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===s?s=[_t]:s.push(_t),l++}var Te=ct===l}else Te=!0;if(Te){if(void 0!==r.crv){const ct=l;if("string"!=typeof r.crv){const It={instancePath:t+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[It]:s.push(It),l++}Te=ct===l}else Te=!0;if(Te){if(void 0!==r.x){const ct=l;if("string"!=typeof r.x){const It={instancePath:t+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[It]:s.push(It),l++}Te=ct===l}else Te=!0;if(Te){if(void 0!==r.y){const ct=l;if("string"!=typeof r.y){const It={instancePath:t+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[It]:s.push(It),l++}Te=ct===l}else Te=!0;if(Te)if(void 0!==r.d){const ct=l;if("string"!=typeof r.d){const It={instancePath:t+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[It]:s.push(It),l++}Te=ct===l}else Te=!0}}}}}if(Je=ye===l){y=!0,L=0;var Me={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const Ce=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let yt;if(void 0===r.crv&&(yt="crv")||void 0===r.x&&(yt="x")){const ct={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:yt},message:"must have required property '"+yt+"'"};null===s?s=[ct]:s.push(ct),l++}else{if(void 0!==r.kty){const ct=l;if("OKP"!==r.kty){const _t={instancePath:t+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===s?s=[_t]:s.push(_t),l++}var je=ct===l}else je=!0;if(je){if(void 0!==r.crv){const ct=l;if("string"!=typeof r.crv){const It={instancePath:t+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[It]:s.push(It),l++}je=ct===l}else je=!0;if(je){if(void 0!==r.x){const ct=l;if("string"!=typeof r.x){const It={instancePath:t+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[It]:s.push(It),l++}je=ct===l}else je=!0;if(je)if(void 0!==r.d){const ct=l;if("string"!=typeof r.d){const It={instancePath:t+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[It]:s.push(It),l++}je=ct===l}else je=!0}}}}if((Je=Ce===l)&&y)y=!1,L=[L,1];else{Je&&(y=!0,L=1,!0!==Me&&((Me=Me||{}).kty=!0,Me.crv=!0,Me.x=!0,Me.d=!0));const yt=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let _t;if(void 0===r.n&&(_t="n")||void 0===r.e&&(_t="e")){const It={instancePath:t,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:_t},message:"must have required property '"+_t+"'"};null===s?s=[It]:s.push(It),l++}else{if(void 0!==r.kty){const It=l;if("RSA"!==r.kty){const Jt={instancePath:t+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===s?s=[Jt]:s.push(Jt),l++}var ze=It===l}else ze=!0;if(ze){if(void 0!==r.n){const It=l;if("string"!=typeof r.n){const Qt={instancePath:t+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Qt]:s.push(Qt),l++}ze=It===l}else ze=!0;if(ze){if(void 0!==r.e){const It=l;if("string"!=typeof r.e){const Qt={instancePath:t+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Qt]:s.push(Qt),l++}ze=It===l}else ze=!0;if(ze){if(void 0!==r.d){const It=l;if("string"!=typeof r.d){const Qt={instancePath:t+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Qt]:s.push(Qt),l++}ze=It===l}else ze=!0;if(ze){if(void 0!==r.p){const It=l;if("string"!=typeof r.p){const Qt={instancePath:t+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Qt]:s.push(Qt),l++}ze=It===l}else ze=!0;if(ze){if(void 0!==r.q){const It=l;if("string"!=typeof r.q){const Qt={instancePath:t+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Qt]:s.push(Qt),l++}ze=It===l}else ze=!0;if(ze){if(void 0!==r.dp){const It=l;if("string"!=typeof r.dp){const Qt={instancePath:t+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Qt]:s.push(Qt),l++}ze=It===l}else ze=!0;if(ze){if(void 0!==r.dq){const It=l;if("string"!=typeof r.dq){const Qt={instancePath:t+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Qt]:s.push(Qt),l++}ze=It===l}else ze=!0;if(ze){if(void 0!==r.qi){const It=l;if("string"!=typeof r.qi){const Qt={instancePath:t+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Qt]:s.push(Qt),l++}ze=It===l}else ze=!0;if(ze)if(void 0!==r.oth){let It=r.oth;const Jt=l;if(!It||"object"!=typeof It||Array.isArray(It)){const fn={instancePath:t+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[fn]:s.push(fn),l++}ze=Jt===l}else ze=!0}}}}}}}}}}if((Je=yt===l)&&y)y=!1,L=[L,2];else{Je&&(y=!0,L=2,!0!==Me&&((Me=Me||{}).kty=!0,Me.n=!0,Me.e=!0,Me.d=!0,Me.p=!0,Me.q=!0,Me.dp=!0,Me.dq=!0,Me.qi=!0,Me.oth=!0));const _t=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let Jt;if(void 0===r.k&&(Jt="k")){const Qt={instancePath:t,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:Jt},message:"must have required property '"+Jt+"'"};null===s?s=[Qt]:s.push(Qt),l++}else{if(void 0!==r.kty){const Qt=l;if("oct"!==r.kty){const fn={instancePath:t+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===s?s=[fn]:s.push(fn),l++}var He=Qt===l}else He=!0;if(He)if(void 0!==r.k){const Qt=l;if("string"!=typeof r.k){const Pn={instancePath:t+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Pn]:s.push(Pn),l++}He=Qt===l}else He=!0}}var Je;(Je=_t===l)&&y?(y=!1,L=[L,3]):Je&&(y=!0,L=3,!0!==Me&&((Me=Me||{}).kty=!0,Me.k=!0))}}if(!y){const yt={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:L},message:"must match exactly one schema in oneOf"};return null===s?s=[yt]:s.push(yt),l++,va.errors=s,!1}if(l=I,null!==s&&(I?s.length=I:s=null),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return va.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let yt;if(void 0===r.kty&&(yt="kty"))return va.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:yt},message:"must have required property '"+yt+"'"}],!1;if(!0!==Me&&((Me=Me||{}).alg=!0,Me.kid=!0,Me.kty=!0,Me.crv=!0,Me.use=!0,Me.key_ops=!0,Me.x5u=!0,Me.x5c=!0,Me.x5t=!0,Me["x5t#S256"]=!0),void 0!==r.alg){const ct=l;if("string"!=typeof r.alg)return va.errors=[{instancePath:t+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var rt=ct===l}else rt=!0;if(rt){if(void 0!==r.kid){const ct=l;if("string"!=typeof r.kid)return va.errors=[{instancePath:t+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;rt=ct===l}else rt=!0;if(rt){if(void 0!==r.kty){let ct=r.kty;const _t=l;if("EC"!==ct&&"RSA"!==ct&&"oct"!==ct&&"OKP"!==ct)return va.errors=[{instancePath:t+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:Q1.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;rt=_t===l}else rt=!0;if(rt){if(void 0!==r.crv){const ct=l;if("string"!=typeof r.crv)return va.errors=[{instancePath:t+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;rt=ct===l}else rt=!0;if(rt){if(void 0!==r.use){const ct=l;if("string"!=typeof r.use)return va.errors=[{instancePath:t+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;rt=ct===l}else rt=!0;if(rt){if(void 0!==r.key_ops){const ct=l;if("string"!=typeof r.key_ops)return va.errors=[{instancePath:t+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;rt=ct===l}else rt=!0;if(rt){if(void 0!==r.x5u){const ct=l;if("string"!=typeof r.x5u)return va.errors=[{instancePath:t+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;rt=ct===l}else rt=!0;if(rt){if(void 0!==r.x5c){const ct=l;if("string"!=typeof r.x5c)return va.errors=[{instancePath:t+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;rt=ct===l}else rt=!0;if(rt){if(void 0!==r.x5t){const ct=l;if("string"!=typeof r.x5t)return va.errors=[{instancePath:t+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;rt=ct===l}else rt=!0;if(rt)if(void 0!==r["x5t#S256"]){const ct=l;if("string"!=typeof r["x5t#S256"])return va.errors=[{instancePath:t+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;rt=ct===l}else rt=!0}}}}}}}}}}return va.errors=s,R.props=Me,0===l}va.evaluated={dynamicProps:!0,dynamicItems:!1};const Ks=Yo,a3=nf,QP={$id:"https://identity.foundation/dwn/json-schemas/jwk-verification-method.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,required:["id","type","controller","publicKeyJwk"],properties:{id:{type:"string"},type:{enum:["JsonWebKey","JsonWebKey2020"]},controller:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}};function nf(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=nf.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return nf.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let y;if(void 0===r.id&&(y="id")||void 0===r.type&&(y="type")||void 0===r.controller&&(y="controller")||void 0===r.publicKeyJwk&&(y="publicKeyJwk"))return nf.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:y},message:"must have required property '"+y+"'"}],!1;{const L=l;for(const ye in r)if("id"!==ye&&"type"!==ye&&"controller"!==ye&&"publicKeyJwk"!==ye)return nf.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ye},message:"must NOT have additional properties"}],!1;if(L===l){if(void 0!==r.id){const ye=l;if("string"!=typeof r.id)return nf.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=ye===l}else I=!0;if(I){if(void 0!==r.type){let ye=r.type;const Te=l;if("JsonWebKey"!==ye&&"JsonWebKey2020"!==ye)return nf.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues:QP.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;I=Te===l}else I=!0;if(I){if(void 0!==r.controller){let ye=r.controller;const Te=l;if(l==l){if("string"!=typeof ye)return nf.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Z0.test(ye))return nf.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}I=Te===l}else I=!0;if(I)if(void 0!==r.publicKeyJwk){const ye=l;Xo(r.publicKeyJwk,{instancePath:t+"/publicKeyJwk",parentData:r,parentDataProperty:"publicKeyJwk",rootData:o,dynamicAnchors:a})||(s=null===s?Xo.errors:s.concat(Xo.errors),l=s.length),I=ye===l}else I=!0}}}}}}return nf.errors=s,0===l}nf.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const eR=$s,FS={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-filter.json",type:"object",additionalProperties:!1,minProperties:1,properties:{interface:{enum:["Protocols","Records"],type:"string"},method:{enum:["Configure","Delete","Write"],type:"string"},protocol:{type:"string"},messageTimestamp:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}}};function $s(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){const R=$s.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return $s.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return $s.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const L=0;for(const ye in r)if("interface"!==ye&&"method"!==ye&&"protocol"!==ye&&"messageTimestamp"!==ye)return $s.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ye},message:"must NOT have additional properties"}],!1;if(0===L){if(void 0!==r.interface){let ye=r.interface;const Te=0;if("string"!=typeof ye)return $s.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==ye&&"Records"!==ye)return $s.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/enum",keyword:"enum",params:{allowedValues:FS.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var I=0===Te}else I=!0;if(I){if(void 0!==r.method){let ye=r.method;const Te=0;if("string"!=typeof ye)return $s.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==ye&&"Delete"!==ye&&"Write"!==ye)return $s.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:FS.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;I=0===Te}else I=!0;if(I){if(void 0!==r.protocol){const ye=0;if("string"!=typeof r.protocol)return $s.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=0===ye}else I=!0;if(I)if(void 0!==r.messageTimestamp){let ye=r.messageTimestamp;const Te=0;if(0===Te){if(!ye||"object"!=typeof ye||Array.isArray(ye))return $s.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(ye).length<1)return $s.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ce=0;for(const je in ye)if("from"!==je&&"to"!==je)return $s.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:je},message:"must NOT have additional properties"}],!1;if(0===Ce){if(void 0!==ye.from){let je=ye.from;const Je=0;if("string"!=typeof je)return $s.errors=[{instancePath:t+"/messageTimestamp/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(je))return $s.errors=[{instancePath:t+"/messageTimestamp/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1;var y=0===Je}else y=!0;if(y)if(void 0!==ye.to){let je=ye.to;const Je=0;if("string"!=typeof je)return $s.errors=[{instancePath:t+"/messageTimestamp/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(je))return $s.errors=[{instancePath:t+"/messageTimestamp/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1;y=0===Je}else y=!0}}}I=0===Te}else I=!0}}}}return $s.errors=null,!0}$s.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Kb=ba,Uf={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/messages-filter.json"}},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}}}};function ba(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=ba.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return ba.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Te;if(void 0===r.authorization&&(Te="authorization")||void 0===r.descriptor&&(Te="descriptor"))return ba.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Te},message:"must have required property '"+Te+"'"}],!1;{const Me=l;for(const Ce in r)if("authorization"!==Ce&&"descriptor"!==Ce)return ba.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ce},message:"must NOT have additional properties"}],!1;if(Me===l){if(void 0!==r.authorization){const Ce=l;Is(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:a})||(s=null===s?Is.errors:s.concat(Is.errors),l=s.length);var I=Ce===l}else I=!0;if(I)if(void 0!==r.descriptor){let Ce=r.descriptor;const je=l;if(l===je){if(!Ce||"object"!=typeof Ce||Array.isArray(Ce))return ba.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ze;if(void 0===Ce.interface&&(ze="interface")||void 0===Ce.method&&(ze="method")||void 0===Ce.messageTimestamp&&(ze="messageTimestamp")||void 0===Ce.filters&&(ze="filters"))return ba.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ze},message:"must have required property '"+ze+"'"}],!1;{const He=l;for(const rt in Ce)if("interface"!==rt&&"method"!==rt&&"messageTimestamp"!==rt&&"filters"!==rt&&"cursor"!==rt)return ba.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rt},message:"must NOT have additional properties"}],!1;if(He===l){if(void 0!==Ce.interface){let rt=Ce.interface;const yt=l;if("string"!=typeof rt)return ba.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==rt)return ba.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Uf.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var y=yt===l}else y=!0;if(y){if(void 0!==Ce.method){let rt=Ce.method;const yt=l;if("string"!=typeof rt)return ba.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==rt)return ba.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Uf.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;y=yt===l}else y=!0;if(y){if(void 0!==Ce.messageTimestamp){let rt=Ce.messageTimestamp;const yt=l;if(l==l){if("string"!=typeof rt)return ba.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(rt))return ba.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}y=yt===l}else y=!0;if(y){if(void 0!==Ce.filters){let rt=Ce.filters;const yt=l;if(l===yt){if(!Array.isArray(rt))return ba.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const _t=rt.length;for(let It=0;It<_t;It++){const Jt=l;if($s(rt[It],{instancePath:t+"/descriptor/filters/"+It,parentData:rt,parentDataProperty:It,rootData:o,dynamicAnchors:a})||(s=null===s?$s.errors:s.concat($s.errors),l=s.length),Jt!==l)break}}}y=yt===l}else y=!0;if(y)if(void 0!==Ce.cursor){let rt=Ce.cursor;const yt=l;if(l==l){if(!rt||"object"!=typeof rt||Array.isArray(rt))return ba.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(rt).length<1)return ba.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let It;if(void 0===rt.messageCid&&(It="messageCid")||void 0===rt.value&&(It="value"))return ba.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:It},message:"must have required property '"+It+"'"}],!1;{const Jt=l;for(const Qt in rt)if("messageCid"!==Qt&&"value"!==Qt)return ba.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Qt},message:"must NOT have additional properties"}],!1;if(Jt===l){if(void 0!==rt.messageCid){const Qt=l;if("string"!=typeof rt.messageCid)return ba.errors=[{instancePath:t+"/descriptor/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ye=Qt===l}else ye=!0;if(ye)if(void 0!==rt.value){let Qt=rt.value;const fn=l;if("string"!=typeof Qt&&("number"!=typeof Qt||!isFinite(Qt)))return ba.errors=[{instancePath:t+"/descriptor/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:NS.properties.value.type},message:"must be string,number"}],!1;ye=fn===l}else ye=!0}}}}y=yt===l}else y=!0}}}}}}}I=je===l}else I=!0}}}}return ba.errors=s,0===l}ba.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const e2=rc,$b={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-read.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageCid:{type:"string"}}}}};function rc(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=rc.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return rc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let L;if(void 0===r.authorization&&(L="authorization")||void 0===r.descriptor&&(L="descriptor"))return rc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:L},message:"must have required property '"+L+"'"}],!1;{const ye=l;for(const Te in r)if("authorization"!==Te&&"descriptor"!==Te)return rc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Te},message:"must NOT have additional properties"}],!1;if(ye===l){if(void 0!==r.authorization){const Te=l;Is(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:a})||(s=null===s?Is.errors:s.concat(Is.errors),l=s.length);var I=Te===l}else I=!0;if(I)if(void 0!==r.descriptor){let Te=r.descriptor;const Me=l;if(l===Me){if(!Te||"object"!=typeof Te||Array.isArray(Te))return rc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let je;if(void 0===Te.interface&&(je="interface")||void 0===Te.method&&(je="method")||void 0===Te.messageTimestamp&&(je="messageTimestamp"))return rc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:je},message:"must have required property '"+je+"'"}],!1;{const Je=l;for(const ze in Te)if("interface"!==ze&&"method"!==ze&&"messageTimestamp"!==ze&&"messageCid"!==ze)return rc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ze},message:"must NOT have additional properties"}],!1;if(Je===l){if(void 0!==Te.interface){let ze=Te.interface;const He=l;if("string"!=typeof ze)return rc.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==ze)return rc.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:$b.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var y=He===l}else y=!0;if(y){if(void 0!==Te.method){let ze=Te.method;const He=l;if("string"!=typeof ze)return rc.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==ze)return rc.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:$b.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;y=He===l}else y=!0;if(y){if(void 0!==Te.messageTimestamp){let ze=Te.messageTimestamp;const He=l;if(l==l){if("string"!=typeof ze)return rc.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(ze))return rc.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}y=He===l}else y=!0;if(y)if(void 0!==Te.messageCid){const ze=l;if("string"!=typeof Te.messageCid)return rc.errors=[{instancePath:t+"/descriptor/messageCid",schemaPath:"#/properties/descriptor/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=ze===l}else y=!0}}}}}}I=Me===l}else I=!0}}}}return rc.errors=s,0===l}rc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const jS=Cl,KS={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor","authorization"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{type:"string"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/messages-filter.json"}}}}}};function Cl(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=Cl.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return Cl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ye;if(void 0===r.descriptor&&(ye="descriptor")||void 0===r.authorization&&(ye="authorization"))return Cl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:ye},message:"must have required property '"+ye+"'"}],!1;{const Te=l;for(const Me in r)if("authorization"!==Me&&"descriptor"!==Me)return Cl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Me},message:"must NOT have additional properties"}],!1;if(Te===l){if(void 0!==r.authorization){const Me=l;Is(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:a})||(s=null===s?Is.errors:s.concat(Is.errors),l=s.length);var I=Me===l}else I=!0;if(I)if(void 0!==r.descriptor){let Me=r.descriptor;const Ce=l;if(l===Ce){if(!Me||"object"!=typeof Me||Array.isArray(Me))return Cl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Je;if(void 0===Me.interface&&(Je="interface")||void 0===Me.method&&(Je="method")||void 0===Me.messageTimestamp&&(Je="messageTimestamp")||void 0===Me.filters&&(Je="filters"))return Cl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Je},message:"must have required property '"+Je+"'"}],!1;{const ze=l;for(const He in Me)if("interface"!==He&&"method"!==He&&"messageTimestamp"!==He&&"filters"!==He)return Cl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:He},message:"must NOT have additional properties"}],!1;if(ze===l){if(void 0!==Me.interface){let He=Me.interface;const rt=l;if("string"!=typeof He)return Cl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==He)return Cl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:KS.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var y=rt===l}else y=!0;if(y){if(void 0!==Me.method){let He=Me.method;const rt=l;if("string"!=typeof He)return Cl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==He)return Cl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:KS.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;y=rt===l}else y=!0;if(y){if(void 0!==Me.messageTimestamp){const He=l;if("string"!=typeof Me.messageTimestamp)return Cl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=He===l}else y=!0;if(y)if(void 0!==Me.filters){let He=Me.filters;const rt=l;if(l===rt){if(!Array.isArray(He))return Cl.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const ct=He.length;for(let _t=0;_t<ct;_t++){const It=l;if($s(He[_t],{instancePath:t+"/descriptor/filters/"+_t,parentData:He,parentDataProperty:_t,rootData:o,dynamicAnchors:a})||(s=null===s?$s.errors:s.concat($s.errors),l=s.length),It!==l)break}}}y=rt===l}else y=!0}}}}}}I=Ce===l}else I=!0}}}}return Cl.errors=s,0===l}Cl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const tR=ic;function ic(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=ic.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return ic.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return ic.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ce=l;for(const je in r)if("gt"!==je&&"gte"!==je&&"lt"!==je&&"lte"!==je)return ic.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:je},message:"must NOT have additional properties"}],!1;if(Ce===l){if(void 0!==r.gt){const je=l,Je=l,ze=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let He;if(void 0===r.gte&&(He="gte")){const rt={};null===s?s=[rt]:s.push(rt),l++}}if(ze===l)return ic.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;l=Je,null!==s&&(Je?s.length=Je:s=null);var y=je===l}else y=!0;if(y){if(void 0!==r.gte){const je=l,Je=l,ze=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let rt;if(void 0===r.gt&&(rt="gt")){const yt={};null===s?s=[yt]:s.push(yt),l++}}if(ze===l)return ic.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;l=Je,null!==s&&(Je?s.length=Je:s=null),y=je===l}else y=!0;if(y){if(void 0!==r.lt){const je=l,Je=l,ze=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let rt;if(void 0===r.lte&&(rt="lte")){const yt={};null===s?s=[yt]:s.push(yt),l++}}if(ze===l)return ic.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;l=Je,null!==s&&(Je?s.length=Je:s=null),y=je===l}else y=!0;if(y){if(void 0!==r.lte){const je=l,Je=l,ze=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let rt;if(void 0===r.lt&&(rt="lt")){const yt={};null===s?s=[yt]:s.push(yt),l++}}if(ze===l)return ic.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;l=Je,null!==s&&(Je?s.length=Je:s=null),y=je===l}else y=!0;if(y){if(void 0!==r.gt){let je=r.gt;const Je=l;if("number"!=typeof je||!isFinite(je))return ic.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Me=Je===l}else Me=!0;if(Me){if(void 0!==r.gte){let je=r.gte;const Je=l;if("number"!=typeof je||!isFinite(je))return ic.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Me=Je===l}else Me=!0;if(Me){if(void 0!==r.lt){let je=r.lt;const Je=l;if("number"!=typeof je||!isFinite(je))return ic.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Me=Je===l}else Me=!0;if(Me)if(void 0!==r.lte){let je=r.lte;const Je=l;if("number"!=typeof je||!isFinite(je))return ic.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Me=Je===l}else Me=!0}}}}}}}}}return ic.errors=s,0===l}ic.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Vb=Mh;function Mh(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){const R=Mh.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Mh.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Mh.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let y;if(void 0===r.messageCid&&(y="messageCid")||void 0===r.value&&(y="value"))return Mh.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:y},message:"must have required property '"+y+"'"}],!1;{const L=0;for(const ye in r)if("messageCid"!==ye&&"value"!==ye)return Mh.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ye},message:"must NOT have additional properties"}],!1;if(0===L){if(void 0!==r.messageCid){const ye=0;if("string"!=typeof r.messageCid)return Mh.errors=[{instancePath:t+"/messageCid",schemaPath:"#/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=0===ye}else I=!0;if(I)if(void 0!==r.value){let ye=r.value;const Te=0;if("string"!=typeof ye&&("number"!=typeof ye||!isFinite(ye)))return Mh.errors=[{instancePath:t+"/value",schemaPath:"#/properties/value/type",keyword:"type",params:{type:NS.properties.value.type},message:"must be string,number"}],!1;I=0===Te}else I=!0}}}return Mh.errors=null,!0}Mh.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const $S=Sc,c3={type:"object",additionalProperties:!1,properties:{publication:{enum:["Required","Prohibited"],type:"string"}}};function Sp(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=Sp.evaluated;R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0);const I=l;let y=!1,L=null;const ye=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let fn;if(void 0===r.interface&&(fn="interface")||void 0===r.method&&(fn="method")){const Pn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/required",keyword:"required",params:{missingProperty:fn},message:"must have required property '"+fn+"'"};null===s?s=[Pn]:s.push(Pn),l++}else{const Pn=l;for(const dn in r)if("interface"!==dn&&"method"!==dn&&"protocol"!==dn){const Sn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:dn},message:"must NOT have additional properties"};null===s?s=[Sn]:s.push(Sn),l++;break}if(Pn===l){if(void 0!==r.interface){const dn=l;if("Messages"!==r.interface){const Sn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===s?s=[Sn]:s.push(Sn),l++}var Me=dn===l}else Me=!0;if(Me){if(void 0!==r.method){const dn=l;if("Query"!==r.method){const $t={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===s?s=[$t]:s.push($t),l++}Me=dn===l}else Me=!0;if(Me)if(void 0!==r.protocol){const dn=l;if("string"!=typeof r.protocol){const $t={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[$t]:s.push($t),l++}Me=dn===l}else Me=!0}}}}else{const fn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[fn]:s.push(fn),l++}if(He=ye===l){y=!0,L=0;var Ce=!0}const je=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let fn;if(void 0===r.interface&&(fn="interface")||void 0===r.method&&(fn="method")){const Pn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/required",keyword:"required",params:{missingProperty:fn},message:"must have required property '"+fn+"'"};null===s?s=[Pn]:s.push(Pn),l++}else{const Pn=l;for(const dn in r)if("interface"!==dn&&"method"!==dn&&"protocol"!==dn){const Sn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:dn},message:"must NOT have additional properties"};null===s?s=[Sn]:s.push(Sn),l++;break}if(Pn===l){if(void 0!==r.interface){const dn=l;if("Messages"!==r.interface){const Sn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===s?s=[Sn]:s.push(Sn),l++}var ze=dn===l}else ze=!0;if(ze){if(void 0!==r.method){const dn=l;if("Read"!==r.method){const $t={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===s?s=[$t]:s.push($t),l++}ze=dn===l}else ze=!0;if(ze)if(void 0!==r.protocol){const dn=l;if("string"!=typeof r.protocol){const $t={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[$t]:s.push($t),l++}ze=dn===l}else ze=!0}}}}else{const fn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[fn]:s.push(fn),l++}if((He=je===l)&&y)y=!1,L=[L,1];else{He&&(y=!0,L=1,!0!==Ce&&(Ce=!0));const fn=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let Sn;if(void 0===r.interface&&(Sn="interface")||void 0===r.method&&(Sn="method")){const $t={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/required",keyword:"required",params:{missingProperty:Sn},message:"must have required property '"+Sn+"'"};null===s?s=[$t]:s.push($t),l++}else{const $t=l;for(const Yt in r)if("interface"!==Yt&&"method"!==Yt&&"protocol"!==Yt){const Xt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Yt},message:"must NOT have additional properties"};null===s?s=[Xt]:s.push(Xt),l++;break}if($t===l){if(void 0!==r.interface){const Yt=l;if("Messages"!==r.interface){const Xt={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===s?s=[Xt]:s.push(Xt),l++}var rt=Yt===l}else rt=!0;if(rt){if(void 0!==r.method){const Yt=l;if("Subscribe"!==r.method){const yn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===s?s=[yn]:s.push(yn),l++}rt=Yt===l}else rt=!0;if(rt)if(void 0!==r.protocol){const Yt=l;if("string"!=typeof r.protocol){const yn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[yn]:s.push(yn),l++}rt=Yt===l}else rt=!0}}}}else{const Sn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[Sn]:s.push(Sn),l++}if((He=fn===l)&&y)y=!1,L=[L,2];else{He&&(y=!0,L=2,!0!==Ce&&(Ce=!0));const Sn=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let Xt;if(void 0===r.interface&&(Xt="interface")||void 0===r.method&&(Xt="method")){const yn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/required",keyword:"required",params:{missingProperty:Xt},message:"must have required property '"+Xt+"'"};null===s?s=[yn]:s.push(yn),l++}else{const yn=l;for(const en in r)if("interface"!==en&&"method"!==en){const En={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:en},message:"must NOT have additional properties"};null===s?s=[En]:s.push(En),l++;break}if(yn===l){if(void 0!==r.interface){const en=l;if("Protocols"!==r.interface){const En={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===s?s=[En]:s.push(En),l++}var yt=en===l}else yt=!0;if(yt)if(void 0!==r.method){const en=l;if("Query"!==r.method){const Nn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===s?s=[Nn]:s.push(Nn),l++}yt=en===l}else yt=!0}}}else{const Xt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[Xt]:s.push(Xt),l++}if((He=Sn===l)&&y)y=!1,L=[L,3];else{He&&(y=!0,L=3,!0!==Ce&&(Ce=!0));const Xt=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let En;if(void 0===r.interface&&(En="interface")||void 0===r.method&&(En="method")){const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:En},message:"must have required property '"+En+"'"};null===s?s=[Nn]:s.push(Nn),l++}else{const Nn=l;for(const Bn in r)if("interface"!==Bn&&"method"!==Bn&&"protocol"!==Bn&&"contextId"!==Bn&&"protocolPath"!==Bn){const Gt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Bn},message:"must NOT have additional properties"};null===s?s=[Gt]:s.push(Gt),l++;break}if(Nn===l){if(void 0!==r.interface){const Bn=l;if("Records"!==r.interface){const Gt={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[Gt]:s.push(Gt),l++}var ct=Bn===l}else ct=!0;if(ct){if(void 0!==r.method){const Bn=l;if("Read"!==r.method){const Fn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===s?s=[Fn]:s.push(Fn),l++}ct=Bn===l}else ct=!0;if(ct){if(void 0!==r.protocol){const Bn=l;if("string"!=typeof r.protocol){const Fn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Fn]:s.push(Fn),l++}ct=Bn===l}else ct=!0;if(ct){if(void 0!==r.contextId){const Bn=l;if("string"!=typeof r.contextId){const Fn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Fn]:s.push(Fn),l++}ct=Bn===l}else ct=!0;if(ct)if(void 0!==r.protocolPath){const Bn=l;if("string"!=typeof r.protocolPath){const Fn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Fn]:s.push(Fn),l++}ct=Bn===l}else ct=!0}}}}}}else{const En={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[En]:s.push(En),l++}if((He=Xt===l)&&y)y=!1,L=[L,4];else{He&&(y=!0,L=4,!0!==Ce&&(Ce=!0));const En=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let Gt;if(void 0===r.interface&&(Gt="interface")||void 0===r.method&&(Gt="method")){const Fn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:Gt},message:"must have required property '"+Gt+"'"};null===s?s=[Fn]:s.push(Fn),l++}else{const Fn=l;for(const tr in r)if("interface"!==tr&&"method"!==tr&&"protocol"!==tr&&"contextId"!==tr&&"protocolPath"!==tr){const An={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:tr},message:"must NOT have additional properties"};null===s?s=[An]:s.push(An),l++;break}if(Fn===l){if(void 0!==r.interface){const tr=l;if("Records"!==r.interface){const An={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[An]:s.push(An),l++}var _t=tr===l}else _t=!0;if(_t){if(void 0!==r.method){const tr=l;if("Delete"!==r.method){const hn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===s?s=[hn]:s.push(hn),l++}_t=tr===l}else _t=!0;if(_t){if(void 0!==r.protocol){const tr=l;if("string"!=typeof r.protocol){const hn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[hn]:s.push(hn),l++}_t=tr===l}else _t=!0;if(_t){if(void 0!==r.contextId){const tr=l;if("string"!=typeof r.contextId){const hn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[hn]:s.push(hn),l++}_t=tr===l}else _t=!0;if(_t)if(void 0!==r.protocolPath){const tr=l;if("string"!=typeof r.protocolPath){const hn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[hn]:s.push(hn),l++}_t=tr===l}else _t=!0}}}}}}else{const Gt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[Gt]:s.push(Gt),l++}if((He=En===l)&&y)y=!1,L=[L,5];else{He&&(y=!0,L=5,!0!==Ce&&(Ce=!0));const Gt=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let An;if(void 0===r.interface&&(An="interface")||void 0===r.method&&(An="method")){const hn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:An},message:"must have required property '"+An+"'"};null===s?s=[hn]:s.push(hn),l++}else{const hn=l;for(const Cn in r)if("interface"!==Cn&&"method"!==Cn&&"protocol"!==Cn&&"contextId"!==Cn&&"protocolPath"!==Cn){const Wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Cn},message:"must NOT have additional properties"};null===s?s=[Wn]:s.push(Wn),l++;break}if(hn===l){if(void 0!==r.interface){const Cn=l;if("Records"!==r.interface){const Wn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[Wn]:s.push(Wn),l++}var It=Cn===l}else It=!0;if(It){if(void 0!==r.method){const Cn=l;if("Write"!==r.method){const lr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===s?s=[lr]:s.push(lr),l++}It=Cn===l}else It=!0;if(It){if(void 0!==r.protocol){const Cn=l;if("string"!=typeof r.protocol){const lr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[lr]:s.push(lr),l++}It=Cn===l}else It=!0;if(It){if(void 0!==r.contextId){const Cn=l;if("string"!=typeof r.contextId){const lr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[lr]:s.push(lr),l++}It=Cn===l}else It=!0;if(It)if(void 0!==r.protocolPath){const Cn=l;if("string"!=typeof r.protocolPath){const lr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[lr]:s.push(lr),l++}It=Cn===l}else It=!0}}}}}}else{const An={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[An]:s.push(An),l++}if((He=Gt===l)&&y)y=!1,L=[L,6];else{He&&(y=!0,L=6,!0!==Ce&&(Ce=!0));const An=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let Wn;if(void 0===r.interface&&(Wn="interface")||void 0===r.method&&(Wn="method")){const lr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:Wn},message:"must have required property '"+Wn+"'"};null===s?s=[lr]:s.push(lr),l++}else{const lr=l;for(const fr in r)if("interface"!==fr&&"method"!==fr&&"protocol"!==fr&&"contextId"!==fr&&"protocolPath"!==fr){const nr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:fr},message:"must NOT have additional properties"};null===s?s=[nr]:s.push(nr),l++;break}if(lr===l){if(void 0!==r.interface){const fr=l;if("Records"!==r.interface){const nr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[nr]:s.push(nr),l++}var Jt=fr===l}else Jt=!0;if(Jt){if(void 0!==r.method){const fr=l;if("Query"!==r.method){const or={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===s?s=[or]:s.push(or),l++}Jt=fr===l}else Jt=!0;if(Jt){if(void 0!==r.protocol){const fr=l;if("string"!=typeof r.protocol){const or={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[or]:s.push(or),l++}Jt=fr===l}else Jt=!0;if(Jt){if(void 0!==r.contextId){const fr=l;if("string"!=typeof r.contextId){const or={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[or]:s.push(or),l++}Jt=fr===l}else Jt=!0;if(Jt)if(void 0!==r.protocolPath){const fr=l;if("string"!=typeof r.protocolPath){const or={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[or]:s.push(or),l++}Jt=fr===l}else Jt=!0}}}}}}else{const Wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[Wn]:s.push(Wn),l++}if((He=An===l)&&y)y=!1,L=[L,7];else{He&&(y=!0,L=7,!0!==Ce&&(Ce=!0));const Wn=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let nr;if(void 0===r.interface&&(nr="interface")||void 0===r.method&&(nr="method")){const or={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:nr},message:"must have required property '"+nr+"'"};null===s?s=[or]:s.push(or),l++}else{const or=l;for(const Wr in r)if("interface"!==Wr&&"method"!==Wr&&"protocol"!==Wr&&"contextId"!==Wr&&"protocolPath"!==Wr){const xs={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Wr},message:"must NOT have additional properties"};null===s?s=[xs]:s.push(xs),l++;break}if(or===l){if(void 0!==r.interface){const Wr=l;if("Records"!==r.interface){const xs={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[xs]:s.push(xs),l++}var Qt=Wr===l}else Qt=!0;if(Qt){if(void 0!==r.method){const Wr=l;if("Subscribe"!==r.method){const Gn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===s?s=[Gn]:s.push(Gn),l++}Qt=Wr===l}else Qt=!0;if(Qt){if(void 0!==r.protocol){const Wr=l;if("string"!=typeof r.protocol){const Gn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Gn]:s.push(Gn),l++}Qt=Wr===l}else Qt=!0;if(Qt){if(void 0!==r.contextId){const Wr=l;if("string"!=typeof r.contextId){const Gn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Gn]:s.push(Gn),l++}Qt=Wr===l}else Qt=!0;if(Qt)if(void 0!==r.protocolPath){const Wr=l;if("string"!=typeof r.protocolPath){const Gn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Gn]:s.push(Gn),l++}Qt=Wr===l}else Qt=!0}}}}}}else{const nr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[nr]:s.push(nr),l++}var He;(He=Wn===l)&&y?(y=!1,L=[L,8]):He&&(y=!0,L=8,!0!==Ce&&(Ce=!0))}}}}}}}if(!y){const fn={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:L},message:"must match exactly one schema in oneOf"};return null===s?s=[fn]:s.push(fn),l++,Sp.errors=s,!1}return l=I,null!==s&&(I?s.length=I:s=null),Sp.errors=s,R.props=Ce,0===l}function Sc(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=Sc.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return Sc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let y;if(void 0===r.dateExpires&&(y="dateExpires")||void 0===r.scope&&(y="scope"))return Sc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:y},message:"must have required property '"+y+"'"}],!1;{const L=l;for(const ye in r)if("description"!==ye&&"dateExpires"!==ye&&"requestId"!==ye&&"delegated"!==ye&&"scope"!==ye&&"conditions"!==ye)return Sc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ye},message:"must NOT have additional properties"}],!1;if(L===l){if(void 0!==r.description){const ye=l;if("string"!=typeof r.description)return Sc.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=ye===l}else I=!0;if(I){if(void 0!==r.dateExpires){let ye=r.dateExpires;const Te=l;if(l==l){if("string"!=typeof ye)return Sc.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(ye))return Sc.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}I=Te===l}else I=!0;if(I){if(void 0!==r.requestId){const ye=l;if("string"!=typeof r.requestId)return Sc.errors=[{instancePath:t+"/requestId",schemaPath:"#/properties/requestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=ye===l}else I=!0;if(I){if(void 0!==r.delegated){const ye=l;if("boolean"!=typeof r.delegated)return Sc.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;I=ye===l}else I=!0;if(I){if(void 0!==r.scope){const ye=l;Sp(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:o,dynamicAnchors:a})||(s=null===s?Sp.errors:s.concat(Sp.errors),l=s.length),I=ye===l}else I=!0;if(I)if(void 0!==r.conditions){let ye=r.conditions;const Te=l;if(l==l){if(!ye||"object"!=typeof ye||Array.isArray(ye))return Sc.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const je=l;for(const Je in ye)if("publication"!==Je)return Sc.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Je},message:"must NOT have additional properties"}],!1;if(je===l&&void 0!==ye.publication){let Je=ye.publication;if("string"!=typeof Je)return Sc.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==Je&&"Prohibited"!==Je)return Sc.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:c3.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}I=Te===l}else I=!0}}}}}}}}return Sc.errors=s,0===l}Sp.evaluated={dynamicProps:!0,dynamicItems:!1},Sc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const ML=Iu;function ym(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=ym.evaluated;R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0);const I=l;let y=!1,L=null;const ye=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let fn;if(void 0===r.interface&&(fn="interface")||void 0===r.method&&(fn="method")){const Pn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/required",keyword:"required",params:{missingProperty:fn},message:"must have required property '"+fn+"'"};null===s?s=[Pn]:s.push(Pn),l++}else{const Pn=l;for(const dn in r)if("interface"!==dn&&"method"!==dn&&"protocol"!==dn){const Sn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:dn},message:"must NOT have additional properties"};null===s?s=[Sn]:s.push(Sn),l++;break}if(Pn===l){if(void 0!==r.interface){const dn=l;if("Messages"!==r.interface){const Sn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===s?s=[Sn]:s.push(Sn),l++}var Me=dn===l}else Me=!0;if(Me){if(void 0!==r.method){const dn=l;if("Query"!==r.method){const $t={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===s?s=[$t]:s.push($t),l++}Me=dn===l}else Me=!0;if(Me)if(void 0!==r.protocol){const dn=l;if("string"!=typeof r.protocol){const $t={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[$t]:s.push($t),l++}Me=dn===l}else Me=!0}}}}else{const fn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[fn]:s.push(fn),l++}if(He=ye===l){y=!0,L=0;var Ce=!0}const je=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let fn;if(void 0===r.interface&&(fn="interface")||void 0===r.method&&(fn="method")){const Pn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/required",keyword:"required",params:{missingProperty:fn},message:"must have required property '"+fn+"'"};null===s?s=[Pn]:s.push(Pn),l++}else{const Pn=l;for(const dn in r)if("interface"!==dn&&"method"!==dn&&"protocol"!==dn){const Sn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:dn},message:"must NOT have additional properties"};null===s?s=[Sn]:s.push(Sn),l++;break}if(Pn===l){if(void 0!==r.interface){const dn=l;if("Messages"!==r.interface){const Sn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===s?s=[Sn]:s.push(Sn),l++}var ze=dn===l}else ze=!0;if(ze){if(void 0!==r.method){const dn=l;if("Read"!==r.method){const $t={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===s?s=[$t]:s.push($t),l++}ze=dn===l}else ze=!0;if(ze)if(void 0!==r.protocol){const dn=l;if("string"!=typeof r.protocol){const $t={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[$t]:s.push($t),l++}ze=dn===l}else ze=!0}}}}else{const fn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[fn]:s.push(fn),l++}if((He=je===l)&&y)y=!1,L=[L,1];else{He&&(y=!0,L=1,!0!==Ce&&(Ce=!0));const fn=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let Sn;if(void 0===r.interface&&(Sn="interface")||void 0===r.method&&(Sn="method")){const $t={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/required",keyword:"required",params:{missingProperty:Sn},message:"must have required property '"+Sn+"'"};null===s?s=[$t]:s.push($t),l++}else{const $t=l;for(const Yt in r)if("interface"!==Yt&&"method"!==Yt&&"protocol"!==Yt){const Xt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Yt},message:"must NOT have additional properties"};null===s?s=[Xt]:s.push(Xt),l++;break}if($t===l){if(void 0!==r.interface){const Yt=l;if("Messages"!==r.interface){const Xt={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===s?s=[Xt]:s.push(Xt),l++}var rt=Yt===l}else rt=!0;if(rt){if(void 0!==r.method){const Yt=l;if("Subscribe"!==r.method){const yn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===s?s=[yn]:s.push(yn),l++}rt=Yt===l}else rt=!0;if(rt)if(void 0!==r.protocol){const Yt=l;if("string"!=typeof r.protocol){const yn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[yn]:s.push(yn),l++}rt=Yt===l}else rt=!0}}}}else{const Sn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[Sn]:s.push(Sn),l++}if((He=fn===l)&&y)y=!1,L=[L,2];else{He&&(y=!0,L=2,!0!==Ce&&(Ce=!0));const Sn=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let Xt;if(void 0===r.interface&&(Xt="interface")||void 0===r.method&&(Xt="method")){const yn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/required",keyword:"required",params:{missingProperty:Xt},message:"must have required property '"+Xt+"'"};null===s?s=[yn]:s.push(yn),l++}else{const yn=l;for(const en in r)if("interface"!==en&&"method"!==en){const En={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:en},message:"must NOT have additional properties"};null===s?s=[En]:s.push(En),l++;break}if(yn===l){if(void 0!==r.interface){const en=l;if("Protocols"!==r.interface){const En={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===s?s=[En]:s.push(En),l++}var yt=en===l}else yt=!0;if(yt)if(void 0!==r.method){const en=l;if("Query"!==r.method){const Nn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===s?s=[Nn]:s.push(Nn),l++}yt=en===l}else yt=!0}}}else{const Xt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[Xt]:s.push(Xt),l++}if((He=Sn===l)&&y)y=!1,L=[L,3];else{He&&(y=!0,L=3,!0!==Ce&&(Ce=!0));const Xt=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let En;if(void 0===r.interface&&(En="interface")||void 0===r.method&&(En="method")){const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:En},message:"must have required property '"+En+"'"};null===s?s=[Nn]:s.push(Nn),l++}else{const Nn=l;for(const Bn in r)if("interface"!==Bn&&"method"!==Bn&&"protocol"!==Bn&&"contextId"!==Bn&&"protocolPath"!==Bn){const Gt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Bn},message:"must NOT have additional properties"};null===s?s=[Gt]:s.push(Gt),l++;break}if(Nn===l){if(void 0!==r.interface){const Bn=l;if("Records"!==r.interface){const Gt={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[Gt]:s.push(Gt),l++}var ct=Bn===l}else ct=!0;if(ct){if(void 0!==r.method){const Bn=l;if("Read"!==r.method){const Fn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===s?s=[Fn]:s.push(Fn),l++}ct=Bn===l}else ct=!0;if(ct){if(void 0!==r.protocol){const Bn=l;if("string"!=typeof r.protocol){const Fn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Fn]:s.push(Fn),l++}ct=Bn===l}else ct=!0;if(ct){if(void 0!==r.contextId){const Bn=l;if("string"!=typeof r.contextId){const Fn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Fn]:s.push(Fn),l++}ct=Bn===l}else ct=!0;if(ct)if(void 0!==r.protocolPath){const Bn=l;if("string"!=typeof r.protocolPath){const Fn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Fn]:s.push(Fn),l++}ct=Bn===l}else ct=!0}}}}}}else{const En={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[En]:s.push(En),l++}if((He=Xt===l)&&y)y=!1,L=[L,4];else{He&&(y=!0,L=4,!0!==Ce&&(Ce=!0));const En=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let Gt;if(void 0===r.interface&&(Gt="interface")||void 0===r.method&&(Gt="method")){const Fn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:Gt},message:"must have required property '"+Gt+"'"};null===s?s=[Fn]:s.push(Fn),l++}else{const Fn=l;for(const tr in r)if("interface"!==tr&&"method"!==tr&&"protocol"!==tr&&"contextId"!==tr&&"protocolPath"!==tr){const An={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:tr},message:"must NOT have additional properties"};null===s?s=[An]:s.push(An),l++;break}if(Fn===l){if(void 0!==r.interface){const tr=l;if("Records"!==r.interface){const An={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[An]:s.push(An),l++}var _t=tr===l}else _t=!0;if(_t){if(void 0!==r.method){const tr=l;if("Delete"!==r.method){const hn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===s?s=[hn]:s.push(hn),l++}_t=tr===l}else _t=!0;if(_t){if(void 0!==r.protocol){const tr=l;if("string"!=typeof r.protocol){const hn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[hn]:s.push(hn),l++}_t=tr===l}else _t=!0;if(_t){if(void 0!==r.contextId){const tr=l;if("string"!=typeof r.contextId){const hn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[hn]:s.push(hn),l++}_t=tr===l}else _t=!0;if(_t)if(void 0!==r.protocolPath){const tr=l;if("string"!=typeof r.protocolPath){const hn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[hn]:s.push(hn),l++}_t=tr===l}else _t=!0}}}}}}else{const Gt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[Gt]:s.push(Gt),l++}if((He=En===l)&&y)y=!1,L=[L,5];else{He&&(y=!0,L=5,!0!==Ce&&(Ce=!0));const Gt=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let An;if(void 0===r.interface&&(An="interface")||void 0===r.method&&(An="method")){const hn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:An},message:"must have required property '"+An+"'"};null===s?s=[hn]:s.push(hn),l++}else{const hn=l;for(const Cn in r)if("interface"!==Cn&&"method"!==Cn&&"protocol"!==Cn&&"contextId"!==Cn&&"protocolPath"!==Cn){const Wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Cn},message:"must NOT have additional properties"};null===s?s=[Wn]:s.push(Wn),l++;break}if(hn===l){if(void 0!==r.interface){const Cn=l;if("Records"!==r.interface){const Wn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[Wn]:s.push(Wn),l++}var It=Cn===l}else It=!0;if(It){if(void 0!==r.method){const Cn=l;if("Write"!==r.method){const lr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===s?s=[lr]:s.push(lr),l++}It=Cn===l}else It=!0;if(It){if(void 0!==r.protocol){const Cn=l;if("string"!=typeof r.protocol){const lr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[lr]:s.push(lr),l++}It=Cn===l}else It=!0;if(It){if(void 0!==r.contextId){const Cn=l;if("string"!=typeof r.contextId){const lr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[lr]:s.push(lr),l++}It=Cn===l}else It=!0;if(It)if(void 0!==r.protocolPath){const Cn=l;if("string"!=typeof r.protocolPath){const lr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[lr]:s.push(lr),l++}It=Cn===l}else It=!0}}}}}}else{const An={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[An]:s.push(An),l++}if((He=Gt===l)&&y)y=!1,L=[L,6];else{He&&(y=!0,L=6,!0!==Ce&&(Ce=!0));const An=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let Wn;if(void 0===r.interface&&(Wn="interface")||void 0===r.method&&(Wn="method")){const lr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:Wn},message:"must have required property '"+Wn+"'"};null===s?s=[lr]:s.push(lr),l++}else{const lr=l;for(const fr in r)if("interface"!==fr&&"method"!==fr&&"protocol"!==fr&&"contextId"!==fr&&"protocolPath"!==fr){const nr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:fr},message:"must NOT have additional properties"};null===s?s=[nr]:s.push(nr),l++;break}if(lr===l){if(void 0!==r.interface){const fr=l;if("Records"!==r.interface){const nr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[nr]:s.push(nr),l++}var Jt=fr===l}else Jt=!0;if(Jt){if(void 0!==r.method){const fr=l;if("Query"!==r.method){const or={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===s?s=[or]:s.push(or),l++}Jt=fr===l}else Jt=!0;if(Jt){if(void 0!==r.protocol){const fr=l;if("string"!=typeof r.protocol){const or={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[or]:s.push(or),l++}Jt=fr===l}else Jt=!0;if(Jt){if(void 0!==r.contextId){const fr=l;if("string"!=typeof r.contextId){const or={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[or]:s.push(or),l++}Jt=fr===l}else Jt=!0;if(Jt)if(void 0!==r.protocolPath){const fr=l;if("string"!=typeof r.protocolPath){const or={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[or]:s.push(or),l++}Jt=fr===l}else Jt=!0}}}}}}else{const Wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[Wn]:s.push(Wn),l++}if((He=An===l)&&y)y=!1,L=[L,7];else{He&&(y=!0,L=7,!0!==Ce&&(Ce=!0));const Wn=l;if(l==l)if(r&&"object"==typeof r&&!Array.isArray(r)){let nr;if(void 0===r.interface&&(nr="interface")||void 0===r.method&&(nr="method")){const or={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:nr},message:"must have required property '"+nr+"'"};null===s?s=[or]:s.push(or),l++}else{const or=l;for(const Wr in r)if("interface"!==Wr&&"method"!==Wr&&"protocol"!==Wr&&"contextId"!==Wr&&"protocolPath"!==Wr){const xs={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Wr},message:"must NOT have additional properties"};null===s?s=[xs]:s.push(xs),l++;break}if(or===l){if(void 0!==r.interface){const Wr=l;if("Records"!==r.interface){const xs={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[xs]:s.push(xs),l++}var Qt=Wr===l}else Qt=!0;if(Qt){if(void 0!==r.method){const Wr=l;if("Subscribe"!==r.method){const Gn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===s?s=[Gn]:s.push(Gn),l++}Qt=Wr===l}else Qt=!0;if(Qt){if(void 0!==r.protocol){const Wr=l;if("string"!=typeof r.protocol){const Gn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Gn]:s.push(Gn),l++}Qt=Wr===l}else Qt=!0;if(Qt){if(void 0!==r.contextId){const Wr=l;if("string"!=typeof r.contextId){const Gn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Gn]:s.push(Gn),l++}Qt=Wr===l}else Qt=!0;if(Qt)if(void 0!==r.protocolPath){const Wr=l;if("string"!=typeof r.protocolPath){const Gn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Gn]:s.push(Gn),l++}Qt=Wr===l}else Qt=!0}}}}}}else{const nr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[nr]:s.push(nr),l++}var He;(He=Wn===l)&&y?(y=!1,L=[L,8]):He&&(y=!0,L=8,!0!==Ce&&(Ce=!0))}}}}}}}if(!y){const fn={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:L},message:"must match exactly one schema in oneOf"};return null===s?s=[fn]:s.push(fn),l++,ym.errors=s,!1}return l=I,null!==s&&(I?s.length=I:s=null),ym.errors=s,R.props=Ce,0===l}function Iu(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=Iu.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return Iu.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let y;if(void 0===r.delegated&&(y="delegated")||void 0===r.scope&&(y="scope"))return Iu.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:y},message:"must have required property '"+y+"'"}],!1;{const L=l;for(const ye in r)if("description"!==ye&&"delegated"!==ye&&"scope"!==ye&&"conditions"!==ye)return Iu.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ye},message:"must NOT have additional properties"}],!1;if(L===l){if(void 0!==r.description){const ye=l;if("string"!=typeof r.description)return Iu.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=ye===l}else I=!0;if(I){if(void 0!==r.delegated){const ye=l;if("boolean"!=typeof r.delegated)return Iu.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;I=ye===l}else I=!0;if(I){if(void 0!==r.scope){const ye=l;ym(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:o,dynamicAnchors:a})||(s=null===s?ym.errors:s.concat(ym.errors),l=s.length),I=ye===l}else I=!0;if(I)if(void 0!==r.conditions){let ye=r.conditions;const Te=l;if(l==l){if(!ye||"object"!=typeof ye||Array.isArray(ye))return Iu.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const je=l;for(const Je in ye)if("publication"!==Je)return Iu.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Je},message:"must NOT have additional properties"}],!1;if(je===l&&void 0!==ye.publication){let Je=ye.publication;if("string"!=typeof Je)return Iu.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==Je&&"Prohibited"!==Je)return Iu.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:c3.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}I=Te===l}else I=!0}}}}}}return Iu.errors=s,0===l}ym.evaluated={dynamicProps:!0,dynamicItems:!1},Iu.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Ah=Th;function Th(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){const R=Th.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Th.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const I=0;for(const y in r)if("description"!==y)return Th.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;if(0===I&&void 0!==r.description&&"string"!=typeof r.description)return Th.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}return Th.errors=null,!0}Th.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const VS=gm;function gm(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){const R=gm.evaluated;return R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(gm.errors=null,!0):(gm.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}gm.evaluated={dynamicProps:!1,dynamicItems:!1};const zS=Dg;function Dg(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){const R=Dg.evaluated;return R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(Dg.errors=null,!0):(Dg.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}Dg.evaluated={dynamicProps:!1,dynamicItems:!1};const u3=Js,HS=new RegExp(".*","u"),Cg={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}},required:["rootKeyId","publicKeyJwk"]},$actions:{type:"array",minItems:1,items:{type:"object",oneOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone","author","recipient"]},of:{type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-prune","co-update","create","delete","prune","read","update"]}}}},{required:["role","can"],properties:{role:{$comment:"Must be the protocol path of a role record type",type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-update","create","delete","query","subscribe","read","update"]}}}}]}},$role:{$comment:"When `true`, this turns a record into `role` that may be used within a context/sub-context",type:"boolean"},$size:{type:"object",additionalProperties:!1,properties:{min:{type:"number",minimum:0},max:{type:"number",minimum:0}}},$tags:{type:"object",minProperties:1,properties:{$requiredTags:{type:"array",items:{type:"string"}},$allowUndefinedTags:{type:"boolean"}},patternProperties:{"^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$":{type:"object",additionalProperties:!1,properties:{type:{enum:["string","number","integer","boolean","array"]},items:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}},contains:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$":{}}}}}},patternProperties:{"^[^$].*$":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},zb=new RegExp("^[^$].*$","u"),Y0=new RegExp("^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$","u"),sR=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$","u"),WS=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$","u"),r2={validate:to};function to(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=to.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return to.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Pn=l;for(const dn in r)if("$encryption"!==dn&&"$actions"!==dn&&"$role"!==dn&&"$size"!==dn&&"$tags"!==dn&&!zb.test(dn))return to.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:dn},message:"must NOT have additional properties"}],!1;if(Pn===l){if(void 0!==r.$encryption){let dn=r.$encryption;const Sn=l;if(l===Sn){if(!dn||"object"!=typeof dn||Array.isArray(dn))return to.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let $t;if(void 0===dn.rootKeyId&&($t="rootKeyId")||void 0===dn.publicKeyJwk&&($t="publicKeyJwk"))return to.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/required",keyword:"required",params:{missingProperty:$t},message:"must have required property '"+$t+"'"}],!1;{const Yt=l;for(const Xt in dn)if("rootKeyId"!==Xt&&"publicKeyJwk"!==Xt)return to.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xt},message:"must NOT have additional properties"}],!1;if(Yt===l){if(void 0!==dn.rootKeyId){const Xt=l;if("string"!=typeof dn.rootKeyId)return to.errors=[{instancePath:t+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=Xt===l}else I=!0;if(I)if(void 0!==dn.publicKeyJwk){const Xt=l;Xo(dn.publicKeyJwk,{instancePath:t+"/$encryption/publicKeyJwk",parentData:dn,parentDataProperty:"publicKeyJwk",rootData:o,dynamicAnchors:a})||(s=null===s?Xo.errors:s.concat(Xo.errors),l=s.length),I=Xt===l}else I=!0}}}}var y=Sn===l}else y=!0;if(y){if(void 0!==r.$actions){let dn=r.$actions;const Sn=l;if(l===Sn){if(!Array.isArray(dn))return to.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(dn.length<1)return to.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Yt=dn.length;for(let Xt=0;Xt<Yt;Xt++){let yn=dn[Xt];const en=l;if(!yn||"object"!=typeof yn||Array.isArray(yn))return to.errors=[{instancePath:t+"/$actions/"+Xt,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;const En=l;let Nn=!1,Bn=null;const Gt=l;if(yn&&"object"==typeof yn&&!Array.isArray(yn)){let An;if(void 0===yn.who&&(An="who")||void 0===yn.can&&(An="can")){const hn={instancePath:t+"/$actions/"+Xt,schemaPath:"#/properties/%24actions/items/oneOf/0/required",keyword:"required",params:{missingProperty:An},message:"must have required property '"+An+"'"};null===s?s=[hn]:s.push(hn),l++}else{const hn=l;for(const Cn in yn)if("who"!==Cn&&"of"!==Cn&&"can"!==Cn){const Wn={instancePath:t+"/$actions/"+Xt,schemaPath:"#/properties/%24actions/items/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Cn},message:"must NOT have additional properties"};null===s?s=[Wn]:s.push(Wn),l++;break}if(hn===l){if(void 0!==yn.who){let Cn=yn.who;const Wn=l;if("string"!=typeof Cn){const lr={instancePath:t+"/$actions/"+Xt+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[lr]:s.push(lr),l++}if("anyone"!==Cn&&"author"!==Cn&&"recipient"!==Cn){const lr={instancePath:t+"/$actions/"+Xt+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:Cg.properties.$actions.items.oneOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};null===s?s=[lr]:s.push(lr),l++}var ye=Wn===l}else ye=!0;if(ye){if(void 0!==yn.of){const Cn=l;if("string"!=typeof yn.of){const lr={instancePath:t+"/$actions/"+Xt+"/of",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[lr]:s.push(lr),l++}ye=Cn===l}else ye=!0;if(ye)if(void 0!==yn.can){let Cn=yn.can;const Wn=l;if(l===Wn)if(Array.isArray(Cn))if(Cn.length<1){const fr={instancePath:t+"/$actions/"+Xt+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===s?s=[fr]:s.push(fr),l++}else{const fr=Cn.length;for(let nr=0;nr<fr;nr++){let or=Cn[nr];const Wr=l;if("string"!=typeof or){const Gn={instancePath:t+"/$actions/"+Xt+"/can/"+nr,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Gn]:s.push(Gn),l++}if("co-delete"!==or&&"co-prune"!==or&&"co-update"!==or&&"create"!==or&&"delete"!==or&&"prune"!==or&&"read"!==or&&"update"!==or){const Gn={instancePath:t+"/$actions/"+Xt+"/can/"+nr,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/enum",keyword:"enum",params:{allowedValues:Cg.properties.$actions.items.oneOf[0].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===s?s=[Gn]:s.push(Gn),l++}if(Wr!==l)break}}else{const fr={instancePath:t+"/$actions/"+Xt+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===s?s=[fr]:s.push(fr),l++}ye=Wn===l}else ye=!0}}}}if(Gt===l){Nn=!0,Bn=0;var Me=!0}const Fn=l;if(yn&&"object"==typeof yn&&!Array.isArray(yn)){let An;if(void 0===yn.role&&(An="role")||void 0===yn.can&&(An="can")){const hn={instancePath:t+"/$actions/"+Xt,schemaPath:"#/properties/%24actions/items/oneOf/1/required",keyword:"required",params:{missingProperty:An},message:"must have required property '"+An+"'"};null===s?s=[hn]:s.push(hn),l++}else{if(void 0!==yn.role){const hn=l;if("string"!=typeof yn.role){const Cn={instancePath:t+"/$actions/"+Xt+"/role",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Cn]:s.push(Cn),l++}var Ce=hn===l}else Ce=!0;if(Ce)if(void 0!==yn.can){let hn=yn.can;const Cn=l;if(l===Cn)if(Array.isArray(hn))if(hn.length<1){const lr={instancePath:t+"/$actions/"+Xt+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===s?s=[lr]:s.push(lr),l++}else{const lr=hn.length;for(let fr=0;fr<lr;fr++){let nr=hn[fr];const or=l;if("string"!=typeof nr){const xs={instancePath:t+"/$actions/"+Xt+"/can/"+fr,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[xs]:s.push(xs),l++}if("co-delete"!==nr&&"co-update"!==nr&&"create"!==nr&&"delete"!==nr&&"query"!==nr&&"subscribe"!==nr&&"read"!==nr&&"update"!==nr){const xs={instancePath:t+"/$actions/"+Xt+"/can/"+fr,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/enum",keyword:"enum",params:{allowedValues:Cg.properties.$actions.items.oneOf[1].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===s?s=[xs]:s.push(xs),l++}if(or!==l)break}}else{const lr={instancePath:t+"/$actions/"+Xt+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===s?s=[lr]:s.push(lr),l++}Ce=Cn===l}else Ce=!0}}var Je;if((Je=Fn===l)&&Nn?(Nn=!1,Bn=[Bn,1]):Je&&(Nn=!0,Bn=1,!0!==Me&&((Me=Me||{}).role=!0,Me.can=!0)),!Nn){const An={instancePath:t+"/$actions/"+Xt,schemaPath:"#/properties/%24actions/items/oneOf",keyword:"oneOf",params:{passingSchemas:Bn},message:"must match exactly one schema in oneOf"};return null===s?s=[An]:s.push(An),l++,to.errors=s,!1}if(l=En,null!==s&&(En?s.length=En:s=null),en!==l)break}}}y=Sn===l}else y=!0;if(y){if(void 0!==r.$role){const dn=l;if("boolean"!=typeof r.$role)return to.errors=[{instancePath:t+"/$role",schemaPath:"#/properties/%24role/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;y=dn===l}else y=!0;if(y){if(void 0!==r.$size){let dn=r.$size;const Sn=l;if(l===Sn){if(!dn||"object"!=typeof dn||Array.isArray(dn))return to.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Yt=l;for(const Xt in dn)if("min"!==Xt&&"max"!==Xt)return to.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xt},message:"must NOT have additional properties"}],!1;if(Yt===l){if(void 0!==dn.min){let Xt=dn.min;const yn=l;if(l===yn){if("number"!=typeof Xt||!isFinite(Xt))return to.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Xt<0||isNaN(Xt))return to.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}var ze=yn===l}else ze=!0;if(ze)if(void 0!==dn.max){let Xt=dn.max;const yn=l;if(l===yn){if("number"!=typeof Xt||!isFinite(Xt))return to.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Xt<0||isNaN(Xt))return to.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}ze=yn===l}else ze=!0}}}y=Sn===l}else y=!0;if(y){if(void 0!==r.$tags){let dn=r.$tags;const Sn=l;if(l===Sn){if(!dn||"object"!=typeof dn||Array.isArray(dn))return to.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(dn).length<1)return to.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;if(void 0!==dn.$requiredTags){let Yt=dn.$requiredTags;const Xt=l;if(l===Xt){if(!Array.isArray(Yt))return to.errors=[{instancePath:t+"/$tags/$requiredTags",schemaPath:"#/properties/%24tags/properties/%24requiredTags/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const yn=Yt.length;for(let en=0;en<yn;en++){const En=l;if("string"!=typeof Yt[en])return to.errors=[{instancePath:t+"/$tags/$requiredTags/"+en,schemaPath:"#/properties/%24tags/properties/%24requiredTags/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(En!==l)break}}}var rt=Xt===l}else rt=!0;if(rt){if(void 0!==dn.$allowUndefinedTags){const Yt=l;if("boolean"!=typeof dn.$allowUndefinedTags)return to.errors=[{instancePath:t+"/$tags/$allowUndefinedTags",schemaPath:"#/properties/%24tags/properties/%24allowUndefinedTags/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;rt=Yt===l}else rt=!0;if(rt){var yt={$requiredTags:!0,$allowUndefinedTags:!0};for(const Yt in dn)if(Y0.test(Yt)){let Xt=dn[Yt];if(l==l){if(!Xt||"object"!=typeof Xt||Array.isArray(Xt))return to.errors=[{instancePath:t+"/$tags/"+Yt.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const en=l;for(const En in Xt)if("type"!==En&&"items"!==En&&"contains"!==En&&!sR.test(En))return to.errors=[{instancePath:t+"/$tags/"+Yt.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:En},message:"must NOT have additional properties"}],!1;if(en===l){if(void 0!==Xt.type){let En=Xt.type;const Nn=l;if("string"!==En&&"number"!==En&&"integer"!==En&&"boolean"!==En&&"array"!==En)return to.errors=[{instancePath:t+"/$tags/"+Yt.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/type/enum",keyword:"enum",params:{allowedValues:Cg.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var ct=Nn===l}else ct=!0;if(ct){if(void 0!==Xt.items){let En=Xt.items;const Nn=l;if(l===Nn){if(!En||"object"!=typeof En||Array.isArray(En))return to.errors=[{instancePath:t+"/$tags/"+Yt.replace(/~/g,"~0").replace(/\//g,"~1")+"/items",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==En.type){let Gt=En.type;const Fn=l;if("string"!==Gt&&"number"!==Gt&&"integer"!==Gt)return to.errors=[{instancePath:t+"/$tags/"+Yt.replace(/~/g,"~0").replace(/\//g,"~1")+"/items/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/properties/type/enum",keyword:"enum",params:{allowedValues:Cg.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.items.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var _t=Fn===l}else _t=!0;if(_t){var It={type:!0};for(const Gt in En)WS.test(Gt)&&(It[Gt]=!0)}}ct=Nn===l}else ct=!0;if(ct)if(void 0!==Xt.contains){let En=Xt.contains;const Nn=l;if(l===Nn){if(!En||"object"!=typeof En||Array.isArray(En))return to.errors=[{instancePath:t+"/$tags/"+Yt.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==En.type){let Gt=En.type;const Fn=l;if("string"!==Gt&&"number"!==Gt&&"integer"!==Gt)return to.errors=[{instancePath:t+"/$tags/"+Yt.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/properties/type/enum",keyword:"enum",params:{allowedValues:Cg.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.contains.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var Jt=Fn===l}else Jt=!0;if(Jt){var Qt={type:!0};for(const Gt in En)WS.test(Gt)&&(Qt[Gt]=!0)}}ct=Nn===l}else ct=!0}}}}yt[Yt]=!0}}}}y=Sn===l}else y=!0;if(y)for(const dn in r)if(zb.test(dn)){const Sn=l;if(r2.validate(r[dn],{instancePath:t+"/"+dn.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:dn,rootData:o,dynamicAnchors:a})||(s=null===s?r2.validate.errors:s.concat(r2.validate.errors),l=s.length),Sn!==l)break}}}}}}}}return to.errors=s,0===l}function Js(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=Js.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return Js.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Me;if(void 0===r.protocol&&(Me="protocol")||void 0===r.published&&(Me="published")||void 0===r.types&&(Me="types")||void 0===r.structure&&(Me="structure"))return Js.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Me},message:"must have required property '"+Me+"'"}],!1;{const Ce=l;for(const je in r)if("protocol"!==je&&"published"!==je&&"types"!==je&&"structure"!==je)return Js.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:je},message:"must NOT have additional properties"}],!1;if(Ce===l){if(void 0!==r.protocol){const je=l;if("string"!=typeof r.protocol)return Js.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=je===l}else I=!0;if(I){if(void 0!==r.published){const je=l;if("boolean"!=typeof r.published)return Js.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;I=je===l}else I=!0;if(I){if(void 0!==r.types){let je=r.types;const Je=l;if(l===Je){if(!je||"object"!=typeof je||Array.isArray(je))return Js.errors=[{instancePath:t+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var y={};for(const He in je)if(HS.test(He)){let rt=je[He];if(l==l){if(!rt||"object"!=typeof rt||Array.isArray(rt))return Js.errors=[{instancePath:t+"/types/"+He.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const ct=l;for(const _t in rt)if("schema"!==_t&&"dataFormats"!==_t)return Js.errors=[{instancePath:t+"/types/"+He.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_t},message:"must NOT have additional properties"}],!1;if(ct===l){if(void 0!==rt.schema){const _t=l;if("string"!=typeof rt.schema)return Js.errors=[{instancePath:t+"/types/"+He.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var L=_t===l}else L=!0;if(L)if(void 0!==rt.dataFormats){let _t=rt.dataFormats;const It=l;if(l===It){if(!Array.isArray(_t))return Js.errors=[{instancePath:t+"/types/"+He.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(_t.length<1)return Js.errors=[{instancePath:t+"/types/"+He.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Qt=_t.length;for(let fn=0;fn<Qt;fn++){const Pn=l;if("string"!=typeof _t[fn])return Js.errors=[{instancePath:t+"/types/"+He.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+fn,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Pn!==l)break}}}L=It===l}else L=!0}}}y[He]=!0}}I=Je===l}else I=!0;if(I)if(void 0!==r.structure){let je=r.structure;const Je=l;if(l===Je){if(!je||"object"!=typeof je||Array.isArray(je))return Js.errors=[{instancePath:t+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Te={};for(const He in je)HS.test(He)&&(to(je[He],{instancePath:t+"/structure/"+He.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:je,parentDataProperty:He,rootData:o,dynamicAnchors:a})||(s=null===s?to.errors:s.concat(to.errors),l=s.length),Te[He]=!0)}I=Je===l}else I=!0}}}}}}return Js.errors=s,0===l}to.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Js.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Mc=to,aR=el,GS={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function el(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=el.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return el.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let L;if(void 0===r.authorization&&(L="authorization")||void 0===r.descriptor&&(L="descriptor"))return el.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:L},message:"must have required property '"+L+"'"}],!1;{const ye=l;for(const Te in r)if("authorization"!==Te&&"descriptor"!==Te)return el.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Te},message:"must NOT have additional properties"}],!1;if(ye===l){if(void 0!==r.authorization){const Te=l;Is(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:a})||(s=null===s?Is.errors:s.concat(Is.errors),l=s.length);var I=Te===l}else I=!0;if(I)if(void 0!==r.descriptor){let Te=r.descriptor;const Me=l;if(l===Me){if(!Te||"object"!=typeof Te||Array.isArray(Te))return el.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let je;if(void 0===Te.interface&&(je="interface")||void 0===Te.method&&(je="method")||void 0===Te.messageTimestamp&&(je="messageTimestamp")||void 0===Te.definition&&(je="definition"))return el.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:je},message:"must have required property '"+je+"'"}],!1;{const Je=l;for(const ze in Te)if("interface"!==ze&&"method"!==ze&&"messageTimestamp"!==ze&&"definition"!==ze)return el.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ze},message:"must NOT have additional properties"}],!1;if(Je===l){if(void 0!==Te.interface){let ze=Te.interface;const He=l;if("string"!=typeof ze)return el.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==ze)return el.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:GS.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var y=He===l}else y=!0;if(y){if(void 0!==Te.method){let ze=Te.method;const He=l;if("string"!=typeof ze)return el.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==ze)return el.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:GS.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;y=He===l}else y=!0;if(y){if(void 0!==Te.messageTimestamp){let ze=Te.messageTimestamp;const He=l;if(l==l){if("string"!=typeof ze)return el.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(ze))return el.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}y=He===l}else y=!0;if(y)if(void 0!==Te.definition){const ze=l;Js(Te.definition,{instancePath:t+"/descriptor/definition",parentData:Te,parentDataProperty:"definition",rootData:o,dynamicAnchors:a})||(s=null===s?Js.errors:s.concat(Js.errors),l=s.length),y=ze===l}else y=!0}}}}}}I=Me===l}else I=!0}}}}return el.errors=s,0===l}el.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const cR=qs,ZS={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"}}}}}}};function qs(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=qs.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return qs.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ye;if(void 0===r.descriptor&&(ye="descriptor"))return qs.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:ye},message:"must have required property '"+ye+"'"}],!1;{const Te=l;for(const Me in r)if("authorization"!==Me&&"descriptor"!==Me)return qs.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Me},message:"must NOT have additional properties"}],!1;if(Te===l){if(void 0!==r.authorization){const Me=l;Is(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:a})||(s=null===s?Is.errors:s.concat(Is.errors),l=s.length);var I=Me===l}else I=!0;if(I)if(void 0!==r.descriptor){let Me=r.descriptor;const Ce=l;if(l===Ce){if(!Me||"object"!=typeof Me||Array.isArray(Me))return qs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Je;if(void 0===Me.interface&&(Je="interface")||void 0===Me.method&&(Je="method")||void 0===Me.messageTimestamp&&(Je="messageTimestamp"))return qs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Je},message:"must have required property '"+Je+"'"}],!1;{const ze=l;for(const He in Me)if("interface"!==He&&"method"!==He&&"messageTimestamp"!==He&&"filter"!==He)return qs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:He},message:"must NOT have additional properties"}],!1;if(ze===l){if(void 0!==Me.interface){let He=Me.interface;const rt=l;if("string"!=typeof He)return qs.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==He)return qs.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:ZS.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var y=rt===l}else y=!0;if(y){if(void 0!==Me.method){let He=Me.method;const rt=l;if("string"!=typeof He)return qs.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==He)return qs.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:ZS.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;y=rt===l}else y=!0;if(y){if(void 0!==Me.messageTimestamp){let He=Me.messageTimestamp;const rt=l;if(l==l){if("string"!=typeof He)return qs.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(He))return qs.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}y=rt===l}else y=!0;if(y)if(void 0!==Me.filter){let He=Me.filter;const rt=l;if(l===rt){if(!He||"object"!=typeof He||Array.isArray(He))return qs.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(He).length<1)return qs.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const ct=l;for(const _t in He)if("protocol"!==_t&&"recipient"!==_t)return qs.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_t},message:"must NOT have additional properties"}],!1;if(ct===l){if(void 0!==He.protocol){const _t=l;if("string"!=typeof He.protocol)return qs.errors=[{instancePath:t+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var L=_t===l}else L=!0;if(L)if(void 0!==He.recipient){let _t=He.recipient;const It=l;if(l==l){if("string"!=typeof _t)return qs.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Z0.test(_t))return qs.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}L=It===l}else L=!0}}}y=rt===l}else y=!0}}}}}}I=Ce===l}else I=!0}}}}return qs.errors=s,0===l}qs.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const lR=tl,YS={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function tl(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=tl.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return tl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let L;if(void 0===r.descriptor&&(L="descriptor"))return tl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:L},message:"must have required property '"+L+"'"}],!1;{const ye=l;for(const Te in r)if("authorization"!==Te&&"descriptor"!==Te)return tl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Te},message:"must NOT have additional properties"}],!1;if(ye===l){if(void 0!==r.authorization){const Te=l;Ec(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:a})||(s=null===s?Ec.errors:s.concat(Ec.errors),l=s.length);var I=Te===l}else I=!0;if(I)if(void 0!==r.descriptor){let Te=r.descriptor;const Me=l;if(l===Me){if(!Te||"object"!=typeof Te||Array.isArray(Te))return tl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let je;if(void 0===Te.interface&&(je="interface")||void 0===Te.method&&(je="method")||void 0===Te.messageTimestamp&&(je="messageTimestamp")||void 0===Te.filter&&(je="filter"))return tl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:je},message:"must have required property '"+je+"'"}],!1;{const Je=l;for(const ze in Te)if("interface"!==ze&&"method"!==ze&&"messageTimestamp"!==ze&&"filter"!==ze)return tl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ze},message:"must NOT have additional properties"}],!1;if(Je===l){if(void 0!==Te.interface){let ze=Te.interface;const He=l;if("string"!=typeof ze)return tl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==ze)return tl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:YS.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var y=He===l}else y=!0;if(y){if(void 0!==Te.method){let ze=Te.method;const He=l;if("string"!=typeof ze)return tl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==ze)return tl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:YS.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;y=He===l}else y=!0;if(y){if(void 0!==Te.messageTimestamp){let ze=Te.messageTimestamp;const He=l;if(l==l){if("string"!=typeof ze)return tl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ki.test(ze))return tl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}y=He===l}else y=!0;if(y)if(void 0!==Te.filter){const ze=l;Kr(Te.filter,{instancePath:t+"/descriptor/filter",parentData:Te,parentDataProperty:"filter",rootData:o,dynamicAnchors:a})||(s=null===s?Kr.errors:s.concat(Kr.errors),l=s.length),y=ze===l}else y=!0}}}}}}I=Me===l}else I=!0}}}}return tl.errors=s,0===l}tl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const o2=Kr,f3=Xo,dR=Ff;function Ff(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){const R=Ff.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Ff.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let y;if(void 0===r.descriptorCid&&(y="descriptorCid"))return Ff.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:y},message:"must have required property '"+y+"'"}],!1;{const L=0;for(const ye in r)if("descriptorCid"!==ye&&"delegatedGrantId"!==ye&&"permissionGrantId"!==ye&&"protocolRole"!==ye)return Ff.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ye},message:"must NOT have additional properties"}],!1;if(0===L){if(void 0!==r.descriptorCid){const ye=0;if("string"!=typeof r.descriptorCid)return Ff.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=0===ye}else I=!0;if(I){if(void 0!==r.delegatedGrantId){const ye=0;if("string"!=typeof r.delegatedGrantId)return Ff.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=0===ye}else I=!0;if(I){if(void 0!==r.permissionGrantId){const ye=0;if("string"!=typeof r.permissionGrantId)return Ff.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=0===ye}else I=!0;if(I)if(void 0!==r.protocolRole){const ye=0;if("string"!=typeof r.protocolRole)return Ff.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=0===ye}else I=!0}}}}}return Ff.errors=null,!0}Ff.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const h3=ed;function ed(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){const R=ed.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return ed.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let y;if(void 0===r.descriptorCid&&(y="descriptorCid")||void 0===r.recordId&&(y="recordId"))return ed.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:y},message:"must have required property '"+y+"'"}],!1;{const L=0;for(const ye in r)if("descriptorCid"!==ye&&"recordId"!==ye&&"contextId"!==ye&&"attestationCid"!==ye&&"encryptionCid"!==ye&&"delegatedGrantId"!==ye&&"permissionGrantId"!==ye&&"protocolRole"!==ye)return ed.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ye},message:"must NOT have additional properties"}],!1;if(0===L){if(void 0!==r.descriptorCid){const ye=0;if("string"!=typeof r.descriptorCid)return ed.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var I=0===ye}else I=!0;if(I){if(void 0!==r.recordId){const ye=0;if("string"!=typeof r.recordId)return ed.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=0===ye}else I=!0;if(I){if(void 0!==r.contextId){const ye=0;if("string"!=typeof r.contextId)return ed.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=0===ye}else I=!0;if(I){if(void 0!==r.attestationCid){const ye=0;if("string"!=typeof r.attestationCid)return ed.errors=[{instancePath:t+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=0===ye}else I=!0;if(I){if(void 0!==r.encryptionCid){const ye=0;if("string"!=typeof r.encryptionCid)return ed.errors=[{instancePath:t+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=0===ye}else I=!0;if(I){if(void 0!==r.delegatedGrantId){const ye=0;if("string"!=typeof r.delegatedGrantId)return ed.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=0===ye}else I=!0;if(I){if(void 0!==r.permissionGrantId){const ye=0;if("string"!=typeof r.permissionGrantId)return ed.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=0===ye}else I=!0;if(I)if(void 0!==r.protocolRole){const ye=0;if("string"!=typeof r.protocolRole)return ed.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;I=0===ye}else I=!0}}}}}}}}}return ed.errors=null,!0}ed.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const uR=kd;function kd(r,{instancePath:t="",rootData:o=r,dynamicAnchors:a={}}={}){let s=null,l=0;const R=kd.evaluated;if(R.dynamicProps&&(R.props=void 0),R.dynamicItems&&(R.items=void 0),0===l){if(!r||"object"!=typeof r||Array.isArray(r))return kd.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return kd.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ce=l;for(const je in r)if("gt"!==je&&"gte"!==je&&"lt"!==je&&"lte"!==je)return kd.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:je},message:"must NOT have additional properties"}],!1;if(Ce===l){if(void 0!==r.gt){const je=l,Je=l,ze=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let He;if(void 0===r.gte&&(He="gte")){const rt={};null===s?s=[rt]:s.push(rt),l++}}if(ze===l)return kd.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;l=Je,null!==s&&(Je?s.length=Je:s=null);var y=je===l}else y=!0;if(y){if(void 0!==r.gte){const je=l,Je=l,ze=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let rt;if(void 0===r.gt&&(rt="gt")){const yt={};null===s?s=[yt]:s.push(yt),l++}}if(ze===l)return kd.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;l=Je,null!==s&&(Je?s.length=Je:s=null),y=je===l}else y=!0;if(y){if(void 0!==r.lt){const je=l,Je=l,ze=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let rt;if(void 0===r.lte&&(rt="lte")){const yt={};null===s?s=[yt]:s.push(yt),l++}}if(ze===l)return kd.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;l=Je,null!==s&&(Je?s.length=Je:s=null),y=je===l}else y=!0;if(y){if(void 0!==r.lte){const je=l,Je=l,ze=l;if(r&&"object"==typeof r&&!Array.isArray(r)){let rt;if(void 0===r.lt&&(rt="lt")){const yt={};null===s?s=[yt]:s.push(yt),l++}}if(ze===l)return kd.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;l=Je,null!==s&&(Je?s.length=Je:s=null),y=je===l}else y=!0;if(y){if(void 0!==r.gt){const je=l;if("string"!=typeof r.gt)return kd.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Me=je===l}else Me=!0;if(Me){if(void 0!==r.gte){const je=l;if("string"!=typeof r.gte)return kd.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Me=je===l}else Me=!0;if(Me){if(void 0!==r.lt){const je=l;if("string"!=typeof r.lt)return kd.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Me=je===l}else Me=!0;if(Me)if(void 0!==r.lte){const je=l;if("string"!=typeof r.lte)return kd.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Me=je===l}else Me=!0}}}}}}}}}return kd.errors=s,0===l}function Hb(r,t){const n=te[r];if(!n)throw new wt(Pt.SchemaValidatorSchemaNotFound,`schema for ${r} not found.`);if(n(t),!n.errors)return;const[i]=n.errors;let{instancePath:o,message:a,keyword:s}=i;if(o||(o=r),"additionalProperties"===s)throw new wt(Pt.SchemaValidatorAdditionalPropertyNotAllowed,`${a}: ${o}: ${i.params.additionalProperty}`);if("unevaluatedProperties"===s)throw new wt(Pt.SchemaValidatorUnevaluatedPropertyNotAllowed,`${a}: ${o}: ${i.params.unevaluatedProperty}`);throw new wt(Pt.SchemaValidatorFailure,`${o}: ${a}`)}kd.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};var s2=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class rf{constructor(t){this.cache=t||new BS(600)}static get singleton(){return void 0===rf._singleton&&(rf._singleton=new rf),rf._singleton}static verifySignatures(t,n){return s2(this,void 0,void 0,function*(){return yield rf.singleton.verifySignatures(t,n)})}verifySignatures(t,n){return s2(this,void 0,void 0,function*(){const i=[];for(const o of t.signatures){let a;const s=xo.getKid(o),l=`${o.protected}.${t.payload}.${o.signature}`,R=yield this.cache.get(l);if(void 0===R){const y=yield rf.getPublicKey(s,n);a=yield xo.verifySignature(t.payload,o,y),yield this.cache.set(l,a)}else a=R;const I=xo.extractDid(s);if(!a)throw new wt(Pt.GeneralJwsVerifierInvalidSignature,`Signature verification failed for ${I}`);i.push(I)}return{signers:i}})}static getPublicKey(t,n){return s2(this,void 0,void 0,function*(){const i=xo.extractDid(t),{didDocument:o}=yield n.resolve(i),{verificationMethod:a=[]}=o||{};let s;for(const R of a)if(t.endsWith(R.id)){s=R;break}if(!s)throw new wt(Pt.GeneralJwsVerifierGetPublicKeyNotFound,"public key needed to verify signature not found in DID Document");Hb("JwkVerificationMethod",s);const{publicKeyJwk:l}=s;return l})}}const Ac=["string","number","bigint","symbol"],CL=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];class dr{constructor(t,n,i){this.major=t,this.majorEncoded=t<<5,this.name=n,this.terminal=i}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}dr.uint=new dr(0,"uint",!0),dr.negint=new dr(1,"negint",!0),dr.bytes=new dr(2,"bytes",!0),dr.string=new dr(3,"string",!0),dr.array=new dr(4,"array",!1),dr.map=new dr(5,"map",!1),dr.tag=new dr(6,"tag",!1),dr.float=new dr(7,"float",!0),dr.false=new dr(7,"false",!0),dr.true=new dr(7,"true",!0),dr.null=new dr(7,"null",!0),dr.undefined=new dr(7,"undefined",!0),dr.break=new dr(7,"break",!0);class ci{constructor(t,n,i){this.type=t,this.value=n,this.encodedLength=i,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const td=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,m3=new TextDecoder,Wb=new TextEncoder;function a2(r){return td&&globalThis.Buffer.isBuffer(r)}function y3(r){return r instanceof Uint8Array?a2(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r)}const g3=td?(r,t,n)=>n-t>64?globalThis.Buffer.from(r.subarray(t,n)).toString("utf8"):mR(r,t,n):(r,t,n)=>n-t>64?m3.decode(r.subarray(t,n)):mR(r,t,n),PL=td?r=>r.length>64?globalThis.Buffer.from(r):bm(r):r=>r.length>64?Wb.encode(r):bm(r),vm=r=>Uint8Array.from(r),c2=td?(r,t,n)=>a2(r)?new Uint8Array(r.subarray(t,n)):r.slice(t,n):(r,t,n)=>r.slice(t,n),hR=td?(r,t)=>(r=r.map(n=>n instanceof Uint8Array?n:globalThis.Buffer.from(n)),y3(globalThis.Buffer.concat(r,t))):(r,t)=>{const n=new Uint8Array(t);let i=0;for(let o of r)i+o.length>n.length&&(o=o.subarray(0,n.length-i)),n.set(o,i),i+=o.length;return n},pR=td?r=>globalThis.Buffer.allocUnsafe(r):r=>new Uint8Array(r);function bm(r,t=1/0){let n;const i=r.length;let o=null;const a=[];for(let s=0;s<i;++s){if(n=r.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&a.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&a.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function mR(r,t,n){const i=[];for(;t<n;){const o=r[t];let a=null,s=o>239?4:o>223?3:o>191?2:1;if(t+s<=n){let l,R,I,y;switch(s){case 1:o<128&&(a=o);break;case 2:l=r[t+1],128==(192&l)&&(y=(31&o)<<6|63&l,y>127&&(a=y));break;case 3:l=r[t+1],R=r[t+2],128==(192&l)&&128==(192&R)&&(y=(15&o)<<12|(63&l)<<6|63&R,y>2047&&(y<55296||y>57343)&&(a=y));break;case 4:l=r[t+1],R=r[t+2],I=r[t+3],128==(192&l)&&128==(192&R)&&128==(192&I)&&(y=(15&o)<<18|(63&l)<<12|(63&R)<<6|63&I,y>65535&&y<1114112&&(a=y))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),t+=s}return function Ih(r){const t=r.length;if(t<=b3)return String.fromCharCode.apply(String,r);let n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,r.slice(i,i+=b3));return n}(i)}const b3=4096;class Zb{constructor(t=256){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let n=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1)n.set(t,n.length-(this.maxCursor-this.cursor)-1);else{if(n){const o=n.length-(this.maxCursor-this.cursor)-1;o<n.length&&(this.chunks[this.chunks.length-1]=n.subarray(0,o),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(n=pR(this.chunkSize),this.chunks.push(n),this.maxCursor+=n.length,null===this._initReuseChunk&&(this._initReuseChunk=n),n.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let n;if(1===this.chunks.length){const i=this.chunks[0];t&&this.cursor>i.length/2?(n=this.cursor===i.length?i:i.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):n=c2(i,0,this.cursor)}else n=hR(this.chunks,this.cursor);return t&&this.reset(),n}}const lo="CBOR decode error:",w3="CBOR encode error:",kg=[];function X0(r,t,n){if(r.length-t<n)throw new Error(`${lo} not enough data for type`)}kg[23]=1,kg[24]=2,kg[25]=3,kg[26]=5,kg[27]=9;const oc=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Dh(r,t,n){X0(r,t,1);const i=r[t];if(!0===n.strict&&i<oc[0])throw new Error(`${lo} integer encoded in more bytes than necessary (strict decode)`);return i}function Mp(r,t,n){X0(r,t,2);const i=r[t]<<8|r[t+1];if(!0===n.strict&&i<oc[1])throw new Error(`${lo} integer encoded in more bytes than necessary (strict decode)`);return i}function J0(r,t,n){X0(r,t,4);const i=16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3];if(!0===n.strict&&i<oc[2])throw new Error(`${lo} integer encoded in more bytes than necessary (strict decode)`);return i}function q0(r,t,n){X0(r,t,8);const o=16777216*r[t+4]+(r[t+5]<<16)+(r[t+6]<<8)+r[t+7],a=(BigInt(16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3])<<BigInt(32))+BigInt(o);if(!0===n.strict&&a<oc[3])throw new Error(`${lo} integer encoded in more bytes than necessary (strict decode)`);if(a<=Number.MAX_SAFE_INTEGER)return Number(a);if(!0===n.allowBigInt)return a;throw new Error(`${lo} integers outside of the safe integer range are not supported`)}function sc(r,t){return fu(r,0,t.value)}function fu(r,t,n){if(n<oc[0]){const i=Number(n);r.push([t|i])}else if(n<oc[1]){const i=Number(n);r.push([24|t,i])}else if(n<oc[2]){const i=Number(n);r.push([25|t,i>>>8,255&i])}else if(n<oc[3]){const i=Number(n);r.push([26|t,i>>>24&255,i>>>16&255,i>>>8&255,255&i])}else{const i=BigInt(n);if(!(i<oc[4]))throw new Error(`${lo} encountered BigInt larger than allowable range`);{const o=[27|t,0,0,0,0,0,0,0];let a=Number(i&BigInt(4294967295)),s=Number(i>>BigInt(32)&BigInt(4294967295));o[8]=255&a,a>>=8,o[7]=255&a,a>>=8,o[6]=255&a,a>>=8,o[5]=255&a,o[4]=255&s,s>>=8,o[3]=255&s,s>>=8,o[2]=255&s,s>>=8,o[1]=255&s,r.push(o)}}}sc.encodedSize=function(t){return fu.encodedSize(t.value)},fu.encodedSize=function(t){return t<oc[0]?1:t<oc[1]?2:t<oc[2]?3:t<oc[3]?5:9},sc.compareTokens=function(t,n){return t.value<n.value?-1:t.value>n.value?1:0};const x3=BigInt(-1),kl=BigInt(1);function u2(r,t){const n=t.value;fu(r,t.type.majorEncoded,"bigint"==typeof n?n*x3-kl:-1*n-1)}function Rg(r,t,n,i){X0(r,t,n+i);const o=c2(r,t+n,t+n+i);return new ci(dr.bytes,o,n+i)}function wR(r,t,n,i){return Rg(r,t,1,n)}function Yb(r){return void 0===r.encodedBytes&&(r.encodedBytes=r.type===dr.string?PL(r.value):r.value),r.encodedBytes}function f2(r,t){const n=Yb(t);fu(r,t.type.majorEncoded,n.length),r.push(n)}function Xb(r,t,n,i,o){const a=n+i;X0(r,t,a);const s=new ci(dr.string,g3(r,t+n,t+a),a);return!0===o.retainStringBytes&&(s.byteValue=c2(r,t+n,t+a)),s}function SR(r,t,n,i){return Xb(r,t,1,n,i)}u2.encodedSize=function(t){const n=t.value,i="bigint"==typeof n?n*x3-kl:-1*n-1;return i<oc[0]?1:i<oc[1]?2:i<oc[2]?3:i<oc[3]?5:9},u2.compareTokens=function(t,n){return t.value<n.value?1:t.value>n.value?-1:0},f2.encodedSize=function(t){const n=Yb(t);return fu.encodedSize(n.length)+n.length},f2.compareTokens=function(t,n){return function xR(r,t){return r.length<t.length?-1:r.length>t.length?1:function v3(r,t){if(a2(r)&&a2(t))return r.compare(t);for(let n=0;n<r.length;n++)if(r[n]!==t[n])return r[n]<t[n]?-1:1;return 0}(r,t)}(Yb(t),Yb(n))};const D3=f2;function Q0(r,t,n,i){return new ci(dr.array,i,n)}function C3(r,t,n,i){return Q0(0,0,1,n)}function p2(r,t){fu(r,dr.array.majorEncoded,t.value)}function Jb(r,t,n,i){return new ci(dr.map,i,n)}function P3(r,t,n,i){return Jb(0,0,1,n)}function qb(r,t){fu(r,dr.map.majorEncoded,t.value)}function PR(r,t,n,i){return new ci(dr.tag,n,1)}function Qb(r,t){fu(r,dr.tag.majorEncoded,t.value)}p2.compareTokens=sc.compareTokens,p2.encodedSize=function(t){return fu.encodedSize(t.value)},qb.compareTokens=sc.compareTokens,qb.encodedSize=function(t){return fu.encodedSize(t.value)},Qb.compareTokens=sc.compareTokens,Qb.encodedSize=function(t){return fu.encodedSize(t.value)};function B3(r,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(r))throw new Error(`${lo} NaN values are not supported`);if(!1===n.allowInfinity&&(r===1/0||r===-1/0))throw new Error(`${lo} Infinity values are not supported`)}return new ci(dr.float,r,t)}function ew(r,t,n){const i=t.value;if(!1===i)r.push([20|dr.float.majorEncoded]);else if(!0===i)r.push([21|dr.float.majorEncoded]);else if(null===i)r.push([22|dr.float.majorEncoded]);else if(void 0===i)r.push([23|dr.float.majorEncoded]);else{let o,a=!1;(!n||!0!==n.float64)&&(Og(i),o=Bg(Du,1),i===o||Number.isNaN(i)?(Du[0]=249,r.push(Du.slice(0,3)),a=!0):(ty(i),o=tw(Du,1),i===o&&(Du[0]=250,r.push(Du.slice(0,5)),a=!0))),a||(function g2(r){Pd.setFloat64(0,r,!1)}(i),o=Ng(Du,1),Du[0]=251,r.push(Du.slice(0,9)))}}ew.encodedSize=function(t,n){const i=t.value;if(!1===i||!0===i||null==i)return 1;if(!n||!0!==n.float64){Og(i);let o=Bg(Du,1);if(i===o||Number.isNaN(i))return 3;if(ty(i),o=tw(Du,1),i===o)return 5}return 9};const ey=new ArrayBuffer(9),Pd=new DataView(ey,1),Du=new Uint8Array(ey,0);function Og(r){if(r===1/0)Pd.setUint16(0,31744,!1);else if(r===-1/0)Pd.setUint16(0,64512,!1);else if(Number.isNaN(r))Pd.setUint16(0,32256,!1);else{Pd.setFloat32(0,r);const t=Pd.getUint32(0),n=(2139095040&t)>>23,i=8388607&t;if(255===n)Pd.setUint16(0,31744,!1);else if(0===n)Pd.setUint16(0,(2147483648&r)>>16|i>>13,!1);else{const o=n-127;o<-24?Pd.setUint16(0,0):Pd.setUint16(0,o<-14?(2147483648&t)>>16|1<<24+o:(2147483648&t)>>16|o+15<<10|i>>13,!1)}}}function Bg(r,t){if(r.length-t<2)throw new Error(`${lo} not enough data for float16`);const n=(r[t]<<8)+r[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const i=n>>10&31,o=1023&n;let a;return a=0===i?o*2**-24:31!==i?(o+1024)*2**(i-25):0===o?1/0:NaN,32768&n?-a:a}function ty(r){Pd.setFloat32(0,r,!1)}function tw(r,t){if(r.length-t<4)throw new Error(`${lo} not enough data for float32`);return new DataView(r.buffer,(r.byteOffset||0)+t,4).getFloat32(0,!1)}function Ng(r,t){if(r.length-t<8)throw new Error(`${lo} not enough data for float64`);return new DataView(r.buffer,(r.byteOffset||0)+t,8).getFloat64(0,!1)}function Bo(r,t,n){throw new Error(`${lo} encountered invalid minor (${n}) for major ${r[t]>>>5}`)}function JS(r){return()=>{throw new Error(`${lo} ${r}`)}}ew.compareTokens=sc.compareTokens;const Pr=[];for(let r=0;r<=23;r++)Pr[r]=Bo;Pr[24]=function gR(r,t,n,i){return new ci(dr.uint,Dh(r,t+1,i),2)},Pr[25]=function _3(r,t,n,i){return new ci(dr.uint,Mp(r,t+1,i),3)},Pr[26]=function vR(r,t,n,i){return new ci(dr.uint,J0(r,t+1,i),5)},Pr[27]=function bR(r,t,n,i){return new ci(dr.uint,q0(r,t+1,i),9)},Pr[28]=Bo,Pr[29]=Bo,Pr[30]=Bo,Pr[31]=Bo;for(let r=32;r<=55;r++)Pr[r]=Bo;Pr[56]=function E3(r,t,n,i){return new ci(dr.negint,-1-Dh(r,t+1,i),2)},Pr[57]=function d2(r,t,n,i){return new ci(dr.negint,-1-Mp(r,t+1,i),3)},Pr[58]=function OL(r,t,n,i){return new ci(dr.negint,-1-J0(r,t+1,i),5)},Pr[59]=function Pg(r,t,n,i){const o=q0(r,t+1,i);if("bigint"!=typeof o){const a=-1-o;if(a>=Number.MIN_SAFE_INTEGER)return new ci(dr.negint,a,9)}if(!0!==i.allowBigInt)throw new Error(`${lo} integers outside of the safe integer range are not supported`);return new ci(dr.negint,x3-BigInt(o),9)},Pr[60]=Bo,Pr[61]=Bo,Pr[62]=Bo,Pr[63]=Bo;for(let r=64;r<=87;r++)Pr[r]=wR;Pr[88]=function S3(r,t,n,i){return Rg(r,t,2,Dh(r,t+1,i))},Pr[89]=function _R(r,t,n,i){return Rg(r,t,3,Mp(r,t+1,i))},Pr[90]=function M3(r,t,n,i){return Rg(r,t,5,J0(r,t+1,i))},Pr[91]=function ER(r,t,n,i){const o=q0(r,t+1,i);if("bigint"==typeof o)throw new Error(`${lo} 64-bit integer bytes lengths not supported`);return Rg(r,t,9,o)},Pr[92]=Bo,Pr[93]=Bo,Pr[94]=Bo,Pr[95]=JS("indefinite length bytes/strings are not supported");for(let r=96;r<=119;r++)Pr[r]=SR;Pr[120]=function A3(r,t,n,i){return Xb(r,t,2,Dh(r,t+1,i),i)},Pr[121]=function T3(r,t,n,i){return Xb(r,t,3,Mp(r,t+1,i),i)},Pr[122]=function I3(r,t,n,i){return Xb(r,t,5,J0(r,t+1,i),i)},Pr[123]=function h2(r,t,n,i){const o=q0(r,t+1,i);if("bigint"==typeof o)throw new Error(`${lo} 64-bit integer string lengths not supported`);return Xb(r,t,9,o,i)},Pr[124]=Bo,Pr[125]=Bo,Pr[126]=Bo,Pr[127]=JS("indefinite length bytes/strings are not supported");for(let r=128;r<=151;r++)Pr[r]=C3;Pr[152]=function k3(r,t,n,i){return Q0(0,0,2,Dh(r,t+1,i))},Pr[153]=function MR(r,t,n,i){return Q0(0,0,3,Mp(r,t+1,i))},Pr[154]=function AR(r,t,n,i){return Q0(0,0,5,J0(r,t+1,i))},Pr[155]=function TR(r,t,n,i){const o=q0(r,t+1,i);if("bigint"==typeof o)throw new Error(`${lo} 64-bit integer array lengths not supported`);return Q0(0,0,9,o)},Pr[156]=Bo,Pr[157]=Bo,Pr[158]=Bo,Pr[159]=function IR(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${lo} indefinite length items not allowed`);return Q0(0,0,1,1/0)};for(let r=160;r<=183;r++)Pr[r]=P3;Pr[184]=function DR(r,t,n,i){return Jb(0,0,2,Dh(r,t+1,i))},Pr[185]=function CR(r,t,n,i){return Jb(0,0,3,Mp(r,t+1,i))},Pr[186]=function BL(r,t,n,i){return Jb(0,0,5,J0(r,t+1,i))},Pr[187]=function kR(r,t,n,i){const o=q0(r,t+1,i);if("bigint"==typeof o)throw new Error(`${lo} 64-bit integer map lengths not supported`);return Jb(0,0,9,o)},Pr[188]=Bo,Pr[189]=Bo,Pr[190]=Bo,Pr[191]=function R3(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${lo} indefinite length items not allowed`);return Jb(0,0,1,1/0)};for(let r=192;r<=215;r++)Pr[r]=PR;Pr[216]=function wm(r,t,n,i){return new ci(dr.tag,Dh(r,t+1,i),2)},Pr[217]=function m2(r,t,n,i){return new ci(dr.tag,Mp(r,t+1,i),3)},Pr[218]=function RR(r,t,n,i){return new ci(dr.tag,J0(r,t+1,i),5)},Pr[219]=function O3(r,t,n,i){return new ci(dr.tag,q0(r,t+1,i),9)},Pr[220]=Bo,Pr[221]=Bo,Pr[222]=Bo,Pr[223]=Bo;for(let r=224;r<=243;r++)Pr[r]=JS("simple values are not supported");Pr[244]=Bo,Pr[245]=Bo,Pr[246]=Bo,Pr[247]=function LR(r,t,n,i){if(!1===i.allowUndefined)throw new Error(`${lo} undefined values are not supported`);return!0===i.coerceUndefinedToNull?new ci(dr.null,null,1):new ci(dr.undefined,void 0,1)},Pr[248]=JS("simple values are not supported"),Pr[249]=function y2(r,t,n,i){return B3(Bg(r,t+1),3,i)},Pr[250]=function UR(r,t,n,i){return B3(tw(r,t+1),5,i)},Pr[251]=function XS(r,t,n,i){return B3(Ng(r,t+1),9,i)},Pr[252]=Bo,Pr[253]=Bo,Pr[254]=Bo,Pr[255]=function LL(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${lo} indefinite length items not allowed`);return new ci(dr.break,void 0,1)};const hu=[];for(let r=0;r<24;r++)hu[r]=new ci(dr.uint,r,1);for(let r=-1;r>=-24;r--)hu[31-r]=new ci(dr.negint,r,1);hu[64]=new ci(dr.bytes,new Uint8Array(0),1),hu[96]=new ci(dr.string,"",1),hu[128]=new ci(dr.array,0,1),hu[160]=new ci(dr.map,0,1),hu[244]=new ci(dr.false,!1,1),hu[245]=new ci(dr.true,!0,1),hu[246]=new ci(dr.null,null,1);const N3={float64:!1,mapSorter:function qS(r,t){const n=Array.isArray(r[0])?r[0][0]:r[0],i=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==i.type)return n.type.compare(i.type);const a=L3[n.type.major].compareTokens(n,i);return 0===a&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),a},quickEncodeToken:function FR(r){switch(r.type){case dr.false:return vm([244]);case dr.true:return vm([245]);case dr.null:return vm([246]);case dr.bytes:return r.value.length?void 0:vm([64]);case dr.string:return""===r.value?vm([96]):void 0;case dr.array:return 0===r.value?vm([128]):void 0;case dr.map:return 0===r.value?vm([160]):void 0;case dr.uint:return r.value<24?vm([Number(r.value)]):void 0;case dr.negint:if(r.value>=-24)return vm([31-Number(r.value)])}}},L3=function jR(){const r=[];return r[dr.uint.major]=sc,r[dr.negint.major]=u2,r[dr.bytes.major]=f2,r[dr.string.major]=D3,r[dr.array.major]=p2,r[dr.map.major]=qb,r[dr.tag.major]=Qb,r[dr.float.major]=ew,r}(),nw=new Zb;class rw{constructor(t,n){this.obj=t,this.parent=n}includes(t){let n=this;do{if(n.obj===t)return!0}while(n=n.parent);return!1}static createCheck(t,n){if(t&&t.includes(n))throw new Error(`${w3} object contains circular references`);return new rw(n,t)}}const _m={null:new ci(dr.null,null),undefined:new ci(dr.undefined,void 0),true:new ci(dr.true,!0),false:new ci(dr.false,!1),emptyArray:new ci(dr.array,0),emptyMap:new ci(dr.map,0)},Em={number:(r,t,n,i)=>Number.isInteger(r)&&Number.isSafeInteger(r)?new ci(r>=0?dr.uint:dr.negint,r):new ci(dr.float,r),bigint:(r,t,n,i)=>r>=BigInt(0)?new ci(dr.uint,r):new ci(dr.negint,r),Uint8Array:(r,t,n,i)=>new ci(dr.bytes,r),string:(r,t,n,i)=>new ci(dr.string,r),boolean:(r,t,n,i)=>r?_m.true:_m.false,null:(r,t,n,i)=>_m.null,undefined:(r,t,n,i)=>_m.undefined,ArrayBuffer:(r,t,n,i)=>new ci(dr.bytes,new Uint8Array(r)),DataView:(r,t,n,i)=>new ci(dr.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),Array(r,t,n,i){if(!r.length)return!0===n.addBreakTokens?[_m.emptyArray,new ci(dr.break)]:_m.emptyArray;i=rw.createCheck(i,r);const o=[];let a=0;for(const s of r)o[a++]=xm(s,n,i);return n.addBreakTokens?[new ci(dr.array,r.length),o,new ci(dr.break)]:[new ci(dr.array,r.length),o]},Object(r,t,n,i){const o="Object"!==t,a=o?r.keys():Object.keys(r),s=o?r.size:a.length;if(!s)return!0===n.addBreakTokens?[_m.emptyMap,new ci(dr.break)]:_m.emptyMap;i=rw.createCheck(i,r);const l=[];let R=0;for(const I of a)l[R++]=[xm(I,n,i),xm(o?r.get(I):r[I],n,i)];return function U3(r,t){t.mapSorter&&r.sort(t.mapSorter)}(l,n),n.addBreakTokens?[new ci(dr.map,s),l,new ci(dr.break)]:[new ci(dr.map,s),l]}};Em.Map=Em.Object,Em.Buffer=Em.Uint8Array;for(const r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Em[`${r}Array`]=Em.DataView;function xm(r,t={},n){const i=function fR(r){if(null===r)return"null";if(void 0===r)return"undefined";if(!0===r||!1===r)return"boolean";const t=typeof r;if(Ac.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(r))return"Array";if(function kL(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}(r))return"Buffer";const n=function p3(r){const t=Object.prototype.toString.call(r).slice(8,-1);if(CL.includes(t))return t}(r);return n||"Object"}(r),o=t&&t.typeEncoders&&t.typeEncoders[i]||Em[i];if("function"==typeof o){const s=o(r,i,t,n);if(null!=s)return s}const a=Em[i];if(!a)throw new Error(`${w3} unsupported type: ${i}`);return a(r,i,t,n)}function F3(r,t,n,i){if(Array.isArray(t))for(const o of t)F3(r,o,n,i);else n[t.type.major](r,t,i)}function UL(r,t,n){const i=xm(r,n);if(!Array.isArray(i)&&n.quickEncodeToken){const o=n.quickEncodeToken(i);if(o)return o;const a=t[i.type.major];if(a.encodedSize){const s=a.encodedSize(i,n),l=new Zb(s);if(a(l,i,n),1!==l.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return y3(l.chunks[0])}}return nw.reset(),F3(nw,i,t,n),nw.toBytes(!0)}const iw={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class KR{constructor(t,n={}){this.pos=0,this.data=t,this.options=n}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let n=hu[t];if(void 0===n){const i=Pr[t];if(!i)throw new Error(`${lo} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);n=i(this.data,this.pos,31&t,this.options)}return this.pos+=n.encodedLength,n}}const Sm=Symbol.for("DONE"),Lg=Symbol.for("BREAK");function Ug(r,t){if(r.done())return Sm;const n=r.next();if(n.type===dr.break)return Lg;if(n.type.terminal)return n.value;if(n.type===dr.array)return function j3(r,t,n){const i=[];for(let o=0;o<r.value;o++){const a=Ug(t,n);if(a===Lg){if(r.value===1/0)break;throw new Error(`${lo} got unexpected break to lengthed array`)}if(a===Sm)throw new Error(`${lo} found array but not enough entries (got ${o}, expected ${r.value})`);i[o]=a}return i}(n,r,t);if(n.type===dr.map)return function $R(r,t,n){const i=!0===n.useMaps,o=i?void 0:{},a=i?new Map:void 0;for(let s=0;s<r.value;s++){const l=Ug(t,n);if(l===Lg){if(r.value===1/0)break;throw new Error(`${lo} got unexpected break to lengthed map`)}if(l===Sm)throw new Error(`${lo} found map but not enough entries (got ${s} [no key], expected ${r.value})`);if(!0!==i&&"string"!=typeof l)throw new Error(`${lo} non-string keys not supported (got ${typeof l})`);if(!0===n.rejectDuplicateMapKeys&&(i&&a.has(l)||!i&&l in o))throw new Error(`${lo} found repeat map key "${l}"`);const R=Ug(t,n);if(R===Sm)throw new Error(`${lo} found map but not enough entries (got ${s} [no value], expected ${r.value})`);i?a.set(l,R):o[l]=R}return i?a:o}(n,r,t);if(n.type===dr.tag){if(t.tags&&"function"==typeof t.tags[n.value]){const i=Ug(r,t);return t.tags[n.value](i)}throw new Error(`${lo} tag not supported (${n.value})`)}throw new Error("unsupported")}const v2=function K3(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var a=r.charAt(o),s=a.charCodeAt(0);if(255!==n[s])throw new TypeError(a+" is ambiguous");n[s]=o}var l=r.length,R=r.charAt(0),I=Math.log(l)/Math.log(256),y=Math.log(256)/Math.log(l);function ye(Me){if("string"!=typeof Me)throw new TypeError("Expected String");if(0===Me.length)return new Uint8Array;var Ce=0;if(" "!==Me[Ce]){for(var je=0,Je=0;Me[Ce]===R;)je++,Ce++;for(var ze=(Me.length-Ce)*I+1>>>0,He=new Uint8Array(ze);Me[Ce];){var rt=n[Me.charCodeAt(Ce)];if(255===rt)return;for(var yt=0,ct=ze-1;(0!==rt||yt<Je)&&-1!==ct;ct--,yt++)He[ct]=(rt+=l*He[ct]>>>0)%256>>>0,rt=rt/256>>>0;if(0!==rt)throw new Error("Non-zero carry");Je=yt,Ce++}if(" "!==Me[Ce]){for(var _t=ze-Je;_t!==ze&&0===He[_t];)_t++;for(var It=new Uint8Array(je+(ze-_t)),Jt=je;_t!==ze;)It[Jt++]=He[_t++];return It}}}return{encode:function L(Me){if(Me instanceof Uint8Array||(ArrayBuffer.isView(Me)?Me=new Uint8Array(Me.buffer,Me.byteOffset,Me.byteLength):Array.isArray(Me)&&(Me=Uint8Array.from(Me))),!(Me instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Me.length)return"";for(var Ce=0,je=0,Je=0,ze=Me.length;Je!==ze&&0===Me[Je];)Je++,Ce++;for(var He=(ze-Je)*y+1>>>0,rt=new Uint8Array(He);Je!==ze;){for(var yt=Me[Je],ct=0,_t=He-1;(0!==yt||ct<je)&&-1!==_t;_t--,ct++)rt[_t]=(yt+=256*rt[_t]>>>0)%l>>>0,yt=yt/l>>>0;if(0!==yt)throw new Error("Non-zero carry");je=ct,Je++}for(var It=He-je;It!==He&&0===rt[It];)It++;for(var Jt=R.repeat(Ce);It<He;++It)Jt+=r.charAt(rt[It]);return Jt},decodeUnsafe:ye,decode:function Te(Me){var Ce=ye(Me);if(Ce)return Ce;throw new Error(`Non-${t} character`)}}},sw=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class Fg{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class WR{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return ZR(this,t)}}class GR{constructor(t){this.decoders=t}or(t){return ZR(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ZR=(r,t)=>new GR({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class w2{constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new Fg(t,n,i),this.decoder=new WR(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const _2=({name:r,prefix:t,encode:n,decode:i})=>new w2(r,t,n,i),tM=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:o}=v2(n,t);return _2({prefix:r,name:t,encode:i,decode:a=>sw(o(a))})},Rd=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>_2({prefix:t,name:r,encode:o=>((r,t,n)=>{const i="="===t[t.length-1],o=(1<<n)-1;let a="",s=0,l=0;for(let R=0;R<r.length;++R)for(l=l<<8|r[R],s+=8;s>n;)s-=n,a+=t[o&l>>s];if(s&&(a+=t[o&l<<n-s]),i)for(;a.length*n&7;)a+="=";return a})(o,i,n),decode:o=>((r,t,n,i)=>{const o={};for(let y=0;y<t.length;++y)o[t[y]]=y;let a=r.length;for(;"="===r[a-1];)--a;const s=new Uint8Array(a*n/8|0);let l=0,R=0,I=0;for(let y=0;y<a;++y){const L=o[r[y]];if(void 0===L)throw new SyntaxError(`Non-${i} character`);R=R<<n|L,l+=n,l>=8&&(l-=8,s[I++]=255&R>>l)}if(l>=n||255&R<<8-l)throw new SyntaxError("Unexpected end of data");return s})(o,i,n,r)}),E2=Rd({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Am=(Rd({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Rd({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Rd({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Rd({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Rd({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Rd({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Rd({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Rd({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),tM({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));tM({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var G3=128,XR=-128,JR=Math.pow(2,31),x2=128,Ch=127,X3=Math.pow(2,7),J3=Math.pow(2,14),q3=Math.pow(2,21),GL=Math.pow(2,28),ZL=Math.pow(2,35),YL=Math.pow(2,42),nM=Math.pow(2,49),rM=Math.pow(2,56),XL=Math.pow(2,63),Q3={encode:function Y3(r,t,n){t=t||[];for(var i=n=n||0;r>=JR;)t[n++]=255&r|G3,r/=128;for(;r&XR;)t[n++]=255&r|G3,r>>>=7;return t[n]=0|r,Y3.bytes=n-i+1,t},decode:function ny(r,i){var s,n=0,o=0,a=i=i||0,l=r.length;do{if(a>=l)throw ny.bytes=0,new RangeError("Could not decode varint");s=r[a++],n+=o<28?(s&Ch)<<o:(s&Ch)*Math.pow(2,o),o+=7}while(s>=x2);return ny.bytes=a-i,n},encodingLength:function(r){return r<X3?1:r<J3?2:r<q3?3:r<GL?4:r<ZL?5:r<YL?6:r<nM?7:r<rM?8:r<XL?9:10}};const S2=Q3,iM=(r,t=0)=>[S2.decode(r,t),S2.decode.bytes],M2=(r,t,n=0)=>(S2.encode(r,t,n),t),A2=r=>S2.encodingLength(r);class oM{constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}const T2=(r,t)=>{const{bytes:n,version:i}=r;return 0===i?nO(n,aM(r),t||Am.encoder):cM(n,aM(r),t||E2.encoder)},I2=new WeakMap,aM=r=>{const t=I2.get(r);if(null==t){const n=new Map;return I2.set(r,n),n}return t};class Qs{constructor(t,n,i,o){this.code=n,this.version=t,this.multihash=i,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==jg)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==rO)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Qs.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=((r,t)=>{const n=t.byteLength,i=A2(r),o=i+A2(n),a=new Uint8Array(o+n);return M2(r,a,0),M2(n,a,i),a.set(t,o),new oM(r,n,t,a)})(t,n);return Qs.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return Qs.equals(this,t)}static equals(t,n){return n&&t.code===n.code&&t.version===n.version&&((r,t)=>r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&((r,t)=>{if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0})(r.bytes,t.bytes))(t.multihash,n.multihash)}toString(t){return T2(this,t)}toJSON(){return{"/":T2(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof Qs)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:o,multihash:a,bytes:s}=n;return new Qs(i,o,a,s||rC(i,o,a.bytes))}if(!0===n[iO]){const{version:i,multihash:o,code:a}=n,s=(r=>{const t=sw(r),[n,i]=iM(t),[o,a]=iM(t.subarray(i)),s=t.subarray(i+a);if(s.byteLength!==o)throw new Error("Incorrect length");return new oM(n,o,s,t)})(o);return Qs.create(i,a,s)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==jg)throw new Error(`Version 0 CID must use dag-pb (code: ${jg}) block encoding`);return new Qs(t,n,i,i.bytes);case 1:{const o=rC(t,n,i.bytes);return new Qs(t,n,i,o)}default:throw new Error("Invalid version")}}static createV0(t){return Qs.create(0,jg,t)}static createV1(t,n){return Qs.create(1,t,n)}static decode(t){const[n,i]=Qs.decodeFirst(t);if(i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=Qs.inspectBytes(t),i=n.size-n.multihashSize,o=sw(t.subarray(i,i+n.multihashSize));if(o.byteLength!==n.multihashSize)throw new Error("Incorrect length");const a=o.subarray(n.multihashSize-n.digestSize),s=new oM(n.multihashCode,n.digestSize,a,o);return[0===n.version?Qs.createV0(s):Qs.createV1(n.codec,s),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[L,ye]=iM(t.subarray(n));return n+=ye,L};let o=i(),a=jg;if(18===o?(o=0,n=0):a=i(),0!==o&&1!==o)throw new RangeError(`Invalid CID version ${o}`);const s=n,l=i(),R=i(),I=n+R;return{version:o,codec:a,multihashCode:l,digestSize:R,multihashSize:I-s,size:I}}static parse(t,n){const[i,o]=nC(t,n),a=Qs.decode(o);if(0===a.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return aM(a).set(i,t),a}}const nC=(r,t)=>{switch(r[0]){case"Q":return[Am.prefix,(t||Am).decode(`${Am.prefix}${r}`)];case Am.prefix:return[Am.prefix,(t||Am).decode(r)];case E2.prefix:return[E2.prefix,(t||E2).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}},nO=(r,t,n)=>{const{prefix:i}=n;if(i!==Am.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(i);if(null==o){const a=n.encode(r).slice(1);return t.set(i,a),a}return o},cM=(r,t,n)=>{const{prefix:i}=n,o=t.get(i);if(null==o){const a=n.encode(r);return t.set(i,a),a}return o},jg=112,rO=18,rC=(r,t,n)=>{const i=A2(r),o=i+A2(t),a=new Uint8Array(o+n.byteLength);return M2(r,a,0),M2(t,a,i),a.set(n,o),a},iO=Symbol.for("@ipld/js-cid/CID"),cw={float64:!0,typeEncoders:{Object:function oC(r){if(r.asCID!==r&&r["/"]!==r.bytes)return null;const t=Qs.asCID(r);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new ci(dr.tag,42),new ci(dr.bytes,n)]},undefined:function qL(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function QL(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},sC={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};sC.tags[42]=function oO(r){if(0!==r[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Qs.decode(r.subarray(1))};const sO="dag-cbor",lw=113,aO=r=>function FL(r,t){return t=Object.assign({},N3,t),UL(r,L3,t)}(r,cw),aC=r=>function QS(r,t){if(!(r instanceof Uint8Array))throw new Error(`${lo} data to decode must be a Uint8Array`);const n=(t=Object.assign({},iw,t)).tokenizer||new KR(r,t),i=Ug(n,t);if(i===Sm)throw new Error(`${lo} did not find any content to decode`);if(i===Lg)throw new Error(`${lo} got unexpected break`);if(!n.done())throw new Error(`${lo} too many terminals, data makes no sense`);return i}(r,sC),sf=pe({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),D2=(pe({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Fe({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5})),cO=(Fe({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Fe({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Fe({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Fe({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Fe({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Fe({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Fe({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Fe({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})),dC=(r,t)=>{const{bytes:n,version:i}=r;return 0===i?fC(n,Kg(r),t||sf.encoder):lO(n,Kg(r),t||D2.encoder)},dw=new WeakMap,Kg=r=>{const t=dw.get(r);if(null==t){const n=new Map;return dw.set(r,n),n}return t};class uo{constructor(t,n,i,o){this.code=n,this.version=t,this.multihash=i,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==uw)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==hC)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return uo.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=xu(t,n);return uo.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return uo.equals(this,t)}static equals(t,n){return n&&t.code===n.code&&t.version===n.version&&((r,t)=>r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&((r,t)=>{if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0})(r.bytes,t.bytes))(t.multihash,n.multihash)}toString(t){return dC(this,t)}toJSON(){return{"/":dC(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof uo)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:o,multihash:a,bytes:s}=n;return new uo(i,o,a,s||ry(i,o,a.bytes))}if(!0===n[Cu]){const{version:i,multihash:o,code:a}=n,s=hh(o);return uo.create(i,a,s)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==uw)throw new Error(`Version 0 CID must use dag-pb (code: ${uw}) block encoding`);return new uo(t,n,i,i.bytes);case 1:{const o=ry(t,n,i.bytes);return new uo(t,n,i,o)}default:throw new Error("Invalid version")}}static createV0(t){return uo.create(0,uw,t)}static createV1(t,n){return uo.create(1,t,n)}static decode(t){const[n,i]=uo.decodeFirst(t);if(i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=uo.inspectBytes(t),i=n.size-n.multihashSize,o=Le(t.subarray(i,i+n.multihashSize));if(o.byteLength!==n.multihashSize)throw new Error("Incorrect length");const a=o.subarray(n.multihashSize-n.digestSize),s=new bc(n.multihashCode,n.digestSize,a,o);return[0===n.version?uo.createV0(s):uo.createV1(n.codec,s),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[L,ye]=si(t.subarray(n));return n+=ye,L};let o=i(),a=uw;if(18===o?(o=0,n=0):a=i(),0!==o&&1!==o)throw new RangeError(`Invalid CID version ${o}`);const s=n,l=i(),R=i(),I=n+R;return{version:o,codec:a,multihashCode:l,digestSize:R,multihashSize:I-s,size:I}}static parse(t,n){const[i,o]=uC(t,n),a=uo.decode(o);if(0===a.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return Kg(a).set(i,t),a}}const uC=(r,t)=>{switch(r[0]){case"Q":return[sf.prefix,(t||sf).decode(`${sf.prefix}${r}`)];case sf.prefix:return[sf.prefix,(t||sf).decode(r)];case D2.prefix:return[D2.prefix,(t||D2).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}},fC=(r,t,n)=>{const{prefix:i}=n;if(i!==sf.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(i);if(null==o){const a=n.encode(r).slice(1);return t.set(i,a),a}return o},lO=(r,t,n)=>{const{prefix:i}=n,o=t.get(i);if(null==o){const a=n.encode(r);return t.set(i,a),a}return o},uw=112,hC=18,ry=(r,t,n)=>{const i=Ys(r),o=i+Ys(t),a=new Uint8Array(o+n.byteLength);return Ya(r,a,0),Ya(t,a,i),a.set(n,o),a},Cu=Symbol.for("@ipld/js-cid/CID");var La=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},fw=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=r[a]&&function(s){return new Promise(function(l,R){!function o(a,s,l,R){Promise.resolve(R).then(function(I){a({value:I,done:l})},s)}(l,R,(s=r[a](s)).done,s.value)})}}},Pl=function(r){return this instanceof Pl?(this.v=r,this):new Pl(r)},C2=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(r,t||[]),a=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(ye){i[ye]&&(o[ye]=function(Te){return new Promise(function(Me,Ce){a.push([ye,Te,Me,Ce])>1||l(ye,Te)})})}function l(ye,Te){try{!function R(ye){ye.value instanceof Pl?Promise.resolve(ye.value.v).then(I,y):L(a[0][2],ye)}(i[ye](Te))}catch(Me){L(a[0][3],Me)}}function I(ye){l("next",ye)}function y(ye){l("throw",ye)}function L(ye,Te){ye(Te),a.shift(),a.length&&l(a[0][0],a[0][1])}};class dO{open(){return La(this,void 0,void 0,function*(){})}close(){return La(this,void 0,void 0,function*(){})}put(t,n,i){return La(this,void 0,void 0,function*(){return t})}get(t,n){return La(this,void 0,void 0,function*(){return new Uint8Array})}has(t,n){return La(this,void 0,void 0,function*(){return!1})}delete(t,n){return La(this,void 0,void 0,function*(){})}isEmpty(t){return La(this,void 0,void 0,function*(){return!0})}putMany(t,n){return C2(this,arguments,function*(){var o,a,s;try{for(var y,R=!0,I=fw(t);!(o=(y=yield Pl(I.next())).done);R=!0){R=!1;const L=y.value;yield Pl(this.put(L.cid,L.block,n)),yield yield Pl(L.cid)}}catch(L){a={error:L}}finally{try{!R&&!o&&(s=I.return)&&(yield Pl(s.call(I)))}finally{if(a)throw a.error}}})}getMany(t,n){return C2(this,arguments,function*(){var o,a,s;try{for(var y,R=!0,I=fw(t);!(o=(y=yield Pl(I.next())).done);R=!0){R=!1;const L=y.value;yield yield Pl({cid:L,block:yield Pl(this.get(L,n))})}}catch(L){a={error:L}}finally{try{!R&&!o&&(s=I.return)&&(yield Pl(s.call(I)))}finally{if(a)throw a.error}}})}getAll(t){return C2(this,arguments,function*(){var i,o,a,s;const l=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var y,R=!0,I=fw(l);!(i=(y=yield Pl(I.next())).done);R=!0){s=y.value,R=!1;const[L,ye]=s;yield yield Pl({cid:uo.decode(L),block:ye})}}catch(L){o={error:L}}finally{try{!R&&!i&&(a=I.return)&&(yield Pl(a.call(I)))}finally{if(o)throw o.error}}})}deleteMany(t,n){return C2(this,arguments,function*(){var o,a,s;try{for(var y,R=!0,I=fw(t);!(o=(y=yield Pl(I.next())).done);R=!0){R=!1;const L=y.value;yield Pl(this.delete(L,n)),yield yield Pl(L)}}catch(L){a={error:L}}finally{try{!R&&!o&&(s=I.return)&&(yield Pl(s.call(I)))}finally{if(a)throw a.error}}})}clear(){return La(this,void 0,void 0,function*(){})}}function pC(r,t){this.v=r,this.k=t}function Zr(r){return new pC(r,0)}function No(r){return function(){return new k2(r.apply(this,arguments))}}function k2(r){var t,n;function i(a,s){try{var l=r[a](s),R=l.value,I=R instanceof pC;Promise.resolve(I?R.v:R).then(function(y){if(I){var L="return"===a?"return":"next";if(!R.k||y.done)return i(L,y);y=r[L](y).value}o(l.done?"return":"normal",y)},function(y){i("throw",y)})}catch(y){o("throw",y)}}function o(a,s){switch(a){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(a,s){return new Promise(function(l,R){var I={key:a,arg:s,resolve:l,reject:R,next:null};n?n=n.next=I:(t=n=I,i(a,s))})},"function"!=typeof r.return&&(this.return=void 0)}function oo(r){var t,n,i,o=2;for(typeof Symbol<"u"&&(n=Symbol.asyncIterator,i=Symbol.iterator);o--;){if(n&&null!=(t=r[n]))return t.call(r);if(i&&null!=(t=r[i]))return new $g(t.call(r));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function $g(r){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var i=n.done;return Promise.resolve(n.value).then(function(o){return{value:o,done:i}})}return($g=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(i){var o=this.s.return;return void 0===o?Promise.resolve({value:i,done:!0}):t(o.apply(this.s,arguments))},throw:function(i){var o=this.s.return;return void 0===o?Promise.reject(i):t(o.apply(this.s,arguments))}},new $g(r)}k2.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},k2.prototype.next=function(r){return this._invoke("next",r)},k2.prototype.throw=function(r){return this._invoke("throw",r)},k2.prototype.return=function(r){return this._invoke("return",r)};var Vg=E(5014);const P2=function zg(r,t=1){return t=Number(t),function uO(r){return null!=r[Symbol.asyncIterator]}(r)?No(function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");var a,i=!1,o=!1;try{for(var l,s=oo(r);i=!(l=yield Zr(s.next())).done;i=!1)for(n.push(l.value);n.length>=t;)yield n.slice(0,t),n=n.slice(t)}catch(R){o=!0,a=R}finally{try{i&&null!=s.return&&(yield Zr(s.return()))}finally{if(o)throw a}}for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)})():function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");for(const i of r)for(n.push(i);n.length>=t;)yield n.slice(0,t),n=n.slice(t);for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)}()};function lM(r){return hw.apply(this,arguments)}function hw(){return hw=No(function*(r,t=1){var o,n=!1,i=!1;try{for(var s,a=oo(P2(r,t));n=!(s=yield Zr(a.next())).done;n=!1){const R=s.value.map(function(){var I=(0,m.A)(function*(y){return y().then(L=>({ok:!0,value:L}),L=>({ok:!1,err:L}))});return function(y){return I.apply(this,arguments)}}());for(let I=0;I<R.length;I++){const y=yield Zr(R[I]);if(!y.ok)throw y.err;yield y.value}}}catch(l){i=!0,o=l}finally{try{n&&null!=a.return&&(yield Zr(a.return()))}finally{if(i)throw o}}}),hw.apply(this,arguments)}function uM(r,t){null==t&&(t=r.reduce((o,a)=>o+a.length,0));const n=hm(t);let i=0;for(const o of r)n.set(o,i),i+=o.length;return n}function fO(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}const fM=Symbol.for("@achingbrain/uint8arraylist");function mC(r,t){if(null==t||t<0)throw new RangeError("index is out of bounds");let n=0;for(const i of r){const o=n+i.byteLength;if(t<o)return{buf:i,index:t-n};n=o}throw new RangeError("index is out of bounds")}function R2(r){return!!r?.[fM]}class Tm{bufs;length;[fM]=!0;constructor(...t){this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let n=0;for(const i of t)if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.push(i);else{if(!R2(i))throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.push(...i.bufs)}this.length+=n}prepend(...t){this.prependAll(t)}prependAll(t){let n=0;for(const i of t.reverse())if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.unshift(i);else{if(!R2(i))throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.unshift(...i.bufs)}this.length+=n}get(t){const n=mC(this.bufs,t);return n.buf[n.index]}set(t,n){const i=mC(this.bufs,t);i.buf[i.index]=n}write(t,n=0){if(t instanceof Uint8Array)for(let i=0;i<t.length;i++)this.set(n+i,t[i]);else{if(!R2(t))throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList");for(let i=0;i<t.length;i++)this.set(n+i,t.get(i))}}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength)return this.bufs=[],void(this.length=0);for(;this.bufs.length>0;){if(!(t>=this.bufs[0].byteLength)){this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift()}}}slice(t,n){const{bufs:i,length:o}=this._subList(t,n);return uM(i,o)}subarray(t,n){const{bufs:i,length:o}=this._subList(t,n);return 1===i.length?i[0]:uM(i,o)}sublist(t,n){const{bufs:i,length:o}=this._subList(t,n),a=new Tm;return a.length=o,a.bufs=[...i],a}_subList(t,n){if((t=t??0)<0&&(t=this.length+t),(n=n??this.length)<0&&(n=this.length+n),t<0||n>this.length)throw new RangeError("index is out of bounds");if(t===n)return{bufs:[],length:0};if(0===t&&n===this.length)return{bufs:this.bufs,length:this.length};const i=[];let o=0;for(let a=0;a<this.bufs.length;a++){const s=this.bufs[a],l=o,R=l+s.byteLength;if(o=R,t>=R)continue;const I=t>=l&&t<R,y=n>l&&n<=R;if(I&&y){if(t===l&&n===R){i.push(s);break}const L=t-l;i.push(s.subarray(L,L+(n-t)));break}if(I){if(0===t){i.push(s);continue}i.push(s.subarray(t-l))}else{if(y){if(n===R){i.push(s);break}i.push(s.subarray(0,n-l));break}i.push(s)}}return{bufs:i,length:n-t}}indexOf(t,n=0){if(!(R2(t)||t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const i=t instanceof Uint8Array?t:t.subarray();if(n=Number(n??0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),0===t.length)return n>this.length?this.length:n;const o=i.byteLength;if(0===o)throw new TypeError("search must be at least 1 byte long");const s=new Int32Array(256);for(let L=0;L<256;L++)s[L]=-1;for(let L=0;L<o;L++)s[i[L]]=L;const l=s,R=this.byteLength-i.byteLength,I=i.byteLength-1;let y;for(let L=n;L<=R;L+=y){y=0;for(let ye=I;ye>=0;ye--){const Te=this.get(L+ye);if(i[ye]!==Te){y=Math.max(1,ye-l[Te]);break}}if(0===y)return L}return-1}getInt8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt8(0)}setInt8(t,n){const i=hm(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt8(0,n),this.write(i,t)}getInt16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt16(0,n)}setInt16(t,n,i){const o=fm(2);new DataView(o.buffer,o.byteOffset,o.byteLength).setInt16(0,n,i),this.write(o,t)}getInt32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt32(0,n)}setInt32(t,n,i){const o=fm(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setInt32(0,n,i),this.write(o,t)}getBigInt64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigInt64(0,n)}setBigInt64(t,n,i){const o=fm(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setBigInt64(0,n,i),this.write(o,t)}getUint8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint8(0)}setUint8(t,n){const i=hm(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint8(0,n),this.write(i,t)}getUint16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint16(0,n)}setUint16(t,n,i){const o=fm(2);new DataView(o.buffer,o.byteOffset,o.byteLength).setUint16(0,n,i),this.write(o,t)}getUint32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint32(0,n)}setUint32(t,n,i){const o=fm(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setUint32(0,n,i),this.write(o,t)}getBigUint64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigUint64(0,n)}setBigUint64(t,n,i){const o=fm(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setBigUint64(0,n,i),this.write(o,t)}getFloat32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat32(0,n)}setFloat32(t,n,i){const o=fm(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setFloat32(0,n,i),this.write(o,t)}getFloat64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat64(0,n)}setFloat64(t,n,i){const o=fm(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setFloat64(0,n,i),this.write(o,t)}equals(t){if(null==t||!(t instanceof Tm)||t.bufs.length!==this.bufs.length)return!1;for(let n=0;n<this.bufs.length;n++)if(!fO(this.bufs[n],t.bufs[n]))return!1;return!0}static fromUint8Arrays(t,n){const i=new Tm;return i.bufs=t,null==n&&(n=t.reduce((o,a)=>o+a.byteLength,0)),i.length=n,i}}const pw=(r={})=>{const t=r.chunkSize??262144;return function(){var n=No(function*(o){let a=new Tm,s=0,l=!1;var y,R=!1,I=!1;try{for(var ye,L=oo(o);R=!(ye=yield Zr(L.next())).done;R=!1){const Te=ye.value;for(a.append(Te),s+=Te.length;s>=t;)if(yield a.slice(0,t),l=!0,t===a.length)a=new Tm,s=0;else{const Me=new Tm;Me.append(a.sublist(t)),a=Me,s-=t}}}catch(Te){I=!0,y=Te}finally{try{R&&null!=L.return&&(yield Zr(L.return()))}finally{if(I)throw y}}(!l||s>0)&&(yield a.subarray(0,s))});return function i(o){return n.apply(this,arguments)}}()};function mw(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);const B2=function gC(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var a=r.charAt(o),s=a.charCodeAt(0);if(255!==n[s])throw new TypeError(a+" is ambiguous");n[s]=o}var l=r.length,R=r.charAt(0),I=Math.log(l)/Math.log(256),y=Math.log(256)/Math.log(l);function ye(Me){if("string"!=typeof Me)throw new TypeError("Expected String");if(0===Me.length)return new Uint8Array;var Ce=0;if(" "!==Me[Ce]){for(var je=0,Je=0;Me[Ce]===R;)je++,Ce++;for(var ze=(Me.length-Ce)*I+1>>>0,He=new Uint8Array(ze);Me[Ce];){var rt=n[Me.charCodeAt(Ce)];if(255===rt)return;for(var yt=0,ct=ze-1;(0!==rt||yt<Je)&&-1!==ct;ct--,yt++)He[ct]=(rt+=l*He[ct]>>>0)%256>>>0,rt=rt/256>>>0;if(0!==rt)throw new Error("Non-zero carry");Je=yt,Ce++}if(" "!==Me[Ce]){for(var _t=ze-Je;_t!==ze&&0===He[_t];)_t++;for(var It=new Uint8Array(je+(ze-_t)),Jt=je;_t!==ze;)It[Jt++]=He[_t++];return It}}}return{encode:function L(Me){if(Me instanceof Uint8Array||(ArrayBuffer.isView(Me)?Me=new Uint8Array(Me.buffer,Me.byteOffset,Me.byteLength):Array.isArray(Me)&&(Me=Uint8Array.from(Me))),!(Me instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Me.length)return"";for(var Ce=0,je=0,Je=0,ze=Me.length;Je!==ze&&0===Me[Je];)Je++,Ce++;for(var He=(ze-Je)*y+1>>>0,rt=new Uint8Array(He);Je!==ze;){for(var yt=Me[Je],ct=0,_t=He-1;(0!==yt||ct<je)&&-1!==_t;_t--,ct++)rt[_t]=(yt+=256*rt[_t]>>>0)%l>>>0,yt=yt/l>>>0;if(0!==yt)throw new Error("Non-zero carry");je=ct,Je++}for(var It=He-je;It!==He&&0===rt[It];)It++;for(var Jt=R.repeat(Ce);It<He;++It)Jt+=r.charAt(rt[It]);return Jt},decodeUnsafe:ye,decode:function Te(Me){var Ce=ye(Me);if(Ce)return Ce;throw new Error(`Non-${t} character`)}}};class gO{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class vC{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return pM(this,t)}}class bC{decoders;constructor(t){this.decoders=t}or(t){return pM(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function pM(r,t){return new bC({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class mM{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new gO(t,n,i),this.decoder=new vC(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function yM({name:r,prefix:t,encode:n,decode:i}){return new mM(r,t,n,i)}function yw({name:r,prefix:t,alphabet:n}){const{encode:i,decode:o}=B2(n,r);return yM({prefix:t,name:r,encode:i,decode:a=>mw(o(a))})}function jf({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return yM({prefix:t,name:r,encode:o=>function wC(r,t,n){const i="="===t[t.length-1],o=(1<<n)-1;let a="",s=0,l=0;for(let R=0;R<r.length;++R)for(l=l<<8|r[R],s+=8;s>n;)s-=n,a+=t[o&l>>s];if(0!==s&&(a+=t[o&l<<n-s]),i)for(;a.length*n&7;)a+="=";return a}(o,i,n),decode:o=>function Wg(r,t,n,i){const o={};for(let y=0;y<t.length;++y)o[t[y]]=y;let a=r.length;for(;"="===r[a-1];)--a;const s=new Uint8Array(a*n/8|0);let l=0,R=0,I=0;for(let y=0;y<a;++y){const L=o[r[y]];if(void 0===L)throw new SyntaxError(`Non-${i} character`);R=R<<n|L,l+=n,l>=8&&(l-=8,s[I++]=255&R>>l)}if(l>=n||255&R<<8-l)throw new SyntaxError("Unexpected end of data");return s}(o,i,n,r)})}const Im=jf({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ap=(jf({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),jf({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),jf({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),jf({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),jf({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),jf({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),jf({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),jf({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),yw({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));yw({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var vM=128,Gg=-128,xC=Math.pow(2,31),N2=128,Dm=127,vw=Math.pow(2,7),SC=Math.pow(2,14),wM=Math.pow(2,21),_M=Math.pow(2,28),EM=Math.pow(2,35),MC=Math.pow(2,42),xM=Math.pow(2,49),EO=Math.pow(2,56),xO=Math.pow(2,63),AC={encode:function bM(r,t,n){t=t||[];for(var i=n=n||0;r>=xC;)t[n++]=255&r|vM,r/=128;for(;r&Gg;)t[n++]=255&r|vM,r>>>=7;return t[n]=0|r,bM.bytes=n-i+1,t},decode:function gw(r,i){var s,n=0,o=0,a=i=i||0,l=r.length;do{if(a>=l)throw gw.bytes=0,new RangeError("Could not decode varint");s=r[a++],n+=o<28?(s&Dm)<<o:(s&Dm)*Math.pow(2,o),o+=7}while(s>=N2);return gw.bytes=a-i,n},encodingLength:function(r){return r<vw?1:r<SC?2:r<wM?3:r<_M?4:r<EM?5:r<MC?6:r<xM?7:r<EO?8:r<xO?9:10}};const L2=AC;function SM(r,t=0){return[L2.decode(r,t),L2.decode.bytes]}function U2(r,t,n=0){return L2.encode(r,t,n),t}function bw(r){return L2.encodingLength(r)}class nd{code;size;digest;bytes;constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}function MM(r,t){const{bytes:n,version:i}=r;return 0===i?function DO(r,t,n){const{prefix:i}=n;if(i!==Ap.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(i);if(null==o){const a=n.encode(r).slice(1);return t.set(i,a),a}return o}(n,j2(r),t??Ap.encoder):function IC(r,t,n){const{prefix:i}=n,o=t.get(i);if(null==o){const a=n.encode(r);return t.set(i,a),a}return o}(n,j2(r),t??Im.encoder)}const F2=new WeakMap;function j2(r){const t=F2.get(r);if(null==t){const n=new Map;return F2.set(r,n),n}return t}class Ta{code;version;multihash;bytes;"/";constructor(t,n,i,o){this.code=n,this.version=t,this.multihash=i,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==ww)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==CO)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ta.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=function TC(r,t){const n=t.byteLength,i=bw(r),o=i+bw(n),a=new Uint8Array(o+n);return U2(r,a,0),U2(n,a,i),a.set(t,o),new nd(r,n,t,a)}(t,n);return Ta.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return Ta.equals(this,t)}static equals(t,n){return null!=n&&t.code===n.code&&t.version===n.version&&function TO(r,t){return r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&function hO(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}(r.bytes,t.bytes)}(t.multihash,n.multihash)}toString(t){return MM(this,t)}toJSON(){return{"/":MM(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof Ta)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:o,multihash:a,bytes:s}=n;return new Ta(i,o,a,s??K2(i,o,a.bytes))}if(!0===n[kO]){const{version:i,multihash:o,code:a}=n,s=function AO(r){const t=mw(r),[n,i]=SM(t),[o,a]=SM(t.subarray(i)),s=t.subarray(i+a);if(s.byteLength!==o)throw new Error("Incorrect length");return new nd(n,o,s,t)}(o);return Ta.create(i,a,s)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==ww)throw new Error(`Version 0 CID must use dag-pb (code: ${ww}) block encoding`);return new Ta(t,n,i,i.bytes);case 1:{const o=K2(t,n,i.bytes);return new Ta(t,n,i,o)}default:throw new Error("Invalid version")}}static createV0(t){return Ta.create(0,ww,t)}static createV1(t,n){return Ta.create(1,t,n)}static decode(t){const[n,i]=Ta.decodeFirst(t);if(0!==i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=Ta.inspectBytes(t),i=n.size-n.multihashSize,o=mw(t.subarray(i,i+n.multihashSize));if(o.byteLength!==n.multihashSize)throw new Error("Incorrect length");const a=o.subarray(n.multihashSize-n.digestSize),s=new nd(n.multihashCode,n.digestSize,a,o);return[0===n.version?Ta.createV0(s):Ta.createV1(n.codec,s),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[L,ye]=SM(t.subarray(n));return n+=ye,L};let o=i(),a=ww;if(18===o?(o=0,n=0):a=i(),0!==o&&1!==o)throw new RangeError(`Invalid CID version ${o}`);const s=n,l=i(),R=i(),I=n+R;return{version:o,codec:a,multihashCode:l,digestSize:R,multihashSize:I-s,size:I}}static parse(t,n){const[i,o]=function IO(r,t){switch(r[0]){case"Q":return[Ap.prefix,(t??Ap).decode(`${Ap.prefix}${r}`)];case Ap.prefix:return[Ap.prefix,(t??Ap).decode(r)];case Im.prefix:return[Im.prefix,(t??Im).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}(t,n),a=Ta.decode(o);if(0===a.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return j2(a).set(i,t),a}}const ww=112,CO=18;function K2(r,t,n){const i=bw(r),o=i+bw(t),a=new Uint8Array(o+n.byteLength);return U2(r,a,0),U2(t,a,i),a.set(n,o),a}const kO=Symbol.for("@ipld/js-cid/CID"),PO=new TextDecoder;function AM(r,t){let n=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(t>=r.length)throw new Error("protobuf: unexpected end of data");const o=r[t++];if(n+=i<28?(127&o)<<i:(127&o)*2**i,o<128)break}return[n,t]}function $2(r,t){let n;[n,t]=AM(r,t);const i=t+n;if(n<0||i<0)throw new Error("protobuf: invalid length");if(i>r.length)throw new Error("protobuf: unexpected end of data");return[r.subarray(t,i),i]}function DC(r,t){let n;return[n,t]=AM(r,t),[7&n,n>>3,t]}function kh(r){const t={},n=r.length;let i=0;for(;i<n;){let o,a;if([o,a,i]=DC(r,i),1===a){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==o)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,i]=$2(r,i)}else if(2===a){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==o)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let s;[s,i]=$2(r,i),t.Name=PO.decode(s)}else{if(3!==a)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${a}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==o)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[t.Tsize,i]=AM(r,i)}}if(i>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const CC=new TextEncoder,kC=2**32,PC=2**31;function RC(r,t){let n=t.length;if("number"==typeof r.Tsize){if(r.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(r.Tsize))throw new Error("Tsize too large for encoding");n=Zg(t,n,r.Tsize)-1,t[n]=24}if("string"==typeof r.Name){const i=CC.encode(r.Name);n-=i.length,t.set(i,n),n=Zg(t,n,i.length)-1,t[n]=18}return r.Hash&&(n-=r.Hash.length,t.set(r.Hash,n),n=Zg(t,n,r.Hash.length)-1,t[n]=10),t.length-n}function IM(r){let t=0;if(r.Hash){const n=r.Hash.length;t+=1+n+iy(n)}if("string"==typeof r.Name){const n=CC.encode(r.Name).length;t+=1+n+iy(n)}return"number"==typeof r.Tsize&&(t+=1+iy(r.Tsize)),t}function Zg(r,t,n){const i=t-=iy(n);for(;n>=PC;)r[t++]=127&n|128,n/=128;for(;n>=128;)r[t++]=127&n|128,n>>>=7;return r[t]=n,i}function iy(r){return r%2==0&&r++,Math.floor((function OC(r){let t=0;return r>=kC&&(r=Math.floor(r/kC),t=32),r>=65536&&(r>>>=16,t+=16),r>=256&&(r>>>=8,t+=8),t+z2[r]}(r)+6)/7)}const z2=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],DM=["Data","Links"],Tp=["Hash","Name","Tsize"],CM=new TextEncoder;function BC(r,t){if(r===t)return 0;const n=r.Name?CM.encode(r.Name):[],i=t.Name?CM.encode(t.Name):[];let o=n.length,a=i.length;for(let s=0,l=Math.min(o,a);s<l;++s)if(n[s]!==i[s]){o=n[s],a=i[s];break}return o<a?-1:a<o?1:0}function H2(r,t){return!Object.keys(r).some(n=>!t.includes(n))}function NC(r){if("object"==typeof r.asCID){const n=Ta.asCID(r);if(!n)throw new TypeError("Invalid DAG-PB form");return{Hash:n}}if("object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(r.Hash){let n=Ta.asCID(r.Hash);try{n||("string"==typeof r.Hash?n=Ta.parse(r.Hash):r.Hash instanceof Uint8Array&&(n=Ta.decode(r.Hash)))}catch(i){throw new TypeError(`Invalid DAG-PB form: ${i.message}`)}n&&(t.Hash=n)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof r.Name&&(t.Name=r.Name),"number"==typeof r.Tsize&&(t.Tsize=r.Tsize),t}function ku(r){if((r instanceof Uint8Array||"string"==typeof r)&&(r={Data:r}),"object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==r.Data)if("string"==typeof r.Data)t.Data=CM.encode(r.Data);else{if(!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=r.Data}if(void 0!==r.Links){if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form");t.Links=r.Links.map(NC),t.Links.sort(BC)}else t.Links=[];return t}function kM(r){if(!r||"object"!=typeof r||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form");if(!H2(r,DM))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==r.Data&&!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<r.Links.length;t++){const n=r.Links[t];if(!n||"object"!=typeof n||Array.isArray(n)||n instanceof Uint8Array||n["/"]&&n["/"]===n.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!H2(n,Tp))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==n.Hash||!n.Hash["/"]||n.Hash["/"]!==n.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!=typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize){if("number"!=typeof n.Tsize||n.Tsize%1!=0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(n.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===BC(n,r.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function oy(r,t=[]){return ku({Data:r,Links:t})}function Yg(r,t,n){return NC({Hash:n,Name:r,Tsize:t})}const _w="dag-pb",W2=112;function Ip(r){kM(r);const t={};return r.Links&&(t.Links=r.Links.map(n=>{const i={};return n.Hash&&(i.Hash=n.Hash.bytes),void 0!==n.Name&&(i.Name=n.Name),void 0!==n.Tsize&&(i.Tsize=n.Tsize),i})),r.Data&&(t.Data=r.Data),function V2(r){const t=function dU(r){let t=0;if(r.Data){const n=r.Data.length;t+=1+n+iy(n)}if(r.Links)for(const n of r.Links){const i=IM(n);t+=1+i+iy(i)}return t}(r),n=new Uint8Array(t);let i=t;if(r.Data&&(i-=r.Data.length,n.set(r.Data,i),i=Zg(n,i,r.Data.length)-1,n[i]=10),r.Links)for(let o=r.Links.length-1;o>=0;o--){const a=RC(r.Links[o],n.subarray(0,i));i-=a,i=Zg(n,i,a)-1,n[i]=18}return n}(t)}function Ew(r){const t=function PM(r){return r instanceof ArrayBuffer?new Uint8Array(r,0,r.byteLength):r}(r),n=function TM(r){const t=r.length;let i,a,n=0,o=!1;for(;n<t;){let l,R;if([l,R,n]=DC(r,n),2!==l)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${l}`);if(1===R){if(a)throw new Error("protobuf: (PBNode) duplicate Data section");[a,n]=$2(r,n),i&&(o=!0)}else{if(2!==R)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${R}`);{if(o)throw new Error("protobuf: (PBNode) duplicate Links section");let I;i||(i=[]),[I,n]=$2(r,n),i.push(kh(I))}}}if(n>t)throw new Error("protobuf: (PBNode) unexpected end of data");const s={};return a&&(s.Data=a),s.Links=i||[],s}(t),i={};return n.Data&&(i.Data=n.Data),n.Links&&(i.Links=n.Links.map(o=>{const a={};try{a.Hash=Ta.decode(o.Hash)}catch{}if(!a.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==o.Name&&(a.Name=o.Name),void 0!==o.Tsize&&(a.Tsize=o.Tsize),a})),i}var LC=E(3087);const RO=Math.pow(2,7),OO=Math.pow(2,14),BO=Math.pow(2,21),RM=Math.pow(2,28),G2=Math.pow(2,35),OM=Math.pow(2,42),Xg=Math.pow(2,49),ns=128,Rl=127;function xw(r){if(r<RO)return 1;if(r<OO)return 2;if(r<BO)return 3;if(r<RM)return 4;if(r<G2)return 5;if(r<OM)return 6;if(r<Xg)return 7;if(null!=Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function BM(r,t,n=0){switch(xw(r)){case 8:t[n++]=255&r|ns,r/=128;case 7:t[n++]=255&r|ns,r/=128;case 6:t[n++]=255&r|ns,r/=128;case 5:t[n++]=255&r|ns,r/=128;case 4:t[n++]=255&r|ns,r>>>=7;case 3:t[n++]=255&r|ns,r>>>=7;case 2:t[n++]=255&r|ns,r>>>=7;case 1:t[n++]=255&r,r>>>=7;break;default:throw new Error("unreachable")}return t}const Dp=new Float32Array([-0]),ac=new Uint8Array(Dp.buffer);function Sw(r,t,n){Dp[0]=r,t[n]=ac[0],t[n+1]=ac[1],t[n+2]=ac[2],t[n+3]=ac[3]}const Cm=new Float64Array([-0]),Lo=new Uint8Array(Cm.buffer);function FO(r,t,n){Cm[0]=r,t[n]=Lo[0],t[n+1]=Lo[1],t[n+2]=Lo[2],t[n+3]=Lo[3],t[n+4]=Lo[4],t[n+5]=Lo[5],t[n+6]=Lo[6],t[n+7]=Lo[7]}const jO=BigInt(Number.MAX_SAFE_INTEGER),mU=BigInt(Number.MIN_SAFE_INTEGER);class rd{lo;hi;constructor(t,n){this.lo=0|t,this.hi=0|n}toNumber(t=!1){if(!t&&this.hi>>>31>0){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(n+4294967296*i)}return this.lo+4294967296*this.hi}toBigInt(t=!1){if(t)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(BigInt(n)+(BigInt(i)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(t=!1){return this.toBigInt(t).toString()}zzEncode(){const t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this}zzDecode(){const t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}length(){const t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:i<128?9:10}static fromBigInt(t){if(0n===t)return Jg;if(t<jO&&t>mU)return this.fromNumber(Number(t));const n=t<0n;n&&(t=-t);let i=t>>32n,o=t-(i<<32n);return n&&(i=0n|~i,o=0n|~o,++o>KC&&(o=0n,++i>KC&&(i=0n))),new rd(Number(o),Number(i))}static fromNumber(t){if(0===t)return Jg;const n=t<0;n&&(t=-t);let i=t>>>0,o=(t-i)/4294967296>>>0;return n&&(o=~o>>>0,i=~i>>>0,++i>4294967295&&(i=0,++o>4294967295&&(o=0))),new rd(i,o)}static from(t){return"number"==typeof t?rd.fromNumber(t):"bigint"==typeof t?rd.fromBigInt(t):"string"==typeof t?rd.fromBigInt(BigInt(t)):null!=t.low||null!=t.high?new rd(t.low>>>0,t.high>>>0):Jg}}const Jg=new rd(0,0);Jg.toBigInt=function(){return 0n},Jg.zzEncode=Jg.zzDecode=function(){return this},Jg.length=function(){return 1};const KC=4294967296n;function Z2(r,t,n){const i=n;let o,a;for(let s=0;s<r.length;++s)o=r.charCodeAt(s),o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&56320==(64512&(a=r.charCodeAt(s+1)))?(o=65536+((1023&o)<<10)+(1023&a),++s,t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128);return n-i}function Od(r,t){return RangeError(`index out of range: ${r.pos} + ${t??1} > ${r.len}`)}function qg(r,t){return(r[t-4]|r[t-3]<<8|r[t-2]<<16|r[t-1]<<24)>>>0}class Y2{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(t){this.buf=t,this.pos=0,this.len=t.length}uint32(){let t=4294967295;if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Od(this,10);return t}int32(){return 0|this.uint32()}sint32(){const t=this.uint32();return t>>>1^-(1&t)}bool(){return 0!==this.uint32()}fixed32(){if(this.pos+4>this.len)throw Od(this,4);return qg(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw Od(this,4);return 0|qg(this.buf,this.pos+=4)}float(){if(this.pos+4>this.len)throw Od(this,4);const t=function UO(r,t){return ac[0]=r[t],ac[1]=r[t+1],ac[2]=r[t+2],ac[3]=r[t+3],Dp[0]}(this.buf,this.pos);return this.pos+=4,t}double(){if(this.pos+8>this.len)throw Od(this,4);const t=function hU(r,t){return Lo[0]=r[t],Lo[1]=r[t+1],Lo[2]=r[t+2],Lo[3]=r[t+3],Lo[4]=r[t+4],Lo[5]=r[t+5],Lo[6]=r[t+6],Lo[7]=r[t+7],Cm[0]}(this.buf,this.pos);return this.pos+=8,t}bytes(){const t=this.uint32(),n=this.pos,i=this.pos+t;if(i>this.len)throw Od(this,t);return this.pos+=t,n===i?new Uint8Array(0):this.buf.subarray(n,i)}string(){const t=this.bytes();return function $O(r,t,n){if(n-t<1)return"";let o;const a=[];let l,s=0;for(;t<n;)l=r[t++],l<128?a[s++]=l:l>191&&l<224?a[s++]=(31&l)<<6|63&r[t++]:l>239&&l<365?(l=((7&l)<<18|(63&r[t++])<<12|(63&r[t++])<<6|63&r[t++])-65536,a[s++]=55296+(l>>10),a[s++]=56320+(1023&l)):a[s++]=(15&l)<<12|(63&r[t++])<<6|63&r[t++],s>8191&&((o??(o=[])).push(String.fromCharCode.apply(String,a)),s=0);return null!=o?(s>0&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))}(t,0,t.length)}skip(t){if("number"==typeof t){if(this.pos+t>this.len)throw Od(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw Od(this)}while(128&this.buf[this.pos++]);return this}skipType(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${t} at offset ${this.pos}`)}return this}readLongVarint(){const t=new rd(0,0);let n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw Od(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw Od(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw Od(this,8);const t=qg(this.buf,this.pos+=4),n=qg(this.buf,this.pos+=4);return new rd(t,n)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){const t=function UC(r,t){let n=r[t],i=0;if(i+=n&Rl,n<ns||(n=r[t+1],i+=(n&Rl)<<7,n<ns)||(n=r[t+2],i+=(n&Rl)<<14,n<ns)||(n=r[t+3],i+=(n&Rl)<<21,n<ns)||(n=r[t+4],i+=(n&Rl)*RM,n<ns)||(n=r[t+5],i+=(n&Rl)*G2,n<ns)||(n=r[t+6],i+=(n&Rl)*OM,n<ns)||(n=r[t+7],i+=(n&Rl)*Xg,n<ns))return i;throw new RangeError("Could not decode varint")}(this.buf,this.pos);return this.pos+=xw(t),t}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function sy(r,t,n){const i=function $C(r){return new Y2(r instanceof Uint8Array?r:r.subarray())}(r);return t.decode(i,void 0,n)}class Mw{fn;len;next;val;constructor(t,n,i){this.fn=t,this.len=n,this.next=void 0,this.val=i}}function ay(){}class zC{head;tail;len;next;constructor(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}}const HC=function VC(r){const t=r??8192,n=t>>>1;let i,o=t;return function(s){if(s<1||s>n)return hm(s);o+s>t&&(i=hm(t),o=0);const l=i.subarray(o,o+=s);return 7&o&&(o=1+(7|o)),l}}();class X2{len;head;tail;states;constructor(){this.len=0,this.head=new Mw(ay,0,0),this.tail=this.head,this.states=null}_push(t,n,i){return this.tail=this.tail.next=new Mw(t,n,i),this.len+=n,this}uint32(t){return this.len+=(this.tail=this.tail.next=new zO((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this}int32(t){return t<0?this._push(km,10,rd.fromNumber(t)):this.uint32(t)}sint32(t){return this.uint32((t<<1^t>>31)>>>0)}uint64(t){const n=rd.fromBigInt(t);return this._push(km,n.length(),n)}uint64Number(t){return this._push(BM,xw(t),t)}uint64String(t){return this.uint64(BigInt(t))}int64(t){return this.uint64(t)}int64Number(t){return this.uint64Number(t)}int64String(t){return this.uint64String(t)}sint64(t){const n=rd.fromBigInt(t).zzEncode();return this._push(km,n.length(),n)}sint64Number(t){const n=rd.fromNumber(t).zzEncode();return this._push(km,n.length(),n)}sint64String(t){return this.sint64(BigInt(t))}bool(t){return this._push(NM,1,t?1:0)}fixed32(t){return this._push(Aw,4,t>>>0)}sfixed32(t){return this.fixed32(t)}fixed64(t){const n=rd.fromBigInt(t);return this._push(Aw,4,n.lo)._push(Aw,4,n.hi)}fixed64Number(t){const n=rd.fromNumber(t);return this._push(Aw,4,n.lo)._push(Aw,4,n.hi)}fixed64String(t){return this.fixed64(BigInt(t))}sfixed64(t){return this.fixed64(t)}sfixed64Number(t){return this.fixed64Number(t)}sfixed64String(t){return this.fixed64String(t)}float(t){return this._push(Sw,4,t)}double(t){return this._push(FO,8,t)}bytes(t){const n=t.length>>>0;return 0===n?this._push(NM,1,0):this.uint32(n)._push(HO,n,t)}string(t){const n=function KO(r){let t=0,n=0;for(let i=0;i<r.length;++i)n=r.charCodeAt(i),n<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&r.charCodeAt(i+1))?(++i,t+=4):t+=3;return t}(t);return 0!==n?this.uint32(n)._push(Z2,n,t):this._push(NM,1,0)}fork(){return this.states=new zC(this),this.head=this.tail=new Mw(ay,0,0),this.len=0,this}reset(){return null!=this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Mw(ay,0,0),this.len=0),this}ldelim(){const t=this.head,n=this.tail,i=this.len;return this.reset().uint32(i),0!==i&&(this.tail.next=t.next,this.tail=n,this.len+=i),this}finish(){let t=this.head.next;const n=function WC(r){return null!=globalThis.Buffer?hm(r):HC(r)}(this.len);let i=0;for(;null!=t;)t.fn(t.val,n,i),i+=t.len,t=t.next;return n}}function NM(r,t,n){t[n]=255&r}function VO(r,t,n){for(;r>127;)t[n++]=127&r|128,r>>>=7;t[n]=r}class zO extends Mw{next;constructor(t,n){super(VO,t,n),this.next=void 0}}function km(r,t,n){for(;0!==r.hi;)t[n++]=127&r.lo|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)t[n++]=127&r.lo|128,r.lo=r.lo>>>7;t[n++]=r.lo}function Aw(r,t,n){t[n]=255&r,t[n+1]=r>>>8&255,t[n+2]=r>>>16&255,t[n+3]=r>>>24}function HO(r,t,n){t.set(r,n)}function WO(r,t,n){t.set(r,n)}function J2(r,t,n){r.length<40?Z2(r,t,n):null!=t.utf8Write?t.utf8Write(r,n):t.set(q1(r),n)}function q2(r,t){const n=function GC(){return new X2}();return t.encode(r,n,{lengthDelimited:!1}),n.finish()}null!=globalThis.Buffer&&(X2.prototype.bytes=function(r){const t=r.length>>>0;return this.uint32(t),t>0&&this._push(WO,t,r),this},X2.prototype.string=function(r){const t=globalThis.Buffer.byteLength(r);return this.uint32(t),t>0&&this._push(J2,t,r),this});var Ph,eE,XC,Q2=function(r){return r[r.VARINT=0]="VARINT",r[r.BIT64=1]="BIT64",r[r.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",r[r.START_GROUP=3]="START_GROUP",r[r.END_GROUP=4]="END_GROUP",r[r.BIT32=5]="BIT32",r}(Q2||{});function ZC(r,t,n,i){return{name:r,type:t,encode:n,decode:i}}function Tw(r,t){return ZC("message",Q2.LENGTH_DELIMITED,r,t)}Error,function(r){let t;var o;let n,i;(o=t=r.DataType||(r.DataType={})).Raw="Raw",o.Directory="Directory",o.File="File",o.Metadata="Metadata",o.Symlink="Symlink",o.HAMTShard="HAMTShard",function(o){o[o.Raw=0]="Raw",o[o.Directory=1]="Directory",o[o.File=2]="File",o[o.Metadata=3]="Metadata",o[o.Symlink=4]="Symlink",o[o.HAMTShard=5]="HAMTShard"}(n||(n={})),function(o){o.codec=()=>function YC(r){function t(o){if(null==r[o.toString()])throw new Error("Invalid enum value");return r[o]}return ZC("enum",Q2.VARINT,function(a,s){const l=t(a);s.int32(l)},function(a){return t(a.int32())})}(n)}(t=r.DataType||(r.DataType={})),r.codec=()=>(null==i&&(i=Tw((o,a,s={})=>{if(!1!==s.lengthDelimited&&a.fork(),null!=o.Type&&(a.uint32(8),r.DataType.codec().encode(o.Type,a)),null!=o.Data&&(a.uint32(18),a.bytes(o.Data)),null!=o.filesize&&(a.uint32(24),a.uint64(o.filesize)),null!=o.blocksizes)for(const l of o.blocksizes)a.uint32(32),a.uint64(l);null!=o.hashType&&(a.uint32(40),a.uint64(o.hashType)),null!=o.fanout&&(a.uint32(48),a.uint64(o.fanout)),null!=o.mode&&(a.uint32(56),a.uint32(o.mode)),null!=o.mtime&&(a.uint32(66),eE.codec().encode(o.mtime,a)),!1!==s.lengthDelimited&&a.ldelim()},(o,a)=>{const s={blocksizes:[]},l=null==a?o.len:o.pos+a;for(;o.pos<l;){const R=o.uint32();switch(R>>>3){case 1:s.Type=r.DataType.codec().decode(o);break;case 2:s.Data=o.bytes();break;case 3:s.filesize=o.uint64();break;case 4:s.blocksizes.push(o.uint64());break;case 5:s.hashType=o.uint64();break;case 6:s.fanout=o.uint64();break;case 7:s.mode=o.uint32();break;case 8:s.mtime=eE.codec().decode(o,o.uint32());break;default:o.skipType(7&R)}}return s})),i),r.encode=o=>q2(o,r.codec()),r.decode=o=>sy(o,r.codec())}(Ph||(Ph={})),function(r){let t;r.codec=()=>(null==t&&(t=Tw((n,i,o={})=>{!1!==o.lengthDelimited&&i.fork(),null!=n.Seconds&&(i.uint32(8),i.int64(n.Seconds)),null!=n.FractionalNanoseconds&&(i.uint32(21),i.fixed32(n.FractionalNanoseconds)),!1!==o.lengthDelimited&&i.ldelim()},(n,i)=>{const o={},a=null==i?n.len:n.pos+i;for(;n.pos<a;){const s=n.uint32();switch(s>>>3){case 1:o.Seconds=n.int64();break;case 2:o.FractionalNanoseconds=n.fixed32();break;default:n.skipType(7&s)}}return o})),t),r.encode=n=>q2(n,r.codec()),r.decode=n=>sy(n,r.codec())}(eE||(eE={})),function(r){let t;r.codec=()=>(null==t&&(t=Tw((n,i,o={})=>{!1!==o.lengthDelimited&&i.fork(),null!=n.MimeType&&(i.uint32(10),i.string(n.MimeType)),!1!==o.lengthDelimited&&i.ldelim()},(n,i)=>{const o={},a=null==i?n.len:n.pos+i;for(;n.pos<a;){const s=n.uint32();s>>>3==1?o.MimeType=n.string():n.skipType(7&s)}return o})),t),r.encode=n=>q2(n,r.codec()),r.decode=n=>sy(n,r.codec())}(XC||(XC={}));const JC={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},GO=["directory","hamt-sharded-directory"],qC=parseInt("0644",8),tE=parseInt("0755",8);class Bd{static unmarshal(t){const n=Ph.decode(t),i=new Bd({type:JC[null!=n.Type?n.Type.toString():"File"],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:null!=n.mtime?{secs:n.mtime.Seconds??0n,nsecs:n.mtime.FractionalNanoseconds}:void 0,fanout:n.fanout});return i._originalMode=n.mode??0,i}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(t={type:"file"}){const{type:n,data:i,blockSizes:o,hashType:a,fanout:s,mtime:l,mode:R}=t;if(null!=n&&!Object.values(JC).includes(n))throw LC(new Error("Type: "+n+" is not valid"),"ERR_INVALID_TYPE");this.type=n??"file",this.data=i,this.hashType=a,this.fanout=s,this.blockSizes=o??[],this._originalMode=0,this.mode=R,this.mtime=l}set mode(t){this._mode=null==t?this.isDirectory()?tE:qC:4095&t}get mode(){return this._mode}isDirectory(){return GO.includes(this.type)}addBlockSize(t){this.blockSizes.push(t)}removeBlockSize(t){this.blockSizes.splice(t,1)}fileSize(){if(this.isDirectory())return 0n;let t=0n;return this.blockSizes.forEach(n=>{t+=n}),null!=this.data&&(t+=BigInt(this.data.length)),t}marshal(){let t;switch(this.type){case"raw":t=Ph.DataType.Raw;break;case"directory":t=Ph.DataType.Directory;break;case"file":t=Ph.DataType.File;break;case"metadata":t=Ph.DataType.Metadata;break;case"symlink":t=Ph.DataType.Symlink;break;case"hamt-sharded-directory":t=Ph.DataType.HAMTShard;break;default:throw LC(new Error(`Type: ${t} is not valid`),"ERR_INVALID_TYPE")}let i,o,n=this.data;return(null==this.data||0===this.data.length)&&(n=void 0),null!=this.mode&&(i=4294963200&this._originalMode|(this.mode??0),i===qC&&!this.isDirectory()&&(i=void 0),i===tE&&this.isDirectory()&&(i=void 0)),null!=this.mtime&&(o={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),Ph.encode({Type:t,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:i,mtime:o})}}const QC="raw",Qg=85,ZO=r=>Le(r),Iw=r=>Le(r);class Nd extends Event{type;detail;constructor(t,n){super(t),this.type=t,this.detail=n}}const Dw=function(){var r=(0,m.A)(function*(t,n,i){null==i.codec&&(i.codec=q);const o=yield st.digest(t),a=uo.create(i.cidVersion,i.codec.code,o);return yield n.put(a,t,i),a});return function(n,i,o){return r.apply(this,arguments)}}();function YO(r){return function(){var t=No(function*(i,o){let a=0n;var R,s=!1,l=!1;try{for(var y,I=oo(i.content);s=!(y=yield Zr(I.next())).done;s=!1){let L=y.value;yield(0,m.A)(function*(){let ye;const Te={codec:q,cidVersion:r.cidVersion,onProgress:r.onProgress};r.rawLeaves?(Te.codec=ne,Te.cidVersion=1):(ye=new Bd({type:r.leafType,data:L}),L=Ip({Data:ye.marshal(),Links:[]}));const Me=yield Dw(L,o,Te);return a+=BigInt(L.byteLength),r.onProgress?.(new Nd("unixfs:importer:progress:file:write",{bytesWritten:a,cid:Me,path:i.path})),{cid:Me,unixfs:ye,size:BigInt(L.length),block:L}})}}catch(L){l=!0,R=L}finally{try{s&&null!=I.return&&(yield Zr(I.return()))}finally{if(l)throw R}}});return function n(i,o){return t.apply(this,arguments)}}()}function Kf(r){var t={},n=!1;function i(o,a){return n=!0,{done:!1,value:new pC(a=new Promise(function(s){s(r[o](a))}),1)}}return t[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(o){return n?(n=!1,o):i("next",o)},"function"==typeof r.throw&&(t.throw=function(o){if(n)throw n=!1,o;return i("throw",o)}),"function"==typeof r.return&&(t.return=function(o){return n?(n=!1,o):i("return",o)}),t}const UM=function(){var r=(0,m.A)(function*(t,n,i){const o=new Bd({type:"directory",mtime:t.mtime,mode:t.mode}),a=Ip(ku({Data:o.marshal()}));return{cid:yield Dw(a,n,i),path:t.path,unixfs:o,size:BigInt(a.length),originalPath:t.originalPath,block:a}});return function(n,i,o){return r.apply(this,arguments)}}();function nE(){return nE=No(function*(r,t,n){let o,i=-1;var l,a=!1,s=!1;try{for(var I,R=oo(lM(n.bufferImporter(r,t),n.blockWriteConcurrency));a=!(I=yield Zr(R.next())).done;a=!1){const y=I.value;i++,0!==i?(1===i&&null!=o&&(yield{...o,block:void 0,single:void 0},o=void 0),yield{...y,block:void 0}):o={...y,single:!0}}}catch(y){s=!0,l=y}finally{try{a&&null!=R.return&&(yield Zr(R.return()))}finally{if(s)throw l}}null!=o&&(yield o)}),nE.apply(this,arguments)}function e6(r){return!0===r.single}const t6=(r,t,n)=>function(){var o=(0,m.A)(function*(a){if(1===a.length&&e6(a[0])&&n.reduceSingleLeafToSelf){const L=a[0];let ye=L.block;return e6(L)&&(void 0!==r.mtime||void 0!==r.mode)&&(L.unixfs=new Bd({type:"file",mtime:r.mtime,mode:r.mode,data:L.block}),ye={Data:L.unixfs.marshal(),Links:[]},L.block=Ip(ku(ye)),L.cid=yield Dw(L.block,t,{...n,cidVersion:n.cidVersion}),L.size=BigInt(L.block.length)),n.onProgress?.(new Nd("unixfs:importer:progress:file:layout",{cid:L.cid,path:L.originalPath})),{cid:L.cid,path:r.path,unixfs:L.unixfs,size:L.size,originalPath:L.originalPath}}const s=new Bd({type:"file",mtime:r.mtime,mode:r.mode}),l=a.filter(L=>L.cid.code===Qg&&L.size>0||null!=L.unixfs&&null==L.unixfs.data&&L.unixfs.fileSize()>0n||!!L.unixfs?.data?.length).map(L=>L.cid.code===Qg?(s.addBlockSize(L.size),{Name:"",Tsize:Number(L.size),Hash:L.cid}):(s.addBlockSize(null==L.unixfs||null==L.unixfs.data?L.unixfs?.fileSize()??0n:BigInt(L.unixfs.data.length)),{Name:"",Tsize:Number(L.size),Hash:L.cid})),R={Data:s.marshal(),Links:l},I=Ip(ku(R)),y=yield Dw(I,t,n);return n.onProgress?.(new Nd("unixfs:importer:progress:file:layout",{cid:y,path:r.originalPath})),{cid:y,path:r.path,unixfs:s,size:BigInt(I.length+R.Links.reduce((L,ye)=>L+(ye.Tsize??0),0)),originalPath:r.originalPath,block:I}});return function(s){return o.apply(this,arguments)}}(),n6=function(){var r=(0,m.A)(function*(t,n,i){return i.layout(function XO(r,t,n){return nE.apply(this,arguments)}(t,n,i),t6(t,n,i))});return function(n,i,o){return r.apply(this,arguments)}}();function JO(r){try{if(r instanceof Uint8Array)return No(function*(){yield r})();if(function r6(r){return Symbol.iterator in r}(r))return No(function*(){yield*Kf(oo(r))})();if(function FM(r){return Symbol.asyncIterator in r}(r))return r}catch{throw Vg(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw Vg(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function QO(r){return null!=r.content}function i6(r){return null!=globalThis.Buffer?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}const n4=function e4(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var a=r.charAt(o),s=a.charCodeAt(0);if(255!==n[s])throw new TypeError(a+" is ambiguous");n[s]=o}var l=r.length,R=r.charAt(0),I=Math.log(l)/Math.log(256),y=Math.log(256)/Math.log(l);function ye(Me){if("string"!=typeof Me)throw new TypeError("Expected String");if(0===Me.length)return new Uint8Array;var Ce=0;if(" "!==Me[Ce]){for(var je=0,Je=0;Me[Ce]===R;)je++,Ce++;for(var ze=(Me.length-Ce)*I+1>>>0,He=new Uint8Array(ze);Me[Ce];){var rt=n[Me.charCodeAt(Ce)];if(255===rt)return;for(var yt=0,ct=ze-1;(0!==rt||yt<Je)&&-1!==ct;ct--,yt++)He[ct]=(rt+=l*He[ct]>>>0)%256>>>0,rt=rt/256>>>0;if(0!==rt)throw new Error("Non-zero carry");Je=yt,Ce++}if(" "!==Me[Ce]){for(var _t=ze-Je;_t!==ze&&0===He[_t];)_t++;for(var It=new Uint8Array(je+(ze-_t)),Jt=je;_t!==ze;)It[Jt++]=He[_t++];return It}}}return{encode:function L(Me){if(Me instanceof Uint8Array||(ArrayBuffer.isView(Me)?Me=new Uint8Array(Me.buffer,Me.byteOffset,Me.byteLength):Array.isArray(Me)&&(Me=Uint8Array.from(Me))),!(Me instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Me.length)return"";for(var Ce=0,je=0,Je=0,ze=Me.length;Je!==ze&&0===Me[Je];)Je++,Ce++;for(var He=(ze-Je)*y+1>>>0,rt=new Uint8Array(He);Je!==ze;){for(var yt=Me[Je],ct=0,_t=He-1;(0!==yt||ct<je)&&-1!==_t;_t--,ct++)rt[_t]=(yt+=256*rt[_t]>>>0)%l>>>0,yt=yt/l>>>0;if(0!==yt)throw new Error("Non-zero carry");je=ct,Je++}for(var It=He-je;It!==He&&0===rt[It];)It++;for(var Jt=R.repeat(Ce);It<He;++It)Jt+=r.charAt(rt[It]);return Jt},decodeUnsafe:ye,decode:function Te(Me){var Ce=ye(Me);if(Ce)return Ce;throw new Error(`Non-${t} character`)}}},Pm=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class s6{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class o4{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return a6(this,t)}}class s4{constructor(t){this.decoders=t}or(t){return a6(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const a6=(r,t)=>new s4({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class a4{constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new s6(t,n,i),this.decoder=new o4(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const rE=({name:r,prefix:t,encode:n,decode:i})=>new a4(r,t,n,i),nv=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:o}=n4(n,t);return rE({prefix:r,name:t,encode:i,decode:a=>Pm(o(a))})},cc=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>rE({prefix:t,name:r,encode:o=>((r,t,n)=>{const i="="===t[t.length-1],o=(1<<n)-1;let a="",s=0,l=0;for(let R=0;R<r.length;++R)for(l=l<<8|r[R],s+=8;s>n;)s-=n,a+=t[o&l>>s];if(s&&(a+=t[o&l<<n-s]),i)for(;a.length*n&7;)a+="=";return a})(o,i,n),decode:o=>((r,t,n,i)=>{const o={};for(let y=0;y<t.length;++y)o[t[y]]=y;let a=r.length;for(;"="===r[a-1];)--a;const s=new Uint8Array(a*n/8|0);let l=0,R=0,I=0;for(let y=0;y<a;++y){const L=o[r[y]];if(void 0===L)throw new SyntaxError(`Non-${i} character`);R=R<<n|L,l+=n,l>=8&&(l-=8,s[I++]=255&R>>l)}if(l>=n||255&R<<8-l)throw new SyntaxError("Unexpected end of data");return s})(o,i,n,r)}),l4=nv({prefix:"9",name:"base10",alphabet:"0123456789"}),d4=cc({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),l6=cc({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),u4=cc({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),d6=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),cy=d6.reduce((r,t,n)=>(r[n]=t,r),[]),ly=d6.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),u6=rE({prefix:"\u{1f680}",name:"base256emoji",encode:function kw(r){return r.reduce((t,n)=>t+cy[n],"")},decode:function gU(r){const t=[];for(const n of r){const i=ly[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),Pw=cc({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),f6=cc({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),f4=cc({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),h6=cc({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vU=cc({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),h4=cc({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Rw=cc({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),KM=cc({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),p4=cc({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),m4=nv({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),y4=nv({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Rm=nv({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),p6=nv({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),id=cc({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),m6=cc({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),y6=cc({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),g6=cc({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),bU=cc({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),ea=rE({prefix:"\0",name:"identity",encode:r=>(r=>(new TextDecoder).decode(r))(r),decode:r=>(r=>(new TextEncoder).encode(r))(r)}),g4=new TextEncoder,$M=new TextDecoder,v4="json",b4=512,VM=r=>g4.encode(JSON.stringify(r)),v6=r=>JSON.parse($M.decode(r)),b6="raw",zM=85,w4=r=>Pm(r),_4=r=>Pm(r);var _6=128,E6=-128,HM=Math.pow(2,31),E4=128,GM=127,x4=Math.pow(2,7),iE=Math.pow(2,14),YM=Math.pow(2,21),Om=Math.pow(2,28),oE=Math.pow(2,35),S6=Math.pow(2,42),Ow=Math.pow(2,49),S4=Math.pow(2,56),M4=Math.pow(2,63),M6={encode:function WM(r,t,n){t=t||[];for(var i=n=n||0;r>=HM;)t[n++]=255&r|_6,r/=128;for(;r&E6;)t[n++]=255&r|_6,r>>>=7;return t[n]=0|r,WM.bytes=n-i+1,t},decode:function ZM(r,i){var s,n=0,o=0,a=i=i||0,l=r.length;do{if(a>=l)throw ZM.bytes=0,new RangeError("Could not decode varint");s=r[a++],n+=o<28?(s&GM)<<o:(s&GM)*Math.pow(2,o),o+=7}while(s>=E4);return ZM.bytes=a-i,n},encodingLength:function(r){return r<x4?1:r<iE?2:r<YM?3:r<Om?4:r<oE?5:r<S6?6:r<Ow?7:r<S4?8:r<M4?9:10}};const Nm=M6,dy=(r,t,n=0)=>(Nm.encode(r,t,n),t),Bw=r=>Nm.encodingLength(r),Nw=(r,t)=>{const n=t.byteLength,i=Bw(r),o=i+Bw(n),a=new Uint8Array(o+n);return dy(r,a,0),dy(n,a,i),a.set(t,o),new JM(r,n,t,a)};class JM{constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}const I6=Pm,I4={code:0,name:"identity",encode:I6,digest:r=>Nw(0,I6(r))},D6=({name:r,code:t,encode:n})=>new D4(r,t,n);class D4{constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Nw(this.code,n):n.then(i=>Nw(this.code,i))}throw Error("Unknown type, must be binary type")}}const Uw=r=>function(){var t=(0,m.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),C4=D6({name:"sha2-256",code:18,encode:Uw("SHA-256")}),k4=D6({name:"sha2-512",code:19,encode:Uw("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const aE={...h,...ue,...u,...se,...oe,...ve,..._e,...De,...P,...ae};function N6(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const L6=N6("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),nA=N6("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=function B4(r=0){return null!=globalThis.Buffer?.allocUnsafe?i6(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),rA={utf8:L6,"utf-8":L6,hex:aE.base16,latin1:nA,ascii:nA,binary:nA,...aE};function iA(r,t="utf8"){const n=rA[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${r}`):i6(globalThis.Buffer.from(r,"utf-8"))}const U6=()=>function(){var r=No(function*(n){var a,i=!1,o=!1;try{for(var l,s=oo(n);i=!(l=yield Zr(s.next())).done;i=!1){const R=l.value;if(void 0===R.length)throw Vg(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof R||R instanceof String)yield iA(R.toString());else if(Array.isArray(R))yield Uint8Array.from(R);else{if(!(R instanceof Uint8Array))throw Vg(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield R}}}catch(R){o=!0,a=R}finally{try{i&&null!=s.return&&(yield Zr(s.return()))}finally{if(o)throw a}}});return function t(n){return r.apply(this,arguments)}}(),F6=174;function j6(r){const t=r?.maxChildrenPerNode??F6;return function(){var n=(0,m.A)(function*(o,a){const s=[];var I,l=!1,R=!1;try{for(var L,y=oo(P2(o,t));l=!(L=yield y.next()).done;l=!1){const ye=L.value;s.push(yield a(ye))}}catch(ye){R=!0,I=ye}finally{try{l&&null!=y.return&&(yield y.return())}finally{if(R)throw I}}return s.length>1?i(s,a):s[0]});function i(o,a){return n.apply(this,arguments)}return i}()}class uy{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(t,n){this.options=n??{},this.root=t.root,this.dir=t.dir,this.path=t.path,this.dirty=t.dirty,this.flat=t.flat,this.parent=t.parent,this.parentKey=t.parentKey,this.unixfs=t.unixfs,this.mode=t.mode,this.mtime=t.mtime}}const V6=uo.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),z6=uo.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");class lE extends uy{_children;constructor(t,n){super(t,n),this._children=new Map}put(t,n){var i=this;return(0,m.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,i._children.set(t,n)})()}get(t){var n=this;return(0,m.A)(function*(){return Promise.resolve(n._children.get(t))})()}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}eachChildSeries(){var t=this;return No(function*(){for(const[n,i]of t._children.entries())yield{key:n,child:i}})()}estimateNodeSize(){if(void 0!==this.nodeSize)return this.nodeSize;this.nodeSize=0;for(const[t,n]of this._children.entries())null!=n.size&&null!=n.cid&&(this.nodeSize+=t.length+(1===this.options.cidVersion?z6.bytes.byteLength:V6.bytes.byteLength));return this.nodeSize}flush(t){var n=this;return No(function*(){const i=[];for(const[Me,Ce]of n._children.entries()){let je=Ce;if(Ce instanceof uy){var s,o=!1,a=!1;try{for(var R,l=oo(Ce.flush(t));o=!(R=yield Zr(l.next())).done;o=!1){const Je=R.value;je=Je,yield Je}}catch(Je){a=!0,s=Je}finally{try{o&&null!=l.return&&(yield Zr(l.return()))}finally{if(a)throw s}}}null!=je.size&&null!=je.cid&&i.push({Name:Me,Tsize:Number(je.size),Hash:je.cid})}const I=new Bd({type:"directory",mtime:n.mtime,mode:n.mode}),y={Data:I.marshal(),Links:i},L=Ip(ku(y)),ye=yield Zr(Dw(L,t,n.options)),Te=L.length+y.Links.reduce((Me,Ce)=>Me+(null==Ce.Tsize?0:Ce.Tsize),0);n.cid=ye,n.size=Te,yield{cid:ye,unixfs:I,path:n.path,size:BigInt(Te)}})()}}const H6=new Uint8Array(0);function dE(r){const t=r.match(/../g);return null!=t?new Uint8Array(t.map(n=>parseInt(n,16))):H6}const xU=function G6(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var a=r.charAt(o),s=a.charCodeAt(0);if(255!==n[s])throw new TypeError(a+" is ambiguous");n[s]=o}var l=r.length,R=r.charAt(0),I=Math.log(l)/Math.log(256),y=Math.log(256)/Math.log(l);function ye(Me){if("string"!=typeof Me)throw new TypeError("Expected String");if(0===Me.length)return new Uint8Array;var Ce=0;if(" "!==Me[Ce]){for(var je=0,Je=0;Me[Ce]===R;)je++,Ce++;for(var ze=(Me.length-Ce)*I+1>>>0,He=new Uint8Array(ze);Me[Ce];){var rt=n[Me.charCodeAt(Ce)];if(255===rt)return;for(var yt=0,ct=ze-1;(0!==rt||yt<Je)&&-1!==ct;ct--,yt++)He[ct]=(rt+=l*He[ct]>>>0)%256>>>0,rt=rt/256>>>0;if(0!==rt)throw new Error("Non-zero carry");Je=yt,Ce++}if(" "!==Me[Ce]){for(var _t=ze-Je;_t!==ze&&0===He[_t];)_t++;for(var It=new Uint8Array(je+(ze-_t)),Jt=je;_t!==ze;)It[Jt++]=He[_t++];return It}}}return{encode:function L(Me){if(Me instanceof Uint8Array||(ArrayBuffer.isView(Me)?Me=new Uint8Array(Me.buffer,Me.byteOffset,Me.byteLength):Array.isArray(Me)&&(Me=Uint8Array.from(Me))),!(Me instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Me.length)return"";for(var Ce=0,je=0,Je=0,ze=Me.length;Je!==ze&&0===Me[Je];)Je++,Ce++;for(var He=(ze-Je)*y+1>>>0,rt=new Uint8Array(He);Je!==ze;){for(var yt=Me[Je],ct=0,_t=He-1;(0!==yt||ct<je)&&-1!==_t;_t--,ct++)rt[_t]=(yt+=256*rt[_t]>>>0)%l>>>0,yt=yt/l>>>0;if(0!==yt)throw new Error("Non-zero carry");je=ct,Je++}for(var It=He-je;It!==He&&0===rt[It];)It++;for(var Jt=R.repeat(Ce);It<He;++It)Jt+=r.charAt(rt[It]);return Jt},decodeUnsafe:ye,decode:function Te(Me){var Ce=ye(Me);if(Ce)return Ce;throw new Error(`Non-${t} character`)}}};class Z6{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class V4{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return H4(this,t)}}class z4{decoders;constructor(t){this.decoders=t}or(t){return H4(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function H4(r,t){return new z4({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class Y6{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new Z6(t,n,i),this.decoder=new V4(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function oA({name:r,prefix:t,encode:n,decode:i}){return new Y6(r,t,n,i)}function sA({name:r,prefix:t,alphabet:n}){const{encode:i,decode:o}=xU(n,r);return oA({prefix:t,name:r,encode:i,decode:a=>function uE(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}(o(a))})}function Lm({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return oA({prefix:t,name:r,encode:o=>function G4(r,t,n){const i="="===t[t.length-1],o=(1<<n)-1;let a="",s=0,l=0;for(let R=0;R<r.length;++R)for(l=l<<8|r[R],s+=8;s>n;)s-=n,a+=t[o&l>>s];if(0!==s&&(a+=t[o&l<<n-s]),i)for(;a.length*n&7;)a+="=";return a}(o,i,n),decode:o=>function W4(r,t,n,i){const o={};for(let y=0;y<t.length;++y)o[t[y]]=y;let a=r.length;for(;"="===r[a-1];)--a;const s=new Uint8Array(a*n/8|0);let l=0,R=0,I=0;for(let y=0;y<a;++y){const L=o[r[y]];if(void 0===L)throw new SyntaxError(`Non-${i} character`);R=R<<n|L,l+=n,l>=8&&(l-=8,s[I++]=255&R>>l)}if(l>=n||255&R<<8-l)throw new SyntaxError("Unexpected end of data");return s}(o,i,n,r)})}Lm({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Lm({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Lm({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Lm({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Lm({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Lm({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Lm({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Lm({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Lm({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),sA({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),sA({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var X4=128,q4=-128,Q4=Math.pow(2,31),eB=128,cA=127,q6=Math.pow(2,7),AU=Math.pow(2,14),tB=Math.pow(2,21),Q6=Math.pow(2,28),lA=Math.pow(2,35),nB=Math.pow(2,42),rB=Math.pow(2,49),hE=Math.pow(2,56),iB=Math.pow(2,63),sB={encode:function Kw(r,t,n){t=t||[];for(var i=n=n||0;r>=Q4;)t[n++]=255&r|X4,r/=128;for(;r&q4;)t[n++]=255&r|X4,r>>>=7;return t[n]=0|r,Kw.bytes=n-i+1,t},decode:function J6(r,i){var s,n=0,o=0,a=i=i||0,l=r.length;do{if(a>=l)throw J6.bytes=0,new RangeError("Could not decode varint");s=r[a++],n+=o<28?(s&cA)<<o:(s&cA)*Math.pow(2,o),o+=7}while(s>=eB);return J6.bytes=a-i,n},encodingLength:function(r){return r<q6?1:r<AU?2:r<tB?3:r<Q6?4:r<lA?5:r<nB?6:r<rB?7:r<hE?8:r<iB?9:10}};const pE=sB;function $w(r,t,n=0){return pE.encode(r,t,n),t}function Vw(r){return pE.encodingLength(r)}function mE(r,t){const n=t.byteLength,i=Vw(r),o=i+Vw(n),a=new Uint8Array(o+n);return $w(r,a,0),$w(n,a,i),a.set(t,o),new yE(r,n,t,a)}class yE{code;size;digest;bytes;constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}function fA({name:r,code:t,encode:n}){return new hB(r,t,n)}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class hB{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?mE(this.code,n):n.then(i=>mE(this.code,i))}throw Error("Unknown type, must be binary type")}}var zw=E(13026);fA({name:"murmur3-32",code:35,encode:r=>function pB(r){const t=new Array(4);for(let n=0;n<4;n++)t[n]=255&r,r>>=8;return new Uint8Array(t)}(zw.x86.hash32(r))});const iv=fA({name:"murmur3-128",code:34,encode:r=>dE(zw.x64.hash128(r))});fA({name:"murmur3-x64-64",code:34,encode:r=>dE(zw.x64.hash128(r)).subarray(0,8)});var py=E(18876);class sd{_options;_popCount;_parent;_posAtParent;_children;key;constructor(t,n,i=0){this._options=t,this._popCount=0,this._parent=n,this._posAtParent=i,this._children=new py,this.key=null}put(t,n){var i=this;return(0,m.A)(function*(){const o=yield i._findNewBucketAndPos(t);o.bucket._putAt(o,t,n)})()}get(t){var n=this;return(0,m.A)(function*(){const i=yield n._findChild(t);if(null!=i)return i.value})()}del(t){var n=this;return(0,m.A)(function*(){const i=yield n._findPlace(t),o=i.bucket._at(i.pos);null!=o&&o.key===t&&i.bucket._delAt(i.pos)})()}leafCount(){return this._children.compactArray().reduce((n,i)=>i instanceof sd?n+i.leafCount():n+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const t=this._children.compactArray();for(const n of t)n instanceof sd?yield*n.eachLeafSeries():yield n}serialize(t,n){return n(this._children.reduce((o,a,s)=>(null!=a&&o.push(a instanceof sd?a.serialize(t,n):t(a,s)),o),[]))}asyncTransform(t,n){var i=this;return(0,m.A)(function*(){return sv(i,t,n)})()}toJSON(){return this.serialize(ov,mB)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}_findChild(t){var n=this;return(0,m.A)(function*(){const i=yield n._findPlace(t),o=i.bucket._at(i.pos);if(!(o instanceof sd)&&null!=o&&o.key===t)return o})()}_findPlace(t){var n=this;return(0,m.A)(function*(){const i=n._options.hash("string"==typeof t?q1(t):t),o=yield i.take(n._options.bits),a=n._children.get(o);return a instanceof sd?a._findPlace(i):{bucket:n,pos:o,hash:i,existingChild:a}})()}_findNewBucketAndPos(t){var n=this;return(0,m.A)(function*(){const i=yield n._findPlace(t);if(null!=i.existingChild&&i.existingChild.key!==t){const o=new sd(n._options,i.bucket,i.pos);i.bucket._putObjectAt(i.pos,o);const a=yield o._findPlace(i.existingChild.hash);return a.bucket._putAt(a,i.existingChild.key,i.existingChild.value),o._findNewBucketAndPos(i.hash)}return i})()}_putAt(t,n,i){this._putObjectAt(t.pos,{key:n,value:i,hash:t.hash})}_putObjectAt(t,n){null==this._children.get(t)&&this._popCount++,this._children.set(t,n)}_delAt(t){if(-1===t)throw new Error("Invalid position");null!=this._children.get(t)&&this._popCount--,this._children.unset(t),this._level()}_level(){if(null!=this._parent&&this._popCount<=1)if(1===this._popCount){const t=this._children.find(af);if(null!=t&&!(t instanceof sd)){const n=t.hash;n.untake(this._options.bits),this._parent._putAt({pos:this._posAtParent,hash:n,bucket:this._parent},t.key,t.value)}}else this._parent._delAt(this._posAtParent)}_at(t){return this._children.get(t)}}function af(r){return!!r}function ov(r,t){return r.key}function mB(r){return r}function sv(r,t,n){return Hw.apply(this,arguments)}function Hw(){return Hw=(0,m.A)(function*(r,t,n){const i=[];for(const o of r._children.compactArray())if(o instanceof sd)yield sv(o,t,n);else{const a=yield t(o);i.push({bitField:r._children.bitField(),children:a})}return n(i)}),Hw.apply(this,arguments)}const r5=[255,254,252,248,240,224,192,128],i5=[1,3,7,15,31,63,127,255];class yB{_value;_currentBytePos;_currentBitPos;constructor(t){this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(t){let n=t,i=0;for(;n>0&&this._haveBits();){const o=this._value[this._currentBytePos],a=this._currentBitPos+1,s=Math.min(a,n);i=(i<<s)+gB(o,a-s,s),n-=s,this._currentBitPos-=s,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(t){for(this._currentBitPos+=t;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}function gB(r,t,n){const i=function Ua(r,t){return r5[r]&i5[Math.min(t+r-1,7)]}(t,n);return(r&i)>>>t}function o5(r){return function t(n){return n instanceof s5?n:new s5(n,r)}}class s5{_value;_hashFn;_depth;_availableBits;_currentBufferIndex;_buffers;constructor(t,n){if(!(t instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=t,this._hashFn=n,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}take(t){var n=this;return(0,m.A)(function*(){let i=t;for(;n._availableBits<i;)yield n._produceMoreBits();let o=0;for(;i>0;){const a=n._buffers[n._currentBufferIndex],s=Math.min(a.availableBits(),i);o=(o<<s)+a.take(s),i-=s,n._availableBits-=s,0===a.availableBits()&&n._currentBufferIndex++}return o})()}untake(t){let n=t;for(;n>0;){const i=this._buffers[this._currentBufferIndex],o=Math.min(i.totalBits()-i.availableBits(),n);i.untake(o),n-=o,this._availableBits+=o,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}_produceMoreBits(){var t=this;return(0,m.A)(function*(){t._depth++;const n=t._depth>0?uM([t._value,Uint8Array.from([t._depth])]):t._value,i=yield t._hashFn(n),o=new yB(i);t._buffers.push(o),t._availableBits+=o.availableBits()})()}}function Ia(r){if(null==r||null==r.hashFn)throw new Error("please define an options.hashFn");const t={bits:r.bits??8,hash:o5(r.hashFn)};return new sd(t)}function Ww(r){return Um.apply(this,arguments)}function Um(){return Um=(0,m.A)(function*(r){return(yield iv.encode(r)).slice(0,8).reverse()}),Um.apply(this,arguments)}const Gw=BigInt(34),bE=class Zw extends uy{_bucket;constructor(t,n){super(t,n),this._bucket=Ia({hashFn:Ww,bits:8})}put(t,n){var i=this;return(0,m.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,yield i._bucket.put(t,n)})()}get(t){var n=this;return(0,m.A)(function*(){return n._bucket.get(t)})()}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}eachChildSeries(){var t=this;return No(function*(){var o,n=!1,i=!1;try{for(var s,a=oo(t._bucket.eachLeafSeries());n=!(s=yield Zr(a.next())).done;n=!1){const{key:l,value:R}=s.value;yield{key:l,child:R}}}catch(l){i=!0,o=l}finally{try{n&&null!=a.return&&(yield Zr(a.return()))}finally{if(i)throw o}}})()}estimateNodeSize(){return void 0!==this.nodeSize||(this.nodeSize=Yw(this._bucket,this,this.options)),this.nodeSize}flush(t){var n=this;return No(function*(){var a,i=!1,o=!1;try{for(var l,s=oo(hA(n._bucket,t,n,n.options));i=!(l=yield Zr(s.next())).done;i=!1)yield{...l.value,path:n.path}}catch(R){o=!0,a=R}finally{try{i&&null!=s.return&&(yield Zr(s.return()))}finally{if(o)throw a}}})()}};function hA(r,t,n,i){return wE.apply(this,arguments)}function wE(){return wE=No(function*(r,t,n,i){const o=r._children,a=[];let s=0n;for(let _t=0;_t<o.length;_t++){const It=o.get(_t);if(null==It)continue;const Jt=_t.toString(16).toUpperCase().padStart(2,"0");if(It instanceof sd){let Qt;var I,l=!1,R=!1;try{for(var L,y=oo(hA(It,t,null,i));l=!(L=yield Zr(y.next())).done;l=!1)Qt=L.value}catch(fn){R=!0,I=fn}finally{try{l&&null!=y.return&&(yield Zr(y.return()))}finally{if(R)throw I}}if(null==Qt)throw new Error("Could not flush sharded directory, no subshard found");a.push({Name:Jt,Tsize:Number(Qt.size),Hash:Qt.cid}),s+=Qt.size}else if(a5(It.value)){const Qt=It.value;let fn;var Me,ye=!1,Te=!1;try{for(var je,Ce=oo(Qt.flush(t));ye=!(je=yield Zr(Ce.next())).done;ye=!1)fn=je.value,yield fn}catch(dn){Te=!0,Me=dn}finally{try{ye&&null!=Ce.return&&(yield Zr(Ce.return()))}finally{if(Te)throw Me}}if(null==fn)throw new Error("Did not flush dir");a.push({Name:Jt+It.key,Tsize:Number(fn.size),Hash:fn.cid}),s+=fn.size}else{const Qt=It.value;if(null==Qt.cid)continue;const Pn=Qt.size;a.push({Name:Jt+It.key,Tsize:Number(Pn),Hash:Qt.cid}),s+=BigInt(Pn??0)}}const Je=Uint8Array.from(o.bitField().reverse()),ze=new Bd({type:"hamt-sharded-directory",data:Je,fanout:BigInt(r.tableSize()),hashType:Gw,mtime:n?.mtime,mode:n?.mode}),rt=Ip(ku({Data:ze.marshal(),Links:a})),yt=yield Zr(Dw(rt,t,i)),ct=BigInt(rt.byteLength)+s;yield{cid:yt,unixfs:ze,size:ct}}),wE.apply(this,arguments)}function a5(r){return"function"==typeof r.flush}function Yw(r,t,n){const i=r._children,o=[];for(let R=0;R<i.length;R++){const I=i.get(R);if(null==I)continue;const y=R.toString(16).toUpperCase().padStart(2,"0");if(I instanceof sd){const L=Yw(I,null,n);o.push({Name:y,Tsize:Number(L),Hash:0===n.cidVersion?V6:z6})}else if("function"==typeof I.value.flush){const ye=I.value.nodeSize();o.push({Name:y+I.key,Tsize:Number(ye),Hash:0===n.cidVersion?V6:z6})}else{const L=I.value;if(null==L.cid)continue;o.push({Name:y+I.key,Tsize:Number(L.size),Hash:L.cid})}}const a=Uint8Array.from(i.bitField().reverse());return Ip(ku({Data:new Bd({type:"hamt-sharded-directory",data:a,fanout:BigInt(r.tableSize()),hashType:Gw,mtime:t?.mtime,mode:t?.mode}).marshal(),Links:o})).length}function _E(r,t,n,i){return EE.apply(this,arguments)}function EE(){return EE=(0,m.A)(function*(r,t,n,i){let o=t;t instanceof lE&&t.estimateNodeSize()>n&&(o=yield function xE(r,t){return kp.apply(this,arguments)}(t,i));const a=o.parent;if(null!=a){if(o!==t){if(null!=r&&(r.parent=o),null==o.parentKey)throw new Error("No parent key found");yield a.put(o.parentKey,o)}return _E(o,a,n,i)}return o}),EE.apply(this,arguments)}function kp(){return kp=(0,m.A)(function*(r,t){const n=new bE({root:r.root,dir:!0,parent:r.parent,parentKey:r.parentKey,path:r.path,dirty:r.dirty,flat:!1,mtime:r.mtime,mode:r.mode},t);var a,i=!1,o=!1;try{for(var l,s=oo(r.eachChildSeries());i=!(l=yield s.next()).done;i=!1){const{key:R,child:I}=l.value;yield n.put(R,I)}}catch(R){o=!0,a=R}finally{try{i&&null!=s.return&&(yield s.return())}finally{if(o)throw a}}return n}),kp.apply(this,arguments)}const vB=(r="")=>(r.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);function Pu(r,t,n){return pA.apply(this,arguments)}function pA(){return pA=(0,m.A)(function*(r,t,n){const i=vB(r.path??""),o=i.length-1;let a=t,s="";for(let l=0;l<i.length;l++){const R=i[l];s+=`${""!==s?"/":""}${R}`;const I=l===o;if(a.dirty=!0,a.cid=void 0,a.size=void 0,I)yield a.put(R,r),t=yield _E(null,a,n.shardSplitThresholdBytes,n);else{let y=yield a.get(R);(null==y||!(y instanceof uy))&&(y=new lE({root:!1,dir:!0,parent:a,parentKey:R,path:s,dirty:!0,flat:!0,mtime:y?.unixfs?.mtime,mode:y?.unixfs?.mode},n)),yield a.put(R,y),a=y}}return t}),pA.apply(this,arguments)}function c5(r,t){return Xw.apply(this,arguments)}function Xw(){return Xw=No(function*(r,t){r instanceof uy?yield*Kf(oo(r.flush(t))):!0===r.unixfs?.isDirectory()&&(yield r)}),Xw.apply(this,arguments)}function av(r,t){return mA.apply(this,arguments)}function mA(){return mA=No(function*(r,t,n={}){let i;i=Symbol.asyncIterator in r||Symbol.iterator in r?r:[r];const o=n.wrapWithDirectory??!1,a=n.shardSplitThresholdBytes??262144,s=n.cidVersion??1,l=n.rawLeaves??!0,R=n.leafType??"file",I=n.fileImportConcurrency??50,y=n.blockWriteConcurrency??10,L=n.reduceSingleLeafToSelf??!0,ye=n.chunker??pw(),Te=n.chunkValidator??U6(),Me=n.dagBuilder??function qO(r){return function(){var t=No(function*(i,o){var l,a=!1,s=!1;try{for(var I,R=oo(i);a=!(I=yield Zr(R.next())).done;a=!1){const y=I.value;{let L;if(null!=y.path&&(L=y.path,y.path=y.path.split("/").filter(ye=>null!=ye&&"."!==ye).join("/")),QO(y)){const ye={path:y.path,mtime:y.mtime,mode:y.mode,content:No(function*(){let Te=0n;var je,Me=!1,Ce=!1;try{for(var ze,Je=oo(r.chunker(r.chunkValidator(JO(y.content))));Me=!(ze=yield Zr(Je.next())).done;Me=!1){const He=ze.value;{const rt=BigInt(He.byteLength);Te+=rt,r.onProgress?.(new Nd("unixfs:importer:progress:file:read",{bytesRead:Te,chunkSize:rt,path:y.path})),yield He}}}catch(He){Ce=!0,je=He}finally{try{Me&&null!=Je.return&&(yield Zr(Je.return()))}finally{if(Ce)throw je}}})(),originalPath:L};yield(0,m.A)(function*(){return n6(ye,o,r)})}else{if(null==y.path)throw new Error("Import candidate must have content or path or both");{const ye={path:y.path,mtime:y.mtime,mode:y.mode,originalPath:L};yield(0,m.A)(function*(){return UM(ye,o,r)})}}}}}catch(y){s=!0,l=y}finally{try{a&&null!=R.return&&(yield Zr(R.return()))}finally{if(s)throw l}}});return function n(i,o){return t.apply(this,arguments)}}()}({chunker:ye,chunkValidator:Te,wrapWithDirectory:o,layout:n.layout??j6(),bufferImporter:n.bufferImporter??YO({cidVersion:s,rawLeaves:l,leafType:R,onProgress:n.onProgress}),blockWriteConcurrency:y,reduceSingleLeafToSelf:L,cidVersion:s,onProgress:n.onProgress}),Ce=n.treeBuilder??function l5(r){return function(){var t=No(function*(i,o){let s,a=new lE({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r),l=!1;var y,R=!1,I=!1;try{for(var ye,L=oo(i);R=!(ye=yield Zr(L.next())).done;R=!1){const ze=ye.value;{if(null==ze)continue;const He=`${ze.originalPath??""}`.split("/")[0];null!=He&&""!==He&&(null==s?(s=He,l=!0):s!==He&&(l=!1)),a=yield Zr(Pu(ze,a,r)),(null==ze.unixfs||!ze.unixfs.isDirectory())&&(yield ze)}}}catch(ze){I=!0,y=ze}finally{try{R&&null!=L.return&&(yield Zr(L.return()))}finally{if(I)throw y}}if(r.wrapWithDirectory||l&&a.childCount()>1)yield*Kf(oo(c5(a,o)));else{var Ce,Te=!1,Me=!1;try{for(var Je,je=oo(a.eachChildSeries());Te=!(Je=yield Zr(je.next())).done;Te=!1){const ze=Je.value;null!=ze&&(yield*Kf(oo(c5(ze.child,o))))}}catch(ze){Me=!0,Ce=ze}finally{try{Te&&null!=je.return&&(yield Zr(je.return()))}finally{if(Me)throw Ce}}}});return function n(i,o){return t.apply(this,arguments)}}()}({wrapWithDirectory:o,shardSplitThresholdBytes:a,cidVersion:s,onProgress:n.onProgress});var ze,je=!1,Je=!1;try{for(var rt,He=oo(Ce(lM(Me(i,t),I),t));je=!(rt=yield Zr(He.next())).done;je=!1){const yt=rt.value;yield{cid:yt.cid,path:yt.path,unixfs:yt.unixfs,size:yt.size}}}catch(yt){Je=!0,ze=yt}finally{try{je&&null!=He.return&&(yield Zr(He.return()))}finally{if(Je)throw ze}}}),mA.apply(this,arguments)}var jm=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},ME=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=r[a]&&function(s){return new Promise(function(l,R){!function o(a,s,l,R){Promise.resolve(R).then(function(I){a({value:I,done:l})},s)}(l,R,(s=r[a](s)).done,s.value)})}}};const AE={[st.code]:st},vA={[lw]:J};class Ic{static computeCid(t,n=lw,i=st.code){return jm(this,void 0,void 0,function*(){const o=vA[n];if(!o)throw new wt(Pt.ComputeCidCodecNotSupported,`codec [${n}] not supported`);const a=AE[i];if(!a)throw new wt(Pt.ComputeCidMultihashNotSupported,`multihash code [${i}] not supported`);const s=o.encode(t),l=yield a.digest(s);return(yield uo.createV1(o.code,l)).toString()})}static parseCid(t){const n=uo.parse(t).toV1();if(!vA[n.code])throw new wt(Pt.ParseCidCodecNotSupported,`codec [${n.code}] not supported`);if(!AE[n.multihash.code])throw new wt(Pt.ParseCidMultihashNotSupported,`multihash code [${n.multihash.code}] not supported`);return n}static computeDagPbCidFromBytes(t){var n,i,o;return jm(this,void 0,void 0,function*(){const s=av([{content:t}],new dO,{cidVersion:1});let l;try{for(var y,R=!0,I=ME(s);y=yield I.next(),!(n=y.done);R=!0)R=!1,l=y.value}catch(L){i={error:L}}finally{try{!R&&!n&&(o=I.return)&&(yield o.call(I))}finally{if(i)throw i.error}}return l?l.cid.toString():""})}static computeDagPbCidFromStream(t){var n,i,o;return jm(this,void 0,void 0,function*(){const s=av([{content:t}],new dO,{cidVersion:1});let l;try{for(var y,R=!0,I=ME(s);y=yield I.next(),!(n=y.done);R=!0)R=!1,l=y.value}catch(L){i={error:L}}finally{try{!R&&!n&&(o=I.return)&&(yield o.call(I))}finally{if(i)throw i.error}}return l?l.cid.toString():""})}}var bA=E(91426),qw=E(63397),Qw=E(65797),Pp=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};qw.VV.isEphemeralKeyCompressed=!0;class cv{static aes256CtrEncrypt(t,n,i){return Pp(this,void 0,void 0,function*(){const o=bA.createCipheriv("aes-256-ctr",t,n),a=new Qw.Readable({read(){}});return i.on("data",s=>{const l=o.update(s);a.push(l)}),i.on("end",()=>{const s=o.final();a.push(s),a.push(null)}),i.on("error",s=>{a.emit("error",s)}),a})}static aes256CtrDecrypt(t,n,i){return Pp(this,void 0,void 0,function*(){const o=bA.createDecipheriv("aes-256-ctr",t,n),a=new Qw.Readable({read(){}});return i.on("data",s=>{const l=o.update(s);a.push(l)}),i.on("end",()=>{const s=o.final();a.push(s),a.push(null)}),i.on("error",s=>{a.emit("error",s)}),a})}static eciesSecp256k1Encrypt(t,n){return Pp(this,void 0,void 0,function*(){const i=Buffer.from(t),o=Buffer.from(n),a=qw.w(i,o);let s=0,l=cv.isEphemeralKeyCompressed?33:65;const R=a.subarray(s,l);s=l,l+=qw.VV.symmetricNonceLength;const I=a.subarray(s,l);s=l,l+=16;const y=a.subarray(s,l);return{ciphertext:a.subarray(l),ephemeralPublicKey:R,initializationVector:I,messageAuthenticationCode:y}})}static eciesSecp256k1Decrypt(t){return Pp(this,void 0,void 0,function*(){const n=Buffer.from(t.privateKey),i=Buffer.concat([t.ephemeralPublicKey,t.initializationVector,t.messageAuthenticationCode,t.ciphertext]);return qw.Yc(n,i)})}static get isEphemeralKeyCompressed(){return qw.VV.isEphemeralKeyCompressed}}var wA=function(r){return r.Aes256Ctr="A256CTR",r.EciesSecp256k1="ECIES-ES256K",r}(wA||{}),u5=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class e_{constructor(t){this.jws=t}static create(t,n=[]){return u5(this,void 0,void 0,function*(){const i={payload:_.bytesToBase64Url(t),signatures:[]},o=new e_(i);for(const a of n)yield o.addSignature(a);return o})}addSignature(t){return u5(this,void 0,void 0,function*(){const i=JSON.stringify({kid:t.keyId,alg:t.algorithm}),o=_.stringToBase64Url(i),s=_.stringToBytes(`${o}.${this.jws.payload}`),l=yield t.sign(s),R=_.bytesToBase64Url(l);this.jws.signatures.push({protected:o,signature:R})})}getJws(){return this.jws}}const Km="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var _A=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},cf=function(r){return r.DataFormats="dataFormats",r.ProtocolContext="protocolContext",r.ProtocolPath="protocolPath",r.Schemas="schemas",r}(cf||{});class $m{static derivePrivateKey(t,n){var i;return _A(this,void 0,void 0,function*(){const o=qr.privateJwkToBytes(t.derivedPrivateKey),a=null!==(i=t.derivationPath)&&void 0!==i?i:[],s=yield $m.derivePrivateKeyBytes(o,n),l=yield qr.privateKeyToJwk(s);return{rootKeyId:t.rootKeyId,derivationScheme:t.derivationScheme,derivationPath:[...a,...n],derivedPrivateKey:l}})}static derivePublicKey(t,n){return _A(this,void 0,void 0,function*(){const i=yield $m.derivePrivateKey(t,n);return yield qr.getPublicJwk(i.derivedPrivateKey)})}static derivePrivateKeyBytes(t,n){return _A(this,void 0,void 0,function*(){$m.validateKeyDerivationPath(n);let i=t;for(const o of n){const a=_.stringToBytes(o);i=yield $m.deriveKeyUsingHkdf({hashAlgorithm:"SHA-256",initialKeyMaterial:i,info:a,keyLengthInBytes:32})}return i})}static deriveKeyUsingHkdf(t){return _A(this,void 0,void 0,function*(){const{hashAlgorithm:n,initialKeyMaterial:i,info:o,keyLengthInBytes:a}=t,l=yield function EB(){if(Km&&"object"==typeof Km.subtle&&null!=Km.subtle)return Km.subtle;throw new Error("crypto.subtle must be defined")}().importKey("raw",i,{name:"HKDF"},!1,["deriveBits"]),R=yield crypto.subtle.deriveBits({name:"HKDF",hash:n,salt:new Uint8Array(0),info:o},l,8*a);return new Uint8Array(R)})}static validateKeyDerivationPath(t){if(t.includes(""))throw new wt(Pt.HdKeyDerivationPathInvalid,`Invalid key derivation path: ${t}`)}}function t_(r,t){return r>t?1:r<t?-1:0}function TE(r){if("object"!=typeof r)return!1;for(const t in r)return!1;return!0}function pu(r){Object.keys(r).forEach(t=>{void 0===r[t]?delete r[t]:"object"==typeof r[t]&&pu(r[t])})}var Rh=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class wr{static validateJsonSchema(t){Hb(t.descriptor.interface+t.descriptor.method,t)}static getSigner(t){return void 0===t.authorization?void 0:xo.getSignerDid(t.authorization.signature.signatures[0])}static getCid(t){return Rh(this,void 0,void 0,function*(){const n=Object.assign({},t);return n.encodedData&&delete n.encodedData,yield Ic.computeCid(n)})}static compareCid(t,n){return Rh(this,void 0,void 0,function*(){return t_(yield wr.getCid(t),yield wr.getCid(n))})}static createAuthorization(t){return Rh(this,void 0,void 0,function*(){const{descriptor:n,signer:i,delegatedGrant:o,permissionGrantId:a,protocolRole:s}=t;let l;void 0!==o&&(l=yield wr.getCid(o));const I={signature:yield wr.createSignature(n,i,{delegatedGrantId:l,permissionGrantId:a,protocolRole:s})};return void 0!==o&&(I.authorDelegatedGrant=o),I})}static createSignature(t,n,i){return Rh(this,void 0,void 0,function*(){const o=yield Ic.computeCid(t),a=Object.assign({descriptorCid:o},i);pu(a);const s=_.objectToBytes(a);return(yield e_.create(s,[n])).getJws()})}static getNewestMessage(t){return Rh(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield wr.isNewer(i,n)))&&(n=i);return n})}static getOldestMessage(t){return Rh(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield wr.isOlder(i,n)))&&(n=i);return n})}static isNewer(t,n){return Rh(this,void 0,void 0,function*(){return(yield wr.compareMessageTimestamp(t,n))>0})}static isOlder(t,n){return Rh(this,void 0,void 0,function*(){return(yield wr.compareMessageTimestamp(t,n))<0})}static isSignedByAuthorDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.authorDelegatedGrant)}static isSignedByOwnerDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.ownerDelegatedGrant)}static compareMessageTimestamp(t,n){return Rh(this,void 0,void 0,function*(){return t.descriptor.messageTimestamp>n.descriptor.messageTimestamp?1:t.descriptor.messageTimestamp<n.descriptor.messageTimestamp?-1:wr.compareCid(t,n)})}static validateSignatureStructure(t,n,i="GenericSignaturePayload"){return Rh(this,void 0,void 0,function*(){if(1!==t.signatures.length)throw new wt(Pt.AuthenticationMoreThanOneSignatureNotSupported,"expected no more than 1 signature for authorization purpose");const o=xo.decodePlainObjectPayload(t);Hb(i,o);const{descriptorCid:a}=o,s=yield Ic.computeCid(n);if(a!==s)throw new wt(Pt.AuthenticateDescriptorCidMismatch,`provided descriptorCid ${a} does not match expected CID ${s}`);return o})}}class lf{static parse(t){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return new lf(t)})}constructor(t){this.id=t.recordId,this.grantor=wr.getSigner(t),this.grantee=t.descriptor.recipient,this.dateGranted=t.descriptor.dateCreated;const i=_.base64UrlToObject(t.encodedData);this.dateExpires=i.dateExpires,this.delegated=i.delegated,this.description=i.description,this.requestId=i.requestId,this.scope=i.scope,this.conditions=i.conditions}}var Ru=function(r){return r.CreatedAscending="createdAscending",r.CreatedDescending="createdDescending",r.PublishedAscending="publishedAscending",r.PublishedDescending="publishedDescending",r}(Ru||{});class ad{static matchAnyFilter(t,n){if(0===n.length)return!0;for(const i of n)if(this.matchFilter(t,i))return!0;return!1}static matchFilter(t,n){for(const i in n){const o=n[i],a=t[i];if(void 0===a||!(Array.isArray(a)?this.matchAnyIndexValue(o,a):this.matchIndexValue(o,a)))return!1}return!0}static matchAnyIndexValue(t,n){for(const i of n)if(this.matchIndexValue(t,i))return!0;return!1}static matchIndexValue(t,n){if("object"==typeof t){if(Array.isArray(t)){if(this.matchOneOf(t,n))return!0}else if(this.matchRange(t,n))return!0}else if(n===t)return!0;return!1}static matchOneOf(t,n){for(const i of t)if(n===i)return!0;return!1}static matchRange(t,n){return!(void 0!==t.lt&&n>=t.lt||void 0!==t.lte&&n>t.lte||void 0!==t.gt&&n<=t.gt||void 0!==t.gte&&n<t.gte)}static isEqualFilter(t){return"object"!=typeof t}static isRangeFilter(t){return"object"==typeof t&&!Array.isArray(t)&&("gt"in t||"lt"in t||"lte"in t||"gte"in t)}static isOneOfFilter(t){return!("object"!=typeof t||!Array.isArray(t))}static convertRangeCriterion(t){let n;return void 0!==t.to&&void 0!==t.from?n={gte:t.from,lt:t.to}:void 0!==t.to?n={lt:t.to}:void 0!==t.from&&(n={gte:t.from}),n}static constructPrefixFilterAsRangeFilter(t){return{gte:t,lt:t+"\uffff"}}}class AB{static reduceFilter(t){if(Object.keys(t).length<=1)return t;const{recordId:i,attester:o,parentId:a,recipient:s,contextId:l,protocolPath:I,schema:y,protocol:L}=t,ye=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["recordId","attester","parentId","recipient","contextId","author","protocolPath","schema","protocol"]);if(void 0!==i)return{recordId:i};if(void 0!==o)return{attester:o};if(void 0!==a)return{parentId:a};if(void 0!==s)return{recipient:s};if(void 0!==l)return{contextId:l};if(void 0!==I)return{protocolPath:I};if(void 0!==y)return{schema:y};if(void 0!==L)return{protocol:L};const Me=Object.keys(ye)[0],Ce={};return Ce[Me]=t[Me],Ce}}var bi=function(r){return r.Messages="Messages",r.Protocols="Protocols",r.Records="Records",r}(bi||{}),Xr=function(r){return r.Configure="Configure",r.Query="Query",r.Read="Read",r.Write="Write",r.Delete="Delete",r.Subscribe="Subscribe",r}(Xr||{});function Vm(r){let t;try{t=zm(r)}catch{t=void 0}if(r!==t)throw new wt(Pt.UrlProtocolNotNormalized,`Protocol URI ${r} must be normalized.`)}function zm(r){return EA(r)}function IE(r){let t;try{t=n_(r)}catch{t=void 0}if(r!==t)throw new wt(Pt.UrlSchemaNotNormalized,`Schema URI ${r} must be normalized.`)}function n_(r){return EA(r)}function EA(r){let t;t=/^[^:]+:(\/{2})?[^\/].*/.test(r)?r:`http://${r}`;try{const n=new URL(t);return n.search="",n.hash="",function Hm(r){return r.endsWith("/")?r.slice(0,-1):r}(n.href)}catch{throw new wt(Pt.UrlProtocolNotNormalizable,"Could not normalize protocol URI")}}var r_=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class $i{static isRecordsWrite(t){return t.descriptor.interface===bi.Records&&t.descriptor.method===Xr.Write}static getAuthor(t){let n;return n=wr.getSigner(void 0!==t.authorization.authorDelegatedGrant?t.authorization.authorDelegatedGrant:t),n}static decrypt(t,n,i){return r_(this,void 0,void 0,function*(){const{encryption:o}=t,a=o.keyEncryption.find(Ce=>Ce.rootKeyId===n.rootKeyId&&Ce.derivationScheme===n.derivationScheme);if(void 0===a)throw new wt(Pt.RecordsDecryptNoMatchingKeyEncryptedFound,`Unable to find a symmetric key encrypted using key         with ID '${n.rootKeyId}' and '${n.derivationScheme}' derivation scheme.`);const s=$i.constructKeyDerivationPath(a.derivationScheme,t),l=yield $i.derivePrivateKey(n,s),R=_.base64UrlToBytes(a.encryptedKey),I=qr.publicJwkToBytes(a.ephemeralPublicKey),y=_.base64UrlToBytes(a.initializationVector),L=_.base64UrlToBytes(a.messageAuthenticationCode),ye=yield cv.eciesSecp256k1Decrypt({ciphertext:R,ephemeralPublicKey:I,initializationVector:y,messageAuthenticationCode:L,privateKey:l}),Te=_.base64UrlToBytes(o.initializationVector);return yield cv.aes256CtrDecrypt(ye,Te,i)})}static constructKeyDerivationPath(t,n){const i=n.descriptor,o=n.contextId;let a;return a=t===cf.DataFormats?$i.constructKeyDerivationPathUsingDataFormatsScheme(i.schema,i.dataFormat):t===cf.ProtocolPath?$i.constructKeyDerivationPathUsingProtocolPathScheme(i):t===cf.ProtocolContext?$i.constructKeyDerivationPathUsingProtocolContextScheme(o):$i.constructKeyDerivationPathUsingSchemasScheme(i.schema),a}static constructKeyDerivationPathUsingDataFormatsScheme(t,n){return void 0!==t?[cf.DataFormats,t,n]:[cf.DataFormats,n]}static constructKeyDerivationPathUsingProtocolPathScheme(t){if(void 0===t.protocol)throw new wt(Pt.RecordsProtocolPathDerivationSchemeMissingProtocol,"Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");const n=t.protocolPath.split("/");return[cf.ProtocolPath,t.protocol,...n]}static constructKeyDerivationPathUsingProtocolContextScheme(t){if(void 0===t)throw new wt(Pt.RecordsProtocolContextDerivationSchemeMissingContextId,"Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");const n=t.split("/")[0];return[cf.ProtocolContext,n]}static constructKeyDerivationPathUsingSchemasScheme(t){if(void 0===t)throw new wt(Pt.RecordsSchemasDerivationSchemeMissingSchema,"Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return[cf.Schemas,t]}static derivePrivateKey(t,n){var i;return r_(this,void 0,void 0,function*(){if("secp256k1"!==t.derivedPrivateKey.crv)throw new wt(Pt.RecordsDerivePrivateKeyUnSupportedCurve,`Curve ${t.derivedPrivateKey.crv} is not supported.`);const o=null!==(i=t.derivationPath)&&void 0!==i?i:[];$i.validateAncestorKeyAndDescentKeyDerivationPathsMatch(o,n);const a=n.slice(o.length),s=qr.privateJwkToBytes(t.derivedPrivateKey);return yield $m.derivePrivateKeyBytes(s,a)})}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(t,n){for(let i=0;i<t.length;i++){const o=t[i],a=n[i];if(o!==a)throw new wt(Pt.RecordsInvalidAncestorKeyDerivationSegment,`Ancestor key derivation segment '${o}' mismatches against the descendant key derivation segment '${a}'.`)}}static getParentContextFromOfContextId(t){if(void 0===t)return;const n=t.lastIndexOf("/");return-1===n?"":t.substring(0,n)}static normalizeFilter(t){let n,i;n=void 0===t.protocol?void 0:zm(t.protocol),i=void 0===t.schema?void 0:n_(t.schema);const o=Object.assign(Object.assign({},t),{protocol:n,schema:i});return pu(o),o}static isStartsWithFilter(t){return"object"==typeof t&&"startsWith"in t&&"string"==typeof t.startsWith}static buildTagIndexes(t){const n={};for(const i in t)n[`tag.${i}`]=t[i];return n}static convertTagsFilter(t){const n={};for(const i in t){const o=t[i];n[`tag.${i}`]=this.isStartsWithFilter(o)?ad.constructPrefixFilterAsRangeFilter(o.startsWith):o}return n}static convertFilter(t,n){const{tags:i}=t,o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["tags"]);let a={};void 0!==i&&(a=Object.assign({},this.convertTagsFilter(i)));const s=Object.assign(Object.assign({},o),a),{dateCreated:l,datePublished:R,dateUpdated:I,contextId:y}=t,L=l?ad.convertRangeCriterion(l):void 0;L&&(s.dateCreated=L);const ye=R?ad.convertRangeCriterion(R):void 0;ye&&(s.published=!0,s.datePublished=ye),!0!==s.published&&(n===Ru.PublishedAscending||n===Ru.PublishedDescending)&&(s.published=!0);const Te=I?ad.convertRangeCriterion(I):void 0;Te&&(s.messageTimestamp=Te,delete s.dateUpdated);const Me=y?ad.constructPrefixFilterAsRangeFilter(y):void 0;return Me&&(s.contextId=Me),s}static validateDelegatedGrantReferentialIntegrity(t,n,i){var o,a;return r_(this,void 0,void 0,function*(){const s=void 0!==n?.delegatedGrantId,l=void 0!==(null===(o=t.authorization)||void 0===o?void 0:o.authorDelegatedGrant);if(s!==l)throw new wt(Pt.RecordsAuthorDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in message (author) signature and authorDelegatedGrant must both exist or be undefined.          delegatedGrantId in message (author) signature defined: ${s},          authorDelegatedGrant defined: ${l}`);if(l){const y=t.authorization.authorDelegatedGrant;if(!0!==(yield lf.parse(y)).delegated)throw new wt(Pt.RecordsAuthorDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const ye=y.descriptor.recipient,Te=wr.getSigner(t);if(ye!==Te)throw new wt(Pt.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${ye} in author delegated grant must be the same as the signer ${Te} of the message signature.`);const Me=yield wr.getCid(y);if(Me!==n.delegatedGrantId)throw new wt(Pt.RecordsAuthorDelegatedGrantCidMismatch,`CID of the author delegated grant ${Me} must be the same as           the delegatedGrantId ${n.delegatedGrantId} in the message signature.`)}const R=void 0!==i?.delegatedGrantId,I=void 0!==(null===(a=t.authorization)||void 0===a?void 0:a.ownerDelegatedGrant);if(R!==I)throw new wt(Pt.RecordsOwnerDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in owner signature and ownerDelegatedGrant must both exist or be undefined.          delegatedGrantId in owner signature defined: ${R},          ownerDelegatedGrant defined: ${I}`);if(I){const y=t.authorization.ownerDelegatedGrant;if(!0!==(yield lf.parse(y)).delegated)throw new wt(Pt.RecordsOwnerDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const ye=y.descriptor.recipient,Te=xo.getSignerDid(t.authorization.ownerSignature.signatures[0]);if(ye!==Te)throw new wt(Pt.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${ye} in owner delegated grant must be the same as the signer ${Te} of the owner signature.`);const Me=yield wr.getCid(y);if(Me!==i.delegatedGrantId)throw new wt(Pt.RecordsOwnerDelegatedGrantCidMismatch,`CID of the owner delegated grant ${Me} must be the same as           the delegatedGrantId ${i.delegatedGrantId} in the owner signature.`)}})}static shouldProtocolAuthorize(t){return void 0!==t.protocolRole}static filterIncludesPublishedRecords(t){return void 0!==t.datePublished||!1!==t.published}static filterIncludesUnpublishedRecords(t){return void 0===t.datePublished&&void 0===t.published||!1===t.published}}var xA=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class df{static performBaseValidation(t){return xA(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:a,messageStore:s}=t,l=n.descriptor;df.verifyExpectedGrantorAndGrantee(i,o,a);const R=i;yield df.verifyGrantActive(R,l.messageTimestamp,a,s),yield df.verifyGrantScopeInterfaceAndMethod(l.interface,l.method,a)})}static verifyExpectedGrantorAndGrantee(t,n,i){const o=i.grantee;if(n!==o)throw new wt(Pt.GrantAuthorizationNotGrantedToAuthor,`Permission grant is granted to ${o}, but need to be granted to ${n}`);const a=i.grantor;if(t!==a)throw new wt(Pt.GrantAuthorizationNotGrantedForTenant,`Permission grant is granted by ${a}, but need to be granted by ${t}`)}static verifyGrantActive(t,n,i,o){return xA(this,void 0,void 0,function*(){if(n<i.dateGranted)throw new wt(Pt.GrantAuthorizationGrantNotYetActive,"The message has a timestamp before the associated permission grant becomes active");if(n>=i.dateExpires)throw new wt(Pt.GrantAuthorizationGrantExpired,"The message has timestamp after the expiry of the associated permission grant");const a={parentId:i.id,protocolPath:"grant/revocation",isLatestBaseState:!0},{messages:s}=yield o.query(t,[a]),l=yield wr.getOldestMessage(s);if(void 0!==l&&l.descriptor.messageTimestamp<=n)throw new wt(Pt.GrantAuthorizationGrantRevoked,`Permission grant with CID ${i.id} has been revoked`)})}static verifyGrantScopeInterfaceAndMethod(t,n,i){return xA(this,void 0,void 0,function*(){if(t!==i.scope.interface)throw new wt(Pt.GrantAuthorizationInterfaceMismatch,`DWN Interface of incoming message is outside the scope of permission grant with ID ${i.id}`);if(n!==i.scope.method)throw new wt(Pt.GrantAuthorizationMethodMismatch,`DWN Method of incoming message is outside the scope of permission grant with ID ${i.id}`)})}}var DE=function(r){return r.Required="Required",r.Prohibited="Prohibited",r}(DE||{}),Wm=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class mu{static authorizeWrite(t){return Wm(this,void 0,void 0,function*(){const{recordsWriteMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:a,messageStore:s}=t;yield df.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:a,messageStore:s}),mu.verifyScope(n,a.scope),mu.verifyConditions(n,a.conditions)})}static authorizeRead(t){return Wm(this,void 0,void 0,function*(){const{recordsReadMessage:n,recordsWriteMessageToBeRead:i,expectedGrantor:o,expectedGrantee:a,permissionGrant:s,messageStore:l}=t;yield df.performBaseValidation({incomingMessage:n,expectedGrantor:o,expectedGrantee:a,permissionGrant:s,messageStore:l}),mu.verifyScope(i,s.scope)})}static authorizeQueryOrSubscribe(t){return Wm(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:a,messageStore:s}=t;yield df.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:a,messageStore:s});const R=a.scope.protocol,I=n.descriptor.filter.protocol;if(void 0!==R&&I!==R)throw new wt(Pt.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch,`Grant protocol scope ${R} does not match protocol in message ${I}`)})}static authorizeDelete(t){return Wm(this,void 0,void 0,function*(){const{recordsDeleteMessage:n,recordsWriteToDelete:i,expectedGrantor:o,expectedGrantee:a,permissionGrant:s,messageStore:l}=t;yield df.performBaseValidation({incomingMessage:n,expectedGrantor:o,expectedGrantee:a,permissionGrant:s,messageStore:l});const I=s.scope.protocol,y=i.descriptor.protocol;if(void 0!==I&&y!==I)throw new wt(Pt.RecordsGrantAuthorizationDeleteProtocolScopeMismatch,`Grant protocol scope ${I} does not match protocol in record to delete ${y}`)})}static verifyScope(t,n){if(n.protocol!==t.descriptor.protocol)throw new wt(Pt.RecordsGrantAuthorizationScopeProtocolMismatch,"Grant scope specifies different protocol than what appears in the record");if(void 0!==n.contextId&&(void 0===t.contextId||!t.contextId.startsWith(n.contextId)))throw new wt(Pt.RecordsGrantAuthorizationScopeContextIdMismatch,"Grant scope specifies different contextId than what appears in the record");if(void 0!==n.protocolPath&&n.protocolPath!==t.descriptor.protocolPath)throw new wt(Pt.RecordsGrantAuthorizationScopeProtocolPathMismatch,"Grant scope specifies different protocolPath than what appears in the record")}static verifyConditions(t,n){if(n?.publication===DE.Required&&!t.descriptor.published)throw new wt(Pt.RecordsGrantAuthorizationConditionPublicationRequired,"Permission grant requires message to be published");if(n?.publication===DE.Prohibited&&t.descriptor.published)throw new wt(Pt.RecordsGrantAuthorizationConditionPublicationProhibited,"Permission grant prohibits message from being published")}}var vt=E(89994);const CE={};function Ld(r,t){Object.defineProperty(r.prototype,Symbol.toStringTag,{value:t,writable:!1,enumerable:!1,configurable:!0});for(const n of Object.getOwnPropertyNames(r)){const i=Object.getOwnPropertyDescriptor(r,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r,n,i))}for(const n of Object.getOwnPropertyNames(r.prototype)){const i=Object.getOwnPropertyDescriptor(r.prototype,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r.prototype,n,i))}as(t,r),as(`${t}.prototype`,r.prototype)}function as(r,t){const n=`%${r}%`;if(void 0!==CE[n])throw new Error(`intrinsic ${r} already exists`);CE[n]=t}function ur(r){return CE[r]}var my,yy;const Hr="slot-epochNanoSeconds",Ud="slot-timezone-identifier",Sr="slot-year",Dr="slot-month",Cr="slot-day",mi="slot-hour",Ei="slot-minute",xi="slot-second",Si="slot-millisecond",Mi="slot-microsecond",Ai="slot-nanosecond",kn="slot-calendar",SA="slot-date-brand",MA="slot-year-month-brand",AA="slot-month-day-brand",Fa="slot-cached-instant",no="slot-time-zone",Ol="slot-years",dc="slot-months",rl="slot-weeks",wa="slot-days",Dc="slot-hours",Bl="slot-minutes",Cc="slot-seconds",cd="slot-milliseconds",ld="slot-microseconds",Nl="slot-nanoseconds",Ds="slot-calendar-identifier",TA=new WeakMap,IA=Symbol.for("@@Temporal__GetSlots");(my=globalThis)[IA]||(my[IA]=function(t){return TA.get(t)});const ja=globalThis[IA],kE=Symbol.for("@@Temporal__CreateSlots");(yy=globalThis)[kE]||(yy[kE]=function(t){TA.set(t,Object.create(null))});const Oh=globalThis[kE];function Ka(r,...t){if(!r||"object"!=typeof r)return!1;const n=ja(r);return!!n&&t.every(i=>i in n)}function Ne(r,t){const n=ja(r)?.[t];if(void 0===n)throw new TypeError(`Missing internal slot ${t}`);return n}function Vi(r,t,n){const i=ja(r);if(void 0===i)throw new TypeError("Missing slots for the given container");if(i[t])throw new TypeError(`${t} already has set`);i[t]=n}const DA=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,lv=new RegExp("(?:"+[`(?:${DA.source})(?:\\/(?:${DA.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),gy=/(?:[+\u2212-]\d{6}|\d{4})/,PE=/(?:0[1-9]|1[0-2])/,CA=/(?:0[1-9]|[12]\d|3[01])/,f5=new RegExp(`(${gy.source})(?:-(${PE.source})-(${CA.source})|(${PE.source})(${CA.source}))`),h5=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,kA=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,IB=new RegExp(`([zZ])|${kA.source}?`),Bh=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,PA=new RegExp([`^${f5.source}`,`(?:(?:T|\\s+)${h5.source}(?:${IB.source})?)?`,`(?:\\[!?(${lv.source})\\])?`,`((?:${Bh.source})*)$`].join(""),"i"),RA=new RegExp([`^T?${h5.source}`,`(?:${IB.source})?`,`(?:\\[!?${lv.source}\\])?`,`((?:${Bh.source})*)$`].join(""),"i"),OA=new RegExp(`^(${gy.source})-?(${PE.source})(?:\\[!?${lv.source}\\])?((?:${Bh.source})*)$`),Nh=new RegExp(`^(?:--)?(${PE.source})-?(${CA.source})(?:\\[!?${lv.source}\\])?((?:${Bh.source})*)$`),BA=/(\d+)(?:[.,](\d{1,9}))?/,p5=new RegExp(`(?:${BA.source}H)?(?:${BA.source}M)?(?:${BA.source}S)?`),Lh=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${p5.source})?$`,"i"),$f=Array.prototype.includes,uf=Array.prototype.push,NA=globalThis.Intl.DateTimeFormat,m5=Math.min,DB=Math.max,cs=Math.abs,Fd=Math.floor,dv=Math.sign,Rp=Math.trunc,Gm=Number.isNaN,Ll=Number.isFinite,y5=Number,i_=String,CB=Number.MAX_SAFE_INTEGER,kc=Object.create,g5=Object.getOwnPropertyDescriptor,vy=Reflect.apply,kB=Reflect.ownKeys,Cs=vt.BigInt(0),by=vt.BigInt(1),Uh=vt.BigInt(60),v5=vt.BigInt(24),go=vt.BigInt(1e3),yu=vt.BigInt(1e6),Fh=vt.BigInt(1e9),PB=vt.BigInt(-1),b5=vt.multiply(vt.BigInt(3600),Fh),w5=vt.multiply(Uh,Fh),jh=vt.multiply(b5,v5),o_=vt.multiply(vt.BigInt(-86400),vt.BigInt(1e17)),Zm=vt.multiply(vt.BigInt(86400),vt.BigInt(1e17)),LA=-271821,RE=275760,Ym=vt.multiply(vt.BigInt(-388152),vt.BigInt(1e13)),_5=vt.multiply(jh,vt.BigInt(3660)),UA=vt.multiply(jh,vt.BigInt(366)),FA=vt.multiply(jh,vt.BigInt(14)),E5=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function Ou(r){return vt.equal(r,Cs)}function vo(r,t){const n=r[t];if(void 0!==n)return n}function $r(r,t,n){return vy(r,t,arguments.length>2?n:[])}function ls(r){return"object"==typeof r&&null!==r||"function"==typeof r}function wy(r){if("bigint"==typeof r)throw new TypeError("Cannot convert BigInt to number");return y5(r)}function Da(r){const t=wy(r);if(Gm(t)||0===t)return 0;if(!Ll(t))return t;const n=Fd(cs(t));return 0===n?0:dv(t)*n}function Bu(r){if("number"!=typeof r||Gm(r)||!Ll(r))return!1;const t=cs(r);return Fd(t)===t}function Ul(r){if("symbol"==typeof r)throw new TypeError("Cannot convert a Symbol value to a String");return i_(r)}function fo(r){const t=wy(r);if(0===t)return 0;if(Gm(t)||!Ll(t))throw new RangeError("invalid number value");const n=Rp(t);return 0===n?0:n}function s_(r,t){const n=fo(r);if(n<=0)throw void 0!==t?new RangeError(`property '${t}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return n}function $a(r){const t=wy(r);if(!Ll(t))throw new RangeError("infinity is out of range");if(!Bu(t))throw new RangeError(`unsupported fractional value ${r}`);return 0===t?0:t}function fa(r,t){return{quotient:vt.divide(r,t),remainder:vt.remainder(r,t)}}function uv(r){return vt.lessThan(r,Cs)}function x5(r){return Ou(r)?0:uv(r)?-1:1}function gu(r){return vt.lessThan(r,Cs)?vt.multiply(r,PB):r}const a_=new Map([["year",fo],["month",s_],["monthCode",Ul],["day",s_],["hour",fo],["minute",fo],["second",fo],["millisecond",fo],["microsecond",fo],["nanosecond",fo],["years",$a],["months",$a],["weeks",$a],["days",$a],["hours",$a],["minutes",$a],["seconds",$a],["milliseconds",$a],["microseconds",$a],["nanoseconds",$a],["era",Ul],["eraYear",Da],["offset",Ul]]),jA=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),fv=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],OE=new Map(fv.map(r=>[r[0],r[1]])),RB=new Map(fv.map(([r,t])=>[t,r])),S5=fv.map(([,r])=>r),c_=Array.from(OE.keys()).sort(),l_=new Map;function BE(r){let t=l_.get(r);return void 0===t&&(t=new NA("en-us",{timeZone:i_(r),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),l_.set(r,t)),t}function KA(r){if(null==r)throw new TypeError(`Expected object not ${r}`);return Object(r)}function hv(r,t,n,i){if(null==t)return;const o=kB(t);for(const a of o)if(!n.some(s=>Object.is(s,a))&&Object.prototype.propertyIsEnumerable.call(t,a)){const s=t[a];if(i&&i.some(l=>Object.is(l,s)))continue;r[a]=s}}function Ca(r){return Ka(r,Hr)&&!Ka(r,no,kn)}function vu(r){return Ka(r,Ud)}function vs(r){return Ka(r,Ds)}function bs(r){return Ka(r,Ol,dc,wa,Dc,Bl,Cc,cd,ld,Nl)}function Ni(r){return Ka(r,SA)}function Vs(r){return Ka(r,mi,Ei,xi,Si,Mi,Ai)&&!Ka(r,Sr,Dr,Cr)}function Ti(r){return Ka(r,Sr,Dr,Cr,mi,Ei,xi,Si,Mi,Ai)}function eo(r){return Ka(r,MA)}function uc(r){return Ka(r,AA)}function Lr(r){return Ka(r,Hr,no,kn)}function d_(r){if(Ka(r,kn)||Ka(r,no))throw new TypeError("with() does not support a calendar or timeZone property");if(Vs(r))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(void 0!==r.calendar)throw new TypeError("with() does not support a calendar property");if(void 0!==r.timeZone)throw new TypeError("with() does not support a timeZone property")}function NE(r,t){return"never"===t?"":A5(Lc(r),t)}function A5(r,t){return"never"===t||"auto"===t&&"iso8601"===r?"":`[${"critical"===t?"!":""}u-ca=${r}]`}function jd(r){const t=PA.exec(r);if(!t)throw new RangeError(`invalid ISO 8601 string: ${r}`);let n=t[1];if("\u2212"===n[0]&&(n=`-${n.slice(1)}`),"-000000"===n)throw new RangeError(`invalid ISO 8601 string: ${r}`);const i=Da(n),o=Da(t[2]||t[4]),a=Da(t[3]||t[5]),s=Da(t[6]),l=void 0!==t[6],R=Da(t[7]||t[10]);let I=Da(t[8]||t[11]);60===I&&(I=59);const y=(t[9]||t[12])+"000000000",L=Da(y.slice(0,3)),ye=Da(y.slice(3,6)),Te=Da(y.slice(6,9));let Me,Ce=!1;if(t[13])Me=void 0,Ce=!0;else if(t[14]&&t[15]){const ct=t[17]||"00";let _t=t[18]||"0";if(Me=`${"-"===t[14]||"\u2212"===t[14]?"-":"+"}${t[15]||"00"}:${t[16]||"00"}`,+_t){for(;_t.endsWith("0");)_t=_t.slice(0,-1);Me+=`:${ct}.${_t}`}else+ct&&(Me+=`:${ct}`);"-00:00"===Me&&(Me="+00:00")}const je=t[19],Je=t[20];let ze;for(const[,He,rt,yt]of Je.matchAll(Bh))if("u-ca"===rt)void 0===ze&&(ze=yt);else if("!"===He)throw new RangeError(`Unrecognized annotation: !${rt}=${yt}`);return tx(i,o,a,s,R,I,L,ye,Te),{year:i,month:o,day:a,hasTime:l,hour:s,minute:R,second:I,millisecond:L,microsecond:ye,nanosecond:Te,ianaName:je,offset:Me,z:Ce,calendar:ze}}function $A(r){const t=OA.exec(r);let n,i,o,a;if(t){let s=t[1];if("\u2212"===s[0]&&(s=`-${s.slice(1)}`),"-000000"===s)throw new RangeError(`invalid ISO 8601 string: ${r}`);n=Da(s),i=Da(t[2]);const l=t[3];for(const[,R,I,y]of l.matchAll(Bh))if("u-ca"===I)void 0===o&&(o=y);else if("!"===R)throw new RangeError(`Unrecognized annotation: !${I}=${y}`);if(void 0!==o&&"iso8601"!==o)throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let s;if(({year:n,month:i,calendar:o,day:a,z:s}=jd(r)),s)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:n,month:i,calendar:o,referenceISODay:a}}function VA(r){const t=Nh.exec(r);let n,i,o,a;if(t){n=Da(t[1]),i=Da(t[2]);const s=t[3];for(const[,l,R,I]of s.matchAll(Bh))if("u-ca"===R)void 0===o&&(o=I);else if("!"===l)throw new RangeError(`Unrecognized annotation: !${R}=${I}`);if(void 0!==o&&"iso8601"!==o)throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let s;if(({month:n,day:i,calendar:o,year:a,z:s}=jd(r)),s)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:n,day:i,calendar:o,referenceISOYear:a}}function Op(r,t,n,i){let o=r,a=t,s=n;switch(i){case"reject":Vf(o,a,s);break;case"constrain":({year:o,month:a,day:s}=fT(o,a,s))}return{year:o,month:a,day:s}}function LE(r,t,n,i,o,a,s){let l=r,R=t,I=n,y=i,L=o,ye=a;switch(s){case"reject":C_(l,R,I,y,L,ye);break;case"constrain":({hour:l,minute:R,second:I,millisecond:y,microsecond:L,nanosecond:ye}=(Ce=R,je=I,Je=y,ze=L,He=ye,{hour:fd(l,0,23),minute:fd(Ce,0,59),second:fd(je,0,59),millisecond:fd(Je,0,999),microsecond:fd(ze,0,999),nanosecond:fd(He,0,999)}))}var Ce,je,Je,ze,He;return{hour:l,minute:R,second:I,millisecond:y,microsecond:L,nanosecond:ye}}function Kh(r){if(!ls(r))return function(Me){const Ce=Lh.exec(Me);if(!Ce)throw new RangeError(`invalid duration: ${Me}`);if(Ce.slice(2).every(Xt=>void 0===Xt))throw new RangeError(`invalid duration: ${Me}`);const je="-"===Ce[1]||"\u2212"===Ce[1]?-1:1,Je=void 0===Ce[2]?0:fo(Ce[2])*je,ze=void 0===Ce[3]?0:fo(Ce[3])*je,He=void 0===Ce[4]?0:fo(Ce[4])*je,rt=void 0===Ce[5]?0:fo(Ce[5])*je,yt=void 0===Ce[6]?0:fo(Ce[6])*je,ct=Ce[7],_t=Ce[8],It=Ce[9],Jt=Ce[10],Qt=Ce[11];let fn=0,Pn=0,dn=0;if(void 0!==ct){if(_t??It??Jt??Qt)throw new RangeError("only the smallest unit can be fractional");dn=3600*Da((ct+"000000000").slice(0,9))*je}else if(fn=void 0===_t?0:fo(_t)*je,void 0!==It){if(Jt??Qt)throw new RangeError("only the smallest unit can be fractional");dn=60*Da((It+"000000000").slice(0,9))*je}else Pn=void 0===Jt?0:fo(Jt)*je,void 0!==Qt&&(dn=Da((Qt+"000000000").slice(0,9))*je);const Sn=dn%1e3,$t=Rp(dn/1e3)%1e3,Yt=Rp(dn/1e6)%1e3;return Pn+=Rp(dn/1e9)%60,fn+=Rp(dn/6e10),Ev(Je,ze,He,rt,yt,fn,Pn,Yt,$t,Sn),{years:Je,months:ze,weeks:He,days:rt,hours:yt,minutes:fn,seconds:Pn,milliseconds:Yt,microseconds:$t,nanoseconds:Sn}}(Ul(r));if(bs(r))return{years:Ne(r,Ol),months:Ne(r,dc),weeks:Ne(r,rl),days:Ne(r,wa),hours:Ne(r,Dc),minutes:Ne(r,Bl),seconds:Ne(r,Cc),milliseconds:Ne(r,cd),microseconds:Ne(r,ld),nanoseconds:Ne(r,Nl)};const t={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let n=function(Me){if(!ls(Me))throw new TypeError("invalid duration-like");const Ce={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let je=!1;for(const Je of c_){const ze=Me[Je];void 0!==ze&&(je=!0,Ce[Je]=$a(ze))}if(!je)throw new TypeError("invalid duration-like");return Ce}(r);for(const Te of c_){const Me=n[Te];void 0!==Me&&(t[Te]=Me)}let{years:i,months:o,weeks:a,days:s,hours:l,minutes:R,seconds:I,milliseconds:y,microseconds:L,nanoseconds:ye}=t;return Ev(i,o,a,s,l,R,I,y,L,ye),{years:i,months:o,weeks:a,days:s,hours:l,minutes:R,seconds:I,milliseconds:y,microseconds:L,nanoseconds:ye}}function ks(r){return void 0===r?"constrain":o0(r,"overflow",["constrain","reject"],"constrain")}function Pc(r){return void 0===r?"compatible":o0(r,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function ff(r,t){return o0(r,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],t)}function u_(r,t){return void 0===r?t:o0(r,"offset",["prefer","use","ignore","reject"],t)}function f_(r){return o0(r,"calendarName",["auto","always","never","critical"],"auto")}function $h(r){let t=r.roundingIncrement;if(void 0===t)return 1;if(t=wy(t),!Ll(t))throw new RangeError("roundingIncrement must be finite");const n=Rp(t);if(n<1||n>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${t}`);return n}function Vh(r,t,n){const i=n?t:t-1;if(r>i)throw new RangeError(`roundingIncrement must be at least 1 and less than ${i}, not ${r}`);if(t%r!=0)throw new RangeError(`Rounding increment must divide evenly into ${t}`)}function h_(r){const t=r.fractionalSecondDigits;if(void 0===t)return"auto";if("number"!=typeof t){if("auto"!==Ul(t))throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return"auto"}const n=Fd(t);if(!Ll(n)||n<0||n>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return n}function p_(r,t){switch(r){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(t){case"auto":return{precision:t,unit:"nanosecond",increment:1};case 0:return{precision:t,unit:"second",increment:1};case 1:case 2:case 3:return{precision:t,unit:"millisecond",increment:10**(3-t)};case 4:case 5:case 6:return{precision:t,unit:"microsecond",increment:10**(6-t)};case 7:case 8:case 9:return{precision:t,unit:"nanosecond",increment:10**(9-t)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}const Xm=Symbol("~required~");function Rc(r,t,n,i,o=[]){const a=[];for(const[,I,y]of fv)"datetime"!==n&&n!==y||a.push(I);a.push(...o);let s=i;s===Xm?s=void 0:void 0!==s&&a.push(s);const l=[...a];for(const I of a){const y=RB.get(I);void 0!==y&&l.push(y)}let R=o0(r,t,l,s);if(void 0===R&&i===Xm)throw new RangeError(`${t} is required`);return OE.has(R)?OE.get(R):R}function UE(r){const t=r.relativeTo;if(void 0===t)return t;let n,i,o,a,s,l,R,I,y,L,ye,Te,Me="option",Ce=!1;if(ls(t)){if(Lr(t)||Ni(t))return t;if(Ti(t))return bv(t);L=S_(t);const je=ha(L,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);je.push("timeZone","offset");const Je=zi(t,je,[]),ze=kc(null);ze.overflow="constrain",({year:n,month:i,day:o,hour:a,minute:s,second:l,millisecond:R,microsecond:I,nanosecond:y}=y_(L,Je,ze)),Te=Je.offset,void 0===Te&&(Me="wall"),ye=Je.timeZone,void 0!==ye&&(ye=Uc(ye))}else{let je,Je;if(({year:n,month:i,day:o,hour:a,minute:s,second:l,millisecond:R,microsecond:I,nanosecond:y,calendar:L,ianaName:je,offset:Te,z:Je}=jd(Ul(t))),je)ye=Uc(je),Je?Me="exact":Te||(Me="wall"),Ce=!0;else if(Je)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(L||(L="iso8601"),!Lu(L))throw new RangeError(`invalid calendar identifier ${L}`);L=Hf(L)}return void 0===ye?Nu(n,i,o,L):Bc(g_(n,i,o,a,s,l,R,I,y,Me,"option"===Me?Np(Te):0,ye,"compatible","reject",Ce),ye,L)}function zA(r,t,n,i,o,a,s,l,R,I){for(const[y,L]of[["years",r],["months",t],["weeks",n],["days",i],["hours",o],["minutes",a],["seconds",s],["milliseconds",l],["microseconds",R],["nanoseconds",I]])if(0!==L)return OE.get(y);return"nanosecond"}function _y(r,t){return S5.indexOf(r)>S5.indexOf(t)?t:r}function zi(r,t,n,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){const o=kc(null);let a=!1;t.sort();for(const s of t){let l=r[s];if(void 0!==l)a=!0,a_.has(s)&&(l=a_.get(s)(l)),o[s]=l;else if("partial"!==n){if($f.call(n,s))throw new TypeError(`required property '${s}' missing or undefined`);l=jA.get(s),o[s]=l}}if("partial"===n&&!a)throw new TypeError(i);return o}function m_(r,t="complete"){const n=["hour","microsecond","millisecond","minute","nanosecond","second"],i=zi(r,n,"partial",{emptySourceErrorMessage:"invalid time-like"}),o={};for(const a of n){const s=g5(i,a);void 0!==s?o[a]=s.value:"complete"===t&&(o[a]=0)}return o}function Co(r,t){let n=r;if(ls(n)){if(Ni(n))return n;if(Lr(n)&&(ks(t),n=ud(Ne(n,no),Ne(n,Fa),Ne(n,kn))),Ti(n))return ks(t),Nu(Ne(n,Sr),Ne(n,Dr),Ne(n,Cr),Ne(n,kn));const R=S_(n);return Bp(R,zi(n,ha(R,["day","month","monthCode","year"]),[]),t)}ks(t);let{year:i,month:o,day:a,calendar:s,z:l}=jd(Ul(n));if(l)throw new RangeError("Z designator not supported for PlainDate");if(s||(s="iso8601"),!Lu(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=Hf(s),Nu(i,o,a,s)}function y_(r,t,n){let{hour:i,minute:o,second:a,millisecond:s,microsecond:l,nanosecond:R}=m_(t);const I=ks(n),y=Bp(r,t,n),L=Ne(y,Sr),ye=Ne(y,Dr),Te=Ne(y,Cr);return({hour:i,minute:o,second:a,millisecond:s,microsecond:l,nanosecond:R}=LE(i,o,a,s,l,R,I)),{year:L,month:ye,day:Te,hour:i,minute:o,second:a,millisecond:s,microsecond:l,nanosecond:R}}function Jm(r,t){let n,i,o,a,s,l,R,I,y,L;if(ls(r)){if(Ti(r))return r;if(Lr(r))return ks(t),ud(Ne(r,no),Ne(r,Fa),Ne(r,kn));if(Ni(r))return ks(t),Oc(Ne(r,Sr),Ne(r,Dr),Ne(r,Cr),0,0,0,0,0,0,Ne(r,kn));L=S_(r);const ye=zi(r,ha(L,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:n,month:i,day:o,hour:a,minute:s,second:l,millisecond:R,microsecond:I,nanosecond:y}=y_(L,ye,t))}else{let ye;if(ks(t),({year:n,month:i,day:o,hour:a,minute:s,second:l,millisecond:R,microsecond:I,nanosecond:y,calendar:L,z:ye}=jd(Ul(r))),ye)throw new RangeError("Z designator not supported for PlainDateTime");if(tx(n,i,o,a,s,l,R,I,y),L||(L="iso8601"),!Lu(L))throw new RangeError(`invalid calendar identifier ${L}`);L=Hf(L)}return Oc(n,i,o,a,s,l,R,I,y,L)}function pv(r){if(bs(r))return r;let{years:t,months:n,weeks:i,days:o,hours:a,minutes:s,seconds:l,milliseconds:R,microseconds:I,nanoseconds:y}=Kh(r);return new(ur("%Temporal.Duration%"))(t,n,i,o,a,s,l,R,I,y)}function zh(r){if(Ca(r))return r;if(Lr(r))return new(ur("%Temporal.Instant%"))(Ne(r,Hr));const t=function OB(r){let{year:t,month:n,day:i,hour:o,minute:a,second:s,millisecond:l,microsecond:R,nanosecond:I,offset:y,z:L}=function(Ce){const je=jd(Ce);if(!je.z&&!je.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return je}(r);if(!L&&!y)throw new RangeError("Temporal.Instant requires a time zone offset");const ye=L?0:Np(y);({year:t,month:n,day:i,hour:o,minute:a,second:s,millisecond:l,microsecond:R,nanosecond:I}=aT(t,n,i,o,a,s,l,R,I-ye));const Te=Lp(t,n,i,o,a,s,l,R,I);if(null===Te)throw new RangeError("DateTime outside of supported range");return Te}(Ul(r));return new(ur("%Temporal.Instant%"))(t)}function BB(r,t){let n=r;if(ls(n)){if(uc(n))return n;let l,R;if(Ka(n,kn))l=Ne(n,kn),R=!1;else{let y=n.calendar;R=void 0===y,void 0===y&&(y="iso8601"),l=dd(y)}const I=zi(n,ha(l,["day","month","monthCode","year"]),[]);return R&&void 0!==I.month&&void 0===I.monthCode&&void 0===I.year&&(I.year=1972),Sy(l,I,t)}ks(t);let{month:i,day:o,referenceISOYear:a,calendar:s}=VA(Ul(n));if(void 0===s&&(s="iso8601"),!Lu(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=Hf(s),void 0===a?(Vf(1972,i,o),v_(i,o,s)):Sy(s,v_(i,o,s,a))}function qm(r,t="constrain"){let n,i,o,a,s,l,R=r;if(ls(R)){if(Vs(R))return R;if(Lr(R)&&(R=ud(Ne(R,no),Ne(R,Fa),Ne(R,kn))),Ti(R))return new(ur("%Temporal.PlainTime%"))(Ne(R,mi),Ne(R,Ei),Ne(R,xi),Ne(R,Si),Ne(R,Mi),Ne(R,Ai));({hour:n,minute:i,second:o,millisecond:a,microsecond:s,nanosecond:l}=m_(R)),({hour:n,minute:i,second:o,millisecond:a,microsecond:s,nanosecond:l}=LE(n,i,o,a,s,l,t))}else({hour:n,minute:i,second:o,millisecond:a,microsecond:s,nanosecond:l}=function(y){const L=RA.exec(y);let ye,Te,Me,Ce,je,Je,ze;if(L){ye=Da(L[1]),Te=Da(L[2]||L[5]),Me=Da(L[3]||L[6]),60===Me&&(Me=59);const He=(L[4]||L[7])+"000000000";Ce=Da(He.slice(0,3)),je=Da(He.slice(3,6)),Je=Da(He.slice(6,9)),ze=L[14];for(const[,rt,yt,ct]of ze.matchAll(Bh))if("u-ca"!==yt&&"!"===rt)throw new RangeError(`Unrecognized annotation: !${yt}=${ct}`);if(L[8])throw new RangeError("Z designator not supported for PlainTime")}else{let He,rt;if(({hasTime:rt,hour:ye,minute:Te,second:Me,millisecond:Ce,microsecond:je,nanosecond:Je,z:He}=jd(y)),!rt)throw new RangeError(`time is missing in string: ${y}`);if(He)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(y))return{hour:ye,minute:Te,second:Me,millisecond:Ce,microsecond:je,nanosecond:Je};try{const{month:He,day:rt}=VA(y);Vf(1972,He,rt)}catch{try{const{year:He,month:rt}=$A(y);Vf(He,rt,1)}catch{return{hour:ye,minute:Te,second:Me,millisecond:Ce,microsecond:je,nanosecond:Je}}}throw new RangeError(`invalid ISO 8601 time-only string ${y}; may need a T prefix`)}(Ul(R))),C_(n,i,o,a,s,l);return new(ur("%Temporal.PlainTime%"))(n,i,o,a,s,l)}function FE(r,t){if(ls(r)){if(eo(r))return r;const s=S_(r);return xy(s,zi(r,ha(s,["month","monthCode","year"]),[]),t)}ks(t);let{year:n,month:i,referenceISODay:o,calendar:a}=$A(Ul(r));if(void 0===a&&(a="iso8601"),!Lu(a))throw new RangeError(`invalid calendar identifier ${a}`);return a=Hf(a),void 0===o?(Vf(n,i,1),b_(n,i,a)):xy(a,b_(n,i,a,o))}function g_(r,t,n,i,o,a,s,l,R,I,y,L,ye,Te,Me){const Ce=new(ur("%Temporal.PlainDateTime%"))(r,t,n,i,o,a,s,l,R);if("wall"===I||"ignore"===Te)return Ne(Fc(L,Ce,ye),Hr);if("exact"===I||"use"===Te){const Je=Lp(r,t,n,i,o,a,s,l,R);if(null===Je)throw new RangeError("ZonedDateTime outside of supported range");return vt.subtract(Je,vt.BigInt(y))}const je=wv(L,Ce);for(const Je of je){const ze=pf(L,Je),He=vt.toNumber(bu(vt.BigInt(ze),w5,"halfExpand"));if(ze===y||Me&&He===y)return Ne(Je,Hr)}if("reject"===Te){const Je=A_(y),ze=vu(L)?Ne(L,Ud):"time zone";throw new RangeError(`Offset ${Je} is invalid for ${Ce.toString()} in ${ze}`)}return Ne(P5(je,L,Ce,ye),Hr)}function Qm(r,t){let n,i,o,a,s,l,R,I,y,L,ye,Te,Me,Ce,je=!1,Je="option";if(ls(r)){if(Lr(r))return r;Te=S_(r);const He=ha(Te,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);He.push("timeZone","offset");const rt=zi(r,He,["timeZone"]);L=Uc(rt.timeZone),ye=rt.offset,void 0===ye&&(Je="wall"),Me=Pc(t),Ce=u_(t,"reject"),({year:n,month:i,day:o,hour:a,minute:s,second:l,millisecond:R,microsecond:I,nanosecond:y}=y_(Te,rt,t))}else{let He,rt;if(({year:n,month:i,day:o,hour:a,minute:s,second:l,millisecond:R,microsecond:I,nanosecond:y,ianaName:He,offset:ye,z:rt,calendar:Te}=function(ct){const _t=jd(ct);if(!_t.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return _t}(Ul(r))),L=Uc(He),rt?Je="exact":ye||(Je="wall"),Te||(Te="iso8601"),!Lu(Te))throw new RangeError(`invalid calendar identifier ${Te}`);Te=Hf(Te),je=!0,Me=Pc(t),Ce=u_(t,"reject"),ks(t)}let ze=0;return"option"===Je&&(ze=Np(ye)),Bc(g_(n,i,o,a,s,l,R,I,y,Je,ze,L,Me,Ce,je),L,Te)}function T5(r,t,n,i,o){Vf(t,n,i),hT(t,n,i),Oh(r),Vi(r,Sr,t),Vi(r,Dr,n),Vi(r,Cr,i),Vi(r,kn,o),Vi(r,SA,!0)}function Nu(r,t,n,i="iso8601"){const o=ur("%Temporal.PlainDate%"),a=kc(o.prototype);return T5(a,r,t,n,i),a}function HA(r,t,n,i,o,a,s,l,R,I,y){tx(t,n,i,o,a,s,l,R,I),B5(t,n,i,o,a,s,l,R,I),Oh(r),Vi(r,Sr,t),Vi(r,Dr,n),Vi(r,Cr,i),Vi(r,mi,o),Vi(r,Ei,a),Vi(r,xi,s),Vi(r,Si,l),Vi(r,Mi,R),Vi(r,Ai,I),Vi(r,kn,y)}function Oc(r,t,n,i,o,a,s,l,R,I="iso8601"){const y=ur("%Temporal.PlainDateTime%"),L=kc(y.prototype);return HA(L,r,t,n,i,o,a,s,l,R,I),L}function I5(r,t,n,i,o){Vf(o,t,n),hT(o,t,n),Oh(r),Vi(r,Dr,t),Vi(r,Cr,n),Vi(r,Sr,o),Vi(r,kn,i),Vi(r,AA,!0)}function v_(r,t,n="iso8601",i=1972){const o=ur("%Temporal.PlainMonthDay%"),a=kc(o.prototype);return I5(a,r,t,n,i),a}function D5(r,t,n,i,o){var s,l;Vf(t,n,o),l=n,fc(s=t,LA,RE),s===LA?fc(l,4,12):s===RE&&fc(l,1,9),Oh(r),Vi(r,Sr,t),Vi(r,Dr,n),Vi(r,Cr,o),Vi(r,kn,i),Vi(r,MA,!0)}function b_(r,t,n="iso8601",i=1){const o=ur("%Temporal.PlainYearMonth%"),a=kc(o.prototype);return D5(a,r,t,n,i),a}function NB(r,t,n,i){Ay(t),Oh(r),Vi(r,Hr,t),Vi(r,no,n),Vi(r,kn,i);const o=new(ur("%Temporal.Instant%"))(Ne(r,Hr));Vi(r,Fa,o)}function Bc(r,t,n="iso8601"){const i=ur("%Temporal.ZonedDateTime%"),o=kc(i.prototype);return NB(o,r,t,n),o}function ha(r,t){if("string"==typeof r){const o=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.fields%"),o,[t])}const n=$r(vo(r,"fields"),r,[t]),i=[];for(const o of n){if("string"!=typeof o)throw new TypeError("bad return from calendar.fields()");uf.call(i,o)}return i}function Ey(r,t,n){if("string"==typeof r){const o=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.mergeFields%"),o,[t,n])}const i=$r(vo(r,"mergeFields"),r,[t,n]);if(!ls(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function Nc(r,t,n,i,o){let a=o;if("string"==typeof r){const l=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.dateAdd%"),l,[t,n,i])}void 0===a&&(a=vo(r,"dateAdd"));const s=vy(a,r,[t,n,i]);if(!Ni(s))throw new TypeError("invalid result");return s}function hf(r,t,n,i,o){let a=o;if("string"==typeof r){const l=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.dateUntil%"),l,[t,n,i])}void 0===a&&(a=vo(r,"dateUntil"));const s=vy(a,r,[t,n,i]);if(!bs(s))throw new TypeError("invalid result");return s}function jE(r,t){if("string"==typeof r){const i=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.year%"),i,[t])}let n=$r(vo(r,"year"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar year result must be an integer");if(!Bu(n))throw new RangeError("calendar year result must be an integer");return n}function w_(r,t){if("string"==typeof r){const i=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.month%"),i,[t])}let n=$r(vo(r,"month"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar month result must be a positive integer");if(!Bu(n)||n<1)throw new RangeError("calendar month result must be a positive integer");return n}function mv(r,t){if("string"==typeof r){const i=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.monthCode%"),i,[t])}let n=$r(vo(r,"monthCode"),r,[t]);if("string"!=typeof n)throw new TypeError("calendar monthCode result must be a string");return n}function __(r,t){if("string"==typeof r){const i=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.day%"),i,[t])}const n=$r(vo(r,"day"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar day result must be a positive integer");if(!Bu(n)||n<1)throw new RangeError("calendar day result must be a positive integer");return n}function E_(r,t){if("string"==typeof r){const i=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.era%"),i,[t])}let n=$r(vo(r,"era"),r,[t]);if(void 0===n)return n;if("string"!=typeof n)throw new TypeError("calendar era result must be a string or undefined");return n}function KE(r,t){if("string"==typeof r){const i=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.eraYear%"),i,[t])}let n=$r(vo(r,"eraYear"),r,[t]);if(void 0===n)return n;if("number"!=typeof n)throw new TypeError("calendar eraYear result must be an integer or undefined");if(!Bu(n))throw new RangeError("calendar eraYear result must be an integer or undefined");return n}function x_(r,t){if("string"==typeof r){const i=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.dayOfWeek%"),i,[t])}const n=$r(vo(r,"dayOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!Bu(n)||n<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return n}function WA(r,t){if("string"==typeof r){const i=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.dayOfYear%"),i,[t])}const n=$r(vo(r,"dayOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfYear result must be a positive integer");if(!Bu(n)||n<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return n}function $E(r,t){if("string"==typeof r){const i=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.weekOfYear%"),i,[t])}const n=$r(vo(r,"weekOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar weekOfYear result must be a positive integer");if(!Bu(n)||n<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return n}function VE(r,t){if("string"==typeof r){const i=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.yearOfWeek%"),i,[t])}const n=$r(vo(r,"yearOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar yearOfWeek result must be an integer");if(!Bu(n))throw new RangeError("calendar yearOfWeek result must be an integer");return n}function GA(r,t){if("string"==typeof r){const i=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.daysInWeek%"),i,[t])}const n=$r(vo(r,"daysInWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInWeek result must be a positive integer");if(!Bu(n)||n<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return n}function zE(r,t){if("string"==typeof r){const i=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.daysInMonth%"),i,[t])}const n=$r(vo(r,"daysInMonth"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInMonth result must be a positive integer");if(!Bu(n)||n<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return n}function HE(r,t){if("string"==typeof r){const i=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.daysInYear%"),i,[t])}const n=$r(vo(r,"daysInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInYear result must be a positive integer");if(!Bu(n)||n<1)throw new RangeError("calendar daysInYear result must be a positive integer");return n}function yv(r,t){if("string"==typeof r){const i=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.monthsInYear%"),i,[t])}const n=$r(vo(r,"monthsInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar monthsInYear result must be a positive integer");if(!Bu(n)||n<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return n}function WE(r,t){if("string"==typeof r){const i=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.inLeapYear%"),i,[t])}const n=$r(vo(r,"inLeapYear"),r,[t]);if("boolean"!=typeof n)throw new TypeError("calendar inLeapYear result must be a boolean");return n}function dd(r){if(ls(r)){if(Ka(r,kn))return Ne(r,kn);if(!(vs(o=r)||"dateAdd"in o&&"dateFromFields"in o&&"dateUntil"in o&&"day"in o&&"dayOfWeek"in o&&"dayOfYear"in o&&"daysInMonth"in o&&"daysInWeek"in o&&"daysInYear"in o&&"fields"in o&&"id"in o&&"inLeapYear"in o&&"mergeFields"in o&&"month"in o&&"monthCode"in o&&"monthDayFromFields"in o&&"monthsInYear"in o&&"weekOfYear"in o&&"year"in o&&"yearMonthFromFields"in o&&"yearOfWeek"in o))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return r}var o;const t=Ul(r);if(Lu(t))return Hf(t);let n;try{({calendar:n}=jd(t))}catch{try{({calendar:n}=$A(t))}catch{({calendar:n}=VA(t))}}if(n||(n="iso8601"),!Lu(n))throw new RangeError(`invalid calendar identifier ${n}`);return Hf(n)}function S_(r){if(Ka(r,kn))return Ne(r,kn);const{calendar:t}=r;return void 0===t?"iso8601":dd(t)}function Lc(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("calendar.id should be a string");return t}function gv(r){return ls(r)?r:new(ur("%Temporal.Calendar%"))(r)}function M_(r,t){return r===t||Lc(r)===Lc(t)}function GE(r,t,n){if(r===t)return;const i=Lc(r),o=Lc(t);if(i!==o)throw new RangeError(`cannot ${n} of ${i} and ${o} calendars`)}function C5(r,t){if(r===t)return t;const n=Lc(r),i=Lc(t);if(n===i||"iso8601"===n)return t;if("iso8601"===i)return r;throw new RangeError("irreconcilable calendars")}function Bp(r,t,n,i){if("string"==typeof r){const a=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.dateFromFields%"),a,[t,n])}const o=$r(i??vo(r,"dateFromFields"),r,[t,n]);if(!Ni(o))throw new TypeError("invalid result");return o}function xy(r,t,n){if("string"==typeof r){const o=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.yearMonthFromFields%"),o,[t,n])}let i=$r(vo(r,"yearMonthFromFields"),r,[t,n]);if(!eo(i))throw new TypeError("invalid result");return i}function Sy(r,t,n){if("string"==typeof r){const o=new(ur("%Temporal.Calendar%"))(r);return $r(ur("%Temporal.Calendar.prototype.monthDayFromFields%"),o,[t,n])}let i=$r(vo(r,"monthDayFromFields"),r,[t,n]);if(!uc(i))throw new TypeError("invalid result");return i}function Uc(r){if(ls(r)){if(Lr(r))return Ne(r,no);if(!(vu(n=r)||"getOffsetNanosecondsFor"in n&&"getPossibleInstantsFor"in n&&"id"in n))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return r}var n;return function M5(r){const{ianaName:t,offset:n,z:i}=function(a){if(new RegExp(`^${lv.source}$`,"i").test(a))return{ianaName:a};try{const s=jd(a);if(s.z||s.offset||s.ianaName)return s}catch{}throw new RangeError(`Invalid time zone: ${a}`)}(r);return t?JE(t):i?"UTC":A_(Np(n))}(Ul(r))}function vv(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("timeZone.id should be a string");return t}function k5(r){return ls(r)?r:new(ur("%Temporal.TimeZone%"))(r)}function ZA(r,t){return r===t||vv(r)===vv(t)}function bv(r){return Nu(Ne(r,Sr),Ne(r,Dr),Ne(r,Cr),Ne(r,kn))}function YA(r){return new(ur("%Temporal.PlainTime%"))(Ne(r,mi),Ne(r,Ei),Ne(r,xi),Ne(r,Si),Ne(r,Mi),Ne(r,Ai))}function pf(r,t,n){if("string"==typeof r){const o=new(ur("%Temporal.TimeZone%"))(r);return $r(ur("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),o,[t])}const i=$r(n??vo(r,"getOffsetNanosecondsFor"),r,[t]);if("number"!=typeof i)throw new TypeError("bad return from getOffsetNanosecondsFor");if(!Bu(i)||cs(i)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function ZE(r,t){return A_(pf(r,t))}function ud(r,t,n){const i=Ne(t,Hr),o=pf(r,t);let{year:a,month:s,day:l,hour:R,minute:I,second:y,millisecond:L,microsecond:ye,nanosecond:Te}=nT(i);return({year:a,month:s,day:l,hour:R,minute:I,second:y,millisecond:L,microsecond:ye,nanosecond:Te}=aT(a,s,l,R,I,y,L,ye,Te+o)),Oc(a,s,l,R,I,y,L,ye,Te,n)}function Fc(r,t,n){return P5(wv(r,t),r,t,n)}function P5(r,t,n,i){const o=ur("%Temporal.Instant%"),a=r.length;if(1===a)return r[0];if(a)switch(i){case"compatible":case"earlier":return r[0];case"later":return r[a-1];case"reject":throw new RangeError("multiple instants found")}const s=Ne(n,Sr),l=Ne(n,Dr),R=Ne(n,Cr),I=Ne(n,mi),y=Ne(n,Ei),L=Ne(n,xi),ye=Ne(n,Si),Te=Ne(n,Mi),Me=Ne(n,Ai),Ce=Lp(s,l,R,I,y,L,ye,Te,Me);if(null===Ce)throw new RangeError("DateTime outside of supported range");const je=new o(vt.subtract(Ce,jh)),Je=new o(vt.add(Ce,jh)),ze=pf(t,je),He=pf(t,Je)-ze;switch(i){case"earlier":{const rt=Ne(n,kn),yt=ur("%Temporal.PlainDateTime%"),ct=_T(s,l,R,I,y,L,ye,Te,Me,rt,0,0,0,0,0,0,0,0,0,-He,void 0);return wv(t,new yt(ct.year,ct.month,ct.day,ct.hour,ct.minute,ct.second,ct.millisecond,ct.microsecond,ct.nanosecond,rt))[0]}case"compatible":case"later":{const rt=Ne(n,kn),yt=ur("%Temporal.PlainDateTime%"),ct=_T(s,l,R,I,y,L,ye,Te,Me,rt,0,0,0,0,0,0,0,0,0,He,void 0),_t=wv(t,new yt(ct.year,ct.month,ct.day,ct.hour,ct.minute,ct.second,ct.millisecond,ct.microsecond,ct.nanosecond,rt));return _t[_t.length-1]}case"reject":throw new RangeError("no such instant found")}}function wv(r,t,n){if("string"==typeof r){const a=new(ur("%Temporal.TimeZone%"))(r);return $r(ur("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),a,[t])}const i=$r(n??vo(r,"getPossibleInstantsFor"),r,[t]),o=[];for(const a of i){if(!Ca(a))throw new TypeError("bad return from getPossibleInstantsFor");uf.call(o,a)}return o}function e0(r){let t;return t=r<0||r>9999?(r<0?"-":"+")+`000000${cs(r)}`.slice(-6):`0000${r}`.slice(-4),t}function ds(r){return`00${r}`.slice(-2)}function XA(r,t,n,i,o){if("minute"===o)return"";const a=`:${ds(r)}`;let s,l=1e6*t+1e3*n+i;if("auto"===o){if(0===l)return a;for(s=`${l}`.padStart(9,"0");"0"===s[s.length-1];)s=s.slice(0,-1)}else{if(0===o)return a;s=`${l}`.padStart(9,"0").slice(0,o)}return`${a}.${s}`}function JA(r,t,n){let i=t;void 0===i&&(i="UTC");const o=ud(i,r,"iso8601"),a=e0(Ne(o,Sr)),s=ds(Ne(o,Dr)),l=ds(Ne(o,Cr)),R=ds(Ne(o,mi)),I=ds(Ne(o,Ei)),y=XA(Ne(o,xi),Ne(o,Si),Ne(o,Mi),Ne(o,Ai),n);let L="Z";return void 0!==t&&(L=tT(pf(i,r))),`${a}-${s}-${l}T${R}:${I}${y}${L}`}function qA(r,t="auto",n){function i(Jt){return Jt<=CB?Jt.toString(10):vt.BigInt(Jt).toString(10)}const o=Ne(r,Ol),a=Ne(r,dc),s=Ne(r,rl),l=Ne(r,wa),R=Ne(r,Dc),I=Ne(r,Bl);let y=Ne(r,Cc),L=Ne(r,cd),ye=Ne(r,ld),Te=Ne(r,Nl);const Me=Gh(o,a,s,l,R,I,y,L,ye,Te);if(n){const{unit:Jt,increment:Qt,roundingMode:fn}=n;({seconds:y,milliseconds:L,microseconds:ye,nanoseconds:Te}=yf(0,0,0,0,0,0,y,L,ye,Te,Qt,Jt,fn))}const Ce=[];o&&Ce.push(`${i(cs(o))}Y`),a&&Ce.push(`${i(cs(a))}M`),s&&Ce.push(`${i(cs(s))}W`),l&&Ce.push(`${i(cs(l))}D`);const je=[];R&&je.push(`${i(cs(R))}H`),I&&je.push(`${i(cs(I))}M`);const Je=[];let ze,He,rt,yt,ct=_v(0,0,0,y,L,ye,Te,0);({quotient:ct,remainder:ze}=fa(ct,go)),({quotient:ct,remainder:He}=fa(ct,go)),({quotient:yt,remainder:rt}=fa(ct,go));const _t=1e6*cs(vt.toNumber(rt))+1e3*cs(vt.toNumber(He))+cs(vt.toNumber(ze));let It;if("auto"===t){if(0!==_t)for(It=`${_t}`.padStart(9,"0");"0"===It[It.length-1];)It=It.slice(0,-1)}else 0!==t&&(It=`${_t}`.padStart(9,"0").slice(0,t));return It&&Je.unshift(".",It),vt.equal(yt,Cs)&&!Je.length&&"auto"===t||Je.unshift(gu(yt).toString()),Je.length&&je.push(`${Je.join("")}S`),je.length&&je.unshift("T"),Ce.length||je.length?`${Me<0?"-":""}P${Ce.join("")}${je.join("")}`:"PT0S"}function QA(r,t="auto"){return`${e0(Ne(r,Sr))}-${ds(Ne(r,Dr))}-${ds(Ne(r,Cr))}${NE(Ne(r,kn),t)}`}function eT(r,t,n="auto",i){let o=Ne(r,Sr),a=Ne(r,Dr),s=Ne(r,Cr),l=Ne(r,mi),R=Ne(r,Ei),I=Ne(r,xi),y=Ne(r,Si),L=Ne(r,Mi),ye=Ne(r,Ai);if(i){const{unit:Te,increment:Me,roundingMode:Ce}=i;({year:o,month:a,day:s,hour:l,minute:R,second:I,millisecond:y,microsecond:L,nanosecond:ye}=xT(o,a,s,l,R,I,y,L,ye,Me,Te,Ce))}return`${e0(o)}-${ds(a)}-${ds(s)}T${ds(l)}:${ds(R)}${XA(I,y,L,ye,t)}${NE(Ne(r,kn),n)}`}function R5(r,t="auto"){let n=`${ds(Ne(r,Dr))}-${ds(Ne(r,Cr))}`;const i=Lc(Ne(r,kn));("always"===t||"critical"===t||"iso8601"!==i)&&(n=`${e0(Ne(r,Sr))}-${n}`);const o=A5(i,t);return o&&(n+=o),n}function YE(r,t="auto"){let n=`${e0(Ne(r,Sr))}-${ds(Ne(r,Dr))}`;const i=Lc(Ne(r,kn));("always"===t||"critical"===t||"iso8601"!==i)&&(n+=`-${ds(Ne(r,Cr))}`);const o=A5(i,t);return o&&(n+=o),n}function XE(r,t,n="auto",i="auto",o="auto",a){let s=Ne(r,Fa);if(a){const{unit:y,increment:L,roundingMode:ye}=a,Te=k_(Ne(r,Hr),L,y,ye);s=new(ur("%Temporal.Instant%"))(Te)}const l=Ne(r,no),R=ud(l,s,"iso8601");let I=`${e0(Ne(R,Sr))}-${ds(Ne(R,Dr))}-${ds(Ne(R,Cr))}T${ds(Ne(R,mi))}:${ds(Ne(R,Ei))}${XA(Ne(R,xi),Ne(R,Si),Ne(R,Mi),Ne(R,Ai),t)}`;return"never"!==o&&(I+=tT(pf(l,s))),"never"!==i&&(I+=`[${"critical"===i?"!":""}${vv(l)}]`),I+=NE(Ne(r,kn),n),I}function My(r){return AT.test(i_(r))}function Np(r){const t=AT.exec(i_(r));if(!t)throw new RangeError(`invalid time zone offset: ${r}`);return("-"===t[1]||"\u2212"===t[1]?-1:1)*(1e9*(60*(60*+t[2]+ +(t[3]||0))+ +(t[4]||0))+ +((t[5]||0)+"000000000").slice(0,9))}function JE(r){return My(r)?A_(Np(r)):BE(i_(r)).resolvedOptions().timeZone}function Hh(r,t){const{year:n,month:i,day:o,hour:a,minute:s,second:l,millisecond:R,microsecond:I,nanosecond:y}=rT(r,t),L=n%400,ye=(n-L)/400,Te=vt.multiply(vt.BigInt(146097),jh),Me=Lp(L,i,o,a,s,l,R,I,y),Ce=vt.add(Me,vt.multiply(Te,vt.BigInt(ye)));return vt.toNumber(vt.subtract(Ce,t))}function A_(r){const t=r<0?"-":"+",n=cs(r),i=n%1e9,o=Fd(n/1e9)%60,a=Fd(n/6e10)%60,s=ds(Fd(n/36e11)),l=ds(a),R=ds(o);let I="";if(i){let y=`${i}`.padStart(9,"0");for(;"0"===y[y.length-1];)y=y.slice(0,-1);I=`:${R}.${y}`}else o&&(I=`:${R}`);return`${t}${s}:${l}${I}`}function tT(r){let t=vt.toNumber(bu(vt.BigInt(r),w5,"halfExpand"));const n=t<0?"-":"+";t=cs(t);const i=t/6e10%60;return`${n}${ds(Fd(t/36e11))}:${ds(i)}`}function Lp(r,t,n,i,o,a,s,l,R){const I=new Date;I.setUTCHours(i,o,a,s),I.setUTCFullYear(r,t-1,n);const y=I.getTime();if(Gm(y))return null;let L=vt.multiply(vt.BigInt(y),yu);return L=vt.add(L,vt.multiply(vt.BigInt(l),go)),L=vt.add(L,vt.BigInt(R)),vt.lessThan(L,o_)||vt.greaterThan(L,Zm)?null:L}function nT(r){const{quotient:t,remainder:n}=fa(r,yu);let i=vt.toNumber(t),o=vt.toNumber(n);o<0&&(o+=1e6,i-=1);const a=Fd(o/1e3)%1e3,s=o%1e3,l=new Date(i);return{epochMilliseconds:i,year:l.getUTCFullYear(),month:l.getUTCMonth()+1,day:l.getUTCDate(),hour:l.getUTCHours(),minute:l.getUTCMinutes(),second:l.getUTCSeconds(),millisecond:l.getUTCMilliseconds(),microsecond:a,nanosecond:s}}function rT(r,t){const{epochMilliseconds:n,millisecond:i,microsecond:o,nanosecond:a}=nT(t),{year:s,month:l,day:R,hour:I,minute:y,second:L}=(Me=n,function(Je){const ze=Je.split(/[^\w]+/);if(7!==ze.length)throw new RangeError(`expected 7 parts in "${Je}`);const He=+ze[0],rt=+ze[1];let yt=+ze[2];const ct=ze[3].toUpperCase();if("B"===ct||"BC"===ct)yt=1-yt;else if("A"!==ct&&"AD"!==ct)throw new RangeError(`Unknown era ${ct} in "${Je}`);let _t=+ze[4];24===_t&&(_t=0);const It=+ze[5],Jt=+ze[6];if(!(Ll(yt)&&Ll(He)&&Ll(rt)&&Ll(_t)&&Ll(It)&&Ll(Jt)))throw new RangeError(`Invalid number in "${Je}`);return{year:yt,month:He,day:rt,hour:_t,minute:It,second:Jt}}(BE(r).format(new Date(Me))));var Me;return aT(s,l,R,I,y,L,i,o,a)}function iT(r,t){return vt.lessThan(r,t)?t:r}function oT(){return vt.add(MT(),_5)}function sT(r,t){if(vt.lessThan(t,Ym))return sT(r,Ym);const n=vt.add(t,UA),i=iT(oT(),n);let o=iT(Ym,t);const a=Hh(r,o);let s=o,l=a;for(;a===l&&vt.lessThan(vt.BigInt(o),i);){if(s=vt.add(o,FA),vt.greaterThan(s,Zm))return null;l=Hh(r,s),a===l&&(o=s)}return a===l?null:TT(R=>Hh(r,R),o,s,a,l)}function qE(r,t){const n=oT(),i=vt.greaterThan(t,n),o=i?vt.subtract(t,UA):Ym;if("Africa/Casablanca"===r||"Africa/El_Aaiun"===r){const I=Ne(zh("2088-01-01T00Z"),Hr);if(vt.lessThan(I,t))return qE(r,I)}let a=vt.subtract(t,by);if(vt.lessThan(a,Ym))return null;const s=Hh(r,a);let l=a,R=s;for(;s===R&&vt.greaterThan(a,o);){if(l=vt.subtract(a,FA),vt.lessThan(l,Ym))return null;R=Hh(r,l),s===R&&(a=l)}if(s===R){if(i){const I=vt.subtract(n,jh);return qE(r,I)}return null}return TT(I=>Hh(r,I),l,a,R,s)}function Up(r){return void 0!==r&&r%4==0&&(r%100!=0||r%400==0)}function Wh(r,t){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[Up(r)?"leapyear":"standard"][t-1]}function T_(r,t,n){const i=t+(t<3?10:-2),o=r-(t<3?1:0),a=Fd(o/100),s=o-100*a,l=(n+Fd(2.6*i-.2)+(s+Fd(s/4))+(Fd(a/4)-2*a))%7;return l+(l<=0?7:0)}function I_(r,t,n){let i=n;for(let o=t-1;o>0;o--)i+=Wh(r,o);return i}function O5(r,t,n){const i=I_(r,t,n),o=T_(r,t,n)||7,a=T_(r,1,1),s=Fd((i-o+10)/7);return s<1?5===a||6===a&&Up(r-1)?{week:53,year:r-1}:{week:52,year:r-1}:53===s&&(Up(r)?366:365)-i<4-o?{week:1,year:r+1}:{week:s,year:r}}function Gh(r,t,n,i,o,a,s,l,R,I){for(const y of[r,t,n,i,o,a,s,l,R,I])if(0!==y)return y<0?-1:1;return 0}function QE(r,t){let n=r,i=t;if(!Ll(n)||!Ll(i))throw new RangeError("infinity is out of range");return i-=1,n+=Fd(i/12),i%=12,i<0&&(i+=12),i+=1,{year:n,month:i}}function ex(r,t,n){let i=r,o=t,a=n;if(!Ll(a))throw new RangeError("infinity is out of range");({year:i,month:o}=QE(i,o));const s=146097;if(cs(a)>s){const I=Rp(a/s);i+=400*I,a-=I*s}let l=0,R=o>2?i:i-1;for(;l=Up(R)?366:365,a<-l;)i-=1,R-=1,a+=l;for(R+=1;l=Up(R)?366:365,a>l;)i+=1,R+=1,a-=l;for(;a<1;)({year:i,month:o}=QE(i,o-1)),a+=Wh(i,o);for(;a>Wh(i,o);)a-=Wh(i,o),({year:i,month:o}=QE(i,o+1));return{year:i,month:o,day:a}}function aT(r,t,n,i,o,a,s,l,R){const{deltaDays:I,hour:y,minute:L,second:ye,millisecond:Te,microsecond:Me,nanosecond:Ce}=Fp(i,o,a,s,l,R),{year:je,month:Je,day:ze}=ex(r,t,n+I);return{year:je,month:Je,day:ze,hour:y,minute:L,second:ye,millisecond:Te,microsecond:Me,nanosecond:Ce}}function Fp(r,t,n,i,o,a){let s,l=vt.BigInt(r),R=vt.BigInt(t),I=vt.BigInt(n),y=vt.BigInt(i),L=vt.BigInt(o),ye=vt.BigInt(a);return({quotient:s,remainder:ye}=Dy(ye,go)),L=vt.add(L,s),({quotient:s,remainder:L}=Dy(L,go)),y=vt.add(y,s),({quotient:s,remainder:y}=Dy(y,go)),I=vt.add(I,s),({quotient:s,remainder:I}=Dy(I,Uh)),R=vt.add(R,s),({quotient:s,remainder:R}=Dy(R,Uh)),l=vt.add(l,s),({quotient:s,remainder:l}=Dy(l,v5)),{deltaDays:vt.toNumber(s),hour:vt.toNumber(l),minute:vt.toNumber(R),second:vt.toNumber(I),millisecond:vt.toNumber(y),microsecond:vt.toNumber(L),nanosecond:vt.toNumber(ye)}}function _v(r,t,n,i,o,a,s,l){const R=vt.BigInt(r);let I=vt.BigInt(s);0!==r&&(I=vt.subtract(vt.BigInt(s),vt.BigInt(l)));const y=vt.add(vt.BigInt(t),vt.multiply(R,vt.BigInt(24))),L=vt.add(vt.BigInt(n),vt.multiply(y,Uh)),ye=vt.add(vt.BigInt(i),vt.multiply(L,Uh)),Te=vt.add(vt.BigInt(o),vt.multiply(ye,go)),Me=vt.add(vt.BigInt(a),vt.multiply(Te,go));return vt.add(vt.BigInt(I),vt.multiply(Me,go))}function cT(r,t){const n=ur("%Temporal.Instant%"),i=dv(vt.toNumber(r));let o=vt.BigInt(r),a=864e11;if(0===i)return{days:0,nanoseconds:Cs,dayLengthNs:a};if(!Lr(t)){let He;return({quotient:He,remainder:o}=fa(o,vt.BigInt(a))),{days:vt.toNumber(He),nanoseconds:o,dayLengthNs:a}}const s=Ne(t,Hr),l=Ne(t,Fa),R=vt.add(s,o),I=new n(R),y=Ne(t,no),L=Ne(t,kn),ye=ud(y,l,L),Te=ud(y,I,L);let{days:Me}=ix(Ne(ye,Sr),Ne(ye,Dr),Ne(ye,Cr),Ne(ye,mi),Ne(ye,Ei),Ne(ye,xi),Ne(ye,Si),Ne(ye,Mi),Ne(ye,Ai),Ne(Te,Sr),Ne(Te,Dr),Ne(Te,Cr),Ne(Te,mi),Ne(Te,Ei),Ne(Te,xi),Ne(Te,Si),Ne(Te,Mi),Ne(Te,Ai),L,"day",kc(null)),Ce=Kd(l,y,L,0,0,0,Me,0,0,0,0,0,0),je=vt.BigInt(Me);if(1===i)for(;vt.greaterThan(je,Cs)&&vt.greaterThan(Ce,R);)je=vt.subtract(je,by),Ce=Kd(l,y,L,0,0,0,vt.toNumber(je),0,0,0,0,0,0);o=vt.subtract(R,Ce);let Je=!1,ze=new n(Ce);do{const He=Kd(ze,y,L,0,0,0,i,0,0,0,0,0,0),rt=Ne(ze,Hr);a=vt.toNumber(vt.subtract(He,rt)),Je=vt.greaterThanOrEqual(vt.multiply(vt.subtract(o,vt.BigInt(a)),vt.BigInt(i)),Cs),Je&&(o=vt.subtract(o,vt.BigInt(a)),ze=new n(He),je=vt.add(je,vt.BigInt(i)))}while(Je);if(!Ou(je)&&x5(je)!==i)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!Ou(o)&&x5(o)!==i)throw uv(o)&&1===i?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(vt.greaterThanOrEqual(gu(o),gu(vt.BigInt(a))))throw new Error("assert not reached");return{days:vt.toNumber(je),nanoseconds:o,dayLengthNs:cs(a)}}function mf(r,t,n,i,o,a,s,l,R){let I=lT(r,t,n,i,o,a,s,l,R);if("positive overflow"===I||"negative overflow"===I)throw new RangeError("Duration out of range");return I}function lT(r,t,n,i,o,a,s,l,R){let I,y,L,ye,Te,Me,Ce=r;if(Lr(R)){const _t=Kd(Ne(R,Fa),Ne(R,no),Ne(R,kn),0,0,0,Ce,t,n,i,o,a,s),It=Ne(R,Hr);I=vt.subtract(_t,It)}else I=_v(Ce,t,n,i,o,a,s,0);"year"===l||"month"===l||"week"===l||"day"===l?({days:Ce,nanoseconds:I}=cT(I,R)):Ce=0;const je=vt.lessThan(I,Cs)?-1:1;switch(I=gu(I),y=L=ye=Te=Me=Cs,l){case"year":case"month":case"week":case"day":case"hour":({quotient:y,remainder:I}=fa(I,go)),({quotient:L,remainder:y}=fa(y,go)),({quotient:ye,remainder:L}=fa(L,go)),({quotient:Te,remainder:ye}=fa(ye,Uh)),({quotient:Me,remainder:Te}=fa(Te,Uh));break;case"minute":({quotient:y,remainder:I}=fa(I,go)),({quotient:L,remainder:y}=fa(y,go)),({quotient:ye,remainder:L}=fa(L,go)),({quotient:Te,remainder:ye}=fa(ye,Uh));break;case"second":({quotient:y,remainder:I}=fa(I,go)),({quotient:L,remainder:y}=fa(y,go)),({quotient:ye,remainder:L}=fa(L,go));break;case"millisecond":({quotient:y,remainder:I}=fa(I,go)),({quotient:L,remainder:y}=fa(y,go));break;case"microsecond":({quotient:y,remainder:I}=fa(I,go));break;case"nanosecond":break;default:throw new Error("assert not reached")}const Je=vt.toNumber(Me)*je,ze=vt.toNumber(Te)*je,He=vt.toNumber(ye)*je,rt=vt.toNumber(L)*je,yt=vt.toNumber(y)*je,ct=vt.toNumber(I)*je;for(const _t of[Ce,Je,ze,He,rt,yt,ct])if(!Ll(_t))return 1===je?"positive overflow":"negative overflow";return{days:Ce,hours:Je,minutes:ze,seconds:He,milliseconds:rt,microseconds:yt,nanoseconds:ct}}function D_(r,t,n,i,o,a){const s=ur("%Temporal.Duration%"),l=Gh(r,t,n,i,0,0,0,0,0,0);if(0===l)return{years:r,months:t,weeks:n,days:i};const R=vt.BigInt(l);let I,y,L=vt.BigInt(r),ye=vt.BigInt(t),Te=vt.BigInt(n),Me=vt.BigInt(i);a&&(y=Co(a),I=Ne(y,kn));const Ce=new s(l),je=new s(0,l),Je=new s(0,0,l);switch(o){case"year":break;case"month":{if(!I)throw new RangeError("a starting point is required for months balancing");let ze,He;for("string"!=typeof I&&(ze=vo(I,"dateAdd"),He=vo(I,"dateUntil"));!Ou(L);){const rt=Nc(I,y,Ce,void 0,ze),yt=kc(null);yt.largestUnit="month";const ct=hf(I,y,rt,yt,He),_t=vt.BigInt(Ne(ct,dc));y=rt,ye=vt.add(ye,_t),L=vt.subtract(L,R)}}break;case"week":{if(!I)throw new RangeError("a starting point is required for weeks balancing");const ze="string"!=typeof I?vo(I,"dateAdd"):void 0;for(;!Ou(L);){let He;({relativeTo:y,days:He}=il(I,y,Ce,ze)),Me=vt.add(Me,vt.BigInt(He)),L=vt.subtract(L,R)}for(;!Ou(ye);){let He;({relativeTo:y,days:He}=il(I,y,je,ze)),Me=vt.add(Me,vt.BigInt(He)),ye=vt.subtract(ye,R)}break}default:{if(Ou(L)&&Ou(ye)&&Ou(Te))break;if(!I)throw new RangeError("a starting point is required for balancing calendar units");const ze="string"!=typeof I?vo(I,"dateAdd"):void 0;for(;!Ou(L);){let He;({relativeTo:y,days:He}=il(I,y,Ce,ze)),Me=vt.add(Me,vt.BigInt(He)),L=vt.subtract(L,R)}for(;!Ou(ye);){let He;({relativeTo:y,days:He}=il(I,y,je,ze)),Me=vt.add(Me,vt.BigInt(He)),ye=vt.subtract(ye,R)}for(;!Ou(Te);){let He;({relativeTo:y,days:He}=il(I,y,Je,ze)),Me=vt.add(Me,vt.BigInt(He)),Te=vt.subtract(Te,R)}break}}return{years:vt.toNumber(L),months:vt.toNumber(ye),weeks:vt.toNumber(Te),days:vt.toNumber(Me)}}function dT(r,t,n,i,o){if(Lr(r)){const a=Ne(r,Fa),s=Ne(r,no),l=Ne(r,kn),R=pf(s,a),I=Kd(a,s,l,t,n,i,o,0,0,0,0,0,0);return pf(s,new(ur("%Temporal.Instant%"))(I))-R}return 0}function uT(r){return new(ur("%Temporal.Duration%"))(-Ne(r,Ol),-Ne(r,dc),-Ne(r,rl),-Ne(r,wa),-Ne(r,Dc),-Ne(r,Bl),-Ne(r,Cc),-Ne(r,cd),-Ne(r,ld),-Ne(r,Nl))}function fd(r,t,n){return m5(n,DB(t,r))}function fT(r,t,n){const i=fd(t,1,12);return{year:r,month:i,day:fd(n,1,Wh(r,i))}}function fc(r,t,n){if(r<t||r>n)throw new RangeError(`value out of range: ${t} <= ${r} <= ${n}`)}function Vf(r,t,n){fc(t,1,12),fc(n,1,Wh(r,t))}function hT(r,t,n){B5(r,t,n,12,0,0,0,0,0)}function C_(r,t,n,i,o,a){fc(r,0,23),fc(t,0,59),fc(n,0,59),fc(i,0,999),fc(o,0,999),fc(a,0,999)}function tx(r,t,n,i,o,a,s,l,R){Vf(r,t,n),C_(i,o,a,s,l,R)}function B5(r,t,n,i,o,a,s,l,R){if(fc(r,LA,RE),r===LA&&null==Lp(r,t,n+1,i,o,a,s,l,R-1)||r===RE&&null==Lp(r,t,n-1,i,o,a,s,l,R+1))throw new RangeError("DateTime outside of supported range")}function Ay(r){if(vt.lessThan(r,o_)||vt.greaterThan(r,Zm))throw new RangeError("Instant outside of supported range")}function Ev(r,t,n,i,o,a,s,l,R,I){const y=Gh(r,t,n,i,o,a,s,l,R,I);for(const L of[r,t,n,i,o,a,s,l,R,I]){if(!Ll(L))throw new RangeError("infinite values not allowed as duration fields");const ye=dv(L);if(0!==ye&&ye!==y)throw new RangeError("mixed-sign values not allowed as duration fields")}}function xv(r,t,n,i,o,a,s){switch(s){case"year":case"month":{const l=-Iy(r,t,n,i,o,a);if(0===l)return{years:0,months:0,weeks:0,days:0};const R={year:r,month:t,day:n},I={year:i,month:o,day:a};let y=I.year-R.year,L=t0(r,t,n,y,0,0,0,"constrain"),ye=-Iy(L.year,L.month,L.day,i,o,a);if(0===ye)return"year"===s?{years:y,months:0,weeks:0,days:0}:{years:0,months:12*y,weeks:0,days:0};let Te=I.month-R.month;if(ye!==l&&(y-=l,Te+=12*l),L=t0(r,t,n,y,Te,0,0,"constrain"),ye=-Iy(L.year,L.month,L.day,i,o,a),0===ye)return"year"===s?{years:y,months:Te,weeks:0,days:0}:{years:0,months:Te+12*y,weeks:0,days:0};ye!==l&&(Te-=l,Te===-l&&(y-=l,Te=11*l),L=t0(r,t,n,y,Te,0,0,"constrain"));let Me=0;return Me=L.month===I.month?I.day-L.day:l<0?-L.day-(Wh(I.year,I.month)-I.day):I.day+(Wh(L.year,L.month)-L.day),"month"===s&&(Te+=12*y,y=0),{years:y,months:Te,weeks:0,days:Me}}case"week":case"day":{let l,R,I;Iy(r,t,n,i,o,a)<0?(R={year:r,month:t,day:n},l={year:i,month:o,day:a},I=1):(R={year:i,month:o,day:a},l={year:r,month:t,day:n},I=-1);let y=I_(l.year,l.month,l.day)-I_(R.year,R.month,R.day);for(let ye=R.year;ye<l.year;++ye)y+=Up(ye)?366:365;let L=0;return"week"===s&&(L=Fd(y/7),y%=7),L*=I,y*=I,{years:0,months:0,weeks:L,days:y}}default:throw new Error("assert not reached")}}function nx(r,t,n,i,o,a,s,l,R,I,y,L){let ye=s-r,Te=l-t,Me=R-n,Ce=I-i,je=y-o,Je=L-a;const ze=Gh(0,0,0,0,ye,Te,Me,Ce,je,Je);ye*=ze,Te*=ze,Me*=ze,Ce*=ze,je*=ze,Je*=ze;let He=0;if(({deltaDays:He,hour:ye,minute:Te,second:Me,millisecond:Ce,microsecond:je,nanosecond:Je}=Fp(ye,Te,Me,Ce,je,Je)),0!=He)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return ye*=ze,Te*=ze,Me*=ze,Ce*=ze,je*=ze,Je*=ze,{hours:ye,minutes:Te,seconds:Me,milliseconds:Ce,microseconds:je,nanoseconds:Je}}function rx(r,t,n,i,o,a){const s=vt.subtract(t,r);let l=0,R=0,I=vt.toNumber(vt.remainder(s,go)),y=vt.toNumber(vt.remainder(vt.divide(s,go),go)),L=vt.toNumber(vt.remainder(vt.divide(s,yu),go)),ye=vt.toNumber(vt.divide(s,Fh));return({hours:l,minutes:R,seconds:ye,milliseconds:L,microseconds:y,nanoseconds:I}=yf(0,0,0,0,0,0,ye,L,y,I,n,i,a)),mf(0,l,R,ye,L,y,I,o)}function ix(r,t,n,i,o,a,s,l,R,I,y,L,ye,Te,Me,Ce,je,Je,ze,He,rt){let yt=r,ct=t,_t=n,{hours:It,minutes:Jt,seconds:Qt,milliseconds:fn,microseconds:Pn,nanoseconds:dn}=nx(i,o,a,s,l,R,ye,Te,Me,Ce,je,Je);const Sn=Gh(0,0,0,0,It,Jt,Qt,fn,Pn,dn);Iy(I,y,L,yt,ct,_t)===-Sn&&(({year:yt,month:ct,day:_t}=ex(yt,ct,_t-Sn)),({hours:It,minutes:Jt,seconds:Qt,milliseconds:fn,microseconds:Pn,nanoseconds:dn}=mf(-Sn,It,Jt,Qt,fn,Pn,dn,He)));const $t=Nu(yt,ct,_t,ze),Yt=Nu(I,y,L,ze),Xt=_y("day",He),yn=r0(rt);yn.largestUnit=Xt;let{years:en,months:En,weeks:Nn,days:Bn}=hf(ze,$t,Yt,yn);return({days:Bn,hours:It,minutes:Jt,seconds:Qt,milliseconds:fn,microseconds:Pn,nanoseconds:dn}=mf(Bn,It,Jt,Qt,fn,Pn,dn,He)),{years:en,months:En,weeks:Nn,days:Bn,hours:It,minutes:Jt,seconds:Qt,milliseconds:fn,microseconds:Pn,nanoseconds:dn}}function pT(r,t,n,i,o,a){const s=vt.subtract(t,r);if(vt.equal(s,Cs))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const l=ur("%Temporal.Instant%"),R=new l(r),I=new l(t),y=ud(n,R,i),L=ud(n,I,i);let{years:ye,months:Te,weeks:Me,days:Ce}=ix(Ne(y,Sr),Ne(y,Dr),Ne(y,Cr),Ne(y,mi),Ne(y,Ei),Ne(y,xi),Ne(y,Si),Ne(y,Mi),Ne(y,Ai),Ne(L,Sr),Ne(L,Dr),Ne(L,Cr),Ne(L,mi),Ne(L,Ei),Ne(L,xi),Ne(L,Si),Ne(L,Mi),Ne(L,Ai),i,o,a);const je=Kd(R,n,i,ye,Te,Me,0,0,0,0,0,0,0);let Je=vt.subtract(t,je);const ze=Bc(je,n,i);({nanoseconds:Je,days:Ce}=cT(Je,ze));const{hours:He,minutes:rt,seconds:yt,milliseconds:ct,microseconds:_t,nanoseconds:It}=mf(0,0,0,0,0,0,vt.toNumber(Je),"hour");return{years:ye,months:Te,weeks:Me,days:Ce,hours:He,minutes:rt,seconds:yt,milliseconds:ct,microseconds:_t,nanoseconds:It}}function Ty(r,t,n,i,o,a){const s=fv.reduce((Te,Me)=>{const Ce=Me[0],je=Me[1];return"datetime"!==n&&Me[2]!==n||i.includes(je)||Te.push(je,Ce),Te},[]);let l=Rc(t,"largestUnit",n,"auto");if(i.includes(l))throw new RangeError(`largestUnit must be one of ${s.join(", ")}, not ${l}`);const R=$h(t);let I=ff(t,"trunc");"since"===r&&(I=function(Me){switch(Me){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return Me}}(I));const y=Rc(t,"smallestUnit",n,o);if(i.includes(y))throw new RangeError(`smallestUnit must be one of ${s.join(", ")}, not ${y}`);const L=_y(a,y);if("auto"===l&&(l=L),_y(l,y)!==l)throw new RangeError(`largestUnit ${l} cannot be smaller than smallestUnit ${y}`);const ye={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[y];return void 0!==ye&&Vh(R,ye,!1),{largestUnit:l,roundingIncrement:R,roundingMode:I,smallestUnit:y}}function mT(r,t,n,i){const o="since"===r?-1:1,a=zh(n),s=Ty(r,r0(i),"time",[],"nanosecond","second"),l=Ne(t,Hr),R=Ne(a,Hr);let{hours:I,minutes:y,seconds:L,milliseconds:ye,microseconds:Te,nanoseconds:Me}=rx(l,R,s.roundingIncrement,s.smallestUnit,s.largestUnit,s.roundingMode);return new(ur("%Temporal.Duration%"))(0,0,0,0,o*I,o*y,o*L,o*ye,o*Te,o*Me)}function yT(r,t,n,i){const o="since"===r?-1:1,a=Co(n),s=Ne(t,kn);GE(s,Ne(a,kn),"compute difference between dates");const l=r0(i),R=Ty(r,l,"date",[],"day","day");l.largestUnit=R.largestUnit;let{years:I,months:y,weeks:L,days:ye}=hf(s,t,a,l);return"day"===R.smallestUnit&&1===R.roundingIncrement||({years:I,months:y,weeks:L,days:ye}=yf(I,y,L,ye,0,0,0,0,0,0,R.roundingIncrement,R.smallestUnit,R.roundingMode,t)),new(ur("%Temporal.Duration%"))(o*I,o*y,o*L,o*ye,0,0,0,0,0,0)}function gT(r,t,n,i){const o="since"===r?-1:1,a=Jm(n),s=Ne(t,kn);GE(s,Ne(a,kn),"compute difference between dates");const l=r0(i),R=Ty(r,l,"datetime",[],"nanosecond","day");let{years:I,months:y,weeks:L,days:ye,hours:Te,minutes:Me,seconds:Ce,milliseconds:je,microseconds:Je,nanoseconds:ze}=ix(Ne(t,Sr),Ne(t,Dr),Ne(t,Cr),Ne(t,mi),Ne(t,Ei),Ne(t,xi),Ne(t,Si),Ne(t,Mi),Ne(t,Ai),Ne(a,Sr),Ne(a,Dr),Ne(a,Cr),Ne(a,mi),Ne(a,Ei),Ne(a,xi),Ne(a,Si),Ne(a,Mi),Ne(a,Ai),s,R.largestUnit,l);const He=bv(t);return({years:I,months:y,weeks:L,days:ye,hours:Te,minutes:Me,seconds:Ce,milliseconds:je,microseconds:Je,nanoseconds:ze}=yf(I,y,L,ye,Te,Me,Ce,je,Je,ze,R.roundingIncrement,R.smallestUnit,R.roundingMode,He)),({days:ye,hours:Te,minutes:Me,seconds:Ce,milliseconds:je,microseconds:Je,nanoseconds:ze}=mf(ye,Te,Me,Ce,je,Je,ze,R.largestUnit)),new(ur("%Temporal.Duration%"))(o*I,o*y,o*L,o*ye,o*Te,o*Me,o*Ce,o*je,o*Je,o*ze)}function ox(r,t,n,i){const o="since"===r?-1:1,a=qm(n),s=Ty(r,r0(i),"time",[],"nanosecond","hour");let{hours:l,minutes:R,seconds:I,milliseconds:y,microseconds:L,nanoseconds:ye}=nx(Ne(t,mi),Ne(t,Ei),Ne(t,xi),Ne(t,Si),Ne(t,Mi),Ne(t,Ai),Ne(a,mi),Ne(a,Ei),Ne(a,xi),Ne(a,Si),Ne(a,Mi),Ne(a,Ai));return({hours:l,minutes:R,seconds:I,milliseconds:y,microseconds:L,nanoseconds:ye}=yf(0,0,0,0,l,R,I,y,L,ye,s.roundingIncrement,s.smallestUnit,s.roundingMode)),({hours:l,minutes:R,seconds:I,milliseconds:y,microseconds:L,nanoseconds:ye}=mf(0,l,R,I,y,L,ye,s.largestUnit)),new(ur("%Temporal.Duration%"))(0,0,0,0,o*l,o*R,o*I,o*y,o*L,o*ye)}function vT(r,t,n,i){const o="since"===r?-1:1,a=FE(n),s=Ne(t,kn);GE(s,Ne(a,kn),"compute difference between months");const l=r0(i),R=Ty(r,l,"date",["week","day"],"month","year");l.largestUnit=R.largestUnit;const I=ha(s,["monthCode","year"]),y=zi(t,I,[]);y.day=1;const L=Bp(s,y),ye=zi(a,I,[]);ye.day=1;const Te=Bp(s,ye);let{years:Me,months:Ce}=hf(s,L,Te,l);return"month"===R.smallestUnit&&1===R.roundingIncrement||({years:Me,months:Ce}=yf(Me,Ce,0,0,0,0,0,0,0,0,R.roundingIncrement,R.smallestUnit,R.roundingMode,L)),new(ur("%Temporal.Duration%"))(o*Me,o*Ce,0,0,0,0,0,0,0,0)}function sx(r,t,n,i){const o="since"===r?-1:1,a=Qm(n),s=Ne(t,kn);GE(s,Ne(a,kn),"compute difference between dates");const l=r0(i),R=Ty(r,l,"datetime",[],"nanosecond","hour");l.largestUnit=R.largestUnit;const I=Ne(t,Hr),y=Ne(a,Hr);let L,ye,Te,Me,Ce,je,Je,ze,He,rt;if("year"!==R.largestUnit&&"month"!==R.largestUnit&&"week"!==R.largestUnit&&"day"!==R.largestUnit)L=0,ye=0,Te=0,Me=0,({hours:Ce,minutes:je,seconds:Je,milliseconds:ze,microseconds:He,nanoseconds:rt}=rx(I,y,R.roundingIncrement,R.smallestUnit,R.largestUnit,R.roundingMode));else{const yt=Ne(t,no);if(!ZA(yt,Ne(a,no)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:L,months:ye,weeks:Te,days:Me,hours:Ce,minutes:je,seconds:Je,milliseconds:ze,microseconds:He,nanoseconds:rt}=pT(I,y,yt,s,R.largestUnit,l)),({years:L,months:ye,weeks:Te,days:Me,hours:Ce,minutes:je,seconds:Je,milliseconds:ze,microseconds:He,nanoseconds:rt}=yf(L,ye,Te,Me,Ce,je,Je,ze,He,rt,R.roundingIncrement,R.smallestUnit,R.roundingMode,t)),({years:L,months:ye,weeks:Te,days:Me,hours:Ce,minutes:je,seconds:Je,milliseconds:ze,microseconds:He,nanoseconds:rt}=ST(L,ye,Te,Me,Ce,je,Je,ze,He,rt,R.roundingIncrement,R.smallestUnit,R.roundingMode,t))}return new(ur("%Temporal.Duration%"))(o*L,o*ye,o*Te,o*Me,o*Ce,o*je,o*Je,o*ze,o*He,o*rt)}function t0(r,t,n,i,o,a,s,l){let R=r,I=t,y=n,L=a,ye=s;return R+=i,I+=o,({year:R,month:I}=QE(R,I)),({year:R,month:I,day:y}=Op(R,I,y,l)),ye+=7*L,y+=ye,({year:R,month:I,day:y}=ex(R,I,y)),{year:R,month:I,day:y}}function bT(r,t,n,i,o,a,s,l,R,I,y,L){let ye=r,Te=t,Me=n,Ce=i,je=o,Je=a;ye+=s,Te+=l,Me+=R,Ce+=I,je+=y,Je+=L;let ze=0;return({deltaDays:ze,hour:ye,minute:Te,second:Me,millisecond:Ce,microsecond:je,nanosecond:Je}=Fp(ye,Te,Me,Ce,je,Je)),{deltaDays:ze,hour:ye,minute:Te,second:Me,millisecond:Ce,microsecond:je,nanosecond:Je}}function N5(r,t,n,i,o,a,s,l,R,I,y,L,ye,Te,Me,Ce,je,Je,ze,He,rt){const yt=_y(zA(r,t,n,i,o,a,s,l,R,I),zA(y,L,ye,Te,Me,Ce,je,Je,ze,He));let ct,_t,It,Jt,Qt,fn,Pn,dn,Sn,$t;if(rt)if(Ni(rt)){const Yt=ur("%Temporal.Duration%"),Xt=Ne(rt,kn),yn=new Yt(r,t,n,i,0,0,0,0,0,0),en=new Yt(y,L,ye,Te,0,0,0,0,0,0),En="string"!=typeof Xt?vo(Xt,"dateAdd"):void 0,Nn=Nc(Xt,rt,yn,void 0,En),Bn=Nc(Xt,Nn,en,void 0,En),Gt=_y("day",yt),Fn=kc(null);Fn.largestUnit=Gt,({years:ct,months:_t,weeks:It,days:Jt}=hf(Xt,rt,Bn,Fn)),({days:Jt,hours:Qt,minutes:fn,seconds:Pn,milliseconds:dn,microseconds:Sn,nanoseconds:$t}=mf(Jt,vt.add(vt.BigInt(o),vt.BigInt(Me)),vt.add(vt.BigInt(a),vt.BigInt(Ce)),vt.add(vt.BigInt(s),vt.BigInt(je)),vt.add(vt.BigInt(l),vt.BigInt(Je)),vt.add(vt.BigInt(R),vt.BigInt(ze)),vt.add(vt.BigInt(I),vt.BigInt(He)),yt))}else{const Yt=ur("%Temporal.Instant%"),Xt=Ne(rt,no),yn=Ne(rt,kn),en=Kd(Ne(rt,Fa),Xt,yn,r,t,n,i,o,a,s,l,R,I),En=Kd(new Yt(en),Xt,yn,y,L,ye,Te,Me,Ce,je,Je,ze,He);"year"!==yt&&"month"!==yt&&"week"!==yt&&"day"!==yt?(ct=0,_t=0,It=0,Jt=0,({hours:Qt,minutes:fn,seconds:Pn,milliseconds:dn,microseconds:Sn,nanoseconds:$t}=rx(Ne(rt,Hr),En,1,"nanosecond",yt,"halfExpand"))):({years:ct,months:_t,weeks:It,days:Jt,hours:Qt,minutes:fn,seconds:Pn,milliseconds:dn,microseconds:Sn,nanoseconds:$t}=pT(Ne(rt,Hr),En,Xt,yn,yt,kc(null)))}else{if("year"===yt||"month"===yt||"week"===yt)throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");ct=_t=It=0,({days:Jt,hours:Qt,minutes:fn,seconds:Pn,milliseconds:dn,microseconds:Sn,nanoseconds:$t}=mf(i+Te,vt.add(vt.BigInt(o),vt.BigInt(Me)),vt.add(vt.BigInt(a),vt.BigInt(Ce)),vt.add(vt.BigInt(s),vt.BigInt(je)),vt.add(vt.BigInt(l),vt.BigInt(Je)),vt.add(vt.BigInt(R),vt.BigInt(ze)),vt.add(vt.BigInt(I),vt.BigInt(He)),yt))}return Ev(ct,_t,It,Jt,Qt,fn,Pn,dn,Sn,$t),{years:ct,months:_t,weeks:It,days:Jt,hours:Qt,minutes:fn,seconds:Pn,milliseconds:dn,microseconds:Sn,nanoseconds:$t}}function wT(r,t,n,i,o,a,s){let l=Cs;l=vt.add(l,vt.BigInt(s)),l=vt.add(l,vt.multiply(vt.BigInt(a),go)),l=vt.add(l,vt.multiply(vt.BigInt(o),yu)),l=vt.add(l,vt.multiply(vt.BigInt(i),Fh)),l=vt.add(l,vt.multiply(vt.BigInt(n),vt.BigInt(6e10))),l=vt.add(l,vt.multiply(vt.BigInt(t),vt.BigInt(36e11)));const R=vt.add(r,l);return Ay(R),R}function _T(r,t,n,i,o,a,s,l,R,I,y,L,ye,Te,Me,Ce,je,Je,ze,He,rt){let yt=Te,{deltaDays:ct,hour:_t,minute:It,second:Jt,millisecond:Qt,microsecond:fn,nanosecond:Pn}=bT(i,o,a,s,l,R,Me,Ce,je,Je,ze,He);yt+=ct;const dn=ur("%Temporal.Duration%"),Sn=Nc(I,Nu(r,t,n,I),new dn(y,L,ye,yt,0,0,0,0,0,0),rt);return{year:Ne(Sn,Sr),month:Ne(Sn,Dr),day:Ne(Sn,Cr),hour:_t,minute:It,second:Jt,millisecond:Qt,microsecond:fn,nanosecond:Pn}}function Kd(r,t,n,i,o,a,s,l,R,I,y,L,ye,Te){const Me=ur("%Temporal.Duration%");if(0===Gh(i,o,a,s,0,0,0,0,0,0))return wT(Ne(r,Hr),l,R,I,y,L,ye);const Ce=ud(t,r,n),je=Nc(n,Nu(Ne(Ce,Sr),Ne(Ce,Dr),Ne(Ce,Cr),n),new Me(i,o,a,s,0,0,0,0,0,0),Te),Je=Oc(Ne(je,Sr),Ne(je,Dr),Ne(je,Cr),Ne(Ce,mi),Ne(Ce,Ei),Ne(Ce,xi),Ne(Ce,Si),Ne(Ce,Mi),Ne(Ce,Ai),n);return wT(Ne(Fc(t,Je,"compatible"),Hr),l,R,I,y,L,ye)}function ax(r,t,n,i){const o="subtract"===r?-1:1;let{years:a,months:s,weeks:l,days:R,hours:I,minutes:y,seconds:L,milliseconds:ye,microseconds:Te,nanoseconds:Me}=Kh(n);const Ce=UE(ro(i));return({years:a,months:s,weeks:l,days:R,hours:I,minutes:y,seconds:L,milliseconds:ye,microseconds:Te,nanoseconds:Me}=N5(Ne(t,Ol),Ne(t,dc),Ne(t,rl),Ne(t,wa),Ne(t,Dc),Ne(t,Bl),Ne(t,Cc),Ne(t,cd),Ne(t,ld),Ne(t,Nl),o*a,o*s,o*l,o*R,o*I,o*y,o*L,o*ye,o*Te,o*Me,Ce)),new(ur("%Temporal.Duration%"))(a,s,l,R,I,y,L,ye,Te,Me)}function ET(r,t,n){const i="subtract"===r?-1:1,{hours:o,minutes:a,seconds:s,milliseconds:l,microseconds:R,nanoseconds:I}=function(ye,Te){let Me=Kh(ye);for(const Ce of["years","months","weeks","days"])if(0!==Me[Ce])throw new RangeError(`Duration field ${Ce} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return Me}(n),y=wT(Ne(t,Hr),i*o,i*a,i*s,i*l,i*R,i*I);return new(ur("%Temporal.Instant%"))(y)}function cx(r,t,n,i){const o="subtract"===r?-1:1,{years:a,months:s,weeks:l,days:R,hours:I,minutes:y,seconds:L,milliseconds:ye,microseconds:Te,nanoseconds:Me}=Kh(n),Ce=ro(i),je=Ne(t,kn),{year:Je,month:ze,day:He,hour:rt,minute:yt,second:ct,millisecond:_t,microsecond:It,nanosecond:Jt}=_T(Ne(t,Sr),Ne(t,Dr),Ne(t,Cr),Ne(t,mi),Ne(t,Ei),Ne(t,xi),Ne(t,Si),Ne(t,Mi),Ne(t,Ai),je,o*a,o*s,o*l,o*R,o*I,o*y,o*L,o*ye,o*Te,o*Me,Ce);return Oc(Je,ze,He,rt,yt,ct,_t,It,Jt,je)}function L5(r,t,n){const i="subtract"===r?-1:1,{hours:o,minutes:a,seconds:s,milliseconds:l,microseconds:R,nanoseconds:I}=Kh(n);let{hour:y,minute:L,second:ye,millisecond:Te,microsecond:Me,nanosecond:Ce}=bT(Ne(t,mi),Ne(t,Ei),Ne(t,xi),Ne(t,Si),Ne(t,Mi),Ne(t,Ai),i*o,i*a,i*s,i*l,i*R,i*I);return({hour:y,minute:L,second:ye,millisecond:Te,microsecond:Me,nanosecond:Ce}=LE(y,L,ye,Te,Me,Ce,"reject")),new(ur("%Temporal.PlainTime%"))(y,L,ye,Te,Me,Ce)}function U5(r,t,n,i){let o=Kh(n);"subtract"===r&&(o={years:-o.years,months:-o.months,weeks:-o.weeks,days:-o.days,hours:-o.hours,minutes:-o.minutes,seconds:-o.seconds,milliseconds:-o.milliseconds,microseconds:-o.microseconds,nanoseconds:-o.nanoseconds});let{years:a,months:s,weeks:l,days:R,hours:I,minutes:y,seconds:L,milliseconds:ye,microseconds:Te,nanoseconds:Me}=o;({days:R}=mf(R,I,y,L,ye,Te,Me,"day"));const Ce=ro(i),je=Ne(t,kn),Je=ha(je,["monthCode","year"]),ze=zi(t,Je,[]),He=kc(null);hv(He,ze,[]),ze.day=1;let rt=Bp(je,ze);const yt=Gh(a,s,l,R,0,0,0,0,0,0),ct=vo(je,"dateAdd"),_t=ur("%Temporal.Duration%");if(yt<0){const Qt=Nc(je,rt,new _t(0,1,0,0,0,0,0,0,0,0),void 0,ct),fn=Nc(je,Qt,new _t(0,0,0,-1,0,0,0,0,0,0),void 0,ct);He.day=__(je,fn),rt=Bp(je,He)}const It=new _t(a,s,l,R,0,0,0,0,0,0),Jt=r0(Ce);return xy(je,zi(Nc(je,rt,It,Ce,ct),Je,[]),Jt)}function lx(r,t,n,i){const o="subtract"===r?-1:1,{years:a,months:s,weeks:l,days:R,hours:I,minutes:y,seconds:L,milliseconds:ye,microseconds:Te,nanoseconds:Me}=Kh(n),Ce=ro(i),je=Ne(t,no),Je=Ne(t,kn);return Bc(Kd(Ne(t,Fa),je,Je,o*a,o*s,o*l,o*R,o*I,o*y,o*L,o*ye,o*Te,o*Me,Ce),je,Je)}function bu(r,t,n){if(vt.equal(t,by))return r;let{quotient:i,remainder:o}=fa(r,t);if(vt.equal(o,Cs))return r;const a=vt.lessThan(o,Cs)?-1:1,s=gu(vt.multiply(o,vt.BigInt(2))),l=vt.equal(s,t),R=vt.greaterThan(s,t);switch(n){case"ceil":a>0&&(i=vt.add(i,vt.BigInt(a)));break;case"floor":a<0&&(i=vt.add(i,vt.BigInt(a)));break;case"expand":i=vt.add(i,vt.BigInt(a));break;case"trunc":break;case"halfCeil":(R||l&&a>0)&&(i=vt.add(i,vt.BigInt(a)));break;case"halfFloor":(R||l&&a<0)&&(i=vt.add(i,vt.BigInt(a)));break;case"halfExpand":(R||l)&&(i=vt.add(i,vt.BigInt(a)));break;case"halfTrunc":R&&(i=vt.add(i,vt.BigInt(a)));break;case"halfEven":(R||l&&1===vt.toNumber(vt.remainder(gu(i),vt.BigInt(2))))&&(i=vt.add(i,vt.BigInt(a)))}return vt.multiply(i,t)}function k_(r,t,n,i){let{remainder:o}=Dy(r,jh);const a=vt.subtract(r,o),s=bu(o,vt.BigInt(IT[n]*t),i);return vt.add(a,s)}function xT(r,t,n,i,o,a,s,l,R,I,y,L,ye=864e11){const{deltaDays:Te,hour:Me,minute:Ce,second:je,millisecond:Je,microsecond:ze,nanosecond:He}=dx(i,o,a,s,l,R,I,y,L,ye),{year:rt,month:yt,day:ct}=ex(r,t,n+Te);return{year:rt,month:yt,day:ct,hour:Me,minute:Ce,second:je,millisecond:Je,microsecond:ze,nanosecond:He}}function dx(r,t,n,i,o,a,s,l,R,I=864e11){let y=Cs;switch(l){case"day":case"hour":y=vt.BigInt(r);case"minute":y=vt.add(vt.multiply(y,Uh),vt.BigInt(t));case"second":y=vt.add(vt.multiply(y,Uh),vt.BigInt(n));case"millisecond":y=vt.add(vt.multiply(y,go),vt.BigInt(i));case"microsecond":y=vt.add(vt.multiply(y,go),vt.BigInt(o));case"nanosecond":y=vt.add(vt.multiply(y,go),vt.BigInt(a))}const L="day"===l?I:IT[l],ye=bu(y,vt.BigInt(L*s),R),Te=vt.toNumber(vt.divide(ye,vt.BigInt(L)));switch(l){case"day":return{deltaDays:Te,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Fp(Te,0,0,0,0,0);case"minute":return Fp(r,Te,0,0,0,0);case"second":return Fp(r,t,Te,0,0,0);case"millisecond":return Fp(r,t,n,Te,0,0);case"microsecond":return Fp(r,t,n,i,Te,0);case"nanosecond":return Fp(r,t,n,i,o,Te);default:throw new Error(`Invalid unit ${l}`)}}function ux(r,t){return xv(Ne(r,Sr),Ne(r,Dr),Ne(r,Cr),Ne(t,Sr),Ne(t,Dr),Ne(t,Cr),"day").days}function il(r,t,n,i){const o=Nc(r,t,n,void 0,i);return{relativeTo:o,days:ux(t,o)}}function P_(r,t,n,i,o){const a=Ne(r,no),s=Ne(r,kn);return Bc(Kd(Ne(r,Fa),a,s,t,n,i,o,0,0,0,0,0,0),a,s)}function ST(r,t,n,i,o,a,s,l,R,I,y,L,ye,Te){let Me=r,Ce=t,je=n,Je=i,ze=o,He=a,rt=s,yt=l,ct=R,_t=I;if(!Lr(Te)||"year"===L||"month"===L||"week"===L||"day"===L||"nanosecond"===L&&1===y)return{years:Me,months:Ce,weeks:je,days:Je,hours:ze,minutes:He,seconds:rt,milliseconds:yt,microseconds:ct,nanoseconds:_t};let It=_v(0,ze,He,rt,yt,ct,_t,0);const Jt=dv(vt.toNumber(It)),Qt=Ne(Te,no),fn=Ne(Te,kn),Pn=Kd(Ne(Te,Fa),Qt,fn,Me,Ce,je,Je,0,0,0,0,0,0),dn=Kd(new(ur("%Temporal.Instant%"))(Pn),Qt,fn,0,0,0,Jt,0,0,0,0,0,0),Sn=vt.subtract(dn,Pn);return vt.greaterThanOrEqual(vt.multiply(vt.subtract(It,Sn),vt.BigInt(Jt)),Cs)&&(({years:Me,months:Ce,weeks:je,days:Je}=N5(Me,Ce,je,Je,0,0,0,0,0,0,0,0,0,Jt,0,0,0,0,0,0,Te)),It=k_(vt.subtract(It,Sn),y,L,ye),({hours:ze,minutes:He,seconds:rt,milliseconds:yt,microseconds:ct,nanoseconds:_t}=mf(0,0,0,0,0,0,vt.toNumber(It),"hour"))),{years:Me,months:Ce,weeks:je,days:Je,hours:ze,minutes:He,seconds:rt,milliseconds:yt,microseconds:ct,nanoseconds:_t}}function yf(r,t,n,i,o,a,s,l,R,I,y,L,ye,Te){let Me=r,Ce=t,je=n,Je=i,ze=o,He=a,rt=s,yt=l,ct=R,_t=vt.BigInt(I);const It=ur("%Temporal.Duration%");let Jt,Qt,fn,Pn,dn=Te;if(dn){if(Lr(dn))Qt=dn,dn=Co(dn);else if(!Ni(dn))throw new TypeError("starting point must be PlainDate or ZonedDateTime");Jt=Ne(dn,kn)}if("year"===L||"month"===L||"week"===L||"day"===L){let Sn,$t,Yt;_t=_v(0,ze,He,rt,yt,ct,I,0),Qt&&(Sn=P_(Qt,Me,Ce,je,Je)),({days:$t,nanoseconds:_t,dayLengthNs:Yt}=cT(_t,Sn)),fn=vt.BigInt(Yt),Je+=$t,ze=He=rt=yt=ct=0}switch(L){case"year":{if(!Jt)throw new RangeError("A starting point is required for years rounding");const Sn=new It(Me),$t="string"!=typeof Jt?vo(Jt,"dateAdd"):void 0,Yt=Nc(Jt,dn,Sn,void 0,$t),Xt=Nc(Jt,dn,new It(Me,Ce,je),void 0,$t);dn=Yt,Je+=ux(Yt,Xt);const yn=Nc(Jt,dn,new It(0,0,0,Je),void 0,$t),en=kc(null);en.largestUnit="year";const En=hf(Jt,dn,yn,en).years;Me+=En;const Nn=dn;dn=Nc(Jt,dn,new It(En),void 0,$t),Je-=ux(Nn,dn);const Bn=new It(Je<0?-1:1);let{days:Gt}=il(Jt,dn,Bn,$t);Gt=cs(Gt);const Fn=vt.multiply(vt.BigInt(Gt),fn);_t=vt.add(vt.add(vt.multiply(Fn,vt.BigInt(Me)),vt.multiply(vt.BigInt(Je),fn)),_t);const tr=bu(_t,vt.multiply(Fn,vt.BigInt(y)),ye);Pn=zf(_t,Fn),Me=vt.toNumber(vt.divide(tr,Fn)),_t=Cs,Ce=je=Je=0;break}case"month":{if(!Jt)throw new RangeError("A starting point is required for months rounding");const Sn=new It(Me,Ce),$t="string"!=typeof Jt?vo(Jt,"dateAdd"):void 0,Yt=Nc(Jt,dn,Sn,void 0,$t),Xt=Nc(Jt,dn,new It(Me,Ce,je),void 0,$t);dn=Yt,Je+=ux(Yt,Xt);const yn=dv(Je),en=new It(0,Je<0?-1:1);let En;for(({relativeTo:dn,days:En}=il(Jt,dn,en,$t));cs(Je)>=cs(En);)Ce+=yn,Je-=En,({relativeTo:dn,days:En}=il(Jt,dn,en,$t));En=cs(En);const Nn=vt.multiply(vt.BigInt(En),fn);_t=vt.add(vt.add(vt.multiply(Nn,vt.BigInt(Ce)),vt.multiply(vt.BigInt(Je),fn)),_t);const Bn=bu(_t,vt.multiply(Nn,vt.BigInt(y)),ye);Pn=zf(_t,Nn),Ce=vt.toNumber(vt.divide(Bn,Nn)),_t=Cs,je=Je=0;break}case"week":{if(!Jt)throw new RangeError("A starting point is required for weeks rounding");const Sn=dv(Je),$t=new It(0,0,Je<0?-1:1),Yt="string"!=typeof Jt?vo(Jt,"dateAdd"):void 0;let Xt;for(({relativeTo:dn,days:Xt}=il(Jt,dn,$t,Yt));cs(Je)>=cs(Xt);)je+=Sn,Je-=Xt,({relativeTo:dn,days:Xt}=il(Jt,dn,$t,Yt));Xt=cs(Xt);const yn=vt.multiply(vt.BigInt(Xt),fn);_t=vt.add(vt.add(vt.multiply(yn,vt.BigInt(je)),vt.multiply(vt.BigInt(Je),fn)),_t);const en=bu(_t,vt.multiply(yn,vt.BigInt(y)),ye);Pn=zf(_t,yn),je=vt.toNumber(vt.divide(en,yn)),_t=Cs,Je=0;break}case"day":{const Sn=fn;_t=vt.add(vt.multiply(Sn,vt.BigInt(Je)),_t);const $t=bu(_t,vt.multiply(Sn,vt.BigInt(y)),ye);Pn=zf(_t,Sn),Je=vt.toNumber(vt.divide($t,Sn)),_t=Cs;break}case"hour":{let $t=vt.multiply(vt.BigInt(ze),vt.BigInt(36e11));$t=vt.add($t,vt.multiply(vt.BigInt(He),vt.BigInt(6e10))),$t=vt.add($t,vt.multiply(vt.BigInt(rt),Fh)),$t=vt.add($t,vt.multiply(vt.BigInt(yt),yu)),$t=vt.add($t,vt.multiply(vt.BigInt(ct),go)),$t=vt.add($t,_t),Pn=zf($t,vt.BigInt(36e11));const Yt=bu($t,vt.BigInt(36e11*y),ye);ze=vt.toNumber(vt.divide(Yt,vt.BigInt(36e11))),_t=Cs,He=rt=yt=ct=0;break}case"minute":{let $t=vt.multiply(vt.BigInt(He),vt.BigInt(6e10));$t=vt.add($t,vt.multiply(vt.BigInt(rt),Fh)),$t=vt.add($t,vt.multiply(vt.BigInt(yt),yu)),$t=vt.add($t,vt.multiply(vt.BigInt(ct),go)),$t=vt.add($t,_t),Pn=zf($t,vt.BigInt(6e10));const Yt=bu($t,vt.BigInt(6e10*y),ye);He=vt.toNumber(vt.divide(Yt,vt.BigInt(6e10))),_t=Cs,rt=yt=ct=0;break}case"second":{let $t=vt.multiply(vt.BigInt(rt),Fh);$t=vt.add($t,vt.multiply(vt.BigInt(yt),yu)),$t=vt.add($t,vt.multiply(vt.BigInt(ct),go)),$t=vt.add($t,_t),Pn=zf($t,vt.BigInt(1e9));const Yt=bu($t,vt.BigInt(1e9*y),ye);rt=vt.toNumber(vt.divide(Yt,vt.BigInt(1e9))),_t=Cs,yt=ct=0;break}case"millisecond":{let $t=vt.multiply(vt.BigInt(yt),yu);$t=vt.add($t,vt.multiply(vt.BigInt(ct),go)),$t=vt.add($t,_t),Pn=zf($t,vt.BigInt(1e6));const Yt=bu($t,vt.BigInt(1e6*y),ye);yt=vt.toNumber(vt.divide(Yt,vt.BigInt(1e6))),_t=Cs,ct=0;break}case"microsecond":{let $t=vt.multiply(vt.BigInt(ct),go);$t=vt.add($t,_t),Pn=zf($t,vt.BigInt(1e3));const Yt=bu($t,vt.BigInt(1e3*y),ye);ct=vt.toNumber(vt.divide(Yt,vt.BigInt(1e3))),_t=Cs;break}case"nanosecond":Pn=vt.toNumber(_t),_t=bu(vt.BigInt(_t),vt.BigInt(y),ye)}return{years:Me,months:Ce,weeks:je,days:Je,hours:ze,minutes:He,seconds:rt,milliseconds:yt,microseconds:ct,nanoseconds:vt.toNumber(_t),total:Pn}}function Iy(r,t,n,i,o,a){for(const[s,l]of[[r,i],[t,o],[n,a]])if(s!==l)return ky(s-l);return 0}function Dy(r,t){let{quotient:n,remainder:i}=fa(r,t);return vt.lessThan(i,Cs)&&(n=vt.subtract(n,by),i=vt.add(i,t)),{quotient:n,remainder:i}}function Cy(r,t){const{quotient:n,remainder:i}=fa(r,t);return Ou(i)||!uv(r)==!uv(t)?n:vt.subtract(n,by)}function zf(r,t){const{quotient:n,remainder:i}=fa(r,t);return vt.toNumber(n)+vt.toNumber(i)/vt.toNumber(t)}function R_(r){const t=Sv(r);return void 0!==globalThis.BigInt?globalThis.BigInt(t.toString(10)):t}function Sv(r){let t=r;if("object"==typeof r){const n=r[Symbol.toPrimitive];n&&"function"==typeof n&&(t=vy(n,r,["number"]))}if("number"==typeof t)throw new TypeError("cannot convert number to bigint");return vt.BigInt("bigint"==typeof t?t.toString(10):t)}const MT=(()=>{let r=vt.BigInt(Date.now()%1e6);return()=>{const t=vt.BigInt(Date.now()),n=vt.add(vt.multiply(t,yu),r);return r=vt.remainder(t,yu),vt.greaterThan(n,Zm)?Zm:vt.lessThan(n,o_)?o_:n}})();function n0(){return(new NA).resolvedOptions().timeZone}function ky(r){return r<0?-1:r>0?1:r}function ro(r){if(void 0===r)return kc(null);if(ls(r)&&null!==r)return r;throw new TypeError("Options parameter must be an object, not "+(null===r?"null":typeof r))}function Mv(r,t){const n=kc(null);return n[r]=t,n}function r0(r){const t=kc(null);return hv(t,ro(r),[]),t}function o0(r,t,n,i){let o=r[t];if(void 0!==o){if(o=Ul(o),!n.includes(o))throw new RangeError(`${t} must be one of ${n.join(", ")}, not ${o}`);return o}return i}function Lu(r){return E5.includes(Hf(r))}function Hf(r){return r.replace(/[A-Z]/g,t=>{const n=t.charCodeAt(0);return String.fromCharCode(n+32)})}const AT=new RegExp(`^${kA.source}$`);function TT(r,t,n,i=r(t),o=r(n)){let a=vt.BigInt(t),s=vt.BigInt(n),l=i,R=o;for(;vt.greaterThan(vt.subtract(s,a),by);){const I=vt.divide(vt.add(a,s),vt.BigInt(2)),y=r(I);if(y===l)a=I,l=y;else{if(y!==R)throw new Error(`invalid state in bisection ${l} - ${y} - ${R}`);s=I,R=y}}return s}const IT={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},DT=Symbol("date"),CT=Symbol("ym"),F5=Symbol("md"),LB=Symbol("time"),UB=Symbol("datetime"),kT=Symbol("instant"),Av=Symbol("original"),Tv=Symbol("timezone"),gf=Symbol("calendar-id"),j5=Symbol("locale"),Py=Symbol("options"),Iv=r=>({value:r,enumerable:!0,writable:!1,configurable:!0}),Dv=globalThis.Intl.DateTimeFormat,jp=Object.assign,$d=Object.prototype.hasOwnProperty,Cv=Reflect.apply;function kv(r,t){let n=r[t];return"function"==typeof n&&(n=new Dv(r[j5],n(r[Py])),r[t]=n),n}function Ry(r,t={}){if(!(this instanceof Ry))return new Ry(r,t);const n=void 0!==t,i=n?jp({},t):{},o=new Dv(r,i),a=o.resolvedOptions();if(n){const s=jp({},a);for(const l in s)Cv($d,i,[l])||delete s[l];this[Py]=s}else this[Py]=i;this[j5]=a.locale,this[Av]=o,this[Tv]=a.timeZone,this[gf]=a.calendar,this[DT]=$5,this[CT]=PT,this[F5]=jB,this[LB]=FB,this[UB]=KB,this[kT]=$B}Object.defineProperty(Ry,"name",{writable:!0,value:"DateTimeFormat"}),Ry.supportedLocalesOf=function(r,t){return Dv.supportedLocalesOf(r,t)};const K5={resolvedOptions:Iv(function(){return this[Av].resolvedOptions()}),format:Iv(function(t,...n){let{instant:i,formatter:o}=$p(t,this);return i&&o?o.format(i.epochMilliseconds):this[Av].format(t,...n)}),formatRange:Iv(function(t,n){if(Oy(t)||Oy(n)){if(!V5(t,n))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:i,formatter:o}=$p(t,this),{instant:a,formatter:s}=$p(n,this);if(i&&a&&o&&s&&o===s)return o.formatRange(i.epochMilliseconds,a.epochMilliseconds)}return this[Av].formatRange(t,n)})};"formatToParts"in Dv.prototype&&(K5.formatToParts=Iv(function(t,...n){let{instant:i,formatter:o}=$p(t,this);return i&&o?o.formatToParts(i.epochMilliseconds):this[Av].formatToParts(t,...n)})),"formatRangeToParts"in Dv.prototype&&(K5.formatRangeToParts=Iv(function(t,n){if(Oy(t)||Oy(n)){if(!V5(t,n))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:i,formatter:o}=$p(t,this),{instant:a,formatter:s}=$p(n,this);if(i&&a&&o&&s&&o===s)return o.formatRangeToParts(i.epochMilliseconds,a.epochMilliseconds)}return this[Av].formatRangeToParts(t,n)})),Ry.prototype=Object.create(Dv.prototype,K5),Object.defineProperty(Ry,"prototype",{writable:!1,enumerable:!1,configurable:!1});const s0=Ry;function Kp(r={},t={}){const n=jp({},r);for(const i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])n[i]=i in t?t[i]:n[i],!1!==n[i]&&void 0!==n[i]||delete n[i];return n}function FB(r){let t=Kp(r,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return O_(t)||(t=jp({},t,{hour:"numeric",minute:"numeric",second:"numeric"})),t}function PT(r){let t=Kp(r,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in t||"month"in t||(t=jp(t,{year:"numeric",month:"numeric"})),t}function jB(r){let t=Kp(r,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in t||"day"in t||(t=jp({},t,{month:"numeric",day:"numeric"})),t}function $5(r){let t=Kp(r,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return RT(t)||(t=jp({},t,{year:"numeric",month:"numeric",day:"numeric"})),t}function KB(r){let t=Kp(r,{timeZoneName:!1});return O_(t)||RT(t)||(t=jp({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function $B(r){let t=r;return O_(t)||RT(t)||(t=jp({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function RT(r){return"year"in r||"month"in r||"day"in r||"weekday"in r||"dateStyle"in r}function O_(r){return"hour"in r||"minute"in r||"second"in r||"timeStyle"in r||"dayPeriod"in r}function Oy(r){return Ni(r)||Vs(r)||Ti(r)||Lr(r)||eo(r)||uc(r)||Ca(r)}function V5(r,t){return!(!Oy(r)||!Oy(t)||Vs(r)&&!Vs(t)||Ni(r)&&!Ni(t)||Ti(r)&&!Ti(t)||Lr(r)&&!Lr(t)||eo(r)&&!eo(t)||uc(r)&&!uc(t)||Ca(r)&&!Ca(t))}function $p(r,t){const n=ur("%Temporal.PlainDateTime%");if(Vs(r)){const i=new n(1970,1,1,Ne(r,mi),Ne(r,Ei),Ne(r,xi),Ne(r,Si),Ne(r,Mi),Ne(r,Ai),t[gf]);return{instant:Fc(t[Tv],i,"compatible"),formatter:kv(t,LB)}}if(eo(r)){const i=Ne(r,Sr),o=Ne(r,Dr),a=Ne(r,Cr),s=Lc(Ne(r,kn));if(s!==t[gf])throw new RangeError(`cannot format PlainYearMonth with calendar ${s} in locale with calendar ${t[gf]}`);const l=new n(i,o,a,12,0,0,0,0,0,s);return{instant:Fc(t[Tv],l,"compatible"),formatter:kv(t,CT)}}if(uc(r)){const i=Ne(r,Sr),o=Ne(r,Dr),a=Ne(r,Cr),s=Lc(Ne(r,kn));if(s!==t[gf])throw new RangeError(`cannot format PlainMonthDay with calendar ${s} in locale with calendar ${t[gf]}`);const l=new n(i,o,a,12,0,0,0,0,0,s);return{instant:Fc(t[Tv],l,"compatible"),formatter:kv(t,F5)}}if(Ni(r)){const i=Ne(r,Sr),o=Ne(r,Dr),a=Ne(r,Cr),s=Lc(Ne(r,kn));if("iso8601"!==s&&s!==t[gf])throw new RangeError(`cannot format PlainDate with calendar ${s} in locale with calendar ${t[gf]}`);const l=new n(i,o,a,12,0,0,0,0,0,t[gf]);return{instant:Fc(t[Tv],l,"compatible"),formatter:kv(t,DT)}}if(Ti(r)){const i=Ne(r,Sr),o=Ne(r,Dr),a=Ne(r,Cr),s=Ne(r,mi),l=Ne(r,Ei),R=Ne(r,xi),I=Ne(r,Si),y=Ne(r,Mi),L=Ne(r,Ai),ye=Lc(Ne(r,kn));if("iso8601"!==ye&&ye!==t[gf])throw new RangeError(`cannot format PlainDateTime with calendar ${ye} in locale with calendar ${t[gf]}`);let Te=r;return"iso8601"===ye&&(Te=new n(i,o,a,s,l,R,I,y,L,t[gf])),{instant:Fc(t[Tv],Te,"compatible"),formatter:kv(t,UB)}}if(Lr(r))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return Ca(r)?{instant:r,formatter:kv(t,kT)}:{}}Object.freeze({__proto__:null,DateTimeFormat:s0});class Wf{constructor(t){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const n=Sv(t);Ay(n),Oh(this),Vi(this,Hr,n)}get epochSeconds(){if(!Ca(this))throw new TypeError("invalid receiver");const t=Ne(this,Hr);return vt.toNumber(Cy(t,Fh))}get epochMilliseconds(){if(!Ca(this))throw new TypeError("invalid receiver");const t=vt.BigInt(Ne(this,Hr));return vt.toNumber(Cy(t,yu))}get epochMicroseconds(){if(!Ca(this))throw new TypeError("invalid receiver");return R_(Cy(vt.BigInt(Ne(this,Hr)),go))}get epochNanoseconds(){if(!Ca(this))throw new TypeError("invalid receiver");return R_(vt.BigInt(Ne(this,Hr)))}add(t){if(!Ca(this))throw new TypeError("invalid receiver");return ET("add",this,t)}subtract(t){if(!Ca(this))throw new TypeError("invalid receiver");return ET("subtract",this,t)}until(t,n){if(!Ca(this))throw new TypeError("invalid receiver");return mT("until",this,t,n)}since(t,n){if(!Ca(this))throw new TypeError("invalid receiver");return mT("since",this,t,n)}round(t){if(!Ca(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Mv("smallestUnit",t):ro(t),i=$h(n),o=ff(n,"halfExpand"),a=Rc(n,"smallestUnit","time",Xm);Vh(i,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[a],!0);const s=k_(Ne(this,Hr),i,a,o);return new Wf(s)}equals(t){if(!Ca(this))throw new TypeError("invalid receiver");const n=zh(t),i=Ne(this,Hr),o=Ne(n,Hr);return vt.equal(vt.BigInt(i),vt.BigInt(o))}toString(t){if(!Ca(this))throw new TypeError("invalid receiver");const n=ro(t),i=h_(n),o=ff(n,"trunc"),a=Rc(n,"smallestUnit","time",void 0);if("hour"===a)throw new RangeError('smallestUnit must be a time unit other than "hour"');let s=n.timeZone;void 0!==s&&(s=Uc(s));const{precision:l,unit:R,increment:I}=p_(a,i),y=k_(Ne(this,Hr),I,R,o);return JA(new Wf(y),s,l)}toJSON(){if(!Ca(this))throw new TypeError("invalid receiver");return JA(this,void 0,"auto")}toLocaleString(t,n){if(!Ca(this))throw new TypeError("invalid receiver");return new s0(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(t){if(!Ca(this))throw new TypeError("invalid receiver");if(!ls(t))throw new TypeError("invalid argument in toZonedDateTime");const n=t.calendar;if(void 0===n)throw new TypeError("missing calendar property in toZonedDateTime");const i=dd(n),o=t.timeZone;if(void 0===o)throw new TypeError("missing timeZone property in toZonedDateTime");const a=Uc(o);return Bc(Ne(this,Hr),a,i)}toZonedDateTimeISO(t){if(!Ca(this))throw new TypeError("invalid receiver");const n=Uc(t);return Bc(Ne(this,Hr),n,"iso8601")}static fromEpochSeconds(t){const n=wy(t),i=vt.multiply(vt.BigInt(n),Fh);return Ay(i),new Wf(i)}static fromEpochMilliseconds(t){const n=wy(t),i=vt.multiply(vt.BigInt(n),yu);return Ay(i),new Wf(i)}static fromEpochMicroseconds(t){const n=Sv(t),i=vt.multiply(n,go);return Ay(i),new Wf(i)}static fromEpochNanoseconds(t){const n=Sv(t);return Ay(n),new Wf(n)}static from(t){return Ca(t)?new Wf(Ne(t,Hr)):zh(t)}static compare(t,n){const i=zh(t),o=zh(n),a=Ne(i,Hr),s=Ne(o,Hr);return vt.lessThan(a,s)?-1:vt.greaterThan(a,s)?1:0}}Ld(Wf,"Temporal.Instant");const OT=Array.prototype.includes,VB=Array.prototype.push,H5=globalThis.Intl.DateTimeFormat,Pv=Array.prototype.sort,zB=Math.abs,W5=Math.floor,B_=Object.create,G5=Object.entries,Z5=Set,Y5=Reflect.ownKeys,ol=Set.prototype.add,BT=Set.prototype.values,us={};class zs{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: id is required");const n=Ul(t);if(!Lu(n))throw new RangeError(`invalid calendar identifier ${n}`);Oh(this),Vi(this,Ds,Hf(n))}get id(){if(!vs(this))throw new TypeError("invalid receiver");return Ne(this,Ds)}dateFromFields(t,n){if(!vs(this))throw new TypeError("invalid receiver");if(!ls(t))throw new TypeError("invalid fields");const i=ro(n),o=Ne(this,Ds);return us[o].dateFromFields(t,i,o)}yearMonthFromFields(t,n){if(!vs(this))throw new TypeError("invalid receiver");if(!ls(t))throw new TypeError("invalid fields");const i=ro(n),o=Ne(this,Ds);return us[o].yearMonthFromFields(t,i,o)}monthDayFromFields(t,n){if(!vs(this))throw new TypeError("invalid receiver");if(!ls(t))throw new TypeError("invalid fields");const i=ro(n),o=Ne(this,Ds);return us[o].monthDayFromFields(t,i,o)}fields(t){if(!vs(this))throw new TypeError("invalid receiver");const n=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const o of t){if("string"!=typeof o)throw new TypeError("invalid fields");if(!i.has(o))throw new RangeError(`invalid field name ${o}`);i.delete(o),VB.call(n,o)}return us[Ne(this,Ds)].fields(n)}mergeFields(t,n){if(!vs(this))throw new TypeError("invalid receiver");const i=KA(t),o=B_(null);hv(o,i,[],[void 0]);const a=KA(n),s=B_(null);hv(s,a,[],[void 0]);const l=Y5(s),R=us[Ne(this,Ds)].fieldKeysToIgnore(l),I=B_(null),y=Y5(o);for(const L of y){let ye;ye=$r(OT,R,[L])?s[L]:o[L],void 0!==ye&&(I[L]=ye)}return hv(I,s,[]),I}dateAdd(t,n,i){if(!vs(this))throw new TypeError("invalid receiver");const o=Co(t),a=pv(n),s=ks(ro(i)),{days:l}=mf(Ne(a,wa),Ne(a,Dc),Ne(a,Bl),Ne(a,Cc),Ne(a,cd),Ne(a,ld),Ne(a,Nl),"day"),R=Ne(this,Ds);return us[R].dateAdd(o,Ne(a,Ol),Ne(a,dc),Ne(a,rl),l,s,R)}dateUntil(t,n,i){if(!vs(this))throw new TypeError("invalid receiver");const o=Co(t),a=Co(n);let s=Rc(ro(i),"largestUnit","date","auto");"auto"===s&&(s="day");const{years:l,months:R,weeks:I,days:y}=us[Ne(this,Ds)].dateUntil(o,a,s);return new(ur("%Temporal.Duration%"))(l,R,I,y,0,0,0,0,0,0)}year(t){let n=t;if(!vs(this))throw new TypeError("invalid receiver");return eo(n)||(n=Co(n)),us[Ne(this,Ds)].year(n)}month(t){let n=t;if(!vs(this))throw new TypeError("invalid receiver");if(uc(n))throw new TypeError("use monthCode on PlainMonthDay instead");return eo(n)||(n=Co(n)),us[Ne(this,Ds)].month(n)}monthCode(t){let n=t;if(!vs(this))throw new TypeError("invalid receiver");return eo(n)||uc(n)||(n=Co(n)),us[Ne(this,Ds)].monthCode(n)}day(t){let n=t;if(!vs(this))throw new TypeError("invalid receiver");return uc(n)||(n=Co(n)),us[Ne(this,Ds)].day(n)}era(t){let n=t;if(!vs(this))throw new TypeError("invalid receiver");return eo(n)||(n=Co(n)),us[Ne(this,Ds)].era(n)}eraYear(t){let n=t;if(!vs(this))throw new TypeError("invalid receiver");return eo(n)||(n=Co(n)),us[Ne(this,Ds)].eraYear(n)}dayOfWeek(t){if(!vs(this))throw new TypeError("invalid receiver");const n=Co(t);return us[Ne(this,Ds)].dayOfWeek(n)}dayOfYear(t){if(!vs(this))throw new TypeError("invalid receiver");const n=Co(t);return us[Ne(this,Ds)].dayOfYear(n)}weekOfYear(t){if(!vs(this))throw new TypeError("invalid receiver");const n=Co(t);return us[Ne(this,Ds)].weekOfYear(n)}yearOfWeek(t){if(!vs(this))throw new TypeError("invalid receiver");const n=Co(t);return us[Ne(this,Ds)].yearOfWeek(n)}daysInWeek(t){if(!vs(this))throw new TypeError("invalid receiver");const n=Co(t);return us[Ne(this,Ds)].daysInWeek(n)}daysInMonth(t){let n=t;if(!vs(this))throw new TypeError("invalid receiver");return eo(n)||(n=Co(n)),us[Ne(this,Ds)].daysInMonth(n)}daysInYear(t){let n=t;if(!vs(this))throw new TypeError("invalid receiver");return eo(n)||(n=Co(n)),us[Ne(this,Ds)].daysInYear(n)}monthsInYear(t){let n=t;if(!vs(this))throw new TypeError("invalid receiver");return eo(n)||(n=Co(n)),us[Ne(this,Ds)].monthsInYear(n)}inLeapYear(t){let n=t;if(!vs(this))throw new TypeError("invalid receiver");return eo(n)||(n=Co(n)),us[Ne(this,Ds)].inLeapYear(n)}toString(){if(!vs(this))throw new TypeError("invalid receiver");return Ne(this,Ds)}toJSON(){if(!vs(this))throw new TypeError("invalid receiver");return Ne(this,Ds)}static from(t){return gv(dd(t))}}function fx(r){if(!r.startsWith("M"))throw new RangeError(`Invalid month code: ${r}.  Month codes must start with M.`);const t=+r.slice(1);if(isNaN(t))throw new RangeError(`Invalid month code: ${r}`);return t}function Zh(r,t=!1){return`M${r.toString().padStart(2,"0")}${t?"L":""}`}function hx(r,t,n=12){let{month:i,monthCode:o}=r;if(void 0===o){if(void 0===i)throw new TypeError("Either month or monthCode are required");"reject"===t&&fc(i,1,n),"constrain"===t&&(i=fd(i,1,n)),o=Zh(i)}else{const a=fx(o);if(void 0!==i&&i!==a)throw new RangeError(`monthCode ${o} and month ${i} must match if both are present`);if(o!==Zh(a))throw new RangeError(`Invalid month code: ${o}`);if(i=a,i<1||i>n)throw new RangeError(`Invalid monthCode: ${o}`)}return{...r,month:i,monthCode:o}}Ld(zs,"Temporal.Calendar"),as("Temporal.Calendar.from",zs.from),as("Temporal.Calendar.prototype.dateAdd",zs.prototype.dateAdd),as("Temporal.Calendar.prototype.dateFromFields",zs.prototype.dateFromFields),as("Temporal.Calendar.prototype.dateUntil",zs.prototype.dateUntil),as("Temporal.Calendar.prototype.day",zs.prototype.day),as("Temporal.Calendar.prototype.dayOfWeek",zs.prototype.dayOfWeek),as("Temporal.Calendar.prototype.dayOfYear",zs.prototype.dayOfYear),as("Temporal.Calendar.prototype.daysInMonth",zs.prototype.daysInMonth),as("Temporal.Calendar.prototype.daysInWeek",zs.prototype.daysInWeek),as("Temporal.Calendar.prototype.daysInYear",zs.prototype.daysInYear),as("Temporal.Calendar.prototype.era",zs.prototype.era),as("Temporal.Calendar.prototype.eraYear",zs.prototype.eraYear),as("Temporal.Calendar.prototype.fields",zs.prototype.fields),as("Temporal.Calendar.prototype.inLeapYear",zs.prototype.inLeapYear),as("Temporal.Calendar.prototype.mergeFields",zs.prototype.mergeFields),as("Temporal.Calendar.prototype.month",zs.prototype.month),as("Temporal.Calendar.prototype.monthCode",zs.prototype.monthCode),as("Temporal.Calendar.prototype.monthDayFromFields",zs.prototype.monthDayFromFields),as("Temporal.Calendar.prototype.monthsInYear",zs.prototype.monthsInYear),as("Temporal.Calendar.prototype.weekOfYear",zs.prototype.weekOfYear),as("Temporal.Calendar.prototype.year",zs.prototype.year),as("Temporal.Calendar.prototype.yearMonthFromFields",zs.prototype.yearMonthFromFields),as("Temporal.Calendar.prototype.yearOfWeek",zs.prototype.yearOfWeek),us.iso8601={dateFromFields(r,t,n){let i=zi(r,["day","month","monthCode","year"],["year","day"]);const o=ks(t);i=hx(i);let{year:a,month:s,day:l}=i;return({year:a,month:s,day:l}=Op(a,s,l,o)),Nu(a,s,l,n)},yearMonthFromFields(r,t,n){let i=zi(r,["month","monthCode","year"],["year"]);const o=ks(t);i=hx(i);let{year:a,month:s}=i;return({year:a,month:s}=function(R,I,y){let L=R,ye=I;switch(y){case"reject":Vf(L,ye,1);break;case"constrain":({year:L,month:ye}=fT(L,ye))}return{year:L,month:ye}}(a,s,o)),b_(a,s,n,1)},monthDayFromFields(r,t,n){let i=zi(r,["day","month","monthCode","year"],["day"]);const o=ks(t);if(void 0!==i.month&&void 0===i.year&&void 0===i.monthCode)throw new TypeError("either year or monthCode required with month");const a=void 0===i.monthCode;i=hx(i);let{month:s,day:l,year:R}=i;return({month:s,day:l}=Op(a?R:1972,s,l,o)),v_(s,l,n,1972)},fields:r=>r,fieldKeysToIgnore(r){const t=new Z5;for(let n=0;n<r.length;n++){const i=r[n];$r(ol,t,[i]),"month"===i?$r(ol,t,["monthCode"]):"monthCode"===i&&$r(ol,t,["month"])}return[...$r(BT,t,[])]},dateAdd(r,t,n,i,o,a,s){let l=Ne(r,Sr),R=Ne(r,Dr),I=Ne(r,Cr);return({year:l,month:R,day:I}=t0(l,R,I,t,n,i,o,a)),Nu(l,R,I,s)},dateUntil:(r,t,n)=>xv(Ne(r,Sr),Ne(r,Dr),Ne(r,Cr),Ne(t,Sr),Ne(t,Dr),Ne(t,Cr),n),year:r=>Ne(r,Sr),era(){},eraYear(){},month:r=>Ne(r,Dr),monthCode:r=>Zh(Ne(r,Dr)),day:r=>Ne(r,Cr),dayOfWeek:r=>T_(Ne(r,Sr),Ne(r,Dr),Ne(r,Cr)),dayOfYear:r=>I_(Ne(r,Sr),Ne(r,Dr),Ne(r,Cr)),weekOfYear:r=>O5(Ne(r,Sr),Ne(r,Dr),Ne(r,Cr)).week,yearOfWeek:r=>O5(Ne(r,Sr),Ne(r,Dr),Ne(r,Cr)).year,daysInWeek:()=>7,daysInMonth:r=>Wh(Ne(r,Sr),Ne(r,Dr)),daysInYear(r){let t=r;return Ka(t,Sr)||(t=Co(t)),Up(Ne(t,Sr))?366:365},monthsInYear:()=>12,inLeapYear(r){let t=r;return Ka(t,Sr)||(t=Co(t)),Up(Ne(t,Sr))}};class Ps{constructor(t){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),void 0!==t){let n=0;for(const i of t.map.entries()){if(++n>Ps.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(t){const n=this.map.get(t);return n&&(this.hits++,this.report()),this.calls++,n}set(t,n){this.map.set(t,n),this.misses++,this.report()}report(){}setObject(t){if(Ps.objectMap.get(t))throw new RangeError("object already cached");Ps.objectMap.set(t,this),this.report()}static getCacheForObject(t){let n=Ps.objectMap.get(t);return n||(n=new Ps,Ps.objectMap.set(t,n)),n}}function NT({isoYear:r,isoMonth:t,isoDay:n}){return`${e0(r)}-${ds(t)}-${ds(n)}T00:00Z`}function LT(r,t){return{years:r.year-t.year,months:r.month-t.month,days:r.day-t.day}}Ps.objectMap=new WeakMap,Ps.MAX_CACHE_ENTRIES=1e3;class By{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return void 0===this.formatter&&(this.formatter=new H5(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(t,n){const{year:i,month:o,day:a}=t,s=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:o,isoDay:a,id:this.id}),l=n.get(s);if(l)return l;const R=this.getFormatter();let I,y;try{y=NT({isoYear:i,isoMonth:o,isoDay:a}),I=R.formatToParts(new Date(y))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:o,isoDay:a})}`)}const L={};for(let{type:Te,value:Me}of I){if("year"===Te&&(L.eraYear=+Me),"relatedYear"===Te&&(L.eraYear=+Me),"month"===Te){const Ce=/^([0-9]*)(.*?)$/.exec(Me);if(!Ce||3!=Ce.length||!Ce[1]&&!Ce[2])throw new RangeError(`Unexpected month: ${Me}`);if(L.month=Ce[1]?+Ce[1]:1,L.month<1)throw new RangeError(`Invalid month ${Me} from ${y}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(L.month>13)throw new RangeError(`Invalid month ${Me} from ${y}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);Ce[2]&&(L.monthExtra=Ce[2])}"day"===Te&&(L.day=+Me),this.hasEra&&"era"===Te&&null!=Me&&""!==Me&&(Me=Me.split(" (")[0],L.era=Me.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(void 0===L.eraYear)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:Te,eraYear:Me}=this.reviseIntlEra(L,t);L.era=Te,L.eraYear=Me}this.checkIcuBugs&&this.checkIcuBugs(t);const ye=this.adjustCalendarDate(L,n,"constrain",!0);if(void 0===ye.year)throw new RangeError(`Missing year converting ${JSON.stringify(t)}`);if(void 0===ye.month)throw new RangeError(`Missing month converting ${JSON.stringify(t)}`);if(void 0===ye.day)throw new RangeError(`Missing day converting ${JSON.stringify(t)}`);return n.set(s,ye),["constrain","reject"].forEach(Te=>{const Me=JSON.stringify({func:"calendarToIsoDate",year:ye.year,month:ye.month,day:ye.day,overflow:Te,id:this.id});n.set(Me,t)}),ye}validateCalendarDate(t){const{era:n,month:i,year:o,day:a,eraYear:s,monthCode:l,monthExtra:R}=t;if(void 0!==R)throw new RangeError("Unexpected `monthExtra` value");if(void 0===o&&void 0===s)throw new TypeError("year or eraYear is required");if(void 0===i&&void 0===l)throw new TypeError("month or monthCode is required");if(void 0===a)throw new RangeError("Missing day");if(void 0!==l){if("string"!=typeof l)throw new RangeError("monthCode must be a string, not "+typeof l);if(!/^M([01]?\d)(L?)$/.test(l))throw new RangeError(`Invalid monthCode: ${l}`)}if(this.constantEra){if(void 0!==n&&n!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${n}`);if(void 0!==s&&void 0!==o&&s!==o)throw new RangeError(`eraYear ${s} does not match year ${o}`)}if(this.hasEra&&void 0===t.era!=(void 0===t.eraYear))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(t,n,i="constrain",o=!1){if("lunisolar"===this.calendarType)throw new RangeError("Override required for lunisolar calendars");let a=t;if(this.validateCalendarDate(a),this.constantEra){const{year:I,eraYear:y}=a;a={...a,era:this.constantEra,year:void 0!==I?I:y,eraYear:void 0!==y?y:I}}const s=this.monthsInYear(a,n);let{month:l,monthCode:R}=a;return({month:l,monthCode:R}=hx(a,i,s)),{...a,month:l,monthCode:R}}regulateMonthDayNaive(t,n,i){const o=this.monthsInYear(t,i);let{month:a,day:s}=t;return"reject"===n?(fc(a,1,o),fc(s,1,this.maximumMonthLength(t))):(a=fd(a,1,o),s=fd(s,1,this.maximumMonthLength({...t,month:a}))),{...t,month:a,day:s}}calendarToIsoDate(t,n="constrain",i){const o=t;let a=this.adjustCalendarDate(t,i,n,!1);a=this.regulateMonthDayNaive(a,n,i);const{year:s,month:l,day:R}=a,I=JSON.stringify({func:"calendarToIsoDate",year:s,month:l,day:R,overflow:n,id:this.id});let y,L=i.get(I);if(L||void 0!==o.year&&void 0!==o.month&&void 0!==o.day&&(o.year!==a.year||o.month!==a.month||o.day!==a.day)&&(y=JSON.stringify({func:"calendarToIsoDate",year:o.year,month:o.month,day:o.day,overflow:n,id:this.id}),L=i.get(y),L))return L;let ye=this.estimateIsoDate({year:s,month:l,day:R});const Te=ze=>{let He=this.addDaysIso(ye,ze);if(a.day>this.minimumMonthLength(a)){let rt=this.isoToCalendarDate(He,i);for(;rt.month!==l||rt.year!==s;){if("reject"===n)throw new RangeError(`day ${R} does not exist in month ${l} of year ${s}`);He=this.addDaysIso(He,-1),rt=this.isoToCalendarDate(He,i)}}return He};let Me=0,Ce=this.isoToCalendarDate(ye,i),je=LT(a,Ce);0===je.years&&0===je.months&&0===je.days||(ye=this.addDaysIso(ye,365*je.years+30*je.months+je.days),Ce=this.isoToCalendarDate(ye,i),je=LT(a,Ce),0===je.years&&0===je.months?ye=Te(je.days):Me=this.compareCalendarDates(a,Ce));let Je=8;for(;Me;){ye=this.addDaysIso(ye,Me*Je);const ze=Ce;Ce=this.isoToCalendarDate(ye,i);const He=Me;if(Me=this.compareCalendarDates(a,Ce),Me)if(je=LT(a,Ce),0===je.years&&0===je.months)ye=Te(je.days),Me=0;else if(He&&Me!==He)if(Je>1)Je/=2;else{if("reject"===n)throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...o})}`);this.compareCalendarDates(Ce,ze)>0&&(ye=this.addDaysIso(ye,-1)),Me=0}}if(i.set(I,ye),y&&i.set(y,ye),void 0===a.year||void 0===a.month||void 0===a.day||void 0===a.monthCode||this.hasEra&&(void 0===a.era||void 0===a.eraYear))throw new RangeError("Unexpected missing property");return ye}temporalToCalendarDate(t,n){const i={year:Ne(t,Sr),month:Ne(t,Dr),day:Ne(t,Cr)};return this.isoToCalendarDate(i,n)}compareCalendarDates(t,n){const i=zi(t,["day","month","year"],["day","month","year"]),o=zi(n,["day","month","year"],["day","month","year"]);return i.year!==o.year?ky(i.year-o.year):i.month!==o.month?ky(i.month-o.month):i.day!==o.day?ky(i.day-o.day):0}regulateDate(t,n="constrain",i){const o=this.calendarToIsoDate(t,n,i);return this.isoToCalendarDate(o,i)}addDaysIso(t,n){return t0(t.year,t.month,t.day,0,0,0,n,"constrain")}addDaysCalendar(t,n,i){const o=this.calendarToIsoDate(t,"constrain",i),a=this.addDaysIso(o,n);return this.isoToCalendarDate(a,i)}addMonthsCalendar(t,n,i,o){let a=t;const{day:s}=a;for(let l=0,R=zB(n);l<R;l++){const{month:I}=a,y=a,L=n<0?-Math.max(s,this.daysInPreviousMonth(a,o)):this.daysInMonth(a,o),ye=this.calendarToIsoDate(a,"constrain",o);let Te=this.addDaysIso(ye,L);if(a=this.isoToCalendarDate(Te,o),n>0){const Me=this.monthsInYear(y,o);for(;a.month-1!=I%Me;)Te=this.addDaysIso(Te,-1),a=this.isoToCalendarDate(Te,o)}a.day!==s&&(a=this.regulateDate({...a,day:s},"constrain",o))}if("reject"===i&&a.day!==s)throw new RangeError(`Day ${s} does not exist in resulting calendar month`);return a}addCalendar(t,{years:n=0,months:i=0,weeks:o=0,days:a=0},s,l){const{year:R,day:I,monthCode:y}=t,L=this.adjustCalendarDate({year:R+n,monthCode:y,day:I},l),ye=this.addMonthsCalendar(L,i,s,l);return this.addDaysCalendar(ye,a+7*o,l)}untilCalendar(t,n,i,o){let a=0,s=0,l=0,R=0;switch(i){case"day":a=this.calendarDaysUntil(t,n,o);break;case"week":{const I=this.calendarDaysUntil(t,n,o);a=I%7,s=(I-a)/7;break}case"month":case"year":{const I=this.compareCalendarDates(n,t);if(!I)return{years:0,months:0,weeks:0,days:0};const y=n.year-t.year;if("year"===i&&y){let Me=0;n.monthCode>t.monthCode&&(Me=1),n.monthCode<t.monthCode&&(Me=-1),Me||(Me=Math.sign(n.day-t.day)),R=Me*I<0?y-I:y}let ye,Te=R?this.addCalendar(t,{years:R},"constrain",o):t;do{l+=I,ye=Te,Te=this.addMonthsCalendar(ye,I,"constrain",o),Te.day!==t.day&&(Te=this.regulateDate({...Te,day:t.day},"constrain",o))}while(this.compareCalendarDates(n,Te)*I>=0);l-=I,a=this.calendarDaysUntil(ye,n,o);break}}return{years:R,months:l,weeks:s,days:a}}daysInMonth(t,n){const{day:i}=t,o=this.maximumMonthLength(t),a=this.minimumMonthLength(t);if(a===o)return a;const s=i<=o-a?o:a,l=this.calendarToIsoDate(t,"constrain",n),R=this.addDaysIso(l,s),I=this.isoToCalendarDate(R,n),y=this.addDaysIso(R,-I.day);return this.isoToCalendarDate(y,n).day}daysInPreviousMonth(t,n){const{day:i,month:o,year:a}=t;let s={year:o>1?a:a-1,month:o,day:1};const l=o>1?o-1:this.monthsInYear(s,n);s={...s,month:l};const R=this.minimumMonthLength(s),I=this.maximumMonthLength(s);if(R===I)return I;const y=this.calendarToIsoDate(t,"constrain",n),L=this.addDaysIso(y,-i);return this.isoToCalendarDate(L,n).day}startOfCalendarYear(t){return{year:t.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(t){return{year:t.year,month:t.month,day:1}}calendarDaysUntil(t,n,i){const o=this.calendarToIsoDate(t,"constrain",i),a=this.calendarToIsoDate(n,"constrain",i);return this.isoDaysUntil(o,a)}isoDaysUntil(t,n){return xv(t.year,t.month,t.day,n.year,n.month,n.day,"day").days}monthDayFromFields(t,n,i){let o,a,s,l,R,{monthCode:I,day:y}=t;if(void 0===I){let{year:Te,era:Me,eraYear:Ce}=t;if(void 0===Te&&(void 0===Me||void 0===Ce))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:I,day:y}=this.isoToCalendarDate(this.calendarToIsoDate(t,n,i),i))}const L=this.isoToCalendarDate({year:1972,month:12,day:31},i),ye=L.monthCode>I||L.monthCode===I&&L.day>=y?L.year:L.year-1;for(let Te=0;Te<100;Te++){const Me=this.adjustCalendarDate({day:y,monthCode:I,year:ye-Te},i),Ce=this.calendarToIsoDate(Me,"constrain",i),je=this.isoToCalendarDate(Ce,i);if(({year:o,month:a,day:s}=Ce),je.monthCode===I&&je.day===y)return{month:a,day:s,year:o};"constrain"===n&&(void 0===l||je.monthCode===l.monthCode&&je.day>l.day)&&(l=je,R=Ce)}if("constrain"===n&&void 0!==R)return R;throw new RangeError(`No recent ${this.id} year with monthCode ${I} and day ${y}`)}}class X5 extends By{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(t){const{year:n}=t;return(7*n+1)%19<7}monthsInYear(t){return this.inLeapYear(t)?13:12}minimumMonthLength(t){return this.minMaxMonthLength(t,"min")}maximumMonthLength(t){return this.minMaxMonthLength(t,"max")}minMaxMonthLength(t,n){const{month:i,year:o}=t,a=this.getMonthCode(o,i),s=G5(this.months).find(R=>R[1].monthCode===a);if(void 0===s)throw new RangeError(`unmatched Hebrew month: ${i}`);const l=s[1].days;return"number"==typeof l?l:l[n]}estimateIsoDate(t){const{year:n}=t;return{year:n-3760,month:1,day:1}}getMonthCode(t,n){return this.inLeapYear({year:t})?6===n?Zh(5,!0):Zh(n<6?n:n-1):Zh(n)}adjustCalendarDate(t,n,i="constrain",o=!1){let{year:a,eraYear:s,month:l,monthCode:R,day:I,monthExtra:y}=t;if(void 0===a&&void 0!==s&&(a=s),void 0===s&&void 0!==a&&(s=a),o){if(y){const L=this.months[y];if(!L)throw new RangeError(`Unrecognized month from formatToParts: ${y}`);l=this.inLeapYear({year:a})?L.leap:L.regular}return R=this.getMonthCode(a,l),{year:a,month:l,day:I,era:void 0,eraYear:s,monthCode:R}}if(this.validateCalendarDate(t),void 0===l)if(R.endsWith("L")){if("M05L"!==R)throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${R}`);if(l=6,!this.inLeapYear({year:a})){if("reject"===i)throw new RangeError(`Hebrew monthCode M05L is invalid in year ${a} which is not a leap year`);l=6,R="M06"}}else{l=fx(R),this.inLeapYear({year:a})&&l>=6&&l++;const L=this.monthsInYear({year:a});if(l<1||l>L)throw new RangeError(`Invalid monthCode: ${R}`)}else if("reject"===i?(fc(l,1,this.monthsInYear({year:a})),fc(I,1,this.maximumMonthLength({year:a,month:l}))):(l=fd(l,1,this.monthsInYear({year:a})),I=fd(I,1,this.maximumMonthLength({year:a,month:l}))),void 0===R)R=this.getMonthCode(a,l);else if(this.getMonthCode(a,l)!==R)throw new RangeError(`monthCode ${R} doesn't correspond to month ${l} in Hebrew year ${a}`);return{...t,day:I,month:l,monthCode:R,year:a,eraYear:s}}}class Ny extends By{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(t,n){return 30===this.daysInMonth({year:t.year,month:12,day:1},n)}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:W5(n*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class UT extends Ny{constructor(){super(...arguments),this.id="islamic"}}class HB extends Ny{constructor(){super(...arguments),this.id="islamic-umalqura"}}class WB extends Ny{constructor(){super(...arguments),this.id="islamic-tbla"}}class IU extends Ny{constructor(){super(...arguments),this.id="islamic-civil"}}class J5 extends Ny{constructor(){super(...arguments),this.id="islamic-rgsa"}}class DU extends Ny{constructor(){super(...arguments),this.id="islamicc"}}class CU extends By{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(t,n){return UT.prototype.inLeapYear.call(this,t,n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 12===n?29:n<=6?31:30}maximumMonthLength(t){const{month:n}=t;return 12===n?30:n<=6?31:30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:n+621,month:1,day:1}}}class kU extends By{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug="10/11/-79 Saka"!==new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})}inLeapYear(t){return GB(t.year+78)}monthsInYear(){return 12}minimumMonthLength(t){return this.getMonthInfo(t).length}maximumMonthLength(t){return this.getMonthInfo(t).length}getMonthInfo(t){const{month:n}=t;let i=this.months[n];if(void 0===i)throw new RangeError(`Invalid month: ${n}`);return this.inLeapYear(t)&&i.leap&&(i=i.leap),i}estimateIsoDate(t){const n=this.adjustCalendarDate(t),i=this.getMonthInfo(n);return t0(n.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,n.day-1,"constrain")}checkIcuBugs(t){if(this.vulnerableToBceBug&&t.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function GB(r){return r%4==0&&(r%100!=0||r%400==0)}class px extends By{constructor(t,n){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=t;const{eras:i,anchorEra:o}=function(s){let l,R=s;if(0===R.length)throw new RangeError("Invalid era data: eras are required");if(1===R.length&&R[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(1===R.length&&!R[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(R.filter(y=>null!=y.reverseOf).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");R.forEach(y=>{if(y.isAnchor||!y.anchorEpoch&&!y.reverseOf){if(l)throw new RangeError("Invalid era data: cannot have multiple anchor eras");l=y,y.anchorEpoch={year:y.hasYearZero?0:1}}else if(!y.name)throw new RangeError("If era name is blank, it must be the anchor era")}),R=R.filter(y=>y.name),R.forEach(y=>{const{reverseOf:L}=y;if(L){const ye=R.find(Te=>Te.name===L);if(void 0===ye)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${L}`);y.reverseOf=ye,y.anchorEpoch=ye.anchorEpoch,y.isoEpoch=ye.isoEpoch}void 0===y.anchorEpoch.month&&(y.anchorEpoch.month=1),void 0===y.anchorEpoch.day&&(y.anchorEpoch.day=1)}),Pv.call(R,(y,L)=>{if(y.reverseOf)return 1;if(L.reverseOf)return-1;if(!y.isoEpoch||!L.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return L.isoEpoch.year-y.isoEpoch.year});const I=R[R.length-1].reverseOf;if(I&&I!==R[R.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return R.forEach((y,L)=>{y.genericName="era"+(R.length-1-L)}),{eras:R,anchorEra:l||R[0]}}(n);this.anchorEra=o,this.eras=i}inLeapYear(t){const{year:n}=this.estimateIsoDate({month:1,day:1,year:t.year});return GB(n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 2===n?this.inLeapYear(t)?29:28:[4,6,9,11].indexOf(n)>=0?30:31}maximumMonthLength(t){return this.minimumMonthLength(t)}completeEraYear(t){const n=(l,R)=>{const I=t[l];if(null!=I&&I!=R)throw new RangeError(`Input ${l} ${I} doesn't match calculated value ${R}`)},i=l=>{let R;const I={...t,year:l},y=this.eras.find((L,ye)=>{if(ye===this.eras.length-1){if(L.reverseOf){if(l>0)throw new RangeError(`Signed year ${l} is invalid for era ${L.name}`);return R=L.anchorEpoch.year-l,!0}return R=l-L.anchorEpoch.year+(L.hasYearZero?0:1),!0}return this.compareCalendarDates(I,L.anchorEpoch)>=0&&(R=l-L.anchorEpoch.year+(L.hasYearZero?0:1),!0)});if(!y)throw new RangeError(`Year ${l} was not matched by any era`);return{eraYear:R,era:y.name}};let{year:o,eraYear:a,era:s}=t;if(null!=o)({eraYear:a,era:s}=i(o)),n("era",s),n("eraYear",a);else{if(null==a)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const l=void 0===s?void 0:this.eras.find(R=>R.name===s||R.genericName===s);if(!l)throw new RangeError(`Era ${s} (ISO year ${a}) was not matched by any era`);if(a<1&&l.reverseOf)throw new RangeError(`Years in ${s} era must be positive, not ${o}`);o=l.reverseOf?l.anchorEpoch.year-a:a+l.anchorEpoch.year-(l.hasYearZero?0:1),n("year",o),({eraYear:a,era:s}=i(o))}}return{...t,year:o,eraYear:a,era:s}}adjustCalendarDate(t,n,i="constrain"){let o=t;const{month:a,monthCode:s}=o;return void 0===a&&(o={...o,month:fx(s)}),this.validateCalendarDate(o),o=this.completeEraYear(o),super.adjustCalendarDate(o,n,i)}estimateIsoDate(t){const n=this.adjustCalendarDate(t),{year:i,month:o,day:a}=n,{anchorEra:s}=this;return Op(i+s.isoEpoch.year-(s.hasYearZero?0:1),o,a,"constrain")}checkIcuBugs(t){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Iy(t.year,t.month,t.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class q5 extends px{constructor(t,n){super(t,n)}inLeapYear(t){const{year:n}=t;return(n+1)%4==0}monthsInYear(){return 13}minimumMonthLength(t){const{month:n}=t;return 13===n?this.inLeapYear(t)?6:5:30}maximumMonthLength(t){return this.minimumMonthLength(t)}}class PU extends q5{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class RU extends q5{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class Q5 extends q5{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class OU extends px{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class BU extends px{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class e8 extends px{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(t){let{era:n,eraYear:i}=t;return"bc"!==n&&"b"!==n||(n="bce"),"ad"!==n&&"a"!==n||(n="ce"),{era:n,eraYear:i}}}class ZB extends px{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(t,n){const{era:i,eraYear:o}=t,{year:a}=n;return this.eras.find(s=>s.name===i)?{era:i,eraYear:o}:a<1?{era:"bce",eraYear:1-a}:{era:"ce",eraYear:a}}}class Rv extends By{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(t,n){const i=this.getMonthList(t.year,n);return 13===G5(i).length}monthsInYear(t,n){return this.inLeapYear(t,n)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(t,n){if(void 0===t)throw new TypeError("Missing year");const i=JSON.stringify({func:"getMonthList",calendarYear:t,id:this.id}),o=n.get(i);if(o)return o;const a=this.getFormatter(),s=(je,Je)=>{const ze=NT({isoYear:je,isoMonth:2,isoDay:1}),He=new Date(ze);He.setUTCDate(Je+1);const rt=a.formatToParts(He),yt=rt.find(It=>"month"===It.type).value,ct=+rt.find(It=>"day"===It.type).value;let _t=rt.find(It=>"relatedYear"===It.type);if(void 0===_t)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return _t=+_t.value,{calendarMonthString:yt,calendarDay:ct,calendarYearToVerify:_t}};let l=17,{calendarMonthString:R,calendarDay:I,calendarYearToVerify:y}=s(t,l);"1"!==R&&(l+=29,({calendarMonthString:R,calendarDay:I}=s(t,l))),l-=I-5;const L={};let ye,Te,Me=1,Ce=!1;do{({calendarMonthString:R,calendarDay:I,calendarYearToVerify:y}=s(t,l)),ye&&(L[Te].daysInMonth=ye+30-I),y!==t?Ce=!0:(L[R]={monthIndex:Me++},l+=30),ye=I,Te=R}while(!Ce);return L[Te].daysInMonth=ye+30-I,n.set(i,L),L}estimateIsoDate(t){const{year:n,month:i}=t;return{year:n,month:i>=12?12:i+1,day:1}}adjustCalendarDate(t,n,i="constrain",o=!1){let{year:a,month:s,monthExtra:l,day:R,monthCode:I,eraYear:y}=t;if(o){if(a=y,l&&"bis"!==l)throw new RangeError(`Unexpected leap month suffix: ${l}`);const L=Zh(s,void 0!==l),ye=`${s}${l||""}`,Te=this.getMonthList(a,n)[ye];if(void 0===Te)throw new RangeError(`Unmatched month ${ye} in Chinese year ${a}`);return s=Te.monthIndex,{year:a,month:s,day:R,era:void 0,eraYear:y,monthCode:L}}if(this.validateCalendarDate(t),void 0===a&&(a=y),void 0===y&&(y=a),void 0===s){const L=this.getMonthList(a,n);let ye=I.replace("L","bis").slice(1);"0"===ye[0]&&(ye=ye.slice(1));let Te=L[ye];if(s=Te&&Te.monthIndex,void 0===s&&I.endsWith("L")&&"M13L"!=I&&"constrain"===i){let Me=I.slice(1,-1);"0"===Me[0]&&(Me=Me.slice(1)),Te=L[Me],Te&&(s=Te.monthIndex,I=Zh(Me))}if(void 0===s)throw new RangeError(`Unmatched month ${I} in Chinese year ${a}`)}else if(void 0===I){const L=this.getMonthList(a,n),ye=G5(L),Te=ye.length;"reject"===i?(fc(s,1,Te),fc(R,1,this.maximumMonthLength())):(s=fd(s,1,Te),R=fd(R,1,this.maximumMonthLength()));const Me=ye.find(([,Ce])=>Ce.monthIndex===s);if(void 0===Me)throw new RangeError(`Invalid month ${s} in Chinese year ${a}`);I=Zh(Me[0].replace("bis",""),-1!==Me[0].indexOf("bis"))}else{const L=this.getMonthList(a,n);let ye=I.replace("L","bis").slice(1);"0"===ye[0]&&(ye=ye.slice(1));const Te=L[ye];if(!Te)throw new RangeError(`Unmatched monthCode ${I} in Chinese year ${a}`);if(s!==Te.monthIndex)throw new RangeError(`monthCode ${I} doesn't correspond to month ${s} in Chinese year ${a}`)}return{...t,year:a,eraYear:y,month:s,monthCode:I,day:R}}}class mx extends Rv{constructor(){super(...arguments),this.id="chinese"}}class YB extends Rv{constructor(){super(...arguments),this.id="dangi"}}class XB{constructor(t){this.helper=t}dateFromFields(t,n,i){const o=new Ps,a=zi(t,this.fields(["day","month","monthCode","year"]),[]),s=ks(n),{year:l,month:R,day:I}=this.helper.calendarToIsoDate(a,s,o),y=Nu(l,R,I,i);return o.setObject(y),y}yearMonthFromFields(t,n,i){const o=new Ps,a=zi(t,this.fields(["month","monthCode","year"]),[]),s=ks(n),{year:l,month:R,day:I}=this.helper.calendarToIsoDate({...a,day:1},s,o),y=b_(l,R,i,I);return o.setObject(y),y}monthDayFromFields(t,n,i){const o=new Ps,a=zi(t,this.fields(["day","month","monthCode","year"]),[]),s=ks(n),{year:l,month:R,day:I}=this.helper.monthDayFromFields(a,s,o),y=v_(R,I,i,l);return o.setObject(y),y}fields(t){let n=t;return OT.call(n,"year")&&(n=[...n,"era","eraYear"]),n}fieldKeysToIgnore(t){const n=new Z5;for(let i=0;i<t.length;i++){const o=t[i];switch($r(ol,n,[o]),o){case"era":$r(ol,n,["eraYear"]),$r(ol,n,["year"]);break;case"eraYear":$r(ol,n,["era"]),$r(ol,n,["year"]);break;case"year":$r(ol,n,["era"]),$r(ol,n,["eraYear"]);break;case"month":$r(ol,n,["monthCode"]),this.helper.erasBeginMidYear&&($r(ol,n,["era"]),$r(ol,n,["eraYear"]));break;case"monthCode":$r(ol,n,["month"]),this.helper.erasBeginMidYear&&($r(ol,n,["era"]),$r(ol,n,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&($r(ol,n,["era"]),$r(ol,n,["eraYear"]))}}return[...$r(BT,n,[])]}dateAdd(t,n,i,o,a,s,l){const R=Ps.getCacheForObject(t),I=this.helper.temporalToCalendarDate(t,R),y=this.helper.addCalendar(I,{years:n,months:i,weeks:o,days:a},s,R),L=this.helper.calendarToIsoDate(y,"constrain",R),{year:ye,month:Te,day:Me}=L,Ce=Nu(ye,Te,Me,l);return new Ps(R).setObject(Ce),Ce}dateUntil(t,n,i){const o=Ps.getCacheForObject(t),a=Ps.getCacheForObject(n),s=this.helper.temporalToCalendarDate(t,o),l=this.helper.temporalToCalendarDate(n,a);return this.helper.untilCalendar(s,l,i,o)}year(t){const n=Ps.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).year}month(t){const n=Ps.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).month}day(t){const n=Ps.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).day}era(t){if(!this.helper.hasEra)return;const n=Ps.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).era}eraYear(t){if(!this.helper.hasEra)return;const n=Ps.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).eraYear}monthCode(t){const n=Ps.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).monthCode}dayOfWeek(t){return us.iso8601.dayOfWeek(t)}dayOfYear(t){const n=Ps.getCacheForObject(t),i=this.helper.isoToCalendarDate(t,n),o=this.helper.startOfCalendarYear(i);return this.helper.calendarDaysUntil(o,i,n)+1}weekOfYear(t){return us.iso8601.weekOfYear(t)}yearOfWeek(t){return us.iso8601.yearOfWeek(t)}daysInWeek(t){return us.iso8601.daysInWeek(t)}daysInMonth(t){const n=Ps.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n),o=this.helper.maximumMonthLength(i);if(o===this.helper.minimumMonthLength(i))return o;const a=this.helper.startOfCalendarMonth(i),s=this.helper.addMonthsCalendar(a,1,"constrain",n);return this.helper.calendarDaysUntil(a,s,n)}daysInYear(t){let n=t;Ka(n,Sr)||(n=Co(n));const i=Ps.getCacheForObject(n),o=this.helper.temporalToCalendarDate(n,i),a=this.helper.startOfCalendarYear(o),s=this.helper.addCalendar(a,{years:1},"constrain",i);return this.helper.calendarDaysUntil(a,s,i)}monthsInYear(t){const n=Ps.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n);return this.helper.monthsInYear(i,n)}inLeapYear(t){let n=t;Ka(n,Sr)||(n=Co(n));const i=Ps.getCacheForObject(n),o=this.helper.temporalToCalendarDate(n,i);return this.helper.inLeapYear(o,i)}}for(const r of[X5,CU,Q5,PU,RU,mx,YB,OU,kU,BU,e8,ZB,UT,HB,WB,IU,J5,DU]){const t=new r;us[t.id]=new XB(t)}class N_{constructor(t,n,i,o="iso8601"){T5(this,fo(t),fo(n),fo(i),dd(o))}get calendarId(){if(!Ni(this))throw new TypeError("invalid receiver");return Lc(Ne(this,kn))}get era(){if(!Ni(this))throw new TypeError("invalid receiver");return E_(Ne(this,kn),this)}get eraYear(){if(!Ni(this))throw new TypeError("invalid receiver");return KE(Ne(this,kn),this)}get year(){if(!Ni(this))throw new TypeError("invalid receiver");return jE(Ne(this,kn),this)}get month(){if(!Ni(this))throw new TypeError("invalid receiver");return w_(Ne(this,kn),this)}get monthCode(){if(!Ni(this))throw new TypeError("invalid receiver");return mv(Ne(this,kn),this)}get day(){if(!Ni(this))throw new TypeError("invalid receiver");return __(Ne(this,kn),this)}get dayOfWeek(){if(!Ni(this))throw new TypeError("invalid receiver");return x_(Ne(this,kn),this)}get dayOfYear(){if(!Ni(this))throw new TypeError("invalid receiver");return WA(Ne(this,kn),this)}get weekOfYear(){if(!Ni(this))throw new TypeError("invalid receiver");return $E(Ne(this,kn),this)}get yearOfWeek(){if(!Ni(this))throw new TypeError("invalid receiver");return VE(Ne(this,kn),this)}get daysInWeek(){if(!Ni(this))throw new TypeError("invalid receiver");return GA(Ne(this,kn),this)}get daysInMonth(){if(!Ni(this))throw new TypeError("invalid receiver");return zE(Ne(this,kn),this)}get daysInYear(){if(!Ni(this))throw new TypeError("invalid receiver");return HE(Ne(this,kn),this)}get monthsInYear(){if(!Ni(this))throw new TypeError("invalid receiver");return yv(Ne(this,kn),this)}get inLeapYear(){if(!Ni(this))throw new TypeError("invalid receiver");return WE(Ne(this,kn),this)}with(t,n){if(!Ni(this))throw new TypeError("invalid receiver");if(!ls(t))throw new TypeError("invalid argument");d_(t);const i=ro(n),o=Ne(this,kn),a=ha(o,["day","month","monthCode","year"]);let s=zi(this,a,[]);return s=Ey(o,s,zi(t,a,"partial")),s=zi(s,a,[]),Bp(o,s,i)}withCalendar(t){if(!Ni(this))throw new TypeError("invalid receiver");const n=dd(t);return new N_(Ne(this,Sr),Ne(this,Dr),Ne(this,Cr),n)}add(t,n){if(!Ni(this))throw new TypeError("invalid receiver");const i=pv(t),o=ro(n);return Nc(Ne(this,kn),this,i,o)}subtract(t,n){if(!Ni(this))throw new TypeError("invalid receiver");const i=uT(pv(t)),o=ro(n);return Nc(Ne(this,kn),this,i,o)}until(t,n){if(!Ni(this))throw new TypeError("invalid receiver");return yT("until",this,t,n)}since(t,n){if(!Ni(this))throw new TypeError("invalid receiver");return yT("since",this,t,n)}equals(t){if(!Ni(this))throw new TypeError("invalid receiver");const n=Co(t);for(const i of[Sr,Dr,Cr])if(Ne(this,i)!==Ne(n,i))return!1;return M_(Ne(this,kn),Ne(n,kn))}toString(t){if(!Ni(this))throw new TypeError("invalid receiver");return QA(this,f_(ro(t)))}toJSON(){if(!Ni(this))throw new TypeError("invalid receiver");return QA(this)}toLocaleString(t,n){if(!Ni(this))throw new TypeError("invalid receiver");return new s0(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(t){if(!Ni(this))throw new TypeError("invalid receiver");const n=Ne(this,Sr),i=Ne(this,Dr),o=Ne(this,Cr),a=Ne(this,kn);if(void 0===t)return Oc(n,i,o,0,0,0,0,0,0,a);const s=qm(t);return Oc(n,i,o,Ne(s,mi),Ne(s,Ei),Ne(s,xi),Ne(s,Si),Ne(s,Mi),Ne(s,Ai),a)}toZonedDateTime(t){if(!Ni(this))throw new TypeError("invalid receiver");let n,i;if(ls(t))if(vu(t))n=t;else{const Me=t.timeZone;void 0===Me?n=Uc(t):(n=Uc(Me),i=t.plainTime)}else n=Uc(t);const o=Ne(this,Sr),a=Ne(this,Dr),s=Ne(this,Cr),l=Ne(this,kn);let R=0,I=0,y=0,L=0,ye=0,Te=0;return void 0!==i&&(i=qm(i),R=Ne(i,mi),I=Ne(i,Ei),y=Ne(i,xi),L=Ne(i,Si),ye=Ne(i,Mi),Te=Ne(i,Ai)),Bc(Ne(Fc(n,Oc(o,a,s,R,I,y,L,ye,Te,l),"compatible"),Hr),n,l)}toPlainYearMonth(){if(!Ni(this))throw new TypeError("invalid receiver");const t=Ne(this,kn);return xy(t,zi(this,ha(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Ni(this))throw new TypeError("invalid receiver");const t=Ne(this,kn);return Sy(t,zi(this,ha(t,["day","monthCode"]),[]))}getISOFields(){if(!Ni(this))throw new TypeError("invalid receiver");return{calendar:Ne(this,kn),isoDay:Ne(this,Cr),isoMonth:Ne(this,Dr),isoYear:Ne(this,Sr)}}getCalendar(){if(!Ni(this))throw new TypeError("invalid receiver");return gv(Ne(this,kn))}static from(t,n){const i=ro(n);return Ni(t)?(ks(i),Nu(Ne(t,Sr),Ne(t,Dr),Ne(t,Cr),Ne(t,kn))):Co(t,i)}static compare(t,n){const i=Co(t),o=Co(n);return Iy(Ne(i,Sr),Ne(i,Dr),Ne(i,Cr),Ne(o,Sr),Ne(o,Dr),Ne(o,Cr))}}Ld(N_,"Temporal.PlainDate");class L_{constructor(t,n,i,o=0,a=0,s=0,l=0,R=0,I=0,y="iso8601"){HA(this,fo(t),fo(n),fo(i),void 0===o?0:fo(o),void 0===a?0:fo(a),void 0===s?0:fo(s),void 0===l?0:fo(l),void 0===R?0:fo(R),void 0===I?0:fo(I),dd(y))}get calendarId(){if(!Ti(this))throw new TypeError("invalid receiver");return Lc(Ne(this,kn))}get year(){if(!Ti(this))throw new TypeError("invalid receiver");return jE(Ne(this,kn),this)}get month(){if(!Ti(this))throw new TypeError("invalid receiver");return w_(Ne(this,kn),this)}get monthCode(){if(!Ti(this))throw new TypeError("invalid receiver");return mv(Ne(this,kn),this)}get day(){if(!Ti(this))throw new TypeError("invalid receiver");return __(Ne(this,kn),this)}get hour(){if(!Ti(this))throw new TypeError("invalid receiver");return Ne(this,mi)}get minute(){if(!Ti(this))throw new TypeError("invalid receiver");return Ne(this,Ei)}get second(){if(!Ti(this))throw new TypeError("invalid receiver");return Ne(this,xi)}get millisecond(){if(!Ti(this))throw new TypeError("invalid receiver");return Ne(this,Si)}get microsecond(){if(!Ti(this))throw new TypeError("invalid receiver");return Ne(this,Mi)}get nanosecond(){if(!Ti(this))throw new TypeError("invalid receiver");return Ne(this,Ai)}get era(){if(!Ti(this))throw new TypeError("invalid receiver");return E_(Ne(this,kn),this)}get eraYear(){if(!Ti(this))throw new TypeError("invalid receiver");return KE(Ne(this,kn),this)}get dayOfWeek(){if(!Ti(this))throw new TypeError("invalid receiver");return x_(Ne(this,kn),this)}get dayOfYear(){if(!Ti(this))throw new TypeError("invalid receiver");return WA(Ne(this,kn),this)}get weekOfYear(){if(!Ti(this))throw new TypeError("invalid receiver");return $E(Ne(this,kn),this)}get yearOfWeek(){if(!Ti(this))throw new TypeError("invalid receiver");return VE(Ne(this,kn),this)}get daysInWeek(){if(!Ti(this))throw new TypeError("invalid receiver");return GA(Ne(this,kn),this)}get daysInYear(){if(!Ti(this))throw new TypeError("invalid receiver");return HE(Ne(this,kn),this)}get daysInMonth(){if(!Ti(this))throw new TypeError("invalid receiver");return zE(Ne(this,kn),this)}get monthsInYear(){if(!Ti(this))throw new TypeError("invalid receiver");return yv(Ne(this,kn),this)}get inLeapYear(){if(!Ti(this))throw new TypeError("invalid receiver");return WE(Ne(this,kn),this)}with(t,n){if(!Ti(this))throw new TypeError("invalid receiver");if(!ls(t))throw new TypeError("invalid argument");d_(t);const i=ro(n),o=Ne(this,kn),a=ha(o,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let s=zi(this,a,[]);s=Ey(o,s,zi(t,a,"partial")),s=zi(s,a,[]);const{year:l,month:R,day:I,hour:y,minute:L,second:ye,millisecond:Te,microsecond:Me,nanosecond:Ce}=y_(o,s,i);return Oc(l,R,I,y,L,ye,Te,Me,Ce,o)}withPlainTime(t){if(!Ti(this))throw new TypeError("invalid receiver");const n=Ne(this,Sr),i=Ne(this,Dr),o=Ne(this,Cr),a=Ne(this,kn);if(void 0===t)return Oc(n,i,o,0,0,0,0,0,0,a);const s=qm(t);return Oc(n,i,o,Ne(s,mi),Ne(s,Ei),Ne(s,xi),Ne(s,Si),Ne(s,Mi),Ne(s,Ai),a)}withPlainDate(t){if(!Ti(this))throw new TypeError("invalid receiver");const n=Co(t),i=Ne(n,Sr),o=Ne(n,Dr),a=Ne(n,Cr);let s=Ne(n,kn);const l=Ne(this,mi),R=Ne(this,Ei),I=Ne(this,xi),y=Ne(this,Si),L=Ne(this,Mi),ye=Ne(this,Ai);return s=C5(Ne(this,kn),s),Oc(i,o,a,l,R,I,y,L,ye,s)}withCalendar(t){if(!Ti(this))throw new TypeError("invalid receiver");const n=dd(t);return new L_(Ne(this,Sr),Ne(this,Dr),Ne(this,Cr),Ne(this,mi),Ne(this,Ei),Ne(this,xi),Ne(this,Si),Ne(this,Mi),Ne(this,Ai),n)}add(t,n){if(!Ti(this))throw new TypeError("invalid receiver");return cx("add",this,t,n)}subtract(t,n){if(!Ti(this))throw new TypeError("invalid receiver");return cx("subtract",this,t,n)}until(t,n){if(!Ti(this))throw new TypeError("invalid receiver");return gT("until",this,t,n)}since(t,n){if(!Ti(this))throw new TypeError("invalid receiver");return gT("since",this,t,n)}round(t){if(!Ti(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Mv("smallestUnit",t):ro(t),i=$h(n),o=ff(n,"halfExpand"),a=Rc(n,"smallestUnit","time",Xm,["day"]),s={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[a];Vh(i,s,1===s);let l=Ne(this,Sr),R=Ne(this,Dr),I=Ne(this,Cr),y=Ne(this,mi),L=Ne(this,Ei),ye=Ne(this,xi),Te=Ne(this,Si),Me=Ne(this,Mi),Ce=Ne(this,Ai);return({year:l,month:R,day:I,hour:y,minute:L,second:ye,millisecond:Te,microsecond:Me,nanosecond:Ce}=xT(l,R,I,y,L,ye,Te,Me,Ce,i,a,o)),Oc(l,R,I,y,L,ye,Te,Me,Ce,Ne(this,kn))}equals(t){if(!Ti(this))throw new TypeError("invalid receiver");const n=Jm(t);for(const i of[Sr,Dr,Cr,mi,Ei,xi,Si,Mi,Ai])if(Ne(this,i)!==Ne(n,i))return!1;return M_(Ne(this,kn),Ne(n,kn))}toString(t){if(!Ti(this))throw new TypeError("invalid receiver");const n=ro(t),i=f_(n),o=h_(n),a=ff(n,"trunc"),s=Rc(n,"smallestUnit","time",void 0);if("hour"===s)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:l,unit:R,increment:I}=p_(s,o);return eT(this,l,i,{unit:R,increment:I,roundingMode:a})}toJSON(){if(!Ti(this))throw new TypeError("invalid receiver");return eT(this,"auto")}toLocaleString(t,n){if(!Ti(this))throw new TypeError("invalid receiver");return new s0(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(t,n){if(!Ti(this))throw new TypeError("invalid receiver");const i=Uc(t);return Bc(Ne(Fc(i,this,Pc(ro(n))),Hr),i,Ne(this,kn))}toPlainDate(){if(!Ti(this))throw new TypeError("invalid receiver");return bv(this)}toPlainYearMonth(){if(!Ti(this))throw new TypeError("invalid receiver");const t=Ne(this,kn);return xy(t,zi(this,ha(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Ti(this))throw new TypeError("invalid receiver");const t=Ne(this,kn);return Sy(t,zi(this,ha(t,["day","monthCode"]),[]))}toPlainTime(){if(!Ti(this))throw new TypeError("invalid receiver");return YA(this)}getISOFields(){if(!Ti(this))throw new TypeError("invalid receiver");return{calendar:Ne(this,kn),isoDay:Ne(this,Cr),isoHour:Ne(this,mi),isoMicrosecond:Ne(this,Mi),isoMillisecond:Ne(this,Si),isoMinute:Ne(this,Ei),isoMonth:Ne(this,Dr),isoNanosecond:Ne(this,Ai),isoSecond:Ne(this,xi),isoYear:Ne(this,Sr)}}getCalendar(){if(!Ti(this))throw new TypeError("invalid receiver");return gv(Ne(this,kn))}static from(t,n){const i=ro(n);return Ti(t)?(ks(i),Oc(Ne(t,Sr),Ne(t,Dr),Ne(t,Cr),Ne(t,mi),Ne(t,Ei),Ne(t,xi),Ne(t,Si),Ne(t,Mi),Ne(t,Ai),Ne(t,kn))):Jm(t,i)}static compare(t,n){const i=Jm(t),o=Jm(n);for(const a of[Sr,Dr,Cr,mi,Ei,xi,Si,Mi,Ai]){const s=Ne(i,a),l=Ne(o,a);if(s!==l)return ky(s-l)}return 0}}Ld(L_,"Temporal.PlainDateTime");class a0{constructor(t=0,n=0,i=0,o=0,a=0,s=0,l=0,R=0,I=0,y=0){const L=void 0===t?0:$a(t),ye=void 0===n?0:$a(n),Te=void 0===i?0:$a(i),Me=void 0===o?0:$a(o),Ce=void 0===a?0:$a(a),je=void 0===s?0:$a(s),Je=void 0===l?0:$a(l),ze=void 0===R?0:$a(R),He=void 0===I?0:$a(I),rt=void 0===y?0:$a(y);Ev(L,ye,Te,Me,Ce,je,Je,ze,He,rt),Oh(this),Vi(this,Ol,L),Vi(this,dc,ye),Vi(this,rl,Te),Vi(this,wa,Me),Vi(this,Dc,Ce),Vi(this,Bl,je),Vi(this,Cc,Je),Vi(this,cd,ze),Vi(this,ld,He),Vi(this,Nl,rt)}get years(){if(!bs(this))throw new TypeError("invalid receiver");return Ne(this,Ol)}get months(){if(!bs(this))throw new TypeError("invalid receiver");return Ne(this,dc)}get weeks(){if(!bs(this))throw new TypeError("invalid receiver");return Ne(this,rl)}get days(){if(!bs(this))throw new TypeError("invalid receiver");return Ne(this,wa)}get hours(){if(!bs(this))throw new TypeError("invalid receiver");return Ne(this,Dc)}get minutes(){if(!bs(this))throw new TypeError("invalid receiver");return Ne(this,Bl)}get seconds(){if(!bs(this))throw new TypeError("invalid receiver");return Ne(this,Cc)}get milliseconds(){if(!bs(this))throw new TypeError("invalid receiver");return Ne(this,cd)}get microseconds(){if(!bs(this))throw new TypeError("invalid receiver");return Ne(this,ld)}get nanoseconds(){if(!bs(this))throw new TypeError("invalid receiver");return Ne(this,Nl)}get sign(){if(!bs(this))throw new TypeError("invalid receiver");return Gh(Ne(this,Ol),Ne(this,dc),Ne(this,rl),Ne(this,wa),Ne(this,Dc),Ne(this,Bl),Ne(this,Cc),Ne(this,cd),Ne(this,ld),Ne(this,Nl))}get blank(){if(!bs(this))throw new TypeError("invalid receiver");return 0===Gh(Ne(this,Ol),Ne(this,dc),Ne(this,rl),Ne(this,wa),Ne(this,Dc),Ne(this,Bl),Ne(this,Cc),Ne(this,cd),Ne(this,ld),Ne(this,Nl))}with(t){if(!bs(this))throw new TypeError("invalid receiver");const n=zi(t,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:i=Ne(this,Ol),months:o=Ne(this,dc),weeks:a=Ne(this,rl),days:s=Ne(this,wa),hours:l=Ne(this,Dc),minutes:R=Ne(this,Bl),seconds:I=Ne(this,Cc),milliseconds:y=Ne(this,cd),microseconds:L=Ne(this,ld),nanoseconds:ye=Ne(this,Nl)}=n;return new a0(i,o,a,s,l,R,I,y,L,ye)}negated(){if(!bs(this))throw new TypeError("invalid receiver");return uT(this)}abs(){if(!bs(this))throw new TypeError("invalid receiver");return new a0(Math.abs(Ne(this,Ol)),Math.abs(Ne(this,dc)),Math.abs(Ne(this,rl)),Math.abs(Ne(this,wa)),Math.abs(Ne(this,Dc)),Math.abs(Ne(this,Bl)),Math.abs(Ne(this,Cc)),Math.abs(Ne(this,cd)),Math.abs(Ne(this,ld)),Math.abs(Ne(this,Nl)))}add(t,n){if(!bs(this))throw new TypeError("invalid receiver");return ax("add",this,t,n)}subtract(t,n){if(!bs(this))throw new TypeError("invalid receiver");return ax("subtract",this,t,n)}round(t){if(!bs(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");let n=Ne(this,Ol),i=Ne(this,dc),o=Ne(this,rl),a=Ne(this,wa),s=Ne(this,Dc),l=Ne(this,Bl),R=Ne(this,Cc),I=Ne(this,cd),y=Ne(this,ld),L=Ne(this,Nl),ye=zA(n,i,o,a,s,l,R,I,y,L);const Te="string"==typeof t?Mv("smallestUnit",t):ro(t);let Me=Rc(Te,"largestUnit","datetime",void 0,["auto"]),Ce=UE(Te);const je=$h(Te),Je=ff(Te,"halfExpand");let ze=Rc(Te,"smallestUnit","datetime",void 0),He=!0;ze||(He=!1,ze="nanosecond"),ye=_y(ye,ze);let rt=!0;if(Me||(rt=!1,Me=ye),"auto"===Me&&(Me=ye),!He&&!rt)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(_y(Me,ze)!==Me)throw new RangeError(`largestUnit ${Me} cannot be smaller than smallestUnit ${ze}`);const yt={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[ze];return void 0!==yt&&Vh(je,yt,!1),({years:n,months:i,weeks:o,days:a}=D_(n,i,o,a,Me,Ce)),({years:n,months:i,weeks:o,days:a,hours:s,minutes:l,seconds:R,milliseconds:I,microseconds:y,nanoseconds:L}=yf(n,i,o,a,s,l,R,I,y,L,je,ze,Je,Ce)),({years:n,months:i,weeks:o,days:a,hours:s,minutes:l,seconds:R,milliseconds:I,microseconds:y,nanoseconds:L}=ST(n,i,o,a,s,l,R,I,y,L,je,ze,Je,Ce)),({days:a,hours:s,minutes:l,seconds:R,milliseconds:I,microseconds:y,nanoseconds:L}=mf(a,s,l,R,I,y,L,Me,Ce)),({years:n,months:i,weeks:o,days:a}=function(_t,It,Jt,Qt,fn,Pn){const dn=ur("%Temporal.Duration%"),Sn=Gh(_t,It,Jt,Qt,0,0,0,0,0,0);if(0===Sn)return{years:_t,months:It,weeks:Jt,days:Qt};const $t=vt.BigInt(Sn);let Yt,Xt,yn=vt.BigInt(_t),en=vt.BigInt(It),En=vt.BigInt(Jt),Nn=vt.BigInt(Qt);Pn&&(Xt=Co(Pn),Yt=Ne(Xt,kn));const Bn=new dn(Sn),Gt=new dn(0,Sn),Fn=new dn(0,0,Sn);switch(fn){case"year":{if(!Yt)throw new RangeError("a starting point is required for years balancing");const tr="string"!=typeof Yt?vo(Yt,"dateAdd"):void 0;let An,hn,Cn;for(({relativeTo:An,days:hn}=il(Yt,Xt,Bn,tr));vt.greaterThanOrEqual(gu(Nn),vt.BigInt(cs(hn)));)Nn=vt.subtract(Nn,vt.BigInt(hn)),yn=vt.add(yn,$t),Xt=An,({relativeTo:An,days:hn}=il(Yt,Xt,Bn,tr));for(({relativeTo:An,days:Cn}=il(Yt,Xt,Gt,tr));vt.greaterThanOrEqual(gu(Nn),vt.BigInt(cs(Cn)));)Nn=vt.subtract(Nn,vt.BigInt(Cn)),en=vt.add(en,$t),Xt=An,({relativeTo:An,days:Cn}=il(Yt,Xt,Gt,tr));An=Nc(Yt,Xt,Bn,void 0,tr);const Wn="string"!=typeof Yt?vo(Yt,"dateUntil"):void 0,lr=kc(null);lr.largestUnit="month";let fr=hf(Yt,Xt,An,lr,Wn),nr=Ne(fr,dc);for(;vt.greaterThanOrEqual(gu(en),vt.BigInt(cs(nr)));){en=vt.subtract(en,vt.BigInt(nr)),yn=vt.add(yn,$t),Xt=An,An=Nc(Yt,Xt,Bn,void 0,tr);const or=kc(null);or.largestUnit="month",fr=hf(Yt,Xt,An,or,Wn),nr=Ne(fr,dc)}break}case"month":{if(!Yt)throw new RangeError("a starting point is required for months balancing");const tr="string"!=typeof Yt?vo(Yt,"dateAdd"):void 0;let An,hn;for(({relativeTo:An,days:hn}=il(Yt,Xt,Gt,tr));vt.greaterThanOrEqual(gu(Nn),vt.BigInt(cs(hn)));)Nn=vt.subtract(Nn,vt.BigInt(hn)),en=vt.add(en,$t),Xt=An,({relativeTo:An,days:hn}=il(Yt,Xt,Gt,tr));break}case"week":{if(!Yt)throw new RangeError("a starting point is required for weeks balancing");const tr="string"!=typeof Yt?vo(Yt,"dateAdd"):void 0;let An,hn;for(({relativeTo:An,days:hn}=il(Yt,Xt,Fn,tr));vt.greaterThanOrEqual(gu(Nn),vt.BigInt(cs(hn)));)Nn=vt.subtract(Nn,vt.BigInt(hn)),En=vt.add(En,$t),Xt=An,({relativeTo:An,days:hn}=il(Yt,Xt,Fn,tr));break}}return{years:vt.toNumber(yn),months:vt.toNumber(en),weeks:vt.toNumber(En),days:vt.toNumber(Nn)}}(n,i,o,a,Me,Ce)),new a0(n,i,o,a,s,l,R,I,y,L)}total(t){if(!bs(this))throw new TypeError("invalid receiver");let n=Ne(this,Ol),i=Ne(this,dc),o=Ne(this,rl),a=Ne(this,wa),s=Ne(this,Dc),l=Ne(this,Bl),R=Ne(this,Cc),I=Ne(this,cd),y=Ne(this,ld),L=Ne(this,Nl);if(void 0===t)throw new TypeError("options argument is required");const ye="string"==typeof t?Mv("unit",t):ro(t),Te=UE(ye),Me=Rc(ye,"unit","datetime",Xm);let Ce;({years:n,months:i,weeks:o,days:a}=D_(n,i,o,a,Me,Te)),Lr(Te)&&(Ce=P_(Te,n,i,o,0));let je=lT(a,s,l,R,I,y,L,Me,Ce);if("positive overflow"===je)return 1/0;if("negative overflow"===je)return-1/0;({days:a,hours:s,minutes:l,seconds:R,milliseconds:I,microseconds:y,nanoseconds:L}=je);const{total:Je}=yf(n,i,o,a,s,l,R,I,y,L,1,Me,"trunc",Te);return Je}toString(t){if(!bs(this))throw new TypeError("invalid receiver");const n=ro(t),i=h_(n),o=ff(n,"trunc"),a=Rc(n,"smallestUnit","time",void 0);if("hour"===a||"minute"===a)throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:s,unit:l,increment:R}=p_(a,i);return qA(this,s,{unit:l,increment:R,roundingMode:o})}toJSON(){if(!bs(this))throw new TypeError("invalid receiver");return qA(this)}toLocaleString(t,n){if(!bs(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&void 0!==Intl.DurationFormat?new Intl.DurationFormat(t,n).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),qA(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(t){return bs(t)?new a0(Ne(t,Ol),Ne(t,dc),Ne(t,rl),Ne(t,wa),Ne(t,Dc),Ne(t,Bl),Ne(t,Cc),Ne(t,cd),Ne(t,ld),Ne(t,Nl)):pv(t)}static compare(t,n,i){const o=pv(t),a=pv(n),s=UE(ro(i)),l=Ne(o,Ol),R=Ne(o,dc),I=Ne(o,rl);let y=Ne(o,wa);const L=Ne(o,Dc),ye=Ne(o,Bl),Te=Ne(o,Cc),Me=Ne(o,cd),Ce=Ne(o,ld);let je=Ne(o,Nl);const Je=Ne(a,Ol),ze=Ne(a,dc),He=Ne(a,rl);let rt=Ne(a,wa);const yt=Ne(a,Dc),ct=Ne(a,Bl),_t=Ne(a,Cc),It=Ne(a,cd),Jt=Ne(a,ld);let Qt=Ne(a,Nl);const fn=dT(s,l,R,I,y),Pn=dT(s,Je,ze,He,rt);0===l&&0===Je&&0===R&&0===ze&&0===I&&0===He||(({days:y}=D_(l,R,I,y,"day",s)),({days:rt}=D_(Je,ze,He,rt,"day",s)));const dn=_v(y,L,ye,Te,Me,Ce,je,fn),Sn=_v(rt,yt,ct,_t,It,Jt,Qt,Pn);return ky(vt.toNumber(vt.subtract(dn,Sn)))}}Ld(a0,"Temporal.Duration");const JB=Object.create;class FT{constructor(t,n,i="iso8601",o=1972){I5(this,fo(t),fo(n),dd(i),fo(o))}get monthCode(){if(!uc(this))throw new TypeError("invalid receiver");return mv(Ne(this,kn),this)}get day(){if(!uc(this))throw new TypeError("invalid receiver");return __(Ne(this,kn),this)}get calendarId(){if(!uc(this))throw new TypeError("invalid receiver");return Lc(Ne(this,kn))}with(t,n){if(!uc(this))throw new TypeError("invalid receiver");if(!ls(t))throw new TypeError("invalid argument");d_(t);const i=ro(n),o=Ne(this,kn),a=ha(o,["day","month","monthCode","year"]);let s=zi(this,a,[]);return s=Ey(o,s,zi(t,a,"partial")),s=zi(s,a,[]),Sy(o,s,i)}equals(t){if(!uc(this))throw new TypeError("invalid receiver");const n=BB(t);for(const i of[Dr,Cr,Sr])if(Ne(this,i)!==Ne(n,i))return!1;return M_(Ne(this,kn),Ne(n,kn))}toString(t){if(!uc(this))throw new TypeError("invalid receiver");return R5(this,f_(ro(t)))}toJSON(){if(!uc(this))throw new TypeError("invalid receiver");return R5(this)}toLocaleString(t,n){if(!uc(this))throw new TypeError("invalid receiver");return new s0(t,n).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(t){if(!uc(this))throw new TypeError("invalid receiver");if(!ls(t))throw new TypeError("argument should be an object");const n=Ne(this,kn),i=ha(n,["day","monthCode"]),o=zi(this,i,[]),a=ha(n,["year"]);let s=Ey(n,o,zi(t,a,[]));s=zi(s,[...new Set([...i,...a])],[]);const l=JB(null);return l.overflow="reject",Bp(n,s,l)}getISOFields(){if(!uc(this))throw new TypeError("invalid receiver");return{calendar:Ne(this,kn),isoDay:Ne(this,Cr),isoMonth:Ne(this,Dr),isoYear:Ne(this,Sr)}}getCalendar(){if(!uc(this))throw new TypeError("invalid receiver");return gv(Ne(this,kn))}static from(t,n){const i=ro(n);return uc(t)?(ks(i),v_(Ne(t,Dr),Ne(t,Cr),Ne(t,kn),Ne(t,Sr))):BB(t,i)}}Ld(FT,"Temporal.PlainMonthDay");const yx=()=>new(ur("%Temporal.Instant%"))(MT()),t8=(r,t=n0())=>{const n=Uc(t),i=dd(r);return ud(n,yx(),i)},jT=(r=n0())=>ud(Uc(r),yx(),"iso8601"),n8=(r,t=n0())=>{const n=Uc(t),i=dd(r);return Bc(MT(),n,i)},r8={instant:yx,plainDateTime:t8,plainDateTimeISO:jT,plainDate:(r,t=n0())=>bv(t8(r,t)),plainDateISO:(r=n0())=>bv(jT(r)),plainTimeISO:(r=n0())=>YA(jT(r)),timeZoneId:()=>n0(),zonedDateTime:n8,zonedDateTimeISO:(r=n0())=>n8("iso8601",r),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(r8,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const qB=Object.assign;function i8(r,t,n){let i=Ne(r,mi),o=Ne(r,Ei),a=Ne(r,xi),s=Ne(r,Si),l=Ne(r,Mi),R=Ne(r,Ai);if(n){const{unit:I,increment:y,roundingMode:L}=n;({hour:i,minute:o,second:a,millisecond:s,microsecond:l,nanosecond:R}=dx(i,o,a,s,l,R,y,I,L))}return`${ds(i)}:${ds(o)}${XA(a,s,l,R,t)}`}class Ly{constructor(t=0,n=0,i=0,o=0,a=0,s=0){const l=void 0===t?0:fo(t),R=void 0===n?0:fo(n),I=void 0===i?0:fo(i),y=void 0===o?0:fo(o),L=void 0===a?0:fo(a),ye=void 0===s?0:fo(s);C_(l,R,I,y,L,ye),Oh(this),Vi(this,mi,l),Vi(this,Ei,R),Vi(this,xi,I),Vi(this,Si,y),Vi(this,Mi,L),Vi(this,Ai,ye)}get hour(){if(!Vs(this))throw new TypeError("invalid receiver");return Ne(this,mi)}get minute(){if(!Vs(this))throw new TypeError("invalid receiver");return Ne(this,Ei)}get second(){if(!Vs(this))throw new TypeError("invalid receiver");return Ne(this,xi)}get millisecond(){if(!Vs(this))throw new TypeError("invalid receiver");return Ne(this,Si)}get microsecond(){if(!Vs(this))throw new TypeError("invalid receiver");return Ne(this,Mi)}get nanosecond(){if(!Vs(this))throw new TypeError("invalid receiver");return Ne(this,Ai)}with(t,n){if(!Vs(this))throw new TypeError("invalid receiver");if(!ls(t))throw new TypeError("invalid argument");d_(t);const i=ks(ro(n)),o=m_(t,"partial"),a=m_(this);let{hour:s,minute:l,second:R,millisecond:I,microsecond:y,nanosecond:L}=qB(a,o);return({hour:s,minute:l,second:R,millisecond:I,microsecond:y,nanosecond:L}=LE(s,l,R,I,y,L,i)),new Ly(s,l,R,I,y,L)}add(t){if(!Vs(this))throw new TypeError("invalid receiver");return L5("add",this,t)}subtract(t){if(!Vs(this))throw new TypeError("invalid receiver");return L5("subtract",this,t)}until(t,n){if(!Vs(this))throw new TypeError("invalid receiver");return ox("until",this,t,n)}since(t,n){if(!Vs(this))throw new TypeError("invalid receiver");return ox("since",this,t,n)}round(t){if(!Vs(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Mv("smallestUnit",t):ro(t),i=$h(n),o=ff(n,"halfExpand"),a=Rc(n,"smallestUnit","time",Xm);Vh(i,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[a],!1);let s=Ne(this,mi),l=Ne(this,Ei),R=Ne(this,xi),I=Ne(this,Si),y=Ne(this,Mi),L=Ne(this,Ai);return({hour:s,minute:l,second:R,millisecond:I,microsecond:y,nanosecond:L}=dx(s,l,R,I,y,L,i,a,o)),new Ly(s,l,R,I,y,L)}equals(t){if(!Vs(this))throw new TypeError("invalid receiver");const n=qm(t);for(const i of[mi,Ei,xi,Si,Mi,Ai])if(Ne(this,i)!==Ne(n,i))return!1;return!0}toString(t){if(!Vs(this))throw new TypeError("invalid receiver");const n=ro(t),i=h_(n),o=ff(n,"trunc"),a=Rc(n,"smallestUnit","time",void 0);if("hour"===a)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:s,unit:l,increment:R}=p_(a,i);return i8(this,s,{unit:l,increment:R,roundingMode:o})}toJSON(){if(!Vs(this))throw new TypeError("invalid receiver");return i8(this,"auto")}toLocaleString(t,n){if(!Vs(this))throw new TypeError("invalid receiver");return new s0(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(t){if(!Vs(this))throw new TypeError("invalid receiver");const n=Co(t),i=Ne(n,Sr),o=Ne(n,Dr),a=Ne(n,Cr),s=Ne(n,kn);return Oc(i,o,a,Ne(this,mi),Ne(this,Ei),Ne(this,xi),Ne(this,Si),Ne(this,Mi),Ne(this,Ai),s)}toZonedDateTime(t){if(!Vs(this))throw new TypeError("invalid receiver");if(!ls(t))throw new TypeError("invalid argument");const n=t.plainDate;if(void 0===n)throw new TypeError("missing date property");const i=Co(n),o=t.timeZone;if(void 0===o)throw new TypeError("missing timeZone property");const a=Uc(o),s=Ne(i,Sr),l=Ne(i,Dr),R=Ne(i,Cr),I=Ne(i,kn),y=Ne(this,mi),L=Ne(this,Ei),ye=Ne(this,xi),Te=Ne(this,Si),Me=Ne(this,Mi),Ce=Ne(this,Ai);return Bc(Ne(Fc(a,new(ur("%Temporal.PlainDateTime%"))(s,l,R,y,L,ye,Te,Me,Ce,I),"compatible"),Hr),a,I)}getISOFields(){if(!Vs(this))throw new TypeError("invalid receiver");return{isoHour:Ne(this,mi),isoMicrosecond:Ne(this,Mi),isoMillisecond:Ne(this,Si),isoMinute:Ne(this,Ei),isoNanosecond:Ne(this,Ai),isoSecond:Ne(this,xi)}}static from(t,n){const i=ks(ro(n));return Vs(t)?new Ly(Ne(t,mi),Ne(t,Ei),Ne(t,xi),Ne(t,Si),Ne(t,Mi),Ne(t,Ai)):qm(t,i)}static compare(t,n){const i=qm(t),o=qm(n);for(const a of[mi,Ei,xi,Si,Mi,Ai]){const s=Ne(i,a),l=Ne(o,a);if(s!==l)return ky(s-l)}return 0}}Ld(Ly,"Temporal.PlainTime");class U_{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const n=JE(t);Oh(this),Vi(this,Ud,n)}get id(){if(!vu(this))throw new TypeError("invalid receiver");return Ne(this,Ud)}getOffsetNanosecondsFor(t){if(!vu(this))throw new TypeError("invalid receiver");const n=zh(t),i=Ne(this,Ud);return My(i)?Np(i):Hh(i,Ne(n,Hr))}getOffsetStringFor(t){if(!vu(this))throw new TypeError("invalid receiver");return ZE(this,zh(t))}getPlainDateTimeFor(t,n="iso8601"){if(!vu(this))throw new TypeError("invalid receiver");return ud(this,zh(t),dd(n))}getInstantFor(t,n){if(!vu(this))throw new TypeError("invalid receiver");return Fc(this,Jm(t),Pc(ro(n)))}getPossibleInstantsFor(t){if(!vu(this))throw new TypeError("invalid receiver");const n=Jm(t),i=ur("%Temporal.Instant%"),o=Ne(this,Ud);if(My(o)){const s=Lp(Ne(n,Sr),Ne(n,Dr),Ne(n,Cr),Ne(n,mi),Ne(n,Ei),Ne(n,xi),Ne(n,Si),Ne(n,Mi),Ne(n,Ai));if(null===s)throw new RangeError("DateTime outside of supported range");const l=Np(o);return[new i(vt.subtract(s,vt.BigInt(l)))]}return function(l,R,I,y,L,ye,Te,Me,Ce,je){const Je=Lp(R,I,y,L,ye,Te,Me,Ce,je);if(null===Je)throw new RangeError("DateTime outside of supported range");let ze=vt.subtract(Je,jh);vt.lessThan(ze,o_)&&(ze=Je);let He=vt.add(Je,jh);vt.greaterThan(He,Zm)&&(He=Je);const rt=Hh(l,ze),yt=Hh(l,He);return(rt===yt?[rt]:[rt,yt]).map(ct=>{const _t=vt.subtract(Je,vt.BigInt(ct)),It=rT(l,_t);if(R===It.year&&I===It.month&&y===It.day&&L===It.hour&&ye===It.minute&&Te===It.second&&Me===It.millisecond&&Ce===It.microsecond&&je===It.nanosecond)return _t}).filter(ct=>void 0!==ct)}(o,Ne(n,Sr),Ne(n,Dr),Ne(n,Cr),Ne(n,mi),Ne(n,Ei),Ne(n,xi),Ne(n,Si),Ne(n,Mi),Ne(n,Ai)).map(s=>new i(s))}getNextTransition(t){if(!vu(this))throw new TypeError("invalid receiver");const n=zh(t),i=Ne(this,Ud);if(My(i)||"UTC"===i)return null;let o=Ne(n,Hr);const a=ur("%Temporal.Instant%");return o=sT(i,o),null===o?null:new a(o)}getPreviousTransition(t){if(!vu(this))throw new TypeError("invalid receiver");const n=zh(t),i=Ne(this,Ud);if(My(i)||"UTC"===i)return null;let o=Ne(n,Hr);const a=ur("%Temporal.Instant%");return o=qE(i,o),null===o?null:new a(o)}toString(){if(!vu(this))throw new TypeError("invalid receiver");return Ne(this,Ud)}toJSON(){if(!vu(this))throw new TypeError("invalid receiver");return Ne(this,Ud)}static from(t){return k5(Uc(t))}}Ld(U_,"Temporal.TimeZone"),as("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",U_.prototype.getOffsetNanosecondsFor),as("Temporal.TimeZone.prototype.getPossibleInstantsFor",U_.prototype.getPossibleInstantsFor);const QB=Object.create;class KT{constructor(t,n,i="iso8601",o=1){D5(this,fo(t),fo(n),dd(i),fo(o))}get year(){if(!eo(this))throw new TypeError("invalid receiver");return jE(Ne(this,kn),this)}get month(){if(!eo(this))throw new TypeError("invalid receiver");return w_(Ne(this,kn),this)}get monthCode(){if(!eo(this))throw new TypeError("invalid receiver");return mv(Ne(this,kn),this)}get calendarId(){if(!eo(this))throw new TypeError("invalid receiver");return Lc(Ne(this,kn))}get era(){if(!eo(this))throw new TypeError("invalid receiver");return E_(Ne(this,kn),this)}get eraYear(){if(!eo(this))throw new TypeError("invalid receiver");return KE(Ne(this,kn),this)}get daysInMonth(){if(!eo(this))throw new TypeError("invalid receiver");return zE(Ne(this,kn),this)}get daysInYear(){if(!eo(this))throw new TypeError("invalid receiver");return HE(Ne(this,kn),this)}get monthsInYear(){if(!eo(this))throw new TypeError("invalid receiver");return yv(Ne(this,kn),this)}get inLeapYear(){if(!eo(this))throw new TypeError("invalid receiver");return WE(Ne(this,kn),this)}with(t,n){if(!eo(this))throw new TypeError("invalid receiver");if(!ls(t))throw new TypeError("invalid argument");d_(t);const i=ro(n),o=Ne(this,kn),a=ha(o,["month","monthCode","year"]);let s=zi(this,a,[]);return s=Ey(o,s,zi(t,a,"partial")),s=zi(s,a,[]),xy(o,s,i)}add(t,n){if(!eo(this))throw new TypeError("invalid receiver");return U5("add",this,t,n)}subtract(t,n){if(!eo(this))throw new TypeError("invalid receiver");return U5("subtract",this,t,n)}until(t,n){if(!eo(this))throw new TypeError("invalid receiver");return vT("until",this,t,n)}since(t,n){if(!eo(this))throw new TypeError("invalid receiver");return vT("since",this,t,n)}equals(t){if(!eo(this))throw new TypeError("invalid receiver");const n=FE(t);for(const i of[Sr,Dr,Cr])if(Ne(this,i)!==Ne(n,i))return!1;return M_(Ne(this,kn),Ne(n,kn))}toString(t){if(!eo(this))throw new TypeError("invalid receiver");return YE(this,f_(ro(t)))}toJSON(){if(!eo(this))throw new TypeError("invalid receiver");return YE(this)}toLocaleString(t,n){if(!eo(this))throw new TypeError("invalid receiver");return new s0(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(t){if(!eo(this))throw new TypeError("invalid receiver");if(!ls(t))throw new TypeError("argument should be an object");const n=Ne(this,kn),i=ha(n,["monthCode","year"]),o=zi(this,i,[]),a=ha(n,["day"]);let s=Ey(n,o,zi(t,a,[]));s=zi(s,[...new Set([...i,...a])],[]);const l=QB(null);return l.overflow="reject",Bp(n,s,l)}getISOFields(){if(!eo(this))throw new TypeError("invalid receiver");return{calendar:Ne(this,kn),isoDay:Ne(this,Cr),isoMonth:Ne(this,Dr),isoYear:Ne(this,Sr)}}getCalendar(){if(!eo(this))throw new TypeError("invalid receiver");return gv(Ne(this,kn))}static from(t,n){const i=ro(n);return eo(t)?(ks(i),b_(Ne(t,Sr),Ne(t,Dr),Ne(t,kn),Ne(t,Cr))):FE(t,i)}static compare(t,n){const i=FE(t),o=FE(n);return Iy(Ne(i,Sr),Ne(i,Dr),Ne(i,Cr),Ne(o,Sr),Ne(o,Dr),Ne(o,Cr))}}Ld(KT,"Temporal.PlainYearMonth");const eN=s0.prototype.resolvedOptions,tN=Object.create;class $T{constructor(t,n,i="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");NB(this,Sv(t),Uc(n),dd(i))}get calendarId(){if(!Lr(this))throw new TypeError("invalid receiver");return Lc(Ne(this,kn))}get timeZoneId(){if(!Lr(this))throw new TypeError("invalid receiver");return vv(Ne(this,no))}get year(){if(!Lr(this))throw new TypeError("invalid receiver");return jE(Ne(this,kn),Jo(this))}get month(){if(!Lr(this))throw new TypeError("invalid receiver");return w_(Ne(this,kn),Jo(this))}get monthCode(){if(!Lr(this))throw new TypeError("invalid receiver");return mv(Ne(this,kn),Jo(this))}get day(){if(!Lr(this))throw new TypeError("invalid receiver");return __(Ne(this,kn),Jo(this))}get hour(){if(!Lr(this))throw new TypeError("invalid receiver");return Ne(Jo(this),mi)}get minute(){if(!Lr(this))throw new TypeError("invalid receiver");return Ne(Jo(this),Ei)}get second(){if(!Lr(this))throw new TypeError("invalid receiver");return Ne(Jo(this),xi)}get millisecond(){if(!Lr(this))throw new TypeError("invalid receiver");return Ne(Jo(this),Si)}get microsecond(){if(!Lr(this))throw new TypeError("invalid receiver");return Ne(Jo(this),Mi)}get nanosecond(){if(!Lr(this))throw new TypeError("invalid receiver");return Ne(Jo(this),Ai)}get era(){if(!Lr(this))throw new TypeError("invalid receiver");return E_(Ne(this,kn),Jo(this))}get eraYear(){if(!Lr(this))throw new TypeError("invalid receiver");return KE(Ne(this,kn),Jo(this))}get epochSeconds(){if(!Lr(this))throw new TypeError("invalid receiver");const t=Ne(this,Hr);return vt.toNumber(Cy(t,Fh))}get epochMilliseconds(){if(!Lr(this))throw new TypeError("invalid receiver");const t=Ne(this,Hr);return vt.toNumber(Cy(t,yu))}get epochMicroseconds(){if(!Lr(this))throw new TypeError("invalid receiver");return R_(Cy(Ne(this,Hr),go))}get epochNanoseconds(){if(!Lr(this))throw new TypeError("invalid receiver");return R_(Ne(this,Hr))}get dayOfWeek(){if(!Lr(this))throw new TypeError("invalid receiver");return x_(Ne(this,kn),Jo(this))}get dayOfYear(){if(!Lr(this))throw new TypeError("invalid receiver");return WA(Ne(this,kn),Jo(this))}get weekOfYear(){if(!Lr(this))throw new TypeError("invalid receiver");return $E(Ne(this,kn),Jo(this))}get yearOfWeek(){if(!Lr(this))throw new TypeError("invalid receiver");return VE(Ne(this,kn),Jo(this))}get hoursInDay(){if(!Lr(this))throw new TypeError("invalid receiver");const t=Jo(this),n=ur("%Temporal.PlainDateTime%"),i=Ne(t,Sr),o=Ne(t,Dr),a=Ne(t,Cr),s=new n(i,o,a,0,0,0,0,0,0),l=t0(i,o,a,0,0,0,1,"reject"),R=new n(l.year,l.month,l.day,0,0,0,0,0,0),I=Ne(this,no),y=Ne(Fc(I,s,"compatible"),Hr),L=Ne(Fc(I,R,"compatible"),Hr);return zf(vt.subtract(L,y),b5)}get daysInWeek(){if(!Lr(this))throw new TypeError("invalid receiver");return GA(Ne(this,kn),Jo(this))}get daysInMonth(){if(!Lr(this))throw new TypeError("invalid receiver");return zE(Ne(this,kn),Jo(this))}get daysInYear(){if(!Lr(this))throw new TypeError("invalid receiver");return HE(Ne(this,kn),Jo(this))}get monthsInYear(){if(!Lr(this))throw new TypeError("invalid receiver");return yv(Ne(this,kn),Jo(this))}get inLeapYear(){if(!Lr(this))throw new TypeError("invalid receiver");return WE(Ne(this,kn),Jo(this))}get offset(){if(!Lr(this))throw new TypeError("invalid receiver");return ZE(Ne(this,no),Ne(this,Fa))}get offsetNanoseconds(){if(!Lr(this))throw new TypeError("invalid receiver");return pf(Ne(this,no),Ne(this,Fa))}with(t,n){if(!Lr(this))throw new TypeError("invalid receiver");if(!ls(t))throw new TypeError("invalid zoned-date-time-like");d_(t);const i=ro(n),o=Ne(this,kn);let a=ha(o,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);a.push("offset");let s=zi(this,a,["offset"]);s=Ey(o,s,zi(t,a,"partial")),s=zi(s,a,["offset"]);const l=Pc(i),R=u_(i,"prefer");let{year:I,month:y,day:L,hour:ye,minute:Te,second:Me,millisecond:Ce,microsecond:je,nanosecond:Je}=y_(o,s,i);const ze=Np(s.offset),He=Ne(this,no);return Bc(g_(I,y,L,ye,Te,Me,Ce,je,Je,"option",ze,He,l,R,!1),He,o)}withPlainDate(t){if(!Lr(this))throw new TypeError("invalid receiver");const n=Co(t),i=Ne(n,Sr),o=Ne(n,Dr),a=Ne(n,Cr);let s=Ne(n,kn);const l=Jo(this),R=Ne(l,mi),I=Ne(l,Ei),y=Ne(l,xi),L=Ne(l,Si),ye=Ne(l,Mi),Te=Ne(l,Ai);s=C5(Ne(this,kn),s);const Me=Ne(this,no);return Bc(Ne(Fc(Me,new(ur("%Temporal.PlainDateTime%"))(i,o,a,R,I,y,L,ye,Te,s),"compatible"),Hr),Me,s)}withPlainTime(t){if(!Lr(this))throw new TypeError("invalid receiver");const n=ur("%Temporal.PlainTime%"),i=void 0===t?new n:qm(t),o=Jo(this),a=Ne(o,Sr),s=Ne(o,Dr),l=Ne(o,Cr),R=Ne(this,kn),I=Ne(i,mi),y=Ne(i,Ei),L=Ne(i,xi),ye=Ne(i,Si),Te=Ne(i,Mi),Me=Ne(i,Ai),Ce=Ne(this,no);return Bc(Ne(Fc(Ce,new(ur("%Temporal.PlainDateTime%"))(a,s,l,I,y,L,ye,Te,Me,R),"compatible"),Hr),Ce,R)}withTimeZone(t){if(!Lr(this))throw new TypeError("invalid receiver");const n=Uc(t);return Bc(Ne(this,Hr),n,Ne(this,kn))}withCalendar(t){if(!Lr(this))throw new TypeError("invalid receiver");const n=dd(t);return Bc(Ne(this,Hr),Ne(this,no),n)}add(t,n){if(!Lr(this))throw new TypeError("invalid receiver");return lx("add",this,t,n)}subtract(t,n){if(!Lr(this))throw new TypeError("invalid receiver");return lx("subtract",this,t,n)}until(t,n){if(!Lr(this))throw new TypeError("invalid receiver");return sx("until",this,t,n)}since(t,n){if(!Lr(this))throw new TypeError("invalid receiver");return sx("since",this,t,n)}round(t){if(!Lr(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Mv("smallestUnit",t):ro(t),i=$h(n),o=ff(n,"halfExpand"),a=Rc(n,"smallestUnit","time",Xm,["day"]),s={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[a];Vh(i,s,1===s);const l=Jo(this);let R=Ne(l,Sr),I=Ne(l,Dr),y=Ne(l,Cr),L=Ne(l,mi),ye=Ne(l,Ei),Te=Ne(l,xi),Me=Ne(l,Si),Ce=Ne(l,Mi),je=Ne(l,Ai);const Je=ur("%Temporal.PlainDateTime%"),ze=Ne(this,no),He=Ne(this,kn),rt=Fc(ze,new Je(Ne(l,Sr),Ne(l,Dr),Ne(l,Cr),0,0,0,0,0,0),"compatible"),yt=Kd(rt,ze,He,0,0,0,1,0,0,0,0,0,0),ct=vt.subtract(yt,vt.BigInt(Ne(rt,Hr)));if(vt.lessThanOrEqual(ct,Cs))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return({year:R,month:I,day:y,hour:L,minute:ye,second:Te,millisecond:Me,microsecond:Ce,nanosecond:je}=xT(R,I,y,L,ye,Te,Me,Ce,je,i,a,o,vt.toNumber(ct))),Bc(g_(R,I,y,L,ye,Te,Me,Ce,je,"option",pf(ze,Ne(this,Fa)),ze,"compatible","prefer",!1),ze,Ne(this,kn))}equals(t){if(!Lr(this))throw new TypeError("invalid receiver");const n=Qm(t),i=Ne(this,Hr),o=Ne(n,Hr);return!!vt.equal(vt.BigInt(i),vt.BigInt(o))&&!!ZA(Ne(this,no),Ne(n,no))&&M_(Ne(this,kn),Ne(n,kn))}toString(t){if(!Lr(this))throw new TypeError("invalid receiver");const n=ro(t),i=f_(n),o=h_(n),a=o0(n,"offset",["auto","never"],"auto"),s=ff(n,"trunc"),l=Rc(n,"smallestUnit","time",void 0);if("hour"===l)throw new RangeError('smallestUnit must be a time unit other than "hour"');const R=o0(n,"timeZoneName",["auto","never","critical"],"auto"),{precision:I,unit:y,increment:L}=p_(l,o);return XE(this,I,i,R,a,{unit:y,increment:L,roundingMode:s})}toLocaleString(t,n){if(!Lr(this))throw new TypeError("invalid receiver");const i=ro(n),o=tN(null);if(hv(o,i,["timeZone"]),void 0!==i.timeZone)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");void 0===o.year&&void 0===o.month&&void 0===o.day&&void 0===o.weekday&&void 0===o.dateStyle&&void 0===o.hour&&void 0===o.minute&&void 0===o.second&&void 0===o.timeStyle&&void 0===o.dayPeriod&&void 0===o.timeZoneName&&(o.timeZoneName="short");let a=vv(Ne(this,no));if(My(a))throw new RangeError("toLocaleString does not support offset string time zones");a=JE(a),o.timeZone=a;const s=new s0(t,o),l=$r(eN,s,[]).calendar,R=Lc(Ne(this,kn));if("iso8601"!==R&&"iso8601"!==l&&l!==R)throw new RangeError(`cannot format ZonedDateTime with calendar ${R} in locale with calendar ${l}`);return s.format(Ne(this,Fa))}toJSON(){if(!Lr(this))throw new TypeError("invalid receiver");return XE(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!Lr(this))throw new TypeError("invalid receiver");const t=Jo(this),n=ur("%Temporal.PlainDateTime%"),i=Ne(this,kn),o=new n(Ne(t,Sr),Ne(t,Dr),Ne(t,Cr),0,0,0,0,0,0,i),a=Ne(this,no);return Bc(Ne(Fc(a,o,"compatible"),Hr),a,i)}toInstant(){if(!Lr(this))throw new TypeError("invalid receiver");return new(ur("%Temporal.Instant%"))(Ne(this,Hr))}toPlainDate(){if(!Lr(this))throw new TypeError("invalid receiver");return bv(Jo(this))}toPlainTime(){if(!Lr(this))throw new TypeError("invalid receiver");return YA(Jo(this))}toPlainDateTime(){if(!Lr(this))throw new TypeError("invalid receiver");return Jo(this)}toPlainYearMonth(){if(!Lr(this))throw new TypeError("invalid receiver");const t=Ne(this,kn);return xy(t,zi(this,ha(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Lr(this))throw new TypeError("invalid receiver");const t=Ne(this,kn);return Sy(t,zi(this,ha(t,["day","monthCode"]),[]))}getISOFields(){if(!Lr(this))throw new TypeError("invalid receiver");const t=Jo(this),n=Ne(this,no);return{calendar:Ne(this,kn),isoDay:Ne(t,Cr),isoHour:Ne(t,mi),isoMicrosecond:Ne(t,Mi),isoMillisecond:Ne(t,Si),isoMinute:Ne(t,Ei),isoMonth:Ne(t,Dr),isoNanosecond:Ne(t,Ai),isoSecond:Ne(t,xi),isoYear:Ne(t,Sr),offset:ZE(n,Ne(this,Fa)),timeZone:n}}getCalendar(){if(!Lr(this))throw new TypeError("invalid receiver");return gv(Ne(this,kn))}getTimeZone(){if(!Lr(this))throw new TypeError("invalid receiver");return k5(Ne(this,no))}static from(t,n){const i=ro(n);return Lr(t)?(Pc(i),u_(i,"reject"),ks(i),Bc(Ne(t,Hr),Ne(t,no),Ne(t,kn))):Qm(t,i)}static compare(t,n){const i=Qm(t),o=Qm(n),a=Ne(i,Hr),s=Ne(o,Hr);return vt.lessThan(vt.BigInt(a),vt.BigInt(s))?-1:vt.greaterThan(vt.BigInt(a),vt.BigInt(s))?1:0}}function Jo(r){return ud(Ne(r,no),Ne(r,Fa),Ne(r,kn))}Ld($T,"Temporal.ZonedDateTime");var c0=Object.freeze({__proto__:null,Calendar:zs,Duration:a0,Instant:Wf,Now:r8,PlainDate:N_,PlainDateTime:L_,PlainMonthDay:FT,PlainTime:Ly,PlainYearMonth:KT,TimeZone:U_,ZonedDateTime:$T});const nN=[Wf,zs,N_,L_,a0,FT,Ly,U_,KT,$T];for(const r of nN){const t=Object.getOwnPropertyDescriptor(r,"prototype");(t.configurable||t.enumerable||t.writable)&&(t.configurable=!1,t.enumerable=!1,t.writable=!1,Object.defineProperty(r,"prototype",t))}var VT=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class ta{static sleep(t){return VT(this,void 0,void 0,function*(){return new Promise(n=>setTimeout(n,t))})}static minimalSleep(){return VT(this,void 0,void 0,function*(){yield ta.sleep(2)})}static getCurrentTimestamp(){return c0.Now.instant().toString({smallestUnit:"microseconds"})}static createTimestamp(t){const{year:n,month:i,day:o,hour:a,minute:s,second:l,millisecond:R,microsecond:I}=t;return c0.ZonedDateTime.from({timeZone:"UTC",year:n,month:i,day:o,hour:a,minute:s,second:l,millisecond:R,microsecond:I}).toInstant().toString({smallestUnit:"microseconds"})}static createOffsetTimestamp(t,n){const i=n?c0.Instant.from(n):c0.Now.instant(),o=c0.Duration.from(t);return i.add(o).toString({smallestUnit:"microseconds"})}static validateTimestamp(t){try{c0.Instant.from(t)}catch{throw new wt(Pt.TimestampInvalid,`Invalid timestamp: ${t}`)}}}var _a=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class po{get message(){if(void 0===this._message.authorization)throw new wt(Pt.RecordsWriteMissingSigner,"This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get signaturePayload(){return this._signaturePayload}get owner(){return this._owner}get ownerSignaturePayload(){return this._ownerSignaturePayload}get isSignedByAuthorDelegate(){return wr.isSignedByAuthorDelegate(this._message)}get isSignedByOwnerDelegate(){return wr.isSignedByOwnerDelegate(this._message)}get signer(){return wr.getSigner(this._message)}get ownerSignatureSigner(){var t;return void 0===(null===(t=this._message.authorization)||void 0===t?void 0:t.ownerSignature)?void 0:xo.getSignerDid(this._message.authorization.ownerSignature.signatures[0])}constructor(t,n){this.parentContextId=n,this._message=t,void 0!==t.authorization&&(this._author=$i.getAuthor(t),this._signaturePayload=xo.decodePlainObjectPayload(t.authorization.signature),void 0!==t.authorization.ownerSignature&&(this._owner=void 0!==t.authorization.ownerDelegatedGrant?wr.getSigner(t.authorization.ownerDelegatedGrant):xo.getSignerDid(t.authorization.ownerSignature.signatures[0]),this._ownerSignaturePayload=xo.decodePlainObjectPayload(t.authorization.ownerSignature))),this.attesters=po.getAttesters(t)}static parse(t){return _a(this,void 0,void 0,function*(){const n=JSON.parse(JSON.stringify(t));yield wr.validateSignatureStructure(n.authorization.signature,n.descriptor,"RecordsWriteSignaturePayload"),void 0!==n.authorization.ownerSignature&&(yield wr.validateSignatureStructure(n.authorization.ownerSignature,n.descriptor)),yield po.validateAttestationIntegrity(n);const i=new po(n);return yield i.validateIntegrity(),i})}static create(t){var n,i,o,a;return _a(this,void 0,void 0,function*(){if(void 0===t.protocol&&void 0!==t.protocolPath||void 0!==t.protocol&&void 0===t.protocolPath)throw new wt(Pt.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive,"`protocol` and `protocolPath` must both be defined or undefined at the same time");if(void 0===t.data&&void 0===t.dataCid||void 0!==t.data&&void 0!==t.dataCid)throw new wt(Pt.RecordsWriteCreateDataAndDataCidMutuallyExclusive,"one and only one parameter between `data` and `dataCid` is required");if(void 0===t.dataCid&&void 0!==t.dataSize||void 0!==t.dataCid&&void 0===t.dataSize)throw new wt(Pt.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive,"`dataCid` and `dataSize` must both be defined or undefined at the same time");if(void 0===t.signer&&void 0!==t.delegatedGrant)throw new wt(Pt.RecordsWriteCreateMissingSigner,"`signer` must be given when `delegatedGrant` is given");const s=null!==(n=t.dataCid)&&void 0!==n?n:yield Ic.computeDagPbCidFromBytes(t.data),l=null!==(i=t.dataSize)&&void 0!==i?i:t.data.length,R=ta.getCurrentTimestamp(),I={interface:bi.Records,method:Xr.Write,protocol:void 0!==t.protocol?zm(t.protocol):void 0,protocolPath:t.protocolPath,recipient:t.recipient,schema:void 0!==t.schema?n_(t.schema):void 0,tags:t.tags,parentId:po.getRecordIdFromContextId(t.parentContextId),dataCid:s,dataSize:l,dateCreated:null!==(o=t.dateCreated)&&void 0!==o?o:R,messageTimestamp:null!==(a=t.messageTimestamp)&&void 0!==a?a:R,published:t.published,datePublished:t.datePublished,dataFormat:t.dataFormat};!0===t.published&&void 0===t.datePublished&&(I.datePublished=R),pu(I);const y=t.recordId,L=yield Ic.computeCid(I),ye=yield po.createAttestation(L,t.attestationSigners),Te=yield po.createEncryptionProperty(I,t.encryptionInput),Me={recordId:y,descriptor:I};void 0!==ye&&(Me.attestation=ye),void 0!==Te&&(Me.encryption=Te);const Ce=new po(Me,t.parentContextId);return void 0!==t.signer&&(yield Ce.sign({signer:t.signer,delegatedGrant:t.delegatedGrant,permissionGrantId:t.permissionGrantId,protocolRole:t.protocolRole})),Ce})}static getRecordIdFromContextId(t){return t?.split("/").filter(n=>""!==n).pop()}static createFrom(t){var n,i,o,a;return _a(this,void 0,void 0,function*(){const s=t.recordsWriteMessage,l=yield po.parse(s),R=ta.getCurrentTimestamp(),I=null!==(n=t.published)&&void 0!==n?n:!!t.datePublished||s.descriptor.published;let y;t.datePublished?y=t.datePublished:I&&(y=s.descriptor.published?s.descriptor.datePublished:R);const L={recipient:s.descriptor.recipient,recordId:s.recordId,dateCreated:s.descriptor.dateCreated,protocol:s.descriptor.protocol,protocolPath:s.descriptor.protocolPath,schema:s.descriptor.schema,parentContextId:$i.getParentContextFromOfContextId(s.contextId),messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:R,published:I,datePublished:y,tags:t.tags,data:t.data,dataCid:t.data?void 0:s.descriptor.dataCid,dataSize:t.data?void 0:s.descriptor.dataSize,dataFormat:null!==(o=t.dataFormat)&&void 0!==o?o:s.descriptor.dataFormat,protocolRole:null!==(a=t.protocolRole)&&void 0!==a?a:l.signaturePayload.protocolRole,delegatedGrant:t.delegatedGrant,signer:t.signer,attestationSigners:t.attestationSigners};return yield po.create(L)})}toJSON(){return this.message}encryptSymmetricEncryptionKey(t){return _a(this,void 0,void 0,function*(){this._message.encryption=yield po.createEncryptionProperty(this._message.descriptor,t),delete this._message.authorization,this._signaturePayload=void 0,this._author=void 0})}sign(t){var n;return _a(this,void 0,void 0,function*(){const{signer:i,delegatedGrant:o,permissionGrantId:a,protocolRole:s}=t;let l,R;void 0!==o?(l=yield wr.getCid(o),R=xo.getSignerDid(o.authorization.signature.signatures[0])):R=xo.extractDid(i.keyId);const I=this._message.descriptor,y=yield Ic.computeCid(I);this._message.recordId=null!==(n=this._message.recordId)&&void 0!==n?n:yield po.getEntryId(R,I),void 0!==this._message.descriptor.protocol&&(this._message.contextId=void 0===this.parentContextId||""===this.parentContextId?this._message.recordId:this.parentContextId+"/"+this._message.recordId);const L=yield po.createSignerSignature({recordId:this._message.recordId,contextId:this._message.contextId,descriptorCid:y,attestation:this._message.attestation,encryption:this._message.encryption,signer:i,delegatedGrantId:l,permissionGrantId:a,protocolRole:s});this._message.authorization={signature:L},void 0!==o&&(this._message.authorization.authorDelegatedGrant=o),this._signaturePayload=xo.decodePlainObjectPayload(L),this._author=R})}signAsOwner(t){return _a(this,void 0,void 0,function*(){if(void 0===this._author)throw new wt(Pt.RecordsWriteSignAsOwnerUnknownAuthor,"Unable to sign as owner without message signature because owner needs to sign over `recordId` which depends on author DID.");const n=this._message.descriptor,i=yield wr.createSignature(n,t);this._message.authorization.ownerSignature=i,this._ownerSignaturePayload=xo.decodePlainObjectPayload(i),this._owner=xo.extractDid(t.keyId)})}signAsOwnerDelegate(t,n){return _a(this,void 0,void 0,function*(){if(void 0===this._author)throw new wt(Pt.RecordsWriteSignAsOwnerDelegateUnknownAuthor,"Unable to sign as owner delegate without message signature because owner delegate needs to sign over `recordId` which depends on author DID.");const i=yield wr.getCid(n),o=this._message.descriptor,a=yield wr.createSignature(o,t,{delegatedGrantId:i});this._message.authorization.ownerSignature=a,this._message.authorization.ownerDelegatedGrant=n,this._ownerSignaturePayload=xo.decodePlainObjectPayload(a),this._owner=xo.getSignerDid(n.authorization.signature.signatures[0])})}validateIntegrity(){return _a(this,void 0,void 0,function*(){if(yield this.isInitialWrite()){const i=this.message.descriptor.dateCreated,o=this.message.descriptor.messageTimestamp;if(o!==i)throw new wt(Pt.RecordsWriteValidateIntegrityDateCreatedMismatch,`messageTimestamp ${o} must match dateCreated ${i} for the initial write`);if(void 0!==this.message.descriptor.protocol&&void 0===this.message.descriptor.parentId){const a=yield this.getEntryId();if(this.message.contextId!==a)throw new wt(Pt.RecordsWriteValidateIntegrityContextIdMismatch,`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${a}`)}}const n=this.signaturePayload;if(this.message.recordId!==n.recordId)throw new wt(Pt.RecordsWriteValidateIntegrityRecordIdUnauthorized,`recordId in message ${this.message.recordId} does not match recordId in authorization: ${n.recordId}`);if(this.message.contextId!==n.contextId)throw new wt(Pt.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload,`contextId in message ${this.message.contextId} does not match contextId in authorization: ${n.contextId}`);if(yield $i.validateDelegatedGrantReferentialIntegrity(this.message,n,this.ownerSignaturePayload),void 0!==n.attestationCid){const i=yield Ic.computeCid(this.message.attestation),o=n.attestationCid;if(o!==i)throw new wt(Pt.RecordsWriteValidateIntegrityAttestationMismatch,`CID ${i} of attestation property in message does not match attestationCid in authorization: ${o}`)}if(void 0!==n.encryptionCid){const i=yield Ic.computeCid(this.message.encryption),o=n.encryptionCid;if(o!==i)throw new wt(Pt.RecordsWriteValidateIntegrityEncryptionCidMismatch,`CID ${i} of encryption property in message does not match encryptionCid in authorization: ${o}`)}void 0!==this.message.descriptor.protocol&&Vm(this.message.descriptor.protocol),void 0!==this.message.descriptor.schema&&IE(this.message.descriptor.schema),ta.validateTimestamp(this.message.descriptor.messageTimestamp),ta.validateTimestamp(this.message.descriptor.dateCreated),this.message.descriptor.datePublished&&ta.validateTimestamp(this.message.descriptor.datePublished)})}static validateAttestationIntegrity(t){return _a(this,void 0,void 0,function*(){if(void 0===t.attestation)return;if(1!==t.attestation.signatures.length)throw new wt(Pt.RecordsWriteAttestationIntegrityMoreThanOneSignature,`Currently implementation only supports 1 attester, but got ${t.attestation.signatures.length}`);const n=xo.decodePlainObjectPayload(t.attestation),{descriptorCid:i}=n,o=yield Ic.computeCid(t.descriptor);if(i!==o)throw new wt(Pt.RecordsWriteAttestationIntegrityDescriptorCidMismatch,`descriptorCid ${i} does not match expected descriptorCid ${o}`);const a=Object.keys(n).length;if(a>1)throw new wt(Pt.RecordsWriteAttestationIntegrityInvalidPayloadProperty,`Only 'descriptorCid' is allowed in attestation payload, but got ${a} properties.`)})}getEntryId(){return _a(this,void 0,void 0,function*(){return yield po.getEntryId(this.author,this.message.descriptor)})}static getEntryId(t,n){return _a(this,void 0,void 0,function*(){if(void 0===t)throw new wt(Pt.RecordsWriteGetEntryIdUndefinedAuthor,"Property `author` is needed to compute entry ID.");const i=Object.assign({},n);return i.author=t,yield Ic.computeCid(i)})}isInitialWrite(){return _a(this,void 0,void 0,function*(){return(yield this.getEntryId())===this.message.recordId})}constructIndexes(t){return _a(this,void 0,void 0,function*(){const n=this.message,i=n.descriptor,{tags:o}=i,a=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(i,["tags"]);delete a.published;let s=Object.assign(Object.assign({},a),{isLatestBaseState:t,published:!!n.descriptor.published,author:this.author,recordId:n.recordId,entryId:yield po.getEntryId(this.author,this.message.descriptor)});if(void 0!==o&&!0===t){const l=$i.buildTagIndexes(Object.assign({},o));s=Object.assign(Object.assign({},s),l)}return this.attesters.length>0&&(s.attester=this.attesters[0]),void 0!==n.contextId&&(s.contextId=n.contextId),s})}authorizeAuthorDelegate(t){return _a(this,void 0,void 0,function*(){const n=yield lf.parse(this.message.authorization.authorDelegatedGrant);yield mu.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}authorizeOwnerDelegate(t){return _a(this,void 0,void 0,function*(){const n=yield lf.parse(this.message.authorization.ownerDelegatedGrant);yield mu.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.owner,expectedGrantee:this.ownerSignatureSigner,permissionGrant:n,messageStore:t})})}static isInitialWrite(t){return _a(this,void 0,void 0,function*(){if(t.descriptor.interface!==bi.Records||t.descriptor.method!==Xr.Write)return!1;const n=t,i=$i.getAuthor(n);return(yield po.getEntryId(i,n.descriptor))===n.recordId})}static createEncryptionProperty(t,n){var i,o;return _a(this,void 0,void 0,function*(){if(void 0===n)return;const a=[];for(const l of n.keyEncryptionInputs){if(l.derivationScheme===cf.ProtocolPath&&void 0===t.protocol)throw new wt(Pt.RecordsWriteMissingProtocol,"`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(l.derivationScheme===cf.Schemas&&void 0===t.schema)throw new wt(Pt.RecordsWriteMissingSchema,"`schemas` encryption scheme cannot be applied to record without the `schema` property.");const R=qr.publicJwkToBytes(l.publicKey),I=yield cv.eciesSecp256k1Encrypt(R,n.key),y=_.bytesToBase64Url(I.ciphertext),L=yield qr.publicKeyToJwk(I.ephemeralPublicKey),ye=_.bytesToBase64Url(I.initializationVector),Te=_.bytesToBase64Url(I.messageAuthenticationCode),Me={rootKeyId:l.publicKeyId,algorithm:null!==(i=l.algorithm)&&void 0!==i?i:wA.EciesSecp256k1,derivationScheme:l.derivationScheme,ephemeralPublicKey:L,initializationVector:ye,messageAuthenticationCode:Te,encryptedKey:y};l.derivationScheme===cf.ProtocolContext&&(Me.derivedPublicKey=l.publicKey),a.push(Me)}return{algorithm:null!==(o=n.algorithm)&&void 0!==o?o:wA.Aes256Ctr,initializationVector:_.bytesToBase64Url(n.initializationVector),keyEncryption:a}})}static createAttestation(t,n){return _a(this,void 0,void 0,function*(){if(void 0===n||0===n.length)return;const o=_.objectToBytes({descriptorCid:t});return(yield e_.create(o,n)).getJws()})}static createSignerSignature(t){return _a(this,void 0,void 0,function*(){const{recordId:n,contextId:i,descriptorCid:o,attestation:a,encryption:s,signer:l,delegatedGrantId:R,permissionGrantId:I,protocolRole:y}=t,Te={recordId:n,descriptorCid:o,contextId:i,attestationCid:a?yield Ic.computeCid(a):void 0,encryptionCid:s?yield Ic.computeCid(s):void 0,delegatedGrantId:R,permissionGrantId:I,protocolRole:y};pu(Te);const Me=_.objectToBytes(Te);return(yield e_.create(Me,[l])).getJws()})}static getInitialWrite(t){return _a(this,void 0,void 0,function*(){for(const n of t)if(yield po.isInitialWrite(n))return n;throw new wt(Pt.RecordsWriteGetInitialWriteNotFound,"Initial write is not found.")})}static verifyEqualityOfImmutableProperties(t,n){const i=["dataCid","dataSize","dataFormat","datePublished","published","messageTimestamp","tags"];let o=[];o.push(...Object.keys(t.descriptor)),o.push(...Object.keys(n.descriptor)),o=[...new Set(o)];for(const a of o)if(-1===i.indexOf(a)){const s=t.descriptor[a],l=n.descriptor[a];if(l!==s)throw new wt(Pt.RecordsWriteImmutablePropertyChanged,`${a} is an immutable property: cannot change '${s}' to '${l}'`)}return!0}static getAttesters(t){var n,i;return(null!==(i=null===(n=t.attestation)||void 0===n?void 0:n.signatures)&&void 0!==i?i:[]).map(s=>xo.getSignerDid(s))}static fetchNewestRecordsWrite(t,n,i){return _a(this,void 0,void 0,function*(){const o={interface:bi.Records,method:Xr.Write,recordId:i},{messages:a}=yield t.query(n,[o]),s=yield wr.getNewestMessage(a);if(void 0!==s)return s;throw new wt(Pt.RecordsWriteGetNewestWriteRecordNotFound,"record not found")})}static fetchInitialRecordsWrite(t,n,i){return _a(this,void 0,void 0,function*(){const o={entryId:i},{messages:a}=yield t.query(n,[o]);return 0===a.length?void 0:yield po.parse(a[0])})}}var zT=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};function Gf(r,t){return zT(this,void 0,void 0,function*(){if(void 0===r)throw new wt(Pt.AuthenticateJwsMissing,"Missing JWS.");if(yield rf.verifySignatures(r.signature,t),void 0!==r.ownerSignature&&(yield rf.verifySignatures(r.ownerSignature,t)),void 0!==r.authorDelegatedGrant){const n=yield po.parse(r.authorDelegatedGrant);yield rf.verifySignatures(n.message.authorization.signature,t)}if(void 0!==r.ownerDelegatedGrant){const n=yield po.parse(r.ownerDelegatedGrant);yield rf.verifySignatures(n.message.authorization.signature,t)}})}class iN{isActiveTenant(t){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return{isActiveTenant:!0}})}}class Zf{get message(){return this._message}get signer(){return this._signer}get author(){return this._author}get signaturePayload(){return this._signaturePayload}constructor(t){this._message=t,void 0!==t.authorization&&(this._signer=wr.getSigner(t),this._author=void 0!==t.authorization.authorDelegatedGrant?wr.getSigner(t.authorization.authorDelegatedGrant):this._signer,this._signaturePayload=xo.decodePlainObjectPayload(t.authorization.signature))}toJSON(){return this.message}}var F_=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class Ov extends Zf{static parse(t){return F_(this,void 0,void 0,function*(){if(!1===t.descriptor.filter.published&&(t.descriptor.dateSort===Ru.PublishedAscending||t.descriptor.dateSort===Ru.PublishedDescending))throw new wt(Pt.RecordsQueryParseFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.descriptor.dateSort}`);let n;if(void 0!==t.authorization&&(n=yield wr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield $i.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new wt(Pt.RecordsQueryFilterMissingRequiredProperties,"Role-authorized queries must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&Vm(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&IE(t.descriptor.filter.schema),ta.validateTimestamp(t.descriptor.messageTimestamp),new Ov(t)})}static create(t){var n;return F_(this,void 0,void 0,function*(){const i={interface:bi.Records,method:Xr.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ta.getCurrentTimestamp(),filter:$i.normalizeFilter(t.filter),dateSort:t.dateSort,pagination:t.pagination};if(!1===t.filter.published&&(t.dateSort===Ru.PublishedAscending||t.dateSort===Ru.PublishedDescending))throw new wt(Pt.RecordsQueryCreateFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.dateSort}`);pu(i);const o=t.signer;let a;o&&(a=yield wr.createAuthorization({descriptor:i,signer:o,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const s={descriptor:i,authorization:a};return wr.validateJsonSchema(s),new Ov(s)})}authorizeDelegate(t){return F_(this,void 0,void 0,function*(){const n=yield lf.parse(this.message.authorization.authorDelegatedGrant);yield mu.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantee:this.signer,expectedGrantor:this.author,permissionGrant:n,messageStore:t})})}}var HT=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class Yh{static toBytes(t){return HT(this,void 0,void 0,function*(){return new Promise((n,i)=>{const o=[];t.on("data",a=>{o.push(a)}),t.on("end",()=>{const a=Yh.concatenateArrayOfBytes(o);n(a)}),t.on("error",i)})})}static toObject(t){return HT(this,void 0,void 0,function*(){const n=yield Yh.toBytes(t);return _.bytesToObject(n)})}static concatenateArrayOfBytes(t){const n=t.reduce((a,s)=>a+s.length,0),i=new Uint8Array(n);let o=0;for(const a of t)i.set(a,o),o+=a.length;return i}static fromBytes(t){let i=0;return new Qw.Readable({read(a){i+1e5>t.length?(this.push(t.subarray(i)),this.push(null)):(this.push(t.subarray(i,i+1e5)),i+=1e5)}})}static fromObject(t){const n=_.objectToBytes(t);return Yh.fromBytes(n)}static duplicateDataStream(t,n){const i=[];for(let o=0;o<n;o++){const a=new Qw.PassThrough;t.pipe(a),i.push(a)}return i}}function Wo(r,t){return{status:{code:t,detail:r instanceof Error?r.message:"Error"}}}class gx{static parse(t){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return new gx(t)})}constructor(t){this.id=t.recordId,this.requester=wr.getSigner(t);const i=_.base64UrlToObject(t.encodedData);this.delegated=i.delegated,this.description=i.description,this.scope=i.scope,this.conditions=i.conditions}}var j_=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class Ji{static parseRequest(t){return _.base64UrlToObject(t)}static createRequest(t){return j_(this,void 0,void 0,function*(){if(this.isRecordPermissionScope(t.scope)&&void 0===t.scope.protocol)throw new wt(Pt.PermissionsProtocolCreateRequestRecordsScopeMissingProtocol,"Permission request for Records must have a scope with a `protocol` property");const n=Ji.normalizePermissionScope(t.scope),i={description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions};let o;this.hasProtocolScope(n)&&(o={protocol:n.protocol});const a=_.objectToBytes(i),s=yield po.create({signer:t.signer,messageTimestamp:t.dateRequested,protocol:Ji.uri,protocolPath:Ji.requestPath,dataFormat:"application/json",data:a,tags:o});return{recordsWrite:s,permissionRequestData:i,permissionRequestBytes:a,dataEncodedMessage:Object.assign(Object.assign({},s.message),{encodedData:_.bytesToBase64Url(a)})}})}static createGrant(t){return j_(this,void 0,void 0,function*(){if(this.isRecordPermissionScope(t.scope)&&void 0===t.scope.protocol)throw new wt(Pt.PermissionsProtocolCreateGrantRecordsScopeMissingProtocol,"Permission grants for Records must have a scope with a `protocol` property");const n=Ji.normalizePermissionScope(t.scope),i={dateExpires:t.dateExpires,requestId:t.requestId,description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions};let o;this.hasProtocolScope(n)&&(o={protocol:n.protocol});const a=_.objectToBytes(i),s=yield po.create({signer:t.signer,messageTimestamp:t.dateGranted,dateCreated:t.dateGranted,recipient:t.grantedTo,protocol:Ji.uri,protocolPath:Ji.grantPath,dataFormat:"application/json",data:a,tags:o});return{recordsWrite:s,permissionGrantData:i,permissionGrantBytes:a,dataEncodedMessage:Object.assign(Object.assign({},s.message),{encodedData:_.bytesToBase64Url(a)})}})}static createRevocation(t){return j_(this,void 0,void 0,function*(){const n={description:t.description},i=t.grant.id;let o;this.hasProtocolScope(t.grant.scope)&&(o={protocol:zm(t.grant.scope.protocol)});const a=_.objectToBytes(n),s=yield po.create({signer:t.signer,parentContextId:i,protocol:Ji.uri,protocolPath:Ji.revocationPath,dataFormat:"application/json",data:a,tags:o});return{recordsWrite:s,permissionRevocationData:n,permissionRevocationBytes:a,dataEncodedMessage:Object.assign(Object.assign({},s.message),{encodedData:_.bytesToBase64Url(a)})}})}static validateSchema(t,n){const i=_.bytesToString(n),o=JSON.parse(i);if(t.descriptor.protocolPath===Ji.requestPath){const a=o;Hb("PermissionRequestData",a),Ji.validateScopeAndTags(a.scope,t)}else if(t.descriptor.protocolPath===Ji.grantPath){Hb("PermissionGrantData",o);const a=o;Ji.validateScopeAndTags(a.scope,t),ta.validateTimestamp(a.dateExpires)}else{if(t.descriptor.protocolPath!==Ji.revocationPath)throw new wt(Pt.PermissionsProtocolValidateSchemaUnexpectedRecord,`Unexpected permission record: ${t.descriptor.protocolPath}`);Hb("PermissionRevocationData",o)}}static fetchGrant(t,n,i){return j_(this,void 0,void 0,function*(){const o={recordId:i,isLatestBaseState:!0},{messages:a}=yield n.query(t,[o]),s=a[0],l=s?.descriptor.interface,R=s?.descriptor.method;if(l!==bi.Records||R!==Xr.Write||s.descriptor.protocolPath!==Ji.grantPath)throw new wt(Pt.GrantAuthorizationGrantMissing,`Could not find permission grant with record ID ${i}.`);const I=s;return yield lf.parse(I)})}static getScopeFromPermissionRecord(t,n,i){return j_(this,void 0,void 0,function*(){if(i.descriptor.protocol!==Ji.uri)throw new wt(Pt.PermissionsProtocolGetScopeInvalidProtocol,`Unexpected protocol for permission record: ${i.descriptor.protocol}`);return i.descriptor.protocolPath===Ji.revocationPath?(yield Ji.fetchGrant(t,n,i.descriptor.parentId)).scope:i.descriptor.protocolPath===Ji.grantPath?(yield lf.parse(i)).scope:(yield gx.parse(i)).scope})}static normalizePermissionScope(t){const n=Object.assign({},t);return Ji.hasProtocolScope(n)&&(n.protocol=zm(n.protocol)),n}static isRecordPermissionScope(t){return"Records"===t.interface}static hasProtocolScope(t){return"protocol"in t&&void 0!==t.protocol}static validateTags(t,n){if(void 0===t.descriptor.tags||void 0===t.descriptor.tags.protocol)throw new wt(Pt.PermissionsProtocolValidateScopeMissingProtocolTag,"Permission grants must have a `tags` property that contains a protocol tag");const i=t.descriptor.tags.protocol;if(i!==n)throw new wt(Pt.PermissionsProtocolValidateScopeProtocolMismatch,`Permission grants must have a scope with a protocol that matches the tagged protocol: ${i}`)}static validateScopeAndTags(t,n){if(this.hasProtocolScope(t)&&(Vm(t.protocol),this.validateTags(n,t.protocol)),this.isRecordPermissionScope(t)&&void 0!==t.contextId&&void 0!==t.protocolPath)throw new wt(Pt.PermissionsProtocolValidateScopeContextIdProhibitedProperties,"Permission grants cannot have both `contextId` and `protocolPath` present")}}Ji.uri="https://tbd.website/dwn/permissions",Ji.requestPath="request",Ji.grantPath="grant",Ji.revocationPath="grant/revocation",Ji.definition={published:!0,protocol:Ji.uri,types:{request:{dataFormats:["application/json"]},grant:{dataFormats:["application/json"]},revocation:{dataFormats:["application/json"]}},structure:{request:{$size:{max:1e4},$actions:[{who:"anyone",can:["create"]}]},grant:{$size:{max:1e4},$actions:[{who:"recipient",of:"grant",can:["read","query"]}],revocation:{$size:{max:1e4},$actions:[{who:"anyone",can:["read"]}]}}}};class WT{static normalizeFilters(t){const n=[];for(const i of t){const o=void 0!==i.protocol?zm(i.protocol):void 0,a=Object.assign(Object.assign({},i),{protocol:o});pu(a),TE(a)||n.push(a)}return n}static convertFilters(t){const n=[];for(const i of t){const o=this.constructPermissionRecordsFilter(i);o&&n.push(o),n.push(this.convertFilter(i))}return n}static constructPermissionRecordsFilter(t){const{protocol:n,messageTimestamp:i}=t;if(void 0!==n){const o=Object.assign({protocol:Ji.uri},$i.convertTagsFilter({protocol:n}));if(null!=i){const a=ad.convertRangeCriterion(i);a&&(o.messageTimestamp=a)}return o}}static convertFilter(t){const n=Object.assign({},t),{messageTimestamp:i}=t,o=i?ad.convertRangeCriterion(i):void 0;return o&&(n.messageTimestamp=o,delete n.dateUpdated),n}}var vx=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class Bv{static authorizeMessagesRead(t){return vx(this,void 0,void 0,function*(){const{messagesReadMessage:n,messageToRead:i,expectedGrantor:o,expectedGrantee:a,permissionGrant:s,messageStore:l}=t;yield df.performBaseValidation({incomingMessage:n,expectedGrantor:o,expectedGrantee:a,permissionGrant:s,messageStore:l});const R=s.scope;yield Bv.verifyScope(o,i,R,l)})}static authorizeQueryOrSubscribe(t){return vx(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:a,messageStore:s}=t;if(yield df.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:a,messageStore:s}),Ji.hasProtocolScope(a.scope)){const l=a.scope.protocol;for(const R of n.descriptor.filters)if(R.protocol!==l)throw new wt(Pt.MessagesGrantAuthorizationMismatchedProtocol,`The protocol ${R.protocol} does not match the scoped protocol ${l}`)}})}static verifyScope(t,n,i,o){return vx(this,void 0,void 0,function*(){if(void 0!==i.protocol){if(n.descriptor.interface===bi.Records){const a=n,s=$i.isRecordsWrite(a)?a:yield po.fetchNewestRecordsWrite(o,t,a.descriptor.recordId);if(s.descriptor.protocol===i.protocol)return;if(s.descriptor.protocol===Ji.uri){const l=yield Ji.getScopeFromPermissionRecord(t,o,s);if(Ji.hasProtocolScope(l)&&l.protocol===i.protocol)return}}else if(n.descriptor.interface===bi.Protocols&&n.descriptor.definition.protocol===i.protocol)return;throw new wt(Pt.MessagesReadVerifyScopeFailed,"record message failed scope authorization")}})}}var vf=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class l0 extends Zf{static parse(t){return vf(this,void 0,void 0,function*(){wr.validateJsonSchema(t),yield wr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&Vm(n.protocol);return new l0(t)})}static create(t){var n;return vf(this,void 0,void 0,function*(){const i={interface:bi.Messages,method:Xr.Query,filters:t.filters?WT.normalizeFilters(t.filters):[],messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ta.getCurrentTimestamp(),cursor:t.cursor};pu(i);const{permissionGrantId:o,signer:a}=t,l={descriptor:i,authorization:yield wr.createAuthorization({descriptor:i,signer:a,permissionGrantId:o})};return wr.validateJsonSchema(l),new l0(l)})}}var K_=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class bx{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventLog=i}handle({tenant:t,message:n}){return K_(this,void 0,void 0,function*(){let i;try{i=yield l0.parse(n)}catch(l){return Wo(l,400)}try{yield Gf(n.authorization,this.didResolver),yield bx.authorizeMessagesQuery(t,i,this.messageStore)}catch(l){return Wo(l,401)}const o=WT.convertFilters(n.descriptor.filters),{events:a,cursor:s}=yield this.eventLog.queryEvents(t,o,n.descriptor.cursor);return{status:{code:200,detail:"OK"},entries:a,cursor:s}})}static authorizeMessagesQuery(t,n,i){return K_(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new wt(Pt.MessagesQueryAuthorizationFailed,"message failed authorization");{const o=yield Ji.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield Bv.authorizeQueryOrSubscribe({incomingMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:o,messageStore:i})}}})}}var s8=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class Nv extends Zf{static parse(t){return s8(this,void 0,void 0,function*(){return wr.validateJsonSchema(t),this.validateMessageCid(t.descriptor.messageCid),yield wr.validateSignatureStructure(t.authorization.signature,t.descriptor),ta.validateTimestamp(t.descriptor.messageTimestamp),new Nv(t)})}static create(t){var n;return s8(this,void 0,void 0,function*(){const i={interface:bi.Messages,method:Xr.Read,messageCid:t.messageCid,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ta.getCurrentTimestamp()},{signer:o,permissionGrantId:a}=t,l={descriptor:i,authorization:yield wr.createAuthorization({descriptor:i,signer:o,permissionGrantId:a})};return wr.validateJsonSchema(l),Nv.validateMessageCid(t.messageCid),new Nv(l)})}static validateMessageCid(t){try{Ic.parseCid(t)}catch{throw new wt(Pt.MessagesReadInvalidCid,`${t} is not a valid CID`)}}}var a8=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class GT{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return a8(this,void 0,void 0,function*(){let i;try{i=yield Nv.parse(n)}catch(s){return Wo(s,400)}try{yield Gf(n.authorization,this.didResolver)}catch(s){return Wo(s,401)}const o=yield this.messageStore.get(t,n.descriptor.messageCid);if(void 0===o)return{status:{code:404,detail:"Not Found"}};try{yield GT.authorizeMessagesRead(t,i,o,this.messageStore)}catch(s){return Wo(s,401)}const a={message:o,messageCid:n.descriptor.messageCid};if($i.isRecordsWrite(o)){const s=a.message;if(void 0!==s.encodedData){const l=_.base64UrlToBytes(s.encodedData);a.data=Yh.fromBytes(l),delete s.encodedData}else{const l=yield this.dataStore.get(t,s.recordId,s.descriptor.dataCid);void 0!==l?.dataStream&&(a.data=l.dataStream)}}return{status:{code:200,detail:"OK"},entry:a}})}static authorizeMessagesRead(t,n,i,o){return a8(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new wt(Pt.MessagesReadAuthorizationFailed,"protocol message failed authorization");{const a=yield Ji.fetchGrant(t,o,n.signaturePayload.permissionGrantId);yield Bv.authorizeMessagesRead({messagesReadMessage:n.message,messageToRead:i,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:a,messageStore:o})}}})}}var oN=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class $_ extends Zf{static parse(t){return oN(this,void 0,void 0,function*(){wr.validateJsonSchema(t),yield wr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&Vm(n.protocol);return ta.validateTimestamp(t.descriptor.messageTimestamp),new $_(t)})}static create(t){var n,i;return oN(this,void 0,void 0,function*(){const o=ta.getCurrentTimestamp(),a={interface:bi.Messages,method:Xr.Subscribe,filters:null!==(n=t.filters)&&void 0!==n?n:[],messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:o};pu(a);const{permissionGrantId:s,signer:l}=t,I={descriptor:a,authorization:yield wr.createAuthorization({descriptor:a,signer:l,permissionGrantId:s})};return wr.validateJsonSchema(I),new $_(I)})}}var ZT=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class YT{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventStream=i}handle({tenant:t,message:n,subscriptionHandler:i}){return ZT(this,void 0,void 0,function*(){if(void 0===this.eventStream)return Wo(new wt(Pt.MessagesSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let o;try{o=yield $_.parse(n)}catch(y){return Wo(y,400)}try{yield Gf(n.authorization,this.didResolver),yield YT.authorizeMessagesSubscribe(t,o,this.messageStore)}catch(y){return Wo(y,401)}const{filters:a}=n.descriptor,s=WT.convertFilters(a),l=yield wr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,l,(y,L,ye)=>{t===y&&ad.matchAnyFilter(ye,s)&&i(L)})}})}static authorizeMessagesSubscribe(t,n,i){return ZT(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new wt(Pt.MessagesSubscribeAuthorizationFailed,"message failed authorization");{const o=yield Ji.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield Bv.authorizeQueryOrSubscribe({incomingMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:o,messageStore:i})}}})}}var c8=E(20844),d0=function(r){return r.Anyone="anyone",r.Author="author",r.Recipient="recipient",r}(d0||{}),jc=function(r){return r.CoDelete="co-delete",r.CoPrune="co-prune",r.CoUpdate="co-update",r.Create="create",r.Delete="delete",r.Prune="prune",r.Query="query",r.Read="read",r.Subscribe="subscribe",r.Update="update",r}(jc||{}),l8=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class Uu extends Zf{static parse(t){return l8(this,void 0,void 0,function*(){return wr.validateJsonSchema(t),Uu.validateProtocolDefinition(t.descriptor.definition),yield wr.validateSignatureStructure(t.authorization.signature,t.descriptor),ta.validateTimestamp(t.descriptor.messageTimestamp),new Uu(t)})}static create(t){var n;return l8(this,void 0,void 0,function*(){const i={interface:bi.Protocols,method:Xr.Configure,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ta.getCurrentTimestamp(),definition:Uu.normalizeDefinition(t.definition)},a={descriptor:i,authorization:yield wr.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId})};return wr.validateJsonSchema(a),Uu.validateProtocolDefinition(a.descriptor.definition),new Uu(a)})}static validateProtocolDefinition(t){const{protocol:n,types:i}=t;Vm(n);for(const o in i){const a=i[o].schema;void 0!==a&&IE(a)}Uu.validateStructure(t)}static validateStructure(t){const n=Object.keys(t.types),i=Uu.fetchAllRolePathsRecursively("",t.structure,[]);Uu.validateRuleSetRecursively({ruleSet:t.structure,ruleSetProtocolPath:"",recordTypes:n,roles:i})}static fetchAllRolePathsRecursively(t,n,i){if(t.split("/").length>10)throw new wt(Pt.ProtocolsConfigureRecordNestingDepthExceeded,"Record nesting depth exceeded 10 levels.");for(const o in n){if(o.startsWith("$"))continue;const a=n[o];let s;s=""===t?o:`${t}/${o}`,a.$role?i.push(s):Uu.fetchAllRolePathsRecursively(s,a,i)}return i}static validateRuleSetRecursively(t){var n;const{ruleSet:i,ruleSetProtocolPath:o,recordTypes:a,roles:s}=t;if(void 0!==i.$size){const{min:R=0,max:I}=i.$size;if(void 0!==I&&I<R)throw new wt(Pt.ProtocolsConfigureInvalidSize,`Invalid size range found: max limit ${I} less than min limit ${R} at protocol path '${o}'`)}if(i.$tags){const R=new c8.default,ye=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(i.$tags,["$allowUndefinedTags","$requiredTags"]);for(const Te in ye)if(!R.validateSchema(ye[Te])){const Ce=R.errorsText(R.errors,{dataVar:`${o}/$tags/${Te}`});throw new wt(Pt.ProtocolsConfigureInvalidTagSchema,`tags schema validation error: ${Ce}`)}}const l=null!==(n=i.$actions)&&void 0!==n?n:[];for(let R=0;R<l.length;R++){const I=l[R];if(void 0!==I.role&&!s.includes(I.role))throw new wt(Pt.ProtocolsConfigureRoleDoesNotExistAtGivenPath,`Role in action ${JSON.stringify(I)} for rule set ${o} does not exist.`);if("anyone"===I.who&&I.of)throw new wt(Pt.ProtocolsConfigureInvalidActionOfNotAllowed,`'of' is not allowed at rule set protocol path (${o})`);if(I.who===d0.Recipient&&void 0===I.of&&I.can.some(L=>![jc.CoUpdate,jc.CoDelete,jc.CoPrune].includes(L)))throw new wt(Pt.ProtocolsConfigureInvalidRecipientOfAction,"Rules for `recipient` without `of` property must have `can` containing only `co-update`, `co-delete`, and `co-prune`.");if(I.who===d0.Author&&!I.of)throw new wt(Pt.ProtocolsConfigureInvalidActionMissingOf,"'of' is required when 'author' is specified as 'who'");if(void 0!==I.can){if(I.can.includes(jc.Update)&&!I.can.includes(jc.Create))throw new wt(Pt.ProtocolsConfigureInvalidActionUpdateWithoutCreate,`Action rule ${JSON.stringify(I)} contains 'update' action but missing the required 'create' action.`);if(I.can.includes(jc.Delete)&&!I.can.includes(jc.Create))throw new wt(Pt.ProtocolsConfigureInvalidActionDeleteWithoutCreate,`Action rule ${JSON.stringify(I)} contains 'delete' action but missing the required 'create' action.`)}for(let y=R+1;y<l.length;y++){const L=l[y];if(void 0!==I.who){if(I.who===L.who&&I.of===L.of)throw new wt(Pt.ProtocolsConfigureDuplicateActorInRuleSet,`More than one action rule per actor ${I.who} of ${I.of} not allowed within a rule set: ${JSON.stringify(I)}`)}else if(I.role===L.role)throw new wt(Pt.ProtocolsConfigureDuplicateRoleInRuleSet,`More than one action rule per role ${I.role} not allowed within a rule set: ${JSON.stringify(I)}`)}}for(const R in i){if(R.startsWith("$"))continue;if(!a.includes(R))throw new wt(Pt.ProtocolsConfigureInvalidRuleSetRecordType,`Rule set ${R} is not declared as an allowed type in the protocol definition.`);let y;y=""===o?R:`${o}/${R}`,Uu.validateRuleSetRecursively({ruleSet:i[R],ruleSetProtocolPath:y,recordTypes:a,roles:s})}}static normalizeDefinition(t){const n=Object.assign({},t.types);for(const i in n){const o=n[i].schema;void 0!==o&&(n[i].schema=n_(o))}return Object.assign(Object.assign({},t),{protocol:zm(t.protocol),types:n})}}class wx{constructor(t,n,i,o){this.didResolver=t,this.messageStore=n,this.eventLog=i,this.eventStream=o}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield Uu.parse(n)}catch(y){return Wo(y,400)}try{yield Gf(n.authorization,this.didResolver),yield function rN(r,t){return zT(this,void 0,void 0,function*(){if(t.author!==r)throw new wt(Pt.AuthorizationAuthorNotOwner,`Message authored by ${t.author}, not authored by expected owner ${r}.`)})}(t,i)}catch(y){return Wo(y,401)}const o={interface:bi.Protocols,method:Xr.Configure,protocol:n.descriptor.definition.protocol},{messages:a}=yield this.messageStore.query(t,[o]);let R,s=yield wr.getNewestMessage(a),l=!1;if((void 0===s||(yield wr.isNewer(n,s)))&&(l=!0,s=n),l){const y=wx.constructIndexes(i);yield this.messageStore.put(t,n,y);const L=yield wr.getCid(n);yield this.eventLog.append(t,L,y),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n},y),R={status:{code:202,detail:"Accepted"}}}else R={status:{code:409,detail:"Conflict"}};const I=[];for(const y of a)if(yield wr.isNewer(s,y)){const L=yield wr.getCid(y);I.push(L),yield this.messageStore.delete(t,L)}return yield this.eventLog.deleteEventsByCid(t,I),R})}static constructIndexes(t){const n=t.message.descriptor,{definition:i}=n,o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(n,["definition"]),{author:a}=t;return Object.assign(Object.assign({},o),{author:a,protocol:i.protocol,published:i.published})}}var u8=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class Xh extends Zf{static parse(t){return u8(this,void 0,void 0,function*(){return void 0!==t.authorization&&(yield wr.validateSignatureStructure(t.authorization.signature,t.descriptor)),void 0!==t.descriptor.filter&&Vm(t.descriptor.filter.protocol),ta.validateTimestamp(t.descriptor.messageTimestamp),new Xh(t)})}static create(t){var n;return u8(this,void 0,void 0,function*(){const i={interface:bi.Protocols,method:Xr.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ta.getCurrentTimestamp(),filter:t.filter?Xh.normalizeFilter(t.filter):void 0};let o;pu(i),void 0!==t.signer&&(o=yield wr.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId}));const a={descriptor:i,authorization:o};return wr.validateJsonSchema(a),new Xh(a)})}static normalizeFilter(t){return Object.assign(Object.assign({},t),{protocol:zm(t.protocol)})}authorize(t,n){return u8(this,void 0,void 0,function*(){if(this.author!==t){if(void 0===this.author||!this.signaturePayload.permissionGrantId)throw new wt(Pt.ProtocolsQueryUnauthorized,"The ProtocolsQuery failed authorization");{const i=yield Ji.fetchGrant(t,n,this.signaturePayload.permissionGrantId);yield df.performBaseValidation({incomingMessage:this.message,expectedGrantor:t,expectedGrantee:this.author,permissionGrant:i,messageStore:n})}}})}}var sN=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class aN{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return sN(this,void 0,void 0,function*(){let i;try{i=yield Xh.parse(n)}catch(s){return Wo(s,400)}try{yield Gf(n.authorization,this.didResolver),yield i.authorize(t,this.messageStore)}catch(s){return s.code===Pt.AuthenticateJwsMissing||s.code===Pt.ProtocolsQueryUnauthorized?{status:{code:200,detail:"OK"},entries:yield this.fetchPublishedProtocolsConfigure(t,i)}:Wo(s,401)}const o=Object.assign(Object.assign({},n.descriptor.filter),{interface:bi.Protocols,method:Xr.Configure});pu(o);const{messages:a}=yield this.messageStore.query(t,[o]);return{status:{code:200,detail:"OK"},entries:a}})}fetchPublishedProtocolsConfigure(t,n){return sN(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},n.message.descriptor.filter),{interface:bi.Protocols,method:Xr.Configure,published:!0}),{messages:o}=yield this.messageStore.query(t,[i]);return o})}}var Fl=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class io{static validateReferentialIntegrity(t,n,i){return Fl(this,void 0,void 0,function*(){const o=yield io.fetchProtocolDefinition(t,n.message.descriptor.protocol,i);io.verifyType(n.message,o.types),yield io.verifyProtocolPathAndContextId(t,n,i);const a=io.getRuleSet(n.message.descriptor.protocolPath,o);yield io.verifyAsRoleRecordIfNeeded(t,n,a,i),io.verifySizeLimit(n,a),io.verifyTagsIfNeeded(n,a)})}static authorizeWrite(t,n,i){return Fl(this,void 0,void 0,function*(){let a;a=void 0===(yield io.fetchInitialWrite(t,n.message.recordId,i))?yield io.constructRecordChain(t,n.message.descriptor.parentId,i):yield io.constructRecordChain(t,n.message.recordId,i);const s=yield io.fetchProtocolDefinition(t,n.message.descriptor.protocol,i),l=io.getRuleSet(n.message.descriptor.protocolPath,s);yield io.verifyInvokedRole(t,n,n.message.descriptor.protocol,n.message.contextId,s,i),yield io.authorizeAgainstAllowedActions(t,n,l,a,i)})}static authorizeRead(t,n,i,o){return Fl(this,void 0,void 0,function*(){const a=yield io.constructRecordChain(t,i.message.recordId,o),s=yield io.fetchProtocolDefinition(t,i.message.descriptor.protocol,o),l=io.getRuleSet(i.message.descriptor.protocolPath,s);yield io.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,s,o),yield io.authorizeAgainstAllowedActions(t,n,l,a,o)})}static authorizeQueryOrSubscribe(t,n,i){return Fl(this,void 0,void 0,function*(){const{protocol:o,protocolPath:a,contextId:s}=n.message.descriptor.filter,l=yield io.fetchProtocolDefinition(t,o,i),R=io.getRuleSet(a,l);yield io.verifyInvokedRole(t,n,o,s,l,i),yield io.authorizeAgainstAllowedActions(t,n,R,[],i)})}static authorizeDelete(t,n,i,o){return Fl(this,void 0,void 0,function*(){const a=yield io.constructRecordChain(t,n.message.descriptor.recordId,o),s=yield io.fetchProtocolDefinition(t,i.message.descriptor.protocol,o),l=io.getRuleSet(i.message.descriptor.protocolPath,s);yield io.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,s,o),yield io.authorizeAgainstAllowedActions(t,n,l,a,o)})}static fetchProtocolDefinition(t,n,i){return Fl(this,void 0,void 0,function*(){if(n===Ji.uri)return Ji.definition;const o={interface:bi.Protocols,method:Xr.Configure,protocol:n},{messages:a}=yield i.query(t,[o]);if(0===a.length)throw new wt(Pt.ProtocolAuthorizationProtocolNotFound,`unable to find protocol definition for ${n}`);return a[0].descriptor.definition})}static constructRecordChain(t,n,i){return Fl(this,void 0,void 0,function*(){if(void 0===n)return[];const o=[];let a=n;for(;void 0!==a;){const s=yield io.fetchInitialWrite(t,a,i);if(void 0===s)throw new wt(Pt.ProtocolAuthorizationParentNotFoundConstructingRecordChain,`Unexpected error that should never trigger: no parent found with ID ${a} when constructing record chain.`);o.push(s),a=s.descriptor.parentId}return o.reverse()})}static fetchInitialWrite(t,n,i){return Fl(this,void 0,void 0,function*(){const o={interface:bi.Records,method:Xr.Write,recordId:n},{messages:a}=yield i.query(t,[o]);return 0===a.length?void 0:yield po.getInitialWrite(a)})}static getRuleSet(t,n){const i=io.getRuleSetAtProtocolPath(t,n);if(void 0===i)throw new wt(Pt.ProtocolAuthorizationMissingRuleSet,`No rule set defined for protocolPath ${t}`);return i}static verifyProtocolPathAndContextId(t,n,i){var o;return Fl(this,void 0,void 0,function*(){const a=n.message.descriptor.protocolPath,s=io.getTypeName(a),l=n.message.descriptor.parentId;if(void 0===l){if(a!==s)throw new wt(Pt.ProtocolAuthorizationParentlessIncorrectProtocolPath,`Declared protocol path '${a}' is not valid for records with no parent'.`);return}const I={isLatestBaseState:!0,interface:bi.Records,method:Xr.Write,protocol:n.message.descriptor.protocol,recordId:l},{messages:y}=yield i.query(t,[I]),L=y[0];if(`${null===(o=L?.descriptor)||void 0===o?void 0:o.protocolPath}/${s}`!==a)throw new wt(Pt.ProtocolAuthorizationIncorrectProtocolPath,`Could not find matching parent record to verify declared protocol path '${a}'.`);const Me=`${L.contextId}/${n.message.recordId}`,Ce=n.message.contextId;if(Ce!==Me)throw new wt(Pt.ProtocolAuthorizationIncorrectContextId,`Declared contextId '${Ce}' is not the same as expected: '${Me}'.`)})}static verifyType(t,n){const i=Object.keys(n),a=io.getTypeName(t.descriptor.protocolPath);if(!i.includes(a))throw new wt(Pt.ProtocolAuthorizationInvalidType,`record with type ${a} not allowed in protocol`);const l=io.getTypeName(t.descriptor.protocolPath),R=n[l],{schema:I}=t.descriptor;if(void 0!==R.schema&&R.schema!==I)throw new wt(Pt.ProtocolAuthorizationInvalidSchema,`type '${l}' must have schema '${R.schema}',         instead has '${I}'`);const{dataFormat:y}=t.descriptor;if(void 0!==R.dataFormats&&!R.dataFormats.includes(y))throw new wt(Pt.ProtocolAuthorizationIncorrectDataFormat,`type '${l}' must have data format in (${R.dataFormats}),         instead has '${y}'`)}static verifyInvokedRole(t,n,i,o,a,s){var l;return Fl(this,void 0,void 0,function*(){const R=null===(l=n.signaturePayload)||void 0===l?void 0:l.protocolRole;if(void 0===R)return;const I=io.getRuleSetAtProtocolPath(R,a);if(void 0===I||!I.$role)throw new wt(Pt.ProtocolAuthorizationNotARole,`Protocol path ${R} does not match role record type.`);const y={interface:bi.Records,method:Xr.Write,protocol:i,protocolPath:R,recipient:n.author,isLatestBaseState:!0},L=R.split("/").length-1;if(void 0===o&&L>0)throw new wt(Pt.ProtocolAuthorizationMissingContextId,"Could not verify role because contextId is missing.");if(L>0){const Me=o.split("/").slice(0,L).join("/"),Ce=ad.constructPrefixFilterAsRangeFilter(Me);y.contextId=Ce}const{messages:ye}=yield s.query(t,[y]);if(0===ye.length)throw new wt(Pt.ProtocolAuthorizationMatchingRoleRecordNotFound,`No matching role record found for protocol path ${R}`)})}static getActionsSeekingARuleMatch(t,n,i){return Fl(this,void 0,void 0,function*(){switch(n.message.descriptor.method){case Xr.Delete:const o=n,a=o.message.descriptor.recordId,s=yield po.fetchInitialRecordsWrite(i,t,a);if(void 0===s)return[];const l=[];return o.message.descriptor.prune?(l.push(jc.CoPrune),n.author===s.author&&l.push(jc.Prune)):(l.push(jc.CoDelete),n.author===s.author&&l.push(jc.Delete)),l;case Xr.Query:return[jc.Query];case Xr.Read:return[jc.Read];case Xr.Subscribe:return[jc.Subscribe];case Xr.Write:if(yield n.isInitialWrite())return[jc.Create];{const y=n.message.recordId,L=yield po.fetchInitialRecordsWrite(i,t,y);return void 0===L?[]:n.author===L.author?[jc.CoUpdate,jc.Update]:[jc.CoUpdate]}}return[]})}static authorizeAgainstAllowedActions(t,n,i,o,a){var s;return Fl(this,void 0,void 0,function*(){const l=n.message.descriptor.method,R=yield io.getActionsSeekingARuleMatch(t,n,a),I=n.author,y=i.$actions;if(void 0===y)throw new wt(Pt.ProtocolAuthorizationActionRulesNotFound,`no action rule defined for Records${l}, ${I} is unauthorized`);const L=null===(s=n.signaturePayload)||void 0===s?void 0:s.protocolRole;for(const ye of y)if(ye.can.some(Ce=>R.includes(Ce))){if(ye.who===d0.Anyone)return;if(void 0!==I)if(void 0===L)if(ye.who!==d0.Recipient||void 0!==ye.of){if(yield io.checkActor(I,ye,o))return}else{let Ce;if(Ce=n.message.descriptor.method===Xr.Write?n.message:o[o.length-1],Ce.descriptor.recipient===I)return}else if(ye.role===L)return}throw new wt(Pt.ProtocolAuthorizationActionNotAllowed,`Inbound message action Records${l} by author ${n.author} not allowed.`)})}static verifySizeLimit(t,n){const{min:i=0,max:o}=n.$size||{},a=t.message.descriptor.dataSize;if(a<i)throw new wt(Pt.ProtocolAuthorizationMinSizeInvalid,`data size ${a} is less than allowed ${i}`);if(void 0!==o&&a>o)throw new wt(Pt.ProtocolAuthorizationMaxSizeInvalid,`data size ${a} is more than allowed ${o}`)}static verifyTagsIfNeeded(t,n){if(void 0!==n.$tags){const{tags:i={},protocol:o,protocolPath:a}=t.message.descriptor,s=n.$tags,{$allowUndefinedTags:l,$requiredTags:R}=s,I=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(s,["$allowUndefinedTags","$requiredTags"]),y=l||!1,L=R||[],ye=new c8.default,Te=ye.compile({type:"object",properties:I,required:L,additionalProperties:y});if(!Te(i)){const Ce=ye.errorsText(Te.errors,{dataVar:`${o}/${a}/$tags`});throw new wt(Pt.ProtocolAuthorizationTagsInvalidSchema,`tags schema validation error: ${Ce}`)}}}static verifyAsRoleRecordIfNeeded(t,n,i,o){return Fl(this,void 0,void 0,function*(){if(!i.$role)return;const a=n,s=a.message.descriptor.recipient;if(void 0===s)throw new wt(Pt.ProtocolAuthorizationRoleMissingRecipient,"Role records must have a recipient");const l=a.message.descriptor.protocolPath,R={interface:bi.Records,method:Xr.Write,isLatestBaseState:!0,protocol:a.message.descriptor.protocol,protocolPath:l,recipient:s},I=$i.getParentContextFromOfContextId(a.message.contextId);if(""!==I){const Te=ad.constructPrefixFilterAsRangeFilter(I);R.contextId=Te}const{messages:y}=yield o.query(t,[R]);if(y.filter(Te=>Te.recordId!==a.message.recordId).length>0)throw new wt(Pt.ProtocolAuthorizationDuplicateRoleRecipient,`DID '${s}' is already recipient of a role record at protocol path '${l} under the parent context ${I}.`)})}static getRuleSetAtProtocolPath(t,n){const i=t.split("/");let o=n.structure,a=0;for(;a<i.length;){const l=o[i[a]];if(void 0===l)return;o=l,a++}return o}static checkActor(t,n,i){return Fl(this,void 0,void 0,function*(){const o=i.find(a=>a.descriptor.protocolPath===n.of);if(void 0===o)return!1;if(n.who===d0.Recipient)return t===o.descriptor.recipient;{const a=(yield po.parse(o)).author;return t===a}})}static getTypeName(t){return t.split("/").slice(-1)[0]}}var f8=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class Lv extends Zf{static parse(t){return f8(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield wr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield $i.validateDelegatedGrantReferentialIntegrity(t,n),ta.validateTimestamp(t.descriptor.messageTimestamp),new Lv(t)})}static create(t){var n,i;return f8(this,void 0,void 0,function*(){const o=t.recordId,a=ta.getCurrentTimestamp(),s={interface:bi.Records,method:Xr.Delete,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:a,recordId:o,prune:null!==(i=t.prune)&&void 0!==i&&i},R={descriptor:s,authorization:yield wr.createAuthorization({descriptor:s,signer:t.signer,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant})};return wr.validateJsonSchema(R),new Lv(R)})}constructIndexes(t){const i=Object.assign({},this.message.descriptor),{protocol:o,protocolPath:a,recipient:s,schema:l,parentId:R,dateCreated:I}=t.descriptor,y=Object.assign({protocol:o,protocolPath:a,recipient:s,schema:l,parentId:R,dateCreated:I,contextId:t.contextId,author:this.author},i);return pu(y),y}authorizeDelegate(t,n){return f8(this,void 0,void 0,function*(){const i=yield lf.parse(this.message.authorization.authorDelegatedGrant);yield mu.authorizeDelete({recordsDeleteMessage:this.message,recordsWriteToDelete:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}var u0=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},_x=function(r){return r.RecordsDelete="RecordsDelete",r}(_x||{});let f0=(()=>{class r{constructor(n,i){this.resumableTaskStore=n,this.resumableTaskBatchSize=100,this.resumableTaskHandlers={[_x.RecordsDelete]:o=>u0(this,void 0,void 0,function*(){return yield i.performRecordsDelete(o)})}}run(n){return u0(this,void 0,void 0,function*(){const i=2*r.timeoutExtensionFrequencyInSeconds,o=yield this.resumableTaskStore.register(n,i);yield this.runWithAutomaticTimeoutExtension(o)})}runWithAutomaticTimeoutExtension(n){return u0(this,void 0,void 0,function*(){const i=2*r.timeoutExtensionFrequencyInSeconds;let o;try{o=setInterval(()=>{this.resumableTaskStore.extend(n.id,i)},1e3*r.timeoutExtensionFrequencyInSeconds);const a=this.resumableTaskHandlers[n.task.name];yield a(n.task.data),yield this.resumableTaskStore.delete(n.id)}finally{r.clearTimeoutExtensionTimer(o)}})}static clearTimeoutExtensionTimer(n){clearInterval(n)}resumeTasksAndWaitForCompletion(){return u0(this,void 0,void 0,function*(){for(;;){const n=yield this.resumableTaskStore.grab(this.resumableTaskBatchSize);if(void 0===n||0===n.length)break;yield this.retryTasksUntilCompletion(n)}})}retryTasksUntilCompletion(n){return u0(this,void 0,void 0,function*(){let i=n;for(;i.length>0;){const o=i;i=[];const a=o.map(s=>u0(this,void 0,void 0,function*(){try{yield this.runWithAutomaticTimeoutExtension(s)}catch(l){console.error("Error while running resumable task:",l),console.error("Resumable task:",n),i.push(s)}}));yield Promise.all(a)}})}}return r.timeoutExtensionFrequencyInSeconds=30,r})();var qT=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class QT{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.resumableTaskManager=i}handle({tenant:t,message:n}){return qT(this,void 0,void 0,function*(){let i;try{i=yield Lv.parse(n)}catch(I){return Wo(I,400)}try{yield Gf(n.authorization,this.didResolver)}catch(I){return Wo(I,401)}const o={interface:bi.Records,recordId:n.descriptor.recordId},{messages:a}=yield this.messageStore.query(t,[o]),s=yield wr.getNewestMessage(a);if(void 0===s||s.descriptor.method===Xr.Delete)return{status:{code:404,detail:"Not Found"}};if(!(yield wr.isNewer(n,s)))return{status:{code:409,detail:"Conflict"}};try{yield QT.authorizeRecordsDelete(t,i,yield po.parse(s),this.messageStore)}catch(I){return Wo(I,401)}return yield this.resumableTaskManager.run({name:_x.RecordsDelete,data:{tenant:t,message:n}}),{status:{code:202,detail:"Accepted"}}})}static authorizeRecordsDelete(t,n,i,o){return qT(this,void 0,void 0,function*(){if(wr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,o)),n.author!==t){if(void 0===i.message.descriptor.protocol)throw new wt(Pt.RecordsDeleteAuthorizationFailed,"RecordsDelete message failed authorization");yield io.authorizeDelete(t,n,i,o)}})}}var Yf=function(r){return r[r.Descending=-1]="Descending",r[r.Ascending=1]="Ascending",r}(Yf||{}),Uv=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class h0{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return Uv(this,void 0,void 0,function*(){let i,o,a;try{i=yield Ov.parse(n)}catch(s){return Wo(s,400)}if($i.filterIncludesPublishedRecords(i.message.descriptor.filter)&&void 0===i.author){const s=yield this.fetchPublishedRecords(t,i);o=s.messages,a=s.cursor}else{try{yield Gf(n.authorization,this.didResolver),yield h0.authorizeRecordsQuery(t,i,this.messageStore)}catch(s){return Wo(s,401)}if(i.author===t){const s=yield this.fetchRecordsAsOwner(t,i);o=s.messages,a=s.cursor}else{const s=yield this.fetchRecordsAsNonOwner(t,i);o=s.messages,a=s.cursor}}for(const s of o)if(!(yield po.isInitialWrite(s))){const R=(yield this.messageStore.query(t,[{recordId:s.recordId,isLatestBaseState:!1,method:Xr.Write}])).messages[0];delete R.encodedData,s.initialWrite=R}return{status:{code:200,detail:"OK"},entries:o,cursor:a}})}convertDateSort(t){switch(t){case Ru.CreatedAscending:return{dateCreated:Yf.Ascending};case Ru.CreatedDescending:return{dateCreated:Yf.Descending};case Ru.PublishedAscending:return{datePublished:Yf.Ascending};case Ru.PublishedDescending:return{datePublished:Yf.Descending};default:return{dateCreated:Yf.Ascending}}}fetchRecordsAsOwner(t,n){return Uv(this,void 0,void 0,function*(){const{dateSort:i,filter:o,pagination:a}=n.message.descriptor,s=Object.assign(Object.assign({},$i.convertFilter(o,i)),{interface:bi.Records,method:Xr.Write,isLatestBaseState:!0}),l=this.convertDateSort(i);return this.messageStore.query(t,[s],l,a)})}fetchRecordsAsNonOwner(t,n){return Uv(this,void 0,void 0,function*(){const{dateSort:i,pagination:o,filter:a}=n.message.descriptor,s=[];if($i.filterIncludesPublishedRecords(a)&&s.push(h0.buildPublishedRecordsFilter(n)),$i.filterIncludesUnpublishedRecords(a)){s.push(h0.buildUnpublishedRecordsByQueryAuthorFilter(n));const R=n.message.descriptor.filter.recipient;(void 0===R||R===n.author)&&s.push(h0.buildUnpublishedRecordsForQueryAuthorFilter(n)),$i.shouldProtocolAuthorize(n.signaturePayload)&&s.push(h0.buildUnpublishedProtocolAuthorizedRecordsFilter(n))}const l=this.convertDateSort(i);return this.messageStore.query(t,s,l,o)})}fetchPublishedRecords(t,n){return Uv(this,void 0,void 0,function*(){const{dateSort:i,pagination:o}=n.message.descriptor,a=h0.buildPublishedRecordsFilter(n),s=this.convertDateSort(i);return this.messageStore.query(t,[a],s,o)})}static buildPublishedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},$i.convertFilter(i,n)),{interface:bi.Records,method:Xr.Write,published:!0,isLatestBaseState:!0})}static buildUnpublishedRecordsForQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},$i.convertFilter(i,n)),{interface:bi.Records,method:Xr.Write,recipient:t.author,isLatestBaseState:!0,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},$i.convertFilter(i,n)),{interface:bi.Records,method:Xr.Write,isLatestBaseState:!0,published:!1})}static buildUnpublishedRecordsByQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},$i.convertFilter(i,n)),{author:t.author,interface:bi.Records,method:Xr.Write,isLatestBaseState:!0,published:!1})}static authorizeRecordsQuery(t,n,i){return Uv(this,void 0,void 0,function*(){wr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),$i.shouldProtocolAuthorize(n.signaturePayload)&&(yield io.authorizeQueryOrSubscribe(t,n,i))})}}var V_=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class Ex extends Zf{static parse(t){return V_(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield wr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield $i.validateDelegatedGrantReferentialIntegrity(t,n),ta.validateTimestamp(t.descriptor.messageTimestamp),new Ex(t)})}static create(t){var n;return V_(this,void 0,void 0,function*(){const{filter:i,signer:o,permissionGrantId:a,protocolRole:s}=t,l=ta.getCurrentTimestamp(),R={interface:bi.Records,method:Xr.Read,filter:$i.normalizeFilter(i),messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:l};let I;pu(R),void 0!==o&&(I=yield wr.createAuthorization({descriptor:R,signer:o,permissionGrantId:a,protocolRole:s,delegatedGrant:t.delegatedGrant}));const y={descriptor:R,authorization:I};return wr.validateJsonSchema(y),new Ex(y)})}authorizeDelegate(t,n){return V_(this,void 0,void 0,function*(){const i=yield lf.parse(this.message.authorization.authorDelegatedGrant);yield mu.authorizeRead({recordsReadMessage:this.message,recordsWriteMessageToBeRead:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}var h8=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class xx{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return h8(this,void 0,void 0,function*(){let i;try{i=yield Ex.parse(n)}catch(y){return Wo(y,400)}try{void 0!==i.author&&(yield Gf(n.authorization,this.didResolver))}catch(y){return Wo(y,401)}const o=Object.assign({interface:bi.Records,isLatestBaseState:!0},$i.convertFilter(n.descriptor.filter)),{messages:a}=yield this.messageStore.query(t,[o]);if(0===a.length)return{status:{code:404,detail:"Not Found"}};if(a.length>1)return Wo(new wt(Pt.RecordsReadReturnedMultiple,"Multiple records exist for the RecordsRead filter"),400);const s=a[0];try{yield xx.authorizeRecordsRead(t,i,yield po.parse(s),this.messageStore)}catch(y){return Wo(y,401)}let l;if(void 0!==s.encodedData){const y=_.base64UrlToBytes(s.encodedData);l=Yh.fromBytes(y),delete s.encodedData}else{const y=yield this.dataStore.get(t,s.recordId,s.descriptor.dataCid);if(void 0===y?.dataStream)return{status:{code:404,detail:"Not Found"}};l=y.dataStream}const R=Object.assign(Object.assign({},s),{data:l});if(!(yield po.isInitialWrite(R))){const L=(yield this.messageStore.query(t,[{recordId:R.recordId,isLatestBaseState:!1,method:Xr.Write}])).messages[0];delete L.encodedData,R.initialWrite=L}return{status:{code:200,detail:"OK"},record:R}})}static authorizeRecordsRead(t,n,i,o){return h8(this,void 0,void 0,function*(){wr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,o));const{descriptor:a}=i.message;if(n.author!==t){if(!0===a.published)return;if(void 0!==n.author&&n.author===a.recipient)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const s=yield Ji.fetchGrant(t,o,n.signaturePayload.permissionGrantId);yield mu.authorizeRead({recordsReadMessage:n.message,recordsWriteMessageToBeRead:i.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:s,messageStore:o})}else{if(void 0===a.protocol)throw new wt(Pt.RecordsReadAuthorizationFailed,"message failed authorization");yield io.authorizeRead(t,n,i,o)}}})}}var p8=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class Sx extends Zf{static parse(t){return p8(this,void 0,void 0,function*(){let n;if(void 0!==t.authorization&&(n=yield wr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield $i.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new wt(Pt.RecordsSubscribeFilterMissingRequiredProperties,"Role-authorized subscriptions must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&Vm(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&IE(t.descriptor.filter.schema),ta.validateTimestamp(t.descriptor.messageTimestamp),new Sx(t)})}static create(t){var n;return p8(this,void 0,void 0,function*(){const i={interface:bi.Records,method:Xr.Subscribe,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ta.getCurrentTimestamp(),filter:$i.normalizeFilter(t.filter)};pu(i);const o=t.signer;let a;o&&(a=yield wr.createAuthorization({descriptor:i,signer:o,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const s={descriptor:i,authorization:a};return wr.validateJsonSchema(s),new Sx(s)})}authorizeDelegate(t){return p8(this,void 0,void 0,function*(){const n=yield lf.parse(this.message.authorization.authorDelegatedGrant);yield mu.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}}var eI=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class Jh{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventStream=i}handle({tenant:t,message:n,subscriptionHandler:i}){return eI(this,void 0,void 0,function*(){if(void 0===this.eventStream)return Wo(new wt(Pt.RecordsSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let o;try{o=yield Sx.parse(n)}catch(I){return Wo(I,400)}let a=[];if($i.filterIncludesPublishedRecords(o.message.descriptor.filter)&&void 0===o.author)a=[Jh.buildPublishedRecordsFilter(o)],delete n.authorization;else{try{yield Gf(n.authorization,this.didResolver),yield Jh.authorizeRecordsSubscribe(t,o,this.messageStore)}catch(I){return Wo(I,401)}a=o.author===t?yield Jh.filterAsOwner(o):yield Jh.filterAsNonOwner(o)}const l=yield wr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,l,(I,y,L)=>{t===I&&ad.matchAnyFilter(L,a)&&i(y)})}})}static filterAsOwner(t){return eI(this,void 0,void 0,function*(){const{filter:n}=t.message.descriptor;return[Object.assign(Object.assign({},$i.convertFilter(n)),{interface:bi.Records,method:[Xr.Write,Xr.Delete]})]})}static filterAsNonOwner(t){return eI(this,void 0,void 0,function*(){const n=[],{filter:i}=t.message.descriptor;if($i.filterIncludesPublishedRecords(i)&&n.push(Jh.buildPublishedRecordsFilter(t)),$i.filterIncludesUnpublishedRecords(i)){n.push(Jh.buildUnpublishedRecordsBySubscribeAuthorFilter(t));const o=t.message.descriptor.filter.recipient;(void 0===o||o===t.author)&&n.push(Jh.buildUnpublishedRecordsForSubscribeAuthorFilter(t)),$i.shouldProtocolAuthorize(t.signaturePayload)&&n.push(Jh.buildUnpublishedProtocolAuthorizedRecordsFilter(t))}return n})}static buildPublishedRecordsFilter(t){return Object.assign(Object.assign({},$i.convertFilter(t.message.descriptor.filter)),{interface:bi.Records,method:[Xr.Write,Xr.Delete],published:!0})}static buildUnpublishedRecordsForSubscribeAuthorFilter(t){return Object.assign(Object.assign({},$i.convertFilter(t.message.descriptor.filter)),{interface:bi.Records,method:[Xr.Write,Xr.Delete],recipient:t.author,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){return Object.assign(Object.assign({},$i.convertFilter(t.message.descriptor.filter)),{interface:bi.Records,method:[Xr.Write,Xr.Delete],published:!1})}static buildUnpublishedRecordsBySubscribeAuthorFilter(t){return Object.assign(Object.assign({},$i.convertFilter(t.message.descriptor.filter)),{author:t.author,interface:bi.Records,method:[Xr.Write,Xr.Delete],published:!1})}static authorizeRecordsSubscribe(t,n,i){return eI(this,void 0,void 0,function*(){wr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),$i.shouldProtocolAuthorize(n.signaturePayload)&&(yield io.authorizeQueryOrSubscribe(t,n,i))})}}let m8=(()=>{class r{}return r.maxDataSizeAllowedToBeEncoded=3e4,r})();var Mx=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class Uy{constructor({messageStore:t,dataStore:n,eventLog:i,eventStream:o}){this.messageStore=t,this.dataStore=n,this.eventLog=i,this.eventStream=o}performRecordsDelete({tenant:t,message:n}){return Mx(this,void 0,void 0,function*(){const i={interface:bi.Records,recordId:n.descriptor.recordId},{messages:o}=yield this.messageStore.query(t,[i]),a=yield wr.getNewestMessage(o);if(void 0===a||a.descriptor.method===Xr.Delete)return;const s=yield Lv.parse(n),l=yield po.getInitialWrite(o),R=s.constructIndexes(l),I=yield wr.getCid(n);yield this.messageStore.put(t,n,R),yield this.eventLog.append(t,I,R),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n,initialWrite:l},R),n.descriptor.prune&&(yield Uy.purgeRecordDescendants(t,n.descriptor.recordId,this.messageStore,this.dataStore,this.eventLog)),yield Uy.deleteAllOlderMessagesButKeepInitialWrite(t,o,n,this.messageStore,this.dataStore,this.eventLog)})}static deleteFromDataStoreIfNeeded(t,n,i,o){return Mx(this,void 0,void 0,function*(){if(i.descriptor.method!==Xr.Write)return;const a=i;a.descriptor.dataSize<=m8.maxDataSizeAllowedToBeEncoded||a.descriptor.dataCid!==o.descriptor.dataCid&&(yield t.delete(n,a.recordId,a.descriptor.dataCid))})}static purgeRecordDescendants(t,n,i,o,a){return Mx(this,void 0,void 0,function*(){const s={interface:bi.Records,parentId:n},{messages:l}=yield i.query(t,[s]),R=new Map;for(const I of l){let y;y=$i.isRecordsWrite(I)?I.recordId:I.descriptor.recordId,R.has(y)||R.set(y,[]),R.get(y).push(I)}for(const I of R.keys())yield Uy.purgeRecordDescendants(t,I,i,o,a);for(const I of R.keys())yield Uy.purgeRecordMessages(t,R.get(I),i,o,a)})}static purgeRecordMessages(t,n,i,o,a){return Mx(this,void 0,void 0,function*(){const s=n.filter(I=>I.descriptor.method===Xr.Write),l=yield wr.getNewestMessage(s);yield o.delete(t,l.recordId,l.descriptor.dataCid);const R=yield Promise.all(n.map(I=>wr.getCid(I)));yield a.deleteEventsByCid(t,R),yield Promise.all(R.map(I=>i.delete(t,I)))})}static deleteAllOlderMessagesButKeepInitialWrite(t,n,i,o,a,s){return Mx(this,void 0,void 0,function*(){const l=[];for(const R of n){if(yield wr.isOlder(R,i)){yield Uy.deleteFromDataStoreIfNeeded(a,t,R,i);const y=yield wr.getCid(R);if(yield o.delete(t,y),yield po.isInitialWrite(R)){const Me=yield(yield po.parse(R)).constructIndexes(!1),Ce=R;delete Ce.encodedData,yield o.put(t,Ce,Me)}else{const ye=yield wr.getCid(R);l.push(ye)}}yield s.deleteEventsByCid(t,l)}})}}var p0=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class m0{constructor(t,n,i,o,a){this.didResolver=t,this.messageStore=n,this.dataStore=i,this.eventLog=o,this.eventStream=a}handle({tenant:t,message:n,dataStream:i}){return p0(this,void 0,void 0,function*(){let o;try{o=yield po.parse(n),void 0!==n.descriptor.protocol&&(yield io.validateReferentialIntegrity(t,o,this.messageStore))}catch(Te){return Wo(Te,400)}try{yield Gf(n.authorization,this.didResolver),yield m0.authorizeRecordsWrite(t,o,this.messageStore)}catch(Te){return Wo(Te,401)}const a={interface:bi.Records,recordId:n.recordId},{messages:s}=yield this.messageStore.query(t,[a]),l=yield o.isInitialWrite();let R;if(!l)try{R=yield po.getInitialWrite(s),po.verifyEqualityOfImmutableProperties(R,n)}catch(Te){return Wo(Te,400)}const I=yield wr.getNewestMessage(s);let L,y=!1;if(void 0===I||(yield wr.isNewer(n,I))?(y=!0,L=n):L=I,!y)return{status:{code:409,detail:"Conflict"}};try{yield this.preProcessingForCoreRecordsWrite(t,n);let Te=!1,Me=n;if(void 0!==i)Me=yield this.processMessageWithDataStream(t,n,i),Te=!0;else{if(I?.descriptor.method===Xr.Delete)throw new wt(Pt.RecordsWriteMissingDataStream,"No data stream was provided with the previous message being a delete");if(!l){const je=I;Me=yield this.processMessageWithoutDataStream(t,n,je),Te=!0}}const Ce=yield o.constructIndexes(Te);yield this.messageStore.put(t,Me,Ce),yield this.eventLog.append(t,yield wr.getCid(n),Ce),void 0!==this.eventStream&&Te&&this.eventStream.emit(t,{message:n,initialWrite:R},Ce)}catch(Te){const Me=Te;if(void 0!==Me.code&&(Me.code===Pt.RecordsWriteMissingEncodedDataInPrevious||Me.code===Pt.RecordsWriteMissingDataInPrevious||Me.code===Pt.RecordsWriteMissingDataStream||Me.code===Pt.RecordsWriteDataCidMismatch||Me.code===Pt.RecordsWriteDataSizeMismatch||Me.code.startsWith("PermissionsProtocolValidate")||Me.code.startsWith("SchemaValidator")))return Wo(Te,400);throw Te}return yield Uy.deleteAllOlderMessagesButKeepInitialWrite(t,s,L,this.messageStore,this.dataStore,this.eventLog),yield this.postProcessingForCoreRecordsWrite(t,o),{status:{code:202,detail:"Accepted"}}})}preProcessingForCoreRecordsWrite(t,n){var i;return p0(this,void 0,void 0,function*(){if(n.descriptor.protocol===Ji.uri&&n.descriptor.protocolPath===Ji.revocationPath){const o=n.descriptor.parentId,a=yield Ji.fetchGrant(t,this.messageStore,o),s=null===(i=n.descriptor.tags)||void 0===i?void 0:i.protocol,l="protocol"in a.scope?a.scope.protocol:void 0;if(l!==s)throw new wt(Pt.PermissionsProtocolValidateRevocationProtocolTagMismatch,`Revocation protocol ${s} does not match grant protocol ${l}`)}})}static validateSchemaForCoreRecordsWrite(t,n){t.descriptor.protocol===Ji.uri&&Ji.validateSchema(t,n)}postProcessingForCoreRecordsWrite(t,n){return p0(this,void 0,void 0,function*(){if(n.message.descriptor.protocol===Ji.uri&&n.message.descriptor.protocolPath===Ji.revocationPath){const o={permissionGrantId:n.message.descriptor.parentId,dateCreated:{gte:n.message.descriptor.messageTimestamp}},{messages:a}=yield this.messageStore.query(t,[o]),s=[];for(const l of a){const R=yield wr.getCid(l);yield this.messageStore.delete(t,R)}this.eventLog.deleteEventsByCid(t,s)}})}cloneAndAddEncodedData(t,n){return p0(this,void 0,void 0,function*(){const i=Object.assign({},t);return i.encodedData=_.bytesToBase64Url(n),i})}processMessageWithDataStream(t,n,i){return p0(this,void 0,void 0,function*(){let o=n;if(n.descriptor.dataSize<=m8.maxDataSizeAllowedToBeEncoded){const a=yield Yh.toBytes(i),s=yield Ic.computeDagPbCidFromBytes(a);m0.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,s,a.length),m0.validateSchemaForCoreRecordsWrite(n,a),o=yield this.cloneAndAddEncodedData(n,a)}else{const[a,s]=Yh.duplicateDataStream(i,2);try{const[l,R]=yield Promise.all([Ic.computeDagPbCidFromStream(a),this.dataStore.put(t,n.recordId,n.descriptor.dataCid,s)]);m0.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,l,R.dataSize)}catch(l){throw yield this.dataStore.delete(t,n.recordId,n.descriptor.dataCid),l}}return o})}processMessageWithoutDataStream(t,n,i){return p0(this,void 0,void 0,function*(){const o=Object.assign({},n),{dataCid:a,dataSize:s}=n.descriptor;if(m0.validateDataIntegrity(a,s,i.descriptor.dataCid,i.descriptor.dataSize),s<=m8.maxDataSizeAllowedToBeEncoded){if(void 0===i.encodedData)throw new wt(Pt.RecordsWriteMissingEncodedDataInPrevious,"No dataStream was provided and unable to get data from previous message");o.encodedData=i.encodedData}else if(void 0===(yield this.dataStore.get(t,i.recordId,n.descriptor.dataCid)))throw new wt(Pt.RecordsWriteMissingDataInPrevious,"No dataStream was provided and unable to get data from previous message");return o})}static validateDataIntegrity(t,n,i,o){if(t!==i)throw new wt(Pt.RecordsWriteDataCidMismatch,`actual data CID ${i} does not match dataCid in descriptor: ${t}`);if(n!==o)throw new wt(Pt.RecordsWriteDataSizeMismatch,`actual data size ${o} bytes does not match dataSize in descriptor: ${n}`)}static authorizeRecordsWrite(t,n,i){return p0(this,void 0,void 0,function*(){if(void 0!==n.owner&&n.owner!==t)throw new wt(Pt.RecordsWriteOwnerAndTenantMismatch,`Owner ${n.owner} must be the same as tenant ${t} when specified.`);if(n.isSignedByAuthorDelegate&&(yield n.authorizeAuthorDelegate(i)),n.isSignedByOwnerDelegate&&(yield n.authorizeOwnerDelegate(i)),void 0===n.owner){if(n.author===t)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const o=yield Ji.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield mu.authorizeWrite({recordsWriteMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:o,messageStore:i})}else{if(void 0===n.message.descriptor.protocol)throw new wt(Pt.RecordsWriteAuthorizationFailed,"message failed authorization");yield io.authorizeWrite(t,n,i)}}})}}var Ax=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(Ax||{});const qh={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class ws{constructor({method:t,id:n,path:i,query:o,fragment:a,params:s}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=o,this.fragment=a,this.params=s}static parse(t){if(!t)return null;const n=ws.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:o,path:a,query:s,fragment:l}=n.groups,R={uri:`did:${i}:${o}`,method:i,id:o};if(a&&(R.path=a),s&&(R.query=s.slice(1)),l&&(R.fragment=l.slice(1)),s){const I={},y=s.slice(1).split("&");for(const L of y){const[ye,Te]=L.split("=");I[ye]=Te}R.params=I}return R}}ws.METHOD_PATTERN="([a-z0-9]+)",ws.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",ws.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${ws.PCT_ENCODED_PATTERN})`,ws.METHOD_ID_PATTERN=`((?:${ws.ID_CHAR_PATTERN}*:)*(${ws.ID_CHAR_PATTERN}+))`,ws.PATH_PATTERN="(/[^#?]*)?",ws.QUERY_PATTERN="([?][^#]*)?",ws.FRAGMENT_PATTERN="(#.*)?",ws.DID_URI_PATTERN=new RegExp(`^did:(?<method>${ws.METHOD_PATTERN}):(?<id>${ws.METHOD_ID_PATTERN})(?<path>${ws.PATH_PATTERN})(?<query>${ws.QUERY_PATTERN})(?<fragment>${ws.FRAGMENT_PATTERN})$`);class Ii extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ii)}}var Di=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Di||{}),Tx=E(52191);function Ix(r){const n=Object.prototype.toString.call(r).match(/\s([a-zA-Z0-9]+)/),[i,o]=n;return o}var z_=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},nI=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=r[a]&&function(s){return new Promise(function(l,R){!function o(a,s,l,R){Promise.resolve(R).then(function(I){a({value:I,done:l})},s)}(l,R,(s=r[a](s)).done,s.value)})}}};const Qh=new TextEncoder,y0=new TextDecoder;class on{constructor(t,n){this.data=t,this.format=n}static arrayBuffer(t){return new on(t,"ArrayBuffer")}static asyncIterable(t){if(!function y8(r){return"object"==typeof r&&null!==r&&"function"==typeof r[Symbol.asyncIterator]}(t))throw new TypeError("Input must be of type AsyncIterable.");return new on(t,"AsyncIterable")}static base32Z(t){return new on(t,"Base32Z")}static base58Btc(t){return new on(t,"Base58Btc")}static base64Url(t){return new on(t,"Base64Url")}static bufferSource(t){return new on(t,"BufferSource")}static hex(t){if("string"!=typeof t)throw new TypeError("Hex input must be a string.");if(t.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new on(t,"Hex")}static multibase(t){return new on(t,"Multibase")}static object(t){return new on(t,"Object")}static string(t){return new on(t,"String")}static uint8Array(t){return new on(t,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return sf.baseDecode(this.data).buffer;case"Base64Url":return Xe.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===Ix(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function FU(r){return 0!==r.byteOffset||r.byteLength!==r.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return z_(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return cO.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const t=new Uint8Array(this.data);return sf.baseEncode(t)}case"Multibase":return this.data.substring(1);case"Uint8Array":return sf.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const t=new Uint8Array(this.data);return Xe.baseEncode(t)}case"BufferSource":{const t=this.toUint8Array();return Xe.baseEncode(t)}case"Object":{const t=JSON.stringify(this.data),n=Qh.encode(t);return Xe.baseEncode(n)}case"String":{const t=Qh.encode(this.data);return Xe.baseEncode(t)}case"Uint8Array":return Xe.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var t,n,i;return z_(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const R=[];try{for(var l,a=!0,s=nI(this.data);l=yield s.next(),!(t=l.done);a=!0)a=!1,R.push(l.value)}catch(y){n={error:y}}finally{try{!a&&!t&&(i=s.return)&&(yield i.call(s))}finally{if(n)throw n.error}}return new Blob(R)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const t=Array.from({length:256},(n,i)=>i.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const n=this.toUint8Array();return on.uint8Array(n).toHex()}case"Base64Url":{const n=this.toUint8Array();return on.uint8Array(n).toHex()}case"Uint8Array":{let n="";for(let i=0;i<this.data.length;i++)n+=t[this.data[i]];return n}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const t=Xe.baseDecode(this.data),n=y0.decode(t);return JSON.parse(n)}case"String":return JSON.parse(this.data);case"Uint8Array":{const t=y0.decode(this.data);return JSON.parse(t)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return z_(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const t=yield this.toStringAsync();return JSON.parse(t)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return y0.decode(this.data);case"Base64Url":{const t=Xe.baseDecode(this.data);return y0.decode(t)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var t,n,i,o;return z_(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){let R="";try{for(var l,a=!0,s=nI(this.data);l=yield s.next(),!(t=l.done);a=!0)a=!1,R+="string"==typeof(o=l.value)?o:y0.decode(o,{stream:!0})}catch(I){n={error:I}}finally{try{!a&&!t&&(i=s.return)&&(yield i.call(s))}finally{if(n)throw n.error}}return R+=y0.decode(void 0,{stream:!1}),R}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return cO.baseDecode(this.data);case"Base58Btc":return sf.baseDecode(this.data);case"Base64Url":return Xe.baseDecode(this.data);case"BufferSource":{const t=Ix(this.data);if("Uint8Array"===t)return this.data;if("ArrayBuffer"===t)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const t=new Uint8Array(this.data.length/2);for(let n=0;n<this.data.length;n+=2){const i=parseInt(this.data.substring(n,n+2),16);if(isNaN(i))throw new TypeError("Input is not a valid hexadecimal string.");t[n/2]=i}return t}case"Object":{const t=JSON.stringify(this.data);return Qh.encode(t)}case"String":return Qh.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return z_(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const t=yield this.toArrayBufferAsync();return new Uint8Array(t)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}class pa{static addPrefix(t){var n;let{code:i,data:o,name:a}=t;if(!(a?!i:i))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(i=pa.codeToName.has(i)?i:pa.nameToCode.get(a),void 0===i)throw new Error(`Unsupported multicodec: ${null!==(n=t.name)&&void 0!==n?n:t.code}`);const s=Ys(i),l=new Uint8Array(s+o.byteLength);return l.set(o,s),Ya(i,l),l}static getCodeFromData(t){const{prefixedData:n}=t,[i,o]=si(n);return i}static getCodeFromName(t){const{name:n}=t,i=pa.nameToCode.get(n);if(void 0===i)throw new Error(`Unsupported multicodec: ${n}`);return i}static getNameFromCode(t){const{code:n}=t,i=pa.codeToName.get(n);if(void 0===i)throw new Error(`Unsupported multicodec: ${n}`);return i}static registerCodec(t){pa.codeToName.set(t.code,t.name),pa.nameToCode.set(t.name,t.code)}static removePrefix(t){const{prefixedData:n}=t,[i,o]=si(n),a=pa.codeToName.get(i);if(void 0===a)throw new Error(`Unsupported multicodec: ${i}`);return{code:i,data:n.slice(o),name:a}}}function rI(r){return!("object"!=typeof r||null===r||Object.getOwnPropertySymbols(r).length>0)&&0===Object.keys(r).length}function Vp(r){Object.keys(r).forEach(t=>{void 0===r[t]?delete r[t]:"object"==typeof r[t]&&Vp(r[t])})}pa.codeToName=new Map,pa.nameToCode=new Map,pa.registerCodec({code:237,name:"ed25519-pub"}),pa.registerCodec({code:4864,name:"ed25519-priv"}),pa.registerCodec({code:236,name:"x25519-pub"}),pa.registerCodec({code:4866,name:"x25519-priv"}),pa.registerCodec({code:231,name:"secp256k1-pub"}),pa.registerCodec({code:4865,name:"secp256k1-priv"});var Fv=E(54626),Xf=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class jU{constructor({db:t,location:n="DATASTORE"}={}){this.store=t??new Fv.Level(n)}clear(){return Xf(this,void 0,void 0,function*(){yield this.store.clear()})}close(){return Xf(this,void 0,void 0,function*(){yield this.store.close()})}delete(t){return Xf(this,void 0,void 0,function*(){yield this.store.del(t)})}get(t){return Xf(this,void 0,void 0,function*(){try{return yield this.store.get(t)}catch(n){if(n.notFound)return;throw n}})}set(t,n){return Xf(this,void 0,void 0,function*(){yield this.store.put(t,n)})}}class Dx{constructor(){this.store=new Map}clear(){return Xf(this,void 0,void 0,function*(){this.store.clear()})}close(){return Xf(this,void 0,void 0,function*(){})}delete(t){return Xf(this,void 0,void 0,function*(){return this.store.delete(t)})}get(t){return Xf(this,void 0,void 0,function*(){return this.store.get(t)})}has(t){return Xf(this,void 0,void 0,function*(){return this.store.has(t)})}list(){return Xf(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(t,n){return Xf(this,void 0,void 0,function*(){this.store.set(t,n)})}}var jv=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},H_=function(r){return this instanceof H_?(this.v=r,this):new H_(r)};class Fu{static asAsyncIterator(t){return function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(r,t||[]),a=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(ye){i[ye]&&(o[ye]=function(Te){return new Promise(function(Me,Ce){a.push([ye,Te,Me,Ce])>1||l(ye,Te)})})}function l(ye,Te){try{!function R(ye){ye.value instanceof H_?Promise.resolve(ye.value.v).then(I,y):L(a[0][2],ye)}(i[ye](Te))}catch(Me){L(a[0][3],Me)}}function I(ye){l("next",ye)}function y(ye){l("throw",ye)}function L(ye,Te){ye(Te),a.shift(),a.length&&l(a[0][0],a[0][1])}}(this,arguments,function*(){const i=t.getReader();try{for(;;){const{done:o,value:a}=yield H_(i.read());if(o)break;yield yield H_(a)}}finally{i.releaseLock()}})}static consumeToArrayBuffer({readableStream:t}){return jv(this,void 0,void 0,function*(){const n=Fu.asAsyncIterator(t);return yield on.asyncIterable(n).toArrayBufferAsync()})}static consumeToBlob({readableStream:t}){return jv(this,void 0,void 0,function*(){const n=Fu.asAsyncIterator(t);return yield on.asyncIterable(n).toBlobAsync()})}static consumeToBytes({readableStream:t}){return jv(this,void 0,void 0,function*(){const n=Fu.asAsyncIterator(t);return yield on.asyncIterable(n).toUint8ArrayAsync()})}static consumeToJson({readableStream:t}){return jv(this,void 0,void 0,function*(){const n=Fu.asAsyncIterator(t);return yield on.asyncIterable(n).toObjectAsync()})}static consumeToText({readableStream:t}){return jv(this,void 0,void 0,function*(){const n=Fu.asAsyncIterator(t);return yield on.asyncIterable(n).toStringAsync()})}static generateByteStream({streamLength:t,chunkLength:n,fillValue:i}){let a,o=t??1/0;function s(){const l=Math.min(o,n??1/0);let R;if(o-=l,"number"==typeof i)R=new Uint8Array(l).fill(i);else if(Array.isArray(i)){R=new Uint8Array(l);const[I,y]=i,L=y-I+1;for(let ye=0;ye<l;ye++)R[ye]=Math.floor(Math.random()*L)+I}else R=new Uint8Array(l);a.enqueue(R),o<=0&&a.close()}return new ReadableStream({start(l){a=l,s()},pull(){s()}})}static isReadable({readableStream:t}){if(!Fu.isReadableStream(t)||t.locked)return!1;try{return t.getReader().releaseLock(),!0}catch{return!1}}static isReadableStream(t){return"object"==typeof t&&null!==t&&"getReader"in t&&"function"==typeof t.getReader}static isStream(t){return Fu.isReadableStream(t)||Fu.isWritableStream(t)||Fu.isTransformStream(t)}static isTransformStream(t){return"object"==typeof t&&null!==t&&"readable"in t&&"object"==typeof t.readable&&"writable"in t&&"object"==typeof t.writable}static isWritableStream(t){return"object"==typeof t&&null!==t&&"getWriter"in t&&"function"==typeof t.getWriter&&"abort"in t&&"function"==typeof t.abort}}var dN=E(95424),Kv=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class sl{static consumeToArrayBuffer({readable:t}){return Kv(this,void 0,void 0,function*(){return yield on.asyncIterable(t).toArrayBufferAsync()})}static consumeToBlob({readable:t}){return Kv(this,void 0,void 0,function*(){return yield on.asyncIterable(t).toBlobAsync()})}static consumeToBytes({readable:t}){return Kv(this,void 0,void 0,function*(){return yield on.asyncIterable(t).toUint8ArrayAsync()})}static consumeToJson({readable:t}){return Kv(this,void 0,void 0,function*(){return yield on.asyncIterable(t).toObjectAsync()})}static consumeToText({readable:t}){return Kv(this,void 0,void 0,function*(){return yield on.asyncIterable(t).toStringAsync()})}static fromWebReadable({readableStream:t,readableOptions:n}){if(!Fu.isReadableStream(t))throw new TypeError("NodeStream.fromWebReadable: 'readableStream' is not a Web ReadableStream.");const i=t.getReader();let o=!1;const a=new dN.Readable(Object.assign(Object.assign({},n),{read:function(){i.read().then(({done:s,value:l})=>{if(s)this.push(null);else if(!this.push(l))return}).catch(s=>{this.destroy(s)})},destroy:function(s,l){function R(){l(s)}o?R():i.cancel(s).then(R).catch(R)}}));return i.closed.then(()=>{o=!0}).catch(s=>{o=!0,a.destroy(s)}),a}static isDestroyed({stream:t}){if(!sl.isStream(t))throw new TypeError("NodeStream.isDestroyed: 'stream' is not a Node stream.");return!(!t.destroyed&&!(("_writableState"in t?t._writableState:void 0)||t._readableState).destroyed)}static isReadable({readable:t}){return!!sl.isReadableStream(t)&&t.readable&&"boolean"==typeof t._readableState.ended&&!t._readableState.ended&&"boolean"==typeof t._readableState.endEmitted&&!t._readableState.endEmitted&&!t.destroyed&&!t.isPaused()}static isReadableStream(t){return"object"==typeof t&&null!==t&&"pipe"in t&&"function"==typeof t.pipe&&"on"in t&&"function"==typeof t.on&&!("_writableState"in t)&&"_readableState"in t}static isStream(t){return"object"==typeof t&&null!==t&&("_readableState"in t||"_writableState"in t)}static toWebReadable({readable:t}){if(!sl.isReadableStream(t))throw new TypeError("NodeStream.toWebReadable: 'readable' is not a Node Readable stream.");if(sl.isDestroyed({stream:t})){const n=new ReadableStream;return n.cancel(),n}return new ReadableStream({start(n){t.on("data",i=>{n.enqueue(i)}),t.on("end",()=>{n.close()}),t.on("error",i=>{n.error(i)})},cancel(){t.destroy()}})}}function Cx(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function kx(r,...t){if(!function fN(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}(r))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function Rx(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}const Ox="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function v8(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}const b8=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),zp=(r,t)=>r<<32-t|r>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function Bx(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}function G_(r){if("string"==typeof r&&(r=Bx(r)),!v8(r))throw new Error("expected Uint8Array, got "+typeof r);return r}function cI(...r){let t=0;for(let i=0;i<r.length;i++){const o=r[i];if(!v8(o))throw new Error("Uint8Array expected");t+=o.length}const n=new Uint8Array(t);for(let i=0,o=0;i<r.length;i++){const a=r[i];n.set(a,o),o+=a.length}return n}class lI{clone(){return this._cloneInto()}}function E8(r){const t=i=>r().update(G_(i)).digest(),n=r();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>r(),t}function Nx(r=32){if(Ox&&"function"==typeof Ox.getRandomValues)return Ox.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}class Z_ extends lI{constructor(t,n,i,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=b8(this.buffer)}update(t){Rx(this);const{view:n,buffer:i,blockLen:o}=this,a=(t=G_(t)).length;for(let s=0;s<a;){const l=Math.min(o-this.pos,a-s);if(l!==o)i.set(t.subarray(s,s+l),this.pos),this.pos+=l,s+=l,this.pos===o&&(this.process(n,0),this.pos=0);else{const R=b8(t);for(;o<=a-s;s+=o)this.process(R,s)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Rx(this),function oI(r,t){kx(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:o,isLE:a}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(i,0),s=0);for(let L=s;L<o;L++)n[L]=0;(function x8(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const o=BigInt(32),a=BigInt(4294967295),s=Number(n>>o&a),l=Number(n&a),I=i?0:4;r.setUint32(t+(i?4:0),s,i),r.setUint32(t+I,l,i)})(i,o-8,BigInt(8*this.length),a),this.process(i,0);const l=b8(t),R=this.outputLen;if(R%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const I=R/4,y=this.get();if(I>y.length)throw new Error("_sha2: outputLen bigger than state");for(let L=0;L<I;L++)l.setUint32(4*L,y[L],a)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:o,finished:a,destroyed:s,pos:l}=this;return t.length=o,t.pos=l,t.finished=a,t.destroyed=s,o%n&&t.buffer.set(i),t}}const Y_=(r,t,n)=>r&t^~r&n,Lx=(r,t,n)=>r&t^r&n^t&n,S8=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Hp=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fy=new Uint32Array(64);class yN extends Z_{constructor(){super(64,32,8,!1),this.A=0|Hp[0],this.B=0|Hp[1],this.C=0|Hp[2],this.D=0|Hp[3],this.E=0|Hp[4],this.F=0|Hp[5],this.G=0|Hp[6],this.H=0|Hp[7]}get(){const{A:t,B:n,C:i,D:o,E:a,F:s,G:l,H:R}=this;return[t,n,i,o,a,s,l,R]}set(t,n,i,o,a,s,l,R){this.A=0|t,this.B=0|n,this.C=0|i,this.D=0|o,this.E=0|a,this.F=0|s,this.G=0|l,this.H=0|R}process(t,n){for(let L=0;L<16;L++,n+=4)Fy[L]=t.getUint32(n,!1);for(let L=16;L<64;L++){const ye=Fy[L-15],Te=Fy[L-2],Me=zp(ye,7)^zp(ye,18)^ye>>>3,Ce=zp(Te,17)^zp(Te,19)^Te>>>10;Fy[L]=Ce+Fy[L-7]+Me+Fy[L-16]|0}let{A:i,B:o,C:a,D:s,E:l,F:R,G:I,H:y}=this;for(let L=0;L<64;L++){const Te=y+(zp(l,6)^zp(l,11)^zp(l,25))+Y_(l,R,I)+S8[L]+Fy[L]|0,Ce=(zp(i,2)^zp(i,13)^zp(i,22))+Lx(i,o,a)|0;y=I,I=R,R=l,l=s+Te|0,s=a,a=o,o=i,i=Te+Ce|0}i=i+this.A|0,o=o+this.B|0,a=a+this.C|0,s=s+this.D|0,l=l+this.E|0,R=R+this.F|0,I=I+this.G|0,y=y+this.H|0,this.set(i,o,a,s,l,R,I,y)}roundClean(){Fy.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const jy=E8(()=>new yN);class dI{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return jy(t)})}}class Ux{}BigInt(0);const uI=BigInt(1),WU=BigInt(2);function ep(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}const GU=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function $v(r){if(!ep(r))throw new Error("Uint8Array expected");let t="";for(let n=0;n<r.length;n++)t+=GU[r[n]];return t}function M8(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);return BigInt(""===r?"0":`0x${r}`)}const g0={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function fI(r){return r>=g0._0&&r<=g0._9?r-g0._0:r>=g0._A&&r<=g0._F?r-(g0._A-10):r>=g0._a&&r<=g0._f?r-(g0._a-10):void 0}function Vv(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);const t=r.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let o=0,a=0;o<n;o++,a+=2){const s=fI(r.charCodeAt(a)),l=fI(r.charCodeAt(a+1));if(void 0===s||void 0===l)throw new Error('hex string expected, got non-hex character "'+(r[a]+r[a+1])+'" at index '+a);i[o]=16*s+l}return i}function zv(r){return M8($v(r))}function v0(r){if(!ep(r))throw new Error("Uint8Array expected");return M8($v(Uint8Array.from(r).reverse()))}function Jf(r,t){return Vv(r.toString(16).padStart(2*t,"0"))}function X_(r,t){return Jf(r,t).reverse()}function Va(r,t,n){let i;if("string"==typeof t)try{i=Vv(t)}catch(a){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${a}`)}else{if(!ep(t))throw new Error(`${r} must be hex string or Uint8Array`);i=Uint8Array.from(t)}const o=i.length;if("number"==typeof n&&o!==n)throw new Error(`${r} expected ${n} bytes, got ${o}`);return i}function Ky(...r){let t=0;for(let o=0;o<r.length;o++){const a=r[o];if(!ep(a))throw new Error("Uint8Array expected");t+=a.length}let n=new Uint8Array(t),i=0;for(let o=0;o<r.length;o++){const a=r[o];n.set(a,i),i+=a.length}return n}const J_=r=>(WU<<BigInt(r-1))-uI,jx=r=>new Uint8Array(r),A8=r=>Uint8Array.from(r);function T8(r,t,n){if("number"!=typeof r||r<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let i=jx(r),o=jx(r),a=0;const s=()=>{i.fill(1),o.fill(0),a=0},l=(...L)=>n(o,i,...L),R=(L=jx())=>{o=l(A8([0]),L),i=l(),0!==L.length&&(o=l(A8([1]),L),i=l())},I=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let L=0;const ye=[];for(;L<t;){i=l();const Te=i.slice();ye.push(Te),L+=i.length}return Ky(...ye)};return(L,ye)=>{let Te;for(s(),R(L);!(Te=ye(I()));)R();return s(),Te}}const I8={bigint:r=>"bigint"==typeof r,function:r=>"function"==typeof r,boolean:r=>"boolean"==typeof r,string:r=>"string"==typeof r,stringOrUint8Array:r=>"string"==typeof r||ep(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>"function"==typeof r&&Number.isSafeInteger(r.outputLen)};function $y(r,t,n={}){const i=(o,a,s)=>{const l=I8[a];if("function"!=typeof l)throw new Error(`Invalid validator "${a}", expected function`);const R=r[o];if(!(s&&void 0===R||l(R,r)))throw new Error(`Invalid param ${String(o)}=${R} (${typeof R}), expected ${a}`)};for(const[o,a]of Object.entries(t))i(o,a,!1);for(const[o,a]of Object.entries(n))i(o,a,!0);return r}const hc=BigInt(0),Hs=BigInt(1),b0=BigInt(2),EN=BigInt(3),hI=BigInt(4),D8=BigInt(5),pI=BigInt(8);function _s(r,t){const n=r%t;return n>=hc?n:t+n}function mI(r,t,n){if(n<=hc||t<hc)throw new Error("Expected power/modulo > 0");if(n===Hs)return hc;let i=Hs;for(;t>hc;)t&Hs&&(i=i*r%n),r=r*r%n,t>>=Hs;return i}function ka(r,t,n){let i=r;for(;t-- >hc;)i*=i,i%=n;return i}function Kx(r,t){if(r===hc||t<=hc)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let n=_s(r,t),i=t,o=hc,a=Hs,s=Hs,l=hc;for(;n!==hc;){const I=i/n,y=i%n,L=o-s*I,ye=a-l*I;i=n,n=y,o=s,a=l,s=L,l=ye}if(i!==Hs)throw new Error("invert: does not exist");return _s(o,t)}BigInt(9),BigInt(16);const SN=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Vx(r,t){const n=void 0!==t?t:r.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function P8(r,t,n=!1,i={}){if(r<=hc)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:o,nByteLength:a}=Vx(r,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=function yI(r){if(r%hI===EN){const t=(r+Hs)/hI;return function(i,o){const a=i.pow(o,t);if(!i.eql(i.sqr(a),o))throw new Error("Cannot find square root");return a}}if(r%pI===D8){const t=(r-D8)/pI;return function(i,o){const a=i.mul(o,b0),s=i.pow(a,t),l=i.mul(o,s),R=i.mul(i.mul(l,b0),s),I=i.mul(l,i.sub(R,i.ONE));if(!i.eql(i.sqr(I),o))throw new Error("Cannot find square root");return I}}return function q_(r){const t=(r-Hs)/b0;let n,i,o;for(n=r-Hs,i=0;n%b0===hc;n/=b0,i++);for(o=b0;o<r&&mI(o,t,r)!==r-Hs;o++);if(1===i){const s=(r+Hs)/hI;return function(R,I){const y=R.pow(I,s);if(!R.eql(R.sqr(y),I))throw new Error("Cannot find square root");return y}}const a=(n+Hs)/b0;return function(l,R){if(l.pow(R,t)===l.neg(l.ONE))throw new Error("Cannot find square root");let I=i,y=l.pow(l.mul(l.ONE,o),n),L=l.pow(R,a),ye=l.pow(R,n);for(;!l.eql(ye,l.ONE);){if(l.eql(ye,l.ZERO))return l.ZERO;let Te=1;for(let Ce=l.sqr(ye);Te<I&&!l.eql(Ce,l.ONE);Te++)Ce=l.sqr(Ce);const Me=l.pow(y,Hs<<BigInt(I-Te-1));y=l.sqr(Me),L=l.mul(L,Me),ye=l.mul(ye,y),I=Te}return L}}(r)}(r),l=Object.freeze({ORDER:r,BITS:o,BYTES:a,MASK:J_(o),ZERO:hc,ONE:Hs,create:R=>_s(R,r),isValid:R=>{if("bigint"!=typeof R)throw new Error("Invalid field element: expected bigint, got "+typeof R);return hc<=R&&R<r},is0:R=>R===hc,isOdd:R=>(R&Hs)===Hs,neg:R=>_s(-R,r),eql:(R,I)=>R===I,sqr:R=>_s(R*R,r),add:(R,I)=>_s(R+I,r),sub:(R,I)=>_s(R-I,r),mul:(R,I)=>_s(R*I,r),pow:(R,I)=>function $x(r,t,n){if(n<hc)throw new Error("Expected power > 0");if(n===hc)return r.ONE;if(n===Hs)return t;let i=r.ONE,o=t;for(;n>hc;)n&Hs&&(i=r.mul(i,o)),o=r.sqr(o),n>>=Hs;return i}(l,R,I),div:(R,I)=>_s(R*Kx(I,r),r),sqrN:R=>R*R,addN:(R,I)=>R+I,subN:(R,I)=>R-I,mulN:(R,I)=>R*I,inv:R=>Kx(R,r),sqrt:i.sqrt||(R=>s(l,R)),invertBatch:R=>function AN(r,t){const n=new Array(t.length),i=t.reduce((a,s,l)=>r.is0(s)?a:(n[l]=a,r.mul(a,s)),r.ONE),o=r.inv(i);return t.reduceRight((a,s,l)=>r.is0(s)?a:(n[l]=r.mul(a,n[l]),r.mul(a,s)),o),n}(l,R),cmov:(R,I,y)=>y?I:R,toBytes:R=>n?X_(R,a):Jf(R,a),fromBytes:R=>{if(R.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${R.length}`);return n?v0(R):zv(R)}});return Object.freeze(l)}function R8(r){if("bigint"!=typeof r)throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function DN(r){const t=R8(r);return t+Math.ceil(t/2)}class CN extends lI{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,function Px(r){if("function"!=typeof r||"function"!=typeof r.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Cx(r.outputLen),Cx(r.blockLen)}(t);const i=G_(n);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,a=new Uint8Array(o);a.set(i.length>o?t.create().update(i).digest():i);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=t.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),a.fill(0)}update(t){return Rx(this),this.iHash.update(t),this}digestInto(t){Rx(this),kx(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:o,destroyed:a,blockLen:s,outputLen:l}=this;return t.finished=o,t.destroyed=a,t.blockLen=s,t.outputLen=l,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const O8=(r,t,n)=>new CN(r,t).update(n).digest();O8.create=(r,t)=>new CN(r,t);const eF=BigInt(0),gI=BigInt(1);function B8(r,t){const n=(o,a)=>{const s=a.negate();return o?s:a},i=o=>({windows:Math.ceil(t/o)+1,windowSize:2**(o-1)});return{constTimeNegate:n,unsafeLadder(o,a){let s=r.ZERO,l=o;for(;a>eF;)a&gI&&(s=s.add(l)),l=l.double(),a>>=gI;return s},precomputeWindow(o,a){const{windows:s,windowSize:l}=i(a),R=[];let I=o,y=I;for(let L=0;L<s;L++){y=I,R.push(y);for(let ye=1;ye<l;ye++)y=y.add(I),R.push(y);I=y.double()}return R},wNAF(o,a,s){const{windows:l,windowSize:R}=i(o);let I=r.ZERO,y=r.BASE;const L=BigInt(2**o-1),ye=2**o,Te=BigInt(o);for(let Me=0;Me<l;Me++){const Ce=Me*R;let je=Number(s&L);s>>=Te,je>R&&(je-=ye,s+=gI);const Je=Ce,ze=Ce+Math.abs(je)-1,rt=je<0;0===je?y=y.add(n(Me%2!=0,a[Je])):I=I.add(n(rt,a[ze]))}return{p:I,f:y}},wNAFCached(o,a,s,l){const R=o._WINDOW_SIZE||1;let I=a.get(o);return I||(I=this.precomputeWindow(o,R),1!==R&&a.set(o,l(I))),this.wNAF(R,I,s)}}}function vI(r){return function MN(r){$y(r,SN.reduce((i,o)=>(i[o]="function",i),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(r.Fp),$y(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Vx(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const{Ph:nF,aT:rF}=j,Hv={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){const{Err:t}=Hv;if(r.length<2||2!==r[0])throw new t("Invalid signature integer tag");const n=r[1],i=r.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:nF(i),l:r.subarray(n+2)}},toSig(r){const{Err:t}=Hv,n="string"==typeof r?rF(r):r;if(!ep(n))throw new Error("ui8a expected");let i=n.length;if(i<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:o,l:a}=Hv._parseInt(n.subarray(2)),{d:s,l}=Hv._parseInt(a);if(l.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(r){const t=I=>8&Number.parseInt(I[0],16)?"00"+I:I,n=I=>{const y=I.toString(16);return 1&y.length?`0${y}`:y},i=t(n(r.s)),o=t(n(r.r)),a=i.length/2,s=o.length/2,l=n(a),R=n(s);return`30${n(s+a+4)}02${R}${o}02${l}${i}`}},tp=BigInt(0),Pa=BigInt(1),bI=(BigInt(2),BigInt(3));function RN(r){const t=function PN(r){const t=vI(r);return $y(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(r),{Fp:n,n:i}=t,o=n.BYTES+1,a=2*n.BYTES+1;function l($t){return _s($t,i)}function R($t){return Kx($t,i)}const{ProjectivePoint:I,normPrivateKeyToScalar:y,weierstrassEquation:L,isWithinCurveOrder:ye}=function iF(r){const t=function tF(r){const t=vI(r);$y(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:o}=t;if(n){if(!i.eql(o,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(r),{Fp:n}=t,i=t.toBytes||((Me,Ce,je)=>{const Je=Ce.toAffine();return Ky(Uint8Array.from([4]),n.toBytes(Je.x),n.toBytes(Je.y))}),o=t.fromBytes||(Me=>{const Ce=Me.subarray(1);return{x:n.fromBytes(Ce.subarray(0,n.BYTES)),y:n.fromBytes(Ce.subarray(n.BYTES,2*n.BYTES))}});function a(Me){const{a:Ce,b:je}=t,Je=n.sqr(Me),ze=n.mul(Je,Me);return n.add(n.add(ze,n.mul(Me,Ce)),je)}if(!n.eql(n.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function s(Me){return"bigint"==typeof Me&&tp<Me&&Me<t.n}function l(Me){if(!s(Me))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function R(Me){const{allowedPrivateKeyLengths:Ce,nByteLength:je,wrapPrivateKey:Je,n:ze}=t;if(Ce&&"bigint"!=typeof Me){if(ep(Me)&&(Me=$v(Me)),"string"!=typeof Me||!Ce.includes(Me.length))throw new Error("Invalid key");Me=Me.padStart(2*je,"0")}let He;try{He="bigint"==typeof Me?Me:zv(Va("private key",Me,je))}catch{throw new Error(`private key must be ${je} bytes, hex or bigint, not ${typeof Me}`)}return Je&&(He=_s(He,ze)),l(He),He}const I=new Map;function y(Me){if(!(Me instanceof L))throw new Error("ProjectivePoint expected")}class L{constructor(Ce,je,Je){if(this.px=Ce,this.py=je,this.pz=Je,null==Ce||!n.isValid(Ce))throw new Error("x required");if(null==je||!n.isValid(je))throw new Error("y required");if(null==Je||!n.isValid(Je))throw new Error("z required")}static fromAffine(Ce){const{x:je,y:Je}=Ce||{};if(!Ce||!n.isValid(je)||!n.isValid(Je))throw new Error("invalid affine point");if(Ce instanceof L)throw new Error("projective point not allowed");const ze=He=>n.eql(He,n.ZERO);return ze(je)&&ze(Je)?L.ZERO:new L(je,Je,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Ce){const je=n.invertBatch(Ce.map(Je=>Je.pz));return Ce.map((Je,ze)=>Je.toAffine(je[ze])).map(L.fromAffine)}static fromHex(Ce){const je=L.fromAffine(o(Va("pointHex",Ce)));return je.assertValidity(),je}static fromPrivateKey(Ce){return L.BASE.multiply(R(Ce))}_setWindowSize(Ce){this._WINDOW_SIZE=Ce,I.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Ce,y:je}=this.toAffine();if(!n.isValid(Ce)||!n.isValid(je))throw new Error("bad point: x or y not FE");const Je=n.sqr(je),ze=a(Ce);if(!n.eql(Je,ze))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Ce}=this.toAffine();if(n.isOdd)return!n.isOdd(Ce);throw new Error("Field doesn't support isOdd")}equals(Ce){y(Ce);const{px:je,py:Je,pz:ze}=this,{px:He,py:rt,pz:yt}=Ce,ct=n.eql(n.mul(je,yt),n.mul(He,ze)),_t=n.eql(n.mul(Je,yt),n.mul(rt,ze));return ct&&_t}negate(){return new L(this.px,n.neg(this.py),this.pz)}double(){const{a:Ce,b:je}=t,Je=n.mul(je,bI),{px:ze,py:He,pz:rt}=this;let yt=n.ZERO,ct=n.ZERO,_t=n.ZERO,It=n.mul(ze,ze),Jt=n.mul(He,He),Qt=n.mul(rt,rt),fn=n.mul(ze,He);return fn=n.add(fn,fn),_t=n.mul(ze,rt),_t=n.add(_t,_t),yt=n.mul(Ce,_t),ct=n.mul(Je,Qt),ct=n.add(yt,ct),yt=n.sub(Jt,ct),ct=n.add(Jt,ct),ct=n.mul(yt,ct),yt=n.mul(fn,yt),_t=n.mul(Je,_t),Qt=n.mul(Ce,Qt),fn=n.sub(It,Qt),fn=n.mul(Ce,fn),fn=n.add(fn,_t),_t=n.add(It,It),It=n.add(_t,It),It=n.add(It,Qt),It=n.mul(It,fn),ct=n.add(ct,It),Qt=n.mul(He,rt),Qt=n.add(Qt,Qt),It=n.mul(Qt,fn),yt=n.sub(yt,It),_t=n.mul(Qt,Jt),_t=n.add(_t,_t),_t=n.add(_t,_t),new L(yt,ct,_t)}add(Ce){y(Ce);const{px:je,py:Je,pz:ze}=this,{px:He,py:rt,pz:yt}=Ce;let ct=n.ZERO,_t=n.ZERO,It=n.ZERO;const Jt=t.a,Qt=n.mul(t.b,bI);let fn=n.mul(je,He),Pn=n.mul(Je,rt),dn=n.mul(ze,yt),Sn=n.add(je,Je),$t=n.add(He,rt);Sn=n.mul(Sn,$t),$t=n.add(fn,Pn),Sn=n.sub(Sn,$t),$t=n.add(je,ze);let Yt=n.add(He,yt);return $t=n.mul($t,Yt),Yt=n.add(fn,dn),$t=n.sub($t,Yt),Yt=n.add(Je,ze),ct=n.add(rt,yt),Yt=n.mul(Yt,ct),ct=n.add(Pn,dn),Yt=n.sub(Yt,ct),It=n.mul(Jt,$t),ct=n.mul(Qt,dn),It=n.add(ct,It),ct=n.sub(Pn,It),It=n.add(Pn,It),_t=n.mul(ct,It),Pn=n.add(fn,fn),Pn=n.add(Pn,fn),dn=n.mul(Jt,dn),$t=n.mul(Qt,$t),Pn=n.add(Pn,dn),dn=n.sub(fn,dn),dn=n.mul(Jt,dn),$t=n.add($t,dn),fn=n.mul(Pn,$t),_t=n.add(_t,fn),fn=n.mul(Yt,$t),ct=n.mul(Sn,ct),ct=n.sub(ct,fn),fn=n.mul(Sn,Pn),It=n.mul(Yt,It),It=n.add(It,fn),new L(ct,_t,It)}subtract(Ce){return this.add(Ce.negate())}is0(){return this.equals(L.ZERO)}wNAF(Ce){return Te.wNAFCached(this,I,Ce,je=>{const Je=n.invertBatch(je.map(ze=>ze.pz));return je.map((ze,He)=>ze.toAffine(Je[He])).map(L.fromAffine)})}multiplyUnsafe(Ce){const je=L.ZERO;if(Ce===tp)return je;if(l(Ce),Ce===Pa)return this;const{endo:Je}=t;if(!Je)return Te.unsafeLadder(this,Ce);let{k1neg:ze,k1:He,k2neg:rt,k2:yt}=Je.splitScalar(Ce),ct=je,_t=je,It=this;for(;He>tp||yt>tp;)He&Pa&&(ct=ct.add(It)),yt&Pa&&(_t=_t.add(It)),It=It.double(),He>>=Pa,yt>>=Pa;return ze&&(ct=ct.negate()),rt&&(_t=_t.negate()),_t=new L(n.mul(_t.px,Je.beta),_t.py,_t.pz),ct.add(_t)}multiply(Ce){l(Ce);let Je,ze,je=Ce;const{endo:He}=t;if(He){const{k1neg:rt,k1:yt,k2neg:ct,k2:_t}=He.splitScalar(je);let{p:It,f:Jt}=this.wNAF(yt),{p:Qt,f:fn}=this.wNAF(_t);It=Te.constTimeNegate(rt,It),Qt=Te.constTimeNegate(ct,Qt),Qt=new L(n.mul(Qt.px,He.beta),Qt.py,Qt.pz),Je=It.add(Qt),ze=Jt.add(fn)}else{const{p:rt,f:yt}=this.wNAF(je);Je=rt,ze=yt}return L.normalizeZ([Je,ze])[0]}multiplyAndAddUnsafe(Ce,je,Je){const ze=L.BASE,He=(yt,ct)=>ct!==tp&&ct!==Pa&&yt.equals(ze)?yt.multiply(ct):yt.multiplyUnsafe(ct),rt=He(this,je).add(He(Ce,Je));return rt.is0()?void 0:rt}toAffine(Ce){const{px:je,py:Je,pz:ze}=this,He=this.is0();null==Ce&&(Ce=He?n.ONE:n.inv(ze));const rt=n.mul(je,Ce),yt=n.mul(Je,Ce),ct=n.mul(ze,Ce);if(He)return{x:n.ZERO,y:n.ZERO};if(!n.eql(ct,n.ONE))throw new Error("invZ was invalid");return{x:rt,y:yt}}isTorsionFree(){const{h:Ce,isTorsionFree:je}=t;if(Ce===Pa)return!0;if(je)return je(L,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Ce,clearCofactor:je}=t;return Ce===Pa?this:je?je(L,this):this.multiplyUnsafe(t.h)}toRawBytes(Ce=!0){return this.assertValidity(),i(L,this,Ce)}toHex(Ce=!0){return $v(this.toRawBytes(Ce))}}L.BASE=new L(t.Gx,t.Gy,n.ONE),L.ZERO=new L(n.ZERO,n.ONE,n.ZERO);const ye=t.nBitLength,Te=B8(L,t.endo?Math.ceil(ye/2):ye);return{CURVE:t,ProjectivePoint:L,normPrivateKeyToScalar:R,weierstrassEquation:a,isWithinCurveOrder:s}}({...t,toBytes($t,Yt,Xt){const yn=Yt.toAffine(),en=n.toBytes(yn.x),En=Ky;return Xt?En(Uint8Array.from([Yt.hasEvenY()?2:3]),en):En(Uint8Array.from([4]),en,n.toBytes(yn.y))},fromBytes($t){const Yt=$t.length,Xt=$t[0],yn=$t.subarray(1);if(Yt!==o||2!==Xt&&3!==Xt){if(Yt===a&&4===Xt)return{x:n.fromBytes(yn.subarray(0,n.BYTES)),y:n.fromBytes(yn.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${Yt} was invalid. Expected ${o} compressed bytes or ${a} uncompressed bytes`)}{const en=zv(yn);if(!function s($t){return tp<$t&&$t<n.ORDER}(en))throw new Error("Point is not on curve");const En=L(en);let Nn=n.sqrt(En);return!(1&~Xt)!=((Nn&Pa)===Pa)&&(Nn=n.neg(Nn)),{x:en,y:Nn}}}}),Te=$t=>$v(Jf($t,t.nByteLength));function Me($t){return $t>i>>Pa}const je=($t,Yt,Xt)=>zv($t.slice(Yt,Xt));class Je{constructor(Yt,Xt,yn){this.r=Yt,this.s=Xt,this.recovery=yn,this.assertValidity()}static fromCompact(Yt){const Xt=t.nByteLength;return Yt=Va("compactSignature",Yt,2*Xt),new Je(je(Yt,0,Xt),je(Yt,Xt,2*Xt))}static fromDER(Yt){const{r:Xt,s:yn}=Hv.toSig(Va("DER",Yt));return new Je(Xt,yn)}assertValidity(){if(!ye(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!ye(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Yt){return new Je(this.r,this.s,Yt)}recoverPublicKey(Yt){const{r:Xt,s:yn,recovery:en}=this,En=_t(Va("msgHash",Yt));if(null==en||![0,1,2,3].includes(en))throw new Error("recovery id invalid");const Nn=2===en||3===en?Xt+t.n:Xt;if(Nn>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Gt=I.fromHex((1&en?"03":"02")+Te(Nn)),Fn=R(Nn),tr=l(-En*Fn),An=l(yn*Fn),hn=I.BASE.multiplyAndAddUnsafe(Gt,tr,An);if(!hn)throw new Error("point at infinify");return hn.assertValidity(),hn}hasHighS(){return Me(this.s)}normalizeS(){return this.hasHighS()?new Je(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Vv(this.toDERHex())}toDERHex(){return Hv.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Vv(this.toCompactHex())}toCompactHex(){return Te(this.r)+Te(this.s)}}const ze={isValidPrivateKey($t){try{return y($t),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const $t=DN(t.n);return function QU(r,t,n=!1){const i=r.length,o=R8(t),a=DN(t);if(i<16||i<a||i>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${i}`);const l=_s(n?zv(r):v0(r),t-Hs)+Hs;return n?X_(l,o):Jf(l,o)}(t.randomBytes($t),t.n)},precompute:($t=8,Yt=I.BASE)=>(Yt._setWindowSize($t),Yt.multiply(BigInt(3)),Yt)};function rt($t){const Yt=ep($t),Xt="string"==typeof $t,yn=(Yt||Xt)&&$t.length;return Yt?yn===o||yn===a:Xt?yn===2*o||yn===2*a:$t instanceof I}const ct=t.bits2int||function($t){const Yt=zv($t),Xt=8*$t.length-t.nBitLength;return Xt>0?Yt>>BigInt(Xt):Yt},_t=t.bits2int_modN||function($t){return l(ct($t))},It=J_(t.nBitLength);function Jt($t){if("bigint"!=typeof $t)throw new Error("bigint expected");if(!(tp<=$t&&$t<It))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Jf($t,t.nByteLength)}const fn={lowS:t.lowS,prehash:!1},Pn={lowS:t.lowS,prehash:!1};return I.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function He($t,Yt=!0){return I.fromPrivateKey($t).toRawBytes(Yt)},getSharedSecret:function yt($t,Yt,Xt=!0){if(rt($t))throw new Error("first arg must be private key");if(!rt(Yt))throw new Error("second arg must be public key");return I.fromHex(Yt).multiply(y($t)).toRawBytes(Xt)},sign:function dn($t,Yt,Xt=fn){const{seed:yn,k2sig:en}=function Qt($t,Yt,Xt=fn){if(["recovered","canonical"].some(Wn=>Wn in Xt))throw new Error("sign() legacy options not supported");const{hash:yn,randomBytes:en}=t;let{lowS:En,prehash:Nn,extraEntropy:Bn}=Xt;null==En&&(En=!0),$t=Va("msgHash",$t),Nn&&($t=Va("prehashed msgHash",yn($t)));const Gt=_t($t),Fn=y(Yt),tr=[Jt(Fn),Jt(Gt)];if(null!=Bn){const Wn=!0===Bn?en(n.BYTES):Bn;tr.push(Va("extraEntropy",Wn))}const An=Ky(...tr),hn=Gt;return{seed:An,k2sig:function Cn(Wn){const lr=ct(Wn);if(!ye(lr))return;const fr=R(lr),nr=I.BASE.multiply(lr).toAffine(),or=l(nr.x);if(or===tp)return;const Wr=l(fr*l(hn+or*Fn));if(Wr===tp)return;let xs=(nr.x===or?0:2)|Number(nr.y&Pa),Gn=Wr;return En&&Me(Wr)&&(Gn=function Ce($t){return Me($t)?l(-$t):$t}(Wr),xs^=1),new Je(or,Gn,xs)}}}($t,Yt,Xt);return T8(t.hash.outputLen,t.nByteLength,t.hmac)(yn,en)},verify:function Sn($t,Yt,Xt,yn=Pn){const en=$t;if(Yt=Va("msgHash",Yt),Xt=Va("publicKey",Xt),"strict"in yn)throw new Error("options.strict was renamed to lowS");const{lowS:En,prehash:Nn}=yn;let Bn,Gt;try{if("string"==typeof en||ep(en))try{Bn=Je.fromDER(en)}catch(nr){if(!(nr instanceof Hv.Err))throw nr;Bn=Je.fromCompact(en)}else{if("object"!=typeof en||"bigint"!=typeof en.r||"bigint"!=typeof en.s)throw new Error("PARSE");{const{r:nr,s:or}=en;Bn=new Je(nr,or)}}Gt=I.fromHex(Xt)}catch(nr){if("PARSE"===nr.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(En&&Bn.hasHighS())return!1;Nn&&(Yt=t.hash(Yt));const{r:Fn,s:tr}=Bn,An=_t(Yt),hn=R(tr),Cn=l(An*hn),Wn=l(Fn*hn),lr=I.BASE.multiplyAndAddUnsafe(Gt,Cn,Wn)?.toAffine();return!!lr&&l(lr.x)===Fn},ProjectivePoint:I,Signature:Je,utils:ze}}function BN(r){return{hash:r,hmac:(t,...n)=>O8(r,t,cI(...n)),randomBytes:Nx}}function N8(r,t){const n=i=>RN({...r,...BN(i)});return Object.freeze({...n(t),create:n})}BigInt(4);const Q_=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),zx=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),L8=BigInt(1),wI=BigInt(2),c=(r,t)=>(r+t/wI)/t;const b=P8(Q_,void 0,void 0,{sqrt:function f(r){const t=Q_,n=BigInt(3),i=BigInt(6),o=BigInt(11),a=BigInt(22),s=BigInt(23),l=BigInt(44),R=BigInt(88),I=r*r*r%t,y=I*I*r%t,L=ka(y,n,t)*y%t,ye=ka(L,n,t)*y%t,Te=ka(ye,wI,t)*I%t,Me=ka(Te,o,t)*Te%t,Ce=ka(Me,a,t)*Me%t,je=ka(Ce,l,t)*Ce%t,Je=ka(je,R,t)*je%t,ze=ka(Je,l,t)*Ce%t,He=ka(ze,n,t)*y%t,rt=ka(He,s,t)*Me%t,yt=ka(rt,i,t)*I%t,ct=ka(yt,wI,t);if(!b.eql(b.sqr(ct),r))throw new Error("Cannot find square root");return ct}}),k=N8({a:BigInt(0),b:BigInt(7),Fp:b,n:zx,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const t=zx,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-L8*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,s=BigInt("0x100000000000000000000000000000000"),l=c(a*r,t),R=c(-i*r,t);let I=_s(r-l*n-R*o,t),y=_s(-l*i-R*a,t);const L=I>s,ye=y>s;if(L&&(I=t-I),ye&&(y=t-y),I>s||y>s)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:L,k1:I,k2neg:ye,k2:y}}}},jy);BigInt(0);const aF="urn:jwk:";function Ws({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}Vp(n);const i=function hV(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const o=Object.keys(i).sort(),a={};for(const s of o)a[s]=t(i[s]);return a}return i},n=t(r);return JSON.stringify(n)}(n),o=on.string(i).toUint8Array(),a=yield dI.digest({data:o});return on.uint8Array(a).toBase64Url()})}function t1(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function LN(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function n1(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function UN(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}var Vd=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class za{static adjustSignatureToLowS({signature:t}){return Vd(this,void 0,void 0,function*(){const n=k.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Vd(this,void 0,void 0,function*(){const n=yield za.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:on.uint8Array(t).toBase64Url(),x:on.uint8Array(n.x).toBase64Url(),y:on.uint8Array(n.y).toBase64Url()};return i.kid=yield Ws({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Vd(this,void 0,void 0,function*(){const n=yield za.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:on.uint8Array(n.x).toBase64Url(),y:on.uint8Array(n.y).toBase64Url()};return i.kid=yield Ws({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Vd(this,void 0,void 0,function*(){return k.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Vd(this,void 0,void 0,function*(){const n=yield za.privateKeyToBytes({privateKey:t}),i=yield za.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"secp256k1",x:on.uint8Array(i.x).toBase64Url(),y:on.uint8Array(i.y).toBase64Url()};return o.kid=yield Ws({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return Vd(this,void 0,void 0,function*(){return k.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Vd(this,void 0,void 0,function*(){return k.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Vd(this,void 0,void 0,function*(){const t=k.utils.randomPrivateKey(),n=yield za.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Ws({jwk:n}),n})}static getPublicKey({key:t}){var n;return Vd(this,void 0,void 0,function*(){if(!t1(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield Ws({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Vd(this,void 0,void 0,function*(){if(!t1(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return on.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Vd(this,void 0,void 0,function*(){if(!LN(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=on.base64Url(t.x).toUint8Array(),o=on.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Vd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield za.privateKeyToBytes({privateKey:t}),o=yield za.publicKeyToBytes({publicKey:n});return k.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return Vd(this,void 0,void 0,function*(){const i=yield za.privateKeyToBytes({privateKey:n}),o=jy(t);return k.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Vd(this,void 0,void 0,function*(){return k.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Vd(this,void 0,void 0,function*(){try{k.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Vd(this,void 0,void 0,function*(){const o=yield za.publicKeyToBytes({publicKey:t}),a=jy(i);return k.verify(n,a,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Vd(this,void 0,void 0,function*(){32===t.byteLength&&(t=k.getPublicKey(t));const n=k.ProjectivePoint.fromHex(t);return{x:Jf(n.x,32),y:Jf(n.y,32)}})}}const cF=P8(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),np=N8({a:cF.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:cF,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},jy);var zd=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class pc{static adjustSignatureToLowS({signature:t}){return zd(this,void 0,void 0,function*(){const n=np.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return zd(this,void 0,void 0,function*(){const n=yield pc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:on.uint8Array(t).toBase64Url(),x:on.uint8Array(n.x).toBase64Url(),y:on.uint8Array(n.y).toBase64Url()};return i.kid=yield Ws({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return zd(this,void 0,void 0,function*(){const n=yield pc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:on.uint8Array(n.x).toBase64Url(),y:on.uint8Array(n.y).toBase64Url()};return i.kid=yield Ws({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return zd(this,void 0,void 0,function*(){return np.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return zd(this,void 0,void 0,function*(){const n=yield pc.privateKeyToBytes({privateKey:t}),i=yield pc.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"P-256",x:on.uint8Array(i.x).toBase64Url(),y:on.uint8Array(i.y).toBase64Url()};return o.kid=yield Ws({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return zd(this,void 0,void 0,function*(){return np.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return zd(this,void 0,void 0,function*(){return np.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return zd(this,void 0,void 0,function*(){const t=np.utils.randomPrivateKey(),n=yield pc.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Ws({jwk:n}),n})}static getPublicKey({key:t}){var n;return zd(this,void 0,void 0,function*(){if(!t1(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield Ws({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return zd(this,void 0,void 0,function*(){if(!t1(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return on.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return zd(this,void 0,void 0,function*(){if(!LN(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=on.base64Url(t.x).toUint8Array(),o=on.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return zd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield pc.privateKeyToBytes({privateKey:t}),o=yield pc.publicKeyToBytes({publicKey:n});return np.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return zd(this,void 0,void 0,function*(){const i=yield pc.privateKeyToBytes({privateKey:n}),o=jy(t);return np.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return zd(this,void 0,void 0,function*(){return np.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return zd(this,void 0,void 0,function*(){try{np.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return zd(this,void 0,void 0,function*(){const o=yield pc.publicKeyToBytes({publicKey:t}),a=jy(i);return np.verify(n,a,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return zd(this,void 0,void 0,function*(){32===t.byteLength&&(t=np.getPublicKey(t));const n=np.ProjectivePoint.fromHex(t);return{x:Jf(n.x,32),y:Jf(n.y,32)}})}}var _I=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class lF extends Ux{computePublicKey({key:t}){return _I(this,void 0,void 0,function*(){if(!t1(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield za.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield pc.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return _I(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield za.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield pc.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return _I(this,void 0,void 0,function*(){if(!t1(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield za.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield pc.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return _I(this,void 0,void 0,function*(){if(!t1(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield za.sign({key:t,data:n});case"P-256":return yield pc.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return _I(this,void 0,void 0,function*(){if(!LN(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield za.verify({key:t,signature:n,data:i});case"P-256":return yield pc.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}const U8=BigInt(2**32-1),FN=BigInt(32);function dF(r,t=!1){return t?{h:Number(r&U8),l:Number(r>>FN&U8)}:{h:0|Number(r>>FN&U8),l:0|Number(r&U8)}}const bo_split=function wV(r,t=!1){let n=new Uint32Array(r.length),i=new Uint32Array(r.length);for(let o=0;o<r.length;o++){const{h:a,l:s}=dF(r[o],t);[n[o],i[o]]=[a,s]}return[n,i]},bo_shrSH=(r,t,n)=>r>>>n,bo_shrSL=(r,t,n)=>r<<32-n|t>>>n,bo_rotrSH=(r,t,n)=>r>>>n|t<<32-n,bo_rotrSL=(r,t,n)=>r<<32-n|t>>>n,bo_rotrBH=(r,t,n)=>r<<64-n|t>>>n-32,bo_rotrBL=(r,t,n)=>r>>>n-32|t<<64-n,bo_add=function OV(r,t,n,i){const o=(t>>>0)+(i>>>0);return{h:r+n+(o/2**32|0)|0,l:0|o}},bo_add3L=(r,t,n)=>(r>>>0)+(t>>>0)+(n>>>0),bo_add3H=(r,t,n,i)=>t+n+i+(r/2**32|0)|0,bo_add4L=(r,t,n,i)=>(r>>>0)+(t>>>0)+(n>>>0)+(i>>>0),bo_add4H=(r,t,n,i,o)=>t+n+i+o+(r/2**32|0)|0,bo_add5H=(r,t,n,i,o,a)=>t+n+i+o+a+(r/2**32|0)|0,bo_add5L=(r,t,n,i,o)=>(r>>>0)+(t>>>0)+(n>>>0)+(i>>>0)+(o>>>0),[BV,NV]=bo_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Wv=new Uint32Array(80),Gv=new Uint32Array(80);class F8 extends Z_{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:i,Bl:o,Ch:a,Cl:s,Dh:l,Dl:R,Eh:I,El:y,Fh:L,Fl:ye,Gh:Te,Gl:Me,Hh:Ce,Hl:je}=this;return[t,n,i,o,a,s,l,R,I,y,L,ye,Te,Me,Ce,je]}set(t,n,i,o,a,s,l,R,I,y,L,ye,Te,Me,Ce,je){this.Ah=0|t,this.Al=0|n,this.Bh=0|i,this.Bl=0|o,this.Ch=0|a,this.Cl=0|s,this.Dh=0|l,this.Dl=0|R,this.Eh=0|I,this.El=0|y,this.Fh=0|L,this.Fl=0|ye,this.Gh=0|Te,this.Gl=0|Me,this.Hh=0|Ce,this.Hl=0|je}process(t,n){for(let He=0;He<16;He++,n+=4)Wv[He]=t.getUint32(n),Gv[He]=t.getUint32(n+=4);for(let He=16;He<80;He++){const rt=0|Wv[He-15],yt=0|Gv[He-15],ct=bo_rotrSH(rt,yt,1)^bo_rotrSH(rt,yt,8)^bo_shrSH(rt,yt,7),_t=bo_rotrSL(rt,yt,1)^bo_rotrSL(rt,yt,8)^bo_shrSL(rt,yt,7),It=0|Wv[He-2],Jt=0|Gv[He-2],Qt=bo_rotrSH(It,Jt,19)^bo_rotrBH(It,Jt,61)^bo_shrSH(It,Jt,6),fn=bo_rotrSL(It,Jt,19)^bo_rotrBL(It,Jt,61)^bo_shrSL(It,Jt,6),Pn=bo_add4L(_t,fn,Gv[He-7],Gv[He-16]),dn=bo_add4H(Pn,ct,Qt,Wv[He-7],Wv[He-16]);Wv[He]=0|dn,Gv[He]=0|Pn}let{Ah:i,Al:o,Bh:a,Bl:s,Ch:l,Cl:R,Dh:I,Dl:y,Eh:L,El:ye,Fh:Te,Fl:Me,Gh:Ce,Gl:je,Hh:Je,Hl:ze}=this;for(let He=0;He<80;He++){const rt=bo_rotrSH(L,ye,14)^bo_rotrSH(L,ye,18)^bo_rotrBH(L,ye,41),yt=bo_rotrSL(L,ye,14)^bo_rotrSL(L,ye,18)^bo_rotrBL(L,ye,41),ct=L&Te^~L&Ce,It=bo_add5L(ze,yt,ye&Me^~ye&je,NV[He],Gv[He]),Jt=bo_add5H(It,Je,rt,ct,BV[He],Wv[He]),Qt=0|It,fn=bo_rotrSH(i,o,28)^bo_rotrBH(i,o,34)^bo_rotrBH(i,o,39),Pn=bo_rotrSL(i,o,28)^bo_rotrBL(i,o,34)^bo_rotrBL(i,o,39),dn=i&a^i&l^a&l,Sn=o&s^o&R^s&R;Je=0|Ce,ze=0|je,Ce=0|Te,je=0|Me,Te=0|L,Me=0|ye,({h:L,l:ye}=bo_add(0|I,0|y,0|Jt,0|Qt)),I=0|l,y=0|R,l=0|a,R=0|s,a=0|i,s=0|o;const $t=bo_add3L(Qt,Pn,Sn);i=bo_add3H($t,Jt,fn,dn),o=0|$t}({h:i,l:o}=bo_add(0|this.Ah,0|this.Al,0|i,0|o)),({h:a,l:s}=bo_add(0|this.Bh,0|this.Bl,0|a,0|s)),({h:l,l:R}=bo_add(0|this.Ch,0|this.Cl,0|l,0|R)),({h:I,l:y}=bo_add(0|this.Dh,0|this.Dl,0|I,0|y)),({h:L,l:ye}=bo_add(0|this.Eh,0|this.El,0|L,0|ye)),({h:Te,l:Me}=bo_add(0|this.Fh,0|this.Fl,0|Te,0|Me)),({h:Ce,l:je}=bo_add(0|this.Gh,0|this.Gl,0|Ce,0|je)),({h:Je,l:ze}=bo_add(0|this.Hh,0|this.Hl,0|Je,0|ze)),this.set(i,o,a,s,l,R,I,y,L,ye,Te,Me,Ce,je,Je,ze)}roundClean(){Wv.fill(0),Gv.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const uF=E8(()=>new F8),Wp=BigInt(0),qf=BigInt(1),j8=BigInt(2),LV=BigInt(8),UV={zip215:!0};function jN(r){const t=function FV(r){const t=vI(r);return $y(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(r),{Fp:n,n:i,prehash:o,hash:a,randomBytes:s,nByteLength:l,h:R}=t,I=j8<<BigInt(8*l)-qf,y=n.create,L=t.uvRatio||((yn,en)=>{try{return{isValid:!0,value:n.sqrt(yn*n.inv(en))}}catch{return{isValid:!1,value:Wp}}}),ye=t.adjustScalarBytes||(yn=>yn),Te=t.domain||((yn,en,En)=>{if(en.length||En)throw new Error("Contexts/pre-hash are not supported");return yn}),Me=yn=>"bigint"==typeof yn&&Wp<yn,Ce=(yn,en)=>Me(yn)&&Me(en)&&yn<en,je=yn=>yn===Wp||Ce(yn,I);function Je(yn,en){if(Ce(yn,en))return yn;throw new Error(`Expected valid scalar < ${en}, got ${typeof yn} ${yn}`)}function ze(yn){return yn===Wp?yn:Je(yn,i)}const He=new Map;function rt(yn){if(!(yn instanceof yt))throw new Error("ExtendedPoint expected")}class yt{constructor(en,En,Nn,Bn){if(this.ex=en,this.ey=En,this.ez=Nn,this.et=Bn,!je(en))throw new Error("x required");if(!je(En))throw new Error("y required");if(!je(Nn))throw new Error("z required");if(!je(Bn))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(en){if(en instanceof yt)throw new Error("extended point not allowed");const{x:En,y:Nn}=en||{};if(!je(En)||!je(Nn))throw new Error("invalid affine point");return new yt(En,Nn,qf,y(En*Nn))}static normalizeZ(en){const En=n.invertBatch(en.map(Nn=>Nn.ez));return en.map((Nn,Bn)=>Nn.toAffine(En[Bn])).map(yt.fromAffine)}_setWindowSize(en){this._WINDOW_SIZE=en,He.delete(this)}assertValidity(){const{a:en,d:En}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:Nn,ey:Bn,ez:Gt,et:Fn}=this,tr=y(Nn*Nn),An=y(Bn*Bn),hn=y(Gt*Gt),Cn=y(hn*hn),Wn=y(tr*en);if(y(hn*y(Wn+An))!==y(Cn+y(En*y(tr*An))))throw new Error("bad point: equation left != right (1)");if(y(Nn*Bn)!==y(Gt*Fn))throw new Error("bad point: equation left != right (2)")}equals(en){rt(en);const{ex:En,ey:Nn,ez:Bn}=this,{ex:Gt,ey:Fn,ez:tr}=en,An=y(En*tr),hn=y(Gt*Bn),Cn=y(Nn*tr),Wn=y(Fn*Bn);return An===hn&&Cn===Wn}is0(){return this.equals(yt.ZERO)}negate(){return new yt(y(-this.ex),this.ey,this.ez,y(-this.et))}double(){const{a:en}=t,{ex:En,ey:Nn,ez:Bn}=this,Gt=y(En*En),Fn=y(Nn*Nn),tr=y(j8*y(Bn*Bn)),An=y(en*Gt),hn=En+Nn,Cn=y(y(hn*hn)-Gt-Fn),Wn=An+Fn,lr=Wn-tr,fr=An-Fn,nr=y(Cn*lr),or=y(Wn*fr),Wr=y(Cn*fr),xs=y(lr*Wn);return new yt(nr,or,xs,Wr)}add(en){rt(en);const{a:En,d:Nn}=t,{ex:Bn,ey:Gt,ez:Fn,et:tr}=this,{ex:An,ey:hn,ez:Cn,et:Wn}=en;if(En===BigInt(-1)){const Mo=y((Gt-Bn)*(hn+An)),Ao=y((Gt+Bn)*(hn-An)),Ss=y(Ao-Mo);if(Ss===Wp)return this.double();const ko=y(Fn*j8*Wn),oi=y(tr*j8*Cn),Po=oi+ko,_d=Ao+Mo,yc=oi-ko,Hc=y(Po*Ss),wX=y(_d*yc),B1=y(Po*yc),_X=y(Ss*_d);return new yt(Hc,wX,_X,B1)}const lr=y(Bn*An),fr=y(Gt*hn),nr=y(tr*Nn*Wn),or=y(Fn*Cn),Wr=y((Bn+Gt)*(An+hn)-lr-fr),xs=or-nr,Gn=or+nr,li=y(fr-En*lr),di=y(Wr*xs),Jr=y(Gn*li),is=y(Wr*li),wd=y(xs*Gn);return new yt(di,Jr,wd,is)}subtract(en){return this.add(en.negate())}wNAF(en){return It.wNAFCached(this,He,en,yt.normalizeZ)}multiply(en){const{p:En,f:Nn}=this.wNAF(Je(en,i));return yt.normalizeZ([En,Nn])[0]}multiplyUnsafe(en){let En=ze(en);return En===Wp?_t:this.equals(_t)||En===qf?this:this.equals(ct)?this.wNAF(En).p:It.unsafeLadder(this,En)}isSmallOrder(){return this.multiplyUnsafe(R).is0()}isTorsionFree(){return It.unsafeLadder(this,i).is0()}toAffine(en){const{ex:En,ey:Nn,ez:Bn}=this,Gt=this.is0();null==en&&(en=Gt?LV:n.inv(Bn));const Fn=y(En*en),tr=y(Nn*en),An=y(Bn*en);if(Gt)return{x:Wp,y:qf};if(An!==qf)throw new Error("invZ was invalid");return{x:Fn,y:tr}}clearCofactor(){const{h:en}=t;return en===qf?this:this.multiplyUnsafe(en)}static fromHex(en,En=!1){const{d:Nn,a:Bn}=t,Gt=n.BYTES,Fn=(en=Va("pointHex",en,Gt)).slice(),tr=en[Gt-1];Fn[Gt-1]=-129&tr;const An=v0(Fn);An===Wp||Je(An,En?I:n.ORDER);const hn=y(An*An),Cn=y(hn-qf),Wn=y(Nn*hn-Bn);let{isValid:lr,value:fr}=L(Cn,Wn);if(!lr)throw new Error("Point.fromHex: invalid y coordinate");const nr=(fr&qf)===qf,or=!!(128&tr);if(!En&&fr===Wp&&or)throw new Error("Point.fromHex: x=0 and x_0=1");return or!==nr&&(fr=y(-fr)),yt.fromAffine({x:fr,y:An})}static fromPrivateKey(en){return fn(en).point}toRawBytes(){const{x:en,y:En}=this.toAffine(),Nn=X_(En,n.BYTES);return Nn[Nn.length-1]|=en&qf?128:0,Nn}toHex(){return $v(this.toRawBytes())}}yt.BASE=new yt(t.Gx,t.Gy,qf,y(t.Gx*t.Gy)),yt.ZERO=new yt(Wp,qf,qf,Wp);const{BASE:ct,ZERO:_t}=yt,It=B8(yt,8*l);function Jt(yn){return _s(yn,i)}function Qt(yn){return Jt(v0(yn))}function fn(yn){const en=l;yn=Va("private key",yn,en);const En=Va("hashed private key",a(yn),2*en),Nn=ye(En.slice(0,en)),Bn=En.slice(en,2*en),Gt=Qt(Nn),Fn=ct.multiply(Gt),tr=Fn.toRawBytes();return{head:Nn,prefix:Bn,scalar:Gt,point:Fn,pointBytes:tr}}function dn(yn=new Uint8Array,...en){const En=Ky(...en);return Qt(a(Te(En,Va("context",yn),!!o)))}const $t=UV;return ct._setWindowSize(8),{CURVE:t,getPublicKey:function Pn(yn){return fn(yn).pointBytes},sign:function Sn(yn,en,En={}){yn=Va("message",yn),o&&(yn=o(yn));const{prefix:Nn,scalar:Bn,pointBytes:Gt}=fn(en),Fn=dn(En.context,Nn,yn),tr=ct.multiply(Fn).toRawBytes(),hn=Jt(Fn+dn(En.context,tr,Gt,yn)*Bn);return ze(hn),Va("result",Ky(tr,X_(hn,n.BYTES)),2*l)},verify:function Yt(yn,en,En,Nn=$t){const{context:Bn,zip215:Gt}=Nn,Fn=n.BYTES;yn=Va("signature",yn,2*Fn),en=Va("message",en),o&&(en=o(en));const tr=v0(yn.slice(Fn,2*Fn));let An,hn,Cn;try{An=yt.fromHex(En,Gt),hn=yt.fromHex(yn.slice(0,Fn),Gt),Cn=ct.multiplyUnsafe(tr)}catch{return!1}if(!Gt&&An.isSmallOrder())return!1;const Wn=dn(Bn,hn.toRawBytes(),An.toRawBytes(),en);return hn.add(An.multiplyUnsafe(Wn)).subtract(Cn).clearCofactor().equals(yt.ZERO)},ExtendedPoint:yt,utils:{getExtendedPublicKey:fn,randomPrivateKey:()=>s(n.BYTES),precompute:(yn=8,en=yt.BASE)=>(en._setWindowSize(yn),en.multiply(BigInt(3)),en)}}}const EI=BigInt(0),KN=BigInt(1),xI=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),fF=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),w0=(BigInt(0),BigInt(1)),K8=BigInt(2),VV=BigInt(5),hF=BigInt(10),zV=BigInt(20),HV=BigInt(40),pF=BigInt(80);function mF(r){const t=xI,i=r*r%t*r%t,o=ka(i,K8,t)*i%t,a=ka(o,w0,t)*r%t,s=ka(a,VV,t)*a%t,l=ka(s,hF,t)*s%t,R=ka(l,zV,t)*l%t,I=ka(R,HV,t)*R%t,y=ka(I,pF,t)*I%t,L=ka(y,pF,t)*I%t,ye=ka(L,hF,t)*s%t;return{pow_p_5_8:ka(ye,K8,t)*r%t,b2:i}}function yF(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const Vr=P8(xI,void 0,!0),SI={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Vr,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:uF,randomBytes:Nx,adjustScalarBytes:yF,uvRatio:function $N(r,t){const n=xI,i=_s(t*t*t,n),o=_s(i*i*t,n);let s=_s(r*i*mF(r*o).pow_p_5_8,n);const l=_s(t*s*s,n),R=s,I=_s(s*fF,n),y=l===r,L=l===_s(-r,n),ye=l===_s(-r*fF,n);return y&&(s=R),(L||ye)&&(s=I),((r,t)=>(_s(r,t)&Hs)===Hs)(s,n)&&(s=_s(-s,n)),{isValid:y||L,value:s}}},ll=jN(SI);const MI=function KV(r){const t=function jV(r){return $y(r,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...r})}(r),{P:n}=t,i=He=>_s(He,n),o=t.montgomeryBits,a=Math.ceil(o/8),s=t.nByteLength,l=t.adjustScalarBytes||(He=>He),R=t.powPminus2||(He=>mI(He,n-BigInt(2),n));function I(He,rt,yt){const ct=i(He*(rt-yt));return[rt=i(rt-ct),yt=i(yt+ct)]}function y(He){if("bigint"==typeof He&&EI<=He&&He<n)return He;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const L=(t.a-BigInt(2))/BigInt(4);function Te(He){return X_(i(He),a)}function je(He,rt){const yt=function Me(He){const rt=Va("u coordinate",He,a);return 32===s&&(rt[31]&=127),v0(rt)}(rt),ct=function Ce(He){const rt=Va("scalar",He),yt=rt.length;if(yt!==a&&yt!==s)throw new Error(`Expected ${a} or ${s} bytes, got ${yt}`);return v0(l(rt))}(He),_t=function ye(He,rt){const yt=y(He),ct=y(rt),_t=yt;let dn,It=KN,Jt=EI,Qt=yt,fn=KN,Pn=EI;for(let $t=BigInt(o-1);$t>=EI;$t--){const Yt=ct>>$t&KN;Pn^=Yt,dn=I(Pn,It,Qt),It=dn[0],Qt=dn[1],dn=I(Pn,Jt,fn),Jt=dn[0],fn=dn[1],Pn=Yt;const Xt=It+Jt,yn=i(Xt*Xt),en=It-Jt,En=i(en*en),Nn=yn-En,Bn=Qt+fn,Fn=i((Qt-fn)*Xt),tr=i(Bn*en),An=Fn+tr,hn=Fn-tr;Qt=i(An*An),fn=i(_t*i(hn*hn)),It=i(yn*En),Jt=i(Nn*(yn+i(L*Nn)))}dn=I(Pn,It,Qt),It=dn[0],Qt=dn[1],dn=I(Pn,Jt,fn),Jt=dn[0],fn=dn[1];const Sn=R(Jt);return i(It*Sn)}(yt,ct);if(_t===EI)throw new Error("Invalid private or public key received");return Te(_t)}const Je=Te(t.Gu);function ze(He){return je(He,Je)}return{scalarMult:je,scalarMultBase:ze,getSharedSecret:(He,rt)=>je(He,rt),getPublicKey:He=>ze(He),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:Je}}({P:xI,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:r=>{const t=xI,{pow_p_5_8:n,b2:i}=mF(r);return _s(ka(n,BigInt(3),t)*i,t)},adjustScalarBytes:yF,randomBytes:Nx}),ZV=(Vr.ORDER+BigInt(3))/BigInt(8);Vr.pow(K8,ZV),Vr.sqrt(Vr.neg(Vr.ONE)),BigInt(5),BigInt(8),BigInt(486662),function IN(r,t){if(!r.isOdd)throw new Error("Field doesn't have isOdd");const n=r.sqrt(t);r.isOdd(n)&&r.neg(n)}(Vr,Vr.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var ip=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class mc{static bytesToPrivateKey({privateKeyBytes:t}){return ip(this,void 0,void 0,function*(){const n=ll.getPublicKey(t),i={crv:"Ed25519",d:on.uint8Array(t).toBase64Url(),kty:"OKP",x:on.uint8Array(n).toBase64Url()};return i.kid=yield Ws({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return ip(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:on.uint8Array(t).toBase64Url()};return n.kid=yield Ws({jwk:n}),n})}static computePublicKey({key:t}){return ip(this,void 0,void 0,function*(){const n=yield mc.privateKeyToBytes({privateKey:t}),i=ll.getPublicKey(n),o={kty:"OKP",crv:"Ed25519",x:on.uint8Array(i).toBase64Url()};return o.kid=yield Ws({jwk:o}),o})}static convertPrivateKeyToX25519({privateKey:t}){return ip(this,void 0,void 0,function*(){const i=function GV(r){const t=SI.hash(r.subarray(0,32));return SI.adjustScalarBytes(t).subarray(0,32)}(yield mc.privateKeyToBytes({privateKey:t})),o=MI.getPublicKey(i),a={kty:"OKP",crv:"X25519",d:on.uint8Array(i).toBase64Url(),x:on.uint8Array(o).toBase64Url()};return a.kid=yield Ws({jwk:a}),a})}static convertPublicKeyToX25519({publicKey:t}){return ip(this,void 0,void 0,function*(){const n=yield mc.publicKeyToBytes({publicKey:t});if(!(yield mc.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const o=function WV(r){const{y:t}=ll.ExtendedPoint.fromHex(r),n=BigInt(1);return Vr.toBytes(Vr.create((n+t)*Vr.inv(n-t)))}(n),a={kty:"OKP",crv:"X25519",x:on.uint8Array(o).toBase64Url()};return a.kid=yield Ws({jwk:a}),a})}static generateKey(){return ip(this,void 0,void 0,function*(){const t=ll.utils.randomPrivateKey(),n=yield mc.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Ws({jwk:n}),n})}static getPublicKey({key:t}){var n;return ip(this,void 0,void 0,function*(){if(!n1(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield Ws({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return ip(this,void 0,void 0,function*(){if(!n1(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return on.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return ip(this,void 0,void 0,function*(){if(!UN(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return on.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return ip(this,void 0,void 0,function*(){const i=yield mc.privateKeyToBytes({privateKey:t});return ll.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return ip(this,void 0,void 0,function*(){try{ll.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return ip(this,void 0,void 0,function*(){const o=yield mc.publicKeyToBytes({publicKey:t});return ll.verify(n,i,o)})}}var AI=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},zy=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};const WN={Ed25519:{implementation:class oz extends Ux{computePublicKey({key:t}){return AI(this,void 0,void 0,function*(){if(!n1(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield mc.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return AI(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield mc.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return AI(this,void 0,void 0,function*(){if(!n1(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield mc.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return AI(this,void 0,void 0,function*(){if(!n1(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield mc.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return AI(this,void 0,void 0,function*(){if(!UN(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield mc.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:lF,names:["ES256K","secp256k1"]},secp256r1:{implementation:lF,names:["ES256","secp256r1"]},"SHA-256":{implementation:class Fx extends Ux{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield dI.digest({data:n})})}},names:["SHA-256"]}};class r1{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new Dx}digest({algorithm:t,data:n}){return zy(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return zy(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return zy(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const o=`${aF}${i.kid}`;return yield this._keyStore.set(o,i),o})}getKeyUri({key:t}){return zy(this,void 0,void 0,function*(){const n=yield Ws({jwk:t});return`${aF}${n}`})}getPublicKey({keyUri:t}){return zy(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return zy(this,void 0,void 0,function*(){if(!function mV(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield Ws({jwk:i}));const o=yield this.getKeyUri({key:i});return yield this._keyStore.set(o,i),o})}sign({keyUri:t,data:n}){return zy(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:o}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return zy(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=WN[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const o in WN){const a=WN[o];if(n&&a.names.includes(n))return o;if(i&&a.names.includes(i))return o}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return zy(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}function sz(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}"object"==typeof globalThis&&"crypto"in globalThis&&globalThis;const Zv=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));function $8(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function ZN(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}function YN(r){if("string"==typeof r)r=ZN(r);else{if(!$8(r))throw new Error("expected Uint8Array, got "+typeof r);r=r.slice()}return r}function TI(r,t){if(!$8(r))throw new Error("Uint8Array expected");if("number"==typeof t&&r.length!==t)throw new Error(`Uint8Array length ${t} expected`)}function V8(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const o=BigInt(32),a=BigInt(4294967295),s=Number(n>>o&a),l=Number(n&a),I=i?0:4;r.setUint32(t+(i?4:0),s,i),r.setUint32(t+I,l,i)}function Hx(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`wrong positive integer: ${r}`)}function XN(r){if("boolean"!=typeof r)throw new Error(`boolean expected, not ${r}`)}function Wx(r,...t){if(!function mz(r){return null!=r&&"object"==typeof r&&(r instanceof Uint8Array||"Uint8Array"===r.constructor.name)}(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function JN(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}var Yv=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class s1{static bytesToPrivateKey({privateKeyBytes:t}){return Yv(this,void 0,void 0,function*(){const n=MI.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:on.uint8Array(t).toBase64Url(),x:on.uint8Array(n).toBase64Url()};return i.kid=yield Ws({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Yv(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:on.uint8Array(t).toBase64Url()};return n.kid=yield Ws({jwk:n}),n})}static computePublicKey({key:t}){return Yv(this,void 0,void 0,function*(){const n=yield s1.privateKeyToBytes({privateKey:t}),i=MI.getPublicKey(n),o={kty:"OKP",crv:"X25519",x:on.uint8Array(i).toBase64Url()};return o.kid=yield Ws({jwk:o}),o})}static generateKey(){return Yv(this,void 0,void 0,function*(){const t=MI.utils.randomPrivateKey(),n=yield s1.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Ws({jwk:n}),n})}static getPublicKey({key:t}){var n;return Yv(this,void 0,void 0,function*(){if(!n1(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield Ws({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Yv(this,void 0,void 0,function*(){if(!n1(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return on.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Yv(this,void 0,void 0,function*(){if(!UN(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return on.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Yv(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield s1.privateKeyToBytes({privateKey:t}),o=yield s1.publicKeyToBytes({publicKey:n});return MI.getSharedSecret(i,o)})}}const Hd=(r,t)=>255&r[t++]|(255&r[t++])<<8;class xz{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,TI(t=YN(t),32);const n=Hd(t,0),i=Hd(t,2),o=Hd(t,4),a=Hd(t,6),s=Hd(t,8),l=Hd(t,10),R=Hd(t,12),I=Hd(t,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|i<<3),this.r[2]=7939&(i>>>10|o<<6),this.r[3]=8191&(o>>>7|a<<9),this.r[4]=255&(a>>>4|s<<12),this.r[5]=s>>>1&8190,this.r[6]=8191&(s>>>14|l<<2),this.r[7]=8065&(l>>>11|R<<5),this.r[8]=8191&(R>>>8|I<<8),this.r[9]=I>>>5&127;for(let y=0;y<8;y++)this.pad[y]=Hd(t,16+2*y)}process(t,n,i=!1){const o=i?0:2048,{h:a,r:s}=this,l=s[0],R=s[1],I=s[2],y=s[3],L=s[4],ye=s[5],Te=s[6],Me=s[7],Ce=s[8],je=s[9],Je=Hd(t,n+0),ze=Hd(t,n+2),He=Hd(t,n+4),rt=Hd(t,n+6),yt=Hd(t,n+8),ct=Hd(t,n+10),_t=Hd(t,n+12),It=Hd(t,n+14);let Jt=a[0]+(8191&Je),Qt=a[1]+(8191&(Je>>>13|ze<<3)),fn=a[2]+(8191&(ze>>>10|He<<6)),Pn=a[3]+(8191&(He>>>7|rt<<9)),dn=a[4]+(8191&(rt>>>4|yt<<12)),Sn=a[5]+(yt>>>1&8191),$t=a[6]+(8191&(yt>>>14|ct<<2)),Yt=a[7]+(8191&(ct>>>11|_t<<5)),Xt=a[8]+(8191&(_t>>>8|It<<8)),yn=a[9]+(It>>>5|o),en=0,En=en+Jt*l+Qt*(5*je)+fn*(5*Ce)+Pn*(5*Me)+dn*(5*Te);en=En>>>13,En&=8191,En+=Sn*(5*ye)+$t*(5*L)+Yt*(5*y)+Xt*(5*I)+yn*(5*R),en+=En>>>13,En&=8191;let Nn=en+Jt*R+Qt*l+fn*(5*je)+Pn*(5*Ce)+dn*(5*Me);en=Nn>>>13,Nn&=8191,Nn+=Sn*(5*Te)+$t*(5*ye)+Yt*(5*L)+Xt*(5*y)+yn*(5*I),en+=Nn>>>13,Nn&=8191;let Bn=en+Jt*I+Qt*R+fn*l+Pn*(5*je)+dn*(5*Ce);en=Bn>>>13,Bn&=8191,Bn+=Sn*(5*Me)+$t*(5*Te)+Yt*(5*ye)+Xt*(5*L)+yn*(5*y),en+=Bn>>>13,Bn&=8191;let Gt=en+Jt*y+Qt*I+fn*R+Pn*l+dn*(5*je);en=Gt>>>13,Gt&=8191,Gt+=Sn*(5*Ce)+$t*(5*Me)+Yt*(5*Te)+Xt*(5*ye)+yn*(5*L),en+=Gt>>>13,Gt&=8191;let Fn=en+Jt*L+Qt*y+fn*I+Pn*R+dn*l;en=Fn>>>13,Fn&=8191,Fn+=Sn*(5*je)+$t*(5*Ce)+Yt*(5*Me)+Xt*(5*Te)+yn*(5*ye),en+=Fn>>>13,Fn&=8191;let tr=en+Jt*ye+Qt*L+fn*y+Pn*I+dn*R;en=tr>>>13,tr&=8191,tr+=Sn*l+$t*(5*je)+Yt*(5*Ce)+Xt*(5*Me)+yn*(5*Te),en+=tr>>>13,tr&=8191;let An=en+Jt*Te+Qt*ye+fn*L+Pn*y+dn*I;en=An>>>13,An&=8191,An+=Sn*R+$t*l+Yt*(5*je)+Xt*(5*Ce)+yn*(5*Me),en+=An>>>13,An&=8191;let hn=en+Jt*Me+Qt*Te+fn*ye+Pn*L+dn*y;en=hn>>>13,hn&=8191,hn+=Sn*I+$t*R+Yt*l+Xt*(5*je)+yn*(5*Ce),en+=hn>>>13,hn&=8191;let Cn=en+Jt*Ce+Qt*Me+fn*Te+Pn*ye+dn*L;en=Cn>>>13,Cn&=8191,Cn+=Sn*y+$t*I+Yt*R+Xt*l+yn*(5*je),en+=Cn>>>13,Cn&=8191;let Wn=en+Jt*je+Qt*Ce+fn*Me+Pn*Te+dn*ye;en=Wn>>>13,Wn&=8191,Wn+=Sn*L+$t*y+Yt*I+Xt*R+yn*l,en+=Wn>>>13,Wn&=8191,en=(en<<2)+en|0,en=en+En|0,En=8191&en,en>>>=13,Nn+=en,a[0]=En,a[1]=Nn,a[2]=Bn,a[3]=Gt,a[4]=Fn,a[5]=tr,a[6]=An,a[7]=hn,a[8]=Cn,a[9]=Wn}finalize(){const{h:t,pad:n}=this,i=new Uint16Array(10);let o=t[1]>>>13;t[1]&=8191;for(let l=2;l<10;l++)t[l]+=o,o=t[l]>>>13,t[l]&=8191;t[0]+=5*o,o=t[0]>>>13,t[0]&=8191,t[1]+=o,o=t[1]>>>13,t[1]&=8191,t[2]+=o,i[0]=t[0]+5,o=i[0]>>>13,i[0]&=8191;for(let l=1;l<10;l++)i[l]=t[l]+o,o=i[l]>>>13,i[l]&=8191;i[9]-=8192;let a=(1^o)-1;for(let l=0;l<10;l++)i[l]&=a;a=~a;for(let l=0;l<10;l++)t[l]=t[l]&a|i[l];t[0]=65535&(t[0]|t[1]<<13),t[1]=65535&(t[1]>>>3|t[2]<<10),t[2]=65535&(t[2]>>>6|t[3]<<7),t[3]=65535&(t[3]>>>9|t[4]<<4),t[4]=65535&(t[4]>>>12|t[5]<<1|t[6]<<14),t[5]=65535&(t[6]>>>2|t[7]<<11),t[6]=65535&(t[7]>>>5|t[8]<<8),t[7]=65535&(t[8]>>>8|t[9]<<5);let s=t[0]+n[0];t[0]=65535&s;for(let l=1;l<8;l++)s=(t[l]+n[l]|0)+(s>>>16)|0,t[l]=65535&s}update(t){JN(this);const{buffer:n,blockLen:i}=this,o=(t=YN(t)).length;for(let a=0;a<o;){const s=Math.min(i-this.pos,o-a);if(s!==i)n.set(t.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(n,0,!1),this.pos=0);else for(;i<=o-a;a+=i)this.process(t,a)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){JN(this),function MF(r,t){Wx(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,h:i}=this;let{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,!0)}this.finalize();let a=0;for(let s=0;s<8;s++)t[a++]=i[s]>>>0,t[a++]=i[s]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}}const Mz=function Sz(r){const t=(i,o)=>r(o).update(YN(i)).digest(),n=r(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=i=>r(i),t}(r=>new xz(r)),Az=ZN("expand 16-byte k"),Tz=ZN("expand 32-byte k"),Iz=Zv(Az),Dz=Zv(Tz);function Qr(r,t){return r<<t|r>>>32-t}function e9(r){return r.byteOffset%4==0}const IF=2**32-1,DF=new Uint32Array;function CI(r,t){const{allowShortKeys:n,extendNonceFn:i,counterLength:o,counterRight:a,rounds:s}=function hz(r,t){if(void 0!==t&&("object"!=typeof t||!(r=>"[object Object]"===Object.prototype.toString.call(r)&&r.constructor===Object)(t)))throw new Error("options must be object or undefined");return Object.assign(r,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof r)throw new Error("core must be a function");return Hx(o),Hx(s),XN(a),XN(n),(l,R,I,y,L=0)=>{Wx(l),Wx(R),Wx(I);const ye=I.length;if(y||(y=new Uint8Array(ye)),Wx(y),Hx(L),L<0||L>=IF)throw new Error("arx: counter overflow");if(y.length<ye)throw new Error(`arx: output (${y.length}) is shorter than data (${ye})`);const Te=[];let Ce,je,Me=l.length;if(32===Me)Ce=l.slice(),Te.push(Ce),je=Dz;else{if(16!==Me||!n)throw new Error(`arx: invalid 32-byte key, got length=${Me}`);Ce=new Uint8Array(32),Ce.set(l),Ce.set(l,16),je=Iz,Te.push(Ce)}e9(R)||(R=R.slice(),Te.push(R));const Je=Zv(Ce);if(i){if(24!==R.length)throw new Error("arx: extended nonce must be 24 bytes");i(je,Je,Zv(R.subarray(0,16)),Je),R=R.subarray(16)}const ze=16-o;if(ze!==R.length)throw new Error(`arx: nonce must be ${ze} or 16 bytes`);if(12!==ze){const rt=new Uint8Array(12);rt.set(R,a?0:12-R.length),Te.push(R=rt)}const He=Zv(R);for(function kz(r,t,n,i,o,a,s,l){const R=o.length,I=new Uint8Array(64),y=Zv(I),L=e9(o)&&e9(a),ye=L?Zv(o):DF,Te=L?Zv(a):DF;for(let Me=0;Me<R;s++){if(r(t,n,i,y,s,l),s>=IF)throw new Error("arx: counter overflow");const Ce=Math.min(64,R-Me);if(L&&64===Ce){const je=Me/4;if(Me%4!=0)throw new Error("arx: invalid block position");for(let ze,Je=0;Je<16;Je++)ze=je+Je,Te[ze]=ye[ze]^y[Je];Me+=64}else{for(let Je,je=0;je<Ce;je++)Je=Me+je,a[Je]=o[Je]^I[je];Me+=Ce}}}(r,je,Je,He,I,y,L,s);Te.length>0;)Te.pop().fill(0);return y}}function kI(r,t,n,i,o,a=20){let s=r[0],l=r[1],R=r[2],I=r[3],y=t[0],L=t[1],ye=t[2],Te=t[3],Me=t[4],Ce=t[5],je=t[6],Je=t[7],ze=o,He=n[0],rt=n[1],yt=n[2],ct=s,_t=l,It=R,Jt=I,Qt=y,fn=L,Pn=ye,dn=Te,Sn=Me,$t=Ce,Yt=je,Xt=Je,yn=ze,en=He,En=rt,Nn=yt;for(let Gt=0;Gt<a;Gt+=2)ct=ct+Qt|0,yn=Qr(yn^ct,16),Sn=Sn+yn|0,Qt=Qr(Qt^Sn,12),ct=ct+Qt|0,yn=Qr(yn^ct,8),Sn=Sn+yn|0,Qt=Qr(Qt^Sn,7),_t=_t+fn|0,en=Qr(en^_t,16),$t=$t+en|0,fn=Qr(fn^$t,12),_t=_t+fn|0,en=Qr(en^_t,8),$t=$t+en|0,fn=Qr(fn^$t,7),It=It+Pn|0,En=Qr(En^It,16),Yt=Yt+En|0,Pn=Qr(Pn^Yt,12),It=It+Pn|0,En=Qr(En^It,8),Yt=Yt+En|0,Pn=Qr(Pn^Yt,7),Jt=Jt+dn|0,Nn=Qr(Nn^Jt,16),Xt=Xt+Nn|0,dn=Qr(dn^Xt,12),Jt=Jt+dn|0,Nn=Qr(Nn^Jt,8),Xt=Xt+Nn|0,dn=Qr(dn^Xt,7),ct=ct+fn|0,Nn=Qr(Nn^ct,16),Yt=Yt+Nn|0,fn=Qr(fn^Yt,12),ct=ct+fn|0,Nn=Qr(Nn^ct,8),Yt=Yt+Nn|0,fn=Qr(fn^Yt,7),_t=_t+Pn|0,yn=Qr(yn^_t,16),Xt=Xt+yn|0,Pn=Qr(Pn^Xt,12),_t=_t+Pn|0,yn=Qr(yn^_t,8),Xt=Xt+yn|0,Pn=Qr(Pn^Xt,7),It=It+dn|0,en=Qr(en^It,16),Sn=Sn+en|0,dn=Qr(dn^Sn,12),It=It+dn|0,en=Qr(en^It,8),Sn=Sn+en|0,dn=Qr(dn^Sn,7),Jt=Jt+Qt|0,En=Qr(En^Jt,16),$t=$t+En|0,Qt=Qr(Qt^$t,12),Jt=Jt+Qt|0,En=Qr(En^Jt,8),$t=$t+En|0,Qt=Qr(Qt^$t,7);let Bn=0;i[Bn++]=s+ct|0,i[Bn++]=l+_t|0,i[Bn++]=R+It|0,i[Bn++]=I+Jt|0,i[Bn++]=y+Qt|0,i[Bn++]=L+fn|0,i[Bn++]=ye+Pn|0,i[Bn++]=Te+dn|0,i[Bn++]=Me+Sn|0,i[Bn++]=Ce+$t|0,i[Bn++]=je+Yt|0,i[Bn++]=Je+Xt|0,i[Bn++]=ze+yn|0,i[Bn++]=He+en|0,i[Bn++]=rt+En|0,i[Bn++]=yt+Nn|0}const Rz=CI(kI,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Oz=CI(kI,{counterRight:!1,counterLength:8,extendNonceFn:function Pz(r,t,n,i){let o=r[0],a=r[1],s=r[2],l=r[3],R=t[0],I=t[1],y=t[2],L=t[3],ye=t[4],Te=t[5],Me=t[6],Ce=t[7],je=n[0],Je=n[1],ze=n[2],He=n[3];for(let yt=0;yt<20;yt+=2)o=o+R|0,je=Qr(je^o,16),ye=ye+je|0,R=Qr(R^ye,12),o=o+R|0,je=Qr(je^o,8),ye=ye+je|0,R=Qr(R^ye,7),a=a+I|0,Je=Qr(Je^a,16),Te=Te+Je|0,I=Qr(I^Te,12),a=a+I|0,Je=Qr(Je^a,8),Te=Te+Je|0,I=Qr(I^Te,7),s=s+y|0,ze=Qr(ze^s,16),Me=Me+ze|0,y=Qr(y^Me,12),s=s+y|0,ze=Qr(ze^s,8),Me=Me+ze|0,y=Qr(y^Me,7),l=l+L|0,He=Qr(He^l,16),Ce=Ce+He|0,L=Qr(L^Ce,12),l=l+L|0,He=Qr(He^l,8),Ce=Ce+He|0,L=Qr(L^Ce,7),o=o+I|0,He=Qr(He^o,16),Me=Me+He|0,I=Qr(I^Me,12),o=o+I|0,He=Qr(He^o,8),Me=Me+He|0,I=Qr(I^Me,7),a=a+y|0,je=Qr(je^a,16),Ce=Ce+je|0,y=Qr(y^Ce,12),a=a+y|0,je=Qr(je^a,8),Ce=Ce+je|0,y=Qr(y^Ce,7),s=s+L|0,Je=Qr(Je^s,16),ye=ye+Je|0,L=Qr(L^ye,12),s=s+L|0,Je=Qr(Je^s,8),ye=ye+Je|0,L=Qr(L^ye,7),l=l+R|0,ze=Qr(ze^l,16),Te=Te+ze|0,R=Qr(R^Te,12),l=l+R|0,ze=Qr(ze^l,8),Te=Te+ze|0,R=Qr(R^Te,7);let rt=0;i[rt++]=o,i[rt++]=a,i[rt++]=s,i[rt++]=l,i[rt++]=je,i[rt++]=Je,i[rt++]=ze,i[rt++]=He},allowShortKeys:!1}),Bz=new Uint8Array(16),CF=(r,t)=>{r.update(t);const n=t.length%16;n&&r.update(Bz.subarray(n))},Nz=new Uint8Array(32);function kF(r,t,n,i,o){const a=r(t,n,Nz),s=Mz.create(a);o&&CF(s,o),CF(s,i);const l=new Uint8Array(16),R=(r=>new DataView(r.buffer,r.byteOffset,r.byteLength))(l);V8(R,0,BigInt(o?o.length:0),!0),V8(R,8,BigInt(i.length),!0),s.update(l);const I=s.digest();return a.fill(0),I}const PF=r=>(t,n,i)=>(TI(t,32),TI(n),{encrypt:(a,s)=>{const l=a.length,R=l+16;s?TI(s,R):s=new Uint8Array(R),r(t,n,a,s,1);const I=kF(r,t,n,s.subarray(0,-16),i);return s.set(I,l),s},decrypt:(a,s)=>{const l=a.length,R=l-16;if(l<16)throw new Error("encrypted data must be at least 16 bytes");s?TI(s,R):s=new Uint8Array(R);const I=a.subarray(0,-16);if(!function pz(r,t){if(r.length!==t.length)return!1;let n=0;for(let i=0;i<r.length;i++)n|=r[i]^t[i];return 0===n}(a.subarray(-16),kF(r,t,n,I,i)))throw new Error("invalid tag");return r(t,n,I,s,1),s}});function Gp(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function r9({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(i9))&&void 0!==n?n:[]),Object.keys(Ax).forEach(o=>{var a,s;i.push(...null!==(s=null===(a=r[o])||void 0===a?void 0:a.filter(i9))&&void 0!==s?s:[])}),i}function Kz({didDocument:r,methodId:t}){const n=[];return Object.keys(Ax).forEach(i=>{if(Array.isArray(r[i])){const o=r[i],a=Gp(t);o.some(l=>{const R=Gp(l)===a,I=i9(l)&&Gp(l.id)===a;return R||I})&&n.push(i)}}),n}function i9(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}function RF({keyBytes:r,multicodecCode:t,multicodecName:n}){const i=pa.addPrefix({code:t,data:r,name:n}),o=on.uint8Array(i).toBase58Btc();return on.base58Btc(o).toMultibase()}function OF({multibaseKeyId:r}){try{const t=on.multibase(r).toBase58Btc(),n=on.base58Btc(t).toUint8Array(),{code:i,data:o,name:a}=pa.removePrefix({prefixedData:n});return{keyBytes:o,multicodecCode:i,multicodecName:a}}catch{throw new Ii(Di.InvalidDid,`Invalid multibase identifier: ${r}`)}}PF(Rz),PF(Oz);var OI=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class Xv{constructor({uri:t,document:n,metadata:i,keyManager:o}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=o}export(){return OI(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),a=yield this.keyManager.exportKey({keyUri:o});n.push(Object.assign({},a))}t.privateKeys=n}return t})}getSigner(t){return OI(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(R=>{var I,y;return Gp(R.id)===(null!==(I=Gp(t?.methodId))&&void 0!==I?I:Gp(null===(y=this.document.assertionMethod)||void 0===y?void 0:y[0]))});if(!i||!i.publicKeyJwk)throw new Ii(Di.InternalError,"A verification method intended for signing could not be determined from the DID Document");const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),a=yield this.keyManager.getPublicKey({keyUri:o}),s=this.keyManager;return{algorithm:sz(a),keyId:i.id,sign(R){return OI(this,arguments,void 0,function*({data:I}){return yield s.sign({data:I,keyUri:o})})},verify(R){return OI(this,arguments,void 0,function*({data:I,signature:y}){return yield s.verify({data:I,key:a,signature:y})})}}})}static import(t){return OI(this,arguments,void 0,function*({portableDid:n,keyManager:i=new r1}){var o;const a=r9({didDocument:n.document});if(0===a.length)throw new Ii(Di.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let l of null!==(o=n.privateKeys)&&void 0!==o?o:[])yield i.importKey({key:l});for(let l of a){if(!l.publicKeyJwk)throw new Error(`Verification method '${l.id}' does not contain a public key in JWK format`);const R=yield i.getKeyUri({key:l.publicKeyJwk});yield i.getPublicKey({keyUri:R})}return new Xv({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}const BF="0123456789abcdef",NF=[],Y8=[];for(let r=0;r<256;r++)NF[r]=BF[r>>4&15]+BF[15&r],r<16&&(r<10?Y8[48+r]=r:Y8[87+r]=r);const LF=r=>{const t=r.length;let n="",i=0;for(;i<t;)n+=NF[r[i++]];return n};for(var BI=typeof Uint8Array>"u"?[]:new Uint8Array(256),X8=0;X8<64;X8++)BI["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(X8)]=X8;const Hz=new TextDecoder,UF=(r,t)=>t?new TextDecoder(t).decode(r):Hz.decode(r),Wz=new TextEncoder,Wy=r=>Wz.encode(r);function NI(r){const t=r<0?1:0;return r=Math.abs(Number(r||1)),Math.floor(Math.log10(r))+1+t}function KF(r){return ArrayBuffer.isView(r)?"arraybufferview":Array.isArray(r)?"array":r instanceof Number?"number":r instanceof Boolean?"boolean":r instanceof Set?"set":r instanceof Map?"map":r instanceof String?"string":r instanceof ArrayBuffer?"arraybuffer":typeof r}function fs(r,t,n){const i=[];let o=null;return fs._encode(i,r),o=((r,t=0)=>{const n=r.length||0;if(!t){let s=n;for(;s--;)t+=r[s].length}const i=new Uint8Array(t);let o=t,a=n;for(;a--;)o-=r[a].length,i.set(r[a],o);return i})(i),fs.bytes=o.length,ArrayBuffer.isView(t)?(t.set(o,n),t):o}typeof window<"u"?window:self,fs.bytes=-1,fs._floatConversionDetected=!1,fs._encode=function(r,t){if(null!=t)switch(KF(t)){case"object":fs.dict(r,t);break;case"map":fs.dictMap(r,t);break;case"array":fs.list(r,t);break;case"set":fs.listSet(r,t);break;case"string":fs.string(r,t);break;case"number":case"boolean":fs.number(r,t);break;case"arraybufferview":fs.buffer(r,new Uint8Array(t.buffer,t.byteOffset,t.byteLength));break;case"arraybuffer":fs.buffer(r,new Uint8Array(t))}};const J8=new Uint8Array([101]),$F=new Uint8Array([100]),VF=new Uint8Array([108]);fs.buffer=function(r,t){r.push(Wy(t.length+":"),t)},fs.string=function(r,t){r.push(Wy(Wy(t).byteLength+":"+t))},fs.number=function(r,t){if(Number.isInteger(t))return r.push(Wy("i"+BigInt(t)+"e"));const n=2147483648,a=(t/n|0)*n+(t%n|0);r.push(Wy("i"+a+"e")),a!==t&&!fs._floatConversionDetected&&(fs._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+t+'":','Bencoding only defines support for integers, value was converted to "'+a+'"'),console.trace())},fs.dict=function(r,t){r.push($F);let i,n=0;const o=Object.keys(t).sort(),a=o.length;for(;n<a;n++)i=o[n],null!=t[i]&&(fs.string(r,i),fs._encode(r,t[i]));r.push(J8)},fs.dictMap=function(r,t){r.push($F);const n=Array.from(t.keys()).sort();for(const i of n)null!=t.get(i)&&(ArrayBuffer.isView(i)?fs._encode(r,i):fs.string(r,String(i)),fs._encode(r,t.get(i)));r.push(J8)},fs.list=function(r,t){let n=0;const i=t.length;for(r.push(VF);n<i;n++)null!=t[n]&&fs._encode(r,t[n]);r.push(J8)},fs.listSet=function(r,t){r.push(VF);for(const n of t)null!=n&&fs._encode(r,n);r.push(J8)};const Zz=fs;function zF(r,t,n){let i=0,o=1;for(let a=t;a<n;a++){const s=r[a];if(s<58&&s>=48)i=10*i+(s-48);else if(a!==t||43!==s){if(a===t&&45===s){o=-1;continue}if(46===s)break;throw new Error("not a number: buffer["+a+"] = "+s)}}return i*o}function Gi(r,t,n,i){return null==r||0===r.length?null:("number"!=typeof t&&null==i&&(i=t,t=void 0),"number"!=typeof n&&null==i&&(i=n,n=void 0),Gi.position=0,Gi.encoding=i||null,Gi.data=ArrayBuffer.isView(r)?new Uint8Array(r.slice(t,n)):Wy(r),Gi.bytes=Gi.data.length,Gi.next())}function q8(r){if(null==r)return 0;const n=KF(r);switch(n){case"arraybufferview":return function iH(r){const t=r.byteLength-r.byteOffset;return NI(t)+1+t}(r);case"string":return function rH(r){const t=Wy(r).byteLength;return NI(t)+1+t}(r);case"array":case"set":return function eH(r){let t=2;for(const n of r)t+=q8(n);return t}(r);case"number":return 1+NI(Math.floor(r))+1;case"bigint":return 1+r.toString().length+1;case"object":return function nH(r){let t=2;const n=Object.keys(r);for(let i=0;i<n.length;i++){const o=Wy(n[i]).byteLength;t+=NI(o)+1+o,t+=q8(r[n[i]])}return t}(r);case"map":return function tH(r){let t=2;for(const[n,i]of r){const o=Wy(n).byteLength;t+=NI(o)+1+o,t+=q8(i)}return t}(r);default:throw new TypeError(`Unsupported value of type "${n}"`)}}Gi.bytes=0,Gi.position=0,Gi.data=null,Gi.encoding=null,Gi.next=function(){switch(Gi.data[Gi.position]){case 100:return Gi.dictionary();case 108:return Gi.list();case 105:return Gi.integer();default:return Gi.buffer()}},Gi.find=function(r){let t=Gi.position;const n=Gi.data.length,i=Gi.data;for(;t<n;){if(i[t]===r)return t;t++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(r)+'" [0x'+r.toString(16)+"]")},Gi.dictionary=function(){Gi.position++;const r={};for(;101!==Gi.data[Gi.position];){const t=Gi.buffer();let n=UF(t);n.includes("\ufffd")&&(n=LF(t)),r[n]=Gi.next()}return Gi.position++,r},Gi.list=function(){Gi.position++;const r=[];for(;101!==Gi.data[Gi.position];)r.push(Gi.next());return Gi.position++,r},Gi.integer=function(){const r=Gi.find(101),t=zF(Gi.data,Gi.position+1,r);return Gi.position+=r+1-Gi.position,t},Gi.buffer=function(){let r=Gi.find(58);const t=zF(Gi.data,Gi.position,r),n=++r+t;return Gi.position=n,Gi.encoding?UF(Gi.data.slice(r,n)):Gi.data.slice(r,n)};const Jv={encode:Zz,decode:Gi,byteLength:q8,encodingLength:q8},oH=/^(\d{1,3}\.){3,3}\d{1,3}$/,sH=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,_0={name:"v4",size:4,isFormat:r=>oH.test(r),encode(r,t,n){n=~~n,t=t||new Uint8Array(n+4);const i=r.length;let o=0;for(let a=0;a<i;){const s=r.charCodeAt(a++);46===s?(t[n++]=o,o=0):o=10*o+(s-48)}return t[n]=o,t},decode:(r,t)=>(t=~~t,`${r[t++]}.${r[t++]}.${r[t++]}.${r[t]}`)},qv={name:"v6",size:16,isFormat:r=>r.length>0&&sH.test(r),encode(r,t,n){let i=16+(n=~~n),o=-1,a=0,s=0,l=!0,R=!1;t=t||new Uint8Array(n+16);for(let I=0;I<r.length;I++){let y=r.charCodeAt(I);58===y?(l?-1!==o?(n<i&&(t[n]=0),n<i-1&&(t[n+1]=0),n+=2):n<i&&(o=n):(!0===R?(n<i&&(t[n]=s),n++):(n<i&&(t[n]=a>>8),n<i-1&&(t[n+1]=255&a),n+=2),a=0,s=0),l=!0,R=!1):46===y?(n<i&&(t[n]=s),n++,s=0,a=0,l=!1,R=!0):(l=!1,y>=97?y-=87:y>=65?y-=55:(y-=48,s=10*s+y),a=(a<<4)+y)}if(!1===l)!0===R?(n<i&&(t[n]=s),n++):(n<i&&(t[n]=a>>8),n<i-1&&(t[n+1]=255&a),n+=2);else if(0===o)n<i&&(t[n]=0),n<i-1&&(t[n+1]=0),n+=2;else if(-1!==o){n+=2;for(let I=Math.min(n-1,i-1);I>=o+2;I--)t[I]=t[I-2];t[o]=0,t[o+1]=0,o=n}if(o!==n&&-1!==o)for(n>i-2&&(n=i-2);i>o;)t[--i]=n<i&&n>o?t[--n]:0;else for(;n<i;)t[n++]=0;return t},decode(r,t){t=~~t;let n="";for(let i=0;i<16;i+=2)0!==i&&(n+=":"),n+=(r[t+i]<<8|r[t+i+1]).toString(16);return n.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};function GF(r){if(_0.isFormat(r))return _0.size;if(qv.isFormat(r))return qv.size;throw Error(`Invalid ip address: ${r}`)}function ek(r){switch(r){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+r}function LI(r){switch(r.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":case"*":return 255}return r.toUpperCase().startsWith("UNKNOWN_")?parseInt(r.slice(8)):0}function dH(r){switch(r){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+r}function uH(r){switch(r){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+r}function ZF(r){switch(r){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+r}function YF(r){switch(r.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0}function XF(r){if("number"==typeof r)return r;if(!r)return-1;switch(r.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}const t=r.match(/_(\d+)$/);return t?parseInt(t[1],10):-1}const a9=55296,UI=56320;function JF(r){let t=0;const n=r.length;for(let i=0;i<n;i+=1){const o=r.charCodeAt(i);if(o<=127)t+=1;else if(o<=2047)t+=2;else if((63488&o)!==a9)t+=3;else{const a=i+1;a===n||o>=UI||(64512&r.charCodeAt(a))!==UI?t+=3:(i=a,t+=4)}}return t}function FI(r,t,n){const i=r.length;null==n&&(n=0),void 0===t&&(t=new Uint8Array(JF(r)+n));let o=n;for(let a=0;a<i;a+=1){let s=r.charCodeAt(a);if(s<=127)t[o++]=s;else if(s<=2047)t[o++]=192|(1984&s)>>6,t[o++]=128|63&s;else if((63488&s)!==a9)t[o++]=224|(61440&s)>>12,t[o++]=128|(4032&s)>>6,t[o++]=128|63&s;else{const l=a+1;if(l===i||s>=UI)t[o++]=239,t[o++]=191,t[o++]=189;else{const R=r.charCodeAt(l);(64512&R)!==UI?(t[o++]=239,t[o++]=191,t[o++]=189):(a=l,s=65536|(1023&s)<<10|1023&R,t[o++]=240|(1835008&s)>>18,t[o++]=128|(258048&s)>>12,t[o++]=128|(4032&s)>>6,t[o++]=128|63&s)}}}return FI.bytes=o-n,t}function jI(r,t,n){let i="";null==t&&(t=0),null==n&&(n=r.length);for(let o=t;o<n;){const a=r[o++];let s;a<=128?s=a:a>191&&a<224?s=(31&a)<<6|63&r[o++]:a>239&&a<365?(s=((7&a)<<18|(63&r[o++])<<12|(63&r[o++])<<6|63&r[o++])-65536,i+=String.fromCharCode(a9|s>>10&1023),s=UI|1023&s):s=(15&a)<<12|(63&r[o++])<<6|63&r[o++],i+=String.fromCharCode(s)}return jI.bytes=n-t,i}FI.bytes=0,jI.bytes=0;const a1=r=>r instanceof Uint8Array;function Qv(r){return"string"==typeof r?JF(r):r.byteLength}function c9(r){return r instanceof Uint8Array?r:Array.isArray(r)?new Uint8Array(r):FI(r)}function l9(r,t,n){if("string"!=typeof t)throw new Error("unknown input type");return FI(t,r,n),FI.bytes}const KI={},qF=new Array(255);for(let r=0;r<=15;r+=1){const t=r.toString(16),n=t.toUpperCase();for(let i=0;i<=15;i+=1){const o=i.toString(16),a=o.toUpperCase(),s=r<<4|i,l=`${t}${o}`;qF[s]=l,KI[l]=s,KI[`${n}${o}`]=s,KI[`${t}${a}`]=s,KI[`${n}${a}`]=s}}function QF(r){return r.length>>>1}const mH=Math.pow(2,24),yH=Math.pow(2,16),gH=Math.pow(2,8),Gy=(r,t)=>r[t]*mH+r[t+1]*yH+r[t+2]*gH+r[t+3],wo=(r,t)=>r[t]<<8|r[t+1],Zy=(r,t,n)=>(r[n+3]=t=+t,r[n+2]=t>>>=8,r[n+1]=t>>>=8,r[n]=t>>>=8,n+4),Ui=(r,t,n)=>(r[n]=t>>8,r[n+1]=255&t,n+2);function Qf(r,t,n,i,o){return n<0&&(i-=n,n=0),i<0&&(i=0),o<0?new Uint8Array(0):n>=t.length||i>=o?0:function vH(r,t,n,i,o){o-i>t.length-n&&(o=i+t.length-n);let a=o-i;const s=r.length-i;return a>s&&(a=s),(0!==i||o<r.length)&&(r=new Uint8Array(r.buffer,r.byteOffset+i,a)),t.set(r,n),a}(r,t,n,i,o)}function na({bytes:r=0,encode:t,decode:n,encodingLength:i}){return t.bytes=r,n.bytes=r,{encode:t,decode:n,encodingLength:i||(()=>r)}}const ni=na({encode(r,t,n){t||(t=new Uint8Array(ni.encodingLength(r))),n||(n=0);const i=n,o=r.replace(/^\.|\.$/gm,"");if(o.length){const a=o.split(".");for(let s=0;s<a.length;s++){const l=l9(t,a[s],n+1);t[n]=l,n+=l+1}}return t[n++]=0,ni.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n=[];let i=t,o=0,a=0,s=!1;for(;;){if(t>=r.length)throw new Error("Cannot decode name (buffer overflow)");const l=r[t++];if(a+=s?0:1,0===l)break;if(192&l){if(192&~l)throw new Error("Cannot decode name (bad label)");{if(t+1>r.length)throw new Error("Cannot decode name (buffer overflow)");const R=wo(r,t-1)-49152;if(R>=i)throw new Error("Cannot decode name (bad pointer)");t=R,i=R,a+=s?0:1,s=!0}}else{if(t+l>r.length)throw new Error("Cannot decode name (buffer overflow)");if(o+=l+1,o>254)throw new Error("Cannot decode name (name too long)");n.push(jI(r,t,t+l)),t+=l,a+=s?0:l}}return ni.decode.bytes=a,0===n.length?".":n.join(".")},encodingLength:r=>"."===r||".."===r?1:Qv(r.replace(/^\.|\.$/gm,""))+2}),jl=na({encode(r,t,n){t||(t=new Uint8Array(jl.encodingLength(r))),n||(n=0);const i=l9(t,r,n+1);return t[n]=i,jl.encode.bytes=i+1,t},decode(r,t){t||(t=0);const n=r[t],i=jI(r,t+1,t+1+n);return jl.decode.bytes=n+1,i},encodingLength:r=>Qv(r)+1}),Zx=na({bytes:12,encode(r,t,n){t||(t=new Uint8Array(Zx.encodingLength(r))),n||(n=0);const i=32767&(r.flags||0),o="response"===r.type?32768:0;return Ui(t,r.id||0,n),Ui(t,i|o,n+2),Ui(t,r.questions.length,n+4),Ui(t,r.answers.length,n+6),Ui(t,r.authorities.length,n+8),Ui(t,r.additionals.length,n+10),t},decode(r,t){if(t||(t=0),r.length<12)throw new Error("Header must be 12 bytes");const n=wo(r,t+2);return{id:wo(r,t),type:32768&n?"response":"query",flags:32767&n,flag_qr:1==(n>>15&1),opcode:uH(n>>11&15),flag_aa:1==(n>>10&1),flag_tc:1==(n>>9&1),flag_rd:1==(n>>8&1),flag_ra:1==(n>>7&1),flag_z:1==(n>>6&1),flag_ad:1==(n>>5&1),flag_cd:1==(n>>4&1),rcode:dH(15&n),questions:new Array(wo(r,t+4)),answers:new Array(wo(r,t+6)),authorities:new Array(wo(r,t+8)),additionals:new Array(wo(r,t+10))}},encodingLength:()=>12}),tk=na({encode(r,t,n){t||(t=new Uint8Array(tk.encodingLength(r))),n||(n=0);const i=r.length;return Ui(t,i,n),Qf(r,t,n+2,0,i),tk.encode.bytes=i+2,t},decode(r,t){t||(t=0);const n=wo(r,t),i=r.slice(t+2,t+2+n);return tk.decode.bytes=n+2,i},encodingLength:r=>r.length+2}),nk=na({encode:(r,t,n)=>(t||(t=new Uint8Array(nk.encodingLength(r))),n||(n=0),ni.encode(r,t,n+2),Ui(t,ni.encode.bytes,n),nk.encode.bytes=ni.encode.bytes+2,t),decode(r,t){t||(t=0);const n=wo(r,t),i=ni.decode(r,t+2);return nk.decode.bytes=n+2,i},encodingLength:r=>ni.encodingLength(r)+2}),rk=na({encode(r,t,n){t||(t=new Uint8Array(rk.encodingLength(r))),n||(n=0);const i=n;return ni.encode(r.mname,t,n+=2),ni.encode(r.rname,t,n+=ni.encode.bytes),Zy(t,r.serial||0,n+=ni.encode.bytes),Zy(t,r.refresh||0,n+=4),Zy(t,r.retry||0,n+=4),Zy(t,r.expire||0,n+=4),Zy(t,r.minimum||0,n+=4),Ui(t,(n+=4)-i-2,i),rk.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n=t,i={};return i.mname=ni.decode(r,t+=2),i.rname=ni.decode(r,t+=ni.decode.bytes),i.serial=Gy(r,t+=ni.decode.bytes),i.refresh=Gy(r,t+=4),i.retry=Gy(r,t+=4),i.expire=Gy(r,t+=4),i.minimum=Gy(r,t+=4),rk.decode.bytes=(t+=4)-n,i},encodingLength:r=>22+ni.encodingLength(r.mname)+ni.encodingLength(r.rname)}),ik=na({encode(r,t,n){Array.isArray(r)||(r=[r]);for(let o=0;o<r.length;o++)if("string"==typeof r[o]&&(r[o]=c9(r[o])),!a1(r[o]))throw new Error("Must be a Buffer");t||(t=new Uint8Array(ik.encodingLength(r))),n||(n=0);const i=n;return n+=2,r.forEach(function(o){t[n++]=o.length,Qf(o,t,n,0,o.length),n+=o.length}),Ui(t,n-i-2,i),ik.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n=t;let i=wo(r,t);t+=2;const o=[];for(;i>0;){const a=r[t++];if(--i,i<a)throw new Error("Buffer overflow");o.push(r.slice(t,t+a)),t+=a,i-=a}return ik.decode.bytes=t-n,o},encodingLength(r){Array.isArray(r)||(r=[r]);let t=2;return r.forEach(function(n){t+="string"==typeof n?Qv(n)+1:n.length+1}),t}}),ok=na({encode(r,t,n){t||(t=new Uint8Array(ok.encodingLength(r))),n||(n=0),"string"==typeof r&&(r=c9(r)),r||(r=new Uint8Array(0));const i=n,o=r.length;return Qf(r,t,n+=2,0,o),Ui(t,(n+=o)-i-2,i),ok.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n=t,i=wo(r,t),o=r.slice(t+=2,t+i);return ok.decode.bytes=(t+=i)-n,o},encodingLength:r=>r?(a1(r)?r.length:Qv(r))+2:2}),sk=na({encode(r,t,n){t||(t=new Uint8Array(sk.encodingLength(r))),n||(n=0);const i=n;return jl.encode(r.cpu,t,n+=2),jl.encode(r.os,t,n+=jl.encode.bytes),Ui(t,(n+=jl.encode.bytes)-i-2,i),sk.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n=t,i={};return i.cpu=jl.decode(r,t+=2),i.os=jl.decode(r,t+=jl.decode.bytes),sk.decode.bytes=(t+=jl.decode.bytes)-n,i},encodingLength:r=>jl.encodingLength(r.cpu)+jl.encodingLength(r.os)+2}),Yx=na({encode:(r,t,n)=>(t||(t=new Uint8Array(Yx.encodingLength(r))),n||(n=0),ni.encode(r,t,n+2),Ui(t,ni.encode.bytes,n),Yx.encode.bytes=ni.encode.bytes+2,t),decode(r,t){t||(t=0);const n=ni.decode(r,t+2);return Yx.decode.bytes=ni.decode.bytes+2,n},encodingLength:r=>ni.encodingLength(r)+2}),ak=na({encode(r,t,n){t||(t=new Uint8Array(ak.encodingLength(r))),n||(n=0),Ui(t,r.priority||0,n+2),Ui(t,r.weight||0,n+4),Ui(t,r.port||0,n+6),ni.encode(r.target,t,n+8);const i=ni.encode.bytes+6;return Ui(t,i,n),ak.encode.bytes=i+2,t},decode(r,t){t||(t=0);const n=wo(r,t),i={};return i.priority=wo(r,t+2),i.weight=wo(r,t+4),i.port=wo(r,t+6),i.target=ni.decode(r,t+8),ak.decode.bytes=n+2,i},encodingLength:r=>8+ni.encodingLength(r.target)}),eb=na({encode(r,t,n){const i=eb.encodingLength(r);return t||(t=new Uint8Array(eb.encodingLength(r))),n||(n=0),r.issuerCritical&&(r.flags=eb.ISSUER_CRITICAL),Ui(t,i-2,n),t[n+=2]=r.flags||0,jl.encode(r.tag,t,n+=1),l9(t,r.value,n+=jl.encode.bytes),n+=Qv(r.value),eb.encode.bytes=i,t},decode(r,t){t||(t=0);const n=wo(r,t),i=t+=2,o={};return o.flags=r[t],o.tag=jl.decode(r,t+=1),o.value=jI(r,t+=jl.decode.bytes,i+n),o.issuerCritical=!!(o.flags&eb.ISSUER_CRITICAL),eb.decode.bytes=n+2,o},encodingLength:r=>jl.encodingLength(r.tag)+jl.encodingLength(r.value)+2});eb.ISSUER_CRITICAL=128;const ck=na({encode(r,t,n){t||(t=new Uint8Array(ck.encodingLength(r))),n||(n=0);const i=n;return Ui(t,r.preference||0,n+=2),ni.encode(r.exchange,t,n+=2),Ui(t,(n+=ni.encode.bytes)-i-2,i),ck.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n=t,i={};return i.preference=wo(r,t+=2),i.exchange=ni.decode(r,t+=2),ck.decode.bytes=(t+=ni.decode.bytes)-n,i},encodingLength:r=>4+ni.encodingLength(r.exchange)}),nj=na({encode:(r,t,n)=>(t||(t=new Uint8Array(nj.encodingLength(r))),n||(n=0),Ui(t,4,n),_0.encode(r,t,n+=2),t),decode:(r,t)=>(t||(t=0),_0.decode(r,t+=2)),bytes:6}),lk=na({encode:(r,t,n)=>(t||(t=new Uint8Array(lk.encodingLength(r))),n||(n=0),Ui(t,16,n),qv.encode(r,t,n+=2),lk.encode.bytes=18,t),decode(r,t){t||(t=0);const n=qv.decode(r,t+=2);return lk.decode.bytes=18,n},bytes:18}),rj=r=>new Uint8Array(r),Yy=na({encode(r,t,n){t||(t=new Uint8Array(Yy.encodingLength(r))),n||(n=0);const i=n,o=XF(r.code);if(Ui(t,o,n),n+=2,r.data)Ui(t,r.data.length,n),Qf(r.data,t,n+=2),n+=r.data.length;else switch(o){case 8:{const a=r.sourcePrefixLength||0,s=r.family||function aH(r){return GF(r)===_0.size?1:2}(r.ip),l=function cH(r,t,n){n=~~n;const i=GF(r);return"function"==typeof t&&(t=t(n+i)),i===_0.size?_0.encode(r,t,n):qv.encode(r,t,n)}(r.ip,rj),R=Math.ceil(a/8);Ui(t,R+4,n),Ui(t,s,n+=2),n+=2,t[n++]=a,t[n++]=r.scopePrefixLength||0,Qf(l,t,n,0,R),n+=R}break;case 11:r.timeout?(Ui(t,2,n),Ui(t,r.timeout,n+=2),n+=2):(Ui(t,0,n),n+=2);break;case 12:{const a=r.length||0;Ui(t,a,n),t.fill(0,n+=2,n+a),n+=a}break;case 14:Ui(t,2*r.tags.length,n),n+=2;for(const s of r.tags)Ui(t,s,n),n+=2;break;default:throw new Error(`Unknown roption code: ${r.code}`)}return Yy.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n={};n.code=wo(r,t),n.type=function fH(r){switch(r){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return r<0?null:`OPTION_${r}`}(n.code);const i=wo(r,t+=2);switch(n.data=r.slice(t+=2,t+i),n.code){case 8:n.family=wo(r,t),t+=2,n.sourcePrefixLength=r[t++],n.scopePrefixLength=r[t++];{const o=new Uint8Array(1===n.family?4:16);Qf(r,o,0,t,t+i-4),n.ip=function lH(r,t,n){if(t=~~t,(n=n||r.length-t)===_0.size)return _0.decode(r,t,n);if(n===qv.size)return qv.decode(r,t,n);throw Error(`Invalid buffer size needs to be ${_0.size} for v4 or ${qv.size} for v6.`)}(o)}break;case 11:i>0&&(n.timeout=wo(r,t),t+=2);break;case 14:n.tags=[];for(let o=0;o<i;o+=2)n.tags.push(wo(r,t)),t+=2}return Yy.decode.bytes=i+4,n},encodingLength(r){if(r.data)return r.data.length+4;switch(XF(r.code)){case 8:return Math.ceil((r.sourcePrefixLength||0)/8)+8;case 11:return"number"==typeof r.timeout?6:4;case 12:return r.length+4;case 14:return 4+2*r.tags.length}throw new Error(`Unknown roption code: ${r.code}`)}}),tb=na({encode(r,t,n){t||(t=new Uint8Array(tb.encodingLength(r))),n||(n=0);const i=n,o=Qx(r,Yy);return Ui(t,o,n),n=GI(r,Yy,t,n+2),tb.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n=t,i=[];let o=wo(r,t);t+=2;let a=0;for(;o>0;)i[a++]=Yy.decode(r,t),t+=Yy.decode.bytes,o-=Yy.decode.bytes;return tb.decode.bytes=t-n,i},encodingLength:r=>2+Qx(r||[],Yy)}),E0=na({encode(r,t,n){t||(t=new Uint8Array(E0.encodingLength(r))),n||(n=0);const i=n,o=r.key;if(!a1(o))throw new Error("Key must be a Buffer");return Ui(t,r.flags,n+=2),t[n+=2]=E0.PROTOCOL_DNSSEC,t[n+=1]=r.algorithm,Qf(o,t,n+=1,0,o.length),E0.encode.bytes=(n+=o.length)-i,Ui(t,E0.encode.bytes-2,i),t},decode(r,t){t||(t=0);const n=t,i={},o=wo(r,t);if(i.flags=wo(r,t+=2),r[t+=2]!==E0.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return i.algorithm=r[t+=1],i.key=r.slice(t+=1,n+o+2),E0.decode.bytes=(t+=i.key.length)-n,i},encodingLength:r=>6+Qv(r.key)});E0.PROTOCOL_DNSSEC=3,E0.ZONE_KEY=128,E0.SECURE_ENTRYPOINT=32768;const $I=na({encode(r,t,n){t||(t=new Uint8Array($I.encodingLength(r))),n||(n=0);const i=n,o=r.signature;if(!a1(o))throw new Error("Signature must be a Buffer");return n+=2,Ui(t,LI(r.typeCovered),n),t[n+=2]=r.algorithm,t[n+=1]=r.labels,Zy(t,r.originalTTL,n+=1),Zy(t,r.expiration,n+=4),Zy(t,r.inception,n+=4),Ui(t,r.keyTag,n+=4),ni.encode(r.signersName,t,n+=2),Qf(o,t,n+=ni.encode.bytes,0,o.length),$I.encode.bytes=(n+=o.length)-i,Ui(t,$I.encode.bytes-2,i),t},decode(r,t){t||(t=0);const n=t,i={},o=wo(r,t);return i.typeCovered=ek(wo(r,t+=2)),i.algorithm=r[t+=2],i.labels=r[t+=1],i.originalTTL=Gy(r,t+=1),i.expiration=Gy(r,t+=4),i.inception=Gy(r,t+=4),i.keyTag=wo(r,t+=4),i.signersName=ni.decode(r,t+=2),i.signature=r.slice(t+=ni.decode.bytes,n+o+2),$I.decode.bytes=(t+=i.signature.length)-n,i},encodingLength:r=>20+ni.encodingLength(r.signersName)+Qv(r.signature)}),VI=na({encode(r,t,n){t||(t=new Uint8Array(VI.encodingLength(r))),n||(n=0);const i=n;return ni.encode(r.mbox||".",t,n+=2),ni.encode(r.txt||".",t,n+=ni.encode.bytes),VI.encode.bytes=(n+=ni.encode.bytes)-i,Ui(t,VI.encode.bytes-2,i),t},decode(r,t){t||(t=0);const n=t,i={};return i.mbox=ni.decode(r,t+=2)||".",i.txt=ni.decode(r,t+=ni.decode.bytes)||".",VI.decode.bytes=(t+=ni.decode.bytes)-n,i},encodingLength:r=>2+ni.encodingLength(r.mbox||".")+ni.encodingLength(r.txt||".")}),eh=na({encode(r,t,n){t||(t=new Uint8Array(eh.encodingLength(r))),n||(n=0);const i=n,o=[];for(let a=0;a<r.length;a++){const s=LI(r[a]);void 0===o[s>>8]&&(o[s>>8]=[]),o[s>>8][s>>3&31]|=1<<7-(7&s)}for(let a=0;a<o.length;a++)if(void 0!==o[a]){const s=c9(o[a]);t[n]=a,t[n+=1]=s.length,Qf(s,t,n+=1,0,s.length),n+=s.length}return eh.encode.bytes=n-i,t},decode(r,t,n){t||(t=0);const i=t,o=[];for(;t-i<n;){const a=r[t],s=r[t+=1];t+=1;for(let l=0;l<s;l++){const R=r[t+l];for(let I=0;I<8;I++)if(R&1<<7-I){const y=ek(a<<8|l<<3|I);o.push(y)}}t+=s}return eh.decode.bytes=t-i,o},encodingLength(r){const t=[];for(let i=0;i<r.length;i++){const o=LI(r[i]);t[o>>8]=Math.max(t[o>>8]||0,255&o)}let n=0;for(let i=0;i<t.length;i++)void 0!==t[i]&&(n+=2+Math.ceil((t[i]+1)/8));return n}}),zI=na({encode(r,t,n){t||(t=new Uint8Array(zI.encodingLength(r))),n||(n=0);const i=n;return ni.encode(r.nextDomain,t,n+=2),eh.encode(r.rrtypes,t,n+=ni.encode.bytes),zI.encode.bytes=(n+=eh.encode.bytes)-i,Ui(t,zI.encode.bytes-2,i),t},decode(r,t){t||(t=0);const n=t,i={},o=wo(r,t);return i.nextDomain=ni.decode(r,t+=2),i.rrtypes=eh.decode(r,t+=ni.decode.bytes,o-(t-n)),zI.decode.bytes=(t+=eh.decode.bytes)-n,i},encodingLength:r=>2+ni.encodingLength(r.nextDomain)+eh.encodingLength(r.rrtypes)}),HI=na({encode(r,t,n){t||(t=new Uint8Array(HI.encodingLength(r))),n||(n=0);const i=n,o=r.salt;if(!a1(o))throw new Error("salt must be a Buffer");const a=r.nextDomain;if(!a1(a))throw new Error("nextDomain must be a Buffer");return t[n+=2]=r.algorithm,t[n+=1]=r.flags,Ui(t,r.iterations,n+=1),t[n+=2]=o.length,Qf(o,t,n+=1,0,o.length),t[n+=o.length]=a.length,Qf(a,t,n+=1,0,a.length),eh.encode(r.rrtypes,t,n+=a.length),HI.encode.bytes=(n+=eh.encode.bytes)-i,Ui(t,HI.encode.bytes-2,i),t},decode(r,t){t||(t=0);const n=t,i={},o=wo(r,t);i.algorithm=r[t+=2],i.flags=r[t+=1],i.iterations=wo(r,t+=1);const a=r[t+=2];i.salt=r.slice(t+=1,t+a);const s=r[t+=a];return i.nextDomain=r.slice(t+=1,t+s),i.rrtypes=eh.decode(r,t+=s,o-(t-n)),HI.decode.bytes=(t+=eh.decode.bytes)-n,i},encodingLength:r=>8+r.salt.length+r.nextDomain.length+eh.encodingLength(r.rrtypes)}),WI=na({encode(r,t,n){t||(t=new Uint8Array(WI.encodingLength(r))),n||(n=0);const i=n,o=r.digest;if(!a1(o))throw new Error("Digest must be a Buffer");return Ui(t,r.keyTag,n+=2),t[n+=2]=r.algorithm,t[n+=1]=r.digestType,Qf(o,t,n+=1,0,o.length),WI.encode.bytes=(n+=o.length)-i,Ui(t,WI.encode.bytes-2,i),t},decode(r,t){t||(t=0);const n=t,i={},o=wo(r,t);return i.keyTag=wo(r,t+=2),i.algorithm=r[t+=2],i.digestType=r[t+=1],i.digest=r.slice(t+=1,n+o+2),WI.decode.bytes=(t+=i.digest.length)-n,i},encodingLength:r=>6+Qv(r.digest)}),Xx=na({encode(r,t,n){t||(t=new Uint8Array(Xx.encodingLength(r))),n||(n=0);const i=n;t[n+=2]=r.algorithm,t[n+=1]=r.hash,n+=1;const o=QF(r.fingerprint),a=u9(r.hash);if(o!==a)throw new Error(`Invalid length of fingerprint "${r.fingerprint}" for hashType=${r.hash}: ${o} != ${a}`);return function pH(r,t,n,i){let o=0;for(;n<i;){const a=t.substr(o,2),s=KI[a];if(void 0===s)return;r[n++]=s,o+=2}}(t,r.fingerprint,n,n+=o),Xx.encode.bytes=n-i,Ui(t,Xx.encode.bytes-2,i),t},decode(r,t){t||(t=0);const n=t,i={};i.algorithm=r[t+=2],i.hash=r[t+=1],t+=1;const o=u9(i.hash);return i.fingerprint=function hH(r,t,n){let i="";for(let o=t;o<n;){const a=r[o++];i+=qF[a]}return i}(r,t,t+o),Xx.decode.bytes=(t+=o)-n,i},encodingLength:r=>4+QF(r.fingerprint)});function u9(r){if(1===r)return 20;if(2===r)return 32;throw new Error(`Invalid hashType=${r}, supported=1,2`)}function f9(r){switch(r.toUpperCase()){case"A":return nj;case"PTR":case"CNAME":case"DNAME":return Yx;case"TXT":return ik;case"NULL":return ok;case"AAAA":return lk;case"SRV":return ak;case"HINFO":return sk;case"CAA":return eb;case"NS":return nk;case"SOA":return rk;case"MX":return ck;case"OPT":return tb;case"DNSKEY":return E0;case"RRSIG":return $I;case"RP":return VI;case"NSEC":return zI;case"NSEC3":return HI;case"SSHFP":return Xx;case"DS":return WI}return tk}Xx.getFingerprintLengthForHashType=u9;const op=na({encode(r,t,n){t||(t=new Uint8Array(op.encodingLength(r))),n||(n=0);const i=n;if(ni.encode(r.name,t,n),n+=ni.encode.bytes,Ui(t,LI(r.type),n),"OPT"===r.type.toUpperCase()){if("."!==r.name)throw new Error("OPT name must be root.");Ui(t,r.udpPayloadSize||4096,n+2),t[n+4]=r.extendedRcode||0,t[n+5]=r.ednsVersion||0,Ui(t,r.flags||0,n+6),tb.encode(r.options||[],t,n+=8),n+=tb.encode.bytes}else{let o=YF(void 0===r.class?"IN":r.class);r.flush&&(o|=32768),Ui(t,o,n+2),Zy(t,r.ttl||0,n+4),n+=8;const a=f9(r.type);a.encode(r.data,t,n),n+=a.encode.bytes}return op.encode.bytes=n-i,t},decode(r,t){t||(t=0);const n={},i=t;if(n.name=ni.decode(r,t),n.type=ek(wo(r,t+=ni.decode.bytes)),"OPT"===n.type)n.udpPayloadSize=wo(r,t+2),n.extendedRcode=r[t+4],n.ednsVersion=r[t+5],n.flags=wo(r,t+6),n.flag_do=1==(n.flags>>15&1),n.options=tb.decode(r,t+8),t+=8+tb.decode.bytes;else{const o=wo(r,t+2);n.ttl=Gy(r,t+4),n.class=ZF(-32769&o),n.flush=!!(32768&o);const a=f9(n.type);n.data=a.decode(r,t+8),t+=8+a.decode.bytes}return op.decode.bytes=t-i,n},encodingLength(r){const t=null!=r.data?r.data:r.options;return ni.encodingLength(r.name)+8+f9(r.type).encodingLength(t)}}),Jx=na({encode(r,t,n){t||(t=new Uint8Array(Jx.encodingLength(r))),n||(n=0);const i=n;return ni.encode(r.name,t,n),n+=ni.encode.bytes,Ui(t,LI(r.type),n),n+=2,Ui(t,YF(void 0===r.class?"IN":r.class),n),Jx.encode.bytes=(n+=2)-i,r},decode(r,t){t||(t=0);const n=t,i={};return i.name=ni.decode(r,t),i.type=ek(wo(r,t+=ni.decode.bytes)),i.class=ZF(wo(r,t+=2)),t+=2,!!(32768&i.class)&&(i.class&=-32769),Jx.decode.bytes=t-n,i},encodingLength:r=>ni.encodingLength(r.name)+4}),Wd={encode:function(r,t,n){const i=!t;i&&(t=new Uint8Array(EH(r))),n||(n=0);const o=n;return r.questions||(r.questions=[]),r.answers||(r.answers=[]),r.authorities||(r.authorities=[]),r.additionals||(r.additionals=[]),Zx.encode(r,t,n),n=GI(r.questions,Jx,t,n+=Zx.encode.bytes),n=GI(r.answers,op,t,n),n=GI(r.authorities,op,t,n),n=GI(r.additionals,op,t,n),Wd.encode.bytes=n-o,i&&c1.bytes!==t.length?t.slice(0,c1.bytes):t},decode:function(r,t){t||(t=0);const n=t,i=Zx.decode(r,t);return t=pk(i.questions,Jx,r,t+=Zx.decode.bytes),t=pk(i.answers,op,r,t),t=pk(i.authorities,op,r,t),t=pk(i.additionals,op,r,t),Wd.decode.bytes=t-n,i},encodingLength:function(r){return Zx.encodingLength(r)+Qx(r.questions||[],Jx)+Qx(r.answers||[],op)+Qx(r.authorities||[],op)+Qx(r.additionals||[],op)}};function uk(r,t){if(r.questions)throw new Error("Only one .question object expected instead of a .questions array!");const n=Object.assign({type:t},r);return n.question&&(n.questions=[n.question],delete n.question),n}Wd.encode.bytes=0,Wd.decode.bytes=0;const fk={encode:function(r,t,n){return t=Wd.encode(uk(r,"query"),t,n),fk.encode.bytes=Wd.encode.bytes,t},decode:function(r,t){const n=Wd.decode(r,t);return fk.decode.bytes=Wd.decode.bytes,n.questions&&(n.question=n.questions[0],delete n.questions),n},encodingLength:function(r){return Wd.encodingLength(uk(r,"query"))}};fk.encode.bytes=0,fk.decode.bytes=0;const hk={encode:function(r,t,n){return t=Wd.encode(uk(r,"response"),t,n),hk.encode.bytes=Wd.encode.bytes,t},decode:function(r,t){const n=Wd.decode(r,t);return hk.decode.bytes=Wd.decode.bytes,n.questions&&(n.question=n.questions[0],delete n.questions),n},encodingLength:function(r){return Wd.encodingLength(uk(r,"response"))}};hk.encode.bytes=0,hk.decode.bytes=0;const c1=Wd.encode,qx=Wd.decode,EH=Wd.encodingLength;function Qx(r,t){let n=0;for(let i=0;i<r.length;i++)n+=t.encodingLength(r[i]);return n}function GI(r,t,n,i){for(let o=0;o<r.length;o++)t.encode(r[o],n,i),i+=t.encode.bytes;return i}function pk(r,t,n,i){for(let o=0;o<r.length;o++)r[o]=t.decode(n,i),i+=t.decode.bytes;return i}var sj=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class h9{static getSigningMethod(t){return sj(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return sj(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var hd=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},aj=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};const cj="https://diddht.tbddev.org",nb=7200,Ku=",";var lj=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(lj||{}),wf=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(wf||{}),dj=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(dj||{});const uj={Ed25519:wf.Ed25519,ES256K:wf.secp256k1,ES256:wf.secp256r1,"P-256":wf.secp256r1,secp256k1:wf.secp256k1,secp256r1:wf.secp256r1,X25519:wf.X25519},fj={[wf.Ed25519]:"Ed25519",[wf.secp256k1]:"ES256K",[wf.secp256r1]:"ES256",[wf.X25519]:"ECDH-ES+A256KW"};let p9=(()=>{class r extends h9{static create(){return hd(this,arguments,void 0,function*({keyManager:n=new r1,options:i={}}={}){var o,a,s,l,R,I,y,L,ye,Te,Me;if(null!==(o=i.verificationMethods)&&void 0!==o&&o.some(ct=>!(ct.algorithm in uj)))throw new Error("One or more verification method algorithms are not supported");const Ce=null===(a=i.verificationMethods)||void 0===a?void 0:a.filter(ct=>"id"in ct).map(ct=>ct.id);if(Ce&&Ce.length!==new Set(Ce).size)throw new Error("One or more verification method IDs are not unique");if(null!==(s=i.services)&&void 0!==s&&s.some(ct=>!ct.id||!ct.type||!ct.serviceEndpoint))throw new Error("One or more services are missing required properties");const je=yield n.generateKey({algorithm:"Ed25519"}),Je=yield n.getPublicKey({keyUri:je}),ze=yield dl.identityKeyToIdentifier({identityKey:Je}),He=Object.assign(Object.assign({id:ze},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),rt=[...null!==(l=i.verificationMethods)&&void 0!==l?l:[]];rt?.some(ct=>{var _t;return"0"===(null===(_t=ct.id)||void 0===_t?void 0:_t.split("#").pop())})||rt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const ct of rt){const _t=ct.id&&"0"===ct.id.split("#").pop()?je:yield n.generateKey({algorithm:ct.algorithm}),It=yield n.getPublicKey({keyUri:_t});let Jt=null!==(I=null!==(R=ct.id)&&void 0!==R?R:It.kid)&&void 0!==I?I:yield Ws({jwk:It});Jt=`${ze}#${Gp(Jt)}`,null!==(y=He.verificationMethod)&&void 0!==y||(He.verificationMethod=[]),He.verificationMethod.push({id:Jt,type:"JsonWebKey",controller:null!==(L=ct.controller)&&void 0!==L?L:ze,publicKeyJwk:It});for(const Qt of null!==(ye=ct.purposes)&&void 0!==ye?ye:[])He[Qt]||(He[Qt]=[]),He[Qt].push(Jt)}null===(Te=i.services)||void 0===Te||Te.forEach(ct=>{var _t;null!==(_t=He.service)&&void 0!==_t||(He.service=[]),ct.id=`${ze}#${ct.id.split("#").pop()}`,He.service.push(ct)});const yt=new Xv({uri:ze,document:He,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Me=i.publish)||void 0===Me||Me){const ct=yield r.publish({did:yt,gatewayUri:i.gatewayUri});yt.metadata=ct.didDocumentMetadata}return yt})}static import(n){return hd(this,arguments,void 0,function*({portableDid:i,keyManager:o=new r1}){var a;const s=ws.parse(i.uri);if(s?.method!==r.methodName)throw new Ii(Di.MethodNotSupported,"Method not supported");const l=yield Xv.import({portableDid:i,keyManager:o});if(null===(a=l.document.verificationMethod)||void 0===a||!a.some(R=>{var I;return"0"===(null===(I=R.id)||void 0===I?void 0:I.split("#").pop())}))throw new Ii(Di.InvalidDidDocument,"DID document must contain an Identity Key");return l})}static getSigningMethod(n){return hd(this,arguments,void 0,function*({didDocument:i,methodId:o="#0"}){var a;const s=ws.parse(i.id);if(s&&s.method!==this.methodName)throw new Ii(Di.MethodNotSupported,`Method not supported: ${s.method}`);const l=null===(a=i.verificationMethod)||void 0===a?void 0:a.find(R=>{var I,y;return Gp(R.id)===(null!==(I=Gp(o))&&void 0!==I?I:Gp(null===(y=i.assertionMethod)||void 0===y?void 0:y[0]))});if(!l||!l.publicKeyJwk)throw new Ii(Di.InternalError,"A verification method intended for signing could not be determined from the DID Document");return l})}static publish(n){return hd(this,arguments,void 0,function*({did:i,gatewayUri:o=cj}){return yield Xy.put({did:i,gatewayUri:o})})}static resolve(n){return hd(this,arguments,void 0,function*(i,o={}){var a;const s=null!==(a=o?.gatewayUri)&&void 0!==a?a:cj;try{yield dl.identifierToIdentityKey({didUri:i});const{didDocument:l,didDocumentMetadata:R}=yield Xy.get({didUri:i,gatewayUri:s});return Object.assign(Object.assign({},qh),{didDocument:l,didDocumentMetadata:R})}catch(l){if(!(l instanceof Ii))throw new Error(l);return Object.assign(Object.assign({},qh),{didResolutionMetadata:Object.assign({error:l.code},l.message&&{errorMessage:l.message})})}})}}return r.methodName="dht",r})();class Xy{static get(t){return hd(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const o=dl.identifierToIdentityKeyBytes({didUri:n}),a=yield Xy.pkarrGet({gatewayUri:i,publicKeyBytes:o}),s=yield dl.parseBep44GetMessage({bep44Message:a}),l=yield Xy.fromDnsPacket({didUri:n,dnsPacket:s});return l.didDocumentMetadata.versionId=a.seq.toString(),l})}static put(t){return hd(this,arguments,void 0,function*({did:n,gatewayUri:i}){const o=yield Xy.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),a=yield dl.createBep44PutMessage({dnsPacket:o,publicKeyBytes:dl.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),s=yield Xy.pkarrPut({gatewayUri:i,bep44Message:a});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:s,versionId:a.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return hd(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const o=on.uint8Array(i).toBase32Z(),a=new URL(o,n).href;let s;try{if(s=yield fetch(a,{method:"GET"}),!s.ok)throw new Ii(Di.NotFound,`Pkarr record not found for: ${o}`)}catch(I){throw I instanceof Ii?I:new Ii(Di.InternalError,`Failed to fetch Pkarr record: ${I.message}`)}const l=yield s.arrayBuffer();if(!l)throw new Ii(Di.NotFound,`Pkarr record not found for: ${o}`);if(l.byteLength<72)throw new Ii(Di.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${l.byteLength}`);if(l.byteLength>1072)throw new Ii(Di.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${l.byteLength}`);return{k:i,seq:Number(new DataView(l).getBigUint64(64)),sig:new Uint8Array(l,0,64),v:new Uint8Array(l,72)}})}static pkarrPut(t){return hd(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const o=on.uint8Array(i.k).toBase32Z(),a=new URL(o,n).href,s=new Uint8Array(i.v.length+72);let l;s.set(i.sig,0),new DataView(s.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),s.set(i.v,i.sig.length+8);try{l=yield fetch(a,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:s})}catch(R){throw new Ii(Di.InternalError,`Failed to put Pkarr record for identifier ${o}: ${R.message}`)}return l.ok})}static fromDnsPacket(t){return hd(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var o,a,s;const l={id:n},R={published:!0},I=new Map;for(const y of null!==(o=i?.answers)&&void 0!==o?o:[]){if("TXT"!==y.type)continue;const L=y.name.split(".")[0].substring(1);switch(!0){case L.startsWith("aka"):{const ye=dl.parseTxtDataToString(y.data);l.alsoKnownAs=ye.split(Ku);break}case L.startsWith("cnt"):{const ye=dl.parseTxtDataToString(y.data);l.controller=ye.includes(Ku)?ye.split(Ku):ye;break}case L.startsWith("k"):{const{id:ye,t:Te,k:Me,c:Ce,a:je}=dl.parseTxtDataToObject(y.data),Je=on.base64Url(Me).toUint8Array(),ze=wf[Number(Te)];let He=yield dl.keyConverter(ze).bytesToPublicKey({publicKeyBytes:Je});He.alg=je||fj[Number(Te)];const rt="k0"===L?"0":void 0!==ye?ye:yield Ws({jwk:He});null!==(a=l.verificationMethod)&&void 0!==a||(l.verificationMethod=[]);const yt=`${n}#${rt}`;l.verificationMethod.push({id:yt,type:"JsonWebKey",controller:Ce??n,publicKeyJwk:He}),I.set(L,yt);break}case L.startsWith("s"):{const ye=dl.parseTxtDataToObject(y.data),{id:Te,t:Me,se:Ce}=ye,je=aj(ye,["id","t","se"]),Je=Ce.includes(Ku)?Ce.split(Ku):[Ce],ze=Object.fromEntries(Object.entries(je).map(([He,rt])=>[He,rt.includes(Ku)?rt.split(Ku):rt]));null!==(s=l.service)&&void 0!==s||(l.service=[]),l.service.push(Object.assign(Object.assign({},ze),{id:`${n}#${Te}`,type:Me,serviceEndpoint:Je}));break}case L.startsWith("typ"):{const{id:ye}=dl.parseTxtDataToObject(y.data);R.types=ye.split(Ku).map(Te=>Number(Te));break}case L.startsWith("did"):{const ye=ze=>ze.split(Ku).map(He=>I.get(He)).filter(He=>"string"==typeof He),{auth:Te,asm:Me,del:Ce,inv:je,agm:Je}=dl.parseTxtDataToObject(y.data);Te&&(l.authentication=ye(Te)),Me&&(l.assertionMethod=ye(Me)),Ce&&(l.capabilityDelegation=ye(Ce)),je&&(l.capabilityInvocation=ye(je)),Je&&(l.keyAgreement=ye(Je));break}}}return{didDocument:l,didDocumentMetadata:R,didResolutionMetadata:{}}})}static toDnsPacket(t){return hd(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:o,previousDidProof:a}){var s,l,R,I,y;const L=[],ye=[],Te=new Map,Me=[],Ce=[];if(void 0!==a){const{signature:ze,previousDid:He}=a;yield dl.validatePreviousDidProof({newDid:n.id,previousDidProof:a}),L.push({type:"TXT",name:"_prv._did.",ttl:nb,data:`id=${He};s=${ze}`})}if(n.alsoKnownAs&&L.push({type:"TXT",name:"_aka._did.",ttl:nb,data:n.alsoKnownAs.join(Ku)}),n.controller){const ze=Array.isArray(n.controller)?n.controller.join(Ku):n.controller;L.push({type:"TXT",name:"_cnt._did.",ttl:nb,data:ze})}for(const[ze,He]of null!==(l=null===(s=n.verificationMethod)||void 0===s?void 0:s.entries())&&void 0!==l?l:[]){const rt=`k${ze}`;Ce.push(rt);let yt=He.id.split("#").pop();Te.set(yt,rt);const ct=He.publicKeyJwk;if(!ct?.crv||!(ct.crv in uj))throw new Ii(Di.InvalidPublicKeyType,`Verification method '${He.id}' contains an unsupported key type: ${null!==(R=ct?.crv)&&void 0!==R?R:"undefined"}`);const _t=wf[ct.crv],It=yield dl.keyConverter(ct.crv).publicKeyToBytes({publicKey:ct}),Qt=[`t=${_t}`,`k=${on.uint8Array(It).toBase64Url()}`];"0"!==yt&&(yield Ws({jwk:ct}))!==yt&&Qt.unshift(`id=${yt}`),ct.alg!==fj[_t]&&Qt.push(`a=${ct.alg}`),He.controller!==n.id&&Qt.push(`c=${He.controller}`),L.push({type:"TXT",name:`_${rt}._did.`,ttl:nb,data:Qt.join(";")})}null===(I=n.service)||void 0===I||I.forEach((ze,He)=>{const rt=`s${He}`;Me.push(rt);let{id:yt,type:ct,serviceEndpoint:_t}=ze,It=aj(ze,["id","type","serviceEndpoint"]);yt=Gp(yt),_t=Array.isArray(_t)?_t.join(","):_t;const Qt=Object.entries(Object.assign({id:yt,t:ct,se:_t},It)).map(([Pn,dn])=>`${Pn}=${dn}`).join(";"),fn=dl.chunkDataIfNeeded(Qt);L.push({type:"TXT",name:`_${rt}._did.`,ttl:nb,data:fn})});const je=["v=0"];if(Ce.length&&je.push(`vm=${Ce.join(Ku)}`),Object.keys(Ax).forEach(ze=>{var He;const rt=null===(He=n[ze])||void 0===He?void 0:He.map(yt=>Te.get(yt.split("#").pop()));rt&&je.push(`${dj[ze]}=${rt.join(Ku)}`)}),Me.length&&je.push(`svc=${Me.join(Ku)}`),null!==(y=i.types)&&void 0!==y&&y.length){const He=i.types.map(rt=>"string"==typeof rt?lj[rt]:rt);L.push({type:"TXT",name:"_typ._did.",ttl:nb,data:`id=${He.join(Ku)}`})}L.push({type:"TXT",name:"_did."+Xy.getUniqueDidSuffix(n.id)+".",ttl:nb,data:je.join(";")});for(const ze of o||[])ye.push({type:"NS",name:"_did."+Xy.getUniqueDidSuffix(n.id)+".",ttl:nb,data:ze+"."});return{id:0,type:"response",flags:1024,answers:[...L,...ye]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class dl{static createBep44PutMessage(t){return hd(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:o}){const a=Math.ceil(Date.now()/1e3),s=c1(n),l=Jv.encode({seq:a,v:s}).subarray(1,-1);if(l.length>1e3)throw new Ii(Di.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${l.length} bytes`);return{k:i,seq:a,sig:yield o.sign({data:l}),v:s}})}static identifierToIdentityKey(t){return hd(this,arguments,void 0,function*({didUri:n}){let i=dl.identifierToIdentityKeyBytes({didUri:n});return yield mc.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=ws.parse(t);if(!n)throw new Ii(Di.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==p9.methodName)throw new Ii(Di.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=on.base32Z(n.id).toUint8Array()}catch{throw new Ii(Di.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new Ii(Di.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return hd(this,arguments,void 0,function*({identityKey:n}){const i=yield mc.publicKeyToBytes({publicKey:n}),o=on.uint8Array(i).toBase32Z();return`did:${p9.methodName}:${o}`})}static keyConverter(t){const i={Ed25519:mc,"P-256":{publicKeyToBytes:o=>hd(this,[o],void 0,function*({publicKey:a}){const s=yield pc.publicKeyToBytes({publicKey:a});return yield pc.compressPublicKey({publicKeyBytes:s})}),bytesToPublicKey:pc.bytesToPublicKey,privateKeyToBytes:pc.privateKeyToBytes,bytesToPrivateKey:pc.bytesToPrivateKey},secp256k1:{publicKeyToBytes:o=>hd(this,[o],void 0,function*({publicKey:a}){const s=yield za.publicKeyToBytes({publicKey:a});return yield za.compressPublicKey({publicKeyBytes:s})}),bytesToPublicKey:za.bytesToPublicKey,privateKeyToBytes:za.privateKeyToBytes,bytesToPrivateKey:za.bytesToPrivateKey},X25519:s1}[t];if(!i)throw new Ii(Di.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return hd(this,arguments,void 0,function*({bep44Message:n}){const i=yield mc.bytesToPublicKey({publicKeyBytes:n.k}),o=Jv.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield mc.verify({key:i,signature:n.sig,data:o})))throw new Ii(Di.InvalidSignature,"Invalid signature for DHT BEP44 message");return qx(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[o,a]=i.split("=");return n[o]=a,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return on.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new Ii(Di.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return hd(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const o=yield dl.identifierToIdentityKey({didUri:i.previousDid}),a=dl.identifierToIdentityKeyBytes({didUri:n}),s=on.base64Url(i.signature).toUint8Array();if(!(yield mc.verify({key:o,data:a,signature:s})))throw new Ii(Di.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}class $c extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,Object.setPrototypeOf(this,new.target.prototype)}}new Uint8Array(0);class AH{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class TH{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return hj(this,t)}}class IH{constructor(t){this.decoders=t}or(t){return hj(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const hj=(r,t)=>new IH({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class DH{constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new AH(t,n,i),this.decoder=new TH(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const yk=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>(({name:r,prefix:t,encode:n,decode:i})=>new DH(r,t,n,i))({prefix:t,name:r,encode:o=>((r,t,n)=>{const i="="===t[t.length-1],o=(1<<n)-1;let a="",s=0,l=0;for(let R=0;R<r.length;++R)for(l=l<<8|r[R],s+=8;s>n;)s-=n,a+=t[o&l>>s];if(s&&(a+=t[o&l<<n-s]),i)for(;a.length*n&7;)a+="=";return a})(o,i,n),decode:o=>((r,t,n,i)=>{const o={};for(let y=0;y<t.length;++y)o[t[y]]=y;let a=r.length;for(;"="===r[a-1];)--a;const s=new Uint8Array(a*n/8|0);let l=0,R=0,I=0;for(let y=0;y<a;++y){const L=o[r[y]];if(void 0===L)throw new SyntaxError(`Non-${i} character`);R=R<<n|L,l+=n,l>=8&&(l-=8,s[I++]=255&R>>l)}if(l>=n||255&R<<8-l)throw new SyntaxError("Unexpected end of data");return s})(o,i,n,r)}),mj=(yk({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),yk({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),yk({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));yk({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});class x0{static encode(t){return mj.baseEncode(t)}static decodeAsBytes(t,n){if(!x0.isBase64UrlString(t))throw new $c("EncodedStringIncorrectEncoding",`Given ${n} must be base64url string.`);return mj.baseDecode(t)}static decodeAsString(t,n){const i=x0.decodeAsBytes(t,n);return x0.bytesToString(i)}static isBase64UrlString(t){return/^[A-Za-z0-9_-]+$/.test(t)}static stringToBytes(t){return(new TextEncoder).encode(t)}static bytesToString(t){return(new TextDecoder).decode(t)}}var PH=E(95568),yj=function(r){return r.Public="public",r.Private="private",r}(yj||{});const S0=yj;class th{static validateEs256kOperationKey(t,n){const i=new Set(["kty","crv","x","y"]);n===S0.Private&&i.add("d");for(const o in t)if(!i.has(o))throw new $c("PublicKeyJwkEs256kHasUnexpectedProperty",`SECP256K1 JWK key has unexpected property '${o}'.`);if("secp256k1"!==t.crv)throw new $c("JwkEs256kMissingOrInvalidCrv",`SECP256K1 JWK 'crv' property must be 'secp256k1' but got '${t.crv}.'`);if("EC"!==t.kty)throw new $c("JwkEs256kMissingOrInvalidKty",`SECP256K1 JWK 'kty' property must be 'EC' but got '${t.kty}.'`);if(43!==t.x.length)throw new $c("JwkEs256kHasIncorrectLengthOfX","SECP256K1 JWK 'x' property must be 43 bytes.");if(43!==t.y.length)throw new $c("JwkEs256kHasIncorrectLengthOfY","SECP256K1 JWK 'y' property must be 43 bytes.");if(n===S0.Private&&(void 0===t.d||43!==t.d.length))throw new $c("JwkEs256kHasIncorrectLengthOfD","SECP256K1 JWK 'd' property must be 43 bytes.")}static validateId(t){if(t.length>50)throw new $c("IdTooLong",`Key ID length ${t.length} exceed max allowed length of 50.`);if(!x0.isBase64UrlString(t))throw new $c("IdNotUsingBase64UrlCharacterSet",`Key ID '${t}' is not a Base64URL string.`)}static validatePublicKeyPurposes(t){if(void 0===t)return;const n=new Set;for(const i of t){if(n.has(i))throw new $c("PublicKeyPurposeDuplicated",`Public key purpose '${i}' already specified.`);n.add(i)}}}const Zp=(()=>{class r{}return r.hashAlgorithmInMultihashCode=18,r.maxCanonicalizedDeltaSizeInBytes=1e3,r})();var RH=E(28846);class rb{static canonicalizeAsBytes(t){const n=rb.removeAllUndefinedProperties(t),i=RH(n);return x0.stringToBytes(i)}static removeAllUndefinedProperties(t){for(const n in t)"object"==typeof t[n]?rb.removeAllUndefinedProperties(t[n]):void 0===t[n]&&delete t[n];return t}}var gj=128,NH=-128,LH=Math.pow(2,31),FH=128,bj=127,jH=Math.pow(2,7),KH=Math.pow(2,14),$H=Math.pow(2,21),VH=Math.pow(2,28),zH=Math.pow(2,35),HH=Math.pow(2,42),WH=Math.pow(2,49),GH=Math.pow(2,56),ZH=Math.pow(2,63),XH={encode:function vj(r,t,n){t=t||[];for(var i=n=n||0;r>=LH;)t[n++]=255&r|gj,r/=128;for(;r&NH;)t[n++]=255&r|gj,r>>>=7;return t[n]=0|r,vj.bytes=n-i+1,t},decode:function m9(r,i){var s,n=0,o=0,a=i=i||0,l=r.length;do{if(a>=l)throw m9.bytes=0,new RangeError("Could not decode varint");s=r[a++],n+=o<28?(s&bj)<<o:(s&bj)*Math.pow(2,o),o+=7}while(s>=FH);return m9.bytes=a-i,n},encodingLength:function(r){return r<jH?1:r<KH?2:r<$H?3:r<VH?4:r<zH?5:r<HH?6:r<WH?7:r<GH?8:r<ZH?9:10}};const gk=XH,wj=(r,t=0)=>[gk.decode(r,t),gk.decode.bytes],_j=(r,t,n=0)=>(gk.encode(r,t,n),t),Ej=r=>gk.encodingLength(r),xj=(r,t)=>{const n=t.byteLength,i=Ej(r),o=i+Ej(n),a=new Uint8Array(o+n);return _j(r,a,0),_j(n,a,i),a.set(t,o),new Sj(r,n,t,a)};class Sj{constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}const Mj=({name:r,code:t,encode:n})=>new QH(r,t,n);class QH{constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?xj(this.code,n):n.then(i=>xj(this.code,i))}throw Error("Unknown type, must be binary type")}}const Aj=r=>function(){var t=(0,m.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),Tj=Mj({name:"sha2-256",code:18,encode:Aj("SHA-256")});Mj({name:"sha2-512",code:19,encode:Aj("SHA-512")});var ZI=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class pd{static hash(t,n){return ZI(this,void 0,void 0,function*(){let i;if(18!==n)throw new $c("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${n} is not supported.`);return i=(yield Tj.digest(t)).bytes,i})}static hashAsNonMultihashBytes(t,n){return ZI(this,void 0,void 0,function*(){let i;if(18!==n)throw new $c("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${n} is not supported.`);return i=yield Tj.encode(t),i})}static canonicalizeThenHashThenEncode(t,n){return ZI(this,void 0,void 0,function*(){const i=rb.canonicalizeAsBytes(t);return yield pd.hashThenEncode(i,n)})}static canonicalizeThenDoubleHashThenEncode(t,n){return ZI(this,void 0,void 0,function*(){const i=rb.canonicalizeAsBytes(t),o=yield pd.hashAsNonMultihashBytes(i,n);return yield pd.hashThenEncode(o,n)})}static hashThenEncode(t,n){return ZI(this,void 0,void 0,function*(){const i=yield pd.hash(t,n);return x0.encode(i)})}static validateEncodedHashComputedUsingSupportedHashAlgorithm(t,n){let i;const o=x0.decodeAsBytes(t,n);try{i=(r=>{const t=(r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")})(r),[n,i]=wj(t),[o,a]=wj(t.subarray(i)),s=t.subarray(i+a);if(s.byteLength!==o)throw new Error("Incorrect length");return new Sj(n,o,s,t)})(o)}catch{throw new $c("MultihashStringNotAMultihash",`Given ${n} string '${t}' is not a multihash after decoding.`)}const a=Zp.hashAlgorithmInMultihashCode;if(a!==i.code)throw new $c("MultihashUnsupportedHashAlgorithm",`Given ${n} uses unsupported multihash algorithm with code ${i.code}, should use ${a} or change IonSdkConfig to desired hashing algorithm.`)}}var Ij=function(r){return r.Create="create",r.Update="update",r.Deactivate="deactivate",r.Recover="recover",r}(Ij||{});const vk=Ij;var Dj=function(r){return r.Replace="replace",r.AddPublicKeys="add-public-keys",r.RemovePublicKeys="remove-public-keys",r.AddServices="add-services",r.RemoveServices="remove-services",r}(Dj||{});const eS=Dj;var bk=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class _f{static createCreateRequest(t){return bk(this,void 0,void 0,function*(){const n=t.recoveryKey,i=t.updateKey,o=t.document.publicKeys,a=t.document.services;th.validateEs256kOperationKey(n,S0.Public),th.validateEs256kOperationKey(i,S0.Public),_f.validateDidDocumentKeys(o),_f.validateServices(a);const s=Zp.hashAlgorithmInMultihashCode,l=[{action:eS.Replace,document:t.document}],R={updateCommitment:yield pd.canonicalizeThenDoubleHashThenEncode(i,s),patches:l};_f.validateDeltaSize(R);const y={deltaHash:yield pd.canonicalizeThenHashThenEncode(R,s),recoveryCommitment:yield pd.canonicalizeThenDoubleHashThenEncode(n,s)};return{type:vk.Create,suffixData:y,delta:R}})}static createDeactivateRequest(t){return bk(this,void 0,void 0,function*(){_f.validateDidSuffix(t.didSuffix),th.validateEs256kOperationKey(t.recoveryPublicKey,S0.Public);const n=Zp.hashAlgorithmInMultihashCode,i=yield pd.canonicalizeThenHashThenEncode(t.recoveryPublicKey,n),o={didSuffix:t.didSuffix,recoveryKey:t.recoveryPublicKey},a=yield t.signer.sign({alg:"ES256K"},o);return{type:vk.Deactivate,didSuffix:t.didSuffix,revealValue:i,signedData:a}})}static createRecoverRequest(t){return bk(this,void 0,void 0,function*(){_f.validateDidSuffix(t.didSuffix),th.validateEs256kOperationKey(t.recoveryPublicKey,S0.Public),th.validateEs256kOperationKey(t.nextRecoveryPublicKey,S0.Public),th.validateEs256kOperationKey(t.nextUpdatePublicKey,S0.Public),_f.validateDidDocumentKeys(t.document.publicKeys),_f.validateServices(t.document.services);const n=Zp.hashAlgorithmInMultihashCode,i=yield pd.canonicalizeThenHashThenEncode(t.recoveryPublicKey,n),s={patches:[{action:eS.Replace,document:t.document}],updateCommitment:yield pd.canonicalizeThenDoubleHashThenEncode(t.nextUpdatePublicKey,n)},l=yield pd.canonicalizeThenHashThenEncode(s,n),I={recoveryCommitment:yield pd.canonicalizeThenDoubleHashThenEncode(t.nextRecoveryPublicKey,n),recoveryKey:t.recoveryPublicKey,deltaHash:l},y=yield t.signer.sign({alg:"ES256K"},I);return{type:vk.Recover,didSuffix:t.didSuffix,revealValue:i,delta:s,signedData:y}})}static createUpdateRequest(t){return bk(this,void 0,void 0,function*(){if(_f.validateDidSuffix(t.didSuffix),th.validateEs256kOperationKey(t.updatePublicKey,S0.Public),th.validateEs256kOperationKey(t.nextUpdatePublicKey,S0.Public),_f.validateServices(t.servicesToAdd),_f.validateDidDocumentKeys(t.publicKeysToAdd),void 0!==t.idsOfServicesToRemove)for(const Me of t.idsOfServicesToRemove)th.validateId(Me);if(void 0!==t.idsOfPublicKeysToRemove)for(const Me of t.idsOfPublicKeysToRemove)th.validateId(Me);const n=[],i=t.servicesToAdd;void 0!==i&&i.length>0&&n.push({action:eS.AddServices,services:i});const o=t.idsOfServicesToRemove;void 0!==o&&o.length>0&&n.push({action:eS.RemoveServices,ids:o});const a=t.publicKeysToAdd;void 0!==a&&a.length>0&&n.push({action:eS.AddPublicKeys,publicKeys:a});const s=t.idsOfPublicKeysToRemove;void 0!==s&&s.length>0&&n.push({action:eS.RemovePublicKeys,ids:s});const l=Zp.hashAlgorithmInMultihashCode,R=yield pd.canonicalizeThenHashThenEncode(t.updatePublicKey,l),y={patches:n,updateCommitment:yield pd.canonicalizeThenDoubleHashThenEncode(t.nextUpdatePublicKey,l)},L=yield pd.canonicalizeThenHashThenEncode(y,l),ye={updateKey:t.updatePublicKey,deltaHash:L},Te=yield t.signer.sign({alg:"ES256K"},ye);return{type:vk.Update,didSuffix:t.didSuffix,revealValue:R,delta:y,signedData:Te}})}static validateDidSuffix(t){pd.validateEncodedHashComputedUsingSupportedHashAlgorithm(t,"didSuffix")}static validateDidDocumentKeys(t){if(void 0===t)return;const n=new Set;for(const i of t){if(Array.isArray(i.publicKeyJwk))throw new $c("DidDocumentPublicKeyMissingOrIncorrectType","DID Document key 'publicKeyJwk' property is not a non-array object.");if(th.validateId(i.id),n.has(i.id))throw new $c("DidDocumentPublicKeyIdDuplicated",`DID Document key with ID '${i.id}' already exists.`);n.add(i.id),th.validatePublicKeyPurposes(i.purposes)}}static validateServices(t){if(void 0!==t&&0!==t.length){const n=new Set;for(const i of t){if(_f.validateService(i),n.has(i.id))throw new $c("DidDocumentServiceIdDuplicated","Service id has to be unique");n.add(i.id)}}}static validateService(t){if(th.validateId(t.id),t.type.length>30)throw new $c("ServiceTypeTooLong",`Service endpoint type length ${t.type.length} exceeds max allowed length of 30.`);if(Array.isArray(t.serviceEndpoint))throw new $c("ServiceEndpointCannotBeAnArray","Service endpoint value cannot be an array.");if("string"==typeof t.serviceEndpoint&&void 0!==PH.parse(t.serviceEndpoint).error)throw new $c("ServiceEndpointStringNotValidUri",`Service endpoint string '${t.serviceEndpoint}' is not a URI.`)}static validateDeltaSize(t){const n=rb.canonicalizeAsBytes(t);if(n.length>Zp.maxCanonicalizedDeltaSizeInBytes)throw new $c("DeltaExceedsMaximumSize",`Delta of ${n.length} bytes exceeded limit of ${Zp.maxCanonicalizedDeltaSizeInBytes} bytes.`)}}var Cj=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class y9{static createLongFormDid(t){return Cj(this,void 0,void 0,function*(){const n=yield _f.createCreateRequest(t),i=yield y9.computeDidUniqueSuffix(n.suffixData);let o;o=void 0===Zp.network||"mainnet"===Zp.network?`did:ion:${i}`:`did:ion:${Zp.network}:${i}`;const s=rb.canonicalizeAsBytes({suffixData:n.suffixData,delta:n.delta});return`${o}:${x0.encode(s)}`})}static computeDidUniqueSuffix(t){return Cj(this,void 0,void 0,function*(){const n=rb.canonicalizeAsBytes(t),i=yield pd.hash(n,Zp.hashAlgorithmInMultihashCode);return x0.encode(i)})}}var ib=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},Jy=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(Jy||{});const rW={Ed25519:Jy.Ed25519,ES256K:Jy.secp256k1,ES256:Jy.secp256r1,"P-256":Jy.secp256r1,secp256k1:Jy.secp256k1,secp256r1:Jy.secp256r1},Pj="https://ion.tbd.engineering";let iW=(()=>{class r extends h9{static create(){return ib(this,arguments,void 0,function*({keyManager:n=new r1,options:i={}}={}){var o,a,s,l,R,I,y;if(null!==(o=i.verificationMethods)&&void 0!==o&&o.some(ct=>!(ct.algorithm in rW)))throw new Error("One or more verification method algorithms are not supported");const L=null===(a=i.verificationMethods)||void 0===a?void 0:a.filter(ct=>"id"in ct).map(ct=>ct.id);if(L&&L.length!==new Set(L).size)throw new Error("One or more verification method IDs are not unique");if(null!==(s=i.services)&&void 0!==s&&s.some(ct=>!ct.id||!ct.type||!ct.serviceEndpoint))throw new Error("One or more services are missing required properties");const ye={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},Te=[];for(const ct of null!==(l=i.verificationMethods)&&void 0!==l?l:[ye]){const _t=yield n.generateKey({algorithm:ct.algorithm}),It=yield n.getPublicKey({keyUri:_t});Te.push({id:ct.id,publicKeyJwk:It,purposes:null!==(R=ct.purposes)&&void 0!==R?R:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const Me=yield n.generateKey({algorithm:Jy.secp256k1}),Ce=yield n.getPublicKey({keyUri:Me}),je=yield n.generateKey({algorithm:Jy.secp256k1}),Je=yield n.getPublicKey({keyUri:je}),ze=yield sp.computeLongFormDidUri({recoveryKey:Ce,updateKey:Je,services:null!==(I=i.services)&&void 0!==I?I:[],verificationMethods:Te}),{didDocument:He,didResolutionMetadata:rt}=yield r.resolve(ze,{gatewayUri:i.gatewayUri});if(null===He)throw new Error(`Unable to resolve DID during creation: ${rt?.error}`);const yt=new Xv({uri:ze,document:He,metadata:{published:!1,canonicalId:ze.split(":",3).join(":"),recoveryKey:Ce,updateKey:Je},keyManager:n});if(null===(y=i.publish)||void 0===y||y){const ct=yield r.publish({did:yt,gatewayUri:i.gatewayUri});yt.metadata=ct.didDocumentMetadata}return yt})}static getSigningMethod(n){return ib(this,arguments,void 0,function*({didDocument:i,methodId:o}){var a;const s=ws.parse(i.id);if(s&&s.method!==this.methodName)throw new Ii(Di.MethodNotSupported,`Method not supported: ${s.method}`);const l=null===(a=i.verificationMethod)||void 0===a?void 0:a.find(R=>{var I;return R.id===(o??(null===(I=i.assertionMethod)||void 0===I?void 0:I[0]))});if(!l||!l.publicKeyJwk)throw new Ii(Di.InternalError,"A verification method intended for signing could not be determined from the DID Document");return l})}static import(n){return ib(this,arguments,void 0,function*({portableDid:i,keyManager:o=new r1}){const a=ws.parse(i.uri);if(a?.method!==r.methodName)throw new Ii(Di.MethodNotSupported,"Method not supported");return yield Xv.import({portableDid:i,keyManager:o})})}static publish(n){return ib(this,arguments,void 0,function*({did:i,gatewayUri:o=Pj}){var a,s,l;const R=null!==(s=null===(a=i.document.verificationMethod)||void 0===a?void 0:a.map(L=>({id:L.id,publicKeyJwk:L.publicKeyJwk,purposes:Kz({didDocument:i.document,methodId:L.id})})))&&void 0!==s?s:[],I=yield sp.createIonDocument({services:null!==(l=i.document.service)&&void 0!==l?l:[],verificationMethods:R}),y=yield sp.constructCreateRequest({ionDocument:I,recoveryKey:i.metadata.recoveryKey,updateKey:i.metadata.updateKey});try{const L=sp.appendPathToUrl({baseUrl:o,path:"/operations"}),ye=yield fetch(L,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});return{didDocument:i.document,didDocumentMetadata:Object.assign(Object.assign({},i.metadata),{published:ye.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:Di.InternalError,errorMessage:`Failed to publish DID document for: ${i.uri}`}}}})}static resolve(n){return ib(this,arguments,void 0,function*(i,o={}){var a,s;const l=ws.parse(i);if(!l)return Object.assign(Object.assign({},qh),{didResolutionMetadata:{error:"invalidDid"}});if(l.method!==r.methodName)return Object.assign(Object.assign({},qh),{didResolutionMetadata:{error:"methodNotSupported"}});const R=null!==(a=o?.gatewayUri)&&void 0!==a?a:Pj;try{const I=sp.appendPathToUrl({baseUrl:R,path:`/identifiers/${i}`}),y=yield fetch(I);if(!y.ok)throw new Ii(Di.NotFound,`Unable to find DID document for: ${i}`);const{didDocument:L,didDocumentMetadata:ye}=yield y.json();return Object.assign(Object.assign(Object.assign({},qh),L&&{didDocument:L}),{didDocumentMetadata:Object.assign({published:null===(s=ye?.method)||void 0===s?void 0:s.published},ye)})}catch(I){if(!(I instanceof Ii))throw new Error(I);return Object.assign(Object.assign({},qh),{didResolutionMetadata:Object.assign({error:I.code},I.message&&{errorMessage:I.message})})}})}}return r.methodName="ion",r})();class sp{static appendPathToUrl({baseUrl:t,path:n}){const i=new URL(t);return i.pathname=i.pathname.endsWith("/")?i.pathname:i.pathname+"/",i.pathname+=n.startsWith("/")?n.substring(1):n,i.toString()}static computeLongFormDidUri(t){return ib(this,arguments,void 0,function*({recoveryKey:n,updateKey:i,services:o,verificationMethods:a}){const s=yield sp.createIonDocument({services:o,verificationMethods:a}),l=sp.normalizeJwk(n),R=sp.normalizeJwk(i);return yield y9.createLongFormDid({document:s,recoveryKey:l,updateKey:R})})}static constructCreateRequest(t){return ib(this,arguments,void 0,function*({ionDocument:n,recoveryKey:i,updateKey:o}){return yield _f.createCreateRequest({document:n,recoveryKey:sp.normalizeJwk(i),updateKey:sp.normalizeJwk(o)})})}static createIonDocument(t){return ib(this,arguments,void 0,function*({services:n,verificationMethods:i}){var o,a;const s=[];for(const I of i){let y=null!==(a=null!==(o=I.id)&&void 0!==o?o:I.publicKeyJwk.kid)&&void 0!==a?a:yield Ws({jwk:I.publicKeyJwk});y=`${y.split("#").pop()}`;const L={id:y,publicKeyJwk:sp.normalizeJwk(I.publicKeyJwk),purposes:I.purposes,type:"JsonWebKey2020"};s.push(L)}return{publicKeys:s,services:n.map(I=>Object.assign(Object.assign({},I),{id:`${I.id.split("#").pop()}`}))}})}static normalizeJwk(t){const n=t.kty;let i;if("EC"===n)i={crv:t.crv,kty:t.kty,x:t.x,y:t.y};else if("oct"===n)i={k:t.k,kty:t.kty};else if("OKP"===n)i={crv:t.crv,kty:t.kty,x:t.x};else{if("RSA"!==n)throw new Error(`Unsupported key type: ${n}`);i={e:t.e,kty:t.kty,n:t.n}}return i}}var Yp=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},ob=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(ob||{});const g9={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},oW={Ed25519:ob.Ed25519,ES256K:ob.secp256k1,ES256:ob.secp256r1,"P-256":ob.secp256r1,secp256k1:ob.secp256k1,secp256r1:ob.secp256r1,X25519:ob.X25519};let sW=(()=>{class r extends h9{static create(){return Yp(this,arguments,void 0,function*({keyManager:n=new r1,options:i={}}={}){var o,a,s,l;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const R=null!==(l=null!==(o=i.algorithm)&&void 0!==o?o:null===(s=null===(a=i.verificationMethods)||void 0===a?void 0:a[0])||void 0===s?void 0:s.algorithm)&&void 0!==l?l:"Ed25519",I=yield n.generateKey({algorithm:R}),y=yield n.getPublicKey({keyUri:I}),L=yield qy.publicKeyToMultibaseId({publicKey:y}),ye=`did:${r.methodName}:${L}`,Me=(yield r.resolve(ye,i)).didDocument;return new Xv({uri:ye,document:Me,metadata:{},keyManager:n})})}static getSigningMethod(n){return Yp(this,arguments,void 0,function*({didDocument:i}){var o;const a=ws.parse(i.id);if(a&&a.method!==this.methodName)throw new Ii(Di.MethodNotSupported,`Method not supported: ${a.method}`);const[s]=i.assertionMethod||[],l=null===(o=i.verificationMethod)||void 0===o?void 0:o.find(R=>R.id===s);if(!l||!l.publicKeyJwk)throw new Ii(Di.InternalError,"A verification method intended for signing could not be determined from the DID Document");return l})}static import(n){return Yp(this,arguments,void 0,function*({portableDid:i,keyManager:o=new r1}){const a=ws.parse(i.uri);if(a?.method!==r.methodName)throw new Ii(Di.MethodNotSupported,"Method not supported");const s=yield Xv.import({portableDid:i,keyManager:o});if(1!==s.document.verificationMethod.length)throw new Ii(Di.InvalidDidDocument,"DID document must contain exactly one verification method");return s})}static resolve(n,i){return Yp(this,void 0,void 0,function*(){try{const o=yield r.createDocument({didUri:n,options:i});return Object.assign(Object.assign({},qh),{didDocument:o})}catch(o){if(!(o instanceof Ii))throw new Error(o);return Object.assign(Object.assign({},qh),{didResolutionMetadata:Object.assign({error:o.code},o.message&&{errorMessage:o.message})})}})}static createDocument(n){return Yp(this,arguments,void 0,function*({didUri:i,options:o={}}){const{defaultContext:a="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:s=!1,enableExperimentalPublicKeyTypes:l=!1,publicKeyFormat:R="JsonWebKey2020"}=o,I={id:""},y=ws.parse(i);if(!y)throw new Ii(Di.InvalidDid,`Invalid DID URI: ${i}`);const L=y.id;if(y.method!==r.methodName)throw new Ii(Di.MethodNotSupported,`Method not supported: ${y.method}`);if(!r.validateIdentifier(y))throw new Ii(Di.InvalidDid,`Invalid DID URI: ${i}`);const ye=yield r.createSignatureMethod({didUri:i,multibaseValue:L,options:{enableExperimentalPublicKeyTypes:l,publicKeyFormat:R}});if(I.id=y.uri,I.verificationMethod=[ye],I.authentication=[ye.id],I.assertionMethod=[ye.id],I.capabilityInvocation=[ye.id],I.capabilityDelegation=[ye.id],!0===s){const Ce="Ed25519VerificationKey2020"===R?"X25519KeyAgreementKey2020":"JsonWebKey2020",je=yield this.createEncryptionMethod({didUri:i,multibaseValue:L,options:{enableExperimentalPublicKeyTypes:l,publicKeyFormat:Ce}});I.verificationMethod.push(je),I.keyAgreement=[je.id]}const Te=[a];return function jz({didDocument:r}){const n=r9({didDocument:r}).map(i=>i.type);return[...new Set(n)]}({didDocument:I}).forEach(Ce=>{Te.push(g9[Ce])}),I["@context"]=Te,I})}static createEncryptionMethod(n){return Yp(this,arguments,void 0,function*({didUri:i,multibaseValue:o,options:a}){const{enableExperimentalPublicKeyTypes:s,publicKeyFormat:l}=a,R={id:"",type:"",controller:""},{keyBytes:I,multicodecCode:y}=yield r.deriveEncryptionKey({multibaseValue:o}),L=I.byteLength,ye=qy.MULTICODEC_PUBLIC_KEY_LENGTH[y];if(L!==ye)throw new Ii(Di.InvalidPublicKeyLength,`Expected ${L} bytes. Actual: ${ye}`);const Te=RF({keyBytes:I,multicodecCode:y});R.id=`${i}#${Te}`;try{new URL(R.id)}catch{throw new Ii(Di.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(l in g9))throw new Ii(Di.UnsupportedPublicKeyType,`Unsupported format: ${l}`);if(!1===s&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(l))throw new Ii(Di.InvalidPublicKeyType,`Specified '${l}' without setting enableExperimentalPublicKeyTypes to true.`);if(R.type=l,R.controller=i,"X25519KeyAgreementKey2020"===l&&(R.publicKeyMultibase=Te),"JsonWebKey2020"===l){const{crv:Ce}=yield qy.multicodecToJwk({code:y});R.publicKeyJwk=yield qy.keyConverter(Ce).bytesToPublicKey({publicKeyBytes:I})}return R})}static createSignatureMethod(n){return Yp(this,arguments,void 0,function*({didUri:i,multibaseValue:o,options:a}){const{enableExperimentalPublicKeyTypes:s,publicKeyFormat:l}=a,R={id:"",type:"",controller:""},{keyBytes:I,multicodecCode:y,multicodecName:L}=OF({multibaseKeyId:o}),ye=I.byteLength,Te=qy.MULTICODEC_PUBLIC_KEY_LENGTH[y];if(ye!==Te)throw new Ii(Di.InvalidPublicKeyLength,`Expected ${ye} bytes. Actual: ${Te}`);let Me=!1;switch(L){case"secp256k1-pub":Me=yield za.validatePublicKey({publicKeyBytes:I});break;case"ed25519-pub":Me=yield mc.validatePublicKey({publicKeyBytes:I});break;case"x25519-pub":Me=!0}if(!Me)throw new Ii(Di.InvalidPublicKey,"Invalid public key detected.");R.id=`${i}#${o}`;try{new URL(R.id)}catch{throw new Ii(Di.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(l in g9))throw new Ii(Di.UnsupportedPublicKeyType,`Unsupported format: ${l}`);if(!1===s&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(l))throw new Ii(Di.InvalidPublicKeyType,`Specified '${l}' without setting enableExperimentalPublicKeyTypes to true.`);if(R.type=l,R.controller=i,"Ed25519VerificationKey2020"===l&&(R.publicKeyMultibase=o),"JsonWebKey2020"===l){const{crv:je}=yield qy.multicodecToJwk({code:y});R.publicKeyJwk=yield qy.keyConverter(je).bytesToPublicKey({publicKeyBytes:I})}return R})}static deriveEncryptionKey(n){return Yp(this,arguments,void 0,function*({multibaseValue:i}){let o={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:a,multicodecCode:s}=OF({multibaseKeyId:i});if(237===s){const l=yield qy.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:a}),R=yield mc.convertPublicKeyToX25519({publicKey:l});o={keyBytes:yield qy.keyConverter("Ed25519").publicKeyToBytes({publicKey:R}),multicodecCode:236}}return o})}static validateIdentifier(n){const{method:i,id:o}=n,[a]=n.uri.split(":",1);return"did"===a&&"key"===i&&Number("1")>0&&"String"===Ix(o)&&o.startsWith("z")}}return r.methodName="key",r})(),qy=(()=>{class r{static jwkToMulticodec(n){return Yp(this,arguments,void 0,function*({jwk:i}){const o=[];i.crv&&(o.push(i.crv),o.push(i.d?"private":"public"));const a=o.join(":"),s=r.JWK_TO_MULTICODEC[a];if(void 0===s)throw new Error(`Unsupported JWK to Multicodec conversion: '${a}'`);return{code:pa.getCodeFromName({name:s}),name:s}})}static keyCompressor(n){const o={"P-256":pc.compressPublicKey,secp256k1:za.compressPublicKey}[n];if(!o)throw new Ii(Di.InvalidPublicKeyType,`Unsupported curve: ${n}`);return o}static keyConverter(n){const o={Ed25519:mc,"P-256":pc,secp256k1:za,X25519:s1}[n];if(!o)throw new Ii(Di.InvalidPublicKeyType,`Unsupported curve: ${n}`);return o}static multicodecToJwk(n){return Yp(this,arguments,void 0,function*({code:i,name:o}){if(!(o?!i:i))throw new Error("Either 'name' or 'code' must be defined, but not both.");o=void 0===o?pa.getNameFromCode({code:i}):o;const s=r.MULTICODEC_TO_JWK[o];if(void 0===s)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},s)})}static publicKeyToMultibaseId(n){return Yp(this,arguments,void 0,function*({publicKey:i}){var o;if(!i?.crv||!(i.crv in oW))throw new Ii(Di.InvalidPublicKeyType,`Public key contains an unsupported key type: ${null!==(o=i?.crv)&&void 0!==o?o:"undefined"}`);let a=yield r.keyConverter(i.crv).publicKeyToBytes({publicKey:i});/^(secp256k1|P-256|P-384|P-521)$/.test(i.crv)&&(a=yield r.keyCompressor(i.crv)({publicKeyBytes:a}));const{name:s}=yield r.jwkToMulticodec({jwk:i});return RF({keyBytes:a,multicodecName:s})})}}return r.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},r.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32},r.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},r})();var aW=E(14078),cW=E(42064);class dW{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new cW.Level(n),this.ttl=aW(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},o=JSON.stringify(i);return this.cache.put(t,o)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const uW={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var Rj=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class fW{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||uW;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return Rj(this,void 0,void 0,function*(){const i=ws.parse(t);if(!i)return Object.assign(Object.assign({},qh),{didResolutionMetadata:{error:Di.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const o=this.didResolvers.get(i.method);if(!o)return Object.assign(Object.assign({},qh),{didResolutionMetadata:{error:Di.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const a=yield this.cache.get(i.uri);if(a)return a;{const s=yield o.resolve(i.uri,n);return s.didResolutionMetadata.error||(yield this.cache.set(i.uri,s)),s}})}dereference(t,n){return Rj(this,void 0,void 0,function*(){const i=ws.parse(t);if(!i)return{dereferencingMetadata:{error:Di.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:o,didResolutionMetadata:a,didDocumentMetadata:s}=yield this.resolve(i.uri);if(!o)return{dereferencingMetadata:{error:a.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:o,contentMetadata:s};const{service:l=[],verificationMethod:R=[]}=o,I=new Set([t,i.fragment,`#${i.fragment}`]);let y;for(let L of R)if(I.has(L.id)){y=L;break}for(let L of l)if(I.has(L.id)){y=L;break}return y?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:y,contentMetadata:a}:{dereferencingMetadata:{error:Di.NotFound},contentStream:null,contentMetadata:{}}})}}var nS=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class v9{constructor(t){this.didResolver=t.didResolver,this.tenantGate=t.tenantGate,this.eventStream=t.eventStream,this.messageStore=t.messageStore,this.dataStore=t.dataStore,this.resumableTaskStore=t.resumableTaskStore,this.eventLog=t.eventLog,this.eventStream=t.eventStream,this.storageController=new Uy({messageStore:this.messageStore,dataStore:this.dataStore,eventLog:this.eventLog,eventStream:this.eventStream}),this.resumableTaskManager=new f0(t.resumableTaskStore,this.storageController),this.methodHandlers={[bi.Messages+Xr.Query]:new bx(this.didResolver,this.messageStore,this.eventLog),[bi.Messages+Xr.Read]:new GT(this.didResolver,this.messageStore,this.dataStore),[bi.Messages+Xr.Subscribe]:new YT(this.didResolver,this.messageStore,this.eventStream),[bi.Protocols+Xr.Configure]:new wx(this.didResolver,this.messageStore,this.eventLog,this.eventStream),[bi.Protocols+Xr.Query]:new aN(this.didResolver,this.messageStore,this.dataStore),[bi.Records+Xr.Delete]:new QT(this.didResolver,this.messageStore,this.resumableTaskManager),[bi.Records+Xr.Query]:new h0(this.didResolver,this.messageStore,this.dataStore),[bi.Records+Xr.Read]:new xx(this.didResolver,this.messageStore,this.dataStore),[bi.Records+Xr.Subscribe]:new Jh(this.didResolver,this.messageStore,this.eventStream),[bi.Records+Xr.Write]:new m0(this.didResolver,this.messageStore,this.dataStore,this.eventLog,this.eventStream)}}static create(t){var n,i;return nS(this,void 0,void 0,function*(){null!==(n=t.didResolver)&&void 0!==n||(t.didResolver=new fW({didResolvers:[p9,iW,sW],cache:new dW({location:"RESOLVERCACHE"})})),null!==(i=t.tenantGate)&&void 0!==i||(t.tenantGate=new iN);const o=new v9(t);return yield o.open(),o})}open(){var t;return nS(this,void 0,void 0,function*(){yield this.messageStore.open(),yield this.dataStore.open(),yield this.resumableTaskStore.open(),yield this.eventLog.open(),yield null===(t=this.eventStream)||void 0===t?void 0:t.open(),yield this.resumableTaskManager.resumeTasksAndWaitForCompletion()})}close(){var t;return nS(this,void 0,void 0,function*(){yield null===(t=this.eventStream)||void 0===t?void 0:t.close(),yield this.messageStore.close(),yield this.dataStore.close(),yield this.resumableTaskStore.close(),yield this.eventLog.close()})}processMessage(t,n,i={}){var o;return nS(this,void 0,void 0,function*(){const a=null!==(o=yield this.validateTenant(t))&&void 0!==o?o:yield this.validateMessageIntegrity(n);if(void 0!==a)return a;const{dataStream:s,subscriptionHandler:l}=i,R=n.descriptor.interface+n.descriptor.method;return yield this.methodHandlers[R].handle({tenant:t,message:n,dataStream:s,subscriptionHandler:l})})}validateTenant(t){var n;return nS(this,void 0,void 0,function*(){const i=yield this.tenantGate.isActiveTenant(t);if(!i.isActiveTenant)return{status:{code:401,detail:null!==(n=i.detail)&&void 0!==n?n:`DID ${t} is not an active tenant.`}}})}validateMessageIntegrity(t){var n,i;return nS(this,void 0,void 0,function*(){const o=null===(n=t?.descriptor)||void 0===n?void 0:n.interface,a=null===(i=t?.descriptor)||void 0===i?void 0:i.method;if(void 0===o||void 0===a)return{status:{code:400,detail:`Both interface and method must be present, interface: ${o}, method: ${a}`}};try{wr.validateJsonSchema(t)}catch(s){return Wo(s,400)}})}}function pW(r){return new Promise((t,n)=>{r.aborted?n(r.reason):r.addEventListener("abort",()=>{n(r.reason)})})}function Gd(r,t){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return t?Promise.race([r,pW(t)]):r})}var nh=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},Xp=function(r){return this instanceof Xp?(this.v=r,this):new Xp(r)},b9=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=r[a]&&function(s){return new Promise(function(l,R){!function o(a,s,l,R){Promise.resolve(R).then(function(I){a({value:I,done:l})},s)}(l,R,(s=r[a](s)).done,s.value)})}}},Bj=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(r,t||[]),a=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(ye){i[ye]&&(o[ye]=function(Te){return new Promise(function(Me,Ce){a.push([ye,Te,Me,Ce])>1||l(ye,Te)})})}function l(ye,Te){try{!function R(ye){ye.value instanceof Xp?Promise.resolve(ye.value.v).then(I,y):L(a[0][2],ye)}(i[ye](Te))}catch(Me){L(a[0][3],Me)}}function I(ye){l("next",ye)}function y(ye){l("throw",ye)}function L(ye,Te){ye(Te),a.shift(),a.length&&l(a[0][0],a[0][1])}};function l1(r,t){return nh(this,void 0,void 0,function*(){return new Fv.Level(r,Object.assign(Object.assign({},t),{keyEncoding:"utf8"}))})}class rS{constructor(t,n){this.config=Object.assign({createLevelDatabase:l1},t),this.db=n}open(){return nh(this,void 0,void 0,function*(){switch(yield this.createLevelDatabase(),this.db.status){case"open":return;case"opening":return new Promise(t=>{this.db.once("open",t)});case"closing":return new Promise((t,n)=>{this.db.once("closed",()=>{this.db.open().then(t).catch(n)})});case"closed":return this.db.open()}})}close(){return nh(this,void 0,void 0,function*(){if(this.db)switch(this.db.status){case"open":return this.db.close();case"opening":return new Promise((t,n)=>{this.db.once("open",()=>{this.db.close().then(t).catch(n)})});case"closing":return new Promise(t=>{this.db.once("closed",t)});case"closed":return}})}partition(t){return nh(this,void 0,void 0,function*(){return yield this.createLevelDatabase(),new rS(this.config,this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}get(t,n){var i;return nh(this,void 0,void 0,function*(){null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Gd(this.createLevelDatabase(),n?.signal);try{return yield Gd(this.db.get(String(t)),n?.signal)}catch(o){if("LEVEL_NOT_FOUND"===o.code)return;throw o}})}has(t,n){return nh(this,void 0,void 0,function*(){return!!(yield this.get(t,n))})}keys(t){var n,i;return Bj(this,arguments,function*(){var a,s,l;null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield Xp(Gd(this.createLevelDatabase(),t?.signal));try{for(var L,I=!0,y=b9(this.db.keys());!(a=(L=yield Xp(y.next())).done);I=!0){I=!1;const ye=L.value;null===(i=t?.signal)||void 0===i||i.throwIfAborted(),yield yield Xp(ye)}}catch(ye){s={error:ye}}finally{try{!I&&!a&&(l=y.return)&&(yield Xp(l.call(y)))}finally{if(s)throw s.error}}})}iterator(t,n){var i,o;return Bj(this,arguments,function*(){var s,l,R;null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Xp(Gd(this.createLevelDatabase(),n?.signal));try{for(var ye,y=!0,L=b9(this.db.iterator(t));!(s=(ye=yield Xp(L.next())).done);y=!0){y=!1;const Te=ye.value;null===(o=n?.signal)||void 0===o||o.throwIfAborted(),yield yield Xp(Te)}}catch(Te){l={error:Te}}finally{try{!y&&!s&&(R=L.return)&&(yield Xp(R.call(L)))}finally{if(l)throw l.error}}})}put(t,n,i){var o;return nh(this,void 0,void 0,function*(){return null===(o=i?.signal)||void 0===o||o.throwIfAborted(),yield Gd(this.createLevelDatabase(),i?.signal),Gd(this.db.put(String(t),n),i?.signal)})}delete(t,n){var i;return nh(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Gd(this.createLevelDatabase(),n?.signal),Gd(this.db.del(String(t)),n?.signal)})}isEmpty(t){var n,i,o;return nh(this,void 0,void 0,function*(){try{for(var R,s=!0,l=b9(this.keys(t));R=yield l.next(),!(n=R.done);s=!0)return s=!1,!1}catch(I){i={error:I}}finally{try{!s&&!n&&(o=l.return)&&(yield o.call(l))}finally{if(i)throw i.error}}return!0})}clear(){return nh(this,void 0,void 0,function*(){yield this.createLevelDatabase(),yield this.db.clear(),yield this.compactUnderlyingStorage()})}batch(t,n){var i;return nh(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Gd(this.createLevelDatabase(),n?.signal),Gd(this.db.batch(t),n?.signal)})}createPartitionOperation(t,n){return Object.assign(Object.assign({},n),{sublevel:this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding})})}compactUnderlyingStorage(t){var n,i,o;return nh(this,void 0,void 0,function*(){null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield Gd(this.createLevelDatabase(),t?.signal);const a=this.sublevelRange;if(!a)return;const s=this.root;return s.db.supports.additionalMethods.compactRange?Gd(null===(o=(i=s.db).compactRange)||void 0===o?void 0:o.call(i,...a),t?.signal):void 0})}get sublevelRange(){const t=this.db.prefix;if(!t)return;const n=t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+1);return[t,n]}get root(){let t=this.db;for(const n=t.db;n&&n!==t;)t=n;return new rS(this.config,t)}createLevelDatabase(){var t;return nh(this,void 0,void 0,function*(){null!==(t=this.db)&&void 0!==t||(this.db=yield this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}}var Qy=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},wk=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=r[a]&&function(s){return new Promise(function(l,R){!function o(a,s,l,R){Promise.resolve(R).then(function(I){a({value:I,done:l})},s)}(l,R,(s=r[a](s)).done,s.value)})}}},md=function(r){return this instanceof md?(this.v=r,this):new md(r)},_k=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(r,t||[]),a=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(ye){i[ye]&&(o[ye]=function(Te){return new Promise(function(Me,Ce){a.push([ye,Te,Me,Ce])>1||l(ye,Te)})})}function l(ye,Te){try{!function R(ye){ye.value instanceof md?Promise.resolve(ye.value.v).then(I,y):L(a[0][2],ye)}(i[ye](Te))}catch(Me){L(a[0][3],Me)}}function I(ye){l("next",ye)}function y(ye){l("throw",ye)}function L(ye,Te){ye(Te),a.shift(),a.length&&l(a[0][0],a[0][1])}};class Ek{constructor(t,n){this.config=Object.assign({createLevelDatabase:l1},t),this.db=n??new rS(Object.assign(Object.assign({},this.config),{valueEncoding:"binary"}))}open(){return Qy(this,void 0,void 0,function*(){return this.db.open()})}close(){return Qy(this,void 0,void 0,function*(){return this.db.close()})}partition(t){return Qy(this,void 0,void 0,function*(){const n=yield this.db.partition(t);return new Ek(Object.assign(Object.assign({},this.config),{location:""}),n)})}put(t,n,i){return Qy(this,void 0,void 0,function*(){return yield this.db.put(String(t),n,i),uo.parse(t.toString())})}get(t,n){return Qy(this,void 0,void 0,function*(){return yield this.db.get(String(t),n)})}has(t,n){return Qy(this,void 0,void 0,function*(){return this.db.has(String(t),n)})}delete(t,n){return Qy(this,void 0,void 0,function*(){return this.db.delete(String(t),n)})}isEmpty(t){return Qy(this,void 0,void 0,function*(){return this.db.isEmpty(t)})}putMany(t,n){return _k(this,arguments,function*(){var o,a,s;try{for(var y,R=!0,I=wk(t);!(o=(y=yield md(I.next())).done);R=!0){R=!1;const L=y.value;yield md(this.put(L.cid,L.block,n)),yield yield md(L.cid)}}catch(L){a={error:L}}finally{try{!R&&!o&&(s=I.return)&&(yield md(s.call(I)))}finally{if(a)throw a.error}}})}getMany(t,n){return _k(this,arguments,function*(){var o,a,s;try{for(var y,R=!0,I=wk(t);!(o=(y=yield md(I.next())).done);R=!0){R=!1;const L=y.value;yield yield md({cid:L,block:yield md(this.get(L,n))})}}catch(L){a={error:L}}finally{try{!R&&!o&&(s=I.return)&&(yield md(s.call(I)))}finally{if(a)throw a.error}}})}getAll(t){return _k(this,arguments,function*(){var i,o,a,s;const l=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var y,R=!0,I=wk(l);!(i=(y=yield md(I.next())).done);R=!0){s=y.value,R=!1;const[L,ye]=s;yield yield md({cid:uo.decode(L),block:ye})}}catch(L){o={error:L}}finally{try{!R&&!i&&(a=I.return)&&(yield md(a.call(I)))}finally{if(o)throw o.error}}})}deleteMany(t,n){return _k(this,arguments,function*(){var o,a,s;try{for(var y,R=!0,I=wk(t);!(o=(y=yield md(I.next())).done);R=!0){R=!1;const L=y.value;yield md(this.delete(L,n)),yield yield md(L)}}catch(L){a={error:L}}finally{try{!R&&!o&&(s=I.return)&&(yield md(s.call(I)))}finally{if(a)throw a.error}}})}clear(){return Qy(this,void 0,void 0,function*(){return this.db.clear()})}}var Vc=E(42853);const gW=function yW(r){if(function mW(r){return null!=r[Symbol.asyncIterator]}(r))return(0,m.A)(function*(){let n;var a,i=!1,o=!1;try{for(var l,s=oo(r);i=!(l=yield s.next()).done;i=!1)n=l.value}catch(R){o=!0,a=R}finally{try{i&&null!=s.return&&(yield s.return())}finally{if(o)throw a}}return n})();let t;for(const n of r)t=n;return t},wW=function(){var r=(0,m.A)(function*(t,n,i,o,a,s,l,R){const I=yield l.get(t,R),y=aC(I);let L=y,ye=i;for(;o.length>0;){const Te=o[0];if(!(Te in L))throw Vc(new Error(`No property named ${Te} found in cbor node ${t}`),"ERR_NO_PROP");{o.shift(),ye=`${ye}/${Te}`;const Me=uo.asCID(L[Te]);if(null!=Me)return{entry:{type:"object",name:n,path:i,cid:t,node:I,depth:s,size:BigInt(I.length),content:function(){var Ce=No(function*(){yield y});return function(){return Ce.apply(this,arguments)}}()},next:{cid:Me,name:Te,path:ye,toResolve:o}};L=L[Te]}}return{entry:{type:"object",name:n,path:i,cid:t,node:I,depth:s,size:BigInt(I.length),content:(Te=No(function*(){yield y}),function(){return Te.apply(this,arguments)})}};var Te});return function(n,i,o,a,s,l,R,I){return r.apply(this,arguments)}}(),xk=function _W(r,t,n,i){const o=BigInt(r.length),a=BigInt(t+o);return n>=a||i<t?new Uint8Array(0):(i>=t&&i<a&&(r=r.subarray(0,Number(i-t))),n>=t&&n<a&&(r=r.subarray(Number(n-t))),r)},w9=(r,t=0,n=r)=>{const i=BigInt(r),o=BigInt(t??0);let a=BigInt(n);if(a!==i&&(a=o+a),a>i&&(a=i),o<0n)throw Vc(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(o>i)throw Vc(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(a<0n)throw Vc(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(a>i)throw Vc(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:o,end:a}},EW=r=>{function n(){return(n=No(function*(i={}){const{start:o,end:a}=w9(r.length,i.offset,i.length),s=xk(r,0n,o,a);i.onProgress?.(new Nd("unixfs:exporter:progress:identity",{bytesRead:BigInt(s.byteLength),totalBytes:a-o,fileSize:BigInt(r.byteLength)})),yield s})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},xW=function(){var r=(0,m.A)(function*(t,n,i,o,a,s,l,R){if(o.length>0)throw Vc(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const I=hh(t.multihash.bytes);return{entry:{type:"identity",name:n,path:i,cid:t,content:EW(I.digest),depth:s,size:BigInt(I.digest.length),node:I.digest}}});return function(n,i,o,a,s,l,R,I){return r.apply(this,arguments)}}(),SW=r=>{function n(){return(n=No(function*(i={}){const{start:o,end:a}=w9(r.length,i.offset,i.length),s=xk(r,0n,o,a);i.onProgress?.(new Nd("unixfs:exporter:progress:raw",{bytesRead:BigInt(s.byteLength),totalBytes:a-o,fileSize:BigInt(r.byteLength)})),yield s})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},MW=function(){var r=(0,m.A)(function*(t,n,i,o,a,s,l,R){if(o.length>0)throw Vc(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const I=yield l.get(t,R);return{entry:{type:"raw",name:n,path:i,cid:t,content:SW(I),depth:s,size:BigInt(I.length),node:I}}});return function(n,i,o,a,s,l,R,I){return r.apply(this,arguments)}}(),AW=function(){var r=(0,m.A)(function*(t){return(yield iv.encode(t)).slice(0,8).reverse()});return function(n){return r.apply(this,arguments)}}(),TW=function(){var r=(0,m.A)(function*(t,n,i){yield Promise.all(t.map(function(){var o=(0,m.A)(function*(a){if(null==a.Name)throw new Error("Unexpected Link without a Name");if(2!==a.Name.length)yield i.put(a.Name.substring(2),!0);else{const s=parseInt(a.Name,16);n._putObjectAt(s,new sd({hash:i._options.hash,bits:i._options.bits},n,s))}});return function(a){return o.apply(this,arguments)}}()))});return function(n,i,o){return r.apply(this,arguments)}}(),Uj=r=>r.toString(16).toUpperCase().padStart(2,"0").substring(0,2),Fj=function(){var r=(0,m.A)(function*(t,n,i,o,a){if(null==o){const L=Ia({hashFn:AW});o={rootBucket:L,hamtDepth:1,lastBucket:L}}yield TW(t.Links,o.lastBucket,o.rootBucket);const s=yield o.rootBucket._findNewBucketAndPos(n);let l=Uj(s.pos);const R=(r=>{let t=r.bucket;const n=[];for(;null!=t._parent;)n.push(t),t=t._parent;return n.push(t),n.reverse()})(s);R.length>o.hamtDepth&&(o.lastBucket=R[o.hamtDepth],l=Uj(o.lastBucket._posAtParent));const I=t.Links.find(L=>{if(null==L.Name)return!1;const ye=L.Name.substring(0,2),Te=L.Name.substring(2);return!(ye!==l||""!==Te&&Te!==n)});if(null!=I)return null!=I.Name&&I.Name.substring(2)===n?I.Hash:(o.hamtDepth++,t=Ew(yield i.get(I.Hash,a)),Fj(t,n,i,o,a))});return function(n,i,o,a,s){return r.apply(this,arguments)}}(),DW=Fj,jj=function CW(r){const[t,n]=null!=r[Symbol.asyncIterator]?[r[Symbol.asyncIterator](),Symbol.asyncIterator]:[r[Symbol.iterator](),Symbol.iterator],i=[];return{peek:()=>t.next(),push:o=>{i.push(o)},next:()=>i.length>0?{done:!1,value:i.shift()}:t.next(),[n](){return this}}},_9=function BW(r,t){let n=0;if(function OW(r){return null!=r[Symbol.asyncIterator]}(r))return No(function*(){var y,R=!1,I=!1;try{for(var ye,L=oo(r);R=!(ye=yield Zr(L.next())).done;R=!1){const Te=ye.value;yield t(Te,n++)}}catch(Te){I=!0,y=Te}finally{try{R&&null!=L.return&&(yield Zr(L.return()))}finally{if(I)throw y}}})();const i=jj(r),{value:o,done:a}=i.next();if(!0===a)return function*(){}();const s=t(o,n++);if("function"==typeof s.then)return No(function*(){yield yield Zr(s);var y,R=!1,I=!1;try{for(var ye,L=oo(i);R=!(ye=yield Zr(L.next())).done;R=!1){const Te=ye.value;yield t(Te,n++)}}catch(Te){I=!0,y=Te}finally{try{R&&null!=L.return&&(yield Zr(L.return()))}finally{if(I)throw y}}})();const l=t;return function*(){yield s;for(const R of i)yield l(R,n++)}()};function iS(){const r={};return r.promise=new Promise((t,n)=>{r.resolve=t,r.reject=n}),r}const Sk=globalThis.CustomEvent??Event;function E9(r){return x9.apply(this,arguments)}function x9(){return x9=No(function*(r,t={}){let n=t.concurrency??1/0;n<1&&(n=1/0);const i=null!=t.ordered&&t.ordered,o=new EventTarget,a=[];let I,s=iS(),l=iS(),R=!1,y=!1;function L(){return i?a[0]?.done:!!a.find(Me=>Me.done)}function*ye(){for(;a.length>0&&a[0].done;){const Me=a[0];if(a.shift(),!Me.ok)throw y=!0,s.resolve(),Me.err;yield Me.value,s.resolve()}}function*Te(){for(;L();)for(let Me=0;Me<a.length;Me++)if(a[Me].done){const Ce=a[Me];if(a.splice(Me,1),Me--,!Ce.ok)throw y=!0,s.resolve(),Ce.err;yield Ce.value,s.resolve()}}for(o.addEventListener("task-complete",()=>{l.resolve()}),Promise.resolve().then((0,m.A)(function*(){try{var je,Me=!1,Ce=!1;try{for(var ze,Je=oo(r);Me=!(ze=yield Je.next()).done;Me=!1){const He=ze.value;{if(a.length===n&&(s=iS(),yield s.promise),y)break;const rt={done:!1};a.push(rt),He().then(yt=>{rt.done=!0,rt.ok=!0,rt.value=yt,o.dispatchEvent(new Sk("task-complete"))},yt=>{rt.done=!0,rt.err=yt,o.dispatchEvent(new Sk("task-complete"))})}}}catch(He){Ce=!0,je=He}finally{try{Me&&null!=Je.return&&(yield Je.return())}finally{if(Ce)throw je}}R=!0,o.dispatchEvent(new Sk("task-complete"))}catch(He){I=He,o.dispatchEvent(new Sk("task-complete"))}}));;){if(L()||(l=iS(),yield Zr(l.promise)),null!=I)throw I;if(i?yield*Kf(oo(ye())):yield*Kf(oo(Te())),R&&0===a.length)break}}),x9.apply(this,arguments)}class Kj{buffer;mask;top;btm;next;constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}isEmpty(){return void 0===this.buffer[this.btm]}}class S9{size;hwm;head;tail;constructor(t={}){this.hwm=t.splitLimit??16,this.head=new Kj(this.hwm),this.tail=this.head,this.size=0}calculateSize(t){return null!=t?.byteLength?t.byteLength:1}push(t){null!=t?.value&&(this.size+=this.calculateSize(t.value)),this.head.push(t)||(this.head=this.head.next=new Kj(2*this.head.buffer.length),this.head.push(t))}shift(){let t=this.tail.shift();if(void 0===t&&null!=this.tail.next){const n=this.tail.next;this.tail.next=null,this.tail=n,t=this.tail.shift()}return null!=t?.value&&(this.size-=this.calculateSize(t.value)),t}isEmpty(){return this.head.isEmpty()}}class NW extends Error{type;code;constructor(t,n){super(t??"The operation was aborted"),this.type="aborted",this.code=n??"ABORT_ERR"}}function M9(r={}){return function $j(r,t){let o,a,s,n=(t=t??{}).onEnd,i=new S9,l=iS();const R=function(){var je=(0,m.A)(function*(){try{return i.isEmpty()?s?{done:!0}:yield new Promise((Je,ze)=>{a=He=>{a=null,i.push(He);try{Je(r(i))}catch(rt){ze(rt)}return o}}):r(i)}finally{i.isEmpty()&&queueMicrotask(()=>{l.resolve(),l=iS()})}});return function(){return je.apply(this,arguments)}}(),I=je=>null!=a?a(je):(i.push(je),o),L=je=>{if(s)return o;if(!0!==t?.objectMode&&null==je?.byteLength)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return I({done:!1,value:je})},ye=je=>s?o:(s=!0,null!=je?(je=>(i=new S9,null!=a?a({error:je}):(i.push({error:je}),o)))(je):I({done:!0}));if(o={[Symbol.asyncIterator](){return this},next:R,return:()=>(i=new S9,ye(),{done:!0}),throw:je=>(ye(je),{done:!0}),push:L,end:ye,get readableLength(){return i.size},onEmpty:(je=(0,m.A)(function*(Je){const ze=Je?.signal;if(ze?.throwIfAborted(),i.isEmpty())return;let He,rt;null!=ze&&(He=new Promise((yt,ct)=>{rt=()=>{ct(new NW)},ze.addEventListener("abort",rt)}));try{yield Promise.race([l.promise,He])}finally{null!=rt&&null!=ze&&ze?.removeEventListener("abort",rt)}}),function(ze){return je.apply(this,arguments)})},null==n)return o;var je;const Ce=o;return o={[Symbol.asyncIterator](){return this},next:()=>Ce.next(),throw:je=>(Ce.throw(je),null!=n&&(n(je),n=void 0),{done:!0}),return:()=>(Ce.return(),null!=n&&(n(),n=void 0),{done:!0}),push:L,end:je=>(Ce.end(je),null!=n&&(n(je),n=void 0),o),get readableLength(){return Ce.readableLength},onEmpty:je=>Ce.onEmpty(je)},o}(n=>{const i=n.shift();if(null==i)return{done:!0};if(null!=i.error)throw i.error;return{done:!0===i.done,value:i.value}},r)}function LW(r){return null!=r[Symbol.asyncIterator]}function A9(r,...t){if(null==r)throw new Error("Empty pipeline");if(T9(r)){const i=r;r=()=>i.source}else if(zj(r)||Vj(r)){const i=r;r=()=>i}const n=[r,...t];if(n.length>1&&T9(n[n.length-1])&&(n[n.length-1]=n[n.length-1].sink),n.length>2)for(let i=1;i<n.length-1;i++)T9(n[i])&&(n[i]=KW(n[i]));return jW(...n)}const jW=(...r)=>{let t;for(;r.length>0;)t=r.shift()(t);return t},Vj=r=>null!=r?.[Symbol.asyncIterator],zj=r=>null!=r?.[Symbol.iterator],T9=r=>null!=r&&null!=r.sink&&null!=r.source,KW=r=>t=>{const n=r.sink(t);if(null!=n?.then){const i=M9({objectMode:!0});let o;n.then(()=>{i.end()},s=>{i.end(s)});const a=r.source;if(Vj(a))o=function(){var s=No(function*(){yield*Kf(oo(a)),i.end()});return function(){return s.apply(this,arguments)}}();else{if(!zj(a))throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");o=function*(){yield*a,i.end()}}return function UW(...r){const t=[];for(const n of r)LW(n)||t.push(n);return t.length===r.length?function*(){for(const n of t)yield*n}():No(function*(){const n=M9({objectMode:!0});Promise.resolve().then((0,m.A)(function*(){try{yield Promise.all(r.map(function(){var i=(0,m.A)(function*(o){var l,a=!1,s=!1;try{for(var I,R=oo(o);a=!(I=yield R.next()).done;a=!1)n.push(I.value)}catch(y){s=!0,l=y}finally{try{a&&null!=R.return&&(yield R.return())}finally{if(s)throw l}}});return function(o){return i.apply(this,arguments)}}())),n.end()}catch(i){n.end(i)}})),yield*Kf(oo(n))})()}(i,o())}return r.source};var VW=E(50233);class Hj extends Error{constructor(t){super(t),this.name="TimeoutError"}}class zW extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const Wj=r=>void 0===globalThis.DOMException?new zW(r):new DOMException(r),Gj=r=>{const t=void 0===r.reason?Wj("This operation was aborted."):r.reason;return t instanceof Error?t:Wj(t)};var eg,d1=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};eg=new WeakMap;const ZW=class GW{constructor(){eg.set(this,[])}enqueue(t,n){const i={priority:(n={priority:0,...n}).priority,run:t};if(this.size&&d1(this,eg,"f")[this.size-1].priority>=n.priority)return void d1(this,eg,"f").push(i);const o=function WW(r,t,n){let i=0,o=r.length;for(;o>0;){const a=Math.trunc(o/2);let s=i+a;n(r[s],t)<=0?(i=++s,o-=a+1):o=a}return i}(d1(this,eg,"f"),i,(a,s)=>s.priority-a.priority);d1(this,eg,"f").splice(o,0,i)}dequeue(){const t=d1(this,eg,"f").shift();return t?.run}filter(t){return d1(this,eg,"f").filter(n=>n.priority===t.priority).map(n=>n.run)}get size(){return d1(this,eg,"f").length}};var zc,XI,JI,sb,Mk,qI,Ak,Jp,QI,rh,Tk,ih,eD,ab,Ik,Zj,Yj,Xj,Jj,qj,Dk,I9,D9,Ck,Qj,kk,Ha=function(r,t,n,i,o){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?r!==t||!o:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(r,n):o?o.value=n:t.set(r,n),n},ii=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};class eK extends Error{}XI=new WeakMap,JI=new WeakMap,sb=new WeakMap,Mk=new WeakMap,qI=new WeakMap,Ak=new WeakMap,Jp=new WeakMap,QI=new WeakMap,rh=new WeakMap,Tk=new WeakMap,ih=new WeakMap,eD=new WeakMap,ab=new WeakMap,Ik=new WeakMap,zc=new WeakSet,Zj=function(){return ii(this,JI,"f")||ii(this,sb,"f")<ii(this,Mk,"f")},Yj=function(){return ii(this,ih,"f")<ii(this,eD,"f")},Xj=function(){var t;Ha(this,ih,(t=ii(this,ih,"f"),--t),"f"),ii(this,zc,"m",Dk).call(this),this.emit("next")},Jj=function(){ii(this,zc,"m",D9).call(this),ii(this,zc,"m",I9).call(this),Ha(this,QI,void 0,"f")},qj=function(){const t=Date.now();if(void 0===ii(this,Jp,"f")){const n=ii(this,Ak,"f")-t;if(!(n<0))return void 0===ii(this,QI,"f")&&Ha(this,QI,setTimeout(()=>{ii(this,zc,"m",Jj).call(this)},n),"f"),!0;Ha(this,sb,ii(this,XI,"f")?ii(this,ih,"f"):0,"f")}return!1},Dk=function(){if(0===ii(this,rh,"f").size)return ii(this,Jp,"f")&&clearInterval(ii(this,Jp,"f")),Ha(this,Jp,void 0,"f"),this.emit("empty"),0===ii(this,ih,"f")&&this.emit("idle"),!1;if(!ii(this,ab,"f")){const t=!ii(this,zc,"a",qj);if(ii(this,zc,"a",Zj)&&ii(this,zc,"a",Yj)){const n=ii(this,rh,"f").dequeue();return!!n&&(this.emit("active"),n(),t&&ii(this,zc,"m",I9).call(this),!0)}}return!1},I9=function(){ii(this,JI,"f")||void 0!==ii(this,Jp,"f")||(Ha(this,Jp,setInterval(()=>{ii(this,zc,"m",D9).call(this)},ii(this,qI,"f")),"f"),Ha(this,Ak,Date.now()+ii(this,qI,"f"),"f"))},D9=function(){0===ii(this,sb,"f")&&0===ii(this,ih,"f")&&ii(this,Jp,"f")&&(clearInterval(ii(this,Jp,"f")),Ha(this,Jp,void 0,"f")),Ha(this,sb,ii(this,XI,"f")?ii(this,ih,"f"):0,"f"),ii(this,zc,"m",Ck).call(this)},Ck=function(){for(;ii(this,zc,"m",Dk).call(this););},Qj=function(){var r=(0,m.A)(function*(n){return new Promise((i,o)=>{n.addEventListener("abort",()=>{o(new eK("The task was aborted."))},{once:!0})})});return function t(n){return r.apply(this,arguments)}}(),kk=function(){var r=(0,m.A)(function*(n,i){return new Promise(o=>{const a=()=>{i&&!i()||(this.off(n,a),o())};this.on(n,a)})});return function t(n,i){return r.apply(this,arguments)}}();const XW=class YW extends VW{constructor(t){var n,i,o,a;if(super(),zc.add(this),XI.set(this,void 0),JI.set(this,void 0),sb.set(this,0),Mk.set(this,void 0),qI.set(this,void 0),Ak.set(this,0),Jp.set(this,void 0),QI.set(this,void 0),rh.set(this,void 0),Tk.set(this,void 0),ih.set(this,0),eD.set(this,void 0),ab.set(this,void 0),Ik.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:ZW,...t}).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(i=null===(n=t.intervalCap)||void 0===n?void 0:n.toString())&&void 0!==i?i:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(a=null===(o=t.interval)||void 0===o?void 0:o.toString())&&void 0!==a?a:""}\` (${typeof t.interval})`);Ha(this,XI,t.carryoverConcurrencyCount,"f"),Ha(this,JI,t.intervalCap===Number.POSITIVE_INFINITY||0===t.interval,"f"),Ha(this,Mk,t.intervalCap,"f"),Ha(this,qI,t.interval,"f"),Ha(this,rh,new t.queueClass,"f"),Ha(this,Tk,t.queueClass,"f"),this.concurrency=t.concurrency,this.timeout=t.timeout,Ha(this,Ik,!0===t.throwOnTimeout,"f"),Ha(this,ab,!1===t.autoStart,"f")}get concurrency(){return ii(this,eD,"f")}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);Ha(this,eD,t,"f"),ii(this,zc,"m",Ck).call(this)}add(t,n={}){var i=this;return(0,m.A)(function*(){return n={timeout:i.timeout,throwOnTimeout:ii(i,Ik,"f"),...n},new Promise((o,a)=>{ii(i,rh,"f").enqueue((0,m.A)(function*(){var s,l,R;Ha(i,ih,(l=ii(i,ih,"f"),++l),"f"),Ha(i,sb,(R=ii(i,sb,"f"),++R),"f");try{if(null!==(s=n.signal)&&void 0!==s&&s.aborted)throw new eK("The task was aborted.");let I=t({signal:n.signal});n.timeout&&(I=function HW(r,t,n,i){let o;const a=new Promise((s,l)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t!==Number.POSITIVE_INFINITY){if((i={customTimers:{setTimeout,clearTimeout},...i}).signal){const{signal:R}=i;R.aborted&&l(Gj(R)),R.addEventListener("abort",()=>{l(Gj(R))})}o=i.customTimers.setTimeout.call(void 0,()=>{if("function"==typeof n){try{s(n())}catch(y){l(y)}return}const I=n instanceof Error?n:new Hj("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof r.cancel&&r.cancel(),l(I)},t),(0,m.A)(function*(){try{s(yield r)}catch(R){l(R)}finally{i.customTimers.clearTimeout.call(void 0,o)}})()}else s(r)});return a.clear=()=>{clearTimeout(o),o=void 0},a}(Promise.resolve(I),n.timeout)),n.signal&&(I=Promise.race([I,ii(i,zc,"m",Qj).call(i,n.signal)]));const y=yield I;o(y),i.emit("completed",y)}catch(I){if(I instanceof Hj&&!n.throwOnTimeout)return void o();a(I),i.emit("error",I)}finally{ii(i,zc,"m",Xj).call(i)}}),n),i.emit("add"),ii(i,zc,"m",Dk).call(i)})})()}addAll(t,n){var i=this;return(0,m.A)(function*(){return Promise.all(t.map(function(){var o=(0,m.A)(function*(a){return i.add(a,n)});return function(a){return o.apply(this,arguments)}}()))})()}start(){return ii(this,ab,"f")?(Ha(this,ab,!1,"f"),ii(this,zc,"m",Ck).call(this),this):this}pause(){Ha(this,ab,!0,"f")}clear(){Ha(this,rh,new(ii(this,Tk,"f")),"f")}onEmpty(){var t=this;return(0,m.A)(function*(){0!==ii(t,rh,"f").size&&(yield ii(t,zc,"m",kk).call(t,"empty"))})()}onSizeLessThan(t){var n=this;return(0,m.A)(function*(){ii(n,rh,"f").size<t||(yield ii(n,zc,"m",kk).call(n,"next",()=>ii(n,rh,"f").size<t))})()}onIdle(){var t=this;return(0,m.A)(function*(){0===ii(t,ih,"f")&&0===ii(t,rh,"f").size||(yield ii(t,zc,"m",kk).call(t,"idle"))})()}get size(){return ii(this,rh,"f").size}sizeBy(t){return ii(this,rh,"f").filter(t).length}get pending(){return ii(this,ih,"f")}get isPaused(){return ii(this,ab,"f")}};function tK(r,t,n,i,o,a,s){return C9.apply(this,arguments)}function C9(){return C9=(0,m.A)(function*(r,t,n,i,o,a,s){if(t instanceof Uint8Array){const I=xk(t,i,o,a);return void n.push(I)}if(null==t.Data)throw Vc(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let l;try{l=Bd.unmarshal(t.Data)}catch(I){throw Vc(I,"ERR_NOT_UNIXFS")}if(null!=l.data){const y=xk(l.data,i,o,a);n.push(y),i+=BigInt(y.byteLength)}const R=[];if(t.Links.length!==l.blockSizes.length)throw Vc(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let I=0;I<t.Links.length;I++){const ye=i+l.blockSizes[I];if((o>=i&&o<ye||a>=i&&a<=ye||o<i&&a>ye)&&R.push({link:t.Links[I],blockStart:i}),(i=ye)>a)break}yield A9(R,I=>_9(I,y=>(0,m.A)(function*(){const L=yield r.get(y.link.Hash,s);return{...y,block:L}})),I=>E9(I,{ordered:!0}),function(){var I=(0,m.A)(function*(y){var Te,L=!1,ye=!1;try{for(var Ce,Me=oo(y);L=!(Ce=yield Me.next()).done;L=!1){const{link:je,block:Je,blockStart:ze}=Ce.value;{let He;switch(je.Hash.code){case W2:He=Ew(Je);break;case Qg:He=Je;break;default:return void n.end(Vc(new Error(`Unsupported codec: ${je.Hash.code}`),"ERR_NOT_UNIXFS"))}const rt=new XW({concurrency:1});rt.on("error",yt=>{n.end(yt)}),rt.add((0,m.A)(function*(){s.onProgress?.(new Nd("unixfs:exporter:walk:file",{cid:je.Hash})),yield tK(r,He,n,ze,o,a,s)})),yield rt.onIdle()}}}catch(je){ye=!0,Te=je}finally{try{L&&null!=Me.return&&(yield Me.return())}finally{if(ye)throw Te}}});return function(y){return I.apply(this,arguments)}}()),i>=a&&n.end()}),C9.apply(this,arguments)}const nK=(r,t,n,i,o,a,s)=>{function R(){return(R=No(function*(I={}){const y=n.fileSize();if(void 0===y)throw new Error("File was a directory");const{start:L,end:ye}=w9(y,I.offset,I.length);if(0n===ye)return;let Te=0n;const Me=ye-L,Ce=M9();I.onProgress?.(new Nd("unixfs:exporter:walk:file",{cid:r})),tK(s,t,Ce,0n,L,ye,I).catch(yt=>{Ce.end(yt)});var ze,je=!1,Je=!1;try{for(var rt,He=oo(Ce);je=!(rt=yield Zr(He.next())).done;je=!1){const yt=rt.value;if(null!=yt){if(Te+=BigInt(yt.byteLength),Te>Me)throw Ce.end(),Vc(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");Te===Me&&Ce.end(),I.onProgress?.(new Nd("unixfs:exporter:progress:unixfs:file",{bytesRead:Te,totalBytes:Me,fileSize:y})),yield yt}}}catch(yt){Je=!0,ze=yt}finally{try{je&&null!=He.return&&(yield Zr(He.return()))}finally{if(Je)throw ze}}if(Te<Me)throw Vc(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")})).apply(this,arguments)}return function l(){return R.apply(this,arguments)}};function rK(r,t,n,i,o,a){return k9.apply(this,arguments)}function k9(){return k9=No(function*(r,t,n,i,o,a){const l=A9(r.Links,Te=>_9(Te,Me=>(0,m.A)(function*(){const Ce=null!=Me.Name?Me.Name.substring(2):null;if(null!=Ce&&""!==Ce){const je=yield n(Me.Hash,Ce,`${t}/${Ce}`,[],i+1,o,a);return{entries:null==je.entry?[]:[je.entry]}}{const je=yield o.get(Me.Hash,a);return r=Ew(je),a.onProgress?.(new Nd("unixfs:exporter:walk:hamt-sharded-directory",{cid:Me.Hash})),{entries:rK(r,t,n,i,o,a)}}})),Te=>E9(Te,{ordered:!0}));var y,R=!1,I=!1;try{for(var ye,L=oo(l);R=!(ye=yield Zr(L.next())).done;R=!1){const{entries:Te}=ye.value;yield*Kf(oo(Te))}}catch(Te){I=!0,y=Te}finally{try{R&&null!=L.return&&(yield Zr(L.return()))}finally{if(I)throw y}}}),k9.apply(this,arguments)}const eG={raw:nK,file:nK,directory:(r,t,n,i,o,a,s)=>{function R(){return(R=No(function*(I={}){const ye=t.Links.slice(I.offset??0,I.length??t.Links.length);I.onProgress?.(new Nd("unixfs:exporter:walk:directory",{cid:r})),yield*Kf(oo(A9(ye,Te=>_9(Te,Me=>(0,m.A)(function*(){const Ce=Me.Name??"",je=`${i}/${Ce}`;return(yield o(Me.Hash,Ce,je,[],a+1,s,I)).entry})),Te=>E9(Te,{ordered:!0}),Te=>function PW(r,t){let n=0;if(function kW(r){return null!=r[Symbol.asyncIterator]}(r))return No(function*(){var y,R=!1,I=!1;try{for(var ye,L=oo(r);R=!(ye=yield Zr(L.next())).done;R=!1){const Te=ye.value;(yield Zr(t(Te,n++)))&&(yield Te)}}catch(Te){I=!0,y=Te}finally{try{R&&null!=L.return&&(yield Zr(L.return()))}finally{if(I)throw y}}})();const i=jj(r),{value:o,done:a}=i.next();if(!0===a)return function*(){}();const s=t(o,n++);if("function"==typeof s.then)return No(function*(){(yield Zr(s))&&(yield o);var y,R=!1,I=!1;try{for(var ye,L=oo(i);R=!(ye=yield Zr(L.next())).done;R=!1){const Te=ye.value;(yield Zr(t(Te,n++)))&&(yield Te)}}catch(Te){I=!0,y=Te}finally{try{R&&null!=L.return&&(yield Zr(L.return()))}finally{if(I)throw y}}})();const l=t;return function*(){!0===s&&(yield o);for(const R of i)l(R,n++)&&(yield R)}()}(Te,Me=>null!=Me))))})).apply(this,arguments)}return function l(){return R.apply(this,arguments)}},"hamt-sharded-directory":(r,t,n,i,o,a,s)=>function l(R={}){return R.onProgress?.(new Nd("unixfs:exporter:walk:hamt-sharded-directory",{cid:r})),rK(t,i,o,a,s,R)},metadata:(r,t,n,i,o,a,s)=>()=>[],symlink:(r,t,n,i,o,a,s)=>()=>[]},tG=function(){var r=(0,m.A)(function*(t,n,i,o,a,s,l,R){const y=Ew(yield l.get(t,R));let L,ye;if(null==n&&(n=t.toString()),null==y.Data)throw Vc(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{L=Bd.unmarshal(y.Data)}catch(Me){throw Vc(Me,"ERR_NOT_UNIXFS")}if(null==i&&(i=n),o.length>0){let Me;if(Me="hamt-sharded-directory"===L?.type?yield DW(y,o[0],l):((r,t)=>r.Links.find(i=>i.Name===t)?.Hash)(y,o[0]),null==Me)throw Vc(new Error("file does not exist"),"ERR_NOT_FOUND");const Ce=o.shift();ye={cid:Me,toResolve:o,name:Ce??"",path:`${i}/${Ce}`}}const Te=eG[L.type](t,y,L,i,a,s,l);if(null==Te)throw Vc(new Error("could not find content exporter"),"ERR_NOT_FOUND");return L.isDirectory()?{entry:{type:"directory",name:n,path:i,cid:t,content:Te,unixfs:L,depth:s,node:y,size:L.fileSize()},next:ye}:{entry:{type:"file",name:n,path:i,cid:t,content:Te,unixfs:L,depth:s,node:y,size:L.fileSize()},next:ye}});return function(n,i,o,a,s,l,R,I){return r.apply(this,arguments)}}(),nG={[W2]:tG,[Qg]:MW,[lw]:wW,0:xW},iK=function(){var r=(0,m.A)(function*(t,n,i,o,a,s,l){const R=nG[t.code];if(null==R)throw Vc(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return R(t,n,i,o,iK,a,s,l)});return function(n,i,o,a,s,l,R){return r.apply(this,arguments)}}(),rG=iK,oG=r=>{if(r instanceof Uint8Array)return{cid:uo.decode(r),toResolve:[]};const t=uo.asCID(r);if(null!=t)return{cid:t,toResolve:[]};if("string"==typeof r){0===r.indexOf("/ipfs/")&&(r=r.substring(6));const n=((r="")=>(r.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean))(r);return{cid:uo.parse(n[0]),toResolve:n.slice(1)}}throw Vc(new Error(`Unknown path type ${r}`),"ERR_BAD_PATH")};function P9(){return P9=No(function*(r,t,n={}){let{cid:i,toResolve:o}=oG(r),a=i.toString(),s=a;const l=o.length;for(;;){const R=yield Zr(rG(i,a,s,o,l,t,n));if(null==R.entry&&null==R.next)throw Vc(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");if(null!=R.entry&&(yield R.entry),null==R.next)return;o=R.next.toResolve,i=R.next.cid,a=R.next.name,s=R.next.path}}),P9.apply(this,arguments)}function R9(){return R9=(0,m.A)(function*(r,t,n={}){const i=yield gW(function sG(r,t){return P9.apply(this,arguments)}(r,t,n));if(null==i)throw Vc(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");return i}),R9.apply(this,arguments)}var cb=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class cG{constructor(t={}){this.config=Object.assign({blockstoreLocation:"DATASTORE",createLevelDatabase:l1},t),this.blockstore=new Ek({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return cb(this,void 0,void 0,function*(){yield this.blockstore.open()})}close(){return cb(this,void 0,void 0,function*(){yield this.blockstore.close()})}put(t,n,i,o){var a,s,l,I,y;return cb(this,void 0,void 0,function*(){const L=yield this.getBlockstoreForStoringData(t,n,i),ye=av([{content:o}],L,{cidVersion:1});let Te;try{for(var je,Me=!0,Ce=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=r[a]&&function(s){return new Promise(function(l,R){!function o(a,s,l,R){Promise.resolve(R).then(function(I){a({value:I,done:l})},s)}(l,R,(s=r[a](s)).done,s.value)})}}}(ye);je=yield Ce.next(),!(a=je.done);Me=!0)Me=!1,Te=je.value}catch(Je){s={error:Je}}finally{try{!Me&&!a&&(l=Ce.return)&&(yield l.call(Ce))}finally{if(s)throw s.error}}return{dataSize:Number(null!==(y=null===(I=Te.unixfs)||void 0===I?void 0:I.fileSize())&&void 0!==y?y:Te.size)}})}get(t,n,i){return cb(this,void 0,void 0,function*(){const o=yield this.getBlockstoreForStoringData(t,n,i);if(!(yield o.has(i)))return;const s=yield function oK(r,t){return R9.apply(this,arguments)}(i,o),l=s.content(),R=new Qw.Readable({read(){return cb(this,void 0,void 0,function*(){const y=yield l.next();this.push(y.done?null:y.value)})}});let I=s.size;return("file"===s.type||"directory"===s.type)&&(I=s.unixfs.fileSize()),{dataSize:Number(I),dataStream:R}})}delete(t,n,i){return cb(this,void 0,void 0,function*(){yield(yield this.getBlockstoreForStoringData(t,n,i)).clear()})}clear(){return cb(this,void 0,void 0,function*(){yield this.blockstore.clear()})}getBlockstoreForStoringData(t,n,i){return cb(this,void 0,void 0,function*(){return yield(yield(yield(yield this.blockstore.partition("data")).partition(t)).partition(n)).partition(i)})}}var Kl=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},tD=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=r[a]&&function(s){return new Promise(function(l,R){!function o(a,s,l,R){Promise.resolve(R).then(function(I){a({value:I,done:l})},s)}(l,R,(s=r[a](s)).done,s.value)})}}},u1=function(r){return this instanceof u1?(this.v=r,this):new u1(r)};let Pk=(()=>{class r{constructor(n){this.config=Object.assign({createLevelDatabase:l1},n),this.db=new rS({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return Kl(this,void 0,void 0,function*(){yield this.db.open()})}close(){return Kl(this,void 0,void 0,function*(){yield this.db.close()})}clear(){return Kl(this,void 0,void 0,function*(){yield this.db.clear()})}put(n,i,o,a){return Kl(this,void 0,void 0,function*(){if(TE(o))throw new wt(Pt.IndexMissingIndexableProperty,"Index must include at least one valid indexable property");const s={messageCid:i,indexes:o},l=[];for(const L in o){const ye=o[L];if(Array.isArray(ye))for(const Te of ye){const Me=this.createPutIndexedItemOperation(n,s,L,Te);l.push(Me)}else{const Te=this.createPutIndexedItemOperation(n,s,L,ye);l.push(Te)}}const R=this.createOperationForIndexesLookupPartition(n,{type:"put",key:i,value:JSON.stringify(o)});l.push(R);const I=yield Promise.all(l);yield(yield this.db.partition(n)).batch(I,a)})}delete(n,i,o){return Kl(this,void 0,void 0,function*(){const a=[],s=yield this.getIndexes(n,i);if(void 0===s)return;const l=this.createOperationForIndexesLookupPartition(n,{type:"del",key:i});a.push(l);for(const y in s){const L=s[y];if(Array.isArray(L))for(const ye of L){const Te=this.createDeleteIndexedItemOperation(n,i,y,ye);a.push(Te)}else{const ye=this.createDeleteIndexedItemOperation(n,i,y,L);a.push(ye)}}const R=yield Promise.all(a);yield(yield this.db.partition(n)).batch(R,o)})}createPutIndexedItemOperation(n,i,o,a){return Kl(this,void 0,void 0,function*(){const{messageCid:s}=i,l=r.keySegmentJoin(r.encodeValue(a),s);return this.createOperationForIndexPartition(n,o,{type:"put",key:l,value:JSON.stringify(i)})})}createDeleteIndexedItemOperation(n,i,o,a){return Kl(this,void 0,void 0,function*(){const s=r.keySegmentJoin(r.encodeValue(a),i);return this.createOperationForIndexPartition(n,o,{type:"del",key:s})})}createOperationForIndexPartition(n,i,o){return Kl(this,void 0,void 0,function*(){const a=yield this.db.partition(n),s=r.getIndexPartitionName(i);return a.createPartitionOperation(s,o)})}createOperationForIndexesLookupPartition(n,i){return Kl(this,void 0,void 0,function*(){return(yield this.db.partition(n)).createPartitionOperation("index",i)})}static getIndexPartitionName(n){return`__${n}__`}getIndexPartition(n,i){return Kl(this,void 0,void 0,function*(){const o=r.getIndexPartitionName(i);return(yield this.db.partition(n)).partition(o)})}getIndexesLookupPartition(n){return Kl(this,void 0,void 0,function*(){return(yield this.db.partition(n)).partition("index")})}query(n,i,o,a){return Kl(this,void 0,void 0,function*(){return r.shouldQueryWithInMemoryPaging(i,o)?this.queryWithInMemoryPaging(n,i,o,a):this.queryWithIteratorPaging(n,i,o,a)})}queryWithIteratorPaging(n,i,o,a){var s,l,R;return Kl(this,void 0,void 0,function*(){const{cursor:y,limit:L}=o,ye=y?this.createStartingKeyFromCursor(y):"",Te=[];try{for(var je,Me=!0,Ce=tD(this.getIndexIterator(n,ye,o,a));je=yield Ce.next(),!(s=je.done);Me=!0){Me=!1;const Je=je.value;if(void 0!==L&&L===Te.length)break;const{indexes:ze}=Je;ad.matchAnyFilter(ze,i)&&Te.push(Je)}}catch(Je){l={error:Je}}finally{try{!Me&&!s&&(R=Ce.return)&&(yield R.call(Ce))}finally{if(l)throw l.error}}return Te})}getIndexIterator(n,i,o,a){return function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(r,t||[]),a=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(ye){i[ye]&&(o[ye]=function(Te){return new Promise(function(Me,Ce){a.push([ye,Te,Me,Ce])>1||l(ye,Te)})})}function l(ye,Te){try{!function R(ye){ye.value instanceof u1?Promise.resolve(ye.value.v).then(I,y):L(a[0][2],ye)}(i[ye](Te))}catch(Me){L(a[0][3],Me)}}function I(ye){l("next",ye)}function y(ye){l("throw",ye)}function L(ye,Te){ye(Te),a.shift(),a.length&&l(a[0][0],a[0][1])}}(this,arguments,function*(){var l,R,I,y;const{sortProperty:L,sortDirection:ye=Yf.Ascending,cursor:Te}=o,Me={gt:i};ye===Yf.Descending&&(Me.reverse=!0,void 0!==Te&&(Me.lt=i,delete Me.gt));const Ce=yield u1(this.getIndexPartition(n,L));try{for(var ze,je=!0,Je=tD(Ce.iterator(Me,a));!(l=(ze=yield u1(Je.next())).done);je=!0){y=ze.value,je=!1;const[He,rt]=y,{indexes:yt,messageCid:ct}=JSON.parse(rt);yield yield u1({indexes:yt,messageCid:ct})}}catch(He){R={error:He}}finally{try{!je&&!l&&(I=Je.return)&&(yield u1(I.call(Je)))}finally{if(R)throw R.error}}})}createStartingKeyFromCursor(n){const{messageCid:i,value:o}=n;return r.keySegmentJoin(r.encodeValue(o),i)}static createCursorFromLastArrayItem(n,i){if(n.length>0)return this.createCursorFromItem(n.at(-1),i)}static createCursorFromItem(n,i){const{messageCid:o,indexes:a}=n,s=a[i];if(void 0===s)throw new wt(Pt.IndexInvalidCursorSortProperty,`the sort property '${i}' is not defined within the given item.`);if("boolean"==typeof s||Array.isArray(s))throw new wt(Pt.IndexInvalidCursorValueType,`only string or number values are supported for cursors, a(n) ${typeof s} was given.`);return{messageCid:o,value:s}}queryWithInMemoryPaging(n,i,o,a){return Kl(this,void 0,void 0,function*(){const{sortProperty:s,sortDirection:l=Yf.Ascending,cursor:R,limit:I}=o,y=R?this.createStartingKeyFromCursor(R):void 0,L=new Map;0===i.length&&(i=[{}]);try{yield Promise.all(i.map(Ce=>this.executeSingleFilterQuery(n,Ce,s,L,a)))}catch(Ce){if(Ce.code===Pt.IndexInvalidSortPropertyInMemory)return[]}const ye=[...L.values()].sort((Ce,je)=>this.sortItems(Ce,je,s,l)),Te=void 0!==y?this.findCursorStartingIndex(ye,l,s,y):0;return Te<0?[]:ye.slice(Te,void 0!==I?Te+I:void 0)})}executeSingleFilterQuery(n,i,o,a,s){return Kl(this,void 0,void 0,function*(){const l=[];if(TE(i)){const I=this.getAllItems(n,o);l.push(I)}const R=AB.reduceFilter(i);for(const I in R){const y=R[I];if(ad.isEqualFilter(y)){const L=this.filterExactMatches(n,I,y,s);l.push(L)}else if(ad.isOneOfFilter(y))for(const L of new Set(y)){const ye=this.filterExactMatches(n,I,L,s);l.push(ye)}else if(ad.isRangeFilter(y)){const L=this.filterRangeMatches(n,I,y,s);l.push(L)}}for(const I of l){const y=yield I;for(const L of y)if(!a.has(L.messageCid)&&ad.matchFilter(L.indexes,i)){if(void 0===L.indexes[o])throw new wt(Pt.IndexInvalidSortPropertyInMemory,`invalid sort property ${o}`);a.set(L.messageCid,L)}}})}getAllItems(n,i){var o,a,s,l;return Kl(this,void 0,void 0,function*(){const R=yield this.getIndexPartition(n,i),I=[];try{for(var ye,y=!0,L=tD(R.iterator());ye=yield L.next(),!(o=ye.done);y=!0){l=ye.value,y=!1;const[Te,Me]=l;I.push(JSON.parse(Me))}}catch(Te){a={error:Te}}finally{try{!y&&!o&&(s=L.return)&&(yield s.call(L))}finally{if(a)throw a.error}}return I})}filterExactMatches(n,i,o,a){var s,l,R,I;return Kl(this,void 0,void 0,function*(){const y=r.keySegmentJoin(r.encodeValue(o)),L={gt:y},ye=yield this.getIndexPartition(n,i),Te=[];try{for(var je,Me=!0,Ce=tD(ye.iterator(L,a));je=yield Ce.next(),!(s=je.done);Me=!0){I=je.value,Me=!1;const[Je,ze]=I;if(!Je.startsWith(y))break;Te.push(JSON.parse(ze))}}catch(Je){l={error:Je}}finally{try{!Me&&!s&&(R=Ce.return)&&(yield R.call(Ce))}finally{if(l)throw l.error}}return Te})}filterRangeMatches(n,i,o,a){var s,l,R,I;return Kl(this,void 0,void 0,function*(){const y={};for(const je in o)y[je]=r.encodeValue(o[je]);void 0===y.gt&&void 0===y.gte&&(y.reverse=!0);const L=[],ye=yield this.getIndexPartition(n,i);try{for(var Ce,Te=!0,Me=tD(ye.iterator(y,a));Ce=yield Me.next(),!(s=Ce.done);Te=!0){I=Ce.value,Te=!1;const[je,Je]=I;"gt"in o&&this.extractIndexValueFromKey(je)===r.encodeValue(o.gt)||L.push(JSON.parse(Je))}}catch(je){l={error:je}}finally{try{!Te&&!s&&(R=Me.return)&&(yield R.call(Me))}finally{if(l)throw l.error}}if("lte"in o)for(const je of yield this.filterExactMatches(n,i,o.lte,a))L.push(je);return L})}sortItems(n,i,o,a){const l=i.indexes[o],R=r.encodeValue(n.indexes[o])+n.messageCid,I=r.encodeValue(l)+i.messageCid;return a===Yf.Ascending?t_(R,I):t_(I,R)}findCursorStartingIndex(n,i,o,a){return n.findIndex(l=>{const{messageCid:R,indexes:I}=l,L=r.keySegmentJoin(r.encodeValue(I[o]),R);return i===Yf.Ascending?L>a:L<a})}getIndexes(n,i){return Kl(this,void 0,void 0,function*(){const a=yield(yield this.getIndexesLookupPartition(n)).get(i);if(void 0!==a)return JSON.parse(a)})}extractIndexValueFromKey(n){const[i]=n.split(r.delimiter);return i}static keySegmentJoin(...n){return n.join(r.delimiter)}static encodeNumberValue(n){const i=Number.MAX_SAFE_INTEGER,a=String(Number.MAX_SAFE_INTEGER).length;return(n<0?"!":"")+String(n+(n<0?i:0)).padStart(a,"0")}static encodeValue(n){return"number"==typeof n?this.encodeNumberValue(n):JSON.stringify(n)}static shouldQueryWithInMemoryPaging(n,i){for(const o of n)if(!r.isFilterConcise(o,i))return!1;return!0}static isFilterConcise(n,i){return void 0!==n.recordId||void 0===i.cursor&&(void 0!==n.protocolPath||void 0!==n.contextId||void 0!==n.parentId||void 0!==n.schema)}}return r.delimiter="\0",r})();function B9(r){if(!N9(r))throw new Error("Parameter was not an error")}function N9(r){return"[object Error]"===function dG(r){return Object.prototype.toString.call(r)}(r)||r instanceof Error}class oh extends Error{constructor(t,n){const i=[...arguments],{options:o,shortMessage:a}=function uG(r){let t,n="";if(0===r.length)t={};else if(N9(r[0]))t={cause:r[0]},n=r.slice(1).join(" ")||"";else if(r[0]&&"object"==typeof r[0])t=Object.assign({},r[0]),n=r.slice(1).join(" ")||"";else{if("string"!=typeof r[0])throw new Error("Invalid arguments passed to Layerr");t={},n=n=r.join(" ")||""}return{options:t,shortMessage:n}}(i);let s=a;o.cause&&(s=`${s}: ${o.cause.message}`),super(s),this.message=s,this.name=o.name&&"string"==typeof o.name?o.name:"Layerr",o.cause&&Object.defineProperty(this,"_cause",{value:o.cause}),Object.defineProperty(this,"_info",{value:{}}),o.info&&"object"==typeof o.info&&Object.assign(this._info,o.info),Error.captureStackTrace&&Error.captureStackTrace(this,o.constructorOpt||this.constructor)}static cause(t){return B9(t),t._cause&&N9(t._cause)?t._cause:null}static fullStack(t){B9(t);const n=oh.cause(t);return n?`${t.stack}\ncaused by: ${oh.fullStack(n)}`:t.stack}static info(t){B9(t);const n={},i=oh.cause(t);return i&&Object.assign(n,oh.info(i)),t._info&&Object.assign(n,t._info),n}cause(){return oh.cause(this)}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}const f1="0123456789ABCDEFGHJKMNPQRSTVWXYZ",h1=32,L9=0xffffffffffff,M0=Object.freeze({source:"ulid"});function U9(r,t){if(isNaN(r))throw new oh({info:{code:"ENC_TIME_NAN",...M0}},`Time must be a number: ${r}`);if(r>L9)throw new oh({info:{code:"ENC_TIME_SIZE_EXCEED",...M0}},`Cannot encode a time larger than ${L9}: ${r}`);if(r<0)throw new oh({info:{code:"ENC_TIME_NEG",...M0}},`Time must be positive: ${r}`);if(!1===Number.isInteger(r))throw new oh({info:{code:"ENC_TIME_TYPE",...M0}},`Time must be an integer: ${r}`);let n,i="";for(let o=t;o>0;o--)n=r%h1,i=f1.charAt(n)+i,r=(r-n)/h1;return i}function lK(r){const t=r||function aK(r){const t=r||function fG(){return function pG(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}(),n=t&&(t.crypto||t.msCrypto)||null;if("function"==typeof n?.getRandomValues)return()=>{const i=new Uint8Array(1);return n.getRandomValues(i),i[0]/255};if("function"==typeof n?.randomBytes)return()=>n.randomBytes(1).readUInt8()/255;throw new oh({info:{code:"PRNG_DETECT",...M0}},"Failed to find a reliable PRNG")}();let i,n=0;return function(a){const s=isNaN(a)?Date.now():a;if(s<=n){const R=i=function hG(r){let t,i,o,n=r.length,a=r;const s=h1-1;for(;!t&&n-- >=0;){if(i=a[n],o=f1.indexOf(i),-1===o)throw new oh({info:{code:"B32_INC_ENC",...M0}},"Incorrectly encoded string");o!==s?t=dK(a,n,f1[o+1]):a=dK(a,n,f1[0])}if("string"==typeof t)return t;throw new oh({info:{code:"B32_INC_INVALID",...M0}},"Failed incrementing string")}(i);return U9(n,10)+R}n=s;const l=i=function cK(r,t){let n="";for(;r>0;r--)n=mG(t)+n;return n}(16,t);return U9(s,10)+l}}function mG(r){let t=Math.floor(r()*h1);return t===h1&&(t=h1-1),f1.charAt(t)}function dK(r,t,n){return t>r.length-1?r:r.substr(0,t)+n+r.substr(t+1)}var p1=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class yG{constructor(t){this.index=new Pk(Object.assign({location:"EVENTLOG",createLevelDatabase:l1},t)),this.ulidFactory=lK()}open(){return p1(this,void 0,void 0,function*(){return this.index.open()})}close(){return p1(this,void 0,void 0,function*(){return this.index.close()})}clear(){return p1(this,void 0,void 0,function*(){return this.index.clear()})}append(t,n,i){return p1(this,void 0,void 0,function*(){const o=this.ulidFactory();yield this.index.put(t,n,Object.assign(Object.assign({},i),{watermark:o}))})}queryEvents(t,n,i){return p1(this,void 0,void 0,function*(){const o=yield this.index.query(t,n,{sortProperty:"watermark",cursor:i});return{events:o.map(({messageCid:a})=>a),cursor:Pk.createCursorFromLastArrayItem(o,"watermark")}})}getEvents(t,n){return p1(this,void 0,void 0,function*(){return this.queryEvents(t,[],n)})}deleteEventsByCid(t,n){return p1(this,void 0,void 0,function*(){const i=[];for(const o of n)i.push(this.index.delete(t,o));yield Promise.all(i)})}}function Ok({enumerable:r=!0,configurable:t=!1}={}){return{enumerable:r,configurable:t,writable:!1}}function*gG(r,t){if(null!=t&&"object"==typeof t)if(Array.isArray(t))for(const[n,i]of t.entries()){const o=[...r,n],a=uo.asCID(i);a?yield[o.join("/"),a]:"object"==typeof i&&(yield*F9(i,o))}else{const n=uo.asCID(t);n?yield[r.join("/"),n]:yield*F9(t,r)}}function*F9(r,t){if(null==r||r instanceof Uint8Array)return;const n=uo.asCID(r);n&&(yield[t.join("/"),n]);for(const[i,o]of Object.entries(r)){const a=[...t,i];yield*gG(a,o)}}function*vG(r,t){if(Array.isArray(t))for(const[n,i]of t.entries()){const o=[...r,n];yield o.join("/"),"object"==typeof i&&!uo.asCID(i)&&(yield*j9(i,o))}else yield*j9(t,r)}function*j9(r,t){if(null!=r&&"object"==typeof r)for(const[n,i]of Object.entries(r)){const o=[...t,n];yield o.join("/"),null!=i&&!(i instanceof Uint8Array)&&"object"==typeof i&&!uo.asCID(i)&&(yield*vG(o,i))}}class K9{constructor({cid:t,bytes:n,value:i}){if(!t||!n||typeof i>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=n,this.value=i,this.asBlock=this,Object.defineProperties(this,{cid:Ok(),bytes:Ok(),value:Ok(),asBlock:Ok()})}links(){return F9(this.value,[])}tree(){return j9(this.value,[])}get(t="/"){return function bG(r,t){let n=r;for(const[i,o]of t.entries()){if(n=n[o],null==n)throw new Error(`Object has no property at ${t.slice(0,i+1).map(s=>`[${JSON.stringify(s)}]`).join("")}`);const a=uo.asCID(n);if(a)return{value:a,remaining:t.slice(i+1).join("/")}}return{value:n}}(this.value,t.split("/").filter(Boolean))}}function $9(){return $9=(0,m.A)(function*({value:r,codec:t,hasher:n}){if(typeof r>"u")throw new Error('Missing required argument "value"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.encode(r),o=yield n.digest(i),a=uo.create(1,t.code,o);return new K9({value:r,bytes:i,cid:a})}),$9.apply(this,arguments)}function V9(){return V9=(0,m.A)(function*({bytes:r,codec:t,hasher:n}){if(!r)throw new Error('Missing required argument "bytes"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.decode(r),o=yield n.digest(r),a=uo.create(1,t.code,o);return new K9({value:i,bytes:r,cid:a})}),V9.apply(this,arguments)}var m1=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class H9{constructor(t={}){this.config=Object.assign({blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:l1},t),this.blockstore=new Ek({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new Pk({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return m1(this,void 0,void 0,function*(){yield this.blockstore.open(),yield this.index.open()})}close(){return m1(this,void 0,void 0,function*(){yield this.blockstore.close(),yield this.index.close()})}get(t,n,i){var o;return m1(this,void 0,void 0,function*(){null===(o=i?.signal)||void 0===o||o.throwIfAborted();const a=yield Gd(this.blockstore.partition(t),i?.signal),s=uo.parse(n),l=yield a.get(s,i);return l?(yield Gd(function _G(r){return V9.apply(this,arguments)}({bytes:l,codec:J,hasher:st}),i?.signal)).value:void 0})}query(t,n,i,o,a){var s;return m1(this,void 0,void 0,function*(){null===(s=a?.signal)||void 0===s||s.throwIfAborted();const l=H9.buildQueryOptions(i,o),R=yield this.index.query(t,n,l,a);let I;void 0!==o?.limit&&o.limit<R.length&&(R.splice(-1),I=Pk.createCursorFromLastArrayItem(R,l.sortProperty));const y=[];for(let L=0;L<R.length;L++){const{messageCid:ye}=R[L],Te=yield this.get(t,ye,a);Te&&y.push(Te)}return{messages:y,cursor:I}})}static buildQueryOptions(t={},n={}){let{limit:i,cursor:o}=n;const{dateCreated:a,datePublished:s,messageTimestamp:l}=t;let R=Yf.Ascending,I="messageTimestamp";return void 0!==a?I="dateCreated":void 0!==s?I="datePublished":void 0!==l&&(I="messageTimestamp"),void 0!==t[I]&&(R=t[I]),void 0!==i&&i>0&&(i+=1),{sortDirection:R,sortProperty:I,limit:i,cursor:o}}delete(t,n,i){var o;return m1(this,void 0,void 0,function*(){null===(o=i?.signal)||void 0===o||o.throwIfAborted();const a=yield Gd(this.blockstore.partition(t),i?.signal),s=uo.parse(n);yield a.delete(s,i),yield this.index.delete(t,n,i)})}put(t,n,i,o){var a;return m1(this,void 0,void 0,function*(){null===(a=o?.signal)||void 0===a||a.throwIfAborted();const s=yield Gd(this.blockstore.partition(t),o?.signal),l=yield Gd(function wG(r){return $9.apply(this,arguments)}({value:n,codec:J,hasher:st}),o?.signal),R=Ic.parseCid(yield wr.getCid(n));yield s.put(R,l.bytes,o);const I=R.toString();yield this.index.put(t,I,i,o)})}clear(){return m1(this,void 0,void 0,function*(){yield this.blockstore.clear(),yield this.index.clear()})}}var lb=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};let SG=(()=>{class r{constructor(n){this.config=Object.assign({location:"RESUMABLE-TASK-STORE",createLevelDatabase:l1},n),this.db=new rS({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return lb(this,void 0,void 0,function*(){yield this.db.open()})}close(){return lb(this,void 0,void 0,function*(){yield this.db.close()})}register(n,i){return lb(this,void 0,void 0,function*(){const o=yield Ic.computeCid(n),a={id:o,timeout:Date.now()+1e3*i,retryCount:0,task:n};return yield this.db.put(o,JSON.stringify(a)),a})}grab(n){var i,o,a,s;return lb(this,void 0,void 0,function*(){const l=[];try{for(var y,R=!0,I=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=r[a]&&function(s){return new Promise(function(l,R){!function o(a,s,l,R){Promise.resolve(R).then(function(I){a({value:I,done:l})},s)}(l,R,(s=r[a](s)).done,s.value)})}}}(this.db.iterator());y=yield I.next(),!(i=y.done);R=!0){s=y.value,R=!1;const[L,ye]=s,Te=JSON.parse(ye);if(Date.now()>=Te.timeout&&(Te.timeout=Date.now()+1e3*r.taskTimeoutInSeconds,Te.retryCount++,yield this.db.put(Te.id,JSON.stringify(Te)),l.push(Te)),l.length>=n)break}}catch(L){o={error:L}}finally{try{!R&&!i&&(a=I.return)&&(yield a.call(I))}finally{if(o)throw o.error}}return l})}read(n){return lb(this,void 0,void 0,function*(){const i=yield this.db.get(n);if(i)return JSON.parse(i)})}extend(n,i){return lb(this,void 0,void 0,function*(){const o=yield this.db.get(n);if(o){const a=JSON.parse(o);a.timeout=Date.now()+1e3*i,yield this.db.put(a.id,JSON.stringify(a))}})}delete(n){return lb(this,void 0,void 0,function*(){return this.db.delete(n)})}clear(){return lb(this,void 0,void 0,function*(){yield this.db.clear()})}}return r.taskTimeoutInSeconds=60,r})();E(44356);var Qi=function(r){return r.MessagesQuery="MessagesQuery",r.MessagesRead="MessagesRead",r.MessagesSubscribe="MessagesSubscribe",r.ProtocolsConfigure="ProtocolsConfigure",r.ProtocolsQuery="ProtocolsQuery",r.RecordsDelete="RecordsDelete",r.RecordsQuery="RecordsQuery",r.RecordsRead="RecordsRead",r.RecordsSubscribe="RecordsSubscribe",r.RecordsWrite="RecordsWrite",r}(Qi||{});const uK={[Qi.MessagesQuery]:l0,[Qi.MessagesRead]:Nv,[Qi.MessagesSubscribe]:$_,[Qi.ProtocolsConfigure]:Uu,[Qi.ProtocolsQuery]:Xh,[Qi.RecordsDelete]:Lv,[Qi.RecordsQuery]:Ov,[Qi.RecordsRead]:Ex,[Qi.RecordsSubscribe]:Sx,[Qi.RecordsWrite]:po};class Nk{constructor({did:t,metadata:n}){this.did=t,this.metadata=n}export(){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return{portableDid:yield this.did.export(),metadata:this.metadata}})}}var Zd=E(47565);class G9{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return(0,Zd.s)(t)})}}class A0{}class Z9 extends A0{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield G9.digest({data:n})})}}var Fo=E(94256),ap=E(91006);const Lk="urn:jwk:";function So({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}Vp(n);const i=function IG(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const o=Object.keys(i).sort(),a={};for(const s of o)a[s]=t(i[s]);return a}return i},n=t(r);return JSON.stringify(n)}(n),o=on.string(i).toUint8Array(),a=yield G9.digest({data:o});return on.uint8Array(a).toBase64Url()})}function T0(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function Uk(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function fK(r){return!(!r||"object"!=typeof r||!("kty"in r)||!("k"in r)||"oct"!==r.kty||"string"!=typeof r.k)}function I0(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function Fk(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}function Y9(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}var Yd=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class Bs{static adjustSignatureToLowS({signature:t}){return Yd(this,void 0,void 0,function*(){const n=Fo.bI.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Yd(this,void 0,void 0,function*(){const n=yield Bs.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:on.uint8Array(t).toBase64Url(),x:on.uint8Array(n.x).toBase64Url(),y:on.uint8Array(n.y).toBase64Url()};return i.kid=yield So({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Yd(this,void 0,void 0,function*(){const n=yield Bs.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:on.uint8Array(n.x).toBase64Url(),y:on.uint8Array(n.y).toBase64Url()};return i.kid=yield So({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Yd(this,void 0,void 0,function*(){return Fo.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Yd(this,void 0,void 0,function*(){const n=yield Bs.privateKeyToBytes({privateKey:t}),i=yield Bs.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"secp256k1",x:on.uint8Array(i.x).toBase64Url(),y:on.uint8Array(i.y).toBase64Url()};return o.kid=yield So({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return Yd(this,void 0,void 0,function*(){return Fo.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Yd(this,void 0,void 0,function*(){return Fo.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Yd(this,void 0,void 0,function*(){const t=Fo.bI.utils.randomPrivateKey(),n=yield Bs.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield So({jwk:n}),n})}static getPublicKey({key:t}){var n;return Yd(this,void 0,void 0,function*(){if(!T0(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield So({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Yd(this,void 0,void 0,function*(){if(!T0(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return on.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Yd(this,void 0,void 0,function*(){if(!Uk(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=on.base64Url(t.x).toUint8Array(),o=on.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Yd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield Bs.privateKeyToBytes({privateKey:t}),o=yield Bs.publicKeyToBytes({publicKey:n});return Fo.bI.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return Yd(this,void 0,void 0,function*(){const i=yield Bs.privateKeyToBytes({privateKey:n}),o=(0,Zd.s)(t);return Fo.bI.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Yd(this,void 0,void 0,function*(){return Fo.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Yd(this,void 0,void 0,function*(){try{Fo.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Yd(this,void 0,void 0,function*(){const o=yield Bs.publicKeyToBytes({publicKey:t}),a=(0,Zd.s)(i);return Fo.bI.verify(n,a,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Yd(this,void 0,void 0,function*(){32===t.byteLength&&(t=Fo.bI.getPublicKey(t));const n=Fo.bI.ProjectivePoint.fromHex(t);return{x:(0,ap.lq)(n.x,32),y:(0,ap.lq)(n.y,32)}})}}var jo=E(40499),Xd=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class Ns{static adjustSignatureToLowS({signature:t}){return Xd(this,void 0,void 0,function*(){const n=jo.Ag.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Xd(this,void 0,void 0,function*(){const n=yield Ns.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:on.uint8Array(t).toBase64Url(),x:on.uint8Array(n.x).toBase64Url(),y:on.uint8Array(n.y).toBase64Url()};return i.kid=yield So({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Xd(this,void 0,void 0,function*(){const n=yield Ns.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:on.uint8Array(n.x).toBase64Url(),y:on.uint8Array(n.y).toBase64Url()};return i.kid=yield So({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Xd(this,void 0,void 0,function*(){return jo.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Xd(this,void 0,void 0,function*(){const n=yield Ns.privateKeyToBytes({privateKey:t}),i=yield Ns.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"P-256",x:on.uint8Array(i.x).toBase64Url(),y:on.uint8Array(i.y).toBase64Url()};return o.kid=yield So({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return Xd(this,void 0,void 0,function*(){return jo.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Xd(this,void 0,void 0,function*(){return jo.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Xd(this,void 0,void 0,function*(){const t=jo.Ag.utils.randomPrivateKey(),n=yield Ns.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield So({jwk:n}),n})}static getPublicKey({key:t}){var n;return Xd(this,void 0,void 0,function*(){if(!T0(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield So({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Xd(this,void 0,void 0,function*(){if(!T0(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return on.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Xd(this,void 0,void 0,function*(){if(!Uk(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=on.base64Url(t.x).toUint8Array(),o=on.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Xd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield Ns.privateKeyToBytes({privateKey:t}),o=yield Ns.publicKeyToBytes({publicKey:n});return jo.Ag.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return Xd(this,void 0,void 0,function*(){const i=yield Ns.privateKeyToBytes({privateKey:n}),o=(0,Zd.s)(t);return jo.Ag.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Xd(this,void 0,void 0,function*(){return jo.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Xd(this,void 0,void 0,function*(){try{jo.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Xd(this,void 0,void 0,function*(){const o=yield Ns.publicKeyToBytes({publicKey:t}),a=(0,Zd.s)(i);return jo.Ag.verify(n,a,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Xd(this,void 0,void 0,function*(){32===t.byteLength&&(t=jo.Ag.getPublicKey(t));const n=jo.Ag.ProjectivePoint.fromHex(t);return{x:(0,ap.lq)(n.x,32),y:(0,ap.lq)(n.y,32)}})}}var nD=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class jk extends A0{computePublicKey({key:t}){return nD(this,void 0,void 0,function*(){if(!T0(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield Bs.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield Ns.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return nD(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield Bs.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield Ns.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return nD(this,void 0,void 0,function*(){if(!T0(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield Bs.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield Ns.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return nD(this,void 0,void 0,function*(){if(!T0(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield Bs.sign({key:t,data:n});case"P-256":return yield Ns.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return nD(this,void 0,void 0,function*(){if(!Uk(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield Bs.verify({key:t,signature:n,data:i});case"P-256":return yield Ns.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var ho=E(86295),cp=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class Ls{static bytesToPrivateKey({privateKeyBytes:t}){return cp(this,void 0,void 0,function*(){const n=ho.ev.getPublicKey(t),i={crv:"Ed25519",d:on.uint8Array(t).toBase64Url(),kty:"OKP",x:on.uint8Array(n).toBase64Url()};return i.kid=yield So({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return cp(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:on.uint8Array(t).toBase64Url()};return n.kid=yield So({jwk:n}),n})}static computePublicKey({key:t}){return cp(this,void 0,void 0,function*(){const n=yield Ls.privateKeyToBytes({privateKey:t}),i=ho.ev.getPublicKey(n),o={kty:"OKP",crv:"Ed25519",x:on.uint8Array(i).toBase64Url()};return o.kid=yield So({jwk:o}),o})}static convertPrivateKeyToX25519({privateKey:t}){return cp(this,void 0,void 0,function*(){const n=yield Ls.privateKeyToBytes({privateKey:t}),i=(0,ho.OA)(n),o=ho.TU.getPublicKey(i),a={kty:"OKP",crv:"X25519",d:on.uint8Array(i).toBase64Url(),x:on.uint8Array(o).toBase64Url()};return a.kid=yield So({jwk:a}),a})}static convertPublicKeyToX25519({publicKey:t}){return cp(this,void 0,void 0,function*(){const n=yield Ls.publicKeyToBytes({publicKey:t});if(!(yield Ls.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const o=(0,ho.GU)(n),a={kty:"OKP",crv:"X25519",x:on.uint8Array(o).toBase64Url()};return a.kid=yield So({jwk:a}),a})}static generateKey(){return cp(this,void 0,void 0,function*(){const t=ho.ev.utils.randomPrivateKey(),n=yield Ls.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield So({jwk:n}),n})}static getPublicKey({key:t}){var n;return cp(this,void 0,void 0,function*(){if(!I0(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield So({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return cp(this,void 0,void 0,function*(){if(!I0(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return on.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return cp(this,void 0,void 0,function*(){if(!Fk(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return on.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return cp(this,void 0,void 0,function*(){const i=yield Ls.privateKeyToBytes({privateKey:t});return ho.ev.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return cp(this,void 0,void 0,function*(){try{ho.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return cp(this,void 0,void 0,function*(){const o=yield Ls.publicKeyToBytes({publicKey:t});return ho.ev.verify(n,i,o)})}}var rD=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class hK extends A0{computePublicKey({key:t}){return rD(this,void 0,void 0,function*(){if(!I0(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield Ls.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return rD(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield Ls.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return rD(this,void 0,void 0,function*(){if(!I0(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield Ls.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return rD(this,void 0,void 0,function*(){if(!I0(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield Ls.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return rD(this,void 0,void 0,function*(){if(!Fk(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield Ls.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}}var tg=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};const X9={Ed25519:{implementation:hK,names:["Ed25519"]},secp256k1:{implementation:jk,names:["ES256K","secp256k1"]},secp256r1:{implementation:jk,names:["ES256","secp256r1"]},"SHA-256":{implementation:Z9,names:["SHA-256"]}};class D0{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new Dx}digest({algorithm:t,data:n}){return tg(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return tg(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return tg(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const o=`${Lk}${i.kid}`;return yield this._keyStore.set(o,i),o})}getKeyUri({key:t}){return tg(this,void 0,void 0,function*(){const n=yield So({jwk:t});return`${Lk}${n}`})}getPublicKey({keyUri:t}){return tg(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return tg(this,void 0,void 0,function*(){if(!Y9(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield So({jwk:i}));const o=yield this.getKeyUri({key:i});return yield this._keyStore.set(o,i),o})}sign({keyUri:t,data:n}){return tg(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:o}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return tg(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=X9[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const o in X9){const a=X9[o];if(n&&a.names.includes(n))return o;if(i&&a.names.includes(i))return o}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return tg(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}var J9=E(86703),yd=E(62953);function pK(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}function mK(r){return(0,yd.po)(r)}function y1(){return J9.E.randomUUID()}var db=E(91879),oD=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};const gK=[128,192,256],zk=[96,104,112,120,128];class ub{static bytesToPrivateKey({privateKeyBytes:t}){return oD(this,void 0,void 0,function*(){const n={k:on.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield So({jwk:n}),n})}static decrypt({key:t,data:n,iv:i,additionalData:o,tagLength:a}){return oD(this,void 0,void 0,function*(){if(12!==i.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(a&&!zk.includes(a))throw new RangeError(`The tag length is invalid: Must be ${zk.join(", ")} bits`);const s=(0,db.NZ)(),l=yield s.importKey("jwk",t,{name:"AES-GCM"},!0,["decrypt"]),R=Object.assign(Object.assign({name:"AES-GCM",iv:i},a&&{tagLength:a}),o&&{additionalData:o}),I=yield s.decrypt(R,l,n);return new Uint8Array(I)})}static encrypt({data:t,iv:n,key:i,additionalData:o,tagLength:a}){return oD(this,void 0,void 0,function*(){if(12!==n.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(a&&!zk.includes(a))throw new RangeError(`The tag length is invalid: Must be ${zk.join(", ")} bits`);const s=(0,db.NZ)(),l=yield s.importKey("jwk",i,{name:"AES-GCM"},!0,["encrypt"]),R=Object.assign(Object.assign({name:"AES-GCM",iv:n},a&&{tagLength:a}),o&&{additionalData:o}),I=yield s.encrypt(R,l,t);return new Uint8Array(I)})}static generateKey({length:t}){return oD(this,void 0,void 0,function*(){if(!gK.includes(t))throw new RangeError(`The key length is invalid: Must be ${gK.join(", ")} bits`);const n=(0,db.NZ)(),i=yield n.generateKey({name:"AES-GCM",length:t},!0,["encrypt"]),l=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(yield n.exportKey("jwk",i),["ext","key_ops"]);return l.kid=yield So({jwk:l}),l})}static privateKeyToBytes({privateKey:t}){return oD(this,void 0,void 0,function*(){if(!fK(t))throw new Error("AesGcm: The provided key is not a valid oct private key.");return on.base64Url(t.k).toUint8Array()})}}var Q9=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},fb=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class sS{static bytesToPrivateKey({privateKeyBytes:t}){return fb(this,void 0,void 0,function*(){const n=ho.TU.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:on.uint8Array(t).toBase64Url(),x:on.uint8Array(n).toBase64Url()};return i.kid=yield So({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return fb(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:on.uint8Array(t).toBase64Url()};return n.kid=yield So({jwk:n}),n})}static computePublicKey({key:t}){return fb(this,void 0,void 0,function*(){const n=yield sS.privateKeyToBytes({privateKey:t}),i=ho.TU.getPublicKey(n),o={kty:"OKP",crv:"X25519",x:on.uint8Array(i).toBase64Url()};return o.kid=yield So({jwk:o}),o})}static generateKey(){return fb(this,void 0,void 0,function*(){const t=ho.TU.utils.randomPrivateKey(),n=yield sS.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield So({jwk:n}),n})}static getPublicKey({key:t}){var n;return fb(this,void 0,void 0,function*(){if(!I0(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield So({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return fb(this,void 0,void 0,function*(){if(!I0(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return on.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return fb(this,void 0,void 0,function*(){if(!Fk(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return on.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return fb(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield sS.privateKeyToBytes({privateKey:t}),o=yield sS.publicKeyToBytes({publicKey:n});return ho.TU.getSharedSecret(i,o)})}}E(94730);class $G{static deriveKeyBytes({baseKeyBytes:t,length:n,hash:i,salt:o,info:a=new Uint8Array}){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const l=yield(0,db.NZ)().importKey("raw",t,{name:"HKDF"},!1,["deriveBits"]);o="string"==typeof o?on.string(o).toUint8Array():o,a="string"==typeof a?on.string(a).toUint8Array():a;const R=yield crypto.subtle.deriveBits({name:"HKDF",hash:i,salt:o,info:a},l,n);return new Uint8Array(R)})}}class gi extends Error{constructor(t,n){super(n),this.code=t,this.name="CryptoError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gi)}}var vi=function(r){return r.AlgorithmNotSupported="algorithmNotSupported",r.EncodingError="encodingError",r.InvalidJwe="invalidJwe",r.InvalidJwk="invalidJwk",r.OperationNotSupported="operationNotSupported",r}(vi||{}),ng=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class vK extends A0{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return ng(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield Bs.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield Ns.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}default:throw new gi(vi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return ng(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield Bs.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield Ns.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}default:throw new gi(vi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}computePublicKey({key:t}){return ng(this,void 0,void 0,function*(){if(!T0(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield Bs.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield Ns.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return ng(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield Bs.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield Ns.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return ng(this,void 0,void 0,function*(){if(!T0(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield Bs.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield Ns.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}privateKeyToBytes({privateKey:t}){return ng(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield Bs.privateKeyToBytes({privateKey:t});case"P-256":return yield Ns.privateKeyToBytes({privateKey:t});default:throw new gi(vi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}publicKeyToBytes({publicKey:t}){return ng(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield Bs.publicKeyToBytes({publicKey:t});case"P-256":return yield Ns.publicKeyToBytes({publicKey:t});default:throw new gi(vi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}sign({key:t,data:n}){return ng(this,void 0,void 0,function*(){if(!T0(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield Bs.sign({key:t,data:n});case"P-256":return yield Ns.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return ng(this,void 0,void 0,function*(){if(!Uk(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield Bs.verify({key:t,signature:n,data:i});case"P-256":return yield Ns.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var rg=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},cD=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},bK=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};const wK=[128,192,256];class lD{static bytesToPrivateKey({privateKeyBytes:t}){return cD(this,void 0,void 0,function*(){const n={k:on.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield So({jwk:n}),n.alg={128:"A128KW",192:"A192KW",256:"A256KW"}[8*t.length],n})}static generateKey({length:t}){return cD(this,void 0,void 0,function*(){if(!wK.includes(t))throw new RangeError(`The key length is invalid: Must be ${wK.join(", ")} bits`);const n=(0,db.NZ)(),i=yield n.generateKey({name:"AES-KW",length:t},!0,["wrapKey","unwrapKey"]),o=yield n.exportKey("jwk",i),l=bK(o,["ext","key_ops"]);return l.kid=yield So({jwk:l}),l})}static privateKeyToBytes({privateKey:t}){return cD(this,void 0,void 0,function*(){if(!fK(t))throw new Error("AesKw: The provided key is not a valid oct private key.");return on.base64Url(t.k).toUint8Array()})}static unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:i}){return cD(this,void 0,void 0,function*(){if(!("alg"in i)||!i.alg)throw new gi(vi.InvalidJwk,"The decryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(i.alg))throw new gi(vi.AlgorithmNotSupported,`The 'decryptionKey' algorithm is not supported: ${i.alg}`);const o=(0,db.NZ)(),a=yield o.importKey("jwk",i,{name:"AES-KW"},!0,["unwrapKey"]),s={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[n];if(!s)throw new gi(vi.AlgorithmNotSupported,`The 'wrappedKeyAlgorithm' is not supported: ${n}`);const l=yield o.unwrapKey("raw",t.buffer,a,"AES-KW",{name:s},!0,["unwrapKey"]),R=yield o.exportKey("jwk",l),ye=bK(R,["ext","key_ops"]);return ye.kid=yield So({jwk:ye}),ye})}static wrapKey({unwrappedKey:t,encryptionKey:n}){return cD(this,void 0,void 0,function*(){if(!("alg"in n)||!n.alg)throw new gi(vi.InvalidJwk,"The encryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(n.alg))throw new gi(vi.AlgorithmNotSupported,`The 'encryptionKey' algorithm is not supported: ${n.alg}`);if(!("alg"in t)||!t.alg)throw new gi(vi.InvalidJwk,"The private key to wrap is missing the 'alg' property.");const i=(0,db.NZ)(),o=yield i.importKey("jwk",n,{name:"AES-KW"},!0,["wrapKey"]),a={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[t.alg];if(!a)throw new gi(vi.AlgorithmNotSupported,`The 'unwrappedKey' algorithm is not supported: ${t.alg}`);const s=yield i.importKey("jwk",t,{name:a},!0,["unwrapKey"]),l=yield i.wrapKey("raw",s,o,"AES-KW");return new Uint8Array(l)})}}var dD=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class _K extends A0{bytesToPrivateKey({privateKeyBytes:t}){return dD(this,void 0,void 0,function*(){const n=yield lD.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128KW",24:"A192KW",32:"A256KW"}[t.length],n})}generateKey({algorithm:t}){return dD(this,void 0,void 0,function*(){const n={A128KW:128,A192KW:192,A256KW:256}[t],i=yield lD.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return dD(this,void 0,void 0,function*(){return yield lD.privateKeyToBytes({privateKey:t})})}unwrapKey(t){return dD(this,void 0,void 0,function*(){return yield lD.unwrapKey(t)})}wrapKey(t){return dD(this,void 0,void 0,function*(){return lD.wrapKey(t)})}}class ZG{static deriveKeyBytes({baseKeyBytes:t,hash:n,salt:i,iterations:o,length:a}){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const s=(0,db.NZ)(),l=yield s.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]),R=yield s.deriveBits({name:"PBKDF2",hash:n,salt:i,iterations:o},l,a);return new Uint8Array(R)})}}var uD=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},_u=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};const n7={"AES-GCM":{implementation:class qG extends A0{bytesToPrivateKey({privateKeyBytes:t}){return uD(this,void 0,void 0,function*(){const n=yield ub.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128GCM",24:"A192GCM",32:"A256GCM"}[t.length],n})}decrypt(t){return uD(this,void 0,void 0,function*(){return ub.decrypt(t)})}encrypt(t){return uD(this,void 0,void 0,function*(){return ub.encrypt(t)})}generateKey({algorithm:t}){return uD(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield ub.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return uD(this,void 0,void 0,function*(){return yield ub.privateKeyToBytes({privateKey:t})})}},names:["A128GCM","A192GCM","A256GCM"],operations:["bytesToPrivateKey","decrypt","encrypt","generateKey"]},"AES-KW":{implementation:_K,names:["A128KW","A192KW","A256KW"],operations:["bytesToPrivateKey","generateKey","privateKeyToBytes","wrapKey","unwrapKey"]},Ed25519:{implementation:class WG extends A0{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return rg(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield Ls.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}throw new gi(vi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return rg(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield Ls.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}throw new gi(vi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}computePublicKey({key:t}){return rg(this,void 0,void 0,function*(){if(!I0(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield Ls.computePublicKey({key:t});return n.alg="EdDSA",n}throw new gi(vi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}generateKey({algorithm:t}){return rg(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield Ls.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return rg(this,void 0,void 0,function*(){if(!I0(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield Ls.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}privateKeyToBytes({privateKey:t}){return rg(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield Ls.privateKeyToBytes({privateKey:t});throw new gi(vi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}publicKeyToBytes({publicKey:t}){return rg(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield Ls.publicKeyToBytes({publicKey:t});throw new gi(vi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}sign({key:t,data:n}){return rg(this,void 0,void 0,function*(){if(!I0(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield Ls.sign({key:t,data:n});throw new gi(vi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return rg(this,void 0,void 0,function*(){if(!Fk(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield Ls.verify({key:t,signature:n,data:i});throw new gi(vi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}},names:["Ed25519"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},HKDF:{implementation:class HG extends A0{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const o={"HKDF-256":"SHA-256","HKDF-384":"SHA-384","HKDF-512":"SHA-512"}[n];return yield $G.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:o}))})}},names:["HKDF-256","HKDF-384","HKDF-512"],operations:["deriveKey","deriveKeyBytes"]},PBKDF2:{implementation:class JG extends A0{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const[,o]=n.split(/[-+]/),a={HS256:"SHA-256",HS384:"SHA-384",HS512:"SHA-512"}[o];return yield ZG.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:a}))})}},names:["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"],operations:["deriveKey","deriveKeyBytes"]},secp256k1:{implementation:vK,names:["ES256K","secp256k1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},secp256r1:{implementation:vK,names:["ES256","secp256r1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},"SHA-256":{implementation:Z9,names:["SHA-256"],operations:["digest"]}};class aS{constructor(){this._algorithmInstances=new Map}bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return _u(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPrivateKey({algorithm:t,privateKeyBytes:n})})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return _u(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPublicKey({algorithm:t,publicKeyBytes:n})})}decrypt(t){return _u(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).decrypt(t)})}deriveKey(t){var n,i;return _u(this,void 0,void 0,function*(){const o=this.getAlgorithmName({algorithm:t.algorithm}),a=this.getAlgorithm({algorithm:o});let s;switch(t.algorithm){case"HKDF-256":case"HKDF-384":case"HKDF-512":s=t.derivedKeyAlgorithm;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":s=t.algorithm.split(/[-+]/)[2];break;default:throw new gi(vi.AlgorithmNotSupported,`The specified "algorithm" is not supported: ${t.algorithm}`)}const l=+(null!==(i=null===(n=s.match(/\d+/))||void 0===n?void 0:n[0])&&void 0!==i?i:-1);if(-1===l)throw new gi(vi.AlgorithmNotSupported,`The derived key algorithm" is not supported: ${s}`);const R=yield a.deriveKeyBytes(Object.assign(Object.assign({},t),{length:l}));return yield this.bytesToPrivateKey({algorithm:s,privateKeyBytes:R})})}deriveKeyBytes(t){return _u(this,void 0,void 0,function*(){const n=this.getAlgorithmName({algorithm:t.algorithm});return yield this.getAlgorithm({algorithm:n}).deriveKeyBytes(t)})}digest({algorithm:t,data:n}){return _u(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}encrypt(t){return _u(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).encrypt(t)})}generateKey(t){var n;return _u(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t.algorithm}),a=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t.algorithm});return null!==(n=a.kid)&&void 0!==n||(a.kid=yield So({jwk:a})),a})}getKeyUri(t){return _u(this,void 0,void 0,function*(){throw new Error("Method not implemented.")})}getPublicKey({key:t}){return _u(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).getPublicKey({key:t})})}privateKeyToBytes({privateKey:t}){return _u(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).privateKeyToBytes({privateKey:t})})}publicKeyToBytes({publicKey:t}){return _u(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).publicKeyToBytes({publicKey:t})})}sign({key:t,data:n}){return _u(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:i}).sign({data:n,key:t})})}unwrapKey(t){return _u(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.decryptionKey});return yield this.getAlgorithm({algorithm:n}).unwrapKey(t)})}verify({key:t,signature:n,data:i}){return _u(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:n,data:i})})}wrapKey(t){return _u(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.encryptionKey});return yield this.getAlgorithm({algorithm:n}).wrapKey(t)})}getAlgorithm({algorithm:t}){var n;const i=null===(n=n7[t])||void 0===n?void 0:n.implementation;if(!i)throw new gi(vi.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({algorithm:t,key:n}){var i;const o=null!==(i=n?.alg)&&void 0!==i?i:t,a=n?.crv;for(const s of Object.keys(n7)){const l=n7[s].names;if(o&&l.includes(o))return s;if(a&&l.includes(a))return s}throw new gi(vi.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${o}, crv=${a}. Please check the documentation for the list of supported algorithms.`)}}var Hk=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(Hk||{});const v1={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class ra{constructor({method:t,id:n,path:i,query:o,fragment:a,params:s}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=o,this.fragment=a,this.params=s}static parse(t){if(!t)return null;const n=ra.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:o,path:a,query:s,fragment:l}=n.groups,R={uri:`did:${i}:${o}`,method:i,id:o};if(a&&(R.path=a),s&&(R.query=s.slice(1)),l&&(R.fragment=l.slice(1)),s){const I={},y=s.slice(1).split("&");for(const L of y){const[ye,Te]=L.split("=");I[ye]=Te}R.params=I}return R}}ra.METHOD_PATTERN="([a-z0-9]+)",ra.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",ra.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${ra.PCT_ENCODED_PATTERN})`,ra.METHOD_ID_PATTERN=`((?:${ra.ID_CHAR_PATTERN}*:)*(${ra.ID_CHAR_PATTERN}+))`,ra.PATH_PATTERN="(/[^#?]*)?",ra.QUERY_PATTERN="([?][^#]*)?",ra.FRAGMENT_PATTERN="(#.*)?",ra.DID_URI_PATTERN=new RegExp(`^did:(?<method>${ra.METHOD_PATTERN}):(?<id>${ra.METHOD_ID_PATTERN})(?<path>${ra.PATH_PATTERN})(?<query>${ra.QUERY_PATTERN})(?<fragment>${ra.FRAGMENT_PATTERN})$`);class hs extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hs)}}var rs=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(rs||{});function qp(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function i7(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}var fD=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class ig{constructor({uri:t,document:n,metadata:i,keyManager:o}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=o}export(){return fD(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),a=yield this.keyManager.exportKey({keyUri:o});n.push(Object.assign({},a))}t.privateKeys=n}return t})}getSigner(t){return fD(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(R=>{var I,y;return qp(R.id)===(null!==(I=qp(t?.methodId))&&void 0!==I?I:qp(null===(y=this.document.assertionMethod)||void 0===y?void 0:y[0]))});if(!i||!i.publicKeyJwk)throw new hs(rs.InternalError,"A verification method intended for signing could not be determined from the DID Document");const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),a=yield this.keyManager.getPublicKey({keyUri:o}),s=this.keyManager;return{algorithm:pK(a),keyId:i.id,sign(R){return fD(this,arguments,void 0,function*({data:I}){return yield s.sign({data:I,keyUri:o})})},verify(R){return fD(this,arguments,void 0,function*({data:I,signature:y}){return yield s.verify({data:I,key:a,signature:y})})}}})}static import(t){return fD(this,arguments,void 0,function*({portableDid:n,keyManager:i=new D0}){var o;const a=function r7({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(i7))&&void 0!==n?n:[]),Object.keys(Hk).forEach(o=>{var a,s;i.push(...null!==(s=null===(a=r[o])||void 0===a?void 0:a.filter(i7))&&void 0!==s?s:[])}),i}({didDocument:n.document});if(0===a.length)throw new hs(rs.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let l of null!==(o=n.privateKeys)&&void 0!==o?o:[])yield i.importKey({key:l});for(let l of a){if(!l.publicKeyJwk)throw new Error(`Verification method '${l.id}' does not contain a public key in JWK format`);const R=yield i.getKeyUri({key:l.publicKeyJwk});yield i.getPublicKey({keyUri:R})}return new ig({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var EK=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class xK{static getSigningMethod(t){return EK(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return EK(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var gd=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},SK=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};const MK="https://diddht.tbddev.org",hb=7200,$u=",";var AK=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(AK||{}),Ef=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(Ef||{}),TK=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(TK||{});const IK={Ed25519:Ef.Ed25519,ES256K:Ef.secp256k1,ES256:Ef.secp256r1,"P-256":Ef.secp256r1,secp256k1:Ef.secp256k1,secp256r1:Ef.secp256r1,X25519:Ef.X25519},DK={[Ef.Ed25519]:"Ed25519",[Ef.secp256k1]:"ES256K",[Ef.secp256r1]:"ES256",[Ef.X25519]:"ECDH-ES+A256KW"};let Gk=(()=>{class r extends xK{static create(){return gd(this,arguments,void 0,function*({keyManager:n=new D0,options:i={}}={}){var o,a,s,l,R,I,y,L,ye,Te,Me;if(null!==(o=i.verificationMethods)&&void 0!==o&&o.some(ct=>!(ct.algorithm in IK)))throw new Error("One or more verification method algorithms are not supported");const Ce=null===(a=i.verificationMethods)||void 0===a?void 0:a.filter(ct=>"id"in ct).map(ct=>ct.id);if(Ce&&Ce.length!==new Set(Ce).size)throw new Error("One or more verification method IDs are not unique");if(null!==(s=i.services)&&void 0!==s&&s.some(ct=>!ct.id||!ct.type||!ct.serviceEndpoint))throw new Error("One or more services are missing required properties");const je=yield n.generateKey({algorithm:"Ed25519"}),Je=yield n.getPublicKey({keyUri:je}),ze=yield ul.identityKeyToIdentifier({identityKey:Je}),He=Object.assign(Object.assign({id:ze},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),rt=[...null!==(l=i.verificationMethods)&&void 0!==l?l:[]];rt?.some(ct=>{var _t;return"0"===(null===(_t=ct.id)||void 0===_t?void 0:_t.split("#").pop())})||rt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const ct of rt){const _t=ct.id&&"0"===ct.id.split("#").pop()?je:yield n.generateKey({algorithm:ct.algorithm}),It=yield n.getPublicKey({keyUri:_t});let Jt=null!==(I=null!==(R=ct.id)&&void 0!==R?R:It.kid)&&void 0!==I?I:yield So({jwk:It});Jt=`${ze}#${qp(Jt)}`,null!==(y=He.verificationMethod)&&void 0!==y||(He.verificationMethod=[]),He.verificationMethod.push({id:Jt,type:"JsonWebKey",controller:null!==(L=ct.controller)&&void 0!==L?L:ze,publicKeyJwk:It});for(const Qt of null!==(ye=ct.purposes)&&void 0!==ye?ye:[])He[Qt]||(He[Qt]=[]),He[Qt].push(Jt)}null===(Te=i.services)||void 0===Te||Te.forEach(ct=>{var _t;null!==(_t=He.service)&&void 0!==_t||(He.service=[]),ct.id=`${ze}#${ct.id.split("#").pop()}`,He.service.push(ct)});const yt=new ig({uri:ze,document:He,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Me=i.publish)||void 0===Me||Me){const ct=yield r.publish({did:yt,gatewayUri:i.gatewayUri});yt.metadata=ct.didDocumentMetadata}return yt})}static import(n){return gd(this,arguments,void 0,function*({portableDid:i,keyManager:o=new D0}){var a;const s=ra.parse(i.uri);if(s?.method!==r.methodName)throw new hs(rs.MethodNotSupported,"Method not supported");const l=yield ig.import({portableDid:i,keyManager:o});if(null===(a=l.document.verificationMethod)||void 0===a||!a.some(R=>{var I;return"0"===(null===(I=R.id)||void 0===I?void 0:I.split("#").pop())}))throw new hs(rs.InvalidDidDocument,"DID document must contain an Identity Key");return l})}static getSigningMethod(n){return gd(this,arguments,void 0,function*({didDocument:i,methodId:o="#0"}){var a;const s=ra.parse(i.id);if(s&&s.method!==this.methodName)throw new hs(rs.MethodNotSupported,`Method not supported: ${s.method}`);const l=null===(a=i.verificationMethod)||void 0===a?void 0:a.find(R=>{var I,y;return qp(R.id)===(null!==(I=qp(o))&&void 0!==I?I:qp(null===(y=i.assertionMethod)||void 0===y?void 0:y[0]))});if(!l||!l.publicKeyJwk)throw new hs(rs.InternalError,"A verification method intended for signing could not be determined from the DID Document");return l})}static publish(n){return gd(this,arguments,void 0,function*({did:i,gatewayUri:o=MK}){return yield og.put({did:i,gatewayUri:o})})}static resolve(n){return gd(this,arguments,void 0,function*(i,o={}){var a;const s=null!==(a=o?.gatewayUri)&&void 0!==a?a:MK;try{yield ul.identifierToIdentityKey({didUri:i});const{didDocument:l,didDocumentMetadata:R}=yield og.get({didUri:i,gatewayUri:s});return Object.assign(Object.assign({},v1),{didDocument:l,didDocumentMetadata:R})}catch(l){if(!(l instanceof hs))throw new Error(l);return Object.assign(Object.assign({},v1),{didResolutionMetadata:Object.assign({error:l.code},l.message&&{errorMessage:l.message})})}})}}return r.methodName="dht",r})();class og{static get(t){return gd(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const o=ul.identifierToIdentityKeyBytes({didUri:n}),a=yield og.pkarrGet({gatewayUri:i,publicKeyBytes:o}),s=yield ul.parseBep44GetMessage({bep44Message:a}),l=yield og.fromDnsPacket({didUri:n,dnsPacket:s});return l.didDocumentMetadata.versionId=a.seq.toString(),l})}static put(t){return gd(this,arguments,void 0,function*({did:n,gatewayUri:i}){const o=yield og.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),a=yield ul.createBep44PutMessage({dnsPacket:o,publicKeyBytes:ul.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),s=yield og.pkarrPut({gatewayUri:i,bep44Message:a});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:s,versionId:a.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return gd(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const o=on.uint8Array(i).toBase32Z(),a=new URL(o,n).href;let s;try{if(s=yield fetch(a,{method:"GET"}),!s.ok)throw new hs(rs.NotFound,`Pkarr record not found for: ${o}`)}catch(I){throw I instanceof hs?I:new hs(rs.InternalError,`Failed to fetch Pkarr record: ${I.message}`)}const l=yield s.arrayBuffer();if(!l)throw new hs(rs.NotFound,`Pkarr record not found for: ${o}`);if(l.byteLength<72)throw new hs(rs.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${l.byteLength}`);if(l.byteLength>1072)throw new hs(rs.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${l.byteLength}`);return{k:i,seq:Number(new DataView(l).getBigUint64(64)),sig:new Uint8Array(l,0,64),v:new Uint8Array(l,72)}})}static pkarrPut(t){return gd(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const o=on.uint8Array(i.k).toBase32Z(),a=new URL(o,n).href,s=new Uint8Array(i.v.length+72);let l;s.set(i.sig,0),new DataView(s.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),s.set(i.v,i.sig.length+8);try{l=yield fetch(a,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:s})}catch(R){throw new hs(rs.InternalError,`Failed to put Pkarr record for identifier ${o}: ${R.message}`)}return l.ok})}static fromDnsPacket(t){return gd(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var o,a,s;const l={id:n},R={published:!0},I=new Map;for(const y of null!==(o=i?.answers)&&void 0!==o?o:[]){if("TXT"!==y.type)continue;const L=y.name.split(".")[0].substring(1);switch(!0){case L.startsWith("aka"):{const ye=ul.parseTxtDataToString(y.data);l.alsoKnownAs=ye.split($u);break}case L.startsWith("cnt"):{const ye=ul.parseTxtDataToString(y.data);l.controller=ye.includes($u)?ye.split($u):ye;break}case L.startsWith("k"):{const{id:ye,t:Te,k:Me,c:Ce,a:je}=ul.parseTxtDataToObject(y.data),Je=on.base64Url(Me).toUint8Array(),ze=Ef[Number(Te)];let He=yield ul.keyConverter(ze).bytesToPublicKey({publicKeyBytes:Je});He.alg=je||DK[Number(Te)];const rt="k0"===L?"0":void 0!==ye?ye:yield So({jwk:He});null!==(a=l.verificationMethod)&&void 0!==a||(l.verificationMethod=[]);const yt=`${n}#${rt}`;l.verificationMethod.push({id:yt,type:"JsonWebKey",controller:Ce??n,publicKeyJwk:He}),I.set(L,yt);break}case L.startsWith("s"):{const ye=ul.parseTxtDataToObject(y.data),{id:Te,t:Me,se:Ce}=ye,je=SK(ye,["id","t","se"]),Je=Ce.includes($u)?Ce.split($u):[Ce],ze=Object.fromEntries(Object.entries(je).map(([He,rt])=>[He,rt.includes($u)?rt.split($u):rt]));null!==(s=l.service)&&void 0!==s||(l.service=[]),l.service.push(Object.assign(Object.assign({},ze),{id:`${n}#${Te}`,type:Me,serviceEndpoint:Je}));break}case L.startsWith("typ"):{const{id:ye}=ul.parseTxtDataToObject(y.data);R.types=ye.split($u).map(Te=>Number(Te));break}case L.startsWith("did"):{const ye=ze=>ze.split($u).map(He=>I.get(He)).filter(He=>"string"==typeof He),{auth:Te,asm:Me,del:Ce,inv:je,agm:Je}=ul.parseTxtDataToObject(y.data);Te&&(l.authentication=ye(Te)),Me&&(l.assertionMethod=ye(Me)),Ce&&(l.capabilityDelegation=ye(Ce)),je&&(l.capabilityInvocation=ye(je)),Je&&(l.keyAgreement=ye(Je));break}}}return{didDocument:l,didDocumentMetadata:R,didResolutionMetadata:{}}})}static toDnsPacket(t){return gd(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:o,previousDidProof:a}){var s,l,R,I,y;const L=[],ye=[],Te=new Map,Me=[],Ce=[];if(void 0!==a){const{signature:ze,previousDid:He}=a;yield ul.validatePreviousDidProof({newDid:n.id,previousDidProof:a}),L.push({type:"TXT",name:"_prv._did.",ttl:hb,data:`id=${He};s=${ze}`})}if(n.alsoKnownAs&&L.push({type:"TXT",name:"_aka._did.",ttl:hb,data:n.alsoKnownAs.join($u)}),n.controller){const ze=Array.isArray(n.controller)?n.controller.join($u):n.controller;L.push({type:"TXT",name:"_cnt._did.",ttl:hb,data:ze})}for(const[ze,He]of null!==(l=null===(s=n.verificationMethod)||void 0===s?void 0:s.entries())&&void 0!==l?l:[]){const rt=`k${ze}`;Ce.push(rt);let yt=He.id.split("#").pop();Te.set(yt,rt);const ct=He.publicKeyJwk;if(!ct?.crv||!(ct.crv in IK))throw new hs(rs.InvalidPublicKeyType,`Verification method '${He.id}' contains an unsupported key type: ${null!==(R=ct?.crv)&&void 0!==R?R:"undefined"}`);const _t=Ef[ct.crv],It=yield ul.keyConverter(ct.crv).publicKeyToBytes({publicKey:ct}),Qt=[`t=${_t}`,`k=${on.uint8Array(It).toBase64Url()}`];"0"!==yt&&(yield So({jwk:ct}))!==yt&&Qt.unshift(`id=${yt}`),ct.alg!==DK[_t]&&Qt.push(`a=${ct.alg}`),He.controller!==n.id&&Qt.push(`c=${He.controller}`),L.push({type:"TXT",name:`_${rt}._did.`,ttl:hb,data:Qt.join(";")})}null===(I=n.service)||void 0===I||I.forEach((ze,He)=>{const rt=`s${He}`;Me.push(rt);let{id:yt,type:ct,serviceEndpoint:_t}=ze,It=SK(ze,["id","type","serviceEndpoint"]);yt=qp(yt),_t=Array.isArray(_t)?_t.join(","):_t;const Qt=Object.entries(Object.assign({id:yt,t:ct,se:_t},It)).map(([Pn,dn])=>`${Pn}=${dn}`).join(";"),fn=ul.chunkDataIfNeeded(Qt);L.push({type:"TXT",name:`_${rt}._did.`,ttl:hb,data:fn})});const je=["v=0"];if(Ce.length&&je.push(`vm=${Ce.join($u)}`),Object.keys(Hk).forEach(ze=>{var He;const rt=null===(He=n[ze])||void 0===He?void 0:He.map(yt=>Te.get(yt.split("#").pop()));rt&&je.push(`${TK[ze]}=${rt.join($u)}`)}),Me.length&&je.push(`svc=${Me.join($u)}`),null!==(y=i.types)&&void 0!==y&&y.length){const He=i.types.map(rt=>"string"==typeof rt?AK[rt]:rt);L.push({type:"TXT",name:"_typ._did.",ttl:hb,data:`id=${He.join($u)}`})}L.push({type:"TXT",name:"_did."+og.getUniqueDidSuffix(n.id)+".",ttl:hb,data:je.join(";")});for(const ze of o||[])ye.push({type:"NS",name:"_did."+og.getUniqueDidSuffix(n.id)+".",ttl:hb,data:ze+"."});return{id:0,type:"response",flags:1024,answers:[...L,...ye]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class ul{static createBep44PutMessage(t){return gd(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:o}){const a=Math.ceil(Date.now()/1e3),s=c1(n),l=Jv.encode({seq:a,v:s}).subarray(1,-1);if(l.length>1e3)throw new hs(rs.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${l.length} bytes`);return{k:i,seq:a,sig:yield o.sign({data:l}),v:s}})}static identifierToIdentityKey(t){return gd(this,arguments,void 0,function*({didUri:n}){let i=ul.identifierToIdentityKeyBytes({didUri:n});return yield Ls.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=ra.parse(t);if(!n)throw new hs(rs.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==Gk.methodName)throw new hs(rs.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=on.base32Z(n.id).toUint8Array()}catch{throw new hs(rs.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new hs(rs.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return gd(this,arguments,void 0,function*({identityKey:n}){const i=yield Ls.publicKeyToBytes({publicKey:n}),o=on.uint8Array(i).toBase32Z();return`did:${Gk.methodName}:${o}`})}static keyConverter(t){const i={Ed25519:Ls,"P-256":{publicKeyToBytes:o=>gd(this,[o],void 0,function*({publicKey:a}){const s=yield Ns.publicKeyToBytes({publicKey:a});return yield Ns.compressPublicKey({publicKeyBytes:s})}),bytesToPublicKey:Ns.bytesToPublicKey,privateKeyToBytes:Ns.privateKeyToBytes,bytesToPrivateKey:Ns.bytesToPrivateKey},secp256k1:{publicKeyToBytes:o=>gd(this,[o],void 0,function*({publicKey:a}){const s=yield Bs.publicKeyToBytes({publicKey:a});return yield Bs.compressPublicKey({publicKeyBytes:s})}),bytesToPublicKey:Bs.bytesToPublicKey,privateKeyToBytes:Bs.privateKeyToBytes,bytesToPrivateKey:Bs.bytesToPrivateKey},X25519:sS}[t];if(!i)throw new hs(rs.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return gd(this,arguments,void 0,function*({bep44Message:n}){const i=yield Ls.bytesToPublicKey({publicKeyBytes:n.k}),o=Jv.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield Ls.verify({key:i,signature:n.sig,data:o})))throw new hs(rs.InvalidSignature,"Invalid signature for DHT BEP44 message");return qx(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[o,a]=i.split("=");return n[o]=a,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return on.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new hs(rs.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return gd(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const o=yield ul.identifierToIdentityKey({didUri:i.previousDid}),a=ul.identifierToIdentityKeyBytes({didUri:n}),s=on.base64Url(i.signature).toUint8Array();if(!(yield Ls.verify({key:o,data:a,signature:s})))throw new hs(rs.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var Zk=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};let rZ=(()=>{class r extends xK{static create(){return Zk(this,arguments,void 0,function*({keyManager:n=new D0,options:i={}}={}){var o,a,s,l;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const R=null!==(l=null!==(o=i.algorithm)&&void 0!==o?o:null===(s=null===(a=i.verificationMethods)||void 0===a?void 0:a[0])||void 0===s?void 0:s.algorithm)&&void 0!==l?l:"Ed25519",I=yield n.generateKey({algorithm:R}),y=yield n.getPublicKey({keyUri:I}),L=on.object(y).toBase64Url(),ye=`did:${r.methodName}:${L}`,Me=(yield r.resolve(ye)).didDocument;return new ig({uri:ye,document:Me,metadata:{},keyManager:n})})}static getSigningMethod(n){return Zk(this,arguments,void 0,function*({didDocument:i}){var o;const a=ra.parse(i.id);if(a&&a.method!==this.methodName)throw new hs(rs.MethodNotSupported,`Method not supported: ${a.method}`);const[s]=null!==(o=i.verificationMethod)&&void 0!==o?o:[];if(!s||!s.publicKeyJwk)throw new hs(rs.InternalError,"A verification method intended for signing could not be determined from the DID Document");return s})}static import(n){return Zk(this,arguments,void 0,function*({portableDid:i,keyManager:o=new D0}){const a=ra.parse(i.uri);if(a?.method!==r.methodName)throw new hs(rs.MethodNotSupported,"Method not supported");const s=yield ig.import({portableDid:i,keyManager:o});if(1!==s.document.verificationMethod.length)throw new hs(rs.InvalidDidDocument,"DID document must contain exactly one verification method");return s})}static resolve(n,i){return Zk(this,void 0,void 0,function*(){const o=ra.parse(n);let a;try{a=on.base64Url(o.id).toObject()}catch{}if(!o||!a)return Object.assign(Object.assign({},v1),{didResolutionMetadata:{error:"invalidDid"}});if(o.method!==r.methodName)return Object.assign(Object.assign({},v1),{didResolutionMetadata:{error:"methodNotSupported"}});const s={"@context":["https://www.w3.org/ns/did/v1"],id:o.uri},l=`${s.id}#0`;switch(s.verificationMethod=[{id:l,type:"JsonWebKey",controller:s.id,publicKeyJwk:a}],s.authentication=[l],s.assertionMethod=[l],s.capabilityInvocation=[l],s.capabilityDelegation=[l],s.keyAgreement=[l],a.use){case"sig":delete s.keyAgreement;break;case"enc":delete s.authentication,delete s.assertionMethod,delete s.capabilityInvocation,delete s.capabilityDelegation}return Object.assign(Object.assign({},v1),{didDocument:s})})}}return r.methodName="jwk",r})();var _1=E(81447),iZ=E(94787);class sZ{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new iZ.Level(n),this.ttl=_1(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},o=JSON.stringify(i);return this.cache.put(t,o)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const aZ={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var CK=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class kK{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||aZ;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return CK(this,void 0,void 0,function*(){const i=ra.parse(t);if(!i)return Object.assign(Object.assign({},v1),{didResolutionMetadata:{error:rs.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const o=this.didResolvers.get(i.method);if(!o)return Object.assign(Object.assign({},v1),{didResolutionMetadata:{error:rs.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const a=yield this.cache.get(i.uri);if(a)return a;{const s=yield o.resolve(i.uri,n);return s.didResolutionMetadata.error||(yield this.cache.set(i.uri,s)),s}})}dereference(t,n){return CK(this,void 0,void 0,function*(){const i=ra.parse(t);if(!i)return{dereferencingMetadata:{error:rs.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:o,didResolutionMetadata:a,didDocumentMetadata:s}=yield this.resolve(i.uri);if(!o)return{dereferencingMetadata:{error:a.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:o,contentMetadata:s};const{service:l=[],verificationMethod:R=[]}=o,I=new Set([t,i.fragment,`#${i.fragment}`]);let y;for(let L of R)if(I.has(L.id)){y=L;break}for(let L of l)if(I.has(L.id)){y=L;break}return y?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:y,contentMetadata:a}:{dereferencingMetadata:{error:rs.NotFound},contentStream:null,contentMetadata:{}}})}}const PK={protocol:"http://identity.foundation/protocols/web5/identity-store",published:!1,types:{portableDid:{schema:"https://identity.foundation/schemas/web5/portable-did",dataFormats:["application/json"]},identityMetadata:{schema:"https://identity.foundation/schemas/web5/identity-metadata",dataFormats:["application/json"]}},structure:{portableDid:{},identityMetadata:{}}},cZ={protocol:"http://identity.foundation/protocols/web5/jwk-store",published:!1,types:{privateJwk:{schema:"https://identity.foundation/schemas/web5/private-jwk",dataFormats:["application/json"]}},structure:{privateJwk:{}}};function RK(r){return!(!r||"object"!=typeof r||null===r)&&"uri"in r&&"document"in r&&"metadata"in r&&(!("keyManager"in r)||void 0===r.keyManager)}var cS=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};const sh="^";class dZ extends D0{constructor(){super(),this._predefinedKeys=new Map,this._keyGenerator=this._predefinedKeys.keys()}addPredefinedKeys({privateKeys:t}){var n;return cS(this,void 0,void 0,function*(){const i={};for(const o of t)null!==(n=o.kid)&&void 0!==n||(o.kid=yield So({jwk:o})),i[yield this.getKeyUri({key:o})]=o;this._predefinedKeys=new Map(Object.entries(i)),this._keyGenerator=this._predefinedKeys.keys()})}exportKey({keyUri:t}){return cS(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.exportKey: Key not found: ${t}`);return n})}generateKey(t){return cS(this,void 0,void 0,function*(){const{value:n,done:i}=this._keyGenerator.next();if(i)throw new Error("Ran out of predefined keys");return n})}getPublicKey({keyUri:t}){return cS(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.getPublicKey: Key not found: ${t}`);return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(n,["d"])})}sign({keyUri:t,data:n}){return cS(this,void 0,void 0,function*(){const i=this._predefinedKeys.get(t);if(!i)throw new Error(`DeterministicKeyGenerator.sign: Key not found: ${t}`);return yield Ls.sign({data:n,key:i})})}}function sg({agent:r,tenant:t,didUri:n}){return cS(this,void 0,void 0,function*(){if(t)return t;if(r.agentDid)return r.agentDid.uri;if(!n)throw new Error("Failed to determine tenant DID: 'agent.agentDid', 'tenant', and 'didUri' are undefined");return n})}var ah=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class s7{constructor(){this.name="DwnDataStore",this._cache=new Tx({ttl:_1("15 minutes"),max:100}),this._index=new Tx({ttl:_1("2 hours"),max:1e3}),this._protocolInitializedCache=new Tx({ttl:_1("1 hour"),max:1e3}),this._recordProperties={dataFormat:"application/json"}}delete({id:t,agent:n,tenant:i}){return ah(this,void 0,void 0,function*(){const o=yield sg({agent:n,tenant:i,didUri:t});let a=yield this.lookupRecordId({id:t,tenantDid:o,agent:n});if(!a)return!1;const{reply:{status:s}}=yield n.dwn.processRequest({author:o,target:o,messageType:Qi.RecordsDelete,messageParams:{recordId:a}});if(202===s.code)return this._index.delete(`${o}${sh}${t}`),this._cache.delete(a),!0;throw new Error(`${this.name}: Failed to delete '${t}' from store: (${s.code}) ${s.detail}`)})}get({id:t,agent:n,tenant:i,useCache:o=!1}){return ah(this,void 0,void 0,function*(){const a=yield sg({agent:n,tenant:i,didUri:t});let s=yield this.lookupRecordId({id:t,tenantDid:a,agent:n});if(s)return yield this.getRecord({recordId:s,tenantDid:a,agent:n,useCache:o})})}list({agent:t,tenant:n}){return ah(this,void 0,void 0,function*(){const i=yield sg({tenant:n,agent:t});return yield this.getAllRecords({agent:t,tenantDid:i})})}set({id:t,data:n,tenant:i,agent:o,preventDuplicates:a=!0,useCache:s=!1}){return ah(this,void 0,void 0,function*(){const l=yield sg({agent:o,tenant:i,didUri:t});if(yield this.initialize({tenant:l,agent:o}),a&&(yield this.lookupRecordId({id:t,tenantDid:l,agent:o})))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const R=on.object(n).toUint8Array(),{message:I,reply:{status:y}}=yield o.dwn.processRequest({author:l,target:l,messageType:Qi.RecordsWrite,messageParams:Object.assign({},this._recordProperties),dataStream:new Blob([R],{type:"application/json"})});if(!I||202!==y.code)throw new Error(`${this.name}: Failed to write data to store for: ${t}`);this._index.set(`${l}${sh}${t}`,I.recordId),s&&this._cache.set(I.recordId,n)})}initialize({tenant:t,agent:n}){return ah(this,void 0,void 0,function*(){const i=yield sg({agent:n,tenant:t});if(this._protocolInitializedCache.has(i))return;const{reply:{status:o,entries:a}}=yield n.dwn.processRequest({author:i,target:i,messageType:Qi.ProtocolsQuery,messageParams:{filter:{protocol:this._recordProtocolDefinition.protocol}}});if(200!==o.code)throw new Error(`Failed to query for protocols: ${o.code} - ${o.detail}`);0===a?.length&&(yield this.installProtocol(i,n)),this._protocolInitializedCache.set(i,!0)})}getAllRecords(t){return ah(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DwnDataStore must implement getAllRecords()")})}getRecord({recordId:t,tenantDid:n,agent:i,useCache:o}){var a;return ah(this,void 0,void 0,function*(){if(o){const R=this._cache.get(t);if(R)return R}const{reply:s}=yield i.dwn.processRequest({author:n,target:n,messageType:Qi.RecordsRead,messageParams:{filter:{recordId:t}}});if(null===(a=s.record)||void 0===a||!a.data)throw new Error(`${this.name}: Failed to read data from DWN for: ${t}`);const l=yield sl.consumeToJson({readable:s.record.data});return o&&this._cache.set(t,l),l})}installProtocol(t,n){return ah(this,void 0,void 0,function*(){const{reply:{status:i}}=yield n.dwn.processRequest({author:t,target:t,messageType:Qi.ProtocolsConfigure,messageParams:{definition:this._recordProtocolDefinition}});if(202!==i.code)throw new Error(`Failed to install protocol: ${i.code} - ${i.detail}`)})}lookupRecordId({id:t,tenantDid:n,agent:i}){return ah(this,void 0,void 0,function*(){let o=this._index.get(`${n}${sh}${t}`,{updateAgeOnGet:!0});return o||(yield this.getAllRecords({agent:i,tenantDid:n}),o=this._index.get(`${n}${sh}${t}`)),o})}}class a7{constructor(){this.name="InMemoryDataStore",this.store=new Map}delete({id:t,agent:n,tenant:i}){return ah(this,void 0,void 0,function*(){const o=yield sg({agent:n,tenant:i,didUri:t});return!!this.store.has(`${o}${sh}${t}`)&&(this.store.delete(`${o}${sh}${t}`),!0)})}get({id:t,agent:n,tenant:i}){return ah(this,void 0,void 0,function*(){const o=yield sg({agent:n,tenant:i,didUri:t});return this.store.get(`${o}${sh}${t}`)})}list({agent:t,tenant:n}){return ah(this,void 0,void 0,function*(){const i=yield sg({tenant:n,agent:t}),o=[];for(const[a,s]of this.store.entries())a.startsWith(`${i}${sh}`)&&o.push(s);return o})}set({id:t,data:n,tenant:i,agent:o,preventDuplicates:a}){return ah(this,void 0,void 0,function*(){const s=yield sg({agent:o,tenant:i,didUri:t});if(a&&this.store.has(`${s}${sh}${t}`))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const l=structuredClone(n);this.store.set(`${s}${sh}${t}`,l)})}}var ag=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class uZ extends s7{constructor(){super(...arguments),this.name="DwnDidStore",this._recordProtocolDefinition=PK,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"portableDid",schema:this._recordProtocolDefinition.types.portableDid.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return ag(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return ag(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return ag(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return ag(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return ag(this,void 0,void 0,function*(){this._index.clear();const{reply:o}=yield t.dwn.processRequest({author:n,target:n,messageType:Qi.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let a=[];for(const s of null!==(i=o.entries)&&void 0!==i?i:[]){if(!s.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const l=on.base64Url(s.encodedData).toObject();RK(l)&&(this._index.set(`${n}${sh}${l.uri}`,s.recordId),this._cache.set(s.recordId,l),a.push(l))}return a})}}class fZ extends a7{constructor(){super(...arguments),this.name="InMemoryDidStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return ag(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return ag(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return ag(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return ag(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var hD=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class hZ{constructor({ttl:t="15m"}={}){this.cache=new Tx({ttl:_1(t)})}get(t){return hD(this,void 0,void 0,function*(){if(!t)throw new Error("Key cannot be null or undefined");return this.cache.get(t)})}set(t,n){return hD(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return hD(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return hD(this,void 0,void 0,function*(){this.cache.clear()})}close(){return hD(this,void 0,void 0,function*(){})}}var mb=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},pD=function(r){return r.Create="Create",r.Resolve="Resolve",r}(pD||{});function OK(r,t){return r.messageType===t}class pZ extends kK{constructor({agent:t,didMethods:n,resolverCache:i,store:o}){if(!n)throw new TypeError("AgentDidApi: Required parameter missing: 'didMethods'");super({didResolvers:n,cache:i??new hZ}),this._didMethods=new Map,this._agent=t,this._store=o??new fZ;for(const a of n)this._didMethods.set(a.methodName,a)}get agent(){if(void 0===this._agent)throw new Error("AgentDidApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({method:t,tenant:n,options:i,store:o}){return mb(this,void 0,void 0,function*(){const s=yield this.getMethod(t).create({keyManager:this.agent.keyManager,options:i});if(o??1){const{uri:l,document:R,metadata:I}=s,y={uri:l,document:R,metadata:I};yield this._store.set({id:y.uri,data:y,agent:this.agent,tenant:n??y.uri,preventDuplicates:!1,useCache:!0})}return s})}export({didUri:t,tenant:n}){return mb(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentDidApi: Failed to export due to DID not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return mb(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});return i?yield ig.import({portableDid:i,keyManager:this.agent.keyManager}):void 0})}getSigningMethod({didUri:t,methodId:n}){return mb(this,void 0,void 0,function*(){const i=ra.parse(t);if(!i)throw new Error(`Invalid DID URI: ${t}`);const o=this.getMethod(i.method),{didDocument:a,didResolutionMetadata:s}=yield this.resolve(t);if(!a)throw new Error(`DID resolution failed for '${t}': ${JSON.stringify(s)}`);return yield o.getSigningMethod({didDocument:a,methodId:n})})}import({portableDid:t,tenant:n}){return mb(this,void 0,void 0,function*(){const i=yield ig.import({keyManager:this.agent.keyManager,portableDid:t}),{uri:o,document:a,metadata:s}=i,l={uri:o,document:a,metadata:s};return yield this._store.set({id:l.uri,data:l,agent:this.agent,tenant:n??l.uri,preventDuplicates:!0,useCache:!0}),i})}delete({didUri:t,tenant:n,deleteKey:i=!0}){return mb(this,void 0,void 0,function*(){const o=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!1});if(!o)throw new Error("AgentDidApi: Could not delete, DID not found");yield this._store.delete({id:t,agent:this.agent,tenant:n}),i&&(yield this.deleteKeys({portableDid:o}))})}deleteKeys({portableDid:t}){return mb(this,void 0,void 0,function*(){for(const n of t.document.verificationMethod||[]){if(!n.publicKeyJwk)continue;const i=yield this.agent.keyManager.getKeyUri({key:n.publicKeyJwk});yield this.agent.keyManager.deleteKey({keyUri:i})}})}processRequest(t){var n;return mb(this,void 0,void 0,function*(){if(OK(t,pD.Create))try{const i=yield this.create(Object.assign({},t.messageParams));return{result:{uri:i.uri,document:i.document,metadata:i.metadata},ok:!0,status:{code:201,message:"Created"}}}catch(i){return{ok:!1,status:{code:500,message:null!==(n=i.message)&&void 0!==n?n:"Unknown error occurred"}}}if(OK(t,pD.Resolve)){const{didUri:i,options:o}=t.messageParams;return{result:yield this.resolve(i,o),ok:!0,status:{code:200,message:"OK"}}}throw new Error(`AgentDidApi: Unsupported request type: ${t.messageType}`)})}getMethod(t){const n=this._didMethods.get(t);if(void 0===n)throw new Error(`DID Method not supported: ${t}`);return n}}var mZ=E(85493),BK=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};function NK(r){return l7(r.stream())}function LK(r,t){return BK(this,void 0,void 0,function*(){const n=yield t.dereference(`${r}#dwn`);if(n.dereferencingMetadata.error)throw new Error(`Failed to dereference '${r}#dwn': ${n.dereferencingMetadata.error}`);if(function tZ(r){if(!function eZ(r){return!(!r||"object"!=typeof r||null===r)&&"id"in r&&"type"in r&&"serviceEndpoint"in r}(r)||"DecentralizedWebNode"!==r.type||!("enc"in r)||!("sig"in r))return!1;const t=n=>"string"==typeof n||Array.isArray(n)&&n.every(i=>"string"==typeof i);return t(r.enc)&&t(r.sig)}(n.contentStream)){const{serviceEndpoint:i}=n.contentStream,o="string"==typeof i?[i]:Array.isArray(i)&&i.every(a=>"string"==typeof a)?i:[];if(o.length>0)return o}return[]})}function c7(r){return $i.getAuthor(r)}function Yk(r){return!(!r||"object"!=typeof r||null===r)&&"message"in r&&"object"==typeof r.message&&null!==r.message&&"descriptor"in r.message&&"object"==typeof r.message.descriptor&&null!==r.message.descriptor&&"interface"in r.message.descriptor&&r.message.descriptor.interface===bi.Records&&"method"in r.message.descriptor&&r.message.descriptor.method===Xr.Write}function yZ(r){return wr.getCid(r)}function l7(r){return new mZ.s(r)}function d7(r,t){return r.endsWith("/")&&(r=r.slice(0,-1)),t.startsWith("/")&&(t=t.slice(1)),`${r}/${t}`}var cg=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};function Xk(r,t){return t.descriptor.interface+t.descriptor.method===r}class UK{constructor({agent:t,dwn:n}){this._agent=t,this._dwn=n}get agent(){if(void 0===this._agent)throw new Error("AgentDwnApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}get node(){return this._dwn}static createDwn({dataPath:t,dataStore:n,didResolver:i,eventLog:o,eventStream:a,messageStore:s,tenantGate:l,resumableTaskStore:R}){return cg(this,void 0,void 0,function*(){return n??(n=new cG({blockstoreLocation:`${t}/DWN_DATASTORE`})),i??(i=new kK({didResolvers:[Gk,rZ],cache:new sZ({location:`${t}/DID_RESOLVERCACHE`})})),o??(o=new yG({location:`${t}/DWN_EVENTLOG`})),s??(s=new H9({blockstoreLocation:`${t}/DWN_MESSAGESTORE`,indexLocation:`${t}/DWN_MESSAGEINDEX`})),R??(R=new SG({location:`${t}/DWN_RESUMABLETASKSTORE`})),yield v9.create({dataStore:n,didResolver:i,eventLog:o,eventStream:a,messageStore:s,tenantGate:l,resumableTaskStore:R})})}processRequest(t){return cg(this,void 0,void 0,function*(){const{message:n,dataStream:i}=yield this.constructDwnMessage({request:t}),{subscriptionHandler:o}=t;return{reply:!1!==t.store?yield this._dwn.processMessage(t.target,n,{dataStream:i,subscriptionHandler:o}):{status:{code:202,detail:"Accepted"}},message:n,messageCid:yield wr.getCid(n)}})}sendRequest(t){return cg(this,void 0,void 0,function*(){const n=yield LK(t.target,this.agent.did);if(0===n.length)throw new Error(`AgentDwnApi: DID Service is missing or malformed: ${t.target}#dwn`);let i,o,a,s;if("messageCid"in t)({message:o,data:a}=yield this.getDwnMessage({author:t.author,messageCid:t.messageCid,messageType:t.messageType})),i=t.messageCid;else{if(({message:o}=yield this.constructDwnMessage({request:t})),t.dataStream&&!(t.dataStream instanceof Blob))throw new Error("AgentDwnApi: DataStream must be provided as a Blob");a=t.dataStream,s=t.subscriptionHandler}const l=yield this.sendDwnRpcRequest({targetDid:t.target,dwnEndpointUrls:n,message:o,data:a,subscriptionHandler:s});return i??(i=yield wr.getCid(o)),{reply:l,message:o,messageCid:i}})}sendDwnRpcRequest({targetDid:t,dwnEndpointUrls:n,message:i,data:o,subscriptionHandler:a}){return cg(this,void 0,void 0,function*(){const s=[];if(i.descriptor.method===Xr.Subscribe&&void 0===a)throw new Error("AgentDwnApi: Subscription handler is required for subscription requests.");for(let l of n)try{if(void 0!==a){if(!(yield this.agent.rpc.getServerInfo(l)).webSocketSupport){s.push({url:l,message:"WebSocket support is not enabled on the server."});continue}const y=new URL(l);y.protocol="http:"===y.protocol?"ws:":"wss:",l=y.toString()}return yield this.agent.rpc.sendDwnRequest({dwnUrl:l,targetDid:t,message:i,data:o,subscriptionHandler:a})}catch(R){s.push({url:l,message:R instanceof Error?R.message:"Unknown error"})}throw new Error(`Failed to send DWN RPC request: ${JSON.stringify(s)}`)})}constructDwnMessage({request:t}){var n;return cg(this,void 0,void 0,function*(){const i=t.rawMessage;let o;if(function vZ(r,t){return r.messageType===t}(t,Qi.RecordsWrite)){const R=t.messageParams;if(t.dataStream&&!R?.data){const{dataStream:I}=t;let y;if(I instanceof Blob)y=NK(I),o=NK(I);else if(I instanceof ReadableStream){const[L,ye]=I.tee();y=l7(L),o=l7(ye)}i||(R.dataCid=yield Ic.computeDagPbCidFromStream(y),null!==(n=R.dataSize)&&void 0!==n||(R.dataSize=y.bytesRead))}}const a=yield this.getSigner(t.author),s=uK[t.messageType],l=i?yield s.parse(i):yield s.create(Object.assign(Object.assign({},t.messageParams),{signer:a}));return Yk(l)&&t.signAsOwner&&(yield l.signAsOwner(a)),{message:l.message,dataStream:o}})}getSigner(t){return cg(this,void 0,void 0,function*(){if(t===this.agent.agentDid.uri){const n=yield this.agent.agentDid.getSigner();return{algorithm:n.algorithm,keyId:n.keyId,sign:i=>cg(this,void 0,void 0,function*(){return yield n.sign({data:i})})}}try{const n=yield this.agent.did.getSigningMethod({didUri:t});if(!n.publicKeyJwk)throw new Error(`Verification method '${n.id}' does not contain a public key in JWK format`);const i=yield this.agent.keyManager.getKeyUri({key:n.publicKeyJwk}),o=yield this.agent.keyManager.getPublicKey({keyUri:i}),a=this.agent.keyManager;return{algorithm:pK(o),keyId:n.id,sign:s=>cg(this,void 0,void 0,function*(){return yield a.sign({data:s,keyUri:i})})}}catch(n){throw new Error(`AgentDwnApi: Unable to get signer for author '${t}': ${n.message}`)}})}getDwnMessage({author:t,messageCid:n}){return cg(this,void 0,void 0,function*(){const i=yield this.getSigner(t),o=yield uK[Qi.MessagesRead].create({messageCid:n,signer:i}),a=yield this._dwn.processMessage(t,o.message);if(200!==a.status.code)throw new Error(`AgentDwnApi: Failed to read message, response status: ${a.status.code} - ${a.status.detail}`);const s=a.entry;let R={message:s.message};if(Yk(s)&&s.data){const I=yield sl.consumeToBytes({readable:s.data});R.data=new Blob([I],{type:s.message.descriptor.dataFormat})}return R})}}var Jk=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class lS{static registerTenant(t,n){return Jk(this,void 0,void 0,function*(){const i=d7(t,"registration"),o=d7(i,"terms-of-service"),a=d7(i,"proof-of-work"),s=yield fetch(o,{method:"GET"});if(200!==s.status){const Ce=s.status,je=s.statusText,Je=yield s.text();throw new Error(`Failed fetching terms-of-service: ${Ce} ${je}: ${Je}`)}const l=yield s.text(),R=yield fetch(a,{method:"GET"}),{challengeNonce:I,maximumAllowedHashValue:y}=yield R.json(),L={did:n,termsOfServiceHash:yield lS.hashAsHexString(l)},ye=yield lS.findQualifiedResponseNonce({challengeNonce:I,maximumAllowedHashValue:y,requestData:JSON.stringify(L)}),Me=yield fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({registrationData:L,proofOfWork:{challengeNonce:I,responseNonce:ye}})});if(200!==Me.status){const Ce=Me.status,je=Me.statusText,Je=yield Me.text();throw new Error(`Registration failed: ${Ce} ${je}: ${Je}`)}})}static hashAsHexString(t){return Jk(this,void 0,void 0,function*(){const n=yield G9.digest({data:on.string(t).toUint8Array()});return on.uint8Array(n).toHex()})}static findQualifiedResponseNonce(t){return Jk(this,void 0,void 0,function*(){const n=Date.now(),{maximumAllowedHashValue:i,challengeNonce:o,requestData:a}=t,s=BigInt(`0x${i}`);let R,l=1,I=!1;do{R=yield this.generateNonce();const y=yield lS.hashAsHexString(o+R+a);I=BigInt(`0x${y}`)<=s,l++}while(!I);return console.log(`iterations: ${l}, time lapsed: ${Date.now()-n} ms`),R})}static generateNonce(){return Jk(this,void 0,void 0,function*(){const t=mK(32);return yield on.uint8Array(t).toHex().toUpperCase()})}}var u7=E(75781),bZ=E(36405);const wZ=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),FK=Uint8Array.from({length:16},(r,t)=>t),_Z=FK.map(r=>(9*r+5)%16);let f7=[FK],h7=[_Z];for(let r=0;r<4;r++)for(let t of[f7,h7])t.push(t[r].map(n=>wZ[n]));const jK=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),EZ=f7.map((r,t)=>r.map(n=>jK[t][n])),xZ=h7.map((r,t)=>r.map(n=>jK[t][n])),SZ=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),MZ=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),qk=(r,t)=>r<<t|r>>>32-t;function KK(r,t,n,i){return 0===r?t^n^i:1===r?t&n|~t&i:2===r?(t|~n)^i:3===r?t&i|n&~i:t^(n|~i)}const Qk=new Uint32Array(16);class AZ extends bZ.D{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:i,h3:o,h4:a}=this;return[t,n,i,o,a]}set(t,n,i,o,a){this.h0=0|t,this.h1=0|n,this.h2=0|i,this.h3=0|o,this.h4=0|a}process(t,n){for(let Te=0;Te<16;Te++,n+=4)Qk[Te]=t.getUint32(n,!0);let i=0|this.h0,o=i,a=0|this.h1,s=a,l=0|this.h2,R=l,I=0|this.h3,y=I,L=0|this.h4,ye=L;for(let Te=0;Te<5;Te++){const Me=4-Te,Ce=SZ[Te],je=MZ[Te],Je=f7[Te],ze=h7[Te],He=EZ[Te],rt=xZ[Te];for(let yt=0;yt<16;yt++){const ct=qk(i+KK(Te,a,l,I)+Qk[Je[yt]]+Ce,He[yt])+L|0;i=L,L=I,I=0|qk(l,10),l=a,a=ct}for(let yt=0;yt<16;yt++){const ct=qk(o+KK(Me,s,R,y)+Qk[ze[yt]]+je,rt[yt])+ye|0;o=ye,ye=y,y=0|qk(R,10),R=s,s=ct}}this.set(this.h1+l+y|0,this.h2+I+ye|0,this.h3+L+o|0,this.h4+i+s|0,this.h0+a+R|0)}roundClean(){Qk.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const TZ=(0,yd.ld)(()=>new AZ);var p7=E(25431),lg=E(37099);const IZ=(0,yd.AI)("ed25519 seed"),m7=2147483648,$K=new Uint8Array([0]);function VK(r,...t){return"string"==typeof r&&(r=(0,yd.aT)(r)),(0,lg.ee)(r,...t),r}const y7=r=>{if(!Number.isSafeInteger(r)||r<0||r>2**32-1)throw new Error(`Invalid number=${r}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return(0,yd.O8)(t).setUint32(0,r,!1),t};class eP{get publicKeyRaw(){return ho.ev.getPublicKey(this.privateKey)}get publicKey(){return(0,yd.Id)($K,this.publicKeyRaw)}get pubHash(){return(r=>TZ((0,Zd.s)(this.publicKey)))()}get fingerprint(){return(r=>(0,yd.O8)(this.pubHash).getUint32(0,!1))()}get fingerprintHex(){return(0,yd.My)(y7(this.fingerprint))}get parentFingerprintHex(){return(0,yd.My)(y7(this.parentFingerprint))}static fromMasterSeed(t){if(8*(t=VK(t)).length<128||8*t.length>512)throw new Error(`HDKey: wrong seed length=${t.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=(0,u7.w)(p7.Zf,IZ,t);return new eP({privateKey:n.slice(0,32),chainCode:n.slice(32)})}constructor(t){if(this.depth=0,this.index=0,this.parentFingerprint=0,!t||"object"!=typeof t)throw new Error("HDKey.constructor must not be called directly");if((0,lg.ee)(t.privateKey,32),(0,lg.ee)(t.chainCode,32),this.depth=t.depth||0,this.index=t.index||0,this.parentFingerprint=t.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");this.chainCode=t.chainCode,this.privateKey=t.privateKey}derive(t,n=!1){if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;const i=t.replace(/^[mM]'?\//,"").split("/");let o=this;for(const a of i){const s=/^(\d+)('?)$/.exec(a);if(!s||3!==s.length)throw new Error(`Invalid child index: ${a}`);let l=+s[1];if(!Number.isSafeInteger(l)||l>=m7)throw new Error("Invalid index");(n||"'"===s[2])&&(l+=m7),o=o.deriveChild(l)}return o}deriveChild(t){if(t<m7)throw new Error(`Non-hardened child derivation not possible for Ed25519 (index=${t})`);const n=(0,yd.Id)($K,this.privateKey,y7(t)),i=(0,u7.w)(p7.Zf,this.chainCode,n);return new eP({chainCode:i.slice(32),depth:this.depth+1,parentFingerprint:this.fingerprint,index:t,privateKey:i.slice(0,32)})}sign(t){return ho.ev.sign(t,this.privateKey)}verify(t,n){return n=VK(n,64),ho.ev.verify(n,t,this.publicKeyRaw)}}const zK="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");function g7(){return g7=(0,m.A)(function*(r,t,n,i){const{c:o,dkLen:a,asyncTick:s,DK:l,PRF:R,PRFSalt:I}=function HK(r,t,n,i){(0,lg.tW)(r);const o=(0,yd.tY)({dkLen:32,asyncTick:10},i),{c:a,dkLen:s,asyncTick:l}=o;if((0,lg.ai)(a),(0,lg.ai)(s),(0,lg.ai)(l),a<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const R=(0,yd.ZJ)(t),I=(0,yd.ZJ)(n),y=new Uint8Array(s),L=u7.w.create(r,R),ye=L._cloneInto().update(I);return{c:a,dkLen:s,asyncTick:l,DK:y,PRF:L,PRFSalt:ye}}(r,t,n,i);let y;const L=new Uint8Array(4),ye=(0,yd.O8)(L),Te=new Uint8Array(R.outputLen);for(let Me=1,Ce=0;Ce<a;Me++,Ce+=R.outputLen){const je=l.subarray(Ce,Ce+R.outputLen);ye.setInt32(0,Me,!1),(y=I._cloneInto(y)).update(L).digestInto(Te),je.set(Te.subarray(0,je.length)),yield(0,yd.$h)(o-1,s,()=>{R._cloneInto(y).update(Te).digestInto(Te);for(let Je=0;Je<je.length;Je++)je[Je]^=Te[Je]})}return function WK(r,t,n,i,o){return r.destroy(),t.destroy(),i&&i.destroy(),o.fill(0),n}(R,I,l,y,Te)}),g7.apply(this,arguments)}var tP=E(53813);function GK(r){if("string"!=typeof r)throw new TypeError("Invalid mnemonic type: "+typeof r);return r.normalize("NFKD")}function v7(r){const t=GK(r),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function ZK(r){(0,lg.ee)(r,16,20,24,28,32)}const OZ=r=>{const t=8-r.length/4;return new Uint8Array([(0,Zd.s)(r)[0]>>t<<t])};function YK(r){if(!Array.isArray(r)||2048!==r.length||"string"!=typeof r[0])throw new Error("Wordlist: expected array of 2048 strings");return r.forEach(t=>{if("string"!=typeof t)throw new Error(`Wordlist: non-string element: ${t}`)}),tP.Wp.chain(tP.Wp.checksum(1,OZ),tP.Wp.radix2(11,!0),tP.Wp.alphabet(r))}function UZ(r,t=""){return function kZ(r,t,n,i){return g7.apply(this,arguments)}(p7.Zf,v7(r).nfkd,(r=>GK(`mnemonic${r}`))(t),{c:2048,dkLen:64})}var dg=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class FZ extends s7{constructor(){super(...arguments),this.name="DwnKeyStore",this._recordProtocolDefinition=cZ,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"privateJwk",schema:this._recordProtocolDefinition.types.privateJwk.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return dg(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return dg(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return dg(this,void 0,void 0,function*(){yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return dg(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return dg(this,void 0,void 0,function*(){this._index.clear();const{reply:o}=yield t.dwn.processRequest({author:n,target:n,messageType:Qi.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let a=[];for(const s of null!==(i=o.entries)&&void 0!==i?i:[]){if(!s.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const l=on.base64Url(s.encodedData).toObject();Y9(l)&&(this._index.set(`${n}${sh}${Lk}${l.kid}`,s.recordId),this._cache.set(s.recordId,l),a.push(l))}return a})}}class jZ extends a7{constructor(){super(...arguments),this.name="InMemoryKeyStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return dg(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return dg(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return dg(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return dg(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var ch=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},JK=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};const b7={"AES-GCM":{implementation:class BG extends A0{decrypt(t){return Q9(this,void 0,void 0,function*(){return ub.decrypt(t)})}encrypt(t){return Q9(this,void 0,void 0,function*(){return ub.encrypt(t)})}generateKey({algorithm:t}){return Q9(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield ub.generateKey({length:n});return i.alg=t,i})}},names:["A128GCM","A192GCM","A256GCM"]},"AES-KW":{implementation:_K,names:["A128KW","A192KW","A256KW"]},Ed25519:{implementation:hK,names:["Ed25519"]},secp256k1:{implementation:jk,names:["ES256K","secp256k1"]},secp256r1:{implementation:jk,names:["ES256","secp256r1"]},"SHA-256":{implementation:Z9,names:["SHA-256"]}};class E1{constructor({agent:t,keyStore:n}={}){this._algorithmInstances=new Map,this._agent=t,this._keyStore=n??new jZ}get agent(){if(void 0===this._agent)throw new Error("LocalKeyManager: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}decrypt(t){var{keyUri:n}=t,i=JK(t,["keyUri"]);return ch(this,void 0,void 0,function*(){const o=yield this.getPrivateKey({keyUri:n}),a=this.getAlgorithmName({key:o});return yield this.getAlgorithm({algorithm:a}).decrypt(Object.assign({key:o},i))})}digest(t){throw new Error("Method not implemented.")}encrypt(t){var{keyUri:n}=t,i=JK(t,["keyUri"]);return ch(this,void 0,void 0,function*(){const o=yield this.getPrivateKey({keyUri:n}),a=this.getAlgorithmName({key:o});return yield this.getAlgorithm({algorithm:a}).encrypt(Object.assign({key:o},i))})}exportKey({keyUri:t}){return ch(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){var n;return ch(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:{alg:t}}),a=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t});null!==(n=a.kid)&&void 0!==n||(a.kid=yield So({jwk:a}));const s=yield this.getKeyUri({key:a});return yield this._keyStore.set({id:s,data:a,agent:this.agent,preventDuplicates:!1,useCache:!0}),s})}getKeyUri({key:t}){return ch(this,void 0,void 0,function*(){const n=yield So({jwk:t});return`${Lk}${n}`})}getPublicKey({keyUri:t}){return ch(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return ch(this,void 0,void 0,function*(){if(!Y9(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield So({jwk:i}));const o=yield this.getKeyUri({key:i});return yield this._keyStore.set({id:o,data:i,agent:this.agent,preventDuplicates:!0,useCache:!0}),o})}sign({keyUri:t,data:n}){return ch(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:o}).sign({data:n,key:i})})}unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKeyUri:i}){return ch(this,void 0,void 0,function*(){const o=yield this.getPrivateKey({keyUri:i}),a=this.getAlgorithmName({key:o});return yield this.getAlgorithm({algorithm:a}).unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:o})})}verify({key:t,signature:n,data:i}){return ch(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:n,data:i})})}wrapKey({unwrappedKey:t,encryptionKeyUri:n}){return ch(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:n}),o=this.getAlgorithmName({key:i});return yield this.getAlgorithm({algorithm:o}).wrapKey({unwrappedKey:t,encryptionKey:i})})}deleteKey({keyUri:t}){return ch(this,void 0,void 0,function*(){if(!(yield this._keyStore.get({id:t,agent:this.agent,useCache:!0})))throw new Error(`Key not found: ${t}`);yield this._keyStore.delete({id:t,agent:this.agent})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=b7[t])||void 0===n?void 0:n.implementation;if(!i)throw new gi(vi.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const o of Object.keys(b7)){const a=b7[o].names;if(n&&a.includes(n))return o;if(i&&a.includes(i))return o}throw new gi(vi.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${n}, crv=${i}. Please check the documentation for the list of supported algorithms.`)}getPrivateKey({keyUri:t}){return ch(this,void 0,void 0,function*(){const n=yield this._keyStore.get({id:t,agent:this.agent,useCache:!0});if(!n)throw new Error(`Key not found: ${t}`);return n})}}var qK=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};function w7(r){return"object"==typeof r&&null!==r&&"alg"in r&&void 0!==r.alg&&"enc"in r&&void 0!==r.enc}class QK{static decrypt({key:t,encryptedKey:n,joseHeader:i,crypto:o}){return qK(this,void 0,void 0,function*(){switch(i.alg){case"dir":if(void 0!==n)throw new gi(vi.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new gi(vi.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');return t;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof i.p2c)throw new gi(vi.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof i.p2s)throw new gi(vi.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new gi(vi.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');if(void 0===n)throw new gi(vi.InvalidJwe,'JWE "encrypted_key" is required when using "PBES2" (Key Encryption Mode).');let a;try{a=new Uint8Array([...on.string(i.alg).toUint8Array(),0,...on.base64Url(i.p2s).toUint8Array()])}catch{throw new gi(vi.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const s=yield o.deriveKey({algorithm:i.alg,baseKeyBytes:t,iterations:i.p2c,salt:a});if(!s.alg||!["A128KW","A192KW","A256KW"].includes(s.alg))throw new gi(vi.AlgorithmNotSupported,`Unsupported Key Encryption Algorithm (alg) value: ${s.alg}`);return yield o.unwrapKey({decryptionKey:s,wrappedKeyBytes:n,wrappedKeyAlgorithm:i.enc})}default:throw new gi(vi.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${i.alg}`)}})}static encrypt({key:t,joseHeader:n,crypto:i}){return qK(this,void 0,void 0,function*(){let o,a;switch(n.alg){case"dir":if(void 0!==a)throw new gi(vi.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new gi(vi.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');o=t;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof n.p2c)throw new gi(vi.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof n.p2s)throw new gi(vi.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new gi(vi.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');let s;o=yield i.generateKey({algorithm:n.enc});try{s=new Uint8Array([...on.string(n.alg).toUint8Array(),0,...on.base64Url(n.p2s).toUint8Array()])}catch{throw new gi(vi.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const l=yield i.deriveKey({algorithm:n.alg,baseKeyBytes:t,iterations:n.p2c,salt:s});a=yield i.wrapKey({encryptionKey:l,unwrappedKey:o});break}default:throw new gi(vi.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${n.alg}`)}return{cek:o,encryptedKey:a}})}}function nP(r){return null!==r&&"object"==typeof r&&"encrypt"in r&&"function"==typeof r.encrypt&&"decrypt"in r&&"function"==typeof r.decrypt}function e$(...r){const t=new Set,n=r.filter(Boolean);for(const i of n)for(const o in i){if(t.has(o))return!0;t.add(o)}return!1}var t$=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};function _7(r,t){if(void 0!==t)try{if("string"!=typeof t)throw new Error;return on.base64Url(t).toUint8Array()}catch{throw new gi(vi.InvalidJwe,`Failed to decode the JWE Header parameter '${r}' from Base64 URL format to Uint8Array. Ensure the value is properly encoded in Base64 URL format without padding.`)}}class rP{constructor(t){this.ciphertext="",Object.assign(this,t)}static decrypt({jwe:t,key:n,keyManager:i=new D0,crypto:o=new aS,options:a={}}){var s,l;return t$(this,void 0,void 0,function*(){if(!nP(o))throw new gi(vi.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!nP(i))throw new gi(vi.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!t.protected&&!t.header&&!t.unprotected)throw new gi(vi.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protected", "header", or "unprotected"');if("string"!=typeof t.ciphertext)throw new gi(vi.InvalidJwe,"JWE Ciphertext is missing or not a string.");let R;if(t.protected)try{R=on.base64Url(t.protected).toObject()}catch{throw new Error("JWE Protected Header is invalid")}if(e$(R,t.header,t.unprotected))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "header", "protected", and "unprotected" objects.');const I=Object.assign(Object.assign(Object.assign({},R),t.header),t.unprotected);if(!w7(I))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');if(Array.isArray(a.allowedAlgValues)&&!a.allowedAlgValues.includes(I.alg))throw new Error(`"alg" (Algorithm) Header Parameter value not allowed: ${I.alg}`);if(Array.isArray(a.allowedEncValues)&&!a.allowedEncValues.includes(I.enc))throw new Error(`"enc" (Encryption Algorithm) Header Parameter value not allowed: ${I.enc}`);let y;try{const je=t.encrypted_key?on.base64Url(t.encrypted_key).toUint8Array():void 0;y=yield QK.decrypt({key:n,encryptedKey:je,joseHeader:I,keyManager:i,crypto:o})}catch(je){if(je instanceof gi&&(je.code===vi.InvalidJwe||je.code===vi.AlgorithmNotSupported))throw je;y="string"==typeof n?yield i.generateKey({algorithm:I.enc}):yield o.generateKey({algorithm:I.enc})}const L=_7("iv",t.iv),ye=_7("tag",t.tag),Te=void 0!==ye?new Uint8Array([...on.base64Url(t.ciphertext).toUint8Array(),...ye??[]]):on.base64Url(t.ciphertext).toUint8Array(),Me=void 0!==t.aad?new Uint8Array([...on.string(null!==(s=t.protected)&&void 0!==s?s:"").toUint8Array(),...on.string(".").toUint8Array(),...on.string(t.aad).toUint8Array()]):on.string(null!==(l=t.protected)&&void 0!==l?l:"").toUint8Array();return{plaintext:"string"==typeof y?yield i.decrypt({keyUri:y,data:Te,iv:L,additionalData:Me}):yield o.decrypt({key:y,data:Te,iv:L,additionalData:Me}),protectedHeader:R,additionalAuthenticatedData:_7("aad",t.aad),sharedUnprotectedHeader:t.unprotected,unprotectedHeader:t.header}})}static encrypt({key:t,plaintext:n,additionalAuthenticatedData:i,protectedHeader:o,sharedUnprotectedHeader:a,unprotectedHeader:s,keyManager:l=new D0,crypto:R=new aS}){return t$(this,void 0,void 0,function*(){if(!nP(R))throw new gi(vi.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!nP(l))throw new gi(vi.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!o&&!a&&!s)throw new gi(vi.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protectedHeader", "sharedUnprotectedHeader", or "unprotectedHeader"');if(!(n instanceof Uint8Array))throw new gi(vi.InvalidJwe,"Plaintext is missing or not a byte array.");if(e$(o,a,s))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "protectedHeader", "sharedUnprotectedHeader", and "unprotectedHeader" objects.');const I=Object.assign(Object.assign(Object.assign({},o),a),s);if(!w7(I))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');const{cek:y,encryptedKey:L}=yield QK.encrypt({key:t,joseHeader:I,keyManager:l,crypto:R});let ye;switch(I.enc){case"A128GCM":case"A192GCM":case"A256GCM":ye=mK(12);break;default:ye=new Uint8Array(0)}const Te=o?on.object(o).toBase64Url():"";let Me,Ce;i?(Ce=on.uint8Array(i).toBase64Url(),Me=on.string(Te+"."+Ce).toUint8Array()):Me=on.string(Te).toUint8Array();const je="string"==typeof y?yield l.encrypt({keyUri:y,data:n,iv:ye,additionalData:Me}):yield R.encrypt({key:y,data:n,iv:ye,additionalData:Me}),Je=je.slice(0,-16),ze=je.slice(-16),He=new rP({ciphertext:on.uint8Array(Je).toBase64Url()});return L&&(He.encrypted_key=on.uint8Array(L).toBase64Url()),o&&(He.protected=Te),a&&(He.unprotected=a),s&&(He.header=s),ye&&(He.iv=on.uint8Array(ye).toBase64Url()),Ce&&(He.aad=Ce),ze&&(He.tag=on.uint8Array(ze).toBase64Url()),He})}}var n$=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class dS{static decrypt({jwe:t,key:n,keyManager:i=new D0,crypto:o=new aS,options:a={}}){return n$(this,void 0,void 0,function*(){if("string"!=typeof t)throw new gi(vi.InvalidJwe,"Invalid JWE format. JWE must be a string.");const{0:s,1:l,2:R,3:I,4:y,length:L}=t.split(".");if(5!==L)throw new gi(vi.InvalidJwe,"Invalid JWE format. JWE must have 5 parts.");const ye=yield rP.decrypt({jwe:{ciphertext:I,encrypted_key:l||void 0,iv:R||void 0,protected:s,tag:y||void 0},key:n,keyManager:i,crypto:o,options:a});if(!w7(ye.protectedHeader))throw new gi(vi.InvalidJwe,"Decrypt operation failed due to missing or malformed JWE Protected Header");return{plaintext:ye.plaintext,protectedHeader:ye.protectedHeader}})}static encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:o=new D0,crypto:a=new aS,options:s={}}){return n$(this,void 0,void 0,function*(){const l=yield rP.encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:o,crypto:a,options:s});return[l.protected,l.encrypted_key,l.iv,l.ciphertext,l.tag].join(".")})}}var lp=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};function r$(r){return"string"!=typeof r||0===r.trim().length}class VZ{constructor({keyDerivationWorkFactor:t,store:n}={}){this.crypto=new aS,this._keyDerivationWorkFactor=t??21e4,this._store=n??new Dx}backup(){return lp(this,void 0,void 0,function*(){if(this.isLocked()||!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the backup operation because the identity vault has not been initialized and unlocked. Please ensure the vault is properly initialized with a secure password before attempting to backup its contents.");const t={did:yield this.getStoredDid(),contentEncryptionKey:yield this.getStoredContentEncryptionKey(),status:yield this.getStatus()},n=on.object(t).toBase64Url(),i={data:n,dateCreated:(new Date).toISOString(),size:n.length};return yield this.setStatus({lastBackup:i.dateCreated}),i})}changePassword({oldPassword:t,newPassword:n}){return lp(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the change password operation because the identity vault has not been initialized. Please ensure the vault is properly initialized with a secure password before trying again.");yield this.lock();const i=yield this.getStoredContentEncryptionKey();let o,a;try{let l;({plaintext:l,protectedHeader:o}=yield dS.decrypt({jwe:i,key:on.string(t).toUint8Array(),crypto:this.crypto,keyManager:new E1})),a=on.uint8Array(l).toObject()}catch{throw new Error("HdIdentityVault: Unable to change the vault password due to an incorrectly entered old password.")}const s=yield dS.encrypt({key:on.string(n).toUint8Array(),protectedHeader:o,plaintext:on.object(a).toUint8Array(),crypto:this.crypto,keyManager:new E1});yield this._store.set("contentEncryptionKey",s),this._contentEncryptionKey=a})}getDid(){return lp(this,void 0,void 0,function*(){if(this.isLocked())throw new Error("HdIdentityVault: Vault has not been initialized and unlocked.");const t=yield this.getStoredDid(),{plaintext:n}=yield dS.decrypt({jwe:t,key:this._contentEncryptionKey,crypto:this.crypto,keyManager:new E1}),i=on.uint8Array(n).toObject();if(!RK(i))throw new Error("HdIdentityVault: Unable to decode malformed DID in identity vault");return yield ig.import({portableDid:i})})}getStatus(){return lp(this,void 0,void 0,function*(){const t=yield this._store.get("vaultStatus");if(!t)return{initialized:!1,lastBackup:null,lastRestore:null};const n=on.string(t).toObject();if(!function $Z(r){return"object"==typeof r&&null!==r&&"initialized"in r&&"boolean"==typeof r.initialized&&"lastBackup"in r&&"lastRestore"in r}(n))throw new Error("HdIdentityVault: Invalid IdentityVaultStatus object in store");return n})}initialize({password:t,recoveryPhrase:n}){return lp(this,void 0,void 0,function*(){if(yield this.isInitialized())throw new Error("HdIdentityVault: Vault has already been initialized.");if(r$(t))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n&&r$(n))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n??(n=function RZ(r,t=128){if((0,lg.ai)(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return function NZ(r,t){return ZK(r),YK(t).encode(r).join((r=>"\u3042\u3044\u3053\u304f\u3057\u3093"===r[0])(t)?"\u3000":" ")}((0,yd.po)(t/8),r)}(zK,128)),!function LZ(r,t){try{!function BZ(r,t){const{words:n}=v7(r);ZK(YK(t).decode(n))}(r,t)}catch{return!1}return!0}(n,zK))throw new Error("HdIdentityVault: The provided recovery phrase is invalid. Please ensure that the recovery phrase is a correctly formatted series of 12 words.");const i=yield UZ(n),o=eP.fromMasterSeed(i),a=o.derive("m/44'/0'/0'/0'/0'"),s=yield this.crypto.deriveKey({algorithm:"HKDF-512",baseKeyBytes:a.privateKey,salt:"",info:"vault_cek",derivedKeyAlgorithm:"A256GCM"}),l=yield this.crypto.deriveKeyBytes({algorithm:"HKDF-512",baseKeyBytes:a.publicKey,salt:"",info:"vault_unlock_salt",length:256}),R={alg:"PBES2-HS512+A256KW",enc:"A256GCM",cty:"text/plain",p2c:this._keyDerivationWorkFactor,p2s:on.uint8Array(l).toBase64Url()},I=yield dS.encrypt({key:on.string(t).toUint8Array(),protectedHeader:R,plaintext:on.object(s).toUint8Array(),crypto:this.crypto,keyManager:new E1});yield this._store.set("contentEncryptionKey",I);const y=o.derive("m/44'/0'/1708523827'/0'/0'"),L=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:y.privateKey});let ye=o.derive("m/44'/0'/1708523827'/0'/1'");const Te=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:ye.privateKey}),Me=new dZ;yield Me.addPredefinedKeys({privateKeys:[L,Te]});const je=yield(yield Gk.create({keyManager:Me,options:{verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]}]}})).export(),ze=yield dS.encrypt({key:s,plaintext:on.object(je).toUint8Array(),protectedHeader:{alg:"dir",enc:"A256GCM",cty:"json"},crypto:this.crypto,keyManager:new E1});return yield this._store.set("did",ze),this._contentEncryptionKey=s,yield this.setStatus({initialized:!0}),n})}isInitialized(){return lp(this,void 0,void 0,function*(){return this.getStatus().then(({initialized:t})=>t)})}isLocked(){return!this._contentEncryptionKey}lock(){return lp(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Lock operation failed. Vault has not been initialized.");this._contentEncryptionKey&&(this._contentEncryptionKey.k=""),this._contentEncryptionKey=void 0})}restore({backup:t,password:n}){return lp(this,void 0,void 0,function*(){if(!function KZ(r){return"object"==typeof r&&null!==r&&"dateCreated"in r&&"string"==typeof r.dateCreated&&"size"in r&&"number"==typeof r.size&&"data"in r&&"string"==typeof r.data}(t))throw new Error("HdIdentityVault: Restore operation failed due to invalid backup object.");let i,o,a;try{a=yield this.getStoredDid(),o=yield this.getStoredContentEncryptionKey(),i=yield this.getStatus()}catch{throw new Error("HdIdentityVault: The restore operation cannot proceed because the existing vault contents are missing or inaccessible. If the problem persists consider re-initializing the vault and retrying the restore.")}try{const s=on.base64Url(t.data).toObject();yield this._store.set("did",s.did),yield this._store.set("contentEncryptionKey",s.contentEncryptionKey),yield this.setStatus(s.status),yield this.unlock({password:n})}catch{throw yield this.setStatus(i),yield this._store.set("contentEncryptionKey",o),yield this._store.set("did",a),new Error("HdIdentityVault: Restore operation failed due to invalid backup data or an incorrect password. Please verify the password is correct for the provided backup and try again.")}yield this.setStatus({lastRestore:(new Date).toISOString()})})}unlock({password:t}){return lp(this,void 0,void 0,function*(){yield this.lock();const n=yield this.getStoredContentEncryptionKey();try{const{plaintext:i}=yield dS.decrypt({jwe:n,key:on.string(t).toUint8Array(),crypto:this.crypto,keyManager:new E1}),o=on.uint8Array(i).toObject();this._contentEncryptionKey=o}catch{throw new Error("HdIdentityVault: Unable to unlock the vault due to an incorrect password.")}})}getStoredDid(){return lp(this,void 0,void 0,function*(){const t=yield this._store.get("did");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the DID record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}getStoredContentEncryptionKey(){return lp(this,void 0,void 0,function*(){const t=yield this._store.get("contentEncryptionKey");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the Content Encryption Key record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}setStatus({initialized:t,lastBackup:n,lastRestore:i}){return lp(this,void 0,void 0,function*(){let o=yield this.getStatus();return o.initialized=t??o.initialized,o.lastBackup=n??o.lastBackup,o.lastRestore=i??o.lastRestore,yield this._store.set("vaultStatus",JSON.stringify(o)),!0})}}var ug=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};function zZ(r){return!(!r||"object"!=typeof r||null===r)&&"name"in r}class HZ extends s7{constructor(){super(...arguments),this.name="DwnIdentityStore",this._recordProtocolDefinition=PK,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"identityMetadata",schema:this._recordProtocolDefinition.types.identityMetadata.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return ug(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return ug(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return ug(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return ug(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return ug(this,void 0,void 0,function*(){this._index.clear();const{reply:o}=yield t.dwn.processRequest({author:n,target:n,messageType:Qi.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let a=[];for(const s of null!==(i=o.entries)&&void 0!==i?i:[]){if(!s.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const l=on.base64Url(s.encodedData).toObject();zZ(l)&&(this._index.set(`${n}${sh}${l.uri}`,s.recordId),this._cache.set(s.recordId,l),a.push(l))}return a})}}class WZ extends a7{constructor(){super(...arguments),this.name="InMemoryIdentityStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return ug(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return ug(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return ug(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return ug(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var x1=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class GZ{constructor({agent:t,store:n}={}){this._agent=t,this._store=n??new WZ}get agent(){if(void 0===this._agent)throw new Error("AgentIdentityApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({metadata:t,didMethod:n="dht",didOptions:i,store:o,tenant:a}){return x1(this,void 0,void 0,function*(){const s=yield this.agent.did.create({method:n,options:i,store:o,tenant:a}),l=new Nk({did:s,metadata:Object.assign(Object.assign({},t),{uri:s.uri,tenant:a??s.uri})});return(o??!0)&&(yield this._store.set({id:l.did.uri,data:l.metadata,agent:this.agent,tenant:l.metadata.tenant,preventDuplicates:!1,useCache:!0})),l})}export({didUri:t,tenant:n}){return x1(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentIdentityApi: Failed to export due to Identity not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return x1(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});if(!i)return;const o=yield this.agent.did.get({didUri:t,tenant:i.tenant});if(!o)throw new Error(`AgentIdentityApi: Identity is present in the store but DID is missing: ${t}`);return new Nk({did:o,metadata:i})})}import({portableIdentity:t}){return x1(this,void 0,void 0,function*(){const n=yield this.agent.did.import({portableDid:t.portableDid,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to import Identity: ${t.metadata.uri}`);const i=new Nk({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,tenant:i.metadata.tenant,preventDuplicates:!0,useCache:!0}),i})}list({tenant:t}={}){return x1(this,void 0,void 0,function*(){const n=yield this._store.list({agent:this.agent,tenant:t}),i=[];for(const o of n){const a=yield this.get({didUri:o.uri,tenant:o.tenant});i.push(a)}return i})}manage({portableIdentity:t}){return x1(this,void 0,void 0,function*(){const n=yield this.agent.did.get({didUri:t.metadata.uri,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to manage Identity: ${t.metadata.uri}`);const i=new Nk({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,preventDuplicates:!0,useCache:!0}),i})}delete({didUri:t,tenant:n}){return x1(this,void 0,void 0,function*(){if(!(yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0})))throw new Error(`AgentIdentityApi: Failed to purge due to Identity not found: ${t}`);yield this._store.delete({id:t,agent:this.agent,tenant:n})})}}const E7=(r,t,n)=>({jsonrpc:"2.0",id:r,method:t,params:n}),i$=(r,t,n,i)=>({jsonrpc:"2.0",id:r,method:`rpc.subscribe.${t}`,params:i,subscription:{id:n}});function iP(r){try{return JSON.parse(r)}catch{return null}}var mD=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class YZ{constructor({ttl:t="15m"}={}){this.cache=new Tx({ttl:_1(t)})}get(t){return mD(this,void 0,void 0,function*(){return this.cache.get(t)})}set(t,n){return mD(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return mD(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return mD(this,void 0,void 0,function*(){this.cache.clear()})}close(){return mD(this,void 0,void 0,function*(){})}}var o$=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class XZ{constructor(t){this.serverInfoCache=t??new YZ}get transportProtocols(){return["http:","https:"]}sendDwnRequest(t){return o$(this,void 0,void 0,function*(){const n=y1(),i=E7(n,"dwn.processMessage",{target:t.targetDid,message:t.message}),o={method:"POST",headers:{"dwn-request":JSON.stringify(i)}};t.data&&(o.headers["content-type"]="application/octet-stream",o.body=t.data);const a=yield fetch(t.dwnUrl,o);let s,l;const{headers:R}=a;if(R.has("dwn-response")){const y=iP(R.get("dwn-response"));if(null==y)throw new Error(`failed to parse json rpc response. dwn url: ${t.dwnUrl}`);l=a.body,s=y}else{const y=yield a.text();s=JSON.parse(y)}if(s.error){const{code:y,message:L}=s.error;throw new Error(`(${y}) - ${L}`)}const{reply:I}=s.result;return l&&I.record?I.record.data=l:l&&I.entry&&(I.entry.data=l),I})}getServerInfo(t){return o$(this,void 0,void 0,function*(){const n=yield this.serverInfoCache.get(t);if(n)return n;const i=new URL(t);i.pathname.endsWith("/")?i.pathname+="info":i.pathname+="/info";try{const o=yield fetch(i.toString());if(o.ok){const a=yield o.json(),s={registrationRequirements:a.registrationRequirements,maxFileSize:a.maxFileSize,webSocketSupport:a.webSocketSupport};return this.serverInfoCache.set(t,s),s}throw new Error(`HTTP (${o.status}) - ${o.statusText}`)}catch(o){throw new Error(`Error encountered while processing response from ${i.toString()}: ${o.message}`)}})}}var uS=null;typeof WebSocket<"u"?uS=WebSocket:typeof MozWebSocket<"u"?uS=MozWebSocket:typeof globalThis<"u"?uS=globalThis.WebSocket||globalThis.MozWebSocket:typeof window<"u"?uS=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(uS=self.WebSocket||self.MozWebSocket);const JZ=uS;var oP=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};const qZ=3e3,QZ=3e4;class x7{constructor(t,n){this.socket=t,this.responseTimeout=n,this.messageHandlers=new Map}static connect(t,n={}){return oP(this,void 0,void 0,function*(){const{connectTimeout:i=qZ,responseTimeout:o=QZ,onclose:a,onerror:s}=n,l=new JZ(t);return l.onclose=a||(()=>{console.info(`JSON RPC Socket close ${t}`)}),l.onerror=s||(R=>{console.error(`JSON RPC Socket error ${t}`,R)}),new Promise((R,I)=>{l.addEventListener("open",()=>{const y=new x7(l,o);l.addEventListener("message",L=>{const ye=iP(L.data),Te=y.messageHandlers.get(ye.id);Te&&Te(L)}),R(y)}),l.addEventListener("error",y=>{I(y)}),setTimeout(()=>I,i)})})}close(){this.socket.close()}request(t){return oP(this,void 0,void 0,function*(){return new Promise((n,i)=>{var o;null!==(o=t.id)&&void 0!==o||(t.id=y1()),this.messageHandlers.set(t.id,s=>{const l=iP(s.data);if(l.id===t.id)return this.messageHandlers.delete(t.id),n(l)}),this.send(t),setTimeout(()=>{this.messageHandlers.delete(t.id),i(new Error("request timed out"))},this.responseTimeout)})})}subscribe(t,n){return oP(this,void 0,void 0,function*(){if(!t.method.startsWith("rpc.subscribe."))throw new Error("subscribe rpc requests must include the `rpc.subscribe` prefix");if(!t.subscription)throw new Error("subscribe rpc requests must include subscribe options");const i=t.subscription.id;this.messageHandlers.set(i,l=>{const R=iP(l.data.toString());R.id===i&&(void 0!==R.error&&(this.messageHandlers.delete(i),this.closeSubscription(i)),n(R))});const a=yield this.request(t);return a.error?(this.messageHandlers.delete(i),{response:a}):{response:a,close:()=>oP(this,void 0,void 0,function*(){this.messageHandlers.delete(i),yield this.closeSubscription(i)})}})}closeSubscription(t){const n=y1(),i=i$(n,"close",t,{});return this.request(i)}send(t){this.socket.send(JSON.stringify(t))}}var S7=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class yb{get transportProtocols(){return["ws:","wss:"]}sendDwnRequest(t,n){return S7(this,void 0,void 0,function*(){const i=new URL(t.dwnUrl);if("ws:"!==i.protocol&&"wss:"!==i.protocol)throw new Error(`Invalid websocket protocol ${i.protocol}`);if(!yb.connections.has(i.host))try{const I=yield x7.connect(i.toString(),n);yb.connections.set(i.host,{socket:I,subscriptions:new Map})}catch(I){throw new Error(`Error connecting to ${i.host}: ${I.message}`)}const a=yb.connections.get(i.host),{targetDid:s,message:l,subscriptionHandler:R}=t;return R?yb.subscriptionRequest(a,s,l,R):yb.processMessage(a,s,l)})}static processMessage(t,n,i){return S7(this,void 0,void 0,function*(){const o=y1(),a=E7(o,"dwn.processMessage",{target:n,message:i}),{socket:s}=t,l=yield s.request(a),{error:R,result:I}=l;if(void 0!==R)throw new Error(`error sending DWN request: ${R.message}`);return I.reply})}static subscriptionRequest(t,n,i,o){return S7(this,void 0,void 0,function*(){const a=y1(),s=y1(),l=i$(a,"dwn.processMessage",s,{target:n,message:i}),{socket:R,subscriptions:I}=t,{response:y,close:L}=yield R.subscribe(l,Ce=>{const{result:je,error:Je}=Ce;if(Je){const He=I.get(s);return He&&He.close(),void I.delete(s)}const{event:ze}=je;o(ze)}),{error:ye,result:Te}=y;if(ye)throw new Error(`could not subscribe via jsonrpc socket: ${ye.message}`);const{reply:Me}=Te;return Me.subscription&&L&&(I.set(s,Object.assign(Object.assign({},Me.subscription),{close:L})),Me.subscription.close=L),Me})}}yb.connections=new Map;var yD=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class tY{constructor(t=[]){this.transportClients=new Map,t=[new nY,new rY,...t];for(let n of t)for(let i of n.transportProtocols)this.transportClients.set(i,n)}get transportProtocols(){return Array.from(this.transportClients.keys())}sendDidRequest(t){return yD(this,void 0,void 0,function*(){const n=new URL(t.url),i=this.transportClients.get(n.protocol);if(!i){const o=new Error(`no ${n.protocol} transport client available`);throw o.name="NO_TRANSPORT_CLIENT",o}return i.sendDidRequest(t)})}sendDwnRequest(t){const n=new URL(t.dwnUrl),i=this.transportClients.get(n.protocol);if(!i){const o=new Error(`no ${n.protocol} transport client available`);throw o.name="NO_TRANSPORT_CLIENT",o}return i.sendDwnRequest(t)}getServerInfo(t){return yD(this,void 0,void 0,function*(){const n=new URL(t),i=this.transportClients.get(n.protocol);if(!i){const o=new Error(`no ${n.protocol} transport client available`);throw o.name="NO_TRANSPORT_CLIENT",o}return i.getServerInfo(t)})}}class nY extends XZ{sendDidRequest(t){return yD(this,void 0,void 0,function*(){const n=y1(),i=E7(n,t.method,{data:t.data}),o=new Request(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});let a;try{const s=yield fetch(o);if(!s.ok)throw new Error(`HTTP (${s.status}) - ${s.statusText}`);if(a=yield s.json(),a.error){const{code:l,message:R}=a.error;throw new Error(`JSON RPC (${l}) - ${R}`)}}catch(s){throw new Error(`Error encountered while processing response from ${t.url}: ${s.message}`)}return a.result})}}class rY extends yb{sendDidRequest(t){return yD(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}getServerInfo(t){return yD(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}}class oY{constructor({agent:t,syncEngine:n}){this._syncEngine=n,this._agent=t}get agent(){if(void 0===this._agent)throw new Error("AgentSyncApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t,this._syncEngine.agent=t}registerIdentity(t){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){yield this._syncEngine.registerIdentity(t)})}startSync(t){return this._syncEngine.startSync(t)}stopSync(){this._syncEngine.stopSync()}}var xf=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class sP{constructor({agent:t,dataPath:n,db:i}){this._agent=t,this._db=i||new Fv.Level(n??"DATA/AGENT/SYNC_STORE"),this._ulidFactory=lK()}get agent(){if(void 0===this._agent)throw new Error("SyncEngineLevel: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}clear(){return xf(this,void 0,void 0,function*(){yield this._db.clear()})}close(){return xf(this,void 0,void 0,function*(){yield this._db.close()})}pull(){var t;return xf(this,void 0,void 0,function*(){const n=yield this.getSyncPeerState({syncDirection:"pull"});yield this.enqueueOperations({syncDirection:"pull",syncPeerState:n});const i=this.getPullQueue(),o=yield i.iterator().all(),a=[],s=new Set;for(let l of o){const[R]=l,[I,y,L,ye]=R.split("~");if(s.has(y))continue;if(yield this.messageExists(I,ye)){a.push({type:"del",key:R});continue}const Me=yield this.agent.processDwnRequest({store:!1,author:I,target:I,messageType:Qi.MessagesRead,messageParams:{messageCid:ye}});let Ce;try{Ce=yield this.agent.rpc.sendDwnRequest({dwnUrl:y,targetDid:I,message:Me.message})}catch{s.add(y);continue}if(200!==Ce.status.code||null===(t=Ce.entry)||void 0===t||!t.message){yield this.addMessage(I,ye),a.push({type:"del",key:R});continue}const je=Ce.entry,Je=je.message,ze=Yk(je)&&je.data?sl.fromWebReadable({readableStream:je.data}):void 0,He=yield this.agent.dwn.node.processMessage(I,Je,{dataStream:ze});sP.syncMessageReplyIsSuccessful(He)&&(yield this.addMessage(I,ye),a.push({type:"del",key:R}))}yield i.batch(a)})}push(){return xf(this,void 0,void 0,function*(){const t=yield this.getSyncPeerState({syncDirection:"push"});yield this.enqueueOperations({syncDirection:"push",syncPeerState:t});const n=this.getPushQueue(),i=yield n.iterator().all(),o=[],a=new Set;for(let s of i){const[l]=s,[R,I,y,L]=l.split("~");if(a.has(I))continue;const ye=yield this.getDwnMessage({author:R,messageCid:L});if(ye)try{const Te=yield this.agent.rpc.sendDwnRequest({dwnUrl:I,targetDid:R,data:ye.data,message:ye.message});sP.syncMessageReplyIsSuccessful(Te)&&(yield this.addMessage(R,L),o.push({type:"del",key:l}))}catch{a.add(I)}else o.push({type:"del",key:l}),yield this.addMessage(R,L)}yield n.batch(o)})}registerIdentity({did:t}){return xf(this,void 0,void 0,function*(){yield this._db.sublevel("registeredIdentities").put(t,"")})}startSync({interval:t}){const n=_1(t);return new Promise((i,o)=>{const a=()=>xf(this,void 0,void 0,function*(){this._syncIntervalId&&clearInterval(this._syncIntervalId);try{yield this.push(),yield this.pull()}catch(s){this.stopSync(),o(s)}this._syncIntervalId=setInterval(a,n)});this._syncIntervalId=setInterval(a,n)})}stopSync(){this._syncIntervalId&&(clearInterval(this._syncIntervalId),this._syncIntervalId=void 0)}static syncMessageReplyIsSuccessful(t){var n,i;return 202===t.status.code||409===t.status.code||(null===(n=t.entry)||void 0===n?void 0:n.message.descriptor.interface)===bi.Records&&(null===(i=t.entry)||void 0===i?void 0:i.message.descriptor.method)===Xr.Delete&&404===t.status.code}enqueueOperations({syncDirection:t,syncPeerState:n}){return xf(this,void 0,void 0,function*(){for(let i of n){const o=yield this.getDwnEventLog({did:i.did,dwnUrl:i.dwnUrl,cursor:i.cursor,syncDirection:t}),a=[];for(let s of o){const l=this._ulidFactory(),R=[i.did,i.dwnUrl,l,s].join("~");a.push({type:"put",key:R,value:""})}a.length>0&&(yield("pull"===t?this.getPullQueue():this.getPushQueue()).batch(a))}})}getDwnEventLog({did:t,dwnUrl:n,syncDirection:i,cursor:o}){var a;return xf(this,void 0,void 0,function*(){let s={};if("pull"===i){const R=yield this.agent.dwn.processRequest({store:!1,target:t,author:t,messageType:Qi.MessagesQuery,messageParams:{filters:[],cursor:o}});try{s=yield this.agent.rpc.sendDwnRequest({dwnUrl:n,targetDid:t,message:R.message})}catch{}}else"push"===i&&(s=(yield this.agent.dwn.processRequest({author:t,target:t,messageType:Qi.MessagesQuery,messageParams:{filters:[],cursor:o}})).reply);const l=null!==(a=s.entries)&&void 0!==a?a:[];return s.cursor&&this.setCursor(t,n,i,s.cursor),l})}getDwnMessage({author:t,messageCid:n}){return xf(this,void 0,void 0,function*(){let{reply:i}=yield this.agent.dwn.processRequest({author:t,target:t,messageType:Qi.MessagesRead,messageParams:{messageCid:n}});if(200!==i.status.code||!i.entry)return;const o=i.entry;let a={message:o.message};if(Yk(o)&&o.data){const s=yield sl.consumeToBytes({readable:o.data});a.data=new Blob([s],{type:o.message.descriptor.dataFormat})}return a})}getSyncPeerState({syncDirection:t}){return xf(this,void 0,void 0,function*(){const n=yield this._db.sublevel("registeredIdentities").keys().all(),i=[];for(let o of n){const a=yield LK(o,this.agent.did);if(0!==a.length)for(let s of a){const l=yield this.getCursor(o,s,t);i.push({did:o,dwnUrl:s,cursor:l})}}return i})}getCursor(t,n,i){return xf(this,void 0,void 0,function*(){const o=`${t}~${n}~${i}`,a=this.getCursorStore();try{const s=yield a.get(o);if(s)return JSON.parse(s)}catch(s){if(s.notFound)return}})}setCursor(t,n,i,o){return xf(this,void 0,void 0,function*(){const a=`${t}~${n}~${i}`;yield this.getCursorStore().put(a,JSON.stringify(o))})}messageExists(t,n){return xf(this,void 0,void 0,function*(){const i=this.getMessageStore(t);try{return yield i.get(n),!0}catch(o){if(o.notFound)return!1;throw o}})}addMessage(t,n){return xf(this,void 0,void 0,function*(){return yield this.getMessageStore(t).put(n,"")})}getMessageStore(t){return this._db.sublevel("history").sublevel(t).sublevel("messages")}getCursorStore(){return this._db.sublevel("cursors")}getPushQueue(){return this._db.sublevel("pushQueue")}getPullQueue(){return this._db.sublevel("pullQueue")}}var s$=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class aY{constructor(t){this.agent=t.agent,this.connectedDid=t.connectedDid}create(t){return s$(this,void 0,void 0,function*(){const n=yield this.agent.processDidRequest({messageType:pD.Create,messageParams:Object.assign({},t)}),{result:i}=n,o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(n,["result"]);return Object.assign({did:i},o)})}resolve(t,n){return s$(this,void 0,void 0,function*(){const{result:i}=yield this.agent.processDidRequest({messageParams:{didUri:t,options:n},messageType:pD.Resolve});return i})}}function a$(r,t){let n;const i=Ix(r);if("text/plain"===t||"String"===i)n=new Blob([r],{type:"text/plain"});else if("application/json"===t||"Object"===i){const o=on.object(r).toUint8Array();n=new Blob([o],{type:"application/json"})}else if("Uint8Array"===i||"ArrayBuffer"===i)n=new Blob([r],{type:"application/octet-stream"});else{if("Blob"!==i)throw new Error("data type not supported.");n=r}return{dataBlob:n,dataFormat:t=t||n.type||"application/octet-stream"}}class dp{static check(t,n){let i=dp.cache.get(t);return!!i&&i.has(n)}static set(t,n){let i=dp.cache.get(t)||new Set;if(dp.cache.delete(t),dp.cache.set(t,i),this.cache.size>dp.sendCacheLimit){const o=dp.cache.keys().next().value;dp.cache.delete(o)}if(i.delete(n),i.add(n),i.size>dp.sendCacheLimit){const o=i.keys().next().value;i.delete(o)}}}dp.cache=new Map,dp.sendCacheLimit=100;var lh=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},M7=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};let A7=(()=>{class r{get _recordsWriteDescriptor(){if(Xk(Qi.RecordsWrite,this.rawMessage))return this._descriptor}get _immutableProperties(){return this._recordsWriteDescriptor||this._initialWrite.descriptor}get id(){return this._recordId}get contextId(){return this._contextId}get dateCreated(){return this._immutableProperties.dateCreated}get parentId(){return this._immutableProperties.parentId}get protocol(){return this._immutableProperties.protocol}get protocolPath(){return this._immutableProperties.protocolPath}get recipient(){return this._immutableProperties.recipient}get schema(){return this._immutableProperties.schema}get dataFormat(){var n;return null===(n=this._recordsWriteDescriptor)||void 0===n?void 0:n.dataFormat}get dataCid(){var n;return null===(n=this._recordsWriteDescriptor)||void 0===n?void 0:n.dataCid}get dataSize(){var n;return null===(n=this._recordsWriteDescriptor)||void 0===n?void 0:n.dataSize}get datePublished(){var n;return null===(n=this._recordsWriteDescriptor)||void 0===n?void 0:n.datePublished}get published(){var n;return null===(n=this._recordsWriteDescriptor)||void 0===n?void 0:n.published}get tags(){var n;return null===(n=this._recordsWriteDescriptor)||void 0===n?void 0:n.tags}get author(){return this._author}get dateModified(){return this._descriptor.messageTimestamp}get encryption(){return this._encryption}get authorization(){return this._authorization}get attestation(){return this._attestation}get protocolRole(){return this._protocolRole}get deleted(){return Xk(Qi.RecordsDelete,this.rawMessage)}get initialWrite(){return this._initialWrite}get rawMessage(){let i;return i=this._descriptor.interface+this._descriptor.method===Qi.RecordsWrite?JSON.parse(JSON.stringify({contextId:this._contextId,recordId:this._recordId,descriptor:this._descriptor,attestation:this._attestation,authorization:this._authorization,encryption:this._encryption})):JSON.parse(JSON.stringify({descriptor:this._descriptor,authorization:this._authorization})),Vp(i),i}constructor(n,i){this._agent=n,this._author=i.author,this._connectedDid=i.connectedDid,this._remoteOrigin=i.remoteOrigin,this._attestation=i.attestation,this._authorization=i.authorization,this._contextId=i.contextId,this._descriptor=i.descriptor,this._encryption=i.encryption,this._initialWrite=i.initialWrite,this._recordId=i.recordId,this._protocolRole=i.protocolRole,i.encodedData&&(this._encodedData="string"==typeof i.encodedData?new Blob([on.base64Url(i.encodedData).toUint8Array()],{type:this.dataFormat}):i.encodedData),i.data&&(this._readableStream=Fu.isReadableStream(i.data)?sl.fromWebReadable({readableStream:i.data}):i.data)}get data(){const n=this;return{blob(){return lh(this,void 0,void 0,function*(){return new Blob([yield sl.consumeToBytes({readable:yield this.stream()})],{type:n.dataFormat})})},bytes(){return lh(this,void 0,void 0,function*(){return yield sl.consumeToBytes({readable:yield this.stream()})})},json(){return lh(this,void 0,void 0,function*(){return yield sl.consumeToJson({readable:yield this.stream()})})},text(){return lh(this,void 0,void 0,function*(){return yield sl.consumeToText({readable:yield this.stream()})})},stream(){return lh(this,void 0,void 0,function*(){if(n._encodedData?n._readableStream=sl.fromWebReadable({readableStream:n._encodedData.stream()}):sl.isReadable({readable:n._readableStream})||(n._readableStream=n._remoteOrigin?yield n.readRecordData({target:n._remoteOrigin,isRemote:!0}):yield n.readRecordData({target:n._connectedDid,isRemote:!1})),!n._readableStream)throw new Error("Record data is not available.");return n._readableStream})},then(o,a){return this.stream().then(o,a)},catch(o){return this.stream().catch(o)}}}store(n=!1){return lh(this,void 0,void 0,function*(){return this.processRecord({signAsOwner:n,store:!0})})}import(n=!0){return lh(this,void 0,void 0,function*(){return this.processRecord({store:n,signAsOwner:!0})})}send(n){return lh(this,void 0,void 0,function*(){const i=this._initialWrite;if(n??(n=this._connectedDid),i&&!r._sendCache.check(this._recordId,n)){const s=Object.assign({},i);Vp(s),yield this._agent.sendDwnRequest({messageType:Qi.RecordsWrite,author:this._connectedDid,target:n,rawMessage:s}),r._sendCache.set(this._recordId,n)}let o;o=this.deleted?{messageType:Qi.RecordsDelete,author:this._connectedDid,target:n,rawMessage:Object.assign({},this.rawMessage)}:{messageType:Qi.RecordsWrite,author:this._connectedDid,target:n,dataStream:yield this.data.blob(),rawMessage:Object.assign({},this.rawMessage)};const{reply:a}=yield this._agent.sendDwnRequest(o);return a})}toJSON(){return{attestation:this.attestation,author:this.author,authorization:this.authorization,contextId:this.contextId,dataCid:this.dataCid,dataFormat:this.dataFormat,dataSize:this.dataSize,dateCreated:this.dateCreated,messageTimestamp:this.dateModified,datePublished:this.datePublished,encryption:this.encryption,parentId:this.parentId,protocol:this.protocol,protocolPath:this.protocolPath,protocolRole:this.protocolRole,published:this.published,recipient:this.recipient,recordId:this.id,schema:this.schema,tags:this.tags}}toString(){let n="Record: {\n";return n+=`  ID: ${this.id}\n`,n+=this.contextId?`  Context ID: ${this.contextId}\n`:"",n+=this.protocol?`  Protocol: ${this.protocol}\n`:"",n+=this.schema?`  Schema: ${this.schema}\n`:"",this.deleted||(n+=`  Data CID: ${this.dataCid}\n`,n+=`  Data Format: ${this.dataFormat}\n`,n+=`  Data Size: ${this.dataSize}\n`),n+=`  Deleted: ${this.deleted}\n`,n+=`  Created: ${this.dateCreated}\n`,n+=`  Modified: ${this.dateModified}\n`,n+="}",n}paginationCursor(n){return lh(this,void 0,void 0,function*(){return Xk(Qi.RecordsWrite,this.rawMessage)?function gZ(r,t){return BK(this,void 0,void 0,function*(){const n=t===Ru.CreatedAscending||t===Ru.CreatedDescending?r.descriptor.dateCreated:r.descriptor.datePublished;if(void 0===n)throw new Error("The dateCreated or datePublished property is missing from the record descriptor.");return{messageCid:yield yZ(r),value:n}})}(this.rawMessage,n):void 0})}update(n){var{dateModified:i,data:o}=n,a=M7(n,["dateModified","data"]);return lh(this,void 0,void 0,function*(){if(!Xk(Qi.RecordsWrite,this.rawMessage)&&!this._initialWrite)throw new Error("If initial write is not set, the current rawRecord must be a RecordsWrite message.");const s=this._recordsWriteDescriptor,{parentId:l}=s,R=M7(s,["parentId"]),I=l?this._contextId.split("/").slice(0,-1).join("/"):void 0;let L,y=Object.assign(Object.assign(Object.assign({},R),a),{parentContextId:I,messageTimestamp:i,recordId:this._recordId});(rI(y.tags)||null===y.tags)&&delete y.tags,void 0!==o&&(delete y.dataCid,delete y.dataSize,({dataBlob:L}=a$(o,y.dataFormat)));const ye=new Set(["data","dataCid","dataSize","datePublished","messageTimestamp","published","tags"]);r.verifyPermittedMutation(Object.keys(a),ye),!1===a.published&&void 0!==y.datePublished&&delete y.datePublished;const Te=yield this._agent.processDwnRequest({author:this._connectedDid,dataStream:L,messageParams:Object.assign({},y),messageType:Qi.RecordsWrite,target:this._connectedDid}),{message:Me,reply:{status:Ce}}=Te,je=Me;return 200<=Ce.code&&Ce.code<=299&&(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._authorization=je.authorization,this._protocolRole=a.protocolRole,ye.forEach(Je=>{this._descriptor[Je]=je.descriptor[Je]}),void 0!==o&&(this._encodedData=L)),{status:Ce}})}delete(n){return lh(this,void 0,void 0,function*(){const i=n||{},{store:o,signAsOwner:a,dateModified:s}=i,l=M7(i,["store","signAsOwner","dateModified"]);let R={messageType:Qi.RecordsDelete,author:this._connectedDid,target:this._connectedDid,store:o,signAsOwner:a};if(this.deleted){if(!this._initialWrite)throw new Error("If initial write is not set, the current rawRecord must be a RecordsWrite message.");R.rawMessage=this.rawMessage}else R.messageParams=Object.assign(Object.assign({},l),{recordId:this._recordId,messageTimestamp:s});const I=yield this._agent.processDwnRequest(R),{message:y,reply:{status:L}}=I;return 202!==L.code||(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._author=c7(y),this._descriptor=y.descriptor,this._authorization=y.authorization,this._encodedData=void 0,this._encryption=void 0,this._attestation=void 0),{status:L}})}processRecord({store:n,signAsOwner:i}){return lh(this,void 0,void 0,function*(){if(this._initialWrite&&(i&&!this._initialWriteSigned||n&&!this._initialWriteStored)){const I={messageType:Qi.RecordsWrite,rawMessage:this.initialWrite,author:this._connectedDid,target:this._connectedDid,signAsOwner:i,store:n},y=yield this._agent.processDwnRequest(I),{message:L,reply:{status:ye}}=y,Te=L;200<=ye.code&&ye.code<=299&&(n&&(this._initialWriteStored=!0),i&&(this._initialWriteSigned=!0,this.initialWrite.authorization=Te.authorization))}let o;o=this.deleted?{messageType:Qi.RecordsDelete,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,signAsOwner:i,store:n}:{messageType:Qi.RecordsWrite,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,dataStream:yield this.data.blob(),signAsOwner:i,store:n};const a=yield this._agent.processDwnRequest(o),{message:s,reply:{status:l}}=a;return 200<=l.code&&l.code<=299&&i&&(this._authorization=s.authorization),{status:l}})}readRecordData({target:n,isRemote:i}){return lh(this,void 0,void 0,function*(){const o={author:this._connectedDid,messageParams:{filter:{recordId:this.id}},messageType:Qi.RecordsRead,target:n},a=i?this._agent.sendDwnRequest(o):this._agent.processDwnRequest(o);try{const{reply:{status:s,record:l}}=yield a;if(200!==s.code)throw new Error(`${s.code}: ${s.detail}`);const R=l.data;return Fu.isReadableStream(R)?sl.fromWebReadable({readableStream:R}):R}catch(s){throw new Error(`Error encountered while attempting to read data: ${s.message}`)}})}static verifyPermittedMutation(n,i){for(const o of n)if(!i.has(o))throw new Error(`${o} is an immutable property. Its value cannot be changed.`)}}return r._sendCache=dp,r})();class c${constructor(t,n,i){this._agent=t,this._metadata=i,this._protocolsConfigureMessage=n}get definition(){return this._protocolsConfigureMessage.descriptor.definition}toJSON(){return this._protocolsConfigureMessage}send(t){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const{reply:n}=yield this._agent.sendDwnRequest({author:this._metadata.author,messageCid:this._metadata.messageCid,messageType:Qi.ProtocolsConfigure,target:t});return{status:n.status}})}}var gb=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class dY{constructor(t){this.agent=t.agent,this.connectedDid=t.connectedDid}get protocols(){return{configure:t=>gb(this,void 0,void 0,function*(){const n=yield this.agent.processDwnRequest({author:this.connectedDid,messageParams:t.message,messageType:Qi.ProtocolsConfigure,target:this.connectedDid}),{message:i,messageCid:o,reply:{status:a}}=n,s={status:a};return a.code<300&&(s.protocol=new c$(this.agent,i,{author:this.connectedDid,messageCid:o})),s}),query:t=>gb(this,void 0,void 0,function*(){const n={author:this.connectedDid,messageParams:t.message,messageType:Qi.ProtocolsQuery,target:t.from||this.connectedDid};let i;i=t.from?yield this.agent.sendDwnRequest(n):yield this.agent.processDwnRequest(n);const o=i.reply,{entries:a=[],status:s}=o;return{protocols:a.map(R=>new c$(this.agent,R,{author:this.connectedDid})),status:s}})}}get records(){return{create:t=>gb(this,void 0,void 0,function*(){return this.records.write(t)}),createFrom:t=>gb(this,void 0,void 0,function*(){var n;const i=t.record.toJSON(),{author:o}=i,a=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(i,["author"]);return void 0!==t.data&&(delete a.dataCid,delete a.dataSize),!1===(null===(n=t.message)||void 0===n?void 0:n.published)&&void 0!==a.datePublished&&(delete a.datePublished,delete a.published),(!rI(t.message)||t.author&&t.author!==o)&&delete a.recordId,this.records.write({data:t.data,message:Object.assign(Object.assign({},a),t.message)})}),delete:t=>gb(this,void 0,void 0,function*(){const n={author:this.connectedDid,messageParams:t.message,messageType:Qi.RecordsDelete,target:t.from||this.connectedDid};let i;i=t.from?yield this.agent.sendDwnRequest(n):yield this.agent.processDwnRequest(n);const{reply:{status:o}}=i;return{status:o}}),query:t=>gb(this,void 0,void 0,function*(){const n={author:this.connectedDid,messageParams:t.message,messageType:Qi.RecordsQuery,target:t.from||this.connectedDid};let i;i=t.from?yield this.agent.sendDwnRequest(n):yield this.agent.processDwnRequest(n);const o=i.reply,{entries:a,status:s,cursor:l}=o;return{records:a.map(I=>{const y=Object.assign({author:c7(I),connectedDid:this.connectedDid,remoteOrigin:t.from},I);return new A7(this.agent,y)}),status:s,cursor:l}}),read:t=>gb(this,void 0,void 0,function*(){const n={author:this.connectedDid,messageParams:t.message,messageType:Qi.RecordsRead,target:t.from||this.connectedDid};let i;i=t.from?yield this.agent.sendDwnRequest(n):yield this.agent.processDwnRequest(n);const{reply:{record:o,status:a}}=i;let s;if(200<=a.code&&a.code<=299){const l=Object.assign({author:c7(o),connectedDid:this.connectedDid,remoteOrigin:t.from},o);s=new A7(this.agent,l)}return{record:s,status:a}}),write:t=>gb(this,void 0,void 0,function*(){var n;const{dataBlob:i,dataFormat:o}=a$(t.data,null===(n=t.message)||void 0===n?void 0:n.dataFormat),a=yield this.agent.processDwnRequest({author:this.connectedDid,dataStream:i,messageParams:Object.assign(Object.assign({},t.message),{dataFormat:o}),messageType:Qi.RecordsWrite,store:t.store,target:this.connectedDid}),{message:s,reply:{status:l}}=a;let R;if(200<=l.code&&l.code<=299){const I=Object.assign({author:this.connectedDid,connectedDid:this.connectedDid,encodedData:i},s);R=new A7(this.agent,I)}return{record:R,status:l}})}}}class fY{constructor(t){this.agent=t.agent,this.connectedDid=t.connectedDid}create(){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){throw new Error("Not implemented.")})}}var T7=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(T7||{});const vD={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Ra{constructor({method:t,id:n,path:i,query:o,fragment:a,params:s}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=o,this.fragment=a,this.params=s}static parse(t){if(!t)return null;const n=Ra.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:o,path:a,query:s,fragment:l}=n.groups,R={uri:`did:${i}:${o}`,method:i,id:o};if(a&&(R.path=a),s&&(R.query=s.slice(1)),l&&(R.fragment=l.slice(1)),s){const I={},y=s.slice(1).split("&");for(const L of y){const[ye,Te]=L.split("=");I[ye]=Te}R.params=I}return R}}Ra.METHOD_PATTERN="([a-z0-9]+)",Ra.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Ra.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Ra.PCT_ENCODED_PATTERN})`,Ra.METHOD_ID_PATTERN=`((?:${Ra.ID_CHAR_PATTERN}*:)*(${Ra.ID_CHAR_PATTERN}+))`,Ra.PATH_PATTERN="(/[^#?]*)?",Ra.QUERY_PATTERN="([?][^#]*)?",Ra.FRAGMENT_PATTERN="(#.*)?",Ra.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Ra.METHOD_PATTERN}):(?<id>${Ra.METHOD_ID_PATTERN})(?<path>${Ra.PATH_PATTERN})(?<query>${Ra.QUERY_PATTERN})(?<fragment>${Ra.FRAGMENT_PATTERN})$`);class Es extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Es)}}var ia=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(ia||{});class l${static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return(0,Zd.s)(t)})}}class I7{}const d$="urn:jwk:";function oa({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}Vp(n);const i=function yY(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const o=Object.keys(i).sort(),a={};for(const s of o)a[s]=t(i[s]);return a}return i},n=t(r);return JSON.stringify(n)}(n),o=on.string(i).toUint8Array(),a=yield l$.digest({data:o});return on.uint8Array(a).toBase64Url()})}function S1(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function D7(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function M1(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function C7(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}var Jd=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class fl{static adjustSignatureToLowS({signature:t}){return Jd(this,void 0,void 0,function*(){const n=Fo.bI.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Jd(this,void 0,void 0,function*(){const n=yield fl.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:on.uint8Array(t).toBase64Url(),x:on.uint8Array(n.x).toBase64Url(),y:on.uint8Array(n.y).toBase64Url()};return i.kid=yield oa({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Jd(this,void 0,void 0,function*(){const n=yield fl.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:on.uint8Array(n.x).toBase64Url(),y:on.uint8Array(n.y).toBase64Url()};return i.kid=yield oa({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Jd(this,void 0,void 0,function*(){return Fo.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Jd(this,void 0,void 0,function*(){const n=yield fl.privateKeyToBytes({privateKey:t}),i=yield fl.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"secp256k1",x:on.uint8Array(i.x).toBase64Url(),y:on.uint8Array(i.y).toBase64Url()};return o.kid=yield oa({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return Jd(this,void 0,void 0,function*(){return Fo.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Jd(this,void 0,void 0,function*(){return Fo.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Jd(this,void 0,void 0,function*(){const t=Fo.bI.utils.randomPrivateKey(),n=yield fl.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield oa({jwk:n}),n})}static getPublicKey({key:t}){var n;return Jd(this,void 0,void 0,function*(){if(!S1(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield oa({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Jd(this,void 0,void 0,function*(){if(!S1(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return on.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Jd(this,void 0,void 0,function*(){if(!D7(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=on.base64Url(t.x).toUint8Array(),o=on.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Jd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield fl.privateKeyToBytes({privateKey:t}),o=yield fl.publicKeyToBytes({publicKey:n});return Fo.bI.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return Jd(this,void 0,void 0,function*(){const i=yield fl.privateKeyToBytes({privateKey:n}),o=(0,Zd.s)(t);return Fo.bI.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Jd(this,void 0,void 0,function*(){return Fo.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Jd(this,void 0,void 0,function*(){try{Fo.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Jd(this,void 0,void 0,function*(){const o=yield fl.publicKeyToBytes({publicKey:t}),a=(0,Zd.s)(i);return Fo.bI.verify(n,a,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Jd(this,void 0,void 0,function*(){32===t.byteLength&&(t=Fo.bI.getPublicKey(t));const n=Fo.bI.ProjectivePoint.fromHex(t);return{x:(0,ap.lq)(n.x,32),y:(0,ap.lq)(n.y,32)}})}}var qd=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class hl{static adjustSignatureToLowS({signature:t}){return qd(this,void 0,void 0,function*(){const n=jo.Ag.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return qd(this,void 0,void 0,function*(){const n=yield hl.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:on.uint8Array(t).toBase64Url(),x:on.uint8Array(n.x).toBase64Url(),y:on.uint8Array(n.y).toBase64Url()};return i.kid=yield oa({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return qd(this,void 0,void 0,function*(){const n=yield hl.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:on.uint8Array(n.x).toBase64Url(),y:on.uint8Array(n.y).toBase64Url()};return i.kid=yield oa({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return qd(this,void 0,void 0,function*(){return jo.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return qd(this,void 0,void 0,function*(){const n=yield hl.privateKeyToBytes({privateKey:t}),i=yield hl.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"P-256",x:on.uint8Array(i.x).toBase64Url(),y:on.uint8Array(i.y).toBase64Url()};return o.kid=yield oa({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return qd(this,void 0,void 0,function*(){return jo.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return qd(this,void 0,void 0,function*(){return jo.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return qd(this,void 0,void 0,function*(){const t=jo.Ag.utils.randomPrivateKey(),n=yield hl.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield oa({jwk:n}),n})}static getPublicKey({key:t}){var n;return qd(this,void 0,void 0,function*(){if(!S1(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield oa({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return qd(this,void 0,void 0,function*(){if(!S1(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return on.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return qd(this,void 0,void 0,function*(){if(!D7(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=on.base64Url(t.x).toUint8Array(),o=on.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return qd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield hl.privateKeyToBytes({privateKey:t}),o=yield hl.publicKeyToBytes({publicKey:n});return jo.Ag.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return qd(this,void 0,void 0,function*(){const i=yield hl.privateKeyToBytes({privateKey:n}),o=(0,Zd.s)(t);return jo.Ag.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return qd(this,void 0,void 0,function*(){return jo.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return qd(this,void 0,void 0,function*(){try{jo.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return qd(this,void 0,void 0,function*(){const o=yield hl.publicKeyToBytes({publicKey:t}),a=(0,Zd.s)(i);return jo.Ag.verify(n,a,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return qd(this,void 0,void 0,function*(){32===t.byteLength&&(t=jo.Ag.getPublicKey(t));const n=jo.Ag.ProjectivePoint.fromHex(t);return{x:(0,ap.lq)(n.x,32),y:(0,ap.lq)(n.y,32)}})}}var bD=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class u$ extends I7{computePublicKey({key:t}){return bD(this,void 0,void 0,function*(){if(!S1(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield fl.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield hl.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return bD(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield fl.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield hl.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return bD(this,void 0,void 0,function*(){if(!S1(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield fl.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield hl.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return bD(this,void 0,void 0,function*(){if(!S1(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield fl.sign({key:t,data:n});case"P-256":return yield hl.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return bD(this,void 0,void 0,function*(){if(!D7(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield fl.verify({key:t,signature:n,data:i});case"P-256":return yield hl.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var up=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class $l{static bytesToPrivateKey({privateKeyBytes:t}){return up(this,void 0,void 0,function*(){const n=ho.ev.getPublicKey(t),i={crv:"Ed25519",d:on.uint8Array(t).toBase64Url(),kty:"OKP",x:on.uint8Array(n).toBase64Url()};return i.kid=yield oa({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return up(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:on.uint8Array(t).toBase64Url()};return n.kid=yield oa({jwk:n}),n})}static computePublicKey({key:t}){return up(this,void 0,void 0,function*(){const n=yield $l.privateKeyToBytes({privateKey:t}),i=ho.ev.getPublicKey(n),o={kty:"OKP",crv:"Ed25519",x:on.uint8Array(i).toBase64Url()};return o.kid=yield oa({jwk:o}),o})}static convertPrivateKeyToX25519({privateKey:t}){return up(this,void 0,void 0,function*(){const n=yield $l.privateKeyToBytes({privateKey:t}),i=(0,ho.OA)(n),o=ho.TU.getPublicKey(i),a={kty:"OKP",crv:"X25519",d:on.uint8Array(i).toBase64Url(),x:on.uint8Array(o).toBase64Url()};return a.kid=yield oa({jwk:a}),a})}static convertPublicKeyToX25519({publicKey:t}){return up(this,void 0,void 0,function*(){const n=yield $l.publicKeyToBytes({publicKey:t});if(!(yield $l.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const o=(0,ho.GU)(n),a={kty:"OKP",crv:"X25519",x:on.uint8Array(o).toBase64Url()};return a.kid=yield oa({jwk:a}),a})}static generateKey(){return up(this,void 0,void 0,function*(){const t=ho.ev.utils.randomPrivateKey(),n=yield $l.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield oa({jwk:n}),n})}static getPublicKey({key:t}){var n;return up(this,void 0,void 0,function*(){if(!M1(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield oa({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return up(this,void 0,void 0,function*(){if(!M1(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return on.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return up(this,void 0,void 0,function*(){if(!C7(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return on.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return up(this,void 0,void 0,function*(){const i=yield $l.privateKeyToBytes({privateKey:t});return ho.ev.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return up(this,void 0,void 0,function*(){try{ho.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return up(this,void 0,void 0,function*(){const o=yield $l.publicKeyToBytes({publicKey:t});return ho.ev.verify(n,i,o)})}}var wD=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},fg=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};const k7={Ed25519:{implementation:class EY extends I7{computePublicKey({key:t}){return wD(this,void 0,void 0,function*(){if(!M1(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield $l.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return wD(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield $l.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return wD(this,void 0,void 0,function*(){if(!M1(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield $l.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return wD(this,void 0,void 0,function*(){if(!M1(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield $l.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return wD(this,void 0,void 0,function*(){if(!C7(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield $l.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:u$,names:["ES256K","secp256k1"]},secp256r1:{implementation:u$,names:["ES256","secp256r1"]},"SHA-256":{implementation:class mY extends I7{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield l$.digest({data:n})})}},names:["SHA-256"]}};class _D{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new Dx}digest({algorithm:t,data:n}){return fg(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return fg(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return fg(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const o=`${d$}${i.kid}`;return yield this._keyStore.set(o,i),o})}getKeyUri({key:t}){return fg(this,void 0,void 0,function*(){const n=yield oa({jwk:t});return`${d$}${n}`})}getPublicKey({keyUri:t}){return fg(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return fg(this,void 0,void 0,function*(){if(!function vY(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield oa({jwk:i}));const o=yield this.getKeyUri({key:i});return yield this._keyStore.set(o,i),o})}sign({keyUri:t,data:n}){return fg(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:o}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return fg(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=k7[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const o in k7){const a=k7[o];if(n&&a.names.includes(n))return o;if(i&&a.names.includes(i))return o}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return fg(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}function xY(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}var vb=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class hS{static bytesToPrivateKey({privateKeyBytes:t}){return vb(this,void 0,void 0,function*(){const n=ho.TU.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:on.uint8Array(t).toBase64Url(),x:on.uint8Array(n).toBase64Url()};return i.kid=yield oa({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return vb(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:on.uint8Array(t).toBase64Url()};return n.kid=yield oa({jwk:n}),n})}static computePublicKey({key:t}){return vb(this,void 0,void 0,function*(){const n=yield hS.privateKeyToBytes({privateKey:t}),i=ho.TU.getPublicKey(n),o={kty:"OKP",crv:"X25519",x:on.uint8Array(i).toBase64Url()};return o.kid=yield oa({jwk:o}),o})}static generateKey(){return vb(this,void 0,void 0,function*(){const t=ho.TU.utils.randomPrivateKey(),n=yield hS.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield oa({jwk:n}),n})}static getPublicKey({key:t}){var n;return vb(this,void 0,void 0,function*(){if(!M1(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield oa({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return vb(this,void 0,void 0,function*(){if(!M1(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return on.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return vb(this,void 0,void 0,function*(){if(!C7(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return on.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return vb(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield hS.privateKeyToBytes({privateKey:t}),o=yield hS.publicKeyToBytes({publicKey:n});return ho.TU.getSharedSecret(i,o)})}}function Qp(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function L7(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}var AD=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class pS{constructor({uri:t,document:n,metadata:i,keyManager:o}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=o}export(){return AD(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),a=yield this.keyManager.exportKey({keyUri:o});n.push(Object.assign({},a))}t.privateKeys=n}return t})}getSigner(t){return AD(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(R=>{var I,y;return Qp(R.id)===(null!==(I=Qp(t?.methodId))&&void 0!==I?I:Qp(null===(y=this.document.assertionMethod)||void 0===y?void 0:y[0]))});if(!i||!i.publicKeyJwk)throw new Es(ia.InternalError,"A verification method intended for signing could not be determined from the DID Document");const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),a=yield this.keyManager.getPublicKey({keyUri:o}),s=this.keyManager;return{algorithm:xY(a),keyId:i.id,sign(R){return AD(this,arguments,void 0,function*({data:I}){return yield s.sign({data:I,keyUri:o})})},verify(R){return AD(this,arguments,void 0,function*({data:I,signature:y}){return yield s.verify({data:I,key:a,signature:y})})}}})}static import(t){return AD(this,arguments,void 0,function*({portableDid:n,keyManager:i=new _D}){var o;const a=function N7({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(L7))&&void 0!==n?n:[]),Object.keys(T7).forEach(o=>{var a,s;i.push(...null!==(s=null===(a=r[o])||void 0===a?void 0:a.filter(L7))&&void 0!==s?s:[])}),i}({didDocument:n.document});if(0===a.length)throw new Es(ia.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let l of null!==(o=n.privateKeys)&&void 0!==o?o:[])yield i.importKey({key:l});for(let l of a){if(!l.publicKeyJwk)throw new Error(`Verification method '${l.id}' does not contain a public key in JWK format`);const R=yield i.getKeyUri({key:l.publicKeyJwk});yield i.getPublicKey({keyUri:R})}return new pS({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var p$=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class m${static getSigningMethod(t){return p$(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return p$(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var vd=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},y$=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};const g$="https://diddht.tbddev.org",bb=7200,Vu=",";var v$=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(v$||{}),Sf=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(Sf||{}),b$=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(b$||{});const w$={Ed25519:Sf.Ed25519,ES256K:Sf.secp256k1,ES256:Sf.secp256r1,"P-256":Sf.secp256r1,secp256k1:Sf.secp256k1,secp256r1:Sf.secp256r1,X25519:Sf.X25519},_$={[Sf.Ed25519]:"Ed25519",[Sf.secp256k1]:"ES256K",[Sf.secp256r1]:"ES256",[Sf.X25519]:"ECDH-ES+A256KW"};let U7=(()=>{class r extends m${static create(){return vd(this,arguments,void 0,function*({keyManager:n=new _D,options:i={}}={}){var o,a,s,l,R,I,y,L,ye,Te,Me;if(null!==(o=i.verificationMethods)&&void 0!==o&&o.some(ct=>!(ct.algorithm in w$)))throw new Error("One or more verification method algorithms are not supported");const Ce=null===(a=i.verificationMethods)||void 0===a?void 0:a.filter(ct=>"id"in ct).map(ct=>ct.id);if(Ce&&Ce.length!==new Set(Ce).size)throw new Error("One or more verification method IDs are not unique");if(null!==(s=i.services)&&void 0!==s&&s.some(ct=>!ct.id||!ct.type||!ct.serviceEndpoint))throw new Error("One or more services are missing required properties");const je=yield n.generateKey({algorithm:"Ed25519"}),Je=yield n.getPublicKey({keyUri:je}),ze=yield pl.identityKeyToIdentifier({identityKey:Je}),He=Object.assign(Object.assign({id:ze},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),rt=[...null!==(l=i.verificationMethods)&&void 0!==l?l:[]];rt?.some(ct=>{var _t;return"0"===(null===(_t=ct.id)||void 0===_t?void 0:_t.split("#").pop())})||rt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const ct of rt){const _t=ct.id&&"0"===ct.id.split("#").pop()?je:yield n.generateKey({algorithm:ct.algorithm}),It=yield n.getPublicKey({keyUri:_t});let Jt=null!==(I=null!==(R=ct.id)&&void 0!==R?R:It.kid)&&void 0!==I?I:yield oa({jwk:It});Jt=`${ze}#${Qp(Jt)}`,null!==(y=He.verificationMethod)&&void 0!==y||(He.verificationMethod=[]),He.verificationMethod.push({id:Jt,type:"JsonWebKey",controller:null!==(L=ct.controller)&&void 0!==L?L:ze,publicKeyJwk:It});for(const Qt of null!==(ye=ct.purposes)&&void 0!==ye?ye:[])He[Qt]||(He[Qt]=[]),He[Qt].push(Jt)}null===(Te=i.services)||void 0===Te||Te.forEach(ct=>{var _t;null!==(_t=He.service)&&void 0!==_t||(He.service=[]),ct.id=`${ze}#${ct.id.split("#").pop()}`,He.service.push(ct)});const yt=new pS({uri:ze,document:He,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Me=i.publish)||void 0===Me||Me){const ct=yield r.publish({did:yt,gatewayUri:i.gatewayUri});yt.metadata=ct.didDocumentMetadata}return yt})}static import(n){return vd(this,arguments,void 0,function*({portableDid:i,keyManager:o=new _D}){var a;const s=Ra.parse(i.uri);if(s?.method!==r.methodName)throw new Es(ia.MethodNotSupported,"Method not supported");const l=yield pS.import({portableDid:i,keyManager:o});if(null===(a=l.document.verificationMethod)||void 0===a||!a.some(R=>{var I;return"0"===(null===(I=R.id)||void 0===I?void 0:I.split("#").pop())}))throw new Es(ia.InvalidDidDocument,"DID document must contain an Identity Key");return l})}static getSigningMethod(n){return vd(this,arguments,void 0,function*({didDocument:i,methodId:o="#0"}){var a;const s=Ra.parse(i.id);if(s&&s.method!==this.methodName)throw new Es(ia.MethodNotSupported,`Method not supported: ${s.method}`);const l=null===(a=i.verificationMethod)||void 0===a?void 0:a.find(R=>{var I,y;return Qp(R.id)===(null!==(I=Qp(o))&&void 0!==I?I:Qp(null===(y=i.assertionMethod)||void 0===y?void 0:y[0]))});if(!l||!l.publicKeyJwk)throw new Es(ia.InternalError,"A verification method intended for signing could not be determined from the DID Document");return l})}static publish(n){return vd(this,arguments,void 0,function*({did:i,gatewayUri:o=g$}){return yield hg.put({did:i,gatewayUri:o})})}static resolve(n){return vd(this,arguments,void 0,function*(i,o={}){var a;const s=null!==(a=o?.gatewayUri)&&void 0!==a?a:g$;try{yield pl.identifierToIdentityKey({didUri:i});const{didDocument:l,didDocumentMetadata:R}=yield hg.get({didUri:i,gatewayUri:s});return Object.assign(Object.assign({},vD),{didDocument:l,didDocumentMetadata:R})}catch(l){if(!(l instanceof Es))throw new Error(l);return Object.assign(Object.assign({},vD),{didResolutionMetadata:Object.assign({error:l.code},l.message&&{errorMessage:l.message})})}})}}return r.methodName="dht",r})();class hg{static get(t){return vd(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const o=pl.identifierToIdentityKeyBytes({didUri:n}),a=yield hg.pkarrGet({gatewayUri:i,publicKeyBytes:o}),s=yield pl.parseBep44GetMessage({bep44Message:a}),l=yield hg.fromDnsPacket({didUri:n,dnsPacket:s});return l.didDocumentMetadata.versionId=a.seq.toString(),l})}static put(t){return vd(this,arguments,void 0,function*({did:n,gatewayUri:i}){const o=yield hg.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),a=yield pl.createBep44PutMessage({dnsPacket:o,publicKeyBytes:pl.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),s=yield hg.pkarrPut({gatewayUri:i,bep44Message:a});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:s,versionId:a.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return vd(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const o=on.uint8Array(i).toBase32Z(),a=new URL(o,n).href;let s;try{if(s=yield fetch(a,{method:"GET"}),!s.ok)throw new Es(ia.NotFound,`Pkarr record not found for: ${o}`)}catch(I){throw I instanceof Es?I:new Es(ia.InternalError,`Failed to fetch Pkarr record: ${I.message}`)}const l=yield s.arrayBuffer();if(!l)throw new Es(ia.NotFound,`Pkarr record not found for: ${o}`);if(l.byteLength<72)throw new Es(ia.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${l.byteLength}`);if(l.byteLength>1072)throw new Es(ia.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${l.byteLength}`);return{k:i,seq:Number(new DataView(l).getBigUint64(64)),sig:new Uint8Array(l,0,64),v:new Uint8Array(l,72)}})}static pkarrPut(t){return vd(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const o=on.uint8Array(i.k).toBase32Z(),a=new URL(o,n).href,s=new Uint8Array(i.v.length+72);let l;s.set(i.sig,0),new DataView(s.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),s.set(i.v,i.sig.length+8);try{l=yield fetch(a,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:s})}catch(R){throw new Es(ia.InternalError,`Failed to put Pkarr record for identifier ${o}: ${R.message}`)}return l.ok})}static fromDnsPacket(t){return vd(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var o,a,s;const l={id:n},R={published:!0},I=new Map;for(const y of null!==(o=i?.answers)&&void 0!==o?o:[]){if("TXT"!==y.type)continue;const L=y.name.split(".")[0].substring(1);switch(!0){case L.startsWith("aka"):{const ye=pl.parseTxtDataToString(y.data);l.alsoKnownAs=ye.split(Vu);break}case L.startsWith("cnt"):{const ye=pl.parseTxtDataToString(y.data);l.controller=ye.includes(Vu)?ye.split(Vu):ye;break}case L.startsWith("k"):{const{id:ye,t:Te,k:Me,c:Ce,a:je}=pl.parseTxtDataToObject(y.data),Je=on.base64Url(Me).toUint8Array(),ze=Sf[Number(Te)];let He=yield pl.keyConverter(ze).bytesToPublicKey({publicKeyBytes:Je});He.alg=je||_$[Number(Te)];const rt="k0"===L?"0":void 0!==ye?ye:yield oa({jwk:He});null!==(a=l.verificationMethod)&&void 0!==a||(l.verificationMethod=[]);const yt=`${n}#${rt}`;l.verificationMethod.push({id:yt,type:"JsonWebKey",controller:Ce??n,publicKeyJwk:He}),I.set(L,yt);break}case L.startsWith("s"):{const ye=pl.parseTxtDataToObject(y.data),{id:Te,t:Me,se:Ce}=ye,je=y$(ye,["id","t","se"]),Je=Ce.includes(Vu)?Ce.split(Vu):[Ce],ze=Object.fromEntries(Object.entries(je).map(([He,rt])=>[He,rt.includes(Vu)?rt.split(Vu):rt]));null!==(s=l.service)&&void 0!==s||(l.service=[]),l.service.push(Object.assign(Object.assign({},ze),{id:`${n}#${Te}`,type:Me,serviceEndpoint:Je}));break}case L.startsWith("typ"):{const{id:ye}=pl.parseTxtDataToObject(y.data);R.types=ye.split(Vu).map(Te=>Number(Te));break}case L.startsWith("did"):{const ye=ze=>ze.split(Vu).map(He=>I.get(He)).filter(He=>"string"==typeof He),{auth:Te,asm:Me,del:Ce,inv:je,agm:Je}=pl.parseTxtDataToObject(y.data);Te&&(l.authentication=ye(Te)),Me&&(l.assertionMethod=ye(Me)),Ce&&(l.capabilityDelegation=ye(Ce)),je&&(l.capabilityInvocation=ye(je)),Je&&(l.keyAgreement=ye(Je));break}}}return{didDocument:l,didDocumentMetadata:R,didResolutionMetadata:{}}})}static toDnsPacket(t){return vd(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:o,previousDidProof:a}){var s,l,R,I,y;const L=[],ye=[],Te=new Map,Me=[],Ce=[];if(void 0!==a){const{signature:ze,previousDid:He}=a;yield pl.validatePreviousDidProof({newDid:n.id,previousDidProof:a}),L.push({type:"TXT",name:"_prv._did.",ttl:bb,data:`id=${He};s=${ze}`})}if(n.alsoKnownAs&&L.push({type:"TXT",name:"_aka._did.",ttl:bb,data:n.alsoKnownAs.join(Vu)}),n.controller){const ze=Array.isArray(n.controller)?n.controller.join(Vu):n.controller;L.push({type:"TXT",name:"_cnt._did.",ttl:bb,data:ze})}for(const[ze,He]of null!==(l=null===(s=n.verificationMethod)||void 0===s?void 0:s.entries())&&void 0!==l?l:[]){const rt=`k${ze}`;Ce.push(rt);let yt=He.id.split("#").pop();Te.set(yt,rt);const ct=He.publicKeyJwk;if(!ct?.crv||!(ct.crv in w$))throw new Es(ia.InvalidPublicKeyType,`Verification method '${He.id}' contains an unsupported key type: ${null!==(R=ct?.crv)&&void 0!==R?R:"undefined"}`);const _t=Sf[ct.crv],It=yield pl.keyConverter(ct.crv).publicKeyToBytes({publicKey:ct}),Qt=[`t=${_t}`,`k=${on.uint8Array(It).toBase64Url()}`];"0"!==yt&&(yield oa({jwk:ct}))!==yt&&Qt.unshift(`id=${yt}`),ct.alg!==_$[_t]&&Qt.push(`a=${ct.alg}`),He.controller!==n.id&&Qt.push(`c=${He.controller}`),L.push({type:"TXT",name:`_${rt}._did.`,ttl:bb,data:Qt.join(";")})}null===(I=n.service)||void 0===I||I.forEach((ze,He)=>{const rt=`s${He}`;Me.push(rt);let{id:yt,type:ct,serviceEndpoint:_t}=ze,It=y$(ze,["id","type","serviceEndpoint"]);yt=Qp(yt),_t=Array.isArray(_t)?_t.join(","):_t;const Qt=Object.entries(Object.assign({id:yt,t:ct,se:_t},It)).map(([Pn,dn])=>`${Pn}=${dn}`).join(";"),fn=pl.chunkDataIfNeeded(Qt);L.push({type:"TXT",name:`_${rt}._did.`,ttl:bb,data:fn})});const je=["v=0"];if(Ce.length&&je.push(`vm=${Ce.join(Vu)}`),Object.keys(T7).forEach(ze=>{var He;const rt=null===(He=n[ze])||void 0===He?void 0:He.map(yt=>Te.get(yt.split("#").pop()));rt&&je.push(`${b$[ze]}=${rt.join(Vu)}`)}),Me.length&&je.push(`svc=${Me.join(Vu)}`),null!==(y=i.types)&&void 0!==y&&y.length){const He=i.types.map(rt=>"string"==typeof rt?v$[rt]:rt);L.push({type:"TXT",name:"_typ._did.",ttl:bb,data:`id=${He.join(Vu)}`})}L.push({type:"TXT",name:"_did."+hg.getUniqueDidSuffix(n.id)+".",ttl:bb,data:je.join(";")});for(const ze of o||[])ye.push({type:"NS",name:"_did."+hg.getUniqueDidSuffix(n.id)+".",ttl:bb,data:ze+"."});return{id:0,type:"response",flags:1024,answers:[...L,...ye]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class pl{static createBep44PutMessage(t){return vd(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:o}){const a=Math.ceil(Date.now()/1e3),s=c1(n),l=Jv.encode({seq:a,v:s}).subarray(1,-1);if(l.length>1e3)throw new Es(ia.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${l.length} bytes`);return{k:i,seq:a,sig:yield o.sign({data:l}),v:s}})}static identifierToIdentityKey(t){return vd(this,arguments,void 0,function*({didUri:n}){let i=pl.identifierToIdentityKeyBytes({didUri:n});return yield $l.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Ra.parse(t);if(!n)throw new Es(ia.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==U7.methodName)throw new Es(ia.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=on.base32Z(n.id).toUint8Array()}catch{throw new Es(ia.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new Es(ia.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return vd(this,arguments,void 0,function*({identityKey:n}){const i=yield $l.publicKeyToBytes({publicKey:n}),o=on.uint8Array(i).toBase32Z();return`did:${U7.methodName}:${o}`})}static keyConverter(t){const i={Ed25519:$l,"P-256":{publicKeyToBytes:o=>vd(this,[o],void 0,function*({publicKey:a}){const s=yield hl.publicKeyToBytes({publicKey:a});return yield hl.compressPublicKey({publicKeyBytes:s})}),bytesToPublicKey:hl.bytesToPublicKey,privateKeyToBytes:hl.privateKeyToBytes,bytesToPrivateKey:hl.bytesToPrivateKey},secp256k1:{publicKeyToBytes:o=>vd(this,[o],void 0,function*({publicKey:a}){const s=yield fl.publicKeyToBytes({publicKey:a});return yield fl.compressPublicKey({publicKeyBytes:s})}),bytesToPublicKey:fl.bytesToPublicKey,privateKeyToBytes:fl.privateKeyToBytes,bytesToPrivateKey:fl.bytesToPrivateKey},X25519:hS}[t];if(!i)throw new Es(ia.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return vd(this,arguments,void 0,function*({bep44Message:n}){const i=yield $l.bytesToPublicKey({publicKeyBytes:n.k}),o=Jv.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield $l.verify({key:i,signature:n.sig,data:o})))throw new Es(ia.InvalidSignature,"Invalid signature for DHT BEP44 message");return qx(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[o,a]=i.split("=");return n[o]=a,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return on.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new Es(ia.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return vd(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const o=yield pl.identifierToIdentityKey({didUri:i.previousDid}),a=pl.identifierToIdentityKeyBytes({didUri:n}),s=on.base64Url(i.signature).toUint8Array();if(!(yield $l.verify({key:o,data:a,signature:s})))throw new Es(ia.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var fP=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};let OY=(()=>{class r extends m${static create(){return fP(this,arguments,void 0,function*({keyManager:n=new _D,options:i={}}={}){var o,a,s,l;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const R=null!==(l=null!==(o=i.algorithm)&&void 0!==o?o:null===(s=null===(a=i.verificationMethods)||void 0===a?void 0:a[0])||void 0===s?void 0:s.algorithm)&&void 0!==l?l:"Ed25519",I=yield n.generateKey({algorithm:R}),y=yield n.getPublicKey({keyUri:I}),L=on.object(y).toBase64Url(),ye=`did:${r.methodName}:${L}`,Me=(yield r.resolve(ye)).didDocument;return new pS({uri:ye,document:Me,metadata:{},keyManager:n})})}static getSigningMethod(n){return fP(this,arguments,void 0,function*({didDocument:i}){var o;const a=Ra.parse(i.id);if(a&&a.method!==this.methodName)throw new Es(ia.MethodNotSupported,`Method not supported: ${a.method}`);const[s]=null!==(o=i.verificationMethod)&&void 0!==o?o:[];if(!s||!s.publicKeyJwk)throw new Es(ia.InternalError,"A verification method intended for signing could not be determined from the DID Document");return s})}static import(n){return fP(this,arguments,void 0,function*({portableDid:i,keyManager:o=new _D}){const a=Ra.parse(i.uri);if(a?.method!==r.methodName)throw new Es(ia.MethodNotSupported,"Method not supported");const s=yield pS.import({portableDid:i,keyManager:o});if(1!==s.document.verificationMethod.length)throw new Es(ia.InvalidDidDocument,"DID document must contain exactly one verification method");return s})}static resolve(n,i){return fP(this,void 0,void 0,function*(){const o=Ra.parse(n);let a;try{a=on.base64Url(o.id).toObject()}catch{}if(!o||!a)return Object.assign(Object.assign({},vD),{didResolutionMetadata:{error:"invalidDid"}});if(o.method!==r.methodName)return Object.assign(Object.assign({},vD),{didResolutionMetadata:{error:"methodNotSupported"}});const s={"@context":["https://www.w3.org/ns/did/v1"],id:o.uri},l=`${s.id}#0`;switch(s.verificationMethod=[{id:l,type:"JsonWebKey",controller:s.id,publicKeyJwk:a}],s.authentication=[l],s.assertionMethod=[l],s.capabilityInvocation=[l],s.capabilityDelegation=[l],s.keyAgreement=[l],a.use){case"sig":delete s.keyAgreement;break;case"enc":delete s.authentication,delete s.assertionMethod,delete s.capabilityInvocation,delete s.capabilityDelegation}return Object.assign(Object.assign({},vD),{didDocument:s})})}}return r.methodName="jwk",r})();var BY=E(97829),NY=E(67449);class UY{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new NY.Level(n),this.ttl=BY(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},o=JSON.stringify(i);return this.cache.put(t,o)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}var C0=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class j7{constructor(t){this._agentDid=t.agentDid,this.crypto=t.cryptoApi,this.did=t.didApi,this.dwn=t.dwnApi,this.identity=t.identityApi,this.keyManager=t.keyManager,this.rpc=t.rpcClient,this.sync=t.syncApi,this.vault=t.agentVault,this.did.agent=this,this.dwn.agent=this,this.identity.agent=this,this.keyManager.agent=this,this.sync.agent=this}get agentDid(){if(void 0===this._agentDid)throw new Error('Web5UserAgent: The "agentDid" property is not set. Ensure the agent is properly initialized and a DID is assigned.');return this._agentDid}set agentDid(t){this._agentDid=t}static create({dataPath:t="DATA/AGENT",agentDid:n,agentVault:i,cryptoApi:o,didApi:a,dwnApi:s,identityApi:l,keyManager:R,rpcClient:I,syncApi:y}={}){return C0(this,void 0,void 0,function*(){return i??(i=new VZ({keyDerivationWorkFactor:21e4,store:new jU({location:`${t}/VAULT_STORE`})})),o??(o=new aS),a??(a=new pZ({didMethods:[U7,OY],resolverCache:new UY({location:`${t}/DID_RESOLVERCACHE`}),store:new uZ})),s??(s=new UK({dwn:yield UK.createDwn({dataPath:t,didResolver:a})})),l??(l=new GZ({store:new HZ})),R??(R=new E1({keyStore:new FZ})),I??(I=new tY),y??(y=new oY({syncEngine:new sP({dataPath:t})})),new j7({agentDid:n,agentVault:i,cryptoApi:o,didApi:a,dwnApi:s,keyManager:R,identityApi:l,rpcClient:I,syncApi:y})})}firstLaunch(){return C0(this,void 0,void 0,function*(){return!1===(yield this.vault.isInitialized())})}initialize({password:t,recoveryPhrase:n}){return C0(this,void 0,void 0,function*(){return n=yield this.vault.initialize({password:t,recoveryPhrase:n})})}processDidRequest(t){return C0(this,void 0,void 0,function*(){return this.did.processRequest(t)})}processDwnRequest(t){return C0(this,void 0,void 0,function*(){return this.dwn.processRequest(t)})}processVcRequest(t){return C0(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(t){return C0(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(t){return C0(this,void 0,void 0,function*(){return this.dwn.sendRequest(t)})}sendVcRequest(t){return C0(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start({password:t}){return C0(this,void 0,void 0,function*(){this.vault.isLocked()&&(yield this.vault.unlock({password:t})),this.agentDid=yield this.vault.getDid()})}}class K7{constructor({agent:t,connectedDid:n}){this.agent=t,this.connectedDid=n,this.did=new aY({agent:t,connectedDid:n}),this.dwn=new dY({agent:t,connectedDid:n}),this.vc=new fY({agent:t,connectedDid:n})}static connect({agent:t,agentVault:n,connectedDid:i,password:o,recoveryPhrase:a,sync:s,techPreview:l,didCreateOptions:R,registration:I}={}){var y,L,ye;return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if(void 0===t){const Me=yield j7.create({agentVault:n});t=Me,void 0===o&&(o="insecure-static-phrase",console.warn("%cSECURITY WARNING:%c You have not set a password, which defaults to a static, guessable value. This significantly compromises the security of your data. Please configure a secure, unique password.","font-weight: bold; color: red;","font-weight: normal; color: inherit;")),(yield Me.firstLaunch())&&(a=yield Me.initialize({password:o,recoveryPhrase:a})),yield Me.start({password:o});{let je;const Je=yield Me.identity.list(),ze=Je.length;if(0===ze){const He=null!==(L=null!==(y=l?.dwnEndpoints)&&void 0!==y?y:R?.dwnEndpoints)&&void 0!==L?L:["https://dwn.tbddev.org/beta"];je=yield Me.identity.create({didMethod:"dht",metadata:{name:"Default"},didOptions:{services:[{id:"dwn",type:"DecentralizedWebNode",serviceEndpoint:He,enc:"#enc",sig:"#sig"}],verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]},{algorithm:"secp256k1",id:"enc",purposes:["keyAgreement"]}]}}),yield Me.identity.manage({portableIdentity:yield je.export()})}else{if(1!==ze)throw new Error(`connect() failed due to unexpected state: Expected 1 but found ${ze} stored identities.`);je=Je[0]}i=je.did.uri}if(void 0!==I){const je=null!==(ye=l?.dwnEndpoints)&&void 0!==ye?ye:R?.dwnEndpoints;try{for(const Je of je)0!==(yield Me.rpc.getServerInfo(Je)).registrationRequirements.length&&(yield lS.registerTenant(Je,t.agentDid.uri),yield lS.registerTenant(Je,i));I.onSuccess()}catch(Je){I.onFailure(Je)}}"off"!==s&&(yield Me.sync.registerIdentity({did:i}),s??(s="2m"),Me.sync.startSync({interval:s}).catch(je=>{console.error(`Sync failed: ${je}`)}))}return{web5:new K7({agent:t,connectedDid:i}),did:i,recoveryPhrase:a}})}}var $7=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}($7||{});const _b={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Oa{constructor({method:t,id:n,path:i,query:o,fragment:a,params:s}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=o,this.fragment=a,this.params=s}static parse(t){if(!t)return null;const n=Oa.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:o,path:a,query:s,fragment:l}=n.groups,R={uri:`did:${i}:${o}`,method:i,id:o};if(a&&(R.path=a),s&&(R.query=s.slice(1)),l&&(R.fragment=l.slice(1)),s){const I={},y=s.slice(1).split("&");for(const L of y){const[ye,Te]=L.split("=");I[ye]=Te}R.params=I}return R}}Oa.METHOD_PATTERN="([a-z0-9]+)",Oa.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Oa.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Oa.PCT_ENCODED_PATTERN})`,Oa.METHOD_ID_PATTERN=`((?:${Oa.ID_CHAR_PATTERN}*:)*(${Oa.ID_CHAR_PATTERN}+))`,Oa.PATH_PATTERN="(/[^#?]*)?",Oa.QUERY_PATTERN="([?][^#]*)?",Oa.FRAGMENT_PATTERN="(#.*)?",Oa.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Oa.METHOD_PATTERN}):(?<id>${Oa.METHOD_ID_PATTERN})(?<path>${Oa.PATH_PATTERN})(?<query>${Oa.QUERY_PATTERN})(?<fragment>${Oa.FRAGMENT_PATTERN})$`);class ma extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ma)}}var sa=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(sa||{});class x${static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return(0,Zd.s)(t)})}}class V7{}const S$="urn:jwk:";function aa({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}Vp(n);const i=function VY(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const o=Object.keys(i).sort(),a={};for(const s of o)a[s]=t(i[s]);return a}return i},n=t(r);return JSON.stringify(n)}(n),o=on.string(i).toUint8Array(),a=yield x$.digest({data:o});return on.uint8Array(a).toBase64Url()})}function D1(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function z7(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function C1(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function H7(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}var Qd=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class ml{static adjustSignatureToLowS({signature:t}){return Qd(this,void 0,void 0,function*(){const n=Fo.bI.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Qd(this,void 0,void 0,function*(){const n=yield ml.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:on.uint8Array(t).toBase64Url(),x:on.uint8Array(n.x).toBase64Url(),y:on.uint8Array(n.y).toBase64Url()};return i.kid=yield aa({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Qd(this,void 0,void 0,function*(){const n=yield ml.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:on.uint8Array(n.x).toBase64Url(),y:on.uint8Array(n.y).toBase64Url()};return i.kid=yield aa({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Qd(this,void 0,void 0,function*(){return Fo.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Qd(this,void 0,void 0,function*(){const n=yield ml.privateKeyToBytes({privateKey:t}),i=yield ml.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"secp256k1",x:on.uint8Array(i.x).toBase64Url(),y:on.uint8Array(i.y).toBase64Url()};return o.kid=yield aa({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return Qd(this,void 0,void 0,function*(){return Fo.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Qd(this,void 0,void 0,function*(){return Fo.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Qd(this,void 0,void 0,function*(){const t=Fo.bI.utils.randomPrivateKey(),n=yield ml.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield aa({jwk:n}),n})}static getPublicKey({key:t}){var n;return Qd(this,void 0,void 0,function*(){if(!D1(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield aa({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Qd(this,void 0,void 0,function*(){if(!D1(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return on.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Qd(this,void 0,void 0,function*(){if(!z7(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=on.base64Url(t.x).toUint8Array(),o=on.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Qd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield ml.privateKeyToBytes({privateKey:t}),o=yield ml.publicKeyToBytes({publicKey:n});return Fo.bI.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return Qd(this,void 0,void 0,function*(){const i=yield ml.privateKeyToBytes({privateKey:n}),o=(0,Zd.s)(t);return Fo.bI.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Qd(this,void 0,void 0,function*(){return Fo.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Qd(this,void 0,void 0,function*(){try{Fo.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Qd(this,void 0,void 0,function*(){const o=yield ml.publicKeyToBytes({publicKey:t}),a=(0,Zd.s)(i);return Fo.bI.verify(n,a,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Qd(this,void 0,void 0,function*(){32===t.byteLength&&(t=Fo.bI.getPublicKey(t));const n=Fo.bI.ProjectivePoint.fromHex(t);return{x:(0,ap.lq)(n.x,32),y:(0,ap.lq)(n.y,32)}})}}var eu=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class yl{static adjustSignatureToLowS({signature:t}){return eu(this,void 0,void 0,function*(){const n=jo.Ag.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return eu(this,void 0,void 0,function*(){const n=yield yl.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:on.uint8Array(t).toBase64Url(),x:on.uint8Array(n.x).toBase64Url(),y:on.uint8Array(n.y).toBase64Url()};return i.kid=yield aa({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return eu(this,void 0,void 0,function*(){const n=yield yl.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:on.uint8Array(n.x).toBase64Url(),y:on.uint8Array(n.y).toBase64Url()};return i.kid=yield aa({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return eu(this,void 0,void 0,function*(){return jo.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return eu(this,void 0,void 0,function*(){const n=yield yl.privateKeyToBytes({privateKey:t}),i=yield yl.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"P-256",x:on.uint8Array(i.x).toBase64Url(),y:on.uint8Array(i.y).toBase64Url()};return o.kid=yield aa({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return eu(this,void 0,void 0,function*(){return jo.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return eu(this,void 0,void 0,function*(){return jo.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return eu(this,void 0,void 0,function*(){const t=jo.Ag.utils.randomPrivateKey(),n=yield yl.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield aa({jwk:n}),n})}static getPublicKey({key:t}){var n;return eu(this,void 0,void 0,function*(){if(!D1(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield aa({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return eu(this,void 0,void 0,function*(){if(!D1(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return on.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return eu(this,void 0,void 0,function*(){if(!z7(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=on.base64Url(t.x).toUint8Array(),o=on.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return eu(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield yl.privateKeyToBytes({privateKey:t}),o=yield yl.publicKeyToBytes({publicKey:n});return jo.Ag.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return eu(this,void 0,void 0,function*(){const i=yield yl.privateKeyToBytes({privateKey:n}),o=(0,Zd.s)(t);return jo.Ag.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return eu(this,void 0,void 0,function*(){return jo.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return eu(this,void 0,void 0,function*(){try{jo.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return eu(this,void 0,void 0,function*(){const o=yield yl.publicKeyToBytes({publicKey:t}),a=(0,Zd.s)(i);return jo.Ag.verify(n,a,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return eu(this,void 0,void 0,function*(){32===t.byteLength&&(t=jo.Ag.getPublicKey(t));const n=jo.Ag.ProjectivePoint.fromHex(t);return{x:(0,ap.lq)(n.x,32),y:(0,ap.lq)(n.y,32)}})}}var TD=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class M$ extends V7{computePublicKey({key:t}){return TD(this,void 0,void 0,function*(){if(!D1(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield ml.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield yl.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return TD(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield ml.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield yl.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return TD(this,void 0,void 0,function*(){if(!D1(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield ml.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield yl.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return TD(this,void 0,void 0,function*(){if(!D1(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield ml.sign({key:t,data:n});case"P-256":return yield yl.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return TD(this,void 0,void 0,function*(){if(!z7(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield ml.verify({key:t,signature:n,data:i});case"P-256":return yield yl.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var fp=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class Vl{static bytesToPrivateKey({privateKeyBytes:t}){return fp(this,void 0,void 0,function*(){const n=ho.ev.getPublicKey(t),i={crv:"Ed25519",d:on.uint8Array(t).toBase64Url(),kty:"OKP",x:on.uint8Array(n).toBase64Url()};return i.kid=yield aa({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return fp(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:on.uint8Array(t).toBase64Url()};return n.kid=yield aa({jwk:n}),n})}static computePublicKey({key:t}){return fp(this,void 0,void 0,function*(){const n=yield Vl.privateKeyToBytes({privateKey:t}),i=ho.ev.getPublicKey(n),o={kty:"OKP",crv:"Ed25519",x:on.uint8Array(i).toBase64Url()};return o.kid=yield aa({jwk:o}),o})}static convertPrivateKeyToX25519({privateKey:t}){return fp(this,void 0,void 0,function*(){const n=yield Vl.privateKeyToBytes({privateKey:t}),i=(0,ho.OA)(n),o=ho.TU.getPublicKey(i),a={kty:"OKP",crv:"X25519",d:on.uint8Array(i).toBase64Url(),x:on.uint8Array(o).toBase64Url()};return a.kid=yield aa({jwk:a}),a})}static convertPublicKeyToX25519({publicKey:t}){return fp(this,void 0,void 0,function*(){const n=yield Vl.publicKeyToBytes({publicKey:t});if(!(yield Vl.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const o=(0,ho.GU)(n),a={kty:"OKP",crv:"X25519",x:on.uint8Array(o).toBase64Url()};return a.kid=yield aa({jwk:a}),a})}static generateKey(){return fp(this,void 0,void 0,function*(){const t=ho.ev.utils.randomPrivateKey(),n=yield Vl.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield aa({jwk:n}),n})}static getPublicKey({key:t}){var n;return fp(this,void 0,void 0,function*(){if(!C1(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield aa({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return fp(this,void 0,void 0,function*(){if(!C1(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return on.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return fp(this,void 0,void 0,function*(){if(!H7(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return on.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return fp(this,void 0,void 0,function*(){const i=yield Vl.privateKeyToBytes({privateKey:t});return ho.ev.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return fp(this,void 0,void 0,function*(){try{ho.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return fp(this,void 0,void 0,function*(){const o=yield Vl.publicKeyToBytes({publicKey:t});return ho.ev.verify(n,i,o)})}}var ID=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},pg=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};const W7={Ed25519:{implementation:class YY extends V7{computePublicKey({key:t}){return ID(this,void 0,void 0,function*(){if(!C1(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield Vl.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return ID(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield Vl.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return ID(this,void 0,void 0,function*(){if(!C1(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield Vl.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return ID(this,void 0,void 0,function*(){if(!C1(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield Vl.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return ID(this,void 0,void 0,function*(){if(!H7(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield Vl.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:M$,names:["ES256K","secp256k1"]},secp256r1:{implementation:M$,names:["ES256","secp256r1"]},"SHA-256":{implementation:class $Y extends V7{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield x$.digest({data:n})})}},names:["SHA-256"]}};class G7{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new Dx}digest({algorithm:t,data:n}){return pg(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return pg(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return pg(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const o=`${S$}${i.kid}`;return yield this._keyStore.set(o,i),o})}getKeyUri({key:t}){return pg(this,void 0,void 0,function*(){const n=yield aa({jwk:t});return`${S$}${n}`})}getPublicKey({keyUri:t}){return pg(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return pg(this,void 0,void 0,function*(){if(!function HY(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield aa({jwk:i}));const o=yield this.getKeyUri({key:i});return yield this._keyStore.set(o,i),o})}sign({keyUri:t,data:n}){return pg(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:o}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return pg(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=W7[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const o in W7){const a=W7[o];if(n&&a.names.includes(n))return o;if(i&&a.names.includes(i))return o}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return pg(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}function XY(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}var Eb=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class mS{static bytesToPrivateKey({privateKeyBytes:t}){return Eb(this,void 0,void 0,function*(){const n=ho.TU.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:on.uint8Array(t).toBase64Url(),x:on.uint8Array(n).toBase64Url()};return i.kid=yield aa({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Eb(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:on.uint8Array(t).toBase64Url()};return n.kid=yield aa({jwk:n}),n})}static computePublicKey({key:t}){return Eb(this,void 0,void 0,function*(){const n=yield mS.privateKeyToBytes({privateKey:t}),i=ho.TU.getPublicKey(n),o={kty:"OKP",crv:"X25519",x:on.uint8Array(i).toBase64Url()};return o.kid=yield aa({jwk:o}),o})}static generateKey(){return Eb(this,void 0,void 0,function*(){const t=ho.TU.utils.randomPrivateKey(),n=yield mS.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield aa({jwk:n}),n})}static getPublicKey({key:t}){var n;return Eb(this,void 0,void 0,function*(){if(!C1(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield aa({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Eb(this,void 0,void 0,function*(){if(!C1(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return on.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Eb(this,void 0,void 0,function*(){if(!H7(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return on.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Eb(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield mS.privateKeyToBytes({privateKey:t}),o=yield mS.publicKeyToBytes({publicKey:n});return ho.TU.getSharedSecret(i,o)})}}function em(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function Q7(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}var RD=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class gP{constructor({uri:t,document:n,metadata:i,keyManager:o}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=o}export(){return RD(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),a=yield this.keyManager.exportKey({keyUri:o});n.push(Object.assign({},a))}t.privateKeys=n}return t})}getSigner(t){return RD(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(R=>{var I,y;return em(R.id)===(null!==(I=em(t?.methodId))&&void 0!==I?I:em(null===(y=this.document.assertionMethod)||void 0===y?void 0:y[0]))});if(!i||!i.publicKeyJwk)throw new ma(sa.InternalError,"A verification method intended for signing could not be determined from the DID Document");const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),a=yield this.keyManager.getPublicKey({keyUri:o}),s=this.keyManager;return{algorithm:XY(a),keyId:i.id,sign(R){return RD(this,arguments,void 0,function*({data:I}){return yield s.sign({data:I,keyUri:o})})},verify(R){return RD(this,arguments,void 0,function*({data:I,signature:y}){return yield s.verify({data:I,key:a,signature:y})})}}})}static import(t){return RD(this,arguments,void 0,function*({portableDid:n,keyManager:i=new G7}){var o;const a=function q7({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(Q7))&&void 0!==n?n:[]),Object.keys($7).forEach(o=>{var a,s;i.push(...null!==(s=null===(a=r[o])||void 0===a?void 0:a.filter(Q7))&&void 0!==s?s:[])}),i}({didDocument:n.document});if(0===a.length)throw new ma(sa.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let l of null!==(o=n.privateKeys)&&void 0!==o?o:[])yield i.importKey({key:l});for(let l of a){if(!l.publicKeyJwk)throw new Error(`Verification method '${l.id}' does not contain a public key in JWK format`);const R=yield i.getKeyUri({key:l.publicKeyJwk});yield i.getPublicKey({keyUri:R})}return new gP({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var I$=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};class D${static getSigningMethod(t){return I$(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return I$(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var bd=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})},C$=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};const k$="https://diddht.tbddev.org",xb=7200,zu=",";var P$=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(P$||{}),Mf=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(Mf||{}),R$=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(R$||{});const O$={Ed25519:Mf.Ed25519,ES256K:Mf.secp256k1,ES256:Mf.secp256r1,"P-256":Mf.secp256r1,secp256k1:Mf.secp256k1,secp256r1:Mf.secp256r1,X25519:Mf.X25519},B$={[Mf.Ed25519]:"Ed25519",[Mf.secp256k1]:"ES256K",[Mf.secp256r1]:"ES256",[Mf.X25519]:"ECDH-ES+A256KW"};let eL=(()=>{class r extends D${static create(){return bd(this,arguments,void 0,function*({keyManager:n=new G7,options:i={}}={}){var o,a,s,l,R,I,y,L,ye,Te,Me;if(null!==(o=i.verificationMethods)&&void 0!==o&&o.some(ct=>!(ct.algorithm in O$)))throw new Error("One or more verification method algorithms are not supported");const Ce=null===(a=i.verificationMethods)||void 0===a?void 0:a.filter(ct=>"id"in ct).map(ct=>ct.id);if(Ce&&Ce.length!==new Set(Ce).size)throw new Error("One or more verification method IDs are not unique");if(null!==(s=i.services)&&void 0!==s&&s.some(ct=>!ct.id||!ct.type||!ct.serviceEndpoint))throw new Error("One or more services are missing required properties");const je=yield n.generateKey({algorithm:"Ed25519"}),Je=yield n.getPublicKey({keyUri:je}),ze=yield gl.identityKeyToIdentifier({identityKey:Je}),He=Object.assign(Object.assign({id:ze},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),rt=[...null!==(l=i.verificationMethods)&&void 0!==l?l:[]];rt?.some(ct=>{var _t;return"0"===(null===(_t=ct.id)||void 0===_t?void 0:_t.split("#").pop())})||rt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const ct of rt){const _t=ct.id&&"0"===ct.id.split("#").pop()?je:yield n.generateKey({algorithm:ct.algorithm}),It=yield n.getPublicKey({keyUri:_t});let Jt=null!==(I=null!==(R=ct.id)&&void 0!==R?R:It.kid)&&void 0!==I?I:yield aa({jwk:It});Jt=`${ze}#${em(Jt)}`,null!==(y=He.verificationMethod)&&void 0!==y||(He.verificationMethod=[]),He.verificationMethod.push({id:Jt,type:"JsonWebKey",controller:null!==(L=ct.controller)&&void 0!==L?L:ze,publicKeyJwk:It});for(const Qt of null!==(ye=ct.purposes)&&void 0!==ye?ye:[])He[Qt]||(He[Qt]=[]),He[Qt].push(Jt)}null===(Te=i.services)||void 0===Te||Te.forEach(ct=>{var _t;null!==(_t=He.service)&&void 0!==_t||(He.service=[]),ct.id=`${ze}#${ct.id.split("#").pop()}`,He.service.push(ct)});const yt=new gP({uri:ze,document:He,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Me=i.publish)||void 0===Me||Me){const ct=yield r.publish({did:yt,gatewayUri:i.gatewayUri});yt.metadata=ct.didDocumentMetadata}return yt})}static import(n){return bd(this,arguments,void 0,function*({portableDid:i,keyManager:o=new G7}){var a;const s=Oa.parse(i.uri);if(s?.method!==r.methodName)throw new ma(sa.MethodNotSupported,"Method not supported");const l=yield gP.import({portableDid:i,keyManager:o});if(null===(a=l.document.verificationMethod)||void 0===a||!a.some(R=>{var I;return"0"===(null===(I=R.id)||void 0===I?void 0:I.split("#").pop())}))throw new ma(sa.InvalidDidDocument,"DID document must contain an Identity Key");return l})}static getSigningMethod(n){return bd(this,arguments,void 0,function*({didDocument:i,methodId:o="#0"}){var a;const s=Oa.parse(i.id);if(s&&s.method!==this.methodName)throw new ma(sa.MethodNotSupported,`Method not supported: ${s.method}`);const l=null===(a=i.verificationMethod)||void 0===a?void 0:a.find(R=>{var I,y;return em(R.id)===(null!==(I=em(o))&&void 0!==I?I:em(null===(y=i.assertionMethod)||void 0===y?void 0:y[0]))});if(!l||!l.publicKeyJwk)throw new ma(sa.InternalError,"A verification method intended for signing could not be determined from the DID Document");return l})}static publish(n){return bd(this,arguments,void 0,function*({did:i,gatewayUri:o=k$}){return yield mg.put({did:i,gatewayUri:o})})}static resolve(n){return bd(this,arguments,void 0,function*(i,o={}){var a;const s=null!==(a=o?.gatewayUri)&&void 0!==a?a:k$;try{yield gl.identifierToIdentityKey({didUri:i});const{didDocument:l,didDocumentMetadata:R}=yield mg.get({didUri:i,gatewayUri:s});return Object.assign(Object.assign({},_b),{didDocument:l,didDocumentMetadata:R})}catch(l){if(!(l instanceof ma))throw new Error(l);return Object.assign(Object.assign({},_b),{didResolutionMetadata:Object.assign({error:l.code},l.message&&{errorMessage:l.message})})}})}}return r.methodName="dht",r})();class mg{static get(t){return bd(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const o=gl.identifierToIdentityKeyBytes({didUri:n}),a=yield mg.pkarrGet({gatewayUri:i,publicKeyBytes:o}),s=yield gl.parseBep44GetMessage({bep44Message:a}),l=yield mg.fromDnsPacket({didUri:n,dnsPacket:s});return l.didDocumentMetadata.versionId=a.seq.toString(),l})}static put(t){return bd(this,arguments,void 0,function*({did:n,gatewayUri:i}){const o=yield mg.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),a=yield gl.createBep44PutMessage({dnsPacket:o,publicKeyBytes:gl.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),s=yield mg.pkarrPut({gatewayUri:i,bep44Message:a});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:s,versionId:a.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return bd(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const o=on.uint8Array(i).toBase32Z(),a=new URL(o,n).href;let s;try{if(s=yield fetch(a,{method:"GET"}),!s.ok)throw new ma(sa.NotFound,`Pkarr record not found for: ${o}`)}catch(I){throw I instanceof ma?I:new ma(sa.InternalError,`Failed to fetch Pkarr record: ${I.message}`)}const l=yield s.arrayBuffer();if(!l)throw new ma(sa.NotFound,`Pkarr record not found for: ${o}`);if(l.byteLength<72)throw new ma(sa.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${l.byteLength}`);if(l.byteLength>1072)throw new ma(sa.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${l.byteLength}`);return{k:i,seq:Number(new DataView(l).getBigUint64(64)),sig:new Uint8Array(l,0,64),v:new Uint8Array(l,72)}})}static pkarrPut(t){return bd(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const o=on.uint8Array(i.k).toBase32Z(),a=new URL(o,n).href,s=new Uint8Array(i.v.length+72);let l;s.set(i.sig,0),new DataView(s.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),s.set(i.v,i.sig.length+8);try{l=yield fetch(a,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:s})}catch(R){throw new ma(sa.InternalError,`Failed to put Pkarr record for identifier ${o}: ${R.message}`)}return l.ok})}static fromDnsPacket(t){return bd(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var o,a,s;const l={id:n},R={published:!0},I=new Map;for(const y of null!==(o=i?.answers)&&void 0!==o?o:[]){if("TXT"!==y.type)continue;const L=y.name.split(".")[0].substring(1);switch(!0){case L.startsWith("aka"):{const ye=gl.parseTxtDataToString(y.data);l.alsoKnownAs=ye.split(zu);break}case L.startsWith("cnt"):{const ye=gl.parseTxtDataToString(y.data);l.controller=ye.includes(zu)?ye.split(zu):ye;break}case L.startsWith("k"):{const{id:ye,t:Te,k:Me,c:Ce,a:je}=gl.parseTxtDataToObject(y.data),Je=on.base64Url(Me).toUint8Array(),ze=Mf[Number(Te)];let He=yield gl.keyConverter(ze).bytesToPublicKey({publicKeyBytes:Je});He.alg=je||B$[Number(Te)];const rt="k0"===L?"0":void 0!==ye?ye:yield aa({jwk:He});null!==(a=l.verificationMethod)&&void 0!==a||(l.verificationMethod=[]);const yt=`${n}#${rt}`;l.verificationMethod.push({id:yt,type:"JsonWebKey",controller:Ce??n,publicKeyJwk:He}),I.set(L,yt);break}case L.startsWith("s"):{const ye=gl.parseTxtDataToObject(y.data),{id:Te,t:Me,se:Ce}=ye,je=C$(ye,["id","t","se"]),Je=Ce.includes(zu)?Ce.split(zu):[Ce],ze=Object.fromEntries(Object.entries(je).map(([He,rt])=>[He,rt.includes(zu)?rt.split(zu):rt]));null!==(s=l.service)&&void 0!==s||(l.service=[]),l.service.push(Object.assign(Object.assign({},ze),{id:`${n}#${Te}`,type:Me,serviceEndpoint:Je}));break}case L.startsWith("typ"):{const{id:ye}=gl.parseTxtDataToObject(y.data);R.types=ye.split(zu).map(Te=>Number(Te));break}case L.startsWith("did"):{const ye=ze=>ze.split(zu).map(He=>I.get(He)).filter(He=>"string"==typeof He),{auth:Te,asm:Me,del:Ce,inv:je,agm:Je}=gl.parseTxtDataToObject(y.data);Te&&(l.authentication=ye(Te)),Me&&(l.assertionMethod=ye(Me)),Ce&&(l.capabilityDelegation=ye(Ce)),je&&(l.capabilityInvocation=ye(je)),Je&&(l.keyAgreement=ye(Je));break}}}return{didDocument:l,didDocumentMetadata:R,didResolutionMetadata:{}}})}static toDnsPacket(t){return bd(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:o,previousDidProof:a}){var s,l,R,I,y;const L=[],ye=[],Te=new Map,Me=[],Ce=[];if(void 0!==a){const{signature:ze,previousDid:He}=a;yield gl.validatePreviousDidProof({newDid:n.id,previousDidProof:a}),L.push({type:"TXT",name:"_prv._did.",ttl:xb,data:`id=${He};s=${ze}`})}if(n.alsoKnownAs&&L.push({type:"TXT",name:"_aka._did.",ttl:xb,data:n.alsoKnownAs.join(zu)}),n.controller){const ze=Array.isArray(n.controller)?n.controller.join(zu):n.controller;L.push({type:"TXT",name:"_cnt._did.",ttl:xb,data:ze})}for(const[ze,He]of null!==(l=null===(s=n.verificationMethod)||void 0===s?void 0:s.entries())&&void 0!==l?l:[]){const rt=`k${ze}`;Ce.push(rt);let yt=He.id.split("#").pop();Te.set(yt,rt);const ct=He.publicKeyJwk;if(!ct?.crv||!(ct.crv in O$))throw new ma(sa.InvalidPublicKeyType,`Verification method '${He.id}' contains an unsupported key type: ${null!==(R=ct?.crv)&&void 0!==R?R:"undefined"}`);const _t=Mf[ct.crv],It=yield gl.keyConverter(ct.crv).publicKeyToBytes({publicKey:ct}),Qt=[`t=${_t}`,`k=${on.uint8Array(It).toBase64Url()}`];"0"!==yt&&(yield aa({jwk:ct}))!==yt&&Qt.unshift(`id=${yt}`),ct.alg!==B$[_t]&&Qt.push(`a=${ct.alg}`),He.controller!==n.id&&Qt.push(`c=${He.controller}`),L.push({type:"TXT",name:`_${rt}._did.`,ttl:xb,data:Qt.join(";")})}null===(I=n.service)||void 0===I||I.forEach((ze,He)=>{const rt=`s${He}`;Me.push(rt);let{id:yt,type:ct,serviceEndpoint:_t}=ze,It=C$(ze,["id","type","serviceEndpoint"]);yt=em(yt),_t=Array.isArray(_t)?_t.join(","):_t;const Qt=Object.entries(Object.assign({id:yt,t:ct,se:_t},It)).map(([Pn,dn])=>`${Pn}=${dn}`).join(";"),fn=gl.chunkDataIfNeeded(Qt);L.push({type:"TXT",name:`_${rt}._did.`,ttl:xb,data:fn})});const je=["v=0"];if(Ce.length&&je.push(`vm=${Ce.join(zu)}`),Object.keys($7).forEach(ze=>{var He;const rt=null===(He=n[ze])||void 0===He?void 0:He.map(yt=>Te.get(yt.split("#").pop()));rt&&je.push(`${R$[ze]}=${rt.join(zu)}`)}),Me.length&&je.push(`svc=${Me.join(zu)}`),null!==(y=i.types)&&void 0!==y&&y.length){const He=i.types.map(rt=>"string"==typeof rt?P$[rt]:rt);L.push({type:"TXT",name:"_typ._did.",ttl:xb,data:`id=${He.join(zu)}`})}L.push({type:"TXT",name:"_did."+mg.getUniqueDidSuffix(n.id)+".",ttl:xb,data:je.join(";")});for(const ze of o||[])ye.push({type:"NS",name:"_did."+mg.getUniqueDidSuffix(n.id)+".",ttl:xb,data:ze+"."});return{id:0,type:"response",flags:1024,answers:[...L,...ye]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class gl{static createBep44PutMessage(t){return bd(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:o}){const a=Math.ceil(Date.now()/1e3),s=c1(n),l=Jv.encode({seq:a,v:s}).subarray(1,-1);if(l.length>1e3)throw new ma(sa.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${l.length} bytes`);return{k:i,seq:a,sig:yield o.sign({data:l}),v:s}})}static identifierToIdentityKey(t){return bd(this,arguments,void 0,function*({didUri:n}){let i=gl.identifierToIdentityKeyBytes({didUri:n});return yield Vl.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Oa.parse(t);if(!n)throw new ma(sa.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==eL.methodName)throw new ma(sa.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=on.base32Z(n.id).toUint8Array()}catch{throw new ma(sa.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new ma(sa.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return bd(this,arguments,void 0,function*({identityKey:n}){const i=yield Vl.publicKeyToBytes({publicKey:n}),o=on.uint8Array(i).toBase32Z();return`did:${eL.methodName}:${o}`})}static keyConverter(t){const i={Ed25519:Vl,"P-256":{publicKeyToBytes:o=>bd(this,[o],void 0,function*({publicKey:a}){const s=yield yl.publicKeyToBytes({publicKey:a});return yield yl.compressPublicKey({publicKeyBytes:s})}),bytesToPublicKey:yl.bytesToPublicKey,privateKeyToBytes:yl.privateKeyToBytes,bytesToPrivateKey:yl.bytesToPrivateKey},secp256k1:{publicKeyToBytes:o=>bd(this,[o],void 0,function*({publicKey:a}){const s=yield ml.publicKeyToBytes({publicKey:a});return yield ml.compressPublicKey({publicKeyBytes:s})}),bytesToPublicKey:ml.bytesToPublicKey,privateKeyToBytes:ml.privateKeyToBytes,bytesToPrivateKey:ml.bytesToPrivateKey},X25519:mS}[t];if(!i)throw new ma(sa.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return bd(this,arguments,void 0,function*({bep44Message:n}){const i=yield Vl.bytesToPublicKey({publicKeyBytes:n.k}),o=Jv.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield Vl.verify({key:i,signature:n.sig,data:o})))throw new ma(sa.InvalidSignature,"Invalid signature for DHT BEP44 message");return qx(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[o,a]=i.split("=");return n[o]=a,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return on.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new ma(sa.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return bd(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const o=yield gl.identifierToIdentityKey({didUri:i.previousDid}),a=gl.identifierToIdentityKeyBytes({didUri:n}),s=on.base64Url(i.signature).toUint8Array();if(!(yield Vl.verify({key:o,data:a,signature:s})))throw new ma(sa.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}let cX=(()=>{class r extends D${static resolve(n,i){return function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const o=Oa.parse(n);if(!o)return Object.assign(Object.assign({},_b),{didResolutionMetadata:{error:"invalidDid"}});if(o.method!==r.methodName)return Object.assign(Object.assign({},_b),{didResolutionMetadata:{error:"methodNotSupported"}});let a=`https://${o.id.replace(/:/g,"/")}`;a=decodeURIComponent(a);const s=o.id.includes(":")?`${a}/did.json`:`${a}/.well-known/did.json`;try{const l=yield fetch(s);if(!l.ok)throw new Error("HTTP error status code returned");const R=yield l.json();return Object.assign(Object.assign({},_b),{didDocument:R})}catch{return Object.assign(Object.assign({},_b),{didResolutionMetadata:{error:"notFound"}})}})}}return r.methodName="web",r})();E(44514),E(1424);const dX={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var N$=function(r,t,n,i){return new(n||(n=Promise))(function(a,s){function l(y){try{I(i.next(y))}catch(L){s(L)}}function R(y){try{I(i.throw(y))}catch(L){s(L)}}function I(y){y.done?a(y.value):function o(a){return a instanceof n?a:new n(function(s){s(a)})}(y.value).then(l,R)}I((i=i.apply(r,t||[])).next())})};new class uX{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||dX;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return N$(this,void 0,void 0,function*(){const i=Oa.parse(t);if(!i)return Object.assign(Object.assign({},_b),{didResolutionMetadata:{error:sa.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const o=this.didResolvers.get(i.method);if(!o)return Object.assign(Object.assign({},_b),{didResolutionMetadata:{error:sa.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const a=yield this.cache.get(i.uri);if(a)return a;{const s=yield o.resolve(i.uri,n);return s.didResolutionMetadata.error||(yield this.cache.set(i.uri,s)),s}})}dereference(t,n){return N$(this,void 0,void 0,function*(){const i=Oa.parse(t);if(!i)return{dereferencingMetadata:{error:sa.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:o,didResolutionMetadata:a,didDocumentMetadata:s}=yield this.resolve(i.uri);if(!o)return{dereferencingMetadata:{error:a.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:o,contentMetadata:s};const{service:l=[],verificationMethod:R=[]}=o,I=new Set([t,i.fragment,`#${i.fragment}`]);let y;for(let L of R)if(I.has(L.id)){y=L;break}for(let L of l)if(I.has(L.id)){y=L;break}return y?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:y,contentMetadata:a}:{dereferencingMetadata:{error:sa.NotFound},contentStream:null,contentMetadata:{}}})}}({didResolvers:[eL,cX]})},10467:(Be,z,E)=>{"use strict";function p(O,G,x,B,A,N,$){try{var K=O[N]($),D=K.value}catch(X){return void x(X)}K.done?G(D):Promise.resolve(D).then(B,A)}function S(O){return function(){var G=this,x=arguments;return new Promise(function(B,A){var N=O.apply(G,x);function $(D){p(N,B,A,$,K,"next",D)}function K(D){p(N,B,A,$,K,"throw",D)}$(void 0)})}}E.d(z,{A:()=>S})},31635:(Be,z,E)=>{"use strict";function X(d,v,W,H){return new(W||(W=Promise))(function(fe,Ae){function Pe(ge){try{be(H.next(ge))}catch(Re){Ae(Re)}}function Le(ge){try{be(H.throw(ge))}catch(Re){Ae(Re)}}function be(ge){ge.done?fe(ge.value):function ee(fe){return fe instanceof W?fe:new W(function(Ae){Ae(fe)})}(ge.value).then(Pe,Le)}be((H=H.apply(d,v||[])).next())})}function oe(d){return this instanceof oe?(this.v=d,this):new oe(d)}function ue(d,v,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,H=W.apply(d,v||[]),fe=[];return ee={},Pe("next"),Pe("throw"),Pe("return",function Ae(xe){return function(le){return Promise.resolve(le).then(xe,Re)}}),ee[Symbol.asyncIterator]=function(){return this},ee;function Pe(xe,le){H[xe]&&(ee[xe]=function(he){return new Promise(function(re,de){fe.push([xe,he,re,de])>1||Le(xe,he)})},le&&(ee[xe]=le(ee[xe])))}function Le(xe,le){try{!function be(xe){xe.value instanceof oe?Promise.resolve(xe.value.v).then(ge,Re):me(fe[0][2],xe)}(H[xe](le))}catch(he){me(fe[0][3],he)}}function ge(xe){Le("next",xe)}function Re(xe){Le("throw",xe)}function me(xe,le){xe(le),fe.shift(),fe.length&&Le(fe[0][0],fe[0][1])}}function ve(d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,v=d[Symbol.asyncIterator];return v?v.call(d):(d=function te(d){var v="function"==typeof Symbol&&Symbol.iterator,W=v&&d[v],H=0;if(W)return W.call(d);if(d&&"number"==typeof d.length)return{next:function(){return d&&H>=d.length&&(d=void 0),{value:d&&d[H++],done:!d}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}(d),W={},H("next"),H("throw"),H("return"),W[Symbol.asyncIterator]=function(){return this},W);function H(fe){W[fe]=d[fe]&&function(Ae){return new Promise(function(Pe,Le){!function ee(fe,Ae,Pe,Le){Promise.resolve(Le).then(function(be){fe({value:be,done:Pe})},Ae)}(Pe,Le,(Ae=d[fe](Ae)).done,Ae.value)})}}}E.d(z,{AQ:()=>ue,N3:()=>oe,sH:()=>X,xN:()=>ve}),"function"==typeof SuppressedError&&SuppressedError},83813:Be=>{"use strict";Be.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},59608:Be=>{"use strict";Be.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/applicator","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/applicator":true},"$dynamicAnchor":"meta","title":"Applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"prefixItems":{"$ref":"#/$defs/schemaArray"},"items":{"$dynamicRef":"#meta"},"contains":{"$dynamicRef":"#meta"},"additionalProperties":{"$dynamicRef":"#meta"},"properties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"propertyNames":{"$dynamicRef":"#meta"},"if":{"$dynamicRef":"#meta"},"then":{"$dynamicRef":"#meta"},"else":{"$dynamicRef":"#meta"},"allOf":{"$ref":"#/$defs/schemaArray"},"anyOf":{"$ref":"#/$defs/schemaArray"},"oneOf":{"$ref":"#/$defs/schemaArray"},"not":{"$dynamicRef":"#meta"}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$dynamicRef":"#meta"}}}}')},11082:Be=>{"use strict";Be.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/content","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Content vocabulary meta-schema","type":["object","boolean"],"properties":{"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"contentSchema":{"$dynamicRef":"#meta"}}}')},93406:Be=>{"use strict";Be.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/core","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true},"$dynamicAnchor":"meta","title":"Core vocabulary meta-schema","type":["object","boolean"],"properties":{"$id":{"$ref":"#/$defs/uriReferenceString","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"$ref":"#/$defs/uriString"},"$ref":{"$ref":"#/$defs/uriReferenceString"},"$anchor":{"$ref":"#/$defs/anchorString"},"$dynamicRef":{"$ref":"#/$defs/uriReferenceString"},"$dynamicAnchor":{"$ref":"#/$defs/anchorString"},"$vocabulary":{"type":"object","propertyNames":{"$ref":"#/$defs/uriString"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"}}},"$defs":{"anchorString":{"type":"string","pattern":"^[A-Za-z_][-A-Za-z0-9._]*$"},"uriString":{"type":"string","format":"uri"},"uriReferenceString":{"type":"string","format":"uri-reference"}}}')},14516:Be=>{"use strict";Be.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/format-annotation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/format-annotation":true},"$dynamicAnchor":"meta","title":"Format vocabulary meta-schema for annotation results","type":["object","boolean"],"properties":{"format":{"type":"string"}}}')},3059:Be=>{"use strict";Be.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/meta-data","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/meta-data":true},"$dynamicAnchor":"meta","title":"Meta-data vocabulary meta-schema","type":["object","boolean"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true}}}')},8307:Be=>{"use strict";Be.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/unevaluated","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/unevaluated":true},"$dynamicAnchor":"meta","title":"Unevaluated applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"unevaluatedItems":{"$dynamicRef":"#meta"},"unevaluatedProperties":{"$dynamicRef":"#meta"}}}')},18738:Be=>{"use strict";Be.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/validation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/validation":true},"$dynamicAnchor":"meta","title":"Validation vocabulary meta-schema","type":["object","boolean"],"properties":{"type":{"anyOf":[{"$ref":"#/$defs/simpleTypes"},{"type":"array","items":{"$ref":"#/$defs/simpleTypes"},"minItems":1,"uniqueItems":true}]},"const":true,"enum":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/$defs/nonNegativeInteger"},"minLength":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/$defs/nonNegativeInteger"},"minItems":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/$defs/nonNegativeInteger"},"minContains":{"$ref":"#/$defs/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/$defs/nonNegativeInteger"},"minProperties":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"required":{"$ref":"#/$defs/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/$defs/stringArray"}}},"$defs":{"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"$ref":"#/$defs/nonNegativeInteger","default":0},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}}}')},6438:Be=>{"use strict";Be.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/schema","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true,"https://json-schema.org/draft/2020-12/vocab/applicator":true,"https://json-schema.org/draft/2020-12/vocab/unevaluated":true,"https://json-schema.org/draft/2020-12/vocab/validation":true,"https://json-schema.org/draft/2020-12/vocab/meta-data":true,"https://json-schema.org/draft/2020-12/vocab/format-annotation":true,"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Core and Validation specifications meta-schema","allOf":[{"$ref":"meta/core"},{"$ref":"meta/applicator"},{"$ref":"meta/unevaluated"},{"$ref":"meta/validation"},{"$ref":"meta/meta-data"},{"$ref":"meta/format-annotation"},{"$ref":"meta/content"}],"type":["object","boolean"],"$comment":"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.","properties":{"definitions":{"$comment":"\\"definitions\\" has been replaced by \\"$defs\\".","type":"object","additionalProperties":{"$dynamicRef":"#meta"},"deprecated":true,"default":{}},"dependencies":{"$comment":"\\"dependencies\\" has been split and replaced by \\"dependentSchemas\\" and \\"dependentRequired\\" in order to serve their differing semantics.","type":"object","additionalProperties":{"anyOf":[{"$dynamicRef":"#meta"},{"$ref":"meta/validation#/$defs/stringArray"}]},"deprecated":true,"default":{}},"$recursiveAnchor":{"$comment":"\\"$recursiveAnchor\\" has been replaced by \\"$dynamicAnchor\\".","$ref":"meta/core#/$defs/anchorString","deprecated":true},"$recursiveRef":{"$comment":"\\"$recursiveRef\\" has been replaced by \\"$dynamicRef\\".","$ref":"meta/core#/$defs/uriReferenceString","deprecated":true}}}')},3219:Be=>{"use strict";Be.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:Be=>{"use strict";Be.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:Be=>{"use strict";Be.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:Be=>{"use strict";Be.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:Be=>{"use strict";Be.exports={rE:"6.5.5"}},15579:Be=>{"use strict";Be.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},Be=>{var z=p=>Be(Be.s=p);z(94073),z(65073)}]);