(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{52191:(Ye,J,A)=>{var h=A(40573);const x="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,N=()=>x.now(),M=R=>R===1/0||(R=>R&&R===Math.floor(R)&&R>0&&isFinite(R))(R);class j{constructor({max:U=1/0,ttl:H,updateAgeOnGet:V=!1,checkAgeOnGet:P=!1,noUpdateTTL:ee=!1,dispose:W,noDisposeOnSet:Q=!1}={}){if(this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,void 0!==H&&!M(H))throw new TypeError("ttl must be positive integer or Infinity if set");if(!M(U))throw new TypeError("max must be positive integer or Infinity");if(this.ttl=H,this.max=U,this.updateAgeOnGet=!!V,this.checkAgeOnGet=!!P,this.noUpdateTTL=!!ee,this.noDisposeOnSet=!!Q,void 0!==W){if("function"!=typeof W)throw new TypeError("dispose must be function if set");this.dispose=W}this.timer=void 0,this.timerExpiration=void 0}setTimer(U,H){if(this.timerExpiration<U)return;this.timer&&clearTimeout(this.timer);const V=setTimeout(()=>{this.timer=void 0,this.timerExpiration=void 0,this.purgeStale();for(const P in this.expirations){this.setTimer(P,P-N());break}},H);V.unref&&V.unref(),this.timerExpiration=U,this.timer=V}cancelTimer(){this.timer&&(clearTimeout(this.timer),this.timerExpiration=void 0,this.timer=void 0)}cancelTimers(){return h.emitWarning('TTLCache.cancelTimers has been renamed to TTLCache.cancelTimer (no "s"), and will be removed in the next major version update'),this.cancelTimer()}clear(){const U=this.dispose!==j.prototype.dispose?[...this]:[];this.data.clear(),this.expirationMap.clear(),this.cancelTimer(),this.expirations=Object.create(null);for(const[H,V]of U)this.dispose(V,H,"delete")}setTTL(U,H=this.ttl){const V=this.expirationMap.get(U);if(void 0!==V){const P=this.expirations[V];!P||P.length<=1?delete this.expirations[V]:this.expirations[V]=P.filter(ee=>ee!==U)}if(H!==1/0){const P=Math.floor(N()+H);this.expirationMap.set(U,P),this.expirations[P]||(this.expirations[P]=[],this.setTimer(P,H)),this.expirations[P].push(U)}else this.expirationMap.set(U,1/0)}set(U,H,{ttl:V=this.ttl,noUpdateTTL:P=this.noUpdateTTL,noDisposeOnSet:ee=this.noDisposeOnSet}={}){if(!M(V))throw new TypeError("ttl must be positive integer or Infinity");if(this.expirationMap.has(U)){P||this.setTTL(U,V);const W=this.data.get(U);W!==H&&(this.data.set(U,H),ee||this.dispose(W,U,"set"))}else this.setTTL(U,V),this.data.set(U,H);for(;this.size>this.max;)this.purgeToCapacity();return this}has(U){return this.data.has(U)}getRemainingTTL(U){const H=this.expirationMap.get(U);return H===1/0?H:void 0!==H?Math.max(0,Math.ceil(H-N())):0}get(U,{updateAgeOnGet:H=this.updateAgeOnGet,ttl:V=this.ttl,checkAgeOnGet:P=this.checkAgeOnGet}={}){const ee=this.data.get(U);if(!P||0!==this.getRemainingTTL(U))return H&&this.setTTL(U,V),ee;this.delete(U)}dispose(U,H){}delete(U){const H=this.expirationMap.get(U);if(void 0!==H){const V=this.data.get(U);this.data.delete(U),this.expirationMap.delete(U);const P=this.expirations[H];return P&&(P.length<=1?delete this.expirations[H]:this.expirations[H]=P.filter(ee=>ee!==U)),this.dispose(V,U,"delete"),0===this.size&&this.cancelTimer(),!0}return!1}purgeToCapacity(){for(const U in this.expirations){const H=this.expirations[U];if(!(this.size-H.length>=this.max)){const V=this.size-this.max,P=[];for(const ee of H.splice(0,V))P.push([ee,this.data.get(ee)]),this.data.delete(ee),this.expirationMap.delete(ee);for(const[ee,W]of P)this.dispose(W,ee,"evict");return}{delete this.expirations[U];const V=[];for(const P of H)V.push([P,this.data.get(P)]),this.data.delete(P),this.expirationMap.delete(P);for(const[P,ee]of V)this.dispose(ee,P,"evict")}}}get size(){return this.data.size}purgeStale(){const U=Math.ceil(N());for(const H in this.expirations){if("Infinity"===H||H>U)return;const V=[...this.expirations[H]||[]],P=[];delete this.expirations[H];for(const ee of V)P.push([ee,this.data.get(ee)]),this.data.delete(ee),this.expirationMap.delete(ee);for(const[ee,W]of P)this.dispose(W,ee,"stale")}0===this.size&&this.cancelTimer()}*entries(){for(const U in this.expirations)for(const H of this.expirations[U])yield[H,this.data.get(H)]}*keys(){for(const U in this.expirations)for(const H of this.expirations[U])yield H}*values(){for(const U in this.expirations)for(const H of this.expirations[U])yield this.data.get(H)}[Symbol.iterator](){return this.entries()}}Ye.exports=j},33065:(Ye,J,A)=>{"use strict";A.r(J),A.d(J,{RestoreComponent:()=>de});var h=A(10467),x=A(93953),N=A(89417),Y=A(88834),M=A(25596),j=A(99213),R=A(99631),U=A(5951),H=A(82798),V=A(34635),P=A(60132),ee=A(31439),W=A(53719);function Q(ae,re){1&ae&&(x.j41(0,"mat-error"),x.EFF(1,"Recovery phrase is "),x.j41(2,"strong"),x.EFF(3,"required"),x.k0s()())}let de=(()=>{class ae{constructor(){this.fb=(0,x.WQX)(N.ok),this.crypto=(0,x.WQX)(P.j),this.app=(0,x.WQX)(ee.d),this.identity=(0,x.WQX)(V.K),this.addressForm=this.fb.group({recoveryPhrase:[null,N.k0.required]})}onSubmit(){var te=this;return(0,h.A)(function*(){console.log(te.addressForm.controls.recoveryPhrase.value),te.addressForm.disable(),te.app.loading.set(!0);let ue=yield te.crypto.createPassword();const pe={did:"",recoveryPhrase:te.addressForm.controls.recoveryPhrase.value,password:ue,passwordHash:""};ue="123";const he=yield te.identity.restore(ue,te.addressForm.controls.recoveryPhrase.value);if(console.log("RESTORE Result: ",he),!he)return alert("Failed to restore account."),void te.addressForm.enable();pe.did=he.did,te.app.addAccount(pe),te.app.initialized.set(!0),te.app.loading.set(!1)})()}static#e=this.\u0275fac=function(ue){return new(ue||ae)};static#t=this.\u0275cmp=x.VBU({type:ae,selectors:[["app-restore"]],standalone:!0,features:[x.aNF],decls:20,vars:3,consts:[["recoveryPhrase",""],["novalidate","",3,"ngSubmit","formGroup"],[1,"shipping-card"],[1,"full-width"],["matInput","","placeholder","Secret Recovery Phrase","formControlName","recoveryPhrase"],["align","end"],["mat-flat-button","","color","primary","type","submit",3,"disabled"]],template:function(ue,pe){if(1&ue){const he=x.RV6();x.j41(0,"h1"),x.EFF(1,"Restore your account"),x.k0s(),x.j41(2,"form",1),x.bIt("ngSubmit",function(){return x.eBV(he),x.Njj(pe.onSubmit())}),x.j41(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title"),x.EFF(6,"Secret Recovery Phrase"),x.k0s(),x.j41(7,"mat-card-subtitle"),x.EFF(8,"Enter your 12 words backup"),x.k0s()(),x.j41(9,"mat-card-content"),x.nrm(10,"br"),x.j41(11,"mat-form-field",3)(12,"mat-label"),x.EFF(13,"Secret Recovery Phrase"),x.k0s(),x.nrm(14,"textarea",4,0),x.DNE(16,Q,4,0,"mat-error"),x.k0s()(),x.j41(17,"mat-card-actions",5)(18,"button",6),x.EFF(19,"Restore"),x.k0s()()()()}2&ue&&(x.R7$(2),x.Y8G("formGroup",pe.addressForm),x.R7$(14),x.vxM(pe.addressForm.controls.recoveryPhrase.hasError("required")?16:-1),x.R7$(2),x.Y8G("disabled",pe.app.loading()))},dependencies:[R.fS,R.fg,W.rl,W.nJ,W.TL,Y.Hl,Y.$z,H.Ve,j.m_,U.Wk,M.Hu,M.RN,M.YY,M.m2,M.MM,M.Lc,M.dh,N.X1,N.qT,N.me,N.BC,N.cb,N.j4,N.JD],styles:[".shipping-card[_ngcontent-%COMP%]{min-width:120px;margin:20px auto}.mat-radio-button[_ngcontent-%COMP%]{display:block;margin:5px 0}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}.col[_ngcontent-%COMP%]:last-child{margin-right:0}.link-input[_ngcontent-%COMP%]{display:flex;align-items:baseline}.link-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.4em}"]})}return ae})()},31439:(Ye,J,A)=>{"use strict";A.d(J,{d:()=>je,f:()=>Oe});var h=A(10467),x=A(93953),N=A(43794),Y=A(60132),M=A(34635),R=A.t(JSON.parse('{"name":"ariton","version":"0.0.1","scripts":{"ng":"ng","start":"ng serve","build":"ng build","watch":"ng build --watch --configuration development","test":"ng test","deploy":"ng deploy app","i18n":"ng extract-i18n --format=json --output-path src/locale"},"repository":{"type":"git","url":"git+https://github.com/block-core/ariton.git"},"private":true,"dependencies":{"@angular-builders/custom-webpack":"^18.0.0","@angular/animations":"^18.1.4","@angular/cdk":"^18.1.4","@angular/common":"^18.1.4","@angular/compiler":"^18.1.4","@angular/core":"^18.1.4","@angular/forms":"^18.1.4","@angular/material":"^18.1.4","@angular/platform-browser":"^18.1.4","@angular/platform-browser-dynamic":"^18.1.4","@angular/router":"^18.1.4","@angular/service-worker":"^18.1.4","@scure/bip39":"^1.3.0","@web5/agent":"^0.4.1","@web5/api":"^0.10.0","@web5/credentials":"^1.0.4","@web5/crypto":"^1.0.2","@web5/dids":"^1.1.2","@web5/identity-agent":"^0.4.1","@zxing/ngx-scanner":"^18.0.1","cropperjs":"^1.6.2","crypto-browserify":"^3.12.0","process":"^0.11.10","qrcode":"^1.5.4","rxjs":"~7.8.1","stream":"^0.0.3","stream-browserify":"^3.0.0","tslib":"^2.6.3","zone.js":"~0.14.10"},"devDependencies":{"@angular-devkit/build-angular":"^18.1.4","@angular/cli":"^18.1.4","@angular/compiler-cli":"^18.1.4","@angular/localize":"^18.1.4","@types/jasmine":"~5.1.4","@types/qrcode":"^1.5.5","angular-cli-ghpages":"^2.0.1","jasmine-core":"~5.2.0","karma":"~6.4.4","karma-chrome-launcher":"~3.2.0","karma-coverage":"~2.2.1","karma-jasmine":"~5.1.0","karma-jasmine-html-reporter":"~2.1.0","typescript":"~5.5.4"}}'),2),U=A(4053),H=A(77949),V=A(45189),P=A(49245),ee=A(62060),W=A(67136),Q=A(1639),de=A(69371),ae=A(2685),re=A(69314),te=A(97372),ue=A(70669),pe=A(52002);let he=(()=>{class B{constructor(){this.identityService=(0,x.WQX)(M.K)}register(){var f=this;return(0,h.A)(function*(){const w=[re.Q,U.Q,H.Q,V.Q,P.Q,ee.Q,W.Q,Q.Q,de.Q,ae.Q,te.Q,ue.Q,pe.Q];for(const _ of w){const{protocol:D,status:O}=yield f.identityService.web5.dwn.protocols.configure({message:{definition:_}});console.log("Install status:",O),console.log("Protocol:",D)}})()}static#e=this.\u0275fac=function(w){return new(w||B)};static#t=this.\u0275prov=x.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})();var ve=A(39434),ge=A(1005),Me=A(95416),Oe=function(B){return B[B.Initial=0]="Initial",B[B.NewUser=1]="NewUser",B[B.Locked=2]="Locked",B[B.Unlocked=3]="Unlocked",B[B.Error=4]="Error",B}(Oe||{});let je=(()=>{class B{constructor(){var f=this;this.onboardingState=(0,x.vPA)(Oe.Initial),this.initialized=(0,x.vPA)(!1),this.loading=(0,x.vPA)(!1),this.storage=(0,x.WQX)(N.n),this.hash=(0,x.WQX)(ge.G),this.crypto=(0,x.WQX)(Y.j),this.identity=(0,x.WQX)(M.K),this.profile=(0,x.WQX)(ve.p),this.protocol=(0,x.WQX)(he),this.snackBar=(0,x.WQX)(Me.UG),this.state=(0,x.vPA)({loginAction:"/dashboard",selectedAccount:"",hidden:{},bundleHash:""}),this.account=(0,x.vPA)({did:"",recoveryPhrase:"",password:"",passwordHash:""}),this.accounts=(0,x.vPA)([]),this.params=(0,x.vPA)({}),this.package=R,this.aritonDid="did:dht:mo7am9cz6qrjwoc4kapffeue9kjw6igdh9dmqd3ywdif6qa7ju4o",console.log(`Ariton v${this.package.version} initialized.`),this.dependencies=Object.entries(this.package.dependencies).map(([w,_])=>({name:w,version:_})),(0,x.QZP)((0,h.A)(function*(){f.identity.locked()||(yield f.onUnlocked())}))}saveAccounts(){this.storage.save("accounts",this.accounts())}saveState(){this.storage.save("state",this.state())}hasStateBeenSet(){return!!this.storage.read("state")}addAccount(f){this.accounts().push(f),this.saveAccounts(),this.state().selectedAccount=f.did,this.saveState()}createAccount(){var f=this;return(0,h.A)(function*(){f.storage.save("state",{selectedAccount:"",hidden:{},loginAction:"/introduction",bundleHash:""}),yield f.initialize()})()}openSnackBar(f){this.snackBar.open(f,void 0,{duration:2e3})}initialize(){var f=this;return(0,h.A)(function*(){f.loading.set(!0),console.log("Initializing Ariton...");let w=f.storage.read("state");if(!w)return f.onboardingState.set(Oe.NewUser),void f.loading.set(!1);let D,_=f.storage.read("accounts");if(_){const O=_.find($=>$.did===w.selectedAccount);f.accounts.set(_),f.account?.set(O),O.password?(D=yield f.identity.connect(O.did,O.password),D?(f.onboardingState.set(Oe.Unlocked),f.identity.locked.set(!1)):f.loading.set(!1)):(f.identity.locked.set(!0),f.onboardingState.set(Oe.Locked))}else{console.log("No accounts found");const O=yield f.crypto.createPassword();if(D=yield f.identity.initialConnect(O),void 0===D)return f.storage.remove("state"),f.onboardingState.set(Oe.Error),void f.loading.set(!1);console.log(D),console.log("Initialize connect finished."),_=[{did:D.did,recoveryPhrase:D.recoveryPhrase,password:O}],f.storage.save("accounts",_),w.selectedAccount=D.did,f.accounts.set(_),f.account?.set(_[0]),f.storage.save("state",w),f.onboardingState.set(Oe.Unlocked),f.identity.locked.set(!1)}f.state.set(w)})()}onUnlocked(){var f=this;return(0,h.A)(function*(){yield f.profile.openCurrentUserProfile(f.account().did),f.initialized.set(!0),f.loading.set(!1),f.firstTimeInitialization()})()}firstTimeInitialization(){var f=this;return(0,h.A)(function*(){null!=f.hash.getHash()&&f.state().bundleHash===f.hash.getHash()||(f.protocol.register(),f.state().bundleHash=f.hash.getHash(),f.saveState())})()}static#e=this.\u0275fac=function(w){return new(w||B)};static#t=this.\u0275prov=x.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})()},60132:(Ye,J,A)=>{"use strict";A.d(J,{j:()=>Wf});var h=A(10467);A(52191),new Uint8Array(0);class de{name;prefix;baseEncode;constructor(ht,at,vt){this.name=ht,this.prefix=at,this.baseEncode=vt}encode(ht){if(ht instanceof Uint8Array)return`${this.prefix}${this.baseEncode(ht)}`;throw Error("Unknown type, must be binary type")}}class ae{name;prefix;baseDecode;prefixCodePoint;constructor(ht,at,vt){if(this.name=ht,this.prefix=at,void 0===at.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=at.codePointAt(0),this.baseDecode=vt}decode(ht){if("string"==typeof ht){if(ht.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(ht)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(ht.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(ht){return te(this,ht)}}class re{decoders;constructor(ht){this.decoders=ht}or(ht){return te(this,ht)}decode(ht){const vt=this.decoders[ht[0]];if(null!=vt)return vt.decode(ht);throw RangeError(`Unable to decode multibase string ${JSON.stringify(ht)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function te(Ct,ht){return new re({...Ct.decoders??{[Ct.prefix]:Ct},...ht.decoders??{[ht.prefix]:ht}})}class ue{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(ht,at,vt,tn){this.name=ht,this.prefix=at,this.baseEncode=vt,this.baseDecode=tn,this.encoder=new de(ht,at,vt),this.decoder=new ae(ht,at,tn)}encode(ht){return this.encoder.encode(ht)}decode(ht){return this.decoder.decode(ht)}}function pe({name:Ct,prefix:ht,encode:at,decode:vt}){return new ue(Ct,ht,at,vt)}function he({name:Ct,prefix:ht,alphabet:at}){const{encode:vt,decode:tn}=function P(Ct,ht){if(Ct.length>=255)throw new TypeError("Alphabet too long");for(var at=new Uint8Array(256),vt=0;vt<at.length;vt++)at[vt]=255;for(var tn=0;tn<Ct.length;tn++){var un=Ct.charAt(tn),In=un.charCodeAt(0);if(255!==at[In])throw new TypeError(un+" is ambiguous");at[In]=tn}var sr=Ct.length,wr=Ct.charAt(0),Cr=Math.log(sr)/Math.log(256),Qn=Math.log(256)/Math.log(sr);function it(xe){if("string"!=typeof xe)throw new TypeError("Expected String");if(0===xe.length)return new Uint8Array;var Ce=0;if(" "!==xe[Ce]){for(var ot=0,ct=0;xe[Ce]===wr;)ot++,Ce++;for(var Mt=(xe.length-Ce)*Cr+1>>>0,rn=new Uint8Array(Mt);xe[Ce];){var Cn=at[xe.charCodeAt(Ce)];if(255===Cn)return;for(var cn=0,Dt=Mt-1;(0!==Cn||cn<ct)&&-1!==Dt;Dt--,cn++)rn[Dt]=(Cn+=sr*rn[Dt]>>>0)%256>>>0,Cn=Cn/256>>>0;if(0!==Cn)throw new Error("Non-zero carry");ct=cn,Ce++}if(" "!==xe[Ce]){for(var vn=Mt-ct;vn!==Mt&&0===rn[vn];)vn++;for(var Qr=new Uint8Array(ot+(Mt-vn)),Ui=ot;vn!==Mt;)Qr[Ui++]=rn[vn++];return Qr}}}return{encode:function vr(xe){if(xe instanceof Uint8Array||(ArrayBuffer.isView(xe)?xe=new Uint8Array(xe.buffer,xe.byteOffset,xe.byteLength):Array.isArray(xe)&&(xe=Uint8Array.from(xe))),!(xe instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===xe.length)return"";for(var Ce=0,ot=0,ct=0,Mt=xe.length;ct!==Mt&&0===xe[ct];)ct++,Ce++;for(var rn=(Mt-ct)*Qn+1>>>0,Cn=new Uint8Array(rn);ct!==Mt;){for(var cn=xe[ct],Dt=0,vn=rn-1;(0!==cn||Dt<ot)&&-1!==vn;vn--,Dt++)Cn[vn]=(cn+=256*Cn[vn]>>>0)%sr>>>0,cn=cn/sr>>>0;if(0!==cn)throw new Error("Non-zero carry");ot=Dt,ct++}for(var Qr=rn-ot;Qr!==rn&&0===Cn[Qr];)Qr++;for(var Ui=wr.repeat(Ce);Qr<rn;++Qr)Ui+=Ct.charAt(Cn[Qr]);return Ui},decodeUnsafe:it,decode:function Pe(xe){var Ce=it(xe);if(Ce)return Ce;throw new Error(`Non-${ht} character`)}}}(at,Ct);return pe({prefix:ht,name:Ct,encode:vt,decode:un=>function R(Ct){if(Ct instanceof Uint8Array&&"Uint8Array"===Ct.constructor.name)return Ct;if(Ct instanceof ArrayBuffer)return new Uint8Array(Ct);if(ArrayBuffer.isView(Ct))return new Uint8Array(Ct.buffer,Ct.byteOffset,Ct.byteLength);throw new Error("Unknown type, must be binary type")}(tn(un))})}function Me({name:Ct,prefix:ht,bitsPerChar:at,alphabet:vt}){return pe({prefix:ht,name:Ct,encode:tn=>function ge(Ct,ht,at){const vt="="===ht[ht.length-1],tn=(1<<at)-1;let un="",In=0,sr=0;for(let wr=0;wr<Ct.length;++wr)for(sr=sr<<8|Ct[wr],In+=8;In>at;)In-=at,un+=ht[tn&sr>>In];if(0!==In&&(un+=ht[tn&sr<<at-In]),vt)for(;un.length*at&7;)un+="=";return un}(tn,vt,at),decode:tn=>function ve(Ct,ht,at,vt){const tn={};for(let Qn=0;Qn<ht.length;++Qn)tn[ht[Qn]]=Qn;let un=Ct.length;for(;"="===Ct[un-1];)--un;const In=new Uint8Array(un*at/8|0);let sr=0,wr=0,Cr=0;for(let Qn=0;Qn<un;++Qn){const vr=tn[Ct[Qn]];if(void 0===vr)throw new SyntaxError(`Non-${vt} character`);wr=wr<<at|vr,sr+=at,sr>=8&&(sr-=8,In[Cr++]=255&wr>>sr)}if(sr>=at||255&wr<<8-sr)throw new SyntaxError("Unexpected end of data");return In}(tn,vt,at,Ct)})}Me({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Me({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Me({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Me({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Me({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Me({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Me({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Me({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Me({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),he({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),he({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Me({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Me({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Me({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Me({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),new TextEncoder,new TextDecoder;var Ee=128,oe=-128,fe=Math.pow(2,31),$e=128,Je=127,Pt=Math.pow(2,7),nt=Math.pow(2,14),Ge=Math.pow(2,21),Et=Math.pow(2,28),K=Math.pow(2,35),C=Math.pow(2,42),b=Math.pow(2,49),z=Math.pow(2,56),le=Math.pow(2,63);const Yt={encode:function we(Ct,ht,at){ht=ht||[];for(var vt=at=at||0;Ct>=fe;)ht[at++]=255&Ct|Ee,Ct/=128;for(;Ct&oe;)ht[at++]=255&Ct|Ee,Ct>>>=7;return ht[at]=0|Ct,we.bytes=at-vt+1,ht},decode:function Ze(Ct,vt){var In,at=0,tn=0,un=vt=vt||0,sr=Ct.length;do{if(un>=sr)throw Ze.bytes=0,new RangeError("Could not decode varint");In=Ct[un++],at+=tn<28?(In&Je)<<tn:(In&Je)*Math.pow(2,tn),tn+=7}while(In>=$e);return Ze.bytes=un-vt,at},encodingLength:function(Ct){return Ct<Pt?1:Ct<nt?2:Ct<Ge?3:Ct<Et?4:Ct<K?5:Ct<C?6:Ct<b?7:Ct<z?8:Ct<le?9:10}};function Rt(Ct,ht=0){return[Yt.decode(Ct,ht),Yt.decode.bytes]}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class xn{static addPrefix(ht){var at;let{code:vt,data:tn,name:un}=ht;if(!(un?!vt:vt))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(vt=xn.codeToName.has(vt)?vt:xn.nameToCode.get(un),void 0===vt)throw new Error(`Unsupported multicodec: ${null!==(at=ht.name)&&void 0!==at?at:ht.code}`);const In=function dn(Ct){return Yt.encodingLength(Ct)}(vt),sr=new Uint8Array(In+tn.byteLength);return sr.set(tn,In),function Vt(Ct,ht,at=0){return Yt.encode(Ct,ht,at),ht}(vt,sr),sr}static getCodeFromData(ht){const{prefixedData:at}=ht,[vt,tn]=Rt(at);return vt}static getCodeFromName(ht){const{name:at}=ht,vt=xn.nameToCode.get(at);if(void 0===vt)throw new Error(`Unsupported multicodec: ${at}`);return vt}static getNameFromCode(ht){const{code:at}=ht,vt=xn.codeToName.get(at);if(void 0===vt)throw new Error(`Unsupported multicodec: ${at}`);return vt}static registerCodec(ht){xn.codeToName.set(ht.code,ht.name),xn.nameToCode.set(ht.name,ht.code)}static removePrefix(ht){const{prefixedData:at}=ht,[vt,tn]=Rt(at),un=xn.codeToName.get(vt);if(void 0===un)throw new Error(`Unsupported multicodec: ${vt}`);return{code:vt,data:at.slice(tn),name:un}}}xn.codeToName=new Map,xn.nameToCode=new Map,xn.registerCodec({code:237,name:"ed25519-pub"}),xn.registerCodec({code:4864,name:"ed25519-priv"}),xn.registerCodec({code:236,name:"x25519-pub"}),xn.registerCodec({code:4866,name:"x25519-priv"}),xn.registerCodec({code:231,name:"secp256k1-pub"}),xn.registerCodec({code:4865,name:"secp256k1-priv"}),A(95099),A(80868);const tr="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function pu(Ct){return function bc(Ct=32){if(tr&&"function"==typeof tr.getRandomValues)return tr.getRandomValues(new Uint8Array(Ct));throw new Error("crypto.getRandomValues must be defined")}(Ct)}new Uint8Array(new Uint32Array([287454020]).buffer),A(94256),A(91006),A(40499),A(86295),A(91879);class Jh{static deriveKey(ht){return function(Ct,ht,at,vt){return new(at||(at=Promise))(function(un,In){function sr(Qn){try{Cr(vt.next(Qn))}catch(vr){In(vr)}}function wr(Qn){try{Cr(vt.throw(Qn))}catch(vr){In(vr)}}function Cr(Qn){Qn.done?un(Qn.value):function tn(un){return un instanceof at?un:new at(function(In){In(un)})}(Qn.value).then(sr,wr)}Cr((vt=vt.apply(Ct,ht||[])).next())})}(this,arguments,void 0,function*({hash:at,password:vt,salt:tn,iterations:un,length:In}){const sr=yield tr.subtle.importKey("raw",vt,{name:"PBKDF2"},!1,["deriveBits"]),wr=yield tr.subtle.deriveBits({name:"PBKDF2",hash:at,salt:tn,iterations:un},sr,In);return new Uint8Array(wr)})}}function _s(Ct,...ht){if(!function go(Ct){return Ct instanceof Uint8Array||null!=Ct&&"object"==typeof Ct&&"Uint8Array"===Ct.constructor.name}(Ct))throw new Error("Uint8Array expected");if(ht.length>0&&!ht.includes(Ct.length))throw new Error(`Uint8Array expected of length ${ht}, not of length=${Ct.length}`)}function jc(Ct,ht=!0){if(Ct.destroyed)throw new Error("Hash instance has been destroyed");if(ht&&Ct.finished)throw new Error("Hash#digest() has already been called")}A(94730);const Sd="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Vf=Ct=>new DataView(Ct.buffer,Ct.byteOffset,Ct.byteLength),Va=(Ct,ht)=>Ct<<32-ht|Ct>>>ht;function To(Ct){return"string"==typeof Ct&&(Ct=function rs(Ct){if("string"!=typeof Ct)throw new Error("utf8ToBytes expected string, got "+typeof Ct);return new Uint8Array((new TextEncoder).encode(Ct))}(Ct)),_s(Ct),Ct}new Uint8Array(new Uint32Array([287454020]).buffer);class wl{clone(){return this._cloneInto()}}function Ll(Ct){const ht=vt=>Ct().update(To(vt)).digest(),at=Ct();return ht.outputLen=at.outputLen,ht.blockLen=at.blockLen,ht.create=()=>Ct(),ht}const fn=(Ct,ht,at)=>Ct&ht^~Ct&at,Ut=(Ct,ht,at)=>Ct&ht^Ct&at^ht&at;class nn extends wl{constructor(ht,at,vt,tn){super(),this.blockLen=ht,this.outputLen=at,this.padOffset=vt,this.isLE=tn,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(ht),this.view=Vf(this.buffer)}update(ht){jc(this);const{view:at,buffer:vt,blockLen:tn}=this,un=(ht=To(ht)).length;for(let In=0;In<un;){const sr=Math.min(tn-this.pos,un-In);if(sr!==tn)vt.set(ht.subarray(In,In+sr),this.pos),this.pos+=sr,In+=sr,this.pos===tn&&(this.process(at,0),this.pos=0);else{const wr=Vf(ht);for(;tn<=un-In;In+=tn)this.process(wr,In)}}return this.length+=ht.length,this.roundClean(),this}digestInto(ht){jc(this),function $u(Ct,ht){_s(Ct);const at=ht.outputLen;if(Ct.length<at)throw new Error(`digestInto() expects output buffer of length at least ${at}`)}(ht,this),this.finished=!0;const{buffer:at,view:vt,blockLen:tn,isLE:un}=this;let{pos:In}=this;at[In++]=128,this.buffer.subarray(In).fill(0),this.padOffset>tn-In&&(this.process(vt,0),In=0);for(let vr=In;vr<tn;vr++)at[vr]=0;(function gt(Ct,ht,at,vt){if("function"==typeof Ct.setBigUint64)return Ct.setBigUint64(ht,at,vt);const tn=BigInt(32),un=BigInt(4294967295),In=Number(at>>tn&un),sr=Number(at&un),Cr=vt?0:4;Ct.setUint32(ht+(vt?4:0),In,vt),Ct.setUint32(ht+Cr,sr,vt)})(vt,tn-8,BigInt(8*this.length),un),this.process(vt,0);const sr=Vf(ht),wr=this.outputLen;if(wr%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Cr=wr/4,Qn=this.get();if(Cr>Qn.length)throw new Error("_sha2: outputLen bigger than state");for(let vr=0;vr<Cr;vr++)sr.setUint32(4*vr,Qn[vr],un)}digest(){const{buffer:ht,outputLen:at}=this;this.digestInto(ht);const vt=ht.slice(0,at);return this.destroy(),vt}_cloneInto(ht){ht||(ht=new this.constructor),ht.set(...this.get());const{blockLen:at,buffer:vt,length:tn,finished:un,destroyed:In,pos:sr}=this;return ht.length=tn,ht.pos=sr,ht.finished=un,ht.destroyed=In,tn%at&&ht.buffer.set(vt),ht}}const Fn=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Lr=new Uint32Array(64);class yi extends nn{constructor(){super(64,32,8,!1),this.A=0|yr[0],this.B=0|yr[1],this.C=0|yr[2],this.D=0|yr[3],this.E=0|yr[4],this.F=0|yr[5],this.G=0|yr[6],this.H=0|yr[7]}get(){const{A:ht,B:at,C:vt,D:tn,E:un,F:In,G:sr,H:wr}=this;return[ht,at,vt,tn,un,In,sr,wr]}set(ht,at,vt,tn,un,In,sr,wr){this.A=0|ht,this.B=0|at,this.C=0|vt,this.D=0|tn,this.E=0|un,this.F=0|In,this.G=0|sr,this.H=0|wr}process(ht,at){for(let vr=0;vr<16;vr++,at+=4)Lr[vr]=ht.getUint32(at,!1);for(let vr=16;vr<64;vr++){const it=Lr[vr-15],Pe=Lr[vr-2],xe=Va(it,7)^Va(it,18)^it>>>3,Ce=Va(Pe,17)^Va(Pe,19)^Pe>>>10;Lr[vr]=Ce+Lr[vr-7]+xe+Lr[vr-16]|0}let{A:vt,B:tn,C:un,D:In,E:sr,F:wr,G:Cr,H:Qn}=this;for(let vr=0;vr<64;vr++){const Pe=Qn+(Va(sr,6)^Va(sr,11)^Va(sr,25))+fn(sr,wr,Cr)+Fn[vr]+Lr[vr]|0,Ce=(Va(vt,2)^Va(vt,13)^Va(vt,22))+Ut(vt,tn,un)|0;Qn=Cr,Cr=wr,wr=sr,sr=In+Pe|0,In=un,un=tn,tn=vt,vt=Pe+Ce|0}vt=vt+this.A|0,tn=tn+this.B|0,un=un+this.C|0,In=In+this.D|0,sr=sr+this.E|0,wr=wr+this.F|0,Cr=Cr+this.G|0,Qn=Qn+this.H|0,this.set(vt,tn,un,In,sr,wr,Cr,Qn)}roundClean(){Lr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const vo=Ll(()=>new yi);var Fr=A(53813);function va(Ct,ht=128){if(function xd(Ct){if(!Number.isSafeInteger(Ct)||Ct<0)throw new Error(`positive integer expected, not ${Ct}`)}(ht),ht%32!=0||ht>256)throw new TypeError("Invalid entropy");return function _l(Ct,ht){return function ol(Ct){_s(Ct,16,20,24,28,32)}(Ct),function ac(Ct){if(!Array.isArray(Ct)||2048!==Ct.length||"string"!=typeof Ct[0])throw new Error("Wordlist: expected array of 2048 strings");return Ct.forEach(ht=>{if("string"!=typeof ht)throw new Error(`Wordlist: non-string element: ${ht}`)}),Fr.Wp.chain(Fr.Wp.checksum(1,gu),Fr.Wp.radix2(11,!0),Fr.Wp.alphabet(Ct))}(ht).encode(Ct).join((Ct=>"\u3042\u3044\u3053\u304f\u3057\u3093"===Ct[0])(ht)?"\u3000":" ")}(function yh(Ct=32){if(Sd&&"function"==typeof Sd.getRandomValues)return Sd.getRandomValues(new Uint8Array(Ct));throw new Error("crypto.getRandomValues must be defined")}(ht/8),Ct)}const gu=Ct=>{const ht=8-Ct.length/4;return new Uint8Array([vo(Ct)[0]>>ht<<ht])};const sl="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");var Wd=A(93953);let Wf=(()=>{class Ct{constructor(){}createPassword(at=6,vt=128){return(0,h.A)(function*(){try{const tn=va(sl,vt).split(" "),un=[];for(let In=0;In<at;In++){const sr=Math.floor(Math.random()*tn.length);un.push(tn[sr])}return un.join(" ")}catch(tn){throw console.error(tn),tn}})()}encrypt(at,vt){return this.deriveKey(vt),at}encryptData(at,vt){return(0,h.A)(function*(){})()}deriveKey(at){return(0,h.A)(function*(){return yield Jh.deriveKey({hash:"SHA-256",password:(new TextEncoder).encode(at),salt:pu(16),iterations:1e3,length:256})})()}static#e=this.\u0275fac=function(vt){return new(vt||Ct)};static#t=this.\u0275prov=Wd.jDH({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}return Ct})()},1005:(Ye,J,A)=>{"use strict";A.d(J,{G:()=>N});var h=A(93953),x=A(21626);let N=(()=>{class Y{constructor(j){this.http=j,this.hash=null}loadHash(){return this.http.get("/ngsw.json").toPromise().then(j=>{this.hash=j.hash}).catch(()=>{this.hash=null})}getHash(){return this.hash}static#e=this.\u0275fac=function(R){return new(R||Y)(h.KVO(x.Qq))};static#t=this.\u0275prov=h.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})()},34635:(Ye,J,A)=>{"use strict";A.d(J,{K:()=>M});var h=A(10467),x=A(93953),N=A(74862),Y=A(60132);let M=(()=>{class j{constructor(U){this.cryptoService=U,this.syncInterval="5s",this.agents=(0,x.vPA)([]),this.preinitialized=(0,x.vPA)(!1),this.initialized=(0,x.vPA)(!1),this.locked=(0,x.vPA)(!0)}initialConnect(U){var H=this;return(0,h.A)(function*(){try{console.log("Connecting to Web5...");const V=yield N.uW.connect({password:U,sync:H.syncInterval});return H.web5=V.web5,H.did=V.did,console.log("Web5 Connected.",H.did),H.preinitialized.set(!0),H.initialized.set(!0),V}catch(V){console.error(V)}})()}connect(U,H){var V=this;return(0,h.A)(function*(){try{console.log("Connecting to Web5...");const P=yield N.uW.connect({connectedDid:U,password:H,sync:V.syncInterval});return V.web5=P.web5,V.did=P.did,console.log("Web5 Connected."),V.preinitialized.set(!0),V.initialized.set(!0),P}catch{alert("Failed to initialize Web5")}})()}restore(U,H){var V=this;return(0,h.A)(function*(){try{console.log("Connecting to Web5...");const P=yield N.uW.connect({recoveryPhrase:H,password:U,sync:V.syncInterval});return V.web5=P.web5,V.did=P.did,console.log("Web5 Connected."),V.preinitialized.set(!0),V.initialized.set(!0),P}catch{alert("Failed to initialize Web5")}})()}activeAgent(){return this.web5.agent}changePassword(U,H){var V=this;return(0,h.A)(function*(){yield V.web5.agent.vault.changePassword({oldPassword:U,newPassword:H})})()}lock(){var U=this;return(0,h.A)(function*(){console.log("Locking account..."),yield U.web5.agent.vault.lock(),console.log("Vault locked"),U.locked.set(!0)})()}unlock(U){var H=this;return(0,h.A)(function*(){try{console.log("Connecting to Web5...");const{did:V,web5:P}=yield N.uW.connect({sync:H.syncInterval,password:U});return H.did=V,H.web5=P,H.initialized.set(!0),H.locked.set(!1),!0}catch(V){return console.error(V),console.log("Show unlock screen!"),H.locked.set(!0),!1}})()}static#e=this.\u0275fac=function(H){return new(H||j)(x.KVO(Y.j))};static#t=this.\u0275prov=x.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})()},36815:(Ye,J,A)=>{"use strict";A.d(J,{Y:()=>Y});var h=A(99327),x=A(93953),N=A(18498);let Y=(()=>{class M{constructor(){this.search=(0,x.vPA)(!1),this.searchInput="",this.scrolling=(0,x.vPA)(!0),this.navigation=(0,x.vPA)(!1),this.margin=(0,x.vPA)(!0),this.actions=(0,x.vPA)([]),this.breakpointObserver=(0,x.WQX)(h.QP),this.router=(0,x.WQX)(N.Ix),this.small=(0,x.vPA)(!1),this.router.events.subscribe(U=>{U instanceof N.Z?this.enableScrolling():U instanceof N.wF&&(this.countChar("/",U.url)>1?this.enableNavigation():this.disableNavigation())}),this.breakpointObserver.observe(["(max-width: 959.98px)"]).subscribe(U=>{console.log("MATCHES:",U.matches),this.small.set(!!U.matches)}),(0,x.QZP)(()=>{const U=document.querySelector(".sidenav-scroll-wrapper");U&&(U.style.overflow=this.scrolling()?"auto":"hidden");const H=document.getElementById("sidenav-content");H&&(H.style.overflow=this.scrolling()?"auto":"hidden")})}countChar(R,U){return U.split(R).length-1}ngAfterContentInit(){}toggleSearch(){this.search.set(!this.search()),this.searchInput=""}setActions(R){this.actions.set(R)}addAction(R){this.actions.update(U=>[...U,R])}marginOff(){this.margin.set(!1)}marginOn(){this.margin.set(!0)}resetActions(){this.actions.set([])}enableScrolling(){this.scrolling.set(!0)}disableScrolling(){this.scrolling.set(!1)}enableNavigation(){this.navigation.set(!0)}disableNavigation(){this.navigation.set(!1)}static#e=this.\u0275fac=function(U){return new(U||M)};static#t=this.\u0275prov=x.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},55619:(Ye,J,A)=>{"use strict";A.d(J,{o:()=>Y});var h=A(18498),x=A(93953),N=A(60177);let Y=(()=>{class M{constructor(R,U){this.router=R,this.location=U,this.history=[],this.router.events.subscribe(H=>{H instanceof h.wF&&this.history.push(H.urlAfterRedirects)})}back(){this.history.pop(),this.history.length>0?this.location.back():this.router.navigateByUrl("/")}static#e=this.\u0275fac=function(U){return new(U||M)(x.KVO(h.Ix),x.KVO(N.aZ))};static#t=this.\u0275prov=x.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},39434:(Ye,J,A)=>{"use strict";A.d(J,{p:()=>M});var h=A(10467),x=A(93953),N=A(34635),Y=A(22312);let M=(()=>{class j{constructor(){this.identity=(0,x.WQX)(N.K),this.current=(0,x.vPA)({did:"",name:"",title:"",bio:"",profileImage:"",profileBanner:"",status:"",location:"",links:[],birthDate:""}),this.selected=(0,x.vPA)({did:"",name:"",title:"",bio:"",profileImage:"",profileBanner:"",status:"",location:"",links:[],birthDate:""}),this.avatar=(0,x.vPA)(null),this.avatarSelected=(0,x.vPA)(null)}loadProfile(U){var H=this;return(0,h.A)(function*(){const V=yield H.identity.web5.dwn.records.query({from:U,message:{filter:{protocol:Y.ME.uri,protocolPath:"profile",dataFormat:"application/json"}}});let P={},ee=null;if(console.log("RESPONSE FOUND FOR PROFILE:",V),console.log("RECORDS FOUND FOR PROFILE:",V.records),V.records)for(const ae of V.records)ee=ae,P={...yield ae.data.json(),id:ae.dataCid,did:ae.author,created:ae.dateCreated};var W=null,Q=null;const de=yield H.identity.web5.dwn.records.query({from:U,message:{filter:{protocol:Y.ME.uri,protocolPath:"avatar",dataFormat:"image/png"}}});if(de.records&&de.records.length>0){const ae=de.records[0];W=ae,Q=yield ae.data.text()}return{record:ee,avatarRecord:W,avatar:Q,profile:P,did:U}})()}openCurrentUserProfile(U){var H=this;return(0,h.A)(function*(){console.log("Open current user profile",U);const V=yield H.loadProfile(U);H.current.set(V.profile)})()}openProfile(U){var H=this;return(0,h.A)(function*(){console.log("Open profile",U);const V=yield H.loadProfile(U);H.avatarSelected.set(V.avatar),H.selected.set(V.profile),U==H.identity.did&&(H.avatar.set(V.avatar),H.current.set(V.profile))})()}static#e=this.\u0275fac=function(H){return new(H||j)};static#t=this.\u0275prov=x.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})()},98703:(Ye,J,A)=>{"use strict";A.d(J,{g:()=>x});var h=A(93953);let x=(()=>{class N{transform(M,j){if(M){const R=Math.floor((+new Date-+new Date(M))/1e3);if(R<29)return"Just now";const U={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};let H;for(const V in U)if(H=Math.floor(R/U[V]),H>0)return 1===H?H+" "+V+" ago":H+" "+V+"s ago"}return M}static#e=this.\u0275fac=function(j){return new(j||N)};static#t=this.\u0275pipe=h.EJ8({name:"ago",type:N,pure:!0,standalone:!0})}return N})()},33347:(Ye,J,A)=>{"use strict";A.d(J,{k:()=>x});var h=A(93953);let x=(()=>{class N{transform(M,j){if(M){const R=M.lastIndexOf(":");if(-1!==R){const U=M.slice(0,R+1),H=M.slice(R+1);return U+H.slice(0,5)+"..."+H.slice(-5)}return M.slice(0,5)+"..."+M.slice(-5)}return M}static#e=this.\u0275fac=function(j){return new(j||N)};static#t=this.\u0275pipe=h.EJ8({name:"did",type:N,pure:!0,standalone:!0})}return N})()},78013:(Ye,J,A)=>{"use strict";A.d(J,{d:()=>N});var h=A(93953),x=A(345);let N=(()=>{class Y{constructor(j){this.sanitizer=j}transform(j){return this.sanitizer.bypassSecurityTrustResourceUrl(j)}static#e=this.\u0275fac=function(R){return new(R||Y)(h.rXU(x.up,16))};static#t=this.\u0275pipe=h.EJ8({name:"safeResourceUrl",type:Y,pure:!0,standalone:!0})}return Y})()},28741:(Ye,J,A)=>{"use strict";A.d(J,{M:()=>x});var h=A(93953);let x=(()=>{class N{transform(M,j){if(null==M)return"";if(0===M)return"0 Bytes";const H=Math.floor(Math.log(M)/Math.log(1024));return parseFloat((M/Math.pow(1024,H)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB"][H]}static#e=this.\u0275fac=function(j){return new(j||N)};static#t=this.\u0275pipe=h.EJ8({name:"size",type:N,pure:!0,standalone:!0})}return N})()},43794:(Ye,J,A)=>{"use strict";A.d(J,{n:()=>N});var h=A(93953),x=A(36815);let N=(()=>{class Y{constructor(){this.prefix="ariton-",this.layout=(0,h.WQX)(x.Y),this.layout.resetActions()}save(j,R){localStorage.setItem(this.prefix+j,JSON.stringify(R))}read(j){const R=localStorage.getItem(this.prefix+j);return R?JSON.parse(R):null}remove(j){localStorage.removeItem(this.prefix+j)}clear(){Object.keys(localStorage).forEach(j=>{j.startsWith(this.prefix)&&localStorage.removeItem(j)})}static#e=this.\u0275fac=function(R){return new(R||Y)};static#t=this.\u0275prov=h.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})()},98752:(Ye,J,A)=>{"use strict";var h=A(345),x=A(93953),N=A(18498),Y=A(10467),M=A(31439),j=A(36815),R=A(34635),U=A(97372),H=A(60177),V=A(89417),P=A(88834),ee=A(75351),W=A(99213),Q=A(99631),de=A(59115),ae=A(14823),re=A(53719);let te=(()=>{class g{constructor(a,v){this.dialogRef=a,this.data=v,this.fb=(0,x.WQX)(V.ok),this.form=this.fb.group({name:[null,V.k0.required]})}ngAfterViewInit(){}static#e=this.\u0275fac=function(v){return new(v||g)(x.rXU(ee.CP),x.rXU(ee.Vh))};static#t=this.\u0275cmp=x.VBU({type:g,selectors:[["app-folder-dialog"]],standalone:!0,features:[x.aNF],decls:10,vars:2,consts:[["mat-dialog-title",""],["appearance","outline",1,"full-width"],["matInput","","required","true","placeholder","Name","maxlength","200",3,"ngModelChange","ngModel"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","type","submit","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(v,I){1&v&&(x.j41(0,"h2",0),x.EFF(1,"New folder"),x.k0s(),x.j41(2,"mat-dialog-content")(3,"mat-form-field",1)(4,"input",2),x.mxI("ngModelChange",function(se){return x.DH7(I.data.name,se)||(I.data.name=se),se}),x.k0s()()(),x.j41(5,"mat-dialog-actions",3)(6,"button",4),x.EFF(7,"Cancel"),x.k0s(),x.j41(8,"button",5),x.EFF(9,"Save"),x.k0s()()),2&v&&(x.R7$(4),x.R50("ngModel",I.data.name),x.R7$(4),x.Y8G("mat-dialog-close",!0))},dependencies:[H.MD,ae.uc,de.Cn,W.m_,P.Hl,P.$z,Q.fS,Q.fg,re.rl,ee.hM,ee.tx,ee.BI,ee.E7,ee.Yi,V.YN,V.me,V.BC,V.YS,V.tU,V.vS],styles:["form[_ngcontent-%COMP%]{display:inline}"]})}return g})();var ue=A(3902),pe=A(98703),he=A(5964);let ve=(()=>{class g{constructor(a,v){this.router=a,this.activatedRoute=v,this.breadcrumbs=[],this.router.events.pipe((0,he.p)(I=>I instanceof N.wF)).subscribe(()=>{this.breadcrumbs=this.createBreadcrumbs(this.activatedRoute.root)})}createBreadcrumbs(a,v="",I=[]){const F=a.children;if(0===F.length)return I;for(const se of F){const ye=se.snapshot.url.map(Re=>Re.path).join("/");return""!==ye&&(v+=`/${ye}`),I.push({label:se.snapshot.data.breadcrumb,url:v}),this.createBreadcrumbs(se,v,I)}return I}static#e=this.\u0275fac=function(v){return new(v||g)(x.KVO(N.Ix),x.KVO(N.nX))};static#t=this.\u0275prov=x.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})(),ge=(()=>{class g{constructor(){}registerActions(a){}static#e=this.\u0275fac=function(v){return new(v||g)};static#t=this.\u0275prov=x.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();var Me=A(28741),Oe=A(62590),je=A(2042),B=A(9159),l=A(25596);function f(g,s){if(1&g){const a=x.RV6();x.j41(0,"button",19),x.bIt("click",function(){x.eBV(a);const I=x.XpG(2);return x.Njj(I.editFolder(null))}),x.j41(1,"mat-icon"),x.EFF(2,"create_new_folder"),x.k0s()()}}function w(g,s){if(1&g){const a=x.RV6();x.j41(0,"button",20),x.bIt("click",function(){x.eBV(a);const I=x.XpG(2);return x.Njj(I.editFolder(null))}),x.j41(1,"mat-icon"),x.EFF(2,"create_new_folder"),x.k0s(),x.j41(3,"span"),x.EFF(4,"New folder"),x.k0s()()}}function _(g,s){if(1&g&&x.DNE(0,f,3,0,"button",17)(1,w,5,0,"button",18),2&g){const a=x.XpG();x.vxM(a.layout.small()?0:1)}}function D(g,s){if(1&g){const a=x.RV6();x.j41(0,"button",21),x.bIt("click",function(){x.eBV(a);const I=x.XpG(2);return x.Njj(I.editFolderById(I.parentId))}),x.j41(1,"mat-icon"),x.EFF(2,"edit"),x.k0s()(),x.j41(3,"button",21),x.bIt("click",function(){x.eBV(a);const I=x.XpG(2);return x.Njj(I.deleteFolder())}),x.j41(4,"mat-icon"),x.EFF(5,"delete_forever"),x.k0s()()}}function O(g,s){if(1&g){const a=x.RV6();x.j41(0,"button",1),x.bIt("click",function(){x.eBV(a);const I=x.XpG(2);return x.Njj(I.editFolderById(I.parentId))}),x.j41(1,"mat-icon"),x.EFF(2,"edit"),x.k0s(),x.j41(3,"span"),x.EFF(4,"Rename folder"),x.k0s()(),x.j41(5,"button",1),x.bIt("click",function(){x.eBV(a);const I=x.XpG(2);return x.Njj(I.deleteFolder())}),x.j41(6,"mat-icon"),x.EFF(7,"delete_forever"),x.k0s(),x.j41(8,"span"),x.EFF(9,"Delete folder"),x.k0s()()}}function $(g,s){if(1&g&&x.DNE(0,D,6,0)(1,O,10,0),2&g){const a=x.XpG();x.vxM(a.layout.small()?0:1)}}function T(g,s){1&g&&x.nrm(0,"th",22)}function c(g,s){if(1&g){const a=x.RV6();x.j41(0,"td",23),x.bIt("click",function(){const I=x.eBV(a).$implicit,F=x.XpG();return x.Njj(F.openEntry(I))}),x.j41(1,"mat-icon",24),x.EFF(2),x.k0s()()}if(2&g){const a=s.$implicit;x.R7$(2),x.JRh(a.icon)}}function E(g,s){1&g&&(x.j41(0,"th",25),x.EFF(1,"Name"),x.k0s())}function q(g,s){if(1&g){const a=x.RV6();x.j41(0,"td",26),x.bIt("click",function(){const I=x.eBV(a).$implicit,F=x.XpG();return x.Njj(F.openEntry(I))}),x.EFF(1),x.k0s()}if(2&g){const a=s.$implicit;x.R7$(),x.JRh(a.name)}}function X(g,s){1&g&&(x.j41(0,"th",27),x.EFF(1,"Modified"),x.k0s())}function ce(g,s){if(1&g&&(x.j41(0,"td",28),x.EFF(1),x.nI1(2,"ago"),x.k0s()),2&g){const a=s.$implicit;x.R7$(),x.SpI(" ",x.bMT(2,1,a.modified)," ")}}function me(g,s){1&g&&(x.j41(0,"th",29),x.EFF(1,"File size"),x.k0s())}function Te(g,s){if(1&g&&(x.j41(0,"td",28),x.EFF(1),x.nI1(2,"size"),x.k0s()),2&g){const a=s.$implicit;x.R7$(),x.JRh(x.bMT(2,1,a.size))}}function Ke(g,s){1&g&&x.nrm(0,"tr",30)}function Qe(g,s){1&g&&x.nrm(0,"tr",31)}class ke{constructor(s){this.icon="folder"==s.tags.entryType?"folder":"note",this.name=s.tags.name,this.modified="folder"===s.tags.entryType?s.dateModified:s.tags.lastModified,this.size=s.tags.size,this.type=s.tags.type,this.entryType=s.tags.entryType,this.record=s}}let Ie=(()=>{class g{constructor(){var a=this;this.entries=(0,x.vPA)([]),this.app=(0,x.WQX)(M.d),this.breadcrumb=(0,x.WQX)(ve),this.layout=(0,x.WQX)(j.Y),this.identity=(0,x.WQX)(R.K),this.dialog=(0,x.WQX)(ee.bZ),this.router=(0,x.WQX)(N.Ix),this.route=(0,x.WQX)(N.nX),this.fileService=(0,x.WQX)(ge),this.uploadProgress=null,this.isUploading=!1,this.file=null,this.uploadSuccess=!1,this.fileError=null,this.protocolPath="entry",this.hasInitialized=!1,this.folderLevel=1,this.displayedColumns=["icon","name","modified","size"],this.dataSource=new B.I6([]),this.changeDetectorRefs=(0,x.WQX)(x.gRc),this.layout.resetActions(),(0,x.QZP)((0,Y.A)(function*(){if(a.app.initialized()){if(a.hasInitialized)return;const v=a.getResolvedUrl(a.route.snapshot);yield a.processUrl(v)}}),{allowSignalWrites:!0}),(0,x.QZP)((0,Y.A)(function*(){a.updateTable()})),this.routingSub=this.router.events.subscribe(function(){var v=(0,Y.A)(function*(I){I instanceof N.wF&&(yield a.processUrl(I.urlAfterRedirects))});return function(I){return v.apply(this,arguments)}}()),this.layout.disableNavigation(),console.log("FOLDER COMPONENT INITIALIZED")}ngAfterViewInit(){this.dataSource.sort=this.sort}updateTable(){this.dataSource.data=this.entries().map(a=>new ke(a))}sortData(a){}announceSortChange(a){}getValueAfterFolder(a){const v=a.match(/\/folder\/(.+)/);return v?v[1]:null}generateUrl(a){const v=[];for(let I=0;I<a;I++)v.push("entry");return v.join("/")}processUrl(a){var v=this;return(0,Y.A)(function*(){if(console.log("PROCESS URL:",a),a.endsWith("root"))console.log("ROOT!!!"),v.parentId="root",v.protocolPath="entry",v.contextId=void 0,v.folderLevel=1;else{console.log("ELSE!!!"),console.log("URL:",a);const I=v.getValueAfterFolder(a);console.log("valueAfterFolder:",I);const F=a.split("/"),se=F[F.length-1];console.log("lastSegment:",se),v.parentId=se,v.contextId=I;let ye=0;I?(ye=(I.match(/\//g)||[]).length+2,console.log("SLASHCOUNT:",ye)):ye=1,v.folderLevel=ye,v.protocolPath=v.generateUrl(ye),console.log("GENERATED PROTOCOL PATH:",v.protocolPath)}v.app.initialized()?(v.hasInitialized=!0,console.log("SET INITIALIZED. LOADING ENTRIES!",v.hasInitialized),yield v.loadEntries()):console.log("APP NOT INITIALIZED, RETURN!")})()}getResolvedUrl(a){let v=a.pathFromRoot.map(F=>F.url.map(se=>se.toString()).join("/")).join("/");const I=a.queryParamMap;return I.keys.length>0&&(v+="?"+I.keys.map(F=>I.getAll(F).map(se=>F+"="+se).join("&")).join("&")),v}editFile(a){return(0,Y.A)(function*(){document.getElementById("input")?.click()})()}ngOnDestroy(){console.log("ON DESTROY!!!);"),this.routingSub.unsubscribe(),this.layout.resetActions()}onFileSelected(a){var v=this;return(0,Y.A)(function*(){const I=a.currentTarget.files;if(0!=I.length){console.log("Uploading number of files:",I.length);for(let F=0;F<I.length;F++){const se=I[F];console.log(se);const ye=new Blob([se],{type:se.type});console.log(ye),console.log("Parent ID:",v.breadcrumb.parentId);const Re={tags:{name:se.name,size:se.size,type:se.type,lastModified:se.lastModified,entryType:"file"},protocol:U.Q.protocol,protocolPath:v.protocolPath,parentContextId:v.contextId??=void 0,schema:U.Q.types.entry.schema,dataFormat:ye.type};console.log(Re);const{status:ze,record:ut}=yield v.identity.web5.dwn.records.create({data:ye,message:Re});console.log("Record created:",ut),console.log("Record status:",ze),ut&&v.entries.update(wt=>[...wt,ut])}}})()}cancelUpload(){return(0,Y.A)(function*(){})()}upload(){var a=this;return(0,Y.A)(function*(){console.log("Uploading file");const{status:v,record:I}=yield a.identity.web5.dwn.records.create({data:a.file,message:{schema:U.Q.types.entry.schema}});return console.log("Record created:",I),console.log("Record status:",v),I})()}deleteFolder(){var a=this;return(0,Y.A)(function*(){const{record:v}=yield a.identity.web5.dwn.records.read({message:{filter:{recordId:a.parentId}}});if(v){const{status:I}=yield v.delete({prune:!0});console.log("Delete status:",I);const F=a.contextId.split("/").slice(0,-1);console.log("Parent path:",F),a.router.navigate(["app","files","folder",...F])}})()}editFolderById(a){var v=this;return(0,Y.A)(function*(){const{record:I}=yield v.identity.web5.dwn.records.read({message:{filter:{recordId:a}}});yield v.editFolder(I)})()}editFolder(a){var v=this;return(0,Y.A)(function*(){let I={name:a?a.tags.name:"Untitled folder",entryType:"folder"};const F=JSON.parse(JSON.stringify(I)),se=v.dialog.open(te,{maxWidth:"80vw",maxHeight:"80vh",data:I});return se.afterClosed().subscribe(function(){var ye=(0,Y.A)(function*(Re){Re?(console.log("data result for saving:",I),yield v.saveFolder(a,I)):I=F});return function(Re){return ye.apply(this,arguments)}}()),se.afterClosed()})()}saveFolder(a,v){var I=this;return(0,Y.A)(function*(){if(a){a.tags.name=v.name,a.tags.entryType=v.entryType;const{status:F}=yield a.update({data:{}});console.log("Record status:",F)}else{const F={tags:{name:v.name,entryType:v.entryType},protocol:U.Q.protocol,protocolPath:I.protocolPath,parentContextId:I.contextId??=void 0,schema:U.Q.types.entry.schema};console.log("Create folder:",F);const{record:se,status:ye}=yield I.identity.web5.dwn.records.create({data:{},message:F});console.log("Record created:",se),console.log("Record status:",ye),se&&I.entries.update(Re=>[...Re,se])}})()}openEntry(a){var v=this;return(0,Y.A)(function*(){console.log(a),v.router.navigate("folder"===a.entryType?["/app/files/folder/"+a.record.contextId]:["/app/files/file/"+a.record.id])})()}loadEntries(a){var v=this;return(0,Y.A)(function*(){console.log("VALUE OF TAGS:",a),console.log("PARENT ID:",v.parentId),console.log("PARENT CONTEXT ID:",v.contextId);const I={filter:{protocolPath:v.protocolPath,protocol:U.Q.protocol,schema:U.Q.types.entry.schema},dateSort:Oe.U0.CreatedDescending};v.parentId&&"root"!==v.parentId&&(I.filter.parentId=v.parentId),console.log(I);var{records:F}=yield v.identity.web5.dwn.records.query({message:I});v.entries.set(F??[]),console.log("All entries:",v.entries())})()}static#e=this.\u0275fac=function(v){return new(v||g)};static#t=this.\u0275cmp=x.VBU({type:g,selectors:[["app-folder"]],viewQuery:function(v,I){if(1&v&&x.GBs(je.B4,5),2&v){let F;x.mGM(F=x.lsd())&&(I.sort=F.first)}},standalone:!0,features:[x.aNF],decls:25,vars:5,consts:[[1,"toolbar-actions","margin-bottom"],["type","button","mat-button","",3,"click"],["type","file","id","input","multiple","",2,"display","none",3,"change"],["mat-table","","matSort","",3,"matSortChange","dataSource"],["matColumnDef","icon"],["mat-header-cell","","mat-sort-header","","class","icon-column",4,"matHeaderCellDef"],["mat-cell","","class","clickable icon-column",3,"click",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",4,"matHeaderCellDef"],["mat-cell","","class","clickable",3,"click",4,"matCellDef"],["matColumnDef","modified"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by modified",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","size"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by file size",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-icon-button","",1,"toolbar-icon-button"],["mat-button",""],["mat-icon-button","",1,"toolbar-icon-button",3,"click"],["mat-button","",3,"click"],["type","button","mat-icon-button","",1,"toolbar-icon-button",3,"click"],["mat-header-cell","","mat-sort-header","",1,"icon-column"],["mat-cell","",1,"clickable","icon-column",3,"click"],["matListItemIcon",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name"],["mat-cell","",1,"clickable",3,"click"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by modified"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by file size"],["mat-header-row",""],["mat-row",""]],template:function(v,I){1&v&&(x.j41(0,"mat-card",0)(1,"mat-card-content")(2,"button",1),x.bIt("click",function(){return I.editFile({})}),x.j41(3,"mat-icon"),x.EFF(4,"upload_file"),x.k0s(),x.j41(5,"span"),x.EFF(6,"Upload files"),x.k0s()(),x.DNE(7,_,2,1)(8,$,2,1),x.k0s()(),x.j41(9,"input",2),x.bIt("change",function(se){return I.onFileSelected(se)}),x.k0s(),x.j41(10,"table",3),x.bIt("matSortChange",function(se){return I.sortData(se)}),x.qex(11,4),x.DNE(12,T,1,0,"th",5)(13,c,3,1,"td",6),x.bVm(),x.qex(14,7),x.DNE(15,E,2,0,"th",8)(16,q,2,1,"td",9),x.bVm(),x.qex(17,10),x.DNE(18,X,2,0,"th",11)(19,ce,3,3,"td",12),x.bVm(),x.qex(20,13),x.DNE(21,me,2,0,"th",14)(22,Te,3,3,"td",12),x.bVm(),x.DNE(23,Ke,1,0,"tr",15)(24,Qe,1,0,"tr",16),x.k0s()),2&v&&(x.R7$(7),x.vxM(I.folderLevel<4?7:-1),x.R7$(),x.vxM(I.folderLevel>1?8:-1),x.R7$(2),x.Y8G("dataSource",I.dataSource),x.R7$(13),x.Y8G("matHeaderRowDef",I.displayedColumns),x.R7$(),x.Y8G("matRowDefColumns",I.displayedColumns))},dependencies:[l.Hu,l.RN,l.m2,P.Hl,P.$z,P.iY,B.tP,B.Zl,B.tL,B.ji,B.cC,B.YV,B.iL,B.KS,B.$R,B.YZ,B.NB,je.NQ,je.B4,je.aE,Me.M,H.MD,ue.Fg,ue.ZV,W.m_,W.An,pe.g],styles:["table[_ngcontent-%COMP%]{width:100%}.icon-column[_ngcontent-%COMP%]{width:36px;max-width:36px;min-width:36px}"]})}return g})();var Xe=function(g){return g.PDF="application/pdf",g.JPEG="image/jpeg",g.PNG="image/png",g.MP4="video/mp4",g}(Xe||{});const Se=["*"];function Le(g,s){if(1&g&&(x.j41(0,"div",1),x.nrm(1,"iframe",2),x.k0s()),2&g){const a=x.XpG();x.R7$(),x.Y8G("src",a.src,x.f$h)}}function Ee(g,s){if(1&g&&x.nrm(0,"iframe",2),2&g){const a=x.XpG();x.Y8G("src",a.src,x.f$h)}}function be(g,s){if(1&g&&x.nrm(0,"iframe",2),2&g){const a=x.XpG();x.Y8G("src",a.src,x.f$h)}}function oe(g,s){if(1&g&&(x.j41(0,"video",3),x.nrm(1,"source",4),x.EFF(2," Your browser does not support HTML5 video. "),x.k0s()),2&g){const a=x.XpG();x.R7$(),x.Y8G("src",a.src,x.B4B)}}function fe(g,s){1&g&&(x.j41(0,"span",null,0),x.SdG(2),x.k0s())}let we=(()=>{class g{ngAfterViewInit(){const a=document.getElementById("frame"),v=document.createElement("style");v.textContent="\n    body {\n        background-color: #f0f0f0;\n   margin: 0;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n    }\n\n    img {\n      width: 100%;\n  height: 100%;\n  object-fit: contain; /* Adjust as needed: contain, cover, fill */\n    }\n",console.log("iframe:"),console.log(a),a.contentDocument.head.appendChild(v),console.log("iframe:"),console.log(a)}ngOnInit(){}zoomIn(){this.zoomLevel+=10}zoomOut(){this.zoomLevel>10&&(this.zoomLevel-=10)}goToPage(){this.currentPage<1?this.currentPage=1:this.currentPage>this.totalPages&&(this.currentPage=this.totalPages)}constructor(){this.fileMimeType=Xe,this.pdfZoom=1,this.currentPage=1,this.totalPages=1,this.zoomLevel=100,this.totalPages=this.getPdfTotalPages()}getPdfTotalPages(){return 10}goToPreviousPage(){this.currentPage>1&&this.currentPage--}goToNextPage(){this.currentPage<this.totalPages&&this.currentPage++}static#e=this.\u0275fac=function(v){return new(v||g)};static#t=this.\u0275cmp=x.VBU({type:g,selectors:[["app-file-viewer"]],inputs:{type:"type",src:"src",pdfZoom:"pdfZoom"},standalone:!0,features:[x.aNF],ngContentSelectors:Se,decls:6,vars:1,consts:[["content",""],[1,"pdf-viewer"],["id","frame","width","100%","height","100%",1,"file-frame",3,"src"],["controls","","width","100%"],["type","video/mp4",3,"src"]],template:function(v,I){if(1&v&&(x.NAR(),x.j41(0,"span"),x.DNE(1,Le,2,1,"div",1)(2,Ee,1,1,"iframe",2)(3,be,1,1,"iframe",2)(4,oe,3,1,"video",3)(5,fe,3,0,"span"),x.k0s()),2&v){let F;x.R7$(),x.vxM((F=I.type)===I.fileMimeType.PDF?1:F===I.fileMimeType.JPEG?2:F===I.fileMimeType.PNG?3:F===I.fileMimeType.MP4?4:5)}},dependencies:[H.MD,V.YN],styles:[".pdf-viewer[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}object[_ngcontent-%COMP%]{width:100%;height:100%}.controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px}.page-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}@media screen and (max-width: 768px){.controls[_ngcontent-%COMP%]{flex-direction:column}}"]})}return g})();var De=A(55911),$e=A(55619);function Je(g,s){if(1&g&&(x.j41(0,"span"),x.EFF(1),x.k0s()),2&g){const a=x.XpG(2);x.R7$(),x.JRh(a.record.tags.name)}}function Ze(g,s){if(1&g){const a=x.RV6();x.j41(0,"button",2),x.bIt("click",function(){x.eBV(a);const I=x.XpG(2);return x.Njj(I.toggleFullscreen())}),x.j41(1,"mat-icon"),x.EFF(2,"fullscreen_exit"),x.k0s()()}2&g&&x.Y8G("title","Exit fullscreen")}function Pt(g,s){if(1&g){const a=x.RV6();x.j41(0,"button",2),x.bIt("click",function(){x.eBV(a);const I=x.XpG(2);return x.Njj(I.toggleFullscreen())}),x.j41(1,"mat-icon"),x.EFF(2,"fullscreen"),x.k0s()()}2&g&&x.Y8G("title","Fullscreen")}function nt(g,s){if(1&g){const a=x.RV6();x.j41(0,"mat-toolbar")(1,"button",2),x.bIt("click",function(){x.eBV(a);const I=x.XpG();return x.Njj(I.deleteFile())}),x.j41(2,"mat-icon"),x.EFF(3,"delete"),x.k0s()(),x.j41(4,"button",2),x.bIt("click",function(){x.eBV(a);const I=x.XpG();return x.Njj(I.download())}),x.j41(5,"mat-icon"),x.EFF(6,"file_download"),x.k0s()(),x.DNE(7,Je,2,1,"span"),x.nrm(8,"span",3),x.j41(9,"button",4)(10,"mat-icon"),x.EFF(11,"zoom_in"),x.k0s()(),x.j41(12,"button",4)(13,"mat-icon"),x.EFF(14,"zoom_out"),x.k0s()(),x.DNE(15,Ze,3,1,"button",5)(16,Pt,3,1,"button",5),x.k0s()}if(2&g){const a=x.XpG();x.R7$(),x.Y8G("title","Delete"),x.R7$(3),x.Y8G("title","Download"),x.R7$(3),x.vxM(a.record.tags?7:-1),x.R7$(2),x.Y8G("disabled",!0),x.R7$(3),x.Y8G("disabled",!0),x.R7$(3),x.vxM(a.fullscreen()?15:16)}}function Ge(g,s){if(1&g&&(x.j41(0,"app-file-viewer",1)(1,"h2"),x.EFF(2,"This file type is unsupported (yet :)"),x.k0s()()),2&g){const a=x.XpG();x.Y8G("src",a.src)("type",a.type)("pdfZoom",a.pdfZoom)}}const K=[{path:"",pathMatch:"full",redirectTo:"introduction"},{path:"introduction",loadComponent:()=>A.e(4630).then(A.bind(A,64630)).then(g=>g.IntroductionComponent),title:"Introduction",data:{hide:!0,icon:"lightbulb"}},{path:"dashboard",loadComponent:()=>Promise.all([A.e(6195),A.e(2320)]).then(A.bind(A,62320)).then(g=>g.DashboardComponent),title:"Dashboard",data:{hide:!0,icon:"dashboard"}},{path:"communities",loadComponent:()=>Promise.all([A.e(5571),A.e(6695),A.e(450),A.e(6702)]).then(A.bind(A,6702)).then(g=>g.CommunitiesComponent),title:"Communities",data:{icon:"diversity_2"}},{path:"communities/create",loadComponent:()=>Promise.all([A.e(3475),A.e(3672)]).then(A.bind(A,23672)).then(g=>g.CreateComponent),title:"Communities",data:{hide:!0,icon:"diversity_2"}},{path:"community/:id",loadComponent:()=>Promise.all([A.e(6850),A.e(3028)]).then(A.bind(A,73028)).then(g=>g.CommunityComponent),title:"Communities",data:{hide:!0,icon:"diversity_2"}},{path:"friends",loadComponent:()=>Promise.all([A.e(6850),A.e(7413),A.e(8834)]).then(A.bind(A,38834)).then(g=>g.FriendsComponent),title:"Friends",data:{hide:!1,icon:"people"}},{path:"app/chat/:id",loadComponent:()=>Promise.all([A.e(5571),A.e(7413),A.e(3446)]).then(A.bind(A,63446)).then(g=>g.ChatComponent),title:"Chat",data:{icon:"chat"}},{path:"marketplace",loadComponent:()=>A.e(4392).then(A.bind(A,94392)).then(g=>g.MarketplaceComponent),title:"Marketplace",data:{icon:"storefront"}},{path:"apps",loadComponent:()=>Promise.all([A.e(5571),A.e(6695),A.e(6195),A.e(450),A.e(8487)]).then(A.bind(A,8487)).then(g=>g.AppsComponent),title:"Apps",data:{icon:"apps"}},{path:"app/files",loadComponent:()=>A.e(6797).then(A.bind(A,46797)).then(g=>g.FilesComponent),title:"Files",data:{icon:"folder",breadcrumb:"Files"},children:[{path:"",pathMatch:"full",redirectTo:"folder/root"},{path:"file/:id",component:(()=>{class g{constructor(){var a=this;this.entries=(0,x.vPA)([]),this.app=(0,x.WQX)(M.d),this.breadcrumb=(0,x.WQX)(ve),this.layout=(0,x.WQX)(j.Y),this.identity=(0,x.WQX)(R.K),this.dialog=(0,x.WQX)(ee.bZ),this.router=(0,x.WQX)(N.Ix),this.route=(0,x.WQX)(N.nX),this.fileService=(0,x.WQX)(ge),this.uploadProgress=null,this.isUploading=!1,this.file=null,this.uploadSuccess=!1,this.fileError=null,this.fileId=null,this.sanitizer=(0,x.WQX)(h.up),this.navigation=(0,x.WQX)($e.o),this.fullscreen=(0,x.vPA)(!1),this.fileMimeType=Xe,this.pdfZoom=1,(0,x.QZP)((0,Y.A)(function*(){a.app.initialized()&&(yield a.loadEntries())})),this.route.paramMap.subscribe(v=>{console.log("ROUTING!!!",v.get("id")),this.fileId=v.get("id")})}toggleFullscreen(){var a=document.getElementById("file-viewer");this.fullscreen()?(document.exitFullscreen(),this.fullscreen.set(!1)):(a.requestFullscreen(),this.fullscreen.set(!0))}download(){const a=URL.createObjectURL(this.fileUrl),v=document.createElement("a");console.log("File URL"),console.log(a),v.href=a,v.download=this.data.name,v.click(),URL.revokeObjectURL(a)}pdfZoomIn(){this.pdfZoom++}pdfZoomOut(){this.pdfZoom>1&&this.pdfZoom--}editFile(a){return(0,Y.A)(function*(){document.getElementById("input")?.click()})()}onFileSelected(a){var v=this;return(0,Y.A)(function*(){const I=a.currentTarget.files;if(0!=I.length){console.log("Uploading number of files:",I.length);for(let F=0;F<I.length;F++){const se=I[F];console.log(se);const ye=new Blob([se],{type:se.type});console.log(ye),console.log("Parent ID:",v.breadcrumb.parentId);const{status:Re,record:ze}=yield v.identity.web5.dwn.records.create({data:ye,message:{protocol:U.Q.protocol,protocolPath:"attachment",schema:U.Q.types.entry.schema,dataFormat:ye.type}});console.log("Record created:",ze),console.log("Record status:",Re);const ut={name:se.name,size:se.size,type:se.type,lastModified:se.lastModified,entryType:"file"},{status:wt,record:jt}=yield v.identity.web5.dwn.records.create({data:ut,message:{tags:{type:se.type,entryType:"file",attachment:ze.id},protocol:U.Q.protocol,protocolPath:"entry",parentContextId:v.breadcrumb.parentId??=void 0,schema:U.Q.types.entry.schema}});console.log("Record created:",jt),console.log("Record status:",wt),jt&&v.entries.update(Kt=>[...Kt,{record:jt,data:ut}])}}})()}cancelUpload(){return(0,Y.A)(function*(){})()}upload(){var a=this;return(0,Y.A)(function*(){console.log("Uploading file");const{status:v,record:I}=yield a.identity.web5.dwn.records.create({data:a.file,message:{schema:U.Q.types.entry.schema}});return console.log("Record created:",I),console.log("Record status:",v),I})()}editFolder(a){var v=this;return(0,Y.A)(function*(){let I={name:a.data.name,entryType:"folder"};const F=JSON.parse(JSON.stringify(I)),se=v.dialog.open(te,{maxWidth:"80vw",maxHeight:"80vh",data:I});return se.afterClosed().subscribe(function(){var ye=(0,Y.A)(function*(Re){Re?(console.log("data result for saving:",I),a.data=I,yield v.saveFolder(a,I)):I=F});return function(Re){return ye.apply(this,arguments)}}()),se.afterClosed()})()}saveFolder(a,v){var I=this;return(0,Y.A)(function*(){if(a.record){const{status:F,record:se}=yield a.record.update({data:v});console.log("Record created:",se),console.log("Record status:",F)}else{const{record:F,status:se}=yield I.identity.web5.dwn.records.create({data:v,message:{tags:{entryType:v.entryType},protocol:U.Q.protocol,protocolPath:"entry",schema:U.Q.types.entry.schema}});console.log("Record created:",F),console.log("Record status:",se),F&&(a.record=F,I.entries.update(ye=>[...ye,a]))}})()}openEntry(a){var v=this;return(0,Y.A)(function*(){v.router.navigate("folder"===a.entryType?["/app/files/folder",a.record.id]:["/app/files/file",a.record.id])})()}deleteFile(){var a=this;return(0,Y.A)(function*(){const{status:v}=yield a.record.delete(),{status:I}=yield a.record.send(a.identity.did);console.log("Delete status:",v),console.log("Delete send status:",I),a.record=void 0,a.src=void 0,a.navigation.back()})()}loadEntries(a){var v=this;return(0,Y.A)(function*(){if(console.log("VALUE OF TAGS:",a),!v.fileId)return;const{record:I}=yield v.identity.web5.dwn.records.read({message:{filter:{recordId:v.fileId}}});if(v.record=I,v.fileUrl=yield I.data.blob(),console.log(I),v.type=I.dataFormat,"application/pdf"===I.dataFormat){const F=URL.createObjectURL(v.fileUrl)+"#toolbar=0&navpanes=0&scrollbar=0&view=FitH";v.src=v.sanitizer.bypassSecurityTrustResourceUrl(F)}else{const F=URL.createObjectURL(v.fileUrl);v.src=v.sanitizer.bypassSecurityTrustResourceUrl(F)}})()}static#e=this.\u0275fac=function(v){return new(v||g)};static#t=this.\u0275cmp=x.VBU({type:g,selectors:[["app-file"]],standalone:!0,features:[x.aNF],decls:3,vars:2,consts:[["id","file-viewer"],[3,"src","type","pdfZoom"],["mat-icon-button","",3,"click","title"],[1,"toolbar-spacer"],["mat-icon-button","",3,"disabled"],["mat-icon-button","",3,"title"]],template:function(v,I){1&v&&(x.j41(0,"div",0),x.DNE(1,nt,17,6,"mat-toolbar")(2,Ge,3,3,"app-file-viewer",1),x.k0s()),2&v&&(x.R7$(),x.vxM(I.record?1:-1),x.R7$(),x.vxM(I.src?2:-1))},dependencies:[we,H.MD,ue.Fg,W.m_,W.An,De.s5,De.KQ,P.Hl,P.iY]})}return g})(),data:{breadcrumb:"Folder"}},{path:"**",component:Ie,data:{breadcrumb:"Folder"}}]},{path:"app/notes",loadComponent:()=>Promise.all([A.e(5571),A.e(6471),A.e(8067),A.e(5832)]).then(A.bind(A,55832)).then(g=>g.NotesComponent),title:"Notes",data:{icon:"note"}},{path:"app/text",loadComponent:()=>Promise.all([A.e(5571),A.e(6471),A.e(8067),A.e(2765),A.e(9058)]).then(A.bind(A,99058)).then(g=>g.TextComponent),title:"Text",data:{icon:"notes"}},{path:"app/tasks/:id",loadComponent:()=>Promise.all([A.e(6850),A.e(1391),A.e(2765),A.e(3907)]).then(A.bind(A,93907)).then(g=>g.TasksComponent),title:"Tasks",data:{icon:"task"}},{path:"registries",loadComponent:()=>Promise.all([A.e(6695),A.e(9466)]).then(A.bind(A,69466)).then(g=>g.RegistriesComponent),title:"Registries",data:{icon:"folder_shared"}},{path:"registries/:id",loadComponent:()=>Promise.all([A.e(6850),A.e(6471),A.e(6695),A.e(2076),A.e(5026)]).then(A.bind(A,65026)).then(g=>g.RegistryComponent),title:"Registry",data:{hide:!0,icon:"folder_shared"}},{path:"data/view/:id",loadComponent:()=>Promise.all([A.e(6850),A.e(3474)]).then(A.bind(A,53474)).then(g=>g.DataViewComponent),title:"Data View",data:{hide:!0,icon:"folder_shared"}},{path:"data",loadComponent:()=>Promise.all([A.e(6850),A.e(7358),A.e(9454),A.e(3287)]).then(A.bind(A,63287)).then(g=>g.DataComponent),title:"Data",data:{hide:!0,icon:"source"}},{path:"data/:source/:id",loadComponent:()=>Promise.all([A.e(2076),A.e(9533)]).then(A.bind(A,29533)).then(g=>g.DataEntryComponent),title:"Data Entry",data:{hide:!0,icon:"source"}},{path:"profile/:id",loadComponent:()=>Promise.all([A.e(6850),A.e(7413),A.e(888)]).then(A.bind(A,50888)).then(g=>g.ProfileComponent),title:"Profile",data:{hide:!0,icon:"account_circle"}},{path:"profile/:id/edit",loadComponent:()=>Promise.all([A.e(3475),A.e(7380)]).then(A.bind(A,37380)).then(g=>g.ProfileEditComponent),title:"Edit Profile",data:{hide:!0,icon:"account_circle"}},{path:"notifications",loadComponent:()=>A.e(2228).then(A.bind(A,92228)).then(g=>g.NotificationsComponent),title:"Notifications",data:{hide:!0,icon:"notifications"}},{path:"accounts",loadComponent:()=>Promise.all([A.e(6850),A.e(9454),A.e(6486)]).then(A.bind(A,96486)).then(g=>g.AccountsComponent),title:"Accounts",data:{hide:!0,icon:"account_circle"}},{path:"account/password",loadComponent:()=>A.e(8012).then(A.bind(A,88012)).then(g=>g.PasswordComponent),title:"Password",data:{hide:!0,icon:"account_circle"}},{path:"account/backup",loadComponent:()=>A.e(5962).then(A.bind(A,75962)).then(g=>g.BackupComponent),title:"Backup",data:{hide:!0,icon:"account_circle"}},{path:"account/create",loadComponent:()=>A.e(5806).then(A.bind(A,75806)).then(g=>g.CreateComponent),title:"Create Account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/new",loadComponent:()=>A.e(9613).then(A.bind(A,29613)).then(g=>g.NewComponent),title:"Create new account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/restore",loadComponent:()=>Promise.resolve().then(A.bind(A,33065)).then(g=>g.RestoreComponent),title:"Restore existing account",data:{hide:!0,icon:"account_circle"}},{path:"account/:id",loadComponent:()=>A.e(7880).then(A.bind(A,17880)).then(g=>g.AccountComponent),title:"Account",data:{hide:!0,icon:"account_circle"}},{path:"identity",loadComponent:()=>A.e(5854).then(A.bind(A,85854)).then(g=>g.IdentityComponent),title:"Identity",data:{hide:!0,icon:"account_circle"}},{path:"settings",loadComponent:()=>A.e(959).then(A.bind(A,60959)).then(g=>g.SettingsComponent),title:"Settings",data:{hide:!0,icon:"settings"}},{path:"settings/about",loadComponent:()=>A.e(5216).then(A.bind(A,85216)).then(g=>g.AboutComponent),title:"About",data:{hide:!0,icon:"settings"}},{path:"settings/help",loadComponent:()=>A.e(940).then(A.bind(A,940)).then(g=>g.HelpComponent),title:"Help",data:{hide:!0,icon:"help"}},{path:"settings/licenses",loadComponent:()=>A.e(9727).then(A.bind(A,19727)).then(g=>g.LicensesComponent),title:"Licenses",data:{hide:!0,icon:"settings"}},{path:"settings/privacy",loadComponent:()=>A.e(9128).then(A.bind(A,99128)).then(g=>g.PrivacyComponent),title:"Privacy",data:{hide:!0,icon:"settings"}},{path:"settings/handler",loadComponent:()=>A.e(8552).then(A.bind(A,18552)).then(g=>g.HandlerComponent),title:"Protocol Handler",data:{hide:!0,icon:"search"}},{path:"tree",loadComponent:()=>Promise.all([A.e(7358),A.e(9238)]).then(A.bind(A,9238)).then(g=>g.TreeComponent),title:"Tree",data:{hide:!0,icon:"folder"}},{path:"drag-drop",loadComponent:()=>Promise.all([A.e(1391),A.e(7988)]).then(A.bind(A,77988)).then(g=>g.DragDropComponent),title:"Drag-Drop",data:{hide:!0,icon:"folder"}},{path:"storage",loadComponent:()=>Promise.all([A.e(5571),A.e(6471),A.e(7848)]).then(A.bind(A,17848)).then(g=>g.StorageComponent),title:"Storage",data:{icon:"cloud"}},{path:"management",loadComponent:()=>Promise.all([A.e(6850),A.e(8864)]).then(A.bind(A,48864)).then(g=>g.ManagementComponent),title:"Management",data:{hide:!0,icon:"manage_accounts"}}];let b=(()=>{class g{constructor(a,v,I,F,se){this.doc=a,this.delegate=v,this.zone=I,this.animationType=F,this.moduleImpl=se,this._rendererFactoryPromise=null,this.scheduler=(0,x.WQX)(x.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??A.e(8008).then(A.bind(A,68008)).then(v=>v)).catch(v=>{throw new x.wOt(5300,!1)}).then(({\u0275createEngine:v,\u0275AnimationRendererFactory:I})=>{this._engine=v(this.animationType,this.doc);const F=new I(this.delegate,this._engine,this.zone);return this.delegate=F,F})}createRenderer(a,v){const I=this.delegate.createRenderer(a,v);if(0===I.\u0275type)return I;"boolean"==typeof I.throwOnSyntheticProps&&(I.throwOnSyntheticProps=!1);const F=new z(I);return v?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(se=>{const ye=se.createRenderer(a,v);F.use(ye),this.scheduler?.notify(9)}).catch(se=>{F.use(I)}),F}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static#e=this.\u0275fac=function(v){x.QTQ()};static#t=this.\u0275prov=x.jDH({token:g,factory:g.\u0275fac})}return g})();class z{constructor(s){this.delegate=s,this.replay=[],this.\u0275type=1}use(s){if(this.delegate=s,null!==this.replay){for(const a of this.replay)a(s);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(s,a){return this.delegate.createElement(s,a)}createComment(s){return this.delegate.createComment(s)}createText(s){return this.delegate.createText(s)}get destroyNode(){return this.delegate.destroyNode}appendChild(s,a){this.delegate.appendChild(s,a)}insertBefore(s,a,v,I){this.delegate.insertBefore(s,a,v,I)}removeChild(s,a,v){this.delegate.removeChild(s,a,v)}selectRootElement(s,a){return this.delegate.selectRootElement(s,a)}parentNode(s){return this.delegate.parentNode(s)}nextSibling(s){return this.delegate.nextSibling(s)}setAttribute(s,a,v,I){this.delegate.setAttribute(s,a,v,I)}removeAttribute(s,a,v){this.delegate.removeAttribute(s,a,v)}addClass(s,a){this.delegate.addClass(s,a)}removeClass(s,a){this.delegate.removeClass(s,a)}setStyle(s,a,v,I){this.delegate.setStyle(s,a,v,I)}removeStyle(s,a,v){this.delegate.removeStyle(s,a,v)}setProperty(s,a,v){this.shouldReplay(a)&&this.replay.push(I=>I.setProperty(s,a,v)),this.delegate.setProperty(s,a,v)}setValue(s,a){this.delegate.setValue(s,a)}listen(s,a,v){return this.shouldReplay(a)&&this.replay.push(I=>I.listen(s,a,v)),this.delegate.listen(s,a,v)}shouldReplay(s){return null!==this.replay&&s.startsWith("@")}}var Ae=A(59030),Be=A(18810),ft=A(33726),Yt=A(7673),Rt=A(28793),Vt=A(21413),dn=A(71985),Mn=A(85343);const En=new dn.c(Mn.l);var jn=A(57786),mn=A(96354),pn=A(25558),kt=A(30017),St=A(98071),an=A(58750),hn=A(39974);const Rr={connector:()=>new Vt.B};function Tt(g,s=Rr){const{connector:a}=s;return(0,hn.N)((v,I)=>{const F=a();(0,an.Tg)(g(function An(g){return new dn.c(s=>g.subscribe(s))}(F))).subscribe(I),I.add(v.subscribe(F))})}var st=A(96697),mt=A(88141),sn=A(91986);const Zt="Service workers are disabled or not supported by this browser";class cr{constructor(s){if(this.serviceWorker=s,s){const v=(0,ft.R)(s,"controllerchange").pipe((0,mn.T)(()=>s.controller)),I=(0,Ae.v)(()=>(0,Yt.of)(s.controller)),F=(0,Rt.x)(I,v);this.worker=F.pipe((0,he.p)(ut=>!!ut)),this.registration=this.worker.pipe((0,pn.n)(()=>s.getRegistration()));const ze=(0,ft.R)(s,"message").pipe((0,mn.T)(ut=>ut.data)).pipe((0,he.p)(ut=>ut&&ut.type)).pipe(function Lt(g){return g?s=>Tt(g)(s):s=>function Nt(g,s){const a=(0,St.T)(g)?g:()=>g;return(0,St.T)(s)?Tt(s,{connector:a}):v=>new kt.G(v,a)}(new Vt.B)(s)}());ze.connect(),this.events=ze}else this.worker=this.events=this.registration=function xn(g){return(0,Ae.v)(()=>(0,Be.$)(new Error(g)))}(Zt)}postMessage(s,a){return this.worker.pipe((0,st.s)(1),(0,mt.M)(v=>{v.postMessage({action:s,...a})})).toPromise().then(()=>{})}postMessageWithOperation(s,a,v){const I=this.waitForOperationCompleted(v),F=this.postMessage(s,a);return Promise.all([F,I]).then(([,se])=>se)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(s){let a;return a="string"==typeof s?v=>v.type===s:v=>s.includes(v.type),this.events.pipe((0,he.p)(a))}nextEventOfType(s){return this.eventsOfType(s).pipe((0,st.s)(1))}waitForOperationCompleted(s){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,he.p)(a=>a.nonce===s),(0,st.s)(1),(0,mn.T)(a=>{if(void 0!==a.result)return a.result;throw new Error(a.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let kn=(()=>{class g{get isEnabled(){return this.sw.isEnabled}constructor(a){if(this.sw=a,this.pushManager=null,this.subscriptionChanges=new Vt.B,!a.isEnabled)return this.messages=En,this.notificationClicks=En,void(this.subscription=En);this.messages=this.sw.eventsOfType("PUSH").pipe((0,mn.T)(I=>I.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,mn.T)(I=>I.data)),this.pushManager=this.sw.registration.pipe((0,mn.T)(I=>I.pushManager));const v=this.pushManager.pipe((0,pn.n)(I=>I.getSubscription()));this.subscription=(0,jn.h)(v,this.subscriptionChanges)}requestSubscription(a){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Zt));const v={userVisibleOnly:!0};let I=this.decodeBase64(a.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),F=new Uint8Array(new ArrayBuffer(I.length));for(let se=0;se<I.length;se++)F[se]=I.charCodeAt(se);return v.applicationServerKey=F,this.pushManager.pipe((0,pn.n)(se=>se.subscribe(v)),(0,st.s)(1)).toPromise().then(se=>(this.subscriptionChanges.next(se),se))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,st.s)(1),(0,pn.n)(v=>{if(null===v)throw new Error("Not subscribed to push notifications.");return v.unsubscribe().then(I=>{if(!I)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Zt))}decodeBase64(a){return atob(a)}static#e=this.\u0275fac=function(v){return new(v||g)(x.KVO(cr))};static#t=this.\u0275prov=x.jDH({token:g,factory:g.\u0275fac})}return g})(),zn=(()=>{class g{get isEnabled(){return this.sw.isEnabled}constructor(a){if(this.sw=a,!a.isEnabled)return this.versionUpdates=En,void(this.unrecoverable=En);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Zt));const a=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:a},a)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Zt));const a=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:a},a)}static#e=this.\u0275fac=function(v){return new(v||g)(x.KVO(cr))};static#t=this.\u0275prov=x.jDH({token:g,factory:g.\u0275fac})}return g})();const qr=new x.nKC("");function pr(g,s,a,v){return()=>{if(!(0,H.UE)(v)||!("serviceWorker"in navigator)||!1===a.enabled)return;const I=g.get(x.SKi),F=g.get(x.o8S);let se;if(I.runOutsideAngular(()=>{const ye=navigator.serviceWorker,Re=()=>ye.controller?.postMessage({action:"INITIALIZE"});ye.addEventListener("controllerchange",Re),F.onDestroy(()=>{ye.removeEventListener("controllerchange",Re)})}),"function"==typeof a.registrationStrategy)se=a.registrationStrategy();else{const[ye,...Re]=(a.registrationStrategy||"registerWhenStable:30000").split(":");switch(ye){case"registerImmediately":se=(0,Yt.of)(null);break;case"registerWithDelay":se=qn(+Re[0]||0);break;case"registerWhenStable":se=Re[0]?(0,jn.h)(Jt(g),qn(+Re[0])):Jt(g);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${a.registrationStrategy}`)}}I.runOutsideAngular(()=>se.pipe((0,st.s)(1)).subscribe(()=>navigator.serviceWorker.register(s,{scope:a.scope}).catch(ye=>console.error("Service worker registration failed with:",ye))))}}function qn(g){return(0,Yt.of)(null).pipe((0,sn.c)(g))}function Jt(g){return g.get(x.o8S).isStable.pipe((0,he.p)(a=>a))}function dt(g,s){return new cr((0,H.UE)(s)&&!1!==g.enabled?navigator.serviceWorker:void 0)}class Ne{}const Kn={providers:[(0,A(21626).$R)(),(0,x.Jn2)({eventCoalescing:!0}),(0,N.lh)(K,(0,N.Sn)(N.Kp)),function le(g="animations"){return(0,x.ngT)("NgAsyncAnimations"),(0,x.EmA)([{provide:x._9s,useFactory:(s,a,v)=>new b(s,a,v,g),deps:[H.qQ,h.B7,x.SKi]},{provide:x.bc$,useValue:"noop"===g?"NoopAnimations":"BrowserAnimations"}])}(),function We(g,s={}){return(0,x.EmA)([kn,zn,{provide:qr,useValue:g},{provide:Ne,useValue:s},{provide:cr,useFactory:dt,deps:[Ne,x.Agw]},{provide:x.hnV,useFactory:pr,deps:[x.zZn,qr,Ne,x.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,x.naY)(),registrationStrategy:"registerWhenStable:30000"})]};var ir=A(99327),hr=A(67333),Wr=A(86600),Vr=A(18617),ti=A(28203),ni=A(14085),Ei=A(67336),yn=A(36860),Pn=A(73703),Nn=A(56977),tr=A(23294),Dr=A(99172),Hr=A(70152),Ur=A(49969);const li=["*"],ui=["content"],Mi=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],ls=["mat-drawer","mat-drawer-content","*"];function Ji(g,s){if(1&g){const a=x.RV6();x.j41(0,"div",1),x.bIt("click",function(){x.eBV(a);const I=x.XpG();return x.Njj(I._onBackdropClicked())}),x.k0s()}if(2&g){const a=x.XpG();x.AVh("mat-drawer-shown",a._isShowingBackdrop())}}function bs(g,s){1&g&&(x.j41(0,"mat-drawer-content"),x.SdG(1,2),x.k0s())}const As=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Js=["mat-sidenav","mat-sidenav-content","*"];function Eo(g,s){if(1&g){const a=x.RV6();x.j41(0,"div",1),x.bIt("click",function(){x.eBV(a);const I=x.XpG();return x.Njj(I._onBackdropClicked())}),x.k0s()}if(2&g){const a=x.XpG();x.AVh("mat-drawer-shown",a._isShowingBackdrop())}}function qi(g,s){1&g&&(x.j41(0,"mat-sidenav-content"),x.SdG(1,2),x.k0s())}const Fc={transformDrawer:(0,Ur.hZ)("transform",[(0,Ur.wk)("open, open-instant",(0,Ur.iF)({transform:"none",visibility:"visible"})),(0,Ur.wk)("void",(0,Ur.iF)({"box-shadow":"none",visibility:"hidden"})),(0,Ur.kY)("void => open-instant",(0,Ur.i0)("0ms")),(0,Ur.kY)("void <=> open, open-instant => void",(0,Ur.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},ca=new x.nKC("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function ws(){return!1}}),Fa=new x.nKC("MAT_DRAWER_CONTAINER");let yo=(()=>{class g extends hr.uv{constructor(a,v,I,F,se){super(I,F,se),this._changeDetectorRef=a,this._container=v}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(v){return new(v||g)(x.rXU(x.gRc),x.rXU((0,x.Rfq)(()=>nc)),x.rXU(x.aKT),x.rXU(hr.R),x.rXU(x.SKi))};static#t=this.\u0275cmp=x.VBU({type:g,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(v,I){2&v&&x.xc7("margin-left",I._container._contentMargins.left,"px")("margin-right",I._container._contentMargins.right,"px")},standalone:!0,features:[x.Jv_([{provide:hr.uv,useExisting:g}]),x.Vt3,x.aNF],ngContentSelectors:li,decls:1,vars:0,template:function(v,I){1&v&&(x.NAR(),x.SdG(0))},encapsulation:2,changeDetection:0})}return g})(),la=(()=>{class g{get position(){return this._position}set position(a){(a="end"===a?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(a),this._position=a,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(a){this._mode=a,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(a){this._disableClose=(0,ni.he)(a)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(a){("true"===a||"false"===a||null==a)&&(a=(0,ni.he)(a)),this._autoFocus=a}get opened(){return this._opened}set opened(a){this.toggle((0,ni.he)(a))}constructor(a,v,I,F,se,ye,Re,ze){this._elementRef=a,this._focusTrapFactory=v,this._focusMonitor=I,this._platform=F,this._ngZone=se,this._interactivityChecker=ye,this._doc=Re,this._container=ze,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Vt.B,this._animationEnd=new Vt.B,this._animationState="void",this.openedChange=new x.bkB(!0),this._openedStream=this.openedChange.pipe((0,he.p)(ut=>ut),(0,mn.T)(()=>{})),this.openedStart=this._animationStarted.pipe((0,he.p)(ut=>ut.fromState!==ut.toState&&0===ut.toState.indexOf("open")),(0,Pn.u)(void 0)),this._closedStream=this.openedChange.pipe((0,he.p)(ut=>!ut),(0,mn.T)(()=>{})),this.closedStart=this._animationStarted.pipe((0,he.p)(ut=>ut.fromState!==ut.toState&&"void"===ut.toState),(0,Pn.u)(void 0)),this._destroyed=new Vt.B,this.onPositionChanged=new x.bkB,this._modeChanged=new Vt.B,this._injector=(0,x.WQX)(x.zZn),this._changeDetectorRef=(0,x.WQX)(x.gRc),this.openedChange.pipe((0,Nn.Q)(this._destroyed)).subscribe(ut=>{ut?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,ft.R)(this._elementRef.nativeElement,"keydown").pipe((0,he.p)(ut=>ut.keyCode===Ei._f&&!this.disableClose&&!(0,Ei.rp)(ut)),(0,Nn.Q)(this._destroyed)).subscribe(ut=>this._ngZone.run(()=>{this.close(),ut.stopPropagation(),ut.preventDefault()}))}),this._animationEnd.pipe((0,tr.F)((ut,wt)=>ut.fromState===wt.fromState&&ut.toState===wt.toState)).subscribe(ut=>{const{fromState:wt,toState:jt}=ut;(0===jt.indexOf("open")&&"void"===wt||"void"===jt&&0===wt.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(a,v){this._interactivityChecker.isFocusable(a)||(a.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const I=()=>{a.removeEventListener("blur",I),a.removeEventListener("mousedown",I),a.removeAttribute("tabindex")};a.addEventListener("blur",I),a.addEventListener("mousedown",I)})),a.focus(v)}_focusByCssSelector(a,v){let I=this._elementRef.nativeElement.querySelector(a);I&&this._forceFocus(I,v)}_takeFocus(){if(!this._focusTrap)return;const a=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":(0,x.mal)(()=>{!this._focusTrap.focusInitialElement()&&"function"==typeof a.focus&&a.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(a){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,a):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const a=this._doc.activeElement;return!!a&&this._elementRef.nativeElement.contains(a)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(a){return this.toggle(!0,a)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(a=!this.opened,v){a&&v&&(this._openedVia=v);const I=this._setOpen(a,!a&&this._isFocusWithinDrawer(),this._openedVia||"program");return a||(this._openedVia=null),I}_setOpen(a,v,I){return this._opened=a,a?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",v&&this._restoreFocus(I)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(F=>{this.openedChange.pipe((0,st.s)(1)).subscribe(se=>F(se?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(a){if(!this._platform.isBrowser)return;const v=this._elementRef.nativeElement,I=v.parentNode;"end"===a?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),I.insertBefore(this._anchor,v)),I.appendChild(v)):this._anchor&&this._anchor.parentNode.insertBefore(v,this._anchor)}static#e=this.\u0275fac=function(v){return new(v||g)(x.rXU(x.aKT),x.rXU(Vr.GX),x.rXU(Vr.FN),x.rXU(yn.OD),x.rXU(x.SKi),x.rXU(Vr.Z7),x.rXU(H.qQ,8),x.rXU(Fa,8))};static#t=this.\u0275cmp=x.VBU({type:g,selectors:[["mat-drawer"]],viewQuery:function(v,I){if(1&v&&x.GBs(ui,5),2&v){let F;x.mGM(F=x.lsd())&&(I._content=F.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(v,I){1&v&&x.Kam("@transform.start",function(se){return I._animationStarted.next(se)})("@transform.done",function(se){return I._animationEnd.next(se)}),2&v&&(x.zvX("@transform",I._animationState),x.BMQ("align",null),x.AVh("mat-drawer-end","end"===I.position)("mat-drawer-over","over"===I.mode)("mat-drawer-push","push"===I.mode)("mat-drawer-side","side"===I.mode)("mat-drawer-opened",I.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[x.aNF],ngContentSelectors:li,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(v,I){1&v&&(x.NAR(),x.j41(0,"div",1,0),x.SdG(2),x.k0s())},dependencies:[hr.uv],encapsulation:2,data:{animation:[Fc.transformDrawer]},changeDetection:0})}return g})(),nc=(()=>{class g{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(a){this._autosize=(0,ni.he)(a)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(a){this._backdropOverride=null==a?null:(0,ni.he)(a)}get scrollable(){return this._userContent||this._content}constructor(a,v,I,F,se,ye=!1,Re){this._dir=a,this._element=v,this._ngZone=I,this._changeDetectorRef=F,this._animationMode=Re,this._drawers=new x.rOR,this.backdropClick=new x.bkB,this._destroyed=new Vt.B,this._doCheckSubject=new Vt.B,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Vt.B,this._injector=(0,x.WQX)(x.zZn),a&&a.change.pipe((0,Nn.Q)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),se.change().pipe((0,Nn.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=ye}ngAfterContentInit(){this._allDrawers.changes.pipe((0,Dr.Z)(this._allDrawers),(0,Nn.Q)(this._destroyed)).subscribe(a=>{this._drawers.reset(a.filter(v=>!v._container||v._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,Dr.Z)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(a=>{this._watchDrawerToggle(a),this._watchDrawerPosition(a),this._watchDrawerMode(a)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Hr.B)(10),(0,Nn.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(a=>a.open())}close(){this._drawers.forEach(a=>a.close())}updateContentMargins(){let a=0,v=0;if(this._left&&this._left.opened)if("side"==this._left.mode)a+=this._left._getWidth();else if("push"==this._left.mode){const I=this._left._getWidth();a+=I,v-=I}if(this._right&&this._right.opened)if("side"==this._right.mode)v+=this._right._getWidth();else if("push"==this._right.mode){const I=this._right._getWidth();v+=I,a-=I}a=a||null,v=v||null,(a!==this._contentMargins.left||v!==this._contentMargins.right)&&(this._contentMargins={left:a,right:v},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(a){a._animationStarted.pipe((0,he.p)(v=>v.fromState!==v.toState),(0,Nn.Q)(this._drawers.changes)).subscribe(v=>{"open-instant"!==v.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==a.mode&&a.openedChange.pipe((0,Nn.Q)(this._drawers.changes)).subscribe(()=>this._setContainerClass(a.opened))}_watchDrawerPosition(a){a&&a.onPositionChanged.pipe((0,Nn.Q)(this._drawers.changes)).subscribe(()=>{(0,x.mal)(()=>{this._validateDrawers()},{injector:this._injector,phase:x.wjH.Read})})}_watchDrawerMode(a){a&&a._modeChanged.pipe((0,Nn.Q)((0,jn.h)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(a){const v=this._element.nativeElement.classList,I="mat-drawer-container-has-open";a?v.add(I):v.remove(I)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(a=>{"end"==a.position?this._end=a:this._start=a}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(a=>a&&!a.disableClose&&this._drawerHasBackdrop(a)).forEach(a=>a._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(a){return null!=a&&a.opened}_drawerHasBackdrop(a){return null==this._backdropOverride?!!a&&"side"!==a.mode:this._backdropOverride}static#e=this.\u0275fac=function(v){return new(v||g)(x.rXU(ti.dS,8),x.rXU(x.aKT),x.rXU(x.SKi),x.rXU(x.gRc),x.rXU(hr.Xj),x.rXU(ca),x.rXU(x.bc$,8))};static#t=this.\u0275cmp=x.VBU({type:g,selectors:[["mat-drawer-container"]],contentQueries:function(v,I,F){if(1&v&&(x.wni(F,yo,5),x.wni(F,la,5)),2&v){let se;x.mGM(se=x.lsd())&&(I._content=se.first),x.mGM(se=x.lsd())&&(I._allDrawers=se)}},viewQuery:function(v,I){if(1&v&&x.GBs(yo,5),2&v){let F;x.mGM(F=x.lsd())&&(I._userContent=F.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(v,I){2&v&&x.AVh("mat-drawer-container-explicit-backdrop",I._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[x.Jv_([{provide:Fa,useExisting:g}]),x.aNF],ngContentSelectors:ls,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(v,I){1&v&&(x.NAR(Mi),x.DNE(0,Ji,1,2,"div",0),x.SdG(1),x.SdG(2,1),x.DNE(3,bs,2,0,"mat-drawer-content")),2&v&&(x.vxM(I.hasBackdrop?0:-1),x.R7$(3),x.vxM(I._content?-1:3))},dependencies:[yo],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return g})(),Cc=(()=>{class g extends yo{constructor(a,v,I,F,se){super(a,v,I,F,se)}static#e=this.\u0275fac=function(v){return new(v||g)(x.rXU(x.gRc),x.rXU((0,x.Rfq)(()=>Wc)),x.rXU(x.aKT),x.rXU(hr.R),x.rXU(x.SKi))};static#t=this.\u0275cmp=x.VBU({type:g,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(v,I){2&v&&x.xc7("margin-left",I._container._contentMargins.left,"px")("margin-right",I._container._contentMargins.right,"px")},standalone:!0,features:[x.Jv_([{provide:hr.uv,useExisting:g}]),x.Vt3,x.aNF],ngContentSelectors:li,decls:1,vars:0,template:function(v,I){1&v&&(x.NAR(),x.SdG(0))},encapsulation:2,changeDetection:0})}return g})(),gd=(()=>{class g extends la{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(a){this._fixedInViewport=(0,ni.he)(a)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(a){this._fixedTopGap=(0,ni.OE)(a)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(a){this._fixedBottomGap=(0,ni.OE)(a)}static#e=this.\u0275fac=(()=>{let a;return function(I){return(a||(a=x.xGo(g)))(I||g)}})();static#t=this.\u0275cmp=x.VBU({type:g,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(v,I){2&v&&(x.BMQ("align",null),x.xc7("top",I.fixedInViewport?I.fixedTopGap:null,"px")("bottom",I.fixedInViewport?I.fixedBottomGap:null,"px"),x.AVh("mat-drawer-end","end"===I.position)("mat-drawer-over","over"===I.mode)("mat-drawer-push","push"===I.mode)("mat-drawer-side","side"===I.mode)("mat-drawer-opened",I.opened)("mat-sidenav-fixed",I.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[x.Vt3,x.aNF],ngContentSelectors:li,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(v,I){1&v&&(x.NAR(),x.j41(0,"div",1,0),x.SdG(2),x.k0s())},dependencies:[hr.uv],encapsulation:2,data:{animation:[Fc.transformDrawer]},changeDetection:0})}return g})(),Wc=(()=>{class g extends nc{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let a;return function(I){return(a||(a=x.xGo(g)))(I||g)}})();static#t=this.\u0275cmp=x.VBU({type:g,selectors:[["mat-sidenav-container"]],contentQueries:function(v,I,F){if(1&v&&(x.wni(F,Cc,5),x.wni(F,gd,5)),2&v){let se;x.mGM(se=x.lsd())&&(I._content=se.first),x.mGM(se=x.lsd())&&(I._allDrawers=se)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(v,I){2&v&&x.AVh("mat-drawer-container-explicit-backdrop",I._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[x.Jv_([{provide:Fa,useExisting:g}]),x.Vt3,x.aNF],ngContentSelectors:Js,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(v,I){1&v&&(x.NAR(As),x.DNE(0,Eo,1,2,"div",0),x.SdG(1),x.SdG(2,1),x.DNE(3,qi,2,0,"mat-sidenav-content")),2&v&&(x.vxM(I.hasBackdrop?0:-1),x.R7$(3),x.vxM(I._content?-1:3))},dependencies:[Cc],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return g})(),fh=(()=>{class g{static#e=this.\u0275fac=function(v){return new(v||g)};static#t=this.\u0275mod=x.$C({type:g});static#n=this.\u0275inj=x.G2t({imports:[Wr.yE,hr.Gj,hr.Gj,Wr.yE]})}return g})();var hh=A(44668),bc=A(43794),Lf=A(40605);let Dp=(()=>{class g{constructor(a,v){this.swUpdate=a,this.zone=v,this.isNewVersionAvailable=!1,this.intervalSource=(0,Lf.Y)(9e5),this.checkForUpdateOnInterval(),this.checkForUpdateOnLoad()}applyUpdate(){this.swUpdate.activateUpdate().then(()=>document.location.reload()).catch(a=>console.error("Failed to apply updates:",a))}checkForUpdateOnInterval(){var a=this;this.intervalSubscription?.unsubscribe(),this.swUpdate.isEnabled&&this.zone.runOutsideAngular(()=>{this.intervalSubscription=this.intervalSource.subscribe((0,Y.A)(function*(){if(a.isNewVersionAvailable)yield a.swUpdate.checkForUpdate();else try{a.isNewVersionAvailable=yield a.swUpdate.checkForUpdate(),console.log(a.isNewVersionAvailable?"A new version is available.":"Already on the latest version.")}catch(v){console.error("Failed to check for updates:",v)}}))})}checkForUpdateOnLoad(){this.newVersionSubscription?.unsubscribe(),this.swUpdate.isEnabled?(this.newVersionSubscription=this.swUpdate.versionUpdates.subscribe(a=>{switch(console.log("New version update event:"),console.log(a),a.type){case"VERSION_DETECTED":console.log(`Downloading new app version: ${a.version.hash}`);break;case"VERSION_READY":console.log(`Current app version: ${a.currentVersion.hash}`),console.log(`New app version ready for use: ${a.latestVersion.hash}`),this.isNewVersionAvailable=!0;break;case"VERSION_INSTALLATION_FAILED":console.log(`Failed to install app version '${a.version.hash}': ${a.error}`)}}),console.log("Subscribed to new version updates.")):console.log("Service worker updates are disabled for this app.")}static#e=this.\u0275fac=function(v){return new(v||g)(x.KVO(zn),x.KVO(x.SKi))};static#t=this.\u0275prov=x.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();var jd=A(33347),Ff=A(39434),Mc=A(78013);var fu=function(){var g=function(a,v){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var se in F)Object.prototype.hasOwnProperty.call(F,se)&&(I[se]=F[se])})(a,v)};return function(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),$d=function(g){function s(a,v){var I=this.constructor,F=g.call(this,a,v)||this;return Object.defineProperty(F,"name",{value:I.name,enumerable:!1,configurable:!0}),function gl(g,s){var a=Object.setPrototypeOf;a?a(g,s):g.__proto__=s}(F,I.prototype),function Ic(g,s){void 0===s&&(s=g.constructor);var a=Error.captureStackTrace;a&&a(g,s)}(F),F}return fu(s,g),s}(Error),Wl=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Ns=function(g){function s(a){void 0===a&&(a=void 0);var v=g.call(this,a)||this;return v.message=a,v}return Wl(s,g),s.prototype.getKind=function(){return this.constructor.kind},s.kind="Exception",s}($d);var Kd=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Oi=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return Kd(s,g),s.kind="ArgumentException",s}(Ns);var Yo=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const xi=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return Yo(s,g),s.kind="IllegalArgumentException",s}(Ns),qs=function(){function g(s){if(this.binarizer=s,null===s)throw new xi("Binarizer must be non-null.")}return g.prototype.getWidth=function(){return this.binarizer.getWidth()},g.prototype.getHeight=function(){return this.binarizer.getHeight()},g.prototype.getBlackRow=function(s,a){return this.binarizer.getBlackRow(s,a)},g.prototype.getBlackMatrix=function(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},g.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},g.prototype.crop=function(s,a,v,I){var F=this.binarizer.getLuminanceSource().crop(s,a,v,I);return new g(this.binarizer.createBinarizer(F))},g.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},g.prototype.rotateCounterClockwise=function(){var s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new g(this.binarizer.createBinarizer(s))},g.prototype.rotateCounterClockwise45=function(){var s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new g(this.binarizer.createBinarizer(s))},g.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},g}();var Gl=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const pa=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return Gl(s,g),s.getChecksumInstance=function(){return new s},s.kind="ChecksumException",s}(Ns),vl=function(){function g(s){this.source=s}return g.prototype.getLuminanceSource=function(){return this.source},g.prototype.getWidth=function(){return this.source.getWidth()},g.prototype.getHeight=function(){return this.source.getHeight()},g}(),kr=function(){function g(){}return g.arraycopy=function(s,a,v,I,F){for(;F--;)v[I++]=s[a++]},g.currentTimeMillis=function(){return Date.now()},g}();var lo=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const ds=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return lo(s,g),s.kind="IndexOutOfBoundsException",s}(Ns);var oc=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const bd=function(g){function s(a,v){void 0===a&&(a=void 0),void 0===v&&(v=void 0);var I=g.call(this,v)||this;return I.index=a,I.message=v,I}return oc(s,g),s.kind="ArrayIndexOutOfBoundsException",s}(ds),ro=function(){function g(){}return g.fill=function(s,a){for(var v=0,I=s.length;v<I;v++)s[v]=a},g.fillWithin=function(s,a,v,I){g.rangeCheck(s.length,a,v);for(var F=a;F<v;F++)s[F]=I},g.rangeCheck=function(s,a,v){if(a>v)throw new xi("fromIndex("+a+") > toIndex("+v+")");if(a<0)throw new bd(a);if(v>s)throw new bd(v)},g.asList=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return s},g.create=function(s,a,v){return Array.from({length:s}).map(function(F){return Array.from({length:a}).fill(v)})},g.createInt32Array=function(s,a,v){return Array.from({length:s}).map(function(F){return Int32Array.from({length:a}).fill(v)})},g.equals=function(s,a){if(!(s&&a&&s.length&&a.length&&s.length===a.length))return!1;for(var v=0,I=s.length;v<I;v++)if(s[v]!==a[v])return!1;return!0},g.hashCode=function(s){var a,v;if(null===s)return 0;var I=1;try{for(var F=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),se=F.next();!se.done;se=F.next())I=31*I+se.value}catch(Re){a={error:Re}}finally{try{se&&!se.done&&(v=F.return)&&v.call(F)}finally{if(a)throw a.error}}return I},g.fillUint8Array=function(s,a){for(var v=0;v!==s.length;v++)s[v]=a},g.copyOf=function(s,a){return s.slice(0,a)},g.copyOfUint8Array=function(s,a){if(s.length<=a){var v=new Uint8Array(a);return v.set(s),v}return s.slice(0,a)},g.copyOfRange=function(s,a,v){var I=v-a,F=new Int32Array(I);return kr.arraycopy(s,a,F,0,I),F},g.binarySearch=function(s,a,v){void 0===v&&(v=g.numberComparator);for(var I=0,F=s.length-1;I<=F;){var se=F+I>>1,ye=v(a,s[se]);if(ye>0)I=se+1;else{if(!(ye<0))return se;F=se-1}}return-I-1},g.numberComparator=function(s,a){return s-a},g}(),zi=function(){function g(){}return g.numberOfTrailingZeros=function(s){var a;if(0===s)return 32;var v=31;return 0!=(a=s<<16)&&(v-=16,s=a),0!=(a=s<<8)&&(v-=8,s=a),0!=(a=s<<4)&&(v-=4,s=a),0!=(a=s<<2)&&(v-=2,s=a),v-(s<<1>>>31)},g.numberOfLeadingZeros=function(s){if(0===s)return 32;var a=1;return s>>>16||(a+=16,s<<=16),s>>>24||(a+=8,s<<=8),s>>>28||(a+=4,s<<=4),s>>>30||(a+=2,s<<=2),a-(s>>>31)},g.toHexString=function(s){return s.toString(16)},g.toBinaryString=function(s){return String(parseInt(String(s),2))},g.bitCount=function(s){return s=(s=(858993459&(s-=s>>>1&1431655765))+(s>>>2&858993459))+(s>>>4)&252645135,63&(s+=s>>>8)+(s>>>16)},g.truncDivision=function(s,a){return Math.trunc(s/a)},g.parseInt=function(s,a){return void 0===a&&(a=void 0),parseInt(s,a)},g.MIN_VALUE_32_BITS=-2147483648,g.MAX_VALUE=Number.MAX_SAFE_INTEGER,g}(),Bo=function(){function g(s,a){void 0===s?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,this.bits=null==a?g.makeArray(s):a)}return g.prototype.getSize=function(){return this.size},g.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},g.prototype.ensureCapacity=function(s){if(s>32*this.bits.length){var a=g.makeArray(s);kr.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}},g.prototype.get=function(s){return!!(this.bits[Math.floor(s/32)]&1<<(31&s))},g.prototype.set=function(s){this.bits[Math.floor(s/32)]|=1<<(31&s)},g.prototype.flip=function(s){this.bits[Math.floor(s/32)]^=1<<(31&s)},g.prototype.getNextSet=function(s){var a=this.size;if(s>=a)return a;var v=this.bits,I=Math.floor(s/32),F=v[I];F&=~((1<<(31&s))-1);for(var se=v.length;0===F;){if(++I===se)return a;F=v[I]}var ye=32*I+zi.numberOfTrailingZeros(F);return ye>a?a:ye},g.prototype.getNextUnset=function(s){var a=this.size;if(s>=a)return a;var v=this.bits,I=Math.floor(s/32),F=~v[I];F&=~((1<<(31&s))-1);for(var se=v.length;0===F;){if(++I===se)return a;F=~v[I]}var ye=32*I+zi.numberOfTrailingZeros(F);return ye>a?a:ye},g.prototype.setBulk=function(s,a){this.bits[Math.floor(s/32)]=a},g.prototype.setRange=function(s,a){if(a<s||s<0||a>this.size)throw new xi;if(a!==s){a--;for(var v=Math.floor(s/32),I=Math.floor(a/32),F=this.bits,se=v;se<=I;se++)F[se]|=(2<<(se<I?31:31&a))-(1<<(se>v?0:31&s))}},g.prototype.clear=function(){for(var s=this.bits.length,a=this.bits,v=0;v<s;v++)a[v]=0},g.prototype.isRange=function(s,a,v){if(a<s||s<0||a>this.size)throw new xi;if(a===s)return!0;a--;for(var I=Math.floor(s/32),F=Math.floor(a/32),se=this.bits,ye=I;ye<=F;ye++){var ut=(2<<(ye<F?31:31&a))-(1<<(ye>I?0:31&s))&4294967295;if((se[ye]&ut)!==(v?ut:0))return!1}return!0},g.prototype.appendBit=function(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},g.prototype.appendBits=function(s,a){if(a<0||a>32)throw new xi("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(var v=a;v>0;v--)this.appendBit(1==(s>>v-1&1))},g.prototype.appendBitArray=function(s){var a=s.size;this.ensureCapacity(this.size+a);for(var v=0;v<a;v++)this.appendBit(s.get(v))},g.prototype.xor=function(s){if(this.size!==s.size)throw new xi("Sizes don't match");for(var a=this.bits,v=0,I=a.length;v<I;v++)a[v]^=s.bits[v]},g.prototype.toBytes=function(s,a,v,I){for(var F=0;F<I;F++){for(var se=0,ye=0;ye<8;ye++)this.get(s)&&(se|=1<<7-ye),s++;a[v+F]=se}},g.prototype.getBitArray=function(){return this.bits},g.prototype.reverse=function(){for(var s=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),v=a+1,I=this.bits,F=0;F<v;F++){var se=I[F];s[a-F]=se=(se=(se=(se=(se=se>>1&1431655765|(1431655765&se)<<1)>>2&858993459|(858993459&se)<<2)>>4&252645135|(252645135&se)<<4)>>8&16711935|(16711935&se)<<8)>>16&65535|(65535&se)<<16}if(this.size!==32*v){var ye=32*v-this.size,Re=s[0]>>>ye;for(F=1;F<v;F++){var ze=s[F];s[F-1]=Re|=ze<<32-ye,Re=ze>>>ye}s[v-1]=Re}this.bits=s},g.makeArray=function(s){return new Int32Array(Math.floor((s+31)/32))},g.prototype.equals=function(s){return s instanceof g&&(this.size===s.size&&ro.equals(this.bits,s.bits))},g.prototype.hashCode=function(){return 31*this.size+ro.hashCode(this.bits)},g.prototype.toString=function(){for(var s="",a=0,v=this.size;a<v;a++)7&a||(s+=" "),s+=this.get(a)?"X":".";return s},g.prototype.clone=function(){return new g(this.size,this.bits.slice())},g.prototype.toArray=function(){for(var s=[],a=0,v=this.size;a<v;a++)s.push(this.get(a));return s},g}();var Xl=function(g){return g[g.OTHER=0]="OTHER",g[g.PURE_BARCODE=1]="PURE_BARCODE",g[g.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",g[g.TRY_HARDER=3]="TRY_HARDER",g[g.CHARACTER_SET=4]="CHARACTER_SET",g[g.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",g[g.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",g[g.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",g[g.ASSUME_GS1=8]="ASSUME_GS1",g[g.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",g[g.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",g[g.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS",g}(Xl||{});const wi=Xl;var Uc=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const jr=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return Uc(s,g),s.getFormatInstance=function(){return new s},s.kind="FormatException",s}(Ns);var Li=function(g){return g[g.Cp437=0]="Cp437",g[g.ISO8859_1=1]="ISO8859_1",g[g.ISO8859_2=2]="ISO8859_2",g[g.ISO8859_3=3]="ISO8859_3",g[g.ISO8859_4=4]="ISO8859_4",g[g.ISO8859_5=5]="ISO8859_5",g[g.ISO8859_6=6]="ISO8859_6",g[g.ISO8859_7=7]="ISO8859_7",g[g.ISO8859_8=8]="ISO8859_8",g[g.ISO8859_9=9]="ISO8859_9",g[g.ISO8859_10=10]="ISO8859_10",g[g.ISO8859_11=11]="ISO8859_11",g[g.ISO8859_13=12]="ISO8859_13",g[g.ISO8859_14=13]="ISO8859_14",g[g.ISO8859_15=14]="ISO8859_15",g[g.ISO8859_16=15]="ISO8859_16",g[g.SJIS=16]="SJIS",g[g.Cp1250=17]="Cp1250",g[g.Cp1251=18]="Cp1251",g[g.Cp1252=19]="Cp1252",g[g.Cp1256=20]="Cp1256",g[g.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",g[g.UTF8=22]="UTF8",g[g.ASCII=23]="ASCII",g[g.Big5=24]="Big5",g[g.GB18030=25]="GB18030",g[g.EUC_KR=26]="EUC_KR",g}(Li||{});const Ma=function(){function g(s,a,v){for(var I,F,se=[],ye=3;ye<arguments.length;ye++)se[ye-3]=arguments[ye];this.valueIdentifier=s,this.name=v,this.values="number"==typeof a?Int32Array.from([a]):a,this.otherEncodingNames=se,g.VALUE_IDENTIFIER_TO_ECI.set(s,this),g.NAME_TO_ECI.set(v,this);for(var Re=this.values,ze=0,ut=Re.length;ze!==ut;ze++)g.VALUES_TO_ECI.set(Re[ze],this);try{for(var jt=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),Kt=jt.next();!Kt.done;Kt=jt.next())g.NAME_TO_ECI.set(Kt.value,this)}catch(On){I={error:On}}finally{try{Kt&&!Kt.done&&(F=jt.return)&&F.call(jt)}finally{if(I)throw I.error}}}return g.prototype.getValueIdentifier=function(){return this.valueIdentifier},g.prototype.getName=function(){return this.name},g.prototype.getValue=function(){return this.values[0]},g.getCharacterSetECIByValue=function(s){if(s<0||s>=900)throw new jr("incorect value");var a=g.VALUES_TO_ECI.get(s);if(void 0===a)throw new jr("incorect value");return a},g.getCharacterSetECIByName=function(s){var a=g.NAME_TO_ECI.get(s);if(void 0===a)throw new jr("incorect value");return a},g.prototype.equals=function(s){if(!(s instanceof g))return!1;var a=s;return this.getName()===a.getName()},g.VALUE_IDENTIFIER_TO_ECI=new Map,g.VALUES_TO_ECI=new Map,g.NAME_TO_ECI=new Map,g.Cp437=new g(Li.Cp437,Int32Array.from([0,2]),"Cp437"),g.ISO8859_1=new g(Li.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),g.ISO8859_2=new g(Li.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),g.ISO8859_3=new g(Li.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),g.ISO8859_4=new g(Li.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),g.ISO8859_5=new g(Li.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),g.ISO8859_6=new g(Li.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),g.ISO8859_7=new g(Li.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),g.ISO8859_8=new g(Li.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),g.ISO8859_9=new g(Li.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),g.ISO8859_10=new g(Li.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),g.ISO8859_11=new g(Li.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),g.ISO8859_13=new g(Li.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),g.ISO8859_14=new g(Li.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),g.ISO8859_15=new g(Li.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),g.ISO8859_16=new g(Li.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),g.SJIS=new g(Li.SJIS,20,"SJIS","Shift_JIS"),g.Cp1250=new g(Li.Cp1250,21,"Cp1250","windows-1250"),g.Cp1251=new g(Li.Cp1251,22,"Cp1251","windows-1251"),g.Cp1252=new g(Li.Cp1252,23,"Cp1252","windows-1252"),g.Cp1256=new g(Li.Cp1256,24,"Cp1256","windows-1256"),g.UnicodeBigUnmarked=new g(Li.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),g.UTF8=new g(Li.UTF8,26,"UTF8","UTF-8"),g.ASCII=new g(Li.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),g.Big5=new g(Li.Big5,28,"Big5"),g.GB18030=new g(Li.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),g.EUC_KR=new g(Li.EUC_KR,30,"EUC_KR","EUC-KR"),g}();var pu=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Fi=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return pu(s,g),s.kind="UnsupportedOperationException",s}(Ns),ea=function(){function g(){}return g.decode=function(s,a){var v=this.encodingName(a);return this.customDecoder?this.customDecoder(s,v):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(v)?this.decodeFallback(s,v):new TextDecoder(v).decode(s)},g.shouldDecodeOnFallback=function(s){return!g.isBrowser()&&"ISO-8859-1"===s},g.encode=function(s,a){var v=this.encodingName(a);return this.customEncoder?this.customEncoder(s,v):typeof TextEncoder>"u"?this.encodeFallback(s):(new TextEncoder).encode(s)},g.isBrowser=function(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)},g.encodingName=function(s){return"string"==typeof s?s:s.getName()},g.encodingCharacterSet=function(s){return s instanceof Ma?s:Ma.getCharacterSetECIByName(s)},g.decodeFallback=function(s,a){var v=this.encodingCharacterSet(a);if(g.isDecodeFallbackSupported(v)){for(var I="",F=0,se=s.length;F<se;F++){var ye=s[F].toString(16);ye.length<2&&(ye="0"+ye),I+="%"+ye}return decodeURIComponent(I)}if(v.equals(Ma.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new Fi("Encoding "+this.encodingName(a)+" not supported by fallback.")},g.isDecodeFallbackSupported=function(s){return s.equals(Ma.UTF8)||s.equals(Ma.ISO8859_1)||s.equals(Ma.ASCII)},g.encodeFallback=function(s){for(var v=btoa(unescape(encodeURIComponent(s))).split(""),I=[],F=0;F<v.length;F++)I.push(v[F].charCodeAt(0));return new Uint8Array(I)},g}(),No=function(){function g(){}return g.castAsNonUtf8Char=function(s,a){void 0===a&&(a=null);var v=a?a.getName():this.ISO88591;return ea.decode(new Uint8Array([s]),v)},g.guessEncoding=function(s,a){if(null!=a&&void 0!==a.get(wi.CHARACTER_SET))return a.get(wi.CHARACTER_SET).toString();for(var v=s.length,I=!0,F=!0,se=!0,ye=0,Re=0,ze=0,ut=0,wt=0,jt=0,Kt=0,_n=0,On=0,nr=0,rr=0,er=s.length>3&&239===s[0]&&187===s[1]&&191===s[2],fr=0;fr<v&&(I||F||se);fr++){var Tr=255&s[fr];se&&(ye>0?128&Tr?ye--:se=!1:128&Tr&&(64&Tr?(ye++,32&Tr?(ye++,16&Tr?(ye++,8&Tr?se=!1:ut++):ze++):Re++):se=!1)),I&&(Tr>127&&Tr<160?I=!1:Tr>159&&(Tr<192||215===Tr||247===Tr)&&rr++),F&&(wt>0?Tr<64||127===Tr||Tr>252?F=!1:wt--:128===Tr||160===Tr||Tr>239?F=!1:Tr>160&&Tr<224?(jt++,_n=0,++Kt>On&&(On=Kt)):Tr>127?(wt++,Kt=0,++_n>nr&&(nr=_n)):(Kt=0,_n=0))}return se&&ye>0&&(se=!1),F&&wt>0&&(F=!1),se&&(er||Re+ze+ut>0)?g.UTF8:F&&(g.ASSUME_SHIFT_JIS||On>=3||nr>=3)?g.SHIFT_JIS:I&&F?2===On&&2===jt||10*rr>=v?g.SHIFT_JIS:g.ISO88591:I?g.ISO88591:F?g.SHIFT_JIS:se?g.UTF8:g.PLATFORM_DEFAULT_ENCODING},g.format=function(s){for(var a=[],v=1;v<arguments.length;v++)a[v-1]=arguments[v];var I=-1;return s.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function F(ye,Re,ze,ut,wt,jt){if("%%"===ye)return"%";if(void 0!==a[++I]){ye=ut?parseInt(ut.substr(1)):void 0;var _n,Kt=wt?parseInt(wt.substr(1)):void 0;switch(jt){case"s":_n=a[I];break;case"c":_n=a[I][0];break;case"f":_n=parseFloat(a[I]).toFixed(ye);break;case"p":_n=parseFloat(a[I]).toPrecision(ye);break;case"e":_n=parseFloat(a[I]).toExponential(ye);break;case"x":_n=parseInt(a[I]).toString(Kt||16);break;case"d":_n=parseFloat(parseInt(a[I],Kt||10).toPrecision(ye)).toFixed(0)}_n="object"==typeof _n?JSON.stringify(_n):(+_n).toString(Kt);for(var On=parseInt(ze),nr=ze&&ze[0]+""=="0"?"0":" ";_n.length<On;)_n=void 0!==Re?_n+nr:nr+_n;return _n}})},g.getBytes=function(s,a){return ea.encode(s,a)},g.getCharCode=function(s,a){return void 0===a&&(a=0),s.charCodeAt(a)},g.getCharAt=function(s){return String.fromCharCode(s)},g.SHIFT_JIS=Ma.SJIS.getName(),g.GB2312="GB2312",g.ISO88591=Ma.ISO8859_1.getName(),g.EUC_JP="EUC_JP",g.UTF8=Ma.UTF8.getName(),g.PLATFORM_DEFAULT_ENCODING=g.UTF8,g.ASSUME_SHIFT_JIS=!1,g}(),Hi=function(){function g(s){void 0===s&&(s=""),this.value=s}return g.prototype.enableDecoding=function(s){return this.encoding=s,this},g.prototype.append=function(s){return this.value+="string"==typeof s?s.toString():this.encoding?No.castAsNonUtf8Char(s,this.encoding):String.fromCharCode(s),this},g.prototype.appendChars=function(s,a,v){for(var I=a;a<a+v;I++)this.append(s[I]);return this},g.prototype.length=function(){return this.value.length},g.prototype.charAt=function(s){return this.value.charAt(s)},g.prototype.deleteCharAt=function(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)},g.prototype.setCharAt=function(s,a){this.value=this.value.substr(0,s)+a+this.value.substr(s+1)},g.prototype.substring=function(s,a){return this.value.substring(s,a)},g.prototype.setLengthToZero=function(){this.value=""},g.prototype.toString=function(){return this.value},g.prototype.insert=function(s,a){this.value=this.value.substring(0,s)+a+this.value.substring(s)},g}(),zt=function(){function g(s,a,v,I){if(this.width=s,this.height=a,this.rowSize=v,this.bits=I,null==a&&(a=s),this.height=a,s<1||a<1)throw new xi("Both dimensions must be greater than 0");null==v&&(v=Math.floor((s+31)/32)),this.rowSize=v,null==I&&(this.bits=new Int32Array(this.rowSize*this.height))}return g.parseFromBooleanArray=function(s){for(var a=s.length,v=s[0].length,I=new g(v,a),F=0;F<a;F++)for(var se=s[F],ye=0;ye<v;ye++)se[ye]&&I.set(ye,F);return I},g.parseFromString=function(s,a,v){if(null===s)throw new xi("stringRepresentation cannot be null");for(var I=new Array(s.length),F=0,se=0,ye=-1,Re=0,ze=0;ze<s.length;)if("\n"===s.charAt(ze)||"\r"===s.charAt(ze)){if(F>se){if(-1===ye)ye=F-se;else if(F-se!==ye)throw new xi("row lengths do not match");se=F,Re++}ze++}else if(s.substring(ze,ze+a.length)===a)ze+=a.length,I[F]=!0,F++;else{if(s.substring(ze,ze+v.length)!==v)throw new xi("illegal character encountered: "+s.substring(ze));ze+=v.length,I[F]=!1,F++}if(F>se){if(-1===ye)ye=F-se;else if(F-se!==ye)throw new xi("row lengths do not match");Re++}for(var ut=new g(ye,Re),wt=0;wt<F;wt++)I[wt]&&ut.set(Math.floor(wt%ye),Math.floor(wt/ye));return ut},g.prototype.get=function(s,a){var v=a*this.rowSize+Math.floor(s/32);return!!(this.bits[v]>>>(31&s)&1)},g.prototype.set=function(s,a){var v=a*this.rowSize+Math.floor(s/32);this.bits[v]|=1<<(31&s)&4294967295},g.prototype.unset=function(s,a){var v=a*this.rowSize+Math.floor(s/32);this.bits[v]&=~(1<<(31&s)&4294967295)},g.prototype.flip=function(s,a){var v=a*this.rowSize+Math.floor(s/32);this.bits[v]^=1<<(31&s)&4294967295},g.prototype.xor=function(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new xi("input matrix dimensions do not match");for(var a=new Bo(Math.floor(this.width/32)+1),v=this.rowSize,I=this.bits,F=0,se=this.height;F<se;F++)for(var ye=F*v,Re=s.getRow(F,a).getBitArray(),ze=0;ze<v;ze++)I[ye+ze]^=Re[ze]},g.prototype.clear=function(){for(var s=this.bits,a=s.length,v=0;v<a;v++)s[v]=0},g.prototype.setRegion=function(s,a,v,I){if(a<0||s<0)throw new xi("Left and top must be nonnegative");if(I<1||v<1)throw new xi("Height and width must be at least 1");var F=s+v,se=a+I;if(se>this.height||F>this.width)throw new xi("The region must fit inside the matrix");for(var ye=this.rowSize,Re=this.bits,ze=a;ze<se;ze++)for(var ut=ze*ye,wt=s;wt<F;wt++)Re[ut+Math.floor(wt/32)]|=1<<(31&wt)&4294967295},g.prototype.getRow=function(s,a){null==a||a.getSize()<this.width?a=new Bo(this.width):a.clear();for(var v=this.rowSize,I=this.bits,F=s*v,se=0;se<v;se++)a.setBulk(32*se,I[F+se]);return a},g.prototype.setRow=function(s,a){kr.arraycopy(a.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)},g.prototype.rotate180=function(){for(var s=this.getWidth(),a=this.getHeight(),v=new Bo(s),I=new Bo(s),F=0,se=Math.floor((a+1)/2);F<se;F++)v=this.getRow(F,v),I=this.getRow(a-1-F,I),v.reverse(),I.reverse(),this.setRow(F,I),this.setRow(a-1-F,v)},g.prototype.getEnclosingRectangle=function(){for(var a=this.height,v=this.rowSize,I=this.bits,F=this.width,se=a,ye=-1,Re=-1,ze=0;ze<a;ze++)for(var ut=0;ut<v;ut++){var wt=I[ze*v+ut];if(0!==wt){if(ze<se&&(se=ze),ze>Re&&(Re=ze),32*ut<F){for(var jt=0;!(wt<<31-jt&4294967295);)jt++;32*ut+jt<F&&(F=32*ut+jt)}if(32*ut+31>ye){for(jt=31;!(wt>>>jt);)jt--;32*ut+jt>ye&&(ye=32*ut+jt)}}}return ye<F||Re<se?null:Int32Array.from([F,se,ye-F+1,Re-se+1])},g.prototype.getTopLeftOnBit=function(){for(var s=this.rowSize,a=this.bits,v=0;v<a.length&&0===a[v];)v++;if(v===a.length)return null;for(var I=v/s,F=v%s*32,se=a[v],ye=0;!(se<<31-ye&4294967295);)ye++;return Int32Array.from([F+=ye,I])},g.prototype.getBottomRightOnBit=function(){for(var s=this.rowSize,a=this.bits,v=a.length-1;v>=0&&0===a[v];)v--;if(v<0)return null;for(var I=Math.floor(v/s),F=32*Math.floor(v%s),se=a[v],ye=31;!(se>>>ye);)ye--;return Int32Array.from([F+=ye,I])},g.prototype.getWidth=function(){return this.width},g.prototype.getHeight=function(){return this.height},g.prototype.getRowSize=function(){return this.rowSize},g.prototype.equals=function(s){return s instanceof g&&(this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&ro.equals(this.bits,s.bits))},g.prototype.hashCode=function(){var s=this.width;return 31*(s=31*(s=31*(s=31*s+this.width)+this.height)+this.rowSize)+ro.hashCode(this.bits)},g.prototype.toString=function(s,a,v){return void 0===s&&(s="X "),void 0===a&&(a="  "),void 0===v&&(v="\n"),this.buildToString(s,a,v)},g.prototype.buildToString=function(s,a,v){for(var I=new Hi,F=0,se=this.height;F<se;F++){for(var ye=0,Re=this.width;ye<Re;ye++)I.append(this.get(ye,F)?s:a);I.append(v)}return I.toString()},g.prototype.clone=function(){return new g(this.width,this.height,this.rowSize,this.bits.slice())},g}();var en=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Gt=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return en(s,g),s.getNotFoundInstance=function(){return new s},s.kind="NotFoundException",s}(Ns);var Gn=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const wo=function(g){function s(a){var v=g.call(this,a)||this;return v.luminances=s.EMPTY,v.buckets=new Int32Array(s.LUMINANCE_BUCKETS),v}return Gn(s,g),s.prototype.getBlackRow=function(a,v){var I=this.getLuminanceSource(),F=I.getWidth();null==v||v.getSize()<F?v=new Bo(F):v.clear(),this.initArrays(F);for(var se=I.getRow(a,this.luminances),ye=this.buckets,Re=0;Re<F;Re++)ye[(255&se[Re])>>s.LUMINANCE_SHIFT]++;var ze=s.estimateBlackPoint(ye);if(F<3)for(Re=0;Re<F;Re++)(255&se[Re])<ze&&v.set(Re);else{var ut=255&se[0],wt=255&se[1];for(Re=1;Re<F-1;Re++){var jt=255&se[Re+1];(4*wt-ut-jt)/2<ze&&v.set(Re),ut=wt,wt=jt}}return v},s.prototype.getBlackMatrix=function(){var a=this.getLuminanceSource(),v=a.getWidth(),I=a.getHeight(),F=new zt(v,I);this.initArrays(v);for(var se=this.buckets,ye=1;ye<5;ye++)for(var Re=Math.floor(I*ye/5),ze=a.getRow(Re,this.luminances),ut=Math.floor(4*v/5),wt=Math.floor(v/5);wt<ut;wt++)se[(255&ze[wt])>>s.LUMINANCE_SHIFT]++;var Kt=s.estimateBlackPoint(se),_n=a.getMatrix();for(ye=0;ye<I;ye++){var On=ye*v;for(wt=0;wt<v;wt++)(255&_n[On+wt])<Kt&&F.set(wt,ye)}return F},s.prototype.createBinarizer=function(a){return new s(a)},s.prototype.initArrays=function(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));for(var v=this.buckets,I=0;I<s.LUMINANCE_BUCKETS;I++)v[I]=0},s.estimateBlackPoint=function(a){for(var v=a.length,I=0,F=0,se=0,ye=0;ye<v;ye++)a[ye]>se&&(F=ye,se=a[ye]),a[ye]>I&&(I=a[ye]);var Re=0,ze=0;for(ye=0;ye<v;ye++){var ut=ye-F;(wt=a[ye]*ut*ut)>ze&&(Re=ye,ze=wt)}if(F>Re){var jt=F;F=Re,Re=jt}if(Re-F<=v/16)throw new Gt;var Kt=Re-1,_n=-1;for(ye=Re-1;ye>F;ye--){var wt,On=ye-F;(wt=On*On*(Re-ye)*(I-a[ye]))>_n&&(Kt=ye,_n=wt)}return Kt<<s.LUMINANCE_SHIFT},s.LUMINANCE_SHIFT=8-(s.LUMINANCE_BITS=5),s.LUMINANCE_BUCKETS=1<<s.LUMINANCE_BITS,s.EMPTY=Uint8ClampedArray.from([0]),s}(vl);var ta=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const ja=function(g){function s(a){var v=g.call(this,a)||this;return v.matrix=null,v}return ta(s,g),s.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var a=this.getLuminanceSource(),v=a.getWidth(),I=a.getHeight();if(v>=s.MINIMUM_DIMENSION&&I>=s.MINIMUM_DIMENSION){var F=a.getMatrix(),se=v>>s.BLOCK_SIZE_POWER;v&s.BLOCK_SIZE_MASK&&se++;var ye=I>>s.BLOCK_SIZE_POWER;I&s.BLOCK_SIZE_MASK&&ye++;var Re=s.calculateBlackPoints(F,se,ye,v,I),ze=new zt(v,I);s.calculateThresholdForBlock(F,se,ye,v,I,Re,ze),this.matrix=ze}else this.matrix=g.prototype.getBlackMatrix.call(this);return this.matrix},s.prototype.createBinarizer=function(a){return new s(a)},s.calculateThresholdForBlock=function(a,v,I,F,se,ye,Re){for(var ze=se-s.BLOCK_SIZE,ut=F-s.BLOCK_SIZE,wt=0;wt<I;wt++){var jt=wt<<s.BLOCK_SIZE_POWER;jt>ze&&(jt=ze);for(var Kt=s.cap(wt,2,I-3),_n=0;_n<v;_n++){var On=_n<<s.BLOCK_SIZE_POWER;On>ut&&(On=ut);for(var nr=s.cap(_n,2,v-3),rr=0,er=-2;er<=2;er++){var fr=ye[Kt+er];rr+=fr[nr-2]+fr[nr-1]+fr[nr]+fr[nr+1]+fr[nr+2]}s.thresholdBlock(a,On,jt,rr/25,F,Re)}}},s.cap=function(a,v,I){return a<v?v:a>I?I:a},s.thresholdBlock=function(a,v,I,F,se,ye){for(var Re=0,ze=I*se+v;Re<s.BLOCK_SIZE;Re++,ze+=se)for(var ut=0;ut<s.BLOCK_SIZE;ut++)(255&a[ze+ut])<=F&&ye.set(v+ut,I+Re)},s.calculateBlackPoints=function(a,v,I,F,se){for(var ye=se-s.BLOCK_SIZE,Re=F-s.BLOCK_SIZE,ze=new Array(I),ut=0;ut<I;ut++){ze[ut]=new Int32Array(v);var wt=ut<<s.BLOCK_SIZE_POWER;wt>ye&&(wt=ye);for(var jt=0;jt<v;jt++){var Kt=jt<<s.BLOCK_SIZE_POWER;Kt>Re&&(Kt=Re);for(var _n=0,On=255,nr=0,rr=0,er=wt*F+Kt;rr<s.BLOCK_SIZE;rr++,er+=F){for(var fr=0;fr<s.BLOCK_SIZE;fr++){var Tr=255&a[er+fr];_n+=Tr,Tr<On&&(On=Tr),Tr>nr&&(nr=Tr)}if(nr-On>s.MIN_DYNAMIC_RANGE)for(rr++,er+=F;rr<s.BLOCK_SIZE;rr++,er+=F)for(fr=0;fr<s.BLOCK_SIZE;fr++)_n+=255&a[er+fr]}var Zr=_n>>2*s.BLOCK_SIZE_POWER;if(nr-On<=s.MIN_DYNAMIC_RANGE&&(Zr=On/2,ut>0&&jt>0)){var ci=(ze[ut-1][jt]+2*ze[ut][jt-1]+ze[ut-1][jt-1])/4;On<ci&&(Zr=ci)}ze[ut][jt]=Zr}}return ze},s.BLOCK_SIZE_MASK=(s.BLOCK_SIZE=1<<(s.BLOCK_SIZE_POWER=3))-1,s.MINIMUM_DIMENSION=5*s.BLOCK_SIZE,s.MIN_DYNAMIC_RANGE=24,s}(wo),$f=function(){function g(s,a){this.width=s,this.height=a}return g.prototype.getWidth=function(){return this.width},g.prototype.getHeight=function(){return this.height},g.prototype.isCropSupported=function(){return!1},g.prototype.crop=function(s,a,v,I){throw new Fi("This luminance source does not support cropping.")},g.prototype.isRotateSupported=function(){return!1},g.prototype.rotateCounterClockwise=function(){throw new Fi("This luminance source does not support rotation by 90 degrees.")},g.prototype.rotateCounterClockwise45=function(){throw new Fi("This luminance source does not support rotation by 45 degrees.")},g.prototype.toString=function(){for(var s=new Uint8ClampedArray(this.width),a=new Hi,v=0;v<this.height;v++){for(var I=this.getRow(v,s),F=0;F<this.width;F++){var se=255&I[F];a.append(se<64?"#":se<128?"+":se<192?".":" ")}a.append("\n")}return a.toString()},g}();var Jh=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const os=function(g){function s(a){var v=g.call(this,a.getWidth(),a.getHeight())||this;return v.delegate=a,v}return Jh(s,g),s.prototype.getRow=function(a,v){for(var I=this.delegate.getRow(a,v),F=this.getWidth(),se=0;se<F;se++)I[se]=255-(255&I[se]);return I},s.prototype.getMatrix=function(){for(var a=this.delegate.getMatrix(),v=this.getWidth()*this.getHeight(),I=new Uint8ClampedArray(v),F=0;F<v;F++)I[F]=255-(255&a[F]);return I},s.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},s.prototype.crop=function(a,v,I,F){return new s(this.delegate.crop(a,v,I,F))},s.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},s.prototype.invert=function(){return this.delegate},s.prototype.rotateCounterClockwise=function(){return new s(this.delegate.rotateCounterClockwise())},s.prototype.rotateCounterClockwise45=function(){return new s(this.delegate.rotateCounterClockwise45())},s}($f);var kl=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),Gc=function(g){function s(a){var v=g.call(this,a.width,a.height)||this;return v.canvas=a,v.tempCanvasElement=null,v.buffer=s.makeBufferFromCanvasImageData(a),v}return kl(s,g),s.makeBufferFromCanvasImageData=function(a){var v=a.getContext("2d").getImageData(0,0,a.width,a.height);return s.toGrayscaleBuffer(v.data,a.width,a.height)},s.toGrayscaleBuffer=function(a,v,I){var F=new Uint8ClampedArray(v*I);if(s.FRAME_INDEX=!s.FRAME_INDEX)for(var se=0,ye=0,Re=a.length;se<Re;se+=4,ye++){F[ye]=0===a[se+3]?255:306*a[se]+601*a[se+1]+117*a[se+2]+512>>10}else{se=0,ye=0;for(var _n=a.length;se<_n;se+=4,ye++)void 0,F[ye]=255-(0===a[se+3]?255:306*a[se]+601*a[se+1]+117*a[se+2]+512>>10)}return F},s.prototype.getRow=function(a,v){if(a<0||a>=this.getHeight())throw new xi("Requested row is outside the image: "+a);var I=this.getWidth(),F=a*I;return null===v?v=this.buffer.slice(F,F+I):(v.length<I&&(v=new Uint8ClampedArray(I)),v.set(this.buffer.slice(F,F+I))),v},s.prototype.getMatrix=function(){return this.buffer},s.prototype.isCropSupported=function(){return!0},s.prototype.crop=function(a,v,I,F){return g.prototype.crop.call(this,a,v,I,F),this},s.prototype.isRotateSupported=function(){return!0},s.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},s.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},s.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement},s.prototype.rotate=function(a){var v=this.getTempCanvasElement(),I=v.getContext("2d"),F=a*s.DEGREE_TO_RADIANS,se=this.canvas.width,ye=this.canvas.height,Re=Math.ceil(Math.abs(Math.cos(F))*se+Math.abs(Math.sin(F))*ye),ze=Math.ceil(Math.abs(Math.sin(F))*se+Math.abs(Math.cos(F))*ye);return v.width=Re,v.height=ze,I.translate(Re/2,ze/2),I.rotate(F),I.drawImage(this.canvas,se/-2,ye/-2),this.buffer=s.makeBufferFromCanvasImageData(v),this},s.prototype.invert=function(){return new os(this)},s.DEGREE_TO_RADIANS=Math.PI/180,s.FRAME_INDEX=!0,s}($f),Hd=function(){function g(s,a,v){this.deviceId=s,this.label=a,this.kind="videoinput",this.groupId=v||void 0}return g.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},g}(),$a=function(g,s,a,v){return new(a||(a=Promise))(function(F,se){function ye(ut){try{ze(v.next(ut))}catch(wt){se(wt)}}function Re(ut){try{ze(v.throw(ut))}catch(wt){se(wt)}}function ze(ut){ut.done?F(ut.value):function I(F){return F instanceof a?F:new a(function(se){se(F)})}(ut.value).then(ye,Re)}ze((v=v.apply(g,s||[])).next())})},ma=function(g,s){var v,I,F,se,a={label:0,sent:function(){if(1&F[0])throw F[1];return F[1]},trys:[],ops:[]};return se={next:ye(0),throw:ye(1),return:ye(2)},"function"==typeof Symbol&&(se[Symbol.iterator]=function(){return this}),se;function ye(ze){return function(ut){return function Re(ze){if(v)throw new TypeError("Generator is already executing.");for(;a;)try{if(v=1,I&&(F=2&ze[0]?I.return:ze[0]?I.throw||((F=I.return)&&F.call(I),0):I.next)&&!(F=F.call(I,ze[1])).done)return F;switch(I=0,F&&(ze=[2&ze[0],F.value]),ze[0]){case 0:case 1:F=ze;break;case 4:return a.label++,{value:ze[1],done:!1};case 5:a.label++,I=ze[1],ze=[0];continue;case 7:ze=a.ops.pop(),a.trys.pop();continue;default:if(!(F=(F=a.trys).length>0&&F[F.length-1])&&(6===ze[0]||2===ze[0])){a=0;continue}if(3===ze[0]&&(!F||ze[1]>F[0]&&ze[1]<F[3])){a.label=ze[1];break}if(6===ze[0]&&a.label<F[1]){a.label=F[1],F=ze;break}if(F&&a.label<F[2]){a.label=F[2],a.ops.push(ze);break}F[2]&&a.ops.pop(),a.trys.pop();continue}ze=s.call(g,a)}catch(ut){ze=[6,ut],I=0}finally{v=F=0}if(5&ze[0])throw ze[1];return{value:ze[0]?ze[1]:void 0,done:!0}}([ze,ut])}}},Bl=function(){function g(s,a,v){void 0===a&&(a=500),this.reader=s,this.timeBetweenScansMillis=a,this._hints=v,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(g.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(s){this._timeBetweenDecodingAttempts=s<0?0:s},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hints",{get:function(){return this._hints},set:function(s){this._hints=s||null},enumerable:!1,configurable:!0}),g.prototype.listVideoInputDevices=function(){return $a(this,void 0,void 0,function(){var s,a,v,I,F,se,wt,jt;return ma(this,function(Kt){switch(Kt.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:s=Kt.sent(),a=[];try{for(v=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),I=v.next();!I.done;I=v.next())"videoinput"===(se="video"===(F=I.value).kind?"videoinput":F.kind)&&a.push({deviceId:F.deviceId||F.id,label:F.label||"Video device "+(a.length+1),kind:se,groupId:F.groupId})}catch(_n){wt={error:_n}}finally{try{I&&!I.done&&(jt=v.return)&&jt.call(v)}finally{if(wt)throw wt.error}}return[2,a]}})})},g.prototype.getVideoInputDevices=function(){return $a(this,void 0,void 0,function(){return ma(this,function(a){switch(a.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,a.sent().map(function(v){return new Hd(v.deviceId,v.label)})]}})})},g.prototype.findDeviceById=function(s){return $a(this,void 0,void 0,function(){var a;return ma(this,function(v){switch(v.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(a=v.sent())?[2,a.find(function(I){return I.deviceId===s})]:[2,null]}})})},g.prototype.decodeFromInputVideoDevice=function(s,a){return $a(this,void 0,void 0,function(){return ma(this,function(v){switch(v.label){case 0:return[4,this.decodeOnceFromVideoDevice(s,a)];case 1:return[2,v.sent()]}})})},g.prototype.decodeOnceFromVideoDevice=function(s,a){return $a(this,void 0,void 0,function(){return ma(this,function(F){switch(F.label){case 0:return this.reset(),[4,this.decodeOnceFromConstraints({video:s?{deviceId:{exact:s}}:{facingMode:"environment"}},a)];case 1:return[2,F.sent()]}})})},g.prototype.decodeOnceFromConstraints=function(s,a){return $a(this,void 0,void 0,function(){var v;return ma(this,function(I){switch(I.label){case 0:return[4,navigator.mediaDevices.getUserMedia(s)];case 1:return v=I.sent(),[4,this.decodeOnceFromStream(v,a)];case 2:return[2,I.sent()]}})})},g.prototype.decodeOnceFromStream=function(s,a){return $a(this,void 0,void 0,function(){var v;return ma(this,function(F){switch(F.label){case 0:return this.reset(),[4,this.attachStreamToVideo(s,a)];case 1:return v=F.sent(),[4,this.decodeOnce(v)];case 2:return[2,F.sent()]}})})},g.prototype.decodeFromInputVideoDeviceContinuously=function(s,a,v){return $a(this,void 0,void 0,function(){return ma(this,function(I){switch(I.label){case 0:return[4,this.decodeFromVideoDevice(s,a,v)];case 1:return[2,I.sent()]}})})},g.prototype.decodeFromVideoDevice=function(s,a,v){return $a(this,void 0,void 0,function(){return ma(this,function(se){switch(se.label){case 0:return[4,this.decodeFromConstraints({video:s?{deviceId:{exact:s}}:{facingMode:"environment"}},a,v)];case 1:return[2,se.sent()]}})})},g.prototype.decodeFromConstraints=function(s,a,v){return $a(this,void 0,void 0,function(){var I;return ma(this,function(F){switch(F.label){case 0:return[4,navigator.mediaDevices.getUserMedia(s)];case 1:return I=F.sent(),[4,this.decodeFromStream(I,a,v)];case 2:return[2,F.sent()]}})})},g.prototype.decodeFromStream=function(s,a,v){return $a(this,void 0,void 0,function(){var I;return ma(this,function(F){switch(F.label){case 0:return this.reset(),[4,this.attachStreamToVideo(s,a)];case 1:return I=F.sent(),[4,this.decodeContinuously(I,v)];case 2:return[2,F.sent()]}})})},g.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},g.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},g.prototype.attachStreamToVideo=function(s,a){return $a(this,void 0,void 0,function(){var v;return ma(this,function(I){switch(I.label){case 0:return v=this.prepareVideoElement(a),this.addVideoSource(v,s),this.videoElement=v,this.stream=s,[4,this.playVideoOnLoadAsync(v)];case 1:return I.sent(),[2,v]}})})},g.prototype.playVideoOnLoadAsync=function(s){var a=this;return new Promise(function(v,I){return a.playVideoOnLoad(s,function(){return v()})})},g.prototype.playVideoOnLoad=function(s,a){var v=this;this.videoEndedListener=function(){return v.stopStreams()},this.videoCanPlayListener=function(){return v.tryPlayVideo(s)},s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",a),this.tryPlayVideo(s)},g.prototype.isVideoPlaying=function(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2},g.prototype.tryPlayVideo=function(s){return $a(this,void 0,void 0,function(){return ma(this,function(v){switch(v.label){case 0:if(this.isVideoPlaying(s))return console.warn("Trying to play video that is already playing."),[2];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,s.play()];case 2:return v.sent(),[3,4];case 3:return v.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},g.prototype.getMediaElement=function(s,a){var v=document.getElementById(s);if(!v)throw new Oi("element with id '"+s+"' not found");if(v.nodeName.toLowerCase()!==a.toLowerCase())throw new Oi("element with id '"+s+"' must be an "+a+" element");return v},g.prototype.decodeFromImage=function(s,a){if(!s&&!a)throw new Oi("either imageElement with a src set or an url must be provided");return a&&!s?this.decodeFromImageUrl(a):this.decodeFromImageElement(s)},g.prototype.decodeFromVideo=function(s,a){if(!s&&!a)throw new Oi("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(s)},g.prototype.decodeFromVideoContinuously=function(s,a,v){if(void 0===s&&void 0===a)throw new Oi("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrlContinuously(a,v):this.decodeFromVideoElementContinuously(s,v)},g.prototype.decodeFromImageElement=function(s){if(!s)throw new Oi("An image element must be provided.");this.reset();var a=this.prepareImageElement(s);return this.imageElement=a,this.isImageLoaded(a)?this.decodeOnce(a,!1,!0):this._decodeOnLoadImage(a)},g.prototype.decodeFromVideoElement=function(s){var a=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(a)},g.prototype.decodeFromVideoElementContinuously=function(s,a){var v=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(v,a)},g.prototype._decodeFromVideoElementSetup=function(s){if(!s)throw new Oi("A video element must be provided.");this.reset();var a=this.prepareVideoElement(s);return this.videoElement=a,a},g.prototype.decodeFromImageUrl=function(s){if(!s)throw new Oi("An URL must be provided.");this.reset();var a=this.prepareImageElement();this.imageElement=a;var v=this._decodeOnLoadImage(a);return a.src=s,v},g.prototype.decodeFromVideoUrl=function(s){if(!s)throw new Oi("An URL must be provided.");this.reset();var a=this.prepareVideoElement(),v=this.decodeFromVideoElement(a);return a.src=s,v},g.prototype.decodeFromVideoUrlContinuously=function(s,a){if(!s)throw new Oi("An URL must be provided.");this.reset();var v=this.prepareVideoElement(),I=this.decodeFromVideoElementContinuously(v,a);return v.src=s,I},g.prototype._decodeOnLoadImage=function(s){var a=this;return new Promise(function(v,I){a.imageLoadedListener=function(){return a.decodeOnce(s,!1,!0).then(v,I)},s.addEventListener("load",a.imageLoadedListener)})},g.prototype._decodeOnLoadVideo=function(s){return $a(this,void 0,void 0,function(){return ma(this,function(a){switch(a.label){case 0:return[4,this.playVideoOnLoadAsync(s)];case 1:return a.sent(),[4,this.decodeOnce(s)];case 2:return[2,a.sent()]}})})},g.prototype._decodeOnLoadVideoContinuously=function(s,a){return $a(this,void 0,void 0,function(){return ma(this,function(v){switch(v.label){case 0:return[4,this.playVideoOnLoadAsync(s)];case 1:return v.sent(),this.decodeContinuously(s,a),[2]}})})},g.prototype.isImageLoaded=function(s){return!(!s.complete||0===s.naturalWidth)},g.prototype.prepareImageElement=function(s){var a;return typeof s>"u"&&((a=document.createElement("img")).width=200,a.height=200),"string"==typeof s&&(a=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(a=s),a},g.prototype.prepareVideoElement=function(s){var a;return!s&&typeof document<"u"&&((a=document.createElement("video")).width=200,a.height=200),"string"==typeof s&&(a=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(a=s),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a},g.prototype.decodeOnce=function(s,a,v){var I=this;void 0===a&&(a=!0),void 0===v&&(v=!0),this._stopAsyncDecode=!1;var F=function(se,ye){if(I._stopAsyncDecode)return ye(new Gt("Video stream has ended before any code could be detected.")),void(I._stopAsyncDecode=void 0);try{se(I.decode(s))}catch(jt){if(a&&jt instanceof Gt||(jt instanceof pa||jt instanceof jr)&&v)return setTimeout(F,I._timeBetweenDecodingAttempts,se,ye);ye(jt)}};return new Promise(function(se,ye){return F(se,ye)})},g.prototype.decodeContinuously=function(s,a){var v=this;this._stopContinuousDecode=!1;var I=function(){if(v._stopContinuousDecode)v._stopContinuousDecode=void 0;else try{var F=v.decode(s);a(F,null),setTimeout(I,v.timeBetweenScansMillis)}catch(Re){a(null,Re),(Re instanceof pa||Re instanceof jr||Re instanceof Gt)&&setTimeout(I,v._timeBetweenDecodingAttempts)}};I()},g.prototype.decode=function(s){var a=this.createBinaryBitmap(s);return this.decodeBitmap(a)},g.prototype.createBinaryBitmap=function(s){this.getCaptureCanvasContext(s),s instanceof HTMLVideoElement?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);var v=this.getCaptureCanvas(s),I=new Gc(v),F=new ja(I);return new qs(F)},g.prototype.getCaptureCanvasContext=function(s){if(!this.captureCanvasContext){var a=this.getCaptureCanvas(s),v=void 0;try{v=a.getContext("2d",{willReadFrequently:!0})}catch{v=a.getContext("2d")}this.captureCanvasContext=v}return this.captureCanvasContext},g.prototype.getCaptureCanvas=function(s){if(!this.captureCanvas){var a=this.createCaptureCanvas(s);this.captureCanvas=a}return this.captureCanvas},g.prototype.drawFrameOnCanvas=function(s,a,v){void 0===a&&(a={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),void 0===v&&(v=this.captureCanvasContext),v.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)},g.prototype.drawImageOnCanvas=function(s,a,v){void 0===a&&(a={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),void 0===v&&(v=this.captureCanvasContext),v.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)},g.prototype.decodeBitmap=function(s){return this.reader.decode(s,this._hints)},g.prototype.createCaptureCanvas=function(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var v,I,a=document.createElement("canvas");return typeof s<"u"&&(s instanceof HTMLVideoElement?(v=s.videoWidth,I=s.videoHeight):s instanceof HTMLImageElement&&(v=s.naturalWidth||s.width,I=s.naturalHeight||s.height)),a.style.width=v+"px",a.style.height=I+"px",a.width=v,a.height=I,a},g.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(s){return s.stop()}),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},g.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},g.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},g.prototype._destroyImageElement=function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},g.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},g.prototype.addVideoSource=function(s,a){try{s.srcObject=a}catch{s.src=URL.createObjectURL(a)}},g.prototype.cleanVideoSource=function(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")},g}();const Ka=function(){function g(s,a,v,I,F,se){void 0===v&&(v=null==a?0:8*a.length),void 0===se&&(se=kr.currentTimeMillis()),this.text=s,this.rawBytes=a,this.numBits=v,this.resultPoints=I,this.format=F,this.timestamp=se,this.text=s,this.rawBytes=a,this.numBits=null==v?null==a?0:8*a.length:v,this.resultPoints=I,this.format=F,this.resultMetadata=null,this.timestamp=null==se?kr.currentTimeMillis():se}return g.prototype.getText=function(){return this.text},g.prototype.getRawBytes=function(){return this.rawBytes},g.prototype.getNumBits=function(){return this.numBits},g.prototype.getResultPoints=function(){return this.resultPoints},g.prototype.getBarcodeFormat=function(){return this.format},g.prototype.getResultMetadata=function(){return this.resultMetadata},g.prototype.putMetadata=function(s,a){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(s,a)},g.prototype.putAllMetadata=function(s){null!==s&&(this.resultMetadata=null===this.resultMetadata?s:new Map(s))},g.prototype.addResultPoints=function(s){var a=this.resultPoints;if(null===a)this.resultPoints=s;else if(null!==s&&s.length>0){var v=new Array(a.length+s.length);kr.arraycopy(a,0,v,0,a.length),kr.arraycopy(s,0,v,a.length,s.length),this.resultPoints=v}},g.prototype.getTimestamp=function(){return this.timestamp},g.prototype.toString=function(){return this.text},g}();var xd=function(g){return g[g.AZTEC=0]="AZTEC",g[g.CODABAR=1]="CODABAR",g[g.CODE_39=2]="CODE_39",g[g.CODE_93=3]="CODE_93",g[g.CODE_128=4]="CODE_128",g[g.DATA_MATRIX=5]="DATA_MATRIX",g[g.EAN_8=6]="EAN_8",g[g.EAN_13=7]="EAN_13",g[g.ITF=8]="ITF",g[g.MAXICODE=9]="MAXICODE",g[g.PDF_417=10]="PDF_417",g[g.QR_CODE=11]="QR_CODE",g[g.RSS_14=12]="RSS_14",g[g.RSS_EXPANDED=13]="RSS_EXPANDED",g[g.UPC_A=14]="UPC_A",g[g.UPC_E=15]="UPC_E",g[g.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",g}(xd||{});const Di=xd;var go=function(g){return g[g.OTHER=0]="OTHER",g[g.ORIENTATION=1]="ORIENTATION",g[g.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",g[g.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",g[g.ISSUE_NUMBER=4]="ISSUE_NUMBER",g[g.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",g[g.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",g[g.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",g[g.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",g[g.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",g[g.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",g}(go||{});const _s=go,jc=function(){function g(s,a,v,I,F,se){void 0===F&&(F=-1),void 0===se&&(se=-1),this.rawBytes=s,this.text=a,this.byteSegments=v,this.ecLevel=I,this.structuredAppendSequenceNumber=F,this.structuredAppendParity=se,this.numBits=null==s?0:8*s.length}return g.prototype.getRawBytes=function(){return this.rawBytes},g.prototype.getNumBits=function(){return this.numBits},g.prototype.setNumBits=function(s){this.numBits=s},g.prototype.getText=function(){return this.text},g.prototype.getByteSegments=function(){return this.byteSegments},g.prototype.getECLevel=function(){return this.ecLevel},g.prototype.getErrorsCorrected=function(){return this.errorsCorrected},g.prototype.setErrorsCorrected=function(s){this.errorsCorrected=s},g.prototype.getErasures=function(){return this.erasures},g.prototype.setErasures=function(s){this.erasures=s},g.prototype.getOther=function(){return this.other},g.prototype.setOther=function(s){this.other=s},g.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},g.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},g.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},g}(),Nl=function(){function g(){}return g.prototype.exp=function(s){return this.expTable[s]},g.prototype.log=function(s){if(0===s)throw new xi;return this.logTable[s]},g.addOrSubtract=function(s,a){return s^a},g}(),Sd=function(){function g(s,a){if(0===a.length)throw new xi;this.field=s;var v=a.length;if(v>1&&0===a[0]){for(var I=1;I<v&&0===a[I];)I++;I===v?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(v-I),kr.arraycopy(a,I,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}return g.prototype.getCoefficients=function(){return this.coefficients},g.prototype.getDegree=function(){return this.coefficients.length-1},g.prototype.isZero=function(){return 0===this.coefficients[0]},g.prototype.getCoefficient=function(s){return this.coefficients[this.coefficients.length-1-s]},g.prototype.evaluateAt=function(s){if(0===s)return this.getCoefficient(0);var v,a=this.coefficients;if(1===s){v=0;for(var I=0,F=a.length;I!==F;I++)v=Nl.addOrSubtract(v,a[I]);return v}v=a[0];var ye=a.length,Re=this.field;for(I=1;I<ye;I++)v=Nl.addOrSubtract(Re.multiply(s,v),a[I]);return v},g.prototype.addOrSubtract=function(s){if(!this.field.equals(s.field))throw new xi("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;var a=this.coefficients,v=s.coefficients;if(a.length>v.length){var I=a;a=v,v=I}var F=new Int32Array(v.length),se=v.length-a.length;kr.arraycopy(v,0,F,0,se);for(var ye=se;ye<v.length;ye++)F[ye]=Nl.addOrSubtract(a[ye-se],v[ye]);return new g(this.field,F)},g.prototype.multiply=function(s){if(!this.field.equals(s.field))throw new xi("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();for(var a=this.coefficients,v=a.length,I=s.coefficients,F=I.length,se=new Int32Array(v+F-1),ye=this.field,Re=0;Re<v;Re++)for(var ze=a[Re],ut=0;ut<F;ut++)se[Re+ut]=Nl.addOrSubtract(se[Re+ut],ye.multiply(ze,I[ut]));return new g(ye,se)},g.prototype.multiplyScalar=function(s){if(0===s)return this.field.getZero();if(1===s)return this;for(var a=this.coefficients.length,v=this.field,I=new Int32Array(a),F=this.coefficients,se=0;se<a;se++)I[se]=v.multiply(F[se],s);return new g(v,I)},g.prototype.multiplyByMonomial=function(s,a){if(s<0)throw new xi;if(0===a)return this.field.getZero();for(var v=this.coefficients,I=v.length,F=new Int32Array(I+s),se=this.field,ye=0;ye<I;ye++)F[ye]=se.multiply(v[ye],a);return new g(se,F)},g.prototype.divide=function(s){if(!this.field.equals(s.field))throw new xi("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new xi("Divide by 0");for(var a=this.field,v=a.getZero(),I=this,F=s.getCoefficient(s.getDegree()),se=a.inverse(F);I.getDegree()>=s.getDegree()&&!I.isZero();){var ye=I.getDegree()-s.getDegree(),Re=a.multiply(I.getCoefficient(I.getDegree()),se),ze=s.multiplyByMonomial(ye,Re),ut=a.buildMonomial(ye,Re);v=v.addOrSubtract(ut),I=I.addOrSubtract(ze)}return[v,I]},g.prototype.toString=function(){for(var s="",a=this.getDegree();a>=0;a--){var v=this.getCoefficient(a);if(0!==v){if(v<0?(s+=" - ",v=-v):s.length>0&&(s+=" + "),0===a||1!==v){var I=this.field.log(v);0===I?s+="1":1===I?s+="a":(s+="a^",s+=I)}0!==a&&(1===a?s+="x":(s+="x^",s+=a))}}return s},g}();var Ky=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const gm=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return Ky(s,g),s.kind="ArithmeticException",s}(Ns);var Vf=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const sc=function(g){function s(a,v,I){var F=g.call(this)||this;F.primitive=a,F.size=v,F.generatorBase=I;for(var se=new Int32Array(v),ye=1,Re=0;Re<v;Re++)se[Re]=ye,(ye*=2)>=v&&(ye^=a,ye&=v-1);F.expTable=se;var ze=new Int32Array(v);for(Re=0;Re<v-1;Re++)ze[se[Re]]=Re;return F.logTable=ze,F.zero=new Sd(F,Int32Array.from([0])),F.one=new Sd(F,Int32Array.from([1])),F}return Vf(s,g),s.prototype.getZero=function(){return this.zero},s.prototype.getOne=function(){return this.one},s.prototype.buildMonomial=function(a,v){if(a<0)throw new xi;if(0===v)return this.zero;var I=new Int32Array(a+1);return I[0]=v,new Sd(this,I)},s.prototype.inverse=function(a){if(0===a)throw new gm;return this.expTable[this.size-this.logTable[a]-1]},s.prototype.multiply=function(a,v){return 0===a||0===v?0:this.expTable[(this.logTable[a]+this.logTable[v])%(this.size-1)]},s.prototype.getSize=function(){return this.size},s.prototype.getGeneratorBase=function(){return this.generatorBase},s.prototype.toString=function(){return"GF(0x"+zi.toHexString(this.primitive)+","+this.size+")"},s.prototype.equals=function(a){return a===this},s.AZTEC_DATA_12=new s(4201,4096,1),s.AZTEC_DATA_10=new s(1033,1024,1),s.AZTEC_DATA_6=new s(67,64,1),s.AZTEC_PARAM=new s(19,16,1),s.QR_CODE_FIELD_256=new s(285,256,0),s.DATA_MATRIX_FIELD_256=new s(301,256,1),s.AZTEC_DATA_8=s.DATA_MATRIX_FIELD_256,s.MAXICODE_FIELD_64=s.AZTEC_DATA_6,s}(Nl);var ff=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Ls=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return ff(s,g),s.kind="ReedSolomonException",s}(Ns);var hf=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Zi=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return hf(s,g),s.kind="IllegalStateException",s}(Ns),mu=function(){function g(s){this.field=s}return g.prototype.decode=function(s,a){for(var v=this.field,I=new Sd(v,s),F=new Int32Array(a),se=!0,ye=0;ye<a;ye++){var Re=I.evaluateAt(v.exp(ye+v.getGeneratorBase()));F[F.length-1-ye]=Re,0!==Re&&(se=!1)}if(!se){var ze=new Sd(v,F),ut=this.runEuclideanAlgorithm(v.buildMonomial(a,1),ze,a),jt=ut[1],Kt=this.findErrorLocations(ut[0]),_n=this.findErrorMagnitudes(jt,Kt);for(ye=0;ye<Kt.length;ye++){var On=s.length-1-v.log(Kt[ye]);if(On<0)throw new Ls("Bad error location");s[On]=sc.addOrSubtract(s[On],_n[ye])}}},g.prototype.runEuclideanAlgorithm=function(s,a,v){if(s.getDegree()<a.getDegree()){var I=s;s=a,a=I}for(var F=this.field,se=s,ye=a,Re=F.getZero(),ze=F.getOne();ye.getDegree()>=(v/2|0);){var ut=se,wt=Re;if(Re=ze,(se=ye).isZero())throw new Ls("r_{i-1} was zero");ye=ut;for(var jt=F.getZero(),Kt=se.getCoefficient(se.getDegree()),_n=F.inverse(Kt);ye.getDegree()>=se.getDegree()&&!ye.isZero();){var On=ye.getDegree()-se.getDegree(),nr=F.multiply(ye.getCoefficient(ye.getDegree()),_n);jt=jt.addOrSubtract(F.buildMonomial(On,nr)),ye=ye.addOrSubtract(se.multiplyByMonomial(On,nr))}if(ze=jt.multiply(Re).addOrSubtract(wt),ye.getDegree()>=se.getDegree())throw new Zi("Division algorithm failed to reduce polynomial?")}var rr=ze.getCoefficient(0);if(0===rr)throw new Ls("sigmaTilde(0) was zero");var er=F.inverse(rr);return[ze.multiplyScalar(er),ye.multiplyScalar(er)]},g.prototype.findErrorLocations=function(s){var a=s.getDegree();if(1===a)return Int32Array.from([s.getCoefficient(1)]);for(var v=new Int32Array(a),I=0,F=this.field,se=1;se<F.getSize()&&I<a;se++)0===s.evaluateAt(se)&&(v[I]=F.inverse(se),I++);if(I!==a)throw new Ls("Error locator degree does not match number of roots");return v},g.prototype.findErrorMagnitudes=function(s,a){for(var v=a.length,I=new Int32Array(v),F=this.field,se=0;se<v;se++){for(var ye=F.inverse(a[se]),Re=1,ze=0;ze<v;ze++)if(se!==ze){var ut=F.multiply(a[ze],ye);Re=F.multiply(Re,1&ut?-2&ut:1|ut)}I[se]=F.multiply(s.evaluateAt(ye),F.inverse(Re)),0!==F.getGeneratorBase()&&(I[se]=F.multiply(I[se],ye))}return I},g}();var Is=function(g){return g[g.UPPER=0]="UPPER",g[g.LOWER=1]="LOWER",g[g.MIXED=2]="MIXED",g[g.DIGIT=3]="DIGIT",g[g.PUNCT=4]="PUNCT",g[g.BINARY=5]="BINARY",g}(Is||{});const Xc=function(){function g(){}return g.prototype.decode=function(s){this.ddata=s;var a=s.getBits(),v=this.extractBits(a),I=this.correctBits(v),F=g.convertBoolArrayToByteArray(I),se=g.getEncodedData(I),ye=new jc(F,se,null,null);return ye.setNumBits(I.length),ye},g.highLevelDecode=function(s){return this.getEncodedData(s)},g.getEncodedData=function(s){for(var a=s.length,v=Is.UPPER,I=Is.UPPER,F="",se=0;se<a;)if(I===Is.BINARY){if(a-se<5)break;var ye=g.readCode(s,se,5);if(se+=5,0===ye){if(a-se<11)break;ye=g.readCode(s,se,11)+31,se+=11}for(var Re=0;Re<ye;Re++){if(a-se<8){se=a;break}var ze=g.readCode(s,se,8);F+=No.castAsNonUtf8Char(ze),se+=8}I=v}else{var ut=I===Is.DIGIT?4:5;if(a-se<ut)break;ze=g.readCode(s,se,ut),se+=ut;var wt=g.getCharacter(I,ze);wt.startsWith("CTRL_")?(v=I,I=g.getTable(wt.charAt(5)),"L"===wt.charAt(6)&&(v=I)):(F+=wt,I=v)}return F},g.getTable=function(s){switch(s){case"L":return Is.LOWER;case"P":return Is.PUNCT;case"M":return Is.MIXED;case"D":return Is.DIGIT;case"B":return Is.BINARY;default:return Is.UPPER}},g.getCharacter=function(s,a){switch(s){case Is.UPPER:return g.UPPER_TABLE[a];case Is.LOWER:return g.LOWER_TABLE[a];case Is.MIXED:return g.MIXED_TABLE[a];case Is.PUNCT:return g.PUNCT_TABLE[a];case Is.DIGIT:return g.DIGIT_TABLE[a];default:throw new Zi("Bad table")}},g.prototype.correctBits=function(s){var a,v;this.ddata.getNbLayers()<=2?(v=6,a=sc.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(v=8,a=sc.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(v=10,a=sc.AZTEC_DATA_10):(v=12,a=sc.AZTEC_DATA_12);var I=this.ddata.getNbDatablocks(),F=s.length/v;if(F<I)throw new jr;for(var se=s.length%v,ye=new Int32Array(F),Re=0;Re<F;Re++,se+=v)ye[Re]=g.readCode(s,se,v);try{new mu(a).decode(ye,F-I)}catch(nr){throw new jr(nr)}var ut=(1<<v)-1,wt=0;for(Re=0;Re<I;Re++){if(0===(jt=ye[Re])||jt===ut)throw new jr;(1===jt||jt===ut-1)&&wt++}var Kt=new Array(I*v-wt),_n=0;for(Re=0;Re<I;Re++){var jt;if(1===(jt=ye[Re])||jt===ut-1)Kt.fill(jt>1,_n,_n+v-1),_n+=v-1;else for(var On=v-1;On>=0;--On)Kt[_n++]=!!(jt&1<<On)}return Kt},g.prototype.extractBits=function(s){var a=this.ddata.isCompact(),v=this.ddata.getNbLayers(),I=(a?11:14)+4*v,F=new Int32Array(I),se=new Array(this.totalBitsInLayer(v,a));if(a)for(var ye=0;ye<F.length;ye++)F[ye]=ye;else{var Re=I+1+2*zi.truncDivision(zi.truncDivision(I,2)-1,15),ze=I/2,ut=zi.truncDivision(Re,2);for(ye=0;ye<ze;ye++){var wt=ye+zi.truncDivision(ye,15);F[ze-ye-1]=ut-wt-1,F[ze+ye]=ut+wt+1}}ye=0;for(var jt=0;ye<v;ye++){for(var Kt=4*(v-ye)+(a?9:12),_n=2*ye,On=I-1-_n,nr=0;nr<Kt;nr++)for(var rr=2*nr,er=0;er<2;er++)se[jt+rr+er]=s.get(F[_n+er],F[_n+nr]),se[jt+2*Kt+rr+er]=s.get(F[_n+nr],F[On-er]),se[jt+4*Kt+rr+er]=s.get(F[On-er],F[On-nr]),se[jt+6*Kt+rr+er]=s.get(F[On-nr],F[_n+er]);jt+=8*Kt}return se},g.readCode=function(s,a,v){for(var I=0,F=a;F<a+v;F++)I<<=1,s[F]&&(I|=1);return I},g.readByte=function(s,a){var v=s.length-a;return v>=8?g.readCode(s,a,8):g.readCode(s,a,v)<<8-v},g.convertBoolArrayToByteArray=function(s){for(var a=new Uint8Array((s.length+7)/8),v=0;v<a.length;v++)a[v]=g.readByte(s,8*v);return a},g.prototype.totalBitsInLayer=function(s,a){return((a?88:112)+16*s)*s},g.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],g.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],g.MIXED_TABLE=["CTRL_PS"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],g.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],g.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],g}(),rs=function(){function g(){}return g.round=function(s){return isNaN(s)?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0},g.distance=function(s,a,v,I){var F=s-v,se=a-I;return Math.sqrt(F*F+se*se)},g.sum=function(s){for(var a=0,v=0,I=s.length;v!==I;v++)a+=s[v];return a},g}(),bl=function(){function g(){}return g.floatToIntBits=function(s){return s},g.MAX_VALUE=Number.MAX_SAFE_INTEGER,g}(),ii=function(){function g(s,a){this.x=s,this.y=a}return g.prototype.getX=function(){return this.x},g.prototype.getY=function(){return this.y},g.prototype.equals=function(s){return s instanceof g&&(this.x===s.x&&this.y===s.y)},g.prototype.hashCode=function(){return 31*bl.floatToIntBits(this.x)+bl.floatToIntBits(this.y)},g.prototype.toString=function(){return"("+this.x+","+this.y+")"},g.orderBestPatterns=function(s){var F,se,ye,a=this.distance(s[0],s[1]),v=this.distance(s[1],s[2]),I=this.distance(s[0],s[2]);if(v>=a&&v>=I?(se=s[0],F=s[1],ye=s[2]):I>=v&&I>=a?(se=s[1],F=s[0],ye=s[2]):(se=s[2],F=s[0],ye=s[1]),this.crossProductZ(F,se,ye)<0){var Re=F;F=ye,ye=Re}s[0]=F,s[1]=se,s[2]=ye},g.distance=function(s,a){return rs.distance(s.x,s.y,a.x,a.y)},g.crossProductZ=function(s,a,v){var I=a.x,F=a.y;return(v.x-I)*(s.y-F)-(v.y-F)*(s.x-I)},g}(),Ll=function(){function g(s,a){this.bits=s,this.points=a}return g.prototype.getBits=function(){return this.bits},g.prototype.getPoints=function(){return this.points},g}();var Hf=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const yh=function(g){function s(a,v,I,F,se){var ye=g.call(this,a,v)||this;return ye.compact=I,ye.nbDatablocks=F,ye.nbLayers=se,ye}return Hf(s,g),s.prototype.getNbLayers=function(){return this.nbLayers},s.prototype.getNbDatablocks=function(){return this.nbDatablocks},s.prototype.isCompact=function(){return this.compact},s}(Ll),fn=function(){function g(s,a,v,I){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),null==a&&(a=g.INIT_SIZE),null==v&&(v=s.getWidth()/2|0),null==I&&(I=s.getHeight()/2|0);var F=a/2|0;if(this.leftInit=v-F,this.rightInit=v+F,this.upInit=I-F,this.downInit=I+F,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Gt}return g.prototype.detect=function(){for(var s=this.leftInit,a=this.rightInit,v=this.upInit,I=this.downInit,F=!1,se=!0,ye=!1,Re=!1,ze=!1,ut=!1,wt=!1,jt=this.width,Kt=this.height;se;){se=!1;for(var _n=!0;(_n||!Re)&&a<jt;)(_n=this.containsBlackPoint(v,I,a,!1))?(a++,se=!0,Re=!0):Re||a++;if(a>=jt){F=!0;break}for(var On=!0;(On||!ze)&&I<Kt;)(On=this.containsBlackPoint(s,a,I,!0))?(I++,se=!0,ze=!0):ze||I++;if(I>=Kt){F=!0;break}for(var nr=!0;(nr||!ut)&&s>=0;)(nr=this.containsBlackPoint(v,I,s,!1))?(s--,se=!0,ut=!0):ut||s--;if(s<0){F=!0;break}for(var rr=!0;(rr||!wt)&&v>=0;)(rr=this.containsBlackPoint(s,a,v,!0))?(v--,se=!0,wt=!0):wt||v--;if(v<0){F=!0;break}se&&(ye=!0)}if(!F&&ye){for(var er=a-s,fr=null,Tr=1;null===fr&&Tr<er;Tr++)fr=this.getBlackPointOnSegment(s,I-Tr,s+Tr,I);if(null==fr)throw new Gt;var Zr=null;for(Tr=1;null===Zr&&Tr<er;Tr++)Zr=this.getBlackPointOnSegment(s,v+Tr,s+Tr,v);if(null==Zr)throw new Gt;var ci=null;for(Tr=1;null===ci&&Tr<er;Tr++)ci=this.getBlackPointOnSegment(a,v+Tr,a-Tr,v);if(null==ci)throw new Gt;var hi=null;for(Tr=1;null===hi&&Tr<er;Tr++)hi=this.getBlackPointOnSegment(a,I-Tr,a-Tr,I);if(null==hi)throw new Gt;return this.centerEdges(hi,fr,ci,Zr)}throw new Gt},g.prototype.getBlackPointOnSegment=function(s,a,v,I){for(var F=rs.round(rs.distance(s,a,v,I)),se=(v-s)/F,ye=(I-a)/F,Re=this.image,ze=0;ze<F;ze++){var ut=rs.round(s+ze*se),wt=rs.round(a+ze*ye);if(Re.get(ut,wt))return new ii(ut,wt)}return null},g.prototype.centerEdges=function(s,a,v,I){var F=s.getX(),se=s.getY(),ye=a.getX(),Re=a.getY(),ze=v.getX(),ut=v.getY(),wt=I.getX(),jt=I.getY(),Kt=g.CORR;return F<this.width/2?[new ii(wt-Kt,jt+Kt),new ii(ye+Kt,Re+Kt),new ii(ze-Kt,ut-Kt),new ii(F+Kt,se-Kt)]:[new ii(wt+Kt,jt+Kt),new ii(ye+Kt,Re-Kt),new ii(ze-Kt,ut+Kt),new ii(F-Kt,se-Kt)]},g.prototype.containsBlackPoint=function(s,a,v,I){var F=this.image;if(I){for(var se=s;se<=a;se++)if(F.get(se,v))return!0}else for(var ye=s;ye<=a;ye++)if(F.get(v,ye))return!0;return!1},g.INIT_SIZE=10,g.CORR=1,g}(),nn=function(){function g(){}return g.checkAndNudgePoints=function(s,a){for(var v=s.getWidth(),I=s.getHeight(),F=!0,se=0;se<a.length&&F;se+=2){var ye=Math.floor(a[se]),Re=Math.floor(a[se+1]);if(ye<-1||ye>v||Re<-1||Re>I)throw new Gt;F=!1,-1===ye?(a[se]=0,F=!0):ye===v&&(a[se]=v-1,F=!0),-1===Re?(a[se+1]=0,F=!0):Re===I&&(a[se+1]=I-1,F=!0)}for(F=!0,se=a.length-2;se>=0&&F;se-=2){if(ye=Math.floor(a[se]),Re=Math.floor(a[se+1]),ye<-1||ye>v||Re<-1||Re>I)throw new Gt;F=!1,-1===ye?(a[se]=0,F=!0):ye===v&&(a[se]=v-1,F=!0),-1===Re?(a[se+1]=0,F=!0):Re===I&&(a[se+1]=I-1,F=!0)}},g}(),yr=function(){function g(s,a,v,I,F,se,ye,Re,ze){this.a11=s,this.a21=a,this.a31=v,this.a12=I,this.a22=F,this.a32=se,this.a13=ye,this.a23=Re,this.a33=ze}return g.quadrilateralToQuadrilateral=function(s,a,v,I,F,se,ye,Re,ze,ut,wt,jt,Kt,_n,On,nr){var rr=g.quadrilateralToSquare(s,a,v,I,F,se,ye,Re);return g.squareToQuadrilateral(ze,ut,wt,jt,Kt,_n,On,nr).times(rr)},g.prototype.transformPoints=function(s){for(var a=s.length,v=this.a11,I=this.a12,F=this.a13,se=this.a21,ye=this.a22,Re=this.a23,ze=this.a31,ut=this.a32,wt=this.a33,jt=0;jt<a;jt+=2){var Kt=s[jt],_n=s[jt+1],On=F*Kt+Re*_n+wt;s[jt]=(v*Kt+se*_n+ze)/On,s[jt+1]=(I*Kt+ye*_n+ut)/On}},g.prototype.transformPointsWithValues=function(s,a){for(var v=this.a11,I=this.a12,F=this.a13,se=this.a21,ye=this.a22,Re=this.a23,ze=this.a31,ut=this.a32,wt=this.a33,jt=s.length,Kt=0;Kt<jt;Kt++){var _n=s[Kt],On=a[Kt],nr=F*_n+Re*On+wt;s[Kt]=(v*_n+se*On+ze)/nr,a[Kt]=(I*_n+ye*On+ut)/nr}},g.squareToQuadrilateral=function(s,a,v,I,F,se,ye,Re){var ze=s-v+F-ye,ut=a-I+se-Re;if(0===ze&&0===ut)return new g(v-s,F-v,s,I-a,se-I,a,0,0,1);var wt=v-F,jt=ye-F,Kt=I-se,_n=Re-se,On=wt*_n-jt*Kt,nr=(ze*_n-jt*ut)/On,rr=(wt*ut-ze*Kt)/On;return new g(v-s+nr*v,ye-s+rr*ye,s,I-a+nr*I,Re-a+rr*Re,a,nr,rr,1)},g.quadrilateralToSquare=function(s,a,v,I,F,se,ye,Re){return g.squareToQuadrilateral(s,a,v,I,F,se,ye,Re).buildAdjoint()},g.prototype.buildAdjoint=function(){return new g(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},g.prototype.times=function(s){return new g(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)},g}();var Lr=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const ya=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return Lr(s,g),s.prototype.sampleGrid=function(a,v,I,F,se,ye,Re,ze,ut,wt,jt,Kt,_n,On,nr,rr,er,fr,Tr){var Zr=yr.quadrilateralToQuadrilateral(F,se,ye,Re,ze,ut,wt,jt,Kt,_n,On,nr,rr,er,fr,Tr);return this.sampleGridWithTransform(a,v,I,Zr)},s.prototype.sampleGridWithTransform=function(a,v,I,F){if(v<=0||I<=0)throw new Gt;for(var se=new zt(v,I),ye=new Float32Array(2*v),Re=0;Re<I;Re++){for(var ze=ye.length,ut=Re+.5,wt=0;wt<ze;wt+=2)ye[wt]=wt/2+.5,ye[wt+1]=ut;F.transformPoints(ye),nn.checkAndNudgePoints(a,ye);try{for(wt=0;wt<ze;wt+=2)a.get(Math.floor(ye[wt]),Math.floor(ye[wt+1]))&&se.set(wt/2,Re)}catch{throw new Gt}}return se},s}(nn),Cs=function(){function g(){}return g.setGridSampler=function(s){g.gridSampler=s},g.getInstance=function(){return g.gridSampler},g.gridSampler=new ya,g}();var Fr=function(){function g(s,a){this.x=s,this.y=a}return g.prototype.toResultPoint=function(){return new ii(this.getX(),this.getY())},g.prototype.getX=function(){return this.x},g.prototype.getY=function(){return this.y},g}();const ss=function(){function g(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}return g.prototype.detect=function(){return this.detectMirror(!1)},g.prototype.detectMirror=function(s){var a=this.getMatrixCenter(),v=this.getBullsEyeCorners(a);if(s){var I=v[0];v[0]=v[2],v[2]=I}this.extractParameters(v);var F=this.sampleGrid(this.image,v[this.shift%4],v[(this.shift+1)%4],v[(this.shift+2)%4],v[(this.shift+3)%4]),se=this.getMatrixCornerPoints(v);return new yh(F,se,this.compact,this.nbDataBlocks,this.nbLayers)},g.prototype.extractParameters=function(s){if(!(this.isValidPoint(s[0])&&this.isValidPoint(s[1])&&this.isValidPoint(s[2])&&this.isValidPoint(s[3])))throw new Gt;var a=2*this.nbCenterLayers,v=new Int32Array([this.sampleLine(s[0],s[1],a),this.sampleLine(s[1],s[2],a),this.sampleLine(s[2],s[3],a),this.sampleLine(s[3],s[0],a)]);this.shift=this.getRotation(v,a);for(var I=0,F=0;F<4;F++){var se=v[(this.shift+F)%4];this.compact?(I<<=7,I+=se>>1&127):(I<<=10,I+=(se>>2&992)+(se>>1&31))}var ye=this.getCorrectedParameterData(I,this.compact);this.compact?(this.nbLayers=1+(ye>>6),this.nbDataBlocks=1+(63&ye)):(this.nbLayers=1+(ye>>11),this.nbDataBlocks=1+(2047&ye))},g.prototype.getRotation=function(s,a){var v=0;s.forEach(function(F,se,ye){v=(F>>a-2<<1)+(1&F)+(v<<3)}),v=((1&v)<<11)+(v>>1);for(var I=0;I<4;I++)if(zi.bitCount(v^this.EXPECTED_CORNER_BITS[I])<=2)return I;throw new Gt},g.prototype.getCorrectedParameterData=function(s,a){var v,I;a?(v=7,I=2):(v=10,I=4);for(var F=v-I,se=new Int32Array(v),ye=v-1;ye>=0;--ye)se[ye]=15&s,s>>=4;try{new mu(sc.AZTEC_PARAM).decode(se,F)}catch{throw new Gt}var ze=0;for(ye=0;ye<I;ye++)ze=(ze<<4)+se[ye];return ze},g.prototype.getBullsEyeCorners=function(s){var a=s,v=s,I=s,F=s,se=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var ye=this.getFirstDifferent(a,se,1,-1),Re=this.getFirstDifferent(v,se,1,1),ze=this.getFirstDifferent(I,se,-1,1),ut=this.getFirstDifferent(F,se,-1,-1);if(this.nbCenterLayers>2){var wt=this.distancePoint(ut,ye)*this.nbCenterLayers/(this.distancePoint(F,a)*(this.nbCenterLayers+2));if(wt<.75||wt>1.25||!this.isWhiteOrBlackRectangle(ye,Re,ze,ut))break}a=ye,v=Re,I=ze,F=ut,se=!se}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new Gt;this.compact=5===this.nbCenterLayers;var jt=new ii(a.getX()+.5,a.getY()-.5),Kt=new ii(v.getX()+.5,v.getY()+.5),_n=new ii(I.getX()-.5,I.getY()+.5),On=new ii(F.getX()-.5,F.getY()-.5);return this.expandSquare([jt,Kt,_n,On],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},g.prototype.getMatrixCenter=function(){var s,a,v,I;try{s=(F=new fn(this.image).detect())[0],a=F[1],v=F[2],I=F[3]}catch{var se=this.image.getWidth()/2,ye=this.image.getHeight()/2;s=this.getFirstDifferent(new Fr(se+7,ye-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Fr(se+7,ye+7),!1,1,1).toResultPoint(),v=this.getFirstDifferent(new Fr(se-7,ye+7),!1,-1,1).toResultPoint(),I=this.getFirstDifferent(new Fr(se-7,ye-7),!1,-1,-1).toResultPoint()}var Re=rs.round((s.getX()+I.getX()+a.getX()+v.getX())/4),ze=rs.round((s.getY()+I.getY()+a.getY()+v.getY())/4);try{var F;s=(F=new fn(this.image,15,Re,ze).detect())[0],a=F[1],v=F[2],I=F[3]}catch{s=this.getFirstDifferent(new Fr(Re+7,ze-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Fr(Re+7,ze+7),!1,1,1).toResultPoint(),v=this.getFirstDifferent(new Fr(Re-7,ze+7),!1,-1,1).toResultPoint(),I=this.getFirstDifferent(new Fr(Re-7,ze-7),!1,-1,-1).toResultPoint()}return Re=rs.round((s.getX()+I.getX()+a.getX()+v.getX())/4),ze=rs.round((s.getY()+I.getY()+a.getY()+v.getY())/4),new Fr(Re,ze)},g.prototype.getMatrixCornerPoints=function(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())},g.prototype.sampleGrid=function(s,a,v,I,F){var se=Cs.getInstance(),ye=this.getDimension(),Re=ye/2-this.nbCenterLayers,ze=ye/2+this.nbCenterLayers;return se.sampleGrid(s,ye,ye,Re,Re,ze,Re,ze,ze,Re,ze,a.getX(),a.getY(),v.getX(),v.getY(),I.getX(),I.getY(),F.getX(),F.getY())},g.prototype.sampleLine=function(s,a,v){for(var I=0,F=this.distanceResultPoint(s,a),se=F/v,ye=s.getX(),Re=s.getY(),ze=se*(a.getX()-s.getX())/F,ut=se*(a.getY()-s.getY())/F,wt=0;wt<v;wt++)this.image.get(rs.round(ye+wt*ze),rs.round(Re+wt*ut))&&(I|=1<<v-wt-1);return I},g.prototype.isWhiteOrBlackRectangle=function(s,a,v,I){s=new Fr(s.getX()-3,s.getY()+3),a=new Fr(a.getX()-3,a.getY()-3),v=new Fr(v.getX()+3,v.getY()-3),I=new Fr(I.getX()+3,I.getY()+3);var se=this.getColor(I,s);if(0===se)return!1;var ye=this.getColor(s,a);return ye===se&&(ye=this.getColor(a,v))===se&&(ye=this.getColor(v,I))===se},g.prototype.getColor=function(s,a){for(var v=this.distancePoint(s,a),I=(a.getX()-s.getX())/v,F=(a.getY()-s.getY())/v,se=0,ye=s.getX(),Re=s.getY(),ze=this.image.get(s.getX(),s.getY()),ut=Math.ceil(v),wt=0;wt<ut;wt++)Re+=F,this.image.get(rs.round(ye+=I),rs.round(Re))!==ze&&se++;var jt=se/v;return jt>.1&&jt<.9?0:jt<=.1===ze?1:-1},g.prototype.getFirstDifferent=function(s,a,v,I){for(var F=s.getX()+v,se=s.getY()+I;this.isValid(F,se)&&this.image.get(F,se)===a;)F+=v,se+=I;for(F-=v,se-=I;this.isValid(F,se)&&this.image.get(F,se)===a;)F+=v;for(F-=v;this.isValid(F,se)&&this.image.get(F,se)===a;)se+=I;return new Fr(F,se-=I)},g.prototype.expandSquare=function(s,a,v){var I=v/(2*a),F=s[0].getX()-s[2].getX(),se=s[0].getY()-s[2].getY(),ye=(s[0].getX()+s[2].getX())/2,Re=(s[0].getY()+s[2].getY())/2,ze=new ii(ye+I*F,Re+I*se),ut=new ii(ye-I*F,Re-I*se);return F=s[1].getX()-s[3].getX(),se=s[1].getY()-s[3].getY(),ye=(s[1].getX()+s[3].getX())/2,Re=(s[1].getY()+s[3].getY())/2,[ze,new ii(ye+I*F,Re+I*se),ut,new ii(ye-I*F,Re-I*se)]},g.prototype.isValid=function(s,a){return s>=0&&s<this.image.getWidth()&&a>0&&a<this.image.getHeight()},g.prototype.isValidPoint=function(s){var a=rs.round(s.getX()),v=rs.round(s.getY());return this.isValid(a,v)},g.prototype.distancePoint=function(s,a){return rs.distance(s.getX(),s.getY(),a.getX(),a.getY())},g.prototype.distanceResultPoint=function(s,a){return rs.distance(s.getX(),s.getY(),a.getX(),a.getY())},g.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(zi.truncDivision(this.nbLayers-4,8)+1)+15},g}(),ol=function(){function g(){}return g.prototype.decode=function(s,a){void 0===a&&(a=null);var v=null,I=new ss(s.getBlackMatrix()),F=null,se=null;try{F=(ye=I.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(a,F),se=(new Xc).decode(ye)}catch(wt){v=wt}if(null==se)try{var ye;F=(ye=I.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(a,F),se=(new Xc).decode(ye)}catch(wt){throw v??wt}var Re=new Ka(se.getText(),se.getRawBytes(),se.getNumBits(),F,Di.AZTEC,kr.currentTimeMillis()),ze=se.getByteSegments();null!=ze&&Re.putMetadata(_s.BYTE_SEGMENTS,ze);var ut=se.getECLevel();return null!=ut&&Re.putMetadata(_s.ERROR_CORRECTION_LEVEL,ut),Re},g.prototype.reportFoundResultPoints=function(s,a){if(null!=s){var v=s.get(wi.NEED_RESULT_POINT_CALLBACK);null!=v&&a.forEach(function(I,F,se){v.foundPossibleResultPoint(I)})}},g.prototype.reset=function(){},g}();var g,va=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();va(function s(a){return void 0===a&&(a=500),g.call(this,new ol,a)||this},g=Bl);const fs=function(){function g(){}return g.prototype.decode=function(s,a){try{return this.doDecode(s,a)}catch{if(a&&!0===a.get(wi.TRY_HARDER)&&s.isRotateSupported()){var I=s.rotateCounterClockwise(),F=this.doDecode(I,a),se=F.getResultMetadata(),ye=270;null!==se&&!0===se.get(_s.ORIENTATION)&&(ye+=se.get(_s.ORIENTATION)%360),F.putMetadata(_s.ORIENTATION,ye);var Re=F.getResultPoints();if(null!==Re)for(var ze=I.getHeight(),ut=0;ut<Re.length;ut++)Re[ut]=new ii(ze-Re[ut].getY()-1,Re[ut].getX());return F}throw new Gt}},g.prototype.reset=function(){},g.prototype.doDecode=function(s,a){var Re,v=s.getWidth(),I=s.getHeight(),F=new Bo(v),se=a&&!0===a.get(wi.TRY_HARDER),ye=Math.max(1,I>>(se?8:5));Re=se?I:15;for(var ze=Math.trunc(I/2),ut=0;ut<Re;ut++){var wt=Math.trunc((ut+1)/2),Kt=ze+ye*(1&ut?-wt:wt);if(Kt<0||Kt>=I)break;try{F=s.getBlackRow(Kt,F)}catch{continue}for(var _n=function(er){if(1===er&&(F.reverse(),a&&!0===a.get(wi.NEED_RESULT_POINT_CALLBACK))){var fr=new Map;a.forEach(function(ci,hi){return fr.set(hi,ci)}),fr.delete(wi.NEED_RESULT_POINT_CALLBACK),a=fr}try{var Tr=On.decodeRow(Kt,F,a);if(1===er){Tr.putMetadata(_s.ORIENTATION,180);var Zr=Tr.getResultPoints();null!==Zr&&(Zr[0]=new ii(v-Zr[0].getX()-1,Zr[0].getY()),Zr[1]=new ii(v-Zr[1].getX()-1,Zr[1].getY()))}return{value:Tr}}catch{}},On=this,nr=0;nr<2;nr++){var rr=_n(nr);if("object"==typeof rr)return rr.value}}throw new Gt},g.recordPattern=function(s,a,v){for(var I=v.length,F=0;F<I;F++)v[F]=0;var se=s.getSize();if(a>=se)throw new Gt;for(var ye=!s.get(a),Re=0,ze=a;ze<se;){if(s.get(ze)!==ye)v[Re]++;else{if(++Re===I)break;v[Re]=1,ye=!ye}ze++}if(Re!==I&&(Re!==I-1||ze!==se))throw new Gt},g.recordPatternInReverse=function(s,a,v){for(var I=v.length,F=s.get(a);a>0&&I>=0;)s.get(--a)!==F&&(I--,F=!F);if(I>=0)throw new Gt;g.recordPattern(s,a+1,v)},g.patternMatchVariance=function(s,a,v){for(var I=s.length,F=0,se=0,ye=0;ye<I;ye++)F+=s[ye],se+=a[ye];if(F<se)return Number.POSITIVE_INFINITY;var Re=F/se;v*=Re;for(var ze=0,ut=0;ut<I;ut++){var wt=s[ut],jt=a[ut]*Re,Kt=wt>jt?wt-jt:jt-wt;if(Kt>v)return Number.POSITIVE_INFINITY;ze+=Kt}return ze/F},g}();var _l=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Fl=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return _l(s,g),s.findStartPattern=function(a){for(var v=a.getSize(),I=a.getNextSet(0),F=0,se=Int32Array.from([0,0,0,0,0,0]),ye=I,Re=!1,ut=I;ut<v;ut++)if(a.get(ut)!==Re)se[F]++;else{if(5===F){for(var wt=s.MAX_AVG_VARIANCE,jt=-1,Kt=s.CODE_START_A;Kt<=s.CODE_START_C;Kt++){var _n=fs.patternMatchVariance(se,s.CODE_PATTERNS[Kt],s.MAX_INDIVIDUAL_VARIANCE);_n<wt&&(wt=_n,jt=Kt)}if(jt>=0&&a.isRange(Math.max(0,ye-(ut-ye)/2),ye,!1))return Int32Array.from([ye,ut,jt]);ye+=se[0]+se[1],(se=se.slice(2,se.length))[F-1]=0,se[F]=0,F--}else F++;se[F]=1,Re=!Re}throw new Gt},s.decodeCode=function(a,v,I){fs.recordPattern(a,I,v);for(var F=s.MAX_AVG_VARIANCE,se=-1,ye=0;ye<s.CODE_PATTERNS.length;ye++){var ze=this.patternMatchVariance(v,s.CODE_PATTERNS[ye],s.MAX_INDIVIDUAL_VARIANCE);ze<F&&(F=ze,se=ye)}if(se>=0)return se;throw new Gt},s.prototype.decodeRow=function(a,v,I){var ut,F=I&&!0===I.get(wi.ASSUME_GS1),se=s.findStartPattern(v),ye=se[2],Re=0,ze=new Uint8Array(20);switch(ze[Re++]=ye,ye){case s.CODE_START_A:ut=s.CODE_CODE_A;break;case s.CODE_START_B:ut=s.CODE_CODE_B;break;case s.CODE_START_C:ut=s.CODE_CODE_C;break;default:throw new jr}for(var wt=!1,jt=!1,Kt="",_n=se[0],On=se[1],nr=Int32Array.from([0,0,0,0,0,0]),rr=0,er=0,fr=ye,Tr=0,Zr=!0,ci=!1,hi=!1;!wt;){var Ti=jt;switch(jt=!1,rr=er,er=s.decodeCode(v,nr,On),ze[Re++]=er,er!==s.CODE_STOP&&(Zr=!0),er!==s.CODE_STOP&&(fr+=++Tr*er),_n=On,On+=nr.reduce(function(lb,Qm){return lb+Qm},0),er){case s.CODE_START_A:case s.CODE_START_B:case s.CODE_START_C:throw new jr}switch(ut){case s.CODE_CODE_A:if(er<64)Kt+=String.fromCharCode(hi===ci?32+er:32+er+128),hi=!1;else if(er<96)Kt+=String.fromCharCode(hi===ci?er-64:er+64),hi=!1;else switch(er!==s.CODE_STOP&&(Zr=!1),er){case s.CODE_FNC_1:F&&(Kt+=0===Kt.length?"]C1":"\x1d");break;case s.CODE_FNC_2:case s.CODE_FNC_3:break;case s.CODE_FNC_4_A:!ci&&hi?(ci=!0,hi=!1):ci&&hi?(ci=!1,hi=!1):hi=!0;break;case s.CODE_SHIFT:jt=!0,ut=s.CODE_CODE_B;break;case s.CODE_CODE_B:ut=s.CODE_CODE_B;break;case s.CODE_CODE_C:ut=s.CODE_CODE_C;break;case s.CODE_STOP:wt=!0}break;case s.CODE_CODE_B:if(er<96)Kt+=String.fromCharCode(hi===ci?32+er:32+er+128),hi=!1;else switch(er!==s.CODE_STOP&&(Zr=!1),er){case s.CODE_FNC_1:F&&(Kt+=0===Kt.length?"]C1":"\x1d");break;case s.CODE_FNC_2:case s.CODE_FNC_3:break;case s.CODE_FNC_4_B:!ci&&hi?(ci=!0,hi=!1):ci&&hi?(ci=!1,hi=!1):hi=!0;break;case s.CODE_SHIFT:jt=!0,ut=s.CODE_CODE_A;break;case s.CODE_CODE_A:ut=s.CODE_CODE_A;break;case s.CODE_CODE_C:ut=s.CODE_CODE_C;break;case s.CODE_STOP:wt=!0}break;case s.CODE_CODE_C:if(er<100)er<10&&(Kt+="0"),Kt+=er;else switch(er!==s.CODE_STOP&&(Zr=!1),er){case s.CODE_FNC_1:F&&(Kt+=0===Kt.length?"]C1":"\x1d");break;case s.CODE_CODE_A:ut=s.CODE_CODE_A;break;case s.CODE_CODE_B:ut=s.CODE_CODE_B;break;case s.CODE_STOP:wt=!0}}Ti&&(ut=ut===s.CODE_CODE_A?s.CODE_CODE_B:s.CODE_CODE_A)}var Vo=On-_n;if(On=v.getNextUnset(On),!v.isRange(On,Math.min(v.getSize(),On+(On-_n)/2),!1))throw new Gt;if((fr-=Tr*rr)%103!==rr)throw new pa;var Do=Kt.length;if(0===Do)throw new Gt;Do>0&&Zr&&(Kt=Kt.substring(0,ut===s.CODE_CODE_C?Do-2:Do-1));for(var Kc=(se[1]+se[0])/2,xs=_n+Vo/2,xc=ze.length,qd=new Uint8Array(xc),Td=0;Td<xc;Td++)qd[Td]=ze[Td];var U0=[new ii(Kc,a),new ii(xs,a)];return new Ka(Kt,qd,0,U0,Di.CODE_128,(new Date).getTime())},s.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],s.MAX_AVG_VARIANCE=.25,s.MAX_INDIVIDUAL_VARIANCE=.7,s.CODE_SHIFT=98,s.CODE_CODE_C=99,s.CODE_CODE_B=100,s.CODE_CODE_A=101,s.CODE_FNC_1=102,s.CODE_FNC_2=97,s.CODE_FNC_3=96,s.CODE_FNC_4_A=101,s.CODE_FNC_4_B=100,s.CODE_START_A=103,s.CODE_START_B=104,s.CODE_START_C=105,s.CODE_STOP=106,s}(fs);var mf=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),qh=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const Wd=function(g){function s(a,v){void 0===a&&(a=!1),void 0===v&&(v=!1);var I=g.call(this)||this;return I.usingCheckDigit=a,I.extendedMode=v,I.decodeRowResult="",I.counters=new Int32Array(9),I}return mf(s,g),s.prototype.decodeRow=function(a,v,I){var F,se,ye,Re,ze=this.counters;ze.fill(0),this.decodeRowResult="";var Kt,_n,ut=s.findAsteriskPattern(v,ze),wt=v.getNextSet(ut[1]),jt=v.getSize();do{s.recordPattern(v,wt,ze);var On=s.toNarrowWidePattern(ze);if(On<0)throw new Gt;Kt=s.patternToChar(On),this.decodeRowResult+=Kt,_n=wt;try{for(var nr=(F=void 0,qh(ze)),rr=nr.next();!rr.done;rr=nr.next())wt+=rr.value}catch(xc){F={error:xc}}finally{try{rr&&!rr.done&&(se=nr.return)&&se.call(nr)}finally{if(F)throw F.error}}wt=v.getNextSet(wt)}while("*"!==Kt);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var Do,fr=0;try{for(var Tr=qh(ze),Zr=Tr.next();!Zr.done;Zr=Tr.next())fr+=Zr.value}catch(xc){ye={error:xc}}finally{try{Zr&&!Zr.done&&(Re=Tr.return)&&Re.call(Tr)}finally{if(ye)throw ye.error}}if(wt!==jt&&2*(wt-_n-fr)<fr)throw new Gt;if(this.usingCheckDigit){for(var hi=this.decodeRowResult.length-1,Ti=0,Vo=0;Vo<hi;Vo++)Ti+=s.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Vo));if(this.decodeRowResult.charAt(hi)!==s.ALPHABET_STRING.charAt(Ti%43))throw new pa;this.decodeRowResult=this.decodeRowResult.substring(0,hi)}if(0===this.decodeRowResult.length)throw new Gt;Do=this.extendedMode?s.decodeExtended(this.decodeRowResult):this.decodeRowResult;var xs=_n+fr/2;return new Ka(Do,null,0,[new ii((ut[1]+ut[0])/2,a),new ii(xs,a)],Di.CODE_39,(new Date).getTime())},s.findAsteriskPattern=function(a,v){for(var I=a.getSize(),F=a.getNextSet(0),se=0,ye=F,Re=!1,ze=v.length,ut=F;ut<I;ut++)if(a.get(ut)!==Re)v[se]++;else{if(se===ze-1){if(this.toNarrowWidePattern(v)===s.ASTERISK_ENCODING&&a.isRange(Math.max(0,ye-Math.floor((ut-ye)/2)),ye,!1))return[ye,ut];ye+=v[0]+v[1],v.copyWithin(0,2,2+se-1),v[se-1]=0,v[se]=0,se--}else se++;v[se]=1,Re=!Re}throw new Gt},s.toNarrowWidePattern=function(a){var v,I,ye,F=a.length,se=0;do{var Re=2147483647;try{for(var ze=(v=void 0,qh(a)),ut=ze.next();!ut.done;ut=ze.next())(wt=ut.value)<Re&&wt>se&&(Re=wt)}catch(On){v={error:On}}finally{try{ut&&!ut.done&&(I=ze.return)&&I.call(ze)}finally{if(v)throw v.error}}se=Re,ye=0;for(var jt=0,Kt=0,_n=0;_n<F;_n++)(wt=a[_n])>se&&(Kt|=1<<F-1-_n,ye++,jt+=wt);if(3===ye){for(_n=0;_n<F&&ye>0;_n++){var wt;if((wt=a[_n])>se&&(ye--,2*wt>=jt))return-1}return Kt}}while(ye>3);return-1},s.patternToChar=function(a){for(var v=0;v<s.CHARACTER_ENCODINGS.length;v++)if(s.CHARACTER_ENCODINGS[v]===a)return s.ALPHABET_STRING.charAt(v);if(a===s.ASTERISK_ENCODING)return"*";throw new Gt},s.decodeExtended=function(a){for(var v=a.length,I="",F=0;F<v;F++){var se=a.charAt(F);if("+"===se||"$"===se||"%"===se||"/"===se){var ye=a.charAt(F+1),Re="\0";switch(se){case"+":if(!(ye>="A"&&ye<="Z"))throw new jr;Re=String.fromCharCode(ye.charCodeAt(0)+32);break;case"$":if(!(ye>="A"&&ye<="Z"))throw new jr;Re=String.fromCharCode(ye.charCodeAt(0)-64);break;case"%":if(ye>="A"&&ye<="E")Re=String.fromCharCode(ye.charCodeAt(0)-38);else if(ye>="F"&&ye<="J")Re=String.fromCharCode(ye.charCodeAt(0)-11);else if(ye>="K"&&ye<="O")Re=String.fromCharCode(ye.charCodeAt(0)+16);else if(ye>="P"&&ye<="T")Re=String.fromCharCode(ye.charCodeAt(0)+43);else if("U"===ye)Re="\0";else if("V"===ye)Re="@";else if("W"===ye)Re="`";else{if("X"!==ye&&"Y"!==ye&&"Z"!==ye)throw new jr;Re="\x7f"}break;case"/":if(ye>="A"&&ye<="O")Re=String.fromCharCode(ye.charCodeAt(0)-32);else{if("Z"!==ye)throw new jr;Re=":"}}I+=Re,F++}else I+=se}return I},s.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",s.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],s.ASTERISK_ENCODING=148,s}(fs);var Wf=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),Ct=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const at=function(g){function s(){var a=g.call(this)||this;return a.decodeRowResult="",a.counters=new Int32Array(6),a}return Wf(s,g),s.prototype.decodeRow=function(a,v,I){var F,se,ye,Re,Kt,_n,ze=this.findAsteriskPattern(v),ut=v.getNextSet(ze[1]),wt=v.getSize(),jt=this.counters;jt.fill(0),this.decodeRowResult="";do{s.recordPattern(v,ut,jt);var On=this.toPattern(jt);if(On<0)throw new Gt;Kt=this.patternToChar(On),this.decodeRowResult+=Kt,_n=ut;try{for(var nr=(F=void 0,Ct(jt)),rr=nr.next();!rr.done;rr=nr.next())ut+=rr.value}catch(Vo){F={error:Vo}}finally{try{rr&&!rr.done&&(se=nr.return)&&se.call(nr)}finally{if(F)throw F.error}}ut=v.getNextSet(ut)}while("*"!==Kt);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var fr=0;try{for(var Tr=Ct(jt),Zr=Tr.next();!Zr.done;Zr=Tr.next())fr+=Zr.value}catch(Vo){ye={error:Vo}}finally{try{Zr&&!Zr.done&&(Re=Tr.return)&&Re.call(Tr)}finally{if(ye)throw ye.error}}if(ut===wt||!v.get(ut))throw new Gt;if(this.decodeRowResult.length<2)throw new Gt;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var ci=this.decodeExtended(this.decodeRowResult),Ti=_n+fr/2;return new Ka(ci,null,0,[new ii((ze[1]+ze[0])/2,a),new ii(Ti,a)],Di.CODE_93,(new Date).getTime())},s.prototype.findAsteriskPattern=function(a){var v=a.getSize(),I=a.getNextSet(0);this.counters.fill(0);for(var F=this.counters,se=I,ye=!1,Re=F.length,ze=0,ut=I;ut<v;ut++)if(a.get(ut)!==ye)F[ze]++;else{if(ze===Re-1){if(this.toPattern(F)===s.ASTERISK_ENCODING)return new Int32Array([se,ut]);se+=F[0]+F[1],F.copyWithin(0,2,2+ze-1),F[ze-1]=0,F[ze]=0,ze--}else ze++;F[ze]=1,ye=!ye}throw new Gt},s.prototype.toPattern=function(a){var v,I,F=0;try{for(var se=Ct(a),ye=se.next();!ye.done;ye=se.next())F+=ye.value}catch(_n){v={error:_n}}finally{try{ye&&!ye.done&&(I=se.return)&&I.call(se)}finally{if(v)throw v.error}}for(var ze=0,ut=a.length,wt=0;wt<ut;wt++){var jt=Math.round(9*a[wt]/F);if(jt<1||jt>4)return-1;if(1&wt)ze<<=jt;else for(var Kt=0;Kt<jt;Kt++)ze=ze<<1|1}return ze},s.prototype.patternToChar=function(a){for(var v=0;v<s.CHARACTER_ENCODINGS.length;v++)if(s.CHARACTER_ENCODINGS[v]===a)return s.ALPHABET_STRING.charAt(v);throw new Gt},s.prototype.decodeExtended=function(a){for(var v=a.length,I="",F=0;F<v;F++){var se=a.charAt(F);if(se>="a"&&se<="d"){if(F>=v-1)throw new jr;var ye=a.charAt(F+1),Re="\0";switch(se){case"d":if(!(ye>="A"&&ye<="Z"))throw new jr;Re=String.fromCharCode(ye.charCodeAt(0)+32);break;case"a":if(!(ye>="A"&&ye<="Z"))throw new jr;Re=String.fromCharCode(ye.charCodeAt(0)-64);break;case"b":if(ye>="A"&&ye<="E")Re=String.fromCharCode(ye.charCodeAt(0)-38);else if(ye>="F"&&ye<="J")Re=String.fromCharCode(ye.charCodeAt(0)-11);else if(ye>="K"&&ye<="O")Re=String.fromCharCode(ye.charCodeAt(0)+16);else if(ye>="P"&&ye<="T")Re=String.fromCharCode(ye.charCodeAt(0)+43);else if("U"===ye)Re="\0";else if("V"===ye)Re="@";else if("W"===ye)Re="`";else{if(!(ye>="X"&&ye<="Z"))throw new jr;Re="\x7f"}break;case"c":if(ye>="A"&&ye<="O")Re=String.fromCharCode(ye.charCodeAt(0)-32);else{if("Z"!==ye)throw new jr;Re=":"}}I+=Re,F++}else I+=se}return I},s.prototype.checkChecksums=function(a){var v=a.length;this.checkOneChecksum(a,v-2,20),this.checkOneChecksum(a,v-1,15)},s.prototype.checkOneChecksum=function(a,v,I){for(var F=1,se=0,ye=v-1;ye>=0;ye--)se+=F*s.ALPHABET_STRING.indexOf(a.charAt(ye)),++F>I&&(F=1);if(a.charAt(v)!==s.ALPHABET_STRING[se%47])throw new pa},s.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",s.ASTERISK_ENCODING=(s.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350])[47],s}(fs);var vt=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const In=function(g){function s(){var a=null!==g&&g.apply(this,arguments)||this;return a.narrowLineWidth=-1,a}return vt(s,g),s.prototype.decodeRow=function(a,v,I){var F,se,ye=this.decodeStart(v),Re=this.decodeEnd(v),ze=new Hi;s.decodeMiddle(v,ye[1],Re[0],ze);var ut=ze.toString(),wt=null;null!=I&&(wt=I.get(wi.ALLOWED_LENGTHS)),null==wt&&(wt=s.DEFAULT_ALLOWED_LENGTHS);var jt=ut.length,Kt=!1,_n=0;try{for(var On=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(wt),nr=On.next();!nr.done;nr=On.next()){var rr=nr.value;if(jt===rr){Kt=!0;break}rr>_n&&(_n=rr)}}catch(Tr){F={error:Tr}}finally{try{nr&&!nr.done&&(se=On.return)&&se.call(On)}finally{if(F)throw F.error}}if(!Kt&&jt>_n&&(Kt=!0),!Kt)throw new jr;var er=[new ii(ye[1],a),new ii(Re[0],a)];return new Ka(ut,null,0,er,Di.ITF,(new Date).getTime())},s.decodeMiddle=function(a,v,I,F){var se=new Int32Array(10),ye=new Int32Array(5),Re=new Int32Array(5);for(se.fill(0),ye.fill(0),Re.fill(0);v<I;){fs.recordPattern(a,v,se);for(var ze=0;ze<5;ze++){var ut=2*ze;ye[ze]=se[ut],Re[ze]=se[ut+1]}var wt=s.decodeDigit(ye);F.append(wt.toString()),wt=this.decodeDigit(Re),F.append(wt.toString()),se.forEach(function(jt){v+=jt})}},s.prototype.decodeStart=function(a){var v=s.skipWhiteSpace(a),I=s.findGuardPattern(a,v,s.START_PATTERN);return this.narrowLineWidth=(I[1]-I[0])/4,this.validateQuietZone(a,I[0]),I},s.prototype.validateQuietZone=function(a,v){var I=10*this.narrowLineWidth;I=I<v?I:v;for(var F=v-1;I>0&&F>=0&&!a.get(F);F--)I--;if(0!==I)throw new Gt},s.skipWhiteSpace=function(a){var v=a.getSize(),I=a.getNextSet(0);if(I===v)throw new Gt;return I},s.prototype.decodeEnd=function(a){a.reverse();try{var v=s.skipWhiteSpace(a),I=void 0;try{I=s.findGuardPattern(a,v,s.END_PATTERN_REVERSED[0])}catch(se){se instanceof Gt&&(I=s.findGuardPattern(a,v,s.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,I[0]);var F=I[0];return I[0]=a.getSize()-I[1],I[1]=a.getSize()-F,I}finally{a.reverse()}},s.findGuardPattern=function(a,v,I){var F=I.length,se=new Int32Array(F),ye=a.getSize(),Re=!1,ze=0,ut=v;se.fill(0);for(var wt=v;wt<ye;wt++)if(a.get(wt)!==Re)se[ze]++;else{if(ze===F-1){if(fs.patternMatchVariance(se,I,s.MAX_INDIVIDUAL_VARIANCE)<s.MAX_AVG_VARIANCE)return[ut,wt];ut+=se[0]+se[1],kr.arraycopy(se,2,se,0,ze-1),se[ze-1]=0,se[ze]=0,ze--}else ze++;se[ze]=1,Re=!Re}throw new Gt},s.decodeDigit=function(a){for(var v=s.MAX_AVG_VARIANCE,I=-1,F=s.PATTERNS.length,se=0;se<F;se++){var Re=fs.patternMatchVariance(a,s.PATTERNS[se],s.MAX_INDIVIDUAL_VARIANCE);Re<v?(v=Re,I=se):Re===v&&(I=-1)}if(I>=0)return I%10;throw new Gt},s.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],s.MAX_AVG_VARIANCE=.38,s.MAX_INDIVIDUAL_VARIANCE=.5,s.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],s.START_PATTERN=Int32Array.from([1,1,1,1]),s.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],s}(fs);var sr=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Cr=function(g){function s(){var a=null!==g&&g.apply(this,arguments)||this;return a.decodeRowStringBuffer="",a}return sr(s,g),s.findStartGuardPattern=function(a){for(var I,v=!1,F=0,se=Int32Array.from([0,0,0]);!v;){se=Int32Array.from([0,0,0]);var ye=(I=s.findGuardPattern(a,F,!1,this.START_END_PATTERN,se))[0],Re=ye-((F=I[1])-ye);Re>=0&&(v=a.isRange(Re,ye,!1))}return I},s.checkChecksum=function(a){return s.checkStandardUPCEANChecksum(a)},s.checkStandardUPCEANChecksum=function(a){var v=a.length;if(0===v)return!1;var I=parseInt(a.charAt(v-1),10);return s.getStandardUPCEANChecksum(a.substring(0,v-1))===I},s.getStandardUPCEANChecksum=function(a){for(var v=a.length,I=0,F=v-1;F>=0;F-=2){if((se=a.charAt(F).charCodeAt(0)-48)<0||se>9)throw new jr;I+=se}for(I*=3,F=v-2;F>=0;F-=2){var se;if((se=a.charAt(F).charCodeAt(0)-48)<0||se>9)throw new jr;I+=se}return(1e3-I)%10},s.decodeEnd=function(a,v){return s.findGuardPattern(a,v,!1,s.START_END_PATTERN,new Int32Array(s.START_END_PATTERN.length).fill(0))},s.findGuardPatternWithoutCounters=function(a,v,I,F){return this.findGuardPattern(a,v,I,F,new Int32Array(F.length))},s.findGuardPattern=function(a,v,I,F,se){for(var ye=a.getSize(),Re=0,ze=v=I?a.getNextUnset(v):a.getNextSet(v),ut=F.length,wt=I,jt=v;jt<ye;jt++)if(a.get(jt)!==wt)se[Re]++;else{if(Re===ut-1){if(fs.patternMatchVariance(se,F,s.MAX_INDIVIDUAL_VARIANCE)<s.MAX_AVG_VARIANCE)return Int32Array.from([ze,jt]);ze+=se[0]+se[1];for(var Kt=se.slice(2,se.length),_n=0;_n<Re-1;_n++)se[_n]=Kt[_n];se[Re-1]=0,se[Re]=0,Re--}else Re++;se[Re]=1,wt=!wt}throw new Gt},s.decodeDigit=function(a,v,I,F){this.recordPattern(a,I,v);for(var se=this.MAX_AVG_VARIANCE,ye=-1,Re=F.length,ze=0;ze<Re;ze++){var wt=fs.patternMatchVariance(v,F[ze],s.MAX_INDIVIDUAL_VARIANCE);wt<se&&(se=wt,ye=ze)}if(ye>=0)return ye;throw new Gt},s.MAX_AVG_VARIANCE=.48,s.MAX_INDIVIDUAL_VARIANCE=.7,s.START_END_PATTERN=Int32Array.from([1,1,1]),s.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),s.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),s.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],s}(fs);var Qn=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const it=function(){function g(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return g.prototype.decodeRow=function(s,a,v){var I=this.decodeRowStringBuffer,F=this.decodeMiddle(a,v,I),se=I.toString(),ye=g.parseExtensionString(se),Re=[new ii((v[0]+v[1])/2,s),new ii(F,s)],ze=new Ka(se,null,0,Re,Di.UPC_EAN_EXTENSION,(new Date).getTime());return null!=ye&&ze.putAllMetadata(ye),ze},g.prototype.decodeMiddle=function(s,a,v){var I,F,se=this.decodeMiddleCounters;se[0]=0,se[1]=0,se[2]=0,se[3]=0;for(var ye=s.getSize(),Re=a[1],ze=0,ut=0;ut<5&&Re<ye;ut++){var wt=Cr.decodeDigit(s,se,Re,Cr.L_AND_G_PATTERNS);v+=String.fromCharCode(48+wt%10);try{for(var jt=(I=void 0,Qn(se)),Kt=jt.next();!Kt.done;Kt=jt.next())Re+=Kt.value}catch(nr){I={error:nr}}finally{try{Kt&&!Kt.done&&(F=jt.return)&&F.call(jt)}finally{if(I)throw I.error}}wt>=10&&(ze|=1<<4-ut),4!==ut&&(Re=s.getNextSet(Re),Re=s.getNextUnset(Re))}if(5!==v.length)throw new Gt;var On=this.determineCheckDigit(ze);if(g.extensionChecksum(v.toString())!==On)throw new Gt;return Re},g.extensionChecksum=function(s){for(var a=s.length,v=0,I=a-2;I>=0;I-=2)v+=s.charAt(I).charCodeAt(0)-48;for(v*=3,I=a-1;I>=0;I-=2)v+=s.charAt(I).charCodeAt(0)-48;return(v*=3)%10},g.prototype.determineCheckDigit=function(s){for(var a=0;a<10;a++)if(s===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new Gt},g.parseExtensionString=function(s){if(5!==s.length)return null;var a=g.parseExtension5String(s);return null==a?null:new Map([[_s.SUGGESTED_PRICE,a]])},g.parseExtension5String=function(s){var a;switch(s.charAt(0)){case"0":a="\xa3";break;case"5":a="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a=""}var v=parseInt(s.substring(1)),F=v%100;return a+(v/100).toString()+"."+(F<10?"0"+F:F.toString())},g}();var Pe=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const Ce=function(){function g(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return g.prototype.decodeRow=function(s,a,v){var I=this.decodeRowStringBuffer,F=this.decodeMiddle(a,v,I),se=I.toString(),ye=g.parseExtensionString(se),Re=[new ii((v[0]+v[1])/2,s),new ii(F,s)],ze=new Ka(se,null,0,Re,Di.UPC_EAN_EXTENSION,(new Date).getTime());return null!=ye&&ze.putAllMetadata(ye),ze},g.prototype.decodeMiddle=function(s,a,v){var I,F,se=this.decodeMiddleCounters;se[0]=0,se[1]=0,se[2]=0,se[3]=0;for(var ye=s.getSize(),Re=a[1],ze=0,ut=0;ut<2&&Re<ye;ut++){var wt=Cr.decodeDigit(s,se,Re,Cr.L_AND_G_PATTERNS);v+=String.fromCharCode(48+wt%10);try{for(var jt=(I=void 0,Pe(se)),Kt=jt.next();!Kt.done;Kt=jt.next())Re+=Kt.value}catch(On){I={error:On}}finally{try{Kt&&!Kt.done&&(F=jt.return)&&F.call(jt)}finally{if(I)throw I.error}}wt>=10&&(ze|=1<<1-ut),1!==ut&&(Re=s.getNextSet(Re),Re=s.getNextUnset(Re))}if(2!==v.length)throw new Gt;if(parseInt(v.toString())%4!==ze)throw new Gt;return Re},g.parseExtensionString=function(s){return 2!==s.length?null:new Map([[_s.ISSUE_NUMBER,parseInt(s)]])},g}(),ct=function(){function g(){}return g.decodeRow=function(s,a,v){var I=Cr.findGuardPattern(a,v,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new it).decodeRow(s,a,I)}catch{return(new Ce).decodeRow(s,a,I)}},g.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),g}();var Mt=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Cn=function(g){function s(){var a=g.call(this)||this;a.decodeRowStringBuffer="",s.L_AND_G_PATTERNS=s.L_PATTERNS.map(function(ye){return Int32Array.from(ye)});for(var v=10;v<20;v++){for(var I=s.L_PATTERNS[v-10],F=new Int32Array(I.length),se=0;se<I.length;se++)F[se]=I[I.length-se-1];s.L_AND_G_PATTERNS[v]=F}return a}return Mt(s,g),s.prototype.decodeRow=function(a,v,I){var F=s.findStartGuardPattern(v),se=null==I?null:I.get(wi.NEED_RESULT_POINT_CALLBACK);if(null!=se){var ye=new ii((F[0]+F[1])/2,a);se.foundPossibleResultPoint(ye)}var Re=this.decodeMiddle(v,F,this.decodeRowStringBuffer),ze=Re.rowOffset,ut=Re.resultString;if(null!=se){var wt=new ii(ze,a);se.foundPossibleResultPoint(wt)}var jt=s.decodeEnd(v,ze);if(null!=se){var Kt=new ii((jt[0]+jt[1])/2,a);se.foundPossibleResultPoint(Kt)}var _n=jt[1],On=_n+(_n-jt[0]);if(On>=v.getSize()||!v.isRange(_n,On,!1))throw new Gt;var nr=ut.toString();if(nr.length<8)throw new jr;if(!s.checkChecksum(nr))throw new pa;var rr=(F[1]+F[0])/2,er=(jt[1]+jt[0])/2,fr=this.getBarcodeFormat(),Tr=[new ii(rr,a),new ii(er,a)],Zr=new Ka(nr,null,0,Tr,fr,(new Date).getTime()),ci=0;try{var hi=ct.decodeRow(a,v,jt[1]);Zr.putMetadata(_s.UPC_EAN_EXTENSION,hi.getText()),Zr.putAllMetadata(hi.getResultMetadata()),Zr.addResultPoints(hi.getResultPoints()),ci=hi.getText().length}catch{}var Ti=null==I?null:I.get(wi.ALLOWED_EAN_EXTENSIONS);if(null!=Ti){var Vo=!1;for(var Do in Ti)if(ci.toString()===Do){Vo=!0;break}if(!Vo)throw new Gt}return Zr},s.checkChecksum=function(a){return s.checkStandardUPCEANChecksum(a)},s.checkStandardUPCEANChecksum=function(a){var v=a.length;if(0===v)return!1;var I=parseInt(a.charAt(v-1),10);return s.getStandardUPCEANChecksum(a.substring(0,v-1))===I},s.getStandardUPCEANChecksum=function(a){for(var v=a.length,I=0,F=v-1;F>=0;F-=2){if((se=a.charAt(F).charCodeAt(0)-48)<0||se>9)throw new jr;I+=se}for(I*=3,F=v-2;F>=0;F-=2){var se;if((se=a.charAt(F).charCodeAt(0)-48)<0||se>9)throw new jr;I+=se}return(1e3-I)%10},s.decodeEnd=function(a,v){return s.findGuardPattern(a,v,!1,s.START_END_PATTERN,new Int32Array(s.START_END_PATTERN.length).fill(0))},s}(Cr);var cn=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),Dt=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const Qr=function(g){function s(){var a=g.call(this)||this;return a.decodeMiddleCounters=Int32Array.from([0,0,0,0]),a}return cn(s,g),s.prototype.decodeMiddle=function(a,v,I){var F,se,ye,Re,ze=this.decodeMiddleCounters;ze[0]=0,ze[1]=0,ze[2]=0,ze[3]=0;for(var ut=a.getSize(),wt=v[1],jt=0,Kt=0;Kt<6&&wt<ut;Kt++){var _n=Cn.decodeDigit(a,ze,wt,Cn.L_AND_G_PATTERNS);I+=String.fromCharCode(48+_n%10);try{for(var On=(F=void 0,Dt(ze)),nr=On.next();!nr.done;nr=On.next())wt+=nr.value}catch(Zr){F={error:Zr}}finally{try{nr&&!nr.done&&(se=On.return)&&se.call(On)}finally{if(F)throw F.error}}_n>=10&&(jt|=1<<5-Kt)}for(I=s.determineFirstDigit(I,jt),wt=Cn.findGuardPattern(a,wt,!0,Cn.MIDDLE_PATTERN,new Int32Array(Cn.MIDDLE_PATTERN.length).fill(0))[1],Kt=0;Kt<6&&wt<ut;Kt++){_n=Cn.decodeDigit(a,ze,wt,Cn.L_PATTERNS),I+=String.fromCharCode(48+_n);try{for(var fr=(ye=void 0,Dt(ze)),Tr=fr.next();!Tr.done;Tr=fr.next())wt+=Tr.value}catch(hi){ye={error:hi}}finally{try{Tr&&!Tr.done&&(Re=fr.return)&&Re.call(fr)}finally{if(ye)throw ye.error}}}return{rowOffset:wt,resultString:I}},s.prototype.getBarcodeFormat=function(){return Di.EAN_13},s.determineFirstDigit=function(a,v){for(var I=0;I<10;I++)if(v===this.FIRST_DIGIT_ENCODINGS[I])return String.fromCharCode(48+I)+a;throw new Gt},s.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],s}(Cn);var Ui=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),Ii=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const io=function(g){function s(){var a=g.call(this)||this;return a.decodeMiddleCounters=Int32Array.from([0,0,0,0]),a}return Ui(s,g),s.prototype.decodeMiddle=function(a,v,I){var F,se,ye,Re,ze=this.decodeMiddleCounters;ze[0]=0,ze[1]=0,ze[2]=0,ze[3]=0;for(var ut=a.getSize(),wt=v[1],jt=0;jt<4&&wt<ut;jt++){var Kt=Cn.decodeDigit(a,ze,wt,Cn.L_PATTERNS);I+=String.fromCharCode(48+Kt);try{for(var _n=(F=void 0,Ii(ze)),On=_n.next();!On.done;On=_n.next())wt+=On.value}catch(Tr){F={error:Tr}}finally{try{On&&!On.done&&(se=_n.return)&&se.call(_n)}finally{if(F)throw F.error}}}for(wt=Cn.findGuardPattern(a,wt,!0,Cn.MIDDLE_PATTERN,new Int32Array(Cn.MIDDLE_PATTERN.length).fill(0))[1],jt=0;jt<4&&wt<ut;jt++){Kt=Cn.decodeDigit(a,ze,wt,Cn.L_PATTERNS),I+=String.fromCharCode(48+Kt);try{for(var er=(ye=void 0,Ii(ze)),fr=er.next();!fr.done;fr=er.next())wt+=fr.value}catch(ci){ye={error:ci}}finally{try{fr&&!fr.done&&(Re=er.return)&&Re.call(er)}finally{if(ye)throw ye.error}}}return{rowOffset:wt,resultString:I}},s.prototype.getBarcodeFormat=function(){return Di.EAN_8},s}(Cn);var Ts=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Gr=function(g){function s(){var a=null!==g&&g.apply(this,arguments)||this;return a.ean13Reader=new Qr,a}return Ts(s,g),s.prototype.getBarcodeFormat=function(){return Di.UPC_A},s.prototype.decode=function(a,v){return this.maybeReturnResult(this.ean13Reader.decode(a))},s.prototype.decodeRow=function(a,v,I){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,v,I))},s.prototype.decodeMiddle=function(a,v,I){return this.ean13Reader.decodeMiddle(a,v,I)},s.prototype.maybeReturnResult=function(a){var v=a.getText();if("0"===v.charAt(0)){var I=new Ka(v.substring(1),null,null,a.getResultPoints(),Di.UPC_A);return null!=a.getResultMetadata()&&I.putAllMetadata(a.getResultMetadata()),I}throw new Gt},s.prototype.reset=function(){this.ean13Reader.reset()},s}(Cn);var oo=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),Lo=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const Qo=function(g){function s(){var a=g.call(this)||this;return a.decodeMiddleCounters=new Int32Array(4),a}return oo(s,g),s.prototype.decodeMiddle=function(a,v,I){var F,se,ye=this.decodeMiddleCounters.map(function(nr){return nr});ye[0]=0,ye[1]=0,ye[2]=0,ye[3]=0;for(var Re=a.getSize(),ze=v[1],ut=0,wt=0;wt<6&&ze<Re;wt++){var jt=s.decodeDigit(a,ye,ze,s.L_AND_G_PATTERNS);I+=String.fromCharCode(48+jt%10);try{for(var Kt=(F=void 0,Lo(ye)),_n=Kt.next();!_n.done;_n=Kt.next())ze+=_n.value}catch(nr){F={error:nr}}finally{try{_n&&!_n.done&&(se=Kt.return)&&se.call(Kt)}finally{if(F)throw F.error}}jt>=10&&(ut|=1<<5-wt)}return s.determineNumSysAndCheckDigit(new Hi(I),ut),ze},s.prototype.decodeEnd=function(a,v){return s.findGuardPatternWithoutCounters(a,v,!0,s.MIDDLE_END_PATTERN)},s.prototype.checkChecksum=function(a){return Cn.checkChecksum(s.convertUPCEtoUPCA(a))},s.determineNumSysAndCheckDigit=function(a,v){for(var I=0;I<=1;I++)for(var F=0;F<10;F++)if(v===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[I][F])return a.insert(0,"0"+I),void a.append("0"+F);throw Gt.getNotFoundInstance()},s.prototype.getBarcodeFormat=function(){return Di.UPC_E},s.convertUPCEtoUPCA=function(a){var v=a.slice(1,7).split("").map(function(se){return se.charCodeAt(0)}),I=new Hi;I.append(a.charAt(0));var F=v[5];switch(F){case 0:case 1:case 2:I.appendChars(v,0,2),I.append(F),I.append("0000"),I.appendChars(v,2,3);break;case 3:I.appendChars(v,0,3),I.append("00000"),I.appendChars(v,3,2);break;case 4:I.appendChars(v,0,4),I.append("00000"),I.append(v[4]);break;default:I.appendChars(v,0,5),I.append("0000"),I.append(F)}return a.length>=8&&I.append(a.charAt(7)),I.toString()},s.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),s.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],s}(Cn);var Zc=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),rt=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const lt=function(g){function s(a){var v=g.call(this)||this,I=null==a?null:a.get(wi.POSSIBLE_FORMATS),F=[];return null!=I&&(I.indexOf(Di.EAN_13)>-1&&F.push(new Qr),I.indexOf(Di.UPC_A)>-1&&F.push(new Gr),I.indexOf(Di.EAN_8)>-1&&F.push(new io),I.indexOf(Di.UPC_E)>-1&&F.push(new Qo)),0===F.length&&(F.push(new Qr),F.push(new Gr),F.push(new io),F.push(new Qo)),v.readers=F,v}return Zc(s,g),s.prototype.decodeRow=function(a,v,I){var F,se;try{for(var ye=rt(this.readers),Re=ye.next();!Re.done;Re=ye.next()){var ze=Re.value;try{var ut=ze.decodeRow(a,v,I),wt=ut.getBarcodeFormat()===Di.EAN_13&&"0"===ut.getText().charAt(0),jt=null==I?null:I.get(wi.POSSIBLE_FORMATS),Kt=null==jt||jt.includes(Di.UPC_A);if(wt&&Kt){var _n=ut.getRawBytes(),On=new Ka(ut.getText().substring(1),_n,_n?_n.length:null,ut.getResultPoints(),Di.UPC_A);return On.putAllMetadata(ut.getResultMetadata()),On}return ut}catch{}}}catch(nr){F={error:nr}}finally{try{Re&&!Re.done&&(se=ye.return)&&se.call(ye)}finally{if(F)throw F.error}}throw new Gt},s.prototype.reset=function(){var a,v;try{for(var I=rt(this.readers),F=I.next();!F.done;F=I.next())F.value.reset()}catch(ye){a={error:ye}}finally{try{F&&!F.done&&(v=I.return)&&v.call(I)}finally{if(a)throw a.error}}},s}(fs);var It=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const bn=function(g){function s(){var a=null!==g&&g.apply(this,arguments)||this;return a.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},a}return It(s,g),s.prototype.decodeRow=function(a,v,I){var F=this.getValidRowData(v);if(!F)throw new Gt;var se=this.codaBarDecodeRow(F.row);if(!se)throw new Gt;return new Ka(se,null,0,[new ii(F.left,a),new ii(F.right,a)],Di.CODABAR,(new Date).getTime())},s.prototype.getValidRowData=function(a){var v=a.toArray(),I=v.indexOf(!0);if(-1===I)return null;var F=v.lastIndexOf(!0);if(F<=I)return null;for(var se=[],ye=(v=v.slice(I,F+1))[0],Re=1,ze=1;ze<v.length;ze++)v[ze]===ye?Re++:(ye=v[ze],se.push(Re),Re=1);return se.push(Re),se.length<23&&(se.length+1)%8!=0?null:{row:se,left:I,right:F}},s.prototype.codaBarDecodeRow=function(a){for(var v=[],I=Math.ceil(a.reduce(function(Re,ze){return(Re+ze)/2},0));a.length>0;){var se=a.splice(0,8).splice(0,7).map(function(Re){return Re<I?"n":"w"}).join("");if(void 0===this.CODA_BAR_CHAR_SET[se])return null;v.push(this.CODA_BAR_CHAR_SET[se])}var ye=v.join("");return this.validCodaBarString(ye)?ye:null},s.prototype.validCodaBarString=function(a){return/^[A-D].{1,}[A-D]$/.test(a)},s}(fs);var $n=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const ai=function(g){function s(){var a=g.call(this)||this;return a.decodeFinderCounters=new Int32Array(4),a.dataCharacterCounters=new Int32Array(8),a.oddRoundingErrors=new Array(4),a.evenRoundingErrors=new Array(4),a.oddCounts=new Array(a.dataCharacterCounters.length/2),a.evenCounts=new Array(a.dataCharacterCounters.length/2),a}return $n(s,g),s.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},s.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},s.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},s.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},s.prototype.getOddCounts=function(){return this.oddCounts},s.prototype.getEvenCounts=function(){return this.evenCounts},s.prototype.parseFinderValue=function(a,v){for(var I=0;I<v.length;I++)if(fs.patternMatchVariance(a,v[I],s.MAX_INDIVIDUAL_VARIANCE)<s.MAX_AVG_VARIANCE)return I;throw new Gt},s.count=function(a){return rs.sum(new Int32Array(a))},s.increment=function(a,v){for(var I=0,F=v[0],se=1;se<a.length;se++)v[se]>F&&(F=v[se],I=se);a[I]++},s.decrement=function(a,v){for(var I=0,F=v[0],se=1;se<a.length;se++)v[se]<F&&(F=v[se],I=se);a[I]--},s.isFinderPattern=function(a){var v,I,F=a[0]+a[1],ye=F/(F+a[2]+a[3]);if(ye>=s.MIN_FINDER_PATTERN_RATIO&&ye<=s.MAX_FINDER_PATTERN_RATIO){var Re=Number.MAX_SAFE_INTEGER,ze=Number.MIN_SAFE_INTEGER;try{for(var ut=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),wt=ut.next();!wt.done;wt=ut.next()){var jt=wt.value;jt>ze&&(ze=jt),jt<Re&&(Re=jt)}}catch(Kt){v={error:Kt}}finally{try{wt&&!wt.done&&(I=ut.return)&&I.call(ut)}finally{if(v)throw v.error}}return ze<10*Re}return!1},s.MAX_AVG_VARIANCE=.2,s.MAX_INDIVIDUAL_VARIANCE=.45,s.MIN_FINDER_PATTERN_RATIO=9.5/12,s.MAX_FINDER_PATTERN_RATIO=12.5/14,s}(fs),xo=function(){function g(s,a){this.value=s,this.checksumPortion=a}return g.prototype.getValue=function(){return this.value},g.prototype.getChecksumPortion=function(){return this.checksumPortion},g.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},g.prototype.equals=function(s){return s instanceof g&&(this.value===s.value&&this.checksumPortion===s.checksumPortion)},g.prototype.hashCode=function(){return this.value^this.checksumPortion},g}(),xa=function(){function g(s,a,v,I,F){this.value=s,this.startEnd=a,this.value=s,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new ii(v,F)),this.resultPoints.push(new ii(I,F))}return g.prototype.getValue=function(){return this.value},g.prototype.getStartEnd=function(){return this.startEnd},g.prototype.getResultPoints=function(){return this.resultPoints},g.prototype.equals=function(s){return s instanceof g&&this.value===s.value},g.prototype.hashCode=function(){return this.value},g}(),Wi=function(){function g(){}return g.getRSSvalue=function(s,a,v){var I,F,se=0;try{for(var ye=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),Re=ye.next();!Re.done;Re=ye.next())se+=Re.value}catch(er){I={error:er}}finally{try{Re&&!Re.done&&(F=ye.return)&&F.call(ye)}finally{if(I)throw I.error}}for(var ut=0,wt=0,jt=s.length,Kt=0;Kt<jt-1;Kt++){var _n=void 0;for(_n=1,wt|=1<<Kt;_n<s[Kt];_n++,wt&=~(1<<Kt)){var On=g.combins(se-_n-1,jt-Kt-2);if(v&&0===wt&&se-_n-(jt-Kt-1)>=jt-Kt-1&&(On-=g.combins(se-_n-(jt-Kt),jt-Kt-2)),jt-Kt-1>1){for(var nr=0,rr=se-_n-(jt-Kt-2);rr>a;rr--)nr+=g.combins(se-_n-rr-1,jt-Kt-3);On-=nr*(jt-1-Kt)}else se-_n>a&&On--;ut+=On}se-=_n}return ut},g.combins=function(s,a){var v,I;s-a>a?(I=a,v=s-a):(I=s-a,v=a);for(var F=1,se=1,ye=s;ye>v;ye--)F*=ye,se<=I&&(F/=se,se++);for(;se<=I;)F/=se,se++;return F},g}(),Iv=function(){function g(){}return g.buildBitArray=function(s){var a=2*s.length-1;null==s[s.length-1].getRightChar()&&(a-=1);for(var I=new Bo(12*a),F=0,ye=s[0].getRightChar().getValue(),Re=11;Re>=0;--Re)ye&1<<Re&&I.set(F),F++;for(Re=1;Re<s.length;++Re){for(var ze=s[Re],ut=ze.getLeftChar().getValue(),wt=11;wt>=0;--wt)ut&1<<wt&&I.set(F),F++;if(null!==ze.getRightChar()){var jt=ze.getRightChar().getValue();for(wt=11;wt>=0;--wt)jt&1<<wt&&I.set(F),F++}}return I},g}(),vm=function(){function g(s,a){a?this.decodedInformation=null:(this.finished=s,this.decodedInformation=a)}return g.prototype.getDecodedInformation=function(){return this.decodedInformation},g.prototype.isFinished=function(){return this.finished},g}(),bm=function(){function g(s){this.newPosition=s}return g.prototype.getNewPosition=function(){return this.newPosition},g}();var NI=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Yl=function(g){function s(a,v){var I=g.call(this,a)||this;return I.value=v,I}return NI(s,g),s.prototype.getValue=function(){return this.value},s.prototype.isFNC1=function(){return this.value===s.FNC1},s.FNC1="$",s}(bm);var Tv=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Bp=function(g){function s(a,v,I){var F=g.call(this,a)||this;return I?(F.remaining=!0,F.remainingValue=F.remainingValue):(F.remaining=!1,F.remainingValue=0),F.newString=v,F}return Tv(s,g),s.prototype.getNewString=function(){return this.newString},s.prototype.isRemaining=function(){return this.remaining},s.prototype.getRemainingValue=function(){return this.remainingValue},s}(bm);var wm=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const _m=function(g){function s(a,v,I){var F=g.call(this,a)||this;if(v<0||v>10||I<0||I>10)throw new jr;return F.firstDigit=v,F.secondDigit=I,F}return wm(s,g),s.prototype.getFirstDigit=function(){return this.firstDigit},s.prototype.getSecondDigit=function(){return this.secondDigit},s.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},s.prototype.isFirstDigitFNC1=function(){return this.firstDigit===s.FNC1},s.prototype.isSecondDigitFNC1=function(){return this.secondDigit===s.FNC1},s.prototype.isAnyFNC1=function(){return this.firstDigit===s.FNC1||this.secondDigit===s.FNC1},s.FNC1=10,s}(bm);var Em=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const N2=function(){function g(){}return g.parseFieldsInGeneralPurpose=function(s){var a,v,I,F,se,ye,Re,ze;if(!s)return null;if(s.length<2)throw new Gt;var ut=s.substring(0,2);try{for(var wt=Em(g.TWO_DIGIT_DATA_LENGTH),jt=wt.next();!jt.done;jt=wt.next())if((Kt=jt.value)[0]===ut)return Kt[1]===g.VARIABLE_LENGTH?g.processVariableAI(2,Kt[2],s):g.processFixedAI(2,Kt[1],s)}catch(ci){a={error:ci}}finally{try{jt&&!jt.done&&(v=wt.return)&&v.call(wt)}finally{if(a)throw a.error}}if(s.length<3)throw new Gt;var _n=s.substring(0,3);try{for(var On=Em(g.THREE_DIGIT_DATA_LENGTH),nr=On.next();!nr.done;nr=On.next())if((Kt=nr.value)[0]===_n)return Kt[1]===g.VARIABLE_LENGTH?g.processVariableAI(3,Kt[2],s):g.processFixedAI(3,Kt[1],s)}catch(ci){I={error:ci}}finally{try{nr&&!nr.done&&(F=On.return)&&F.call(On)}finally{if(I)throw I.error}}try{for(var rr=Em(g.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),er=rr.next();!er.done;er=rr.next())if((Kt=er.value)[0]===_n)return Kt[1]===g.VARIABLE_LENGTH?g.processVariableAI(4,Kt[2],s):g.processFixedAI(4,Kt[1],s)}catch(ci){se={error:ci}}finally{try{er&&!er.done&&(ye=rr.return)&&ye.call(rr)}finally{if(se)throw se.error}}if(s.length<4)throw new Gt;var fr=s.substring(0,4);try{for(var Tr=Em(g.FOUR_DIGIT_DATA_LENGTH),Zr=Tr.next();!Zr.done;Zr=Tr.next()){var Kt;if((Kt=Zr.value)[0]===fr)return Kt[1]===g.VARIABLE_LENGTH?g.processVariableAI(4,Kt[2],s):g.processFixedAI(4,Kt[1],s)}}catch(ci){Re={error:ci}}finally{try{Zr&&!Zr.done&&(ze=Tr.return)&&ze.call(Tr)}finally{if(Re)throw Re.error}}throw new Gt},g.processFixedAI=function(s,a,v){if(v.length<s)throw new Gt;var I=v.substring(0,s);if(v.length<s+a)throw new Gt;var F=v.substring(s,s+a),se=v.substring(s+a),ye="("+I+")"+F,Re=g.parseFieldsInGeneralPurpose(se);return null==Re?ye:ye+Re},g.processVariableAI=function(s,a,v){var F,I=v.substring(0,s),se=v.substring(s,F=v.length<s+a?v.length:s+a),ye=v.substring(F),Re="("+I+")"+se,ze=g.parseFieldsInGeneralPurpose(ye);return null==ze?Re:Re+ze},g.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",g.VARIABLE_LENGTH=[],20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",g.VARIABLE_LENGTH,20],["22",g.VARIABLE_LENGTH,29],["30",g.VARIABLE_LENGTH,8],["37",g.VARIABLE_LENGTH,8],["90",g.VARIABLE_LENGTH,30],["91",g.VARIABLE_LENGTH,30],["92",g.VARIABLE_LENGTH,30],["93",g.VARIABLE_LENGTH,30],["94",g.VARIABLE_LENGTH,30],["95",g.VARIABLE_LENGTH,30],["96",g.VARIABLE_LENGTH,30],["97",g.VARIABLE_LENGTH,3],["98",g.VARIABLE_LENGTH,30],["99",g.VARIABLE_LENGTH,30]],g.THREE_DIGIT_DATA_LENGTH=[["240",g.VARIABLE_LENGTH,30],["241",g.VARIABLE_LENGTH,30],["242",g.VARIABLE_LENGTH,6],["250",g.VARIABLE_LENGTH,30],["251",g.VARIABLE_LENGTH,30],["253",g.VARIABLE_LENGTH,17],["254",g.VARIABLE_LENGTH,20],["400",g.VARIABLE_LENGTH,30],["401",g.VARIABLE_LENGTH,30],["402",17],["403",g.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",g.VARIABLE_LENGTH,20],["421",g.VARIABLE_LENGTH,15],["422",3],["423",g.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],g.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",g.VARIABLE_LENGTH,15],["391",g.VARIABLE_LENGTH,18],["392",g.VARIABLE_LENGTH,15],["393",g.VARIABLE_LENGTH,18],["703",g.VARIABLE_LENGTH,30]],g.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",g.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",g.VARIABLE_LENGTH,20],["8003",g.VARIABLE_LENGTH,30],["8004",g.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",g.VARIABLE_LENGTH,30],["8008",g.VARIABLE_LENGTH,12],["8018",18],["8020",g.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",g.VARIABLE_LENGTH,70],["8200",g.VARIABLE_LENGTH,70]],g}(),Ul=function(){function g(s){this.buffer=new Hi,this.information=s}return g.prototype.decodeAllCodes=function(s,a){for(var v=a,I=null;;){var F=this.decodeGeneralPurposeField(v,I),se=N2.parseFieldsInGeneralPurpose(F.getNewString());if(null!=se&&s.append(se),I=F.isRemaining()?""+F.getRemainingValue():null,v===F.getNewPosition())break;v=F.getNewPosition()}return s.toString()},g.prototype.isStillNumeric=function(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(var a=s;a<s+3;++a)if(this.information.get(a))return!0;return this.information.get(s+3)},g.prototype.decodeNumeric=function(s){if(s+7>this.information.getSize()){var a=this.extractNumericValueFromBitArray(s,4);return new _m(this.information.getSize(),0===a?_m.FNC1:a-1,_m.FNC1)}var v=this.extractNumericValueFromBitArray(s,7);return new _m(s+7,(v-8)/11,(v-8)%11)},g.prototype.extractNumericValueFromBitArray=function(s,a){return g.extractNumericValueFromBitArray(this.information,s,a)},g.extractNumericValueFromBitArray=function(s,a,v){for(var I=0,F=0;F<v;++F)s.get(a+F)&&(I|=1<<v-F-1);return I},g.prototype.decodeGeneralPurposeField=function(s,a){this.buffer.setLengthToZero(),null!=a&&this.buffer.append(a),this.current.setPosition(s);var v=this.parseBlocks();return null!=v&&v.isRemaining()?new Bp(this.current.getPosition(),this.buffer.toString(),v.getRemainingValue()):new Bp(this.current.getPosition(),this.buffer.toString())},g.prototype.parseBlocks=function(){var s,a;do{var v=this.current.getPosition();if(s=this.current.isAlpha()?(a=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(a=this.parseIsoIec646Block()).isFinished():(a=this.parseNumericBlock()).isFinished(),v===this.current.getPosition()&&!s)break}while(!s);return a.getDecodedInformation()},g.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){var a=void 0;return a=s.isSecondDigitFNC1()?new Bp(this.current.getPosition(),this.buffer.toString()):new Bp(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new vm(!0,a)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1())return a=new Bp(this.current.getPosition(),this.buffer.toString()),new vm(!0,a);this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new vm(!1)},g.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){var a=new Bp(this.current.getPosition(),this.buffer.toString());return new vm(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new vm(!1)},g.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){var a=new Bp(this.current.getPosition(),this.buffer.toString());return new vm(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new vm(!1)},g.prototype.isStillIsoIec646=function(s){if(s+5>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+7>this.information.getSize())return!1;var v=this.extractNumericValueFromBitArray(s,7);if(v>=64&&v<116)return!0;if(s+8>this.information.getSize())return!1;var I=this.extractNumericValueFromBitArray(s,8);return I>=232&&I<253},g.prototype.decodeIsoIec646=function(s){var a=this.extractNumericValueFromBitArray(s,5);if(15===a)return new Yl(s+5,Yl.FNC1);if(a>=5&&a<15)return new Yl(s+5,"0"+(a-5));var F,v=this.extractNumericValueFromBitArray(s,7);if(v>=64&&v<90)return new Yl(s+7,""+(v+1));if(v>=90&&v<116)return new Yl(s+7,""+(v+7));switch(this.extractNumericValueFromBitArray(s,8)){case 232:F="!";break;case 233:F='"';break;case 234:F="%";break;case 235:F="&";break;case 236:F="'";break;case 237:F="(";break;case 238:F=")";break;case 239:F="*";break;case 240:F="+";break;case 241:F=",";break;case 242:F="-";break;case 243:F=".";break;case 244:F="/";break;case 245:F=":";break;case 246:F=";";break;case 247:F="<";break;case 248:F="=";break;case 249:F=">";break;case 250:F="?";break;case 251:F="_";break;case 252:F=" ";break;default:throw new jr}return new Yl(s+8,F)},g.prototype.isStillAlpha=function(s){if(s+5>this.information.getSize())return!1;var a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+6>this.information.getSize())return!1;var v=this.extractNumericValueFromBitArray(s,6);return v>=16&&v<63},g.prototype.decodeAlphanumeric=function(s){var a=this.extractNumericValueFromBitArray(s,5);if(15===a)return new Yl(s+5,Yl.FNC1);if(a>=5&&a<15)return new Yl(s+5,"0"+(a-5));var I,v=this.extractNumericValueFromBitArray(s,6);if(v>=32&&v<58)return new Yl(s+6,""+(v+33));switch(v){case 58:I="*";break;case 59:I=",";break;case 60:I="-";break;case 61:I=".";break;case 62:I="/";break;default:throw new Zi("Decoding invalid alphanumeric value: "+v)}return new Yl(s+6,I)},g.prototype.isAlphaTo646ToAlphaLatch=function(s){if(s+1>this.information.getSize())return!1;for(var a=0;a<5&&a+s<this.information.getSize();++a)if(2===a){if(!this.information.get(s+2))return!1}else if(this.information.get(s+a))return!1;return!0},g.prototype.isAlphaOr646ToNumericLatch=function(s){if(s+3>this.information.getSize())return!1;for(var a=s;a<s+3;++a)if(this.information.get(a))return!1;return!0},g.prototype.isNumericToAlphaNumericLatch=function(s){if(s+1>this.information.getSize())return!1;for(var a=0;a<4&&a+s<this.information.getSize();++a)if(this.information.get(s+a))return!1;return!0},g}(),Dv=function(){function g(s){this.information=s,this.generalDecoder=new Ul(s)}return g.prototype.getInformation=function(){return this.information},g.prototype.getGeneralDecoder=function(){return this.generalDecoder},g}();var Rv=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const na=function(g){function s(a){return g.call(this,a)||this}return Rv(s,g),s.prototype.encodeCompressedGtin=function(a,v){a.append("(01)");var I=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,v,I)},s.prototype.encodeCompressedGtinWithoutAI=function(a,v,I){for(var F=0;F<4;++F){var se=this.getGeneralDecoder().extractNumericValueFromBitArray(v+10*F,10);se/100==0&&a.append("0"),se/10==0&&a.append("0"),a.append(se)}s.appendCheckDigit(a,I)},s.appendCheckDigit=function(a,v){for(var I=0,F=0;F<13;F++){var se=a.charAt(F+v).charCodeAt(0)-48;I+=1&F?se:3*se}10==(I=10-I%10)&&(I=0),a.append(I)},s.GTIN_SIZE=40,s}(Dv);var O1=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const k1=function(g){function s(a){return g.call(this,a)||this}return O1(s,g),s.prototype.parseInformation=function(){var a=new Hi;a.append("(01)");var v=a.length(),I=this.getGeneralDecoder().extractNumericValueFromBitArray(s.HEADER_SIZE,4);return a.append(I),this.encodeCompressedGtinWithoutAI(a,s.HEADER_SIZE+4,v),this.getGeneralDecoder().decodeAllCodes(a,s.HEADER_SIZE+44)},s.HEADER_SIZE=4,s}(na);var B1=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const LI=function(g){function s(a){return g.call(this,a)||this}return B1(s,g),s.prototype.parseInformation=function(){var a=new Hi;return this.getGeneralDecoder().decodeAllCodes(a,s.HEADER_SIZE)},s.HEADER_SIZE=5,s}(Dv);var Pi=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const xm=function(g){function s(a){return g.call(this,a)||this}return Pi(s,g),s.prototype.encodeCompressedWeight=function(a,v,I){var F=this.getGeneralDecoder().extractNumericValueFromBitArray(v,I);this.addWeightCode(a,F);for(var se=this.checkWeight(F),ye=1e5,Re=0;Re<5;++Re)se/ye==0&&a.append("0"),ye/=10;a.append(se)},s}(na);var N1=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const zy=function(g){function s(a){return g.call(this,a)||this}return N1(s,g),s.prototype.parseInformation=function(){if(this.getInformation().getSize()!==s.HEADER_SIZE+xm.GTIN_SIZE+s.WEIGHT_SIZE)throw new Gt;var a=new Hi;return this.encodeCompressedGtin(a,s.HEADER_SIZE),this.encodeCompressedWeight(a,s.HEADER_SIZE+xm.GTIN_SIZE,s.WEIGHT_SIZE),a.toString()},s.HEADER_SIZE=5,s.WEIGHT_SIZE=15,s}(xm);var Hy=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const sA=function(g){function s(a){return g.call(this,a)||this}return Hy(s,g),s.prototype.addWeightCode=function(a,v){a.append("(3103)")},s.prototype.checkWeight=function(a){return a},s}(zy);var xl=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const FI=function(g){function s(a){return g.call(this,a)||this}return xl(s,g),s.prototype.addWeightCode=function(a,v){a.append(v<1e4?"(3202)":"(3203)")},s.prototype.checkWeight=function(a){return a<1e4?a:a-1e4},s}(zy);var Qh=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const ql=function(g){function s(a){return g.call(this,a)||this}return Qh(s,g),s.prototype.parseInformation=function(){if(this.getInformation().getSize()<s.HEADER_SIZE+na.GTIN_SIZE)throw new Gt;var a=new Hi;this.encodeCompressedGtin(a,s.HEADER_SIZE);var v=this.getGeneralDecoder().extractNumericValueFromBitArray(s.HEADER_SIZE+na.GTIN_SIZE,s.LAST_DIGIT_SIZE);a.append("(392"),a.append(v),a.append(")");var I=this.getGeneralDecoder().decodeGeneralPurposeField(s.HEADER_SIZE+na.GTIN_SIZE+s.LAST_DIGIT_SIZE,null);return a.append(I.getNewString()),a.toString()},s.HEADER_SIZE=8,s.LAST_DIGIT_SIZE=2,s}(na);var cA=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const dA=function(g){function s(a){return g.call(this,a)||this}return cA(s,g),s.prototype.parseInformation=function(){if(this.getInformation().getSize()<s.HEADER_SIZE+na.GTIN_SIZE)throw new Gt;var a=new Hi;this.encodeCompressedGtin(a,s.HEADER_SIZE);var v=this.getGeneralDecoder().extractNumericValueFromBitArray(s.HEADER_SIZE+na.GTIN_SIZE,s.LAST_DIGIT_SIZE);a.append("(393"),a.append(v),a.append(")");var I=this.getGeneralDecoder().extractNumericValueFromBitArray(s.HEADER_SIZE+na.GTIN_SIZE+s.LAST_DIGIT_SIZE,s.FIRST_THREE_DIGITS_SIZE);I/100==0&&a.append("0"),I/10==0&&a.append("0"),a.append(I);var F=this.getGeneralDecoder().decodeGeneralPurposeField(s.HEADER_SIZE+na.GTIN_SIZE+s.LAST_DIGIT_SIZE+s.FIRST_THREE_DIGITS_SIZE,null);return a.append(F.getNewString()),a.toString()},s.HEADER_SIZE=8,s.LAST_DIGIT_SIZE=2,s.FIRST_THREE_DIGITS_SIZE=10,s}(na);var Gf=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const gf=function(g){function s(a,v,I){var F=g.call(this,a)||this;return F.dateCode=I,F.firstAIdigits=v,F}return Gf(s,g),s.prototype.parseInformation=function(){if(this.getInformation().getSize()!==s.HEADER_SIZE+s.GTIN_SIZE+s.WEIGHT_SIZE+s.DATE_SIZE)throw new Gt;var a=new Hi;return this.encodeCompressedGtin(a,s.HEADER_SIZE),this.encodeCompressedWeight(a,s.HEADER_SIZE+s.GTIN_SIZE,s.WEIGHT_SIZE),this.encodeCompressedDate(a,s.HEADER_SIZE+s.GTIN_SIZE+s.WEIGHT_SIZE),a.toString()},s.prototype.encodeCompressedDate=function(a,v){var I=this.getGeneralDecoder().extractNumericValueFromBitArray(v,s.DATE_SIZE);if(38400!==I){a.append("("),a.append(this.dateCode),a.append(")");var F=I%32,se=(I/=32)%12+1,ye=I/=12;ye/10==0&&a.append("0"),a.append(ye),se/10==0&&a.append("0"),a.append(se),F/10==0&&a.append("0"),a.append(F)}},s.prototype.addWeightCode=function(a,v){a.append("("),a.append(this.firstAIdigits),a.append(v/1e5),a.append(")")},s.prototype.checkWeight=function(a){return a%1e5},s.HEADER_SIZE=8,s.WEIGHT_SIZE=20,s.DATE_SIZE=16,s}(xm),uo=function(){function g(s,a,v,I){this.leftchar=s,this.rightchar=a,this.finderpattern=v,this.maybeLast=I}return g.prototype.mayBeLast=function(){return this.maybeLast},g.prototype.getLeftChar=function(){return this.leftchar},g.prototype.getRightChar=function(){return this.rightchar},g.prototype.getFinderPattern=function(){return this.finderpattern},g.prototype.mustBeLast=function(){return null==this.rightchar},g.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},g.equals=function(s,a){return s instanceof g&&g.equalsOrNull(s.leftchar,a.leftchar)&&g.equalsOrNull(s.rightchar,a.rightchar)&&g.equalsOrNull(s.finderpattern,a.finderpattern)},g.equalsOrNull=function(s,a){return null===s?null===a:g.equals(s,a)},g.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},g}(),Xf=function(){function g(s,a,v){this.pairs=s,this.rowNumber=a,this.wasReversed=v}return g.prototype.getPairs=function(){return this.pairs},g.prototype.getRowNumber=function(){return this.rowNumber},g.prototype.isReversed=function(){return this.wasReversed},g.prototype.isEquivalent=function(s){return this.checkEqualitity(this,s)},g.prototype.toString=function(){return"{ "+this.pairs+" }"},g.prototype.equals=function(s,a){return s instanceof g&&this.checkEqualitity(s,a)&&s.wasReversed===a.wasReversed},g.prototype.checkEqualitity=function(s,a){var v;if(s&&a)return s.forEach(function(I,F){a.forEach(function(se){I.getLeftChar().getValue()===se.getLeftChar().getValue()&&I.getRightChar().getValue()===se.getRightChar().getValue()&&I.getFinderPatter().getValue()===se.getFinderPatter().getValue()&&(v=!0)})}),v},g}();var $l=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),Ds=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const za=function(g){function s(){var a=null!==g&&g.apply(this,arguments)||this;return a.pairs=new Array(s.MAX_PAIRS),a.rows=new Array,a.startEnd=[2],a}return $l(s,g),s.prototype.decodeRow=function(a,v,I){this.pairs.length=0,this.startFromEven=!1;try{return s.constructResult(this.decodeRow2pairs(a,v))}catch{}return this.pairs.length=0,this.startFromEven=!0,s.constructResult(this.decodeRow2pairs(a,v))},s.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},s.prototype.decodeRow2pairs=function(a,v){for(var I=!1;!I;)try{this.pairs.push(this.retrieveNextPair(v,this.pairs,a))}catch(ye){if(ye instanceof Gt){if(!this.pairs.length)throw new Gt;I=!0}}if(this.checkChecksum())return this.pairs;var F;if(F=!!this.rows.length,this.storeRow(a,!1),F){var se=this.checkRowsBoolean(!1);if(null!=se||null!=(se=this.checkRowsBoolean(!0)))return se}throw new Gt},s.prototype.checkRowsBoolean=function(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());var v=null;try{v=this.checkRows(new Array,0)}catch(I){console.log(I)}return a&&(this.rows=this.rows.reverse()),v},s.prototype.checkRows=function(a,v){for(var I,F,se=v;se<this.rows.length;se++){var ye=this.rows[se];this.pairs.length=0;try{for(var Re=(I=void 0,Ds(a)),ze=Re.next();!ze.done;ze=Re.next())this.pairs.push(ze.value.getPairs())}catch(jt){I={error:jt}}finally{try{ze&&!ze.done&&(F=Re.return)&&F.call(Re)}finally{if(I)throw I.error}}if(this.pairs.push(ye.getPairs()),s.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var wt=new Array(a);wt.push(ye);try{return this.checkRows(wt,se+1)}catch(jt){console.log(jt)}}}throw new Gt},s.isValidSequence=function(a){var v,I;try{for(var F=Ds(s.FINDER_PATTERN_SEQUENCES),se=F.next();!se.done;se=F.next()){var ye=se.value;if(!(a.length>ye.length)){for(var Re=!0,ze=0;ze<a.length;ze++)if(a[ze].getFinderPattern().getValue()!==ye[ze]){Re=!1;break}if(Re)return!0}}}catch(ut){v={error:ut}}finally{try{se&&!se.done&&(I=F.return)&&I.call(F)}finally{if(v)throw v.error}}return!1},s.prototype.storeRow=function(a,v){for(var I=0,F=!1,se=!1;I<this.rows.length;){var ye=this.rows[I];if(ye.getRowNumber()>a){se=ye.isEquivalent(this.pairs);break}F=ye.isEquivalent(this.pairs),I++}se||F||s.isPartialRow(this.pairs,this.rows)||(this.rows.push(I,new Xf(this.pairs,a,v)),this.removePartialRows(this.pairs,this.rows))},s.prototype.removePartialRows=function(a,v){var I,F,se,ye,Re,ze;try{for(var ut=Ds(v),wt=ut.next();!wt.done;wt=ut.next()){var jt=wt.value;if(jt.getPairs().length!==a.length)try{for(var _n=(se=void 0,Ds(jt.getPairs())),On=_n.next();!On.done;On=_n.next()){var nr=On.value;try{for(var er=(Re=void 0,Ds(a)),fr=er.next();!fr.done;fr=er.next())if(uo.equals(nr,fr.value)){!0;break}}catch(Zr){Re={error:Zr}}finally{try{fr&&!fr.done&&(ze=er.return)&&ze.call(er)}finally{if(Re)throw Re.error}}}}catch(Zr){se={error:Zr}}finally{try{On&&!On.done&&(ye=_n.return)&&ye.call(_n)}finally{if(se)throw se.error}}}}catch(Zr){I={error:Zr}}finally{try{wt&&!wt.done&&(F=ut.return)&&F.call(ut)}finally{if(I)throw I.error}}},s.isPartialRow=function(a,v){var I,F,se,ye,Re,ze;try{for(var ut=Ds(v),wt=ut.next();!wt.done;wt=ut.next()){var jt=wt.value,Kt=!0;try{for(var _n=(se=void 0,Ds(a)),On=_n.next();!On.done;On=_n.next()){var nr=On.value,rr=!1;try{for(var er=(Re=void 0,Ds(jt.getPairs())),fr=er.next();!fr.done;fr=er.next())if(nr.equals(fr.value)){rr=!0;break}}catch(Zr){Re={error:Zr}}finally{try{fr&&!fr.done&&(ze=er.return)&&ze.call(er)}finally{if(Re)throw Re.error}}if(!rr){Kt=!1;break}}}catch(Zr){se={error:Zr}}finally{try{On&&!On.done&&(ye=_n.return)&&ye.call(_n)}finally{if(se)throw se.error}}if(Kt)return!0}}catch(Zr){I={error:Zr}}finally{try{wt&&!wt.done&&(F=ut.return)&&F.call(ut)}finally{if(I)throw I.error}}return!1},s.prototype.getRows=function(){return this.rows},s.constructResult=function(a){var I=function Ko(g){try{if(g.get(1))return new k1(g);if(!g.get(2))return new LI(g);switch(Ul.extractNumericValueFromBitArray(g,1,4)){case 4:return new sA(g);case 5:return new FI(g)}switch(Ul.extractNumericValueFromBitArray(g,1,5)){case 12:return new ql(g);case 13:return new dA(g)}switch(Ul.extractNumericValueFromBitArray(g,1,7)){case 56:return new gf(g,"310","11");case 57:return new gf(g,"320","11");case 58:return new gf(g,"310","13");case 59:return new gf(g,"320","13");case 60:return new gf(g,"310","15");case 61:return new gf(g,"320","15");case 62:return new gf(g,"310","17");case 63:return new gf(g,"320","17")}}catch(I){throw console.log(I),new Zi("unknown decoder: "+g)}}(Iv.buildBitArray(a)),F=I.parseInformation(),se=a[0].getFinderPattern().getResultPoints(),ye=a[a.length-1].getFinderPattern().getResultPoints();return new Ka(F,null,null,[se[0],se[1],ye[0],ye[1]],Di.RSS_EXPANDED,null)},s.prototype.checkChecksum=function(){var a=this.pairs.get(0),v=a.getLeftChar(),I=a.getRightChar();if(null===I)return!1;for(var F=I.getChecksumPortion(),se=2,ye=1;ye<this.pairs.size();++ye){var Re=this.pairs.get(ye);F+=Re.getLeftChar().getChecksumPortion(),se++;var ze=Re.getRightChar();null!=ze&&(F+=ze.getChecksumPortion(),se++)}return 211*(se-4)+(F%=211)===v.getValue()},s.getNextSecondBar=function(a,v){var I;return a.get(v)?(I=a.getNextUnset(v),I=a.getNextSet(I)):(I=a.getNextSet(v),I=a.getNextUnset(I)),I},s.prototype.retrieveNextPair=function(a,v,I){var F=v.length%2==0;this.startFromEven&&(F=!F);var se,ye=!0,Re=-1;do{this.findNextPair(a,v,Re),null===(se=this.parseFoundFinderPattern(a,I,F))?Re=s.getNextSecondBar(a,this.startEnd[0]):ye=!1}while(ye);var ut,ze=this.decodeDataCharacter(a,se,F,!0);if(!this.isEmptyPair(v)&&v[v.length-1].mustBeLast())throw new Gt;try{ut=this.decodeDataCharacter(a,se,F,!1)}catch(wt){ut=null,console.log(wt)}return new uo(ze,ut,se,!0)},s.prototype.isEmptyPair=function(a){return 0===a.length},s.prototype.findNextPair=function(a,v,I){var F=this.getDecodeFinderCounters();F[0]=0,F[1]=0,F[2]=0,F[3]=0;var ye,se=a.getSize();ye=I>=0?I:this.isEmptyPair(v)?0:v[v.length-1].getFinderPattern().getStartEnd()[1];var ze=v.length%2!=0;this.startFromEven&&(ze=!ze);for(var ut=!1;ye<se&&(ut=!a.get(ye));)ye++;for(var wt=0,jt=ye,Kt=ye;Kt<se;Kt++)if(a.get(Kt)!==ut)F[wt]++;else{if(3===wt){if(ze&&s.reverseCounters(F),s.isFinderPattern(F))return this.startEnd[0]=jt,void(this.startEnd[1]=Kt);ze&&s.reverseCounters(F),jt+=F[0]+F[1],F[0]=F[2],F[1]=F[3],F[2]=0,F[3]=0,wt--}else wt++;F[wt]=1,ut=!ut}throw new Gt},s.reverseCounters=function(a){for(var v=a.length,I=0;I<v/2;++I){var F=a[I];a[I]=a[v-I-1],a[v-I-1]=F}},s.prototype.parseFoundFinderPattern=function(a,v,I){var F,se,ye;if(I){for(var Re=this.startEnd[0]-1;Re>=0&&!a.get(Re);)Re--;Re++,F=this.startEnd[0]-Re,se=Re,ye=this.startEnd[1]}else se=this.startEnd[0],F=(ye=a.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var ut,ze=this.getDecodeFinderCounters();kr.arraycopy(ze,0,ze,1,ze.length-1),ze[0]=F;try{ut=this.parseFinderValue(ze,s.FINDER_PATTERNS)}catch{return null}return new xa(ut,[se,ye],se,ye,v)},s.prototype.decodeDataCharacter=function(a,v,I,F){for(var se=this.getDataCharacterCounters(),ye=0;ye<se.length;ye++)se[ye]=0;if(F)s.recordPatternInReverse(a,v.getStartEnd()[0],se);else{s.recordPattern(a,v.getStartEnd()[1],se);for(var Re=0,ze=se.length-1;Re<ze;Re++,ze--){var ut=se[Re];se[Re]=se[ze],se[ze]=ut}}var jt=rs.sum(new Int32Array(se))/17,Kt=(v.getStartEnd()[1]-v.getStartEnd()[0])/15;if(Math.abs(jt-Kt)/Kt>.3)throw new Gt;var _n=this.getOddCounts(),On=this.getEvenCounts(),nr=this.getOddRoundingErrors(),rr=this.getEvenRoundingErrors();for(Re=0;Re<se.length;Re++){var er=1*se[Re]/jt,fr=er+.5;if(fr<1){if(er<.3)throw new Gt;fr=1}else if(fr>8){if(er>8.7)throw new Gt;fr=8}var Tr=Re/2;1&Re?(On[Tr]=fr,rr[Tr]=er-fr):(_n[Tr]=fr,nr[Tr]=er-fr)}this.adjustOddEvenCounts(17);var Zr=4*v.getValue()+(I?0:2)+(F?0:1)-1,ci=0,hi=0;for(Re=_n.length-1;Re>=0;Re--)s.isNotA1left(v,I,F)&&(hi+=_n[Re]*s.WEIGHTS[Zr][2*Re]),ci+=_n[Re];var Vo=0;for(Re=On.length-1;Re>=0;Re--)s.isNotA1left(v,I,F)&&(Vo+=On[Re]*s.WEIGHTS[Zr][2*Re+1]);var Do=hi+Vo;if(1&ci||ci>13||ci<4)throw new Gt;var Kc=(13-ci)/2,xs=s.SYMBOL_WIDEST[Kc],xc=9-xs,qd=Wi.getRSSvalue(_n,xs,!0),Td=Wi.getRSSvalue(On,xc,!1);return new xo(qd*s.EVEN_TOTAL_SUBSET[Kc]+Td+s.GSUM[Kc],Do)},s.isNotA1left=function(a,v,I){return!(0===a.getValue()&&v&&I)},s.prototype.adjustOddEvenCounts=function(a){var v=rs.sum(new Int32Array(this.getOddCounts())),I=rs.sum(new Int32Array(this.getEvenCounts())),F=!1,se=!1;v>13?se=!0:v<4&&(F=!0);var ye=!1,Re=!1;I>13?Re=!0:I<4&&(ye=!0);var ze=v+I-a,ut=!(1&~v),wt=!(1&I);if(1===ze)if(ut){if(wt)throw new Gt;se=!0}else{if(!wt)throw new Gt;Re=!0}else if(-1===ze)if(ut){if(wt)throw new Gt;F=!0}else{if(!wt)throw new Gt;ye=!0}else{if(0!==ze)throw new Gt;if(ut){if(!wt)throw new Gt;v<I?(F=!0,Re=!0):(se=!0,ye=!0)}else if(wt)throw new Gt}if(F){if(se)throw new Gt;s.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(se&&s.decrement(this.getOddCounts(),this.getOddRoundingErrors()),ye){if(Re)throw new Gt;s.increment(this.getEvenCounts(),this.getOddRoundingErrors())}Re&&s.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},s.SYMBOL_WIDEST=[7,5,4,3,1],s.EVEN_TOTAL_SUBSET=[4,20,52,104,204],s.GSUM=[0,348,1388,2948,3988],s.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],s.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],s.FINDER_PATTERN_SEQUENCES=[[s.FINDER_PAT_A=0,s.FINDER_PAT_A],[s.FINDER_PAT_A,s.FINDER_PAT_B=1,s.FINDER_PAT_B],[s.FINDER_PAT_A,s.FINDER_PAT_C=2,s.FINDER_PAT_B,s.FINDER_PAT_D=3],[s.FINDER_PAT_A,s.FINDER_PAT_E=4,s.FINDER_PAT_B,s.FINDER_PAT_D,s.FINDER_PAT_C],[s.FINDER_PAT_A,s.FINDER_PAT_E,s.FINDER_PAT_B,s.FINDER_PAT_D,s.FINDER_PAT_D,s.FINDER_PAT_F=5],[s.FINDER_PAT_A,s.FINDER_PAT_E,s.FINDER_PAT_B,s.FINDER_PAT_D,s.FINDER_PAT_E,s.FINDER_PAT_F,s.FINDER_PAT_F],[s.FINDER_PAT_A,s.FINDER_PAT_A,s.FINDER_PAT_B,s.FINDER_PAT_B,s.FINDER_PAT_C,s.FINDER_PAT_C,s.FINDER_PAT_D,s.FINDER_PAT_D],[s.FINDER_PAT_A,s.FINDER_PAT_A,s.FINDER_PAT_B,s.FINDER_PAT_B,s.FINDER_PAT_C,s.FINDER_PAT_C,s.FINDER_PAT_D,s.FINDER_PAT_E,s.FINDER_PAT_E],[s.FINDER_PAT_A,s.FINDER_PAT_A,s.FINDER_PAT_B,s.FINDER_PAT_B,s.FINDER_PAT_C,s.FINDER_PAT_C,s.FINDER_PAT_D,s.FINDER_PAT_E,s.FINDER_PAT_F,s.FINDER_PAT_F],[s.FINDER_PAT_A,s.FINDER_PAT_A,s.FINDER_PAT_B,s.FINDER_PAT_B,s.FINDER_PAT_C,s.FINDER_PAT_D,s.FINDER_PAT_D,s.FINDER_PAT_E,s.FINDER_PAT_E,s.FINDER_PAT_F,s.FINDER_PAT_F]],s.MAX_PAIRS=11,s}(ai);var zs=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Gi=function(g){function s(a,v,I){var F=g.call(this,a,v)||this;return F.count=0,F.finderPattern=I,F}return zs(s,g),s.prototype.getFinderPattern=function(){return this.finderPattern},s.prototype.getCount=function(){return this.count},s.prototype.incrementCount=function(){this.count++},s}(xo);var Wy=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),Vu=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const wc=function(g){function s(){var a=null!==g&&g.apply(this,arguments)||this;return a.possibleLeftPairs=[],a.possibleRightPairs=[],a}return Wy(s,g),s.prototype.decodeRow=function(a,v,I){var F,se,ye,Re,ze=this.decodePair(v,!1,a,I);s.addOrTally(this.possibleLeftPairs,ze),v.reverse();var ut=this.decodePair(v,!0,a,I);s.addOrTally(this.possibleRightPairs,ut),v.reverse();try{for(var wt=Vu(this.possibleLeftPairs),jt=wt.next();!jt.done;jt=wt.next()){var Kt=jt.value;if(Kt.getCount()>1)try{for(var _n=(ye=void 0,Vu(this.possibleRightPairs)),On=_n.next();!On.done;On=_n.next()){var nr=On.value;if(nr.getCount()>1&&s.checkChecksum(Kt,nr))return s.constructResult(Kt,nr)}}catch(rr){ye={error:rr}}finally{try{On&&!On.done&&(Re=_n.return)&&Re.call(_n)}finally{if(ye)throw ye.error}}}}catch(rr){F={error:rr}}finally{try{jt&&!jt.done&&(se=wt.return)&&se.call(wt)}finally{if(F)throw F.error}}throw new Gt},s.addOrTally=function(a,v){var I,F;if(null!=v){var se=!1;try{for(var ye=Vu(a),Re=ye.next();!Re.done;Re=ye.next()){var ze=Re.value;if(ze.getValue()===v.getValue()){ze.incrementCount(),se=!0;break}}}catch(ut){I={error:ut}}finally{try{Re&&!Re.done&&(F=ye.return)&&F.call(ye)}finally{if(I)throw I.error}}se||a.push(v)}},s.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},s.constructResult=function(a,v){for(var I=4537077*a.getValue()+v.getValue(),F=new String(I).toString(),se=new Hi,ye=13-F.length;ye>0;ye--)se.append("0");se.append(F);var Re=0;for(ye=0;ye<13;ye++){var ze=se.charAt(ye).charCodeAt(0)-48;Re+=1&ye?ze:3*ze}10==(Re=10-Re%10)&&(Re=0),se.append(Re.toString());var ut=a.getFinderPattern().getResultPoints(),wt=v.getFinderPattern().getResultPoints();return new Ka(se.toString(),null,0,[ut[0],ut[1],wt[0],wt[1]],Di.RSS_14,(new Date).getTime())},s.checkChecksum=function(a,v){var I=(a.getChecksumPortion()+16*v.getChecksumPortion())%79,F=9*a.getFinderPattern().getValue()+v.getFinderPattern().getValue();return F>72&&F--,F>8&&F--,I===F},s.prototype.decodePair=function(a,v,I,F){try{var se=this.findFinderPattern(a,v),ye=this.parseFoundFinderPattern(a,I,v,se),Re=null==F?null:F.get(wi.NEED_RESULT_POINT_CALLBACK);if(null!=Re){var ze=(se[0]+se[1])/2;v&&(ze=a.getSize()-1-ze),Re.foundPossibleResultPoint(new ii(ze,I))}var ut=this.decodeDataCharacter(a,ye,!0),wt=this.decodeDataCharacter(a,ye,!1);return new Gi(1597*ut.getValue()+wt.getValue(),ut.getChecksumPortion()+4*wt.getChecksumPortion(),ye)}catch{return null}},s.prototype.decodeDataCharacter=function(a,v,I){for(var F=this.getDataCharacterCounters(),se=0;se<F.length;se++)F[se]=0;if(I)fs.recordPatternInReverse(a,v.getStartEnd()[0],F);else{fs.recordPattern(a,v.getStartEnd()[1]+1,F);for(var ye=0,Re=F.length-1;ye<Re;ye++,Re--){var ze=F[ye];F[ye]=F[Re],F[Re]=ze}}var ut=I?16:15,wt=rs.sum(new Int32Array(F))/ut,jt=this.getOddCounts(),Kt=this.getEvenCounts(),_n=this.getOddRoundingErrors(),On=this.getEvenRoundingErrors();for(ye=0;ye<F.length;ye++){var nr=F[ye]/wt,rr=Math.floor(nr+.5);rr<1?rr=1:rr>8&&(rr=8);var er=Math.floor(ye/2);1&ye?(Kt[er]=rr,On[er]=nr-rr):(jt[er]=rr,_n[er]=nr-rr)}this.adjustOddEvenCounts(I,ut);var fr=0,Tr=0;for(ye=jt.length-1;ye>=0;ye--)Tr*=9,Tr+=jt[ye],fr+=jt[ye];var Zr=0,ci=0;for(ye=Kt.length-1;ye>=0;ye--)Zr*=9,Zr+=Kt[ye],ci+=Kt[ye];var Ti,Vo,hi=Tr+3*Zr;if(I){if(1&fr||fr>12||fr<4)throw new Gt;var Do=9-(Vo=s.OUTSIDE_ODD_WIDEST[Ti=(12-fr)/2]),Kc=Wi.getRSSvalue(jt,Vo,!1),xs=Wi.getRSSvalue(Kt,Do,!0);return new xo(Kc*s.OUTSIDE_EVEN_TOTAL_SUBSET[Ti]+xs+s.OUTSIDE_GSUM[Ti],hi)}if(1&ci||ci>10||ci<4)throw new Gt;return Do=9-(Vo=s.INSIDE_ODD_WIDEST[Ti=(10-ci)/2]),Kc=Wi.getRSSvalue(jt,Vo,!0),xs=Wi.getRSSvalue(Kt,Do,!1),new xo(xs*s.INSIDE_ODD_TOTAL_SUBSET[Ti]+Kc+s.INSIDE_GSUM[Ti],hi)},s.prototype.findFinderPattern=function(a,v){var I=this.getDecodeFinderCounters();I[0]=0,I[1]=0,I[2]=0,I[3]=0;for(var F=a.getSize(),se=!1,ye=0;ye<F&&v!==(se=!a.get(ye));)ye++;for(var Re=0,ze=ye,ut=ye;ut<F;ut++)if(a.get(ut)!==se)I[Re]++;else{if(3===Re){if(ai.isFinderPattern(I))return[ze,ut];ze+=I[0]+I[1],I[0]=I[2],I[1]=I[3],I[2]=0,I[3]=0,Re--}else Re++;I[Re]=1,se=!se}throw new Gt},s.prototype.parseFoundFinderPattern=function(a,v,I,F){for(var se=a.get(F[0]),ye=F[0]-1;ye>=0&&se!==a.get(ye);)ye--;ye++;var Re=F[0]-ye,ze=this.getDecodeFinderCounters(),ut=new Int32Array(ze.length);kr.arraycopy(ze,0,ut,1,ze.length-1),ut[0]=Re;var wt=this.parseFinderValue(ut,s.FINDER_PATTERNS),jt=ye,Kt=F[1];return I&&(jt=a.getSize()-1-jt,Kt=a.getSize()-1-Kt),new xa(wt,[ye,F[1]],jt,Kt,v)},s.prototype.adjustOddEvenCounts=function(a,v){var I=rs.sum(new Int32Array(this.getOddCounts())),F=rs.sum(new Int32Array(this.getEvenCounts())),se=!1,ye=!1,Re=!1,ze=!1;a?(I>12?ye=!0:I<4&&(se=!0),F>12?ze=!0:F<4&&(Re=!0)):(I>11?ye=!0:I<5&&(se=!0),F>10?ze=!0:F<4&&(Re=!0));var ut=I+F-v,wt=(1&I)==(a?1:0),jt=!(1&~F);if(1===ut)if(wt){if(jt)throw new Gt;ye=!0}else{if(!jt)throw new Gt;ze=!0}else if(-1===ut)if(wt){if(jt)throw new Gt;se=!0}else{if(!jt)throw new Gt;Re=!0}else{if(0!==ut)throw new Gt;if(wt){if(!jt)throw new Gt;I<F?(se=!0,ze=!0):(ye=!0,Re=!0)}else if(jt)throw new Gt}if(se){if(ye)throw new Gt;ai.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(ye&&ai.decrement(this.getOddCounts(),this.getOddRoundingErrors()),Re){if(ze)throw new Gt;ai.increment(this.getEvenCounts(),this.getOddRoundingErrors())}ze&&ai.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},s.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],s.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],s.OUTSIDE_GSUM=[0,161,961,2015,2715],s.INSIDE_GSUM=[0,336,1036,1516],s.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],s.INSIDE_ODD_WIDEST=[2,4,6,8],s.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],s}(ai);var Np=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const zu=function(g){function s(a){var v=g.call(this)||this;v.readers=[];var I=a?a.get(wi.POSSIBLE_FORMATS):null,F=a&&void 0!==a.get(wi.ASSUME_CODE_39_CHECK_DIGIT),se=a&&void 0!==a.get(wi.ENABLE_CODE_39_EXTENDED_MODE);return I&&((I.includes(Di.EAN_13)||I.includes(Di.UPC_A)||I.includes(Di.EAN_8)||I.includes(Di.UPC_E))&&v.readers.push(new lt(a)),I.includes(Di.CODE_39)&&v.readers.push(new Wd(F,se)),I.includes(Di.CODE_93)&&v.readers.push(new at),I.includes(Di.CODE_128)&&v.readers.push(new Fl),I.includes(Di.ITF)&&v.readers.push(new In),I.includes(Di.CODABAR)&&v.readers.push(new bn),I.includes(Di.RSS_14)&&v.readers.push(new wc),I.includes(Di.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),v.readers.push(new za))),0===v.readers.length&&(v.readers.push(new lt(a)),v.readers.push(new Wd),v.readers.push(new at),v.readers.push(new lt(a)),v.readers.push(new Fl),v.readers.push(new In),v.readers.push(new wc)),v}return Np(s,g),s.prototype.decodeRow=function(a,v,I){for(var F=0;F<this.readers.length;F++)try{return this.readers[F].decodeRow(a,v,I)}catch{}throw new Gt},s.prototype.reset=function(){this.readers.forEach(function(a){return a.reset()})},s}(fs);var Xy=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),Lp=(function(g){Xy(function s(a,v){return void 0===a&&(a=500),g.call(this,new zu(v),a,v)||this},g)}(Bl),function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}),ua=function(){function g(s,a,v){this.ecCodewords=s,this.ecBlocks=[a],v&&this.ecBlocks.push(v)}return g.prototype.getECCodewords=function(){return this.ecCodewords},g.prototype.getECBlocks=function(){return this.ecBlocks},g}(),hs=function(){function g(s,a){this.count=s,this.dataCodewords=a}return g.prototype.getCount=function(){return this.count},g.prototype.getDataCodewords=function(){return this.dataCodewords},g}();const F2=function(){function g(s,a,v,I,F,se){var ye,Re;this.versionNumber=s,this.symbolSizeRows=a,this.symbolSizeColumns=v,this.dataRegionSizeRows=I,this.dataRegionSizeColumns=F,this.ecBlocks=se;var ze=0,ut=se.getECCodewords(),wt=se.getECBlocks();try{for(var jt=Lp(wt),Kt=jt.next();!Kt.done;Kt=jt.next()){var _n=Kt.value;ze+=_n.getCount()*(_n.getDataCodewords()+ut)}}catch(On){ye={error:On}}finally{try{Kt&&!Kt.done&&(Re=jt.return)&&Re.call(jt)}finally{if(ye)throw ye.error}}this.totalCodewords=ze}return g.prototype.getVersionNumber=function(){return this.versionNumber},g.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},g.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},g.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},g.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},g.prototype.getTotalCodewords=function(){return this.totalCodewords},g.prototype.getECBlocks=function(){return this.ecBlocks},g.getVersionForDimensions=function(s,a){var v,I;if(1&s||1&a)throw new jr;try{for(var F=Lp(g.VERSIONS),se=F.next();!se.done;se=F.next()){var ye=se.value;if(ye.symbolSizeRows===s&&ye.symbolSizeColumns===a)return ye}}catch(Re){v={error:Re}}finally{try{se&&!se.done&&(I=F.return)&&I.call(F)}finally{if(v)throw v.error}}throw new jr},g.prototype.toString=function(){return""+this.versionNumber},g.buildVersions=function(){return[new g(1,10,10,8,8,new ua(5,new hs(1,3))),new g(2,12,12,10,10,new ua(7,new hs(1,5))),new g(3,14,14,12,12,new ua(10,new hs(1,8))),new g(4,16,16,14,14,new ua(12,new hs(1,12))),new g(5,18,18,16,16,new ua(14,new hs(1,18))),new g(6,20,20,18,18,new ua(18,new hs(1,22))),new g(7,22,22,20,20,new ua(20,new hs(1,30))),new g(8,24,24,22,22,new ua(24,new hs(1,36))),new g(9,26,26,24,24,new ua(28,new hs(1,44))),new g(10,32,32,14,14,new ua(36,new hs(1,62))),new g(11,36,36,16,16,new ua(42,new hs(1,86))),new g(12,40,40,18,18,new ua(48,new hs(1,114))),new g(13,44,44,20,20,new ua(56,new hs(1,144))),new g(14,48,48,22,22,new ua(68,new hs(1,174))),new g(15,52,52,24,24,new ua(42,new hs(2,102))),new g(16,64,64,14,14,new ua(56,new hs(2,140))),new g(17,72,72,16,16,new ua(36,new hs(4,92))),new g(18,80,80,18,18,new ua(48,new hs(4,114))),new g(19,88,88,20,20,new ua(56,new hs(4,144))),new g(20,96,96,22,22,new ua(68,new hs(4,174))),new g(21,104,104,24,24,new ua(56,new hs(6,136))),new g(22,120,120,18,18,new ua(68,new hs(6,175))),new g(23,132,132,20,20,new ua(62,new hs(8,163))),new g(24,144,144,22,22,new ua(62,new hs(8,156),new hs(2,155))),new g(25,8,18,6,16,new ua(7,new hs(1,5))),new g(26,8,32,6,14,new ua(11,new hs(1,10))),new g(27,12,26,10,24,new ua(14,new hs(1,16))),new g(28,12,36,10,16,new ua(18,new hs(1,22))),new g(29,16,36,14,16,new ua(24,new hs(1,32))),new g(30,16,48,14,22,new ua(28,new hs(1,49)))]},g.VERSIONS=g.buildVersions(),g}(),Cd=function(){function g(s){var a=s.getHeight();if(a<8||a>144||1&a)throw new jr;this.version=g.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new zt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return g.prototype.getVersion=function(){return this.version},g.readVersion=function(s){var a=s.getHeight(),v=s.getWidth();return F2.getVersionForDimensions(a,v)},g.prototype.readCodewords=function(){var s=new Int8Array(this.version.getTotalCodewords()),a=0,v=4,I=0,F=this.mappingBitMatrix.getHeight(),se=this.mappingBitMatrix.getWidth(),ye=!1,Re=!1,ze=!1,ut=!1;do{if(v!==F||0!==I||ye)if(v===F-2&&0===I&&3&se&&!Re)s[a++]=255&this.readCorner2(F,se),v-=2,I+=2,Re=!0;else if(v!==F+4||2!==I||7&se||ze)if(v!==F-2||0!==I||4!=(7&se)||ut){do{v<F&&I>=0&&!this.readMappingMatrix.get(I,v)&&(s[a++]=255&this.readUtah(v,I,F,se)),v-=2,I+=2}while(v>=0&&I<se);v+=1,I+=3;do{v>=0&&I<se&&!this.readMappingMatrix.get(I,v)&&(s[a++]=255&this.readUtah(v,I,F,se)),v+=2,I-=2}while(v<F&&I>=0);v+=3,I+=1}else s[a++]=255&this.readCorner4(F,se),v-=2,I+=2,ut=!0;else s[a++]=255&this.readCorner3(F,se),v-=2,I+=2,ze=!0;else s[a++]=255&this.readCorner1(F,se),v-=2,I+=2,ye=!0}while(v<F||I<se);if(a!==this.version.getTotalCodewords())throw new jr;return s},g.prototype.readModule=function(s,a,v,I){return s<0&&(s+=v,a+=4-(v+4&7)),a<0&&(a+=I,s+=4-(I+4&7)),this.readMappingMatrix.set(a,s),this.mappingBitMatrix.get(a,s)},g.prototype.readUtah=function(s,a,v,I){var F=0;return this.readModule(s-2,a-2,v,I)&&(F|=1),F<<=1,this.readModule(s-2,a-1,v,I)&&(F|=1),F<<=1,this.readModule(s-1,a-2,v,I)&&(F|=1),F<<=1,this.readModule(s-1,a-1,v,I)&&(F|=1),F<<=1,this.readModule(s-1,a,v,I)&&(F|=1),F<<=1,this.readModule(s,a-2,v,I)&&(F|=1),F<<=1,this.readModule(s,a-1,v,I)&&(F|=1),F<<=1,this.readModule(s,a,v,I)&&(F|=1),F},g.prototype.readCorner1=function(s,a){var v=0;return this.readModule(s-1,0,s,a)&&(v|=1),v<<=1,this.readModule(s-1,1,s,a)&&(v|=1),v<<=1,this.readModule(s-1,2,s,a)&&(v|=1),v<<=1,this.readModule(0,a-2,s,a)&&(v|=1),v<<=1,this.readModule(0,a-1,s,a)&&(v|=1),v<<=1,this.readModule(1,a-1,s,a)&&(v|=1),v<<=1,this.readModule(2,a-1,s,a)&&(v|=1),v<<=1,this.readModule(3,a-1,s,a)&&(v|=1),v},g.prototype.readCorner2=function(s,a){var v=0;return this.readModule(s-3,0,s,a)&&(v|=1),v<<=1,this.readModule(s-2,0,s,a)&&(v|=1),v<<=1,this.readModule(s-1,0,s,a)&&(v|=1),v<<=1,this.readModule(0,a-4,s,a)&&(v|=1),v<<=1,this.readModule(0,a-3,s,a)&&(v|=1),v<<=1,this.readModule(0,a-2,s,a)&&(v|=1),v<<=1,this.readModule(0,a-1,s,a)&&(v|=1),v<<=1,this.readModule(1,a-1,s,a)&&(v|=1),v},g.prototype.readCorner3=function(s,a){var v=0;return this.readModule(s-1,0,s,a)&&(v|=1),v<<=1,this.readModule(s-1,a-1,s,a)&&(v|=1),v<<=1,this.readModule(0,a-3,s,a)&&(v|=1),v<<=1,this.readModule(0,a-2,s,a)&&(v|=1),v<<=1,this.readModule(0,a-1,s,a)&&(v|=1),v<<=1,this.readModule(1,a-3,s,a)&&(v|=1),v<<=1,this.readModule(1,a-2,s,a)&&(v|=1),v<<=1,this.readModule(1,a-1,s,a)&&(v|=1),v},g.prototype.readCorner4=function(s,a){var v=0;return this.readModule(s-3,0,s,a)&&(v|=1),v<<=1,this.readModule(s-2,0,s,a)&&(v|=1),v<<=1,this.readModule(s-1,0,s,a)&&(v|=1),v<<=1,this.readModule(0,a-2,s,a)&&(v|=1),v<<=1,this.readModule(0,a-1,s,a)&&(v|=1),v<<=1,this.readModule(1,a-1,s,a)&&(v|=1),v<<=1,this.readModule(2,a-1,s,a)&&(v|=1),v<<=1,this.readModule(3,a-1,s,a)&&(v|=1),v},g.prototype.extractDataRegion=function(s){var a=this.version.getSymbolSizeRows(),v=this.version.getSymbolSizeColumns();if(s.getHeight()!==a)throw new xi("Dimension of bitMatrix must match the version size");for(var I=this.version.getDataRegionSizeRows(),F=this.version.getDataRegionSizeColumns(),se=a/I|0,ye=v/F|0,ut=new zt(ye*F,se*I),wt=0;wt<se;++wt)for(var jt=wt*I,Kt=0;Kt<ye;++Kt)for(var _n=Kt*F,On=0;On<I;++On)for(var nr=wt*(I+2)+1+On,rr=jt+On,er=0;er<F;++er)s.get(Kt*(F+2)+1+er,nr)&&ut.set(_n+er,rr);return ut},g}();var al=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const cl=function(){function g(s,a){this.numDataCodewords=s,this.codewords=a}return g.getDataBlocks=function(s,a){var v,I,F,se,ye=a.getECBlocks(),Re=0,ze=ye.getECBlocks();try{for(var ut=al(ze),wt=ut.next();!wt.done;wt=ut.next())Re+=(jt=wt.value).getCount()}catch(qd){v={error:qd}}finally{try{wt&&!wt.done&&(I=ut.return)&&I.call(ut)}finally{if(v)throw v.error}}var Kt=new Array(Re),_n=0;try{for(var On=al(ze),nr=On.next();!nr.done;nr=On.next())for(var jt=nr.value,rr=0;rr<jt.getCount();rr++){var er=jt.getDataCodewords(),fr=ye.getECCodewords()+er;Kt[_n++]=new g(er,new Uint8Array(fr))}}catch(qd){F={error:qd}}finally{try{nr&&!nr.done&&(se=On.return)&&se.call(On)}finally{if(F)throw F.error}}var Zr=Kt[0].codewords.length-ye.getECCodewords(),ci=Zr-1,hi=0;for(rr=0;rr<ci;rr++)for(var Ti=0;Ti<_n;Ti++)Kt[Ti].codewords[rr]=s[hi++];var Vo=24===a.getVersionNumber(),Do=Vo?8:_n;for(Ti=0;Ti<Do;Ti++)Kt[Ti].codewords[Zr-1]=s[hi++];var Kc=Kt[0].codewords.length;for(rr=Zr;rr<Kc;rr++)for(Ti=0;Ti<_n;Ti++){var xs=Vo?(Ti+8)%_n:Ti;Kt[xs].codewords[Vo&&xs>7?rr-1:rr]=s[hi++]}if(hi!==s.length)throw new xi;return Kt},g.prototype.getNumDataCodewords=function(){return this.numDataCodewords},g.prototype.getCodewords=function(){return this.codewords},g}(),ba=function(){function g(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}return g.prototype.getBitOffset=function(){return this.bitOffset},g.prototype.getByteOffset=function(){return this.byteOffset},g.prototype.readBits=function(s){if(s<1||s>32||s>this.available())throw new xi(""+s);var a=0,v=this.bitOffset,I=this.byteOffset,F=this.bytes;if(v>0){var se=8-v,ye=s<se?s:se;a=(F[I]&255>>8-ye<<(Re=se-ye))>>Re,s-=ye,8===(v+=ye)&&(v=0,I++)}if(s>0){for(;s>=8;)a=a<<8|255&F[I],I++,s-=8;var Re;s>0&&(a=a<<s|(F[I]&255>>(Re=8-s)<<Re)>>Re,v+=s)}return this.bitOffset=v,this.byteOffset=I,a},g.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},g}();var ra=function(g){return g[g.PAD_ENCODE=0]="PAD_ENCODE",g[g.ASCII_ENCODE=1]="ASCII_ENCODE",g[g.C40_ENCODE=2]="C40_ENCODE",g[g.TEXT_ENCODE=3]="TEXT_ENCODE",g[g.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",g[g.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",g[g.BASE256_ENCODE=6]="BASE256_ENCODE",g}(ra||{});const Hu=function(){function g(){}return g.decode=function(s){var a=new ba(s),v=new Hi,I=new Hi,F=new Array,se=ra.ASCII_ENCODE;do{if(se===ra.ASCII_ENCODE)se=this.decodeAsciiSegment(a,v,I);else{switch(se){case ra.C40_ENCODE:this.decodeC40Segment(a,v);break;case ra.TEXT_ENCODE:this.decodeTextSegment(a,v);break;case ra.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,v);break;case ra.EDIFACT_ENCODE:this.decodeEdifactSegment(a,v);break;case ra.BASE256_ENCODE:this.decodeBase256Segment(a,v,F);break;default:throw new jr}se=ra.ASCII_ENCODE}}while(se!==ra.PAD_ENCODE&&a.available()>0);return I.length()>0&&v.append(I.toString()),new jc(s,v.toString(),0===F.length?null:F,null)},g.decodeAsciiSegment=function(s,a,v){var I=!1;do{var F=s.readBits(8);if(0===F)throw new jr;if(F<=128)return I&&(F+=128),a.append(String.fromCharCode(F-1)),ra.ASCII_ENCODE;if(129===F)return ra.PAD_ENCODE;if(F<=229){var se=F-130;se<10&&a.append("0"),a.append(""+se)}else switch(F){case 230:return ra.C40_ENCODE;case 231:return ra.BASE256_ENCODE;case 232:a.append("\x1d");break;case 233:case 234:case 241:break;case 235:I=!0;break;case 236:a.append("[)>\x1e05\x1d"),v.insert(0,"\x1e\x04");break;case 237:a.append("[)>\x1e06\x1d"),v.insert(0,"\x1e\x04");break;case 238:return ra.ANSIX12_ENCODE;case 239:return ra.TEXT_ENCODE;case 240:return ra.EDIFACT_ENCODE;default:if(254!==F||0!==s.available())throw new jr}}while(s.available()>0);return ra.ASCII_ENCODE},g.decodeC40Segment=function(s,a){var v=!1,I=[],F=0;do{if(8===s.available())return;var se=s.readBits(8);if(254===se)return;this.parseTwoBytes(se,s.readBits(8),I);for(var ye=0;ye<3;ye++){var Re=I[ye];switch(F){case 0:if(Re<3)F=Re+1;else{if(!(Re<this.C40_BASIC_SET_CHARS.length))throw new jr;var ze=this.C40_BASIC_SET_CHARS[Re];v?(a.append(String.fromCharCode(ze.charCodeAt(0)+128)),v=!1):a.append(ze)}break;case 1:v?(a.append(String.fromCharCode(Re+128)),v=!1):a.append(String.fromCharCode(Re)),F=0;break;case 2:if(Re<this.C40_SHIFT2_SET_CHARS.length)ze=this.C40_SHIFT2_SET_CHARS[Re],v?(a.append(String.fromCharCode(ze.charCodeAt(0)+128)),v=!1):a.append(ze);else switch(Re){case 27:a.append("\x1d");break;case 30:v=!0;break;default:throw new jr}F=0;break;case 3:v?(a.append(String.fromCharCode(Re+224)),v=!1):a.append(String.fromCharCode(Re+96)),F=0;break;default:throw new jr}}}while(s.available()>0)},g.decodeTextSegment=function(s,a){var v=!1,I=[],F=0;do{if(8===s.available())return;var se=s.readBits(8);if(254===se)return;this.parseTwoBytes(se,s.readBits(8),I);for(var ye=0;ye<3;ye++){var Re=I[ye];switch(F){case 0:if(Re<3)F=Re+1;else{if(!(Re<this.TEXT_BASIC_SET_CHARS.length))throw new jr;var ze=this.TEXT_BASIC_SET_CHARS[Re];v?(a.append(String.fromCharCode(ze.charCodeAt(0)+128)),v=!1):a.append(ze)}break;case 1:v?(a.append(String.fromCharCode(Re+128)),v=!1):a.append(String.fromCharCode(Re)),F=0;break;case 2:if(Re<this.TEXT_SHIFT2_SET_CHARS.length)ze=this.TEXT_SHIFT2_SET_CHARS[Re],v?(a.append(String.fromCharCode(ze.charCodeAt(0)+128)),v=!1):a.append(ze);else switch(Re){case 27:a.append("\x1d");break;case 30:v=!0;break;default:throw new jr}F=0;break;case 3:if(!(Re<this.TEXT_SHIFT3_SET_CHARS.length))throw new jr;ze=this.TEXT_SHIFT3_SET_CHARS[Re],v?(a.append(String.fromCharCode(ze.charCodeAt(0)+128)),v=!1):a.append(ze),F=0;break;default:throw new jr}}}while(s.available()>0)},g.decodeAnsiX12Segment=function(s,a){var v=[];do{if(8===s.available())return;var I=s.readBits(8);if(254===I)return;this.parseTwoBytes(I,s.readBits(8),v);for(var F=0;F<3;F++){var se=v[F];switch(se){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(se<14)a.append(String.fromCharCode(se+44));else{if(!(se<40))throw new jr;a.append(String.fromCharCode(se+51))}}}}while(s.available()>0)},g.parseTwoBytes=function(s,a,v){var I=(s<<8)+a-1,F=Math.floor(I/1600);v[0]=F,I-=1600*F,F=Math.floor(I/40),v[1]=F,v[2]=I-40*F},g.decodeEdifactSegment=function(s,a){do{if(s.available()<=16)return;for(var v=0;v<4;v++){var I=s.readBits(6);if(31===I){var F=8-s.getBitOffset();return void(8!==F&&s.readBits(F))}32&I||(I|=64),a.append(String.fromCharCode(I))}}while(s.available()>0)},g.decodeBase256Segment=function(s,a,v){var se,I=1+s.getByteOffset(),F=this.unrandomize255State(s.readBits(8),I++);if((se=0===F?s.available()/8|0:F<250?F:250*(F-249)+this.unrandomize255State(s.readBits(8),I++))<0)throw new jr;for(var ye=new Uint8Array(se),Re=0;Re<se;Re++){if(s.available()<8)throw new jr;ye[Re]=this.unrandomize255State(s.readBits(8),I++)}v.push(ye);try{a.append(ea.decode(ye,No.ISO88591))}catch(ze){throw new Zi("Platform does not support required encoding: "+ze.message)}},g.unrandomize255State=function(s,a){var I=s-(149*a%255+1);return I>=0?I:I+256},g.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],g.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],g.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],g.TEXT_SHIFT2_SET_CHARS=g.C40_SHIFT2_SET_CHARS,g.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~","\x7f"],g}(),ep=function(){function g(){this.rsDecoder=new mu(sc.DATA_MATRIX_FIELD_256)}return g.prototype.decode=function(s){var a,v,I=new Cd(s),F=I.getVersion(),se=I.readCodewords(),ye=cl.getDataBlocks(se,F),Re=0;try{for(var ze=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(ye),ut=ze.next();!ut.done;ut=ze.next())Re+=ut.value.getNumDataCodewords()}catch(fr){a={error:fr}}finally{try{ut&&!ut.done&&(v=ze.return)&&v.call(ze)}finally{if(a)throw a.error}}for(var jt=new Uint8Array(Re),Kt=ye.length,_n=0;_n<Kt;_n++){var On=ye[_n],nr=On.getCodewords(),rr=On.getNumDataCodewords();this.correctErrors(nr,rr);for(var er=0;er<rr;er++)jt[er*Kt+_n]=nr[er]}return Hu.decode(jt)},g.prototype.correctErrors=function(s,a){var v=new Int32Array(s);try{this.rsDecoder.decode(v,s.length-a)}catch{throw new pa}for(var I=0;I<a;I++)s[I]=v[I]},g}(),jI=function(){function g(s){this.image=s,this.rectangleDetector=new fn(this.image)}return g.prototype.detect=function(){var s=this.rectangleDetector.detect(),a=this.detectSolid1(s);if((a=this.detectSolid2(a))[3]=this.correctTopRight(a),!a[3])throw new Gt;var v=(a=this.shiftToModuleCenter(a))[0],I=a[1],F=a[2],se=a[3],ye=this.transitionsBetween(v,se)+1,Re=this.transitionsBetween(F,se)+1;!(1&~ye)&&(ye+=1),!(1&~Re)&&(Re+=1),4*ye<7*Re&&4*Re<7*ye&&(ye=Re=Math.max(ye,Re));var ze=g.sampleGrid(this.image,v,I,F,se,ye,Re);return new Ll(ze,[v,I,F,se])},g.shiftPoint=function(s,a,v){var I=(a.getX()-s.getX())/(v+1),F=(a.getY()-s.getY())/(v+1);return new ii(s.getX()+I,s.getY()+F)},g.moveAway=function(s,a,v){var I=s.getX(),F=s.getY();return I<a?I-=1:I+=1,F<v?F-=1:F+=1,new ii(I,F)},g.prototype.detectSolid1=function(s){var a=s[0],v=s[1],I=s[3],F=s[2],se=this.transitionsBetween(a,v),ye=this.transitionsBetween(v,I),Re=this.transitionsBetween(I,F),ze=this.transitionsBetween(F,a),ut=se,wt=[F,a,v,I];return ut>ye&&(ut=ye,wt[0]=a,wt[1]=v,wt[2]=I,wt[3]=F),ut>Re&&(ut=Re,wt[0]=v,wt[1]=I,wt[2]=F,wt[3]=a),ut>ze&&(wt[0]=I,wt[1]=F,wt[2]=a,wt[3]=v),wt},g.prototype.detectSolid2=function(s){var a=s[0],v=s[1],I=s[2],F=s[3],se=this.transitionsBetween(a,F),ye=g.shiftPoint(v,I,4*(se+1)),Re=g.shiftPoint(I,v,4*(se+1));return this.transitionsBetween(ye,a)<this.transitionsBetween(Re,F)?(s[0]=a,s[1]=v,s[2]=I,s[3]=F):(s[0]=v,s[1]=I,s[2]=F,s[3]=a),s},g.prototype.correctTopRight=function(s){var a=s[0],v=s[1],I=s[2],F=s[3],se=this.transitionsBetween(a,F),ye=this.transitionsBetween(v,F),Re=g.shiftPoint(a,v,4*(ye+1)),ze=g.shiftPoint(I,v,4*(se+1));se=this.transitionsBetween(Re,F),ye=this.transitionsBetween(ze,F);var ut=new ii(F.getX()+(I.getX()-v.getX())/(se+1),F.getY()+(I.getY()-v.getY())/(se+1)),wt=new ii(F.getX()+(a.getX()-v.getX())/(ye+1),F.getY()+(a.getY()-v.getY())/(ye+1));return this.isValid(ut)?this.isValid(wt)?this.transitionsBetween(Re,ut)+this.transitionsBetween(ze,ut)>this.transitionsBetween(Re,wt)+this.transitionsBetween(ze,wt)?ut:wt:ut:this.isValid(wt)?wt:null},g.prototype.shiftToModuleCenter=function(s){var a=s[0],v=s[1],I=s[2],F=s[3],se=this.transitionsBetween(a,F)+1,ye=this.transitionsBetween(I,F)+1,Re=g.shiftPoint(a,v,4*ye),ze=g.shiftPoint(I,v,4*se);!(1&~(se=this.transitionsBetween(Re,F)+1))&&(se+=1),!(1&~(ye=this.transitionsBetween(ze,F)+1))&&(ye+=1);var jt,Kt,ut=(a.getX()+v.getX()+I.getX()+F.getX())/4,wt=(a.getY()+v.getY()+I.getY()+F.getY())/4;return a=g.moveAway(a,ut,wt),v=g.moveAway(v,ut,wt),I=g.moveAway(I,ut,wt),F=g.moveAway(F,ut,wt),Re=g.shiftPoint(a,v,4*ye),Re=g.shiftPoint(Re,F,4*se),jt=g.shiftPoint(v,a,4*ye),jt=g.shiftPoint(jt,I,4*se),ze=g.shiftPoint(I,F,4*ye),ze=g.shiftPoint(ze,v,4*se),Kt=g.shiftPoint(F,I,4*ye),[Re,jt,ze,Kt=g.shiftPoint(Kt,a,4*se)]},g.prototype.isValid=function(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()},g.sampleGrid=function(s,a,v,I,F,se,ye){return Cs.getInstance().sampleGrid(s,se,ye,.5,.5,se-.5,.5,se-.5,ye-.5,.5,ye-.5,a.getX(),a.getY(),F.getX(),F.getY(),I.getX(),I.getY(),v.getX(),v.getY())},g.prototype.transitionsBetween=function(s,a){var v=Math.trunc(s.getX()),I=Math.trunc(s.getY()),F=Math.trunc(a.getX()),se=Math.trunc(a.getY()),ye=Math.abs(se-I)>Math.abs(F-v);if(ye){var Re=v;v=I,I=Re,Re=F,F=se,se=Re}for(var ze=Math.abs(F-v),ut=Math.abs(se-I),wt=-ze/2,jt=I<se?1:-1,Kt=v<F?1:-1,_n=0,On=this.image.get(ye?I:v,ye?v:I),nr=v,rr=I;nr!==F;nr+=Kt){var er=this.image.get(ye?rr:nr,ye?nr:rr);if(er!==On&&(_n++,On=er),(wt+=ut)>0){if(rr===se)break;rr+=jt,wt-=ze}}return _n},g}(),Zy=function(){function g(){this.decoder=new ep}return g.prototype.decode=function(s,a){var v,I;if(void 0===a&&(a=null),null!=a&&a.has(wi.PURE_BARCODE)){var F=g.extractPureBits(s.getBlackMatrix());v=this.decoder.decode(F),I=g.NO_POINTS}else{var se=new jI(s.getBlackMatrix()).detect();v=this.decoder.decode(se.getBits()),I=se.getPoints()}var ye=v.getRawBytes(),Re=new Ka(v.getText(),ye,8*ye.length,I,Di.DATA_MATRIX,kr.currentTimeMillis()),ze=v.getByteSegments();null!=ze&&Re.putMetadata(_s.BYTE_SEGMENTS,ze);var ut=v.getECLevel();return null!=ut&&Re.putMetadata(_s.ERROR_CORRECTION_LEVEL,ut),Re},g.prototype.reset=function(){},g.extractPureBits=function(s){var a=s.getTopLeftOnBit(),v=s.getBottomRightOnBit();if(null==a||null==v)throw new Gt;var I=this.moduleSize(a,s),F=a[1],ye=a[0],ze=(v[0]-ye+1)/I,ut=(v[1]-F+1)/I;if(ze<=0||ut<=0)throw new Gt;var wt=I/2;F+=wt,ye+=wt;for(var jt=new zt(ze,ut),Kt=0;Kt<ut;Kt++)for(var _n=F+Kt*I,On=0;On<ze;On++)s.get(ye+On*I,_n)&&jt.set(On,Kt);return jt},g.moduleSize=function(s,a){for(var v=a.getWidth(),I=s[0],F=s[1];I<v&&a.get(I,F);)I++;if(I===v)throw new Gt;var se=I-s[0];if(0===se)throw new Gt;return se},g.NO_POINTS=[],g}();var $I=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),tp=(function(g){$I(function s(a){return void 0===a&&(a=500),g.call(this,new Zy,a)||this},g)}(Bl),function(g){return g[g.L=0]="L",g[g.M=1]="M",g[g.Q=2]="Q",g[g.H=3]="H",g}(tp||{}));const Fp=function(){function g(s,a,v){this.value=s,this.stringValue=a,this.bits=v,g.FOR_BITS.set(v,this),g.FOR_VALUE.set(s,this)}return g.prototype.getValue=function(){return this.value},g.prototype.getBits=function(){return this.bits},g.fromString=function(s){switch(s){case"L":return g.L;case"M":return g.M;case"Q":return g.Q;case"H":return g.H;default:throw new Oi(s+"not available")}},g.prototype.toString=function(){return this.stringValue},g.prototype.equals=function(s){return s instanceof g&&this.value===s.value},g.forBits=function(s){if(s<0||s>=g.FOR_BITS.size)throw new xi;return g.FOR_BITS.get(s)},g.FOR_BITS=new Map,g.FOR_VALUE=new Map,g.L=new g(tp.L,"L",1),g.M=new g(tp.M,"M",0),g.Q=new g(tp.Q,"Q",3),g.H=new g(tp.H,"H",2),g}(),U1=function(){function g(s){this.errorCorrectionLevel=Fp.forBits(s>>3&3),this.dataMask=7&s}return g.numBitsDiffering=function(s,a){return zi.bitCount(s^a)},g.decodeFormatInformation=function(s,a){var v=g.doDecodeFormatInformation(s,a);return null!==v?v:g.doDecodeFormatInformation(s^g.FORMAT_INFO_MASK_QR,a^g.FORMAT_INFO_MASK_QR)},g.doDecodeFormatInformation=function(s,a){var v,I,F=Number.MAX_SAFE_INTEGER,se=0;try{for(var ye=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(g.FORMAT_INFO_DECODE_LOOKUP),Re=ye.next();!Re.done;Re=ye.next()){var ze=Re.value,ut=ze[0];if(ut===s||ut===a)return new g(ze[1]);var wt=g.numBitsDiffering(s,ut);wt<F&&(se=ze[1],F=wt),s!==a&&(wt=g.numBitsDiffering(a,ut))<F&&(se=ze[1],F=wt)}}catch(jt){v={error:jt}}finally{try{Re&&!Re.done&&(I=ye.return)&&I.call(ye)}finally{if(v)throw v.error}}return F<=3?new g(se):null},g.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},g.prototype.getDataMask=function(){return this.dataMask},g.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},g.prototype.equals=function(s){return s instanceof g&&(this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask)},g.FORMAT_INFO_MASK_QR=21522,g.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],g}(),xr=function(){function g(s){for(var a=[],v=1;v<arguments.length;v++)a[v-1]=arguments[v];this.ecCodewordsPerBlock=s,this.ecBlocks=a}return g.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},g.prototype.getNumBlocks=function(){var s,a,v=0,I=this.ecBlocks;try{for(var F=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(I),se=F.next();!se.done;se=F.next())v+=se.value.getCount()}catch(Re){s={error:Re}}finally{try{se&&!se.done&&(a=F.return)&&a.call(F)}finally{if(s)throw s.error}}return v},g.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},g.prototype.getECBlocks=function(){return this.ecBlocks},g}(),Bn=function(){function g(s,a){this.count=s,this.dataCodewords=a}return g.prototype.getCount=function(){return this.count},g.prototype.getDataCodewords=function(){return this.dataCodewords},g}(),np=function(){function g(s,a){for(var v,I,F=[],se=2;se<arguments.length;se++)F[se-2]=arguments[se];this.versionNumber=s,this.alignmentPatternCenters=a,this.ecBlocks=F;var ye=0,Re=F[0].getECCodewordsPerBlock(),ze=F[0].getECBlocks();try{for(var ut=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(ze),wt=ut.next();!wt.done;wt=ut.next()){var jt=wt.value;ye+=jt.getCount()*(jt.getDataCodewords()+Re)}}catch(Kt){v={error:Kt}}finally{try{wt&&!wt.done&&(I=ut.return)&&I.call(ut)}finally{if(v)throw v.error}}this.totalCodewords=ye}return g.prototype.getVersionNumber=function(){return this.versionNumber},g.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},g.prototype.getTotalCodewords=function(){return this.totalCodewords},g.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},g.prototype.getECBlocksForLevel=function(s){return this.ecBlocks[s.getValue()]},g.getProvisionalVersionForDimension=function(s){if(s%4!=1)throw new jr;try{return this.getVersionForNumber((s-17)/4)}catch{throw new jr}},g.getVersionForNumber=function(s){if(s<1||s>40)throw new xi;return g.VERSIONS[s-1]},g.decodeVersionInformation=function(s){for(var a=Number.MAX_SAFE_INTEGER,v=0,I=0;I<g.VERSION_DECODE_INFO.length;I++){var F=g.VERSION_DECODE_INFO[I];if(F===s)return g.getVersionForNumber(I+7);var se=U1.numBitsDiffering(s,F);se<a&&(v=I+7,a=se)}return a<=3?g.getVersionForNumber(v):null},g.prototype.buildFunctionPattern=function(){var s=this.getDimensionForVersion(),a=new zt(s);a.setRegion(0,0,9,9),a.setRegion(s-8,0,8,9),a.setRegion(0,s-8,9,8);for(var v=this.alignmentPatternCenters.length,I=0;I<v;I++)for(var F=this.alignmentPatternCenters[I]-2,se=0;se<v;se++)0===I&&(0===se||se===v-1)||I===v-1&&0===se||a.setRegion(this.alignmentPatternCenters[se]-2,F,5,5);return a.setRegion(6,9,1,s-17),a.setRegion(9,6,s-17,1),this.versionNumber>6&&(a.setRegion(s-11,0,3,6),a.setRegion(0,s-11,6,3)),a},g.prototype.toString=function(){return""+this.versionNumber},g.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),g.VERSIONS=[new g(1,new Int32Array(0),new xr(7,new Bn(1,19)),new xr(10,new Bn(1,16)),new xr(13,new Bn(1,13)),new xr(17,new Bn(1,9))),new g(2,Int32Array.from([6,18]),new xr(10,new Bn(1,34)),new xr(16,new Bn(1,28)),new xr(22,new Bn(1,22)),new xr(28,new Bn(1,16))),new g(3,Int32Array.from([6,22]),new xr(15,new Bn(1,55)),new xr(26,new Bn(1,44)),new xr(18,new Bn(2,17)),new xr(22,new Bn(2,13))),new g(4,Int32Array.from([6,26]),new xr(20,new Bn(1,80)),new xr(18,new Bn(2,32)),new xr(26,new Bn(2,24)),new xr(16,new Bn(4,9))),new g(5,Int32Array.from([6,30]),new xr(26,new Bn(1,108)),new xr(24,new Bn(2,43)),new xr(18,new Bn(2,15),new Bn(2,16)),new xr(22,new Bn(2,11),new Bn(2,12))),new g(6,Int32Array.from([6,34]),new xr(18,new Bn(2,68)),new xr(16,new Bn(4,27)),new xr(24,new Bn(4,19)),new xr(28,new Bn(4,15))),new g(7,Int32Array.from([6,22,38]),new xr(20,new Bn(2,78)),new xr(18,new Bn(4,31)),new xr(18,new Bn(2,14),new Bn(4,15)),new xr(26,new Bn(4,13),new Bn(1,14))),new g(8,Int32Array.from([6,24,42]),new xr(24,new Bn(2,97)),new xr(22,new Bn(2,38),new Bn(2,39)),new xr(22,new Bn(4,18),new Bn(2,19)),new xr(26,new Bn(4,14),new Bn(2,15))),new g(9,Int32Array.from([6,26,46]),new xr(30,new Bn(2,116)),new xr(22,new Bn(3,36),new Bn(2,37)),new xr(20,new Bn(4,16),new Bn(4,17)),new xr(24,new Bn(4,12),new Bn(4,13))),new g(10,Int32Array.from([6,28,50]),new xr(18,new Bn(2,68),new Bn(2,69)),new xr(26,new Bn(4,43),new Bn(1,44)),new xr(24,new Bn(6,19),new Bn(2,20)),new xr(28,new Bn(6,15),new Bn(2,16))),new g(11,Int32Array.from([6,30,54]),new xr(20,new Bn(4,81)),new xr(30,new Bn(1,50),new Bn(4,51)),new xr(28,new Bn(4,22),new Bn(4,23)),new xr(24,new Bn(3,12),new Bn(8,13))),new g(12,Int32Array.from([6,32,58]),new xr(24,new Bn(2,92),new Bn(2,93)),new xr(22,new Bn(6,36),new Bn(2,37)),new xr(26,new Bn(4,20),new Bn(6,21)),new xr(28,new Bn(7,14),new Bn(4,15))),new g(13,Int32Array.from([6,34,62]),new xr(26,new Bn(4,107)),new xr(22,new Bn(8,37),new Bn(1,38)),new xr(24,new Bn(8,20),new Bn(4,21)),new xr(22,new Bn(12,11),new Bn(4,12))),new g(14,Int32Array.from([6,26,46,66]),new xr(30,new Bn(3,115),new Bn(1,116)),new xr(24,new Bn(4,40),new Bn(5,41)),new xr(20,new Bn(11,16),new Bn(5,17)),new xr(24,new Bn(11,12),new Bn(5,13))),new g(15,Int32Array.from([6,26,48,70]),new xr(22,new Bn(5,87),new Bn(1,88)),new xr(24,new Bn(5,41),new Bn(5,42)),new xr(30,new Bn(5,24),new Bn(7,25)),new xr(24,new Bn(11,12),new Bn(7,13))),new g(16,Int32Array.from([6,26,50,74]),new xr(24,new Bn(5,98),new Bn(1,99)),new xr(28,new Bn(7,45),new Bn(3,46)),new xr(24,new Bn(15,19),new Bn(2,20)),new xr(30,new Bn(3,15),new Bn(13,16))),new g(17,Int32Array.from([6,30,54,78]),new xr(28,new Bn(1,107),new Bn(5,108)),new xr(28,new Bn(10,46),new Bn(1,47)),new xr(28,new Bn(1,22),new Bn(15,23)),new xr(28,new Bn(2,14),new Bn(17,15))),new g(18,Int32Array.from([6,30,56,82]),new xr(30,new Bn(5,120),new Bn(1,121)),new xr(26,new Bn(9,43),new Bn(4,44)),new xr(28,new Bn(17,22),new Bn(1,23)),new xr(28,new Bn(2,14),new Bn(19,15))),new g(19,Int32Array.from([6,30,58,86]),new xr(28,new Bn(3,113),new Bn(4,114)),new xr(26,new Bn(3,44),new Bn(11,45)),new xr(26,new Bn(17,21),new Bn(4,22)),new xr(26,new Bn(9,13),new Bn(16,14))),new g(20,Int32Array.from([6,34,62,90]),new xr(28,new Bn(3,107),new Bn(5,108)),new xr(26,new Bn(3,41),new Bn(13,42)),new xr(30,new Bn(15,24),new Bn(5,25)),new xr(28,new Bn(15,15),new Bn(10,16))),new g(21,Int32Array.from([6,28,50,72,94]),new xr(28,new Bn(4,116),new Bn(4,117)),new xr(26,new Bn(17,42)),new xr(28,new Bn(17,22),new Bn(6,23)),new xr(30,new Bn(19,16),new Bn(6,17))),new g(22,Int32Array.from([6,26,50,74,98]),new xr(28,new Bn(2,111),new Bn(7,112)),new xr(28,new Bn(17,46)),new xr(30,new Bn(7,24),new Bn(16,25)),new xr(24,new Bn(34,13))),new g(23,Int32Array.from([6,30,54,78,102]),new xr(30,new Bn(4,121),new Bn(5,122)),new xr(28,new Bn(4,47),new Bn(14,48)),new xr(30,new Bn(11,24),new Bn(14,25)),new xr(30,new Bn(16,15),new Bn(14,16))),new g(24,Int32Array.from([6,28,54,80,106]),new xr(30,new Bn(6,117),new Bn(4,118)),new xr(28,new Bn(6,45),new Bn(14,46)),new xr(30,new Bn(11,24),new Bn(16,25)),new xr(30,new Bn(30,16),new Bn(2,17))),new g(25,Int32Array.from([6,32,58,84,110]),new xr(26,new Bn(8,106),new Bn(4,107)),new xr(28,new Bn(8,47),new Bn(13,48)),new xr(30,new Bn(7,24),new Bn(22,25)),new xr(30,new Bn(22,15),new Bn(13,16))),new g(26,Int32Array.from([6,30,58,86,114]),new xr(28,new Bn(10,114),new Bn(2,115)),new xr(28,new Bn(19,46),new Bn(4,47)),new xr(28,new Bn(28,22),new Bn(6,23)),new xr(30,new Bn(33,16),new Bn(4,17))),new g(27,Int32Array.from([6,34,62,90,118]),new xr(30,new Bn(8,122),new Bn(4,123)),new xr(28,new Bn(22,45),new Bn(3,46)),new xr(30,new Bn(8,23),new Bn(26,24)),new xr(30,new Bn(12,15),new Bn(28,16))),new g(28,Int32Array.from([6,26,50,74,98,122]),new xr(30,new Bn(3,117),new Bn(10,118)),new xr(28,new Bn(3,45),new Bn(23,46)),new xr(30,new Bn(4,24),new Bn(31,25)),new xr(30,new Bn(11,15),new Bn(31,16))),new g(29,Int32Array.from([6,30,54,78,102,126]),new xr(30,new Bn(7,116),new Bn(7,117)),new xr(28,new Bn(21,45),new Bn(7,46)),new xr(30,new Bn(1,23),new Bn(37,24)),new xr(30,new Bn(19,15),new Bn(26,16))),new g(30,Int32Array.from([6,26,52,78,104,130]),new xr(30,new Bn(5,115),new Bn(10,116)),new xr(28,new Bn(19,47),new Bn(10,48)),new xr(30,new Bn(15,24),new Bn(25,25)),new xr(30,new Bn(23,15),new Bn(25,16))),new g(31,Int32Array.from([6,30,56,82,108,134]),new xr(30,new Bn(13,115),new Bn(3,116)),new xr(28,new Bn(2,46),new Bn(29,47)),new xr(30,new Bn(42,24),new Bn(1,25)),new xr(30,new Bn(23,15),new Bn(28,16))),new g(32,Int32Array.from([6,34,60,86,112,138]),new xr(30,new Bn(17,115)),new xr(28,new Bn(10,46),new Bn(23,47)),new xr(30,new Bn(10,24),new Bn(35,25)),new xr(30,new Bn(19,15),new Bn(35,16))),new g(33,Int32Array.from([6,30,58,86,114,142]),new xr(30,new Bn(17,115),new Bn(1,116)),new xr(28,new Bn(14,46),new Bn(21,47)),new xr(30,new Bn(29,24),new Bn(19,25)),new xr(30,new Bn(11,15),new Bn(46,16))),new g(34,Int32Array.from([6,34,62,90,118,146]),new xr(30,new Bn(13,115),new Bn(6,116)),new xr(28,new Bn(14,46),new Bn(23,47)),new xr(30,new Bn(44,24),new Bn(7,25)),new xr(30,new Bn(59,16),new Bn(1,17))),new g(35,Int32Array.from([6,30,54,78,102,126,150]),new xr(30,new Bn(12,121),new Bn(7,122)),new xr(28,new Bn(12,47),new Bn(26,48)),new xr(30,new Bn(39,24),new Bn(14,25)),new xr(30,new Bn(22,15),new Bn(41,16))),new g(36,Int32Array.from([6,24,50,76,102,128,154]),new xr(30,new Bn(6,121),new Bn(14,122)),new xr(28,new Bn(6,47),new Bn(34,48)),new xr(30,new Bn(46,24),new Bn(10,25)),new xr(30,new Bn(2,15),new Bn(64,16))),new g(37,Int32Array.from([6,28,54,80,106,132,158]),new xr(30,new Bn(17,122),new Bn(4,123)),new xr(28,new Bn(29,46),new Bn(14,47)),new xr(30,new Bn(49,24),new Bn(10,25)),new xr(30,new Bn(24,15),new Bn(46,16))),new g(38,Int32Array.from([6,32,58,84,110,136,162]),new xr(30,new Bn(4,122),new Bn(18,123)),new xr(28,new Bn(13,46),new Bn(32,47)),new xr(30,new Bn(48,24),new Bn(14,25)),new xr(30,new Bn(42,15),new Bn(32,16))),new g(39,Int32Array.from([6,26,54,82,110,138,166]),new xr(30,new Bn(20,117),new Bn(4,118)),new xr(28,new Bn(40,47),new Bn(7,48)),new xr(30,new Bn(43,24),new Bn(22,25)),new xr(30,new Bn(10,15),new Bn(67,16))),new g(40,Int32Array.from([6,30,58,86,114,142,170]),new xr(30,new Bn(19,118),new Bn(6,119)),new xr(28,new Bn(18,47),new Bn(31,48)),new xr(30,new Bn(34,24),new Bn(34,25)),new xr(30,new Bn(20,15),new Bn(61,16)))],g}();var Os=function(g){return g[g.DATA_MASK_000=0]="DATA_MASK_000",g[g.DATA_MASK_001=1]="DATA_MASK_001",g[g.DATA_MASK_010=2]="DATA_MASK_010",g[g.DATA_MASK_011=3]="DATA_MASK_011",g[g.DATA_MASK_100=4]="DATA_MASK_100",g[g.DATA_MASK_101=5]="DATA_MASK_101",g[g.DATA_MASK_110=6]="DATA_MASK_110",g[g.DATA_MASK_111=7]="DATA_MASK_111",g}(Os||{});const $2=function(){function g(s,a){this.value=s,this.isMasked=a}return g.prototype.unmaskBitMatrix=function(s,a){for(var v=0;v<a;v++)for(var I=0;I<a;I++)this.isMasked(v,I)&&s.flip(I,v)},g.values=new Map([[Os.DATA_MASK_000,new g(Os.DATA_MASK_000,function(s,a){return!(s+a&1)})],[Os.DATA_MASK_001,new g(Os.DATA_MASK_001,function(s,a){return!(1&s)})],[Os.DATA_MASK_010,new g(Os.DATA_MASK_010,function(s,a){return a%3==0})],[Os.DATA_MASK_011,new g(Os.DATA_MASK_011,function(s,a){return(s+a)%3==0})],[Os.DATA_MASK_100,new g(Os.DATA_MASK_100,function(s,a){return!(Math.floor(s/2)+Math.floor(a/3)&1)})],[Os.DATA_MASK_101,new g(Os.DATA_MASK_101,function(s,a){return s*a%6==0})],[Os.DATA_MASK_110,new g(Os.DATA_MASK_110,function(s,a){return s*a%6<3})],[Os.DATA_MASK_111,new g(Os.DATA_MASK_111,function(s,a){return!(s+a+s*a%3&1)})]]),g}(),pA=function(){function g(s){var a=s.getHeight();if(a<21||1!=(3&a))throw new jr;this.bitMatrix=s}return g.prototype.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var s=0,a=0;a<6;a++)s=this.copyBit(a,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(var v=5;v>=0;v--)s=this.copyBit(8,v,s);var I=this.bitMatrix.getHeight(),F=0,se=I-7;for(v=I-1;v>=se;v--)F=this.copyBit(8,v,F);for(a=I-8;a<I;a++)F=this.copyBit(a,8,F);if(this.parsedFormatInfo=U1.decodeFormatInformation(s,F),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new jr},g.prototype.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var s=this.bitMatrix.getHeight(),a=Math.floor((s-17)/4);if(a<=6)return np.getVersionForNumber(a);for(var v=0,I=s-11,F=5;F>=0;F--)for(var se=s-9;se>=I;se--)v=this.copyBit(se,F,v);var ye=np.decodeVersionInformation(v);if(null!==ye&&ye.getDimensionForVersion()===s)return this.parsedVersion=ye,ye;for(v=0,se=5;se>=0;se--)for(F=s-9;F>=I;F--)v=this.copyBit(se,F,v);if(null!==(ye=np.decodeVersionInformation(v))&&ye.getDimensionForVersion()===s)return this.parsedVersion=ye,ye;throw new jr},g.prototype.copyBit=function(s,a,v){return(this.isMirror?this.bitMatrix.get(a,s):this.bitMatrix.get(s,a))?v<<1|1:v<<1},g.prototype.readCodewords=function(){var s=this.readFormatInformation(),a=this.readVersion(),v=$2.values.get(s.getDataMask()),I=this.bitMatrix.getHeight();v.unmaskBitMatrix(this.bitMatrix,I);for(var F=a.buildFunctionPattern(),se=!0,ye=new Uint8Array(a.getTotalCodewords()),Re=0,ze=0,ut=0,wt=I-1;wt>0;wt-=2){6===wt&&wt--;for(var jt=0;jt<I;jt++)for(var Kt=se?I-1-jt:jt,_n=0;_n<2;_n++)F.get(wt-_n,Kt)||(ut++,ze<<=1,this.bitMatrix.get(wt-_n,Kt)&&(ze|=1),8===ut&&(ye[Re++]=ze,ut=0,ze=0));se=!se}if(Re!==a.getTotalCodewords())throw new jr;return ye},g.prototype.remask=function(){if(null!==this.parsedFormatInfo){var s=$2.values.get(this.parsedFormatInfo.getDataMask()),a=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,a)}},g.prototype.setMirror=function(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s},g.prototype.mirror=function(){for(var s=this.bitMatrix,a=0,v=s.getWidth();a<v;a++)for(var I=a+1,F=s.getHeight();I<F;I++)s.get(a,I)!==s.get(I,a)&&(s.flip(I,a),s.flip(a,I))},g}();var j1=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const mA=function(){function g(s,a){this.numDataCodewords=s,this.codewords=a}return g.getDataBlocks=function(s,a,v){var I,F,se,ye;if(s.length!==a.getTotalCodewords())throw new xi;var Re=a.getECBlocksForLevel(v),ze=0,ut=Re.getECBlocks();try{for(var wt=j1(ut),jt=wt.next();!jt.done;jt=wt.next())ze+=(Kt=jt.value).getCount()}catch(xc){I={error:xc}}finally{try{jt&&!jt.done&&(F=wt.return)&&F.call(wt)}finally{if(I)throw I.error}}var _n=new Array(ze),On=0;try{for(var nr=j1(ut),rr=nr.next();!rr.done;rr=nr.next())for(var Kt=rr.value,er=0;er<Kt.getCount();er++){var fr=Kt.getDataCodewords(),Tr=Re.getECCodewordsPerBlock()+fr;_n[On++]=new g(fr,new Uint8Array(Tr))}}catch(xc){se={error:xc}}finally{try{rr&&!rr.done&&(ye=nr.return)&&ye.call(nr)}finally{if(se)throw se.error}}for(var Zr=_n[0].codewords.length,ci=_n.length-1;ci>=0&&_n[ci].codewords.length!==Zr;)ci--;ci++;var Ti=Zr-Re.getECCodewordsPerBlock(),Vo=0;for(er=0;er<Ti;er++)for(var Do=0;Do<On;Do++)_n[Do].codewords[er]=s[Vo++];for(Do=ci;Do<On;Do++)_n[Do].codewords[Ti]=s[Vo++];var Kc=_n[0].codewords.length;for(er=Ti;er<Kc;er++)for(Do=0;Do<On;Do++)_n[Do].codewords[Do<ci?er:er+1]=s[Vo++];return _n},g.prototype.getNumDataCodewords=function(){return this.numDataCodewords},g.prototype.getCodewords=function(){return this.codewords},g}();var Yc=function(g){return g[g.TERMINATOR=0]="TERMINATOR",g[g.NUMERIC=1]="NUMERIC",g[g.ALPHANUMERIC=2]="ALPHANUMERIC",g[g.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",g[g.BYTE=4]="BYTE",g[g.ECI=5]="ECI",g[g.KANJI=6]="KANJI",g[g.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",g[g.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",g[g.HANZI=9]="HANZI",g}(Yc||{});const cc=function(){function g(s,a,v,I){this.value=s,this.stringValue=a,this.characterCountBitsForVersions=v,this.bits=I,g.FOR_BITS.set(I,this),g.FOR_VALUE.set(s,this)}return g.forBits=function(s){var a=g.FOR_BITS.get(s);if(void 0===a)throw new xi;return a},g.prototype.getCharacterCountBits=function(s){var a=s.getVersionNumber();return this.characterCountBitsForVersions[a<=9?0:a<=26?1:2]},g.prototype.getValue=function(){return this.value},g.prototype.getBits=function(){return this.bits},g.prototype.equals=function(s){return s instanceof g&&this.value===s.value},g.prototype.toString=function(){return this.stringValue},g.FOR_BITS=new Map,g.FOR_VALUE=new Map,g.TERMINATOR=new g(Yc.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),g.NUMERIC=new g(Yc.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),g.ALPHANUMERIC=new g(Yc.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),g.STRUCTURED_APPEND=new g(Yc.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),g.BYTE=new g(Yc.BYTE,"BYTE",Int32Array.from([8,16,16]),4),g.ECI=new g(Yc.ECI,"ECI",Int32Array.from([0,0,0]),7),g.KANJI=new g(Yc.KANJI,"KANJI",Int32Array.from([8,10,12]),8),g.FNC1_FIRST_POSITION=new g(Yc.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),g.FNC1_SECOND_POSITION=new g(Yc.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),g.HANZI=new g(Yc.HANZI,"HANZI",Int32Array.from([8,10,12]),13),g}(),gA=function(){function g(){}return g.decode=function(s,a,v,I){var F=new ba(s),se=new Hi,ye=new Array,Re=-1,ze=-1;try{var ut=null,wt=!1,jt=void 0;do{if(F.available()<4)jt=cc.TERMINATOR;else{var Kt=F.readBits(4);jt=cc.forBits(Kt)}switch(jt){case cc.TERMINATOR:break;case cc.FNC1_FIRST_POSITION:case cc.FNC1_SECOND_POSITION:wt=!0;break;case cc.STRUCTURED_APPEND:if(F.available()<16)throw new jr;Re=F.readBits(8),ze=F.readBits(8);break;case cc.ECI:var _n=g.parseECIValue(F);if(null===(ut=Ma.getCharacterSetECIByValue(_n)))throw new jr;break;case cc.HANZI:var On=F.readBits(4),nr=F.readBits(jt.getCharacterCountBits(a));On===g.GB2312_SUBSET&&g.decodeHanziSegment(F,se,nr);break;default:var rr=F.readBits(jt.getCharacterCountBits(a));switch(jt){case cc.NUMERIC:g.decodeNumericSegment(F,se,rr);break;case cc.ALPHANUMERIC:g.decodeAlphanumericSegment(F,se,rr,wt);break;case cc.BYTE:g.decodeByteSegment(F,se,rr,ut,ye,I);break;case cc.KANJI:g.decodeKanjiSegment(F,se,rr);break;default:throw new jr}}}while(jt!==cc.TERMINATOR)}catch{throw new jr}return new jc(s,se.toString(),0===ye.length?null:ye,null===v?null:v.toString(),Re,ze)},g.decodeHanziSegment=function(s,a,v){if(13*v>s.available())throw new jr;for(var I=new Uint8Array(2*v),F=0;v>0;){var se=s.readBits(13),ye=se/96<<8&4294967295|se%96;I[F]=(ye+=ye<959?41377:42657)>>8&255,I[F+1]=255&ye,F+=2,v--}try{a.append(ea.decode(I,No.GB2312))}catch(Re){throw new jr(Re)}},g.decodeKanjiSegment=function(s,a,v){if(13*v>s.available())throw new jr;for(var I=new Uint8Array(2*v),F=0;v>0;){var se=s.readBits(13),ye=se/192<<8&4294967295|se%192;I[F]=(ye+=ye<7936?33088:49472)>>8,I[F+1]=ye,F+=2,v--}try{a.append(ea.decode(I,No.SHIFT_JIS))}catch(Re){throw new jr(Re)}},g.decodeByteSegment=function(s,a,v,I,F,se){if(8*v>s.available())throw new jr;for(var ye=new Uint8Array(v),Re=0;Re<v;Re++)ye[Re]=s.readBits(8);var ze;ze=null===I?No.guessEncoding(ye,se):I.getName();try{a.append(ea.decode(ye,ze))}catch(ut){throw new jr(ut)}F.push(ye)},g.toAlphaNumericChar=function(s){if(s>=g.ALPHANUMERIC_CHARS.length)throw new jr;return g.ALPHANUMERIC_CHARS[s]},g.decodeAlphanumericSegment=function(s,a,v,I){for(var F=a.length();v>1;){if(s.available()<11)throw new jr;var se=s.readBits(11);a.append(g.toAlphaNumericChar(Math.floor(se/45))),a.append(g.toAlphaNumericChar(se%45)),v-=2}if(1===v){if(s.available()<6)throw new jr;a.append(g.toAlphaNumericChar(s.readBits(6)))}if(I)for(var ye=F;ye<a.length();ye++)"%"===a.charAt(ye)&&(ye<a.length()-1&&"%"===a.charAt(ye+1)?a.deleteCharAt(ye+1):a.setCharAt(ye,"\x1d"))},g.decodeNumericSegment=function(s,a,v){for(;v>=3;){if(s.available()<10)throw new jr;var I=s.readBits(10);if(I>=1e3)throw new jr;a.append(g.toAlphaNumericChar(Math.floor(I/100))),a.append(g.toAlphaNumericChar(Math.floor(I/10)%10)),a.append(g.toAlphaNumericChar(I%10)),v-=3}if(2===v){if(s.available()<7)throw new jr;var F=s.readBits(7);if(F>=100)throw new jr;a.append(g.toAlphaNumericChar(Math.floor(F/10))),a.append(g.toAlphaNumericChar(F%10))}else if(1===v){if(s.available()<4)throw new jr;var se=s.readBits(4);if(se>=10)throw new jr;a.append(g.toAlphaNumericChar(se))}},g.parseECIValue=function(s){var a=s.readBits(8);if(!(128&a))return 127&a;if(128==(192&a))return(63&a)<<8&4294967295|s.readBits(8);if(192==(224&a))return(31&a)<<16&4294967295|s.readBits(16);throw new jr},g.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",g.GB2312_SUBSET=1,g}(),x0=function(){function g(s){this.mirrored=s}return g.prototype.isMirrored=function(){return this.mirrored},g.prototype.applyMirroredCorrection=function(s){if(this.mirrored&&null!==s&&!(s.length<3)){var a=s[0];s[0]=s[2],s[2]=a}},g}();var Wu=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const K2=function(){function g(){this.rsDecoder=new mu(sc.QR_CODE_FIELD_256)}return g.prototype.decodeBooleanArray=function(s,a){return this.decodeBitMatrix(zt.parseFromBooleanArray(s),a)},g.prototype.decodeBitMatrix=function(s,a){var v=new pA(s),I=null;try{return this.decodeBitMatrixParser(v,a)}catch(se){I=se}try{v.remask(),v.setMirror(!0),v.readVersion(),v.readFormatInformation(),v.mirror();var F=this.decodeBitMatrixParser(v,a);return F.setOther(new x0(!0)),F}catch(se){throw null!==I?I:se}},g.prototype.decodeBitMatrixParser=function(s,a){var v,I,F,se,ye=s.readVersion(),Re=s.readFormatInformation().getErrorCorrectionLevel(),ze=s.readCodewords(),ut=mA.getDataBlocks(ze,ye,Re),wt=0;try{for(var jt=Wu(ut),Kt=jt.next();!Kt.done;Kt=jt.next())wt+=(_n=Kt.value).getNumDataCodewords()}catch(ci){v={error:ci}}finally{try{Kt&&!Kt.done&&(I=jt.return)&&I.call(jt)}finally{if(v)throw v.error}}var On=new Uint8Array(wt),nr=0;try{for(var rr=Wu(ut),er=rr.next();!er.done;er=rr.next()){var _n,fr=(_n=er.value).getCodewords(),Tr=_n.getNumDataCodewords();this.correctErrors(fr,Tr);for(var Zr=0;Zr<Tr;Zr++)On[nr++]=fr[Zr]}}catch(ci){F={error:ci}}finally{try{er&&!er.done&&(se=rr.return)&&se.call(rr)}finally{if(F)throw F.error}}return gA.decode(On,ye,Re,a)},g.prototype.correctErrors=function(s,a){var v=new Int32Array(s);try{this.rsDecoder.decode(v,s.length-a)}catch{throw new pa}for(var I=0;I<a;I++)s[I]=v[I]},g}();var ia=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Yy=function(g){function s(a,v,I){var F=g.call(this,a,v)||this;return F.estimatedModuleSize=I,F}return ia(s,g),s.prototype.aboutEquals=function(a,v,I){if(Math.abs(v-this.getY())<=a&&Math.abs(I-this.getX())<=a){var F=Math.abs(a-this.estimatedModuleSize);return F<=1||F<=this.estimatedModuleSize}return!1},s.prototype.combineEstimate=function(a,v,I){return new s((this.getX()+v)/2,(this.getY()+a)/2,(this.estimatedModuleSize+I)/2)},s}(ii),Qi=function(){function g(s,a,v,I,F,se,ye){this.image=s,this.startX=a,this.startY=v,this.width=I,this.height=F,this.moduleSize=se,this.resultPointCallback=ye,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return g.prototype.find=function(){for(var s=this.startX,a=this.height,I=s+this.width,F=this.startY+a/2,se=new Int32Array(3),ye=this.image,Re=0;Re<a;Re++){var ze=F+(1&Re?-Math.floor((Re+1)/2):Math.floor((Re+1)/2));se[0]=0,se[1]=0,se[2]=0;for(var ut=s;ut<I&&!ye.get(ut,ze);)ut++;for(var wt=0;ut<I;){if(ye.get(ut,ze))if(1===wt)se[1]++;else if(2===wt){var jt;if(this.foundPatternCross(se)&&null!==(jt=this.handlePossibleCenter(se,ze,ut)))return jt;se[0]=se[2],se[1]=1,se[2]=0,wt=1}else se[++wt]++;else 1===wt&&wt++,se[wt]++;ut++}if(this.foundPatternCross(se)&&null!==(jt=this.handlePossibleCenter(se,ze,I)))return jt}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new Gt},g.centerFromEnd=function(s,a){return a-s[2]-s[1]/2},g.prototype.foundPatternCross=function(s){for(var a=this.moduleSize,v=a/2,I=0;I<3;I++)if(Math.abs(a-s[I])>=v)return!1;return!0},g.prototype.crossCheckVertical=function(s,a,v,I){var F=this.image,se=F.getHeight(),ye=this.crossCheckStateCount;ye[0]=0,ye[1]=0,ye[2]=0;for(var Re=s;Re>=0&&F.get(a,Re)&&ye[1]<=v;)ye[1]++,Re--;if(Re<0||ye[1]>v)return NaN;for(;Re>=0&&!F.get(a,Re)&&ye[0]<=v;)ye[0]++,Re--;if(ye[0]>v)return NaN;for(Re=s+1;Re<se&&F.get(a,Re)&&ye[1]<=v;)ye[1]++,Re++;if(Re===se||ye[1]>v)return NaN;for(;Re<se&&!F.get(a,Re)&&ye[2]<=v;)ye[2]++,Re++;return ye[2]>v||5*Math.abs(ye[0]+ye[1]+ye[2]-I)>=2*I?NaN:this.foundPatternCross(ye)?g.centerFromEnd(ye,Re):NaN},g.prototype.handlePossibleCenter=function(s,a,v){var I,F,se=s[0]+s[1]+s[2],ye=g.centerFromEnd(s,v),Re=this.crossCheckVertical(a,ye,2*s[1],se);if(!isNaN(Re)){var ze=(s[0]+s[1]+s[2])/3;try{for(var ut=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.possibleCenters),wt=ut.next();!wt.done;wt=ut.next()){var jt=wt.value;if(jt.aboutEquals(ze,Re,ye))return jt.combineEstimate(Re,ye,ze)}}catch(_n){I={error:_n}}finally{try{wt&&!wt.done&&(F=ut.return)&&F.call(ut)}finally{if(I)throw I.error}}var Kt=new Yy(ye,Re,ze);this.possibleCenters.push(Kt),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(Kt)}return null},g}();var bf=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const vA=function(g){function s(a,v,I,F){var se=g.call(this,a,v)||this;return se.estimatedModuleSize=I,se.count=F,void 0===F&&(se.count=1),se}return bf(s,g),s.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},s.prototype.getCount=function(){return this.count},s.prototype.aboutEquals=function(a,v,I){if(Math.abs(v-this.getY())<=a&&Math.abs(I-this.getX())<=a){var F=Math.abs(a-this.estimatedModuleSize);return F<=1||F<=this.estimatedModuleSize}return!1},s.prototype.combineEstimate=function(a,v,I){var F=this.count+1;return new s((this.count*this.getX()+v)/F,(this.count*this.getY()+a)/F,(this.count*this.estimatedModuleSize+I)/F,F)},s}(ii),V2=function(){function g(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}return g.prototype.getBottomLeft=function(){return this.bottomLeft},g.prototype.getTopLeft=function(){return this.topLeft},g.prototype.getTopRight=function(){return this.topRight},g}();var Id=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const wh=function(){function g(s,a){this.image=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}return g.prototype.getImage=function(){return this.image},g.prototype.getPossibleCenters=function(){return this.possibleCenters},g.prototype.find=function(s){var a=null!=s&&void 0!==s.get(wi.TRY_HARDER),v=null!=s&&void 0!==s.get(wi.PURE_BARCODE),I=this.image,F=I.getHeight(),se=I.getWidth(),ye=Math.floor(3*F/(4*g.MAX_MODULES));(ye<g.MIN_SKIP||a)&&(ye=g.MIN_SKIP);for(var Re=!1,ze=new Int32Array(5),ut=ye-1;ut<F&&!Re;ut+=ye){ze[0]=0,ze[1]=0,ze[2]=0,ze[3]=0,ze[4]=0;for(var wt=0,jt=0;jt<se;jt++)if(I.get(jt,ut))!(1&~wt)&&wt++,ze[wt]++;else if(1&wt)ze[wt]++;else if(4===wt)if(g.foundPatternCross(ze)){if(!0!==this.handlePossibleCenter(ze,ut,jt,v)){ze[0]=ze[2],ze[1]=ze[3],ze[2]=ze[4],ze[3]=1,ze[4]=0,wt=3;continue}if(ye=2,!0===this.hasSkipped)Re=this.haveMultiplyConfirmedCenters();else{var _n=this.findRowSkip();_n>ze[2]&&(ut+=_n-ze[2]-ye,jt=se-1)}wt=0,ze[0]=0,ze[1]=0,ze[2]=0,ze[3]=0,ze[4]=0}else ze[0]=ze[2],ze[1]=ze[3],ze[2]=ze[4],ze[3]=1,ze[4]=0,wt=3;else ze[++wt]++;g.foundPatternCross(ze)&&!0===this.handlePossibleCenter(ze,ut,se,v)&&(ye=ze[0],this.hasSkipped&&(Re=this.haveMultiplyConfirmedCenters()))}var On=this.selectBestPatterns();return ii.orderBestPatterns(On),new V2(On)},g.centerFromEnd=function(s,a){return a-s[4]-s[3]-s[2]/2},g.foundPatternCross=function(s){for(var a=0,v=0;v<5;v++){var I=s[v];if(0===I)return!1;a+=I}if(a<7)return!1;var F=a/7,se=F/2;return Math.abs(F-s[0])<se&&Math.abs(F-s[1])<se&&Math.abs(3*F-s[2])<3*se&&Math.abs(F-s[3])<se&&Math.abs(F-s[4])<se},g.prototype.getCrossCheckStateCount=function(){var s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s},g.prototype.crossCheckDiagonal=function(s,a,v,I){for(var F=this.getCrossCheckStateCount(),se=0,ye=this.image;s>=se&&a>=se&&ye.get(a-se,s-se);)F[2]++,se++;if(s<se||a<se)return!1;for(;s>=se&&a>=se&&!ye.get(a-se,s-se)&&F[1]<=v;)F[1]++,se++;if(s<se||a<se||F[1]>v)return!1;for(;s>=se&&a>=se&&ye.get(a-se,s-se)&&F[0]<=v;)F[0]++,se++;if(F[0]>v)return!1;var Re=ye.getHeight(),ze=ye.getWidth();for(se=1;s+se<Re&&a+se<ze&&ye.get(a+se,s+se);)F[2]++,se++;if(s+se>=Re||a+se>=ze)return!1;for(;s+se<Re&&a+se<ze&&!ye.get(a+se,s+se)&&F[3]<v;)F[3]++,se++;if(s+se>=Re||a+se>=ze||F[3]>=v)return!1;for(;s+se<Re&&a+se<ze&&ye.get(a+se,s+se)&&F[4]<v;)F[4]++,se++;return!(F[4]>=v)&&Math.abs(F[0]+F[1]+F[2]+F[3]+F[4]-I)<2*I&&g.foundPatternCross(F)},g.prototype.crossCheckVertical=function(s,a,v,I){for(var F=this.image,se=F.getHeight(),ye=this.getCrossCheckStateCount(),Re=s;Re>=0&&F.get(a,Re);)ye[2]++,Re--;if(Re<0)return NaN;for(;Re>=0&&!F.get(a,Re)&&ye[1]<=v;)ye[1]++,Re--;if(Re<0||ye[1]>v)return NaN;for(;Re>=0&&F.get(a,Re)&&ye[0]<=v;)ye[0]++,Re--;if(ye[0]>v)return NaN;for(Re=s+1;Re<se&&F.get(a,Re);)ye[2]++,Re++;if(Re===se)return NaN;for(;Re<se&&!F.get(a,Re)&&ye[3]<v;)ye[3]++,Re++;if(Re===se||ye[3]>=v)return NaN;for(;Re<se&&F.get(a,Re)&&ye[4]<v;)ye[4]++,Re++;return ye[4]>=v||5*Math.abs(ye[0]+ye[1]+ye[2]+ye[3]+ye[4]-I)>=2*I?NaN:g.foundPatternCross(ye)?g.centerFromEnd(ye,Re):NaN},g.prototype.crossCheckHorizontal=function(s,a,v,I){for(var F=this.image,se=F.getWidth(),ye=this.getCrossCheckStateCount(),Re=s;Re>=0&&F.get(Re,a);)ye[2]++,Re--;if(Re<0)return NaN;for(;Re>=0&&!F.get(Re,a)&&ye[1]<=v;)ye[1]++,Re--;if(Re<0||ye[1]>v)return NaN;for(;Re>=0&&F.get(Re,a)&&ye[0]<=v;)ye[0]++,Re--;if(ye[0]>v)return NaN;for(Re=s+1;Re<se&&F.get(Re,a);)ye[2]++,Re++;if(Re===se)return NaN;for(;Re<se&&!F.get(Re,a)&&ye[3]<v;)ye[3]++,Re++;if(Re===se||ye[3]>=v)return NaN;for(;Re<se&&F.get(Re,a)&&ye[4]<v;)ye[4]++,Re++;return ye[4]>=v||5*Math.abs(ye[0]+ye[1]+ye[2]+ye[3]+ye[4]-I)>=I?NaN:g.foundPatternCross(ye)?g.centerFromEnd(ye,Re):NaN},g.prototype.handlePossibleCenter=function(s,a,v,I){var F=s[0]+s[1]+s[2]+s[3]+s[4],se=g.centerFromEnd(s,v),ye=this.crossCheckVertical(a,Math.floor(se),s[2],F);if(!isNaN(ye)&&(se=this.crossCheckHorizontal(Math.floor(se),Math.floor(ye),s[2],F),!isNaN(se)&&(!I||this.crossCheckDiagonal(Math.floor(ye),Math.floor(se),s[2],F)))){for(var Re=F/7,ze=!1,ut=this.possibleCenters,wt=0,jt=ut.length;wt<jt;wt++){var Kt=ut[wt];if(Kt.aboutEquals(Re,ye,se)){ut[wt]=Kt.combineEstimate(ye,se,Re),ze=!0;break}}if(!ze){var _n=new vA(se,ye,Re);ut.push(_n),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(_n)}return!0}return!1},g.prototype.findRowSkip=function(){var s,a;if(this.possibleCenters.length<=1)return 0;var I=null;try{for(var F=Id(this.possibleCenters),se=F.next();!se.done;se=F.next()){var ye=se.value;if(ye.getCount()>=g.CENTER_QUORUM){if(null!=I)return this.hasSkipped=!0,Math.floor((Math.abs(I.getX()-ye.getX())-Math.abs(I.getY()-ye.getY()))/2);I=ye}}}catch(Re){s={error:Re}}finally{try{se&&!se.done&&(a=F.return)&&a.call(F)}finally{if(s)throw s.error}}return 0},g.prototype.haveMultiplyConfirmedCenters=function(){var s,a,v,I,F=0,se=0,ye=this.possibleCenters.length;try{for(var Re=Id(this.possibleCenters),ze=Re.next();!ze.done;ze=Re.next())(ut=ze.value).getCount()>=g.CENTER_QUORUM&&(F++,se+=ut.getEstimatedModuleSize())}catch(On){s={error:On}}finally{try{ze&&!ze.done&&(a=Re.return)&&a.call(Re)}finally{if(s)throw s.error}}if(F<3)return!1;var wt=se/ye,jt=0;try{for(var Kt=Id(this.possibleCenters),_n=Kt.next();!_n.done;_n=Kt.next()){var ut=_n.value;jt+=Math.abs(ut.getEstimatedModuleSize()-wt)}}catch(On){v={error:On}}finally{try{_n&&!_n.done&&(I=Kt.return)&&I.call(Kt)}finally{if(v)throw v.error}}return jt<=.05*se},g.prototype.selectBestPatterns=function(){var s,a,v,I,F=this.possibleCenters.length;if(F<3)throw new Gt;var ye,se=this.possibleCenters;if(F>3){var Re=0,ze=0;try{for(var ut=Id(this.possibleCenters),wt=ut.next();!wt.done;wt=ut.next()){var Kt=wt.value.getEstimatedModuleSize();Re+=Kt,ze+=Kt*Kt}}catch(Zr){s={error:Zr}}finally{try{wt&&!wt.done&&(a=ut.return)&&a.call(ut)}finally{if(s)throw s.error}}ye=Re/F;var _n=Math.sqrt(ze/F-ye*ye);se.sort(function(Zr,ci){var hi=Math.abs(ci.getEstimatedModuleSize()-ye),Ti=Math.abs(Zr.getEstimatedModuleSize()-ye);return hi<Ti?-1:hi>Ti?1:0});for(var On=Math.max(.2*ye,_n),nr=0;nr<se.length&&se.length>3;nr++)Math.abs(se[nr].getEstimatedModuleSize()-ye)>On&&(se.splice(nr,1),nr--)}if(se.length>3){Re=0;try{for(var er=Id(se),fr=er.next();!fr.done;fr=er.next())Re+=fr.value.getEstimatedModuleSize()}catch(ci){v={error:ci}}finally{try{fr&&!fr.done&&(I=er.return)&&I.call(er)}finally{if(v)throw v.error}}ye=Re/se.length,se.sort(function(ci,hi){if(hi.getCount()===ci.getCount()){var Ti=Math.abs(hi.getEstimatedModuleSize()-ye),Vo=Math.abs(ci.getEstimatedModuleSize()-ye);return Ti<Vo?1:Ti>Vo?-1:0}return hi.getCount()-ci.getCount()}),se.splice(3)}return[se[0],se[1],se[2]]},g.CENTER_QUORUM=2,g.MIN_SKIP=3,g.MAX_MODULES=57,g}(),Jy=function(){function g(s){this.image=s}return g.prototype.getImage=function(){return this.image},g.prototype.getResultPointCallback=function(){return this.resultPointCallback},g.prototype.detect=function(s){this.resultPointCallback=null==s?null:s.get(wi.NEED_RESULT_POINT_CALLBACK);var v=new wh(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(v)},g.prototype.processFinderPatternInfo=function(s){var a=s.getTopLeft(),v=s.getTopRight(),I=s.getBottomLeft(),F=this.calculateModuleSize(a,v,I);if(F<1)throw new Gt("No pattern found in proccess finder.");var se=g.computeDimension(a,v,I,F),ye=np.getProvisionalVersionForDimension(se),Re=ye.getDimensionForVersion()-7,ze=null;if(ye.getAlignmentPatternCenters().length>0)for(var ut=v.getX()-a.getX()+I.getX(),wt=v.getY()-a.getY()+I.getY(),jt=1-3/Re,Kt=Math.floor(a.getX()+jt*(ut-a.getX())),_n=Math.floor(a.getY()+jt*(wt-a.getY())),On=4;On<=16;On<<=1)try{ze=this.findAlignmentInRegion(F,Kt,_n,On);break}catch(fr){if(!(fr instanceof Gt))throw fr}var nr=g.createTransform(a,v,I,ze,se),rr=g.sampleGrid(this.image,nr,se);return new Ll(rr,null===ze?[I,a,v]:[I,a,v,ze])},g.createTransform=function(s,a,v,I,F){var ye,Re,ze,ut,se=F-3.5;return null!==I?(ye=I.getX(),Re=I.getY(),ut=ze=se-3):(ye=a.getX()-s.getX()+v.getX(),Re=a.getY()-s.getY()+v.getY(),ze=se,ut=se),yr.quadrilateralToQuadrilateral(3.5,3.5,se,3.5,ze,ut,3.5,se,s.getX(),s.getY(),a.getX(),a.getY(),ye,Re,v.getX(),v.getY())},g.sampleGrid=function(s,a,v){return Cs.getInstance().sampleGridWithTransform(s,v,v,a)},g.computeDimension=function(s,a,v,I){var F=rs.round(ii.distance(s,a)/I),se=rs.round(ii.distance(s,v)/I),ye=Math.floor((F+se)/2)+7;switch(3&ye){case 0:ye++;break;case 2:ye--;break;case 3:throw new Gt("Dimensions could be not found.")}return ye},g.prototype.calculateModuleSize=function(s,a,v){return(this.calculateModuleSizeOneWay(s,a)+this.calculateModuleSizeOneWay(s,v))/2},g.prototype.calculateModuleSizeOneWay=function(s,a){var v=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(a.getX()),Math.floor(a.getY())),I=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(v)?I/7:isNaN(I)?v/7:(v+I)/14},g.prototype.sizeOfBlackWhiteBlackRunBothWays=function(s,a,v,I){var F=this.sizeOfBlackWhiteBlackRun(s,a,v,I),se=1,ye=s-(v-s);ye<0?(se=s/(s-ye),ye=0):ye>=this.image.getWidth()&&(se=(this.image.getWidth()-1-s)/(ye-s),ye=this.image.getWidth()-1);var Re=Math.floor(a-(I-a)*se);return se=1,Re<0?(se=a/(a-Re),Re=0):Re>=this.image.getHeight()&&(se=(this.image.getHeight()-1-a)/(Re-a),Re=this.image.getHeight()-1),ye=Math.floor(s+(ye-s)*se),(F+=this.sizeOfBlackWhiteBlackRun(s,a,ye,Re))-1},g.prototype.sizeOfBlackWhiteBlackRun=function(s,a,v,I){var F=Math.abs(I-a)>Math.abs(v-s);if(F){var se=s;s=a,a=se,se=v,v=I,I=se}for(var ye=Math.abs(v-s),Re=Math.abs(I-a),ze=-ye/2,ut=s<v?1:-1,wt=a<I?1:-1,jt=0,Kt=v+ut,_n=s,On=a;_n!==Kt;_n+=ut){if(1===jt===this.image.get(F?On:_n,F?_n:On)){if(2===jt)return rs.distance(_n,On,s,a);jt++}if((ze+=Re)>0){if(On===I)break;On+=wt,ze-=ye}}return 2===jt?rs.distance(v+ut,I,s,a):NaN},g.prototype.findAlignmentInRegion=function(s,a,v,I){var F=Math.floor(I*s),se=Math.max(0,a-F),ye=Math.min(this.image.getWidth()-1,a+F);if(ye-se<3*s)throw new Gt("Alignment top exceeds estimated module size.");var Re=Math.max(0,v-F),ze=Math.min(this.image.getHeight()-1,v+F);if(ze-Re<3*s)throw new Gt("Alignment bottom exceeds estimated module size.");return new Qi(this.image,se,Re,ye-se,ze-Re,s,this.resultPointCallback).find()},g}(),Im=function(){function g(){this.decoder=new K2}return g.prototype.getDecoder=function(){return this.decoder},g.prototype.decode=function(s,a){var v,I;if(null!=a&&void 0!==a.get(wi.PURE_BARCODE)){var F=g.extractPureBits(s.getBlackMatrix());v=this.decoder.decodeBitMatrix(F,a),I=g.NO_POINTS}else{var se=new Jy(s.getBlackMatrix()).detect(a);v=this.decoder.decodeBitMatrix(se.getBits(),a),I=se.getPoints()}v.getOther()instanceof x0&&v.getOther().applyMirroredCorrection(I);var ye=new Ka(v.getText(),v.getRawBytes(),void 0,I,Di.QR_CODE,void 0),Re=v.getByteSegments();null!==Re&&ye.putMetadata(_s.BYTE_SEGMENTS,Re);var ze=v.getECLevel();return null!==ze&&ye.putMetadata(_s.ERROR_CORRECTION_LEVEL,ze),v.hasStructuredAppend()&&(ye.putMetadata(_s.STRUCTURED_APPEND_SEQUENCE,v.getStructuredAppendSequenceNumber()),ye.putMetadata(_s.STRUCTURED_APPEND_PARITY,v.getStructuredAppendParity())),ye},g.prototype.reset=function(){},g.extractPureBits=function(s){var a=s.getTopLeftOnBit(),v=s.getBottomRightOnBit();if(null===a||null===v)throw new Gt;var I=this.moduleSize(a,s),F=a[1],se=v[1],ye=a[0],Re=v[0];if(ye>=Re||F>=se)throw new Gt;if(se-F!=Re-ye&&(Re=ye+(se-F))>=s.getWidth())throw new Gt;var ze=Math.round((Re-ye+1)/I),ut=Math.round((se-F+1)/I);if(ze<=0||ut<=0)throw new Gt;if(ut!==ze)throw new Gt;var wt=Math.floor(I/2);F+=wt;var jt=(ye+=wt)+Math.floor((ze-1)*I)-Re;if(jt>0){if(jt>wt)throw new Gt;ye-=jt}var Kt=F+Math.floor((ut-1)*I)-se;if(Kt>0){if(Kt>wt)throw new Gt;F-=Kt}for(var _n=new zt(ze,ut),On=0;On<ut;On++)for(var nr=F+Math.floor(On*I),rr=0;rr<ze;rr++)s.get(ye+Math.floor(rr*I),nr)&&_n.set(rr,On);return _n},g.moduleSize=function(s,a){for(var v=a.getHeight(),I=a.getWidth(),F=s[0],se=s[1],ye=!0,Re=0;F<I&&se<v;){if(ye!==a.get(F,se)){if(5==++Re)break;ye=!ye}F++,se++}if(F===I||se===v)throw new Gt;return(F-s[0])/7},g.NO_POINTS=new Array,g}(),ps=function(){function g(){}return g.prototype.PDF417Common=function(){},g.getBitCountSum=function(s){return rs.sum(s)},g.toIntArray=function(s){var a,v;if(null==s||!s.length)return g.EMPTY_INT_ARRAY;var I=new Int32Array(s.length),F=0;try{for(var se=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),ye=se.next();!ye.done;ye=se.next())I[F++]=ye.value}catch(ze){a={error:ze}}finally{try{ye&&!ye.done&&(v=se.return)&&v.call(se)}finally{if(a)throw a.error}}return I},g.getCodeword=function(s){var a=ro.binarySearch(g.SYMBOL_TABLE,262143&s);return a<0?-1:(g.CODEWORD_TABLE[a]-1)%g.NUMBER_OF_CODEWORDS},g.MAX_CODEWORDS_IN_BARCODE=(g.NUMBER_OF_CODEWORDS=929)-1,g.MIN_ROWS_IN_BARCODE=3,g.MAX_ROWS_IN_BARCODE=90,g.MODULES_IN_CODEWORD=17,g.MODULES_IN_STOP_PATTERN=18,g.BARS_IN_MODULE=8,g.EMPTY_INT_ARRAY=new Int32Array([]),g.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),g.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),g}(),qy=function(){function g(s,a){this.bits=s,this.points=a}return g.prototype.getBits=function(){return this.bits},g.prototype.getPoints=function(){return this.points},g}();var Bv=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const HI=function(){function g(){}return g.detectMultiple=function(s,a,v){var I=s.getBlackMatrix(),F=g.detect(v,I);return F.length||((I=I.clone()).rotate180(),F=g.detect(v,I)),new qy(I,F)},g.detect=function(s,a){for(var v,I,F=new Array,se=0,ye=0,Re=!1;se<a.getHeight();){var ze=g.findVertices(a,se,ye);if(null!=ze[0]||null!=ze[3]){if(Re=!0,F.push(ze),!s)break;null!=ze[2]?(ye=Math.trunc(ze[2].getX()),se=Math.trunc(ze[2].getY())):(ye=Math.trunc(ze[4].getX()),se=Math.trunc(ze[4].getY()))}else{if(!Re)break;Re=!1,ye=0;try{for(var ut=(v=void 0,Bv(F)),wt=ut.next();!wt.done;wt=ut.next()){var jt=wt.value;null!=jt[1]&&(se=Math.trunc(Math.max(se,jt[1].getY()))),null!=jt[3]&&(se=Math.max(se,Math.trunc(jt[3].getY())))}}catch(Kt){v={error:Kt}}finally{try{wt&&!wt.done&&(I=ut.return)&&I.call(ut)}finally{if(v)throw v.error}}se+=g.ROW_STEP}}return F},g.findVertices=function(s,a,v){var I=s.getHeight(),F=s.getWidth(),se=new Array(8);return g.copyToResult(se,g.findRowsWithPattern(s,I,F,a,v,g.START_PATTERN),g.INDEXES_START_PATTERN),null!=se[4]&&(v=Math.trunc(se[4].getX()),a=Math.trunc(se[4].getY())),g.copyToResult(se,g.findRowsWithPattern(s,I,F,a,v,g.STOP_PATTERN),g.INDEXES_STOP_PATTERN),se},g.copyToResult=function(s,a,v){for(var I=0;I<v.length;I++)s[v[I]]=a[I]},g.findRowsWithPattern=function(s,a,v,I,F,se){for(var ye=new Array(4),Re=!1,ze=new Int32Array(se.length);I<a;I+=g.ROW_STEP)if(null!=(ut=g.findGuardPattern(s,F,I,v,!1,se,ze))){for(;I>0;){if(null==(wt=g.findGuardPattern(s,F,--I,v,!1,se,ze))){I++;break}ut=wt}ye[0]=new ii(ut[0],I),ye[1]=new ii(ut[1],I),Re=!0;break}var jt=I+1;if(Re){for(var Kt=0,wt=Int32Array.from([Math.trunc(ye[0].getX()),Math.trunc(ye[1].getX())]);jt<a;jt++){var ut;if(null!=(ut=g.findGuardPattern(s,wt[0],jt,v,!1,se,ze))&&Math.abs(wt[0]-ut[0])<g.MAX_PATTERN_DRIFT&&Math.abs(wt[1]-ut[1])<g.MAX_PATTERN_DRIFT)wt=ut,Kt=0;else{if(Kt>g.SKIPPED_ROW_COUNT_MAX)break;Kt++}}ye[2]=new ii(wt[0],jt-=Kt+1),ye[3]=new ii(wt[1],jt)}return jt-I<g.BARCODE_MIN_HEIGHT&&ro.fill(ye,null),ye},g.findGuardPattern=function(s,a,v,I,F,se,ye){ro.fillWithin(ye,0,ye.length,0);for(var Re=a,ze=0;s.get(Re,v)&&Re>0&&ze++<g.MAX_PIXEL_DRIFT;)Re--;for(var ut=Re,wt=0,jt=se.length,Kt=F;ut<I;ut++)if(s.get(ut,v)!==Kt)ye[wt]++;else{if(wt===jt-1){if(g.patternMatchVariance(ye,se,g.MAX_INDIVIDUAL_VARIANCE)<g.MAX_AVG_VARIANCE)return new Int32Array([Re,ut]);Re+=ye[0]+ye[1],kr.arraycopy(ye,2,ye,0,wt-1),ye[wt-1]=0,ye[wt]=0,wt--}else wt++;ye[wt]=1,Kt=!Kt}return wt===jt-1&&g.patternMatchVariance(ye,se,g.MAX_INDIVIDUAL_VARIANCE)<g.MAX_AVG_VARIANCE?new Int32Array([Re,ut-1]):null},g.patternMatchVariance=function(s,a,v){for(var I=s.length,F=0,se=0,ye=0;ye<I;ye++)F+=s[ye],se+=a[ye];if(F<se)return 1/0;var Re=F/se;v*=Re;for(var ze=0,ut=0;ut<I;ut++){var wt=s[ut],jt=a[ut]*Re,Kt=wt>jt?wt-jt:jt-wt;if(Kt>v)return 1/0;ze+=Kt}return ze/F},g.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),g.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),g.MAX_AVG_VARIANCE=.42,g.MAX_INDIVIDUAL_VARIANCE=.8,g.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),g.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),g.MAX_PIXEL_DRIFT=3,g.MAX_PATTERN_DRIFT=5,g.SKIPPED_ROW_COUNT_MAX=25,g.ROW_STEP=5,g.BARCODE_MIN_HEIGHT=10,g}(),Up=function(){function g(s,a){if(0===a.length)throw new xi;this.field=s;var v=a.length;if(v>1&&0===a[0]){for(var I=1;I<v&&0===a[I];)I++;I===v?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(v-I),kr.arraycopy(a,I,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}return g.prototype.getCoefficients=function(){return this.coefficients},g.prototype.getDegree=function(){return this.coefficients.length-1},g.prototype.isZero=function(){return 0===this.coefficients[0]},g.prototype.getCoefficient=function(s){return this.coefficients[this.coefficients.length-1-s]},g.prototype.evaluateAt=function(s){var a,v;if(0===s)return this.getCoefficient(0);if(1===s){var I=0;try{for(var F=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.coefficients),se=F.next();!se.done;se=F.next())I=this.field.add(I,se.value)}catch(wt){a={error:wt}}finally{try{se&&!se.done&&(v=F.return)&&v.call(F)}finally{if(a)throw a.error}}return I}for(var Re=this.coefficients[0],ze=this.coefficients.length,ut=1;ut<ze;ut++)Re=this.field.add(this.field.multiply(s,Re),this.coefficients[ut]);return Re},g.prototype.add=function(s){if(!this.field.equals(s.field))throw new xi("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;var a=this.coefficients,v=s.coefficients;if(a.length>v.length){var I=a;a=v,v=I}var F=new Int32Array(v.length),se=v.length-a.length;kr.arraycopy(v,0,F,0,se);for(var ye=se;ye<v.length;ye++)F[ye]=this.field.add(a[ye-se],v[ye]);return new g(this.field,F)},g.prototype.subtract=function(s){if(!this.field.equals(s.field))throw new xi("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())},g.prototype.multiply=function(s){return s instanceof g?this.multiplyOther(s):this.multiplyScalar(s)},g.prototype.multiplyOther=function(s){if(!this.field.equals(s.field))throw new xi("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new g(this.field,new Int32Array([0]));for(var a=this.coefficients,v=a.length,I=s.coefficients,F=I.length,se=new Int32Array(v+F-1),ye=0;ye<v;ye++)for(var Re=a[ye],ze=0;ze<F;ze++)se[ye+ze]=this.field.add(se[ye+ze],this.field.multiply(Re,I[ze]));return new g(this.field,se)},g.prototype.negative=function(){for(var s=this.coefficients.length,a=new Int32Array(s),v=0;v<s;v++)a[v]=this.field.subtract(0,this.coefficients[v]);return new g(this.field,a)},g.prototype.multiplyScalar=function(s){if(0===s)return new g(this.field,new Int32Array([0]));if(1===s)return this;for(var a=this.coefficients.length,v=new Int32Array(a),I=0;I<a;I++)v[I]=this.field.multiply(this.coefficients[I],s);return new g(this.field,v)},g.prototype.multiplyByMonomial=function(s,a){if(s<0)throw new xi;if(0===a)return new g(this.field,new Int32Array([0]));for(var v=this.coefficients.length,I=new Int32Array(v+s),F=0;F<v;F++)I[F]=this.field.multiply(this.coefficients[F],a);return new g(this.field,I)},g.prototype.toString=function(){for(var s=new Hi,a=this.getDegree();a>=0;a--){var v=this.getCoefficient(a);0!==v&&(v<0?(s.append(" - "),v=-v):s.length()>0&&s.append(" + "),(0===a||1!==v)&&s.append(v),0!==a&&(1===a?s.append("x"):(s.append("x^"),s.append(a))))}return s.toString()},g}(),wf=function(){function g(){}return g.prototype.add=function(s,a){return(s+a)%this.modulus},g.prototype.subtract=function(s,a){return(this.modulus+s-a)%this.modulus},g.prototype.exp=function(s){return this.expTable[s]},g.prototype.log=function(s){if(0===s)throw new xi;return this.logTable[s]},g.prototype.inverse=function(s){if(0===s)throw new gm;return this.expTable[this.modulus-this.logTable[s]-1]},g.prototype.multiply=function(s,a){return 0===s||0===a?0:this.expTable[(this.logTable[s]+this.logTable[a])%(this.modulus-1)]},g.prototype.getSize=function(){return this.modulus},g.prototype.equals=function(s){return s===this},g}();var ed=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const A0=function(g){function s(a,v){var I=g.call(this)||this;I.modulus=a,I.expTable=new Int32Array(a),I.logTable=new Int32Array(a);for(var F=1,se=0;se<a;se++)I.expTable[se]=F,F=F*v%a;for(se=0;se<a-1;se++)I.logTable[I.expTable[se]]=se;return I.zero=new Up(I,new Int32Array([0])),I.one=new Up(I,new Int32Array([1])),I}return ed(s,g),s.prototype.getZero=function(){return this.zero},s.prototype.getOne=function(){return this.one},s.prototype.buildMonomial=function(a,v){if(a<0)throw new xi;if(0===v)return this.zero;var I=new Int32Array(a+1);return I[0]=v,new Up(this,I)},s.PDF417_GF=new s(ps.NUMBER_OF_CODEWORDS,3),s}(wf),Br=function(){function g(){this.field=A0.PDF417_GF}return g.prototype.decode=function(s,a,v){for(var I,F,se=new Up(this.field,s),ye=new Int32Array(a),Re=!1,ze=a;ze>0;ze--){var ut=se.evaluateAt(this.field.exp(ze));ye[a-ze]=ut,0!==ut&&(Re=!0)}if(!Re)return 0;var wt=this.field.getOne();if(null!=v)try{for(var jt=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(v),Kt=jt.next();!Kt.done;Kt=jt.next()){var On=this.field.exp(s.length-1-Kt.value),nr=new Up(this.field,new Int32Array([this.field.subtract(0,On),1]));wt=wt.multiply(nr)}}catch(Ti){I={error:Ti}}finally{try{Kt&&!Kt.done&&(F=jt.return)&&F.call(jt)}finally{if(I)throw I.error}}var rr=new Up(this.field,ye),er=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),rr,a),fr=er[0],Tr=er[1],Zr=this.findErrorLocations(fr),ci=this.findErrorMagnitudes(Tr,fr,Zr);for(ze=0;ze<Zr.length;ze++){var hi=s.length-1-this.field.log(Zr[ze]);if(hi<0)throw pa.getChecksumInstance();s[hi]=this.field.subtract(s[hi],ci[ze])}return Zr.length},g.prototype.runEuclideanAlgorithm=function(s,a,v){if(s.getDegree()<a.getDegree()){var I=s;s=a,a=I}for(var F=s,se=a,ye=this.field.getZero(),Re=this.field.getOne();se.getDegree()>=Math.round(v/2);){var ze=F,ut=ye;if(ye=Re,(F=se).isZero())throw pa.getChecksumInstance();se=ze;for(var wt=this.field.getZero(),jt=F.getCoefficient(F.getDegree()),Kt=this.field.inverse(jt);se.getDegree()>=F.getDegree()&&!se.isZero();){var _n=se.getDegree()-F.getDegree(),On=this.field.multiply(se.getCoefficient(se.getDegree()),Kt);wt=wt.add(this.field.buildMonomial(_n,On)),se=se.subtract(F.multiplyByMonomial(_n,On))}Re=wt.multiply(ye).subtract(ut).negative()}var nr=Re.getCoefficient(0);if(0===nr)throw pa.getChecksumInstance();var rr=this.field.inverse(nr);return[Re.multiply(rr),se.multiply(rr)]},g.prototype.findErrorLocations=function(s){for(var a=s.getDegree(),v=new Int32Array(a),I=0,F=1;F<this.field.getSize()&&I<a;F++)0===s.evaluateAt(F)&&(v[I]=this.field.inverse(F),I++);if(I!==a)throw pa.getChecksumInstance();return v},g.prototype.findErrorMagnitudes=function(s,a,v){for(var I=a.getDegree(),F=new Int32Array(I),se=1;se<=I;se++)F[I-se]=this.field.multiply(se,a.getCoefficient(se));var ye=new Up(this.field,F),Re=v.length,ze=new Int32Array(Re);for(se=0;se<Re;se++){var ut=this.field.inverse(v[se]),wt=this.field.subtract(0,s.evaluateAt(ut)),jt=this.field.inverse(ye.evaluateAt(ut));ze[se]=this.field.multiply(wt,jt)}return ze},g}(),Nv=function(){function g(s,a,v,I,F){s instanceof g?this.constructor_2(s):this.constructor_1(s,a,v,I,F)}return g.prototype.constructor_1=function(s,a,v,I,F){var se=null==a||null==v,ye=null==I||null==F;if(se&&ye)throw new Gt;se?(a=new ii(0,I.getY()),v=new ii(0,F.getY())):ye&&(I=new ii(s.getWidth()-1,a.getY()),F=new ii(s.getWidth()-1,v.getY())),this.image=s,this.topLeft=a,this.bottomLeft=v,this.topRight=I,this.bottomRight=F,this.minX=Math.trunc(Math.min(a.getX(),v.getX())),this.maxX=Math.trunc(Math.max(I.getX(),F.getX())),this.minY=Math.trunc(Math.min(a.getY(),I.getY())),this.maxY=Math.trunc(Math.max(v.getY(),F.getY()))},g.prototype.constructor_2=function(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()},g.merge=function(s,a){return null==s?a:null==a?s:new g(s.image,s.topLeft,s.bottomLeft,a.topRight,a.bottomRight)},g.prototype.addMissingRows=function(s,a,v){var I=this.topLeft,F=this.bottomLeft,se=this.topRight,ye=this.bottomRight;if(s>0){var Re=v?this.topLeft:this.topRight,ze=Math.trunc(Re.getY()-s);ze<0&&(ze=0);var ut=new ii(Re.getX(),ze);v?I=ut:se=ut}if(a>0){var wt=v?this.bottomLeft:this.bottomRight,jt=Math.trunc(wt.getY()+a);jt>=this.image.getHeight()&&(jt=this.image.getHeight()-1);var Kt=new ii(wt.getX(),jt);v?F=Kt:ye=Kt}return new g(this.image,I,F,se,ye)},g.prototype.getMinX=function(){return this.minX},g.prototype.getMaxX=function(){return this.maxX},g.prototype.getMinY=function(){return this.minY},g.prototype.getMaxY=function(){return this.maxY},g.prototype.getTopLeft=function(){return this.topLeft},g.prototype.getTopRight=function(){return this.topRight},g.prototype.getBottomLeft=function(){return this.bottomLeft},g.prototype.getBottomRight=function(){return this.bottomRight},g}(),Hs=function(){function g(s,a,v,I){this.columnCount=s,this.errorCorrectionLevel=I,this.rowCountUpperPart=a,this.rowCountLowerPart=v,this.rowCount=a+v}return g.prototype.getColumnCount=function(){return this.columnCount},g.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},g.prototype.getRowCount=function(){return this.rowCount},g.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},g.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},g}(),I0=function(){function g(){this.buffer=""}return g.form=function(s,a){var v=-1;return s.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function I(se,ye,Re,ze,ut,wt){if("%%"===se)return"%";if(void 0!==a[++v]){se=ze?parseInt(ze.substr(1)):void 0;var Kt,jt=ut?parseInt(ut.substr(1)):void 0;switch(wt){case"s":Kt=a[v];break;case"c":Kt=a[v][0];break;case"f":Kt=parseFloat(a[v]).toFixed(se);break;case"p":Kt=parseFloat(a[v]).toPrecision(se);break;case"e":Kt=parseFloat(a[v]).toExponential(se);break;case"x":Kt=parseInt(a[v]).toString(jt||16);break;case"d":Kt=parseFloat(parseInt(a[v],jt||10).toPrecision(se)).toFixed(0)}Kt="object"==typeof Kt?JSON.stringify(Kt):(+Kt).toString(jt);for(var _n=parseInt(Re),On=Re&&Re[0]+""=="0"?"0":" ";Kt.length<_n;)Kt=void 0!==ye?Kt+On:On+Kt;return Kt}})},g.prototype.format=function(s){for(var a=[],v=1;v<arguments.length;v++)a[v-1]=arguments[v];this.buffer+=g.form(s,a)},g.prototype.toString=function(){return this.buffer},g}(),Dm=function(){function g(s){this.boundingBox=new Nv(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}return g.prototype.getCodewordNearby=function(s){var a=this.getCodeword(s);if(null!=a)return a;for(var v=1;v<g.MAX_NEARBY_DISTANCE;v++){var I=this.imageRowToCodewordIndex(s)-v;if(I>=0&&null!=(a=this.codewords[I])||(I=this.imageRowToCodewordIndex(s)+v)<this.codewords.length&&null!=(a=this.codewords[I]))return a}return null},g.prototype.imageRowToCodewordIndex=function(s){return s-this.boundingBox.getMinY()},g.prototype.setCodeword=function(s,a){this.codewords[this.imageRowToCodewordIndex(s)]=a},g.prototype.getCodeword=function(s){return this.codewords[this.imageRowToCodewordIndex(s)]},g.prototype.getBoundingBox=function(){return this.boundingBox},g.prototype.getCodewords=function(){return this.codewords},g.prototype.toString=function(){var s,a,v=new I0,I=0;try{for(var F=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.codewords),se=F.next();!se.done;se=F.next()){var ye=se.value;null!=ye?v.format("%3d: %3d|%3d%n",I++,ye.getRowNumber(),ye.getValue()):v.format("%3d:    |   %n",I++)}}catch(Re){s={error:Re}}finally{try{se&&!se.done&&(a=F.return)&&a.call(F)}finally{if(s)throw s.error}}return v.toString()},g.MAX_NEARBY_DISTANCE=5,g}();var WI=function(g,s){var a="function"==typeof Symbol&&g[Symbol.iterator];if(!a)return g;var I,se,v=a.call(g),F=[];try{for(;(void 0===s||s-- >0)&&!(I=v.next()).done;)F.push(I.value)}catch(ye){se={error:ye}}finally{try{I&&!I.done&&(a=v.return)&&a.call(v)}finally{if(se)throw se.error}}return F};const _h=function(){function g(){this.values=new Map}return g.prototype.setValue=function(s){s=Math.trunc(s);var a=this.values.get(s);null==a&&(a=0),a++,this.values.set(s,a)},g.prototype.getValue=function(){var s,a,v=-1,I=new Array,F=function(wt,jt){var Kt_getKey=function(){return wt},Kt_getValue=function(){return jt};Kt_getValue()>v?(v=Kt_getValue(),(I=[]).push(Kt_getKey())):Kt_getValue()===v&&I.push(Kt_getKey())};try{for(var se=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.values.entries()),ye=se.next();!ye.done;ye=se.next()){var Re=WI(ye.value,2);F(Re[0],Re[1])}}catch(wt){s={error:wt}}finally{try{ye&&!ye.done&&(a=se.return)&&a.call(se)}finally{if(s)throw s.error}}return ps.toIntArray(I)},g.prototype.getConfidence=function(s){return this.values.get(s)},g}();var Y2=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),Lv=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const Eh=function(g){function s(a,v){var I=g.call(this,a)||this;return I._isLeft=v,I}return Y2(s,g),s.prototype.setRowNumbers=function(){var a,v;try{for(var I=Lv(this.getCodewords()),F=I.next();!F.done;F=I.next()){var se=F.value;se?.setRowNumberAsRowIndicatorColumn()}}catch(ye){a={error:ye}}finally{try{F&&!F.done&&(v=I.return)&&v.call(I)}finally{if(a)throw a.error}}},s.prototype.adjustCompleteIndicatorColumnRowNumbers=function(a){var v=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(v,a);for(var I=this.getBoundingBox(),F=this._isLeft?I.getTopLeft():I.getTopRight(),se=this._isLeft?I.getBottomLeft():I.getBottomRight(),ye=this.imageRowToCodewordIndex(Math.trunc(F.getY())),Re=this.imageRowToCodewordIndex(Math.trunc(se.getY())),ze=-1,ut=1,wt=0,jt=ye;jt<Re;jt++)if(null!=v[jt]){var Kt=v[jt],_n=Kt.getRowNumber()-ze;if(0===_n)wt++;else if(1===_n)ut=Math.max(ut,wt),wt=1,ze=Kt.getRowNumber();else if(_n<0||Kt.getRowNumber()>=a.getRowCount()||_n>jt)v[jt]=null;else{for(var On,nr=(On=ut>2?(ut-2)*_n:_n)>=jt,rr=1;rr<=On&&!nr;rr++)nr=null!=v[jt-rr];nr?v[jt]=null:(ze=Kt.getRowNumber(),wt=1)}}},s.prototype.getRowHeights=function(){var a,v,I=this.getBarcodeMetadata();if(null==I)return null;this.adjustIncompleteIndicatorColumnRowNumbers(I);var F=new Int32Array(I.getRowCount());try{for(var se=Lv(this.getCodewords()),ye=se.next();!ye.done;ye=se.next()){var Re=ye.value;if(null!=Re){var ze=Re.getRowNumber();if(ze>=F.length)continue;F[ze]++}}}catch(ut){a={error:ut}}finally{try{ye&&!ye.done&&(v=se.return)&&v.call(se)}finally{if(a)throw a.error}}return F},s.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(a){for(var v=this.getBoundingBox(),I=this._isLeft?v.getTopLeft():v.getTopRight(),F=this._isLeft?v.getBottomLeft():v.getBottomRight(),se=this.imageRowToCodewordIndex(Math.trunc(I.getY())),ye=this.imageRowToCodewordIndex(Math.trunc(F.getY())),Re=this.getCodewords(),ze=-1,ut=1,wt=0,jt=se;jt<ye;jt++)if(null!=Re[jt]){var Kt=Re[jt];Kt.setRowNumberAsRowIndicatorColumn();var _n=Kt.getRowNumber()-ze;0===_n?wt++:1===_n?(ut=Math.max(ut,wt),wt=1,ze=Kt.getRowNumber()):Kt.getRowNumber()>=a.getRowCount()?Re[jt]=null:(ze=Kt.getRowNumber(),wt=1)}},s.prototype.getBarcodeMetadata=function(){var a,v,I=this.getCodewords(),F=new _h,se=new _h,ye=new _h,Re=new _h;try{for(var ze=Lv(I),ut=ze.next();!ut.done;ut=ze.next()){var wt=ut.value;if(null!=wt){wt.setRowNumberAsRowIndicatorColumn();var jt=wt.getValue()%30,Kt=wt.getRowNumber();switch(this._isLeft||(Kt+=2),Kt%3){case 0:se.setValue(3*jt+1);break;case 1:Re.setValue(jt/3),ye.setValue(jt%3);break;case 2:F.setValue(jt+1)}}}}catch(On){a={error:On}}finally{try{ut&&!ut.done&&(v=ze.return)&&v.call(ze)}finally{if(a)throw a.error}}if(0===F.getValue().length||0===se.getValue().length||0===ye.getValue().length||0===Re.getValue().length||F.getValue()[0]<1||se.getValue()[0]+ye.getValue()[0]<ps.MIN_ROWS_IN_BARCODE||se.getValue()[0]+ye.getValue()[0]>ps.MAX_ROWS_IN_BARCODE)return null;var _n=new Hs(F.getValue()[0],se.getValue()[0],ye.getValue()[0],Re.getValue()[0]);return this.removeIncorrectCodewords(I,_n),_n},s.prototype.removeIncorrectCodewords=function(a,v){for(var I=0;I<a.length;I++){var F=a[I];if(null!=a[I]){var se=F.getValue()%30,ye=F.getRowNumber();if(ye>v.getRowCount()){a[I]=null;continue}switch(this._isLeft||(ye+=2),ye%3){case 0:3*se+1!==v.getRowCountUpperPart()&&(a[I]=null);break;case 1:(Math.trunc(se/3)!==v.getErrorCorrectionLevel()||se%3!==v.getRowCountLowerPart())&&(a[I]=null);break;case 2:se+1!==v.getColumnCount()&&(a[I]=null)}}}},s.prototype.isLeft=function(){return this._isLeft},s.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+g.prototype.toString.call(this)},s}(Dm),_f=function(){function g(s,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return g.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var a,s=ps.MAX_CODEWORDS_IN_BARCODE;do{a=s,s=this.adjustRowNumbersAndGetCount()}while(s>0&&s<a);return this.detectionResultColumns},g.prototype.adjustIndicatorColumnRowNumbers=function(s){s?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},g.prototype.adjustRowNumbersAndGetCount=function(){var s=this.adjustRowNumbersByRow();if(0===s)return 0;for(var a=1;a<this.barcodeColumnCount+1;a++)for(var v=this.detectionResultColumns[a].getCodewords(),I=0;I<v.length;I++)null!=v[I]&&(v[I].hasValidRowNumber()||this.adjustRowNumbers(a,I,v));return s},g.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},g.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1])for(var s=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),v=0;v<s.length;v++)if(null!=s[v]&&null!=a[v]&&s[v].getRowNumber()===a[v].getRowNumber())for(var I=1;I<=this.barcodeColumnCount;I++){var F=this.detectionResultColumns[I].getCodewords()[v];null!=F&&(F.setRowNumber(s[v].getRowNumber()),F.hasValidRowNumber()||(this.detectionResultColumns[I].getCodewords()[v]=null))}},g.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var s=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),v=0;v<a.length;v++)if(null!=a[v])for(var I=a[v].getRowNumber(),F=0,se=this.barcodeColumnCount+1;se>0&&F<this.ADJUST_ROW_NUMBER_SKIP;se--){var ye=this.detectionResultColumns[se].getCodewords()[v];null!=ye&&(F=g.adjustRowNumberIfValid(I,F,ye),ye.hasValidRowNumber()||s++)}return s},g.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var s=0,a=this.detectionResultColumns[0].getCodewords(),v=0;v<a.length;v++)if(null!=a[v])for(var I=a[v].getRowNumber(),F=0,se=1;se<this.barcodeColumnCount+1&&F<this.ADJUST_ROW_NUMBER_SKIP;se++){var ye=this.detectionResultColumns[se].getCodewords()[v];null!=ye&&(F=g.adjustRowNumberIfValid(I,F,ye),ye.hasValidRowNumber()||s++)}return s},g.adjustRowNumberIfValid=function(s,a,v){return null==v||v.hasValidRowNumber()||(v.isValidRowNumber(s)?(v.setRowNumber(s),a=0):++a),a},g.prototype.adjustRowNumbers=function(s,a,v){var I,F;if(null!=this.detectionResultColumns[s-1]){var se=v[a],ye=this.detectionResultColumns[s-1].getCodewords(),Re=ye;null!=this.detectionResultColumns[s+1]&&(Re=this.detectionResultColumns[s+1].getCodewords());var ze=new Array(14);ze[2]=ye[a],ze[3]=Re[a],a>0&&(ze[0]=v[a-1],ze[4]=ye[a-1],ze[5]=Re[a-1]),a>1&&(ze[8]=v[a-2],ze[10]=ye[a-2],ze[11]=Re[a-2]),a<v.length-1&&(ze[1]=v[a+1],ze[6]=ye[a+1],ze[7]=Re[a+1]),a<v.length-2&&(ze[9]=v[a+2],ze[12]=ye[a+2],ze[13]=Re[a+2]);try{for(var ut=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(ze),wt=ut.next();!wt.done;wt=ut.next())if(g.adjustRowNumber(se,wt.value))return}catch(Kt){I={error:Kt}}finally{try{wt&&!wt.done&&(F=ut.return)&&F.call(ut)}finally{if(I)throw I.error}}}},g.adjustRowNumber=function(s,a){return!(null==a||!a.hasValidRowNumber()||a.getBucket()!==s.getBucket()||(s.setRowNumber(a.getRowNumber()),0))},g.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},g.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},g.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},g.prototype.setBoundingBox=function(s){this.boundingBox=s},g.prototype.getBoundingBox=function(){return this.boundingBox},g.prototype.setDetectionResultColumn=function(s,a){this.detectionResultColumns[s]=a},g.prototype.getDetectionResultColumn=function(s){return this.detectionResultColumns[s]},g.prototype.toString=function(){var s=this.detectionResultColumns[0];null==s&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var a=new I0,v=0;v<s.getCodewords().length;v++){a.format("CW %3d:",v);for(var I=0;I<this.barcodeColumnCount+2;I++)if(null!=this.detectionResultColumns[I]){var F=this.detectionResultColumns[I].getCodewords()[v];null!=F?a.format(" %3d|%3d",F.getRowNumber(),F.getValue()):a.format("    |   ")}else a.format("    |   ");a.format("%n")}return a.toString()},g}(),Rm=function(){function g(s,a,v,I){this.rowNumber=g.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(a),this.bucket=Math.trunc(v),this.value=Math.trunc(I)}return g.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},g.prototype.isValidRowNumber=function(s){return s!==g.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3},g.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},g.prototype.getWidth=function(){return this.endX-this.startX},g.prototype.getStartX=function(){return this.startX},g.prototype.getEndX=function(){return this.endX},g.prototype.getBucket=function(){return this.bucket},g.prototype.getValue=function(){return this.value},g.prototype.getRowNumber=function(){return this.rowNumber},g.prototype.setRowNumber=function(s){this.rowNumber=s},g.prototype.toString=function(){return this.rowNumber+"|"+this.value},g.BARCODE_ROW_UNKNOWN=-1,g}(),_A=function(){function g(){}return g.initialize=function(){for(var s=0;s<ps.SYMBOL_TABLE.length;s++)for(var a=ps.SYMBOL_TABLE[s],v=1&a,I=0;I<ps.BARS_IN_MODULE;I++){for(var F=0;(1&a)===v;)F+=1,a>>=1;v=1&a,g.RATIOS_TABLE[s]||(g.RATIOS_TABLE[s]=new Array(ps.BARS_IN_MODULE)),g.RATIOS_TABLE[s][ps.BARS_IN_MODULE-I-1]=Math.fround(F/ps.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},g.getDecodedValue=function(s){var a=g.getDecodedCodewordValue(g.sampleBitCounts(s));return-1!==a?a:g.getClosestDecodedValue(s)},g.sampleBitCounts=function(s){for(var a=rs.sum(s),v=new Int32Array(ps.BARS_IN_MODULE),I=0,F=0,se=0;se<ps.MODULES_IN_CODEWORD;se++)F+s[I]<=a/(2*ps.MODULES_IN_CODEWORD)+se*a/ps.MODULES_IN_CODEWORD&&(F+=s[I],I++),v[I]++;return v},g.getDecodedCodewordValue=function(s){var a=g.getBitValue(s);return-1===ps.getCodeword(a)?-1:a},g.getBitValue=function(s){for(var a=0,v=0;v<s.length;v++)for(var I=0;I<s[v];I++)a=a<<1|(v%2==0?1:0);return Math.trunc(a)},g.getClosestDecodedValue=function(s){var a=rs.sum(s),v=new Array(ps.BARS_IN_MODULE);if(a>1)for(var I=0;I<v.length;I++)v[I]=Math.fround(s[I]/a);var F=bl.MAX_VALUE,se=-1;this.bSymbolTableReady||g.initialize();for(var ye=0;ye<g.RATIOS_TABLE.length;ye++){for(var Re=0,ze=g.RATIOS_TABLE[ye],ut=0;ut<ps.BARS_IN_MODULE;ut++){var wt=Math.fround(ze[ut]-v[ut]);if((Re+=Math.fround(wt*wt))>=F)break}Re<F&&(F=Re,se=ps.SYMBOL_TABLE[ye])}return se},g.bSymbolTableReady=!1,g.RATIOS_TABLE=new Array(ps.SYMBOL_TABLE.length).map(function(s){return new Array(ps.BARS_IN_MODULE)}),g}(),X1=function(){function g(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return g.prototype.getSegmentIndex=function(){return this.segmentIndex},g.prototype.setSegmentIndex=function(s){this.segmentIndex=s},g.prototype.getFileId=function(){return this.fileId},g.prototype.setFileId=function(s){this.fileId=s},g.prototype.getOptionalData=function(){return this.optionalData},g.prototype.setOptionalData=function(s){this.optionalData=s},g.prototype.isLastSegment=function(){return this.lastSegment},g.prototype.setLastSegment=function(s){this.lastSegment=s},g.prototype.getSegmentCount=function(){return this.segmentCount},g.prototype.setSegmentCount=function(s){this.segmentCount=s},g.prototype.getSender=function(){return this.sender||null},g.prototype.setSender=function(s){this.sender=s},g.prototype.getAddressee=function(){return this.addressee||null},g.prototype.setAddressee=function(s){this.addressee=s},g.prototype.getFileName=function(){return this.fileName},g.prototype.setFileName=function(s){this.fileName=s},g.prototype.getFileSize=function(){return this.fileSize},g.prototype.setFileSize=function(s){this.fileSize=s},g.prototype.getChecksum=function(){return this.checksum},g.prototype.setChecksum=function(s){this.checksum=s},g.prototype.getTimestamp=function(){return this.timestamp},g.prototype.setTimestamp=function(s){this.timestamp=s},g}(),Qy=function(){function g(){}return g.parseLong=function(s,a){return void 0===a&&(a=void 0),parseInt(s,a)},g}();var Om=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Y1=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return Om(s,g),s.kind="NullPointerException",s}(Ns),eE=function(){function g(){}return g.prototype.writeBytes=function(s){this.writeBytesOffset(s,0,s.length)},g.prototype.writeBytesOffset=function(s,a,v){if(null==s)throw new Y1;if(a<0||a>s.length||v<0||a+v>s.length||a+v<0)throw new ds;if(0!==v)for(var I=0;I<v;I++)this.write(s[a+I])},g.prototype.flush=function(){},g.prototype.close=function(){},g}();var tE=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const eg=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return tE(s,g),s}(Ns);var Pm=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const T0=function(g){function s(a){void 0===a&&(a=32);var v=g.call(this)||this;if(v.count=0,a<0)throw new xi("Negative initial size: "+a);return v.buf=new Uint8Array(a),v}return Pm(s,g),s.prototype.ensureCapacity=function(a){a-this.buf.length>0&&this.grow(a)},s.prototype.grow=function(a){var I=this.buf.length<<1;if(I-a<0&&(I=a),I<0){if(a<0)throw new eg;I=zi.MAX_VALUE}this.buf=ro.copyOfUint8Array(this.buf,I)},s.prototype.write=function(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1},s.prototype.writeBytesOffset=function(a,v,I){if(v<0||v>a.length||I<0||v+I-a.length>0)throw new ds;this.ensureCapacity(this.count+I),kr.arraycopy(a,v,this.buf,this.count,I),this.count+=I},s.prototype.writeTo=function(a){a.writeBytesOffset(this.buf,0,this.count)},s.prototype.reset=function(){this.count=0},s.prototype.toByteArray=function(){return ro.copyOfUint8Array(this.buf,this.count)},s.prototype.size=function(){return this.count},s.prototype.toString=function(a){return a?"string"==typeof a?this.toString_string(a):this.toString_number(a):this.toString_void()},s.prototype.toString_void=function(){return new String(this.buf).toString()},s.prototype.toString_string=function(a){return new String(this.buf).toString()},s.prototype.toString_number=function(a){return new String(this.buf).toString()},s.prototype.close=function(){},s}(eE);var Fv,So=function(g){return g[g.ALPHA=0]="ALPHA",g[g.LOWER=1]="LOWER",g[g.MIXED=2]="MIXED",g[g.PUNCT=3]="PUNCT",g[g.ALPHA_SHIFT=4]="ALPHA_SHIFT",g[g.PUNCT_SHIFT=5]="PUNCT_SHIFT",g}(So||{});function J1(){if(typeof window<"u")return window.BigInt||null;if(typeof globalThis<"u")return globalThis.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function rp(g){if(typeof Fv>"u"&&(Fv=J1()),null===Fv)throw new Error("BigInt is not supported!");return Fv(g)}const iE=function(){function g(){}return g.decode=function(s,a){var v=new Hi(""),I=Ma.ISO8859_1;v.enableDecoding(I);for(var F=1,se=s[F++],ye=new X1;F<s[0];){switch(se){case g.TEXT_COMPACTION_MODE_LATCH:F=g.textCompaction(s,F,v);break;case g.BYTE_COMPACTION_MODE_LATCH:case g.BYTE_COMPACTION_MODE_LATCH_6:F=g.byteCompaction(se,s,I,F,v);break;case g.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(s[F++]);break;case g.NUMERIC_COMPACTION_MODE_LATCH:F=g.numericCompaction(s,F,v);break;case g.ECI_CHARSET:Ma.getCharacterSetECIByValue(s[F++]);break;case g.ECI_GENERAL_PURPOSE:F+=2;break;case g.ECI_USER_DEFINED:F++;break;case g.BEGIN_MACRO_PDF417_CONTROL_BLOCK:F=g.decodeMacroBlock(s,F,ye);break;case g.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case g.MACRO_PDF417_TERMINATOR:throw new jr;default:F--,F=g.textCompaction(s,F,v)}if(!(F<s.length))throw jr.getFormatInstance();se=s[F++]}if(0===v.length())throw jr.getFormatInstance();var ze=new jc(null,v.toString(),null,a);return ze.setOther(ye),ze},g.decodeMacroBlock=function(s,a,v){if(a+g.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw jr.getFormatInstance();for(var I=new Int32Array(g.NUMBER_OF_SEQUENCE_CODEWORDS),F=0;F<g.NUMBER_OF_SEQUENCE_CODEWORDS;F++,a++)I[F]=s[a];v.setSegmentIndex(zi.parseInt(g.decodeBase900toBase10(I,g.NUMBER_OF_SEQUENCE_CODEWORDS)));var se=new Hi;a=g.textCompaction(s,a,se),v.setFileId(se.toString());var ye=-1;for(s[a]===g.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(ye=a+1);a<s[0];)switch(s[a]){case g.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s[++a]){case g.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var Re=new Hi;a=g.textCompaction(s,a+1,Re),v.setFileName(Re.toString());break;case g.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var ze=new Hi;a=g.textCompaction(s,a+1,ze),v.setSender(ze.toString());break;case g.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var ut=new Hi;a=g.textCompaction(s,a+1,ut),v.setAddressee(ut.toString());break;case g.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var wt=new Hi;a=g.numericCompaction(s,a+1,wt),v.setSegmentCount(zi.parseInt(wt.toString()));break;case g.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var jt=new Hi;a=g.numericCompaction(s,a+1,jt),v.setTimestamp(Qy.parseLong(jt.toString()));break;case g.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var Kt=new Hi;a=g.numericCompaction(s,a+1,Kt),v.setChecksum(zi.parseInt(Kt.toString()));break;case g.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var _n=new Hi;a=g.numericCompaction(s,a+1,_n),v.setFileSize(Qy.parseLong(_n.toString()));break;default:throw jr.getFormatInstance()}break;case g.MACRO_PDF417_TERMINATOR:a++,v.setLastSegment(!0);break;default:throw jr.getFormatInstance()}if(-1!==ye){var On=a-ye;v.isLastSegment()&&On--,v.setOptionalData(ro.copyOfRange(s,ye,ye+On))}return a},g.textCompaction=function(s,a,v){for(var I=new Int32Array(2*(s[0]-a)),F=new Int32Array(2*(s[0]-a)),se=0,ye=!1;a<s[0]&&!ye;){var Re=s[a++];if(Re<g.TEXT_COMPACTION_MODE_LATCH)I[se]=Re/30,I[se+1]=Re%30,se+=2;else switch(Re){case g.TEXT_COMPACTION_MODE_LATCH:I[se++]=g.TEXT_COMPACTION_MODE_LATCH;break;case g.BYTE_COMPACTION_MODE_LATCH:case g.BYTE_COMPACTION_MODE_LATCH_6:case g.NUMERIC_COMPACTION_MODE_LATCH:case g.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case g.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case g.MACRO_PDF417_TERMINATOR:a--,ye=!0;break;case g.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I[se]=g.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,Re=s[a++],F[se]=Re,se++}}return g.decodeTextCompaction(I,F,se,v),a},g.decodeTextCompaction=function(s,a,v,I){for(var F=So.ALPHA,se=So.ALPHA,ye=0;ye<v;){var Re=s[ye],ze="";switch(F){case So.ALPHA:if(Re<26)ze=String.fromCharCode(65+Re);else switch(Re){case 26:ze=" ";break;case g.LL:F=So.LOWER;break;case g.ML:F=So.MIXED;break;case g.PS:se=F,F=So.PUNCT_SHIFT;break;case g.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I.append(a[ye]);break;case g.TEXT_COMPACTION_MODE_LATCH:F=So.ALPHA}break;case So.LOWER:if(Re<26)ze=String.fromCharCode(97+Re);else switch(Re){case 26:ze=" ";break;case g.AS:se=F,F=So.ALPHA_SHIFT;break;case g.ML:F=So.MIXED;break;case g.PS:se=F,F=So.PUNCT_SHIFT;break;case g.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I.append(a[ye]);break;case g.TEXT_COMPACTION_MODE_LATCH:F=So.ALPHA}break;case So.MIXED:if(Re<g.PL)ze=g.MIXED_CHARS[Re];else switch(Re){case g.PL:F=So.PUNCT;break;case 26:ze=" ";break;case g.LL:F=So.LOWER;break;case g.AL:F=So.ALPHA;break;case g.PS:se=F,F=So.PUNCT_SHIFT;break;case g.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I.append(a[ye]);break;case g.TEXT_COMPACTION_MODE_LATCH:F=So.ALPHA}break;case So.PUNCT:if(Re<g.PAL)ze=g.PUNCT_CHARS[Re];else switch(Re){case g.PAL:F=So.ALPHA;break;case g.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I.append(a[ye]);break;case g.TEXT_COMPACTION_MODE_LATCH:F=So.ALPHA}break;case So.ALPHA_SHIFT:if(F=se,Re<26)ze=String.fromCharCode(65+Re);else switch(Re){case 26:ze=" ";break;case g.TEXT_COMPACTION_MODE_LATCH:F=So.ALPHA}break;case So.PUNCT_SHIFT:if(F=se,Re<g.PAL)ze=g.PUNCT_CHARS[Re];else switch(Re){case g.PAL:F=So.ALPHA;break;case g.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:I.append(a[ye]);break;case g.TEXT_COMPACTION_MODE_LATCH:F=So.ALPHA}}""!==ze&&I.append(ze),ye++}},g.byteCompaction=function(s,a,v,I,F){var se=new T0,ye=0,Re=0,ze=!1;switch(s){case g.BYTE_COMPACTION_MODE_LATCH:for(var ut=new Int32Array(6),wt=a[I++];I<a[0]&&!ze;)switch(ut[ye++]=wt,Re=900*Re+wt,wt=a[I++],wt){case g.TEXT_COMPACTION_MODE_LATCH:case g.BYTE_COMPACTION_MODE_LATCH:case g.NUMERIC_COMPACTION_MODE_LATCH:case g.BYTE_COMPACTION_MODE_LATCH_6:case g.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case g.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case g.MACRO_PDF417_TERMINATOR:I--,ze=!0;break;default:if(ye%5==0&&ye>0){for(var jt=0;jt<6;++jt)se.write(Number(rp(Re)>>rp(8*(5-jt))));Re=0,ye=0}}I===a[0]&&wt<g.TEXT_COMPACTION_MODE_LATCH&&(ut[ye++]=wt);for(var Kt=0;Kt<ye;Kt++)se.write(ut[Kt]);break;case g.BYTE_COMPACTION_MODE_LATCH_6:for(;I<a[0]&&!ze;){var _n=a[I++];if(_n<g.TEXT_COMPACTION_MODE_LATCH)ye++,Re=900*Re+_n;else switch(_n){case g.TEXT_COMPACTION_MODE_LATCH:case g.BYTE_COMPACTION_MODE_LATCH:case g.NUMERIC_COMPACTION_MODE_LATCH:case g.BYTE_COMPACTION_MODE_LATCH_6:case g.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case g.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case g.MACRO_PDF417_TERMINATOR:I--,ze=!0}if(ye%5==0&&ye>0){for(jt=0;jt<6;++jt)se.write(Number(rp(Re)>>rp(8*(5-jt))));Re=0,ye=0}}}return F.append(ea.decode(se.toByteArray(),v)),I},g.numericCompaction=function(s,a,v){for(var I=0,F=!1,se=new Int32Array(g.MAX_NUMERIC_CODEWORDS);a<s[0]&&!F;){var ye=s[a++];if(a===s[0]&&(F=!0),ye<g.TEXT_COMPACTION_MODE_LATCH)se[I]=ye,I++;else switch(ye){case g.TEXT_COMPACTION_MODE_LATCH:case g.BYTE_COMPACTION_MODE_LATCH:case g.BYTE_COMPACTION_MODE_LATCH_6:case g.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case g.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case g.MACRO_PDF417_TERMINATOR:a--,F=!0}(I%g.MAX_NUMERIC_CODEWORDS==0||ye===g.NUMERIC_COMPACTION_MODE_LATCH||F)&&I>0&&(v.append(g.decodeBase900toBase10(se,I)),I=0)}return a},g.decodeBase900toBase10=function(s,a){for(var v=rp(0),I=0;I<a;I++)v+=g.EXP900[a-I-1]*rp(s[I]);var F=v.toString();if("1"!==F.charAt(0))throw new jr;return F.substring(1)},g.TEXT_COMPACTION_MODE_LATCH=900,g.BYTE_COMPACTION_MODE_LATCH=901,g.NUMERIC_COMPACTION_MODE_LATCH=902,g.BYTE_COMPACTION_MODE_LATCH_6=924,g.ECI_USER_DEFINED=925,g.ECI_GENERAL_PURPOSE=926,g.ECI_CHARSET=927,g.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,g.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,g.MACRO_PDF417_TERMINATOR=922,g.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,g.MAX_NUMERIC_CODEWORDS=15,g.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,g.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,g.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,g.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,g.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,g.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,g.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,g.PL=25,g.LL=27,g.AS=27,g.ML=28,g.AL=28,g.PS=29,g.PAL=29,g.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",g.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",g.EXP900=J1()?function q1(){var g=[];g[0]=rp(1);var s=rp(900);g[1]=s;for(var a=2;a<16;a++)g[a]=g[a-1]*s;return g}():[],g.NUMBER_OF_SEQUENCE_CODEWORDS=2,g}();var ip=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const EA=function(){function g(){}return g.decode=function(s,a,v,I,F,se,ye){for(var wt,Re=new Nv(s,a,v,I,F),ze=null,ut=null,jt=!0;;jt=!1){if(null!=a&&(ze=g.getRowIndicatorColumn(s,Re,a,!0,se,ye)),null!=I&&(ut=g.getRowIndicatorColumn(s,Re,I,!1,se,ye)),null==(wt=g.merge(ze,ut)))throw Gt.getNotFoundInstance();var Kt=wt.getBoundingBox();if(!jt||null==Kt||!(Kt.getMinY()<Re.getMinY()||Kt.getMaxY()>Re.getMaxY()))break;Re=Kt}wt.setBoundingBox(Re);var _n=wt.getBarcodeColumnCount()+1;wt.setDetectionResultColumn(0,ze),wt.setDetectionResultColumn(_n,ut);for(var On=null!=ze,nr=1;nr<=_n;nr++){var rr=On?nr:_n-nr;if(void 0===wt.getDetectionResultColumn(rr)){var er=void 0;er=0===rr||rr===_n?new Eh(Re,0===rr):new Dm(Re),wt.setDetectionResultColumn(rr,er);for(var fr=-1,Tr=fr,Zr=Re.getMinY();Zr<=Re.getMaxY();Zr++){if((fr=g.getStartColumn(wt,rr,Zr,On))<0||fr>Re.getMaxX()){if(-1===Tr)continue;fr=Tr}var ci=g.detectCodeword(s,Re.getMinX(),Re.getMaxX(),On,fr,Zr,se,ye);null!=ci&&(er.setCodeword(Zr,ci),Tr=fr,se=Math.min(se,ci.getWidth()),ye=Math.max(ye,ci.getWidth()))}}}return g.createDecoderResult(wt)},g.merge=function(s,a){if(null==s&&null==a)return null;var v=g.getBarcodeMetadata(s,a);if(null==v)return null;var I=Nv.merge(g.adjustBoundingBox(s),g.adjustBoundingBox(a));return new _f(v,I)},g.adjustBoundingBox=function(s){var a,v;if(null==s)return null;var I=s.getRowHeights();if(null==I)return null;var F=g.getMax(I),se=0;try{for(var ye=ip(I),Re=ye.next();!Re.done;Re=ye.next()){var ze=Re.value;if(se+=F-ze,ze>0)break}}catch(Kt){a={error:Kt}}finally{try{Re&&!Re.done&&(v=ye.return)&&v.call(ye)}finally{if(a)throw a.error}}for(var ut=s.getCodewords(),wt=0;se>0&&null==ut[wt];wt++)se--;var jt=0;for(wt=I.length-1;wt>=0&&(jt+=F-I[wt],!(I[wt]>0));wt--);for(wt=ut.length-1;jt>0&&null==ut[wt];wt--)jt--;return s.getBoundingBox().addMissingRows(se,jt,s.isLeft())},g.getMax=function(s){var a,v,I=-1;try{for(var F=ip(s),se=F.next();!se.done;se=F.next())I=Math.max(I,se.value)}catch(Re){a={error:Re}}finally{try{se&&!se.done&&(v=F.return)&&v.call(F)}finally{if(a)throw a.error}}return I},g.getBarcodeMetadata=function(s,a){var v,I;return null==s||null==(v=s.getBarcodeMetadata())?null==a?null:a.getBarcodeMetadata():null==a||null==(I=a.getBarcodeMetadata())?v:v.getColumnCount()!==I.getColumnCount()&&v.getErrorCorrectionLevel()!==I.getErrorCorrectionLevel()&&v.getRowCount()!==I.getRowCount()?null:v},g.getRowIndicatorColumn=function(s,a,v,I,F,se){for(var ye=new Eh(a,I),Re=0;Re<2;Re++)for(var ze=0===Re?1:-1,ut=Math.trunc(Math.trunc(v.getX())),wt=Math.trunc(Math.trunc(v.getY()));wt<=a.getMaxY()&&wt>=a.getMinY();wt+=ze){var jt=g.detectCodeword(s,0,s.getWidth(),I,ut,wt,F,se);null!=jt&&(ye.setCodeword(wt,jt),ut=I?jt.getStartX():jt.getEndX())}return ye},g.adjustCodewordCount=function(s,a){var v=a[0][1],I=v.getValue(),F=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-g.getNumberOfECCodeWords(s.getBarcodeECLevel());if(0===I.length){if(F<1||F>ps.MAX_CODEWORDS_IN_BARCODE)throw Gt.getNotFoundInstance();v.setValue(F)}else I[0]!==F&&v.setValue(F)},g.createDecoderResult=function(s){var a=g.createBarcodeMatrix(s);g.adjustCodewordCount(s,a);for(var v=new Array,I=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),F=[],se=new Array,ye=0;ye<s.getBarcodeRowCount();ye++)for(var Re=0;Re<s.getBarcodeColumnCount();Re++){var ze=a[ye][Re+1].getValue(),ut=ye*s.getBarcodeColumnCount()+Re;0===ze.length?v.push(ut):1===ze.length?I[ut]=ze[0]:(se.push(ut),F.push(ze))}for(var wt=new Array(F.length),jt=0;jt<wt.length;jt++)wt[jt]=F[jt];return g.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),I,ps.toIntArray(v),ps.toIntArray(se),wt)},g.createDecoderResultFromAmbiguousValues=function(s,a,v,I,F){for(var se=new Int32Array(I.length),ye=100;ye-- >0;){for(var Re=0;Re<se.length;Re++)a[I[Re]]=F[Re][se[Re]];try{return g.decodeCodewords(a,s,v)}catch(ut){if(!(ut instanceof pa))throw ut}if(0===se.length)throw pa.getChecksumInstance();for(Re=0;Re<se.length;Re++){if(se[Re]<F[Re].length-1){se[Re]++;break}if(se[Re]=0,Re===se.length-1)throw pa.getChecksumInstance()}}throw pa.getChecksumInstance()},g.createBarcodeMatrix=function(s){for(var a,v,I,F,se=Array.from({length:s.getBarcodeRowCount()},function(){return new Array(s.getBarcodeColumnCount()+2)}),ye=0;ye<se.length;ye++)for(var Re=0;Re<se[ye].length;Re++)se[ye][Re]=new _h;var ze=0;try{for(var ut=ip(s.getDetectionResultColumns()),wt=ut.next();!wt.done;wt=ut.next()){var jt=wt.value;if(null!=jt)try{for(var Kt=(I=void 0,ip(jt.getCodewords())),_n=Kt.next();!_n.done;_n=Kt.next()){var On=_n.value;if(null!=On){var nr=On.getRowNumber();if(nr>=0){if(nr>=se.length)continue;se[nr][ze].setValue(On.getValue())}}}}catch(rr){I={error:rr}}finally{try{_n&&!_n.done&&(F=Kt.return)&&F.call(Kt)}finally{if(I)throw I.error}}ze++}}catch(rr){a={error:rr}}finally{try{wt&&!wt.done&&(v=ut.return)&&v.call(ut)}finally{if(a)throw a.error}}return se},g.isValidBarcodeColumn=function(s,a){return a>=0&&a<=s.getBarcodeColumnCount()+1},g.getStartColumn=function(s,a,v,I){var F,se,ye=I?1:-1,Re=null;if(g.isValidBarcodeColumn(s,a-ye)&&(Re=s.getDetectionResultColumn(a-ye).getCodeword(v)),null!=Re)return I?Re.getEndX():Re.getStartX();if(null!=(Re=s.getDetectionResultColumn(a).getCodewordNearby(v)))return I?Re.getStartX():Re.getEndX();if(g.isValidBarcodeColumn(s,a-ye)&&(Re=s.getDetectionResultColumn(a-ye).getCodewordNearby(v)),null!=Re)return I?Re.getEndX():Re.getStartX();for(var ze=0;g.isValidBarcodeColumn(s,a-ye);){a-=ye;try{for(var ut=(F=void 0,ip(s.getDetectionResultColumn(a).getCodewords())),wt=ut.next();!wt.done;wt=ut.next()){var jt=wt.value;if(null!=jt)return(I?jt.getEndX():jt.getStartX())+ye*ze*(jt.getEndX()-jt.getStartX())}}catch(Kt){F={error:Kt}}finally{try{wt&&!wt.done&&(se=ut.return)&&se.call(ut)}finally{if(F)throw F.error}}ze++}return I?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()},g.detectCodeword=function(s,a,v,I,F,se,ye,Re){F=g.adjustCodewordStartColumn(s,a,v,I,F,se);var ze=g.getModuleBitCount(s,a,v,I,F,se);if(null==ze)return null;var ut,wt=rs.sum(ze);if(I)ut=F+wt;else{for(var jt=0;jt<ze.length/2;jt++){var Kt=ze[jt];ze[jt]=ze[ze.length-1-jt],ze[ze.length-1-jt]=Kt}F=(ut=F)-wt}if(!g.checkCodewordSkew(wt,ye,Re))return null;var _n=_A.getDecodedValue(ze),On=ps.getCodeword(_n);return-1===On?null:new Rm(F,ut,g.getCodewordBucketNumber(_n),On)},g.getModuleBitCount=function(s,a,v,I,F,se){for(var ye=F,Re=new Int32Array(8),ze=0,ut=I?1:-1,wt=I;(I?ye<v:ye>=a)&&ze<Re.length;)s.get(ye,se)===wt?(Re[ze]++,ye+=ut):(ze++,wt=!wt);return ze===Re.length||ye===(I?v:a)&&ze===Re.length-1?Re:null},g.getNumberOfECCodeWords=function(s){return 2<<s},g.adjustCodewordStartColumn=function(s,a,v,I,F,se){for(var ye=F,Re=I?-1:1,ze=0;ze<2;ze++){for(;(I?ye>=a:ye<v)&&I===s.get(ye,se);){if(Math.abs(F-ye)>g.CODEWORD_SKEW_SIZE)return F;ye+=Re}Re=-Re,I=!I}return ye},g.checkCodewordSkew=function(s,a,v){return a-g.CODEWORD_SKEW_SIZE<=s&&s<=v+g.CODEWORD_SKEW_SIZE},g.decodeCodewords=function(s,a,v){if(0===s.length)throw jr.getFormatInstance();var I=1<<a+1,F=g.correctErrors(s,v,I);g.verifyCodewordCount(s,I);var se=iE.decode(s,""+a);return se.setErrorsCorrected(F),se.setErasures(v.length),se},g.correctErrors=function(s,a,v){if(null!=a&&a.length>v/2+g.MAX_ERRORS||v<0||v>g.MAX_EC_CODEWORDS)throw pa.getChecksumInstance();return g.errorCorrection.decode(s,v,a)},g.verifyCodewordCount=function(s,a){if(s.length<4)throw jr.getFormatInstance();var v=s[0];if(v>s.length)throw jr.getFormatInstance();if(0===v){if(!(a<s.length))throw jr.getFormatInstance();s[0]=s.length-a}},g.getBitCountForCodeword=function(s){for(var a=new Int32Array(8),v=0,I=a.length-1;!((1&s)!==v&&(v=1&s,I--,I<0));)a[I]++,s>>=1;return a},g.getCodewordBucketNumber=function(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)},g.getCodewordBucketNumber_number=function(s){return g.getCodewordBucketNumber(g.getBitCountForCodeword(s))},g.getCodewordBucketNumber_Int32Array=function(s){return(s[0]-s[2]+s[4]-s[6]+9)%9},g.toString=function(s){for(var a=new I0,v=0;v<s.length;v++){a.format("Row %2d: ",v);for(var I=0;I<s[v].length;I++){var F=s[v][I];0===F.getValue().length?a.format("        ",null):a.format("%4d(%2d)",F.getValue()[0],F.getConfidence(F.getValue()[0]))}a.format("%n")}return a.toString()},g.CODEWORD_SKEW_SIZE=2,g.MAX_ERRORS=3,g.MAX_EC_CODEWORDS=512,g.errorCorrection=new Br,g}(),D0=function(){function g(){}return g.prototype.decode=function(s,a){void 0===a&&(a=null);var v=g.decode(s,a,!1);if(null==v||0===v.length||null==v[0])throw Gt.getNotFoundInstance();return v[0]},g.prototype.decodeMultiple=function(s,a){void 0===a&&(a=null);try{return g.decode(s,a,!0)}catch(v){throw v instanceof jr||v instanceof pa?Gt.getNotFoundInstance():v}},g.decode=function(s,a,v){var I,F,se=new Array,ye=HI.detectMultiple(s,a,v);try{for(var Re=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(ye.getPoints()),ze=Re.next();!ze.done;ze=Re.next()){var ut=ze.value,wt=EA.decode(ye.getBits(),ut[4],ut[5],ut[6],ut[7],g.getMinCodewordWidth(ut),g.getMaxCodewordWidth(ut)),jt=new Ka(wt.getText(),wt.getRawBytes(),void 0,ut,Di.PDF_417);jt.putMetadata(_s.ERROR_CORRECTION_LEVEL,wt.getECLevel());var Kt=wt.getOther();null!=Kt&&jt.putMetadata(_s.PDF417_EXTRA_METADATA,Kt),se.push(jt)}}catch(_n){I={error:_n}}finally{try{ze&&!ze.done&&(F=Re.return)&&F.call(Re)}finally{if(I)throw I.error}}return se.map(function(_n){return _n})},g.getMaxWidth=function(s,a){return null==s||null==a?0:Math.trunc(Math.abs(s.getX()-a.getX()))},g.getMinWidth=function(s,a){return null==s||null==a?zi.MAX_VALUE:Math.trunc(Math.abs(s.getX()-a.getX()))},g.getMaxCodewordWidth=function(s){return Math.floor(Math.max(Math.max(g.getMaxWidth(s[0],s[4]),g.getMaxWidth(s[6],s[2])*ps.MODULES_IN_CODEWORD/ps.MODULES_IN_STOP_PATTERN),Math.max(g.getMaxWidth(s[1],s[5]),g.getMaxWidth(s[7],s[3])*ps.MODULES_IN_CODEWORD/ps.MODULES_IN_STOP_PATTERN)))},g.getMinCodewordWidth=function(s){return Math.floor(Math.min(Math.min(g.getMinWidth(s[0],s[4]),g.getMinWidth(s[6],s[2])*ps.MODULES_IN_CODEWORD/ps.MODULES_IN_STOP_PATTERN),Math.min(g.getMinWidth(s[1],s[5]),g.getMinWidth(s[7],s[3])*ps.MODULES_IN_CODEWORD/ps.MODULES_IN_STOP_PATTERN)))},g.prototype.reset=function(){},g}();var Q1=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const ew=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return Q1(s,g),s.kind="ReaderException",s}(Ns);var sE=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const Bm=function(){function g(){}return g.prototype.decode=function(s,a){return this.setHints(a),this.decodeInternal(s)},g.prototype.decodeWithState=function(s){return null==this.readers&&this.setHints(null),this.decodeInternal(s)},g.prototype.setHints=function(s){this.hints=s;var a=null!=s&&void 0!==s.get(wi.TRY_HARDER),v=null==s?null:s.get(wi.POSSIBLE_FORMATS),I=new Array;if(null!=v){var F=v.some(function(se){return se===Di.UPC_A||se===Di.UPC_E||se===Di.EAN_13||se===Di.EAN_8||se===Di.CODABAR||se===Di.CODE_39||se===Di.CODE_93||se===Di.CODE_128||se===Di.ITF||se===Di.RSS_14||se===Di.RSS_EXPANDED});F&&!a&&I.push(new zu(s)),v.includes(Di.QR_CODE)&&I.push(new Im),v.includes(Di.DATA_MATRIX)&&I.push(new Zy),v.includes(Di.AZTEC)&&I.push(new ol),v.includes(Di.PDF_417)&&I.push(new D0),F&&a&&I.push(new zu(s))}0===I.length&&(a||I.push(new zu(s)),I.push(new Im),I.push(new Zy),I.push(new ol),I.push(new D0),a&&I.push(new zu(s))),this.readers=I},g.prototype.reset=function(){var s,a;if(null!==this.readers)try{for(var v=sE(this.readers),I=v.next();!I.done;I=v.next())I.value.reset()}catch(se){s={error:se}}finally{try{I&&!I.done&&(a=v.return)&&a.call(v)}finally{if(s)throw s.error}}},g.prototype.decodeInternal=function(s){var a,v;if(null===this.readers)throw new ew("No readers where selected, nothing can be read.");try{for(var I=sE(this.readers),F=I.next();!F.done;F=I.next()){var se=F.value;try{return se.decode(s,this.hints)}catch(ye){if(ye instanceof ew)continue}}}catch(ye){a={error:ye}}finally{try{F&&!F.done&&(v=I.return)&&v.call(I)}finally{if(a)throw a.error}}throw new Gt("No MultiFormat Readers were able to detect the code.")},g}();var xA=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),jv=(function(g){function s(a,v){void 0===a&&(a=null),void 0===v&&(v=500);var F=new Bm;return F.setHints(a),g.call(this,F,v)||this}xA(s,g),s.prototype.decodeBitmap=function(a){return this.reader.decodeWithState(a)}}(Bl),function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}()),Ef=(function(g){jv(function s(a){return void 0===a&&(a=500),g.call(this,new D0,a)||this},g)}(Bl),function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}()),cE=(function(g){Ef(function s(a){return void 0===a&&(a=500),g.call(this,new Im,a)||this},g)}(Bl),function(g){return g[g.ERROR_CORRECTION=0]="ERROR_CORRECTION",g[g.CHARACTER_SET=1]="CHARACTER_SET",g[g.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",g[g.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",g[g.MIN_SIZE=4]="MIN_SIZE",g[g.MAX_SIZE=5]="MAX_SIZE",g[g.MARGIN=6]="MARGIN",g[g.PDF417_COMPACT=7]="PDF417_COMPACT",g[g.PDF417_COMPACTION=8]="PDF417_COMPACTION",g[g.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",g[g.AZTEC_LAYERS=10]="AZTEC_LAYERS",g[g.QR_VERSION=11]="QR_VERSION",g[g.GS1_FORMAT=12]="GS1_FORMAT",g[g.FORCE_C40=13]="FORCE_C40",g}(cE||{}));const ys=cE,Nm=function(){function g(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Sd(s,Int32Array.from([1])))}return g.prototype.buildGenerator=function(s){var a=this.cachedGenerators;if(s>=a.length)for(var v=a[a.length-1],I=this.field,F=a.length;F<=s;F++){var se=v.multiply(new Sd(I,Int32Array.from([1,I.exp(F-1+I.getGeneratorBase())])));a.push(se),v=se}return a[s]},g.prototype.encode=function(s,a){if(0===a)throw new xi("No error correction bytes");var v=s.length-a;if(v<=0)throw new xi("No data bytes provided");var I=this.buildGenerator(a),F=new Int32Array(v);kr.arraycopy(s,0,F,0,v);for(var se=new Sd(this.field,F),Re=(se=se.multiplyByMonomial(a,1)).divide(I)[1].getCoefficients(),ze=a-Re.length,ut=0;ut<ze;ut++)s[v+ut]=0;kr.arraycopy(Re,0,s,v+ze,Re.length)},g}(),Lm=function(){function g(){}return g.applyMaskPenaltyRule1=function(s){return g.applyMaskPenaltyRule1Internal(s,!0)+g.applyMaskPenaltyRule1Internal(s,!1)},g.applyMaskPenaltyRule2=function(s){for(var a=0,v=s.getArray(),I=s.getWidth(),F=s.getHeight(),se=0;se<F-1;se++)for(var ye=v[se],Re=0;Re<I-1;Re++){var ze=ye[Re];ze===ye[Re+1]&&ze===v[se+1][Re]&&ze===v[se+1][Re+1]&&a++}return g.N2*a},g.applyMaskPenaltyRule3=function(s){for(var a=0,v=s.getArray(),I=s.getWidth(),F=s.getHeight(),se=0;se<F;se++)for(var ye=0;ye<I;ye++){var Re=v[se];ye+6<I&&1===Re[ye]&&0===Re[ye+1]&&1===Re[ye+2]&&1===Re[ye+3]&&1===Re[ye+4]&&0===Re[ye+5]&&1===Re[ye+6]&&(g.isWhiteHorizontal(Re,ye-4,ye)||g.isWhiteHorizontal(Re,ye+7,ye+11))&&a++,se+6<F&&1===v[se][ye]&&0===v[se+1][ye]&&1===v[se+2][ye]&&1===v[se+3][ye]&&1===v[se+4][ye]&&0===v[se+5][ye]&&1===v[se+6][ye]&&(g.isWhiteVertical(v,ye,se-4,se)||g.isWhiteVertical(v,ye,se+7,se+11))&&a++}return a*g.N3},g.isWhiteHorizontal=function(s,a,v){a=Math.max(a,0),v=Math.min(v,s.length);for(var I=a;I<v;I++)if(1===s[I])return!1;return!0},g.isWhiteVertical=function(s,a,v,I){v=Math.max(v,0),I=Math.min(I,s.length);for(var F=v;F<I;F++)if(1===s[F][a])return!1;return!0},g.applyMaskPenaltyRule4=function(s){for(var a=0,v=s.getArray(),I=s.getWidth(),F=s.getHeight(),se=0;se<F;se++)for(var ye=v[se],Re=0;Re<I;Re++)1===ye[Re]&&a++;var ze=s.getHeight()*s.getWidth();return Math.floor(10*Math.abs(2*a-ze)/ze)*g.N4},g.getDataMaskBit=function(s,a,v){var I,F;switch(s){case 0:I=v+a&1;break;case 1:I=1&v;break;case 2:I=a%3;break;case 3:I=(v+a)%3;break;case 4:I=Math.floor(v/2)+Math.floor(a/3)&1;break;case 5:I=(1&(F=v*a))+F%3;break;case 6:I=(1&(F=v*a))+F%3&1;break;case 7:I=(F=v*a)%3+(v+a&1)&1;break;default:throw new xi("Invalid mask pattern: "+s)}return 0===I},g.applyMaskPenaltyRule1Internal=function(s,a){for(var v=0,I=a?s.getHeight():s.getWidth(),F=a?s.getWidth():s.getHeight(),se=s.getArray(),ye=0;ye<I;ye++){for(var Re=0,ze=-1,ut=0;ut<F;ut++){var wt=a?se[ye][ut]:se[ut][ye];wt===ze?Re++:(Re>=5&&(v+=g.N1+(Re-5)),Re=1,ze=wt)}Re>=5&&(v+=g.N1+(Re-5))}return v},g.N1=3,g.N2=3,g.N3=40,g.N4=10,g}(),gi=function(){function g(s,a){this.width=s,this.height=a;for(var v=new Array(a),I=0;I!==a;I++)v[I]=new Uint8Array(s);this.bytes=v}return g.prototype.getHeight=function(){return this.height},g.prototype.getWidth=function(){return this.width},g.prototype.get=function(s,a){return this.bytes[a][s]},g.prototype.getArray=function(){return this.bytes},g.prototype.setNumber=function(s,a,v){this.bytes[a][s]=v},g.prototype.setBoolean=function(s,a,v){this.bytes[a][s]=v?1:0},g.prototype.clear=function(s){var a,v;try{for(var I=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.bytes),F=I.next();!F.done;F=I.next())ro.fill(F.value,s)}catch(ye){a={error:ye}}finally{try{F&&!F.done&&(v=I.return)&&v.call(I)}finally{if(a)throw a.error}}},g.prototype.equals=function(s){if(!(s instanceof g))return!1;var a=s;if(this.width!==a.width||this.height!==a.height)return!1;for(var v=0,I=this.height;v<I;++v)for(var F=this.bytes[v],se=a.bytes[v],ye=0,Re=this.width;ye<Re;++ye)if(F[ye]!==se[ye])return!1;return!0},g.prototype.toString=function(){for(var s=new Hi,a=0,v=this.height;a<v;++a){for(var I=this.bytes[a],F=0,se=this.width;F<se;++F)switch(I[F]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ")}s.append("\n")}return s.toString()},g}(),lE=function(){function g(){this.maskPattern=-1}return g.prototype.getMode=function(){return this.mode},g.prototype.getECLevel=function(){return this.ecLevel},g.prototype.getVersion=function(){return this.version},g.prototype.getMaskPattern=function(){return this.maskPattern},g.prototype.getMatrix=function(){return this.matrix},g.prototype.toString=function(){var s=new Hi;return s.append("<<\n"),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append("\n ecLevel: "),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append("\n version: "),s.append(this.version?this.version.toString():"null"),s.append("\n maskPattern: "),s.append(this.maskPattern.toString()),this.matrix?(s.append("\n matrix:\n"),s.append(this.matrix.toString())):s.append("\n matrix: null\n"),s.append(">>\n"),s.toString()},g.prototype.setMode=function(s){this.mode=s},g.prototype.setECLevel=function(s){this.ecLevel=s},g.prototype.setVersion=function(s){this.version=s},g.prototype.setMaskPattern=function(s){this.maskPattern=s},g.prototype.setMatrix=function(s){this.matrix=s},g.isValidMaskPattern=function(s){return s>=0&&s<g.NUM_MASK_PATTERNS},g.NUM_MASK_PATTERNS=8,g}();var dE=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Wa=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return dE(s,g),s.kind="WriterException",s}(Ns),ng=function(){function g(){}return g.clearMatrix=function(s){s.clear(255)},g.buildMatrix=function(s,a,v,I,F){g.clearMatrix(F),g.embedBasicPatterns(v,F),g.embedTypeInfo(a,I,F),g.maybeEmbedVersionInfo(v,F),g.embedDataBits(s,I,F)},g.embedBasicPatterns=function(s,a){g.embedPositionDetectionPatternsAndSeparators(a),g.embedDarkDotAtLeftBottomCorner(a),g.maybeEmbedPositionAdjustmentPatterns(s,a),g.embedTimingPatterns(a)},g.embedTypeInfo=function(s,a,v){var I=new Bo;g.makeTypeInfoBits(s,a,I);for(var F=0,se=I.getSize();F<se;++F){var ye=I.get(I.getSize()-1-F),Re=g.TYPE_INFO_COORDINATES[F];if(v.setBoolean(Re[0],Re[1],ye),F<8){var wt=v.getWidth()-F-1;v.setBoolean(wt,jt=8,ye)}else{wt=8;var jt=v.getHeight()-7+(F-8);v.setBoolean(wt,jt,ye)}}},g.maybeEmbedVersionInfo=function(s,a){if(!(s.getVersionNumber()<7)){var v=new Bo;g.makeVersionInfoBits(s,v);for(var I=17,F=0;F<6;++F)for(var se=0;se<3;++se){var ye=v.get(I);I--,a.setBoolean(F,a.getHeight()-11+se,ye),a.setBoolean(a.getHeight()-11+se,F,ye)}}},g.embedDataBits=function(s,a,v){for(var I=0,F=-1,se=v.getWidth()-1,ye=v.getHeight()-1;se>0;){for(6===se&&(se-=1);ye>=0&&ye<v.getHeight();){for(var Re=0;Re<2;++Re){var ze=se-Re;if(g.isEmpty(v.get(ze,ye))){var ut=void 0;I<s.getSize()?(ut=s.get(I),++I):ut=!1,255!==a&&Lm.getDataMaskBit(a,ze,ye)&&(ut=!ut),v.setBoolean(ze,ye,ut)}}ye+=F}ye+=F=-F,se-=2}if(I!==s.getSize())throw new Wa("Not all bits consumed: "+I+"/"+s.getSize())},g.findMSBSet=function(s){return 32-zi.numberOfLeadingZeros(s)},g.calculateBCHCode=function(s,a){if(0===a)throw new xi("0 polynomial");var v=g.findMSBSet(a);for(s<<=v-1;g.findMSBSet(s)>=v;)s^=a<<g.findMSBSet(s)-v;return s},g.makeTypeInfoBits=function(s,a,v){if(!lE.isValidMaskPattern(a))throw new Wa("Invalid mask pattern");var I=s.getBits()<<3|a;v.appendBits(I,5);var F=g.calculateBCHCode(I,g.TYPE_INFO_POLY);v.appendBits(F,10);var se=new Bo;if(se.appendBits(g.TYPE_INFO_MASK_PATTERN,15),v.xor(se),15!==v.getSize())throw new Wa("should not happen but we got: "+v.getSize())},g.makeVersionInfoBits=function(s,a){a.appendBits(s.getVersionNumber(),6);var v=g.calculateBCHCode(s.getVersionNumber(),g.VERSION_INFO_POLY);if(a.appendBits(v,12),18!==a.getSize())throw new Wa("should not happen but we got: "+a.getSize())},g.isEmpty=function(s){return 255===s},g.embedTimingPatterns=function(s){for(var a=8;a<s.getWidth()-8;++a){var v=(a+1)%2;g.isEmpty(s.get(a,6))&&s.setNumber(a,6,v),g.isEmpty(s.get(6,a))&&s.setNumber(6,a,v)}},g.embedDarkDotAtLeftBottomCorner=function(s){if(0===s.get(8,s.getHeight()-8))throw new Wa;s.setNumber(8,s.getHeight()-8,1)},g.embedHorizontalSeparationPattern=function(s,a,v){for(var I=0;I<8;++I){if(!g.isEmpty(v.get(s+I,a)))throw new Wa;v.setNumber(s+I,a,0)}},g.embedVerticalSeparationPattern=function(s,a,v){for(var I=0;I<7;++I){if(!g.isEmpty(v.get(s,a+I)))throw new Wa;v.setNumber(s,a+I,0)}},g.embedPositionAdjustmentPattern=function(s,a,v){for(var I=0;I<5;++I)for(var F=g.POSITION_ADJUSTMENT_PATTERN[I],se=0;se<5;++se)v.setNumber(s+se,a+I,F[se])},g.embedPositionDetectionPattern=function(s,a,v){for(var I=0;I<7;++I)for(var F=g.POSITION_DETECTION_PATTERN[I],se=0;se<7;++se)v.setNumber(s+se,a+I,F[se])},g.embedPositionDetectionPatternsAndSeparators=function(s){var a=g.POSITION_DETECTION_PATTERN[0].length;g.embedPositionDetectionPattern(0,0,s),g.embedPositionDetectionPattern(s.getWidth()-a,0,s),g.embedPositionDetectionPattern(0,s.getWidth()-a,s),g.embedHorizontalSeparationPattern(0,7,s),g.embedHorizontalSeparationPattern(s.getWidth()-8,7,s),g.embedHorizontalSeparationPattern(0,s.getWidth()-8,s),g.embedVerticalSeparationPattern(7,0,s),g.embedVerticalSeparationPattern(s.getHeight()-7-1,0,s),g.embedVerticalSeparationPattern(7,s.getHeight()-7,s)},g.maybeEmbedPositionAdjustmentPatterns=function(s,a){if(!(s.getVersionNumber()<2))for(var v=s.getVersionNumber()-1,I=g.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[v],F=0,se=I.length;F!==se;F++){var ye=I[F];if(ye>=0)for(var Re=0;Re!==se;Re++){var ze=I[Re];ze>=0&&g.isEmpty(a.get(ze,ye))&&g.embedPositionAdjustmentPattern(ze-2,ye-2,a)}}},g.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),g.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),g.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),g.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),g.VERSION_INFO_POLY=7973,g.TYPE_INFO_POLY=1335,g.TYPE_INFO_MASK_PATTERN=21522,g}(),Sh=function(){function g(s,a){this.dataBytes=s,this.errorCorrectionBytes=a}return g.prototype.getDataBytes=function(){return this.dataBytes},g.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},g}();var Fm=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const Um=function(){function g(){}return g.calculateMaskPenalty=function(s){return Lm.applyMaskPenaltyRule1(s)+Lm.applyMaskPenaltyRule2(s)+Lm.applyMaskPenaltyRule3(s)+Lm.applyMaskPenaltyRule4(s)},g.encode=function(s,a,v){void 0===v&&(v=null);var I=g.DEFAULT_BYTE_MODE_ENCODING,F=null!==v&&void 0!==v.get(ys.CHARACTER_SET);F&&(I=v.get(ys.CHARACTER_SET).toString());var se=this.chooseMode(s,I),ye=new Bo;if(se===cc.BYTE&&(F||g.DEFAULT_BYTE_MODE_ENCODING!==I)){var Re=Ma.getCharacterSetECIByName(I);void 0!==Re&&this.appendECI(Re,ye)}this.appendModeInfo(se,ye);var ut,ze=new Bo;if(this.appendBytes(s,se,ze,I),null!==v&&void 0!==v.get(ys.QR_VERSION)){var wt=Number.parseInt(v.get(ys.QR_VERSION).toString(),10);ut=np.getVersionForNumber(wt);var jt=this.calculateBitsNeeded(se,ye,ze,ut);if(!this.willFit(jt,ut,a))throw new Wa("Data too big for requested version")}else ut=this.recommendVersion(a,se,ye,ze);var Kt=new Bo;Kt.appendBitArray(ye);var _n=se===cc.BYTE?ze.getSizeInBytes():s.length;this.appendLengthInfo(_n,ut,se,Kt),Kt.appendBitArray(ze);var On=ut.getECBlocksForLevel(a),nr=ut.getTotalCodewords()-On.getTotalECCodewords();this.terminateBits(nr,Kt);var rr=this.interleaveWithECBytes(Kt,ut.getTotalCodewords(),nr,On.getNumBlocks()),er=new lE;er.setECLevel(a),er.setMode(se),er.setVersion(ut);var fr=ut.getDimensionForVersion(),Tr=new gi(fr,fr),Zr=this.chooseMaskPattern(rr,a,ut,Tr);return er.setMaskPattern(Zr),ng.buildMatrix(rr,a,ut,Zr,Tr),er.setMatrix(Tr),er},g.recommendVersion=function(s,a,v,I){var F=this.calculateBitsNeeded(a,v,I,np.getVersionForNumber(1)),se=this.chooseVersion(F,s),ye=this.calculateBitsNeeded(a,v,I,se);return this.chooseVersion(ye,s)},g.calculateBitsNeeded=function(s,a,v,I){return a.getSize()+s.getCharacterCountBits(I)+v.getSize()},g.getAlphanumericCode=function(s){return s<g.ALPHANUMERIC_TABLE.length?g.ALPHANUMERIC_TABLE[s]:-1},g.chooseMode=function(s,a){if(void 0===a&&(a=null),Ma.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(s))return cc.KANJI;for(var v=!1,I=!1,F=0,se=s.length;F<se;++F){var ye=s.charAt(F);if(g.isDigit(ye))v=!0;else{if(-1===this.getAlphanumericCode(ye.charCodeAt(0)))return cc.BYTE;I=!0}}return I?cc.ALPHANUMERIC:v?cc.NUMERIC:cc.BYTE},g.isOnlyDoubleByteKanji=function(s){var a;try{a=ea.encode(s,Ma.SJIS)}catch{return!1}var v=a.length;if(v%2!=0)return!1;for(var I=0;I<v;I+=2){var F=255&a[I];if((F<129||F>159)&&(F<224||F>235))return!1}return!0},g.chooseMaskPattern=function(s,a,v,I){for(var F=Number.MAX_SAFE_INTEGER,se=-1,ye=0;ye<lE.NUM_MASK_PATTERNS;ye++){ng.buildMatrix(s,a,v,ye,I);var Re=this.calculateMaskPenalty(I);Re<F&&(F=Re,se=ye)}return se},g.chooseVersion=function(s,a){for(var v=1;v<=40;v++){var I=np.getVersionForNumber(v);if(g.willFit(s,I,a))return I}throw new Wa("Data too big")},g.willFit=function(s,a,v){return a.getTotalCodewords()-a.getECBlocksForLevel(v).getTotalECCodewords()>=(s+7)/8},g.terminateBits=function(s,a){var v=8*s;if(a.getSize()>v)throw new Wa("data bits cannot fit in the QR Code"+a.getSize()+" > "+v);for(var I=0;I<4&&a.getSize()<v;++I)a.appendBit(!1);var F=7&a.getSize();if(F>0)for(I=F;I<8;I++)a.appendBit(!1);var se=s-a.getSizeInBytes();for(I=0;I<se;++I)a.appendBits(1&I?17:236,8);if(a.getSize()!==v)throw new Wa("Bits size does not equal capacity")},g.getNumDataBytesAndNumECBytesForBlockID=function(s,a,v,I,F,se){if(I>=v)throw new Wa("Block ID too large");var ye=s%v,Re=v-ye,ze=Math.floor(s/v),ut=ze+1,wt=Math.floor(a/v),jt=wt+1,Kt=ze-wt,_n=ut-jt;if(Kt!==_n)throw new Wa("EC bytes mismatch");if(v!==Re+ye)throw new Wa("RS blocks mismatch");if(s!==(wt+Kt)*Re+(jt+_n)*ye)throw new Wa("Total bytes mismatch");I<Re?(F[0]=wt,se[0]=Kt):(F[0]=jt,se[0]=_n)},g.interleaveWithECBytes=function(s,a,v,I){var F,se,ye,Re;if(s.getSizeInBytes()!==v)throw new Wa("Number of bits and data bytes does not match");for(var ze=0,ut=0,wt=0,jt=new Array,Kt=0;Kt<I;++Kt){var _n=new Int32Array(1),On=new Int32Array(1);g.getNumDataBytesAndNumECBytesForBlockID(a,v,I,Kt,_n,On);var nr=_n[0],rr=new Uint8Array(nr);s.toBytes(8*ze,rr,0,nr);var er=g.generateECBytes(rr,On[0]);jt.push(new Sh(rr,er)),ut=Math.max(ut,nr),wt=Math.max(wt,er.length),ze+=_n[0]}if(v!==ze)throw new Wa("Data bytes does not match offset");var fr=new Bo;for(Kt=0;Kt<ut;++Kt)try{for(var Tr=(F=void 0,Fm(jt)),Zr=Tr.next();!Zr.done;Zr=Tr.next())Kt<(rr=Zr.value.getDataBytes()).length&&fr.appendBits(rr[Kt],8)}catch(Do){F={error:Do}}finally{try{Zr&&!Zr.done&&(se=Tr.return)&&se.call(Tr)}finally{if(F)throw F.error}}for(Kt=0;Kt<wt;++Kt)try{for(var hi=(ye=void 0,Fm(jt)),Ti=hi.next();!Ti.done;Ti=hi.next())Kt<(er=Ti.value.getErrorCorrectionBytes()).length&&fr.appendBits(er[Kt],8)}catch(Do){ye={error:Do}}finally{try{Ti&&!Ti.done&&(Re=hi.return)&&Re.call(hi)}finally{if(ye)throw ye.error}}if(a!==fr.getSizeInBytes())throw new Wa("Interleaving error: "+a+" and "+fr.getSizeInBytes()+" differ.");return fr},g.generateECBytes=function(s,a){for(var v=s.length,I=new Int32Array(v+a),F=0;F<v;F++)I[F]=255&s[F];new Nm(sc.QR_CODE_FIELD_256).encode(I,a);var se=new Uint8Array(a);for(F=0;F<a;F++)se[F]=I[v+F];return se},g.appendModeInfo=function(s,a){a.appendBits(s.getBits(),4)},g.appendLengthInfo=function(s,a,v,I){var F=v.getCharacterCountBits(a);if(s>=1<<F)throw new Wa(s+" is bigger than "+((1<<F)-1));I.appendBits(s,F)},g.appendBytes=function(s,a,v,I){switch(a){case cc.NUMERIC:g.appendNumericBytes(s,v);break;case cc.ALPHANUMERIC:g.appendAlphanumericBytes(s,v);break;case cc.BYTE:g.append8BitBytes(s,v,I);break;case cc.KANJI:g.appendKanjiBytes(s,v);break;default:throw new Wa("Invalid mode: "+a)}},g.getDigit=function(s){return s.charCodeAt(0)-48},g.isDigit=function(s){var a=g.getDigit(s);return a>=0&&a<=9},g.appendNumericBytes=function(s,a){for(var v=s.length,I=0;I<v;){var F=g.getDigit(s.charAt(I));if(I+2<v){var se=g.getDigit(s.charAt(I+1)),ye=g.getDigit(s.charAt(I+2));a.appendBits(100*F+10*se+ye,10),I+=3}else I+1<v?(se=g.getDigit(s.charAt(I+1)),a.appendBits(10*F+se,7),I+=2):(a.appendBits(F,4),I++)}},g.appendAlphanumericBytes=function(s,a){for(var v=s.length,I=0;I<v;){var F=g.getAlphanumericCode(s.charCodeAt(I));if(-1===F)throw new Wa;if(I+1<v){var se=g.getAlphanumericCode(s.charCodeAt(I+1));if(-1===se)throw new Wa;a.appendBits(45*F+se,11),I+=2}else a.appendBits(F,6),I++}},g.append8BitBytes=function(s,a,v){var I;try{I=ea.encode(s,v)}catch(Re){throw new Wa(Re)}for(var F=0,se=I.length;F!==se;F++)a.appendBits(I[F],8)},g.appendKanjiBytes=function(s,a){var v;try{v=ea.encode(s,Ma.SJIS)}catch(wt){throw new Wa(wt)}for(var I=v.length,F=0;F<I;F+=2){var Re=(255&v[F])<<8&4294967295|255&v[F+1],ze=-1;if(Re>=33088&&Re<=40956?ze=Re-33088:Re>=57408&&Re<=60351&&(ze=Re-49472),-1===ze)throw new Wa("Invalid byte sequence");a.appendBits(192*(ze>>8)+(255&ze),13)}},g.appendECI=function(s,a){a.appendBits(cc.ECI.getBits(),4),a.appendBits(s.getValue(),8)},g.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),g.DEFAULT_BYTE_MODE_ENCODING=Ma.UTF8.getName(),g}();!function(){function g(){}g.prototype.write=function(s,a,v,I){if(void 0===I&&(I=null),0===s.length)throw new xi("Found empty contents");if(a<0||v<0)throw new xi("Requested dimensions are too small: "+a+"x"+v);var F=Fp.L,se=g.QUIET_ZONE_SIZE;null!==I&&(void 0!==I.get(ys.ERROR_CORRECTION)&&(F=Fp.fromString(I.get(ys.ERROR_CORRECTION).toString())),void 0!==I.get(ys.MARGIN)&&(se=Number.parseInt(I.get(ys.MARGIN).toString(),10)));var ye=Um.encode(s,F,I);return this.renderResult(ye,a,v,se)},g.prototype.writeToDom=function(s,a,v,I,F){void 0===F&&(F=null),"string"==typeof s&&(s=document.querySelector(s));var se=this.write(a,v,I,F);s&&s.appendChild(se)},g.prototype.renderResult=function(s,a,v,I){var F=s.getMatrix();if(null===F)throw new Zi;for(var se=F.getWidth(),ye=F.getHeight(),Re=se+2*I,ze=ye+2*I,ut=Math.max(a,Re),wt=Math.max(v,ze),jt=Math.min(Math.floor(ut/Re),Math.floor(wt/ze)),Kt=Math.floor((ut-se*jt)/2),_n=Math.floor((wt-ye*jt)/2),On=this.createSVGElement(ut,wt),nr=0,rr=_n;nr<ye;nr++,rr+=jt)for(var er=0,fr=Kt;er<se;er++,fr+=jt)if(1===F.get(er,nr)){var Tr=this.createSvgRectElement(fr,rr,jt,jt);On.appendChild(Tr)}return On},g.prototype.createSVGElement=function(s,a){var v=document.createElementNS(g.SVG_NS,"svg");return v.setAttributeNS(null,"height",s.toString()),v.setAttributeNS(null,"width",a.toString()),v},g.prototype.createSvgRectElement=function(s,a,v,I){var F=document.createElementNS(g.SVG_NS,"rect");return F.setAttributeNS(null,"x",s.toString()),F.setAttributeNS(null,"y",a.toString()),F.setAttributeNS(null,"height",v.toString()),F.setAttributeNS(null,"width",I.toString()),F.setAttributeNS(null,"fill","#000000"),F},g.QUIET_ZONE_SIZE=4,g.SVG_NS="http://www.w3.org/2000/svg"}();!function(){function g(){}g.prototype.encode=function(s,a,v,I,F){if(0===s.length)throw new xi("Found empty contents");if(a!==Di.QR_CODE)throw new xi("Can only encode QR_CODE, but got "+a);if(v<0||I<0)throw new xi("Requested dimensions are too small: "+v+"x"+I);var se=Fp.L,ye=g.QUIET_ZONE_SIZE;null!==F&&(void 0!==F.get(ys.ERROR_CORRECTION)&&(se=Fp.fromString(F.get(ys.ERROR_CORRECTION).toString())),void 0!==F.get(ys.MARGIN)&&(ye=Number.parseInt(F.get(ys.MARGIN).toString(),10)));var Re=Um.encode(s,se,F);return g.renderResult(Re,v,I,ye)},g.renderResult=function(s,a,v,I){var F=s.getMatrix();if(null===F)throw new Zi;for(var se=F.getWidth(),ye=F.getHeight(),Re=se+2*I,ze=ye+2*I,ut=Math.max(a,Re),wt=Math.max(v,ze),jt=Math.min(Math.floor(ut/Re),Math.floor(wt/ze)),Kt=Math.floor((ut-se*jt)/2),_n=Math.floor((wt-ye*jt)/2),On=new zt(ut,wt),nr=0,rr=_n;nr<ye;nr++,rr+=jt)for(var er=0,fr=Kt;er<se;er++,fr+=jt)1===F.get(er,nr)&&On.setRegion(fr,rr,jt,jt);return On},g.QUIET_ZONE_SIZE=4}();var rg=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();!function(g){function s(a,v,I,F,se,ye,Re,ze){var ut=g.call(this,ye,Re)||this;if(ut.yuvData=a,ut.dataWidth=v,ut.dataHeight=I,ut.left=F,ut.top=se,F+ye>v||se+Re>I)throw new xi("Crop rectangle does not fit within image data.");return ze&&ut.reverseHorizontal(ye,Re),ut}rg(s,g),s.prototype.getRow=function(a,v){if(a<0||a>=this.getHeight())throw new xi("Requested row is outside the image: "+a);var I=this.getWidth();return(null==v||v.length<I)&&(v=new Uint8ClampedArray(I)),kr.arraycopy(this.yuvData,(a+this.top)*this.dataWidth+this.left,v,0,I),v},s.prototype.getMatrix=function(){var a=this.getWidth(),v=this.getHeight();if(a===this.dataWidth&&v===this.dataHeight)return this.yuvData;var I=a*v,F=new Uint8ClampedArray(I),se=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return kr.arraycopy(this.yuvData,se,F,0,I),F;for(var ye=0;ye<v;ye++)kr.arraycopy(this.yuvData,se,F,ye*a,a),se+=this.dataWidth;return F},s.prototype.isCropSupported=function(){return!0},s.prototype.crop=function(a,v,I,F){return new s(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+v,I,F,!1)},s.prototype.renderThumbnail=function(){for(var a=this.getWidth()/s.THUMBNAIL_SCALE_FACTOR,v=this.getHeight()/s.THUMBNAIL_SCALE_FACTOR,I=new Int32Array(a*v),F=this.yuvData,se=this.top*this.dataWidth+this.left,ye=0;ye<v;ye++){for(var Re=ye*a,ze=0;ze<a;ze++)I[Re+ze]=4278190080|65793*(255&F[se+ze*s.THUMBNAIL_SCALE_FACTOR]);se+=this.dataWidth*s.THUMBNAIL_SCALE_FACTOR}return I},s.prototype.getThumbnailWidth=function(){return this.getWidth()/s.THUMBNAIL_SCALE_FACTOR},s.prototype.getThumbnailHeight=function(){return this.getHeight()/s.THUMBNAIL_SCALE_FACTOR},s.prototype.reverseHorizontal=function(a,v){for(var I=this.yuvData,F=0,se=this.top*this.dataWidth+this.left;F<v;F++,se+=this.dataWidth)for(var ye=se+a/2,Re=se,ze=se+a-1;Re<ye;Re++,ze--){var ut=I[Re];I[Re]=I[ze],I[ze]=ut}},s.prototype.invert=function(){return new os(this)},s.THUMBNAIL_SCALE_FACTOR=2}($f);var IA=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();!function(g){function s(a,v,I,F,se,ye,Re){var ze=g.call(this,v,I)||this;if(ze.dataWidth=F,ze.dataHeight=se,ze.left=ye,ze.top=Re,4===a.BYTES_PER_ELEMENT){for(var ut=v*I,wt=new Uint8ClampedArray(ut),jt=0;jt<ut;jt++){var Kt=a[jt];wt[jt]=((Kt>>16&255)+(Kt>>7&510)+(255&Kt))/4&255}ze.luminances=wt}else ze.luminances=a;if(void 0===F&&(ze.dataWidth=v),void 0===se&&(ze.dataHeight=I),void 0===ye&&(ze.left=0),void 0===Re&&(ze.top=0),ze.left+v>ze.dataWidth||ze.top+I>ze.dataHeight)throw new xi("Crop rectangle does not fit within image data.");return ze}IA(s,g),s.prototype.getRow=function(a,v){if(a<0||a>=this.getHeight())throw new xi("Requested row is outside the image: "+a);var I=this.getWidth();return(null==v||v.length<I)&&(v=new Uint8ClampedArray(I)),kr.arraycopy(this.luminances,(a+this.top)*this.dataWidth+this.left,v,0,I),v},s.prototype.getMatrix=function(){var a=this.getWidth(),v=this.getHeight();if(a===this.dataWidth&&v===this.dataHeight)return this.luminances;var I=a*v,F=new Uint8ClampedArray(I),se=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return kr.arraycopy(this.luminances,se,F,0,I),F;for(var ye=0;ye<v;ye++)kr.arraycopy(this.luminances,se,F,ye*a,a),se+=this.dataWidth;return F},s.prototype.isCropSupported=function(){return!0},s.prototype.crop=function(a,v,I,F){return new s(this.luminances,I,F,this.dataWidth,this.dataHeight,this.left+a,this.top+v)},s.prototype.invert=function(){return new os(this)}}($f);var Km=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Jc=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return Km(s,g),s.forName=function(a){return this.getCharacterSetECIByName(a)},s}(Ma),tw=function(){function g(){}return g.ISO_8859_1=Ma.ISO8859_1,g}(),GI=function(){function g(s,a,v){this.codewords=s,this.numcols=a,this.numrows=v,this.bits=new Uint8Array(a*v),ro.fill(this.bits,2)}return g.prototype.getNumrows=function(){return this.numrows},g.prototype.getNumcols=function(){return this.numcols},g.prototype.getBits=function(){return this.bits},g.prototype.getBit=function(s,a){return 1===this.bits[a*this.numcols+s]},g.prototype.setBit=function(s,a,v){this.bits[a*this.numcols+s]=v?1:0},g.prototype.noBit=function(s,a){return 2===this.bits[a*this.numcols+s]},g.prototype.place=function(){var s=0,a=4,v=0;do{a===this.numrows&&0===v&&this.corner1(s++),a===this.numrows-2&&0===v&&this.numcols%4!=0&&this.corner2(s++),a===this.numrows-2&&0===v&&this.numcols%8==4&&this.corner3(s++),a===this.numrows+4&&2===v&&this.numcols%8==0&&this.corner4(s++);do{a<this.numrows&&v>=0&&this.noBit(v,a)&&this.utah(a,v,s++),a-=2,v+=2}while(a>=0&&v<this.numcols);a++,v+=3;do{a>=0&&v<this.numcols&&this.noBit(v,a)&&this.utah(a,v,s++),a+=2,v-=2}while(a<this.numrows&&v>=0);a+=3,v++}while(a<this.numrows||v<this.numcols);this.noBit(this.numcols-1,this.numrows-1)&&(this.setBit(this.numcols-1,this.numrows-1,!0),this.setBit(this.numcols-2,this.numrows-2,!0))},g.prototype.module=function(s,a,v,I){s<0&&(s+=this.numrows,a+=4-(this.numrows+4)%8),a<0&&(a+=this.numcols,s+=4-(this.numcols+4)%8);var F=this.codewords.charCodeAt(v);this.setBit(a,s,0!=(F&=1<<8-I))},g.prototype.utah=function(s,a,v){this.module(s-2,a-2,v,1),this.module(s-2,a-1,v,2),this.module(s-1,a-2,v,3),this.module(s-1,a-1,v,4),this.module(s-1,a,v,5),this.module(s,a-2,v,6),this.module(s,a-1,v,7),this.module(s,a,v,8)},g.prototype.corner1=function(s){this.module(this.numrows-1,0,s,1),this.module(this.numrows-1,1,s,2),this.module(this.numrows-1,2,s,3),this.module(0,this.numcols-2,s,4),this.module(0,this.numcols-1,s,5),this.module(1,this.numcols-1,s,6),this.module(2,this.numcols-1,s,7),this.module(3,this.numcols-1,s,8)},g.prototype.corner2=function(s){this.module(this.numrows-3,0,s,1),this.module(this.numrows-2,0,s,2),this.module(this.numrows-1,0,s,3),this.module(0,this.numcols-4,s,4),this.module(0,this.numcols-3,s,5),this.module(0,this.numcols-2,s,6),this.module(0,this.numcols-1,s,7),this.module(1,this.numcols-1,s,8)},g.prototype.corner3=function(s){this.module(this.numrows-3,0,s,1),this.module(this.numrows-2,0,s,2),this.module(this.numrows-1,0,s,3),this.module(0,this.numcols-2,s,4),this.module(0,this.numcols-1,s,5),this.module(1,this.numcols-1,s,6),this.module(2,this.numcols-1,s,7),this.module(3,this.numcols-1,s,8)},g.prototype.corner4=function(s){this.module(this.numrows-1,0,s,1),this.module(this.numrows-1,this.numcols-1,s,2),this.module(0,this.numcols-3,s,3),this.module(0,this.numcols-2,s,4),this.module(0,this.numcols-1,s,5),this.module(1,this.numcols-3,s,6),this.module(1,this.numcols-2,s,7),this.module(1,this.numcols-1,s,8)},g}();var Vv,R0=[5,7,10,11,12,14,18,20,24,28,36,42,48,56,62,68],XI=[[228,48,15,111,62],[23,68,144,134,240,92,254],[28,24,185,166,223,248,116,255,110,61],[175,138,205,12,194,168,39,245,60,97,120],[41,153,158,91,61,42,142,213,97,178,100,242],[156,97,192,252,95,9,157,119,138,45,18,186,83,185],[83,195,100,39,188,75,66,61,241,213,109,129,94,254,225,48,90,188],[15,195,244,9,233,71,168,2,188,160,153,145,253,79,108,82,27,174,186,172],[52,190,88,205,109,39,176,21,155,197,251,223,155,21,5,172,254,124,12,181,184,96,50,193],[211,231,43,97,71,96,103,174,37,151,170,53,75,34,249,121,17,138,110,213,141,136,120,151,233,168,93,255],[245,127,242,218,130,250,162,181,102,120,84,179,220,251,80,182,229,18,2,4,68,33,101,137,95,119,115,44,175,184,59,25,225,98,81,112],[77,193,137,31,19,38,22,153,247,105,122,2,245,133,242,8,175,95,100,9,167,105,214,111,57,121,21,1,253,57,54,101,248,202,69,50,150,177,226,5,9,5],[245,132,172,223,96,32,117,22,238,133,238,231,205,188,237,87,191,106,16,147,118,23,37,90,170,205,131,88,120,100,66,138,186,240,82,44,176,87,187,147,160,175,69,213,92,253,225,19],[175,9,223,238,12,17,220,208,100,29,175,170,230,192,215,235,150,159,36,223,38,200,132,54,228,146,218,234,117,203,29,232,144,238,22,150,201,117,62,207,164,13,137,245,127,67,247,28,155,43,203,107,233,53,143,46],[242,93,169,50,144,210,39,118,202,188,201,189,143,108,196,37,185,112,134,230,245,63,197,190,250,106,185,221,175,64,114,71,161,44,147,6,27,218,51,63,87,10,40,130,188,17,163,31,176,170,4,107,232,7,94,166,224,124,86,47,11,204],[220,228,173,89,251,149,159,56,89,33,147,244,154,36,73,127,213,136,248,180,234,197,158,177,68,122,93,213,15,160,227,236,66,139,153,185,202,167,179,25,220,232,96,210,231,136,223,239,181,241,59,52,172,25,49,232,211,189,64,54,108,153,132,63,96,103,82,186]],O0=(Vv=function(g,s){for(var a=1,v=0;v<255;v++)s[v]=a,g[a]=v,(a*=2)>=256&&(a^=301);return{LOG:g,ALOG:s}}([],[])).LOG,nw=Vv.ALOG,bE="[)>\x1e05\x1d",aw="[)>\x1e06\x1d";const ZI=function(){function g(){}return g.encodeECC200=function(s,a){if(s.length!==a.getDataCapacity())throw new Error("The number of codewords does not match the selected symbol");var v=new Hi;v.append(s);var I=a.getInterleavedBlockCount();if(1===I){var F=this.createECCBlock(s,a.getErrorCodewords());v.append(F)}else{for(var se=[],ye=[],Re=0;Re<I;Re++)se[Re]=a.getDataLengthForInterleavedBlock(Re+1),ye[Re]=a.getErrorLengthForInterleavedBlock(Re+1);for(var ze=0;ze<I;ze++){for(var ut=new Hi,wt=ze;wt<a.getDataCapacity();wt+=I)ut.append(s.charAt(wt));F=this.createECCBlock(ut.toString(),ye[ze]);for(var jt=0,Kt=ze;Kt<ye[ze]*I;Kt+=I)v.setCharAt(a.getDataCapacity()+Kt,F.charAt(jt++))}}return v.toString()},g.createECCBlock=function(s,a){for(var v=-1,I=0;I<R0.length;I++)if(R0[I]===a){v=I;break}if(v<0)throw new Error("Illegal number of error correction codewords specified: "+a);var F=XI[v],se=[];for(I=0;I<a;I++)se[I]=0;for(I=0;I<s.length;I++){for(var ye=se[a-1]^s.charAt(I).charCodeAt(0),Re=a-1;Re>0;Re--)se[Re]=0!==ye&&0!==F[Re]?se[Re-1]^nw[(O0[ye]+O0[F[Re]])%255]:se[Re-1];se[0]=0!==ye&&0!==F[0]?nw[(O0[ye]+O0[F[0]])%255]:0}var ze=[];for(I=0;I<a;I++)ze[I]=se[a-I-1];return ze.map(function(ut){return String.fromCharCode(ut)}).join("")},g}();var BA=function(){function g(){}return g.prototype.getEncodingMode=function(){return 0},g.prototype.encode=function(s){if(Ps.determineConsecutiveDigitCount(s.getMessage(),s.pos)>=2)s.writeCodeword(this.encodeASCIIDigits(s.getMessage().charCodeAt(s.pos),s.getMessage().charCodeAt(s.pos+1))),s.pos+=2;else{var v=s.getCurrentChar(),I=Ps.lookAheadTest(s.getMessage(),s.pos,this.getEncodingMode());if(I!==this.getEncodingMode())switch(I){case 5:return s.writeCodeword(231),void s.signalEncoderChange(5);case 1:return s.writeCodeword(230),void s.signalEncoderChange(1);case 3:s.writeCodeword(238),s.signalEncoderChange(3);break;case 2:s.writeCodeword(239),s.signalEncoderChange(2);break;case 4:s.writeCodeword(240),s.signalEncoderChange(4);break;default:throw new Error("Illegal mode: "+I)}else Ps.isExtendedASCII(v)?(s.writeCodeword(235),s.writeCodeword(v-128+1),s.pos++):(s.writeCodeword(v+1),s.pos++)}},g.prototype.encodeASCIIDigits=function(s,a){if(Ps.isDigit(s)&&Ps.isDigit(a))return 10*(s-48)+(a-48)+130;throw new Error("not digits: "+s+a)},g}(),Jf=function(){function g(){}return g.prototype.getEncodingMode=function(){return 5},g.prototype.encode=function(s){var a=new Hi;for(a.append(0);s.hasMoreCharacters();){var v=s.getCurrentChar();if(a.append(v),s.pos++,Ps.lookAheadTest(s.getMessage(),s.pos,this.getEncodingMode())!==this.getEncodingMode()){s.signalEncoderChange(0);break}}var F=a.length()-1,ye=s.getCodewordCount()+F+1;s.updateSymbolInfo(ye);var Re=s.getSymbolInfo().getDataCapacity()-ye>0;if(s.hasMoreCharacters()||Re)if(F<=249)a.setCharAt(0,No.getCharAt(F));else{if(!(F<=1555))throw new Error("Message length not in valid ranges: "+F);a.setCharAt(0,No.getCharAt(Math.floor(F/250)+249)),a.insert(1,No.getCharAt(F%250))}var ze=0;for(v=a.length();ze<v;ze++)s.writeCodeword(this.randomize255State(a.charAt(ze).charCodeAt(0),s.getCodewordCount()+1))},g.prototype.randomize255State=function(s,a){var I=s+(149*a%255+1);return I<=255?I:I-256},g}(),zm=function(){function g(){}return g.prototype.getEncodingMode=function(){return 1},g.prototype.encodeMaximal=function(s){for(var a=new Hi,v=0,I=s.pos,F=0;s.hasMoreCharacters();){var se=s.getCurrentChar();s.pos++,v=this.encodeChar(se,a),a.length()%3==0&&(I=s.pos,F=a.length())}if(F!==a.length()){var ye=Math.floor(a.length()/3*2),Re=Math.floor(s.getCodewordCount()+ye+1);s.updateSymbolInfo(Re);var ze=s.getSymbolInfo().getDataCapacity()-Re,ut=Math.floor(a.length()%3);(2===ut&&2!==ze||1===ut&&(v>3||1!==ze))&&(s.pos=I)}a.length()>0&&s.writeCodeword(230),this.handleEOD(s,a)},g.prototype.encode=function(s){for(var a=new Hi;s.hasMoreCharacters();){var v=s.getCurrentChar();s.pos++;var I=this.encodeChar(v,a),F=2*Math.floor(a.length()/3),se=s.getCodewordCount()+F;s.updateSymbolInfo(se);var ye=s.getSymbolInfo().getDataCapacity()-se;if(!s.hasMoreCharacters()){var Re=new Hi;for(a.length()%3==2&&2!==ye&&(I=this.backtrackOneCharacter(s,a,Re,I));a.length()%3==1&&(I>3||1!==ye);)I=this.backtrackOneCharacter(s,a,Re,I);break}if(a.length()%3==0&&Ps.lookAheadTest(s.getMessage(),s.pos,this.getEncodingMode())!==this.getEncodingMode()){s.signalEncoderChange(0);break}}this.handleEOD(s,a)},g.prototype.backtrackOneCharacter=function(s,a,v,I){var F=a.length(),se=a.toString().substring(0,F-I);a.setLengthToZero(),a.append(se),s.pos--;var ye=s.getCurrentChar();return I=this.encodeChar(ye,v),s.resetSymbolInfo(),I},g.prototype.writeNextTriplet=function(s,a){s.writeCodewords(this.encodeToCodewords(a.toString()));var v=a.toString().substring(3);a.setLengthToZero(),a.append(v)},g.prototype.handleEOD=function(s,a){var v=Math.floor(a.length()/3*2),I=a.length()%3,F=s.getCodewordCount()+v;s.updateSymbolInfo(F);var se=s.getSymbolInfo().getDataCapacity()-F;if(2===I){for(a.append("\0");a.length()>=3;)this.writeNextTriplet(s,a);s.hasMoreCharacters()&&s.writeCodeword(254)}else if(1===se&&1===I){for(;a.length()>=3;)this.writeNextTriplet(s,a);s.hasMoreCharacters()&&s.writeCodeword(254),s.pos--}else{if(0!==I)throw new Error("Unexpected case. Please report!");for(;a.length()>=3;)this.writeNextTriplet(s,a);(se>0||s.hasMoreCharacters())&&s.writeCodeword(254)}s.signalEncoderChange(0)},g.prototype.encodeChar=function(s,a){return 32===s?(a.append(3),1):s>=48&&s<=57?(a.append(s-48+4),1):s>=65&&s<=90?(a.append(s-65+14),1):s<32?(a.append(0),a.append(s),2):s<=47?(a.append(1),a.append(s-33),2):s<=64?(a.append(1),a.append(s-58+15),2):s<=95?(a.append(1),a.append(s-91+22),2):s<=127?(a.append(2),a.append(s-96),2):(a.append("1\x1e"),2+this.encodeChar(s-128,a))},g.prototype.encodeToCodewords=function(s){var a=1600*s.charCodeAt(0)+40*s.charCodeAt(1)+s.charCodeAt(2)+1,v=a/256,I=a%256,F=new Hi;return F.append(v),F.append(I),F.toString()},g}(),_E=function(){function g(){}return g.prototype.getEncodingMode=function(){return 4},g.prototype.encode=function(s){for(var a=new Hi;s.hasMoreCharacters();){var v=s.getCurrentChar();if(this.encodeChar(v,a),s.pos++,a.length()>=4){s.writeCodewords(this.encodeToCodewords(a.toString()));var F=a.toString().substring(4);if(a.setLengthToZero(),a.append(F),Ps.lookAheadTest(s.getMessage(),s.pos,this.getEncodingMode())!==this.getEncodingMode()){s.signalEncoderChange(0);break}}}a.append(No.getCharAt(31)),this.handleEOD(s,a)},g.prototype.handleEOD=function(s,a){try{var v=a.length();if(0===v)return;if(1===v){s.updateSymbolInfo();var I=s.getSymbolInfo().getDataCapacity()-s.getCodewordCount(),F=s.getRemainingCharacters();if(F>I&&(s.updateSymbolInfo(s.getCodewordCount()+1),I=s.getSymbolInfo().getDataCapacity()-s.getCodewordCount()),F<=I&&I<=2)return}if(v>4)throw new Error("Count must not exceed 4");var se=v-1,ye=this.encodeToCodewords(a.toString()),ze=!s.hasMoreCharacters()&&se<=2;se<=2&&(s.updateSymbolInfo(s.getCodewordCount()+se),(I=s.getSymbolInfo().getDataCapacity()-s.getCodewordCount())>=3&&(ze=!1,s.updateSymbolInfo(s.getCodewordCount()+ye.length))),ze?(s.resetSymbolInfo(),s.pos-=se):s.writeCodewords(ye)}finally{s.signalEncoderChange(0)}},g.prototype.encodeChar=function(s,a){s>=32&&s<=63?a.append(s):s>=64&&s<=94?a.append(No.getCharAt(s-64)):Ps.illegalCharacter(No.getCharAt(s))},g.prototype.encodeToCodewords=function(s){var a=s.length;if(0===a)throw new Error("StringBuilder must not be empty");var ye=(s.charAt(0).charCodeAt(0)<<18)+((a>=2?s.charAt(1).charCodeAt(0):0)<<12)+((a>=3?s.charAt(2).charCodeAt(0):0)<<6)+(a>=4?s.charAt(3).charCodeAt(0):0),Re=ye>>16&255,ze=ye>>8&255,ut=255&ye,wt=new Hi;return wt.append(Re),a>=2&&wt.append(ze),a>=3&&wt.append(ut),wt.toString()},g}(),cw=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),po=function(){function g(s,a,v,I,F,se,ye,Re){void 0===ye&&(ye=0),void 0===Re&&(Re=0),this.rectangular=s,this.dataCapacity=a,this.errorCodewords=v,this.matrixWidth=I,this.matrixHeight=F,this.dataRegions=se,this.rsBlockData=ye,this.rsBlockError=Re}return g.lookup=function(s,a,v,I,F){var se,ye;void 0===a&&(a=0),void 0===v&&(v=null),void 0===I&&(I=null),void 0===F&&(F=!0);try{for(var Re=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(NA),ze=Re.next();!ze.done;ze=Re.next()){var ut=ze.value;if((1!==a||!ut.rectangular)&&(2!==a||ut.rectangular)&&(null==v||!(ut.getSymbolWidth()<v.getWidth()||ut.getSymbolHeight()<v.getHeight()))&&(null==I||!(ut.getSymbolWidth()>I.getWidth()||ut.getSymbolHeight()>I.getHeight()))&&s<=ut.dataCapacity)return ut}}catch(wt){se={error:wt}}finally{try{ze&&!ze.done&&(ye=Re.return)&&ye.call(Re)}finally{if(se)throw se.error}}if(F)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+s);return null},g.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},g.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},g.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},g.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},g.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+2*this.getHorizontalDataRegions()},g.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+2*this.getVerticalDataRegions()},g.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},g.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},g.prototype.getDataCapacity=function(){return this.dataCapacity},g.prototype.getErrorCodewords=function(){return this.errorCodewords},g.prototype.getDataLengthForInterleavedBlock=function(s){return this.rsBlockData},g.prototype.getErrorLengthForInterleavedBlock=function(s){return this.rsBlockError},g}();const xE=po;var lw=function(g){function s(){return g.call(this,!1,1558,620,22,22,36,-1,62)||this}return cw(s,g),s.prototype.getInterleavedBlockCount=function(){return 10},s.prototype.getDataLengthForInterleavedBlock=function(a){return a<=8?156:155},s}(po),NA=[new po(!1,3,5,8,8,1),new po(!1,5,7,10,10,1),new po(!0,5,7,16,6,1),new po(!1,8,10,12,12,1),new po(!0,10,11,14,6,2),new po(!1,12,12,14,14,1),new po(!0,16,14,24,10,1),new po(!1,18,14,16,16,1),new po(!1,22,18,18,18,1),new po(!0,22,18,16,10,2),new po(!1,30,20,20,20,1),new po(!0,32,24,16,14,2),new po(!1,36,24,22,22,1),new po(!1,44,28,24,24,1),new po(!0,49,28,22,14,2),new po(!1,62,36,14,14,4),new po(!1,86,42,16,16,4),new po(!1,114,48,18,18,4),new po(!1,144,56,20,20,4),new po(!1,174,68,22,22,4),new po(!1,204,84,24,24,4,102,42),new po(!1,280,112,14,14,16,140,56),new po(!1,368,144,16,16,16,92,36),new po(!1,456,192,18,18,16,114,48),new po(!1,576,224,20,20,16,144,56),new po(!1,696,272,22,22,16,174,68),new po(!1,816,336,24,24,16,136,56),new po(!1,1050,408,18,18,36,175,68),new po(!1,1304,496,20,20,36,163,62),new lw],LA=function(){function g(s){this.msg=s,this.pos=0,this.skipAtEnd=0;for(var a=s.split("").map(function(ye){return ye.charCodeAt(0)}),v=new Hi,I=0,F=a.length;I<F;I++){var se=String.fromCharCode(255&a[I]);if("?"===se&&"?"!==s.charAt(I))throw new Error("Message contains characters outside ISO-8859-1 encoding.");v.append(se)}this.msg=v.toString(),this.shape=0,this.codewords=new Hi,this.newEncoding=-1}return g.prototype.setSymbolShape=function(s){this.shape=s},g.prototype.setSizeConstraints=function(s,a){this.minSize=s,this.maxSize=a},g.prototype.getMessage=function(){return this.msg},g.prototype.setSkipAtEnd=function(s){this.skipAtEnd=s},g.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},g.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},g.prototype.getCodewords=function(){return this.codewords},g.prototype.writeCodewords=function(s){this.codewords.append(s)},g.prototype.writeCodeword=function(s){this.codewords.append(s)},g.prototype.getCodewordCount=function(){return this.codewords.length()},g.prototype.getNewEncoding=function(){return this.newEncoding},g.prototype.signalEncoderChange=function(s){this.newEncoding=s},g.prototype.resetEncoderSignal=function(){this.newEncoding=-1},g.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},g.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},g.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},g.prototype.getSymbolInfo=function(){return this.symbolInfo},g.prototype.updateSymbolInfo=function(s){void 0===s&&(s=this.getCodewordCount()),(null==this.symbolInfo||s>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=xE.lookup(s,this.shape,this.minSize,this.maxSize,!0))},g.prototype.resetSymbolInfo=function(){this.symbolInfo=null},g}(),dw=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),SE=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return dw(s,g),s.prototype.getEncodingMode=function(){return 3},s.prototype.encode=function(a){for(var v=new Hi;a.hasMoreCharacters();){var I=a.getCurrentChar();if(a.pos++,this.encodeChar(I,v),v.length()%3==0&&(this.writeNextTriplet(a,v),Ps.lookAheadTest(a.getMessage(),a.pos,this.getEncodingMode())!==this.getEncodingMode())){a.signalEncoderChange(0);break}}this.handleEOD(a,v)},s.prototype.encodeChar=function(a,v){switch(a){case 13:v.append(0);break;case 42:v.append(1);break;case 62:v.append(2);break;case 32:v.append(3);break;default:a>=48&&a<=57?v.append(a-48+4):a>=65&&a<=90?v.append(a-65+14):Ps.illegalCharacter(No.getCharAt(a))}return 1},s.prototype.handleEOD=function(a,v){a.updateSymbolInfo();var I=a.getSymbolInfo().getDataCapacity()-a.getCodewordCount(),F=v.length();a.pos-=F,(a.getRemainingCharacters()>1||I>1||a.getRemainingCharacters()!==I)&&a.writeCodeword(254),a.getNewEncoding()<0&&a.signalEncoderChange(0)},s}(zm),AE=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),uw=function(g){function s(){return null!==g&&g.apply(this,arguments)||this}return AE(s,g),s.prototype.getEncodingMode=function(){return 2},s.prototype.encodeChar=function(a,v){return 32===a?(v.append(3),1):a>=48&&a<=57?(v.append(a-48+4),1):a>=97&&a<=122?(v.append(a-97+14),1):a<32?(v.append(0),v.append(a),2):a<=47?(v.append(1),v.append(a-33),2):a<=64?(v.append(1),v.append(a-58+15),2):a>=91&&a<=95?(v.append(1),v.append(a-91+22),2):96===a?(v.append(2),v.append(0),2):a<=90?(v.append(2),v.append(a-65+1),2):a<=127?(v.append(2),v.append(a-123+27),2):(v.append("1\x1e"),2+this.encodeChar(a-128,v))},s}(zm);const Ps=function(){function g(){}return g.randomize253State=function(s){var v=149*s%253+1+129;return v<=254?v:v-254},g.encodeHighLevel=function(s,a,v,I,F){void 0===a&&(a=0),void 0===v&&(v=null),void 0===I&&(I=null),void 0===F&&(F=!1);var se=new zm,ye=[new BA,se,new uw,new SE,new _E,new Jf],Re=new LA(s);Re.setSymbolShape(a),Re.setSizeConstraints(v,I),s.startsWith(bE)&&s.endsWith("\x1e\x04")?(Re.writeCodeword(236),Re.setSkipAtEnd(2),Re.pos+=7):s.startsWith(aw)&&s.endsWith("\x1e\x04")&&(Re.writeCodeword(237),Re.setSkipAtEnd(2),Re.pos+=7);var ze=0;for(F&&(se.encodeMaximal(Re),ze=Re.getNewEncoding(),Re.resetEncoderSignal());Re.hasMoreCharacters();)ye[ze].encode(Re),Re.getNewEncoding()>=0&&(ze=Re.getNewEncoding(),Re.resetEncoderSignal());var ut=Re.getCodewordCount();Re.updateSymbolInfo();var wt=Re.getSymbolInfo().getDataCapacity();ut<wt&&0!==ze&&5!==ze&&4!==ze&&Re.writeCodeword("\xfe");var jt=Re.getCodewords();for(jt.length()<wt&&jt.append(129);jt.length()<wt;)jt.append(this.randomize253State(jt.length()+1));return Re.getCodewords().toString()},g.lookAheadTest=function(s,a,v){var I=this.lookAheadTestIntern(s,a,v);if(3===v&&3===I){for(var F=Math.min(a+3,s.length),se=a;se<F;se++)if(!this.isNativeX12(s.charCodeAt(se)))return 0}else if(4===v&&4===I)for(F=Math.min(a+4,s.length),se=a;se<F;se++)if(!this.isNativeEDIFACT(s.charCodeAt(se)))return 0;return I},g.lookAheadTestIntern=function(s,a,v){if(a>=s.length)return v;var I;0===v?I=[0,1,1,1,1,1.25]:(I=[1,2,2,2,2,2.25])[v]=0;for(var F=0,se=new Uint8Array(6),ye=[];;){if(a+F===s.length){ro.fill(se,0),ro.fill(ye,0);var Re=this.findMinimums(I,ye,zi.MAX_VALUE,se),ze=this.getMinimumCount(se);if(ye[0]===Re)return 0;if(1===ze){if(se[5]>0)return 5;if(se[4]>0)return 4;if(se[2]>0)return 2;if(se[3]>0)return 3}return 1}var ut=s.charCodeAt(a+F);if(F++,this.isDigit(ut)?I[0]+=.5:this.isExtendedASCII(ut)?(I[0]=Math.ceil(I[0]),I[0]+=2):(I[0]=Math.ceil(I[0]),I[0]++),this.isNativeC40(ut)?I[1]+=2/3:this.isExtendedASCII(ut)?I[1]+=8/3:I[1]+=4/3,this.isNativeText(ut)?I[2]+=2/3:this.isExtendedASCII(ut)?I[2]+=8/3:I[2]+=4/3,this.isNativeX12(ut)?I[3]+=2/3:this.isExtendedASCII(ut)?I[3]+=13/3:I[3]+=10/3,this.isNativeEDIFACT(ut)?I[4]+=3/4:this.isExtendedASCII(ut)?I[4]+=4.25:I[4]+=3.25,this.isSpecialB256(ut)?I[5]+=4:I[5]++,F>=4){if(ro.fill(se,0),ro.fill(ye,0),this.findMinimums(I,ye,zi.MAX_VALUE,se),ye[0]<this.min(ye[5],ye[1],ye[2],ye[3],ye[4]))return 0;if(ye[5]<ye[0]||ye[5]+1<this.min(ye[1],ye[2],ye[3],ye[4]))return 5;if(ye[4]+1<this.min(ye[5],ye[1],ye[2],ye[3],ye[0]))return 4;if(ye[2]+1<this.min(ye[5],ye[1],ye[4],ye[3],ye[0]))return 2;if(ye[3]+1<this.min(ye[5],ye[1],ye[4],ye[2],ye[0]))return 3;if(ye[1]+1<this.min(ye[0],ye[5],ye[4],ye[2])){if(ye[1]<ye[3])return 1;if(ye[1]===ye[3]){for(var wt=a+F+1;wt<s.length;){var jt=s.charCodeAt(wt);if(this.isX12TermSep(jt))return 3;if(!this.isNativeX12(jt))break;wt++}return 1}}}}},g.min=function(s,a,v,I,F){var se=Math.min(s,Math.min(a,Math.min(v,I)));return void 0===F?se:Math.min(se,F)},g.findMinimums=function(s,a,v,I){for(var F=0;F<6;F++){var se=a[F]=Math.ceil(s[F]);v>se&&(v=se,ro.fill(I,0)),v===se&&(I[F]=I[F]+1)}return v},g.getMinimumCount=function(s){for(var a=0,v=0;v<6;v++)a+=s[v];return a||0},g.isDigit=function(s){return s>=48&&s<=57},g.isExtendedASCII=function(s){return s>=128&&s<=255},g.isNativeC40=function(s){return 32===s||s>=48&&s<=57||s>=65&&s<=90},g.isNativeText=function(s){return 32===s||s>=48&&s<=57||s>=97&&s<=122},g.isNativeX12=function(s){return this.isX12TermSep(s)||32===s||s>=48&&s<=57||s>=65&&s<=90},g.isX12TermSep=function(s){return 13===s||42===s||62===s},g.isNativeEDIFACT=function(s){return s>=32&&s<=94},g.isSpecialB256=function(s){return!1},g.determineConsecutiveDigitCount=function(s,a){void 0===a&&(a=0);for(var v=s.length,I=a;I<v&&this.isDigit(s.charCodeAt(I));)I++;return I-a},g.illegalCharacter=function(s){var a=zi.toHexString(s.charCodeAt(0));throw a="0000".substring(0,4-a.length)+a,new Error("Illegal character: "+s+" (0x"+a+")")},g}();var zv=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},og=function(){function g(s){this.charset=s,this.name=s.name}return g.prototype.canEncode=function(s){try{return null!=ea.encode(s,this.charset)}catch{return!1}},g}(),Sf=function(){function g(s,a,v){var I,F,se,ye,Re,ze;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(Vo){return new og(Jc.forName(Vo))}),this.encoders=[];var ut=[];ut.push(new og(tw.ISO_8859_1));for(var wt=null!=a&&a.name.startsWith("UTF"),jt=0;jt<s.length;jt++){var Kt=!1;try{for(var _n=(I=void 0,zv(ut)),On=_n.next();!On.done;On=_n.next()){var nr=On.value,rr=s.charAt(jt);if(rr.charCodeAt(0)===v||nr.canEncode(rr)){Kt=!0;break}}}catch(Vo){I={error:Vo}}finally{try{On&&!On.done&&(F=_n.return)&&F.call(_n)}finally{if(I)throw I.error}}if(!Kt)try{for(var fr=(se=void 0,zv(this.ENCODERS)),Tr=fr.next();!Tr.done;Tr=fr.next())if((nr=Tr.value).canEncode(s.charAt(jt))){ut.push(nr),Kt=!0;break}}catch(Vo){se={error:Vo}}finally{try{Tr&&!Tr.done&&(ye=fr.return)&&ye.call(fr)}finally{if(se)throw se.error}}Kt||(wt=!0)}if(1!==ut.length||wt){this.encoders=[];var Zr=0;try{for(var ci=zv(ut),hi=ci.next();!hi.done;hi=ci.next())this.encoders[Zr++]=nr=hi.value}catch(Vo){Re={error:Vo}}finally{try{hi&&!hi.done&&(ze=ci.return)&&ze.call(ci)}finally{if(Re)throw Re.error}}}else this.encoders=[ut[0]];var Ti=-1;if(null!=a)for(jt=0;jt<this.encoders.length;jt++)if(null!=this.encoders[jt]&&a.name===this.encoders[jt].name){Ti=jt;break}this.priorityEncoderIndex=Ti}return g.prototype.length=function(){return this.encoders.length},g.prototype.getCharsetName=function(s){if(!(s<this.length()))throw new Error("index must be less than length");return this.encoders[s].name},g.prototype.getCharset=function(s){if(!(s<this.length()))throw new Error("index must be less than length");return this.encoders[s].charset},g.prototype.getECIValue=function(s){return this.encoders[s].charset.getValueIdentifier()},g.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},g.prototype.canEncode=function(s,a){if(!(a<this.length()))throw new Error("index must be less than length");return!0},g.prototype.encode=function(s,a){if(!(a<this.length()))throw new Error("index must be less than length");return ea.encode(No.getCharAt(s),this.encoders[a].name)},g}(),sg=function(){function g(s,a,v){this.fnc1=v;var I=new Sf(s,a,v);if(1===I.length())for(var F=0;F<this.bytes.length;F++){var se=s.charAt(F).charCodeAt(0);this.bytes[F]=se===v?1e3:se}else this.bytes=this.encodeMinimally(s,I,v)}return g.prototype.getFNC1Character=function(){return this.fnc1},g.prototype.length=function(){return this.bytes.length},g.prototype.haveNCharacters=function(s,a){if(s+a-1>=this.bytes.length)return!1;for(var v=0;v<a;v++)if(this.isECI(s+v))return!1;return!0},g.prototype.charAt=function(s){if(s<0||s>=this.length())throw new Error(""+s);if(this.isECI(s))throw new Error("value at "+s+" is not a character but an ECI");return this.isFNC1(s)?this.fnc1:this.bytes[s]},g.prototype.subSequence=function(s,a){if(s<0||s>a||a>this.length())throw new Error(""+s);for(var v=new Hi,I=s;I<a;I++){if(this.isECI(I))throw new Error("value at "+I+" is not a character but an ECI");v.append(this.charAt(I))}return v.toString()},g.prototype.isECI=function(s){if(s<0||s>=this.length())throw new Error(""+s);return this.bytes[s]>255&&this.bytes[s]<=999},g.prototype.isFNC1=function(s){if(s<0||s>=this.length())throw new Error(""+s);return 1e3===this.bytes[s]},g.prototype.getECIValue=function(s){if(s<0||s>=this.length())throw new Error(""+s);if(!this.isECI(s))throw new Error("value at "+s+" is not an ECI but a character");return this.bytes[s]-256},g.prototype.addEdge=function(s,a,v){(null==s[a][v.encoderIndex]||s[a][v.encoderIndex].cachedTotalSize>v.cachedTotalSize)&&(s[a][v.encoderIndex]=v)},g.prototype.addEdges=function(s,a,v,I,F,se){var ye=s.charAt(I).charCodeAt(0),Re=0,ze=a.length();a.getPriorityEncoderIndex()>=0&&(ye===se||a.canEncode(ye,a.getPriorityEncoderIndex()))&&(ze=(Re=a.getPriorityEncoderIndex())+1);for(var ut=Re;ut<ze;ut++)(ye===se||a.canEncode(ye,ut))&&this.addEdge(v,I+1,new UA(ye,a,ut,F,se))},g.prototype.encodeMinimally=function(s,a,v){var I=s.length,F=new(UA[I+1][a.length()]);this.addEdges(s,a,F,0,null,v);for(var se=1;se<=I;se++){for(var ye=0;ye<a.length();ye++)null!=F[se][ye]&&se<I&&this.addEdges(s,a,F,se,F[se][ye],v);for(ye=0;ye<a.length();ye++)F[se-1][ye]=null}var Re=-1,ze=zi.MAX_VALUE;for(ye=0;ye<a.length();ye++)if(null!=F[I][ye]){var ut=F[I][ye];ut.cachedTotalSize<ze&&(ze=ut.cachedTotalSize,Re=ye)}if(Re<0)throw new Error('Failed to encode "'+s+'"');for(var wt=[],jt=F[I][Re];null!=jt;){if(jt.isFNC1())wt.unshift(1e3);else{var Kt=a.encode(jt.c,jt.encoderIndex);for(se=Kt.length-1;se>=0;se--)wt.unshift(255&Kt[se])}(null===jt.previous?0:jt.previous.encoderIndex)!==jt.encoderIndex&&wt.unshift(256+a.getECIValue(jt.encoderIndex)),jt=jt.previous}var On=[];for(se=0;se<On.length;se++)On[se]=wt[se];return On},g}(),UA=function(){function g(s,a,v,I,F){this.c=s,this.encoderSet=a,this.encoderIndex=v,this.previous=I,this.fnc1=F,this.c=s===F?1e3:s;var se=this.isFNC1()?1:a.encode(s,v).length;(null===I?0:I.encoderIndex)!==v&&(se+=3),null!=I&&(se+=I.cachedTotalSize),this.cachedTotalSize=se}return g.prototype.isFNC1=function(){return 1e3===this.c},g}(),YI=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),Hm=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},fw=function(g,s){var a="function"==typeof Symbol&&g[Symbol.iterator];if(!a)return g;var I,se,v=a.call(g),F=[];try{for(;(void 0===s||s-- >0)&&!(I=v.next()).done;)F.push(I.value)}catch(ye){se={error:ye}}finally{try{I&&!I.done&&(a=v.return)&&a.call(v)}finally{if(se)throw se.error}}return F},_i=function(g){return g[g.ASCII=0]="ASCII",g[g.C40=1]="C40",g[g.TEXT=2]="TEXT",g[g.X12=3]="X12",g[g.EDF=4]="EDF",g[g.B256=5]="B256",g}(_i||{}),ag=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Al=function(){function g(){}return g.isExtendedASCII=function(s,a){return s!==a&&s>=128&&s<=255},g.isInC40Shift1Set=function(s){return s<=31},g.isInC40Shift2Set=function(s,a){var v,I;try{for(var F=Hm(ag),se=F.next();!se.done;se=F.next())if(se.value.charCodeAt(0)===s)return!0}catch(Re){v={error:Re}}finally{try{se&&!se.done&&(I=F.return)&&I.call(F)}finally{if(v)throw v.error}}return s===a},g.isInTextShift1Set=function(s){return this.isInC40Shift1Set(s)},g.isInTextShift2Set=function(s,a){return this.isInC40Shift2Set(s,a)},g.encodeHighLevel=function(s,a,v,I){void 0===a&&(a=null),void 0===v&&(v=-1),void 0===I&&(I=0);var F=0;return s.startsWith(bE)&&s.endsWith("\x1e\x04")?(F=5,s=s.substring(7,s.length-2)):s.startsWith(aw)&&s.endsWith("\x1e\x04")&&(F=6,s=s.substring(7,s.length-2)),decodeURIComponent(escape(String.fromCharCode.apply(String,function(){for(var g=[],s=0;s<arguments.length;s++)g=g.concat(fw(arguments[s]));return g}(this.encode(s,a,v,I,F)))))},g.encode=function(s,a,v,I,F){return this.encodeMinimally(new Gv(s,a,v,I,F)).getBytes()},g.addEdge=function(s,a){var v=a.fromPosition+a.characterLength;(null===s[v][a.getEndMode()]||s[v][a.getEndMode()].cachedTotalSize>a.cachedTotalSize)&&(s[v][a.getEndMode()]=a)},g.getNumberOfC40Words=function(s,a,v,I){for(var F=0,se=a;se<s.length();se++){if(s.isECI(se))return I[0]=0,0;var ye=s.charAt(se);if(v&&Ps.isNativeC40(ye)||!v&&Ps.isNativeText(ye))F++;else if(g.isExtendedASCII(ye,s.getFNC1Character())){var Re=255&ye;Re>=128&&(v&&Ps.isNativeC40(Re-128)||!v&&Ps.isNativeText(Re-128))?F+=3:F+=4}else F+=2;if(F%3==0||(F-2)%3==0&&se+1===s.length())return I[0]=se-a+1,Math.ceil(F/3)}return I[0]=0,0},g.addEdges=function(s,a,v,I){var F,se;if(s.isECI(v))this.addEdge(a,new Sa(s,_i.ASCII,v,1,I));else{var Kt,ye=s.charAt(v);if(null===I||I.getEndMode()!==_i.EDF){Ps.isDigit(ye)&&s.haveNCharacters(v,2)&&Ps.isDigit(s.charAt(v+1))?this.addEdge(a,new Sa(s,_i.ASCII,v,2,I)):this.addEdge(a,new Sa(s,_i.ASCII,v,1,I));var Re=[_i.C40,_i.TEXT];try{for(var ze=Hm(Re),ut=ze.next();!ut.done;ut=ze.next()){var wt=ut.value,jt=[];g.getNumberOfC40Words(s,v,wt===_i.C40,jt)>0&&this.addEdge(a,new Sa(s,wt,v,jt[0],I))}}catch(On){F={error:On}}finally{try{ut&&!ut.done&&(se=ze.return)&&se.call(ze)}finally{if(F)throw F.error}}s.haveNCharacters(v,3)&&Ps.isNativeX12(s.charAt(v))&&Ps.isNativeX12(s.charAt(v+1))&&Ps.isNativeX12(s.charAt(v+2))&&this.addEdge(a,new Sa(s,_i.X12,v,3,I)),this.addEdge(a,new Sa(s,_i.B256,v,1,I))}for(Kt=0;Kt<3;Kt++){var _n=v+Kt;if(!s.haveNCharacters(_n,1)||!Ps.isNativeEDIFACT(s.charAt(_n)))break;this.addEdge(a,new Sa(s,_i.EDF,v,Kt+1,I))}3===Kt&&s.haveNCharacters(v,4)&&Ps.isNativeEDIFACT(s.charAt(v+3))&&this.addEdge(a,new Sa(s,_i.EDF,v,4,I))}},g.encodeMinimally=function(s){var a=s.length(),v=Array(a+1).fill(null).map(function(){return Array(6).fill(0)});this.addEdges(s,v,0,null);for(var I=1;I<=a;I++){for(var F=0;F<6;F++)null!==v[I][F]&&I<a&&this.addEdges(s,v,I,v[I][F]);for(F=0;F<6;F++)v[I-1][F]=null}var se=-1,ye=zi.MAX_VALUE;for(F=0;F<6;F++)if(null!==v[a][F]){var Re=v[a][F],ze=F>=1&&F<=3?Re.cachedTotalSize+1:Re.cachedTotalSize;ze<ye&&(ye=ze,se=F)}if(se<0)throw new Error('Failed to encode "'+s+'"');return new Wv(v[a][se])},g}(),Wv=function(){function g(s){var a=s.input,v=0,I=[],F=[],se=[];(s.mode===_i.C40||s.mode===_i.TEXT||s.mode===_i.X12)&&s.getEndMode()!==_i.ASCII&&(v+=this.prepend(Sa.getBytes(254),I));for(var ye=s;null!==ye;)v+=this.prepend(ye.getDataBytes(),I),(null===ye.previous||ye.getPreviousStartMode()!==ye.getMode())&&(ye.getMode()===_i.B256&&(v<=249?(I.unshift(v),v++):(I.unshift(v%250),I.unshift(v/250+249),v+=2),F.push(I.length),se.push(v)),this.prepend(ye.getLatchBytes(),I),v=0),ye=ye.previous;5===a.getMacroId()?v+=this.prepend(Sa.getBytes(236),I):6===a.getMacroId()&&(v+=this.prepend(Sa.getBytes(237),I)),a.getFNC1Character()>0&&(v+=this.prepend(Sa.getBytes(232),I));for(var Re=0;Re<F.length;Re++)this.applyRandomPattern(I,I.length-F[Re],se[Re]);var ze=s.getMinSymbolSize(I.length);for(I.length<ze&&I.push(129);I.length<ze;)I.push(this.randomize253State(I.length+1));for(this.bytes=new Uint8Array(I.length),Re=0;Re<this.bytes.length;Re++)this.bytes[Re]=I[Re]}return g.prototype.prepend=function(s,a){for(var v=s.length-1;v>=0;v--)a.unshift(s[v]);return s.length},g.prototype.randomize253State=function(s){var v=149*s%253+1+129;return v<=254?v:v-254},g.prototype.applyRandomPattern=function(s,a,v){for(var I=0;I<v;I++){var F=a+I,Re=149*(F+1)%255+1+(255&s[F]);s[F]=Re<=255?Re:Re-256}},g.prototype.getBytes=function(){return this.bytes},g}(),Sa=function(){function g(s,a,v,I,F){if(this.input=s,this.mode=a,this.fromPosition=v,this.characterLength=I,this.previous=F,this.allCodewordCapacities=[3,5,8,10,12,16,18,22,30,32,36,44,49,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.squareCodewordCapacities=[3,5,8,12,18,22,30,36,44,62,86,114,144,174,204,280,368,456,576,696,816,1050,1304,1558],this.rectangularCodewordCapacities=[5,10,16,33,32,49],!(v+I<=s.length()))throw new Error("Invalid edge");var se=null!==F?F.cachedTotalSize:0,ye=this.getPreviousMode();switch(a){case _i.ASCII:se++,(s.isECI(v)||Al.isExtendedASCII(s.charAt(v),s.getFNC1Character()))&&se++,(ye===_i.C40||ye===_i.TEXT||ye===_i.X12)&&se++;break;case _i.B256:se++,(ye!==_i.B256||250===this.getB256Size())&&se++,ye===_i.ASCII?se++:(ye===_i.C40||ye===_i.TEXT||ye===_i.X12)&&(se+=2);break;case _i.C40:case _i.TEXT:case _i.X12:se+=a===_i.X12?2:2*Al.getNumberOfC40Words(s,v,a===_i.C40,[]),ye===_i.ASCII||ye===_i.B256?se++:ye!==a&&(ye===_i.C40||ye===_i.TEXT||ye===_i.X12)&&(se+=2);break;case _i.EDF:se+=3,ye===_i.ASCII||ye===_i.B256?se++:(ye===_i.C40||ye===_i.TEXT||ye===_i.X12)&&(se+=2)}this.cachedTotalSize=se}return g.prototype.getB256Size=function(){for(var s=0,a=this;null!==a&&a.mode===_i.B256&&s<=250;)s++,a=a.previous;return s},g.prototype.getPreviousStartMode=function(){return null===this.previous?_i.ASCII:this.previous.mode},g.prototype.getPreviousMode=function(){return null===this.previous?_i.ASCII:this.previous.getEndMode()},g.prototype.getEndMode=function(){if(this.mode===_i.EDF){if(this.characterLength<4)return _i.ASCII;if((s=this.getLastASCII())>0&&this.getCodewordsRemaining(this.cachedTotalSize+s)<=2-s)return _i.ASCII}if(this.mode===_i.C40||this.mode===_i.TEXT||this.mode===_i.X12){if(this.fromPosition+this.characterLength>=this.input.length()&&0===this.getCodewordsRemaining(this.cachedTotalSize))return _i.ASCII;var s;if(1===(s=this.getLastASCII())&&0===this.getCodewordsRemaining(this.cachedTotalSize+1))return _i.ASCII}return this.mode},g.prototype.getMode=function(){return this.mode},g.prototype.getLastASCII=function(){var s=this.input.length(),a=this.fromPosition+this.characterLength;return s-a>4||a>=s?0:s-a==1?Al.isExtendedASCII(this.input.charAt(a),this.input.getFNC1Character())?0:1:s-a==2?Al.isExtendedASCII(this.input.charAt(a),this.input.getFNC1Character())||Al.isExtendedASCII(this.input.charAt(a+1),this.input.getFNC1Character())?0:Ps.isDigit(this.input.charAt(a))&&Ps.isDigit(this.input.charAt(a+1))?1:2:s-a==3?Ps.isDigit(this.input.charAt(a))&&Ps.isDigit(this.input.charAt(a+1))&&!Al.isExtendedASCII(this.input.charAt(a+2),this.input.getFNC1Character())||Ps.isDigit(this.input.charAt(a+1))&&Ps.isDigit(this.input.charAt(a+2))&&!Al.isExtendedASCII(this.input.charAt(a),this.input.getFNC1Character())?2:0:Ps.isDigit(this.input.charAt(a))&&Ps.isDigit(this.input.charAt(a+1))&&Ps.isDigit(this.input.charAt(a+2))&&Ps.isDigit(this.input.charAt(a+3))?2:0},g.prototype.getMinSymbolSize=function(s){var a,v,I,F,se,ye;switch(this.input.getShapeHint()){case 1:try{for(var Re=Hm(this.squareCodewordCapacities),ze=Re.next();!ze.done;ze=Re.next())if((ut=ze.value)>=s)return ut}catch(On){a={error:On}}finally{try{ze&&!ze.done&&(v=Re.return)&&v.call(Re)}finally{if(a)throw a.error}}break;case 2:try{for(var wt=Hm(this.rectangularCodewordCapacities),jt=wt.next();!jt.done;jt=wt.next())if((ut=jt.value)>=s)return ut}catch(On){I={error:On}}finally{try{jt&&!jt.done&&(F=wt.return)&&F.call(wt)}finally{if(I)throw I.error}}}try{for(var Kt=Hm(this.allCodewordCapacities),_n=Kt.next();!_n.done;_n=Kt.next()){var ut;if((ut=_n.value)>=s)return ut}}catch(On){se={error:On}}finally{try{_n&&!_n.done&&(ye=Kt.return)&&ye.call(Kt)}finally{if(se)throw se.error}}return this.allCodewordCapacities[this.allCodewordCapacities.length-1]},g.prototype.getCodewordsRemaining=function(s){return this.getMinSymbolSize(s)-s},g.getBytes=function(s,a){var v=new Uint8Array(a?2:1);return v[0]=s,a&&(v[1]=a),v},g.prototype.setC40Word=function(s,a,v,I,F){var se=1600*(255&v)+40*(255&I)+(255&F)+1;s[a]=se/256,s[a+1]=se%256},g.prototype.getX12Value=function(s){return 13===s?0:42===s?1:62===s?2:32===s?3:s>=48&&s<=57?s-44:s>=65&&s<=90?s-51:s},g.prototype.getX12Words=function(){if(this.characterLength%3!=0)throw new Error("X12 words must be a multiple of 3");for(var s=new Uint8Array(this.characterLength/3*2),a=0;a<s.length;a+=2)this.setC40Word(s,a,this.getX12Value(this.input.charAt(this.fromPosition+a/2*3)),this.getX12Value(this.input.charAt(this.fromPosition+a/2*3+1)),this.getX12Value(this.input.charAt(this.fromPosition+a/2*3+2)));return s},g.prototype.getShiftValue=function(s,a,v){return a&&Al.isInC40Shift1Set(s)||!a&&Al.isInTextShift1Set(s)?0:a&&Al.isInC40Shift2Set(s,v)||!a&&Al.isInTextShift2Set(s,v)?1:2},g.prototype.getC40Value=function(s,a,v,I){if(v===I){if(2!==a)throw new Error("FNC1 cannot be used in C40 shift 2");return 27}return s?v<=31?v:32===v?3:v<=47?v-33:v<=57?v-44:v<=64?v-43:v<=90?v-51:v<=95?v-69:v<=127?v-96:v:0===v?0:0===a&&v<=3?v-1:1===a&&v<=31?v:32===v?3:v>=33&&v<=47?v-33:v>=48&&v<=57?v-44:v>=58&&v<=64?v-43:v>=65&&v<=90?v-64:v>=91&&v<=95?v-69:96===v?0:v>=97&&v<=122?v-83:v>=123&&v<=127?v-96:v},g.prototype.getC40Words=function(s,a){for(var v=[],I=0;I<this.characterLength;I++){var F=this.input.charAt(this.fromPosition+I);if(s&&Ps.isNativeC40(F)||!s&&Ps.isNativeText(F))v.push(this.getC40Value(s,0,F,a));else if(Al.isExtendedASCII(F,a)){var ye=(255&F)-128;if(s&&Ps.isNativeC40(ye)||!s&&Ps.isNativeText(ye))v.push(1),v.push(30),v.push(this.getC40Value(s,0,ye,a));else{v.push(1),v.push(30);var se=this.getShiftValue(ye,s,a);v.push(se),v.push(this.getC40Value(s,se,ye,a))}}else se=this.getShiftValue(F,s,a),v.push(se),v.push(this.getC40Value(s,se,F,a))}if(v.length%3!=0){if((v.length-2)%3!=0||this.fromPosition+this.characterLength!==this.input.length())throw new Error("C40 words must be a multiple of 3");v.push(0)}var Re=new Uint8Array(v.length/3*2),ze=0;for(I=0;I<v.length;I+=3)this.setC40Word(Re,ze,255&v[I],255&v[I+1],255&v[I+2]),ze+=2;return Re},g.prototype.getEDFBytes=function(){for(var s=Math.ceil(this.characterLength/4),a=new Uint8Array(3*s),v=this.fromPosition,I=Math.min(this.fromPosition+this.characterLength-1,this.input.length()-1),F=0;F<s;F+=3){for(var se=[],ye=0;ye<4;ye++)se[ye]=v<=I?63&this.input.charAt(v++):v===I+1?31:0;var Re=se[0]<<18;Re|=se[1]<<12,Re|=se[2]<<6,a[F]=(Re|=se[3])>>16&255,a[F+1]=Re>>8&255,a[F+2]=255&Re}return a},g.prototype.getLatchBytes=function(){switch(this.getPreviousMode()){case _i.ASCII:case _i.B256:switch(this.mode){case _i.B256:return g.getBytes(231);case _i.C40:return g.getBytes(230);case _i.TEXT:return g.getBytes(239);case _i.X12:return g.getBytes(238);case _i.EDF:return g.getBytes(240)}break;case _i.C40:case _i.TEXT:case _i.X12:if(this.mode!==this.getPreviousMode())switch(this.mode){case _i.ASCII:return g.getBytes(254);case _i.B256:return g.getBytes(254,231);case _i.C40:return g.getBytes(254,230);case _i.TEXT:return g.getBytes(254,239);case _i.X12:return g.getBytes(254,238);case _i.EDF:return g.getBytes(254,240)}break;case _i.EDF:if(this.mode!==_i.EDF)throw new Error("Cannot switch from EDF to "+this.mode)}return new Uint8Array(0)},g.prototype.getDataBytes=function(){switch(this.mode){case _i.ASCII:return this.input.isECI(this.fromPosition)?g.getBytes(241,this.input.getECIValue(this.fromPosition)+1):Al.isExtendedASCII(this.input.charAt(this.fromPosition),this.input.getFNC1Character())?g.getBytes(235,this.input.charAt(this.fromPosition)-127):2===this.characterLength?g.getBytes(10*this.input.charAt(this.fromPosition)+this.input.charAt(this.fromPosition+1)+130):this.input.isFNC1(this.fromPosition)?g.getBytes(232):g.getBytes(this.input.charAt(this.fromPosition)+1);case _i.B256:return g.getBytes(this.input.charAt(this.fromPosition));case _i.C40:return this.getC40Words(!0,this.input.getFNC1Character());case _i.TEXT:return this.getC40Words(!1,this.input.getFNC1Character());case _i.X12:return this.getX12Words();case _i.EDF:return this.getEDFBytes()}},g}(),Gv=function(g){function s(a,v,I,F,se){var ye=g.call(this,a,v,I)||this;return ye.shape=F,ye.macroId=se,ye}return YI(s,g),s.prototype.getMacroId=function(){return this.macroId},s.prototype.getShapeHint=function(){return this.shape},s}(sg);!function(){function g(){}g.prototype.encode=function(s,a,v,I,F){if(void 0===F&&(F=null),""===s.trim())throw new Error("Found empty contents");if(a!==Di.DATA_MATRIX)throw new Error("Can only encode DATA_MATRIX, but got "+a);if(v<0||I<0)throw new Error("Requested dimensions can't be negative: "+v+"x"+I);var jt,se=0,ye=null,Re=null;if(null!=F){var ze=F.get(ys.DATA_MATRIX_SHAPE);null!=ze&&(se=ze);var ut=F.get(ys.MIN_SIZE);null!=ut&&(ye=ut);var wt=F.get(ys.MAX_SIZE);null!=wt&&(Re=wt)}if(null!=F&&F.has(ys.DATA_MATRIX_COMPACT)&&F.get(ys.DATA_MATRIX_COMPACT).toString()){var _n=F.has(ys.GS1_FORMAT)&&!!F.get(ys.GS1_FORMAT).toString(),On=null;F.has(ys.CHARACTER_SET)&&(On=Jc.forName(F.get(ys.CHARACTER_SET).toString())),jt=Al.encodeHighLevel(s,On,_n?29:-1,se)}else{var rr=null!=F&&F.has(ys.FORCE_C40)&&!!F.get(ys.FORCE_C40).toString();jt=Ps.encodeHighLevel(s,se,ye,Re,rr)}var er=xE.lookup(jt.length,se,ye,Re,!0),fr=ZI.encodeECC200(jt,er),Tr=new GI(fr,er.getSymbolDataWidth(),er.getSymbolDataHeight());return Tr.place(),this.encodeLowLevel(Tr,er,v,I)},g.prototype.encodeLowLevel=function(s,a,v,I){for(var F=a.getSymbolDataWidth(),se=a.getSymbolDataHeight(),ye=new gi(a.getSymbolWidth(),a.getSymbolHeight()),Re=0,ze=0;ze<se;ze++){var ut=void 0;if(ze%a.matrixHeight==0){ut=0;for(var wt=0;wt<a.getSymbolWidth();wt++)ye.setBoolean(ut,Re,wt%2==0),ut++;Re++}for(ut=0,wt=0;wt<F;wt++)wt%a.matrixWidth==0&&(ye.setBoolean(ut,Re,!0),ut++),ye.setBoolean(ut,Re,s.getBit(wt,ze)),ut++,wt%a.matrixWidth==a.matrixWidth-1&&(ye.setBoolean(ut,Re,ze%2==0),ut++);if(Re++,ze%a.matrixHeight==a.matrixHeight-1){for(ut=0,wt=0;wt<a.getSymbolWidth();wt++)ye.setBoolean(ut,Re,!0),ut++;Re++}}return this.convertByteMatrixToBitMatrix(ye,v,I)},g.prototype.convertByteMatrixToBitMatrix=function(s,a,v){var wt,I=s.getWidth(),F=s.getHeight(),se=Math.max(a,I),ye=Math.max(v,F),Re=Math.min(se/I,ye/F),ze=(se-I*Re)/2,ut=(ye-F*Re)/2;v<F||a<I?(ze=0,ut=0,wt=new zt(I,F)):wt=new zt(a,v),wt.clear();for(var jt=0,Kt=ut;jt<F;jt++,Kt+=Re)for(var _n=0,On=ze;_n<I;_n++,On+=Re)1===s.get(_n,jt)&&wt.setRegion(On,Kt,Re,Re);return wt}}();const CE=function(){function g(){}return g.prototype.isCompact=function(){return this.compact},g.prototype.setCompact=function(s){this.compact=s},g.prototype.getSize=function(){return this.size},g.prototype.setSize=function(s){this.size=s},g.prototype.getLayers=function(){return this.layers},g.prototype.setLayers=function(s){this.layers=s},g.prototype.getCodeWords=function(){return this.codeWords},g.prototype.setCodeWords=function(s){this.codeWords=s},g.prototype.getMatrix=function(){return this.matrix},g.prototype.setMatrix=function(s){this.matrix=s},g}(),lg=function(){function g(){}return g.singletonList=function(s){return[s]},g.min=function(s,a){return s.sort(a)[0]},g}(),jA=function(){function g(s){this.previous=s}return g.prototype.getPrevious=function(){return this.previous},g}();var $A=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const Yv=function(g){function s(a,v,I){var F=g.call(this,a)||this;return F.value=v,F.bitCount=I,F}return $A(s,g),s.prototype.appendTo=function(a,v){a.appendBits(this.value,this.bitCount)},s.prototype.add=function(a,v){return new s(this,a,v)},s.prototype.addBinaryShift=function(a,v){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new s(this,a,v)},s.prototype.toString=function(){var a=this.value&(1<<this.bitCount)-1;return"<"+zi.toBinaryString((a|=1<<this.bitCount)|1<<this.bitCount).substring(1)+">"},s}(jA);var VA=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)I.hasOwnProperty(F)&&(v[F]=I[F])})(s,a)};return function(s,a){function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}();const bu=function(g){function s(a,v,I){var F=g.call(this,a,0,0)||this;return F.binaryShiftStart=v,F.binaryShiftByteCount=I,F}return VA(s,g),s.prototype.appendTo=function(a,v){for(var I=0;I<this.binaryShiftByteCount;I++)(0===I||31===I&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):a.appendBits(0===I?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),a.appendBits(v[this.binaryShiftStart+I],8)},s.prototype.addBinaryShift=function(a,v){return new s(this,a,v)},s.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},s}(Yv);function Xm(g,s,a){return new Yv(g,s,a)}var dg=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],pw=new Yv(null,0,0),Yu=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],Ws=function Ki(g){var s,a;try{for(var v=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(g),I=v.next();!I.done;I=v.next())ro.fill(I.value,-1)}catch(se){s={error:se}}finally{try{I&&!I.done&&(a=v.return)&&a.call(v)}finally{if(s)throw s.error}}return g[0][4]=0,g[1][4]=0,g[1][0]=28,g[3][4]=0,g[2][4]=0,g[2][0]=15,g}(ro.createInt32Array(6,6));const qv=function(){function g(s,a,v,I){this.token=s,this.mode=a,this.binaryShiftByteCount=v,this.bitCount=I}return g.prototype.getMode=function(){return this.mode},g.prototype.getToken=function(){return this.token},g.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},g.prototype.getBitCount=function(){return this.bitCount},g.prototype.latchAndAppend=function(s,a){var v=this.bitCount,I=this.token;if(s!==this.mode){var F=Yu[this.mode][s];I=Xm(I,65535&F,F>>16),v+=F>>16}var se=2===s?4:5;return new g(I=Xm(I,a,se),s,0,v+se)},g.prototype.shiftAndAppend=function(s,a){var v=this.token,I=2===this.mode?4:5;return v=Xm(v,Ws[this.mode][s],I),new g(v=Xm(v,a,5),this.mode,0,this.bitCount+I+5)},g.prototype.addBinaryShiftChar=function(s){var a=this.token,v=this.mode,I=this.bitCount;if(4===this.mode||2===this.mode){var F=Yu[v][0];a=Xm(a,65535&F,F>>16),I+=F>>16,v=0}var ye=new g(a,v,this.binaryShiftByteCount+1,I+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===ye.binaryShiftByteCount&&(ye=ye.endBinaryShift(s+1)),ye},g.prototype.endBinaryShift=function(s){if(0===this.binaryShiftByteCount)return this;var a=this.token;return a=function Gm(g,s,a){return new bu(g,s,a)}(a,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new g(a,this.mode,0,this.bitCount)},g.prototype.isBetterThanOrEqualTo=function(s){var a=this.bitCount+(Yu[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?a+=g.calculateBinaryShiftCost(s)-g.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(a+=10),a<=s.bitCount},g.prototype.toBitArray=function(s){for(var a,v,I=[],F=this.endBinaryShift(s.length).token;null!==F;F=F.getPrevious())I.unshift(F);var se=new Bo;try{for(var ye=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(I),Re=ye.next();!Re.done;Re=ye.next())Re.value.appendTo(se,s)}catch(ut){a={error:ut}}finally{try{Re&&!Re.done&&(v=ye.return)&&v.call(ye)}finally{if(a)throw a.error}}return se},g.prototype.toString=function(){return No.format("%s bits=%d bytes=%d",dg[this.mode],this.bitCount,this.binaryShiftByteCount)},g.calculateBinaryShiftCost=function(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0},g.INITIAL_STATE=new g(pw,0,0,0),g}();var mw=function Qv(g){var s=No.getCharCode(" "),a=No.getCharCode("."),v=No.getCharCode(",");g[0][s]=1;for(var I=No.getCharCode("Z"),F=No.getCharCode("A"),se=F;se<=I;se++)g[0][se]=se-F+2;g[1][s]=1;var ye=No.getCharCode("z"),Re=No.getCharCode("a");for(se=Re;se<=ye;se++)g[1][se]=se-Re+2;g[2][s]=1;var ze=No.getCharCode("9"),ut=No.getCharCode("0");for(se=ut;se<=ze;se++)g[2][se]=se-ut+2;g[2][v]=12,g[2][a]=13;for(var wt=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"],jt=0;jt<wt.length;jt++)g[3][No.getCharCode(wt[jt])]=jt;var Kt=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(jt=0;jt<Kt.length;jt++)No.getCharCode(Kt[jt])>0&&(g[4][No.getCharCode(Kt[jt])]=jt);return g}(ro.createInt32Array(5,256)),eb=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};const gw=function(){function g(s){this.text=s}return g.prototype.encode=function(){for(var s=No.getCharCode(" "),a=No.getCharCode("\n"),v=lg.singletonList(qv.INITIAL_STATE),I=0;I<this.text.length;I++){var F=void 0,se=I+1<this.text.length?this.text[I+1]:0;switch(this.text[I]){case No.getCharCode("\r"):F=se===a?2:0;break;case No.getCharCode("."):F=se===s?3:0;break;case No.getCharCode(","):F=se===s?4:0;break;case No.getCharCode(":"):F=se===s?5:0;break;default:F=0}F>0?(v=g.updateStateListForPair(v,I,F),I++):v=this.updateStateListForChar(v,I)}return lg.min(v,function(Re,ze){return Re.getBitCount()-ze.getBitCount()}).toBitArray(this.text)},g.prototype.updateStateListForChar=function(s,a){var v,I,F=[];try{for(var se=eb(s),ye=se.next();!ye.done;ye=se.next())this.updateStateForChar(ye.value,a,F)}catch(ze){v={error:ze}}finally{try{ye&&!ye.done&&(I=se.return)&&I.call(se)}finally{if(v)throw v.error}}return g.simplifyStates(F)},g.prototype.updateStateForChar=function(s,a,v){for(var I=255&this.text[a],F=mw[s.getMode()][I]>0,se=null,ye=0;ye<=4;ye++){var Re=mw[ye][I];if(Re>0){if(null==se&&(se=s.endBinaryShift(a)),!F||ye===s.getMode()||2===ye){var ze=se.latchAndAppend(ye,Re);v.push(ze)}if(!F&&Ws[s.getMode()][ye]>=0){var ut=se.shiftAndAppend(ye,Re);v.push(ut)}}}if(s.getBinaryShiftByteCount()>0||0===mw[s.getMode()][I]){var wt=s.addBinaryShiftChar(a);v.push(wt)}},g.updateStateListForPair=function(s,a,v){var I,F,se=[];try{for(var ye=eb(s),Re=ye.next();!Re.done;Re=ye.next())this.updateStateForPair(Re.value,a,v,se)}catch(ut){I={error:ut}}finally{try{Re&&!Re.done&&(F=ye.return)&&F.call(ye)}finally{if(I)throw I.error}}return this.simplifyStates(se)},g.updateStateForPair=function(s,a,v,I){var F=s.endBinaryShift(a);if(I.push(F.latchAndAppend(4,v)),4!==s.getMode()&&I.push(F.shiftAndAppend(4,v)),3===v||4===v){var se=F.latchAndAppend(2,16-v).latchAndAppend(2,1);I.push(se)}if(s.getBinaryShiftByteCount()>0){var ye=s.addBinaryShiftChar(a).addBinaryShiftChar(a+1);I.push(ye)}},g.simplifyStates=function(s){var a,v,I,F,se=[];try{for(var ye=eb(s),Re=ye.next();!Re.done;Re=ye.next()){var ze=Re.value,ut=!0,wt=function(nr){if(nr.isBetterThanOrEqualTo(ze))return ut=!1,"break";ze.isBetterThanOrEqualTo(nr)&&(se=se.filter(function(rr){return rr!==nr}))};try{for(var jt=(I=void 0,eb(se)),Kt=jt.next();!Kt.done&&"break"!==wt(Kt.value);Kt=jt.next());}catch(nr){I={error:nr}}finally{try{Kt&&!Kt.done&&(F=jt.return)&&F.call(jt)}finally{if(I)throw I.error}}ut&&se.push(ze)}}catch(nr){a={error:nr}}finally{try{Re&&!Re.done&&(v=ye.return)&&v.call(ye)}finally{if(a)throw a.error}}return se},g}(),Zm=function(){function g(){}return g.encodeBytes=function(s){return g.encode(s,g.DEFAULT_EC_PERCENT,g.DEFAULT_AZTEC_LAYERS)},g.encode=function(s,a,v){var ye,Re,ze,ut,wt,I=new gw(s).encode(),F=zi.truncDivision(I.getSize()*a,100)+11,se=I.getSize()+F;if(v!==g.DEFAULT_AZTEC_LAYERS){if(ye=v<0,(Re=Math.abs(v))>(ye?g.MAX_NB_BITS_COMPACT:g.MAX_NB_BITS))throw new xi(No.format("Illegal value %s for layers",v));var jt=(ze=g.totalBitsInLayer(Re,ye))-ze%(ut=g.WORD_SIZE[Re]);if((wt=g.stuffBits(I,ut)).getSize()+F>jt)throw new xi("Data to large for user specified layer");if(ye&&wt.getSize()>64*ut)throw new xi("Data to large for user specified layer")}else{ut=0,wt=null;for(var Kt=0;;Kt++){if(Kt>g.MAX_NB_BITS)throw new xi("Data too large for an Aztec code");if(!(se>(ze=g.totalBitsInLayer(Re=(ye=Kt<=3)?Kt+1:Kt,ye)))&&((null==wt||ut!==g.WORD_SIZE[Re])&&(wt=g.stuffBits(I,ut=g.WORD_SIZE[Re])),jt=ze-ze%ut,!(ye&&wt.getSize()>64*ut)&&wt.getSize()+F<=jt))break}}var fr,_n=g.generateCheckWords(wt,ze,ut),On=wt.getSize()/ut,nr=g.generateModeMessage(ye,Re,On),rr=(ye?11:14)+4*Re,er=new Int32Array(rr);if(ye)for(fr=rr,Kt=0;Kt<er.length;Kt++)er[Kt]=Kt;else{fr=rr+1+2*zi.truncDivision(zi.truncDivision(rr,2)-1,15);var Tr=zi.truncDivision(rr,2),Zr=zi.truncDivision(fr,2);for(Kt=0;Kt<Tr;Kt++){var ci=Kt+zi.truncDivision(Kt,15);er[Tr-Kt-1]=Zr-ci-1,er[Tr+Kt]=Zr+ci+1}}for(var hi=new zt(fr),Ti=(Kt=0,0);Kt<Re;Kt++){for(var Vo=4*(Re-Kt)+(ye?9:12),Do=0;Do<Vo;Do++)for(var Kc=2*Do,xs=0;xs<2;xs++)_n.get(Ti+Kc+xs)&&hi.set(er[2*Kt+xs],er[2*Kt+Do]),_n.get(Ti+2*Vo+Kc+xs)&&hi.set(er[2*Kt+Do],er[rr-1-2*Kt-xs]),_n.get(Ti+4*Vo+Kc+xs)&&hi.set(er[rr-1-2*Kt-xs],er[rr-1-2*Kt-Do]),_n.get(Ti+6*Vo+Kc+xs)&&hi.set(er[rr-1-2*Kt-Do],er[2*Kt+xs]);Ti+=8*Vo}if(g.drawModeMessage(hi,ye,fr,nr),ye)g.drawBullsEye(hi,zi.truncDivision(fr,2),5);else for(g.drawBullsEye(hi,zi.truncDivision(fr,2),7),Kt=0,Do=0;Kt<zi.truncDivision(rr,2)-1;Kt+=15,Do+=16)for(xs=1&zi.truncDivision(fr,2);xs<fr;xs+=2)hi.set(zi.truncDivision(fr,2)-Do,xs),hi.set(zi.truncDivision(fr,2)+Do,xs),hi.set(xs,zi.truncDivision(fr,2)-Do),hi.set(xs,zi.truncDivision(fr,2)+Do);var xc=new CE;return xc.setCompact(ye),xc.setSize(fr),xc.setLayers(Re),xc.setCodeWords(On),xc.setMatrix(hi),xc},g.drawBullsEye=function(s,a,v){for(var I=0;I<v;I+=2)for(var F=a-I;F<=a+I;F++)s.set(F,a-I),s.set(F,a+I),s.set(a-I,F),s.set(a+I,F);s.set(a-v,a-v),s.set(a-v+1,a-v),s.set(a-v,a-v+1),s.set(a+v,a-v),s.set(a+v,a-v+1),s.set(a+v,a+v-1)},g.generateModeMessage=function(s,a,v){var I=new Bo;return s?(I.appendBits(a-1,2),I.appendBits(v-1,6),I=g.generateCheckWords(I,28,4)):(I.appendBits(a-1,5),I.appendBits(v-1,11),I=g.generateCheckWords(I,40,4)),I},g.drawModeMessage=function(s,a,v,I){var F=zi.truncDivision(v,2);if(a)for(var se=0;se<7;se++){var ye=F-3+se;I.get(se)&&s.set(ye,F-5),I.get(se+7)&&s.set(F+5,ye),I.get(20-se)&&s.set(ye,F+5),I.get(27-se)&&s.set(F-5,ye)}else for(se=0;se<10;se++)ye=F-5+se+zi.truncDivision(se,5),I.get(se)&&s.set(ye,F-7),I.get(se+10)&&s.set(F+7,ye),I.get(29-se)&&s.set(ye,F+7),I.get(39-se)&&s.set(F-7,ye)},g.generateCheckWords=function(s,a,v){var I,F,se=s.getSize()/v,ye=new Nm(g.getGF(v)),Re=zi.truncDivision(a,v),ze=g.bitsToWords(s,v,Re);ye.encode(ze,Re-se);var ut=a%v,wt=new Bo;wt.appendBits(0,ut);try{for(var jt=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}(Array.from(ze)),Kt=jt.next();!Kt.done;Kt=jt.next())wt.appendBits(Kt.value,v)}catch(On){I={error:On}}finally{try{Kt&&!Kt.done&&(F=jt.return)&&F.call(jt)}finally{if(I)throw I.error}}return wt},g.bitsToWords=function(s,a,v){var F,se,I=new Int32Array(v);for(F=0,se=s.getSize()/a;F<se;F++){for(var ye=0,Re=0;Re<a;Re++)ye|=s.get(F*a+Re)?1<<a-Re-1:0;I[F]=ye}return I},g.getGF=function(s){switch(s){case 4:return sc.AZTEC_PARAM;case 6:return sc.AZTEC_DATA_6;case 8:return sc.AZTEC_DATA_8;case 10:return sc.AZTEC_DATA_10;case 12:return sc.AZTEC_DATA_12;default:throw new xi("Unsupported word size "+s)}},g.stuffBits=function(s,a){for(var v=new Bo,I=s.getSize(),F=(1<<a)-2,se=0;se<I;se+=a){for(var ye=0,Re=0;Re<a;Re++)(se+Re>=I||s.get(se+Re))&&(ye|=1<<a-1-Re);(ye&F)===F?(v.appendBits(ye&F,a),se--):ye&F?v.appendBits(ye,a):(v.appendBits(1|ye,a),se--)}return v},g.totalBitsInLayer=function(s,a){return((a?88:112)+16*s)*s},g.DEFAULT_EC_PERCENT=33,g.DEFAULT_AZTEC_LAYERS=0,g.MAX_NB_BITS=32,g.MAX_NB_BITS_COMPACT=4,g.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),g}();!function(){function g(){}g.prototype.encode=function(s,a,v,I){return this.encodeWithHints(s,a,v,I,null)},g.prototype.encodeWithHints=function(s,a,v,I,F){var se=tw.ISO_8859_1,ye=Zm.DEFAULT_EC_PERCENT,Re=Zm.DEFAULT_AZTEC_LAYERS;return null!=F&&(F.has(ys.CHARACTER_SET)&&(se=Jc.forName(F.get(ys.CHARACTER_SET).toString())),F.has(ys.ERROR_CORRECTION)&&(ye=zi.parseInt(F.get(ys.ERROR_CORRECTION).toString())),F.has(ys.AZTEC_LAYERS)&&(Re=zi.parseInt(F.get(ys.AZTEC_LAYERS).toString()))),g.encodeLayers(s,a,v,I,se,ye,Re)},g.encodeLayers=function(s,a,v,I,F,se,ye){if(a!==Di.AZTEC)throw new xi("Can only encode AZTEC, but got "+a);var Re=Zm.encode(No.getBytes(s,F),se,ye);return g.renderResult(Re,v,I)},g.renderResult=function(s,a,v){var I=s.getMatrix();if(null==I)throw new Zi;for(var F=I.getWidth(),se=I.getHeight(),ye=Math.max(a,F),Re=Math.max(v,se),ze=Math.min(ye/F,Re/se),ut=(ye-F*ze)/2,wt=(Re-se*ze)/2,jt=new zt(ye,Re),Kt=0,_n=wt;Kt<se;Kt++,_n+=ze)for(var On=0,nr=ut;On<F;On++,nr+=ze)I.get(On,Kt)&&jt.setRegion(nr,_n,ze,ze);return jt}}();var bw=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&(v[F]=I[F])})(s,a)};return function(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),nb=function(g){function s(a){var v=g.call(this,a.width,a.height)||this;return v.canvas=a,v.tempCanvasElement=null,v.buffer=s.makeBufferFromCanvasImageData(a),v}return bw(s,g),s.makeBufferFromCanvasImageData=function(a){var v;try{v=a.getContext("2d",{willReadFrequently:!0})}catch{v=a.getContext("2d")}if(!v)throw new Error("Couldn't get canvas context.");var I=v.getImageData(0,0,a.width,a.height);return s.toGrayscaleBuffer(I.data,a.width,a.height)},s.toGrayscaleBuffer=function(a,v,I){for(var F=new Uint8ClampedArray(v*I),se=0,ye=0,Re=a.length;se<Re;se+=4,ye++){F[ye]=0===a[se+3]?255:306*a[se]+601*a[se+1]+117*a[se+2]+512>>10}return F},s.prototype.getRow=function(a,v){if(a<0||a>=this.getHeight())throw new xi("Requested row is outside the image: "+a);var I=this.getWidth(),F=a*I;return null===v?v=this.buffer.slice(F,F+I):(v.length<I&&(v=new Uint8ClampedArray(I)),v.set(this.buffer.slice(F,F+I))),v},s.prototype.getMatrix=function(){return this.buffer},s.prototype.isCropSupported=function(){return!0},s.prototype.crop=function(a,v,I,F){return g.prototype.crop.call(this,a,v,I,F),this},s.prototype.isRotateSupported=function(){return!0},s.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},s.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},s.prototype.invert=function(){return new os(this)},s.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement},s.prototype.rotate=function(a){var v=this.getTempCanvasElement();if(!v)throw new Error("Could not create a Canvas element.");var I=a*s.DEGREE_TO_RADIANS,F=this.canvas.width,se=this.canvas.height,ye=Math.ceil(Math.abs(Math.cos(I))*F+Math.abs(Math.sin(I))*se),Re=Math.ceil(Math.abs(Math.sin(I))*F+Math.abs(Math.cos(I))*se);v.width=ye,v.height=Re;var ze=v.getContext("2d");if(!ze)throw new Error("Could not create a Canvas Context element.");return ze.translate(ye/2,Re/2),ze.rotate(I),ze.drawImage(this.canvas,F/-2,se/-2),this.buffer=s.makeBufferFromCanvasImageData(v),this},s.DEGREE_TO_RADIANS=Math.PI/180,s}($f);function Kp(){return typeof navigator<"u"}var k0=function(){return k0=Object.assign||function(g){for(var s,a=1,v=arguments.length;a<v;a++)for(var I in s=arguments[a])Object.prototype.hasOwnProperty.call(s,I)&&(g[I]=s[I]);return g},k0.apply(this,arguments)},qc=function(g,s,a,v){return new(a||(a=Promise))(function(F,se){function ye(ut){try{ze(v.next(ut))}catch(wt){se(wt)}}function Re(ut){try{ze(v.throw(ut))}catch(wt){se(wt)}}function ze(ut){ut.done?F(ut.value):function I(F){return F instanceof a?F:new a(function(se){se(F)})}(ut.value).then(ye,Re)}ze((v=v.apply(g,s||[])).next())})},Oc=function(g,s){var v,I,F,se,a={label:0,sent:function(){if(1&F[0])throw F[1];return F[1]},trys:[],ops:[]};return se={next:ye(0),throw:ye(1),return:ye(2)},"function"==typeof Symbol&&(se[Symbol.iterator]=function(){return this}),se;function ye(ze){return function(ut){return function Re(ze){if(v)throw new TypeError("Generator is already executing.");for(;a;)try{if(v=1,I&&(F=2&ze[0]?I.return:ze[0]?I.throw||((F=I.return)&&F.call(I),0):I.next)&&!(F=F.call(I,ze[1])).done)return F;switch(I=0,F&&(ze=[2&ze[0],F.value]),ze[0]){case 0:case 1:F=ze;break;case 4:return a.label++,{value:ze[1],done:!1};case 5:a.label++,I=ze[1],ze=[0];continue;case 7:ze=a.ops.pop(),a.trys.pop();continue;default:if(!(F=(F=a.trys).length>0&&F[F.length-1])&&(6===ze[0]||2===ze[0])){a=0;continue}if(3===ze[0]&&(!F||ze[1]>F[0]&&ze[1]<F[3])){a.label=ze[1];break}if(6===ze[0]&&a.label<F[1]){a.label=F[1],F=ze;break}if(F&&a.label<F[2]){a.label=F[2],a.ops.push(ze);break}F[2]&&a.ops.pop(),a.trys.pop();continue}ze=s.call(g,a)}catch(ut){ze=[6,ut],I=0}finally{v=F=0}if(5&ze[0])throw ze[1];return{value:ze[0]?ze[1]:void 0,done:!0}}([ze,ut])}}},ww=function(g){var s="function"==typeof Symbol&&Symbol.iterator,a=s&&g[s],v=0;if(a)return a.call(g);if(g&&"number"==typeof g.length)return{next:function(){return g&&v>=g.length&&(g=void 0),{value:g&&g[v++],done:!g}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},_w={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},ap=function(){function g(s,a,v){void 0===a&&(a=new Map),void 0===v&&(v={}),this.reader=s,this.hints=a,this.options=k0(k0({},_w),v)}return Object.defineProperty(g.prototype,"possibleFormats",{set:function(s){this.hints.set(wi.POSSIBLE_FORMATS,s)},enumerable:!1,configurable:!0}),g.addVideoSource=function(s,a){try{s.srcObject=a}catch{console.error("got interrupted by new loading request")}},g.mediaStreamSetTorch=function(s,a){return qc(this,void 0,void 0,function(){return Oc(this,function(v){switch(v.label){case 0:return[4,s.applyConstraints({advanced:[{fillLightMode:a?"flash":"off",torch:!!a}]})];case 1:return v.sent(),[2]}})})},g.mediaStreamIsTorchCompatible=function(s){var a,v,I=s.getVideoTracks();try{for(var F=ww(I),se=F.next();!se.done;se=F.next())if(g.mediaStreamIsTorchCompatibleTrack(se.value))return!0}catch(Re){a={error:Re}}finally{try{se&&!se.done&&(v=F.return)&&v.call(F)}finally{if(a)throw a.error}}return!1},g.mediaStreamIsTorchCompatibleTrack=function(s){try{return"torch"in s.getCapabilities()}catch(v){return console.error(v),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},g.isVideoPlaying=function(s){return s.currentTime>0&&!s.paused&&s.readyState>2},g.getMediaElement=function(s,a){var v=document.getElementById(s);if(!v)throw new Oi("element with id '".concat(s,"' not found"));if(v.nodeName.toLowerCase()!==a.toLowerCase())throw new Oi("element with id '".concat(s,"' must be an ").concat(a," element"));return v},g.createVideoElement=function(s){if(s instanceof HTMLVideoElement)return s;if("string"==typeof s)return g.getMediaElement(s,"video");if(!s&&typeof document<"u"){var a=document.createElement("video");return a.width=200,a.height=200,a}throw new Error("Couldn't get videoElement from videoSource!")},g.prepareImageElement=function(s){if(s instanceof HTMLImageElement)return s;if("string"==typeof s)return g.getMediaElement(s,"img");if(typeof s>"u"){var a=document.createElement("img");return a.width=200,a.height=200,a}throw new Error("Couldn't get imageElement from imageSource!")},g.prepareVideoElement=function(s){var a=g.createVideoElement(s);return a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a},g.isImageLoaded=function(s){return!(!s.complete||0===s.naturalWidth)},g.createBinaryBitmapFromCanvas=function(s){var a=new nb(s),v=new ja(a);return new qs(v)},g.drawImageOnCanvas=function(s,a){s.drawImage(a,0,0)},g.getMediaElementDimensions=function(s){if(s instanceof HTMLVideoElement)return{height:s.videoHeight,width:s.videoWidth};if(s instanceof HTMLImageElement)return{height:s.naturalHeight||s.height,width:s.naturalWidth||s.width};throw new Error("Couldn't find the Source's dimensions!")},g.createCaptureCanvas=function(s){if(!s)throw new Oi("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error('The page "Document" is undefined, make sure you\'re running in a browser.');var a=document.createElement("canvas"),v=g.getMediaElementDimensions(s),I=v.width,F=v.height;return a.style.width=I+"px",a.style.height=F+"px",a.width=I,a.height=F,a},g.tryPlayVideo=function(s){return qc(this,void 0,void 0,function(){var a;return Oc(this,function(v){switch(v.label){case 0:if(s?.ended)return console.error("Trying to play video that has ended."),[2,!1];if(g.isVideoPlaying(s))return console.warn("Trying to play video that is already playing."),[2,!0];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,s.play()];case 2:return v.sent(),[2,!0];case 3:return a=v.sent(),console.warn("It was not possible to play the video.",a),[2,!1];case 4:return[2]}})})},g.createCanvasFromMediaElement=function(s){var a=g.createCaptureCanvas(s),v=a.getContext("2d");if(!v)throw new Error("Couldn't find Canvas 2D Context.");return g.drawImageOnCanvas(v,s),a},g.createBinaryBitmapFromMediaElem=function(s){var a=g.createCanvasFromMediaElement(s);return g.createBinaryBitmapFromCanvas(a)},g.destroyImageElement=function(s){s.src="",s.removeAttribute("src"),s=void 0},g.listVideoInputDevices=function(){return qc(this,void 0,void 0,function(){var s,a,v,I,F,se,ye,Re,wt,jt;return Oc(this,function(Kt){switch(Kt.label){case 0:if(!Kp())throw new Error("Can't enumerate devices, navigator is not present.");if(!function WA(){return!(!function HA(){return Kp()&&!!navigator.mediaDevices}()||!navigator.mediaDevices.enumerateDevices)}())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:s=Kt.sent(),a=[];try{for(v=ww(s),I=v.next();!I.done;I=v.next())"videoinput"===(se="video"===(F=I.value).kind?"videoinput":F.kind)&&(ye=F.deviceId||F.id,Re=F.label||"Video device ".concat(a.length+1),a.push({deviceId:ye,label:Re,kind:se,groupId:F.groupId}))}catch(_n){wt={error:_n}}finally{try{I&&!I.done&&(jt=v.return)&&jt.call(v)}finally{if(wt)throw wt.error}}return[2,a]}})})},g.findDeviceById=function(s){return qc(this,void 0,void 0,function(){var a;return Oc(this,function(v){switch(v.label){case 0:return[4,g.listVideoInputDevices()];case 1:return(a=v.sent())?[2,a.find(function(I){return I.deviceId===s})]:[2]}})})},g.cleanVideoSource=function(s){if(s){try{s.srcObject=null}catch{s.src=""}s&&s.removeAttribute("src")}},g.releaseAllStreams=function(){0!==g.streamTracker.length&&g.streamTracker.forEach(function(s){s.getTracks().forEach(function(a){return a.stop()})}),g.streamTracker=[]},g.playVideoOnLoadAsync=function(s,a){return qc(this,void 0,void 0,function(){return Oc(this,function(I){switch(I.label){case 0:return[4,g.tryPlayVideo(s)];case 1:return I.sent()?[2,!0]:[2,new Promise(function(F,se){var ye=setTimeout(function(){g.isVideoPlaying(s)||(se(!1),s.removeEventListener("canplay",Re))},a),Re=function(){g.tryPlayVideo(s).then(function(ze){clearTimeout(ye),s.removeEventListener("canplay",Re),F(ze)})};s.addEventListener("canplay",Re)})]}})})},g.attachStreamToVideo=function(s,a,v){return void 0===v&&(v=5e3),qc(this,void 0,void 0,function(){var I;return Oc(this,function(F){switch(F.label){case 0:return I=g.prepareVideoElement(a),g.addVideoSource(I,s),[4,g.playVideoOnLoadAsync(I,v)];case 1:return F.sent(),[2,I]}})})},g._waitImageLoad=function(s){return new Promise(function(a,v){var F=setTimeout(function(){g.isImageLoaded(s)||(s.removeEventListener("load",se),v())},1e4),se=function(){clearTimeout(F),s.removeEventListener("load",se),a()};s.addEventListener("load",se)})},g.checkCallbackFnOrThrow=function(s){if(!s)throw new Oi("`callbackFn` is a required parameter, you cannot capture results without it.")},g.disposeMediaStream=function(s){s.getVideoTracks().forEach(function(a){return a.stop()}),s=void 0},g.prototype.decode=function(s){var a=g.createCanvasFromMediaElement(s);return this.decodeFromCanvas(a)},g.prototype.decodeBitmap=function(s){return this.reader.decode(s,this.hints)},g.prototype.decodeFromCanvas=function(s){var a=g.createBinaryBitmapFromCanvas(s);return this.decodeBitmap(a)},g.prototype.decodeFromImageElement=function(s){return qc(this,void 0,void 0,function(){var a;return Oc(this,function(v){switch(v.label){case 0:if(!s)throw new Oi("An image element must be provided.");return a=g.prepareImageElement(s),[4,this._decodeOnLoadImage(a)];case 1:return[2,v.sent()]}})})},g.prototype.decodeFromImageUrl=function(s){return qc(this,void 0,void 0,function(){var a;return Oc(this,function(v){switch(v.label){case 0:if(!s)throw new Oi("An URL must be provided.");(a=g.prepareImageElement()).src=s,v.label=1;case 1:return v.trys.push([1,,3,4]),[4,this.decodeFromImageElement(a)];case 2:return[2,v.sent()];case 3:return g.destroyImageElement(a),[7];case 4:return[2]}})})},g.prototype.decodeFromConstraints=function(s,a,v){return qc(this,void 0,void 0,function(){var I,F;return Oc(this,function(se){switch(se.label){case 0:return g.checkCallbackFnOrThrow(v),[4,this.getUserMedia(s)];case 1:I=se.sent(),se.label=2;case 2:return se.trys.push([2,4,,5]),[4,this.decodeFromStream(I,a,v)];case 3:return[2,se.sent()];case 4:throw F=se.sent(),g.disposeMediaStream(I),F;case 5:return[2]}})})},g.prototype.decodeFromStream=function(s,a,v){return qc(this,void 0,void 0,function(){var F,ye,Re,ze,wt,jt,Kt=this;return Oc(this,function(_n){switch(_n.label){case 0:return g.checkCallbackFnOrThrow(v),[4,g.attachStreamToVideo(s,a,this.options.tryPlayVideoTimeout)];case 1:return F=_n.sent(),ye=this.scan(F,v,function(){g.disposeMediaStream(s),g.cleanVideoSource(F)}),Re=s.getVideoTracks(),ze=k0(k0({},ye),{stop:function(){ye.stop()},streamVideoConstraintsApply:function(On,nr){return qc(this,void 0,void 0,function(){var rr,er,fr,Zr,ci,hi;return Oc(this,function(Ti){switch(Ti.label){case 0:rr=nr?Re.filter(nr):Re,Ti.label=1;case 1:Ti.trys.push([1,6,7,8]),er=ww(rr),fr=er.next(),Ti.label=2;case 2:return fr.done?[3,5]:[4,fr.value.applyConstraints(On)];case 3:Ti.sent(),Ti.label=4;case 4:return fr=er.next(),[3,2];case 5:return[3,8];case 6:return Zr=Ti.sent(),ci={error:Zr},[3,8];case 7:try{fr&&!fr.done&&(hi=er.return)&&hi.call(er)}finally{if(ci)throw ci.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(On){return Re.find(On).getConstraints()},streamVideoSettingsGet:function(On){return Re.find(On).getSettings()},streamVideoCapabilitiesGet:function(On){return Re.find(On).getCapabilities()}}),g.mediaStreamIsTorchCompatible(s)&&(wt=Re?.find(function(On){return g.mediaStreamIsTorchCompatibleTrack(On)}),ze.switchTorch=jt=function(On){return qc(Kt,void 0,void 0,function(){return Oc(this,function(nr){switch(nr.label){case 0:return[4,g.mediaStreamSetTorch(wt,On)];case 1:return nr.sent(),[2]}})})},ze.stop=function(){return qc(Kt,void 0,void 0,function(){return Oc(this,function(On){switch(On.label){case 0:return ye.stop(),[4,jt(!1)];case 1:return On.sent(),[2]}})})}),[2,ze]}})})},g.prototype.decodeFromVideoDevice=function(s,a,v){return qc(this,void 0,void 0,function(){return Oc(this,function(se){switch(se.label){case 0:return g.checkCallbackFnOrThrow(v),[4,this.decodeFromConstraints({video:s?{deviceId:{exact:s}}:{facingMode:"environment"}},a,v)];case 1:return[2,se.sent()]}})})},g.prototype.decodeFromVideoElement=function(s,a){return qc(this,void 0,void 0,function(){var v;return Oc(this,function(F){switch(F.label){case 0:if(g.checkCallbackFnOrThrow(a),!s)throw new Oi("A video element must be provided.");return v=g.prepareVideoElement(s),[4,g.playVideoOnLoadAsync(v,this.options.tryPlayVideoTimeout)];case 1:return F.sent(),[2,this.scan(v,a)]}})})},g.prototype.decodeFromVideoUrl=function(s,a){return qc(this,void 0,void 0,function(){var v,I;return Oc(this,function(ye){switch(ye.label){case 0:if(g.checkCallbackFnOrThrow(a),!s)throw new Oi("An URL must be provided.");return(v=g.prepareVideoElement()).src=s,I=function(){g.cleanVideoSource(v)},[4,g.playVideoOnLoadAsync(v,this.options.tryPlayVideoTimeout)];case 1:return ye.sent(),[2,this.scan(v,a,I)]}})})},g.prototype.decodeOnceFromConstraints=function(s,a){return qc(this,void 0,void 0,function(){var v;return Oc(this,function(I){switch(I.label){case 0:return[4,this.getUserMedia(s)];case 1:return v=I.sent(),[4,this.decodeOnceFromStream(v,a)];case 2:return[2,I.sent()]}})})},g.prototype.decodeOnceFromStream=function(s,a){return qc(this,void 0,void 0,function(){var v,I;return Oc(this,function(se){switch(se.label){case 0:return v=!!a,[4,g.attachStreamToVideo(s,a)];case 1:I=se.sent(),se.label=2;case 2:return se.trys.push([2,,4,5]),[4,this.scanOneResult(I)];case 3:return[2,se.sent()];case 4:return v||g.cleanVideoSource(I),[7];case 5:return[2]}})})},g.prototype.decodeOnceFromVideoDevice=function(s,a){return qc(this,void 0,void 0,function(){return Oc(this,function(F){switch(F.label){case 0:return[4,this.decodeOnceFromConstraints({video:s?{deviceId:{exact:s}}:{facingMode:"environment"}},a)];case 1:return[2,F.sent()]}})})},g.prototype.decodeOnceFromVideoElement=function(s){return qc(this,void 0,void 0,function(){var a;return Oc(this,function(I){switch(I.label){case 0:if(!s)throw new Oi("A video element must be provided.");return a=g.prepareVideoElement(s),[4,g.playVideoOnLoadAsync(a,this.options.tryPlayVideoTimeout)];case 1:return I.sent(),[4,this.scanOneResult(a)];case 2:return[2,I.sent()]}})})},g.prototype.decodeOnceFromVideoUrl=function(s){return qc(this,void 0,void 0,function(){var a,v;return Oc(this,function(I){switch(I.label){case 0:if(!s)throw new Oi("An URL must be provided.");(a=g.prepareVideoElement()).src=s,v=this.decodeOnceFromVideoElement(a),I.label=1;case 1:return I.trys.push([1,,3,4]),[4,v];case 2:return[2,I.sent()];case 3:return g.cleanVideoSource(a),[7];case 4:return[2]}})})},g.prototype.scanOneResult=function(s,a,v,I){var F=this;return void 0===a&&(a=!0),void 0===v&&(v=!0),void 0===I&&(I=!0),new Promise(function(se,ye){F.scan(s,function(Re,ze,ut){if(Re)return se(Re),void ut.stop();if(ze){if(ze instanceof Gt&&a||ze instanceof pa&&v||ze instanceof jr&&I)return;ut.stop(),ye(ze)}})})},g.prototype.scan=function(s,a,v){var I=this;g.checkCallbackFnOrThrow(a);var se,F=g.createCaptureCanvas(s);try{se=F.getContext("2d",{willReadFrequently:!0})}catch{se=F.getContext("2d")}if(!se)throw new Error("Couldn't create canvas for visual element scan.");var ze,ye=function(){se=void 0,F=void 0},Re=!1,wt={stop:function(){Re=!0,clearTimeout(ze),ye(),v&&v()}},jt=function(){if(!Re)try{g.drawImageOnCanvas(se,s);var Kt=I.decodeFromCanvas(F);a(Kt,void 0,wt),ze=setTimeout(jt,I.options.delayBetweenScanSuccess)}catch(rr){if(a(void 0,rr,wt),rr instanceof pa||rr instanceof jr||rr instanceof Gt)return void(ze=setTimeout(jt,I.options.delayBetweenScanAttempts));ye(),v&&v(rr)}};return jt(),wt},g.prototype._decodeOnLoadImage=function(s){return qc(this,void 0,void 0,function(){return Oc(this,function(v){switch(v.label){case 0:return g.isImageLoaded(s)?[3,2]:[4,g._waitImageLoad(s)];case 1:v.sent(),v.label=2;case 2:return[2,this.decode(s)]}})})},g.prototype.getUserMedia=function(s){return qc(this,void 0,void 0,function(){var a;return Oc(this,function(v){switch(v.label){case 0:return[4,navigator.mediaDevices.getUserMedia(s)];case 1:return a=v.sent(),g.streamTracker.push(a),[2,a]}})})},g.streamTracker=[],g}(),qI=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&(v[F]=I[F])})(s,a)};return function(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),Ew=(function(g){qI(function s(a,v){return g.call(this,new ol,a,v)||this},g)}(ap),function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&(v[F]=I[F])})(s,a)};return function(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}()),Vp=(function(g){Ew(function s(a,v){return g.call(this,new zu(a),a,v)||this},g)}(ap),function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&(v[F]=I[F])})(s,a)};return function(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}()),GA=(function(g){Vp(function s(a,v){return g.call(this,new Zy,a,v)||this},g)}(ap),function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&(v[F]=I[F])})(s,a)};return function(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}()),TE=function(g){function s(a,v){var I=this,F=new Bm;return F.setHints(a),(I=g.call(this,F,a,v)||this).reader=F,I}return GA(s,g),Object.defineProperty(s.prototype,"possibleFormats",{set:function(a){this.hints.set(wi.POSSIBLE_FORMATS,a),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),s.prototype.decodeBitmap=function(a){return this.reader.decodeWithState(a)},s.prototype.setHints=function(a){this.hints=a,this.reader.setHints(this.hints)},s}(ap),Sw=function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&(v[F]=I[F])})(s,a)};return function(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}(),XA=(function(g){Sw(function s(a,v){return g.call(this,new D0,a,v)||this},g)}(ap),function(){var g=function(s,a){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,I){v.__proto__=I}||function(v,I){for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&(v[F]=I[F])})(s,a)};return function(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function v(){this.constructor=s}g(s,a),s.prototype=null===a?Object.create(a):(v.prototype=a.prototype,new v)}}()),Ch=(function(g){XA(function s(a,v){return g.call(this,new Im,a,v)||this},g)}(ap),"http://www.w3.org/2000/svg"),YA=(function(){function g(s){if("string"==typeof s){var a=document.getElementById(s);if(!a)throw new Error("Could not find a Container element with '".concat(s,"'."));this.containerElement=a}else this.containerElement=s}g.prototype.write=function(s,a,v,I){if(0===s.length)throw new xi("Found empty contents");if(a<0||v<0)throw new xi("Requested dimensions are too small: "+a+"x"+v);var F=I&&void 0!==I.get(ys.MARGIN)?Number.parseInt(I.get(ys.MARGIN).toString(),10):g.QUIET_ZONE_SIZE,se=this.encode(I,s);return this.renderResult(se,a,v,F)},g.prototype.createSVGElement=function(s,a){var v=document.createElementNS(g.SVG_NS,"svg");return v.setAttributeNS(Ch,"width",a.toString()),v.setAttributeNS(Ch,"height",s.toString()),v},g.prototype.createSvgPathPlaceholderElement=function(s,a){var v=document.createElementNS(g.SVG_NS,"path");return v.setAttributeNS(Ch,"d","M0 0h".concat(s,"v").concat(a,"H0z")),v.setAttributeNS(Ch,"fill","none"),v},g.prototype.createSvgRectElement=function(s,a,v,I){var F=document.createElementNS(g.SVG_NS,"rect");return F.setAttributeNS(Ch,"x",s.toString()),F.setAttributeNS(Ch,"y",a.toString()),F.setAttributeNS(Ch,"height",v.toString()),F.setAttributeNS(Ch,"width",I.toString()),F.setAttributeNS(Ch,"fill","#000000"),F},g.prototype.encode=function(s,a){var v=Fp.L;if(s&&void 0!==s.get(ys.ERROR_CORRECTION)){var I=s.get(ys.ERROR_CORRECTION).toString();v=Fp.fromString(I)}return Um.encode(a,v,s)},g.prototype.renderResult=function(s,a,v,I){var F=s.getMatrix();if(null===F)throw new Zi;var se=F.getWidth(),ye=F.getHeight(),Re=se+2*I,ze=ye+2*I,ut=Math.max(a,Re),wt=Math.max(v,ze),jt=Math.min(Math.floor(ut/Re),Math.floor(wt/ze)),Kt=Math.floor((ut-se*jt)/2),_n=Math.floor((wt-ye*jt)/2),On=this.createSVGElement(ut,wt),nr=this.createSvgPathPlaceholderElement(a,v);On.appendChild(nr),this.containerElement.appendChild(On);for(var rr=0,er=_n;rr<ye;rr++,er+=jt)for(var fr=0,Tr=Kt;fr<se;fr++,Tr+=jt)if(1===F.get(fr,rr)){var Zr=this.createSvgRectElement(Tr,er,jt,jt);On.appendChild(Zr)}return On},g.QUIET_ZONE_SIZE=4,g.SVG_NS="http://www.w3.org/2000/svg"}(),"http://www.w3.org/2000/svg"),N0=(function(){function g(){}g.prototype.write=function(s,a,v,I){if(0===s.length)throw new xi("Found empty contents");if(a<0||v<0)throw new xi("Requested dimensions are too small: "+a+"x"+v);var F=Fp.L,se=g.QUIET_ZONE_SIZE;if(I){if(void 0!==I.get(ys.ERROR_CORRECTION)){var ye=I.get(ys.ERROR_CORRECTION).toString();F=Fp.fromString(ye)}void 0!==I.get(ys.MARGIN)&&(se=Number.parseInt(I.get(ys.MARGIN).toString(),10))}var Re=Um.encode(s,F,I);return this.renderResult(Re,a,v,se)},g.prototype.writeToDom=function(s,a,v,I,F){if("string"==typeof s){var se=document.querySelector(s);if(!se)throw new Error("Could no find the target HTML element.");s=se}var ye=this.write(a,v,I,F);s instanceof HTMLElement&&s.appendChild(ye)},g.prototype.renderResult=function(s,a,v,I){var F=s.getMatrix();if(null===F)throw new Zi;for(var se=F.getWidth(),ye=F.getHeight(),Re=se+2*I,ze=ye+2*I,ut=Math.max(a,Re),wt=Math.max(v,ze),jt=Math.min(Math.floor(ut/Re),Math.floor(wt/ze)),Kt=Math.floor((ut-se*jt)/2),_n=Math.floor((wt-ye*jt)/2),On=this.createSVGElement(ut,wt),nr=0,rr=_n;nr<ye;nr++,rr+=jt)for(var er=0,fr=Kt;er<se;er++,fr+=jt)if(1===F.get(er,nr)){var Tr=this.createSvgRectElement(fr,rr,jt,jt);On.appendChild(Tr)}return On},g.prototype.createSVGElement=function(s,a){var v=document.createElementNS(YA,"svg"),I=s.toString(),F=a.toString();return v.setAttribute("height",F),v.setAttribute("width",I),v.setAttribute("viewBox","0 0 "+I+" "+F),v},g.prototype.createSvgRectElement=function(s,a,v,I){var F=document.createElementNS(YA,"rect");return F.setAttribute("x",s.toString()),F.setAttribute("y",a.toString()),F.setAttribute("height",v.toString()),F.setAttribute("width",I.toString()),F.setAttribute("fill","#000000"),F},g.QUIET_ZONE_SIZE=4}(),A(84412));const rT=["preview"];class rb extends TE{getScannerControls(){if(!this.scannerControls)throw new Error("No scanning is running at the time.");return this.scannerControls}scanFromDeviceObservable(s,a){var v=this;return(0,Y.A)(function*(){const I=new N0.t({});let F;try{F=yield v.decodeFromVideoDevice(s,a,(se,ye)=>{if(!ye)return void I.next({result:se});const Re=ye.name;Re===Gt.name||Re===pa.name||Re===jr.name||ye.message.includes("No MultiFormat Readers were able to detect the code.")?I.next({error:ye}):(I.error(ye),v.scannerControls.stop(),v.scannerControls=void 0)}),v.scannerControls={...F,stop(){F.stop(),I.complete()}}}catch(se){I.error(se),v.scannerControls?.stop(),v.scannerControls=void 0}return I.asObservable()})()}}let DE=(()=>{class g{get codeReader(){return this._codeReader}set device(a){this._ready?this.isAutostarting?console.warn("Avoid setting a device during auto-start."):this.isCurrentDevice(a)?console.warn("Setting the same device is not allowed."):this.hasPermission?this.setDevice(a):console.warn("Permissions not set yet, waiting for them to be set to apply device change."):this._devicePreStart=a}get device(){return this._device}get formats(){return this.hints.get(wi.POSSIBLE_FORMATS)}set formats(a){if("string"==typeof a)throw new Error("Invalid formats, make sure the [formats] input is a binding.");const v=a.map(F=>this.getBarcodeFormatOrFail(F)),I=this.hints;I.set(wi.POSSIBLE_FORMATS,v),this.hints=I}get hints(){return this._hints}set hints(a){this._hints=a,this.codeReader?.setHints(this._hints)}set videoConstraints(a){const v=this.codeReader?.getScannerControls();v&&v?.streamVideoConstraintsApply(a)}set isAutostarting(a){this._isAutostarting=a,this.autostarting.next(a)}get isAutostarting(){return this._isAutostarting}set torch(a){try{this.getCodeReader().getScannerControls().switchTorch(a)}catch{}}set enable(a){this._enabled!==!!a&&(this._enabled=!!a,this._enabled?this.device?this.scanFromDevice(this.device.deviceId):this.init():(this.reset(),rb.releaseAllStreams()))}get enabled(){return this._enabled}get tryHarder(){return this.hints.get(wi.TRY_HARDER)}set tryHarder(a){const v=this.hints;a?v.set(wi.TRY_HARDER,!0):v.delete(wi.TRY_HARDER),this.hints=v}constructor(){this.timeBetweenScans=500,this.delayBetweenScanSuccess=500,this.previewFitMode="cover",this.poster="",this._ready=!1,this.autostarted=new x.bkB,this.autostarting=new x.bkB,this.torchCompatible=new x.bkB(!1),this.scanSuccess=new x.bkB,this.scanFailure=new x.bkB,this.scanError=new x.bkB,this.scanComplete=new x.bkB,this.camerasFound=new x.bkB,this.camerasNotFound=new x.bkB,this.permissionResponse=new x.bkB(!0),this.hasDevices=new x.bkB,this.deviceChange=new x.bkB,this._enabled=!0,this._hints=new Map,this.autofocusEnabled=!0,this.autostart=!0,this.formats=[Di.QR_CODE],this.hasNavigator=typeof navigator<"u",this.isMediaDevicesSupported=this.hasNavigator&&!!navigator.mediaDevices}askForPermission(){var a=this;return(0,Y.A)(function*(){if(!a.hasNavigator)return console.error("@zxing/ngx-scanner","Can't ask permission, navigator is not present."),a.setPermission(null),a.hasPermission;if(!a.isMediaDevicesSupported)return console.error("@zxing/ngx-scanner","Can't get user media, this is not supported."),a.setPermission(null),a.hasPermission;let v,I;try{v=yield a.getAnyVideoDevice(),I=!!v}catch(F){return a.handlePermissionException(F)}finally{a.terminateStream(v)}return a.setPermission(I),I})()}getAnyVideoDevice(){return navigator.mediaDevices.getUserMedia({video:!0})}terminateStream(a){a&&a.getTracks().forEach(v=>v.stop()),a=void 0}init(){var a=this;return(0,Y.A)(function*(){if(!a.autostart)return console.warn("Feature 'autostart' disabled. Permissions and devices recovery has to be run manually."),a.initAutostartOff(),void(a._ready=!0);yield a.initAutostartOn(),a._ready=!0})()}initAutostartOff(){this.isAutostarting=!1,this.updateVideoInputDevices(),this._device&&this._devicePreStart&&this.setDevice(this._devicePreStart)}initAutostartOn(){var a=this;return(0,Y.A)(function*(){let v;a.isAutostarting=!0;try{v=yield a.askForPermission()}catch(I){return void console.error("Exception occurred while asking for permission:",I)}if(v){const I=yield a.updateVideoInputDevices();yield a.autostartScanner([...I])}a.isAutostarting=!1,a.autostarted.next()})()}isCurrentDevice(a){return a?.deviceId===this._device?.deviceId}ngOnDestroy(){this.reset(),ap.cleanVideoSource(this.previewElemRef.nativeElement),rb.releaseAllStreams()}ngOnInit(){this.init()}scanStop(){this._scanSubscription&&(this.codeReader?.getScannerControls().stop(),this._scanSubscription?.unsubscribe(),this._scanSubscription=void 0)}scanStart(){if(this._scanSubscription)throw new Error("There is already a scan process running.");if(!this._device)throw new Error("No device defined, cannot start scan, please define a device.");this.scanFromDevice(this._device.deviceId)}restart(){this._codeReader=void 0;const a=this._reset();a&&(this.device=a)}updateVideoInputDevices(){var a=this;return(0,Y.A)(function*(){const v=(yield ap.listVideoInputDevices())||[],I=v&&v.length>0;return a.hasDevices.next(I),a.camerasFound.next([...v]),I||a.camerasNotFound.next(null),v})()}autostartScanner(a){var v=this;return(0,Y.A)(function*(){const F=a.find(({label:se})=>/back|tr\xe1s|rear|traseira|environment|ambiente/gi.test(se))||a.pop();if(!F)throw new Error("Impossible to autostart, no input devices available.");yield v.setDevice(F),v.deviceChange.next(F)})()}dispatchScanSuccess(a){this.scanSuccess.next(a.getText())}dispatchScanFailure(a){this.scanFailure.next(a)}dispatchScanError(a){this.scanError.observed||(console.error(`zxing scanner component: ${a.name}`,a),console.warn("Use the `(scanError)` property to handle errors like this!")),this.scanError.next(a)}dispatchScanComplete(a){this.scanComplete.next(a)}handlePermissionException(a){let v;switch(console.error("@zxing/ngx-scanner","Error when asking for permission.",a),a.name){case"NotSupportedError":console.warn("@zxing/ngx-scanner",a.message),v=null,this.hasDevices.next(null);break;case"NotAllowedError":console.warn("@zxing/ngx-scanner",a.message),v=!1,this.hasDevices.next(!0);break;case"NotFoundError":console.warn("@zxing/ngx-scanner",a.message),v=null,this.hasDevices.next(!1),this.camerasNotFound.next(a);break;case"NotReadableError":console.warn("@zxing/ngx-scanner","Couldn't read the device(s)'s stream, it's probably in use by another app."),v=null,this.hasDevices.next(!1),this.camerasNotFound.next(a);break;default:console.warn("@zxing/ngx-scanner","I was not able to define if I have permissions for camera or not.",a),v=null}return this.setPermission(v),this.permissionResponse.error(a),v}getBarcodeFormatOrFail(a){return"string"==typeof a?Di[a.trim().toUpperCase()]:a}getCodeReader(){return this._codeReader||(this._codeReader=new rb(this.hints,{delayBetweenScanAttempts:this.timeBetweenScans,delayBetweenScanSuccess:this.delayBetweenScanSuccess})),this._codeReader}scanFromDevice(a){var v=this;return(0,Y.A)(function*(){const I=v.previewElemRef.nativeElement,F=v.getCodeReader(),se=yield F.scanFromDeviceObservable(a,I);if(!se)throw new Error("Undefined decoding stream, aborting.");if(v._scanSubscription=se.subscribe(jt=>v._onDecodeResult(jt.result,jt.error),jt=>v._onDecodeError(jt),()=>{}),v._scanSubscription.closed)return;const wt=typeof F.getScannerControls().switchTorch<"u";v.torchCompatible.next(wt)})()}_onDecodeError(a){this.dispatchScanError(a)}_onDecodeResult(a,v){a?this.dispatchScanSuccess(a):this.dispatchScanFailure(v),this.dispatchScanComplete(a)}_reset(){if(!this._codeReader)return;this.scanStop();try{ap.cleanVideoSource(this.previewElemRef.nativeElement)}catch{}try{ap.releaseAllStreams()}catch{}this._codeReader=void 0;const a=this._device;return this.device=void 0,a}reset(){this._reset(),this.deviceChange.emit(null)}setDevice(a){var v=this;return(0,Y.A)(function*(){v.scanStop(),v._device=a||void 0,v._device||ap.cleanVideoSource(v.previewElemRef.nativeElement),v._enabled&&a&&(yield v.scanFromDevice(a.deviceId))})()}setPermission(a){this.hasPermission=a,this.permissionResponse.next(a)}static#e=this.\u0275fac=function(v){return new(v||g)};static#t=this.\u0275cmp=x.VBU({type:g,selectors:[["zxing-scanner"]],viewQuery:function(v,I){if(1&v&&x.GBs(rT,7),2&v){let F;x.mGM(F=x.lsd())&&(I.previewElemRef=F.first)}},inputs:{autofocusEnabled:"autofocusEnabled",timeBetweenScans:"timeBetweenScans",delayBetweenScanSuccess:"delayBetweenScanSuccess",autostart:"autostart",previewFitMode:"previewFitMode",poster:"poster",device:"device",formats:"formats",videoConstraints:"videoConstraints",torch:"torch",enable:"enable",tryHarder:"tryHarder"},outputs:{autostarted:"autostarted",autostarting:"autostarting",torchCompatible:"torchCompatible",scanSuccess:"scanSuccess",scanFailure:"scanFailure",scanError:"scanError",scanComplete:"scanComplete",camerasFound:"camerasFound",camerasNotFound:"camerasNotFound",permissionResponse:"permissionResponse",hasDevices:"hasDevices",deviceChange:"deviceChange"},decls:6,vars:3,consts:[["preview",""],[3,"poster"]],template:function(v,I){1&v&&(x.j41(0,"video",1,0)(2,"p"),x.EFF(3," Your browser does not support this feature, please try to upgrade it. "),x.k0s(),x.j41(4,"p"),x.EFF(5," Seu navegador n\xe3o suporta este recurso, por favor tente atualiz\xe1-lo. "),x.k0s()()),2&v&&(x.xc7("object-fit",I.previewFitMode),x.Y8G("poster",I.poster,x.B4B))},styles:["[_nghost-%COMP%]{display:block}video[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:contain}"],changeDetection:0})}return g})(),Ym=(()=>{class g{static#e=this.\u0275fac=function(v){return new(v||g)};static#t=this.\u0275mod=x.$C({type:g});static#n=this.\u0275inj=x.G2t({imports:[H.MD,V.YN]})}return g})(),Aw=(()=>{class g{constructor(a,v){this.data=a,this.dialogRef=v}ngAfterViewInit(){}scanSuccessHandler(a){console.log("Scan success:",a),this.dialogRef.close(a)}scanErrorHandler(a){console.log("Scan success:",a)}scanFailureHandler(a){console.log("Scan success:",a)}scanCompleteHandler(a){console.log("Scan success:",a)}static#e=this.\u0275fac=function(v){return new(v||g)(x.rXU(ee.Vh),x.rXU(ee.CP))};static#t=this.\u0275cmp=x.VBU({type:g,selectors:[["app-qrcode-scan-dialog"]],standalone:!0,features:[x.aNF],decls:9,vars:1,consts:[["mat-dialog-title",""],[1,"qr-scanner",3,"scanSuccess","scanError","scanFailure","scanComplete"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","type","submit","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(v,I){1&v&&(x.j41(0,"h2",0),x.EFF(1,"Scan QR Code"),x.k0s(),x.j41(2,"mat-dialog-content")(3,"zxing-scanner",1),x.bIt("scanSuccess",function(se){return I.scanSuccessHandler(se)})("scanError",function(se){return I.scanErrorHandler(se)})("scanFailure",function(se){return I.scanFailureHandler(se)})("scanComplete",function(se){return I.scanCompleteHandler(se)}),x.k0s()(),x.j41(4,"mat-dialog-actions")(5,"button",2),x.EFF(6,"Cancel"),x.k0s(),x.j41(7,"button",3),x.EFF(8,"Ok"),x.k0s()()),2&v&&(x.R7$(7),x.Y8G("mat-dialog-close",!0))},dependencies:[Ym,DE,ee.hM,ee.tx,ee.BI,ee.E7,ee.Yi,P.Hl,P.$z],styles:["[_nghost-%COMP%]{width:100vw;height:100vh}[_nghost-%COMP%]   zxing-scanner[_ngcontent-%COMP%] {object-fit:contain}"]})}return g})();var RE=A(71997);const ib=["*"],Cw=g=>({"sidenav-collapsed":g}),_u=()=>["/settings"],OE=g=>["/profile",g],ob=()=>["/settings","help"],Jm=()=>["/accounts"],fg=()=>["/account","did:dht:umj7apgmkodtrb7mdpjo4h7xinqdnatzgy38j7wi67k9c7sdns1o"],iT=()=>["/account/create"],Mw=(g,s)=>({"sidenav-content":g,"sidenav-content-marginless":s});function qm(g,s){1&g&&x.nrm(0,"img",11)}function JA(g,s){if(1&g&&x.EFF(0),2&g){const a=x.XpG().$implicit;x.SpI(" ",a.title," ")}}function PE(g,s){if(1&g&&(x.j41(0,"a",12,5)(2,"mat-icon",14),x.EFF(3),x.k0s(),x.DNE(4,JA,1,1),x.k0s()),2&g){const a=s.$implicit,v=x.sdS(1),I=x.XpG();x.Y8G("routerLink",a.path)("activated",v.isActive),x.R7$(3),x.JRh(a.data.icon),x.R7$(),x.vxM(I.collapsed()?-1:4)}}function kE(g,s){1&g&&(x.j41(0,"mat-icon",14),x.EFF(1,"chevron_right"),x.k0s())}function Iw(g,s){1&g&&(x.j41(0,"mat-icon",14),x.EFF(1,"chevron_left"),x.k0s())}function Tw(g,s){if(1&g){const a=x.RV6();x.j41(0,"button",34),x.bIt("click",function(){x.eBV(a),x.XpG();const I=x.sdS(2);return x.Njj(I.toggle())}),x.j41(1,"mat-icon",35),x.EFF(2,"menu"),x.k0s()()}}function BE(g,s){if(1&g){const a=x.RV6();x.j41(0,"button",21),x.bIt("click",function(){x.eBV(a);const I=x.XpG();return x.Njj(I.navigateBack())}),x.j41(1,"mat-icon"),x.EFF(2,"arrow_back"),x.k0s()()}}function qA(g,s){if(1&g){const a=x.RV6();x.j41(0,"button",36),x.bIt("click",function(){const I=x.eBV(a).$implicit;return x.Njj(I.action())}),x.j41(1,"mat-icon"),x.EFF(2),x.k0s()()}if(2&g){const a=s.$implicit;x.Y8G("title",a.name),x.R7$(2),x.JRh(a.icon)}}function QA(g,s){if(1&g){const a=x.RV6();x.j41(0,"input",37),x.mxI("ngModelChange",function(I){x.eBV(a);const F=x.XpG();return x.DH7(F.layout.searchInput,I)||(F.layout.searchInput=I),x.Njj(I)}),x.bIt("input",function(I){x.eBV(a);const F=x.XpG();return x.Njj(F.onSearchInput(I))}),x.k0s()}if(2&g){const a=x.XpG();x.R50("ngModel",a.layout.searchInput)}}function hg(g,s){if(1&g){const a=x.RV6();x.j41(0,"button",21),x.bIt("click",function(){x.eBV(a);const I=x.XpG();return x.Njj(I.qrScan())}),x.j41(1,"mat-icon"),x.EFF(2,"qr_code_scanner"),x.k0s()()}}function NE(g,s){1&g&&(x.j41(0,"mat-icon"),x.EFF(1,"close"),x.k0s())}function Dw(g,s){1&g&&(x.j41(0,"mat-icon"),x.EFF(1,"search"),x.k0s())}function e3(g,s){if(1&g){const a=x.RV6();x.j41(0,"button",38),x.bIt("click",function(){x.eBV(a);const I=x.XpG();return x.Njj(I.applyUpdate())}),x.j41(1,"mat-icon"),x.EFF(2,"get_app"),x.k0s()()}}let oT=(()=>{class g{constructor(){this.breakpointObserver=(0,x.WQX)(ir.QP),this.storage=(0,x.WQX)(bc.n),this.identity=(0,x.WQX)(R.K),this.updateService=(0,x.WQX)(Dp),this.profileService=(0,x.WQX)(Ff.p),this.layout=(0,x.WQX)(j.Y),this.navigation=(0,x.WQX)($e.o),this.dialog=(0,x.WQX)(ee.bZ),this.router=(0,x.WQX)(N.Ix),this.rootRoutes=K.filter(a=>a.path).filter(a=>a.data&&1!=a.data.hide),this.isHandset$=this.breakpointObserver.observe("(max-width: 700px)").pipe((0,mn.T)(a=>a.matches),(0,hh.t)()),this.collapsed=(0,x.vPA)(!1)}qrScan(){this.dialog.open(Aw,{data:{did:""},width:"100vw",height:"100vh"}).afterClosed().subscribe(v=>{console.log("The dialog was closed",v),this.router.navigate(["/profile",v])})}onSearchInput(a){null!==a.target.value?(clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{console.log("Handle search called!"),this.handleSearch(a.target.value)},750)):clearTimeout(this.debounceTimer)}handleSearch(a){a.includes(":")?this.router.navigate(["/profile",a]):this.router.navigate(["/search"],{queryParams:{query:a}})}wipe(){var a=this;return(0,Y.A)(function*(){a.storage.clear(),console.log("Local storage data has been wiped!"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DID_RESOLVERCACHE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_DATASTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_EVENTLOG"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGEINDEX"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGESTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/VAULT_STORE"),console.log("Data has been wiped!"),window.location.reload()})()}applyUpdate(){this.updateService.applyUpdate()}lock(){this.identity.lock()}navigateBack(){this.navigation.back()}collapseToggle(){this.collapsed.set(!this.collapsed())}static#e=this.\u0275fac=function(v){return new(v||g)};static#t=this.\u0275cmp=x.VBU({type:g,selectors:[["app-layout"]],standalone:!0,features:[x.aNF],ngContentSelectors:ib,decls:157,vars:58,consts:[["drawer",""],["menuNotifications","matMenu"],["menu","matMenu"],["menuAccounts","matMenu"],["menuLanguages","matMenu"],["link","routerLinkActive"],["autosize","",1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"ngClass","mode","opened"],["src","ariton-icon-dark.svg",1,"toolbar-logo"],[1,"toolbar-text"],["srcset","ariton-text-light.svg","media","(prefers-color-scheme: dark)"],["src","ariton-text-dark.svg"],["mat-list-item","","routerLinkActive","",3,"routerLink","activated"],[3,"click"],["matListItemIcon",""],["type","button","aria-label","Toggle sidenav","mat-icon-button",""],["mat-icon-button",""],["mat-icon-button","",3,"title"],[1,"toolbar-spacer"],["type","search",1,"search-input",3,"ngModel"],[1,"toolbar-items"],["mat-icon-button","",3,"click"],["matTooltip","Update available. Click to update now.","mat-icon-button",""],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"],["mat-menu-item",""],[1,"account-menu-profile"],["onerror","this.src='/avatar-placeholder.png';this.onerror='';",1,"account-menu-profile-icon",3,"src"],["mat-menu-item","",1,"account-menu-item",3,"routerLink"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"disabled"],[1,"sidenav-scroll-wrapper"],["id","sidenav-content",3,"ngClass"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-icon-button","",3,"click","title"],["type","search",1,"search-input",3,"ngModelChange","input","ngModel"],["matTooltip","Update available. Click to update now.","mat-icon-button","",3,"click"]],template:function(v,I){if(1&v){const F=x.RV6();x.NAR(),x.j41(0,"mat-sidenav-container",6)(1,"mat-sidenav",7,0),x.nI1(3,"async"),x.nI1(4,"async"),x.nI1(5,"async"),x.j41(6,"mat-toolbar"),x.nrm(7,"img",8),x.j41(8,"picture",9),x.nrm(9,"source",10),x.DNE(10,qm,1,0,"img",11),x.k0s()(),x.j41(11,"mat-nav-list"),x.Z7z(12,PE,5,4,"a",12,x.Vm6),x.j41(14,"mat-list-item",13),x.bIt("click",function(){return x.eBV(F),x.Njj(I.collapseToggle())}),x.DNE(15,kE,2,0,"mat-icon",14)(16,Iw,2,0,"mat-icon",14),x.k0s()()(),x.j41(17,"mat-sidenav-content")(18,"mat-toolbar"),x.DNE(19,Tw,3,0,"button",15),x.nI1(20,"async"),x.DNE(21,BE,3,0,"button",16),x.Z7z(22,qA,3,2,"button",17,x.fX1),x.j41(24,"span",18),x.DNE(25,QA,1,1,"input",19),x.k0s(),x.j41(26,"span",20),x.DNE(27,hg,3,0,"button",16),x.j41(28,"button",21),x.bIt("click",function(){return x.eBV(F),x.Njj(I.layout.toggleSearch())}),x.DNE(29,NE,2,0,"mat-icon")(30,Dw,2,0,"mat-icon"),x.k0s(),x.DNE(31,e3,3,0,"button",22),x.j41(32,"button",23)(33,"mat-icon"),x.EFF(34,"notifications"),x.k0s()(),x.j41(35,"mat-menu",null,1)(37,"button",24),x.bIt("click",function(){return x.eBV(F),x.Njj(I.wipe())}),x.j41(38,"mat-icon"),x.EFF(39,"settings"),x.k0s(),x.j41(40,"span"),x.EFF(41,"Reset All Data (Wipe)"),x.k0s()(),x.nrm(42,"mat-divider"),x.j41(43,"button",25)(44,"mat-icon"),x.EFF(45,"settings"),x.k0s(),x.j41(46,"span"),x.EFF(47,"Notification Settings"),x.k0s()(),x.nrm(48,"mat-divider"),x.j41(49,"button",26)(50,"mat-icon"),x.EFF(51,"forum"),x.k0s(),x.j41(52,"span"),x.EFF(53,"Knitting Community posted new pattern"),x.k0s()(),x.j41(54,"button",26)(55,"mat-icon"),x.EFF(56,"face"),x.k0s(),x.j41(57,"span"),x.EFF(58,"Joe sent you a message"),x.k0s()(),x.j41(59,"button",26)(60,"mat-icon"),x.EFF(61,"key"),x.k0s(),x.j41(62,"span"),x.EFF(63,"New security request"),x.k0s()(),x.j41(64,"button",26)(65,"mat-icon"),x.EFF(66,"verified_user"),x.k0s(),x.j41(67,"span"),x.EFF(68,"Social account recovery request"),x.k0s()()(),x.j41(69,"button",23)(70,"mat-icon"),x.EFF(71,"account_circle"),x.k0s()(),x.j41(72,"mat-menu",null,2)(74,"div",27),x.nrm(75,"img",28),x.nI1(76,"safeResourceUrl"),x.j41(77,"div")(78,"h2"),x.EFF(79),x.k0s(),x.EFF(80),x.nrm(81,"br"),x.EFF(82),x.nI1(83,"did"),x.nrm(84,"br"),x.k0s()(),x.j41(85,"button",29)(86,"mat-icon"),x.EFF(87,"account_circle"),x.k0s(),x.j41(88,"span"),x.EFF(89,"View Profile"),x.k0s()(),x.nrm(90,"mat-divider"),x.j41(91,"button",24),x.bIt("click",function(){return x.eBV(F),x.Njj(I.lock())}),x.j41(92,"mat-icon"),x.EFF(93,"lock"),x.k0s(),x.j41(94,"span"),x.EFF(95,"Lock account"),x.k0s()(),x.nrm(96,"mat-divider"),x.j41(97,"button",30)(98,"mat-icon"),x.EFF(99,"translate"),x.k0s(),x.j41(100,"span"),x.EFF(101,"Language: English"),x.k0s()(),x.nrm(102,"mat-divider"),x.j41(103,"button",25)(104,"mat-icon"),x.EFF(105,"settings"),x.k0s(),x.j41(106,"span"),x.EFF(107,"Settings"),x.k0s()(),x.nrm(108,"mat-divider"),x.j41(109,"button",25)(110,"mat-icon"),x.EFF(111,"help"),x.k0s(),x.j41(112,"span"),x.EFF(113,"Help"),x.k0s()()(),x.j41(114,"mat-menu",null,3)(116,"button",25)(117,"mat-icon"),x.EFF(118,"manage_accounts"),x.k0s(),x.j41(119,"span"),x.EFF(120,"Manage Accounts"),x.k0s()(),x.nrm(121,"mat-divider"),x.j41(122,"button",25)(123,"mat-icon"),x.EFF(124,"account_circle"),x.k0s(),x.j41(125,"span"),x.EFF(126,"Account 1"),x.k0s()(),x.j41(127,"button",25)(128,"mat-icon"),x.EFF(129,"account_circle"),x.k0s(),x.j41(130,"span"),x.EFF(131,"Account 2"),x.k0s()(),x.j41(132,"button",25)(133,"mat-icon"),x.EFF(134,"account_circle"),x.k0s(),x.j41(135,"span"),x.EFF(136,"Account 3"),x.k0s()(),x.nrm(137,"mat-divider"),x.j41(138,"button",25)(139,"mat-icon"),x.EFF(140,"person_add"),x.k0s(),x.j41(141,"span"),x.EFF(142,"Add account"),x.k0s()()(),x.j41(143,"mat-menu",null,4)(145,"button",26)(146,"span"),x.EFF(147,"English"),x.k0s()(),x.j41(148,"button",31)(149,"span"),x.EFF(150,"Norwegian"),x.k0s()(),x.j41(151,"button",31)(152,"span"),x.EFF(153,"Serbian"),x.k0s()()()()(),x.j41(154,"div",32)(155,"div",33),x.SdG(156),x.k0s()()()()}if(2&v){const F=x.sdS(36),se=x.sdS(73),ye=x.sdS(144);x.R7$(),x.Y8G("ngClass",x.eq3(43,Cw,I.collapsed()))("mode",x.bMT(3,31,I.isHandset$)?"over":"side")("opened",!1===x.bMT(4,33,I.isHandset$)),x.BMQ("role",x.bMT(5,35,I.isHandset$)?"dialog":"navigation"),x.R7$(9),x.vxM(I.collapsed()?-1:10),x.R7$(2),x.Dyx(I.rootRoutes),x.R7$(3),x.vxM(I.collapsed()?15:16),x.R7$(4),x.vxM(x.bMT(20,37,I.isHandset$)?19:-1),x.R7$(2),x.vxM(I.layout.navigation()?21:-1),x.R7$(),x.Dyx(I.layout.actions()),x.R7$(3),x.vxM(I.layout.search()?25:-1),x.R7$(2),x.vxM(I.layout.search()?27:-1),x.R7$(2),x.vxM(I.layout.search()?29:30),x.R7$(2),x.vxM(I.updateService.isNewVersionAvailable?31:-1),x.R7$(),x.Y8G("matMenuTriggerFor",F),x.R7$(11),x.Y8G("routerLink",x.lJ4(45,_u)),x.R7$(26),x.Y8G("matMenuTriggerFor",se),x.R7$(6),x.Y8G("src",x.bMT(76,39,I.profileService.avatar()),x.B4B),x.R7$(4),x.JRh(I.profileService.current().name),x.R7$(),x.SpI(" @",I.profileService.current().title,""),x.R7$(2),x.SpI(" ",x.bMT(83,41,I.identity.did),""),x.R7$(3),x.Y8G("routerLink",x.eq3(46,OE,I.identity.did)),x.R7$(12),x.Y8G("matMenuTriggerFor",ye),x.R7$(6),x.Y8G("routerLink",x.lJ4(48,_u)),x.R7$(6),x.Y8G("routerLink",x.lJ4(49,ob)),x.R7$(7),x.Y8G("routerLink",x.lJ4(50,Jm)),x.R7$(6),x.Y8G("routerLink",x.lJ4(51,fg)),x.R7$(5),x.Y8G("routerLink",x.lJ4(52,fg)),x.R7$(5),x.Y8G("routerLink",x.lJ4(53,fg)),x.R7$(6),x.Y8G("routerLink",x.lJ4(54,iT)),x.R7$(10),x.Y8G("disabled",!0),x.R7$(3),x.Y8G("disabled",!0),x.R7$(4),x.Y8G("ngClass",x.l_i(55,Mw,I.layout.margin(),!I.layout.margin()))}},dependencies:[ee.hM,Ym,V.YN,V.me,V.BC,V.vS,re.RG,Q.fS,H.MD,H.YU,H.Jj,Mc.d,De.s5,De.KQ,P.Hl,P.iY,fh,gd,Wc,Cc,ue.Fg,ue._L,ue.YE,ue.ZV,RE.q,W.m_,W.An,de.Cn,de.kk,de.fb,de.Cp,N.Wk,N.wQ,ae.uc,ae.oV,jd.k],styles:[".toolbar-logo[_ngcontent-%COMP%]{max-height:54px}.account-menu-profile[_ngcontent-%COMP%]{color:var(--mat-menu-item-label-text-color);display:flex;gap:8px;margin:8px;align-items:center}.account-menu-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:0}.account-menu-profile-icon[_ngcontent-%COMP%]{width:64px;border-radius:50%}.account-menu-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:2}.toolbar-text[_ngcontent-%COMP%]{margin-left:.3em;margin-top:.5em;width:100px;height:32px}.sidenav-container[_ngcontent-%COMP%]{height:100%}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 80px);overflow:auto;border-radius:16px;box-sizing:border-box}.sidenav-content[_ngcontent-%COMP%], .sidenav-content-marginless[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto;padding:16px;box-sizing:border-box}.sidenav-content-marginless[_ngcontent-%COMP%]{padding:0}.column-content[_ngcontent-%COMP%]{overflow-y:scroll;box-sizing:border-box}.sidenav[_ngcontent-%COMP%]{width:200px;padding:0 8px;box-sizing:border-box}.sidenav-collapsed[_ngcontent-%COMP%]{width:72px}@media (max-width: 959.98px){.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 64px)}.sidenav-content[_ngcontent-%COMP%]{padding:8px}.sidenav-content-marginless[_ngcontent-%COMP%]{padding:0}}"]})}return g})();var Rw=A(9183);function pg(g,s){1&g&&x.nrm(0,"mat-spinner",4)}function t3(g,s){1&g&&(x.j41(0,"span"),x.EFF(1,"Unlock"),x.k0s())}function L0(g,s){1&g&&(x.j41(0,"mat-error"),x.EFF(1,"Password is "),x.j41(2,"strong"),x.EFF(3,"invalid"),x.k0s()())}let mg=(()=>{class g{constructor(a){this.identityService=a,this.passwordInput=new V.MJ("",V.k0.required),this.unlocking=(0,x.vPA)(!1),this.invalidPassword=(0,x.vPA)(!1)}onSubmit(){var a=this;return(0,Y.A)(function*(){a.unlocking.set(!0),(yield a.identityService.unlock(a.passwordInput.value))?(console.log("Vault unlocked"),a.invalidPassword.set(!1)):(console.log("Failed to unlock vault"),a.invalidPassword.set(!0)),a.unlocking.set(!1)})()}static#e=this.\u0275fac=function(v){return new(v||g)(x.rXU(R.K))};static#t=this.\u0275cmp=x.VBU({type:g,selectors:[["app-unlock"]],standalone:!0,features:[x.aNF],decls:18,vars:4,consts:[["src","ariton-icon-dark.svg",1,"unlock-logo"],[3,"ngSubmit"],["matInput","","type","password",3,"formControl"],["mat-flat-button","","type","submit","color","primary",3,"disabled"],["diameter","20"]],template:function(v,I){1&v&&(x.nrm(0,"img",0),x.j41(1,"h1"),x.EFF(2,"Unlock your account"),x.k0s(),x.j41(3,"p"),x.EFF(4,"You have configured your Ariton account with a secure personal password."),x.nrm(5,"br"),x.EFF(6,"Enter password to unlock your account."),x.k0s(),x.j41(7,"form",1),x.bIt("ngSubmit",function(){return I.onSubmit()}),x.j41(8,"mat-form-field")(9,"mat-label"),x.EFF(10,"Enter your password"),x.k0s(),x.nrm(11,"input",2),x.k0s(),x.EFF(12," \xa0 "),x.j41(13,"button",3),x.DNE(14,pg,1,0,"mat-spinner",4)(15,t3,2,0,"span"),x.k0s(),x.j41(16,"p"),x.DNE(17,L0,4,0,"mat-error"),x.k0s()()),2&v&&(x.R7$(11),x.Y8G("formControl",I.passwordInput),x.R7$(2),x.Y8G("disabled",!(I.passwordInput.valid&&!I.unlocking())),x.R7$(),x.vxM(I.unlocking()?14:15),x.R7$(3),x.vxM(I.invalidPassword()?17:-1))},dependencies:[V.YN,V.qT,V.me,V.BC,V.cb,V.cV,Rw.D6,Rw.LG,V.X1,V.l_,re.RG,re.rl,re.nJ,re.TL,Q.fS,Q.fg,P.Hl,P.$z,W.m_],styles:["button[_ngcontent-%COMP%]{width:100px}.unlock-logo[_ngcontent-%COMP%]{max-width:200px}"]})}return g})();var yg=A(33065),sb=A(1005);function LE(g,s){1&g&&(x.j41(0,"p"),x.EFF(1,"Initializing Ariton..."),x.k0s())}function Ow(g,s){if(1&g){const a=x.RV6();x.j41(0,"button",7),x.bIt("click",function(){x.eBV(a);const I=x.XpG(3);return x.Njj(I.back())}),x.EFF(1,"Back"),x.k0s()}if(2&g){const a=x.XpG(3);x.Y8G("disabled",a.appService.loading())}}function FE(g,s){if(1&g){const a=x.RV6();x.j41(0,"button",8),x.bIt("click",function(){x.eBV(a);const I=x.XpG(3);return x.Njj(I.createAccount())}),x.EFF(1,"Create a new account"),x.k0s(),x.j41(2,"button",7),x.bIt("click",function(){x.eBV(a);const I=x.XpG(3);return x.Njj(I.restoreAccount())}),x.EFF(3,"Restore existing account"),x.k0s()}if(2&g){const a=x.XpG(3);x.Y8G("disabled",a.appService.loading()),x.R7$(2),x.Y8G("disabled",!0)}}function F0(g,s){1&g&&x.nrm(0,"app-restore")}function ab(g,s){if(1&g&&(x.j41(0,"div",2),x.DNE(1,Ow,2,1,"button",6)(2,FE,4,2)(3,F0,1,0,"app-restore"),x.k0s()),2&g){const a=x.XpG(2);x.R7$(),x.vxM(a.restore()?1:2),x.R7$(2),x.vxM(a.restore()?3:-1)}}function Pw(g,s){if(1&g){const a=x.RV6();x.j41(0,"div",3),x.nrm(1,"app-unlock"),x.j41(2,"p"),x.EFF(3,"Issues? "),x.j41(4,"button",5),x.bIt("click",function(){x.eBV(a);const I=x.XpG(2);return x.Njj(I.forceClose())}),x.EFF(5,"Close loading sceen"),x.k0s()()()}}function n3(g,s){1&g&&(x.j41(0,"div",0),x.nrm(1,"img",1),x.j41(2,"div"),x.EFF(3,"Initializing... please wait..."),x.k0s()())}function kw(g,s){if(1&g){const a=x.RV6();x.j41(0,"div",4)(1,"h1"),x.EFF(2,"Error during initialization. Offline?"),x.k0s(),x.j41(3,"p"),x.EFF(4,"You must be online to create your account."),x.nrm(5,"br"),x.EFF(6,"Please verify network connection and try again."),x.k0s(),x.j41(7,"p")(8,"button",5),x.bIt("click",function(){x.eBV(a);const I=x.XpG(2);return x.Njj(I.reload())}),x.EFF(9,"Reload"),x.k0s()()()}}function cb(g,s){1&g&&x.nrm(0,"mat-spinner")}function lc(g,s){if(1&g){const a=x.RV6();x.j41(0,"div",0),x.nrm(1,"img",1),x.DNE(2,LE,2,0,"p")(3,ab,4,2,"div",2)(4,Pw,6,0,"div",3)(5,n3,4,0,"div",0)(6,kw,10,0,"div",4)(7,cb,1,0,"mat-spinner"),x.j41(8,"p"),x.EFF(9,"Issues? "),x.j41(10,"button",5),x.bIt("click",function(){x.eBV(a);const I=x.XpG();return x.Njj(I.forceClose())}),x.EFF(11,"Close loading sceen"),x.k0s()()()}if(2&g){let a;const v=x.XpG();x.R7$(2),x.vxM(0===(a=v.appService.onboardingState())?2:1===a?3:2===a?4:3===a?5:4===a?6:-1),x.R7$(5),x.vxM(v.appService.loading()?7:-1)}}function Bw(g){return()=>g.loadHash()}(0,h.B8)((()=>{class g{constructor(a,v,I){this.router=a,this.layout=v,this.identityService=I,this.title="app",this.appService=(0,x.WQX)(M.d),this.previousUrl="",this.restore=(0,x.vPA)(!1);const F=globalThis.location.search;if(F){const se=Object.fromEntries(new URLSearchParams(F));this.appService.params=se}console.log(F),console.log(this.appService.params),(0,x.QZP)(()=>{this.appService.initialized()&&console.log("App has been initialized!!!!")})}forceClose(){this.appService.onboardingState.set(M.f.Unlocked),this.appService.initialized.set(!0)}restoreAccount(){var a=this;return(0,Y.A)(function*(){a.restore.set(!0)})()}back(){this.restore.set(!1)}createAccount(){var a=this;return(0,Y.A)(function*(){console.log("Creating new account..."),yield a.appService.createAccount(),a.router.navigate([a.appService.state().loginAction])})()}reload(){document.location=document.location}ngOnInit(){var a=this;return(0,Y.A)(function*(){yield a.appService.initialize()})()}static#e=this.\u0275fac=function(v){return new(v||g)(x.rXU(N.Ix),x.rXU(j.Y),x.rXU(R.K))};static#t=this.\u0275cmp=x.VBU({type:g,selectors:[["app-root"]],standalone:!0,features:[x.Jv_([{provide:x.hnV,useFactory:Bw,deps:[sb.G],multi:!0},{provide:re.U$,useValue:{appearance:"outline"}}]),x.aNF],decls:3,vars:1,consts:[[1,"loading-container"],["src","ariton-icon-dark.svg",1,"loading-logo"],[1,"new-user-actions"],[1,"unlock-container"],[1,"loading-error"],["mat-button","",3,"click"],["mat-button","",3,"disabled"],["mat-button","",3,"click","disabled"],["mat-flat-button","",3,"click","disabled"]],template:function(v,I){1&v&&(x.DNE(0,lc,12,2,"div",0),x.j41(1,"app-layout"),x.nrm(2,"router-outlet"),x.k0s()),2&v&&x.vxM(I.appService.initialized()?-1:0)},dependencies:[yg.RestoreComponent,P.Hl,P.$z,Rw.D6,Rw.LG,N.n3,oT,mg],styles:[".unlock-container[_ngcontent-%COMP%]{background-color:var(--mat-app-background-color);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1000;display:flex;justify-content:center;align-items:center;align-content:center;text-align:center}.loading-container[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1001;display:flex;flex-direction:column;align-items:center;justify-content:center}.loading-logo[_ngcontent-%COMP%]{max-width:128px;position:absolute;right:1em;bottom:1em}mat-spinner[_ngcontent-%COMP%]{margin:2em}.new-user-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1em;margin-bottom:1em}"]})}return g})(),Kn).catch(g=>console.error(g))},49245:(Ye,J,A)=>{"use strict";A.d(J,{Q:()=>h});const h={protocol:"http://anyone-collaborate-protocol.xyz",published:!0,types:{doc:{}},structure:{doc:{$actions:[{who:"anyone",can:["read","co-update","co-delete"]}]}}}},62060:(Ye,J,A)=>{"use strict";A.d(J,{Q:()=>h});const h={protocol:"https://schema.ariton.app/chat",published:!0,types:{message:{schema:"https://schema.ariton.app/chat/message",dataFormats:["application/json"]}},structure:{message:{$actions:[{who:"anyone",can:["create","update"]},{who:"author",of:"message",can:["read"]},{who:"recipient",of:"message",can:["read"]}]}}}},77949:(Ye,J,A)=>{"use strict";A.d(J,{Q:()=>h});const h={protocol:"https://schema.ariton.app/community",published:!0,types:{community:{schema:"https://schema.ariton.app/community/schema/community",dataFormats:["application/json"]},album:{schema:"https://schema.ariton.app/community/schema/album",dataFormats:["text/plain"]},photo:{schema:"https://schema.ariton.app/community/schema/photo",dataFormats:["text/plain"]},friend:{schema:"https://schema.ariton.app/community/schema/friend",dataFormats:["text/plain"]},participant:{schema:"https://schema.ariton.app/community/schema/participant",dataFormats:["text/plain"]},updater:{schema:"https://schema.ariton.app/community/schema/updater",dataFormats:["text/plain"]},globalAdmin:{schema:"https://schema.ariton.app/community/schema/globalAdmin",dataFormats:["application/json"]},admin:{schema:"https://schema.ariton.app/community/schema/admin",dataFormats:["application/json"]}},structure:{globalAdmin:{$role:!0},friend:{$role:!0},community:{$actions:[{role:"globalAdmin",can:["create","update"]}],admin:{$role:!0,$actions:[{role:"globalAdmin",can:["create","update"]}]}}}}},97372:(Ye,J,A)=>{"use strict";A.d(J,{Q:()=>h});const h={protocol:"https://schema.ariton.app/file",published:!0,types:{entry:{schema:"https://schema.ariton.app/file/schema/entry"},collaborator:{schema:"https://schema.ariton.app/file/schema/collaborator",dataFormats:["application/json"]}},structure:{collaborator:{$role:!0},entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}],entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}],entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}],entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}]}}}}}}},67136:(Ye,J,A)=>{"use strict";A.d(J,{Q:()=>h});const h={protocol:"http://free-for-all-protocol.xyz",published:!0,types:{post:{schema:"eph",dataFormats:["application/json"]},attachment:{}},structure:{post:{$actions:[{who:"anyone",can:["create","update","delete","prune","read","co-delete","co-prune"]}],attachment:{$actions:[{who:"anyone",can:["create","update","delete","read","co-delete"]}]}}}}},22312:(Ye,J,A)=>{"use strict";A.d(J,{Aq:()=>V,ME:()=>R,eE:()=>j,iU:()=>P,u5:()=>H});var h=A(4053),x=A(77949),Y=(A(45189),A(2685)),M=A(69371);const j={format:"application/vc+jwt",friendship:"FriendshipCredential"},R={uri:h.Q.protocol,definition:h.Q},H={uri:Y.Q.protocol,definition:Y.Q},V={uri:x.Q.protocol,definition:x.Q},P={uri:M.Q.protocol,definition:M.Q}},69371:(Ye,J,A)=>{"use strict";A.d(J,{Q:()=>h});const h={protocol:"https://schema.ariton.app/message",published:!0,types:{message:{schema:"https://schema.ariton.app/message/schema/message",dataFormats:["application/json"]},writer:{schema:"https://schema.ariton.app/message/schema/writer",dataFormats:["application/json"]},request:{schema:"https://schema.ariton.app/message/schema/request",dataFormats:["application/json"]},credential:{schema:"https://schema.ariton.app/message/schema/credential",dataFormats:["application/json"]}},structure:{writer:{$role:!0},message:{$actions:[{role:"writer",can:["create","update"]},{who:"author",of:"message",can:["read"]},{who:"recipient",of:"message",can:["read"]}]},request:{$actions:[{who:"anyone",can:["create","update","delete"]},{who:"author",of:"request",can:["read","create","delete"]},{who:"recipient",of:"request",can:["read","create","delete","co-delete"]}]},credential:{$actions:[{who:"anyone",can:["create","update","delete"]},{who:"author",of:"request",can:["read","create","delete"]},{who:"recipient",of:"request",can:["read","create","delete","co-delete"]}]}}}},1639:(Ye,J,A)=>{"use strict";A.d(J,{Q:()=>h});const h={protocol:"http://minimal.xyz",published:!1,types:{foo:{}},structure:{foo:{}}}},69314:(Ye,J,A)=>{"use strict";A.d(J,{Q:()=>h});const h={protocol:"https://schema.ariton.app/note",published:!0,types:{note:{schema:"https://schema.ariton.app/note/schema/note",dataFormats:["application/json"]},collaborator:{schema:"https://schema.ariton.app/note/schema/collaborator",dataFormats:["application/json"]}},structure:{collaborator:{$role:!0},note:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}]}}}},4053:(Ye,J,A)=>{"use strict";A.d(J,{Q:()=>h});const h={published:!0,protocol:"https://schema.ariton.app/profile/entry",types:{profile:{schema:"https://schema.ariton.app/profile/schema/profile",dataFormats:["application/json"]},bio:{dataFormats:["application/json"]},status:{dataFormats:["application/json"]},location:{dataFormats:["application/json"]},birthDate:{dataFormats:["application/json"]},social:{dataFormats:["application/json"]},messaging:{dataFormats:["application/json"]},phone:{dataFormats:["application/json"]},address:{dataFormats:["application/json"]},career:{dataFormats:["application/json"]},payment:{dataFormats:["application/json"]},avatar:{dataFormats:["image/gif","image/png","image/jpeg"]},hero:{dataFormats:["image/gif","image/png","image/jpeg"]}},structure:{profile:{$actions:[{who:"anyone",can:["read"]}]},bio:{},status:{},location:{},birthDate:{},social:{},career:{},avatar:{$actions:[{who:"anyone",can:["read"]}]},hero:{$actions:[{who:"anyone",can:["read"]}]},messaging:{},address:{},phone:{},payment:{}}}},2685:(Ye,J,A)=>{"use strict";A.d(J,{Q:()=>h});const h={published:!0,protocol:"https://schema.ariton.app/registry/entry",types:{profile:{dataFormats:["application/json"]},avatar:{dataFormats:["image/gif","image/png","image/jpeg"]},hero:{dataFormats:["image/gif","image/png","image/jpeg"]}},structure:{profile:{},avatar:{},hero:{}}}},45189:(Ye,J,A)=>{"use strict";A.d(J,{Q:()=>h});const h={protocol:"https://social-media.xyz",published:!0,types:{post:{schema:"https://social-media.xyz/schemas/postSchema",dataFormats:["text/plain"]},reply:{schema:"https://social-media.xyz/schemas/replySchema",dataFormats:["text/plain"]},image:{dataFormats:["image/jpeg"]},caption:{schema:"https://social-media.xyz/schemas/captionSchema",dataFormats:["text/plain"]}},structure:{post:{$actions:[{who:"anyone",can:["create","read"]}],reply:{$actions:[{who:"recipient",of:"post",can:["create"]},{who:"author",of:"post",can:["create"]}]}},image:{$actions:[{who:"anyone",can:["create","read"]}],caption:{$actions:[{who:"anyone",can:["read"]},{who:"author",of:"image",can:["create"]}]},reply:{$actions:[{who:"author",of:"image",can:["read"]},{who:"recipient",of:"image",can:["create"]}]}}}}},70669:(Ye,J,A)=>{"use strict";A.d(J,{Q:()=>h});const h={protocol:"https://schema.ariton.app/text",published:!0,types:{entry:{schema:"https://schema.ariton.app/text/schema/entry",dataFormats:["application/json"]},collaborator:{schema:"https://schema.ariton.app/text/schema/collaborator",dataFormats:["application/json"]}},structure:{collaborator:{$role:!0},entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}],entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}],entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}],entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}]}}}}}}},52002:(Ye,J,A)=>{"use strict";A.d(J,{Q:()=>h});const h={protocol:"https://didcomm.org/shared-todo",published:!0,types:{list:{schema:"https://didcomm.org/shared-todo/schemas/list.json",dataFormats:["application/json"]},todo:{schema:"https://didcomm.org/shared-todo/schemas/todo.json",dataFormats:["application/json"]}},structure:{list:{$actions:[{who:"anyone",can:["create","update","read"]}],todo:{$actions:[{who:"author",of:"list",can:["create","update"]},{who:"recipient",of:"list",can:["create","update"]}]}}}}},4521:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.createCurve=J.getHash=void 0;const h=A(44882),x=A(96492),N=A(73040);function Y(j){return{hash:j,hmac:(R,...U)=>(0,h.hmac)(j,R,(0,x.concatBytes)(...U)),randomBytes:x.randomBytes}}J.getHash=Y,J.createCurve=function M(j,R){const U=H=>(0,N.weierstrass)({...j,...Y(H)});return Object.freeze({...U(R),create:U})}},25299:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.validateBasic=J.wNAF=void 0;const h=A(63834),x=A(84097),N=BigInt(0),Y=BigInt(1);J.wNAF=function M(R,U){const H=(P,ee)=>{const W=ee.negate();return P?W:ee},V=P=>({windows:Math.ceil(U/P)+1,windowSize:2**(P-1)});return{constTimeNegate:H,unsafeLadder(P,ee){let W=R.ZERO,Q=P;for(;ee>N;)ee&Y&&(W=W.add(Q)),Q=Q.double(),ee>>=Y;return W},precomputeWindow(P,ee){const{windows:W,windowSize:Q}=V(ee),de=[];let ae=P,re=ae;for(let te=0;te<W;te++){re=ae,de.push(re);for(let ue=1;ue<Q;ue++)re=re.add(ae),de.push(re);ae=re.double()}return de},wNAF(P,ee,W){const{windows:Q,windowSize:de}=V(P);let ae=R.ZERO,re=R.BASE;const te=BigInt(2**P-1),ue=2**P,pe=BigInt(P);for(let he=0;he<Q;he++){const ve=he*de;let ge=Number(W&te);W>>=pe,ge>de&&(ge-=ue,W+=Y);const Me=ve,Oe=ve+Math.abs(ge)-1,B=ge<0;0===ge?re=re.add(H(he%2!=0,ee[Me])):ae=ae.add(H(B,ee[Oe]))}return{p:ae,f:re}},wNAFCached(P,ee,W,Q){const de=P._WINDOW_SIZE||1;let ae=ee.get(P);return ae||(ae=this.precomputeWindow(P,de),1!==de&&ee.set(P,Q(ae))),this.wNAF(de,ae,W)}}},J.validateBasic=function j(R){return(0,h.validateField)(R.Fp),(0,x.validateObject)(R,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,h.nLength)(R.n,R.nBitLength),...R,p:R.Fp.ORDER})}},45068:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.twistedEdwards=void 0;const h=A(63834),x=A(84097),N=A(84097),Y=A(25299),M=BigInt(0),j=BigInt(1),R=BigInt(2),U=BigInt(8),H={zip215:!0};J.twistedEdwards=function P(ee){const W=function V(ee){const W=(0,Y.validateBasic)(ee);return x.validateObject(ee,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...W})}(ee),{Fp:Q,n:de,prehash:ae,hash:re,randomBytes:te,nByteLength:ue,h:pe}=W,he=R<<BigInt(8*ue)-j,ve=Q.create,ge=W.uvRatio||((Ie,Xe)=>{try{return{isValid:!0,value:Q.sqrt(Ie*Q.inv(Xe))}}catch{return{isValid:!1,value:M}}}),Me=W.adjustScalarBytes||(Ie=>Ie),Oe=W.domain||((Ie,Xe,Se)=>{if(Xe.length||Se)throw new Error("Contexts/pre-hash are not supported");return Ie}),je=Ie=>"bigint"==typeof Ie&&M<Ie,B=(Ie,Xe)=>je(Ie)&&je(Xe)&&Ie<Xe,l=Ie=>Ie===M||B(Ie,he);function f(Ie,Xe){if(B(Ie,Xe))return Ie;throw new Error(`Expected valid scalar < ${Xe}, got ${typeof Ie} ${Ie}`)}function w(Ie){return Ie===M?Ie:f(Ie,de)}const _=new Map;function D(Ie){if(!(Ie instanceof O))throw new Error("ExtendedPoint expected")}class O{constructor(Xe,Se,Le,Ee){if(this.ex=Xe,this.ey=Se,this.ez=Le,this.et=Ee,!l(Xe))throw new Error("x required");if(!l(Se))throw new Error("y required");if(!l(Le))throw new Error("z required");if(!l(Ee))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Xe){if(Xe instanceof O)throw new Error("extended point not allowed");const{x:Se,y:Le}=Xe||{};if(!l(Se)||!l(Le))throw new Error("invalid affine point");return new O(Se,Le,j,ve(Se*Le))}static normalizeZ(Xe){const Se=Q.invertBatch(Xe.map(Le=>Le.ez));return Xe.map((Le,Ee)=>Le.toAffine(Se[Ee])).map(O.fromAffine)}_setWindowSize(Xe){this._WINDOW_SIZE=Xe,_.delete(this)}assertValidity(){const{a:Xe,d:Se}=W;if(this.is0())throw new Error("bad point: ZERO");const{ex:Le,ey:Ee,ez:be,et:oe}=this,fe=ve(Le*Le),we=ve(Ee*Ee),De=ve(be*be),$e=ve(De*De),Je=ve(fe*Xe);if(ve(De*ve(Je+we))!==ve($e+ve(Se*ve(fe*we))))throw new Error("bad point: equation left != right (1)");if(ve(Le*Ee)!==ve(be*oe))throw new Error("bad point: equation left != right (2)")}equals(Xe){D(Xe);const{ex:Se,ey:Le,ez:Ee}=this,{ex:be,ey:oe,ez:fe}=Xe,we=ve(Se*fe),De=ve(be*Ee),$e=ve(Le*fe),Je=ve(oe*Ee);return we===De&&$e===Je}is0(){return this.equals(O.ZERO)}negate(){return new O(ve(-this.ex),this.ey,this.ez,ve(-this.et))}double(){const{a:Xe}=W,{ex:Se,ey:Le,ez:Ee}=this,be=ve(Se*Se),oe=ve(Le*Le),fe=ve(R*ve(Ee*Ee)),we=ve(Xe*be),De=Se+Le,$e=ve(ve(De*De)-be-oe),Je=we+oe,Ze=Je-fe,Pt=we-oe,nt=ve($e*Ze),Ge=ve(Je*Pt),Et=ve($e*Pt),K=ve(Ze*Je);return new O(nt,Ge,K,Et)}add(Xe){D(Xe);const{a:Se,d:Le}=W,{ex:Ee,ey:be,ez:oe,et:fe}=this,{ex:we,ey:De,ez:$e,et:Je}=Xe;if(Se===BigInt(-1)){const ft=ve((be-Ee)*(De+we)),Yt=ve((be+Ee)*(De-we)),Rt=ve(Yt-ft);if(Rt===M)return this.double();const Vt=ve(oe*R*Je),dn=ve(fe*R*$e),Mn=dn+Vt,En=Yt+ft,Ar=dn-Vt,jn=ve(Mn*Rt),mn=ve(En*Ar),pn=ve(Mn*Ar),kt=ve(Rt*En);return new O(jn,mn,kt,pn)}const Ze=ve(Ee*we),Pt=ve(be*De),nt=ve(fe*Le*Je),Ge=ve(oe*$e),Et=ve((Ee+be)*(we+De)-Ze-Pt),K=Ge-nt,C=Ge+nt,b=ve(Pt-Se*Ze),z=ve(Et*K),le=ve(C*b),Ae=ve(Et*b),Be=ve(K*C);return new O(z,le,Be,Ae)}subtract(Xe){return this.add(Xe.negate())}wNAF(Xe){return c.wNAFCached(this,_,Xe,O.normalizeZ)}multiply(Xe){const{p:Se,f:Le}=this.wNAF(f(Xe,de));return O.normalizeZ([Se,Le])[0]}multiplyUnsafe(Xe){let Se=w(Xe);return Se===M?T:this.equals(T)||Se===j?this:this.equals($)?this.wNAF(Se).p:c.unsafeLadder(this,Se)}isSmallOrder(){return this.multiplyUnsafe(pe).is0()}isTorsionFree(){return c.unsafeLadder(this,de).is0()}toAffine(Xe){const{ex:Se,ey:Le,ez:Ee}=this,be=this.is0();null==Xe&&(Xe=be?U:Q.inv(Ee));const oe=ve(Se*Xe),fe=ve(Le*Xe),we=ve(Ee*Xe);if(be)return{x:M,y:j};if(we!==j)throw new Error("invZ was invalid");return{x:oe,y:fe}}clearCofactor(){const{h:Xe}=W;return Xe===j?this:this.multiplyUnsafe(Xe)}static fromHex(Xe,Se=!1){const{d:Le,a:Ee}=W,be=Q.BYTES,oe=(Xe=(0,N.ensureBytes)("pointHex",Xe,be)).slice(),fe=Xe[be-1];oe[be-1]=-129&fe;const we=x.bytesToNumberLE(oe);we===M||f(we,Se?he:Q.ORDER);const De=ve(we*we),$e=ve(De-j),Je=ve(Le*De-Ee);let{isValid:Ze,value:Pt}=ge($e,Je);if(!Ze)throw new Error("Point.fromHex: invalid y coordinate");const nt=(Pt&j)===j,Ge=!!(128&fe);if(!Se&&Pt===M&&Ge)throw new Error("Point.fromHex: x=0 and x_0=1");return Ge!==nt&&(Pt=ve(-Pt)),O.fromAffine({x:Pt,y:we})}static fromPrivateKey(Xe){return X(Xe).point}toRawBytes(){const{x:Xe,y:Se}=this.toAffine(),Le=x.numberToBytesLE(Se,Q.BYTES);return Le[Le.length-1]|=Xe&j?128:0,Le}toHex(){return x.bytesToHex(this.toRawBytes())}}O.BASE=new O(W.Gx,W.Gy,j,ve(W.Gx*W.Gy)),O.ZERO=new O(M,j,j,M);const{BASE:$,ZERO:T}=O,c=(0,Y.wNAF)(O,8*ue);function E(Ie){return(0,h.mod)(Ie,de)}function q(Ie){return E(x.bytesToNumberLE(Ie))}function X(Ie){const Xe=ue;Ie=(0,N.ensureBytes)("private key",Ie,Xe);const Se=(0,N.ensureBytes)("hashed private key",re(Ie),2*Xe),Le=Me(Se.slice(0,Xe)),Ee=Se.slice(Xe,2*Xe),be=q(Le),oe=$.multiply(be),fe=oe.toRawBytes();return{head:Le,prefix:Ee,scalar:be,point:oe,pointBytes:fe}}function me(Ie=new Uint8Array,...Xe){const Se=x.concatBytes(...Xe);return q(re(Oe(Se,(0,N.ensureBytes)("context",Ie),!!ae)))}const Ke=H;return $._setWindowSize(8),{CURVE:W,getPublicKey:function ce(Ie){return X(Ie).pointBytes},sign:function Te(Ie,Xe,Se={}){Ie=(0,N.ensureBytes)("message",Ie),ae&&(Ie=ae(Ie));const{prefix:Le,scalar:Ee,pointBytes:be}=X(Xe),oe=me(Se.context,Le,Ie),fe=$.multiply(oe).toRawBytes(),De=E(oe+me(Se.context,fe,be,Ie)*Ee);w(De);const $e=x.concatBytes(fe,x.numberToBytesLE(De,Q.BYTES));return(0,N.ensureBytes)("result",$e,2*ue)},verify:function Qe(Ie,Xe,Se,Le=Ke){const{context:Ee,zip215:be}=Le,oe=Q.BYTES;Ie=(0,N.ensureBytes)("signature",Ie,2*oe),Xe=(0,N.ensureBytes)("message",Xe),ae&&(Xe=ae(Xe));const fe=x.bytesToNumberLE(Ie.slice(oe,2*oe));let we,De,$e;try{we=O.fromHex(Se,be),De=O.fromHex(Ie.slice(0,oe),be),$e=$.multiplyUnsafe(fe)}catch{return!1}if(!be&&we.isSmallOrder())return!1;const Je=me(Ee,De.toRawBytes(),we.toRawBytes(),Xe);return De.add(we.multiplyUnsafe(Je)).subtract($e).clearCofactor().equals(O.ZERO)},ExtendedPoint:O,utils:{getExtendedPublicKey:X,randomPrivateKey:()=>te(Q.BYTES),precompute:(Ie=8,Xe=O.BASE)=>(Xe._setWindowSize(Ie),Xe.multiply(BigInt(3)),Xe)}}}},75752:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.createHasher=J.isogenyMap=J.hash_to_field=J.expand_message_xof=J.expand_message_xmd=void 0;const h=A(63834),x=A(84097),Y=x.bytesToNumberBE;function M(Q,de){if(Q<0||Q>=1<<8*de)throw new Error(`bad I2OSP call: value=${Q} length=${de}`);const ae=Array.from({length:de}).fill(0);for(let re=de-1;re>=0;re--)ae[re]=255&Q,Q>>>=8;return new Uint8Array(ae)}function j(Q,de){const ae=new Uint8Array(Q.length);for(let re=0;re<Q.length;re++)ae[re]=Q[re]^de[re];return ae}function R(Q){if(!(0,x.isBytes)(Q))throw new Error("Uint8Array expected")}function U(Q){if(!Number.isSafeInteger(Q))throw new Error("number expected")}function H(Q,de,ae,re){R(Q),R(de),U(ae),de.length>255&&(de=re((0,x.concatBytes)((0,x.utf8ToBytes)("H2C-OVERSIZE-DST-"),de)));const{outputLen:te,blockLen:ue}=re,pe=Math.ceil(ae/te);if(pe>255)throw new Error("Invalid xmd length");const he=(0,x.concatBytes)(de,M(de.length,1)),ve=M(0,ue),ge=M(ae,2),Me=new Array(pe),Oe=re((0,x.concatBytes)(ve,Q,ge,M(0,1),he));Me[0]=re((0,x.concatBytes)(Oe,M(1,1),he));for(let B=1;B<=pe;B++){const l=[j(Oe,Me[B-1]),M(B+1,1),he];Me[B]=re((0,x.concatBytes)(...l))}return(0,x.concatBytes)(...Me).slice(0,ae)}function V(Q,de,ae,re,te){if(R(Q),R(de),U(ae),de.length>255){const ue=Math.ceil(2*re/8);de=te.create({dkLen:ue}).update((0,x.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(de).digest()}if(ae>65535||de.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return te.create({dkLen:ae}).update(Q).update(M(ae,2)).update(de).update(M(de.length,1)).digest()}function P(Q,de,ae){(0,x.validateObject)(ae,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:re,k:te,m:ue,hash:pe,expand:he,DST:ve}=ae;R(Q),U(de);const ge=function N(Q){if((0,x.isBytes)(Q))return Q;if("string"==typeof Q)return(0,x.utf8ToBytes)(Q);throw new Error("DST must be Uint8Array or string")}(ve),Me=re.toString(2).length,Oe=Math.ceil((Me+te)/8),je=de*ue*Oe;let B;if("xmd"===he)B=H(Q,ge,je,pe);else if("xof"===he)B=V(Q,ge,je,te,pe);else{if("_internal_pass"!==he)throw new Error('expand must be "xmd" or "xof"');B=Q}const l=new Array(de);for(let f=0;f<de;f++){const w=new Array(ue);for(let _=0;_<ue;_++){const D=Oe*(_+f*ue),O=B.subarray(D,D+Oe);w[_]=(0,h.mod)(Y(O),re)}l[f]=w}return l}J.expand_message_xmd=H,J.expand_message_xof=V,J.hash_to_field=P,J.isogenyMap=function ee(Q,de){const ae=de.map(re=>Array.from(re).reverse());return(re,te)=>{const[ue,pe,he,ve]=ae.map(ge=>ge.reduce((Me,Oe)=>Q.add(Q.mul(Me,re),Oe)));return re=Q.div(ue,pe),te=Q.mul(te,Q.div(he,ve)),{x:re,y:te}}},J.createHasher=function W(Q,de,ae){if("function"!=typeof de)throw new Error("mapToCurve() must be defined");return{hashToCurve(re,te){const ue=P(re,2,{...ae,DST:ae.DST,...te}),pe=Q.fromAffine(de(ue[0])),he=Q.fromAffine(de(ue[1])),ve=pe.add(he).clearCofactor();return ve.assertValidity(),ve},encodeToCurve(re,te){const ue=P(re,1,{...ae,DST:ae.encodeDST,...te}),pe=Q.fromAffine(de(ue[0])).clearCofactor();return pe.assertValidity(),pe}}}},63834:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.mapHashToField=J.getMinHashLength=J.getFieldBytesLength=J.hashToPrivateScalar=J.FpSqrtEven=J.FpSqrtOdd=J.Field=J.nLength=J.FpIsSquare=J.FpDiv=J.FpInvertBatch=J.FpPow=J.validateField=J.isNegativeLE=J.FpSqrt=J.tonelliShanks=J.invert=J.pow2=J.pow=J.mod=void 0;const h=A(84097),x=BigInt(0),N=BigInt(1),Y=BigInt(2),M=BigInt(3),j=BigInt(4),R=BigInt(5),U=BigInt(8);function P(D,O){const $=D%O;return $>=x?$:O+$}function ee(D,O,$){if($<=x||O<x)throw new Error("Expected power/modulo > 0");if($===N)return x;let T=N;for(;O>x;)O&N&&(T=T*D%$),D=D*D%$,O>>=N;return T}function Q(D,O){if(D===x||O<=x)throw new Error(`invert: expected positive integers, got n=${D} mod=${O}`);let $=P(D,O),T=O,c=x,E=N,q=N,X=x;for(;$!==x;){const me=T/$,Te=T%$,Ke=c-q*me,Qe=E-X*me;T=$,$=Te,c=q,E=X,q=Ke,X=Qe}if(T!==N)throw new Error("invert: does not exist");return P(c,O)}function de(D){const O=(D-N)/Y;let $,T,c;for($=D-N,T=0;$%Y===x;$/=Y,T++);for(c=Y;c<D&&ee(c,O,D)!==D-N;c++);if(1===T){const q=(D+N)/j;return function(ce,me){const Te=ce.pow(me,q);if(!ce.eql(ce.sqr(Te),me))throw new Error("Cannot find square root");return Te}}const E=($+N)/Y;return function(X,ce){if(X.pow(ce,O)===X.neg(X.ONE))throw new Error("Cannot find square root");let me=T,Te=X.pow(X.mul(X.ONE,c),$),Ke=X.pow(ce,E),Qe=X.pow(ce,$);for(;!X.eql(Qe,X.ONE);){if(X.eql(Qe,X.ZERO))return X.ZERO;let ke=1;for(let Xe=X.sqr(Qe);ke<me&&!X.eql(Xe,X.ONE);ke++)Xe=X.sqr(Xe);const Ie=X.pow(Te,N<<BigInt(me-ke-1));Te=X.sqr(Ie),Ke=X.mul(Ke,Ie),Qe=X.mul(Qe,Te),me=ke}return Ke}}function ae(D){if(D%j===M){const O=(D+N)/j;return function(T,c){const E=T.pow(c,O);if(!T.eql(T.sqr(E),c))throw new Error("Cannot find square root");return E}}if(D%U===R){const O=(D-R)/U;return function(T,c){const E=T.mul(c,Y),q=T.pow(E,O),X=T.mul(c,q),ce=T.mul(T.mul(X,Y),q),me=T.mul(X,T.sub(ce,T.ONE));if(!T.eql(T.sqr(me),c))throw new Error("Cannot find square root");return me}}return de(D)}BigInt(9),BigInt(16),J.mod=P,J.pow=ee,J.pow2=function W(D,O,$){let T=D;for(;O-- >x;)T*=T,T%=$;return T},J.invert=Q,J.tonelliShanks=de,J.FpSqrt=ae,J.isNegativeLE=(D,O)=>(P(D,O)&N)===N;const te=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pe(D,O,$){if($<x)throw new Error("Expected power > 0");if($===x)return D.ONE;if($===N)return O;let T=D.ONE,c=O;for(;$>x;)$&N&&(T=D.mul(T,c)),c=D.sqr(c),$>>=N;return T}function he(D,O){const $=new Array(O.length),T=O.reduce((E,q,X)=>D.is0(q)?E:($[X]=E,D.mul(E,q)),D.ONE),c=D.inv(T);return O.reduceRight((E,q,X)=>D.is0(q)?E:($[X]=D.mul(E,$[X]),D.mul(E,q)),c),$}function Me(D,O){const $=void 0!==O?O:D.toString(2).length;return{nBitLength:$,nByteLength:Math.ceil($/8)}}function f(D){if("bigint"!=typeof D)throw new Error("field order must be bigint");const O=D.toString(2).length;return Math.ceil(O/8)}function w(D){const O=f(D);return O+Math.ceil(O/2)}J.validateField=function ue(D){const $=te.reduce((T,c)=>(T[c]="function",T),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,h.validateObject)(D,$)},J.FpPow=pe,J.FpInvertBatch=he,J.FpDiv=function ve(D,O,$){return D.mul(O,"bigint"==typeof $?Q($,D.ORDER):D.inv($))},J.FpIsSquare=function ge(D){const O=(D.ORDER-N)/Y;return $=>{const T=D.pow($,O);return D.eql(T,D.ZERO)||D.eql(T,D.ONE)}},J.nLength=Me,J.Field=function Oe(D,O,$=!1,T={}){if(D<=x)throw new Error(`Expected Field ORDER > 0, got ${D}`);const{nBitLength:c,nByteLength:E}=Me(D,O);if(E>2048)throw new Error("Field lengths over 2048 bytes are not supported");const q=ae(D),X=Object.freeze({ORDER:D,BITS:c,BYTES:E,MASK:(0,h.bitMask)(c),ZERO:x,ONE:N,create:ce=>P(ce,D),isValid:ce=>{if("bigint"!=typeof ce)throw new Error("Invalid field element: expected bigint, got "+typeof ce);return x<=ce&&ce<D},is0:ce=>ce===x,isOdd:ce=>(ce&N)===N,neg:ce=>P(-ce,D),eql:(ce,me)=>ce===me,sqr:ce=>P(ce*ce,D),add:(ce,me)=>P(ce+me,D),sub:(ce,me)=>P(ce-me,D),mul:(ce,me)=>P(ce*me,D),pow:(ce,me)=>pe(X,ce,me),div:(ce,me)=>P(ce*Q(me,D),D),sqrN:ce=>ce*ce,addN:(ce,me)=>ce+me,subN:(ce,me)=>ce-me,mulN:(ce,me)=>ce*me,inv:ce=>Q(ce,D),sqrt:T.sqrt||(ce=>q(X,ce)),invertBatch:ce=>he(X,ce),cmov:(ce,me,Te)=>Te?me:ce,toBytes:ce=>$?(0,h.numberToBytesLE)(ce,E):(0,h.numberToBytesBE)(ce,E),fromBytes:ce=>{if(ce.length!==E)throw new Error(`Fp.fromBytes: expected ${E}, got ${ce.length}`);return $?(0,h.bytesToNumberLE)(ce):(0,h.bytesToNumberBE)(ce)}});return Object.freeze(X)},J.FpSqrtOdd=function je(D,O){if(!D.isOdd)throw new Error("Field doesn't have isOdd");const $=D.sqrt(O);return D.isOdd($)?$:D.neg($)},J.FpSqrtEven=function B(D,O){if(!D.isOdd)throw new Error("Field doesn't have isOdd");const $=D.sqrt(O);return D.isOdd($)?D.neg($):$},J.hashToPrivateScalar=function l(D,O,$=!1){const T=(D=(0,h.ensureBytes)("privateHash",D)).length,c=Me(O).nByteLength+8;if(c<24||T<c||T>1024)throw new Error(`hashToPrivateScalar: expected ${c}-1024 bytes of input, got ${T}`);return P($?(0,h.bytesToNumberLE)(D):(0,h.bytesToNumberBE)(D),O-N)+N},J.getFieldBytesLength=f,J.getMinHashLength=w,J.mapHashToField=function _(D,O,$=!1){const T=D.length,c=f(O),E=w(O);if(T<16||T<E||T>1024)throw new Error(`expected ${E}-1024 bytes of input, got ${T}`);const X=P($?(0,h.bytesToNumberBE)(D):(0,h.bytesToNumberLE)(D),O-N)+N;return $?(0,h.numberToBytesLE)(X,c):(0,h.numberToBytesBE)(X,c)}},27661:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.montgomery=void 0;const h=A(63834),x=A(84097),N=BigInt(0),Y=BigInt(1);J.montgomery=function j(R){const U=function M(R){return(0,x.validateObject)(R,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...R})}(R),{P:H}=U,V=je=>(0,h.mod)(je,H),P=U.montgomeryBits,ee=Math.ceil(P/8),W=U.nByteLength,Q=U.adjustScalarBytes||(je=>je),de=U.powPminus2||(je=>(0,h.pow)(je,H-BigInt(2),H));function ae(je,B,l){const f=V(je*(B-l));return[B=V(B-f),l=V(l+f)]}function re(je){if("bigint"==typeof je&&N<=je&&je<H)return je;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const te=(U.a-BigInt(2))/BigInt(4);function pe(je){return(0,x.numberToBytesLE)(V(je),ee)}function ge(je,B){const l=function he(je){const B=(0,x.ensureBytes)("u coordinate",je,ee);return 32===W&&(B[31]&=127),(0,x.bytesToNumberLE)(B)}(B),f=function ve(je){const B=(0,x.ensureBytes)("scalar",je),l=B.length;if(l!==ee&&l!==W)throw new Error(`Expected ${ee} or ${W} bytes, got ${l}`);return(0,x.bytesToNumberLE)(Q(B))}(je),w=function ue(je,B){const l=re(je),f=re(B),w=l;let c,_=Y,D=N,O=l,$=Y,T=N;for(let q=BigInt(P-1);q>=N;q--){const X=f>>q&Y;T^=X,c=ae(T,_,O),_=c[0],O=c[1],c=ae(T,D,$),D=c[0],$=c[1],T=X;const ce=_+D,me=V(ce*ce),Te=_-D,Ke=V(Te*Te),Qe=me-Ke,ke=O+$,Xe=V((O-$)*ce),Se=V(ke*Te),Le=Xe+Se,Ee=Xe-Se;O=V(Le*Le),$=V(w*V(Ee*Ee)),_=V(me*Ke),D=V(Qe*(me+V(te*Qe)))}c=ae(T,_,O),_=c[0],O=c[1],c=ae(T,D,$),D=c[0],$=c[1];const E=de(D);return V(_*E)}(l,f);if(w===N)throw new Error("Invalid private or public key received");return pe(w)}const Me=pe(U.Gu);function Oe(je){return ge(je,Me)}return{scalarMult:ge,scalarMultBase:Oe,getSharedSecret:(je,B)=>ge(je,B),getPublicKey:je=>Oe(je),utils:{randomPrivateKey:()=>U.randomBytes(U.nByteLength)},GuBytes:Me}}},84097:(Ye,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.validateObject=J.createHmacDrbg=J.bitMask=J.bitSet=J.bitGet=J.bitLen=J.utf8ToBytes=J.equalBytes=J.concatBytes=J.ensureBytes=J.numberToVarBytesBE=J.numberToBytesLE=J.numberToBytesBE=J.bytesToNumberLE=J.bytesToNumberBE=J.hexToBytes=J.hexToNumber=J.numberToHexUnpadded=J.bytesToHex=J.isBytes=void 0;const A=BigInt(0),h=BigInt(1),x=BigInt(2);function N(f){return f instanceof Uint8Array||null!=f&&"object"==typeof f&&"Uint8Array"===f.constructor.name}J.isBytes=N;const Y=Array.from({length:256},(f,w)=>w.toString(16).padStart(2,"0"));function M(f){if(!N(f))throw new Error("Uint8Array expected");let w="";for(let _=0;_<f.length;_++)w+=Y[f[_]];return w}function j(f){const w=f.toString(16);return 1&w.length?`0${w}`:w}function R(f){if("string"!=typeof f)throw new Error("hex string expected, got "+typeof f);return BigInt(""===f?"0":`0x${f}`)}J.bytesToHex=M,J.numberToHexUnpadded=j,J.hexToNumber=R;const U={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function H(f){return f>=U._0&&f<=U._9?f-U._0:f>=U._A&&f<=U._F?f-(U._A-10):f>=U._a&&f<=U._f?f-(U._a-10):void 0}function V(f){if("string"!=typeof f)throw new Error("hex string expected, got "+typeof f);const w=f.length,_=w/2;if(w%2)throw new Error("padded hex string expected, got unpadded hex of length "+w);const D=new Uint8Array(_);for(let O=0,$=0;O<_;O++,$+=2){const T=H(f.charCodeAt($)),c=H(f.charCodeAt($+1));if(void 0===T||void 0===c)throw new Error('hex string expected, got non-hex character "'+(f[$]+f[$+1])+'" at index '+$);D[O]=16*T+c}return D}function W(f,w){return V(f.toString(16).padStart(2*w,"0"))}function re(...f){let w=0;for(let O=0;O<f.length;O++){const $=f[O];if(!N($))throw new Error("Uint8Array expected");w+=$.length}let _=new Uint8Array(w),D=0;for(let O=0;O<f.length;O++){const $=f[O];_.set($,D),D+=$.length}return _}J.hexToBytes=V,J.bytesToNumberBE=function P(f){return R(M(f))},J.bytesToNumberLE=function ee(f){if(!N(f))throw new Error("Uint8Array expected");return R(M(Uint8Array.from(f).reverse()))},J.numberToBytesBE=W,J.numberToBytesLE=function Q(f,w){return W(f,w).reverse()},J.numberToVarBytesBE=function de(f){return V(j(f))},J.ensureBytes=function ae(f,w,_){let D;if("string"==typeof w)try{D=V(w)}catch($){throw new Error(`${f} must be valid hex string, got "${w}". Cause: ${$}`)}else{if(!N(w))throw new Error(`${f} must be hex string or Uint8Array`);D=Uint8Array.from(w)}const O=D.length;if("number"==typeof _&&O!==_)throw new Error(`${f} expected ${_} bytes, got ${O}`);return D},J.concatBytes=re,J.equalBytes=function te(f,w){if(f.length!==w.length)return!1;let _=0;for(let D=0;D<f.length;D++)_|=f[D]^w[D];return 0===_},J.utf8ToBytes=function ue(f){if("string"!=typeof f)throw new Error("utf8ToBytes expected string, got "+typeof f);return new Uint8Array((new TextEncoder).encode(f))},J.bitLen=function pe(f){let w;for(w=0;f>A;f>>=h,w+=1);return w},J.bitGet=function he(f,w){return f>>BigInt(w)&h},J.bitSet=(f,w,_)=>f|(_?h:A)<<BigInt(w),J.bitMask=f=>(x<<BigInt(f-1))-h;const Me=f=>new Uint8Array(f),Oe=f=>Uint8Array.from(f);J.createHmacDrbg=function je(f,w,_){if("number"!=typeof f||f<2)throw new Error("hashLen must be a number");if("number"!=typeof w||w<2)throw new Error("qByteLen must be a number");if("function"!=typeof _)throw new Error("hmacFn must be a function");let D=Me(f),O=Me(f),$=0;const T=()=>{D.fill(1),O.fill(0),$=0},c=(...ce)=>_(O,D,...ce),E=(ce=Me())=>{O=c(Oe([0]),ce),D=c(),0!==ce.length&&(O=c(Oe([1]),ce),D=c())},q=()=>{if($++>=1e3)throw new Error("drbg: tried 1000 values");let ce=0;const me=[];for(;ce<w;){D=c();const Te=D.slice();me.push(Te),ce+=D.length}return re(...me)};return(ce,me)=>{let Te;for(T(),E(ce);!(Te=me(q()));)E();return T(),Te}};const B={bigint:f=>"bigint"==typeof f,function:f=>"function"==typeof f,boolean:f=>"boolean"==typeof f,string:f=>"string"==typeof f,stringOrUint8Array:f=>"string"==typeof f||N(f),isSafeInteger:f=>Number.isSafeInteger(f),array:f=>Array.isArray(f),field:(f,w)=>w.Fp.isValid(f),hash:f=>"function"==typeof f&&Number.isSafeInteger(f.outputLen)};J.validateObject=function l(f,w,_={}){const D=(O,$,T)=>{const c=B[$];if("function"!=typeof c)throw new Error(`Invalid validator "${$}", expected function`);const E=f[O];if(!(T&&void 0===E||c(E,f)))throw new Error(`Invalid param ${String(O)}=${E} (${typeof E}), expected ${$}`)};for(const[O,$]of Object.entries(w))D(O,$,!1);for(const[O,$]of Object.entries(_))D(O,$,!0);return f}},73040:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.mapToCurveSimpleSWU=J.SWUFpSqrtRatio=J.weierstrass=J.weierstrassPoints=J.DER=void 0;const h=A(63834),x=A(84097),N=A(84097),Y=A(25299),{bytesToNumberBE:j,hexToBytes:R}=x;J.DER={Err:class extends Error{constructor(ue=""){super(ue)}},_parseInt(te){const{Err:ue}=J.DER;if(te.length<2||2!==te[0])throw new ue("Invalid signature integer tag");const pe=te[1],he=te.subarray(2,pe+2);if(!pe||he.length!==pe)throw new ue("Invalid signature integer: wrong length");if(128&he[0])throw new ue("Invalid signature integer: negative");if(0===he[0]&&!(128&he[1]))throw new ue("Invalid signature integer: unnecessary leading zero");return{d:j(he),l:te.subarray(pe+2)}},toSig(te){const{Err:ue}=J.DER,pe="string"==typeof te?R(te):te;if(!x.isBytes(pe))throw new Error("ui8a expected");let he=pe.length;if(he<2||48!=pe[0])throw new ue("Invalid signature tag");if(pe[1]!==he-2)throw new ue("Invalid signature: incorrect length");const{d:ve,l:ge}=J.DER._parseInt(pe.subarray(2)),{d:Me,l:Oe}=J.DER._parseInt(ge);if(Oe.length)throw new ue("Invalid signature: left bytes after parsing");return{r:ve,s:Me}},hexFromSig(te){const ue=B=>8&Number.parseInt(B[0],16)?"00"+B:B,pe=B=>{const l=B.toString(16);return 1&l.length?`0${l}`:l},he=ue(pe(te.s)),ve=ue(pe(te.r)),ge=he.length/2,Me=ve.length/2,Oe=pe(ge),je=pe(Me);return`30${pe(Me+ge+4)}02${je}${ve}02${Oe}${he}`}};const U=BigInt(0),H=BigInt(1),V=BigInt(2),P=BigInt(3),ee=BigInt(4);function W(te){const ue=function M(te){const ue=(0,Y.validateBasic)(te);x.validateObject(ue,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:pe,Fp:he,a:ve}=ue;if(pe){if(!he.eql(ve,he.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof pe||"bigint"!=typeof pe.beta||"function"!=typeof pe.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...ue})}(te),{Fp:pe}=ue,he=ue.toBytes||((D,O,$)=>{const T=O.toAffine();return x.concatBytes(Uint8Array.from([4]),pe.toBytes(T.x),pe.toBytes(T.y))}),ve=ue.fromBytes||(D=>{const O=D.subarray(1);return{x:pe.fromBytes(O.subarray(0,pe.BYTES)),y:pe.fromBytes(O.subarray(pe.BYTES,2*pe.BYTES))}});function ge(D){const{a:O,b:$}=ue,T=pe.sqr(D),c=pe.mul(T,D);return pe.add(pe.add(c,pe.mul(D,O)),$)}if(!pe.eql(pe.sqr(ue.Gy),ge(ue.Gx)))throw new Error("bad generator point: equation left != right");function Me(D){return"bigint"==typeof D&&U<D&&D<ue.n}function Oe(D){if(!Me(D))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function je(D){const{allowedPrivateKeyLengths:O,nByteLength:$,wrapPrivateKey:T,n:c}=ue;if(O&&"bigint"!=typeof D){if(x.isBytes(D)&&(D=x.bytesToHex(D)),"string"!=typeof D||!O.includes(D.length))throw new Error("Invalid key");D=D.padStart(2*$,"0")}let E;try{E="bigint"==typeof D?D:x.bytesToNumberBE((0,N.ensureBytes)("private key",D,$))}catch{throw new Error(`private key must be ${$} bytes, hex or bigint, not ${typeof D}`)}return T&&(E=h.mod(E,c)),Oe(E),E}const B=new Map;function l(D){if(!(D instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(O,$,T){if(this.px=O,this.py=$,this.pz=T,null==O||!pe.isValid(O))throw new Error("x required");if(null==$||!pe.isValid($))throw new Error("y required");if(null==T||!pe.isValid(T))throw new Error("z required")}static fromAffine(O){const{x:$,y:T}=O||{};if(!O||!pe.isValid($)||!pe.isValid(T))throw new Error("invalid affine point");if(O instanceof f)throw new Error("projective point not allowed");const c=E=>pe.eql(E,pe.ZERO);return c($)&&c(T)?f.ZERO:new f($,T,pe.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(O){const $=pe.invertBatch(O.map(T=>T.pz));return O.map((T,c)=>T.toAffine($[c])).map(f.fromAffine)}static fromHex(O){const $=f.fromAffine(ve((0,N.ensureBytes)("pointHex",O)));return $.assertValidity(),$}static fromPrivateKey(O){return f.BASE.multiply(je(O))}_setWindowSize(O){this._WINDOW_SIZE=O,B.delete(this)}assertValidity(){if(this.is0()){if(ue.allowInfinityPoint&&!pe.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:O,y:$}=this.toAffine();if(!pe.isValid(O)||!pe.isValid($))throw new Error("bad point: x or y not FE");const T=pe.sqr($),c=ge(O);if(!pe.eql(T,c))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:O}=this.toAffine();if(pe.isOdd)return!pe.isOdd(O);throw new Error("Field doesn't support isOdd")}equals(O){l(O);const{px:$,py:T,pz:c}=this,{px:E,py:q,pz:X}=O,ce=pe.eql(pe.mul($,X),pe.mul(E,c)),me=pe.eql(pe.mul(T,X),pe.mul(q,c));return ce&&me}negate(){return new f(this.px,pe.neg(this.py),this.pz)}double(){const{a:O,b:$}=ue,T=pe.mul($,P),{px:c,py:E,pz:q}=this;let X=pe.ZERO,ce=pe.ZERO,me=pe.ZERO,Te=pe.mul(c,c),Ke=pe.mul(E,E),Qe=pe.mul(q,q),ke=pe.mul(c,E);return ke=pe.add(ke,ke),me=pe.mul(c,q),me=pe.add(me,me),X=pe.mul(O,me),ce=pe.mul(T,Qe),ce=pe.add(X,ce),X=pe.sub(Ke,ce),ce=pe.add(Ke,ce),ce=pe.mul(X,ce),X=pe.mul(ke,X),me=pe.mul(T,me),Qe=pe.mul(O,Qe),ke=pe.sub(Te,Qe),ke=pe.mul(O,ke),ke=pe.add(ke,me),me=pe.add(Te,Te),Te=pe.add(me,Te),Te=pe.add(Te,Qe),Te=pe.mul(Te,ke),ce=pe.add(ce,Te),Qe=pe.mul(E,q),Qe=pe.add(Qe,Qe),Te=pe.mul(Qe,ke),X=pe.sub(X,Te),me=pe.mul(Qe,Ke),me=pe.add(me,me),me=pe.add(me,me),new f(X,ce,me)}add(O){l(O);const{px:$,py:T,pz:c}=this,{px:E,py:q,pz:X}=O;let ce=pe.ZERO,me=pe.ZERO,Te=pe.ZERO;const Ke=ue.a,Qe=pe.mul(ue.b,P);let ke=pe.mul($,E),Ie=pe.mul(T,q),Xe=pe.mul(c,X),Se=pe.add($,T),Le=pe.add(E,q);Se=pe.mul(Se,Le),Le=pe.add(ke,Ie),Se=pe.sub(Se,Le),Le=pe.add($,c);let Ee=pe.add(E,X);return Le=pe.mul(Le,Ee),Ee=pe.add(ke,Xe),Le=pe.sub(Le,Ee),Ee=pe.add(T,c),ce=pe.add(q,X),Ee=pe.mul(Ee,ce),ce=pe.add(Ie,Xe),Ee=pe.sub(Ee,ce),Te=pe.mul(Ke,Le),ce=pe.mul(Qe,Xe),Te=pe.add(ce,Te),ce=pe.sub(Ie,Te),Te=pe.add(Ie,Te),me=pe.mul(ce,Te),Ie=pe.add(ke,ke),Ie=pe.add(Ie,ke),Xe=pe.mul(Ke,Xe),Le=pe.mul(Qe,Le),Ie=pe.add(Ie,Xe),Xe=pe.sub(ke,Xe),Xe=pe.mul(Ke,Xe),Le=pe.add(Le,Xe),ke=pe.mul(Ie,Le),me=pe.add(me,ke),ke=pe.mul(Ee,Le),ce=pe.mul(Se,ce),ce=pe.sub(ce,ke),ke=pe.mul(Se,Ie),Te=pe.mul(Ee,Te),Te=pe.add(Te,ke),new f(ce,me,Te)}subtract(O){return this.add(O.negate())}is0(){return this.equals(f.ZERO)}wNAF(O){return _.wNAFCached(this,B,O,$=>{const T=pe.invertBatch($.map(c=>c.pz));return $.map((c,E)=>c.toAffine(T[E])).map(f.fromAffine)})}multiplyUnsafe(O){const $=f.ZERO;if(O===U)return $;if(Oe(O),O===H)return this;const{endo:T}=ue;if(!T)return _.unsafeLadder(this,O);let{k1neg:c,k1:E,k2neg:q,k2:X}=T.splitScalar(O),ce=$,me=$,Te=this;for(;E>U||X>U;)E&H&&(ce=ce.add(Te)),X&H&&(me=me.add(Te)),Te=Te.double(),E>>=H,X>>=H;return c&&(ce=ce.negate()),q&&(me=me.negate()),me=new f(pe.mul(me.px,T.beta),me.py,me.pz),ce.add(me)}multiply(O){Oe(O);let T,c,$=O;const{endo:E}=ue;if(E){const{k1neg:q,k1:X,k2neg:ce,k2:me}=E.splitScalar($);let{p:Te,f:Ke}=this.wNAF(X),{p:Qe,f:ke}=this.wNAF(me);Te=_.constTimeNegate(q,Te),Qe=_.constTimeNegate(ce,Qe),Qe=new f(pe.mul(Qe.px,E.beta),Qe.py,Qe.pz),T=Te.add(Qe),c=Ke.add(ke)}else{const{p:q,f:X}=this.wNAF($);T=q,c=X}return f.normalizeZ([T,c])[0]}multiplyAndAddUnsafe(O,$,T){const c=f.BASE,E=(X,ce)=>ce!==U&&ce!==H&&X.equals(c)?X.multiply(ce):X.multiplyUnsafe(ce),q=E(this,$).add(E(O,T));return q.is0()?void 0:q}toAffine(O){const{px:$,py:T,pz:c}=this,E=this.is0();null==O&&(O=E?pe.ONE:pe.inv(c));const q=pe.mul($,O),X=pe.mul(T,O),ce=pe.mul(c,O);if(E)return{x:pe.ZERO,y:pe.ZERO};if(!pe.eql(ce,pe.ONE))throw new Error("invZ was invalid");return{x:q,y:X}}isTorsionFree(){const{h:O,isTorsionFree:$}=ue;if(O===H)return!0;if($)return $(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:O,clearCofactor:$}=ue;return O===H?this:$?$(f,this):this.multiplyUnsafe(ue.h)}toRawBytes(O=!0){return this.assertValidity(),he(f,this,O)}toHex(O=!0){return x.bytesToHex(this.toRawBytes(O))}}f.BASE=new f(ue.Gx,ue.Gy,pe.ONE),f.ZERO=new f(pe.ZERO,pe.ONE,pe.ZERO);const w=ue.nBitLength,_=(0,Y.wNAF)(f,ue.endo?Math.ceil(w/2):w);return{CURVE:ue,ProjectivePoint:f,normPrivateKeyToScalar:je,weierstrassEquation:ge,isWithinCurveOrder:Me}}function ae(te,ue){const pe=te.ORDER;let he=U;for(let D=pe-H;D%V===U;D/=V)he+=H;const ve=he,ge=V<<ve-H-H,Me=ge*V,Oe=(pe-H)/Me,je=(Oe-H)/V,B=Me-H,l=ge,f=te.pow(ue,Oe),w=te.pow(ue,(Oe+H)/V);let _=(D,O)=>{let $=f,T=te.pow(O,B),c=te.sqr(T);c=te.mul(c,O);let E=te.mul(D,c);E=te.pow(E,je),E=te.mul(E,T),T=te.mul(E,O),c=te.mul(E,D);let q=te.mul(c,T);E=te.pow(q,l);let X=te.eql(E,te.ONE);T=te.mul(c,w),E=te.mul(q,$),c=te.cmov(T,c,X),q=te.cmov(E,q,X);for(let ce=ve;ce>H;ce--){let me=ce-V;me=V<<me-H;let Te=te.pow(q,me);const Ke=te.eql(Te,te.ONE);T=te.mul(c,$),$=te.mul($,$),Te=te.mul(q,$),c=te.cmov(T,c,Ke),q=te.cmov(Te,q,Ke)}return{isValid:X,value:c}};if(te.ORDER%ee===P){const D=(te.ORDER-P)/ee,O=te.sqrt(te.neg(ue));_=($,T)=>{let c=te.sqr(T);const E=te.mul($,T);c=te.mul(c,E);let q=te.pow(c,D);q=te.mul(q,E);const X=te.mul(q,O),ce=te.mul(te.sqr(q),T),me=te.eql(ce,$);return{isValid:me,value:te.cmov(X,q,me)}}}return _}J.weierstrassPoints=W,J.weierstrass=function de(te){const ue=function Q(te){const ue=(0,Y.validateBasic)(te);return x.validateObject(ue,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...ue})}(te),{Fp:pe,n:he}=ue,ve=pe.BYTES+1,ge=2*pe.BYTES+1;function Oe(Le){return h.mod(Le,he)}function je(Le){return h.invert(Le,he)}const{ProjectivePoint:B,normPrivateKeyToScalar:l,weierstrassEquation:f,isWithinCurveOrder:w}=W({...ue,toBytes(Le,Ee,be){const oe=Ee.toAffine(),fe=pe.toBytes(oe.x),we=x.concatBytes;return be?we(Uint8Array.from([Ee.hasEvenY()?2:3]),fe):we(Uint8Array.from([4]),fe,pe.toBytes(oe.y))},fromBytes(Le){const Ee=Le.length,be=Le[0],oe=Le.subarray(1);if(Ee!==ve||2!==be&&3!==be){if(Ee===ge&&4===be)return{x:pe.fromBytes(oe.subarray(0,pe.BYTES)),y:pe.fromBytes(oe.subarray(pe.BYTES,2*pe.BYTES))};throw new Error(`Point of length ${Ee} was invalid. Expected ${ve} compressed bytes or ${ge} uncompressed bytes`)}{const fe=x.bytesToNumberBE(oe);if(!function Me(Le){return U<Le&&Le<pe.ORDER}(fe))throw new Error("Point is not on curve");const we=f(fe);let De=pe.sqrt(we);return!(1&~be)!=((De&H)===H)&&(De=pe.neg(De)),{x:fe,y:De}}}}),_=Le=>x.bytesToHex(x.numberToBytesBE(Le,ue.nByteLength));function D(Le){return Le>he>>H}const $=(Le,Ee,be)=>x.bytesToNumberBE(Le.slice(Ee,be));class T{constructor(Ee,be,oe){this.r=Ee,this.s=be,this.recovery=oe,this.assertValidity()}static fromCompact(Ee){const be=ue.nByteLength;return Ee=(0,N.ensureBytes)("compactSignature",Ee,2*be),new T($(Ee,0,be),$(Ee,be,2*be))}static fromDER(Ee){const{r:be,s:oe}=J.DER.toSig((0,N.ensureBytes)("DER",Ee));return new T(be,oe)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Ee){return new T(this.r,this.s,Ee)}recoverPublicKey(Ee){const{r:be,s:oe,recovery:fe}=this,we=me((0,N.ensureBytes)("msgHash",Ee));if(null==fe||![0,1,2,3].includes(fe))throw new Error("recovery id invalid");const De=2===fe||3===fe?be+ue.n:be;if(De>=pe.ORDER)throw new Error("recovery id 2 or 3 invalid");const Je=B.fromHex((1&fe?"03":"02")+_(De)),Ze=je(De),Pt=Oe(-we*Ze),nt=Oe(oe*Ze),Ge=B.BASE.multiplyAndAddUnsafe(Je,Pt,nt);if(!Ge)throw new Error("point at infinify");return Ge.assertValidity(),Ge}hasHighS(){return D(this.s)}normalizeS(){return this.hasHighS()?new T(this.r,Oe(-this.s),this.recovery):this}toDERRawBytes(){return x.hexToBytes(this.toDERHex())}toDERHex(){return J.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return x.hexToBytes(this.toCompactHex())}toCompactHex(){return _(this.r)+_(this.s)}}const c={isValidPrivateKey(Le){try{return l(Le),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const Le=h.getMinHashLength(ue.n);return h.mapHashToField(ue.randomBytes(Le),ue.n)},precompute:(Le=8,Ee=B.BASE)=>(Ee._setWindowSize(Le),Ee.multiply(BigInt(3)),Ee)};function q(Le){const Ee=x.isBytes(Le),be="string"==typeof Le,oe=(Ee||be)&&Le.length;return Ee?oe===ve||oe===ge:be?oe===2*ve||oe===2*ge:Le instanceof B}const ce=ue.bits2int||function(Le){const Ee=x.bytesToNumberBE(Le),be=8*Le.length-ue.nBitLength;return be>0?Ee>>BigInt(be):Ee},me=ue.bits2int_modN||function(Le){return Oe(ce(Le))},Te=x.bitMask(ue.nBitLength);function Ke(Le){if("bigint"!=typeof Le)throw new Error("bigint expected");if(!(U<=Le&&Le<Te))throw new Error(`bigint expected < 2^${ue.nBitLength}`);return x.numberToBytesBE(Le,ue.nByteLength)}const ke={lowS:ue.lowS,prehash:!1},Ie={lowS:ue.lowS,prehash:!1};return B.BASE._setWindowSize(8),{CURVE:ue,getPublicKey:function E(Le,Ee=!0){return B.fromPrivateKey(Le).toRawBytes(Ee)},getSharedSecret:function X(Le,Ee,be=!0){if(q(Le))throw new Error("first arg must be private key");if(!q(Ee))throw new Error("second arg must be public key");return B.fromHex(Ee).multiply(l(Le)).toRawBytes(be)},sign:function Xe(Le,Ee,be=ke){const{seed:oe,k2sig:fe}=function Qe(Le,Ee,be=ke){if(["recovered","canonical"].some(K=>K in be))throw new Error("sign() legacy options not supported");const{hash:oe,randomBytes:fe}=ue;let{lowS:we,prehash:De,extraEntropy:$e}=be;null==we&&(we=!0),Le=(0,N.ensureBytes)("msgHash",Le),De&&(Le=(0,N.ensureBytes)("prehashed msgHash",oe(Le)));const Je=me(Le),Ze=l(Ee),Pt=[Ke(Ze),Ke(Je)];if(null!=$e){const K=!0===$e?fe(pe.BYTES):$e;Pt.push((0,N.ensureBytes)("extraEntropy",K))}const nt=x.concatBytes(...Pt),Ge=Je;return{seed:nt,k2sig:function Et(K){const C=ce(K);if(!w(C))return;const b=je(C),z=B.BASE.multiply(C).toAffine(),le=Oe(z.x);if(le===U)return;const Ae=Oe(b*Oe(Ge+le*Ze));if(Ae===U)return;let Be=(z.x===le?0:2)|Number(z.y&H),ft=Ae;return we&&D(Ae)&&(ft=function O(Le){return D(Le)?Oe(-Le):Le}(Ae),Be^=1),new T(le,ft,Be)}}}(Le,Ee,be);return x.createHmacDrbg(ue.hash.outputLen,ue.nByteLength,ue.hmac)(oe,fe)},verify:function Se(Le,Ee,be,oe=Ie){const fe=Le;if(Ee=(0,N.ensureBytes)("msgHash",Ee),be=(0,N.ensureBytes)("publicKey",be),"strict"in oe)throw new Error("options.strict was renamed to lowS");const{lowS:we,prehash:De}=oe;let $e,Je;try{if("string"==typeof fe||x.isBytes(fe))try{$e=T.fromDER(fe)}catch(z){if(!(z instanceof J.DER.Err))throw z;$e=T.fromCompact(fe)}else{if("object"!=typeof fe||"bigint"!=typeof fe.r||"bigint"!=typeof fe.s)throw new Error("PARSE");{const{r:z,s:le}=fe;$e=new T(z,le)}}Je=B.fromHex(be)}catch(z){if("PARSE"===z.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(we&&$e.hasHighS())return!1;De&&(Ee=ue.hash(Ee));const{r:Ze,s:Pt}=$e,nt=me(Ee),Ge=je(Pt),Et=Oe(nt*Ge),K=Oe(Ze*Ge),C=B.BASE.multiplyAndAddUnsafe(Je,Et,K)?.toAffine();return!!C&&Oe(C.x)===Ze},ProjectivePoint:B,Signature:T,utils:c}},J.SWUFpSqrtRatio=ae,J.mapToCurveSimpleSWU=function re(te,ue){if(h.validateField(te),!te.isValid(ue.A)||!te.isValid(ue.B)||!te.isValid(ue.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const pe=ae(te,ue.Z);if(!te.isOdd)throw new Error("Fp.isOdd is not implemented!");return he=>{let ve,ge,Me,Oe,je,B,l,f;ve=te.sqr(he),ve=te.mul(ve,ue.Z),ge=te.sqr(ve),ge=te.add(ge,ve),Me=te.add(ge,te.ONE),Me=te.mul(Me,ue.B),Oe=te.cmov(ue.Z,te.neg(ge),!te.eql(ge,te.ZERO)),Oe=te.mul(Oe,ue.A),ge=te.sqr(Me),B=te.sqr(Oe),je=te.mul(B,ue.A),ge=te.add(ge,je),ge=te.mul(ge,Me),B=te.mul(B,Oe),je=te.mul(B,ue.B),ge=te.add(ge,je),l=te.mul(ve,Me);const{isValid:w,value:_}=pe(ge,B);f=te.mul(ve,he),f=te.mul(f,_),l=te.cmov(l,Me,w),f=te.cmov(f,_,w);const D=te.isOdd(he)===te.isOdd(f);return f=te.cmov(te.neg(f),f,D),l=te.div(l,Oe),{x:l,y:f}}}},57340:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.hash_to_ristretto255=J.hashToRistretto255=J.RistrettoPoint=J.encodeToCurve=J.hashToCurve=J.edwardsToMontgomeryPriv=J.edwardsToMontgomery=J.edwardsToMontgomeryPub=J.x25519=J.ed25519ph=J.ed25519ctx=J.ed25519=J.ED25519_TORSION_SUBGROUP=void 0;const h=A(44207),x=A(96492),N=A(45068),Y=A(27661),M=A(63834),j=A(84097),R=A(75752),U=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),H=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),V=BigInt(0),P=BigInt(1),ee=BigInt(2),W=BigInt(5),Q=BigInt(10),de=BigInt(20),ae=BigInt(40),re=BigInt(80);function te(Xe){const Se=U,Ee=Xe*Xe%Se*Xe%Se,be=(0,M.pow2)(Ee,ee,Se)*Ee%Se,oe=(0,M.pow2)(be,P,Se)*Xe%Se,fe=(0,M.pow2)(oe,W,Se)*oe%Se,we=(0,M.pow2)(fe,Q,Se)*fe%Se,De=(0,M.pow2)(we,de,Se)*we%Se,$e=(0,M.pow2)(De,ae,Se)*De%Se,Je=(0,M.pow2)($e,re,Se)*$e%Se,Ze=(0,M.pow2)(Je,re,Se)*$e%Se,Pt=(0,M.pow2)(Ze,Q,Se)*fe%Se;return{pow_p_5_8:(0,M.pow2)(Pt,ee,Se)*Xe%Se,b2:Ee}}function ue(Xe){return Xe[0]&=248,Xe[31]&=127,Xe[31]|=64,Xe}function pe(Xe,Se){const Le=U,Ee=(0,M.mod)(Se*Se*Se,Le),oe=te(Xe*(0,M.mod)(Ee*Ee*Se,Le)).pow_p_5_8;let fe=(0,M.mod)(Xe*Ee*oe,Le);const we=(0,M.mod)(Se*fe*fe,Le),De=fe,$e=(0,M.mod)(fe*H,Le),Je=we===Xe,Ze=we===(0,M.mod)(-Xe,Le),Pt=we===(0,M.mod)(-Xe*H,Le);return Je&&(fe=De),(Ze||Pt)&&(fe=$e),(0,M.isNegativeLE)(fe,Le)&&(fe=(0,M.mod)(-fe,Le)),{isValid:Je||Ze,value:fe}}J.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const he=(0,M.Field)(U,void 0,!0),ve={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:he,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:h.sha512,randomBytes:x.randomBytes,adjustScalarBytes:ue,uvRatio:pe};function ge(Xe,Se,Le){if(Se.length>255)throw new Error("Context is too big");return(0,x.concatBytes)((0,x.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([Le?1:0,Se.length]),Se,Xe)}function Me(Xe){const{y:Se}=J.ed25519.ExtendedPoint.fromHex(Xe),Le=BigInt(1);return he.toBytes(he.create((Le+Se)*he.inv(Le-Se)))}J.ed25519=(0,N.twistedEdwards)(ve),J.ed25519ctx=(0,N.twistedEdwards)({...ve,domain:ge}),J.ed25519ph=(0,N.twistedEdwards)({...ve,domain:ge,prehash:h.sha512}),J.x25519=(0,Y.montgomery)({P:U,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Xe=>{const Se=U,{pow_p_5_8:Le,b2:Ee}=te(Xe);return(0,M.mod)((0,M.pow2)(Le,BigInt(3),Se)*Ee,Se)},adjustScalarBytes:ue,randomBytes:x.randomBytes}),J.edwardsToMontgomeryPub=Me,J.edwardsToMontgomery=Me,J.edwardsToMontgomeryPriv=function Oe(Xe){const Se=ve.hash(Xe.subarray(0,32));return ve.adjustScalarBytes(Se).subarray(0,32)};const je=(he.ORDER+BigInt(3))/BigInt(8),B=he.pow(ee,je),l=he.sqrt(he.neg(he.ONE)),f=(he.ORDER-BigInt(5))/BigInt(8),w=BigInt(486662),D=(0,M.FpSqrtEven)(he,he.neg(BigInt(486664)));const $=(0,R.createHasher)(J.ed25519.ExtendedPoint,Xe=>function O(Xe){const{xMn:Se,xMd:Le,yMn:Ee,yMd:be}=function _(Xe){let Se=he.sqr(Xe);Se=he.mul(Se,ee);let Le=he.add(Se,he.ONE),Ee=he.neg(w),be=he.sqr(Le),oe=he.mul(be,Le),fe=he.mul(Se,w);fe=he.mul(fe,Ee),fe=he.add(fe,be),fe=he.mul(fe,Ee);let we=he.sqr(oe);be=he.sqr(we),we=he.mul(we,oe),we=he.mul(we,fe),be=he.mul(be,we);let De=he.pow(be,f);De=he.mul(De,we);let $e=he.mul(De,l);be=he.sqr(De),be=he.mul(be,oe);let Je=he.eql(be,fe),Ze=he.cmov($e,De,Je),Pt=he.mul(Ee,Se),nt=he.mul(De,Xe);nt=he.mul(nt,B);let Ge=he.mul(nt,l),Et=he.mul(fe,Se);be=he.sqr(nt),be=he.mul(be,oe);let K=he.eql(be,Et),C=he.cmov(Ge,nt,K);be=he.sqr(Ze),be=he.mul(be,oe);let b=he.eql(be,fe),z=he.cmov(Pt,Ee,b),le=he.cmov(C,Ze,b),Ae=he.isOdd(le);return le=he.cmov(le,he.neg(le),b!==Ae),{xMn:z,xMd:Le,yMn:le,yMd:P}}(Xe);let oe=he.mul(Se,be);oe=he.mul(oe,D);let fe=he.mul(Le,Ee),we=he.sub(Se,Le),De=he.add(Se,Le),$e=he.mul(fe,De),Je=he.eql($e,he.ZERO);oe=he.cmov(oe,he.ZERO,Je),fe=he.cmov(fe,he.ONE,Je),we=he.cmov(we,he.ONE,Je),De=he.cmov(De,he.ONE,Je);const Ze=he.invertBatch([fe,De]);return{x:he.mul(oe,Ze[0]),y:he.mul(we,Ze[1])}}(Xe[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:he.ORDER,m:1,k:128,expand:"xmd",hash:h.sha512});function T(Xe){if(!(Xe instanceof ke))throw new Error("RistrettoPoint expected")}J.hashToCurve=$.hashToCurve,J.encodeToCurve=$.encodeToCurve;const c=H,E=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),q=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),X=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),ce=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),me=Xe=>pe(P,Xe),Te=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ke=Xe=>J.ed25519.CURVE.Fp.create((0,j.bytesToNumberLE)(Xe)&Te);function Qe(Xe){const{d:Se}=J.ed25519.CURVE,Le=J.ed25519.CURVE.Fp.ORDER,Ee=J.ed25519.CURVE.Fp.create,be=Ee(c*Xe*Xe),oe=Ee((be+P)*X);let fe=BigInt(-1);const we=Ee((fe-Se*be)*Ee(be+Se));let{isValid:De,value:$e}=pe(oe,we),Je=Ee($e*Xe);(0,M.isNegativeLE)(Je,Le)||(Je=Ee(-Je)),De||($e=Je),De||(fe=be);const Ze=Ee(fe*(be-P)*ce-we),Pt=$e*$e,nt=Ee(($e+$e)*we),Ge=Ee(Ze*E),Et=Ee(P-Pt),K=Ee(P+Pt);return new J.ed25519.ExtendedPoint(Ee(nt*K),Ee(Et*Ge),Ee(Ge*K),Ee(nt*Et))}class ke{constructor(Se){this.ep=Se}static fromAffine(Se){return new ke(J.ed25519.ExtendedPoint.fromAffine(Se))}static hashToCurve(Se){Se=(0,j.ensureBytes)("ristrettoHash",Se,64);const Ee=Qe(Ke(Se.slice(0,32))),oe=Qe(Ke(Se.slice(32,64)));return new ke(Ee.add(oe))}static fromHex(Se){Se=(0,j.ensureBytes)("ristrettoHex",Se,32);const{a:Le,d:Ee}=J.ed25519.CURVE,be=J.ed25519.CURVE.Fp.ORDER,oe=J.ed25519.CURVE.Fp.create,fe="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",we=Ke(Se);if(!(0,j.equalBytes)((0,j.numberToBytesLE)(we,32),Se)||(0,M.isNegativeLE)(we,be))throw new Error(fe);const De=oe(we*we),$e=oe(P+Le*De),Je=oe(P-Le*De),Ze=oe($e*$e),Pt=oe(Je*Je),nt=oe(Le*Ee*Ze-Pt),{isValid:Ge,value:Et}=me(oe(nt*Pt)),K=oe(Et*Je),C=oe(Et*K*nt);let b=oe((we+we)*K);(0,M.isNegativeLE)(b,be)&&(b=oe(-b));const z=oe($e*C),le=oe(b*z);if(!Ge||(0,M.isNegativeLE)(le,be)||z===V)throw new Error(fe);return new ke(new J.ed25519.ExtendedPoint(b,z,P,le))}toRawBytes(){let{ex:Se,ey:Le,ez:Ee,et:be}=this.ep;const oe=J.ed25519.CURVE.Fp.ORDER,fe=J.ed25519.CURVE.Fp.create,we=fe(fe(Ee+Le)*fe(Ee-Le)),De=fe(Se*Le),$e=fe(De*De),{value:Je}=me(fe(we*$e)),Ze=fe(Je*we),Pt=fe(Je*De),nt=fe(Ze*Pt*be);let Ge;if((0,M.isNegativeLE)(be*nt,oe)){let K=fe(Le*c),C=fe(Se*c);Se=K,Le=C,Ge=fe(Ze*q)}else Ge=Pt;(0,M.isNegativeLE)(Se*nt,oe)&&(Le=fe(-Le));let Et=fe((Ee-Le)*Ge);return(0,M.isNegativeLE)(Et,oe)&&(Et=fe(-Et)),(0,j.numberToBytesLE)(Et,32)}toHex(){return(0,j.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(Se){T(Se);const{ex:Le,ey:Ee}=this.ep,{ex:be,ey:oe}=Se.ep,fe=J.ed25519.CURVE.Fp.create,we=fe(Le*oe)===fe(Ee*be),De=fe(Ee*oe)===fe(Le*be);return we||De}add(Se){return T(Se),new ke(this.ep.add(Se.ep))}subtract(Se){return T(Se),new ke(this.ep.subtract(Se.ep))}multiply(Se){return new ke(this.ep.multiply(Se))}multiplyUnsafe(Se){return new ke(this.ep.multiplyUnsafe(Se))}double(){return new ke(this.ep.double())}negate(){return new ke(this.ep.negate())}}J.RistrettoPoint=(ke.BASE||(ke.BASE=new ke(J.ed25519.ExtendedPoint.BASE)),ke.ZERO||(ke.ZERO=new ke(J.ed25519.ExtendedPoint.ZERO)),ke),J.hashToRistretto255=(Xe,Se)=>{const Le=Se.DST,Ee="string"==typeof Le?(0,x.utf8ToBytes)(Le):Le,be=(0,R.expand_message_xmd)(Xe,Ee,64,h.sha512);return ke.hashToCurve(be)},J.hash_to_ristretto255=J.hashToRistretto255},91717:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.encodeToCurve=J.hashToCurve=J.schnorr=J.secp256k1=void 0;const h=A(1806),x=A(96492),N=A(63834),Y=A(73040),M=A(84097),j=A(75752),R=A(4521),U=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),H=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),V=BigInt(1),P=BigInt(2),ee=(T,c)=>(T+c/P)/c;function W(T){const c=U,E=BigInt(3),q=BigInt(6),X=BigInt(11),ce=BigInt(22),me=BigInt(23),Te=BigInt(44),Ke=BigInt(88),Qe=T*T*T%c,ke=Qe*Qe*T%c,Ie=(0,N.pow2)(ke,E,c)*ke%c,Xe=(0,N.pow2)(Ie,E,c)*ke%c,Se=(0,N.pow2)(Xe,P,c)*Qe%c,Le=(0,N.pow2)(Se,X,c)*Se%c,Ee=(0,N.pow2)(Le,ce,c)*Le%c,be=(0,N.pow2)(Ee,Te,c)*Ee%c,oe=(0,N.pow2)(be,Ke,c)*be%c,fe=(0,N.pow2)(oe,Te,c)*Ee%c,we=(0,N.pow2)(fe,E,c)*ke%c,De=(0,N.pow2)(we,me,c)*Le%c,$e=(0,N.pow2)(De,q,c)*Qe%c,Je=(0,N.pow2)($e,P,c);if(!Q.eql(Q.sqr(Je),T))throw new Error("Cannot find square root");return Je}const Q=(0,N.Field)(U,void 0,void 0,{sqrt:W});J.secp256k1=(0,R.createCurve)({a:BigInt(0),b:BigInt(7),Fp:Q,n:H,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:T=>{const c=H,E=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),q=-V*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),X=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ce=E,me=BigInt("0x100000000000000000000000000000000"),Te=ee(ce*T,c),Ke=ee(-q*T,c);let Qe=(0,N.mod)(T-Te*E-Ke*X,c),ke=(0,N.mod)(-Te*q-Ke*ce,c);const Ie=Qe>me,Xe=ke>me;if(Ie&&(Qe=c-Qe),Xe&&(ke=c-ke),Qe>me||ke>me)throw new Error("splitScalar: Endomorphism failed, k="+T);return{k1neg:Ie,k1:Qe,k2neg:Xe,k2:ke}}}},h.sha256);const de=BigInt(0),ae=T=>"bigint"==typeof T&&de<T&&T<U,te={};function ue(T,...c){let E=te[T];if(void 0===E){const q=(0,h.sha256)(Uint8Array.from(T,X=>X.charCodeAt(0)));E=(0,M.concatBytes)(q,q),te[T]=E}return(0,h.sha256)((0,M.concatBytes)(E,...c))}const pe=T=>T.toRawBytes(!0).slice(1),he=T=>(0,M.numberToBytesBE)(T,32),ve=T=>(0,N.mod)(T,U),ge=T=>(0,N.mod)(T,H),Me=J.secp256k1.ProjectivePoint;function je(T){let c=J.secp256k1.utils.normPrivateKeyToScalar(T),E=Me.fromPrivateKey(c);return{scalar:E.hasEvenY()?c:ge(-c),bytes:pe(E)}}function B(T){if(!ae(T))throw new Error("bad x: need 0 < x < p");const c=ve(T*T);let q=W(ve(c*T+BigInt(7)));q%P!==de&&(q=ve(-q));const X=new Me(T,q,V);return X.assertValidity(),X}function l(...T){return ge((0,M.bytesToNumberBE)(ue("BIP0340/challenge",...T)))}function _(T,c,E){const q=(0,M.ensureBytes)("signature",T,64),X=(0,M.ensureBytes)("message",c),ce=(0,M.ensureBytes)("publicKey",E,32);try{const me=B((0,M.bytesToNumberBE)(ce)),Te=(0,M.bytesToNumberBE)(q.subarray(0,32));if(!ae(Te))return!1;const Ke=(0,M.bytesToNumberBE)(q.subarray(32,64));if(!(T=>"bigint"==typeof T&&de<T&&T<H)(Ke))return!1;const Qe=l(he(Te),pe(me),X),ke=((T,c,E)=>Me.BASE.multiplyAndAddUnsafe(T,c,E))(me,Ke,ge(-Qe));return!(!ke||!ke.hasEvenY()||ke.toAffine().x!==Te)}catch{return!1}}J.schnorr={getPublicKey:function f(T){return je(T).bytes},sign:function w(T,c,E=(0,x.randomBytes)(32)){const q=(0,M.ensureBytes)("message",T),{bytes:X,scalar:ce}=je(c),me=(0,M.ensureBytes)("auxRand",E,32),Te=he(ce^(0,M.bytesToNumberBE)(ue("BIP0340/aux",me))),Ke=ue("BIP0340/nonce",Te,X,q),Qe=ge((0,M.bytesToNumberBE)(Ke));if(Qe===de)throw new Error("sign failed: k is zero");const{bytes:ke,scalar:Ie}=je(Qe),Xe=l(ke,X,q),Se=new Uint8Array(64);if(Se.set(ke,0),Se.set(he(ge(Ie+Xe*ce)),32),!_(Se,q,X))throw new Error("sign: Invalid signature produced");return Se},verify:_,utils:{randomPrivateKey:J.secp256k1.utils.randomPrivateKey,lift_x:B,pointToBytes:pe,numberToBytesBE:M.numberToBytesBE,bytesToNumberBE:M.bytesToNumberBE,taggedHash:ue,mod:N.mod}};const D=(0,j.isogenyMap)(Q,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(T=>T.map(c=>BigInt(c)))),O=(0,Y.mapToCurveSimpleSWU)(Q,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Q.create(BigInt("-11"))}),$=(0,j.createHasher)(J.secp256k1.ProjectivePoint,T=>{const{x:c,y:E}=O(Q.create(T[0]));return D(c,E)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Q.ORDER,m:1,k:128,expand:"xmd",hash:h.sha256});J.hashToCurve=$.hashToCurve,J.encodeToCurve=$.encodeToCurve},68578:(Ye,J)=>{"use strict";function A(U){if(!Number.isSafeInteger(U)||U<0)throw new Error(`Wrong positive integer: ${U}`)}function h(U){if("boolean"!=typeof U)throw new Error(`Expected boolean, not ${U}`)}function N(U,...H){if(!function x(U){return U instanceof Uint8Array||null!=U&&"object"==typeof U&&"Uint8Array"===U.constructor.name}(U))throw new Error("Expected Uint8Array");if(H.length>0&&!H.includes(U.length))throw new Error(`Expected Uint8Array of length ${H}, not of length=${U.length}`)}function Y(U){if("function"!=typeof U||"function"!=typeof U.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");A(U.outputLen),A(U.blockLen)}function M(U,H=!0){if(U.destroyed)throw new Error("Hash instance has been destroyed");if(H&&U.finished)throw new Error("Hash#digest() has already been called")}function j(U,H){N(U);const V=H.outputLen;if(U.length<V)throw new Error(`digestInto() expects output buffer of length at least ${V}`)}Object.defineProperty(J,"__esModule",{value:!0}),J.output=J.exists=J.hash=J.bytes=J.bool=J.number=void 0,J.number=A,J.bool=h,J.bytes=N,J.hash=Y,J.exists=M,J.output=j,J.default={number:A,bool:h,bytes:N,hash:Y,exists:M,output:j}},25724:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.SHA2=void 0;const h=A(68578),x=A(96492);J.SHA2=class Y extends x.Hash{constructor(j,R,U,H){super(),this.blockLen=j,this.outputLen=R,this.padOffset=U,this.isLE=H,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(j),this.view=(0,x.createView)(this.buffer)}update(j){(0,h.exists)(this);const{view:R,buffer:U,blockLen:H}=this,V=(j=(0,x.toBytes)(j)).length;for(let P=0;P<V;){const ee=Math.min(H-this.pos,V-P);if(ee!==H)U.set(j.subarray(P,P+ee),this.pos),this.pos+=ee,P+=ee,this.pos===H&&(this.process(R,0),this.pos=0);else{const W=(0,x.createView)(j);for(;H<=V-P;P+=H)this.process(W,P)}}return this.length+=j.length,this.roundClean(),this}digestInto(j){(0,h.exists)(this),(0,h.output)(j,this),this.finished=!0;const{buffer:R,view:U,blockLen:H,isLE:V}=this;let{pos:P}=this;R[P++]=128,this.buffer.subarray(P).fill(0),this.padOffset>H-P&&(this.process(U,0),P=0);for(let ae=P;ae<H;ae++)R[ae]=0;(function N(M,j,R,U){if("function"==typeof M.setBigUint64)return M.setBigUint64(j,R,U);const H=BigInt(32),V=BigInt(4294967295),P=Number(R>>H&V),ee=Number(R&V),Q=U?0:4;M.setUint32(j+(U?4:0),P,U),M.setUint32(j+Q,ee,U)})(U,H-8,BigInt(8*this.length),V),this.process(U,0);const ee=(0,x.createView)(j),W=this.outputLen;if(W%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Q=W/4,de=this.get();if(Q>de.length)throw new Error("_sha2: outputLen bigger than state");for(let ae=0;ae<Q;ae++)ee.setUint32(4*ae,de[ae],V)}digest(){const{buffer:j,outputLen:R}=this;this.digestInto(j);const U=j.slice(0,R);return this.destroy(),U}_cloneInto(j){j||(j=new this.constructor),j.set(...this.get());const{blockLen:R,buffer:U,length:H,finished:V,destroyed:P,pos:ee}=this;return j.length=H,j.pos=ee,j.finished=V,j.destroyed=P,H%R&&j.buffer.set(U),j}}},35059:(Ye,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.add5L=J.add5H=J.add4H=J.add4L=J.add3H=J.add3L=J.add=J.rotlBL=J.rotlBH=J.rotlSL=J.rotlSH=J.rotr32L=J.rotr32H=J.rotrBL=J.rotrBH=J.rotrSL=J.rotrSH=J.shrSL=J.shrSH=J.toBig=J.split=J.fromBig=void 0;const A=BigInt(2**32-1),h=BigInt(32);function x(Oe,je=!1){return je?{h:Number(Oe&A),l:Number(Oe>>h&A)}:{h:0|Number(Oe>>h&A),l:0|Number(Oe&A)}}function N(Oe,je=!1){let B=new Uint32Array(Oe.length),l=new Uint32Array(Oe.length);for(let f=0;f<Oe.length;f++){const{h:w,l:_}=x(Oe[f],je);[B[f],l[f]]=[w,_]}return[B,l]}J.fromBig=x,J.split=N;const Y=(Oe,je)=>BigInt(Oe>>>0)<<h|BigInt(je>>>0);J.toBig=Y;const M=(Oe,je,B)=>Oe>>>B;J.shrSH=M;const j=(Oe,je,B)=>Oe<<32-B|je>>>B;J.shrSL=j;const R=(Oe,je,B)=>Oe>>>B|je<<32-B;J.rotrSH=R;const U=(Oe,je,B)=>Oe<<32-B|je>>>B;J.rotrSL=U;const H=(Oe,je,B)=>Oe<<64-B|je>>>B-32;J.rotrBH=H;const V=(Oe,je,B)=>Oe>>>B-32|je<<64-B;J.rotrBL=V;const P=(Oe,je)=>je;J.rotr32H=P;const ee=(Oe,je)=>Oe;J.rotr32L=ee;const W=(Oe,je,B)=>Oe<<B|je>>>32-B;J.rotlSH=W;const Q=(Oe,je,B)=>je<<B|Oe>>>32-B;J.rotlSL=Q;const de=(Oe,je,B)=>je<<B-32|Oe>>>64-B;J.rotlBH=de;const ae=(Oe,je,B)=>Oe<<B-32|je>>>64-B;function re(Oe,je,B,l){const f=(je>>>0)+(l>>>0);return{h:Oe+B+(f/2**32|0)|0,l:0|f}}J.rotlBL=ae,J.add=re;const te=(Oe,je,B)=>(Oe>>>0)+(je>>>0)+(B>>>0);J.add3L=te;const ue=(Oe,je,B,l)=>je+B+l+(Oe/2**32|0)|0;J.add3H=ue;const pe=(Oe,je,B,l)=>(Oe>>>0)+(je>>>0)+(B>>>0)+(l>>>0);J.add4L=pe;const he=(Oe,je,B,l,f)=>je+B+l+f+(Oe/2**32|0)|0;J.add4H=he;const ve=(Oe,je,B,l,f)=>(Oe>>>0)+(je>>>0)+(B>>>0)+(l>>>0)+(f>>>0);J.add5L=ve;const ge=(Oe,je,B,l,f,w)=>je+B+l+f+w+(Oe/2**32|0)|0;J.add5H=ge,J.default={fromBig:x,split:N,toBig:Y,shrSH:M,shrSL:j,rotrSH:R,rotrSL:U,rotrBH:H,rotrBL:V,rotr32H:P,rotr32L:ee,rotlSH:W,rotlSL:Q,rotlBH:de,rotlBL:ae,add:re,add3L:te,add3H:ue,add4L:pe,add4H:he,add5H:ge,add5L:ve}},89948:(Ye,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.crypto=void 0,J.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},57334:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.hkdf=J.expand=J.extract=void 0;const h=A(68578),x=A(96492),N=A(44882);function Y(H,V,P){return(0,h.hash)(H),void 0===P&&(P=new Uint8Array(H.outputLen)),(0,N.hmac)(H,(0,x.toBytes)(P),(0,x.toBytes)(V))}J.extract=Y;const M=new Uint8Array([0]),j=new Uint8Array;function R(H,V,P,ee=32){if((0,h.hash)(H),(0,h.number)(ee),ee>255*H.outputLen)throw new Error("Length should be <= 255*HashLen");const W=Math.ceil(ee/H.outputLen);void 0===P&&(P=j);const Q=new Uint8Array(W*H.outputLen),de=N.hmac.create(H,V),ae=de._cloneInto(),re=new Uint8Array(de.outputLen);for(let te=0;te<W;te++)M[0]=te+1,ae.update(0===te?j:re).update(P).update(M).digestInto(re),Q.set(re,H.outputLen*te),de._cloneInto(ae);return de.destroy(),ae.destroy(),re.fill(0),M.fill(0),Q.slice(0,ee)}J.expand=R,J.hkdf=(H,V,P,ee,W)=>R(H,Y(H,V,P),ee,W)},44882:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.hmac=J.HMAC=void 0;const h=A(68578),x=A(96492);class N extends x.Hash{constructor(j,R){super(),this.finished=!1,this.destroyed=!1,(0,h.hash)(j);const U=(0,x.toBytes)(R);if(this.iHash=j.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const H=this.blockLen,V=new Uint8Array(H);V.set(U.length>H?j.create().update(U).digest():U);for(let P=0;P<V.length;P++)V[P]^=54;this.iHash.update(V),this.oHash=j.create();for(let P=0;P<V.length;P++)V[P]^=106;this.oHash.update(V),V.fill(0)}update(j){return(0,h.exists)(this),this.iHash.update(j),this}digestInto(j){(0,h.exists)(this),(0,h.bytes)(j,this.outputLen),this.finished=!0,this.iHash.digestInto(j),this.oHash.update(j),this.oHash.digestInto(j),this.destroy()}digest(){const j=new Uint8Array(this.oHash.outputLen);return this.digestInto(j),j}_cloneInto(j){j||(j=Object.create(Object.getPrototypeOf(this),{}));const{oHash:R,iHash:U,finished:H,destroyed:V,blockLen:P,outputLen:ee}=this;return j.finished=H,j.destroyed=V,j.blockLen=P,j.outputLen=ee,j.oHash=R._cloneInto(j.oHash),j.iHash=U._cloneInto(j.iHash),j}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}J.HMAC=N,J.hmac=(M,j,R)=>new N(M,j).update(R).digest(),J.hmac.create=(M,j)=>new N(M,j)},1806:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.sha224=J.sha256=void 0;const h=A(25724),x=A(96492),N=(V,P,ee)=>V&P^~V&ee,Y=(V,P,ee)=>V&P^V&ee^P&ee,M=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),j=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),R=new Uint32Array(64);class U extends h.SHA2{constructor(){super(64,32,8,!1),this.A=0|j[0],this.B=0|j[1],this.C=0|j[2],this.D=0|j[3],this.E=0|j[4],this.F=0|j[5],this.G=0|j[6],this.H=0|j[7]}get(){const{A:P,B:ee,C:W,D:Q,E:de,F:ae,G:re,H:te}=this;return[P,ee,W,Q,de,ae,re,te]}set(P,ee,W,Q,de,ae,re,te){this.A=0|P,this.B=0|ee,this.C=0|W,this.D=0|Q,this.E=0|de,this.F=0|ae,this.G=0|re,this.H=0|te}process(P,ee){for(let he=0;he<16;he++,ee+=4)R[he]=P.getUint32(ee,!1);for(let he=16;he<64;he++){const ve=R[he-15],ge=R[he-2],Me=(0,x.rotr)(ve,7)^(0,x.rotr)(ve,18)^ve>>>3,Oe=(0,x.rotr)(ge,17)^(0,x.rotr)(ge,19)^ge>>>10;R[he]=Oe+R[he-7]+Me+R[he-16]|0}let{A:W,B:Q,C:de,D:ae,E:re,F:te,G:ue,H:pe}=this;for(let he=0;he<64;he++){const ge=pe+((0,x.rotr)(re,6)^(0,x.rotr)(re,11)^(0,x.rotr)(re,25))+N(re,te,ue)+M[he]+R[he]|0,Oe=((0,x.rotr)(W,2)^(0,x.rotr)(W,13)^(0,x.rotr)(W,22))+Y(W,Q,de)|0;pe=ue,ue=te,te=re,re=ae+ge|0,ae=de,de=Q,Q=W,W=ge+Oe|0}W=W+this.A|0,Q=Q+this.B|0,de=de+this.C|0,ae=ae+this.D|0,re=re+this.E|0,te=te+this.F|0,ue=ue+this.G|0,pe=pe+this.H|0,this.set(W,Q,de,ae,re,te,ue,pe)}roundClean(){R.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class H extends U{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}J.sha256=(0,x.wrapConstructor)(()=>new U),J.sha224=(0,x.wrapConstructor)(()=>new H)},44207:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.sha384=J.sha512_256=J.sha512_224=J.sha512=J.SHA512=void 0;const h=A(25724),x=A(35059),N=A(96492),[Y,M]=x.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(ee=>BigInt(ee))),j=new Uint32Array(80),R=new Uint32Array(80);class U extends h.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:W,Al:Q,Bh:de,Bl:ae,Ch:re,Cl:te,Dh:ue,Dl:pe,Eh:he,El:ve,Fh:ge,Fl:Me,Gh:Oe,Gl:je,Hh:B,Hl:l}=this;return[W,Q,de,ae,re,te,ue,pe,he,ve,ge,Me,Oe,je,B,l]}set(W,Q,de,ae,re,te,ue,pe,he,ve,ge,Me,Oe,je,B,l){this.Ah=0|W,this.Al=0|Q,this.Bh=0|de,this.Bl=0|ae,this.Ch=0|re,this.Cl=0|te,this.Dh=0|ue,this.Dl=0|pe,this.Eh=0|he,this.El=0|ve,this.Fh=0|ge,this.Fl=0|Me,this.Gh=0|Oe,this.Gl=0|je,this.Hh=0|B,this.Hl=0|l}process(W,Q){for(let _=0;_<16;_++,Q+=4)j[_]=W.getUint32(Q),R[_]=W.getUint32(Q+=4);for(let _=16;_<80;_++){const D=0|j[_-15],O=0|R[_-15],$=x.default.rotrSH(D,O,1)^x.default.rotrSH(D,O,8)^x.default.shrSH(D,O,7),T=x.default.rotrSL(D,O,1)^x.default.rotrSL(D,O,8)^x.default.shrSL(D,O,7),c=0|j[_-2],E=0|R[_-2],q=x.default.rotrSH(c,E,19)^x.default.rotrBH(c,E,61)^x.default.shrSH(c,E,6),X=x.default.rotrSL(c,E,19)^x.default.rotrBL(c,E,61)^x.default.shrSL(c,E,6),ce=x.default.add4L(T,X,R[_-7],R[_-16]),me=x.default.add4H(ce,$,q,j[_-7],j[_-16]);j[_]=0|me,R[_]=0|ce}let{Ah:de,Al:ae,Bh:re,Bl:te,Ch:ue,Cl:pe,Dh:he,Dl:ve,Eh:ge,El:Me,Fh:Oe,Fl:je,Gh:B,Gl:l,Hh:f,Hl:w}=this;for(let _=0;_<80;_++){const D=x.default.rotrSH(ge,Me,14)^x.default.rotrSH(ge,Me,18)^x.default.rotrBH(ge,Me,41),O=x.default.rotrSL(ge,Me,14)^x.default.rotrSL(ge,Me,18)^x.default.rotrBL(ge,Me,41),$=ge&Oe^~ge&B,c=x.default.add5L(w,O,Me&je^~Me&l,M[_],R[_]),E=x.default.add5H(c,f,D,$,Y[_],j[_]),q=0|c,X=x.default.rotrSH(de,ae,28)^x.default.rotrBH(de,ae,34)^x.default.rotrBH(de,ae,39),ce=x.default.rotrSL(de,ae,28)^x.default.rotrBL(de,ae,34)^x.default.rotrBL(de,ae,39),me=de&re^de&ue^re&ue,Te=ae&te^ae&pe^te&pe;f=0|B,w=0|l,B=0|Oe,l=0|je,Oe=0|ge,je=0|Me,({h:ge,l:Me}=x.default.add(0|he,0|ve,0|E,0|q)),he=0|ue,ve=0|pe,ue=0|re,pe=0|te,re=0|de,te=0|ae;const Ke=x.default.add3L(q,ce,Te);de=x.default.add3H(Ke,E,X,me),ae=0|Ke}({h:de,l:ae}=x.default.add(0|this.Ah,0|this.Al,0|de,0|ae)),({h:re,l:te}=x.default.add(0|this.Bh,0|this.Bl,0|re,0|te)),({h:ue,l:pe}=x.default.add(0|this.Ch,0|this.Cl,0|ue,0|pe)),({h:he,l:ve}=x.default.add(0|this.Dh,0|this.Dl,0|he,0|ve)),({h:ge,l:Me}=x.default.add(0|this.Eh,0|this.El,0|ge,0|Me)),({h:Oe,l:je}=x.default.add(0|this.Fh,0|this.Fl,0|Oe,0|je)),({h:B,l}=x.default.add(0|this.Gh,0|this.Gl,0|B,0|l)),({h:f,l:w}=x.default.add(0|this.Hh,0|this.Hl,0|f,0|w)),this.set(de,ae,re,te,ue,pe,he,ve,ge,Me,Oe,je,B,l,f,w)}roundClean(){j.fill(0),R.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}J.SHA512=U;class H extends U{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class V extends U{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class P extends U{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}J.sha512=(0,N.wrapConstructor)(()=>new U),J.sha512_224=(0,N.wrapConstructor)(()=>new H),J.sha512_256=(0,N.wrapConstructor)(()=>new V),J.sha384=(0,N.wrapConstructor)(()=>new P)},96492:(Ye,J,A)=>{"use strict";var h=A(29293).default;Object.defineProperty(J,"__esModule",{value:!0}),J.randomBytes=J.wrapXOFConstructorWithOpts=J.wrapConstructorWithOpts=J.wrapConstructor=J.checkOpts=J.Hash=J.concatBytes=J.toBytes=J.utf8ToBytes=J.asyncLoop=J.nextTick=J.hexToBytes=J.bytesToHex=J.isLE=J.rotr=J.createView=J.u32=J.u8=void 0;const x=A(89948);function M(je){return je instanceof Uint8Array||null!=je&&"object"==typeof je&&"Uint8Array"===je.constructor.name}if(J.u8=je=>new Uint8Array(je.buffer,je.byteOffset,je.byteLength),J.u32=je=>new Uint32Array(je.buffer,je.byteOffset,Math.floor(je.byteLength/4)),J.createView=je=>new DataView(je.buffer,je.byteOffset,je.byteLength),J.rotr=(je,B)=>je<<32-B|je>>>B,J.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!J.isLE)throw new Error("Non little-endian hardware is not supported");const U=Array.from({length:256},(je,B)=>B.toString(16).padStart(2,"0"));J.bytesToHex=function H(je){if(!M(je))throw new Error("Uint8Array expected");let B="";for(let l=0;l<je.length;l++)B+=U[je[l]];return B};const V__0=48,V__9=57,V__A=65,V__F=70,V__a=97,V__f=102;function P(je){return je>=V__0&&je<=V__9?je-V__0:je>=V__A&&je<=V__F?je-(V__A-10):je>=V__a&&je<=V__f?je-(V__a-10):void 0}function de(){return(de=h(function*(je,B,l){let f=Date.now();for(let w=0;w<je;w++){l(w);const _=Date.now()-f;_>=0&&_<B||(yield(0,J.nextTick)(),f+=_)}})).apply(this,arguments)}function ae(je){if("string"!=typeof je)throw new Error("utf8ToBytes expected string, got "+typeof je);return new Uint8Array((new TextEncoder).encode(je))}function re(je){if("string"==typeof je&&(je=ae(je)),!M(je))throw new Error("expected Uint8Array, got "+typeof je);return je}J.hexToBytes=function ee(je){if("string"!=typeof je)throw new Error("hex string expected, got "+typeof je);const B=je.length,l=B/2;if(B%2)throw new Error("padded hex string expected, got unpadded hex of length "+B);const f=new Uint8Array(l);for(let w=0,_=0;w<l;w++,_+=2){const D=P(je.charCodeAt(_)),O=P(je.charCodeAt(_+1));if(void 0===D||void 0===O)throw new Error('hex string expected, got non-hex character "'+(je[_]+je[_+1])+'" at index '+_);f[w]=16*D+O}return f},J.nextTick=function(){var je=h(function*(){});return function(){return je.apply(this,arguments)}}(),J.asyncLoop=function Q(je,B,l){return de.apply(this,arguments)},J.utf8ToBytes=ae,J.toBytes=re,J.concatBytes=function te(...je){let B=0;for(let f=0;f<je.length;f++){const w=je[f];if(!M(w))throw new Error("Uint8Array expected");B+=w.length}const l=new Uint8Array(B);for(let f=0,w=0;f<je.length;f++){const _=je[f];l.set(_,w),w+=_.length}return l},J.Hash=class ue{clone(){return this._cloneInto()}};const pe={}.toString;J.checkOpts=function he(je,B){if(void 0!==B&&"[object Object]"!==pe.call(B))throw new Error("Options should be object or undefined");return Object.assign(je,B)},J.wrapConstructor=function ve(je){const B=f=>je().update(re(f)).digest(),l=je();return B.outputLen=l.outputLen,B.blockLen=l.blockLen,B.create=()=>je(),B},J.wrapConstructorWithOpts=function ge(je){const B=(f,w)=>je(w).update(re(f)).digest(),l=je({});return B.outputLen=l.outputLen,B.blockLen=l.blockLen,B.create=f=>je(f),B},J.wrapXOFConstructorWithOpts=function Me(je){const B=(f,w)=>je(w).update(re(f)).digest(),l=je({});return B.outputLen=l.outputLen,B.blockLen=l.blockLen,B.create=f=>je(f),B},J.randomBytes=function Oe(je=32){if(x.crypto&&"function"==typeof x.crypto.getRandomValues)return x.crypto.getRandomValues(new Uint8Array(je));throw new Error("crypto.getRandomValues must be defined")}},42064:(Ye,J,A)=>{J.Level=A(23963).BrowserLevel},20844:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.MissingRefError=J.ValidationError=J.CodeGen=J.Name=J.nil=J.stringify=J.str=J._=J.KeywordCxt=void 0;const h=A(35419),x=A(98496),N=A(86980),Y=A(87577),M="https://json-schema.org/draft/2020-12/schema";class j extends h.default{constructor(ee={}){super({...ee,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),x.default.forEach(ee=>this.addVocabulary(ee)),this.opts.discriminator&&this.addKeyword(N.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:ee,meta:W}=this.opts;W&&(Y.default.call(this,ee),this.refs["http://json-schema.org/schema"]=M)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(M)?M:void 0)}}Ye.exports=J=j,Object.defineProperty(J,"__esModule",{value:!0}),J.default=j;var R=A(40339);Object.defineProperty(J,"KeywordCxt",{enumerable:!0,get:function(){return R.KeywordCxt}});var U=A(1038);Object.defineProperty(J,"_",{enumerable:!0,get:function(){return U._}}),Object.defineProperty(J,"str",{enumerable:!0,get:function(){return U.str}}),Object.defineProperty(J,"stringify",{enumerable:!0,get:function(){return U.stringify}}),Object.defineProperty(J,"nil",{enumerable:!0,get:function(){return U.nil}}),Object.defineProperty(J,"Name",{enumerable:!0,get:function(){return U.Name}}),Object.defineProperty(J,"CodeGen",{enumerable:!0,get:function(){return U.CodeGen}});var H=A(42467);Object.defineProperty(J,"ValidationError",{enumerable:!0,get:function(){return H.default}});var V=A(26288);Object.defineProperty(J,"MissingRefError",{enumerable:!0,get:function(){return V.default}})},33337:(Ye,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.regexpCode=J.getEsmExportName=J.getProperty=J.safeStringify=J.stringify=J.strConcat=J.addCodeArg=J.str=J._=J.nil=J._Code=J.Name=J.IDENTIFIER=J._CodeOrName=void 0;class A{}J._CodeOrName=A,J.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class h extends A{constructor(re){if(super(),!J.IDENTIFIER.test(re))throw new Error("CodeGen: name must be a valid identifier");this.str=re}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}J.Name=h;class x extends A{constructor(re){super(),this._items="string"==typeof re?[re]:re}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const re=this._items[0];return""===re||'""'===re}get str(){var re;return null!==(re=this._str)&&void 0!==re?re:this._str=this._items.reduce((te,ue)=>`${te}${ue}`,"")}get names(){var re;return null!==(re=this._names)&&void 0!==re?re:this._names=this._items.reduce((te,ue)=>(ue instanceof h&&(te[ue.str]=(te[ue.str]||0)+1),te),{})}}function N(ae,...re){const te=[ae[0]];let ue=0;for(;ue<re.length;)j(te,re[ue]),te.push(ae[++ue]);return new x(te)}J._Code=x,J.nil=new x(""),J._=N;const Y=new x("+");function M(ae,...re){const te=[ee(ae[0])];let ue=0;for(;ue<re.length;)te.push(Y),j(te,re[ue]),te.push(Y,ee(ae[++ue]));return function R(ae){let re=1;for(;re<ae.length-1;){if(ae[re]===Y){const te=U(ae[re-1],ae[re+1]);if(void 0!==te){ae.splice(re-1,3,te);continue}ae[re++]="+"}re++}}(te),new x(te)}function j(ae,re){re instanceof x?ae.push(...re._items):ae.push(re instanceof h?re:function V(ae){return"number"==typeof ae||"boolean"==typeof ae||null===ae?ae:ee(Array.isArray(ae)?ae.join(","):ae)}(re))}function U(ae,re){return'""'===re?ae:'""'===ae?re:"string"==typeof ae?re instanceof h||'"'!==ae[ae.length-1]?void 0:"string"!=typeof re?`${ae.slice(0,-1)}${re}"`:'"'===re[0]?ae.slice(0,-1)+re.slice(1):void 0:"string"!=typeof re||'"'!==re[0]||ae instanceof h?void 0:`"${ae}${re.slice(1)}`}function ee(ae){return JSON.stringify(ae).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}J.str=M,J.addCodeArg=j,J.strConcat=function H(ae,re){return re.emptyStr()?ae:ae.emptyStr()?re:M`${ae}${re}`},J.stringify=function P(ae){return new x(ee(ae))},J.safeStringify=ee,J.getProperty=function W(ae){return"string"==typeof ae&&J.IDENTIFIER.test(ae)?new x(`.${ae}`):N`[${ae}]`},J.getEsmExportName=function Q(ae){if("string"==typeof ae&&J.IDENTIFIER.test(ae))return new x(`${ae}`);throw new Error(`CodeGen: invalid export name: ${ae}, use explicit $id name mapping`)},J.regexpCode=function de(ae){return new x(ae.toString())}},1038:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.or=J.and=J.not=J.CodeGen=J.operators=J.varKinds=J.ValueScopeName=J.ValueScope=J.Scope=J.Name=J.regexpCode=J.stringify=J.getProperty=J.nil=J.strConcat=J.str=J._=void 0;const h=A(33337),x=A(85934);var N=A(33337);Object.defineProperty(J,"_",{enumerable:!0,get:function(){return N._}}),Object.defineProperty(J,"str",{enumerable:!0,get:function(){return N.str}}),Object.defineProperty(J,"strConcat",{enumerable:!0,get:function(){return N.strConcat}}),Object.defineProperty(J,"nil",{enumerable:!0,get:function(){return N.nil}}),Object.defineProperty(J,"getProperty",{enumerable:!0,get:function(){return N.getProperty}}),Object.defineProperty(J,"stringify",{enumerable:!0,get:function(){return N.stringify}}),Object.defineProperty(J,"regexpCode",{enumerable:!0,get:function(){return N.regexpCode}}),Object.defineProperty(J,"Name",{enumerable:!0,get:function(){return N.Name}});var Y=A(85934);Object.defineProperty(J,"Scope",{enumerable:!0,get:function(){return Y.Scope}}),Object.defineProperty(J,"ValueScope",{enumerable:!0,get:function(){return Y.ValueScope}}),Object.defineProperty(J,"ValueScopeName",{enumerable:!0,get:function(){return Y.ValueScopeName}}),Object.defineProperty(J,"varKinds",{enumerable:!0,get:function(){return Y.varKinds}}),J.operators={GT:new h._Code(">"),GTE:new h._Code(">="),LT:new h._Code("<"),LTE:new h._Code("<="),EQ:new h._Code("==="),NEQ:new h._Code("!=="),NOT:new h._Code("!"),OR:new h._Code("||"),AND:new h._Code("&&"),ADD:new h._Code("+")};class M{optimizeNodes(){return this}optimizeNames(ce,me){return this}}class j extends M{constructor(ce,me,Te){super(),this.varKind=ce,this.name=me,this.rhs=Te}render({es5:ce,_n:me}){return`${ce?x.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+me}optimizeNames(ce,me){if(ce[this.name.str])return this.rhs&&(this.rhs=w(this.rhs,ce,me)),this}get names(){return this.rhs instanceof h._CodeOrName?this.rhs.names:{}}}class R extends M{constructor(ce,me,Te){super(),this.lhs=ce,this.rhs=me,this.sideEffects=Te}render({_n:ce}){return`${this.lhs} = ${this.rhs};`+ce}optimizeNames(ce,me){if(!(this.lhs instanceof h.Name)||ce[this.lhs.str]||this.sideEffects)return this.rhs=w(this.rhs,ce,me),this}get names(){return f(this.lhs instanceof h.Name?{}:{...this.lhs.names},this.rhs)}}class U extends R{constructor(ce,me,Te,Ke){super(ce,Te,Ke),this.op=me}render({_n:ce}){return`${this.lhs} ${this.op}= ${this.rhs};`+ce}}class H extends M{constructor(ce){super(),this.label=ce,this.names={}}render({_n:ce}){return`${this.label}:`+ce}}class V extends M{constructor(ce){super(),this.label=ce,this.names={}}render({_n:ce}){return`break${this.label?` ${this.label}`:""};`+ce}}class P extends M{constructor(ce){super(),this.error=ce}render({_n:ce}){return`throw ${this.error};`+ce}get names(){return this.error.names}}class ee extends M{constructor(ce){super(),this.code=ce}render({_n:ce}){return`${this.code};`+ce}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(ce,me){return this.code=w(this.code,ce,me),this}get names(){return this.code instanceof h._CodeOrName?this.code.names:{}}}class W extends M{constructor(ce=[]){super(),this.nodes=ce}render(ce){return this.nodes.reduce((me,Te)=>me+Te.render(ce),"")}optimizeNodes(){const{nodes:ce}=this;let me=ce.length;for(;me--;){const Te=ce[me].optimizeNodes();Array.isArray(Te)?ce.splice(me,1,...Te):Te?ce[me]=Te:ce.splice(me,1)}return ce.length>0?this:void 0}optimizeNames(ce,me){const{nodes:Te}=this;let Ke=Te.length;for(;Ke--;){const Qe=Te[Ke];Qe.optimizeNames(ce,me)||(_(ce,Qe.names),Te.splice(Ke,1))}return Te.length>0?this:void 0}get names(){return this.nodes.reduce((ce,me)=>l(ce,me.names),{})}}class Q extends W{render(ce){return"{"+ce._n+super.render(ce)+"}"+ce._n}}class de extends W{}let ae=(()=>{class X extends Q{}return X.kind="else",X})(),re=(()=>{class X extends Q{constructor(me,Te){super(Te),this.condition=me}render(me){let Te=`if(${this.condition})`+super.render(me);return this.else&&(Te+="else "+this.else.render(me)),Te}optimizeNodes(){super.optimizeNodes();const me=this.condition;if(!0===me)return this.nodes;let Te=this.else;if(Te){const Ke=Te.optimizeNodes();Te=this.else=Array.isArray(Ke)?new ae(Ke):Ke}return Te?!1===me?Te instanceof X?Te:Te.nodes:this.nodes.length?this:new X(D(me),Te instanceof X?[Te]:Te.nodes):!1!==me&&this.nodes.length?this:void 0}optimizeNames(me,Te){var Ke;if(this.else=null===(Ke=this.else)||void 0===Ke?void 0:Ke.optimizeNames(me,Te),super.optimizeNames(me,Te)||this.else)return this.condition=w(this.condition,me,Te),this}get names(){const me=super.names;return f(me,this.condition),this.else&&l(me,this.else.names),me}}return X.kind="if",X})(),te=(()=>{class X extends Q{}return X.kind="for",X})();class ue extends te{constructor(ce){super(),this.iteration=ce}render(ce){return`for(${this.iteration})`+super.render(ce)}optimizeNames(ce,me){if(super.optimizeNames(ce,me))return this.iteration=w(this.iteration,ce,me),this}get names(){return l(super.names,this.iteration.names)}}class pe extends te{constructor(ce,me,Te,Ke){super(),this.varKind=ce,this.name=me,this.from=Te,this.to=Ke}render(ce){const me=ce.es5?x.varKinds.var:this.varKind,{name:Te,from:Ke,to:Qe}=this;return`for(${me} ${Te}=${Ke}; ${Te}<${Qe}; ${Te}++)`+super.render(ce)}get names(){const ce=f(super.names,this.from);return f(ce,this.to)}}class he extends te{constructor(ce,me,Te,Ke){super(),this.loop=ce,this.varKind=me,this.name=Te,this.iterable=Ke}render(ce){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(ce)}optimizeNames(ce,me){if(super.optimizeNames(ce,me))return this.iterable=w(this.iterable,ce,me),this}get names(){return l(super.names,this.iterable.names)}}let ve=(()=>{class X extends Q{constructor(me,Te,Ke){super(),this.name=me,this.args=Te,this.async=Ke}render(me){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(me)}}return X.kind="func",X})(),ge=(()=>{class X extends W{render(me){return"return "+super.render(me)}}return X.kind="return",X})();class Me extends Q{render(ce){let me="try"+super.render(ce);return this.catch&&(me+=this.catch.render(ce)),this.finally&&(me+=this.finally.render(ce)),me}optimizeNodes(){var ce,me;return super.optimizeNodes(),null===(ce=this.catch)||void 0===ce||ce.optimizeNodes(),null===(me=this.finally)||void 0===me||me.optimizeNodes(),this}optimizeNames(ce,me){var Te,Ke;return super.optimizeNames(ce,me),null===(Te=this.catch)||void 0===Te||Te.optimizeNames(ce,me),null===(Ke=this.finally)||void 0===Ke||Ke.optimizeNames(ce,me),this}get names(){const ce=super.names;return this.catch&&l(ce,this.catch.names),this.finally&&l(ce,this.finally.names),ce}}let Oe=(()=>{class X extends Q{constructor(me){super(),this.error=me}render(me){return`catch(${this.error})`+super.render(me)}}return X.kind="catch",X})(),je=(()=>{class X extends Q{render(me){return"finally"+super.render(me)}}return X.kind="finally",X})();function l(X,ce){for(const me in ce)X[me]=(X[me]||0)+(ce[me]||0);return X}function f(X,ce){return ce instanceof h._CodeOrName?l(X,ce.names):X}function w(X,ce,me){return X instanceof h.Name?Te(X):function Ke(Qe){return Qe instanceof h._Code&&Qe._items.some(ke=>ke instanceof h.Name&&1===ce[ke.str]&&void 0!==me[ke.str])}(X)?new h._Code(X._items.reduce((Qe,ke)=>(ke instanceof h.Name&&(ke=Te(ke)),ke instanceof h._Code?Qe.push(...ke._items):Qe.push(ke),Qe),[])):X;function Te(Qe){const ke=me[Qe.str];return void 0===ke||1!==ce[Qe.str]?Qe:(delete ce[Qe.str],ke)}}function _(X,ce){for(const me in ce)X[me]=(X[me]||0)-(ce[me]||0)}function D(X){return"boolean"==typeof X||"number"==typeof X||null===X?!X:h._`!${q(X)}`}J.CodeGen=class B{constructor(ce,me={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...me,_n:me.lines?"\n":""},this._extScope=ce,this._scope=new x.Scope({parent:ce}),this._nodes=[new de]}toString(){return this._root.render(this.opts)}name(ce){return this._scope.name(ce)}scopeName(ce){return this._extScope.name(ce)}scopeValue(ce,me){const Te=this._extScope.value(ce,me);return(this._values[Te.prefix]||(this._values[Te.prefix]=new Set)).add(Te),Te}getScopeValue(ce,me){return this._extScope.getValue(ce,me)}scopeRefs(ce){return this._extScope.scopeRefs(ce,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(ce,me,Te,Ke){const Qe=this._scope.toName(me);return void 0!==Te&&Ke&&(this._constants[Qe.str]=Te),this._leafNode(new j(ce,Qe,Te)),Qe}const(ce,me,Te){return this._def(x.varKinds.const,ce,me,Te)}let(ce,me,Te){return this._def(x.varKinds.let,ce,me,Te)}var(ce,me,Te){return this._def(x.varKinds.var,ce,me,Te)}assign(ce,me,Te){return this._leafNode(new R(ce,me,Te))}add(ce,me){return this._leafNode(new U(ce,J.operators.ADD,me))}code(ce){return"function"==typeof ce?ce():ce!==h.nil&&this._leafNode(new ee(ce)),this}object(...ce){const me=["{"];for(const[Te,Ke]of ce)me.length>1&&me.push(","),me.push(Te),(Te!==Ke||this.opts.es5)&&(me.push(":"),(0,h.addCodeArg)(me,Ke));return me.push("}"),new h._Code(me)}if(ce,me,Te){if(this._blockNode(new re(ce)),me&&Te)this.code(me).else().code(Te).endIf();else if(me)this.code(me).endIf();else if(Te)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(ce){return this._elseNode(new re(ce))}else(){return this._elseNode(new ae)}endIf(){return this._endBlockNode(re,ae)}_for(ce,me){return this._blockNode(ce),me&&this.code(me).endFor(),this}for(ce,me){return this._for(new ue(ce),me)}forRange(ce,me,Te,Ke,Qe=(this.opts.es5?x.varKinds.var:x.varKinds.let)){const ke=this._scope.toName(ce);return this._for(new pe(Qe,ke,me,Te),()=>Ke(ke))}forOf(ce,me,Te,Ke=x.varKinds.const){const Qe=this._scope.toName(ce);if(this.opts.es5){const ke=me instanceof h.Name?me:this.var("_arr",me);return this.forRange("_i",0,h._`${ke}.length`,Ie=>{this.var(Qe,h._`${ke}[${Ie}]`),Te(Qe)})}return this._for(new he("of",Ke,Qe,me),()=>Te(Qe))}forIn(ce,me,Te,Ke=(this.opts.es5?x.varKinds.var:x.varKinds.const)){if(this.opts.ownProperties)return this.forOf(ce,h._`Object.keys(${me})`,Te);const Qe=this._scope.toName(ce);return this._for(new he("in",Ke,Qe,me),()=>Te(Qe))}endFor(){return this._endBlockNode(te)}label(ce){return this._leafNode(new H(ce))}break(ce){return this._leafNode(new V(ce))}return(ce){const me=new ge;if(this._blockNode(me),this.code(ce),1!==me.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(ge)}try(ce,me,Te){if(!me&&!Te)throw new Error('CodeGen: "try" without "catch" and "finally"');const Ke=new Me;if(this._blockNode(Ke),this.code(ce),me){const Qe=this.name("e");this._currNode=Ke.catch=new Oe(Qe),me(Qe)}return Te&&(this._currNode=Ke.finally=new je,this.code(Te)),this._endBlockNode(Oe,je)}throw(ce){return this._leafNode(new P(ce))}block(ce,me){return this._blockStarts.push(this._nodes.length),ce&&this.code(ce).endBlock(me),this}endBlock(ce){const me=this._blockStarts.pop();if(void 0===me)throw new Error("CodeGen: not in self-balancing block");const Te=this._nodes.length-me;if(Te<0||void 0!==ce&&Te!==ce)throw new Error(`CodeGen: wrong number of nodes: ${Te} vs ${ce} expected`);return this._nodes.length=me,this}func(ce,me=h.nil,Te,Ke){return this._blockNode(new ve(ce,me,Te)),Ke&&this.code(Ke).endFunc(),this}endFunc(){return this._endBlockNode(ve)}optimize(ce=1){for(;ce-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(ce){return this._currNode.nodes.push(ce),this}_blockNode(ce){this._currNode.nodes.push(ce),this._nodes.push(ce)}_endBlockNode(ce,me){const Te=this._currNode;if(Te instanceof ce||me&&Te instanceof me)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${me?`${ce.kind}/${me.kind}`:ce.kind}"`)}_elseNode(ce){const me=this._currNode;if(!(me instanceof re))throw new Error('CodeGen: "else" without "if"');return this._currNode=me.else=ce,this}get _root(){return this._nodes[0]}get _currNode(){const ce=this._nodes;return ce[ce.length-1]}set _currNode(ce){const me=this._nodes;me[me.length-1]=ce}},J.not=D;const O=E(J.operators.AND);J.and=function $(...X){return X.reduce(O)};const T=E(J.operators.OR);function E(X){return(ce,me)=>ce===h.nil?me:me===h.nil?ce:h._`${q(ce)} ${X} ${q(me)}`}function q(X){return X instanceof h.Name?X:h._`(${X})`}J.or=function c(...X){return X.reduce(T)}},85934:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.ValueScope=J.ValueScopeName=J.Scope=J.varKinds=J.UsedValueState=void 0;const h=A(33337);class x extends Error{constructor(H){super(`CodeGen: "code" for ${H} not defined`),this.value=H.value}}var N,U;(U=N=J.UsedValueState||(J.UsedValueState={}))[U.Started=0]="Started",U[U.Completed=1]="Completed",J.varKinds={const:new h.Name("const"),let:new h.Name("let"),var:new h.Name("var")};class Y{constructor({prefixes:H,parent:V}={}){this._names={},this._prefixes=H,this._parent=V}toName(H){return H instanceof h.Name?H:this.name(H)}name(H){return new h.Name(this._newName(H))}_newName(H){return`${H}${(this._names[H]||this._nameGroup(H)).index++}`}_nameGroup(H){var V,P;if(null!==(P=null===(V=this._parent)||void 0===V?void 0:V._prefixes)&&void 0!==P&&P.has(H)||this._prefixes&&!this._prefixes.has(H))throw new Error(`CodeGen: prefix "${H}" is not allowed in this scope`);return this._names[H]={prefix:H,index:0}}}J.Scope=Y;class M extends h.Name{constructor(H,V){super(V),this.prefix=H}setValue(H,{property:V,itemIndex:P}){this.value=H,this.scopePath=h._`.${new h.Name(V)}[${P}]`}}J.ValueScopeName=M;const j=h._`\n`;J.ValueScope=class R extends Y{constructor(H){super(H),this._values={},this._scope=H.scope,this.opts={...H,_n:H.lines?j:h.nil}}get(){return this._scope}name(H){return new M(H,this._newName(H))}value(H,V){var P;if(void 0===V.ref)throw new Error("CodeGen: ref must be passed in value");const ee=this.toName(H),{prefix:W}=ee,Q=null!==(P=V.key)&&void 0!==P?P:V.ref;let de=this._values[W];if(de){const te=de.get(Q);if(te)return te}else de=this._values[W]=new Map;de.set(Q,ee);const ae=this._scope[W]||(this._scope[W]=[]),re=ae.length;return ae[re]=V.ref,ee.setValue(V,{property:W,itemIndex:re}),ee}getValue(H,V){const P=this._values[H];if(P)return P.get(V)}scopeRefs(H,V=this._values){return this._reduceValues(V,P=>{if(void 0===P.scopePath)throw new Error(`CodeGen: name "${P}" has no value`);return h._`${H}${P.scopePath}`})}scopeCode(H=this._values,V,P){return this._reduceValues(H,ee=>{if(void 0===ee.value)throw new Error(`CodeGen: name "${ee}" has no value`);return ee.value.code},V,P)}_reduceValues(H,V,P={},ee){let W=h.nil;for(const Q in H){const de=H[Q];if(!de)continue;const ae=P[Q]=P[Q]||new Map;de.forEach(re=>{if(ae.has(re))return;ae.set(re,N.Started);let te=V(re);if(te)W=h._`${W}${this.opts.es5?J.varKinds.var:J.varKinds.const} ${re} = ${te};${this.opts._n}`;else{if(!(te=ee?.(re)))throw new x(re);W=h._`${W}${te}${this.opts._n}`}ae.set(re,N.Completed)})}return W}}},53421:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.extendErrors=J.resetErrorsCount=J.reportExtraError=J.reportError=J.keyword$DataError=J.keywordError=void 0;const h=A(1038),x=A(27006),N=A(23432);function U(ae,re){const te=ae.const("err",re);ae.if(h._`${N.default.vErrors} === null`,()=>ae.assign(N.default.vErrors,h._`[${te}]`),h._`${N.default.vErrors}.push(${te})`),ae.code(h._`${N.default.errors}++`)}function H(ae,re){const{gen:te,validateName:ue,schemaEnv:pe}=ae;pe.$async?te.throw(h._`new ${ae.ValidationError}(${re})`):(te.assign(h._`${ue}.errors`,re),te.return(!1))}J.keywordError={message:({keyword:ae})=>h.str`must pass "${ae}" keyword validation`},J.keyword$DataError={message:({keyword:ae,schemaType:re})=>re?h.str`"${ae}" keyword must be ${re} ($data)`:h.str`"${ae}" keyword is invalid ($data)`},J.reportError=function Y(ae,re=J.keywordError,te,ue){const{it:pe}=ae,{gen:he,compositeRule:ve,allErrors:ge}=pe,Me=P(ae,re,te);ue??(ve||ge)?U(he,Me):H(pe,h._`[${Me}]`)},J.reportExtraError=function M(ae,re=J.keywordError,te){const{it:ue}=ae,{gen:pe,compositeRule:he,allErrors:ve}=ue;U(pe,P(ae,re,te)),he||ve||H(ue,N.default.vErrors)},J.resetErrorsCount=function j(ae,re){ae.assign(N.default.errors,re),ae.if(h._`${N.default.vErrors} !== null`,()=>ae.if(re,()=>ae.assign(h._`${N.default.vErrors}.length`,re),()=>ae.assign(N.default.vErrors,null)))},J.extendErrors=function R({gen:ae,keyword:re,schemaValue:te,data:ue,errsCount:pe,it:he}){if(void 0===pe)throw new Error("ajv implementation error");const ve=ae.name("err");ae.forRange("i",pe,N.default.errors,ge=>{ae.const(ve,h._`${N.default.vErrors}[${ge}]`),ae.if(h._`${ve}.instancePath === undefined`,()=>ae.assign(h._`${ve}.instancePath`,(0,h.strConcat)(N.default.instancePath,he.errorPath))),ae.assign(h._`${ve}.schemaPath`,h.str`${he.errSchemaPath}/${re}`),he.opts.verbose&&(ae.assign(h._`${ve}.schema`,te),ae.assign(h._`${ve}.data`,ue))})};const V={keyword:new h.Name("keyword"),schemaPath:new h.Name("schemaPath"),params:new h.Name("params"),propertyName:new h.Name("propertyName"),message:new h.Name("message"),schema:new h.Name("schema"),parentSchema:new h.Name("parentSchema")};function P(ae,re,te){const{createErrors:ue}=ae.it;return!1===ue?h._`{}`:function ee(ae,re,te={}){const{gen:ue,it:pe}=ae,he=[W(pe,te),Q(ae,te)];return function de(ae,{params:re,message:te},ue){const{keyword:pe,data:he,schemaValue:ve,it:ge}=ae,{opts:Me,propertyName:Oe,topSchemaRef:je,schemaPath:B}=ge;ue.push([V.keyword,pe],[V.params,"function"==typeof re?re(ae):re||h._`{}`]),Me.messages&&ue.push([V.message,"function"==typeof te?te(ae):te]),Me.verbose&&ue.push([V.schema,ve],[V.parentSchema,h._`${je}${B}`],[N.default.data,he]),Oe&&ue.push([V.propertyName,Oe])}(ae,re,he),ue.object(...he)}(ae,re,te)}function W({errorPath:ae},{instancePath:re}){const te=re?h.str`${ae}${(0,x.getErrorPath)(re,x.Type.Str)}`:ae;return[N.default.instancePath,(0,h.strConcat)(N.default.instancePath,te)]}function Q({keyword:ae,it:{errSchemaPath:re}},{schemaPath:te,parentSchema:ue}){let pe=ue?re:h.str`${re}/${ae}`;return te&&(pe=h.str`${pe}${(0,x.getErrorPath)(te,x.Type.Str)}`),[V.schemaPath,pe]}},97692:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.resolveSchema=J.getCompilingSchema=J.resolveRef=J.compileSchema=J.SchemaEnv=void 0;const h=A(1038),x=A(42467),N=A(23432),Y=A(77172),M=A(27006),j=A(40339);class R{constructor(te){var ue;let pe;this.refs={},this.dynamicAnchors={},"object"==typeof te.schema&&(pe=te.schema),this.schema=te.schema,this.schemaId=te.schemaId,this.root=te.root||this,this.baseId=null!==(ue=te.baseId)&&void 0!==ue?ue:(0,Y.normalizeId)(pe?.[te.schemaId||"$id"]),this.schemaPath=te.schemaPath,this.localRefs=te.localRefs,this.meta=te.meta,this.$async=pe?.$async,this.refs={}}}function U(re){const te=P.call(this,re);if(te)return te;const ue=(0,Y.getFullPath)(this.opts.uriResolver,re.root.baseId),{es5:pe,lines:he}=this.opts.code,{ownProperties:ve}=this.opts,ge=new h.CodeGen(this.scope,{es5:pe,lines:he,ownProperties:ve});let Me;re.$async&&(Me=ge.scopeValue("Error",{ref:x.default,code:h._`require("ajv/dist/runtime/validation_error").default`}));const Oe=ge.scopeName("validate");re.validateName=Oe;const je={gen:ge,allErrors:this.opts.allErrors,data:N.default.data,parentData:N.default.parentData,parentDataProperty:N.default.parentDataProperty,dataNames:[N.default.data],dataPathArr:[h.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:ge.scopeValue("schema",!0===this.opts.code.source?{ref:re.schema,code:(0,h.stringify)(re.schema)}:{ref:re.schema}),validateName:Oe,ValidationError:Me,schema:re.schema,schemaEnv:re,rootId:ue,baseId:re.baseId||ue,schemaPath:h.nil,errSchemaPath:re.schemaPath||(this.opts.jtd?"":"#"),errorPath:h._`""`,opts:this.opts,self:this};let B;try{this._compilations.add(re),(0,j.validateFunctionCode)(je),ge.optimize(this.opts.code.optimize);const l=ge.toString();B=`${ge.scopeRefs(N.default.scope)}return ${l}`,this.opts.code.process&&(B=this.opts.code.process(B,re));const w=new Function(`${N.default.self}`,`${N.default.scope}`,B)(this,this.scope.get());if(this.scope.value(Oe,{ref:w}),w.errors=null,w.schema=re.schema,w.schemaEnv=re,re.$async&&(w.$async=!0),!0===this.opts.code.source&&(w.source={validateName:Oe,validateCode:l,scopeValues:ge._values}),this.opts.unevaluated){const{props:_,items:D}=je;w.evaluated={props:_ instanceof h.Name?void 0:_,items:D instanceof h.Name?void 0:D,dynamicProps:_ instanceof h.Name,dynamicItems:D instanceof h.Name},w.source&&(w.source.evaluated=(0,h.stringify)(w.evaluated))}return re.validate=w,re}catch(l){throw delete re.validate,delete re.validateName,B&&this.logger.error("Error compiling schema, function code:",B),l}finally{this._compilations.delete(re)}}function V(re){return(0,Y.inlineRef)(re.schema,this.opts.inlineRefs)?re.schema:re.validate?re:U.call(this,re)}function P(re){for(const te of this._compilations)if(ee(te,re))return te}function ee(re,te){return re.schema===te.schema&&re.root===te.root&&re.baseId===te.baseId}function W(re,te){let ue;for(;"string"==typeof(ue=this.refs[te]);)te=ue;return ue||this.schemas[te]||Q.call(this,re,te)}function Q(re,te){const ue=this.opts.uriResolver.parse(te),pe=(0,Y._getFullPath)(this.opts.uriResolver,ue);let he=(0,Y.getFullPath)(this.opts.uriResolver,re.baseId,void 0);if(Object.keys(re.schema).length>0&&pe===he)return ae.call(this,ue,re);const ve=(0,Y.normalizeId)(pe),ge=this.refs[ve]||this.schemas[ve];if("string"==typeof ge){const Me=Q.call(this,re,ge);return"object"!=typeof Me?.schema?void 0:ae.call(this,ue,Me)}if("object"==typeof ge?.schema){if(ge.validate||U.call(this,ge),ve===(0,Y.normalizeId)(te)){const{schema:Me}=ge,{schemaId:Oe}=this.opts,je=Me[Oe];return je&&(he=(0,Y.resolveUrl)(this.opts.uriResolver,he,je)),new R({schema:Me,schemaId:Oe,root:re,baseId:he})}return ae.call(this,ue,ge)}}J.SchemaEnv=R,J.compileSchema=U,J.resolveRef=function H(re,te,ue){var pe;ue=(0,Y.resolveUrl)(this.opts.uriResolver,te,ue);const he=re.refs[ue];if(he)return he;let ve=W.call(this,re,ue);if(void 0===ve){const ge=null===(pe=re.localRefs)||void 0===pe?void 0:pe[ue],{schemaId:Me}=this.opts;ge&&(ve=new R({schema:ge,schemaId:Me,root:re,baseId:te}))}return void 0!==ve?re.refs[ue]=V.call(this,ve):void 0},J.getCompilingSchema=P,J.resolveSchema=Q;const de=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function ae(re,{baseId:te,schema:ue,root:pe}){var he;if("/"!==(null===(he=re.fragment)||void 0===he?void 0:he[0]))return;for(const Me of re.fragment.slice(1).split("/")){if("boolean"==typeof ue)return;const Oe=ue[(0,M.unescapeFragment)(Me)];if(void 0===Oe)return;const je="object"==typeof(ue=Oe)&&ue[this.opts.schemaId];!de.has(Me)&&je&&(te=(0,Y.resolveUrl)(this.opts.uriResolver,te,je))}let ve;if("boolean"!=typeof ue&&ue.$ref&&!(0,M.schemaHasRulesButRef)(ue,this.RULES)){const Me=(0,Y.resolveUrl)(this.opts.uriResolver,te,ue.$ref);ve=Q.call(this,pe,Me)}const{schemaId:ge}=this.opts;return ve=ve||new R({schema:ue,schemaId:ge,root:pe,baseId:te}),ve.schema!==ve.root.schema?ve:void 0}},23432:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(1038),x={data:new h.Name("data"),valCxt:new h.Name("valCxt"),instancePath:new h.Name("instancePath"),parentData:new h.Name("parentData"),parentDataProperty:new h.Name("parentDataProperty"),rootData:new h.Name("rootData"),dynamicAnchors:new h.Name("dynamicAnchors"),vErrors:new h.Name("vErrors"),errors:new h.Name("errors"),this:new h.Name("this"),self:new h.Name("self"),scope:new h.Name("scope"),json:new h.Name("json"),jsonPos:new h.Name("jsonPos"),jsonLen:new h.Name("jsonLen"),jsonPart:new h.Name("jsonPart")};J.default=x},26288:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(77172);class x extends Error{constructor(Y,M,j,R){super(R||`can't resolve reference ${j} from id ${M}`),this.missingRef=(0,h.resolveUrl)(Y,M,j),this.missingSchema=(0,h.normalizeId)((0,h.getFullPath)(Y,this.missingRef))}}J.default=x},77172:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.getSchemaRefs=J.resolveUrl=J.normalizeId=J._getFullPath=J.getFullPath=J.inlineRef=void 0;const h=A(27006),x=A(40362),N=A(44331),Y=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);J.inlineRef=function M(ae,re=!0){return"boolean"==typeof ae||(!0===re?!R(ae):!!re&&U(ae)<=re)};const j=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function R(ae){for(const re in ae){if(j.has(re))return!0;const te=ae[re];if(Array.isArray(te)&&te.some(R)||"object"==typeof te&&R(te))return!0}return!1}function U(ae){let re=0;for(const te in ae){if("$ref"===te)return 1/0;if(re++,!Y.has(te)&&("object"==typeof ae[te]&&(0,h.eachItem)(ae[te],ue=>re+=U(ue)),re===1/0))return 1/0}return re}function H(ae,re="",te){!1!==te&&(re=ee(re));const ue=ae.parse(re);return V(ae,ue)}function V(ae,re){return ae.serialize(re).split("#")[0]+"#"}J.getFullPath=H,J._getFullPath=V;const P=/#\/?$/;function ee(ae){return ae?ae.replace(P,""):""}J.normalizeId=ee,J.resolveUrl=function W(ae,re,te){return te=ee(te),ae.resolve(re,te)};const Q=/^[a-z_][-a-z0-9._]*$/i;J.getSchemaRefs=function de(ae,re){if("boolean"==typeof ae)return{};const{schemaId:te,uriResolver:ue}=this.opts,pe=ee(ae[te]||re),he={"":pe},ve=H(ue,pe,!1),ge={},Me=new Set;return N(ae,{allKeys:!0},(B,l,f,w)=>{if(void 0===w)return;const _=ve+l;let D=he[w];function O(T){if(T=ee(D?(0,this.opts.uriResolver.resolve)(D,T):T),Me.has(T))throw je(T);Me.add(T);let E=this.refs[T];return"string"==typeof E&&(E=this.refs[E]),"object"==typeof E?Oe(B,E.schema,T):T!==ee(_)&&("#"===T[0]?(Oe(B,ge[T],T),ge[T]=B):this.refs[T]=_),T}function $(T){if("string"==typeof T){if(!Q.test(T))throw new Error(`invalid anchor "${T}"`);O.call(this,`#${T}`)}}"string"==typeof B[te]&&(D=O.call(this,B[te])),$.call(this,B.$anchor),$.call(this,B.$dynamicAnchor),he[l]=D}),ge;function Oe(B,l,f){if(void 0!==l&&!x(B,l))throw je(f)}function je(B){return new Error(`reference "${B}" resolves to more than one schema`)}}},32203:(Ye,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.getRules=J.isJSONType=void 0;const h=new Set(["string","number","integer","boolean","null","object","array"]);J.isJSONType=function x(Y){return"string"==typeof Y&&h.has(Y)},J.getRules=function N(){const Y={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...Y,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},Y.number,Y.string,Y.array,Y.object],post:{rules:[]},all:{},keywords:{}}}},27006:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.checkStrictMode=J.getErrorPath=J.Type=J.useFunc=J.setEvaluated=J.evaluatedPropsToName=J.mergeEvaluated=J.eachItem=J.unescapeJsonPointer=J.escapeJsonPointer=J.escapeFragment=J.unescapeFragment=J.schemaRefOrVal=J.schemaHasRulesButRef=J.schemaHasRules=J.checkUnknownRules=J.alwaysValidSchema=J.toHash=void 0;const h=A(1038),x=A(33337);function M(ve,ge=ve.schema){const{opts:Me,self:Oe}=ve;if(!Me.strictSchema||"boolean"==typeof ge)return;const je=Oe.RULES.keywords;for(const B in ge)je[B]||he(ve,`unknown keyword: "${B}"`)}function j(ve,ge){if("boolean"==typeof ve)return!ve;for(const Me in ve)if(ge[Me])return!0;return!1}function P(ve){return"number"==typeof ve?`${ve}`:ve.replace(/~/g,"~0").replace(/\//g,"~1")}function ee(ve){return ve.replace(/~1/g,"/").replace(/~0/g,"~")}function Q({mergeNames:ve,mergeToName:ge,mergeValues:Me,resultToName:Oe}){return(je,B,l,f)=>{const w=void 0===l?B:l instanceof h.Name?(B instanceof h.Name?ve(je,B,l):ge(je,B,l),l):B instanceof h.Name?(ge(je,l,B),B):Me(B,l);return f!==h.Name||w instanceof h.Name?w:Oe(je,w)}}function de(ve,ge){if(!0===ge)return ve.var("props",!0);const Me=ve.var("props",h._`{}`);return void 0!==ge&&ae(ve,Me,ge),Me}function ae(ve,ge,Me){Object.keys(Me).forEach(Oe=>ve.assign(h._`${ge}${(0,h.getProperty)(Oe)}`,!0))}J.toHash=function N(ve){const ge={};for(const Me of ve)ge[Me]=!0;return ge},J.alwaysValidSchema=function Y(ve,ge){return"boolean"==typeof ge?ge:0===Object.keys(ge).length||(M(ve,ge),!j(ge,ve.self.RULES.all))},J.checkUnknownRules=M,J.schemaHasRules=j,J.schemaHasRulesButRef=function R(ve,ge){if("boolean"==typeof ve)return!ve;for(const Me in ve)if("$ref"!==Me&&ge.all[Me])return!0;return!1},J.schemaRefOrVal=function U({topSchemaRef:ve,schemaPath:ge},Me,Oe,je){if(!je){if("number"==typeof Me||"boolean"==typeof Me)return Me;if("string"==typeof Me)return h._`${Me}`}return h._`${ve}${ge}${(0,h.getProperty)(Oe)}`},J.unescapeFragment=function H(ve){return ee(decodeURIComponent(ve))},J.escapeFragment=function V(ve){return encodeURIComponent(P(ve))},J.escapeJsonPointer=P,J.unescapeJsonPointer=ee,J.eachItem=function W(ve,ge){if(Array.isArray(ve))for(const Me of ve)ge(Me);else ge(ve)},J.mergeEvaluated={props:Q({mergeNames:(ve,ge,Me)=>ve.if(h._`${Me} !== true && ${ge} !== undefined`,()=>{ve.if(h._`${ge} === true`,()=>ve.assign(Me,!0),()=>ve.assign(Me,h._`${Me} || {}`).code(h._`Object.assign(${Me}, ${ge})`))}),mergeToName:(ve,ge,Me)=>ve.if(h._`${Me} !== true`,()=>{!0===ge?ve.assign(Me,!0):(ve.assign(Me,h._`${Me} || {}`),ae(ve,Me,ge))}),mergeValues:(ve,ge)=>!0===ve||{...ve,...ge},resultToName:de}),items:Q({mergeNames:(ve,ge,Me)=>ve.if(h._`${Me} !== true && ${ge} !== undefined`,()=>ve.assign(Me,h._`${ge} === true ? true : ${Me} > ${ge} ? ${Me} : ${ge}`)),mergeToName:(ve,ge,Me)=>ve.if(h._`${Me} !== true`,()=>ve.assign(Me,!0===ge||h._`${Me} > ${ge} ? ${Me} : ${ge}`)),mergeValues:(ve,ge)=>!0===ve||Math.max(ve,ge),resultToName:(ve,ge)=>ve.var("items",ge)})},J.evaluatedPropsToName=de,J.setEvaluated=ae;const re={};var ue,ve;function he(ve,ge,Me=ve.opts.strictSchema){if(Me){if(ge=`strict mode: ${ge}`,!0===Me)throw new Error(ge);ve.self.logger.warn(ge)}}J.useFunc=function te(ve,ge){return ve.scopeValue("func",{ref:ge,code:re[ge.code]||(re[ge.code]=new x._Code(ge.code))})},(ve=ue=J.Type||(J.Type={}))[ve.Num=0]="Num",ve[ve.Str=1]="Str",J.getErrorPath=function pe(ve,ge,Me){if(ve instanceof h.Name){const Oe=ge===ue.Num;return Me?Oe?h._`"[" + ${ve} + "]"`:h._`"['" + ${ve} + "']"`:Oe?h._`"/" + ${ve}`:h._`"/" + ${ve}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return Me?(0,h.getProperty)(ve).toString():"/"+P(ve)},J.checkStrictMode=he},22650:(Ye,J)=>{"use strict";function h(N,Y){return Y.rules.some(M=>x(N,M))}function x(N,Y){var M;return void 0!==N[Y.keyword]||(null===(M=Y.definition.implements)||void 0===M?void 0:M.some(j=>void 0!==N[j]))}Object.defineProperty(J,"__esModule",{value:!0}),J.shouldUseRule=J.shouldUseGroup=J.schemaHasRulesForType=void 0,J.schemaHasRulesForType=function A({schema:N,self:Y},M){const j=Y.RULES.types[M];return j&&!0!==j&&h(N,j)},J.shouldUseGroup=h,J.shouldUseRule=x},37864:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.boolOrEmptySchema=J.topBoolOrEmptySchema=void 0;const h=A(53421),x=A(1038),N=A(23432),Y={message:"boolean schema is false"};function R(U,H){const{gen:V,data:P}=U;(0,h.reportError)({gen:V,keyword:"false schema",data:P,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:U},Y,void 0,H)}J.topBoolOrEmptySchema=function M(U){const{gen:H,schema:V,validateName:P}=U;!1===V?R(U,!1):"object"==typeof V&&!0===V.$async?H.return(N.default.data):(H.assign(x._`${P}.errors`,null),H.return(!0))},J.boolOrEmptySchema=function j(U,H){const{gen:V,schema:P}=U;!1===P?(V.var(H,!1),R(U)):V.var(H,!0)}},55999:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.reportTypeError=J.checkDataTypes=J.checkDataType=J.coerceAndCheckDataType=J.getJSONTypes=J.getSchemaTypes=J.DataType=void 0;const h=A(32203),x=A(22650),N=A(53421),Y=A(1038),M=A(27006);var j,ue;function U(ue){const pe=Array.isArray(ue)?ue:ue?[ue]:[];if(pe.every(h.isJSONType))return pe;throw new Error("type must be JSONType or JSONType[]: "+pe.join(","))}(ue=j=J.DataType||(J.DataType={}))[ue.Correct=0]="Correct",ue[ue.Wrong=1]="Wrong",J.getSchemaTypes=function R(ue){const pe=U(ue.type);if(pe.includes("null")){if(!1===ue.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!pe.length&&void 0!==ue.nullable)throw new Error('"nullable" cannot be used without "type"');!0===ue.nullable&&pe.push("null")}return pe},J.getJSONTypes=U,J.coerceAndCheckDataType=function H(ue,pe){const{gen:he,data:ve,opts:ge}=ue,Me=function P(ue,pe){return pe?ue.filter(he=>V.has(he)||"array"===pe&&"array"===he):[]}(pe,ge.coerceTypes),Oe=pe.length>0&&!(0===Me.length&&1===pe.length&&(0,x.schemaHasRulesForType)(ue,pe[0]));if(Oe){const je=de(pe,ve,ge.strictNumbers,j.Wrong);he.if(je,()=>{Me.length?function ee(ue,pe,he){const{gen:ve,data:ge,opts:Me}=ue,Oe=ve.let("dataType",Y._`typeof ${ge}`),je=ve.let("coerced",Y._`undefined`);"array"===Me.coerceTypes&&ve.if(Y._`${Oe} == 'object' && Array.isArray(${ge}) && ${ge}.length == 1`,()=>ve.assign(ge,Y._`${ge}[0]`).assign(Oe,Y._`typeof ${ge}`).if(de(pe,ge,Me.strictNumbers),()=>ve.assign(je,ge))),ve.if(Y._`${je} !== undefined`);for(const l of he)(V.has(l)||"array"===l&&"array"===Me.coerceTypes)&&B(l);function B(l){switch(l){case"string":return void ve.elseIf(Y._`${Oe} == "number" || ${Oe} == "boolean"`).assign(je,Y._`"" + ${ge}`).elseIf(Y._`${ge} === null`).assign(je,Y._`""`);case"number":return void ve.elseIf(Y._`${Oe} == "boolean" || ${ge} === null
              || (${Oe} == "string" && ${ge} && ${ge} == +${ge})`).assign(je,Y._`+${ge}`);case"integer":return void ve.elseIf(Y._`${Oe} === "boolean" || ${ge} === null
              || (${Oe} === "string" && ${ge} && ${ge} == +${ge} && !(${ge} % 1))`).assign(je,Y._`+${ge}`);case"boolean":return void ve.elseIf(Y._`${ge} === "false" || ${ge} === 0 || ${ge} === null`).assign(je,!1).elseIf(Y._`${ge} === "true" || ${ge} === 1`).assign(je,!0);case"null":return ve.elseIf(Y._`${ge} === "" || ${ge} === 0 || ${ge} === false`),void ve.assign(je,null);case"array":ve.elseIf(Y._`${Oe} === "string" || ${Oe} === "number"
              || ${Oe} === "boolean" || ${ge} === null`).assign(je,Y._`[${ge}]`)}}ve.else(),re(ue),ve.endIf(),ve.if(Y._`${je} !== undefined`,()=>{ve.assign(ge,je),function W({gen:ue,parentData:pe,parentDataProperty:he},ve){ue.if(Y._`${pe} !== undefined`,()=>ue.assign(Y._`${pe}[${he}]`,ve))}(ue,je)})}(ue,pe,Me):re(ue)})}return Oe};const V=new Set(["string","number","integer","boolean","null"]);function Q(ue,pe,he,ve=j.Correct){const ge=ve===j.Correct?Y.operators.EQ:Y.operators.NEQ;let Me;switch(ue){case"null":return Y._`${pe} ${ge} null`;case"array":Me=Y._`Array.isArray(${pe})`;break;case"object":Me=Y._`${pe} && typeof ${pe} == "object" && !Array.isArray(${pe})`;break;case"integer":Me=Oe(Y._`!(${pe} % 1) && !isNaN(${pe})`);break;case"number":Me=Oe();break;default:return Y._`typeof ${pe} ${ge} ${ue}`}return ve===j.Correct?Me:(0,Y.not)(Me);function Oe(je=Y.nil){return(0,Y.and)(Y._`typeof ${pe} == "number"`,je,he?Y._`isFinite(${pe})`:Y.nil)}}function de(ue,pe,he,ve){if(1===ue.length)return Q(ue[0],pe,he,ve);let ge;const Me=(0,M.toHash)(ue);if(Me.array&&Me.object){const Oe=Y._`typeof ${pe} != "object"`;ge=Me.null?Oe:Y._`!${pe} || ${Oe}`,delete Me.null,delete Me.array,delete Me.object}else ge=Y.nil;Me.number&&delete Me.integer;for(const Oe in Me)ge=(0,Y.and)(ge,Q(Oe,pe,he,ve));return ge}J.checkDataType=Q,J.checkDataTypes=de;const ae={message:({schema:ue})=>`must be ${ue}`,params:({schema:ue,schemaValue:pe})=>"string"==typeof ue?Y._`{type: ${ue}}`:Y._`{type: ${pe}}`};function re(ue){const pe=function te(ue){const{gen:pe,data:he,schema:ve}=ue,ge=(0,M.schemaRefOrVal)(ue,ve,"type");return{gen:pe,keyword:"type",data:he,schema:ve.type,schemaCode:ge,schemaValue:ge,parentSchema:ve,params:{},it:ue}}(ue);(0,N.reportError)(pe,ae)}J.reportTypeError=re},48733:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.assignDefaults=void 0;const h=A(1038),x=A(27006);function Y(M,j,R){const{gen:U,compositeRule:H,data:V,opts:P}=M;if(void 0===R)return;const ee=h._`${V}${(0,h.getProperty)(j)}`;if(H)return void(0,x.checkStrictMode)(M,`default is ignored for: ${ee}`);let W=h._`${ee} === undefined`;"empty"===P.useDefaults&&(W=h._`${W} || ${ee} === null || ${ee} === ""`),U.if(W,h._`${ee} = ${(0,h.stringify)(R)}`)}J.assignDefaults=function N(M,j){const{properties:R,items:U}=M.schema;if("object"===j&&R)for(const H in R)Y(M,H,R[H].default);else"array"===j&&Array.isArray(U)&&U.forEach((H,V)=>Y(M,V,H.default))}},40339:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.getData=J.KeywordCxt=J.validateFunctionCode=void 0;const h=A(37864),x=A(55999),N=A(22650),Y=A(55999),M=A(48733),j=A(76800),R=A(16334),U=A(1038),H=A(23432),V=A(77172),P=A(27006),ee=A(53421);function Q({gen:Se,validateName:Le,schema:Ee,schemaEnv:be,opts:oe},fe){oe.code.es5?Se.func(Le,U._`${H.default.data}, ${H.default.valCxt}`,be.$async,()=>{Se.code(U._`"use strict"; ${ue(Ee,oe)}`),function ae(Se,Le){Se.if(H.default.valCxt,()=>{Se.var(H.default.instancePath,U._`${H.default.valCxt}.${H.default.instancePath}`),Se.var(H.default.parentData,U._`${H.default.valCxt}.${H.default.parentData}`),Se.var(H.default.parentDataProperty,U._`${H.default.valCxt}.${H.default.parentDataProperty}`),Se.var(H.default.rootData,U._`${H.default.valCxt}.${H.default.rootData}`),Le.dynamicRef&&Se.var(H.default.dynamicAnchors,U._`${H.default.valCxt}.${H.default.dynamicAnchors}`)},()=>{Se.var(H.default.instancePath,U._`""`),Se.var(H.default.parentData,U._`undefined`),Se.var(H.default.parentDataProperty,U._`undefined`),Se.var(H.default.rootData,H.default.data),Le.dynamicRef&&Se.var(H.default.dynamicAnchors,U._`{}`)})}(Se,oe),Se.code(fe)}):Se.func(Le,U._`${H.default.data}, ${function de(Se){return U._`{${H.default.instancePath}="", ${H.default.parentData}, ${H.default.parentDataProperty}, ${H.default.rootData}=${H.default.data}${Se.dynamicRef?U._`, ${H.default.dynamicAnchors}={}`:U.nil}}={}`}(oe)}`,be.$async,()=>Se.code(ue(Ee,oe)).code(fe))}function ue(Se,Le){const Ee="object"==typeof Se&&Se[Le.schemaId];return Ee&&(Le.code.source||Le.code.process)?U._`/*# sourceURL=${Ee} */`:U.nil}function he({schema:Se,self:Le}){if("boolean"==typeof Se)return!Se;for(const Ee in Se)if(Le.RULES.all[Ee])return!0;return!1}function ve(Se){return"boolean"!=typeof Se.schema}function Me(Se){(0,P.checkUnknownRules)(Se),function je(Se){const{schema:Le,errSchemaPath:Ee,opts:be,self:oe}=Se;Le.$ref&&be.ignoreKeywordsWithRef&&(0,P.schemaHasRulesButRef)(Le,oe.RULES)&&oe.logger.warn(`$ref: keywords ignored in schema at path "${Ee}"`)}(Se)}function Oe(Se,Le){if(Se.opts.jtd)return O(Se,[],!1,Le);const Ee=(0,x.getSchemaTypes)(Se.schema);O(Se,Ee,!(0,x.coerceAndCheckDataType)(Se,Ee),Le)}function w({gen:Se,schemaEnv:Le,schema:Ee,errSchemaPath:be,opts:oe}){const fe=Ee.$comment;if(!0===oe.$comment)Se.code(U._`${H.default.self}.logger.log(${fe})`);else if("function"==typeof oe.$comment){const we=U.str`${be}/$comment`,De=Se.scopeValue("root",{ref:Le.root});Se.code(U._`${H.default.self}.opts.$comment(${fe}, ${we}, ${De}.schema)`)}}function O(Se,Le,Ee,be){const{gen:oe,schema:fe,data:we,allErrors:De,opts:$e,self:Je}=Se,{RULES:Ze}=Je;function Pt(nt){(0,N.shouldUseGroup)(fe,nt)&&(nt.type?(oe.if((0,Y.checkDataType)(nt.type,we,$e.strictNumbers)),$(Se,nt),1===Le.length&&Le[0]===nt.type&&Ee&&(oe.else(),(0,Y.reportTypeError)(Se)),oe.endIf()):$(Se,nt),De||oe.if(U._`${H.default.errors} === ${be||0}`))}!fe.$ref||!$e.ignoreKeywordsWithRef&&(0,P.schemaHasRulesButRef)(fe,Ze)?($e.jtd||function T(Se,Le){Se.schemaEnv.meta||!Se.opts.strictTypes||(function c(Se,Le){if(Le.length){if(!Se.dataTypes.length)return void(Se.dataTypes=Le);Le.forEach(Ee=>{ce(Se.dataTypes,Ee)||Te(Se,`type "${Ee}" not allowed by context "${Se.dataTypes.join(",")}"`)}),function me(Se,Le){const Ee=[];for(const be of Se.dataTypes)ce(Le,be)?Ee.push(be):Le.includes("integer")&&"number"===be&&Ee.push("integer");Se.dataTypes=Ee}(Se,Le)}}(Se,Le),Se.opts.allowUnionTypes||function E(Se,Le){Le.length>1&&(2!==Le.length||!Le.includes("null"))&&Te(Se,"use allowUnionTypes to allow union type keyword")}(Se,Le),function q(Se,Le){const Ee=Se.self.RULES.all;for(const be in Ee){const oe=Ee[be];if("object"==typeof oe&&(0,N.shouldUseRule)(Se.schema,oe)){const{type:fe}=oe.definition;fe.length&&!fe.some(we=>X(Le,we))&&Te(Se,`missing type "${fe.join(",")}" for keyword "${be}"`)}}}(Se,Se.dataTypes))}(Se,Le),oe.block(()=>{for(const nt of Ze.rules)Pt(nt);Pt(Ze.post)})):oe.block(()=>Qe(Se,"$ref",Ze.all.$ref.definition))}function $(Se,Le){const{gen:Ee,schema:be,opts:{useDefaults:oe}}=Se;oe&&(0,M.assignDefaults)(Se,Le.type),Ee.block(()=>{for(const fe of Le.rules)(0,N.shouldUseRule)(be,fe)&&Qe(Se,fe.keyword,fe.definition,Le.type)})}function X(Se,Le){return Se.includes(Le)||"number"===Le&&Se.includes("integer")}function ce(Se,Le){return Se.includes(Le)||"integer"===Le&&Se.includes("number")}function Te(Se,Le){(0,P.checkStrictMode)(Se,Le+=` at "${Se.schemaEnv.baseId+Se.errSchemaPath}" (strictTypes)`,Se.opts.strictTypes)}J.validateFunctionCode=function W(Se){ve(Se)&&(Me(Se),he(Se))?function re(Se){const{schema:Le,opts:Ee,gen:be}=Se;Q(Se,()=>{Ee.$comment&&Le.$comment&&w(Se),function B(Se){const{schema:Le,opts:Ee}=Se;void 0!==Le.default&&Ee.useDefaults&&Ee.strictSchema&&(0,P.checkStrictMode)(Se,"default is ignored in the schema root")}(Se),be.let(H.default.vErrors,null),be.let(H.default.errors,0),Ee.unevaluated&&function te(Se){const{gen:Le,validateName:Ee}=Se;Se.evaluated=Le.const("evaluated",U._`${Ee}.evaluated`),Le.if(U._`${Se.evaluated}.dynamicProps`,()=>Le.assign(U._`${Se.evaluated}.props`,U._`undefined`)),Le.if(U._`${Se.evaluated}.dynamicItems`,()=>Le.assign(U._`${Se.evaluated}.items`,U._`undefined`))}(Se),Oe(Se),function _(Se){const{gen:Le,schemaEnv:Ee,validateName:be,ValidationError:oe,opts:fe}=Se;Ee.$async?Le.if(U._`${H.default.errors} === 0`,()=>Le.return(H.default.data),()=>Le.throw(U._`new ${oe}(${H.default.vErrors})`)):(Le.assign(U._`${be}.errors`,H.default.vErrors),fe.unevaluated&&function D({gen:Se,evaluated:Le,props:Ee,items:be}){Ee instanceof U.Name&&Se.assign(U._`${Le}.props`,Ee),be instanceof U.Name&&Se.assign(U._`${Le}.items`,be)}(Se),Le.return(U._`${H.default.errors} === 0`))}(Se)})}(Se):Q(Se,()=>(0,h.topBoolOrEmptySchema)(Se))};class Ke{constructor(Le,Ee,be){if((0,j.validateKeywordUsage)(Le,Ee,be),this.gen=Le.gen,this.allErrors=Le.allErrors,this.keyword=be,this.data=Le.data,this.schema=Le.schema[be],this.$data=Ee.$data&&Le.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,P.schemaRefOrVal)(Le,this.schema,be,this.$data),this.schemaType=Ee.schemaType,this.parentSchema=Le.schema,this.params={},this.it=Le,this.def=Ee,this.$data)this.schemaCode=Le.gen.const("vSchema",Xe(this.$data,Le));else if(this.schemaCode=this.schemaValue,!(0,j.validSchemaType)(this.schema,Ee.schemaType,Ee.allowUndefined))throw new Error(`${be} value must be ${JSON.stringify(Ee.schemaType)}`);("code"in Ee?Ee.trackErrors:!1!==Ee.errors)&&(this.errsCount=Le.gen.const("_errs",H.default.errors))}result(Le,Ee,be){this.failResult((0,U.not)(Le),Ee,be)}failResult(Le,Ee,be){this.gen.if(Le),be?be():this.error(),Ee?(this.gen.else(),Ee(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Le,Ee){this.failResult((0,U.not)(Le),void 0,Ee)}fail(Le){if(void 0===Le)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(Le),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Le){if(!this.$data)return this.fail(Le);const{schemaCode:Ee}=this;this.fail(U._`${Ee} !== undefined && (${(0,U.or)(this.invalid$data(),Le)})`)}error(Le,Ee,be){if(Ee)return this.setParams(Ee),this._error(Le,be),void this.setParams({});this._error(Le,be)}_error(Le,Ee){(Le?ee.reportExtraError:ee.reportError)(this,this.def.error,Ee)}$dataError(){(0,ee.reportError)(this,this.def.$dataError||ee.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,ee.resetErrorsCount)(this.gen,this.errsCount)}ok(Le){this.allErrors||this.gen.if(Le)}setParams(Le,Ee){Ee?Object.assign(this.params,Le):this.params=Le}block$data(Le,Ee,be=U.nil){this.gen.block(()=>{this.check$data(Le,be),Ee()})}check$data(Le=U.nil,Ee=U.nil){if(!this.$data)return;const{gen:be,schemaCode:oe,schemaType:fe,def:we}=this;be.if((0,U.or)(U._`${oe} === undefined`,Ee)),Le!==U.nil&&be.assign(Le,!0),(fe.length||we.validateSchema)&&(be.elseIf(this.invalid$data()),this.$dataError(),Le!==U.nil&&be.assign(Le,!1)),be.else()}invalid$data(){const{gen:Le,schemaCode:Ee,schemaType:be,def:oe,it:fe}=this;return(0,U.or)(function we(){if(be.length){if(!(Ee instanceof U.Name))throw new Error("ajv implementation error");const $e=Array.isArray(be)?be:[be];return U._`${(0,Y.checkDataTypes)($e,Ee,fe.opts.strictNumbers,Y.DataType.Wrong)}`}return U.nil}(),function De(){if(oe.validateSchema){const $e=Le.scopeValue("validate$data",{ref:oe.validateSchema});return U._`!${$e}(${Ee})`}return U.nil}())}subschema(Le,Ee){const be=(0,R.getSubschema)(this.it,Le);(0,R.extendSubschemaData)(be,this.it,Le),(0,R.extendSubschemaMode)(be,Le);const oe={...this.it,...be,items:void 0,props:void 0};return function pe(Se,Le){ve(Se)&&(Me(Se),he(Se))?function ge(Se,Le){const{schema:Ee,gen:be,opts:oe}=Se;oe.$comment&&Ee.$comment&&w(Se),function l(Se){const Le=Se.schema[Se.opts.schemaId];Le&&(Se.baseId=(0,V.resolveUrl)(Se.opts.uriResolver,Se.baseId,Le))}(Se),function f(Se){if(Se.schema.$async&&!Se.schemaEnv.$async)throw new Error("async schema in sync schema")}(Se);const fe=be.const("_errs",H.default.errors);Oe(Se,fe),be.var(Le,U._`${fe} === ${H.default.errors}`)}(Se,Le):(0,h.boolOrEmptySchema)(Se,Le)}(oe,Ee),oe}mergeEvaluated(Le,Ee){const{it:be,gen:oe}=this;be.opts.unevaluated&&(!0!==be.props&&void 0!==Le.props&&(be.props=P.mergeEvaluated.props(oe,Le.props,be.props,Ee)),!0!==be.items&&void 0!==Le.items&&(be.items=P.mergeEvaluated.items(oe,Le.items,be.items,Ee)))}mergeValidEvaluated(Le,Ee){const{it:be,gen:oe}=this;if(be.opts.unevaluated&&(!0!==be.props||!0!==be.items))return oe.if(Ee,()=>this.mergeEvaluated(Le,U.Name)),!0}}function Qe(Se,Le,Ee,be){const oe=new Ke(Se,Ee,Le);"code"in Ee?Ee.code(oe,be):oe.$data&&Ee.validate?(0,j.funcKeywordCode)(oe,Ee):"macro"in Ee?(0,j.macroKeywordCode)(oe,Ee):(Ee.compile||Ee.validate)&&(0,j.funcKeywordCode)(oe,Ee)}J.KeywordCxt=Ke;const ke=/^\/(?:[^~]|~0|~1)*$/,Ie=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Xe(Se,{dataLevel:Le,dataNames:Ee,dataPathArr:be}){let oe,fe;if(""===Se)return H.default.rootData;if("/"===Se[0]){if(!ke.test(Se))throw new Error(`Invalid JSON-pointer: ${Se}`);oe=Se,fe=H.default.rootData}else{const Je=Ie.exec(Se);if(!Je)throw new Error(`Invalid JSON-pointer: ${Se}`);const Ze=+Je[1];if(oe=Je[2],"#"===oe){if(Ze>=Le)throw new Error($e("property/index",Ze));return be[Le-Ze]}if(Ze>Le)throw new Error($e("data",Ze));if(fe=Ee[Le-Ze],!oe)return fe}let we=fe;const De=oe.split("/");for(const Je of De)Je&&(fe=U._`${fe}${(0,U.getProperty)((0,P.unescapeJsonPointer)(Je))}`,we=U._`${we} && ${fe}`);return we;function $e(Je,Ze){return`Cannot access ${Je} ${Ze} levels up, current level is ${Le}`}}J.getData=Xe},76800:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.validateKeywordUsage=J.validSchemaType=J.funcKeywordCode=J.macroKeywordCode=void 0;const h=A(1038),x=A(23432),N=A(42406),Y=A(53421);function R(W){const{gen:Q,data:de,it:ae}=W;Q.if(ae.parentData,()=>Q.assign(de,h._`${ae.parentData}[${ae.parentDataProperty}]`))}function V(W,Q,de){if(void 0===de)throw new Error(`keyword "${Q}" failed to compile`);return W.scopeValue("keyword","function"==typeof de?{ref:de}:{ref:de,code:(0,h.stringify)(de)})}J.macroKeywordCode=function M(W,Q){const{gen:de,keyword:ae,schema:re,parentSchema:te,it:ue}=W,pe=Q.macro.call(ue.self,re,te,ue),he=V(de,ae,pe);!1!==ue.opts.validateSchema&&ue.self.validateSchema(pe,!0);const ve=de.name("valid");W.subschema({schema:pe,schemaPath:h.nil,errSchemaPath:`${ue.errSchemaPath}/${ae}`,topSchemaRef:he,compositeRule:!0},ve),W.pass(ve,()=>W.error(!0))},J.funcKeywordCode=function j(W,Q){var de;const{gen:ae,keyword:re,schema:te,parentSchema:ue,$data:pe,it:he}=W;!function H({schemaEnv:W},Q){if(Q.async&&!W.$async)throw new Error("async keyword in sync schema")}(he,Q);const ve=!pe&&Q.compile?Q.compile.call(he.self,te,ue,he):Q.validate,ge=V(ae,re,ve),Me=ae.let("valid");function l(w=(Q.async?h._`await `:h.nil)){ae.assign(Me,h._`${w}${(0,N.callValidateCode)(W,ge,he.opts.passContext?x.default.this:x.default.self,!("compile"in Q&&!pe||!1===Q.schema))}`,Q.modifying)}function f(w){var _;ae.if((0,h.not)(null!==(_=Q.valid)&&void 0!==_?_:Me),w)}W.block$data(Me,function Oe(){if(!1===Q.errors)l(),Q.modifying&&R(W),f(()=>W.error());else{const w=Q.async?function je(){const w=ae.let("ruleErrs",null);return ae.try(()=>l(h._`await `),_=>ae.assign(Me,!1).if(h._`${_} instanceof ${he.ValidationError}`,()=>ae.assign(w,h._`${_}.errors`),()=>ae.throw(_))),w}():function B(){const w=h._`${ge}.errors`;return ae.assign(w,null),l(h.nil),w}();Q.modifying&&R(W),f(()=>function U(W,Q){const{gen:de}=W;de.if(h._`Array.isArray(${Q})`,()=>{de.assign(x.default.vErrors,h._`${x.default.vErrors} === null ? ${Q} : ${x.default.vErrors}.concat(${Q})`).assign(x.default.errors,h._`${x.default.vErrors}.length`),(0,Y.extendErrors)(W)},()=>W.error())}(W,w))}}),W.ok(null!==(de=Q.valid)&&void 0!==de?de:Me)},J.validSchemaType=function P(W,Q,de=!1){return!Q.length||Q.some(ae=>"array"===ae?Array.isArray(W):"object"===ae?W&&"object"==typeof W&&!Array.isArray(W):typeof W==ae||de&&typeof W>"u")},J.validateKeywordUsage=function ee({schema:W,opts:Q,self:de,errSchemaPath:ae},re,te){if(Array.isArray(re.keyword)?!re.keyword.includes(te):re.keyword!==te)throw new Error("ajv implementation error");const ue=re.dependencies;if(ue?.some(pe=>!Object.prototype.hasOwnProperty.call(W,pe)))throw new Error(`parent schema must have dependencies of ${te}: ${ue.join(",")}`);if(re.validateSchema&&!re.validateSchema(W[te])){const he=`keyword "${te}" value is invalid at path "${ae}": `+de.errorsText(re.validateSchema.errors);if("log"!==Q.validateSchema)throw new Error(he);de.logger.error(he)}}},16334:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.extendSubschemaMode=J.extendSubschemaData=J.getSubschema=void 0;const h=A(1038),x=A(27006);J.getSubschema=function N(j,{keyword:R,schemaProp:U,schema:H,schemaPath:V,errSchemaPath:P,topSchemaRef:ee}){if(void 0!==R&&void 0!==H)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==R){const W=j.schema[R];return void 0===U?{schema:W,schemaPath:h._`${j.schemaPath}${(0,h.getProperty)(R)}`,errSchemaPath:`${j.errSchemaPath}/${R}`}:{schema:W[U],schemaPath:h._`${j.schemaPath}${(0,h.getProperty)(R)}${(0,h.getProperty)(U)}`,errSchemaPath:`${j.errSchemaPath}/${R}/${(0,x.escapeFragment)(U)}`}}if(void 0!==H){if(void 0===V||void 0===P||void 0===ee)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:H,schemaPath:V,topSchemaRef:ee,errSchemaPath:P}}throw new Error('either "keyword" or "schema" must be passed')},J.extendSubschemaData=function Y(j,R,{dataProp:U,dataPropType:H,data:V,dataTypes:P,propertyName:ee}){if(void 0!==V&&void 0!==U)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:W}=R;if(void 0!==U){const{errorPath:de,dataPathArr:ae,opts:re}=R;Q(W.let("data",h._`${R.data}${(0,h.getProperty)(U)}`,!0)),j.errorPath=h.str`${de}${(0,x.getErrorPath)(U,H,re.jsPropertySyntax)}`,j.parentDataProperty=h._`${U}`,j.dataPathArr=[...ae,j.parentDataProperty]}function Q(de){j.data=de,j.dataLevel=R.dataLevel+1,j.dataTypes=[],R.definedProperties=new Set,j.parentData=R.data,j.dataNames=[...R.dataNames,de]}void 0!==V&&(Q(V instanceof h.Name?V:W.let("data",V,!0)),void 0!==ee&&(j.propertyName=ee)),P&&(j.dataTypes=P)},J.extendSubschemaMode=function M(j,{jtdDiscriminator:R,jtdMetadata:U,compositeRule:H,createErrors:V,allErrors:P}){void 0!==H&&(j.compositeRule=H),void 0!==V&&(j.createErrors=V),void 0!==P&&(j.allErrors=P),j.jtdDiscriminator=R,j.jtdMetadata=U}},35419:(Ye,J,A)=>{"use strict";var h=A(29293).default;Object.defineProperty(J,"__esModule",{value:!0}),J.CodeGen=J.Name=J.nil=J.stringify=J.str=J._=J.KeywordCxt=void 0;var x=A(40339);Object.defineProperty(J,"KeywordCxt",{enumerable:!0,get:function(){return x.KeywordCxt}});var N=A(1038);Object.defineProperty(J,"_",{enumerable:!0,get:function(){return N._}}),Object.defineProperty(J,"str",{enumerable:!0,get:function(){return N.str}}),Object.defineProperty(J,"stringify",{enumerable:!0,get:function(){return N.stringify}}),Object.defineProperty(J,"nil",{enumerable:!0,get:function(){return N.nil}}),Object.defineProperty(J,"Name",{enumerable:!0,get:function(){return N.Name}}),Object.defineProperty(J,"CodeGen",{enumerable:!0,get:function(){return N.CodeGen}});const Y=A(42467),M=A(26288),j=A(32203),R=A(97692),U=A(1038),H=A(77172),V=A(55999),P=A(27006),ee=A(83813),W=A(13203),Q=(E,q)=>new RegExp(E,q);Q.code="new RegExp";const de=["removeAdditional","useDefaults","coerceTypes"],ae=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),re={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},te={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function pe(E){var q,X,ce,me,Te,Ke,Qe,ke,Ie,Xe,Se,Le,Ee,be,oe,fe,we,De,$e,Je,Ze,Pt,nt,Ge,Et;const K=E.strict,C=null===(q=E.code)||void 0===q?void 0:q.optimize,b=!0===C||void 0===C?1:C||0,z=null!==(ce=null===(X=E.code)||void 0===X?void 0:X.regExp)&&void 0!==ce?ce:Q,le=null!==(me=E.uriResolver)&&void 0!==me?me:W.default;return{strictSchema:null===(Ke=null!==(Te=E.strictSchema)&&void 0!==Te?Te:K)||void 0===Ke||Ke,strictNumbers:null===(ke=null!==(Qe=E.strictNumbers)&&void 0!==Qe?Qe:K)||void 0===ke||ke,strictTypes:null!==(Xe=null!==(Ie=E.strictTypes)&&void 0!==Ie?Ie:K)&&void 0!==Xe?Xe:"log",strictTuples:null!==(Le=null!==(Se=E.strictTuples)&&void 0!==Se?Se:K)&&void 0!==Le?Le:"log",strictRequired:null!==(be=null!==(Ee=E.strictRequired)&&void 0!==Ee?Ee:K)&&void 0!==be&&be,code:E.code?{...E.code,optimize:b,regExp:z}:{optimize:b,regExp:z},loopRequired:null!==(oe=E.loopRequired)&&void 0!==oe?oe:200,loopEnum:null!==(fe=E.loopEnum)&&void 0!==fe?fe:200,meta:null===(we=E.meta)||void 0===we||we,messages:null===(De=E.messages)||void 0===De||De,inlineRefs:null===($e=E.inlineRefs)||void 0===$e||$e,schemaId:null!==(Je=E.schemaId)&&void 0!==Je?Je:"$id",addUsedSchema:null===(Ze=E.addUsedSchema)||void 0===Ze||Ze,validateSchema:null===(Pt=E.validateSchema)||void 0===Pt||Pt,validateFormats:null===(nt=E.validateFormats)||void 0===nt||nt,unicodeRegExp:null===(Ge=E.unicodeRegExp)||void 0===Ge||Ge,int32range:null===(Et=E.int32range)||void 0===Et||Et,uriResolver:le}}class he{constructor(q={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,q=this.opts={...q,...pe(q)};const{es5:X,lines:ce}=this.opts.code;this.scope=new U.ValueScope({scope:{},prefixes:ae,es5:X,lines:ce}),this.logger=function f(E){if(!1===E)return l;if(void 0===E)return console;if(E.log&&E.warn&&E.error)return E;throw new Error("logger must implement log, warn and error methods")}(q.logger);const me=q.validateFormats;q.validateFormats=!1,this.RULES=(0,j.getRules)(),ve.call(this,re,q,"NOT SUPPORTED"),ve.call(this,te,q,"DEPRECATED","warn"),this._metaOpts=B.call(this),q.formats&&Oe.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),q.keywords&&je.call(this,q.keywords),"object"==typeof q.meta&&this.addMetaSchema(q.meta),Me.call(this),q.validateFormats=me}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:q,meta:X,schemaId:ce}=this.opts;let me=ee;"id"===ce&&(me={...ee},me.id=me.$id,delete me.$id),X&&q&&this.addMetaSchema(me,me[ce],!1)}defaultMeta(){const{meta:q,schemaId:X}=this.opts;return this.opts.defaultMeta="object"==typeof q?q[X]||q:void 0}validate(q,X){let ce;if("string"==typeof q){if(ce=this.getSchema(q),!ce)throw new Error(`no schema with key or ref "${q}"`)}else ce=this.compile(q);const me=ce(X);return"$async"in ce||(this.errors=ce.errors),me}compile(q,X){const ce=this._addSchema(q,X);return ce.validate||this._compileSchemaEnv(ce)}compileAsync(q,X){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:ce}=this.opts;return me.call(this,q,X);function me(oe,fe){return Te.apply(this,arguments)}function Te(){return(Te=h(function*(oe,fe){yield Ke.call(this,oe.$schema);const we=this._addSchema(oe,fe);return we.validate||ke.call(this,we)})).apply(this,arguments)}function Ke(oe){return Qe.apply(this,arguments)}function Qe(){return(Qe=h(function*(oe){oe&&!this.getSchema(oe)&&(yield me.call(this,{$ref:oe},!0))})).apply(this,arguments)}function ke(oe){return Ie.apply(this,arguments)}function Ie(){return(Ie=h(function*(oe){try{return this._compileSchemaEnv(oe)}catch(fe){if(!(fe instanceof M.default))throw fe;return Xe.call(this,fe),yield Se.call(this,fe.missingSchema),ke.call(this,oe)}})).apply(this,arguments)}function Xe({missingSchema:oe,missingRef:fe}){if(this.refs[oe])throw new Error(`AnySchema ${oe} is loaded but ${fe} cannot be resolved`)}function Se(oe){return Le.apply(this,arguments)}function Le(){return(Le=h(function*(oe){const fe=yield Ee.call(this,oe);this.refs[oe]||(yield Ke.call(this,fe.$schema)),this.refs[oe]||this.addSchema(fe,oe,X)})).apply(this,arguments)}function Ee(oe){return be.apply(this,arguments)}function be(){return(be=h(function*(oe){const fe=this._loading[oe];if(fe)return fe;try{return yield this._loading[oe]=ce(oe)}finally{delete this._loading[oe]}})).apply(this,arguments)}}addSchema(q,X,ce,me=this.opts.validateSchema){if(Array.isArray(q)){for(const Ke of q)this.addSchema(Ke,void 0,ce,me);return this}let Te;if("object"==typeof q){const{schemaId:Ke}=this.opts;if(Te=q[Ke],void 0!==Te&&"string"!=typeof Te)throw new Error(`schema ${Ke} must be string`)}return X=(0,H.normalizeId)(X||Te),this._checkUnique(X),this.schemas[X]=this._addSchema(q,ce,X,me,!0),this}addMetaSchema(q,X,ce=this.opts.validateSchema){return this.addSchema(q,X,!0,ce),this}validateSchema(q,X){if("boolean"==typeof q)return!0;let ce;if(ce=q.$schema,void 0!==ce&&"string"!=typeof ce)throw new Error("$schema must be a string");if(ce=ce||this.opts.defaultMeta||this.defaultMeta(),!ce)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const me=this.validate(ce,q);if(!me&&X){const Te="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(Te);this.logger.error(Te)}return me}getSchema(q){let X;for(;"string"==typeof(X=ge.call(this,q));)q=X;if(void 0===X){const{schemaId:ce}=this.opts,me=new R.SchemaEnv({schema:{},schemaId:ce});if(X=R.resolveSchema.call(this,me,q),!X)return;this.refs[q]=X}return X.validate||this._compileSchemaEnv(X)}removeSchema(q){if(q instanceof RegExp)return this._removeAllSchemas(this.schemas,q),this._removeAllSchemas(this.refs,q),this;switch(typeof q){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const X=ge.call(this,q);return"object"==typeof X&&this._cache.delete(X.schema),delete this.schemas[q],delete this.refs[q],this}case"object":{this._cache.delete(q);let ce=q[this.opts.schemaId];return ce&&(ce=(0,H.normalizeId)(ce),delete this.schemas[ce],delete this.refs[ce]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(q){for(const X of q)this.addKeyword(X);return this}addKeyword(q,X){let ce;if("string"==typeof q)ce=q,"object"==typeof X&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),X.keyword=ce);else{if("object"!=typeof q||void 0!==X)throw new Error("invalid addKeywords parameters");if(ce=(X=q).keyword,Array.isArray(ce)&&!ce.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(_.call(this,ce,X),!X)return(0,P.eachItem)(ce,Te=>D.call(this,Te)),this;$.call(this,X);const me={...X,type:(0,V.getJSONTypes)(X.type),schemaType:(0,V.getJSONTypes)(X.schemaType)};return(0,P.eachItem)(ce,0===me.type.length?Te=>D.call(this,Te,me):Te=>me.type.forEach(Ke=>D.call(this,Te,me,Ke))),this}getKeyword(q){const X=this.RULES.all[q];return"object"==typeof X?X.definition:!!X}removeKeyword(q){const{RULES:X}=this;delete X.keywords[q],delete X.all[q];for(const ce of X.rules){const me=ce.rules.findIndex(Te=>Te.keyword===q);me>=0&&ce.rules.splice(me,1)}return this}addFormat(q,X){return"string"==typeof X&&(X=new RegExp(X)),this.formats[q]=X,this}errorsText(q=this.errors,{separator:X=", ",dataVar:ce="data"}={}){return q&&0!==q.length?q.map(me=>`${ce}${me.instancePath} ${me.message}`).reduce((me,Te)=>me+X+Te):"No errors"}$dataMetaSchema(q,X){const ce=this.RULES.all;q=JSON.parse(JSON.stringify(q));for(const me of X){const Te=me.split("/").slice(1);let Ke=q;for(const Qe of Te)Ke=Ke[Qe];for(const Qe in ce){const ke=ce[Qe];if("object"!=typeof ke)continue;const{$data:Ie}=ke.definition,Xe=Ke[Qe];Ie&&Xe&&(Ke[Qe]=c(Xe))}}return q}_removeAllSchemas(q,X){for(const ce in q){const me=q[ce];(!X||X.test(ce))&&("string"==typeof me?delete q[ce]:me&&!me.meta&&(this._cache.delete(me.schema),delete q[ce]))}}_addSchema(q,X,ce,me=this.opts.validateSchema,Te=this.opts.addUsedSchema){let Ke;const{schemaId:Qe}=this.opts;if("object"==typeof q)Ke=q[Qe];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof q)throw new Error("schema must be object or boolean")}let ke=this._cache.get(q);if(void 0!==ke)return ke;ce=(0,H.normalizeId)(Ke||ce);const Ie=H.getSchemaRefs.call(this,q,ce);return ke=new R.SchemaEnv({schema:q,schemaId:Qe,meta:X,baseId:ce,localRefs:Ie}),this._cache.set(ke.schema,ke),Te&&!ce.startsWith("#")&&(ce&&this._checkUnique(ce),this.refs[ce]=ke),me&&this.validateSchema(q,!0),ke}_checkUnique(q){if(this.schemas[q]||this.refs[q])throw new Error(`schema with key or id "${q}" already exists`)}_compileSchemaEnv(q){if(q.meta?this._compileMetaSchema(q):R.compileSchema.call(this,q),!q.validate)throw new Error("ajv implementation error");return q.validate}_compileMetaSchema(q){const X=this.opts;this.opts=this._metaOpts;try{R.compileSchema.call(this,q)}finally{this.opts=X}}}function ve(E,q,X,ce="error"){for(const me in E)me in q&&this.logger[ce](`${X}: option ${me}. ${E[me]}`)}function ge(E){return E=(0,H.normalizeId)(E),this.schemas[E]||this.refs[E]}function Me(){const E=this.opts.schemas;if(E)if(Array.isArray(E))this.addSchema(E);else for(const q in E)this.addSchema(E[q],q)}function Oe(){for(const E in this.opts.formats){const q=this.opts.formats[E];q&&this.addFormat(E,q)}}function je(E){if(Array.isArray(E))this.addVocabulary(E);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const q in E){const X=E[q];X.keyword||(X.keyword=q),this.addKeyword(X)}}}function B(){const E={...this.opts};for(const q of de)delete E[q];return E}J.default=he,he.ValidationError=Y.default,he.MissingRefError=M.default;const l={log(){},warn(){},error(){}},w=/^[a-z_$][a-z0-9_$:-]*$/i;function _(E,q){const{RULES:X}=this;if((0,P.eachItem)(E,ce=>{if(X.keywords[ce])throw new Error(`Keyword ${ce} is already defined`);if(!w.test(ce))throw new Error(`Keyword ${ce} has invalid name`)}),q&&q.$data&&!("code"in q)&&!("validate"in q))throw new Error('$data keyword must have "code" or "validate" function')}function D(E,q,X){var ce;const me=q?.post;if(X&&me)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:Te}=this;let Ke=me?Te.post:Te.rules.find(({type:ke})=>ke===X);if(Ke||(Ke={type:X,rules:[]},Te.rules.push(Ke)),Te.keywords[E]=!0,!q)return;const Qe={keyword:E,definition:{...q,type:(0,V.getJSONTypes)(q.type),schemaType:(0,V.getJSONTypes)(q.schemaType)}};q.before?O.call(this,Ke,Qe,q.before):Ke.rules.push(Qe),Te.all[E]=Qe,null===(ce=q.implements)||void 0===ce||ce.forEach(ke=>this.addKeyword(ke))}function O(E,q,X){const ce=E.rules.findIndex(me=>me.keyword===X);ce>=0?E.rules.splice(ce,0,q):(E.rules.push(q),this.logger.warn(`rule ${X} is not defined`))}function $(E){let{metaSchema:q}=E;void 0!==q&&(E.$data&&this.opts.$data&&(q=c(q)),E.validateSchema=this.compile(q,!0))}const T={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function c(E){return{anyOf:[E,T]}}},87577:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(6438),x=A(59608),N=A(8307),Y=A(11082),M=A(93406),j=A(14516),R=A(3059),U=A(18738),H=["/properties"];J.default=function V(P){return[h,x,N,Y,M,ee(this,j),R,ee(this,U)].forEach(W=>this.addMetaSchema(W,void 0,!1)),this;function ee(W,Q){return P?W.$dataMetaSchema(Q,H):Q}}},92281:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(40362);h.code='require("ajv/dist/runtime/equal").default',J.default=h},26488:(Ye,J)=>{"use strict";function A(h){const x=h.length;let M,N=0,Y=0;for(;Y<x;)N++,M=h.charCodeAt(Y++),M>=55296&&M<=56319&&Y<x&&(M=h.charCodeAt(Y),56320==(64512&M)&&Y++);return N}Object.defineProperty(J,"__esModule",{value:!0}),J.default=A,A.code='require("ajv/dist/runtime/ucs2length").default'},13203:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(95568);h.code='require("ajv/dist/runtime/uri").default',J.default=h},42467:(Ye,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});class A extends Error{constructor(x){super("validation failed"),this.errors=x,this.ajv=this.validation=!0}}J.default=A},46934:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.validateAdditionalItems=void 0;const h=A(1038),x=A(27006),Y={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:j}})=>h.str`must NOT have more than ${j} items`,params:({params:{len:j}})=>h._`{limit: ${j}}`},code(j){const{parentSchema:R,it:U}=j,{items:H}=R;Array.isArray(H)?M(j,H):(0,x.checkStrictMode)(U,'"additionalItems" is ignored when "items" is not an array of schemas')}};function M(j,R){const{gen:U,schema:H,data:V,keyword:P,it:ee}=j;ee.items=!0;const W=U.const("len",h._`${V}.length`);if(!1===H)j.setParams({len:R.length}),j.pass(h._`${W} <= ${R.length}`);else if("object"==typeof H&&!(0,x.alwaysValidSchema)(ee,H)){const de=U.var("valid",h._`${W} <= ${R.length}`);U.if((0,h.not)(de),()=>function Q(de){U.forRange("i",R.length,W,ae=>{j.subschema({keyword:P,dataProp:ae,dataPropType:x.Type.Num},de),ee.allErrors||U.if((0,h.not)(de),()=>U.break())})}(de)),j.ok(de)}}J.validateAdditionalItems=M,J.default=Y},18445:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(42406),x=A(1038),N=A(23432),Y=A(27006);J.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:R})=>x._`{additionalProperty: ${R.additionalProperty}}`},code(R){const{gen:U,schema:H,parentSchema:V,data:P,errsCount:ee,it:W}=R;if(!ee)throw new Error("ajv implementation error");const{allErrors:Q,opts:de}=W;if(W.props=!0,"all"!==de.removeAdditional&&(0,Y.alwaysValidSchema)(W,H))return;const ae=(0,h.allSchemaProperties)(V.properties),re=(0,h.allSchemaProperties)(V.patternProperties);function pe(ge){U.code(x._`delete ${P}[${ge}]`)}function he(ge){if("all"===de.removeAdditional||de.removeAdditional&&!1===H)pe(ge);else{if(!1===H)return R.setParams({additionalProperty:ge}),R.error(),void(Q||U.break());if("object"==typeof H&&!(0,Y.alwaysValidSchema)(W,H)){const Me=U.name("valid");"failing"===de.removeAdditional?(ve(ge,Me,!1),U.if((0,x.not)(Me),()=>{R.reset(),pe(ge)})):(ve(ge,Me),Q||U.if((0,x.not)(Me),()=>U.break()))}}}function ve(ge,Me,Oe){const je={keyword:"additionalProperties",dataProp:ge,dataPropType:Y.Type.Str};!1===Oe&&Object.assign(je,{compositeRule:!0,createErrors:!1,allErrors:!1}),R.subschema(je,Me)}(function te(){U.forIn("key",P,ge=>{ae.length||re.length?U.if(function ue(ge){let Me;if(ae.length>8){const Oe=(0,Y.schemaRefOrVal)(W,V.properties,"properties");Me=(0,h.isOwnProperty)(U,Oe,ge)}else Me=ae.length?(0,x.or)(...ae.map(Oe=>x._`${ge} === ${Oe}`)):x.nil;return re.length&&(Me=(0,x.or)(Me,...re.map(Oe=>x._`${(0,h.usePattern)(R,Oe)}.test(${ge})`))),(0,x.not)(Me)}(ge),()=>he(ge)):he(ge)})})(),R.ok(x._`${ee} === ${N.default.errors}`)}}},77783:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(27006);J.default={keyword:"allOf",schemaType:"array",code(N){const{gen:Y,schema:M,it:j}=N;if(!Array.isArray(M))throw new Error("ajv implementation error");const R=Y.name("valid");M.forEach((U,H)=>{if((0,h.alwaysValidSchema)(j,U))return;const V=N.subschema({keyword:"allOf",schemaProp:H},R);N.ok(R),N.mergeEvaluated(V)})}}},60922:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const x={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:A(42406).validateUnion,error:{message:"must match a schema in anyOf"}};J.default=x},57568:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(1038),x=A(27006);J.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:M,max:j}})=>void 0===j?h.str`must contain at least ${M} valid item(s)`:h.str`must contain at least ${M} and no more than ${j} valid item(s)`,params:({params:{min:M,max:j}})=>void 0===j?h._`{minContains: ${M}}`:h._`{minContains: ${M}, maxContains: ${j}}`},code(M){const{gen:j,schema:R,parentSchema:U,data:H,it:V}=M;let P,ee;const{minContains:W,maxContains:Q}=U;V.opts.next?(P=void 0===W?1:W,ee=Q):P=1;const de=j.const("len",h._`${H}.length`);if(M.setParams({min:P,max:ee}),void 0===ee&&0===P)return void(0,x.checkStrictMode)(V,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==ee&&P>ee)return(0,x.checkStrictMode)(V,'"minContains" > "maxContains" is always invalid'),void M.fail();if((0,x.alwaysValidSchema)(V,R)){let pe=h._`${de} >= ${P}`;return void 0!==ee&&(pe=h._`${pe} && ${de} <= ${ee}`),void M.pass(pe)}V.items=!0;const ae=j.name("valid");function re(){const pe=j.name("_valid"),he=j.let("count",0);te(pe,()=>j.if(pe,()=>function ue(pe){j.code(h._`${pe}++`),void 0===ee?j.if(h._`${pe} >= ${P}`,()=>j.assign(ae,!0).break()):(j.if(h._`${pe} > ${ee}`,()=>j.assign(ae,!1).break()),1===P?j.assign(ae,!0):j.if(h._`${pe} >= ${P}`,()=>j.assign(ae,!0)))}(he)))}function te(pe,he){j.forRange("i",0,de,ve=>{M.subschema({keyword:"contains",dataProp:ve,dataPropType:x.Type.Num,compositeRule:!0},pe),he()})}void 0===ee&&1===P?te(ae,()=>j.if(ae,()=>j.break())):0===P?(j.let(ae,!0),void 0!==ee&&j.if(h._`${H}.length > 0`,re)):(j.let(ae,!1),re()),M.result(ae,()=>M.reset())}}},68032:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.validateSchemaDeps=J.validatePropertyDeps=J.error=void 0;const h=A(1038),x=A(27006),N=A(42406);J.error={message:({params:{property:U,depsCount:H,deps:V}})=>h.str`must have ${1===H?"property":"properties"} ${V} when property ${U} is present`,params:({params:{property:U,depsCount:H,deps:V,missingProperty:P}})=>h._`{property: ${U},
    missingProperty: ${P},
    depsCount: ${H},
    deps: ${V}}`};const Y={keyword:"dependencies",type:"object",schemaType:"object",error:J.error,code(U){const[H,V]=function M({schema:U}){const H={},V={};for(const P in U)"__proto__"!==P&&((Array.isArray(U[P])?H:V)[P]=U[P]);return[H,V]}(U);j(U,H),R(U,V)}};function j(U,H=U.schema){const{gen:V,data:P,it:ee}=U;if(0===Object.keys(H).length)return;const W=V.let("missing");for(const Q in H){const de=H[Q];if(0===de.length)continue;const ae=(0,N.propertyInData)(V,P,Q,ee.opts.ownProperties);U.setParams({property:Q,depsCount:de.length,deps:de.join(", ")}),ee.allErrors?V.if(ae,()=>{for(const re of de)(0,N.checkReportMissingProp)(U,re)}):(V.if(h._`${ae} && (${(0,N.checkMissingProp)(U,de,W)})`),(0,N.reportMissingProp)(U,W),V.else())}}function R(U,H=U.schema){const{gen:V,data:P,keyword:ee,it:W}=U,Q=V.name("valid");for(const de in H)(0,x.alwaysValidSchema)(W,H[de])||(V.if((0,N.propertyInData)(V,P,de,W.opts.ownProperties),()=>{const ae=U.subschema({keyword:ee,schemaProp:de},Q);U.mergeValidEvaluated(ae,Q)},()=>V.var(Q,!0)),U.ok(Q))}J.validatePropertyDeps=j,J.validateSchemaDeps=R,J.default=Y},85164:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(68032);J.default={keyword:"dependentSchemas",type:"object",schemaType:"object",code:N=>(0,h.validateSchemaDeps)(N)}},45226:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(1038),x=A(27006);function M(j,R){const U=j.schema[R];return void 0!==U&&!(0,x.alwaysValidSchema)(j,U)}J.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:j})=>h.str`must match "${j.ifClause}" schema`,params:({params:j})=>h._`{failingKeyword: ${j.ifClause}}`},code(j){const{gen:R,parentSchema:U,it:H}=j;void 0===U.then&&void 0===U.else&&(0,x.checkStrictMode)(H,'"if" without "then" and "else" is ignored');const V=M(H,"then"),P=M(H,"else");if(!V&&!P)return;const ee=R.let("valid",!0),W=R.name("_valid");if(function Q(){const ae=j.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},W);j.mergeEvaluated(ae)}(),j.reset(),V&&P){const ae=R.let("ifClause");j.setParams({ifClause:ae}),R.if(W,de("then",ae),de("else",ae))}else V?R.if(W,de("then")):R.if((0,h.not)(W),de("else"));function de(ae,re){return()=>{const te=j.subschema({keyword:ae},W);R.assign(ee,W),j.mergeValidEvaluated(te,ee),re?R.assign(re,h._`${ae}`):j.setParams({ifClause:ae})}}j.pass(ee,()=>j.error(!0))}}},68261:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(46934),x=A(96537),N=A(2941),Y=A(5261),M=A(57568),j=A(68032),R=A(36474),U=A(18445),H=A(34032),V=A(17330),P=A(3408),ee=A(60922),W=A(88388),Q=A(77783),de=A(45226),ae=A(98779);J.default=function re(te=!1){const ue=[P.default,ee.default,W.default,Q.default,de.default,ae.default,R.default,U.default,j.default,H.default,V.default];return te?ue.push(x.default,Y.default):ue.push(h.default,N.default),ue.push(M.default),ue}},2941:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.validateTuple=void 0;const h=A(1038),x=A(27006),N=A(42406),Y={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(j){const{schema:R,it:U}=j;if(Array.isArray(R))return M(j,"additionalItems",R);U.items=!0,!(0,x.alwaysValidSchema)(U,R)&&j.ok((0,N.validateArray)(j))}};function M(j,R,U=j.schema){const{gen:H,parentSchema:V,data:P,keyword:ee,it:W}=j;(function ae(re){const{opts:te,errSchemaPath:ue}=W,pe=U.length;te.strictTuples&&!(pe===re.minItems&&(pe===re.maxItems||!1===re[R]))&&(0,x.checkStrictMode)(W,`"${ee}" is ${pe}-tuple, but minItems or maxItems/${R} are not specified or different at path "${ue}"`,te.strictTuples)})(V),W.opts.unevaluated&&U.length&&!0!==W.items&&(W.items=x.mergeEvaluated.items(H,U.length,W.items));const Q=H.name("valid"),de=H.const("len",h._`${P}.length`);U.forEach((re,te)=>{(0,x.alwaysValidSchema)(W,re)||(H.if(h._`${de} > ${te}`,()=>j.subschema({keyword:ee,schemaProp:te,dataProp:te},Q)),j.ok(Q))})}J.validateTuple=M,J.default=Y},5261:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(1038),x=A(27006),N=A(42406),Y=A(46934);J.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:R}})=>h.str`must NOT have more than ${R} items`,params:({params:{len:R}})=>h._`{limit: ${R}}`},code(R){const{schema:U,parentSchema:H,it:V}=R,{prefixItems:P}=H;V.items=!0,!(0,x.alwaysValidSchema)(V,U)&&(P?(0,Y.validateAdditionalItems)(R,P):R.ok((0,N.validateArray)(R)))}}},3408:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(27006);J.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(N){const{gen:Y,schema:M,it:j}=N;if((0,h.alwaysValidSchema)(j,M))return void N.fail();const R=Y.name("valid");N.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},R),N.failResult(R,()=>N.reset(),()=>N.error())},error:{message:"must NOT be valid"}}},88388:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(1038),x=A(27006);J.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:M})=>h._`{passingSchemas: ${M.passing}}`},code(M){const{gen:j,schema:R,parentSchema:U,it:H}=M;if(!Array.isArray(R))throw new Error("ajv implementation error");if(H.opts.discriminator&&U.discriminator)return;const V=R,P=j.let("valid",!1),ee=j.let("passing",null),W=j.name("_valid");M.setParams({passing:ee}),j.block(function Q(){V.forEach((de,ae)=>{let re;(0,x.alwaysValidSchema)(H,de)?j.var(W,!0):re=M.subschema({keyword:"oneOf",schemaProp:ae,compositeRule:!0},W),ae>0&&j.if(h._`${W} && ${P}`).assign(P,!1).assign(ee,h._`[${ee}, ${ae}]`).else(),j.if(W,()=>{j.assign(P,!0),j.assign(ee,ae),re&&M.mergeEvaluated(re,h.Name)})})}),M.result(P,()=>M.reset(),()=>M.error(!0))}}},17330:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(42406),x=A(1038),N=A(27006),Y=A(27006);J.default={keyword:"patternProperties",type:"object",schemaType:"object",code(j){const{gen:R,schema:U,data:H,parentSchema:V,it:P}=j,{opts:ee}=P,W=(0,h.allSchemaProperties)(U),Q=W.filter(he=>(0,N.alwaysValidSchema)(P,U[he]));if(0===W.length||Q.length===W.length&&(!P.opts.unevaluated||!0===P.props))return;const de=ee.strictSchema&&!ee.allowMatchingProperties&&V.properties,ae=R.name("valid");!0!==P.props&&!(P.props instanceof x.Name)&&(P.props=(0,Y.evaluatedPropsToName)(R,P.props));const{props:re}=P;function ue(he){for(const ve in de)new RegExp(he).test(ve)&&(0,N.checkStrictMode)(P,`property ${ve} matches pattern ${he} (use allowMatchingProperties)`)}function pe(he){R.forIn("key",H,ve=>{R.if(x._`${(0,h.usePattern)(j,he)}.test(${ve})`,()=>{const ge=Q.includes(he);ge||j.subschema({keyword:"patternProperties",schemaProp:he,dataProp:ve,dataPropType:Y.Type.Str},ae),P.opts.unevaluated&&!0!==re?R.assign(x._`${re}[${ve}]`,!0):!ge&&!P.allErrors&&R.if((0,x.not)(ae),()=>R.break())})})}!function te(){for(const he of W)de&&ue(he),P.allErrors?pe(he):(R.var(ae,!0),pe(he),R.if(ae))}()}}},96537:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(2941);J.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:N=>(0,h.validateTuple)(N,"items")}},34032:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(40339),x=A(42406),N=A(27006),Y=A(18445);J.default={keyword:"properties",type:"object",schemaType:"object",code(j){const{gen:R,schema:U,parentSchema:H,data:V,it:P}=j;"all"===P.opts.removeAdditional&&void 0===H.additionalProperties&&Y.default.code(new h.KeywordCxt(P,Y.default,"additionalProperties"));const ee=(0,x.allSchemaProperties)(U);for(const re of ee)P.definedProperties.add(re);P.opts.unevaluated&&ee.length&&!0!==P.props&&(P.props=N.mergeEvaluated.props(R,(0,N.toHash)(ee),P.props));const W=ee.filter(re=>!(0,N.alwaysValidSchema)(P,U[re]));if(0===W.length)return;const Q=R.name("valid");for(const re of W)de(re)?ae(re):(R.if((0,x.propertyInData)(R,V,re,P.opts.ownProperties)),ae(re),P.allErrors||R.else().var(Q,!0),R.endIf()),j.it.definedProperties.add(re),j.ok(Q);function de(re){return P.opts.useDefaults&&!P.compositeRule&&void 0!==U[re].default}function ae(re){j.subschema({keyword:"properties",schemaProp:re,dataProp:re},Q)}}}},36474:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(1038),x=A(27006);J.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:M})=>h._`{propertyName: ${M.propertyName}}`},code(M){const{gen:j,schema:R,data:U,it:H}=M;if((0,x.alwaysValidSchema)(H,R))return;const V=j.name("valid");j.forIn("key",U,P=>{M.setParams({propertyName:P}),M.subschema({keyword:"propertyNames",data:P,dataTypes:["string"],propertyName:P,compositeRule:!0},V),j.if((0,h.not)(V),()=>{M.error(!0),H.allErrors||j.break()})}),M.ok(V)}}},98779:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(27006);J.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:N,parentSchema:Y,it:M}){void 0===Y.if&&(0,h.checkStrictMode)(M,`"${N}" without "if" is ignored`)}}},42406:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.validateUnion=J.validateArray=J.usePattern=J.callValidateCode=J.schemaProperties=J.allSchemaProperties=J.noPropertyInData=J.propertyInData=J.isOwnProperty=J.hasPropFunc=J.reportMissingProp=J.checkMissingProp=J.checkReportMissingProp=void 0;const h=A(1038),x=A(27006),N=A(23432),Y=A(27006);function U(ue){return ue.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:h._`Object.prototype.hasOwnProperty`})}function H(ue,pe,he){return h._`${U(ue)}.call(${pe}, ${he})`}function P(ue,pe,he,ve){const ge=h._`${pe}${(0,h.getProperty)(he)} === undefined`;return ve?(0,h.or)(ge,(0,h.not)(H(ue,pe,he))):ge}function ee(ue){return ue?Object.keys(ue).filter(pe=>"__proto__"!==pe):[]}J.checkReportMissingProp=function M(ue,pe){const{gen:he,data:ve,it:ge}=ue;he.if(P(he,ve,pe,ge.opts.ownProperties),()=>{ue.setParams({missingProperty:h._`${pe}`},!0),ue.error()})},J.checkMissingProp=function j({gen:ue,data:pe,it:{opts:he}},ve,ge){return(0,h.or)(...ve.map(Me=>(0,h.and)(P(ue,pe,Me,he.ownProperties),h._`${ge} = ${Me}`)))},J.reportMissingProp=function R(ue,pe){ue.setParams({missingProperty:pe},!0),ue.error()},J.hasPropFunc=U,J.isOwnProperty=H,J.propertyInData=function V(ue,pe,he,ve){const ge=h._`${pe}${(0,h.getProperty)(he)} !== undefined`;return ve?h._`${ge} && ${H(ue,pe,he)}`:ge},J.noPropertyInData=P,J.allSchemaProperties=ee,J.schemaProperties=function W(ue,pe){return ee(pe).filter(he=>!(0,x.alwaysValidSchema)(ue,pe[he]))},J.callValidateCode=function Q({schemaCode:ue,data:pe,it:{gen:he,topSchemaRef:ve,schemaPath:ge,errorPath:Me},it:Oe},je,B,l){const f=l?h._`${ue}, ${pe}, ${ve}${ge}`:pe,w=[[N.default.instancePath,(0,h.strConcat)(N.default.instancePath,Me)],[N.default.parentData,Oe.parentData],[N.default.parentDataProperty,Oe.parentDataProperty],[N.default.rootData,N.default.rootData]];Oe.opts.dynamicRef&&w.push([N.default.dynamicAnchors,N.default.dynamicAnchors]);const _=h._`${f}, ${he.object(...w)}`;return B!==h.nil?h._`${je}.call(${B}, ${_})`:h._`${je}(${_})`};const de=h._`new RegExp`;J.usePattern=function ae({gen:ue,it:{opts:pe}},he){const ve=pe.unicodeRegExp?"u":"",{regExp:ge}=pe.code,Me=ge(he,ve);return ue.scopeValue("pattern",{key:Me.toString(),ref:Me,code:h._`${"new RegExp"===ge.code?de:(0,Y.useFunc)(ue,ge)}(${he}, ${ve})`})},J.validateArray=function re(ue){const{gen:pe,data:he,keyword:ve,it:ge}=ue,Me=pe.name("valid");if(ge.allErrors){const je=pe.let("valid",!0);return Oe(()=>pe.assign(je,!1)),je}return pe.var(Me,!0),Oe(()=>pe.break()),Me;function Oe(je){const B=pe.const("len",h._`${he}.length`);pe.forRange("i",0,B,l=>{ue.subschema({keyword:ve,dataProp:l,dataPropType:x.Type.Num},Me),pe.if((0,h.not)(Me),je)})}},J.validateUnion=function te(ue){const{gen:pe,schema:he,keyword:ve,it:ge}=ue;if(!Array.isArray(he))throw new Error("ajv implementation error");if(he.some(B=>(0,x.alwaysValidSchema)(ge,B))&&!ge.opts.unevaluated)return;const Oe=pe.let("valid",!1),je=pe.name("_valid");pe.block(()=>he.forEach((B,l)=>{const f=ue.subschema({keyword:ve,schemaProp:l,compositeRule:!0},je);pe.assign(Oe,h._`${Oe} || ${je}`),ue.mergeValidEvaluated(f,je)||pe.if((0,h.not)(Oe))})),ue.result(Oe,()=>ue.reset(),()=>ue.error(!0))}},36846:(Ye,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},11867:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(36846),x=A(84862);J.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",h.default,x.default]},84862:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.callRef=J.getValidate=void 0;const h=A(26288),x=A(42406),N=A(1038),Y=A(23432),M=A(97692),j=A(27006),R={keyword:"$ref",schemaType:"string",code(V){const{gen:P,schema:ee,it:W}=V,{baseId:Q,schemaEnv:de,validateName:ae,opts:re,self:te}=W,{root:ue}=de;if(("#"===ee||"#/"===ee)&&Q===ue.baseId)return function he(){if(de===ue)return H(V,ae,de,de.$async);const Me=P.scopeValue("root",{ref:ue});return H(V,N._`${Me}.validate`,ue,ue.$async)}();const pe=M.resolveRef.call(te,ue,Q,ee);if(void 0===pe)throw new h.default(W.opts.uriResolver,Q,ee);return pe instanceof M.SchemaEnv?function ve(Me){const Oe=U(V,Me);H(V,Oe,Me,Me.$async)}(pe):function ge(Me){const Oe=P.scopeValue("schema",!0===re.code.source?{ref:Me,code:(0,N.stringify)(Me)}:{ref:Me}),je=P.name("valid"),B=V.subschema({schema:Me,dataTypes:[],schemaPath:N.nil,topSchemaRef:Oe,errSchemaPath:ee},je);V.mergeEvaluated(B),V.ok(je)}(pe)}};function U(V,P){const{gen:ee}=V;return P.validate?ee.scopeValue("validate",{ref:P.validate}):N._`${ee.scopeValue("wrapper",{ref:P})}.validate`}function H(V,P,ee,W){const{gen:Q,it:de}=V,{allErrors:ae,schemaEnv:re,opts:te}=de,ue=te.passContext?Y.default.this:N.nil;function ve(Me){const Oe=N._`${Me}.errors`;Q.assign(Y.default.vErrors,N._`${Y.default.vErrors} === null ? ${Oe} : ${Y.default.vErrors}.concat(${Oe})`),Q.assign(Y.default.errors,N._`${Y.default.vErrors}.length`)}function ge(Me){var Oe;if(!de.opts.unevaluated)return;const je=null===(Oe=ee?.validate)||void 0===Oe?void 0:Oe.evaluated;if(!0!==de.props)if(je&&!je.dynamicProps)void 0!==je.props&&(de.props=j.mergeEvaluated.props(Q,je.props,de.props));else{const B=Q.var("props",N._`${Me}.evaluated.props`);de.props=j.mergeEvaluated.props(Q,B,de.props,N.Name)}if(!0!==de.items)if(je&&!je.dynamicItems)void 0!==je.items&&(de.items=j.mergeEvaluated.items(Q,je.items,de.items));else{const B=Q.var("items",N._`${Me}.evaluated.items`);de.items=j.mergeEvaluated.items(Q,B,de.items,N.Name)}}W?function pe(){if(!re.$async)throw new Error("async schema referenced by sync schema");const Me=Q.let("valid");Q.try(()=>{Q.code(N._`await ${(0,x.callValidateCode)(V,P,ue)}`),ge(P),ae||Q.assign(Me,!0)},Oe=>{Q.if(N._`!(${Oe} instanceof ${de.ValidationError})`,()=>Q.throw(Oe)),ve(Oe),ae||Q.assign(Me,!1)}),V.ok(Me)}():function he(){V.result((0,x.callValidateCode)(V,P,ue),()=>ge(P),()=>ve(P))}()}J.getValidate=U,J.callRef=H,J.default=R},86980:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(1038),x=A(22145),N=A(97692),Y=A(27006);J.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:R,tagName:U}})=>R===x.DiscrError.Tag?`tag "${U}" must be string`:`value of tag "${U}" must be in oneOf`,params:({params:{discrError:R,tag:U,tagName:H}})=>h._`{error: ${R}, tag: ${H}, tagValue: ${U}}`},code(R){const{gen:U,data:H,schema:V,parentSchema:P,it:ee}=R,{oneOf:W}=P;if(!ee.opts.discriminator)throw new Error("discriminator: requires discriminator option");const Q=V.propertyName;if("string"!=typeof Q)throw new Error("discriminator: requires propertyName");if(V.mapping)throw new Error("discriminator: mapping is not supported");if(!W)throw new Error("discriminator: requires oneOf keyword");const de=U.let("valid",!1),ae=U.const("tag",h._`${H}${(0,h.getProperty)(Q)}`);function te(pe){const he=U.name("valid"),ve=R.subschema({keyword:"oneOf",schemaProp:pe},he);return R.mergeEvaluated(ve,h.Name),he}U.if(h._`typeof ${ae} == "string"`,()=>function re(){const pe=function ue(){var pe;const he={},ve=Me(P);let ge=!0;for(let B=0;B<W.length;B++){let l=W[B];l?.$ref&&!(0,Y.schemaHasRulesButRef)(l,ee.self.RULES)&&(l=N.resolveRef.call(ee.self,ee.schemaEnv.root,ee.baseId,l?.$ref),l instanceof N.SchemaEnv&&(l=l.schema));const f=null===(pe=l?.properties)||void 0===pe?void 0:pe[Q];if("object"!=typeof f)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${Q}"`);ge=ge&&(ve||Me(l)),Oe(f,B)}if(!ge)throw new Error(`discriminator: "${Q}" must be required`);return he;function Me({required:B}){return Array.isArray(B)&&B.includes(Q)}function Oe(B,l){if(B.const)je(B.const,l);else{if(!B.enum)throw new Error(`discriminator: "properties/${Q}" must have "const" or "enum"`);for(const f of B.enum)je(f,l)}}function je(B,l){if("string"!=typeof B||B in he)throw new Error(`discriminator: "${Q}" values must be unique strings`);he[B]=l}}();U.if(!1);for(const he in pe)U.elseIf(h._`${ae} === ${he}`),U.assign(de,te(pe[he]));U.else(),R.error(!1,{discrError:x.DiscrError.Mapping,tag:ae,tagName:Q}),U.endIf()}(),()=>R.error(!1,{discrError:x.DiscrError.Tag,tag:ae,tagName:Q})),R.ok(de)}}},22145:(Ye,J)=>{"use strict";var h;Object.defineProperty(J,"__esModule",{value:!0}),J.DiscrError=void 0,(h=J.DiscrError||(J.DiscrError={})).Tag="tag",h.Mapping="mapping"},98496:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(11867),x=A(64023),N=A(68261),Y=A(79745),M=A(54458),j=A(77616),R=A(23463),U=A(3462),H=[Y.default,h.default,x.default,(0,N.default)(!0),R.default,U.metadataVocabulary,U.contentVocabulary,M.default,j.default];J.default=H},61281:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.dynamicAnchor=void 0;const h=A(1038),x=A(23432),N=A(97692),Y=A(84862),M={keyword:"$dynamicAnchor",schemaType:"string",code:U=>j(U,U.schema)};function j(U,H){const{gen:V,it:P}=U;P.schemaEnv.root.dynamicAnchors[H]=!0;const ee=h._`${x.default.dynamicAnchors}${(0,h.getProperty)(H)}`,W="#"===P.errSchemaPath?P.validateName:function R(U){const{schemaEnv:H,schema:V,self:P}=U.it,{root:ee,baseId:W,localRefs:Q,meta:de}=H.root,{schemaId:ae}=P.opts,re=new N.SchemaEnv({schema:V,schemaId:ae,root:ee,baseId:W,localRefs:Q,meta:de});return N.compileSchema.call(P,re),(0,Y.getValidate)(U,re)}(U);V.if(h._`!${ee}`,()=>V.assign(ee,W))}J.dynamicAnchor=j,J.default=M},35207:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.dynamicRef=void 0;const h=A(1038),x=A(23432),N=A(84862),Y={keyword:"$dynamicRef",schemaType:"string",code:j=>M(j,j.schema)};function M(j,R){const{gen:U,keyword:H,it:V}=j;if("#"!==R[0])throw new Error(`"${H}" only supports hash fragment reference`);const P=R.slice(1);if(V.allErrors)ee();else{const Q=U.let("valid",!1);ee(Q),j.ok(Q)}function ee(Q){if(V.schemaEnv.root.dynamicAnchors[P]){const de=U.let("_v",h._`${x.default.dynamicAnchors}${(0,h.getProperty)(P)}`);U.if(de,W(de,Q),W(V.validateName,Q))}else W(V.validateName,Q)()}function W(Q,de){return de?()=>U.block(()=>{(0,N.callRef)(j,Q),U.let(de,!0)}):()=>(0,N.callRef)(j,Q)}}J.dynamicRef=M,J.default=Y},79745:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(61281),x=A(35207),N=A(34028),Y=A(65684);J.default=[h.default,x.default,N.default,Y.default]},34028:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(61281),x=A(27006);J.default={keyword:"$recursiveAnchor",schemaType:"boolean",code(Y){Y.schema?(0,h.dynamicAnchor)(Y,""):(0,x.checkStrictMode)(Y.it,"$recursiveAnchor: false is ignored")}}},65684:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(35207);J.default={keyword:"$recursiveRef",schemaType:"string",code:N=>(0,h.dynamicRef)(N,N.schema)}},98140:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(1038);J.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:Y})=>h.str`must match format "${Y}"`,params:({schemaCode:Y})=>h._`{format: ${Y}}`},code(Y,M){const{gen:j,data:R,$data:U,schema:H,schemaCode:V,it:P}=Y,{opts:ee,errSchemaPath:W,schemaEnv:Q,self:de}=P;ee.validateFormats&&(U?function ae(){const te=j.scopeValue("formats",{ref:de.formats,code:ee.code.formats}),ue=j.const("fDef",h._`${te}[${V}]`),pe=j.let("fType"),he=j.let("format");j.if(h._`typeof ${ue} == "object" && !(${ue} instanceof RegExp)`,()=>j.assign(pe,h._`${ue}.type || "string"`).assign(he,h._`${ue}.validate`),()=>j.assign(pe,h._`"string"`).assign(he,ue)),Y.fail$data((0,h.or)(function ve(){return!1===ee.strictSchema?h.nil:h._`${V} && !${he}`}(),function ge(){const Me=Q.$async?h._`(${ue}.async ? await ${he}(${R}) : ${he}(${R}))`:h._`${he}(${R})`,Oe=h._`(typeof ${he} == "function" ? ${Me} : ${he}.test(${R}))`;return h._`${he} && ${he} !== true && ${pe} === ${M} && !${Oe}`}()))}():function re(){const te=de.formats[H];if(!te)return void function ve(){if(!1!==ee.strictSchema)throw new Error(Oe());function Oe(){return`unknown format "${H}" ignored in schema at path "${W}"`}de.logger.warn(Oe())}();if(!0===te)return;const[ue,pe,he]=function ge(Oe){const je=Oe instanceof RegExp?(0,h.regexpCode)(Oe):ee.code.formats?h._`${ee.code.formats}${(0,h.getProperty)(H)}`:void 0,B=j.scopeValue("formats",{key:H,ref:Oe,code:je});return"object"!=typeof Oe||Oe instanceof RegExp?["string",Oe,B]:[Oe.type||"string",Oe.validate,h._`${B}.validate`]}(te);ue===M&&Y.pass(function Me(){if("object"==typeof te&&!(te instanceof RegExp)&&te.async){if(!Q.$async)throw new Error("async format in sync schema");return h._`await ${he}(${R})`}return"function"==typeof pe?h._`${he}(${R})`:h._`${he}.test(${R})`}())}())}}},23463:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const x=[A(98140).default];J.default=x},3462:(Ye,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.contentVocabulary=J.metadataVocabulary=void 0,J.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],J.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},54458:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(53037),x=A(85164),N=A(22705);J.default=[h.default,x.default,N.default]},77616:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(40425),x=A(89826);J.default=[h.default,x.default]},89826:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(1038),x=A(27006);J.default={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:M}})=>h.str`must NOT have more than ${M} items`,params:({params:{len:M}})=>h._`{limit: ${M}}`},code(M){const{gen:j,schema:R,data:U,it:H}=M,V=H.items||0;if(!0===V)return;const P=j.const("len",h._`${U}.length`);if(!1===R)M.setParams({len:V}),M.fail(h._`${P} > ${V}`);else if("object"==typeof R&&!(0,x.alwaysValidSchema)(H,R)){const W=j.var("valid",h._`${P} <= ${V}`);j.if((0,h.not)(W),()=>function ee(W,Q){j.forRange("i",Q,P,de=>{M.subschema({keyword:"unevaluatedItems",dataProp:de,dataPropType:x.Type.Num},W),H.allErrors||j.if((0,h.not)(W),()=>j.break())})}(W,V)),M.ok(W)}H.items=!0}}},40425:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(1038),x=A(27006),N=A(23432);J.default={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:j})=>h._`{unevaluatedProperty: ${j.unevaluatedProperty}}`},code(j){const{gen:R,schema:U,data:H,errsCount:V,it:P}=j;if(!V)throw new Error("ajv implementation error");const{allErrors:ee,props:W}=P;function Q(re){if(!1===U)return j.setParams({unevaluatedProperty:re}),j.error(),void(ee||R.break());if(!(0,x.alwaysValidSchema)(P,U)){const te=R.name("valid");j.subschema({keyword:"unevaluatedProperties",dataProp:re,dataPropType:x.Type.Str},te),ee||R.if((0,h.not)(te),()=>R.break())}}W instanceof h.Name?R.if(h._`${W} !== true`,()=>R.forIn("key",H,re=>R.if(function de(re,te){return h._`!${re} || !${re}[${te}]`}(W,re),()=>Q(re)))):!0!==W&&R.forIn("key",H,re=>void 0===W?Q(re):R.if(function ae(re,te){const ue=[];for(const pe in re)!0===re[pe]&&ue.push(h._`${te} !== ${pe}`);return(0,h.and)(...ue)}(W,re),()=>Q(re))),P.props=!0,j.ok(h._`${V} === ${N.default.errors}`)}}},90796:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(1038),x=A(27006),N=A(92281);J.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:j})=>h._`{allowedValue: ${j}}`},code(j){const{gen:R,data:U,$data:H,schemaCode:V,schema:P}=j;H||P&&"object"==typeof P?j.fail$data(h._`!${(0,x.useFunc)(R,N.default)}(${U}, ${V})`):j.fail(h._`${P} !== ${U}`)}}},53037:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(68032);J.default={keyword:"dependentRequired",type:"object",schemaType:"object",error:h.error,code:N=>(0,h.validatePropertyDeps)(N)}},65266:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(1038),x=A(27006),N=A(92281);J.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:j})=>h._`{allowedValues: ${j}}`},code(j){const{gen:R,data:U,$data:H,schema:V,schemaCode:P,it:ee}=j;if(!H&&0===V.length)throw new Error("enum must have non-empty array");let Q;const de=()=>Q??(Q=(0,x.useFunc)(R,N.default));let ae;if(V.length>=ee.opts.loopEnum||H)ae=R.let("valid"),j.block$data(ae,function re(){R.assign(ae,!1),R.forOf("v",P,ue=>R.if(h._`${de()}(${U}, ${ue})`,()=>R.assign(ae,!0).break()))});else{if(!Array.isArray(V))throw new Error("ajv implementation error");const ue=R.const("vSchema",P);ae=(0,h.or)(...V.map((pe,he)=>function te(ue,pe){const he=V[pe];return"object"==typeof he&&null!==he?h._`${de()}(${U}, ${ue}[${pe}])`:h._`${U} === ${he}`}(ue,he)))}j.pass(ae)}}},64023:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(78665),x=A(30554),N=A(13972),Y=A(68753),M=A(99169),j=A(56454),R=A(85962),U=A(16598),H=A(90796),V=A(65266);J.default=[h.default,x.default,N.default,Y.default,M.default,j.default,R.default,U.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},H.default,V.default]},22705:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(27006);J.default={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:N,parentSchema:Y,it:M}){void 0===Y.contains&&(0,h.checkStrictMode)(M,`"${N}" without "contains" is ignored`)}}},85962:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(1038);J.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:Y,schemaCode:M})=>h.str`must NOT have ${"maxItems"===Y?"more":"fewer"} than ${M} items`,params:({schemaCode:Y})=>h._`{limit: ${Y}}`},code(Y){const{keyword:M,data:j,schemaCode:R}=Y;Y.fail$data(h._`${j}.length ${"maxItems"===M?h.operators.GT:h.operators.LT} ${R}`)}}},13972:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(1038),x=A(27006),N=A(26488);J.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:j,schemaCode:R})=>h.str`must NOT have ${"maxLength"===j?"more":"fewer"} than ${R} characters`,params:({schemaCode:j})=>h._`{limit: ${j}}`},code(j){const{keyword:R,data:U,schemaCode:H,it:V}=j,P="maxLength"===R?h.operators.GT:h.operators.LT,ee=!1===V.opts.unicode?h._`${U}.length`:h._`${(0,x.useFunc)(j.gen,N.default)}(${U})`;j.fail$data(h._`${ee} ${P} ${H}`)}}},78665:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(1038),x=h.operators,N={maximum:{okStr:"<=",ok:x.LTE,fail:x.GT},minimum:{okStr:">=",ok:x.GTE,fail:x.LT},exclusiveMaximum:{okStr:"<",ok:x.LT,fail:x.GTE},exclusiveMinimum:{okStr:">",ok:x.GT,fail:x.LTE}},Y={message:({keyword:j,schemaCode:R})=>h.str`must be ${N[j].okStr} ${R}`,params:({keyword:j,schemaCode:R})=>h._`{comparison: ${N[j].okStr}, limit: ${R}}`},M={keyword:Object.keys(N),type:"number",schemaType:"number",$data:!0,error:Y,code(j){const{keyword:R,data:U,schemaCode:H}=j;j.fail$data(h._`${U} ${N[R].fail} ${H} || isNaN(${U})`)}};J.default=M},99169:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(1038);J.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:Y,schemaCode:M})=>h.str`must NOT have ${"maxProperties"===Y?"more":"fewer"} than ${M} properties`,params:({schemaCode:Y})=>h._`{limit: ${Y}}`},code(Y){const{keyword:M,data:j,schemaCode:R}=Y;Y.fail$data(h._`Object.keys(${j}).length ${"maxProperties"===M?h.operators.GT:h.operators.LT} ${R}`)}}},30554:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(1038);J.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:Y})=>h.str`must be multiple of ${Y}`,params:({schemaCode:Y})=>h._`{multipleOf: ${Y}}`},code(Y){const{gen:M,data:j,schemaCode:R,it:U}=Y,H=U.opts.multipleOfPrecision,V=M.let("res"),P=H?h._`Math.abs(Math.round(${V}) - ${V}) > 1e-${H}`:h._`${V} !== parseInt(${V})`;Y.fail$data(h._`(${R} === 0 || (${V} = ${j}/${R}, ${P}))`)}}},68753:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(42406),x=A(1038);J.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:M})=>x.str`must match pattern "${M}"`,params:({schemaCode:M})=>x._`{pattern: ${M}}`},code(M){const{data:j,$data:R,schema:U,schemaCode:H,it:V}=M,ee=R?x._`(new RegExp(${H}, ${V.opts.unicodeRegExp?"u":""}))`:(0,h.usePattern)(M,U);M.fail$data(x._`!${ee}.test(${j})`)}}},56454:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(42406),x=A(1038),N=A(27006);J.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:j}})=>x.str`must have required property '${j}'`,params:({params:{missingProperty:j}})=>x._`{missingProperty: ${j}}`},code(j){const{gen:R,schema:U,schemaCode:H,data:V,$data:P,it:ee}=j,{opts:W}=ee;if(!P&&0===U.length)return;const Q=U.length>=W.loopRequired;if(ee.allErrors?function de(){if(Q||P)j.block$data(x.nil,re);else for(const ue of U)(0,h.checkReportMissingProp)(j,ue)}():function ae(){const ue=R.let("missing");if(Q||P){const pe=R.let("valid",!0);j.block$data(pe,()=>function te(ue,pe){j.setParams({missingProperty:ue}),R.forOf(ue,H,()=>{R.assign(pe,(0,h.propertyInData)(R,V,ue,W.ownProperties)),R.if((0,x.not)(pe),()=>{j.error(),R.break()})},x.nil)}(ue,pe)),j.ok(pe)}else R.if((0,h.checkMissingProp)(j,U,ue)),(0,h.reportMissingProp)(j,ue),R.else()}(),W.strictRequired){const ue=j.parentSchema.properties,{definedProperties:pe}=j.it;for(const he of U)void 0!==ue?.[he]||pe.has(he)||(0,N.checkStrictMode)(ee,`required property "${he}" is not defined at "${ee.schemaEnv.baseId+ee.errSchemaPath}" (strictRequired)`,ee.opts.strictRequired)}function re(){R.forOf("prop",H,ue=>{j.setParams({missingProperty:ue}),R.if((0,h.noPropertyInData)(R,V,ue,W.ownProperties),()=>j.error())})}}}},16598:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const h=A(55999),x=A(1038),N=A(27006),Y=A(92281);J.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:R,j:U}})=>x.str`must NOT have duplicate items (items ## ${U} and ${R} are identical)`,params:({params:{i:R,j:U}})=>x._`{i: ${R}, j: ${U}}`},code(R){const{gen:U,data:H,$data:V,schema:P,parentSchema:ee,schemaCode:W,it:Q}=R;if(!V&&!P)return;const de=U.let("valid"),ae=ee.items?(0,h.getSchemaTypes)(ee.items):[];function ue(he,ve){const ge=U.name("item"),Me=(0,h.checkDataTypes)(ae,ge,Q.opts.strictNumbers,h.DataType.Wrong),Oe=U.const("indices",x._`{}`);U.for(x._`;${he}--;`,()=>{U.let(ge,x._`${H}[${he}]`),U.if(Me,x._`continue`),ae.length>1&&U.if(x._`typeof ${ge} == "string"`,x._`${ge} += "_"`),U.if(x._`typeof ${Oe}[${ge}] == "number"`,()=>{U.assign(ve,x._`${Oe}[${ge}]`),R.error(),U.assign(de,!1).break()}).code(x._`${Oe}[${ge}] = ${he}`)})}function pe(he,ve){const ge=(0,N.useFunc)(U,Y.default),Me=U.name("outer");U.label(Me).for(x._`;${he}--;`,()=>U.for(x._`${ve} = ${he}; ${ve}--;`,()=>U.if(x._`${ge}(${H}[${he}], ${H}[${ve}])`,()=>{R.error(),U.assign(de,!1).break(Me)})))}R.block$data(de,function re(){const he=U.let("i",x._`${H}.length`),ve=U.let("j");R.setParams({i:he,j:ve}),U.assign(de,!0),U.if(x._`${he} > 1`,()=>(function te(){return ae.length>0&&!ae.some(he=>"object"===he||"array"===he)}()?ue:pe)(he,ve))},x._`${W} === false`),R.ok(de)}}},68316:(Ye,J,A)=>{"use strict";const h=A(13981),x=A(22020),N="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;J.Buffer=R,J.SlowBuffer=function te(K){return+K!=K&&(K=0),R.alloc(+K)},J.INSPECT_MAX_BYTES=50;const Y=2147483647;function j(K){if(K>Y)throw new RangeError('The value "'+K+'" is invalid for option "size"');const C=new Uint8Array(K);return Object.setPrototypeOf(C,R.prototype),C}function R(K,C,b){if("number"==typeof K){if("string"==typeof C)throw new TypeError('The "string" argument must be of type string. Received type number');return P(K)}return U(K,C,b)}function U(K,C,b){if("string"==typeof K)return function ee(K,C){if(("string"!=typeof C||""===C)&&(C="utf8"),!R.isEncoding(C))throw new TypeError("Unknown encoding: "+C);const b=0|ue(K,C);let z=j(b);const le=z.write(K,C);return le!==b&&(z=z.slice(0,le)),z}(K,C);if(ArrayBuffer.isView(K))return function Q(K){if(Ze(K,Uint8Array)){const C=new Uint8Array(K);return de(C.buffer,C.byteOffset,C.byteLength)}return W(K)}(K);if(null==K)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(Ze(K,ArrayBuffer)||K&&Ze(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ze(K,SharedArrayBuffer)||K&&Ze(K.buffer,SharedArrayBuffer)))return de(K,C,b);if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');const z=K.valueOf&&K.valueOf();if(null!=z&&z!==K)return R.from(z,C,b);const le=function ae(K){if(R.isBuffer(K)){const C=0|re(K.length),b=j(C);return 0===b.length||K.copy(b,0,0,C),b}return void 0!==K.length?"number"!=typeof K.length||Pt(K.length)?j(0):W(K):"Buffer"===K.type&&Array.isArray(K.data)?W(K.data):void 0}(K);if(le)return le;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return R.from(K[Symbol.toPrimitive]("string"),C,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function H(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function P(K){return H(K),j(K<0?0:0|re(K))}function W(K){const C=K.length<0?0:0|re(K.length),b=j(C);for(let z=0;z<C;z+=1)b[z]=255&K[z];return b}function de(K,C,b){if(C<0||K.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<C+(b||0))throw new RangeError('"length" is outside of buffer bounds');let z;return z=void 0===C&&void 0===b?new Uint8Array(K):void 0===b?new Uint8Array(K,C):new Uint8Array(K,C,b),Object.setPrototypeOf(z,R.prototype),z}function re(K){if(K>=Y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Y.toString(16)+" bytes");return 0|K}function ue(K,C){if(R.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||Ze(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const b=K.length,z=arguments.length>2&&!0===arguments[2];if(!z&&0===b)return 0;let le=!1;for(;;)switch(C){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return fe(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*b;case"hex":return b>>>1;case"base64":return $e(K).length;default:if(le)return z?-1:fe(K).length;C=(""+C).toLowerCase(),le=!0}}function pe(K,C,b){let z=!1;if((void 0===C||C<0)&&(C=0),C>this.length||((void 0===b||b>this.length)&&(b=this.length),b<=0)||(b>>>=0)<=(C>>>=0))return"";for(K||(K="utf8");;)switch(K){case"hex":return T(this,C,b);case"utf8":case"utf-8":return w(this,C,b);case"ascii":return O(this,C,b);case"latin1":case"binary":return $(this,C,b);case"base64":return f(this,C,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c(this,C,b);default:if(z)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),z=!0}}function he(K,C,b){const z=K[C];K[C]=K[b],K[b]=z}function ve(K,C,b,z,le){if(0===K.length)return-1;if("string"==typeof b?(z=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),Pt(b=+b)&&(b=le?0:K.length-1),b<0&&(b=K.length+b),b>=K.length){if(le)return-1;b=K.length-1}else if(b<0){if(!le)return-1;b=0}if("string"==typeof C&&(C=R.from(C,z)),R.isBuffer(C))return 0===C.length?-1:ge(K,C,b,z,le);if("number"==typeof C)return C&=255,"function"==typeof Uint8Array.prototype.indexOf?le?Uint8Array.prototype.indexOf.call(K,C,b):Uint8Array.prototype.lastIndexOf.call(K,C,b):ge(K,[C],b,z,le);throw new TypeError("val must be string, number or Buffer")}function ge(K,C,b,z,le){let Rt,Ae=1,Be=K.length,ft=C.length;if(void 0!==z&&("ucs2"===(z=String(z).toLowerCase())||"ucs-2"===z||"utf16le"===z||"utf-16le"===z)){if(K.length<2||C.length<2)return-1;Ae=2,Be/=2,ft/=2,b/=2}function Yt(Vt,dn){return 1===Ae?Vt[dn]:Vt.readUInt16BE(dn*Ae)}if(le){let Vt=-1;for(Rt=b;Rt<Be;Rt++)if(Yt(K,Rt)===Yt(C,-1===Vt?0:Rt-Vt)){if(-1===Vt&&(Vt=Rt),Rt-Vt+1===ft)return Vt*Ae}else-1!==Vt&&(Rt-=Rt-Vt),Vt=-1}else for(b+ft>Be&&(b=Be-ft),Rt=b;Rt>=0;Rt--){let Vt=!0;for(let dn=0;dn<ft;dn++)if(Yt(K,Rt+dn)!==Yt(C,dn)){Vt=!1;break}if(Vt)return Rt}return-1}function Me(K,C,b,z){b=Number(b)||0;const le=K.length-b;z?(z=Number(z))>le&&(z=le):z=le;const Ae=C.length;let Be;for(z>Ae/2&&(z=Ae/2),Be=0;Be<z;++Be){const ft=parseInt(C.substr(2*Be,2),16);if(Pt(ft))return Be;K[b+Be]=ft}return Be}function Oe(K,C,b,z){return Je(fe(C,K.length-b),K,b,z)}function je(K,C,b,z){return Je(function we(K){const C=[];for(let b=0;b<K.length;++b)C.push(255&K.charCodeAt(b));return C}(C),K,b,z)}function B(K,C,b,z){return Je($e(C),K,b,z)}function l(K,C,b,z){return Je(function De(K,C){let b,z,le;const Ae=[];for(let Be=0;Be<K.length&&!((C-=2)<0);++Be)b=K.charCodeAt(Be),z=b>>8,le=b%256,Ae.push(le),Ae.push(z);return Ae}(C,K.length-b),K,b,z)}function f(K,C,b){return h.fromByteArray(0===C&&b===K.length?K:K.slice(C,b))}function w(K,C,b){b=Math.min(K.length,b);const z=[];let le=C;for(;le<b;){const Ae=K[le];let Be=null,ft=Ae>239?4:Ae>223?3:Ae>191?2:1;if(le+ft<=b){let Yt,Rt,Vt,dn;switch(ft){case 1:Ae<128&&(Be=Ae);break;case 2:Yt=K[le+1],128==(192&Yt)&&(dn=(31&Ae)<<6|63&Yt,dn>127&&(Be=dn));break;case 3:Yt=K[le+1],Rt=K[le+2],128==(192&Yt)&&128==(192&Rt)&&(dn=(15&Ae)<<12|(63&Yt)<<6|63&Rt,dn>2047&&(dn<55296||dn>57343)&&(Be=dn));break;case 4:Yt=K[le+1],Rt=K[le+2],Vt=K[le+3],128==(192&Yt)&&128==(192&Rt)&&128==(192&Vt)&&(dn=(15&Ae)<<18|(63&Yt)<<12|(63&Rt)<<6|63&Vt,dn>65535&&dn<1114112&&(Be=dn))}}null===Be?(Be=65533,ft=1):Be>65535&&(Be-=65536,z.push(Be>>>10&1023|55296),Be=56320|1023&Be),z.push(Be),le+=ft}return function D(K){const C=K.length;if(C<=_)return String.fromCharCode.apply(String,K);let b="",z=0;for(;z<C;)b+=String.fromCharCode.apply(String,K.slice(z,z+=_));return b}(z)}J.kMaxLength=Y,!(R.TYPED_ARRAY_SUPPORT=function M(){try{const K=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(K,C),42===K.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(R.prototype,"parent",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.buffer}}),Object.defineProperty(R.prototype,"offset",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.byteOffset}}),R.poolSize=8192,R.from=function(K,C,b){return U(K,C,b)},Object.setPrototypeOf(R.prototype,Uint8Array.prototype),Object.setPrototypeOf(R,Uint8Array),R.alloc=function(K,C,b){return function V(K,C,b){return H(K),K<=0?j(K):void 0!==C?"string"==typeof b?j(K).fill(C,b):j(K).fill(C):j(K)}(K,C,b)},R.allocUnsafe=function(K){return P(K)},R.allocUnsafeSlow=function(K){return P(K)},R.isBuffer=function(C){return null!=C&&!0===C._isBuffer&&C!==R.prototype},R.compare=function(C,b){if(Ze(C,Uint8Array)&&(C=R.from(C,C.offset,C.byteLength)),Ze(b,Uint8Array)&&(b=R.from(b,b.offset,b.byteLength)),!R.isBuffer(C)||!R.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===b)return 0;let z=C.length,le=b.length;for(let Ae=0,Be=Math.min(z,le);Ae<Be;++Ae)if(C[Ae]!==b[Ae]){z=C[Ae],le=b[Ae];break}return z<le?-1:le<z?1:0},R.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},R.concat=function(C,b){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(0===C.length)return R.alloc(0);let z;if(void 0===b)for(b=0,z=0;z<C.length;++z)b+=C[z].length;const le=R.allocUnsafe(b);let Ae=0;for(z=0;z<C.length;++z){let Be=C[z];if(Ze(Be,Uint8Array))Ae+Be.length>le.length?(R.isBuffer(Be)||(Be=R.from(Be)),Be.copy(le,Ae)):Uint8Array.prototype.set.call(le,Be,Ae);else{if(!R.isBuffer(Be))throw new TypeError('"list" argument must be an Array of Buffers');Be.copy(le,Ae)}Ae+=Be.length}return le},R.byteLength=ue,R.prototype._isBuffer=!0,R.prototype.swap16=function(){const C=this.length;if(C%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<C;b+=2)he(this,b,b+1);return this},R.prototype.swap32=function(){const C=this.length;if(C%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<C;b+=4)he(this,b,b+3),he(this,b+1,b+2);return this},R.prototype.swap64=function(){const C=this.length;if(C%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<C;b+=8)he(this,b,b+7),he(this,b+1,b+6),he(this,b+2,b+5),he(this,b+3,b+4);return this},R.prototype.toLocaleString=R.prototype.toString=function(){const C=this.length;return 0===C?"":0===arguments.length?w(this,0,C):pe.apply(this,arguments)},R.prototype.equals=function(C){if(!R.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C||0===R.compare(this,C)},R.prototype.inspect=function(){let C="";const b=J.INSPECT_MAX_BYTES;return C=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(C+=" ... "),"<Buffer "+C+">"},N&&(R.prototype[N]=R.prototype.inspect),R.prototype.compare=function(C,b,z,le,Ae){if(Ze(C,Uint8Array)&&(C=R.from(C,C.offset,C.byteLength)),!R.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(void 0===b&&(b=0),void 0===z&&(z=C?C.length:0),void 0===le&&(le=0),void 0===Ae&&(Ae=this.length),b<0||z>C.length||le<0||Ae>this.length)throw new RangeError("out of range index");if(le>=Ae&&b>=z)return 0;if(le>=Ae)return-1;if(b>=z)return 1;if(this===C)return 0;let Be=(Ae>>>=0)-(le>>>=0),ft=(z>>>=0)-(b>>>=0);const Yt=Math.min(Be,ft),Rt=this.slice(le,Ae),Vt=C.slice(b,z);for(let dn=0;dn<Yt;++dn)if(Rt[dn]!==Vt[dn]){Be=Rt[dn],ft=Vt[dn];break}return Be<ft?-1:ft<Be?1:0},R.prototype.includes=function(C,b,z){return-1!==this.indexOf(C,b,z)},R.prototype.indexOf=function(C,b,z){return ve(this,C,b,z,!0)},R.prototype.lastIndexOf=function(C,b,z){return ve(this,C,b,z,!1)},R.prototype.write=function(C,b,z,le){if(void 0===b)le="utf8",z=this.length,b=0;else if(void 0===z&&"string"==typeof b)le=b,z=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b>>>=0,isFinite(z)?(z>>>=0,void 0===le&&(le="utf8")):(le=z,z=void 0)}const Ae=this.length-b;if((void 0===z||z>Ae)&&(z=Ae),C.length>0&&(z<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let Be=!1;for(;;)switch(le){case"hex":return Me(this,C,b,z);case"utf8":case"utf-8":return Oe(this,C,b,z);case"ascii":case"latin1":case"binary":return je(this,C,b,z);case"base64":return B(this,C,b,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,C,b,z);default:if(Be)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Be=!0}},R.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const _=4096;function O(K,C,b){let z="";b=Math.min(K.length,b);for(let le=C;le<b;++le)z+=String.fromCharCode(127&K[le]);return z}function $(K,C,b){let z="";b=Math.min(K.length,b);for(let le=C;le<b;++le)z+=String.fromCharCode(K[le]);return z}function T(K,C,b){const z=K.length;(!C||C<0)&&(C=0),(!b||b<0||b>z)&&(b=z);let le="";for(let Ae=C;Ae<b;++Ae)le+=nt[K[Ae]];return le}function c(K,C,b){const z=K.slice(C,b);let le="";for(let Ae=0;Ae<z.length-1;Ae+=2)le+=String.fromCharCode(z[Ae]+256*z[Ae+1]);return le}function E(K,C,b){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+C>b)throw new RangeError("Trying to access beyond buffer length")}function q(K,C,b,z,le,Ae){if(!R.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>le||C<Ae)throw new RangeError('"value" argument is out of bounds');if(b+z>K.length)throw new RangeError("Index out of range")}function X(K,C,b,z,le){Se(C,z,le,K,b,7);let Ae=Number(C&BigInt(4294967295));K[b++]=Ae,Ae>>=8,K[b++]=Ae,Ae>>=8,K[b++]=Ae,Ae>>=8,K[b++]=Ae;let Be=Number(C>>BigInt(32)&BigInt(4294967295));return K[b++]=Be,Be>>=8,K[b++]=Be,Be>>=8,K[b++]=Be,Be>>=8,K[b++]=Be,b}function ce(K,C,b,z,le){Se(C,z,le,K,b,7);let Ae=Number(C&BigInt(4294967295));K[b+7]=Ae,Ae>>=8,K[b+6]=Ae,Ae>>=8,K[b+5]=Ae,Ae>>=8,K[b+4]=Ae;let Be=Number(C>>BigInt(32)&BigInt(4294967295));return K[b+3]=Be,Be>>=8,K[b+2]=Be,Be>>=8,K[b+1]=Be,Be>>=8,K[b]=Be,b+8}function me(K,C,b,z,le,Ae){if(b+z>K.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function Te(K,C,b,z,le){return C=+C,b>>>=0,le||me(K,0,b,4),x.write(K,C,b,z,23,4),b+4}function Ke(K,C,b,z,le){return C=+C,b>>>=0,le||me(K,0,b,8),x.write(K,C,b,z,52,8),b+8}R.prototype.slice=function(C,b){const z=this.length;(C=~~C)<0?(C+=z)<0&&(C=0):C>z&&(C=z),(b=void 0===b?z:~~b)<0?(b+=z)<0&&(b=0):b>z&&(b=z),b<C&&(b=C);const le=this.subarray(C,b);return Object.setPrototypeOf(le,R.prototype),le},R.prototype.readUintLE=R.prototype.readUIntLE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=this[C],Ae=1,Be=0;for(;++Be<b&&(Ae*=256);)le+=this[C+Be]*Ae;return le},R.prototype.readUintBE=R.prototype.readUIntBE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=this[C+--b],Ae=1;for(;b>0&&(Ae*=256);)le+=this[C+--b]*Ae;return le},R.prototype.readUint8=R.prototype.readUInt8=function(C,b){return C>>>=0,b||E(C,1,this.length),this[C]},R.prototype.readUint16LE=R.prototype.readUInt16LE=function(C,b){return C>>>=0,b||E(C,2,this.length),this[C]|this[C+1]<<8},R.prototype.readUint16BE=R.prototype.readUInt16BE=function(C,b){return C>>>=0,b||E(C,2,this.length),this[C]<<8|this[C+1]},R.prototype.readUint32LE=R.prototype.readUInt32LE=function(C,b){return C>>>=0,b||E(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+16777216*this[C+3]},R.prototype.readUint32BE=R.prototype.readUInt32BE=function(C,b){return C>>>=0,b||E(C,4,this.length),16777216*this[C]+(this[C+1]<<16|this[C+2]<<8|this[C+3])},R.prototype.readBigUInt64LE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];(void 0===b||void 0===z)&&Ee(C,this.length-8);const le=b+256*this[++C]+65536*this[++C]+this[++C]*2**24,Ae=this[++C]+256*this[++C]+65536*this[++C]+z*2**24;return BigInt(le)+(BigInt(Ae)<<BigInt(32))}),R.prototype.readBigUInt64BE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];(void 0===b||void 0===z)&&Ee(C,this.length-8);const le=b*2**24+65536*this[++C]+256*this[++C]+this[++C],Ae=this[++C]*2**24+65536*this[++C]+256*this[++C]+z;return(BigInt(le)<<BigInt(32))+BigInt(Ae)}),R.prototype.readIntLE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=this[C],Ae=1,Be=0;for(;++Be<b&&(Ae*=256);)le+=this[C+Be]*Ae;return Ae*=128,le>=Ae&&(le-=Math.pow(2,8*b)),le},R.prototype.readIntBE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=b,Ae=1,Be=this[C+--le];for(;le>0&&(Ae*=256);)Be+=this[C+--le]*Ae;return Ae*=128,Be>=Ae&&(Be-=Math.pow(2,8*b)),Be},R.prototype.readInt8=function(C,b){return C>>>=0,b||E(C,1,this.length),128&this[C]?-1*(255-this[C]+1):this[C]},R.prototype.readInt16LE=function(C,b){C>>>=0,b||E(C,2,this.length);const z=this[C]|this[C+1]<<8;return 32768&z?4294901760|z:z},R.prototype.readInt16BE=function(C,b){C>>>=0,b||E(C,2,this.length);const z=this[C+1]|this[C]<<8;return 32768&z?4294901760|z:z},R.prototype.readInt32LE=function(C,b){return C>>>=0,b||E(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},R.prototype.readInt32BE=function(C,b){return C>>>=0,b||E(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},R.prototype.readBigInt64LE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];return(void 0===b||void 0===z)&&Ee(C,this.length-8),(BigInt(this[C+4]+256*this[C+5]+65536*this[C+6]+(z<<24))<<BigInt(32))+BigInt(b+256*this[++C]+65536*this[++C]+this[++C]*2**24)}),R.prototype.readBigInt64BE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];(void 0===b||void 0===z)&&Ee(C,this.length-8);const le=(b<<24)+65536*this[++C]+256*this[++C]+this[++C];return(BigInt(le)<<BigInt(32))+BigInt(this[++C]*2**24+65536*this[++C]+256*this[++C]+z)}),R.prototype.readFloatLE=function(C,b){return C>>>=0,b||E(C,4,this.length),x.read(this,C,!0,23,4)},R.prototype.readFloatBE=function(C,b){return C>>>=0,b||E(C,4,this.length),x.read(this,C,!1,23,4)},R.prototype.readDoubleLE=function(C,b){return C>>>=0,b||E(C,8,this.length),x.read(this,C,!0,52,8)},R.prototype.readDoubleBE=function(C,b){return C>>>=0,b||E(C,8,this.length),x.read(this,C,!1,52,8)},R.prototype.writeUintLE=R.prototype.writeUIntLE=function(C,b,z,le){C=+C,b>>>=0,z>>>=0,le||q(this,C,b,z,Math.pow(2,8*z)-1,0);let Ae=1,Be=0;for(this[b]=255&C;++Be<z&&(Ae*=256);)this[b+Be]=C/Ae&255;return b+z},R.prototype.writeUintBE=R.prototype.writeUIntBE=function(C,b,z,le){C=+C,b>>>=0,z>>>=0,le||q(this,C,b,z,Math.pow(2,8*z)-1,0);let Ae=z-1,Be=1;for(this[b+Ae]=255&C;--Ae>=0&&(Be*=256);)this[b+Ae]=C/Be&255;return b+z},R.prototype.writeUint8=R.prototype.writeUInt8=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,1,255,0),this[b]=255&C,b+1},R.prototype.writeUint16LE=R.prototype.writeUInt16LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,65535,0),this[b]=255&C,this[b+1]=C>>>8,b+2},R.prototype.writeUint16BE=R.prototype.writeUInt16BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,65535,0),this[b]=C>>>8,this[b+1]=255&C,b+2},R.prototype.writeUint32LE=R.prototype.writeUInt32LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,4294967295,0),this[b+3]=C>>>24,this[b+2]=C>>>16,this[b+1]=C>>>8,this[b]=255&C,b+4},R.prototype.writeUint32BE=R.prototype.writeUInt32BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,4294967295,0),this[b]=C>>>24,this[b+1]=C>>>16,this[b+2]=C>>>8,this[b+3]=255&C,b+4},R.prototype.writeBigUInt64LE=Ge(function(C,b=0){return X(this,C,b,BigInt(0),BigInt("0xffffffffffffffff"))}),R.prototype.writeBigUInt64BE=Ge(function(C,b=0){return ce(this,C,b,BigInt(0),BigInt("0xffffffffffffffff"))}),R.prototype.writeIntLE=function(C,b,z,le){if(C=+C,b>>>=0,!le){const Yt=Math.pow(2,8*z-1);q(this,C,b,z,Yt-1,-Yt)}let Ae=0,Be=1,ft=0;for(this[b]=255&C;++Ae<z&&(Be*=256);)C<0&&0===ft&&0!==this[b+Ae-1]&&(ft=1),this[b+Ae]=(C/Be|0)-ft&255;return b+z},R.prototype.writeIntBE=function(C,b,z,le){if(C=+C,b>>>=0,!le){const Yt=Math.pow(2,8*z-1);q(this,C,b,z,Yt-1,-Yt)}let Ae=z-1,Be=1,ft=0;for(this[b+Ae]=255&C;--Ae>=0&&(Be*=256);)C<0&&0===ft&&0!==this[b+Ae+1]&&(ft=1),this[b+Ae]=(C/Be|0)-ft&255;return b+z},R.prototype.writeInt8=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,1,127,-128),C<0&&(C=255+C+1),this[b]=255&C,b+1},R.prototype.writeInt16LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,32767,-32768),this[b]=255&C,this[b+1]=C>>>8,b+2},R.prototype.writeInt16BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,32767,-32768),this[b]=C>>>8,this[b+1]=255&C,b+2},R.prototype.writeInt32LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,2147483647,-2147483648),this[b]=255&C,this[b+1]=C>>>8,this[b+2]=C>>>16,this[b+3]=C>>>24,b+4},R.prototype.writeInt32BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[b]=C>>>24,this[b+1]=C>>>16,this[b+2]=C>>>8,this[b+3]=255&C,b+4},R.prototype.writeBigInt64LE=Ge(function(C,b=0){return X(this,C,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),R.prototype.writeBigInt64BE=Ge(function(C,b=0){return ce(this,C,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),R.prototype.writeFloatLE=function(C,b,z){return Te(this,C,b,!0,z)},R.prototype.writeFloatBE=function(C,b,z){return Te(this,C,b,!1,z)},R.prototype.writeDoubleLE=function(C,b,z){return Ke(this,C,b,!0,z)},R.prototype.writeDoubleBE=function(C,b,z){return Ke(this,C,b,!1,z)},R.prototype.copy=function(C,b,z,le){if(!R.isBuffer(C))throw new TypeError("argument should be a Buffer");if(z||(z=0),!le&&0!==le&&(le=this.length),b>=C.length&&(b=C.length),b||(b=0),le>0&&le<z&&(le=z),le===z||0===C.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),C.length-b<le-z&&(le=C.length-b+z);const Ae=le-z;return this===C&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(b,z,le):Uint8Array.prototype.set.call(C,this.subarray(z,le),b),Ae},R.prototype.fill=function(C,b,z,le){if("string"==typeof C){if("string"==typeof b?(le=b,b=0,z=this.length):"string"==typeof z&&(le=z,z=this.length),void 0!==le&&"string"!=typeof le)throw new TypeError("encoding must be a string");if("string"==typeof le&&!R.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(1===C.length){const Be=C.charCodeAt(0);("utf8"===le&&Be<128||"latin1"===le)&&(C=Be)}}else"number"==typeof C?C&=255:"boolean"==typeof C&&(C=Number(C));if(b<0||this.length<b||this.length<z)throw new RangeError("Out of range index");if(z<=b)return this;let Ae;if(b>>>=0,z=void 0===z?this.length:z>>>0,C||(C=0),"number"==typeof C)for(Ae=b;Ae<z;++Ae)this[Ae]=C;else{const Be=R.isBuffer(C)?C:R.from(C,le),ft=Be.length;if(0===ft)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(Ae=0;Ae<z-b;++Ae)this[Ae+b]=Be[Ae%ft]}return this};const Qe={};function ke(K,C,b){Qe[K]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:C.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,delete this.name}get code(){return K}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}function Ie(K){let C="",b=K.length;const z="-"===K[0]?1:0;for(;b>=z+4;b-=3)C=`_${K.slice(b-3,b)}${C}`;return`${K.slice(0,b)}${C}`}function Se(K,C,b,z,le,Ae){if(K>b||K<C){const Be="bigint"==typeof C?"n":"";let ft;throw ft=Ae>3?0===C||C===BigInt(0)?`>= 0${Be} and < 2${Be} ** ${8*(Ae+1)}${Be}`:`>= -(2${Be} ** ${8*(Ae+1)-1}${Be}) and < 2 ** ${8*(Ae+1)-1}${Be}`:`>= ${C}${Be} and <= ${b}${Be}`,new Qe.ERR_OUT_OF_RANGE("value",ft,K)}!function Xe(K,C,b){Le(C,"offset"),(void 0===K[C]||void 0===K[C+b])&&Ee(C,K.length-(b+1))}(z,le,Ae)}function Le(K,C){if("number"!=typeof K)throw new Qe.ERR_INVALID_ARG_TYPE(C,"number",K)}function Ee(K,C,b){throw Math.floor(K)!==K?(Le(K,b),new Qe.ERR_OUT_OF_RANGE(b||"offset","an integer",K)):C<0?new Qe.ERR_BUFFER_OUT_OF_BOUNDS:new Qe.ERR_OUT_OF_RANGE(b||"offset",`>= ${b?1:0} and <= ${C}`,K)}ke("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ke("ERR_INVALID_ARG_TYPE",function(K,C){return`The "${K}" argument must be of type number. Received type ${typeof C}`},TypeError),ke("ERR_OUT_OF_RANGE",function(K,C,b){let z=`The value of "${K}" is out of range.`,le=b;return Number.isInteger(b)&&Math.abs(b)>2**32?le=Ie(String(b)):"bigint"==typeof b&&(le=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(le=Ie(le)),le+="n"),z+=` It must be ${C}. Received ${le}`,z},RangeError);const be=/[^+/0-9A-Za-z-_]/g;function fe(K,C){let b;C=C||1/0;const z=K.length;let le=null;const Ae=[];for(let Be=0;Be<z;++Be){if(b=K.charCodeAt(Be),b>55295&&b<57344){if(!le){if(b>56319){(C-=3)>-1&&Ae.push(239,191,189);continue}if(Be+1===z){(C-=3)>-1&&Ae.push(239,191,189);continue}le=b;continue}if(b<56320){(C-=3)>-1&&Ae.push(239,191,189),le=b;continue}b=65536+(le-55296<<10|b-56320)}else le&&(C-=3)>-1&&Ae.push(239,191,189);if(le=null,b<128){if((C-=1)<0)break;Ae.push(b)}else if(b<2048){if((C-=2)<0)break;Ae.push(b>>6|192,63&b|128)}else if(b<65536){if((C-=3)<0)break;Ae.push(b>>12|224,b>>6&63|128,63&b|128)}else{if(!(b<1114112))throw new Error("Invalid code point");if((C-=4)<0)break;Ae.push(b>>18|240,b>>12&63|128,b>>6&63|128,63&b|128)}}return Ae}function $e(K){return h.toByteArray(function oe(K){if((K=(K=K.split("=")[0]).trim().replace(be,"")).length<2)return"";for(;K.length%4!=0;)K+="=";return K}(K))}function Je(K,C,b,z){let le;for(le=0;le<z&&!(le+b>=C.length||le>=K.length);++le)C[le+b]=K[le];return le}function Ze(K,C){return K instanceof C||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===C.name}function Pt(K){return K!=K}const nt=function(){const K="0123456789abcdef",C=new Array(256);for(let b=0;b<16;++b){const z=16*b;for(let le=0;le<16;++le)C[z+le]=K[b]+K[le]}return C}();function Ge(K){return typeof BigInt>"u"?Et:K}function Et(){throw new Error("BigInt not supported")}},14078:Ye=>{var J=1e3,A=60*J,h=60*A,x=24*h,N=7*x;function U(H,V,P,ee){var W=V>=1.5*P;return Math.round(H/P)+" "+ee+(W?"s":"")}Ye.exports=function(H,V){V=V||{};var P=typeof H;if("string"===P&&H.length>0)return function M(H){if(!((H=String(H)).length>100)){var V=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(H);if(V){var P=parseFloat(V[1]);switch((V[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*P;case"weeks":case"week":case"w":return P*N;case"days":case"day":case"d":return P*x;case"hours":case"hour":case"hrs":case"hr":case"h":return P*h;case"minutes":case"minute":case"mins":case"min":case"m":return P*A;case"seconds":case"second":case"secs":case"sec":case"s":return P*J;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return P;default:return}}}}(H);if("number"===P&&isFinite(H))return V.long?function R(H){var V=Math.abs(H);return V>=x?U(H,V,x,"day"):V>=h?U(H,V,h,"hour"):V>=A?U(H,V,A,"minute"):V>=J?U(H,V,J,"second"):H+" ms"}(H):function j(H){var V=Math.abs(H);return V>=x?Math.round(H/x)+"d":V>=h?Math.round(H/h)+"h":V>=A?Math.round(H/A)+"m":V>=J?Math.round(H/J)+"s":H+"ms"}(H);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(H))}},57062:(Ye,J,A)=>{"use strict";const{SymbolDispose:h}=A(56389),{AbortError:x,codes:N}=A(68154),{isNodeStream:Y,isWebStream:M,kControllerErrorFunction:j}=A(32924),R=A(46017),{ERR_INVALID_ARG_TYPE:U}=N;let H;Ye.exports.addAbortSignal=function(ee,W){if(((P,ee)=>{if("object"!=typeof P||!("aborted"in P))throw new U("signal","AbortSignal",P)})(ee),!Y(W)&&!M(W))throw new U("stream",["ReadableStream","WritableStream","Stream"],W);return Ye.exports.addAbortSignalNoValidate(ee,W)},Ye.exports.addAbortSignalNoValidate=function(P,ee){if("object"!=typeof P||!("aborted"in P))return ee;const W=Y(ee)?()=>{ee.destroy(new x(void 0,{cause:P.reason}))}:()=>{ee[j](new x(void 0,{cause:P.reason}))};if(P.aborted)W();else{H=H||A(13509).addAbortListener;const Q=H(P,W);R(ee,Q[h])}return ee}},16630:(Ye,J,A)=>{"use strict";const{StringPrototypeSlice:h,SymbolIterator:x,TypedArrayPrototypeSet:N,Uint8Array:Y}=A(56389),{Buffer:M}=A(68316),{inspect:j}=A(13509);Ye.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(U){const H={data:U,next:null};this.length>0?this.tail.next=H:this.head=H,this.tail=H,++this.length}unshift(U){const H={data:U,next:this.head};0===this.length&&(this.tail=H),this.head=H,++this.length}shift(){if(0===this.length)return;const U=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,U}clear(){this.head=this.tail=null,this.length=0}join(U){if(0===this.length)return"";let H=this.head,V=""+H.data;for(;null!==(H=H.next);)V+=U+H.data;return V}concat(U){if(0===this.length)return M.alloc(0);const H=M.allocUnsafe(U>>>0);let V=this.head,P=0;for(;V;)N(H,V.data,P),P+=V.data.length,V=V.next;return H}consume(U,H){const V=this.head.data;if(U<V.length){const P=V.slice(0,U);return this.head.data=V.slice(U),P}return U===V.length?this.shift():H?this._getString(U):this._getBuffer(U)}first(){return this.head.data}*[x](){for(let U=this.head;U;U=U.next)yield U.data}_getString(U){let H="",V=this.head,P=0;do{const ee=V.data;if(!(U>ee.length)){U===ee.length?(H+=ee,++P,this.head=V.next?V.next:this.tail=null):(H+=h(ee,0,U),this.head=V,V.data=h(ee,U));break}H+=ee,U-=ee.length,++P}while(null!==(V=V.next));return this.length-=P,H}_getBuffer(U){const H=M.allocUnsafe(U),V=U;let P=this.head,ee=0;do{const W=P.data;if(!(U>W.length)){U===W.length?(N(H,W,V-U),++ee,this.head=P.next?P.next:this.tail=null):(N(H,new Y(W.buffer,W.byteOffset,U),V-U),this.head=P,P.data=W.slice(U));break}N(H,W,V-U),U-=W.length,++ee}while(null!==(P=P.next));return this.length-=ee,H}[Symbol.for("nodejs.util.inspect.custom")](U,H){return j(this,{...H,depth:0,customInspect:!1})}}},373:(Ye,J,A)=>{"use strict";var h=A(29293).default;const{pipeline:x}=A(67843),N=A(13323),{destroyer:Y}=A(96507),{isNodeStream:M,isReadable:j,isWritable:R,isWebStream:U,isTransformStream:H,isWritableStream:V,isReadableStream:P}=A(32924),{AbortError:ee,codes:{ERR_INVALID_ARG_VALUE:W,ERR_MISSING_ARGS:Q}}=A(68154),de=A(46017);Ye.exports=function(...re){if(0===re.length)throw new Q("streams");if(1===re.length)return N.from(re[0]);const te=[...re];if("function"==typeof re[0]&&(re[0]=N.from(re[0])),"function"==typeof re[re.length-1]){const f=re.length-1;re[f]=N.from(re[f])}for(let f=0;f<re.length;++f)if(M(re[f])||U(re[f])){if(f<re.length-1&&!(j(re[f])||P(re[f])||H(re[f])))throw new W(`streams[${f}]`,te[f],"must be readable");if(f>0&&!(R(re[f])||V(re[f])||H(re[f])))throw new W(`streams[${f}]`,te[f],"must be writable")}let ue,pe,he,ve,ge;const Oe=re[0],je=x(re,function Me(f){const w=ve;ve=null,w?w(f):f?ge.destroy(f):!l&&!B&&ge.destroy()}),B=!!(R(Oe)||V(Oe)||H(Oe)),l=!!(j(je)||P(je)||H(je));if(ge=new N({writableObjectMode:!(null==Oe||!Oe.writableObjectMode),readableObjectMode:!(null==je||!je.readableObjectMode),writable:B,readable:l}),B){if(M(Oe))ge._write=function(w,_,D){Oe.write(w,_)?D():ue=D},ge._final=function(w){Oe.end(),pe=w},Oe.on("drain",function(){if(ue){const w=ue;ue=null,w()}});else if(U(Oe)){const _=(H(Oe)?Oe.writable:Oe).getWriter();ge._write=function(){var D=h(function*(O,$,T){try{yield _.ready,_.write(O).catch(()=>{}),T()}catch(c){T(c)}});return function(O,$,T){return D.apply(this,arguments)}}(),ge._final=function(){var D=h(function*(O){try{yield _.ready,_.close().catch(()=>{}),pe=O}catch($){O($)}});return function(O){return D.apply(this,arguments)}}()}const f=H(je)?je.readable:je;de(f,()=>{if(pe){const w=pe;pe=null,w()}})}if(l)if(M(je))je.on("readable",function(){if(he){const f=he;he=null,f()}}),je.on("end",function(){ge.push(null)}),ge._read=function(){for(;;){const f=je.read();if(null===f)return void(he=ge._read);if(!ge.push(f))return}};else if(U(je)){const w=(H(je)?je.readable:je).getReader();ge._read=h(function*(){for(;;)try{const{value:_,done:D}=yield w.read();if(!ge.push(_))return;if(D)return void ge.push(null)}catch{return}})}return ge._destroy=function(f,w){!f&&null!==ve&&(f=new ee),he=null,ue=null,pe=null,null===ve?w(f):(ve=w,M(je)&&Y(je,f))},ge}},96507:(Ye,J,A)=>{"use strict";const h=A(40573),{aggregateTwoErrors:x,codes:{ERR_MULTIPLE_CALLBACK:N},AbortError:Y}=A(68154),{Symbol:M}=A(56389),{kIsDestroyed:j,isDestroyed:R,isFinished:U,isServerRequest:H}=A(32924),V=M("kDestroy"),P=M("kConstruct");function ee(B,l,f){B&&(l&&!l.errored&&(l.errored=B),f&&!f.errored&&(f.errored=B))}function Q(B,l,f){let w=!1;function _(D){if(w)return;w=!0;const O=B._readableState,$=B._writableState;ee(D,$,O),$&&($.closed=!0),O&&(O.closed=!0),"function"==typeof f&&f(D),D?h.nextTick(de,B,D):h.nextTick(ae,B)}try{B._destroy(l||null,_)}catch(D){_(D)}}function de(B,l){re(B,l),ae(B)}function ae(B){const l=B._readableState,f=B._writableState;f&&(f.closeEmitted=!0),l&&(l.closeEmitted=!0),(null!=f&&f.emitClose||null!=l&&l.emitClose)&&B.emit("close")}function re(B,l){const f=B._readableState,w=B._writableState;null!=w&&w.errorEmitted||null!=f&&f.errorEmitted||(w&&(w.errorEmitted=!0),f&&(f.errorEmitted=!0),B.emit("error",l))}function ue(B,l,f){const w=B._readableState,_=B._writableState;if(null!=_&&_.destroyed||null!=w&&w.destroyed)return this;null!=w&&w.autoDestroy||null!=_&&_.autoDestroy?B.destroy(l):l&&(_&&!_.errored&&(_.errored=l),w&&!w.errored&&(w.errored=l),f?h.nextTick(re,B,l):re(B,l))}function he(B){let l=!1;function f(w){if(l)return void ue(B,w??new N);l=!0;const _=B._readableState,D=B._writableState,O=D||_;_&&(_.constructed=!0),D&&(D.constructed=!0),O.destroyed?B.emit(V,w):w?ue(B,w,!0):h.nextTick(ve,B)}try{B._construct(w=>{h.nextTick(f,w)})}catch(w){h.nextTick(f,w)}}function ve(B){B.emit(P)}function ge(B){return B?.setHeader&&"function"==typeof B.abort}function Me(B){B.emit("close")}function Oe(B,l){B.emit("error",l),h.nextTick(Me,B)}Ye.exports={construct:function pe(B,l){if("function"!=typeof B._construct)return;const f=B._readableState,w=B._writableState;f&&(f.constructed=!1),w&&(w.constructed=!1),B.once(P,l),!(B.listenerCount(P)>1)&&h.nextTick(he,B)},destroyer:function je(B,l){!B||R(B)||(!l&&!U(B)&&(l=new Y),H(B)?(B.socket=null,B.destroy(l)):ge(B)?B.abort():ge(B.req)?B.req.abort():"function"==typeof B.destroy?B.destroy(l):"function"==typeof B.close?B.close():l?h.nextTick(Oe,B,l):h.nextTick(Me,B),B.destroyed||(B[j]=!0))},destroy:function W(B,l){const f=this._readableState,w=this._writableState,_=w||f;return null!=w&&w.destroyed||null!=f&&f.destroyed?("function"==typeof l&&l(),this):(ee(B,w,f),w&&(w.destroyed=!0),f&&(f.destroyed=!0),_.constructed?Q(this,B,l):this.once(V,function(D){Q(this,x(D,B),l)}),this)},undestroy:function te(){const B=this._readableState,l=this._writableState;B&&(B.constructed=!0,B.closed=!1,B.closeEmitted=!1,B.destroyed=!1,B.errored=null,B.errorEmitted=!1,B.reading=!1,B.ended=!1===B.readable,B.endEmitted=!1===B.readable),l&&(l.constructed=!0,l.destroyed=!1,l.closed=!1,l.closeEmitted=!1,l.errored=null,l.errorEmitted=!1,l.finalCalled=!1,l.prefinished=!1,l.ended=!1===l.writable,l.ending=!1===l.writable,l.finished=!1===l.writable)},errorOrDestroy:ue}},13323:(Ye,J,A)=>{"use strict";const{ObjectDefineProperties:h,ObjectGetOwnPropertyDescriptor:x,ObjectKeys:N,ObjectSetPrototypeOf:Y}=A(56389);Ye.exports=R;const M=A(84553),j=A(30009);Y(R.prototype,M.prototype),Y(R,M);{const P=N(j.prototype);for(let ee=0;ee<P.length;ee++){const W=P[ee];R.prototype[W]||(R.prototype[W]=j.prototype[W])}}function R(P){if(!(this instanceof R))return new R(P);M.call(this,P),j.call(this,P),P?(this.allowHalfOpen=!1!==P.allowHalfOpen,!1===P.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===P.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let U,V;function H(){return void 0===U&&(U={}),U}h(R.prototype,{writable:{__proto__:null,...x(j.prototype,"writable")},writableHighWaterMark:{__proto__:null,...x(j.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...x(j.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...x(j.prototype,"writableBuffer")},writableLength:{__proto__:null,...x(j.prototype,"writableLength")},writableFinished:{__proto__:null,...x(j.prototype,"writableFinished")},writableCorked:{__proto__:null,...x(j.prototype,"writableCorked")},writableEnded:{__proto__:null,...x(j.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...x(j.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(P){this._readableState&&this._writableState&&(this._readableState.destroyed=P,this._writableState.destroyed=P)}}}),R.fromWeb=function(P,ee){return H().newStreamDuplexFromReadableWritablePair(P,ee)},R.toWeb=function(P){return H().newReadableWritablePairFromDuplex(P)},R.from=function(P){return V||(V=A(44425)),V(P,"body")}},44425:(Ye,J,A)=>{var h=A(29293).default,x=A(53344).default,N=A(42958).default;const Y=A(40573),M=A(68316),{isReadable:j,isWritable:R,isIterable:U,isNodeStream:H,isReadableNodeStream:V,isWritableNodeStream:P,isDuplexNodeStream:ee,isReadableStream:W,isWritableStream:Q}=A(32924),de=A(46017),{AbortError:ae,codes:{ERR_INVALID_ARG_TYPE:re,ERR_INVALID_RETURN_VALUE:te}}=A(68154),{destroyer:ue}=A(96507),pe=A(13323),he=A(84553),ve=A(30009),{createDeferredPromise:ge}=A(13509),Me=A(45737),Oe=globalThis.Blob||M.Blob,je=typeof Oe<"u"?function(O){return O instanceof Oe}:function(O){return!1},B=globalThis.AbortController||A(9465).AbortController,{FunctionPrototypeCall:l}=A(56389);class f extends pe{constructor(O){super(O),!1===O?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===O?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function _(D){const O=D.readable&&"function"!=typeof D.readable.read?he.wrap(D.readable):D.readable,$=D.writable;let E,q,X,ce,me,T=!!j(O),c=!!R($);function Te(Ke){const Qe=ce;ce=null,Qe?Qe(Ke):Ke&&me.destroy(Ke)}return me=new f({readableObjectMode:!(null==O||!O.readableObjectMode),writableObjectMode:!(null==$||!$.writableObjectMode),readable:T,writable:c}),c&&(de($,Ke=>{c=!1,Ke&&ue(O,Ke),Te(Ke)}),me._write=function(Ke,Qe,ke){$.write(Ke,Qe)?ke():E=ke},me._final=function(Ke){$.end(),q=Ke},$.on("drain",function(){if(E){const Ke=E;E=null,Ke()}}),$.on("finish",function(){if(q){const Ke=q;q=null,Ke()}})),T&&(de(O,Ke=>{T=!1,Ke&&ue(O,Ke),Te(Ke)}),O.on("readable",function(){if(X){const Ke=X;X=null,Ke()}}),O.on("end",function(){me.push(null)}),me._read=function(){for(;;){const Ke=O.read();if(null===Ke)return void(X=me._read);if(!me.push(Ke))return}}),me._destroy=function(Ke,Qe){!Ke&&null!==ce&&(Ke=new ae),X=null,E=null,q=null,null===ce?Qe(Ke):(ce=Qe,ue($,Ke),ue(O,Ke))},me}Ye.exports=function D(O,$){if(ee(O))return O;if(V(O))return _({readable:O});if(P(O))return _({writable:O});if(H(O))return _({writable:!1,readable:!1});if(W(O))return _({readable:he.fromWeb(O)});if(Q(O))return _({writable:ve.fromWeb(O)});if("function"==typeof O){const{value:c,write:E,final:q,destroy:X}=function w(D){let{promise:O,resolve:$}=ge();const T=new B,c=T.signal;return{value:D(N(function*(){for(;;){const q=O;O=null;const{chunk:X,done:ce,cb:me}=yield x(q);if(Y.nextTick(me),ce)return;if(c.aborted)throw new ae(void 0,{cause:c.reason});({promise:O,resolve:$}=ge()),yield X}})(),{signal:c}),write(q,X,ce){const me=$;$=null,me({chunk:q,done:!1,cb:ce})},final(q){const X=$;$=null,X({done:!0,cb:q})},destroy(q,X){T.abort(),X(q)}}}(O);if(U(c))return Me(f,c,{objectMode:!0,write:E,final:q,destroy:X});const ce=c?.then;if("function"==typeof ce){let me;const Te=l(ce,c,Ke=>{if(null!=Ke)throw new te("nully","body",Ke)},Ke=>{ue(me,Ke)});return me=new f({objectMode:!0,readable:!1,write:E,final(Ke){q(h(function*(){try{yield Te,Y.nextTick(Ke,null)}catch(Qe){Y.nextTick(Ke,Qe)}}))},destroy:X})}throw new te("Iterable, AsyncIterable or AsyncFunction",$,c)}if(je(O))return D(O.arrayBuffer());if(U(O))return Me(f,O,{objectMode:!0,writable:!1});if(W(O?.readable)&&Q(O?.writable))return f.fromWeb(O);if("object"==typeof O?.writable||"object"==typeof O?.readable)return _({readable:null!=O&&O.readable?V(O?.readable)?O?.readable:D(O.readable):void 0,writable:null!=O&&O.writable?P(O?.writable)?O?.writable:D(O.writable):void 0});const T=O?.then;if("function"==typeof T){let c;return l(T,O,E=>{null!=E&&c.push(E),c.push(null)},E=>{ue(c,E)}),c=new f({objectMode:!0,writable:!1,read(){}})}throw new re($,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],O)}},46017:(Ye,J,A)=>{const h=A(40573),{AbortError:x,codes:N}=A(68154),{ERR_INVALID_ARG_TYPE:Y,ERR_STREAM_PREMATURE_CLOSE:M}=N,{kEmptyObject:j,once:R}=A(13509),{validateAbortSignal:U,validateFunction:H,validateObject:V,validateBoolean:P}=A(99852),{Promise:ee,PromisePrototypeThen:W,SymbolDispose:Q}=A(56389),{isClosed:de,isReadable:ae,isReadableNodeStream:re,isReadableStream:te,isReadableFinished:ue,isReadableErrored:pe,isWritable:he,isWritableNodeStream:ve,isWritableStream:ge,isWritableFinished:Me,isWritableErrored:Oe,isNodeStream:je,willEmitClose:B,kIsClosedPromise:l}=A(32924);let f;const _=()=>{};function D(T,c,E){var q,X;if(2===arguments.length?(E=c,c=j):null==c?c=j:V(c,"options"),H(E,"callback"),U(c.signal,"options.signal"),E=R(E),te(T)||ge(T))return function O(T,c,E){let q=!1,X=_;if(c.signal)if(X=()=>{q=!0,E.call(T,new x(void 0,{cause:c.signal.reason}))},c.signal.aborted)h.nextTick(X);else{f=f||A(13509).addAbortListener;const me=f(c.signal,X),Te=E;E=R((...Ke)=>{me[Q](),Te.apply(T,Ke)})}const ce=(...me)=>{q||h.nextTick(()=>E.apply(T,me))};return W(T[l].promise,ce,ce),_}(T,c,E);if(!je(T))throw new Y("stream",["ReadableStream","WritableStream","Stream"],T);const ce=null!==(q=c.readable)&&void 0!==q?q:re(T),me=null!==(X=c.writable)&&void 0!==X?X:ve(T),Te=T._writableState,Ke=T._readableState,Qe=()=>{T.writable||Xe()};let ke=B(T)&&re(T)===ce&&ve(T)===me,Ie=Me(T,!1);const Xe=()=>{Ie=!0,T.destroyed&&(ke=!1),(!ke||T.readable&&!ce)&&(!ce||Se)&&E.call(T)};let Se=ue(T,!1);const Le=()=>{Se=!0,T.destroyed&&(ke=!1),(!ke||T.writable&&!me)&&(!me||Ie)&&E.call(T)},Ee=$e=>{E.call(T,$e)};let be=de(T);const oe=()=>{be=!0;const $e=Oe(T)||pe(T);return $e&&"boolean"!=typeof $e?E.call(T,$e):ce&&!Se&&re(T,!0)&&!ue(T,!1)?E.call(T,new M):!me||Ie||Me(T,!1)?void E.call(T):E.call(T,new M)},fe=()=>{be=!0;const $e=Oe(T)||pe(T);if($e&&"boolean"!=typeof $e)return E.call(T,$e);E.call(T)},we=()=>{T.req.on("finish",Xe)};!function w(T){return T.setHeader&&"function"==typeof T.abort}(T)?me&&!Te&&(T.on("end",Qe),T.on("close",Qe)):(T.on("complete",Xe),ke||T.on("abort",oe),T.req?we():T.on("request",we)),!ke&&"boolean"==typeof T.aborted&&T.on("aborted",oe),T.on("end",Le),T.on("finish",Xe),!1!==c.error&&T.on("error",Ee),T.on("close",oe),be?h.nextTick(oe):null!=Te&&Te.errorEmitted||null!=Ke&&Ke.errorEmitted?ke||h.nextTick(fe):(!ce&&(!ke||ae(T))&&(Ie||!1===he(T))||!me&&(!ke||he(T))&&(Se||!1===ae(T))||Ke&&T.req&&T.aborted)&&h.nextTick(fe);const De=()=>{E=_,T.removeListener("aborted",oe),T.removeListener("complete",Xe),T.removeListener("abort",oe),T.removeListener("request",we),T.req&&T.req.removeListener("finish",Xe),T.removeListener("end",Qe),T.removeListener("close",Qe),T.removeListener("finish",Xe),T.removeListener("end",Le),T.removeListener("error",Ee),T.removeListener("close",oe)};if(c.signal&&!be){const $e=()=>{const Je=E;De(),Je.call(T,new x(void 0,{cause:c.signal.reason}))};if(c.signal.aborted)h.nextTick($e);else{f=f||A(13509).addAbortListener;const Je=f(c.signal,$e),Ze=E;E=R((...Pt)=>{Je[Q](),Ze.apply(T,Pt)})}}return De}Ye.exports=D,Ye.exports.finished=function $(T,c){var E;let q=!1;return null===c&&(c=j),null!==(E=c)&&void 0!==E&&E.cleanup&&(P(c.cleanup,"cleanup"),q=c.cleanup),new ee((X,ce)=>{const me=D(T,c,Te=>{q&&me(),Te?ce(Te):X()})})}},45737:(Ye,J,A)=>{"use strict";var h=A(29293).default;const x=A(40573),{PromisePrototypeThen:N,SymbolAsyncIterator:Y,SymbolIterator:M}=A(56389),{Buffer:j}=A(68316),{ERR_INVALID_ARG_TYPE:R,ERR_STREAM_NULL_VALUES:U}=A(68154).codes;Ye.exports=function H(V,P,ee){let W,Q;if("string"==typeof P||P instanceof j)return new V({objectMode:!0,...ee,read(){this.push(P),this.push(null)}});if(P&&P[Y])Q=!0,W=P[Y]();else{if(!P||!P[M])throw new R("iterable",["Iterable"],P);Q=!1,W=P[M]()}const de=new V({objectMode:!0,highWaterMark:1,...ee});let ae=!1;function te(){return(te=h(function*(he){if(null!=he&&"function"==typeof W.throw){const{value:Me,done:Oe}=yield W.throw(he);if(yield Me,Oe)return}if("function"==typeof W.return){const{value:Me}=yield W.return();yield Me}})).apply(this,arguments)}function pe(){return(pe=h(function*(){for(;;){try{const{value:he,done:ve}=Q?yield W.next():W.next();if(ve)de.push(null);else{const ge=he&&"function"==typeof he.then?yield he:he;if(null===ge)throw ae=!1,new U;if(de.push(ge))continue;ae=!1}}catch(he){de.destroy(he)}break}})).apply(this,arguments)}return de._read=function(){ae||(ae=!0,function ue(){pe.apply(this,arguments)}())},de._destroy=function(he,ve){N(function re(he){return te.apply(this,arguments)}(he),()=>x.nextTick(ve,he),ge=>x.nextTick(ve,ge||he))},de}},91242:(Ye,J,A)=>{"use strict";const{ArrayIsArray:h,ObjectSetPrototypeOf:x}=A(56389),{EventEmitter:N}=A(44356);function Y(j){N.call(this,j)}function M(j,R,U){if("function"==typeof j.prependListener)return j.prependListener(R,U);j._events&&j._events[R]?h(j._events[R])?j._events[R].unshift(U):j._events[R]=[U,j._events[R]]:j.on(R,U)}x(Y.prototype,N.prototype),x(Y,N),Y.prototype.pipe=function(j,R){const U=this;function H(ae){j.writable&&!1===j.write(ae)&&U.pause&&U.pause()}function V(){U.readable&&U.resume&&U.resume()}U.on("data",H),j.on("drain",V),!j._isStdio&&(!R||!1!==R.end)&&(U.on("end",ee),U.on("close",W));let P=!1;function ee(){P||(P=!0,j.end())}function W(){P||(P=!0,"function"==typeof j.destroy&&j.destroy())}function Q(ae){de(),0===N.listenerCount(this,"error")&&this.emit("error",ae)}function de(){U.removeListener("data",H),j.removeListener("drain",V),U.removeListener("end",ee),U.removeListener("close",W),U.removeListener("error",Q),j.removeListener("error",Q),U.removeListener("end",de),U.removeListener("close",de),j.removeListener("close",de)}return M(U,"error",Q),M(j,"error",Q),U.on("end",de),U.on("close",de),j.on("close",de),j.emit("pipe",U),j},Ye.exports={Stream:Y,prependListener:M}},21840:(Ye,J,A)=>{"use strict";var h=A(29293).default,x=A(93513).default,N=A(82881).default,Y=A(53344).default,M=A(42958).default;const j=globalThis.AbortController||A(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:R,ERR_INVALID_ARG_TYPE:U,ERR_MISSING_ARGS:H,ERR_OUT_OF_RANGE:V},AbortError:P}=A(68154),{validateAbortSignal:ee,validateInteger:W,validateObject:Q}=A(99852),de=A(56389).Symbol("kWeak"),ae=A(56389).Symbol("kResistStopPropagation"),{finished:re}=A(46017),te=A(373),{addAbortSignalNoValidate:ue}=A(57062),{isWritable:pe,isNodeStream:he}=A(32924),{deprecate:ve}=A(13509),{ArrayPrototypePush:ge,Boolean:Me,MathFloor:Oe,Number:je,NumberIsNaN:B,Promise:l,PromiseReject:f,PromiseResolve:w,PromisePrototypeThen:_,Symbol:D}=A(56389),O=D("kEmpty"),$=D("kEof");function c($e,Je){if("function"!=typeof $e)throw new U("fn",["Function","AsyncFunction"],$e);null!=Je&&Q(Je,"options"),null!=Je?.signal&&ee(Je.signal,"options.signal");let Ze=1;null!=Je?.concurrency&&(Ze=Oe(Je.concurrency));let Pt=Ze-1;return null!=Je?.highWaterMark&&(Pt=Oe(Je.highWaterMark)),W(Ze,"options.concurrency",1),W(Pt,"options.highWaterMark",0),Pt+=Ze,function(){var nt=M(function*(){const Et=A(13509).AbortSignalAny([Je?.signal].filter(Me)),K=this,C=[],b={signal:Et};let z,le,Ae=!1,Be=0;function ft(){Ae=!0,Yt()}function Yt(){Be-=1,Rt()}function Rt(){le&&!Ae&&Be<Ze&&C.length<Pt&&(le(),le=null)}function dn(){return(dn=h(function*(){try{var Ar,Mn=!1,En=!1;try{for(var mn,jn=N(K);Mn=!(mn=yield jn.next()).done;Mn=!1){let pn=mn.value;if(Ae)return;if(Et.aborted)throw new P;try{if(pn=$e(pn,b),pn===O)continue;pn=w(pn)}catch(kt){pn=f(kt)}Be+=1,_(pn,Yt,ft),C.push(pn),z&&(z(),z=null),!Ae&&(C.length>=Pt||Be>=Ze)&&(yield new l(kt=>{le=kt}))}}catch(pn){En=!0,Ar=pn}finally{try{Mn&&null!=jn.return&&(yield jn.return())}finally{if(En)throw Ar}}C.push($)}catch(pn){const kt=f(pn);_(kt,Yt,ft),C.push(kt)}finally{Ae=!0,z&&(z(),z=null)}})).apply(this,arguments)}!function Vt(){dn.apply(this,arguments)}();try{for(;;){for(;C.length>0;){const Mn=yield Y(C[0]);if(Mn===$)return;if(Et.aborted)throw new P;Mn!==O&&(yield Mn),C.shift(),Rt()}yield Y(new l(Mn=>{z=Mn}))}}finally{Ae=!0,le&&(le(),le=null)}});return function Ge(){return nt.apply(this,arguments)}}().call(this)}function q($e){return X.apply(this,arguments)}function X(){return(X=h(function*($e,Je=void 0){var nt,Ze=!1,Pt=!1;try{for(var Ge=N(Ie.call(this,$e,Je));Ze=!(yield Ge.next()).done;Ze=!1)return!0}catch(K){Pt=!0,nt=K}finally{try{Ze&&null!=Ge.return&&(yield Ge.return())}finally{if(Pt)throw nt}}return!1})).apply(this,arguments)}function me(){return(me=h(function*($e,Je=void 0){if("function"!=typeof $e)throw new U("fn",["Function","AsyncFunction"],$e);return!(yield q.call(this,h(function*(...Ze){return!(yield $e(...Ze))}),Je))})).apply(this,arguments)}function Ke(){return(Ke=h(function*($e,Je){var nt,Ze=!1,Pt=!1;try{for(var Et,Ge=N(Ie.call(this,$e,Je));Ze=!(Et=yield Ge.next()).done;Ze=!1)return Et.value}catch(K){Pt=!0,nt=K}finally{try{Ze&&null!=Ge.return&&(yield Ge.return())}finally{if(Pt)throw nt}}})).apply(this,arguments)}function ke(){return ke=h(function*($e,Je){if("function"!=typeof $e)throw new U("fn",["Function","AsyncFunction"],$e);function Pt(){return(Pt=h(function*(b,z){return yield $e(b,z),O})).apply(this,arguments)}var Et,nt=!1,Ge=!1;try{for(var K=N(c.call(this,function Ze(b,z){return Pt.apply(this,arguments)},Je));nt=!(yield K.next()).done;nt=!1);}catch(b){Ge=!0,Et=b}finally{try{nt&&null!=K.return&&(yield K.return())}finally{if(Ge)throw Et}}}),ke.apply(this,arguments)}function Ie($e,Je){if("function"!=typeof $e)throw new U("fn",["Function","AsyncFunction"],$e);function Pt(){return(Pt=h(function*(nt,Ge){return(yield $e(nt,Ge))?nt:O})).apply(this,arguments)}return c.call(this,function Ze(nt,Ge){return Pt.apply(this,arguments)},Je)}class Xe extends H{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Le(){return Le=h(function*($e,Je,Ze){var Pt;if("function"!=typeof $e)throw new U("reducer",["Function","AsyncFunction"],$e);null!=Ze&&Q(Ze,"options"),null!=Ze?.signal&&ee(Ze.signal,"options.signal");let nt=arguments.length>1;if(null!=Ze&&null!==(Pt=Ze.signal)&&void 0!==Pt&&Pt.aborted){const ft=new P(void 0,{cause:Ze.signal.reason});throw this.once("error",()=>{}),yield re(this.destroy(ft)),ft}const Ge=new j,Et=Ge.signal;null!=Ze&&Ze.signal&&Ze.signal.addEventListener("abort",()=>Ge.abort(),{once:!0,[de]:this,[ae]:!0});let K=!1;try{var z,C=!1,b=!1;try{for(var Ae,le=N(this);C=!(Ae=yield le.next()).done;C=!1){const ft=Ae.value;var Be;if(K=!0,null!=Ze&&null!==(Be=Ze.signal)&&void 0!==Be&&Be.aborted)throw new P;nt?Je=yield $e(Je,ft,{signal:Et}):(Je=ft,nt=!0)}}catch(ft){b=!0,z=ft}finally{try{C&&null!=le.return&&(yield le.return())}finally{if(b)throw z}}if(!K&&!nt)throw new Xe}finally{Ge.abort()}return Je}),Le.apply(this,arguments)}function be(){return(be=h(function*($e){null!=$e&&Q($e,"options"),null!=$e?.signal&&ee($e.signal,"options.signal");const Je=[];var nt,Ze=!1,Pt=!1;try{for(var Et,Ge=N(this);Ze=!(Et=yield Ge.next()).done;Ze=!1){const C=Et.value;var K;if(null!=$e&&null!==(K=$e.signal)&&void 0!==K&&K.aborted)throw new P(void 0,{cause:$e.signal.reason});ge(Je,C)}}catch(C){Pt=!0,nt=C}finally{try{Ze&&null!=Ge.return&&(yield Ge.return())}finally{if(Pt)throw nt}}return Je})).apply(this,arguments)}function fe($e){if($e=je($e),B($e))return 0;if($e<0)throw new V("number",">= 0",$e);return $e}Ye.exports.streamReturningOperators={asIndexedPairs:ve(function E($e=void 0){return null!=$e&&Q($e,"options"),null!=$e?.signal&&ee($e.signal,"options.signal"),function(){var Je=M(function*(){let Pt=0;var Et,nt=!1,Ge=!1;try{for(var C,K=N(this);nt=!(C=yield Y(K.next())).done;nt=!1){const z=C.value;var b;if(null!=$e&&null!==(b=$e.signal)&&void 0!==b&&b.aborted)throw new P({cause:$e.signal.reason});yield[Pt++,z]}}catch(z){Ge=!0,Et=z}finally{try{nt&&null!=K.return&&(yield Y(K.return()))}finally{if(Ge)throw Et}}});return function Ze(){return Je.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function we($e,Je=void 0){return null!=Je&&Q(Je,"options"),null!=Je?.signal&&ee(Je.signal,"options.signal"),$e=fe($e),function(){var Ze=M(function*(){var nt;if(null!=Je&&null!==(nt=Je.signal)&&void 0!==nt&&nt.aborted)throw new P;var K,Ge=!1,Et=!1;try{for(var b,C=N(this);Ge=!(b=yield Y(C.next())).done;Ge=!1){const le=b.value;var z;if(null!=Je&&null!==(z=Je.signal)&&void 0!==z&&z.aborted)throw new P;$e--<=0&&(yield le)}}catch(le){Et=!0,K=le}finally{try{Ge&&null!=C.return&&(yield Y(C.return()))}finally{if(Et)throw K}}});return function Pt(){return Ze.apply(this,arguments)}}().call(this)},filter:Ie,flatMap:function oe($e,Je){const Ze=c.call(this,$e,Je);return function(){var Pt=M(function*(){var K,Ge=!1,Et=!1;try{for(var b,C=N(Ze);Ge=!(b=yield Y(C.next())).done;Ge=!1){const z=b.value;yield*x(N(z),Y)}}catch(z){Et=!0,K=z}finally{try{Ge&&null!=C.return&&(yield Y(C.return()))}finally{if(Et)throw K}}});return function nt(){return Pt.apply(this,arguments)}}().call(this)},map:c,take:function De($e,Je=void 0){return null!=Je&&Q(Je,"options"),null!=Je?.signal&&ee(Je.signal,"options.signal"),$e=fe($e),function(){var Ze=M(function*(){var nt;if(null!=Je&&null!==(nt=Je.signal)&&void 0!==nt&&nt.aborted)throw new P;var K,Ge=!1,Et=!1;try{for(var b,C=N(this);Ge=!(b=yield Y(C.next())).done;Ge=!1){const le=b.value;var z;if(null!=Je&&null!==(z=Je.signal)&&void 0!==z&&z.aborted)throw new P;if($e-- >0&&(yield le),$e<=0)return}}catch(le){Et=!0,K=le}finally{try{Ge&&null!=C.return&&(yield Y(C.return()))}finally{if(Et)throw K}}});return function Pt(){return Ze.apply(this,arguments)}}().call(this)},compose:function T($e,Je){if(null!=Je&&Q(Je,"options"),null!=Je?.signal&&ee(Je.signal,"options.signal"),he($e)&&!pe($e))throw new R("stream",$e,"must be writable");const Ze=te(this,$e);return null!=Je&&Je.signal&&ue(Je.signal,Ze),Ze}},Ye.exports.promiseReturningOperators={every:function ce($e){return me.apply(this,arguments)},forEach:function Qe($e,Je){return ke.apply(this,arguments)},reduce:function Se($e,Je,Ze){return Le.apply(this,arguments)},toArray:function Ee($e){return be.apply(this,arguments)},some:q,find:function Te($e,Je){return Ke.apply(this,arguments)}}},59447:(Ye,J,A)=>{"use strict";const{ObjectSetPrototypeOf:h}=A(56389);Ye.exports=N;const x=A(71981);function N(Y){if(!(this instanceof N))return new N(Y);x.call(this,Y)}h(N.prototype,x.prototype),h(N,x),N.prototype._transform=function(Y,M,j){j(null,Y)}},67843:(Ye,J,A)=>{var h=A(29293).default,x=A(42958).default,N=A(53344).default,Y=A(93513).default,M=A(82881).default;const j=A(40573),{ArrayIsArray:R,Promise:U,SymbolAsyncIterator:H,SymbolDispose:V}=A(56389),P=A(46017),{once:ee}=A(13509),W=A(96507),Q=A(13323),{aggregateTwoErrors:de,codes:{ERR_INVALID_ARG_TYPE:ae,ERR_INVALID_RETURN_VALUE:re,ERR_MISSING_ARGS:te,ERR_STREAM_DESTROYED:ue,ERR_STREAM_PREMATURE_CLOSE:pe},AbortError:he}=A(68154),{validateFunction:ve,validateAbortSignal:ge}=A(99852),{isIterable:Me,isReadable:Oe,isReadableNodeStream:je,isNodeStream:B,isTransformStream:l,isWebStream:f,isReadableStream:w,isReadableFinished:_}=A(32924),D=globalThis.AbortController||A(9465).AbortController;let O,$,T;function c(Se,Le,Ee){let be=!1;return Se.on("close",()=>{be=!0}),{destroy:fe=>{be||(be=!0,W.destroyer(Se,fe||new ue("pipe")))},cleanup:P(Se,{readable:Le,writable:Ee},fe=>{be=!fe})}}function q(Se){if(Me(Se))return Se;if(je(Se))return function X(Se){return ce.apply(this,arguments)}(Se);throw new ae("val",["Readable","Iterable","AsyncIterable"],Se)}function ce(){return(ce=x(function*(Se){$||($=A(84553)),yield*Y(M($.prototype[H].call(Se)),N)})).apply(this,arguments)}function me(Se,Le,Ee,be){return Te.apply(this,arguments)}function Te(){return(Te=h(function*(Se,Le,Ee,{end:be}){let oe,fe=null;const we=Et=>{if(Et&&(oe=Et),fe){const K=fe;fe=null,K()}},De=()=>new U((Et,K)=>{oe?K(oe):fe=()=>{oe?K(oe):Et()}});Le.on("drain",we);const $e=P(Le,{readable:!1},we);try{Le.writableNeedDrain&&(yield De());var Pt,Je=!1,Ze=!1;try{for(var Ge,nt=M(Se);Je=!(Ge=yield nt.next()).done;Je=!1)Le.write(Ge.value)||(yield De())}catch(Et){Ze=!0,Pt=Et}finally{try{Je&&null!=nt.return&&(yield nt.return())}finally{if(Ze)throw Pt}}be&&(Le.end(),yield De()),Ee()}catch(Et){Ee(oe!==Et?de(oe,Et):Et)}finally{$e(),Le.off("drain",we)}})).apply(this,arguments)}function Ke(Se,Le,Ee,be){return Qe.apply(this,arguments)}function Qe(){return(Qe=h(function*(Se,Le,Ee,{end:be}){l(Le)&&(Le=Le.writable);const oe=Le.getWriter();try{var De,fe=!1,we=!1;try{for(var Je,$e=M(Se);fe=!(Je=yield $e.next()).done;fe=!1){const Ze=Je.value;yield oe.ready,oe.write(Ze).catch(()=>{})}}catch(Ze){we=!0,De=Ze}finally{try{fe&&null!=$e.return&&(yield $e.return())}finally{if(we)throw De}}yield oe.ready,be&&(yield oe.close()),Ee()}catch(Ze){try{yield oe.abort(Ze),Ee(Ze)}catch(Pt){Ee(Pt)}}})).apply(this,arguments)}function Ie(Se,Le,Ee){if(1===Se.length&&R(Se[0])&&(Se=Se[0]),Se.length<2)throw new te("streams");const be=new D,oe=be.signal,fe=Ee?.signal,we=[];function De(){Et(new he)}let $e,Je,Ze;ge(fe,"options.signal"),T=T||A(13509).addAbortListener,fe&&($e=T(fe,De));const Pt=[];let K,nt=0;function Ge(le){Et(le,0==--nt)}function Et(le,Ae){var Be;if(le&&(!Je||"ERR_STREAM_PREMATURE_CLOSE"===Je.code)&&(Je=le),Je||Ae){for(;Pt.length;)Pt.shift()(Je);null===(Be=$e)||void 0===Be||Be[V](),be.abort(),Ae&&(Je||we.forEach(ft=>ft()),j.nextTick(Le,Je,Ze))}}for(let le=0;le<Se.length;le++){const Ae=Se[le],Be=le<Se.length-1,ft=le>0,Yt=Be||!1!==Ee?.end,Rt=le===Se.length-1;if(B(Ae)){let Vt=function(dn){dn&&"AbortError"!==dn.name&&"ERR_STREAM_PREMATURE_CLOSE"!==dn.code&&Ge(dn)};if(Yt){const{destroy:dn,cleanup:Mn}=c(Ae,Be,ft);Pt.push(dn),Oe(Ae)&&Rt&&we.push(Mn)}Ae.on("error",Vt),Oe(Ae)&&Rt&&we.push(()=>{Ae.removeListener("error",Vt)})}if(0===le)if("function"==typeof Ae){if(K=Ae({signal:oe}),!Me(K))throw new re("Iterable, AsyncIterable or Stream","source",K)}else K=Me(Ae)||je(Ae)||l(Ae)?Ae:Q.from(Ae);else if("function"==typeof Ae){var C;if(K=l(K)?q(null===(C=K)||void 0===C?void 0:C.readable):q(K),K=Ae(K,{signal:oe}),Be){if(!Me(K,!0))throw new re("AsyncIterable",`transform[${le-1}]`,K)}else{var b;O||(O=A(59447));const Vt=new O({objectMode:!0}),dn=null===(b=K)||void 0===b?void 0:b.then;if("function"==typeof dn)nt++,dn.call(K,Ar=>{Ze=Ar,null!=Ar&&Vt.write(Ar),Yt&&Vt.end(),j.nextTick(Ge)},Ar=>{Vt.destroy(Ar),j.nextTick(Ge,Ar)});else if(Me(K,!0))nt++,me(K,Vt,Ge,{end:Yt});else{if(!w(K)&&!l(K))throw new re("AsyncIterable or Promise","destination",K);nt++,me(K.readable||K,Vt,Ge,{end:Yt})}K=Vt;const{destroy:Mn,cleanup:En}=c(K,!1,!0);Pt.push(Mn),Rt&&we.push(En)}}else if(B(Ae)){if(je(K)){nt+=2;const Vt=Xe(K,Ae,Ge,{end:Yt});Oe(Ae)&&Rt&&we.push(Vt)}else if(l(K)||w(K))nt++,me(K.readable||K,Ae,Ge,{end:Yt});else{if(!Me(K))throw new ae("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],K);nt++,me(K,Ae,Ge,{end:Yt})}K=Ae}else if(f(Ae)){if(je(K))nt++,Ke(q(K),Ae,Ge,{end:Yt});else if(w(K)||Me(K))nt++,Ke(K,Ae,Ge,{end:Yt});else{if(!l(K))throw new ae("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],K);nt++,Ke(K.readable,Ae,Ge,{end:Yt})}K=Ae}else K=Q.from(Ae)}return(null!=oe&&oe.aborted||null!=fe&&fe.aborted)&&j.nextTick(De),K}function Xe(Se,Le,Ee,{end:be}){let oe=!1;if(Le.on("close",()=>{oe||Ee(new pe)}),Se.pipe(Le,{end:!1}),be){let we=function(){oe=!0,Le.end()};_(Se)?j.nextTick(we):Se.once("end",we)}else Ee();return P(Se,{readable:!0,writable:!1},we=>{const De=Se._readableState;we&&"ERR_STREAM_PREMATURE_CLOSE"===we.code&&De&&De.ended&&!De.errored&&!De.errorEmitted?Se.once("end",Ee).once("error",Ee):Ee(we)}),P(Le,{readable:!1,writable:!0},Ee)}Ye.exports={pipelineImpl:Ie,pipeline:function ke(...Se){return Ie(Se,ee(function E(Se){return ve(Se[Se.length-1],"streams[stream.length - 1]"),Se.pop()}(Se)))}}},84553:(Ye,J,A)=>{var h=A(53344).default,x=A(42958).default;const N=A(40573),{ArrayPrototypeIndexOf:Y,NumberIsInteger:M,NumberIsNaN:j,NumberParseInt:R,ObjectDefineProperties:U,ObjectKeys:H,ObjectSetPrototypeOf:V,Promise:P,SafeSet:ee,SymbolAsyncDispose:W,SymbolAsyncIterator:Q,Symbol:de}=A(56389);Ye.exports=Ge,Ge.ReadableState=nt;const{EventEmitter:ae}=A(44356),{Stream:re,prependListener:te}=A(91242),{Buffer:ue}=A(68316),{addAbortSignal:pe}=A(57062),he=A(46017);let ve=A(13509).debuglog("stream",Tt=>{ve=Tt});const ge=A(16630),Me=A(96507),{getHighWaterMark:Oe,getDefaultHighWaterMark:je}=A(18212),{aggregateTwoErrors:B,codes:{ERR_INVALID_ARG_TYPE:l,ERR_METHOD_NOT_IMPLEMENTED:f,ERR_OUT_OF_RANGE:w,ERR_STREAM_PUSH_AFTER_EOF:_,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:D},AbortError:O}=A(68154),{validateObject:$}=A(99852),T=de("kPaused"),{StringDecoder:c}=A(78454),E=A(45737);V(Ge.prototype,re.prototype),V(Ge,re);const q=()=>{},{errorOrDestroy:X}=Me,ce=1,Qe=16,ke=32,Ie=64,be=2048,oe=4096,$e=65536;function Pt(Tt){return{enumerable:!1,get(){return!!(this.state&Tt)},set(Nt){Nt?this.state|=Tt:this.state&=~Tt}}}function nt(Tt,Nt,Lt){"boolean"!=typeof Lt&&(Lt=Nt instanceof A(13323)),this.state=be|oe|Qe|ke,Tt&&Tt.objectMode&&(this.state|=ce),Lt&&Tt&&Tt.readableObjectMode&&(this.state|=ce),this.highWaterMark=Tt?Oe(this,Tt,"readableHighWaterMark",Lt):je(!1),this.buffer=new ge,this.length=0,this.pipes=[],this.flowing=null,this[T]=null,Tt&&!1===Tt.emitClose&&(this.state&=~be),Tt&&!1===Tt.autoDestroy&&(this.state&=~oe),this.errored=null,this.defaultEncoding=Tt&&Tt.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Tt&&Tt.encoding&&(this.decoder=new c(Tt.encoding),this.encoding=Tt.encoding)}function Ge(Tt){if(!(this instanceof Ge))return new Ge(Tt);const Nt=this instanceof A(13323);this._readableState=new nt(Tt,this,Nt),Tt&&("function"==typeof Tt.read&&(this._read=Tt.read),"function"==typeof Tt.destroy&&(this._destroy=Tt.destroy),"function"==typeof Tt.construct&&(this._construct=Tt.construct),Tt.signal&&!Nt&&pe(Tt.signal,this)),re.call(this,Tt),Me.construct(this,()=>{this._readableState.needReadable&&ft(this,this._readableState)})}function Et(Tt,Nt,Lt,st){ve("readableAddChunk",Nt);const mt=Tt._readableState;let sn;if(mt.state&ce||("string"==typeof Nt?mt.encoding!==(Lt=Lt||mt.defaultEncoding)&&(st&&mt.encoding?Nt=ue.from(Nt,Lt).toString(mt.encoding):(Nt=ue.from(Nt,Lt),Lt="")):Nt instanceof ue?Lt="":re._isUint8Array(Nt)?(Nt=re._uint8ArrayToBuffer(Nt),Lt=""):null!=Nt&&(sn=new l("chunk",["string","Buffer","Uint8Array"],Nt))),sn)X(Tt,sn);else if(null===Nt)mt.state&=-9,function le(Tt,Nt){if(ve("onEofChunk"),!Nt.ended){if(Nt.decoder){const Lt=Nt.decoder.end();Lt&&Lt.length&&(Nt.buffer.push(Lt),Nt.length+=Nt.objectMode?1:Lt.length)}Nt.ended=!0,Nt.sync?Ae(Tt):(Nt.needReadable=!1,Nt.emittedReadable=!0,Be(Tt))}}(Tt,mt);else if(mt.state&ce||Nt&&Nt.length>0)if(st)if(4&mt.state)X(Tt,new D);else{if(mt.destroyed||mt.errored)return!1;K(Tt,mt,Nt,!0)}else if(mt.ended)X(Tt,new _);else{if(mt.destroyed||mt.errored)return!1;mt.state&=-9,mt.decoder&&!Lt?(Nt=mt.decoder.write(Nt),mt.objectMode||0!==Nt.length?K(Tt,mt,Nt,!1):ft(Tt,mt)):K(Tt,mt,Nt,!1)}else st||(mt.state&=-9,ft(Tt,mt));return!mt.ended&&(mt.length<mt.highWaterMark||0===mt.length)}function K(Tt,Nt,Lt,st){Nt.flowing&&0===Nt.length&&!Nt.sync&&Tt.listenerCount("data")>0?(Nt.state&$e?Nt.awaitDrainWriters.clear():Nt.awaitDrainWriters=null,Nt.dataEmitted=!0,Tt.emit("data",Lt)):(Nt.length+=Nt.objectMode?1:Lt.length,st?Nt.buffer.unshift(Lt):Nt.buffer.push(Lt),Nt.state&Ie&&Ae(Tt)),ft(Tt,Nt)}function z(Tt,Nt){return Tt<=0||0===Nt.length&&Nt.ended?0:Nt.state&ce?1:j(Tt)?Nt.flowing&&Nt.length?Nt.buffer.first().length:Nt.length:Tt<=Nt.length?Tt:Nt.ended?Nt.length:0}function Ae(Tt){const Nt=Tt._readableState;ve("emitReadable",Nt.needReadable,Nt.emittedReadable),Nt.needReadable=!1,Nt.emittedReadable||(ve("emitReadable",Nt.flowing),Nt.emittedReadable=!0,N.nextTick(Be,Tt))}function Be(Tt){const Nt=Tt._readableState;ve("emitReadable_",Nt.destroyed,Nt.length,Nt.ended),!Nt.destroyed&&!Nt.errored&&(Nt.length||Nt.ended)&&(Tt.emit("readable"),Nt.emittedReadable=!1),Nt.needReadable=!Nt.flowing&&!Nt.ended&&Nt.length<=Nt.highWaterMark,Ar(Tt)}function ft(Tt,Nt){!Nt.readingMore&&Nt.constructed&&(Nt.readingMore=!0,N.nextTick(Yt,Tt,Nt))}function Yt(Tt,Nt){for(;!Nt.reading&&!Nt.ended&&(Nt.length<Nt.highWaterMark||Nt.flowing&&0===Nt.length);){const Lt=Nt.length;if(ve("maybeReadMore read 0"),Tt.read(0),Lt===Nt.length)break}Nt.readingMore=!1}function Vt(Tt){const Nt=Tt._readableState;Nt.readableListening=Tt.listenerCount("readable")>0,Nt.resumeScheduled&&!1===Nt[T]?Nt.flowing=!0:Tt.listenerCount("data")>0?Tt.resume():Nt.readableListening||(Nt.flowing=null)}function dn(Tt){ve("readable nexttick read 0"),Tt.read(0)}function En(Tt,Nt){ve("resume",Nt.reading),Nt.reading||Tt.read(0),Nt.resumeScheduled=!1,Tt.emit("resume"),Ar(Tt),Nt.flowing&&!Nt.reading&&Tt.read(0)}function Ar(Tt){const Nt=Tt._readableState;for(ve("flow",Nt.flowing);Nt.flowing&&null!==Tt.read(););}function jn(Tt,Nt){"function"!=typeof Tt.read&&(Tt=Ge.wrap(Tt,{objectMode:!0}));const Lt=function mn(Tt,Nt){return pn.apply(this,arguments)}(Tt,Nt);return Lt.stream=Tt,Lt}function pn(){return(pn=x(function*(Tt,Nt){let mt,Lt=q;function st(Zt){this===Tt?(Lt(),Lt=q):Lt=Zt}Tt.on("readable",st);const sn=he(Tt,{writable:!1},Zt=>{mt=Zt?B(mt,Zt):null,Lt(),Lt=q});try{for(;;){const Zt=Tt.destroyed?null:Tt.read();if(null!==Zt)yield Zt;else{if(mt)throw mt;if(null===mt)return;yield h(new P(st))}}}catch(Zt){throw mt=B(mt,Zt),mt}finally{!mt&&!1===Nt?.destroyOnReturn||void 0!==mt&&!Tt._readableState.autoDestroy?(Tt.off("readable",st),sn()):Me.destroyer(Tt,null)}})).apply(this,arguments)}function kt(Tt,Nt){if(0===Nt.length)return null;let Lt;return Nt.objectMode?Lt=Nt.buffer.shift():!Tt||Tt>=Nt.length?(Lt=Nt.decoder?Nt.buffer.join(""):1===Nt.buffer.length?Nt.buffer.first():Nt.buffer.concat(Nt.length),Nt.buffer.clear()):Lt=Nt.buffer.consume(Tt,Nt.decoder),Lt}function St(Tt){const Nt=Tt._readableState;ve("endReadable",Nt.endEmitted),Nt.endEmitted||(Nt.ended=!0,N.nextTick(an,Nt,Tt))}function an(Tt,Nt){if(ve("endReadableNT",Tt.endEmitted,Tt.length),!Tt.errored&&!Tt.closeEmitted&&!Tt.endEmitted&&0===Tt.length)if(Tt.endEmitted=!0,Nt.emit("end"),Nt.writable&&!1===Nt.allowHalfOpen)N.nextTick(hn,Nt);else if(Tt.autoDestroy){const Lt=Nt._writableState;(!Lt||Lt.autoDestroy&&(Lt.finished||!1===Lt.writable))&&Nt.destroy()}}function hn(Tt){Tt.writable&&!Tt.writableEnded&&!Tt.destroyed&&Tt.end()}let An;function Rr(){return void 0===An&&(An={}),An}U(nt.prototype,{objectMode:Pt(ce),ended:Pt(2),endEmitted:Pt(4),reading:Pt(8),constructed:Pt(Qe),sync:Pt(ke),needReadable:Pt(Ie),emittedReadable:Pt(128),readableListening:Pt(256),resumeScheduled:Pt(512),errorEmitted:Pt(1024),emitClose:Pt(be),autoDestroy:Pt(oe),destroyed:Pt(8192),closed:Pt(16384),closeEmitted:Pt(32768),multiAwaitDrain:Pt($e),readingMore:Pt(1<<17),dataEmitted:Pt(1<<18)}),Ge.prototype.destroy=Me.destroy,Ge.prototype._undestroy=Me.undestroy,Ge.prototype._destroy=function(Tt,Nt){Nt(Tt)},Ge.prototype[ae.captureRejectionSymbol]=function(Tt){this.destroy(Tt)},Ge.prototype[W]=function(){let Tt;return this.destroyed||(Tt=this.readableEnded?null:new O,this.destroy(Tt)),new P((Nt,Lt)=>he(this,st=>st&&st!==Tt?Lt(st):Nt(null)))},Ge.prototype.push=function(Tt,Nt){return Et(this,Tt,Nt,!1)},Ge.prototype.unshift=function(Tt,Nt){return Et(this,Tt,Nt,!0)},Ge.prototype.isPaused=function(){const Tt=this._readableState;return!0===Tt[T]||!1===Tt.flowing},Ge.prototype.setEncoding=function(Tt){const Nt=new c(Tt);this._readableState.decoder=Nt,this._readableState.encoding=this._readableState.decoder.encoding;const Lt=this._readableState.buffer;let st="";for(const mt of Lt)st+=Nt.write(mt);return Lt.clear(),""!==st&&Lt.push(st),this._readableState.length=st.length,this},Ge.prototype.read=function(Tt){ve("read",Tt),void 0===Tt?Tt=NaN:M(Tt)||(Tt=R(Tt,10));const Nt=this._readableState,Lt=Tt;if(Tt>Nt.highWaterMark&&(Nt.highWaterMark=function b(Tt){if(Tt>1073741824)throw new w("size","<= 1GiB",Tt);return Tt--,Tt|=Tt>>>1,Tt|=Tt>>>2,Tt|=Tt>>>4,Tt|=Tt>>>8,Tt|=Tt>>>16,++Tt}(Tt)),0!==Tt&&(Nt.state&=-129),0===Tt&&Nt.needReadable&&((0!==Nt.highWaterMark?Nt.length>=Nt.highWaterMark:Nt.length>0)||Nt.ended))return ve("read: emitReadable",Nt.length,Nt.ended),0===Nt.length&&Nt.ended?St(this):Ae(this),null;if(0===(Tt=z(Tt,Nt))&&Nt.ended)return 0===Nt.length&&St(this),null;let mt,st=!!(Nt.state&Ie);if(ve("need readable",st),(0===Nt.length||Nt.length-Tt<Nt.highWaterMark)&&(st=!0,ve("length less than watermark",st)),Nt.ended||Nt.reading||Nt.destroyed||Nt.errored||!Nt.constructed)st=!1,ve("reading, ended or constructing",st);else if(st){ve("do read"),Nt.state|=8|ke,0===Nt.length&&(Nt.state|=Ie);try{this._read(Nt.highWaterMark)}catch(sn){X(this,sn)}Nt.state&=~ke,Nt.reading||(Tt=z(Lt,Nt))}return mt=Tt>0?kt(Tt,Nt):null,null===mt?(Nt.needReadable=Nt.length<=Nt.highWaterMark,Tt=0):(Nt.length-=Tt,Nt.multiAwaitDrain?Nt.awaitDrainWriters.clear():Nt.awaitDrainWriters=null),0===Nt.length&&(Nt.ended||(Nt.needReadable=!0),Lt!==Tt&&Nt.ended&&St(this)),null!==mt&&!Nt.errorEmitted&&!Nt.closeEmitted&&(Nt.dataEmitted=!0,this.emit("data",mt)),mt},Ge.prototype._read=function(Tt){throw new f("_read()")},Ge.prototype.pipe=function(Tt,Nt){const Lt=this,st=this._readableState;1===st.pipes.length&&(st.multiAwaitDrain||(st.multiAwaitDrain=!0,st.awaitDrainWriters=new ee(st.awaitDrainWriters?[st.awaitDrainWriters]:[]))),st.pipes.push(Tt),ve("pipe count=%d opts=%j",st.pipes.length,Nt);const sn=Nt&&!1===Nt.end||Tt===N.stdout||Tt===N.stderr?Ne:xn;function xn(){ve("onend"),Tt.end()}st.endEmitted?N.nextTick(sn):Lt.once("end",sn),Tt.on("unpipe",function Zt(We,Bt){ve("onunpipe"),We===Lt&&Bt&&!1===Bt.hasUnpiped&&(Bt.hasUnpiped=!0,function zn(){ve("cleanup"),Tt.removeListener("close",Jt),Tt.removeListener("finish",dt),cr&&Tt.removeListener("drain",cr),Tt.removeListener("error",qn),Tt.removeListener("unpipe",Zt),Lt.removeListener("end",xn),Lt.removeListener("end",Ne),Lt.removeListener("data",pr),kn=!0,cr&&st.awaitDrainWriters&&(!Tt._writableState||Tt._writableState.needDrain)&&cr()}())});let cr,kn=!1;function qr(){kn||(1===st.pipes.length&&st.pipes[0]===Tt?(ve("false write response, pause",0),st.awaitDrainWriters=Tt,st.multiAwaitDrain=!1):st.pipes.length>1&&st.pipes.includes(Tt)&&(ve("false write response, pause",st.awaitDrainWriters.size),st.awaitDrainWriters.add(Tt)),Lt.pause()),cr||(cr=function Rt(Tt,Nt){return function(){const st=Tt._readableState;st.awaitDrainWriters===Nt?(ve("pipeOnDrain",1),st.awaitDrainWriters=null):st.multiAwaitDrain&&(ve("pipeOnDrain",st.awaitDrainWriters.size),st.awaitDrainWriters.delete(Nt)),(!st.awaitDrainWriters||0===st.awaitDrainWriters.size)&&Tt.listenerCount("data")&&Tt.resume()}}(Lt,Tt),Tt.on("drain",cr))}function pr(We){ve("ondata");const Bt=Tt.write(We);ve("dest.write",Bt),!1===Bt&&qr()}function qn(We){if(ve("onerror",We),Ne(),Tt.removeListener("error",qn),0===Tt.listenerCount("error")){const Bt=Tt._writableState||Tt._readableState;Bt&&!Bt.errorEmitted?X(Tt,We):Tt.emit("error",We)}}function Jt(){Tt.removeListener("finish",dt),Ne()}function dt(){ve("onfinish"),Tt.removeListener("close",Jt),Ne()}function Ne(){ve("unpipe"),Lt.unpipe(Tt)}return Lt.on("data",pr),te(Tt,"error",qn),Tt.once("close",Jt),Tt.once("finish",dt),Tt.emit("pipe",Lt),!0===Tt.writableNeedDrain?qr():st.flowing||(ve("pipe resume"),Lt.resume()),Tt},Ge.prototype.unpipe=function(Tt){const Nt=this._readableState;if(0===Nt.pipes.length)return this;if(!Tt){const mt=Nt.pipes;Nt.pipes=[],this.pause();for(let sn=0;sn<mt.length;sn++)mt[sn].emit("unpipe",this,{hasUnpiped:!1});return this}const st=Y(Nt.pipes,Tt);return-1===st||(Nt.pipes.splice(st,1),0===Nt.pipes.length&&this.pause(),Tt.emit("unpipe",this,{hasUnpiped:!1})),this},Ge.prototype.addListener=Ge.prototype.on=function(Tt,Nt){const Lt=re.prototype.on.call(this,Tt,Nt),st=this._readableState;return"data"===Tt?(st.readableListening=this.listenerCount("readable")>0,!1!==st.flowing&&this.resume()):"readable"===Tt&&!st.endEmitted&&!st.readableListening&&(st.readableListening=st.needReadable=!0,st.flowing=!1,st.emittedReadable=!1,ve("on readable",st.length,st.reading),st.length?Ae(this):st.reading||N.nextTick(dn,this)),Lt},Ge.prototype.off=Ge.prototype.removeListener=function(Tt,Nt){const Lt=re.prototype.removeListener.call(this,Tt,Nt);return"readable"===Tt&&N.nextTick(Vt,this),Lt},Ge.prototype.removeAllListeners=function(Tt){const Nt=re.prototype.removeAllListeners.apply(this,arguments);return("readable"===Tt||void 0===Tt)&&N.nextTick(Vt,this),Nt},Ge.prototype.resume=function(){const Tt=this._readableState;return Tt.flowing||(ve("resume"),Tt.flowing=!Tt.readableListening,function Mn(Tt,Nt){Nt.resumeScheduled||(Nt.resumeScheduled=!0,N.nextTick(En,Tt,Nt))}(this,Tt)),Tt[T]=!1,this},Ge.prototype.pause=function(){return ve("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ve("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[T]=!0,this},Ge.prototype.wrap=function(Tt){let Nt=!1;Tt.on("data",st=>{!this.push(st)&&Tt.pause&&(Nt=!0,Tt.pause())}),Tt.on("end",()=>{this.push(null)}),Tt.on("error",st=>{X(this,st)}),Tt.on("close",()=>{this.destroy()}),Tt.on("destroy",()=>{this.destroy()}),this._read=()=>{Nt&&Tt.resume&&(Nt=!1,Tt.resume())};const Lt=H(Tt);for(let st=1;st<Lt.length;st++){const mt=Lt[st];void 0===this[mt]&&"function"==typeof Tt[mt]&&(this[mt]=Tt[mt].bind(Tt))}return this},Ge.prototype[Q]=function(){return jn(this)},Ge.prototype.iterator=function(Tt){return void 0!==Tt&&$(Tt,"options"),jn(this,Tt)},U(Ge.prototype,{readable:{__proto__:null,get(){const Tt=this._readableState;return!(!Tt||!1===Tt.readable||Tt.destroyed||Tt.errorEmitted||Tt.endEmitted)},set(Tt){this._readableState&&(this._readableState.readable=!!Tt)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Tt){this._readableState&&(this._readableState.flowing=Tt)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(Tt){this._readableState&&(this._readableState.destroyed=Tt)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),U(nt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[T]},set(Tt){this[T]=!!Tt}}}),Ge._fromList=kt,Ge.from=function(Tt,Nt){return E(Ge,Tt,Nt)},Ge.fromWeb=function(Tt,Nt){return Rr().newStreamReadableFromReadableStream(Tt,Nt)},Ge.toWeb=function(Tt,Nt){return Rr().newReadableStreamFromStreamReadable(Tt,Nt)},Ge.wrap=function(Tt,Nt){var Lt,st;return new Ge({objectMode:null===(Lt=null!==(st=Tt.readableObjectMode)&&void 0!==st?st:Tt.objectMode)||void 0===Lt||Lt,...Nt,destroy(mt,sn){Me.destroyer(Tt,mt),sn(mt)}}).wrap(Tt)}},18212:(Ye,J,A)=>{"use strict";const{MathFloor:h,NumberIsInteger:x}=A(56389),{validateInteger:N}=A(99852),{ERR_INVALID_ARG_VALUE:Y}=A(68154).codes;let M=16384,j=16;function U(P){return P?j:M}Ye.exports={getHighWaterMark:function V(P,ee,W,Q){const de=function R(P,ee,W){return null!=P.highWaterMark?P.highWaterMark:ee?P[W]:null}(ee,Q,W);if(null!=de){if(!x(de)||de<0)throw new Y(Q?`options.${W}`:"options.highWaterMark",de);return h(de)}return U(P.objectMode)},getDefaultHighWaterMark:U,setDefaultHighWaterMark:function H(P,ee){N(ee,"value",0),P?j=ee:M=ee}}},71981:(Ye,J,A)=>{"use strict";const{ObjectSetPrototypeOf:h,Symbol:x}=A(56389);Ye.exports=R;const{ERR_METHOD_NOT_IMPLEMENTED:N}=A(68154).codes,Y=A(13323),{getHighWaterMark:M}=A(18212);h(R.prototype,Y.prototype),h(R,Y);const j=x("kCallback");function R(V){if(!(this instanceof R))return new R(V);const P=V?M(this,V,"readableHighWaterMark",!0):null;0===P&&(V={...V,highWaterMark:null,readableHighWaterMark:P,writableHighWaterMark:V.writableHighWaterMark||0}),Y.call(this,V),this._readableState.sync=!1,this[j]=null,V&&("function"==typeof V.transform&&(this._transform=V.transform),"function"==typeof V.flush&&(this._flush=V.flush)),this.on("prefinish",H)}function U(V){"function"!=typeof this._flush||this.destroyed?(this.push(null),V&&V()):this._flush((P,ee)=>{P?V?V(P):this.destroy(P):(null!=ee&&this.push(ee),this.push(null),V&&V())})}function H(){this._final!==U&&U.call(this)}R.prototype._final=U,R.prototype._transform=function(V,P,ee){throw new N("_transform()")},R.prototype._write=function(V,P,ee){const W=this._readableState,Q=this._writableState,de=W.length;this._transform(V,P,(ae,re)=>{ae?ee(ae):(null!=re&&this.push(re),Q.ended||de===W.length||W.length<W.highWaterMark?ee():this[j]=ee)})},R.prototype._read=function(){if(this[j]){const V=this[j];this[j]=null,V()}}},32924:(Ye,J,A)=>{"use strict";const{SymbolAsyncIterator:h,SymbolIterator:x,SymbolFor:N}=A(56389),Y=N("nodejs.stream.destroyed"),M=N("nodejs.stream.errored"),j=N("nodejs.stream.readable"),R=N("nodejs.stream.writable"),U=N("nodejs.stream.disturbed"),H=N("nodejs.webstream.isClosedPromise"),V=N("nodejs.webstream.controllerErrorFunction");function P(E,q=!1){var X;return!(!E||"function"!=typeof E.pipe||"function"!=typeof E.on||q&&("function"!=typeof E.pause||"function"!=typeof E.resume)||E._writableState&&!1===(null===(X=E._readableState)||void 0===X?void 0:X.readable)||E._writableState&&!E._readableState)}function ee(E){var q;return!(!E||"function"!=typeof E.write||"function"!=typeof E.on||E._readableState&&!1===(null===(q=E._writableState)||void 0===q?void 0:q.writable))}function Q(E){return E&&(E._readableState||E._writableState||"function"==typeof E.write&&"function"==typeof E.on||"function"==typeof E.pipe&&"function"==typeof E.on)}function de(E){return!(!E||Q(E)||"function"!=typeof E.pipeThrough||"function"!=typeof E.getReader||"function"!=typeof E.cancel)}function ae(E){return!(!E||Q(E)||"function"!=typeof E.getWriter||"function"!=typeof E.abort)}function re(E){return!(!E||Q(E)||"object"!=typeof E.readable||"object"!=typeof E.writable)}function pe(E){if(!Q(E))return null;const ce=E._writableState||E._readableState;return!!(E.destroyed||E[Y]||null!=ce&&ce.destroyed)}function he(E){if(!ee(E))return null;if(!0===E.writableEnded)return!0;const q=E._writableState;return(null==q||!q.errored)&&("boolean"!=typeof q?.ended?null:q.ended)}function Me(E,q){if(!P(E))return null;const X=E._readableState;return(null==X||!X.errored)&&("boolean"!=typeof X?.endEmitted?null:!!(X.endEmitted||!1===q&&!0===X.ended&&0===X.length))}function Oe(E){return E&&null!=E[j]?E[j]:"boolean"!=typeof E?.readable?null:!pe(E)&&P(E)&&E.readable&&!Me(E)}function je(E){return E&&null!=E[R]?E[R]:"boolean"!=typeof E?.writable?null:!pe(E)&&ee(E)&&E.writable&&!he(E)}function _(E){return"boolean"==typeof E._closed&&"boolean"==typeof E._defaultKeepAlive&&"boolean"==typeof E._removedConnection&&"boolean"==typeof E._removedContLen}function D(E){return"boolean"==typeof E._sent100&&_(E)}Ye.exports={isDestroyed:pe,kIsDestroyed:Y,isDisturbed:function T(E){var q;return!(!E||!(null!==(q=E[U])&&void 0!==q?q:E.readableDidRead||E.readableAborted))},kIsDisturbed:U,isErrored:function c(E){var q,X,ce,me,Te,Ke,Qe,ke,Ie,Xe;return!(!E||!(null!==(q=null!==(X=null!==(ce=null!==(me=null!==(Te=null!==(Ke=E[M])&&void 0!==Ke?Ke:E.readableErrored)&&void 0!==Te?Te:E.writableErrored)&&void 0!==me?me:null===(Qe=E._readableState)||void 0===Qe?void 0:Qe.errorEmitted)&&void 0!==ce?ce:null===(ke=E._writableState)||void 0===ke?void 0:ke.errorEmitted)&&void 0!==X?X:null===(Ie=E._readableState)||void 0===Ie?void 0:Ie.errored)&&void 0!==q?q:null!==(Xe=E._writableState)&&void 0!==Xe&&Xe.errored))},kIsErrored:M,isReadable:Oe,kIsReadable:j,kIsClosedPromise:H,kControllerErrorFunction:V,kIsWritable:R,isClosed:function w(E){if(!Q(E))return null;if("boolean"==typeof E.closed)return E.closed;const q=E._writableState,X=E._readableState;return"boolean"==typeof q?.closed||"boolean"==typeof X?.closed?q?.closed||X?.closed:"boolean"==typeof E._closed&&_(E)?E._closed:null},isDuplexNodeStream:function W(E){return!(!E||"function"!=typeof E.pipe||!E._readableState||"function"!=typeof E.on||"function"!=typeof E.write)},isFinished:function B(E,q){return Q(E)?!!pe(E)||!(!1!==q?.readable&&Oe(E)||!1!==q?.writable&&je(E)):null},isIterable:function ue(E,q){return null!=E&&(!0===q?"function"==typeof E[h]:!1===q?"function"==typeof E[x]:"function"==typeof E[h]||"function"==typeof E[x])},isReadableNodeStream:P,isReadableStream:de,isReadableEnded:function ge(E){if(!P(E))return null;if(!0===E.readableEnded)return!0;const q=E._readableState;return!(!q||q.errored)&&("boolean"!=typeof q?.ended?null:q.ended)},isReadableFinished:Me,isReadableErrored:function f(E){var q,X;return Q(E)?E.readableErrored?E.readableErrored:null!==(q=null===(X=E._readableState)||void 0===X?void 0:X.errored)&&void 0!==q?q:null:null},isNodeStream:Q,isWebStream:function te(E){return de(E)||ae(E)||re(E)},isWritable:je,isWritableNodeStream:ee,isWritableStream:ae,isWritableEnded:he,isWritableFinished:function ve(E,q){if(!ee(E))return null;if(!0===E.writableFinished)return!0;const X=E._writableState;return(null==X||!X.errored)&&("boolean"!=typeof X?.finished?null:!!(X.finished||!1===q&&!0===X.ended&&0===X.length))},isWritableErrored:function l(E){var q,X;return Q(E)?E.writableErrored?E.writableErrored:null!==(q=null===(X=E._writableState)||void 0===X?void 0:X.errored)&&void 0!==q?q:null:null},isServerRequest:function O(E){var q;return"boolean"==typeof E._consuming&&"boolean"==typeof E._dumped&&void 0===(null===(q=E.req)||void 0===q?void 0:q.upgradeOrConnect)},isServerResponse:D,willEmitClose:function $(E){if(!Q(E))return null;const ce=E._writableState||E._readableState;return!ce&&D(E)||!!(ce&&ce.autoDestroy&&ce.emitClose&&!1===ce.closed)},isTransformStream:re}},30009:(Ye,J,A)=>{const h=A(40573),{ArrayPrototypeSlice:x,Error:N,FunctionPrototypeSymbolHasInstance:Y,ObjectDefineProperty:M,ObjectDefineProperties:j,ObjectSetPrototypeOf:R,StringPrototypeToLowerCase:U,Symbol:H,SymbolHasInstance:V}=A(56389);Ye.exports=D,D.WritableState=w;const{EventEmitter:P}=A(44356),ee=A(91242).Stream,{Buffer:W}=A(68316),Q=A(96507),{addAbortSignal:de}=A(57062),{getHighWaterMark:ae,getDefaultHighWaterMark:re}=A(18212),{ERR_INVALID_ARG_TYPE:te,ERR_METHOD_NOT_IMPLEMENTED:ue,ERR_MULTIPLE_CALLBACK:pe,ERR_STREAM_CANNOT_PIPE:he,ERR_STREAM_DESTROYED:ve,ERR_STREAM_ALREADY_FINISHED:ge,ERR_STREAM_NULL_VALUES:Me,ERR_STREAM_WRITE_AFTER_END:Oe,ERR_UNKNOWN_ENCODING:je}=A(68154).codes,{errorOrDestroy:B}=Q;function l(){}R(D.prototype,ee.prototype),R(D,ee);const f=H("kOnFinished");function w(Ee,be,oe){"boolean"!=typeof oe&&(oe=be instanceof A(13323)),this.objectMode=!(!Ee||!Ee.objectMode),oe&&(this.objectMode=this.objectMode||!(!Ee||!Ee.writableObjectMode)),this.highWaterMark=Ee?ae(this,Ee,"writableHighWaterMark",oe):re(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(Ee&&!1===Ee.decodeStrings),this.defaultEncoding=Ee&&Ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=E.bind(void 0,be),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,_(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!Ee||!1!==Ee.emitClose,this.autoDestroy=!Ee||!1!==Ee.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[f]=[]}function _(Ee){Ee.buffered=[],Ee.bufferedIndex=0,Ee.allBuffers=!0,Ee.allNoop=!0}function D(Ee){const be=this instanceof A(13323);if(!be&&!Y(D,this))return new D(Ee);this._writableState=new w(Ee,this,be),Ee&&("function"==typeof Ee.write&&(this._write=Ee.write),"function"==typeof Ee.writev&&(this._writev=Ee.writev),"function"==typeof Ee.destroy&&(this._destroy=Ee.destroy),"function"==typeof Ee.final&&(this._final=Ee.final),"function"==typeof Ee.construct&&(this._construct=Ee.construct),Ee.signal&&de(Ee.signal,this)),ee.call(this,Ee),Q.construct(this,()=>{const oe=this._writableState;oe.writing||me(this,oe),ke(this,oe)})}function O(Ee,be,oe,fe){const we=Ee._writableState;if("function"==typeof oe)fe=oe,oe=we.defaultEncoding;else{if(oe){if("buffer"!==oe&&!W.isEncoding(oe))throw new je(oe)}else oe=we.defaultEncoding;"function"!=typeof fe&&(fe=l)}if(null===be)throw new Me;if(!we.objectMode)if("string"==typeof be)!1!==we.decodeStrings&&(be=W.from(be,oe),oe="buffer");else if(be instanceof W)oe="buffer";else{if(!ee._isUint8Array(be))throw new te("chunk",["string","Buffer","Uint8Array"],be);be=ee._uint8ArrayToBuffer(be),oe="buffer"}let De;return we.ending?De=new Oe:we.destroyed&&(De=new ve("write")),De?(h.nextTick(fe,De),B(Ee,De,!0),De):(we.pendingcb++,function $(Ee,be,oe,fe,we){const De=be.objectMode?1:oe.length;be.length+=De;const $e=be.length<be.highWaterMark;return $e||(be.needDrain=!0),be.writing||be.corked||be.errored||!be.constructed?(be.buffered.push({chunk:oe,encoding:fe,callback:we}),be.allBuffers&&"buffer"!==fe&&(be.allBuffers=!1),be.allNoop&&we!==l&&(be.allNoop=!1)):(be.writelen=De,be.writecb=we,be.writing=!0,be.sync=!0,Ee._write(oe,fe,be.onwrite),be.sync=!1),$e&&!be.errored&&!be.destroyed}(Ee,we,be,oe,fe))}function T(Ee,be,oe,fe,we,De,$e){be.writelen=fe,be.writecb=$e,be.writing=!0,be.sync=!0,be.destroyed?be.onwrite(new ve("write")):oe?Ee._writev(we,be.onwrite):Ee._write(we,De,be.onwrite),be.sync=!1}function c(Ee,be,oe,fe){--be.pendingcb,fe(oe),ce(be),B(Ee,oe)}function E(Ee,be){const oe=Ee._writableState,fe=oe.sync,we=oe.writecb;"function"==typeof we?(oe.writing=!1,oe.writecb=null,oe.length-=oe.writelen,oe.writelen=0,be?(oe.errored||(oe.errored=be),Ee._readableState&&!Ee._readableState.errored&&(Ee._readableState.errored=be),fe?h.nextTick(c,Ee,oe,be,we):c(Ee,oe,be,we)):(oe.buffered.length>oe.bufferedIndex&&me(Ee,oe),fe?null!==oe.afterWriteTickInfo&&oe.afterWriteTickInfo.cb===we?oe.afterWriteTickInfo.count++:(oe.afterWriteTickInfo={count:1,cb:we,stream:Ee,state:oe},h.nextTick(q,oe.afterWriteTickInfo)):X(Ee,oe,1,we))):B(Ee,new pe)}function q({stream:Ee,state:be,count:oe,cb:fe}){return be.afterWriteTickInfo=null,X(Ee,be,oe,fe)}function X(Ee,be,oe,fe){for(!be.ending&&!Ee.destroyed&&0===be.length&&be.needDrain&&(be.needDrain=!1,Ee.emit("drain"));oe-- >0;)be.pendingcb--,fe();be.destroyed&&ce(be),ke(Ee,be)}function ce(Ee){if(Ee.writing)return;for(let we=Ee.bufferedIndex;we<Ee.buffered.length;++we){var be;const{chunk:De,callback:$e}=Ee.buffered[we];Ee.length-=Ee.objectMode?1:De.length,$e(null!==(be=Ee.errored)&&void 0!==be?be:new ve("write"))}const oe=Ee[f].splice(0);for(let we=0;we<oe.length;we++){var fe;oe[we](null!==(fe=Ee.errored)&&void 0!==fe?fe:new ve("end"))}_(Ee)}function me(Ee,be){if(be.corked||be.bufferProcessing||be.destroyed||!be.constructed)return;const{buffered:oe,bufferedIndex:fe,objectMode:we}=be,De=oe.length-fe;if(!De)return;let $e=fe;if(be.bufferProcessing=!0,De>1&&Ee._writev){be.pendingcb-=De-1;const Je=be.allNoop?l:Pt=>{for(let nt=$e;nt<oe.length;++nt)oe[nt].callback(Pt)},Ze=be.allNoop&&0===$e?oe:x(oe,$e);Ze.allBuffers=be.allBuffers,T(Ee,be,!0,be.length,Ze,"",Je),_(be)}else{do{const{chunk:Je,encoding:Ze,callback:Pt}=oe[$e];oe[$e++]=null,T(Ee,be,!1,we?1:Je.length,Je,Ze,Pt)}while($e<oe.length&&!be.writing);$e===oe.length?_(be):$e>256?(oe.splice(0,$e),be.bufferedIndex=0):be.bufferedIndex=$e}be.bufferProcessing=!1}function Te(Ee){return Ee.ending&&!Ee.destroyed&&Ee.constructed&&0===Ee.length&&!Ee.errored&&0===Ee.buffered.length&&!Ee.finished&&!Ee.writing&&!Ee.errorEmitted&&!Ee.closeEmitted}function ke(Ee,be,oe){Te(be)&&(function Qe(Ee,be){!be.prefinished&&!be.finalCalled&&("function"!=typeof Ee._final||be.destroyed?(be.prefinished=!0,Ee.emit("prefinish")):(be.finalCalled=!0,function Ke(Ee,be){let oe=!1;function fe(we){if(oe)B(Ee,we??pe());else if(oe=!0,be.pendingcb--,we){const De=be[f].splice(0);for(let $e=0;$e<De.length;$e++)De[$e](we);B(Ee,we,be.sync)}else Te(be)&&(be.prefinished=!0,Ee.emit("prefinish"),be.pendingcb++,h.nextTick(Ie,Ee,be))}be.sync=!0,be.pendingcb++;try{Ee._final(fe)}catch(we){fe(we)}be.sync=!1}(Ee,be)))}(Ee,be),0===be.pendingcb&&(oe?(be.pendingcb++,h.nextTick((fe,we)=>{Te(we)?Ie(fe,we):we.pendingcb--},Ee,be)):Te(be)&&(be.pendingcb++,Ie(Ee,be))))}function Ie(Ee,be){be.pendingcb--,be.finished=!0;const oe=be[f].splice(0);for(let fe=0;fe<oe.length;fe++)oe[fe]();if(Ee.emit("finish"),be.autoDestroy){const fe=Ee._readableState;(!fe||fe.autoDestroy&&(fe.endEmitted||!1===fe.readable))&&Ee.destroy()}}w.prototype.getBuffer=function(){return x(this.buffered,this.bufferedIndex)},M(w.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),M(D,V,{__proto__:null,value:function(Ee){return!!Y(this,Ee)||this===D&&Ee&&Ee._writableState instanceof w}}),D.prototype.pipe=function(){B(this,new he)},D.prototype.write=function(Ee,be,oe){return!0===O(this,Ee,be,oe)},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){const Ee=this._writableState;Ee.corked&&(Ee.corked--,Ee.writing||me(this,Ee))},D.prototype.setDefaultEncoding=function(be){if("string"==typeof be&&(be=U(be)),!W.isEncoding(be))throw new je(be);return this._writableState.defaultEncoding=be,this},D.prototype._write=function(Ee,be,oe){if(!this._writev)throw new ue("_write()");this._writev([{chunk:Ee,encoding:be}],oe)},D.prototype._writev=null,D.prototype.end=function(Ee,be,oe){const fe=this._writableState;let we;if("function"==typeof Ee?(oe=Ee,Ee=null,be=null):"function"==typeof be&&(oe=be,be=null),null!=Ee){const De=O(this,Ee,be);De instanceof N&&(we=De)}return fe.corked&&(fe.corked=1,this.uncork()),we||(fe.errored||fe.ending?fe.finished?we=new ge("end"):fe.destroyed&&(we=new ve("end")):(fe.ending=!0,ke(this,fe,!0),fe.ended=!0)),"function"==typeof oe&&(we||fe.finished?h.nextTick(oe,we):fe[f].push(oe)),this},j(D.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(Ee){this._writableState&&(this._writableState.destroyed=Ee)}},writable:{__proto__:null,get(){const Ee=this._writableState;return!(!Ee||!1===Ee.writable||Ee.destroyed||Ee.errored||Ee.ending||Ee.ended)},set(Ee){this._writableState&&(this._writableState.writable=!!Ee)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const Ee=this._writableState;return!!Ee&&!Ee.destroyed&&!Ee.ending&&Ee.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Xe=Q.destroy;let Se;function Le(){return void 0===Se&&(Se={}),Se}D.prototype.destroy=function(Ee,be){const oe=this._writableState;return!oe.destroyed&&(oe.bufferedIndex<oe.buffered.length||oe[f].length)&&h.nextTick(ce,oe),Xe.call(this,Ee,be),this},D.prototype._undestroy=Q.undestroy,D.prototype._destroy=function(Ee,be){be(Ee)},D.prototype[P.captureRejectionSymbol]=function(Ee){this.destroy(Ee)},D.fromWeb=function(Ee,be){return Le().newStreamWritableFromWritableStream(Ee,be)},D.toWeb=function(Ee){return Le().newWritableStreamFromStreamWritable(Ee)}},99852:(Ye,J,A)=>{"use strict";const{ArrayIsArray:h,ArrayPrototypeIncludes:x,ArrayPrototypeJoin:N,ArrayPrototypeMap:Y,NumberIsInteger:M,NumberIsNaN:j,NumberMAX_SAFE_INTEGER:R,NumberMIN_SAFE_INTEGER:U,NumberParseInt:H,ObjectPrototypeHasOwnProperty:V,RegExpPrototypeExec:P,String:ee,StringPrototypeToUpperCase:W,StringPrototypeTrim:Q}=A(56389),{hideStackFrames:de,codes:{ERR_SOCKET_BAD_PORT:ae,ERR_INVALID_ARG_TYPE:re,ERR_INVALID_ARG_VALUE:te,ERR_OUT_OF_RANGE:ue,ERR_UNKNOWN_SIGNAL:pe}}=A(68154),{normalizeEncoding:he}=A(13509),{isAsyncFunction:ve,isArrayBufferView:ge}=A(13509).types,Me={},B=/^[0-7]+$/,w=de(($e,Je,Ze=U,Pt=R)=>{if("number"!=typeof $e)throw new re(Je,"number",$e);if(!M($e))throw new ue(Je,"an integer",$e);if($e<Ze||$e>Pt)throw new ue(Je,`>= ${Ze} && <= ${Pt}`,$e)}),_=de(($e,Je,Ze=-2147483648,Pt=2147483647)=>{if("number"!=typeof $e)throw new re(Je,"number",$e);if(!M($e))throw new ue(Je,"an integer",$e);if($e<Ze||$e>Pt)throw new ue(Je,`>= ${Ze} && <= ${Pt}`,$e)}),D=de(($e,Je,Ze=!1)=>{if("number"!=typeof $e)throw new re(Je,"number",$e);if(!M($e))throw new ue(Je,"an integer",$e);const Pt=Ze?1:0,nt=4294967295;if($e<Pt||$e>nt)throw new ue(Je,`>= ${Pt} && <= ${nt}`,$e)});function O($e,Je){if("string"!=typeof $e)throw new re(Je,"string",$e)}const T=de(($e,Je,Ze)=>{if(!x(Ze,$e)){const nt="must be one of: "+N(Y(Ze,Ge=>"string"==typeof Ge?`'${Ge}'`:ee(Ge)),", ");throw new te(Je,$e,nt)}});function c($e,Je){if("boolean"!=typeof $e)throw new re(Je,"boolean",$e)}function E($e,Je,Ze){return null!=$e&&V($e,Je)?$e[Je]:Ze}const q=de(($e,Je,Ze=null)=>{const Pt=E(Ze,"allowArray",!1),nt=E(Ze,"allowFunction",!1);if(!E(Ze,"nullable",!1)&&null===$e||!Pt&&h($e)||"object"!=typeof $e&&(!nt||"function"!=typeof $e))throw new re(Je,"Object",$e)}),X=de(($e,Je)=>{if(null!=$e&&"object"!=typeof $e&&"function"!=typeof $e)throw new re(Je,"a dictionary",$e)}),ce=de(($e,Je,Ze=0)=>{if(!h($e))throw new re(Je,"Array",$e);if($e.length<Ze)throw new te(Je,$e,`must be longer than ${Ze}`)}),ke=de(($e,Je="buffer")=>{if(!ge($e))throw new re(Je,["Buffer","TypedArray","DataView"],$e)}),Se=de(($e,Je)=>{if(void 0!==$e&&(null===$e||"object"!=typeof $e||!("aborted"in $e)))throw new re(Je,"AbortSignal",$e)}),Le=de(($e,Je)=>{if("function"!=typeof $e)throw new re(Je,"Function",$e)}),Ee=de(($e,Je)=>{if("function"!=typeof $e||ve($e))throw new re(Je,"Function",$e)}),be=de(($e,Je)=>{if(void 0!==$e)throw new re(Je,"undefined",$e)}),fe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function we($e,Je){if(typeof $e>"u"||!P(fe,$e))throw new te(Je,$e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Ye.exports={isInt32:function Oe($e){return $e===(0|$e)},isUint32:function je($e){return $e===$e>>>0},parseFileMode:function f($e,Je,Ze){if(typeof $e>"u"&&($e=Ze),"string"==typeof $e){if(null===P(B,$e))throw new te(Je,$e,"must be a 32-bit unsigned integer or an octal string");$e=H($e,8)}return D($e,Je),$e},validateArray:ce,validateStringArray:function me($e,Je){ce($e,Je);for(let Ze=0;Ze<$e.length;Ze++)O($e[Ze],`${Je}[${Ze}]`)},validateBooleanArray:function Te($e,Je){ce($e,Je);for(let Ze=0;Ze<$e.length;Ze++)c($e[Ze],`${Je}[${Ze}]`)},validateAbortSignalArray:function Ke($e,Je){ce($e,Je);for(let Ze=0;Ze<$e.length;Ze++){const Pt=$e[Ze],nt=`${Je}[${Ze}]`;if(null==Pt)throw new re(nt,"AbortSignal",Pt);Se(Pt,nt)}},validateBoolean:c,validateBuffer:ke,validateDictionary:X,validateEncoding:function Ie($e,Je){const Ze=he(Je),Pt=$e.length;if("hex"===Ze&&Pt%2!=0)throw new te("encoding",Je,`is invalid for data of length ${Pt}`)},validateFunction:Le,validateInt32:_,validateInteger:w,validateNumber:function $($e,Je,Ze=void 0,Pt){if("number"!=typeof $e)throw new re(Je,"number",$e);if(null!=Ze&&$e<Ze||null!=Pt&&$e>Pt||(null!=Ze||null!=Pt)&&j($e))throw new ue(Je,`${null!=Ze?`>= ${Ze}`:""}${null!=Ze&&null!=Pt?" && ":""}${null!=Pt?`<= ${Pt}`:""}`,$e)},validateObject:q,validateOneOf:T,validatePlainFunction:Ee,validatePort:function Xe($e,Je="Port",Ze=!0){if("number"!=typeof $e&&"string"!=typeof $e||"string"==typeof $e&&0===Q($e).length||+$e!=+$e>>>0||$e>65535||0===$e&&!Ze)throw new ae(Je,$e,Ze);return 0|$e},validateSignalName:function Qe($e,Je="signal"){if(O($e,Je),void 0===Me[$e])throw void 0!==Me[W($e)]?new pe($e+" (signals must use all capital letters)"):new pe($e)},validateString:O,validateUint32:D,validateUndefined:be,validateUnion:function oe($e,Je,Ze){if(!x(Ze,$e))throw new re(Je,`('${N(Ze,"|")}')`,$e)},validateAbortSignal:Se,validateLinkHeaderValue:function De($e){if("string"==typeof $e)return we($e,"hints"),$e;if(h($e)){const Je=$e.length;let Ze="";if(0===Je)return Ze;for(let Pt=0;Pt<Je;Pt++){const nt=$e[Pt];we(nt,"hints"),Ze+=nt,Pt!==Je-1&&(Ze+=", ")}return Ze}throw new te("hints",$e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},65797:(Ye,J,A)=>{"use strict";const h=A(33885),x=A(74870),N=h.Readable.destroy;Ye.exports=h.Readable,Ye.exports._uint8ArrayToBuffer=h._uint8ArrayToBuffer,Ye.exports._isUint8Array=h._isUint8Array,Ye.exports.isDisturbed=h.isDisturbed,Ye.exports.isErrored=h.isErrored,Ye.exports.isReadable=h.isReadable,Ye.exports.Readable=h.Readable,Ye.exports.Writable=h.Writable,Ye.exports.Duplex=h.Duplex,Ye.exports.Transform=h.Transform,Ye.exports.PassThrough=h.PassThrough,Ye.exports.addAbortSignal=h.addAbortSignal,Ye.exports.finished=h.finished,Ye.exports.destroy=h.destroy,Ye.exports.destroy=N,Ye.exports.pipeline=h.pipeline,Ye.exports.compose=h.compose,Object.defineProperty(h,"promises",{configurable:!0,enumerable:!0,get:()=>x}),Ye.exports.Stream=h.Stream,Ye.exports.default=Ye.exports},68154:(Ye,J,A)=>{"use strict";const{format:h,inspect:x,AggregateError:N}=A(13509),Y=globalThis.AggregateError||N,M=Symbol("kIsNodeError"),j=["string","function","number","object","Function","Object","boolean","bigint","symbol"],R=/^([A-Z][a-z0-9]*)+$/,H={};function V(re,te){if(!re)throw new H.ERR_INTERNAL_ASSERTION(te)}function P(re){let te="",ue=re.length;const pe="-"===re[0]?1:0;for(;ue>=pe+4;ue-=3)te=`_${re.slice(ue-3,ue)}${te}`;return`${re.slice(0,ue)}${te}`}function W(re,te,ue){ue||(ue=Error);class pe extends ue{constructor(...ve){super(function ee(re,te,ue){if("function"==typeof te)return V(te.length<=ue.length,`Code: ${re}; The provided arguments length (${ue.length}) does not match the required ones (${te.length}).`),te(...ue);const pe=(te.match(/%[dfijoOs]/g)||[]).length;return V(pe===ue.length,`Code: ${re}; The provided arguments length (${ue.length}) does not match the required ones (${pe}).`),0===ue.length?te:h(te,...ue)}(re,te,ve))}toString(){return`${this.name} [${re}]: ${this.message}`}}Object.defineProperties(pe.prototype,{name:{value:ue.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${re}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),pe.prototype.code=re,pe.prototype[M]=!0,H[re]=pe}function Q(re){return Object.defineProperty(re,"name",{value:"__node_internal_"+re.name}),re}class ae extends Error{constructor(te="The operation was aborted",ue=void 0){if(void 0!==ue&&"object"!=typeof ue)throw new H.ERR_INVALID_ARG_TYPE("options","Object",ue);super(te,ue),this.code="ABORT_ERR",this.name="AbortError"}}W("ERR_ASSERTION","%s",Error),W("ERR_INVALID_ARG_TYPE",(re,te,ue)=>{V("string"==typeof re,"'name' must be a string"),Array.isArray(te)||(te=[te]);let pe="The ";re.endsWith(" argument")?pe+=`${re} `:pe+=`"${re}" ${re.includes(".")?"property":"argument"} `,pe+="must be ";const he=[],ve=[],ge=[];for(const Oe of te)V("string"==typeof Oe,"All expected entries have to be of type string"),j.includes(Oe)?he.push(Oe.toLowerCase()):R.test(Oe)?ve.push(Oe):(V("object"!==Oe,'The value "object" should be written as "Object"'),ge.push(Oe));if(ve.length>0){const Oe=he.indexOf("object");-1!==Oe&&(he.splice(he,Oe,1),ve.push("Object"))}if(he.length>0){switch(he.length){case 1:pe+=`of type ${he[0]}`;break;case 2:pe+=`one of type ${he[0]} or ${he[1]}`;break;default:{const Oe=he.pop();pe+=`one of type ${he.join(", ")}, or ${Oe}`}}(ve.length>0||ge.length>0)&&(pe+=" or ")}if(ve.length>0){switch(ve.length){case 1:pe+=`an instance of ${ve[0]}`;break;case 2:pe+=`an instance of ${ve[0]} or ${ve[1]}`;break;default:{const Oe=ve.pop();pe+=`an instance of ${ve.join(", ")}, or ${Oe}`}}ge.length>0&&(pe+=" or ")}switch(ge.length){case 0:break;case 1:ge[0].toLowerCase()!==ge[0]&&(pe+="an "),pe+=`${ge[0]}`;break;case 2:pe+=`one of ${ge[0]} or ${ge[1]}`;break;default:{const Oe=ge.pop();pe+=`one of ${ge.join(", ")}, or ${Oe}`}}if(null==ue)pe+=`. Received ${ue}`;else if("function"==typeof ue&&ue.name)pe+=`. Received function ${ue.name}`;else if("object"==typeof ue){var Me;null!==(Me=ue.constructor)&&void 0!==Me&&Me.name?pe+=`. Received an instance of ${ue.constructor.name}`:pe+=`. Received ${x(ue,{depth:-1})}`}else{let Oe=x(ue,{colors:!1});Oe.length>25&&(Oe=`${Oe.slice(0,25)}...`),pe+=`. Received type ${typeof ue} (${Oe})`}return pe},TypeError),W("ERR_INVALID_ARG_VALUE",(re,te,ue="is invalid")=>{let pe=x(te);return pe.length>128&&(pe=pe.slice(0,128)+"..."),`The ${re.includes(".")?"property":"argument"} '${re}' ${ue}. Received ${pe}`},TypeError),W("ERR_INVALID_RETURN_VALUE",(re,te,ue)=>{var pe;return`Expected ${re} to be returned from the "${te}" function but got ${null!=ue&&null!==(pe=ue.constructor)&&void 0!==pe&&pe.name?`instance of ${ue.constructor.name}`:"type "+typeof ue}.`},TypeError),W("ERR_MISSING_ARGS",(...re)=>{let te;V(re.length>0,"At least one arg needs to be specified");const ue=re.length;switch(re=(Array.isArray(re)?re:[re]).map(pe=>`"${pe}"`).join(" or "),ue){case 1:te+=`The ${re[0]} argument`;break;case 2:te+=`The ${re[0]} and ${re[1]} arguments`;break;default:{const pe=re.pop();te+=`The ${re.join(", ")}, and ${pe} arguments`}}return`${te} must be specified`},TypeError),W("ERR_OUT_OF_RANGE",(re,te,ue)=>{let pe;return V(te,'Missing "range" argument'),Number.isInteger(ue)&&Math.abs(ue)>2**32?pe=P(String(ue)):"bigint"==typeof ue?(pe=String(ue),(ue>2n**32n||ue<-(2n**32n))&&(pe=P(pe)),pe+="n"):pe=x(ue),`The value of "${re}" is out of range. It must be ${te}. Received ${pe}`},RangeError),W("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),W("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),W("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),W("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),W("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),W("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),W("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),W("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),W("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),W("ERR_STREAM_WRITE_AFTER_END","write after end",Error),W("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Ye.exports={AbortError:ae,aggregateTwoErrors:Q(function de(re,te){if(re&&te&&re!==te){if(Array.isArray(te.errors))return te.errors.push(re),te;const ue=new Y([te,re],te.message);return ue.code=te.code,ue}return re||te}),hideStackFrames:Q,codes:H}},56389:Ye=>{"use strict";Ye.exports={ArrayIsArray:J=>Array.isArray(J),ArrayPrototypeIncludes:(J,A)=>J.includes(A),ArrayPrototypeIndexOf:(J,A)=>J.indexOf(A),ArrayPrototypeJoin:(J,A)=>J.join(A),ArrayPrototypeMap:(J,A)=>J.map(A),ArrayPrototypePop:(J,A)=>J.pop(A),ArrayPrototypePush:(J,A)=>J.push(A),ArrayPrototypeSlice:(J,A,h)=>J.slice(A,h),Error,FunctionPrototypeCall:(J,A,...h)=>J.call(A,...h),FunctionPrototypeSymbolHasInstance:(J,A)=>Function.prototype[Symbol.hasInstance].call(J,A),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(J,A)=>Object.defineProperties(J,A),ObjectDefineProperty:(J,A,h)=>Object.defineProperty(J,A,h),ObjectGetOwnPropertyDescriptor:(J,A)=>Object.getOwnPropertyDescriptor(J,A),ObjectKeys:J=>Object.keys(J),ObjectSetPrototypeOf:(J,A)=>Object.setPrototypeOf(J,A),Promise,PromisePrototypeCatch:(J,A)=>J.catch(A),PromisePrototypeThen:(J,A,h)=>J.then(A,h),PromiseReject:J=>Promise.reject(J),PromiseResolve:J=>Promise.resolve(J),ReflectApply:Reflect.apply,RegExpPrototypeTest:(J,A)=>J.test(A),SafeSet:Set,String,StringPrototypeSlice:(J,A,h)=>J.slice(A,h),StringPrototypeToLowerCase:J=>J.toLowerCase(),StringPrototypeToUpperCase:J=>J.toUpperCase(),StringPrototypeTrim:J=>J.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(J,A,h)=>J.set(A,h),Boolean,Uint8Array}},13509:(Ye,J,A)=>{"use strict";var h=A(29293).default;const x=A(68316),{kResistStopPropagation:N,SymbolDispose:Y}=A(56389),M=globalThis.AbortSignal||A(9465).AbortSignal,j=globalThis.AbortController||A(9465).AbortController,R=Object.getPrototypeOf(h(function*(){})).constructor,U=globalThis.Blob||x.Blob,H=typeof U<"u"?function(Q){return Q instanceof U}:function(Q){return!1},V=(W,Q)=>{if(void 0!==W&&(null===W||"object"!=typeof W||!("aborted"in W)))throw new ERR_INVALID_ARG_TYPE(Q,"AbortSignal",W)};class ee extends Error{constructor(Q){if(!Array.isArray(Q))throw new TypeError("Expected input to be an Array, got "+typeof Q);let de="";for(let ae=0;ae<Q.length;ae++)de+=`    ${Q[ae].stack}\n`;super(de),this.name="AggregateError",this.errors=Q}}Ye.exports={AggregateError:ee,kEmptyObject:Object.freeze({}),once(W){let Q=!1;return function(...de){Q||(Q=!0,W.apply(this,de))}},createDeferredPromise:function(){let W,Q;return{promise:new Promise((ae,re)=>{W=ae,Q=re}),resolve:W,reject:Q}},promisify:W=>new Promise((Q,de)=>{W((ae,...re)=>ae?de(ae):Q(...re))}),debuglog:()=>function(){},format:(W,...Q)=>W.replace(/%([sdifj])/g,function(...[de,ae]){const re=Q.shift();return"f"===ae?re.toFixed(6):"j"===ae?JSON.stringify(re):"s"===ae&&"object"==typeof re?`${re.constructor!==Object?re.constructor.name:""} {}`.trim():re.toString()}),inspect(W){switch(typeof W){case"string":if(W.includes("'")){if(!W.includes('"'))return`"${W}"`;if(!W.includes("`")&&!W.includes("${"))return`\`${W}\``}return`'${W}'`;case"number":return isNaN(W)?"NaN":Object.is(W,-0)?String(W):W;case"bigint":return`${String(W)}n`;case"boolean":case"undefined":return String(W);case"object":return"{}"}},types:{isAsyncFunction:W=>W instanceof R,isArrayBufferView:W=>ArrayBuffer.isView(W)},isBlob:H,deprecate:(W,Q)=>W,addAbortListener:A(44356).addAbortListener||function(Q,de){if(void 0===Q)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",Q);let ae;return V(Q,"signal"),((W,Q)=>{if("function"!=typeof W)throw new ERR_INVALID_ARG_TYPE("listener","Function",W)})(de),Q.aborted?queueMicrotask(()=>de()):(Q.addEventListener("abort",de,{__proto__:null,once:!0,[N]:!0}),ae=()=>{Q.removeEventListener("abort",de)}),{__proto__:null,[Y](){var re;null===(re=ae)||void 0===re||re()}}},AbortSignalAny:M.any||function(Q){if(1===Q.length)return Q[0];const de=new j,ae=()=>de.abort();return Q.forEach(re=>{V(re,"signals"),re.addEventListener("abort",ae,{once:!0})}),de.signal.addEventListener("abort",()=>{Q.forEach(re=>re.removeEventListener("abort",ae))},{once:!0}),de.signal}},Ye.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},33885:(Ye,J,A)=>{const{Buffer:h}=A(68316),{ObjectDefineProperty:x,ObjectKeys:N,ReflectApply:Y}=A(56389),{promisify:{custom:M}}=A(13509),{streamReturningOperators:j,promiseReturningOperators:R}=A(21840),{codes:{ERR_ILLEGAL_CONSTRUCTOR:U}}=A(68154),H=A(373),{setDefaultHighWaterMark:V,getDefaultHighWaterMark:P}=A(18212),{pipeline:ee}=A(67843),{destroyer:W}=A(96507),Q=A(46017),ae=A(74870),re=A(32924),te=Ye.exports=A(91242).Stream;te.isDestroyed=re.isDestroyed,te.isDisturbed=re.isDisturbed,te.isErrored=re.isErrored,te.isReadable=re.isReadable,te.isWritable=re.isWritable,te.Readable=A(84553);for(const he of N(j)){let ge=function(...Me){if(new.target)throw U();return te.Readable.from(Y(ve,this,Me))};const ve=j[he];x(ge,"name",{__proto__:null,value:ve.name}),x(ge,"length",{__proto__:null,value:ve.length}),x(te.Readable.prototype,he,{__proto__:null,value:ge,enumerable:!1,configurable:!0,writable:!0})}for(const he of N(R)){let ge=function(...Oe){if(new.target)throw U();return Y(ve,this,Oe)};const ve=R[he];x(ge,"name",{__proto__:null,value:ve.name}),x(ge,"length",{__proto__:null,value:ve.length}),x(te.Readable.prototype,he,{__proto__:null,value:ge,enumerable:!1,configurable:!0,writable:!0})}te.Writable=A(30009),te.Duplex=A(13323),te.Transform=A(71981),te.PassThrough=A(59447),te.pipeline=ee;const{addAbortSignal:ue}=A(57062);te.addAbortSignal=ue,te.finished=Q,te.destroy=W,te.compose=H,te.setDefaultHighWaterMark=V,te.getDefaultHighWaterMark=P,x(te,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>ae}),x(ee,M,{__proto__:null,enumerable:!0,get:()=>ae.pipeline}),x(Q,M,{__proto__:null,enumerable:!0,get:()=>ae.finished}),te.Stream=te,te._isUint8Array=function(ve){return ve instanceof Uint8Array},te._uint8ArrayToBuffer=function(ve){return h.from(ve.buffer,ve.byteOffset,ve.byteLength)}},74870:(Ye,J,A)=>{"use strict";const{ArrayPrototypePop:h,Promise:x}=A(56389),{isIterable:N,isNodeStream:Y,isWebStream:M}=A(32924),{pipelineImpl:j}=A(67843),{finished:R}=A(46017);A(33885),Ye.exports={finished:R,pipeline:function U(...H){return new x((V,P)=>{let ee,W;const Q=H[H.length-1];if(Q&&"object"==typeof Q&&!Y(Q)&&!N(Q)&&!M(Q)){const de=h(H);ee=de.signal,W=de.end}j(H,(de,ae)=>{de?P(de):V(ae)},{signal:ee,end:W})})}}},94787:(Ye,J,A)=>{J.Level=A(23963).BrowserLevel},81447:Ye=>{var J=1e3,A=60*J,h=60*A,x=24*h,N=7*x;function U(H,V,P,ee){var W=V>=1.5*P;return Math.round(H/P)+" "+ee+(W?"s":"")}Ye.exports=function(H,V){V=V||{};var P=typeof H;if("string"===P&&H.length>0)return function M(H){if(!((H=String(H)).length>100)){var V=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(H);if(V){var P=parseFloat(V[1]);switch((V[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*P;case"weeks":case"week":case"w":return P*N;case"days":case"day":case"d":return P*x;case"hours":case"hour":case"hrs":case"hr":case"h":return P*h;case"minutes":case"minute":case"mins":case"min":case"m":return P*A;case"seconds":case"second":case"secs":case"sec":case"s":return P*J;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return P;default:return}}}}(H);if("number"===P&&isFinite(H))return V.long?function R(H){var V=Math.abs(H);return V>=x?U(H,V,x,"day"):V>=h?U(H,V,h,"hour"):V>=A?U(H,V,A,"minute"):V>=J?U(H,V,J,"second"):H+" ms"}(H):function j(H){var V=Math.abs(H);return V>=x?Math.round(H/x)+"d":V>=h?Math.round(H/h)+"h":V>=A?Math.round(H/A)+"m":V>=J?Math.round(H/J)+"s":H+"ms"}(H);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(H))}},1424:(Ye,J,A)=>{A(23963)},44514:Ye=>{var J=1e3,A=60*J,h=60*A,x=24*h,N=7*x;function U(H,V,P,ee){var W=V>=1.5*P;return Math.round(H/P)+" "+ee+(W?"s":"")}Ye.exports=function(H,V){V=V||{};var P=typeof H;if("string"===P&&H.length>0)return function M(H){if(!((H=String(H)).length>100)){var V=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(H);if(V){var P=parseFloat(V[1]);switch((V[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*P;case"weeks":case"week":case"w":return P*N;case"days":case"day":case"d":return P*x;case"hours":case"hour":case"hrs":case"hr":case"h":return P*h;case"minutes":case"minute":case"mins":case"min":case"m":return P*A;case"seconds":case"second":case"secs":case"sec":case"s":return P*J;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return P;default:return}}}}(H);if("number"===P&&isFinite(H))return V.long?function R(H){var V=Math.abs(H);return V>=x?U(H,V,x,"day"):V>=h?U(H,V,h,"hour"):V>=A?U(H,V,A,"minute"):V>=J?U(H,V,J,"second"):H+" ms"}(H):function j(H){var V=Math.abs(H);return V>=x?Math.round(H/x)+"d":V>=h?Math.round(H/h)+"h":V>=A?Math.round(H/A)+"m":V>=J?Math.round(H/J)+"s":H+"ms"}(H);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(H))}},89565:(Ye,J,A)=>{"use strict";const h=A(13981),x=A(22020),N="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;J.Buffer=R,J.SlowBuffer=function te(K){return+K!=K&&(K=0),R.alloc(+K)},J.INSPECT_MAX_BYTES=50;const Y=2147483647;function j(K){if(K>Y)throw new RangeError('The value "'+K+'" is invalid for option "size"');const C=new Uint8Array(K);return Object.setPrototypeOf(C,R.prototype),C}function R(K,C,b){if("number"==typeof K){if("string"==typeof C)throw new TypeError('The "string" argument must be of type string. Received type number');return P(K)}return U(K,C,b)}function U(K,C,b){if("string"==typeof K)return function ee(K,C){if(("string"!=typeof C||""===C)&&(C="utf8"),!R.isEncoding(C))throw new TypeError("Unknown encoding: "+C);const b=0|ue(K,C);let z=j(b);const le=z.write(K,C);return le!==b&&(z=z.slice(0,le)),z}(K,C);if(ArrayBuffer.isView(K))return function Q(K){if(Ze(K,Uint8Array)){const C=new Uint8Array(K);return de(C.buffer,C.byteOffset,C.byteLength)}return W(K)}(K);if(null==K)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(Ze(K,ArrayBuffer)||K&&Ze(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ze(K,SharedArrayBuffer)||K&&Ze(K.buffer,SharedArrayBuffer)))return de(K,C,b);if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');const z=K.valueOf&&K.valueOf();if(null!=z&&z!==K)return R.from(z,C,b);const le=function ae(K){if(R.isBuffer(K)){const C=0|re(K.length),b=j(C);return 0===b.length||K.copy(b,0,0,C),b}return void 0!==K.length?"number"!=typeof K.length||Pt(K.length)?j(0):W(K):"Buffer"===K.type&&Array.isArray(K.data)?W(K.data):void 0}(K);if(le)return le;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return R.from(K[Symbol.toPrimitive]("string"),C,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function H(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function P(K){return H(K),j(K<0?0:0|re(K))}function W(K){const C=K.length<0?0:0|re(K.length),b=j(C);for(let z=0;z<C;z+=1)b[z]=255&K[z];return b}function de(K,C,b){if(C<0||K.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<C+(b||0))throw new RangeError('"length" is outside of buffer bounds');let z;return z=void 0===C&&void 0===b?new Uint8Array(K):void 0===b?new Uint8Array(K,C):new Uint8Array(K,C,b),Object.setPrototypeOf(z,R.prototype),z}function re(K){if(K>=Y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Y.toString(16)+" bytes");return 0|K}function ue(K,C){if(R.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||Ze(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const b=K.length,z=arguments.length>2&&!0===arguments[2];if(!z&&0===b)return 0;let le=!1;for(;;)switch(C){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return fe(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*b;case"hex":return b>>>1;case"base64":return $e(K).length;default:if(le)return z?-1:fe(K).length;C=(""+C).toLowerCase(),le=!0}}function pe(K,C,b){let z=!1;if((void 0===C||C<0)&&(C=0),C>this.length||((void 0===b||b>this.length)&&(b=this.length),b<=0)||(b>>>=0)<=(C>>>=0))return"";for(K||(K="utf8");;)switch(K){case"hex":return T(this,C,b);case"utf8":case"utf-8":return w(this,C,b);case"ascii":return O(this,C,b);case"latin1":case"binary":return $(this,C,b);case"base64":return f(this,C,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c(this,C,b);default:if(z)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),z=!0}}function he(K,C,b){const z=K[C];K[C]=K[b],K[b]=z}function ve(K,C,b,z,le){if(0===K.length)return-1;if("string"==typeof b?(z=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),Pt(b=+b)&&(b=le?0:K.length-1),b<0&&(b=K.length+b),b>=K.length){if(le)return-1;b=K.length-1}else if(b<0){if(!le)return-1;b=0}if("string"==typeof C&&(C=R.from(C,z)),R.isBuffer(C))return 0===C.length?-1:ge(K,C,b,z,le);if("number"==typeof C)return C&=255,"function"==typeof Uint8Array.prototype.indexOf?le?Uint8Array.prototype.indexOf.call(K,C,b):Uint8Array.prototype.lastIndexOf.call(K,C,b):ge(K,[C],b,z,le);throw new TypeError("val must be string, number or Buffer")}function ge(K,C,b,z,le){let Rt,Ae=1,Be=K.length,ft=C.length;if(void 0!==z&&("ucs2"===(z=String(z).toLowerCase())||"ucs-2"===z||"utf16le"===z||"utf-16le"===z)){if(K.length<2||C.length<2)return-1;Ae=2,Be/=2,ft/=2,b/=2}function Yt(Vt,dn){return 1===Ae?Vt[dn]:Vt.readUInt16BE(dn*Ae)}if(le){let Vt=-1;for(Rt=b;Rt<Be;Rt++)if(Yt(K,Rt)===Yt(C,-1===Vt?0:Rt-Vt)){if(-1===Vt&&(Vt=Rt),Rt-Vt+1===ft)return Vt*Ae}else-1!==Vt&&(Rt-=Rt-Vt),Vt=-1}else for(b+ft>Be&&(b=Be-ft),Rt=b;Rt>=0;Rt--){let Vt=!0;for(let dn=0;dn<ft;dn++)if(Yt(K,Rt+dn)!==Yt(C,dn)){Vt=!1;break}if(Vt)return Rt}return-1}function Me(K,C,b,z){b=Number(b)||0;const le=K.length-b;z?(z=Number(z))>le&&(z=le):z=le;const Ae=C.length;let Be;for(z>Ae/2&&(z=Ae/2),Be=0;Be<z;++Be){const ft=parseInt(C.substr(2*Be,2),16);if(Pt(ft))return Be;K[b+Be]=ft}return Be}function Oe(K,C,b,z){return Je(fe(C,K.length-b),K,b,z)}function je(K,C,b,z){return Je(function we(K){const C=[];for(let b=0;b<K.length;++b)C.push(255&K.charCodeAt(b));return C}(C),K,b,z)}function B(K,C,b,z){return Je($e(C),K,b,z)}function l(K,C,b,z){return Je(function De(K,C){let b,z,le;const Ae=[];for(let Be=0;Be<K.length&&!((C-=2)<0);++Be)b=K.charCodeAt(Be),z=b>>8,le=b%256,Ae.push(le),Ae.push(z);return Ae}(C,K.length-b),K,b,z)}function f(K,C,b){return h.fromByteArray(0===C&&b===K.length?K:K.slice(C,b))}function w(K,C,b){b=Math.min(K.length,b);const z=[];let le=C;for(;le<b;){const Ae=K[le];let Be=null,ft=Ae>239?4:Ae>223?3:Ae>191?2:1;if(le+ft<=b){let Yt,Rt,Vt,dn;switch(ft){case 1:Ae<128&&(Be=Ae);break;case 2:Yt=K[le+1],128==(192&Yt)&&(dn=(31&Ae)<<6|63&Yt,dn>127&&(Be=dn));break;case 3:Yt=K[le+1],Rt=K[le+2],128==(192&Yt)&&128==(192&Rt)&&(dn=(15&Ae)<<12|(63&Yt)<<6|63&Rt,dn>2047&&(dn<55296||dn>57343)&&(Be=dn));break;case 4:Yt=K[le+1],Rt=K[le+2],Vt=K[le+3],128==(192&Yt)&&128==(192&Rt)&&128==(192&Vt)&&(dn=(15&Ae)<<18|(63&Yt)<<12|(63&Rt)<<6|63&Vt,dn>65535&&dn<1114112&&(Be=dn))}}null===Be?(Be=65533,ft=1):Be>65535&&(Be-=65536,z.push(Be>>>10&1023|55296),Be=56320|1023&Be),z.push(Be),le+=ft}return function D(K){const C=K.length;if(C<=_)return String.fromCharCode.apply(String,K);let b="",z=0;for(;z<C;)b+=String.fromCharCode.apply(String,K.slice(z,z+=_));return b}(z)}J.kMaxLength=Y,!(R.TYPED_ARRAY_SUPPORT=function M(){try{const K=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(K,C),42===K.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(R.prototype,"parent",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.buffer}}),Object.defineProperty(R.prototype,"offset",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.byteOffset}}),R.poolSize=8192,R.from=function(K,C,b){return U(K,C,b)},Object.setPrototypeOf(R.prototype,Uint8Array.prototype),Object.setPrototypeOf(R,Uint8Array),R.alloc=function(K,C,b){return function V(K,C,b){return H(K),K<=0?j(K):void 0!==C?"string"==typeof b?j(K).fill(C,b):j(K).fill(C):j(K)}(K,C,b)},R.allocUnsafe=function(K){return P(K)},R.allocUnsafeSlow=function(K){return P(K)},R.isBuffer=function(C){return null!=C&&!0===C._isBuffer&&C!==R.prototype},R.compare=function(C,b){if(Ze(C,Uint8Array)&&(C=R.from(C,C.offset,C.byteLength)),Ze(b,Uint8Array)&&(b=R.from(b,b.offset,b.byteLength)),!R.isBuffer(C)||!R.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===b)return 0;let z=C.length,le=b.length;for(let Ae=0,Be=Math.min(z,le);Ae<Be;++Ae)if(C[Ae]!==b[Ae]){z=C[Ae],le=b[Ae];break}return z<le?-1:le<z?1:0},R.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},R.concat=function(C,b){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(0===C.length)return R.alloc(0);let z;if(void 0===b)for(b=0,z=0;z<C.length;++z)b+=C[z].length;const le=R.allocUnsafe(b);let Ae=0;for(z=0;z<C.length;++z){let Be=C[z];if(Ze(Be,Uint8Array))Ae+Be.length>le.length?(R.isBuffer(Be)||(Be=R.from(Be)),Be.copy(le,Ae)):Uint8Array.prototype.set.call(le,Be,Ae);else{if(!R.isBuffer(Be))throw new TypeError('"list" argument must be an Array of Buffers');Be.copy(le,Ae)}Ae+=Be.length}return le},R.byteLength=ue,R.prototype._isBuffer=!0,R.prototype.swap16=function(){const C=this.length;if(C%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<C;b+=2)he(this,b,b+1);return this},R.prototype.swap32=function(){const C=this.length;if(C%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<C;b+=4)he(this,b,b+3),he(this,b+1,b+2);return this},R.prototype.swap64=function(){const C=this.length;if(C%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<C;b+=8)he(this,b,b+7),he(this,b+1,b+6),he(this,b+2,b+5),he(this,b+3,b+4);return this},R.prototype.toLocaleString=R.prototype.toString=function(){const C=this.length;return 0===C?"":0===arguments.length?w(this,0,C):pe.apply(this,arguments)},R.prototype.equals=function(C){if(!R.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C||0===R.compare(this,C)},R.prototype.inspect=function(){let C="";const b=J.INSPECT_MAX_BYTES;return C=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(C+=" ... "),"<Buffer "+C+">"},N&&(R.prototype[N]=R.prototype.inspect),R.prototype.compare=function(C,b,z,le,Ae){if(Ze(C,Uint8Array)&&(C=R.from(C,C.offset,C.byteLength)),!R.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(void 0===b&&(b=0),void 0===z&&(z=C?C.length:0),void 0===le&&(le=0),void 0===Ae&&(Ae=this.length),b<0||z>C.length||le<0||Ae>this.length)throw new RangeError("out of range index");if(le>=Ae&&b>=z)return 0;if(le>=Ae)return-1;if(b>=z)return 1;if(this===C)return 0;let Be=(Ae>>>=0)-(le>>>=0),ft=(z>>>=0)-(b>>>=0);const Yt=Math.min(Be,ft),Rt=this.slice(le,Ae),Vt=C.slice(b,z);for(let dn=0;dn<Yt;++dn)if(Rt[dn]!==Vt[dn]){Be=Rt[dn],ft=Vt[dn];break}return Be<ft?-1:ft<Be?1:0},R.prototype.includes=function(C,b,z){return-1!==this.indexOf(C,b,z)},R.prototype.indexOf=function(C,b,z){return ve(this,C,b,z,!0)},R.prototype.lastIndexOf=function(C,b,z){return ve(this,C,b,z,!1)},R.prototype.write=function(C,b,z,le){if(void 0===b)le="utf8",z=this.length,b=0;else if(void 0===z&&"string"==typeof b)le=b,z=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b>>>=0,isFinite(z)?(z>>>=0,void 0===le&&(le="utf8")):(le=z,z=void 0)}const Ae=this.length-b;if((void 0===z||z>Ae)&&(z=Ae),C.length>0&&(z<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let Be=!1;for(;;)switch(le){case"hex":return Me(this,C,b,z);case"utf8":case"utf-8":return Oe(this,C,b,z);case"ascii":case"latin1":case"binary":return je(this,C,b,z);case"base64":return B(this,C,b,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,C,b,z);default:if(Be)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Be=!0}},R.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const _=4096;function O(K,C,b){let z="";b=Math.min(K.length,b);for(let le=C;le<b;++le)z+=String.fromCharCode(127&K[le]);return z}function $(K,C,b){let z="";b=Math.min(K.length,b);for(let le=C;le<b;++le)z+=String.fromCharCode(K[le]);return z}function T(K,C,b){const z=K.length;(!C||C<0)&&(C=0),(!b||b<0||b>z)&&(b=z);let le="";for(let Ae=C;Ae<b;++Ae)le+=nt[K[Ae]];return le}function c(K,C,b){const z=K.slice(C,b);let le="";for(let Ae=0;Ae<z.length-1;Ae+=2)le+=String.fromCharCode(z[Ae]+256*z[Ae+1]);return le}function E(K,C,b){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+C>b)throw new RangeError("Trying to access beyond buffer length")}function q(K,C,b,z,le,Ae){if(!R.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>le||C<Ae)throw new RangeError('"value" argument is out of bounds');if(b+z>K.length)throw new RangeError("Index out of range")}function X(K,C,b,z,le){Se(C,z,le,K,b,7);let Ae=Number(C&BigInt(4294967295));K[b++]=Ae,Ae>>=8,K[b++]=Ae,Ae>>=8,K[b++]=Ae,Ae>>=8,K[b++]=Ae;let Be=Number(C>>BigInt(32)&BigInt(4294967295));return K[b++]=Be,Be>>=8,K[b++]=Be,Be>>=8,K[b++]=Be,Be>>=8,K[b++]=Be,b}function ce(K,C,b,z,le){Se(C,z,le,K,b,7);let Ae=Number(C&BigInt(4294967295));K[b+7]=Ae,Ae>>=8,K[b+6]=Ae,Ae>>=8,K[b+5]=Ae,Ae>>=8,K[b+4]=Ae;let Be=Number(C>>BigInt(32)&BigInt(4294967295));return K[b+3]=Be,Be>>=8,K[b+2]=Be,Be>>=8,K[b+1]=Be,Be>>=8,K[b]=Be,b+8}function me(K,C,b,z,le,Ae){if(b+z>K.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function Te(K,C,b,z,le){return C=+C,b>>>=0,le||me(K,0,b,4),x.write(K,C,b,z,23,4),b+4}function Ke(K,C,b,z,le){return C=+C,b>>>=0,le||me(K,0,b,8),x.write(K,C,b,z,52,8),b+8}R.prototype.slice=function(C,b){const z=this.length;(C=~~C)<0?(C+=z)<0&&(C=0):C>z&&(C=z),(b=void 0===b?z:~~b)<0?(b+=z)<0&&(b=0):b>z&&(b=z),b<C&&(b=C);const le=this.subarray(C,b);return Object.setPrototypeOf(le,R.prototype),le},R.prototype.readUintLE=R.prototype.readUIntLE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=this[C],Ae=1,Be=0;for(;++Be<b&&(Ae*=256);)le+=this[C+Be]*Ae;return le},R.prototype.readUintBE=R.prototype.readUIntBE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=this[C+--b],Ae=1;for(;b>0&&(Ae*=256);)le+=this[C+--b]*Ae;return le},R.prototype.readUint8=R.prototype.readUInt8=function(C,b){return C>>>=0,b||E(C,1,this.length),this[C]},R.prototype.readUint16LE=R.prototype.readUInt16LE=function(C,b){return C>>>=0,b||E(C,2,this.length),this[C]|this[C+1]<<8},R.prototype.readUint16BE=R.prototype.readUInt16BE=function(C,b){return C>>>=0,b||E(C,2,this.length),this[C]<<8|this[C+1]},R.prototype.readUint32LE=R.prototype.readUInt32LE=function(C,b){return C>>>=0,b||E(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+16777216*this[C+3]},R.prototype.readUint32BE=R.prototype.readUInt32BE=function(C,b){return C>>>=0,b||E(C,4,this.length),16777216*this[C]+(this[C+1]<<16|this[C+2]<<8|this[C+3])},R.prototype.readBigUInt64LE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];(void 0===b||void 0===z)&&Ee(C,this.length-8);const le=b+256*this[++C]+65536*this[++C]+this[++C]*2**24,Ae=this[++C]+256*this[++C]+65536*this[++C]+z*2**24;return BigInt(le)+(BigInt(Ae)<<BigInt(32))}),R.prototype.readBigUInt64BE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];(void 0===b||void 0===z)&&Ee(C,this.length-8);const le=b*2**24+65536*this[++C]+256*this[++C]+this[++C],Ae=this[++C]*2**24+65536*this[++C]+256*this[++C]+z;return(BigInt(le)<<BigInt(32))+BigInt(Ae)}),R.prototype.readIntLE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=this[C],Ae=1,Be=0;for(;++Be<b&&(Ae*=256);)le+=this[C+Be]*Ae;return Ae*=128,le>=Ae&&(le-=Math.pow(2,8*b)),le},R.prototype.readIntBE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=b,Ae=1,Be=this[C+--le];for(;le>0&&(Ae*=256);)Be+=this[C+--le]*Ae;return Ae*=128,Be>=Ae&&(Be-=Math.pow(2,8*b)),Be},R.prototype.readInt8=function(C,b){return C>>>=0,b||E(C,1,this.length),128&this[C]?-1*(255-this[C]+1):this[C]},R.prototype.readInt16LE=function(C,b){C>>>=0,b||E(C,2,this.length);const z=this[C]|this[C+1]<<8;return 32768&z?4294901760|z:z},R.prototype.readInt16BE=function(C,b){C>>>=0,b||E(C,2,this.length);const z=this[C+1]|this[C]<<8;return 32768&z?4294901760|z:z},R.prototype.readInt32LE=function(C,b){return C>>>=0,b||E(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},R.prototype.readInt32BE=function(C,b){return C>>>=0,b||E(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},R.prototype.readBigInt64LE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];return(void 0===b||void 0===z)&&Ee(C,this.length-8),(BigInt(this[C+4]+256*this[C+5]+65536*this[C+6]+(z<<24))<<BigInt(32))+BigInt(b+256*this[++C]+65536*this[++C]+this[++C]*2**24)}),R.prototype.readBigInt64BE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];(void 0===b||void 0===z)&&Ee(C,this.length-8);const le=(b<<24)+65536*this[++C]+256*this[++C]+this[++C];return(BigInt(le)<<BigInt(32))+BigInt(this[++C]*2**24+65536*this[++C]+256*this[++C]+z)}),R.prototype.readFloatLE=function(C,b){return C>>>=0,b||E(C,4,this.length),x.read(this,C,!0,23,4)},R.prototype.readFloatBE=function(C,b){return C>>>=0,b||E(C,4,this.length),x.read(this,C,!1,23,4)},R.prototype.readDoubleLE=function(C,b){return C>>>=0,b||E(C,8,this.length),x.read(this,C,!0,52,8)},R.prototype.readDoubleBE=function(C,b){return C>>>=0,b||E(C,8,this.length),x.read(this,C,!1,52,8)},R.prototype.writeUintLE=R.prototype.writeUIntLE=function(C,b,z,le){C=+C,b>>>=0,z>>>=0,le||q(this,C,b,z,Math.pow(2,8*z)-1,0);let Ae=1,Be=0;for(this[b]=255&C;++Be<z&&(Ae*=256);)this[b+Be]=C/Ae&255;return b+z},R.prototype.writeUintBE=R.prototype.writeUIntBE=function(C,b,z,le){C=+C,b>>>=0,z>>>=0,le||q(this,C,b,z,Math.pow(2,8*z)-1,0);let Ae=z-1,Be=1;for(this[b+Ae]=255&C;--Ae>=0&&(Be*=256);)this[b+Ae]=C/Be&255;return b+z},R.prototype.writeUint8=R.prototype.writeUInt8=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,1,255,0),this[b]=255&C,b+1},R.prototype.writeUint16LE=R.prototype.writeUInt16LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,65535,0),this[b]=255&C,this[b+1]=C>>>8,b+2},R.prototype.writeUint16BE=R.prototype.writeUInt16BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,65535,0),this[b]=C>>>8,this[b+1]=255&C,b+2},R.prototype.writeUint32LE=R.prototype.writeUInt32LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,4294967295,0),this[b+3]=C>>>24,this[b+2]=C>>>16,this[b+1]=C>>>8,this[b]=255&C,b+4},R.prototype.writeUint32BE=R.prototype.writeUInt32BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,4294967295,0),this[b]=C>>>24,this[b+1]=C>>>16,this[b+2]=C>>>8,this[b+3]=255&C,b+4},R.prototype.writeBigUInt64LE=Ge(function(C,b=0){return X(this,C,b,BigInt(0),BigInt("0xffffffffffffffff"))}),R.prototype.writeBigUInt64BE=Ge(function(C,b=0){return ce(this,C,b,BigInt(0),BigInt("0xffffffffffffffff"))}),R.prototype.writeIntLE=function(C,b,z,le){if(C=+C,b>>>=0,!le){const Yt=Math.pow(2,8*z-1);q(this,C,b,z,Yt-1,-Yt)}let Ae=0,Be=1,ft=0;for(this[b]=255&C;++Ae<z&&(Be*=256);)C<0&&0===ft&&0!==this[b+Ae-1]&&(ft=1),this[b+Ae]=(C/Be|0)-ft&255;return b+z},R.prototype.writeIntBE=function(C,b,z,le){if(C=+C,b>>>=0,!le){const Yt=Math.pow(2,8*z-1);q(this,C,b,z,Yt-1,-Yt)}let Ae=z-1,Be=1,ft=0;for(this[b+Ae]=255&C;--Ae>=0&&(Be*=256);)C<0&&0===ft&&0!==this[b+Ae+1]&&(ft=1),this[b+Ae]=(C/Be|0)-ft&255;return b+z},R.prototype.writeInt8=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,1,127,-128),C<0&&(C=255+C+1),this[b]=255&C,b+1},R.prototype.writeInt16LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,32767,-32768),this[b]=255&C,this[b+1]=C>>>8,b+2},R.prototype.writeInt16BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,32767,-32768),this[b]=C>>>8,this[b+1]=255&C,b+2},R.prototype.writeInt32LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,2147483647,-2147483648),this[b]=255&C,this[b+1]=C>>>8,this[b+2]=C>>>16,this[b+3]=C>>>24,b+4},R.prototype.writeInt32BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[b]=C>>>24,this[b+1]=C>>>16,this[b+2]=C>>>8,this[b+3]=255&C,b+4},R.prototype.writeBigInt64LE=Ge(function(C,b=0){return X(this,C,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),R.prototype.writeBigInt64BE=Ge(function(C,b=0){return ce(this,C,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),R.prototype.writeFloatLE=function(C,b,z){return Te(this,C,b,!0,z)},R.prototype.writeFloatBE=function(C,b,z){return Te(this,C,b,!1,z)},R.prototype.writeDoubleLE=function(C,b,z){return Ke(this,C,b,!0,z)},R.prototype.writeDoubleBE=function(C,b,z){return Ke(this,C,b,!1,z)},R.prototype.copy=function(C,b,z,le){if(!R.isBuffer(C))throw new TypeError("argument should be a Buffer");if(z||(z=0),!le&&0!==le&&(le=this.length),b>=C.length&&(b=C.length),b||(b=0),le>0&&le<z&&(le=z),le===z||0===C.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),C.length-b<le-z&&(le=C.length-b+z);const Ae=le-z;return this===C&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(b,z,le):Uint8Array.prototype.set.call(C,this.subarray(z,le),b),Ae},R.prototype.fill=function(C,b,z,le){if("string"==typeof C){if("string"==typeof b?(le=b,b=0,z=this.length):"string"==typeof z&&(le=z,z=this.length),void 0!==le&&"string"!=typeof le)throw new TypeError("encoding must be a string");if("string"==typeof le&&!R.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(1===C.length){const Be=C.charCodeAt(0);("utf8"===le&&Be<128||"latin1"===le)&&(C=Be)}}else"number"==typeof C?C&=255:"boolean"==typeof C&&(C=Number(C));if(b<0||this.length<b||this.length<z)throw new RangeError("Out of range index");if(z<=b)return this;let Ae;if(b>>>=0,z=void 0===z?this.length:z>>>0,C||(C=0),"number"==typeof C)for(Ae=b;Ae<z;++Ae)this[Ae]=C;else{const Be=R.isBuffer(C)?C:R.from(C,le),ft=Be.length;if(0===ft)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(Ae=0;Ae<z-b;++Ae)this[Ae+b]=Be[Ae%ft]}return this};const Qe={};function ke(K,C,b){Qe[K]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:C.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,delete this.name}get code(){return K}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}function Ie(K){let C="",b=K.length;const z="-"===K[0]?1:0;for(;b>=z+4;b-=3)C=`_${K.slice(b-3,b)}${C}`;return`${K.slice(0,b)}${C}`}function Se(K,C,b,z,le,Ae){if(K>b||K<C){const Be="bigint"==typeof C?"n":"";let ft;throw ft=Ae>3?0===C||C===BigInt(0)?`>= 0${Be} and < 2${Be} ** ${8*(Ae+1)}${Be}`:`>= -(2${Be} ** ${8*(Ae+1)-1}${Be}) and < 2 ** ${8*(Ae+1)-1}${Be}`:`>= ${C}${Be} and <= ${b}${Be}`,new Qe.ERR_OUT_OF_RANGE("value",ft,K)}!function Xe(K,C,b){Le(C,"offset"),(void 0===K[C]||void 0===K[C+b])&&Ee(C,K.length-(b+1))}(z,le,Ae)}function Le(K,C){if("number"!=typeof K)throw new Qe.ERR_INVALID_ARG_TYPE(C,"number",K)}function Ee(K,C,b){throw Math.floor(K)!==K?(Le(K,b),new Qe.ERR_OUT_OF_RANGE(b||"offset","an integer",K)):C<0?new Qe.ERR_BUFFER_OUT_OF_BOUNDS:new Qe.ERR_OUT_OF_RANGE(b||"offset",`>= ${b?1:0} and <= ${C}`,K)}ke("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ke("ERR_INVALID_ARG_TYPE",function(K,C){return`The "${K}" argument must be of type number. Received type ${typeof C}`},TypeError),ke("ERR_OUT_OF_RANGE",function(K,C,b){let z=`The value of "${K}" is out of range.`,le=b;return Number.isInteger(b)&&Math.abs(b)>2**32?le=Ie(String(b)):"bigint"==typeof b&&(le=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(le=Ie(le)),le+="n"),z+=` It must be ${C}. Received ${le}`,z},RangeError);const be=/[^+/0-9A-Za-z-_]/g;function fe(K,C){let b;C=C||1/0;const z=K.length;let le=null;const Ae=[];for(let Be=0;Be<z;++Be){if(b=K.charCodeAt(Be),b>55295&&b<57344){if(!le){if(b>56319){(C-=3)>-1&&Ae.push(239,191,189);continue}if(Be+1===z){(C-=3)>-1&&Ae.push(239,191,189);continue}le=b;continue}if(b<56320){(C-=3)>-1&&Ae.push(239,191,189),le=b;continue}b=65536+(le-55296<<10|b-56320)}else le&&(C-=3)>-1&&Ae.push(239,191,189);if(le=null,b<128){if((C-=1)<0)break;Ae.push(b)}else if(b<2048){if((C-=2)<0)break;Ae.push(b>>6|192,63&b|128)}else if(b<65536){if((C-=3)<0)break;Ae.push(b>>12|224,b>>6&63|128,63&b|128)}else{if(!(b<1114112))throw new Error("Invalid code point");if((C-=4)<0)break;Ae.push(b>>18|240,b>>12&63|128,b>>6&63|128,63&b|128)}}return Ae}function $e(K){return h.toByteArray(function oe(K){if((K=(K=K.split("=")[0]).trim().replace(be,"")).length<2)return"";for(;K.length%4!=0;)K+="=";return K}(K))}function Je(K,C,b,z){let le;for(le=0;le<z&&!(le+b>=C.length||le>=K.length);++le)C[le+b]=K[le];return le}function Ze(K,C){return K instanceof C||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===C.name}function Pt(K){return K!=K}const nt=function(){const K="0123456789abcdef",C=new Array(256);for(let b=0;b<16;++b){const z=16*b;for(let le=0;le<16;++le)C[z+le]=K[b]+K[le]}return C}();function Ge(K){return typeof BigInt>"u"?Et:K}function Et(){throw new Error("BigInt not supported")}},24785:(Ye,J,A)=>{"use strict";const{AbortError:h,codes:x}=A(65109),{isNodeStream:N,isWebStream:Y,kControllerErrorFunction:M}=A(51233),j=A(44268),{ERR_INVALID_ARG_TYPE:R}=x;Ye.exports.addAbortSignal=function(V,P){if(((H,V)=>{if("object"!=typeof H||!("aborted"in H))throw new R("signal","AbortSignal",H)})(V),!N(P)&&!Y(P))throw new R("stream",["ReadableStream","WritableStream","Stream"],P);return Ye.exports.addAbortSignalNoValidate(V,P)},Ye.exports.addAbortSignalNoValidate=function(H,V){if("object"!=typeof H||!("aborted"in H))return V;const P=N(V)?()=>{V.destroy(new h(void 0,{cause:H.reason}))}:()=>{V[M](new h(void 0,{cause:H.reason}))};return H.aborted?P():(H.addEventListener("abort",P),j(V,()=>H.removeEventListener("abort",P))),V}},58579:(Ye,J,A)=>{"use strict";const{StringPrototypeSlice:h,SymbolIterator:x,TypedArrayPrototypeSet:N,Uint8Array:Y}=A(43856),{Buffer:M}=A(89565),{inspect:j}=A(55830);Ye.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(U){const H={data:U,next:null};this.length>0?this.tail.next=H:this.head=H,this.tail=H,++this.length}unshift(U){const H={data:U,next:this.head};0===this.length&&(this.tail=H),this.head=H,++this.length}shift(){if(0===this.length)return;const U=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,U}clear(){this.head=this.tail=null,this.length=0}join(U){if(0===this.length)return"";let H=this.head,V=""+H.data;for(;null!==(H=H.next);)V+=U+H.data;return V}concat(U){if(0===this.length)return M.alloc(0);const H=M.allocUnsafe(U>>>0);let V=this.head,P=0;for(;V;)N(H,V.data,P),P+=V.data.length,V=V.next;return H}consume(U,H){const V=this.head.data;if(U<V.length){const P=V.slice(0,U);return this.head.data=V.slice(U),P}return U===V.length?this.shift():H?this._getString(U):this._getBuffer(U)}first(){return this.head.data}*[x](){for(let U=this.head;U;U=U.next)yield U.data}_getString(U){let H="",V=this.head,P=0;do{const ee=V.data;if(!(U>ee.length)){U===ee.length?(H+=ee,++P,this.head=V.next?V.next:this.tail=null):(H+=h(ee,0,U),this.head=V,V.data=h(ee,U));break}H+=ee,U-=ee.length,++P}while(null!==(V=V.next));return this.length-=P,H}_getBuffer(U){const H=M.allocUnsafe(U),V=U;let P=this.head,ee=0;do{const W=P.data;if(!(U>W.length)){U===W.length?(N(H,W,V-U),++ee,this.head=P.next?P.next:this.tail=null):(N(H,new Y(W.buffer,W.byteOffset,U),V-U),this.head=P,P.data=W.slice(U));break}N(H,W,V-U),U-=W.length,++ee}while(null!==(P=P.next));return this.length-=ee,H}[Symbol.for("nodejs.util.inspect.custom")](U,H){return j(this,{...H,depth:0,customInspect:!1})}}},5464:(Ye,J,A)=>{"use strict";var h=A(29293).default;const{pipeline:x}=A(96208),N=A(97464),{destroyer:Y}=A(45078),{isNodeStream:M,isReadable:j,isWritable:R,isWebStream:U,isTransformStream:H,isWritableStream:V,isReadableStream:P}=A(51233),{AbortError:ee,codes:{ERR_INVALID_ARG_VALUE:W,ERR_MISSING_ARGS:Q}}=A(65109),de=A(44268);Ye.exports=function(...re){if(0===re.length)throw new Q("streams");if(1===re.length)return N.from(re[0]);const te=[...re];if("function"==typeof re[0]&&(re[0]=N.from(re[0])),"function"==typeof re[re.length-1]){const f=re.length-1;re[f]=N.from(re[f])}for(let f=0;f<re.length;++f)if(M(re[f])||U(re[f])){if(f<re.length-1&&!(j(re[f])||P(re[f])||H(re[f])))throw new W(`streams[${f}]`,te[f],"must be readable");if(f>0&&!(R(re[f])||V(re[f])||H(re[f])))throw new W(`streams[${f}]`,te[f],"must be writable")}let ue,pe,he,ve,ge;const Oe=re[0],je=x(re,function Me(f){const w=ve;ve=null,w?w(f):f?ge.destroy(f):!l&&!B&&ge.destroy()}),B=!!(R(Oe)||V(Oe)||H(Oe)),l=!!(j(je)||P(je)||H(je));if(ge=new N({writableObjectMode:!(null==Oe||!Oe.writableObjectMode),readableObjectMode:!(null==je||!je.writableObjectMode),writable:B,readable:l}),B){if(M(Oe))ge._write=function(w,_,D){Oe.write(w,_)?D():ue=D},ge._final=function(w){Oe.end(),pe=w},Oe.on("drain",function(){if(ue){const w=ue;ue=null,w()}});else if(U(Oe)){const _=(H(Oe)?Oe.writable:Oe).getWriter();ge._write=function(){var D=h(function*(O,$,T){try{yield _.ready,_.write(O).catch(()=>{}),T()}catch(c){T(c)}});return function(O,$,T){return D.apply(this,arguments)}}(),ge._final=function(){var D=h(function*(O){try{yield _.ready,_.close().catch(()=>{}),pe=O}catch($){O($)}});return function(O){return D.apply(this,arguments)}}()}const f=H(je)?je.readable:je;de(f,()=>{if(pe){const w=pe;pe=null,w()}})}if(l)if(M(je))je.on("readable",function(){if(he){const f=he;he=null,f()}}),je.on("end",function(){ge.push(null)}),ge._read=function(){for(;;){const f=je.read();if(null===f)return void(he=ge._read);if(!ge.push(f))return}};else if(U(je)){const w=(H(je)?je.readable:je).getReader();ge._read=h(function*(){for(;;)try{const{value:_,done:D}=yield w.read();if(!ge.push(_))return;if(D)return void ge.push(null)}catch{return}})}return ge._destroy=function(f,w){!f&&null!==ve&&(f=new ee),he=null,ue=null,pe=null,null===ve?w(f):(ve=w,M(je)&&Y(je,f))},ge}},45078:(Ye,J,A)=>{"use strict";const h=A(40573),{aggregateTwoErrors:x,codes:{ERR_MULTIPLE_CALLBACK:N},AbortError:Y}=A(65109),{Symbol:M}=A(43856),{kDestroyed:j,isDestroyed:R,isFinished:U,isServerRequest:H}=A(51233),V=M("kDestroy"),P=M("kConstruct");function ee(B,l,f){B&&(l&&!l.errored&&(l.errored=B),f&&!f.errored&&(f.errored=B))}function Q(B,l,f){let w=!1;function _(D){if(w)return;w=!0;const O=B._readableState,$=B._writableState;ee(D,$,O),$&&($.closed=!0),O&&(O.closed=!0),"function"==typeof f&&f(D),D?h.nextTick(de,B,D):h.nextTick(ae,B)}try{B._destroy(l||null,_)}catch(D){_(D)}}function de(B,l){re(B,l),ae(B)}function ae(B){const l=B._readableState,f=B._writableState;f&&(f.closeEmitted=!0),l&&(l.closeEmitted=!0),(null!=f&&f.emitClose||null!=l&&l.emitClose)&&B.emit("close")}function re(B,l){const f=B._readableState,w=B._writableState;null!=w&&w.errorEmitted||null!=f&&f.errorEmitted||(w&&(w.errorEmitted=!0),f&&(f.errorEmitted=!0),B.emit("error",l))}function ue(B,l,f){const w=B._readableState,_=B._writableState;if(null!=_&&_.destroyed||null!=w&&w.destroyed)return this;null!=w&&w.autoDestroy||null!=_&&_.autoDestroy?B.destroy(l):l&&(_&&!_.errored&&(_.errored=l),w&&!w.errored&&(w.errored=l),f?h.nextTick(re,B,l):re(B,l))}function he(B){let l=!1;function f(w){if(l)return void ue(B,w??new N);l=!0;const _=B._readableState,D=B._writableState,O=D||_;_&&(_.constructed=!0),D&&(D.constructed=!0),O.destroyed?B.emit(V,w):w?ue(B,w,!0):h.nextTick(ve,B)}try{B._construct(w=>{h.nextTick(f,w)})}catch(w){h.nextTick(f,w)}}function ve(B){B.emit(P)}function ge(B){return B?.setHeader&&"function"==typeof B.abort}function Me(B){B.emit("close")}function Oe(B,l){B.emit("error",l),h.nextTick(Me,B)}Ye.exports={construct:function pe(B,l){if("function"!=typeof B._construct)return;const f=B._readableState,w=B._writableState;f&&(f.constructed=!1),w&&(w.constructed=!1),B.once(P,l),!(B.listenerCount(P)>1)&&h.nextTick(he,B)},destroyer:function je(B,l){!B||R(B)||(!l&&!U(B)&&(l=new Y),H(B)?(B.socket=null,B.destroy(l)):ge(B)?B.abort():ge(B.req)?B.req.abort():"function"==typeof B.destroy?B.destroy(l):"function"==typeof B.close?B.close():l?h.nextTick(Oe,B,l):h.nextTick(Me,B),B.destroyed||(B[j]=!0))},destroy:function W(B,l){const f=this._readableState,w=this._writableState,_=w||f;return null!=w&&w.destroyed||null!=f&&f.destroyed?("function"==typeof l&&l(),this):(ee(B,w,f),w&&(w.destroyed=!0),f&&(f.destroyed=!0),_.constructed?Q(this,B,l):this.once(V,function(D){Q(this,x(D,B),l)}),this)},undestroy:function te(){const B=this._readableState,l=this._writableState;B&&(B.constructed=!0,B.closed=!1,B.closeEmitted=!1,B.destroyed=!1,B.errored=null,B.errorEmitted=!1,B.reading=!1,B.ended=!1===B.readable,B.endEmitted=!1===B.readable),l&&(l.constructed=!0,l.destroyed=!1,l.closed=!1,l.closeEmitted=!1,l.errored=null,l.errorEmitted=!1,l.finalCalled=!1,l.prefinished=!1,l.ended=!1===l.writable,l.ending=!1===l.writable,l.finished=!1===l.writable)},errorOrDestroy:ue}},97464:(Ye,J,A)=>{"use strict";const{ObjectDefineProperties:h,ObjectGetOwnPropertyDescriptor:x,ObjectKeys:N,ObjectSetPrototypeOf:Y}=A(43856);Ye.exports=R;const M=A(29710),j=A(40258);Y(R.prototype,M.prototype),Y(R,M);{const P=N(j.prototype);for(let ee=0;ee<P.length;ee++){const W=P[ee];R.prototype[W]||(R.prototype[W]=j.prototype[W])}}function R(P){if(!(this instanceof R))return new R(P);M.call(this,P),j.call(this,P),P?(this.allowHalfOpen=!1!==P.allowHalfOpen,!1===P.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===P.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let U,V;function H(){return void 0===U&&(U={}),U}h(R.prototype,{writable:{__proto__:null,...x(j.prototype,"writable")},writableHighWaterMark:{__proto__:null,...x(j.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...x(j.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...x(j.prototype,"writableBuffer")},writableLength:{__proto__:null,...x(j.prototype,"writableLength")},writableFinished:{__proto__:null,...x(j.prototype,"writableFinished")},writableCorked:{__proto__:null,...x(j.prototype,"writableCorked")},writableEnded:{__proto__:null,...x(j.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...x(j.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(P){this._readableState&&this._writableState&&(this._readableState.destroyed=P,this._writableState.destroyed=P)}}}),R.fromWeb=function(P,ee){return H().newStreamDuplexFromReadableWritablePair(P,ee)},R.toWeb=function(P){return H().newReadableWritablePairFromDuplex(P)},R.from=function(P){return V||(V=A(56840)),V(P,"body")}},56840:(Ye,J,A)=>{var h=A(29293).default,x=A(53344).default,N=A(42958).default;const Y=A(40573),M=A(89565),{isReadable:j,isWritable:R,isIterable:U,isNodeStream:H,isReadableNodeStream:V,isWritableNodeStream:P,isDuplexNodeStream:ee}=A(51233),W=A(44268),{AbortError:Q,codes:{ERR_INVALID_ARG_TYPE:de,ERR_INVALID_RETURN_VALUE:ae}}=A(65109),{destroyer:re}=A(45078),te=A(97464),ue=A(29710),{createDeferredPromise:pe}=A(55830),he=A(24246),ve=globalThis.Blob||M.Blob,ge=typeof ve<"u"?function(w){return w instanceof ve}:function(w){return!1},Me=globalThis.AbortController||A(9465).AbortController,{FunctionPrototypeCall:Oe}=A(43856);class je extends te{constructor(w){super(w),!1===w?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===w?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function l(f){const w=f.readable&&"function"!=typeof f.readable.read?ue.wrap(f.readable):f.readable,_=f.writable;let $,T,c,E,q,D=!!j(w),O=!!R(_);function X(ce){const me=E;E=null,me?me(ce):ce&&q.destroy(ce)}return q=new je({readableObjectMode:!(null==w||!w.readableObjectMode),writableObjectMode:!(null==_||!_.writableObjectMode),readable:D,writable:O}),O&&(W(_,ce=>{O=!1,ce&&re(w,ce),X(ce)}),q._write=function(ce,me,Te){_.write(ce,me)?Te():$=Te},q._final=function(ce){_.end(),T=ce},_.on("drain",function(){if($){const ce=$;$=null,ce()}}),_.on("finish",function(){if(T){const ce=T;T=null,ce()}})),D&&(W(w,ce=>{D=!1,ce&&re(w,ce),X(ce)}),w.on("readable",function(){if(c){const ce=c;c=null,ce()}}),w.on("end",function(){q.push(null)}),q._read=function(){for(;;){const ce=w.read();if(null===ce)return void(c=q._read);if(!q.push(ce))return}}),q._destroy=function(ce,me){!ce&&null!==E&&(ce=new Q),c=null,$=null,T=null,null===E?me(ce):(E=me,re(_,ce),re(w,ce))},q}Ye.exports=function f(w,_){if(ee(w))return w;if(V(w))return l({readable:w});if(P(w))return l({writable:w});if(H(w))return l({writable:!1,readable:!1});if("function"==typeof w){const{value:O,write:$,final:T,destroy:c}=function B(f){let{promise:w,resolve:_}=pe();const D=new Me,O=D.signal;return{value:f(N(function*(){for(;;){const T=w;w=null;const{chunk:c,done:E,cb:q}=yield x(T);if(Y.nextTick(q),E)return;if(O.aborted)throw new Q(void 0,{cause:O.reason});({promise:w,resolve:_}=pe()),yield c}})(),{signal:O}),write(T,c,E){const q=_;_=null,q({chunk:T,done:!1,cb:E})},final(T){const c=_;_=null,c({done:!0,cb:T})},destroy(T,c){D.abort(),c(T)}}}(w);if(U(O))return he(je,O,{objectMode:!0,write:$,final:T,destroy:c});const E=O?.then;if("function"==typeof E){let q;const X=Oe(E,O,ce=>{if(null!=ce)throw new ae("nully","body",ce)},ce=>{re(q,ce)});return q=new je({objectMode:!0,readable:!1,write:$,final(ce){T(h(function*(){try{yield X,Y.nextTick(ce,null)}catch(me){Y.nextTick(ce,me)}}))},destroy:c})}throw new ae("Iterable, AsyncIterable or AsyncFunction",_,O)}if(ge(w))return f(w.arrayBuffer());if(U(w))return he(je,w,{objectMode:!0,writable:!1});if("object"==typeof w?.writable||"object"==typeof w?.readable)return l({readable:null!=w&&w.readable?V(w?.readable)?w?.readable:f(w.readable):void 0,writable:null!=w&&w.writable?P(w?.writable)?w?.writable:f(w.writable):void 0});const D=w?.then;if("function"==typeof D){let O;return Oe(D,w,$=>{null!=$&&O.push($),O.push(null)},$=>{re(O,$)}),O=new je({objectMode:!0,writable:!1,read(){}})}throw new de(_,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],w)}},44268:(Ye,J,A)=>{const h=A(40573),{AbortError:x,codes:N}=A(65109),{ERR_INVALID_ARG_TYPE:Y,ERR_STREAM_PREMATURE_CLOSE:M}=N,{kEmptyObject:j,once:R}=A(55830),{validateAbortSignal:U,validateFunction:H,validateObject:V,validateBoolean:P}=A(44323),{Promise:ee,PromisePrototypeThen:W}=A(43856),{isClosed:Q,isReadable:de,isReadableNodeStream:ae,isReadableStream:re,isReadableFinished:te,isReadableErrored:ue,isWritable:pe,isWritableNodeStream:he,isWritableStream:ve,isWritableFinished:ge,isWritableErrored:Me,isNodeStream:Oe,willEmitClose:je,kIsClosedPromise:B}=A(51233),f=()=>{};function w(O,$,T){var c,E;if(2===arguments.length?(T=$,$=j):null==$?$=j:V($,"options"),H(T,"callback"),U($.signal,"options.signal"),T=R(T),re(O)||ve(O))return function _(O,$,T){let c=!1,E=f;if($.signal)if(E=()=>{c=!0,T.call(O,new x(void 0,{cause:$.signal.reason}))},$.signal.aborted)h.nextTick(E);else{const X=T;T=R((...ce)=>{$.signal.removeEventListener("abort",E),X.apply(O,ce)}),$.signal.addEventListener("abort",E)}const q=(...X)=>{c||h.nextTick(()=>T.apply(O,X))};return W(O[B].promise,q,q),f}(O,$,T);if(!Oe(O))throw new Y("stream",["ReadableStream","WritableStream","Stream"],O);const q=null!==(c=$.readable)&&void 0!==c?c:ae(O),X=null!==(E=$.writable)&&void 0!==E?E:he(O),ce=O._writableState,me=O._readableState,Te=()=>{O.writable||ke()};let Ke=je(O)&&ae(O)===q&&he(O)===X,Qe=ge(O,!1);const ke=()=>{Qe=!0,O.destroyed&&(Ke=!1),(!Ke||O.readable&&!q)&&(!q||Ie)&&T.call(O)};let Ie=te(O,!1);const Xe=()=>{Ie=!0,O.destroyed&&(Ke=!1),(!Ke||O.writable&&!X)&&(!X||Qe)&&T.call(O)},Se=we=>{T.call(O,we)};let Le=Q(O);const Ee=()=>{Le=!0;const we=Me(O)||ue(O);return we&&"boolean"!=typeof we?T.call(O,we):q&&!Ie&&ae(O,!0)&&!te(O,!1)?T.call(O,new M):!X||Qe||ge(O,!1)?void T.call(O):T.call(O,new M)},be=()=>{Le=!0;const we=Me(O)||ue(O);if(we&&"boolean"!=typeof we)return T.call(O,we);T.call(O)},oe=()=>{O.req.on("finish",ke)};!function l(O){return O.setHeader&&"function"==typeof O.abort}(O)?X&&!ce&&(O.on("end",Te),O.on("close",Te)):(O.on("complete",ke),Ke||O.on("abort",Ee),O.req?oe():O.on("request",oe)),!Ke&&"boolean"==typeof O.aborted&&O.on("aborted",Ee),O.on("end",Xe),O.on("finish",ke),!1!==$.error&&O.on("error",Se),O.on("close",Ee),Le?h.nextTick(Ee):null!=ce&&ce.errorEmitted||null!=me&&me.errorEmitted?Ke||h.nextTick(be):(!q&&(!Ke||de(O))&&(Qe||!1===pe(O))||!X&&(!Ke||pe(O))&&(Ie||!1===de(O))||me&&O.req&&O.aborted)&&h.nextTick(be);const fe=()=>{T=f,O.removeListener("aborted",Ee),O.removeListener("complete",ke),O.removeListener("abort",Ee),O.removeListener("request",oe),O.req&&O.req.removeListener("finish",ke),O.removeListener("end",Te),O.removeListener("close",Te),O.removeListener("finish",ke),O.removeListener("end",Xe),O.removeListener("error",Se),O.removeListener("close",Ee)};if($.signal&&!Le){const we=()=>{const De=T;fe(),De.call(O,new x(void 0,{cause:$.signal.reason}))};if($.signal.aborted)h.nextTick(we);else{const De=T;T=R((...$e)=>{$.signal.removeEventListener("abort",we),De.apply(O,$e)}),$.signal.addEventListener("abort",we)}}return fe}Ye.exports=w,Ye.exports.finished=function D(O,$){var T;let c=!1;return null===$&&($=j),null!==(T=$)&&void 0!==T&&T.cleanup&&(P($.cleanup,"cleanup"),c=$.cleanup),new ee((E,q)=>{const X=w(O,$,ce=>{c&&X(),ce?q(ce):E()})})}},24246:(Ye,J,A)=>{"use strict";var h=A(29293).default;const x=A(40573),{PromisePrototypeThen:N,SymbolAsyncIterator:Y,SymbolIterator:M}=A(43856),{Buffer:j}=A(89565),{ERR_INVALID_ARG_TYPE:R,ERR_STREAM_NULL_VALUES:U}=A(65109).codes;Ye.exports=function H(V,P,ee){let W,Q;if("string"==typeof P||P instanceof j)return new V({objectMode:!0,...ee,read(){this.push(P),this.push(null)}});if(P&&P[Y])Q=!0,W=P[Y]();else{if(!P||!P[M])throw new R("iterable",["Iterable"],P);Q=!1,W=P[M]()}const de=new V({objectMode:!0,highWaterMark:1,...ee});let ae=!1;function te(){return(te=h(function*(he){if(null!=he&&"function"==typeof W.throw){const{value:Me,done:Oe}=yield W.throw(he);if(yield Me,Oe)return}if("function"==typeof W.return){const{value:Me}=yield W.return();yield Me}})).apply(this,arguments)}function pe(){return(pe=h(function*(){for(;;){try{const{value:he,done:ve}=Q?yield W.next():W.next();if(ve)de.push(null);else{const ge=he&&"function"==typeof he.then?yield he:he;if(null===ge)throw ae=!1,new U;if(de.push(ge))continue;ae=!1}}catch(he){de.destroy(he)}break}})).apply(this,arguments)}return de._read=function(){ae||(ae=!0,function ue(){pe.apply(this,arguments)}())},de._destroy=function(he,ve){N(function re(he){return te.apply(this,arguments)}(he),()=>x.nextTick(ve,he),ge=>x.nextTick(ve,ge||he))},de}},2649:(Ye,J,A)=>{"use strict";const{ArrayIsArray:h,ObjectSetPrototypeOf:x}=A(43856),{EventEmitter:N}=A(44356);function Y(j){N.call(this,j)}function M(j,R,U){if("function"==typeof j.prependListener)return j.prependListener(R,U);j._events&&j._events[R]?h(j._events[R])?j._events[R].unshift(U):j._events[R]=[U,j._events[R]]:j.on(R,U)}x(Y.prototype,N.prototype),x(Y,N),Y.prototype.pipe=function(j,R){const U=this;function H(ae){j.writable&&!1===j.write(ae)&&U.pause&&U.pause()}function V(){U.readable&&U.resume&&U.resume()}U.on("data",H),j.on("drain",V),!j._isStdio&&(!R||!1!==R.end)&&(U.on("end",ee),U.on("close",W));let P=!1;function ee(){P||(P=!0,j.end())}function W(){P||(P=!0,"function"==typeof j.destroy&&j.destroy())}function Q(ae){de(),0===N.listenerCount(this,"error")&&this.emit("error",ae)}function de(){U.removeListener("data",H),j.removeListener("drain",V),U.removeListener("end",ee),U.removeListener("close",W),U.removeListener("error",Q),j.removeListener("error",Q),U.removeListener("end",de),U.removeListener("close",de),j.removeListener("close",de)}return M(U,"error",Q),M(j,"error",Q),U.on("end",de),U.on("close",de),j.on("close",de),j.emit("pipe",U),j},Ye.exports={Stream:Y,prependListener:M}},37325:(Ye,J,A)=>{"use strict";var h=A(29293).default,x=A(93513).default,N=A(82881).default,Y=A(53344).default,M=A(42958).default;const j=globalThis.AbortController||A(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:R,ERR_INVALID_ARG_TYPE:U,ERR_MISSING_ARGS:H,ERR_OUT_OF_RANGE:V},AbortError:P}=A(65109),{validateAbortSignal:ee,validateInteger:W,validateObject:Q}=A(44323),de=A(43856).Symbol("kWeak"),{finished:ae}=A(44268),re=A(5464),{addAbortSignalNoValidate:te}=A(24785),{isWritable:ue,isNodeStream:pe}=A(51233),{ArrayPrototypePush:he,MathFloor:ve,Number:ge,NumberIsNaN:Me,Promise:Oe,PromiseReject:je,PromisePrototypeThen:B,Symbol:l}=A(43856),f=l("kEmpty"),w=l("kEof");function D(oe,fe){if("function"!=typeof oe)throw new U("fn",["Function","AsyncFunction"],oe);null!=fe&&Q(fe,"options"),null!=fe?.signal&&ee(fe.signal,"options.signal");let we=1;return null!=fe?.concurrency&&(we=ve(fe.concurrency)),W(we,"concurrency",1),function(){var De=M(function*(){var Je,Ze;const Pt=new j,nt=this,Ge=[],Et=Pt.signal,K={signal:Et},C=()=>Pt.abort();null!=fe&&null!==(Je=fe.signal)&&void 0!==Je&&Je.aborted&&C(),null==fe||null===(Ze=fe.signal)||void 0===Ze||Ze.addEventListener("abort",C);let b,z,le=!1;function Ae(){le=!0}function ft(){return(ft=h(function*(){try{var Vt,Yt=!1,Rt=!1;try{for(var Mn,dn=N(nt);Yt=!(Mn=yield dn.next()).done;Yt=!1){let jn=Mn.value;var En;if(le)return;if(Et.aborted)throw new P;try{jn=oe(jn,K)}catch(mn){jn=je(mn)}jn!==f&&("function"==typeof(null===(En=jn)||void 0===En?void 0:En.catch)&&jn.catch(Ae),Ge.push(jn),b&&(b(),b=null),!le&&Ge.length&&Ge.length>=we&&(yield new Oe(mn=>{z=mn})))}}catch(jn){Rt=!0,Vt=jn}finally{try{Yt&&null!=dn.return&&(yield dn.return())}finally{if(Rt)throw Vt}}Ge.push(w)}catch(jn){const mn=je(jn);B(mn,void 0,Ae),Ge.push(mn)}finally{var Ar;le=!0,b&&(b(),b=null),null==fe||null===(Ar=fe.signal)||void 0===Ar||Ar.removeEventListener("abort",C)}})).apply(this,arguments)}!function Be(){ft.apply(this,arguments)}();try{for(;;){for(;Ge.length>0;){const Yt=yield Y(Ge[0]);if(Yt===w)return;if(Et.aborted)throw new P;Yt!==f&&(yield Yt),Ge.shift(),z&&(z(),z=null)}yield Y(new Oe(Yt=>{b=Yt}))}}finally{Pt.abort(),le=!0,z&&(z(),z=null)}});return function $e(){return De.apply(this,arguments)}}().call(this)}function $(oe){return T.apply(this,arguments)}function T(){return(T=h(function*(oe,fe=void 0){var $e,we=!1,De=!1;try{for(var Je=N(Te.call(this,oe,fe));we=!(yield Je.next()).done;we=!1)return!0}catch(Pt){De=!0,$e=Pt}finally{try{we&&null!=Je.return&&(yield Je.return())}finally{if(De)throw $e}}return!1})).apply(this,arguments)}function E(){return(E=h(function*(oe,fe=void 0){if("function"!=typeof oe)throw new U("fn",["Function","AsyncFunction"],oe);return!(yield $.call(this,h(function*(...we){return!(yield oe(...we))}),fe))})).apply(this,arguments)}function X(){return(X=h(function*(oe,fe){var $e,we=!1,De=!1;try{for(var Ze,Je=N(Te.call(this,oe,fe));we=!(Ze=yield Je.next()).done;we=!1)return Ze.value}catch(Pt){De=!0,$e=Pt}finally{try{we&&null!=Je.return&&(yield Je.return())}finally{if(De)throw $e}}})).apply(this,arguments)}function me(){return me=h(function*(oe,fe){if("function"!=typeof oe)throw new U("fn",["Function","AsyncFunction"],oe);function De(){return(De=h(function*(Ge,Et){return yield oe(Ge,Et),f})).apply(this,arguments)}var Ze,$e=!1,Je=!1;try{for(var Pt=N(D.call(this,function we(Ge,Et){return De.apply(this,arguments)},fe));$e=!(yield Pt.next()).done;$e=!1);}catch(Ge){Je=!0,Ze=Ge}finally{try{$e&&null!=Pt.return&&(yield Pt.return())}finally{if(Je)throw Ze}}}),me.apply(this,arguments)}function Te(oe,fe){if("function"!=typeof oe)throw new U("fn",["Function","AsyncFunction"],oe);function De(){return(De=h(function*($e,Je){return(yield oe($e,Je))?$e:f})).apply(this,arguments)}return D.call(this,function we($e,Je){return De.apply(this,arguments)},fe)}class Ke extends H{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function ke(){return ke=h(function*(oe,fe,we){var De;if("function"!=typeof oe)throw new U("reducer",["Function","AsyncFunction"],oe);null!=we&&Q(we,"options"),null!=we?.signal&&ee(we.signal,"options.signal");let $e=arguments.length>1;if(null!=we&&null!==(De=we.signal)&&void 0!==De&&De.aborted){const z=new P(void 0,{cause:we.signal.reason});throw this.once("error",()=>{}),yield ae(this.destroy(z)),z}const Je=new j,Ze=Je.signal;null!=we&&we.signal&&we.signal.addEventListener("abort",()=>Je.abort(),{once:!0,[de]:this});let Pt=!1;try{var Et,nt=!1,Ge=!1;try{for(var C,K=N(this);nt=!(C=yield K.next()).done;nt=!1){const z=C.value;var b;if(Pt=!0,null!=we&&null!==(b=we.signal)&&void 0!==b&&b.aborted)throw new P;$e?fe=yield oe(fe,z,{signal:Ze}):(fe=z,$e=!0)}}catch(z){Ge=!0,Et=z}finally{try{nt&&null!=K.return&&(yield K.return())}finally{if(Ge)throw Et}}if(!Pt&&!$e)throw new Ke}finally{Je.abort()}return fe}),ke.apply(this,arguments)}function Xe(){return(Xe=h(function*(oe){null!=oe&&Q(oe,"options"),null!=oe?.signal&&ee(oe.signal,"options.signal");const fe=[];var $e,we=!1,De=!1;try{for(var Ze,Je=N(this);we=!(Ze=yield Je.next()).done;we=!1){const nt=Ze.value;var Pt;if(null!=oe&&null!==(Pt=oe.signal)&&void 0!==Pt&&Pt.aborted)throw new P(void 0,{cause:oe.signal.reason});he(fe,nt)}}catch(nt){De=!0,$e=nt}finally{try{we&&null!=Je.return&&(yield Je.return())}finally{if(De)throw $e}}return fe})).apply(this,arguments)}function Le(oe){if(oe=ge(oe),Me(oe))return 0;if(oe<0)throw new V("number",">= 0",oe);return oe}Ye.exports.streamReturningOperators={asIndexedPairs:function O(oe=void 0){return null!=oe&&Q(oe,"options"),null!=oe?.signal&&ee(oe.signal,"options.signal"),function(){var fe=M(function*(){let De=0;var Ze,$e=!1,Je=!1;try{for(var nt,Pt=N(this);$e=!(nt=yield Y(Pt.next())).done;$e=!1){const Et=nt.value;var Ge;if(null!=oe&&null!==(Ge=oe.signal)&&void 0!==Ge&&Ge.aborted)throw new P({cause:oe.signal.reason});yield[De++,Et]}}catch(Et){Je=!0,Ze=Et}finally{try{$e&&null!=Pt.return&&(yield Y(Pt.return()))}finally{if(Je)throw Ze}}});return function we(){return fe.apply(this,arguments)}}().call(this)},drop:function Ee(oe,fe=void 0){return null!=fe&&Q(fe,"options"),null!=fe?.signal&&ee(fe.signal,"options.signal"),oe=Le(oe),function(){var we=M(function*(){var $e;if(null!=fe&&null!==($e=fe.signal)&&void 0!==$e&&$e.aborted)throw new P;var Pt,Je=!1,Ze=!1;try{for(var Ge,nt=N(this);Je=!(Ge=yield Y(nt.next())).done;Je=!1){const K=Ge.value;var Et;if(null!=fe&&null!==(Et=fe.signal)&&void 0!==Et&&Et.aborted)throw new P;oe--<=0&&(yield K)}}catch(K){Ze=!0,Pt=K}finally{try{Je&&null!=nt.return&&(yield Y(nt.return()))}finally{if(Ze)throw Pt}}});return function De(){return we.apply(this,arguments)}}().call(this)},filter:Te,flatMap:function Se(oe,fe){const we=D.call(this,oe,fe);return function(){var De=M(function*(){var Pt,Je=!1,Ze=!1;try{for(var Ge,nt=N(we);Je=!(Ge=yield Y(nt.next())).done;Je=!1){const Et=Ge.value;yield*x(N(Et),Y)}}catch(Et){Ze=!0,Pt=Et}finally{try{Je&&null!=nt.return&&(yield Y(nt.return()))}finally{if(Ze)throw Pt}}});return function $e(){return De.apply(this,arguments)}}().call(this)},map:D,take:function be(oe,fe=void 0){return null!=fe&&Q(fe,"options"),null!=fe?.signal&&ee(fe.signal,"options.signal"),oe=Le(oe),function(){var we=M(function*(){var $e;if(null!=fe&&null!==($e=fe.signal)&&void 0!==$e&&$e.aborted)throw new P;var Pt,Je=!1,Ze=!1;try{for(var Ge,nt=N(this);Je=!(Ge=yield Y(nt.next())).done;Je=!1){const K=Ge.value;var Et;if(null!=fe&&null!==(Et=fe.signal)&&void 0!==Et&&Et.aborted)throw new P;if(!(oe-- >0))return;yield K}}catch(K){Ze=!0,Pt=K}finally{try{Je&&null!=nt.return&&(yield Y(nt.return()))}finally{if(Ze)throw Pt}}});return function De(){return we.apply(this,arguments)}}().call(this)},compose:function _(oe,fe){if(null!=fe&&Q(fe,"options"),null!=fe?.signal&&ee(fe.signal,"options.signal"),pe(oe)&&!ue(oe))throw new R("stream",oe,"must be writable");const we=re(this,oe);return null!=fe&&fe.signal&&te(fe.signal,we),we}},Ye.exports.promiseReturningOperators={every:function c(oe){return E.apply(this,arguments)},forEach:function ce(oe,fe){return me.apply(this,arguments)},reduce:function Qe(oe,fe,we){return ke.apply(this,arguments)},toArray:function Ie(oe){return Xe.apply(this,arguments)},some:$,find:function q(oe,fe){return X.apply(this,arguments)}}},70874:(Ye,J,A)=>{"use strict";const{ObjectSetPrototypeOf:h}=A(43856);Ye.exports=N;const x=A(66344);function N(Y){if(!(this instanceof N))return new N(Y);x.call(this,Y)}h(N.prototype,x.prototype),h(N,x),N.prototype._transform=function(Y,M,j){j(null,Y)}},96208:(Ye,J,A)=>{var h=A(29293).default,x=A(42958).default,N=A(53344).default,Y=A(93513).default,M=A(82881).default;const j=A(40573),{ArrayIsArray:R,Promise:U,SymbolAsyncIterator:H}=A(43856),V=A(44268),{once:P}=A(55830),ee=A(45078),W=A(97464),{aggregateTwoErrors:Q,codes:{ERR_INVALID_ARG_TYPE:de,ERR_INVALID_RETURN_VALUE:ae,ERR_MISSING_ARGS:re,ERR_STREAM_DESTROYED:te,ERR_STREAM_PREMATURE_CLOSE:ue},AbortError:pe}=A(65109),{validateFunction:he,validateAbortSignal:ve}=A(44323),{isIterable:ge,isReadable:Me,isReadableNodeStream:Oe,isNodeStream:je,isTransformStream:B,isWebStream:l,isReadableStream:f,isReadableEnded:w}=A(51233),_=globalThis.AbortController||A(9465).AbortController;let D,O;function $(Ie,Xe,Se){let Le=!1;return Ie.on("close",()=>{Le=!0}),{destroy:be=>{Le||(Le=!0,ee.destroyer(Ie,be||new te("pipe")))},cleanup:V(Ie,{readable:Xe,writable:Se},be=>{Le=!be})}}function c(Ie){if(ge(Ie))return Ie;if(Oe(Ie))return function E(Ie){return q.apply(this,arguments)}(Ie);throw new de("val",["Readable","Iterable","AsyncIterable"],Ie)}function q(){return(q=x(function*(Ie){O||(O=A(29710)),yield*Y(M(O.prototype[H].call(Ie)),N)})).apply(this,arguments)}function X(Ie,Xe,Se,Le){return ce.apply(this,arguments)}function ce(){return(ce=h(function*(Ie,Xe,Se,{end:Le}){let Ee,be=null;const oe=nt=>{if(nt&&(Ee=nt),be){const Ge=be;be=null,Ge()}},fe=()=>new U((nt,Ge)=>{Ee?Ge(Ee):be=()=>{Ee?Ge(Ee):nt()}});Xe.on("drain",oe);const we=V(Xe,{readable:!1},oe);try{Xe.writableNeedDrain&&(yield fe());var Je,De=!1,$e=!1;try{for(var Pt,Ze=M(Ie);De=!(Pt=yield Ze.next()).done;De=!1)Xe.write(Pt.value)||(yield fe())}catch(nt){$e=!0,Je=nt}finally{try{De&&null!=Ze.return&&(yield Ze.return())}finally{if($e)throw Je}}Le&&Xe.end(),yield fe(),Se()}catch(nt){Se(Ee!==nt?Q(Ee,nt):nt)}finally{we(),Xe.off("drain",oe)}})).apply(this,arguments)}function me(Ie,Xe,Se,Le){return Te.apply(this,arguments)}function Te(){return(Te=h(function*(Ie,Xe,Se,{end:Le}){B(Xe)&&(Xe=Xe.writable);const Ee=Xe.getWriter();try{var fe,be=!1,oe=!1;try{for(var De,we=M(Ie);be=!(De=yield we.next()).done;be=!1){const $e=De.value;yield Ee.ready,Ee.write($e).catch(()=>{})}}catch($e){oe=!0,fe=$e}finally{try{be&&null!=we.return&&(yield we.return())}finally{if(oe)throw fe}}yield Ee.ready,Le&&(yield Ee.close()),Se()}catch($e){try{yield Ee.abort($e),Se($e)}catch(Je){Se(Je)}}})).apply(this,arguments)}function Qe(Ie,Xe,Se){if(1===Ie.length&&R(Ie[0])&&(Ie=Ie[0]),Ie.length<2)throw new re("streams");const Le=new _,Ee=Le.signal,be=Se?.signal,oe=[];function fe(){Pt(new pe)}let we,De;ve(be,"options.signal"),be?.addEventListener("abort",fe);const $e=[];let nt,Je=0;function Ze(C){Pt(C,0==--Je)}function Pt(C,b){if(C&&(!we||"ERR_STREAM_PREMATURE_CLOSE"===we.code)&&(we=C),we||b){for(;$e.length;)$e.shift()(we);be?.removeEventListener("abort",fe),Le.abort(),b&&(we||oe.forEach(z=>z()),j.nextTick(Xe,we,De))}}for(let C=0;C<Ie.length;C++){const b=Ie[C],z=C<Ie.length-1,le=C>0,Ae=z||!1!==Se?.end,Be=C===Ie.length-1;if(je(b)){let ft=function(Yt){Yt&&"AbortError"!==Yt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Yt.code&&Ze(Yt)};if(Ae){const{destroy:Yt,cleanup:Rt}=$(b,z,le);$e.push(Yt),Me(b)&&Be&&oe.push(Rt)}b.on("error",ft),Me(b)&&Be&&oe.push(()=>{b.removeListener("error",ft)})}if(0===C)if("function"==typeof b){if(nt=b({signal:Ee}),!ge(nt))throw new ae("Iterable, AsyncIterable or Stream","source",nt)}else nt=ge(b)||Oe(b)||B(b)?b:W.from(b);else if("function"==typeof b){var Ge;if(nt=B(nt)?c(null===(Ge=nt)||void 0===Ge?void 0:Ge.readable):c(nt),nt=b(nt,{signal:Ee}),z){if(!ge(nt,!0))throw new ae("AsyncIterable",`transform[${C-1}]`,nt)}else{var Et;D||(D=A(70874));const ft=new D({objectMode:!0}),Yt=null===(Et=nt)||void 0===Et?void 0:Et.then;if("function"==typeof Yt)Je++,Yt.call(nt,dn=>{De=dn,null!=dn&&ft.write(dn),Ae&&ft.end(),j.nextTick(Ze)},dn=>{ft.destroy(dn),j.nextTick(Ze,dn)});else if(ge(nt,!0))Je++,X(nt,ft,Ze,{end:Ae});else{if(!f(nt)&&!B(nt))throw new ae("AsyncIterable or Promise","destination",nt);Je++,X(nt.readable||nt,ft,Ze,{end:Ae})}nt=ft;const{destroy:Rt,cleanup:Vt}=$(nt,!1,!0);$e.push(Rt),Be&&oe.push(Vt)}}else if(je(b)){if(Oe(nt)){Je+=2;const ft=ke(nt,b,Ze,{end:Ae});Me(b)&&Be&&oe.push(ft)}else if(B(nt)||f(nt))Je++,X(nt.readable||nt,b,Ze,{end:Ae});else{if(!ge(nt))throw new de("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],nt);Je++,X(nt,b,Ze,{end:Ae})}nt=b}else if(l(b)){if(Oe(nt))Je++,me(c(nt),b,Ze,{end:Ae});else if(f(nt)||ge(nt))Je++,me(nt,b,Ze,{end:Ae});else{if(!B(nt))throw new de("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],nt);Je++,me(nt.readable,b,Ze,{end:Ae})}nt=b}else nt=W.from(b)}return(null!=Ee&&Ee.aborted||null!=be&&be.aborted)&&j.nextTick(fe),nt}function ke(Ie,Xe,Se,{end:Le}){let Ee=!1;if(Xe.on("close",()=>{Ee||Se(new ue)}),Ie.pipe(Xe,{end:!1}),Le){let oe=function(){Ee=!0,Xe.end()};w(Ie)?j.nextTick(oe):Ie.once("end",oe)}else Se();return V(Ie,{readable:!0,writable:!1},oe=>{const fe=Ie._readableState;oe&&"ERR_STREAM_PREMATURE_CLOSE"===oe.code&&fe&&fe.ended&&!fe.errored&&!fe.errorEmitted?Ie.once("end",Se).once("error",Se):Se(oe)}),V(Xe,{readable:!1,writable:!0},Se)}Ye.exports={pipelineImpl:Qe,pipeline:function Ke(...Ie){return Qe(Ie,P(function T(Ie){return he(Ie[Ie.length-1],"streams[stream.length - 1]"),Ie.pop()}(Ie)))}}},29710:(Ye,J,A)=>{var h=A(53344).default,x=A(42958).default;const N=A(40573),{ArrayPrototypeIndexOf:Y,NumberIsInteger:M,NumberIsNaN:j,NumberParseInt:R,ObjectDefineProperties:U,ObjectKeys:H,ObjectSetPrototypeOf:V,Promise:P,SafeSet:ee,SymbolAsyncIterator:W,Symbol:Q}=A(43856);Ye.exports=X,X.ReadableState=q;const{EventEmitter:de}=A(44356),{Stream:ae,prependListener:re}=A(2649),{Buffer:te}=A(89565),{addAbortSignal:ue}=A(24785),pe=A(44268);let he=A(55830).debuglog("stream",b=>{he=b});const ve=A(58579),ge=A(45078),{getHighWaterMark:Me,getDefaultHighWaterMark:Oe}=A(31081),{aggregateTwoErrors:je,codes:{ERR_INVALID_ARG_TYPE:B,ERR_METHOD_NOT_IMPLEMENTED:l,ERR_OUT_OF_RANGE:f,ERR_STREAM_PUSH_AFTER_EOF:w,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:_}}=A(65109),{validateObject:D}=A(44323),O=Q("kPaused"),{StringDecoder:$}=A(78454),T=A(24246);V(X.prototype,ae.prototype),V(X,ae);const c=()=>{},{errorOrDestroy:E}=ge;function q(b,z,le){"boolean"!=typeof le&&(le=z instanceof A(97464)),this.objectMode=!(!b||!b.objectMode),le&&(this.objectMode=this.objectMode||!(!b||!b.readableObjectMode)),this.highWaterMark=b?Me(this,b,"readableHighWaterMark",le):Oe(!1),this.buffer=new ve,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[O]=null,this.errorEmitted=!1,this.emitClose=!b||!1!==b.emitClose,this.autoDestroy=!b||!1!==b.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=b&&b.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,b&&b.encoding&&(this.decoder=new $(b.encoding),this.encoding=b.encoding)}function X(b){if(!(this instanceof X))return new X(b);const z=this instanceof A(97464);this._readableState=new q(b,this,z),b&&("function"==typeof b.read&&(this._read=b.read),"function"==typeof b.destroy&&(this._destroy=b.destroy),"function"==typeof b.construct&&(this._construct=b.construct),b.signal&&!z&&ue(b.signal,this)),ae.call(this,b),ge.construct(this,()=>{this._readableState.needReadable&&Se(this,this._readableState)})}function ce(b,z,le,Ae){he("readableAddChunk",z);const Be=b._readableState;let ft;if(Be.objectMode||("string"==typeof z?Be.encoding!==(le=le||Be.defaultEncoding)&&(Ae&&Be.encoding?z=te.from(z,le).toString(Be.encoding):(z=te.from(z,le),le="")):z instanceof te?le="":ae._isUint8Array(z)?(z=ae._uint8ArrayToBuffer(z),le=""):null!=z&&(ft=new B("chunk",["string","Buffer","Uint8Array"],z))),ft)E(b,ft);else if(null===z)Be.reading=!1,function ke(b,z){if(he("onEofChunk"),!z.ended){if(z.decoder){const le=z.decoder.end();le&&le.length&&(z.buffer.push(le),z.length+=z.objectMode?1:le.length)}z.ended=!0,z.sync?Ie(b):(z.needReadable=!1,z.emittedReadable=!0,Xe(b))}}(b,Be);else if(Be.objectMode||z&&z.length>0)if(Ae)if(Be.endEmitted)E(b,new _);else{if(Be.destroyed||Be.errored)return!1;me(b,Be,z,!0)}else if(Be.ended)E(b,new w);else{if(Be.destroyed||Be.errored)return!1;Be.reading=!1,Be.decoder&&!le?(z=Be.decoder.write(z),Be.objectMode||0!==z.length?me(b,Be,z,!1):Se(b,Be)):me(b,Be,z,!1)}else Ae||(Be.reading=!1,Se(b,Be));return!Be.ended&&(Be.length<Be.highWaterMark||0===Be.length)}function me(b,z,le,Ae){z.flowing&&0===z.length&&!z.sync&&b.listenerCount("data")>0?(z.multiAwaitDrain?z.awaitDrainWriters.clear():z.awaitDrainWriters=null,z.dataEmitted=!0,b.emit("data",le)):(z.length+=z.objectMode?1:le.length,Ae?z.buffer.unshift(le):z.buffer.push(le),z.needReadable&&Ie(b)),Se(b,z)}function Qe(b,z){return b<=0||0===z.length&&z.ended?0:z.objectMode?1:j(b)?z.flowing&&z.length?z.buffer.first().length:z.length:b<=z.length?b:z.ended?z.length:0}function Ie(b){const z=b._readableState;he("emitReadable",z.needReadable,z.emittedReadable),z.needReadable=!1,z.emittedReadable||(he("emitReadable",z.flowing),z.emittedReadable=!0,N.nextTick(Xe,b))}function Xe(b){const z=b._readableState;he("emitReadable_",z.destroyed,z.length,z.ended),!z.destroyed&&!z.errored&&(z.length||z.ended)&&(b.emit("readable"),z.emittedReadable=!1),z.needReadable=!z.flowing&&!z.ended&&z.length<=z.highWaterMark,De(b)}function Se(b,z){!z.readingMore&&z.constructed&&(z.readingMore=!0,N.nextTick(Le,b,z))}function Le(b,z){for(;!z.reading&&!z.ended&&(z.length<z.highWaterMark||z.flowing&&0===z.length);){const le=z.length;if(he("maybeReadMore read 0"),b.read(0),le===z.length)break}z.readingMore=!1}function be(b){const z=b._readableState;z.readableListening=b.listenerCount("readable")>0,z.resumeScheduled&&!1===z[O]?z.flowing=!0:b.listenerCount("data")>0?b.resume():z.readableListening||(z.flowing=null)}function oe(b){he("readable nexttick read 0"),b.read(0)}function we(b,z){he("resume",z.reading),z.reading||b.read(0),z.resumeScheduled=!1,b.emit("resume"),De(b),z.flowing&&!z.reading&&b.read(0)}function De(b){const z=b._readableState;for(he("flow",z.flowing);z.flowing&&null!==b.read(););}function $e(b,z){"function"!=typeof b.read&&(b=X.wrap(b,{objectMode:!0}));const le=function Je(b,z){return Ze.apply(this,arguments)}(b,z);return le.stream=b,le}function Ze(){return(Ze=x(function*(b,z){let Be,le=c;function Ae(Yt){this===b?(le(),le=c):le=Yt}b.on("readable",Ae);const ft=pe(b,{writable:!1},Yt=>{Be=Yt?je(Be,Yt):null,le(),le=c});try{for(;;){const Yt=b.destroyed?null:b.read();if(null!==Yt)yield Yt;else{if(Be)throw Be;if(null===Be)return;yield h(new P(Ae))}}}catch(Yt){throw Be=je(Be,Yt),Be}finally{!Be&&!1===z?.destroyOnReturn||void 0!==Be&&!b._readableState.autoDestroy?(b.off("readable",Ae),ft()):ge.destroyer(b,null)}})).apply(this,arguments)}function Pt(b,z){if(0===z.length)return null;let le;return z.objectMode?le=z.buffer.shift():!b||b>=z.length?(le=z.decoder?z.buffer.join(""):1===z.buffer.length?z.buffer.first():z.buffer.concat(z.length),z.buffer.clear()):le=z.buffer.consume(b,z.decoder),le}function nt(b){const z=b._readableState;he("endReadable",z.endEmitted),z.endEmitted||(z.ended=!0,N.nextTick(Ge,z,b))}function Ge(b,z){if(he("endReadableNT",b.endEmitted,b.length),!b.errored&&!b.closeEmitted&&!b.endEmitted&&0===b.length)if(b.endEmitted=!0,z.emit("end"),z.writable&&!1===z.allowHalfOpen)N.nextTick(Et,z);else if(b.autoDestroy){const le=z._writableState;(!le||le.autoDestroy&&(le.finished||!1===le.writable))&&z.destroy()}}function Et(b){b.writable&&!b.writableEnded&&!b.destroyed&&b.end()}let K;function C(){return void 0===K&&(K={}),K}X.prototype.destroy=ge.destroy,X.prototype._undestroy=ge.undestroy,X.prototype._destroy=function(b,z){z(b)},X.prototype[de.captureRejectionSymbol]=function(b){this.destroy(b)},X.prototype.push=function(b,z){return ce(this,b,z,!1)},X.prototype.unshift=function(b,z){return ce(this,b,z,!0)},X.prototype.isPaused=function(){const b=this._readableState;return!0===b[O]||!1===b.flowing},X.prototype.setEncoding=function(b){const z=new $(b);this._readableState.decoder=z,this._readableState.encoding=this._readableState.decoder.encoding;const le=this._readableState.buffer;let Ae="";for(const Be of le)Ae+=z.write(Be);return le.clear(),""!==Ae&&le.push(Ae),this._readableState.length=Ae.length,this},X.prototype.read=function(b){he("read",b),void 0===b?b=NaN:M(b)||(b=R(b,10));const z=this._readableState,le=b;if(b>z.highWaterMark&&(z.highWaterMark=function Ke(b){if(b>1073741824)throw new f("size","<= 1GiB",b);return b--,b|=b>>>1,b|=b>>>2,b|=b>>>4,b|=b>>>8,b|=b>>>16,++b}(b)),0!==b&&(z.emittedReadable=!1),0===b&&z.needReadable&&((0!==z.highWaterMark?z.length>=z.highWaterMark:z.length>0)||z.ended))return he("read: emitReadable",z.length,z.ended),0===z.length&&z.ended?nt(this):Ie(this),null;if(0===(b=Qe(b,z))&&z.ended)return 0===z.length&&nt(this),null;let Be,Ae=z.needReadable;if(he("need readable",Ae),(0===z.length||z.length-b<z.highWaterMark)&&(Ae=!0,he("length less than watermark",Ae)),z.ended||z.reading||z.destroyed||z.errored||!z.constructed)Ae=!1,he("reading, ended or constructing",Ae);else if(Ae){he("do read"),z.reading=!0,z.sync=!0,0===z.length&&(z.needReadable=!0);try{this._read(z.highWaterMark)}catch(ft){E(this,ft)}z.sync=!1,z.reading||(b=Qe(le,z))}return Be=b>0?Pt(b,z):null,null===Be?(z.needReadable=z.length<=z.highWaterMark,b=0):(z.length-=b,z.multiAwaitDrain?z.awaitDrainWriters.clear():z.awaitDrainWriters=null),0===z.length&&(z.ended||(z.needReadable=!0),le!==b&&z.ended&&nt(this)),null!==Be&&!z.errorEmitted&&!z.closeEmitted&&(z.dataEmitted=!0,this.emit("data",Be)),Be},X.prototype._read=function(b){throw new l("_read()")},X.prototype.pipe=function(b,z){const le=this,Ae=this._readableState;1===Ae.pipes.length&&(Ae.multiAwaitDrain||(Ae.multiAwaitDrain=!0,Ae.awaitDrainWriters=new ee(Ae.awaitDrainWriters?[Ae.awaitDrainWriters]:[]))),Ae.pipes.push(b),he("pipe count=%d opts=%j",Ae.pipes.length,z);const ft=z&&!1===z.end||b===N.stdout||b===N.stderr?kt:Rt;function Rt(){he("onend"),b.end()}Ae.endEmitted?N.nextTick(ft):le.once("end",ft),b.on("unpipe",function Yt(St,an){he("onunpipe"),St===le&&an&&!1===an.hasUnpiped&&(an.hasUnpiped=!0,function Mn(){he("cleanup"),b.removeListener("close",mn),b.removeListener("finish",pn),Vt&&b.removeListener("drain",Vt),b.removeListener("error",jn),b.removeListener("unpipe",Yt),le.removeListener("end",Rt),le.removeListener("end",kt),le.removeListener("data",Ar),dn=!0,Vt&&Ae.awaitDrainWriters&&(!b._writableState||b._writableState.needDrain)&&Vt()}())});let Vt,dn=!1;function En(){dn||(1===Ae.pipes.length&&Ae.pipes[0]===b?(he("false write response, pause",0),Ae.awaitDrainWriters=b,Ae.multiAwaitDrain=!1):Ae.pipes.length>1&&Ae.pipes.includes(b)&&(he("false write response, pause",Ae.awaitDrainWriters.size),Ae.awaitDrainWriters.add(b)),le.pause()),Vt||(Vt=function Ee(b,z){return function(){const Ae=b._readableState;Ae.awaitDrainWriters===z?(he("pipeOnDrain",1),Ae.awaitDrainWriters=null):Ae.multiAwaitDrain&&(he("pipeOnDrain",Ae.awaitDrainWriters.size),Ae.awaitDrainWriters.delete(z)),(!Ae.awaitDrainWriters||0===Ae.awaitDrainWriters.size)&&b.listenerCount("data")&&b.resume()}}(le,b),b.on("drain",Vt))}function Ar(St){he("ondata");const an=b.write(St);he("dest.write",an),!1===an&&En()}function jn(St){if(he("onerror",St),kt(),b.removeListener("error",jn),0===b.listenerCount("error")){const an=b._writableState||b._readableState;an&&!an.errorEmitted?E(b,St):b.emit("error",St)}}function mn(){b.removeListener("finish",pn),kt()}function pn(){he("onfinish"),b.removeListener("close",mn),kt()}function kt(){he("unpipe"),le.unpipe(b)}return le.on("data",Ar),re(b,"error",jn),b.once("close",mn),b.once("finish",pn),b.emit("pipe",le),!0===b.writableNeedDrain?Ae.flowing&&En():Ae.flowing||(he("pipe resume"),le.resume()),b},X.prototype.unpipe=function(b){const z=this._readableState;if(0===z.pipes.length)return this;if(!b){const Be=z.pipes;z.pipes=[],this.pause();for(let ft=0;ft<Be.length;ft++)Be[ft].emit("unpipe",this,{hasUnpiped:!1});return this}const Ae=Y(z.pipes,b);return-1===Ae||(z.pipes.splice(Ae,1),0===z.pipes.length&&this.pause(),b.emit("unpipe",this,{hasUnpiped:!1})),this},X.prototype.addListener=X.prototype.on=function(b,z){const le=ae.prototype.on.call(this,b,z),Ae=this._readableState;return"data"===b?(Ae.readableListening=this.listenerCount("readable")>0,!1!==Ae.flowing&&this.resume()):"readable"===b&&!Ae.endEmitted&&!Ae.readableListening&&(Ae.readableListening=Ae.needReadable=!0,Ae.flowing=!1,Ae.emittedReadable=!1,he("on readable",Ae.length,Ae.reading),Ae.length?Ie(this):Ae.reading||N.nextTick(oe,this)),le},X.prototype.off=X.prototype.removeListener=function(b,z){const le=ae.prototype.removeListener.call(this,b,z);return"readable"===b&&N.nextTick(be,this),le},X.prototype.removeAllListeners=function(b){const z=ae.prototype.removeAllListeners.apply(this,arguments);return("readable"===b||void 0===b)&&N.nextTick(be,this),z},X.prototype.resume=function(){const b=this._readableState;return b.flowing||(he("resume"),b.flowing=!b.readableListening,function fe(b,z){z.resumeScheduled||(z.resumeScheduled=!0,N.nextTick(we,b,z))}(this,b)),b[O]=!1,this},X.prototype.pause=function(){return he("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(he("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[O]=!0,this},X.prototype.wrap=function(b){let z=!1;b.on("data",Ae=>{!this.push(Ae)&&b.pause&&(z=!0,b.pause())}),b.on("end",()=>{this.push(null)}),b.on("error",Ae=>{E(this,Ae)}),b.on("close",()=>{this.destroy()}),b.on("destroy",()=>{this.destroy()}),this._read=()=>{z&&b.resume&&(z=!1,b.resume())};const le=H(b);for(let Ae=1;Ae<le.length;Ae++){const Be=le[Ae];void 0===this[Be]&&"function"==typeof b[Be]&&(this[Be]=b[Be].bind(b))}return this},X.prototype[W]=function(){return $e(this)},X.prototype.iterator=function(b){return void 0!==b&&D(b,"options"),$e(this,b)},U(X.prototype,{readable:{__proto__:null,get(){const b=this._readableState;return!(!b||!1===b.readable||b.destroyed||b.errorEmitted||b.endEmitted)},set(b){this._readableState&&(this._readableState.readable=!!b)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(b){this._readableState&&(this._readableState.flowing=b)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(b){this._readableState&&(this._readableState.destroyed=b)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),U(q.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[O]},set(b){this[O]=!!b}}}),X._fromList=Pt,X.from=function(b,z){return T(X,b,z)},X.fromWeb=function(b,z){return C().newStreamReadableFromReadableStream(b,z)},X.toWeb=function(b,z){return C().newReadableStreamFromStreamReadable(b,z)},X.wrap=function(b,z){var le,Ae;return new X({objectMode:null===(le=null!==(Ae=b.readableObjectMode)&&void 0!==Ae?Ae:b.objectMode)||void 0===le||le,...z,destroy(Be,ft){ge.destroyer(b,Be),ft(Be)}}).wrap(b)}},31081:(Ye,J,A)=>{"use strict";const{MathFloor:h,NumberIsInteger:x}=A(43856),{ERR_INVALID_ARG_VALUE:N}=A(65109).codes;function M(R){return R?16:16384}Ye.exports={getHighWaterMark:function j(R,U,H,V){const P=function Y(R,U,H){return null!=R.highWaterMark?R.highWaterMark:U?R[H]:null}(U,V,H);if(null!=P){if(!x(P)||P<0)throw new N(V?`options.${H}`:"options.highWaterMark",P);return h(P)}return M(R.objectMode)},getDefaultHighWaterMark:M}},66344:(Ye,J,A)=>{"use strict";const{ObjectSetPrototypeOf:h,Symbol:x}=A(43856);Ye.exports=R;const{ERR_METHOD_NOT_IMPLEMENTED:N}=A(65109).codes,Y=A(97464),{getHighWaterMark:M}=A(31081);h(R.prototype,Y.prototype),h(R,Y);const j=x("kCallback");function R(V){if(!(this instanceof R))return new R(V);const P=V?M(this,V,"readableHighWaterMark",!0):null;0===P&&(V={...V,highWaterMark:null,readableHighWaterMark:P,writableHighWaterMark:V.writableHighWaterMark||0}),Y.call(this,V),this._readableState.sync=!1,this[j]=null,V&&("function"==typeof V.transform&&(this._transform=V.transform),"function"==typeof V.flush&&(this._flush=V.flush)),this.on("prefinish",H)}function U(V){"function"!=typeof this._flush||this.destroyed?(this.push(null),V&&V()):this._flush((P,ee)=>{P?V?V(P):this.destroy(P):(null!=ee&&this.push(ee),this.push(null),V&&V())})}function H(){this._final!==U&&U.call(this)}R.prototype._final=U,R.prototype._transform=function(V,P,ee){throw new N("_transform()")},R.prototype._write=function(V,P,ee){const W=this._readableState,Q=this._writableState,de=W.length;this._transform(V,P,(ae,re)=>{ae?ee(ae):(null!=re&&this.push(re),Q.ended||de===W.length||W.length<W.highWaterMark?ee():this[j]=ee)})},R.prototype._read=function(){if(this[j]){const V=this[j];this[j]=null,V()}}},51233:(Ye,J,A)=>{"use strict";const{Symbol:h,SymbolAsyncIterator:x,SymbolIterator:N,SymbolFor:Y}=A(43856),M=h("kDestroyed"),j=h("kIsErrored"),R=h("kIsReadable"),U=h("kIsDisturbed"),H=Y("nodejs.webstream.isClosedPromise"),V=Y("nodejs.webstream.controllerErrorFunction");function P(E,q=!1){var X;return!(!E||"function"!=typeof E.pipe||"function"!=typeof E.on||q&&("function"!=typeof E.pause||"function"!=typeof E.resume)||E._writableState&&!1===(null===(X=E._readableState)||void 0===X?void 0:X.readable)||E._writableState&&!E._readableState)}function ee(E){var q;return!(!E||"function"!=typeof E.write||"function"!=typeof E.on||E._readableState&&!1===(null===(q=E._writableState)||void 0===q?void 0:q.writable))}function Q(E){return E&&(E._readableState||E._writableState||"function"==typeof E.write&&"function"==typeof E.on||"function"==typeof E.pipe&&"function"==typeof E.on)}function de(E){return!(!E||Q(E)||"function"!=typeof E.pipeThrough||"function"!=typeof E.getReader||"function"!=typeof E.cancel)}function ae(E){return!(!E||Q(E)||"function"!=typeof E.getWriter||"function"!=typeof E.abort)}function re(E){return!(!E||Q(E)||"object"!=typeof E.readable||"object"!=typeof E.writable)}function pe(E){if(!Q(E))return null;const ce=E._writableState||E._readableState;return!!(E.destroyed||E[M]||null!=ce&&ce.destroyed)}function he(E){if(!ee(E))return null;if(!0===E.writableEnded)return!0;const q=E._writableState;return(null==q||!q.errored)&&("boolean"!=typeof q?.ended?null:q.ended)}function Me(E,q){if(!P(E))return null;const X=E._readableState;return(null==X||!X.errored)&&("boolean"!=typeof X?.endEmitted?null:!!(X.endEmitted||!1===q&&!0===X.ended&&0===X.length))}function Oe(E){return E&&null!=E[R]?E[R]:"boolean"!=typeof E?.readable?null:!pe(E)&&P(E)&&E.readable&&!Me(E)}function je(E){return"boolean"!=typeof E?.writable?null:!pe(E)&&ee(E)&&E.writable&&!he(E)}function _(E){return"boolean"==typeof E._closed&&"boolean"==typeof E._defaultKeepAlive&&"boolean"==typeof E._removedConnection&&"boolean"==typeof E._removedContLen}function D(E){return"boolean"==typeof E._sent100&&_(E)}Ye.exports={kDestroyed:M,isDisturbed:function T(E){var q;return!(!E||!(null!==(q=E[U])&&void 0!==q?q:E.readableDidRead||E.readableAborted))},kIsDisturbed:U,isErrored:function c(E){var q,X,ce,me,Te,Ke,Qe,ke,Ie,Xe;return!(!E||!(null!==(q=null!==(X=null!==(ce=null!==(me=null!==(Te=null!==(Ke=E[j])&&void 0!==Ke?Ke:E.readableErrored)&&void 0!==Te?Te:E.writableErrored)&&void 0!==me?me:null===(Qe=E._readableState)||void 0===Qe?void 0:Qe.errorEmitted)&&void 0!==ce?ce:null===(ke=E._writableState)||void 0===ke?void 0:ke.errorEmitted)&&void 0!==X?X:null===(Ie=E._readableState)||void 0===Ie?void 0:Ie.errored)&&void 0!==q?q:null!==(Xe=E._writableState)&&void 0!==Xe&&Xe.errored))},kIsErrored:j,isReadable:Oe,kIsReadable:R,kIsClosedPromise:H,kControllerErrorFunction:V,isClosed:function w(E){if(!Q(E))return null;if("boolean"==typeof E.closed)return E.closed;const q=E._writableState,X=E._readableState;return"boolean"==typeof q?.closed||"boolean"==typeof X?.closed?q?.closed||X?.closed:"boolean"==typeof E._closed&&_(E)?E._closed:null},isDestroyed:pe,isDuplexNodeStream:function W(E){return!(!E||"function"!=typeof E.pipe||!E._readableState||"function"!=typeof E.on||"function"!=typeof E.write)},isFinished:function B(E,q){return Q(E)?!!pe(E)||!(!1!==q?.readable&&Oe(E)||!1!==q?.writable&&je(E)):null},isIterable:function ue(E,q){return null!=E&&(!0===q?"function"==typeof E[x]:!1===q?"function"==typeof E[N]:"function"==typeof E[x]||"function"==typeof E[N])},isReadableNodeStream:P,isReadableStream:de,isReadableEnded:function ge(E){if(!P(E))return null;if(!0===E.readableEnded)return!0;const q=E._readableState;return!(!q||q.errored)&&("boolean"!=typeof q?.ended?null:q.ended)},isReadableFinished:Me,isReadableErrored:function f(E){var q,X;return Q(E)?E.readableErrored?E.readableErrored:null!==(q=null===(X=E._readableState)||void 0===X?void 0:X.errored)&&void 0!==q?q:null:null},isNodeStream:Q,isWebStream:function te(E){return de(E)||ae(E)||re(E)},isWritable:je,isWritableNodeStream:ee,isWritableStream:ae,isWritableEnded:he,isWritableFinished:function ve(E,q){if(!ee(E))return null;if(!0===E.writableFinished)return!0;const X=E._writableState;return(null==X||!X.errored)&&("boolean"!=typeof X?.finished?null:!!(X.finished||!1===q&&!0===X.ended&&0===X.length))},isWritableErrored:function l(E){var q,X;return Q(E)?E.writableErrored?E.writableErrored:null!==(q=null===(X=E._writableState)||void 0===X?void 0:X.errored)&&void 0!==q?q:null:null},isServerRequest:function O(E){var q;return"boolean"==typeof E._consuming&&"boolean"==typeof E._dumped&&void 0===(null===(q=E.req)||void 0===q?void 0:q.upgradeOrConnect)},isServerResponse:D,willEmitClose:function $(E){if(!Q(E))return null;const ce=E._writableState||E._readableState;return!ce&&D(E)||!!(ce&&ce.autoDestroy&&ce.emitClose&&!1===ce.closed)},isTransformStream:re}},40258:(Ye,J,A)=>{const h=A(40573),{ArrayPrototypeSlice:x,Error:N,FunctionPrototypeSymbolHasInstance:Y,ObjectDefineProperty:M,ObjectDefineProperties:j,ObjectSetPrototypeOf:R,StringPrototypeToLowerCase:U,Symbol:H,SymbolHasInstance:V}=A(43856);Ye.exports=D,D.WritableState=w;const{EventEmitter:P}=A(44356),ee=A(2649).Stream,{Buffer:W}=A(89565),Q=A(45078),{addAbortSignal:de}=A(24785),{getHighWaterMark:ae,getDefaultHighWaterMark:re}=A(31081),{ERR_INVALID_ARG_TYPE:te,ERR_METHOD_NOT_IMPLEMENTED:ue,ERR_MULTIPLE_CALLBACK:pe,ERR_STREAM_CANNOT_PIPE:he,ERR_STREAM_DESTROYED:ve,ERR_STREAM_ALREADY_FINISHED:ge,ERR_STREAM_NULL_VALUES:Me,ERR_STREAM_WRITE_AFTER_END:Oe,ERR_UNKNOWN_ENCODING:je}=A(65109).codes,{errorOrDestroy:B}=Q;function l(){}R(D.prototype,ee.prototype),R(D,ee);const f=H("kOnFinished");function w(Ee,be,oe){"boolean"!=typeof oe&&(oe=be instanceof A(97464)),this.objectMode=!(!Ee||!Ee.objectMode),oe&&(this.objectMode=this.objectMode||!(!Ee||!Ee.writableObjectMode)),this.highWaterMark=Ee?ae(this,Ee,"writableHighWaterMark",oe):re(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(Ee&&!1===Ee.decodeStrings),this.defaultEncoding=Ee&&Ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=E.bind(void 0,be),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,_(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!Ee||!1!==Ee.emitClose,this.autoDestroy=!Ee||!1!==Ee.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[f]=[]}function _(Ee){Ee.buffered=[],Ee.bufferedIndex=0,Ee.allBuffers=!0,Ee.allNoop=!0}function D(Ee){const be=this instanceof A(97464);if(!be&&!Y(D,this))return new D(Ee);this._writableState=new w(Ee,this,be),Ee&&("function"==typeof Ee.write&&(this._write=Ee.write),"function"==typeof Ee.writev&&(this._writev=Ee.writev),"function"==typeof Ee.destroy&&(this._destroy=Ee.destroy),"function"==typeof Ee.final&&(this._final=Ee.final),"function"==typeof Ee.construct&&(this._construct=Ee.construct),Ee.signal&&de(Ee.signal,this)),ee.call(this,Ee),Q.construct(this,()=>{const oe=this._writableState;oe.writing||me(this,oe),ke(this,oe)})}function O(Ee,be,oe,fe){const we=Ee._writableState;if("function"==typeof oe)fe=oe,oe=we.defaultEncoding;else{if(oe){if("buffer"!==oe&&!W.isEncoding(oe))throw new je(oe)}else oe=we.defaultEncoding;"function"!=typeof fe&&(fe=l)}if(null===be)throw new Me;if(!we.objectMode)if("string"==typeof be)!1!==we.decodeStrings&&(be=W.from(be,oe),oe="buffer");else if(be instanceof W)oe="buffer";else{if(!ee._isUint8Array(be))throw new te("chunk",["string","Buffer","Uint8Array"],be);be=ee._uint8ArrayToBuffer(be),oe="buffer"}let De;return we.ending?De=new Oe:we.destroyed&&(De=new ve("write")),De?(h.nextTick(fe,De),B(Ee,De,!0),De):(we.pendingcb++,function $(Ee,be,oe,fe,we){const De=be.objectMode?1:oe.length;be.length+=De;const $e=be.length<be.highWaterMark;return $e||(be.needDrain=!0),be.writing||be.corked||be.errored||!be.constructed?(be.buffered.push({chunk:oe,encoding:fe,callback:we}),be.allBuffers&&"buffer"!==fe&&(be.allBuffers=!1),be.allNoop&&we!==l&&(be.allNoop=!1)):(be.writelen=De,be.writecb=we,be.writing=!0,be.sync=!0,Ee._write(oe,fe,be.onwrite),be.sync=!1),$e&&!be.errored&&!be.destroyed}(Ee,we,be,oe,fe))}function T(Ee,be,oe,fe,we,De,$e){be.writelen=fe,be.writecb=$e,be.writing=!0,be.sync=!0,be.destroyed?be.onwrite(new ve("write")):oe?Ee._writev(we,be.onwrite):Ee._write(we,De,be.onwrite),be.sync=!1}function c(Ee,be,oe,fe){--be.pendingcb,fe(oe),ce(be),B(Ee,oe)}function E(Ee,be){const oe=Ee._writableState,fe=oe.sync,we=oe.writecb;"function"==typeof we?(oe.writing=!1,oe.writecb=null,oe.length-=oe.writelen,oe.writelen=0,be?(oe.errored||(oe.errored=be),Ee._readableState&&!Ee._readableState.errored&&(Ee._readableState.errored=be),fe?h.nextTick(c,Ee,oe,be,we):c(Ee,oe,be,we)):(oe.buffered.length>oe.bufferedIndex&&me(Ee,oe),fe?null!==oe.afterWriteTickInfo&&oe.afterWriteTickInfo.cb===we?oe.afterWriteTickInfo.count++:(oe.afterWriteTickInfo={count:1,cb:we,stream:Ee,state:oe},h.nextTick(q,oe.afterWriteTickInfo)):X(Ee,oe,1,we))):B(Ee,new pe)}function q({stream:Ee,state:be,count:oe,cb:fe}){return be.afterWriteTickInfo=null,X(Ee,be,oe,fe)}function X(Ee,be,oe,fe){for(!be.ending&&!Ee.destroyed&&0===be.length&&be.needDrain&&(be.needDrain=!1,Ee.emit("drain"));oe-- >0;)be.pendingcb--,fe();be.destroyed&&ce(be),ke(Ee,be)}function ce(Ee){if(Ee.writing)return;for(let we=Ee.bufferedIndex;we<Ee.buffered.length;++we){var be;const{chunk:De,callback:$e}=Ee.buffered[we];Ee.length-=Ee.objectMode?1:De.length,$e(null!==(be=Ee.errored)&&void 0!==be?be:new ve("write"))}const oe=Ee[f].splice(0);for(let we=0;we<oe.length;we++){var fe;oe[we](null!==(fe=Ee.errored)&&void 0!==fe?fe:new ve("end"))}_(Ee)}function me(Ee,be){if(be.corked||be.bufferProcessing||be.destroyed||!be.constructed)return;const{buffered:oe,bufferedIndex:fe,objectMode:we}=be,De=oe.length-fe;if(!De)return;let $e=fe;if(be.bufferProcessing=!0,De>1&&Ee._writev){be.pendingcb-=De-1;const Je=be.allNoop?l:Pt=>{for(let nt=$e;nt<oe.length;++nt)oe[nt].callback(Pt)},Ze=be.allNoop&&0===$e?oe:x(oe,$e);Ze.allBuffers=be.allBuffers,T(Ee,be,!0,be.length,Ze,"",Je),_(be)}else{do{const{chunk:Je,encoding:Ze,callback:Pt}=oe[$e];oe[$e++]=null,T(Ee,be,!1,we?1:Je.length,Je,Ze,Pt)}while($e<oe.length&&!be.writing);$e===oe.length?_(be):$e>256?(oe.splice(0,$e),be.bufferedIndex=0):be.bufferedIndex=$e}be.bufferProcessing=!1}function Te(Ee){return Ee.ending&&!Ee.destroyed&&Ee.constructed&&0===Ee.length&&!Ee.errored&&0===Ee.buffered.length&&!Ee.finished&&!Ee.writing&&!Ee.errorEmitted&&!Ee.closeEmitted}function ke(Ee,be,oe){Te(be)&&(function Qe(Ee,be){!be.prefinished&&!be.finalCalled&&("function"!=typeof Ee._final||be.destroyed?(be.prefinished=!0,Ee.emit("prefinish")):(be.finalCalled=!0,function Ke(Ee,be){let oe=!1;function fe(we){if(oe)B(Ee,we??pe());else if(oe=!0,be.pendingcb--,we){const De=be[f].splice(0);for(let $e=0;$e<De.length;$e++)De[$e](we);B(Ee,we,be.sync)}else Te(be)&&(be.prefinished=!0,Ee.emit("prefinish"),be.pendingcb++,h.nextTick(Ie,Ee,be))}be.sync=!0,be.pendingcb++;try{Ee._final(fe)}catch(we){fe(we)}be.sync=!1}(Ee,be)))}(Ee,be),0===be.pendingcb&&(oe?(be.pendingcb++,h.nextTick((fe,we)=>{Te(we)?Ie(fe,we):we.pendingcb--},Ee,be)):Te(be)&&(be.pendingcb++,Ie(Ee,be))))}function Ie(Ee,be){be.pendingcb--,be.finished=!0;const oe=be[f].splice(0);for(let fe=0;fe<oe.length;fe++)oe[fe]();if(Ee.emit("finish"),be.autoDestroy){const fe=Ee._readableState;(!fe||fe.autoDestroy&&(fe.endEmitted||!1===fe.readable))&&Ee.destroy()}}w.prototype.getBuffer=function(){return x(this.buffered,this.bufferedIndex)},M(w.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),M(D,V,{__proto__:null,value:function(Ee){return!!Y(this,Ee)||this===D&&Ee&&Ee._writableState instanceof w}}),D.prototype.pipe=function(){B(this,new he)},D.prototype.write=function(Ee,be,oe){return!0===O(this,Ee,be,oe)},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){const Ee=this._writableState;Ee.corked&&(Ee.corked--,Ee.writing||me(this,Ee))},D.prototype.setDefaultEncoding=function(be){if("string"==typeof be&&(be=U(be)),!W.isEncoding(be))throw new je(be);return this._writableState.defaultEncoding=be,this},D.prototype._write=function(Ee,be,oe){if(!this._writev)throw new ue("_write()");this._writev([{chunk:Ee,encoding:be}],oe)},D.prototype._writev=null,D.prototype.end=function(Ee,be,oe){const fe=this._writableState;let we;if("function"==typeof Ee?(oe=Ee,Ee=null,be=null):"function"==typeof be&&(oe=be,be=null),null!=Ee){const De=O(this,Ee,be);De instanceof N&&(we=De)}return fe.corked&&(fe.corked=1,this.uncork()),we||(fe.errored||fe.ending?fe.finished?we=new ge("end"):fe.destroyed&&(we=new ve("end")):(fe.ending=!0,ke(this,fe,!0),fe.ended=!0)),"function"==typeof oe&&(we||fe.finished?h.nextTick(oe,we):fe[f].push(oe)),this},j(D.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(Ee){this._writableState&&(this._writableState.destroyed=Ee)}},writable:{__proto__:null,get(){const Ee=this._writableState;return!(!Ee||!1===Ee.writable||Ee.destroyed||Ee.errored||Ee.ending||Ee.ended)},set(Ee){this._writableState&&(this._writableState.writable=!!Ee)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const Ee=this._writableState;return!!Ee&&!Ee.destroyed&&!Ee.ending&&Ee.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Xe=Q.destroy;let Se;function Le(){return void 0===Se&&(Se={}),Se}D.prototype.destroy=function(Ee,be){const oe=this._writableState;return!oe.destroyed&&(oe.bufferedIndex<oe.buffered.length||oe[f].length)&&h.nextTick(ce,oe),Xe.call(this,Ee,be),this},D.prototype._undestroy=Q.undestroy,D.prototype._destroy=function(Ee,be){be(Ee)},D.prototype[P.captureRejectionSymbol]=function(Ee){this.destroy(Ee)},D.fromWeb=function(Ee,be){return Le().newStreamWritableFromWritableStream(Ee,be)},D.toWeb=function(Ee){return Le().newWritableStreamFromStreamWritable(Ee)}},44323:(Ye,J,A)=>{"use strict";const{ArrayIsArray:h,ArrayPrototypeIncludes:x,ArrayPrototypeJoin:N,ArrayPrototypeMap:Y,NumberIsInteger:M,NumberIsNaN:j,NumberMAX_SAFE_INTEGER:R,NumberMIN_SAFE_INTEGER:U,NumberParseInt:H,ObjectPrototypeHasOwnProperty:V,RegExpPrototypeExec:P,String:ee,StringPrototypeToUpperCase:W,StringPrototypeTrim:Q}=A(43856),{hideStackFrames:de,codes:{ERR_SOCKET_BAD_PORT:ae,ERR_INVALID_ARG_TYPE:re,ERR_INVALID_ARG_VALUE:te,ERR_OUT_OF_RANGE:ue,ERR_UNKNOWN_SIGNAL:pe}}=A(65109),{normalizeEncoding:he}=A(55830),{isAsyncFunction:ve,isArrayBufferView:ge}=A(55830).types,Me={},B=/^[0-7]+$/,w=de((De,$e,Je=U,Ze=R)=>{if("number"!=typeof De)throw new re($e,"number",De);if(!M(De))throw new ue($e,"an integer",De);if(De<Je||De>Ze)throw new ue($e,`>= ${Je} && <= ${Ze}`,De)}),_=de((De,$e,Je=-2147483648,Ze=2147483647)=>{if("number"!=typeof De)throw new re($e,"number",De);if(!M(De))throw new ue($e,"an integer",De);if(De<Je||De>Ze)throw new ue($e,`>= ${Je} && <= ${Ze}`,De)}),D=de((De,$e,Je=!1)=>{if("number"!=typeof De)throw new re($e,"number",De);if(!M(De))throw new ue($e,"an integer",De);const Ze=Je?1:0,Pt=4294967295;if(De<Ze||De>Pt)throw new ue($e,`>= ${Ze} && <= ${Pt}`,De)});function O(De,$e){if("string"!=typeof De)throw new re($e,"string",De)}const T=de((De,$e,Je)=>{if(!x(Je,De)){const Pt="must be one of: "+N(Y(Je,nt=>"string"==typeof nt?`'${nt}'`:ee(nt)),", ");throw new te($e,De,Pt)}});function c(De,$e){if("boolean"!=typeof De)throw new re($e,"boolean",De)}function E(De,$e,Je){return null!=De&&V(De,$e)?De[$e]:Je}const q=de((De,$e,Je=null)=>{const Ze=E(Je,"allowArray",!1),Pt=E(Je,"allowFunction",!1);if(!E(Je,"nullable",!1)&&null===De||!Ze&&h(De)||"object"!=typeof De&&(!Pt||"function"!=typeof De))throw new re($e,"Object",De)}),X=de((De,$e)=>{if(null!=De&&"object"!=typeof De&&"function"!=typeof De)throw new re($e,"a dictionary",De)}),ce=de((De,$e,Je=0)=>{if(!h(De))throw new re($e,"Array",De);if(De.length<Je)throw new te($e,De,`must be longer than ${Je}`)}),Qe=de((De,$e="buffer")=>{if(!ge(De))throw new re($e,["Buffer","TypedArray","DataView"],De)}),Xe=de((De,$e)=>{if(void 0!==De&&(null===De||"object"!=typeof De||!("aborted"in De)))throw new re($e,"AbortSignal",De)}),Se=de((De,$e)=>{if("function"!=typeof De)throw new re($e,"Function",De)}),Le=de((De,$e)=>{if("function"!=typeof De||ve(De))throw new re($e,"Function",De)}),Ee=de((De,$e)=>{if(void 0!==De)throw new re($e,"undefined",De)}),oe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function fe(De,$e){if(typeof De>"u"||!P(oe,De))throw new te($e,De,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Ye.exports={isInt32:function Oe(De){return De===(0|De)},isUint32:function je(De){return De===De>>>0},parseFileMode:function f(De,$e,Je){if(typeof De>"u"&&(De=Je),"string"==typeof De){if(null===P(B,De))throw new te($e,De,"must be a 32-bit unsigned integer or an octal string");De=H(De,8)}return D(De,$e),De},validateArray:ce,validateStringArray:function me(De,$e){ce(De,$e);for(let Je=0;Je<De.length;Je++)O(De[Je],`${$e}[${Je}]`)},validateBooleanArray:function Te(De,$e){ce(De,$e);for(let Je=0;Je<De.length;Je++)c(De[Je],`${$e}[${Je}]`)},validateBoolean:c,validateBuffer:Qe,validateDictionary:X,validateEncoding:function ke(De,$e){const Je=he($e),Ze=De.length;if("hex"===Je&&Ze%2!=0)throw new te("encoding",$e,`is invalid for data of length ${Ze}`)},validateFunction:Se,validateInt32:_,validateInteger:w,validateNumber:function $(De,$e,Je=void 0,Ze){if("number"!=typeof De)throw new re($e,"number",De);if(null!=Je&&De<Je||null!=Ze&&De>Ze||(null!=Je||null!=Ze)&&j(De))throw new ue($e,`${null!=Je?`>= ${Je}`:""}${null!=Je&&null!=Ze?" && ":""}${null!=Ze?`<= ${Ze}`:""}`,De)},validateObject:q,validateOneOf:T,validatePlainFunction:Le,validatePort:function Ie(De,$e="Port",Je=!0){if("number"!=typeof De&&"string"!=typeof De||"string"==typeof De&&0===Q(De).length||+De!=+De>>>0||De>65535||0===De&&!Je)throw new ae($e,De,Je);return 0|De},validateSignalName:function Ke(De,$e="signal"){if(O(De,$e),void 0===Me[De])throw void 0!==Me[W(De)]?new pe(De+" (signals must use all capital letters)"):new pe(De)},validateString:O,validateUint32:D,validateUndefined:Ee,validateUnion:function be(De,$e,Je){if(!x(Je,De))throw new re($e,`('${N(Je,"|")}')`,De)},validateAbortSignal:Xe,validateLinkHeaderValue:function we(De){if("string"==typeof De)return fe(De,"hints"),De;if(h(De)){const $e=De.length;let Je="";if(0===$e)return Je;for(let Ze=0;Ze<$e;Ze++){const Pt=De[Ze];fe(Pt,"hints"),Je+=Pt,Ze!==$e-1&&(Je+=", ")}return Je}throw new te("hints",De,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},95424:(Ye,J,A)=>{"use strict";const h=A(3052),x=A(19905),N=h.Readable.destroy;Ye.exports=h.Readable,Ye.exports._uint8ArrayToBuffer=h._uint8ArrayToBuffer,Ye.exports._isUint8Array=h._isUint8Array,Ye.exports.isDisturbed=h.isDisturbed,Ye.exports.isErrored=h.isErrored,Ye.exports.isReadable=h.isReadable,Ye.exports.Readable=h.Readable,Ye.exports.Writable=h.Writable,Ye.exports.Duplex=h.Duplex,Ye.exports.Transform=h.Transform,Ye.exports.PassThrough=h.PassThrough,Ye.exports.addAbortSignal=h.addAbortSignal,Ye.exports.finished=h.finished,Ye.exports.destroy=h.destroy,Ye.exports.destroy=N,Ye.exports.pipeline=h.pipeline,Ye.exports.compose=h.compose,Object.defineProperty(h,"promises",{configurable:!0,enumerable:!0,get:()=>x}),Ye.exports.Stream=h.Stream,Ye.exports.default=Ye.exports},65109:(Ye,J,A)=>{"use strict";const{format:h,inspect:x,AggregateError:N}=A(55830),Y=globalThis.AggregateError||N,M=Symbol("kIsNodeError"),j=["string","function","number","object","Function","Object","boolean","bigint","symbol"],R=/^([A-Z][a-z0-9]*)+$/,H={};function V(re,te){if(!re)throw new H.ERR_INTERNAL_ASSERTION(te)}function P(re){let te="",ue=re.length;const pe="-"===re[0]?1:0;for(;ue>=pe+4;ue-=3)te=`_${re.slice(ue-3,ue)}${te}`;return`${re.slice(0,ue)}${te}`}function W(re,te,ue){ue||(ue=Error);class pe extends ue{constructor(...ve){super(function ee(re,te,ue){if("function"==typeof te)return V(te.length<=ue.length,`Code: ${re}; The provided arguments length (${ue.length}) does not match the required ones (${te.length}).`),te(...ue);const pe=(te.match(/%[dfijoOs]/g)||[]).length;return V(pe===ue.length,`Code: ${re}; The provided arguments length (${ue.length}) does not match the required ones (${pe}).`),0===ue.length?te:h(te,...ue)}(re,te,ve))}toString(){return`${this.name} [${re}]: ${this.message}`}}Object.defineProperties(pe.prototype,{name:{value:ue.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${re}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),pe.prototype.code=re,pe.prototype[M]=!0,H[re]=pe}function Q(re){return Object.defineProperty(re,"name",{value:"__node_internal_"+re.name}),re}class ae extends Error{constructor(te="The operation was aborted",ue=void 0){if(void 0!==ue&&"object"!=typeof ue)throw new H.ERR_INVALID_ARG_TYPE("options","Object",ue);super(te,ue),this.code="ABORT_ERR",this.name="AbortError"}}W("ERR_ASSERTION","%s",Error),W("ERR_INVALID_ARG_TYPE",(re,te,ue)=>{V("string"==typeof re,"'name' must be a string"),Array.isArray(te)||(te=[te]);let pe="The ";re.endsWith(" argument")?pe+=`${re} `:pe+=`"${re}" ${re.includes(".")?"property":"argument"} `,pe+="must be ";const he=[],ve=[],ge=[];for(const Oe of te)V("string"==typeof Oe,"All expected entries have to be of type string"),j.includes(Oe)?he.push(Oe.toLowerCase()):R.test(Oe)?ve.push(Oe):(V("object"!==Oe,'The value "object" should be written as "Object"'),ge.push(Oe));if(ve.length>0){const Oe=he.indexOf("object");-1!==Oe&&(he.splice(he,Oe,1),ve.push("Object"))}if(he.length>0){switch(he.length){case 1:pe+=`of type ${he[0]}`;break;case 2:pe+=`one of type ${he[0]} or ${he[1]}`;break;default:{const Oe=he.pop();pe+=`one of type ${he.join(", ")}, or ${Oe}`}}(ve.length>0||ge.length>0)&&(pe+=" or ")}if(ve.length>0){switch(ve.length){case 1:pe+=`an instance of ${ve[0]}`;break;case 2:pe+=`an instance of ${ve[0]} or ${ve[1]}`;break;default:{const Oe=ve.pop();pe+=`an instance of ${ve.join(", ")}, or ${Oe}`}}ge.length>0&&(pe+=" or ")}switch(ge.length){case 0:break;case 1:ge[0].toLowerCase()!==ge[0]&&(pe+="an "),pe+=`${ge[0]}`;break;case 2:pe+=`one of ${ge[0]} or ${ge[1]}`;break;default:{const Oe=ge.pop();pe+=`one of ${ge.join(", ")}, or ${Oe}`}}if(null==ue)pe+=`. Received ${ue}`;else if("function"==typeof ue&&ue.name)pe+=`. Received function ${ue.name}`;else if("object"==typeof ue){var Me;null!==(Me=ue.constructor)&&void 0!==Me&&Me.name?pe+=`. Received an instance of ${ue.constructor.name}`:pe+=`. Received ${x(ue,{depth:-1})}`}else{let Oe=x(ue,{colors:!1});Oe.length>25&&(Oe=`${Oe.slice(0,25)}...`),pe+=`. Received type ${typeof ue} (${Oe})`}return pe},TypeError),W("ERR_INVALID_ARG_VALUE",(re,te,ue="is invalid")=>{let pe=x(te);return pe.length>128&&(pe=pe.slice(0,128)+"..."),`The ${re.includes(".")?"property":"argument"} '${re}' ${ue}. Received ${pe}`},TypeError),W("ERR_INVALID_RETURN_VALUE",(re,te,ue)=>{var pe;return`Expected ${re} to be returned from the "${te}" function but got ${null!=ue&&null!==(pe=ue.constructor)&&void 0!==pe&&pe.name?`instance of ${ue.constructor.name}`:"type "+typeof ue}.`},TypeError),W("ERR_MISSING_ARGS",(...re)=>{let te;V(re.length>0,"At least one arg needs to be specified");const ue=re.length;switch(re=(Array.isArray(re)?re:[re]).map(pe=>`"${pe}"`).join(" or "),ue){case 1:te+=`The ${re[0]} argument`;break;case 2:te+=`The ${re[0]} and ${re[1]} arguments`;break;default:{const pe=re.pop();te+=`The ${re.join(", ")}, and ${pe} arguments`}}return`${te} must be specified`},TypeError),W("ERR_OUT_OF_RANGE",(re,te,ue)=>{let pe;return V(te,'Missing "range" argument'),Number.isInteger(ue)&&Math.abs(ue)>2**32?pe=P(String(ue)):"bigint"==typeof ue?(pe=String(ue),(ue>2n**32n||ue<-(2n**32n))&&(pe=P(pe)),pe+="n"):pe=x(ue),`The value of "${re}" is out of range. It must be ${te}. Received ${pe}`},RangeError),W("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),W("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),W("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),W("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),W("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),W("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),W("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),W("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),W("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),W("ERR_STREAM_WRITE_AFTER_END","write after end",Error),W("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Ye.exports={AbortError:ae,aggregateTwoErrors:Q(function de(re,te){if(re&&te&&re!==te){if(Array.isArray(te.errors))return te.errors.push(re),te;const ue=new Y([te,re],te.message);return ue.code=te.code,ue}return re||te}),hideStackFrames:Q,codes:H}},43856:Ye=>{"use strict";Ye.exports={ArrayIsArray:J=>Array.isArray(J),ArrayPrototypeIncludes:(J,A)=>J.includes(A),ArrayPrototypeIndexOf:(J,A)=>J.indexOf(A),ArrayPrototypeJoin:(J,A)=>J.join(A),ArrayPrototypeMap:(J,A)=>J.map(A),ArrayPrototypePop:(J,A)=>J.pop(A),ArrayPrototypePush:(J,A)=>J.push(A),ArrayPrototypeSlice:(J,A,h)=>J.slice(A,h),Error,FunctionPrototypeCall:(J,A,...h)=>J.call(A,...h),FunctionPrototypeSymbolHasInstance:(J,A)=>Function.prototype[Symbol.hasInstance].call(J,A),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(J,A)=>Object.defineProperties(J,A),ObjectDefineProperty:(J,A,h)=>Object.defineProperty(J,A,h),ObjectGetOwnPropertyDescriptor:(J,A)=>Object.getOwnPropertyDescriptor(J,A),ObjectKeys:J=>Object.keys(J),ObjectSetPrototypeOf:(J,A)=>Object.setPrototypeOf(J,A),Promise,PromisePrototypeCatch:(J,A)=>J.catch(A),PromisePrototypeThen:(J,A,h)=>J.then(A,h),PromiseReject:J=>Promise.reject(J),ReflectApply:Reflect.apply,RegExpPrototypeTest:(J,A)=>J.test(A),SafeSet:Set,String,StringPrototypeSlice:(J,A,h)=>J.slice(A,h),StringPrototypeToLowerCase:J=>J.toLowerCase(),StringPrototypeToUpperCase:J=>J.toUpperCase(),StringPrototypeTrim:J=>J.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(J,A,h)=>J.set(A,h),Uint8Array}},55830:(Ye,J,A)=>{"use strict";var h=A(29293).default;const x=A(89565),N=Object.getPrototypeOf(h(function*(){})).constructor,Y=globalThis.Blob||x.Blob,M=typeof Y<"u"?function(U){return U instanceof Y}:function(U){return!1};class j extends Error{constructor(U){if(!Array.isArray(U))throw new TypeError("Expected input to be an Array, got "+typeof U);let H="";for(let V=0;V<U.length;V++)H+=`    ${U[V].stack}\n`;super(H),this.name="AggregateError",this.errors=U}}Ye.exports={AggregateError:j,kEmptyObject:Object.freeze({}),once(R){let U=!1;return function(...H){U||(U=!0,R.apply(this,H))}},createDeferredPromise:function(){let R,U;return{promise:new Promise((V,P)=>{R=V,U=P}),resolve:R,reject:U}},promisify:R=>new Promise((U,H)=>{R((V,...P)=>V?H(V):U(...P))}),debuglog:()=>function(){},format:(R,...U)=>R.replace(/%([sdifj])/g,function(...[H,V]){const P=U.shift();return"f"===V?P.toFixed(6):"j"===V?JSON.stringify(P):"s"===V&&"object"==typeof P?`${P.constructor!==Object?P.constructor.name:""} {}`.trim():P.toString()}),inspect(R){switch(typeof R){case"string":if(R.includes("'")){if(!R.includes('"'))return`"${R}"`;if(!R.includes("`")&&!R.includes("${"))return`\`${R}\``}return`'${R}'`;case"number":return isNaN(R)?"NaN":Object.is(R,-0)?String(R):R;case"bigint":return`${String(R)}n`;case"boolean":case"undefined":return String(R);case"object":return"{}"}},types:{isAsyncFunction:R=>R instanceof N,isArrayBufferView:R=>ArrayBuffer.isView(R)},isBlob:M},Ye.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},3052:(Ye,J,A)=>{const{Buffer:h}=A(89565),{ObjectDefineProperty:x,ObjectKeys:N,ReflectApply:Y}=A(43856),{promisify:{custom:M}}=A(55830),{streamReturningOperators:j,promiseReturningOperators:R}=A(37325),{codes:{ERR_ILLEGAL_CONSTRUCTOR:U}}=A(65109),H=A(5464),{pipeline:V}=A(96208),{destroyer:P}=A(45078),ee=A(44268),Q=A(19905),de=A(51233),ae=Ye.exports=A(2649).Stream;ae.isDisturbed=de.isDisturbed,ae.isErrored=de.isErrored,ae.isReadable=de.isReadable,ae.Readable=A(29710);for(const ue of N(j)){let he=function(...ve){if(new.target)throw U();return ae.Readable.from(Y(pe,this,ve))};const pe=j[ue];x(he,"name",{__proto__:null,value:pe.name}),x(he,"length",{__proto__:null,value:pe.length}),x(ae.Readable.prototype,ue,{__proto__:null,value:he,enumerable:!1,configurable:!0,writable:!0})}for(const ue of N(R)){let he=function(...ge){if(new.target)throw U();return Y(pe,this,ge)};const pe=R[ue];x(he,"name",{__proto__:null,value:pe.name}),x(he,"length",{__proto__:null,value:pe.length}),x(ae.Readable.prototype,ue,{__proto__:null,value:he,enumerable:!1,configurable:!0,writable:!0})}ae.Writable=A(40258),ae.Duplex=A(97464),ae.Transform=A(66344),ae.PassThrough=A(70874),ae.pipeline=V;const{addAbortSignal:re}=A(24785);ae.addAbortSignal=re,ae.finished=ee,ae.destroy=P,ae.compose=H,x(ae,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>Q}),x(V,M,{__proto__:null,enumerable:!0,get:()=>Q.pipeline}),x(ee,M,{__proto__:null,enumerable:!0,get:()=>Q.finished}),ae.Stream=ae,ae._isUint8Array=function(pe){return pe instanceof Uint8Array},ae._uint8ArrayToBuffer=function(pe){return h.from(pe.buffer,pe.byteOffset,pe.byteLength)}},19905:(Ye,J,A)=>{"use strict";const{ArrayPrototypePop:h,Promise:x}=A(43856),{isIterable:N,isNodeStream:Y,isWebStream:M}=A(51233),{pipelineImpl:j}=A(96208),{finished:R}=A(44268);A(3052),Ye.exports={finished:R,pipeline:function U(...H){return new x((V,P)=>{let ee,W;const Q=H[H.length-1];if(Q&&"object"==typeof Q&&!Y(Q)&&!N(Q)&&!M(Q)){const de=h(H);ee=de.signal,W=de.end}j(H,(de,ae)=>{de?P(de):V(ae)},{signal:ee,end:W})})}}},37945:(Ye,J,A)=>{"use strict";const h=A(13981),x=A(22020),N="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;J.Buffer=R,J.SlowBuffer=function te(K){return+K!=K&&(K=0),R.alloc(+K)},J.INSPECT_MAX_BYTES=50;const Y=2147483647;function j(K){if(K>Y)throw new RangeError('The value "'+K+'" is invalid for option "size"');const C=new Uint8Array(K);return Object.setPrototypeOf(C,R.prototype),C}function R(K,C,b){if("number"==typeof K){if("string"==typeof C)throw new TypeError('The "string" argument must be of type string. Received type number');return P(K)}return U(K,C,b)}function U(K,C,b){if("string"==typeof K)return function ee(K,C){if(("string"!=typeof C||""===C)&&(C="utf8"),!R.isEncoding(C))throw new TypeError("Unknown encoding: "+C);const b=0|ue(K,C);let z=j(b);const le=z.write(K,C);return le!==b&&(z=z.slice(0,le)),z}(K,C);if(ArrayBuffer.isView(K))return function Q(K){if(Ze(K,Uint8Array)){const C=new Uint8Array(K);return de(C.buffer,C.byteOffset,C.byteLength)}return W(K)}(K);if(null==K)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(Ze(K,ArrayBuffer)||K&&Ze(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ze(K,SharedArrayBuffer)||K&&Ze(K.buffer,SharedArrayBuffer)))return de(K,C,b);if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');const z=K.valueOf&&K.valueOf();if(null!=z&&z!==K)return R.from(z,C,b);const le=function ae(K){if(R.isBuffer(K)){const C=0|re(K.length),b=j(C);return 0===b.length||K.copy(b,0,0,C),b}return void 0!==K.length?"number"!=typeof K.length||Pt(K.length)?j(0):W(K):"Buffer"===K.type&&Array.isArray(K.data)?W(K.data):void 0}(K);if(le)return le;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return R.from(K[Symbol.toPrimitive]("string"),C,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function H(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function P(K){return H(K),j(K<0?0:0|re(K))}function W(K){const C=K.length<0?0:0|re(K.length),b=j(C);for(let z=0;z<C;z+=1)b[z]=255&K[z];return b}function de(K,C,b){if(C<0||K.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<C+(b||0))throw new RangeError('"length" is outside of buffer bounds');let z;return z=void 0===C&&void 0===b?new Uint8Array(K):void 0===b?new Uint8Array(K,C):new Uint8Array(K,C,b),Object.setPrototypeOf(z,R.prototype),z}function re(K){if(K>=Y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Y.toString(16)+" bytes");return 0|K}function ue(K,C){if(R.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||Ze(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const b=K.length,z=arguments.length>2&&!0===arguments[2];if(!z&&0===b)return 0;let le=!1;for(;;)switch(C){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return fe(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*b;case"hex":return b>>>1;case"base64":return $e(K).length;default:if(le)return z?-1:fe(K).length;C=(""+C).toLowerCase(),le=!0}}function pe(K,C,b){let z=!1;if((void 0===C||C<0)&&(C=0),C>this.length||((void 0===b||b>this.length)&&(b=this.length),b<=0)||(b>>>=0)<=(C>>>=0))return"";for(K||(K="utf8");;)switch(K){case"hex":return T(this,C,b);case"utf8":case"utf-8":return w(this,C,b);case"ascii":return O(this,C,b);case"latin1":case"binary":return $(this,C,b);case"base64":return f(this,C,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c(this,C,b);default:if(z)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),z=!0}}function he(K,C,b){const z=K[C];K[C]=K[b],K[b]=z}function ve(K,C,b,z,le){if(0===K.length)return-1;if("string"==typeof b?(z=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),Pt(b=+b)&&(b=le?0:K.length-1),b<0&&(b=K.length+b),b>=K.length){if(le)return-1;b=K.length-1}else if(b<0){if(!le)return-1;b=0}if("string"==typeof C&&(C=R.from(C,z)),R.isBuffer(C))return 0===C.length?-1:ge(K,C,b,z,le);if("number"==typeof C)return C&=255,"function"==typeof Uint8Array.prototype.indexOf?le?Uint8Array.prototype.indexOf.call(K,C,b):Uint8Array.prototype.lastIndexOf.call(K,C,b):ge(K,[C],b,z,le);throw new TypeError("val must be string, number or Buffer")}function ge(K,C,b,z,le){let Rt,Ae=1,Be=K.length,ft=C.length;if(void 0!==z&&("ucs2"===(z=String(z).toLowerCase())||"ucs-2"===z||"utf16le"===z||"utf-16le"===z)){if(K.length<2||C.length<2)return-1;Ae=2,Be/=2,ft/=2,b/=2}function Yt(Vt,dn){return 1===Ae?Vt[dn]:Vt.readUInt16BE(dn*Ae)}if(le){let Vt=-1;for(Rt=b;Rt<Be;Rt++)if(Yt(K,Rt)===Yt(C,-1===Vt?0:Rt-Vt)){if(-1===Vt&&(Vt=Rt),Rt-Vt+1===ft)return Vt*Ae}else-1!==Vt&&(Rt-=Rt-Vt),Vt=-1}else for(b+ft>Be&&(b=Be-ft),Rt=b;Rt>=0;Rt--){let Vt=!0;for(let dn=0;dn<ft;dn++)if(Yt(K,Rt+dn)!==Yt(C,dn)){Vt=!1;break}if(Vt)return Rt}return-1}function Me(K,C,b,z){b=Number(b)||0;const le=K.length-b;z?(z=Number(z))>le&&(z=le):z=le;const Ae=C.length;let Be;for(z>Ae/2&&(z=Ae/2),Be=0;Be<z;++Be){const ft=parseInt(C.substr(2*Be,2),16);if(Pt(ft))return Be;K[b+Be]=ft}return Be}function Oe(K,C,b,z){return Je(fe(C,K.length-b),K,b,z)}function je(K,C,b,z){return Je(function we(K){const C=[];for(let b=0;b<K.length;++b)C.push(255&K.charCodeAt(b));return C}(C),K,b,z)}function B(K,C,b,z){return Je($e(C),K,b,z)}function l(K,C,b,z){return Je(function De(K,C){let b,z,le;const Ae=[];for(let Be=0;Be<K.length&&!((C-=2)<0);++Be)b=K.charCodeAt(Be),z=b>>8,le=b%256,Ae.push(le),Ae.push(z);return Ae}(C,K.length-b),K,b,z)}function f(K,C,b){return h.fromByteArray(0===C&&b===K.length?K:K.slice(C,b))}function w(K,C,b){b=Math.min(K.length,b);const z=[];let le=C;for(;le<b;){const Ae=K[le];let Be=null,ft=Ae>239?4:Ae>223?3:Ae>191?2:1;if(le+ft<=b){let Yt,Rt,Vt,dn;switch(ft){case 1:Ae<128&&(Be=Ae);break;case 2:Yt=K[le+1],128==(192&Yt)&&(dn=(31&Ae)<<6|63&Yt,dn>127&&(Be=dn));break;case 3:Yt=K[le+1],Rt=K[le+2],128==(192&Yt)&&128==(192&Rt)&&(dn=(15&Ae)<<12|(63&Yt)<<6|63&Rt,dn>2047&&(dn<55296||dn>57343)&&(Be=dn));break;case 4:Yt=K[le+1],Rt=K[le+2],Vt=K[le+3],128==(192&Yt)&&128==(192&Rt)&&128==(192&Vt)&&(dn=(15&Ae)<<18|(63&Yt)<<12|(63&Rt)<<6|63&Vt,dn>65535&&dn<1114112&&(Be=dn))}}null===Be?(Be=65533,ft=1):Be>65535&&(Be-=65536,z.push(Be>>>10&1023|55296),Be=56320|1023&Be),z.push(Be),le+=ft}return function D(K){const C=K.length;if(C<=_)return String.fromCharCode.apply(String,K);let b="",z=0;for(;z<C;)b+=String.fromCharCode.apply(String,K.slice(z,z+=_));return b}(z)}J.kMaxLength=Y,!(R.TYPED_ARRAY_SUPPORT=function M(){try{const K=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(K,C),42===K.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(R.prototype,"parent",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.buffer}}),Object.defineProperty(R.prototype,"offset",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.byteOffset}}),R.poolSize=8192,R.from=function(K,C,b){return U(K,C,b)},Object.setPrototypeOf(R.prototype,Uint8Array.prototype),Object.setPrototypeOf(R,Uint8Array),R.alloc=function(K,C,b){return function V(K,C,b){return H(K),K<=0?j(K):void 0!==C?"string"==typeof b?j(K).fill(C,b):j(K).fill(C):j(K)}(K,C,b)},R.allocUnsafe=function(K){return P(K)},R.allocUnsafeSlow=function(K){return P(K)},R.isBuffer=function(C){return null!=C&&!0===C._isBuffer&&C!==R.prototype},R.compare=function(C,b){if(Ze(C,Uint8Array)&&(C=R.from(C,C.offset,C.byteLength)),Ze(b,Uint8Array)&&(b=R.from(b,b.offset,b.byteLength)),!R.isBuffer(C)||!R.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===b)return 0;let z=C.length,le=b.length;for(let Ae=0,Be=Math.min(z,le);Ae<Be;++Ae)if(C[Ae]!==b[Ae]){z=C[Ae],le=b[Ae];break}return z<le?-1:le<z?1:0},R.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},R.concat=function(C,b){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(0===C.length)return R.alloc(0);let z;if(void 0===b)for(b=0,z=0;z<C.length;++z)b+=C[z].length;const le=R.allocUnsafe(b);let Ae=0;for(z=0;z<C.length;++z){let Be=C[z];if(Ze(Be,Uint8Array))Ae+Be.length>le.length?(R.isBuffer(Be)||(Be=R.from(Be)),Be.copy(le,Ae)):Uint8Array.prototype.set.call(le,Be,Ae);else{if(!R.isBuffer(Be))throw new TypeError('"list" argument must be an Array of Buffers');Be.copy(le,Ae)}Ae+=Be.length}return le},R.byteLength=ue,R.prototype._isBuffer=!0,R.prototype.swap16=function(){const C=this.length;if(C%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<C;b+=2)he(this,b,b+1);return this},R.prototype.swap32=function(){const C=this.length;if(C%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<C;b+=4)he(this,b,b+3),he(this,b+1,b+2);return this},R.prototype.swap64=function(){const C=this.length;if(C%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<C;b+=8)he(this,b,b+7),he(this,b+1,b+6),he(this,b+2,b+5),he(this,b+3,b+4);return this},R.prototype.toLocaleString=R.prototype.toString=function(){const C=this.length;return 0===C?"":0===arguments.length?w(this,0,C):pe.apply(this,arguments)},R.prototype.equals=function(C){if(!R.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C||0===R.compare(this,C)},R.prototype.inspect=function(){let C="";const b=J.INSPECT_MAX_BYTES;return C=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(C+=" ... "),"<Buffer "+C+">"},N&&(R.prototype[N]=R.prototype.inspect),R.prototype.compare=function(C,b,z,le,Ae){if(Ze(C,Uint8Array)&&(C=R.from(C,C.offset,C.byteLength)),!R.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(void 0===b&&(b=0),void 0===z&&(z=C?C.length:0),void 0===le&&(le=0),void 0===Ae&&(Ae=this.length),b<0||z>C.length||le<0||Ae>this.length)throw new RangeError("out of range index");if(le>=Ae&&b>=z)return 0;if(le>=Ae)return-1;if(b>=z)return 1;if(this===C)return 0;let Be=(Ae>>>=0)-(le>>>=0),ft=(z>>>=0)-(b>>>=0);const Yt=Math.min(Be,ft),Rt=this.slice(le,Ae),Vt=C.slice(b,z);for(let dn=0;dn<Yt;++dn)if(Rt[dn]!==Vt[dn]){Be=Rt[dn],ft=Vt[dn];break}return Be<ft?-1:ft<Be?1:0},R.prototype.includes=function(C,b,z){return-1!==this.indexOf(C,b,z)},R.prototype.indexOf=function(C,b,z){return ve(this,C,b,z,!0)},R.prototype.lastIndexOf=function(C,b,z){return ve(this,C,b,z,!1)},R.prototype.write=function(C,b,z,le){if(void 0===b)le="utf8",z=this.length,b=0;else if(void 0===z&&"string"==typeof b)le=b,z=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b>>>=0,isFinite(z)?(z>>>=0,void 0===le&&(le="utf8")):(le=z,z=void 0)}const Ae=this.length-b;if((void 0===z||z>Ae)&&(z=Ae),C.length>0&&(z<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let Be=!1;for(;;)switch(le){case"hex":return Me(this,C,b,z);case"utf8":case"utf-8":return Oe(this,C,b,z);case"ascii":case"latin1":case"binary":return je(this,C,b,z);case"base64":return B(this,C,b,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,C,b,z);default:if(Be)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Be=!0}},R.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const _=4096;function O(K,C,b){let z="";b=Math.min(K.length,b);for(let le=C;le<b;++le)z+=String.fromCharCode(127&K[le]);return z}function $(K,C,b){let z="";b=Math.min(K.length,b);for(let le=C;le<b;++le)z+=String.fromCharCode(K[le]);return z}function T(K,C,b){const z=K.length;(!C||C<0)&&(C=0),(!b||b<0||b>z)&&(b=z);let le="";for(let Ae=C;Ae<b;++Ae)le+=nt[K[Ae]];return le}function c(K,C,b){const z=K.slice(C,b);let le="";for(let Ae=0;Ae<z.length-1;Ae+=2)le+=String.fromCharCode(z[Ae]+256*z[Ae+1]);return le}function E(K,C,b){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+C>b)throw new RangeError("Trying to access beyond buffer length")}function q(K,C,b,z,le,Ae){if(!R.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>le||C<Ae)throw new RangeError('"value" argument is out of bounds');if(b+z>K.length)throw new RangeError("Index out of range")}function X(K,C,b,z,le){Se(C,z,le,K,b,7);let Ae=Number(C&BigInt(4294967295));K[b++]=Ae,Ae>>=8,K[b++]=Ae,Ae>>=8,K[b++]=Ae,Ae>>=8,K[b++]=Ae;let Be=Number(C>>BigInt(32)&BigInt(4294967295));return K[b++]=Be,Be>>=8,K[b++]=Be,Be>>=8,K[b++]=Be,Be>>=8,K[b++]=Be,b}function ce(K,C,b,z,le){Se(C,z,le,K,b,7);let Ae=Number(C&BigInt(4294967295));K[b+7]=Ae,Ae>>=8,K[b+6]=Ae,Ae>>=8,K[b+5]=Ae,Ae>>=8,K[b+4]=Ae;let Be=Number(C>>BigInt(32)&BigInt(4294967295));return K[b+3]=Be,Be>>=8,K[b+2]=Be,Be>>=8,K[b+1]=Be,Be>>=8,K[b]=Be,b+8}function me(K,C,b,z,le,Ae){if(b+z>K.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function Te(K,C,b,z,le){return C=+C,b>>>=0,le||me(K,0,b,4),x.write(K,C,b,z,23,4),b+4}function Ke(K,C,b,z,le){return C=+C,b>>>=0,le||me(K,0,b,8),x.write(K,C,b,z,52,8),b+8}R.prototype.slice=function(C,b){const z=this.length;(C=~~C)<0?(C+=z)<0&&(C=0):C>z&&(C=z),(b=void 0===b?z:~~b)<0?(b+=z)<0&&(b=0):b>z&&(b=z),b<C&&(b=C);const le=this.subarray(C,b);return Object.setPrototypeOf(le,R.prototype),le},R.prototype.readUintLE=R.prototype.readUIntLE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=this[C],Ae=1,Be=0;for(;++Be<b&&(Ae*=256);)le+=this[C+Be]*Ae;return le},R.prototype.readUintBE=R.prototype.readUIntBE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=this[C+--b],Ae=1;for(;b>0&&(Ae*=256);)le+=this[C+--b]*Ae;return le},R.prototype.readUint8=R.prototype.readUInt8=function(C,b){return C>>>=0,b||E(C,1,this.length),this[C]},R.prototype.readUint16LE=R.prototype.readUInt16LE=function(C,b){return C>>>=0,b||E(C,2,this.length),this[C]|this[C+1]<<8},R.prototype.readUint16BE=R.prototype.readUInt16BE=function(C,b){return C>>>=0,b||E(C,2,this.length),this[C]<<8|this[C+1]},R.prototype.readUint32LE=R.prototype.readUInt32LE=function(C,b){return C>>>=0,b||E(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+16777216*this[C+3]},R.prototype.readUint32BE=R.prototype.readUInt32BE=function(C,b){return C>>>=0,b||E(C,4,this.length),16777216*this[C]+(this[C+1]<<16|this[C+2]<<8|this[C+3])},R.prototype.readBigUInt64LE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];(void 0===b||void 0===z)&&Ee(C,this.length-8);const le=b+256*this[++C]+65536*this[++C]+this[++C]*2**24,Ae=this[++C]+256*this[++C]+65536*this[++C]+z*2**24;return BigInt(le)+(BigInt(Ae)<<BigInt(32))}),R.prototype.readBigUInt64BE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];(void 0===b||void 0===z)&&Ee(C,this.length-8);const le=b*2**24+65536*this[++C]+256*this[++C]+this[++C],Ae=this[++C]*2**24+65536*this[++C]+256*this[++C]+z;return(BigInt(le)<<BigInt(32))+BigInt(Ae)}),R.prototype.readIntLE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=this[C],Ae=1,Be=0;for(;++Be<b&&(Ae*=256);)le+=this[C+Be]*Ae;return Ae*=128,le>=Ae&&(le-=Math.pow(2,8*b)),le},R.prototype.readIntBE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=b,Ae=1,Be=this[C+--le];for(;le>0&&(Ae*=256);)Be+=this[C+--le]*Ae;return Ae*=128,Be>=Ae&&(Be-=Math.pow(2,8*b)),Be},R.prototype.readInt8=function(C,b){return C>>>=0,b||E(C,1,this.length),128&this[C]?-1*(255-this[C]+1):this[C]},R.prototype.readInt16LE=function(C,b){C>>>=0,b||E(C,2,this.length);const z=this[C]|this[C+1]<<8;return 32768&z?4294901760|z:z},R.prototype.readInt16BE=function(C,b){C>>>=0,b||E(C,2,this.length);const z=this[C+1]|this[C]<<8;return 32768&z?4294901760|z:z},R.prototype.readInt32LE=function(C,b){return C>>>=0,b||E(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},R.prototype.readInt32BE=function(C,b){return C>>>=0,b||E(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},R.prototype.readBigInt64LE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];return(void 0===b||void 0===z)&&Ee(C,this.length-8),(BigInt(this[C+4]+256*this[C+5]+65536*this[C+6]+(z<<24))<<BigInt(32))+BigInt(b+256*this[++C]+65536*this[++C]+this[++C]*2**24)}),R.prototype.readBigInt64BE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];(void 0===b||void 0===z)&&Ee(C,this.length-8);const le=(b<<24)+65536*this[++C]+256*this[++C]+this[++C];return(BigInt(le)<<BigInt(32))+BigInt(this[++C]*2**24+65536*this[++C]+256*this[++C]+z)}),R.prototype.readFloatLE=function(C,b){return C>>>=0,b||E(C,4,this.length),x.read(this,C,!0,23,4)},R.prototype.readFloatBE=function(C,b){return C>>>=0,b||E(C,4,this.length),x.read(this,C,!1,23,4)},R.prototype.readDoubleLE=function(C,b){return C>>>=0,b||E(C,8,this.length),x.read(this,C,!0,52,8)},R.prototype.readDoubleBE=function(C,b){return C>>>=0,b||E(C,8,this.length),x.read(this,C,!1,52,8)},R.prototype.writeUintLE=R.prototype.writeUIntLE=function(C,b,z,le){C=+C,b>>>=0,z>>>=0,le||q(this,C,b,z,Math.pow(2,8*z)-1,0);let Ae=1,Be=0;for(this[b]=255&C;++Be<z&&(Ae*=256);)this[b+Be]=C/Ae&255;return b+z},R.prototype.writeUintBE=R.prototype.writeUIntBE=function(C,b,z,le){C=+C,b>>>=0,z>>>=0,le||q(this,C,b,z,Math.pow(2,8*z)-1,0);let Ae=z-1,Be=1;for(this[b+Ae]=255&C;--Ae>=0&&(Be*=256);)this[b+Ae]=C/Be&255;return b+z},R.prototype.writeUint8=R.prototype.writeUInt8=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,1,255,0),this[b]=255&C,b+1},R.prototype.writeUint16LE=R.prototype.writeUInt16LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,65535,0),this[b]=255&C,this[b+1]=C>>>8,b+2},R.prototype.writeUint16BE=R.prototype.writeUInt16BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,65535,0),this[b]=C>>>8,this[b+1]=255&C,b+2},R.prototype.writeUint32LE=R.prototype.writeUInt32LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,4294967295,0),this[b+3]=C>>>24,this[b+2]=C>>>16,this[b+1]=C>>>8,this[b]=255&C,b+4},R.prototype.writeUint32BE=R.prototype.writeUInt32BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,4294967295,0),this[b]=C>>>24,this[b+1]=C>>>16,this[b+2]=C>>>8,this[b+3]=255&C,b+4},R.prototype.writeBigUInt64LE=Ge(function(C,b=0){return X(this,C,b,BigInt(0),BigInt("0xffffffffffffffff"))}),R.prototype.writeBigUInt64BE=Ge(function(C,b=0){return ce(this,C,b,BigInt(0),BigInt("0xffffffffffffffff"))}),R.prototype.writeIntLE=function(C,b,z,le){if(C=+C,b>>>=0,!le){const Yt=Math.pow(2,8*z-1);q(this,C,b,z,Yt-1,-Yt)}let Ae=0,Be=1,ft=0;for(this[b]=255&C;++Ae<z&&(Be*=256);)C<0&&0===ft&&0!==this[b+Ae-1]&&(ft=1),this[b+Ae]=(C/Be|0)-ft&255;return b+z},R.prototype.writeIntBE=function(C,b,z,le){if(C=+C,b>>>=0,!le){const Yt=Math.pow(2,8*z-1);q(this,C,b,z,Yt-1,-Yt)}let Ae=z-1,Be=1,ft=0;for(this[b+Ae]=255&C;--Ae>=0&&(Be*=256);)C<0&&0===ft&&0!==this[b+Ae+1]&&(ft=1),this[b+Ae]=(C/Be|0)-ft&255;return b+z},R.prototype.writeInt8=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,1,127,-128),C<0&&(C=255+C+1),this[b]=255&C,b+1},R.prototype.writeInt16LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,32767,-32768),this[b]=255&C,this[b+1]=C>>>8,b+2},R.prototype.writeInt16BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,32767,-32768),this[b]=C>>>8,this[b+1]=255&C,b+2},R.prototype.writeInt32LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,2147483647,-2147483648),this[b]=255&C,this[b+1]=C>>>8,this[b+2]=C>>>16,this[b+3]=C>>>24,b+4},R.prototype.writeInt32BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[b]=C>>>24,this[b+1]=C>>>16,this[b+2]=C>>>8,this[b+3]=255&C,b+4},R.prototype.writeBigInt64LE=Ge(function(C,b=0){return X(this,C,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),R.prototype.writeBigInt64BE=Ge(function(C,b=0){return ce(this,C,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),R.prototype.writeFloatLE=function(C,b,z){return Te(this,C,b,!0,z)},R.prototype.writeFloatBE=function(C,b,z){return Te(this,C,b,!1,z)},R.prototype.writeDoubleLE=function(C,b,z){return Ke(this,C,b,!0,z)},R.prototype.writeDoubleBE=function(C,b,z){return Ke(this,C,b,!1,z)},R.prototype.copy=function(C,b,z,le){if(!R.isBuffer(C))throw new TypeError("argument should be a Buffer");if(z||(z=0),!le&&0!==le&&(le=this.length),b>=C.length&&(b=C.length),b||(b=0),le>0&&le<z&&(le=z),le===z||0===C.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),C.length-b<le-z&&(le=C.length-b+z);const Ae=le-z;return this===C&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(b,z,le):Uint8Array.prototype.set.call(C,this.subarray(z,le),b),Ae},R.prototype.fill=function(C,b,z,le){if("string"==typeof C){if("string"==typeof b?(le=b,b=0,z=this.length):"string"==typeof z&&(le=z,z=this.length),void 0!==le&&"string"!=typeof le)throw new TypeError("encoding must be a string");if("string"==typeof le&&!R.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(1===C.length){const Be=C.charCodeAt(0);("utf8"===le&&Be<128||"latin1"===le)&&(C=Be)}}else"number"==typeof C?C&=255:"boolean"==typeof C&&(C=Number(C));if(b<0||this.length<b||this.length<z)throw new RangeError("Out of range index");if(z<=b)return this;let Ae;if(b>>>=0,z=void 0===z?this.length:z>>>0,C||(C=0),"number"==typeof C)for(Ae=b;Ae<z;++Ae)this[Ae]=C;else{const Be=R.isBuffer(C)?C:R.from(C,le),ft=Be.length;if(0===ft)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(Ae=0;Ae<z-b;++Ae)this[Ae+b]=Be[Ae%ft]}return this};const Qe={};function ke(K,C,b){Qe[K]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:C.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,delete this.name}get code(){return K}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}function Ie(K){let C="",b=K.length;const z="-"===K[0]?1:0;for(;b>=z+4;b-=3)C=`_${K.slice(b-3,b)}${C}`;return`${K.slice(0,b)}${C}`}function Se(K,C,b,z,le,Ae){if(K>b||K<C){const Be="bigint"==typeof C?"n":"";let ft;throw ft=Ae>3?0===C||C===BigInt(0)?`>= 0${Be} and < 2${Be} ** ${8*(Ae+1)}${Be}`:`>= -(2${Be} ** ${8*(Ae+1)-1}${Be}) and < 2 ** ${8*(Ae+1)-1}${Be}`:`>= ${C}${Be} and <= ${b}${Be}`,new Qe.ERR_OUT_OF_RANGE("value",ft,K)}!function Xe(K,C,b){Le(C,"offset"),(void 0===K[C]||void 0===K[C+b])&&Ee(C,K.length-(b+1))}(z,le,Ae)}function Le(K,C){if("number"!=typeof K)throw new Qe.ERR_INVALID_ARG_TYPE(C,"number",K)}function Ee(K,C,b){throw Math.floor(K)!==K?(Le(K,b),new Qe.ERR_OUT_OF_RANGE(b||"offset","an integer",K)):C<0?new Qe.ERR_BUFFER_OUT_OF_BOUNDS:new Qe.ERR_OUT_OF_RANGE(b||"offset",`>= ${b?1:0} and <= ${C}`,K)}ke("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ke("ERR_INVALID_ARG_TYPE",function(K,C){return`The "${K}" argument must be of type number. Received type ${typeof C}`},TypeError),ke("ERR_OUT_OF_RANGE",function(K,C,b){let z=`The value of "${K}" is out of range.`,le=b;return Number.isInteger(b)&&Math.abs(b)>2**32?le=Ie(String(b)):"bigint"==typeof b&&(le=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(le=Ie(le)),le+="n"),z+=` It must be ${C}. Received ${le}`,z},RangeError);const be=/[^+/0-9A-Za-z-_]/g;function fe(K,C){let b;C=C||1/0;const z=K.length;let le=null;const Ae=[];for(let Be=0;Be<z;++Be){if(b=K.charCodeAt(Be),b>55295&&b<57344){if(!le){if(b>56319){(C-=3)>-1&&Ae.push(239,191,189);continue}if(Be+1===z){(C-=3)>-1&&Ae.push(239,191,189);continue}le=b;continue}if(b<56320){(C-=3)>-1&&Ae.push(239,191,189),le=b;continue}b=65536+(le-55296<<10|b-56320)}else le&&(C-=3)>-1&&Ae.push(239,191,189);if(le=null,b<128){if((C-=1)<0)break;Ae.push(b)}else if(b<2048){if((C-=2)<0)break;Ae.push(b>>6|192,63&b|128)}else if(b<65536){if((C-=3)<0)break;Ae.push(b>>12|224,b>>6&63|128,63&b|128)}else{if(!(b<1114112))throw new Error("Invalid code point");if((C-=4)<0)break;Ae.push(b>>18|240,b>>12&63|128,b>>6&63|128,63&b|128)}}return Ae}function $e(K){return h.toByteArray(function oe(K){if((K=(K=K.split("=")[0]).trim().replace(be,"")).length<2)return"";for(;K.length%4!=0;)K+="=";return K}(K))}function Je(K,C,b,z){let le;for(le=0;le<z&&!(le+b>=C.length||le>=K.length);++le)C[le+b]=K[le];return le}function Ze(K,C){return K instanceof C||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===C.name}function Pt(K){return K!=K}const nt=function(){const K="0123456789abcdef",C=new Array(256);for(let b=0;b<16;++b){const z=16*b;for(let le=0;le<16;++le)C[z+le]=K[b]+K[le]}return C}();function Ge(K){return typeof BigInt>"u"?Et:K}function Et(){throw new Error("BigInt not supported")}},95099:(Ye,J,A)=>{A(23963)},55397:(Ye,J,A)=>{"use strict";const{AbortError:h,codes:x}=A(85833),{isNodeStream:N,isWebStream:Y,kControllerErrorFunction:M}=A(76989),j=A(68208),{ERR_INVALID_ARG_TYPE:R}=x;Ye.exports.addAbortSignal=function(V,P){if(((H,V)=>{if("object"!=typeof H||!("aborted"in H))throw new R("signal","AbortSignal",H)})(V),!N(P)&&!Y(P))throw new R("stream",["ReadableStream","WritableStream","Stream"],P);return Ye.exports.addAbortSignalNoValidate(V,P)},Ye.exports.addAbortSignalNoValidate=function(H,V){if("object"!=typeof H||!("aborted"in H))return V;const P=N(V)?()=>{V.destroy(new h(void 0,{cause:H.reason}))}:()=>{V[M](new h(void 0,{cause:H.reason}))};return H.aborted?P():(H.addEventListener("abort",P),j(V,()=>H.removeEventListener("abort",P))),V}},54863:(Ye,J,A)=>{"use strict";const{StringPrototypeSlice:h,SymbolIterator:x,TypedArrayPrototypeSet:N,Uint8Array:Y}=A(2220),{Buffer:M}=A(37945),{inspect:j}=A(82578);Ye.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(U){const H={data:U,next:null};this.length>0?this.tail.next=H:this.head=H,this.tail=H,++this.length}unshift(U){const H={data:U,next:this.head};0===this.length&&(this.tail=H),this.head=H,++this.length}shift(){if(0===this.length)return;const U=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,U}clear(){this.head=this.tail=null,this.length=0}join(U){if(0===this.length)return"";let H=this.head,V=""+H.data;for(;null!==(H=H.next);)V+=U+H.data;return V}concat(U){if(0===this.length)return M.alloc(0);const H=M.allocUnsafe(U>>>0);let V=this.head,P=0;for(;V;)N(H,V.data,P),P+=V.data.length,V=V.next;return H}consume(U,H){const V=this.head.data;if(U<V.length){const P=V.slice(0,U);return this.head.data=V.slice(U),P}return U===V.length?this.shift():H?this._getString(U):this._getBuffer(U)}first(){return this.head.data}*[x](){for(let U=this.head;U;U=U.next)yield U.data}_getString(U){let H="",V=this.head,P=0;do{const ee=V.data;if(!(U>ee.length)){U===ee.length?(H+=ee,++P,this.head=V.next?V.next:this.tail=null):(H+=h(ee,0,U),this.head=V,V.data=h(ee,U));break}H+=ee,U-=ee.length,++P}while(null!==(V=V.next));return this.length-=P,H}_getBuffer(U){const H=M.allocUnsafe(U),V=U;let P=this.head,ee=0;do{const W=P.data;if(!(U>W.length)){U===W.length?(N(H,W,V-U),++ee,this.head=P.next?P.next:this.tail=null):(N(H,new Y(W.buffer,W.byteOffset,U),V-U),this.head=P,P.data=W.slice(U));break}N(H,W,V-U),U-=W.length,++ee}while(null!==(P=P.next));return this.length-=ee,H}[Symbol.for("nodejs.util.inspect.custom")](U,H){return j(this,{...H,depth:0,customInspect:!1})}}},90972:(Ye,J,A)=>{"use strict";var h=A(29293).default;const{pipeline:x}=A(63596),N=A(85892),{destroyer:Y}=A(23370),{isNodeStream:M,isReadable:j,isWritable:R,isWebStream:U,isTransformStream:H,isWritableStream:V,isReadableStream:P}=A(76989),{AbortError:ee,codes:{ERR_INVALID_ARG_VALUE:W,ERR_MISSING_ARGS:Q}}=A(85833),de=A(68208);Ye.exports=function(...re){if(0===re.length)throw new Q("streams");if(1===re.length)return N.from(re[0]);const te=[...re];if("function"==typeof re[0]&&(re[0]=N.from(re[0])),"function"==typeof re[re.length-1]){const f=re.length-1;re[f]=N.from(re[f])}for(let f=0;f<re.length;++f)if(M(re[f])||U(re[f])){if(f<re.length-1&&!(j(re[f])||P(re[f])||H(re[f])))throw new W(`streams[${f}]`,te[f],"must be readable");if(f>0&&!(R(re[f])||V(re[f])||H(re[f])))throw new W(`streams[${f}]`,te[f],"must be writable")}let ue,pe,he,ve,ge;const Oe=re[0],je=x(re,function Me(f){const w=ve;ve=null,w?w(f):f?ge.destroy(f):!l&&!B&&ge.destroy()}),B=!!(R(Oe)||V(Oe)||H(Oe)),l=!!(j(je)||P(je)||H(je));if(ge=new N({writableObjectMode:!(null==Oe||!Oe.writableObjectMode),readableObjectMode:!(null==je||!je.writableObjectMode),writable:B,readable:l}),B){if(M(Oe))ge._write=function(w,_,D){Oe.write(w,_)?D():ue=D},ge._final=function(w){Oe.end(),pe=w},Oe.on("drain",function(){if(ue){const w=ue;ue=null,w()}});else if(U(Oe)){const _=(H(Oe)?Oe.writable:Oe).getWriter();ge._write=function(){var D=h(function*(O,$,T){try{yield _.ready,_.write(O).catch(()=>{}),T()}catch(c){T(c)}});return function(O,$,T){return D.apply(this,arguments)}}(),ge._final=function(){var D=h(function*(O){try{yield _.ready,_.close().catch(()=>{}),pe=O}catch($){O($)}});return function(O){return D.apply(this,arguments)}}()}const f=H(je)?je.readable:je;de(f,()=>{if(pe){const w=pe;pe=null,w()}})}if(l)if(M(je))je.on("readable",function(){if(he){const f=he;he=null,f()}}),je.on("end",function(){ge.push(null)}),ge._read=function(){for(;;){const f=je.read();if(null===f)return void(he=ge._read);if(!ge.push(f))return}};else if(U(je)){const w=(H(je)?je.readable:je).getReader();ge._read=h(function*(){for(;;)try{const{value:_,done:D}=yield w.read();if(!ge.push(_))return;if(D)return void ge.push(null)}catch{return}})}return ge._destroy=function(f,w){!f&&null!==ve&&(f=new ee),he=null,ue=null,pe=null,null===ve?w(f):(ve=w,M(je)&&Y(je,f))},ge}},23370:(Ye,J,A)=>{"use strict";const h=A(40573),{aggregateTwoErrors:x,codes:{ERR_MULTIPLE_CALLBACK:N},AbortError:Y}=A(85833),{Symbol:M}=A(2220),{kDestroyed:j,isDestroyed:R,isFinished:U,isServerRequest:H}=A(76989),V=M("kDestroy"),P=M("kConstruct");function ee(B,l,f){B&&(l&&!l.errored&&(l.errored=B),f&&!f.errored&&(f.errored=B))}function Q(B,l,f){let w=!1;function _(D){if(w)return;w=!0;const O=B._readableState,$=B._writableState;ee(D,$,O),$&&($.closed=!0),O&&(O.closed=!0),"function"==typeof f&&f(D),D?h.nextTick(de,B,D):h.nextTick(ae,B)}try{B._destroy(l||null,_)}catch(D){_(D)}}function de(B,l){re(B,l),ae(B)}function ae(B){const l=B._readableState,f=B._writableState;f&&(f.closeEmitted=!0),l&&(l.closeEmitted=!0),(null!=f&&f.emitClose||null!=l&&l.emitClose)&&B.emit("close")}function re(B,l){const f=B._readableState,w=B._writableState;null!=w&&w.errorEmitted||null!=f&&f.errorEmitted||(w&&(w.errorEmitted=!0),f&&(f.errorEmitted=!0),B.emit("error",l))}function ue(B,l,f){const w=B._readableState,_=B._writableState;if(null!=_&&_.destroyed||null!=w&&w.destroyed)return this;null!=w&&w.autoDestroy||null!=_&&_.autoDestroy?B.destroy(l):l&&(_&&!_.errored&&(_.errored=l),w&&!w.errored&&(w.errored=l),f?h.nextTick(re,B,l):re(B,l))}function he(B){let l=!1;function f(w){if(l)return void ue(B,w??new N);l=!0;const _=B._readableState,D=B._writableState,O=D||_;_&&(_.constructed=!0),D&&(D.constructed=!0),O.destroyed?B.emit(V,w):w?ue(B,w,!0):h.nextTick(ve,B)}try{B._construct(w=>{h.nextTick(f,w)})}catch(w){h.nextTick(f,w)}}function ve(B){B.emit(P)}function ge(B){return B?.setHeader&&"function"==typeof B.abort}function Me(B){B.emit("close")}function Oe(B,l){B.emit("error",l),h.nextTick(Me,B)}Ye.exports={construct:function pe(B,l){if("function"!=typeof B._construct)return;const f=B._readableState,w=B._writableState;f&&(f.constructed=!1),w&&(w.constructed=!1),B.once(P,l),!(B.listenerCount(P)>1)&&h.nextTick(he,B)},destroyer:function je(B,l){!B||R(B)||(!l&&!U(B)&&(l=new Y),H(B)?(B.socket=null,B.destroy(l)):ge(B)?B.abort():ge(B.req)?B.req.abort():"function"==typeof B.destroy?B.destroy(l):"function"==typeof B.close?B.close():l?h.nextTick(Oe,B,l):h.nextTick(Me,B),B.destroyed||(B[j]=!0))},destroy:function W(B,l){const f=this._readableState,w=this._writableState,_=w||f;return null!=w&&w.destroyed||null!=f&&f.destroyed?("function"==typeof l&&l(),this):(ee(B,w,f),w&&(w.destroyed=!0),f&&(f.destroyed=!0),_.constructed?Q(this,B,l):this.once(V,function(D){Q(this,x(D,B),l)}),this)},undestroy:function te(){const B=this._readableState,l=this._writableState;B&&(B.constructed=!0,B.closed=!1,B.closeEmitted=!1,B.destroyed=!1,B.errored=null,B.errorEmitted=!1,B.reading=!1,B.ended=!1===B.readable,B.endEmitted=!1===B.readable),l&&(l.constructed=!0,l.destroyed=!1,l.closed=!1,l.closeEmitted=!1,l.errored=null,l.errorEmitted=!1,l.finalCalled=!1,l.prefinished=!1,l.ended=!1===l.writable,l.ending=!1===l.writable,l.finished=!1===l.writable)},errorOrDestroy:ue}},85892:(Ye,J,A)=>{"use strict";const{ObjectDefineProperties:h,ObjectGetOwnPropertyDescriptor:x,ObjectKeys:N,ObjectSetPrototypeOf:Y}=A(2220);Ye.exports=R;const M=A(84730),j=A(39070);Y(R.prototype,M.prototype),Y(R,M);{const P=N(j.prototype);for(let ee=0;ee<P.length;ee++){const W=P[ee];R.prototype[W]||(R.prototype[W]=j.prototype[W])}}function R(P){if(!(this instanceof R))return new R(P);M.call(this,P),j.call(this,P),P?(this.allowHalfOpen=!1!==P.allowHalfOpen,!1===P.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===P.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let U,V;function H(){return void 0===U&&(U={}),U}h(R.prototype,{writable:{__proto__:null,...x(j.prototype,"writable")},writableHighWaterMark:{__proto__:null,...x(j.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...x(j.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...x(j.prototype,"writableBuffer")},writableLength:{__proto__:null,...x(j.prototype,"writableLength")},writableFinished:{__proto__:null,...x(j.prototype,"writableFinished")},writableCorked:{__proto__:null,...x(j.prototype,"writableCorked")},writableEnded:{__proto__:null,...x(j.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...x(j.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(P){this._readableState&&this._writableState&&(this._readableState.destroyed=P,this._writableState.destroyed=P)}}}),R.fromWeb=function(P,ee){return H().newStreamDuplexFromReadableWritablePair(P,ee)},R.toWeb=function(P){return H().newReadableWritablePairFromDuplex(P)},R.from=function(P){return V||(V=A(99460)),V(P,"body")}},99460:(Ye,J,A)=>{var h=A(29293).default,x=A(53344).default,N=A(42958).default;const Y=A(40573),M=A(37945),{isReadable:j,isWritable:R,isIterable:U,isNodeStream:H,isReadableNodeStream:V,isWritableNodeStream:P,isDuplexNodeStream:ee}=A(76989),W=A(68208),{AbortError:Q,codes:{ERR_INVALID_ARG_TYPE:de,ERR_INVALID_RETURN_VALUE:ae}}=A(85833),{destroyer:re}=A(23370),te=A(85892),ue=A(84730),{createDeferredPromise:pe}=A(82578),he=A(94506),ve=globalThis.Blob||M.Blob,ge=typeof ve<"u"?function(w){return w instanceof ve}:function(w){return!1},Me=globalThis.AbortController||A(9465).AbortController,{FunctionPrototypeCall:Oe}=A(2220);class je extends te{constructor(w){super(w),!1===w?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===w?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function l(f){const w=f.readable&&"function"!=typeof f.readable.read?ue.wrap(f.readable):f.readable,_=f.writable;let $,T,c,E,q,D=!!j(w),O=!!R(_);function X(ce){const me=E;E=null,me?me(ce):ce&&q.destroy(ce)}return q=new je({readableObjectMode:!(null==w||!w.readableObjectMode),writableObjectMode:!(null==_||!_.writableObjectMode),readable:D,writable:O}),O&&(W(_,ce=>{O=!1,ce&&re(w,ce),X(ce)}),q._write=function(ce,me,Te){_.write(ce,me)?Te():$=Te},q._final=function(ce){_.end(),T=ce},_.on("drain",function(){if($){const ce=$;$=null,ce()}}),_.on("finish",function(){if(T){const ce=T;T=null,ce()}})),D&&(W(w,ce=>{D=!1,ce&&re(w,ce),X(ce)}),w.on("readable",function(){if(c){const ce=c;c=null,ce()}}),w.on("end",function(){q.push(null)}),q._read=function(){for(;;){const ce=w.read();if(null===ce)return void(c=q._read);if(!q.push(ce))return}}),q._destroy=function(ce,me){!ce&&null!==E&&(ce=new Q),c=null,$=null,T=null,null===E?me(ce):(E=me,re(_,ce),re(w,ce))},q}Ye.exports=function f(w,_){if(ee(w))return w;if(V(w))return l({readable:w});if(P(w))return l({writable:w});if(H(w))return l({writable:!1,readable:!1});if("function"==typeof w){const{value:O,write:$,final:T,destroy:c}=function B(f){let{promise:w,resolve:_}=pe();const D=new Me,O=D.signal;return{value:f(N(function*(){for(;;){const T=w;w=null;const{chunk:c,done:E,cb:q}=yield x(T);if(Y.nextTick(q),E)return;if(O.aborted)throw new Q(void 0,{cause:O.reason});({promise:w,resolve:_}=pe()),yield c}})(),{signal:O}),write(T,c,E){const q=_;_=null,q({chunk:T,done:!1,cb:E})},final(T){const c=_;_=null,c({done:!0,cb:T})},destroy(T,c){D.abort(),c(T)}}}(w);if(U(O))return he(je,O,{objectMode:!0,write:$,final:T,destroy:c});const E=O?.then;if("function"==typeof E){let q;const X=Oe(E,O,ce=>{if(null!=ce)throw new ae("nully","body",ce)},ce=>{re(q,ce)});return q=new je({objectMode:!0,readable:!1,write:$,final(ce){T(h(function*(){try{yield X,Y.nextTick(ce,null)}catch(me){Y.nextTick(ce,me)}}))},destroy:c})}throw new ae("Iterable, AsyncIterable or AsyncFunction",_,O)}if(ge(w))return f(w.arrayBuffer());if(U(w))return he(je,w,{objectMode:!0,writable:!1});if("object"==typeof w?.writable||"object"==typeof w?.readable)return l({readable:null!=w&&w.readable?V(w?.readable)?w?.readable:f(w.readable):void 0,writable:null!=w&&w.writable?P(w?.writable)?w?.writable:f(w.writable):void 0});const D=w?.then;if("function"==typeof D){let O;return Oe(D,w,$=>{null!=$&&O.push($),O.push(null)},$=>{re(O,$)}),O=new je({objectMode:!0,writable:!1,read(){}})}throw new de(_,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],w)}},68208:(Ye,J,A)=>{const h=A(40573),{AbortError:x,codes:N}=A(85833),{ERR_INVALID_ARG_TYPE:Y,ERR_STREAM_PREMATURE_CLOSE:M}=N,{kEmptyObject:j,once:R}=A(82578),{validateAbortSignal:U,validateFunction:H,validateObject:V,validateBoolean:P}=A(48119),{Promise:ee,PromisePrototypeThen:W}=A(2220),{isClosed:Q,isReadable:de,isReadableNodeStream:ae,isReadableStream:re,isReadableFinished:te,isReadableErrored:ue,isWritable:pe,isWritableNodeStream:he,isWritableStream:ve,isWritableFinished:ge,isWritableErrored:Me,isNodeStream:Oe,willEmitClose:je,kIsClosedPromise:B}=A(76989),f=()=>{};function w(O,$,T){var c,E;if(2===arguments.length?(T=$,$=j):null==$?$=j:V($,"options"),H(T,"callback"),U($.signal,"options.signal"),T=R(T),re(O)||ve(O))return function _(O,$,T){let c=!1,E=f;if($.signal)if(E=()=>{c=!0,T.call(O,new x(void 0,{cause:$.signal.reason}))},$.signal.aborted)h.nextTick(E);else{const X=T;T=R((...ce)=>{$.signal.removeEventListener("abort",E),X.apply(O,ce)}),$.signal.addEventListener("abort",E)}const q=(...X)=>{c||h.nextTick(()=>T.apply(O,X))};return W(O[B].promise,q,q),f}(O,$,T);if(!Oe(O))throw new Y("stream",["ReadableStream","WritableStream","Stream"],O);const q=null!==(c=$.readable)&&void 0!==c?c:ae(O),X=null!==(E=$.writable)&&void 0!==E?E:he(O),ce=O._writableState,me=O._readableState,Te=()=>{O.writable||ke()};let Ke=je(O)&&ae(O)===q&&he(O)===X,Qe=ge(O,!1);const ke=()=>{Qe=!0,O.destroyed&&(Ke=!1),(!Ke||O.readable&&!q)&&(!q||Ie)&&T.call(O)};let Ie=te(O,!1);const Xe=()=>{Ie=!0,O.destroyed&&(Ke=!1),(!Ke||O.writable&&!X)&&(!X||Qe)&&T.call(O)},Se=we=>{T.call(O,we)};let Le=Q(O);const Ee=()=>{Le=!0;const we=Me(O)||ue(O);return we&&"boolean"!=typeof we?T.call(O,we):q&&!Ie&&ae(O,!0)&&!te(O,!1)?T.call(O,new M):!X||Qe||ge(O,!1)?void T.call(O):T.call(O,new M)},be=()=>{Le=!0;const we=Me(O)||ue(O);if(we&&"boolean"!=typeof we)return T.call(O,we);T.call(O)},oe=()=>{O.req.on("finish",ke)};!function l(O){return O.setHeader&&"function"==typeof O.abort}(O)?X&&!ce&&(O.on("end",Te),O.on("close",Te)):(O.on("complete",ke),Ke||O.on("abort",Ee),O.req?oe():O.on("request",oe)),!Ke&&"boolean"==typeof O.aborted&&O.on("aborted",Ee),O.on("end",Xe),O.on("finish",ke),!1!==$.error&&O.on("error",Se),O.on("close",Ee),Le?h.nextTick(Ee):null!=ce&&ce.errorEmitted||null!=me&&me.errorEmitted?Ke||h.nextTick(be):(!q&&(!Ke||de(O))&&(Qe||!1===pe(O))||!X&&(!Ke||pe(O))&&(Ie||!1===de(O))||me&&O.req&&O.aborted)&&h.nextTick(be);const fe=()=>{T=f,O.removeListener("aborted",Ee),O.removeListener("complete",ke),O.removeListener("abort",Ee),O.removeListener("request",oe),O.req&&O.req.removeListener("finish",ke),O.removeListener("end",Te),O.removeListener("close",Te),O.removeListener("finish",ke),O.removeListener("end",Xe),O.removeListener("error",Se),O.removeListener("close",Ee)};if($.signal&&!Le){const we=()=>{const De=T;fe(),De.call(O,new x(void 0,{cause:$.signal.reason}))};if($.signal.aborted)h.nextTick(we);else{const De=T;T=R((...$e)=>{$.signal.removeEventListener("abort",we),De.apply(O,$e)}),$.signal.addEventListener("abort",we)}}return fe}Ye.exports=w,Ye.exports.finished=function D(O,$){var T;let c=!1;return null===$&&($=j),null!==(T=$)&&void 0!==T&&T.cleanup&&(P($.cleanup,"cleanup"),c=$.cleanup),new ee((E,q)=>{const X=w(O,$,ce=>{c&&X(),ce?q(ce):E()})})}},94506:(Ye,J,A)=>{"use strict";var h=A(29293).default;const x=A(40573),{PromisePrototypeThen:N,SymbolAsyncIterator:Y,SymbolIterator:M}=A(2220),{Buffer:j}=A(37945),{ERR_INVALID_ARG_TYPE:R,ERR_STREAM_NULL_VALUES:U}=A(85833).codes;Ye.exports=function H(V,P,ee){let W,Q;if("string"==typeof P||P instanceof j)return new V({objectMode:!0,...ee,read(){this.push(P),this.push(null)}});if(P&&P[Y])Q=!0,W=P[Y]();else{if(!P||!P[M])throw new R("iterable",["Iterable"],P);Q=!1,W=P[M]()}const de=new V({objectMode:!0,highWaterMark:1,...ee});let ae=!1;function te(){return(te=h(function*(he){if(null!=he&&"function"==typeof W.throw){const{value:Me,done:Oe}=yield W.throw(he);if(yield Me,Oe)return}if("function"==typeof W.return){const{value:Me}=yield W.return();yield Me}})).apply(this,arguments)}function pe(){return(pe=h(function*(){for(;;){try{const{value:he,done:ve}=Q?yield W.next():W.next();if(ve)de.push(null);else{const ge=he&&"function"==typeof he.then?yield he:he;if(null===ge)throw ae=!1,new U;if(de.push(ge))continue;ae=!1}}catch(he){de.destroy(he)}break}})).apply(this,arguments)}return de._read=function(){ae||(ae=!0,function ue(){pe.apply(this,arguments)}())},de._destroy=function(he,ve){N(function re(he){return te.apply(this,arguments)}(he),()=>x.nextTick(ve,he),ge=>x.nextTick(ve,ge||he))},de}},90845:(Ye,J,A)=>{"use strict";const{ArrayIsArray:h,ObjectSetPrototypeOf:x}=A(2220),{EventEmitter:N}=A(44356);function Y(j){N.call(this,j)}function M(j,R,U){if("function"==typeof j.prependListener)return j.prependListener(R,U);j._events&&j._events[R]?h(j._events[R])?j._events[R].unshift(U):j._events[R]=[U,j._events[R]]:j.on(R,U)}x(Y.prototype,N.prototype),x(Y,N),Y.prototype.pipe=function(j,R){const U=this;function H(ae){j.writable&&!1===j.write(ae)&&U.pause&&U.pause()}function V(){U.readable&&U.resume&&U.resume()}U.on("data",H),j.on("drain",V),!j._isStdio&&(!R||!1!==R.end)&&(U.on("end",ee),U.on("close",W));let P=!1;function ee(){P||(P=!0,j.end())}function W(){P||(P=!0,"function"==typeof j.destroy&&j.destroy())}function Q(ae){de(),0===N.listenerCount(this,"error")&&this.emit("error",ae)}function de(){U.removeListener("data",H),j.removeListener("drain",V),U.removeListener("end",ee),U.removeListener("close",W),U.removeListener("error",Q),j.removeListener("error",Q),U.removeListener("end",de),U.removeListener("close",de),j.removeListener("close",de)}return M(U,"error",Q),M(j,"error",Q),U.on("end",de),U.on("close",de),j.on("close",de),j.emit("pipe",U),j},Ye.exports={Stream:Y,prependListener:M}},54705:(Ye,J,A)=>{"use strict";var h=A(29293).default,x=A(93513).default,N=A(82881).default,Y=A(53344).default,M=A(42958).default;const j=globalThis.AbortController||A(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:R,ERR_INVALID_ARG_TYPE:U,ERR_MISSING_ARGS:H,ERR_OUT_OF_RANGE:V},AbortError:P}=A(85833),{validateAbortSignal:ee,validateInteger:W,validateObject:Q}=A(48119),de=A(2220).Symbol("kWeak"),{finished:ae}=A(68208),re=A(90972),{addAbortSignalNoValidate:te}=A(55397),{isWritable:ue,isNodeStream:pe}=A(76989),{ArrayPrototypePush:he,MathFloor:ve,Number:ge,NumberIsNaN:Me,Promise:Oe,PromiseReject:je,PromisePrototypeThen:B,Symbol:l}=A(2220),f=l("kEmpty"),w=l("kEof");function D(oe,fe){if("function"!=typeof oe)throw new U("fn",["Function","AsyncFunction"],oe);null!=fe&&Q(fe,"options"),null!=fe?.signal&&ee(fe.signal,"options.signal");let we=1;return null!=fe?.concurrency&&(we=ve(fe.concurrency)),W(we,"concurrency",1),function(){var De=M(function*(){var Je,Ze;const Pt=new j,nt=this,Ge=[],Et=Pt.signal,K={signal:Et},C=()=>Pt.abort();null!=fe&&null!==(Je=fe.signal)&&void 0!==Je&&Je.aborted&&C(),null==fe||null===(Ze=fe.signal)||void 0===Ze||Ze.addEventListener("abort",C);let b,z,le=!1;function Ae(){le=!0}function ft(){return(ft=h(function*(){try{var Vt,Yt=!1,Rt=!1;try{for(var Mn,dn=N(nt);Yt=!(Mn=yield dn.next()).done;Yt=!1){let jn=Mn.value;var En;if(le)return;if(Et.aborted)throw new P;try{jn=oe(jn,K)}catch(mn){jn=je(mn)}jn!==f&&("function"==typeof(null===(En=jn)||void 0===En?void 0:En.catch)&&jn.catch(Ae),Ge.push(jn),b&&(b(),b=null),!le&&Ge.length&&Ge.length>=we&&(yield new Oe(mn=>{z=mn})))}}catch(jn){Rt=!0,Vt=jn}finally{try{Yt&&null!=dn.return&&(yield dn.return())}finally{if(Rt)throw Vt}}Ge.push(w)}catch(jn){const mn=je(jn);B(mn,void 0,Ae),Ge.push(mn)}finally{var Ar;le=!0,b&&(b(),b=null),null==fe||null===(Ar=fe.signal)||void 0===Ar||Ar.removeEventListener("abort",C)}})).apply(this,arguments)}!function Be(){ft.apply(this,arguments)}();try{for(;;){for(;Ge.length>0;){const Yt=yield Y(Ge[0]);if(Yt===w)return;if(Et.aborted)throw new P;Yt!==f&&(yield Yt),Ge.shift(),z&&(z(),z=null)}yield Y(new Oe(Yt=>{b=Yt}))}}finally{Pt.abort(),le=!0,z&&(z(),z=null)}});return function $e(){return De.apply(this,arguments)}}().call(this)}function $(oe){return T.apply(this,arguments)}function T(){return(T=h(function*(oe,fe=void 0){var $e,we=!1,De=!1;try{for(var Je=N(Te.call(this,oe,fe));we=!(yield Je.next()).done;we=!1)return!0}catch(Pt){De=!0,$e=Pt}finally{try{we&&null!=Je.return&&(yield Je.return())}finally{if(De)throw $e}}return!1})).apply(this,arguments)}function E(){return(E=h(function*(oe,fe=void 0){if("function"!=typeof oe)throw new U("fn",["Function","AsyncFunction"],oe);return!(yield $.call(this,h(function*(...we){return!(yield oe(...we))}),fe))})).apply(this,arguments)}function X(){return(X=h(function*(oe,fe){var $e,we=!1,De=!1;try{for(var Ze,Je=N(Te.call(this,oe,fe));we=!(Ze=yield Je.next()).done;we=!1)return Ze.value}catch(Pt){De=!0,$e=Pt}finally{try{we&&null!=Je.return&&(yield Je.return())}finally{if(De)throw $e}}})).apply(this,arguments)}function me(){return me=h(function*(oe,fe){if("function"!=typeof oe)throw new U("fn",["Function","AsyncFunction"],oe);function De(){return(De=h(function*(Ge,Et){return yield oe(Ge,Et),f})).apply(this,arguments)}var Ze,$e=!1,Je=!1;try{for(var Pt=N(D.call(this,function we(Ge,Et){return De.apply(this,arguments)},fe));$e=!(yield Pt.next()).done;$e=!1);}catch(Ge){Je=!0,Ze=Ge}finally{try{$e&&null!=Pt.return&&(yield Pt.return())}finally{if(Je)throw Ze}}}),me.apply(this,arguments)}function Te(oe,fe){if("function"!=typeof oe)throw new U("fn",["Function","AsyncFunction"],oe);function De(){return(De=h(function*($e,Je){return(yield oe($e,Je))?$e:f})).apply(this,arguments)}return D.call(this,function we($e,Je){return De.apply(this,arguments)},fe)}class Ke extends H{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function ke(){return ke=h(function*(oe,fe,we){var De;if("function"!=typeof oe)throw new U("reducer",["Function","AsyncFunction"],oe);null!=we&&Q(we,"options"),null!=we?.signal&&ee(we.signal,"options.signal");let $e=arguments.length>1;if(null!=we&&null!==(De=we.signal)&&void 0!==De&&De.aborted){const z=new P(void 0,{cause:we.signal.reason});throw this.once("error",()=>{}),yield ae(this.destroy(z)),z}const Je=new j,Ze=Je.signal;null!=we&&we.signal&&we.signal.addEventListener("abort",()=>Je.abort(),{once:!0,[de]:this});let Pt=!1;try{var Et,nt=!1,Ge=!1;try{for(var C,K=N(this);nt=!(C=yield K.next()).done;nt=!1){const z=C.value;var b;if(Pt=!0,null!=we&&null!==(b=we.signal)&&void 0!==b&&b.aborted)throw new P;$e?fe=yield oe(fe,z,{signal:Ze}):(fe=z,$e=!0)}}catch(z){Ge=!0,Et=z}finally{try{nt&&null!=K.return&&(yield K.return())}finally{if(Ge)throw Et}}if(!Pt&&!$e)throw new Ke}finally{Je.abort()}return fe}),ke.apply(this,arguments)}function Xe(){return(Xe=h(function*(oe){null!=oe&&Q(oe,"options"),null!=oe?.signal&&ee(oe.signal,"options.signal");const fe=[];var $e,we=!1,De=!1;try{for(var Ze,Je=N(this);we=!(Ze=yield Je.next()).done;we=!1){const nt=Ze.value;var Pt;if(null!=oe&&null!==(Pt=oe.signal)&&void 0!==Pt&&Pt.aborted)throw new P(void 0,{cause:oe.signal.reason});he(fe,nt)}}catch(nt){De=!0,$e=nt}finally{try{we&&null!=Je.return&&(yield Je.return())}finally{if(De)throw $e}}return fe})).apply(this,arguments)}function Le(oe){if(oe=ge(oe),Me(oe))return 0;if(oe<0)throw new V("number",">= 0",oe);return oe}Ye.exports.streamReturningOperators={asIndexedPairs:function O(oe=void 0){return null!=oe&&Q(oe,"options"),null!=oe?.signal&&ee(oe.signal,"options.signal"),function(){var fe=M(function*(){let De=0;var Ze,$e=!1,Je=!1;try{for(var nt,Pt=N(this);$e=!(nt=yield Y(Pt.next())).done;$e=!1){const Et=nt.value;var Ge;if(null!=oe&&null!==(Ge=oe.signal)&&void 0!==Ge&&Ge.aborted)throw new P({cause:oe.signal.reason});yield[De++,Et]}}catch(Et){Je=!0,Ze=Et}finally{try{$e&&null!=Pt.return&&(yield Y(Pt.return()))}finally{if(Je)throw Ze}}});return function we(){return fe.apply(this,arguments)}}().call(this)},drop:function Ee(oe,fe=void 0){return null!=fe&&Q(fe,"options"),null!=fe?.signal&&ee(fe.signal,"options.signal"),oe=Le(oe),function(){var we=M(function*(){var $e;if(null!=fe&&null!==($e=fe.signal)&&void 0!==$e&&$e.aborted)throw new P;var Pt,Je=!1,Ze=!1;try{for(var Ge,nt=N(this);Je=!(Ge=yield Y(nt.next())).done;Je=!1){const K=Ge.value;var Et;if(null!=fe&&null!==(Et=fe.signal)&&void 0!==Et&&Et.aborted)throw new P;oe--<=0&&(yield K)}}catch(K){Ze=!0,Pt=K}finally{try{Je&&null!=nt.return&&(yield Y(nt.return()))}finally{if(Ze)throw Pt}}});return function De(){return we.apply(this,arguments)}}().call(this)},filter:Te,flatMap:function Se(oe,fe){const we=D.call(this,oe,fe);return function(){var De=M(function*(){var Pt,Je=!1,Ze=!1;try{for(var Ge,nt=N(we);Je=!(Ge=yield Y(nt.next())).done;Je=!1){const Et=Ge.value;yield*x(N(Et),Y)}}catch(Et){Ze=!0,Pt=Et}finally{try{Je&&null!=nt.return&&(yield Y(nt.return()))}finally{if(Ze)throw Pt}}});return function $e(){return De.apply(this,arguments)}}().call(this)},map:D,take:function be(oe,fe=void 0){return null!=fe&&Q(fe,"options"),null!=fe?.signal&&ee(fe.signal,"options.signal"),oe=Le(oe),function(){var we=M(function*(){var $e;if(null!=fe&&null!==($e=fe.signal)&&void 0!==$e&&$e.aborted)throw new P;var Pt,Je=!1,Ze=!1;try{for(var Ge,nt=N(this);Je=!(Ge=yield Y(nt.next())).done;Je=!1){const K=Ge.value;var Et;if(null!=fe&&null!==(Et=fe.signal)&&void 0!==Et&&Et.aborted)throw new P;if(!(oe-- >0))return;yield K}}catch(K){Ze=!0,Pt=K}finally{try{Je&&null!=nt.return&&(yield Y(nt.return()))}finally{if(Ze)throw Pt}}});return function De(){return we.apply(this,arguments)}}().call(this)},compose:function _(oe,fe){if(null!=fe&&Q(fe,"options"),null!=fe?.signal&&ee(fe.signal,"options.signal"),pe(oe)&&!ue(oe))throw new R("stream",oe,"must be writable");const we=re(this,oe);return null!=fe&&fe.signal&&te(fe.signal,we),we}},Ye.exports.promiseReturningOperators={every:function c(oe){return E.apply(this,arguments)},forEach:function ce(oe,fe){return me.apply(this,arguments)},reduce:function Qe(oe,fe,we){return ke.apply(this,arguments)},toArray:function Ie(oe){return Xe.apply(this,arguments)},some:$,find:function q(oe,fe){return X.apply(this,arguments)}}},5358:(Ye,J,A)=>{"use strict";const{ObjectSetPrototypeOf:h}=A(2220);Ye.exports=N;const x=A(33732);function N(Y){if(!(this instanceof N))return new N(Y);x.call(this,Y)}h(N.prototype,x.prototype),h(N,x),N.prototype._transform=function(Y,M,j){j(null,Y)}},63596:(Ye,J,A)=>{var h=A(29293).default,x=A(42958).default,N=A(53344).default,Y=A(93513).default,M=A(82881).default;const j=A(40573),{ArrayIsArray:R,Promise:U,SymbolAsyncIterator:H}=A(2220),V=A(68208),{once:P}=A(82578),ee=A(23370),W=A(85892),{aggregateTwoErrors:Q,codes:{ERR_INVALID_ARG_TYPE:de,ERR_INVALID_RETURN_VALUE:ae,ERR_MISSING_ARGS:re,ERR_STREAM_DESTROYED:te,ERR_STREAM_PREMATURE_CLOSE:ue},AbortError:pe}=A(85833),{validateFunction:he,validateAbortSignal:ve}=A(48119),{isIterable:ge,isReadable:Me,isReadableNodeStream:Oe,isNodeStream:je,isTransformStream:B,isWebStream:l,isReadableStream:f,isReadableEnded:w}=A(76989),_=globalThis.AbortController||A(9465).AbortController;let D,O;function $(Ie,Xe,Se){let Le=!1;return Ie.on("close",()=>{Le=!0}),{destroy:be=>{Le||(Le=!0,ee.destroyer(Ie,be||new te("pipe")))},cleanup:V(Ie,{readable:Xe,writable:Se},be=>{Le=!be})}}function c(Ie){if(ge(Ie))return Ie;if(Oe(Ie))return function E(Ie){return q.apply(this,arguments)}(Ie);throw new de("val",["Readable","Iterable","AsyncIterable"],Ie)}function q(){return(q=x(function*(Ie){O||(O=A(84730)),yield*Y(M(O.prototype[H].call(Ie)),N)})).apply(this,arguments)}function X(Ie,Xe,Se,Le){return ce.apply(this,arguments)}function ce(){return(ce=h(function*(Ie,Xe,Se,{end:Le}){let Ee,be=null;const oe=nt=>{if(nt&&(Ee=nt),be){const Ge=be;be=null,Ge()}},fe=()=>new U((nt,Ge)=>{Ee?Ge(Ee):be=()=>{Ee?Ge(Ee):nt()}});Xe.on("drain",oe);const we=V(Xe,{readable:!1},oe);try{Xe.writableNeedDrain&&(yield fe());var Je,De=!1,$e=!1;try{for(var Pt,Ze=M(Ie);De=!(Pt=yield Ze.next()).done;De=!1)Xe.write(Pt.value)||(yield fe())}catch(nt){$e=!0,Je=nt}finally{try{De&&null!=Ze.return&&(yield Ze.return())}finally{if($e)throw Je}}Le&&Xe.end(),yield fe(),Se()}catch(nt){Se(Ee!==nt?Q(Ee,nt):nt)}finally{we(),Xe.off("drain",oe)}})).apply(this,arguments)}function me(Ie,Xe,Se,Le){return Te.apply(this,arguments)}function Te(){return(Te=h(function*(Ie,Xe,Se,{end:Le}){B(Xe)&&(Xe=Xe.writable);const Ee=Xe.getWriter();try{var fe,be=!1,oe=!1;try{for(var De,we=M(Ie);be=!(De=yield we.next()).done;be=!1){const $e=De.value;yield Ee.ready,Ee.write($e).catch(()=>{})}}catch($e){oe=!0,fe=$e}finally{try{be&&null!=we.return&&(yield we.return())}finally{if(oe)throw fe}}yield Ee.ready,Le&&(yield Ee.close()),Se()}catch($e){try{yield Ee.abort($e),Se($e)}catch(Je){Se(Je)}}})).apply(this,arguments)}function Qe(Ie,Xe,Se){if(1===Ie.length&&R(Ie[0])&&(Ie=Ie[0]),Ie.length<2)throw new re("streams");const Le=new _,Ee=Le.signal,be=Se?.signal,oe=[];function fe(){Pt(new pe)}let we,De;ve(be,"options.signal"),be?.addEventListener("abort",fe);const $e=[];let nt,Je=0;function Ze(C){Pt(C,0==--Je)}function Pt(C,b){if(C&&(!we||"ERR_STREAM_PREMATURE_CLOSE"===we.code)&&(we=C),we||b){for(;$e.length;)$e.shift()(we);be?.removeEventListener("abort",fe),Le.abort(),b&&(we||oe.forEach(z=>z()),j.nextTick(Xe,we,De))}}for(let C=0;C<Ie.length;C++){const b=Ie[C],z=C<Ie.length-1,le=C>0,Ae=z||!1!==Se?.end,Be=C===Ie.length-1;if(je(b)){let ft=function(Yt){Yt&&"AbortError"!==Yt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Yt.code&&Ze(Yt)};if(Ae){const{destroy:Yt,cleanup:Rt}=$(b,z,le);$e.push(Yt),Me(b)&&Be&&oe.push(Rt)}b.on("error",ft),Me(b)&&Be&&oe.push(()=>{b.removeListener("error",ft)})}if(0===C)if("function"==typeof b){if(nt=b({signal:Ee}),!ge(nt))throw new ae("Iterable, AsyncIterable or Stream","source",nt)}else nt=ge(b)||Oe(b)||B(b)?b:W.from(b);else if("function"==typeof b){var Ge;if(nt=B(nt)?c(null===(Ge=nt)||void 0===Ge?void 0:Ge.readable):c(nt),nt=b(nt,{signal:Ee}),z){if(!ge(nt,!0))throw new ae("AsyncIterable",`transform[${C-1}]`,nt)}else{var Et;D||(D=A(5358));const ft=new D({objectMode:!0}),Yt=null===(Et=nt)||void 0===Et?void 0:Et.then;if("function"==typeof Yt)Je++,Yt.call(nt,dn=>{De=dn,null!=dn&&ft.write(dn),Ae&&ft.end(),j.nextTick(Ze)},dn=>{ft.destroy(dn),j.nextTick(Ze,dn)});else if(ge(nt,!0))Je++,X(nt,ft,Ze,{end:Ae});else{if(!f(nt)&&!B(nt))throw new ae("AsyncIterable or Promise","destination",nt);Je++,X(nt.readable||nt,ft,Ze,{end:Ae})}nt=ft;const{destroy:Rt,cleanup:Vt}=$(nt,!1,!0);$e.push(Rt),Be&&oe.push(Vt)}}else if(je(b)){if(Oe(nt)){Je+=2;const ft=ke(nt,b,Ze,{end:Ae});Me(b)&&Be&&oe.push(ft)}else if(B(nt)||f(nt))Je++,X(nt.readable||nt,b,Ze,{end:Ae});else{if(!ge(nt))throw new de("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],nt);Je++,X(nt,b,Ze,{end:Ae})}nt=b}else if(l(b)){if(Oe(nt))Je++,me(c(nt),b,Ze,{end:Ae});else if(f(nt)||ge(nt))Je++,me(nt,b,Ze,{end:Ae});else{if(!B(nt))throw new de("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],nt);Je++,me(nt.readable,b,Ze,{end:Ae})}nt=b}else nt=W.from(b)}return(null!=Ee&&Ee.aborted||null!=be&&be.aborted)&&j.nextTick(fe),nt}function ke(Ie,Xe,Se,{end:Le}){let Ee=!1;if(Xe.on("close",()=>{Ee||Se(new ue)}),Ie.pipe(Xe,{end:!1}),Le){let oe=function(){Ee=!0,Xe.end()};w(Ie)?j.nextTick(oe):Ie.once("end",oe)}else Se();return V(Ie,{readable:!0,writable:!1},oe=>{const fe=Ie._readableState;oe&&"ERR_STREAM_PREMATURE_CLOSE"===oe.code&&fe&&fe.ended&&!fe.errored&&!fe.errorEmitted?Ie.once("end",Se).once("error",Se):Se(oe)}),V(Xe,{readable:!1,writable:!0},Se)}Ye.exports={pipelineImpl:Qe,pipeline:function Ke(...Ie){return Qe(Ie,P(function T(Ie){return he(Ie[Ie.length-1],"streams[stream.length - 1]"),Ie.pop()}(Ie)))}}},84730:(Ye,J,A)=>{var h=A(53344).default,x=A(42958).default;const N=A(40573),{ArrayPrototypeIndexOf:Y,NumberIsInteger:M,NumberIsNaN:j,NumberParseInt:R,ObjectDefineProperties:U,ObjectKeys:H,ObjectSetPrototypeOf:V,Promise:P,SafeSet:ee,SymbolAsyncIterator:W,Symbol:Q}=A(2220);Ye.exports=X,X.ReadableState=q;const{EventEmitter:de}=A(44356),{Stream:ae,prependListener:re}=A(90845),{Buffer:te}=A(37945),{addAbortSignal:ue}=A(55397),pe=A(68208);let he=A(82578).debuglog("stream",b=>{he=b});const ve=A(54863),ge=A(23370),{getHighWaterMark:Me,getDefaultHighWaterMark:Oe}=A(43909),{aggregateTwoErrors:je,codes:{ERR_INVALID_ARG_TYPE:B,ERR_METHOD_NOT_IMPLEMENTED:l,ERR_OUT_OF_RANGE:f,ERR_STREAM_PUSH_AFTER_EOF:w,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:_}}=A(85833),{validateObject:D}=A(48119),O=Q("kPaused"),{StringDecoder:$}=A(78454),T=A(94506);V(X.prototype,ae.prototype),V(X,ae);const c=()=>{},{errorOrDestroy:E}=ge;function q(b,z,le){"boolean"!=typeof le&&(le=z instanceof A(85892)),this.objectMode=!(!b||!b.objectMode),le&&(this.objectMode=this.objectMode||!(!b||!b.readableObjectMode)),this.highWaterMark=b?Me(this,b,"readableHighWaterMark",le):Oe(!1),this.buffer=new ve,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[O]=null,this.errorEmitted=!1,this.emitClose=!b||!1!==b.emitClose,this.autoDestroy=!b||!1!==b.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=b&&b.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,b&&b.encoding&&(this.decoder=new $(b.encoding),this.encoding=b.encoding)}function X(b){if(!(this instanceof X))return new X(b);const z=this instanceof A(85892);this._readableState=new q(b,this,z),b&&("function"==typeof b.read&&(this._read=b.read),"function"==typeof b.destroy&&(this._destroy=b.destroy),"function"==typeof b.construct&&(this._construct=b.construct),b.signal&&!z&&ue(b.signal,this)),ae.call(this,b),ge.construct(this,()=>{this._readableState.needReadable&&Se(this,this._readableState)})}function ce(b,z,le,Ae){he("readableAddChunk",z);const Be=b._readableState;let ft;if(Be.objectMode||("string"==typeof z?Be.encoding!==(le=le||Be.defaultEncoding)&&(Ae&&Be.encoding?z=te.from(z,le).toString(Be.encoding):(z=te.from(z,le),le="")):z instanceof te?le="":ae._isUint8Array(z)?(z=ae._uint8ArrayToBuffer(z),le=""):null!=z&&(ft=new B("chunk",["string","Buffer","Uint8Array"],z))),ft)E(b,ft);else if(null===z)Be.reading=!1,function ke(b,z){if(he("onEofChunk"),!z.ended){if(z.decoder){const le=z.decoder.end();le&&le.length&&(z.buffer.push(le),z.length+=z.objectMode?1:le.length)}z.ended=!0,z.sync?Ie(b):(z.needReadable=!1,z.emittedReadable=!0,Xe(b))}}(b,Be);else if(Be.objectMode||z&&z.length>0)if(Ae)if(Be.endEmitted)E(b,new _);else{if(Be.destroyed||Be.errored)return!1;me(b,Be,z,!0)}else if(Be.ended)E(b,new w);else{if(Be.destroyed||Be.errored)return!1;Be.reading=!1,Be.decoder&&!le?(z=Be.decoder.write(z),Be.objectMode||0!==z.length?me(b,Be,z,!1):Se(b,Be)):me(b,Be,z,!1)}else Ae||(Be.reading=!1,Se(b,Be));return!Be.ended&&(Be.length<Be.highWaterMark||0===Be.length)}function me(b,z,le,Ae){z.flowing&&0===z.length&&!z.sync&&b.listenerCount("data")>0?(z.multiAwaitDrain?z.awaitDrainWriters.clear():z.awaitDrainWriters=null,z.dataEmitted=!0,b.emit("data",le)):(z.length+=z.objectMode?1:le.length,Ae?z.buffer.unshift(le):z.buffer.push(le),z.needReadable&&Ie(b)),Se(b,z)}function Qe(b,z){return b<=0||0===z.length&&z.ended?0:z.objectMode?1:j(b)?z.flowing&&z.length?z.buffer.first().length:z.length:b<=z.length?b:z.ended?z.length:0}function Ie(b){const z=b._readableState;he("emitReadable",z.needReadable,z.emittedReadable),z.needReadable=!1,z.emittedReadable||(he("emitReadable",z.flowing),z.emittedReadable=!0,N.nextTick(Xe,b))}function Xe(b){const z=b._readableState;he("emitReadable_",z.destroyed,z.length,z.ended),!z.destroyed&&!z.errored&&(z.length||z.ended)&&(b.emit("readable"),z.emittedReadable=!1),z.needReadable=!z.flowing&&!z.ended&&z.length<=z.highWaterMark,De(b)}function Se(b,z){!z.readingMore&&z.constructed&&(z.readingMore=!0,N.nextTick(Le,b,z))}function Le(b,z){for(;!z.reading&&!z.ended&&(z.length<z.highWaterMark||z.flowing&&0===z.length);){const le=z.length;if(he("maybeReadMore read 0"),b.read(0),le===z.length)break}z.readingMore=!1}function be(b){const z=b._readableState;z.readableListening=b.listenerCount("readable")>0,z.resumeScheduled&&!1===z[O]?z.flowing=!0:b.listenerCount("data")>0?b.resume():z.readableListening||(z.flowing=null)}function oe(b){he("readable nexttick read 0"),b.read(0)}function we(b,z){he("resume",z.reading),z.reading||b.read(0),z.resumeScheduled=!1,b.emit("resume"),De(b),z.flowing&&!z.reading&&b.read(0)}function De(b){const z=b._readableState;for(he("flow",z.flowing);z.flowing&&null!==b.read(););}function $e(b,z){"function"!=typeof b.read&&(b=X.wrap(b,{objectMode:!0}));const le=function Je(b,z){return Ze.apply(this,arguments)}(b,z);return le.stream=b,le}function Ze(){return(Ze=x(function*(b,z){let Be,le=c;function Ae(Yt){this===b?(le(),le=c):le=Yt}b.on("readable",Ae);const ft=pe(b,{writable:!1},Yt=>{Be=Yt?je(Be,Yt):null,le(),le=c});try{for(;;){const Yt=b.destroyed?null:b.read();if(null!==Yt)yield Yt;else{if(Be)throw Be;if(null===Be)return;yield h(new P(Ae))}}}catch(Yt){throw Be=je(Be,Yt),Be}finally{!Be&&!1===z?.destroyOnReturn||void 0!==Be&&!b._readableState.autoDestroy?(b.off("readable",Ae),ft()):ge.destroyer(b,null)}})).apply(this,arguments)}function Pt(b,z){if(0===z.length)return null;let le;return z.objectMode?le=z.buffer.shift():!b||b>=z.length?(le=z.decoder?z.buffer.join(""):1===z.buffer.length?z.buffer.first():z.buffer.concat(z.length),z.buffer.clear()):le=z.buffer.consume(b,z.decoder),le}function nt(b){const z=b._readableState;he("endReadable",z.endEmitted),z.endEmitted||(z.ended=!0,N.nextTick(Ge,z,b))}function Ge(b,z){if(he("endReadableNT",b.endEmitted,b.length),!b.errored&&!b.closeEmitted&&!b.endEmitted&&0===b.length)if(b.endEmitted=!0,z.emit("end"),z.writable&&!1===z.allowHalfOpen)N.nextTick(Et,z);else if(b.autoDestroy){const le=z._writableState;(!le||le.autoDestroy&&(le.finished||!1===le.writable))&&z.destroy()}}function Et(b){b.writable&&!b.writableEnded&&!b.destroyed&&b.end()}let K;function C(){return void 0===K&&(K={}),K}X.prototype.destroy=ge.destroy,X.prototype._undestroy=ge.undestroy,X.prototype._destroy=function(b,z){z(b)},X.prototype[de.captureRejectionSymbol]=function(b){this.destroy(b)},X.prototype.push=function(b,z){return ce(this,b,z,!1)},X.prototype.unshift=function(b,z){return ce(this,b,z,!0)},X.prototype.isPaused=function(){const b=this._readableState;return!0===b[O]||!1===b.flowing},X.prototype.setEncoding=function(b){const z=new $(b);this._readableState.decoder=z,this._readableState.encoding=this._readableState.decoder.encoding;const le=this._readableState.buffer;let Ae="";for(const Be of le)Ae+=z.write(Be);return le.clear(),""!==Ae&&le.push(Ae),this._readableState.length=Ae.length,this},X.prototype.read=function(b){he("read",b),void 0===b?b=NaN:M(b)||(b=R(b,10));const z=this._readableState,le=b;if(b>z.highWaterMark&&(z.highWaterMark=function Ke(b){if(b>1073741824)throw new f("size","<= 1GiB",b);return b--,b|=b>>>1,b|=b>>>2,b|=b>>>4,b|=b>>>8,b|=b>>>16,++b}(b)),0!==b&&(z.emittedReadable=!1),0===b&&z.needReadable&&((0!==z.highWaterMark?z.length>=z.highWaterMark:z.length>0)||z.ended))return he("read: emitReadable",z.length,z.ended),0===z.length&&z.ended?nt(this):Ie(this),null;if(0===(b=Qe(b,z))&&z.ended)return 0===z.length&&nt(this),null;let Be,Ae=z.needReadable;if(he("need readable",Ae),(0===z.length||z.length-b<z.highWaterMark)&&(Ae=!0,he("length less than watermark",Ae)),z.ended||z.reading||z.destroyed||z.errored||!z.constructed)Ae=!1,he("reading, ended or constructing",Ae);else if(Ae){he("do read"),z.reading=!0,z.sync=!0,0===z.length&&(z.needReadable=!0);try{this._read(z.highWaterMark)}catch(ft){E(this,ft)}z.sync=!1,z.reading||(b=Qe(le,z))}return Be=b>0?Pt(b,z):null,null===Be?(z.needReadable=z.length<=z.highWaterMark,b=0):(z.length-=b,z.multiAwaitDrain?z.awaitDrainWriters.clear():z.awaitDrainWriters=null),0===z.length&&(z.ended||(z.needReadable=!0),le!==b&&z.ended&&nt(this)),null!==Be&&!z.errorEmitted&&!z.closeEmitted&&(z.dataEmitted=!0,this.emit("data",Be)),Be},X.prototype._read=function(b){throw new l("_read()")},X.prototype.pipe=function(b,z){const le=this,Ae=this._readableState;1===Ae.pipes.length&&(Ae.multiAwaitDrain||(Ae.multiAwaitDrain=!0,Ae.awaitDrainWriters=new ee(Ae.awaitDrainWriters?[Ae.awaitDrainWriters]:[]))),Ae.pipes.push(b),he("pipe count=%d opts=%j",Ae.pipes.length,z);const ft=z&&!1===z.end||b===N.stdout||b===N.stderr?kt:Rt;function Rt(){he("onend"),b.end()}Ae.endEmitted?N.nextTick(ft):le.once("end",ft),b.on("unpipe",function Yt(St,an){he("onunpipe"),St===le&&an&&!1===an.hasUnpiped&&(an.hasUnpiped=!0,function Mn(){he("cleanup"),b.removeListener("close",mn),b.removeListener("finish",pn),Vt&&b.removeListener("drain",Vt),b.removeListener("error",jn),b.removeListener("unpipe",Yt),le.removeListener("end",Rt),le.removeListener("end",kt),le.removeListener("data",Ar),dn=!0,Vt&&Ae.awaitDrainWriters&&(!b._writableState||b._writableState.needDrain)&&Vt()}())});let Vt,dn=!1;function En(){dn||(1===Ae.pipes.length&&Ae.pipes[0]===b?(he("false write response, pause",0),Ae.awaitDrainWriters=b,Ae.multiAwaitDrain=!1):Ae.pipes.length>1&&Ae.pipes.includes(b)&&(he("false write response, pause",Ae.awaitDrainWriters.size),Ae.awaitDrainWriters.add(b)),le.pause()),Vt||(Vt=function Ee(b,z){return function(){const Ae=b._readableState;Ae.awaitDrainWriters===z?(he("pipeOnDrain",1),Ae.awaitDrainWriters=null):Ae.multiAwaitDrain&&(he("pipeOnDrain",Ae.awaitDrainWriters.size),Ae.awaitDrainWriters.delete(z)),(!Ae.awaitDrainWriters||0===Ae.awaitDrainWriters.size)&&b.listenerCount("data")&&b.resume()}}(le,b),b.on("drain",Vt))}function Ar(St){he("ondata");const an=b.write(St);he("dest.write",an),!1===an&&En()}function jn(St){if(he("onerror",St),kt(),b.removeListener("error",jn),0===b.listenerCount("error")){const an=b._writableState||b._readableState;an&&!an.errorEmitted?E(b,St):b.emit("error",St)}}function mn(){b.removeListener("finish",pn),kt()}function pn(){he("onfinish"),b.removeListener("close",mn),kt()}function kt(){he("unpipe"),le.unpipe(b)}return le.on("data",Ar),re(b,"error",jn),b.once("close",mn),b.once("finish",pn),b.emit("pipe",le),!0===b.writableNeedDrain?Ae.flowing&&En():Ae.flowing||(he("pipe resume"),le.resume()),b},X.prototype.unpipe=function(b){const z=this._readableState;if(0===z.pipes.length)return this;if(!b){const Be=z.pipes;z.pipes=[],this.pause();for(let ft=0;ft<Be.length;ft++)Be[ft].emit("unpipe",this,{hasUnpiped:!1});return this}const Ae=Y(z.pipes,b);return-1===Ae||(z.pipes.splice(Ae,1),0===z.pipes.length&&this.pause(),b.emit("unpipe",this,{hasUnpiped:!1})),this},X.prototype.addListener=X.prototype.on=function(b,z){const le=ae.prototype.on.call(this,b,z),Ae=this._readableState;return"data"===b?(Ae.readableListening=this.listenerCount("readable")>0,!1!==Ae.flowing&&this.resume()):"readable"===b&&!Ae.endEmitted&&!Ae.readableListening&&(Ae.readableListening=Ae.needReadable=!0,Ae.flowing=!1,Ae.emittedReadable=!1,he("on readable",Ae.length,Ae.reading),Ae.length?Ie(this):Ae.reading||N.nextTick(oe,this)),le},X.prototype.off=X.prototype.removeListener=function(b,z){const le=ae.prototype.removeListener.call(this,b,z);return"readable"===b&&N.nextTick(be,this),le},X.prototype.removeAllListeners=function(b){const z=ae.prototype.removeAllListeners.apply(this,arguments);return("readable"===b||void 0===b)&&N.nextTick(be,this),z},X.prototype.resume=function(){const b=this._readableState;return b.flowing||(he("resume"),b.flowing=!b.readableListening,function fe(b,z){z.resumeScheduled||(z.resumeScheduled=!0,N.nextTick(we,b,z))}(this,b)),b[O]=!1,this},X.prototype.pause=function(){return he("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(he("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[O]=!0,this},X.prototype.wrap=function(b){let z=!1;b.on("data",Ae=>{!this.push(Ae)&&b.pause&&(z=!0,b.pause())}),b.on("end",()=>{this.push(null)}),b.on("error",Ae=>{E(this,Ae)}),b.on("close",()=>{this.destroy()}),b.on("destroy",()=>{this.destroy()}),this._read=()=>{z&&b.resume&&(z=!1,b.resume())};const le=H(b);for(let Ae=1;Ae<le.length;Ae++){const Be=le[Ae];void 0===this[Be]&&"function"==typeof b[Be]&&(this[Be]=b[Be].bind(b))}return this},X.prototype[W]=function(){return $e(this)},X.prototype.iterator=function(b){return void 0!==b&&D(b,"options"),$e(this,b)},U(X.prototype,{readable:{__proto__:null,get(){const b=this._readableState;return!(!b||!1===b.readable||b.destroyed||b.errorEmitted||b.endEmitted)},set(b){this._readableState&&(this._readableState.readable=!!b)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(b){this._readableState&&(this._readableState.flowing=b)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(b){this._readableState&&(this._readableState.destroyed=b)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),U(q.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[O]},set(b){this[O]=!!b}}}),X._fromList=Pt,X.from=function(b,z){return T(X,b,z)},X.fromWeb=function(b,z){return C().newStreamReadableFromReadableStream(b,z)},X.toWeb=function(b,z){return C().newReadableStreamFromStreamReadable(b,z)},X.wrap=function(b,z){var le,Ae;return new X({objectMode:null===(le=null!==(Ae=b.readableObjectMode)&&void 0!==Ae?Ae:b.objectMode)||void 0===le||le,...z,destroy(Be,ft){ge.destroyer(b,Be),ft(Be)}}).wrap(b)}},43909:(Ye,J,A)=>{"use strict";const{MathFloor:h,NumberIsInteger:x}=A(2220),{ERR_INVALID_ARG_VALUE:N}=A(85833).codes;function M(R){return R?16:16384}Ye.exports={getHighWaterMark:function j(R,U,H,V){const P=function Y(R,U,H){return null!=R.highWaterMark?R.highWaterMark:U?R[H]:null}(U,V,H);if(null!=P){if(!x(P)||P<0)throw new N(V?`options.${H}`:"options.highWaterMark",P);return h(P)}return M(R.objectMode)},getDefaultHighWaterMark:M}},33732:(Ye,J,A)=>{"use strict";const{ObjectSetPrototypeOf:h,Symbol:x}=A(2220);Ye.exports=R;const{ERR_METHOD_NOT_IMPLEMENTED:N}=A(85833).codes,Y=A(85892),{getHighWaterMark:M}=A(43909);h(R.prototype,Y.prototype),h(R,Y);const j=x("kCallback");function R(V){if(!(this instanceof R))return new R(V);const P=V?M(this,V,"readableHighWaterMark",!0):null;0===P&&(V={...V,highWaterMark:null,readableHighWaterMark:P,writableHighWaterMark:V.writableHighWaterMark||0}),Y.call(this,V),this._readableState.sync=!1,this[j]=null,V&&("function"==typeof V.transform&&(this._transform=V.transform),"function"==typeof V.flush&&(this._flush=V.flush)),this.on("prefinish",H)}function U(V){"function"!=typeof this._flush||this.destroyed?(this.push(null),V&&V()):this._flush((P,ee)=>{P?V?V(P):this.destroy(P):(null!=ee&&this.push(ee),this.push(null),V&&V())})}function H(){this._final!==U&&U.call(this)}R.prototype._final=U,R.prototype._transform=function(V,P,ee){throw new N("_transform()")},R.prototype._write=function(V,P,ee){const W=this._readableState,Q=this._writableState,de=W.length;this._transform(V,P,(ae,re)=>{ae?ee(ae):(null!=re&&this.push(re),Q.ended||de===W.length||W.length<W.highWaterMark?ee():this[j]=ee)})},R.prototype._read=function(){if(this[j]){const V=this[j];this[j]=null,V()}}},76989:(Ye,J,A)=>{"use strict";const{Symbol:h,SymbolAsyncIterator:x,SymbolIterator:N,SymbolFor:Y}=A(2220),M=h("kDestroyed"),j=h("kIsErrored"),R=h("kIsReadable"),U=h("kIsDisturbed"),H=Y("nodejs.webstream.isClosedPromise"),V=Y("nodejs.webstream.controllerErrorFunction");function P(E,q=!1){var X;return!(!E||"function"!=typeof E.pipe||"function"!=typeof E.on||q&&("function"!=typeof E.pause||"function"!=typeof E.resume)||E._writableState&&!1===(null===(X=E._readableState)||void 0===X?void 0:X.readable)||E._writableState&&!E._readableState)}function ee(E){var q;return!(!E||"function"!=typeof E.write||"function"!=typeof E.on||E._readableState&&!1===(null===(q=E._writableState)||void 0===q?void 0:q.writable))}function Q(E){return E&&(E._readableState||E._writableState||"function"==typeof E.write&&"function"==typeof E.on||"function"==typeof E.pipe&&"function"==typeof E.on)}function de(E){return!(!E||Q(E)||"function"!=typeof E.pipeThrough||"function"!=typeof E.getReader||"function"!=typeof E.cancel)}function ae(E){return!(!E||Q(E)||"function"!=typeof E.getWriter||"function"!=typeof E.abort)}function re(E){return!(!E||Q(E)||"object"!=typeof E.readable||"object"!=typeof E.writable)}function pe(E){if(!Q(E))return null;const ce=E._writableState||E._readableState;return!!(E.destroyed||E[M]||null!=ce&&ce.destroyed)}function he(E){if(!ee(E))return null;if(!0===E.writableEnded)return!0;const q=E._writableState;return(null==q||!q.errored)&&("boolean"!=typeof q?.ended?null:q.ended)}function Me(E,q){if(!P(E))return null;const X=E._readableState;return(null==X||!X.errored)&&("boolean"!=typeof X?.endEmitted?null:!!(X.endEmitted||!1===q&&!0===X.ended&&0===X.length))}function Oe(E){return E&&null!=E[R]?E[R]:"boolean"!=typeof E?.readable?null:!pe(E)&&P(E)&&E.readable&&!Me(E)}function je(E){return"boolean"!=typeof E?.writable?null:!pe(E)&&ee(E)&&E.writable&&!he(E)}function _(E){return"boolean"==typeof E._closed&&"boolean"==typeof E._defaultKeepAlive&&"boolean"==typeof E._removedConnection&&"boolean"==typeof E._removedContLen}function D(E){return"boolean"==typeof E._sent100&&_(E)}Ye.exports={kDestroyed:M,isDisturbed:function T(E){var q;return!(!E||!(null!==(q=E[U])&&void 0!==q?q:E.readableDidRead||E.readableAborted))},kIsDisturbed:U,isErrored:function c(E){var q,X,ce,me,Te,Ke,Qe,ke,Ie,Xe;return!(!E||!(null!==(q=null!==(X=null!==(ce=null!==(me=null!==(Te=null!==(Ke=E[j])&&void 0!==Ke?Ke:E.readableErrored)&&void 0!==Te?Te:E.writableErrored)&&void 0!==me?me:null===(Qe=E._readableState)||void 0===Qe?void 0:Qe.errorEmitted)&&void 0!==ce?ce:null===(ke=E._writableState)||void 0===ke?void 0:ke.errorEmitted)&&void 0!==X?X:null===(Ie=E._readableState)||void 0===Ie?void 0:Ie.errored)&&void 0!==q?q:null!==(Xe=E._writableState)&&void 0!==Xe&&Xe.errored))},kIsErrored:j,isReadable:Oe,kIsReadable:R,kIsClosedPromise:H,kControllerErrorFunction:V,isClosed:function w(E){if(!Q(E))return null;if("boolean"==typeof E.closed)return E.closed;const q=E._writableState,X=E._readableState;return"boolean"==typeof q?.closed||"boolean"==typeof X?.closed?q?.closed||X?.closed:"boolean"==typeof E._closed&&_(E)?E._closed:null},isDestroyed:pe,isDuplexNodeStream:function W(E){return!(!E||"function"!=typeof E.pipe||!E._readableState||"function"!=typeof E.on||"function"!=typeof E.write)},isFinished:function B(E,q){return Q(E)?!!pe(E)||!(!1!==q?.readable&&Oe(E)||!1!==q?.writable&&je(E)):null},isIterable:function ue(E,q){return null!=E&&(!0===q?"function"==typeof E[x]:!1===q?"function"==typeof E[N]:"function"==typeof E[x]||"function"==typeof E[N])},isReadableNodeStream:P,isReadableStream:de,isReadableEnded:function ge(E){if(!P(E))return null;if(!0===E.readableEnded)return!0;const q=E._readableState;return!(!q||q.errored)&&("boolean"!=typeof q?.ended?null:q.ended)},isReadableFinished:Me,isReadableErrored:function f(E){var q,X;return Q(E)?E.readableErrored?E.readableErrored:null!==(q=null===(X=E._readableState)||void 0===X?void 0:X.errored)&&void 0!==q?q:null:null},isNodeStream:Q,isWebStream:function te(E){return de(E)||ae(E)||re(E)},isWritable:je,isWritableNodeStream:ee,isWritableStream:ae,isWritableEnded:he,isWritableFinished:function ve(E,q){if(!ee(E))return null;if(!0===E.writableFinished)return!0;const X=E._writableState;return(null==X||!X.errored)&&("boolean"!=typeof X?.finished?null:!!(X.finished||!1===q&&!0===X.ended&&0===X.length))},isWritableErrored:function l(E){var q,X;return Q(E)?E.writableErrored?E.writableErrored:null!==(q=null===(X=E._writableState)||void 0===X?void 0:X.errored)&&void 0!==q?q:null:null},isServerRequest:function O(E){var q;return"boolean"==typeof E._consuming&&"boolean"==typeof E._dumped&&void 0===(null===(q=E.req)||void 0===q?void 0:q.upgradeOrConnect)},isServerResponse:D,willEmitClose:function $(E){if(!Q(E))return null;const ce=E._writableState||E._readableState;return!ce&&D(E)||!!(ce&&ce.autoDestroy&&ce.emitClose&&!1===ce.closed)},isTransformStream:re}},39070:(Ye,J,A)=>{const h=A(40573),{ArrayPrototypeSlice:x,Error:N,FunctionPrototypeSymbolHasInstance:Y,ObjectDefineProperty:M,ObjectDefineProperties:j,ObjectSetPrototypeOf:R,StringPrototypeToLowerCase:U,Symbol:H,SymbolHasInstance:V}=A(2220);Ye.exports=D,D.WritableState=w;const{EventEmitter:P}=A(44356),ee=A(90845).Stream,{Buffer:W}=A(37945),Q=A(23370),{addAbortSignal:de}=A(55397),{getHighWaterMark:ae,getDefaultHighWaterMark:re}=A(43909),{ERR_INVALID_ARG_TYPE:te,ERR_METHOD_NOT_IMPLEMENTED:ue,ERR_MULTIPLE_CALLBACK:pe,ERR_STREAM_CANNOT_PIPE:he,ERR_STREAM_DESTROYED:ve,ERR_STREAM_ALREADY_FINISHED:ge,ERR_STREAM_NULL_VALUES:Me,ERR_STREAM_WRITE_AFTER_END:Oe,ERR_UNKNOWN_ENCODING:je}=A(85833).codes,{errorOrDestroy:B}=Q;function l(){}R(D.prototype,ee.prototype),R(D,ee);const f=H("kOnFinished");function w(Ee,be,oe){"boolean"!=typeof oe&&(oe=be instanceof A(85892)),this.objectMode=!(!Ee||!Ee.objectMode),oe&&(this.objectMode=this.objectMode||!(!Ee||!Ee.writableObjectMode)),this.highWaterMark=Ee?ae(this,Ee,"writableHighWaterMark",oe):re(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(Ee&&!1===Ee.decodeStrings),this.defaultEncoding=Ee&&Ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=E.bind(void 0,be),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,_(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!Ee||!1!==Ee.emitClose,this.autoDestroy=!Ee||!1!==Ee.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[f]=[]}function _(Ee){Ee.buffered=[],Ee.bufferedIndex=0,Ee.allBuffers=!0,Ee.allNoop=!0}function D(Ee){const be=this instanceof A(85892);if(!be&&!Y(D,this))return new D(Ee);this._writableState=new w(Ee,this,be),Ee&&("function"==typeof Ee.write&&(this._write=Ee.write),"function"==typeof Ee.writev&&(this._writev=Ee.writev),"function"==typeof Ee.destroy&&(this._destroy=Ee.destroy),"function"==typeof Ee.final&&(this._final=Ee.final),"function"==typeof Ee.construct&&(this._construct=Ee.construct),Ee.signal&&de(Ee.signal,this)),ee.call(this,Ee),Q.construct(this,()=>{const oe=this._writableState;oe.writing||me(this,oe),ke(this,oe)})}function O(Ee,be,oe,fe){const we=Ee._writableState;if("function"==typeof oe)fe=oe,oe=we.defaultEncoding;else{if(oe){if("buffer"!==oe&&!W.isEncoding(oe))throw new je(oe)}else oe=we.defaultEncoding;"function"!=typeof fe&&(fe=l)}if(null===be)throw new Me;if(!we.objectMode)if("string"==typeof be)!1!==we.decodeStrings&&(be=W.from(be,oe),oe="buffer");else if(be instanceof W)oe="buffer";else{if(!ee._isUint8Array(be))throw new te("chunk",["string","Buffer","Uint8Array"],be);be=ee._uint8ArrayToBuffer(be),oe="buffer"}let De;return we.ending?De=new Oe:we.destroyed&&(De=new ve("write")),De?(h.nextTick(fe,De),B(Ee,De,!0),De):(we.pendingcb++,function $(Ee,be,oe,fe,we){const De=be.objectMode?1:oe.length;be.length+=De;const $e=be.length<be.highWaterMark;return $e||(be.needDrain=!0),be.writing||be.corked||be.errored||!be.constructed?(be.buffered.push({chunk:oe,encoding:fe,callback:we}),be.allBuffers&&"buffer"!==fe&&(be.allBuffers=!1),be.allNoop&&we!==l&&(be.allNoop=!1)):(be.writelen=De,be.writecb=we,be.writing=!0,be.sync=!0,Ee._write(oe,fe,be.onwrite),be.sync=!1),$e&&!be.errored&&!be.destroyed}(Ee,we,be,oe,fe))}function T(Ee,be,oe,fe,we,De,$e){be.writelen=fe,be.writecb=$e,be.writing=!0,be.sync=!0,be.destroyed?be.onwrite(new ve("write")):oe?Ee._writev(we,be.onwrite):Ee._write(we,De,be.onwrite),be.sync=!1}function c(Ee,be,oe,fe){--be.pendingcb,fe(oe),ce(be),B(Ee,oe)}function E(Ee,be){const oe=Ee._writableState,fe=oe.sync,we=oe.writecb;"function"==typeof we?(oe.writing=!1,oe.writecb=null,oe.length-=oe.writelen,oe.writelen=0,be?(oe.errored||(oe.errored=be),Ee._readableState&&!Ee._readableState.errored&&(Ee._readableState.errored=be),fe?h.nextTick(c,Ee,oe,be,we):c(Ee,oe,be,we)):(oe.buffered.length>oe.bufferedIndex&&me(Ee,oe),fe?null!==oe.afterWriteTickInfo&&oe.afterWriteTickInfo.cb===we?oe.afterWriteTickInfo.count++:(oe.afterWriteTickInfo={count:1,cb:we,stream:Ee,state:oe},h.nextTick(q,oe.afterWriteTickInfo)):X(Ee,oe,1,we))):B(Ee,new pe)}function q({stream:Ee,state:be,count:oe,cb:fe}){return be.afterWriteTickInfo=null,X(Ee,be,oe,fe)}function X(Ee,be,oe,fe){for(!be.ending&&!Ee.destroyed&&0===be.length&&be.needDrain&&(be.needDrain=!1,Ee.emit("drain"));oe-- >0;)be.pendingcb--,fe();be.destroyed&&ce(be),ke(Ee,be)}function ce(Ee){if(Ee.writing)return;for(let we=Ee.bufferedIndex;we<Ee.buffered.length;++we){var be;const{chunk:De,callback:$e}=Ee.buffered[we];Ee.length-=Ee.objectMode?1:De.length,$e(null!==(be=Ee.errored)&&void 0!==be?be:new ve("write"))}const oe=Ee[f].splice(0);for(let we=0;we<oe.length;we++){var fe;oe[we](null!==(fe=Ee.errored)&&void 0!==fe?fe:new ve("end"))}_(Ee)}function me(Ee,be){if(be.corked||be.bufferProcessing||be.destroyed||!be.constructed)return;const{buffered:oe,bufferedIndex:fe,objectMode:we}=be,De=oe.length-fe;if(!De)return;let $e=fe;if(be.bufferProcessing=!0,De>1&&Ee._writev){be.pendingcb-=De-1;const Je=be.allNoop?l:Pt=>{for(let nt=$e;nt<oe.length;++nt)oe[nt].callback(Pt)},Ze=be.allNoop&&0===$e?oe:x(oe,$e);Ze.allBuffers=be.allBuffers,T(Ee,be,!0,be.length,Ze,"",Je),_(be)}else{do{const{chunk:Je,encoding:Ze,callback:Pt}=oe[$e];oe[$e++]=null,T(Ee,be,!1,we?1:Je.length,Je,Ze,Pt)}while($e<oe.length&&!be.writing);$e===oe.length?_(be):$e>256?(oe.splice(0,$e),be.bufferedIndex=0):be.bufferedIndex=$e}be.bufferProcessing=!1}function Te(Ee){return Ee.ending&&!Ee.destroyed&&Ee.constructed&&0===Ee.length&&!Ee.errored&&0===Ee.buffered.length&&!Ee.finished&&!Ee.writing&&!Ee.errorEmitted&&!Ee.closeEmitted}function ke(Ee,be,oe){Te(be)&&(function Qe(Ee,be){!be.prefinished&&!be.finalCalled&&("function"!=typeof Ee._final||be.destroyed?(be.prefinished=!0,Ee.emit("prefinish")):(be.finalCalled=!0,function Ke(Ee,be){let oe=!1;function fe(we){if(oe)B(Ee,we??pe());else if(oe=!0,be.pendingcb--,we){const De=be[f].splice(0);for(let $e=0;$e<De.length;$e++)De[$e](we);B(Ee,we,be.sync)}else Te(be)&&(be.prefinished=!0,Ee.emit("prefinish"),be.pendingcb++,h.nextTick(Ie,Ee,be))}be.sync=!0,be.pendingcb++;try{Ee._final(fe)}catch(we){fe(we)}be.sync=!1}(Ee,be)))}(Ee,be),0===be.pendingcb&&(oe?(be.pendingcb++,h.nextTick((fe,we)=>{Te(we)?Ie(fe,we):we.pendingcb--},Ee,be)):Te(be)&&(be.pendingcb++,Ie(Ee,be))))}function Ie(Ee,be){be.pendingcb--,be.finished=!0;const oe=be[f].splice(0);for(let fe=0;fe<oe.length;fe++)oe[fe]();if(Ee.emit("finish"),be.autoDestroy){const fe=Ee._readableState;(!fe||fe.autoDestroy&&(fe.endEmitted||!1===fe.readable))&&Ee.destroy()}}w.prototype.getBuffer=function(){return x(this.buffered,this.bufferedIndex)},M(w.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),M(D,V,{__proto__:null,value:function(Ee){return!!Y(this,Ee)||this===D&&Ee&&Ee._writableState instanceof w}}),D.prototype.pipe=function(){B(this,new he)},D.prototype.write=function(Ee,be,oe){return!0===O(this,Ee,be,oe)},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){const Ee=this._writableState;Ee.corked&&(Ee.corked--,Ee.writing||me(this,Ee))},D.prototype.setDefaultEncoding=function(be){if("string"==typeof be&&(be=U(be)),!W.isEncoding(be))throw new je(be);return this._writableState.defaultEncoding=be,this},D.prototype._write=function(Ee,be,oe){if(!this._writev)throw new ue("_write()");this._writev([{chunk:Ee,encoding:be}],oe)},D.prototype._writev=null,D.prototype.end=function(Ee,be,oe){const fe=this._writableState;let we;if("function"==typeof Ee?(oe=Ee,Ee=null,be=null):"function"==typeof be&&(oe=be,be=null),null!=Ee){const De=O(this,Ee,be);De instanceof N&&(we=De)}return fe.corked&&(fe.corked=1,this.uncork()),we||(fe.errored||fe.ending?fe.finished?we=new ge("end"):fe.destroyed&&(we=new ve("end")):(fe.ending=!0,ke(this,fe,!0),fe.ended=!0)),"function"==typeof oe&&(we||fe.finished?h.nextTick(oe,we):fe[f].push(oe)),this},j(D.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(Ee){this._writableState&&(this._writableState.destroyed=Ee)}},writable:{__proto__:null,get(){const Ee=this._writableState;return!(!Ee||!1===Ee.writable||Ee.destroyed||Ee.errored||Ee.ending||Ee.ended)},set(Ee){this._writableState&&(this._writableState.writable=!!Ee)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const Ee=this._writableState;return!!Ee&&!Ee.destroyed&&!Ee.ending&&Ee.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Xe=Q.destroy;let Se;function Le(){return void 0===Se&&(Se={}),Se}D.prototype.destroy=function(Ee,be){const oe=this._writableState;return!oe.destroyed&&(oe.bufferedIndex<oe.buffered.length||oe[f].length)&&h.nextTick(ce,oe),Xe.call(this,Ee,be),this},D.prototype._undestroy=Q.undestroy,D.prototype._destroy=function(Ee,be){be(Ee)},D.prototype[P.captureRejectionSymbol]=function(Ee){this.destroy(Ee)},D.fromWeb=function(Ee,be){return Le().newStreamWritableFromWritableStream(Ee,be)},D.toWeb=function(Ee){return Le().newWritableStreamFromStreamWritable(Ee)}},48119:(Ye,J,A)=>{"use strict";const{ArrayIsArray:h,ArrayPrototypeIncludes:x,ArrayPrototypeJoin:N,ArrayPrototypeMap:Y,NumberIsInteger:M,NumberIsNaN:j,NumberMAX_SAFE_INTEGER:R,NumberMIN_SAFE_INTEGER:U,NumberParseInt:H,ObjectPrototypeHasOwnProperty:V,RegExpPrototypeExec:P,String:ee,StringPrototypeToUpperCase:W,StringPrototypeTrim:Q}=A(2220),{hideStackFrames:de,codes:{ERR_SOCKET_BAD_PORT:ae,ERR_INVALID_ARG_TYPE:re,ERR_INVALID_ARG_VALUE:te,ERR_OUT_OF_RANGE:ue,ERR_UNKNOWN_SIGNAL:pe}}=A(85833),{normalizeEncoding:he}=A(82578),{isAsyncFunction:ve,isArrayBufferView:ge}=A(82578).types,Me={},B=/^[0-7]+$/,w=de((De,$e,Je=U,Ze=R)=>{if("number"!=typeof De)throw new re($e,"number",De);if(!M(De))throw new ue($e,"an integer",De);if(De<Je||De>Ze)throw new ue($e,`>= ${Je} && <= ${Ze}`,De)}),_=de((De,$e,Je=-2147483648,Ze=2147483647)=>{if("number"!=typeof De)throw new re($e,"number",De);if(!M(De))throw new ue($e,"an integer",De);if(De<Je||De>Ze)throw new ue($e,`>= ${Je} && <= ${Ze}`,De)}),D=de((De,$e,Je=!1)=>{if("number"!=typeof De)throw new re($e,"number",De);if(!M(De))throw new ue($e,"an integer",De);const Ze=Je?1:0,Pt=4294967295;if(De<Ze||De>Pt)throw new ue($e,`>= ${Ze} && <= ${Pt}`,De)});function O(De,$e){if("string"!=typeof De)throw new re($e,"string",De)}const T=de((De,$e,Je)=>{if(!x(Je,De)){const Pt="must be one of: "+N(Y(Je,nt=>"string"==typeof nt?`'${nt}'`:ee(nt)),", ");throw new te($e,De,Pt)}});function c(De,$e){if("boolean"!=typeof De)throw new re($e,"boolean",De)}function E(De,$e,Je){return null!=De&&V(De,$e)?De[$e]:Je}const q=de((De,$e,Je=null)=>{const Ze=E(Je,"allowArray",!1),Pt=E(Je,"allowFunction",!1);if(!E(Je,"nullable",!1)&&null===De||!Ze&&h(De)||"object"!=typeof De&&(!Pt||"function"!=typeof De))throw new re($e,"Object",De)}),X=de((De,$e)=>{if(null!=De&&"object"!=typeof De&&"function"!=typeof De)throw new re($e,"a dictionary",De)}),ce=de((De,$e,Je=0)=>{if(!h(De))throw new re($e,"Array",De);if(De.length<Je)throw new te($e,De,`must be longer than ${Je}`)}),Qe=de((De,$e="buffer")=>{if(!ge(De))throw new re($e,["Buffer","TypedArray","DataView"],De)}),Xe=de((De,$e)=>{if(void 0!==De&&(null===De||"object"!=typeof De||!("aborted"in De)))throw new re($e,"AbortSignal",De)}),Se=de((De,$e)=>{if("function"!=typeof De)throw new re($e,"Function",De)}),Le=de((De,$e)=>{if("function"!=typeof De||ve(De))throw new re($e,"Function",De)}),Ee=de((De,$e)=>{if(void 0!==De)throw new re($e,"undefined",De)}),oe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function fe(De,$e){if(typeof De>"u"||!P(oe,De))throw new te($e,De,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Ye.exports={isInt32:function Oe(De){return De===(0|De)},isUint32:function je(De){return De===De>>>0},parseFileMode:function f(De,$e,Je){if(typeof De>"u"&&(De=Je),"string"==typeof De){if(null===P(B,De))throw new te($e,De,"must be a 32-bit unsigned integer or an octal string");De=H(De,8)}return D(De,$e),De},validateArray:ce,validateStringArray:function me(De,$e){ce(De,$e);for(let Je=0;Je<De.length;Je++)O(De[Je],`${$e}[${Je}]`)},validateBooleanArray:function Te(De,$e){ce(De,$e);for(let Je=0;Je<De.length;Je++)c(De[Je],`${$e}[${Je}]`)},validateBoolean:c,validateBuffer:Qe,validateDictionary:X,validateEncoding:function ke(De,$e){const Je=he($e),Ze=De.length;if("hex"===Je&&Ze%2!=0)throw new te("encoding",$e,`is invalid for data of length ${Ze}`)},validateFunction:Se,validateInt32:_,validateInteger:w,validateNumber:function $(De,$e,Je=void 0,Ze){if("number"!=typeof De)throw new re($e,"number",De);if(null!=Je&&De<Je||null!=Ze&&De>Ze||(null!=Je||null!=Ze)&&j(De))throw new ue($e,`${null!=Je?`>= ${Je}`:""}${null!=Je&&null!=Ze?" && ":""}${null!=Ze?`<= ${Ze}`:""}`,De)},validateObject:q,validateOneOf:T,validatePlainFunction:Le,validatePort:function Ie(De,$e="Port",Je=!0){if("number"!=typeof De&&"string"!=typeof De||"string"==typeof De&&0===Q(De).length||+De!=+De>>>0||De>65535||0===De&&!Je)throw new ae($e,De,Je);return 0|De},validateSignalName:function Ke(De,$e="signal"){if(O(De,$e),void 0===Me[De])throw void 0!==Me[W(De)]?new pe(De+" (signals must use all capital letters)"):new pe(De)},validateString:O,validateUint32:D,validateUndefined:Ee,validateUnion:function be(De,$e,Je){if(!x(Je,De))throw new re($e,`('${N(Je,"|")}')`,De)},validateAbortSignal:Xe,validateLinkHeaderValue:function we(De){if("string"==typeof De)return fe(De,"hints"),De;if(h(De)){const $e=De.length;let Je="";if(0===$e)return Je;for(let Ze=0;Ze<$e;Ze++){const Pt=De[Ze];fe(Pt,"hints"),Je+=Pt,Ze!==$e-1&&(Je+=", ")}return Je}throw new te("hints",De,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},80868:(Ye,J,A)=>{"use strict";const h=A(59800),x=A(4581),N=h.Readable.destroy;Ye.exports=h.Readable,Ye.exports._uint8ArrayToBuffer=h._uint8ArrayToBuffer,Ye.exports._isUint8Array=h._isUint8Array,Ye.exports.isDisturbed=h.isDisturbed,Ye.exports.isErrored=h.isErrored,Ye.exports.isReadable=h.isReadable,Ye.exports.Readable=h.Readable,Ye.exports.Writable=h.Writable,Ye.exports.Duplex=h.Duplex,Ye.exports.Transform=h.Transform,Ye.exports.PassThrough=h.PassThrough,Ye.exports.addAbortSignal=h.addAbortSignal,Ye.exports.finished=h.finished,Ye.exports.destroy=h.destroy,Ye.exports.destroy=N,Ye.exports.pipeline=h.pipeline,Ye.exports.compose=h.compose,Object.defineProperty(h,"promises",{configurable:!0,enumerable:!0,get:()=>x}),Ye.exports.Stream=h.Stream,Ye.exports.default=Ye.exports},85833:(Ye,J,A)=>{"use strict";const{format:h,inspect:x,AggregateError:N}=A(82578),Y=globalThis.AggregateError||N,M=Symbol("kIsNodeError"),j=["string","function","number","object","Function","Object","boolean","bigint","symbol"],R=/^([A-Z][a-z0-9]*)+$/,H={};function V(re,te){if(!re)throw new H.ERR_INTERNAL_ASSERTION(te)}function P(re){let te="",ue=re.length;const pe="-"===re[0]?1:0;for(;ue>=pe+4;ue-=3)te=`_${re.slice(ue-3,ue)}${te}`;return`${re.slice(0,ue)}${te}`}function W(re,te,ue){ue||(ue=Error);class pe extends ue{constructor(...ve){super(function ee(re,te,ue){if("function"==typeof te)return V(te.length<=ue.length,`Code: ${re}; The provided arguments length (${ue.length}) does not match the required ones (${te.length}).`),te(...ue);const pe=(te.match(/%[dfijoOs]/g)||[]).length;return V(pe===ue.length,`Code: ${re}; The provided arguments length (${ue.length}) does not match the required ones (${pe}).`),0===ue.length?te:h(te,...ue)}(re,te,ve))}toString(){return`${this.name} [${re}]: ${this.message}`}}Object.defineProperties(pe.prototype,{name:{value:ue.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${re}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),pe.prototype.code=re,pe.prototype[M]=!0,H[re]=pe}function Q(re){return Object.defineProperty(re,"name",{value:"__node_internal_"+re.name}),re}class ae extends Error{constructor(te="The operation was aborted",ue=void 0){if(void 0!==ue&&"object"!=typeof ue)throw new H.ERR_INVALID_ARG_TYPE("options","Object",ue);super(te,ue),this.code="ABORT_ERR",this.name="AbortError"}}W("ERR_ASSERTION","%s",Error),W("ERR_INVALID_ARG_TYPE",(re,te,ue)=>{V("string"==typeof re,"'name' must be a string"),Array.isArray(te)||(te=[te]);let pe="The ";re.endsWith(" argument")?pe+=`${re} `:pe+=`"${re}" ${re.includes(".")?"property":"argument"} `,pe+="must be ";const he=[],ve=[],ge=[];for(const Oe of te)V("string"==typeof Oe,"All expected entries have to be of type string"),j.includes(Oe)?he.push(Oe.toLowerCase()):R.test(Oe)?ve.push(Oe):(V("object"!==Oe,'The value "object" should be written as "Object"'),ge.push(Oe));if(ve.length>0){const Oe=he.indexOf("object");-1!==Oe&&(he.splice(he,Oe,1),ve.push("Object"))}if(he.length>0){switch(he.length){case 1:pe+=`of type ${he[0]}`;break;case 2:pe+=`one of type ${he[0]} or ${he[1]}`;break;default:{const Oe=he.pop();pe+=`one of type ${he.join(", ")}, or ${Oe}`}}(ve.length>0||ge.length>0)&&(pe+=" or ")}if(ve.length>0){switch(ve.length){case 1:pe+=`an instance of ${ve[0]}`;break;case 2:pe+=`an instance of ${ve[0]} or ${ve[1]}`;break;default:{const Oe=ve.pop();pe+=`an instance of ${ve.join(", ")}, or ${Oe}`}}ge.length>0&&(pe+=" or ")}switch(ge.length){case 0:break;case 1:ge[0].toLowerCase()!==ge[0]&&(pe+="an "),pe+=`${ge[0]}`;break;case 2:pe+=`one of ${ge[0]} or ${ge[1]}`;break;default:{const Oe=ge.pop();pe+=`one of ${ge.join(", ")}, or ${Oe}`}}if(null==ue)pe+=`. Received ${ue}`;else if("function"==typeof ue&&ue.name)pe+=`. Received function ${ue.name}`;else if("object"==typeof ue){var Me;null!==(Me=ue.constructor)&&void 0!==Me&&Me.name?pe+=`. Received an instance of ${ue.constructor.name}`:pe+=`. Received ${x(ue,{depth:-1})}`}else{let Oe=x(ue,{colors:!1});Oe.length>25&&(Oe=`${Oe.slice(0,25)}...`),pe+=`. Received type ${typeof ue} (${Oe})`}return pe},TypeError),W("ERR_INVALID_ARG_VALUE",(re,te,ue="is invalid")=>{let pe=x(te);return pe.length>128&&(pe=pe.slice(0,128)+"..."),`The ${re.includes(".")?"property":"argument"} '${re}' ${ue}. Received ${pe}`},TypeError),W("ERR_INVALID_RETURN_VALUE",(re,te,ue)=>{var pe;return`Expected ${re} to be returned from the "${te}" function but got ${null!=ue&&null!==(pe=ue.constructor)&&void 0!==pe&&pe.name?`instance of ${ue.constructor.name}`:"type "+typeof ue}.`},TypeError),W("ERR_MISSING_ARGS",(...re)=>{let te;V(re.length>0,"At least one arg needs to be specified");const ue=re.length;switch(re=(Array.isArray(re)?re:[re]).map(pe=>`"${pe}"`).join(" or "),ue){case 1:te+=`The ${re[0]} argument`;break;case 2:te+=`The ${re[0]} and ${re[1]} arguments`;break;default:{const pe=re.pop();te+=`The ${re.join(", ")}, and ${pe} arguments`}}return`${te} must be specified`},TypeError),W("ERR_OUT_OF_RANGE",(re,te,ue)=>{let pe;return V(te,'Missing "range" argument'),Number.isInteger(ue)&&Math.abs(ue)>2**32?pe=P(String(ue)):"bigint"==typeof ue?(pe=String(ue),(ue>2n**32n||ue<-(2n**32n))&&(pe=P(pe)),pe+="n"):pe=x(ue),`The value of "${re}" is out of range. It must be ${te}. Received ${pe}`},RangeError),W("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),W("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),W("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),W("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),W("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),W("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),W("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),W("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),W("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),W("ERR_STREAM_WRITE_AFTER_END","write after end",Error),W("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Ye.exports={AbortError:ae,aggregateTwoErrors:Q(function de(re,te){if(re&&te&&re!==te){if(Array.isArray(te.errors))return te.errors.push(re),te;const ue=new Y([te,re],te.message);return ue.code=te.code,ue}return re||te}),hideStackFrames:Q,codes:H}},2220:Ye=>{"use strict";Ye.exports={ArrayIsArray:J=>Array.isArray(J),ArrayPrototypeIncludes:(J,A)=>J.includes(A),ArrayPrototypeIndexOf:(J,A)=>J.indexOf(A),ArrayPrototypeJoin:(J,A)=>J.join(A),ArrayPrototypeMap:(J,A)=>J.map(A),ArrayPrototypePop:(J,A)=>J.pop(A),ArrayPrototypePush:(J,A)=>J.push(A),ArrayPrototypeSlice:(J,A,h)=>J.slice(A,h),Error,FunctionPrototypeCall:(J,A,...h)=>J.call(A,...h),FunctionPrototypeSymbolHasInstance:(J,A)=>Function.prototype[Symbol.hasInstance].call(J,A),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(J,A)=>Object.defineProperties(J,A),ObjectDefineProperty:(J,A,h)=>Object.defineProperty(J,A,h),ObjectGetOwnPropertyDescriptor:(J,A)=>Object.getOwnPropertyDescriptor(J,A),ObjectKeys:J=>Object.keys(J),ObjectSetPrototypeOf:(J,A)=>Object.setPrototypeOf(J,A),Promise,PromisePrototypeCatch:(J,A)=>J.catch(A),PromisePrototypeThen:(J,A,h)=>J.then(A,h),PromiseReject:J=>Promise.reject(J),ReflectApply:Reflect.apply,RegExpPrototypeTest:(J,A)=>J.test(A),SafeSet:Set,String,StringPrototypeSlice:(J,A,h)=>J.slice(A,h),StringPrototypeToLowerCase:J=>J.toLowerCase(),StringPrototypeToUpperCase:J=>J.toUpperCase(),StringPrototypeTrim:J=>J.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(J,A,h)=>J.set(A,h),Uint8Array}},82578:(Ye,J,A)=>{"use strict";var h=A(29293).default;const x=A(37945),N=Object.getPrototypeOf(h(function*(){})).constructor,Y=globalThis.Blob||x.Blob,M=typeof Y<"u"?function(U){return U instanceof Y}:function(U){return!1};class j extends Error{constructor(U){if(!Array.isArray(U))throw new TypeError("Expected input to be an Array, got "+typeof U);let H="";for(let V=0;V<U.length;V++)H+=`    ${U[V].stack}\n`;super(H),this.name="AggregateError",this.errors=U}}Ye.exports={AggregateError:j,kEmptyObject:Object.freeze({}),once(R){let U=!1;return function(...H){U||(U=!0,R.apply(this,H))}},createDeferredPromise:function(){let R,U;return{promise:new Promise((V,P)=>{R=V,U=P}),resolve:R,reject:U}},promisify:R=>new Promise((U,H)=>{R((V,...P)=>V?H(V):U(...P))}),debuglog:()=>function(){},format:(R,...U)=>R.replace(/%([sdifj])/g,function(...[H,V]){const P=U.shift();return"f"===V?P.toFixed(6):"j"===V?JSON.stringify(P):"s"===V&&"object"==typeof P?`${P.constructor!==Object?P.constructor.name:""} {}`.trim():P.toString()}),inspect(R){switch(typeof R){case"string":if(R.includes("'")){if(!R.includes('"'))return`"${R}"`;if(!R.includes("`")&&!R.includes("${"))return`\`${R}\``}return`'${R}'`;case"number":return isNaN(R)?"NaN":Object.is(R,-0)?String(R):R;case"bigint":return`${String(R)}n`;case"boolean":case"undefined":return String(R);case"object":return"{}"}},types:{isAsyncFunction:R=>R instanceof N,isArrayBufferView:R=>ArrayBuffer.isView(R)},isBlob:M},Ye.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},59800:(Ye,J,A)=>{const{Buffer:h}=A(37945),{ObjectDefineProperty:x,ObjectKeys:N,ReflectApply:Y}=A(2220),{promisify:{custom:M}}=A(82578),{streamReturningOperators:j,promiseReturningOperators:R}=A(54705),{codes:{ERR_ILLEGAL_CONSTRUCTOR:U}}=A(85833),H=A(90972),{pipeline:V}=A(63596),{destroyer:P}=A(23370),ee=A(68208),Q=A(4581),de=A(76989),ae=Ye.exports=A(90845).Stream;ae.isDisturbed=de.isDisturbed,ae.isErrored=de.isErrored,ae.isReadable=de.isReadable,ae.Readable=A(84730);for(const ue of N(j)){let he=function(...ve){if(new.target)throw U();return ae.Readable.from(Y(pe,this,ve))};const pe=j[ue];x(he,"name",{__proto__:null,value:pe.name}),x(he,"length",{__proto__:null,value:pe.length}),x(ae.Readable.prototype,ue,{__proto__:null,value:he,enumerable:!1,configurable:!0,writable:!0})}for(const ue of N(R)){let he=function(...ge){if(new.target)throw U();return Y(pe,this,ge)};const pe=R[ue];x(he,"name",{__proto__:null,value:pe.name}),x(he,"length",{__proto__:null,value:pe.length}),x(ae.Readable.prototype,ue,{__proto__:null,value:he,enumerable:!1,configurable:!0,writable:!0})}ae.Writable=A(39070),ae.Duplex=A(85892),ae.Transform=A(33732),ae.PassThrough=A(5358),ae.pipeline=V;const{addAbortSignal:re}=A(55397);ae.addAbortSignal=re,ae.finished=ee,ae.destroy=P,ae.compose=H,x(ae,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>Q}),x(V,M,{__proto__:null,enumerable:!0,get:()=>Q.pipeline}),x(ee,M,{__proto__:null,enumerable:!0,get:()=>Q.finished}),ae.Stream=ae,ae._isUint8Array=function(pe){return pe instanceof Uint8Array},ae._uint8ArrayToBuffer=function(pe){return h.from(pe.buffer,pe.byteOffset,pe.byteLength)}},4581:(Ye,J,A)=>{"use strict";const{ArrayPrototypePop:h,Promise:x}=A(2220),{isIterable:N,isNodeStream:Y,isWebStream:M}=A(76989),{pipelineImpl:j}=A(63596),{finished:R}=A(68208);A(59800),Ye.exports={finished:R,pipeline:function U(...H){return new x((V,P)=>{let ee,W;const Q=H[H.length-1];if(Q&&"object"==typeof Q&&!Y(Q)&&!N(Q)&&!M(Q)){const de=h(H);ee=de.signal,W=de.end}j(H,(de,ae)=>{de?P(de):V(ae)},{signal:ee,end:W})})}}},67449:(Ye,J,A)=>{J.Level=A(23963).BrowserLevel},97829:Ye=>{var J=1e3,A=60*J,h=60*A,x=24*h,N=7*x;function U(H,V,P,ee){var W=V>=1.5*P;return Math.round(H/P)+" "+ee+(W?"s":"")}Ye.exports=function(H,V){V=V||{};var P=typeof H;if("string"===P&&H.length>0)return function M(H){if(!((H=String(H)).length>100)){var V=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(H);if(V){var P=parseFloat(V[1]);switch((V[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*P;case"weeks":case"week":case"w":return P*N;case"days":case"day":case"d":return P*x;case"hours":case"hour":case"hrs":case"hr":case"h":return P*h;case"minutes":case"minute":case"mins":case"min":case"m":return P*A;case"seconds":case"second":case"secs":case"sec":case"s":return P*J;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return P;default:return}}}}(H);if("number"===P&&isFinite(H))return V.long?function R(H){var V=Math.abs(H);return V>=x?U(H,V,x,"day"):V>=h?U(H,V,h,"hour"):V>=A?U(H,V,A,"minute"):V>=J?U(H,V,J,"second"):H+" ms"}(H):function j(H){var V=Math.abs(H);return V>=x?Math.round(H/x)+"d":V>=h?Math.round(H/h)+"h":V>=A?Math.round(H/A)+"m":V>=J?Math.round(H/J)+"s":H+"ms"}(H);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(H))}},9465:Ye=>{"use strict";const{AbortController:J,AbortSignal:A}=typeof self<"u"?self:typeof window<"u"?window:void 0;Ye.exports=J,Ye.exports.AbortSignal=A,Ye.exports.default=J},91463:(Ye,J,A)=>{"use strict";const{fromCallback:h}=A(42381),x=A(61747),{getCallback:N,getOptions:Y}=A(32856),M=Symbol("promise"),j=Symbol("status"),R=Symbol("operations"),U=Symbol("finishClose"),H=Symbol("closeCallbacks");J.AbstractChainedBatch=class V{constructor(ee){if("object"!=typeof ee||null===ee)throw new TypeError("The first argument must be an abstract-level database, received "+(null===ee?"null":typeof ee));this[R]=[],this[H]=[],this[j]="open",this[U]=this[U].bind(this),this.db=ee,this.db.attachResource(this),this.nextTick=ee.nextTick}get length(){return this[R].length}put(ee,W,Q){if("open"!==this[j])throw new x("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const de=this.db._checkKey(ee)||this.db._checkValue(W);if(de)throw de;const ae=Q&&null!=Q.sublevel?Q.sublevel:this.db,re=Q,te=ae.keyEncoding(Q&&Q.keyEncoding),ue=ae.valueEncoding(Q&&Q.valueEncoding),pe=te.format;Q={...Q,keyEncoding:pe,valueEncoding:ue.format},ae!==this.db&&(Q.sublevel=null);const he=ae.prefixKey(te.encode(ee),pe),ve=ue.encode(W);return this._put(he,ve,Q),this[R].push({...re,type:"put",key:ee,value:W}),this}_put(ee,W,Q){}del(ee,W){if("open"!==this[j])throw new x("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const Q=this.db._checkKey(ee);if(Q)throw Q;const de=W&&null!=W.sublevel?W.sublevel:this.db,ae=W,re=de.keyEncoding(W&&W.keyEncoding),te=re.format;return W={...W,keyEncoding:te},de!==this.db&&(W.sublevel=null),this._del(de.prefixKey(re.encode(ee),te),W),this[R].push({...ae,type:"del",key:ee}),this}_del(ee,W){}clear(){if("open"!==this[j])throw new x("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[R]=[],this}_clear(){}write(ee,W){return W=N(ee,W),W=h(W,M),ee=Y(ee),"open"!==this[j]?this.nextTick(W,new x("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):0===this.length?this.close(W):(this[j]="writing",this._write(ee,Q=>{this[j]="closing",this[H].push(()=>W(Q)),Q||this.db.emit("batch",this[R]),this._close(this[U])})),W[M]}_write(ee,W){}close(ee){return ee=h(ee,M),"closing"===this[j]?this[H].push(ee):"closed"===this[j]?this.nextTick(ee):(this[H].push(ee),"writing"!==this[j]&&(this[j]="closing",this._close(this[U]))),ee[M]}_close(ee){this.nextTick(ee)}[U](){this[j]="closed",this.db.detachResource(this);const ee=this[H];this[H]=[];for(const W of ee)W()}}},63294:(Ye,J,A)=>{"use strict";var h=A(53344).default,x=A(42958).default;const{fromCallback:N}=A(42381),Y=A(61747),{getOptions:M,getCallback:j}=A(32856),R=Symbol("promise"),U=Symbol("callback"),H=Symbol("working"),V=Symbol("handleOne"),P=Symbol("handleMany"),ee=Symbol("autoClose"),W=Symbol("finishWork"),Q=Symbol("returnMany"),de=Symbol("closing"),ae=Symbol("handleClose"),re=Symbol("closed"),te=Symbol("closeCallbacks"),ue=Symbol("keyEncoding"),pe=Symbol("valueEncoding"),he=Symbol("abortOnClose"),ve=Symbol("legacy"),ge=Symbol("keys"),Me=Symbol("values"),Oe=Symbol("limit"),je=Symbol("count"),B=Object.freeze({}),l=()=>{};let f=!1;class w{constructor(c,E,q){if("object"!=typeof c||null===c)throw new TypeError("The first argument must be an abstract-level database, received "+(null===c?"null":typeof c));if("object"!=typeof E||null===E)throw new TypeError("The second argument must be an options object");this[re]=!1,this[te]=[],this[H]=!1,this[de]=!1,this[ee]=!1,this[U]=null,this[V]=this[V].bind(this),this[P]=this[P].bind(this),this[ae]=this[ae].bind(this),this[ue]=E[ue],this[pe]=E[pe],this[ve]=q,this[Oe]=Number.isInteger(E.limit)&&E.limit>=0?E.limit:1/0,this[je]=0,this[he]=!!E.abortOnClose,this.db=c,this.db.attachResource(this),this.nextTick=c.nextTick}get count(){return this[je]}get limit(){return this[Oe]}next(c){let E;if(void 0===c)E=new Promise((q,X)=>{c=(ce,me,Te)=>{ce?X(ce):this[ve]?void 0===me&&void 0===Te?q():q([me,Te]):q(me)}});else if("function"!=typeof c)throw new TypeError("Callback must be a function");return this[de]?this.nextTick(c,new Y("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[H]?this.nextTick(c,new Y("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[H]=!0,this[U]=c,this[je]>=this[Oe]?this.nextTick(this[V],null):this._next(this[V])),E}_next(c){this.nextTick(c)}nextv(c,E,q){return q=j(E,q),q=N(q,R),E=M(E,B),Number.isInteger(c)?(this[de]?this.nextTick(q,new Y("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[H]?this.nextTick(q,new Y("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(c<1&&(c=1),this[Oe]<1/0&&(c=Math.min(c,this[Oe]-this[je])),this[H]=!0,this[U]=q,c<=0?this.nextTick(this[P],null,[]):this._nextv(c,E,this[P])),q[R]):(this.nextTick(q,new TypeError("The first argument 'size' must be an integer")),q[R])}_nextv(c,E,q){const X=[],ce=(me,Te,Ke)=>me?q(me):(this[ve]?void 0===Te&&void 0===Ke:void 0===Te)?q(null,X):(X.push(this[ve]?[Te,Ke]:Te),void(X.length===c?q(null,X):this._next(ce)));this._next(ce)}all(c,E){return E=j(c,E),E=N(E,R),c=M(c,B),this[de]?this.nextTick(E,new Y("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[H]?this.nextTick(E,new Y("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[H]=!0,this[U]=E,this[ee]=!0,this[je]>=this[Oe]?this.nextTick(this[P],null,[]):this._all(c,this[P])),E[R]}_all(c,E){let q=this[je];const X=[],ce=()=>{const Te=this[Oe]<1/0?Math.min(1e3,this[Oe]-q):1e3;Te<=0?this.nextTick(E,null,X):this._nextv(Te,B,me)},me=(Te,Ke)=>{Te?E(Te):0===Ke.length?E(null,X):(X.push.apply(X,Ke),q+=Ke.length,ce())};ce()}[W](){const c=this[U];return this[he]&&null===c?l:(this[H]=!1,this[U]=null,this[de]&&this._close(this[ae]),c)}[Q](c,E,q){this[ee]?this.close(c.bind(null,E,q)):c(E,q)}seek(c,E){if(E=M(E,B),!this[de]){if(this[H])throw new Y("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const q=this.db.keyEncoding(E.keyEncoding||this[ue]),X=q.format;E.keyEncoding!==X&&(E={...E,keyEncoding:X});const ce=this.db.prefixKey(q.encode(c),X);this._seek(ce,E)}}}_seek(c,E){throw new Y("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(c){return c=N(c,R),this[re]?this.nextTick(c):this[de]?this[te].push(c):(this[de]=!0,this[te].push(c),this[H]?this[he]&&this[W]()(new Y("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[ae])),c[R]}_close(c){this.nextTick(c)}[ae](){this[re]=!0,this.db.detachResource(this);const c=this[te];this[te]=[];for(const E of c)E()}[Symbol.asyncIterator](){var c=this;return x(function*(){try{let E;for(;void 0!==(E=yield h(c.next()));)yield E}finally{c[re]||(yield h(c.close()))}})()}}class _ extends w{constructor(c,E){super(c,E,!0),this[ge]=!1!==E.keys,this[Me]=!1!==E.values}[V](c,E,q){const X=this[W]();if(c)return X(c);try{E=this[ge]&&void 0!==E?this[ue].decode(E):void 0,q=this[Me]&&void 0!==q?this[pe].decode(q):void 0}catch(ce){return X(new $("entry",ce))}void 0===E&&void 0===q||this[je]++,X(null,E,q)}[P](c,E){const q=this[W]();if(c)return this[Q](q,c);try{for(const X of E){const ce=X[0],me=X[1];X[0]=this[ge]&&void 0!==ce?this[ue].decode(ce):void 0,X[1]=this[Me]&&void 0!==me?this[pe].decode(me):void 0}}catch(X){return this[Q](q,new $("entries",X))}this[je]+=E.length,this[Q](q,null,E)}end(c){return!f&&typeof console<"u"&&(f=!0,console.warn(new Y("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(c)}}class $ extends Y{constructor(c,E){super(`Iterator could not decode ${c}`,{code:"LEVEL_DECODE_ERROR",cause:E})}}for(const T of["_ended property","_nexting property","_end method"])Object.defineProperty(_.prototype,T.split(" ")[0],{get(){throw new Y(`The ${T} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new Y(`The ${T} has been removed`,{code:"LEVEL_LEGACY"})}});_.keyEncoding=ue,_.valueEncoding=pe,J.AbstractIterator=_,J.AbstractKeyIterator=class D extends w{constructor(c,E){super(c,E,!1)}[V](c,E){const q=this[W]();if(c)return q(c);try{E=void 0!==E?this[ue].decode(E):void 0}catch(X){return q(new $("key",X))}void 0!==E&&this[je]++,q(null,E)}[P](c,E){const q=this[W]();if(c)return this[Q](q,c);try{for(let X=0;X<E.length;X++){const ce=E[X];E[X]=void 0!==ce?this[ue].decode(ce):void 0}}catch(X){return this[Q](q,new $("keys",X))}this[je]+=E.length,this[Q](q,null,E)}},J.AbstractValueIterator=class O extends w{constructor(c,E){super(c,E,!1)}[V](c,E){const q=this[W]();if(c)return q(c);try{E=void 0!==E?this[pe].decode(E):void 0}catch(X){return q(new $("value",X))}void 0!==E&&this[je]++,q(null,E)}[P](c,E){const q=this[W]();if(c)return this[Q](q,c);try{for(let X=0;X<E.length;X++){const ce=E[X];E[X]=void 0!==ce?this[pe].decode(ce):void 0}}catch(X){return this[Q](q,new $("values",X))}this[je]+=E.length,this[Q](q,null,E)}}},83764:(Ye,J,A)=>{"use strict";const{supports:h}=A(89061),{Transcoder:x}=A(25006),{EventEmitter:N}=A(44356),{fromCallback:Y}=A(42381),M=A(61747),{AbstractIterator:j}=A(63294),{DefaultKeyIterator:R,DefaultValueIterator:U}=A(48335),{DeferredIterator:H,DeferredKeyIterator:V,DeferredValueIterator:P}=A(92745),{DefaultChainedBatch:ee}=A(45776),{getCallback:W,getOptions:Q}=A(32856),de=A(4287),ae=Symbol("promise"),re=Symbol("landed"),te=Symbol("resources"),ue=Symbol("closeResources"),pe=Symbol("operations"),he=Symbol("undefer"),ve=Symbol("deferOpen"),ge=Symbol("options"),Me=Symbol("status"),Oe=Symbol("defaultOptions"),je=Symbol("transcoder"),B=Symbol("keyEncoding"),l=Symbol("valueEncoding"),f=()=>{};class w extends N{constructor(T,c){if(super(),"object"!=typeof T||null===T)throw new TypeError("The first argument 'manifest' must be an object");c=Q(c);const{keyEncoding:E,valueEncoding:q,passive:X,...ce}=c;this[te]=new Set,this[pe]=[],this[ve]=!0,this[ge]=ce,this[Me]="opening",this.supports=h(T,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:!1!==T.snapshots,permanence:!1!==T.permanence,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:T.encodings||{},events:Object.assign({},T.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[je]=new x(O(this)),this[B]=this[je].encoding(E||"utf8"),this[l]=this[je].encoding(q||"utf8");for(const me of this[je].encodings())this.supports.encodings[me.commonName]||(this.supports.encodings[me.commonName]=!0);this[Oe]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[B].commonName,valueEncoding:this[l].commonName}),key:Object.freeze({keyEncoding:this[B].commonName})},this.nextTick(()=>{this[ve]&&this.open({passive:!1},f)})}get status(){return this[Me]}keyEncoding(T){return this[je].encoding(T??this[B])}valueEncoding(T){return this[je].encoding(T??this[l])}open(T,c){c=W(T,c),c=Y(c,ae),(T={...this[ge],...Q(T)}).createIfMissing=!1!==T.createIfMissing,T.errorIfExists=!!T.errorIfExists;const E=q=>{"closing"===this[Me]||"opening"===this[Me]?this.once(re,q?()=>E(q):E):"open"!==this[Me]?c(new M("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:q})):c()};return T.passive?"opening"===this[Me]?this.once(re,E):this.nextTick(E):"closed"===this[Me]||this[ve]?(this[ve]=!1,this[Me]="opening",this.emit("opening"),this._open(T,q=>{if(q)return this[Me]="closed",this[ue](()=>{this.emit(re),E(q)}),void this[he]();this[Me]="open",this[he](),this.emit(re),"open"===this[Me]&&this.emit("open"),"open"===this[Me]&&this.emit("ready"),E()})):"open"===this[Me]?this.nextTick(E):this.once(re,()=>this.open(T,c)),c[ae]}_open(T,c){this.nextTick(c)}close(T){T=Y(T,ae);const c=E=>{"opening"===this[Me]||"closing"===this[Me]?this.once(re,E?c(E):c):"closed"!==this[Me]?T(new M("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:E})):T()};if("open"===this[Me]){this[Me]="closing",this.emit("closing");const E=q=>{this[Me]="open",this[he](),this.emit(re),c(q)};this[ue](()=>{this._close(q=>{if(q)return E(q);this[Me]="closed",this[he](),this.emit(re),"closed"===this[Me]&&this.emit("closed"),c()})})}else"closed"===this[Me]?this.nextTick(c):this.once(re,()=>this.close(T));return T[ae]}[ue](T){if(0===this[te].size)return this.nextTick(T);let c=this[te].size,E=!0;const q=()=>{0==--c&&(E?this.nextTick(T):T())};for(const X of this[te])X.close(q);E=!1,this[te].clear()}_close(T){this.nextTick(T)}get(T,c,E){if(E=W(c,E),E=Y(E,ae),c=Q(c,this[Oe].entry),"opening"===this[Me])return this.defer(()=>this.get(T,c,E)),E[ae];if(D(this,E))return E[ae];const q=this._checkKey(T);if(q)return this.nextTick(E,q),E[ae];const X=this.keyEncoding(c.keyEncoding),ce=this.valueEncoding(c.valueEncoding),me=X.format,Te=ce.format;return(c.keyEncoding!==me||c.valueEncoding!==Te)&&(c=Object.assign({},c,{keyEncoding:me,valueEncoding:Te})),this._get(this.prefixKey(X.encode(T),me),c,(Ke,Qe)=>{if(Ke)return("LEVEL_NOT_FOUND"===Ke.code||Ke.notFound||/NotFound/i.test(Ke))&&(Ke.code||(Ke.code="LEVEL_NOT_FOUND"),Ke.notFound||(Ke.notFound=!0),Ke.status||(Ke.status=404)),E(Ke);try{Qe=ce.decode(Qe)}catch(ke){return E(new M("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:ke}))}E(null,Qe)}),E[ae]}_get(T,c,E){this.nextTick(E,new Error("NotFound"))}getMany(T,c,E){if(E=W(c,E),E=Y(E,ae),c=Q(c,this[Oe].entry),"opening"===this[Me])return this.defer(()=>this.getMany(T,c,E)),E[ae];if(D(this,E))return E[ae];if(!Array.isArray(T))return this.nextTick(E,new TypeError("The first argument 'keys' must be an array")),E[ae];if(0===T.length)return this.nextTick(E,null,[]),E[ae];const q=this.keyEncoding(c.keyEncoding),X=this.valueEncoding(c.valueEncoding),ce=q.format,me=X.format;(c.keyEncoding!==ce||c.valueEncoding!==me)&&(c=Object.assign({},c,{keyEncoding:ce,valueEncoding:me}));const Te=new Array(T.length);for(let Ke=0;Ke<T.length;Ke++){const Qe=T[Ke],ke=this._checkKey(Qe);if(ke)return this.nextTick(E,ke),E[ae];Te[Ke]=this.prefixKey(q.encode(Qe),ce)}return this._getMany(Te,c,(Ke,Qe)=>{if(Ke)return E(Ke);try{for(let ke=0;ke<Qe.length;ke++)void 0!==Qe[ke]&&(Qe[ke]=X.decode(Qe[ke]))}catch(ke){return E(new M(`Could not decode one or more of ${Qe.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:ke}))}E(null,Qe)}),E[ae]}_getMany(T,c,E){this.nextTick(E,null,new Array(T.length).fill(void 0))}put(T,c,E,q){if(q=W(E,q),q=Y(q,ae),E=Q(E,this[Oe].entry),"opening"===this[Me])return this.defer(()=>this.put(T,c,E,q)),q[ae];if(D(this,q))return q[ae];const X=this._checkKey(T)||this._checkValue(c);if(X)return this.nextTick(q,X),q[ae];const ce=this.keyEncoding(E.keyEncoding),me=this.valueEncoding(E.valueEncoding),Te=ce.format,Ke=me.format;(E.keyEncoding!==Te||E.valueEncoding!==Ke)&&(E=Object.assign({},E,{keyEncoding:Te,valueEncoding:Ke}));const Qe=this.prefixKey(ce.encode(T),Te),ke=me.encode(c);return this._put(Qe,ke,E,Ie=>{if(Ie)return q(Ie);this.emit("put",T,c),q()}),q[ae]}_put(T,c,E,q){this.nextTick(q)}del(T,c,E){if(E=W(c,E),E=Y(E,ae),c=Q(c,this[Oe].key),"opening"===this[Me])return this.defer(()=>this.del(T,c,E)),E[ae];if(D(this,E))return E[ae];const q=this._checkKey(T);if(q)return this.nextTick(E,q),E[ae];const X=this.keyEncoding(c.keyEncoding),ce=X.format;return c.keyEncoding!==ce&&(c=Object.assign({},c,{keyEncoding:ce})),this._del(this.prefixKey(X.encode(T),ce),c,me=>{if(me)return E(me);this.emit("del",T),E()}),E[ae]}_del(T,c,E){this.nextTick(E)}batch(T,c,E){if(!arguments.length){if("opening"===this[Me])return new ee(this);if("open"!==this[Me])throw new M("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(E="function"==typeof T?T:W(c,E),E=Y(E,ae),c=Q(c,this[Oe].empty),"opening"===this[Me])return this.defer(()=>this.batch(T,c,E)),E[ae];if(D(this,E))return E[ae];if(!Array.isArray(T))return this.nextTick(E,new TypeError("The first argument 'operations' must be an array")),E[ae];if(0===T.length)return this.nextTick(E),E[ae];const q=new Array(T.length),{keyEncoding:X,valueEncoding:ce,...me}=c;for(let Te=0;Te<T.length;Te++){if("object"!=typeof T[Te]||null===T[Te])return this.nextTick(E,new TypeError("A batch operation must be an object")),E[ae];const Ke=Object.assign({},T[Te]);if("put"!==Ke.type&&"del"!==Ke.type)return this.nextTick(E,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),E[ae];const Qe=this._checkKey(Ke.key);if(Qe)return this.nextTick(E,Qe),E[ae];const ke=null!=Ke.sublevel?Ke.sublevel:this,Ie=ke.keyEncoding(Ke.keyEncoding||X),Xe=Ie.format;if(Ke.key=ke.prefixKey(Ie.encode(Ke.key),Xe),Ke.keyEncoding=Xe,"put"===Ke.type){const Se=this._checkValue(Ke.value);if(Se)return this.nextTick(E,Se),E[ae];const Le=ke.valueEncoding(Ke.valueEncoding||ce);Ke.value=Le.encode(Ke.value),Ke.valueEncoding=Le.format}ke!==this&&(Ke.sublevel=null),q[Te]=Ke}return this._batch(q,me,Te=>{if(Te)return E(Te);this.emit("batch",T),E()}),E[ae]}_batch(T,c,E){this.nextTick(E)}sublevel(T,c){return this._sublevel(T,_.defaults(c))}_sublevel(T,c){return new _(this,T,c)}prefixKey(T,c){return T}clear(T,c){if(c=W(T,c),c=Y(c,ae),T=Q(T,this[Oe].empty),"opening"===this[Me])return this.defer(()=>this.clear(T,c)),c[ae];if(D(this,c))return c[ae];const E=T,q=this.keyEncoding(T.keyEncoding);return(T=de(T,q)).keyEncoding=q.format,0===T.limit?this.nextTick(c):this._clear(T,X=>{if(X)return c(X);this.emit("clear",E),c()}),c[ae]}_clear(T,c){this.nextTick(c)}iterator(T){const c=this.keyEncoding(T&&T.keyEncoding),E=this.valueEncoding(T&&T.valueEncoding);if((T=de(T,c)).keys=!1!==T.keys,T.values=!1!==T.values,T[j.keyEncoding]=c,T[j.valueEncoding]=E,T.keyEncoding=c.format,T.valueEncoding=E.format,"opening"===this[Me])return new H(this,T);if("open"!==this[Me])throw new M("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(T)}_iterator(T){return new j(this,T)}keys(T){const c=this.keyEncoding(T&&T.keyEncoding),E=this.valueEncoding(T&&T.valueEncoding);if((T=de(T,c))[j.keyEncoding]=c,T[j.valueEncoding]=E,T.keyEncoding=c.format,T.valueEncoding=E.format,"opening"===this[Me])return new V(this,T);if("open"!==this[Me])throw new M("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(T)}_keys(T){return new R(this,T)}values(T){const c=this.keyEncoding(T&&T.keyEncoding),E=this.valueEncoding(T&&T.valueEncoding);if((T=de(T,c))[j.keyEncoding]=c,T[j.valueEncoding]=E,T.keyEncoding=c.format,T.valueEncoding=E.format,"opening"===this[Me])return new P(this,T);if("open"!==this[Me])throw new M("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(T)}_values(T){return new U(this,T)}defer(T){if("function"!=typeof T)throw new TypeError("The first argument must be a function");this[pe].push(T)}[he](){if(0===this[pe].length)return;const T=this[pe];this[pe]=[];for(const c of T)c()}attachResource(T){if("object"!=typeof T||null===T||"function"!=typeof T.close)throw new TypeError("The first argument must be a resource object");this[te].add(T)}detachResource(T){this[te].delete(T)}_chainedBatch(){return new ee(this)}_checkKey(T){if(null==T)return new M("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(T){if(null==T)return new M("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}w.prototype.nextTick=A(24585);const{AbstractSublevel:_}=A(25416)({AbstractLevel:w});J.AbstractLevel=w,J.AbstractSublevel=_;const D=function($,T){return"open"!==$[Me]&&($.nextTick(T,new M("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0)},O=function($){return Object.keys($.supports.encodings).filter(T=>!!$.supports.encodings[T])}},75929:(Ye,J,A)=>{"use strict";J.AbstractLevel=A(83764).AbstractLevel,J.AbstractSublevel=A(83764).AbstractSublevel,J.AbstractIterator=A(63294).AbstractIterator,J.AbstractKeyIterator=A(63294).AbstractKeyIterator,J.AbstractValueIterator=A(63294).AbstractValueIterator,J.AbstractChainedBatch=A(91463).AbstractChainedBatch},47519:(Ye,J,A)=>{"use strict";const{AbstractIterator:h,AbstractKeyIterator:x,AbstractValueIterator:N}=A(63294),Y=Symbol("unfix"),M=Symbol("iterator"),j=Symbol("handleOne"),R=Symbol("handleMany"),U=Symbol("callback");class H extends h{constructor(W,Q,de,ae){super(W,Q),this[M]=de,this[Y]=ae,this[j]=this[j].bind(this),this[R]=this[R].bind(this),this[U]=null}[j](W,Q,de){const ae=this[U];if(W)return ae(W);void 0!==Q&&(Q=this[Y](Q)),ae(W,Q,de)}[R](W,Q){const de=this[U];if(W)return de(W);for(const ae of Q){const re=ae[0];void 0!==re&&(ae[0]=this[Y](re))}de(W,Q)}}class V extends x{constructor(W,Q,de,ae){super(W,Q),this[M]=de,this[Y]=ae,this[j]=this[j].bind(this),this[R]=this[R].bind(this),this[U]=null}[j](W,Q){const de=this[U];if(W)return de(W);void 0!==Q&&(Q=this[Y](Q)),de(W,Q)}[R](W,Q){const de=this[U];if(W)return de(W);for(let ae=0;ae<Q.length;ae++){const re=Q[ae];void 0!==re&&(Q[ae]=this[Y](re))}de(W,Q)}}class P extends N{constructor(W,Q,de){super(W,Q),this[M]=de}}for(const ee of[H,V])ee.prototype._next=function(W){this[U]=W,this[M].next(this[j])},ee.prototype._nextv=function(W,Q,de){this[U]=de,this[M].nextv(W,Q,this[R])},ee.prototype._all=function(W,Q){this[U]=Q,this[M].all(W,this[R])};for(const ee of[P])ee.prototype._next=function(W){this[M].next(W)},ee.prototype._nextv=function(W,Q,de){this[M].nextv(W,Q,de)},ee.prototype._all=function(W,Q){this[M].all(W,Q)};for(const ee of[H,V,P])ee.prototype._seek=function(W,Q){this[M].seek(W,Q)},ee.prototype._close=function(W){this[M].close(W)};J.AbstractSublevelIterator=H,J.AbstractSublevelKeyIterator=V,J.AbstractSublevelValueIterator=P},25416:(Ye,J,A)=>{"use strict";const h=A(61747),{Buffer:x}=A(1067)||{},{AbstractSublevelIterator:N,AbstractSublevelKeyIterator:Y,AbstractSublevelValueIterator:M}=A(47519),j=Symbol("prefix"),R=Symbol("upperBound"),U=Symbol("prefixRange"),H=Symbol("parent"),V=Symbol("unfix"),P=new TextEncoder,ee={separator:"!"};Ye.exports=function({AbstractLevel:te}){class ue extends te{static defaults(he){if("string"==typeof he)throw new h("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(he&&he.open)throw new h("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return null==he?ee:he.separator?he:{...he,separator:"!"}}constructor(he,ve,ge){const{separator:Me,manifest:Oe,...je}=ue.defaults(ge);ve=re(ve,Me);const B=Me.charCodeAt(0)+1,l=he[H]||he;if(!P.encode(ve).every(_=>_>B&&_<127))throw new h(`Prefix must use bytes > ${B} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(W(l,Oe),je);const f=(he.prefix||"")+Me+ve+Me,w=f.slice(0,-1)+String.fromCharCode(B);this[H]=l,this[j]=new de(f),this[R]=new de(w),this[V]=new ae,this.nextTick=l.nextTick}prefixKey(he,ve){if("utf8"===ve)return this[j].utf8+he;if(0===he.byteLength)return this[j][ve];if("view"===ve){const ge=this[j].view,Me=new Uint8Array(ge.byteLength+he.byteLength);return Me.set(ge,0),Me.set(he,ge.byteLength),Me}{const ge=this[j].buffer;return x.concat([ge,he],ge.byteLength+he.byteLength)}}[U](he,ve){void 0!==he.gte?he.gte=this.prefixKey(he.gte,ve):void 0!==he.gt?he.gt=this.prefixKey(he.gt,ve):he.gte=this[j][ve],void 0!==he.lte?he.lte=this.prefixKey(he.lte,ve):void 0!==he.lt?he.lt=this.prefixKey(he.lt,ve):he.lte=this[R][ve]}get prefix(){return this[j].utf8}get db(){return this[H]}_open(he,ve){this[H].open({passive:!0},ve)}_put(he,ve,ge,Me){this[H].put(he,ve,ge,Me)}_get(he,ve,ge){this[H].get(he,ve,ge)}_getMany(he,ve,ge){this[H].getMany(he,ve,ge)}_del(he,ve,ge){this[H].del(he,ve,ge)}_batch(he,ve,ge){this[H].batch(he,ve,ge)}_clear(he,ve){this[U](he,he.keyEncoding),this[H].clear(he,ve)}_iterator(he){this[U](he,he.keyEncoding);const ve=this[H].iterator(he),ge=this[V].get(this[j].utf8.length,he.keyEncoding);return new N(this,he,ve,ge)}_keys(he){this[U](he,he.keyEncoding);const ve=this[H].keys(he),ge=this[V].get(this[j].utf8.length,he.keyEncoding);return new Y(this,he,ve,ge)}_values(he){this[U](he,he.keyEncoding);const ve=this[H].values(he);return new M(this,he,ve)}}return{AbstractSublevel:ue}};const W=function(te,ue){return{...te.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...ue,encodings:{utf8:Q(te,"utf8"),buffer:Q(te,"buffer"),view:Q(te,"view")}}},Q=function(te,ue){return!!te.supports.encodings[ue]&&te.keyEncoding(ue).name===ue};class de{constructor(ue){this.utf8=ue,this.view=P.encode(ue),this.buffer=x?x.from(this.view.buffer,0,this.view.byteLength):{}}}class ae{constructor(){this.cache=new Map}get(ue,pe){let he=this.cache.get(pe);return void 0===he&&(he="view"===pe?function(ve,ge){return ge.subarray(ve)}.bind(null,ue):function(ve,ge){return ge.slice(ve)}.bind(null,ue),this.cache.set(pe,he)),he}}const re=function(te,ue){let pe=0,he=te.length;for(;pe<he&&te[pe]===ue;)pe++;for(;he>pe&&te[he-1]===ue;)he--;return te.slice(pe,he)}},32856:(Ye,J)=>{"use strict";J.getCallback=function(A,h){return"function"==typeof A?A:h},J.getOptions=function(A,h){return"object"==typeof A&&null!==A?A:void 0!==h?h:{}}},45776:(Ye,J,A)=>{"use strict";const{AbstractChainedBatch:h}=A(91463),x=A(61747),N=Symbol("encoded");J.DefaultChainedBatch=class Y extends h{constructor(j){super(j),this[N]=[]}_put(j,R,U){this[N].push({...U,type:"put",key:j,value:R})}_del(j,R){this[N].push({...R,type:"del",key:j})}_clear(){this[N]=[]}_write(j,R){"opening"===this.db.status?this.db.defer(()=>this._write(j,R)):"open"===this.db.status?0===this[N].length?this.nextTick(R):this.db._batch(this[N],j,R):this.nextTick(R,new x("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}},48335:(Ye,J,A)=>{"use strict";const{AbstractKeyIterator:h,AbstractValueIterator:x}=A(63294),N=Symbol("iterator"),Y=Symbol("callback"),M=Symbol("handleOne"),j=Symbol("handleMany");class R extends h{constructor(V,P){super(V,P),this[N]=V.iterator({...P,keys:!0,values:!1}),this[M]=this[M].bind(this),this[j]=this[j].bind(this)}}class U extends x{constructor(V,P){super(V,P),this[N]=V.iterator({...P,keys:!1,values:!0}),this[M]=this[M].bind(this),this[j]=this[j].bind(this)}}for(const H of[R,U]){const V=H===R,P=V?ee=>ee[0]:ee=>ee[1];H.prototype._next=function(ee){this[Y]=ee,this[N].next(this[M])},H.prototype[M]=function(ee,W,Q){const de=this[Y];ee?de(ee):de(null,V?W:Q)},H.prototype._nextv=function(ee,W,Q){this[Y]=Q,this[N].nextv(ee,W,this[j])},H.prototype._all=function(ee,W){this[Y]=W,this[N].all(ee,this[j])},H.prototype[j]=function(ee,W){const Q=this[Y];ee?Q(ee):Q(null,W.map(P))},H.prototype._seek=function(ee,W){this[N].seek(ee,W)},H.prototype._close=function(ee){this[N].close(ee)}}J.DefaultKeyIterator=R,J.DefaultValueIterator=U},92745:(Ye,J,A)=>{"use strict";const{AbstractIterator:h,AbstractKeyIterator:x,AbstractValueIterator:N}=A(63294),Y=A(61747),M=Symbol("nut"),j=Symbol("undefer"),R=Symbol("factory");class U extends h{constructor(ee,W){super(ee,W),this[M]=null,this[R]=()=>ee.iterator(W),this.db.defer(()=>this[j]())}}class H extends x{constructor(ee,W){super(ee,W),this[M]=null,this[R]=()=>ee.keys(W),this.db.defer(()=>this[j]())}}class V extends N{constructor(ee,W){super(ee,W),this[M]=null,this[R]=()=>ee.values(W),this.db.defer(()=>this[j]())}}for(const P of[U,H,V])P.prototype[j]=function(){"open"===this.db.status&&(this[M]=this[R]())},P.prototype._next=function(ee){null!==this[M]?this[M].next(ee):"opening"===this.db.status?this.db.defer(()=>this._next(ee)):this.nextTick(ee,new Y("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},P.prototype._nextv=function(ee,W,Q){null!==this[M]?this[M].nextv(ee,W,Q):"opening"===this.db.status?this.db.defer(()=>this._nextv(ee,W,Q)):this.nextTick(Q,new Y("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},P.prototype._all=function(ee,W){null!==this[M]?this[M].all(W):"opening"===this.db.status?this.db.defer(()=>this._all(ee,W)):this.nextTick(W,new Y("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},P.prototype._seek=function(ee,W){null!==this[M]?this[M]._seek(ee,W):"opening"===this.db.status&&this.db.defer(()=>this._seek(ee,W))},P.prototype._close=function(ee){null!==this[M]?this[M].close(ee):"opening"===this.db.status?this.db.defer(()=>this._close(ee)):this.nextTick(ee)};J.DeferredIterator=U,J.DeferredKeyIterator=H,J.DeferredValueIterator=V},24585:(Ye,J,A)=>{"use strict";const h=A(24515);Ye.exports=function(x,...N){h(0===N.length?x:()=>x(...N))}},4287:(Ye,J,A)=>{"use strict";const h=A(61747),x=Object.prototype.hasOwnProperty,N=new Set(["lt","lte","gt","gte"]);Ye.exports=function(Y,M){const j={};for(const R in Y)if(x.call(Y,R)&&"keyEncoding"!==R&&"valueEncoding"!==R){if("start"===R||"end"===R)throw new h(`The legacy range option '${R}' has been removed`,{code:"LEVEL_LEGACY"});if("encoding"===R)throw new h("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});j[R]=N.has(R)?M.encode(Y[R]):Y[R]}return j.reverse=!!j.reverse,j.limit=Number.isInteger(j.limit)&&j.limit>=0?j.limit:-1,j}},1067:(Ye,J,A)=>{"use strict";const h=A(13981),x=A(22020),N="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;J.Buffer=R,J.SlowBuffer=function te(K){return+K!=K&&(K=0),R.alloc(+K)},J.INSPECT_MAX_BYTES=50;const Y=2147483647;function j(K){if(K>Y)throw new RangeError('The value "'+K+'" is invalid for option "size"');const C=new Uint8Array(K);return Object.setPrototypeOf(C,R.prototype),C}function R(K,C,b){if("number"==typeof K){if("string"==typeof C)throw new TypeError('The "string" argument must be of type string. Received type number');return P(K)}return U(K,C,b)}function U(K,C,b){if("string"==typeof K)return function ee(K,C){if(("string"!=typeof C||""===C)&&(C="utf8"),!R.isEncoding(C))throw new TypeError("Unknown encoding: "+C);const b=0|ue(K,C);let z=j(b);const le=z.write(K,C);return le!==b&&(z=z.slice(0,le)),z}(K,C);if(ArrayBuffer.isView(K))return function Q(K){if(Ze(K,Uint8Array)){const C=new Uint8Array(K);return de(C.buffer,C.byteOffset,C.byteLength)}return W(K)}(K);if(null==K)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(Ze(K,ArrayBuffer)||K&&Ze(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ze(K,SharedArrayBuffer)||K&&Ze(K.buffer,SharedArrayBuffer)))return de(K,C,b);if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');const z=K.valueOf&&K.valueOf();if(null!=z&&z!==K)return R.from(z,C,b);const le=function ae(K){if(R.isBuffer(K)){const C=0|re(K.length),b=j(C);return 0===b.length||K.copy(b,0,0,C),b}return void 0!==K.length?"number"!=typeof K.length||Pt(K.length)?j(0):W(K):"Buffer"===K.type&&Array.isArray(K.data)?W(K.data):void 0}(K);if(le)return le;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return R.from(K[Symbol.toPrimitive]("string"),C,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function H(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function P(K){return H(K),j(K<0?0:0|re(K))}function W(K){const C=K.length<0?0:0|re(K.length),b=j(C);for(let z=0;z<C;z+=1)b[z]=255&K[z];return b}function de(K,C,b){if(C<0||K.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<C+(b||0))throw new RangeError('"length" is outside of buffer bounds');let z;return z=void 0===C&&void 0===b?new Uint8Array(K):void 0===b?new Uint8Array(K,C):new Uint8Array(K,C,b),Object.setPrototypeOf(z,R.prototype),z}function re(K){if(K>=Y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Y.toString(16)+" bytes");return 0|K}function ue(K,C){if(R.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||Ze(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const b=K.length,z=arguments.length>2&&!0===arguments[2];if(!z&&0===b)return 0;let le=!1;for(;;)switch(C){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return fe(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*b;case"hex":return b>>>1;case"base64":return $e(K).length;default:if(le)return z?-1:fe(K).length;C=(""+C).toLowerCase(),le=!0}}function pe(K,C,b){let z=!1;if((void 0===C||C<0)&&(C=0),C>this.length||((void 0===b||b>this.length)&&(b=this.length),b<=0)||(b>>>=0)<=(C>>>=0))return"";for(K||(K="utf8");;)switch(K){case"hex":return T(this,C,b);case"utf8":case"utf-8":return w(this,C,b);case"ascii":return O(this,C,b);case"latin1":case"binary":return $(this,C,b);case"base64":return f(this,C,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c(this,C,b);default:if(z)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),z=!0}}function he(K,C,b){const z=K[C];K[C]=K[b],K[b]=z}function ve(K,C,b,z,le){if(0===K.length)return-1;if("string"==typeof b?(z=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),Pt(b=+b)&&(b=le?0:K.length-1),b<0&&(b=K.length+b),b>=K.length){if(le)return-1;b=K.length-1}else if(b<0){if(!le)return-1;b=0}if("string"==typeof C&&(C=R.from(C,z)),R.isBuffer(C))return 0===C.length?-1:ge(K,C,b,z,le);if("number"==typeof C)return C&=255,"function"==typeof Uint8Array.prototype.indexOf?le?Uint8Array.prototype.indexOf.call(K,C,b):Uint8Array.prototype.lastIndexOf.call(K,C,b):ge(K,[C],b,z,le);throw new TypeError("val must be string, number or Buffer")}function ge(K,C,b,z,le){let Rt,Ae=1,Be=K.length,ft=C.length;if(void 0!==z&&("ucs2"===(z=String(z).toLowerCase())||"ucs-2"===z||"utf16le"===z||"utf-16le"===z)){if(K.length<2||C.length<2)return-1;Ae=2,Be/=2,ft/=2,b/=2}function Yt(Vt,dn){return 1===Ae?Vt[dn]:Vt.readUInt16BE(dn*Ae)}if(le){let Vt=-1;for(Rt=b;Rt<Be;Rt++)if(Yt(K,Rt)===Yt(C,-1===Vt?0:Rt-Vt)){if(-1===Vt&&(Vt=Rt),Rt-Vt+1===ft)return Vt*Ae}else-1!==Vt&&(Rt-=Rt-Vt),Vt=-1}else for(b+ft>Be&&(b=Be-ft),Rt=b;Rt>=0;Rt--){let Vt=!0;for(let dn=0;dn<ft;dn++)if(Yt(K,Rt+dn)!==Yt(C,dn)){Vt=!1;break}if(Vt)return Rt}return-1}function Me(K,C,b,z){b=Number(b)||0;const le=K.length-b;z?(z=Number(z))>le&&(z=le):z=le;const Ae=C.length;let Be;for(z>Ae/2&&(z=Ae/2),Be=0;Be<z;++Be){const ft=parseInt(C.substr(2*Be,2),16);if(Pt(ft))return Be;K[b+Be]=ft}return Be}function Oe(K,C,b,z){return Je(fe(C,K.length-b),K,b,z)}function je(K,C,b,z){return Je(function we(K){const C=[];for(let b=0;b<K.length;++b)C.push(255&K.charCodeAt(b));return C}(C),K,b,z)}function B(K,C,b,z){return Je($e(C),K,b,z)}function l(K,C,b,z){return Je(function De(K,C){let b,z,le;const Ae=[];for(let Be=0;Be<K.length&&!((C-=2)<0);++Be)b=K.charCodeAt(Be),z=b>>8,le=b%256,Ae.push(le),Ae.push(z);return Ae}(C,K.length-b),K,b,z)}function f(K,C,b){return h.fromByteArray(0===C&&b===K.length?K:K.slice(C,b))}function w(K,C,b){b=Math.min(K.length,b);const z=[];let le=C;for(;le<b;){const Ae=K[le];let Be=null,ft=Ae>239?4:Ae>223?3:Ae>191?2:1;if(le+ft<=b){let Yt,Rt,Vt,dn;switch(ft){case 1:Ae<128&&(Be=Ae);break;case 2:Yt=K[le+1],128==(192&Yt)&&(dn=(31&Ae)<<6|63&Yt,dn>127&&(Be=dn));break;case 3:Yt=K[le+1],Rt=K[le+2],128==(192&Yt)&&128==(192&Rt)&&(dn=(15&Ae)<<12|(63&Yt)<<6|63&Rt,dn>2047&&(dn<55296||dn>57343)&&(Be=dn));break;case 4:Yt=K[le+1],Rt=K[le+2],Vt=K[le+3],128==(192&Yt)&&128==(192&Rt)&&128==(192&Vt)&&(dn=(15&Ae)<<18|(63&Yt)<<12|(63&Rt)<<6|63&Vt,dn>65535&&dn<1114112&&(Be=dn))}}null===Be?(Be=65533,ft=1):Be>65535&&(Be-=65536,z.push(Be>>>10&1023|55296),Be=56320|1023&Be),z.push(Be),le+=ft}return function D(K){const C=K.length;if(C<=_)return String.fromCharCode.apply(String,K);let b="",z=0;for(;z<C;)b+=String.fromCharCode.apply(String,K.slice(z,z+=_));return b}(z)}J.kMaxLength=Y,!(R.TYPED_ARRAY_SUPPORT=function M(){try{const K=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(K,C),42===K.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(R.prototype,"parent",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.buffer}}),Object.defineProperty(R.prototype,"offset",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.byteOffset}}),R.poolSize=8192,R.from=function(K,C,b){return U(K,C,b)},Object.setPrototypeOf(R.prototype,Uint8Array.prototype),Object.setPrototypeOf(R,Uint8Array),R.alloc=function(K,C,b){return function V(K,C,b){return H(K),K<=0?j(K):void 0!==C?"string"==typeof b?j(K).fill(C,b):j(K).fill(C):j(K)}(K,C,b)},R.allocUnsafe=function(K){return P(K)},R.allocUnsafeSlow=function(K){return P(K)},R.isBuffer=function(C){return null!=C&&!0===C._isBuffer&&C!==R.prototype},R.compare=function(C,b){if(Ze(C,Uint8Array)&&(C=R.from(C,C.offset,C.byteLength)),Ze(b,Uint8Array)&&(b=R.from(b,b.offset,b.byteLength)),!R.isBuffer(C)||!R.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===b)return 0;let z=C.length,le=b.length;for(let Ae=0,Be=Math.min(z,le);Ae<Be;++Ae)if(C[Ae]!==b[Ae]){z=C[Ae],le=b[Ae];break}return z<le?-1:le<z?1:0},R.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},R.concat=function(C,b){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(0===C.length)return R.alloc(0);let z;if(void 0===b)for(b=0,z=0;z<C.length;++z)b+=C[z].length;const le=R.allocUnsafe(b);let Ae=0;for(z=0;z<C.length;++z){let Be=C[z];if(Ze(Be,Uint8Array))Ae+Be.length>le.length?(R.isBuffer(Be)||(Be=R.from(Be)),Be.copy(le,Ae)):Uint8Array.prototype.set.call(le,Be,Ae);else{if(!R.isBuffer(Be))throw new TypeError('"list" argument must be an Array of Buffers');Be.copy(le,Ae)}Ae+=Be.length}return le},R.byteLength=ue,R.prototype._isBuffer=!0,R.prototype.swap16=function(){const C=this.length;if(C%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<C;b+=2)he(this,b,b+1);return this},R.prototype.swap32=function(){const C=this.length;if(C%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<C;b+=4)he(this,b,b+3),he(this,b+1,b+2);return this},R.prototype.swap64=function(){const C=this.length;if(C%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<C;b+=8)he(this,b,b+7),he(this,b+1,b+6),he(this,b+2,b+5),he(this,b+3,b+4);return this},R.prototype.toLocaleString=R.prototype.toString=function(){const C=this.length;return 0===C?"":0===arguments.length?w(this,0,C):pe.apply(this,arguments)},R.prototype.equals=function(C){if(!R.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C||0===R.compare(this,C)},R.prototype.inspect=function(){let C="";const b=J.INSPECT_MAX_BYTES;return C=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(C+=" ... "),"<Buffer "+C+">"},N&&(R.prototype[N]=R.prototype.inspect),R.prototype.compare=function(C,b,z,le,Ae){if(Ze(C,Uint8Array)&&(C=R.from(C,C.offset,C.byteLength)),!R.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(void 0===b&&(b=0),void 0===z&&(z=C?C.length:0),void 0===le&&(le=0),void 0===Ae&&(Ae=this.length),b<0||z>C.length||le<0||Ae>this.length)throw new RangeError("out of range index");if(le>=Ae&&b>=z)return 0;if(le>=Ae)return-1;if(b>=z)return 1;if(this===C)return 0;let Be=(Ae>>>=0)-(le>>>=0),ft=(z>>>=0)-(b>>>=0);const Yt=Math.min(Be,ft),Rt=this.slice(le,Ae),Vt=C.slice(b,z);for(let dn=0;dn<Yt;++dn)if(Rt[dn]!==Vt[dn]){Be=Rt[dn],ft=Vt[dn];break}return Be<ft?-1:ft<Be?1:0},R.prototype.includes=function(C,b,z){return-1!==this.indexOf(C,b,z)},R.prototype.indexOf=function(C,b,z){return ve(this,C,b,z,!0)},R.prototype.lastIndexOf=function(C,b,z){return ve(this,C,b,z,!1)},R.prototype.write=function(C,b,z,le){if(void 0===b)le="utf8",z=this.length,b=0;else if(void 0===z&&"string"==typeof b)le=b,z=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b>>>=0,isFinite(z)?(z>>>=0,void 0===le&&(le="utf8")):(le=z,z=void 0)}const Ae=this.length-b;if((void 0===z||z>Ae)&&(z=Ae),C.length>0&&(z<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let Be=!1;for(;;)switch(le){case"hex":return Me(this,C,b,z);case"utf8":case"utf-8":return Oe(this,C,b,z);case"ascii":case"latin1":case"binary":return je(this,C,b,z);case"base64":return B(this,C,b,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,C,b,z);default:if(Be)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Be=!0}},R.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const _=4096;function O(K,C,b){let z="";b=Math.min(K.length,b);for(let le=C;le<b;++le)z+=String.fromCharCode(127&K[le]);return z}function $(K,C,b){let z="";b=Math.min(K.length,b);for(let le=C;le<b;++le)z+=String.fromCharCode(K[le]);return z}function T(K,C,b){const z=K.length;(!C||C<0)&&(C=0),(!b||b<0||b>z)&&(b=z);let le="";for(let Ae=C;Ae<b;++Ae)le+=nt[K[Ae]];return le}function c(K,C,b){const z=K.slice(C,b);let le="";for(let Ae=0;Ae<z.length-1;Ae+=2)le+=String.fromCharCode(z[Ae]+256*z[Ae+1]);return le}function E(K,C,b){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+C>b)throw new RangeError("Trying to access beyond buffer length")}function q(K,C,b,z,le,Ae){if(!R.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>le||C<Ae)throw new RangeError('"value" argument is out of bounds');if(b+z>K.length)throw new RangeError("Index out of range")}function X(K,C,b,z,le){Se(C,z,le,K,b,7);let Ae=Number(C&BigInt(4294967295));K[b++]=Ae,Ae>>=8,K[b++]=Ae,Ae>>=8,K[b++]=Ae,Ae>>=8,K[b++]=Ae;let Be=Number(C>>BigInt(32)&BigInt(4294967295));return K[b++]=Be,Be>>=8,K[b++]=Be,Be>>=8,K[b++]=Be,Be>>=8,K[b++]=Be,b}function ce(K,C,b,z,le){Se(C,z,le,K,b,7);let Ae=Number(C&BigInt(4294967295));K[b+7]=Ae,Ae>>=8,K[b+6]=Ae,Ae>>=8,K[b+5]=Ae,Ae>>=8,K[b+4]=Ae;let Be=Number(C>>BigInt(32)&BigInt(4294967295));return K[b+3]=Be,Be>>=8,K[b+2]=Be,Be>>=8,K[b+1]=Be,Be>>=8,K[b]=Be,b+8}function me(K,C,b,z,le,Ae){if(b+z>K.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function Te(K,C,b,z,le){return C=+C,b>>>=0,le||me(K,0,b,4),x.write(K,C,b,z,23,4),b+4}function Ke(K,C,b,z,le){return C=+C,b>>>=0,le||me(K,0,b,8),x.write(K,C,b,z,52,8),b+8}R.prototype.slice=function(C,b){const z=this.length;(C=~~C)<0?(C+=z)<0&&(C=0):C>z&&(C=z),(b=void 0===b?z:~~b)<0?(b+=z)<0&&(b=0):b>z&&(b=z),b<C&&(b=C);const le=this.subarray(C,b);return Object.setPrototypeOf(le,R.prototype),le},R.prototype.readUintLE=R.prototype.readUIntLE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=this[C],Ae=1,Be=0;for(;++Be<b&&(Ae*=256);)le+=this[C+Be]*Ae;return le},R.prototype.readUintBE=R.prototype.readUIntBE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=this[C+--b],Ae=1;for(;b>0&&(Ae*=256);)le+=this[C+--b]*Ae;return le},R.prototype.readUint8=R.prototype.readUInt8=function(C,b){return C>>>=0,b||E(C,1,this.length),this[C]},R.prototype.readUint16LE=R.prototype.readUInt16LE=function(C,b){return C>>>=0,b||E(C,2,this.length),this[C]|this[C+1]<<8},R.prototype.readUint16BE=R.prototype.readUInt16BE=function(C,b){return C>>>=0,b||E(C,2,this.length),this[C]<<8|this[C+1]},R.prototype.readUint32LE=R.prototype.readUInt32LE=function(C,b){return C>>>=0,b||E(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+16777216*this[C+3]},R.prototype.readUint32BE=R.prototype.readUInt32BE=function(C,b){return C>>>=0,b||E(C,4,this.length),16777216*this[C]+(this[C+1]<<16|this[C+2]<<8|this[C+3])},R.prototype.readBigUInt64LE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];(void 0===b||void 0===z)&&Ee(C,this.length-8);const le=b+256*this[++C]+65536*this[++C]+this[++C]*2**24,Ae=this[++C]+256*this[++C]+65536*this[++C]+z*2**24;return BigInt(le)+(BigInt(Ae)<<BigInt(32))}),R.prototype.readBigUInt64BE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];(void 0===b||void 0===z)&&Ee(C,this.length-8);const le=b*2**24+65536*this[++C]+256*this[++C]+this[++C],Ae=this[++C]*2**24+65536*this[++C]+256*this[++C]+z;return(BigInt(le)<<BigInt(32))+BigInt(Ae)}),R.prototype.readIntLE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=this[C],Ae=1,Be=0;for(;++Be<b&&(Ae*=256);)le+=this[C+Be]*Ae;return Ae*=128,le>=Ae&&(le-=Math.pow(2,8*b)),le},R.prototype.readIntBE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=b,Ae=1,Be=this[C+--le];for(;le>0&&(Ae*=256);)Be+=this[C+--le]*Ae;return Ae*=128,Be>=Ae&&(Be-=Math.pow(2,8*b)),Be},R.prototype.readInt8=function(C,b){return C>>>=0,b||E(C,1,this.length),128&this[C]?-1*(255-this[C]+1):this[C]},R.prototype.readInt16LE=function(C,b){C>>>=0,b||E(C,2,this.length);const z=this[C]|this[C+1]<<8;return 32768&z?4294901760|z:z},R.prototype.readInt16BE=function(C,b){C>>>=0,b||E(C,2,this.length);const z=this[C+1]|this[C]<<8;return 32768&z?4294901760|z:z},R.prototype.readInt32LE=function(C,b){return C>>>=0,b||E(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},R.prototype.readInt32BE=function(C,b){return C>>>=0,b||E(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},R.prototype.readBigInt64LE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];return(void 0===b||void 0===z)&&Ee(C,this.length-8),(BigInt(this[C+4]+256*this[C+5]+65536*this[C+6]+(z<<24))<<BigInt(32))+BigInt(b+256*this[++C]+65536*this[++C]+this[++C]*2**24)}),R.prototype.readBigInt64BE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];(void 0===b||void 0===z)&&Ee(C,this.length-8);const le=(b<<24)+65536*this[++C]+256*this[++C]+this[++C];return(BigInt(le)<<BigInt(32))+BigInt(this[++C]*2**24+65536*this[++C]+256*this[++C]+z)}),R.prototype.readFloatLE=function(C,b){return C>>>=0,b||E(C,4,this.length),x.read(this,C,!0,23,4)},R.prototype.readFloatBE=function(C,b){return C>>>=0,b||E(C,4,this.length),x.read(this,C,!1,23,4)},R.prototype.readDoubleLE=function(C,b){return C>>>=0,b||E(C,8,this.length),x.read(this,C,!0,52,8)},R.prototype.readDoubleBE=function(C,b){return C>>>=0,b||E(C,8,this.length),x.read(this,C,!1,52,8)},R.prototype.writeUintLE=R.prototype.writeUIntLE=function(C,b,z,le){C=+C,b>>>=0,z>>>=0,le||q(this,C,b,z,Math.pow(2,8*z)-1,0);let Ae=1,Be=0;for(this[b]=255&C;++Be<z&&(Ae*=256);)this[b+Be]=C/Ae&255;return b+z},R.prototype.writeUintBE=R.prototype.writeUIntBE=function(C,b,z,le){C=+C,b>>>=0,z>>>=0,le||q(this,C,b,z,Math.pow(2,8*z)-1,0);let Ae=z-1,Be=1;for(this[b+Ae]=255&C;--Ae>=0&&(Be*=256);)this[b+Ae]=C/Be&255;return b+z},R.prototype.writeUint8=R.prototype.writeUInt8=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,1,255,0),this[b]=255&C,b+1},R.prototype.writeUint16LE=R.prototype.writeUInt16LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,65535,0),this[b]=255&C,this[b+1]=C>>>8,b+2},R.prototype.writeUint16BE=R.prototype.writeUInt16BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,65535,0),this[b]=C>>>8,this[b+1]=255&C,b+2},R.prototype.writeUint32LE=R.prototype.writeUInt32LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,4294967295,0),this[b+3]=C>>>24,this[b+2]=C>>>16,this[b+1]=C>>>8,this[b]=255&C,b+4},R.prototype.writeUint32BE=R.prototype.writeUInt32BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,4294967295,0),this[b]=C>>>24,this[b+1]=C>>>16,this[b+2]=C>>>8,this[b+3]=255&C,b+4},R.prototype.writeBigUInt64LE=Ge(function(C,b=0){return X(this,C,b,BigInt(0),BigInt("0xffffffffffffffff"))}),R.prototype.writeBigUInt64BE=Ge(function(C,b=0){return ce(this,C,b,BigInt(0),BigInt("0xffffffffffffffff"))}),R.prototype.writeIntLE=function(C,b,z,le){if(C=+C,b>>>=0,!le){const Yt=Math.pow(2,8*z-1);q(this,C,b,z,Yt-1,-Yt)}let Ae=0,Be=1,ft=0;for(this[b]=255&C;++Ae<z&&(Be*=256);)C<0&&0===ft&&0!==this[b+Ae-1]&&(ft=1),this[b+Ae]=(C/Be|0)-ft&255;return b+z},R.prototype.writeIntBE=function(C,b,z,le){if(C=+C,b>>>=0,!le){const Yt=Math.pow(2,8*z-1);q(this,C,b,z,Yt-1,-Yt)}let Ae=z-1,Be=1,ft=0;for(this[b+Ae]=255&C;--Ae>=0&&(Be*=256);)C<0&&0===ft&&0!==this[b+Ae+1]&&(ft=1),this[b+Ae]=(C/Be|0)-ft&255;return b+z},R.prototype.writeInt8=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,1,127,-128),C<0&&(C=255+C+1),this[b]=255&C,b+1},R.prototype.writeInt16LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,32767,-32768),this[b]=255&C,this[b+1]=C>>>8,b+2},R.prototype.writeInt16BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,32767,-32768),this[b]=C>>>8,this[b+1]=255&C,b+2},R.prototype.writeInt32LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,2147483647,-2147483648),this[b]=255&C,this[b+1]=C>>>8,this[b+2]=C>>>16,this[b+3]=C>>>24,b+4},R.prototype.writeInt32BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[b]=C>>>24,this[b+1]=C>>>16,this[b+2]=C>>>8,this[b+3]=255&C,b+4},R.prototype.writeBigInt64LE=Ge(function(C,b=0){return X(this,C,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),R.prototype.writeBigInt64BE=Ge(function(C,b=0){return ce(this,C,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),R.prototype.writeFloatLE=function(C,b,z){return Te(this,C,b,!0,z)},R.prototype.writeFloatBE=function(C,b,z){return Te(this,C,b,!1,z)},R.prototype.writeDoubleLE=function(C,b,z){return Ke(this,C,b,!0,z)},R.prototype.writeDoubleBE=function(C,b,z){return Ke(this,C,b,!1,z)},R.prototype.copy=function(C,b,z,le){if(!R.isBuffer(C))throw new TypeError("argument should be a Buffer");if(z||(z=0),!le&&0!==le&&(le=this.length),b>=C.length&&(b=C.length),b||(b=0),le>0&&le<z&&(le=z),le===z||0===C.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),C.length-b<le-z&&(le=C.length-b+z);const Ae=le-z;return this===C&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(b,z,le):Uint8Array.prototype.set.call(C,this.subarray(z,le),b),Ae},R.prototype.fill=function(C,b,z,le){if("string"==typeof C){if("string"==typeof b?(le=b,b=0,z=this.length):"string"==typeof z&&(le=z,z=this.length),void 0!==le&&"string"!=typeof le)throw new TypeError("encoding must be a string");if("string"==typeof le&&!R.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(1===C.length){const Be=C.charCodeAt(0);("utf8"===le&&Be<128||"latin1"===le)&&(C=Be)}}else"number"==typeof C?C&=255:"boolean"==typeof C&&(C=Number(C));if(b<0||this.length<b||this.length<z)throw new RangeError("Out of range index");if(z<=b)return this;let Ae;if(b>>>=0,z=void 0===z?this.length:z>>>0,C||(C=0),"number"==typeof C)for(Ae=b;Ae<z;++Ae)this[Ae]=C;else{const Be=R.isBuffer(C)?C:R.from(C,le),ft=Be.length;if(0===ft)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(Ae=0;Ae<z-b;++Ae)this[Ae+b]=Be[Ae%ft]}return this};const Qe={};function ke(K,C,b){Qe[K]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:C.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,delete this.name}get code(){return K}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}function Ie(K){let C="",b=K.length;const z="-"===K[0]?1:0;for(;b>=z+4;b-=3)C=`_${K.slice(b-3,b)}${C}`;return`${K.slice(0,b)}${C}`}function Se(K,C,b,z,le,Ae){if(K>b||K<C){const Be="bigint"==typeof C?"n":"";let ft;throw ft=Ae>3?0===C||C===BigInt(0)?`>= 0${Be} and < 2${Be} ** ${8*(Ae+1)}${Be}`:`>= -(2${Be} ** ${8*(Ae+1)-1}${Be}) and < 2 ** ${8*(Ae+1)-1}${Be}`:`>= ${C}${Be} and <= ${b}${Be}`,new Qe.ERR_OUT_OF_RANGE("value",ft,K)}!function Xe(K,C,b){Le(C,"offset"),(void 0===K[C]||void 0===K[C+b])&&Ee(C,K.length-(b+1))}(z,le,Ae)}function Le(K,C){if("number"!=typeof K)throw new Qe.ERR_INVALID_ARG_TYPE(C,"number",K)}function Ee(K,C,b){throw Math.floor(K)!==K?(Le(K,b),new Qe.ERR_OUT_OF_RANGE(b||"offset","an integer",K)):C<0?new Qe.ERR_BUFFER_OUT_OF_BOUNDS:new Qe.ERR_OUT_OF_RANGE(b||"offset",`>= ${b?1:0} and <= ${C}`,K)}ke("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ke("ERR_INVALID_ARG_TYPE",function(K,C){return`The "${K}" argument must be of type number. Received type ${typeof C}`},TypeError),ke("ERR_OUT_OF_RANGE",function(K,C,b){let z=`The value of "${K}" is out of range.`,le=b;return Number.isInteger(b)&&Math.abs(b)>2**32?le=Ie(String(b)):"bigint"==typeof b&&(le=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(le=Ie(le)),le+="n"),z+=` It must be ${C}. Received ${le}`,z},RangeError);const be=/[^+/0-9A-Za-z-_]/g;function fe(K,C){let b;C=C||1/0;const z=K.length;let le=null;const Ae=[];for(let Be=0;Be<z;++Be){if(b=K.charCodeAt(Be),b>55295&&b<57344){if(!le){if(b>56319){(C-=3)>-1&&Ae.push(239,191,189);continue}if(Be+1===z){(C-=3)>-1&&Ae.push(239,191,189);continue}le=b;continue}if(b<56320){(C-=3)>-1&&Ae.push(239,191,189),le=b;continue}b=65536+(le-55296<<10|b-56320)}else le&&(C-=3)>-1&&Ae.push(239,191,189);if(le=null,b<128){if((C-=1)<0)break;Ae.push(b)}else if(b<2048){if((C-=2)<0)break;Ae.push(b>>6|192,63&b|128)}else if(b<65536){if((C-=3)<0)break;Ae.push(b>>12|224,b>>6&63|128,63&b|128)}else{if(!(b<1114112))throw new Error("Invalid code point");if((C-=4)<0)break;Ae.push(b>>18|240,b>>12&63|128,b>>6&63|128,63&b|128)}}return Ae}function $e(K){return h.toByteArray(function oe(K){if((K=(K=K.split("=")[0]).trim().replace(be,"")).length<2)return"";for(;K.length%4!=0;)K+="=";return K}(K))}function Je(K,C,b,z){let le;for(le=0;le<z&&!(le+b>=C.length||le>=K.length);++le)C[le+b]=K[le];return le}function Ze(K,C){return K instanceof C||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===C.name}function Pt(K){return K!=K}const nt=function(){const K="0123456789abcdef",C=new Array(256);for(let b=0;b<16;++b){const z=16*b;for(let le=0;le<16;++le)C[z+le]=K[b]+K[le]}return C}();function Ge(K){return typeof BigInt>"u"?Et:K}function Et(){throw new Error("BigInt not supported")}},49609:(Ye,J,A)=>{var h=J;h.bignum=A(96867),h.define=A(16626).define,h.base=A(15066),h.constants=A(47740),h.decoders=A(91558),h.encoders=A(22714)},16626:(Ye,J,A)=>{var h=A(49609),x=A(71993);function Y(M,j){this.name=M,this.body=j,this.decoders={},this.encoders={}}J.define=function(j,R){return new Y(j,R)},Y.prototype._createNamed=function(j){var R;try{R=Object(function(){var H=new Error("Cannot find module 'vm'");throw H.code="MODULE_NOT_FOUND",H}())("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch{R=function(H){this._initNamed(H)}}return x(R,j),R.prototype._initNamed=function(H){j.call(this,H)},new R(this)},Y.prototype._getDecoder=function(j){return this.decoders.hasOwnProperty(j=j||"der")||(this.decoders[j]=this._createNamed(h.decoders[j])),this.decoders[j]},Y.prototype.decode=function(j,R,U){return this._getDecoder(R).decode(j,U)},Y.prototype._getEncoder=function(j){return this.encoders.hasOwnProperty(j=j||"der")||(this.encoders[j]=this._createNamed(h.encoders[j])),this.encoders[j]},Y.prototype.encode=function(j,R,U){return this._getEncoder(R).encode(j,U)}},97290:(Ye,J,A)=>{var h=A(71993),x=A(15066).Reporter,N=A(83838).Buffer;function Y(j,R){x.call(this,R),N.isBuffer(j)?(this.base=j,this.offset=0,this.length=j.length):this.error("Input not Buffer")}function M(j,R){if(Array.isArray(j))this.length=0,this.value=j.map(function(U){return U instanceof M||(U=new M(U,R)),this.length+=U.length,U},this);else if("number"==typeof j){if(!(0<=j&&j<=255))return R.error("non-byte EncoderBuffer value");this.value=j,this.length=1}else if("string"==typeof j)this.value=j,this.length=N.byteLength(j);else{if(!N.isBuffer(j))return R.error("Unsupported type: "+typeof j);this.value=j,this.length=j.length}}h(Y,x),J.t=Y,Y.prototype.save=function(){return{offset:this.offset,reporter:x.prototype.save.call(this)}},Y.prototype.restore=function(R){var U=new Y(this.base);return U.offset=R.offset,U.length=this.offset,this.offset=R.offset,x.prototype.restore.call(this,R.reporter),U},Y.prototype.isEmpty=function(){return this.offset===this.length},Y.prototype.readUInt8=function(R){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(R||"DecoderBuffer overrun")},Y.prototype.skip=function(R,U){if(!(this.offset+R<=this.length))return this.error(U||"DecoderBuffer overrun");var H=new Y(this.base);return H._reporterState=this._reporterState,H.offset=this.offset,H.length=this.offset+R,this.offset+=R,H},Y.prototype.raw=function(R){return this.base.slice(R?R.offset:this.offset,this.length)},J.d=M,M.prototype.join=function(R,U){return R||(R=new N(this.length)),U||(U=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(H){H.join(R,U),U+=H.length}):("number"==typeof this.value?R[U]=this.value:"string"==typeof this.value?R.write(this.value,U):N.isBuffer(this.value)&&this.value.copy(R,U),U+=this.length)),R}},15066:(Ye,J,A)=>{var h=J;h.Reporter=A(85697).a,h.DecoderBuffer=A(97290).t,h.EncoderBuffer=A(97290).d,h.Node=A(34320)},34320:(Ye,J,A)=>{var h=A(15066).Reporter,x=A(15066).EncoderBuffer,N=A(15066).DecoderBuffer,Y=A(39210),M=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],j=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(M);function U(V,P){var ee={};this._baseState=ee,ee.enc=V,ee.parent=P||null,ee.children=null,ee.tag=null,ee.args=null,ee.reverseArgs=null,ee.choice=null,ee.optional=!1,ee.any=!1,ee.obj=!1,ee.use=null,ee.useDecoder=null,ee.key=null,ee.default=null,ee.explicit=null,ee.implicit=null,ee.contains=null,ee.parent||(ee.children=[],this._wrap())}Ye.exports=U;var H=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];U.prototype.clone=function(){var P=this._baseState,ee={};H.forEach(function(Q){ee[Q]=P[Q]});var W=new this.constructor(ee.parent);return W._baseState=ee,W},U.prototype._wrap=function(){var P=this._baseState;j.forEach(function(ee){this[ee]=function(){var Q=new this.constructor(this);return P.children.push(Q),Q[ee].apply(Q,arguments)}},this)},U.prototype._init=function(P){var ee=this._baseState;Y(null===ee.parent),P.call(this),ee.children=ee.children.filter(function(W){return W._baseState.parent===this},this),Y.equal(ee.children.length,1,"Root node can have only one child")},U.prototype._useArgs=function(P){var ee=this._baseState,W=P.filter(function(Q){return Q instanceof this.constructor},this);P=P.filter(function(Q){return!(Q instanceof this.constructor)},this),0!==W.length&&(Y(null===ee.children),ee.children=W,W.forEach(function(Q){Q._baseState.parent=this},this)),0!==P.length&&(Y(null===ee.args),ee.args=P,ee.reverseArgs=P.map(function(Q){if("object"!=typeof Q||Q.constructor!==Object)return Q;var de={};return Object.keys(Q).forEach(function(ae){ae==(0|ae)&&(ae|=0),de[Q[ae]]=ae}),de}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(V){U.prototype[V]=function(){throw new Error(V+" not implemented for encoding: "+this._baseState.enc)}}),M.forEach(function(V){U.prototype[V]=function(){var ee=this._baseState,W=Array.prototype.slice.call(arguments);return Y(null===ee.tag),ee.tag=V,this._useArgs(W),this}}),U.prototype.use=function(P){Y(P);var ee=this._baseState;return Y(null===ee.use),ee.use=P,this},U.prototype.optional=function(){return this._baseState.optional=!0,this},U.prototype.def=function(P){var ee=this._baseState;return Y(null===ee.default),ee.default=P,ee.optional=!0,this},U.prototype.explicit=function(P){var ee=this._baseState;return Y(null===ee.explicit&&null===ee.implicit),ee.explicit=P,this},U.prototype.implicit=function(P){var ee=this._baseState;return Y(null===ee.explicit&&null===ee.implicit),ee.implicit=P,this},U.prototype.obj=function(){var P=this._baseState,ee=Array.prototype.slice.call(arguments);return P.obj=!0,0!==ee.length&&this._useArgs(ee),this},U.prototype.key=function(P){var ee=this._baseState;return Y(null===ee.key),ee.key=P,this},U.prototype.any=function(){return this._baseState.any=!0,this},U.prototype.choice=function(P){var ee=this._baseState;return Y(null===ee.choice),ee.choice=P,this._useArgs(Object.keys(P).map(function(W){return P[W]})),this},U.prototype.contains=function(P){var ee=this._baseState;return Y(null===ee.use),ee.contains=P,this},U.prototype._decode=function(P,ee){var W=this._baseState;if(null===W.parent)return P.wrapResult(W.children[0]._decode(P,ee));var ue,Q=W.default,de=!0,ae=null;if(null!==W.key&&(ae=P.enterKey(W.key)),W.optional){var re=null;if(null!==W.explicit?re=W.explicit:null!==W.implicit?re=W.implicit:null!==W.tag&&(re=W.tag),null!==re||W.any){if(de=this._peekTag(P,re,W.any),P.isError(de))return de}else{var te=P.save();try{null===W.choice?this._decodeGeneric(W.tag,P,ee):this._decodeChoice(P,ee),de=!0}catch{de=!1}P.restore(te)}}if(W.obj&&de&&(ue=P.enterObject()),de){if(null!==W.explicit){var pe=this._decodeTag(P,W.explicit);if(P.isError(pe))return pe;P=pe}var he=P.offset;if(null===W.use&&null===W.choice){W.any&&(te=P.save());var ve=this._decodeTag(P,null!==W.implicit?W.implicit:W.tag,W.any);if(P.isError(ve))return ve;W.any?Q=P.raw(te):P=ve}if(ee&&ee.track&&null!==W.tag&&ee.track(P.path(),he,P.length,"tagged"),ee&&ee.track&&null!==W.tag&&ee.track(P.path(),P.offset,P.length,"content"),W.any||(Q=null===W.choice?this._decodeGeneric(W.tag,P,ee):this._decodeChoice(P,ee)),P.isError(Q))return Q;if(!W.any&&null===W.choice&&null!==W.children&&W.children.forEach(function(Oe){Oe._decode(P,ee)}),W.contains&&("octstr"===W.tag||"bitstr"===W.tag)){var ge=new N(Q);Q=this._getUse(W.contains,P._reporterState.obj)._decode(ge,ee)}}return W.obj&&de&&(Q=P.leaveObject(ue)),null===W.key||null===Q&&!0!==de?null!==ae&&P.exitKey(ae):P.leaveKey(ae,W.key,Q),Q},U.prototype._decodeGeneric=function(P,ee,W){var Q=this._baseState;return"seq"===P||"set"===P?null:"seqof"===P||"setof"===P?this._decodeList(ee,P,Q.args[0],W):/str$/.test(P)?this._decodeStr(ee,P,W):"objid"===P&&Q.args?this._decodeObjid(ee,Q.args[0],Q.args[1],W):"objid"===P?this._decodeObjid(ee,null,null,W):"gentime"===P||"utctime"===P?this._decodeTime(ee,P,W):"null_"===P?this._decodeNull(ee,W):"bool"===P?this._decodeBool(ee,W):"objDesc"===P?this._decodeStr(ee,P,W):"int"===P||"enum"===P?this._decodeInt(ee,Q.args&&Q.args[0],W):null!==Q.use?this._getUse(Q.use,ee._reporterState.obj)._decode(ee,W):ee.error("unknown tag: "+P)},U.prototype._getUse=function(P,ee){var W=this._baseState;return W.useDecoder=this._use(P,ee),Y(null===W.useDecoder._baseState.parent),W.useDecoder=W.useDecoder._baseState.children[0],W.implicit!==W.useDecoder._baseState.implicit&&(W.useDecoder=W.useDecoder.clone(),W.useDecoder._baseState.implicit=W.implicit),W.useDecoder},U.prototype._decodeChoice=function(P,ee){var W=this._baseState,Q=null,de=!1;return Object.keys(W.choice).some(function(ae){var re=P.save(),te=W.choice[ae];try{var ue=te._decode(P,ee);if(P.isError(ue))return!1;Q={type:ae,value:ue},de=!0}catch{return P.restore(re),!1}return!0},this),de?Q:P.error("Choice not matched")},U.prototype._createEncoderBuffer=function(P){return new x(P,this.reporter)},U.prototype._encode=function(P,ee,W){var Q=this._baseState;if(null===Q.default||Q.default!==P){var de=this._encodeValue(P,ee,W);if(void 0!==de&&!this._skipDefault(de,ee,W))return de}},U.prototype._encodeValue=function(P,ee,W){var Q=this._baseState;if(null===Q.parent)return Q.children[0]._encode(P,ee||new h);var te=null;if(this.reporter=ee,Q.optional&&void 0===P){if(null===Q.default)return;P=Q.default}var de=null,ae=!1;if(Q.any)te=this._createEncoderBuffer(P);else if(Q.choice)te=this._encodeChoice(P,ee);else if(Q.contains)de=this._getUse(Q.contains,W)._encode(P,ee),ae=!0;else if(Q.children)de=Q.children.map(function(he){if("null_"===he._baseState.tag)return he._encode(null,ee,P);if(null===he._baseState.key)return ee.error("Child should have a key");var ve=ee.enterKey(he._baseState.key);if("object"!=typeof P)return ee.error("Child expected, but input is not object");var ge=he._encode(P[he._baseState.key],ee,P);return ee.leaveKey(ve),ge},this).filter(function(he){return he}),de=this._createEncoderBuffer(de);else if("seqof"===Q.tag||"setof"===Q.tag){if(!Q.args||1!==Q.args.length)return ee.error("Too many args for : "+Q.tag);if(!Array.isArray(P))return ee.error("seqof/setof, but data is not Array");var re=this.clone();re._baseState.implicit=null,de=this._createEncoderBuffer(P.map(function(he){return this._getUse(this._baseState.args[0],P)._encode(he,ee)},re))}else null!==Q.use?te=this._getUse(Q.use,W)._encode(P,ee):(de=this._encodePrimitive(Q.tag,P),ae=!0);if(!Q.any&&null===Q.choice){var ue=null!==Q.implicit?Q.implicit:Q.tag,pe=null===Q.implicit?"universal":"context";null===ue?null===Q.use&&ee.error("Tag could be omitted only for .use()"):null===Q.use&&(te=this._encodeComposite(ue,ae,pe,de))}return null!==Q.explicit&&(te=this._encodeComposite(Q.explicit,!1,"context",te)),te},U.prototype._encodeChoice=function(P,ee){var W=this._baseState,Q=W.choice[P.type];return Q||Y(!1,P.type+" not found in "+JSON.stringify(Object.keys(W.choice))),Q._encode(P.value,ee)},U.prototype._encodePrimitive=function(P,ee){var W=this._baseState;if(/str$/.test(P))return this._encodeStr(ee,P);if("objid"===P&&W.args)return this._encodeObjid(ee,W.reverseArgs[0],W.args[1]);if("objid"===P)return this._encodeObjid(ee,null,null);if("gentime"===P||"utctime"===P)return this._encodeTime(ee,P);if("null_"===P)return this._encodeNull();if("int"===P||"enum"===P)return this._encodeInt(ee,W.args&&W.reverseArgs[0]);if("bool"===P)return this._encodeBool(ee);if("objDesc"===P)return this._encodeStr(ee,P);throw new Error("Unsupported tag: "+P)},U.prototype._isNumstr=function(P){return/^[0-9 ]*$/.test(P)},U.prototype._isPrintstr=function(P){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(P)}},85697:(Ye,J,A)=>{var h=A(71993);function x(Y){this._reporterState={obj:null,path:[],options:Y||{},errors:[]}}function N(Y,M){this.path=Y,this.rethrow(M)}J.a=x,x.prototype.isError=function(M){return M instanceof N},x.prototype.save=function(){var M=this._reporterState;return{obj:M.obj,pathLen:M.path.length}},x.prototype.restore=function(M){var j=this._reporterState;j.obj=M.obj,j.path=j.path.slice(0,M.pathLen)},x.prototype.enterKey=function(M){return this._reporterState.path.push(M)},x.prototype.exitKey=function(M){var j=this._reporterState;j.path=j.path.slice(0,M-1)},x.prototype.leaveKey=function(M,j,R){var U=this._reporterState;this.exitKey(M),null!==U.obj&&(U.obj[j]=R)},x.prototype.path=function(){return this._reporterState.path.join("/")},x.prototype.enterObject=function(){var M=this._reporterState,j=M.obj;return M.obj={},j},x.prototype.leaveObject=function(M){var j=this._reporterState,R=j.obj;return j.obj=M,R},x.prototype.error=function(M){var j,R=this._reporterState,U=M instanceof N;if(j=U?M:new N(R.path.map(function(H){return"["+JSON.stringify(H)+"]"}).join(""),M.message||M,M.stack),!R.options.partial)throw j;return U||R.errors.push(j),j},x.prototype.wrapResult=function(M){var j=this._reporterState;return j.options.partial?{result:this.isError(M)?null:M,errors:j.errors}:M},h(N,Error),N.prototype.rethrow=function(M){if(this.message=M+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,N),!this.stack)try{throw new Error(this.message)}catch(j){this.stack=j.stack}return this}},36283:(Ye,J,A)=>{var h=A(47740);J.tagClass={0:"universal",1:"application",2:"context",3:"private"},J.tagClassByName=h._reverse(J.tagClass),J.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},J.tagByName=h._reverse(J.tag)},47740:(Ye,J,A)=>{var h=J;h._reverse=function(N){var Y={};return Object.keys(N).forEach(function(M){(0|M)==M&&(M|=0),Y[N[M]]=M}),Y},h.der=A(36283)},55941:(Ye,J,A)=>{var h=A(71993),x=A(49609),N=x.base,Y=x.bignum,M=x.constants.der;function j(V){this.enc="der",this.name=V.name,this.entity=V,this.tree=new R,this.tree._init(V.body)}function R(V){N.Node.call(this,"der",V)}function U(V,P){var ee=V.readUInt8(P);if(V.isError(ee))return ee;var W=M.tagClass[ee>>6],Q=!(32&ee);if(31&~ee)ee&=31;else{var de=ee;for(ee=0;!(128&~de);){if(de=V.readUInt8(P),V.isError(de))return de;ee<<=7,ee|=127&de}}return{cls:W,primitive:Q,tag:ee,tagStr:M.tag[ee]}}function H(V,P,ee){var W=V.readUInt8(ee);if(V.isError(W))return W;if(!P&&128===W)return null;if(!(128&W))return W;var Q=127&W;if(Q>4)return V.error("length octect is too long");W=0;for(var de=0;de<Q;de++){W<<=8;var ae=V.readUInt8(ee);if(V.isError(ae))return ae;W|=ae}return W}Ye.exports=j,j.prototype.decode=function(P,ee){return P instanceof N.DecoderBuffer||(P=new N.DecoderBuffer(P,ee)),this.tree._decode(P,ee)},h(R,N.Node),R.prototype._peekTag=function(P,ee,W){if(P.isEmpty())return!1;var Q=P.save(),de=U(P,'Failed to peek tag: "'+ee+'"');return P.isError(de)?de:(P.restore(Q),de.tag===ee||de.tagStr===ee||de.tagStr+"of"===ee||W)},R.prototype._decodeTag=function(P,ee,W){var Q=U(P,'Failed to decode tag of "'+ee+'"');if(P.isError(Q))return Q;var de=H(P,Q.primitive,'Failed to get length of "'+ee+'"');if(P.isError(de))return de;if(!W&&Q.tag!==ee&&Q.tagStr!==ee&&Q.tagStr+"of"!==ee)return P.error('Failed to match tag: "'+ee+'"');if(Q.primitive||null!==de)return P.skip(de,'Failed to match body of: "'+ee+'"');var ae=P.save(),re=this._skipUntilEnd(P,'Failed to skip indefinite length body: "'+this.tag+'"');return P.isError(re)?re:(de=P.offset-ae.offset,P.restore(ae),P.skip(de,'Failed to match body of: "'+ee+'"'))},R.prototype._skipUntilEnd=function(P,ee){for(;;){var W=U(P,ee);if(P.isError(W))return W;var de,Q=H(P,W.primitive,ee);if(P.isError(Q))return Q;if(de=W.primitive||null!==Q?P.skip(Q):this._skipUntilEnd(P,ee),P.isError(de))return de;if("end"===W.tagStr)break}},R.prototype._decodeList=function(P,ee,W,Q){for(var de=[];!P.isEmpty();){var ae=this._peekTag(P,"end");if(P.isError(ae))return ae;var re=W.decode(P,"der",Q);if(P.isError(re)&&ae)break;de.push(re)}return de},R.prototype._decodeStr=function(P,ee){if("bitstr"===ee){var W=P.readUInt8();return P.isError(W)?W:{unused:W,data:P.raw()}}if("bmpstr"===ee){var Q=P.raw();if(Q.length%2==1)return P.error("Decoding of string type: bmpstr length mismatch");for(var de="",ae=0;ae<Q.length/2;ae++)de+=String.fromCharCode(Q.readUInt16BE(2*ae));return de}if("numstr"===ee){var re=P.raw().toString("ascii");return this._isNumstr(re)?re:P.error("Decoding of string type: numstr unsupported characters")}if("octstr"===ee)return P.raw();if("objDesc"===ee)return P.raw();if("printstr"===ee){var te=P.raw().toString("ascii");return this._isPrintstr(te)?te:P.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(ee)?P.raw().toString():P.error("Decoding of string type: "+ee+" unsupported")},R.prototype._decodeObjid=function(P,ee,W){for(var Q,de=[],ae=0;!P.isEmpty();){var re=P.readUInt8();ae<<=7,ae|=127&re,128&re||(de.push(ae),ae=0)}if(128&re&&de.push(ae),Q=W?de:[de[0]/40|0,de[0]%40].concat(de.slice(1)),ee){var pe=ee[Q.join(" ")];void 0===pe&&(pe=ee[Q.join(".")]),void 0!==pe&&(Q=pe)}return Q},R.prototype._decodeTime=function(P,ee){var W=P.raw().toString();if("gentime"===ee)var Q=0|W.slice(0,4),de=0|W.slice(4,6),ae=0|W.slice(6,8),re=0|W.slice(8,10),te=0|W.slice(10,12),ue=0|W.slice(12,14);else{if("utctime"!==ee)return P.error("Decoding "+ee+" time is not supported yet");Q=0|W.slice(0,2),de=0|W.slice(2,4),ae=0|W.slice(4,6),re=0|W.slice(6,8),te=0|W.slice(8,10),ue=0|W.slice(10,12),Q=Q<70?2e3+Q:1900+Q}return Date.UTC(Q,de-1,ae,re,te,ue,0)},R.prototype._decodeNull=function(P){return null},R.prototype._decodeBool=function(P){var ee=P.readUInt8();return P.isError(ee)?ee:0!==ee},R.prototype._decodeInt=function(P,ee){var W=P.raw(),Q=new Y(W);return ee&&(Q=ee[Q.toString(10)]||Q),Q},R.prototype._use=function(P,ee){return"function"==typeof P&&(P=P(ee)),P._getDecoder("der").tree}},91558:(Ye,J,A)=>{var h=J;h.der=A(55941),h.pem=A(59316)},59316:(Ye,J,A)=>{var h=A(71993),x=A(83838).Buffer,N=A(55941);function Y(M){N.call(this,M),this.enc="pem"}h(Y,N),Ye.exports=Y,Y.prototype.decode=function(j,R){for(var U=j.toString().split(/[\r\n]+/g),H=R.label.toUpperCase(),V=/^-----(BEGIN|END) ([^-]+)-----$/,P=-1,ee=-1,W=0;W<U.length;W++){var Q=U[W].match(V);if(null!==Q&&Q[2]===H){if(-1!==P){if("END"!==Q[1])break;ee=W;break}if("BEGIN"!==Q[1])break;P=W}}if(-1===P||-1===ee)throw new Error("PEM section not found for: "+H);var de=U.slice(P+1,ee).join("");de.replace(/[^a-z0-9\+\/=]+/gi,"");var ae=new x(de,"base64");return N.prototype.decode.call(this,ae,R)}},72193:(Ye,J,A)=>{var h=A(71993),x=A(83838).Buffer,N=A(49609),Y=N.base,M=N.constants.der;function j(V){this.enc="der",this.name=V.name,this.entity=V,this.tree=new R,this.tree._init(V.body)}function R(V){Y.Node.call(this,"der",V)}function U(V){return V<10?"0"+V:V}Ye.exports=j,j.prototype.encode=function(P,ee){return this.tree._encode(P,ee).join()},h(R,Y.Node),R.prototype._encodeComposite=function(P,ee,W,Q){var te,de=function H(V,P,ee,W){var Q;if("seqof"===V?V="seq":"setof"===V&&(V="set"),M.tagByName.hasOwnProperty(V))Q=M.tagByName[V];else{if("number"!=typeof V||(0|V)!==V)return W.error("Unknown tag: "+V);Q=V}return Q>=31?W.error("Multi-octet tag encoding unsupported"):(P||(Q|=32),Q|=M.tagClassByName[ee||"universal"]<<6)}(P,ee,W,this.reporter);if(Q.length<128)return(te=new x(2))[0]=de,te[1]=Q.length,this._createEncoderBuffer([te,Q]);for(var ae=1,re=Q.length;re>=256;re>>=8)ae++;(te=new x(2+ae))[0]=de,te[1]=128|ae,re=1+ae;for(var ue=Q.length;ue>0;re--,ue>>=8)te[re]=255&ue;return this._createEncoderBuffer([te,Q])},R.prototype._encodeStr=function(P,ee){if("bitstr"===ee)return this._createEncoderBuffer([0|P.unused,P.data]);if("bmpstr"===ee){for(var W=new x(2*P.length),Q=0;Q<P.length;Q++)W.writeUInt16BE(P.charCodeAt(Q),2*Q);return this._createEncoderBuffer(W)}return"numstr"===ee?this._isNumstr(P)?this._createEncoderBuffer(P):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===ee?this._isPrintstr(P)?this._createEncoderBuffer(P):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(ee)||"objDesc"===ee?this._createEncoderBuffer(P):this.reporter.error("Encoding of string type: "+ee+" unsupported")},R.prototype._encodeObjid=function(P,ee,W){if("string"==typeof P){if(!ee)return this.reporter.error("string objid given, but no values map found");if(!ee.hasOwnProperty(P))return this.reporter.error("objid not found in values map");P=ee[P].split(/[\s\.]+/g);for(var Q=0;Q<P.length;Q++)P[Q]|=0}else if(Array.isArray(P))for(P=P.slice(),Q=0;Q<P.length;Q++)P[Q]|=0;if(!Array.isArray(P))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(P));if(!W){if(P[1]>=40)return this.reporter.error("Second objid identifier OOB");P.splice(0,2,40*P[0]+P[1])}var de=0;for(Q=0;Q<P.length;Q++){var ae=P[Q];for(de++;ae>=128;ae>>=7)de++}var re=new x(de),te=re.length-1;for(Q=P.length-1;Q>=0;Q--)for(re[te--]=127&(ae=P[Q]);(ae>>=7)>0;)re[te--]=128|127&ae;return this._createEncoderBuffer(re)},R.prototype._encodeTime=function(P,ee){var W,Q=new Date(P);return"gentime"===ee?W=[U(Q.getFullYear()),U(Q.getUTCMonth()+1),U(Q.getUTCDate()),U(Q.getUTCHours()),U(Q.getUTCMinutes()),U(Q.getUTCSeconds()),"Z"].join(""):"utctime"===ee?W=[U(Q.getFullYear()%100),U(Q.getUTCMonth()+1),U(Q.getUTCDate()),U(Q.getUTCHours()),U(Q.getUTCMinutes()),U(Q.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+ee+" time is not supported yet"),this._encodeStr(W,"octstr")},R.prototype._encodeNull=function(){return this._createEncoderBuffer("")},R.prototype._encodeInt=function(P,ee){if("string"==typeof P){if(!ee)return this.reporter.error("String int or enum given, but no values map");if(!ee.hasOwnProperty(P))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(P));P=ee[P]}if("number"!=typeof P&&!x.isBuffer(P)){var W=P.toArray();!P.sign&&128&W[0]&&W.unshift(0),P=new x(W)}if(x.isBuffer(P)){var Q=P.length;0===P.length&&Q++;var ae=new x(Q);return P.copy(ae),0===P.length&&(ae[0]=0),this._createEncoderBuffer(ae)}if(P<128)return this._createEncoderBuffer(P);if(P<256)return this._createEncoderBuffer([0,P]);Q=1;for(var de=P;de>=256;de>>=8)Q++;for(de=(ae=new Array(Q)).length-1;de>=0;de--)ae[de]=255&P,P>>=8;return 128&ae[0]&&ae.unshift(0),this._createEncoderBuffer(new x(ae))},R.prototype._encodeBool=function(P){return this._createEncoderBuffer(P?255:0)},R.prototype._use=function(P,ee){return"function"==typeof P&&(P=P(ee)),P._getEncoder("der").tree},R.prototype._skipDefault=function(P,ee,W){var de,Q=this._baseState;if(null===Q.default)return!1;var ae=P.join();if(void 0===Q.defaultBuffer&&(Q.defaultBuffer=this._encodeValue(Q.default,ee,W).join()),ae.length!==Q.defaultBuffer.length)return!1;for(de=0;de<ae.length;de++)if(ae[de]!==Q.defaultBuffer[de])return!1;return!0}},22714:(Ye,J,A)=>{var h=J;h.der=A(72193),h.pem=A(24816)},24816:(Ye,J,A)=>{var h=A(71993),x=A(72193);function N(Y){x.call(this,Y),this.enc="pem"}h(N,x),Ye.exports=N,N.prototype.encode=function(M,j){for(var U=x.prototype.encode.call(this,M).toString("base64"),H=["-----BEGIN "+j.label+"-----"],V=0;V<U.length;V+=64)H.push(U.slice(V,V+64));return H.push("-----END "+j.label+"-----"),H.join("\n")}},96867:function(Ye,J,A){!function(h,x){"use strict";function N(B,l){if(!B)throw new Error(l||"Assertion failed")}function Y(B,l){B.super_=l;var f=function(){};f.prototype=l.prototype,B.prototype=new f,B.prototype.constructor=B}function M(B,l,f){if(M.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,null!==B&&(("le"===l||"be"===l)&&(f=l,l=10),this._init(B||0,l||10,f||"be"))}var j;"object"==typeof h?h.exports=M:x.BN=M,M.BN=M,M.wordSize=26;try{j=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:A(78982).Buffer}catch{}function R(B,l){var f=B.charCodeAt(l);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function U(B,l,f){var w=R(B,f);return f-1>=l&&(w|=R(B,f-1)<<4),w}function H(B,l,f,w){for(var _=0,D=Math.min(B.length,f),O=l;O<D;O++){var $=B.charCodeAt(O)-48;_*=w,_+=$>=49?$-49+10:$>=17?$-17+10:$}return _}M.isBN=function(l){return l instanceof M||null!==l&&"object"==typeof l&&l.constructor.wordSize===M.wordSize&&Array.isArray(l.words)},M.max=function(l,f){return l.cmp(f)>0?l:f},M.min=function(l,f){return l.cmp(f)<0?l:f},M.prototype._init=function(l,f,w){if("number"==typeof l)return this._initNumber(l,f,w);if("object"==typeof l)return this._initArray(l,f,w);"hex"===f&&(f=16),N(f===(0|f)&&f>=2&&f<=36);var _=0;"-"===(l=l.toString().replace(/\s+/g,""))[0]&&(_++,this.negative=1),_<l.length&&(16===f?this._parseHex(l,_,w):(this._parseBase(l,f,_),"le"===w&&this._initArray(this.toArray(),f,w)))},M.prototype._initNumber=function(l,f,w){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[67108863&l],this.length=1):l<4503599627370496?(this.words=[67108863&l,l/67108864&67108863],this.length=2):(N(l<9007199254740992),this.words=[67108863&l,l/67108864&67108863,1],this.length=3),"le"===w&&this._initArray(this.toArray(),f,w)},M.prototype._initArray=function(l,f,w){if(N("number"==typeof l.length),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var D,O,$=0;if("be"===w)for(_=l.length-1,D=0;_>=0;_-=3)this.words[D]|=(O=l[_]|l[_-1]<<8|l[_-2]<<16)<<$&67108863,this.words[D+1]=O>>>26-$&67108863,($+=24)>=26&&($-=26,D++);else if("le"===w)for(_=0,D=0;_<l.length;_+=3)this.words[D]|=(O=l[_]|l[_+1]<<8|l[_+2]<<16)<<$&67108863,this.words[D+1]=O>>>26-$&67108863,($+=24)>=26&&($-=26,D++);return this.strip()},M.prototype._parseHex=function(l,f,w){this.length=Math.ceil((l.length-f)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var $,D=0,O=0;if("be"===w)for(_=l.length-1;_>=f;_-=2)$=U(l,f,_)<<D,this.words[O]|=67108863&$,D>=18?(D-=18,this.words[O+=1]|=$>>>26):D+=8;else for(_=(l.length-f)%2==0?f+1:f;_<l.length;_+=2)$=U(l,f,_)<<D,this.words[O]|=67108863&$,D>=18?(D-=18,this.words[O+=1]|=$>>>26):D+=8;this.strip()},M.prototype._parseBase=function(l,f,w){this.words=[0],this.length=1;for(var _=0,D=1;D<=67108863;D*=f)_++;_--,D=D/f|0;for(var O=l.length-w,$=O%_,T=Math.min(O,O-$)+w,c=0,E=w;E<T;E+=_)c=H(l,E,E+_,f),this.imuln(D),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==$){var q=1;for(c=H(l,E,l.length,f),E=0;E<$;E++)q*=f;this.imuln(q),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},M.prototype.copy=function(l){l.words=new Array(this.length);for(var f=0;f<this.length;f++)l.words[f]=this.words[f];l.length=this.length,l.negative=this.negative,l.red=this.red},M.prototype.clone=function(){var l=new M(null);return this.copy(l),l},M.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},M.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},M.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},M.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var V=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],P=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ee=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Q(B,l,f){f.negative=l.negative^B.negative;var w=B.length+l.length|0;f.length=w,w=w-1|0;var _=0|B.words[0],D=0|l.words[0],O=_*D,T=O/67108864|0;f.words[0]=67108863&O;for(var c=1;c<w;c++){for(var E=T>>>26,q=67108863&T,X=Math.min(c,l.length-1),ce=Math.max(0,c-B.length+1);ce<=X;ce++)E+=(O=(_=0|B.words[c-ce|0])*(D=0|l.words[ce])+q)/67108864|0,q=67108863&O;f.words[c]=0|q,T=0|E}return 0!==T?f.words[c]=0|T:f.length--,f.strip()}M.prototype.toString=function(l,f){var w;if(f=0|f||1,16===(l=l||10)||"hex"===l){w="";for(var _=0,D=0,O=0;O<this.length;O++){var $=this.words[O],T=(16777215&($<<_|D)).toString(16);w=0!=(D=$>>>24-_&16777215)||O!==this.length-1?V[6-T.length]+T+w:T+w,(_+=2)>=26&&(_-=26,O--)}for(0!==D&&(w=D.toString(16)+w);w.length%f!=0;)w="0"+w;return 0!==this.negative&&(w="-"+w),w}if(l===(0|l)&&l>=2&&l<=36){var c=P[l],E=ee[l];w="";var q=this.clone();for(q.negative=0;!q.isZero();){var X=q.modn(E).toString(l);w=(q=q.idivn(E)).isZero()?X+w:V[c-X.length]+X+w}for(this.isZero()&&(w="0"+w);w.length%f!=0;)w="0"+w;return 0!==this.negative&&(w="-"+w),w}N(!1,"Base should be between 2 and 36")},M.prototype.toNumber=function(){var l=this.words[0];return 2===this.length?l+=67108864*this.words[1]:3===this.length&&1===this.words[2]?l+=4503599627370496+67108864*this.words[1]:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-l:l},M.prototype.toJSON=function(){return this.toString(16)},M.prototype.toBuffer=function(l,f){return N(typeof j<"u"),this.toArrayLike(j,l,f)},M.prototype.toArray=function(l,f){return this.toArrayLike(Array,l,f)},M.prototype.toArrayLike=function(l,f,w){var _=this.byteLength(),D=w||Math.max(1,_);N(_<=D,"byte array longer than desired length"),N(D>0,"Requested array length <= 0"),this.strip();var T,c,O="le"===f,$=new l(D),E=this.clone();if(O){for(c=0;!E.isZero();c++)T=E.andln(255),E.iushrn(8),$[c]=T;for(;c<D;c++)$[c]=0}else{for(c=0;c<D-_;c++)$[c]=0;for(c=0;!E.isZero();c++)T=E.andln(255),E.iushrn(8),$[D-c-1]=T}return $},M.prototype._countBits=Math.clz32?function(l){return 32-Math.clz32(l)}:function(l){var f=l,w=0;return f>=4096&&(w+=13,f>>>=13),f>=64&&(w+=7,f>>>=7),f>=8&&(w+=4,f>>>=4),f>=2&&(w+=2,f>>>=2),w+f},M.prototype._zeroBits=function(l){if(0===l)return 26;var f=l,w=0;return 8191&f||(w+=13,f>>>=13),127&f||(w+=7,f>>>=7),15&f||(w+=4,f>>>=4),3&f||(w+=2,f>>>=2),1&f||w++,w},M.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},M.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,f=0;f<this.length;f++){var w=this._zeroBits(this.words[f]);if(l+=w,26!==w)break}return l},M.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},M.prototype.toTwos=function(l){return 0!==this.negative?this.abs().inotn(l).iaddn(1):this.clone()},M.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},M.prototype.isNeg=function(){return 0!==this.negative},M.prototype.neg=function(){return this.clone().ineg()},M.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},M.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var f=0;f<l.length;f++)this.words[f]=this.words[f]|l.words[f];return this.strip()},M.prototype.ior=function(l){return N(!(this.negative|l.negative)),this.iuor(l)},M.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},M.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},M.prototype.iuand=function(l){var f;f=this.length>l.length?l:this;for(var w=0;w<f.length;w++)this.words[w]=this.words[w]&l.words[w];return this.length=f.length,this.strip()},M.prototype.iand=function(l){return N(!(this.negative|l.negative)),this.iuand(l)},M.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},M.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},M.prototype.iuxor=function(l){var f,w;this.length>l.length?(f=this,w=l):(f=l,w=this);for(var _=0;_<w.length;_++)this.words[_]=f.words[_]^w.words[_];if(this!==f)for(;_<f.length;_++)this.words[_]=f.words[_];return this.length=f.length,this.strip()},M.prototype.ixor=function(l){return N(!(this.negative|l.negative)),this.iuxor(l)},M.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},M.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},M.prototype.inotn=function(l){N("number"==typeof l&&l>=0);var f=0|Math.ceil(l/26),w=l%26;this._expand(f),w>0&&f--;for(var _=0;_<f;_++)this.words[_]=67108863&~this.words[_];return w>0&&(this.words[_]=~this.words[_]&67108863>>26-w),this.strip()},M.prototype.notn=function(l){return this.clone().inotn(l)},M.prototype.setn=function(l,f){N("number"==typeof l&&l>=0);var w=l/26|0,_=l%26;return this._expand(w+1),this.words[w]=f?this.words[w]|1<<_:this.words[w]&~(1<<_),this.strip()},M.prototype.iadd=function(l){var f,w,_;if(0!==this.negative&&0===l.negative)return this.negative=0,f=this.isub(l),this.negative^=1,this._normSign();if(0===this.negative&&0!==l.negative)return l.negative=0,f=this.isub(l),l.negative=1,f._normSign();this.length>l.length?(w=this,_=l):(w=l,_=this);for(var D=0,O=0;O<_.length;O++)this.words[O]=67108863&(f=(0|w.words[O])+(0|_.words[O])+D),D=f>>>26;for(;0!==D&&O<w.length;O++)this.words[O]=67108863&(f=(0|w.words[O])+D),D=f>>>26;if(this.length=w.length,0!==D)this.words[this.length]=D,this.length++;else if(w!==this)for(;O<w.length;O++)this.words[O]=w.words[O];return this},M.prototype.add=function(l){var f;return 0!==l.negative&&0===this.negative?(l.negative=0,f=this.sub(l),l.negative^=1,f):0===l.negative&&0!==this.negative?(this.negative=0,f=l.sub(this),this.negative=1,f):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},M.prototype.isub=function(l){if(0!==l.negative){l.negative=0;var f=this.iadd(l);return l.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var _,D,w=this.cmp(l);if(0===w)return this.negative=0,this.length=1,this.words[0]=0,this;w>0?(_=this,D=l):(_=l,D=this);for(var O=0,$=0;$<D.length;$++)O=(f=(0|_.words[$])-(0|D.words[$])+O)>>26,this.words[$]=67108863&f;for(;0!==O&&$<_.length;$++)O=(f=(0|_.words[$])+O)>>26,this.words[$]=67108863&f;if(0===O&&$<_.length&&_!==this)for(;$<_.length;$++)this.words[$]=_.words[$];return this.length=Math.max(this.length,$),_!==this&&(this.negative=1),this.strip()},M.prototype.sub=function(l){return this.clone().isub(l)};var de=function(l,f,w){var T,c,E,_=l.words,D=f.words,O=w.words,$=0,q=0|_[0],X=8191&q,ce=q>>>13,me=0|_[1],Te=8191&me,Ke=me>>>13,Qe=0|_[2],ke=8191&Qe,Ie=Qe>>>13,Xe=0|_[3],Se=8191&Xe,Le=Xe>>>13,Ee=0|_[4],be=8191&Ee,oe=Ee>>>13,fe=0|_[5],we=8191&fe,De=fe>>>13,$e=0|_[6],Je=8191&$e,Ze=$e>>>13,Pt=0|_[7],nt=8191&Pt,Ge=Pt>>>13,Et=0|_[8],K=8191&Et,C=Et>>>13,b=0|_[9],z=8191&b,le=b>>>13,Ae=0|D[0],Be=8191&Ae,ft=Ae>>>13,Yt=0|D[1],Rt=8191&Yt,Vt=Yt>>>13,dn=0|D[2],Mn=8191&dn,En=dn>>>13,Ar=0|D[3],jn=8191&Ar,mn=Ar>>>13,pn=0|D[4],kt=8191&pn,St=pn>>>13,an=0|D[5],hn=8191&an,An=an>>>13,Rr=0|D[6],Tt=8191&Rr,Nt=Rr>>>13,Lt=0|D[7],st=8191&Lt,mt=Lt>>>13,sn=0|D[8],Zt=8191&sn,xn=sn>>>13,cr=0|D[9],kn=8191&cr,zn=cr>>>13;w.negative=l.negative^f.negative,w.length=19;var qr=($+(T=Math.imul(X,Be))|0)+((8191&(c=(c=Math.imul(X,ft))+Math.imul(ce,Be)|0))<<13)|0;$=((E=Math.imul(ce,ft))+(c>>>13)|0)+(qr>>>26)|0,qr&=67108863,T=Math.imul(Te,Be),c=(c=Math.imul(Te,ft))+Math.imul(Ke,Be)|0,E=Math.imul(Ke,ft);var pr=($+(T=T+Math.imul(X,Rt)|0)|0)+((8191&(c=(c=c+Math.imul(X,Vt)|0)+Math.imul(ce,Rt)|0))<<13)|0;$=((E=E+Math.imul(ce,Vt)|0)+(c>>>13)|0)+(pr>>>26)|0,pr&=67108863,T=Math.imul(ke,Be),c=(c=Math.imul(ke,ft))+Math.imul(Ie,Be)|0,E=Math.imul(Ie,ft),T=T+Math.imul(Te,Rt)|0,c=(c=c+Math.imul(Te,Vt)|0)+Math.imul(Ke,Rt)|0,E=E+Math.imul(Ke,Vt)|0;var qn=($+(T=T+Math.imul(X,Mn)|0)|0)+((8191&(c=(c=c+Math.imul(X,En)|0)+Math.imul(ce,Mn)|0))<<13)|0;$=((E=E+Math.imul(ce,En)|0)+(c>>>13)|0)+(qn>>>26)|0,qn&=67108863,T=Math.imul(Se,Be),c=(c=Math.imul(Se,ft))+Math.imul(Le,Be)|0,E=Math.imul(Le,ft),T=T+Math.imul(ke,Rt)|0,c=(c=c+Math.imul(ke,Vt)|0)+Math.imul(Ie,Rt)|0,E=E+Math.imul(Ie,Vt)|0,T=T+Math.imul(Te,Mn)|0,c=(c=c+Math.imul(Te,En)|0)+Math.imul(Ke,Mn)|0,E=E+Math.imul(Ke,En)|0;var Jt=($+(T=T+Math.imul(X,jn)|0)|0)+((8191&(c=(c=c+Math.imul(X,mn)|0)+Math.imul(ce,jn)|0))<<13)|0;$=((E=E+Math.imul(ce,mn)|0)+(c>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,T=Math.imul(be,Be),c=(c=Math.imul(be,ft))+Math.imul(oe,Be)|0,E=Math.imul(oe,ft),T=T+Math.imul(Se,Rt)|0,c=(c=c+Math.imul(Se,Vt)|0)+Math.imul(Le,Rt)|0,E=E+Math.imul(Le,Vt)|0,T=T+Math.imul(ke,Mn)|0,c=(c=c+Math.imul(ke,En)|0)+Math.imul(Ie,Mn)|0,E=E+Math.imul(Ie,En)|0,T=T+Math.imul(Te,jn)|0,c=(c=c+Math.imul(Te,mn)|0)+Math.imul(Ke,jn)|0,E=E+Math.imul(Ke,mn)|0;var dt=($+(T=T+Math.imul(X,kt)|0)|0)+((8191&(c=(c=c+Math.imul(X,St)|0)+Math.imul(ce,kt)|0))<<13)|0;$=((E=E+Math.imul(ce,St)|0)+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,T=Math.imul(we,Be),c=(c=Math.imul(we,ft))+Math.imul(De,Be)|0,E=Math.imul(De,ft),T=T+Math.imul(be,Rt)|0,c=(c=c+Math.imul(be,Vt)|0)+Math.imul(oe,Rt)|0,E=E+Math.imul(oe,Vt)|0,T=T+Math.imul(Se,Mn)|0,c=(c=c+Math.imul(Se,En)|0)+Math.imul(Le,Mn)|0,E=E+Math.imul(Le,En)|0,T=T+Math.imul(ke,jn)|0,c=(c=c+Math.imul(ke,mn)|0)+Math.imul(Ie,jn)|0,E=E+Math.imul(Ie,mn)|0,T=T+Math.imul(Te,kt)|0,c=(c=c+Math.imul(Te,St)|0)+Math.imul(Ke,kt)|0,E=E+Math.imul(Ke,St)|0;var Ne=($+(T=T+Math.imul(X,hn)|0)|0)+((8191&(c=(c=c+Math.imul(X,An)|0)+Math.imul(ce,hn)|0))<<13)|0;$=((E=E+Math.imul(ce,An)|0)+(c>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,T=Math.imul(Je,Be),c=(c=Math.imul(Je,ft))+Math.imul(Ze,Be)|0,E=Math.imul(Ze,ft),T=T+Math.imul(we,Rt)|0,c=(c=c+Math.imul(we,Vt)|0)+Math.imul(De,Rt)|0,E=E+Math.imul(De,Vt)|0,T=T+Math.imul(be,Mn)|0,c=(c=c+Math.imul(be,En)|0)+Math.imul(oe,Mn)|0,E=E+Math.imul(oe,En)|0,T=T+Math.imul(Se,jn)|0,c=(c=c+Math.imul(Se,mn)|0)+Math.imul(Le,jn)|0,E=E+Math.imul(Le,mn)|0,T=T+Math.imul(ke,kt)|0,c=(c=c+Math.imul(ke,St)|0)+Math.imul(Ie,kt)|0,E=E+Math.imul(Ie,St)|0,T=T+Math.imul(Te,hn)|0,c=(c=c+Math.imul(Te,An)|0)+Math.imul(Ke,hn)|0,E=E+Math.imul(Ke,An)|0;var We=($+(T=T+Math.imul(X,Tt)|0)|0)+((8191&(c=(c=c+Math.imul(X,Nt)|0)+Math.imul(ce,Tt)|0))<<13)|0;$=((E=E+Math.imul(ce,Nt)|0)+(c>>>13)|0)+(We>>>26)|0,We&=67108863,T=Math.imul(nt,Be),c=(c=Math.imul(nt,ft))+Math.imul(Ge,Be)|0,E=Math.imul(Ge,ft),T=T+Math.imul(Je,Rt)|0,c=(c=c+Math.imul(Je,Vt)|0)+Math.imul(Ze,Rt)|0,E=E+Math.imul(Ze,Vt)|0,T=T+Math.imul(we,Mn)|0,c=(c=c+Math.imul(we,En)|0)+Math.imul(De,Mn)|0,E=E+Math.imul(De,En)|0,T=T+Math.imul(be,jn)|0,c=(c=c+Math.imul(be,mn)|0)+Math.imul(oe,jn)|0,E=E+Math.imul(oe,mn)|0,T=T+Math.imul(Se,kt)|0,c=(c=c+Math.imul(Se,St)|0)+Math.imul(Le,kt)|0,E=E+Math.imul(Le,St)|0,T=T+Math.imul(ke,hn)|0,c=(c=c+Math.imul(ke,An)|0)+Math.imul(Ie,hn)|0,E=E+Math.imul(Ie,An)|0,T=T+Math.imul(Te,Tt)|0,c=(c=c+Math.imul(Te,Nt)|0)+Math.imul(Ke,Tt)|0,E=E+Math.imul(Ke,Nt)|0;var Bt=($+(T=T+Math.imul(X,st)|0)|0)+((8191&(c=(c=c+Math.imul(X,mt)|0)+Math.imul(ce,st)|0))<<13)|0;$=((E=E+Math.imul(ce,mt)|0)+(c>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,T=Math.imul(K,Be),c=(c=Math.imul(K,ft))+Math.imul(C,Be)|0,E=Math.imul(C,ft),T=T+Math.imul(nt,Rt)|0,c=(c=c+Math.imul(nt,Vt)|0)+Math.imul(Ge,Rt)|0,E=E+Math.imul(Ge,Vt)|0,T=T+Math.imul(Je,Mn)|0,c=(c=c+Math.imul(Je,En)|0)+Math.imul(Ze,Mn)|0,E=E+Math.imul(Ze,En)|0,T=T+Math.imul(we,jn)|0,c=(c=c+Math.imul(we,mn)|0)+Math.imul(De,jn)|0,E=E+Math.imul(De,mn)|0,T=T+Math.imul(be,kt)|0,c=(c=c+Math.imul(be,St)|0)+Math.imul(oe,kt)|0,E=E+Math.imul(oe,St)|0,T=T+Math.imul(Se,hn)|0,c=(c=c+Math.imul(Se,An)|0)+Math.imul(Le,hn)|0,E=E+Math.imul(Le,An)|0,T=T+Math.imul(ke,Tt)|0,c=(c=c+Math.imul(ke,Nt)|0)+Math.imul(Ie,Tt)|0,E=E+Math.imul(Ie,Nt)|0,T=T+Math.imul(Te,st)|0,c=(c=c+Math.imul(Te,mt)|0)+Math.imul(Ke,st)|0,E=E+Math.imul(Ke,mt)|0;var gn=($+(T=T+Math.imul(X,Zt)|0)|0)+((8191&(c=(c=c+Math.imul(X,xn)|0)+Math.imul(ce,Zt)|0))<<13)|0;$=((E=E+Math.imul(ce,xn)|0)+(c>>>13)|0)+(gn>>>26)|0,gn&=67108863,T=Math.imul(z,Be),c=(c=Math.imul(z,ft))+Math.imul(le,Be)|0,E=Math.imul(le,ft),T=T+Math.imul(K,Rt)|0,c=(c=c+Math.imul(K,Vt)|0)+Math.imul(C,Rt)|0,E=E+Math.imul(C,Vt)|0,T=T+Math.imul(nt,Mn)|0,c=(c=c+Math.imul(nt,En)|0)+Math.imul(Ge,Mn)|0,E=E+Math.imul(Ge,En)|0,T=T+Math.imul(Je,jn)|0,c=(c=c+Math.imul(Je,mn)|0)+Math.imul(Ze,jn)|0,E=E+Math.imul(Ze,mn)|0,T=T+Math.imul(we,kt)|0,c=(c=c+Math.imul(we,St)|0)+Math.imul(De,kt)|0,E=E+Math.imul(De,St)|0,T=T+Math.imul(be,hn)|0,c=(c=c+Math.imul(be,An)|0)+Math.imul(oe,hn)|0,E=E+Math.imul(oe,An)|0,T=T+Math.imul(Se,Tt)|0,c=(c=c+Math.imul(Se,Nt)|0)+Math.imul(Le,Tt)|0,E=E+Math.imul(Le,Nt)|0,T=T+Math.imul(ke,st)|0,c=(c=c+Math.imul(ke,mt)|0)+Math.imul(Ie,st)|0,E=E+Math.imul(Ie,mt)|0,T=T+Math.imul(Te,Zt)|0,c=(c=c+Math.imul(Te,xn)|0)+Math.imul(Ke,Zt)|0,E=E+Math.imul(Ke,xn)|0;var Kn=($+(T=T+Math.imul(X,kn)|0)|0)+((8191&(c=(c=c+Math.imul(X,zn)|0)+Math.imul(ce,kn)|0))<<13)|0;$=((E=E+Math.imul(ce,zn)|0)+(c>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,T=Math.imul(z,Rt),c=(c=Math.imul(z,Vt))+Math.imul(le,Rt)|0,E=Math.imul(le,Vt),T=T+Math.imul(K,Mn)|0,c=(c=c+Math.imul(K,En)|0)+Math.imul(C,Mn)|0,E=E+Math.imul(C,En)|0,T=T+Math.imul(nt,jn)|0,c=(c=c+Math.imul(nt,mn)|0)+Math.imul(Ge,jn)|0,E=E+Math.imul(Ge,mn)|0,T=T+Math.imul(Je,kt)|0,c=(c=c+Math.imul(Je,St)|0)+Math.imul(Ze,kt)|0,E=E+Math.imul(Ze,St)|0,T=T+Math.imul(we,hn)|0,c=(c=c+Math.imul(we,An)|0)+Math.imul(De,hn)|0,E=E+Math.imul(De,An)|0,T=T+Math.imul(be,Tt)|0,c=(c=c+Math.imul(be,Nt)|0)+Math.imul(oe,Tt)|0,E=E+Math.imul(oe,Nt)|0,T=T+Math.imul(Se,st)|0,c=(c=c+Math.imul(Se,mt)|0)+Math.imul(Le,st)|0,E=E+Math.imul(Le,mt)|0,T=T+Math.imul(ke,Zt)|0,c=(c=c+Math.imul(ke,xn)|0)+Math.imul(Ie,Zt)|0,E=E+Math.imul(Ie,xn)|0;var ir=($+(T=T+Math.imul(Te,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Te,zn)|0)+Math.imul(Ke,kn)|0))<<13)|0;$=((E=E+Math.imul(Ke,zn)|0)+(c>>>13)|0)+(ir>>>26)|0,ir&=67108863,T=Math.imul(z,Mn),c=(c=Math.imul(z,En))+Math.imul(le,Mn)|0,E=Math.imul(le,En),T=T+Math.imul(K,jn)|0,c=(c=c+Math.imul(K,mn)|0)+Math.imul(C,jn)|0,E=E+Math.imul(C,mn)|0,T=T+Math.imul(nt,kt)|0,c=(c=c+Math.imul(nt,St)|0)+Math.imul(Ge,kt)|0,E=E+Math.imul(Ge,St)|0,T=T+Math.imul(Je,hn)|0,c=(c=c+Math.imul(Je,An)|0)+Math.imul(Ze,hn)|0,E=E+Math.imul(Ze,An)|0,T=T+Math.imul(we,Tt)|0,c=(c=c+Math.imul(we,Nt)|0)+Math.imul(De,Tt)|0,E=E+Math.imul(De,Nt)|0,T=T+Math.imul(be,st)|0,c=(c=c+Math.imul(be,mt)|0)+Math.imul(oe,st)|0,E=E+Math.imul(oe,mt)|0,T=T+Math.imul(Se,Zt)|0,c=(c=c+Math.imul(Se,xn)|0)+Math.imul(Le,Zt)|0,E=E+Math.imul(Le,xn)|0;var hr=($+(T=T+Math.imul(ke,kn)|0)|0)+((8191&(c=(c=c+Math.imul(ke,zn)|0)+Math.imul(Ie,kn)|0))<<13)|0;$=((E=E+Math.imul(Ie,zn)|0)+(c>>>13)|0)+(hr>>>26)|0,hr&=67108863,T=Math.imul(z,jn),c=(c=Math.imul(z,mn))+Math.imul(le,jn)|0,E=Math.imul(le,mn),T=T+Math.imul(K,kt)|0,c=(c=c+Math.imul(K,St)|0)+Math.imul(C,kt)|0,E=E+Math.imul(C,St)|0,T=T+Math.imul(nt,hn)|0,c=(c=c+Math.imul(nt,An)|0)+Math.imul(Ge,hn)|0,E=E+Math.imul(Ge,An)|0,T=T+Math.imul(Je,Tt)|0,c=(c=c+Math.imul(Je,Nt)|0)+Math.imul(Ze,Tt)|0,E=E+Math.imul(Ze,Nt)|0,T=T+Math.imul(we,st)|0,c=(c=c+Math.imul(we,mt)|0)+Math.imul(De,st)|0,E=E+Math.imul(De,mt)|0,T=T+Math.imul(be,Zt)|0,c=(c=c+Math.imul(be,xn)|0)+Math.imul(oe,Zt)|0,E=E+Math.imul(oe,xn)|0;var Wr=($+(T=T+Math.imul(Se,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Se,zn)|0)+Math.imul(Le,kn)|0))<<13)|0;$=((E=E+Math.imul(Le,zn)|0)+(c>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,T=Math.imul(z,kt),c=(c=Math.imul(z,St))+Math.imul(le,kt)|0,E=Math.imul(le,St),T=T+Math.imul(K,hn)|0,c=(c=c+Math.imul(K,An)|0)+Math.imul(C,hn)|0,E=E+Math.imul(C,An)|0,T=T+Math.imul(nt,Tt)|0,c=(c=c+Math.imul(nt,Nt)|0)+Math.imul(Ge,Tt)|0,E=E+Math.imul(Ge,Nt)|0,T=T+Math.imul(Je,st)|0,c=(c=c+Math.imul(Je,mt)|0)+Math.imul(Ze,st)|0,E=E+Math.imul(Ze,mt)|0,T=T+Math.imul(we,Zt)|0,c=(c=c+Math.imul(we,xn)|0)+Math.imul(De,Zt)|0,E=E+Math.imul(De,xn)|0;var Vr=($+(T=T+Math.imul(be,kn)|0)|0)+((8191&(c=(c=c+Math.imul(be,zn)|0)+Math.imul(oe,kn)|0))<<13)|0;$=((E=E+Math.imul(oe,zn)|0)+(c>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,T=Math.imul(z,hn),c=(c=Math.imul(z,An))+Math.imul(le,hn)|0,E=Math.imul(le,An),T=T+Math.imul(K,Tt)|0,c=(c=c+Math.imul(K,Nt)|0)+Math.imul(C,Tt)|0,E=E+Math.imul(C,Nt)|0,T=T+Math.imul(nt,st)|0,c=(c=c+Math.imul(nt,mt)|0)+Math.imul(Ge,st)|0,E=E+Math.imul(Ge,mt)|0,T=T+Math.imul(Je,Zt)|0,c=(c=c+Math.imul(Je,xn)|0)+Math.imul(Ze,Zt)|0,E=E+Math.imul(Ze,xn)|0;var ti=($+(T=T+Math.imul(we,kn)|0)|0)+((8191&(c=(c=c+Math.imul(we,zn)|0)+Math.imul(De,kn)|0))<<13)|0;$=((E=E+Math.imul(De,zn)|0)+(c>>>13)|0)+(ti>>>26)|0,ti&=67108863,T=Math.imul(z,Tt),c=(c=Math.imul(z,Nt))+Math.imul(le,Tt)|0,E=Math.imul(le,Nt),T=T+Math.imul(K,st)|0,c=(c=c+Math.imul(K,mt)|0)+Math.imul(C,st)|0,E=E+Math.imul(C,mt)|0,T=T+Math.imul(nt,Zt)|0,c=(c=c+Math.imul(nt,xn)|0)+Math.imul(Ge,Zt)|0,E=E+Math.imul(Ge,xn)|0;var ni=($+(T=T+Math.imul(Je,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Je,zn)|0)+Math.imul(Ze,kn)|0))<<13)|0;$=((E=E+Math.imul(Ze,zn)|0)+(c>>>13)|0)+(ni>>>26)|0,ni&=67108863,T=Math.imul(z,st),c=(c=Math.imul(z,mt))+Math.imul(le,st)|0,E=Math.imul(le,mt),T=T+Math.imul(K,Zt)|0,c=(c=c+Math.imul(K,xn)|0)+Math.imul(C,Zt)|0,E=E+Math.imul(C,xn)|0;var Ei=($+(T=T+Math.imul(nt,kn)|0)|0)+((8191&(c=(c=c+Math.imul(nt,zn)|0)+Math.imul(Ge,kn)|0))<<13)|0;$=((E=E+Math.imul(Ge,zn)|0)+(c>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,T=Math.imul(z,Zt),c=(c=Math.imul(z,xn))+Math.imul(le,Zt)|0,E=Math.imul(le,xn);var yn=($+(T=T+Math.imul(K,kn)|0)|0)+((8191&(c=(c=c+Math.imul(K,zn)|0)+Math.imul(C,kn)|0))<<13)|0;$=((E=E+Math.imul(C,zn)|0)+(c>>>13)|0)+(yn>>>26)|0,yn&=67108863;var Pn=($+(T=Math.imul(z,kn))|0)+((8191&(c=(c=Math.imul(z,zn))+Math.imul(le,kn)|0))<<13)|0;return $=((E=Math.imul(le,zn))+(c>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,O[0]=qr,O[1]=pr,O[2]=qn,O[3]=Jt,O[4]=dt,O[5]=Ne,O[6]=We,O[7]=Bt,O[8]=gn,O[9]=Kn,O[10]=ir,O[11]=hr,O[12]=Wr,O[13]=Vr,O[14]=ti,O[15]=ni,O[16]=Ei,O[17]=yn,O[18]=Pn,0!==$&&(O[19]=$,w.length++),w};function re(B,l,f){return(new te).mulp(B,l,f)}function te(B,l){this.x=B,this.y=l}Math.imul||(de=Q),M.prototype.mulTo=function(l,f){var w,_=this.length+l.length;return w=10===this.length&&10===l.length?de(this,l,f):_<63?Q(this,l,f):_<1024?function ae(B,l,f){f.negative=l.negative^B.negative,f.length=B.length+l.length;for(var w=0,_=0,D=0;D<f.length-1;D++){var O=_;_=0;for(var $=67108863&w,T=Math.min(D,l.length-1),c=Math.max(0,D-B.length+1);c<=T;c++){var ce=(0|B.words[D-c])*(0|l.words[c]),me=67108863&ce;$=67108863&(me=me+$|0),_+=(O=(O=O+(ce/67108864|0)|0)+(me>>>26)|0)>>>26,O&=67108863}f.words[D]=$,w=O,O=_}return 0!==w?f.words[D]=w:f.length--,f.strip()}(this,l,f):re(this,l,f),w},te.prototype.makeRBT=function(l){for(var f=new Array(l),w=M.prototype._countBits(l)-1,_=0;_<l;_++)f[_]=this.revBin(_,w,l);return f},te.prototype.revBin=function(l,f,w){if(0===l||l===w-1)return l;for(var _=0,D=0;D<f;D++)_|=(1&l)<<f-D-1,l>>=1;return _},te.prototype.permute=function(l,f,w,_,D,O){for(var $=0;$<O;$++)_[$]=f[l[$]],D[$]=w[l[$]]},te.prototype.transform=function(l,f,w,_,D,O){this.permute(O,l,f,w,_,D);for(var $=1;$<D;$<<=1)for(var T=$<<1,c=Math.cos(2*Math.PI/T),E=Math.sin(2*Math.PI/T),q=0;q<D;q+=T)for(var X=c,ce=E,me=0;me<$;me++){var Te=w[q+me],Ke=_[q+me],Qe=w[q+me+$],ke=_[q+me+$],Ie=X*Qe-ce*ke;ke=X*ke+ce*Qe,w[q+me]=Te+(Qe=Ie),_[q+me]=Ke+ke,w[q+me+$]=Te-Qe,_[q+me+$]=Ke-ke,me!==T&&(Ie=c*X-E*ce,ce=c*ce+E*X,X=Ie)}},te.prototype.guessLen13b=function(l,f){var w=1|Math.max(f,l),_=1&w,D=0;for(w=w/2|0;w;w>>>=1)D++;return 1<<D+1+_},te.prototype.conjugate=function(l,f,w){if(!(w<=1))for(var _=0;_<w/2;_++){var D=l[_];l[_]=l[w-_-1],l[w-_-1]=D,D=f[_],f[_]=-f[w-_-1],f[w-_-1]=-D}},te.prototype.normalize13b=function(l,f){for(var w=0,_=0;_<f/2;_++){var D=8192*Math.round(l[2*_+1]/f)+Math.round(l[2*_]/f)+w;l[_]=67108863&D,w=D<67108864?0:D/67108864|0}return l},te.prototype.convert13b=function(l,f,w,_){for(var D=0,O=0;O<f;O++)w[2*O]=8191&(D+=0|l[O]),w[2*O+1]=8191&(D>>>=13),D>>>=13;for(O=2*f;O<_;++O)w[O]=0;N(0===D),N(!(-8192&D))},te.prototype.stub=function(l){for(var f=new Array(l),w=0;w<l;w++)f[w]=0;return f},te.prototype.mulp=function(l,f,w){var _=2*this.guessLen13b(l.length,f.length),D=this.makeRBT(_),O=this.stub(_),$=new Array(_),T=new Array(_),c=new Array(_),E=new Array(_),q=new Array(_),X=new Array(_),ce=w.words;ce.length=_,this.convert13b(l.words,l.length,$,_),this.convert13b(f.words,f.length,E,_),this.transform($,O,T,c,_,D),this.transform(E,O,q,X,_,D);for(var me=0;me<_;me++){var Te=T[me]*q[me]-c[me]*X[me];c[me]=T[me]*X[me]+c[me]*q[me],T[me]=Te}return this.conjugate(T,c,_),this.transform(T,c,ce,O,_,D),this.conjugate(ce,O,_),this.normalize13b(ce,_),w.negative=l.negative^f.negative,w.length=l.length+f.length,w.strip()},M.prototype.mul=function(l){var f=new M(null);return f.words=new Array(this.length+l.length),this.mulTo(l,f)},M.prototype.mulf=function(l){var f=new M(null);return f.words=new Array(this.length+l.length),re(this,l,f)},M.prototype.imul=function(l){return this.clone().mulTo(l,this)},M.prototype.imuln=function(l){N("number"==typeof l),N(l<67108864);for(var f=0,w=0;w<this.length;w++){var _=(0|this.words[w])*l,D=(67108863&_)+(67108863&f);f>>=26,f+=_/67108864|0,f+=D>>>26,this.words[w]=67108863&D}return 0!==f&&(this.words[w]=f,this.length++),this},M.prototype.muln=function(l){return this.clone().imuln(l)},M.prototype.sqr=function(){return this.mul(this)},M.prototype.isqr=function(){return this.imul(this.clone())},M.prototype.pow=function(l){var f=function W(B){for(var l=new Array(B.bitLength()),f=0;f<l.length;f++){var _=f%26;l[f]=(B.words[f/26|0]&1<<_)>>>_}return l}(l);if(0===f.length)return new M(1);for(var w=this,_=0;_<f.length&&0===f[_];_++,w=w.sqr());if(++_<f.length)for(var D=w.sqr();_<f.length;_++,D=D.sqr())0!==f[_]&&(w=w.mul(D));return w},M.prototype.iushln=function(l){N("number"==typeof l&&l>=0);var D,f=l%26,w=(l-f)/26,_=67108863>>>26-f<<26-f;if(0!==f){var O=0;for(D=0;D<this.length;D++){var $=this.words[D]&_;this.words[D]=(0|this.words[D])-$<<f|O,O=$>>>26-f}O&&(this.words[D]=O,this.length++)}if(0!==w){for(D=this.length-1;D>=0;D--)this.words[D+w]=this.words[D];for(D=0;D<w;D++)this.words[D]=0;this.length+=w}return this.strip()},M.prototype.ishln=function(l){return N(0===this.negative),this.iushln(l)},M.prototype.iushrn=function(l,f,w){var _;N("number"==typeof l&&l>=0),_=f?(f-f%26)/26:0;var D=l%26,O=Math.min((l-D)/26,this.length),$=67108863^67108863>>>D<<D,T=w;if(_-=O,_=Math.max(0,_),T){for(var c=0;c<O;c++)T.words[c]=this.words[c];T.length=O}if(0!==O)if(this.length>O)for(this.length-=O,c=0;c<this.length;c++)this.words[c]=this.words[c+O];else this.words[0]=0,this.length=1;var E=0;for(c=this.length-1;c>=0&&(0!==E||c>=_);c--){var q=0|this.words[c];this.words[c]=E<<26-D|q>>>D,E=q&$}return T&&0!==E&&(T.words[T.length++]=E),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},M.prototype.ishrn=function(l,f,w){return N(0===this.negative),this.iushrn(l,f,w)},M.prototype.shln=function(l){return this.clone().ishln(l)},M.prototype.ushln=function(l){return this.clone().iushln(l)},M.prototype.shrn=function(l){return this.clone().ishrn(l)},M.prototype.ushrn=function(l){return this.clone().iushrn(l)},M.prototype.testn=function(l){N("number"==typeof l&&l>=0);var f=l%26,w=(l-f)/26;return!(this.length<=w||!(this.words[w]&1<<f))},M.prototype.imaskn=function(l){N("number"==typeof l&&l>=0);var f=l%26,w=(l-f)/26;return N(0===this.negative,"imaskn works only with positive numbers"),this.length<=w?this:(0!==f&&w++,this.length=Math.min(w,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},M.prototype.maskn=function(l){return this.clone().imaskn(l)},M.prototype.iaddn=function(l){return N("number"==typeof l),N(l<67108864),l<0?this.isubn(-l):0!==this.negative?1===this.length&&(0|this.words[0])<l?(this.words[0]=l-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},M.prototype._iaddn=function(l){this.words[0]+=l;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},M.prototype.isubn=function(l){if(N("number"==typeof l),N(l<67108864),l<0)return this.iaddn(-l);if(0!==this.negative)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},M.prototype.addn=function(l){return this.clone().iaddn(l)},M.prototype.subn=function(l){return this.clone().isubn(l)},M.prototype.iabs=function(){return this.negative=0,this},M.prototype.abs=function(){return this.clone().iabs()},M.prototype._ishlnsubmul=function(l,f,w){var D;this._expand(l.length+w);var O,$=0;for(D=0;D<l.length;D++){O=(0|this.words[D+w])+$;var T=(0|l.words[D])*f;$=((O-=67108863&T)>>26)-(T/67108864|0),this.words[D+w]=67108863&O}for(;D<this.length-w;D++)$=(O=(0|this.words[D+w])+$)>>26,this.words[D+w]=67108863&O;if(0===$)return this.strip();for(N(-1===$),$=0,D=0;D<this.length;D++)$=(O=-(0|this.words[D])+$)>>26,this.words[D]=67108863&O;return this.negative=1,this.strip()},M.prototype._wordDiv=function(l,f){var w,_=this.clone(),D=l,O=0|D.words[D.length-1];0!=(w=26-this._countBits(O))&&(D=D.ushln(w),_.iushln(w),O=0|D.words[D.length-1]);var c,T=_.length-D.length;if("mod"!==f){(c=new M(null)).length=T+1,c.words=new Array(c.length);for(var E=0;E<c.length;E++)c.words[E]=0}var q=_.clone()._ishlnsubmul(D,1,T);0===q.negative&&(_=q,c&&(c.words[T]=1));for(var X=T-1;X>=0;X--){var ce=67108864*(0|_.words[D.length+X])+(0|_.words[D.length+X-1]);for(ce=Math.min(ce/O|0,67108863),_._ishlnsubmul(D,ce,X);0!==_.negative;)ce--,_.negative=0,_._ishlnsubmul(D,1,X),_.isZero()||(_.negative^=1);c&&(c.words[X]=ce)}return c&&c.strip(),_.strip(),"div"!==f&&0!==w&&_.iushrn(w),{div:c||null,mod:_}},M.prototype.divmod=function(l,f,w){return N(!l.isZero()),this.isZero()?{div:new M(0),mod:new M(0)}:0!==this.negative&&0===l.negative?(O=this.neg().divmod(l,f),"mod"!==f&&(_=O.div.neg()),"div"!==f&&(D=O.mod.neg(),w&&0!==D.negative&&D.iadd(l)),{div:_,mod:D}):0===this.negative&&0!==l.negative?(O=this.divmod(l.neg(),f),"mod"!==f&&(_=O.div.neg()),{div:_,mod:O.mod}):this.negative&l.negative?(O=this.neg().divmod(l.neg(),f),"div"!==f&&(D=O.mod.neg(),w&&0!==D.negative&&D.isub(l)),{div:O.div,mod:D}):l.length>this.length||this.cmp(l)<0?{div:new M(0),mod:this}:1===l.length?"div"===f?{div:this.divn(l.words[0]),mod:null}:"mod"===f?{div:null,mod:new M(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new M(this.modn(l.words[0]))}:this._wordDiv(l,f);var _,D,O},M.prototype.div=function(l){return this.divmod(l,"div",!1).div},M.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},M.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},M.prototype.divRound=function(l){var f=this.divmod(l);if(f.mod.isZero())return f.div;var w=0!==f.div.negative?f.mod.isub(l):f.mod,_=l.ushrn(1),D=l.andln(1),O=w.cmp(_);return O<0||1===D&&0===O?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},M.prototype.modn=function(l){N(l<=67108863);for(var f=(1<<26)%l,w=0,_=this.length-1;_>=0;_--)w=(f*w+(0|this.words[_]))%l;return w},M.prototype.idivn=function(l){N(l<=67108863);for(var f=0,w=this.length-1;w>=0;w--){var _=(0|this.words[w])+67108864*f;this.words[w]=_/l|0,f=_%l}return this.strip()},M.prototype.divn=function(l){return this.clone().idivn(l)},M.prototype.egcd=function(l){N(0===l.negative),N(!l.isZero());var f=this,w=l.clone();f=0!==f.negative?f.umod(l):f.clone();for(var _=new M(1),D=new M(0),O=new M(0),$=new M(1),T=0;f.isEven()&&w.isEven();)f.iushrn(1),w.iushrn(1),++T;for(var c=w.clone(),E=f.clone();!f.isZero();){for(var q=0,X=1;!(f.words[0]&X)&&q<26;++q,X<<=1);if(q>0)for(f.iushrn(q);q-- >0;)(_.isOdd()||D.isOdd())&&(_.iadd(c),D.isub(E)),_.iushrn(1),D.iushrn(1);for(var ce=0,me=1;!(w.words[0]&me)&&ce<26;++ce,me<<=1);if(ce>0)for(w.iushrn(ce);ce-- >0;)(O.isOdd()||$.isOdd())&&(O.iadd(c),$.isub(E)),O.iushrn(1),$.iushrn(1);f.cmp(w)>=0?(f.isub(w),_.isub(O),D.isub($)):(w.isub(f),O.isub(_),$.isub(D))}return{a:O,b:$,gcd:w.iushln(T)}},M.prototype._invmp=function(l){N(0===l.negative),N(!l.isZero());var q,f=this,w=l.clone();f=0!==f.negative?f.umod(l):f.clone();for(var _=new M(1),D=new M(0),O=w.clone();f.cmpn(1)>0&&w.cmpn(1)>0;){for(var $=0,T=1;!(f.words[0]&T)&&$<26;++$,T<<=1);if($>0)for(f.iushrn($);$-- >0;)_.isOdd()&&_.iadd(O),_.iushrn(1);for(var c=0,E=1;!(w.words[0]&E)&&c<26;++c,E<<=1);if(c>0)for(w.iushrn(c);c-- >0;)D.isOdd()&&D.iadd(O),D.iushrn(1);f.cmp(w)>=0?(f.isub(w),_.isub(D)):(w.isub(f),D.isub(_))}return(q=0===f.cmpn(1)?_:D).cmpn(0)<0&&q.iadd(l),q},M.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var f=this.clone(),w=l.clone();f.negative=0,w.negative=0;for(var _=0;f.isEven()&&w.isEven();_++)f.iushrn(1),w.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;w.isEven();)w.iushrn(1);var D=f.cmp(w);if(D<0){var O=f;f=w,w=O}else if(0===D||0===w.cmpn(1))break;f.isub(w)}return w.iushln(_)},M.prototype.invm=function(l){return this.egcd(l).a.umod(l)},M.prototype.isEven=function(){return!(1&this.words[0])},M.prototype.isOdd=function(){return!(1&~this.words[0])},M.prototype.andln=function(l){return this.words[0]&l},M.prototype.bincn=function(l){N("number"==typeof l);var f=l%26,w=(l-f)/26,_=1<<f;if(this.length<=w)return this._expand(w+1),this.words[w]|=_,this;for(var D=_,O=w;0!==D&&O<this.length;O++){var $=0|this.words[O];D=($+=D)>>>26,this.words[O]=$&=67108863}return 0!==D&&(this.words[O]=D,this.length++),this},M.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},M.prototype.cmpn=function(l){var w,f=l<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)w=1;else{f&&(l=-l),N(l<=67108863,"Number is too big");var _=0|this.words[0];w=_===l?0:_<l?-1:1}return 0!==this.negative?0|-w:w},M.prototype.cmp=function(l){if(0!==this.negative&&0===l.negative)return-1;if(0===this.negative&&0!==l.negative)return 1;var f=this.ucmp(l);return 0!==this.negative?0|-f:f},M.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var f=0,w=this.length-1;w>=0;w--){var _=0|this.words[w],D=0|l.words[w];if(_!==D){_<D?f=-1:_>D&&(f=1);break}}return f},M.prototype.gtn=function(l){return 1===this.cmpn(l)},M.prototype.gt=function(l){return 1===this.cmp(l)},M.prototype.gten=function(l){return this.cmpn(l)>=0},M.prototype.gte=function(l){return this.cmp(l)>=0},M.prototype.ltn=function(l){return-1===this.cmpn(l)},M.prototype.lt=function(l){return-1===this.cmp(l)},M.prototype.lten=function(l){return this.cmpn(l)<=0},M.prototype.lte=function(l){return this.cmp(l)<=0},M.prototype.eqn=function(l){return 0===this.cmpn(l)},M.prototype.eq=function(l){return 0===this.cmp(l)},M.red=function(l){return new Oe(l)},M.prototype.toRed=function(l){return N(!this.red,"Already a number in reduction context"),N(0===this.negative,"red works only with positives"),l.convertTo(this)._forceRed(l)},M.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},M.prototype._forceRed=function(l){return this.red=l,this},M.prototype.forceRed=function(l){return N(!this.red,"Already a number in reduction context"),this._forceRed(l)},M.prototype.redAdd=function(l){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},M.prototype.redIAdd=function(l){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},M.prototype.redSub=function(l){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},M.prototype.redISub=function(l){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},M.prototype.redShl=function(l){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},M.prototype.redMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},M.prototype.redIMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},M.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},M.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},M.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},M.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},M.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},M.prototype.redPow=function(l){return N(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var ue={k256:null,p224:null,p192:null,p25519:null};function pe(B,l){this.name=B,this.p=new M(l,16),this.n=this.p.bitLength(),this.k=new M(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function he(){pe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ve(){pe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ge(){pe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Me(){pe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Oe(B){if("string"==typeof B){var l=M._prime(B);this.m=l.p,this.prime=l}else N(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}function je(B){Oe.call(this,B),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new M(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}pe.prototype._tmp=function(){var l=new M(null);return l.words=new Array(Math.ceil(this.n/13)),l},pe.prototype.ireduce=function(l){var w,f=l;do{this.split(f,this.tmp),w=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(w>this.n);var _=w<this.n?-1:f.ucmp(this.p);return 0===_?(f.words[0]=0,f.length=1):_>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},pe.prototype.split=function(l,f){l.iushrn(this.n,0,f)},pe.prototype.imulK=function(l){return l.imul(this.k)},Y(he,pe),he.prototype.split=function(l,f){for(var w=4194303,_=Math.min(l.length,9),D=0;D<_;D++)f.words[D]=l.words[D];if(f.length=_,l.length<=9)return l.words[0]=0,void(l.length=1);var O=l.words[9];for(f.words[f.length++]=O&w,D=10;D<l.length;D++){var $=0|l.words[D];l.words[D-10]=($&w)<<4|O>>>22,O=$}l.words[D-10]=O>>>=22,l.length-=0===O&&l.length>10?10:9},he.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var f=0,w=0;w<l.length;w++){var _=0|l.words[w];l.words[w]=67108863&(f+=977*_),f=64*_+(f/67108864|0)}return 0===l.words[l.length-1]&&(l.length--,0===l.words[l.length-1]&&l.length--),l},Y(ve,pe),Y(ge,pe),Y(Me,pe),Me.prototype.imulK=function(l){for(var f=0,w=0;w<l.length;w++){var _=19*(0|l.words[w])+f,D=67108863&_;_>>>=26,l.words[w]=D,f=_}return 0!==f&&(l.words[l.length++]=f),l},M._prime=function(l){if(ue[l])return ue[l];var f;if("k256"===l)f=new he;else if("p224"===l)f=new ve;else if("p192"===l)f=new ge;else{if("p25519"!==l)throw new Error("Unknown prime "+l);f=new Me}return ue[l]=f,f},Oe.prototype._verify1=function(l){N(0===l.negative,"red works only with positives"),N(l.red,"red works only with red numbers")},Oe.prototype._verify2=function(l,f){N(!(l.negative|f.negative),"red works only with positives"),N(l.red&&l.red===f.red,"red works only with red numbers")},Oe.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},Oe.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},Oe.prototype.add=function(l,f){this._verify2(l,f);var w=l.add(f);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},Oe.prototype.iadd=function(l,f){this._verify2(l,f);var w=l.iadd(f);return w.cmp(this.m)>=0&&w.isub(this.m),w},Oe.prototype.sub=function(l,f){this._verify2(l,f);var w=l.sub(f);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},Oe.prototype.isub=function(l,f){this._verify2(l,f);var w=l.isub(f);return w.cmpn(0)<0&&w.iadd(this.m),w},Oe.prototype.shl=function(l,f){return this._verify1(l),this.imod(l.ushln(f))},Oe.prototype.imul=function(l,f){return this._verify2(l,f),this.imod(l.imul(f))},Oe.prototype.mul=function(l,f){return this._verify2(l,f),this.imod(l.mul(f))},Oe.prototype.isqr=function(l){return this.imul(l,l.clone())},Oe.prototype.sqr=function(l){return this.mul(l,l)},Oe.prototype.sqrt=function(l){if(l.isZero())return l.clone();var f=this.m.andln(3);if(N(f%2==1),3===f){var w=this.m.add(new M(1)).iushrn(2);return this.pow(l,w)}for(var _=this.m.subn(1),D=0;!_.isZero()&&0===_.andln(1);)D++,_.iushrn(1);N(!_.isZero());var O=new M(1).toRed(this),$=O.redNeg(),T=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new M(2*c*c).toRed(this);0!==this.pow(c,T).cmp($);)c.redIAdd($);for(var E=this.pow(c,_),q=this.pow(l,_.addn(1).iushrn(1)),X=this.pow(l,_),ce=D;0!==X.cmp(O);){for(var me=X,Te=0;0!==me.cmp(O);Te++)me=me.redSqr();N(Te<ce);var Ke=this.pow(E,new M(1).iushln(ce-Te-1));q=q.redMul(Ke),E=Ke.redSqr(),X=X.redMul(E),ce=Te}return q},Oe.prototype.invm=function(l){var f=l._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},Oe.prototype.pow=function(l,f){if(f.isZero())return new M(1).toRed(this);if(0===f.cmpn(1))return l.clone();var _=new Array(16);_[0]=new M(1).toRed(this),_[1]=l;for(var D=2;D<_.length;D++)_[D]=this.mul(_[D-1],l);var O=_[0],$=0,T=0,c=f.bitLength()%26;for(0===c&&(c=26),D=f.length-1;D>=0;D--){for(var E=f.words[D],q=c-1;q>=0;q--){var X=E>>q&1;O!==_[0]&&(O=this.sqr(O)),0!==X||0!==$?($<<=1,$|=X,(4==++T||0===D&&0===q)&&(O=this.mul(O,_[$]),T=0,$=0)):T=0}c=26}return O},Oe.prototype.convertTo=function(l){var f=l.umod(this.m);return f===l?f.clone():f},Oe.prototype.convertFrom=function(l){var f=l.clone();return f.red=null,f},M.mont=function(l){return new je(l)},Y(je,Oe),je.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},je.prototype.convertFrom=function(l){var f=this.imod(l.mul(this.rinv));return f.red=null,f},je.prototype.imul=function(l,f){if(l.isZero()||f.isZero())return l.words[0]=0,l.length=1,l;var w=l.imul(f),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=w.isub(_).iushrn(this.shift),O=D;return D.cmp(this.m)>=0?O=D.isub(this.m):D.cmpn(0)<0&&(O=D.iadd(this.m)),O._forceRed(this)},je.prototype.mul=function(l,f){if(l.isZero()||f.isZero())return new M(0)._forceRed(this);var w=l.mul(f),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=w.isub(_).iushrn(this.shift),O=D;return D.cmp(this.m)>=0?O=D.isub(this.m):D.cmpn(0)<0&&(O=D.iadd(this.m)),O._forceRed(this)},je.prototype.invm=function(l){return this.imod(l._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ye=A.nmd(Ye),this)},13981:(Ye,J)=>{"use strict";J.byteLength=function R(W){var Q=j(W),ae=Q[1];return 3*(Q[0]+ae)/4-ae},J.toByteArray=function H(W){var Q,he,de=j(W),ae=de[0],re=de[1],te=new x(function U(W,Q,de){return 3*(Q+de)/4-de}(0,ae,re)),ue=0,pe=re>0?ae-4:ae;for(he=0;he<pe;he+=4)Q=h[W.charCodeAt(he)]<<18|h[W.charCodeAt(he+1)]<<12|h[W.charCodeAt(he+2)]<<6|h[W.charCodeAt(he+3)],te[ue++]=Q>>16&255,te[ue++]=Q>>8&255,te[ue++]=255&Q;return 2===re&&(Q=h[W.charCodeAt(he)]<<2|h[W.charCodeAt(he+1)]>>4,te[ue++]=255&Q),1===re&&(Q=h[W.charCodeAt(he)]<<10|h[W.charCodeAt(he+1)]<<4|h[W.charCodeAt(he+2)]>>2,te[ue++]=Q>>8&255,te[ue++]=255&Q),te},J.fromByteArray=function ee(W){for(var Q,de=W.length,ae=de%3,re=[],ue=0,pe=de-ae;ue<pe;ue+=16383)re.push(P(W,ue,ue+16383>pe?pe:ue+16383));return 1===ae?re.push(A[(Q=W[de-1])>>2]+A[Q<<4&63]+"=="):2===ae&&re.push(A[(Q=(W[de-2]<<8)+W[de-1])>>10]+A[Q>>4&63]+A[Q<<2&63]+"="),re.join("")};for(var A=[],h=[],x=typeof Uint8Array<"u"?Uint8Array:Array,N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y=0;Y<64;++Y)A[Y]=N[Y],h[N.charCodeAt(Y)]=Y;function j(W){var Q=W.length;if(Q%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var de=W.indexOf("=");return-1===de&&(de=Q),[de,de===Q?0:4-de%4]}function V(W){return A[W>>18&63]+A[W>>12&63]+A[W>>6&63]+A[63&W]}function P(W,Q,de){for(var re=[],te=Q;te<de;te+=3)re.push(V((W[te]<<16&16711680)+(W[te+1]<<8&65280)+(255&W[te+2])));return re.join("")}h[45]=62,h[95]=63},917:function(Ye,J,A){!function(h,x){"use strict";function N(w,_){if(!w)throw new Error(_||"Assertion failed")}function Y(w,_){w.super_=_;var D=function(){};D.prototype=_.prototype,w.prototype=new D,w.prototype.constructor=w}function M(w,_,D){if(M.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,null!==w&&(("le"===_||"be"===_)&&(D=_,_=10),this._init(w||0,_||10,D||"be"))}var j;"object"==typeof h?h.exports=M:x.BN=M,M.BN=M,M.wordSize=26;try{j=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:A(47790).Buffer}catch{}function R(w,_){var D=w.charCodeAt(_);return D>=48&&D<=57?D-48:D>=65&&D<=70?D-55:D>=97&&D<=102?D-87:void N(!1,"Invalid character in "+w)}function U(w,_,D){var O=R(w,D);return D-1>=_&&(O|=R(w,D-1)<<4),O}function H(w,_,D,O){for(var $=0,T=0,c=Math.min(w.length,D),E=_;E<c;E++){var q=w.charCodeAt(E)-48;$*=O,T=q>=49?q-49+10:q>=17?q-17+10:q,N(q>=0&&T<O,"Invalid character"),$+=T}return $}function V(w,_){w.words=_.words,w.length=_.length,w.negative=_.negative,w.red=_.red}if(M.isBN=function(_){return _ instanceof M||null!==_&&"object"==typeof _&&_.constructor.wordSize===M.wordSize&&Array.isArray(_.words)},M.max=function(_,D){return _.cmp(D)>0?_:D},M.min=function(_,D){return _.cmp(D)<0?_:D},M.prototype._init=function(_,D,O){if("number"==typeof _)return this._initNumber(_,D,O);if("object"==typeof _)return this._initArray(_,D,O);"hex"===D&&(D=16),N(D===(0|D)&&D>=2&&D<=36);var $=0;"-"===(_=_.toString().replace(/\s+/g,""))[0]&&($++,this.negative=1),$<_.length&&(16===D?this._parseHex(_,$,O):(this._parseBase(_,D,$),"le"===O&&this._initArray(this.toArray(),D,O)))},M.prototype._initNumber=function(_,D,O){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[67108863&_],this.length=1):_<4503599627370496?(this.words=[67108863&_,_/67108864&67108863],this.length=2):(N(_<9007199254740992),this.words=[67108863&_,_/67108864&67108863,1],this.length=3),"le"===O&&this._initArray(this.toArray(),D,O)},M.prototype._initArray=function(_,D,O){if(N("number"==typeof _.length),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var T,c,E=0;if("be"===O)for($=_.length-1,T=0;$>=0;$-=3)this.words[T]|=(c=_[$]|_[$-1]<<8|_[$-2]<<16)<<E&67108863,this.words[T+1]=c>>>26-E&67108863,(E+=24)>=26&&(E-=26,T++);else if("le"===O)for($=0,T=0;$<_.length;$+=3)this.words[T]|=(c=_[$]|_[$+1]<<8|_[$+2]<<16)<<E&67108863,this.words[T+1]=c>>>26-E&67108863,(E+=24)>=26&&(E-=26,T++);return this._strip()},M.prototype._parseHex=function(_,D,O){this.length=Math.ceil((_.length-D)/6),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var E,T=0,c=0;if("be"===O)for($=_.length-1;$>=D;$-=2)E=U(_,D,$)<<T,this.words[c]|=67108863&E,T>=18?(T-=18,this.words[c+=1]|=E>>>26):T+=8;else for($=(_.length-D)%2==0?D+1:D;$<_.length;$+=2)E=U(_,D,$)<<T,this.words[c]|=67108863&E,T>=18?(T-=18,this.words[c+=1]|=E>>>26):T+=8;this._strip()},M.prototype._parseBase=function(_,D,O){this.words=[0],this.length=1;for(var $=0,T=1;T<=67108863;T*=D)$++;$--,T=T/D|0;for(var c=_.length-O,E=c%$,q=Math.min(c,c-E)+O,X=0,ce=O;ce<q;ce+=$)X=H(_,ce,ce+$,D),this.imuln(T),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X);if(0!==E){var me=1;for(X=H(_,ce,_.length,D),ce=0;ce<E;ce++)me*=D;this.imuln(me),this.words[0]+X<67108864?this.words[0]+=X:this._iaddn(X)}this._strip()},M.prototype.copy=function(_){_.words=new Array(this.length);for(var D=0;D<this.length;D++)_.words[D]=this.words[D];_.length=this.length,_.negative=this.negative,_.red=this.red},M.prototype._move=function(_){V(_,this)},M.prototype.clone=function(){var _=new M(null);return this.copy(_),_},M.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},M.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},M.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{M.prototype[Symbol.for("nodejs.util.inspect.custom")]=P}catch{M.prototype.inspect=P}else M.prototype.inspect=P;function P(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var ee=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],W=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Q=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function re(w,_,D){D.negative=_.negative^w.negative;var O=w.length+_.length|0;D.length=O,O=O-1|0;var $=0|w.words[0],T=0|_.words[0],c=$*T,q=c/67108864|0;D.words[0]=67108863&c;for(var X=1;X<O;X++){for(var ce=q>>>26,me=67108863&q,Te=Math.min(X,_.length-1),Ke=Math.max(0,X-w.length+1);Ke<=Te;Ke++)ce+=(c=($=0|w.words[X-Ke|0])*(T=0|_.words[Ke])+me)/67108864|0,me=67108863&c;D.words[X]=0|me,q=0|ce}return 0!==q?D.words[X]=0|q:D.length--,D._strip()}M.prototype.toString=function(_,D){var O;if(D=0|D||1,16===(_=_||10)||"hex"===_){O="";for(var $=0,T=0,c=0;c<this.length;c++){var E=this.words[c],q=(16777215&(E<<$|T)).toString(16);T=E>>>24-$&16777215,($+=2)>=26&&($-=26,c--),O=0!==T||c!==this.length-1?ee[6-q.length]+q+O:q+O}for(0!==T&&(O=T.toString(16)+O);O.length%D!=0;)O="0"+O;return 0!==this.negative&&(O="-"+O),O}if(_===(0|_)&&_>=2&&_<=36){var X=W[_],ce=Q[_];O="";var me=this.clone();for(me.negative=0;!me.isZero();){var Te=me.modrn(ce).toString(_);O=(me=me.idivn(ce)).isZero()?Te+O:ee[X-Te.length]+Te+O}for(this.isZero()&&(O="0"+O);O.length%D!=0;)O="0"+O;return 0!==this.negative&&(O="-"+O),O}N(!1,"Base should be between 2 and 36")},M.prototype.toNumber=function(){var _=this.words[0];return 2===this.length?_+=67108864*this.words[1]:3===this.length&&1===this.words[2]?_+=4503599627370496+67108864*this.words[1]:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-_:_},M.prototype.toJSON=function(){return this.toString(16,2)},j&&(M.prototype.toBuffer=function(_,D){return this.toArrayLike(j,_,D)}),M.prototype.toArray=function(_,D){return this.toArrayLike(Array,_,D)},M.prototype.toArrayLike=function(_,D,O){this._strip();var $=this.byteLength(),T=O||Math.max(1,$);N($<=T,"byte array longer than desired length"),N(T>0,"Requested array length <= 0");var c=function(_,D){return _.allocUnsafe?_.allocUnsafe(D):new _(D)}(_,T);return this["_toArrayLike"+("le"===D?"LE":"BE")](c,$),c},M.prototype._toArrayLikeLE=function(_,D){for(var O=0,$=0,T=0,c=0;T<this.length;T++){var E=this.words[T]<<c|$;_[O++]=255&E,O<_.length&&(_[O++]=E>>8&255),O<_.length&&(_[O++]=E>>16&255),6===c?(O<_.length&&(_[O++]=E>>24&255),$=0,c=0):($=E>>>24,c+=2)}if(O<_.length)for(_[O++]=$;O<_.length;)_[O++]=0},M.prototype._toArrayLikeBE=function(_,D){for(var O=_.length-1,$=0,T=0,c=0;T<this.length;T++){var E=this.words[T]<<c|$;_[O--]=255&E,O>=0&&(_[O--]=E>>8&255),O>=0&&(_[O--]=E>>16&255),6===c?(O>=0&&(_[O--]=E>>24&255),$=0,c=0):($=E>>>24,c+=2)}if(O>=0)for(_[O--]=$;O>=0;)_[O--]=0},M.prototype._countBits=Math.clz32?function(_){return 32-Math.clz32(_)}:function(_){var D=_,O=0;return D>=4096&&(O+=13,D>>>=13),D>=64&&(O+=7,D>>>=7),D>=8&&(O+=4,D>>>=4),D>=2&&(O+=2,D>>>=2),O+D},M.prototype._zeroBits=function(_){if(0===_)return 26;var D=_,O=0;return 8191&D||(O+=13,D>>>=13),127&D||(O+=7,D>>>=7),15&D||(O+=4,D>>>=4),3&D||(O+=2,D>>>=2),1&D||O++,O},M.prototype.bitLength=function(){var D=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+D},M.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,D=0;D<this.length;D++){var O=this._zeroBits(this.words[D]);if(_+=O,26!==O)break}return _},M.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},M.prototype.toTwos=function(_){return 0!==this.negative?this.abs().inotn(_).iaddn(1):this.clone()},M.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},M.prototype.isNeg=function(){return 0!==this.negative},M.prototype.neg=function(){return this.clone().ineg()},M.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},M.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var D=0;D<_.length;D++)this.words[D]=this.words[D]|_.words[D];return this._strip()},M.prototype.ior=function(_){return N(!(this.negative|_.negative)),this.iuor(_)},M.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},M.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},M.prototype.iuand=function(_){var D;D=this.length>_.length?_:this;for(var O=0;O<D.length;O++)this.words[O]=this.words[O]&_.words[O];return this.length=D.length,this._strip()},M.prototype.iand=function(_){return N(!(this.negative|_.negative)),this.iuand(_)},M.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},M.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},M.prototype.iuxor=function(_){var D,O;this.length>_.length?(D=this,O=_):(D=_,O=this);for(var $=0;$<O.length;$++)this.words[$]=D.words[$]^O.words[$];if(this!==D)for(;$<D.length;$++)this.words[$]=D.words[$];return this.length=D.length,this._strip()},M.prototype.ixor=function(_){return N(!(this.negative|_.negative)),this.iuxor(_)},M.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},M.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},M.prototype.inotn=function(_){N("number"==typeof _&&_>=0);var D=0|Math.ceil(_/26),O=_%26;this._expand(D),O>0&&D--;for(var $=0;$<D;$++)this.words[$]=67108863&~this.words[$];return O>0&&(this.words[$]=~this.words[$]&67108863>>26-O),this._strip()},M.prototype.notn=function(_){return this.clone().inotn(_)},M.prototype.setn=function(_,D){N("number"==typeof _&&_>=0);var O=_/26|0,$=_%26;return this._expand(O+1),this.words[O]=D?this.words[O]|1<<$:this.words[O]&~(1<<$),this._strip()},M.prototype.iadd=function(_){var D,O,$;if(0!==this.negative&&0===_.negative)return this.negative=0,D=this.isub(_),this.negative^=1,this._normSign();if(0===this.negative&&0!==_.negative)return _.negative=0,D=this.isub(_),_.negative=1,D._normSign();this.length>_.length?(O=this,$=_):(O=_,$=this);for(var T=0,c=0;c<$.length;c++)this.words[c]=67108863&(D=(0|O.words[c])+(0|$.words[c])+T),T=D>>>26;for(;0!==T&&c<O.length;c++)this.words[c]=67108863&(D=(0|O.words[c])+T),T=D>>>26;if(this.length=O.length,0!==T)this.words[this.length]=T,this.length++;else if(O!==this)for(;c<O.length;c++)this.words[c]=O.words[c];return this},M.prototype.add=function(_){var D;return 0!==_.negative&&0===this.negative?(_.negative=0,D=this.sub(_),_.negative^=1,D):0===_.negative&&0!==this.negative?(this.negative=0,D=_.sub(this),this.negative=1,D):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},M.prototype.isub=function(_){if(0!==_.negative){_.negative=0;var D=this.iadd(_);return _.negative=1,D._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var $,T,O=this.cmp(_);if(0===O)return this.negative=0,this.length=1,this.words[0]=0,this;O>0?($=this,T=_):($=_,T=this);for(var c=0,E=0;E<T.length;E++)c=(D=(0|$.words[E])-(0|T.words[E])+c)>>26,this.words[E]=67108863&D;for(;0!==c&&E<$.length;E++)c=(D=(0|$.words[E])+c)>>26,this.words[E]=67108863&D;if(0===c&&E<$.length&&$!==this)for(;E<$.length;E++)this.words[E]=$.words[E];return this.length=Math.max(this.length,E),$!==this&&(this.negative=1),this._strip()},M.prototype.sub=function(_){return this.clone().isub(_)};var te=function(_,D,O){var q,X,ce,$=_.words,T=D.words,c=O.words,E=0,me=0|$[0],Te=8191&me,Ke=me>>>13,Qe=0|$[1],ke=8191&Qe,Ie=Qe>>>13,Xe=0|$[2],Se=8191&Xe,Le=Xe>>>13,Ee=0|$[3],be=8191&Ee,oe=Ee>>>13,fe=0|$[4],we=8191&fe,De=fe>>>13,$e=0|$[5],Je=8191&$e,Ze=$e>>>13,Pt=0|$[6],nt=8191&Pt,Ge=Pt>>>13,Et=0|$[7],K=8191&Et,C=Et>>>13,b=0|$[8],z=8191&b,le=b>>>13,Ae=0|$[9],Be=8191&Ae,ft=Ae>>>13,Yt=0|T[0],Rt=8191&Yt,Vt=Yt>>>13,dn=0|T[1],Mn=8191&dn,En=dn>>>13,Ar=0|T[2],jn=8191&Ar,mn=Ar>>>13,pn=0|T[3],kt=8191&pn,St=pn>>>13,an=0|T[4],hn=8191&an,An=an>>>13,Rr=0|T[5],Tt=8191&Rr,Nt=Rr>>>13,Lt=0|T[6],st=8191&Lt,mt=Lt>>>13,sn=0|T[7],Zt=8191&sn,xn=sn>>>13,cr=0|T[8],kn=8191&cr,zn=cr>>>13,qr=0|T[9],pr=8191&qr,qn=qr>>>13;O.negative=_.negative^D.negative,O.length=19;var Jt=(E+(q=Math.imul(Te,Rt))|0)+((8191&(X=(X=Math.imul(Te,Vt))+Math.imul(Ke,Rt)|0))<<13)|0;E=((ce=Math.imul(Ke,Vt))+(X>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,q=Math.imul(ke,Rt),X=(X=Math.imul(ke,Vt))+Math.imul(Ie,Rt)|0,ce=Math.imul(Ie,Vt);var dt=(E+(q=q+Math.imul(Te,Mn)|0)|0)+((8191&(X=(X=X+Math.imul(Te,En)|0)+Math.imul(Ke,Mn)|0))<<13)|0;E=((ce=ce+Math.imul(Ke,En)|0)+(X>>>13)|0)+(dt>>>26)|0,dt&=67108863,q=Math.imul(Se,Rt),X=(X=Math.imul(Se,Vt))+Math.imul(Le,Rt)|0,ce=Math.imul(Le,Vt),q=q+Math.imul(ke,Mn)|0,X=(X=X+Math.imul(ke,En)|0)+Math.imul(Ie,Mn)|0,ce=ce+Math.imul(Ie,En)|0;var Ne=(E+(q=q+Math.imul(Te,jn)|0)|0)+((8191&(X=(X=X+Math.imul(Te,mn)|0)+Math.imul(Ke,jn)|0))<<13)|0;E=((ce=ce+Math.imul(Ke,mn)|0)+(X>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,q=Math.imul(be,Rt),X=(X=Math.imul(be,Vt))+Math.imul(oe,Rt)|0,ce=Math.imul(oe,Vt),q=q+Math.imul(Se,Mn)|0,X=(X=X+Math.imul(Se,En)|0)+Math.imul(Le,Mn)|0,ce=ce+Math.imul(Le,En)|0,q=q+Math.imul(ke,jn)|0,X=(X=X+Math.imul(ke,mn)|0)+Math.imul(Ie,jn)|0,ce=ce+Math.imul(Ie,mn)|0;var We=(E+(q=q+Math.imul(Te,kt)|0)|0)+((8191&(X=(X=X+Math.imul(Te,St)|0)+Math.imul(Ke,kt)|0))<<13)|0;E=((ce=ce+Math.imul(Ke,St)|0)+(X>>>13)|0)+(We>>>26)|0,We&=67108863,q=Math.imul(we,Rt),X=(X=Math.imul(we,Vt))+Math.imul(De,Rt)|0,ce=Math.imul(De,Vt),q=q+Math.imul(be,Mn)|0,X=(X=X+Math.imul(be,En)|0)+Math.imul(oe,Mn)|0,ce=ce+Math.imul(oe,En)|0,q=q+Math.imul(Se,jn)|0,X=(X=X+Math.imul(Se,mn)|0)+Math.imul(Le,jn)|0,ce=ce+Math.imul(Le,mn)|0,q=q+Math.imul(ke,kt)|0,X=(X=X+Math.imul(ke,St)|0)+Math.imul(Ie,kt)|0,ce=ce+Math.imul(Ie,St)|0;var Bt=(E+(q=q+Math.imul(Te,hn)|0)|0)+((8191&(X=(X=X+Math.imul(Te,An)|0)+Math.imul(Ke,hn)|0))<<13)|0;E=((ce=ce+Math.imul(Ke,An)|0)+(X>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,q=Math.imul(Je,Rt),X=(X=Math.imul(Je,Vt))+Math.imul(Ze,Rt)|0,ce=Math.imul(Ze,Vt),q=q+Math.imul(we,Mn)|0,X=(X=X+Math.imul(we,En)|0)+Math.imul(De,Mn)|0,ce=ce+Math.imul(De,En)|0,q=q+Math.imul(be,jn)|0,X=(X=X+Math.imul(be,mn)|0)+Math.imul(oe,jn)|0,ce=ce+Math.imul(oe,mn)|0,q=q+Math.imul(Se,kt)|0,X=(X=X+Math.imul(Se,St)|0)+Math.imul(Le,kt)|0,ce=ce+Math.imul(Le,St)|0,q=q+Math.imul(ke,hn)|0,X=(X=X+Math.imul(ke,An)|0)+Math.imul(Ie,hn)|0,ce=ce+Math.imul(Ie,An)|0;var gn=(E+(q=q+Math.imul(Te,Tt)|0)|0)+((8191&(X=(X=X+Math.imul(Te,Nt)|0)+Math.imul(Ke,Tt)|0))<<13)|0;E=((ce=ce+Math.imul(Ke,Nt)|0)+(X>>>13)|0)+(gn>>>26)|0,gn&=67108863,q=Math.imul(nt,Rt),X=(X=Math.imul(nt,Vt))+Math.imul(Ge,Rt)|0,ce=Math.imul(Ge,Vt),q=q+Math.imul(Je,Mn)|0,X=(X=X+Math.imul(Je,En)|0)+Math.imul(Ze,Mn)|0,ce=ce+Math.imul(Ze,En)|0,q=q+Math.imul(we,jn)|0,X=(X=X+Math.imul(we,mn)|0)+Math.imul(De,jn)|0,ce=ce+Math.imul(De,mn)|0,q=q+Math.imul(be,kt)|0,X=(X=X+Math.imul(be,St)|0)+Math.imul(oe,kt)|0,ce=ce+Math.imul(oe,St)|0,q=q+Math.imul(Se,hn)|0,X=(X=X+Math.imul(Se,An)|0)+Math.imul(Le,hn)|0,ce=ce+Math.imul(Le,An)|0,q=q+Math.imul(ke,Tt)|0,X=(X=X+Math.imul(ke,Nt)|0)+Math.imul(Ie,Tt)|0,ce=ce+Math.imul(Ie,Nt)|0;var Kn=(E+(q=q+Math.imul(Te,st)|0)|0)+((8191&(X=(X=X+Math.imul(Te,mt)|0)+Math.imul(Ke,st)|0))<<13)|0;E=((ce=ce+Math.imul(Ke,mt)|0)+(X>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,q=Math.imul(K,Rt),X=(X=Math.imul(K,Vt))+Math.imul(C,Rt)|0,ce=Math.imul(C,Vt),q=q+Math.imul(nt,Mn)|0,X=(X=X+Math.imul(nt,En)|0)+Math.imul(Ge,Mn)|0,ce=ce+Math.imul(Ge,En)|0,q=q+Math.imul(Je,jn)|0,X=(X=X+Math.imul(Je,mn)|0)+Math.imul(Ze,jn)|0,ce=ce+Math.imul(Ze,mn)|0,q=q+Math.imul(we,kt)|0,X=(X=X+Math.imul(we,St)|0)+Math.imul(De,kt)|0,ce=ce+Math.imul(De,St)|0,q=q+Math.imul(be,hn)|0,X=(X=X+Math.imul(be,An)|0)+Math.imul(oe,hn)|0,ce=ce+Math.imul(oe,An)|0,q=q+Math.imul(Se,Tt)|0,X=(X=X+Math.imul(Se,Nt)|0)+Math.imul(Le,Tt)|0,ce=ce+Math.imul(Le,Nt)|0,q=q+Math.imul(ke,st)|0,X=(X=X+Math.imul(ke,mt)|0)+Math.imul(Ie,st)|0,ce=ce+Math.imul(Ie,mt)|0;var ir=(E+(q=q+Math.imul(Te,Zt)|0)|0)+((8191&(X=(X=X+Math.imul(Te,xn)|0)+Math.imul(Ke,Zt)|0))<<13)|0;E=((ce=ce+Math.imul(Ke,xn)|0)+(X>>>13)|0)+(ir>>>26)|0,ir&=67108863,q=Math.imul(z,Rt),X=(X=Math.imul(z,Vt))+Math.imul(le,Rt)|0,ce=Math.imul(le,Vt),q=q+Math.imul(K,Mn)|0,X=(X=X+Math.imul(K,En)|0)+Math.imul(C,Mn)|0,ce=ce+Math.imul(C,En)|0,q=q+Math.imul(nt,jn)|0,X=(X=X+Math.imul(nt,mn)|0)+Math.imul(Ge,jn)|0,ce=ce+Math.imul(Ge,mn)|0,q=q+Math.imul(Je,kt)|0,X=(X=X+Math.imul(Je,St)|0)+Math.imul(Ze,kt)|0,ce=ce+Math.imul(Ze,St)|0,q=q+Math.imul(we,hn)|0,X=(X=X+Math.imul(we,An)|0)+Math.imul(De,hn)|0,ce=ce+Math.imul(De,An)|0,q=q+Math.imul(be,Tt)|0,X=(X=X+Math.imul(be,Nt)|0)+Math.imul(oe,Tt)|0,ce=ce+Math.imul(oe,Nt)|0,q=q+Math.imul(Se,st)|0,X=(X=X+Math.imul(Se,mt)|0)+Math.imul(Le,st)|0,ce=ce+Math.imul(Le,mt)|0,q=q+Math.imul(ke,Zt)|0,X=(X=X+Math.imul(ke,xn)|0)+Math.imul(Ie,Zt)|0,ce=ce+Math.imul(Ie,xn)|0;var hr=(E+(q=q+Math.imul(Te,kn)|0)|0)+((8191&(X=(X=X+Math.imul(Te,zn)|0)+Math.imul(Ke,kn)|0))<<13)|0;E=((ce=ce+Math.imul(Ke,zn)|0)+(X>>>13)|0)+(hr>>>26)|0,hr&=67108863,q=Math.imul(Be,Rt),X=(X=Math.imul(Be,Vt))+Math.imul(ft,Rt)|0,ce=Math.imul(ft,Vt),q=q+Math.imul(z,Mn)|0,X=(X=X+Math.imul(z,En)|0)+Math.imul(le,Mn)|0,ce=ce+Math.imul(le,En)|0,q=q+Math.imul(K,jn)|0,X=(X=X+Math.imul(K,mn)|0)+Math.imul(C,jn)|0,ce=ce+Math.imul(C,mn)|0,q=q+Math.imul(nt,kt)|0,X=(X=X+Math.imul(nt,St)|0)+Math.imul(Ge,kt)|0,ce=ce+Math.imul(Ge,St)|0,q=q+Math.imul(Je,hn)|0,X=(X=X+Math.imul(Je,An)|0)+Math.imul(Ze,hn)|0,ce=ce+Math.imul(Ze,An)|0,q=q+Math.imul(we,Tt)|0,X=(X=X+Math.imul(we,Nt)|0)+Math.imul(De,Tt)|0,ce=ce+Math.imul(De,Nt)|0,q=q+Math.imul(be,st)|0,X=(X=X+Math.imul(be,mt)|0)+Math.imul(oe,st)|0,ce=ce+Math.imul(oe,mt)|0,q=q+Math.imul(Se,Zt)|0,X=(X=X+Math.imul(Se,xn)|0)+Math.imul(Le,Zt)|0,ce=ce+Math.imul(Le,xn)|0,q=q+Math.imul(ke,kn)|0,X=(X=X+Math.imul(ke,zn)|0)+Math.imul(Ie,kn)|0,ce=ce+Math.imul(Ie,zn)|0;var Wr=(E+(q=q+Math.imul(Te,pr)|0)|0)+((8191&(X=(X=X+Math.imul(Te,qn)|0)+Math.imul(Ke,pr)|0))<<13)|0;E=((ce=ce+Math.imul(Ke,qn)|0)+(X>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,q=Math.imul(Be,Mn),X=(X=Math.imul(Be,En))+Math.imul(ft,Mn)|0,ce=Math.imul(ft,En),q=q+Math.imul(z,jn)|0,X=(X=X+Math.imul(z,mn)|0)+Math.imul(le,jn)|0,ce=ce+Math.imul(le,mn)|0,q=q+Math.imul(K,kt)|0,X=(X=X+Math.imul(K,St)|0)+Math.imul(C,kt)|0,ce=ce+Math.imul(C,St)|0,q=q+Math.imul(nt,hn)|0,X=(X=X+Math.imul(nt,An)|0)+Math.imul(Ge,hn)|0,ce=ce+Math.imul(Ge,An)|0,q=q+Math.imul(Je,Tt)|0,X=(X=X+Math.imul(Je,Nt)|0)+Math.imul(Ze,Tt)|0,ce=ce+Math.imul(Ze,Nt)|0,q=q+Math.imul(we,st)|0,X=(X=X+Math.imul(we,mt)|0)+Math.imul(De,st)|0,ce=ce+Math.imul(De,mt)|0,q=q+Math.imul(be,Zt)|0,X=(X=X+Math.imul(be,xn)|0)+Math.imul(oe,Zt)|0,ce=ce+Math.imul(oe,xn)|0,q=q+Math.imul(Se,kn)|0,X=(X=X+Math.imul(Se,zn)|0)+Math.imul(Le,kn)|0,ce=ce+Math.imul(Le,zn)|0;var Vr=(E+(q=q+Math.imul(ke,pr)|0)|0)+((8191&(X=(X=X+Math.imul(ke,qn)|0)+Math.imul(Ie,pr)|0))<<13)|0;E=((ce=ce+Math.imul(Ie,qn)|0)+(X>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,q=Math.imul(Be,jn),X=(X=Math.imul(Be,mn))+Math.imul(ft,jn)|0,ce=Math.imul(ft,mn),q=q+Math.imul(z,kt)|0,X=(X=X+Math.imul(z,St)|0)+Math.imul(le,kt)|0,ce=ce+Math.imul(le,St)|0,q=q+Math.imul(K,hn)|0,X=(X=X+Math.imul(K,An)|0)+Math.imul(C,hn)|0,ce=ce+Math.imul(C,An)|0,q=q+Math.imul(nt,Tt)|0,X=(X=X+Math.imul(nt,Nt)|0)+Math.imul(Ge,Tt)|0,ce=ce+Math.imul(Ge,Nt)|0,q=q+Math.imul(Je,st)|0,X=(X=X+Math.imul(Je,mt)|0)+Math.imul(Ze,st)|0,ce=ce+Math.imul(Ze,mt)|0,q=q+Math.imul(we,Zt)|0,X=(X=X+Math.imul(we,xn)|0)+Math.imul(De,Zt)|0,ce=ce+Math.imul(De,xn)|0,q=q+Math.imul(be,kn)|0,X=(X=X+Math.imul(be,zn)|0)+Math.imul(oe,kn)|0,ce=ce+Math.imul(oe,zn)|0;var ti=(E+(q=q+Math.imul(Se,pr)|0)|0)+((8191&(X=(X=X+Math.imul(Se,qn)|0)+Math.imul(Le,pr)|0))<<13)|0;E=((ce=ce+Math.imul(Le,qn)|0)+(X>>>13)|0)+(ti>>>26)|0,ti&=67108863,q=Math.imul(Be,kt),X=(X=Math.imul(Be,St))+Math.imul(ft,kt)|0,ce=Math.imul(ft,St),q=q+Math.imul(z,hn)|0,X=(X=X+Math.imul(z,An)|0)+Math.imul(le,hn)|0,ce=ce+Math.imul(le,An)|0,q=q+Math.imul(K,Tt)|0,X=(X=X+Math.imul(K,Nt)|0)+Math.imul(C,Tt)|0,ce=ce+Math.imul(C,Nt)|0,q=q+Math.imul(nt,st)|0,X=(X=X+Math.imul(nt,mt)|0)+Math.imul(Ge,st)|0,ce=ce+Math.imul(Ge,mt)|0,q=q+Math.imul(Je,Zt)|0,X=(X=X+Math.imul(Je,xn)|0)+Math.imul(Ze,Zt)|0,ce=ce+Math.imul(Ze,xn)|0,q=q+Math.imul(we,kn)|0,X=(X=X+Math.imul(we,zn)|0)+Math.imul(De,kn)|0,ce=ce+Math.imul(De,zn)|0;var ni=(E+(q=q+Math.imul(be,pr)|0)|0)+((8191&(X=(X=X+Math.imul(be,qn)|0)+Math.imul(oe,pr)|0))<<13)|0;E=((ce=ce+Math.imul(oe,qn)|0)+(X>>>13)|0)+(ni>>>26)|0,ni&=67108863,q=Math.imul(Be,hn),X=(X=Math.imul(Be,An))+Math.imul(ft,hn)|0,ce=Math.imul(ft,An),q=q+Math.imul(z,Tt)|0,X=(X=X+Math.imul(z,Nt)|0)+Math.imul(le,Tt)|0,ce=ce+Math.imul(le,Nt)|0,q=q+Math.imul(K,st)|0,X=(X=X+Math.imul(K,mt)|0)+Math.imul(C,st)|0,ce=ce+Math.imul(C,mt)|0,q=q+Math.imul(nt,Zt)|0,X=(X=X+Math.imul(nt,xn)|0)+Math.imul(Ge,Zt)|0,ce=ce+Math.imul(Ge,xn)|0,q=q+Math.imul(Je,kn)|0,X=(X=X+Math.imul(Je,zn)|0)+Math.imul(Ze,kn)|0,ce=ce+Math.imul(Ze,zn)|0;var Ei=(E+(q=q+Math.imul(we,pr)|0)|0)+((8191&(X=(X=X+Math.imul(we,qn)|0)+Math.imul(De,pr)|0))<<13)|0;E=((ce=ce+Math.imul(De,qn)|0)+(X>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,q=Math.imul(Be,Tt),X=(X=Math.imul(Be,Nt))+Math.imul(ft,Tt)|0,ce=Math.imul(ft,Nt),q=q+Math.imul(z,st)|0,X=(X=X+Math.imul(z,mt)|0)+Math.imul(le,st)|0,ce=ce+Math.imul(le,mt)|0,q=q+Math.imul(K,Zt)|0,X=(X=X+Math.imul(K,xn)|0)+Math.imul(C,Zt)|0,ce=ce+Math.imul(C,xn)|0,q=q+Math.imul(nt,kn)|0,X=(X=X+Math.imul(nt,zn)|0)+Math.imul(Ge,kn)|0,ce=ce+Math.imul(Ge,zn)|0;var yn=(E+(q=q+Math.imul(Je,pr)|0)|0)+((8191&(X=(X=X+Math.imul(Je,qn)|0)+Math.imul(Ze,pr)|0))<<13)|0;E=((ce=ce+Math.imul(Ze,qn)|0)+(X>>>13)|0)+(yn>>>26)|0,yn&=67108863,q=Math.imul(Be,st),X=(X=Math.imul(Be,mt))+Math.imul(ft,st)|0,ce=Math.imul(ft,mt),q=q+Math.imul(z,Zt)|0,X=(X=X+Math.imul(z,xn)|0)+Math.imul(le,Zt)|0,ce=ce+Math.imul(le,xn)|0,q=q+Math.imul(K,kn)|0,X=(X=X+Math.imul(K,zn)|0)+Math.imul(C,kn)|0,ce=ce+Math.imul(C,zn)|0;var Pn=(E+(q=q+Math.imul(nt,pr)|0)|0)+((8191&(X=(X=X+Math.imul(nt,qn)|0)+Math.imul(Ge,pr)|0))<<13)|0;E=((ce=ce+Math.imul(Ge,qn)|0)+(X>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,q=Math.imul(Be,Zt),X=(X=Math.imul(Be,xn))+Math.imul(ft,Zt)|0,ce=Math.imul(ft,xn),q=q+Math.imul(z,kn)|0,X=(X=X+Math.imul(z,zn)|0)+Math.imul(le,kn)|0,ce=ce+Math.imul(le,zn)|0;var Nn=(E+(q=q+Math.imul(K,pr)|0)|0)+((8191&(X=(X=X+Math.imul(K,qn)|0)+Math.imul(C,pr)|0))<<13)|0;E=((ce=ce+Math.imul(C,qn)|0)+(X>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,q=Math.imul(Be,kn),X=(X=Math.imul(Be,zn))+Math.imul(ft,kn)|0,ce=Math.imul(ft,zn);var tr=(E+(q=q+Math.imul(z,pr)|0)|0)+((8191&(X=(X=X+Math.imul(z,qn)|0)+Math.imul(le,pr)|0))<<13)|0;E=((ce=ce+Math.imul(le,qn)|0)+(X>>>13)|0)+(tr>>>26)|0,tr&=67108863;var Dr=(E+(q=Math.imul(Be,pr))|0)+((8191&(X=(X=Math.imul(Be,qn))+Math.imul(ft,pr)|0))<<13)|0;return E=((ce=Math.imul(ft,qn))+(X>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,c[0]=Jt,c[1]=dt,c[2]=Ne,c[3]=We,c[4]=Bt,c[5]=gn,c[6]=Kn,c[7]=ir,c[8]=hr,c[9]=Wr,c[10]=Vr,c[11]=ti,c[12]=ni,c[13]=Ei,c[14]=yn,c[15]=Pn,c[16]=Nn,c[17]=tr,c[18]=Dr,0!==E&&(c[19]=E,O.length++),O};function ue(w,_,D){D.negative=_.negative^w.negative,D.length=w.length+_.length;for(var O=0,$=0,T=0;T<D.length-1;T++){var c=$;$=0;for(var E=67108863&O,q=Math.min(T,_.length-1),X=Math.max(0,T-w.length+1);X<=q;X++){var Ke=(0|w.words[T-X])*(0|_.words[X]),Qe=67108863&Ke;E=67108863&(Qe=Qe+E|0),$+=(c=(c=c+(Ke/67108864|0)|0)+(Qe>>>26)|0)>>>26,c&=67108863}D.words[T]=E,O=c,c=$}return 0!==O?D.words[T]=O:D.length--,D._strip()}function pe(w,_,D){return ue(w,_,D)}function he(w,_){this.x=w,this.y=_}Math.imul||(te=re),M.prototype.mulTo=function(_,D){var $=this.length+_.length;return 10===this.length&&10===_.length?te(this,_,D):$<63?re(this,_,D):$<1024?ue(this,_,D):pe(this,_,D)},he.prototype.makeRBT=function(_){for(var D=new Array(_),O=M.prototype._countBits(_)-1,$=0;$<_;$++)D[$]=this.revBin($,O,_);return D},he.prototype.revBin=function(_,D,O){if(0===_||_===O-1)return _;for(var $=0,T=0;T<D;T++)$|=(1&_)<<D-T-1,_>>=1;return $},he.prototype.permute=function(_,D,O,$,T,c){for(var E=0;E<c;E++)$[E]=D[_[E]],T[E]=O[_[E]]},he.prototype.transform=function(_,D,O,$,T,c){this.permute(c,_,D,O,$,T);for(var E=1;E<T;E<<=1)for(var q=E<<1,X=Math.cos(2*Math.PI/q),ce=Math.sin(2*Math.PI/q),me=0;me<T;me+=q)for(var Te=X,Ke=ce,Qe=0;Qe<E;Qe++){var ke=O[me+Qe],Ie=$[me+Qe],Xe=O[me+Qe+E],Se=$[me+Qe+E],Le=Te*Xe-Ke*Se;Se=Te*Se+Ke*Xe,O[me+Qe]=ke+(Xe=Le),$[me+Qe]=Ie+Se,O[me+Qe+E]=ke-Xe,$[me+Qe+E]=Ie-Se,Qe!==q&&(Le=X*Te-ce*Ke,Ke=X*Ke+ce*Te,Te=Le)}},he.prototype.guessLen13b=function(_,D){var O=1|Math.max(D,_),$=1&O,T=0;for(O=O/2|0;O;O>>>=1)T++;return 1<<T+1+$},he.prototype.conjugate=function(_,D,O){if(!(O<=1))for(var $=0;$<O/2;$++){var T=_[$];_[$]=_[O-$-1],_[O-$-1]=T,T=D[$],D[$]=-D[O-$-1],D[O-$-1]=-T}},he.prototype.normalize13b=function(_,D){for(var O=0,$=0;$<D/2;$++){var T=8192*Math.round(_[2*$+1]/D)+Math.round(_[2*$]/D)+O;_[$]=67108863&T,O=T<67108864?0:T/67108864|0}return _},he.prototype.convert13b=function(_,D,O,$){for(var T=0,c=0;c<D;c++)O[2*c]=8191&(T+=0|_[c]),O[2*c+1]=8191&(T>>>=13),T>>>=13;for(c=2*D;c<$;++c)O[c]=0;N(0===T),N(!(-8192&T))},he.prototype.stub=function(_){for(var D=new Array(_),O=0;O<_;O++)D[O]=0;return D},he.prototype.mulp=function(_,D,O){var $=2*this.guessLen13b(_.length,D.length),T=this.makeRBT($),c=this.stub($),E=new Array($),q=new Array($),X=new Array($),ce=new Array($),me=new Array($),Te=new Array($),Ke=O.words;Ke.length=$,this.convert13b(_.words,_.length,E,$),this.convert13b(D.words,D.length,ce,$),this.transform(E,c,q,X,$,T),this.transform(ce,c,me,Te,$,T);for(var Qe=0;Qe<$;Qe++){var ke=q[Qe]*me[Qe]-X[Qe]*Te[Qe];X[Qe]=q[Qe]*Te[Qe]+X[Qe]*me[Qe],q[Qe]=ke}return this.conjugate(q,X,$),this.transform(q,X,Ke,c,$,T),this.conjugate(Ke,c,$),this.normalize13b(Ke,$),O.negative=_.negative^D.negative,O.length=_.length+D.length,O._strip()},M.prototype.mul=function(_){var D=new M(null);return D.words=new Array(this.length+_.length),this.mulTo(_,D)},M.prototype.mulf=function(_){var D=new M(null);return D.words=new Array(this.length+_.length),pe(this,_,D)},M.prototype.imul=function(_){return this.clone().mulTo(_,this)},M.prototype.imuln=function(_){var D=_<0;D&&(_=-_),N("number"==typeof _),N(_<67108864);for(var O=0,$=0;$<this.length;$++){var T=(0|this.words[$])*_,c=(67108863&T)+(67108863&O);O>>=26,O+=T/67108864|0,O+=c>>>26,this.words[$]=67108863&c}return 0!==O&&(this.words[$]=O,this.length++),D?this.ineg():this},M.prototype.muln=function(_){return this.clone().imuln(_)},M.prototype.sqr=function(){return this.mul(this)},M.prototype.isqr=function(){return this.imul(this.clone())},M.prototype.pow=function(_){var D=function ae(w){for(var _=new Array(w.bitLength()),D=0;D<_.length;D++)_[D]=w.words[D/26|0]>>>D%26&1;return _}(_);if(0===D.length)return new M(1);for(var O=this,$=0;$<D.length&&0===D[$];$++,O=O.sqr());if(++$<D.length)for(var T=O.sqr();$<D.length;$++,T=T.sqr())0!==D[$]&&(O=O.mul(T));return O},M.prototype.iushln=function(_){N("number"==typeof _&&_>=0);var T,D=_%26,O=(_-D)/26,$=67108863>>>26-D<<26-D;if(0!==D){var c=0;for(T=0;T<this.length;T++){var E=this.words[T]&$;this.words[T]=(0|this.words[T])-E<<D|c,c=E>>>26-D}c&&(this.words[T]=c,this.length++)}if(0!==O){for(T=this.length-1;T>=0;T--)this.words[T+O]=this.words[T];for(T=0;T<O;T++)this.words[T]=0;this.length+=O}return this._strip()},M.prototype.ishln=function(_){return N(0===this.negative),this.iushln(_)},M.prototype.iushrn=function(_,D,O){var $;N("number"==typeof _&&_>=0),$=D?(D-D%26)/26:0;var T=_%26,c=Math.min((_-T)/26,this.length),E=67108863^67108863>>>T<<T,q=O;if($-=c,$=Math.max(0,$),q){for(var X=0;X<c;X++)q.words[X]=this.words[X];q.length=c}if(0!==c)if(this.length>c)for(this.length-=c,X=0;X<this.length;X++)this.words[X]=this.words[X+c];else this.words[0]=0,this.length=1;var ce=0;for(X=this.length-1;X>=0&&(0!==ce||X>=$);X--){var me=0|this.words[X];this.words[X]=ce<<26-T|me>>>T,ce=me&E}return q&&0!==ce&&(q.words[q.length++]=ce),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},M.prototype.ishrn=function(_,D,O){return N(0===this.negative),this.iushrn(_,D,O)},M.prototype.shln=function(_){return this.clone().ishln(_)},M.prototype.ushln=function(_){return this.clone().iushln(_)},M.prototype.shrn=function(_){return this.clone().ishrn(_)},M.prototype.ushrn=function(_){return this.clone().iushrn(_)},M.prototype.testn=function(_){N("number"==typeof _&&_>=0);var D=_%26,O=(_-D)/26;return!(this.length<=O||!(this.words[O]&1<<D))},M.prototype.imaskn=function(_){N("number"==typeof _&&_>=0);var D=_%26,O=(_-D)/26;return N(0===this.negative,"imaskn works only with positive numbers"),this.length<=O?this:(0!==D&&O++,this.length=Math.min(O,this.length),0!==D&&(this.words[this.length-1]&=67108863^67108863>>>D<<D),this._strip())},M.prototype.maskn=function(_){return this.clone().imaskn(_)},M.prototype.iaddn=function(_){return N("number"==typeof _),N(_<67108864),_<0?this.isubn(-_):0!==this.negative?1===this.length&&(0|this.words[0])<=_?(this.words[0]=_-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},M.prototype._iaddn=function(_){this.words[0]+=_;for(var D=0;D<this.length&&this.words[D]>=67108864;D++)this.words[D]-=67108864,D===this.length-1?this.words[D+1]=1:this.words[D+1]++;return this.length=Math.max(this.length,D+1),this},M.prototype.isubn=function(_){if(N("number"==typeof _),N(_<67108864),_<0)return this.iaddn(-_);if(0!==this.negative)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var D=0;D<this.length&&this.words[D]<0;D++)this.words[D]+=67108864,this.words[D+1]-=1;return this._strip()},M.prototype.addn=function(_){return this.clone().iaddn(_)},M.prototype.subn=function(_){return this.clone().isubn(_)},M.prototype.iabs=function(){return this.negative=0,this},M.prototype.abs=function(){return this.clone().iabs()},M.prototype._ishlnsubmul=function(_,D,O){var T;this._expand(_.length+O);var c,E=0;for(T=0;T<_.length;T++){c=(0|this.words[T+O])+E;var q=(0|_.words[T])*D;E=((c-=67108863&q)>>26)-(q/67108864|0),this.words[T+O]=67108863&c}for(;T<this.length-O;T++)E=(c=(0|this.words[T+O])+E)>>26,this.words[T+O]=67108863&c;if(0===E)return this._strip();for(N(-1===E),E=0,T=0;T<this.length;T++)E=(c=-(0|this.words[T])+E)>>26,this.words[T]=67108863&c;return this.negative=1,this._strip()},M.prototype._wordDiv=function(_,D){var O,$=this.clone(),T=_,c=0|T.words[T.length-1];0!=(O=26-this._countBits(c))&&(T=T.ushln(O),$.iushln(O),c=0|T.words[T.length-1]);var X,q=$.length-T.length;if("mod"!==D){(X=new M(null)).length=q+1,X.words=new Array(X.length);for(var ce=0;ce<X.length;ce++)X.words[ce]=0}var me=$.clone()._ishlnsubmul(T,1,q);0===me.negative&&($=me,X&&(X.words[q]=1));for(var Te=q-1;Te>=0;Te--){var Ke=67108864*(0|$.words[T.length+Te])+(0|$.words[T.length+Te-1]);for(Ke=Math.min(Ke/c|0,67108863),$._ishlnsubmul(T,Ke,Te);0!==$.negative;)Ke--,$.negative=0,$._ishlnsubmul(T,1,Te),$.isZero()||($.negative^=1);X&&(X.words[Te]=Ke)}return X&&X._strip(),$._strip(),"div"!==D&&0!==O&&$.iushrn(O),{div:X||null,mod:$}},M.prototype.divmod=function(_,D,O){return N(!_.isZero()),this.isZero()?{div:new M(0),mod:new M(0)}:0!==this.negative&&0===_.negative?(c=this.neg().divmod(_,D),"mod"!==D&&($=c.div.neg()),"div"!==D&&(T=c.mod.neg(),O&&0!==T.negative&&T.iadd(_)),{div:$,mod:T}):0===this.negative&&0!==_.negative?(c=this.divmod(_.neg(),D),"mod"!==D&&($=c.div.neg()),{div:$,mod:c.mod}):this.negative&_.negative?(c=this.neg().divmod(_.neg(),D),"div"!==D&&(T=c.mod.neg(),O&&0!==T.negative&&T.isub(_)),{div:c.div,mod:T}):_.length>this.length||this.cmp(_)<0?{div:new M(0),mod:this}:1===_.length?"div"===D?{div:this.divn(_.words[0]),mod:null}:"mod"===D?{div:null,mod:new M(this.modrn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new M(this.modrn(_.words[0]))}:this._wordDiv(_,D);var $,T,c},M.prototype.div=function(_){return this.divmod(_,"div",!1).div},M.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},M.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},M.prototype.divRound=function(_){var D=this.divmod(_);if(D.mod.isZero())return D.div;var O=0!==D.div.negative?D.mod.isub(_):D.mod,$=_.ushrn(1),T=_.andln(1),c=O.cmp($);return c<0||1===T&&0===c?D.div:0!==D.div.negative?D.div.isubn(1):D.div.iaddn(1)},M.prototype.modrn=function(_){var D=_<0;D&&(_=-_),N(_<=67108863);for(var O=(1<<26)%_,$=0,T=this.length-1;T>=0;T--)$=(O*$+(0|this.words[T]))%_;return D?-$:$},M.prototype.modn=function(_){return this.modrn(_)},M.prototype.idivn=function(_){var D=_<0;D&&(_=-_),N(_<=67108863);for(var O=0,$=this.length-1;$>=0;$--){var T=(0|this.words[$])+67108864*O;this.words[$]=T/_|0,O=T%_}return this._strip(),D?this.ineg():this},M.prototype.divn=function(_){return this.clone().idivn(_)},M.prototype.egcd=function(_){N(0===_.negative),N(!_.isZero());var D=this,O=_.clone();D=0!==D.negative?D.umod(_):D.clone();for(var $=new M(1),T=new M(0),c=new M(0),E=new M(1),q=0;D.isEven()&&O.isEven();)D.iushrn(1),O.iushrn(1),++q;for(var X=O.clone(),ce=D.clone();!D.isZero();){for(var me=0,Te=1;!(D.words[0]&Te)&&me<26;++me,Te<<=1);if(me>0)for(D.iushrn(me);me-- >0;)($.isOdd()||T.isOdd())&&($.iadd(X),T.isub(ce)),$.iushrn(1),T.iushrn(1);for(var Ke=0,Qe=1;!(O.words[0]&Qe)&&Ke<26;++Ke,Qe<<=1);if(Ke>0)for(O.iushrn(Ke);Ke-- >0;)(c.isOdd()||E.isOdd())&&(c.iadd(X),E.isub(ce)),c.iushrn(1),E.iushrn(1);D.cmp(O)>=0?(D.isub(O),$.isub(c),T.isub(E)):(O.isub(D),c.isub($),E.isub(T))}return{a:c,b:E,gcd:O.iushln(q)}},M.prototype._invmp=function(_){N(0===_.negative),N(!_.isZero());var me,D=this,O=_.clone();D=0!==D.negative?D.umod(_):D.clone();for(var $=new M(1),T=new M(0),c=O.clone();D.cmpn(1)>0&&O.cmpn(1)>0;){for(var E=0,q=1;!(D.words[0]&q)&&E<26;++E,q<<=1);if(E>0)for(D.iushrn(E);E-- >0;)$.isOdd()&&$.iadd(c),$.iushrn(1);for(var X=0,ce=1;!(O.words[0]&ce)&&X<26;++X,ce<<=1);if(X>0)for(O.iushrn(X);X-- >0;)T.isOdd()&&T.iadd(c),T.iushrn(1);D.cmp(O)>=0?(D.isub(O),$.isub(T)):(O.isub(D),T.isub($))}return(me=0===D.cmpn(1)?$:T).cmpn(0)<0&&me.iadd(_),me},M.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var D=this.clone(),O=_.clone();D.negative=0,O.negative=0;for(var $=0;D.isEven()&&O.isEven();$++)D.iushrn(1),O.iushrn(1);for(;;){for(;D.isEven();)D.iushrn(1);for(;O.isEven();)O.iushrn(1);var T=D.cmp(O);if(T<0){var c=D;D=O,O=c}else if(0===T||0===O.cmpn(1))break;D.isub(O)}return O.iushln($)},M.prototype.invm=function(_){return this.egcd(_).a.umod(_)},M.prototype.isEven=function(){return!(1&this.words[0])},M.prototype.isOdd=function(){return!(1&~this.words[0])},M.prototype.andln=function(_){return this.words[0]&_},M.prototype.bincn=function(_){N("number"==typeof _);var D=_%26,O=(_-D)/26,$=1<<D;if(this.length<=O)return this._expand(O+1),this.words[O]|=$,this;for(var T=$,c=O;0!==T&&c<this.length;c++){var E=0|this.words[c];T=(E+=T)>>>26,this.words[c]=E&=67108863}return 0!==T&&(this.words[c]=T,this.length++),this},M.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},M.prototype.cmpn=function(_){var O,D=_<0;if(0!==this.negative&&!D)return-1;if(0===this.negative&&D)return 1;if(this._strip(),this.length>1)O=1;else{D&&(_=-_),N(_<=67108863,"Number is too big");var $=0|this.words[0];O=$===_?0:$<_?-1:1}return 0!==this.negative?0|-O:O},M.prototype.cmp=function(_){if(0!==this.negative&&0===_.negative)return-1;if(0===this.negative&&0!==_.negative)return 1;var D=this.ucmp(_);return 0!==this.negative?0|-D:D},M.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var D=0,O=this.length-1;O>=0;O--){var $=0|this.words[O],T=0|_.words[O];if($!==T){$<T?D=-1:$>T&&(D=1);break}}return D},M.prototype.gtn=function(_){return 1===this.cmpn(_)},M.prototype.gt=function(_){return 1===this.cmp(_)},M.prototype.gten=function(_){return this.cmpn(_)>=0},M.prototype.gte=function(_){return this.cmp(_)>=0},M.prototype.ltn=function(_){return-1===this.cmpn(_)},M.prototype.lt=function(_){return-1===this.cmp(_)},M.prototype.lten=function(_){return this.cmpn(_)<=0},M.prototype.lte=function(_){return this.cmp(_)<=0},M.prototype.eqn=function(_){return 0===this.cmpn(_)},M.prototype.eq=function(_){return 0===this.cmp(_)},M.red=function(_){return new l(_)},M.prototype.toRed=function(_){return N(!this.red,"Already a number in reduction context"),N(0===this.negative,"red works only with positives"),_.convertTo(this)._forceRed(_)},M.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},M.prototype._forceRed=function(_){return this.red=_,this},M.prototype.forceRed=function(_){return N(!this.red,"Already a number in reduction context"),this._forceRed(_)},M.prototype.redAdd=function(_){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},M.prototype.redIAdd=function(_){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},M.prototype.redSub=function(_){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},M.prototype.redISub=function(_){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},M.prototype.redShl=function(_){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},M.prototype.redMul=function(_){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},M.prototype.redIMul=function(_){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},M.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},M.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},M.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},M.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},M.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},M.prototype.redPow=function(_){return N(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var ve={k256:null,p224:null,p192:null,p25519:null};function ge(w,_){this.name=w,this.p=new M(_,16),this.n=this.p.bitLength(),this.k=new M(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function Me(){ge.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function Oe(){ge.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function je(){ge.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function B(){ge.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function l(w){if("string"==typeof w){var _=M._prime(w);this.m=_.p,this.prime=_}else N(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}function f(w){l.call(this,w),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new M(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ge.prototype._tmp=function(){var _=new M(null);return _.words=new Array(Math.ceil(this.n/13)),_},ge.prototype.ireduce=function(_){var O,D=_;do{this.split(D,this.tmp),O=(D=(D=this.imulK(D)).iadd(this.tmp)).bitLength()}while(O>this.n);var $=O<this.n?-1:D.ucmp(this.p);return 0===$?(D.words[0]=0,D.length=1):$>0?D.isub(this.p):void 0!==D.strip?D.strip():D._strip(),D},ge.prototype.split=function(_,D){_.iushrn(this.n,0,D)},ge.prototype.imulK=function(_){return _.imul(this.k)},Y(Me,ge),Me.prototype.split=function(_,D){for(var O=4194303,$=Math.min(_.length,9),T=0;T<$;T++)D.words[T]=_.words[T];if(D.length=$,_.length<=9)return _.words[0]=0,void(_.length=1);var c=_.words[9];for(D.words[D.length++]=c&O,T=10;T<_.length;T++){var E=0|_.words[T];_.words[T-10]=(E&O)<<4|c>>>22,c=E}_.words[T-10]=c>>>=22,_.length-=0===c&&_.length>10?10:9},Me.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var D=0,O=0;O<_.length;O++){var $=0|_.words[O];_.words[O]=67108863&(D+=977*$),D=64*$+(D/67108864|0)}return 0===_.words[_.length-1]&&(_.length--,0===_.words[_.length-1]&&_.length--),_},Y(Oe,ge),Y(je,ge),Y(B,ge),B.prototype.imulK=function(_){for(var D=0,O=0;O<_.length;O++){var $=19*(0|_.words[O])+D,T=67108863&$;$>>>=26,_.words[O]=T,D=$}return 0!==D&&(_.words[_.length++]=D),_},M._prime=function(_){if(ve[_])return ve[_];var D;if("k256"===_)D=new Me;else if("p224"===_)D=new Oe;else if("p192"===_)D=new je;else{if("p25519"!==_)throw new Error("Unknown prime "+_);D=new B}return ve[_]=D,D},l.prototype._verify1=function(_){N(0===_.negative,"red works only with positives"),N(_.red,"red works only with red numbers")},l.prototype._verify2=function(_,D){N(!(_.negative|D.negative),"red works only with positives"),N(_.red&&_.red===D.red,"red works only with red numbers")},l.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):(V(_,_.umod(this.m)._forceRed(this)),_)},l.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},l.prototype.add=function(_,D){this._verify2(_,D);var O=_.add(D);return O.cmp(this.m)>=0&&O.isub(this.m),O._forceRed(this)},l.prototype.iadd=function(_,D){this._verify2(_,D);var O=_.iadd(D);return O.cmp(this.m)>=0&&O.isub(this.m),O},l.prototype.sub=function(_,D){this._verify2(_,D);var O=_.sub(D);return O.cmpn(0)<0&&O.iadd(this.m),O._forceRed(this)},l.prototype.isub=function(_,D){this._verify2(_,D);var O=_.isub(D);return O.cmpn(0)<0&&O.iadd(this.m),O},l.prototype.shl=function(_,D){return this._verify1(_),this.imod(_.ushln(D))},l.prototype.imul=function(_,D){return this._verify2(_,D),this.imod(_.imul(D))},l.prototype.mul=function(_,D){return this._verify2(_,D),this.imod(_.mul(D))},l.prototype.isqr=function(_){return this.imul(_,_.clone())},l.prototype.sqr=function(_){return this.mul(_,_)},l.prototype.sqrt=function(_){if(_.isZero())return _.clone();var D=this.m.andln(3);if(N(D%2==1),3===D){var O=this.m.add(new M(1)).iushrn(2);return this.pow(_,O)}for(var $=this.m.subn(1),T=0;!$.isZero()&&0===$.andln(1);)T++,$.iushrn(1);N(!$.isZero());var c=new M(1).toRed(this),E=c.redNeg(),q=this.m.subn(1).iushrn(1),X=this.m.bitLength();for(X=new M(2*X*X).toRed(this);0!==this.pow(X,q).cmp(E);)X.redIAdd(E);for(var ce=this.pow(X,$),me=this.pow(_,$.addn(1).iushrn(1)),Te=this.pow(_,$),Ke=T;0!==Te.cmp(c);){for(var Qe=Te,ke=0;0!==Qe.cmp(c);ke++)Qe=Qe.redSqr();N(ke<Ke);var Ie=this.pow(ce,new M(1).iushln(Ke-ke-1));me=me.redMul(Ie),ce=Ie.redSqr(),Te=Te.redMul(ce),Ke=ke}return me},l.prototype.invm=function(_){var D=_._invmp(this.m);return 0!==D.negative?(D.negative=0,this.imod(D).redNeg()):this.imod(D)},l.prototype.pow=function(_,D){if(D.isZero())return new M(1).toRed(this);if(0===D.cmpn(1))return _.clone();var $=new Array(16);$[0]=new M(1).toRed(this),$[1]=_;for(var T=2;T<$.length;T++)$[T]=this.mul($[T-1],_);var c=$[0],E=0,q=0,X=D.bitLength()%26;for(0===X&&(X=26),T=D.length-1;T>=0;T--){for(var ce=D.words[T],me=X-1;me>=0;me--){var Te=ce>>me&1;c!==$[0]&&(c=this.sqr(c)),0!==Te||0!==E?(E<<=1,E|=Te,(4==++q||0===T&&0===me)&&(c=this.mul(c,$[E]),q=0,E=0)):q=0}X=26}return c},l.prototype.convertTo=function(_){var D=_.umod(this.m);return D===_?D.clone():D},l.prototype.convertFrom=function(_){var D=_.clone();return D.red=null,D},M.mont=function(_){return new f(_)},Y(f,l),f.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},f.prototype.convertFrom=function(_){var D=this.imod(_.mul(this.rinv));return D.red=null,D},f.prototype.imul=function(_,D){if(_.isZero()||D.isZero())return _.words[0]=0,_.length=1,_;var O=_.imul(D),$=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=O.isub($).iushrn(this.shift),c=T;return T.cmp(this.m)>=0?c=T.isub(this.m):T.cmpn(0)<0&&(c=T.iadd(this.m)),c._forceRed(this)},f.prototype.mul=function(_,D){if(_.isZero()||D.isZero())return new M(0)._forceRed(this);var O=_.mul(D),$=O.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=O.isub($).iushrn(this.shift),c=T;return T.cmp(this.m)>=0?c=T.isub(this.m):T.cmpn(0)<0&&(c=T.iadd(this.m)),c._forceRed(this)},f.prototype.invm=function(_){return this.imod(_._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ye=A.nmd(Ye),this)},35294:(Ye,J,A)=>{var h;function x(Y){this.rand=Y}if(Ye.exports=function(M){return h||(h=new x(null)),h.generate(M)},Ye.exports.Rand=x,x.prototype.generate=function(M){return this._rand(M)},x.prototype._rand=function(M){if(this.rand.getBytes)return this.rand.getBytes(M);for(var j=new Uint8Array(M),R=0;R<j.length;R++)j[R]=this.rand.getByte();return j},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?x.prototype._rand=function(M){var j=new Uint8Array(M);return self.crypto.getRandomValues(j),j}:self.msCrypto&&self.msCrypto.getRandomValues?x.prototype._rand=function(M){var j=new Uint8Array(M);return self.msCrypto.getRandomValues(j),j}:"object"==typeof window&&(x.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var N=A(91426);if("function"!=typeof N.randomBytes)throw new Error("Not supported");x.prototype._rand=function(M){return N.randomBytes(M)}}catch{}},23963:(Ye,J,A)=>{"use strict";const{AbstractLevel:h}=A(75929),x=A(61747),N=A(81725),{fromCallback:Y}=A(42381),{Iterator:M}=A(18229),j=A(97899),R=A(19857),U=A(57059),H="level-js-",V=Symbol("idb"),P=Symbol("namePrefix"),ee=Symbol("location"),W=Symbol("version"),Q=Symbol("store"),de=Symbol("onComplete"),ae=Symbol("promise");J.BrowserLevel=(()=>{class te extends h{constructor(pe,he,ve){if("function"==typeof he||"function"==typeof ve)throw new x("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:ge,version:Me,...Oe}=he||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},Oe),"string"!=typeof pe)throw new Error("constructor requires a location string argument");this[ee]=pe,this[P]=ge??H,this[W]=parseInt(Me||1,10),this[V]=null}get location(){return this[ee]}get namePrefix(){return this[P]}get version(){return this[W]}get db(){return this[V]}get type(){return"browser-level"}_open(pe,he){const ve=indexedDB.open(this[P]+this[ee],this[W]);ve.onerror=function(){he(ve.error||new Error("unknown error"))},ve.onsuccess=()=>{this[V]=ve.result,he()},ve.onupgradeneeded=ge=>{const Me=ge.target.result;Me.objectStoreNames.contains(this[ee])||Me.createObjectStore(this[ee])}}[Q](pe){return this[V].transaction([this[ee]],pe).objectStore(this[ee])}[de](pe,he){const ve=pe.transaction;ve.onabort=function(){he(ve.error||new Error("aborted by user"))},ve.oncomplete=function(){he(null,pe.result)}}_get(pe,he,ve){const ge=this[Q]("readonly");let Me;try{Me=ge.get(pe)}catch(Oe){return this.nextTick(ve,Oe)}this[de](Me,function(Oe,je){return Oe?ve(Oe):void 0===je?ve(new x("Entry not found",{code:"LEVEL_NOT_FOUND"})):void ve(null,j(je))})}_getMany(pe,he,ve){const ge=this[Q]("readonly"),Me=pe.map(Oe=>je=>{let B;try{B=ge.get(Oe)}catch(l){return je(l)}B.onsuccess=()=>{const l=B.result;je(null,void 0===l?l:j(l))},B.onerror=l=>{l.stopPropagation(),je(B.error)}});N(Me,16,ve)}_del(pe,he,ve){const ge=this[Q]("readwrite");let Me;try{Me=ge.delete(pe)}catch(Oe){return this.nextTick(ve,Oe)}this[de](Me,ve)}_put(pe,he,ve,ge){const Me=this[Q]("readwrite");let Oe;try{Oe=Me.put(he,pe)}catch(je){return this.nextTick(ge,je)}this[de](Oe,ge)}_iterator(pe){return new M(this,this[ee],pe)}_batch(pe,he,ve){const ge=this[Q]("readwrite"),Me=ge.transaction;let je,Oe=0;Me.onabort=function(){ve(je||Me.error||new Error("aborted by user"))},Me.oncomplete=function(){ve()},function B(){const l=pe[Oe++],f=l.key;let w;try{w="del"===l.type?ge.delete(f):ge.put(l.value,f)}catch(_){return je=_,void Me.abort()}Oe<pe.length?w.onsuccess=B:"function"==typeof Me.commit&&Me.commit()}()}_clear(pe,he){let ve,ge;try{ve=U(pe)}catch{return this.nextTick(he)}if(pe.limit>=0)return R(this,this[ee],ve,pe,he);try{const Me=this[Q]("readwrite");ge=ve?Me.delete(ve):Me.clear()}catch(Me){return this.nextTick(he,Me)}this[de](ge,he)}_close(pe){this[V].close(),this.nextTick(pe)}}return te.destroy=function(ue,pe,he){"function"==typeof pe&&(he=pe,pe=H),he=Y(he,ae);const ve=indexedDB.deleteDatabase(pe+ue);return ve.onsuccess=function(){he()},ve.onerror=function(ge){he(ge)},he[ae]},te})()},18229:(Ye,J,A)=>{"use strict";const{AbstractIterator:h}=A(75929),x=A(57059),N=A(97899),Y=Symbol("cache"),M=Symbol("finished"),j=Symbol("options"),R=Symbol("currentOptions"),U=Symbol("position"),H=Symbol("location"),V=Symbol("first"),P={};function W(Q){"function"==typeof Q.commit&&Q.commit()}J.Iterator=class ee extends h{constructor(de,ae,re){super(de,re),this[Y]=[],this[M]=0===this.limit,this[j]=re,this[R]={...re},this[U]=void 0,this[H]=ae,this[V]=!0}_nextv(de,ae,re){if(this[V]=!1,this[M])return this.nextTick(re,null,[]);if(this[Y].length>0)return de=Math.min(de,this[Y].length),this.nextTick(re,null,this[Y].splice(0,de));let te;void 0!==this[U]&&(this[j].reverse?(this[R].lt=this[U],this[R].lte=void 0):(this[R].gt=this[U],this[R].gte=void 0));try{te=x(this[R])}catch{return this[M]=!0,this.nextTick(re,null,[])}const ue=this.db.db.transaction([this[H]],"readonly"),pe=ue.objectStore(this[H]),he=[];if(this[j].reverse)pe[!this[j].values&&pe.openKeyCursor?"openKeyCursor":"openCursor"](te,"prev").onsuccess=ge=>{const Me=ge.target.result;if(Me){const{key:Oe,value:je}=Me;this[U]=Oe,he.push([this[j].keys&&void 0!==Oe?N(Oe):void 0,this[j].values&&void 0!==je?N(je):void 0]),he.length<de?Me.continue():W(ue)}else this[M]=!0};else{let ve,ge;const Me=()=>{if(void 0===ve||void 0===ge)return;const Oe=Math.max(ve.length,ge.length);0===Oe||de===1/0?this[M]=!0:this[U]=ve[Oe-1],he.length=Oe;for(let je=0;je<Oe;je++){const B=ve[je],l=ge[je];he[je]=[this[j].keys&&void 0!==B?N(B):void 0,this[j].values&&void 0!==l?N(l):void 0]}W(ue)};this[j].keys||de<1/0?pe.getAllKeys(te,de<1/0?de:void 0).onsuccess=Oe=>{ve=Oe.target.result,Me()}:(ve=[],this.nextTick(Me)),this[j].values?pe.getAll(te,de<1/0?de:void 0).onsuccess=Oe=>{ge=Oe.target.result,Me()}:(ge=[],this.nextTick(Me))}ue.onabort=()=>{re(ue.error||new Error("aborted by user")),re=null},ue.oncomplete=()=>{re(null,he),re=null}}_next(de){if(this[Y].length>0){const[ae,re]=this[Y].shift();this.nextTick(de,null,ae,re)}else if(this[M])this.nextTick(de);else{let ae=Math.min(100,this.limit-this.count);this[V]&&(this[V]=!1,ae=1),this._nextv(ae,P,(re,te)=>{if(re)return de(re);this[Y]=te,this._next(de)})}}_all(de,ae){this[V]=!1;const re=this[Y].splice(0,this[Y].length),te=this.limit-this.count-re.length;if(te<=0)return this.nextTick(ae,null,re);this._nextv(te,P,(ue,pe)=>{if(ue)return ae(ue);re.length>0&&(pe=re.concat(pe)),ae(null,pe)})}_seek(de,ae){let re;this[V]=!0,this[Y]=[],this[M]=!1,this[U]=void 0,this[R]={...this[j]};try{re=x(this[j])}catch{return void(this[M]=!0)}null===re||re.includes(de)?this[j].reverse?this[R].lte=de:this[R].gte=de:this[M]=!0}}},19857:Ye=>{"use strict";Ye.exports=function(A,h,x,N,Y){if(0===N.limit)return A.nextTick(Y);const M=A.db.transaction([h],"readwrite"),j=M.objectStore(h);let R=0;M.oncomplete=function(){Y()},M.onabort=function(){Y(M.error||new Error("aborted by user"))},j[j.openKeyCursor?"openKeyCursor":"openCursor"](x,N.reverse?"prev":"next").onsuccess=function(V){const P=V.target.result;P&&(j.delete(P.key).onsuccess=function(){(N.limit<=0||++R<N.limit)&&P.continue()})}}},97899:Ye=>{"use strict";const J=new TextEncoder;Ye.exports=function(A){return A instanceof Uint8Array?A:A instanceof ArrayBuffer?new Uint8Array(A):J.encode(A)}},57059:Ye=>{"use strict";Ye.exports=function(A){const h=void 0!==A.gte?A.gte:void 0!==A.gt?A.gt:void 0,x=void 0!==A.lte?A.lte:void 0!==A.lt?A.lt:void 0,N=void 0===A.gte,Y=void 0===A.lte;return void 0!==h&&void 0!==x?IDBKeyRange.bound(h,x,N,Y):void 0!==h?IDBKeyRange.lowerBound(h,N):void 0!==x?IDBKeyRange.upperBound(x,Y):null}},12375:(Ye,J,A)=>{var h=A(27054).Buffer;function x(U){h.isBuffer(U)||(U=h.from(U));for(var H=U.length/4|0,V=new Array(H),P=0;P<H;P++)V[P]=U.readUInt32BE(4*P);return V}function N(U){for(;0<U.length;U++)U[0]=0}function Y(U,H,V,P,ee){for(var he,ve,ge,Me,W=V[0],Q=V[1],de=V[2],ae=V[3],re=U[0]^H[0],te=U[1]^H[1],ue=U[2]^H[2],pe=U[3]^H[3],Oe=4,je=1;je<ee;je++)he=W[re>>>24]^Q[te>>>16&255]^de[ue>>>8&255]^ae[255&pe]^H[Oe++],ve=W[te>>>24]^Q[ue>>>16&255]^de[pe>>>8&255]^ae[255&re]^H[Oe++],ge=W[ue>>>24]^Q[pe>>>16&255]^de[re>>>8&255]^ae[255&te]^H[Oe++],Me=W[pe>>>24]^Q[re>>>16&255]^de[te>>>8&255]^ae[255&ue]^H[Oe++],re=he,te=ve,ue=ge,pe=Me;return he=(P[re>>>24]<<24|P[te>>>16&255]<<16|P[ue>>>8&255]<<8|P[255&pe])^H[Oe++],ve=(P[te>>>24]<<24|P[ue>>>16&255]<<16|P[pe>>>8&255]<<8|P[255&re])^H[Oe++],ge=(P[ue>>>24]<<24|P[pe>>>16&255]<<16|P[re>>>8&255]<<8|P[255&te])^H[Oe++],Me=(P[pe>>>24]<<24|P[re>>>16&255]<<16|P[te>>>8&255]<<8|P[255&ue])^H[Oe++],[he>>>=0,ve>>>=0,ge>>>=0,Me>>>=0]}var M=[0,1,2,4,8,16,32,64,128,27,54],j=function(){for(var U=new Array(256),H=0;H<256;H++)U[H]=H<128?H<<1:H<<1^283;for(var V=[],P=[],ee=[[],[],[],[]],W=[[],[],[],[]],Q=0,de=0,ae=0;ae<256;++ae){var re=de^de<<1^de<<2^de<<3^de<<4;V[Q]=re=re>>>8^255&re^99,P[re]=Q;var te=U[Q],ue=U[te],pe=U[ue],he=257*U[re]^16843008*re;ee[0][Q]=he<<24|he>>>8,ee[1][Q]=he<<16|he>>>16,ee[2][Q]=he<<8|he>>>24,ee[3][Q]=he,W[0][re]=(he=16843009*pe^65537*ue^257*te^16843008*Q)<<24|he>>>8,W[1][re]=he<<16|he>>>16,W[2][re]=he<<8|he>>>24,W[3][re]=he,0===Q?Q=de=1:(Q=te^U[U[U[pe^te]]],de^=U[U[de]])}return{SBOX:V,INV_SBOX:P,SUB_MIX:ee,INV_SUB_MIX:W}}();function R(U){this._key=x(U),this._reset()}R.blockSize=16,R.keySize=32,R.prototype.blockSize=R.blockSize,R.prototype.keySize=R.keySize,R.prototype._reset=function(){for(var U=this._key,H=U.length,V=H+6,P=4*(V+1),ee=[],W=0;W<H;W++)ee[W]=U[W];for(W=H;W<P;W++){var Q=ee[W-1];W%H==0?(Q=j.SBOX[(Q=Q<<8|Q>>>24)>>>24]<<24|j.SBOX[Q>>>16&255]<<16|j.SBOX[Q>>>8&255]<<8|j.SBOX[255&Q],Q^=M[W/H|0]<<24):H>6&&W%H==4&&(Q=j.SBOX[Q>>>24]<<24|j.SBOX[Q>>>16&255]<<16|j.SBOX[Q>>>8&255]<<8|j.SBOX[255&Q]),ee[W]=ee[W-H]^Q}for(var de=[],ae=0;ae<P;ae++){var re=P-ae,te=ee[re-(ae%4?0:4)];de[ae]=ae<4||re<=4?te:j.INV_SUB_MIX[0][j.SBOX[te>>>24]]^j.INV_SUB_MIX[1][j.SBOX[te>>>16&255]]^j.INV_SUB_MIX[2][j.SBOX[te>>>8&255]]^j.INV_SUB_MIX[3][j.SBOX[255&te]]}this._nRounds=V,this._keySchedule=ee,this._invKeySchedule=de},R.prototype.encryptBlockRaw=function(U){return Y(U=x(U),this._keySchedule,j.SUB_MIX,j.SBOX,this._nRounds)},R.prototype.encryptBlock=function(U){var H=this.encryptBlockRaw(U),V=h.allocUnsafe(16);return V.writeUInt32BE(H[0],0),V.writeUInt32BE(H[1],4),V.writeUInt32BE(H[2],8),V.writeUInt32BE(H[3],12),V},R.prototype.decryptBlock=function(U){var H=(U=x(U))[1];U[1]=U[3],U[3]=H;var V=Y(U,this._invKeySchedule,j.INV_SUB_MIX,j.INV_SBOX,this._nRounds),P=h.allocUnsafe(16);return P.writeUInt32BE(V[0],0),P.writeUInt32BE(V[3],4),P.writeUInt32BE(V[2],8),P.writeUInt32BE(V[1],12),P},R.prototype.scrub=function(){N(this._keySchedule),N(this._invKeySchedule),N(this._key)},Ye.exports.AES=R},19307:(Ye,J,A)=>{var h=A(12375),x=A(27054).Buffer,N=A(3247),Y=A(71993),M=A(85917),j=A(13546),R=A(95725);function V(P,ee,W,Q){N.call(this);var de=x.alloc(4,0);this._cipher=new h.AES(ee);var ae=this._cipher.encryptBlock(de);this._ghash=new M(ae),W=function H(P,ee,W){if(12===ee.length)return P._finID=x.concat([ee,x.from([0,0,0,1])]),x.concat([ee,x.from([0,0,0,2])]);var Q=new M(W),de=ee.length,ae=de%16;Q.update(ee),ae&&Q.update(x.alloc(ae=16-ae,0)),Q.update(x.alloc(8,0));var re=8*de,te=x.alloc(8);te.writeUIntBE(re,0,8),Q.update(te),P._finID=Q.state;var ue=x.from(P._finID);return R(ue),ue}(this,W,ae),this._prev=x.from(W),this._cache=x.allocUnsafe(0),this._secCache=x.allocUnsafe(0),this._decrypt=Q,this._alen=0,this._len=0,this._mode=P,this._authTag=null,this._called=!1}Y(V,N),V.prototype._update=function(P){if(!this._called&&this._alen){var ee=16-this._alen%16;ee<16&&(ee=x.alloc(ee,0),this._ghash.update(ee))}this._called=!0;var W=this._mode.encrypt(this,P);return this._ghash.update(this._decrypt?P:W),this._len+=P.length,W},V.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var P=j(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function U(P,ee){var W=0;P.length!==ee.length&&W++;for(var Q=Math.min(P.length,ee.length),de=0;de<Q;++de)W+=P[de]^ee[de];return W}(P,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=P,this._cipher.scrub()},V.prototype.getAuthTag=function(){if(this._decrypt||!x.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},V.prototype.setAuthTag=function(ee){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=ee},V.prototype.setAAD=function(ee){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(ee),this._alen+=ee.length},Ye.exports=V},43388:(Ye,J,A)=>{var h=A(350),x=A(60102),N=A(3219);J.createCipher=J.Cipher=h.createCipher,J.createCipheriv=J.Cipheriv=h.createCipheriv,J.createDecipher=J.Decipher=x.createDecipher,J.createDecipheriv=J.Decipheriv=x.createDecipheriv,J.listCiphers=J.getCiphers=function Y(){return Object.keys(N)}},60102:(Ye,J,A)=>{var h=A(19307),x=A(27054).Buffer,N=A(60503),Y=A(91821),M=A(3247),j=A(12375),R=A(18211);function H(Q,de,ae){M.call(this),this._cache=new V,this._last=void 0,this._cipher=new j.AES(de),this._prev=x.from(ae),this._mode=Q,this._autopadding=!0}function V(){this.cache=x.allocUnsafe(0)}function ee(Q,de,ae){var re=N[Q.toLowerCase()];if(!re)throw new TypeError("invalid suite type");if("string"==typeof ae&&(ae=x.from(ae)),"GCM"!==re.mode&&ae.length!==re.iv)throw new TypeError("invalid iv length "+ae.length);if("string"==typeof de&&(de=x.from(de)),de.length!==re.key/8)throw new TypeError("invalid key length "+de.length);return"stream"===re.type?new Y(re.module,de,ae,!0):"auth"===re.type?new h(re.module,de,ae,!0):new H(re.module,de,ae)}A(71993)(H,M),H.prototype._update=function(Q){this._cache.add(Q);for(var de,ae,re=[];de=this._cache.get(this._autopadding);)ae=this._mode.decrypt(this,de),re.push(ae);return x.concat(re)},H.prototype._final=function(){var Q=this._cache.flush();if(this._autopadding)return function P(Q){var de=Q[15];if(de<1||de>16)throw new Error("unable to decrypt data");for(var ae=-1;++ae<de;)if(Q[ae+(16-de)]!==de)throw new Error("unable to decrypt data");if(16!==de)return Q.slice(0,16-de)}(this._mode.decrypt(this,Q));if(Q)throw new Error("data not multiple of block length")},H.prototype.setAutoPadding=function(Q){return this._autopadding=!!Q,this},V.prototype.add=function(Q){this.cache=x.concat([this.cache,Q])},V.prototype.get=function(Q){var de;if(Q){if(this.cache.length>16)return de=this.cache.slice(0,16),this.cache=this.cache.slice(16),de}else if(this.cache.length>=16)return de=this.cache.slice(0,16),this.cache=this.cache.slice(16),de;return null},V.prototype.flush=function(){if(this.cache.length)return this.cache},J.createDecipher=function W(Q,de){var ae=N[Q.toLowerCase()];if(!ae)throw new TypeError("invalid suite type");var re=R(de,!1,ae.key,ae.iv);return ee(Q,re.key,re.iv)},J.createDecipheriv=ee},350:(Ye,J,A)=>{var h=A(60503),x=A(19307),N=A(27054).Buffer,Y=A(91821),M=A(3247),j=A(12375),R=A(18211);function H(Q,de,ae){M.call(this),this._cache=new P,this._cipher=new j.AES(de),this._prev=N.from(ae),this._mode=Q,this._autopadding=!0}A(71993)(H,M),H.prototype._update=function(Q){this._cache.add(Q);for(var de,ae,re=[];de=this._cache.get();)ae=this._mode.encrypt(this,de),re.push(ae);return N.concat(re)};var V=N.alloc(16,16);function P(){this.cache=N.allocUnsafe(0)}function ee(Q,de,ae){var re=h[Q.toLowerCase()];if(!re)throw new TypeError("invalid suite type");if("string"==typeof de&&(de=N.from(de)),de.length!==re.key/8)throw new TypeError("invalid key length "+de.length);if("string"==typeof ae&&(ae=N.from(ae)),"GCM"!==re.mode&&ae.length!==re.iv)throw new TypeError("invalid iv length "+ae.length);return"stream"===re.type?new Y(re.module,de,ae):"auth"===re.type?new x(re.module,de,ae):new H(re.module,de,ae)}H.prototype._final=function(){var Q=this._cache.flush();if(this._autopadding)return Q=this._mode.encrypt(this,Q),this._cipher.scrub(),Q;if(!Q.equals(V))throw this._cipher.scrub(),new Error("data not multiple of block length")},H.prototype.setAutoPadding=function(Q){return this._autopadding=!!Q,this},P.prototype.add=function(Q){this.cache=N.concat([this.cache,Q])},P.prototype.get=function(){if(this.cache.length>15){var Q=this.cache.slice(0,16);return this.cache=this.cache.slice(16),Q}return null},P.prototype.flush=function(){for(var Q=16-this.cache.length,de=N.allocUnsafe(Q),ae=-1;++ae<Q;)de.writeUInt8(Q,ae);return N.concat([this.cache,de])},J.createCipheriv=ee,J.createCipher=function W(Q,de){var ae=h[Q.toLowerCase()];if(!ae)throw new TypeError("invalid suite type");var re=R(de,!1,ae.key,ae.iv);return ee(Q,re.key,re.iv)}},85917:(Ye,J,A)=>{var h=A(27054).Buffer,x=h.alloc(16,0);function Y(j){var R=h.allocUnsafe(16);return R.writeUInt32BE(j[0]>>>0,0),R.writeUInt32BE(j[1]>>>0,4),R.writeUInt32BE(j[2]>>>0,8),R.writeUInt32BE(j[3]>>>0,12),R}function M(j){this.h=j,this.state=h.alloc(16,0),this.cache=h.allocUnsafe(0)}M.prototype.ghash=function(j){for(var R=-1;++R<j.length;)this.state[R]^=j[R];this._multiply()},M.prototype._multiply=function(){for(var U,V,j=function N(j){return[j.readUInt32BE(0),j.readUInt32BE(4),j.readUInt32BE(8),j.readUInt32BE(12)]}(this.h),R=[0,0,0,0],P=-1;++P<128;){for(!!(this.state[~~(P/8)]&1<<7-P%8)&&(R[0]^=j[0],R[1]^=j[1],R[2]^=j[2],R[3]^=j[3]),V=!!(1&j[3]),U=3;U>0;U--)j[U]=j[U]>>>1|(1&j[U-1])<<31;j[0]=j[0]>>>1,V&&(j[0]=j[0]^225<<24)}this.state=Y(R)},M.prototype.update=function(j){this.cache=h.concat([this.cache,j]);for(var R;this.cache.length>=16;)R=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(R)},M.prototype.final=function(j,R){return this.cache.length&&this.ghash(h.concat([this.cache,x],16)),this.ghash(Y([0,j,0,R])),this.state},Ye.exports=M},95725:Ye=>{Ye.exports=function J(A){for(var x,h=A.length;h--;){if(255!==(x=A.readUInt8(h))){x++,A.writeUInt8(x,h);break}A.writeUInt8(0,h)}}},34133:(Ye,J,A)=>{var h=A(13546);J.encrypt=function(x,N){var Y=h(N,x._prev);return x._prev=x._cipher.encryptBlock(Y),x._prev},J.decrypt=function(x,N){var Y=x._prev;x._prev=N;var M=x._cipher.decryptBlock(N);return h(M,Y)}},17090:(Ye,J,A)=>{var h=A(27054).Buffer,x=A(13546);function N(Y,M,j){var R=M.length,U=x(M,Y._cache);return Y._cache=Y._cache.slice(R),Y._prev=h.concat([Y._prev,j?M:U]),U}J.encrypt=function(Y,M,j){for(var U,R=h.allocUnsafe(0);M.length;){if(0===Y._cache.length&&(Y._cache=Y._cipher.encryptBlock(Y._prev),Y._prev=h.allocUnsafe(0)),!(Y._cache.length<=M.length)){R=h.concat([R,N(Y,M,j)]);break}R=h.concat([R,N(Y,M.slice(0,U=Y._cache.length),j)]),M=M.slice(U)}return R}},71039:(Ye,J,A)=>{var h=A(27054).Buffer;function x(Y,M,j){for(var P,ee,U=-1,V=0;++U<8;)V+=(128&(ee=Y._cipher.encryptBlock(Y._prev)[0]^(P=M&1<<7-U?128:0)))>>U%8,Y._prev=N(Y._prev,j?P:ee);return V}function N(Y,M){var j=Y.length,R=-1,U=h.allocUnsafe(Y.length);for(Y=h.concat([Y,h.from([M])]);++R<j;)U[R]=Y[R]<<1|Y[R+1]>>7;return U}J.encrypt=function(Y,M,j){for(var R=M.length,U=h.allocUnsafe(R),H=-1;++H<R;)U[H]=x(Y,M[H],j);return U}},72576:(Ye,J,A)=>{var h=A(27054).Buffer;function x(N,Y,M){var R=N._cipher.encryptBlock(N._prev)[0]^Y;return N._prev=h.concat([N._prev.slice(1),h.from([M?Y:R])]),R}J.encrypt=function(N,Y,M){for(var j=Y.length,R=h.allocUnsafe(j),U=-1;++U<j;)R[U]=x(N,Y[U],M);return R}},70336:(Ye,J,A)=>{var h=A(13546),x=A(27054).Buffer,N=A(95725);function Y(j){var R=j._cipher.encryptBlockRaw(j._prev);return N(j._prev),R}J.encrypt=function(j,R){var U=Math.ceil(R.length/16),H=j._cache.length;j._cache=x.concat([j._cache,x.allocUnsafe(16*U)]);for(var V=0;V<U;V++){var P=Y(j),ee=H+16*V;j._cache.writeUInt32BE(P[0],ee+0),j._cache.writeUInt32BE(P[1],ee+4),j._cache.writeUInt32BE(P[2],ee+8),j._cache.writeUInt32BE(P[3],ee+12)}var W=j._cache.slice(0,R.length);return j._cache=j._cache.slice(R.length),h(R,W)}},37513:(Ye,J)=>{J.encrypt=function(A,h){return A._cipher.encryptBlock(h)},J.decrypt=function(A,h){return A._cipher.decryptBlock(h)}},60503:(Ye,J,A)=>{var h={ECB:A(37513),CBC:A(34133),CFB:A(17090),CFB8:A(72576),CFB1:A(71039),OFB:A(46854),CTR:A(70336),GCM:A(70336)},x=A(3219);for(var N in x)x[N].module=h[x[N].mode];Ye.exports=x},46854:(Ye,J,A)=>{var h=A(13546);function x(N){return N._prev=N._cipher.encryptBlock(N._prev),N._prev}J.encrypt=function(N,Y){for(;N._cache.length<Y.length;)N._cache=Buffer.concat([N._cache,x(N)]);var M=N._cache.slice(0,Y.length);return N._cache=N._cache.slice(Y.length),h(Y,M)}},91821:(Ye,J,A)=>{var h=A(12375),x=A(27054).Buffer,N=A(3247);function M(j,R,U,H){N.call(this),this._cipher=new h.AES(R),this._prev=x.from(U),this._cache=x.allocUnsafe(0),this._secCache=x.allocUnsafe(0),this._decrypt=H,this._mode=j}A(71993)(M,N),M.prototype._update=function(j){return this._mode.encrypt(this,j,this._decrypt)},M.prototype._final=function(){this._cipher.scrub()},Ye.exports=M},88862:(Ye,J,A)=>{var h=A(39799),x=A(43388),N=A(60503),Y=A(59571),M=A(18211);function U(P,ee,W){if(P=P.toLowerCase(),N[P])return x.createCipheriv(P,ee,W);if(Y[P])return new h({key:ee,iv:W,mode:P});throw new TypeError("invalid suite type")}function H(P,ee,W){if(P=P.toLowerCase(),N[P])return x.createDecipheriv(P,ee,W);if(Y[P])return new h({key:ee,iv:W,mode:P,decrypt:!0});throw new TypeError("invalid suite type")}J.createCipher=J.Cipher=function j(P,ee){var W,Q;if(P=P.toLowerCase(),N[P])W=N[P].key,Q=N[P].iv;else{if(!Y[P])throw new TypeError("invalid suite type");W=8*Y[P].key,Q=Y[P].iv}var de=M(ee,!1,W,Q);return U(P,de.key,de.iv)},J.createCipheriv=J.Cipheriv=U,J.createDecipher=J.Decipher=function R(P,ee){var W,Q;if(P=P.toLowerCase(),N[P])W=N[P].key,Q=N[P].iv;else{if(!Y[P])throw new TypeError("invalid suite type");W=8*Y[P].key,Q=Y[P].iv}var de=M(ee,!1,W,Q);return H(P,de.key,de.iv)},J.createDecipheriv=J.Decipheriv=H,J.listCiphers=J.getCiphers=function V(){return Object.keys(Y).concat(x.getCiphers())}},39799:(Ye,J,A)=>{var h=A(3247),x=A(71549),N=A(71993),Y=A(27054).Buffer,M={"des-ede3-cbc":x.CBC.instantiate(x.EDE),"des-ede3":x.EDE,"des-ede-cbc":x.CBC.instantiate(x.EDE),"des-ede":x.EDE,"des-cbc":x.CBC.instantiate(x.DES),"des-ecb":x.DES};function j(R){h.call(this);var V,U=R.mode.toLowerCase(),H=M[U];V=R.decrypt?"decrypt":"encrypt";var P=R.key;Y.isBuffer(P)||(P=Y.from(P)),("des-ede"===U||"des-ede-cbc"===U)&&(P=Y.concat([P,P.slice(0,8)]));var ee=R.iv;Y.isBuffer(ee)||(ee=Y.from(ee)),this._des=H.create({key:P,iv:ee,type:V})}M.des=M["des-cbc"],M.des3=M["des-ede3-cbc"],Ye.exports=j,N(j,h),j.prototype._update=function(R){return Y.from(this._des.update(R))},j.prototype._final=function(){return Y.from(this._des.final())}},59571:(Ye,J)=>{J["des-ecb"]={key:8,iv:0},J["des-cbc"]=J.des={key:8,iv:8},J["des-ede3-cbc"]=J.des3={key:24,iv:8},J["des-ede3"]={key:24,iv:0},J["des-ede-cbc"]={key:16,iv:8},J["des-ede"]={key:16,iv:0}},14105:(Ye,J,A)=>{var h=A(917),x=A(3342);function Y(j){var U,R=j.modulus.byteLength();do{U=new h(x(R))}while(U.cmp(j.modulus)>=0||!U.umod(j.prime1)||!U.umod(j.prime2));return U}function M(j,R){var U=function N(j){var R=Y(j);return{blinder:R.toRed(h.mont(j.modulus)).redPow(new h(j.publicExponent)).fromRed(),unblinder:R.invm(j.modulus)}}(R),H=R.modulus.byteLength(),V=new h(j).mul(U.blinder).umod(R.modulus),P=V.toRed(h.mont(R.prime1)),ee=V.toRed(h.mont(R.prime2)),W=R.coefficient,Q=R.prime1,de=R.prime2,ae=P.redPow(R.exponent1).fromRed(),re=ee.redPow(R.exponent2).fromRed(),te=ae.isub(re).imul(W).umod(Q).imul(de);return re.iadd(te).imul(U.unblinder).umod(R.modulus).toArrayLike(Buffer,"be",H)}M.getr=Y,Ye.exports=M},99560:(Ye,J,A)=>{"use strict";Ye.exports=A(62951)},79143:(Ye,J,A)=>{"use strict";var h=A(27054).Buffer,x=A(67211),N=A(64670),Y=A(71993),M=A(43150),j=A(74754),R=A(62951);function U(ee){N.Writable.call(this);var W=R[ee];if(!W)throw new Error("Unknown message digest");this._hashType=W.hash,this._hash=x(W.hash),this._tag=W.id,this._signType=W.sign}function H(ee){N.Writable.call(this);var W=R[ee];if(!W)throw new Error("Unknown message digest");this._hash=x(W.hash),this._tag=W.id,this._signType=W.sign}function V(ee){return new U(ee)}function P(ee){return new H(ee)}Object.keys(R).forEach(function(ee){R[ee].id=h.from(R[ee].id,"hex"),R[ee.toLowerCase()]=R[ee]}),Y(U,N.Writable),U.prototype._write=function(W,Q,de){this._hash.update(W),de()},U.prototype.update=function(W,Q){return this._hash.update("string"==typeof W?h.from(W,Q):W),this},U.prototype.sign=function(W,Q){this.end();var de=this._hash.digest(),ae=M(de,W,this._hashType,this._signType,this._tag);return Q?ae.toString(Q):ae},Y(H,N.Writable),H.prototype._write=function(W,Q,de){this._hash.update(W),de()},H.prototype.update=function(W,Q){return this._hash.update("string"==typeof W?h.from(W,Q):W),this},H.prototype.verify=function(W,Q,de){var ae="string"==typeof Q?h.from(Q,de):Q;this.end();var re=this._hash.digest();return j(ae,re,W,this._signType,this._tag)},Ye.exports={Sign:V,Verify:P,createSign:V,createVerify:P}},43150:(Ye,J,A)=>{"use strict";var h=A(27054).Buffer,x=A(56432),N=A(14105),Y=A(90518).ec,M=A(917),j=A(65667),R=A(64589);function W(te,ue,pe,he){if((te=h.from(te.toArray())).length<ue.byteLength()){var ve=h.alloc(ue.byteLength()-te.length);te=h.concat([ve,te])}var ge=pe.length,Me=function de(te,ue){te=(te=Q(te,ue)).mod(ue);var pe=h.from(te.toArray());if(pe.length<ue.byteLength()){var he=h.alloc(ue.byteLength()-pe.length);pe=h.concat([he,pe])}return pe}(pe,ue),Oe=h.alloc(ge);Oe.fill(1);var je=h.alloc(ge);return je=x(he,je).update(Oe).update(h.from([0])).update(te).update(Me).digest(),Oe=x(he,je).update(Oe).digest(),{k:je=x(he,je).update(Oe).update(h.from([1])).update(te).update(Me).digest(),v:Oe=x(he,je).update(Oe).digest()}}function Q(te,ue){var pe=new M(te),he=(te.length<<3)-ue.bitLength();return he>0&&pe.ishrn(he),pe}function ae(te,ue,pe){var he,ve;do{for(he=h.alloc(0);8*he.length<te.bitLength();)ue.v=x(pe,ue.k).update(ue.v).digest(),he=h.concat([he,ue.v]);ve=Q(he,te),ue.k=x(pe,ue.k).update(ue.v).update(h.from([0])).digest(),ue.v=x(pe,ue.k).update(ue.v).digest()}while(-1!==ve.cmp(te));return ve}function re(te,ue,pe,he){return te.toRed(M.mont(pe)).redPow(ue).fromRed().mod(he)}Ye.exports=function H(te,ue,pe,he,ve){var ge=j(ue);if(ge.curve){if("ecdsa"!==he&&"ecdsa/rsa"!==he)throw new Error("wrong private key type");return function V(te,ue){var pe=R[ue.curve.join(".")];if(!pe)throw new Error("unknown curve "+ue.curve.join("."));var ge=new Y(pe).keyFromPrivate(ue.privateKey).sign(te);return h.from(ge.toDER())}(te,ge)}if("dsa"===ge.type){if("dsa"!==he)throw new Error("wrong private key type");return function P(te,ue,pe){for(var je,he=ue.params.priv_key,ve=ue.params.p,ge=ue.params.q,Me=ue.params.g,Oe=new M(0),B=Q(te,ge).mod(ge),l=!1,f=W(he,ge,te,pe);!1===l;)Oe=re(Me,je=ae(ge,f,pe),ve,ge),0===(l=je.invm(ge).imul(B.add(he.mul(Oe))).mod(ge)).cmpn(0)&&(l=!1,Oe=new M(0));return function ee(te,ue){te=te.toArray(),ue=ue.toArray(),128&te[0]&&(te=[0].concat(te)),128&ue[0]&&(ue=[0].concat(ue));var he=[48,te.length+ue.length+4,2,te.length];return he=he.concat(te,[2,ue.length],ue),h.from(he)}(Oe,l)}(te,ge,pe)}if("rsa"!==he&&"ecdsa/rsa"!==he)throw new Error("wrong private key type");if(void 0!==ue.padding&&1!==ue.padding)throw new Error("illegal or unsupported padding mode");te=h.concat([ve,te]);for(var Me=ge.modulus.byteLength(),Oe=[0,1];te.length+Oe.length+1<Me;)Oe.push(255);Oe.push(0);for(var je=-1;++je<te.length;)Oe.push(te[je]);return N(Oe,ge)},Ye.exports.getKey=W,Ye.exports.makeKey=ae},74754:(Ye,J,A)=>{"use strict";var h=A(27054).Buffer,x=A(917),N=A(90518).ec,Y=A(65667),M=A(64589);function H(V,P){if(V.cmpn(0)<=0)throw new Error("invalid sig");if(V.cmp(P)>=0)throw new Error("invalid sig")}Ye.exports=function j(V,P,ee,W,Q){var de=Y(ee);if("ec"===de.type){if("ecdsa"!==W&&"ecdsa/rsa"!==W)throw new Error("wrong public key type");return function R(V,P,ee){var W=M[ee.data.algorithm.curve.join(".")];if(!W)throw new Error("unknown curve "+ee.data.algorithm.curve.join("."));return new N(W).verify(P,V,ee.data.subjectPrivateKey.data)}(V,P,de)}if("dsa"===de.type){if("dsa"!==W)throw new Error("wrong public key type");return function U(V,P,ee){var W=ee.data.p,Q=ee.data.q,de=ee.data.g,ae=ee.data.pub_key,re=Y.signature.decode(V,"der"),te=re.s,ue=re.r;H(te,Q),H(ue,Q);var pe=x.mont(W),he=te.invm(Q);return 0===de.toRed(pe).redPow(new x(P).mul(he).mod(Q)).fromRed().mul(ae.toRed(pe).redPow(ue.mul(he).mod(Q)).fromRed()).mod(W).mod(Q).cmp(ue)}(V,P,de)}if("rsa"!==W&&"ecdsa/rsa"!==W)throw new Error("wrong public key type");P=h.concat([Q,P]);for(var ae=de.modulus.byteLength(),re=[1],te=0;P.length+re.length+2<ae;)re.push(255),te+=1;re.push(0);for(var ue=-1;++ue<P.length;)re.push(P[ue]);re=h.from(re);var pe=x.mont(de.modulus);V=(V=new x(V).toRed(pe)).redPow(new x(de.publicExponent)),V=h.from(V.fromRed().toArray());var he=te<8?1:0;for(ae=Math.min(V.length,re.length),V.length!==re.length&&(he=1),ue=-1;++ue<ae;)he|=V[ue]^re[ue];return 0===he}},23827:(Ye,J,A)=>{"use strict";var h=A(9656),x=Object.keys||function(ee){var W=[];for(var Q in ee)W.push(Q);return W};Ye.exports=H;var N=Object.create(A(27637));N.inherits=A(71993);var Y=A(81217),M=A(14817);N.inherits(H,Y);for(var j=x(M.prototype),R=0;R<j.length;R++){var U=j[R];H.prototype[U]||(H.prototype[U]=M.prototype[U])}function H(ee){if(!(this instanceof H))return new H(ee);Y.call(this,ee),M.call(this,ee),ee&&!1===ee.readable&&(this.readable=!1),ee&&!1===ee.writable&&(this.writable=!1),this.allowHalfOpen=!0,ee&&!1===ee.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",V)}function V(){this.allowHalfOpen||this._writableState.ended||h.nextTick(P,this)}function P(ee){ee.end()}Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(H.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ee){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=ee,this._writableState.destroyed=ee)}}),H.prototype._destroy=function(ee,W){this.push(null),this.end(),h.nextTick(W,ee)}},75519:(Ye,J,A)=>{"use strict";Ye.exports=N;var h=A(93045),x=Object.create(A(27637));function N(Y){if(!(this instanceof N))return new N(Y);h.call(this,Y)}x.inherits=A(71993),x.inherits(N,h),N.prototype._transform=function(Y,M,j){j(null,Y)}},81217:(Ye,J,A)=>{"use strict";var h=A(40573),x=A(9656);Ye.exports=he;var Y,N=A(20053);he.ReadableState=pe,A(44356);var j=function(Ie,Xe){return Ie.listeners(Xe).length},R=A(62078),U=A(29783).Buffer,H=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},ee=Object.create(A(27637));ee.inherits=A(71993);var W=A(92668),Q=void 0;Q=W&&W.debuglog?W.debuglog("stream"):function(){};var re,de=A(10793),ae=A(43357);ee.inherits(he,R);var te=["error","close","destroy","pause","resume"];function pe(Ie,Xe){var Se=Xe instanceof(Y=Y||A(23827));this.objectMode=!!(Ie=Ie||{}).objectMode,Se&&(this.objectMode=this.objectMode||!!Ie.readableObjectMode);var Le=Ie.highWaterMark,Ee=Ie.readableHighWaterMark;this.highWaterMark=Le||0===Le?Le:Se&&(Ee||0===Ee)?Ee:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new de,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Ie.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Ie.encoding&&(re||(re=A(72318).I),this.decoder=new re(Ie.encoding),this.encoding=Ie.encoding)}function he(Ie){if(Y=Y||A(23827),!(this instanceof he))return new he(Ie);this._readableState=new pe(Ie,this),this.readable=!0,Ie&&("function"==typeof Ie.read&&(this._read=Ie.read),"function"==typeof Ie.destroy&&(this._destroy=Ie.destroy)),R.call(this)}function ve(Ie,Xe,Se,Le,Ee){var oe,be=Ie._readableState;return null===Xe?(be.reading=!1,function f(Ie,Xe){if(!Xe.ended){if(Xe.decoder){var Se=Xe.decoder.end();Se&&Se.length&&(Xe.buffer.push(Se),Xe.length+=Xe.objectMode?1:Se.length)}Xe.ended=!0,w(Ie)}}(Ie,be)):(Ee||(oe=function Me(Ie,Xe){var Se;return!function P(Ie){return U.isBuffer(Ie)||Ie instanceof H}(Xe)&&"string"!=typeof Xe&&void 0!==Xe&&!Ie.objectMode&&(Se=new TypeError("Invalid non-string/buffer chunk")),Se}(be,Xe)),oe?Ie.emit("error",oe):be.objectMode||Xe&&Xe.length>0?("string"!=typeof Xe&&!be.objectMode&&Object.getPrototypeOf(Xe)!==U.prototype&&(Xe=function V(Ie){return U.from(Ie)}(Xe)),Le?be.endEmitted?Ie.emit("error",new Error("stream.unshift() after end event")):ge(Ie,be,Xe,!0):be.ended?Ie.emit("error",new Error("stream.push() after EOF")):(be.reading=!1,be.decoder&&!Se?(Xe=be.decoder.write(Xe),be.objectMode||0!==Xe.length?ge(Ie,be,Xe,!1):D(Ie,be)):ge(Ie,be,Xe,!1))):Le||(be.reading=!1)),function Oe(Ie){return!Ie.ended&&(Ie.needReadable||Ie.length<Ie.highWaterMark||0===Ie.length)}(be)}function ge(Ie,Xe,Se,Le){Xe.flowing&&0===Xe.length&&!Xe.sync?(Ie.emit("data",Se),Ie.read(0)):(Xe.length+=Xe.objectMode?1:Se.length,Le?Xe.buffer.unshift(Se):Xe.buffer.push(Se),Xe.needReadable&&w(Ie)),D(Ie,Xe)}Object.defineProperty(he.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(Ie){this._readableState&&(this._readableState.destroyed=Ie)}}),he.prototype.destroy=ae.destroy,he.prototype._undestroy=ae.undestroy,he.prototype._destroy=function(Ie,Xe){this.push(null),Xe(Ie)},he.prototype.push=function(Ie,Xe){var Le,Se=this._readableState;return Se.objectMode?Le=!0:"string"==typeof Ie&&((Xe=Xe||Se.defaultEncoding)!==Se.encoding&&(Ie=U.from(Ie,Xe),Xe=""),Le=!0),ve(this,Ie,Xe,!1,Le)},he.prototype.unshift=function(Ie){return ve(this,Ie,null,!0,!1)},he.prototype.isPaused=function(){return!1===this._readableState.flowing},he.prototype.setEncoding=function(Ie){return re||(re=A(72318).I),this._readableState.decoder=new re(Ie),this._readableState.encoding=Ie,this};function l(Ie,Xe){return Ie<=0||0===Xe.length&&Xe.ended?0:Xe.objectMode?1:Ie!=Ie?Xe.flowing&&Xe.length?Xe.buffer.head.data.length:Xe.length:(Ie>Xe.highWaterMark&&(Xe.highWaterMark=function B(Ie){return Ie>=8388608?Ie=8388608:(Ie--,Ie|=Ie>>>1,Ie|=Ie>>>2,Ie|=Ie>>>4,Ie|=Ie>>>8,Ie|=Ie>>>16,Ie++),Ie}(Ie)),Ie<=Xe.length?Ie:Xe.ended?Xe.length:(Xe.needReadable=!0,0))}function w(Ie){var Xe=Ie._readableState;Xe.needReadable=!1,Xe.emittedReadable||(Q("emitReadable",Xe.flowing),Xe.emittedReadable=!0,Xe.sync?x.nextTick(_,Ie):_(Ie))}function _(Ie){Q("emit readable"),Ie.emit("readable"),q(Ie)}function D(Ie,Xe){Xe.readingMore||(Xe.readingMore=!0,x.nextTick(O,Ie,Xe))}function O(Ie,Xe){for(var Se=Xe.length;!Xe.reading&&!Xe.flowing&&!Xe.ended&&Xe.length<Xe.highWaterMark&&(Q("maybeReadMore read 0"),Ie.read(0),Se!==Xe.length);)Se=Xe.length;Xe.readingMore=!1}function T(Ie){Q("readable nexttick read 0"),Ie.read(0)}function E(Ie,Xe){Xe.reading||(Q("resume read 0"),Ie.read(0)),Xe.resumeScheduled=!1,Xe.awaitDrain=0,Ie.emit("resume"),q(Ie),Xe.flowing&&!Xe.reading&&Ie.read(0)}function q(Ie){var Xe=Ie._readableState;for(Q("flow",Xe.flowing);Xe.flowing&&null!==Ie.read(););}function X(Ie,Xe){return 0===Xe.length?null:(Xe.objectMode?Se=Xe.buffer.shift():!Ie||Ie>=Xe.length?(Se=Xe.decoder?Xe.buffer.join(""):1===Xe.buffer.length?Xe.buffer.head.data:Xe.buffer.concat(Xe.length),Xe.buffer.clear()):Se=function ce(Ie,Xe,Se){var Le;return Ie<Xe.head.data.length?(Le=Xe.head.data.slice(0,Ie),Xe.head.data=Xe.head.data.slice(Ie)):Le=Ie===Xe.head.data.length?Xe.shift():Se?function me(Ie,Xe){var Se=Xe.head,Le=1,Ee=Se.data;for(Ie-=Ee.length;Se=Se.next;){var be=Se.data,oe=Ie>be.length?be.length:Ie;if(Ee+=oe===be.length?be:be.slice(0,Ie),0==(Ie-=oe)){oe===be.length?(++Le,Xe.head=Se.next?Se.next:Xe.tail=null):(Xe.head=Se,Se.data=be.slice(oe));break}++Le}return Xe.length-=Le,Ee}(Ie,Xe):function Te(Ie,Xe){var Se=U.allocUnsafe(Ie),Le=Xe.head,Ee=1;for(Le.data.copy(Se),Ie-=Le.data.length;Le=Le.next;){var be=Le.data,oe=Ie>be.length?be.length:Ie;if(be.copy(Se,Se.length-Ie,0,oe),0==(Ie-=oe)){oe===be.length?(++Ee,Xe.head=Le.next?Le.next:Xe.tail=null):(Xe.head=Le,Le.data=be.slice(oe));break}++Ee}return Xe.length-=Ee,Se}(Ie,Xe),Le}(Ie,Xe.buffer,Xe.decoder),Se);var Se}function Ke(Ie){var Xe=Ie._readableState;if(Xe.length>0)throw new Error('"endReadable()" called on non-empty stream');Xe.endEmitted||(Xe.ended=!0,x.nextTick(Qe,Xe,Ie))}function Qe(Ie,Xe){!Ie.endEmitted&&0===Ie.length&&(Ie.endEmitted=!0,Xe.readable=!1,Xe.emit("end"))}function ke(Ie,Xe){for(var Se=0,Le=Ie.length;Se<Le;Se++)if(Ie[Se]===Xe)return Se;return-1}he.prototype.read=function(Ie){Q("read",Ie),Ie=parseInt(Ie,10);var Xe=this._readableState,Se=Ie;if(0!==Ie&&(Xe.emittedReadable=!1),0===Ie&&Xe.needReadable&&(Xe.length>=Xe.highWaterMark||Xe.ended))return Q("read: emitReadable",Xe.length,Xe.ended),0===Xe.length&&Xe.ended?Ke(this):w(this),null;if(0===(Ie=l(Ie,Xe))&&Xe.ended)return 0===Xe.length&&Ke(this),null;var Ee,Le=Xe.needReadable;return Q("need readable",Le),(0===Xe.length||Xe.length-Ie<Xe.highWaterMark)&&Q("length less than watermark",Le=!0),Xe.ended||Xe.reading?Q("reading or ended",Le=!1):Le&&(Q("do read"),Xe.reading=!0,Xe.sync=!0,0===Xe.length&&(Xe.needReadable=!0),this._read(Xe.highWaterMark),Xe.sync=!1,Xe.reading||(Ie=l(Se,Xe))),null===(Ee=Ie>0?X(Ie,Xe):null)?(Xe.needReadable=!0,Ie=0):Xe.length-=Ie,0===Xe.length&&(Xe.ended||(Xe.needReadable=!0),Se!==Ie&&Xe.ended&&Ke(this)),null!==Ee&&this.emit("data",Ee),Ee},he.prototype._read=function(Ie){this.emit("error",new Error("_read() is not implemented"))},he.prototype.pipe=function(Ie,Xe){var Se=this,Le=this._readableState;switch(Le.pipesCount){case 0:Le.pipes=Ie;break;case 1:Le.pipes=[Le.pipes,Ie];break;default:Le.pipes.push(Ie)}Le.pipesCount+=1,Q("pipe count=%d opts=%j",Le.pipesCount,Xe);var be=Xe&&!1===Xe.end||Ie===h.stdout||Ie===h.stderr?Et:fe;function fe(){Q("onend"),Ie.end()}Le.endEmitted?x.nextTick(be):Se.once("end",be),Ie.on("unpipe",function oe(K,C){Q("onunpipe"),K===Se&&C&&!1===C.hasUnpiped&&(C.hasUnpiped=!0,function $e(){Q("cleanup"),Ie.removeListener("close",nt),Ie.removeListener("finish",Ge),Ie.removeListener("drain",we),Ie.removeListener("error",Pt),Ie.removeListener("unpipe",oe),Se.removeListener("end",fe),Se.removeListener("end",Et),Se.removeListener("data",Ze),De=!0,Le.awaitDrain&&(!Ie._writableState||Ie._writableState.needDrain)&&we()}())});var we=function $(Ie){return function(){var Xe=Ie._readableState;Q("pipeOnDrain",Xe.awaitDrain),Xe.awaitDrain&&Xe.awaitDrain--,0===Xe.awaitDrain&&j(Ie,"data")&&(Xe.flowing=!0,q(Ie))}}(Se);Ie.on("drain",we);var De=!1,Je=!1;function Ze(K){Q("ondata"),Je=!1,!1===Ie.write(K)&&!Je&&((1===Le.pipesCount&&Le.pipes===Ie||Le.pipesCount>1&&-1!==ke(Le.pipes,Ie))&&!De&&(Q("false write response, pause",Le.awaitDrain),Le.awaitDrain++,Je=!0),Se.pause())}function Pt(K){Q("onerror",K),Et(),Ie.removeListener("error",Pt),0===j(Ie,"error")&&Ie.emit("error",K)}function nt(){Ie.removeListener("finish",Ge),Et()}function Ge(){Q("onfinish"),Ie.removeListener("close",nt),Et()}function Et(){Q("unpipe"),Se.unpipe(Ie)}return Se.on("data",Ze),function ue(Ie,Xe,Se){if("function"==typeof Ie.prependListener)return Ie.prependListener(Xe,Se);Ie._events&&Ie._events[Xe]?N(Ie._events[Xe])?Ie._events[Xe].unshift(Se):Ie._events[Xe]=[Se,Ie._events[Xe]]:Ie.on(Xe,Se)}(Ie,"error",Pt),Ie.once("close",nt),Ie.once("finish",Ge),Ie.emit("pipe",Se),Le.flowing||(Q("pipe resume"),Se.resume()),Ie},he.prototype.unpipe=function(Ie){var Xe=this._readableState,Se={hasUnpiped:!1};if(0===Xe.pipesCount)return this;if(1===Xe.pipesCount)return Ie&&Ie!==Xe.pipes||(Ie||(Ie=Xe.pipes),Xe.pipes=null,Xe.pipesCount=0,Xe.flowing=!1,Ie&&Ie.emit("unpipe",this,Se)),this;if(!Ie){var Le=Xe.pipes,Ee=Xe.pipesCount;Xe.pipes=null,Xe.pipesCount=0,Xe.flowing=!1;for(var be=0;be<Ee;be++)Le[be].emit("unpipe",this,{hasUnpiped:!1});return this}var oe=ke(Xe.pipes,Ie);return-1===oe||(Xe.pipes.splice(oe,1),Xe.pipesCount-=1,1===Xe.pipesCount&&(Xe.pipes=Xe.pipes[0]),Ie.emit("unpipe",this,Se)),this},he.prototype.addListener=he.prototype.on=function(Ie,Xe){var Se=R.prototype.on.call(this,Ie,Xe);if("data"===Ie)!1!==this._readableState.flowing&&this.resume();else if("readable"===Ie){var Le=this._readableState;!Le.endEmitted&&!Le.readableListening&&(Le.readableListening=Le.needReadable=!0,Le.emittedReadable=!1,Le.reading?Le.length&&w(this):x.nextTick(T,this))}return Se},he.prototype.resume=function(){var Ie=this._readableState;return Ie.flowing||(Q("resume"),Ie.flowing=!0,function c(Ie,Xe){Xe.resumeScheduled||(Xe.resumeScheduled=!0,x.nextTick(E,Ie,Xe))}(this,Ie)),this},he.prototype.pause=function(){return Q("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Q("pause"),this._readableState.flowing=!1,this.emit("pause")),this},he.prototype.wrap=function(Ie){var Xe=this,Se=this._readableState,Le=!1;for(var Ee in Ie.on("end",function(){if(Q("wrapped end"),Se.decoder&&!Se.ended){var oe=Se.decoder.end();oe&&oe.length&&Xe.push(oe)}Xe.push(null)}),Ie.on("data",function(oe){Q("wrapped data"),Se.decoder&&(oe=Se.decoder.write(oe)),Se.objectMode&&null==oe||!(Se.objectMode||oe&&oe.length)||Xe.push(oe)||(Le=!0,Ie.pause())}),Ie)void 0===this[Ee]&&"function"==typeof Ie[Ee]&&(this[Ee]=function(oe){return function(){return Ie[oe].apply(Ie,arguments)}}(Ee));for(var be=0;be<te.length;be++)Ie.on(te[be],this.emit.bind(this,te[be]));return this._read=function(oe){Q("wrapped _read",oe),Le&&(Le=!1,Ie.resume())},this},Object.defineProperty(he.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),he._fromList=X},93045:(Ye,J,A)=>{"use strict";Ye.exports=Y;var h=A(23827),x=Object.create(A(27637));function N(R,U){var H=this._transformState;H.transforming=!1;var V=H.writecb;if(!V)return this.emit("error",new Error("write callback called multiple times"));H.writechunk=null,H.writecb=null,null!=U&&this.push(U),V(R);var P=this._readableState;P.reading=!1,(P.needReadable||P.length<P.highWaterMark)&&this._read(P.highWaterMark)}function Y(R){if(!(this instanceof Y))return new Y(R);h.call(this,R),this._transformState={afterTransform:N.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,R&&("function"==typeof R.transform&&(this._transform=R.transform),"function"==typeof R.flush&&(this._flush=R.flush)),this.on("prefinish",M)}function M(){var R=this;"function"==typeof this._flush?this._flush(function(U,H){j(R,U,H)}):j(this,null,null)}function j(R,U,H){if(U)return R.emit("error",U);if(null!=H&&R.push(H),R._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(R._transformState.transforming)throw new Error("Calling transform done when still transforming");return R.push(null)}x.inherits=A(71993),x.inherits(Y,h),Y.prototype.push=function(R,U){return this._transformState.needTransform=!1,h.prototype.push.call(this,R,U)},Y.prototype._transform=function(R,U,H){throw new Error("_transform() is not implemented")},Y.prototype._write=function(R,U,H){var V=this._transformState;if(V.writecb=H,V.writechunk=R,V.writeencoding=U,!V.transforming){var P=this._readableState;(V.needTransform||P.needReadable||P.length<P.highWaterMark)&&this._read(P.highWaterMark)}},Y.prototype._read=function(R){var U=this._transformState;null!==U.writechunk&&U.writecb&&!U.transforming?(U.transforming=!0,this._transform(U.writechunk,U.writeencoding,U.afterTransform)):U.needTransform=!0},Y.prototype._destroy=function(R,U){var H=this;h.prototype._destroy.call(this,R,function(V){U(V),H.emit("close")})}},14817:(Ye,J,A)=>{"use strict";var h=A(40573),x=A(9656);function Y(c){var E=this;this.next=null,this.entry=null,this.finish=function(){!function T(c,E,q){var X=c.entry;for(c.entry=null;X;){var ce=X.callback;E.pendingcb--,ce(q),X=X.next}E.corkedRequestsFree.next=c}(E,c)}}Ye.exports=te;var j,M=!h.browser&&["v0.10","v0.9."].indexOf(h.version.slice(0,5))>-1?setImmediate:x.nextTick;te.WritableState=ae;var R=Object.create(A(27637));R.inherits=A(71993);var re,U={deprecate:A(3398)},H=A(62078),V=A(29783).Buffer,P=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},Q=A(43357);function de(){}function ae(c,E){j=j||A(23827);var q=E instanceof j;this.objectMode=!!(c=c||{}).objectMode,q&&(this.objectMode=this.objectMode||!!c.writableObjectMode);var X=c.highWaterMark,ce=c.writableHighWaterMark;this.highWaterMark=X||0===X?X:q&&(ce||0===ce)?ce:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===c.decodeStrings),this.defaultEncoding=c.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ke){!function je(c,E){var q=c._writableState,X=q.sync,ce=q.writecb;if(function Oe(c){c.writing=!1,c.writecb=null,c.length-=c.writelen,c.writelen=0}(q),E)!function Me(c,E,q,X,ce){--E.pendingcb,q?(x.nextTick(ce,X),x.nextTick(O,c,E),c._writableState.errorEmitted=!0,c.emit("error",X)):(ce(X),c._writableState.errorEmitted=!0,c.emit("error",X),O(c,E))}(c,q,X,E,ce);else{var me=w(q);!me&&!q.corked&&!q.bufferProcessing&&q.bufferedRequest&&f(c,q),X?M(B,c,q,me,ce):B(c,q,me,ce)}}(E,Ke)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Y(this)}function te(c){if(j=j||A(23827),!(re.call(te,this)||this instanceof j))return new te(c);this._writableState=new ae(c,this),this.writable=!0,c&&("function"==typeof c.write&&(this._write=c.write),"function"==typeof c.writev&&(this._writev=c.writev),"function"==typeof c.destroy&&(this._destroy=c.destroy),"function"==typeof c.final&&(this._final=c.final)),H.call(this)}function ge(c,E,q,X,ce,me,Te){E.writelen=X,E.writecb=Te,E.writing=!0,E.sync=!0,q?c._writev(ce,E.onwrite):c._write(ce,me,E.onwrite),E.sync=!1}function B(c,E,q,X){q||function l(c,E){0===E.length&&E.needDrain&&(E.needDrain=!1,c.emit("drain"))}(c,E),E.pendingcb--,X(),O(c,E)}function f(c,E){E.bufferProcessing=!0;var q=E.bufferedRequest;if(c._writev&&q&&q.next){var ce=new Array(E.bufferedRequestCount),me=E.corkedRequestsFree;me.entry=q;for(var Te=0,Ke=!0;q;)ce[Te]=q,q.isBuf||(Ke=!1),q=q.next,Te+=1;ce.allBuffers=Ke,ge(c,E,!0,E.length,ce,"",me.finish),E.pendingcb++,E.lastBufferedRequest=null,me.next?(E.corkedRequestsFree=me.next,me.next=null):E.corkedRequestsFree=new Y(E),E.bufferedRequestCount=0}else{for(;q;){var Qe=q.chunk;if(ge(c,E,!1,E.objectMode?1:Qe.length,Qe,q.encoding,q.callback),q=q.next,E.bufferedRequestCount--,E.writing)break}null===q&&(E.lastBufferedRequest=null)}E.bufferedRequest=q,E.bufferProcessing=!1}function w(c){return c.ending&&0===c.length&&null===c.bufferedRequest&&!c.finished&&!c.writing}function _(c,E){c._final(function(q){E.pendingcb--,q&&c.emit("error",q),E.prefinished=!0,c.emit("prefinish"),O(c,E)})}function O(c,E){var q=w(E);return q&&(function D(c,E){!E.prefinished&&!E.finalCalled&&("function"==typeof c._final?(E.pendingcb++,E.finalCalled=!0,x.nextTick(_,c,E)):(E.prefinished=!0,c.emit("prefinish")))}(c,E),0===E.pendingcb&&(E.finished=!0,c.emit("finish"))),q}R.inherits(te,H),ae.prototype.getBuffer=function(){for(var E=this.bufferedRequest,q=[];E;)q.push(E),E=E.next;return q},function(){try{Object.defineProperty(ae.prototype,"buffer",{get:U.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(re=Function.prototype[Symbol.hasInstance],Object.defineProperty(te,Symbol.hasInstance,{value:function(c){return!!re.call(this,c)||this===te&&c&&c._writableState instanceof ae}})):re=function(c){return c instanceof this},te.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},te.prototype.write=function(c,E,q){var X=this._writableState,ce=!1,me=!X.objectMode&&function W(c){return V.isBuffer(c)||c instanceof P}(c);return me&&!V.isBuffer(c)&&(c=function ee(c){return V.from(c)}(c)),"function"==typeof E&&(q=E,E=null),me?E="buffer":E||(E=X.defaultEncoding),"function"!=typeof q&&(q=de),X.ended?function ue(c,E){var q=new Error("write after end");c.emit("error",q),x.nextTick(E,q)}(this,q):(me||function pe(c,E,q,X){var ce=!0,me=!1;return null===q?me=new TypeError("May not write null values to stream"):"string"!=typeof q&&void 0!==q&&!E.objectMode&&(me=new TypeError("Invalid non-string/buffer chunk")),me&&(c.emit("error",me),x.nextTick(X,me),ce=!1),ce}(this,X,c,q))&&(X.pendingcb++,ce=function ve(c,E,q,X,ce,me){if(!q){var Te=function he(c,E,q){return!c.objectMode&&!1!==c.decodeStrings&&"string"==typeof E&&(E=V.from(E,q)),E}(E,X,ce);X!==Te&&(q=!0,ce="buffer",X=Te)}var Ke=E.objectMode?1:X.length;E.length+=Ke;var Qe=E.length<E.highWaterMark;if(Qe||(E.needDrain=!0),E.writing||E.corked){var ke=E.lastBufferedRequest;E.lastBufferedRequest={chunk:X,encoding:ce,isBuf:q,callback:me,next:null},ke?ke.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else ge(c,E,!1,Ke,X,ce,me);return Qe}(this,X,me,c,E,q)),ce},te.prototype.cork=function(){this._writableState.corked++},te.prototype.uncork=function(){var c=this._writableState;c.corked&&(c.corked--,!c.writing&&!c.corked&&!c.bufferProcessing&&c.bufferedRequest&&f(this,c))},te.prototype.setDefaultEncoding=function(E){if("string"==typeof E&&(E=E.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((E+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+E);return this._writableState.defaultEncoding=E,this},Object.defineProperty(te.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),te.prototype._write=function(c,E,q){q(new Error("_write() is not implemented"))},te.prototype._writev=null,te.prototype.end=function(c,E,q){var X=this._writableState;"function"==typeof c?(q=c,c=null,E=null):"function"==typeof E&&(q=E,E=null),null!=c&&this.write(c,E),X.corked&&(X.corked=1,this.uncork()),X.ending||function $(c,E,q){E.ending=!0,O(c,E),q&&(E.finished?x.nextTick(q):c.once("finish",q)),E.ended=!0,c.writable=!1}(this,X,q)},Object.defineProperty(te.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(c){this._writableState&&(this._writableState.destroyed=c)}}),te.prototype.destroy=Q.destroy,te.prototype._undestroy=Q.undestroy,te.prototype._destroy=function(c,E){this.end(),E(c)}},10793:(Ye,J,A)=>{"use strict";var x=A(29783).Buffer,N=A(21638);function Y(M,j,R){M.copy(j,R)}Ye.exports=function(){function M(){(function h(M,j){if(!(M instanceof j))throw new TypeError("Cannot call a class as a function")})(this,M),this.head=null,this.tail=null,this.length=0}return M.prototype.push=function(R){var U={data:R,next:null};this.length>0?this.tail.next=U:this.head=U,this.tail=U,++this.length},M.prototype.unshift=function(R){var U={data:R,next:this.head};0===this.length&&(this.tail=U),this.head=U,++this.length},M.prototype.shift=function(){if(0!==this.length){var R=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,R}},M.prototype.clear=function(){this.head=this.tail=null,this.length=0},M.prototype.join=function(R){if(0===this.length)return"";for(var U=this.head,H=""+U.data;U=U.next;)H+=R+U.data;return H},M.prototype.concat=function(R){if(0===this.length)return x.alloc(0);for(var U=x.allocUnsafe(R>>>0),H=this.head,V=0;H;)Y(H.data,U,V),V+=H.data.length,H=H.next;return U},M}(),N&&N.inspect&&N.inspect.custom&&(Ye.exports.prototype[N.inspect.custom]=function(){var M=N.inspect({length:this.length});return this.constructor.name+" "+M})},43357:(Ye,J,A)=>{"use strict";var h=A(9656);function Y(M,j){M.emit("error",j)}Ye.exports={destroy:function x(M,j){var R=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(j?j(M):M&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,h.nextTick(Y,this,M)):h.nextTick(Y,this,M)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(M||null,function(V){!j&&V?R._writableState?R._writableState.errorEmitted||(R._writableState.errorEmitted=!0,h.nextTick(Y,R,V)):h.nextTick(Y,R,V):j&&j(V)}),this)},undestroy:function N(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},62078:(Ye,J,A)=>{Ye.exports=A(44356).EventEmitter},29783:(Ye,J,A)=>{var h=A(83838),x=h.Buffer;function N(M,j){for(var R in M)j[R]=M[R]}function Y(M,j,R){return x(M,j,R)}x.from&&x.alloc&&x.allocUnsafe&&x.allocUnsafeSlow?Ye.exports=h:(N(h,J),J.Buffer=Y),N(x,Y),Y.from=function(M,j,R){if("number"==typeof M)throw new TypeError("Argument must not be a number");return x(M,j,R)},Y.alloc=function(M,j,R){if("number"!=typeof M)throw new TypeError("Argument must be a number");var U=x(M);return void 0!==j?"string"==typeof R?U.fill(j,R):U.fill(j):U.fill(0),U},Y.allocUnsafe=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return x(M)},Y.allocUnsafeSlow=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return h.SlowBuffer(M)}},64670:(Ye,J,A)=>{(J=Ye.exports=A(81217)).Stream=J,J.Readable=J,J.Writable=A(14817),J.Duplex=A(23827),J.Transform=A(93045),J.PassThrough=A(75519)},72318:(Ye,J,A)=>{"use strict";var h=A(37656).Buffer,x=h.isEncoding||function(te){switch((te=""+te)&&te.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function M(te){var ue;switch(this.encoding=function Y(te){var ue=function N(te){if(!te)return"utf8";for(var ue;;)switch(te){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return te;default:if(ue)return;te=(""+te).toLowerCase(),ue=!0}}(te);if("string"!=typeof ue&&(h.isEncoding===x||!x(te)))throw new Error("Unknown encoding: "+te);return ue||te}(te),this.encoding){case"utf16le":this.text=ee,this.end=W,ue=4;break;case"utf8":this.fillLast=H,ue=4;break;case"base64":this.text=Q,this.end=de,ue=3;break;default:return this.write=ae,void(this.end=re)}this.lastNeed=0,this.lastTotal=0,this.lastChar=h.allocUnsafe(ue)}function j(te){return te<=127?0:te>>5==6?2:te>>4==14?3:te>>3==30?4:te>>6==2?-1:-2}function H(te){var ue=this.lastTotal-this.lastNeed,pe=function U(te,ue,pe){if(128!=(192&ue[0]))return te.lastNeed=0,"\ufffd";if(te.lastNeed>1&&ue.length>1){if(128!=(192&ue[1]))return te.lastNeed=1,"\ufffd";if(te.lastNeed>2&&ue.length>2&&128!=(192&ue[2]))return te.lastNeed=2,"\ufffd"}}(this,te);return void 0!==pe?pe:this.lastNeed<=te.length?(te.copy(this.lastChar,ue,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(te.copy(this.lastChar,ue,0,te.length),void(this.lastNeed-=te.length))}function ee(te,ue){if((te.length-ue)%2==0){var pe=te.toString("utf16le",ue);if(pe){var he=pe.charCodeAt(pe.length-1);if(he>=55296&&he<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=te[te.length-2],this.lastChar[1]=te[te.length-1],pe.slice(0,-1)}return pe}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=te[te.length-1],te.toString("utf16le",ue,te.length-1)}function W(te){var ue=te&&te.length?this.write(te):"";return this.lastNeed?ue+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):ue}function Q(te,ue){var pe=(te.length-ue)%3;return 0===pe?te.toString("base64",ue):(this.lastNeed=3-pe,this.lastTotal=3,1===pe?this.lastChar[0]=te[te.length-1]:(this.lastChar[0]=te[te.length-2],this.lastChar[1]=te[te.length-1]),te.toString("base64",ue,te.length-pe))}function de(te){var ue=te&&te.length?this.write(te):"";return this.lastNeed?ue+this.lastChar.toString("base64",0,3-this.lastNeed):ue}function ae(te){return te.toString(this.encoding)}function re(te){return te&&te.length?this.write(te):""}J.I=M,M.prototype.write=function(te){if(0===te.length)return"";var ue,pe;if(this.lastNeed){if(void 0===(ue=this.fillLast(te)))return"";pe=this.lastNeed,this.lastNeed=0}else pe=0;return pe<te.length?ue?ue+this.text(te,pe):this.text(te,pe):ue||""},M.prototype.end=function P(te){var ue=te&&te.length?this.write(te):"";return this.lastNeed?ue+"\ufffd":ue},M.prototype.text=function V(te,ue){var pe=function R(te,ue,pe){var he=ue.length-1;if(he<pe)return 0;var ve=j(ue[he]);return ve>=0?(ve>0&&(te.lastNeed=ve-1),ve):--he<pe||-2===ve?0:(ve=j(ue[he]))>=0?(ve>0&&(te.lastNeed=ve-2),ve):--he<pe||-2===ve?0:(ve=j(ue[he]))>=0?(ve>0&&(2===ve?ve=0:te.lastNeed=ve-3),ve):0}(this,te,ue);if(!this.lastNeed)return te.toString("utf8",ue);this.lastTotal=pe;var he=te.length-(pe-this.lastNeed);return te.copy(this.lastChar,0,he),te.toString("utf8",ue,he)},M.prototype.fillLast=function(te){if(this.lastNeed<=te.length)return te.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);te.copy(this.lastChar,this.lastTotal-this.lastNeed,0,te.length),this.lastNeed-=te.length}},37656:(Ye,J,A)=>{var h=A(83838),x=h.Buffer;function N(M,j){for(var R in M)j[R]=M[R]}function Y(M,j,R){return x(M,j,R)}x.from&&x.alloc&&x.allocUnsafe&&x.allocUnsafeSlow?Ye.exports=h:(N(h,J),J.Buffer=Y),N(x,Y),Y.from=function(M,j,R){if("number"==typeof M)throw new TypeError("Argument must not be a number");return x(M,j,R)},Y.alloc=function(M,j,R){if("number"!=typeof M)throw new TypeError("Argument must be a number");var U=x(M);return void 0!==j?"string"==typeof R?U.fill(j,R):U.fill(j):U.fill(0),U},Y.allocUnsafe=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return x(M)},Y.allocUnsafeSlow=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return h.SlowBuffer(M)}},13546:Ye=>{Ye.exports=function(A,h){for(var x=Math.min(A.length,h.length),N=new Buffer(x),Y=0;Y<x;++Y)N[Y]=A[Y]^h[Y];return N}},83838:(Ye,J,A)=>{"use strict";var h=A(13981),x=A(22020),N="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;J.Buffer=R,J.SlowBuffer=function te(oe){return+oe!=oe&&(oe=0),R.alloc(+oe)},J.INSPECT_MAX_BYTES=50;var Y=2147483647;function j(oe){if(oe>Y)throw new RangeError('The value "'+oe+'" is invalid for option "size"');var fe=new Uint8Array(oe);return Object.setPrototypeOf(fe,R.prototype),fe}function R(oe,fe,we){if("number"==typeof oe){if("string"==typeof fe)throw new TypeError('The "string" argument must be of type string. Received type number');return P(oe)}return U(oe,fe,we)}function U(oe,fe,we){if("string"==typeof oe)return function ee(oe,fe){if(("string"!=typeof fe||""===fe)&&(fe="utf8"),!R.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);var we=0|ue(oe,fe),De=j(we),$e=De.write(oe,fe);return $e!==we&&(De=De.slice(0,$e)),De}(oe,fe);if(ArrayBuffer.isView(oe))return function Q(oe){if(Le(oe,Uint8Array)){var fe=new Uint8Array(oe);return de(fe.buffer,fe.byteOffset,fe.byteLength)}return W(oe)}(oe);if(null==oe)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof oe);if(Le(oe,ArrayBuffer)||oe&&Le(oe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(oe,SharedArrayBuffer)||oe&&Le(oe.buffer,SharedArrayBuffer)))return de(oe,fe,we);if("number"==typeof oe)throw new TypeError('The "value" argument must not be of type number. Received type number');var De=oe.valueOf&&oe.valueOf();if(null!=De&&De!==oe)return R.from(De,fe,we);var $e=function ae(oe){if(R.isBuffer(oe)){var fe=0|re(oe.length),we=j(fe);return 0===we.length||oe.copy(we,0,0,fe),we}return void 0!==oe.length?"number"!=typeof oe.length||Ee(oe.length)?j(0):W(oe):"Buffer"===oe.type&&Array.isArray(oe.data)?W(oe.data):void 0}(oe);if($e)return $e;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof oe[Symbol.toPrimitive])return R.from(oe[Symbol.toPrimitive]("string"),fe,we);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof oe)}function H(oe){if("number"!=typeof oe)throw new TypeError('"size" argument must be of type number');if(oe<0)throw new RangeError('The value "'+oe+'" is invalid for option "size"')}function P(oe){return H(oe),j(oe<0?0:0|re(oe))}function W(oe){for(var fe=oe.length<0?0:0|re(oe.length),we=j(fe),De=0;De<fe;De+=1)we[De]=255&oe[De];return we}function de(oe,fe,we){if(fe<0||oe.byteLength<fe)throw new RangeError('"offset" is outside of buffer bounds');if(oe.byteLength<fe+(we||0))throw new RangeError('"length" is outside of buffer bounds');var De;return De=void 0===fe&&void 0===we?new Uint8Array(oe):void 0===we?new Uint8Array(oe,fe):new Uint8Array(oe,fe,we),Object.setPrototypeOf(De,R.prototype),De}function re(oe){if(oe>=Y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Y.toString(16)+" bytes");return 0|oe}function ue(oe,fe){if(R.isBuffer(oe))return oe.length;if(ArrayBuffer.isView(oe)||Le(oe,ArrayBuffer))return oe.byteLength;if("string"!=typeof oe)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof oe);var we=oe.length,De=arguments.length>2&&!0===arguments[2];if(!De&&0===we)return 0;for(var $e=!1;;)switch(fe){case"ascii":case"latin1":case"binary":return we;case"utf8":case"utf-8":return Qe(oe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*we;case"hex":return we>>>1;case"base64":return Xe(oe).length;default:if($e)return De?-1:Qe(oe).length;fe=(""+fe).toLowerCase(),$e=!0}}function pe(oe,fe,we){var De=!1;if((void 0===fe||fe<0)&&(fe=0),fe>this.length||((void 0===we||we>this.length)&&(we=this.length),we<=0)||(we>>>=0)<=(fe>>>=0))return"";for(oe||(oe="utf8");;)switch(oe){case"hex":return T(this,fe,we);case"utf8":case"utf-8":return w(this,fe,we);case"ascii":return O(this,fe,we);case"latin1":case"binary":return $(this,fe,we);case"base64":return f(this,fe,we);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c(this,fe,we);default:if(De)throw new TypeError("Unknown encoding: "+oe);oe=(oe+"").toLowerCase(),De=!0}}function he(oe,fe,we){var De=oe[fe];oe[fe]=oe[we],oe[we]=De}function ve(oe,fe,we,De,$e){if(0===oe.length)return-1;if("string"==typeof we?(De=we,we=0):we>2147483647?we=2147483647:we<-2147483648&&(we=-2147483648),Ee(we=+we)&&(we=$e?0:oe.length-1),we<0&&(we=oe.length+we),we>=oe.length){if($e)return-1;we=oe.length-1}else if(we<0){if(!$e)return-1;we=0}if("string"==typeof fe&&(fe=R.from(fe,De)),R.isBuffer(fe))return 0===fe.length?-1:ge(oe,fe,we,De,$e);if("number"==typeof fe)return fe&=255,"function"==typeof Uint8Array.prototype.indexOf?$e?Uint8Array.prototype.indexOf.call(oe,fe,we):Uint8Array.prototype.lastIndexOf.call(oe,fe,we):ge(oe,[fe],we,De,$e);throw new TypeError("val must be string, number or Buffer")}function ge(oe,fe,we,De,$e){var Ge,Je=1,Ze=oe.length,Pt=fe.length;if(void 0!==De&&("ucs2"===(De=String(De).toLowerCase())||"ucs-2"===De||"utf16le"===De||"utf-16le"===De)){if(oe.length<2||fe.length<2)return-1;Je=2,Ze/=2,Pt/=2,we/=2}function nt(b,z){return 1===Je?b[z]:b.readUInt16BE(z*Je)}if($e){var Et=-1;for(Ge=we;Ge<Ze;Ge++)if(nt(oe,Ge)===nt(fe,-1===Et?0:Ge-Et)){if(-1===Et&&(Et=Ge),Ge-Et+1===Pt)return Et*Je}else-1!==Et&&(Ge-=Ge-Et),Et=-1}else for(we+Pt>Ze&&(we=Ze-Pt),Ge=we;Ge>=0;Ge--){for(var K=!0,C=0;C<Pt;C++)if(nt(oe,Ge+C)!==nt(fe,C)){K=!1;break}if(K)return Ge}return-1}function Me(oe,fe,we,De){we=Number(we)||0;var $e=oe.length-we;De?(De=Number(De))>$e&&(De=$e):De=$e;var Je=fe.length;De>Je/2&&(De=Je/2);for(var Ze=0;Ze<De;++Ze){var Pt=parseInt(fe.substr(2*Ze,2),16);if(Ee(Pt))return Ze;oe[we+Ze]=Pt}return Ze}function Oe(oe,fe,we,De){return Se(Qe(fe,oe.length-we),oe,we,De)}function je(oe,fe,we,De){return Se(function ke(oe){for(var fe=[],we=0;we<oe.length;++we)fe.push(255&oe.charCodeAt(we));return fe}(fe),oe,we,De)}function B(oe,fe,we,De){return Se(Xe(fe),oe,we,De)}function l(oe,fe,we,De){return Se(function Ie(oe,fe){for(var we,De,Je=[],Ze=0;Ze<oe.length&&!((fe-=2)<0);++Ze)De=(we=oe.charCodeAt(Ze))>>8,Je.push(we%256),Je.push(De);return Je}(fe,oe.length-we),oe,we,De)}function f(oe,fe,we){return h.fromByteArray(0===fe&&we===oe.length?oe:oe.slice(fe,we))}function w(oe,fe,we){we=Math.min(oe.length,we);for(var De=[],$e=fe;$e<we;){var nt,Ge,Et,K,Je=oe[$e],Ze=null,Pt=Je>239?4:Je>223?3:Je>191?2:1;if($e+Pt<=we)switch(Pt){case 1:Je<128&&(Ze=Je);break;case 2:128==(192&(nt=oe[$e+1]))&&(K=(31&Je)<<6|63&nt)>127&&(Ze=K);break;case 3:Ge=oe[$e+2],128==(192&(nt=oe[$e+1]))&&128==(192&Ge)&&(K=(15&Je)<<12|(63&nt)<<6|63&Ge)>2047&&(K<55296||K>57343)&&(Ze=K);break;case 4:Ge=oe[$e+2],Et=oe[$e+3],128==(192&(nt=oe[$e+1]))&&128==(192&Ge)&&128==(192&Et)&&(K=(15&Je)<<18|(63&nt)<<12|(63&Ge)<<6|63&Et)>65535&&K<1114112&&(Ze=K)}null===Ze?(Ze=65533,Pt=1):Ze>65535&&(De.push((Ze-=65536)>>>10&1023|55296),Ze=56320|1023&Ze),De.push(Ze),$e+=Pt}return function D(oe){var fe=oe.length;if(fe<=_)return String.fromCharCode.apply(String,oe);for(var we="",De=0;De<fe;)we+=String.fromCharCode.apply(String,oe.slice(De,De+=_));return we}(De)}J.kMaxLength=Y,!(R.TYPED_ARRAY_SUPPORT=function M(){try{var oe=new Uint8Array(1),fe={foo:function(){return 42}};return Object.setPrototypeOf(fe,Uint8Array.prototype),Object.setPrototypeOf(oe,fe),42===oe.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(R.prototype,"parent",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.buffer}}),Object.defineProperty(R.prototype,"offset",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.byteOffset}}),R.poolSize=8192,R.from=function(oe,fe,we){return U(oe,fe,we)},Object.setPrototypeOf(R.prototype,Uint8Array.prototype),Object.setPrototypeOf(R,Uint8Array),R.alloc=function(oe,fe,we){return function V(oe,fe,we){return H(oe),oe<=0?j(oe):void 0!==fe?"string"==typeof we?j(oe).fill(fe,we):j(oe).fill(fe):j(oe)}(oe,fe,we)},R.allocUnsafe=function(oe){return P(oe)},R.allocUnsafeSlow=function(oe){return P(oe)},R.isBuffer=function(fe){return null!=fe&&!0===fe._isBuffer&&fe!==R.prototype},R.compare=function(fe,we){if(Le(fe,Uint8Array)&&(fe=R.from(fe,fe.offset,fe.byteLength)),Le(we,Uint8Array)&&(we=R.from(we,we.offset,we.byteLength)),!R.isBuffer(fe)||!R.isBuffer(we))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(fe===we)return 0;for(var De=fe.length,$e=we.length,Je=0,Ze=Math.min(De,$e);Je<Ze;++Je)if(fe[Je]!==we[Je]){De=fe[Je],$e=we[Je];break}return De<$e?-1:$e<De?1:0},R.isEncoding=function(fe){switch(String(fe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},R.concat=function(fe,we){if(!Array.isArray(fe))throw new TypeError('"list" argument must be an Array of Buffers');if(0===fe.length)return R.alloc(0);var De;if(void 0===we)for(we=0,De=0;De<fe.length;++De)we+=fe[De].length;var $e=R.allocUnsafe(we),Je=0;for(De=0;De<fe.length;++De){var Ze=fe[De];if(Le(Ze,Uint8Array))Je+Ze.length>$e.length?R.from(Ze).copy($e,Je):Uint8Array.prototype.set.call($e,Ze,Je);else{if(!R.isBuffer(Ze))throw new TypeError('"list" argument must be an Array of Buffers');Ze.copy($e,Je)}Je+=Ze.length}return $e},R.byteLength=ue,R.prototype._isBuffer=!0,R.prototype.swap16=function(){var fe=this.length;if(fe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var we=0;we<fe;we+=2)he(this,we,we+1);return this},R.prototype.swap32=function(){var fe=this.length;if(fe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var we=0;we<fe;we+=4)he(this,we,we+3),he(this,we+1,we+2);return this},R.prototype.swap64=function(){var fe=this.length;if(fe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var we=0;we<fe;we+=8)he(this,we,we+7),he(this,we+1,we+6),he(this,we+2,we+5),he(this,we+3,we+4);return this},R.prototype.toLocaleString=R.prototype.toString=function(){var fe=this.length;return 0===fe?"":0===arguments.length?w(this,0,fe):pe.apply(this,arguments)},R.prototype.equals=function(fe){if(!R.isBuffer(fe))throw new TypeError("Argument must be a Buffer");return this===fe||0===R.compare(this,fe)},R.prototype.inspect=function(){var fe="",we=J.INSPECT_MAX_BYTES;return fe=this.toString("hex",0,we).replace(/(.{2})/g,"$1 ").trim(),this.length>we&&(fe+=" ... "),"<Buffer "+fe+">"},N&&(R.prototype[N]=R.prototype.inspect),R.prototype.compare=function(fe,we,De,$e,Je){if(Le(fe,Uint8Array)&&(fe=R.from(fe,fe.offset,fe.byteLength)),!R.isBuffer(fe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof fe);if(void 0===we&&(we=0),void 0===De&&(De=fe?fe.length:0),void 0===$e&&($e=0),void 0===Je&&(Je=this.length),we<0||De>fe.length||$e<0||Je>this.length)throw new RangeError("out of range index");if($e>=Je&&we>=De)return 0;if($e>=Je)return-1;if(we>=De)return 1;if(this===fe)return 0;for(var Ze=(Je>>>=0)-($e>>>=0),Pt=(De>>>=0)-(we>>>=0),nt=Math.min(Ze,Pt),Ge=this.slice($e,Je),Et=fe.slice(we,De),K=0;K<nt;++K)if(Ge[K]!==Et[K]){Ze=Ge[K],Pt=Et[K];break}return Ze<Pt?-1:Pt<Ze?1:0},R.prototype.includes=function(fe,we,De){return-1!==this.indexOf(fe,we,De)},R.prototype.indexOf=function(fe,we,De){return ve(this,fe,we,De,!0)},R.prototype.lastIndexOf=function(fe,we,De){return ve(this,fe,we,De,!1)},R.prototype.write=function(fe,we,De,$e){if(void 0===we)$e="utf8",De=this.length,we=0;else if(void 0===De&&"string"==typeof we)$e=we,De=this.length,we=0;else{if(!isFinite(we))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");we>>>=0,isFinite(De)?(De>>>=0,void 0===$e&&($e="utf8")):($e=De,De=void 0)}var Je=this.length-we;if((void 0===De||De>Je)&&(De=Je),fe.length>0&&(De<0||we<0)||we>this.length)throw new RangeError("Attempt to write outside buffer bounds");$e||($e="utf8");for(var Ze=!1;;)switch($e){case"hex":return Me(this,fe,we,De);case"utf8":case"utf-8":return Oe(this,fe,we,De);case"ascii":case"latin1":case"binary":return je(this,fe,we,De);case"base64":return B(this,fe,we,De);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,fe,we,De);default:if(Ze)throw new TypeError("Unknown encoding: "+$e);$e=(""+$e).toLowerCase(),Ze=!0}},R.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;function O(oe,fe,we){var De="";we=Math.min(oe.length,we);for(var $e=fe;$e<we;++$e)De+=String.fromCharCode(127&oe[$e]);return De}function $(oe,fe,we){var De="";we=Math.min(oe.length,we);for(var $e=fe;$e<we;++$e)De+=String.fromCharCode(oe[$e]);return De}function T(oe,fe,we){var De=oe.length;(!fe||fe<0)&&(fe=0),(!we||we<0||we>De)&&(we=De);for(var $e="",Je=fe;Je<we;++Je)$e+=be[oe[Je]];return $e}function c(oe,fe,we){for(var De=oe.slice(fe,we),$e="",Je=0;Je<De.length-1;Je+=2)$e+=String.fromCharCode(De[Je]+256*De[Je+1]);return $e}function E(oe,fe,we){if(oe%1!=0||oe<0)throw new RangeError("offset is not uint");if(oe+fe>we)throw new RangeError("Trying to access beyond buffer length")}function q(oe,fe,we,De,$e,Je){if(!R.isBuffer(oe))throw new TypeError('"buffer" argument must be a Buffer instance');if(fe>$e||fe<Je)throw new RangeError('"value" argument is out of bounds');if(we+De>oe.length)throw new RangeError("Index out of range")}function X(oe,fe,we,De,$e,Je){if(we+De>oe.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("Index out of range")}function ce(oe,fe,we,De,$e){return fe=+fe,we>>>=0,$e||X(oe,0,we,4),x.write(oe,fe,we,De,23,4),we+4}function me(oe,fe,we,De,$e){return fe=+fe,we>>>=0,$e||X(oe,0,we,8),x.write(oe,fe,we,De,52,8),we+8}R.prototype.slice=function(fe,we){var De=this.length;(fe=~~fe)<0?(fe+=De)<0&&(fe=0):fe>De&&(fe=De),(we=void 0===we?De:~~we)<0?(we+=De)<0&&(we=0):we>De&&(we=De),we<fe&&(we=fe);var $e=this.subarray(fe,we);return Object.setPrototypeOf($e,R.prototype),$e},R.prototype.readUintLE=R.prototype.readUIntLE=function(fe,we,De){fe>>>=0,we>>>=0,De||E(fe,we,this.length);for(var $e=this[fe],Je=1,Ze=0;++Ze<we&&(Je*=256);)$e+=this[fe+Ze]*Je;return $e},R.prototype.readUintBE=R.prototype.readUIntBE=function(fe,we,De){fe>>>=0,we>>>=0,De||E(fe,we,this.length);for(var $e=this[fe+--we],Je=1;we>0&&(Je*=256);)$e+=this[fe+--we]*Je;return $e},R.prototype.readUint8=R.prototype.readUInt8=function(fe,we){return fe>>>=0,we||E(fe,1,this.length),this[fe]},R.prototype.readUint16LE=R.prototype.readUInt16LE=function(fe,we){return fe>>>=0,we||E(fe,2,this.length),this[fe]|this[fe+1]<<8},R.prototype.readUint16BE=R.prototype.readUInt16BE=function(fe,we){return fe>>>=0,we||E(fe,2,this.length),this[fe]<<8|this[fe+1]},R.prototype.readUint32LE=R.prototype.readUInt32LE=function(fe,we){return fe>>>=0,we||E(fe,4,this.length),(this[fe]|this[fe+1]<<8|this[fe+2]<<16)+16777216*this[fe+3]},R.prototype.readUint32BE=R.prototype.readUInt32BE=function(fe,we){return fe>>>=0,we||E(fe,4,this.length),16777216*this[fe]+(this[fe+1]<<16|this[fe+2]<<8|this[fe+3])},R.prototype.readIntLE=function(fe,we,De){fe>>>=0,we>>>=0,De||E(fe,we,this.length);for(var $e=this[fe],Je=1,Ze=0;++Ze<we&&(Je*=256);)$e+=this[fe+Ze]*Je;return $e>=(Je*=128)&&($e-=Math.pow(2,8*we)),$e},R.prototype.readIntBE=function(fe,we,De){fe>>>=0,we>>>=0,De||E(fe,we,this.length);for(var $e=we,Je=1,Ze=this[fe+--$e];$e>0&&(Je*=256);)Ze+=this[fe+--$e]*Je;return Ze>=(Je*=128)&&(Ze-=Math.pow(2,8*we)),Ze},R.prototype.readInt8=function(fe,we){return fe>>>=0,we||E(fe,1,this.length),128&this[fe]?-1*(255-this[fe]+1):this[fe]},R.prototype.readInt16LE=function(fe,we){fe>>>=0,we||E(fe,2,this.length);var De=this[fe]|this[fe+1]<<8;return 32768&De?4294901760|De:De},R.prototype.readInt16BE=function(fe,we){fe>>>=0,we||E(fe,2,this.length);var De=this[fe+1]|this[fe]<<8;return 32768&De?4294901760|De:De},R.prototype.readInt32LE=function(fe,we){return fe>>>=0,we||E(fe,4,this.length),this[fe]|this[fe+1]<<8|this[fe+2]<<16|this[fe+3]<<24},R.prototype.readInt32BE=function(fe,we){return fe>>>=0,we||E(fe,4,this.length),this[fe]<<24|this[fe+1]<<16|this[fe+2]<<8|this[fe+3]},R.prototype.readFloatLE=function(fe,we){return fe>>>=0,we||E(fe,4,this.length),x.read(this,fe,!0,23,4)},R.prototype.readFloatBE=function(fe,we){return fe>>>=0,we||E(fe,4,this.length),x.read(this,fe,!1,23,4)},R.prototype.readDoubleLE=function(fe,we){return fe>>>=0,we||E(fe,8,this.length),x.read(this,fe,!0,52,8)},R.prototype.readDoubleBE=function(fe,we){return fe>>>=0,we||E(fe,8,this.length),x.read(this,fe,!1,52,8)},R.prototype.writeUintLE=R.prototype.writeUIntLE=function(fe,we,De,$e){fe=+fe,we>>>=0,De>>>=0,$e||q(this,fe,we,De,Math.pow(2,8*De)-1,0);var Ze=1,Pt=0;for(this[we]=255&fe;++Pt<De&&(Ze*=256);)this[we+Pt]=fe/Ze&255;return we+De},R.prototype.writeUintBE=R.prototype.writeUIntBE=function(fe,we,De,$e){fe=+fe,we>>>=0,De>>>=0,$e||q(this,fe,we,De,Math.pow(2,8*De)-1,0);var Ze=De-1,Pt=1;for(this[we+Ze]=255&fe;--Ze>=0&&(Pt*=256);)this[we+Ze]=fe/Pt&255;return we+De},R.prototype.writeUint8=R.prototype.writeUInt8=function(fe,we,De){return fe=+fe,we>>>=0,De||q(this,fe,we,1,255,0),this[we]=255&fe,we+1},R.prototype.writeUint16LE=R.prototype.writeUInt16LE=function(fe,we,De){return fe=+fe,we>>>=0,De||q(this,fe,we,2,65535,0),this[we]=255&fe,this[we+1]=fe>>>8,we+2},R.prototype.writeUint16BE=R.prototype.writeUInt16BE=function(fe,we,De){return fe=+fe,we>>>=0,De||q(this,fe,we,2,65535,0),this[we]=fe>>>8,this[we+1]=255&fe,we+2},R.prototype.writeUint32LE=R.prototype.writeUInt32LE=function(fe,we,De){return fe=+fe,we>>>=0,De||q(this,fe,we,4,4294967295,0),this[we+3]=fe>>>24,this[we+2]=fe>>>16,this[we+1]=fe>>>8,this[we]=255&fe,we+4},R.prototype.writeUint32BE=R.prototype.writeUInt32BE=function(fe,we,De){return fe=+fe,we>>>=0,De||q(this,fe,we,4,4294967295,0),this[we]=fe>>>24,this[we+1]=fe>>>16,this[we+2]=fe>>>8,this[we+3]=255&fe,we+4},R.prototype.writeIntLE=function(fe,we,De,$e){if(fe=+fe,we>>>=0,!$e){var Je=Math.pow(2,8*De-1);q(this,fe,we,De,Je-1,-Je)}var Ze=0,Pt=1,nt=0;for(this[we]=255&fe;++Ze<De&&(Pt*=256);)fe<0&&0===nt&&0!==this[we+Ze-1]&&(nt=1),this[we+Ze]=(fe/Pt|0)-nt&255;return we+De},R.prototype.writeIntBE=function(fe,we,De,$e){if(fe=+fe,we>>>=0,!$e){var Je=Math.pow(2,8*De-1);q(this,fe,we,De,Je-1,-Je)}var Ze=De-1,Pt=1,nt=0;for(this[we+Ze]=255&fe;--Ze>=0&&(Pt*=256);)fe<0&&0===nt&&0!==this[we+Ze+1]&&(nt=1),this[we+Ze]=(fe/Pt|0)-nt&255;return we+De},R.prototype.writeInt8=function(fe,we,De){return fe=+fe,we>>>=0,De||q(this,fe,we,1,127,-128),fe<0&&(fe=255+fe+1),this[we]=255&fe,we+1},R.prototype.writeInt16LE=function(fe,we,De){return fe=+fe,we>>>=0,De||q(this,fe,we,2,32767,-32768),this[we]=255&fe,this[we+1]=fe>>>8,we+2},R.prototype.writeInt16BE=function(fe,we,De){return fe=+fe,we>>>=0,De||q(this,fe,we,2,32767,-32768),this[we]=fe>>>8,this[we+1]=255&fe,we+2},R.prototype.writeInt32LE=function(fe,we,De){return fe=+fe,we>>>=0,De||q(this,fe,we,4,2147483647,-2147483648),this[we]=255&fe,this[we+1]=fe>>>8,this[we+2]=fe>>>16,this[we+3]=fe>>>24,we+4},R.prototype.writeInt32BE=function(fe,we,De){return fe=+fe,we>>>=0,De||q(this,fe,we,4,2147483647,-2147483648),fe<0&&(fe=4294967295+fe+1),this[we]=fe>>>24,this[we+1]=fe>>>16,this[we+2]=fe>>>8,this[we+3]=255&fe,we+4},R.prototype.writeFloatLE=function(fe,we,De){return ce(this,fe,we,!0,De)},R.prototype.writeFloatBE=function(fe,we,De){return ce(this,fe,we,!1,De)},R.prototype.writeDoubleLE=function(fe,we,De){return me(this,fe,we,!0,De)},R.prototype.writeDoubleBE=function(fe,we,De){return me(this,fe,we,!1,De)},R.prototype.copy=function(fe,we,De,$e){if(!R.isBuffer(fe))throw new TypeError("argument should be a Buffer");if(De||(De=0),!$e&&0!==$e&&($e=this.length),we>=fe.length&&(we=fe.length),we||(we=0),$e>0&&$e<De&&($e=De),$e===De||0===fe.length||0===this.length)return 0;if(we<0)throw new RangeError("targetStart out of bounds");if(De<0||De>=this.length)throw new RangeError("Index out of range");if($e<0)throw new RangeError("sourceEnd out of bounds");$e>this.length&&($e=this.length),fe.length-we<$e-De&&($e=fe.length-we+De);var Je=$e-De;return this===fe&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(we,De,$e):Uint8Array.prototype.set.call(fe,this.subarray(De,$e),we),Je},R.prototype.fill=function(fe,we,De,$e){if("string"==typeof fe){if("string"==typeof we?($e=we,we=0,De=this.length):"string"==typeof De&&($e=De,De=this.length),void 0!==$e&&"string"!=typeof $e)throw new TypeError("encoding must be a string");if("string"==typeof $e&&!R.isEncoding($e))throw new TypeError("Unknown encoding: "+$e);if(1===fe.length){var Je=fe.charCodeAt(0);("utf8"===$e&&Je<128||"latin1"===$e)&&(fe=Je)}}else"number"==typeof fe?fe&=255:"boolean"==typeof fe&&(fe=Number(fe));if(we<0||this.length<we||this.length<De)throw new RangeError("Out of range index");if(De<=we)return this;var Ze;if(we>>>=0,De=void 0===De?this.length:De>>>0,fe||(fe=0),"number"==typeof fe)for(Ze=we;Ze<De;++Ze)this[Ze]=fe;else{var Pt=R.isBuffer(fe)?fe:R.from(fe,$e),nt=Pt.length;if(0===nt)throw new TypeError('The value "'+fe+'" is invalid for argument "value"');for(Ze=0;Ze<De-we;++Ze)this[Ze+we]=Pt[Ze%nt]}return this};var Te=/[^+/0-9A-Za-z-_]/g;function Qe(oe,fe){fe=fe||1/0;for(var we,De=oe.length,$e=null,Je=[],Ze=0;Ze<De;++Ze){if((we=oe.charCodeAt(Ze))>55295&&we<57344){if(!$e){if(we>56319){(fe-=3)>-1&&Je.push(239,191,189);continue}if(Ze+1===De){(fe-=3)>-1&&Je.push(239,191,189);continue}$e=we;continue}if(we<56320){(fe-=3)>-1&&Je.push(239,191,189),$e=we;continue}we=65536+($e-55296<<10|we-56320)}else $e&&(fe-=3)>-1&&Je.push(239,191,189);if($e=null,we<128){if((fe-=1)<0)break;Je.push(we)}else if(we<2048){if((fe-=2)<0)break;Je.push(we>>6|192,63&we|128)}else if(we<65536){if((fe-=3)<0)break;Je.push(we>>12|224,we>>6&63|128,63&we|128)}else{if(!(we<1114112))throw new Error("Invalid code point");if((fe-=4)<0)break;Je.push(we>>18|240,we>>12&63|128,we>>6&63|128,63&we|128)}}return Je}function Xe(oe){return h.toByteArray(function Ke(oe){if((oe=(oe=oe.split("=")[0]).trim().replace(Te,"")).length<2)return"";for(;oe.length%4!=0;)oe+="=";return oe}(oe))}function Se(oe,fe,we,De){for(var $e=0;$e<De&&!($e+we>=fe.length||$e>=oe.length);++$e)fe[$e+we]=oe[$e];return $e}function Le(oe,fe){return oe instanceof fe||null!=oe&&null!=oe.constructor&&null!=oe.constructor.name&&oe.constructor.name===fe.name}function Ee(oe){return oe!=oe}var be=function(){for(var oe="0123456789abcdef",fe=new Array(256),we=0;we<16;++we)for(var De=16*we,$e=0;$e<16;++$e)fe[De+$e]=oe[we]+oe[$e];return fe}()},28846:Ye=>{"use strict";Ye.exports=function J(A){if("number"==typeof A&&isNaN(A))throw new Error("NaN is not allowed");if("number"==typeof A&&!isFinite(A))throw new Error("Infinity is not allowed");return null===A||"object"!=typeof A?JSON.stringify(A):A.toJSON instanceof Function?J(A.toJSON()):Array.isArray(A)?`[${A.reduce((N,Y,M)=>`${N}${0===M?"":","}${J(void 0===Y||"symbol"==typeof Y?null:Y)}`,"")}]`:`{${Object.keys(A).sort().reduce((x,N)=>void 0===A[N]||"symbol"==typeof A[N]?x:`${x}${0===x.length?"":","}${J(N)}:${J(A[N])}`,"")}}`}},42381:(Ye,J,A)=>{"use strict";var h=A(78341);J.fromCallback=function(x,N){if(void 0===x){var Y=new Promise(function(M,j){x=function(R,U){R?j(R):M(U)}});x[void 0!==N?N:"promise"]=Y}else if("function"!=typeof x)throw new TypeError("Callback must be a function");return x},J.fromPromise=function(x,N){if(void 0===N)return x;x.then(function(Y){h(()=>N(null,Y))}).catch(function(Y){h(()=>N(Y))})}},78341:Ye=>{Ye.exports="function"==typeof queueMicrotask?queueMicrotask:J=>Promise.resolve().then(J)},3247:(Ye,J,A)=>{var h=A(27054).Buffer,x=A(7045).Transform,N=A(78454).StringDecoder;function M(j){x.call(this),this.hashMode="string"==typeof j,this.hashMode?this[j]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}A(71993)(M,x),M.prototype.update=function(j,R,U){"string"==typeof j&&(j=h.from(j,R));var H=this._update(j);return this.hashMode?this:(U&&(H=this._toString(H,U)),H)},M.prototype.setAutoPadding=function(){},M.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},M.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},M.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},M.prototype._transform=function(j,R,U){var H;try{this.hashMode?this._update(j):this.push(this._update(j))}catch(V){H=V}finally{U(H)}},M.prototype._flush=function(j){var R;try{this.push(this.__final())}catch(U){R=U}j(R)},M.prototype._finalOrDigest=function(j){var R=this.__final()||h.alloc(0);return j&&(R=this._toString(R,j,!0)),R},M.prototype._toString=function(j,R,U){if(this._decoder||(this._decoder=new N(R),this._encoding=R),this._encoding!==R)throw new Error("can't switch encodings");var H=this._decoder.write(j);return U&&(H+=this._decoder.end()),H},Ye.exports=M},27637:(Ye,J,A)=>{function de(ae){return Object.prototype.toString.call(ae)}J.isArray=function h(ae){return Array.isArray?Array.isArray(ae):"[object Array]"===de(ae)},J.isBoolean=function x(ae){return"boolean"==typeof ae},J.isNull=function N(ae){return null===ae},J.isNullOrUndefined=function Y(ae){return null==ae},J.isNumber=function M(ae){return"number"==typeof ae},J.isString=function j(ae){return"string"==typeof ae},J.isSymbol=function R(ae){return"symbol"==typeof ae},J.isUndefined=function U(ae){return void 0===ae},J.isRegExp=function H(ae){return"[object RegExp]"===de(ae)},J.isObject=function V(ae){return"object"==typeof ae&&null!==ae},J.isDate=function P(ae){return"[object Date]"===de(ae)},J.isError=function ee(ae){return"[object Error]"===de(ae)||ae instanceof Error},J.isFunction=function W(ae){return"function"==typeof ae},J.isPrimitive=function Q(ae){return null===ae||"boolean"==typeof ae||"number"==typeof ae||"string"==typeof ae||"symbol"==typeof ae||typeof ae>"u"},J.isBuffer=A(83838).Buffer.isBuffer},87303:(Ye,J,A)=>{var h=A(90518),x=A(89606);Ye.exports=function(R){return new Y(R)};var N={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function Y(j){this.curveType=N[j],this.curveType||(this.curveType={name:j}),this.curve=new h.ec(this.curveType.name),this.keys=void 0}function M(j,R,U){Array.isArray(j)||(j=j.toArray());var H=new Buffer(j);if(U&&H.length<U){var V=new Buffer(U-H.length);V.fill(0),H=Buffer.concat([V,H])}return R?H.toString(R):H}N.p224=N.secp224r1,N.p256=N.secp256r1=N.prime256v1,N.p192=N.secp192r1=N.prime192v1,N.p384=N.secp384r1,N.p521=N.secp521r1,Y.prototype.generateKeys=function(j,R){return this.keys=this.curve.genKeyPair(),this.getPublicKey(j,R)},Y.prototype.computeSecret=function(j,R,U){return R=R||"utf8",Buffer.isBuffer(j)||(j=new Buffer(j,R)),M(this.curve.keyFromPublic(j).getPublic().mul(this.keys.getPrivate()).getX(),U,this.curveType.byteLength)},Y.prototype.getPublicKey=function(j,R){var U=this.keys.getPublic("compressed"===R,!0);return"hybrid"===R&&(U[0]=U[U.length-1]%2?7:6),M(U,j)},Y.prototype.getPrivateKey=function(j){return M(this.keys.getPrivate(),j)},Y.prototype.setPublicKey=function(j,R){return R=R||"utf8",Buffer.isBuffer(j)||(j=new Buffer(j,R)),this.keys._importPublic(j),this},Y.prototype.setPrivateKey=function(j,R){R=R||"utf8",Buffer.isBuffer(j)||(j=new Buffer(j,R));var U=new x(j);return U=U.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(U),this}},89606:function(Ye,J,A){!function(h,x){"use strict";function N(B,l){if(!B)throw new Error(l||"Assertion failed")}function Y(B,l){B.super_=l;var f=function(){};f.prototype=l.prototype,B.prototype=new f,B.prototype.constructor=B}function M(B,l,f){if(M.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,null!==B&&(("le"===l||"be"===l)&&(f=l,l=10),this._init(B||0,l||10,f||"be"))}var j;"object"==typeof h?h.exports=M:x.BN=M,M.BN=M,M.wordSize=26;try{j=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:A(77965).Buffer}catch{}function R(B,l){var f=B.charCodeAt(l);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function U(B,l,f){var w=R(B,f);return f-1>=l&&(w|=R(B,f-1)<<4),w}function H(B,l,f,w){for(var _=0,D=Math.min(B.length,f),O=l;O<D;O++){var $=B.charCodeAt(O)-48;_*=w,_+=$>=49?$-49+10:$>=17?$-17+10:$}return _}M.isBN=function(l){return l instanceof M||null!==l&&"object"==typeof l&&l.constructor.wordSize===M.wordSize&&Array.isArray(l.words)},M.max=function(l,f){return l.cmp(f)>0?l:f},M.min=function(l,f){return l.cmp(f)<0?l:f},M.prototype._init=function(l,f,w){if("number"==typeof l)return this._initNumber(l,f,w);if("object"==typeof l)return this._initArray(l,f,w);"hex"===f&&(f=16),N(f===(0|f)&&f>=2&&f<=36);var _=0;"-"===(l=l.toString().replace(/\s+/g,""))[0]&&(_++,this.negative=1),_<l.length&&(16===f?this._parseHex(l,_,w):(this._parseBase(l,f,_),"le"===w&&this._initArray(this.toArray(),f,w)))},M.prototype._initNumber=function(l,f,w){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[67108863&l],this.length=1):l<4503599627370496?(this.words=[67108863&l,l/67108864&67108863],this.length=2):(N(l<9007199254740992),this.words=[67108863&l,l/67108864&67108863,1],this.length=3),"le"===w&&this._initArray(this.toArray(),f,w)},M.prototype._initArray=function(l,f,w){if(N("number"==typeof l.length),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var D,O,$=0;if("be"===w)for(_=l.length-1,D=0;_>=0;_-=3)this.words[D]|=(O=l[_]|l[_-1]<<8|l[_-2]<<16)<<$&67108863,this.words[D+1]=O>>>26-$&67108863,($+=24)>=26&&($-=26,D++);else if("le"===w)for(_=0,D=0;_<l.length;_+=3)this.words[D]|=(O=l[_]|l[_+1]<<8|l[_+2]<<16)<<$&67108863,this.words[D+1]=O>>>26-$&67108863,($+=24)>=26&&($-=26,D++);return this.strip()},M.prototype._parseHex=function(l,f,w){this.length=Math.ceil((l.length-f)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var $,D=0,O=0;if("be"===w)for(_=l.length-1;_>=f;_-=2)$=U(l,f,_)<<D,this.words[O]|=67108863&$,D>=18?(D-=18,this.words[O+=1]|=$>>>26):D+=8;else for(_=(l.length-f)%2==0?f+1:f;_<l.length;_+=2)$=U(l,f,_)<<D,this.words[O]|=67108863&$,D>=18?(D-=18,this.words[O+=1]|=$>>>26):D+=8;this.strip()},M.prototype._parseBase=function(l,f,w){this.words=[0],this.length=1;for(var _=0,D=1;D<=67108863;D*=f)_++;_--,D=D/f|0;for(var O=l.length-w,$=O%_,T=Math.min(O,O-$)+w,c=0,E=w;E<T;E+=_)c=H(l,E,E+_,f),this.imuln(D),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==$){var q=1;for(c=H(l,E,l.length,f),E=0;E<$;E++)q*=f;this.imuln(q),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},M.prototype.copy=function(l){l.words=new Array(this.length);for(var f=0;f<this.length;f++)l.words[f]=this.words[f];l.length=this.length,l.negative=this.negative,l.red=this.red},M.prototype.clone=function(){var l=new M(null);return this.copy(l),l},M.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},M.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},M.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},M.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var V=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],P=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ee=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Q(B,l,f){f.negative=l.negative^B.negative;var w=B.length+l.length|0;f.length=w,w=w-1|0;var _=0|B.words[0],D=0|l.words[0],O=_*D,T=O/67108864|0;f.words[0]=67108863&O;for(var c=1;c<w;c++){for(var E=T>>>26,q=67108863&T,X=Math.min(c,l.length-1),ce=Math.max(0,c-B.length+1);ce<=X;ce++)E+=(O=(_=0|B.words[c-ce|0])*(D=0|l.words[ce])+q)/67108864|0,q=67108863&O;f.words[c]=0|q,T=0|E}return 0!==T?f.words[c]=0|T:f.length--,f.strip()}M.prototype.toString=function(l,f){var w;if(f=0|f||1,16===(l=l||10)||"hex"===l){w="";for(var _=0,D=0,O=0;O<this.length;O++){var $=this.words[O],T=(16777215&($<<_|D)).toString(16);w=0!=(D=$>>>24-_&16777215)||O!==this.length-1?V[6-T.length]+T+w:T+w,(_+=2)>=26&&(_-=26,O--)}for(0!==D&&(w=D.toString(16)+w);w.length%f!=0;)w="0"+w;return 0!==this.negative&&(w="-"+w),w}if(l===(0|l)&&l>=2&&l<=36){var c=P[l],E=ee[l];w="";var q=this.clone();for(q.negative=0;!q.isZero();){var X=q.modn(E).toString(l);w=(q=q.idivn(E)).isZero()?X+w:V[c-X.length]+X+w}for(this.isZero()&&(w="0"+w);w.length%f!=0;)w="0"+w;return 0!==this.negative&&(w="-"+w),w}N(!1,"Base should be between 2 and 36")},M.prototype.toNumber=function(){var l=this.words[0];return 2===this.length?l+=67108864*this.words[1]:3===this.length&&1===this.words[2]?l+=4503599627370496+67108864*this.words[1]:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-l:l},M.prototype.toJSON=function(){return this.toString(16)},M.prototype.toBuffer=function(l,f){return N(typeof j<"u"),this.toArrayLike(j,l,f)},M.prototype.toArray=function(l,f){return this.toArrayLike(Array,l,f)},M.prototype.toArrayLike=function(l,f,w){var _=this.byteLength(),D=w||Math.max(1,_);N(_<=D,"byte array longer than desired length"),N(D>0,"Requested array length <= 0"),this.strip();var T,c,O="le"===f,$=new l(D),E=this.clone();if(O){for(c=0;!E.isZero();c++)T=E.andln(255),E.iushrn(8),$[c]=T;for(;c<D;c++)$[c]=0}else{for(c=0;c<D-_;c++)$[c]=0;for(c=0;!E.isZero();c++)T=E.andln(255),E.iushrn(8),$[D-c-1]=T}return $},M.prototype._countBits=Math.clz32?function(l){return 32-Math.clz32(l)}:function(l){var f=l,w=0;return f>=4096&&(w+=13,f>>>=13),f>=64&&(w+=7,f>>>=7),f>=8&&(w+=4,f>>>=4),f>=2&&(w+=2,f>>>=2),w+f},M.prototype._zeroBits=function(l){if(0===l)return 26;var f=l,w=0;return 8191&f||(w+=13,f>>>=13),127&f||(w+=7,f>>>=7),15&f||(w+=4,f>>>=4),3&f||(w+=2,f>>>=2),1&f||w++,w},M.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},M.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,f=0;f<this.length;f++){var w=this._zeroBits(this.words[f]);if(l+=w,26!==w)break}return l},M.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},M.prototype.toTwos=function(l){return 0!==this.negative?this.abs().inotn(l).iaddn(1):this.clone()},M.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},M.prototype.isNeg=function(){return 0!==this.negative},M.prototype.neg=function(){return this.clone().ineg()},M.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},M.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var f=0;f<l.length;f++)this.words[f]=this.words[f]|l.words[f];return this.strip()},M.prototype.ior=function(l){return N(!(this.negative|l.negative)),this.iuor(l)},M.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},M.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},M.prototype.iuand=function(l){var f;f=this.length>l.length?l:this;for(var w=0;w<f.length;w++)this.words[w]=this.words[w]&l.words[w];return this.length=f.length,this.strip()},M.prototype.iand=function(l){return N(!(this.negative|l.negative)),this.iuand(l)},M.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},M.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},M.prototype.iuxor=function(l){var f,w;this.length>l.length?(f=this,w=l):(f=l,w=this);for(var _=0;_<w.length;_++)this.words[_]=f.words[_]^w.words[_];if(this!==f)for(;_<f.length;_++)this.words[_]=f.words[_];return this.length=f.length,this.strip()},M.prototype.ixor=function(l){return N(!(this.negative|l.negative)),this.iuxor(l)},M.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},M.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},M.prototype.inotn=function(l){N("number"==typeof l&&l>=0);var f=0|Math.ceil(l/26),w=l%26;this._expand(f),w>0&&f--;for(var _=0;_<f;_++)this.words[_]=67108863&~this.words[_];return w>0&&(this.words[_]=~this.words[_]&67108863>>26-w),this.strip()},M.prototype.notn=function(l){return this.clone().inotn(l)},M.prototype.setn=function(l,f){N("number"==typeof l&&l>=0);var w=l/26|0,_=l%26;return this._expand(w+1),this.words[w]=f?this.words[w]|1<<_:this.words[w]&~(1<<_),this.strip()},M.prototype.iadd=function(l){var f,w,_;if(0!==this.negative&&0===l.negative)return this.negative=0,f=this.isub(l),this.negative^=1,this._normSign();if(0===this.negative&&0!==l.negative)return l.negative=0,f=this.isub(l),l.negative=1,f._normSign();this.length>l.length?(w=this,_=l):(w=l,_=this);for(var D=0,O=0;O<_.length;O++)this.words[O]=67108863&(f=(0|w.words[O])+(0|_.words[O])+D),D=f>>>26;for(;0!==D&&O<w.length;O++)this.words[O]=67108863&(f=(0|w.words[O])+D),D=f>>>26;if(this.length=w.length,0!==D)this.words[this.length]=D,this.length++;else if(w!==this)for(;O<w.length;O++)this.words[O]=w.words[O];return this},M.prototype.add=function(l){var f;return 0!==l.negative&&0===this.negative?(l.negative=0,f=this.sub(l),l.negative^=1,f):0===l.negative&&0!==this.negative?(this.negative=0,f=l.sub(this),this.negative=1,f):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},M.prototype.isub=function(l){if(0!==l.negative){l.negative=0;var f=this.iadd(l);return l.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var _,D,w=this.cmp(l);if(0===w)return this.negative=0,this.length=1,this.words[0]=0,this;w>0?(_=this,D=l):(_=l,D=this);for(var O=0,$=0;$<D.length;$++)O=(f=(0|_.words[$])-(0|D.words[$])+O)>>26,this.words[$]=67108863&f;for(;0!==O&&$<_.length;$++)O=(f=(0|_.words[$])+O)>>26,this.words[$]=67108863&f;if(0===O&&$<_.length&&_!==this)for(;$<_.length;$++)this.words[$]=_.words[$];return this.length=Math.max(this.length,$),_!==this&&(this.negative=1),this.strip()},M.prototype.sub=function(l){return this.clone().isub(l)};var de=function(l,f,w){var T,c,E,_=l.words,D=f.words,O=w.words,$=0,q=0|_[0],X=8191&q,ce=q>>>13,me=0|_[1],Te=8191&me,Ke=me>>>13,Qe=0|_[2],ke=8191&Qe,Ie=Qe>>>13,Xe=0|_[3],Se=8191&Xe,Le=Xe>>>13,Ee=0|_[4],be=8191&Ee,oe=Ee>>>13,fe=0|_[5],we=8191&fe,De=fe>>>13,$e=0|_[6],Je=8191&$e,Ze=$e>>>13,Pt=0|_[7],nt=8191&Pt,Ge=Pt>>>13,Et=0|_[8],K=8191&Et,C=Et>>>13,b=0|_[9],z=8191&b,le=b>>>13,Ae=0|D[0],Be=8191&Ae,ft=Ae>>>13,Yt=0|D[1],Rt=8191&Yt,Vt=Yt>>>13,dn=0|D[2],Mn=8191&dn,En=dn>>>13,Ar=0|D[3],jn=8191&Ar,mn=Ar>>>13,pn=0|D[4],kt=8191&pn,St=pn>>>13,an=0|D[5],hn=8191&an,An=an>>>13,Rr=0|D[6],Tt=8191&Rr,Nt=Rr>>>13,Lt=0|D[7],st=8191&Lt,mt=Lt>>>13,sn=0|D[8],Zt=8191&sn,xn=sn>>>13,cr=0|D[9],kn=8191&cr,zn=cr>>>13;w.negative=l.negative^f.negative,w.length=19;var qr=($+(T=Math.imul(X,Be))|0)+((8191&(c=(c=Math.imul(X,ft))+Math.imul(ce,Be)|0))<<13)|0;$=((E=Math.imul(ce,ft))+(c>>>13)|0)+(qr>>>26)|0,qr&=67108863,T=Math.imul(Te,Be),c=(c=Math.imul(Te,ft))+Math.imul(Ke,Be)|0,E=Math.imul(Ke,ft);var pr=($+(T=T+Math.imul(X,Rt)|0)|0)+((8191&(c=(c=c+Math.imul(X,Vt)|0)+Math.imul(ce,Rt)|0))<<13)|0;$=((E=E+Math.imul(ce,Vt)|0)+(c>>>13)|0)+(pr>>>26)|0,pr&=67108863,T=Math.imul(ke,Be),c=(c=Math.imul(ke,ft))+Math.imul(Ie,Be)|0,E=Math.imul(Ie,ft),T=T+Math.imul(Te,Rt)|0,c=(c=c+Math.imul(Te,Vt)|0)+Math.imul(Ke,Rt)|0,E=E+Math.imul(Ke,Vt)|0;var qn=($+(T=T+Math.imul(X,Mn)|0)|0)+((8191&(c=(c=c+Math.imul(X,En)|0)+Math.imul(ce,Mn)|0))<<13)|0;$=((E=E+Math.imul(ce,En)|0)+(c>>>13)|0)+(qn>>>26)|0,qn&=67108863,T=Math.imul(Se,Be),c=(c=Math.imul(Se,ft))+Math.imul(Le,Be)|0,E=Math.imul(Le,ft),T=T+Math.imul(ke,Rt)|0,c=(c=c+Math.imul(ke,Vt)|0)+Math.imul(Ie,Rt)|0,E=E+Math.imul(Ie,Vt)|0,T=T+Math.imul(Te,Mn)|0,c=(c=c+Math.imul(Te,En)|0)+Math.imul(Ke,Mn)|0,E=E+Math.imul(Ke,En)|0;var Jt=($+(T=T+Math.imul(X,jn)|0)|0)+((8191&(c=(c=c+Math.imul(X,mn)|0)+Math.imul(ce,jn)|0))<<13)|0;$=((E=E+Math.imul(ce,mn)|0)+(c>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,T=Math.imul(be,Be),c=(c=Math.imul(be,ft))+Math.imul(oe,Be)|0,E=Math.imul(oe,ft),T=T+Math.imul(Se,Rt)|0,c=(c=c+Math.imul(Se,Vt)|0)+Math.imul(Le,Rt)|0,E=E+Math.imul(Le,Vt)|0,T=T+Math.imul(ke,Mn)|0,c=(c=c+Math.imul(ke,En)|0)+Math.imul(Ie,Mn)|0,E=E+Math.imul(Ie,En)|0,T=T+Math.imul(Te,jn)|0,c=(c=c+Math.imul(Te,mn)|0)+Math.imul(Ke,jn)|0,E=E+Math.imul(Ke,mn)|0;var dt=($+(T=T+Math.imul(X,kt)|0)|0)+((8191&(c=(c=c+Math.imul(X,St)|0)+Math.imul(ce,kt)|0))<<13)|0;$=((E=E+Math.imul(ce,St)|0)+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,T=Math.imul(we,Be),c=(c=Math.imul(we,ft))+Math.imul(De,Be)|0,E=Math.imul(De,ft),T=T+Math.imul(be,Rt)|0,c=(c=c+Math.imul(be,Vt)|0)+Math.imul(oe,Rt)|0,E=E+Math.imul(oe,Vt)|0,T=T+Math.imul(Se,Mn)|0,c=(c=c+Math.imul(Se,En)|0)+Math.imul(Le,Mn)|0,E=E+Math.imul(Le,En)|0,T=T+Math.imul(ke,jn)|0,c=(c=c+Math.imul(ke,mn)|0)+Math.imul(Ie,jn)|0,E=E+Math.imul(Ie,mn)|0,T=T+Math.imul(Te,kt)|0,c=(c=c+Math.imul(Te,St)|0)+Math.imul(Ke,kt)|0,E=E+Math.imul(Ke,St)|0;var Ne=($+(T=T+Math.imul(X,hn)|0)|0)+((8191&(c=(c=c+Math.imul(X,An)|0)+Math.imul(ce,hn)|0))<<13)|0;$=((E=E+Math.imul(ce,An)|0)+(c>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,T=Math.imul(Je,Be),c=(c=Math.imul(Je,ft))+Math.imul(Ze,Be)|0,E=Math.imul(Ze,ft),T=T+Math.imul(we,Rt)|0,c=(c=c+Math.imul(we,Vt)|0)+Math.imul(De,Rt)|0,E=E+Math.imul(De,Vt)|0,T=T+Math.imul(be,Mn)|0,c=(c=c+Math.imul(be,En)|0)+Math.imul(oe,Mn)|0,E=E+Math.imul(oe,En)|0,T=T+Math.imul(Se,jn)|0,c=(c=c+Math.imul(Se,mn)|0)+Math.imul(Le,jn)|0,E=E+Math.imul(Le,mn)|0,T=T+Math.imul(ke,kt)|0,c=(c=c+Math.imul(ke,St)|0)+Math.imul(Ie,kt)|0,E=E+Math.imul(Ie,St)|0,T=T+Math.imul(Te,hn)|0,c=(c=c+Math.imul(Te,An)|0)+Math.imul(Ke,hn)|0,E=E+Math.imul(Ke,An)|0;var We=($+(T=T+Math.imul(X,Tt)|0)|0)+((8191&(c=(c=c+Math.imul(X,Nt)|0)+Math.imul(ce,Tt)|0))<<13)|0;$=((E=E+Math.imul(ce,Nt)|0)+(c>>>13)|0)+(We>>>26)|0,We&=67108863,T=Math.imul(nt,Be),c=(c=Math.imul(nt,ft))+Math.imul(Ge,Be)|0,E=Math.imul(Ge,ft),T=T+Math.imul(Je,Rt)|0,c=(c=c+Math.imul(Je,Vt)|0)+Math.imul(Ze,Rt)|0,E=E+Math.imul(Ze,Vt)|0,T=T+Math.imul(we,Mn)|0,c=(c=c+Math.imul(we,En)|0)+Math.imul(De,Mn)|0,E=E+Math.imul(De,En)|0,T=T+Math.imul(be,jn)|0,c=(c=c+Math.imul(be,mn)|0)+Math.imul(oe,jn)|0,E=E+Math.imul(oe,mn)|0,T=T+Math.imul(Se,kt)|0,c=(c=c+Math.imul(Se,St)|0)+Math.imul(Le,kt)|0,E=E+Math.imul(Le,St)|0,T=T+Math.imul(ke,hn)|0,c=(c=c+Math.imul(ke,An)|0)+Math.imul(Ie,hn)|0,E=E+Math.imul(Ie,An)|0,T=T+Math.imul(Te,Tt)|0,c=(c=c+Math.imul(Te,Nt)|0)+Math.imul(Ke,Tt)|0,E=E+Math.imul(Ke,Nt)|0;var Bt=($+(T=T+Math.imul(X,st)|0)|0)+((8191&(c=(c=c+Math.imul(X,mt)|0)+Math.imul(ce,st)|0))<<13)|0;$=((E=E+Math.imul(ce,mt)|0)+(c>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,T=Math.imul(K,Be),c=(c=Math.imul(K,ft))+Math.imul(C,Be)|0,E=Math.imul(C,ft),T=T+Math.imul(nt,Rt)|0,c=(c=c+Math.imul(nt,Vt)|0)+Math.imul(Ge,Rt)|0,E=E+Math.imul(Ge,Vt)|0,T=T+Math.imul(Je,Mn)|0,c=(c=c+Math.imul(Je,En)|0)+Math.imul(Ze,Mn)|0,E=E+Math.imul(Ze,En)|0,T=T+Math.imul(we,jn)|0,c=(c=c+Math.imul(we,mn)|0)+Math.imul(De,jn)|0,E=E+Math.imul(De,mn)|0,T=T+Math.imul(be,kt)|0,c=(c=c+Math.imul(be,St)|0)+Math.imul(oe,kt)|0,E=E+Math.imul(oe,St)|0,T=T+Math.imul(Se,hn)|0,c=(c=c+Math.imul(Se,An)|0)+Math.imul(Le,hn)|0,E=E+Math.imul(Le,An)|0,T=T+Math.imul(ke,Tt)|0,c=(c=c+Math.imul(ke,Nt)|0)+Math.imul(Ie,Tt)|0,E=E+Math.imul(Ie,Nt)|0,T=T+Math.imul(Te,st)|0,c=(c=c+Math.imul(Te,mt)|0)+Math.imul(Ke,st)|0,E=E+Math.imul(Ke,mt)|0;var gn=($+(T=T+Math.imul(X,Zt)|0)|0)+((8191&(c=(c=c+Math.imul(X,xn)|0)+Math.imul(ce,Zt)|0))<<13)|0;$=((E=E+Math.imul(ce,xn)|0)+(c>>>13)|0)+(gn>>>26)|0,gn&=67108863,T=Math.imul(z,Be),c=(c=Math.imul(z,ft))+Math.imul(le,Be)|0,E=Math.imul(le,ft),T=T+Math.imul(K,Rt)|0,c=(c=c+Math.imul(K,Vt)|0)+Math.imul(C,Rt)|0,E=E+Math.imul(C,Vt)|0,T=T+Math.imul(nt,Mn)|0,c=(c=c+Math.imul(nt,En)|0)+Math.imul(Ge,Mn)|0,E=E+Math.imul(Ge,En)|0,T=T+Math.imul(Je,jn)|0,c=(c=c+Math.imul(Je,mn)|0)+Math.imul(Ze,jn)|0,E=E+Math.imul(Ze,mn)|0,T=T+Math.imul(we,kt)|0,c=(c=c+Math.imul(we,St)|0)+Math.imul(De,kt)|0,E=E+Math.imul(De,St)|0,T=T+Math.imul(be,hn)|0,c=(c=c+Math.imul(be,An)|0)+Math.imul(oe,hn)|0,E=E+Math.imul(oe,An)|0,T=T+Math.imul(Se,Tt)|0,c=(c=c+Math.imul(Se,Nt)|0)+Math.imul(Le,Tt)|0,E=E+Math.imul(Le,Nt)|0,T=T+Math.imul(ke,st)|0,c=(c=c+Math.imul(ke,mt)|0)+Math.imul(Ie,st)|0,E=E+Math.imul(Ie,mt)|0,T=T+Math.imul(Te,Zt)|0,c=(c=c+Math.imul(Te,xn)|0)+Math.imul(Ke,Zt)|0,E=E+Math.imul(Ke,xn)|0;var Kn=($+(T=T+Math.imul(X,kn)|0)|0)+((8191&(c=(c=c+Math.imul(X,zn)|0)+Math.imul(ce,kn)|0))<<13)|0;$=((E=E+Math.imul(ce,zn)|0)+(c>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,T=Math.imul(z,Rt),c=(c=Math.imul(z,Vt))+Math.imul(le,Rt)|0,E=Math.imul(le,Vt),T=T+Math.imul(K,Mn)|0,c=(c=c+Math.imul(K,En)|0)+Math.imul(C,Mn)|0,E=E+Math.imul(C,En)|0,T=T+Math.imul(nt,jn)|0,c=(c=c+Math.imul(nt,mn)|0)+Math.imul(Ge,jn)|0,E=E+Math.imul(Ge,mn)|0,T=T+Math.imul(Je,kt)|0,c=(c=c+Math.imul(Je,St)|0)+Math.imul(Ze,kt)|0,E=E+Math.imul(Ze,St)|0,T=T+Math.imul(we,hn)|0,c=(c=c+Math.imul(we,An)|0)+Math.imul(De,hn)|0,E=E+Math.imul(De,An)|0,T=T+Math.imul(be,Tt)|0,c=(c=c+Math.imul(be,Nt)|0)+Math.imul(oe,Tt)|0,E=E+Math.imul(oe,Nt)|0,T=T+Math.imul(Se,st)|0,c=(c=c+Math.imul(Se,mt)|0)+Math.imul(Le,st)|0,E=E+Math.imul(Le,mt)|0,T=T+Math.imul(ke,Zt)|0,c=(c=c+Math.imul(ke,xn)|0)+Math.imul(Ie,Zt)|0,E=E+Math.imul(Ie,xn)|0;var ir=($+(T=T+Math.imul(Te,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Te,zn)|0)+Math.imul(Ke,kn)|0))<<13)|0;$=((E=E+Math.imul(Ke,zn)|0)+(c>>>13)|0)+(ir>>>26)|0,ir&=67108863,T=Math.imul(z,Mn),c=(c=Math.imul(z,En))+Math.imul(le,Mn)|0,E=Math.imul(le,En),T=T+Math.imul(K,jn)|0,c=(c=c+Math.imul(K,mn)|0)+Math.imul(C,jn)|0,E=E+Math.imul(C,mn)|0,T=T+Math.imul(nt,kt)|0,c=(c=c+Math.imul(nt,St)|0)+Math.imul(Ge,kt)|0,E=E+Math.imul(Ge,St)|0,T=T+Math.imul(Je,hn)|0,c=(c=c+Math.imul(Je,An)|0)+Math.imul(Ze,hn)|0,E=E+Math.imul(Ze,An)|0,T=T+Math.imul(we,Tt)|0,c=(c=c+Math.imul(we,Nt)|0)+Math.imul(De,Tt)|0,E=E+Math.imul(De,Nt)|0,T=T+Math.imul(be,st)|0,c=(c=c+Math.imul(be,mt)|0)+Math.imul(oe,st)|0,E=E+Math.imul(oe,mt)|0,T=T+Math.imul(Se,Zt)|0,c=(c=c+Math.imul(Se,xn)|0)+Math.imul(Le,Zt)|0,E=E+Math.imul(Le,xn)|0;var hr=($+(T=T+Math.imul(ke,kn)|0)|0)+((8191&(c=(c=c+Math.imul(ke,zn)|0)+Math.imul(Ie,kn)|0))<<13)|0;$=((E=E+Math.imul(Ie,zn)|0)+(c>>>13)|0)+(hr>>>26)|0,hr&=67108863,T=Math.imul(z,jn),c=(c=Math.imul(z,mn))+Math.imul(le,jn)|0,E=Math.imul(le,mn),T=T+Math.imul(K,kt)|0,c=(c=c+Math.imul(K,St)|0)+Math.imul(C,kt)|0,E=E+Math.imul(C,St)|0,T=T+Math.imul(nt,hn)|0,c=(c=c+Math.imul(nt,An)|0)+Math.imul(Ge,hn)|0,E=E+Math.imul(Ge,An)|0,T=T+Math.imul(Je,Tt)|0,c=(c=c+Math.imul(Je,Nt)|0)+Math.imul(Ze,Tt)|0,E=E+Math.imul(Ze,Nt)|0,T=T+Math.imul(we,st)|0,c=(c=c+Math.imul(we,mt)|0)+Math.imul(De,st)|0,E=E+Math.imul(De,mt)|0,T=T+Math.imul(be,Zt)|0,c=(c=c+Math.imul(be,xn)|0)+Math.imul(oe,Zt)|0,E=E+Math.imul(oe,xn)|0;var Wr=($+(T=T+Math.imul(Se,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Se,zn)|0)+Math.imul(Le,kn)|0))<<13)|0;$=((E=E+Math.imul(Le,zn)|0)+(c>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,T=Math.imul(z,kt),c=(c=Math.imul(z,St))+Math.imul(le,kt)|0,E=Math.imul(le,St),T=T+Math.imul(K,hn)|0,c=(c=c+Math.imul(K,An)|0)+Math.imul(C,hn)|0,E=E+Math.imul(C,An)|0,T=T+Math.imul(nt,Tt)|0,c=(c=c+Math.imul(nt,Nt)|0)+Math.imul(Ge,Tt)|0,E=E+Math.imul(Ge,Nt)|0,T=T+Math.imul(Je,st)|0,c=(c=c+Math.imul(Je,mt)|0)+Math.imul(Ze,st)|0,E=E+Math.imul(Ze,mt)|0,T=T+Math.imul(we,Zt)|0,c=(c=c+Math.imul(we,xn)|0)+Math.imul(De,Zt)|0,E=E+Math.imul(De,xn)|0;var Vr=($+(T=T+Math.imul(be,kn)|0)|0)+((8191&(c=(c=c+Math.imul(be,zn)|0)+Math.imul(oe,kn)|0))<<13)|0;$=((E=E+Math.imul(oe,zn)|0)+(c>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,T=Math.imul(z,hn),c=(c=Math.imul(z,An))+Math.imul(le,hn)|0,E=Math.imul(le,An),T=T+Math.imul(K,Tt)|0,c=(c=c+Math.imul(K,Nt)|0)+Math.imul(C,Tt)|0,E=E+Math.imul(C,Nt)|0,T=T+Math.imul(nt,st)|0,c=(c=c+Math.imul(nt,mt)|0)+Math.imul(Ge,st)|0,E=E+Math.imul(Ge,mt)|0,T=T+Math.imul(Je,Zt)|0,c=(c=c+Math.imul(Je,xn)|0)+Math.imul(Ze,Zt)|0,E=E+Math.imul(Ze,xn)|0;var ti=($+(T=T+Math.imul(we,kn)|0)|0)+((8191&(c=(c=c+Math.imul(we,zn)|0)+Math.imul(De,kn)|0))<<13)|0;$=((E=E+Math.imul(De,zn)|0)+(c>>>13)|0)+(ti>>>26)|0,ti&=67108863,T=Math.imul(z,Tt),c=(c=Math.imul(z,Nt))+Math.imul(le,Tt)|0,E=Math.imul(le,Nt),T=T+Math.imul(K,st)|0,c=(c=c+Math.imul(K,mt)|0)+Math.imul(C,st)|0,E=E+Math.imul(C,mt)|0,T=T+Math.imul(nt,Zt)|0,c=(c=c+Math.imul(nt,xn)|0)+Math.imul(Ge,Zt)|0,E=E+Math.imul(Ge,xn)|0;var ni=($+(T=T+Math.imul(Je,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Je,zn)|0)+Math.imul(Ze,kn)|0))<<13)|0;$=((E=E+Math.imul(Ze,zn)|0)+(c>>>13)|0)+(ni>>>26)|0,ni&=67108863,T=Math.imul(z,st),c=(c=Math.imul(z,mt))+Math.imul(le,st)|0,E=Math.imul(le,mt),T=T+Math.imul(K,Zt)|0,c=(c=c+Math.imul(K,xn)|0)+Math.imul(C,Zt)|0,E=E+Math.imul(C,xn)|0;var Ei=($+(T=T+Math.imul(nt,kn)|0)|0)+((8191&(c=(c=c+Math.imul(nt,zn)|0)+Math.imul(Ge,kn)|0))<<13)|0;$=((E=E+Math.imul(Ge,zn)|0)+(c>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,T=Math.imul(z,Zt),c=(c=Math.imul(z,xn))+Math.imul(le,Zt)|0,E=Math.imul(le,xn);var yn=($+(T=T+Math.imul(K,kn)|0)|0)+((8191&(c=(c=c+Math.imul(K,zn)|0)+Math.imul(C,kn)|0))<<13)|0;$=((E=E+Math.imul(C,zn)|0)+(c>>>13)|0)+(yn>>>26)|0,yn&=67108863;var Pn=($+(T=Math.imul(z,kn))|0)+((8191&(c=(c=Math.imul(z,zn))+Math.imul(le,kn)|0))<<13)|0;return $=((E=Math.imul(le,zn))+(c>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,O[0]=qr,O[1]=pr,O[2]=qn,O[3]=Jt,O[4]=dt,O[5]=Ne,O[6]=We,O[7]=Bt,O[8]=gn,O[9]=Kn,O[10]=ir,O[11]=hr,O[12]=Wr,O[13]=Vr,O[14]=ti,O[15]=ni,O[16]=Ei,O[17]=yn,O[18]=Pn,0!==$&&(O[19]=$,w.length++),w};function re(B,l,f){return(new te).mulp(B,l,f)}function te(B,l){this.x=B,this.y=l}Math.imul||(de=Q),M.prototype.mulTo=function(l,f){var w,_=this.length+l.length;return w=10===this.length&&10===l.length?de(this,l,f):_<63?Q(this,l,f):_<1024?function ae(B,l,f){f.negative=l.negative^B.negative,f.length=B.length+l.length;for(var w=0,_=0,D=0;D<f.length-1;D++){var O=_;_=0;for(var $=67108863&w,T=Math.min(D,l.length-1),c=Math.max(0,D-B.length+1);c<=T;c++){var ce=(0|B.words[D-c])*(0|l.words[c]),me=67108863&ce;$=67108863&(me=me+$|0),_+=(O=(O=O+(ce/67108864|0)|0)+(me>>>26)|0)>>>26,O&=67108863}f.words[D]=$,w=O,O=_}return 0!==w?f.words[D]=w:f.length--,f.strip()}(this,l,f):re(this,l,f),w},te.prototype.makeRBT=function(l){for(var f=new Array(l),w=M.prototype._countBits(l)-1,_=0;_<l;_++)f[_]=this.revBin(_,w,l);return f},te.prototype.revBin=function(l,f,w){if(0===l||l===w-1)return l;for(var _=0,D=0;D<f;D++)_|=(1&l)<<f-D-1,l>>=1;return _},te.prototype.permute=function(l,f,w,_,D,O){for(var $=0;$<O;$++)_[$]=f[l[$]],D[$]=w[l[$]]},te.prototype.transform=function(l,f,w,_,D,O){this.permute(O,l,f,w,_,D);for(var $=1;$<D;$<<=1)for(var T=$<<1,c=Math.cos(2*Math.PI/T),E=Math.sin(2*Math.PI/T),q=0;q<D;q+=T)for(var X=c,ce=E,me=0;me<$;me++){var Te=w[q+me],Ke=_[q+me],Qe=w[q+me+$],ke=_[q+me+$],Ie=X*Qe-ce*ke;ke=X*ke+ce*Qe,w[q+me]=Te+(Qe=Ie),_[q+me]=Ke+ke,w[q+me+$]=Te-Qe,_[q+me+$]=Ke-ke,me!==T&&(Ie=c*X-E*ce,ce=c*ce+E*X,X=Ie)}},te.prototype.guessLen13b=function(l,f){var w=1|Math.max(f,l),_=1&w,D=0;for(w=w/2|0;w;w>>>=1)D++;return 1<<D+1+_},te.prototype.conjugate=function(l,f,w){if(!(w<=1))for(var _=0;_<w/2;_++){var D=l[_];l[_]=l[w-_-1],l[w-_-1]=D,D=f[_],f[_]=-f[w-_-1],f[w-_-1]=-D}},te.prototype.normalize13b=function(l,f){for(var w=0,_=0;_<f/2;_++){var D=8192*Math.round(l[2*_+1]/f)+Math.round(l[2*_]/f)+w;l[_]=67108863&D,w=D<67108864?0:D/67108864|0}return l},te.prototype.convert13b=function(l,f,w,_){for(var D=0,O=0;O<f;O++)w[2*O]=8191&(D+=0|l[O]),w[2*O+1]=8191&(D>>>=13),D>>>=13;for(O=2*f;O<_;++O)w[O]=0;N(0===D),N(!(-8192&D))},te.prototype.stub=function(l){for(var f=new Array(l),w=0;w<l;w++)f[w]=0;return f},te.prototype.mulp=function(l,f,w){var _=2*this.guessLen13b(l.length,f.length),D=this.makeRBT(_),O=this.stub(_),$=new Array(_),T=new Array(_),c=new Array(_),E=new Array(_),q=new Array(_),X=new Array(_),ce=w.words;ce.length=_,this.convert13b(l.words,l.length,$,_),this.convert13b(f.words,f.length,E,_),this.transform($,O,T,c,_,D),this.transform(E,O,q,X,_,D);for(var me=0;me<_;me++){var Te=T[me]*q[me]-c[me]*X[me];c[me]=T[me]*X[me]+c[me]*q[me],T[me]=Te}return this.conjugate(T,c,_),this.transform(T,c,ce,O,_,D),this.conjugate(ce,O,_),this.normalize13b(ce,_),w.negative=l.negative^f.negative,w.length=l.length+f.length,w.strip()},M.prototype.mul=function(l){var f=new M(null);return f.words=new Array(this.length+l.length),this.mulTo(l,f)},M.prototype.mulf=function(l){var f=new M(null);return f.words=new Array(this.length+l.length),re(this,l,f)},M.prototype.imul=function(l){return this.clone().mulTo(l,this)},M.prototype.imuln=function(l){N("number"==typeof l),N(l<67108864);for(var f=0,w=0;w<this.length;w++){var _=(0|this.words[w])*l,D=(67108863&_)+(67108863&f);f>>=26,f+=_/67108864|0,f+=D>>>26,this.words[w]=67108863&D}return 0!==f&&(this.words[w]=f,this.length++),this},M.prototype.muln=function(l){return this.clone().imuln(l)},M.prototype.sqr=function(){return this.mul(this)},M.prototype.isqr=function(){return this.imul(this.clone())},M.prototype.pow=function(l){var f=function W(B){for(var l=new Array(B.bitLength()),f=0;f<l.length;f++){var _=f%26;l[f]=(B.words[f/26|0]&1<<_)>>>_}return l}(l);if(0===f.length)return new M(1);for(var w=this,_=0;_<f.length&&0===f[_];_++,w=w.sqr());if(++_<f.length)for(var D=w.sqr();_<f.length;_++,D=D.sqr())0!==f[_]&&(w=w.mul(D));return w},M.prototype.iushln=function(l){N("number"==typeof l&&l>=0);var D,f=l%26,w=(l-f)/26,_=67108863>>>26-f<<26-f;if(0!==f){var O=0;for(D=0;D<this.length;D++){var $=this.words[D]&_;this.words[D]=(0|this.words[D])-$<<f|O,O=$>>>26-f}O&&(this.words[D]=O,this.length++)}if(0!==w){for(D=this.length-1;D>=0;D--)this.words[D+w]=this.words[D];for(D=0;D<w;D++)this.words[D]=0;this.length+=w}return this.strip()},M.prototype.ishln=function(l){return N(0===this.negative),this.iushln(l)},M.prototype.iushrn=function(l,f,w){var _;N("number"==typeof l&&l>=0),_=f?(f-f%26)/26:0;var D=l%26,O=Math.min((l-D)/26,this.length),$=67108863^67108863>>>D<<D,T=w;if(_-=O,_=Math.max(0,_),T){for(var c=0;c<O;c++)T.words[c]=this.words[c];T.length=O}if(0!==O)if(this.length>O)for(this.length-=O,c=0;c<this.length;c++)this.words[c]=this.words[c+O];else this.words[0]=0,this.length=1;var E=0;for(c=this.length-1;c>=0&&(0!==E||c>=_);c--){var q=0|this.words[c];this.words[c]=E<<26-D|q>>>D,E=q&$}return T&&0!==E&&(T.words[T.length++]=E),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},M.prototype.ishrn=function(l,f,w){return N(0===this.negative),this.iushrn(l,f,w)},M.prototype.shln=function(l){return this.clone().ishln(l)},M.prototype.ushln=function(l){return this.clone().iushln(l)},M.prototype.shrn=function(l){return this.clone().ishrn(l)},M.prototype.ushrn=function(l){return this.clone().iushrn(l)},M.prototype.testn=function(l){N("number"==typeof l&&l>=0);var f=l%26,w=(l-f)/26;return!(this.length<=w||!(this.words[w]&1<<f))},M.prototype.imaskn=function(l){N("number"==typeof l&&l>=0);var f=l%26,w=(l-f)/26;return N(0===this.negative,"imaskn works only with positive numbers"),this.length<=w?this:(0!==f&&w++,this.length=Math.min(w,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},M.prototype.maskn=function(l){return this.clone().imaskn(l)},M.prototype.iaddn=function(l){return N("number"==typeof l),N(l<67108864),l<0?this.isubn(-l):0!==this.negative?1===this.length&&(0|this.words[0])<l?(this.words[0]=l-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},M.prototype._iaddn=function(l){this.words[0]+=l;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},M.prototype.isubn=function(l){if(N("number"==typeof l),N(l<67108864),l<0)return this.iaddn(-l);if(0!==this.negative)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},M.prototype.addn=function(l){return this.clone().iaddn(l)},M.prototype.subn=function(l){return this.clone().isubn(l)},M.prototype.iabs=function(){return this.negative=0,this},M.prototype.abs=function(){return this.clone().iabs()},M.prototype._ishlnsubmul=function(l,f,w){var D;this._expand(l.length+w);var O,$=0;for(D=0;D<l.length;D++){O=(0|this.words[D+w])+$;var T=(0|l.words[D])*f;$=((O-=67108863&T)>>26)-(T/67108864|0),this.words[D+w]=67108863&O}for(;D<this.length-w;D++)$=(O=(0|this.words[D+w])+$)>>26,this.words[D+w]=67108863&O;if(0===$)return this.strip();for(N(-1===$),$=0,D=0;D<this.length;D++)$=(O=-(0|this.words[D])+$)>>26,this.words[D]=67108863&O;return this.negative=1,this.strip()},M.prototype._wordDiv=function(l,f){var w,_=this.clone(),D=l,O=0|D.words[D.length-1];0!=(w=26-this._countBits(O))&&(D=D.ushln(w),_.iushln(w),O=0|D.words[D.length-1]);var c,T=_.length-D.length;if("mod"!==f){(c=new M(null)).length=T+1,c.words=new Array(c.length);for(var E=0;E<c.length;E++)c.words[E]=0}var q=_.clone()._ishlnsubmul(D,1,T);0===q.negative&&(_=q,c&&(c.words[T]=1));for(var X=T-1;X>=0;X--){var ce=67108864*(0|_.words[D.length+X])+(0|_.words[D.length+X-1]);for(ce=Math.min(ce/O|0,67108863),_._ishlnsubmul(D,ce,X);0!==_.negative;)ce--,_.negative=0,_._ishlnsubmul(D,1,X),_.isZero()||(_.negative^=1);c&&(c.words[X]=ce)}return c&&c.strip(),_.strip(),"div"!==f&&0!==w&&_.iushrn(w),{div:c||null,mod:_}},M.prototype.divmod=function(l,f,w){return N(!l.isZero()),this.isZero()?{div:new M(0),mod:new M(0)}:0!==this.negative&&0===l.negative?(O=this.neg().divmod(l,f),"mod"!==f&&(_=O.div.neg()),"div"!==f&&(D=O.mod.neg(),w&&0!==D.negative&&D.iadd(l)),{div:_,mod:D}):0===this.negative&&0!==l.negative?(O=this.divmod(l.neg(),f),"mod"!==f&&(_=O.div.neg()),{div:_,mod:O.mod}):this.negative&l.negative?(O=this.neg().divmod(l.neg(),f),"div"!==f&&(D=O.mod.neg(),w&&0!==D.negative&&D.isub(l)),{div:O.div,mod:D}):l.length>this.length||this.cmp(l)<0?{div:new M(0),mod:this}:1===l.length?"div"===f?{div:this.divn(l.words[0]),mod:null}:"mod"===f?{div:null,mod:new M(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new M(this.modn(l.words[0]))}:this._wordDiv(l,f);var _,D,O},M.prototype.div=function(l){return this.divmod(l,"div",!1).div},M.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},M.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},M.prototype.divRound=function(l){var f=this.divmod(l);if(f.mod.isZero())return f.div;var w=0!==f.div.negative?f.mod.isub(l):f.mod,_=l.ushrn(1),D=l.andln(1),O=w.cmp(_);return O<0||1===D&&0===O?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},M.prototype.modn=function(l){N(l<=67108863);for(var f=(1<<26)%l,w=0,_=this.length-1;_>=0;_--)w=(f*w+(0|this.words[_]))%l;return w},M.prototype.idivn=function(l){N(l<=67108863);for(var f=0,w=this.length-1;w>=0;w--){var _=(0|this.words[w])+67108864*f;this.words[w]=_/l|0,f=_%l}return this.strip()},M.prototype.divn=function(l){return this.clone().idivn(l)},M.prototype.egcd=function(l){N(0===l.negative),N(!l.isZero());var f=this,w=l.clone();f=0!==f.negative?f.umod(l):f.clone();for(var _=new M(1),D=new M(0),O=new M(0),$=new M(1),T=0;f.isEven()&&w.isEven();)f.iushrn(1),w.iushrn(1),++T;for(var c=w.clone(),E=f.clone();!f.isZero();){for(var q=0,X=1;!(f.words[0]&X)&&q<26;++q,X<<=1);if(q>0)for(f.iushrn(q);q-- >0;)(_.isOdd()||D.isOdd())&&(_.iadd(c),D.isub(E)),_.iushrn(1),D.iushrn(1);for(var ce=0,me=1;!(w.words[0]&me)&&ce<26;++ce,me<<=1);if(ce>0)for(w.iushrn(ce);ce-- >0;)(O.isOdd()||$.isOdd())&&(O.iadd(c),$.isub(E)),O.iushrn(1),$.iushrn(1);f.cmp(w)>=0?(f.isub(w),_.isub(O),D.isub($)):(w.isub(f),O.isub(_),$.isub(D))}return{a:O,b:$,gcd:w.iushln(T)}},M.prototype._invmp=function(l){N(0===l.negative),N(!l.isZero());var q,f=this,w=l.clone();f=0!==f.negative?f.umod(l):f.clone();for(var _=new M(1),D=new M(0),O=w.clone();f.cmpn(1)>0&&w.cmpn(1)>0;){for(var $=0,T=1;!(f.words[0]&T)&&$<26;++$,T<<=1);if($>0)for(f.iushrn($);$-- >0;)_.isOdd()&&_.iadd(O),_.iushrn(1);for(var c=0,E=1;!(w.words[0]&E)&&c<26;++c,E<<=1);if(c>0)for(w.iushrn(c);c-- >0;)D.isOdd()&&D.iadd(O),D.iushrn(1);f.cmp(w)>=0?(f.isub(w),_.isub(D)):(w.isub(f),D.isub(_))}return(q=0===f.cmpn(1)?_:D).cmpn(0)<0&&q.iadd(l),q},M.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var f=this.clone(),w=l.clone();f.negative=0,w.negative=0;for(var _=0;f.isEven()&&w.isEven();_++)f.iushrn(1),w.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;w.isEven();)w.iushrn(1);var D=f.cmp(w);if(D<0){var O=f;f=w,w=O}else if(0===D||0===w.cmpn(1))break;f.isub(w)}return w.iushln(_)},M.prototype.invm=function(l){return this.egcd(l).a.umod(l)},M.prototype.isEven=function(){return!(1&this.words[0])},M.prototype.isOdd=function(){return!(1&~this.words[0])},M.prototype.andln=function(l){return this.words[0]&l},M.prototype.bincn=function(l){N("number"==typeof l);var f=l%26,w=(l-f)/26,_=1<<f;if(this.length<=w)return this._expand(w+1),this.words[w]|=_,this;for(var D=_,O=w;0!==D&&O<this.length;O++){var $=0|this.words[O];D=($+=D)>>>26,this.words[O]=$&=67108863}return 0!==D&&(this.words[O]=D,this.length++),this},M.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},M.prototype.cmpn=function(l){var w,f=l<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)w=1;else{f&&(l=-l),N(l<=67108863,"Number is too big");var _=0|this.words[0];w=_===l?0:_<l?-1:1}return 0!==this.negative?0|-w:w},M.prototype.cmp=function(l){if(0!==this.negative&&0===l.negative)return-1;if(0===this.negative&&0!==l.negative)return 1;var f=this.ucmp(l);return 0!==this.negative?0|-f:f},M.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var f=0,w=this.length-1;w>=0;w--){var _=0|this.words[w],D=0|l.words[w];if(_!==D){_<D?f=-1:_>D&&(f=1);break}}return f},M.prototype.gtn=function(l){return 1===this.cmpn(l)},M.prototype.gt=function(l){return 1===this.cmp(l)},M.prototype.gten=function(l){return this.cmpn(l)>=0},M.prototype.gte=function(l){return this.cmp(l)>=0},M.prototype.ltn=function(l){return-1===this.cmpn(l)},M.prototype.lt=function(l){return-1===this.cmp(l)},M.prototype.lten=function(l){return this.cmpn(l)<=0},M.prototype.lte=function(l){return this.cmp(l)<=0},M.prototype.eqn=function(l){return 0===this.cmpn(l)},M.prototype.eq=function(l){return 0===this.cmp(l)},M.red=function(l){return new Oe(l)},M.prototype.toRed=function(l){return N(!this.red,"Already a number in reduction context"),N(0===this.negative,"red works only with positives"),l.convertTo(this)._forceRed(l)},M.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},M.prototype._forceRed=function(l){return this.red=l,this},M.prototype.forceRed=function(l){return N(!this.red,"Already a number in reduction context"),this._forceRed(l)},M.prototype.redAdd=function(l){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},M.prototype.redIAdd=function(l){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},M.prototype.redSub=function(l){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},M.prototype.redISub=function(l){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},M.prototype.redShl=function(l){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},M.prototype.redMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},M.prototype.redIMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},M.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},M.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},M.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},M.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},M.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},M.prototype.redPow=function(l){return N(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var ue={k256:null,p224:null,p192:null,p25519:null};function pe(B,l){this.name=B,this.p=new M(l,16),this.n=this.p.bitLength(),this.k=new M(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function he(){pe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ve(){pe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ge(){pe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Me(){pe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Oe(B){if("string"==typeof B){var l=M._prime(B);this.m=l.p,this.prime=l}else N(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}function je(B){Oe.call(this,B),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new M(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}pe.prototype._tmp=function(){var l=new M(null);return l.words=new Array(Math.ceil(this.n/13)),l},pe.prototype.ireduce=function(l){var w,f=l;do{this.split(f,this.tmp),w=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(w>this.n);var _=w<this.n?-1:f.ucmp(this.p);return 0===_?(f.words[0]=0,f.length=1):_>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},pe.prototype.split=function(l,f){l.iushrn(this.n,0,f)},pe.prototype.imulK=function(l){return l.imul(this.k)},Y(he,pe),he.prototype.split=function(l,f){for(var w=4194303,_=Math.min(l.length,9),D=0;D<_;D++)f.words[D]=l.words[D];if(f.length=_,l.length<=9)return l.words[0]=0,void(l.length=1);var O=l.words[9];for(f.words[f.length++]=O&w,D=10;D<l.length;D++){var $=0|l.words[D];l.words[D-10]=($&w)<<4|O>>>22,O=$}l.words[D-10]=O>>>=22,l.length-=0===O&&l.length>10?10:9},he.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var f=0,w=0;w<l.length;w++){var _=0|l.words[w];l.words[w]=67108863&(f+=977*_),f=64*_+(f/67108864|0)}return 0===l.words[l.length-1]&&(l.length--,0===l.words[l.length-1]&&l.length--),l},Y(ve,pe),Y(ge,pe),Y(Me,pe),Me.prototype.imulK=function(l){for(var f=0,w=0;w<l.length;w++){var _=19*(0|l.words[w])+f,D=67108863&_;_>>>=26,l.words[w]=D,f=_}return 0!==f&&(l.words[l.length++]=f),l},M._prime=function(l){if(ue[l])return ue[l];var f;if("k256"===l)f=new he;else if("p224"===l)f=new ve;else if("p192"===l)f=new ge;else{if("p25519"!==l)throw new Error("Unknown prime "+l);f=new Me}return ue[l]=f,f},Oe.prototype._verify1=function(l){N(0===l.negative,"red works only with positives"),N(l.red,"red works only with red numbers")},Oe.prototype._verify2=function(l,f){N(!(l.negative|f.negative),"red works only with positives"),N(l.red&&l.red===f.red,"red works only with red numbers")},Oe.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},Oe.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},Oe.prototype.add=function(l,f){this._verify2(l,f);var w=l.add(f);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},Oe.prototype.iadd=function(l,f){this._verify2(l,f);var w=l.iadd(f);return w.cmp(this.m)>=0&&w.isub(this.m),w},Oe.prototype.sub=function(l,f){this._verify2(l,f);var w=l.sub(f);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},Oe.prototype.isub=function(l,f){this._verify2(l,f);var w=l.isub(f);return w.cmpn(0)<0&&w.iadd(this.m),w},Oe.prototype.shl=function(l,f){return this._verify1(l),this.imod(l.ushln(f))},Oe.prototype.imul=function(l,f){return this._verify2(l,f),this.imod(l.imul(f))},Oe.prototype.mul=function(l,f){return this._verify2(l,f),this.imod(l.mul(f))},Oe.prototype.isqr=function(l){return this.imul(l,l.clone())},Oe.prototype.sqr=function(l){return this.mul(l,l)},Oe.prototype.sqrt=function(l){if(l.isZero())return l.clone();var f=this.m.andln(3);if(N(f%2==1),3===f){var w=this.m.add(new M(1)).iushrn(2);return this.pow(l,w)}for(var _=this.m.subn(1),D=0;!_.isZero()&&0===_.andln(1);)D++,_.iushrn(1);N(!_.isZero());var O=new M(1).toRed(this),$=O.redNeg(),T=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new M(2*c*c).toRed(this);0!==this.pow(c,T).cmp($);)c.redIAdd($);for(var E=this.pow(c,_),q=this.pow(l,_.addn(1).iushrn(1)),X=this.pow(l,_),ce=D;0!==X.cmp(O);){for(var me=X,Te=0;0!==me.cmp(O);Te++)me=me.redSqr();N(Te<ce);var Ke=this.pow(E,new M(1).iushln(ce-Te-1));q=q.redMul(Ke),E=Ke.redSqr(),X=X.redMul(E),ce=Te}return q},Oe.prototype.invm=function(l){var f=l._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},Oe.prototype.pow=function(l,f){if(f.isZero())return new M(1).toRed(this);if(0===f.cmpn(1))return l.clone();var _=new Array(16);_[0]=new M(1).toRed(this),_[1]=l;for(var D=2;D<_.length;D++)_[D]=this.mul(_[D-1],l);var O=_[0],$=0,T=0,c=f.bitLength()%26;for(0===c&&(c=26),D=f.length-1;D>=0;D--){for(var E=f.words[D],q=c-1;q>=0;q--){var X=E>>q&1;O!==_[0]&&(O=this.sqr(O)),0!==X||0!==$?($<<=1,$|=X,(4==++T||0===D&&0===q)&&(O=this.mul(O,_[$]),T=0,$=0)):T=0}c=26}return O},Oe.prototype.convertTo=function(l){var f=l.umod(this.m);return f===l?f.clone():f},Oe.prototype.convertFrom=function(l){var f=l.clone();return f.red=null,f},M.mont=function(l){return new je(l)},Y(je,Oe),je.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},je.prototype.convertFrom=function(l){var f=this.imod(l.mul(this.rinv));return f.red=null,f},je.prototype.imul=function(l,f){if(l.isZero()||f.isZero())return l.words[0]=0,l.length=1,l;var w=l.imul(f),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=w.isub(_).iushrn(this.shift),O=D;return D.cmp(this.m)>=0?O=D.isub(this.m):D.cmpn(0)<0&&(O=D.iadd(this.m)),O._forceRed(this)},je.prototype.mul=function(l,f){if(l.isZero()||f.isZero())return new M(0)._forceRed(this);var w=l.mul(f),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=w.isub(_).iushrn(this.shift),O=D;return D.cmp(this.m)>=0?O=D.isub(this.m):D.cmpn(0)<0&&(O=D.iadd(this.m)),O._forceRed(this)},je.prototype.invm=function(l){return this.imod(l._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ye=A.nmd(Ye),this)},67211:(Ye,J,A)=>{"use strict";var h=A(71993),x=A(34725),N=A(36636),Y=A(25443),M=A(3247);function j(R){M.call(this,"digest"),this._hash=R}h(j,M),j.prototype._update=function(R){this._hash.update(R)},j.prototype._final=function(){return this._hash.digest()},Ye.exports=function(U){return"md5"===(U=U.toLowerCase())?new x:"rmd160"===U||"ripemd160"===U?new N:new j(Y(U))}},83407:(Ye,J,A)=>{var h=A(34725);Ye.exports=function(x){return(new h).update(x).digest()}},56432:(Ye,J,A)=>{"use strict";var h=A(71993),x=A(90509),N=A(3247),Y=A(27054).Buffer,M=A(83407),j=A(36636),R=A(25443),U=Y.alloc(128);function H(V,P){N.call(this,"digest"),"string"==typeof P&&(P=Y.from(P));var ee="sha512"===V||"sha384"===V?128:64;this._alg=V,this._key=P,P.length>ee?P=("rmd160"===V?new j:R(V)).update(P).digest():P.length<ee&&(P=Y.concat([P,U],ee));for(var Q=this._ipad=Y.allocUnsafe(ee),de=this._opad=Y.allocUnsafe(ee),ae=0;ae<ee;ae++)Q[ae]=54^P[ae],de[ae]=92^P[ae];this._hash="rmd160"===V?new j:R(V),this._hash.update(Q)}h(H,N),H.prototype._update=function(V){this._hash.update(V)},H.prototype._final=function(){var V=this._hash.digest();return("rmd160"===this._alg?new j:R(this._alg)).update(this._opad).update(V).digest()},Ye.exports=function(P,ee){return"rmd160"===(P=P.toLowerCase())||"ripemd160"===P?new H("rmd160",ee):"md5"===P?new x(M,ee):new H(P,ee)}},90509:(Ye,J,A)=>{"use strict";var h=A(71993),x=A(27054).Buffer,N=A(3247),Y=x.alloc(128),M=64;function j(R,U){N.call(this,"digest"),"string"==typeof U&&(U=x.from(U)),this._alg=R,this._key=U,U.length>M?U=R(U):U.length<M&&(U=x.concat([U,Y],M));for(var H=this._ipad=x.allocUnsafe(M),V=this._opad=x.allocUnsafe(M),P=0;P<M;P++)H[P]=54^U[P],V[P]=92^U[P];this._hash=[H]}h(j,N),j.prototype._update=function(R){this._hash.push(R)},j.prototype._final=function(){var R=this._alg(x.concat(this._hash));return this._alg(x.concat([this._opad,R]))},Ye.exports=j},91426:(Ye,J,A)=>{"use strict";J.randomBytes=J.rng=J.pseudoRandomBytes=J.prng=A(3342),J.createHash=J.Hash=A(67211),J.createHmac=J.Hmac=A(56432);var h=A(99560),x=Object.keys(h),N=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(x);J.getHashes=function(){return N};var Y=A(93397);J.pbkdf2=Y.pbkdf2,J.pbkdf2Sync=Y.pbkdf2Sync;var M=A(88862);J.Cipher=M.Cipher,J.createCipher=M.createCipher,J.Cipheriv=M.Cipheriv,J.createCipheriv=M.createCipheriv,J.Decipher=M.Decipher,J.createDecipher=M.createDecipher,J.Decipheriv=M.Decipheriv,J.createDecipheriv=M.createDecipheriv,J.getCiphers=M.getCiphers,J.listCiphers=M.listCiphers;var j=A(4377);J.DiffieHellmanGroup=j.DiffieHellmanGroup,J.createDiffieHellmanGroup=j.createDiffieHellmanGroup,J.getDiffieHellman=j.getDiffieHellman,J.createDiffieHellman=j.createDiffieHellman,J.DiffieHellman=j.DiffieHellman;var R=A(79143);J.createSign=R.createSign,J.Sign=R.Sign,J.createVerify=R.createVerify,J.Verify=R.Verify,J.createECDH=A(87303);var U=A(52965);J.publicEncrypt=U.publicEncrypt,J.privateEncrypt=U.privateEncrypt,J.publicDecrypt=U.publicDecrypt,J.privateDecrypt=U.privateDecrypt;var H=A(9682);J.randomFill=H.randomFill,J.randomFillSync=H.randomFillSync,J.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},J.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},71549:(Ye,J,A)=>{"use strict";J.utils=A(85671),J.Cipher=A(10219),J.DES=A(64166),J.CBC=A(88800),J.EDE=A(62122)},88800:(Ye,J,A)=>{"use strict";var h=A(39210),x=A(71993),N={};function Y(j){h.equal(j.length,8,"Invalid IV length"),this.iv=new Array(8);for(var R=0;R<this.iv.length;R++)this.iv[R]=j[R]}J.instantiate=function M(j){function R(P){j.call(this,P),this._cbcInit()}x(R,j);for(var U=Object.keys(N),H=0;H<U.length;H++){var V=U[H];R.prototype[V]=N[V]}return R.create=function(ee){return new R(ee)},R},N._cbcInit=function(){var R=new Y(this.options.iv);this._cbcState=R},N._update=function(R,U,H,V){var ee=this.constructor.super_.prototype,W=this._cbcState.iv;if("encrypt"===this.type){for(var Q=0;Q<this.blockSize;Q++)W[Q]^=R[U+Q];for(ee._update.call(this,W,0,H,V),Q=0;Q<this.blockSize;Q++)W[Q]=H[V+Q]}else{for(ee._update.call(this,R,U,H,V),Q=0;Q<this.blockSize;Q++)H[V+Q]^=W[Q];for(Q=0;Q<this.blockSize;Q++)W[Q]=R[U+Q]}}},10219:(Ye,J,A)=>{"use strict";var h=A(39210);function x(N){this.options=N,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==N.padding}Ye.exports=x,x.prototype._init=function(){},x.prototype.update=function(Y){return 0===Y.length?[]:"decrypt"===this.type?this._updateDecrypt(Y):this._updateEncrypt(Y)},x.prototype._buffer=function(Y,M){for(var j=Math.min(this.buffer.length-this.bufferOff,Y.length-M),R=0;R<j;R++)this.buffer[this.bufferOff+R]=Y[M+R];return this.bufferOff+=j,j},x.prototype._flushBuffer=function(Y,M){return this._update(this.buffer,0,Y,M),this.bufferOff=0,this.blockSize},x.prototype._updateEncrypt=function(Y){var M=0,j=0,U=new Array(((this.bufferOff+Y.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(M+=this._buffer(Y,M),this.bufferOff===this.buffer.length&&(j+=this._flushBuffer(U,j)));for(var H=Y.length-(Y.length-M)%this.blockSize;M<H;M+=this.blockSize)this._update(Y,M,U,j),j+=this.blockSize;for(;M<Y.length;M++,this.bufferOff++)this.buffer[this.bufferOff]=Y[M];return U},x.prototype._updateDecrypt=function(Y){for(var M=0,j=0,R=Math.ceil((this.bufferOff+Y.length)/this.blockSize)-1,U=new Array(R*this.blockSize);R>0;R--)M+=this._buffer(Y,M),j+=this._flushBuffer(U,j);return M+=this._buffer(Y,M),U},x.prototype.final=function(Y){var M,j;return Y&&(M=this.update(Y)),j="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),M?M.concat(j):j},x.prototype._pad=function(Y,M){if(0===M)return!1;for(;M<Y.length;)Y[M++]=0;return!0},x.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var Y=new Array(this.blockSize);return this._update(this.buffer,0,Y,0),Y},x.prototype._unpad=function(Y){return Y},x.prototype._finalDecrypt=function(){h.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var Y=new Array(this.blockSize);return this._flushBuffer(Y,0),this._unpad(Y)}},64166:(Ye,J,A)=>{"use strict";var h=A(39210),x=A(71993),N=A(85671),Y=A(10219);function M(){this.tmp=new Array(2),this.keys=null}function j(U){Y.call(this,U);var H=new M;this._desState=H,this.deriveKeys(H,U.key)}x(j,Y),Ye.exports=j,j.create=function(H){return new j(H)};var R=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];j.prototype.deriveKeys=function(H,V){H.keys=new Array(32),h.equal(V.length,this.blockSize,"Invalid key length");var P=N.readUInt32BE(V,0),ee=N.readUInt32BE(V,4);N.pc1(P,ee,H.tmp,0),P=H.tmp[0],ee=H.tmp[1];for(var W=0;W<H.keys.length;W+=2){var Q=R[W>>>1];P=N.r28shl(P,Q),ee=N.r28shl(ee,Q),N.pc2(P,ee,H.keys,W)}},j.prototype._update=function(H,V,P,ee){var W=this._desState,Q=N.readUInt32BE(H,V),de=N.readUInt32BE(H,V+4);N.ip(Q,de,W.tmp,0),Q=W.tmp[0],de=W.tmp[1],"encrypt"===this.type?this._encrypt(W,Q,de,W.tmp,0):this._decrypt(W,Q,de,W.tmp,0),de=W.tmp[1],N.writeUInt32BE(P,Q=W.tmp[0],ee),N.writeUInt32BE(P,de,ee+4)},j.prototype._pad=function(H,V){if(!1===this.padding)return!1;for(var P=H.length-V,ee=V;ee<H.length;ee++)H[ee]=P;return!0},j.prototype._unpad=function(H){if(!1===this.padding)return H;for(var V=H[H.length-1],P=H.length-V;P<H.length;P++)h.equal(H[P],V);return H.slice(0,H.length-V)},j.prototype._encrypt=function(H,V,P,ee,W){for(var Q=V,de=P,ae=0;ae<H.keys.length;ae+=2){var re=H.keys[ae],te=H.keys[ae+1];N.expand(de,H.tmp,0);var ue=N.substitute(re^=H.tmp[0],te^=H.tmp[1]),he=de;de=(Q^N.permute(ue))>>>0,Q=he}N.rip(de,Q,ee,W)},j.prototype._decrypt=function(H,V,P,ee,W){for(var Q=P,de=V,ae=H.keys.length-2;ae>=0;ae-=2){var re=H.keys[ae],te=H.keys[ae+1];N.expand(Q,H.tmp,0);var ue=N.substitute(re^=H.tmp[0],te^=H.tmp[1]),he=Q;Q=(de^N.permute(ue))>>>0,de=he}N.rip(Q,de,ee,W)}},62122:(Ye,J,A)=>{"use strict";var h=A(39210),x=A(71993),N=A(10219),Y=A(64166);function M(R,U){h.equal(U.length,24,"Invalid key length");var H=U.slice(0,8),V=U.slice(8,16),P=U.slice(16,24);this.ciphers="encrypt"===R?[Y.create({type:"encrypt",key:H}),Y.create({type:"decrypt",key:V}),Y.create({type:"encrypt",key:P})]:[Y.create({type:"decrypt",key:P}),Y.create({type:"encrypt",key:V}),Y.create({type:"decrypt",key:H})]}function j(R){N.call(this,R);var U=new M(this.type,this.options.key);this._edeState=U}x(j,N),Ye.exports=j,j.create=function(U){return new j(U)},j.prototype._update=function(U,H,V,P){var ee=this._edeState;ee.ciphers[0]._update(U,H,V,P),ee.ciphers[1]._update(V,P,V,P),ee.ciphers[2]._update(V,P,V,P)},j.prototype._pad=Y.prototype._pad,j.prototype._unpad=Y.prototype._unpad},85671:(Ye,J)=>{"use strict";J.readUInt32BE=function(Y,M){return(Y[0+M]<<24|Y[1+M]<<16|Y[2+M]<<8|Y[3+M])>>>0},J.writeUInt32BE=function(Y,M,j){Y[0+j]=M>>>24,Y[1+j]=M>>>16&255,Y[2+j]=M>>>8&255,Y[3+j]=255&M},J.ip=function(Y,M,j,R){for(var U=0,H=0,V=6;V>=0;V-=2){for(var P=0;P<=24;P+=8)U<<=1,U|=M>>>P+V&1;for(P=0;P<=24;P+=8)U<<=1,U|=Y>>>P+V&1}for(V=6;V>=0;V-=2){for(P=1;P<=25;P+=8)H<<=1,H|=M>>>P+V&1;for(P=1;P<=25;P+=8)H<<=1,H|=Y>>>P+V&1}j[R+0]=U>>>0,j[R+1]=H>>>0},J.rip=function(Y,M,j,R){for(var U=0,H=0,V=0;V<4;V++)for(var P=24;P>=0;P-=8)U<<=1,U|=M>>>P+V&1,U<<=1,U|=Y>>>P+V&1;for(V=4;V<8;V++)for(P=24;P>=0;P-=8)H<<=1,H|=M>>>P+V&1,H<<=1,H|=Y>>>P+V&1;j[R+0]=U>>>0,j[R+1]=H>>>0},J.pc1=function(Y,M,j,R){for(var U=0,H=0,V=7;V>=5;V--){for(var P=0;P<=24;P+=8)U<<=1,U|=M>>P+V&1;for(P=0;P<=24;P+=8)U<<=1,U|=Y>>P+V&1}for(P=0;P<=24;P+=8)U<<=1,U|=M>>P+V&1;for(V=1;V<=3;V++){for(P=0;P<=24;P+=8)H<<=1,H|=M>>P+V&1;for(P=0;P<=24;P+=8)H<<=1,H|=Y>>P+V&1}for(P=0;P<=24;P+=8)H<<=1,H|=Y>>P+V&1;j[R+0]=U>>>0,j[R+1]=H>>>0},J.r28shl=function(Y,M){return Y<<M&268435455|Y>>>28-M};var A=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];J.pc2=function(Y,M,j,R){for(var U=0,H=0,V=A.length>>>1,P=0;P<V;P++)U<<=1,U|=Y>>>A[P]&1;for(P=V;P<A.length;P++)H<<=1,H|=M>>>A[P]&1;j[R+0]=U>>>0,j[R+1]=H>>>0},J.expand=function(Y,M,j){var R=0,U=0;R=(1&Y)<<5|Y>>>27;for(var H=23;H>=15;H-=4)R<<=6,R|=Y>>>H&63;for(H=11;H>=3;H-=4)U|=Y>>>H&63,U<<=6;U|=(31&Y)<<1|Y>>>31,M[j+0]=R>>>0,M[j+1]=U>>>0};var h=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];J.substitute=function(Y,M){for(var j=0,R=0;R<4;R++)j<<=4,j|=h[64*R+(Y>>>18-6*R&63)];for(R=0;R<4;R++)j<<=4,j|=h[256+64*R+(M>>>18-6*R&63)];return j>>>0};var x=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];J.permute=function(Y){for(var M=0,j=0;j<x.length;j++)M<<=1,M|=Y>>>x[j]&1;return M>>>0},J.padSplit=function(Y,M,j){for(var R=Y.toString(2);R.length<M;)R="0"+R;for(var U=[],H=0;H<M;H+=j)U.push(R.slice(H,H+j));return U.join(" ")}},4377:(Ye,J,A)=>{var h=A(12727),x=A(23241),N=A(94593),M={binary:!0,hex:!0,base64:!0};J.DiffieHellmanGroup=J.createDiffieHellmanGroup=J.getDiffieHellman=function Y(R){var U=new Buffer(x[R].prime,"hex"),H=new Buffer(x[R].gen,"hex");return new N(U,H)},J.createDiffieHellman=J.DiffieHellman=function j(R,U,H,V){return Buffer.isBuffer(U)||void 0===M[U]?j(R,"binary",U,H):(U=U||"binary",V=V||"binary",H=H||new Buffer([2]),Buffer.isBuffer(H)||(H=new Buffer(H,V)),"number"==typeof R?new N(h(R,H),H,!0):(Buffer.isBuffer(R)||(R=new Buffer(R,U)),new N(R,H,!0)))}},94593:(Ye,J,A)=>{var h=A(38280),N=new(A(53459)),Y=new h(24),M=new h(11),j=new h(10),R=new h(3),U=new h(7),H=A(12727),V=A(3342);function P(re,te){return te=te||"utf8",Buffer.isBuffer(re)||(re=new Buffer(re,te)),this._pub=new h(re),this}function ee(re,te){return te=te||"utf8",Buffer.isBuffer(re)||(re=new Buffer(re,te)),this._priv=new h(re),this}Ye.exports=de;var W={};function de(re,te,ue){this.setGenerator(te),this.__prime=new h(re),this._prime=h.mont(this.__prime),this._primeLen=re.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,ue?(this.setPublicKey=P,this.setPrivateKey=ee):this._primeCode=8}function ae(re,te){var ue=new Buffer(re.toArray());return te?ue.toString(te):ue}Object.defineProperty(de.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function Q(re,te){var ue=te.toString("hex"),pe=[ue,re.toString(16)].join("_");if(pe in W)return W[pe];var ve,he=0;if(re.isEven()||!H.simpleSieve||!H.fermatTest(re)||!N.test(re))return he+=1,W[pe]=he+="02"===ue||"05"===ue?8:4,he;switch(N.test(re.shrn(1))||(he+=2),ue){case"02":re.mod(Y).cmp(M)&&(he+=8);break;case"05":(ve=re.mod(j)).cmp(R)&&ve.cmp(U)&&(he+=8);break;default:he+=4}return W[pe]=he,he}(this.__prime,this.__gen)),this._primeCode}}),de.prototype.generateKeys=function(){return this._priv||(this._priv=new h(V(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},de.prototype.computeSecret=function(re){var te=(re=(re=new h(re)).toRed(this._prime)).redPow(this._priv).fromRed(),ue=new Buffer(te.toArray()),pe=this.getPrime();if(ue.length<pe.length){var he=new Buffer(pe.length-ue.length);he.fill(0),ue=Buffer.concat([he,ue])}return ue},de.prototype.getPublicKey=function(te){return ae(this._pub,te)},de.prototype.getPrivateKey=function(te){return ae(this._priv,te)},de.prototype.getPrime=function(re){return ae(this.__prime,re)},de.prototype.getGenerator=function(re){return ae(this._gen,re)},de.prototype.setGenerator=function(re,te){return te=te||"utf8",Buffer.isBuffer(re)||(re=new Buffer(re,te)),this.__gen=re,this._gen=new h(re),this}},12727:(Ye,J,A)=>{var h=A(3342);Ye.exports=he,he.simpleSieve=ue,he.fermatTest=pe;var x=A(38280),N=new x(24),M=new(A(53459)),j=new x(1),R=new x(2),U=new x(5),P=(new x(16),new x(8),new x(10)),ee=new x(3),Q=(new x(7),new x(11)),de=new x(4),re=(new x(12),null);function ue(ve){for(var ge=function te(){if(null!==re)return re;var ge=[];ge[0]=2;for(var Me=1,Oe=3;Oe<1048576;Oe+=2){for(var je=Math.ceil(Math.sqrt(Oe)),B=0;B<Me&&ge[B]<=je&&Oe%ge[B]!=0;B++);Me!==B&&ge[B]<=je||(ge[Me++]=Oe)}return re=ge,ge}(),Me=0;Me<ge.length;Me++)if(0===ve.modn(ge[Me]))return 0===ve.cmpn(ge[Me]);return!0}function pe(ve){var ge=x.mont(ve);return 0===R.toRed(ge).redPow(ve.subn(1)).fromRed().cmpn(1)}function he(ve,ge){if(ve<16)return new x(2===ge||5===ge?[140,123]:[140,39]);ge=new x(ge);for(var Me,Oe;;){for(Me=new x(h(Math.ceil(ve/8)));Me.bitLength()>ve;)Me.ishrn(1);if(Me.isEven()&&Me.iadd(j),Me.testn(1)||Me.iadd(R),ge.cmp(R)){if(!ge.cmp(U))for(;Me.mod(P).cmp(ee);)Me.iadd(de)}else for(;Me.mod(N).cmp(Q);)Me.iadd(de);if(ue(Oe=Me.shrn(1))&&ue(Me)&&pe(Oe)&&pe(Me)&&M.test(Oe)&&M.test(Me))return Me}}},38280:function(Ye,J,A){!function(h,x){"use strict";function N(B,l){if(!B)throw new Error(l||"Assertion failed")}function Y(B,l){B.super_=l;var f=function(){};f.prototype=l.prototype,B.prototype=new f,B.prototype.constructor=B}function M(B,l,f){if(M.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,null!==B&&(("le"===l||"be"===l)&&(f=l,l=10),this._init(B||0,l||10,f||"be"))}var j;"object"==typeof h?h.exports=M:x.BN=M,M.BN=M,M.wordSize=26;try{j=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:A(66089).Buffer}catch{}function R(B,l){var f=B.charCodeAt(l);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function U(B,l,f){var w=R(B,f);return f-1>=l&&(w|=R(B,f-1)<<4),w}function H(B,l,f,w){for(var _=0,D=Math.min(B.length,f),O=l;O<D;O++){var $=B.charCodeAt(O)-48;_*=w,_+=$>=49?$-49+10:$>=17?$-17+10:$}return _}M.isBN=function(l){return l instanceof M||null!==l&&"object"==typeof l&&l.constructor.wordSize===M.wordSize&&Array.isArray(l.words)},M.max=function(l,f){return l.cmp(f)>0?l:f},M.min=function(l,f){return l.cmp(f)<0?l:f},M.prototype._init=function(l,f,w){if("number"==typeof l)return this._initNumber(l,f,w);if("object"==typeof l)return this._initArray(l,f,w);"hex"===f&&(f=16),N(f===(0|f)&&f>=2&&f<=36);var _=0;"-"===(l=l.toString().replace(/\s+/g,""))[0]&&(_++,this.negative=1),_<l.length&&(16===f?this._parseHex(l,_,w):(this._parseBase(l,f,_),"le"===w&&this._initArray(this.toArray(),f,w)))},M.prototype._initNumber=function(l,f,w){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[67108863&l],this.length=1):l<4503599627370496?(this.words=[67108863&l,l/67108864&67108863],this.length=2):(N(l<9007199254740992),this.words=[67108863&l,l/67108864&67108863,1],this.length=3),"le"===w&&this._initArray(this.toArray(),f,w)},M.prototype._initArray=function(l,f,w){if(N("number"==typeof l.length),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var D,O,$=0;if("be"===w)for(_=l.length-1,D=0;_>=0;_-=3)this.words[D]|=(O=l[_]|l[_-1]<<8|l[_-2]<<16)<<$&67108863,this.words[D+1]=O>>>26-$&67108863,($+=24)>=26&&($-=26,D++);else if("le"===w)for(_=0,D=0;_<l.length;_+=3)this.words[D]|=(O=l[_]|l[_+1]<<8|l[_+2]<<16)<<$&67108863,this.words[D+1]=O>>>26-$&67108863,($+=24)>=26&&($-=26,D++);return this.strip()},M.prototype._parseHex=function(l,f,w){this.length=Math.ceil((l.length-f)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var $,D=0,O=0;if("be"===w)for(_=l.length-1;_>=f;_-=2)$=U(l,f,_)<<D,this.words[O]|=67108863&$,D>=18?(D-=18,this.words[O+=1]|=$>>>26):D+=8;else for(_=(l.length-f)%2==0?f+1:f;_<l.length;_+=2)$=U(l,f,_)<<D,this.words[O]|=67108863&$,D>=18?(D-=18,this.words[O+=1]|=$>>>26):D+=8;this.strip()},M.prototype._parseBase=function(l,f,w){this.words=[0],this.length=1;for(var _=0,D=1;D<=67108863;D*=f)_++;_--,D=D/f|0;for(var O=l.length-w,$=O%_,T=Math.min(O,O-$)+w,c=0,E=w;E<T;E+=_)c=H(l,E,E+_,f),this.imuln(D),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==$){var q=1;for(c=H(l,E,l.length,f),E=0;E<$;E++)q*=f;this.imuln(q),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},M.prototype.copy=function(l){l.words=new Array(this.length);for(var f=0;f<this.length;f++)l.words[f]=this.words[f];l.length=this.length,l.negative=this.negative,l.red=this.red},M.prototype.clone=function(){var l=new M(null);return this.copy(l),l},M.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},M.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},M.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},M.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var V=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],P=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ee=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Q(B,l,f){f.negative=l.negative^B.negative;var w=B.length+l.length|0;f.length=w,w=w-1|0;var _=0|B.words[0],D=0|l.words[0],O=_*D,T=O/67108864|0;f.words[0]=67108863&O;for(var c=1;c<w;c++){for(var E=T>>>26,q=67108863&T,X=Math.min(c,l.length-1),ce=Math.max(0,c-B.length+1);ce<=X;ce++)E+=(O=(_=0|B.words[c-ce|0])*(D=0|l.words[ce])+q)/67108864|0,q=67108863&O;f.words[c]=0|q,T=0|E}return 0!==T?f.words[c]=0|T:f.length--,f.strip()}M.prototype.toString=function(l,f){var w;if(f=0|f||1,16===(l=l||10)||"hex"===l){w="";for(var _=0,D=0,O=0;O<this.length;O++){var $=this.words[O],T=(16777215&($<<_|D)).toString(16);w=0!=(D=$>>>24-_&16777215)||O!==this.length-1?V[6-T.length]+T+w:T+w,(_+=2)>=26&&(_-=26,O--)}for(0!==D&&(w=D.toString(16)+w);w.length%f!=0;)w="0"+w;return 0!==this.negative&&(w="-"+w),w}if(l===(0|l)&&l>=2&&l<=36){var c=P[l],E=ee[l];w="";var q=this.clone();for(q.negative=0;!q.isZero();){var X=q.modn(E).toString(l);w=(q=q.idivn(E)).isZero()?X+w:V[c-X.length]+X+w}for(this.isZero()&&(w="0"+w);w.length%f!=0;)w="0"+w;return 0!==this.negative&&(w="-"+w),w}N(!1,"Base should be between 2 and 36")},M.prototype.toNumber=function(){var l=this.words[0];return 2===this.length?l+=67108864*this.words[1]:3===this.length&&1===this.words[2]?l+=4503599627370496+67108864*this.words[1]:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-l:l},M.prototype.toJSON=function(){return this.toString(16)},M.prototype.toBuffer=function(l,f){return N(typeof j<"u"),this.toArrayLike(j,l,f)},M.prototype.toArray=function(l,f){return this.toArrayLike(Array,l,f)},M.prototype.toArrayLike=function(l,f,w){var _=this.byteLength(),D=w||Math.max(1,_);N(_<=D,"byte array longer than desired length"),N(D>0,"Requested array length <= 0"),this.strip();var T,c,O="le"===f,$=new l(D),E=this.clone();if(O){for(c=0;!E.isZero();c++)T=E.andln(255),E.iushrn(8),$[c]=T;for(;c<D;c++)$[c]=0}else{for(c=0;c<D-_;c++)$[c]=0;for(c=0;!E.isZero();c++)T=E.andln(255),E.iushrn(8),$[D-c-1]=T}return $},M.prototype._countBits=Math.clz32?function(l){return 32-Math.clz32(l)}:function(l){var f=l,w=0;return f>=4096&&(w+=13,f>>>=13),f>=64&&(w+=7,f>>>=7),f>=8&&(w+=4,f>>>=4),f>=2&&(w+=2,f>>>=2),w+f},M.prototype._zeroBits=function(l){if(0===l)return 26;var f=l,w=0;return 8191&f||(w+=13,f>>>=13),127&f||(w+=7,f>>>=7),15&f||(w+=4,f>>>=4),3&f||(w+=2,f>>>=2),1&f||w++,w},M.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},M.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,f=0;f<this.length;f++){var w=this._zeroBits(this.words[f]);if(l+=w,26!==w)break}return l},M.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},M.prototype.toTwos=function(l){return 0!==this.negative?this.abs().inotn(l).iaddn(1):this.clone()},M.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},M.prototype.isNeg=function(){return 0!==this.negative},M.prototype.neg=function(){return this.clone().ineg()},M.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},M.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var f=0;f<l.length;f++)this.words[f]=this.words[f]|l.words[f];return this.strip()},M.prototype.ior=function(l){return N(!(this.negative|l.negative)),this.iuor(l)},M.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},M.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},M.prototype.iuand=function(l){var f;f=this.length>l.length?l:this;for(var w=0;w<f.length;w++)this.words[w]=this.words[w]&l.words[w];return this.length=f.length,this.strip()},M.prototype.iand=function(l){return N(!(this.negative|l.negative)),this.iuand(l)},M.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},M.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},M.prototype.iuxor=function(l){var f,w;this.length>l.length?(f=this,w=l):(f=l,w=this);for(var _=0;_<w.length;_++)this.words[_]=f.words[_]^w.words[_];if(this!==f)for(;_<f.length;_++)this.words[_]=f.words[_];return this.length=f.length,this.strip()},M.prototype.ixor=function(l){return N(!(this.negative|l.negative)),this.iuxor(l)},M.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},M.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},M.prototype.inotn=function(l){N("number"==typeof l&&l>=0);var f=0|Math.ceil(l/26),w=l%26;this._expand(f),w>0&&f--;for(var _=0;_<f;_++)this.words[_]=67108863&~this.words[_];return w>0&&(this.words[_]=~this.words[_]&67108863>>26-w),this.strip()},M.prototype.notn=function(l){return this.clone().inotn(l)},M.prototype.setn=function(l,f){N("number"==typeof l&&l>=0);var w=l/26|0,_=l%26;return this._expand(w+1),this.words[w]=f?this.words[w]|1<<_:this.words[w]&~(1<<_),this.strip()},M.prototype.iadd=function(l){var f,w,_;if(0!==this.negative&&0===l.negative)return this.negative=0,f=this.isub(l),this.negative^=1,this._normSign();if(0===this.negative&&0!==l.negative)return l.negative=0,f=this.isub(l),l.negative=1,f._normSign();this.length>l.length?(w=this,_=l):(w=l,_=this);for(var D=0,O=0;O<_.length;O++)this.words[O]=67108863&(f=(0|w.words[O])+(0|_.words[O])+D),D=f>>>26;for(;0!==D&&O<w.length;O++)this.words[O]=67108863&(f=(0|w.words[O])+D),D=f>>>26;if(this.length=w.length,0!==D)this.words[this.length]=D,this.length++;else if(w!==this)for(;O<w.length;O++)this.words[O]=w.words[O];return this},M.prototype.add=function(l){var f;return 0!==l.negative&&0===this.negative?(l.negative=0,f=this.sub(l),l.negative^=1,f):0===l.negative&&0!==this.negative?(this.negative=0,f=l.sub(this),this.negative=1,f):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},M.prototype.isub=function(l){if(0!==l.negative){l.negative=0;var f=this.iadd(l);return l.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var _,D,w=this.cmp(l);if(0===w)return this.negative=0,this.length=1,this.words[0]=0,this;w>0?(_=this,D=l):(_=l,D=this);for(var O=0,$=0;$<D.length;$++)O=(f=(0|_.words[$])-(0|D.words[$])+O)>>26,this.words[$]=67108863&f;for(;0!==O&&$<_.length;$++)O=(f=(0|_.words[$])+O)>>26,this.words[$]=67108863&f;if(0===O&&$<_.length&&_!==this)for(;$<_.length;$++)this.words[$]=_.words[$];return this.length=Math.max(this.length,$),_!==this&&(this.negative=1),this.strip()},M.prototype.sub=function(l){return this.clone().isub(l)};var de=function(l,f,w){var T,c,E,_=l.words,D=f.words,O=w.words,$=0,q=0|_[0],X=8191&q,ce=q>>>13,me=0|_[1],Te=8191&me,Ke=me>>>13,Qe=0|_[2],ke=8191&Qe,Ie=Qe>>>13,Xe=0|_[3],Se=8191&Xe,Le=Xe>>>13,Ee=0|_[4],be=8191&Ee,oe=Ee>>>13,fe=0|_[5],we=8191&fe,De=fe>>>13,$e=0|_[6],Je=8191&$e,Ze=$e>>>13,Pt=0|_[7],nt=8191&Pt,Ge=Pt>>>13,Et=0|_[8],K=8191&Et,C=Et>>>13,b=0|_[9],z=8191&b,le=b>>>13,Ae=0|D[0],Be=8191&Ae,ft=Ae>>>13,Yt=0|D[1],Rt=8191&Yt,Vt=Yt>>>13,dn=0|D[2],Mn=8191&dn,En=dn>>>13,Ar=0|D[3],jn=8191&Ar,mn=Ar>>>13,pn=0|D[4],kt=8191&pn,St=pn>>>13,an=0|D[5],hn=8191&an,An=an>>>13,Rr=0|D[6],Tt=8191&Rr,Nt=Rr>>>13,Lt=0|D[7],st=8191&Lt,mt=Lt>>>13,sn=0|D[8],Zt=8191&sn,xn=sn>>>13,cr=0|D[9],kn=8191&cr,zn=cr>>>13;w.negative=l.negative^f.negative,w.length=19;var qr=($+(T=Math.imul(X,Be))|0)+((8191&(c=(c=Math.imul(X,ft))+Math.imul(ce,Be)|0))<<13)|0;$=((E=Math.imul(ce,ft))+(c>>>13)|0)+(qr>>>26)|0,qr&=67108863,T=Math.imul(Te,Be),c=(c=Math.imul(Te,ft))+Math.imul(Ke,Be)|0,E=Math.imul(Ke,ft);var pr=($+(T=T+Math.imul(X,Rt)|0)|0)+((8191&(c=(c=c+Math.imul(X,Vt)|0)+Math.imul(ce,Rt)|0))<<13)|0;$=((E=E+Math.imul(ce,Vt)|0)+(c>>>13)|0)+(pr>>>26)|0,pr&=67108863,T=Math.imul(ke,Be),c=(c=Math.imul(ke,ft))+Math.imul(Ie,Be)|0,E=Math.imul(Ie,ft),T=T+Math.imul(Te,Rt)|0,c=(c=c+Math.imul(Te,Vt)|0)+Math.imul(Ke,Rt)|0,E=E+Math.imul(Ke,Vt)|0;var qn=($+(T=T+Math.imul(X,Mn)|0)|0)+((8191&(c=(c=c+Math.imul(X,En)|0)+Math.imul(ce,Mn)|0))<<13)|0;$=((E=E+Math.imul(ce,En)|0)+(c>>>13)|0)+(qn>>>26)|0,qn&=67108863,T=Math.imul(Se,Be),c=(c=Math.imul(Se,ft))+Math.imul(Le,Be)|0,E=Math.imul(Le,ft),T=T+Math.imul(ke,Rt)|0,c=(c=c+Math.imul(ke,Vt)|0)+Math.imul(Ie,Rt)|0,E=E+Math.imul(Ie,Vt)|0,T=T+Math.imul(Te,Mn)|0,c=(c=c+Math.imul(Te,En)|0)+Math.imul(Ke,Mn)|0,E=E+Math.imul(Ke,En)|0;var Jt=($+(T=T+Math.imul(X,jn)|0)|0)+((8191&(c=(c=c+Math.imul(X,mn)|0)+Math.imul(ce,jn)|0))<<13)|0;$=((E=E+Math.imul(ce,mn)|0)+(c>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,T=Math.imul(be,Be),c=(c=Math.imul(be,ft))+Math.imul(oe,Be)|0,E=Math.imul(oe,ft),T=T+Math.imul(Se,Rt)|0,c=(c=c+Math.imul(Se,Vt)|0)+Math.imul(Le,Rt)|0,E=E+Math.imul(Le,Vt)|0,T=T+Math.imul(ke,Mn)|0,c=(c=c+Math.imul(ke,En)|0)+Math.imul(Ie,Mn)|0,E=E+Math.imul(Ie,En)|0,T=T+Math.imul(Te,jn)|0,c=(c=c+Math.imul(Te,mn)|0)+Math.imul(Ke,jn)|0,E=E+Math.imul(Ke,mn)|0;var dt=($+(T=T+Math.imul(X,kt)|0)|0)+((8191&(c=(c=c+Math.imul(X,St)|0)+Math.imul(ce,kt)|0))<<13)|0;$=((E=E+Math.imul(ce,St)|0)+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,T=Math.imul(we,Be),c=(c=Math.imul(we,ft))+Math.imul(De,Be)|0,E=Math.imul(De,ft),T=T+Math.imul(be,Rt)|0,c=(c=c+Math.imul(be,Vt)|0)+Math.imul(oe,Rt)|0,E=E+Math.imul(oe,Vt)|0,T=T+Math.imul(Se,Mn)|0,c=(c=c+Math.imul(Se,En)|0)+Math.imul(Le,Mn)|0,E=E+Math.imul(Le,En)|0,T=T+Math.imul(ke,jn)|0,c=(c=c+Math.imul(ke,mn)|0)+Math.imul(Ie,jn)|0,E=E+Math.imul(Ie,mn)|0,T=T+Math.imul(Te,kt)|0,c=(c=c+Math.imul(Te,St)|0)+Math.imul(Ke,kt)|0,E=E+Math.imul(Ke,St)|0;var Ne=($+(T=T+Math.imul(X,hn)|0)|0)+((8191&(c=(c=c+Math.imul(X,An)|0)+Math.imul(ce,hn)|0))<<13)|0;$=((E=E+Math.imul(ce,An)|0)+(c>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,T=Math.imul(Je,Be),c=(c=Math.imul(Je,ft))+Math.imul(Ze,Be)|0,E=Math.imul(Ze,ft),T=T+Math.imul(we,Rt)|0,c=(c=c+Math.imul(we,Vt)|0)+Math.imul(De,Rt)|0,E=E+Math.imul(De,Vt)|0,T=T+Math.imul(be,Mn)|0,c=(c=c+Math.imul(be,En)|0)+Math.imul(oe,Mn)|0,E=E+Math.imul(oe,En)|0,T=T+Math.imul(Se,jn)|0,c=(c=c+Math.imul(Se,mn)|0)+Math.imul(Le,jn)|0,E=E+Math.imul(Le,mn)|0,T=T+Math.imul(ke,kt)|0,c=(c=c+Math.imul(ke,St)|0)+Math.imul(Ie,kt)|0,E=E+Math.imul(Ie,St)|0,T=T+Math.imul(Te,hn)|0,c=(c=c+Math.imul(Te,An)|0)+Math.imul(Ke,hn)|0,E=E+Math.imul(Ke,An)|0;var We=($+(T=T+Math.imul(X,Tt)|0)|0)+((8191&(c=(c=c+Math.imul(X,Nt)|0)+Math.imul(ce,Tt)|0))<<13)|0;$=((E=E+Math.imul(ce,Nt)|0)+(c>>>13)|0)+(We>>>26)|0,We&=67108863,T=Math.imul(nt,Be),c=(c=Math.imul(nt,ft))+Math.imul(Ge,Be)|0,E=Math.imul(Ge,ft),T=T+Math.imul(Je,Rt)|0,c=(c=c+Math.imul(Je,Vt)|0)+Math.imul(Ze,Rt)|0,E=E+Math.imul(Ze,Vt)|0,T=T+Math.imul(we,Mn)|0,c=(c=c+Math.imul(we,En)|0)+Math.imul(De,Mn)|0,E=E+Math.imul(De,En)|0,T=T+Math.imul(be,jn)|0,c=(c=c+Math.imul(be,mn)|0)+Math.imul(oe,jn)|0,E=E+Math.imul(oe,mn)|0,T=T+Math.imul(Se,kt)|0,c=(c=c+Math.imul(Se,St)|0)+Math.imul(Le,kt)|0,E=E+Math.imul(Le,St)|0,T=T+Math.imul(ke,hn)|0,c=(c=c+Math.imul(ke,An)|0)+Math.imul(Ie,hn)|0,E=E+Math.imul(Ie,An)|0,T=T+Math.imul(Te,Tt)|0,c=(c=c+Math.imul(Te,Nt)|0)+Math.imul(Ke,Tt)|0,E=E+Math.imul(Ke,Nt)|0;var Bt=($+(T=T+Math.imul(X,st)|0)|0)+((8191&(c=(c=c+Math.imul(X,mt)|0)+Math.imul(ce,st)|0))<<13)|0;$=((E=E+Math.imul(ce,mt)|0)+(c>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,T=Math.imul(K,Be),c=(c=Math.imul(K,ft))+Math.imul(C,Be)|0,E=Math.imul(C,ft),T=T+Math.imul(nt,Rt)|0,c=(c=c+Math.imul(nt,Vt)|0)+Math.imul(Ge,Rt)|0,E=E+Math.imul(Ge,Vt)|0,T=T+Math.imul(Je,Mn)|0,c=(c=c+Math.imul(Je,En)|0)+Math.imul(Ze,Mn)|0,E=E+Math.imul(Ze,En)|0,T=T+Math.imul(we,jn)|0,c=(c=c+Math.imul(we,mn)|0)+Math.imul(De,jn)|0,E=E+Math.imul(De,mn)|0,T=T+Math.imul(be,kt)|0,c=(c=c+Math.imul(be,St)|0)+Math.imul(oe,kt)|0,E=E+Math.imul(oe,St)|0,T=T+Math.imul(Se,hn)|0,c=(c=c+Math.imul(Se,An)|0)+Math.imul(Le,hn)|0,E=E+Math.imul(Le,An)|0,T=T+Math.imul(ke,Tt)|0,c=(c=c+Math.imul(ke,Nt)|0)+Math.imul(Ie,Tt)|0,E=E+Math.imul(Ie,Nt)|0,T=T+Math.imul(Te,st)|0,c=(c=c+Math.imul(Te,mt)|0)+Math.imul(Ke,st)|0,E=E+Math.imul(Ke,mt)|0;var gn=($+(T=T+Math.imul(X,Zt)|0)|0)+((8191&(c=(c=c+Math.imul(X,xn)|0)+Math.imul(ce,Zt)|0))<<13)|0;$=((E=E+Math.imul(ce,xn)|0)+(c>>>13)|0)+(gn>>>26)|0,gn&=67108863,T=Math.imul(z,Be),c=(c=Math.imul(z,ft))+Math.imul(le,Be)|0,E=Math.imul(le,ft),T=T+Math.imul(K,Rt)|0,c=(c=c+Math.imul(K,Vt)|0)+Math.imul(C,Rt)|0,E=E+Math.imul(C,Vt)|0,T=T+Math.imul(nt,Mn)|0,c=(c=c+Math.imul(nt,En)|0)+Math.imul(Ge,Mn)|0,E=E+Math.imul(Ge,En)|0,T=T+Math.imul(Je,jn)|0,c=(c=c+Math.imul(Je,mn)|0)+Math.imul(Ze,jn)|0,E=E+Math.imul(Ze,mn)|0,T=T+Math.imul(we,kt)|0,c=(c=c+Math.imul(we,St)|0)+Math.imul(De,kt)|0,E=E+Math.imul(De,St)|0,T=T+Math.imul(be,hn)|0,c=(c=c+Math.imul(be,An)|0)+Math.imul(oe,hn)|0,E=E+Math.imul(oe,An)|0,T=T+Math.imul(Se,Tt)|0,c=(c=c+Math.imul(Se,Nt)|0)+Math.imul(Le,Tt)|0,E=E+Math.imul(Le,Nt)|0,T=T+Math.imul(ke,st)|0,c=(c=c+Math.imul(ke,mt)|0)+Math.imul(Ie,st)|0,E=E+Math.imul(Ie,mt)|0,T=T+Math.imul(Te,Zt)|0,c=(c=c+Math.imul(Te,xn)|0)+Math.imul(Ke,Zt)|0,E=E+Math.imul(Ke,xn)|0;var Kn=($+(T=T+Math.imul(X,kn)|0)|0)+((8191&(c=(c=c+Math.imul(X,zn)|0)+Math.imul(ce,kn)|0))<<13)|0;$=((E=E+Math.imul(ce,zn)|0)+(c>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,T=Math.imul(z,Rt),c=(c=Math.imul(z,Vt))+Math.imul(le,Rt)|0,E=Math.imul(le,Vt),T=T+Math.imul(K,Mn)|0,c=(c=c+Math.imul(K,En)|0)+Math.imul(C,Mn)|0,E=E+Math.imul(C,En)|0,T=T+Math.imul(nt,jn)|0,c=(c=c+Math.imul(nt,mn)|0)+Math.imul(Ge,jn)|0,E=E+Math.imul(Ge,mn)|0,T=T+Math.imul(Je,kt)|0,c=(c=c+Math.imul(Je,St)|0)+Math.imul(Ze,kt)|0,E=E+Math.imul(Ze,St)|0,T=T+Math.imul(we,hn)|0,c=(c=c+Math.imul(we,An)|0)+Math.imul(De,hn)|0,E=E+Math.imul(De,An)|0,T=T+Math.imul(be,Tt)|0,c=(c=c+Math.imul(be,Nt)|0)+Math.imul(oe,Tt)|0,E=E+Math.imul(oe,Nt)|0,T=T+Math.imul(Se,st)|0,c=(c=c+Math.imul(Se,mt)|0)+Math.imul(Le,st)|0,E=E+Math.imul(Le,mt)|0,T=T+Math.imul(ke,Zt)|0,c=(c=c+Math.imul(ke,xn)|0)+Math.imul(Ie,Zt)|0,E=E+Math.imul(Ie,xn)|0;var ir=($+(T=T+Math.imul(Te,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Te,zn)|0)+Math.imul(Ke,kn)|0))<<13)|0;$=((E=E+Math.imul(Ke,zn)|0)+(c>>>13)|0)+(ir>>>26)|0,ir&=67108863,T=Math.imul(z,Mn),c=(c=Math.imul(z,En))+Math.imul(le,Mn)|0,E=Math.imul(le,En),T=T+Math.imul(K,jn)|0,c=(c=c+Math.imul(K,mn)|0)+Math.imul(C,jn)|0,E=E+Math.imul(C,mn)|0,T=T+Math.imul(nt,kt)|0,c=(c=c+Math.imul(nt,St)|0)+Math.imul(Ge,kt)|0,E=E+Math.imul(Ge,St)|0,T=T+Math.imul(Je,hn)|0,c=(c=c+Math.imul(Je,An)|0)+Math.imul(Ze,hn)|0,E=E+Math.imul(Ze,An)|0,T=T+Math.imul(we,Tt)|0,c=(c=c+Math.imul(we,Nt)|0)+Math.imul(De,Tt)|0,E=E+Math.imul(De,Nt)|0,T=T+Math.imul(be,st)|0,c=(c=c+Math.imul(be,mt)|0)+Math.imul(oe,st)|0,E=E+Math.imul(oe,mt)|0,T=T+Math.imul(Se,Zt)|0,c=(c=c+Math.imul(Se,xn)|0)+Math.imul(Le,Zt)|0,E=E+Math.imul(Le,xn)|0;var hr=($+(T=T+Math.imul(ke,kn)|0)|0)+((8191&(c=(c=c+Math.imul(ke,zn)|0)+Math.imul(Ie,kn)|0))<<13)|0;$=((E=E+Math.imul(Ie,zn)|0)+(c>>>13)|0)+(hr>>>26)|0,hr&=67108863,T=Math.imul(z,jn),c=(c=Math.imul(z,mn))+Math.imul(le,jn)|0,E=Math.imul(le,mn),T=T+Math.imul(K,kt)|0,c=(c=c+Math.imul(K,St)|0)+Math.imul(C,kt)|0,E=E+Math.imul(C,St)|0,T=T+Math.imul(nt,hn)|0,c=(c=c+Math.imul(nt,An)|0)+Math.imul(Ge,hn)|0,E=E+Math.imul(Ge,An)|0,T=T+Math.imul(Je,Tt)|0,c=(c=c+Math.imul(Je,Nt)|0)+Math.imul(Ze,Tt)|0,E=E+Math.imul(Ze,Nt)|0,T=T+Math.imul(we,st)|0,c=(c=c+Math.imul(we,mt)|0)+Math.imul(De,st)|0,E=E+Math.imul(De,mt)|0,T=T+Math.imul(be,Zt)|0,c=(c=c+Math.imul(be,xn)|0)+Math.imul(oe,Zt)|0,E=E+Math.imul(oe,xn)|0;var Wr=($+(T=T+Math.imul(Se,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Se,zn)|0)+Math.imul(Le,kn)|0))<<13)|0;$=((E=E+Math.imul(Le,zn)|0)+(c>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,T=Math.imul(z,kt),c=(c=Math.imul(z,St))+Math.imul(le,kt)|0,E=Math.imul(le,St),T=T+Math.imul(K,hn)|0,c=(c=c+Math.imul(K,An)|0)+Math.imul(C,hn)|0,E=E+Math.imul(C,An)|0,T=T+Math.imul(nt,Tt)|0,c=(c=c+Math.imul(nt,Nt)|0)+Math.imul(Ge,Tt)|0,E=E+Math.imul(Ge,Nt)|0,T=T+Math.imul(Je,st)|0,c=(c=c+Math.imul(Je,mt)|0)+Math.imul(Ze,st)|0,E=E+Math.imul(Ze,mt)|0,T=T+Math.imul(we,Zt)|0,c=(c=c+Math.imul(we,xn)|0)+Math.imul(De,Zt)|0,E=E+Math.imul(De,xn)|0;var Vr=($+(T=T+Math.imul(be,kn)|0)|0)+((8191&(c=(c=c+Math.imul(be,zn)|0)+Math.imul(oe,kn)|0))<<13)|0;$=((E=E+Math.imul(oe,zn)|0)+(c>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,T=Math.imul(z,hn),c=(c=Math.imul(z,An))+Math.imul(le,hn)|0,E=Math.imul(le,An),T=T+Math.imul(K,Tt)|0,c=(c=c+Math.imul(K,Nt)|0)+Math.imul(C,Tt)|0,E=E+Math.imul(C,Nt)|0,T=T+Math.imul(nt,st)|0,c=(c=c+Math.imul(nt,mt)|0)+Math.imul(Ge,st)|0,E=E+Math.imul(Ge,mt)|0,T=T+Math.imul(Je,Zt)|0,c=(c=c+Math.imul(Je,xn)|0)+Math.imul(Ze,Zt)|0,E=E+Math.imul(Ze,xn)|0;var ti=($+(T=T+Math.imul(we,kn)|0)|0)+((8191&(c=(c=c+Math.imul(we,zn)|0)+Math.imul(De,kn)|0))<<13)|0;$=((E=E+Math.imul(De,zn)|0)+(c>>>13)|0)+(ti>>>26)|0,ti&=67108863,T=Math.imul(z,Tt),c=(c=Math.imul(z,Nt))+Math.imul(le,Tt)|0,E=Math.imul(le,Nt),T=T+Math.imul(K,st)|0,c=(c=c+Math.imul(K,mt)|0)+Math.imul(C,st)|0,E=E+Math.imul(C,mt)|0,T=T+Math.imul(nt,Zt)|0,c=(c=c+Math.imul(nt,xn)|0)+Math.imul(Ge,Zt)|0,E=E+Math.imul(Ge,xn)|0;var ni=($+(T=T+Math.imul(Je,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Je,zn)|0)+Math.imul(Ze,kn)|0))<<13)|0;$=((E=E+Math.imul(Ze,zn)|0)+(c>>>13)|0)+(ni>>>26)|0,ni&=67108863,T=Math.imul(z,st),c=(c=Math.imul(z,mt))+Math.imul(le,st)|0,E=Math.imul(le,mt),T=T+Math.imul(K,Zt)|0,c=(c=c+Math.imul(K,xn)|0)+Math.imul(C,Zt)|0,E=E+Math.imul(C,xn)|0;var Ei=($+(T=T+Math.imul(nt,kn)|0)|0)+((8191&(c=(c=c+Math.imul(nt,zn)|0)+Math.imul(Ge,kn)|0))<<13)|0;$=((E=E+Math.imul(Ge,zn)|0)+(c>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,T=Math.imul(z,Zt),c=(c=Math.imul(z,xn))+Math.imul(le,Zt)|0,E=Math.imul(le,xn);var yn=($+(T=T+Math.imul(K,kn)|0)|0)+((8191&(c=(c=c+Math.imul(K,zn)|0)+Math.imul(C,kn)|0))<<13)|0;$=((E=E+Math.imul(C,zn)|0)+(c>>>13)|0)+(yn>>>26)|0,yn&=67108863;var Pn=($+(T=Math.imul(z,kn))|0)+((8191&(c=(c=Math.imul(z,zn))+Math.imul(le,kn)|0))<<13)|0;return $=((E=Math.imul(le,zn))+(c>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,O[0]=qr,O[1]=pr,O[2]=qn,O[3]=Jt,O[4]=dt,O[5]=Ne,O[6]=We,O[7]=Bt,O[8]=gn,O[9]=Kn,O[10]=ir,O[11]=hr,O[12]=Wr,O[13]=Vr,O[14]=ti,O[15]=ni,O[16]=Ei,O[17]=yn,O[18]=Pn,0!==$&&(O[19]=$,w.length++),w};function re(B,l,f){return(new te).mulp(B,l,f)}function te(B,l){this.x=B,this.y=l}Math.imul||(de=Q),M.prototype.mulTo=function(l,f){var w,_=this.length+l.length;return w=10===this.length&&10===l.length?de(this,l,f):_<63?Q(this,l,f):_<1024?function ae(B,l,f){f.negative=l.negative^B.negative,f.length=B.length+l.length;for(var w=0,_=0,D=0;D<f.length-1;D++){var O=_;_=0;for(var $=67108863&w,T=Math.min(D,l.length-1),c=Math.max(0,D-B.length+1);c<=T;c++){var ce=(0|B.words[D-c])*(0|l.words[c]),me=67108863&ce;$=67108863&(me=me+$|0),_+=(O=(O=O+(ce/67108864|0)|0)+(me>>>26)|0)>>>26,O&=67108863}f.words[D]=$,w=O,O=_}return 0!==w?f.words[D]=w:f.length--,f.strip()}(this,l,f):re(this,l,f),w},te.prototype.makeRBT=function(l){for(var f=new Array(l),w=M.prototype._countBits(l)-1,_=0;_<l;_++)f[_]=this.revBin(_,w,l);return f},te.prototype.revBin=function(l,f,w){if(0===l||l===w-1)return l;for(var _=0,D=0;D<f;D++)_|=(1&l)<<f-D-1,l>>=1;return _},te.prototype.permute=function(l,f,w,_,D,O){for(var $=0;$<O;$++)_[$]=f[l[$]],D[$]=w[l[$]]},te.prototype.transform=function(l,f,w,_,D,O){this.permute(O,l,f,w,_,D);for(var $=1;$<D;$<<=1)for(var T=$<<1,c=Math.cos(2*Math.PI/T),E=Math.sin(2*Math.PI/T),q=0;q<D;q+=T)for(var X=c,ce=E,me=0;me<$;me++){var Te=w[q+me],Ke=_[q+me],Qe=w[q+me+$],ke=_[q+me+$],Ie=X*Qe-ce*ke;ke=X*ke+ce*Qe,w[q+me]=Te+(Qe=Ie),_[q+me]=Ke+ke,w[q+me+$]=Te-Qe,_[q+me+$]=Ke-ke,me!==T&&(Ie=c*X-E*ce,ce=c*ce+E*X,X=Ie)}},te.prototype.guessLen13b=function(l,f){var w=1|Math.max(f,l),_=1&w,D=0;for(w=w/2|0;w;w>>>=1)D++;return 1<<D+1+_},te.prototype.conjugate=function(l,f,w){if(!(w<=1))for(var _=0;_<w/2;_++){var D=l[_];l[_]=l[w-_-1],l[w-_-1]=D,D=f[_],f[_]=-f[w-_-1],f[w-_-1]=-D}},te.prototype.normalize13b=function(l,f){for(var w=0,_=0;_<f/2;_++){var D=8192*Math.round(l[2*_+1]/f)+Math.round(l[2*_]/f)+w;l[_]=67108863&D,w=D<67108864?0:D/67108864|0}return l},te.prototype.convert13b=function(l,f,w,_){for(var D=0,O=0;O<f;O++)w[2*O]=8191&(D+=0|l[O]),w[2*O+1]=8191&(D>>>=13),D>>>=13;for(O=2*f;O<_;++O)w[O]=0;N(0===D),N(!(-8192&D))},te.prototype.stub=function(l){for(var f=new Array(l),w=0;w<l;w++)f[w]=0;return f},te.prototype.mulp=function(l,f,w){var _=2*this.guessLen13b(l.length,f.length),D=this.makeRBT(_),O=this.stub(_),$=new Array(_),T=new Array(_),c=new Array(_),E=new Array(_),q=new Array(_),X=new Array(_),ce=w.words;ce.length=_,this.convert13b(l.words,l.length,$,_),this.convert13b(f.words,f.length,E,_),this.transform($,O,T,c,_,D),this.transform(E,O,q,X,_,D);for(var me=0;me<_;me++){var Te=T[me]*q[me]-c[me]*X[me];c[me]=T[me]*X[me]+c[me]*q[me],T[me]=Te}return this.conjugate(T,c,_),this.transform(T,c,ce,O,_,D),this.conjugate(ce,O,_),this.normalize13b(ce,_),w.negative=l.negative^f.negative,w.length=l.length+f.length,w.strip()},M.prototype.mul=function(l){var f=new M(null);return f.words=new Array(this.length+l.length),this.mulTo(l,f)},M.prototype.mulf=function(l){var f=new M(null);return f.words=new Array(this.length+l.length),re(this,l,f)},M.prototype.imul=function(l){return this.clone().mulTo(l,this)},M.prototype.imuln=function(l){N("number"==typeof l),N(l<67108864);for(var f=0,w=0;w<this.length;w++){var _=(0|this.words[w])*l,D=(67108863&_)+(67108863&f);f>>=26,f+=_/67108864|0,f+=D>>>26,this.words[w]=67108863&D}return 0!==f&&(this.words[w]=f,this.length++),this},M.prototype.muln=function(l){return this.clone().imuln(l)},M.prototype.sqr=function(){return this.mul(this)},M.prototype.isqr=function(){return this.imul(this.clone())},M.prototype.pow=function(l){var f=function W(B){for(var l=new Array(B.bitLength()),f=0;f<l.length;f++){var _=f%26;l[f]=(B.words[f/26|0]&1<<_)>>>_}return l}(l);if(0===f.length)return new M(1);for(var w=this,_=0;_<f.length&&0===f[_];_++,w=w.sqr());if(++_<f.length)for(var D=w.sqr();_<f.length;_++,D=D.sqr())0!==f[_]&&(w=w.mul(D));return w},M.prototype.iushln=function(l){N("number"==typeof l&&l>=0);var D,f=l%26,w=(l-f)/26,_=67108863>>>26-f<<26-f;if(0!==f){var O=0;for(D=0;D<this.length;D++){var $=this.words[D]&_;this.words[D]=(0|this.words[D])-$<<f|O,O=$>>>26-f}O&&(this.words[D]=O,this.length++)}if(0!==w){for(D=this.length-1;D>=0;D--)this.words[D+w]=this.words[D];for(D=0;D<w;D++)this.words[D]=0;this.length+=w}return this.strip()},M.prototype.ishln=function(l){return N(0===this.negative),this.iushln(l)},M.prototype.iushrn=function(l,f,w){var _;N("number"==typeof l&&l>=0),_=f?(f-f%26)/26:0;var D=l%26,O=Math.min((l-D)/26,this.length),$=67108863^67108863>>>D<<D,T=w;if(_-=O,_=Math.max(0,_),T){for(var c=0;c<O;c++)T.words[c]=this.words[c];T.length=O}if(0!==O)if(this.length>O)for(this.length-=O,c=0;c<this.length;c++)this.words[c]=this.words[c+O];else this.words[0]=0,this.length=1;var E=0;for(c=this.length-1;c>=0&&(0!==E||c>=_);c--){var q=0|this.words[c];this.words[c]=E<<26-D|q>>>D,E=q&$}return T&&0!==E&&(T.words[T.length++]=E),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},M.prototype.ishrn=function(l,f,w){return N(0===this.negative),this.iushrn(l,f,w)},M.prototype.shln=function(l){return this.clone().ishln(l)},M.prototype.ushln=function(l){return this.clone().iushln(l)},M.prototype.shrn=function(l){return this.clone().ishrn(l)},M.prototype.ushrn=function(l){return this.clone().iushrn(l)},M.prototype.testn=function(l){N("number"==typeof l&&l>=0);var f=l%26,w=(l-f)/26;return!(this.length<=w||!(this.words[w]&1<<f))},M.prototype.imaskn=function(l){N("number"==typeof l&&l>=0);var f=l%26,w=(l-f)/26;return N(0===this.negative,"imaskn works only with positive numbers"),this.length<=w?this:(0!==f&&w++,this.length=Math.min(w,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},M.prototype.maskn=function(l){return this.clone().imaskn(l)},M.prototype.iaddn=function(l){return N("number"==typeof l),N(l<67108864),l<0?this.isubn(-l):0!==this.negative?1===this.length&&(0|this.words[0])<l?(this.words[0]=l-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},M.prototype._iaddn=function(l){this.words[0]+=l;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},M.prototype.isubn=function(l){if(N("number"==typeof l),N(l<67108864),l<0)return this.iaddn(-l);if(0!==this.negative)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},M.prototype.addn=function(l){return this.clone().iaddn(l)},M.prototype.subn=function(l){return this.clone().isubn(l)},M.prototype.iabs=function(){return this.negative=0,this},M.prototype.abs=function(){return this.clone().iabs()},M.prototype._ishlnsubmul=function(l,f,w){var D;this._expand(l.length+w);var O,$=0;for(D=0;D<l.length;D++){O=(0|this.words[D+w])+$;var T=(0|l.words[D])*f;$=((O-=67108863&T)>>26)-(T/67108864|0),this.words[D+w]=67108863&O}for(;D<this.length-w;D++)$=(O=(0|this.words[D+w])+$)>>26,this.words[D+w]=67108863&O;if(0===$)return this.strip();for(N(-1===$),$=0,D=0;D<this.length;D++)$=(O=-(0|this.words[D])+$)>>26,this.words[D]=67108863&O;return this.negative=1,this.strip()},M.prototype._wordDiv=function(l,f){var w,_=this.clone(),D=l,O=0|D.words[D.length-1];0!=(w=26-this._countBits(O))&&(D=D.ushln(w),_.iushln(w),O=0|D.words[D.length-1]);var c,T=_.length-D.length;if("mod"!==f){(c=new M(null)).length=T+1,c.words=new Array(c.length);for(var E=0;E<c.length;E++)c.words[E]=0}var q=_.clone()._ishlnsubmul(D,1,T);0===q.negative&&(_=q,c&&(c.words[T]=1));for(var X=T-1;X>=0;X--){var ce=67108864*(0|_.words[D.length+X])+(0|_.words[D.length+X-1]);for(ce=Math.min(ce/O|0,67108863),_._ishlnsubmul(D,ce,X);0!==_.negative;)ce--,_.negative=0,_._ishlnsubmul(D,1,X),_.isZero()||(_.negative^=1);c&&(c.words[X]=ce)}return c&&c.strip(),_.strip(),"div"!==f&&0!==w&&_.iushrn(w),{div:c||null,mod:_}},M.prototype.divmod=function(l,f,w){return N(!l.isZero()),this.isZero()?{div:new M(0),mod:new M(0)}:0!==this.negative&&0===l.negative?(O=this.neg().divmod(l,f),"mod"!==f&&(_=O.div.neg()),"div"!==f&&(D=O.mod.neg(),w&&0!==D.negative&&D.iadd(l)),{div:_,mod:D}):0===this.negative&&0!==l.negative?(O=this.divmod(l.neg(),f),"mod"!==f&&(_=O.div.neg()),{div:_,mod:O.mod}):this.negative&l.negative?(O=this.neg().divmod(l.neg(),f),"div"!==f&&(D=O.mod.neg(),w&&0!==D.negative&&D.isub(l)),{div:O.div,mod:D}):l.length>this.length||this.cmp(l)<0?{div:new M(0),mod:this}:1===l.length?"div"===f?{div:this.divn(l.words[0]),mod:null}:"mod"===f?{div:null,mod:new M(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new M(this.modn(l.words[0]))}:this._wordDiv(l,f);var _,D,O},M.prototype.div=function(l){return this.divmod(l,"div",!1).div},M.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},M.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},M.prototype.divRound=function(l){var f=this.divmod(l);if(f.mod.isZero())return f.div;var w=0!==f.div.negative?f.mod.isub(l):f.mod,_=l.ushrn(1),D=l.andln(1),O=w.cmp(_);return O<0||1===D&&0===O?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},M.prototype.modn=function(l){N(l<=67108863);for(var f=(1<<26)%l,w=0,_=this.length-1;_>=0;_--)w=(f*w+(0|this.words[_]))%l;return w},M.prototype.idivn=function(l){N(l<=67108863);for(var f=0,w=this.length-1;w>=0;w--){var _=(0|this.words[w])+67108864*f;this.words[w]=_/l|0,f=_%l}return this.strip()},M.prototype.divn=function(l){return this.clone().idivn(l)},M.prototype.egcd=function(l){N(0===l.negative),N(!l.isZero());var f=this,w=l.clone();f=0!==f.negative?f.umod(l):f.clone();for(var _=new M(1),D=new M(0),O=new M(0),$=new M(1),T=0;f.isEven()&&w.isEven();)f.iushrn(1),w.iushrn(1),++T;for(var c=w.clone(),E=f.clone();!f.isZero();){for(var q=0,X=1;!(f.words[0]&X)&&q<26;++q,X<<=1);if(q>0)for(f.iushrn(q);q-- >0;)(_.isOdd()||D.isOdd())&&(_.iadd(c),D.isub(E)),_.iushrn(1),D.iushrn(1);for(var ce=0,me=1;!(w.words[0]&me)&&ce<26;++ce,me<<=1);if(ce>0)for(w.iushrn(ce);ce-- >0;)(O.isOdd()||$.isOdd())&&(O.iadd(c),$.isub(E)),O.iushrn(1),$.iushrn(1);f.cmp(w)>=0?(f.isub(w),_.isub(O),D.isub($)):(w.isub(f),O.isub(_),$.isub(D))}return{a:O,b:$,gcd:w.iushln(T)}},M.prototype._invmp=function(l){N(0===l.negative),N(!l.isZero());var q,f=this,w=l.clone();f=0!==f.negative?f.umod(l):f.clone();for(var _=new M(1),D=new M(0),O=w.clone();f.cmpn(1)>0&&w.cmpn(1)>0;){for(var $=0,T=1;!(f.words[0]&T)&&$<26;++$,T<<=1);if($>0)for(f.iushrn($);$-- >0;)_.isOdd()&&_.iadd(O),_.iushrn(1);for(var c=0,E=1;!(w.words[0]&E)&&c<26;++c,E<<=1);if(c>0)for(w.iushrn(c);c-- >0;)D.isOdd()&&D.iadd(O),D.iushrn(1);f.cmp(w)>=0?(f.isub(w),_.isub(D)):(w.isub(f),D.isub(_))}return(q=0===f.cmpn(1)?_:D).cmpn(0)<0&&q.iadd(l),q},M.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var f=this.clone(),w=l.clone();f.negative=0,w.negative=0;for(var _=0;f.isEven()&&w.isEven();_++)f.iushrn(1),w.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;w.isEven();)w.iushrn(1);var D=f.cmp(w);if(D<0){var O=f;f=w,w=O}else if(0===D||0===w.cmpn(1))break;f.isub(w)}return w.iushln(_)},M.prototype.invm=function(l){return this.egcd(l).a.umod(l)},M.prototype.isEven=function(){return!(1&this.words[0])},M.prototype.isOdd=function(){return!(1&~this.words[0])},M.prototype.andln=function(l){return this.words[0]&l},M.prototype.bincn=function(l){N("number"==typeof l);var f=l%26,w=(l-f)/26,_=1<<f;if(this.length<=w)return this._expand(w+1),this.words[w]|=_,this;for(var D=_,O=w;0!==D&&O<this.length;O++){var $=0|this.words[O];D=($+=D)>>>26,this.words[O]=$&=67108863}return 0!==D&&(this.words[O]=D,this.length++),this},M.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},M.prototype.cmpn=function(l){var w,f=l<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)w=1;else{f&&(l=-l),N(l<=67108863,"Number is too big");var _=0|this.words[0];w=_===l?0:_<l?-1:1}return 0!==this.negative?0|-w:w},M.prototype.cmp=function(l){if(0!==this.negative&&0===l.negative)return-1;if(0===this.negative&&0!==l.negative)return 1;var f=this.ucmp(l);return 0!==this.negative?0|-f:f},M.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var f=0,w=this.length-1;w>=0;w--){var _=0|this.words[w],D=0|l.words[w];if(_!==D){_<D?f=-1:_>D&&(f=1);break}}return f},M.prototype.gtn=function(l){return 1===this.cmpn(l)},M.prototype.gt=function(l){return 1===this.cmp(l)},M.prototype.gten=function(l){return this.cmpn(l)>=0},M.prototype.gte=function(l){return this.cmp(l)>=0},M.prototype.ltn=function(l){return-1===this.cmpn(l)},M.prototype.lt=function(l){return-1===this.cmp(l)},M.prototype.lten=function(l){return this.cmpn(l)<=0},M.prototype.lte=function(l){return this.cmp(l)<=0},M.prototype.eqn=function(l){return 0===this.cmpn(l)},M.prototype.eq=function(l){return 0===this.cmp(l)},M.red=function(l){return new Oe(l)},M.prototype.toRed=function(l){return N(!this.red,"Already a number in reduction context"),N(0===this.negative,"red works only with positives"),l.convertTo(this)._forceRed(l)},M.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},M.prototype._forceRed=function(l){return this.red=l,this},M.prototype.forceRed=function(l){return N(!this.red,"Already a number in reduction context"),this._forceRed(l)},M.prototype.redAdd=function(l){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},M.prototype.redIAdd=function(l){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},M.prototype.redSub=function(l){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},M.prototype.redISub=function(l){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},M.prototype.redShl=function(l){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},M.prototype.redMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},M.prototype.redIMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},M.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},M.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},M.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},M.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},M.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},M.prototype.redPow=function(l){return N(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var ue={k256:null,p224:null,p192:null,p25519:null};function pe(B,l){this.name=B,this.p=new M(l,16),this.n=this.p.bitLength(),this.k=new M(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function he(){pe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ve(){pe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ge(){pe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Me(){pe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Oe(B){if("string"==typeof B){var l=M._prime(B);this.m=l.p,this.prime=l}else N(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}function je(B){Oe.call(this,B),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new M(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}pe.prototype._tmp=function(){var l=new M(null);return l.words=new Array(Math.ceil(this.n/13)),l},pe.prototype.ireduce=function(l){var w,f=l;do{this.split(f,this.tmp),w=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(w>this.n);var _=w<this.n?-1:f.ucmp(this.p);return 0===_?(f.words[0]=0,f.length=1):_>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},pe.prototype.split=function(l,f){l.iushrn(this.n,0,f)},pe.prototype.imulK=function(l){return l.imul(this.k)},Y(he,pe),he.prototype.split=function(l,f){for(var w=4194303,_=Math.min(l.length,9),D=0;D<_;D++)f.words[D]=l.words[D];if(f.length=_,l.length<=9)return l.words[0]=0,void(l.length=1);var O=l.words[9];for(f.words[f.length++]=O&w,D=10;D<l.length;D++){var $=0|l.words[D];l.words[D-10]=($&w)<<4|O>>>22,O=$}l.words[D-10]=O>>>=22,l.length-=0===O&&l.length>10?10:9},he.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var f=0,w=0;w<l.length;w++){var _=0|l.words[w];l.words[w]=67108863&(f+=977*_),f=64*_+(f/67108864|0)}return 0===l.words[l.length-1]&&(l.length--,0===l.words[l.length-1]&&l.length--),l},Y(ve,pe),Y(ge,pe),Y(Me,pe),Me.prototype.imulK=function(l){for(var f=0,w=0;w<l.length;w++){var _=19*(0|l.words[w])+f,D=67108863&_;_>>>=26,l.words[w]=D,f=_}return 0!==f&&(l.words[l.length++]=f),l},M._prime=function(l){if(ue[l])return ue[l];var f;if("k256"===l)f=new he;else if("p224"===l)f=new ve;else if("p192"===l)f=new ge;else{if("p25519"!==l)throw new Error("Unknown prime "+l);f=new Me}return ue[l]=f,f},Oe.prototype._verify1=function(l){N(0===l.negative,"red works only with positives"),N(l.red,"red works only with red numbers")},Oe.prototype._verify2=function(l,f){N(!(l.negative|f.negative),"red works only with positives"),N(l.red&&l.red===f.red,"red works only with red numbers")},Oe.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},Oe.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},Oe.prototype.add=function(l,f){this._verify2(l,f);var w=l.add(f);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},Oe.prototype.iadd=function(l,f){this._verify2(l,f);var w=l.iadd(f);return w.cmp(this.m)>=0&&w.isub(this.m),w},Oe.prototype.sub=function(l,f){this._verify2(l,f);var w=l.sub(f);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},Oe.prototype.isub=function(l,f){this._verify2(l,f);var w=l.isub(f);return w.cmpn(0)<0&&w.iadd(this.m),w},Oe.prototype.shl=function(l,f){return this._verify1(l),this.imod(l.ushln(f))},Oe.prototype.imul=function(l,f){return this._verify2(l,f),this.imod(l.imul(f))},Oe.prototype.mul=function(l,f){return this._verify2(l,f),this.imod(l.mul(f))},Oe.prototype.isqr=function(l){return this.imul(l,l.clone())},Oe.prototype.sqr=function(l){return this.mul(l,l)},Oe.prototype.sqrt=function(l){if(l.isZero())return l.clone();var f=this.m.andln(3);if(N(f%2==1),3===f){var w=this.m.add(new M(1)).iushrn(2);return this.pow(l,w)}for(var _=this.m.subn(1),D=0;!_.isZero()&&0===_.andln(1);)D++,_.iushrn(1);N(!_.isZero());var O=new M(1).toRed(this),$=O.redNeg(),T=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new M(2*c*c).toRed(this);0!==this.pow(c,T).cmp($);)c.redIAdd($);for(var E=this.pow(c,_),q=this.pow(l,_.addn(1).iushrn(1)),X=this.pow(l,_),ce=D;0!==X.cmp(O);){for(var me=X,Te=0;0!==me.cmp(O);Te++)me=me.redSqr();N(Te<ce);var Ke=this.pow(E,new M(1).iushln(ce-Te-1));q=q.redMul(Ke),E=Ke.redSqr(),X=X.redMul(E),ce=Te}return q},Oe.prototype.invm=function(l){var f=l._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},Oe.prototype.pow=function(l,f){if(f.isZero())return new M(1).toRed(this);if(0===f.cmpn(1))return l.clone();var _=new Array(16);_[0]=new M(1).toRed(this),_[1]=l;for(var D=2;D<_.length;D++)_[D]=this.mul(_[D-1],l);var O=_[0],$=0,T=0,c=f.bitLength()%26;for(0===c&&(c=26),D=f.length-1;D>=0;D--){for(var E=f.words[D],q=c-1;q>=0;q--){var X=E>>q&1;O!==_[0]&&(O=this.sqr(O)),0!==X||0!==$?($<<=1,$|=X,(4==++T||0===D&&0===q)&&(O=this.mul(O,_[$]),T=0,$=0)):T=0}c=26}return O},Oe.prototype.convertTo=function(l){var f=l.umod(this.m);return f===l?f.clone():f},Oe.prototype.convertFrom=function(l){var f=l.clone();return f.red=null,f},M.mont=function(l){return new je(l)},Y(je,Oe),je.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},je.prototype.convertFrom=function(l){var f=this.imod(l.mul(this.rinv));return f.red=null,f},je.prototype.imul=function(l,f){if(l.isZero()||f.isZero())return l.words[0]=0,l.length=1,l;var w=l.imul(f),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=w.isub(_).iushrn(this.shift),O=D;return D.cmp(this.m)>=0?O=D.isub(this.m):D.cmpn(0)<0&&(O=D.iadd(this.m)),O._forceRed(this)},je.prototype.mul=function(l,f){if(l.isZero()||f.isZero())return new M(0)._forceRed(this);var w=l.mul(f),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=w.isub(_).iushrn(this.shift),O=D;return D.cmp(this.m)>=0?O=D.isub(this.m):D.cmpn(0)<0&&(O=D.iadd(this.m)),O._forceRed(this)},je.prototype.invm=function(l){return this.imod(l._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ye=A.nmd(Ye),this)},48967:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.ephemeralKeySize=J.symmetricNonceLength=J.symmetricAlgorithm=J.isHkdfKeyCompressed=J.isEphemeralKeyCompressed=J.ellipticCurve=J.ECIES_CONFIG=void 0;var h=A(29277);J.ECIES_CONFIG=new(function(){return function H(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16}}()),J.ellipticCurve=function(){return J.ECIES_CONFIG.ellipticCurve},J.isEphemeralKeyCompressed=function(){return J.ECIES_CONFIG.isEphemeralKeyCompressed},J.isHkdfKeyCompressed=function(){return J.ECIES_CONFIG.isHkdfKeyCompressed},J.symmetricAlgorithm=function(){return J.ECIES_CONFIG.symmetricAlgorithm},J.symmetricNonceLength=function(){return J.ECIES_CONFIG.symmetricNonceLength},J.ephemeralKeySize=function(){var H={secp256k1:J.ECIES_CONFIG.isEphemeralKeyCompressed?h.COMPRESSED_PUBLIC_KEY_SIZE:h.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:h.CURVE25519_PUBLIC_KEY_SIZE,ed25519:h.CURVE25519_PUBLIC_KEY_SIZE};if(J.ECIES_CONFIG.ellipticCurve in H)return H[J.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}},29277:(Ye,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.AEAD_TAG_LENGTH=J.XCHACHA20_NONCE_LENGTH=J.CURVE25519_PUBLIC_KEY_SIZE=J.ETH_PUBLIC_KEY_SIZE=J.UNCOMPRESSED_PUBLIC_KEY_SIZE=J.COMPRESSED_PUBLIC_KEY_SIZE=J.SECRET_KEY_LENGTH=void 0,J.SECRET_KEY_LENGTH=32,J.COMPRESSED_PUBLIC_KEY_SIZE=33,J.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,J.ETH_PUBLIC_KEY_SIZE=64,J.CURVE25519_PUBLIC_KEY_SIZE=32,J.XCHACHA20_NONCE_LENGTH=24,J.AEAD_TAG_LENGTH=16},63397:(Ye,J,A)=>{"use strict";J.VV=J.Yc=J.w=void 0;var x=A(23790),N=A(48967),Y=A(40774),M=A(77399);J.w=function j(V,P){var ae,ee=new Y.PrivateKey,W=V instanceof Uint8Array?new Y.PublicKey(V):Y.PublicKey.fromHex(V),Q=ee.encapsulate(W),de=(0,M.aesEncrypt)(Q,P);return ae=(0,N.isEphemeralKeyCompressed)()?ee.publicKey.compressed:ee.publicKey.uncompressed,Buffer.from((0,x.concatBytes)(ae,de))},J.Yc=function R(V,P){var ee=V instanceof Uint8Array?new Y.PrivateKey(V):Y.PrivateKey.fromHex(V),W=(0,N.ephemeralKeySize)(),Q=new Y.PublicKey(P.subarray(0,W)),de=P.subarray(W),ae=Q.decapsulate(ee);return Buffer.from((0,M.aesDecrypt)(ae,de))};var U=A(48967);Object.defineProperty(J,"VV",{enumerable:!0,get:function(){return U.ECIES_CONFIG}});A(40774)},1210:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.PrivateKey=void 0;var h=A(23790),x=A(48967),N=A(77399),Y=A(40762),M=function(){function j(R){var U=void 0===R?(0,N.getValidSecret)():R;if(!(0,N.isValidPrivateKey)(U))throw new Error("Invalid private key");this.data=U,this.publicKey=new Y.PublicKey((0,N.getPublicKey)(U))}return j.fromHex=function(R){return new j((0,N.decodeHex)(R))},Object.defineProperty(j.prototype,"secret",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),j.prototype.toHex=function(){return(0,h.bytesToHex)(this.data)},j.prototype.encapsulate=function(R){var U,H;return(0,x.isHkdfKeyCompressed)()?(U=this.publicKey.compressed,H=this.multiply(R,!0)):(U=this.publicKey.uncompressed,H=this.multiply(R,!1)),(0,N.getSharedKey)(U,H)},j.prototype.multiply=function(R,U){return void 0===U&&(U=!1),(0,N.getSharedPoint)(this.data,R.compressed,U)},j.prototype.equals=function(R){return(0,h.equalBytes)(this.data,R.data)},j}();J.PrivateKey=M},40762:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.PublicKey=void 0;var h=A(23790),x=A(48967),N=A(77399),Y=function(){function M(j){this.data=(0,N.convertPublicKeyFormat)(j,!0)}return M.fromHex=function(j){return new M((0,N.hexToPublicKey)(j))},Object.defineProperty(M.prototype,"uncompressed",{get:function(){return Buffer.from((0,N.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"compressed",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),M.prototype.toHex=function(j){return void 0===j&&(j=!0),(0,h.bytesToHex)(j?this.data:this.uncompressed)},M.prototype.decapsulate=function(j){var R,U;return(0,x.isHkdfKeyCompressed)()?(R=this.data,U=j.multiply(this,!0)):(R=this.uncompressed,U=j.multiply(this,!1)),(0,N.getSharedKey)(R,U)},M.prototype.equals=function(j){return(0,h.equalBytes)(this.data,j.data)},M}();J.PublicKey=Y},40774:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.PublicKey=J.PrivateKey=void 0;var h=A(1210);Object.defineProperty(J,"PrivateKey",{enumerable:!0,get:function(){return h.PrivateKey}});var x=A(40762);Object.defineProperty(J,"PublicKey",{enumerable:!0,get:function(){return x.PublicKey}})},1849:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.aes256gcm=void 0;var h=A(23790),x=A(91426),N=A(29277);J.aes256gcm=function Y(M,j,R){return{tagLength:N.AEAD_TAG_LENGTH,encrypt:function(V){var P=(0,x.createCipheriv)("aes-256-gcm",M,j);R&&P.setAAD(R);var ee=P.update(V),W=P.final();return(0,h.concatBytes)(ee,W,P.getAuthTag())},decrypt:function(V){var P=V.subarray(0,V.length-N.AEAD_TAG_LENGTH),ee=V.subarray(-N.AEAD_TAG_LENGTH),W=(0,x.createDecipheriv)("aes-256-gcm",M,j);R&&W.setAAD(R),W.setAuthTag(ee);var Q=W.update(P),de=W.final();return(0,h.concatBytes)(Q,de)}}}},77553:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.hexToPublicKey=J.convertPublicKeyFormat=J.getSharedPoint=J.getSharedKey=J.getPublicKey=J.isValidPrivateKey=J.getValidSecret=void 0;var h=A(23790),x=A(42098),N=A(57340),Y=A(91717),M=A(48967),j=A(29277),R=A(99666),U=A(63364);function V(re){return ae(function(te){return te.utils.isValidPrivateKey(re)},function(){return!0},function(){return!0})}function ae(re,te,ue){if("secp256k1"===(0,M.ellipticCurve)())return re(Y.secp256k1);if("x25519"===(0,M.ellipticCurve)())return te(N.x25519);if("ed25519"===(0,M.ellipticCurve)())return ue(N.ed25519);throw new Error("Not implemented")}J.getValidSecret=function H(){var re;do{re=(0,x.randomBytes)(j.SECRET_KEY_LENGTH)}while(!V(re));return re},J.isValidPrivateKey=V,J.getPublicKey=function P(re){return ae(function(te){return te.getPublicKey(re)},function(te){return te.getPublicKey(re)},function(te){return te.getPublicKey(re)})},J.getSharedKey=function ee(re,te){return(0,U.deriveKey)((0,h.concatBytes)(re,te))},J.getSharedPoint=function W(re,te,ue){return ae(function(pe){return pe.getSharedSecret(re,te,ue)},function(pe){return pe.getSharedSecret(re,te)},function(pe){var he=pe.utils.getExtendedPublicKey(re).scalar;return pe.ExtendedPoint.fromHex(te).multiply(he).toRawBytes()})},J.convertPublicKeyFormat=function Q(re,te){return ae(function(ue){return ue.getSharedSecret(BigInt(1),re,te)},function(){return re},function(){return re})},J.hexToPublicKey=function de(re){var te=(0,R.decodeHex)(re);return ae(function(){if(te.length===j.ETH_PUBLIC_KEY_SIZE){var ue=new Uint8Array(1+te.length);return ue.set([4]),ue.set(te,1),ue}return te},function(){return te},function(){return te})}},99666:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.decodeHex=J.remove0x=void 0;var h=A(23790);function x(Y){return Y.startsWith("0x")||Y.startsWith("0X")?Y.slice(2):Y}J.remove0x=x,J.decodeHex=function N(Y){return(0,h.hexToBytes)(x(Y))}},77399:function(Ye,J,A){"use strict";var h=this&&this.__createBinding||(Object.create?function(N,Y,M,j){void 0===j&&(j=M);var R=Object.getOwnPropertyDescriptor(Y,M);(!R||("get"in R?!Y.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return Y[M]}}),Object.defineProperty(N,j,R)}:function(N,Y,M,j){void 0===j&&(j=M),N[j]=Y[M]}),x=this&&this.__exportStar||function(N,Y){for(var M in N)"default"!==M&&!Object.prototype.hasOwnProperty.call(Y,M)&&h(Y,N,M)};Object.defineProperty(J,"__esModule",{value:!0}),x(A(77553),J),x(A(99666),J),x(A(63364),J)},63364:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.deriveKey=J.aesDecrypt=J.aesEncrypt=void 0;var h=A(59219),x=A(23790),N=A(42098),Y=A(57334),M=A(1806),j=A(48967),R=A(29277),U=A(1849);function ee(de,ae,re){var te=(0,j.symmetricAlgorithm)(),ue=de?W:Q;if("aes-256-gcm"===te)return ue(U.aes256gcm,ae,re,(0,j.symmetricNonceLength)());if("xchacha20"===te)return ue(h.xchacha20poly1305,ae,re,R.XCHACHA20_NONCE_LENGTH);throw new Error("Not implemented")}function W(de,ae,re,te){var ue=(0,N.randomBytes)(te),he=de(ae,ue).encrypt(re),ve=he.subarray(0,he.length-R.AEAD_TAG_LENGTH),ge=he.subarray(-R.AEAD_TAG_LENGTH);return(0,x.concatBytes)(ue,ge,ve)}function Q(de,ae,re,te){var ue=te+R.AEAD_TAG_LENGTH,pe=re.subarray(0,te),he=re.subarray(te,ue),ve=re.subarray(ue),ge=de(ae,Uint8Array.from(pe)),Me=(0,x.concatBytes)(ve,he);return ge.decrypt(Me)}J.aesEncrypt=function H(de,ae){return ee(!0,de,ae)},J.aesDecrypt=function V(de,ae){return ee(!1,de,ae)},J.deriveKey=function P(de){return(0,Y.hkdf)(M.sha256,de,void 0,void 0,32)}},10475:(Ye,J)=>{"use strict";function A(R){if(!Number.isSafeInteger(R)||R<0)throw new Error(`Wrong positive integer: ${R}`)}function h(R){if("boolean"!=typeof R)throw new Error(`Expected boolean, not ${R}`)}function x(R,...U){if(!(R instanceof Uint8Array))throw new Error("Expected Uint8Array");if(U.length>0&&!U.includes(R.length))throw new Error(`Expected Uint8Array of length ${U}, not of length=${R.length}`)}function N(R){if("function"!=typeof R||"function"!=typeof R.create)throw new Error("hash must be wrapped by utils.wrapConstructor");A(R.outputLen),A(R.blockLen)}function Y(R,U=!0){if(R.destroyed)throw new Error("Hash instance has been destroyed");if(U&&R.finished)throw new Error("Hash#digest() has already been called")}function M(R,U){x(R);const H=U.outputLen;if(R.length<H)throw new Error(`digestInto() expects output buffer of length at least ${H}`)}Object.defineProperty(J,"__esModule",{value:!0}),J.output=J.exists=J.hash=J.bytes=J.bool=J.number=void 0,J.number=A,J.bool=h,J.bytes=x,J.hash=N,J.exists=Y,J.output=M,J.default={number:A,bool:h,bytes:x,hash:N,exists:Y,output:M}},17035:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.poly1305=J.wrapConstructorWithKey=void 0;const h=A(23790),x=A(10475),N=(j,R)=>255&j[R++]|(255&j[R++])<<8;class Y{constructor(R){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,R=(0,h.toBytes)(R),(0,h.ensureBytes)(R,32);const U=N(R,0),H=N(R,2),V=N(R,4),P=N(R,6),ee=N(R,8),W=N(R,10),Q=N(R,12),de=N(R,14);this.r[0]=8191&U,this.r[1]=8191&(U>>>13|H<<3),this.r[2]=7939&(H>>>10|V<<6),this.r[3]=8191&(V>>>7|P<<9),this.r[4]=255&(P>>>4|ee<<12),this.r[5]=ee>>>1&8190,this.r[6]=8191&(ee>>>14|W<<2),this.r[7]=8065&(W>>>11|Q<<5),this.r[8]=8191&(Q>>>8|de<<8),this.r[9]=de>>>5&127;for(let ae=0;ae<8;ae++)this.pad[ae]=N(R,16+2*ae)}process(R,U,H=!1){const V=H?0:2048,{h:P,r:ee}=this,W=ee[0],Q=ee[1],de=ee[2],ae=ee[3],re=ee[4],te=ee[5],ue=ee[6],pe=ee[7],he=ee[8],ve=ee[9],ge=N(R,U+0),Me=N(R,U+2),Oe=N(R,U+4),je=N(R,U+6),B=N(R,U+8),l=N(R,U+10),f=N(R,U+12),w=N(R,U+14);let _=P[0]+(8191&ge),D=P[1]+(8191&(ge>>>13|Me<<3)),O=P[2]+(8191&(Me>>>10|Oe<<6)),$=P[3]+(8191&(Oe>>>7|je<<9)),T=P[4]+(8191&(je>>>4|B<<12)),c=P[5]+(B>>>1&8191),E=P[6]+(8191&(B>>>14|l<<2)),q=P[7]+(8191&(l>>>11|f<<5)),X=P[8]+(8191&(f>>>8|w<<8)),ce=P[9]+(w>>>5|V),me=0,Te=me+_*W+D*(5*ve)+O*(5*he)+$*(5*pe)+T*(5*ue);me=Te>>>13,Te&=8191,Te+=c*(5*te)+E*(5*re)+q*(5*ae)+X*(5*de)+ce*(5*Q),me+=Te>>>13,Te&=8191;let Ke=me+_*Q+D*W+O*(5*ve)+$*(5*he)+T*(5*pe);me=Ke>>>13,Ke&=8191,Ke+=c*(5*ue)+E*(5*te)+q*(5*re)+X*(5*ae)+ce*(5*de),me+=Ke>>>13,Ke&=8191;let Qe=me+_*de+D*Q+O*W+$*(5*ve)+T*(5*he);me=Qe>>>13,Qe&=8191,Qe+=c*(5*pe)+E*(5*ue)+q*(5*te)+X*(5*re)+ce*(5*ae),me+=Qe>>>13,Qe&=8191;let ke=me+_*ae+D*de+O*Q+$*W+T*(5*ve);me=ke>>>13,ke&=8191,ke+=c*(5*he)+E*(5*pe)+q*(5*ue)+X*(5*te)+ce*(5*re),me+=ke>>>13,ke&=8191;let Ie=me+_*re+D*ae+O*de+$*Q+T*W;me=Ie>>>13,Ie&=8191,Ie+=c*(5*ve)+E*(5*he)+q*(5*pe)+X*(5*ue)+ce*(5*te),me+=Ie>>>13,Ie&=8191;let Xe=me+_*te+D*re+O*ae+$*de+T*Q;me=Xe>>>13,Xe&=8191,Xe+=c*W+E*(5*ve)+q*(5*he)+X*(5*pe)+ce*(5*ue),me+=Xe>>>13,Xe&=8191;let Se=me+_*ue+D*te+O*re+$*ae+T*de;me=Se>>>13,Se&=8191,Se+=c*Q+E*W+q*(5*ve)+X*(5*he)+ce*(5*pe),me+=Se>>>13,Se&=8191;let Le=me+_*pe+D*ue+O*te+$*re+T*ae;me=Le>>>13,Le&=8191,Le+=c*de+E*Q+q*W+X*(5*ve)+ce*(5*he),me+=Le>>>13,Le&=8191;let Ee=me+_*he+D*pe+O*ue+$*te+T*re;me=Ee>>>13,Ee&=8191,Ee+=c*ae+E*de+q*Q+X*W+ce*(5*ve),me+=Ee>>>13,Ee&=8191;let be=me+_*ve+D*he+O*pe+$*ue+T*te;me=be>>>13,be&=8191,be+=c*re+E*ae+q*de+X*Q+ce*W,me+=be>>>13,be&=8191,me=(me<<2)+me|0,me=me+Te|0,Te=8191&me,me>>>=13,Ke+=me,P[0]=Te,P[1]=Ke,P[2]=Qe,P[3]=ke,P[4]=Ie,P[5]=Xe,P[6]=Se,P[7]=Le,P[8]=Ee,P[9]=be}finalize(){const{h:R,pad:U}=this,H=new Uint16Array(10);let V=R[1]>>>13;R[1]&=8191;for(let W=2;W<10;W++)R[W]+=V,V=R[W]>>>13,R[W]&=8191;R[0]+=5*V,V=R[0]>>>13,R[0]&=8191,R[1]+=V,V=R[1]>>>13,R[1]&=8191,R[2]+=V,H[0]=R[0]+5,V=H[0]>>>13,H[0]&=8191;for(let W=1;W<10;W++)H[W]=R[W]+V,V=H[W]>>>13,H[W]&=8191;H[9]-=8192;let P=(1^V)-1;for(let W=0;W<10;W++)H[W]&=P;P=~P;for(let W=0;W<10;W++)R[W]=R[W]&P|H[W];R[0]=65535&(R[0]|R[1]<<13),R[1]=65535&(R[1]>>>3|R[2]<<10),R[2]=65535&(R[2]>>>6|R[3]<<7),R[3]=65535&(R[3]>>>9|R[4]<<4),R[4]=65535&(R[4]>>>12|R[5]<<1|R[6]<<14),R[5]=65535&(R[6]>>>2|R[7]<<11),R[6]=65535&(R[7]>>>5|R[8]<<8),R[7]=65535&(R[8]>>>8|R[9]<<5);let ee=R[0]+U[0];R[0]=65535&ee;for(let W=1;W<8;W++)ee=(R[W]+U[W]|0)+(ee>>>16)|0,R[W]=65535&ee}update(R){x.default.exists(this);const{buffer:U,blockLen:H}=this,V=(R=(0,h.toBytes)(R)).length;for(let P=0;P<V;){const ee=Math.min(H-this.pos,V-P);if(ee!==H)U.set(R.subarray(P,P+ee),this.pos),this.pos+=ee,P+=ee,this.pos===H&&(this.process(U,0,!1),this.pos=0);else for(;H<=V-P;P+=H)this.process(R,P)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(R){x.default.exists(this),x.default.output(R,this),this.finished=!0;const{buffer:U,h:H}=this;let{pos:V}=this;if(V){for(U[V++]=1;V<16;V++)U[V]=0;this.process(U,0,!0)}this.finalize();let P=0;for(let ee=0;ee<8;ee++)R[P++]=H[ee]>>>0,R[P++]=H[ee]>>>8;return R}digest(){const{buffer:R,outputLen:U}=this;this.digestInto(R);const H=R.slice(0,U);return this.destroy(),H}}function M(j){const R=(H,V)=>j(V).update((0,h.toBytes)(H)).digest(),U=j(new Uint8Array(32));return R.outputLen=U.outputLen,R.blockLen=U.blockLen,R.create=H=>j(H),R}J.wrapConstructorWithKey=M,J.poly1305=M(j=>new Y(j))},70580:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.salsaBasic=void 0;const h=A(10475),x=A(23790),N=(0,x.utf8ToBytes)("expand 16-byte k"),Y=(0,x.utf8ToBytes)("expand 32-byte k"),M=(0,x.u32)(N),j=(0,x.u32)(Y),R=H=>!(H.byteOffset%4);J.salsaBasic=H=>{const{core:V,rounds:P,counterRight:ee,counterLen:W,allow128bitKeys:Q,extendNonceFn:de,blockLen:ae}=(0,x.checkOpts)({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},H);h.default.number(W),h.default.number(P),h.default.number(ae),h.default.bool(ee),h.default.bool(Q);const re=ae/4;if(ae%4!=0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return(te,ue,pe,he,ve=0)=>{if(h.default.bytes(te),h.default.bytes(ue),h.default.bytes(pe),he||(he=new Uint8Array(pe.length)),h.default.bytes(he),h.default.number(ve),ve<0||ve>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(he.length<pe.length)throw new Error(`Salsa/ChaCha: output (${he.length}) is shorter than data (${pe.length})`);const ge=[];let Me,Oe;if(32===te.length)R(te)?Me=te:(Me=te.slice(),ge.push(Me)),Oe=j;else{if(16!==te.length||!Q)throw new Error(`Salsa/ChaCha: invalid 32-byte key, got length=${te.length}`);Me=new Uint8Array(32),Me.set(te),Me.set(te,16),Oe=M,ge.push(Me)}if(R(ue)||(ue=ue.slice(),ge.push(ue)),de){if(ue.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");Me=de(Oe,Me,ue.subarray(0,16),new Uint8Array(32)),ge.push(Me),ue=ue.subarray(16)}const je=16-W;if(ue.length!==je)throw new Error(`Salsa/ChaCha: nonce must be ${je} or 16 bytes`);if(12!==je){const $=new Uint8Array(12);$.set(ue,ee?0:12-ue.length),ge.push(ue=$)}const B=new Uint8Array(ae),l=(0,x.u32)(B),f=(0,x.u32)(Me),w=(0,x.u32)(ue),_=R(pe)&&(0,x.u32)(pe),D=R(he)&&(0,x.u32)(he);ge.push(l);const O=pe.length;for(let $=0,T=ve;$<O;T++){if(V(Oe,f,w,l,T,P),T>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const c=Math.min(ae,O-$);if(c===ae&&D&&_){const E=$/4;if($%4!=0)throw new Error("Salsa/ChaCha: invalid block position");for(let q=0;q<re;q++)D[E+q]=_[E+q]^l[q];$+=ae}else{for(let E=0;E<c;E++)he[$+E]=pe[$+E]^B[E];$+=c}}for(let $=0;$<ge.length;$++)ge[$].fill(0);return he}}},59219:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.xchacha20poly1305=J.chacha20poly1305=J._poly1305_aead=J.chacha12=J.chacha8=J.xchacha20=J.chacha20=J.chacha20orig=J.hchacha=void 0;const h=A(23790),x=A(17035),N=A(70580),Y=(P,ee)=>P<<ee|P>>>32-ee;function M(P,ee,W,Q,de,ae=20){let re=P[0],te=P[1],ue=P[2],pe=P[3],he=ee[0],ve=ee[1],ge=ee[2],Me=ee[3],Oe=ee[4],je=ee[5],B=ee[6],l=ee[7],f=de,w=W[0],_=W[1],D=W[2],O=re,$=te,T=ue,c=pe,E=he,q=ve,X=ge,ce=Me,me=Oe,Te=je,Ke=B,Qe=l,ke=f,Ie=w,Xe=_,Se=D;for(let Ee=0;Ee<ae;Ee+=2)O=O+E|0,ke=Y(ke^O,16),me=me+ke|0,E=Y(E^me,12),O=O+E|0,ke=Y(ke^O,8),me=me+ke|0,E=Y(E^me,7),$=$+q|0,Ie=Y(Ie^$,16),Te=Te+Ie|0,q=Y(q^Te,12),$=$+q|0,Ie=Y(Ie^$,8),Te=Te+Ie|0,q=Y(q^Te,7),T=T+X|0,Xe=Y(Xe^T,16),Ke=Ke+Xe|0,X=Y(X^Ke,12),T=T+X|0,Xe=Y(Xe^T,8),Ke=Ke+Xe|0,X=Y(X^Ke,7),c=c+ce|0,Se=Y(Se^c,16),Qe=Qe+Se|0,ce=Y(ce^Qe,12),c=c+ce|0,Se=Y(Se^c,8),Qe=Qe+Se|0,ce=Y(ce^Qe,7),O=O+q|0,Se=Y(Se^O,16),Ke=Ke+Se|0,q=Y(q^Ke,12),O=O+q|0,Se=Y(Se^O,8),Ke=Ke+Se|0,q=Y(q^Ke,7),$=$+X|0,ke=Y(ke^$,16),Qe=Qe+ke|0,X=Y(X^Qe,12),$=$+X|0,ke=Y(ke^$,8),Qe=Qe+ke|0,X=Y(X^Qe,7),T=T+ce|0,Ie=Y(Ie^T,16),me=me+Ie|0,ce=Y(ce^me,12),T=T+ce|0,Ie=Y(Ie^T,8),me=me+Ie|0,ce=Y(ce^me,7),c=c+E|0,Xe=Y(Xe^c,16),Te=Te+Xe|0,E=Y(E^Te,12),c=c+E|0,Xe=Y(Xe^c,8),Te=Te+Xe|0,E=Y(E^Te,7);let Le=0;Q[Le++]=re+O|0,Q[Le++]=te+$|0,Q[Le++]=ue+T|0,Q[Le++]=pe+c|0,Q[Le++]=he+E|0,Q[Le++]=ve+q|0,Q[Le++]=ge+X|0,Q[Le++]=Me+ce|0,Q[Le++]=Oe+me|0,Q[Le++]=je+Te|0,Q[Le++]=B+Ke|0,Q[Le++]=l+Qe|0,Q[Le++]=f+ke|0,Q[Le++]=w+Ie|0,Q[Le++]=_+Xe|0,Q[Le++]=D+Se|0}function j(P,ee,W,Q){const de=(0,h.u32)(ee),ae=(0,h.u32)(W),re=(0,h.u32)(Q);let te=P[0],ue=P[1],pe=P[2],he=P[3],ve=de[0],ge=de[1],Me=de[2],Oe=de[3],je=de[4],B=de[5],l=de[6],f=de[7],w=ae[0],_=ae[1],D=ae[2],O=ae[3];for(let $=0;$<20;$+=2)te=te+ve|0,w=Y(w^te,16),je=je+w|0,ve=Y(ve^je,12),te=te+ve|0,w=Y(w^te,8),je=je+w|0,ve=Y(ve^je,7),ue=ue+ge|0,_=Y(_^ue,16),B=B+_|0,ge=Y(ge^B,12),ue=ue+ge|0,_=Y(_^ue,8),B=B+_|0,ge=Y(ge^B,7),pe=pe+Me|0,D=Y(D^pe,16),l=l+D|0,Me=Y(Me^l,12),pe=pe+Me|0,D=Y(D^pe,8),l=l+D|0,Me=Y(Me^l,7),he=he+Oe|0,O=Y(O^he,16),f=f+O|0,Oe=Y(Oe^f,12),he=he+Oe|0,O=Y(O^he,8),f=f+O|0,Oe=Y(Oe^f,7),te=te+ge|0,O=Y(O^te,16),l=l+O|0,ge=Y(ge^l,12),te=te+ge|0,O=Y(O^te,8),l=l+O|0,ge=Y(ge^l,7),ue=ue+Me|0,w=Y(w^ue,16),f=f+w|0,Me=Y(Me^f,12),ue=ue+Me|0,w=Y(w^ue,8),f=f+w|0,Me=Y(Me^f,7),pe=pe+Oe|0,_=Y(_^pe,16),je=je+_|0,Oe=Y(Oe^je,12),pe=pe+Oe|0,_=Y(_^pe,8),je=je+_|0,Oe=Y(Oe^je,7),he=he+ve|0,D=Y(D^he,16),B=B+D|0,ve=Y(ve^B,12),he=he+ve|0,D=Y(D^he,8),B=B+D|0,ve=Y(ve^B,7);return re[0]=te,re[1]=ue,re[2]=pe,re[3]=he,re[4]=w,re[5]=_,re[6]=D,re[7]=O,Q}J.hchacha=j,J.chacha20orig=(0,N.salsaBasic)({core:M,counterRight:!1,counterLen:8}),J.chacha20=(0,N.salsaBasic)({core:M,counterRight:!1,counterLen:4,allow128bitKeys:!1}),J.xchacha20=(0,N.salsaBasic)({core:M,counterRight:!1,counterLen:8,extendNonceFn:j,allow128bitKeys:!1}),J.chacha8=(0,N.salsaBasic)({core:M,counterRight:!1,counterLen:4,rounds:8}),J.chacha12=(0,N.salsaBasic)({core:M,counterRight:!1,counterLen:4,rounds:12});const R=new Uint8Array(16),U=(P,ee)=>{P.update(ee);const W=ee.length%16;W&&P.update(R.subarray(W))},H=(P,ee,W,Q,de)=>{const ae=P(ee,W,new Uint8Array(32)),re=x.poly1305.create(ae);de&&U(re,de),U(re,Q);const te=new Uint8Array(16),ue=(0,h.createView)(te);(0,h.setBigUint64)(ue,0,BigInt(de?de.length:0),!0),(0,h.setBigUint64)(ue,8,BigInt(Q.length),!0),re.update(te);const pe=re.digest();return ae.fill(0),pe};J._poly1305_aead=P=>(ee,W,Q)=>((0,h.ensureBytes)(ee,32),(0,h.ensureBytes)(W),{tagLength:16,encrypt:(ae,re)=>{const te=ae.length,ue=te+16;re?(0,h.ensureBytes)(re,ue):re=new Uint8Array(ue),P(ee,W,ae,re,1);const pe=H(P,ee,W,re.subarray(0,-16),Q);return re.set(pe,te),re},decrypt:(ae,re)=>{const te=ae.length,ue=te-16;if(te<16)throw new Error("encrypted data must be at least 16 bytes");re?(0,h.ensureBytes)(re,ue):re=new Uint8Array(ue);const pe=ae.subarray(0,-16),he=ae.subarray(-16),ve=H(P,ee,W,pe,Q);if(!(0,h.equalBytes)(he,ve))throw new Error("invalid tag");return P(ee,W,pe,re,1),re}}),J.chacha20poly1305=(0,J._poly1305_aead)(J.chacha20),J.xchacha20poly1305=(0,J._poly1305_aead)(J.xchacha20)},23790:(Ye,J,A)=>{"use strict";var h=A(29293).default;Object.defineProperty(J,"__esModule",{value:!0}),J.setBigUint64=J.Hash=J.equalBytes=J.ensureBytes=J.checkOpts=J.concatBytes=J.toBytes=J.bytesToUtf8=J.utf8ToBytes=J.asyncLoop=J.nextTick=J.hexToBytes=J.bytesToHex=J.isLE=J.createView=J.u32=J.u16=J.u8=void 0;const x=ge=>ge instanceof Uint8Array;if(J.u8=ge=>new Uint8Array(ge.buffer,ge.byteOffset,ge.byteLength),J.u16=ge=>new Uint16Array(ge.buffer,ge.byteOffset,Math.floor(ge.byteLength/2)),J.u32=ge=>new Uint32Array(ge.buffer,ge.byteOffset,Math.floor(ge.byteLength/4)),J.createView=ge=>new DataView(ge.buffer,ge.byteOffset,ge.byteLength),J.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!J.isLE)throw new Error("Non little-endian hardware is not supported");const R=Array.from({length:256},(ge,Me)=>Me.toString(16).padStart(2,"0"));function ee(){return(ee=h(function*(ge,Me,Oe){let je=Date.now();for(let B=0;B<ge;B++){Oe(B);const l=Date.now()-je;l>=0&&l<Me||(yield(0,J.nextTick)(),je+=l)}})).apply(this,arguments)}function W(ge){if("string"!=typeof ge)throw new Error("utf8ToBytes expected string, got "+typeof ge);return new Uint8Array((new TextEncoder).encode(ge))}J.bytesToHex=function U(ge){if(!x(ge))throw new Error("Uint8Array expected");let Me="";for(let Oe=0;Oe<ge.length;Oe++)Me+=R[ge[Oe]];return Me},J.hexToBytes=function H(ge){if("string"!=typeof ge)throw new Error("hex string expected, got "+typeof ge);const Me=ge.length;if(Me%2)throw new Error("padded hex string expected, got unpadded hex of length "+Me);const Oe=new Uint8Array(Me/2);for(let je=0;je<Oe.length;je++){const B=2*je,l=ge.slice(B,B+2),f=Number.parseInt(l,16);if(Number.isNaN(f)||f<0)throw new Error("Invalid byte sequence");Oe[je]=f}return Oe},J.nextTick=function(){var ge=h(function*(){});return function(){return ge.apply(this,arguments)}}(),J.asyncLoop=function P(ge,Me,Oe){return ee.apply(this,arguments)},J.utf8ToBytes=W,J.bytesToUtf8=function Q(ge){return(new TextDecoder).decode(ge)},J.toBytes=function de(ge){if("string"==typeof ge&&(ge=W(ge)),!x(ge))throw new Error("expected Uint8Array, got "+typeof ge);return ge},J.concatBytes=function ae(...ge){const Me=new Uint8Array(ge.reduce((je,B)=>je+B.length,0));let Oe=0;return ge.forEach(je=>{if(!x(je))throw new Error("Uint8Array expected");Me.set(je,Oe),Oe+=je.length}),Me},J.checkOpts=function te(ge,Me){if(void 0!==Me&&("object"!=typeof Me||!(ge=>"[object Object]"===Object.prototype.toString.call(ge)&&ge.constructor===Object)(Me)))throw new Error("options must be object or undefined");return Object.assign(ge,Me)},J.ensureBytes=function ue(ge,Me){if(!(ge instanceof Uint8Array))throw new Error("Uint8Array expected");if("number"==typeof Me&&ge.length!==Me)throw new Error(`Uint8Array length ${Me} expected`)},J.equalBytes=function pe(ge,Me){if(ge.length!==Me.length)throw new Error("equalBytes: Different size of Uint8Arrays");let Oe=!0;for(let je=0;je<ge.length;je++)Oe&&(Oe=ge[je]===Me[je]);return Oe},J.Hash=class he{},J.setBigUint64=function ve(ge,Me,Oe,je){if("function"==typeof ge.setBigUint64)return ge.setBigUint64(Me,Oe,je);const B=BigInt(32),l=BigInt(4294967295),f=Number(Oe>>B&l),w=Number(Oe&l),D=je?0:4;ge.setUint32(Me+(je?4:0),f,je),ge.setUint32(Me+D,w,je)}},89742:(Ye,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.crypto=void 0,J.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},42098:(Ye,J,A)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.getWebcryptoSubtle=J.randomBytes=void 0;const h=A(89742);J.randomBytes=function x(Y=32){if(h.crypto&&"function"==typeof h.crypto.getRandomValues)return h.crypto.getRandomValues(new Uint8Array(Y));throw new Error("crypto.getRandomValues must be defined")},J.getWebcryptoSubtle=function N(){if(h.crypto&&"object"==typeof h.crypto.subtle&&null!=h.crypto.subtle)return h.crypto.subtle;throw new Error("crypto.subtle must be defined")}},90518:(Ye,J,A)=>{"use strict";var h=J;h.version=A(1636).rE,h.utils=A(3136),h.rand=A(35294),h.curve=A(8729),h.curves=A(23401),h.ec=A(29042),h.eddsa=A(83045)},98828:(Ye,J,A)=>{"use strict";var h=A(88723),x=A(3136),N=x.getNAF,Y=x.getJSF,M=x.assert;function j(U,H){this.type=U,this.p=new h(H.p,16),this.red=H.prime?h.red(H.prime):h.mont(this.p),this.zero=new h(0).toRed(this.red),this.one=new h(1).toRed(this.red),this.two=new h(2).toRed(this.red),this.n=H.n&&new h(H.n,16),this.g=H.g&&this.pointFromJSON(H.g,H.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var V=this.n&&this.p.div(this.n);!V||V.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function R(U,H){this.curve=U,this.type=H,this.precomputed=null}Ye.exports=j,j.prototype.point=function(){throw new Error("Not implemented")},j.prototype.validate=function(){throw new Error("Not implemented")},j.prototype._fixedNafMul=function(H,V){M(H.precomputed);var P=H._getDoubles(),ee=N(V,1,this._bitLength),W=(1<<P.step+1)-(P.step%2==0?2:1);W/=3;var de,ae,Q=[];for(de=0;de<ee.length;de+=P.step){ae=0;for(var re=de+P.step-1;re>=de;re--)ae=(ae<<1)+ee[re];Q.push(ae)}for(var te=this.jpoint(null,null,null),ue=this.jpoint(null,null,null),pe=W;pe>0;pe--){for(de=0;de<Q.length;de++)(ae=Q[de])===pe?ue=ue.mixedAdd(P.points[de]):ae===-pe&&(ue=ue.mixedAdd(P.points[de].neg()));te=te.add(ue)}return te.toP()},j.prototype._wnafMul=function(H,V){for(var P=4,ee=H._getNAFPoints(P),W=ee.points,Q=N(V,P=ee.wnd,this._bitLength),de=this.jpoint(null,null,null),ae=Q.length-1;ae>=0;ae--){for(var re=0;ae>=0&&0===Q[ae];ae--)re++;if(ae>=0&&re++,de=de.dblp(re),ae<0)break;var te=Q[ae];M(0!==te),de="affine"===H.type?de.mixedAdd(te>0?W[te-1>>1]:W[-te-1>>1].neg()):de.add(te>0?W[te-1>>1]:W[-te-1>>1].neg())}return"affine"===H.type?de.toP():de},j.prototype._wnafMulAdd=function(H,V,P,ee,W){var te,ue,pe,Q=this._wnafT1,de=this._wnafT2,ae=this._wnafT3,re=0;for(te=0;te<ee;te++){var he=(pe=V[te])._getNAFPoints(H);Q[te]=he.wnd,de[te]=he.points}for(te=ee-1;te>=1;te-=2){var ve=te-1,ge=te;if(1===Q[ve]&&1===Q[ge]){var Me=[V[ve],null,null,V[ge]];0===V[ve].y.cmp(V[ge].y)?(Me[1]=V[ve].add(V[ge]),Me[2]=V[ve].toJ().mixedAdd(V[ge].neg())):0===V[ve].y.cmp(V[ge].y.redNeg())?(Me[1]=V[ve].toJ().mixedAdd(V[ge]),Me[2]=V[ve].add(V[ge].neg())):(Me[1]=V[ve].toJ().mixedAdd(V[ge]),Me[2]=V[ve].toJ().mixedAdd(V[ge].neg()));var Oe=[-3,-1,-5,-7,0,7,5,1,3],je=Y(P[ve],P[ge]);for(re=Math.max(je[0].length,re),ae[ve]=new Array(re),ae[ge]=new Array(re),ue=0;ue<re;ue++)ae[ve][ue]=Oe[3*(1+(0|je[0][ue]))+(1+(0|je[1][ue]))],ae[ge][ue]=0,de[ve]=Me}else ae[ve]=N(P[ve],Q[ve],this._bitLength),ae[ge]=N(P[ge],Q[ge],this._bitLength),re=Math.max(ae[ve].length,re),re=Math.max(ae[ge].length,re)}var f=this.jpoint(null,null,null),w=this._wnafT4;for(te=re;te>=0;te--){for(var _=0;te>=0;){var D=!0;for(ue=0;ue<ee;ue++)w[ue]=0|ae[ue][te],0!==w[ue]&&(D=!1);if(!D)break;_++,te--}if(te>=0&&_++,f=f.dblp(_),te<0)break;for(ue=0;ue<ee;ue++){var O=w[ue];0!==O&&(O>0?pe=de[ue][O-1>>1]:O<0&&(pe=de[ue][-O-1>>1].neg()),f="affine"===pe.type?f.mixedAdd(pe):f.add(pe))}}for(te=0;te<ee;te++)de[te]=null;return W?f:f.toP()},j.BasePoint=R,R.prototype.eq=function(){throw new Error("Not implemented")},R.prototype.validate=function(){return this.curve.validate(this)},j.prototype.decodePoint=function(H,V){H=x.toArray(H,V);var P=this.p.byteLength();if((4===H[0]||6===H[0]||7===H[0])&&H.length-1==2*P)return 6===H[0]?M(H[H.length-1]%2==0):7===H[0]&&M(H[H.length-1]%2==1),this.point(H.slice(1,1+P),H.slice(1+P,1+2*P));if((2===H[0]||3===H[0])&&H.length-1===P)return this.pointFromX(H.slice(1,1+P),3===H[0]);throw new Error("Unknown point format")},R.prototype.encodeCompressed=function(H){return this.encode(H,!0)},R.prototype._encode=function(H){var V=this.curve.p.byteLength(),P=this.getX().toArray("be",V);return H?[this.getY().isEven()?2:3].concat(P):[4].concat(P,this.getY().toArray("be",V))},R.prototype.encode=function(H,V){return x.encode(this._encode(V),H)},R.prototype.precompute=function(H){if(this.precomputed)return this;var V={doubles:null,naf:null,beta:null};return V.naf=this._getNAFPoints(8),V.doubles=this._getDoubles(4,H),V.beta=this._getBeta(),this.precomputed=V,this},R.prototype._hasDoubles=function(H){if(!this.precomputed)return!1;var V=this.precomputed.doubles;return!!V&&V.points.length>=Math.ceil((H.bitLength()+1)/V.step)},R.prototype._getDoubles=function(H,V){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var P=[this],ee=this,W=0;W<V;W+=H){for(var Q=0;Q<H;Q++)ee=ee.dbl();P.push(ee)}return{step:H,points:P}},R.prototype._getNAFPoints=function(H){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var V=[this],P=(1<<H)-1,ee=1===P?null:this.dbl(),W=1;W<P;W++)V[W]=V[W-1].add(ee);return{wnd:H,points:V}},R.prototype._getBeta=function(){return null},R.prototype.dblp=function(H){for(var V=this,P=0;P<H;P++)V=V.dbl();return V}},55537:(Ye,J,A)=>{"use strict";var h=A(3136),x=A(88723),N=A(71993),Y=A(98828),M=h.assert;function j(U){this.twisted=1!=(0|U.a),this.mOneA=this.twisted&&-1==(0|U.a),this.extended=this.mOneA,Y.call(this,"edwards",U),this.a=new x(U.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new x(U.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new x(U.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),M(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|U.c)}function R(U,H,V,P,ee){Y.BasePoint.call(this,U,"projective"),null===H&&null===V&&null===P?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new x(H,16),this.y=new x(V,16),this.z=P?new x(P,16):this.curve.one,this.t=ee&&new x(ee,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}N(j,Y),Ye.exports=j,j.prototype._mulA=function(H){return this.mOneA?H.redNeg():this.a.redMul(H)},j.prototype._mulC=function(H){return this.oneC?H:this.c.redMul(H)},j.prototype.jpoint=function(H,V,P,ee){return this.point(H,V,P,ee)},j.prototype.pointFromX=function(H,V){(H=new x(H,16)).red||(H=H.toRed(this.red));var P=H.redSqr(),ee=this.c2.redSub(this.a.redMul(P)),W=this.one.redSub(this.c2.redMul(this.d).redMul(P)),Q=ee.redMul(W.redInvm()),de=Q.redSqrt();if(0!==de.redSqr().redSub(Q).cmp(this.zero))throw new Error("invalid point");var ae=de.fromRed().isOdd();return(V&&!ae||!V&&ae)&&(de=de.redNeg()),this.point(H,de)},j.prototype.pointFromY=function(H,V){(H=new x(H,16)).red||(H=H.toRed(this.red));var P=H.redSqr(),ee=P.redSub(this.c2),W=P.redMul(this.d).redMul(this.c2).redSub(this.a),Q=ee.redMul(W.redInvm());if(0===Q.cmp(this.zero)){if(V)throw new Error("invalid point");return this.point(this.zero,H)}var de=Q.redSqrt();if(0!==de.redSqr().redSub(Q).cmp(this.zero))throw new Error("invalid point");return de.fromRed().isOdd()!==V&&(de=de.redNeg()),this.point(de,H)},j.prototype.validate=function(H){if(H.isInfinity())return!0;H.normalize();var V=H.x.redSqr(),P=H.y.redSqr(),ee=V.redMul(this.a).redAdd(P),W=this.c2.redMul(this.one.redAdd(this.d.redMul(V).redMul(P)));return 0===ee.cmp(W)},N(R,Y.BasePoint),j.prototype.pointFromJSON=function(H){return R.fromJSON(this,H)},j.prototype.point=function(H,V,P,ee){return new R(this,H,V,P,ee)},R.fromJSON=function(H,V){return new R(H,V[0],V[1],V[2])},R.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},R.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},R.prototype._extDbl=function(){var H=this.x.redSqr(),V=this.y.redSqr(),P=this.z.redSqr();P=P.redIAdd(P);var ee=this.curve._mulA(H),W=this.x.redAdd(this.y).redSqr().redISub(H).redISub(V),Q=ee.redAdd(V),de=Q.redSub(P),ae=ee.redSub(V),re=W.redMul(de),te=Q.redMul(ae),ue=W.redMul(ae),pe=de.redMul(Q);return this.curve.point(re,te,pe,ue)},R.prototype._projDbl=function(){var ee,W,Q,de,ae,re,H=this.x.redAdd(this.y).redSqr(),V=this.x.redSqr(),P=this.y.redSqr();if(this.curve.twisted){var te=(de=this.curve._mulA(V)).redAdd(P);this.zOne?(ee=H.redSub(V).redSub(P).redMul(te.redSub(this.curve.two)),W=te.redMul(de.redSub(P)),Q=te.redSqr().redSub(te).redSub(te)):(ae=this.z.redSqr(),re=te.redSub(ae).redISub(ae),ee=H.redSub(V).redISub(P).redMul(re),W=te.redMul(de.redSub(P)),Q=te.redMul(re))}else de=V.redAdd(P),ae=this.curve._mulC(this.z).redSqr(),re=de.redSub(ae).redSub(ae),ee=this.curve._mulC(H.redISub(de)).redMul(re),W=this.curve._mulC(de).redMul(V.redISub(P)),Q=de.redMul(re);return this.curve.point(ee,W,Q)},R.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},R.prototype._extAdd=function(H){var V=this.y.redSub(this.x).redMul(H.y.redSub(H.x)),P=this.y.redAdd(this.x).redMul(H.y.redAdd(H.x)),ee=this.t.redMul(this.curve.dd).redMul(H.t),W=this.z.redMul(H.z.redAdd(H.z)),Q=P.redSub(V),de=W.redSub(ee),ae=W.redAdd(ee),re=P.redAdd(V),te=Q.redMul(de),ue=ae.redMul(re),pe=Q.redMul(re),he=de.redMul(ae);return this.curve.point(te,ue,he,pe)},R.prototype._projAdd=function(H){var ue,pe,V=this.z.redMul(H.z),P=V.redSqr(),ee=this.x.redMul(H.x),W=this.y.redMul(H.y),Q=this.curve.d.redMul(ee).redMul(W),de=P.redSub(Q),ae=P.redAdd(Q),re=this.x.redAdd(this.y).redMul(H.x.redAdd(H.y)).redISub(ee).redISub(W),te=V.redMul(de).redMul(re);return this.curve.twisted?(ue=V.redMul(ae).redMul(W.redSub(this.curve._mulA(ee))),pe=de.redMul(ae)):(ue=V.redMul(ae).redMul(W.redSub(ee)),pe=this.curve._mulC(de).redMul(ae)),this.curve.point(te,ue,pe)},R.prototype.add=function(H){return this.isInfinity()?H:H.isInfinity()?this:this.curve.extended?this._extAdd(H):this._projAdd(H)},R.prototype.mul=function(H){return this._hasDoubles(H)?this.curve._fixedNafMul(this,H):this.curve._wnafMul(this,H)},R.prototype.mulAdd=function(H,V,P){return this.curve._wnafMulAdd(1,[this,V],[H,P],2,!1)},R.prototype.jmulAdd=function(H,V,P){return this.curve._wnafMulAdd(1,[this,V],[H,P],2,!0)},R.prototype.normalize=function(){if(this.zOne)return this;var H=this.z.redInvm();return this.x=this.x.redMul(H),this.y=this.y.redMul(H),this.t&&(this.t=this.t.redMul(H)),this.z=this.curve.one,this.zOne=!0,this},R.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},R.prototype.getX=function(){return this.normalize(),this.x.fromRed()},R.prototype.getY=function(){return this.normalize(),this.y.fromRed()},R.prototype.eq=function(H){return this===H||0===this.getX().cmp(H.getX())&&0===this.getY().cmp(H.getY())},R.prototype.eqXToP=function(H){var V=H.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(V))return!0;for(var P=H.clone(),ee=this.curve.redN.redMul(this.z);;){if(P.iadd(this.curve.n),P.cmp(this.curve.p)>=0)return!1;if(V.redIAdd(ee),0===this.x.cmp(V))return!0}},R.prototype.toP=R.prototype.normalize,R.prototype.mixedAdd=R.prototype.add},8729:(Ye,J,A)=>{"use strict";var h=J;h.base=A(98828),h.short=A(68075),h.mont=A(64947),h.edwards=A(55537)},64947:(Ye,J,A)=>{"use strict";var h=A(88723),x=A(71993),N=A(98828),Y=A(3136);function M(R){N.call(this,"mont",R),this.a=new h(R.a,16).toRed(this.red),this.b=new h(R.b,16).toRed(this.red),this.i4=new h(4).toRed(this.red).redInvm(),this.two=new h(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function j(R,U,H){N.BasePoint.call(this,R,"projective"),null===U&&null===H?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new h(U,16),this.z=new h(H,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}x(M,N),Ye.exports=M,M.prototype.validate=function(U){var H=U.normalize().x,V=H.redSqr(),P=V.redMul(H).redAdd(V.redMul(this.a)).redAdd(H);return 0===P.redSqrt().redSqr().cmp(P)},x(j,N.BasePoint),M.prototype.decodePoint=function(U,H){return this.point(Y.toArray(U,H),1)},M.prototype.point=function(U,H){return new j(this,U,H)},M.prototype.pointFromJSON=function(U){return j.fromJSON(this,U)},j.prototype.precompute=function(){},j.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},j.fromJSON=function(U,H){return new j(U,H[0],H[1]||U.one)},j.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},j.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},j.prototype.dbl=function(){var H=this.x.redAdd(this.z).redSqr(),P=this.x.redSub(this.z).redSqr(),ee=H.redSub(P),W=H.redMul(P),Q=ee.redMul(P.redAdd(this.curve.a24.redMul(ee)));return this.curve.point(W,Q)},j.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},j.prototype.diffAdd=function(U,H){var V=this.x.redAdd(this.z),P=this.x.redSub(this.z),ee=U.x.redAdd(U.z),Q=U.x.redSub(U.z).redMul(V),de=ee.redMul(P),ae=H.z.redMul(Q.redAdd(de).redSqr()),re=H.x.redMul(Q.redISub(de).redSqr());return this.curve.point(ae,re)},j.prototype.mul=function(U){for(var H=U.clone(),V=this,P=this.curve.point(null,null),W=[];0!==H.cmpn(0);H.iushrn(1))W.push(H.andln(1));for(var Q=W.length-1;Q>=0;Q--)0===W[Q]?(V=V.diffAdd(P,this),P=P.dbl()):(P=V.diffAdd(P,this),V=V.dbl());return P},j.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},j.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},j.prototype.eq=function(U){return 0===this.getX().cmp(U.getX())},j.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},j.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},68075:(Ye,J,A)=>{"use strict";var h=A(3136),x=A(88723),N=A(71993),Y=A(98828),M=h.assert;function j(H){Y.call(this,"short",H),this.a=new x(H.a,16).toRed(this.red),this.b=new x(H.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(H),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function R(H,V,P,ee){Y.BasePoint.call(this,H,"affine"),null===V&&null===P?(this.x=null,this.y=null,this.inf=!0):(this.x=new x(V,16),this.y=new x(P,16),ee&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function U(H,V,P,ee){Y.BasePoint.call(this,H,"jacobian"),null===V&&null===P&&null===ee?(this.x=this.curve.one,this.y=this.curve.one,this.z=new x(0)):(this.x=new x(V,16),this.y=new x(P,16),this.z=new x(ee,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}N(j,Y),Ye.exports=j,j.prototype._getEndomorphism=function(V){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var P,ee;if(V.beta)P=new x(V.beta,16).toRed(this.red);else{var W=this._getEndoRoots(this.p);P=(P=W[0].cmp(W[1])<0?W[0]:W[1]).toRed(this.red)}if(V.lambda)ee=new x(V.lambda,16);else{var Q=this._getEndoRoots(this.n);0===this.g.mul(Q[0]).x.cmp(this.g.x.redMul(P))?ee=Q[0]:M(0===this.g.mul(ee=Q[1]).x.cmp(this.g.x.redMul(P)))}return{beta:P,lambda:ee,basis:V.basis?V.basis.map(function(ae){return{a:new x(ae.a,16),b:new x(ae.b,16)}}):this._getEndoBasis(ee)}}},j.prototype._getEndoRoots=function(V){var P=V===this.p?this.red:x.mont(V),ee=new x(2).toRed(P).redInvm(),W=ee.redNeg(),Q=new x(3).toRed(P).redNeg().redSqrt().redMul(ee);return[W.redAdd(Q).fromRed(),W.redSub(Q).fromRed()]},j.prototype._getEndoBasis=function(V){for(var te,ue,pe,he,ve,ge,Me,je,B,P=this.n.ushrn(Math.floor(this.n.bitLength()/2)),ee=V,W=this.n.clone(),Q=new x(1),de=new x(0),ae=new x(0),re=new x(1),Oe=0;0!==ee.cmpn(0);){var l=W.div(ee);je=W.sub(l.mul(ee)),B=ae.sub(l.mul(Q));var f=re.sub(l.mul(de));if(!pe&&je.cmp(P)<0)te=Me.neg(),ue=Q,pe=je.neg(),he=B;else if(pe&&2==++Oe)break;Me=je,W=ee,ee=je,ae=Q,Q=B,re=de,de=f}ve=je.neg(),ge=B;var w=pe.sqr().add(he.sqr());return ve.sqr().add(ge.sqr()).cmp(w)>=0&&(ve=te,ge=ue),pe.negative&&(pe=pe.neg(),he=he.neg()),ve.negative&&(ve=ve.neg(),ge=ge.neg()),[{a:pe,b:he},{a:ve,b:ge}]},j.prototype._endoSplit=function(V){var P=this.endo.basis,ee=P[0],W=P[1],Q=W.b.mul(V).divRound(this.n),de=ee.b.neg().mul(V).divRound(this.n),ae=Q.mul(ee.a),re=de.mul(W.a),te=Q.mul(ee.b),ue=de.mul(W.b);return{k1:V.sub(ae).sub(re),k2:te.add(ue).neg()}},j.prototype.pointFromX=function(V,P){(V=new x(V,16)).red||(V=V.toRed(this.red));var ee=V.redSqr().redMul(V).redIAdd(V.redMul(this.a)).redIAdd(this.b),W=ee.redSqrt();if(0!==W.redSqr().redSub(ee).cmp(this.zero))throw new Error("invalid point");var Q=W.fromRed().isOdd();return(P&&!Q||!P&&Q)&&(W=W.redNeg()),this.point(V,W)},j.prototype.validate=function(V){if(V.inf)return!0;var P=V.x,ee=V.y,W=this.a.redMul(P),Q=P.redSqr().redMul(P).redIAdd(W).redIAdd(this.b);return 0===ee.redSqr().redISub(Q).cmpn(0)},j.prototype._endoWnafMulAdd=function(V,P,ee){for(var W=this._endoWnafT1,Q=this._endoWnafT2,de=0;de<V.length;de++){var ae=this._endoSplit(P[de]),re=V[de],te=re._getBeta();ae.k1.negative&&(ae.k1.ineg(),re=re.neg(!0)),ae.k2.negative&&(ae.k2.ineg(),te=te.neg(!0)),W[2*de]=re,W[2*de+1]=te,Q[2*de]=ae.k1,Q[2*de+1]=ae.k2}for(var ue=this._wnafMulAdd(1,W,Q,2*de,ee),pe=0;pe<2*de;pe++)W[pe]=null,Q[pe]=null;return ue},N(R,Y.BasePoint),j.prototype.point=function(V,P,ee){return new R(this,V,P,ee)},j.prototype.pointFromJSON=function(V,P){return R.fromJSON(this,V,P)},R.prototype._getBeta=function(){if(this.curve.endo){var V=this.precomputed;if(V&&V.beta)return V.beta;var P=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(V){var ee=this.curve,W=function(Q){return ee.point(Q.x.redMul(ee.endo.beta),Q.y)};V.beta=P,P.precomputed={beta:null,naf:V.naf&&{wnd:V.naf.wnd,points:V.naf.points.map(W)},doubles:V.doubles&&{step:V.doubles.step,points:V.doubles.points.map(W)}}}return P}},R.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},R.fromJSON=function(V,P,ee){"string"==typeof P&&(P=JSON.parse(P));var W=V.point(P[0],P[1],ee);if(!P[2])return W;function Q(ae){return V.point(ae[0],ae[1],ee)}var de=P[2];return W.precomputed={beta:null,doubles:de.doubles&&{step:de.doubles.step,points:[W].concat(de.doubles.points.map(Q))},naf:de.naf&&{wnd:de.naf.wnd,points:[W].concat(de.naf.points.map(Q))}},W},R.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},R.prototype.isInfinity=function(){return this.inf},R.prototype.add=function(V){if(this.inf)return V;if(V.inf)return this;if(this.eq(V))return this.dbl();if(this.neg().eq(V))return this.curve.point(null,null);if(0===this.x.cmp(V.x))return this.curve.point(null,null);var P=this.y.redSub(V.y);0!==P.cmpn(0)&&(P=P.redMul(this.x.redSub(V.x).redInvm()));var ee=P.redSqr().redISub(this.x).redISub(V.x),W=P.redMul(this.x.redSub(ee)).redISub(this.y);return this.curve.point(ee,W)},R.prototype.dbl=function(){if(this.inf)return this;var V=this.y.redAdd(this.y);if(0===V.cmpn(0))return this.curve.point(null,null);var P=this.curve.a,ee=this.x.redSqr(),W=V.redInvm(),Q=ee.redAdd(ee).redIAdd(ee).redIAdd(P).redMul(W),de=Q.redSqr().redISub(this.x.redAdd(this.x)),ae=Q.redMul(this.x.redSub(de)).redISub(this.y);return this.curve.point(de,ae)},R.prototype.getX=function(){return this.x.fromRed()},R.prototype.getY=function(){return this.y.fromRed()},R.prototype.mul=function(V){return V=new x(V,16),this.isInfinity()?this:this._hasDoubles(V)?this.curve._fixedNafMul(this,V):this.curve.endo?this.curve._endoWnafMulAdd([this],[V]):this.curve._wnafMul(this,V)},R.prototype.mulAdd=function(V,P,ee){var W=[this,P],Q=[V,ee];return this.curve.endo?this.curve._endoWnafMulAdd(W,Q):this.curve._wnafMulAdd(1,W,Q,2)},R.prototype.jmulAdd=function(V,P,ee){var W=[this,P],Q=[V,ee];return this.curve.endo?this.curve._endoWnafMulAdd(W,Q,!0):this.curve._wnafMulAdd(1,W,Q,2,!0)},R.prototype.eq=function(V){return this===V||this.inf===V.inf&&(this.inf||0===this.x.cmp(V.x)&&0===this.y.cmp(V.y))},R.prototype.neg=function(V){if(this.inf)return this;var P=this.curve.point(this.x,this.y.redNeg());if(V&&this.precomputed){var ee=this.precomputed,W=function(Q){return Q.neg()};P.precomputed={naf:ee.naf&&{wnd:ee.naf.wnd,points:ee.naf.points.map(W)},doubles:ee.doubles&&{step:ee.doubles.step,points:ee.doubles.points.map(W)}}}return P},R.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},N(U,Y.BasePoint),j.prototype.jpoint=function(V,P,ee){return new U(this,V,P,ee)},U.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var V=this.z.redInvm(),P=V.redSqr(),ee=this.x.redMul(P),W=this.y.redMul(P).redMul(V);return this.curve.point(ee,W)},U.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},U.prototype.add=function(V){if(this.isInfinity())return V;if(V.isInfinity())return this;var P=V.z.redSqr(),ee=this.z.redSqr(),W=this.x.redMul(P),Q=V.x.redMul(ee),de=this.y.redMul(P.redMul(V.z)),ae=V.y.redMul(ee.redMul(this.z)),re=W.redSub(Q),te=de.redSub(ae);if(0===re.cmpn(0))return 0!==te.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var ue=re.redSqr(),pe=ue.redMul(re),he=W.redMul(ue),ve=te.redSqr().redIAdd(pe).redISub(he).redISub(he),ge=te.redMul(he.redISub(ve)).redISub(de.redMul(pe)),Me=this.z.redMul(V.z).redMul(re);return this.curve.jpoint(ve,ge,Me)},U.prototype.mixedAdd=function(V){if(this.isInfinity())return V.toJ();if(V.isInfinity())return this;var P=this.z.redSqr(),ee=this.x,W=V.x.redMul(P),Q=this.y,de=V.y.redMul(P).redMul(this.z),ae=ee.redSub(W),re=Q.redSub(de);if(0===ae.cmpn(0))return 0!==re.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var te=ae.redSqr(),ue=te.redMul(ae),pe=ee.redMul(te),he=re.redSqr().redIAdd(ue).redISub(pe).redISub(pe),ve=re.redMul(pe.redISub(he)).redISub(Q.redMul(ue)),ge=this.z.redMul(ae);return this.curve.jpoint(he,ve,ge)},U.prototype.dblp=function(V){if(0===V)return this;if(this.isInfinity())return this;if(!V)return this.dbl();var P;if(this.curve.zeroA||this.curve.threeA){var ee=this;for(P=0;P<V;P++)ee=ee.dbl();return ee}var W=this.curve.a,Q=this.curve.tinv,de=this.x,ae=this.y,re=this.z,te=re.redSqr().redSqr(),ue=ae.redAdd(ae);for(P=0;P<V;P++){var pe=de.redSqr(),he=ue.redSqr(),ve=he.redSqr(),ge=pe.redAdd(pe).redIAdd(pe).redIAdd(W.redMul(te)),Me=de.redMul(he),Oe=ge.redSqr().redISub(Me.redAdd(Me)),je=Me.redISub(Oe),B=ge.redMul(je);B=B.redIAdd(B).redISub(ve);var l=ue.redMul(re);P+1<V&&(te=te.redMul(ve)),de=Oe,re=l,ue=B}return this.curve.jpoint(de,ue.redMul(Q),re)},U.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},U.prototype._zeroDbl=function(){var V,P,ee;if(this.zOne){var W=this.x.redSqr(),Q=this.y.redSqr(),de=Q.redSqr(),ae=this.x.redAdd(Q).redSqr().redISub(W).redISub(de);ae=ae.redIAdd(ae);var re=W.redAdd(W).redIAdd(W),te=re.redSqr().redISub(ae).redISub(ae),ue=de.redIAdd(de);ue=(ue=ue.redIAdd(ue)).redIAdd(ue),V=te,P=re.redMul(ae.redISub(te)).redISub(ue),ee=this.y.redAdd(this.y)}else{var pe=this.x.redSqr(),he=this.y.redSqr(),ve=he.redSqr(),ge=this.x.redAdd(he).redSqr().redISub(pe).redISub(ve);ge=ge.redIAdd(ge);var Me=pe.redAdd(pe).redIAdd(pe),Oe=Me.redSqr(),je=ve.redIAdd(ve);je=(je=je.redIAdd(je)).redIAdd(je),V=Oe.redISub(ge).redISub(ge),P=Me.redMul(ge.redISub(V)).redISub(je),ee=(ee=this.y.redMul(this.z)).redIAdd(ee)}return this.curve.jpoint(V,P,ee)},U.prototype._threeDbl=function(){var V,P,ee;if(this.zOne){var W=this.x.redSqr(),Q=this.y.redSqr(),de=Q.redSqr(),ae=this.x.redAdd(Q).redSqr().redISub(W).redISub(de);ae=ae.redIAdd(ae);var re=W.redAdd(W).redIAdd(W).redIAdd(this.curve.a),te=re.redSqr().redISub(ae).redISub(ae);V=te;var ue=de.redIAdd(de);ue=(ue=ue.redIAdd(ue)).redIAdd(ue),P=re.redMul(ae.redISub(te)).redISub(ue),ee=this.y.redAdd(this.y)}else{var pe=this.z.redSqr(),he=this.y.redSqr(),ve=this.x.redMul(he),ge=this.x.redSub(pe).redMul(this.x.redAdd(pe));ge=ge.redAdd(ge).redIAdd(ge);var Me=ve.redIAdd(ve),Oe=(Me=Me.redIAdd(Me)).redAdd(Me);V=ge.redSqr().redISub(Oe),ee=this.y.redAdd(this.z).redSqr().redISub(he).redISub(pe);var je=he.redSqr();je=(je=(je=je.redIAdd(je)).redIAdd(je)).redIAdd(je),P=ge.redMul(Me.redISub(V)).redISub(je)}return this.curve.jpoint(V,P,ee)},U.prototype._dbl=function(){var V=this.curve.a,P=this.x,ee=this.y,W=this.z,Q=W.redSqr().redSqr(),de=P.redSqr(),ae=ee.redSqr(),re=de.redAdd(de).redIAdd(de).redIAdd(V.redMul(Q)),te=P.redAdd(P),ue=(te=te.redIAdd(te)).redMul(ae),pe=re.redSqr().redISub(ue.redAdd(ue)),he=ue.redISub(pe),ve=ae.redSqr();ve=(ve=(ve=ve.redIAdd(ve)).redIAdd(ve)).redIAdd(ve);var ge=re.redMul(he).redISub(ve),Me=ee.redAdd(ee).redMul(W);return this.curve.jpoint(pe,ge,Me)},U.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var V=this.x.redSqr(),P=this.y.redSqr(),ee=this.z.redSqr(),W=P.redSqr(),Q=V.redAdd(V).redIAdd(V),de=Q.redSqr(),ae=this.x.redAdd(P).redSqr().redISub(V).redISub(W),re=(ae=(ae=(ae=ae.redIAdd(ae)).redAdd(ae).redIAdd(ae)).redISub(de)).redSqr(),te=W.redIAdd(W);te=(te=(te=te.redIAdd(te)).redIAdd(te)).redIAdd(te);var ue=Q.redIAdd(ae).redSqr().redISub(de).redISub(re).redISub(te),pe=P.redMul(ue);pe=(pe=pe.redIAdd(pe)).redIAdd(pe);var he=this.x.redMul(re).redISub(pe);he=(he=he.redIAdd(he)).redIAdd(he);var ve=this.y.redMul(ue.redMul(te.redISub(ue)).redISub(ae.redMul(re)));ve=(ve=(ve=ve.redIAdd(ve)).redIAdd(ve)).redIAdd(ve);var ge=this.z.redAdd(ae).redSqr().redISub(ee).redISub(re);return this.curve.jpoint(he,ve,ge)},U.prototype.mul=function(V,P){return V=new x(V,P),this.curve._wnafMul(this,V)},U.prototype.eq=function(V){if("affine"===V.type)return this.eq(V.toJ());if(this===V)return!0;var P=this.z.redSqr(),ee=V.z.redSqr();if(0!==this.x.redMul(ee).redISub(V.x.redMul(P)).cmpn(0))return!1;var W=P.redMul(this.z),Q=ee.redMul(V.z);return 0===this.y.redMul(Q).redISub(V.y.redMul(W)).cmpn(0)},U.prototype.eqXToP=function(V){var P=this.z.redSqr(),ee=V.toRed(this.curve.red).redMul(P);if(0===this.x.cmp(ee))return!0;for(var W=V.clone(),Q=this.curve.redN.redMul(P);;){if(W.iadd(this.curve.n),W.cmp(this.curve.p)>=0)return!1;if(ee.redIAdd(Q),0===this.x.cmp(ee))return!0}},U.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},U.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},23401:(Ye,J,A)=>{"use strict";var U,h=J,x=A(52529),N=A(8729),M=A(3136).assert;function j(H){this.curve="short"===H.type?new N.short(H):"edwards"===H.type?new N.edwards(H):new N.mont(H),this.g=this.curve.g,this.n=this.curve.n,this.hash=H.hash,M(this.g.validate(),"Invalid curve"),M(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function R(H,V){Object.defineProperty(h,H,{configurable:!0,enumerable:!0,get:function(){var P=new j(V);return Object.defineProperty(h,H,{configurable:!0,enumerable:!0,value:P}),P}})}h.PresetCurve=j,R("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:x.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),R("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:x.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),R("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:x.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),R("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:x.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),R("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:x.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),R("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:x.sha256,gRed:!1,g:["9"]}),R("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:x.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{U=A(51416)}catch{U=void 0}R("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:x.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",U]})},29042:(Ye,J,A)=>{"use strict";var h=A(88723),x=A(33556),N=A(3136),Y=A(23401),M=A(35294),j=N.assert,R=A(60541),U=A(40484);function H(V){if(!(this instanceof H))return new H(V);"string"==typeof V&&(j(Object.prototype.hasOwnProperty.call(Y,V),"Unknown curve "+V),V=Y[V]),V instanceof Y.PresetCurve&&(V={curve:V}),this.curve=V.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=V.curve.g,this.g.precompute(V.curve.n.bitLength()+1),this.hash=V.hash||V.curve.hash}Ye.exports=H,H.prototype.keyPair=function(P){return new R(this,P)},H.prototype.keyFromPrivate=function(P,ee){return R.fromPrivate(this,P,ee)},H.prototype.keyFromPublic=function(P,ee){return R.fromPublic(this,P,ee)},H.prototype.genKeyPair=function(P){P||(P={});for(var ee=new x({hash:this.hash,pers:P.pers,persEnc:P.persEnc||"utf8",entropy:P.entropy||M(this.hash.hmacStrength),entropyEnc:P.entropy&&P.entropyEnc||"utf8",nonce:this.n.toArray()}),W=this.n.byteLength(),Q=this.n.sub(new h(2));;){var de=new h(ee.generate(W));if(!(de.cmp(Q)>0))return de.iaddn(1),this.keyFromPrivate(de)}},H.prototype._truncateToN=function(P,ee){var W=8*P.byteLength()-this.n.bitLength();return W>0&&(P=P.ushrn(W)),!ee&&P.cmp(this.n)>=0?P.sub(this.n):P},H.prototype.sign=function(P,ee,W,Q){"object"==typeof W&&(Q=W,W=null),Q||(Q={}),ee=this.keyFromPrivate(ee,W),P=this._truncateToN(new h(P,16));for(var de=this.n.byteLength(),ae=ee.getPrivate().toArray("be",de),re=P.toArray("be",de),te=new x({hash:this.hash,entropy:ae,nonce:re,pers:Q.pers,persEnc:Q.persEnc||"utf8"}),ue=this.n.sub(new h(1)),pe=0;;pe++){var he=Q.k?Q.k(pe):new h(te.generate(this.n.byteLength()));if(!((he=this._truncateToN(he,!0)).cmpn(1)<=0||he.cmp(ue)>=0)){var ve=this.g.mul(he);if(!ve.isInfinity()){var ge=ve.getX(),Me=ge.umod(this.n);if(0!==Me.cmpn(0)){var Oe=he.invm(this.n).mul(Me.mul(ee.getPrivate()).iadd(P));if(0!==(Oe=Oe.umod(this.n)).cmpn(0)){var je=(ve.getY().isOdd()?1:0)|(0!==ge.cmp(Me)?2:0);return Q.canonical&&Oe.cmp(this.nh)>0&&(Oe=this.n.sub(Oe),je^=1),new U({r:Me,s:Oe,recoveryParam:je})}}}}}},H.prototype.verify=function(P,ee,W,Q){P=this._truncateToN(new h(P,16)),W=this.keyFromPublic(W,Q);var de=(ee=new U(ee,"hex")).r,ae=ee.s;if(de.cmpn(1)<0||de.cmp(this.n)>=0||ae.cmpn(1)<0||ae.cmp(this.n)>=0)return!1;var pe,re=ae.invm(this.n),te=re.mul(P).umod(this.n),ue=re.mul(de).umod(this.n);return this.curve._maxwellTrick?!(pe=this.g.jmulAdd(te,W.getPublic(),ue)).isInfinity()&&pe.eqXToP(de):!(pe=this.g.mulAdd(te,W.getPublic(),ue)).isInfinity()&&0===pe.getX().umod(this.n).cmp(de)},H.prototype.recoverPubKey=function(V,P,ee,W){j((3&ee)===ee,"The recovery param is more than two bits"),P=new U(P,W);var Q=this.n,de=new h(V),ae=P.r,re=P.s,te=1&ee,ue=ee>>1;if(ae.cmp(this.curve.p.umod(this.curve.n))>=0&&ue)throw new Error("Unable to find sencond key candinate");ae=this.curve.pointFromX(ue?ae.add(this.curve.n):ae,te);var pe=P.r.invm(Q),he=Q.sub(de).mul(pe).umod(Q),ve=re.mul(pe).umod(Q);return this.g.mulAdd(he,ae,ve)},H.prototype.getKeyRecoveryParam=function(V,P,ee,W){if(null!==(P=new U(P,W)).recoveryParam)return P.recoveryParam;for(var Q=0;Q<4;Q++){var de;try{de=this.recoverPubKey(V,P,Q)}catch{continue}if(de.eq(ee))return Q}throw new Error("Unable to find valid recovery factor")}},60541:(Ye,J,A)=>{"use strict";var h=A(88723),N=A(3136).assert;function Y(M,j){this.ec=M,this.priv=null,this.pub=null,j.priv&&this._importPrivate(j.priv,j.privEnc),j.pub&&this._importPublic(j.pub,j.pubEnc)}Ye.exports=Y,Y.fromPublic=function(j,R,U){return R instanceof Y?R:new Y(j,{pub:R,pubEnc:U})},Y.fromPrivate=function(j,R,U){return R instanceof Y?R:new Y(j,{priv:R,privEnc:U})},Y.prototype.validate=function(){var j=this.getPublic();return j.isInfinity()?{result:!1,reason:"Invalid public key"}:j.validate()?j.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Y.prototype.getPublic=function(j,R){return"string"==typeof j&&(R=j,j=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),R?this.pub.encode(R,j):this.pub},Y.prototype.getPrivate=function(j){return"hex"===j?this.priv.toString(16,2):this.priv},Y.prototype._importPrivate=function(j,R){this.priv=new h(j,R||16),this.priv=this.priv.umod(this.ec.curve.n)},Y.prototype._importPublic=function(j,R){if(j.x||j.y)return"mont"===this.ec.curve.type?N(j.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&N(j.x&&j.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(j.x,j.y));this.pub=this.ec.curve.decodePoint(j,R)},Y.prototype.derive=function(j){return j.validate()||N(j.validate(),"public point not validated"),j.mul(this.priv).getX()},Y.prototype.sign=function(j,R,U){return this.ec.sign(j,this,R,U)},Y.prototype.verify=function(j,R){return this.ec.verify(j,R,this)},Y.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},40484:(Ye,J,A)=>{"use strict";var h=A(88723),x=A(3136),N=x.assert;function Y(H,V){if(H instanceof Y)return H;this._importDER(H,V)||(N(H.r&&H.s,"Signature without r or s"),this.r=new h(H.r,16),this.s=new h(H.s,16),this.recoveryParam=void 0===H.recoveryParam?null:H.recoveryParam)}function M(){this.place=0}function j(H,V){var P=H[V.place++];if(!(128&P))return P;var ee=15&P;if(0===ee||ee>4)return!1;for(var W=0,Q=0,de=V.place;Q<ee;Q++,de++)W<<=8,W|=H[de],W>>>=0;return!(W<=127)&&(V.place=de,W)}function R(H){for(var V=0,P=H.length-1;!H[V]&&!(128&H[V+1])&&V<P;)V++;return 0===V?H:H.slice(V)}function U(H,V){if(V<128)H.push(V);else{var P=1+(Math.log(V)/Math.LN2>>>3);for(H.push(128|P);--P;)H.push(V>>>(P<<3)&255);H.push(V)}}Ye.exports=Y,Y.prototype._importDER=function(V,P){V=x.toArray(V,P);var ee=new M;if(48!==V[ee.place++])return!1;var W=j(V,ee);if(!1===W||W+ee.place!==V.length||2!==V[ee.place++])return!1;var Q=j(V,ee);if(!1===Q)return!1;var de=V.slice(ee.place,Q+ee.place);if(ee.place+=Q,2!==V[ee.place++])return!1;var ae=j(V,ee);if(!1===ae||V.length!==ae+ee.place)return!1;var re=V.slice(ee.place,ae+ee.place);if(0===de[0]){if(!(128&de[1]))return!1;de=de.slice(1)}if(0===re[0]){if(!(128&re[1]))return!1;re=re.slice(1)}return this.r=new h(de),this.s=new h(re),this.recoveryParam=null,!0},Y.prototype.toDER=function(V){var P=this.r.toArray(),ee=this.s.toArray();for(128&P[0]&&(P=[0].concat(P)),128&ee[0]&&(ee=[0].concat(ee)),P=R(P),ee=R(ee);!(ee[0]||128&ee[1]);)ee=ee.slice(1);var W=[2];U(W,P.length),(W=W.concat(P)).push(2),U(W,ee.length);var Q=W.concat(ee),de=[48];return U(de,Q.length),de=de.concat(Q),x.encode(de,V)}},83045:(Ye,J,A)=>{"use strict";var h=A(52529),x=A(23401),N=A(3136),Y=N.assert,M=N.parseBytes,j=A(87222),R=A(5451);function U(H){if(Y("ed25519"===H,"only tested with ed25519 so far"),!(this instanceof U))return new U(H);this.curve=H=x[H].curve,this.g=H.g,this.g.precompute(H.n.bitLength()+1),this.pointClass=H.point().constructor,this.encodingLength=Math.ceil(H.n.bitLength()/8),this.hash=h.sha512}Ye.exports=U,U.prototype.sign=function(V,P){V=M(V);var ee=this.keyFromSecret(P),W=this.hashInt(ee.messagePrefix(),V),Q=this.g.mul(W),de=this.encodePoint(Q),ae=this.hashInt(de,ee.pubBytes(),V).mul(ee.priv()),re=W.add(ae).umod(this.curve.n);return this.makeSignature({R:Q,S:re,Rencoded:de})},U.prototype.verify=function(V,P,ee){V=M(V),P=this.makeSignature(P);var W=this.keyFromPublic(ee),Q=this.hashInt(P.Rencoded(),W.pubBytes(),V),de=this.g.mul(P.S());return P.R().add(W.pub().mul(Q)).eq(de)},U.prototype.hashInt=function(){for(var V=this.hash(),P=0;P<arguments.length;P++)V.update(arguments[P]);return N.intFromLE(V.digest()).umod(this.curve.n)},U.prototype.keyFromPublic=function(V){return j.fromPublic(this,V)},U.prototype.keyFromSecret=function(V){return j.fromSecret(this,V)},U.prototype.makeSignature=function(V){return V instanceof R?V:new R(this,V)},U.prototype.encodePoint=function(V){var P=V.getY().toArray("le",this.encodingLength);return P[this.encodingLength-1]|=V.getX().isOdd()?128:0,P},U.prototype.decodePoint=function(V){var P=(V=N.parseBytes(V)).length-1,ee=V.slice(0,P).concat(-129&V[P]),W=!!(128&V[P]),Q=N.intFromLE(ee);return this.curve.pointFromY(Q,W)},U.prototype.encodeInt=function(V){return V.toArray("le",this.encodingLength)},U.prototype.decodeInt=function(V){return N.intFromLE(V)},U.prototype.isPoint=function(V){return V instanceof this.pointClass}},87222:(Ye,J,A)=>{"use strict";var h=A(3136),x=h.assert,N=h.parseBytes,Y=h.cachedProperty;function M(j,R){this.eddsa=j,this._secret=N(R.secret),j.isPoint(R.pub)?this._pub=R.pub:this._pubBytes=N(R.pub)}M.fromPublic=function(R,U){return U instanceof M?U:new M(R,{pub:U})},M.fromSecret=function(R,U){return U instanceof M?U:new M(R,{secret:U})},M.prototype.secret=function(){return this._secret},Y(M,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),Y(M,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),Y(M,"privBytes",function(){var R=this.eddsa,U=this.hash(),H=R.encodingLength-1,V=U.slice(0,R.encodingLength);return V[0]&=248,V[H]&=127,V[H]|=64,V}),Y(M,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),Y(M,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),Y(M,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),M.prototype.sign=function(R){return x(this._secret,"KeyPair can only verify"),this.eddsa.sign(R,this)},M.prototype.verify=function(R,U){return this.eddsa.verify(R,U,this)},M.prototype.getSecret=function(R){return x(this._secret,"KeyPair is public only"),h.encode(this.secret(),R)},M.prototype.getPublic=function(R){return h.encode(this.pubBytes(),R)},Ye.exports=M},5451:(Ye,J,A)=>{"use strict";var h=A(88723),x=A(3136),N=x.assert,Y=x.cachedProperty,M=x.parseBytes;function j(R,U){this.eddsa=R,"object"!=typeof U&&(U=M(U)),Array.isArray(U)&&(U={R:U.slice(0,R.encodingLength),S:U.slice(R.encodingLength)}),N(U.R&&U.S,"Signature without R or S"),R.isPoint(U.R)&&(this._R=U.R),U.S instanceof h&&(this._S=U.S),this._Rencoded=Array.isArray(U.R)?U.R:U.Rencoded,this._Sencoded=Array.isArray(U.S)?U.S:U.Sencoded}Y(j,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),Y(j,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),Y(j,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),Y(j,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),j.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},j.prototype.toHex=function(){return x.encode(this.toBytes(),"hex").toUpperCase()},Ye.exports=j},51416:Ye=>{Ye.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},3136:(Ye,J,A)=>{"use strict";var h=J,x=A(88723),N=A(39210),Y=A(21832);h.assert=N,h.toArray=Y.toArray,h.zero2=Y.zero2,h.toHex=Y.toHex,h.encode=Y.encode,h.getNAF=function M(V,P,ee){var Q,W=new Array(Math.max(V.bitLength(),ee)+1);for(Q=0;Q<W.length;Q+=1)W[Q]=0;var de=1<<P+1,ae=V.clone();for(Q=0;Q<W.length;Q++){var re,te=ae.andln(de-1);ae.isOdd()?ae.isubn(re=te>(de>>1)-1?(de>>1)-te:te):re=0,W[Q]=re,ae.iushrn(1)}return W},h.getJSF=function j(V,P){var ee=[[],[]];V=V.clone(),P=P.clone();for(var de,W=0,Q=0;V.cmpn(-W)>0||P.cmpn(-Q)>0;){var te,ue,ae=V.andln(3)+W&3,re=P.andln(3)+Q&3;3===ae&&(ae=-1),3===re&&(re=-1),te=1&ae?3!=(de=V.andln(7)+W&7)&&5!==de||2!==re?ae:-ae:0,ee[0].push(te),ue=1&re?3!=(de=P.andln(7)+Q&7)&&5!==de||2!==ae?re:-re:0,ee[1].push(ue),2*W===te+1&&(W=1-W),2*Q===ue+1&&(Q=1-Q),V.iushrn(1),P.iushrn(1)}return ee},h.cachedProperty=function R(V,P,ee){var W="_"+P;V.prototype[P]=function(){return void 0!==this[W]?this[W]:this[W]=ee.call(this)}},h.parseBytes=function U(V){return"string"==typeof V?h.toArray(V,"hex"):V},h.intFromLE=function H(V){return new x(V,"hex","le")}},88723:function(Ye,J,A){!function(h,x){"use strict";function N(B,l){if(!B)throw new Error(l||"Assertion failed")}function Y(B,l){B.super_=l;var f=function(){};f.prototype=l.prototype,B.prototype=new f,B.prototype.constructor=B}function M(B,l,f){if(M.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,null!==B&&(("le"===l||"be"===l)&&(f=l,l=10),this._init(B||0,l||10,f||"be"))}var j;"object"==typeof h?h.exports=M:x.BN=M,M.BN=M,M.wordSize=26;try{j=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:A(79368).Buffer}catch{}function R(B,l){var f=B.charCodeAt(l);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function U(B,l,f){var w=R(B,f);return f-1>=l&&(w|=R(B,f-1)<<4),w}function H(B,l,f,w){for(var _=0,D=Math.min(B.length,f),O=l;O<D;O++){var $=B.charCodeAt(O)-48;_*=w,_+=$>=49?$-49+10:$>=17?$-17+10:$}return _}M.isBN=function(l){return l instanceof M||null!==l&&"object"==typeof l&&l.constructor.wordSize===M.wordSize&&Array.isArray(l.words)},M.max=function(l,f){return l.cmp(f)>0?l:f},M.min=function(l,f){return l.cmp(f)<0?l:f},M.prototype._init=function(l,f,w){if("number"==typeof l)return this._initNumber(l,f,w);if("object"==typeof l)return this._initArray(l,f,w);"hex"===f&&(f=16),N(f===(0|f)&&f>=2&&f<=36);var _=0;"-"===(l=l.toString().replace(/\s+/g,""))[0]&&(_++,this.negative=1),_<l.length&&(16===f?this._parseHex(l,_,w):(this._parseBase(l,f,_),"le"===w&&this._initArray(this.toArray(),f,w)))},M.prototype._initNumber=function(l,f,w){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[67108863&l],this.length=1):l<4503599627370496?(this.words=[67108863&l,l/67108864&67108863],this.length=2):(N(l<9007199254740992),this.words=[67108863&l,l/67108864&67108863,1],this.length=3),"le"===w&&this._initArray(this.toArray(),f,w)},M.prototype._initArray=function(l,f,w){if(N("number"==typeof l.length),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var D,O,$=0;if("be"===w)for(_=l.length-1,D=0;_>=0;_-=3)this.words[D]|=(O=l[_]|l[_-1]<<8|l[_-2]<<16)<<$&67108863,this.words[D+1]=O>>>26-$&67108863,($+=24)>=26&&($-=26,D++);else if("le"===w)for(_=0,D=0;_<l.length;_+=3)this.words[D]|=(O=l[_]|l[_+1]<<8|l[_+2]<<16)<<$&67108863,this.words[D+1]=O>>>26-$&67108863,($+=24)>=26&&($-=26,D++);return this.strip()},M.prototype._parseHex=function(l,f,w){this.length=Math.ceil((l.length-f)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var $,D=0,O=0;if("be"===w)for(_=l.length-1;_>=f;_-=2)$=U(l,f,_)<<D,this.words[O]|=67108863&$,D>=18?(D-=18,this.words[O+=1]|=$>>>26):D+=8;else for(_=(l.length-f)%2==0?f+1:f;_<l.length;_+=2)$=U(l,f,_)<<D,this.words[O]|=67108863&$,D>=18?(D-=18,this.words[O+=1]|=$>>>26):D+=8;this.strip()},M.prototype._parseBase=function(l,f,w){this.words=[0],this.length=1;for(var _=0,D=1;D<=67108863;D*=f)_++;_--,D=D/f|0;for(var O=l.length-w,$=O%_,T=Math.min(O,O-$)+w,c=0,E=w;E<T;E+=_)c=H(l,E,E+_,f),this.imuln(D),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==$){var q=1;for(c=H(l,E,l.length,f),E=0;E<$;E++)q*=f;this.imuln(q),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},M.prototype.copy=function(l){l.words=new Array(this.length);for(var f=0;f<this.length;f++)l.words[f]=this.words[f];l.length=this.length,l.negative=this.negative,l.red=this.red},M.prototype.clone=function(){var l=new M(null);return this.copy(l),l},M.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},M.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},M.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},M.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var V=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],P=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ee=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Q(B,l,f){f.negative=l.negative^B.negative;var w=B.length+l.length|0;f.length=w,w=w-1|0;var _=0|B.words[0],D=0|l.words[0],O=_*D,T=O/67108864|0;f.words[0]=67108863&O;for(var c=1;c<w;c++){for(var E=T>>>26,q=67108863&T,X=Math.min(c,l.length-1),ce=Math.max(0,c-B.length+1);ce<=X;ce++)E+=(O=(_=0|B.words[c-ce|0])*(D=0|l.words[ce])+q)/67108864|0,q=67108863&O;f.words[c]=0|q,T=0|E}return 0!==T?f.words[c]=0|T:f.length--,f.strip()}M.prototype.toString=function(l,f){var w;if(f=0|f||1,16===(l=l||10)||"hex"===l){w="";for(var _=0,D=0,O=0;O<this.length;O++){var $=this.words[O],T=(16777215&($<<_|D)).toString(16);w=0!=(D=$>>>24-_&16777215)||O!==this.length-1?V[6-T.length]+T+w:T+w,(_+=2)>=26&&(_-=26,O--)}for(0!==D&&(w=D.toString(16)+w);w.length%f!=0;)w="0"+w;return 0!==this.negative&&(w="-"+w),w}if(l===(0|l)&&l>=2&&l<=36){var c=P[l],E=ee[l];w="";var q=this.clone();for(q.negative=0;!q.isZero();){var X=q.modn(E).toString(l);w=(q=q.idivn(E)).isZero()?X+w:V[c-X.length]+X+w}for(this.isZero()&&(w="0"+w);w.length%f!=0;)w="0"+w;return 0!==this.negative&&(w="-"+w),w}N(!1,"Base should be between 2 and 36")},M.prototype.toNumber=function(){var l=this.words[0];return 2===this.length?l+=67108864*this.words[1]:3===this.length&&1===this.words[2]?l+=4503599627370496+67108864*this.words[1]:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-l:l},M.prototype.toJSON=function(){return this.toString(16)},M.prototype.toBuffer=function(l,f){return N(typeof j<"u"),this.toArrayLike(j,l,f)},M.prototype.toArray=function(l,f){return this.toArrayLike(Array,l,f)},M.prototype.toArrayLike=function(l,f,w){var _=this.byteLength(),D=w||Math.max(1,_);N(_<=D,"byte array longer than desired length"),N(D>0,"Requested array length <= 0"),this.strip();var T,c,O="le"===f,$=new l(D),E=this.clone();if(O){for(c=0;!E.isZero();c++)T=E.andln(255),E.iushrn(8),$[c]=T;for(;c<D;c++)$[c]=0}else{for(c=0;c<D-_;c++)$[c]=0;for(c=0;!E.isZero();c++)T=E.andln(255),E.iushrn(8),$[D-c-1]=T}return $},M.prototype._countBits=Math.clz32?function(l){return 32-Math.clz32(l)}:function(l){var f=l,w=0;return f>=4096&&(w+=13,f>>>=13),f>=64&&(w+=7,f>>>=7),f>=8&&(w+=4,f>>>=4),f>=2&&(w+=2,f>>>=2),w+f},M.prototype._zeroBits=function(l){if(0===l)return 26;var f=l,w=0;return 8191&f||(w+=13,f>>>=13),127&f||(w+=7,f>>>=7),15&f||(w+=4,f>>>=4),3&f||(w+=2,f>>>=2),1&f||w++,w},M.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},M.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,f=0;f<this.length;f++){var w=this._zeroBits(this.words[f]);if(l+=w,26!==w)break}return l},M.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},M.prototype.toTwos=function(l){return 0!==this.negative?this.abs().inotn(l).iaddn(1):this.clone()},M.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},M.prototype.isNeg=function(){return 0!==this.negative},M.prototype.neg=function(){return this.clone().ineg()},M.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},M.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var f=0;f<l.length;f++)this.words[f]=this.words[f]|l.words[f];return this.strip()},M.prototype.ior=function(l){return N(!(this.negative|l.negative)),this.iuor(l)},M.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},M.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},M.prototype.iuand=function(l){var f;f=this.length>l.length?l:this;for(var w=0;w<f.length;w++)this.words[w]=this.words[w]&l.words[w];return this.length=f.length,this.strip()},M.prototype.iand=function(l){return N(!(this.negative|l.negative)),this.iuand(l)},M.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},M.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},M.prototype.iuxor=function(l){var f,w;this.length>l.length?(f=this,w=l):(f=l,w=this);for(var _=0;_<w.length;_++)this.words[_]=f.words[_]^w.words[_];if(this!==f)for(;_<f.length;_++)this.words[_]=f.words[_];return this.length=f.length,this.strip()},M.prototype.ixor=function(l){return N(!(this.negative|l.negative)),this.iuxor(l)},M.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},M.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},M.prototype.inotn=function(l){N("number"==typeof l&&l>=0);var f=0|Math.ceil(l/26),w=l%26;this._expand(f),w>0&&f--;for(var _=0;_<f;_++)this.words[_]=67108863&~this.words[_];return w>0&&(this.words[_]=~this.words[_]&67108863>>26-w),this.strip()},M.prototype.notn=function(l){return this.clone().inotn(l)},M.prototype.setn=function(l,f){N("number"==typeof l&&l>=0);var w=l/26|0,_=l%26;return this._expand(w+1),this.words[w]=f?this.words[w]|1<<_:this.words[w]&~(1<<_),this.strip()},M.prototype.iadd=function(l){var f,w,_;if(0!==this.negative&&0===l.negative)return this.negative=0,f=this.isub(l),this.negative^=1,this._normSign();if(0===this.negative&&0!==l.negative)return l.negative=0,f=this.isub(l),l.negative=1,f._normSign();this.length>l.length?(w=this,_=l):(w=l,_=this);for(var D=0,O=0;O<_.length;O++)this.words[O]=67108863&(f=(0|w.words[O])+(0|_.words[O])+D),D=f>>>26;for(;0!==D&&O<w.length;O++)this.words[O]=67108863&(f=(0|w.words[O])+D),D=f>>>26;if(this.length=w.length,0!==D)this.words[this.length]=D,this.length++;else if(w!==this)for(;O<w.length;O++)this.words[O]=w.words[O];return this},M.prototype.add=function(l){var f;return 0!==l.negative&&0===this.negative?(l.negative=0,f=this.sub(l),l.negative^=1,f):0===l.negative&&0!==this.negative?(this.negative=0,f=l.sub(this),this.negative=1,f):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},M.prototype.isub=function(l){if(0!==l.negative){l.negative=0;var f=this.iadd(l);return l.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var _,D,w=this.cmp(l);if(0===w)return this.negative=0,this.length=1,this.words[0]=0,this;w>0?(_=this,D=l):(_=l,D=this);for(var O=0,$=0;$<D.length;$++)O=(f=(0|_.words[$])-(0|D.words[$])+O)>>26,this.words[$]=67108863&f;for(;0!==O&&$<_.length;$++)O=(f=(0|_.words[$])+O)>>26,this.words[$]=67108863&f;if(0===O&&$<_.length&&_!==this)for(;$<_.length;$++)this.words[$]=_.words[$];return this.length=Math.max(this.length,$),_!==this&&(this.negative=1),this.strip()},M.prototype.sub=function(l){return this.clone().isub(l)};var de=function(l,f,w){var T,c,E,_=l.words,D=f.words,O=w.words,$=0,q=0|_[0],X=8191&q,ce=q>>>13,me=0|_[1],Te=8191&me,Ke=me>>>13,Qe=0|_[2],ke=8191&Qe,Ie=Qe>>>13,Xe=0|_[3],Se=8191&Xe,Le=Xe>>>13,Ee=0|_[4],be=8191&Ee,oe=Ee>>>13,fe=0|_[5],we=8191&fe,De=fe>>>13,$e=0|_[6],Je=8191&$e,Ze=$e>>>13,Pt=0|_[7],nt=8191&Pt,Ge=Pt>>>13,Et=0|_[8],K=8191&Et,C=Et>>>13,b=0|_[9],z=8191&b,le=b>>>13,Ae=0|D[0],Be=8191&Ae,ft=Ae>>>13,Yt=0|D[1],Rt=8191&Yt,Vt=Yt>>>13,dn=0|D[2],Mn=8191&dn,En=dn>>>13,Ar=0|D[3],jn=8191&Ar,mn=Ar>>>13,pn=0|D[4],kt=8191&pn,St=pn>>>13,an=0|D[5],hn=8191&an,An=an>>>13,Rr=0|D[6],Tt=8191&Rr,Nt=Rr>>>13,Lt=0|D[7],st=8191&Lt,mt=Lt>>>13,sn=0|D[8],Zt=8191&sn,xn=sn>>>13,cr=0|D[9],kn=8191&cr,zn=cr>>>13;w.negative=l.negative^f.negative,w.length=19;var qr=($+(T=Math.imul(X,Be))|0)+((8191&(c=(c=Math.imul(X,ft))+Math.imul(ce,Be)|0))<<13)|0;$=((E=Math.imul(ce,ft))+(c>>>13)|0)+(qr>>>26)|0,qr&=67108863,T=Math.imul(Te,Be),c=(c=Math.imul(Te,ft))+Math.imul(Ke,Be)|0,E=Math.imul(Ke,ft);var pr=($+(T=T+Math.imul(X,Rt)|0)|0)+((8191&(c=(c=c+Math.imul(X,Vt)|0)+Math.imul(ce,Rt)|0))<<13)|0;$=((E=E+Math.imul(ce,Vt)|0)+(c>>>13)|0)+(pr>>>26)|0,pr&=67108863,T=Math.imul(ke,Be),c=(c=Math.imul(ke,ft))+Math.imul(Ie,Be)|0,E=Math.imul(Ie,ft),T=T+Math.imul(Te,Rt)|0,c=(c=c+Math.imul(Te,Vt)|0)+Math.imul(Ke,Rt)|0,E=E+Math.imul(Ke,Vt)|0;var qn=($+(T=T+Math.imul(X,Mn)|0)|0)+((8191&(c=(c=c+Math.imul(X,En)|0)+Math.imul(ce,Mn)|0))<<13)|0;$=((E=E+Math.imul(ce,En)|0)+(c>>>13)|0)+(qn>>>26)|0,qn&=67108863,T=Math.imul(Se,Be),c=(c=Math.imul(Se,ft))+Math.imul(Le,Be)|0,E=Math.imul(Le,ft),T=T+Math.imul(ke,Rt)|0,c=(c=c+Math.imul(ke,Vt)|0)+Math.imul(Ie,Rt)|0,E=E+Math.imul(Ie,Vt)|0,T=T+Math.imul(Te,Mn)|0,c=(c=c+Math.imul(Te,En)|0)+Math.imul(Ke,Mn)|0,E=E+Math.imul(Ke,En)|0;var Jt=($+(T=T+Math.imul(X,jn)|0)|0)+((8191&(c=(c=c+Math.imul(X,mn)|0)+Math.imul(ce,jn)|0))<<13)|0;$=((E=E+Math.imul(ce,mn)|0)+(c>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,T=Math.imul(be,Be),c=(c=Math.imul(be,ft))+Math.imul(oe,Be)|0,E=Math.imul(oe,ft),T=T+Math.imul(Se,Rt)|0,c=(c=c+Math.imul(Se,Vt)|0)+Math.imul(Le,Rt)|0,E=E+Math.imul(Le,Vt)|0,T=T+Math.imul(ke,Mn)|0,c=(c=c+Math.imul(ke,En)|0)+Math.imul(Ie,Mn)|0,E=E+Math.imul(Ie,En)|0,T=T+Math.imul(Te,jn)|0,c=(c=c+Math.imul(Te,mn)|0)+Math.imul(Ke,jn)|0,E=E+Math.imul(Ke,mn)|0;var dt=($+(T=T+Math.imul(X,kt)|0)|0)+((8191&(c=(c=c+Math.imul(X,St)|0)+Math.imul(ce,kt)|0))<<13)|0;$=((E=E+Math.imul(ce,St)|0)+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,T=Math.imul(we,Be),c=(c=Math.imul(we,ft))+Math.imul(De,Be)|0,E=Math.imul(De,ft),T=T+Math.imul(be,Rt)|0,c=(c=c+Math.imul(be,Vt)|0)+Math.imul(oe,Rt)|0,E=E+Math.imul(oe,Vt)|0,T=T+Math.imul(Se,Mn)|0,c=(c=c+Math.imul(Se,En)|0)+Math.imul(Le,Mn)|0,E=E+Math.imul(Le,En)|0,T=T+Math.imul(ke,jn)|0,c=(c=c+Math.imul(ke,mn)|0)+Math.imul(Ie,jn)|0,E=E+Math.imul(Ie,mn)|0,T=T+Math.imul(Te,kt)|0,c=(c=c+Math.imul(Te,St)|0)+Math.imul(Ke,kt)|0,E=E+Math.imul(Ke,St)|0;var Ne=($+(T=T+Math.imul(X,hn)|0)|0)+((8191&(c=(c=c+Math.imul(X,An)|0)+Math.imul(ce,hn)|0))<<13)|0;$=((E=E+Math.imul(ce,An)|0)+(c>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,T=Math.imul(Je,Be),c=(c=Math.imul(Je,ft))+Math.imul(Ze,Be)|0,E=Math.imul(Ze,ft),T=T+Math.imul(we,Rt)|0,c=(c=c+Math.imul(we,Vt)|0)+Math.imul(De,Rt)|0,E=E+Math.imul(De,Vt)|0,T=T+Math.imul(be,Mn)|0,c=(c=c+Math.imul(be,En)|0)+Math.imul(oe,Mn)|0,E=E+Math.imul(oe,En)|0,T=T+Math.imul(Se,jn)|0,c=(c=c+Math.imul(Se,mn)|0)+Math.imul(Le,jn)|0,E=E+Math.imul(Le,mn)|0,T=T+Math.imul(ke,kt)|0,c=(c=c+Math.imul(ke,St)|0)+Math.imul(Ie,kt)|0,E=E+Math.imul(Ie,St)|0,T=T+Math.imul(Te,hn)|0,c=(c=c+Math.imul(Te,An)|0)+Math.imul(Ke,hn)|0,E=E+Math.imul(Ke,An)|0;var We=($+(T=T+Math.imul(X,Tt)|0)|0)+((8191&(c=(c=c+Math.imul(X,Nt)|0)+Math.imul(ce,Tt)|0))<<13)|0;$=((E=E+Math.imul(ce,Nt)|0)+(c>>>13)|0)+(We>>>26)|0,We&=67108863,T=Math.imul(nt,Be),c=(c=Math.imul(nt,ft))+Math.imul(Ge,Be)|0,E=Math.imul(Ge,ft),T=T+Math.imul(Je,Rt)|0,c=(c=c+Math.imul(Je,Vt)|0)+Math.imul(Ze,Rt)|0,E=E+Math.imul(Ze,Vt)|0,T=T+Math.imul(we,Mn)|0,c=(c=c+Math.imul(we,En)|0)+Math.imul(De,Mn)|0,E=E+Math.imul(De,En)|0,T=T+Math.imul(be,jn)|0,c=(c=c+Math.imul(be,mn)|0)+Math.imul(oe,jn)|0,E=E+Math.imul(oe,mn)|0,T=T+Math.imul(Se,kt)|0,c=(c=c+Math.imul(Se,St)|0)+Math.imul(Le,kt)|0,E=E+Math.imul(Le,St)|0,T=T+Math.imul(ke,hn)|0,c=(c=c+Math.imul(ke,An)|0)+Math.imul(Ie,hn)|0,E=E+Math.imul(Ie,An)|0,T=T+Math.imul(Te,Tt)|0,c=(c=c+Math.imul(Te,Nt)|0)+Math.imul(Ke,Tt)|0,E=E+Math.imul(Ke,Nt)|0;var Bt=($+(T=T+Math.imul(X,st)|0)|0)+((8191&(c=(c=c+Math.imul(X,mt)|0)+Math.imul(ce,st)|0))<<13)|0;$=((E=E+Math.imul(ce,mt)|0)+(c>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,T=Math.imul(K,Be),c=(c=Math.imul(K,ft))+Math.imul(C,Be)|0,E=Math.imul(C,ft),T=T+Math.imul(nt,Rt)|0,c=(c=c+Math.imul(nt,Vt)|0)+Math.imul(Ge,Rt)|0,E=E+Math.imul(Ge,Vt)|0,T=T+Math.imul(Je,Mn)|0,c=(c=c+Math.imul(Je,En)|0)+Math.imul(Ze,Mn)|0,E=E+Math.imul(Ze,En)|0,T=T+Math.imul(we,jn)|0,c=(c=c+Math.imul(we,mn)|0)+Math.imul(De,jn)|0,E=E+Math.imul(De,mn)|0,T=T+Math.imul(be,kt)|0,c=(c=c+Math.imul(be,St)|0)+Math.imul(oe,kt)|0,E=E+Math.imul(oe,St)|0,T=T+Math.imul(Se,hn)|0,c=(c=c+Math.imul(Se,An)|0)+Math.imul(Le,hn)|0,E=E+Math.imul(Le,An)|0,T=T+Math.imul(ke,Tt)|0,c=(c=c+Math.imul(ke,Nt)|0)+Math.imul(Ie,Tt)|0,E=E+Math.imul(Ie,Nt)|0,T=T+Math.imul(Te,st)|0,c=(c=c+Math.imul(Te,mt)|0)+Math.imul(Ke,st)|0,E=E+Math.imul(Ke,mt)|0;var gn=($+(T=T+Math.imul(X,Zt)|0)|0)+((8191&(c=(c=c+Math.imul(X,xn)|0)+Math.imul(ce,Zt)|0))<<13)|0;$=((E=E+Math.imul(ce,xn)|0)+(c>>>13)|0)+(gn>>>26)|0,gn&=67108863,T=Math.imul(z,Be),c=(c=Math.imul(z,ft))+Math.imul(le,Be)|0,E=Math.imul(le,ft),T=T+Math.imul(K,Rt)|0,c=(c=c+Math.imul(K,Vt)|0)+Math.imul(C,Rt)|0,E=E+Math.imul(C,Vt)|0,T=T+Math.imul(nt,Mn)|0,c=(c=c+Math.imul(nt,En)|0)+Math.imul(Ge,Mn)|0,E=E+Math.imul(Ge,En)|0,T=T+Math.imul(Je,jn)|0,c=(c=c+Math.imul(Je,mn)|0)+Math.imul(Ze,jn)|0,E=E+Math.imul(Ze,mn)|0,T=T+Math.imul(we,kt)|0,c=(c=c+Math.imul(we,St)|0)+Math.imul(De,kt)|0,E=E+Math.imul(De,St)|0,T=T+Math.imul(be,hn)|0,c=(c=c+Math.imul(be,An)|0)+Math.imul(oe,hn)|0,E=E+Math.imul(oe,An)|0,T=T+Math.imul(Se,Tt)|0,c=(c=c+Math.imul(Se,Nt)|0)+Math.imul(Le,Tt)|0,E=E+Math.imul(Le,Nt)|0,T=T+Math.imul(ke,st)|0,c=(c=c+Math.imul(ke,mt)|0)+Math.imul(Ie,st)|0,E=E+Math.imul(Ie,mt)|0,T=T+Math.imul(Te,Zt)|0,c=(c=c+Math.imul(Te,xn)|0)+Math.imul(Ke,Zt)|0,E=E+Math.imul(Ke,xn)|0;var Kn=($+(T=T+Math.imul(X,kn)|0)|0)+((8191&(c=(c=c+Math.imul(X,zn)|0)+Math.imul(ce,kn)|0))<<13)|0;$=((E=E+Math.imul(ce,zn)|0)+(c>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,T=Math.imul(z,Rt),c=(c=Math.imul(z,Vt))+Math.imul(le,Rt)|0,E=Math.imul(le,Vt),T=T+Math.imul(K,Mn)|0,c=(c=c+Math.imul(K,En)|0)+Math.imul(C,Mn)|0,E=E+Math.imul(C,En)|0,T=T+Math.imul(nt,jn)|0,c=(c=c+Math.imul(nt,mn)|0)+Math.imul(Ge,jn)|0,E=E+Math.imul(Ge,mn)|0,T=T+Math.imul(Je,kt)|0,c=(c=c+Math.imul(Je,St)|0)+Math.imul(Ze,kt)|0,E=E+Math.imul(Ze,St)|0,T=T+Math.imul(we,hn)|0,c=(c=c+Math.imul(we,An)|0)+Math.imul(De,hn)|0,E=E+Math.imul(De,An)|0,T=T+Math.imul(be,Tt)|0,c=(c=c+Math.imul(be,Nt)|0)+Math.imul(oe,Tt)|0,E=E+Math.imul(oe,Nt)|0,T=T+Math.imul(Se,st)|0,c=(c=c+Math.imul(Se,mt)|0)+Math.imul(Le,st)|0,E=E+Math.imul(Le,mt)|0,T=T+Math.imul(ke,Zt)|0,c=(c=c+Math.imul(ke,xn)|0)+Math.imul(Ie,Zt)|0,E=E+Math.imul(Ie,xn)|0;var ir=($+(T=T+Math.imul(Te,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Te,zn)|0)+Math.imul(Ke,kn)|0))<<13)|0;$=((E=E+Math.imul(Ke,zn)|0)+(c>>>13)|0)+(ir>>>26)|0,ir&=67108863,T=Math.imul(z,Mn),c=(c=Math.imul(z,En))+Math.imul(le,Mn)|0,E=Math.imul(le,En),T=T+Math.imul(K,jn)|0,c=(c=c+Math.imul(K,mn)|0)+Math.imul(C,jn)|0,E=E+Math.imul(C,mn)|0,T=T+Math.imul(nt,kt)|0,c=(c=c+Math.imul(nt,St)|0)+Math.imul(Ge,kt)|0,E=E+Math.imul(Ge,St)|0,T=T+Math.imul(Je,hn)|0,c=(c=c+Math.imul(Je,An)|0)+Math.imul(Ze,hn)|0,E=E+Math.imul(Ze,An)|0,T=T+Math.imul(we,Tt)|0,c=(c=c+Math.imul(we,Nt)|0)+Math.imul(De,Tt)|0,E=E+Math.imul(De,Nt)|0,T=T+Math.imul(be,st)|0,c=(c=c+Math.imul(be,mt)|0)+Math.imul(oe,st)|0,E=E+Math.imul(oe,mt)|0,T=T+Math.imul(Se,Zt)|0,c=(c=c+Math.imul(Se,xn)|0)+Math.imul(Le,Zt)|0,E=E+Math.imul(Le,xn)|0;var hr=($+(T=T+Math.imul(ke,kn)|0)|0)+((8191&(c=(c=c+Math.imul(ke,zn)|0)+Math.imul(Ie,kn)|0))<<13)|0;$=((E=E+Math.imul(Ie,zn)|0)+(c>>>13)|0)+(hr>>>26)|0,hr&=67108863,T=Math.imul(z,jn),c=(c=Math.imul(z,mn))+Math.imul(le,jn)|0,E=Math.imul(le,mn),T=T+Math.imul(K,kt)|0,c=(c=c+Math.imul(K,St)|0)+Math.imul(C,kt)|0,E=E+Math.imul(C,St)|0,T=T+Math.imul(nt,hn)|0,c=(c=c+Math.imul(nt,An)|0)+Math.imul(Ge,hn)|0,E=E+Math.imul(Ge,An)|0,T=T+Math.imul(Je,Tt)|0,c=(c=c+Math.imul(Je,Nt)|0)+Math.imul(Ze,Tt)|0,E=E+Math.imul(Ze,Nt)|0,T=T+Math.imul(we,st)|0,c=(c=c+Math.imul(we,mt)|0)+Math.imul(De,st)|0,E=E+Math.imul(De,mt)|0,T=T+Math.imul(be,Zt)|0,c=(c=c+Math.imul(be,xn)|0)+Math.imul(oe,Zt)|0,E=E+Math.imul(oe,xn)|0;var Wr=($+(T=T+Math.imul(Se,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Se,zn)|0)+Math.imul(Le,kn)|0))<<13)|0;$=((E=E+Math.imul(Le,zn)|0)+(c>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,T=Math.imul(z,kt),c=(c=Math.imul(z,St))+Math.imul(le,kt)|0,E=Math.imul(le,St),T=T+Math.imul(K,hn)|0,c=(c=c+Math.imul(K,An)|0)+Math.imul(C,hn)|0,E=E+Math.imul(C,An)|0,T=T+Math.imul(nt,Tt)|0,c=(c=c+Math.imul(nt,Nt)|0)+Math.imul(Ge,Tt)|0,E=E+Math.imul(Ge,Nt)|0,T=T+Math.imul(Je,st)|0,c=(c=c+Math.imul(Je,mt)|0)+Math.imul(Ze,st)|0,E=E+Math.imul(Ze,mt)|0,T=T+Math.imul(we,Zt)|0,c=(c=c+Math.imul(we,xn)|0)+Math.imul(De,Zt)|0,E=E+Math.imul(De,xn)|0;var Vr=($+(T=T+Math.imul(be,kn)|0)|0)+((8191&(c=(c=c+Math.imul(be,zn)|0)+Math.imul(oe,kn)|0))<<13)|0;$=((E=E+Math.imul(oe,zn)|0)+(c>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,T=Math.imul(z,hn),c=(c=Math.imul(z,An))+Math.imul(le,hn)|0,E=Math.imul(le,An),T=T+Math.imul(K,Tt)|0,c=(c=c+Math.imul(K,Nt)|0)+Math.imul(C,Tt)|0,E=E+Math.imul(C,Nt)|0,T=T+Math.imul(nt,st)|0,c=(c=c+Math.imul(nt,mt)|0)+Math.imul(Ge,st)|0,E=E+Math.imul(Ge,mt)|0,T=T+Math.imul(Je,Zt)|0,c=(c=c+Math.imul(Je,xn)|0)+Math.imul(Ze,Zt)|0,E=E+Math.imul(Ze,xn)|0;var ti=($+(T=T+Math.imul(we,kn)|0)|0)+((8191&(c=(c=c+Math.imul(we,zn)|0)+Math.imul(De,kn)|0))<<13)|0;$=((E=E+Math.imul(De,zn)|0)+(c>>>13)|0)+(ti>>>26)|0,ti&=67108863,T=Math.imul(z,Tt),c=(c=Math.imul(z,Nt))+Math.imul(le,Tt)|0,E=Math.imul(le,Nt),T=T+Math.imul(K,st)|0,c=(c=c+Math.imul(K,mt)|0)+Math.imul(C,st)|0,E=E+Math.imul(C,mt)|0,T=T+Math.imul(nt,Zt)|0,c=(c=c+Math.imul(nt,xn)|0)+Math.imul(Ge,Zt)|0,E=E+Math.imul(Ge,xn)|0;var ni=($+(T=T+Math.imul(Je,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Je,zn)|0)+Math.imul(Ze,kn)|0))<<13)|0;$=((E=E+Math.imul(Ze,zn)|0)+(c>>>13)|0)+(ni>>>26)|0,ni&=67108863,T=Math.imul(z,st),c=(c=Math.imul(z,mt))+Math.imul(le,st)|0,E=Math.imul(le,mt),T=T+Math.imul(K,Zt)|0,c=(c=c+Math.imul(K,xn)|0)+Math.imul(C,Zt)|0,E=E+Math.imul(C,xn)|0;var Ei=($+(T=T+Math.imul(nt,kn)|0)|0)+((8191&(c=(c=c+Math.imul(nt,zn)|0)+Math.imul(Ge,kn)|0))<<13)|0;$=((E=E+Math.imul(Ge,zn)|0)+(c>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,T=Math.imul(z,Zt),c=(c=Math.imul(z,xn))+Math.imul(le,Zt)|0,E=Math.imul(le,xn);var yn=($+(T=T+Math.imul(K,kn)|0)|0)+((8191&(c=(c=c+Math.imul(K,zn)|0)+Math.imul(C,kn)|0))<<13)|0;$=((E=E+Math.imul(C,zn)|0)+(c>>>13)|0)+(yn>>>26)|0,yn&=67108863;var Pn=($+(T=Math.imul(z,kn))|0)+((8191&(c=(c=Math.imul(z,zn))+Math.imul(le,kn)|0))<<13)|0;return $=((E=Math.imul(le,zn))+(c>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,O[0]=qr,O[1]=pr,O[2]=qn,O[3]=Jt,O[4]=dt,O[5]=Ne,O[6]=We,O[7]=Bt,O[8]=gn,O[9]=Kn,O[10]=ir,O[11]=hr,O[12]=Wr,O[13]=Vr,O[14]=ti,O[15]=ni,O[16]=Ei,O[17]=yn,O[18]=Pn,0!==$&&(O[19]=$,w.length++),w};function re(B,l,f){return(new te).mulp(B,l,f)}function te(B,l){this.x=B,this.y=l}Math.imul||(de=Q),M.prototype.mulTo=function(l,f){var w,_=this.length+l.length;return w=10===this.length&&10===l.length?de(this,l,f):_<63?Q(this,l,f):_<1024?function ae(B,l,f){f.negative=l.negative^B.negative,f.length=B.length+l.length;for(var w=0,_=0,D=0;D<f.length-1;D++){var O=_;_=0;for(var $=67108863&w,T=Math.min(D,l.length-1),c=Math.max(0,D-B.length+1);c<=T;c++){var ce=(0|B.words[D-c])*(0|l.words[c]),me=67108863&ce;$=67108863&(me=me+$|0),_+=(O=(O=O+(ce/67108864|0)|0)+(me>>>26)|0)>>>26,O&=67108863}f.words[D]=$,w=O,O=_}return 0!==w?f.words[D]=w:f.length--,f.strip()}(this,l,f):re(this,l,f),w},te.prototype.makeRBT=function(l){for(var f=new Array(l),w=M.prototype._countBits(l)-1,_=0;_<l;_++)f[_]=this.revBin(_,w,l);return f},te.prototype.revBin=function(l,f,w){if(0===l||l===w-1)return l;for(var _=0,D=0;D<f;D++)_|=(1&l)<<f-D-1,l>>=1;return _},te.prototype.permute=function(l,f,w,_,D,O){for(var $=0;$<O;$++)_[$]=f[l[$]],D[$]=w[l[$]]},te.prototype.transform=function(l,f,w,_,D,O){this.permute(O,l,f,w,_,D);for(var $=1;$<D;$<<=1)for(var T=$<<1,c=Math.cos(2*Math.PI/T),E=Math.sin(2*Math.PI/T),q=0;q<D;q+=T)for(var X=c,ce=E,me=0;me<$;me++){var Te=w[q+me],Ke=_[q+me],Qe=w[q+me+$],ke=_[q+me+$],Ie=X*Qe-ce*ke;ke=X*ke+ce*Qe,w[q+me]=Te+(Qe=Ie),_[q+me]=Ke+ke,w[q+me+$]=Te-Qe,_[q+me+$]=Ke-ke,me!==T&&(Ie=c*X-E*ce,ce=c*ce+E*X,X=Ie)}},te.prototype.guessLen13b=function(l,f){var w=1|Math.max(f,l),_=1&w,D=0;for(w=w/2|0;w;w>>>=1)D++;return 1<<D+1+_},te.prototype.conjugate=function(l,f,w){if(!(w<=1))for(var _=0;_<w/2;_++){var D=l[_];l[_]=l[w-_-1],l[w-_-1]=D,D=f[_],f[_]=-f[w-_-1],f[w-_-1]=-D}},te.prototype.normalize13b=function(l,f){for(var w=0,_=0;_<f/2;_++){var D=8192*Math.round(l[2*_+1]/f)+Math.round(l[2*_]/f)+w;l[_]=67108863&D,w=D<67108864?0:D/67108864|0}return l},te.prototype.convert13b=function(l,f,w,_){for(var D=0,O=0;O<f;O++)w[2*O]=8191&(D+=0|l[O]),w[2*O+1]=8191&(D>>>=13),D>>>=13;for(O=2*f;O<_;++O)w[O]=0;N(0===D),N(!(-8192&D))},te.prototype.stub=function(l){for(var f=new Array(l),w=0;w<l;w++)f[w]=0;return f},te.prototype.mulp=function(l,f,w){var _=2*this.guessLen13b(l.length,f.length),D=this.makeRBT(_),O=this.stub(_),$=new Array(_),T=new Array(_),c=new Array(_),E=new Array(_),q=new Array(_),X=new Array(_),ce=w.words;ce.length=_,this.convert13b(l.words,l.length,$,_),this.convert13b(f.words,f.length,E,_),this.transform($,O,T,c,_,D),this.transform(E,O,q,X,_,D);for(var me=0;me<_;me++){var Te=T[me]*q[me]-c[me]*X[me];c[me]=T[me]*X[me]+c[me]*q[me],T[me]=Te}return this.conjugate(T,c,_),this.transform(T,c,ce,O,_,D),this.conjugate(ce,O,_),this.normalize13b(ce,_),w.negative=l.negative^f.negative,w.length=l.length+f.length,w.strip()},M.prototype.mul=function(l){var f=new M(null);return f.words=new Array(this.length+l.length),this.mulTo(l,f)},M.prototype.mulf=function(l){var f=new M(null);return f.words=new Array(this.length+l.length),re(this,l,f)},M.prototype.imul=function(l){return this.clone().mulTo(l,this)},M.prototype.imuln=function(l){N("number"==typeof l),N(l<67108864);for(var f=0,w=0;w<this.length;w++){var _=(0|this.words[w])*l,D=(67108863&_)+(67108863&f);f>>=26,f+=_/67108864|0,f+=D>>>26,this.words[w]=67108863&D}return 0!==f&&(this.words[w]=f,this.length++),this},M.prototype.muln=function(l){return this.clone().imuln(l)},M.prototype.sqr=function(){return this.mul(this)},M.prototype.isqr=function(){return this.imul(this.clone())},M.prototype.pow=function(l){var f=function W(B){for(var l=new Array(B.bitLength()),f=0;f<l.length;f++){var _=f%26;l[f]=(B.words[f/26|0]&1<<_)>>>_}return l}(l);if(0===f.length)return new M(1);for(var w=this,_=0;_<f.length&&0===f[_];_++,w=w.sqr());if(++_<f.length)for(var D=w.sqr();_<f.length;_++,D=D.sqr())0!==f[_]&&(w=w.mul(D));return w},M.prototype.iushln=function(l){N("number"==typeof l&&l>=0);var D,f=l%26,w=(l-f)/26,_=67108863>>>26-f<<26-f;if(0!==f){var O=0;for(D=0;D<this.length;D++){var $=this.words[D]&_;this.words[D]=(0|this.words[D])-$<<f|O,O=$>>>26-f}O&&(this.words[D]=O,this.length++)}if(0!==w){for(D=this.length-1;D>=0;D--)this.words[D+w]=this.words[D];for(D=0;D<w;D++)this.words[D]=0;this.length+=w}return this.strip()},M.prototype.ishln=function(l){return N(0===this.negative),this.iushln(l)},M.prototype.iushrn=function(l,f,w){var _;N("number"==typeof l&&l>=0),_=f?(f-f%26)/26:0;var D=l%26,O=Math.min((l-D)/26,this.length),$=67108863^67108863>>>D<<D,T=w;if(_-=O,_=Math.max(0,_),T){for(var c=0;c<O;c++)T.words[c]=this.words[c];T.length=O}if(0!==O)if(this.length>O)for(this.length-=O,c=0;c<this.length;c++)this.words[c]=this.words[c+O];else this.words[0]=0,this.length=1;var E=0;for(c=this.length-1;c>=0&&(0!==E||c>=_);c--){var q=0|this.words[c];this.words[c]=E<<26-D|q>>>D,E=q&$}return T&&0!==E&&(T.words[T.length++]=E),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},M.prototype.ishrn=function(l,f,w){return N(0===this.negative),this.iushrn(l,f,w)},M.prototype.shln=function(l){return this.clone().ishln(l)},M.prototype.ushln=function(l){return this.clone().iushln(l)},M.prototype.shrn=function(l){return this.clone().ishrn(l)},M.prototype.ushrn=function(l){return this.clone().iushrn(l)},M.prototype.testn=function(l){N("number"==typeof l&&l>=0);var f=l%26,w=(l-f)/26;return!(this.length<=w||!(this.words[w]&1<<f))},M.prototype.imaskn=function(l){N("number"==typeof l&&l>=0);var f=l%26,w=(l-f)/26;return N(0===this.negative,"imaskn works only with positive numbers"),this.length<=w?this:(0!==f&&w++,this.length=Math.min(w,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},M.prototype.maskn=function(l){return this.clone().imaskn(l)},M.prototype.iaddn=function(l){return N("number"==typeof l),N(l<67108864),l<0?this.isubn(-l):0!==this.negative?1===this.length&&(0|this.words[0])<l?(this.words[0]=l-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},M.prototype._iaddn=function(l){this.words[0]+=l;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},M.prototype.isubn=function(l){if(N("number"==typeof l),N(l<67108864),l<0)return this.iaddn(-l);if(0!==this.negative)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},M.prototype.addn=function(l){return this.clone().iaddn(l)},M.prototype.subn=function(l){return this.clone().isubn(l)},M.prototype.iabs=function(){return this.negative=0,this},M.prototype.abs=function(){return this.clone().iabs()},M.prototype._ishlnsubmul=function(l,f,w){var D;this._expand(l.length+w);var O,$=0;for(D=0;D<l.length;D++){O=(0|this.words[D+w])+$;var T=(0|l.words[D])*f;$=((O-=67108863&T)>>26)-(T/67108864|0),this.words[D+w]=67108863&O}for(;D<this.length-w;D++)$=(O=(0|this.words[D+w])+$)>>26,this.words[D+w]=67108863&O;if(0===$)return this.strip();for(N(-1===$),$=0,D=0;D<this.length;D++)$=(O=-(0|this.words[D])+$)>>26,this.words[D]=67108863&O;return this.negative=1,this.strip()},M.prototype._wordDiv=function(l,f){var w,_=this.clone(),D=l,O=0|D.words[D.length-1];0!=(w=26-this._countBits(O))&&(D=D.ushln(w),_.iushln(w),O=0|D.words[D.length-1]);var c,T=_.length-D.length;if("mod"!==f){(c=new M(null)).length=T+1,c.words=new Array(c.length);for(var E=0;E<c.length;E++)c.words[E]=0}var q=_.clone()._ishlnsubmul(D,1,T);0===q.negative&&(_=q,c&&(c.words[T]=1));for(var X=T-1;X>=0;X--){var ce=67108864*(0|_.words[D.length+X])+(0|_.words[D.length+X-1]);for(ce=Math.min(ce/O|0,67108863),_._ishlnsubmul(D,ce,X);0!==_.negative;)ce--,_.negative=0,_._ishlnsubmul(D,1,X),_.isZero()||(_.negative^=1);c&&(c.words[X]=ce)}return c&&c.strip(),_.strip(),"div"!==f&&0!==w&&_.iushrn(w),{div:c||null,mod:_}},M.prototype.divmod=function(l,f,w){return N(!l.isZero()),this.isZero()?{div:new M(0),mod:new M(0)}:0!==this.negative&&0===l.negative?(O=this.neg().divmod(l,f),"mod"!==f&&(_=O.div.neg()),"div"!==f&&(D=O.mod.neg(),w&&0!==D.negative&&D.iadd(l)),{div:_,mod:D}):0===this.negative&&0!==l.negative?(O=this.divmod(l.neg(),f),"mod"!==f&&(_=O.div.neg()),{div:_,mod:O.mod}):this.negative&l.negative?(O=this.neg().divmod(l.neg(),f),"div"!==f&&(D=O.mod.neg(),w&&0!==D.negative&&D.isub(l)),{div:O.div,mod:D}):l.length>this.length||this.cmp(l)<0?{div:new M(0),mod:this}:1===l.length?"div"===f?{div:this.divn(l.words[0]),mod:null}:"mod"===f?{div:null,mod:new M(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new M(this.modn(l.words[0]))}:this._wordDiv(l,f);var _,D,O},M.prototype.div=function(l){return this.divmod(l,"div",!1).div},M.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},M.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},M.prototype.divRound=function(l){var f=this.divmod(l);if(f.mod.isZero())return f.div;var w=0!==f.div.negative?f.mod.isub(l):f.mod,_=l.ushrn(1),D=l.andln(1),O=w.cmp(_);return O<0||1===D&&0===O?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},M.prototype.modn=function(l){N(l<=67108863);for(var f=(1<<26)%l,w=0,_=this.length-1;_>=0;_--)w=(f*w+(0|this.words[_]))%l;return w},M.prototype.idivn=function(l){N(l<=67108863);for(var f=0,w=this.length-1;w>=0;w--){var _=(0|this.words[w])+67108864*f;this.words[w]=_/l|0,f=_%l}return this.strip()},M.prototype.divn=function(l){return this.clone().idivn(l)},M.prototype.egcd=function(l){N(0===l.negative),N(!l.isZero());var f=this,w=l.clone();f=0!==f.negative?f.umod(l):f.clone();for(var _=new M(1),D=new M(0),O=new M(0),$=new M(1),T=0;f.isEven()&&w.isEven();)f.iushrn(1),w.iushrn(1),++T;for(var c=w.clone(),E=f.clone();!f.isZero();){for(var q=0,X=1;!(f.words[0]&X)&&q<26;++q,X<<=1);if(q>0)for(f.iushrn(q);q-- >0;)(_.isOdd()||D.isOdd())&&(_.iadd(c),D.isub(E)),_.iushrn(1),D.iushrn(1);for(var ce=0,me=1;!(w.words[0]&me)&&ce<26;++ce,me<<=1);if(ce>0)for(w.iushrn(ce);ce-- >0;)(O.isOdd()||$.isOdd())&&(O.iadd(c),$.isub(E)),O.iushrn(1),$.iushrn(1);f.cmp(w)>=0?(f.isub(w),_.isub(O),D.isub($)):(w.isub(f),O.isub(_),$.isub(D))}return{a:O,b:$,gcd:w.iushln(T)}},M.prototype._invmp=function(l){N(0===l.negative),N(!l.isZero());var q,f=this,w=l.clone();f=0!==f.negative?f.umod(l):f.clone();for(var _=new M(1),D=new M(0),O=w.clone();f.cmpn(1)>0&&w.cmpn(1)>0;){for(var $=0,T=1;!(f.words[0]&T)&&$<26;++$,T<<=1);if($>0)for(f.iushrn($);$-- >0;)_.isOdd()&&_.iadd(O),_.iushrn(1);for(var c=0,E=1;!(w.words[0]&E)&&c<26;++c,E<<=1);if(c>0)for(w.iushrn(c);c-- >0;)D.isOdd()&&D.iadd(O),D.iushrn(1);f.cmp(w)>=0?(f.isub(w),_.isub(D)):(w.isub(f),D.isub(_))}return(q=0===f.cmpn(1)?_:D).cmpn(0)<0&&q.iadd(l),q},M.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var f=this.clone(),w=l.clone();f.negative=0,w.negative=0;for(var _=0;f.isEven()&&w.isEven();_++)f.iushrn(1),w.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;w.isEven();)w.iushrn(1);var D=f.cmp(w);if(D<0){var O=f;f=w,w=O}else if(0===D||0===w.cmpn(1))break;f.isub(w)}return w.iushln(_)},M.prototype.invm=function(l){return this.egcd(l).a.umod(l)},M.prototype.isEven=function(){return!(1&this.words[0])},M.prototype.isOdd=function(){return!(1&~this.words[0])},M.prototype.andln=function(l){return this.words[0]&l},M.prototype.bincn=function(l){N("number"==typeof l);var f=l%26,w=(l-f)/26,_=1<<f;if(this.length<=w)return this._expand(w+1),this.words[w]|=_,this;for(var D=_,O=w;0!==D&&O<this.length;O++){var $=0|this.words[O];D=($+=D)>>>26,this.words[O]=$&=67108863}return 0!==D&&(this.words[O]=D,this.length++),this},M.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},M.prototype.cmpn=function(l){var w,f=l<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)w=1;else{f&&(l=-l),N(l<=67108863,"Number is too big");var _=0|this.words[0];w=_===l?0:_<l?-1:1}return 0!==this.negative?0|-w:w},M.prototype.cmp=function(l){if(0!==this.negative&&0===l.negative)return-1;if(0===this.negative&&0!==l.negative)return 1;var f=this.ucmp(l);return 0!==this.negative?0|-f:f},M.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var f=0,w=this.length-1;w>=0;w--){var _=0|this.words[w],D=0|l.words[w];if(_!==D){_<D?f=-1:_>D&&(f=1);break}}return f},M.prototype.gtn=function(l){return 1===this.cmpn(l)},M.prototype.gt=function(l){return 1===this.cmp(l)},M.prototype.gten=function(l){return this.cmpn(l)>=0},M.prototype.gte=function(l){return this.cmp(l)>=0},M.prototype.ltn=function(l){return-1===this.cmpn(l)},M.prototype.lt=function(l){return-1===this.cmp(l)},M.prototype.lten=function(l){return this.cmpn(l)<=0},M.prototype.lte=function(l){return this.cmp(l)<=0},M.prototype.eqn=function(l){return 0===this.cmpn(l)},M.prototype.eq=function(l){return 0===this.cmp(l)},M.red=function(l){return new Oe(l)},M.prototype.toRed=function(l){return N(!this.red,"Already a number in reduction context"),N(0===this.negative,"red works only with positives"),l.convertTo(this)._forceRed(l)},M.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},M.prototype._forceRed=function(l){return this.red=l,this},M.prototype.forceRed=function(l){return N(!this.red,"Already a number in reduction context"),this._forceRed(l)},M.prototype.redAdd=function(l){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},M.prototype.redIAdd=function(l){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},M.prototype.redSub=function(l){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},M.prototype.redISub=function(l){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},M.prototype.redShl=function(l){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},M.prototype.redMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},M.prototype.redIMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},M.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},M.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},M.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},M.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},M.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},M.prototype.redPow=function(l){return N(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var ue={k256:null,p224:null,p192:null,p25519:null};function pe(B,l){this.name=B,this.p=new M(l,16),this.n=this.p.bitLength(),this.k=new M(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function he(){pe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ve(){pe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ge(){pe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Me(){pe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Oe(B){if("string"==typeof B){var l=M._prime(B);this.m=l.p,this.prime=l}else N(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}function je(B){Oe.call(this,B),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new M(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}pe.prototype._tmp=function(){var l=new M(null);return l.words=new Array(Math.ceil(this.n/13)),l},pe.prototype.ireduce=function(l){var w,f=l;do{this.split(f,this.tmp),w=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(w>this.n);var _=w<this.n?-1:f.ucmp(this.p);return 0===_?(f.words[0]=0,f.length=1):_>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},pe.prototype.split=function(l,f){l.iushrn(this.n,0,f)},pe.prototype.imulK=function(l){return l.imul(this.k)},Y(he,pe),he.prototype.split=function(l,f){for(var w=4194303,_=Math.min(l.length,9),D=0;D<_;D++)f.words[D]=l.words[D];if(f.length=_,l.length<=9)return l.words[0]=0,void(l.length=1);var O=l.words[9];for(f.words[f.length++]=O&w,D=10;D<l.length;D++){var $=0|l.words[D];l.words[D-10]=($&w)<<4|O>>>22,O=$}l.words[D-10]=O>>>=22,l.length-=0===O&&l.length>10?10:9},he.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var f=0,w=0;w<l.length;w++){var _=0|l.words[w];l.words[w]=67108863&(f+=977*_),f=64*_+(f/67108864|0)}return 0===l.words[l.length-1]&&(l.length--,0===l.words[l.length-1]&&l.length--),l},Y(ve,pe),Y(ge,pe),Y(Me,pe),Me.prototype.imulK=function(l){for(var f=0,w=0;w<l.length;w++){var _=19*(0|l.words[w])+f,D=67108863&_;_>>>=26,l.words[w]=D,f=_}return 0!==f&&(l.words[l.length++]=f),l},M._prime=function(l){if(ue[l])return ue[l];var f;if("k256"===l)f=new he;else if("p224"===l)f=new ve;else if("p192"===l)f=new ge;else{if("p25519"!==l)throw new Error("Unknown prime "+l);f=new Me}return ue[l]=f,f},Oe.prototype._verify1=function(l){N(0===l.negative,"red works only with positives"),N(l.red,"red works only with red numbers")},Oe.prototype._verify2=function(l,f){N(!(l.negative|f.negative),"red works only with positives"),N(l.red&&l.red===f.red,"red works only with red numbers")},Oe.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},Oe.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},Oe.prototype.add=function(l,f){this._verify2(l,f);var w=l.add(f);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},Oe.prototype.iadd=function(l,f){this._verify2(l,f);var w=l.iadd(f);return w.cmp(this.m)>=0&&w.isub(this.m),w},Oe.prototype.sub=function(l,f){this._verify2(l,f);var w=l.sub(f);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},Oe.prototype.isub=function(l,f){this._verify2(l,f);var w=l.isub(f);return w.cmpn(0)<0&&w.iadd(this.m),w},Oe.prototype.shl=function(l,f){return this._verify1(l),this.imod(l.ushln(f))},Oe.prototype.imul=function(l,f){return this._verify2(l,f),this.imod(l.imul(f))},Oe.prototype.mul=function(l,f){return this._verify2(l,f),this.imod(l.mul(f))},Oe.prototype.isqr=function(l){return this.imul(l,l.clone())},Oe.prototype.sqr=function(l){return this.mul(l,l)},Oe.prototype.sqrt=function(l){if(l.isZero())return l.clone();var f=this.m.andln(3);if(N(f%2==1),3===f){var w=this.m.add(new M(1)).iushrn(2);return this.pow(l,w)}for(var _=this.m.subn(1),D=0;!_.isZero()&&0===_.andln(1);)D++,_.iushrn(1);N(!_.isZero());var O=new M(1).toRed(this),$=O.redNeg(),T=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new M(2*c*c).toRed(this);0!==this.pow(c,T).cmp($);)c.redIAdd($);for(var E=this.pow(c,_),q=this.pow(l,_.addn(1).iushrn(1)),X=this.pow(l,_),ce=D;0!==X.cmp(O);){for(var me=X,Te=0;0!==me.cmp(O);Te++)me=me.redSqr();N(Te<ce);var Ke=this.pow(E,new M(1).iushln(ce-Te-1));q=q.redMul(Ke),E=Ke.redSqr(),X=X.redMul(E),ce=Te}return q},Oe.prototype.invm=function(l){var f=l._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},Oe.prototype.pow=function(l,f){if(f.isZero())return new M(1).toRed(this);if(0===f.cmpn(1))return l.clone();var _=new Array(16);_[0]=new M(1).toRed(this),_[1]=l;for(var D=2;D<_.length;D++)_[D]=this.mul(_[D-1],l);var O=_[0],$=0,T=0,c=f.bitLength()%26;for(0===c&&(c=26),D=f.length-1;D>=0;D--){for(var E=f.words[D],q=c-1;q>=0;q--){var X=E>>q&1;O!==_[0]&&(O=this.sqr(O)),0!==X||0!==$?($<<=1,$|=X,(4==++T||0===D&&0===q)&&(O=this.mul(O,_[$]),T=0,$=0)):T=0}c=26}return O},Oe.prototype.convertTo=function(l){var f=l.umod(this.m);return f===l?f.clone():f},Oe.prototype.convertFrom=function(l){var f=l.clone();return f.red=null,f},M.mont=function(l){return new je(l)},Y(je,Oe),je.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},je.prototype.convertFrom=function(l){var f=this.imod(l.mul(this.rinv));return f.red=null,f},je.prototype.imul=function(l,f){if(l.isZero()||f.isZero())return l.words[0]=0,l.length=1,l;var w=l.imul(f),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=w.isub(_).iushrn(this.shift),O=D;return D.cmp(this.m)>=0?O=D.isub(this.m):D.cmpn(0)<0&&(O=D.iadd(this.m)),O._forceRed(this)},je.prototype.mul=function(l,f){if(l.isZero()||f.isZero())return new M(0)._forceRed(this);var w=l.mul(f),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=w.isub(_).iushrn(this.shift),O=D;return D.cmp(this.m)>=0?O=D.isub(this.m):D.cmpn(0)<0&&(O=D.iadd(this.m)),O._forceRed(this)},je.prototype.invm=function(l){return this.imod(l._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ye=A.nmd(Ye),this)},44356:Ye=>{"use strict";var h,J="object"==typeof Reflect?Reflect:null,A=J&&"function"==typeof J.apply?J.apply:function(pe,he,ve){return Function.prototype.apply.call(pe,he,ve)};h=J&&"function"==typeof J.ownKeys?J.ownKeys:Object.getOwnPropertySymbols?function(pe){return Object.getOwnPropertyNames(pe).concat(Object.getOwnPropertySymbols(pe))}:function(pe){return Object.getOwnPropertyNames(pe)};var N=Number.isNaN||function(pe){return pe!=pe};function Y(){Y.init.call(this)}Ye.exports=Y,Ye.exports.once=function ae(ue,pe){return new Promise(function(he,ve){function ge(Oe){ue.removeListener(pe,Me),ve(Oe)}function Me(){"function"==typeof ue.removeListener&&ue.removeListener("error",ge),he([].slice.call(arguments))}te(ue,pe,Me,{once:!0}),"error"!==pe&&function re(ue,pe,he){"function"==typeof ue.on&&te(ue,"error",pe,he)}(ue,ge,{once:!0})})},Y.EventEmitter=Y,Y.prototype._events=void 0,Y.prototype._eventsCount=0,Y.prototype._maxListeners=void 0;var M=10;function j(ue){if("function"!=typeof ue)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ue)}function R(ue){return void 0===ue._maxListeners?Y.defaultMaxListeners:ue._maxListeners}function U(ue,pe,he,ve){var ge,Me,Oe;if(j(he),void 0===(Me=ue._events)?(Me=ue._events=Object.create(null),ue._eventsCount=0):(void 0!==Me.newListener&&(ue.emit("newListener",pe,he.listener?he.listener:he),Me=ue._events),Oe=Me[pe]),void 0===Oe)Oe=Me[pe]=he,++ue._eventsCount;else if("function"==typeof Oe?Oe=Me[pe]=ve?[he,Oe]:[Oe,he]:ve?Oe.unshift(he):Oe.push(he),(ge=R(ue))>0&&Oe.length>ge&&!Oe.warned){Oe.warned=!0;var je=new Error("Possible EventEmitter memory leak detected. "+Oe.length+" "+String(pe)+" listeners added. Use emitter.setMaxListeners() to increase limit");je.name="MaxListenersExceededWarning",je.emitter=ue,je.type=pe,je.count=Oe.length,function x(ue){console&&console.warn&&console.warn(ue)}(je)}return ue}function H(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function V(ue,pe,he){var ve={fired:!1,wrapFn:void 0,target:ue,type:pe,listener:he},ge=H.bind(ve);return ge.listener=he,ve.wrapFn=ge,ge}function P(ue,pe,he){var ve=ue._events;if(void 0===ve)return[];var ge=ve[pe];return void 0===ge?[]:"function"==typeof ge?he?[ge.listener||ge]:[ge]:he?function de(ue){for(var pe=new Array(ue.length),he=0;he<pe.length;++he)pe[he]=ue[he].listener||ue[he];return pe}(ge):W(ge,ge.length)}function ee(ue){var pe=this._events;if(void 0!==pe){var he=pe[ue];if("function"==typeof he)return 1;if(void 0!==he)return he.length}return 0}function W(ue,pe){for(var he=new Array(pe),ve=0;ve<pe;++ve)he[ve]=ue[ve];return he}function te(ue,pe,he,ve){if("function"==typeof ue.on)ve.once?ue.once(pe,he):ue.on(pe,he);else{if("function"!=typeof ue.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ue);ue.addEventListener(pe,function ge(Me){ve.once&&ue.removeEventListener(pe,ge),he(Me)})}}Object.defineProperty(Y,"defaultMaxListeners",{enumerable:!0,get:function(){return M},set:function(ue){if("number"!=typeof ue||ue<0||N(ue))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ue+".");M=ue}}),Y.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Y.prototype.setMaxListeners=function(pe){if("number"!=typeof pe||pe<0||N(pe))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+pe+".");return this._maxListeners=pe,this},Y.prototype.getMaxListeners=function(){return R(this)},Y.prototype.emit=function(pe){for(var he=[],ve=1;ve<arguments.length;ve++)he.push(arguments[ve]);var ge="error"===pe,Me=this._events;if(void 0!==Me)ge=ge&&void 0===Me.error;else if(!ge)return!1;if(ge){var Oe;if(he.length>0&&(Oe=he[0]),Oe instanceof Error)throw Oe;var je=new Error("Unhandled error."+(Oe?" ("+Oe.message+")":""));throw je.context=Oe,je}var B=Me[pe];if(void 0===B)return!1;if("function"==typeof B)A(B,this,he);else{var l=B.length,f=W(B,l);for(ve=0;ve<l;++ve)A(f[ve],this,he)}return!0},Y.prototype.on=Y.prototype.addListener=function(pe,he){return U(this,pe,he,!1)},Y.prototype.prependListener=function(pe,he){return U(this,pe,he,!0)},Y.prototype.once=function(pe,he){return j(he),this.on(pe,V(this,pe,he)),this},Y.prototype.prependOnceListener=function(pe,he){return j(he),this.prependListener(pe,V(this,pe,he)),this},Y.prototype.off=Y.prototype.removeListener=function(pe,he){var ve,ge,Me,Oe,je;if(j(he),void 0===(ge=this._events))return this;if(void 0===(ve=ge[pe]))return this;if(ve===he||ve.listener===he)0==--this._eventsCount?this._events=Object.create(null):(delete ge[pe],ge.removeListener&&this.emit("removeListener",pe,ve.listener||he));else if("function"!=typeof ve){for(Me=-1,Oe=ve.length-1;Oe>=0;Oe--)if(ve[Oe]===he||ve[Oe].listener===he){je=ve[Oe].listener,Me=Oe;break}if(Me<0)return this;0===Me?ve.shift():function Q(ue,pe){for(;pe+1<ue.length;pe++)ue[pe]=ue[pe+1];ue.pop()}(ve,Me),1===ve.length&&(ge[pe]=ve[0]),void 0!==ge.removeListener&&this.emit("removeListener",pe,je||he)}return this},Y.prototype.removeAllListeners=function(pe){var he,ve,ge;if(void 0===(ve=this._events))return this;if(void 0===ve.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==ve[pe]&&(0==--this._eventsCount?this._events=Object.create(null):delete ve[pe]),this;if(0===arguments.length){var Oe,Me=Object.keys(ve);for(ge=0;ge<Me.length;++ge)"removeListener"!==(Oe=Me[ge])&&this.removeAllListeners(Oe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(he=ve[pe]))this.removeListener(pe,he);else if(void 0!==he)for(ge=he.length-1;ge>=0;ge--)this.removeListener(pe,he[ge]);return this},Y.prototype.listeners=function(pe){return P(this,pe,!0)},Y.prototype.rawListeners=function(pe){return P(this,pe,!1)},Y.listenerCount=function(ue,pe){return"function"==typeof ue.listenerCount?ue.listenerCount(pe):ee.call(ue,pe)},Y.prototype.listenerCount=ee,Y.prototype.eventNames=function(){return this._eventsCount>0?h(this._events):[]}},18211:(Ye,J,A)=>{var h=A(27054).Buffer,x=A(34725);Ye.exports=function N(Y,M,j,R){if(h.isBuffer(Y)||(Y=h.from(Y,"binary")),M&&(h.isBuffer(M)||(M=h.from(M,"binary")),8!==M.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var U=j/8,H=h.alloc(U),V=h.alloc(R||0),P=h.alloc(0);U>0||R>0;){var ee=new x;ee.update(P),ee.update(Y),M&&ee.update(M),P=ee.digest();var W=0;if(U>0){var Q=H.length-U;W=Math.min(U,P.length),P.copy(H,Q,0,W),U-=W}if(W<P.length&&R>0){var de=V.length-R,ae=Math.min(R,P.length-W);P.copy(V,de,W,W+ae),R-=ae}}return P.fill(0),{key:H,iv:V}}},40362:Ye=>{"use strict";Ye.exports=function J(A,h){if(A===h)return!0;if(A&&h&&"object"==typeof A&&"object"==typeof h){if(A.constructor!==h.constructor)return!1;var x,N,Y;if(Array.isArray(A)){if((x=A.length)!=h.length)return!1;for(N=x;0!=N--;)if(!J(A[N],h[N]))return!1;return!0}if(A.constructor===RegExp)return A.source===h.source&&A.flags===h.flags;if(A.valueOf!==Object.prototype.valueOf)return A.valueOf()===h.valueOf();if(A.toString!==Object.prototype.toString)return A.toString()===h.toString();if((x=(Y=Object.keys(A)).length)!==Object.keys(h).length)return!1;for(N=x;0!=N--;)if(!Object.prototype.hasOwnProperty.call(h,Y[N]))return!1;for(N=x;0!=N--;){var M=Y[N];if(!J(A[M],h[M]))return!1}return!0}return A!=A&&h!=h}},13686:(Ye,J,A)=>{"use strict";var h=A(27054).Buffer,x=A(7045).Transform;function M(j){x.call(this),this._block=h.allocUnsafe(j),this._blockSize=j,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}A(71993)(M,x),M.prototype._transform=function(j,R,U){var H=null;try{this.update(j,R)}catch(V){H=V}U(H)},M.prototype._flush=function(j){var R=null;try{this.push(this.digest())}catch(U){R=U}j(R)},M.prototype.update=function(j,R){if(function Y(j,R){if(!h.isBuffer(j)&&"string"!=typeof j)throw new TypeError(R+" must be a string or a buffer")}(j,"Data"),this._finalized)throw new Error("Digest already called");h.isBuffer(j)||(j=h.from(j,R));for(var U=this._block,H=0;this._blockOffset+j.length-H>=this._blockSize;){for(var V=this._blockOffset;V<this._blockSize;)U[V++]=j[H++];this._update(),this._blockOffset=0}for(;H<j.length;)U[this._blockOffset++]=j[H++];for(var P=0,ee=8*j.length;ee>0;++P)this._length[P]+=ee,(ee=this._length[P]/4294967296|0)>0&&(this._length[P]-=4294967296*ee);return this},M.prototype._update=function(){throw new Error("_update is not implemented")},M.prototype.digest=function(j){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var R=this._digest();void 0!==j&&(R=R.toString(j)),this._block.fill(0),this._blockOffset=0;for(var U=0;U<4;++U)this._length[U]=0;return R},M.prototype._digest=function(){throw new Error("_digest is not implemented")},Ye.exports=M},52529:(Ye,J,A)=>{var h=J;h.utils=A(68283),h.common=A(12901),h.sha=A(78528),h.ripemd=A(15283),h.hmac=A(37163),h.sha1=h.sha.sha1,h.sha256=h.sha.sha256,h.sha224=h.sha.sha224,h.sha384=h.sha.sha384,h.sha512=h.sha.sha512,h.ripemd160=h.ripemd.ripemd160},12901:(Ye,J,A)=>{"use strict";var h=A(68283),x=A(39210);function N(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}J.BlockHash=N,N.prototype.update=function(M,j){if(M=h.toArray(M,j),this.pending=this.pending?this.pending.concat(M):M,this.pendingTotal+=M.length,this.pending.length>=this._delta8){var R=(M=this.pending).length%this._delta8;this.pending=M.slice(M.length-R,M.length),0===this.pending.length&&(this.pending=null),M=h.join32(M,0,M.length-R,this.endian);for(var U=0;U<M.length;U+=this._delta32)this._update(M,U,U+this._delta32)}return this},N.prototype.digest=function(M){return this.update(this._pad()),x(null===this.pending),this._digest(M)},N.prototype._pad=function(){var M=this.pendingTotal,j=this._delta8,R=j-(M+this.padLength)%j,U=new Array(R+this.padLength);U[0]=128;for(var H=1;H<R;H++)U[H]=0;if(M<<=3,"big"===this.endian){for(var V=8;V<this.padLength;V++)U[H++]=0;U[H++]=0,U[H++]=0,U[H++]=0,U[H++]=0,U[H++]=M>>>24&255,U[H++]=M>>>16&255,U[H++]=M>>>8&255,U[H++]=255&M}else for(U[H++]=255&M,U[H++]=M>>>8&255,U[H++]=M>>>16&255,U[H++]=M>>>24&255,U[H++]=0,U[H++]=0,U[H++]=0,U[H++]=0,V=8;V<this.padLength;V++)U[H++]=0;return U}},37163:(Ye,J,A)=>{"use strict";var h=A(68283),x=A(39210);function N(Y,M,j){if(!(this instanceof N))return new N(Y,M,j);this.Hash=Y,this.blockSize=Y.blockSize/8,this.outSize=Y.outSize/8,this.inner=null,this.outer=null,this._init(h.toArray(M,j))}Ye.exports=N,N.prototype._init=function(M){M.length>this.blockSize&&(M=(new this.Hash).update(M).digest()),x(M.length<=this.blockSize);for(var j=M.length;j<this.blockSize;j++)M.push(0);for(j=0;j<M.length;j++)M[j]^=54;for(this.inner=(new this.Hash).update(M),j=0;j<M.length;j++)M[j]^=106;this.outer=(new this.Hash).update(M)},N.prototype.update=function(M,j){return this.inner.update(M,j),this},N.prototype.digest=function(M){return this.outer.update(this.inner.digest()),this.outer.digest(M)}},15283:(Ye,J,A)=>{"use strict";var h=A(68283),x=A(12901),N=h.rotl32,Y=h.sum32,M=h.sum32_3,j=h.sum32_4,R=x.BlockHash;function U(){if(!(this instanceof U))return new U;R.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function H(ae,re,te,ue){return ae<=15?re^te^ue:ae<=31?re&te|~re&ue:ae<=47?(re|~te)^ue:ae<=63?re&ue|te&~ue:re^(te|~ue)}function P(ae){return ae<=15?1352829926:ae<=31?1548603684:ae<=47?1836072691:ae<=63?2053994217:0}h.inherits(U,R),J.ripemd160=U,U.blockSize=512,U.outSize=160,U.hmacStrength=192,U.padLength=64,U.prototype._update=function(re,te){for(var ue=this.h[0],pe=this.h[1],he=this.h[2],ve=this.h[3],ge=this.h[4],Me=ue,Oe=pe,je=he,B=ve,l=ge,f=0;f<80;f++){var w=Y(N(j(ue,H(f,pe,he,ve),re[ee[f]+te],(ae=f)<=15?0:ae<=31?1518500249:ae<=47?1859775393:ae<=63?2400959708:2840853838),Q[f]),ge);ue=ge,ge=ve,ve=N(he,10),he=pe,pe=w,w=Y(N(j(Me,H(79-f,Oe,je,B),re[W[f]+te],P(f)),de[f]),l),Me=l,l=B,B=N(je,10),je=Oe,Oe=w}var ae;w=M(this.h[1],he,B),this.h[1]=M(this.h[2],ve,l),this.h[2]=M(this.h[3],ge,Me),this.h[3]=M(this.h[4],ue,Oe),this.h[4]=M(this.h[0],pe,je),this.h[0]=w},U.prototype._digest=function(re){return"hex"===re?h.toHex32(this.h,"little"):h.split32(this.h,"little")};var ee=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],W=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Q=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],de=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},78528:(Ye,J,A)=>{"use strict";J.sha1=A(33468),J.sha224=A(5563),J.sha256=A(27138),J.sha384=A(93898),J.sha512=A(10827)},33468:(Ye,J,A)=>{"use strict";var h=A(68283),x=A(12901),N=A(95542),Y=h.rotl32,M=h.sum32,j=h.sum32_5,R=N.ft_1,U=x.BlockHash,H=[1518500249,1859775393,2400959708,3395469782];function V(){if(!(this instanceof V))return new V;U.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}h.inherits(V,U),Ye.exports=V,V.blockSize=512,V.outSize=160,V.hmacStrength=80,V.padLength=64,V.prototype._update=function(ee,W){for(var Q=this.W,de=0;de<16;de++)Q[de]=ee[W+de];for(;de<Q.length;de++)Q[de]=Y(Q[de-3]^Q[de-8]^Q[de-14]^Q[de-16],1);var ae=this.h[0],re=this.h[1],te=this.h[2],ue=this.h[3],pe=this.h[4];for(de=0;de<Q.length;de++){var he=~~(de/20),ve=j(Y(ae,5),R(he,re,te,ue),pe,Q[de],H[he]);pe=ue,ue=te,te=Y(re,30),re=ae,ae=ve}this.h[0]=M(this.h[0],ae),this.h[1]=M(this.h[1],re),this.h[2]=M(this.h[2],te),this.h[3]=M(this.h[3],ue),this.h[4]=M(this.h[4],pe)},V.prototype._digest=function(ee){return"hex"===ee?h.toHex32(this.h,"big"):h.split32(this.h,"big")}},5563:(Ye,J,A)=>{"use strict";var h=A(68283),x=A(27138);function N(){if(!(this instanceof N))return new N;x.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}h.inherits(N,x),Ye.exports=N,N.blockSize=512,N.outSize=224,N.hmacStrength=192,N.padLength=64,N.prototype._digest=function(M){return"hex"===M?h.toHex32(this.h.slice(0,7),"big"):h.split32(this.h.slice(0,7),"big")}},27138:(Ye,J,A)=>{"use strict";var h=A(68283),x=A(12901),N=A(95542),Y=A(39210),M=h.sum32,j=h.sum32_4,R=h.sum32_5,U=N.ch32,H=N.maj32,V=N.s0_256,P=N.s1_256,ee=N.g0_256,W=N.g1_256,Q=x.BlockHash,de=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ae(){if(!(this instanceof ae))return new ae;Q.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=de,this.W=new Array(64)}h.inherits(ae,Q),Ye.exports=ae,ae.blockSize=512,ae.outSize=256,ae.hmacStrength=192,ae.padLength=64,ae.prototype._update=function(te,ue){for(var pe=this.W,he=0;he<16;he++)pe[he]=te[ue+he];for(;he<pe.length;he++)pe[he]=j(W(pe[he-2]),pe[he-7],ee(pe[he-15]),pe[he-16]);var ve=this.h[0],ge=this.h[1],Me=this.h[2],Oe=this.h[3],je=this.h[4],B=this.h[5],l=this.h[6],f=this.h[7];for(Y(this.k.length===pe.length),he=0;he<pe.length;he++){var w=R(f,P(je),U(je,B,l),this.k[he],pe[he]),_=M(V(ve),H(ve,ge,Me));f=l,l=B,B=je,je=M(Oe,w),Oe=Me,Me=ge,ge=ve,ve=M(w,_)}this.h[0]=M(this.h[0],ve),this.h[1]=M(this.h[1],ge),this.h[2]=M(this.h[2],Me),this.h[3]=M(this.h[3],Oe),this.h[4]=M(this.h[4],je),this.h[5]=M(this.h[5],B),this.h[6]=M(this.h[6],l),this.h[7]=M(this.h[7],f)},ae.prototype._digest=function(te){return"hex"===te?h.toHex32(this.h,"big"):h.split32(this.h,"big")}},93898:(Ye,J,A)=>{"use strict";var h=A(68283),x=A(10827);function N(){if(!(this instanceof N))return new N;x.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}h.inherits(N,x),Ye.exports=N,N.blockSize=1024,N.outSize=384,N.hmacStrength=192,N.padLength=128,N.prototype._digest=function(M){return"hex"===M?h.toHex32(this.h.slice(0,12),"big"):h.split32(this.h.slice(0,12),"big")}},10827:(Ye,J,A)=>{"use strict";var h=A(68283),x=A(12901),N=A(39210),Y=h.rotr64_hi,M=h.rotr64_lo,j=h.shr64_hi,R=h.shr64_lo,U=h.sum64,H=h.sum64_hi,V=h.sum64_lo,P=h.sum64_4_hi,ee=h.sum64_4_lo,W=h.sum64_5_hi,Q=h.sum64_5_lo,de=x.BlockHash,ae=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function re(){if(!(this instanceof re))return new re;de.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ae,this.W=new Array(160)}function te(w,_,D,O,$){var T=w&D^~w&$;return T<0&&(T+=4294967296),T}function ue(w,_,D,O,$,T){var c=_&O^~_&T;return c<0&&(c+=4294967296),c}function pe(w,_,D,O,$){var T=w&D^w&$^D&$;return T<0&&(T+=4294967296),T}function he(w,_,D,O,$,T){var c=_&O^_&T^O&T;return c<0&&(c+=4294967296),c}function ve(w,_){var T=Y(w,_,28)^Y(_,w,2)^Y(_,w,7);return T<0&&(T+=4294967296),T}function ge(w,_){var T=M(w,_,28)^M(_,w,2)^M(_,w,7);return T<0&&(T+=4294967296),T}function Me(w,_){var T=Y(w,_,14)^Y(w,_,18)^Y(_,w,9);return T<0&&(T+=4294967296),T}function Oe(w,_){var T=M(w,_,14)^M(w,_,18)^M(_,w,9);return T<0&&(T+=4294967296),T}function je(w,_){var T=Y(w,_,1)^Y(w,_,8)^j(w,_,7);return T<0&&(T+=4294967296),T}function B(w,_){var T=M(w,_,1)^M(w,_,8)^R(w,_,7);return T<0&&(T+=4294967296),T}function l(w,_){var T=Y(w,_,19)^Y(_,w,29)^j(w,_,6);return T<0&&(T+=4294967296),T}function f(w,_){var T=M(w,_,19)^M(_,w,29)^R(w,_,6);return T<0&&(T+=4294967296),T}h.inherits(re,de),Ye.exports=re,re.blockSize=1024,re.outSize=512,re.hmacStrength=192,re.padLength=128,re.prototype._prepareBlock=function(_,D){for(var O=this.W,$=0;$<32;$++)O[$]=_[D+$];for(;$<O.length;$+=2){var T=l(O[$-4],O[$-3]),c=f(O[$-4],O[$-3]),E=O[$-14],q=O[$-13],X=je(O[$-30],O[$-29]),ce=B(O[$-30],O[$-29]),me=O[$-32],Te=O[$-31];O[$]=P(T,c,E,q,X,ce,me,Te),O[$+1]=ee(T,c,E,q,X,ce,me,Te)}},re.prototype._update=function(_,D){this._prepareBlock(_,D);var O=this.W,$=this.h[0],T=this.h[1],c=this.h[2],E=this.h[3],q=this.h[4],X=this.h[5],ce=this.h[6],me=this.h[7],Te=this.h[8],Ke=this.h[9],Qe=this.h[10],ke=this.h[11],Ie=this.h[12],Xe=this.h[13],Se=this.h[14],Le=this.h[15];N(this.k.length===O.length);for(var Ee=0;Ee<O.length;Ee+=2){var be=Se,oe=Le,fe=Me(Te,Ke),we=Oe(Te,Ke),De=te(Te,0,Qe,0,Ie),$e=ue(0,Ke,0,ke,0,Xe),Je=this.k[Ee],Ze=this.k[Ee+1],Pt=O[Ee],nt=O[Ee+1],Ge=W(be,oe,fe,we,De,$e,Je,Ze,Pt,nt),Et=Q(be,oe,fe,we,De,$e,Je,Ze,Pt,nt);be=ve($,T),oe=ge($,T),fe=pe($,0,c,0,q),we=he(0,T,0,E,0,X);var K=H(be,oe,fe,we),C=V(be,oe,fe,we);Se=Ie,Le=Xe,Ie=Qe,Xe=ke,Qe=Te,ke=Ke,Te=H(ce,me,Ge,Et),Ke=V(me,me,Ge,Et),ce=q,me=X,q=c,X=E,c=$,E=T,$=H(Ge,Et,K,C),T=V(Ge,Et,K,C)}U(this.h,0,$,T),U(this.h,2,c,E),U(this.h,4,q,X),U(this.h,6,ce,me),U(this.h,8,Te,Ke),U(this.h,10,Qe,ke),U(this.h,12,Ie,Xe),U(this.h,14,Se,Le)},re.prototype._digest=function(_){return"hex"===_?h.toHex32(this.h,"big"):h.split32(this.h,"big")}},95542:(Ye,J,A)=>{"use strict";var x=A(68283).rotr32;function Y(P,ee,W){return P&ee^~P&W}function M(P,ee,W){return P&ee^P&W^ee&W}function j(P,ee,W){return P^ee^W}J.ft_1=function N(P,ee,W,Q){return 0===P?Y(ee,W,Q):1===P||3===P?j(ee,W,Q):2===P?M(ee,W,Q):void 0},J.ch32=Y,J.maj32=M,J.p32=j,J.s0_256=function R(P){return x(P,2)^x(P,13)^x(P,22)},J.s1_256=function U(P){return x(P,6)^x(P,11)^x(P,25)},J.g0_256=function H(P){return x(P,7)^x(P,18)^P>>>3},J.g1_256=function V(P){return x(P,17)^x(P,19)^P>>>10}},68283:(Ye,J,A)=>{"use strict";var h=A(39210),x=A(71993);function N(f,w){return!(55296!=(64512&f.charCodeAt(w))||w<0||w+1>=f.length)&&56320==(64512&f.charCodeAt(w+1))}function j(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function U(f){return 1===f.length?"0"+f:f}function H(f){return 7===f.length?"0"+f:6===f.length?"00"+f:5===f.length?"000"+f:4===f.length?"0000"+f:3===f.length?"00000"+f:2===f.length?"000000"+f:1===f.length?"0000000"+f:f}J.inherits=x,J.toArray=function Y(f,w){if(Array.isArray(f))return f.slice();if(!f)return[];var _=[];if("string"==typeof f)if(w){if("hex"===w)for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),O=0;O<f.length;O+=2)_.push(parseInt(f[O]+f[O+1],16))}else for(var D=0,O=0;O<f.length;O++){var $=f.charCodeAt(O);$<128?_[D++]=$:$<2048?(_[D++]=$>>6|192,_[D++]=63&$|128):N(f,O)?($=65536+((1023&$)<<10)+(1023&f.charCodeAt(++O)),_[D++]=$>>18|240,_[D++]=$>>12&63|128,_[D++]=$>>6&63|128,_[D++]=63&$|128):(_[D++]=$>>12|224,_[D++]=$>>6&63|128,_[D++]=63&$|128)}else for(O=0;O<f.length;O++)_[O]=0|f[O];return _},J.toHex=function M(f){for(var w="",_=0;_<f.length;_++)w+=U(f[_].toString(16));return w},J.htonl=j,J.toHex32=function R(f,w){for(var _="",D=0;D<f.length;D++){var O=f[D];"little"===w&&(O=j(O)),_+=H(O.toString(16))}return _},J.zero2=U,J.zero8=H,J.join32=function V(f,w,_,D){var O=_-w;h(O%4==0);for(var $=new Array(O/4),T=0,c=w;T<$.length;T++,c+=4)$[T]=("big"===D?f[c]<<24|f[c+1]<<16|f[c+2]<<8|f[c+3]:f[c+3]<<24|f[c+2]<<16|f[c+1]<<8|f[c])>>>0;return $},J.split32=function P(f,w){for(var _=new Array(4*f.length),D=0,O=0;D<f.length;D++,O+=4){var $=f[D];"big"===w?(_[O]=$>>>24,_[O+1]=$>>>16&255,_[O+2]=$>>>8&255,_[O+3]=255&$):(_[O+3]=$>>>24,_[O+2]=$>>>16&255,_[O+1]=$>>>8&255,_[O]=255&$)}return _},J.rotr32=function ee(f,w){return f>>>w|f<<32-w},J.rotl32=function W(f,w){return f<<w|f>>>32-w},J.sum32=function Q(f,w){return f+w>>>0},J.sum32_3=function de(f,w,_){return f+w+_>>>0},J.sum32_4=function ae(f,w,_,D){return f+w+_+D>>>0},J.sum32_5=function re(f,w,_,D,O){return f+w+_+D+O>>>0},J.sum64=function te(f,w,_,D){var T=D+f[w+1]>>>0;f[w]=(T<D?1:0)+_+f[w]>>>0,f[w+1]=T},J.sum64_hi=function ue(f,w,_,D){return(w+D>>>0<w?1:0)+f+_>>>0},J.sum64_lo=function pe(f,w,_,D){return w+D>>>0},J.sum64_4_hi=function he(f,w,_,D,O,$,T,c){var E=0,q=w;return E+=(q=q+D>>>0)<w?1:0,E+=(q=q+$>>>0)<$?1:0,f+_+O+T+(E+=(q=q+c>>>0)<c?1:0)>>>0},J.sum64_4_lo=function ve(f,w,_,D,O,$,T,c){return w+D+$+c>>>0},J.sum64_5_hi=function ge(f,w,_,D,O,$,T,c,E,q){var X=0,ce=w;return X+=(ce=ce+D>>>0)<w?1:0,X+=(ce=ce+$>>>0)<$?1:0,X+=(ce=ce+c>>>0)<c?1:0,f+_+O+T+E+(X+=(ce=ce+q>>>0)<q?1:0)>>>0},J.sum64_5_lo=function Me(f,w,_,D,O,$,T,c,E,q){return w+D+$+c+q>>>0},J.rotr64_hi=function Oe(f,w,_){return(w<<32-_|f>>>_)>>>0},J.rotr64_lo=function je(f,w,_){return(f<<32-_|w>>>_)>>>0},J.shr64_hi=function B(f,w,_){return f>>>_},J.shr64_lo=function l(f,w,_){return(f<<32-_|w>>>_)>>>0}},33556:(Ye,J,A)=>{"use strict";var h=A(52529),x=A(21832),N=A(39210);function Y(M){if(!(this instanceof Y))return new Y(M);this.hash=M.hash,this.predResist=!!M.predResist,this.outLen=this.hash.outSize,this.minEntropy=M.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var j=x.toArray(M.entropy,M.entropyEnc||"hex"),R=x.toArray(M.nonce,M.nonceEnc||"hex"),U=x.toArray(M.pers,M.persEnc||"hex");N(j.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(j,R,U)}Ye.exports=Y,Y.prototype._init=function(j,R,U){var H=j.concat(R).concat(U);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var V=0;V<this.V.length;V++)this.K[V]=0,this.V[V]=1;this._update(H),this._reseed=1,this.reseedInterval=281474976710656},Y.prototype._hmac=function(){return new h.hmac(this.hash,this.K)},Y.prototype._update=function(j){var R=this._hmac().update(this.V).update([0]);j&&(R=R.update(j)),this.K=R.digest(),this.V=this._hmac().update(this.V).digest(),j&&(this.K=this._hmac().update(this.V).update([1]).update(j).digest(),this.V=this._hmac().update(this.V).digest())},Y.prototype.reseed=function(j,R,U,H){"string"!=typeof R&&(H=U,U=R,R=null),j=x.toArray(j,R),U=x.toArray(U,H),N(j.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(j.concat(U||[])),this._reseed=1},Y.prototype.generate=function(j,R,U,H){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof R&&(H=U,U=R,R=null),U&&(U=x.toArray(U,H||"hex"),this._update(U));for(var V=[];V.length<j;)this.V=this._hmac().update(this.V).digest(),V=V.concat(this.V);var P=V.slice(0,j);return this._update(U),this._reseed++,x.encode(P,R)}},22020:(Ye,J)=>{J.read=function(A,h,x,N,Y){var M,j,R=8*Y-N-1,U=(1<<R)-1,H=U>>1,V=-7,P=x?Y-1:0,ee=x?-1:1,W=A[h+P];for(P+=ee,M=W&(1<<-V)-1,W>>=-V,V+=R;V>0;M=256*M+A[h+P],P+=ee,V-=8);for(j=M&(1<<-V)-1,M>>=-V,V+=N;V>0;j=256*j+A[h+P],P+=ee,V-=8);if(0===M)M=1-H;else{if(M===U)return j?NaN:1/0*(W?-1:1);j+=Math.pow(2,N),M-=H}return(W?-1:1)*j*Math.pow(2,M-N)},J.write=function(A,h,x,N,Y,M){var j,R,U,H=8*M-Y-1,V=(1<<H)-1,P=V>>1,ee=23===Y?Math.pow(2,-24)-Math.pow(2,-77):0,W=N?0:M-1,Q=N?1:-1,de=h<0||0===h&&1/h<0?1:0;for(h=Math.abs(h),isNaN(h)||h===1/0?(R=isNaN(h)?1:0,j=V):(j=Math.floor(Math.log(h)/Math.LN2),h*(U=Math.pow(2,-j))<1&&(j--,U*=2),(h+=j+P>=1?ee/U:ee*Math.pow(2,1-P))*U>=2&&(j++,U/=2),j+P>=V?(R=0,j=V):j+P>=1?(R=(h*U-1)*Math.pow(2,Y),j+=P):(R=h*Math.pow(2,P-1)*Math.pow(2,Y),j=0));Y>=8;A[x+W]=255&R,W+=Q,R/=256,Y-=8);for(j=j<<Y|R,H+=Y;H>0;A[x+W]=255&j,W+=Q,j/=256,H-=8);A[x+W-Q]|=128*de}},71993:Ye=>{Ye.exports="function"==typeof Object.create?function(A,h){h&&(A.super_=h,A.prototype=Object.create(h.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}))}:function(A,h){if(h){A.super_=h;var x=function(){};x.prototype=h.prototype,A.prototype=new x,A.prototype.constructor=A}}},42853:Ye=>{"use strict";function J(h,x){for(const N in x)Object.defineProperty(h,N,{value:x[N],enumerable:!0,configurable:!0});return h}Ye.exports=function A(h,x,N){if(!h||"string"==typeof h)throw new TypeError("Please pass an Error to err-code");N||(N={}),"object"==typeof x&&(N=x,x=""),x&&(N.code=x);try{return J(h,N)}catch{N.message=h.message,N.stack=h.stack;const M=function(){};return M.prototype=Object.create(Object.getPrototypeOf(h)),J(new M,N)}}},5014:Ye=>{"use strict";function J(h,x){for(const N in x)Object.defineProperty(h,N,{value:x[N],enumerable:!0,configurable:!0});return h}Ye.exports=function A(h,x,N){if(!h||"string"==typeof h)throw new TypeError("Please pass an Error to err-code");N||(N={}),"object"==typeof x&&(N=x,x=""),x&&(N.code=x);try{return J(h,N)}catch{N.message=h.message,N.stack=h.stack;const M=function(){};return M.prototype=Object.create(Object.getPrototypeOf(h)),J(new M,N)}}},3087:Ye=>{"use strict";function J(h,x){for(const N in x)Object.defineProperty(h,N,{value:x[N],enumerable:!0,configurable:!0});return h}Ye.exports=function A(h,x,N){if(!h||"string"==typeof h)throw new TypeError("Please pass an Error to err-code");N||(N={}),"object"==typeof x&&(N=x,x=""),x&&(N.code=x);try{return J(h,N)}catch{N.message=h.message,N.stack=h.stack;const M=function(){};return M.prototype=Object.create(Object.getPrototypeOf(h)),J(new M,N)}}},20053:Ye=>{var J={}.toString;Ye.exports=Array.isArray||function(A){return"[object Array]"==J.call(A)}},89994:function(Ye){Ye.exports=function(){"use strict";var J=Math.imul,A=Math.clz32;function h(ge){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Me){return typeof Me}:function(Me){return Me&&"function"==typeof Symbol&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me})(ge)}function N(ge,Me){for(var Oe,je=0;je<Me.length;je++)(Oe=Me[je]).enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(ge,Oe.key,Oe)}function j(ge){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(Me){return Me.__proto__||Object.getPrototypeOf(Me)})(ge)}function R(ge,Me){return(R=Object.setPrototypeOf||function(Oe,je){return Oe.__proto__=je,Oe})(ge,Me)}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function H(){return(H=U()?Reflect.construct:function(ge,Me,Oe){var je=[null];je.push.apply(je,Me);var l=new(Function.bind.apply(ge,je));return Oe&&R(l,Oe.prototype),l}).apply(null,arguments)}function P(ge){var Me="function"==typeof Map?new Map:void 0;return P=function(Oe){function je(){return H(Oe,arguments,j(this).constructor)}if(null===Oe||!function V(ge){return-1!==Function.toString.call(ge).indexOf("[native code]")}(Oe))return Oe;if("function"!=typeof Oe)throw new TypeError("Super expression must either be null or a function");if(typeof Me<"u"){if(Me.has(Oe))return Me.get(Oe);Me.set(Oe,je)}return je.prototype=Object.create(Oe.prototype,{constructor:{value:je,enumerable:!1,writable:!0,configurable:!0}}),R(je,Oe)},P(ge)}function ee(ge){if(void 0===ge)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ge}function Q(ge){var Me=U();return function(){var Oe,je=j(ge);if(Me){var B=j(this).constructor;Oe=Reflect.construct(je,arguments,B)}else Oe=je.apply(this,arguments);return function W(ge,Me){if(Me&&("object"==typeof Me||"function"==typeof Me))return Me;if(void 0!==Me)throw new TypeError("Derived constructors may only return object or undefined");return ee(ge)}(this,Oe)}}function de(ge,Me){return function ae(ge){if(Array.isArray(ge))return ge}(ge)||function re(ge,Me){var Oe=null==ge?null:typeof Symbol<"u"&&ge[Symbol.iterator]||ge["@@iterator"];if(null!=Oe){var je,B,l=[],f=!0,w=!1;try{for(Oe=Oe.call(ge);!(f=(je=Oe.next()).done)&&(l.push(je.value),!Me||l.length!==Me);f=!0);}catch(_){w=!0,B=_}finally{try{f||null==Oe.return||Oe.return()}finally{if(w)throw B}}return l}}(ge,Me)||te(ge,Me)||function pe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(ge,Me){if(ge){if("string"==typeof ge)return ue(ge,Me);var Oe=Object.prototype.toString.call(ge).slice(8,-1);return"Object"===Oe&&ge.constructor&&(Oe=ge.constructor.name),"Map"===Oe||"Set"===Oe?Array.from(ge):"Arguments"===Oe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Oe)?ue(ge,Me):void 0}}function ue(ge,Me){(null==Me||Me>ge.length)&&(Me=ge.length);for(var Oe=0,je=Array(Me);Oe<Me;Oe++)je[Oe]=ge[Oe];return je}var ve=function(ge){var Me=Math.abs,Oe=Math.max,je=Math.floor;function B(f,w){var _;if(function x(ge,Me){if(!(ge instanceof Me))throw new TypeError("Cannot call a class as a function")}(this,B),(_=l.call(this,f)).sign=w,Object.setPrototypeOf(ee(_),B.prototype),f>B.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return _}!function M(ge,Me){if("function"!=typeof Me&&null!==Me)throw new TypeError("Super expression must either be null or a function");ge.prototype=Object.create(Me&&Me.prototype,{constructor:{value:ge,writable:!0,configurable:!0}}),Object.defineProperty(ge,"prototype",{writable:!1}),Me&&R(ge,Me)}(B,ge);var l=Q(B);return function Y(ge,Me,Oe){return Me&&N(ge.prototype,Me),Oe&&N(ge,Oe),Object.defineProperty(ge,"prototype",{writable:!1}),ge}(B,[{key:"toDebugString",value:function(){var f,w=["BigInt["],_=function he(ge,Me){var Oe=typeof Symbol<"u"&&ge[Symbol.iterator]||ge["@@iterator"];if(!Oe){if(Array.isArray(ge)||(Oe=te(ge))||Me&&ge&&"number"==typeof ge.length){Oe&&(ge=Oe);var je=0,B=function(){};return{s:B,n:function(){return je>=ge.length?{done:!0}:{done:!1,value:ge[je++]}},e:function(_){throw _},f:B}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,f=!0,w=!1;return{s:function(){Oe=Oe.call(ge)},n:function(){var _=Oe.next();return f=_.done,_},e:function(_){w=!0,l=_},f:function(){try{f||null==Oe.return||Oe.return()}finally{if(w)throw l}}}}(this);try{for(_.s();!(f=_.n()).done;){var D=f.value;w.push((D&&(D>>>0).toString(16))+", ")}}catch(O){_.e(O)}finally{_.f()}return w.push("]"),w.join("")}},{key:"toString",value:function(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>f||36<f)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":f&f-1?B.__toStringGeneric(this,f,!1):B.__toStringBasePowerOfTwo(this,f)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var f=new B(this.length,this.sign),w=0;w<this.length;w++)f[w]=this[w];return f}},{key:"__trim",value:function(){for(var f=this.length,w=this[f-1];0===w;)w=this[--f-1],this.pop();return 0===f&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var f=0;f<this.length;f++)this[f]=0}},{key:"__clzmsd",value:function(){return B.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(f,w,_){_>this.length&&(_=this.length);for(var D=32767&f,O=f>>>15,$=0,T=w,c=0;c<_;c++){var E=this.__digit(c),q=32767&E,X=E>>>15,ce=B.__imul(q,D),me=B.__imul(q,O),Te=B.__imul(X,D),Qe=T+ce+$;$=Qe>>>30,Qe&=1073741823,$+=(Qe+=((32767&me)<<15)+((32767&Te)<<15))>>>30,T=B.__imul(X,O)+(me>>>15)+(Te>>>15),this.__setDigit(c,1073741823&Qe)}if(0!==$||0!==T)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(f,w,_){for(var D,O=0,$=0;$<_;$++)O=(D=this.__halfDigit(w+$)+f.__halfDigit($)+O)>>>15,this.__setHalfDigit(w+$,32767&D);return O}},{key:"__inplaceSub",value:function(f,w,_){var D=0;if(1&w){for(var O=this.__digit(w>>=1),$=32767&O,T=0;T<_-1>>>1;T++){var c=f.__digit(T),E=(O>>>15)-(32767&c)-D;D=1&E>>>15,this.__setDigit(w+T,(32767&E)<<15|32767&$),D=1&($=(32767&(O=this.__digit(w+T+1)))-(c>>>15)-D)>>>15}var q=f.__digit(T),X=(O>>>15)-(32767&q)-D;if(D=1&X>>>15,this.__setDigit(w+T,(32767&X)<<15|32767&$),w+T+1>=this.length)throw new RangeError("out of bounds");!(1&_)&&(D=1&($=(32767&(O=this.__digit(w+T+1)))-(q>>>15)-D)>>>15,this.__setDigit(w+f.length,1073709056&O|32767&$))}else{w>>=1;for(var ce=0;ce<f.length-1;ce++){var me=this.__digit(w+ce),Te=f.__digit(ce),Ke=(32767&me)-(32767&Te)-D,Qe=(me>>>15)-(Te>>>15)-(D=1&Ke>>>15);D=1&Qe>>>15,this.__setDigit(w+ce,(32767&Qe)<<15|32767&Ke)}var ke=this.__digit(w+ce),Ie=f.__digit(ce),Xe=(32767&ke)-(32767&Ie)-D;D=1&Xe>>>15;var Se=0;!(1&_)&&(D=1&(Se=(ke>>>15)-(Ie>>>15)-D)>>>15),this.__setDigit(w+ce,(32767&Se)<<15|32767&Xe)}return D}},{key:"__inplaceRightShift",value:function(f){if(0!==f){for(var w,_=this.__digit(0)>>>f,D=this.length-1,O=0;O<D;O++)w=this.__digit(O+1),this.__setDigit(O,1073741823&w<<30-f|_),_=w>>>f;this.__setDigit(D,_)}}},{key:"__digit",value:function(f){return this[f]}},{key:"__unsignedDigit",value:function(f){return this[f]>>>0}},{key:"__setDigit",value:function(f,w){this[f]=0|w}},{key:"__setDigitGrow",value:function(f,w){this[f]=0|w}},{key:"__halfDigitLength",value:function(){var f=this.length;return 32767>=this.__unsignedDigit(f-1)?2*f-1:2*f}},{key:"__halfDigit",value:function(f){return 32767&this[f>>>1]>>>15*(1&f)}},{key:"__setHalfDigit",value:function(f,w){var _=f>>>1,D=this.__digit(_);this.__setDigit(_,1&f?32767&D|w<<15:1073709056&D|32767&w)}}],[{key:"BigInt",value:function(f){var w=Number.isFinite;if("number"==typeof f){if(0===f)return B.__zero();if(B.__isOneDigitInt(f))return 0>f?B.__oneDigit(-f,!0):B.__oneDigit(f,!1);if(!w(f)||je(f)!==f)throw new RangeError("The number "+f+" cannot be converted to BigInt because it is not an integer");return B.__fromDouble(f)}if("string"==typeof f){var _=B.__fromString(f);if(null===_)throw new SyntaxError("Cannot convert "+f+" to a BigInt");return _}if("boolean"==typeof f)return!0===f?B.__oneDigit(1,!1):B.__zero();if("object"===h(f)){if(f.constructor===B)return f;var D=B.__toPrimitive(f);return B.BigInt(D)}throw new TypeError("Cannot convert "+f+" to a BigInt")}},{key:"toNumber",value:function(f){var w=f.length;if(0===w)return 0;if(1===w){var _=f.__unsignedDigit(0);return f.sign?-_:_}var D=f.__digit(w-1),O=B.__clz30(D),$=30*w-O;if(1024<$)return f.sign?-1/0:1/0;var T=$-1,c=D,E=w-1,q=O+3,X=32===q?0:c<<q;X>>>=12;var ce=q-12,me=12<=q?0:c<<20+q,Te=20+q;for(0<ce&&0<E&&(E--,X|=(c=f.__digit(E))>>>30-ce,me=c<<ce+2,Te=ce+2);0<Te&&0<E;)E--,c=f.__digit(E),me|=30<=Te?c<<Te-30:c>>>30-Te,Te-=30;var Ke=B.__decideRounding(f,Te,E,c);return 1!==Ke&&(0!==Ke||1&~me)||0!=(me=me+1>>>0)||!(++X>>>20!=0&&(X=0,1023<++T))?(B.__kBitConversionInts[1]=(f.sign?-2147483648:0)|(T=T+1023<<20)|X,B.__kBitConversionInts[0]=me,B.__kBitConversionDouble[0]):f.sign?-1/0:1/0}},{key:"unaryMinus",value:function(f){if(0===f.length)return f;var w=f.__copy();return w.sign=!f.sign,w}},{key:"bitwiseNot",value:function(f){return f.sign?B.__absoluteSubOne(f).__trim():B.__absoluteAddOne(f,!0)}},{key:"exponentiate",value:function(f,w){if(w.sign)throw new RangeError("Exponent must be positive");if(0===w.length)return B.__oneDigit(1,!1);if(0===f.length)return f;if(1===f.length&&1===f.__digit(0))return!f.sign||1&w.__digit(0)?f:B.unaryMinus(f);if(1<w.length)throw new RangeError("BigInt too big");var _=w.__unsignedDigit(0);if(1===_)return f;if(_>=B.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===f.length&&2===f.__digit(0)){var D=1+(0|_/30),$=new B(D,f.sign&&!!(1&_));return $.__initializeDigits(),$.__setDigit(D-1,1<<_%30),$}var c=null,E=f;for(1&_&&(c=f),_>>=1;0!==_;_>>=1)E=B.multiply(E,E),1&_&&(c=null===c?E:B.multiply(c,E));return c}},{key:"multiply",value:function(f,w){if(0===f.length)return f;if(0===w.length)return w;var _=f.length+w.length;30<=f.__clzmsd()+w.__clzmsd()&&_--;var D=new B(_,f.sign!==w.sign);D.__initializeDigits();for(var O=0;O<f.length;O++)B.__multiplyAccumulate(w,f.__digit(O),D,O);return D.__trim()}},{key:"divide",value:function(f,w){if(0===w.length)throw new RangeError("Division by zero");if(0>B.__absoluteCompare(f,w))return B.__zero();var _,D=f.sign!==w.sign,O=w.__unsignedDigit(0);if(1===w.length&&32767>=O){if(1===O)return D===f.sign?f:B.unaryMinus(f);_=B.__absoluteDivSmall(f,O,null)}else _=B.__absoluteDivLarge(f,w,!0,!1);return _.sign=D,_.__trim()}},{key:"remainder",value:function(w,_){if(0===_.length)throw new RangeError("Division by zero");if(0>B.__absoluteCompare(w,_))return w;var D=_.__unsignedDigit(0);if(1===_.length&&32767>=D){if(1===D)return B.__zero();var O=B.__absoluteModSmall(w,D);return 0===O?B.__zero():B.__oneDigit(O,w.sign)}var $=B.__absoluteDivLarge(w,_,!1,!0);return $.sign=w.sign,$.__trim()}},{key:"add",value:function(f,w){var _=f.sign;return _===w.sign?B.__absoluteAdd(f,w,_):0<=B.__absoluteCompare(f,w)?B.__absoluteSub(f,w,_):B.__absoluteSub(w,f,!_)}},{key:"subtract",value:function(f,w){var _=f.sign;return _===w.sign?0<=B.__absoluteCompare(f,w)?B.__absoluteSub(f,w,_):B.__absoluteSub(w,f,!_):B.__absoluteAdd(f,w,_)}},{key:"leftShift",value:function(f,w){return 0===w.length||0===f.length?f:w.sign?B.__rightShiftByAbsolute(f,w):B.__leftShiftByAbsolute(f,w)}},{key:"signedRightShift",value:function(f,w){return 0===w.length||0===f.length?f:w.sign?B.__leftShiftByAbsolute(f,w):B.__rightShiftByAbsolute(f,w)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(f,w){return 0>B.__compareToBigInt(f,w)}},{key:"lessThanOrEqual",value:function(f,w){return 0>=B.__compareToBigInt(f,w)}},{key:"greaterThan",value:function(f,w){return 0<B.__compareToBigInt(f,w)}},{key:"greaterThanOrEqual",value:function(f,w){return 0<=B.__compareToBigInt(f,w)}},{key:"equal",value:function(f,w){if(f.sign!==w.sign||f.length!==w.length)return!1;for(var _=0;_<f.length;_++)if(f.__digit(_)!==w.__digit(_))return!1;return!0}},{key:"notEqual",value:function(f,w){return!B.equal(f,w)}},{key:"bitwiseAnd",value:function(f,w){if(!f.sign&&!w.sign)return B.__absoluteAnd(f,w).__trim();if(f.sign&&w.sign){var _=Oe(f.length,w.length)+1,D=B.__absoluteSubOne(f,_),O=B.__absoluteSubOne(w);return D=B.__absoluteOr(D,O,D),B.__absoluteAddOne(D,!0,D).__trim()}if(f.sign){var $=[w,f];f=$[0],w=$[1]}return B.__absoluteAndNot(f,B.__absoluteSubOne(w)).__trim()}},{key:"bitwiseXor",value:function(f,w){if(!f.sign&&!w.sign)return B.__absoluteXor(f,w).__trim();if(f.sign&&w.sign){var _=Oe(f.length,w.length),D=B.__absoluteSubOne(f,_),O=B.__absoluteSubOne(w);return B.__absoluteXor(D,O,D).__trim()}var $=Oe(f.length,w.length)+1;if(f.sign){var T=[w,f];f=T[0],w=T[1]}var c=B.__absoluteSubOne(w,$);return c=B.__absoluteXor(c,f,c),B.__absoluteAddOne(c,!0,c).__trim()}},{key:"bitwiseOr",value:function(f,w){var _=Oe(f.length,w.length);if(!f.sign&&!w.sign)return B.__absoluteOr(f,w).__trim();if(f.sign&&w.sign){var D=B.__absoluteSubOne(f,_),O=B.__absoluteSubOne(w);return D=B.__absoluteAnd(D,O,D),B.__absoluteAddOne(D,!0,D).__trim()}if(f.sign){var $=[w,f];f=$[0],w=$[1]}var T=B.__absoluteSubOne(w,_);return T=B.__absoluteAndNot(T,f,T),B.__absoluteAddOne(T,!0,T).__trim()}},{key:"asIntN",value:function(f,w){if(0===w.length)return w;if(0>(f=je(f)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===f)return B.__zero();if(f>=B.__kMaxLengthBits)return w;var _=0|(f+29)/30;if(w.length<_)return w;var D=w.__unsignedDigit(_-1),O=1<<(f-1)%30;if(w.length===_&&D<O)return w;if((D&O)!==O)return B.__truncateToNBits(f,w);if(!w.sign)return B.__truncateAndSubFromPowerOfTwo(f,w,!0);if(!(D&O-1)){for(var $=_-2;0<=$;$--)if(0!==w.__digit($))return B.__truncateAndSubFromPowerOfTwo(f,w,!1);return w.length===_&&D===O?w:B.__truncateToNBits(f,w)}return B.__truncateAndSubFromPowerOfTwo(f,w,!1)}},{key:"asUintN",value:function(f,w){if(0===w.length)return w;if(0>(f=je(f)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===f)return B.__zero();if(w.sign){if(f>B.__kMaxLengthBits)throw new RangeError("BigInt too big");return B.__truncateAndSubFromPowerOfTwo(f,w,!1)}if(f>=B.__kMaxLengthBits)return w;var _=0|(f+29)/30;if(w.length<_)return w;var D=f%30;if(w.length==_){if(0===D)return w;if(!(w.__digit(_-1)>>>D))return w}return B.__truncateToNBits(f,w)}},{key:"ADD",value:function(f,w){if(f=B.__toPrimitive(f),w=B.__toPrimitive(w),"string"==typeof f)return"string"!=typeof w&&(w=w.toString()),f+w;if("string"==typeof w)return f.toString()+w;if(f=B.__toNumeric(f),w=B.__toNumeric(w),B.__isBigInt(f)&&B.__isBigInt(w))return B.add(f,w);if("number"==typeof f&&"number"==typeof w)return f+w;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(f,w){return B.__compare(f,w,0)}},{key:"LE",value:function(f,w){return B.__compare(f,w,1)}},{key:"GT",value:function(f,w){return B.__compare(f,w,2)}},{key:"GE",value:function(f,w){return B.__compare(f,w,3)}},{key:"EQ",value:function(f,w){for(;;){if(B.__isBigInt(f))return B.__isBigInt(w)?B.equal(f,w):B.EQ(w,f);if("number"==typeof f){if(B.__isBigInt(w))return B.__equalToNumber(w,f);if("object"!==h(w))return f==w;w=B.__toPrimitive(w)}else if("string"==typeof f){if(B.__isBigInt(w))return null!==(f=B.__fromString(f))&&B.equal(f,w);if("object"!==h(w))return f==w;w=B.__toPrimitive(w)}else if("boolean"==typeof f){if(B.__isBigInt(w))return B.__equalToNumber(w,+f);if("object"!==h(w))return f==w;w=B.__toPrimitive(w)}else if("symbol"===h(f)){if(B.__isBigInt(w))return!1;if("object"!==h(w))return f==w;w=B.__toPrimitive(w)}else{if("object"!==h(f))return f==w;if("object"===h(w)&&w.constructor!==B)return f==w;f=B.__toPrimitive(f)}}}},{key:"NE",value:function(f,w){return!B.EQ(f,w)}},{key:"DataViewGetBigInt64",value:function(f,w){return B.asIntN(64,B.DataViewGetBigUint64(f,w,2<arguments.length&&void 0!==arguments[2]&&arguments[2]))}},{key:"DataViewGetBigUint64",value:function(f,w){var _=2<arguments.length&&void 0!==arguments[2]&&arguments[2],O=de(_?[4,0]:[0,4],2),T=O[1],c=f.getUint32(w+O[0],_),E=f.getUint32(w+T,_),q=new B(3,!1);return q.__setDigit(0,1073741823&E),q.__setDigit(1,(268435455&c)<<2|E>>>30),q.__setDigit(2,c>>>28),q.__trim()}},{key:"DataViewSetBigInt64",value:function(f,w,_){B.DataViewSetBigUint64(f,w,_,3<arguments.length&&void 0!==arguments[3]&&arguments[3])}},{key:"DataViewSetBigUint64",value:function(f,w,_){var D=3<arguments.length&&void 0!==arguments[3]&&arguments[3],O=0,$=0;if(0<(_=B.asUintN(64,_)).length&&($=_.__digit(0),1<_.length)){var T=_.__digit(1);$|=T<<30,O=T>>>2,2<_.length&&(O|=_.__digit(2)<<28)}var E=de(D?[4,0]:[0,4],2),X=E[1];f.setUint32(w+E[0],O,D),f.setUint32(w+X,$,D)}},{key:"__zero",value:function(){return new B(0,!1)}},{key:"__oneDigit",value:function(f,w){var _=new B(1,w);return _.__setDigit(0,f),_}},{key:"__decideRounding",value:function(f,w,_,D){if(0<w)return-1;var O;if(0>w)O=-w-1;else{if(0===_)return-1;_--,D=f.__digit(_),O=29}var $=1<<O;if(!(D&$))return-1;if(D&($-=1))return 1;for(;0<_;)if(_--,0!==f.__digit(_))return 1;return 0}},{key:"__fromDouble",value:function(f){B.__kBitConversionDouble[0]=f;var w,D=(2047&B.__kBitConversionInts[1]>>>20)-1023,O=1+(0|D/30),$=new B(O,0>f),T=1048575&B.__kBitConversionInts[1]|1048576,c=B.__kBitConversionInts[0],q=D%30,X=0;if(q<20){var ce=20-q;X=ce+32,w=T>>>ce,T=T<<32-ce|c>>>ce,c<<=32-ce}else if(20===q)X=32,w=T,T=c,c=0;else{var me=q-20;X=32-me,w=T<<me|c>>>32-me,T=c<<me,c=0}$.__setDigit(O-1,w);for(var Te=O-2;0<=Te;Te--)0<X?(X-=30,w=T>>>2,T=T<<30|c>>>2,c<<=30):w=0,$.__setDigit(Te,w);return $.__trim()}},{key:"__isWhitespace",value:function(f){return 13>=f&&9<=f||(159>=f?32==f:131071>=f?160==f||5760==f:196607>=f?10>=(f&=131071)||40==f||41==f||47==f||95==f||4096==f:65279==f)}},{key:"__fromString",value:function(f){var w=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,_=0,D=f.length,O=0;if(O===D)return B.__zero();for(var $=f.charCodeAt(O);B.__isWhitespace($);){if(++O===D)return B.__zero();$=f.charCodeAt(O)}if(43===$){if(++O===D)return null;$=f.charCodeAt(O),_=1}else if(45===$){if(++O===D)return null;$=f.charCodeAt(O),_=-1}if(0===w){if(w=10,48===$){if(++O===D)return B.__zero();if(88===($=f.charCodeAt(O))||120===$){if(w=16,++O===D)return null;$=f.charCodeAt(O)}else if(79===$||111===$){if(w=8,++O===D)return null;$=f.charCodeAt(O)}else if(66===$||98===$){if(w=2,++O===D)return null;$=f.charCodeAt(O)}}}else if(16===w&&48===$){if(++O===D)return B.__zero();if(88===($=f.charCodeAt(O))||120===$){if(++O===D)return null;$=f.charCodeAt(O)}}if(0!==_&&10!==w)return null;for(;48===$;){if(++O===D)return B.__zero();$=f.charCodeAt(O)}var T=D-O,c=B.__kMaxBitsPerChar[w],E=B.__kBitsPerCharTableMultiplier-1;if(T>1073741824/c)return null;var X=new B(0|(29+(c*T+E>>>B.__kBitsPerCharTableShift))/30,!1),ce=10>w?w:10,me=10<w?w-10:0;if(w&w-1){X.__initializeDigits();var Se=!1,Le=0;do{for(var Ee,be=0,oe=1;;){if(Ee=void 0,$-48>>>0<ce)Ee=$-48;else{if(!((32|$)-97>>>0<me)){Se=!0;break}Ee=(32|$)-87}var fe=oe*w;if(1073741823<fe)break;if(oe=fe,be=be*w+Ee,Le++,++O===D){Se=!0;break}$=f.charCodeAt(O)}X.__inplaceMultiplyAdd(oe,be,0|(c*Le+(E=30*B.__kBitsPerCharTableMultiplier-1)>>>B.__kBitsPerCharTableShift)/30)}while(!Se)}else{c>>=B.__kBitsPerCharTableShift;var Te=[],Ke=[],Qe=!1;do{for(var ke,Ie=0,Xe=0;;){if(ke=void 0,$-48>>>0<ce)ke=$-48;else{if(!((32|$)-97>>>0<me)){Qe=!0;break}ke=(32|$)-87}if(Xe+=c,Ie=Ie<<c|ke,++O===D){Qe=!0;break}if($=f.charCodeAt(O),30<Xe+c)break}Te.push(Ie),Ke.push(Xe)}while(!Qe);B.__fillFromParts(X,Te,Ke)}if(O!==D){if(!B.__isWhitespace($))return null;for(O++;O<D;O++)if($=f.charCodeAt(O),!B.__isWhitespace($))return null}return X.sign=-1===_,X.__trim()}},{key:"__fillFromParts",value:function(f,w,_){for(var D=0,O=0,$=0,T=w.length-1;0<=T;T--){var c=w[T],E=_[T];O|=c<<$,30===($+=E)?(f.__setDigit(D++,O),$=0,O=0):30<$&&(f.__setDigit(D++,1073741823&O),O=c>>>E-($-=30))}if(0!==O){if(D>=f.length)throw new Error("implementation bug");f.__setDigit(D++,O)}for(;D<f.length;D++)f.__setDigit(D,0)}},{key:"__toStringBasePowerOfTwo",value:function(f,w){var _=f.length,D=w-1,O=D=(15&(D=(51&(D=(85&D>>>1)+(85&D))>>>2)+(51&D))>>>4)+(15&D),$=w-1,T=f.__digit(_-1),E=0|(30*_-B.__clz30(T)+O-1)/O;if(f.sign&&E++,268435456<E)throw new Error("string too long");for(var q=Array(E),X=E-1,ce=0,me=0,Te=0;Te<_-1;Te++){var Ke=f.__digit(Te);q[X--]=B.__kConversionChars[(ce|Ke<<me)&$];var ke=O-me;for(ce=Ke>>>ke,me=30-ke;me>=O;)q[X--]=B.__kConversionChars[ce&$],ce>>>=O,me-=O}for(q[X--]=B.__kConversionChars[(ce|T<<me)&$],ce=T>>>O-me;0!==ce;)q[X--]=B.__kConversionChars[ce&$],ce>>>=O;if(f.sign&&(q[X--]="-"),-1!==X)throw new Error("implementation bug");return q.join("")}},{key:"__toStringGeneric",value:function(f,w,_){var D=f.length;if(0===D)return"";if(1===D){var O=f.__unsignedDigit(0).toString(w);return!1===_&&f.sign&&(O="-"+O),O}var q,X,$=30*D-B.__clz30(f.__digit(D-1)),c=B.__kMaxBitsPerChar[w]-1,E=$*B.__kBitsPerCharTableMultiplier,ce=1+(E=0|(E+=c-1)/c)>>1,me=B.exponentiate(B.__oneDigit(w,!1),B.__oneDigit(ce,!1)),Te=me.__unsignedDigit(0);if(1===me.length&&32767>=Te){(q=new B(f.length,!1)).__initializeDigits();for(var Ke,Qe=0,ke=2*f.length-1;0<=ke;ke--)Ke=Qe<<15|f.__halfDigit(ke),q.__setHalfDigit(ke,0|Ke/Te),Qe=0|Ke%Te;X=Qe.toString(w)}else{var Ie=B.__absoluteDivLarge(f,me,!0,!0);q=Ie.quotient;var Xe=Ie.remainder.__trim();X=B.__toStringGeneric(Xe,w,!0)}q.__trim();for(var Se=B.__toStringGeneric(q,w,!0);X.length<ce;)X="0"+X;return!1===_&&f.sign&&(Se="-"+Se),Se+X}},{key:"__unequalSign",value:function(f){return f?-1:1}},{key:"__absoluteGreater",value:function(f){return f?-1:1}},{key:"__absoluteLess",value:function(f){return f?1:-1}},{key:"__compareToBigInt",value:function(f,w){var _=f.sign;if(_!==w.sign)return B.__unequalSign(_);var D=B.__absoluteCompare(f,w);return 0<D?B.__absoluteGreater(_):0>D?B.__absoluteLess(_):0}},{key:"__compareToNumber",value:function(f,w){if(B.__isOneDigitInt(w)){var _=f.sign,D=0>w;if(_!==D)return B.__unequalSign(_);if(0===f.length){if(D)throw new Error("implementation bug");return 0===w?0:-1}if(1<f.length)return B.__absoluteGreater(_);var O=Me(w),$=f.__unsignedDigit(0);return $>O?B.__absoluteGreater(_):$<O?B.__absoluteLess(_):0}return B.__compareToDouble(f,w)}},{key:"__compareToDouble",value:function(f,w){if(w!=w)return w;if(w===1/0)return-1;if(w===-1/0)return 1;var _=f.sign;if(_!==0>w)return B.__unequalSign(_);if(0===w)throw new Error("implementation bug: should be handled elsewhere");if(0===f.length)return-1;B.__kBitConversionDouble[0]=w;var D=2047&B.__kBitConversionInts[1]>>>20;if(2047==D)throw new Error("implementation bug: handled elsewhere");var O=D-1023;if(0>O)return B.__absoluteGreater(_);var $=f.length,T=f.__digit($-1),c=B.__clz30(T),E=30*$-c,q=O+1;if(E<q)return B.__absoluteLess(_);if(E>q)return B.__absoluteGreater(_);var X=1048576|1048575&B.__kBitConversionInts[1],ce=B.__kBitConversionInts[0],Te=29-c;if(Te!==(0|(E-1)%30))throw new Error("implementation bug");var Ke,Qe=0;if(Te<20){var ke=20-Te;Qe=ke+32,Ke=X>>>ke,X=X<<32-ke|ce>>>ke,ce<<=32-ke}else if(20===Te)Qe=32,Ke=X,X=ce,ce=0;else{var Ie=Te-20;Qe=32-Ie,Ke=X<<Ie|ce>>>32-Ie,X=ce<<Ie,ce=0}if((T>>>=0)>(Ke>>>=0))return B.__absoluteGreater(_);if(T<Ke)return B.__absoluteLess(_);for(var Xe=$-2;0<=Xe;Xe--){0<Qe?(Qe-=30,Ke=X>>>2,X=X<<30|ce>>>2,ce<<=30):Ke=0;var Se=f.__unsignedDigit(Xe);if(Se>Ke)return B.__absoluteGreater(_);if(Se<Ke)return B.__absoluteLess(_)}if(0!==X||0!==ce){if(0===Qe)throw new Error("implementation bug");return B.__absoluteLess(_)}return 0}},{key:"__equalToNumber",value:function(f,w){return B.__isOneDigitInt(w)?0===w?0===f.length:1===f.length&&f.sign===0>w&&f.__unsignedDigit(0)===Me(w):0===B.__compareToDouble(f,w)}},{key:"__comparisonResultToBool",value:function(f,w){return 0===w?0>f:1===w?0>=f:2===w?0<f:3===w?0<=f:void 0}},{key:"__compare",value:function(f,w,_){if(f=B.__toPrimitive(f),w=B.__toPrimitive(w),"string"==typeof f&&"string"==typeof w)switch(_){case 0:return f<w;case 1:return f<=w;case 2:return f>w;case 3:return f>=w}if(B.__isBigInt(f)&&"string"==typeof w)return null!==(w=B.__fromString(w))&&B.__comparisonResultToBool(B.__compareToBigInt(f,w),_);if("string"==typeof f&&B.__isBigInt(w))return null!==(f=B.__fromString(f))&&B.__comparisonResultToBool(B.__compareToBigInt(f,w),_);if(f=B.__toNumeric(f),w=B.__toNumeric(w),B.__isBigInt(f)){if(B.__isBigInt(w))return B.__comparisonResultToBool(B.__compareToBigInt(f,w),_);if("number"!=typeof w)throw new Error("implementation bug");return B.__comparisonResultToBool(B.__compareToNumber(f,w),_)}if("number"!=typeof f)throw new Error("implementation bug");if(B.__isBigInt(w))return B.__comparisonResultToBool(B.__compareToNumber(w,f),2^_);if("number"!=typeof w)throw new Error("implementation bug");return 0===_?f<w:1===_?f<=w:2===_?f>w:3===_?f>=w:void 0}},{key:"__absoluteAdd",value:function(f,w,_){if(f.length<w.length)return B.__absoluteAdd(w,f,_);if(0===f.length)return f;if(0===w.length)return f.sign===_?f:B.unaryMinus(f);var D=f.length;(0===f.__clzmsd()||w.length===f.length&&0===w.__clzmsd())&&D++;for(var O,$=new B(D,_),T=0,c=0;c<w.length;c++)T=(O=f.__digit(c)+w.__digit(c)+T)>>>30,$.__setDigit(c,1073741823&O);for(;c<f.length;c++){var E=f.__digit(c)+T;T=E>>>30,$.__setDigit(c,1073741823&E)}return c<$.length&&$.__setDigit(c,T),$.__trim()}},{key:"__absoluteSub",value:function(f,w,_){if(0===f.length)return f;if(0===w.length)return f.sign===_?f:B.unaryMinus(f);for(var D,O=new B(f.length,_),$=0,T=0;T<w.length;T++)$=1&(D=f.__digit(T)-w.__digit(T)-$)>>>30,O.__setDigit(T,1073741823&D);for(;T<f.length;T++){var c=f.__digit(T)-$;$=1&c>>>30,O.__setDigit(T,1073741823&c)}return O.__trim()}},{key:"__absoluteAddOne",value:function(f,w){var _=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,D=f.length;null===_?_=new B(D,w):_.sign=w;for(var O,$=1,T=0;T<D;T++)$=(O=f.__digit(T)+$)>>>30,_.__setDigit(T,1073741823&O);return 0!==$&&_.__setDigitGrow(D,1),_}},{key:"__absoluteSubOne",value:function(f,w){for(var D,_=f.length,O=new B(w=w||_,!1),$=1,T=0;T<_;T++)$=1&(D=f.__digit(T)-$)>>>30,O.__setDigit(T,1073741823&D);if(0!==$)throw new Error("implementation bug");for(var c=_;c<w;c++)O.__setDigit(c,0);return O}},{key:"__absoluteAnd",value:function(f,w){var _=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,D=f.length,O=w.length,$=O;if(D<O){$=D;var T=f,c=D;f=w,D=O,w=T,O=c}var E=$;null===_?_=new B(E,!1):E=_.length;for(var q=0;q<$;q++)_.__setDigit(q,f.__digit(q)&w.__digit(q));for(;q<E;q++)_.__setDigit(q,0);return _}},{key:"__absoluteAndNot",value:function(f,w){var _=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,D=f.length,O=w.length,$=O;D<O&&($=D);var T=D;null===_?_=new B(T,!1):T=_.length;for(var c=0;c<$;c++)_.__setDigit(c,f.__digit(c)&~w.__digit(c));for(;c<D;c++)_.__setDigit(c,f.__digit(c));for(;c<T;c++)_.__setDigit(c,0);return _}},{key:"__absoluteOr",value:function(f,w){var _=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,D=f.length,O=w.length,$=O;if(D<O){$=D;var T=f,c=D;f=w,D=O,w=T,O=c}var E=D;null===_?_=new B(E,!1):E=_.length;for(var q=0;q<$;q++)_.__setDigit(q,f.__digit(q)|w.__digit(q));for(;q<D;q++)_.__setDigit(q,f.__digit(q));for(;q<E;q++)_.__setDigit(q,0);return _}},{key:"__absoluteXor",value:function(f,w){var _=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,D=f.length,O=w.length,$=O;if(D<O){$=D;var T=f,c=D;f=w,D=O,w=T,O=c}var E=D;null===_?_=new B(E,!1):E=_.length;for(var q=0;q<$;q++)_.__setDigit(q,f.__digit(q)^w.__digit(q));for(;q<D;q++)_.__setDigit(q,f.__digit(q));for(;q<E;q++)_.__setDigit(q,0);return _}},{key:"__absoluteCompare",value:function(f,w){var _=f.length-w.length;if(0!=_)return _;for(var D=f.length-1;0<=D&&f.__digit(D)===w.__digit(D);)D--;return 0>D?0:f.__unsignedDigit(D)>w.__unsignedDigit(D)?1:-1}},{key:"__multiplyAccumulate",value:function(f,w,_,D){if(0!==w){for(var O=32767&w,$=w>>>15,T=0,c=0,E=0;E<f.length;E++,D++){var q=_.__digit(D),X=f.__digit(E),ce=32767&X,me=X>>>15,Te=B.__imul(ce,O),Ke=B.__imul(ce,$),Qe=B.__imul(me,O);T=(q+=c+Te+T)>>>30,q&=1073741823,T+=(q+=((32767&Ke)<<15)+((32767&Qe)<<15))>>>30,c=B.__imul(me,$)+(Ke>>>15)+(Qe>>>15),_.__setDigit(D,1073741823&q)}for(;0!==T||0!==c;D++){var Ie=_.__digit(D);Ie+=T+c,c=0,T=Ie>>>30,_.__setDigit(D,1073741823&Ie)}}}},{key:"__internalMultiplyAdd",value:function(f,w,_,D,O){for(var $=_,T=0,c=0;c<D;c++){var E=f.__digit(c),q=B.__imul(32767&E,w),X=B.__imul(E>>>15,w),ce=q+((32767&X)<<15)+T+$;$=ce>>>30,T=X>>>15,O.__setDigit(c,1073741823&ce)}if(O.length>D)for(O.__setDigit(D++,$+T);D<O.length;)O.__setDigit(D++,0);else if($+T!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(f,w){var _=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===_&&(_=new B(f.length,!1));for(var D=0,O=2*f.length-1;0<=O;O-=2){var $=(D<<15|f.__halfDigit(O))>>>0,T=0|$/w;D=0|($=((D=0|$%w)<<15|f.__halfDigit(O-1))>>>0)%w,_.__setDigit(O>>>1,T<<15|$/w)}return _}},{key:"__absoluteModSmall",value:function(f,w){for(var D=0,O=2*f.length-1;0<=O;O--)D=0|((D<<15|f.__halfDigit(O))>>>0)%w;return D}},{key:"__absoluteDivLarge",value:function(f,w,_,D){var O=w.__halfDigitLength(),$=w.length,T=f.__halfDigitLength()-O,c=null;_&&(c=new B(T+2>>>1,!1)).__initializeDigits();var E=new B(O+2>>>1,!1);E.__initializeDigits();var q=B.__clz15(w.__halfDigit(O-1));0<q&&(w=B.__specialLeftShift(w,q,0));for(var X=B.__specialLeftShift(f,q,1),ce=w.__halfDigit(O-1),me=0,Te=T;0<=Te;Te--){var Ke=32767,Qe=X.__halfDigit(Te+O);if(Qe!==ce){var ke=(Qe<<15|X.__halfDigit(Te+O-1))>>>0;Ke=0|ke/ce;for(var Ie=0|ke%ce,Xe=w.__halfDigit(O-2),Se=X.__halfDigit(Te+O-2);B.__imul(Ke,Xe)>>>0>(Ie<<16|Se)>>>0&&(Ke--,!(32767<(Ie+=ce))););}B.__internalMultiplyAdd(w,Ke,0,$,E);var Le=X.__inplaceSub(E,Te,O+1);0!==Le&&(Le=X.__inplaceAdd(w,Te,O),X.__setHalfDigit(Te+O,32767&X.__halfDigit(Te+O)+Le),Ke--),_&&(1&Te?me=Ke<<15:c.__setDigit(Te>>>1,me|Ke))}if(D)return X.__inplaceRightShift(q),_?{quotient:c,remainder:X}:X;if(_)return c;throw new Error("unreachable")}},{key:"__clz15",value:function(f){return B.__clz30(f)-15}},{key:"__specialLeftShift",value:function(f,w,_){var D=f.length,O=new B(D+_,!1);if(0===w){for(var $=0;$<D;$++)O.__setDigit($,f.__digit($));return 0<_&&O.__setDigit(D,0),O}for(var T,c=0,E=0;E<D;E++)T=f.__digit(E),O.__setDigit(E,1073741823&T<<w|c),c=T>>>30-w;return 0<_&&O.__setDigit(D,c),O}},{key:"__leftShiftByAbsolute",value:function(f,w){var _=B.__toShiftAmount(w);if(0>_)throw new RangeError("BigInt too big");var D=0|_/30,O=_%30,$=f.length,T=0!==O&&f.__digit($-1)>>>30-O!=0,c=$+D+(T?1:0),E=new B(c,f.sign);if(0===O){for(var q=0;q<D;q++)E.__setDigit(q,0);for(;q<c;q++)E.__setDigit(q,f.__digit(q-D))}else{for(var X=0,ce=0;ce<D;ce++)E.__setDigit(ce,0);for(var me,Te=0;Te<$;Te++)me=f.__digit(Te),E.__setDigit(Te+D,1073741823&me<<O|X),X=me>>>30-O;if(T)E.__setDigit($+D,X);else if(0!==X)throw new Error("implementation bug")}return E.__trim()}},{key:"__rightShiftByAbsolute",value:function(f,w){var _=f.length,D=f.sign,O=B.__toShiftAmount(w);if(0>O)return B.__rightShiftByMaximum(D);var $=0|O/30,T=O%30,c=_-$;if(0>=c)return B.__rightShiftByMaximum(D);var E=!1;if(D)if(f.__digit($)&(1<<T)-1)E=!0;else for(var q=0;q<$;q++)if(0!==f.__digit(q)){E=!0;break}E&&0===T&&!~f.__digit(_-1)&&c++;var ce=new B(c,D);if(0===T){ce.__setDigit(c-1,0);for(var me=$;me<_;me++)ce.__setDigit(me-$,f.__digit(me))}else{for(var Te,Ke=f.__digit($)>>>T,Qe=_-$-1,ke=0;ke<Qe;ke++)Te=f.__digit(ke+$+1),ce.__setDigit(ke,1073741823&Te<<30-T|Ke),Ke=Te>>>T;ce.__setDigit(Qe,Ke)}return E&&(ce=B.__absoluteAddOne(ce,!0,ce)),ce.__trim()}},{key:"__rightShiftByMaximum",value:function(f){return f?B.__oneDigit(1,!0):B.__zero()}},{key:"__toShiftAmount",value:function(f){if(1<f.length)return-1;var w=f.__unsignedDigit(0);return w>B.__kMaxLengthBits?-1:w}},{key:"__toPrimitive",value:function(f){var w=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==h(f)||f.constructor===B)return f;if(typeof Symbol<"u"&&"symbol"===h(Symbol.toPrimitive)){var _=f[Symbol.toPrimitive];if(_){var D=_(w);if("object"!==h(D))return D;throw new TypeError("Cannot convert object to primitive value")}}var O=f.valueOf;if(O){var $=O.call(f);if("object"!==h($))return $}var T=f.toString;if(T){var c=T.call(f);if("object"!==h(c))return c}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(f){return B.__isBigInt(f)?f:+f}},{key:"__isBigInt",value:function(f){return"object"===h(f)&&null!==f&&f.constructor===B}},{key:"__truncateToNBits",value:function(f,w){for(var _=0|(f+29)/30,D=new B(_,w.sign),O=_-1,$=0;$<O;$++)D.__setDigit($,w.__digit($));var T=w.__digit(O);if(f%30!=0){var c=32-f%30;T=T<<c>>>c}return D.__setDigit(O,T),D.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(f,w,_){for(var O,D=Math.min,$=0|(f+29)/30,T=new B($,_),c=0,E=$-1,q=0,X=D(E,w.length);c<X;c++)q=1&(O=0-w.__digit(c)-q)>>>30,T.__setDigit(c,1073741823&O);for(;c<E;c++)T.__setDigit(c,1073741823&-q);var ce,me=E<w.length?w.__digit(E):0,Te=f%30;if(0===Te)ce=0-me-q,ce&=1073741823;else{var Ke=32-Te,Qe=1<<32-Ke;ce=Qe-(me=me<<Ke>>>Ke)-q,ce&=Qe-1}return T.__setDigit(E,ce),T.__trim()}},{key:"__digitPow",value:function(f,w){for(var _=1;0<w;)1&w&&(_*=f),w>>>=1,f*=f;return _}},{key:"__isOneDigitInt",value:function(f){return(1073741823&f)===f}}]),B}(P(Array));return ve.__kMaxLength=33554432,ve.__kMaxLengthBits=ve.__kMaxLength<<5,ve.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],ve.__kBitsPerCharTableShift=5,ve.__kBitsPerCharTableMultiplier=1<<ve.__kBitsPerCharTableShift,ve.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ve.__kBitConversionBuffer=new ArrayBuffer(8),ve.__kBitConversionDouble=new Float64Array(ve.__kBitConversionBuffer),ve.__kBitConversionInts=new Int32Array(ve.__kBitConversionBuffer),ve.__clz30=A?function(ge){return A(ge)-2}:function(ge){var Me=Math.LN2,Oe=Math.log;return 0===ge?30:0|29-(0|Oe(ge>>>0)/Me)},ve.__imul=J||function(ge,Me){return 0|ge*Me},ve}()},44331:Ye=>{"use strict";var J=Ye.exports=function(x,N,Y){"function"==typeof N&&(Y=N,N={}),A(N,"function"==typeof(Y=N.cb||Y)?Y:Y.pre||function(){},Y.post||function(){},x,"",x)};function A(x,N,Y,M,j,R,U,H,V,P){if(M&&"object"==typeof M&&!Array.isArray(M)){for(var ee in N(M,j,R,U,H,V,P),M){var W=M[ee];if(Array.isArray(W)){if(ee in J.arrayKeywords)for(var Q=0;Q<W.length;Q++)A(x,N,Y,W[Q],j+"/"+ee+"/"+Q,R,j,ee,M,Q)}else if(ee in J.propsKeywords){if(W&&"object"==typeof W)for(var de in W)A(x,N,Y,W[de],j+"/"+ee+"/"+h(de),R,j,ee,M,de)}else(ee in J.keywords||x.allKeys&&!(ee in J.skipKeywords))&&A(x,N,Y,W,j+"/"+ee,R,j,ee,M)}Y(M,j,R,U,H,V,P)}}function h(x){return x.replace(/~/g,"~0").replace(/\//g,"~1")}J.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},J.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},J.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},J.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},89061:(Ye,J)=>{"use strict";J.supports=function(...h){const x=h.reduce((N,Y)=>Object.assign(N,Y),{});return Object.assign(x,{snapshots:x.snapshots||!1,permanence:x.permanence||!1,seek:x.seek||!1,clear:x.clear||!1,getMany:x.getMany||!1,keyIterator:x.keyIterator||!1,valueIterator:x.valueIterator||!1,iteratorNextv:x.iteratorNextv||!1,iteratorAll:x.iteratorAll||!1,status:x.status||!1,createIfMissing:x.createIfMissing||!1,errorIfExists:x.errorIfExists||!1,deferredOpen:x.deferredOpen||!1,promises:x.promises||!1,streams:x.streams||!1,encodings:Object.assign({},x.encodings),events:Object.assign({},x.events),additionalMethods:Object.assign({},x.additionalMethods)})}},25006:(Ye,J,A)=>{"use strict";const h=A(61747),x=A(40080),{Encoding:N}=A(15045),{BufferFormat:Y,ViewFormat:M,UTF8Format:j}=A(48262),R=Symbol("formats"),U=Symbol("encodings"),H=new Set(["buffer","view","utf8"]);J.Transcoder=class V{constructor(re){if(!Array.isArray(re))throw new TypeError("The first argument 'formats' must be an array");if(!re.every(te=>H.has(te)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[U]=new Map,this[R]=new Set(re);for(const te in x)try{this.encoding(te)}catch(ue){if("LEVEL_ENCODING_NOT_SUPPORTED"!==ue.code)throw ue}}encodings(){return Array.from(new Set(this[U].values()))}encoding(re){let te=this[U].get(re);if(void 0===te){if("string"==typeof re&&""!==re){if(te=Q[re],!te)throw new h(`Encoding '${re}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof re||null===re)throw new TypeError("First argument 'encoding' must be a string or object");te=function P(ae){if(ae instanceof N)return ae;const te=ae.name||("type"in ae&&"string"==typeof ae.type?ae.type:void 0)||"anonymous-"+de++;switch(function ee(ae){return"format"in ae&&void 0!==ae.format?ae.format:"buffer"in ae&&"boolean"==typeof ae.buffer?ae.buffer?"buffer":"utf8":"code"in ae&&Number.isInteger(ae.code)?"view":"buffer"}(ae)){case"view":return new M({...ae,name:te});case"utf8":return new j({...ae,name:te});case"buffer":return new Y({...ae,name:te});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(re)}const{name:ue,format:pe}=te;if(!this[R].has(pe))if(this[R].has("view"))te=te.createViewTranscoder();else if(this[R].has("buffer"))te=te.createBufferTranscoder();else{if(!this[R].has("utf8"))throw new h(`Encoding '${ue}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});te=te.createUTF8Transcoder()}for(const he of[re,ue,te.name,te.commonName])this[U].set(he,te)}return te}};const W={binary:x.buffer,"utf-8":x.utf8},Q={...x,...W};let de=0},15045:(Ye,J,A)=>{"use strict";const h=A(61747),x=new Set(["buffer","view","utf8"]);J.Encoding=class N{constructor(M){if(this.encode=M.encode||this.encode,this.decode=M.decode||this.decode,this.name=M.name||this.name,this.format=M.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!x.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");M.createViewTranscoder&&(this.createViewTranscoder=M.createViewTranscoder),M.createBufferTranscoder&&(this.createBufferTranscoder=M.createBufferTranscoder),M.createUTF8Transcoder&&(this.createUTF8Transcoder=M.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new h(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new h(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new h(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}},40080:(Ye,J,A)=>{"use strict";const{Buffer:h}=A(484)||{Buffer:{isBuffer:()=>!1}},{textEncoder:x,textDecoder:N}=A(33619)(),{BufferFormat:Y,ViewFormat:M,UTF8Format:j}=A(48262),R=U=>U;J.utf8=new j({encode:function(U){return h.isBuffer(U)?U.toString("utf8"):ArrayBuffer.isView(U)?N.decode(U):String(U)},decode:R,name:"utf8",createViewTranscoder(){return new M({encode:function(U){return ArrayBuffer.isView(U)?U:x.encode(U)},decode:function(U){return N.decode(U)},name:`${this.name}+view`})},createBufferTranscoder(){return new Y({encode:function(U){return h.isBuffer(U)?U:ArrayBuffer.isView(U)?h.from(U.buffer,U.byteOffset,U.byteLength):h.from(String(U),"utf8")},decode:function(U){return U.toString("utf8")},name:`${this.name}+buffer`})}}),J.json=new j({encode:JSON.stringify,decode:JSON.parse,name:"json"}),J.buffer=new Y({encode:function(U){return h.isBuffer(U)?U:ArrayBuffer.isView(U)?h.from(U.buffer,U.byteOffset,U.byteLength):h.from(String(U),"utf8")},decode:R,name:"buffer",createViewTranscoder(){return new M({encode:function(U){return ArrayBuffer.isView(U)?U:h.from(String(U),"utf8")},decode:function(U){return h.from(U.buffer,U.byteOffset,U.byteLength)},name:`${this.name}+view`})}}),J.view=new M({encode:function(U){return ArrayBuffer.isView(U)?U:x.encode(U)},decode:R,name:"view",createBufferTranscoder(){return new Y({encode:function(U){return h.isBuffer(U)?U:ArrayBuffer.isView(U)?h.from(U.buffer,U.byteOffset,U.byteLength):h.from(String(U),"utf8")},decode:R,name:`${this.name}+buffer`})}}),J.hex=new Y({encode:function(U){return h.isBuffer(U)?U:h.from(String(U),"hex")},decode:function(U){return U.toString("hex")},name:"hex"}),J.base64=new Y({encode:function(U){return h.isBuffer(U)?U:h.from(String(U),"base64")},decode:function(U){return U.toString("base64")},name:"base64"})},48262:(Ye,J,A)=>{"use strict";const{Buffer:h}=A(484)||{},{Encoding:x}=A(15045),N=A(33619);class Y extends x{constructor(U){super({...U,format:"buffer"})}createViewTranscoder(){return new M({encode:this.encode,decode:U=>this.decode(h.from(U.buffer,U.byteOffset,U.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class M extends x{constructor(U){super({...U,format:"view"})}createBufferTranscoder(){return new Y({encode:U=>{const H=this.encode(U);return h.from(H.buffer,H.byteOffset,H.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}J.BufferFormat=Y,J.ViewFormat=M,J.UTF8Format=class j extends x{constructor(U){super({...U,format:"utf8"})}createBufferTranscoder(){return new Y({encode:U=>h.from(this.encode(U),"utf8"),decode:U=>this.decode(U.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:U,textDecoder:H}=N();return new M({encode:V=>U.encode(this.encode(V)),decode:V=>this.decode(H.decode(V)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}},33619:Ye=>{"use strict";let J=null;Ye.exports=function(){return null===J&&(J={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),J}},484:(Ye,J,A)=>{"use strict";const h=A(13981),x=A(22020),N="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;J.Buffer=R,J.SlowBuffer=function te(K){return+K!=K&&(K=0),R.alloc(+K)},J.INSPECT_MAX_BYTES=50;const Y=2147483647;function j(K){if(K>Y)throw new RangeError('The value "'+K+'" is invalid for option "size"');const C=new Uint8Array(K);return Object.setPrototypeOf(C,R.prototype),C}function R(K,C,b){if("number"==typeof K){if("string"==typeof C)throw new TypeError('The "string" argument must be of type string. Received type number');return P(K)}return U(K,C,b)}function U(K,C,b){if("string"==typeof K)return function ee(K,C){if(("string"!=typeof C||""===C)&&(C="utf8"),!R.isEncoding(C))throw new TypeError("Unknown encoding: "+C);const b=0|ue(K,C);let z=j(b);const le=z.write(K,C);return le!==b&&(z=z.slice(0,le)),z}(K,C);if(ArrayBuffer.isView(K))return function Q(K){if(Ze(K,Uint8Array)){const C=new Uint8Array(K);return de(C.buffer,C.byteOffset,C.byteLength)}return W(K)}(K);if(null==K)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(Ze(K,ArrayBuffer)||K&&Ze(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ze(K,SharedArrayBuffer)||K&&Ze(K.buffer,SharedArrayBuffer)))return de(K,C,b);if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');const z=K.valueOf&&K.valueOf();if(null!=z&&z!==K)return R.from(z,C,b);const le=function ae(K){if(R.isBuffer(K)){const C=0|re(K.length),b=j(C);return 0===b.length||K.copy(b,0,0,C),b}return void 0!==K.length?"number"!=typeof K.length||Pt(K.length)?j(0):W(K):"Buffer"===K.type&&Array.isArray(K.data)?W(K.data):void 0}(K);if(le)return le;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return R.from(K[Symbol.toPrimitive]("string"),C,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function H(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function P(K){return H(K),j(K<0?0:0|re(K))}function W(K){const C=K.length<0?0:0|re(K.length),b=j(C);for(let z=0;z<C;z+=1)b[z]=255&K[z];return b}function de(K,C,b){if(C<0||K.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<C+(b||0))throw new RangeError('"length" is outside of buffer bounds');let z;return z=void 0===C&&void 0===b?new Uint8Array(K):void 0===b?new Uint8Array(K,C):new Uint8Array(K,C,b),Object.setPrototypeOf(z,R.prototype),z}function re(K){if(K>=Y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Y.toString(16)+" bytes");return 0|K}function ue(K,C){if(R.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||Ze(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const b=K.length,z=arguments.length>2&&!0===arguments[2];if(!z&&0===b)return 0;let le=!1;for(;;)switch(C){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return fe(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*b;case"hex":return b>>>1;case"base64":return $e(K).length;default:if(le)return z?-1:fe(K).length;C=(""+C).toLowerCase(),le=!0}}function pe(K,C,b){let z=!1;if((void 0===C||C<0)&&(C=0),C>this.length||((void 0===b||b>this.length)&&(b=this.length),b<=0)||(b>>>=0)<=(C>>>=0))return"";for(K||(K="utf8");;)switch(K){case"hex":return T(this,C,b);case"utf8":case"utf-8":return w(this,C,b);case"ascii":return O(this,C,b);case"latin1":case"binary":return $(this,C,b);case"base64":return f(this,C,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c(this,C,b);default:if(z)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),z=!0}}function he(K,C,b){const z=K[C];K[C]=K[b],K[b]=z}function ve(K,C,b,z,le){if(0===K.length)return-1;if("string"==typeof b?(z=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),Pt(b=+b)&&(b=le?0:K.length-1),b<0&&(b=K.length+b),b>=K.length){if(le)return-1;b=K.length-1}else if(b<0){if(!le)return-1;b=0}if("string"==typeof C&&(C=R.from(C,z)),R.isBuffer(C))return 0===C.length?-1:ge(K,C,b,z,le);if("number"==typeof C)return C&=255,"function"==typeof Uint8Array.prototype.indexOf?le?Uint8Array.prototype.indexOf.call(K,C,b):Uint8Array.prototype.lastIndexOf.call(K,C,b):ge(K,[C],b,z,le);throw new TypeError("val must be string, number or Buffer")}function ge(K,C,b,z,le){let Rt,Ae=1,Be=K.length,ft=C.length;if(void 0!==z&&("ucs2"===(z=String(z).toLowerCase())||"ucs-2"===z||"utf16le"===z||"utf-16le"===z)){if(K.length<2||C.length<2)return-1;Ae=2,Be/=2,ft/=2,b/=2}function Yt(Vt,dn){return 1===Ae?Vt[dn]:Vt.readUInt16BE(dn*Ae)}if(le){let Vt=-1;for(Rt=b;Rt<Be;Rt++)if(Yt(K,Rt)===Yt(C,-1===Vt?0:Rt-Vt)){if(-1===Vt&&(Vt=Rt),Rt-Vt+1===ft)return Vt*Ae}else-1!==Vt&&(Rt-=Rt-Vt),Vt=-1}else for(b+ft>Be&&(b=Be-ft),Rt=b;Rt>=0;Rt--){let Vt=!0;for(let dn=0;dn<ft;dn++)if(Yt(K,Rt+dn)!==Yt(C,dn)){Vt=!1;break}if(Vt)return Rt}return-1}function Me(K,C,b,z){b=Number(b)||0;const le=K.length-b;z?(z=Number(z))>le&&(z=le):z=le;const Ae=C.length;let Be;for(z>Ae/2&&(z=Ae/2),Be=0;Be<z;++Be){const ft=parseInt(C.substr(2*Be,2),16);if(Pt(ft))return Be;K[b+Be]=ft}return Be}function Oe(K,C,b,z){return Je(fe(C,K.length-b),K,b,z)}function je(K,C,b,z){return Je(function we(K){const C=[];for(let b=0;b<K.length;++b)C.push(255&K.charCodeAt(b));return C}(C),K,b,z)}function B(K,C,b,z){return Je($e(C),K,b,z)}function l(K,C,b,z){return Je(function De(K,C){let b,z,le;const Ae=[];for(let Be=0;Be<K.length&&!((C-=2)<0);++Be)b=K.charCodeAt(Be),z=b>>8,le=b%256,Ae.push(le),Ae.push(z);return Ae}(C,K.length-b),K,b,z)}function f(K,C,b){return h.fromByteArray(0===C&&b===K.length?K:K.slice(C,b))}function w(K,C,b){b=Math.min(K.length,b);const z=[];let le=C;for(;le<b;){const Ae=K[le];let Be=null,ft=Ae>239?4:Ae>223?3:Ae>191?2:1;if(le+ft<=b){let Yt,Rt,Vt,dn;switch(ft){case 1:Ae<128&&(Be=Ae);break;case 2:Yt=K[le+1],128==(192&Yt)&&(dn=(31&Ae)<<6|63&Yt,dn>127&&(Be=dn));break;case 3:Yt=K[le+1],Rt=K[le+2],128==(192&Yt)&&128==(192&Rt)&&(dn=(15&Ae)<<12|(63&Yt)<<6|63&Rt,dn>2047&&(dn<55296||dn>57343)&&(Be=dn));break;case 4:Yt=K[le+1],Rt=K[le+2],Vt=K[le+3],128==(192&Yt)&&128==(192&Rt)&&128==(192&Vt)&&(dn=(15&Ae)<<18|(63&Yt)<<12|(63&Rt)<<6|63&Vt,dn>65535&&dn<1114112&&(Be=dn))}}null===Be?(Be=65533,ft=1):Be>65535&&(Be-=65536,z.push(Be>>>10&1023|55296),Be=56320|1023&Be),z.push(Be),le+=ft}return function D(K){const C=K.length;if(C<=_)return String.fromCharCode.apply(String,K);let b="",z=0;for(;z<C;)b+=String.fromCharCode.apply(String,K.slice(z,z+=_));return b}(z)}J.kMaxLength=Y,!(R.TYPED_ARRAY_SUPPORT=function M(){try{const K=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(K,C),42===K.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(R.prototype,"parent",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.buffer}}),Object.defineProperty(R.prototype,"offset",{enumerable:!0,get:function(){if(R.isBuffer(this))return this.byteOffset}}),R.poolSize=8192,R.from=function(K,C,b){return U(K,C,b)},Object.setPrototypeOf(R.prototype,Uint8Array.prototype),Object.setPrototypeOf(R,Uint8Array),R.alloc=function(K,C,b){return function V(K,C,b){return H(K),K<=0?j(K):void 0!==C?"string"==typeof b?j(K).fill(C,b):j(K).fill(C):j(K)}(K,C,b)},R.allocUnsafe=function(K){return P(K)},R.allocUnsafeSlow=function(K){return P(K)},R.isBuffer=function(C){return null!=C&&!0===C._isBuffer&&C!==R.prototype},R.compare=function(C,b){if(Ze(C,Uint8Array)&&(C=R.from(C,C.offset,C.byteLength)),Ze(b,Uint8Array)&&(b=R.from(b,b.offset,b.byteLength)),!R.isBuffer(C)||!R.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===b)return 0;let z=C.length,le=b.length;for(let Ae=0,Be=Math.min(z,le);Ae<Be;++Ae)if(C[Ae]!==b[Ae]){z=C[Ae],le=b[Ae];break}return z<le?-1:le<z?1:0},R.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},R.concat=function(C,b){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(0===C.length)return R.alloc(0);let z;if(void 0===b)for(b=0,z=0;z<C.length;++z)b+=C[z].length;const le=R.allocUnsafe(b);let Ae=0;for(z=0;z<C.length;++z){let Be=C[z];if(Ze(Be,Uint8Array))Ae+Be.length>le.length?(R.isBuffer(Be)||(Be=R.from(Be)),Be.copy(le,Ae)):Uint8Array.prototype.set.call(le,Be,Ae);else{if(!R.isBuffer(Be))throw new TypeError('"list" argument must be an Array of Buffers');Be.copy(le,Ae)}Ae+=Be.length}return le},R.byteLength=ue,R.prototype._isBuffer=!0,R.prototype.swap16=function(){const C=this.length;if(C%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<C;b+=2)he(this,b,b+1);return this},R.prototype.swap32=function(){const C=this.length;if(C%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<C;b+=4)he(this,b,b+3),he(this,b+1,b+2);return this},R.prototype.swap64=function(){const C=this.length;if(C%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<C;b+=8)he(this,b,b+7),he(this,b+1,b+6),he(this,b+2,b+5),he(this,b+3,b+4);return this},R.prototype.toLocaleString=R.prototype.toString=function(){const C=this.length;return 0===C?"":0===arguments.length?w(this,0,C):pe.apply(this,arguments)},R.prototype.equals=function(C){if(!R.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C||0===R.compare(this,C)},R.prototype.inspect=function(){let C="";const b=J.INSPECT_MAX_BYTES;return C=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(C+=" ... "),"<Buffer "+C+">"},N&&(R.prototype[N]=R.prototype.inspect),R.prototype.compare=function(C,b,z,le,Ae){if(Ze(C,Uint8Array)&&(C=R.from(C,C.offset,C.byteLength)),!R.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(void 0===b&&(b=0),void 0===z&&(z=C?C.length:0),void 0===le&&(le=0),void 0===Ae&&(Ae=this.length),b<0||z>C.length||le<0||Ae>this.length)throw new RangeError("out of range index");if(le>=Ae&&b>=z)return 0;if(le>=Ae)return-1;if(b>=z)return 1;if(this===C)return 0;let Be=(Ae>>>=0)-(le>>>=0),ft=(z>>>=0)-(b>>>=0);const Yt=Math.min(Be,ft),Rt=this.slice(le,Ae),Vt=C.slice(b,z);for(let dn=0;dn<Yt;++dn)if(Rt[dn]!==Vt[dn]){Be=Rt[dn],ft=Vt[dn];break}return Be<ft?-1:ft<Be?1:0},R.prototype.includes=function(C,b,z){return-1!==this.indexOf(C,b,z)},R.prototype.indexOf=function(C,b,z){return ve(this,C,b,z,!0)},R.prototype.lastIndexOf=function(C,b,z){return ve(this,C,b,z,!1)},R.prototype.write=function(C,b,z,le){if(void 0===b)le="utf8",z=this.length,b=0;else if(void 0===z&&"string"==typeof b)le=b,z=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b>>>=0,isFinite(z)?(z>>>=0,void 0===le&&(le="utf8")):(le=z,z=void 0)}const Ae=this.length-b;if((void 0===z||z>Ae)&&(z=Ae),C.length>0&&(z<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let Be=!1;for(;;)switch(le){case"hex":return Me(this,C,b,z);case"utf8":case"utf-8":return Oe(this,C,b,z);case"ascii":case"latin1":case"binary":return je(this,C,b,z);case"base64":return B(this,C,b,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,C,b,z);default:if(Be)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Be=!0}},R.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const _=4096;function O(K,C,b){let z="";b=Math.min(K.length,b);for(let le=C;le<b;++le)z+=String.fromCharCode(127&K[le]);return z}function $(K,C,b){let z="";b=Math.min(K.length,b);for(let le=C;le<b;++le)z+=String.fromCharCode(K[le]);return z}function T(K,C,b){const z=K.length;(!C||C<0)&&(C=0),(!b||b<0||b>z)&&(b=z);let le="";for(let Ae=C;Ae<b;++Ae)le+=nt[K[Ae]];return le}function c(K,C,b){const z=K.slice(C,b);let le="";for(let Ae=0;Ae<z.length-1;Ae+=2)le+=String.fromCharCode(z[Ae]+256*z[Ae+1]);return le}function E(K,C,b){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+C>b)throw new RangeError("Trying to access beyond buffer length")}function q(K,C,b,z,le,Ae){if(!R.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>le||C<Ae)throw new RangeError('"value" argument is out of bounds');if(b+z>K.length)throw new RangeError("Index out of range")}function X(K,C,b,z,le){Se(C,z,le,K,b,7);let Ae=Number(C&BigInt(4294967295));K[b++]=Ae,Ae>>=8,K[b++]=Ae,Ae>>=8,K[b++]=Ae,Ae>>=8,K[b++]=Ae;let Be=Number(C>>BigInt(32)&BigInt(4294967295));return K[b++]=Be,Be>>=8,K[b++]=Be,Be>>=8,K[b++]=Be,Be>>=8,K[b++]=Be,b}function ce(K,C,b,z,le){Se(C,z,le,K,b,7);let Ae=Number(C&BigInt(4294967295));K[b+7]=Ae,Ae>>=8,K[b+6]=Ae,Ae>>=8,K[b+5]=Ae,Ae>>=8,K[b+4]=Ae;let Be=Number(C>>BigInt(32)&BigInt(4294967295));return K[b+3]=Be,Be>>=8,K[b+2]=Be,Be>>=8,K[b+1]=Be,Be>>=8,K[b]=Be,b+8}function me(K,C,b,z,le,Ae){if(b+z>K.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function Te(K,C,b,z,le){return C=+C,b>>>=0,le||me(K,0,b,4),x.write(K,C,b,z,23,4),b+4}function Ke(K,C,b,z,le){return C=+C,b>>>=0,le||me(K,0,b,8),x.write(K,C,b,z,52,8),b+8}R.prototype.slice=function(C,b){const z=this.length;(C=~~C)<0?(C+=z)<0&&(C=0):C>z&&(C=z),(b=void 0===b?z:~~b)<0?(b+=z)<0&&(b=0):b>z&&(b=z),b<C&&(b=C);const le=this.subarray(C,b);return Object.setPrototypeOf(le,R.prototype),le},R.prototype.readUintLE=R.prototype.readUIntLE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=this[C],Ae=1,Be=0;for(;++Be<b&&(Ae*=256);)le+=this[C+Be]*Ae;return le},R.prototype.readUintBE=R.prototype.readUIntBE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=this[C+--b],Ae=1;for(;b>0&&(Ae*=256);)le+=this[C+--b]*Ae;return le},R.prototype.readUint8=R.prototype.readUInt8=function(C,b){return C>>>=0,b||E(C,1,this.length),this[C]},R.prototype.readUint16LE=R.prototype.readUInt16LE=function(C,b){return C>>>=0,b||E(C,2,this.length),this[C]|this[C+1]<<8},R.prototype.readUint16BE=R.prototype.readUInt16BE=function(C,b){return C>>>=0,b||E(C,2,this.length),this[C]<<8|this[C+1]},R.prototype.readUint32LE=R.prototype.readUInt32LE=function(C,b){return C>>>=0,b||E(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+16777216*this[C+3]},R.prototype.readUint32BE=R.prototype.readUInt32BE=function(C,b){return C>>>=0,b||E(C,4,this.length),16777216*this[C]+(this[C+1]<<16|this[C+2]<<8|this[C+3])},R.prototype.readBigUInt64LE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];(void 0===b||void 0===z)&&Ee(C,this.length-8);const le=b+256*this[++C]+65536*this[++C]+this[++C]*2**24,Ae=this[++C]+256*this[++C]+65536*this[++C]+z*2**24;return BigInt(le)+(BigInt(Ae)<<BigInt(32))}),R.prototype.readBigUInt64BE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];(void 0===b||void 0===z)&&Ee(C,this.length-8);const le=b*2**24+65536*this[++C]+256*this[++C]+this[++C],Ae=this[++C]*2**24+65536*this[++C]+256*this[++C]+z;return(BigInt(le)<<BigInt(32))+BigInt(Ae)}),R.prototype.readIntLE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=this[C],Ae=1,Be=0;for(;++Be<b&&(Ae*=256);)le+=this[C+Be]*Ae;return Ae*=128,le>=Ae&&(le-=Math.pow(2,8*b)),le},R.prototype.readIntBE=function(C,b,z){C>>>=0,b>>>=0,z||E(C,b,this.length);let le=b,Ae=1,Be=this[C+--le];for(;le>0&&(Ae*=256);)Be+=this[C+--le]*Ae;return Ae*=128,Be>=Ae&&(Be-=Math.pow(2,8*b)),Be},R.prototype.readInt8=function(C,b){return C>>>=0,b||E(C,1,this.length),128&this[C]?-1*(255-this[C]+1):this[C]},R.prototype.readInt16LE=function(C,b){C>>>=0,b||E(C,2,this.length);const z=this[C]|this[C+1]<<8;return 32768&z?4294901760|z:z},R.prototype.readInt16BE=function(C,b){C>>>=0,b||E(C,2,this.length);const z=this[C+1]|this[C]<<8;return 32768&z?4294901760|z:z},R.prototype.readInt32LE=function(C,b){return C>>>=0,b||E(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},R.prototype.readInt32BE=function(C,b){return C>>>=0,b||E(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},R.prototype.readBigInt64LE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];return(void 0===b||void 0===z)&&Ee(C,this.length-8),(BigInt(this[C+4]+256*this[C+5]+65536*this[C+6]+(z<<24))<<BigInt(32))+BigInt(b+256*this[++C]+65536*this[++C]+this[++C]*2**24)}),R.prototype.readBigInt64BE=Ge(function(C){Le(C>>>=0,"offset");const b=this[C],z=this[C+7];(void 0===b||void 0===z)&&Ee(C,this.length-8);const le=(b<<24)+65536*this[++C]+256*this[++C]+this[++C];return(BigInt(le)<<BigInt(32))+BigInt(this[++C]*2**24+65536*this[++C]+256*this[++C]+z)}),R.prototype.readFloatLE=function(C,b){return C>>>=0,b||E(C,4,this.length),x.read(this,C,!0,23,4)},R.prototype.readFloatBE=function(C,b){return C>>>=0,b||E(C,4,this.length),x.read(this,C,!1,23,4)},R.prototype.readDoubleLE=function(C,b){return C>>>=0,b||E(C,8,this.length),x.read(this,C,!0,52,8)},R.prototype.readDoubleBE=function(C,b){return C>>>=0,b||E(C,8,this.length),x.read(this,C,!1,52,8)},R.prototype.writeUintLE=R.prototype.writeUIntLE=function(C,b,z,le){C=+C,b>>>=0,z>>>=0,le||q(this,C,b,z,Math.pow(2,8*z)-1,0);let Ae=1,Be=0;for(this[b]=255&C;++Be<z&&(Ae*=256);)this[b+Be]=C/Ae&255;return b+z},R.prototype.writeUintBE=R.prototype.writeUIntBE=function(C,b,z,le){C=+C,b>>>=0,z>>>=0,le||q(this,C,b,z,Math.pow(2,8*z)-1,0);let Ae=z-1,Be=1;for(this[b+Ae]=255&C;--Ae>=0&&(Be*=256);)this[b+Ae]=C/Be&255;return b+z},R.prototype.writeUint8=R.prototype.writeUInt8=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,1,255,0),this[b]=255&C,b+1},R.prototype.writeUint16LE=R.prototype.writeUInt16LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,65535,0),this[b]=255&C,this[b+1]=C>>>8,b+2},R.prototype.writeUint16BE=R.prototype.writeUInt16BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,65535,0),this[b]=C>>>8,this[b+1]=255&C,b+2},R.prototype.writeUint32LE=R.prototype.writeUInt32LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,4294967295,0),this[b+3]=C>>>24,this[b+2]=C>>>16,this[b+1]=C>>>8,this[b]=255&C,b+4},R.prototype.writeUint32BE=R.prototype.writeUInt32BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,4294967295,0),this[b]=C>>>24,this[b+1]=C>>>16,this[b+2]=C>>>8,this[b+3]=255&C,b+4},R.prototype.writeBigUInt64LE=Ge(function(C,b=0){return X(this,C,b,BigInt(0),BigInt("0xffffffffffffffff"))}),R.prototype.writeBigUInt64BE=Ge(function(C,b=0){return ce(this,C,b,BigInt(0),BigInt("0xffffffffffffffff"))}),R.prototype.writeIntLE=function(C,b,z,le){if(C=+C,b>>>=0,!le){const Yt=Math.pow(2,8*z-1);q(this,C,b,z,Yt-1,-Yt)}let Ae=0,Be=1,ft=0;for(this[b]=255&C;++Ae<z&&(Be*=256);)C<0&&0===ft&&0!==this[b+Ae-1]&&(ft=1),this[b+Ae]=(C/Be|0)-ft&255;return b+z},R.prototype.writeIntBE=function(C,b,z,le){if(C=+C,b>>>=0,!le){const Yt=Math.pow(2,8*z-1);q(this,C,b,z,Yt-1,-Yt)}let Ae=z-1,Be=1,ft=0;for(this[b+Ae]=255&C;--Ae>=0&&(Be*=256);)C<0&&0===ft&&0!==this[b+Ae+1]&&(ft=1),this[b+Ae]=(C/Be|0)-ft&255;return b+z},R.prototype.writeInt8=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,1,127,-128),C<0&&(C=255+C+1),this[b]=255&C,b+1},R.prototype.writeInt16LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,32767,-32768),this[b]=255&C,this[b+1]=C>>>8,b+2},R.prototype.writeInt16BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,2,32767,-32768),this[b]=C>>>8,this[b+1]=255&C,b+2},R.prototype.writeInt32LE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,2147483647,-2147483648),this[b]=255&C,this[b+1]=C>>>8,this[b+2]=C>>>16,this[b+3]=C>>>24,b+4},R.prototype.writeInt32BE=function(C,b,z){return C=+C,b>>>=0,z||q(this,C,b,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[b]=C>>>24,this[b+1]=C>>>16,this[b+2]=C>>>8,this[b+3]=255&C,b+4},R.prototype.writeBigInt64LE=Ge(function(C,b=0){return X(this,C,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),R.prototype.writeBigInt64BE=Ge(function(C,b=0){return ce(this,C,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),R.prototype.writeFloatLE=function(C,b,z){return Te(this,C,b,!0,z)},R.prototype.writeFloatBE=function(C,b,z){return Te(this,C,b,!1,z)},R.prototype.writeDoubleLE=function(C,b,z){return Ke(this,C,b,!0,z)},R.prototype.writeDoubleBE=function(C,b,z){return Ke(this,C,b,!1,z)},R.prototype.copy=function(C,b,z,le){if(!R.isBuffer(C))throw new TypeError("argument should be a Buffer");if(z||(z=0),!le&&0!==le&&(le=this.length),b>=C.length&&(b=C.length),b||(b=0),le>0&&le<z&&(le=z),le===z||0===C.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),C.length-b<le-z&&(le=C.length-b+z);const Ae=le-z;return this===C&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(b,z,le):Uint8Array.prototype.set.call(C,this.subarray(z,le),b),Ae},R.prototype.fill=function(C,b,z,le){if("string"==typeof C){if("string"==typeof b?(le=b,b=0,z=this.length):"string"==typeof z&&(le=z,z=this.length),void 0!==le&&"string"!=typeof le)throw new TypeError("encoding must be a string");if("string"==typeof le&&!R.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(1===C.length){const Be=C.charCodeAt(0);("utf8"===le&&Be<128||"latin1"===le)&&(C=Be)}}else"number"==typeof C?C&=255:"boolean"==typeof C&&(C=Number(C));if(b<0||this.length<b||this.length<z)throw new RangeError("Out of range index");if(z<=b)return this;let Ae;if(b>>>=0,z=void 0===z?this.length:z>>>0,C||(C=0),"number"==typeof C)for(Ae=b;Ae<z;++Ae)this[Ae]=C;else{const Be=R.isBuffer(C)?C:R.from(C,le),ft=Be.length;if(0===ft)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(Ae=0;Ae<z-b;++Ae)this[Ae+b]=Be[Ae%ft]}return this};const Qe={};function ke(K,C,b){Qe[K]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:C.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,delete this.name}get code(){return K}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}function Ie(K){let C="",b=K.length;const z="-"===K[0]?1:0;for(;b>=z+4;b-=3)C=`_${K.slice(b-3,b)}${C}`;return`${K.slice(0,b)}${C}`}function Se(K,C,b,z,le,Ae){if(K>b||K<C){const Be="bigint"==typeof C?"n":"";let ft;throw ft=Ae>3?0===C||C===BigInt(0)?`>= 0${Be} and < 2${Be} ** ${8*(Ae+1)}${Be}`:`>= -(2${Be} ** ${8*(Ae+1)-1}${Be}) and < 2 ** ${8*(Ae+1)-1}${Be}`:`>= ${C}${Be} and <= ${b}${Be}`,new Qe.ERR_OUT_OF_RANGE("value",ft,K)}!function Xe(K,C,b){Le(C,"offset"),(void 0===K[C]||void 0===K[C+b])&&Ee(C,K.length-(b+1))}(z,le,Ae)}function Le(K,C){if("number"!=typeof K)throw new Qe.ERR_INVALID_ARG_TYPE(C,"number",K)}function Ee(K,C,b){throw Math.floor(K)!==K?(Le(K,b),new Qe.ERR_OUT_OF_RANGE(b||"offset","an integer",K)):C<0?new Qe.ERR_BUFFER_OUT_OF_BOUNDS:new Qe.ERR_OUT_OF_RANGE(b||"offset",`>= ${b?1:0} and <= ${C}`,K)}ke("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ke("ERR_INVALID_ARG_TYPE",function(K,C){return`The "${K}" argument must be of type number. Received type ${typeof C}`},TypeError),ke("ERR_OUT_OF_RANGE",function(K,C,b){let z=`The value of "${K}" is out of range.`,le=b;return Number.isInteger(b)&&Math.abs(b)>2**32?le=Ie(String(b)):"bigint"==typeof b&&(le=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(le=Ie(le)),le+="n"),z+=` It must be ${C}. Received ${le}`,z},RangeError);const be=/[^+/0-9A-Za-z-_]/g;function fe(K,C){let b;C=C||1/0;const z=K.length;let le=null;const Ae=[];for(let Be=0;Be<z;++Be){if(b=K.charCodeAt(Be),b>55295&&b<57344){if(!le){if(b>56319){(C-=3)>-1&&Ae.push(239,191,189);continue}if(Be+1===z){(C-=3)>-1&&Ae.push(239,191,189);continue}le=b;continue}if(b<56320){(C-=3)>-1&&Ae.push(239,191,189),le=b;continue}b=65536+(le-55296<<10|b-56320)}else le&&(C-=3)>-1&&Ae.push(239,191,189);if(le=null,b<128){if((C-=1)<0)break;Ae.push(b)}else if(b<2048){if((C-=2)<0)break;Ae.push(b>>6|192,63&b|128)}else if(b<65536){if((C-=3)<0)break;Ae.push(b>>12|224,b>>6&63|128,63&b|128)}else{if(!(b<1114112))throw new Error("Invalid code point");if((C-=4)<0)break;Ae.push(b>>18|240,b>>12&63|128,b>>6&63|128,63&b|128)}}return Ae}function $e(K){return h.toByteArray(function oe(K){if((K=(K=K.split("=")[0]).trim().replace(be,"")).length<2)return"";for(;K.length%4!=0;)K+="=";return K}(K))}function Je(K,C,b,z){let le;for(le=0;le<z&&!(le+b>=C.length||le>=K.length);++le)C[le+b]=K[le];return le}function Ze(K,C){return K instanceof C||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===C.name}function Pt(K){return K!=K}const nt=function(){const K="0123456789abcdef",C=new Array(256);for(let b=0;b<16;++b){const z=16*b;for(let le=0;le<16;++le)C[z+le]=K[b]+K[le]}return C}();function Ge(K){return typeof BigInt>"u"?Et:K}function Et(){throw new Error("BigInt not supported")}},54626:(Ye,J,A)=>{J.Level=A(23963).BrowserLevel},8516:(Ye,J,A)=>{var h=A(81464);Ye.exports=h.Symbol},61057:(Ye,J,A)=>{var h=A(8516),x=A(8488),N=A(53327),j=h?h.toStringTag:void 0;Ye.exports=function R(U){return null==U?void 0===U?"[object Undefined]":"[object Null]":j&&j in Object(U)?x(U):N(U)}},78657:Ye=>{var J="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis;Ye.exports=J},46902:(Ye,J,A)=>{var x=A(72852)(Object.getPrototypeOf,Object);Ye.exports=x},8488:(Ye,J,A)=>{var h=A(8516),x=Object.prototype,N=x.hasOwnProperty,Y=x.toString,M=h?h.toStringTag:void 0;Ye.exports=function j(R){var U=N.call(R,M),H=R[M];try{R[M]=void 0;var V=!0}catch{}var P=Y.call(R);return V&&(U?R[M]=H:delete R[M]),P}},53327:Ye=>{var A=Object.prototype.toString;Ye.exports=function h(x){return A.call(x)}},72852:Ye=>{Ye.exports=function J(A,h){return function(x){return A(h(x))}}},81464:(Ye,J,A)=>{var h=A(78657),x="object"==typeof self&&self&&self.Object===Object&&self,N=h||x||Function("return this")();Ye.exports=N},57433:Ye=>{Ye.exports=function J(A){return null!=A&&"object"==typeof A}},49970:(Ye,J,A)=>{var h=A(61057),x=A(46902),N=A(57433),R=Function.prototype.toString,U=Object.prototype.hasOwnProperty,H=R.call(Object);Ye.exports=function V(P){if(!N(P)||"[object Object]"!=h(P))return!1;var ee=x(P);if(null===ee)return!0;var W=U.call(ee,"constructor")&&ee.constructor;return"function"==typeof W&&W instanceof W&&R.call(W)==H}},34725:(Ye,J,A)=>{"use strict";var h=A(71993),x=A(13686),N=A(27054).Buffer,Y=new Array(16);function M(){x.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function j(P,ee){return P<<ee|P>>>32-ee}function R(P,ee,W,Q,de,ae,re){return j(P+(ee&W|~ee&Q)+de+ae|0,re)+ee|0}function U(P,ee,W,Q,de,ae,re){return j(P+(ee&Q|W&~Q)+de+ae|0,re)+ee|0}function H(P,ee,W,Q,de,ae,re){return j(P+(ee^W^Q)+de+ae|0,re)+ee|0}function V(P,ee,W,Q,de,ae,re){return j(P+(W^(ee|~Q))+de+ae|0,re)+ee|0}h(M,x),M.prototype._update=function(){for(var P=Y,ee=0;ee<16;++ee)P[ee]=this._block.readInt32LE(4*ee);var W=this._a,Q=this._b,de=this._c,ae=this._d;W=R(W,Q,de,ae,P[0],3614090360,7),ae=R(ae,W,Q,de,P[1],3905402710,12),de=R(de,ae,W,Q,P[2],606105819,17),Q=R(Q,de,ae,W,P[3],3250441966,22),W=R(W,Q,de,ae,P[4],4118548399,7),ae=R(ae,W,Q,de,P[5],1200080426,12),de=R(de,ae,W,Q,P[6],2821735955,17),Q=R(Q,de,ae,W,P[7],4249261313,22),W=R(W,Q,de,ae,P[8],1770035416,7),ae=R(ae,W,Q,de,P[9],2336552879,12),de=R(de,ae,W,Q,P[10],4294925233,17),Q=R(Q,de,ae,W,P[11],2304563134,22),W=R(W,Q,de,ae,P[12],1804603682,7),ae=R(ae,W,Q,de,P[13],4254626195,12),de=R(de,ae,W,Q,P[14],2792965006,17),W=U(W,Q=R(Q,de,ae,W,P[15],1236535329,22),de,ae,P[1],4129170786,5),ae=U(ae,W,Q,de,P[6],3225465664,9),de=U(de,ae,W,Q,P[11],643717713,14),Q=U(Q,de,ae,W,P[0],3921069994,20),W=U(W,Q,de,ae,P[5],3593408605,5),ae=U(ae,W,Q,de,P[10],38016083,9),de=U(de,ae,W,Q,P[15],3634488961,14),Q=U(Q,de,ae,W,P[4],3889429448,20),W=U(W,Q,de,ae,P[9],568446438,5),ae=U(ae,W,Q,de,P[14],3275163606,9),de=U(de,ae,W,Q,P[3],4107603335,14),Q=U(Q,de,ae,W,P[8],1163531501,20),W=U(W,Q,de,ae,P[13],2850285829,5),ae=U(ae,W,Q,de,P[2],4243563512,9),de=U(de,ae,W,Q,P[7],1735328473,14),W=H(W,Q=U(Q,de,ae,W,P[12],2368359562,20),de,ae,P[5],4294588738,4),ae=H(ae,W,Q,de,P[8],2272392833,11),de=H(de,ae,W,Q,P[11],1839030562,16),Q=H(Q,de,ae,W,P[14],4259657740,23),W=H(W,Q,de,ae,P[1],2763975236,4),ae=H(ae,W,Q,de,P[4],1272893353,11),de=H(de,ae,W,Q,P[7],4139469664,16),Q=H(Q,de,ae,W,P[10],3200236656,23),W=H(W,Q,de,ae,P[13],681279174,4),ae=H(ae,W,Q,de,P[0],3936430074,11),de=H(de,ae,W,Q,P[3],3572445317,16),Q=H(Q,de,ae,W,P[6],76029189,23),W=H(W,Q,de,ae,P[9],3654602809,4),ae=H(ae,W,Q,de,P[12],3873151461,11),de=H(de,ae,W,Q,P[15],530742520,16),W=V(W,Q=H(Q,de,ae,W,P[2],3299628645,23),de,ae,P[0],4096336452,6),ae=V(ae,W,Q,de,P[7],1126891415,10),de=V(de,ae,W,Q,P[14],2878612391,15),Q=V(Q,de,ae,W,P[5],4237533241,21),W=V(W,Q,de,ae,P[12],1700485571,6),ae=V(ae,W,Q,de,P[3],2399980690,10),de=V(de,ae,W,Q,P[10],4293915773,15),Q=V(Q,de,ae,W,P[1],2240044497,21),W=V(W,Q,de,ae,P[8],1873313359,6),ae=V(ae,W,Q,de,P[15],4264355552,10),de=V(de,ae,W,Q,P[6],2734768916,15),Q=V(Q,de,ae,W,P[13],1309151649,21),W=V(W,Q,de,ae,P[4],4149444226,6),ae=V(ae,W,Q,de,P[11],3174756917,10),de=V(de,ae,W,Q,P[2],718787259,15),Q=V(Q,de,ae,W,P[9],3951481745,21),this._a=this._a+W|0,this._b=this._b+Q|0,this._c=this._c+de|0,this._d=this._d+ae|0},M.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var P=N.allocUnsafe(16);return P.writeInt32LE(this._a,0),P.writeInt32LE(this._b,4),P.writeInt32LE(this._c,8),P.writeInt32LE(this._d,12),P},Ye.exports=M},53459:(Ye,J,A)=>{var h=A(57223),x=A(35294);function N(Y){this.rand=Y||new x.Rand}Ye.exports=N,N.create=function(M){return new N(M)},N.prototype._randbelow=function(M){var j=M.bitLength(),R=Math.ceil(j/8);do{var U=new h(this.rand.generate(R))}while(U.cmp(M)>=0);return U},N.prototype._randrange=function(M,j){var R=j.sub(M);return M.add(this._randbelow(R))},N.prototype.test=function(M,j,R){var U=M.bitLength(),H=h.mont(M),V=new h(1).toRed(H);j||(j=Math.max(1,U/48|0));for(var P=M.subn(1),ee=0;!P.testn(ee);ee++);for(var W=M.shrn(ee),Q=P.toRed(H);j>0;j--){var ae=this._randrange(new h(2),P);R&&R(ae);var re=ae.toRed(H).redPow(W);if(0!==re.cmp(V)&&0!==re.cmp(Q)){for(var te=1;te<ee;te++){if(0===(re=re.redSqr()).cmp(V))return!1;if(0===re.cmp(Q))break}if(te===ee)return!1}}return!0},N.prototype.getDivisor=function(M,j){var R=M.bitLength(),U=h.mont(M),H=new h(1).toRed(U);j||(j=Math.max(1,R/48|0));for(var V=M.subn(1),P=0;!V.testn(P);P++);for(var ee=M.shrn(P),W=V.toRed(U);j>0;j--){var Q=this._randrange(new h(2),V),de=M.gcd(Q);if(0!==de.cmpn(1))return de;var ae=Q.toRed(U).redPow(ee);if(0!==ae.cmp(H)&&0!==ae.cmp(W)){for(var re=1;re<P;re++){if(0===(ae=ae.redSqr()).cmp(H))return ae.fromRed().subn(1).gcd(M);if(0===ae.cmp(W))break}if(re===P)return(ae=ae.redSqr()).fromRed().subn(1).gcd(M)}}return!1}},57223:function(Ye,J,A){!function(h,x){"use strict";function N(B,l){if(!B)throw new Error(l||"Assertion failed")}function Y(B,l){B.super_=l;var f=function(){};f.prototype=l.prototype,B.prototype=new f,B.prototype.constructor=B}function M(B,l,f){if(M.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,null!==B&&(("le"===l||"be"===l)&&(f=l,l=10),this._init(B||0,l||10,f||"be"))}var j;"object"==typeof h?h.exports=M:x.BN=M,M.BN=M,M.wordSize=26;try{j=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:A(64688).Buffer}catch{}function R(B,l){var f=B.charCodeAt(l);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function U(B,l,f){var w=R(B,f);return f-1>=l&&(w|=R(B,f-1)<<4),w}function H(B,l,f,w){for(var _=0,D=Math.min(B.length,f),O=l;O<D;O++){var $=B.charCodeAt(O)-48;_*=w,_+=$>=49?$-49+10:$>=17?$-17+10:$}return _}M.isBN=function(l){return l instanceof M||null!==l&&"object"==typeof l&&l.constructor.wordSize===M.wordSize&&Array.isArray(l.words)},M.max=function(l,f){return l.cmp(f)>0?l:f},M.min=function(l,f){return l.cmp(f)<0?l:f},M.prototype._init=function(l,f,w){if("number"==typeof l)return this._initNumber(l,f,w);if("object"==typeof l)return this._initArray(l,f,w);"hex"===f&&(f=16),N(f===(0|f)&&f>=2&&f<=36);var _=0;"-"===(l=l.toString().replace(/\s+/g,""))[0]&&(_++,this.negative=1),_<l.length&&(16===f?this._parseHex(l,_,w):(this._parseBase(l,f,_),"le"===w&&this._initArray(this.toArray(),f,w)))},M.prototype._initNumber=function(l,f,w){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[67108863&l],this.length=1):l<4503599627370496?(this.words=[67108863&l,l/67108864&67108863],this.length=2):(N(l<9007199254740992),this.words=[67108863&l,l/67108864&67108863,1],this.length=3),"le"===w&&this._initArray(this.toArray(),f,w)},M.prototype._initArray=function(l,f,w){if(N("number"==typeof l.length),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var D,O,$=0;if("be"===w)for(_=l.length-1,D=0;_>=0;_-=3)this.words[D]|=(O=l[_]|l[_-1]<<8|l[_-2]<<16)<<$&67108863,this.words[D+1]=O>>>26-$&67108863,($+=24)>=26&&($-=26,D++);else if("le"===w)for(_=0,D=0;_<l.length;_+=3)this.words[D]|=(O=l[_]|l[_+1]<<8|l[_+2]<<16)<<$&67108863,this.words[D+1]=O>>>26-$&67108863,($+=24)>=26&&($-=26,D++);return this.strip()},M.prototype._parseHex=function(l,f,w){this.length=Math.ceil((l.length-f)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var $,D=0,O=0;if("be"===w)for(_=l.length-1;_>=f;_-=2)$=U(l,f,_)<<D,this.words[O]|=67108863&$,D>=18?(D-=18,this.words[O+=1]|=$>>>26):D+=8;else for(_=(l.length-f)%2==0?f+1:f;_<l.length;_+=2)$=U(l,f,_)<<D,this.words[O]|=67108863&$,D>=18?(D-=18,this.words[O+=1]|=$>>>26):D+=8;this.strip()},M.prototype._parseBase=function(l,f,w){this.words=[0],this.length=1;for(var _=0,D=1;D<=67108863;D*=f)_++;_--,D=D/f|0;for(var O=l.length-w,$=O%_,T=Math.min(O,O-$)+w,c=0,E=w;E<T;E+=_)c=H(l,E,E+_,f),this.imuln(D),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==$){var q=1;for(c=H(l,E,l.length,f),E=0;E<$;E++)q*=f;this.imuln(q),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},M.prototype.copy=function(l){l.words=new Array(this.length);for(var f=0;f<this.length;f++)l.words[f]=this.words[f];l.length=this.length,l.negative=this.negative,l.red=this.red},M.prototype.clone=function(){var l=new M(null);return this.copy(l),l},M.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},M.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},M.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},M.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var V=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],P=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ee=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Q(B,l,f){f.negative=l.negative^B.negative;var w=B.length+l.length|0;f.length=w,w=w-1|0;var _=0|B.words[0],D=0|l.words[0],O=_*D,T=O/67108864|0;f.words[0]=67108863&O;for(var c=1;c<w;c++){for(var E=T>>>26,q=67108863&T,X=Math.min(c,l.length-1),ce=Math.max(0,c-B.length+1);ce<=X;ce++)E+=(O=(_=0|B.words[c-ce|0])*(D=0|l.words[ce])+q)/67108864|0,q=67108863&O;f.words[c]=0|q,T=0|E}return 0!==T?f.words[c]=0|T:f.length--,f.strip()}M.prototype.toString=function(l,f){var w;if(f=0|f||1,16===(l=l||10)||"hex"===l){w="";for(var _=0,D=0,O=0;O<this.length;O++){var $=this.words[O],T=(16777215&($<<_|D)).toString(16);w=0!=(D=$>>>24-_&16777215)||O!==this.length-1?V[6-T.length]+T+w:T+w,(_+=2)>=26&&(_-=26,O--)}for(0!==D&&(w=D.toString(16)+w);w.length%f!=0;)w="0"+w;return 0!==this.negative&&(w="-"+w),w}if(l===(0|l)&&l>=2&&l<=36){var c=P[l],E=ee[l];w="";var q=this.clone();for(q.negative=0;!q.isZero();){var X=q.modn(E).toString(l);w=(q=q.idivn(E)).isZero()?X+w:V[c-X.length]+X+w}for(this.isZero()&&(w="0"+w);w.length%f!=0;)w="0"+w;return 0!==this.negative&&(w="-"+w),w}N(!1,"Base should be between 2 and 36")},M.prototype.toNumber=function(){var l=this.words[0];return 2===this.length?l+=67108864*this.words[1]:3===this.length&&1===this.words[2]?l+=4503599627370496+67108864*this.words[1]:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-l:l},M.prototype.toJSON=function(){return this.toString(16)},M.prototype.toBuffer=function(l,f){return N(typeof j<"u"),this.toArrayLike(j,l,f)},M.prototype.toArray=function(l,f){return this.toArrayLike(Array,l,f)},M.prototype.toArrayLike=function(l,f,w){var _=this.byteLength(),D=w||Math.max(1,_);N(_<=D,"byte array longer than desired length"),N(D>0,"Requested array length <= 0"),this.strip();var T,c,O="le"===f,$=new l(D),E=this.clone();if(O){for(c=0;!E.isZero();c++)T=E.andln(255),E.iushrn(8),$[c]=T;for(;c<D;c++)$[c]=0}else{for(c=0;c<D-_;c++)$[c]=0;for(c=0;!E.isZero();c++)T=E.andln(255),E.iushrn(8),$[D-c-1]=T}return $},M.prototype._countBits=Math.clz32?function(l){return 32-Math.clz32(l)}:function(l){var f=l,w=0;return f>=4096&&(w+=13,f>>>=13),f>=64&&(w+=7,f>>>=7),f>=8&&(w+=4,f>>>=4),f>=2&&(w+=2,f>>>=2),w+f},M.prototype._zeroBits=function(l){if(0===l)return 26;var f=l,w=0;return 8191&f||(w+=13,f>>>=13),127&f||(w+=7,f>>>=7),15&f||(w+=4,f>>>=4),3&f||(w+=2,f>>>=2),1&f||w++,w},M.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},M.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,f=0;f<this.length;f++){var w=this._zeroBits(this.words[f]);if(l+=w,26!==w)break}return l},M.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},M.prototype.toTwos=function(l){return 0!==this.negative?this.abs().inotn(l).iaddn(1):this.clone()},M.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},M.prototype.isNeg=function(){return 0!==this.negative},M.prototype.neg=function(){return this.clone().ineg()},M.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},M.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var f=0;f<l.length;f++)this.words[f]=this.words[f]|l.words[f];return this.strip()},M.prototype.ior=function(l){return N(!(this.negative|l.negative)),this.iuor(l)},M.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},M.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},M.prototype.iuand=function(l){var f;f=this.length>l.length?l:this;for(var w=0;w<f.length;w++)this.words[w]=this.words[w]&l.words[w];return this.length=f.length,this.strip()},M.prototype.iand=function(l){return N(!(this.negative|l.negative)),this.iuand(l)},M.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},M.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},M.prototype.iuxor=function(l){var f,w;this.length>l.length?(f=this,w=l):(f=l,w=this);for(var _=0;_<w.length;_++)this.words[_]=f.words[_]^w.words[_];if(this!==f)for(;_<f.length;_++)this.words[_]=f.words[_];return this.length=f.length,this.strip()},M.prototype.ixor=function(l){return N(!(this.negative|l.negative)),this.iuxor(l)},M.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},M.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},M.prototype.inotn=function(l){N("number"==typeof l&&l>=0);var f=0|Math.ceil(l/26),w=l%26;this._expand(f),w>0&&f--;for(var _=0;_<f;_++)this.words[_]=67108863&~this.words[_];return w>0&&(this.words[_]=~this.words[_]&67108863>>26-w),this.strip()},M.prototype.notn=function(l){return this.clone().inotn(l)},M.prototype.setn=function(l,f){N("number"==typeof l&&l>=0);var w=l/26|0,_=l%26;return this._expand(w+1),this.words[w]=f?this.words[w]|1<<_:this.words[w]&~(1<<_),this.strip()},M.prototype.iadd=function(l){var f,w,_;if(0!==this.negative&&0===l.negative)return this.negative=0,f=this.isub(l),this.negative^=1,this._normSign();if(0===this.negative&&0!==l.negative)return l.negative=0,f=this.isub(l),l.negative=1,f._normSign();this.length>l.length?(w=this,_=l):(w=l,_=this);for(var D=0,O=0;O<_.length;O++)this.words[O]=67108863&(f=(0|w.words[O])+(0|_.words[O])+D),D=f>>>26;for(;0!==D&&O<w.length;O++)this.words[O]=67108863&(f=(0|w.words[O])+D),D=f>>>26;if(this.length=w.length,0!==D)this.words[this.length]=D,this.length++;else if(w!==this)for(;O<w.length;O++)this.words[O]=w.words[O];return this},M.prototype.add=function(l){var f;return 0!==l.negative&&0===this.negative?(l.negative=0,f=this.sub(l),l.negative^=1,f):0===l.negative&&0!==this.negative?(this.negative=0,f=l.sub(this),this.negative=1,f):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},M.prototype.isub=function(l){if(0!==l.negative){l.negative=0;var f=this.iadd(l);return l.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var _,D,w=this.cmp(l);if(0===w)return this.negative=0,this.length=1,this.words[0]=0,this;w>0?(_=this,D=l):(_=l,D=this);for(var O=0,$=0;$<D.length;$++)O=(f=(0|_.words[$])-(0|D.words[$])+O)>>26,this.words[$]=67108863&f;for(;0!==O&&$<_.length;$++)O=(f=(0|_.words[$])+O)>>26,this.words[$]=67108863&f;if(0===O&&$<_.length&&_!==this)for(;$<_.length;$++)this.words[$]=_.words[$];return this.length=Math.max(this.length,$),_!==this&&(this.negative=1),this.strip()},M.prototype.sub=function(l){return this.clone().isub(l)};var de=function(l,f,w){var T,c,E,_=l.words,D=f.words,O=w.words,$=0,q=0|_[0],X=8191&q,ce=q>>>13,me=0|_[1],Te=8191&me,Ke=me>>>13,Qe=0|_[2],ke=8191&Qe,Ie=Qe>>>13,Xe=0|_[3],Se=8191&Xe,Le=Xe>>>13,Ee=0|_[4],be=8191&Ee,oe=Ee>>>13,fe=0|_[5],we=8191&fe,De=fe>>>13,$e=0|_[6],Je=8191&$e,Ze=$e>>>13,Pt=0|_[7],nt=8191&Pt,Ge=Pt>>>13,Et=0|_[8],K=8191&Et,C=Et>>>13,b=0|_[9],z=8191&b,le=b>>>13,Ae=0|D[0],Be=8191&Ae,ft=Ae>>>13,Yt=0|D[1],Rt=8191&Yt,Vt=Yt>>>13,dn=0|D[2],Mn=8191&dn,En=dn>>>13,Ar=0|D[3],jn=8191&Ar,mn=Ar>>>13,pn=0|D[4],kt=8191&pn,St=pn>>>13,an=0|D[5],hn=8191&an,An=an>>>13,Rr=0|D[6],Tt=8191&Rr,Nt=Rr>>>13,Lt=0|D[7],st=8191&Lt,mt=Lt>>>13,sn=0|D[8],Zt=8191&sn,xn=sn>>>13,cr=0|D[9],kn=8191&cr,zn=cr>>>13;w.negative=l.negative^f.negative,w.length=19;var qr=($+(T=Math.imul(X,Be))|0)+((8191&(c=(c=Math.imul(X,ft))+Math.imul(ce,Be)|0))<<13)|0;$=((E=Math.imul(ce,ft))+(c>>>13)|0)+(qr>>>26)|0,qr&=67108863,T=Math.imul(Te,Be),c=(c=Math.imul(Te,ft))+Math.imul(Ke,Be)|0,E=Math.imul(Ke,ft);var pr=($+(T=T+Math.imul(X,Rt)|0)|0)+((8191&(c=(c=c+Math.imul(X,Vt)|0)+Math.imul(ce,Rt)|0))<<13)|0;$=((E=E+Math.imul(ce,Vt)|0)+(c>>>13)|0)+(pr>>>26)|0,pr&=67108863,T=Math.imul(ke,Be),c=(c=Math.imul(ke,ft))+Math.imul(Ie,Be)|0,E=Math.imul(Ie,ft),T=T+Math.imul(Te,Rt)|0,c=(c=c+Math.imul(Te,Vt)|0)+Math.imul(Ke,Rt)|0,E=E+Math.imul(Ke,Vt)|0;var qn=($+(T=T+Math.imul(X,Mn)|0)|0)+((8191&(c=(c=c+Math.imul(X,En)|0)+Math.imul(ce,Mn)|0))<<13)|0;$=((E=E+Math.imul(ce,En)|0)+(c>>>13)|0)+(qn>>>26)|0,qn&=67108863,T=Math.imul(Se,Be),c=(c=Math.imul(Se,ft))+Math.imul(Le,Be)|0,E=Math.imul(Le,ft),T=T+Math.imul(ke,Rt)|0,c=(c=c+Math.imul(ke,Vt)|0)+Math.imul(Ie,Rt)|0,E=E+Math.imul(Ie,Vt)|0,T=T+Math.imul(Te,Mn)|0,c=(c=c+Math.imul(Te,En)|0)+Math.imul(Ke,Mn)|0,E=E+Math.imul(Ke,En)|0;var Jt=($+(T=T+Math.imul(X,jn)|0)|0)+((8191&(c=(c=c+Math.imul(X,mn)|0)+Math.imul(ce,jn)|0))<<13)|0;$=((E=E+Math.imul(ce,mn)|0)+(c>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,T=Math.imul(be,Be),c=(c=Math.imul(be,ft))+Math.imul(oe,Be)|0,E=Math.imul(oe,ft),T=T+Math.imul(Se,Rt)|0,c=(c=c+Math.imul(Se,Vt)|0)+Math.imul(Le,Rt)|0,E=E+Math.imul(Le,Vt)|0,T=T+Math.imul(ke,Mn)|0,c=(c=c+Math.imul(ke,En)|0)+Math.imul(Ie,Mn)|0,E=E+Math.imul(Ie,En)|0,T=T+Math.imul(Te,jn)|0,c=(c=c+Math.imul(Te,mn)|0)+Math.imul(Ke,jn)|0,E=E+Math.imul(Ke,mn)|0;var dt=($+(T=T+Math.imul(X,kt)|0)|0)+((8191&(c=(c=c+Math.imul(X,St)|0)+Math.imul(ce,kt)|0))<<13)|0;$=((E=E+Math.imul(ce,St)|0)+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,T=Math.imul(we,Be),c=(c=Math.imul(we,ft))+Math.imul(De,Be)|0,E=Math.imul(De,ft),T=T+Math.imul(be,Rt)|0,c=(c=c+Math.imul(be,Vt)|0)+Math.imul(oe,Rt)|0,E=E+Math.imul(oe,Vt)|0,T=T+Math.imul(Se,Mn)|0,c=(c=c+Math.imul(Se,En)|0)+Math.imul(Le,Mn)|0,E=E+Math.imul(Le,En)|0,T=T+Math.imul(ke,jn)|0,c=(c=c+Math.imul(ke,mn)|0)+Math.imul(Ie,jn)|0,E=E+Math.imul(Ie,mn)|0,T=T+Math.imul(Te,kt)|0,c=(c=c+Math.imul(Te,St)|0)+Math.imul(Ke,kt)|0,E=E+Math.imul(Ke,St)|0;var Ne=($+(T=T+Math.imul(X,hn)|0)|0)+((8191&(c=(c=c+Math.imul(X,An)|0)+Math.imul(ce,hn)|0))<<13)|0;$=((E=E+Math.imul(ce,An)|0)+(c>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,T=Math.imul(Je,Be),c=(c=Math.imul(Je,ft))+Math.imul(Ze,Be)|0,E=Math.imul(Ze,ft),T=T+Math.imul(we,Rt)|0,c=(c=c+Math.imul(we,Vt)|0)+Math.imul(De,Rt)|0,E=E+Math.imul(De,Vt)|0,T=T+Math.imul(be,Mn)|0,c=(c=c+Math.imul(be,En)|0)+Math.imul(oe,Mn)|0,E=E+Math.imul(oe,En)|0,T=T+Math.imul(Se,jn)|0,c=(c=c+Math.imul(Se,mn)|0)+Math.imul(Le,jn)|0,E=E+Math.imul(Le,mn)|0,T=T+Math.imul(ke,kt)|0,c=(c=c+Math.imul(ke,St)|0)+Math.imul(Ie,kt)|0,E=E+Math.imul(Ie,St)|0,T=T+Math.imul(Te,hn)|0,c=(c=c+Math.imul(Te,An)|0)+Math.imul(Ke,hn)|0,E=E+Math.imul(Ke,An)|0;var We=($+(T=T+Math.imul(X,Tt)|0)|0)+((8191&(c=(c=c+Math.imul(X,Nt)|0)+Math.imul(ce,Tt)|0))<<13)|0;$=((E=E+Math.imul(ce,Nt)|0)+(c>>>13)|0)+(We>>>26)|0,We&=67108863,T=Math.imul(nt,Be),c=(c=Math.imul(nt,ft))+Math.imul(Ge,Be)|0,E=Math.imul(Ge,ft),T=T+Math.imul(Je,Rt)|0,c=(c=c+Math.imul(Je,Vt)|0)+Math.imul(Ze,Rt)|0,E=E+Math.imul(Ze,Vt)|0,T=T+Math.imul(we,Mn)|0,c=(c=c+Math.imul(we,En)|0)+Math.imul(De,Mn)|0,E=E+Math.imul(De,En)|0,T=T+Math.imul(be,jn)|0,c=(c=c+Math.imul(be,mn)|0)+Math.imul(oe,jn)|0,E=E+Math.imul(oe,mn)|0,T=T+Math.imul(Se,kt)|0,c=(c=c+Math.imul(Se,St)|0)+Math.imul(Le,kt)|0,E=E+Math.imul(Le,St)|0,T=T+Math.imul(ke,hn)|0,c=(c=c+Math.imul(ke,An)|0)+Math.imul(Ie,hn)|0,E=E+Math.imul(Ie,An)|0,T=T+Math.imul(Te,Tt)|0,c=(c=c+Math.imul(Te,Nt)|0)+Math.imul(Ke,Tt)|0,E=E+Math.imul(Ke,Nt)|0;var Bt=($+(T=T+Math.imul(X,st)|0)|0)+((8191&(c=(c=c+Math.imul(X,mt)|0)+Math.imul(ce,st)|0))<<13)|0;$=((E=E+Math.imul(ce,mt)|0)+(c>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,T=Math.imul(K,Be),c=(c=Math.imul(K,ft))+Math.imul(C,Be)|0,E=Math.imul(C,ft),T=T+Math.imul(nt,Rt)|0,c=(c=c+Math.imul(nt,Vt)|0)+Math.imul(Ge,Rt)|0,E=E+Math.imul(Ge,Vt)|0,T=T+Math.imul(Je,Mn)|0,c=(c=c+Math.imul(Je,En)|0)+Math.imul(Ze,Mn)|0,E=E+Math.imul(Ze,En)|0,T=T+Math.imul(we,jn)|0,c=(c=c+Math.imul(we,mn)|0)+Math.imul(De,jn)|0,E=E+Math.imul(De,mn)|0,T=T+Math.imul(be,kt)|0,c=(c=c+Math.imul(be,St)|0)+Math.imul(oe,kt)|0,E=E+Math.imul(oe,St)|0,T=T+Math.imul(Se,hn)|0,c=(c=c+Math.imul(Se,An)|0)+Math.imul(Le,hn)|0,E=E+Math.imul(Le,An)|0,T=T+Math.imul(ke,Tt)|0,c=(c=c+Math.imul(ke,Nt)|0)+Math.imul(Ie,Tt)|0,E=E+Math.imul(Ie,Nt)|0,T=T+Math.imul(Te,st)|0,c=(c=c+Math.imul(Te,mt)|0)+Math.imul(Ke,st)|0,E=E+Math.imul(Ke,mt)|0;var gn=($+(T=T+Math.imul(X,Zt)|0)|0)+((8191&(c=(c=c+Math.imul(X,xn)|0)+Math.imul(ce,Zt)|0))<<13)|0;$=((E=E+Math.imul(ce,xn)|0)+(c>>>13)|0)+(gn>>>26)|0,gn&=67108863,T=Math.imul(z,Be),c=(c=Math.imul(z,ft))+Math.imul(le,Be)|0,E=Math.imul(le,ft),T=T+Math.imul(K,Rt)|0,c=(c=c+Math.imul(K,Vt)|0)+Math.imul(C,Rt)|0,E=E+Math.imul(C,Vt)|0,T=T+Math.imul(nt,Mn)|0,c=(c=c+Math.imul(nt,En)|0)+Math.imul(Ge,Mn)|0,E=E+Math.imul(Ge,En)|0,T=T+Math.imul(Je,jn)|0,c=(c=c+Math.imul(Je,mn)|0)+Math.imul(Ze,jn)|0,E=E+Math.imul(Ze,mn)|0,T=T+Math.imul(we,kt)|0,c=(c=c+Math.imul(we,St)|0)+Math.imul(De,kt)|0,E=E+Math.imul(De,St)|0,T=T+Math.imul(be,hn)|0,c=(c=c+Math.imul(be,An)|0)+Math.imul(oe,hn)|0,E=E+Math.imul(oe,An)|0,T=T+Math.imul(Se,Tt)|0,c=(c=c+Math.imul(Se,Nt)|0)+Math.imul(Le,Tt)|0,E=E+Math.imul(Le,Nt)|0,T=T+Math.imul(ke,st)|0,c=(c=c+Math.imul(ke,mt)|0)+Math.imul(Ie,st)|0,E=E+Math.imul(Ie,mt)|0,T=T+Math.imul(Te,Zt)|0,c=(c=c+Math.imul(Te,xn)|0)+Math.imul(Ke,Zt)|0,E=E+Math.imul(Ke,xn)|0;var Kn=($+(T=T+Math.imul(X,kn)|0)|0)+((8191&(c=(c=c+Math.imul(X,zn)|0)+Math.imul(ce,kn)|0))<<13)|0;$=((E=E+Math.imul(ce,zn)|0)+(c>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,T=Math.imul(z,Rt),c=(c=Math.imul(z,Vt))+Math.imul(le,Rt)|0,E=Math.imul(le,Vt),T=T+Math.imul(K,Mn)|0,c=(c=c+Math.imul(K,En)|0)+Math.imul(C,Mn)|0,E=E+Math.imul(C,En)|0,T=T+Math.imul(nt,jn)|0,c=(c=c+Math.imul(nt,mn)|0)+Math.imul(Ge,jn)|0,E=E+Math.imul(Ge,mn)|0,T=T+Math.imul(Je,kt)|0,c=(c=c+Math.imul(Je,St)|0)+Math.imul(Ze,kt)|0,E=E+Math.imul(Ze,St)|0,T=T+Math.imul(we,hn)|0,c=(c=c+Math.imul(we,An)|0)+Math.imul(De,hn)|0,E=E+Math.imul(De,An)|0,T=T+Math.imul(be,Tt)|0,c=(c=c+Math.imul(be,Nt)|0)+Math.imul(oe,Tt)|0,E=E+Math.imul(oe,Nt)|0,T=T+Math.imul(Se,st)|0,c=(c=c+Math.imul(Se,mt)|0)+Math.imul(Le,st)|0,E=E+Math.imul(Le,mt)|0,T=T+Math.imul(ke,Zt)|0,c=(c=c+Math.imul(ke,xn)|0)+Math.imul(Ie,Zt)|0,E=E+Math.imul(Ie,xn)|0;var ir=($+(T=T+Math.imul(Te,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Te,zn)|0)+Math.imul(Ke,kn)|0))<<13)|0;$=((E=E+Math.imul(Ke,zn)|0)+(c>>>13)|0)+(ir>>>26)|0,ir&=67108863,T=Math.imul(z,Mn),c=(c=Math.imul(z,En))+Math.imul(le,Mn)|0,E=Math.imul(le,En),T=T+Math.imul(K,jn)|0,c=(c=c+Math.imul(K,mn)|0)+Math.imul(C,jn)|0,E=E+Math.imul(C,mn)|0,T=T+Math.imul(nt,kt)|0,c=(c=c+Math.imul(nt,St)|0)+Math.imul(Ge,kt)|0,E=E+Math.imul(Ge,St)|0,T=T+Math.imul(Je,hn)|0,c=(c=c+Math.imul(Je,An)|0)+Math.imul(Ze,hn)|0,E=E+Math.imul(Ze,An)|0,T=T+Math.imul(we,Tt)|0,c=(c=c+Math.imul(we,Nt)|0)+Math.imul(De,Tt)|0,E=E+Math.imul(De,Nt)|0,T=T+Math.imul(be,st)|0,c=(c=c+Math.imul(be,mt)|0)+Math.imul(oe,st)|0,E=E+Math.imul(oe,mt)|0,T=T+Math.imul(Se,Zt)|0,c=(c=c+Math.imul(Se,xn)|0)+Math.imul(Le,Zt)|0,E=E+Math.imul(Le,xn)|0;var hr=($+(T=T+Math.imul(ke,kn)|0)|0)+((8191&(c=(c=c+Math.imul(ke,zn)|0)+Math.imul(Ie,kn)|0))<<13)|0;$=((E=E+Math.imul(Ie,zn)|0)+(c>>>13)|0)+(hr>>>26)|0,hr&=67108863,T=Math.imul(z,jn),c=(c=Math.imul(z,mn))+Math.imul(le,jn)|0,E=Math.imul(le,mn),T=T+Math.imul(K,kt)|0,c=(c=c+Math.imul(K,St)|0)+Math.imul(C,kt)|0,E=E+Math.imul(C,St)|0,T=T+Math.imul(nt,hn)|0,c=(c=c+Math.imul(nt,An)|0)+Math.imul(Ge,hn)|0,E=E+Math.imul(Ge,An)|0,T=T+Math.imul(Je,Tt)|0,c=(c=c+Math.imul(Je,Nt)|0)+Math.imul(Ze,Tt)|0,E=E+Math.imul(Ze,Nt)|0,T=T+Math.imul(we,st)|0,c=(c=c+Math.imul(we,mt)|0)+Math.imul(De,st)|0,E=E+Math.imul(De,mt)|0,T=T+Math.imul(be,Zt)|0,c=(c=c+Math.imul(be,xn)|0)+Math.imul(oe,Zt)|0,E=E+Math.imul(oe,xn)|0;var Wr=($+(T=T+Math.imul(Se,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Se,zn)|0)+Math.imul(Le,kn)|0))<<13)|0;$=((E=E+Math.imul(Le,zn)|0)+(c>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,T=Math.imul(z,kt),c=(c=Math.imul(z,St))+Math.imul(le,kt)|0,E=Math.imul(le,St),T=T+Math.imul(K,hn)|0,c=(c=c+Math.imul(K,An)|0)+Math.imul(C,hn)|0,E=E+Math.imul(C,An)|0,T=T+Math.imul(nt,Tt)|0,c=(c=c+Math.imul(nt,Nt)|0)+Math.imul(Ge,Tt)|0,E=E+Math.imul(Ge,Nt)|0,T=T+Math.imul(Je,st)|0,c=(c=c+Math.imul(Je,mt)|0)+Math.imul(Ze,st)|0,E=E+Math.imul(Ze,mt)|0,T=T+Math.imul(we,Zt)|0,c=(c=c+Math.imul(we,xn)|0)+Math.imul(De,Zt)|0,E=E+Math.imul(De,xn)|0;var Vr=($+(T=T+Math.imul(be,kn)|0)|0)+((8191&(c=(c=c+Math.imul(be,zn)|0)+Math.imul(oe,kn)|0))<<13)|0;$=((E=E+Math.imul(oe,zn)|0)+(c>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,T=Math.imul(z,hn),c=(c=Math.imul(z,An))+Math.imul(le,hn)|0,E=Math.imul(le,An),T=T+Math.imul(K,Tt)|0,c=(c=c+Math.imul(K,Nt)|0)+Math.imul(C,Tt)|0,E=E+Math.imul(C,Nt)|0,T=T+Math.imul(nt,st)|0,c=(c=c+Math.imul(nt,mt)|0)+Math.imul(Ge,st)|0,E=E+Math.imul(Ge,mt)|0,T=T+Math.imul(Je,Zt)|0,c=(c=c+Math.imul(Je,xn)|0)+Math.imul(Ze,Zt)|0,E=E+Math.imul(Ze,xn)|0;var ti=($+(T=T+Math.imul(we,kn)|0)|0)+((8191&(c=(c=c+Math.imul(we,zn)|0)+Math.imul(De,kn)|0))<<13)|0;$=((E=E+Math.imul(De,zn)|0)+(c>>>13)|0)+(ti>>>26)|0,ti&=67108863,T=Math.imul(z,Tt),c=(c=Math.imul(z,Nt))+Math.imul(le,Tt)|0,E=Math.imul(le,Nt),T=T+Math.imul(K,st)|0,c=(c=c+Math.imul(K,mt)|0)+Math.imul(C,st)|0,E=E+Math.imul(C,mt)|0,T=T+Math.imul(nt,Zt)|0,c=(c=c+Math.imul(nt,xn)|0)+Math.imul(Ge,Zt)|0,E=E+Math.imul(Ge,xn)|0;var ni=($+(T=T+Math.imul(Je,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Je,zn)|0)+Math.imul(Ze,kn)|0))<<13)|0;$=((E=E+Math.imul(Ze,zn)|0)+(c>>>13)|0)+(ni>>>26)|0,ni&=67108863,T=Math.imul(z,st),c=(c=Math.imul(z,mt))+Math.imul(le,st)|0,E=Math.imul(le,mt),T=T+Math.imul(K,Zt)|0,c=(c=c+Math.imul(K,xn)|0)+Math.imul(C,Zt)|0,E=E+Math.imul(C,xn)|0;var Ei=($+(T=T+Math.imul(nt,kn)|0)|0)+((8191&(c=(c=c+Math.imul(nt,zn)|0)+Math.imul(Ge,kn)|0))<<13)|0;$=((E=E+Math.imul(Ge,zn)|0)+(c>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,T=Math.imul(z,Zt),c=(c=Math.imul(z,xn))+Math.imul(le,Zt)|0,E=Math.imul(le,xn);var yn=($+(T=T+Math.imul(K,kn)|0)|0)+((8191&(c=(c=c+Math.imul(K,zn)|0)+Math.imul(C,kn)|0))<<13)|0;$=((E=E+Math.imul(C,zn)|0)+(c>>>13)|0)+(yn>>>26)|0,yn&=67108863;var Pn=($+(T=Math.imul(z,kn))|0)+((8191&(c=(c=Math.imul(z,zn))+Math.imul(le,kn)|0))<<13)|0;return $=((E=Math.imul(le,zn))+(c>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,O[0]=qr,O[1]=pr,O[2]=qn,O[3]=Jt,O[4]=dt,O[5]=Ne,O[6]=We,O[7]=Bt,O[8]=gn,O[9]=Kn,O[10]=ir,O[11]=hr,O[12]=Wr,O[13]=Vr,O[14]=ti,O[15]=ni,O[16]=Ei,O[17]=yn,O[18]=Pn,0!==$&&(O[19]=$,w.length++),w};function re(B,l,f){return(new te).mulp(B,l,f)}function te(B,l){this.x=B,this.y=l}Math.imul||(de=Q),M.prototype.mulTo=function(l,f){var w,_=this.length+l.length;return w=10===this.length&&10===l.length?de(this,l,f):_<63?Q(this,l,f):_<1024?function ae(B,l,f){f.negative=l.negative^B.negative,f.length=B.length+l.length;for(var w=0,_=0,D=0;D<f.length-1;D++){var O=_;_=0;for(var $=67108863&w,T=Math.min(D,l.length-1),c=Math.max(0,D-B.length+1);c<=T;c++){var ce=(0|B.words[D-c])*(0|l.words[c]),me=67108863&ce;$=67108863&(me=me+$|0),_+=(O=(O=O+(ce/67108864|0)|0)+(me>>>26)|0)>>>26,O&=67108863}f.words[D]=$,w=O,O=_}return 0!==w?f.words[D]=w:f.length--,f.strip()}(this,l,f):re(this,l,f),w},te.prototype.makeRBT=function(l){for(var f=new Array(l),w=M.prototype._countBits(l)-1,_=0;_<l;_++)f[_]=this.revBin(_,w,l);return f},te.prototype.revBin=function(l,f,w){if(0===l||l===w-1)return l;for(var _=0,D=0;D<f;D++)_|=(1&l)<<f-D-1,l>>=1;return _},te.prototype.permute=function(l,f,w,_,D,O){for(var $=0;$<O;$++)_[$]=f[l[$]],D[$]=w[l[$]]},te.prototype.transform=function(l,f,w,_,D,O){this.permute(O,l,f,w,_,D);for(var $=1;$<D;$<<=1)for(var T=$<<1,c=Math.cos(2*Math.PI/T),E=Math.sin(2*Math.PI/T),q=0;q<D;q+=T)for(var X=c,ce=E,me=0;me<$;me++){var Te=w[q+me],Ke=_[q+me],Qe=w[q+me+$],ke=_[q+me+$],Ie=X*Qe-ce*ke;ke=X*ke+ce*Qe,w[q+me]=Te+(Qe=Ie),_[q+me]=Ke+ke,w[q+me+$]=Te-Qe,_[q+me+$]=Ke-ke,me!==T&&(Ie=c*X-E*ce,ce=c*ce+E*X,X=Ie)}},te.prototype.guessLen13b=function(l,f){var w=1|Math.max(f,l),_=1&w,D=0;for(w=w/2|0;w;w>>>=1)D++;return 1<<D+1+_},te.prototype.conjugate=function(l,f,w){if(!(w<=1))for(var _=0;_<w/2;_++){var D=l[_];l[_]=l[w-_-1],l[w-_-1]=D,D=f[_],f[_]=-f[w-_-1],f[w-_-1]=-D}},te.prototype.normalize13b=function(l,f){for(var w=0,_=0;_<f/2;_++){var D=8192*Math.round(l[2*_+1]/f)+Math.round(l[2*_]/f)+w;l[_]=67108863&D,w=D<67108864?0:D/67108864|0}return l},te.prototype.convert13b=function(l,f,w,_){for(var D=0,O=0;O<f;O++)w[2*O]=8191&(D+=0|l[O]),w[2*O+1]=8191&(D>>>=13),D>>>=13;for(O=2*f;O<_;++O)w[O]=0;N(0===D),N(!(-8192&D))},te.prototype.stub=function(l){for(var f=new Array(l),w=0;w<l;w++)f[w]=0;return f},te.prototype.mulp=function(l,f,w){var _=2*this.guessLen13b(l.length,f.length),D=this.makeRBT(_),O=this.stub(_),$=new Array(_),T=new Array(_),c=new Array(_),E=new Array(_),q=new Array(_),X=new Array(_),ce=w.words;ce.length=_,this.convert13b(l.words,l.length,$,_),this.convert13b(f.words,f.length,E,_),this.transform($,O,T,c,_,D),this.transform(E,O,q,X,_,D);for(var me=0;me<_;me++){var Te=T[me]*q[me]-c[me]*X[me];c[me]=T[me]*X[me]+c[me]*q[me],T[me]=Te}return this.conjugate(T,c,_),this.transform(T,c,ce,O,_,D),this.conjugate(ce,O,_),this.normalize13b(ce,_),w.negative=l.negative^f.negative,w.length=l.length+f.length,w.strip()},M.prototype.mul=function(l){var f=new M(null);return f.words=new Array(this.length+l.length),this.mulTo(l,f)},M.prototype.mulf=function(l){var f=new M(null);return f.words=new Array(this.length+l.length),re(this,l,f)},M.prototype.imul=function(l){return this.clone().mulTo(l,this)},M.prototype.imuln=function(l){N("number"==typeof l),N(l<67108864);for(var f=0,w=0;w<this.length;w++){var _=(0|this.words[w])*l,D=(67108863&_)+(67108863&f);f>>=26,f+=_/67108864|0,f+=D>>>26,this.words[w]=67108863&D}return 0!==f&&(this.words[w]=f,this.length++),this},M.prototype.muln=function(l){return this.clone().imuln(l)},M.prototype.sqr=function(){return this.mul(this)},M.prototype.isqr=function(){return this.imul(this.clone())},M.prototype.pow=function(l){var f=function W(B){for(var l=new Array(B.bitLength()),f=0;f<l.length;f++){var _=f%26;l[f]=(B.words[f/26|0]&1<<_)>>>_}return l}(l);if(0===f.length)return new M(1);for(var w=this,_=0;_<f.length&&0===f[_];_++,w=w.sqr());if(++_<f.length)for(var D=w.sqr();_<f.length;_++,D=D.sqr())0!==f[_]&&(w=w.mul(D));return w},M.prototype.iushln=function(l){N("number"==typeof l&&l>=0);var D,f=l%26,w=(l-f)/26,_=67108863>>>26-f<<26-f;if(0!==f){var O=0;for(D=0;D<this.length;D++){var $=this.words[D]&_;this.words[D]=(0|this.words[D])-$<<f|O,O=$>>>26-f}O&&(this.words[D]=O,this.length++)}if(0!==w){for(D=this.length-1;D>=0;D--)this.words[D+w]=this.words[D];for(D=0;D<w;D++)this.words[D]=0;this.length+=w}return this.strip()},M.prototype.ishln=function(l){return N(0===this.negative),this.iushln(l)},M.prototype.iushrn=function(l,f,w){var _;N("number"==typeof l&&l>=0),_=f?(f-f%26)/26:0;var D=l%26,O=Math.min((l-D)/26,this.length),$=67108863^67108863>>>D<<D,T=w;if(_-=O,_=Math.max(0,_),T){for(var c=0;c<O;c++)T.words[c]=this.words[c];T.length=O}if(0!==O)if(this.length>O)for(this.length-=O,c=0;c<this.length;c++)this.words[c]=this.words[c+O];else this.words[0]=0,this.length=1;var E=0;for(c=this.length-1;c>=0&&(0!==E||c>=_);c--){var q=0|this.words[c];this.words[c]=E<<26-D|q>>>D,E=q&$}return T&&0!==E&&(T.words[T.length++]=E),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},M.prototype.ishrn=function(l,f,w){return N(0===this.negative),this.iushrn(l,f,w)},M.prototype.shln=function(l){return this.clone().ishln(l)},M.prototype.ushln=function(l){return this.clone().iushln(l)},M.prototype.shrn=function(l){return this.clone().ishrn(l)},M.prototype.ushrn=function(l){return this.clone().iushrn(l)},M.prototype.testn=function(l){N("number"==typeof l&&l>=0);var f=l%26,w=(l-f)/26;return!(this.length<=w||!(this.words[w]&1<<f))},M.prototype.imaskn=function(l){N("number"==typeof l&&l>=0);var f=l%26,w=(l-f)/26;return N(0===this.negative,"imaskn works only with positive numbers"),this.length<=w?this:(0!==f&&w++,this.length=Math.min(w,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},M.prototype.maskn=function(l){return this.clone().imaskn(l)},M.prototype.iaddn=function(l){return N("number"==typeof l),N(l<67108864),l<0?this.isubn(-l):0!==this.negative?1===this.length&&(0|this.words[0])<l?(this.words[0]=l-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},M.prototype._iaddn=function(l){this.words[0]+=l;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},M.prototype.isubn=function(l){if(N("number"==typeof l),N(l<67108864),l<0)return this.iaddn(-l);if(0!==this.negative)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},M.prototype.addn=function(l){return this.clone().iaddn(l)},M.prototype.subn=function(l){return this.clone().isubn(l)},M.prototype.iabs=function(){return this.negative=0,this},M.prototype.abs=function(){return this.clone().iabs()},M.prototype._ishlnsubmul=function(l,f,w){var D;this._expand(l.length+w);var O,$=0;for(D=0;D<l.length;D++){O=(0|this.words[D+w])+$;var T=(0|l.words[D])*f;$=((O-=67108863&T)>>26)-(T/67108864|0),this.words[D+w]=67108863&O}for(;D<this.length-w;D++)$=(O=(0|this.words[D+w])+$)>>26,this.words[D+w]=67108863&O;if(0===$)return this.strip();for(N(-1===$),$=0,D=0;D<this.length;D++)$=(O=-(0|this.words[D])+$)>>26,this.words[D]=67108863&O;return this.negative=1,this.strip()},M.prototype._wordDiv=function(l,f){var w,_=this.clone(),D=l,O=0|D.words[D.length-1];0!=(w=26-this._countBits(O))&&(D=D.ushln(w),_.iushln(w),O=0|D.words[D.length-1]);var c,T=_.length-D.length;if("mod"!==f){(c=new M(null)).length=T+1,c.words=new Array(c.length);for(var E=0;E<c.length;E++)c.words[E]=0}var q=_.clone()._ishlnsubmul(D,1,T);0===q.negative&&(_=q,c&&(c.words[T]=1));for(var X=T-1;X>=0;X--){var ce=67108864*(0|_.words[D.length+X])+(0|_.words[D.length+X-1]);for(ce=Math.min(ce/O|0,67108863),_._ishlnsubmul(D,ce,X);0!==_.negative;)ce--,_.negative=0,_._ishlnsubmul(D,1,X),_.isZero()||(_.negative^=1);c&&(c.words[X]=ce)}return c&&c.strip(),_.strip(),"div"!==f&&0!==w&&_.iushrn(w),{div:c||null,mod:_}},M.prototype.divmod=function(l,f,w){return N(!l.isZero()),this.isZero()?{div:new M(0),mod:new M(0)}:0!==this.negative&&0===l.negative?(O=this.neg().divmod(l,f),"mod"!==f&&(_=O.div.neg()),"div"!==f&&(D=O.mod.neg(),w&&0!==D.negative&&D.iadd(l)),{div:_,mod:D}):0===this.negative&&0!==l.negative?(O=this.divmod(l.neg(),f),"mod"!==f&&(_=O.div.neg()),{div:_,mod:O.mod}):this.negative&l.negative?(O=this.neg().divmod(l.neg(),f),"div"!==f&&(D=O.mod.neg(),w&&0!==D.negative&&D.isub(l)),{div:O.div,mod:D}):l.length>this.length||this.cmp(l)<0?{div:new M(0),mod:this}:1===l.length?"div"===f?{div:this.divn(l.words[0]),mod:null}:"mod"===f?{div:null,mod:new M(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new M(this.modn(l.words[0]))}:this._wordDiv(l,f);var _,D,O},M.prototype.div=function(l){return this.divmod(l,"div",!1).div},M.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},M.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},M.prototype.divRound=function(l){var f=this.divmod(l);if(f.mod.isZero())return f.div;var w=0!==f.div.negative?f.mod.isub(l):f.mod,_=l.ushrn(1),D=l.andln(1),O=w.cmp(_);return O<0||1===D&&0===O?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},M.prototype.modn=function(l){N(l<=67108863);for(var f=(1<<26)%l,w=0,_=this.length-1;_>=0;_--)w=(f*w+(0|this.words[_]))%l;return w},M.prototype.idivn=function(l){N(l<=67108863);for(var f=0,w=this.length-1;w>=0;w--){var _=(0|this.words[w])+67108864*f;this.words[w]=_/l|0,f=_%l}return this.strip()},M.prototype.divn=function(l){return this.clone().idivn(l)},M.prototype.egcd=function(l){N(0===l.negative),N(!l.isZero());var f=this,w=l.clone();f=0!==f.negative?f.umod(l):f.clone();for(var _=new M(1),D=new M(0),O=new M(0),$=new M(1),T=0;f.isEven()&&w.isEven();)f.iushrn(1),w.iushrn(1),++T;for(var c=w.clone(),E=f.clone();!f.isZero();){for(var q=0,X=1;!(f.words[0]&X)&&q<26;++q,X<<=1);if(q>0)for(f.iushrn(q);q-- >0;)(_.isOdd()||D.isOdd())&&(_.iadd(c),D.isub(E)),_.iushrn(1),D.iushrn(1);for(var ce=0,me=1;!(w.words[0]&me)&&ce<26;++ce,me<<=1);if(ce>0)for(w.iushrn(ce);ce-- >0;)(O.isOdd()||$.isOdd())&&(O.iadd(c),$.isub(E)),O.iushrn(1),$.iushrn(1);f.cmp(w)>=0?(f.isub(w),_.isub(O),D.isub($)):(w.isub(f),O.isub(_),$.isub(D))}return{a:O,b:$,gcd:w.iushln(T)}},M.prototype._invmp=function(l){N(0===l.negative),N(!l.isZero());var q,f=this,w=l.clone();f=0!==f.negative?f.umod(l):f.clone();for(var _=new M(1),D=new M(0),O=w.clone();f.cmpn(1)>0&&w.cmpn(1)>0;){for(var $=0,T=1;!(f.words[0]&T)&&$<26;++$,T<<=1);if($>0)for(f.iushrn($);$-- >0;)_.isOdd()&&_.iadd(O),_.iushrn(1);for(var c=0,E=1;!(w.words[0]&E)&&c<26;++c,E<<=1);if(c>0)for(w.iushrn(c);c-- >0;)D.isOdd()&&D.iadd(O),D.iushrn(1);f.cmp(w)>=0?(f.isub(w),_.isub(D)):(w.isub(f),D.isub(_))}return(q=0===f.cmpn(1)?_:D).cmpn(0)<0&&q.iadd(l),q},M.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var f=this.clone(),w=l.clone();f.negative=0,w.negative=0;for(var _=0;f.isEven()&&w.isEven();_++)f.iushrn(1),w.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;w.isEven();)w.iushrn(1);var D=f.cmp(w);if(D<0){var O=f;f=w,w=O}else if(0===D||0===w.cmpn(1))break;f.isub(w)}return w.iushln(_)},M.prototype.invm=function(l){return this.egcd(l).a.umod(l)},M.prototype.isEven=function(){return!(1&this.words[0])},M.prototype.isOdd=function(){return!(1&~this.words[0])},M.prototype.andln=function(l){return this.words[0]&l},M.prototype.bincn=function(l){N("number"==typeof l);var f=l%26,w=(l-f)/26,_=1<<f;if(this.length<=w)return this._expand(w+1),this.words[w]|=_,this;for(var D=_,O=w;0!==D&&O<this.length;O++){var $=0|this.words[O];D=($+=D)>>>26,this.words[O]=$&=67108863}return 0!==D&&(this.words[O]=D,this.length++),this},M.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},M.prototype.cmpn=function(l){var w,f=l<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)w=1;else{f&&(l=-l),N(l<=67108863,"Number is too big");var _=0|this.words[0];w=_===l?0:_<l?-1:1}return 0!==this.negative?0|-w:w},M.prototype.cmp=function(l){if(0!==this.negative&&0===l.negative)return-1;if(0===this.negative&&0!==l.negative)return 1;var f=this.ucmp(l);return 0!==this.negative?0|-f:f},M.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var f=0,w=this.length-1;w>=0;w--){var _=0|this.words[w],D=0|l.words[w];if(_!==D){_<D?f=-1:_>D&&(f=1);break}}return f},M.prototype.gtn=function(l){return 1===this.cmpn(l)},M.prototype.gt=function(l){return 1===this.cmp(l)},M.prototype.gten=function(l){return this.cmpn(l)>=0},M.prototype.gte=function(l){return this.cmp(l)>=0},M.prototype.ltn=function(l){return-1===this.cmpn(l)},M.prototype.lt=function(l){return-1===this.cmp(l)},M.prototype.lten=function(l){return this.cmpn(l)<=0},M.prototype.lte=function(l){return this.cmp(l)<=0},M.prototype.eqn=function(l){return 0===this.cmpn(l)},M.prototype.eq=function(l){return 0===this.cmp(l)},M.red=function(l){return new Oe(l)},M.prototype.toRed=function(l){return N(!this.red,"Already a number in reduction context"),N(0===this.negative,"red works only with positives"),l.convertTo(this)._forceRed(l)},M.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},M.prototype._forceRed=function(l){return this.red=l,this},M.prototype.forceRed=function(l){return N(!this.red,"Already a number in reduction context"),this._forceRed(l)},M.prototype.redAdd=function(l){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},M.prototype.redIAdd=function(l){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},M.prototype.redSub=function(l){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},M.prototype.redISub=function(l){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},M.prototype.redShl=function(l){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},M.prototype.redMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},M.prototype.redIMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},M.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},M.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},M.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},M.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},M.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},M.prototype.redPow=function(l){return N(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var ue={k256:null,p224:null,p192:null,p25519:null};function pe(B,l){this.name=B,this.p=new M(l,16),this.n=this.p.bitLength(),this.k=new M(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function he(){pe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ve(){pe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ge(){pe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Me(){pe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Oe(B){if("string"==typeof B){var l=M._prime(B);this.m=l.p,this.prime=l}else N(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}function je(B){Oe.call(this,B),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new M(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}pe.prototype._tmp=function(){var l=new M(null);return l.words=new Array(Math.ceil(this.n/13)),l},pe.prototype.ireduce=function(l){var w,f=l;do{this.split(f,this.tmp),w=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(w>this.n);var _=w<this.n?-1:f.ucmp(this.p);return 0===_?(f.words[0]=0,f.length=1):_>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},pe.prototype.split=function(l,f){l.iushrn(this.n,0,f)},pe.prototype.imulK=function(l){return l.imul(this.k)},Y(he,pe),he.prototype.split=function(l,f){for(var w=4194303,_=Math.min(l.length,9),D=0;D<_;D++)f.words[D]=l.words[D];if(f.length=_,l.length<=9)return l.words[0]=0,void(l.length=1);var O=l.words[9];for(f.words[f.length++]=O&w,D=10;D<l.length;D++){var $=0|l.words[D];l.words[D-10]=($&w)<<4|O>>>22,O=$}l.words[D-10]=O>>>=22,l.length-=0===O&&l.length>10?10:9},he.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var f=0,w=0;w<l.length;w++){var _=0|l.words[w];l.words[w]=67108863&(f+=977*_),f=64*_+(f/67108864|0)}return 0===l.words[l.length-1]&&(l.length--,0===l.words[l.length-1]&&l.length--),l},Y(ve,pe),Y(ge,pe),Y(Me,pe),Me.prototype.imulK=function(l){for(var f=0,w=0;w<l.length;w++){var _=19*(0|l.words[w])+f,D=67108863&_;_>>>=26,l.words[w]=D,f=_}return 0!==f&&(l.words[l.length++]=f),l},M._prime=function(l){if(ue[l])return ue[l];var f;if("k256"===l)f=new he;else if("p224"===l)f=new ve;else if("p192"===l)f=new ge;else{if("p25519"!==l)throw new Error("Unknown prime "+l);f=new Me}return ue[l]=f,f},Oe.prototype._verify1=function(l){N(0===l.negative,"red works only with positives"),N(l.red,"red works only with red numbers")},Oe.prototype._verify2=function(l,f){N(!(l.negative|f.negative),"red works only with positives"),N(l.red&&l.red===f.red,"red works only with red numbers")},Oe.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},Oe.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},Oe.prototype.add=function(l,f){this._verify2(l,f);var w=l.add(f);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},Oe.prototype.iadd=function(l,f){this._verify2(l,f);var w=l.iadd(f);return w.cmp(this.m)>=0&&w.isub(this.m),w},Oe.prototype.sub=function(l,f){this._verify2(l,f);var w=l.sub(f);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},Oe.prototype.isub=function(l,f){this._verify2(l,f);var w=l.isub(f);return w.cmpn(0)<0&&w.iadd(this.m),w},Oe.prototype.shl=function(l,f){return this._verify1(l),this.imod(l.ushln(f))},Oe.prototype.imul=function(l,f){return this._verify2(l,f),this.imod(l.imul(f))},Oe.prototype.mul=function(l,f){return this._verify2(l,f),this.imod(l.mul(f))},Oe.prototype.isqr=function(l){return this.imul(l,l.clone())},Oe.prototype.sqr=function(l){return this.mul(l,l)},Oe.prototype.sqrt=function(l){if(l.isZero())return l.clone();var f=this.m.andln(3);if(N(f%2==1),3===f){var w=this.m.add(new M(1)).iushrn(2);return this.pow(l,w)}for(var _=this.m.subn(1),D=0;!_.isZero()&&0===_.andln(1);)D++,_.iushrn(1);N(!_.isZero());var O=new M(1).toRed(this),$=O.redNeg(),T=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new M(2*c*c).toRed(this);0!==this.pow(c,T).cmp($);)c.redIAdd($);for(var E=this.pow(c,_),q=this.pow(l,_.addn(1).iushrn(1)),X=this.pow(l,_),ce=D;0!==X.cmp(O);){for(var me=X,Te=0;0!==me.cmp(O);Te++)me=me.redSqr();N(Te<ce);var Ke=this.pow(E,new M(1).iushln(ce-Te-1));q=q.redMul(Ke),E=Ke.redSqr(),X=X.redMul(E),ce=Te}return q},Oe.prototype.invm=function(l){var f=l._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},Oe.prototype.pow=function(l,f){if(f.isZero())return new M(1).toRed(this);if(0===f.cmpn(1))return l.clone();var _=new Array(16);_[0]=new M(1).toRed(this),_[1]=l;for(var D=2;D<_.length;D++)_[D]=this.mul(_[D-1],l);var O=_[0],$=0,T=0,c=f.bitLength()%26;for(0===c&&(c=26),D=f.length-1;D>=0;D--){for(var E=f.words[D],q=c-1;q>=0;q--){var X=E>>q&1;O!==_[0]&&(O=this.sqr(O)),0!==X||0!==$?($<<=1,$|=X,(4==++T||0===D&&0===q)&&(O=this.mul(O,_[$]),T=0,$=0)):T=0}c=26}return O},Oe.prototype.convertTo=function(l){var f=l.umod(this.m);return f===l?f.clone():f},Oe.prototype.convertFrom=function(l){var f=l.clone();return f.red=null,f},M.mont=function(l){return new je(l)},Y(je,Oe),je.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},je.prototype.convertFrom=function(l){var f=this.imod(l.mul(this.rinv));return f.red=null,f},je.prototype.imul=function(l,f){if(l.isZero()||f.isZero())return l.words[0]=0,l.length=1,l;var w=l.imul(f),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=w.isub(_).iushrn(this.shift),O=D;return D.cmp(this.m)>=0?O=D.isub(this.m):D.cmpn(0)<0&&(O=D.iadd(this.m)),O._forceRed(this)},je.prototype.mul=function(l,f){if(l.isZero()||f.isZero())return new M(0)._forceRed(this);var w=l.mul(f),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=w.isub(_).iushrn(this.shift),O=D;return D.cmp(this.m)>=0?O=D.isub(this.m):D.cmpn(0)<0&&(O=D.iadd(this.m)),O._forceRed(this)},je.prototype.invm=function(l){return this.imod(l._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ye=A.nmd(Ye),this)},39210:Ye=>{function J(A,h){if(!A)throw new Error(h||"Assertion failed")}Ye.exports=J,J.equal=function(h,x,N){if(h!=x)throw new Error(N||"Assertion failed: "+h+" != "+x)}},21832:(Ye,J)=>{"use strict";var A=J;function x(Y){return 1===Y.length?"0"+Y:Y}function N(Y){for(var M="",j=0;j<Y.length;j++)M+=x(Y[j].toString(16));return M}A.toArray=function h(Y,M){if(Array.isArray(Y))return Y.slice();if(!Y)return[];var j=[];if("string"!=typeof Y){for(var R=0;R<Y.length;R++)j[R]=0|Y[R];return j}if("hex"===M)for((Y=Y.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(Y="0"+Y),R=0;R<Y.length;R+=2)j.push(parseInt(Y[R]+Y[R+1],16));else for(R=0;R<Y.length;R++){var U=Y.charCodeAt(R),H=U>>8,V=255&U;H?j.push(H,V):j.push(V)}return j},A.zero2=x,A.toHex=N,A.encode=function(M,j){return"hex"===j?N(M):M}},61747:Ye=>{"use strict";Ye.exports=class extends Error{constructor(A,h){super(A||""),"object"==typeof h&&null!==h&&(h.code&&(this.code=String(h.code)),h.expected&&(this.expected=!0),h.transient&&(this.transient=!0),h.cause&&(this.cause=h.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},13026:(Ye,J,A)=>{Ye.exports=A(3116)},3116:function(Ye,J){!function(A,h){"use strict";var x={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function N(W){if(!Array.isArray(W)&&!ArrayBuffer.isView(W))return!1;for(var Q=0;Q<W.length;Q++)if(!Number.isInteger(W[Q])||W[Q]<0||W[Q]>255)return!1;return!0}function Y(W,Q){return(65535&W)*Q+(((W>>>16)*Q&65535)<<16)}function M(W,Q){return W<<Q|W>>>32-Q}function j(W){return W=Y(W^=W>>>16,2246822507),(W=Y(W^=W>>>13,3266489909))^W>>>16}function R(W,Q){var de=[0,0,0,0];return de[3]+=(W=[W[0]>>>16,65535&W[0],W[1]>>>16,65535&W[1]])[3]+(Q=[Q[0]>>>16,65535&Q[0],Q[1]>>>16,65535&Q[1]])[3],de[2]+=de[3]>>>16,de[3]&=65535,de[2]+=W[2]+Q[2],de[1]+=de[2]>>>16,de[2]&=65535,de[1]+=W[1]+Q[1],de[0]+=de[1]>>>16,de[1]&=65535,de[0]+=W[0]+Q[0],de[0]&=65535,[de[0]<<16|de[1],de[2]<<16|de[3]]}function U(W,Q){var de=[0,0,0,0];return de[3]+=(W=[W[0]>>>16,65535&W[0],W[1]>>>16,65535&W[1]])[3]*(Q=[Q[0]>>>16,65535&Q[0],Q[1]>>>16,65535&Q[1]])[3],de[2]+=de[3]>>>16,de[3]&=65535,de[2]+=W[2]*Q[3],de[1]+=de[2]>>>16,de[2]&=65535,de[2]+=W[3]*Q[2],de[1]+=de[2]>>>16,de[2]&=65535,de[1]+=W[1]*Q[3],de[0]+=de[1]>>>16,de[1]&=65535,de[1]+=W[2]*Q[2],de[0]+=de[1]>>>16,de[1]&=65535,de[1]+=W[3]*Q[1],de[0]+=de[1]>>>16,de[1]&=65535,de[0]+=W[0]*Q[3]+W[1]*Q[2]+W[2]*Q[1]+W[3]*Q[0],de[0]&=65535,[de[0]<<16|de[1],de[2]<<16|de[3]]}function H(W,Q){return 32==(Q%=64)?[W[1],W[0]]:Q<32?[W[0]<<Q|W[1]>>>32-Q,W[1]<<Q|W[0]>>>32-Q]:[W[1]<<(Q-=32)|W[0]>>>32-Q,W[0]<<Q|W[1]>>>32-Q]}function V(W,Q){return 0==(Q%=64)?W:Q<32?[W[0]<<Q|W[1]>>>32-Q,W[1]<<Q]:[W[1]<<Q-32,0]}function P(W,Q){return[W[0]^Q[0],W[1]^Q[1]]}function ee(W){return W=P(W,[0,W[0]>>>1]),W=P(W=U(W,[4283543511,3981806797]),[0,W[0]>>>1]),P(W=U(W,[3301882366,444984403]),[0,W[0]>>>1])}x.x86.hash32=function(W,Q){if(x.inputValidation&&!N(W))return h;for(var de=W.length%4,ae=W.length-de,re=Q=Q||0,te=0,ue=3432918353,pe=461845907,he=0;he<ae;he+=4)te=Y(te=W[he]|W[he+1]<<8|W[he+2]<<16|W[he+3]<<24,ue),te=Y(te=M(te,15),pe),re=Y(re=M(re^=te,13),5)+3864292196;switch(te=0,de){case 3:te^=W[he+2]<<16;case 2:te^=W[he+1]<<8;case 1:te=Y(te^=W[he],ue),re^=te=Y(te=M(te,15),pe)}return(re=j(re^=W.length))>>>0},x.x86.hash128=function(W,Q){if(x.inputValidation&&!N(W))return h;for(var de=W.length%16,ae=W.length-de,re=Q=Q||0,te=Q,ue=Q,pe=Q,he=0,ve=0,ge=0,Me=0,Oe=597399067,je=2869860233,B=951274213,l=2716044179,f=0;f<ae;f+=16)ve=W[f+4]|W[f+5]<<8|W[f+6]<<16|W[f+7]<<24,ge=W[f+8]|W[f+9]<<8|W[f+10]<<16|W[f+11]<<24,Me=W[f+12]|W[f+13]<<8|W[f+14]<<16|W[f+15]<<24,he=M(he=Y(he=W[f]|W[f+1]<<8|W[f+2]<<16|W[f+3]<<24,Oe),15),re=M(re^=he=Y(he,je),19),re=Y(re+=te,5)+1444728091,ve=M(ve=Y(ve,je),16),te=M(te^=ve=Y(ve,B),17),te=Y(te+=ue,5)+197830471,ge=M(ge=Y(ge,B),17),ue=M(ue^=ge=Y(ge,l),15),ue=Y(ue+=pe,5)+2530024501,Me=M(Me=Y(Me,l),18),pe=M(pe^=Me=Y(Me,Oe),13),pe=Y(pe+=re,5)+850148119;switch(he=0,ve=0,ge=0,Me=0,de){case 15:Me^=W[f+14]<<16;case 14:Me^=W[f+13]<<8;case 13:Me=Y(Me^=W[f+12],l),pe^=Me=Y(Me=M(Me,18),Oe);case 12:ge^=W[f+11]<<24;case 11:ge^=W[f+10]<<16;case 10:ge^=W[f+9]<<8;case 9:ge=Y(ge^=W[f+8],B),ue^=ge=Y(ge=M(ge,17),l);case 8:ve^=W[f+7]<<24;case 7:ve^=W[f+6]<<16;case 6:ve^=W[f+5]<<8;case 5:ve=Y(ve^=W[f+4],je),te^=ve=Y(ve=M(ve,16),B);case 4:he^=W[f+3]<<24;case 3:he^=W[f+2]<<16;case 2:he^=W[f+1]<<8;case 1:he=Y(he^=W[f],Oe),re^=he=Y(he=M(he,15),je)}return re^=W.length,re+=te^=W.length,re+=ue^=W.length,te+=re+=pe^=W.length,ue+=re,pe+=re,re=j(re),re+=te=j(te),re+=ue=j(ue),te+=re+=pe=j(pe),ue+=re,pe+=re,("00000000"+(re>>>0).toString(16)).slice(-8)+("00000000"+(te>>>0).toString(16)).slice(-8)+("00000000"+(ue>>>0).toString(16)).slice(-8)+("00000000"+(pe>>>0).toString(16)).slice(-8)},x.x64.hash128=function(W,Q){if(x.inputValidation&&!N(W))return h;for(var de=W.length%16,ae=W.length-de,re=[0,Q=Q||0],te=[0,Q],ue=[0,0],pe=[0,0],he=[2277735313,289559509],ve=[1291169091,658871167],ge=0;ge<ae;ge+=16)pe=[W[ge+12]|W[ge+13]<<8|W[ge+14]<<16|W[ge+15]<<24,W[ge+8]|W[ge+9]<<8|W[ge+10]<<16|W[ge+11]<<24],ue=H(ue=U(ue=[W[ge+4]|W[ge+5]<<8|W[ge+6]<<16|W[ge+7]<<24,W[ge]|W[ge+1]<<8|W[ge+2]<<16|W[ge+3]<<24],he),31),re=R(re=H(re=P(re,ue=U(ue,ve)),27),te),re=R(U(re,[0,5]),[0,1390208809]),pe=H(pe=U(pe,ve),33),te=R(te=H(te=P(te,pe=U(pe,he)),31),re),te=R(U(te,[0,5]),[0,944331445]);switch(ue=[0,0],pe=[0,0],de){case 15:pe=P(pe,V([0,W[ge+14]],48));case 14:pe=P(pe,V([0,W[ge+13]],40));case 13:pe=P(pe,V([0,W[ge+12]],32));case 12:pe=P(pe,V([0,W[ge+11]],24));case 11:pe=P(pe,V([0,W[ge+10]],16));case 10:pe=P(pe,V([0,W[ge+9]],8));case 9:pe=U(pe=P(pe,[0,W[ge+8]]),ve),te=P(te,pe=U(pe=H(pe,33),he));case 8:ue=P(ue,V([0,W[ge+7]],56));case 7:ue=P(ue,V([0,W[ge+6]],48));case 6:ue=P(ue,V([0,W[ge+5]],40));case 5:ue=P(ue,V([0,W[ge+4]],32));case 4:ue=P(ue,V([0,W[ge+3]],24));case 3:ue=P(ue,V([0,W[ge+2]],16));case 2:ue=P(ue,V([0,W[ge+1]],8));case 1:ue=U(ue=P(ue,[0,W[ge]]),he),re=P(re,ue=U(ue=H(ue,31),ve))}return re=R(re=P(re,[0,W.length]),te=P(te,[0,W.length])),te=R(te,re),re=R(re=ee(re),te=ee(te)),te=R(te,re),("00000000"+(re[0]>>>0).toString(16)).slice(-8)+("00000000"+(re[1]>>>0).toString(16)).slice(-8)+("00000000"+(te[0]>>>0).toString(16)).slice(-8)+("00000000"+(te[1]>>>0).toString(16)).slice(-8)},Ye.exports&&(J=Ye.exports=x),J.murmurHash3=x}()},50233:Ye=>{"use strict";var J=Object.prototype.hasOwnProperty,A="~";function h(){}function x(j,R,U){this.fn=j,this.context=R,this.once=U||!1}function N(j,R,U,H,V){if("function"!=typeof U)throw new TypeError("The listener must be a function");var P=new x(U,H||j,V),ee=A?A+R:R;return j._events[ee]?j._events[ee].fn?j._events[ee]=[j._events[ee],P]:j._events[ee].push(P):(j._events[ee]=P,j._eventsCount++),j}function Y(j,R){0==--j._eventsCount?j._events=new h:delete j._events[R]}function M(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),(new h).__proto__||(A=!1)),M.prototype.eventNames=function(){var U,H,R=[];if(0===this._eventsCount)return R;for(H in U=this._events)J.call(U,H)&&R.push(A?H.slice(1):H);return Object.getOwnPropertySymbols?R.concat(Object.getOwnPropertySymbols(U)):R},M.prototype.listeners=function(R){var H=this._events[A?A+R:R];if(!H)return[];if(H.fn)return[H.fn];for(var V=0,P=H.length,ee=new Array(P);V<P;V++)ee[V]=H[V].fn;return ee},M.prototype.listenerCount=function(R){var H=this._events[A?A+R:R];return H?H.fn?1:H.length:0},M.prototype.emit=function(R,U,H,V,P,ee){var W=A?A+R:R;if(!this._events[W])return!1;var ae,re,Q=this._events[W],de=arguments.length;if(Q.fn){switch(Q.once&&this.removeListener(R,Q.fn,void 0,!0),de){case 1:return Q.fn.call(Q.context),!0;case 2:return Q.fn.call(Q.context,U),!0;case 3:return Q.fn.call(Q.context,U,H),!0;case 4:return Q.fn.call(Q.context,U,H,V),!0;case 5:return Q.fn.call(Q.context,U,H,V,P),!0;case 6:return Q.fn.call(Q.context,U,H,V,P,ee),!0}for(re=1,ae=new Array(de-1);re<de;re++)ae[re-1]=arguments[re];Q.fn.apply(Q.context,ae)}else{var ue,te=Q.length;for(re=0;re<te;re++)switch(Q[re].once&&this.removeListener(R,Q[re].fn,void 0,!0),de){case 1:Q[re].fn.call(Q[re].context);break;case 2:Q[re].fn.call(Q[re].context,U);break;case 3:Q[re].fn.call(Q[re].context,U,H);break;case 4:Q[re].fn.call(Q[re].context,U,H,V);break;default:if(!ae)for(ue=1,ae=new Array(de-1);ue<de;ue++)ae[ue-1]=arguments[ue];Q[re].fn.apply(Q[re].context,ae)}}return!0},M.prototype.on=function(R,U,H){return N(this,R,U,H,!1)},M.prototype.once=function(R,U,H){return N(this,R,U,H,!0)},M.prototype.removeListener=function(R,U,H,V){var P=A?A+R:R;if(!this._events[P])return this;if(!U)return Y(this,P),this;var ee=this._events[P];if(ee.fn)ee.fn===U&&(!V||ee.once)&&(!H||ee.context===H)&&Y(this,P);else{for(var W=0,Q=[],de=ee.length;W<de;W++)(ee[W].fn!==U||V&&!ee[W].once||H&&ee[W].context!==H)&&Q.push(ee[W]);Q.length?this._events[P]=1===Q.length?Q[0]:Q:Y(this,P)}return this},M.prototype.removeAllListeners=function(R){var U;return R?this._events[U=A?A+R:R]&&Y(this,U):(this._events=new h,this._eventsCount=0),this},M.prototype.off=M.prototype.removeListener,M.prototype.addListener=M.prototype.on,M.prefixed=A,M.EventEmitter=M,Ye.exports=M},83138:(Ye,J,A)=>{"use strict";var h=A(49609);J.certificate=A(94772);var x=h.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});J.RSAPrivateKey=x;var N=h.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});J.RSAPublicKey=N;var Y=h.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),M=h.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Y),this.key("subjectPublicKey").bitstr())});J.PublicKey=M;var j=h.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(Y),this.key("subjectPrivateKey").octstr())});J.PrivateKey=j;var R=h.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});J.EncryptedPrivateKey=R;var U=h.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});J.DSAPrivateKey=U,J.DSAparam=h.define("DSAparam",function(){this.int()});var H=h.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),V=h.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(H),this.key("publicKey").optional().explicit(1).bitstr())});J.ECPrivateKey=V,J.signature=h.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},94772:(Ye,J,A)=>{"use strict";var h=A(49609),x=h.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),N=h.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),Y=h.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),M=h.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(Y),this.key("subjectPublicKey").bitstr())}),j=h.define("RelativeDistinguishedName",function(){this.setof(N)}),R=h.define("RDNSequence",function(){this.seqof(j)}),U=h.define("Name",function(){this.choice({rdnSequence:this.use(R)})}),H=h.define("Validity",function(){this.seq().obj(this.key("notBefore").use(x),this.key("notAfter").use(x))}),V=h.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),P=h.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(Y),this.key("issuer").use(U),this.key("validity").use(H),this.key("subject").use(U),this.key("subjectPublicKeyInfo").use(M),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(V).optional())}),ee=h.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(P),this.key("signatureAlgorithm").use(Y),this.key("signatureValue").bitstr())});Ye.exports=ee},89472:(Ye,J,A)=>{"use strict";var h=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,x=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,N=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,Y=A(18211),M=A(43388),j=A(27054).Buffer;Ye.exports=function(R,U){var P,H=R.toString(),V=H.match(h);if(V){var W="aes"+V[1],Q=j.from(V[2],"hex"),de=j.from(V[3].replace(/[\r\n]/g,""),"base64"),ae=Y(U,Q.slice(0,8),parseInt(V[1],10)).key,re=[],te=M.createDecipheriv(W,ae,Q);re.push(te.update(de)),re.push(te.final()),P=j.concat(re)}else{var ee=H.match(N);P=j.from(ee[2].replace(/[\r\n]/g,""),"base64")}return{tag:H.match(x)[1],data:P}}},65667:(Ye,J,A)=>{"use strict";var h=A(83138),x=A(15579),N=A(89472),Y=A(43388),M=A(93397),j=A(27054).Buffer;function U(H){var V;"object"==typeof H&&!j.isBuffer(H)&&(V=H.passphrase,H=H.key),"string"==typeof H&&(H=j.from(H));var Q,de,P=N(H,V),ee=P.tag,W=P.data;switch(ee){case"CERTIFICATE":de=h.certificate.decode(W,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(de||(de=h.PublicKey.decode(W,"der")),Q=de.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return h.RSAPublicKey.decode(de.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return de.subjectPrivateKey=de.subjectPublicKey,{type:"ec",data:de};case"1.2.840.10040.4.1":return de.algorithm.params.pub_key=h.DSAparam.decode(de.subjectPublicKey.data,"der"),{type:"dsa",data:de.algorithm.params};default:throw new Error("unknown key id "+Q)}case"ENCRYPTED PRIVATE KEY":W=function R(H,V){var P=H.algorithm.decrypt.kde.kdeparams.salt,ee=parseInt(H.algorithm.decrypt.kde.kdeparams.iters.toString(),10),W=x[H.algorithm.decrypt.cipher.algo.join(".")],Q=H.algorithm.decrypt.cipher.iv,de=H.subjectPrivateKey,ae=parseInt(W.split("-")[1],10)/8,re=M.pbkdf2Sync(V,P,ee,ae,"sha1"),te=Y.createDecipheriv(W,re,Q),ue=[];return ue.push(te.update(de)),ue.push(te.final()),j.concat(ue)}(W=h.EncryptedPrivateKey.decode(W,"der"),V);case"PRIVATE KEY":switch(Q=(de=h.PrivateKey.decode(W,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return h.RSAPrivateKey.decode(de.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:de.algorithm.curve,privateKey:h.ECPrivateKey.decode(de.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return de.algorithm.params.priv_key=h.DSAparam.decode(de.subjectPrivateKey,"der"),{type:"dsa",params:de.algorithm.params};default:throw new Error("unknown key id "+Q)}case"RSA PUBLIC KEY":return h.RSAPublicKey.decode(W,"der");case"RSA PRIVATE KEY":return h.RSAPrivateKey.decode(W,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:h.DSAPrivateKey.decode(W,"der")};case"EC PRIVATE KEY":return{curve:(W=h.ECPrivateKey.decode(W,"der")).parameters.value,privateKey:W.privateKey};default:throw new Error("unknown key type "+ee)}}U.signature=h.signature,Ye.exports=U},93397:(Ye,J,A)=>{J.pbkdf2=A(82685),J.pbkdf2Sync=A(59111)},82685:(Ye,J,A)=>{var j,P,h=A(27054).Buffer,x=A(86111),N=A(45392),Y=A(59111),M=A(76643),R=globalThis.crypto&&globalThis.crypto.subtle,U={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},H=[];function ee(){return P||(P=globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.queueMicrotask?globalThis.queueMicrotask:globalThis.setImmediate?globalThis.setImmediate:globalThis.setTimeout)}function W(de,ae,re,te,ue){return R.importKey("raw",de,{name:"PBKDF2"},!1,["deriveBits"]).then(function(pe){return R.deriveBits({name:"PBKDF2",salt:ae,iterations:re,hash:{name:ue}},pe,te<<3)}).then(function(pe){return h.from(pe)})}Ye.exports=function(de,ae,re,te,ue,pe){"function"==typeof ue&&(pe=ue,ue=void 0);var he=U[(ue=ue||"sha1").toLowerCase()];if(he&&"function"==typeof globalThis.Promise){if(x(re,te),de=M(de,N,"Password"),ae=M(ae,N,"Salt"),"function"!=typeof pe)throw new Error("No callback provided to pbkdf2");!function Q(de,ae){de.then(function(re){ee()(function(){ae(null,re)})},function(re){ee()(function(){ae(re)})})}(function V(de){if(globalThis.process&&!globalThis.process.browser||!R||!R.importKey||!R.deriveBits)return Promise.resolve(!1);if(void 0!==H[de])return H[de];var ae=W(j=j||h.alloc(8),j,10,128,de).then(function(){return!0}).catch(function(){return!1});return H[de]=ae,ae}(he).then(function(ve){return ve?W(de,ae,re,te,he):Y(de,ae,re,te,ue)}),pe)}else ee()(function(){var ve;try{ve=Y(de,ae,re,te,ue)}catch(ge){return pe(ge)}pe(null,ve)})}},45392:(Ye,J,A)=>{var x,h=A(40573);x=globalThis.process&&globalThis.process.browser?"utf-8":globalThis.process&&globalThis.process.version?parseInt(h.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",Ye.exports=x},86111:Ye=>{var J=Math.pow(2,30)-1;Ye.exports=function(A,h){if("number"!=typeof A)throw new TypeError("Iterations not a number");if(A<0)throw new TypeError("Bad iterations");if("number"!=typeof h)throw new TypeError("Key length not a number");if(h<0||h>J||h!=h)throw new TypeError("Bad key length")}},59111:(Ye,J,A)=>{var h=A(83407),x=A(36636),N=A(25443),Y=A(27054).Buffer,M=A(86111),j=A(45392),R=A(76643),U=Y.alloc(128),H={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function V(W,Q,de){var ae=function P(W){return"rmd160"===W||"ripemd160"===W?function de(ae){return(new x).update(ae).digest()}:"md5"===W?h:function Q(ae){return N(W).update(ae).digest()}}(W),re="sha512"===W||"sha384"===W?128:64;Q.length>re?Q=ae(Q):Q.length<re&&(Q=Y.concat([Q,U],re));for(var te=Y.allocUnsafe(re+H[W]),ue=Y.allocUnsafe(re+H[W]),pe=0;pe<re;pe++)te[pe]=54^Q[pe],ue[pe]=92^Q[pe];var he=Y.allocUnsafe(re+de+4);te.copy(he,0,0,re),this.ipad1=he,this.ipad2=te,this.opad=ue,this.alg=W,this.blocksize=re,this.hash=ae,this.size=H[W]}V.prototype.run=function(W,Q){return W.copy(Q,this.blocksize),this.hash(Q).copy(this.opad,this.blocksize),this.hash(this.opad)},Ye.exports=function ee(W,Q,de,ae,re){M(de,ae);var te=new V(re=re||"sha1",W=R(W,j,"Password"),(Q=R(Q,j,"Salt")).length),ue=Y.allocUnsafe(ae),pe=Y.allocUnsafe(Q.length+4);Q.copy(pe,0,0,Q.length);for(var he=0,ve=H[re],ge=Math.ceil(ae/ve),Me=1;Me<=ge;Me++){pe.writeUInt32BE(Me,Q.length);for(var Oe=te.run(pe,te.ipad1),je=Oe,B=1;B<de;B++){je=te.run(je,te.ipad2);for(var l=0;l<ve;l++)Oe[l]^=je[l]}Oe.copy(ue,he),he+=ve}return ue}},76643:(Ye,J,A)=>{var h=A(27054).Buffer;Ye.exports=function(x,N,Y){if(h.isBuffer(x))return x;if("string"==typeof x)return h.from(x,N);if(ArrayBuffer.isView(x))return h.from(x.buffer);throw new TypeError(Y+" must be a string, a Buffer, a typed array or a DataView")}},9656:(Ye,J,A)=>{"use strict";var h=A(40573);Ye.exports=typeof h>"u"||!h.version||0===h.version.indexOf("v0.")||0===h.version.indexOf("v1.")&&0!==h.version.indexOf("v1.8.")?{nextTick:function x(N,Y,M,j){if("function"!=typeof N)throw new TypeError('"callback" argument must be a function');var U,H,R=arguments.length;switch(R){case 0:case 1:return h.nextTick(N);case 2:return h.nextTick(function(){N.call(null,Y)});case 3:return h.nextTick(function(){N.call(null,Y,M)});case 4:return h.nextTick(function(){N.call(null,Y,M,j)});default:for(U=new Array(R-1),H=0;H<U.length;)U[H++]=arguments[H];return h.nextTick(function(){N.apply(null,U)})}}}:h},40573:Ye=>{var A,h,J=Ye.exports={};function x(){throw new Error("setTimeout has not been defined")}function N(){throw new Error("clearTimeout has not been defined")}function Y(Q){if(A===setTimeout)return setTimeout(Q,0);if((A===x||!A)&&setTimeout)return A=setTimeout,setTimeout(Q,0);try{return A(Q,0)}catch{try{return A.call(null,Q,0)}catch{return A.call(this,Q,0)}}}!function(){try{A="function"==typeof setTimeout?setTimeout:x}catch{A=x}try{h="function"==typeof clearTimeout?clearTimeout:N}catch{h=N}}();var U,j=[],R=!1,H=-1;function V(){!R||!U||(R=!1,U.length?j=U.concat(j):H=-1,j.length&&P())}function P(){if(!R){var Q=Y(V);R=!0;for(var de=j.length;de;){for(U=j,j=[];++H<de;)U&&U[H].run();H=-1,de=j.length}U=null,R=!1,function M(Q){if(h===clearTimeout)return clearTimeout(Q);if((h===N||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(Q);try{return h(Q)}catch{try{return h.call(null,Q)}catch{return h.call(this,Q)}}}(Q)}}function ee(Q,de){this.fun=Q,this.array=de}function W(){}J.nextTick=function(Q){var de=new Array(arguments.length-1);if(arguments.length>1)for(var ae=1;ae<arguments.length;ae++)de[ae-1]=arguments[ae];j.push(new ee(Q,de)),1===j.length&&!R&&Y(P)},ee.prototype.run=function(){this.fun.apply(null,this.array)},J.title="browser",J.browser=!0,J.env={},J.argv=[],J.version="",J.versions={},J.on=W,J.addListener=W,J.once=W,J.off=W,J.removeListener=W,J.removeAllListeners=W,J.emit=W,J.prependListener=W,J.prependOnceListener=W,J.listeners=function(Q){return[]},J.binding=function(Q){throw new Error("process.binding is not supported")},J.cwd=function(){return"/"},J.chdir=function(Q){throw new Error("process.chdir is not supported")},J.umask=function(){return 0}},52965:(Ye,J,A)=>{J.publicEncrypt=A(87267),J.privateDecrypt=A(98613),J.privateEncrypt=function(x,N){return J.publicEncrypt(x,N,!0)},J.publicDecrypt=function(x,N){return J.privateDecrypt(x,N,!0)}},30715:(Ye,J,A)=>{var h=A(67211),x=A(27054).Buffer;function N(Y){var M=x.allocUnsafe(4);return M.writeUInt32BE(Y,0),M}Ye.exports=function(Y,M){for(var U,j=x.alloc(0),R=0;j.length<M;)U=N(R++),j=x.concat([j,h("sha1").update(Y).update(U).digest()]);return j.slice(0,M)}},16508:function(Ye,J,A){!function(h,x){"use strict";function N(B,l){if(!B)throw new Error(l||"Assertion failed")}function Y(B,l){B.super_=l;var f=function(){};f.prototype=l.prototype,B.prototype=new f,B.prototype.constructor=B}function M(B,l,f){if(M.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,null!==B&&(("le"===l||"be"===l)&&(f=l,l=10),this._init(B||0,l||10,f||"be"))}var j;"object"==typeof h?h.exports=M:x.BN=M,M.BN=M,M.wordSize=26;try{j=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:A(51069).Buffer}catch{}function R(B,l){var f=B.charCodeAt(l);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function U(B,l,f){var w=R(B,f);return f-1>=l&&(w|=R(B,f-1)<<4),w}function H(B,l,f,w){for(var _=0,D=Math.min(B.length,f),O=l;O<D;O++){var $=B.charCodeAt(O)-48;_*=w,_+=$>=49?$-49+10:$>=17?$-17+10:$}return _}M.isBN=function(l){return l instanceof M||null!==l&&"object"==typeof l&&l.constructor.wordSize===M.wordSize&&Array.isArray(l.words)},M.max=function(l,f){return l.cmp(f)>0?l:f},M.min=function(l,f){return l.cmp(f)<0?l:f},M.prototype._init=function(l,f,w){if("number"==typeof l)return this._initNumber(l,f,w);if("object"==typeof l)return this._initArray(l,f,w);"hex"===f&&(f=16),N(f===(0|f)&&f>=2&&f<=36);var _=0;"-"===(l=l.toString().replace(/\s+/g,""))[0]&&(_++,this.negative=1),_<l.length&&(16===f?this._parseHex(l,_,w):(this._parseBase(l,f,_),"le"===w&&this._initArray(this.toArray(),f,w)))},M.prototype._initNumber=function(l,f,w){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[67108863&l],this.length=1):l<4503599627370496?(this.words=[67108863&l,l/67108864&67108863],this.length=2):(N(l<9007199254740992),this.words=[67108863&l,l/67108864&67108863,1],this.length=3),"le"===w&&this._initArray(this.toArray(),f,w)},M.prototype._initArray=function(l,f,w){if(N("number"==typeof l.length),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var D,O,$=0;if("be"===w)for(_=l.length-1,D=0;_>=0;_-=3)this.words[D]|=(O=l[_]|l[_-1]<<8|l[_-2]<<16)<<$&67108863,this.words[D+1]=O>>>26-$&67108863,($+=24)>=26&&($-=26,D++);else if("le"===w)for(_=0,D=0;_<l.length;_+=3)this.words[D]|=(O=l[_]|l[_+1]<<8|l[_+2]<<16)<<$&67108863,this.words[D+1]=O>>>26-$&67108863,($+=24)>=26&&($-=26,D++);return this.strip()},M.prototype._parseHex=function(l,f,w){this.length=Math.ceil((l.length-f)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var $,D=0,O=0;if("be"===w)for(_=l.length-1;_>=f;_-=2)$=U(l,f,_)<<D,this.words[O]|=67108863&$,D>=18?(D-=18,this.words[O+=1]|=$>>>26):D+=8;else for(_=(l.length-f)%2==0?f+1:f;_<l.length;_+=2)$=U(l,f,_)<<D,this.words[O]|=67108863&$,D>=18?(D-=18,this.words[O+=1]|=$>>>26):D+=8;this.strip()},M.prototype._parseBase=function(l,f,w){this.words=[0],this.length=1;for(var _=0,D=1;D<=67108863;D*=f)_++;_--,D=D/f|0;for(var O=l.length-w,$=O%_,T=Math.min(O,O-$)+w,c=0,E=w;E<T;E+=_)c=H(l,E,E+_,f),this.imuln(D),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==$){var q=1;for(c=H(l,E,l.length,f),E=0;E<$;E++)q*=f;this.imuln(q),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},M.prototype.copy=function(l){l.words=new Array(this.length);for(var f=0;f<this.length;f++)l.words[f]=this.words[f];l.length=this.length,l.negative=this.negative,l.red=this.red},M.prototype.clone=function(){var l=new M(null);return this.copy(l),l},M.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},M.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},M.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},M.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var V=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],P=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ee=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Q(B,l,f){f.negative=l.negative^B.negative;var w=B.length+l.length|0;f.length=w,w=w-1|0;var _=0|B.words[0],D=0|l.words[0],O=_*D,T=O/67108864|0;f.words[0]=67108863&O;for(var c=1;c<w;c++){for(var E=T>>>26,q=67108863&T,X=Math.min(c,l.length-1),ce=Math.max(0,c-B.length+1);ce<=X;ce++)E+=(O=(_=0|B.words[c-ce|0])*(D=0|l.words[ce])+q)/67108864|0,q=67108863&O;f.words[c]=0|q,T=0|E}return 0!==T?f.words[c]=0|T:f.length--,f.strip()}M.prototype.toString=function(l,f){var w;if(f=0|f||1,16===(l=l||10)||"hex"===l){w="";for(var _=0,D=0,O=0;O<this.length;O++){var $=this.words[O],T=(16777215&($<<_|D)).toString(16);w=0!=(D=$>>>24-_&16777215)||O!==this.length-1?V[6-T.length]+T+w:T+w,(_+=2)>=26&&(_-=26,O--)}for(0!==D&&(w=D.toString(16)+w);w.length%f!=0;)w="0"+w;return 0!==this.negative&&(w="-"+w),w}if(l===(0|l)&&l>=2&&l<=36){var c=P[l],E=ee[l];w="";var q=this.clone();for(q.negative=0;!q.isZero();){var X=q.modn(E).toString(l);w=(q=q.idivn(E)).isZero()?X+w:V[c-X.length]+X+w}for(this.isZero()&&(w="0"+w);w.length%f!=0;)w="0"+w;return 0!==this.negative&&(w="-"+w),w}N(!1,"Base should be between 2 and 36")},M.prototype.toNumber=function(){var l=this.words[0];return 2===this.length?l+=67108864*this.words[1]:3===this.length&&1===this.words[2]?l+=4503599627370496+67108864*this.words[1]:this.length>2&&N(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-l:l},M.prototype.toJSON=function(){return this.toString(16)},M.prototype.toBuffer=function(l,f){return N(typeof j<"u"),this.toArrayLike(j,l,f)},M.prototype.toArray=function(l,f){return this.toArrayLike(Array,l,f)},M.prototype.toArrayLike=function(l,f,w){var _=this.byteLength(),D=w||Math.max(1,_);N(_<=D,"byte array longer than desired length"),N(D>0,"Requested array length <= 0"),this.strip();var T,c,O="le"===f,$=new l(D),E=this.clone();if(O){for(c=0;!E.isZero();c++)T=E.andln(255),E.iushrn(8),$[c]=T;for(;c<D;c++)$[c]=0}else{for(c=0;c<D-_;c++)$[c]=0;for(c=0;!E.isZero();c++)T=E.andln(255),E.iushrn(8),$[D-c-1]=T}return $},M.prototype._countBits=Math.clz32?function(l){return 32-Math.clz32(l)}:function(l){var f=l,w=0;return f>=4096&&(w+=13,f>>>=13),f>=64&&(w+=7,f>>>=7),f>=8&&(w+=4,f>>>=4),f>=2&&(w+=2,f>>>=2),w+f},M.prototype._zeroBits=function(l){if(0===l)return 26;var f=l,w=0;return 8191&f||(w+=13,f>>>=13),127&f||(w+=7,f>>>=7),15&f||(w+=4,f>>>=4),3&f||(w+=2,f>>>=2),1&f||w++,w},M.prototype.bitLength=function(){var f=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+f},M.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,f=0;f<this.length;f++){var w=this._zeroBits(this.words[f]);if(l+=w,26!==w)break}return l},M.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},M.prototype.toTwos=function(l){return 0!==this.negative?this.abs().inotn(l).iaddn(1):this.clone()},M.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},M.prototype.isNeg=function(){return 0!==this.negative},M.prototype.neg=function(){return this.clone().ineg()},M.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},M.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var f=0;f<l.length;f++)this.words[f]=this.words[f]|l.words[f];return this.strip()},M.prototype.ior=function(l){return N(!(this.negative|l.negative)),this.iuor(l)},M.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},M.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},M.prototype.iuand=function(l){var f;f=this.length>l.length?l:this;for(var w=0;w<f.length;w++)this.words[w]=this.words[w]&l.words[w];return this.length=f.length,this.strip()},M.prototype.iand=function(l){return N(!(this.negative|l.negative)),this.iuand(l)},M.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},M.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},M.prototype.iuxor=function(l){var f,w;this.length>l.length?(f=this,w=l):(f=l,w=this);for(var _=0;_<w.length;_++)this.words[_]=f.words[_]^w.words[_];if(this!==f)for(;_<f.length;_++)this.words[_]=f.words[_];return this.length=f.length,this.strip()},M.prototype.ixor=function(l){return N(!(this.negative|l.negative)),this.iuxor(l)},M.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},M.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},M.prototype.inotn=function(l){N("number"==typeof l&&l>=0);var f=0|Math.ceil(l/26),w=l%26;this._expand(f),w>0&&f--;for(var _=0;_<f;_++)this.words[_]=67108863&~this.words[_];return w>0&&(this.words[_]=~this.words[_]&67108863>>26-w),this.strip()},M.prototype.notn=function(l){return this.clone().inotn(l)},M.prototype.setn=function(l,f){N("number"==typeof l&&l>=0);var w=l/26|0,_=l%26;return this._expand(w+1),this.words[w]=f?this.words[w]|1<<_:this.words[w]&~(1<<_),this.strip()},M.prototype.iadd=function(l){var f,w,_;if(0!==this.negative&&0===l.negative)return this.negative=0,f=this.isub(l),this.negative^=1,this._normSign();if(0===this.negative&&0!==l.negative)return l.negative=0,f=this.isub(l),l.negative=1,f._normSign();this.length>l.length?(w=this,_=l):(w=l,_=this);for(var D=0,O=0;O<_.length;O++)this.words[O]=67108863&(f=(0|w.words[O])+(0|_.words[O])+D),D=f>>>26;for(;0!==D&&O<w.length;O++)this.words[O]=67108863&(f=(0|w.words[O])+D),D=f>>>26;if(this.length=w.length,0!==D)this.words[this.length]=D,this.length++;else if(w!==this)for(;O<w.length;O++)this.words[O]=w.words[O];return this},M.prototype.add=function(l){var f;return 0!==l.negative&&0===this.negative?(l.negative=0,f=this.sub(l),l.negative^=1,f):0===l.negative&&0!==this.negative?(this.negative=0,f=l.sub(this),this.negative=1,f):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},M.prototype.isub=function(l){if(0!==l.negative){l.negative=0;var f=this.iadd(l);return l.negative=1,f._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var _,D,w=this.cmp(l);if(0===w)return this.negative=0,this.length=1,this.words[0]=0,this;w>0?(_=this,D=l):(_=l,D=this);for(var O=0,$=0;$<D.length;$++)O=(f=(0|_.words[$])-(0|D.words[$])+O)>>26,this.words[$]=67108863&f;for(;0!==O&&$<_.length;$++)O=(f=(0|_.words[$])+O)>>26,this.words[$]=67108863&f;if(0===O&&$<_.length&&_!==this)for(;$<_.length;$++)this.words[$]=_.words[$];return this.length=Math.max(this.length,$),_!==this&&(this.negative=1),this.strip()},M.prototype.sub=function(l){return this.clone().isub(l)};var de=function(l,f,w){var T,c,E,_=l.words,D=f.words,O=w.words,$=0,q=0|_[0],X=8191&q,ce=q>>>13,me=0|_[1],Te=8191&me,Ke=me>>>13,Qe=0|_[2],ke=8191&Qe,Ie=Qe>>>13,Xe=0|_[3],Se=8191&Xe,Le=Xe>>>13,Ee=0|_[4],be=8191&Ee,oe=Ee>>>13,fe=0|_[5],we=8191&fe,De=fe>>>13,$e=0|_[6],Je=8191&$e,Ze=$e>>>13,Pt=0|_[7],nt=8191&Pt,Ge=Pt>>>13,Et=0|_[8],K=8191&Et,C=Et>>>13,b=0|_[9],z=8191&b,le=b>>>13,Ae=0|D[0],Be=8191&Ae,ft=Ae>>>13,Yt=0|D[1],Rt=8191&Yt,Vt=Yt>>>13,dn=0|D[2],Mn=8191&dn,En=dn>>>13,Ar=0|D[3],jn=8191&Ar,mn=Ar>>>13,pn=0|D[4],kt=8191&pn,St=pn>>>13,an=0|D[5],hn=8191&an,An=an>>>13,Rr=0|D[6],Tt=8191&Rr,Nt=Rr>>>13,Lt=0|D[7],st=8191&Lt,mt=Lt>>>13,sn=0|D[8],Zt=8191&sn,xn=sn>>>13,cr=0|D[9],kn=8191&cr,zn=cr>>>13;w.negative=l.negative^f.negative,w.length=19;var qr=($+(T=Math.imul(X,Be))|0)+((8191&(c=(c=Math.imul(X,ft))+Math.imul(ce,Be)|0))<<13)|0;$=((E=Math.imul(ce,ft))+(c>>>13)|0)+(qr>>>26)|0,qr&=67108863,T=Math.imul(Te,Be),c=(c=Math.imul(Te,ft))+Math.imul(Ke,Be)|0,E=Math.imul(Ke,ft);var pr=($+(T=T+Math.imul(X,Rt)|0)|0)+((8191&(c=(c=c+Math.imul(X,Vt)|0)+Math.imul(ce,Rt)|0))<<13)|0;$=((E=E+Math.imul(ce,Vt)|0)+(c>>>13)|0)+(pr>>>26)|0,pr&=67108863,T=Math.imul(ke,Be),c=(c=Math.imul(ke,ft))+Math.imul(Ie,Be)|0,E=Math.imul(Ie,ft),T=T+Math.imul(Te,Rt)|0,c=(c=c+Math.imul(Te,Vt)|0)+Math.imul(Ke,Rt)|0,E=E+Math.imul(Ke,Vt)|0;var qn=($+(T=T+Math.imul(X,Mn)|0)|0)+((8191&(c=(c=c+Math.imul(X,En)|0)+Math.imul(ce,Mn)|0))<<13)|0;$=((E=E+Math.imul(ce,En)|0)+(c>>>13)|0)+(qn>>>26)|0,qn&=67108863,T=Math.imul(Se,Be),c=(c=Math.imul(Se,ft))+Math.imul(Le,Be)|0,E=Math.imul(Le,ft),T=T+Math.imul(ke,Rt)|0,c=(c=c+Math.imul(ke,Vt)|0)+Math.imul(Ie,Rt)|0,E=E+Math.imul(Ie,Vt)|0,T=T+Math.imul(Te,Mn)|0,c=(c=c+Math.imul(Te,En)|0)+Math.imul(Ke,Mn)|0,E=E+Math.imul(Ke,En)|0;var Jt=($+(T=T+Math.imul(X,jn)|0)|0)+((8191&(c=(c=c+Math.imul(X,mn)|0)+Math.imul(ce,jn)|0))<<13)|0;$=((E=E+Math.imul(ce,mn)|0)+(c>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,T=Math.imul(be,Be),c=(c=Math.imul(be,ft))+Math.imul(oe,Be)|0,E=Math.imul(oe,ft),T=T+Math.imul(Se,Rt)|0,c=(c=c+Math.imul(Se,Vt)|0)+Math.imul(Le,Rt)|0,E=E+Math.imul(Le,Vt)|0,T=T+Math.imul(ke,Mn)|0,c=(c=c+Math.imul(ke,En)|0)+Math.imul(Ie,Mn)|0,E=E+Math.imul(Ie,En)|0,T=T+Math.imul(Te,jn)|0,c=(c=c+Math.imul(Te,mn)|0)+Math.imul(Ke,jn)|0,E=E+Math.imul(Ke,mn)|0;var dt=($+(T=T+Math.imul(X,kt)|0)|0)+((8191&(c=(c=c+Math.imul(X,St)|0)+Math.imul(ce,kt)|0))<<13)|0;$=((E=E+Math.imul(ce,St)|0)+(c>>>13)|0)+(dt>>>26)|0,dt&=67108863,T=Math.imul(we,Be),c=(c=Math.imul(we,ft))+Math.imul(De,Be)|0,E=Math.imul(De,ft),T=T+Math.imul(be,Rt)|0,c=(c=c+Math.imul(be,Vt)|0)+Math.imul(oe,Rt)|0,E=E+Math.imul(oe,Vt)|0,T=T+Math.imul(Se,Mn)|0,c=(c=c+Math.imul(Se,En)|0)+Math.imul(Le,Mn)|0,E=E+Math.imul(Le,En)|0,T=T+Math.imul(ke,jn)|0,c=(c=c+Math.imul(ke,mn)|0)+Math.imul(Ie,jn)|0,E=E+Math.imul(Ie,mn)|0,T=T+Math.imul(Te,kt)|0,c=(c=c+Math.imul(Te,St)|0)+Math.imul(Ke,kt)|0,E=E+Math.imul(Ke,St)|0;var Ne=($+(T=T+Math.imul(X,hn)|0)|0)+((8191&(c=(c=c+Math.imul(X,An)|0)+Math.imul(ce,hn)|0))<<13)|0;$=((E=E+Math.imul(ce,An)|0)+(c>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,T=Math.imul(Je,Be),c=(c=Math.imul(Je,ft))+Math.imul(Ze,Be)|0,E=Math.imul(Ze,ft),T=T+Math.imul(we,Rt)|0,c=(c=c+Math.imul(we,Vt)|0)+Math.imul(De,Rt)|0,E=E+Math.imul(De,Vt)|0,T=T+Math.imul(be,Mn)|0,c=(c=c+Math.imul(be,En)|0)+Math.imul(oe,Mn)|0,E=E+Math.imul(oe,En)|0,T=T+Math.imul(Se,jn)|0,c=(c=c+Math.imul(Se,mn)|0)+Math.imul(Le,jn)|0,E=E+Math.imul(Le,mn)|0,T=T+Math.imul(ke,kt)|0,c=(c=c+Math.imul(ke,St)|0)+Math.imul(Ie,kt)|0,E=E+Math.imul(Ie,St)|0,T=T+Math.imul(Te,hn)|0,c=(c=c+Math.imul(Te,An)|0)+Math.imul(Ke,hn)|0,E=E+Math.imul(Ke,An)|0;var We=($+(T=T+Math.imul(X,Tt)|0)|0)+((8191&(c=(c=c+Math.imul(X,Nt)|0)+Math.imul(ce,Tt)|0))<<13)|0;$=((E=E+Math.imul(ce,Nt)|0)+(c>>>13)|0)+(We>>>26)|0,We&=67108863,T=Math.imul(nt,Be),c=(c=Math.imul(nt,ft))+Math.imul(Ge,Be)|0,E=Math.imul(Ge,ft),T=T+Math.imul(Je,Rt)|0,c=(c=c+Math.imul(Je,Vt)|0)+Math.imul(Ze,Rt)|0,E=E+Math.imul(Ze,Vt)|0,T=T+Math.imul(we,Mn)|0,c=(c=c+Math.imul(we,En)|0)+Math.imul(De,Mn)|0,E=E+Math.imul(De,En)|0,T=T+Math.imul(be,jn)|0,c=(c=c+Math.imul(be,mn)|0)+Math.imul(oe,jn)|0,E=E+Math.imul(oe,mn)|0,T=T+Math.imul(Se,kt)|0,c=(c=c+Math.imul(Se,St)|0)+Math.imul(Le,kt)|0,E=E+Math.imul(Le,St)|0,T=T+Math.imul(ke,hn)|0,c=(c=c+Math.imul(ke,An)|0)+Math.imul(Ie,hn)|0,E=E+Math.imul(Ie,An)|0,T=T+Math.imul(Te,Tt)|0,c=(c=c+Math.imul(Te,Nt)|0)+Math.imul(Ke,Tt)|0,E=E+Math.imul(Ke,Nt)|0;var Bt=($+(T=T+Math.imul(X,st)|0)|0)+((8191&(c=(c=c+Math.imul(X,mt)|0)+Math.imul(ce,st)|0))<<13)|0;$=((E=E+Math.imul(ce,mt)|0)+(c>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,T=Math.imul(K,Be),c=(c=Math.imul(K,ft))+Math.imul(C,Be)|0,E=Math.imul(C,ft),T=T+Math.imul(nt,Rt)|0,c=(c=c+Math.imul(nt,Vt)|0)+Math.imul(Ge,Rt)|0,E=E+Math.imul(Ge,Vt)|0,T=T+Math.imul(Je,Mn)|0,c=(c=c+Math.imul(Je,En)|0)+Math.imul(Ze,Mn)|0,E=E+Math.imul(Ze,En)|0,T=T+Math.imul(we,jn)|0,c=(c=c+Math.imul(we,mn)|0)+Math.imul(De,jn)|0,E=E+Math.imul(De,mn)|0,T=T+Math.imul(be,kt)|0,c=(c=c+Math.imul(be,St)|0)+Math.imul(oe,kt)|0,E=E+Math.imul(oe,St)|0,T=T+Math.imul(Se,hn)|0,c=(c=c+Math.imul(Se,An)|0)+Math.imul(Le,hn)|0,E=E+Math.imul(Le,An)|0,T=T+Math.imul(ke,Tt)|0,c=(c=c+Math.imul(ke,Nt)|0)+Math.imul(Ie,Tt)|0,E=E+Math.imul(Ie,Nt)|0,T=T+Math.imul(Te,st)|0,c=(c=c+Math.imul(Te,mt)|0)+Math.imul(Ke,st)|0,E=E+Math.imul(Ke,mt)|0;var gn=($+(T=T+Math.imul(X,Zt)|0)|0)+((8191&(c=(c=c+Math.imul(X,xn)|0)+Math.imul(ce,Zt)|0))<<13)|0;$=((E=E+Math.imul(ce,xn)|0)+(c>>>13)|0)+(gn>>>26)|0,gn&=67108863,T=Math.imul(z,Be),c=(c=Math.imul(z,ft))+Math.imul(le,Be)|0,E=Math.imul(le,ft),T=T+Math.imul(K,Rt)|0,c=(c=c+Math.imul(K,Vt)|0)+Math.imul(C,Rt)|0,E=E+Math.imul(C,Vt)|0,T=T+Math.imul(nt,Mn)|0,c=(c=c+Math.imul(nt,En)|0)+Math.imul(Ge,Mn)|0,E=E+Math.imul(Ge,En)|0,T=T+Math.imul(Je,jn)|0,c=(c=c+Math.imul(Je,mn)|0)+Math.imul(Ze,jn)|0,E=E+Math.imul(Ze,mn)|0,T=T+Math.imul(we,kt)|0,c=(c=c+Math.imul(we,St)|0)+Math.imul(De,kt)|0,E=E+Math.imul(De,St)|0,T=T+Math.imul(be,hn)|0,c=(c=c+Math.imul(be,An)|0)+Math.imul(oe,hn)|0,E=E+Math.imul(oe,An)|0,T=T+Math.imul(Se,Tt)|0,c=(c=c+Math.imul(Se,Nt)|0)+Math.imul(Le,Tt)|0,E=E+Math.imul(Le,Nt)|0,T=T+Math.imul(ke,st)|0,c=(c=c+Math.imul(ke,mt)|0)+Math.imul(Ie,st)|0,E=E+Math.imul(Ie,mt)|0,T=T+Math.imul(Te,Zt)|0,c=(c=c+Math.imul(Te,xn)|0)+Math.imul(Ke,Zt)|0,E=E+Math.imul(Ke,xn)|0;var Kn=($+(T=T+Math.imul(X,kn)|0)|0)+((8191&(c=(c=c+Math.imul(X,zn)|0)+Math.imul(ce,kn)|0))<<13)|0;$=((E=E+Math.imul(ce,zn)|0)+(c>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,T=Math.imul(z,Rt),c=(c=Math.imul(z,Vt))+Math.imul(le,Rt)|0,E=Math.imul(le,Vt),T=T+Math.imul(K,Mn)|0,c=(c=c+Math.imul(K,En)|0)+Math.imul(C,Mn)|0,E=E+Math.imul(C,En)|0,T=T+Math.imul(nt,jn)|0,c=(c=c+Math.imul(nt,mn)|0)+Math.imul(Ge,jn)|0,E=E+Math.imul(Ge,mn)|0,T=T+Math.imul(Je,kt)|0,c=(c=c+Math.imul(Je,St)|0)+Math.imul(Ze,kt)|0,E=E+Math.imul(Ze,St)|0,T=T+Math.imul(we,hn)|0,c=(c=c+Math.imul(we,An)|0)+Math.imul(De,hn)|0,E=E+Math.imul(De,An)|0,T=T+Math.imul(be,Tt)|0,c=(c=c+Math.imul(be,Nt)|0)+Math.imul(oe,Tt)|0,E=E+Math.imul(oe,Nt)|0,T=T+Math.imul(Se,st)|0,c=(c=c+Math.imul(Se,mt)|0)+Math.imul(Le,st)|0,E=E+Math.imul(Le,mt)|0,T=T+Math.imul(ke,Zt)|0,c=(c=c+Math.imul(ke,xn)|0)+Math.imul(Ie,Zt)|0,E=E+Math.imul(Ie,xn)|0;var ir=($+(T=T+Math.imul(Te,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Te,zn)|0)+Math.imul(Ke,kn)|0))<<13)|0;$=((E=E+Math.imul(Ke,zn)|0)+(c>>>13)|0)+(ir>>>26)|0,ir&=67108863,T=Math.imul(z,Mn),c=(c=Math.imul(z,En))+Math.imul(le,Mn)|0,E=Math.imul(le,En),T=T+Math.imul(K,jn)|0,c=(c=c+Math.imul(K,mn)|0)+Math.imul(C,jn)|0,E=E+Math.imul(C,mn)|0,T=T+Math.imul(nt,kt)|0,c=(c=c+Math.imul(nt,St)|0)+Math.imul(Ge,kt)|0,E=E+Math.imul(Ge,St)|0,T=T+Math.imul(Je,hn)|0,c=(c=c+Math.imul(Je,An)|0)+Math.imul(Ze,hn)|0,E=E+Math.imul(Ze,An)|0,T=T+Math.imul(we,Tt)|0,c=(c=c+Math.imul(we,Nt)|0)+Math.imul(De,Tt)|0,E=E+Math.imul(De,Nt)|0,T=T+Math.imul(be,st)|0,c=(c=c+Math.imul(be,mt)|0)+Math.imul(oe,st)|0,E=E+Math.imul(oe,mt)|0,T=T+Math.imul(Se,Zt)|0,c=(c=c+Math.imul(Se,xn)|0)+Math.imul(Le,Zt)|0,E=E+Math.imul(Le,xn)|0;var hr=($+(T=T+Math.imul(ke,kn)|0)|0)+((8191&(c=(c=c+Math.imul(ke,zn)|0)+Math.imul(Ie,kn)|0))<<13)|0;$=((E=E+Math.imul(Ie,zn)|0)+(c>>>13)|0)+(hr>>>26)|0,hr&=67108863,T=Math.imul(z,jn),c=(c=Math.imul(z,mn))+Math.imul(le,jn)|0,E=Math.imul(le,mn),T=T+Math.imul(K,kt)|0,c=(c=c+Math.imul(K,St)|0)+Math.imul(C,kt)|0,E=E+Math.imul(C,St)|0,T=T+Math.imul(nt,hn)|0,c=(c=c+Math.imul(nt,An)|0)+Math.imul(Ge,hn)|0,E=E+Math.imul(Ge,An)|0,T=T+Math.imul(Je,Tt)|0,c=(c=c+Math.imul(Je,Nt)|0)+Math.imul(Ze,Tt)|0,E=E+Math.imul(Ze,Nt)|0,T=T+Math.imul(we,st)|0,c=(c=c+Math.imul(we,mt)|0)+Math.imul(De,st)|0,E=E+Math.imul(De,mt)|0,T=T+Math.imul(be,Zt)|0,c=(c=c+Math.imul(be,xn)|0)+Math.imul(oe,Zt)|0,E=E+Math.imul(oe,xn)|0;var Wr=($+(T=T+Math.imul(Se,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Se,zn)|0)+Math.imul(Le,kn)|0))<<13)|0;$=((E=E+Math.imul(Le,zn)|0)+(c>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,T=Math.imul(z,kt),c=(c=Math.imul(z,St))+Math.imul(le,kt)|0,E=Math.imul(le,St),T=T+Math.imul(K,hn)|0,c=(c=c+Math.imul(K,An)|0)+Math.imul(C,hn)|0,E=E+Math.imul(C,An)|0,T=T+Math.imul(nt,Tt)|0,c=(c=c+Math.imul(nt,Nt)|0)+Math.imul(Ge,Tt)|0,E=E+Math.imul(Ge,Nt)|0,T=T+Math.imul(Je,st)|0,c=(c=c+Math.imul(Je,mt)|0)+Math.imul(Ze,st)|0,E=E+Math.imul(Ze,mt)|0,T=T+Math.imul(we,Zt)|0,c=(c=c+Math.imul(we,xn)|0)+Math.imul(De,Zt)|0,E=E+Math.imul(De,xn)|0;var Vr=($+(T=T+Math.imul(be,kn)|0)|0)+((8191&(c=(c=c+Math.imul(be,zn)|0)+Math.imul(oe,kn)|0))<<13)|0;$=((E=E+Math.imul(oe,zn)|0)+(c>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,T=Math.imul(z,hn),c=(c=Math.imul(z,An))+Math.imul(le,hn)|0,E=Math.imul(le,An),T=T+Math.imul(K,Tt)|0,c=(c=c+Math.imul(K,Nt)|0)+Math.imul(C,Tt)|0,E=E+Math.imul(C,Nt)|0,T=T+Math.imul(nt,st)|0,c=(c=c+Math.imul(nt,mt)|0)+Math.imul(Ge,st)|0,E=E+Math.imul(Ge,mt)|0,T=T+Math.imul(Je,Zt)|0,c=(c=c+Math.imul(Je,xn)|0)+Math.imul(Ze,Zt)|0,E=E+Math.imul(Ze,xn)|0;var ti=($+(T=T+Math.imul(we,kn)|0)|0)+((8191&(c=(c=c+Math.imul(we,zn)|0)+Math.imul(De,kn)|0))<<13)|0;$=((E=E+Math.imul(De,zn)|0)+(c>>>13)|0)+(ti>>>26)|0,ti&=67108863,T=Math.imul(z,Tt),c=(c=Math.imul(z,Nt))+Math.imul(le,Tt)|0,E=Math.imul(le,Nt),T=T+Math.imul(K,st)|0,c=(c=c+Math.imul(K,mt)|0)+Math.imul(C,st)|0,E=E+Math.imul(C,mt)|0,T=T+Math.imul(nt,Zt)|0,c=(c=c+Math.imul(nt,xn)|0)+Math.imul(Ge,Zt)|0,E=E+Math.imul(Ge,xn)|0;var ni=($+(T=T+Math.imul(Je,kn)|0)|0)+((8191&(c=(c=c+Math.imul(Je,zn)|0)+Math.imul(Ze,kn)|0))<<13)|0;$=((E=E+Math.imul(Ze,zn)|0)+(c>>>13)|0)+(ni>>>26)|0,ni&=67108863,T=Math.imul(z,st),c=(c=Math.imul(z,mt))+Math.imul(le,st)|0,E=Math.imul(le,mt),T=T+Math.imul(K,Zt)|0,c=(c=c+Math.imul(K,xn)|0)+Math.imul(C,Zt)|0,E=E+Math.imul(C,xn)|0;var Ei=($+(T=T+Math.imul(nt,kn)|0)|0)+((8191&(c=(c=c+Math.imul(nt,zn)|0)+Math.imul(Ge,kn)|0))<<13)|0;$=((E=E+Math.imul(Ge,zn)|0)+(c>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,T=Math.imul(z,Zt),c=(c=Math.imul(z,xn))+Math.imul(le,Zt)|0,E=Math.imul(le,xn);var yn=($+(T=T+Math.imul(K,kn)|0)|0)+((8191&(c=(c=c+Math.imul(K,zn)|0)+Math.imul(C,kn)|0))<<13)|0;$=((E=E+Math.imul(C,zn)|0)+(c>>>13)|0)+(yn>>>26)|0,yn&=67108863;var Pn=($+(T=Math.imul(z,kn))|0)+((8191&(c=(c=Math.imul(z,zn))+Math.imul(le,kn)|0))<<13)|0;return $=((E=Math.imul(le,zn))+(c>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,O[0]=qr,O[1]=pr,O[2]=qn,O[3]=Jt,O[4]=dt,O[5]=Ne,O[6]=We,O[7]=Bt,O[8]=gn,O[9]=Kn,O[10]=ir,O[11]=hr,O[12]=Wr,O[13]=Vr,O[14]=ti,O[15]=ni,O[16]=Ei,O[17]=yn,O[18]=Pn,0!==$&&(O[19]=$,w.length++),w};function re(B,l,f){return(new te).mulp(B,l,f)}function te(B,l){this.x=B,this.y=l}Math.imul||(de=Q),M.prototype.mulTo=function(l,f){var w,_=this.length+l.length;return w=10===this.length&&10===l.length?de(this,l,f):_<63?Q(this,l,f):_<1024?function ae(B,l,f){f.negative=l.negative^B.negative,f.length=B.length+l.length;for(var w=0,_=0,D=0;D<f.length-1;D++){var O=_;_=0;for(var $=67108863&w,T=Math.min(D,l.length-1),c=Math.max(0,D-B.length+1);c<=T;c++){var ce=(0|B.words[D-c])*(0|l.words[c]),me=67108863&ce;$=67108863&(me=me+$|0),_+=(O=(O=O+(ce/67108864|0)|0)+(me>>>26)|0)>>>26,O&=67108863}f.words[D]=$,w=O,O=_}return 0!==w?f.words[D]=w:f.length--,f.strip()}(this,l,f):re(this,l,f),w},te.prototype.makeRBT=function(l){for(var f=new Array(l),w=M.prototype._countBits(l)-1,_=0;_<l;_++)f[_]=this.revBin(_,w,l);return f},te.prototype.revBin=function(l,f,w){if(0===l||l===w-1)return l;for(var _=0,D=0;D<f;D++)_|=(1&l)<<f-D-1,l>>=1;return _},te.prototype.permute=function(l,f,w,_,D,O){for(var $=0;$<O;$++)_[$]=f[l[$]],D[$]=w[l[$]]},te.prototype.transform=function(l,f,w,_,D,O){this.permute(O,l,f,w,_,D);for(var $=1;$<D;$<<=1)for(var T=$<<1,c=Math.cos(2*Math.PI/T),E=Math.sin(2*Math.PI/T),q=0;q<D;q+=T)for(var X=c,ce=E,me=0;me<$;me++){var Te=w[q+me],Ke=_[q+me],Qe=w[q+me+$],ke=_[q+me+$],Ie=X*Qe-ce*ke;ke=X*ke+ce*Qe,w[q+me]=Te+(Qe=Ie),_[q+me]=Ke+ke,w[q+me+$]=Te-Qe,_[q+me+$]=Ke-ke,me!==T&&(Ie=c*X-E*ce,ce=c*ce+E*X,X=Ie)}},te.prototype.guessLen13b=function(l,f){var w=1|Math.max(f,l),_=1&w,D=0;for(w=w/2|0;w;w>>>=1)D++;return 1<<D+1+_},te.prototype.conjugate=function(l,f,w){if(!(w<=1))for(var _=0;_<w/2;_++){var D=l[_];l[_]=l[w-_-1],l[w-_-1]=D,D=f[_],f[_]=-f[w-_-1],f[w-_-1]=-D}},te.prototype.normalize13b=function(l,f){for(var w=0,_=0;_<f/2;_++){var D=8192*Math.round(l[2*_+1]/f)+Math.round(l[2*_]/f)+w;l[_]=67108863&D,w=D<67108864?0:D/67108864|0}return l},te.prototype.convert13b=function(l,f,w,_){for(var D=0,O=0;O<f;O++)w[2*O]=8191&(D+=0|l[O]),w[2*O+1]=8191&(D>>>=13),D>>>=13;for(O=2*f;O<_;++O)w[O]=0;N(0===D),N(!(-8192&D))},te.prototype.stub=function(l){for(var f=new Array(l),w=0;w<l;w++)f[w]=0;return f},te.prototype.mulp=function(l,f,w){var _=2*this.guessLen13b(l.length,f.length),D=this.makeRBT(_),O=this.stub(_),$=new Array(_),T=new Array(_),c=new Array(_),E=new Array(_),q=new Array(_),X=new Array(_),ce=w.words;ce.length=_,this.convert13b(l.words,l.length,$,_),this.convert13b(f.words,f.length,E,_),this.transform($,O,T,c,_,D),this.transform(E,O,q,X,_,D);for(var me=0;me<_;me++){var Te=T[me]*q[me]-c[me]*X[me];c[me]=T[me]*X[me]+c[me]*q[me],T[me]=Te}return this.conjugate(T,c,_),this.transform(T,c,ce,O,_,D),this.conjugate(ce,O,_),this.normalize13b(ce,_),w.negative=l.negative^f.negative,w.length=l.length+f.length,w.strip()},M.prototype.mul=function(l){var f=new M(null);return f.words=new Array(this.length+l.length),this.mulTo(l,f)},M.prototype.mulf=function(l){var f=new M(null);return f.words=new Array(this.length+l.length),re(this,l,f)},M.prototype.imul=function(l){return this.clone().mulTo(l,this)},M.prototype.imuln=function(l){N("number"==typeof l),N(l<67108864);for(var f=0,w=0;w<this.length;w++){var _=(0|this.words[w])*l,D=(67108863&_)+(67108863&f);f>>=26,f+=_/67108864|0,f+=D>>>26,this.words[w]=67108863&D}return 0!==f&&(this.words[w]=f,this.length++),this},M.prototype.muln=function(l){return this.clone().imuln(l)},M.prototype.sqr=function(){return this.mul(this)},M.prototype.isqr=function(){return this.imul(this.clone())},M.prototype.pow=function(l){var f=function W(B){for(var l=new Array(B.bitLength()),f=0;f<l.length;f++){var _=f%26;l[f]=(B.words[f/26|0]&1<<_)>>>_}return l}(l);if(0===f.length)return new M(1);for(var w=this,_=0;_<f.length&&0===f[_];_++,w=w.sqr());if(++_<f.length)for(var D=w.sqr();_<f.length;_++,D=D.sqr())0!==f[_]&&(w=w.mul(D));return w},M.prototype.iushln=function(l){N("number"==typeof l&&l>=0);var D,f=l%26,w=(l-f)/26,_=67108863>>>26-f<<26-f;if(0!==f){var O=0;for(D=0;D<this.length;D++){var $=this.words[D]&_;this.words[D]=(0|this.words[D])-$<<f|O,O=$>>>26-f}O&&(this.words[D]=O,this.length++)}if(0!==w){for(D=this.length-1;D>=0;D--)this.words[D+w]=this.words[D];for(D=0;D<w;D++)this.words[D]=0;this.length+=w}return this.strip()},M.prototype.ishln=function(l){return N(0===this.negative),this.iushln(l)},M.prototype.iushrn=function(l,f,w){var _;N("number"==typeof l&&l>=0),_=f?(f-f%26)/26:0;var D=l%26,O=Math.min((l-D)/26,this.length),$=67108863^67108863>>>D<<D,T=w;if(_-=O,_=Math.max(0,_),T){for(var c=0;c<O;c++)T.words[c]=this.words[c];T.length=O}if(0!==O)if(this.length>O)for(this.length-=O,c=0;c<this.length;c++)this.words[c]=this.words[c+O];else this.words[0]=0,this.length=1;var E=0;for(c=this.length-1;c>=0&&(0!==E||c>=_);c--){var q=0|this.words[c];this.words[c]=E<<26-D|q>>>D,E=q&$}return T&&0!==E&&(T.words[T.length++]=E),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},M.prototype.ishrn=function(l,f,w){return N(0===this.negative),this.iushrn(l,f,w)},M.prototype.shln=function(l){return this.clone().ishln(l)},M.prototype.ushln=function(l){return this.clone().iushln(l)},M.prototype.shrn=function(l){return this.clone().ishrn(l)},M.prototype.ushrn=function(l){return this.clone().iushrn(l)},M.prototype.testn=function(l){N("number"==typeof l&&l>=0);var f=l%26,w=(l-f)/26;return!(this.length<=w||!(this.words[w]&1<<f))},M.prototype.imaskn=function(l){N("number"==typeof l&&l>=0);var f=l%26,w=(l-f)/26;return N(0===this.negative,"imaskn works only with positive numbers"),this.length<=w?this:(0!==f&&w++,this.length=Math.min(w,this.length),0!==f&&(this.words[this.length-1]&=67108863^67108863>>>f<<f),this.strip())},M.prototype.maskn=function(l){return this.clone().imaskn(l)},M.prototype.iaddn=function(l){return N("number"==typeof l),N(l<67108864),l<0?this.isubn(-l):0!==this.negative?1===this.length&&(0|this.words[0])<l?(this.words[0]=l-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},M.prototype._iaddn=function(l){this.words[0]+=l;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},M.prototype.isubn=function(l){if(N("number"==typeof l),N(l<67108864),l<0)return this.iaddn(-l);if(0!==this.negative)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},M.prototype.addn=function(l){return this.clone().iaddn(l)},M.prototype.subn=function(l){return this.clone().isubn(l)},M.prototype.iabs=function(){return this.negative=0,this},M.prototype.abs=function(){return this.clone().iabs()},M.prototype._ishlnsubmul=function(l,f,w){var D;this._expand(l.length+w);var O,$=0;for(D=0;D<l.length;D++){O=(0|this.words[D+w])+$;var T=(0|l.words[D])*f;$=((O-=67108863&T)>>26)-(T/67108864|0),this.words[D+w]=67108863&O}for(;D<this.length-w;D++)$=(O=(0|this.words[D+w])+$)>>26,this.words[D+w]=67108863&O;if(0===$)return this.strip();for(N(-1===$),$=0,D=0;D<this.length;D++)$=(O=-(0|this.words[D])+$)>>26,this.words[D]=67108863&O;return this.negative=1,this.strip()},M.prototype._wordDiv=function(l,f){var w,_=this.clone(),D=l,O=0|D.words[D.length-1];0!=(w=26-this._countBits(O))&&(D=D.ushln(w),_.iushln(w),O=0|D.words[D.length-1]);var c,T=_.length-D.length;if("mod"!==f){(c=new M(null)).length=T+1,c.words=new Array(c.length);for(var E=0;E<c.length;E++)c.words[E]=0}var q=_.clone()._ishlnsubmul(D,1,T);0===q.negative&&(_=q,c&&(c.words[T]=1));for(var X=T-1;X>=0;X--){var ce=67108864*(0|_.words[D.length+X])+(0|_.words[D.length+X-1]);for(ce=Math.min(ce/O|0,67108863),_._ishlnsubmul(D,ce,X);0!==_.negative;)ce--,_.negative=0,_._ishlnsubmul(D,1,X),_.isZero()||(_.negative^=1);c&&(c.words[X]=ce)}return c&&c.strip(),_.strip(),"div"!==f&&0!==w&&_.iushrn(w),{div:c||null,mod:_}},M.prototype.divmod=function(l,f,w){return N(!l.isZero()),this.isZero()?{div:new M(0),mod:new M(0)}:0!==this.negative&&0===l.negative?(O=this.neg().divmod(l,f),"mod"!==f&&(_=O.div.neg()),"div"!==f&&(D=O.mod.neg(),w&&0!==D.negative&&D.iadd(l)),{div:_,mod:D}):0===this.negative&&0!==l.negative?(O=this.divmod(l.neg(),f),"mod"!==f&&(_=O.div.neg()),{div:_,mod:O.mod}):this.negative&l.negative?(O=this.neg().divmod(l.neg(),f),"div"!==f&&(D=O.mod.neg(),w&&0!==D.negative&&D.isub(l)),{div:O.div,mod:D}):l.length>this.length||this.cmp(l)<0?{div:new M(0),mod:this}:1===l.length?"div"===f?{div:this.divn(l.words[0]),mod:null}:"mod"===f?{div:null,mod:new M(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new M(this.modn(l.words[0]))}:this._wordDiv(l,f);var _,D,O},M.prototype.div=function(l){return this.divmod(l,"div",!1).div},M.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},M.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},M.prototype.divRound=function(l){var f=this.divmod(l);if(f.mod.isZero())return f.div;var w=0!==f.div.negative?f.mod.isub(l):f.mod,_=l.ushrn(1),D=l.andln(1),O=w.cmp(_);return O<0||1===D&&0===O?f.div:0!==f.div.negative?f.div.isubn(1):f.div.iaddn(1)},M.prototype.modn=function(l){N(l<=67108863);for(var f=(1<<26)%l,w=0,_=this.length-1;_>=0;_--)w=(f*w+(0|this.words[_]))%l;return w},M.prototype.idivn=function(l){N(l<=67108863);for(var f=0,w=this.length-1;w>=0;w--){var _=(0|this.words[w])+67108864*f;this.words[w]=_/l|0,f=_%l}return this.strip()},M.prototype.divn=function(l){return this.clone().idivn(l)},M.prototype.egcd=function(l){N(0===l.negative),N(!l.isZero());var f=this,w=l.clone();f=0!==f.negative?f.umod(l):f.clone();for(var _=new M(1),D=new M(0),O=new M(0),$=new M(1),T=0;f.isEven()&&w.isEven();)f.iushrn(1),w.iushrn(1),++T;for(var c=w.clone(),E=f.clone();!f.isZero();){for(var q=0,X=1;!(f.words[0]&X)&&q<26;++q,X<<=1);if(q>0)for(f.iushrn(q);q-- >0;)(_.isOdd()||D.isOdd())&&(_.iadd(c),D.isub(E)),_.iushrn(1),D.iushrn(1);for(var ce=0,me=1;!(w.words[0]&me)&&ce<26;++ce,me<<=1);if(ce>0)for(w.iushrn(ce);ce-- >0;)(O.isOdd()||$.isOdd())&&(O.iadd(c),$.isub(E)),O.iushrn(1),$.iushrn(1);f.cmp(w)>=0?(f.isub(w),_.isub(O),D.isub($)):(w.isub(f),O.isub(_),$.isub(D))}return{a:O,b:$,gcd:w.iushln(T)}},M.prototype._invmp=function(l){N(0===l.negative),N(!l.isZero());var q,f=this,w=l.clone();f=0!==f.negative?f.umod(l):f.clone();for(var _=new M(1),D=new M(0),O=w.clone();f.cmpn(1)>0&&w.cmpn(1)>0;){for(var $=0,T=1;!(f.words[0]&T)&&$<26;++$,T<<=1);if($>0)for(f.iushrn($);$-- >0;)_.isOdd()&&_.iadd(O),_.iushrn(1);for(var c=0,E=1;!(w.words[0]&E)&&c<26;++c,E<<=1);if(c>0)for(w.iushrn(c);c-- >0;)D.isOdd()&&D.iadd(O),D.iushrn(1);f.cmp(w)>=0?(f.isub(w),_.isub(D)):(w.isub(f),D.isub(_))}return(q=0===f.cmpn(1)?_:D).cmpn(0)<0&&q.iadd(l),q},M.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var f=this.clone(),w=l.clone();f.negative=0,w.negative=0;for(var _=0;f.isEven()&&w.isEven();_++)f.iushrn(1),w.iushrn(1);for(;;){for(;f.isEven();)f.iushrn(1);for(;w.isEven();)w.iushrn(1);var D=f.cmp(w);if(D<0){var O=f;f=w,w=O}else if(0===D||0===w.cmpn(1))break;f.isub(w)}return w.iushln(_)},M.prototype.invm=function(l){return this.egcd(l).a.umod(l)},M.prototype.isEven=function(){return!(1&this.words[0])},M.prototype.isOdd=function(){return!(1&~this.words[0])},M.prototype.andln=function(l){return this.words[0]&l},M.prototype.bincn=function(l){N("number"==typeof l);var f=l%26,w=(l-f)/26,_=1<<f;if(this.length<=w)return this._expand(w+1),this.words[w]|=_,this;for(var D=_,O=w;0!==D&&O<this.length;O++){var $=0|this.words[O];D=($+=D)>>>26,this.words[O]=$&=67108863}return 0!==D&&(this.words[O]=D,this.length++),this},M.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},M.prototype.cmpn=function(l){var w,f=l<0;if(0!==this.negative&&!f)return-1;if(0===this.negative&&f)return 1;if(this.strip(),this.length>1)w=1;else{f&&(l=-l),N(l<=67108863,"Number is too big");var _=0|this.words[0];w=_===l?0:_<l?-1:1}return 0!==this.negative?0|-w:w},M.prototype.cmp=function(l){if(0!==this.negative&&0===l.negative)return-1;if(0===this.negative&&0!==l.negative)return 1;var f=this.ucmp(l);return 0!==this.negative?0|-f:f},M.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var f=0,w=this.length-1;w>=0;w--){var _=0|this.words[w],D=0|l.words[w];if(_!==D){_<D?f=-1:_>D&&(f=1);break}}return f},M.prototype.gtn=function(l){return 1===this.cmpn(l)},M.prototype.gt=function(l){return 1===this.cmp(l)},M.prototype.gten=function(l){return this.cmpn(l)>=0},M.prototype.gte=function(l){return this.cmp(l)>=0},M.prototype.ltn=function(l){return-1===this.cmpn(l)},M.prototype.lt=function(l){return-1===this.cmp(l)},M.prototype.lten=function(l){return this.cmpn(l)<=0},M.prototype.lte=function(l){return this.cmp(l)<=0},M.prototype.eqn=function(l){return 0===this.cmpn(l)},M.prototype.eq=function(l){return 0===this.cmp(l)},M.red=function(l){return new Oe(l)},M.prototype.toRed=function(l){return N(!this.red,"Already a number in reduction context"),N(0===this.negative,"red works only with positives"),l.convertTo(this)._forceRed(l)},M.prototype.fromRed=function(){return N(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},M.prototype._forceRed=function(l){return this.red=l,this},M.prototype.forceRed=function(l){return N(!this.red,"Already a number in reduction context"),this._forceRed(l)},M.prototype.redAdd=function(l){return N(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},M.prototype.redIAdd=function(l){return N(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},M.prototype.redSub=function(l){return N(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},M.prototype.redISub=function(l){return N(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},M.prototype.redShl=function(l){return N(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},M.prototype.redMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},M.prototype.redIMul=function(l){return N(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},M.prototype.redSqr=function(){return N(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},M.prototype.redISqr=function(){return N(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},M.prototype.redSqrt=function(){return N(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},M.prototype.redInvm=function(){return N(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},M.prototype.redNeg=function(){return N(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},M.prototype.redPow=function(l){return N(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var ue={k256:null,p224:null,p192:null,p25519:null};function pe(B,l){this.name=B,this.p=new M(l,16),this.n=this.p.bitLength(),this.k=new M(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function he(){pe.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function ve(){pe.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ge(){pe.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function Me(){pe.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Oe(B){if("string"==typeof B){var l=M._prime(B);this.m=l.p,this.prime=l}else N(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}function je(B){Oe.call(this,B),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new M(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}pe.prototype._tmp=function(){var l=new M(null);return l.words=new Array(Math.ceil(this.n/13)),l},pe.prototype.ireduce=function(l){var w,f=l;do{this.split(f,this.tmp),w=(f=(f=this.imulK(f)).iadd(this.tmp)).bitLength()}while(w>this.n);var _=w<this.n?-1:f.ucmp(this.p);return 0===_?(f.words[0]=0,f.length=1):_>0?f.isub(this.p):void 0!==f.strip?f.strip():f._strip(),f},pe.prototype.split=function(l,f){l.iushrn(this.n,0,f)},pe.prototype.imulK=function(l){return l.imul(this.k)},Y(he,pe),he.prototype.split=function(l,f){for(var w=4194303,_=Math.min(l.length,9),D=0;D<_;D++)f.words[D]=l.words[D];if(f.length=_,l.length<=9)return l.words[0]=0,void(l.length=1);var O=l.words[9];for(f.words[f.length++]=O&w,D=10;D<l.length;D++){var $=0|l.words[D];l.words[D-10]=($&w)<<4|O>>>22,O=$}l.words[D-10]=O>>>=22,l.length-=0===O&&l.length>10?10:9},he.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var f=0,w=0;w<l.length;w++){var _=0|l.words[w];l.words[w]=67108863&(f+=977*_),f=64*_+(f/67108864|0)}return 0===l.words[l.length-1]&&(l.length--,0===l.words[l.length-1]&&l.length--),l},Y(ve,pe),Y(ge,pe),Y(Me,pe),Me.prototype.imulK=function(l){for(var f=0,w=0;w<l.length;w++){var _=19*(0|l.words[w])+f,D=67108863&_;_>>>=26,l.words[w]=D,f=_}return 0!==f&&(l.words[l.length++]=f),l},M._prime=function(l){if(ue[l])return ue[l];var f;if("k256"===l)f=new he;else if("p224"===l)f=new ve;else if("p192"===l)f=new ge;else{if("p25519"!==l)throw new Error("Unknown prime "+l);f=new Me}return ue[l]=f,f},Oe.prototype._verify1=function(l){N(0===l.negative,"red works only with positives"),N(l.red,"red works only with red numbers")},Oe.prototype._verify2=function(l,f){N(!(l.negative|f.negative),"red works only with positives"),N(l.red&&l.red===f.red,"red works only with red numbers")},Oe.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},Oe.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},Oe.prototype.add=function(l,f){this._verify2(l,f);var w=l.add(f);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},Oe.prototype.iadd=function(l,f){this._verify2(l,f);var w=l.iadd(f);return w.cmp(this.m)>=0&&w.isub(this.m),w},Oe.prototype.sub=function(l,f){this._verify2(l,f);var w=l.sub(f);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},Oe.prototype.isub=function(l,f){this._verify2(l,f);var w=l.isub(f);return w.cmpn(0)<0&&w.iadd(this.m),w},Oe.prototype.shl=function(l,f){return this._verify1(l),this.imod(l.ushln(f))},Oe.prototype.imul=function(l,f){return this._verify2(l,f),this.imod(l.imul(f))},Oe.prototype.mul=function(l,f){return this._verify2(l,f),this.imod(l.mul(f))},Oe.prototype.isqr=function(l){return this.imul(l,l.clone())},Oe.prototype.sqr=function(l){return this.mul(l,l)},Oe.prototype.sqrt=function(l){if(l.isZero())return l.clone();var f=this.m.andln(3);if(N(f%2==1),3===f){var w=this.m.add(new M(1)).iushrn(2);return this.pow(l,w)}for(var _=this.m.subn(1),D=0;!_.isZero()&&0===_.andln(1);)D++,_.iushrn(1);N(!_.isZero());var O=new M(1).toRed(this),$=O.redNeg(),T=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new M(2*c*c).toRed(this);0!==this.pow(c,T).cmp($);)c.redIAdd($);for(var E=this.pow(c,_),q=this.pow(l,_.addn(1).iushrn(1)),X=this.pow(l,_),ce=D;0!==X.cmp(O);){for(var me=X,Te=0;0!==me.cmp(O);Te++)me=me.redSqr();N(Te<ce);var Ke=this.pow(E,new M(1).iushln(ce-Te-1));q=q.redMul(Ke),E=Ke.redSqr(),X=X.redMul(E),ce=Te}return q},Oe.prototype.invm=function(l){var f=l._invmp(this.m);return 0!==f.negative?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},Oe.prototype.pow=function(l,f){if(f.isZero())return new M(1).toRed(this);if(0===f.cmpn(1))return l.clone();var _=new Array(16);_[0]=new M(1).toRed(this),_[1]=l;for(var D=2;D<_.length;D++)_[D]=this.mul(_[D-1],l);var O=_[0],$=0,T=0,c=f.bitLength()%26;for(0===c&&(c=26),D=f.length-1;D>=0;D--){for(var E=f.words[D],q=c-1;q>=0;q--){var X=E>>q&1;O!==_[0]&&(O=this.sqr(O)),0!==X||0!==$?($<<=1,$|=X,(4==++T||0===D&&0===q)&&(O=this.mul(O,_[$]),T=0,$=0)):T=0}c=26}return O},Oe.prototype.convertTo=function(l){var f=l.umod(this.m);return f===l?f.clone():f},Oe.prototype.convertFrom=function(l){var f=l.clone();return f.red=null,f},M.mont=function(l){return new je(l)},Y(je,Oe),je.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},je.prototype.convertFrom=function(l){var f=this.imod(l.mul(this.rinv));return f.red=null,f},je.prototype.imul=function(l,f){if(l.isZero()||f.isZero())return l.words[0]=0,l.length=1,l;var w=l.imul(f),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=w.isub(_).iushrn(this.shift),O=D;return D.cmp(this.m)>=0?O=D.isub(this.m):D.cmpn(0)<0&&(O=D.iadd(this.m)),O._forceRed(this)},je.prototype.mul=function(l,f){if(l.isZero()||f.isZero())return new M(0)._forceRed(this);var w=l.mul(f),_=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=w.isub(_).iushrn(this.shift),O=D;return D.cmp(this.m)>=0?O=D.isub(this.m):D.cmpn(0)<0&&(O=D.iadd(this.m)),O._forceRed(this)},je.prototype.invm=function(l){return this.imod(l._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ye=A.nmd(Ye),this)},98613:(Ye,J,A)=>{var h=A(65667),x=A(30715),N=A(37196),Y=A(16508),M=A(14105),j=A(67211),R=A(10568),U=A(27054).Buffer;Ye.exports=function(W,Q,de){var ae;ae=W.padding?W.padding:de?1:4;var ue,re=h(W),te=re.modulus.byteLength();if(Q.length>te||new Y(Q).cmp(re.modulus)>=0)throw new Error("decryption error");ue=de?R(new Y(Q),re):M(Q,re);var pe=U.alloc(te-ue.length);if(ue=U.concat([pe,ue],te),4===ae)return function H(ee,W){var Q=ee.modulus.byteLength(),de=j("sha1").update(U.alloc(0)).digest(),ae=de.length;if(0!==W[0])throw new Error("decryption error");var re=W.slice(1,ae+1),te=W.slice(ae+1),ue=N(re,x(te,ae)),pe=N(te,x(ue,Q-ae-1));if(function P(ee,W){ee=U.from(ee),W=U.from(W);var Q=0,de=ee.length;ee.length!==W.length&&(Q++,de=Math.min(ee.length,W.length));for(var ae=-1;++ae<de;)Q+=ee[ae]^W[ae];return Q}(de,pe.slice(0,ae)))throw new Error("decryption error");for(var he=ae;0===pe[he];)he++;if(1!==pe[he++])throw new Error("decryption error");return pe.slice(he)}(re,ue);if(1===ae)return function V(ee,W,Q){for(var de=W.slice(0,2),ae=2,re=0;0!==W[ae++];)if(ae>=W.length){re++;break}var te=W.slice(2,ae-1);if(("0002"!==de.toString("hex")&&!Q||"0001"!==de.toString("hex")&&Q)&&re++,te.length<8&&re++,re)throw new Error("decryption error");return W.slice(ae)}(0,ue,de);if(3===ae)return ue;throw new Error("unknown padding")}},87267:(Ye,J,A)=>{var h=A(65667),x=A(3342),N=A(67211),Y=A(30715),M=A(37196),j=A(16508),R=A(10568),U=A(14105),H=A(27054).Buffer;Ye.exports=function(Q,de,ae){var re;re=Q.padding?Q.padding:ae?1:4;var ue,te=h(Q);if(4===re)ue=function V(W,Q){var de=W.modulus.byteLength(),ae=Q.length,re=N("sha1").update(H.alloc(0)).digest(),te=re.length,ue=2*te;if(ae>de-ue-2)throw new Error("message too long");var pe=H.alloc(de-ae-ue-2),he=de-te-1,ve=x(te),ge=M(H.concat([re,pe,H.alloc(1,1),Q],he),Y(ve,he)),Me=M(ve,Y(ge,te));return new j(H.concat([H.alloc(1),Me,ge],de))}(te,de);else if(1===re)ue=function P(W,Q,de){var te,ae=Q.length,re=W.modulus.byteLength();if(ae>re-11)throw new Error("message too long");return te=de?H.alloc(re-ae-3,255):function ee(W){for(var te,Q=H.allocUnsafe(W),de=0,ae=x(2*W),re=0;de<W;)re===ae.length&&(ae=x(2*W),re=0),(te=ae[re++])&&(Q[de++]=te);return Q}(re-ae-3),new j(H.concat([H.from([0,de?1:2]),te,H.alloc(1),Q],re))}(te,de,ae);else{if(3!==re)throw new Error("unknown padding");if((ue=new j(de)).cmp(te.modulus)>=0)throw new Error("data too long for modulus")}return ae?U(ue,te):R(ue,te)}},10568:(Ye,J,A)=>{var h=A(16508),x=A(27054).Buffer;Ye.exports=function N(Y,M){return x.from(Y.toRed(h.mont(M.modulus)).redPow(new h(M.publicExponent)).fromRed().toArray())}},37196:Ye=>{Ye.exports=function(A,h){for(var x=A.length,N=-1;++N<x;)A[N]^=h[N];return A}},24515:Ye=>{let J;Ye.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:globalThis):A=>(J||(J=Promise.resolve())).then(A).catch(h=>setTimeout(()=>{throw h},0))},3342:(Ye,J,A)=>{"use strict";var h=A(40573),x=65536,M=A(27054).Buffer,j=globalThis.crypto||globalThis.msCrypto;Ye.exports=j&&j.getRandomValues?function R(U,H){if(U>4294967295)throw new RangeError("requested too many random bytes");var V=M.allocUnsafe(U);if(U>0)if(U>x)for(var P=0;P<U;P+=x)j.getRandomValues(V.slice(P,P+x));else j.getRandomValues(V);return"function"==typeof H?h.nextTick(function(){H(null,V)}):V}:function Y(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},9682:(Ye,J,A)=>{"use strict";var h=A(40573);function x(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var N=A(27054),Y=A(3342),M=N.Buffer,j=N.kMaxLength,R=globalThis.crypto||globalThis.msCrypto,U=Math.pow(2,32)-1;function H(Q,de){if("number"!=typeof Q||Q!=Q)throw new TypeError("offset must be a number");if(Q>U||Q<0)throw new TypeError("offset must be a uint32");if(Q>j||Q>de)throw new RangeError("offset out of range")}function V(Q,de,ae){if("number"!=typeof Q||Q!=Q)throw new TypeError("size must be a number");if(Q>U||Q<0)throw new TypeError("size must be a uint32");if(Q+de>ae||Q>j)throw new RangeError("buffer too small")}function ee(Q,de,ae,re){if(h.browser){var ue=new Uint8Array(Q.buffer,de,ae);return R.getRandomValues(ue),re?void h.nextTick(function(){re(null,Q)}):Q}if(!re)return Y(ae).copy(Q,de),Q;Y(ae,function(he,ve){if(he)return re(he);ve.copy(Q,de),re(null,Q)})}R&&R.getRandomValues||!h.browser?(J.randomFill=function P(Q,de,ae,re){if(!(M.isBuffer(Q)||Q instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof de)re=de,de=0,ae=Q.length;else if("function"==typeof ae)re=ae,ae=Q.length-de;else if("function"!=typeof re)throw new TypeError('"cb" argument must be a function');return H(de,Q.length),V(ae,de,Q.length),ee(Q,de,ae,re)},J.randomFillSync=function W(Q,de,ae){if(typeof de>"u"&&(de=0),!(M.isBuffer(Q)||Q instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return H(de,Q.length),void 0===ae&&(ae=Q.length-de),V(ae,de,Q.length),ee(Q,de,ae)}):(J.randomFill=x,J.randomFillSync=x)},26113:Ye=>{"use strict";var A={};function h(j,R,U){U||(U=Error);var V=function(P){function ee(W,Q,de){return P.call(this,function H(P,ee,W){return"string"==typeof R?R:R(P,ee,W)}(W,Q,de))||this}return function J(j,R){j.prototype=Object.create(R.prototype),j.prototype.constructor=j,j.__proto__=R}(ee,P),ee}(U);V.prototype.name=U.name,V.prototype.code=j,A[j]=V}function x(j,R){if(Array.isArray(j)){var U=j.length;return j=j.map(function(H){return String(H)}),U>2?"one of ".concat(R," ").concat(j.slice(0,U-1).join(", "),", or ")+j[U-1]:2===U?"one of ".concat(R," ").concat(j[0]," or ").concat(j[1]):"of ".concat(R," ").concat(j[0])}return"of ".concat(R," ").concat(String(j))}h("ERR_INVALID_OPT_VALUE",function(j,R){return'The value "'+R+'" is invalid for option "'+j+'"'},TypeError),h("ERR_INVALID_ARG_TYPE",function(j,R,U){var H,V;if("string"==typeof R&&function N(j,R,U){return j.substr(!U||U<0?0:+U,R.length)===R}(R,"not ")?(H="must not be",R=R.replace(/^not /,"")):H="must be",function Y(j,R,U){return(void 0===U||U>j.length)&&(U=j.length),j.substring(U-R.length,U)===R}(j," argument"))V="The ".concat(j," ").concat(H," ").concat(x(R,"type"));else{var P=function M(j,R,U){return"number"!=typeof U&&(U=0),!(U+R.length>j.length)&&-1!==j.indexOf(R,U)}(j,".")?"property":"argument";V='The "'.concat(j,'" ').concat(P," ").concat(H," ").concat(x(R,"type"))}return V+". Received type ".concat(typeof U)},TypeError),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),h("ERR_METHOD_NOT_IMPLEMENTED",function(j){return"The "+j+" method is not implemented"}),h("ERR_STREAM_PREMATURE_CLOSE","Premature close"),h("ERR_STREAM_DESTROYED",function(j){return"Cannot call "+j+" after a stream was destroyed"}),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),h("ERR_STREAM_WRITE_AFTER_END","write after end"),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_UNKNOWN_ENCODING",function(j){return"Unknown encoding: "+j},TypeError),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ye.exports.F=A},74075:(Ye,J,A)=>{"use strict";var h=A(40573),x=Object.keys||function(P){var ee=[];for(var W in P)ee.push(W);return ee};Ye.exports=U;var N=A(19609),Y=A(47849);A(71993)(U,N);for(var M=x(Y.prototype),j=0;j<M.length;j++){var R=M[j];U.prototype[R]||(U.prototype[R]=Y.prototype[R])}function U(P){if(!(this instanceof U))return new U(P);N.call(this,P),Y.call(this,P),this.allowHalfOpen=!0,P&&(!1===P.readable&&(this.readable=!1),!1===P.writable&&(this.writable=!1),!1===P.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",H)))}function H(){this._writableState.ended||h.nextTick(V,this)}function V(P){P.end()}Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ee){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=ee,this._writableState.destroyed=ee)}})},18823:(Ye,J,A)=>{"use strict";Ye.exports=x;var h=A(2909);function x(N){if(!(this instanceof x))return new x(N);h.call(this,N)}A(71993)(x,h),x.prototype._transform=function(N,Y,M){M(null,N)}},19609:(Ye,J,A)=>{"use strict";var x,h=A(40573);Ye.exports=l,l.ReadableState=B,A(44356);var P,Y=function(be,oe){return be.listeners(oe).length},M=A(18342),j=A(83838).Buffer,R=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},V=A(79838);P=V&&V.debuglog?V.debuglog("stream"):function(){};var he,ve,ge,ee=A(19588),W=A(21509),de=A(42934).getHighWaterMark,ae=A(26113).F,re=ae.ERR_INVALID_ARG_TYPE,te=ae.ERR_STREAM_PUSH_AFTER_EOF,ue=ae.ERR_METHOD_NOT_IMPLEMENTED,pe=ae.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;A(71993)(l,M);var Me=W.errorOrDestroy,Oe=["error","close","destroy","pause","resume"];function B(Ee,be,oe){x=x||A(74075),"boolean"!=typeof oe&&(oe=be instanceof x),this.objectMode=!!(Ee=Ee||{}).objectMode,oe&&(this.objectMode=this.objectMode||!!Ee.readableObjectMode),this.highWaterMark=de(this,Ee,"readableHighWaterMark",oe),this.buffer=new ee,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==Ee.emitClose,this.autoDestroy=!!Ee.autoDestroy,this.destroyed=!1,this.defaultEncoding=Ee.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Ee.encoding&&(he||(he=A(78454).StringDecoder),this.decoder=new he(Ee.encoding),this.encoding=Ee.encoding)}function l(Ee){if(x=x||A(74075),!(this instanceof l))return new l(Ee);this._readableState=new B(Ee,this,this instanceof x),this.readable=!0,Ee&&("function"==typeof Ee.read&&(this._read=Ee.read),"function"==typeof Ee.destroy&&(this._destroy=Ee.destroy)),M.call(this)}function f(Ee,be,oe,fe,we){P("readableAddChunk",be);var $e,De=Ee._readableState;if(null===be)De.reading=!1,function T(Ee,be){if(P("onEofChunk"),!be.ended){if(be.decoder){var oe=be.decoder.end();oe&&oe.length&&(be.buffer.push(oe),be.length+=be.objectMode?1:oe.length)}be.ended=!0,be.sync?c(Ee):(be.needReadable=!1,be.emittedReadable||(be.emittedReadable=!0,E(Ee)))}}(Ee,De);else if(we||($e=function _(Ee,be){var oe;return!function H(Ee){return j.isBuffer(Ee)||Ee instanceof R}(be)&&"string"!=typeof be&&void 0!==be&&!Ee.objectMode&&(oe=new re("chunk",["string","Buffer","Uint8Array"],be)),oe}(De,be)),$e)Me(Ee,$e);else if(De.objectMode||be&&be.length>0)if("string"!=typeof be&&!De.objectMode&&Object.getPrototypeOf(be)!==j.prototype&&(be=function U(Ee){return j.from(Ee)}(be)),fe)De.endEmitted?Me(Ee,new pe):w(Ee,De,be,!0);else if(De.ended)Me(Ee,new te);else{if(De.destroyed)return!1;De.reading=!1,De.decoder&&!oe?(be=De.decoder.write(be),De.objectMode||0!==be.length?w(Ee,De,be,!1):q(Ee,De)):w(Ee,De,be,!1)}else fe||(De.reading=!1,q(Ee,De));return!De.ended&&(De.length<De.highWaterMark||0===De.length)}function w(Ee,be,oe,fe){be.flowing&&0===be.length&&!be.sync?(be.awaitDrain=0,Ee.emit("data",oe)):(be.length+=be.objectMode?1:oe.length,fe?be.buffer.unshift(oe):be.buffer.push(oe),be.needReadable&&c(Ee)),q(Ee,be)}Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(be){this._readableState&&(this._readableState.destroyed=be)}}),l.prototype.destroy=W.destroy,l.prototype._undestroy=W.undestroy,l.prototype._destroy=function(Ee,be){be(Ee)},l.prototype.push=function(Ee,be){var fe,oe=this._readableState;return oe.objectMode?fe=!0:"string"==typeof Ee&&((be=be||oe.defaultEncoding)!==oe.encoding&&(Ee=j.from(Ee,be),be=""),fe=!0),f(this,Ee,be,!1,fe)},l.prototype.unshift=function(Ee){return f(this,Ee,null,!0,!1)},l.prototype.isPaused=function(){return!1===this._readableState.flowing},l.prototype.setEncoding=function(Ee){he||(he=A(78454).StringDecoder);var be=new he(Ee);this._readableState.decoder=be,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,fe="";null!==oe;)fe+=be.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),""!==fe&&this._readableState.buffer.push(fe),this._readableState.length=fe.length,this};var D=1073741824;function $(Ee,be){return Ee<=0||0===be.length&&be.ended?0:be.objectMode?1:Ee!=Ee?be.flowing&&be.length?be.buffer.head.data.length:be.length:(Ee>be.highWaterMark&&(be.highWaterMark=function O(Ee){return Ee>=D?Ee=D:(Ee--,Ee|=Ee>>>1,Ee|=Ee>>>2,Ee|=Ee>>>4,Ee|=Ee>>>8,Ee|=Ee>>>16,Ee++),Ee}(Ee)),Ee<=be.length?Ee:be.ended?be.length:(be.needReadable=!0,0))}function c(Ee){var be=Ee._readableState;P("emitReadable",be.needReadable,be.emittedReadable),be.needReadable=!1,be.emittedReadable||(P("emitReadable",be.flowing),be.emittedReadable=!0,h.nextTick(E,Ee))}function E(Ee){var be=Ee._readableState;P("emitReadable_",be.destroyed,be.length,be.ended),!be.destroyed&&(be.length||be.ended)&&(Ee.emit("readable"),be.emittedReadable=!1),be.needReadable=!be.flowing&&!be.ended&&be.length<=be.highWaterMark,ke(Ee)}function q(Ee,be){be.readingMore||(be.readingMore=!0,h.nextTick(X,Ee,be))}function X(Ee,be){for(;!be.reading&&!be.ended&&(be.length<be.highWaterMark||be.flowing&&0===be.length);){var oe=be.length;if(P("maybeReadMore read 0"),Ee.read(0),oe===be.length)break}be.readingMore=!1}function me(Ee){var be=Ee._readableState;be.readableListening=Ee.listenerCount("readable")>0,be.resumeScheduled&&!be.paused?be.flowing=!0:Ee.listenerCount("data")>0&&Ee.resume()}function Te(Ee){P("readable nexttick read 0"),Ee.read(0)}function Qe(Ee,be){P("resume",be.reading),be.reading||Ee.read(0),be.resumeScheduled=!1,Ee.emit("resume"),ke(Ee),be.flowing&&!be.reading&&Ee.read(0)}function ke(Ee){var be=Ee._readableState;for(P("flow",be.flowing);be.flowing&&null!==Ee.read(););}function Ie(Ee,be){return 0===be.length?null:(be.objectMode?oe=be.buffer.shift():!Ee||Ee>=be.length?(oe=be.decoder?be.buffer.join(""):1===be.buffer.length?be.buffer.first():be.buffer.concat(be.length),be.buffer.clear()):oe=be.buffer.consume(Ee,be.decoder),oe);var oe}function Xe(Ee){var be=Ee._readableState;P("endReadable",be.endEmitted),be.endEmitted||(be.ended=!0,h.nextTick(Se,be,Ee))}function Se(Ee,be){if(P("endReadableNT",Ee.endEmitted,Ee.length),!Ee.endEmitted&&0===Ee.length&&(Ee.endEmitted=!0,be.readable=!1,be.emit("end"),Ee.autoDestroy)){var oe=be._writableState;(!oe||oe.autoDestroy&&oe.finished)&&be.destroy()}}function Le(Ee,be){for(var oe=0,fe=Ee.length;oe<fe;oe++)if(Ee[oe]===be)return oe;return-1}l.prototype.read=function(Ee){P("read",Ee),Ee=parseInt(Ee,10);var be=this._readableState,oe=Ee;if(0!==Ee&&(be.emittedReadable=!1),0===Ee&&be.needReadable&&((0!==be.highWaterMark?be.length>=be.highWaterMark:be.length>0)||be.ended))return P("read: emitReadable",be.length,be.ended),0===be.length&&be.ended?Xe(this):c(this),null;if(0===(Ee=$(Ee,be))&&be.ended)return 0===be.length&&Xe(this),null;var we,fe=be.needReadable;return P("need readable",fe),(0===be.length||be.length-Ee<be.highWaterMark)&&P("length less than watermark",fe=!0),be.ended||be.reading?P("reading or ended",fe=!1):fe&&(P("do read"),be.reading=!0,be.sync=!0,0===be.length&&(be.needReadable=!0),this._read(be.highWaterMark),be.sync=!1,be.reading||(Ee=$(oe,be))),null===(we=Ee>0?Ie(Ee,be):null)?(be.needReadable=be.length<=be.highWaterMark,Ee=0):(be.length-=Ee,be.awaitDrain=0),0===be.length&&(be.ended||(be.needReadable=!0),oe!==Ee&&be.ended&&Xe(this)),null!==we&&this.emit("data",we),we},l.prototype._read=function(Ee){Me(this,new ue("_read()"))},l.prototype.pipe=function(Ee,be){var oe=this,fe=this._readableState;switch(fe.pipesCount){case 0:fe.pipes=Ee;break;case 1:fe.pipes=[fe.pipes,Ee];break;default:fe.pipes.push(Ee)}fe.pipesCount+=1,P("pipe count=%d opts=%j",fe.pipesCount,be);var De=be&&!1===be.end||Ee===h.stdout||Ee===h.stderr?b:Je;function Je(){P("onend"),Ee.end()}fe.endEmitted?h.nextTick(De):oe.once("end",De),Ee.on("unpipe",function $e(z,le){P("onunpipe"),z===oe&&le&&!1===le.hasUnpiped&&(le.hasUnpiped=!0,function nt(){P("cleanup"),Ee.removeListener("close",K),Ee.removeListener("finish",C),Ee.removeListener("drain",Ze),Ee.removeListener("error",Et),Ee.removeListener("unpipe",$e),oe.removeListener("end",Je),oe.removeListener("end",b),oe.removeListener("data",Ge),Pt=!0,fe.awaitDrain&&(!Ee._writableState||Ee._writableState.needDrain)&&Ze()}())});var Ze=function ce(Ee){return function(){var oe=Ee._readableState;P("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,0===oe.awaitDrain&&Y(Ee,"data")&&(oe.flowing=!0,ke(Ee))}}(oe);Ee.on("drain",Ze);var Pt=!1;function Ge(z){P("ondata");var le=Ee.write(z);P("dest.write",le),!1===le&&((1===fe.pipesCount&&fe.pipes===Ee||fe.pipesCount>1&&-1!==Le(fe.pipes,Ee))&&!Pt&&(P("false write response, pause",fe.awaitDrain),fe.awaitDrain++),oe.pause())}function Et(z){P("onerror",z),b(),Ee.removeListener("error",Et),0===Y(Ee,"error")&&Me(Ee,z)}function K(){Ee.removeListener("finish",C),b()}function C(){P("onfinish"),Ee.removeListener("close",K),b()}function b(){P("unpipe"),oe.unpipe(Ee)}return oe.on("data",Ge),function je(Ee,be,oe){if("function"==typeof Ee.prependListener)return Ee.prependListener(be,oe);Ee._events&&Ee._events[be]?Array.isArray(Ee._events[be])?Ee._events[be].unshift(oe):Ee._events[be]=[oe,Ee._events[be]]:Ee.on(be,oe)}(Ee,"error",Et),Ee.once("close",K),Ee.once("finish",C),Ee.emit("pipe",oe),fe.flowing||(P("pipe resume"),oe.resume()),Ee},l.prototype.unpipe=function(Ee){var be=this._readableState,oe={hasUnpiped:!1};if(0===be.pipesCount)return this;if(1===be.pipesCount)return Ee&&Ee!==be.pipes||(Ee||(Ee=be.pipes),be.pipes=null,be.pipesCount=0,be.flowing=!1,Ee&&Ee.emit("unpipe",this,oe)),this;if(!Ee){var fe=be.pipes,we=be.pipesCount;be.pipes=null,be.pipesCount=0,be.flowing=!1;for(var De=0;De<we;De++)fe[De].emit("unpipe",this,{hasUnpiped:!1});return this}var $e=Le(be.pipes,Ee);return-1===$e||(be.pipes.splice($e,1),be.pipesCount-=1,1===be.pipesCount&&(be.pipes=be.pipes[0]),Ee.emit("unpipe",this,oe)),this},l.prototype.addListener=l.prototype.on=function(Ee,be){var oe=M.prototype.on.call(this,Ee,be),fe=this._readableState;return"data"===Ee?(fe.readableListening=this.listenerCount("readable")>0,!1!==fe.flowing&&this.resume()):"readable"===Ee&&!fe.endEmitted&&!fe.readableListening&&(fe.readableListening=fe.needReadable=!0,fe.flowing=!1,fe.emittedReadable=!1,P("on readable",fe.length,fe.reading),fe.length?c(this):fe.reading||h.nextTick(Te,this)),oe},l.prototype.removeListener=function(Ee,be){var oe=M.prototype.removeListener.call(this,Ee,be);return"readable"===Ee&&h.nextTick(me,this),oe},l.prototype.removeAllListeners=function(Ee){var be=M.prototype.removeAllListeners.apply(this,arguments);return("readable"===Ee||void 0===Ee)&&h.nextTick(me,this),be},l.prototype.resume=function(){var Ee=this._readableState;return Ee.flowing||(P("resume"),Ee.flowing=!Ee.readableListening,function Ke(Ee,be){be.resumeScheduled||(be.resumeScheduled=!0,h.nextTick(Qe,Ee,be))}(this,Ee)),Ee.paused=!1,this},l.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},l.prototype.wrap=function(Ee){var be=this,oe=this._readableState,fe=!1;for(var we in Ee.on("end",function(){if(P("wrapped end"),oe.decoder&&!oe.ended){var $e=oe.decoder.end();$e&&$e.length&&be.push($e)}be.push(null)}),Ee.on("data",function($e){P("wrapped data"),oe.decoder&&($e=oe.decoder.write($e)),oe.objectMode&&null==$e||!(oe.objectMode||$e&&$e.length)||be.push($e)||(fe=!0,Ee.pause())}),Ee)void 0===this[we]&&"function"==typeof Ee[we]&&(this[we]=function(Je){return function(){return Ee[Je].apply(Ee,arguments)}}(we));for(var De=0;De<Oe.length;De++)Ee.on(Oe[De],this.emit.bind(this,Oe[De]));return this._read=function($e){P("wrapped _read",$e),fe&&(fe=!1,Ee.resume())},this},"function"==typeof Symbol&&(l.prototype[Symbol.asyncIterator]=function(){return void 0===ve&&(ve=A(6320)),ve(this)}),Object.defineProperty(l.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(l.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(l.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(be){this._readableState&&(this._readableState.flowing=be)}}),l._fromList=Ie,Object.defineProperty(l.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(l.from=function(Ee,be){return void 0===ge&&(ge=A(87654)),ge(l,Ee,be)})},2909:(Ye,J,A)=>{"use strict";Ye.exports=U;var h=A(26113).F,x=h.ERR_METHOD_NOT_IMPLEMENTED,N=h.ERR_MULTIPLE_CALLBACK,Y=h.ERR_TRANSFORM_ALREADY_TRANSFORMING,M=h.ERR_TRANSFORM_WITH_LENGTH_0,j=A(74075);function R(P,ee){var W=this._transformState;W.transforming=!1;var Q=W.writecb;if(null===Q)return this.emit("error",new N);W.writechunk=null,W.writecb=null,null!=ee&&this.push(ee),Q(P);var de=this._readableState;de.reading=!1,(de.needReadable||de.length<de.highWaterMark)&&this._read(de.highWaterMark)}function U(P){if(!(this instanceof U))return new U(P);j.call(this,P),this._transformState={afterTransform:R.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,P&&("function"==typeof P.transform&&(this._transform=P.transform),"function"==typeof P.flush&&(this._flush=P.flush)),this.on("prefinish",H)}function H(){var P=this;"function"!=typeof this._flush||this._readableState.destroyed?V(this,null,null):this._flush(function(ee,W){V(P,ee,W)})}function V(P,ee,W){if(ee)return P.emit("error",ee);if(null!=W&&P.push(W),P._writableState.length)throw new M;if(P._transformState.transforming)throw new Y;return P.push(null)}A(71993)(U,j),U.prototype.push=function(P,ee){return this._transformState.needTransform=!1,j.prototype.push.call(this,P,ee)},U.prototype._transform=function(P,ee,W){W(new x("_transform()"))},U.prototype._write=function(P,ee,W){var Q=this._transformState;if(Q.writecb=W,Q.writechunk=P,Q.writeencoding=ee,!Q.transforming){var de=this._readableState;(Q.needTransform||de.needReadable||de.length<de.highWaterMark)&&this._read(de.highWaterMark)}},U.prototype._read=function(P){var ee=this._transformState;null===ee.writechunk||ee.transforming?ee.needTransform=!0:(ee.transforming=!0,this._transform(ee.writechunk,ee.writeencoding,ee.afterTransform))},U.prototype._destroy=function(P,ee){j.prototype._destroy.call(this,P,function(W){ee(W)})}},47849:(Ye,J,A)=>{"use strict";var Y,h=A(40573);function N(ke){var Ie=this;this.next=null,this.entry=null,this.finish=function(){!function Qe(ke,Ie,Xe){var Se=ke.entry;for(ke.entry=null;Se;){var Le=Se.callback;Ie.pendingcb--,Le(Xe),Se=Se.next}Ie.corkedRequestsFree.next=ke}(Ie,ke)}}Ye.exports=B,B.WritableState=Oe;var je,M={deprecate:A(3398)},j=A(18342),R=A(83838).Buffer,U=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},P=A(21509),W=A(42934).getHighWaterMark,Q=A(26113).F,de=Q.ERR_INVALID_ARG_TYPE,ae=Q.ERR_METHOD_NOT_IMPLEMENTED,re=Q.ERR_MULTIPLE_CALLBACK,te=Q.ERR_STREAM_CANNOT_PIPE,ue=Q.ERR_STREAM_DESTROYED,pe=Q.ERR_STREAM_NULL_VALUES,he=Q.ERR_STREAM_WRITE_AFTER_END,ve=Q.ERR_UNKNOWN_ENCODING,ge=P.errorOrDestroy;function Me(){}function Oe(ke,Ie,Xe){Y=Y||A(74075),"boolean"!=typeof Xe&&(Xe=Ie instanceof Y),this.objectMode=!!(ke=ke||{}).objectMode,Xe&&(this.objectMode=this.objectMode||!!ke.writableObjectMode),this.highWaterMark=W(this,ke,"writableHighWaterMark",Xe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===ke.decodeStrings),this.defaultEncoding=ke.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Le){!function T(ke,Ie){var Xe=ke._writableState,Se=Xe.sync,Le=Xe.writecb;if("function"!=typeof Le)throw new re;if(function $(ke){ke.writing=!1,ke.writecb=null,ke.length-=ke.writelen,ke.writelen=0}(Xe),Ie)!function O(ke,Ie,Xe,Se,Le){--Ie.pendingcb,Xe?(h.nextTick(Le,Se),h.nextTick(Te,ke,Ie),ke._writableState.errorEmitted=!0,ge(ke,Se)):(Le(Se),ke._writableState.errorEmitted=!0,ge(ke,Se),Te(ke,Ie))}(ke,Xe,Se,Ie,Le);else{var Ee=X(Xe)||ke.destroyed;!Ee&&!Xe.corked&&!Xe.bufferProcessing&&Xe.bufferedRequest&&q(ke,Xe),Se?h.nextTick(c,ke,Xe,Ee,Le):c(ke,Xe,Ee,Le)}}(Ie,Le)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==ke.emitClose,this.autoDestroy=!!ke.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new N(this)}function B(ke){var Ie=this instanceof(Y=Y||A(74075));if(!Ie&&!je.call(B,this))return new B(ke);this._writableState=new Oe(ke,this,Ie),this.writable=!0,ke&&("function"==typeof ke.write&&(this._write=ke.write),"function"==typeof ke.writev&&(this._writev=ke.writev),"function"==typeof ke.destroy&&(this._destroy=ke.destroy),"function"==typeof ke.final&&(this._final=ke.final)),j.call(this)}function D(ke,Ie,Xe,Se,Le,Ee,be){Ie.writelen=Se,Ie.writecb=be,Ie.writing=!0,Ie.sync=!0,Ie.destroyed?Ie.onwrite(new ue("write")):Xe?ke._writev(Le,Ie.onwrite):ke._write(Le,Ee,Ie.onwrite),Ie.sync=!1}function c(ke,Ie,Xe,Se){Xe||function E(ke,Ie){0===Ie.length&&Ie.needDrain&&(Ie.needDrain=!1,ke.emit("drain"))}(ke,Ie),Ie.pendingcb--,Se(),Te(ke,Ie)}function q(ke,Ie){Ie.bufferProcessing=!0;var Xe=Ie.bufferedRequest;if(ke._writev&&Xe&&Xe.next){var Le=new Array(Ie.bufferedRequestCount),Ee=Ie.corkedRequestsFree;Ee.entry=Xe;for(var be=0,oe=!0;Xe;)Le[be]=Xe,Xe.isBuf||(oe=!1),Xe=Xe.next,be+=1;Le.allBuffers=oe,D(ke,Ie,!0,Ie.length,Le,"",Ee.finish),Ie.pendingcb++,Ie.lastBufferedRequest=null,Ee.next?(Ie.corkedRequestsFree=Ee.next,Ee.next=null):Ie.corkedRequestsFree=new N(Ie),Ie.bufferedRequestCount=0}else{for(;Xe;){var fe=Xe.chunk;if(D(ke,Ie,!1,Ie.objectMode?1:fe.length,fe,Xe.encoding,Xe.callback),Xe=Xe.next,Ie.bufferedRequestCount--,Ie.writing)break}null===Xe&&(Ie.lastBufferedRequest=null)}Ie.bufferedRequest=Xe,Ie.bufferProcessing=!1}function X(ke){return ke.ending&&0===ke.length&&null===ke.bufferedRequest&&!ke.finished&&!ke.writing}function ce(ke,Ie){ke._final(function(Xe){Ie.pendingcb--,Xe&&ge(ke,Xe),Ie.prefinished=!0,ke.emit("prefinish"),Te(ke,Ie)})}function Te(ke,Ie){var Xe=X(Ie);if(Xe&&(function me(ke,Ie){!Ie.prefinished&&!Ie.finalCalled&&("function"!=typeof ke._final||Ie.destroyed?(Ie.prefinished=!0,ke.emit("prefinish")):(Ie.pendingcb++,Ie.finalCalled=!0,h.nextTick(ce,ke,Ie)))}(ke,Ie),0===Ie.pendingcb&&(Ie.finished=!0,ke.emit("finish"),Ie.autoDestroy))){var Se=ke._readableState;(!Se||Se.autoDestroy&&Se.endEmitted)&&ke.destroy()}return Xe}A(71993)(B,j),Oe.prototype.getBuffer=function(){for(var Ie=this.bufferedRequest,Xe=[];Ie;)Xe.push(Ie),Ie=Ie.next;return Xe},function(){try{Object.defineProperty(Oe.prototype,"buffer",{get:M.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(je=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(Ie){return!!je.call(this,Ie)||this===B&&Ie&&Ie._writableState instanceof Oe}})):je=function(Ie){return Ie instanceof this},B.prototype.pipe=function(){ge(this,new te)},B.prototype.write=function(ke,Ie,Xe){var Se=this._writableState,Le=!1,Ee=!Se.objectMode&&function V(ke){return R.isBuffer(ke)||ke instanceof U}(ke);return Ee&&!R.isBuffer(ke)&&(ke=function H(ke){return R.from(ke)}(ke)),"function"==typeof Ie&&(Xe=Ie,Ie=null),Ee?Ie="buffer":Ie||(Ie=Se.defaultEncoding),"function"!=typeof Xe&&(Xe=Me),Se.ending?function l(ke,Ie){var Xe=new he;ge(ke,Xe),h.nextTick(Ie,Xe)}(this,Xe):(Ee||function f(ke,Ie,Xe,Se){var Le;return null===Xe?Le=new pe:"string"!=typeof Xe&&!Ie.objectMode&&(Le=new de("chunk",["string","Buffer"],Xe)),!Le||(ge(ke,Le),h.nextTick(Se,Le),!1)}(this,Se,ke,Xe))&&(Se.pendingcb++,Le=function _(ke,Ie,Xe,Se,Le,Ee){if(!Xe){var be=function w(ke,Ie,Xe){return!ke.objectMode&&!1!==ke.decodeStrings&&"string"==typeof Ie&&(Ie=R.from(Ie,Xe)),Ie}(Ie,Se,Le);Se!==be&&(Xe=!0,Le="buffer",Se=be)}var oe=Ie.objectMode?1:Se.length;Ie.length+=oe;var fe=Ie.length<Ie.highWaterMark;if(fe||(Ie.needDrain=!0),Ie.writing||Ie.corked){var we=Ie.lastBufferedRequest;Ie.lastBufferedRequest={chunk:Se,encoding:Le,isBuf:Xe,callback:Ee,next:null},we?we.next=Ie.lastBufferedRequest:Ie.bufferedRequest=Ie.lastBufferedRequest,Ie.bufferedRequestCount+=1}else D(ke,Ie,!1,oe,Se,Le,Ee);return fe}(this,Se,Ee,ke,Ie,Xe)),Le},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var ke=this._writableState;ke.corked&&(ke.corked--,!ke.writing&&!ke.corked&&!ke.bufferProcessing&&ke.bufferedRequest&&q(this,ke))},B.prototype.setDefaultEncoding=function(Ie){if("string"==typeof Ie&&(Ie=Ie.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ie+"").toLowerCase())>-1))throw new ve(Ie);return this._writableState.defaultEncoding=Ie,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),B.prototype._write=function(ke,Ie,Xe){Xe(new ae("_write()"))},B.prototype._writev=null,B.prototype.end=function(ke,Ie,Xe){var Se=this._writableState;return"function"==typeof ke?(Xe=ke,ke=null,Ie=null):"function"==typeof Ie&&(Xe=Ie,Ie=null),null!=ke&&this.write(ke,Ie),Se.corked&&(Se.corked=1,this.uncork()),Se.ending||function Ke(ke,Ie,Xe){Ie.ending=!0,Te(ke,Ie),Xe&&(Ie.finished?h.nextTick(Xe):ke.once("finish",Xe)),Ie.ended=!0,ke.writable=!1}(this,Se,Xe),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Ie){this._writableState&&(this._writableState.destroyed=Ie)}}),B.prototype.destroy=P.destroy,B.prototype._undestroy=P.undestroy,B.prototype._destroy=function(ke,Ie){Ie(ke)}},6320:(Ye,J,A)=>{"use strict";var x,h=A(40573);function N(he,ve,ge){return ve=function Y(he){var ve=function M(he,ve){if("object"!=typeof he||null===he)return he;var ge=he[Symbol.toPrimitive];if(void 0!==ge){var Me=ge.call(he,ve||"default");if("object"!=typeof Me)return Me;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ve?String:Number)(he)}(he,"string");return"symbol"==typeof ve?ve:String(ve)}(ve),ve in he?Object.defineProperty(he,ve,{value:ge,enumerable:!0,configurable:!0,writable:!0}):he[ve]=ge,he}var j=A(33139),R=Symbol("lastResolve"),U=Symbol("lastReject"),H=Symbol("error"),V=Symbol("ended"),P=Symbol("lastPromise"),ee=Symbol("handlePromise"),W=Symbol("stream");function Q(he,ve){return{value:he,done:ve}}function de(he){var ve=he[R];if(null!==ve){var ge=he[W].read();null!==ge&&(he[P]=null,he[R]=null,he[U]=null,ve(Q(ge,!1)))}}function ae(he){h.nextTick(de,he)}var te=Object.getPrototypeOf(function(){}),ue=Object.setPrototypeOf((N(x={get stream(){return this[W]},next:function(){var ve=this,ge=this[H];if(null!==ge)return Promise.reject(ge);if(this[V])return Promise.resolve(Q(void 0,!0));if(this[W].destroyed)return new Promise(function(B,l){h.nextTick(function(){ve[H]?l(ve[H]):B(Q(void 0,!0))})});var Oe,Me=this[P];if(Me)Oe=new Promise(function re(he,ve){return function(ge,Me){he.then(function(){ve[V]?ge(Q(void 0,!0)):ve[ee](ge,Me)},Me)}}(Me,this));else{var je=this[W].read();if(null!==je)return Promise.resolve(Q(je,!1));Oe=new Promise(this[ee])}return this[P]=Oe,Oe}},Symbol.asyncIterator,function(){return this}),N(x,"return",function(){var ve=this;return new Promise(function(ge,Me){ve[W].destroy(null,function(Oe){Oe?Me(Oe):ge(Q(void 0,!0))})})}),x),te);Ye.exports=function(ve){var ge,Me=Object.create(ue,(N(ge={},W,{value:ve,writable:!0}),N(ge,R,{value:null,writable:!0}),N(ge,U,{value:null,writable:!0}),N(ge,H,{value:null,writable:!0}),N(ge,V,{value:ve._readableState.endEmitted,writable:!0}),N(ge,ee,{value:function(je,B){var l=Me[W].read();l?(Me[P]=null,Me[R]=null,Me[U]=null,je(Q(l,!1))):(Me[R]=je,Me[U]=B)},writable:!0}),ge));return Me[P]=null,j(ve,function(Oe){if(Oe&&"ERR_STREAM_PREMATURE_CLOSE"!==Oe.code){var je=Me[U];return null!==je&&(Me[P]=null,Me[R]=null,Me[U]=null,je(Oe)),void(Me[H]=Oe)}var B=Me[R];null!==B&&(Me[P]=null,Me[R]=null,Me[U]=null,B(Q(void 0,!0))),Me[V]=!0}),ve.on("readable",ae.bind(null,Me)),Me}},19588:(Ye,J,A)=>{"use strict";function h(de,ae){var re=Object.keys(de);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(de);ae&&(te=te.filter(function(ue){return Object.getOwnPropertyDescriptor(de,ue).enumerable})),re.push.apply(re,te)}return re}function x(de){for(var ae=1;ae<arguments.length;ae++){var re=null!=arguments[ae]?arguments[ae]:{};ae%2?h(Object(re),!0).forEach(function(te){N(de,te,re[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(de,Object.getOwnPropertyDescriptors(re)):h(Object(re)).forEach(function(te){Object.defineProperty(de,te,Object.getOwnPropertyDescriptor(re,te))})}return de}function N(de,ae,re){return(ae=R(ae))in de?Object.defineProperty(de,ae,{value:re,enumerable:!0,configurable:!0,writable:!0}):de[ae]=re,de}function M(de,ae){for(var re=0;re<ae.length;re++){var te=ae[re];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(de,R(te.key),te)}}function R(de){var ae=function U(de,ae){if("object"!=typeof de||null===de)return de;var re=de[Symbol.toPrimitive];if(void 0!==re){var te=re.call(de,ae||"default");if("object"!=typeof te)return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ae?String:Number)(de)}(de,"string");return"symbol"==typeof ae?ae:String(ae)}var V=A(83838).Buffer,ee=A(15340).inspect,W=ee&&ee.custom||"inspect";function Q(de,ae,re){V.prototype.copy.call(de,ae,re)}Ye.exports=function(){function de(){(function Y(de,ae){if(!(de instanceof ae))throw new TypeError("Cannot call a class as a function")})(this,de),this.head=null,this.tail=null,this.length=0}return function j(de,ae,re){ae&&M(de.prototype,ae),re&&M(de,re),Object.defineProperty(de,"prototype",{writable:!1})}(de,[{key:"push",value:function(re){var te={data:re,next:null};this.length>0?this.tail.next=te:this.head=te,this.tail=te,++this.length}},{key:"unshift",value:function(re){var te={data:re,next:this.head};0===this.length&&(this.tail=te),this.head=te,++this.length}},{key:"shift",value:function(){if(0!==this.length){var re=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,re}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(re){if(0===this.length)return"";for(var te=this.head,ue=""+te.data;te=te.next;)ue+=re+te.data;return ue}},{key:"concat",value:function(re){if(0===this.length)return V.alloc(0);for(var te=V.allocUnsafe(re>>>0),ue=this.head,pe=0;ue;)Q(ue.data,te,pe),pe+=ue.data.length,ue=ue.next;return te}},{key:"consume",value:function(re,te){var ue;return re<this.head.data.length?(ue=this.head.data.slice(0,re),this.head.data=this.head.data.slice(re)):ue=re===this.head.data.length?this.shift():te?this._getString(re):this._getBuffer(re),ue}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(re){var te=this.head,ue=1,pe=te.data;for(re-=pe.length;te=te.next;){var he=te.data,ve=re>he.length?he.length:re;if(pe+=ve===he.length?he:he.slice(0,re),0==(re-=ve)){ve===he.length?(++ue,this.head=te.next?te.next:this.tail=null):(this.head=te,te.data=he.slice(ve));break}++ue}return this.length-=ue,pe}},{key:"_getBuffer",value:function(re){var te=V.allocUnsafe(re),ue=this.head,pe=1;for(ue.data.copy(te),re-=ue.data.length;ue=ue.next;){var he=ue.data,ve=re>he.length?he.length:re;if(he.copy(te,te.length-re,0,ve),0==(re-=ve)){ve===he.length?(++pe,this.head=ue.next?ue.next:this.tail=null):(this.head=ue,ue.data=he.slice(ve));break}++pe}return this.length-=pe,te}},{key:W,value:function(re,te){return ee(this,x(x({},te),{},{depth:0,customInspect:!1}))}}]),de}()},21509:(Ye,J,A)=>{"use strict";var h=A(40573);function N(U,H){j(U,H),Y(U)}function Y(U){U._writableState&&!U._writableState.emitClose||U._readableState&&!U._readableState.emitClose||U.emit("close")}function j(U,H){U.emit("error",H)}Ye.exports={destroy:function x(U,H){var V=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(H?H(U):U&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,h.nextTick(j,this,U)):h.nextTick(j,this,U)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(U||null,function(W){!H&&W?V._writableState?V._writableState.errorEmitted?h.nextTick(Y,V):(V._writableState.errorEmitted=!0,h.nextTick(N,V,W)):h.nextTick(N,V,W):H?(h.nextTick(Y,V),H(W)):h.nextTick(Y,V)}),this)},undestroy:function M(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function R(U,H){var V=U._readableState,P=U._writableState;V&&V.autoDestroy||P&&P.autoDestroy?U.destroy(H):U.emit("error",H)}}},33139:(Ye,J,A)=>{"use strict";var h=A(26113).F.ERR_STREAM_PREMATURE_CLOSE;function N(){}Ye.exports=function M(j,R,U){if("function"==typeof R)return M(j,null,R);R||(R={}),U=function x(j){var R=!1;return function(){if(!R){R=!0;for(var U=arguments.length,H=new Array(U),V=0;V<U;V++)H[V]=arguments[V];j.apply(this,H)}}}(U||N);var H=R.readable||!1!==R.readable&&j.readable,V=R.writable||!1!==R.writable&&j.writable,P=function(){j.writable||W()},ee=j._writableState&&j._writableState.finished,W=function(){V=!1,ee=!0,H||U.call(j)},Q=j._readableState&&j._readableState.endEmitted,de=function(){H=!1,Q=!0,V||U.call(j)},ae=function(pe){U.call(j,pe)},re=function(){var pe;return H&&!Q?((!j._readableState||!j._readableState.ended)&&(pe=new h),U.call(j,pe)):V&&!ee?((!j._writableState||!j._writableState.ended)&&(pe=new h),U.call(j,pe)):void 0},te=function(){j.req.on("finish",W)};return function Y(j){return j.setHeader&&"function"==typeof j.abort}(j)?(j.on("complete",W),j.on("abort",re),j.req?te():j.on("request",te)):V&&!j._writableState&&(j.on("end",P),j.on("close",P)),j.on("end",de),j.on("finish",W),!1!==R.error&&j.on("error",ae),j.on("close",re),function(){j.removeListener("complete",W),j.removeListener("abort",re),j.removeListener("request",te),j.req&&j.req.removeListener("finish",W),j.removeListener("end",P),j.removeListener("close",P),j.removeListener("finish",W),j.removeListener("end",de),j.removeListener("error",ae),j.removeListener("close",re)}}},87654:Ye=>{Ye.exports=function(){throw new Error("Readable.from is not available in the browser")}},96249:(Ye,J,A)=>{"use strict";var h,N=A(26113).F,Y=N.ERR_MISSING_ARGS,M=N.ERR_STREAM_DESTROYED;function j(W){if(W)throw W}function H(W){W()}function V(W,Q){return W.pipe(Q)}Ye.exports=function ee(){for(var W=arguments.length,Q=new Array(W),de=0;de<W;de++)Q[de]=arguments[de];var ae=function P(W){return W.length&&"function"==typeof W[W.length-1]?W.pop():j}(Q);if(Array.isArray(Q[0])&&(Q=Q[0]),Q.length<2)throw new Y("streams");var re,te=Q.map(function(ue,pe){var he=pe<Q.length-1;return function U(W,Q,de,ae){ae=function x(W){var Q=!1;return function(){Q||(Q=!0,W.apply(void 0,arguments))}}(ae);var re=!1;W.on("close",function(){re=!0}),void 0===h&&(h=A(33139)),h(W,{readable:Q,writable:de},function(ue){if(ue)return ae(ue);re=!0,ae()});var te=!1;return function(ue){if(!re&&!te){if(te=!0,function R(W){return W.setHeader&&"function"==typeof W.abort}(W))return W.abort();if("function"==typeof W.destroy)return W.destroy();ae(ue||new M("pipe"))}}}(ue,he,pe>0,function(ge){re||(re=ge),ge&&te.forEach(H),!he&&(te.forEach(H),ae(re))})});return Q.reduce(V)}},42934:(Ye,J,A)=>{"use strict";var h=A(26113).F.ERR_INVALID_OPT_VALUE;Ye.exports={getHighWaterMark:function N(Y,M,j,R){var U=function x(Y,M,j){return null!=Y.highWaterMark?Y.highWaterMark:M?Y[j]:null}(M,R,j);if(null!=U){if(!isFinite(U)||Math.floor(U)!==U||U<0)throw new h(R?j:"highWaterMark",U);return Math.floor(U)}return Y.objectMode?16:16384}}},18342:(Ye,J,A)=>{Ye.exports=A(44356).EventEmitter},5942:(Ye,J,A)=>{(J=Ye.exports=A(19609)).Stream=J,J.Readable=J,J.Writable=A(47849),J.Duplex=A(74075),J.Transform=A(2909),J.PassThrough=A(18823),J.finished=A(33139),J.pipeline=A(96249)},85493:(Ye,J,A)=>{"use strict";var x=A(29293).default;J.s=void 0;const N=A(5942);J.s=class Y extends N.Readable{constructor(j){super(),this.bytesRead=0,this.released=!1,this.reader=j.getReader()}_read(){var j=this;return x(function*(){if(j.released)return void j.push(null);j.pendingRead=j.reader.read();const R=yield j.pendingRead;delete j.pendingRead,R.done||j.released?j.push(null):(j.bytesRead+=R.value.length,j.push(R.value))})()}waitForReadToComplete(){var j=this;return x(function*(){j.pendingRead&&(yield j.pendingRead)})()}close(){var j=this;return x(function*(){yield j.syncAndRelease()})()}syncAndRelease(){var j=this;return x(function*(){j.released=!0,yield j.waitForReadToComplete(),yield j.reader.releaseLock()})()}}},36636:(Ye,J,A)=>{"use strict";var h=A(83838).Buffer,x=A(71993),N=A(13686),Y=new Array(16),M=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],j=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],R=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],U=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],H=[0,1518500249,1859775393,2400959708,2840853838],V=[1352829926,1548603684,1836072691,2053994217,0];function P(){N.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function ee(te,ue){return te<<ue|te>>>32-ue}function W(te,ue,pe,he,ve,ge,Me,Oe){return ee(te+(ue^pe^he)+ge+Me|0,Oe)+ve|0}function Q(te,ue,pe,he,ve,ge,Me,Oe){return ee(te+(ue&pe|~ue&he)+ge+Me|0,Oe)+ve|0}function de(te,ue,pe,he,ve,ge,Me,Oe){return ee(te+((ue|~pe)^he)+ge+Me|0,Oe)+ve|0}function ae(te,ue,pe,he,ve,ge,Me,Oe){return ee(te+(ue&he|pe&~he)+ge+Me|0,Oe)+ve|0}function re(te,ue,pe,he,ve,ge,Me,Oe){return ee(te+(ue^(pe|~he))+ge+Me|0,Oe)+ve|0}x(P,N),P.prototype._update=function(){for(var te=Y,ue=0;ue<16;++ue)te[ue]=this._block.readInt32LE(4*ue);for(var pe=0|this._a,he=0|this._b,ve=0|this._c,ge=0|this._d,Me=0|this._e,Oe=0|this._a,je=0|this._b,B=0|this._c,l=0|this._d,f=0|this._e,w=0;w<80;w+=1){var _,D;w<16?(_=W(pe,he,ve,ge,Me,te[M[w]],H[0],R[w]),D=re(Oe,je,B,l,f,te[j[w]],V[0],U[w])):w<32?(_=Q(pe,he,ve,ge,Me,te[M[w]],H[1],R[w]),D=ae(Oe,je,B,l,f,te[j[w]],V[1],U[w])):w<48?(_=de(pe,he,ve,ge,Me,te[M[w]],H[2],R[w]),D=de(Oe,je,B,l,f,te[j[w]],V[2],U[w])):w<64?(_=ae(pe,he,ve,ge,Me,te[M[w]],H[3],R[w]),D=Q(Oe,je,B,l,f,te[j[w]],V[3],U[w])):(_=re(pe,he,ve,ge,Me,te[M[w]],H[4],R[w]),D=W(Oe,je,B,l,f,te[j[w]],V[4],U[w])),pe=Me,Me=ge,ge=ee(ve,10),ve=he,he=_,Oe=f,f=l,l=ee(B,10),B=je,je=D}var O=this._b+ve+l|0;this._b=this._c+ge+f|0,this._c=this._d+Me+Oe|0,this._d=this._e+pe+je|0,this._e=this._a+he+B|0,this._a=O},P.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var te=h.alloc?h.alloc(20):new h(20);return te.writeInt32LE(this._a,0),te.writeInt32LE(this._b,4),te.writeInt32LE(this._c,8),te.writeInt32LE(this._d,12),te.writeInt32LE(this._e,16),te},Ye.exports=P},81725:(Ye,J,A)=>{Ye.exports=function x(N,Y,M){if("number"!=typeof Y)throw new Error("second argument must be a Number");let j,R,U,H,V,ee,P=!0;function W(de){function ae(){M&&M(de,j),M=null}P?h(ae):ae()}function Q(de,ae,re){if(j[de]=re,ae&&(V=!0),0==--U||ae)W(ae);else if(!V&&ee<R){let te;H?(te=H[ee],ee+=1,N[te](function(ue,pe){Q(te,ue,pe)})):(te=ee,ee+=1,N[te](function(ue,pe){Q(te,ue,pe)}))}}Array.isArray(N)?(j=[],U=R=N.length):(H=Object.keys(N),j={},U=R=H.length),ee=Y,U?H?H.some(function(de,ae){return N[de](function(re,te){Q(de,re,te)}),ae===Y-1}):N.some(function(de,ae){return de(function(re,te){Q(ae,re,te)}),ae===Y-1}):W(null),P=!1};const h=A(24515)},84412:(Ye,J,A)=>{"use strict";A.d(J,{t:()=>x});var h=A(21413);class x extends h.B{constructor(Y){super(),this._value=Y}get value(){return this.getValue()}_subscribe(Y){const M=super._subscribe(Y);return!M.closed&&Y.next(this._value),M}getValue(){const{hasError:Y,thrownError:M,_value:j}=this;if(Y)throw M;return this._throwIfClosed(),j}next(Y){super.next(this._value=Y)}}},71985:(Ye,J,A)=>{"use strict";A.d(J,{c:()=>U});var h=A(47707),x=A(18359),N=A(3494),Y=A(71203),M=A(41026),j=A(98071),R=A(49786);let U=(()=>{class ee{constructor(Q){Q&&(this._subscribe=Q)}lift(Q){const de=new ee;return de.source=this,de.operator=Q,de}subscribe(Q,de,ae){const re=function P(ee){return ee&&ee instanceof h.vU||function V(ee){return ee&&(0,j.T)(ee.next)&&(0,j.T)(ee.error)&&(0,j.T)(ee.complete)}(ee)&&(0,x.Uv)(ee)}(Q)?Q:new h.Ms(Q,de,ae);return(0,R.Y)(()=>{const{operator:te,source:ue}=this;re.add(te?te.call(re,ue):ue?this._subscribe(re):this._trySubscribe(re))}),re}_trySubscribe(Q){try{return this._subscribe(Q)}catch(de){Q.error(de)}}forEach(Q,de){return new(de=H(de))((ae,re)=>{const te=new h.Ms({next:ue=>{try{Q(ue)}catch(pe){re(pe),te.unsubscribe()}},error:re,complete:ae});this.subscribe(te)})}_subscribe(Q){var de;return null===(de=this.source)||void 0===de?void 0:de.subscribe(Q)}[N.s](){return this}pipe(...Q){return(0,Y.m)(Q)(this)}toPromise(Q){return new(Q=H(Q))((de,ae)=>{let re;this.subscribe(te=>re=te,te=>ae(te),()=>de(re))})}}return ee.create=W=>new ee(W),ee})();function H(ee){var W;return null!==(W=ee??M.$.Promise)&&void 0!==W?W:Promise}},92771:(Ye,J,A)=>{"use strict";A.d(J,{m:()=>N});var h=A(21413),x=A(86129);class N extends h.B{constructor(M=1/0,j=1/0,R=x.U){super(),this._bufferSize=M,this._windowTime=j,this._timestampProvider=R,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=j===1/0,this._bufferSize=Math.max(1,M),this._windowTime=Math.max(1,j)}next(M){const{isStopped:j,_buffer:R,_infiniteTimeWindow:U,_timestampProvider:H,_windowTime:V}=this;j||(R.push(M),!U&&R.push(H.now()+V)),this._trimBuffer(),super.next(M)}_subscribe(M){this._throwIfClosed(),this._trimBuffer();const j=this._innerSubscribe(M),{_infiniteTimeWindow:R,_buffer:U}=this,H=U.slice();for(let V=0;V<H.length&&!M.closed;V+=R?1:2)M.next(H[V]);return this._checkFinalizedStatuses(M),j}_trimBuffer(){const{_bufferSize:M,_timestampProvider:j,_buffer:R,_infiniteTimeWindow:U}=this,H=(U?1:2)*M;if(M<1/0&&H<R.length&&R.splice(0,R.length-H),!U){const V=j.now();let P=0;for(let ee=1;ee<R.length&&R[ee]<=V;ee+=2)P=ee;P&&R.splice(0,P+1)}}}},21413:(Ye,J,A)=>{"use strict";A.d(J,{B:()=>R});var h=A(71985),x=A(18359);const Y=(0,A(81853).L)(H=>function(){H(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var M=A(57908),j=A(49786);let R=(()=>{class H extends h.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(P){const ee=new U(this,this);return ee.operator=P,ee}_throwIfClosed(){if(this.closed)throw new Y}next(P){(0,j.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(P)}})}error(P){(0,j.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=P;const{observers:ee}=this;for(;ee.length;)ee.shift().error(P)}})}complete(){(0,j.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:P}=this;for(;P.length;)P.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var P;return(null===(P=this.observers)||void 0===P?void 0:P.length)>0}_trySubscribe(P){return this._throwIfClosed(),super._trySubscribe(P)}_subscribe(P){return this._throwIfClosed(),this._checkFinalizedStatuses(P),this._innerSubscribe(P)}_innerSubscribe(P){const{hasError:ee,isStopped:W,observers:Q}=this;return ee||W?x.Kn:(this.currentObservers=null,Q.push(P),new x.yU(()=>{this.currentObservers=null,(0,M.o)(Q,P)}))}_checkFinalizedStatuses(P){const{hasError:ee,thrownError:W,isStopped:Q}=this;ee?P.error(W):Q&&P.complete()}asObservable(){const P=new h.c;return P.source=this,P}}return H.create=(V,P)=>new U(V,P),H})();class U extends R{constructor(V,P){super(),this.destination=V,this.source=P}next(V){var P,ee;null===(ee=null===(P=this.destination)||void 0===P?void 0:P.next)||void 0===ee||ee.call(P,V)}error(V){var P,ee;null===(ee=null===(P=this.destination)||void 0===P?void 0:P.error)||void 0===ee||ee.call(P,V)}complete(){var V,P;null===(P=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===P||P.call(V)}_subscribe(V){var P,ee;return null!==(ee=null===(P=this.source)||void 0===P?void 0:P.subscribe(V))&&void 0!==ee?ee:x.Kn}}},47707:(Ye,J,A)=>{"use strict";A.d(J,{Ms:()=>ae,vU:()=>ee});var h=A(98071),x=A(18359),N=A(41026),Y=A(45334),M=A(85343);const j=H("C",void 0,void 0);function H(he,ve,ge){return{kind:he,value:ve,error:ge}}var V=A(19270),P=A(49786);class ee extends x.yU{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,x.Uv)(ve)&&ve.add(this)):this.destination=pe}static create(ve,ge,Me){return new ae(ve,ge,Me)}next(ve){this.isStopped?ue(function U(he){return H("N",he,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?ue(function R(he){return H("E",void 0,he)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?ue(j,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const W=Function.prototype.bind;function Q(he,ve){return W.call(he,ve)}class de{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:ge}=this;if(ge.next)try{ge.next(ve)}catch(Me){re(Me)}}error(ve){const{partialObserver:ge}=this;if(ge.error)try{ge.error(ve)}catch(Me){re(Me)}else re(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(ge){re(ge)}}}class ae extends ee{constructor(ve,ge,Me){let Oe;if(super(),(0,h.T)(ve)||!ve)Oe={next:ve??void 0,error:ge??void 0,complete:Me??void 0};else{let je;this&&N.$.useDeprecatedNextContext?(je=Object.create(ve),je.unsubscribe=()=>this.unsubscribe(),Oe={next:ve.next&&Q(ve.next,je),error:ve.error&&Q(ve.error,je),complete:ve.complete&&Q(ve.complete,je)}):Oe=ve}this.destination=new de(Oe)}}function re(he){N.$.useDeprecatedSynchronousErrorHandling?(0,P.l)(he):(0,Y.m)(he)}function ue(he,ve){const{onStoppedNotification:ge}=N.$;ge&&V.f.setTimeout(()=>ge(he,ve))}const pe={closed:!0,next:M.l,error:function te(he){throw he},complete:M.l}},18359:(Ye,J,A)=>{"use strict";A.d(J,{Kn:()=>j,yU:()=>M,Uv:()=>R});var h=A(98071);const N=(0,A(81853).L)(H=>function(P){H(this),this.message=P?`${P.length} errors occurred during unsubscription:\n${P.map((ee,W)=>`${W+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=P});var Y=A(57908);class M{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:P}=this;if(P)if(this._parentage=null,Array.isArray(P))for(const Q of P)Q.remove(this);else P.remove(this);const{initialTeardown:ee}=this;if((0,h.T)(ee))try{ee()}catch(Q){V=Q instanceof N?Q.errors:[Q]}const{_finalizers:W}=this;if(W){this._finalizers=null;for(const Q of W)try{U(Q)}catch(de){V=V??[],de instanceof N?V=[...V,...de.errors]:V.push(de)}}if(V)throw new N(V)}}add(V){var P;if(V&&V!==this)if(this.closed)U(V);else{if(V instanceof M){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==(P=this._finalizers)&&void 0!==P?P:[]).push(V)}}_hasParent(V){const{_parentage:P}=this;return P===V||Array.isArray(P)&&P.includes(V)}_addParent(V){const{_parentage:P}=this;this._parentage=Array.isArray(P)?(P.push(V),P):P?[P,V]:V}_removeParent(V){const{_parentage:P}=this;P===V?this._parentage=null:Array.isArray(P)&&(0,Y.o)(P,V)}remove(V){const{_finalizers:P}=this;P&&(0,Y.o)(P,V),V instanceof M&&V._removeParent(this)}}M.EMPTY=(()=>{const H=new M;return H.closed=!0,H})();const j=M.EMPTY;function R(H){return H instanceof M||H&&"closed"in H&&(0,h.T)(H.remove)&&(0,h.T)(H.add)&&(0,h.T)(H.unsubscribe)}function U(H){(0,h.T)(H)?H():H.unsubscribe()}},41026:(Ye,J,A)=>{"use strict";A.d(J,{$:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30017:(Ye,J,A)=>{"use strict";A.d(J,{G:()=>j});var h=A(71985),x=A(18359),N=A(99898),Y=A(54360),M=A(39974);class j extends h.c{constructor(U,H){super(),this.source=U,this.subjectFactory=H,this._subject=null,this._refCount=0,this._connection=null,(0,M.S)(U)&&(this.lift=U.lift)}_subscribe(U){return this.getSubject().subscribe(U)}getSubject(){const U=this._subject;return(!U||U.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:U}=this;this._subject=this._connection=null,U?.unsubscribe()}connect(){let U=this._connection;if(!U){U=this._connection=new x.yU;const H=this.getSubject();U.add(this.source.subscribe((0,Y._)(H,void 0,()=>{this._teardown(),H.complete()},V=>{this._teardown(),H.error(V)},()=>this._teardown()))),U.closed&&(this._connection=null,U=x.yU.EMPTY)}return U}refCount(){return(0,N.B)()(this)}}},84572:(Ye,J,A)=>{"use strict";A.d(J,{z:()=>V});var h=A(71985),x=A(93073),N=A(86648),Y=A(33669),M=A(6450),j=A(9326),R=A(58496),U=A(54360),H=A(45225);function V(...W){const Q=(0,j.lI)(W),de=(0,j.ms)(W),{args:ae,keys:re}=(0,x.D)(W);if(0===ae.length)return(0,N.H)([],Q);const te=new h.c(function P(W,Q,de=Y.D){return ae=>{ee(Q,()=>{const{length:re}=W,te=new Array(re);let ue=re,pe=re;for(let he=0;he<re;he++)ee(Q,()=>{const ve=(0,N.H)(W[he],Q);let ge=!1;ve.subscribe((0,U._)(ae,Me=>{te[he]=Me,ge||(ge=!0,pe--),pe||ae.next(de(te.slice()))},()=>{--ue||ae.complete()}))},ae)},ae)}}(ae,Q,re?ue=>(0,R.e)(re,ue):Y.D));return de?te.pipe((0,M.I)(de)):te}function ee(W,Q,de){W?(0,H.N)(de,W,Q):Q()}},28793:(Ye,J,A)=>{"use strict";A.d(J,{x:()=>M});var h=A(26365),N=A(9326),Y=A(86648);function M(...j){return function x(){return(0,h.U)(1)}()((0,Y.H)(j,(0,N.lI)(j)))}},59030:(Ye,J,A)=>{"use strict";A.d(J,{v:()=>N});var h=A(71985),x=A(58750);function N(Y){return new h.c(M=>{(0,x.Tg)(Y()).subscribe(M)})}},983:(Ye,J,A)=>{"use strict";A.d(J,{w:()=>x});const x=new(A(71985).c)(M=>M.complete())},27468:(Ye,J,A)=>{"use strict";A.d(J,{p:()=>U});var h=A(71985),x=A(93073),N=A(58750),Y=A(9326),M=A(54360),j=A(6450),R=A(58496);function U(...H){const V=(0,Y.ms)(H),{args:P,keys:ee}=(0,x.D)(H),W=new h.c(Q=>{const{length:de}=P;if(!de)return void Q.complete();const ae=new Array(de);let re=de,te=de;for(let ue=0;ue<de;ue++){let pe=!1;(0,N.Tg)(P[ue]).subscribe((0,M._)(Q,he=>{pe||(pe=!0,te--),ae[ue]=he},()=>re--,void 0,()=>{(!re||!pe)&&(te||Q.next(ee?(0,R.e)(ee,ae):ae),Q.complete())}))}});return V?W.pipe((0,j.I)(V)):W}},86648:(Ye,J,A)=>{"use strict";A.d(J,{H:()=>Me});var h=A(58750),x=A(45225),N=A(39974),Y=A(54360);function M(Oe,je=0){return(0,N.N)((B,l)=>{B.subscribe((0,Y._)(l,f=>(0,x.N)(l,Oe,()=>l.next(f),je),()=>(0,x.N)(l,Oe,()=>l.complete(),je),f=>(0,x.N)(l,Oe,()=>l.error(f),je)))})}function j(Oe,je=0){return(0,N.N)((B,l)=>{l.add(Oe.schedule(()=>B.subscribe(l),je))})}var H=A(71985),P=A(4761),ee=A(98071);function Q(Oe,je){if(!Oe)throw new Error("Iterable cannot be null");return new H.c(B=>{(0,x.N)(B,je,()=>{const l=Oe[Symbol.asyncIterator]();(0,x.N)(B,je,()=>{l.next().then(f=>{f.done?B.complete():B.next(f.value)})},0,!0)})})}var de=A(55055),ae=A(59858),re=A(47441),te=A(85397),ue=A(37953),pe=A(50591),he=A(15196);function Me(Oe,je){return je?function ge(Oe,je){if(null!=Oe){if((0,de.l)(Oe))return function R(Oe,je){return(0,h.Tg)(Oe).pipe(j(je),M(je))}(Oe,je);if((0,re.X)(Oe))return function V(Oe,je){return new H.c(B=>{let l=0;return je.schedule(function(){l===Oe.length?B.complete():(B.next(Oe[l++]),B.closed||this.schedule())})})}(Oe,je);if((0,ae.y)(Oe))return function U(Oe,je){return(0,h.Tg)(Oe).pipe(j(je),M(je))}(Oe,je);if((0,ue.T)(Oe))return Q(Oe,je);if((0,te.x)(Oe))return function W(Oe,je){return new H.c(B=>{let l;return(0,x.N)(B,je,()=>{l=Oe[P.l](),(0,x.N)(B,je,()=>{let f,w;try{({value:f,done:w}=l.next())}catch(_){return void B.error(_)}w?B.complete():B.next(f)},0,!0)}),()=>(0,ee.T)(l?.return)&&l.return()})}(Oe,je);if((0,he.U)(Oe))return function ve(Oe,je){return Q((0,he.C)(Oe),je)}(Oe,je)}throw(0,pe.L)(Oe)}(Oe,je):(0,h.Tg)(Oe)}},33726:(Ye,J,A)=>{"use strict";A.d(J,{R:()=>V});var h=A(58750),x=A(71985),N=A(31397),Y=A(47441),M=A(98071),j=A(6450);const R=["addListener","removeListener"],U=["addEventListener","removeEventListener"],H=["on","off"];function V(de,ae,re,te){if((0,M.T)(re)&&(te=re,re=void 0),te)return V(de,ae,re).pipe((0,j.I)(te));const[ue,pe]=function Q(de){return(0,M.T)(de.addEventListener)&&(0,M.T)(de.removeEventListener)}(de)?U.map(he=>ve=>de[he](ae,ve,re)):function ee(de){return(0,M.T)(de.addListener)&&(0,M.T)(de.removeListener)}(de)?R.map(P(de,ae)):function W(de){return(0,M.T)(de.on)&&(0,M.T)(de.off)}(de)?H.map(P(de,ae)):[];if(!ue&&(0,Y.X)(de))return(0,N.Z)(he=>V(he,ae,re))((0,h.Tg)(de));if(!ue)throw new TypeError("Invalid event target");return new x.c(he=>{const ve=(...ge)=>he.next(1<ge.length?ge:ge[0]);return ue(ve),()=>pe(ve)})}function P(de,ae){return re=>te=>de[re](ae,te)}},58750:(Ye,J,A)=>{"use strict";A.d(J,{Tg:()=>W});var h=A(31635),x=A(47441),N=A(59858),Y=A(71985),M=A(55055),j=A(37953),R=A(50591),U=A(85397),H=A(15196),V=A(98071),P=A(45334),ee=A(3494);function W(he){if(he instanceof Y.c)return he;if(null!=he){if((0,M.l)(he))return function Q(he){return new Y.c(ve=>{const ge=he[ee.s]();if((0,V.T)(ge.subscribe))return ge.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(he);if((0,x.X)(he))return function de(he){return new Y.c(ve=>{for(let ge=0;ge<he.length&&!ve.closed;ge++)ve.next(he[ge]);ve.complete()})}(he);if((0,N.y)(he))return function ae(he){return new Y.c(ve=>{he.then(ge=>{ve.closed||(ve.next(ge),ve.complete())},ge=>ve.error(ge)).then(null,P.m)})}(he);if((0,j.T)(he))return te(he);if((0,U.x)(he))return function re(he){return new Y.c(ve=>{for(const ge of he)if(ve.next(ge),ve.closed)return;ve.complete()})}(he);if((0,H.U)(he))return function ue(he){return te((0,H.C)(he))}(he)}throw(0,R.L)(he)}function te(he){return new Y.c(ve=>{(function pe(he,ve){var ge,Me,Oe,je;return(0,h.sH)(this,void 0,void 0,function*(){try{for(ge=(0,h.xN)(he);!(Me=yield ge.next()).done;)if(ve.next(Me.value),ve.closed)return}catch(B){Oe={error:B}}finally{try{Me&&!Me.done&&(je=ge.return)&&(yield je.call(ge))}finally{if(Oe)throw Oe.error}}ve.complete()})})(he,ve).catch(ge=>ve.error(ge))})}},40605:(Ye,J,A)=>{"use strict";A.d(J,{Y:()=>N});var h=A(43236),x=A(41584);function N(Y=0,M=h.E){return Y<0&&(Y=0),(0,x.O)(Y,Y,M)}},57786:(Ye,J,A)=>{"use strict";A.d(J,{h:()=>j});var h=A(26365),x=A(58750),N=A(983),Y=A(9326),M=A(86648);function j(...R){const U=(0,Y.lI)(R),H=(0,Y.R0)(R,1/0),V=R;return V.length?1===V.length?(0,x.Tg)(V[0]):(0,h.U)(H)((0,M.H)(V,U)):N.w}},7673:(Ye,J,A)=>{"use strict";A.d(J,{of:()=>N});var h=A(9326),x=A(86648);function N(...Y){const M=(0,h.lI)(Y);return(0,x.H)(Y,M)}},18810:(Ye,J,A)=>{"use strict";A.d(J,{$:()=>N});var h=A(71985),x=A(98071);function N(Y,M){const j=(0,x.T)(Y)?Y:()=>Y,R=U=>U.error(j());return new h.c(M?U=>M.schedule(R,0,U):R)}},41584:(Ye,J,A)=>{"use strict";A.d(J,{O:()=>M});var h=A(71985),x=A(43236),N=A(79470);function M(j=0,R,U=x.b){let H=-1;return null!=R&&((0,N.m)(R)?U=R:H=R),new h.c(V=>{let P=function Y(j){return j instanceof Date&&!isNaN(j)}(j)?+j-U.now():j;P<0&&(P=0);let ee=0;return U.schedule(function(){V.closed||(V.next(ee++),0<=H?this.schedule(void 0,H):V.complete())},P)})}},54360:(Ye,J,A)=>{"use strict";A.d(J,{_:()=>x});var h=A(47707);function x(Y,M,j,R,U){return new N(Y,M,j,R,U)}class N extends h.vU{constructor(M,j,R,U,H,V){super(M),this.onFinalize=H,this.shouldUnsubscribe=V,this._next=j?function(P){try{j(P)}catch(ee){M.error(ee)}}:super._next,this._error=U?function(P){try{U(P)}catch(ee){M.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=R?function(){try{R()}catch(P){M.error(P)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var M;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:j}=this;super.unsubscribe(),!j&&(null===(M=this.onFinalize)||void 0===M||M.call(this))}}}},99437:(Ye,J,A)=>{"use strict";A.d(J,{W:()=>Y});var h=A(58750),x=A(54360),N=A(39974);function Y(M){return(0,N.N)((j,R)=>{let V,U=null,H=!1;U=j.subscribe((0,x._)(R,void 0,void 0,P=>{V=(0,h.Tg)(M(P,Y(M)(j))),U?(U.unsubscribe(),U=null,V.subscribe(R)):H=!0})),H&&(U.unsubscribe(),U=null,V.subscribe(R))})}},70274:(Ye,J,A)=>{"use strict";A.d(J,{H:()=>N});var h=A(31397),x=A(98071);function N(Y,M){return(0,x.T)(M)?(0,h.Z)(Y,M,1):(0,h.Z)(Y,1)}},70152:(Ye,J,A)=>{"use strict";A.d(J,{B:()=>Y});var h=A(43236),x=A(39974),N=A(54360);function Y(M,j=h.E){return(0,x.N)((R,U)=>{let H=null,V=null,P=null;const ee=()=>{if(H){H.unsubscribe(),H=null;const Q=V;V=null,U.next(Q)}};function W(){const Q=P+M,de=j.now();if(de<Q)return H=this.schedule(void 0,Q-de),void U.add(H);ee()}R.subscribe((0,N._)(U,Q=>{V=Q,P=j.now(),H||(H=j.schedule(W,M),U.add(H))},()=>{ee(),U.complete()},void 0,()=>{V=H=null}))})}},91986:(Ye,J,A)=>{"use strict";A.d(J,{c:()=>W});var h=A(43236),x=A(28793),N=A(96697),Y=A(39974),M=A(54360),j=A(85343),U=A(73703),H=A(31397),V=A(58750);function P(Q,de){return de?ae=>(0,x.x)(de.pipe((0,N.s)(1),function R(){return(0,Y.N)((Q,de)=>{Q.subscribe((0,M._)(de,j.l))})}()),ae.pipe(P(Q))):(0,H.Z)((ae,re)=>(0,V.Tg)(Q(ae,re)).pipe((0,N.s)(1),(0,U.u)(ae)))}var ee=A(41584);function W(Q,de=h.E){const ae=(0,ee.O)(Q,de);return P(()=>ae)}},23294:(Ye,J,A)=>{"use strict";A.d(J,{F:()=>Y});var h=A(33669),x=A(39974),N=A(54360);function Y(j,R=h.D){return j=j??M,(0,x.N)((U,H)=>{let V,P=!0;U.subscribe((0,N._)(H,ee=>{const W=R(ee);(P||!j(V,W))&&(P=!1,V=W,H.next(ee))}))})}function M(j,R){return j===R}},5964:(Ye,J,A)=>{"use strict";A.d(J,{p:()=>N});var h=A(39974),x=A(54360);function N(Y,M){return(0,h.N)((j,R)=>{let U=0;j.subscribe((0,x._)(R,H=>Y.call(M,H,U++)&&R.next(H)))})}},70980:(Ye,J,A)=>{"use strict";A.d(J,{j:()=>x});var h=A(39974);function x(N){return(0,h.N)((Y,M)=>{try{Y.subscribe(M)}finally{M.add(N)}})}},96354:(Ye,J,A)=>{"use strict";A.d(J,{T:()=>N});var h=A(39974),x=A(54360);function N(Y,M){return(0,h.N)((j,R)=>{let U=0;j.subscribe((0,x._)(R,H=>{R.next(Y.call(M,H,U++))}))})}},73703:(Ye,J,A)=>{"use strict";A.d(J,{u:()=>x});var h=A(96354);function x(N){return(0,h.T)(()=>N)}},26365:(Ye,J,A)=>{"use strict";A.d(J,{U:()=>N});var h=A(31397),x=A(33669);function N(Y=1/0){return(0,h.Z)(x.D,Y)}},31397:(Ye,J,A)=>{"use strict";A.d(J,{Z:()=>U});var h=A(96354),x=A(58750),N=A(39974),Y=A(45225),M=A(54360),R=A(98071);function U(H,V,P=1/0){return(0,R.T)(V)?U((ee,W)=>(0,h.T)((Q,de)=>V(ee,Q,W,de))((0,x.Tg)(H(ee,W))),P):("number"==typeof V&&(P=V),(0,N.N)((ee,W)=>function j(H,V,P,ee,W,Q,de,ae){const re=[];let te=0,ue=0,pe=!1;const he=()=>{pe&&!re.length&&!te&&V.complete()},ve=Me=>te<ee?ge(Me):re.push(Me),ge=Me=>{Q&&V.next(Me),te++;let Oe=!1;(0,x.Tg)(P(Me,ue++)).subscribe((0,M._)(V,je=>{W?.(je),Q?ve(je):V.next(je)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(te--;re.length&&te<ee;){const je=re.shift();de?(0,Y.N)(V,de,()=>ge(je)):ge(je)}he()}catch(je){V.error(je)}}))};return H.subscribe((0,M._)(V,ve,()=>{pe=!0,he()})),()=>{ae?.()}}(ee,W,H,P)))}},99898:(Ye,J,A)=>{"use strict";A.d(J,{B:()=>N});var h=A(39974),x=A(54360);function N(){return(0,h.N)((Y,M)=>{let j=null;Y._refCount++;const R=(0,x._)(M,void 0,void 0,void 0,()=>{if(!Y||Y._refCount<=0||0<--Y._refCount)return void(j=null);const U=Y._connection,H=j;j=null,U&&(!H||U===H)&&U.unsubscribe(),M.unsubscribe()});Y.subscribe(R),R.closed||(j=Y.connect())})}},97647:(Ye,J,A)=>{"use strict";A.d(J,{u:()=>M});var h=A(58750),x=A(21413),N=A(47707),Y=A(39974);function M(R={}){const{connector:U=(()=>new x.B),resetOnError:H=!0,resetOnComplete:V=!0,resetOnRefCountZero:P=!0}=R;return ee=>{let W,Q,de,ae=0,re=!1,te=!1;const ue=()=>{Q?.unsubscribe(),Q=void 0},pe=()=>{ue(),W=de=void 0,re=te=!1},he=()=>{const ve=W;pe(),ve?.unsubscribe()};return(0,Y.N)((ve,ge)=>{ae++,!te&&!re&&ue();const Me=de=de??U();ge.add(()=>{ae--,0===ae&&!te&&!re&&(Q=j(he,P))}),Me.subscribe(ge),!W&&ae>0&&(W=new N.Ms({next:Oe=>Me.next(Oe),error:Oe=>{te=!0,ue(),Q=j(pe,H,Oe),Me.error(Oe)},complete:()=>{re=!0,ue(),Q=j(pe,V),Me.complete()}}),(0,h.Tg)(ve).subscribe(W))})(ee)}}function j(R,U,...H){if(!0===U)return void R();if(!1===U)return;const V=new N.Ms({next:()=>{V.unsubscribe(),R()}});return(0,h.Tg)(U(...H)).subscribe(V)}},44668:(Ye,J,A)=>{"use strict";A.d(J,{t:()=>N});var h=A(92771),x=A(97647);function N(Y,M,j){let R,U=!1;return Y&&"object"==typeof Y?({bufferSize:R=1/0,windowTime:M=1/0,refCount:U=!1,scheduler:j}=Y):R=Y??1/0,(0,x.u)({connector:()=>new h.m(R,M,j),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:U})}},65245:(Ye,J,A)=>{"use strict";A.d(J,{i:()=>x});var h=A(5964);function x(N){return(0,h.p)((Y,M)=>N<=M)}},99172:(Ye,J,A)=>{"use strict";A.d(J,{Z:()=>Y});var h=A(28793),x=A(9326),N=A(39974);function Y(...M){const j=(0,x.lI)(M);return(0,N.N)((R,U)=>{(j?(0,h.x)(M,R,j):(0,h.x)(M,R)).subscribe(U)})}},25558:(Ye,J,A)=>{"use strict";A.d(J,{n:()=>Y});var h=A(58750),x=A(39974),N=A(54360);function Y(M,j){return(0,x.N)((R,U)=>{let H=null,V=0,P=!1;const ee=()=>P&&!H&&U.complete();R.subscribe((0,N._)(U,W=>{H?.unsubscribe();let Q=0;const de=V++;(0,h.Tg)(M(W,de)).subscribe(H=(0,N._)(U,ae=>U.next(j?j(W,ae,de,Q++):ae),()=>{H=null,ee()}))},()=>{P=!0,ee()}))})}},96697:(Ye,J,A)=>{"use strict";A.d(J,{s:()=>Y});var h=A(983),x=A(39974),N=A(54360);function Y(M){return M<=0?()=>h.w:(0,x.N)((j,R)=>{let U=0;j.subscribe((0,N._)(R,H=>{++U<=M&&(R.next(H),M<=U&&R.complete())}))})}},56977:(Ye,J,A)=>{"use strict";A.d(J,{Q:()=>M});var h=A(39974),x=A(54360),N=A(58750),Y=A(85343);function M(j){return(0,h.N)((R,U)=>{(0,N.Tg)(j).subscribe((0,x._)(U,()=>U.complete(),Y.l)),!U.closed&&R.subscribe(U)})}},88141:(Ye,J,A)=>{"use strict";A.d(J,{M:()=>M});var h=A(98071),x=A(39974),N=A(54360),Y=A(33669);function M(j,R,U){const H=(0,h.T)(j)||R||U?{next:j,error:R,complete:U}:j;return H?(0,x.N)((V,P)=>{var ee;null===(ee=H.subscribe)||void 0===ee||ee.call(H);let W=!0;V.subscribe((0,N._)(P,Q=>{var de;null===(de=H.next)||void 0===de||de.call(H,Q),P.next(Q)},()=>{var Q;W=!1,null===(Q=H.complete)||void 0===Q||Q.call(H),P.complete()},Q=>{var de;W=!1,null===(de=H.error)||void 0===de||de.call(H,Q),P.error(Q)},()=>{var Q,de;W&&(null===(Q=H.unsubscribe)||void 0===Q||Q.call(H)),null===(de=H.finalize)||void 0===de||de.call(H)}))}):Y.D}},96780:(Ye,J,A)=>{"use strict";A.d(J,{R:()=>M});var h=A(18359);class x extends h.yU{constructor(R,U){super()}schedule(R,U=0){return this}}const N={setInterval(j,R,...U){const{delegate:H}=N;return H?.setInterval?H.setInterval(j,R,...U):setInterval(j,R,...U)},clearInterval(j){const{delegate:R}=N;return(R?.clearInterval||clearInterval)(j)},delegate:void 0};var Y=A(57908);class M extends x{constructor(R,U){super(R,U),this.scheduler=R,this.work=U,this.pending=!1}schedule(R,U=0){var H;if(this.closed)return this;this.state=R;const V=this.id,P=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId(P,V,U)),this.pending=!0,this.delay=U,this.id=null!==(H=this.id)&&void 0!==H?H:this.requestAsyncId(P,this.id,U),this}requestAsyncId(R,U,H=0){return N.setInterval(R.flush.bind(R,this),H)}recycleAsyncId(R,U,H=0){if(null!=H&&this.delay===H&&!1===this.pending)return U;null!=U&&N.clearInterval(U)}execute(R,U){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const H=this._execute(R,U);if(H)return H;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(R,U){let V,H=!1;try{this.work(R)}catch(P){H=!0,V=P||new Error("Scheduled action threw falsy error")}if(H)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:R,scheduler:U}=this,{actions:H}=U;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Y.o)(H,this),null!=R&&(this.id=this.recycleAsyncId(U,R,null)),this.delay=null,super.unsubscribe()}}}},39687:(Ye,J,A)=>{"use strict";A.d(J,{q:()=>N});var h=A(86129);class x{constructor(M,j=x.now){this.schedulerActionCtor=M,this.now=j}schedule(M,j=0,R){return new this.schedulerActionCtor(this,M).schedule(R,j)}}x.now=h.U.now;class N extends x{constructor(M,j=x.now){super(M,j),this.actions=[],this._active=!1}flush(M){const{actions:j}=this;if(this._active)return void j.push(M);let R;this._active=!0;do{if(R=M.execute(M.state,M.delay))break}while(M=j.shift());if(this._active=!1,R){for(;M=j.shift();)M.unsubscribe();throw R}}}},30536:(Ye,J,A)=>{"use strict";A.d(J,{X:()=>R});var h=A(96780),x=A(18359);const N={schedule(H){let V=requestAnimationFrame,P=cancelAnimationFrame;const{delegate:ee}=N;ee&&(V=ee.requestAnimationFrame,P=ee.cancelAnimationFrame);const W=V(Q=>{P=void 0,H(Q)});return new x.yU(()=>P?.(W))},requestAnimationFrame(...H){const{delegate:V}=N;return(V?.requestAnimationFrame||requestAnimationFrame)(...H)},cancelAnimationFrame(...H){const{delegate:V}=N;return(V?.cancelAnimationFrame||cancelAnimationFrame)(...H)},delegate:void 0};var M=A(39687);const R=new class j extends M.q{flush(V){this._active=!0;const P=this._scheduled;this._scheduled=void 0;const{actions:ee}=this;let W;V=V||ee.shift();do{if(W=V.execute(V.state,V.delay))break}while((V=ee[0])&&V.id===P&&ee.shift());if(this._active=!1,W){for(;(V=ee[0])&&V.id===P&&ee.shift();)V.unsubscribe();throw W}}}(class Y extends h.R{constructor(V,P){super(V,P),this.scheduler=V,this.work=P}requestAsyncId(V,P,ee=0){return null!==ee&&ee>0?super.requestAsyncId(V,P,ee):(V.actions.push(this),V._scheduled||(V._scheduled=N.requestAnimationFrame(()=>V.flush(void 0))))}recycleAsyncId(V,P,ee=0){var W;if(null!=ee?ee>0:this.delay>0)return super.recycleAsyncId(V,P,ee);const{actions:Q}=V;null!=P&&(null===(W=Q[Q.length-1])||void 0===W?void 0:W.id)!==P&&(N.cancelAnimationFrame(P),V._scheduled=void 0)}})},25007:(Ye,J,A)=>{"use strict";A.d(J,{$:()=>Q});var h=A(96780);let N,x=1;const Y={};function M(ae){return ae in Y&&(delete Y[ae],!0)}const j={setImmediate(ae){const re=x++;return Y[re]=!0,N||(N=Promise.resolve()),N.then(()=>M(re)&&ae()),re},clearImmediate(ae){M(ae)}},{setImmediate:U,clearImmediate:H}=j,V={setImmediate(...ae){const{delegate:re}=V;return(re?.setImmediate||U)(...ae)},clearImmediate(ae){const{delegate:re}=V;return(re?.clearImmediate||H)(ae)},delegate:void 0};var ee=A(39687);const Q=new class W extends ee.q{flush(re){this._active=!0;const te=this._scheduled;this._scheduled=void 0;const{actions:ue}=this;let pe;re=re||ue.shift();do{if(pe=re.execute(re.state,re.delay))break}while((re=ue[0])&&re.id===te&&ue.shift());if(this._active=!1,pe){for(;(re=ue[0])&&re.id===te&&ue.shift();)re.unsubscribe();throw pe}}}(class P extends h.R{constructor(re,te){super(re,te),this.scheduler=re,this.work=te}requestAsyncId(re,te,ue=0){return null!==ue&&ue>0?super.requestAsyncId(re,te,ue):(re.actions.push(this),re._scheduled||(re._scheduled=V.setImmediate(re.flush.bind(re,void 0))))}recycleAsyncId(re,te,ue=0){var pe;if(null!=ue?ue>0:this.delay>0)return super.recycleAsyncId(re,te,ue);const{actions:he}=re;null!=te&&(null===(pe=he[he.length-1])||void 0===pe?void 0:pe.id)!==te&&(V.clearImmediate(te),re._scheduled===te&&(re._scheduled=void 0))}})},43236:(Ye,J,A)=>{"use strict";A.d(J,{E:()=>N,b:()=>Y});var h=A(96780);const N=new(A(39687).q)(h.R),Y=N},86129:(Ye,J,A)=>{"use strict";A.d(J,{U:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},19270:(Ye,J,A)=>{"use strict";A.d(J,{f:()=>h});const h={setTimeout(x,N,...Y){const{delegate:M}=h;return M?.setTimeout?M.setTimeout(x,N,...Y):setTimeout(x,N,...Y)},clearTimeout(x){const{delegate:N}=h;return(N?.clearTimeout||clearTimeout)(x)},delegate:void 0}},4761:(Ye,J,A)=>{"use strict";A.d(J,{l:()=>x});const x=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Ye,J,A)=>{"use strict";A.d(J,{s:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(Ye,J,A)=>{"use strict";A.d(J,{R0:()=>j,lI:()=>M,ms:()=>Y});var h=A(98071),x=A(79470);function N(R){return R[R.length-1]}function Y(R){return(0,h.T)(N(R))?R.pop():void 0}function M(R){return(0,x.m)(N(R))?R.pop():void 0}function j(R,U){return"number"==typeof N(R)?R.pop():U}},93073:(Ye,J,A)=>{"use strict";A.d(J,{D:()=>M});const{isArray:h}=Array,{getPrototypeOf:x,prototype:N,keys:Y}=Object;function M(R){if(1===R.length){const U=R[0];if(h(U))return{args:U,keys:null};if(function j(R){return R&&"object"==typeof R&&x(R)===N}(U)){const H=Y(U);return{args:H.map(V=>U[V]),keys:H}}}return{args:R,keys:null}}},57908:(Ye,J,A)=>{"use strict";function h(x,N){if(x){const Y=x.indexOf(N);0<=Y&&x.splice(Y,1)}}A.d(J,{o:()=>h})},81853:(Ye,J,A)=>{"use strict";function h(x){const Y=x(M=>{Error.call(M),M.stack=(new Error).stack});return Y.prototype=Object.create(Error.prototype),Y.prototype.constructor=Y,Y}A.d(J,{L:()=>h})},58496:(Ye,J,A)=>{"use strict";function h(x,N){return x.reduce((Y,M,j)=>(Y[M]=N[j],Y),{})}A.d(J,{e:()=>h})},49786:(Ye,J,A)=>{"use strict";A.d(J,{Y:()=>N,l:()=>Y});var h=A(41026);let x=null;function N(M){if(h.$.useDeprecatedSynchronousErrorHandling){const j=!x;if(j&&(x={errorThrown:!1,error:null}),M(),j){const{errorThrown:R,error:U}=x;if(x=null,R)throw U}}else M()}function Y(M){h.$.useDeprecatedSynchronousErrorHandling&&x&&(x.errorThrown=!0,x.error=M)}},45225:(Ye,J,A)=>{"use strict";function h(x,N,Y,M=0,j=!1){const R=N.schedule(function(){Y(),j?x.add(this.schedule(null,M)):this.unsubscribe()},M);if(x.add(R),!j)return R}A.d(J,{N:()=>h})},33669:(Ye,J,A)=>{"use strict";function h(x){return x}A.d(J,{D:()=>h})},47441:(Ye,J,A)=>{"use strict";A.d(J,{X:()=>h});const h=x=>x&&"number"==typeof x.length&&"function"!=typeof x},37953:(Ye,J,A)=>{"use strict";A.d(J,{T:()=>x});var h=A(98071);function x(N){return Symbol.asyncIterator&&(0,h.T)(N?.[Symbol.asyncIterator])}},98071:(Ye,J,A)=>{"use strict";function h(x){return"function"==typeof x}A.d(J,{T:()=>h})},55055:(Ye,J,A)=>{"use strict";A.d(J,{l:()=>N});var h=A(3494),x=A(98071);function N(Y){return(0,x.T)(Y[h.s])}},85397:(Ye,J,A)=>{"use strict";A.d(J,{x:()=>N});var h=A(4761),x=A(98071);function N(Y){return(0,x.T)(Y?.[h.l])}},74402:(Ye,J,A)=>{"use strict";A.d(J,{A:()=>N});var h=A(71985),x=A(98071);function N(Y){return!!Y&&(Y instanceof h.c||(0,x.T)(Y.lift)&&(0,x.T)(Y.subscribe))}},59858:(Ye,J,A)=>{"use strict";A.d(J,{y:()=>x});var h=A(98071);function x(N){return(0,h.T)(N?.then)}},15196:(Ye,J,A)=>{"use strict";A.d(J,{C:()=>N,U:()=>Y});var h=A(31635),x=A(98071);function N(M){return(0,h.AQ)(this,arguments,function*(){const R=M.getReader();try{for(;;){const{value:U,done:H}=yield(0,h.N3)(R.read());if(H)return yield(0,h.N3)(void 0);yield yield(0,h.N3)(U)}}finally{R.releaseLock()}})}function Y(M){return(0,x.T)(M?.getReader)}},79470:(Ye,J,A)=>{"use strict";A.d(J,{m:()=>x});var h=A(98071);function x(N){return N&&(0,h.T)(N.schedule)}},39974:(Ye,J,A)=>{"use strict";A.d(J,{N:()=>N,S:()=>x});var h=A(98071);function x(Y){return(0,h.T)(Y?.lift)}function N(Y){return M=>{if(x(M))return M.lift(function(j){try{return Y(j,this)}catch(R){this.error(R)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Ye,J,A)=>{"use strict";A.d(J,{I:()=>Y});var h=A(96354);const{isArray:x}=Array;function Y(M){return(0,h.T)(j=>function N(M,j){return x(j)?M(...j):M(j)}(M,j))}},85343:(Ye,J,A)=>{"use strict";function h(){}A.d(J,{l:()=>h})},71203:(Ye,J,A)=>{"use strict";A.d(J,{F:()=>x,m:()=>N});var h=A(33669);function x(...Y){return N(Y)}function N(Y){return 0===Y.length?h.D:1===Y.length?Y[0]:function(j){return Y.reduce((R,U)=>U(R),j)}}},45334:(Ye,J,A)=>{"use strict";A.d(J,{m:()=>N});var h=A(41026),x=A(19270);function N(Y){x.f.setTimeout(()=>{const{onUnhandledError:M}=h.$;if(!M)throw Y;M(Y)})}},50591:(Ye,J,A)=>{"use strict";function h(x){return new TypeError(`You provided ${null!==x&&"object"==typeof x?"an invalid object":`'${x}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(J,{L:()=>h})},27054:(Ye,J,A)=>{var h=A(83838),x=h.Buffer;function N(M,j){for(var R in M)j[R]=M[R]}function Y(M,j,R){return x(M,j,R)}x.from&&x.alloc&&x.allocUnsafe&&x.allocUnsafeSlow?Ye.exports=h:(N(h,J),J.Buffer=Y),Y.prototype=Object.create(x.prototype),N(x,Y),Y.from=function(M,j,R){if("number"==typeof M)throw new TypeError("Argument must not be a number");return x(M,j,R)},Y.alloc=function(M,j,R){if("number"!=typeof M)throw new TypeError("Argument must be a number");var U=x(M);return void 0!==j?"string"==typeof R?U.fill(j,R):U.fill(j):U.fill(0),U},Y.allocUnsafe=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return x(M)},Y.allocUnsafeSlow=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return h.SlowBuffer(M)}},70463:(Ye,J,A)=>{var h=A(27054).Buffer;function x(N,Y){this._block=h.alloc(N),this._finalSize=Y,this._blockSize=N,this._len=0}x.prototype.update=function(N,Y){"string"==typeof N&&(N=h.from(N,Y=Y||"utf8"));for(var M=this._block,j=this._blockSize,R=N.length,U=this._len,H=0;H<R;){for(var V=U%j,P=Math.min(R-H,j-V),ee=0;ee<P;ee++)M[V+ee]=N[H+ee];H+=P,(U+=P)%j==0&&this._update(M)}return this._len+=R,this},x.prototype.digest=function(N){var Y=this._len%this._blockSize;this._block[Y]=128,this._block.fill(0,Y+1),Y>=this._finalSize&&(this._update(this._block),this._block.fill(0));var M=8*this._len;if(M<=4294967295)this._block.writeUInt32BE(M,this._blockSize-4);else{var j=(4294967295&M)>>>0;this._block.writeUInt32BE((M-j)/4294967296,this._blockSize-8),this._block.writeUInt32BE(j,this._blockSize-4)}this._update(this._block);var U=this._hash();return N?U.toString(N):U},x.prototype._update=function(){throw new Error("_update must be implemented by subclass")},Ye.exports=x},25443:(Ye,J,A)=>{var h=Ye.exports=function(N){N=N.toLowerCase();var Y=h[N];if(!Y)throw new Error(N+" is not supported (we accept pull requests)");return new Y};h.sha=A(48585),h.sha1=A(21270),h.sha224=A(42709),h.sha256=A(32148),h.sha384=A(51856),h.sha512=A(3121)},48585:(Ye,J,A)=>{var h=A(71993),x=A(70463),N=A(27054).Buffer,Y=[1518500249,1859775393,-1894007588,-899497514],M=new Array(80);function j(){this.init(),this._w=M,x.call(this,64,56)}function R(V){return V<<5|V>>>27}function U(V){return V<<30|V>>>2}function H(V,P,ee,W){return 0===V?P&ee|~P&W:2===V?P&ee|P&W|ee&W:P^ee^W}h(j,x),j.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},j.prototype._update=function(V){for(var P=this._w,ee=0|this._a,W=0|this._b,Q=0|this._c,de=0|this._d,ae=0|this._e,re=0;re<16;++re)P[re]=V.readInt32BE(4*re);for(;re<80;++re)P[re]=P[re-3]^P[re-8]^P[re-14]^P[re-16];for(var te=0;te<80;++te){var ue=~~(te/20),pe=R(ee)+H(ue,W,Q,de)+ae+P[te]+Y[ue]|0;ae=de,de=Q,Q=U(W),W=ee,ee=pe}this._a=ee+this._a|0,this._b=W+this._b|0,this._c=Q+this._c|0,this._d=de+this._d|0,this._e=ae+this._e|0},j.prototype._hash=function(){var V=N.allocUnsafe(20);return V.writeInt32BE(0|this._a,0),V.writeInt32BE(0|this._b,4),V.writeInt32BE(0|this._c,8),V.writeInt32BE(0|this._d,12),V.writeInt32BE(0|this._e,16),V},Ye.exports=j},21270:(Ye,J,A)=>{var h=A(71993),x=A(70463),N=A(27054).Buffer,Y=[1518500249,1859775393,-1894007588,-899497514],M=new Array(80);function j(){this.init(),this._w=M,x.call(this,64,56)}function R(P){return P<<1|P>>>31}function U(P){return P<<5|P>>>27}function H(P){return P<<30|P>>>2}function V(P,ee,W,Q){return 0===P?ee&W|~ee&Q:2===P?ee&W|ee&Q|W&Q:ee^W^Q}h(j,x),j.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},j.prototype._update=function(P){for(var ee=this._w,W=0|this._a,Q=0|this._b,de=0|this._c,ae=0|this._d,re=0|this._e,te=0;te<16;++te)ee[te]=P.readInt32BE(4*te);for(;te<80;++te)ee[te]=R(ee[te-3]^ee[te-8]^ee[te-14]^ee[te-16]);for(var ue=0;ue<80;++ue){var pe=~~(ue/20),he=U(W)+V(pe,Q,de,ae)+re+ee[ue]+Y[pe]|0;re=ae,ae=de,de=H(Q),Q=W,W=he}this._a=W+this._a|0,this._b=Q+this._b|0,this._c=de+this._c|0,this._d=ae+this._d|0,this._e=re+this._e|0},j.prototype._hash=function(){var P=N.allocUnsafe(20);return P.writeInt32BE(0|this._a,0),P.writeInt32BE(0|this._b,4),P.writeInt32BE(0|this._c,8),P.writeInt32BE(0|this._d,12),P.writeInt32BE(0|this._e,16),P},Ye.exports=j},42709:(Ye,J,A)=>{var h=A(71993),x=A(32148),N=A(70463),Y=A(27054).Buffer,M=new Array(64);function j(){this.init(),this._w=M,N.call(this,64,56)}h(j,x),j.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},j.prototype._hash=function(){var R=Y.allocUnsafe(28);return R.writeInt32BE(this._a,0),R.writeInt32BE(this._b,4),R.writeInt32BE(this._c,8),R.writeInt32BE(this._d,12),R.writeInt32BE(this._e,16),R.writeInt32BE(this._f,20),R.writeInt32BE(this._g,24),R},Ye.exports=j},32148:(Ye,J,A)=>{var h=A(71993),x=A(70463),N=A(27054).Buffer,Y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],M=new Array(64);function j(){this.init(),this._w=M,x.call(this,64,56)}function R(W,Q,de){return de^W&(Q^de)}function U(W,Q,de){return W&Q|de&(W|Q)}function H(W){return(W>>>2|W<<30)^(W>>>13|W<<19)^(W>>>22|W<<10)}function V(W){return(W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7)}function P(W){return(W>>>7|W<<25)^(W>>>18|W<<14)^W>>>3}function ee(W){return(W>>>17|W<<15)^(W>>>19|W<<13)^W>>>10}h(j,x),j.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},j.prototype._update=function(W){for(var Q=this._w,de=0|this._a,ae=0|this._b,re=0|this._c,te=0|this._d,ue=0|this._e,pe=0|this._f,he=0|this._g,ve=0|this._h,ge=0;ge<16;++ge)Q[ge]=W.readInt32BE(4*ge);for(;ge<64;++ge)Q[ge]=ee(Q[ge-2])+Q[ge-7]+P(Q[ge-15])+Q[ge-16]|0;for(var Me=0;Me<64;++Me){var Oe=ve+V(ue)+R(ue,pe,he)+Y[Me]+Q[Me]|0,je=H(de)+U(de,ae,re)|0;ve=he,he=pe,pe=ue,ue=te+Oe|0,te=re,re=ae,ae=de,de=Oe+je|0}this._a=de+this._a|0,this._b=ae+this._b|0,this._c=re+this._c|0,this._d=te+this._d|0,this._e=ue+this._e|0,this._f=pe+this._f|0,this._g=he+this._g|0,this._h=ve+this._h|0},j.prototype._hash=function(){var W=N.allocUnsafe(32);return W.writeInt32BE(this._a,0),W.writeInt32BE(this._b,4),W.writeInt32BE(this._c,8),W.writeInt32BE(this._d,12),W.writeInt32BE(this._e,16),W.writeInt32BE(this._f,20),W.writeInt32BE(this._g,24),W.writeInt32BE(this._h,28),W},Ye.exports=j},51856:(Ye,J,A)=>{var h=A(71993),x=A(3121),N=A(70463),Y=A(27054).Buffer,M=new Array(160);function j(){this.init(),this._w=M,N.call(this,128,112)}h(j,x),j.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},j.prototype._hash=function(){var R=Y.allocUnsafe(48);function U(H,V,P){R.writeInt32BE(H,P),R.writeInt32BE(V,P+4)}return U(this._ah,this._al,0),U(this._bh,this._bl,8),U(this._ch,this._cl,16),U(this._dh,this._dl,24),U(this._eh,this._el,32),U(this._fh,this._fl,40),R},Ye.exports=j},3121:(Ye,J,A)=>{var h=A(71993),x=A(70463),N=A(27054).Buffer,Y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],M=new Array(160);function j(){this.init(),this._w=M,x.call(this,128,112)}function R(ae,re,te){return te^ae&(re^te)}function U(ae,re,te){return ae&re|te&(ae|re)}function H(ae,re){return(ae>>>28|re<<4)^(re>>>2|ae<<30)^(re>>>7|ae<<25)}function V(ae,re){return(ae>>>14|re<<18)^(ae>>>18|re<<14)^(re>>>9|ae<<23)}function P(ae,re){return(ae>>>1|re<<31)^(ae>>>8|re<<24)^ae>>>7}function ee(ae,re){return(ae>>>1|re<<31)^(ae>>>8|re<<24)^(ae>>>7|re<<25)}function W(ae,re){return(ae>>>19|re<<13)^(re>>>29|ae<<3)^ae>>>6}function Q(ae,re){return(ae>>>19|re<<13)^(re>>>29|ae<<3)^(ae>>>6|re<<26)}function de(ae,re){return ae>>>0<re>>>0?1:0}h(j,x),j.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},j.prototype._update=function(ae){for(var re=this._w,te=0|this._ah,ue=0|this._bh,pe=0|this._ch,he=0|this._dh,ve=0|this._eh,ge=0|this._fh,Me=0|this._gh,Oe=0|this._hh,je=0|this._al,B=0|this._bl,l=0|this._cl,f=0|this._dl,w=0|this._el,_=0|this._fl,D=0|this._gl,O=0|this._hl,$=0;$<32;$+=2)re[$]=ae.readInt32BE(4*$),re[$+1]=ae.readInt32BE(4*$+4);for(;$<160;$+=2){var T=re[$-30],c=re[$-30+1],E=P(T,c),q=ee(c,T),X=W(T=re[$-4],c=re[$-4+1]),ce=Q(c,T),Ke=re[$-32],Qe=re[$-32+1],ke=q+re[$-14+1]|0,Ie=E+re[$-14]+de(ke,q)|0;Ie=(Ie=Ie+X+de(ke=ke+ce|0,ce)|0)+Ke+de(ke=ke+Qe|0,Qe)|0,re[$]=Ie,re[$+1]=ke}for(var Xe=0;Xe<160;Xe+=2){Ie=re[Xe],ke=re[Xe+1];var Se=U(te,ue,pe),Le=U(je,B,l),Ee=H(te,je),be=H(je,te),oe=V(ve,w),fe=V(w,ve),we=Y[Xe],De=Y[Xe+1],$e=R(ve,ge,Me),Je=R(w,_,D),Ze=O+fe|0,Pt=Oe+oe+de(Ze,O)|0;Pt=(Pt=(Pt=Pt+$e+de(Ze=Ze+Je|0,Je)|0)+we+de(Ze=Ze+De|0,De)|0)+Ie+de(Ze=Ze+ke|0,ke)|0;var nt=be+Le|0,Ge=Ee+Se+de(nt,be)|0;Oe=Me,O=D,Me=ge,D=_,ge=ve,_=w,ve=he+Pt+de(w=f+Ze|0,f)|0,he=pe,f=l,pe=ue,l=B,ue=te,B=je,te=Pt+Ge+de(je=Ze+nt|0,Ze)|0}this._al=this._al+je|0,this._bl=this._bl+B|0,this._cl=this._cl+l|0,this._dl=this._dl+f|0,this._el=this._el+w|0,this._fl=this._fl+_|0,this._gl=this._gl+D|0,this._hl=this._hl+O|0,this._ah=this._ah+te+de(this._al,je)|0,this._bh=this._bh+ue+de(this._bl,B)|0,this._ch=this._ch+pe+de(this._cl,l)|0,this._dh=this._dh+he+de(this._dl,f)|0,this._eh=this._eh+ve+de(this._el,w)|0,this._fh=this._fh+ge+de(this._fl,_)|0,this._gh=this._gh+Me+de(this._gl,D)|0,this._hh=this._hh+Oe+de(this._hl,O)|0},j.prototype._hash=function(){var ae=N.allocUnsafe(64);function re(te,ue,pe){ae.writeInt32BE(te,pe),ae.writeInt32BE(ue,pe+4)}return re(this._ah,this._al,0),re(this._bh,this._bl,8),re(this._ch,this._cl,16),re(this._dh,this._dl,24),re(this._eh,this._el,32),re(this._fh,this._fl,40),re(this._gh,this._gl,48),re(this._hh,this._hl,56),ae},Ye.exports=j},18876:Ye=>{"use strict";function A(Y,M){return Y+h(M)}function h(Y){let M=Y;return M-=M>>1&1431655765,M=(858993459&M)+(M>>2&858993459),16843009*(M+(M>>4)&252645135)>>24}function x(Y,M){return Y[0]-M[0]}function N(Y){return Y[1]}Ye.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(M,j){let R=this._internalPositionFor(M,!1);if(void 0===j)-1!==R&&(this._unsetInternalPos(R),this._unsetBit(M),this._changedLength=!0,this._changedData=!0);else{let U=!1;-1===R?(R=this._data.length,this._setBit(M),this._changedData=!0):U=!0,this._setInternalPos(R,M,j,U),this._changedLength=!0}}unset(M){this.set(M,void 0)}get(M){this._sortData();const j=this._internalPositionFor(M,!0);if(-1!==j)return this._data[j][1]}push(M){return this.set(this.length,M),this.length}get length(){if(this._sortData(),this._changedLength){const M=this._data[this._data.length-1];this._length=M?M[0]+1:0,this._changedLength=!1}return this._length}forEach(M){let j=0;for(;j<this.length;)M(this.get(j),j,this),j++}map(M){let j=0,R=new Array(this.length);for(;j<this.length;)R[j]=M(this.get(j),j,this),j++;return R}reduce(M,j){let R=0,U=j;for(;R<this.length;)U=M(U,this.get(R),R),R++;return U}find(M){let R,U,j=0;for(;j<this.length&&!R;)U=this.get(j),R=M(U),j++;return R?U:void 0}_internalPositionFor(M,j){const R=this._bytePosFor(M,j);if(R>=this._bitArrays.length)return-1;const U=this._bitArrays[R],H=M-7*R;return(U&1<<H)>0?this._bitArrays.slice(0,R).reduce(A,0)+h(U&~(4294967295<<H+1))-1:-1}_bytePosFor(M,j){const R=Math.floor(M/7),U=R+1;for(;!j&&this._bitArrays.length<U;)this._bitArrays.push(0);return R}_setBit(M){const j=this._bytePosFor(M,!1);this._bitArrays[j]|=1<<M-7*j}_unsetBit(M){const j=this._bytePosFor(M,!1);this._bitArrays[j]&=~(1<<M-7*j)}_setInternalPos(M,j,R,U){const H=this._data,V=[j,R];if(U)this._sortData(),H[M]=V;else{if(H.length)if(H[H.length-1][0]>=j)H.push(V);else if(H[0][0]<=j)H.unshift(V);else{const P=Math.round(H.length/2);this._data=H.slice(0,P).concat(V).concat(H.slice(P))}else this._data.push(V);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(M){this._data.splice(M,1)}_sortData(){this._changedData&&this._data.sort(x),this._changedData=!1}bitField(){const M=[];let H,j=8,R=0,U=0;const V=this._bitArrays.slice();for(;V.length||R;){0===R&&(H=V.shift(),R=7);const ee=Math.min(R,j);U|=(H&~(255<<ee))<<8-j,H>>>=ee,R-=ee,j-=ee,(!j||!R&&!V.length)&&(M.push(U),U=0,j=8)}for(var P=M.length-1;P>0&&0===M[P];P--)M.pop();return M}compactArray(){return this._sortData(),this._data.map(N)}}},7045:(Ye,J,A)=>{Ye.exports=N;var h=A(44356).EventEmitter;function N(){h.call(this)}A(71993)(N,h),N.Readable=A(19609),N.Writable=A(47849),N.Duplex=A(74075),N.Transform=A(2909),N.PassThrough=A(18823),N.finished=A(33139),N.pipeline=A(96249),N.Stream=N,N.prototype.pipe=function(Y,M){var j=this;function R(Q){Y.writable&&!1===Y.write(Q)&&j.pause&&j.pause()}function U(){j.readable&&j.resume&&j.resume()}j.on("data",R),Y.on("drain",U),!Y._isStdio&&(!M||!1!==M.end)&&(j.on("end",V),j.on("close",P));var H=!1;function V(){H||(H=!0,Y.end())}function P(){H||(H=!0,"function"==typeof Y.destroy&&Y.destroy())}function ee(Q){if(W(),0===h.listenerCount(this,"error"))throw Q}function W(){j.removeListener("data",R),Y.removeListener("drain",U),j.removeListener("end",V),j.removeListener("close",P),j.removeListener("error",ee),Y.removeListener("error",ee),j.removeListener("end",W),j.removeListener("close",W),Y.removeListener("close",W)}return j.on("error",ee),Y.on("error",ee),j.on("end",W),j.on("close",W),Y.on("close",W),Y.emit("pipe",j),Y}},78454:(Ye,J,A)=>{"use strict";var h=A(27054).Buffer,x=h.isEncoding||function(te){switch((te=""+te)&&te.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function M(te){var ue;switch(this.encoding=function Y(te){var ue=function N(te){if(!te)return"utf8";for(var ue;;)switch(te){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return te;default:if(ue)return;te=(""+te).toLowerCase(),ue=!0}}(te);if("string"!=typeof ue&&(h.isEncoding===x||!x(te)))throw new Error("Unknown encoding: "+te);return ue||te}(te),this.encoding){case"utf16le":this.text=ee,this.end=W,ue=4;break;case"utf8":this.fillLast=H,ue=4;break;case"base64":this.text=Q,this.end=de,ue=3;break;default:return this.write=ae,void(this.end=re)}this.lastNeed=0,this.lastTotal=0,this.lastChar=h.allocUnsafe(ue)}function j(te){return te<=127?0:te>>5==6?2:te>>4==14?3:te>>3==30?4:te>>6==2?-1:-2}function H(te){var ue=this.lastTotal-this.lastNeed,pe=function U(te,ue,pe){if(128!=(192&ue[0]))return te.lastNeed=0,"\ufffd";if(te.lastNeed>1&&ue.length>1){if(128!=(192&ue[1]))return te.lastNeed=1,"\ufffd";if(te.lastNeed>2&&ue.length>2&&128!=(192&ue[2]))return te.lastNeed=2,"\ufffd"}}(this,te);return void 0!==pe?pe:this.lastNeed<=te.length?(te.copy(this.lastChar,ue,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(te.copy(this.lastChar,ue,0,te.length),void(this.lastNeed-=te.length))}function ee(te,ue){if((te.length-ue)%2==0){var pe=te.toString("utf16le",ue);if(pe){var he=pe.charCodeAt(pe.length-1);if(he>=55296&&he<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=te[te.length-2],this.lastChar[1]=te[te.length-1],pe.slice(0,-1)}return pe}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=te[te.length-1],te.toString("utf16le",ue,te.length-1)}function W(te){var ue=te&&te.length?this.write(te):"";return this.lastNeed?ue+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):ue}function Q(te,ue){var pe=(te.length-ue)%3;return 0===pe?te.toString("base64",ue):(this.lastNeed=3-pe,this.lastTotal=3,1===pe?this.lastChar[0]=te[te.length-1]:(this.lastChar[0]=te[te.length-2],this.lastChar[1]=te[te.length-1]),te.toString("base64",ue,te.length-pe))}function de(te){var ue=te&&te.length?this.write(te):"";return this.lastNeed?ue+this.lastChar.toString("base64",0,3-this.lastNeed):ue}function ae(te){return te.toString(this.encoding)}function re(te){return te&&te.length?this.write(te):""}J.StringDecoder=M,M.prototype.write=function(te){if(0===te.length)return"";var ue,pe;if(this.lastNeed){if(void 0===(ue=this.fillLast(te)))return"";pe=this.lastNeed,this.lastNeed=0}else pe=0;return pe<te.length?ue?ue+this.text(te,pe):this.text(te,pe):ue||""},M.prototype.end=function P(te){var ue=te&&te.length?this.write(te):"";return this.lastNeed?ue+"\ufffd":ue},M.prototype.text=function V(te,ue){var pe=function R(te,ue,pe){var he=ue.length-1;if(he<pe)return 0;var ve=j(ue[he]);return ve>=0?(ve>0&&(te.lastNeed=ve-1),ve):--he<pe||-2===ve?0:(ve=j(ue[he]))>=0?(ve>0&&(te.lastNeed=ve-2),ve):--he<pe||-2===ve?0:(ve=j(ue[he]))>=0?(ve>0&&(2===ve?ve=0:te.lastNeed=ve-3),ve):0}(this,te,ue);if(!this.lastNeed)return te.toString("utf8",ue);this.lastTotal=pe;var he=te.length-(pe-this.lastNeed);return te.copy(this.lastChar,0,he),te.toString("utf8",ue,he)},M.prototype.fillLast=function(te){if(this.lastNeed<=te.length)return te.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);te.copy(this.lastChar,this.lastTotal-this.lastNeed,0,te.length),this.lastNeed-=te.length}},95568:function(Ye,J){!function(A){"use strict";function h(){for(var Lt=arguments.length,st=Array(Lt),mt=0;mt<Lt;mt++)st[mt]=arguments[mt];if(st.length>1){st[0]=st[0].slice(0,-1);for(var sn=st.length-1,Zt=1;Zt<sn;++Zt)st[Zt]=st[Zt].slice(1,-1);return st[sn]=st[sn].slice(1),st.join("")}return st[0]}function x(Lt){return"(?:"+Lt+")"}function N(Lt){return void 0===Lt?"undefined":null===Lt?"null":Object.prototype.toString.call(Lt).split(" ").pop().split("]").shift().toLowerCase()}function Y(Lt){return Lt.toUpperCase()}function R(Lt){var st="[A-Za-z]",sn="[0-9]",xn=h(sn,"[A-Fa-f]"),zn=x(x("%[EFef]"+xn+"%"+xn+xn+"%"+xn+xn)+"|"+x("%[89A-Fa-f]"+xn+"%"+xn+xn)+"|"+x("%"+xn+xn)),pr="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",qn=h("[\\:\\/\\?\\#\\[\\]\\@]",pr),dt=Lt?"[\\uE000-\\uF8FF]":"[]",Ne=h(st,sn,"[\\-\\.\\_\\~]",Lt?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),We=x(st+h(st,sn,"[\\+\\-\\.]")+"*"),Bt=x(x(zn+"|"+h(Ne,pr,"[\\:]"))+"*"),Kn=(x(x("25[0-5]")+"|"+x("2[0-4]"+sn)+"|"+x("1"+sn+sn)+"|"+x("[1-9]"+sn)+"|"+sn),x(x("25[0-5]")+"|"+x("2[0-4]"+sn)+"|"+x("1"+sn+sn)+"|"+x("0?[1-9]"+sn)+"|0?0?"+sn)),ir=x(Kn+"\\."+Kn+"\\."+Kn+"\\."+Kn),hr=x(xn+"{1,4}"),Wr=x(x(hr+"\\:"+hr)+"|"+ir),Vr=x(x(hr+"\\:")+"{6}"+Wr),ti=x("\\:\\:"+x(hr+"\\:")+"{5}"+Wr),ni=x(x(hr)+"?\\:\\:"+x(hr+"\\:")+"{4}"+Wr),Ei=x(x(x(hr+"\\:")+"{0,1}"+hr)+"?\\:\\:"+x(hr+"\\:")+"{3}"+Wr),yn=x(x(x(hr+"\\:")+"{0,2}"+hr)+"?\\:\\:"+x(hr+"\\:")+"{2}"+Wr),Pn=x(x(x(hr+"\\:")+"{0,3}"+hr)+"?\\:\\:"+hr+"\\:"+Wr),Nn=x(x(x(hr+"\\:")+"{0,4}"+hr)+"?\\:\\:"+Wr),tr=x(x(x(hr+"\\:")+"{0,5}"+hr)+"?\\:\\:"+hr),Dr=x(x(x(hr+"\\:")+"{0,6}"+hr)+"?\\:\\:"),Hr=x([Vr,ti,ni,Ei,yn,Pn,Nn,tr,Dr].join("|")),Ur=x(x(Ne+"|"+zn)+"+"),ui=(x(Hr+"\\%25"+Ur),x(Hr+x("\\%25|\\%(?!"+xn+"{2})")+Ur)),Mi=x("[vV]"+xn+"+\\."+h(Ne,pr,"[\\:]")+"+"),ls=x("\\["+x(ui+"|"+Hr+"|"+Mi)+"\\]"),Ji=x(x(zn+"|"+h(Ne,pr))+"*"),bs=x(ls+"|"+ir+"(?!"+Ji+")|"+Ji),As=x(sn+"*"),Js=x(x(Bt+"@")+"?"+bs+x("\\:"+As)+"?"),Eo=x(zn+"|"+h(Ne,pr,"[\\:\\@]")),qi=x(Eo+"*"),bo=x(Eo+"+"),Fc=x(x(zn+"|"+h(Ne,pr,"[\\@]"))+"+"),co=x(x("\\/"+qi)+"*"),ca=x("\\/"+x(bo+co)+"?"),Fa=x(Fc+co),ws=x(bo+co),yo="(?!"+Eo+")",nc=(x(co+"|"+ca+"|"+Fa+"|"+ws+"|"+yo),x(x(Eo+"|"+h("[\\/\\?]",dt))+"*")),Cc=x(x(Eo+"|[\\/\\?]")+"*"),gd=x(x("\\/\\/"+Js+co)+"|"+ca+"|"+ws+"|"+yo),Wc=x(We+"\\:"+gd+x("\\?"+nc)+"?"+x("\\#"+Cc)+"?"),fh=x(x("\\/\\/"+Js+co)+"|"+ca+"|"+Fa+"|"+yo),hh=x(fh+x("\\?"+nc)+"?"+x("\\#"+Cc)+"?");return x(Wc+"|"+hh),x(We+"\\:"+gd+x("\\?"+nc)+"?"),x(x("\\/\\/("+x("("+Bt+")@")+"?("+bs+")"+x("\\:("+As+")")+"?)")+"?("+co+"|"+ca+"|"+ws+"|"+yo+")"),x("\\?("+nc+")"),x("\\#("+Cc+")"),x(x("\\/\\/("+x("("+Bt+")@")+"?("+bs+")"+x("\\:("+As+")")+"?)")+"?("+co+"|"+ca+"|"+Fa+"|"+yo+")"),x("\\?("+nc+")"),x("\\#("+Cc+")"),x(x("\\/\\/("+x("("+Bt+")@")+"?("+bs+")"+x("\\:("+As+")")+"?)")+"?("+co+"|"+ca+"|"+ws+"|"+yo+")"),x("\\?("+nc+")"),x("\\#("+Cc+")"),x("("+Bt+")@"),x("\\:("+As+")"),{NOT_SCHEME:new RegExp(h("[^]",st,sn,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(h("[^\\%\\:]",Ne,pr),"g"),NOT_HOST:new RegExp(h("[^\\%\\[\\]\\:]",Ne,pr),"g"),NOT_PATH:new RegExp(h("[^\\%\\/\\:\\@]",Ne,pr),"g"),NOT_PATH_NOSCHEME:new RegExp(h("[^\\%\\/\\@]",Ne,pr),"g"),NOT_QUERY:new RegExp(h("[^\\%]",Ne,pr,"[\\:\\@\\/\\?]",dt),"g"),NOT_FRAGMENT:new RegExp(h("[^\\%]",Ne,pr,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(h("[^]",Ne,pr),"g"),UNRESERVED:new RegExp(Ne,"g"),OTHER_CHARS:new RegExp(h("[^\\%]",Ne,qn),"g"),PCT_ENCODED:new RegExp(zn,"g"),IPV4ADDRESS:new RegExp("^("+ir+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Hr+")"+x(x("\\%25|\\%(?!"+xn+"{2})")+"("+Ur+")")+"?\\]?$")}}var U=R(!1),H=R(!0),V=function(){return function(st,mt){if(Array.isArray(st))return st;if(Symbol.iterator in Object(st))return function Lt(st,mt){var sn=[],Zt=!0,xn=!1,cr=void 0;try{for(var zn,kn=st[Symbol.iterator]();!(Zt=(zn=kn.next()).done)&&(sn.push(zn.value),!mt||sn.length!==mt);Zt=!0);}catch(qr){xn=!0,cr=qr}finally{try{!Zt&&kn.return&&kn.return()}finally{if(xn)throw cr}}return sn}(st,mt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ee=2147483647,W=36,he=/^xn--/,ve=/[^\0-\x7E]/,ge=/[\x2E\u3002\uFF0E\uFF61]/g,Me={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},je=Math.floor,B=String.fromCharCode;function l(Lt){throw new RangeError(Me[Lt])}function w(Lt,st){var mt=Lt.split("@"),sn="";return mt.length>1&&(sn=mt[0]+"@",Lt=mt[1]),sn+function f(Lt,st){for(var mt=[],sn=Lt.length;sn--;)mt[sn]=st(Lt[sn]);return mt}((Lt=Lt.replace(ge,".")).split("."),st).join(".")}function _(Lt){for(var st=[],mt=0,sn=Lt.length;mt<sn;){var Zt=Lt.charCodeAt(mt++);if(Zt>=55296&&Zt<=56319&&mt<sn){var xn=Lt.charCodeAt(mt++);56320==(64512&xn)?st.push(((1023&Zt)<<10)+(1023&xn)+65536):(st.push(Zt),mt--)}else st.push(Zt)}return st}var O=function(st){return st-48<10?st-22:st-65<26?st-65:st-97<26?st-97:W},$=function(st,mt){return st+22+75*(st<26)-((0!=mt)<<5)},T=function(st,mt,sn){var Zt=0;for(st=sn?je(st/700):st>>1,st+=je(st/mt);st>455;Zt+=W)st=je(st/35);return je(Zt+36*st/(st+38))},c=function(st){var mt=[],sn=st.length,Zt=0,xn=128,cr=72,kn=st.lastIndexOf("-");kn<0&&(kn=0);for(var zn=0;zn<kn;++zn)st.charCodeAt(zn)>=128&&l("not-basic"),mt.push(st.charCodeAt(zn));for(var qr=kn>0?kn+1:0;qr<sn;){for(var pr=Zt,qn=1,Jt=W;;Jt+=W){qr>=sn&&l("invalid-input");var dt=O(st.charCodeAt(qr++));(dt>=W||dt>je((ee-Zt)/qn))&&l("overflow"),Zt+=dt*qn;var Ne=Jt<=cr?1:Jt>=cr+26?26:Jt-cr;if(dt<Ne)break;var We=W-Ne;qn>je(ee/We)&&l("overflow"),qn*=We}var Bt=mt.length+1;cr=T(Zt-pr,Bt,0==pr),je(Zt/Bt)>ee-xn&&l("overflow"),xn+=je(Zt/Bt),Zt%=Bt,mt.splice(Zt++,0,xn)}return String.fromCodePoint.apply(String,mt)},E=function(st){var mt=[],sn=(st=_(st)).length,Zt=128,xn=0,cr=72,kn=!0,zn=!1,qr=void 0;try{for(var qn,pr=st[Symbol.iterator]();!(kn=(qn=pr.next()).done);kn=!0){var Jt=qn.value;Jt<128&&mt.push(B(Jt))}}catch(ui){zn=!0,qr=ui}finally{try{!kn&&pr.return&&pr.return()}finally{if(zn)throw qr}}var dt=mt.length,Ne=dt;for(dt&&mt.push("-");Ne<sn;){var We=ee,Bt=!0,gn=!1,Kn=void 0;try{for(var hr,ir=st[Symbol.iterator]();!(Bt=(hr=ir.next()).done);Bt=!0){var Wr=hr.value;Wr>=Zt&&Wr<We&&(We=Wr)}}catch(ui){gn=!0,Kn=ui}finally{try{!Bt&&ir.return&&ir.return()}finally{if(gn)throw Kn}}var Vr=Ne+1;We-Zt>je((ee-xn)/Vr)&&l("overflow"),xn+=(We-Zt)*Vr,Zt=We;var ti=!0,ni=!1,Ei=void 0;try{for(var Pn,yn=st[Symbol.iterator]();!(ti=(Pn=yn.next()).done);ti=!0){var Nn=Pn.value;if(Nn<Zt&&++xn>ee&&l("overflow"),Nn==Zt){for(var tr=xn,Dr=W;;Dr+=W){var Hr=Dr<=cr?1:Dr>=cr+26?26:Dr-cr;if(tr<Hr)break;var Ur=tr-Hr,li=W-Hr;mt.push(B($(Hr+Ur%li,0))),tr=je(Ur/li)}mt.push(B($(tr,0))),cr=T(xn,Vr,Ne==dt),xn=0,++Ne}}}catch(ui){ni=!0,Ei=ui}finally{try{!ti&&yn.return&&yn.return()}finally{if(ni)throw Ei}}++xn,++Zt}return mt.join("")},ce={version:"2.1.0",ucs2:{decode:_,encode:function(st){return String.fromCodePoint.apply(String,function(Lt){if(Array.isArray(Lt)){for(var st=0,mt=Array(Lt.length);st<Lt.length;st++)mt[st]=Lt[st];return mt}return Array.from(Lt)}(st))}},decode:c,encode:E,toASCII:function(st){return w(st,function(mt){return ve.test(mt)?"xn--"+E(mt):mt})},toUnicode:function(st){return w(st,function(mt){return he.test(mt)?c(mt.slice(4).toLowerCase()):mt})}},me={};function Te(Lt){var st=Lt.charCodeAt(0);return st<16?"%0"+st.toString(16).toUpperCase():st<128?"%"+st.toString(16).toUpperCase():st<2048?"%"+(st>>6|192).toString(16).toUpperCase()+"%"+(63&st|128).toString(16).toUpperCase():"%"+(st>>12|224).toString(16).toUpperCase()+"%"+(st>>6&63|128).toString(16).toUpperCase()+"%"+(63&st|128).toString(16).toUpperCase()}function Ke(Lt){for(var st="",mt=0,sn=Lt.length;mt<sn;){var Zt=parseInt(Lt.substr(mt+1,2),16);if(Zt<128)st+=String.fromCharCode(Zt),mt+=3;else if(Zt>=194&&Zt<224){if(sn-mt>=6){var xn=parseInt(Lt.substr(mt+4,2),16);st+=String.fromCharCode((31&Zt)<<6|63&xn)}else st+=Lt.substr(mt,6);mt+=6}else if(Zt>=224){if(sn-mt>=9){var cr=parseInt(Lt.substr(mt+4,2),16),kn=parseInt(Lt.substr(mt+7,2),16);st+=String.fromCharCode((15&Zt)<<12|(63&cr)<<6|63&kn)}else st+=Lt.substr(mt,9);mt+=9}else st+=Lt.substr(mt,3),mt+=3}return st}function Qe(Lt,st){function mt(sn){var Zt=Ke(sn);return Zt.match(st.UNRESERVED)?Zt:sn}return Lt.scheme&&(Lt.scheme=String(Lt.scheme).replace(st.PCT_ENCODED,mt).toLowerCase().replace(st.NOT_SCHEME,"")),void 0!==Lt.userinfo&&(Lt.userinfo=String(Lt.userinfo).replace(st.PCT_ENCODED,mt).replace(st.NOT_USERINFO,Te).replace(st.PCT_ENCODED,Y)),void 0!==Lt.host&&(Lt.host=String(Lt.host).replace(st.PCT_ENCODED,mt).toLowerCase().replace(st.NOT_HOST,Te).replace(st.PCT_ENCODED,Y)),void 0!==Lt.path&&(Lt.path=String(Lt.path).replace(st.PCT_ENCODED,mt).replace(Lt.scheme?st.NOT_PATH:st.NOT_PATH_NOSCHEME,Te).replace(st.PCT_ENCODED,Y)),void 0!==Lt.query&&(Lt.query=String(Lt.query).replace(st.PCT_ENCODED,mt).replace(st.NOT_QUERY,Te).replace(st.PCT_ENCODED,Y)),void 0!==Lt.fragment&&(Lt.fragment=String(Lt.fragment).replace(st.PCT_ENCODED,mt).replace(st.NOT_FRAGMENT,Te).replace(st.PCT_ENCODED,Y)),Lt}function ke(Lt){return Lt.replace(/^0*(.*)/,"$1")||"0"}function Ie(Lt,st){var mt=Lt.match(st.IPV4ADDRESS)||[],Zt=V(mt,2)[1];return Zt?Zt.split(".").map(ke).join("."):Lt}function Xe(Lt,st){var mt=Lt.match(st.IPV6ADDRESS)||[],sn=V(mt,3),Zt=sn[1],xn=sn[2];if(Zt){for(var cr=Zt.toLowerCase().split("::").reverse(),kn=V(cr,2),zn=kn[0],qr=kn[1],pr=qr?qr.split(":").map(ke):[],qn=zn.split(":").map(ke),Jt=st.IPV4ADDRESS.test(qn[qn.length-1]),dt=Jt?7:8,Ne=qn.length-dt,We=Array(dt),Bt=0;Bt<dt;++Bt)We[Bt]=pr[Bt]||qn[Ne+Bt]||"";Jt&&(We[dt-1]=Ie(We[dt-1],st));var Kn=We.reduce(function(Vr,ti,ni){if(!ti||"0"===ti){var Ei=Vr[Vr.length-1];Ei&&Ei.index+Ei.length===ni?Ei.length++:Vr.push({index:ni,length:1})}return Vr},[]).sort(function(Vr,ti){return ti.length-Vr.length})[0],ir=void 0;if(Kn&&Kn.length>1){var hr=We.slice(0,Kn.index),Wr=We.slice(Kn.index+Kn.length);ir=hr.join(":")+"::"+Wr.join(":")}else ir=We.join(":");return xn&&(ir+="%"+xn),ir}return Lt}var Se=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Le=void 0==="".match(/(){0}/)[1];function Ee(Lt){var st=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},mt={},sn=!1!==st.iri?H:U;"suffix"===st.reference&&(Lt=(st.scheme?st.scheme+":":"")+"//"+Lt);var Zt=Lt.match(Se);if(Zt){Le?(mt.scheme=Zt[1],mt.userinfo=Zt[3],mt.host=Zt[4],mt.port=parseInt(Zt[5],10),mt.path=Zt[6]||"",mt.query=Zt[7],mt.fragment=Zt[8],isNaN(mt.port)&&(mt.port=Zt[5])):(mt.scheme=Zt[1]||void 0,mt.userinfo=-1!==Lt.indexOf("@")?Zt[3]:void 0,mt.host=-1!==Lt.indexOf("//")?Zt[4]:void 0,mt.port=parseInt(Zt[5],10),mt.path=Zt[6]||"",mt.query=-1!==Lt.indexOf("?")?Zt[7]:void 0,mt.fragment=-1!==Lt.indexOf("#")?Zt[8]:void 0,isNaN(mt.port)&&(mt.port=Lt.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Zt[4]:void 0)),mt.host&&(mt.host=Xe(Ie(mt.host,sn),sn)),mt.reference=void 0!==mt.scheme||void 0!==mt.userinfo||void 0!==mt.host||void 0!==mt.port||mt.path||void 0!==mt.query?void 0===mt.scheme?"relative":void 0===mt.fragment?"absolute":"uri":"same-document",st.reference&&"suffix"!==st.reference&&st.reference!==mt.reference&&(mt.error=mt.error||"URI is not a "+st.reference+" reference.");var xn=me[(st.scheme||mt.scheme||"").toLowerCase()];if(st.unicodeSupport||xn&&xn.unicodeSupport)Qe(mt,sn);else{if(mt.host&&(st.domainHost||xn&&xn.domainHost))try{mt.host=ce.toASCII(mt.host.replace(sn.PCT_ENCODED,Ke).toLowerCase())}catch(cr){mt.error=mt.error||"Host's domain name can not be converted to ASCII via punycode: "+cr}Qe(mt,U)}xn&&xn.parse&&xn.parse(mt,st)}else mt.error=mt.error||"URI can not be parsed.";return mt}var oe=/^\.\.?\//,fe=/^\/\.(\/|$)/,we=/^\/\.\.(\/|$)/,De=/^\/?(?:.|\n)*?(?=\/|$)/;function $e(Lt){for(var st=[];Lt.length;)if(Lt.match(oe))Lt=Lt.replace(oe,"");else if(Lt.match(fe))Lt=Lt.replace(fe,"/");else if(Lt.match(we))Lt=Lt.replace(we,"/"),st.pop();else if("."===Lt||".."===Lt)Lt="";else{var mt=Lt.match(De);if(!mt)throw new Error("Unexpected dot segment condition");var sn=mt[0];Lt=Lt.slice(sn.length),st.push(sn)}return st.join("")}function Je(Lt){var st=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},mt=st.iri?H:U,sn=[],Zt=me[(st.scheme||Lt.scheme||"").toLowerCase()];if(Zt&&Zt.serialize&&Zt.serialize(Lt,st),Lt.host&&!mt.IPV6ADDRESS.test(Lt.host)&&(st.domainHost||Zt&&Zt.domainHost))try{Lt.host=st.iri?ce.toUnicode(Lt.host):ce.toASCII(Lt.host.replace(mt.PCT_ENCODED,Ke).toLowerCase())}catch(kn){Lt.error=Lt.error||"Host's domain name can not be converted to "+(st.iri?"Unicode":"ASCII")+" via punycode: "+kn}Qe(Lt,mt),"suffix"!==st.reference&&Lt.scheme&&(sn.push(Lt.scheme),sn.push(":"));var xn=function be(Lt,st){var mt=!1!==st.iri?H:U,sn=[];return void 0!==Lt.userinfo&&(sn.push(Lt.userinfo),sn.push("@")),void 0!==Lt.host&&sn.push(Xe(Ie(String(Lt.host),mt),mt).replace(mt.IPV6ADDRESS,function(Zt,xn,cr){return"["+xn+(cr?"%25"+cr:"")+"]"})),("number"==typeof Lt.port||"string"==typeof Lt.port)&&(sn.push(":"),sn.push(String(Lt.port))),sn.length?sn.join(""):void 0}(Lt,st);if(void 0!==xn&&("suffix"!==st.reference&&sn.push("//"),sn.push(xn),Lt.path&&"/"!==Lt.path.charAt(0)&&sn.push("/")),void 0!==Lt.path){var cr=Lt.path;!st.absolutePath&&(!Zt||!Zt.absolutePath)&&(cr=$e(cr)),void 0===xn&&(cr=cr.replace(/^\/\//,"/%2F")),sn.push(cr)}return void 0!==Lt.query&&(sn.push("?"),sn.push(Lt.query)),void 0!==Lt.fragment&&(sn.push("#"),sn.push(Lt.fragment)),sn.join("")}function Ze(Lt,st){var mt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Zt={};return arguments[3]||(Lt=Ee(Je(Lt,mt),mt),st=Ee(Je(st,mt),mt)),!(mt=mt||{}).tolerant&&st.scheme?(Zt.scheme=st.scheme,Zt.userinfo=st.userinfo,Zt.host=st.host,Zt.port=st.port,Zt.path=$e(st.path||""),Zt.query=st.query):(void 0!==st.userinfo||void 0!==st.host||void 0!==st.port?(Zt.userinfo=st.userinfo,Zt.host=st.host,Zt.port=st.port,Zt.path=$e(st.path||""),Zt.query=st.query):(st.path?("/"===st.path.charAt(0)?Zt.path=$e(st.path):(Zt.path=void 0===Lt.userinfo&&void 0===Lt.host&&void 0===Lt.port||Lt.path?Lt.path?Lt.path.slice(0,Lt.path.lastIndexOf("/")+1)+st.path:st.path:"/"+st.path,Zt.path=$e(Zt.path)),Zt.query=st.query):(Zt.path=Lt.path,Zt.query=void 0!==st.query?st.query:Lt.query),Zt.userinfo=Lt.userinfo,Zt.host=Lt.host,Zt.port=Lt.port),Zt.scheme=Lt.scheme),Zt.fragment=st.fragment,Zt}function K(Lt,st){return Lt&&Lt.toString().replace(st&&st.iri?H.PCT_ENCODED:U.PCT_ENCODED,Ke)}var C={scheme:"http",domainHost:!0,parse:function(st,mt){return st.host||(st.error=st.error||"HTTP URIs must have a host."),st},serialize:function(st,mt){var sn="https"===String(st.scheme).toLowerCase();return(st.port===(sn?443:80)||""===st.port)&&(st.port=void 0),st.path||(st.path="/"),st}},b={scheme:"https",domainHost:C.domainHost,parse:C.parse,serialize:C.serialize};function z(Lt){return"boolean"==typeof Lt.secure?Lt.secure:"wss"===String(Lt.scheme).toLowerCase()}var le={scheme:"ws",domainHost:!0,parse:function(st,mt){var sn=st;return sn.secure=z(sn),sn.resourceName=(sn.path||"/")+(sn.query?"?"+sn.query:""),sn.path=void 0,sn.query=void 0,sn},serialize:function(st,mt){if((st.port===(z(st)?443:80)||""===st.port)&&(st.port=void 0),"boolean"==typeof st.secure&&(st.scheme=st.secure?"wss":"ws",st.secure=void 0),st.resourceName){var sn=st.resourceName.split("?"),Zt=V(sn,2),xn=Zt[0],cr=Zt[1];st.path=xn&&"/"!==xn?xn:void 0,st.query=cr,st.resourceName=void 0}return st.fragment=void 0,st}},Ae={scheme:"wss",domainHost:le.domainHost,parse:le.parse,serialize:le.serialize},Be={},Yt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Rt="[0-9A-Fa-f]",Vt=x(x("%[EFef]"+Rt+"%"+Rt+Rt+"%"+Rt+Rt)+"|"+x("%[89A-Fa-f]"+Rt+"%"+Rt+Rt)+"|"+x("%"+Rt+Rt)),En=h("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),jn=new RegExp(Yt,"g"),mn=new RegExp(Vt,"g"),pn=new RegExp(h("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',En),"g"),kt=new RegExp(h("[^]",Yt,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),St=kt;function an(Lt){var st=Ke(Lt);return st.match(jn)?st:Lt}var hn={scheme:"mailto",parse:function(st,mt){var sn=st,Zt=sn.to=sn.path?sn.path.split(","):[];if(sn.path=void 0,sn.query){for(var xn=!1,cr={},kn=sn.query.split("&"),zn=0,qr=kn.length;zn<qr;++zn){var pr=kn[zn].split("=");switch(pr[0]){case"to":for(var qn=pr[1].split(","),Jt=0,dt=qn.length;Jt<dt;++Jt)Zt.push(qn[Jt]);break;case"subject":sn.subject=K(pr[1],mt);break;case"body":sn.body=K(pr[1],mt);break;default:xn=!0,cr[K(pr[0],mt)]=K(pr[1],mt)}}xn&&(sn.headers=cr)}sn.query=void 0;for(var Ne=0,We=Zt.length;Ne<We;++Ne){var Bt=Zt[Ne].split("@");if(Bt[0]=K(Bt[0]),mt.unicodeSupport)Bt[1]=K(Bt[1],mt).toLowerCase();else try{Bt[1]=ce.toASCII(K(Bt[1],mt).toLowerCase())}catch(gn){sn.error=sn.error||"Email address's domain name can not be converted to ASCII via punycode: "+gn}Zt[Ne]=Bt.join("@")}return sn},serialize:function(st,mt){var sn=st,Zt=function M(Lt){return null!=Lt?Lt instanceof Array?Lt:"number"!=typeof Lt.length||Lt.split||Lt.setInterval||Lt.call?[Lt]:Array.prototype.slice.call(Lt):[]}(st.to);if(Zt){for(var xn=0,cr=Zt.length;xn<cr;++xn){var kn=String(Zt[xn]),zn=kn.lastIndexOf("@"),qr=kn.slice(0,zn).replace(mn,an).replace(mn,Y).replace(pn,Te),pr=kn.slice(zn+1);try{pr=mt.iri?ce.toUnicode(pr):ce.toASCII(K(pr,mt).toLowerCase())}catch(Ne){sn.error=sn.error||"Email address's domain name can not be converted to "+(mt.iri?"Unicode":"ASCII")+" via punycode: "+Ne}Zt[xn]=qr+"@"+pr}sn.path=Zt.join(",")}var qn=st.headers=st.headers||{};st.subject&&(qn.subject=st.subject),st.body&&(qn.body=st.body);var Jt=[];for(var dt in qn)qn[dt]!==Be[dt]&&Jt.push(dt.replace(mn,an).replace(mn,Y).replace(kt,Te)+"="+qn[dt].replace(mn,an).replace(mn,Y).replace(St,Te));return Jt.length&&(sn.query=Jt.join("&")),sn}},An=/^([^\:]+)\:(.*)/,Rr={scheme:"urn",parse:function(st,mt){var sn=st.path&&st.path.match(An),Zt=st;if(sn){var xn=mt.scheme||Zt.scheme||"urn",cr=sn[1].toLowerCase(),kn=sn[2],qr=me[xn+":"+(mt.nid||cr)];Zt.nid=cr,Zt.nss=kn,Zt.path=void 0,qr&&(Zt=qr.parse(Zt,mt))}else Zt.error=Zt.error||"URN can not be parsed.";return Zt},serialize:function(st,mt){var Zt=st.nid,cr=me[(mt.scheme||st.scheme||"urn")+":"+(mt.nid||Zt)];cr&&(st=cr.serialize(st,mt));var kn=st;return kn.path=(Zt||mt.nid)+":"+st.nss,kn}},Tt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Nt={scheme:"urn:uuid",parse:function(st,mt){var sn=st;return sn.uuid=sn.nss,sn.nss=void 0,!mt.tolerant&&(!sn.uuid||!sn.uuid.match(Tt))&&(sn.error=sn.error||"UUID is not valid."),sn},serialize:function(st,mt){var sn=st;return sn.nss=(st.uuid||"").toLowerCase(),sn}};me[C.scheme]=C,me[b.scheme]=b,me[le.scheme]=le,me[Ae.scheme]=Ae,me[hn.scheme]=hn,me[Rr.scheme]=Rr,me[Nt.scheme]=Nt,A.SCHEMES=me,A.pctEncChar=Te,A.pctDecChars=Ke,A.parse=Ee,A.removeDotSegments=$e,A.serialize=Je,A.resolveComponents=Ze,A.resolve=function Pt(Lt,st,mt){var sn=function j(Lt,st){var mt=Lt;if(st)for(var sn in st)mt[sn]=st[sn];return mt}({scheme:"null"},mt);return Je(Ze(Ee(Lt,sn),Ee(st,sn),sn,!0),sn)},A.normalize=function nt(Lt,st){return"string"==typeof Lt?Lt=Je(Ee(Lt,st),st):"object"===N(Lt)&&(Lt=Ee(Je(Lt,st),st)),Lt},A.equal=function Ge(Lt,st,mt){return"string"==typeof Lt?Lt=Je(Ee(Lt,mt),mt):"object"===N(Lt)&&(Lt=Je(Lt,mt)),"string"==typeof st?st=Je(Ee(st,mt),mt):"object"===N(st)&&(st=Je(st,mt)),Lt===st},A.escapeComponent=function Et(Lt,st){return Lt&&Lt.toString().replace(st&&st.iri?H.ESCAPE:U.ESCAPE,Te)},A.unescapeComponent=K,Object.defineProperty(A,"__esModule",{value:!0})}(J)},3398:Ye=>{function A(h){try{if(!globalThis.localStorage)return!1}catch{return!1}var x=globalThis.localStorage[h];return null!=x&&"true"===String(x).toLowerCase()}Ye.exports=function J(h,x){if(A("noDeprecation"))return h;var N=!1;return function Y(){if(!N){if(A("throwDeprecation"))throw new Error(x);A("traceDeprecation")?console.trace(x):console.warn(x),N=!0}return h.apply(this,arguments)}}},78982:()=>{},47790:()=>{},21638:()=>{},92668:()=>{},77965:()=>{},66089:()=>{},79368:()=>{},64688:()=>{},51069:()=>{},15340:()=>{},79838:()=>{},25172:Ye=>{Ye.exports=function J(A,h){this.v=A,this.k=h},Ye.exports.__esModule=!0,Ye.exports.default=Ye.exports},93513:(Ye,J,A)=>{var h=A(25172);Ye.exports=function x(N){var Y={},M=!1;function j(R,U){return M=!0,U=new Promise(function(H){H(N[R](U))}),{done:!1,value:new h(U,1)}}return Y[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},Y.next=function(R){return M?(M=!1,R):j("next",R)},"function"==typeof N.throw&&(Y.throw=function(R){if(M)throw M=!1,R;return j("throw",R)}),"function"==typeof N.return&&(Y.return=function(R){return M?(M=!1,R):j("return",R)}),Y},Ye.exports.__esModule=!0,Ye.exports.default=Ye.exports},82881:Ye=>{function A(h){function x(N){if(Object(N)!==N)return Promise.reject(new TypeError(N+" is not an object."));var Y=N.done;return Promise.resolve(N.value).then(function(M){return{value:M,done:Y}})}return(A=function(Y){this.s=Y,this.n=Y.next}).prototype={s:null,n:null,next:function(){return x(this.n.apply(this.s,arguments))},return:function(Y){var M=this.s.return;return void 0===M?Promise.resolve({value:Y,done:!0}):x(M.apply(this.s,arguments))},throw:function(Y){var M=this.s.return;return void 0===M?Promise.reject(Y):x(M.apply(this.s,arguments))}},new A(h)}Ye.exports=function J(h){var x,N,Y,M=2;for(typeof Symbol<"u"&&(N=Symbol.asyncIterator,Y=Symbol.iterator);M--;){if(N&&null!=(x=h[N]))return x.call(h);if(Y&&null!=(x=h[Y]))return new A(x.call(h));N="@@asyncIterator",Y="@@iterator"}throw new TypeError("Object is not async iterable")},Ye.exports.__esModule=!0,Ye.exports.default=Ye.exports},29293:Ye=>{function J(h,x,N,Y,M,j,R){try{var U=h[j](R),H=U.value}catch(V){return void N(V)}U.done?x(H):Promise.resolve(H).then(Y,M)}Ye.exports=function A(h){return function(){var x=this,N=arguments;return new Promise(function(Y,M){var j=h.apply(x,N);function R(H){J(j,Y,M,R,U,"next",H)}function U(H){J(j,Y,M,R,U,"throw",H)}R(void 0)})}},Ye.exports.__esModule=!0,Ye.exports.default=Ye.exports},53344:(Ye,J,A)=>{var h=A(25172);Ye.exports=function x(N){return new h(N,0)},Ye.exports.__esModule=!0,Ye.exports.default=Ye.exports},42958:(Ye,J,A)=>{var h=A(25172);function N(Y){var M,j;function R(H,V){try{var P=Y[H](V),ee=P.value,W=ee instanceof h;Promise.resolve(W?ee.v:ee).then(function(Q){if(W){var de="return"===H?"return":"next";if(!ee.k||Q.done)return R(de,Q);Q=Y[de](Q).value}U(P.done?"return":"normal",Q)},function(Q){R("throw",Q)})}catch(Q){U("throw",Q)}}function U(H,V){switch(H){case"return":M.resolve({value:V,done:!0});break;case"throw":M.reject(V);break;default:M.resolve({value:V,done:!1})}(M=M.next)?R(M.key,M.arg):j=null}this._invoke=function(H,V){return new Promise(function(P,ee){var W={key:H,arg:V,resolve:P,reject:ee,next:null};j?j=j.next=W:(M=j=W,R(H,V))})},"function"!=typeof Y.return&&(this.return=void 0)}N.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},N.prototype.next=function(Y){return this._invoke("next",Y)},N.prototype.throw=function(Y){return this._invoke("throw",Y)},N.prototype.return=function(Y){return this._invoke("return",Y)},Ye.exports=function x(Y){return function(){return new N(Y.apply(this,arguments))}},Ye.exports.__esModule=!0,Ye.exports.default=Ye.exports},49969:(Ye,J,A)=>{"use strict";A.d(J,{FX:()=>je,If:()=>h,K2:()=>j,MA:()=>ee,Os:()=>M,P:()=>Q,hZ:()=>N,i0:()=>Y,i7:()=>H,iF:()=>R,kY:()=>V,kp:()=>x,sf:()=>Me,ui:()=>Oe,wk:()=>U});var h=function(B){return B[B.State=0]="State",B[B.Transition=1]="Transition",B[B.Sequence=2]="Sequence",B[B.Group=3]="Group",B[B.Animate=4]="Animate",B[B.Keyframes=5]="Keyframes",B[B.Style=6]="Style",B[B.Trigger=7]="Trigger",B[B.Reference=8]="Reference",B[B.AnimateChild=9]="AnimateChild",B[B.AnimateRef=10]="AnimateRef",B[B.Query=11]="Query",B[B.Stagger=12]="Stagger",B}(h||{});const x="*";function N(B,l){return{type:h.Trigger,name:B,definitions:l,options:{}}}function Y(B,l=null){return{type:h.Animate,styles:l,timings:B}}function M(B,l=null){return{type:h.Group,steps:B,options:l}}function j(B,l=null){return{type:h.Sequence,steps:B,options:l}}function R(B){return{type:h.Style,styles:B,offset:null}}function U(B,l,f){return{type:h.State,name:B,styles:l,options:f}}function H(B){return{type:h.Keyframes,steps:B}}function V(B,l,f=null){return{type:h.Transition,expr:B,animation:l,options:f}}function ee(B=null){return{type:h.AnimateChild,options:B}}function Q(B,l,f=null){return{type:h.Query,selector:B,animation:l,options:f}}class Me{constructor(l=0,f=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=l+f}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(l=>l()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(l){this._position=this.totalTime?l*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(l){const f="start"==l?this._onStartFns:this._onDoneFns;f.forEach(w=>w()),f.length=0}}class Oe{constructor(l){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=l;let f=0,w=0,_=0;const D=this.players.length;0==D?queueMicrotask(()=>this._onFinish()):this.players.forEach(O=>{O.onDone(()=>{++f==D&&this._onFinish()}),O.onDestroy(()=>{++w==D&&this._onDestroy()}),O.onStart(()=>{++_==D&&this._onStart()})}),this.totalTime=this.players.reduce((O,$)=>Math.max(O,$.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this.players.forEach(l=>l.init())}onStart(l){this._onStartFns.push(l)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(l=>l()),this._onStartFns=[])}onDone(l){this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(l=>l.play())}pause(){this.players.forEach(l=>l.pause())}restart(){this.players.forEach(l=>l.restart())}finish(){this._onFinish(),this.players.forEach(l=>l.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(l=>l.destroy()),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}reset(){this.players.forEach(l=>l.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(l){const f=l*this.totalTime;this.players.forEach(w=>{const _=w.totalTime?Math.min(1,f/w.totalTime):1;w.setPosition(_)})}getPosition(){const l=this.players.reduce((f,w)=>null===f||w.totalTime>f.totalTime?w:f,null);return null!=l?l.getPosition():0}beforeDestroy(){this.players.forEach(l=>{l.beforeDestroy&&l.beforeDestroy()})}triggerCallback(l){const f="start"==l?this._onStartFns:this._onDoneFns;f.forEach(w=>w()),f.length=0}}const je="!"},18617:(Ye,J,A)=>{"use strict";A.d(J,{Ae:()=>he,Ai:()=>z,Au:()=>_,Bu:()=>D,FN:()=>Yt,GX:()=>Se,Pd:()=>jn,Q_:()=>Ar,Uc:()=>Ge,Z7:()=>$,_G:()=>De,px:()=>pe,vR:()=>Rt,vr:()=>B,w6:()=>$e});var h=A(60177),x=A(93953),N=A(36860),Y=A(21413),M=A(18359),j=A(84412),R=A(7673),U=A(67336),H=A(88141),V=A(70152),P=A(5964),ee=A(96354),W=A(65245),Q=A(23294),de=A(56977),ae=A(49937),re=A(14085),te=A(99327);const ue=" ";function pe(mn,pn,kt){const St=ve(mn,pn);kt=kt.trim(),!St.some(an=>an.trim()===kt)&&(St.push(kt),mn.setAttribute(pn,St.join(ue)))}function he(mn,pn,kt){const St=ve(mn,pn);kt=kt.trim();const an=St.filter(hn=>hn!==kt);an.length?mn.setAttribute(pn,an.join(ue)):mn.removeAttribute(pn)}function ve(mn,pn){return mn.getAttribute(pn)?.match(/\S+/g)??[]}const Me="cdk-describedby-message",Oe="cdk-describedby-host";let je=0,B=(()=>{class mn{constructor(kt,St){this._platform=St,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+je++,this._document=kt,this._id=(0,x.WQX)(x.sZ2)+"-"+je++}describe(kt,St,an){if(!this._canBeDescribed(kt,St))return;const hn=l(St,an);"string"!=typeof St?(f(St,this._id),this._messageRegistry.set(hn,{messageElement:St,referenceCount:0})):this._messageRegistry.has(hn)||this._createMessageElement(St,an),this._isElementDescribedByMessage(kt,hn)||this._addMessageReference(kt,hn)}removeDescription(kt,St,an){if(!St||!this._isElementNode(kt))return;const hn=l(St,an);if(this._isElementDescribedByMessage(kt,hn)&&this._removeMessageReference(kt,hn),"string"==typeof St){const An=this._messageRegistry.get(hn);An&&0===An.referenceCount&&this._deleteMessageElement(hn)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const kt=this._document.querySelectorAll(`[${Oe}="${this._id}"]`);for(let St=0;St<kt.length;St++)this._removeCdkDescribedByReferenceIds(kt[St]),kt[St].removeAttribute(Oe);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(kt,St){const an=this._document.createElement("div");f(an,this._id),an.textContent=kt,St&&an.setAttribute("role",St),this._createMessagesContainer(),this._messagesContainer.appendChild(an),this._messageRegistry.set(l(kt,St),{messageElement:an,referenceCount:0})}_deleteMessageElement(kt){this._messageRegistry.get(kt)?.messageElement?.remove(),this._messageRegistry.delete(kt)}_createMessagesContainer(){if(this._messagesContainer)return;const kt="cdk-describedby-message-container",St=this._document.querySelectorAll(`.${kt}[platform="server"]`);for(let hn=0;hn<St.length;hn++)St[hn].remove();const an=this._document.createElement("div");an.style.visibility="hidden",an.classList.add(kt),an.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&an.setAttribute("platform","server"),this._document.body.appendChild(an),this._messagesContainer=an}_removeCdkDescribedByReferenceIds(kt){const St=ve(kt,"aria-describedby").filter(an=>0!=an.indexOf(Me));kt.setAttribute("aria-describedby",St.join(" "))}_addMessageReference(kt,St){const an=this._messageRegistry.get(St);pe(kt,"aria-describedby",an.messageElement.id),kt.setAttribute(Oe,this._id),an.referenceCount++}_removeMessageReference(kt,St){const an=this._messageRegistry.get(St);an.referenceCount--,he(kt,"aria-describedby",an.messageElement.id),kt.removeAttribute(Oe)}_isElementDescribedByMessage(kt,St){const an=ve(kt,"aria-describedby"),hn=this._messageRegistry.get(St),An=hn&&hn.messageElement.id;return!!An&&-1!=an.indexOf(An)}_canBeDescribed(kt,St){if(!this._isElementNode(kt))return!1;if(St&&"object"==typeof St)return!0;const an=null==St?"":`${St}`.trim(),hn=kt.getAttribute("aria-label");return!(!an||hn&&hn.trim()===an)}_isElementNode(kt){return kt.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(St){return new(St||mn)(x.KVO(h.qQ),x.KVO(N.OD))};static#t=this.\u0275prov=x.jDH({token:mn,factory:mn.\u0275fac,providedIn:"root"})}return mn})();function l(mn,pn){return"string"==typeof mn?`${pn||""}/${mn}`:mn}function f(mn,pn){mn.id||(mn.id=`${Me}-${pn}-${je++}`)}class w{constructor(pn,kt){this._items=pn,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Y.B,this._typeaheadSubscription=M.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=St=>St.disabled,this._pressedLetters=[],this.tabOut=new Y.B,this.change=new Y.B,pn instanceof x.rOR?this._itemChangesSubscription=pn.changes.subscribe(St=>this._itemsChanged(St.toArray())):(0,x.Hps)(pn)&&(this._effectRef=(0,x.QZP)(()=>this._itemsChanged(pn()),{injector:kt}))}skipPredicate(pn){return this._skipPredicateFn=pn,this}withWrap(pn=!0){return this._wrap=pn,this}withVerticalOrientation(pn=!0){return this._vertical=pn,this}withHorizontalOrientation(pn){return this._horizontal=pn,this}withAllowedModifierKeys(pn){return this._allowedModifierKeys=pn,this}withTypeAhead(pn=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,H.M)(kt=>this._pressedLetters.push(kt)),(0,V.B)(pn),(0,P.p)(()=>this._pressedLetters.length>0),(0,ee.T)(()=>this._pressedLetters.join(""))).subscribe(kt=>{const St=this._getItemsArray();for(let an=1;an<St.length+1;an++){const hn=(this._activeItemIndex+an)%St.length,An=St[hn];if(!this._skipPredicateFn(An)&&0===An.getLabel().toUpperCase().trim().indexOf(kt)){this.setActiveItem(hn);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(pn=!0){return this._homeAndEnd=pn,this}withPageUpDown(pn=!0,kt=10){return this._pageUpAndDown={enabled:pn,delta:kt},this}setActiveItem(pn){const kt=this._activeItem;this.updateActiveItem(pn),this._activeItem!==kt&&this.change.next(this._activeItemIndex)}onKeydown(pn){const kt=pn.keyCode,an=["altKey","ctrlKey","metaKey","shiftKey"].every(hn=>!pn[hn]||this._allowedModifierKeys.indexOf(hn)>-1);switch(kt){case U.wn:return void this.tabOut.next();case U.n6:if(this._vertical&&an){this.setNextItemActive();break}return;case U.i7:if(this._vertical&&an){this.setPreviousItemActive();break}return;case U.LE:if(this._horizontal&&an){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case U.UQ:if(this._horizontal&&an){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case U.yZ:if(this._homeAndEnd&&an){this.setFirstItemActive();break}return;case U.Kp:if(this._homeAndEnd&&an){this.setLastItemActive();break}return;case U.w_:if(this._pageUpAndDown.enabled&&an){const hn=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(hn>0?hn:0,1);break}return;case U.dB:if(this._pageUpAndDown.enabled&&an){const hn=this._activeItemIndex+this._pageUpAndDown.delta,An=this._getItemsArray().length;this._setActiveItemByIndex(hn<An?hn:An-1,-1);break}return;default:return void((an||(0,U.rp)(pn,"shiftKey"))&&(pn.key&&1===pn.key.length?this._letterKeyStream.next(pn.key.toLocaleUpperCase()):(kt>=U.A&&kt<=U.Z||kt>=U.f2&&kt<=U.bn)&&this._letterKeyStream.next(String.fromCharCode(kt))))}this._pressedLetters=[],pn.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(pn){const kt=this._getItemsArray(),St="number"==typeof pn?pn:kt.indexOf(pn);this._activeItem=kt[St]??null,this._activeItemIndex=St}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(pn){this._wrap?this._setActiveInWrapMode(pn):this._setActiveInDefaultMode(pn)}_setActiveInWrapMode(pn){const kt=this._getItemsArray();for(let St=1;St<=kt.length;St++){const an=(this._activeItemIndex+pn*St+kt.length)%kt.length;if(!this._skipPredicateFn(kt[an]))return void this.setActiveItem(an)}}_setActiveInDefaultMode(pn){this._setActiveItemByIndex(this._activeItemIndex+pn,pn)}_setActiveItemByIndex(pn,kt){const St=this._getItemsArray();if(St[pn]){for(;this._skipPredicateFn(St[pn]);)if(!St[pn+=kt])return;this.setActiveItem(pn)}}_getItemsArray(){return(0,x.Hps)(this._items)?this._items():this._items instanceof x.rOR?this._items.toArray():this._items}_itemsChanged(pn){if(this._activeItem){const kt=pn.indexOf(this._activeItem);kt>-1&&kt!==this._activeItemIndex&&(this._activeItemIndex=kt)}}}class _ extends w{setActiveItem(pn){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(pn),this.activeItem&&this.activeItem.setActiveStyles()}}class D extends w{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(pn){return this._origin=pn,this}setActiveItem(pn){super.setActiveItem(pn),this.activeItem&&this.activeItem.focus(this._origin)}}let $=(()=>{class mn{constructor(kt){this._platform=kt}isDisabled(kt){return kt.hasAttribute("disabled")}isVisible(kt){return function c(mn){return!!(mn.offsetWidth||mn.offsetHeight||"function"==typeof mn.getClientRects&&mn.getClientRects().length)}(kt)&&"visible"===getComputedStyle(kt).visibility}isTabbable(kt){if(!this._platform.isBrowser)return!1;const St=function T(mn){try{return mn.frameElement}catch{return null}}(function Ie(mn){return mn.ownerDocument&&mn.ownerDocument.defaultView||window}(kt));if(St&&(-1===Ke(St)||!this.isVisible(St)))return!1;let an=kt.nodeName.toLowerCase(),hn=Ke(kt);return kt.hasAttribute("contenteditable")?-1!==hn:!("iframe"===an||"object"===an||this._platform.WEBKIT&&this._platform.IOS&&!function Qe(mn){let pn=mn.nodeName.toLowerCase(),kt="input"===pn&&mn.type;return"text"===kt||"password"===kt||"select"===pn||"textarea"===pn}(kt))&&("audio"===an?!!kt.hasAttribute("controls")&&-1!==hn:"video"===an?-1!==hn&&(null!==hn||this._platform.FIREFOX||kt.hasAttribute("controls")):kt.tabIndex>=0)}isFocusable(kt,St){return function ke(mn){return!function q(mn){return function ce(mn){return"input"==mn.nodeName.toLowerCase()}(mn)&&"hidden"==mn.type}(mn)&&(function E(mn){let pn=mn.nodeName.toLowerCase();return"input"===pn||"select"===pn||"button"===pn||"textarea"===pn}(mn)||function X(mn){return function me(mn){return"a"==mn.nodeName.toLowerCase()}(mn)&&mn.hasAttribute("href")}(mn)||mn.hasAttribute("contenteditable")||Te(mn))}(kt)&&!this.isDisabled(kt)&&(St?.ignoreVisibility||this.isVisible(kt))}static#e=this.\u0275fac=function(St){return new(St||mn)(x.KVO(N.OD))};static#t=this.\u0275prov=x.jDH({token:mn,factory:mn.\u0275fac,providedIn:"root"})}return mn})();function Te(mn){if(!mn.hasAttribute("tabindex")||void 0===mn.tabIndex)return!1;let pn=mn.getAttribute("tabindex");return!(!pn||isNaN(parseInt(pn,10)))}function Ke(mn){if(!Te(mn))return null;const pn=parseInt(mn.getAttribute("tabindex")||"",10);return isNaN(pn)?-1:pn}class Xe{get enabled(){return this._enabled}set enabled(pn){this._enabled=pn,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(pn,this._startAnchor),this._toggleAnchorTabIndex(pn,this._endAnchor))}constructor(pn,kt,St,an,hn=!1,An){this._element=pn,this._checker=kt,this._ngZone=St,this._document=an,this._injector=An,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,hn||this.attachAnchors()}destroy(){const pn=this._startAnchor,kt=this._endAnchor;pn&&(pn.removeEventListener("focus",this.startAnchorListener),pn.remove()),kt&&(kt.removeEventListener("focus",this.endAnchorListener),kt.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(pn){return new Promise(kt=>{this._executeOnStable(()=>kt(this.focusInitialElement(pn)))})}focusFirstTabbableElementWhenReady(pn){return new Promise(kt=>{this._executeOnStable(()=>kt(this.focusFirstTabbableElement(pn)))})}focusLastTabbableElementWhenReady(pn){return new Promise(kt=>{this._executeOnStable(()=>kt(this.focusLastTabbableElement(pn)))})}_getRegionBoundary(pn){const kt=this._element.querySelectorAll(`[cdk-focus-region-${pn}], [cdkFocusRegion${pn}], [cdk-focus-${pn}]`);return"start"==pn?kt.length?kt[0]:this._getFirstTabbableElement(this._element):kt.length?kt[kt.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(pn){const kt=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(kt){if(!this._checker.isFocusable(kt)){const St=this._getFirstTabbableElement(kt);return St?.focus(pn),!!St}return kt.focus(pn),!0}return this.focusFirstTabbableElement(pn)}focusFirstTabbableElement(pn){const kt=this._getRegionBoundary("start");return kt&&kt.focus(pn),!!kt}focusLastTabbableElement(pn){const kt=this._getRegionBoundary("end");return kt&&kt.focus(pn),!!kt}hasAttached(){return this._hasAttached}_getFirstTabbableElement(pn){if(this._checker.isFocusable(pn)&&this._checker.isTabbable(pn))return pn;const kt=pn.children;for(let St=0;St<kt.length;St++){const an=kt[St].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(kt[St]):null;if(an)return an}return null}_getLastTabbableElement(pn){if(this._checker.isFocusable(pn)&&this._checker.isTabbable(pn))return pn;const kt=pn.children;for(let St=kt.length-1;St>=0;St--){const an=kt[St].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(kt[St]):null;if(an)return an}return null}_createAnchor(){const pn=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,pn),pn.classList.add("cdk-visually-hidden"),pn.classList.add("cdk-focus-trap-anchor"),pn.setAttribute("aria-hidden","true"),pn}_toggleAnchorTabIndex(pn,kt){pn?kt.setAttribute("tabindex","0"):kt.removeAttribute("tabindex")}toggleAnchors(pn){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(pn,this._startAnchor),this._toggleAnchorTabIndex(pn,this._endAnchor))}_executeOnStable(pn){this._injector?(0,x.mal)(pn,{injector:this._injector}):setTimeout(pn)}}let Se=(()=>{class mn{constructor(kt,St,an){this._checker=kt,this._ngZone=St,this._injector=(0,x.WQX)(x.zZn),this._document=an}create(kt,St=!1){return new Xe(kt,this._checker,this._ngZone,this._document,St,this._injector)}static#e=this.\u0275fac=function(St){return new(St||mn)(x.KVO($),x.KVO(x.SKi),x.KVO(h.qQ))};static#t=this.\u0275prov=x.jDH({token:mn,factory:mn.\u0275fac,providedIn:"root"})}return mn})();function De(mn){return 0===mn.buttons||0===mn.detail}function $e(mn){const pn=mn.touches&&mn.touches[0]||mn.changedTouches&&mn.changedTouches[0];return!(!pn||-1!==pn.identifier||null!=pn.radiusX&&1!==pn.radiusX||null!=pn.radiusY&&1!==pn.radiusY)}const Je=new x.nKC("cdk-input-modality-detector-options"),Ze={ignoreKeys:[U.A$,U.W3,U.eg,U.Ge,U.FX]},nt=(0,N.BQ)({passive:!0,capture:!0});let Ge=(()=>{class mn{get mostRecentModality(){return this._modality.value}constructor(kt,St,an,hn){this._platform=kt,this._mostRecentTarget=null,this._modality=new j.t(null),this._lastTouchMs=0,this._onKeydown=An=>{this._options?.ignoreKeys?.some(Rr=>Rr===An.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,N.Fb)(An))},this._onMousedown=An=>{Date.now()-this._lastTouchMs<650||(this._modality.next(De(An)?"keyboard":"mouse"),this._mostRecentTarget=(0,N.Fb)(An))},this._onTouchstart=An=>{$e(An)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,N.Fb)(An))},this._options={...Ze,...hn},this.modalityDetected=this._modality.pipe((0,W.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Q.F)()),kt.isBrowser&&St.runOutsideAngular(()=>{an.addEventListener("keydown",this._onKeydown,nt),an.addEventListener("mousedown",this._onMousedown,nt),an.addEventListener("touchstart",this._onTouchstart,nt)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,nt),document.removeEventListener("mousedown",this._onMousedown,nt),document.removeEventListener("touchstart",this._onTouchstart,nt))}static#e=this.\u0275fac=function(St){return new(St||mn)(x.KVO(N.OD),x.KVO(x.SKi),x.KVO(h.qQ),x.KVO(Je,8))};static#t=this.\u0275prov=x.jDH({token:mn,factory:mn.\u0275fac,providedIn:"root"})}return mn})();const Et=new x.nKC("liveAnnouncerElement",{providedIn:"root",factory:function K(){return null}}),C=new x.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let b=0,z=(()=>{class mn{constructor(kt,St,an,hn){this._ngZone=St,this._defaultOptions=hn,this._document=an,this._liveElement=kt||this._createLiveElement()}announce(kt,...St){const an=this._defaultOptions;let hn,An;return 1===St.length&&"number"==typeof St[0]?An=St[0]:[hn,An]=St,this.clear(),clearTimeout(this._previousTimeout),hn||(hn=an&&an.politeness?an.politeness:"polite"),null==An&&an&&(An=an.duration),this._liveElement.setAttribute("aria-live",hn),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Rr=>this._currentResolve=Rr)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=kt,"number"==typeof An&&(this._previousTimeout=setTimeout(()=>this.clear(),An)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const kt="cdk-live-announcer-element",St=this._document.getElementsByClassName(kt),an=this._document.createElement("div");for(let hn=0;hn<St.length;hn++)St[hn].remove();return an.classList.add(kt),an.classList.add("cdk-visually-hidden"),an.setAttribute("aria-atomic","true"),an.setAttribute("aria-live","polite"),an.id="cdk-live-announcer-"+b++,this._document.body.appendChild(an),an}_exposeAnnouncerToModals(kt){const St=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let an=0;an<St.length;an++){const hn=St[an],An=hn.getAttribute("aria-owns");An?-1===An.indexOf(kt)&&hn.setAttribute("aria-owns",An+" "+kt):hn.setAttribute("aria-owns",kt)}}static#e=this.\u0275fac=function(St){return new(St||mn)(x.KVO(Et,8),x.KVO(x.SKi),x.KVO(h.qQ),x.KVO(C,8))};static#t=this.\u0275prov=x.jDH({token:mn,factory:mn.\u0275fac,providedIn:"root"})}return mn})();var Ae=function(mn){return mn[mn.IMMEDIATE=0]="IMMEDIATE",mn[mn.EVENTUAL=1]="EVENTUAL",mn}(Ae||{});const Be=new x.nKC("cdk-focus-monitor-default-options"),ft=(0,N.BQ)({passive:!0,capture:!0});let Yt=(()=>{class mn{constructor(kt,St,an,hn,An){this._ngZone=kt,this._platform=St,this._inputModalityDetector=an,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Y.B,this._rootNodeFocusAndBlurListener=Rr=>{for(let Nt=(0,N.Fb)(Rr);Nt;Nt=Nt.parentElement)"focus"===Rr.type?this._onFocus(Rr,Nt):this._onBlur(Rr,Nt)},this._document=hn,this._detectionMode=An?.detectionMode||Ae.IMMEDIATE}monitor(kt,St=!1){const an=(0,re.i8)(kt);if(!this._platform.isBrowser||1!==an.nodeType)return(0,R.of)();const hn=(0,N.KT)(an)||this._getDocument(),An=this._elementInfo.get(an);if(An)return St&&(An.checkChildren=!0),An.subject;const Rr={checkChildren:St,subject:new Y.B,rootNode:hn};return this._elementInfo.set(an,Rr),this._registerGlobalListeners(Rr),Rr.subject}stopMonitoring(kt){const St=(0,re.i8)(kt),an=this._elementInfo.get(St);an&&(an.subject.complete(),this._setClasses(St),this._elementInfo.delete(St),this._removeGlobalListeners(an))}focusVia(kt,St,an){const hn=(0,re.i8)(kt);hn===this._getDocument().activeElement?this._getClosestElementsInfo(hn).forEach(([Rr,Tt])=>this._originChanged(Rr,St,Tt)):(this._setOrigin(St),"function"==typeof hn.focus&&hn.focus(an))}ngOnDestroy(){this._elementInfo.forEach((kt,St)=>this.stopMonitoring(St))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(kt){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(kt)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:kt&&this._isLastInteractionFromInputLabel(kt)?"mouse":"program"}_shouldBeAttributedToTouch(kt){return this._detectionMode===Ae.EVENTUAL||!!kt?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(kt,St){kt.classList.toggle("cdk-focused",!!St),kt.classList.toggle("cdk-touch-focused","touch"===St),kt.classList.toggle("cdk-keyboard-focused","keyboard"===St),kt.classList.toggle("cdk-mouse-focused","mouse"===St),kt.classList.toggle("cdk-program-focused","program"===St)}_setOrigin(kt,St=!1){this._ngZone.runOutsideAngular(()=>{this._origin=kt,this._originFromTouchInteraction="touch"===kt&&St,this._detectionMode===Ae.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(kt,St){const an=this._elementInfo.get(St),hn=(0,N.Fb)(kt);!an||!an.checkChildren&&St!==hn||this._originChanged(St,this._getFocusOrigin(hn),an)}_onBlur(kt,St){const an=this._elementInfo.get(St);!an||an.checkChildren&&kt.relatedTarget instanceof Node&&St.contains(kt.relatedTarget)||(this._setClasses(St),this._emitOrigin(an,null))}_emitOrigin(kt,St){kt.subject.observers.length&&this._ngZone.run(()=>kt.subject.next(St))}_registerGlobalListeners(kt){if(!this._platform.isBrowser)return;const St=kt.rootNode,an=this._rootNodeFocusListenerCount.get(St)||0;an||this._ngZone.runOutsideAngular(()=>{St.addEventListener("focus",this._rootNodeFocusAndBlurListener,ft),St.addEventListener("blur",this._rootNodeFocusAndBlurListener,ft)}),this._rootNodeFocusListenerCount.set(St,an+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,de.Q)(this._stopInputModalityDetector)).subscribe(hn=>{this._setOrigin(hn,!0)}))}_removeGlobalListeners(kt){const St=kt.rootNode;if(this._rootNodeFocusListenerCount.has(St)){const an=this._rootNodeFocusListenerCount.get(St);an>1?this._rootNodeFocusListenerCount.set(St,an-1):(St.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ft),St.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ft),this._rootNodeFocusListenerCount.delete(St))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(kt,St,an){this._setClasses(kt,St),this._emitOrigin(an,St),this._lastFocusOrigin=St}_getClosestElementsInfo(kt){const St=[];return this._elementInfo.forEach((an,hn)=>{(hn===kt||an.checkChildren&&hn.contains(kt))&&St.push([hn,an])}),St}_isLastInteractionFromInputLabel(kt){const{_mostRecentTarget:St,mostRecentModality:an}=this._inputModalityDetector;if("mouse"!==an||!St||St===kt||"INPUT"!==kt.nodeName&&"TEXTAREA"!==kt.nodeName||kt.disabled)return!1;const hn=kt.labels;if(hn)for(let An=0;An<hn.length;An++)if(hn[An].contains(St))return!0;return!1}static#e=this.\u0275fac=function(St){return new(St||mn)(x.KVO(x.SKi),x.KVO(N.OD),x.KVO(Ge),x.KVO(h.qQ,8),x.KVO(Be,8))};static#t=this.\u0275prov=x.jDH({token:mn,factory:mn.\u0275fac,providedIn:"root"})}return mn})(),Rt=(()=>{class mn{constructor(kt,St){this._elementRef=kt,this._focusMonitor=St,this._focusOrigin=null,this.cdkFocusChange=new x.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const kt=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(kt,1===kt.nodeType&&kt.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(St=>{this._focusOrigin=St,this.cdkFocusChange.emit(St)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(St){return new(St||mn)(x.rXU(x.aKT),x.rXU(Yt))};static#t=this.\u0275dir=x.FsC({type:mn,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return mn})();var Vt=function(mn){return mn[mn.NONE=0]="NONE",mn[mn.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",mn[mn.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",mn}(Vt||{});const dn="cdk-high-contrast-black-on-white",Mn="cdk-high-contrast-white-on-black",En="cdk-high-contrast-active";let Ar=(()=>{class mn{constructor(kt,St){this._platform=kt,this._document=St,this._breakpointSubscription=(0,x.WQX)(te.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Vt.NONE;const kt=this._document.createElement("div");kt.style.backgroundColor="rgb(1,2,3)",kt.style.position="absolute",this._document.body.appendChild(kt);const St=this._document.defaultView||window,an=St&&St.getComputedStyle?St.getComputedStyle(kt):null,hn=(an&&an.backgroundColor||"").replace(/ /g,"");switch(kt.remove(),hn){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Vt.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Vt.BLACK_ON_WHITE}return Vt.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const kt=this._document.body.classList;kt.remove(En,dn,Mn),this._hasCheckedHighContrastMode=!0;const St=this.getHighContrastMode();St===Vt.BLACK_ON_WHITE?kt.add(En,dn):St===Vt.WHITE_ON_BLACK&&kt.add(En,Mn)}}static#e=this.\u0275fac=function(St){return new(St||mn)(x.KVO(N.OD),x.KVO(h.qQ))};static#t=this.\u0275prov=x.jDH({token:mn,factory:mn.\u0275fac,providedIn:"root"})}return mn})(),jn=(()=>{class mn{constructor(kt){kt._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(St){return new(St||mn)(x.KVO(Ar))};static#t=this.\u0275mod=x.$C({type:mn});static#n=this.\u0275inj=x.G2t({imports:[ae.w5]})}return mn})()},28203:(Ye,J,A)=>{"use strict";A.d(J,{dS:()=>R,jI:()=>H});var h=A(93953),x=A(60177);const N=new h.nKC("cdk-dir-doc",{providedIn:"root",factory:function Y(){return(0,h.WQX)(x.qQ)}}),M=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let R=(()=>{class V{constructor(ee){this.value="ltr",this.change=new h.bkB,ee&&(this.value=function j(V){const P=V?.toLowerCase()||"";return"auto"===P&&typeof navigator<"u"&&navigator?.language?M.test(navigator.language)?"rtl":"ltr":"rtl"===P?"rtl":"ltr"}((ee.body?ee.body.dir:null)||(ee.documentElement?ee.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(W){return new(W||V)(h.KVO(N,8))};static#t=this.\u0275prov=h.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})(),H=(()=>{class V{static#e=this.\u0275fac=function(W){return new(W||V)};static#t=this.\u0275mod=h.$C({type:V});static#n=this.\u0275inj=h.G2t({})}return V})()},14085:(Ye,J,A)=>{"use strict";A.d(J,{FG:()=>M,OE:()=>N,a1:()=>j,he:()=>x,i8:()=>R,o1:()=>Y});var h=A(93953);function x(H){return null!=H&&"false"!=`${H}`}function N(H,V=0){return Y(H)?Number(H):2===arguments.length?V:0}function Y(H){return!isNaN(parseFloat(H))&&!isNaN(Number(H))}function M(H){return Array.isArray(H)?H:[H]}function j(H){return null==H?"":"string"==typeof H?H:`${H}px`}function R(H){return H instanceof h.aKT?H.nativeElement:H}},45024:(Ye,J,A)=>{"use strict";A.d(J,{CB:()=>W,DQ:()=>ee,Q3:()=>H,qS:()=>j,sL:()=>V,xn:()=>P,y4:()=>R,zP:()=>de});var h=A(30017),Y=(A(74402),A(7673),A(21413)),M=A(93953);class j{}function R(ae){return ae&&"function"==typeof ae.connect&&!(ae instanceof h.G)}var H=function(ae){return ae[ae.REPLACED=0]="REPLACED",ae[ae.INSERTED=1]="INSERTED",ae[ae.MOVED=2]="MOVED",ae[ae.REMOVED=3]="REMOVED",ae}(H||{});const V=new M.nKC("_ViewRepeater");class P{applyChanges(re,te,ue,pe,he){re.forEachOperation((ve,ge,Me)=>{let Oe,je;if(null==ve.previousIndex){const B=ue(ve,ge,Me);Oe=te.createEmbeddedView(B.templateRef,B.context,B.index),je=H.INSERTED}else null==Me?(te.remove(ge),je=H.REMOVED):(Oe=te.get(ge),te.move(Oe,Me),je=H.MOVED);he&&he({context:Oe?.context,operation:je,record:ve})})}detach(){}}class ee{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(re,te,ue,pe,he){re.forEachOperation((ve,ge,Me)=>{let Oe,je;null==ve.previousIndex?(Oe=this._insertView(()=>ue(ve,ge,Me),Me,te,pe(ve)),je=Oe?H.INSERTED:H.REPLACED):null==Me?(this._detachAndCacheView(ge,te),je=H.REMOVED):(Oe=this._moveView(ge,Me,te,pe(ve)),je=H.MOVED),he&&he({context:Oe?.context,operation:je,record:ve})})}detach(){for(const re of this._viewCache)re.destroy();this._viewCache=[]}_insertView(re,te,ue,pe){const he=this._insertViewFromCache(te,ue);if(he)return void(he.context.$implicit=pe);const ve=re();return ue.createEmbeddedView(ve.templateRef,ve.context,ve.index)}_detachAndCacheView(re,te){const ue=te.detach(re);this._maybeCacheView(ue,te)}_moveView(re,te,ue,pe){const he=ue.get(re);return ue.move(he,te),he.context.$implicit=pe,he}_maybeCacheView(re,te){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(re);else{const ue=te.indexOf(re);-1===ue?re.destroy():te.remove(ue)}}_insertViewFromCache(re,te){const ue=this._viewCache.pop();return ue&&te.insert(ue,re),ue||null}}class W{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(re=!1,te,ue=!0,pe){this._multiple=re,this._emitChanges=ue,this.compareWith=pe,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Y.B,te&&te.length&&(re?te.forEach(he=>this._markSelected(he)):this._markSelected(te[0]),this._selectedToEmit.length=0)}select(...re){this._verifyValueAssignment(re),re.forEach(ue=>this._markSelected(ue));const te=this._hasQueuedChanges();return this._emitChangeEvent(),te}deselect(...re){this._verifyValueAssignment(re),re.forEach(ue=>this._unmarkSelected(ue));const te=this._hasQueuedChanges();return this._emitChangeEvent(),te}setSelection(...re){this._verifyValueAssignment(re);const te=this.selected,ue=new Set(re);re.forEach(he=>this._markSelected(he)),te.filter(he=>!ue.has(this._getConcreteValue(he,ue))).forEach(he=>this._unmarkSelected(he));const pe=this._hasQueuedChanges();return this._emitChangeEvent(),pe}toggle(re){return this.isSelected(re)?this.deselect(re):this.select(re)}clear(re=!0){this._unmarkAll();const te=this._hasQueuedChanges();return re&&this._emitChangeEvent(),te}isSelected(re){return this._selection.has(this._getConcreteValue(re))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(re){this._multiple&&this.selected&&this._selected.sort(re)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(re){re=this._getConcreteValue(re),this.isSelected(re)||(this._multiple||this._unmarkAll(),this.isSelected(re)||this._selection.add(re),this._emitChanges&&this._selectedToEmit.push(re))}_unmarkSelected(re){re=this._getConcreteValue(re),this.isSelected(re)&&(this._selection.delete(re),this._emitChanges&&this._deselectedToEmit.push(re))}_unmarkAll(){this.isEmpty()||this._selection.forEach(re=>this._unmarkSelected(re))}_verifyValueAssignment(re){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(re,te){if(this.compareWith){te=te??this._selection;for(let ue of te)if(this.compareWith(re,ue))return ue;return re}return re}}let de=(()=>{class ae{constructor(){this._listeners=[]}notify(te,ue){for(let pe of this._listeners)pe(te,ue)}listen(te){return this._listeners.push(te),()=>{this._listeners=this._listeners.filter(ue=>te!==ue)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(ue){return new(ue||ae)};static#t=this.\u0275prov=M.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})()},67336:(Ye,J,A)=>{"use strict";A.d(J,{A:()=>X,A$:()=>U,FX:()=>j,Fm:()=>M,G_:()=>x,Ge:()=>b,Kp:()=>de,LE:()=>ue,SJ:()=>Me,UQ:()=>re,W3:()=>R,Z:()=>C,_f:()=>P,bn:()=>$,dB:()=>Q,eg:()=>Dr,f2:()=>Oe,i7:()=>te,n6:()=>pe,rp:()=>Hr,t6:()=>ee,w_:()=>W,wn:()=>N,yZ:()=>ae});const x=8,N=9,M=13,j=16,R=17,U=18,P=27,ee=32,W=33,Q=34,de=35,ae=36,re=37,te=38,ue=39,pe=40,Me=46,Oe=48,$=57,X=65,C=90,b=91,Dr=224;function Hr(Ur,...li){return li.length?li.some(ui=>Ur[ui]):Ur.altKey||Ur.shiftKey||Ur.ctrlKey||Ur.metaKey}},99327:(Ye,J,A)=>{"use strict";A.d(J,{QP:()=>pe,Rp:()=>ve});var h=A(93953),x=A(14085),N=A(21413),Y=A(84572),M=A(28793),j=A(71985),R=A(96697),U=A(65245),H=A(70152),V=A(96354),P=A(99172),ee=A(56977),W=A(36860);const de=new Set;let ae,re=(()=>{class ge{constructor(Oe,je){this._platform=Oe,this._nonce=je,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ue}matchMedia(Oe){return(this._platform.WEBKIT||this._platform.BLINK)&&function te(ge,Me){if(!de.has(ge))try{ae||(ae=document.createElement("style"),Me&&ae.setAttribute("nonce",Me),ae.setAttribute("type","text/css"),document.head.appendChild(ae)),ae.sheet&&(ae.sheet.insertRule(`@media ${ge} {body{ }}`,0),de.add(ge))}catch(Oe){console.error(Oe)}}(Oe,this._nonce),this._matchMedia(Oe)}static#e=this.\u0275fac=function(je){return new(je||ge)(h.KVO(W.OD),h.KVO(h.BIS,8))};static#t=this.\u0275prov=h.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})();function ue(ge){return{matches:"all"===ge||""===ge,media:ge,addListener:()=>{},removeListener:()=>{}}}let pe=(()=>{class ge{constructor(Oe,je){this._mediaMatcher=Oe,this._zone=je,this._queries=new Map,this._destroySubject=new N.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Oe){return he((0,x.FG)(Oe)).some(B=>this._registerQuery(B).mql.matches)}observe(Oe){const B=he((0,x.FG)(Oe)).map(f=>this._registerQuery(f).observable);let l=(0,Y.z)(B);return l=(0,M.x)(l.pipe((0,R.s)(1)),l.pipe((0,U.i)(1),(0,H.B)(0))),l.pipe((0,V.T)(f=>{const w={matches:!1,breakpoints:{}};return f.forEach(({matches:_,query:D})=>{w.matches=w.matches||_,w.breakpoints[D]=_}),w}))}_registerQuery(Oe){if(this._queries.has(Oe))return this._queries.get(Oe);const je=this._mediaMatcher.matchMedia(Oe),l={observable:new j.c(f=>{const w=_=>this._zone.run(()=>f.next(_));return je.addListener(w),()=>{je.removeListener(w)}}).pipe((0,P.Z)(je),(0,V.T)(({matches:f})=>({query:Oe,matches:f})),(0,ee.Q)(this._destroySubject)),mql:je};return this._queries.set(Oe,l),l}static#e=this.\u0275fac=function(je){return new(je||ge)(h.KVO(re),h.KVO(h.SKi))};static#t=this.\u0275prov=h.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})();function he(ge){return ge.map(Me=>Me.split(",")).reduce((Me,Oe)=>Me.concat(Oe)).map(Me=>Me.trim())}const ve={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},49937:(Ye,J,A)=>{"use strict";A.d(J,{Wv:()=>P,w5:()=>ee});var h=A(14085),x=A(93953),N=A(71985),Y=A(21413),M=A(96354),j=A(5964),R=A(70152);let H=(()=>{class W{create(de){return typeof MutationObserver>"u"?null:new MutationObserver(de)}static#e=this.\u0275fac=function(ae){return new(ae||W)};static#t=this.\u0275prov=x.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),V=(()=>{class W{constructor(de){this._mutationObserverFactory=de,this._observedElements=new Map,this._ngZone=(0,x.WQX)(x.SKi)}ngOnDestroy(){this._observedElements.forEach((de,ae)=>this._cleanupObserver(ae))}observe(de){const ae=(0,h.i8)(de);return new N.c(re=>{const ue=this._observeElement(ae).pipe((0,M.T)(pe=>pe.filter(he=>!function U(W){if("characterData"===W.type&&W.target instanceof Comment)return!0;if("childList"===W.type){for(let Q=0;Q<W.addedNodes.length;Q++)if(!(W.addedNodes[Q]instanceof Comment))return!1;for(let Q=0;Q<W.removedNodes.length;Q++)if(!(W.removedNodes[Q]instanceof Comment))return!1;return!0}return!1}(he))),(0,j.p)(pe=>!!pe.length)).subscribe(pe=>{this._ngZone.run(()=>{re.next(pe)})});return()=>{ue.unsubscribe(),this._unobserveElement(ae)}})}_observeElement(de){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(de))this._observedElements.get(de).count++;else{const ae=new Y.B,re=this._mutationObserverFactory.create(te=>ae.next(te));re&&re.observe(de,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(de,{observer:re,stream:ae,count:1})}return this._observedElements.get(de).stream})}_unobserveElement(de){this._observedElements.has(de)&&(this._observedElements.get(de).count--,this._observedElements.get(de).count||this._cleanupObserver(de))}_cleanupObserver(de){if(this._observedElements.has(de)){const{observer:ae,stream:re}=this._observedElements.get(de);ae&&ae.disconnect(),re.complete(),this._observedElements.delete(de)}}static#e=this.\u0275fac=function(ae){return new(ae||W)(x.KVO(H))};static#t=this.\u0275prov=x.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}return W})(),P=(()=>{class W{get disabled(){return this._disabled}set disabled(de){this._disabled=de,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(de){this._debounce=(0,h.OE)(de),this._subscribe()}constructor(de,ae){this._contentObserver=de,this._elementRef=ae,this.event=new x.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const de=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?de.pipe((0,R.B)(this.debounce)):de).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(ae){return new(ae||W)(x.rXU(V),x.rXU(x.aKT))};static#t=this.\u0275dir=x.FsC({type:W,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",x.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[x.GFd]})}return W})(),ee=(()=>{class W{static#e=this.\u0275fac=function(ae){return new(ae||W)};static#t=this.\u0275mod=x.$C({type:W});static#n=this.\u0275inj=x.G2t({providers:[H]})}return W})()},98170:(Ye,J,A)=>{"use strict";A.d(J,{a:()=>H});var h=A(93953),x=A(21413),N=A(71985),Y=A(5964),M=A(44668),j=A(56977);class U{constructor(P){this._box=P,this._destroyed=new x.B,this._resizeSubject=new x.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(ee=>this._resizeSubject.next(ee)))}observe(P){return this._elementObservables.has(P)||this._elementObservables.set(P,new N.c(ee=>{const W=this._resizeSubject.subscribe(ee);return this._resizeObserver?.observe(P,{box:this._box}),()=>{this._resizeObserver?.unobserve(P),W.unsubscribe(),this._elementObservables.delete(P)}}).pipe((0,Y.p)(ee=>ee.some(W=>W.target===P)),(0,M.t)({bufferSize:1,refCount:!0}),(0,j.Q)(this._destroyed))),this._elementObservables.get(P)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let H=(()=>{class V{constructor(){this._observers=new Map,this._ngZone=(0,h.WQX)(h.SKi)}ngOnDestroy(){for(const[,ee]of this._observers)ee.destroy();this._observers.clear()}observe(ee,W){const Q=W?.box||"content-box";return this._observers.has(Q)||this._observers.set(Q,new U(Q)),this._observers.get(Q).observe(ee)}static#e=this.\u0275fac=function(W){return new(W||V)};static#t=this.\u0275prov=h.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})()},66969:(Ye,J,A)=>{"use strict";A.d(J,{WB:()=>De,$Q:()=>we,hJ:()=>be,rR:()=>je,Sf:()=>c,z_:()=>Ze,yY:()=>E,EB:()=>Ie,pq:()=>ke});var h=A(67333),x=A(60177),N=A(93953),Y=A(14085),M=A(36860),j=A(5964),R=A(56977),U=A(39974),H=A(54360),P=A(28203),ee=A(76939),W=A(21413),Q=A(18359),de=A(57786),ae=A(67336);const re=(0,M.CZ)();class te{constructor(Ge,Et){this._viewportRuler=Ge,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Et}attach(){}enable(){if(this._canBeEnabled()){const Ge=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Ge.style.left||"",this._previousHTMLStyles.top=Ge.style.top||"",Ge.style.left=(0,Y.a1)(-this._previousScrollPosition.left),Ge.style.top=(0,Y.a1)(-this._previousScrollPosition.top),Ge.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Ge=this._document.documentElement,K=Ge.style,C=this._document.body.style,b=K.scrollBehavior||"",z=C.scrollBehavior||"";this._isEnabled=!1,K.left=this._previousHTMLStyles.left,K.top=this._previousHTMLStyles.top,Ge.classList.remove("cdk-global-scrollblock"),re&&(K.scrollBehavior=C.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),re&&(K.scrollBehavior=b,C.scrollBehavior=z)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Et=this._document.body,K=this._viewportRuler.getViewportSize();return Et.scrollHeight>K.height||Et.scrollWidth>K.width}}class pe{constructor(Ge,Et,K,C){this._scrollDispatcher=Ge,this._ngZone=Et,this._viewportRuler=K,this._config=C,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Ge){this._overlayRef=Ge}enable(){if(this._scrollSubscription)return;const Ge=this._scrollDispatcher.scrolled(0).pipe((0,j.p)(Et=>!Et||!this._overlayRef.overlayElement.contains(Et.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Ge.subscribe(()=>{const Et=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Et-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Ge.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class he{enable(){}disable(){}attach(){}}function ve(nt,Ge){return Ge.some(Et=>nt.bottom<Et.top||nt.top>Et.bottom||nt.right<Et.left||nt.left>Et.right)}function ge(nt,Ge){return Ge.some(Et=>nt.top<Et.top||nt.bottom>Et.bottom||nt.left<Et.left||nt.right>Et.right)}class Me{constructor(Ge,Et,K,C){this._scrollDispatcher=Ge,this._viewportRuler=Et,this._ngZone=K,this._config=C,this._scrollSubscription=null}attach(Ge){this._overlayRef=Ge}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Et=this._overlayRef.overlayElement.getBoundingClientRect(),{width:K,height:C}=this._viewportRuler.getViewportSize();ve(Et,[{width:K,height:C,bottom:C,right:K,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Oe=(()=>{class nt{constructor(Et,K,C,b){this._scrollDispatcher=Et,this._viewportRuler=K,this._ngZone=C,this.noop=()=>new he,this.close=z=>new pe(this._scrollDispatcher,this._ngZone,this._viewportRuler,z),this.block=()=>new te(this._viewportRuler,this._document),this.reposition=z=>new Me(this._scrollDispatcher,this._viewportRuler,this._ngZone,z),this._document=b}static#e=this.\u0275fac=function(K){return new(K||nt)(N.KVO(h.R),N.KVO(h.Xj),N.KVO(N.SKi),N.KVO(x.qQ))};static#t=this.\u0275prov=N.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();class je{constructor(Ge){if(this.scrollStrategy=new he,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Ge){const Et=Object.keys(Ge);for(const K of Et)void 0!==Ge[K]&&(this[K]=Ge[K])}}}class f{constructor(Ge,Et){this.connectionPair=Ge,this.scrollableViewProperties=Et}}let D=(()=>{class nt{constructor(Et){this._attachedOverlays=[],this._document=Et}ngOnDestroy(){this.detach()}add(Et){this.remove(Et),this._attachedOverlays.push(Et)}remove(Et){const K=this._attachedOverlays.indexOf(Et);K>-1&&this._attachedOverlays.splice(K,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(K){return new(K||nt)(N.KVO(x.qQ))};static#t=this.\u0275prov=N.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})(),O=(()=>{class nt extends D{constructor(Et,K){super(Et),this._ngZone=K,this._keydownListener=C=>{const b=this._attachedOverlays;for(let z=b.length-1;z>-1;z--)if(b[z]._keydownEvents.observers.length>0){const le=b[z]._keydownEvents;this._ngZone?this._ngZone.run(()=>le.next(C)):le.next(C);break}}}add(Et){super.add(Et),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(K){return new(K||nt)(N.KVO(x.qQ),N.KVO(N.SKi,8))};static#t=this.\u0275prov=N.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})(),$=(()=>{class nt extends D{constructor(Et,K,C){super(Et),this._platform=K,this._ngZone=C,this._cursorStyleIsSet=!1,this._pointerDownListener=b=>{this._pointerDownEventTarget=(0,M.Fb)(b)},this._clickListener=b=>{const z=(0,M.Fb)(b),le="click"===b.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:z;this._pointerDownEventTarget=null;const Ae=this._attachedOverlays.slice();for(let Be=Ae.length-1;Be>-1;Be--){const ft=Ae[Be];if(ft._outsidePointerEvents.observers.length<1||!ft.hasAttached())continue;if(T(ft.overlayElement,z)||T(ft.overlayElement,le))break;const Yt=ft._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Yt.next(b)):Yt.next(b)}}}add(Et){if(super.add(Et),!this._isAttached){const K=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(K)):this._addEventListeners(K),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=K.style.cursor,K.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Et=this._document.body;Et.removeEventListener("pointerdown",this._pointerDownListener,!0),Et.removeEventListener("click",this._clickListener,!0),Et.removeEventListener("auxclick",this._clickListener,!0),Et.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Et.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Et){Et.addEventListener("pointerdown",this._pointerDownListener,!0),Et.addEventListener("click",this._clickListener,!0),Et.addEventListener("auxclick",this._clickListener,!0),Et.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(K){return new(K||nt)(N.KVO(x.qQ),N.KVO(M.OD),N.KVO(N.SKi,8))};static#t=this.\u0275prov=N.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();function T(nt,Ge){const Et=typeof ShadowRoot<"u"&&ShadowRoot;let K=Ge;for(;K;){if(K===nt)return!0;K=Et&&K instanceof ShadowRoot?K.host:K.parentNode}return!1}let c=(()=>{class nt{constructor(Et,K){this._platform=K,this._document=Et}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Et="cdk-overlay-container";if(this._platform.isBrowser||(0,M.v8)()){const C=this._document.querySelectorAll(`.${Et}[platform="server"], .${Et}[platform="test"]`);for(let b=0;b<C.length;b++)C[b].remove()}const K=this._document.createElement("div");K.classList.add(Et),(0,M.v8)()?K.setAttribute("platform","test"):this._platform.isBrowser||K.setAttribute("platform","server"),this._document.body.appendChild(K),this._containerElement=K}static#e=this.\u0275fac=function(K){return new(K||nt)(N.KVO(x.qQ),N.KVO(M.OD))};static#t=this.\u0275prov=N.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();class E{constructor(Ge,Et,K,C,b,z,le,Ae,Be,ft=!1,Yt){this._portalOutlet=Ge,this._host=Et,this._pane=K,this._config=C,this._ngZone=b,this._keyboardDispatcher=z,this._document=le,this._location=Ae,this._outsideClickDispatcher=Be,this._animationsDisabled=ft,this._injector=Yt,this._backdropElement=null,this._backdropClick=new W.B,this._attachments=new W.B,this._detachments=new W.B,this._locationChanges=Q.yU.EMPTY,this._backdropClickHandler=Rt=>this._backdropClick.next(Rt),this._backdropTransitionendHandler=Rt=>{this._disposeBackdrop(Rt.target)},this._keydownEvents=new W.B,this._outsidePointerEvents=new W.B,this._renders=new W.B,C.scrollStrategy&&(this._scrollStrategy=C.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=C.positionStrategy,this._afterRenderRef=(0,N.O8t)(()=>(0,N.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Ge){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Et=this._portalOutlet.attach(Ge);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,N.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Et?.onDestroy&&Et.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Et}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Ge=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Ge}dispose(){const Ge=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Ge&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Ge){Ge!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Ge,this.hasAttached()&&(Ge.attach(this),this.updatePosition()))}updateSize(Ge){this._config={...this._config,...Ge},this._updateElementSize()}setDirection(Ge){this._config={...this._config,direction:Ge},this._updateElementDirection()}addPanelClass(Ge){this._pane&&this._toggleClasses(this._pane,Ge,!0)}removePanelClass(Ge){this._pane&&this._toggleClasses(this._pane,Ge,!1)}getDirection(){const Ge=this._config.direction;return Ge?"string"==typeof Ge?Ge:Ge.value:"ltr"}updateScrollStrategy(Ge){Ge!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Ge,this.hasAttached()&&(Ge.attach(this),Ge.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Ge=this._pane.style;Ge.width=(0,Y.a1)(this._config.width),Ge.height=(0,Y.a1)(this._config.height),Ge.minWidth=(0,Y.a1)(this._config.minWidth),Ge.minHeight=(0,Y.a1)(this._config.minHeight),Ge.maxWidth=(0,Y.a1)(this._config.maxWidth),Ge.maxHeight=(0,Y.a1)(this._config.maxHeight)}_togglePointerEvents(Ge){this._pane.style.pointerEvents=Ge?"":"none"}_attachBackdrop(){const Ge="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Ge)})}):this._backdropElement.classList.add(Ge)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Ge=this._backdropElement;if(Ge){if(this._animationsDisabled)return void this._disposeBackdrop(Ge);Ge.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Ge.addEventListener("transitionend",this._backdropTransitionendHandler)}),Ge.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Ge)},500))}}_toggleClasses(Ge,Et,K){const C=(0,Y.FG)(Et||[]).filter(b=>!!b);C.length&&(K?Ge.classList.add(...C):Ge.classList.remove(...C))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const Ge=this._renders.pipe((0,R.Q)((0,de.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Ge.unsubscribe())})})}_disposeScrollStrategy(){const Ge=this._scrollStrategy;Ge&&(Ge.disable(),Ge.detach&&Ge.detach())}_disposeBackdrop(Ge){Ge&&(Ge.removeEventListener("click",this._backdropClickHandler),Ge.removeEventListener("transitionend",this._backdropTransitionendHandler),Ge.remove(),this._backdropElement===Ge&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const q="cdk-overlay-connected-position-bounding-box",X=/([A-Za-z%]+)$/;class ce{get positions(){return this._preferredPositions}constructor(Ge,Et,K,C,b){this._viewportRuler=Et,this._document=K,this._platform=C,this._overlayContainer=b,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new W.B,this._resizeSubscription=Q.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Ge)}attach(Ge){this._validatePositions(),Ge.hostElement.classList.add(q),this._overlayRef=Ge,this._boundingBox=Ge.hostElement,this._pane=Ge.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ge=this._originRect,Et=this._overlayRect,K=this._viewportRect,C=this._containerRect,b=[];let z;for(let le of this._preferredPositions){let Ae=this._getOriginPoint(Ge,C,le),Be=this._getOverlayPoint(Ae,Et,le),ft=this._getOverlayFit(Be,Et,K,le);if(ft.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(le,Ae);this._canFitWithFlexibleDimensions(ft,Be,K)?b.push({position:le,origin:Ae,overlayRect:Et,boundingBoxRect:this._calculateBoundingBoxRect(Ae,le)}):(!z||z.overlayFit.visibleArea<ft.visibleArea)&&(z={overlayFit:ft,overlayPoint:Be,originPoint:Ae,position:le,overlayRect:Et})}if(b.length){let le=null,Ae=-1;for(const Be of b){const ft=Be.boundingBoxRect.width*Be.boundingBoxRect.height*(Be.position.weight||1);ft>Ae&&(Ae=ft,le=Be)}return this._isPushed=!1,void this._applyPosition(le.position,le.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(z.position,z.originPoint);this._applyPosition(z.position,z.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&me(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(q),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Ge=this._lastPosition;if(Ge){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Et=this._getOriginPoint(this._originRect,this._containerRect,Ge);this._applyPosition(Ge,Et)}else this.apply()}withScrollableContainers(Ge){return this._scrollables=Ge,this}withPositions(Ge){return this._preferredPositions=Ge,-1===Ge.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Ge){return this._viewportMargin=Ge,this}withFlexibleDimensions(Ge=!0){return this._hasFlexibleDimensions=Ge,this}withGrowAfterOpen(Ge=!0){return this._growAfterOpen=Ge,this}withPush(Ge=!0){return this._canPush=Ge,this}withLockedPosition(Ge=!0){return this._positionLocked=Ge,this}setOrigin(Ge){return this._origin=Ge,this}withDefaultOffsetX(Ge){return this._offsetX=Ge,this}withDefaultOffsetY(Ge){return this._offsetY=Ge,this}withTransformOriginOn(Ge){return this._transformOriginSelector=Ge,this}_getOriginPoint(Ge,Et,K){let C,b;if("center"==K.originX)C=Ge.left+Ge.width/2;else{const z=this._isRtl()?Ge.right:Ge.left,le=this._isRtl()?Ge.left:Ge.right;C="start"==K.originX?z:le}return Et.left<0&&(C-=Et.left),b="center"==K.originY?Ge.top+Ge.height/2:"top"==K.originY?Ge.top:Ge.bottom,Et.top<0&&(b-=Et.top),{x:C,y:b}}_getOverlayPoint(Ge,Et,K){let C,b;return C="center"==K.overlayX?-Et.width/2:"start"===K.overlayX?this._isRtl()?-Et.width:0:this._isRtl()?0:-Et.width,b="center"==K.overlayY?-Et.height/2:"top"==K.overlayY?0:-Et.height,{x:Ge.x+C,y:Ge.y+b}}_getOverlayFit(Ge,Et,K,C){const b=Ke(Et);let{x:z,y:le}=Ge,Ae=this._getOffset(C,"x"),Be=this._getOffset(C,"y");Ae&&(z+=Ae),Be&&(le+=Be);let Rt=0-le,Vt=le+b.height-K.height,dn=this._subtractOverflows(b.width,0-z,z+b.width-K.width),Mn=this._subtractOverflows(b.height,Rt,Vt),En=dn*Mn;return{visibleArea:En,isCompletelyWithinViewport:b.width*b.height===En,fitsInViewportVertically:Mn===b.height,fitsInViewportHorizontally:dn==b.width}}_canFitWithFlexibleDimensions(Ge,Et,K){if(this._hasFlexibleDimensions){const C=K.bottom-Et.y,b=K.right-Et.x,z=Te(this._overlayRef.getConfig().minHeight),le=Te(this._overlayRef.getConfig().minWidth);return(Ge.fitsInViewportVertically||null!=z&&z<=C)&&(Ge.fitsInViewportHorizontally||null!=le&&le<=b)}return!1}_pushOverlayOnScreen(Ge,Et,K){if(this._previousPushAmount&&this._positionLocked)return{x:Ge.x+this._previousPushAmount.x,y:Ge.y+this._previousPushAmount.y};const C=Ke(Et),b=this._viewportRect,z=Math.max(Ge.x+C.width-b.width,0),le=Math.max(Ge.y+C.height-b.height,0),Ae=Math.max(b.top-K.top-Ge.y,0),Be=Math.max(b.left-K.left-Ge.x,0);let ft=0,Yt=0;return ft=C.width<=b.width?Be||-z:Ge.x<this._viewportMargin?b.left-K.left-Ge.x:0,Yt=C.height<=b.height?Ae||-le:Ge.y<this._viewportMargin?b.top-K.top-Ge.y:0,this._previousPushAmount={x:ft,y:Yt},{x:Ge.x+ft,y:Ge.y+Yt}}_applyPosition(Ge,Et){if(this._setTransformOrigin(Ge),this._setOverlayElementStyles(Et,Ge),this._setBoundingBoxStyles(Et,Ge),Ge.panelClass&&this._addPanelClasses(Ge.panelClass),this._positionChanges.observers.length){const K=this._getScrollVisibility();if(Ge!==this._lastPosition||!this._lastScrollVisibility||!function Qe(nt,Ge){return nt===Ge||nt.isOriginClipped===Ge.isOriginClipped&&nt.isOriginOutsideView===Ge.isOriginOutsideView&&nt.isOverlayClipped===Ge.isOverlayClipped&&nt.isOverlayOutsideView===Ge.isOverlayOutsideView}(this._lastScrollVisibility,K)){const C=new f(Ge,K);this._positionChanges.next(C)}this._lastScrollVisibility=K}this._lastPosition=Ge,this._isInitialRender=!1}_setTransformOrigin(Ge){if(!this._transformOriginSelector)return;const Et=this._boundingBox.querySelectorAll(this._transformOriginSelector);let K,C=Ge.overlayY;K="center"===Ge.overlayX?"center":this._isRtl()?"start"===Ge.overlayX?"right":"left":"start"===Ge.overlayX?"left":"right";for(let b=0;b<Et.length;b++)Et[b].style.transformOrigin=`${K} ${C}`}_calculateBoundingBoxRect(Ge,Et){const K=this._viewportRect,C=this._isRtl();let b,z,le,ft,Yt,Rt;if("top"===Et.overlayY)z=Ge.y,b=K.height-z+this._viewportMargin;else if("bottom"===Et.overlayY)le=K.height-Ge.y+2*this._viewportMargin,b=K.height-le+this._viewportMargin;else{const Vt=Math.min(K.bottom-Ge.y+K.top,Ge.y),dn=this._lastBoundingBoxSize.height;b=2*Vt,z=Ge.y-Vt,b>dn&&!this._isInitialRender&&!this._growAfterOpen&&(z=Ge.y-dn/2)}if("end"===Et.overlayX&&!C||"start"===Et.overlayX&&C)Rt=K.width-Ge.x+2*this._viewportMargin,ft=Ge.x-this._viewportMargin;else if("start"===Et.overlayX&&!C||"end"===Et.overlayX&&C)Yt=Ge.x,ft=K.right-Ge.x;else{const Vt=Math.min(K.right-Ge.x+K.left,Ge.x),dn=this._lastBoundingBoxSize.width;ft=2*Vt,Yt=Ge.x-Vt,ft>dn&&!this._isInitialRender&&!this._growAfterOpen&&(Yt=Ge.x-dn/2)}return{top:z,left:Yt,bottom:le,right:Rt,width:ft,height:b}}_setBoundingBoxStyles(Ge,Et){const K=this._calculateBoundingBoxRect(Ge,Et);!this._isInitialRender&&!this._growAfterOpen&&(K.height=Math.min(K.height,this._lastBoundingBoxSize.height),K.width=Math.min(K.width,this._lastBoundingBoxSize.width));const C={};if(this._hasExactPosition())C.top=C.left="0",C.bottom=C.right=C.maxHeight=C.maxWidth="",C.width=C.height="100%";else{const b=this._overlayRef.getConfig().maxHeight,z=this._overlayRef.getConfig().maxWidth;C.height=(0,Y.a1)(K.height),C.top=(0,Y.a1)(K.top),C.bottom=(0,Y.a1)(K.bottom),C.width=(0,Y.a1)(K.width),C.left=(0,Y.a1)(K.left),C.right=(0,Y.a1)(K.right),C.alignItems="center"===Et.overlayX?"center":"end"===Et.overlayX?"flex-end":"flex-start",C.justifyContent="center"===Et.overlayY?"center":"bottom"===Et.overlayY?"flex-end":"flex-start",b&&(C.maxHeight=(0,Y.a1)(b)),z&&(C.maxWidth=(0,Y.a1)(z))}this._lastBoundingBoxSize=K,me(this._boundingBox.style,C)}_resetBoundingBoxStyles(){me(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){me(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Ge,Et){const K={},C=this._hasExactPosition(),b=this._hasFlexibleDimensions,z=this._overlayRef.getConfig();if(C){const ft=this._viewportRuler.getViewportScrollPosition();me(K,this._getExactOverlayY(Et,Ge,ft)),me(K,this._getExactOverlayX(Et,Ge,ft))}else K.position="static";let le="",Ae=this._getOffset(Et,"x"),Be=this._getOffset(Et,"y");Ae&&(le+=`translateX(${Ae}px) `),Be&&(le+=`translateY(${Be}px)`),K.transform=le.trim(),z.maxHeight&&(C?K.maxHeight=(0,Y.a1)(z.maxHeight):b&&(K.maxHeight="")),z.maxWidth&&(C?K.maxWidth=(0,Y.a1)(z.maxWidth):b&&(K.maxWidth="")),me(this._pane.style,K)}_getExactOverlayY(Ge,Et,K){let C={top:"",bottom:""},b=this._getOverlayPoint(Et,this._overlayRect,Ge);return this._isPushed&&(b=this._pushOverlayOnScreen(b,this._overlayRect,K)),"bottom"===Ge.overlayY?C.bottom=this._document.documentElement.clientHeight-(b.y+this._overlayRect.height)+"px":C.top=(0,Y.a1)(b.y),C}_getExactOverlayX(Ge,Et,K){let z,C={left:"",right:""},b=this._getOverlayPoint(Et,this._overlayRect,Ge);return this._isPushed&&(b=this._pushOverlayOnScreen(b,this._overlayRect,K)),z=this._isRtl()?"end"===Ge.overlayX?"left":"right":"end"===Ge.overlayX?"right":"left","right"===z?C.right=this._document.documentElement.clientWidth-(b.x+this._overlayRect.width)+"px":C.left=(0,Y.a1)(b.x),C}_getScrollVisibility(){const Ge=this._getOriginRect(),Et=this._pane.getBoundingClientRect(),K=this._scrollables.map(C=>C.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ge(Ge,K),isOriginOutsideView:ve(Ge,K),isOverlayClipped:ge(Et,K),isOverlayOutsideView:ve(Et,K)}}_subtractOverflows(Ge,...Et){return Et.reduce((K,C)=>K-Math.max(C,0),Ge)}_getNarrowedViewportRect(){const Ge=this._document.documentElement.clientWidth,Et=this._document.documentElement.clientHeight,K=this._viewportRuler.getViewportScrollPosition();return{top:K.top+this._viewportMargin,left:K.left+this._viewportMargin,right:K.left+Ge-this._viewportMargin,bottom:K.top+Et-this._viewportMargin,width:Ge-2*this._viewportMargin,height:Et-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Ge,Et){return"x"===Et?null==Ge.offsetX?this._offsetX:Ge.offsetX:null==Ge.offsetY?this._offsetY:Ge.offsetY}_validatePositions(){}_addPanelClasses(Ge){this._pane&&(0,Y.FG)(Ge).forEach(Et=>{""!==Et&&-1===this._appliedPanelClasses.indexOf(Et)&&(this._appliedPanelClasses.push(Et),this._pane.classList.add(Et))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Ge=>{this._pane.classList.remove(Ge)}),this._appliedPanelClasses=[])}_getOriginRect(){const Ge=this._origin;if(Ge instanceof N.aKT)return Ge.nativeElement.getBoundingClientRect();if(Ge instanceof Element)return Ge.getBoundingClientRect();const Et=Ge.width||0,K=Ge.height||0;return{top:Ge.y,bottom:Ge.y+K,left:Ge.x,right:Ge.x+Et,height:K,width:Et}}}function me(nt,Ge){for(let Et in Ge)Ge.hasOwnProperty(Et)&&(nt[Et]=Ge[Et]);return nt}function Te(nt){if("number"!=typeof nt&&null!=nt){const[Ge,Et]=nt.split(X);return Et&&"px"!==Et?null:parseFloat(Ge)}return nt||null}function Ke(nt){return{top:Math.floor(nt.top),right:Math.floor(nt.right),bottom:Math.floor(nt.bottom),left:Math.floor(nt.left),width:Math.floor(nt.width),height:Math.floor(nt.height)}}const ke=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],Ie=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"}],Xe="cdk-global-overlay-wrapper";class Se{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Ge){const Et=Ge.getConfig();this._overlayRef=Ge,this._width&&!Et.width&&Ge.updateSize({width:this._width}),this._height&&!Et.height&&Ge.updateSize({height:this._height}),Ge.hostElement.classList.add(Xe),this._isDisposed=!1}top(Ge=""){return this._bottomOffset="",this._topOffset=Ge,this._alignItems="flex-start",this}left(Ge=""){return this._xOffset=Ge,this._xPosition="left",this}bottom(Ge=""){return this._topOffset="",this._bottomOffset=Ge,this._alignItems="flex-end",this}right(Ge=""){return this._xOffset=Ge,this._xPosition="right",this}start(Ge=""){return this._xOffset=Ge,this._xPosition="start",this}end(Ge=""){return this._xOffset=Ge,this._xPosition="end",this}width(Ge=""){return this._overlayRef?this._overlayRef.updateSize({width:Ge}):this._width=Ge,this}height(Ge=""){return this._overlayRef?this._overlayRef.updateSize({height:Ge}):this._height=Ge,this}centerHorizontally(Ge=""){return this.left(Ge),this._xPosition="center",this}centerVertically(Ge=""){return this.top(Ge),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Ge=this._overlayRef.overlayElement.style,Et=this._overlayRef.hostElement.style,K=this._overlayRef.getConfig(),{width:C,height:b,maxWidth:z,maxHeight:le}=K,Ae=!("100%"!==C&&"100vw"!==C||z&&"100%"!==z&&"100vw"!==z),Be=!("100%"!==b&&"100vh"!==b||le&&"100%"!==le&&"100vh"!==le),ft=this._xPosition,Yt=this._xOffset,Rt="rtl"===this._overlayRef.getConfig().direction;let Vt="",dn="",Mn="";Ae?Mn="flex-start":"center"===ft?(Mn="center",Rt?dn=Yt:Vt=Yt):Rt?"left"===ft||"end"===ft?(Mn="flex-end",Vt=Yt):("right"===ft||"start"===ft)&&(Mn="flex-start",dn=Yt):"left"===ft||"start"===ft?(Mn="flex-start",Vt=Yt):("right"===ft||"end"===ft)&&(Mn="flex-end",dn=Yt),Ge.position=this._cssPosition,Ge.marginLeft=Ae?"0":Vt,Ge.marginTop=Be?"0":this._topOffset,Ge.marginBottom=this._bottomOffset,Ge.marginRight=Ae?"0":dn,Et.justifyContent=Mn,Et.alignItems=Be?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Ge=this._overlayRef.overlayElement.style,Et=this._overlayRef.hostElement,K=Et.style;Et.classList.remove(Xe),K.justifyContent=K.alignItems=Ge.marginTop=Ge.marginBottom=Ge.marginLeft=Ge.marginRight=Ge.position="",this._overlayRef=null,this._isDisposed=!0}}let Le=(()=>{class nt{constructor(Et,K,C,b){this._viewportRuler=Et,this._document=K,this._platform=C,this._overlayContainer=b}global(){return new Se}flexibleConnectedTo(Et){return new ce(Et,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(K){return new(K||nt)(N.KVO(h.Xj),N.KVO(x.qQ),N.KVO(M.OD),N.KVO(c))};static#t=this.\u0275prov=N.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})(),Ee=0,be=(()=>{class nt{constructor(Et,K,C,b,z,le,Ae,Be,ft,Yt,Rt,Vt){this.scrollStrategies=Et,this._overlayContainer=K,this._componentFactoryResolver=C,this._positionBuilder=b,this._keyboardDispatcher=z,this._injector=le,this._ngZone=Ae,this._document=Be,this._directionality=ft,this._location=Yt,this._outsideClickDispatcher=Rt,this._animationsModuleType=Vt}create(Et){const K=this._createHostElement(),C=this._createPaneElement(K),b=this._createPortalOutlet(C),z=new je(Et);return z.direction=z.direction||this._directionality.value,new E(b,K,C,z,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(N.uvJ))}position(){return this._positionBuilder}_createPaneElement(Et){const K=this._document.createElement("div");return K.id="cdk-overlay-"+Ee++,K.classList.add("cdk-overlay-pane"),Et.appendChild(K),K}_createHostElement(){const Et=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Et),Et}_createPortalOutlet(Et){return this._appRef||(this._appRef=this._injector.get(N.o8S)),new ee.aI(Et,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(K){return new(K||nt)(N.KVO(Oe),N.KVO(c),N.KVO(N.OM3),N.KVO(Le),N.KVO(O),N.KVO(N.zZn),N.KVO(N.SKi),N.KVO(x.qQ),N.KVO(P.dS),N.KVO(x.aZ),N.KVO($),N.KVO(N.bc$,8))};static#t=this.\u0275prov=N.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();const oe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],fe=new N.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const nt=(0,N.WQX)(be);return()=>nt.scrollStrategies.reposition()}});let we=(()=>{class nt{constructor(Et){this.elementRef=Et}static#e=this.\u0275fac=function(K){return new(K||nt)(N.rXU(N.aKT))};static#t=this.\u0275dir=N.FsC({type:nt,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return nt})(),De=(()=>{class nt{get offsetX(){return this._offsetX}set offsetX(Et){this._offsetX=Et,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Et){this._offsetY=Et,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(Et){this._disposeOnNavigation=Et}constructor(Et,K,C,b,z){this._overlay=Et,this._dir=z,this._backdropSubscription=Q.yU.EMPTY,this._attachSubscription=Q.yU.EMPTY,this._detachSubscription=Q.yU.EMPTY,this._positionSubscription=Q.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,N.WQX)(N.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new N.bkB,this.positionChange=new N.bkB,this.attach=new N.bkB,this.detach=new N.bkB,this.overlayKeydown=new N.bkB,this.overlayOutsideClick=new N.bkB,this._templatePortal=new ee.VA(K,C),this._scrollStrategyFactory=b,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Et){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Et.origin&&this.open&&this._position.apply()),Et.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=oe);const Et=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Et.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Et.detachments().subscribe(()=>this.detach.emit()),Et.keydownEvents().subscribe(K=>{this.overlayKeydown.next(K),K.keyCode===ae._f&&!this.disableClose&&!(0,ae.rp)(K)&&(K.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(K=>{const C=this._getOriginElement(),b=(0,M.Fb)(K);(!C||C!==b&&!C.contains(b))&&this.overlayOutsideClick.next(K)})}_buildConfig(){const Et=this._position=this.positionStrategy||this._createPositionStrategy(),K=new je({direction:this._dir,positionStrategy:Et,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(K.width=this.width),(this.height||0===this.height)&&(K.height=this.height),(this.minWidth||0===this.minWidth)&&(K.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(K.minHeight=this.minHeight),this.backdropClass&&(K.backdropClass=this.backdropClass),this.panelClass&&(K.panelClass=this.panelClass),K}_updatePositionStrategy(Et){const K=this.positions.map(C=>({originX:C.originX,originY:C.originY,overlayX:C.overlayX,overlayY:C.overlayY,offsetX:C.offsetX||this.offsetX,offsetY:C.offsetY||this.offsetY,panelClass:C.panelClass||void 0}));return Et.setOrigin(this._getOrigin()).withPositions(K).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Et=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(Et),Et}_getOrigin(){return this.origin instanceof we?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof we?this.origin.elementRef.nativeElement:this.origin instanceof N.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Et=>{this.backdropClick.emit(Et)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function V(nt,Ge=!1){return(0,U.N)((Et,K)=>{let C=0;Et.subscribe((0,H._)(K,b=>{const z=nt(b,C++);(z||Ge)&&K.next(b),!z&&K.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(Et=>{this._ngZone.run(()=>this.positionChange.emit(Et)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(K){return new(K||nt)(N.rXU(be),N.rXU(N.C4Q),N.rXU(N.c1b),N.rXU(fe),N.rXU(P.dS,8))};static#t=this.\u0275dir=N.FsC({type:nt,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",N.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",N.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",N.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",N.L39],push:[2,"cdkConnectedOverlayPush","push",N.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",N.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[N.GFd,N.OA$]})}return nt})();const Je={provide:fe,deps:[be],useFactory:function $e(nt){return()=>nt.scrollStrategies.reposition()}};let Ze=(()=>{class nt{static#e=this.\u0275fac=function(K){return new(K||nt)};static#t=this.\u0275mod=N.$C({type:nt});static#n=this.\u0275inj=N.G2t({providers:[be,Je],imports:[P.jI,ee.jc,h.E9,h.E9]})}return nt})()},36860:(Ye,J,A)=>{"use strict";A.d(J,{BD:()=>ae,BQ:()=>P,CZ:()=>de,Fb:()=>he,KT:()=>ue,MU:()=>U,OD:()=>Y,r5:()=>ee,v8:()=>ve,vc:()=>pe});var h=A(93953),x=A(60177);let N;try{N=typeof Intl<"u"&&Intl.v8BreakIterator}catch{N=!1}let j,Y=(()=>{class ge{constructor(Oe){this._platformId=Oe,this.isBrowser=this._platformId?(0,x.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!N)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(je){return new(je||ge)(h.KVO(h.Agw))};static#t=this.\u0275prov=h.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})();const R=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function U(){if(j)return j;if("object"!=typeof document||!document)return j=new Set(R),j;let ge=document.createElement("input");return j=new Set(R.filter(Me=>(ge.setAttribute("type",Me),ge.type===Me))),j}let H;function P(ge){return function V(){if(null==H&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>H=!0}))}finally{H=H||!1}return H}()?ge:!!ge.capture}var ee=function(ge){return ge[ge.NORMAL=0]="NORMAL",ge[ge.NEGATED=1]="NEGATED",ge[ge.INVERTED=2]="INVERTED",ge}(ee||{});let W,Q,re;function de(){if(null==Q){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Q=!1,Q;if("scrollBehavior"in document.documentElement.style)Q=!0;else{const ge=Element.prototype.scrollTo;Q=!!ge&&!/\{\s*\[native code\]\s*\}/.test(ge.toString())}}return Q}function ae(){if("object"!=typeof document||!document)return ee.NORMAL;if(null==W){const ge=document.createElement("div"),Me=ge.style;ge.dir="rtl",Me.width="1px",Me.overflow="auto",Me.visibility="hidden",Me.pointerEvents="none",Me.position="absolute";const Oe=document.createElement("div"),je=Oe.style;je.width="2px",je.height="1px",ge.appendChild(Oe),document.body.appendChild(ge),W=ee.NORMAL,0===ge.scrollLeft&&(ge.scrollLeft=1,W=0===ge.scrollLeft?ee.NEGATED:ee.INVERTED),ge.remove()}return W}function ue(ge){if(function te(){if(null==re){const ge=typeof document<"u"?document.head:null;re=!(!ge||!ge.createShadowRoot&&!ge.attachShadow)}return re}()){const Me=ge.getRootNode?ge.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Me instanceof ShadowRoot)return Me}return null}function pe(){let ge=typeof document<"u"&&document?document.activeElement:null;for(;ge&&ge.shadowRoot;){const Me=ge.shadowRoot.activeElement;if(Me===ge)break;ge=Me}return ge}function he(ge){return ge.composedPath?ge.composedPath()[0]:ge.target}function ve(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},76939:(Ye,J,A)=>{"use strict";A.d(J,{A8:()=>V,I3:()=>ue,VA:()=>P,aI:()=>de,bV:()=>re,jc:()=>he,lb:()=>W});var h=A(93953),x=A(60177);class H{attach(Me){return this._attachedHost=Me,Me.attach(this)}detach(){let Me=this._attachedHost;null!=Me&&(this._attachedHost=null,Me.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Me){this._attachedHost=Me}}class V extends H{constructor(Me,Oe,je,B,l){super(),this.component=Me,this.viewContainerRef=Oe,this.injector=je,this.componentFactoryResolver=B,this.projectableNodes=l}}class P extends H{constructor(Me,Oe,je,B){super(),this.templateRef=Me,this.viewContainerRef=Oe,this.context=je,this.injector=B}get origin(){return this.templateRef.elementRef}attach(Me,Oe=this.context){return this.context=Oe,super.attach(Me)}detach(){return this.context=void 0,super.detach()}}class ee extends H{constructor(Me){super(),this.element=Me instanceof h.aKT?Me.nativeElement:Me}}class W{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Me){return Me instanceof V?(this._attachedPortal=Me,this.attachComponentPortal(Me)):Me instanceof P?(this._attachedPortal=Me,this.attachTemplatePortal(Me)):this.attachDomPortal&&Me instanceof ee?(this._attachedPortal=Me,this.attachDomPortal(Me)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Me){this._disposeFn=Me}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class de extends W{constructor(Me,Oe,je,B,l){super(),this.outletElement=Me,this._componentFactoryResolver=Oe,this._appRef=je,this._defaultInjector=B,this.attachDomPortal=f=>{const w=f.element,_=this._document.createComment("dom-portal");w.parentNode.insertBefore(_,w),this.outletElement.appendChild(w),this._attachedPortal=f,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(w,_)})},this._document=l}attachComponentPortal(Me){const je=(Me.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Me.component);let B;return Me.viewContainerRef?(B=Me.viewContainerRef.createComponent(je,Me.viewContainerRef.length,Me.injector||Me.viewContainerRef.injector,Me.projectableNodes||void 0),this.setDisposeFn(()=>B.destroy())):(B=je.create(Me.injector||this._defaultInjector||h.zZn.NULL),this._appRef.attachView(B.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(B.hostView),B.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(B)),this._attachedPortal=Me,B}attachTemplatePortal(Me){let Oe=Me.viewContainerRef,je=Oe.createEmbeddedView(Me.templateRef,Me.context,{injector:Me.injector});return je.rootNodes.forEach(B=>this.outletElement.appendChild(B)),je.detectChanges(),this.setDisposeFn(()=>{let B=Oe.indexOf(je);-1!==B&&Oe.remove(B)}),this._attachedPortal=Me,je}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Me){return Me.hostView.rootNodes[0]}}let re=(()=>{class ge extends P{constructor(Oe,je){super(Oe,je)}static#e=this.\u0275fac=function(je){return new(je||ge)(h.rXU(h.C4Q),h.rXU(h.c1b))};static#t=this.\u0275dir=h.FsC({type:ge,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[h.Vt3]})}return ge})(),ue=(()=>{class ge extends W{constructor(Oe,je,B){super(),this._componentFactoryResolver=Oe,this._viewContainerRef=je,this._isInitialized=!1,this.attached=new h.bkB,this.attachDomPortal=l=>{const f=l.element,w=this._document.createComment("dom-portal");l.setAttachedHost(this),f.parentNode.insertBefore(w,f),this._getRootNode().appendChild(f),this._attachedPortal=l,super.setDisposeFn(()=>{w.parentNode&&w.parentNode.replaceChild(f,w)})},this._document=B}get portal(){return this._attachedPortal}set portal(Oe){this.hasAttached()&&!Oe&&!this._isInitialized||(this.hasAttached()&&super.detach(),Oe&&super.attach(Oe),this._attachedPortal=Oe||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Oe){Oe.setAttachedHost(this);const je=null!=Oe.viewContainerRef?Oe.viewContainerRef:this._viewContainerRef,l=(Oe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Oe.component),f=je.createComponent(l,je.length,Oe.injector||je.injector,Oe.projectableNodes||void 0);return je!==this._viewContainerRef&&this._getRootNode().appendChild(f.hostView.rootNodes[0]),super.setDisposeFn(()=>f.destroy()),this._attachedPortal=Oe,this._attachedRef=f,this.attached.emit(f),f}attachTemplatePortal(Oe){Oe.setAttachedHost(this);const je=this._viewContainerRef.createEmbeddedView(Oe.templateRef,Oe.context,{injector:Oe.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Oe,this._attachedRef=je,this.attached.emit(je),je}_getRootNode(){const Oe=this._viewContainerRef.element.nativeElement;return Oe.nodeType===Oe.ELEMENT_NODE?Oe:Oe.parentNode}static#e=this.\u0275fac=function(je){return new(je||ge)(h.rXU(h.OM3),h.rXU(h.c1b),h.rXU(x.qQ))};static#t=this.\u0275dir=h.FsC({type:ge,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[h.Vt3]})}return ge})(),he=(()=>{class ge{static#e=this.\u0275fac=function(je){return new(je||ge)};static#t=this.\u0275mod=h.$C({type:ge});static#n=this.\u0275inj=h.G2t({})}return ge})()},67333:(Ye,J,A)=>{"use strict";A.d(J,{uv:()=>f,Gj:()=>me,R:()=>l,E9:()=>Te,Xj:()=>_});var h=A(14085),x=A(93953),N=A(21413),Y=A(7673),M=A(71985),j=A(33726),H=(A(30536),A(25007),A(43236)),V=A(39974),P=A(58750),ee=A(54360),Q=A(41584);function de(Ke,Qe=H.E){return function W(Ke){return(0,V.N)((Qe,ke)=>{let Ie=!1,Xe=null,Se=null,Le=!1;const Ee=()=>{if(Se?.unsubscribe(),Se=null,Ie){Ie=!1;const oe=Xe;Xe=null,ke.next(oe)}Le&&ke.complete()},be=()=>{Se=null,Le&&ke.complete()};Qe.subscribe((0,ee._)(ke,oe=>{Ie=!0,Xe=oe,Se||(0,P.Tg)(Ke(oe)).subscribe(Se=(0,ee._)(ke,Ee,be))},()=>{Le=!0,(!Ie||!Se||Se.closed)&&ke.complete()}))})}(()=>(0,Q.O)(Ke,Qe))}var ae=A(5964),re=A(56977),te=A(36860),ue=A(60177),pe=A(28203);let l=(()=>{class Ke{constructor(ke,Ie,Xe){this._ngZone=ke,this._platform=Ie,this._scrolled=new N.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Xe}register(ke){this.scrollContainers.has(ke)||this.scrollContainers.set(ke,ke.elementScrolled().subscribe(()=>this._scrolled.next(ke)))}deregister(ke){const Ie=this.scrollContainers.get(ke);Ie&&(Ie.unsubscribe(),this.scrollContainers.delete(ke))}scrolled(ke=20){return this._platform.isBrowser?new M.c(Ie=>{this._globalSubscription||this._addGlobalListener();const Xe=ke>0?this._scrolled.pipe(de(ke)).subscribe(Ie):this._scrolled.subscribe(Ie);return this._scrolledCount++,()=>{Xe.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Y.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ke,Ie)=>this.deregister(Ie)),this._scrolled.complete()}ancestorScrolled(ke,Ie){const Xe=this.getAncestorScrollContainers(ke);return this.scrolled(Ie).pipe((0,ae.p)(Se=>!Se||Xe.indexOf(Se)>-1))}getAncestorScrollContainers(ke){const Ie=[];return this.scrollContainers.forEach((Xe,Se)=>{this._scrollableContainsElement(Se,ke)&&Ie.push(Se)}),Ie}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ke,Ie){let Xe=(0,h.i8)(Ie),Se=ke.getElementRef().nativeElement;do{if(Xe==Se)return!0}while(Xe=Xe.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ke=this._getWindow();return(0,j.R)(ke.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(Ie){return new(Ie||Ke)(x.KVO(x.SKi),x.KVO(te.OD),x.KVO(ue.qQ,8))};static#t=this.\u0275prov=x.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})(),f=(()=>{class Ke{constructor(ke,Ie,Xe,Se){this.elementRef=ke,this.scrollDispatcher=Ie,this.ngZone=Xe,this.dir=Se,this._destroyed=new N.B,this._elementScrolled=new M.c(Le=>this.ngZone.runOutsideAngular(()=>(0,j.R)(this.elementRef.nativeElement,"scroll").pipe((0,re.Q)(this._destroyed)).subscribe(Le)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(ke){const Ie=this.elementRef.nativeElement,Xe=this.dir&&"rtl"==this.dir.value;null==ke.left&&(ke.left=Xe?ke.end:ke.start),null==ke.right&&(ke.right=Xe?ke.start:ke.end),null!=ke.bottom&&(ke.top=Ie.scrollHeight-Ie.clientHeight-ke.bottom),Xe&&(0,te.BD)()!=te.r5.NORMAL?(null!=ke.left&&(ke.right=Ie.scrollWidth-Ie.clientWidth-ke.left),(0,te.BD)()==te.r5.INVERTED?ke.left=ke.right:(0,te.BD)()==te.r5.NEGATED&&(ke.left=ke.right?-ke.right:ke.right)):null!=ke.right&&(ke.left=Ie.scrollWidth-Ie.clientWidth-ke.right),this._applyScrollToOptions(ke)}_applyScrollToOptions(ke){const Ie=this.elementRef.nativeElement;(0,te.CZ)()?Ie.scrollTo(ke):(null!=ke.top&&(Ie.scrollTop=ke.top),null!=ke.left&&(Ie.scrollLeft=ke.left))}measureScrollOffset(ke){const Ie="left",Se=this.elementRef.nativeElement;if("top"==ke)return Se.scrollTop;if("bottom"==ke)return Se.scrollHeight-Se.clientHeight-Se.scrollTop;const Le=this.dir&&"rtl"==this.dir.value;return"start"==ke?ke=Le?"right":Ie:"end"==ke&&(ke=Le?Ie:"right"),Le&&(0,te.BD)()==te.r5.INVERTED?ke==Ie?Se.scrollWidth-Se.clientWidth-Se.scrollLeft:Se.scrollLeft:Le&&(0,te.BD)()==te.r5.NEGATED?ke==Ie?Se.scrollLeft+Se.scrollWidth-Se.clientWidth:-Se.scrollLeft:ke==Ie?Se.scrollLeft:Se.scrollWidth-Se.clientWidth-Se.scrollLeft}static#e=this.\u0275fac=function(Ie){return new(Ie||Ke)(x.rXU(x.aKT),x.rXU(l),x.rXU(x.SKi),x.rXU(pe.dS,8))};static#t=this.\u0275dir=x.FsC({type:Ke,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return Ke})(),_=(()=>{class Ke{constructor(ke,Ie,Xe){this._platform=ke,this._change=new N.B,this._changeListener=Se=>{this._change.next(Se)},this._document=Xe,Ie.runOutsideAngular(()=>{if(ke.isBrowser){const Se=this._getWindow();Se.addEventListener("resize",this._changeListener),Se.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ke=this._getWindow();ke.removeEventListener("resize",this._changeListener),ke.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ke={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ke}getViewportRect(){const ke=this.getViewportScrollPosition(),{width:Ie,height:Xe}=this.getViewportSize();return{top:ke.top,left:ke.left,bottom:ke.top+Xe,right:ke.left+Ie,height:Xe,width:Ie}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ke=this._document,Ie=this._getWindow(),Xe=ke.documentElement,Se=Xe.getBoundingClientRect();return{top:-Se.top||ke.body.scrollTop||Ie.scrollY||Xe.scrollTop||0,left:-Se.left||ke.body.scrollLeft||Ie.scrollX||Xe.scrollLeft||0}}change(ke=20){return ke>0?this._change.pipe(de(ke)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ke=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ke.innerWidth,height:ke.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(Ie){return new(Ie||Ke)(x.KVO(te.OD),x.KVO(x.SKi),x.KVO(ue.qQ,8))};static#t=this.\u0275prov=x.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})(),me=(()=>{class Ke{static#e=this.\u0275fac=function(Ie){return new(Ie||Ke)};static#t=this.\u0275mod=x.$C({type:Ke});static#n=this.\u0275inj=x.G2t({})}return Ke})(),Te=(()=>{class Ke{static#e=this.\u0275fac=function(Ie){return new(Ie||Ke)};static#t=this.\u0275mod=x.$C({type:Ke});static#n=this.\u0275inj=x.G2t({imports:[pe.jI,me,pe.jI,me]})}return Ke})()},60177:(Ye,J,A)=>{"use strict";A.d(J,{AJ:()=>Oi,B3:()=>qi,Jj:()=>la,MD:()=>Pl,N0:()=>hu,QT:()=>N,Sm:()=>ae,Sq:()=>Nn,T3:()=>bo,UE:()=>ns,VF:()=>M,Vy:()=>xi,Xr:()=>qs,YU:()=>ni,ZD:()=>Y,_b:()=>Wr,aZ:()=>te,bT:()=>Hr,fw:()=>re,hb:()=>Q,hj:()=>H,qQ:()=>R,vh:()=>Lf});var h=A(93953);let x=null;function N(){return x}function Y(gt){x??=gt}class M{}const R=new h.nKC("");let U=(()=>{class gt{historyGo(Ut){throw new Error("")}static#e=this.\u0275fac=function(nn){return new(nn||gt)};static#t=this.\u0275prov=h.jDH({token:gt,factory:()=>(0,h.WQX)(V),providedIn:"platform"})}return gt})();const H=new h.nKC("");let V=(()=>{class gt extends U{constructor(){super(),this._doc=(0,h.WQX)(R),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(Ut){const nn=N().getGlobalEventTarget(this._doc,"window");return nn.addEventListener("popstate",Ut,!1),()=>nn.removeEventListener("popstate",Ut)}onHashChange(Ut){const nn=N().getGlobalEventTarget(this._doc,"window");return nn.addEventListener("hashchange",Ut,!1),()=>nn.removeEventListener("hashchange",Ut)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ut){this._location.pathname=Ut}pushState(Ut,nn,Fn){this._history.pushState(Ut,nn,Fn)}replaceState(Ut,nn,Fn){this._history.replaceState(Ut,nn,Fn)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ut=0){this._history.go(Ut)}getState(){return this._history.state}static#e=this.\u0275fac=function(nn){return new(nn||gt)};static#t=this.\u0275prov=h.jDH({token:gt,factory:()=>new gt,providedIn:"platform"})}return gt})();function P(gt,fn){if(0==gt.length)return fn;if(0==fn.length)return gt;let Ut=0;return gt.endsWith("/")&&Ut++,fn.startsWith("/")&&Ut++,2==Ut?gt+fn.substring(1):1==Ut?gt+fn:gt+"/"+fn}function ee(gt){const fn=gt.match(/#|\?|$/),Ut=fn&&fn.index||gt.length;return gt.slice(0,Ut-("/"===gt[Ut-1]?1:0))+gt.slice(Ut)}function W(gt){return gt&&"?"!==gt[0]?"?"+gt:gt}let Q=(()=>{class gt{historyGo(Ut){throw new Error("")}static#e=this.\u0275fac=function(nn){return new(nn||gt)};static#t=this.\u0275prov=h.jDH({token:gt,factory:()=>(0,h.WQX)(ae),providedIn:"root"})}return gt})();const de=new h.nKC("");let ae=(()=>{class gt extends Q{constructor(Ut,nn){super(),this._platformLocation=Ut,this._removeListenerFns=[],this._baseHref=nn??this._platformLocation.getBaseHrefFromDOM()??(0,h.WQX)(R).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ut){this._removeListenerFns.push(this._platformLocation.onPopState(Ut),this._platformLocation.onHashChange(Ut))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ut){return P(this._baseHref,Ut)}path(Ut=!1){const nn=this._platformLocation.pathname+W(this._platformLocation.search),Fn=this._platformLocation.hash;return Fn&&Ut?`${nn}${Fn}`:nn}pushState(Ut,nn,Fn,yr){const Lr=this.prepareExternalUrl(Fn+W(yr));this._platformLocation.pushState(Ut,nn,Lr)}replaceState(Ut,nn,Fn,yr){const Lr=this.prepareExternalUrl(Fn+W(yr));this._platformLocation.replaceState(Ut,nn,Lr)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ut=0){this._platformLocation.historyGo?.(Ut)}static#e=this.\u0275fac=function(nn){return new(nn||gt)(h.KVO(U),h.KVO(de,8))};static#t=this.\u0275prov=h.jDH({token:gt,factory:gt.\u0275fac,providedIn:"root"})}return gt})(),re=(()=>{class gt extends Q{constructor(Ut,nn){super(),this._platformLocation=Ut,this._baseHref="",this._removeListenerFns=[],null!=nn&&(this._baseHref=nn)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ut){this._removeListenerFns.push(this._platformLocation.onPopState(Ut),this._platformLocation.onHashChange(Ut))}getBaseHref(){return this._baseHref}path(Ut=!1){const nn=this._platformLocation.hash??"#";return nn.length>0?nn.substring(1):nn}prepareExternalUrl(Ut){const nn=P(this._baseHref,Ut);return nn.length>0?"#"+nn:nn}pushState(Ut,nn,Fn,yr){let Lr=this.prepareExternalUrl(Fn+W(yr));0==Lr.length&&(Lr=this._platformLocation.pathname),this._platformLocation.pushState(Ut,nn,Lr)}replaceState(Ut,nn,Fn,yr){let Lr=this.prepareExternalUrl(Fn+W(yr));0==Lr.length&&(Lr=this._platformLocation.pathname),this._platformLocation.replaceState(Ut,nn,Lr)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ut=0){this._platformLocation.historyGo?.(Ut)}static#e=this.\u0275fac=function(nn){return new(nn||gt)(h.KVO(U),h.KVO(de,8))};static#t=this.\u0275prov=h.jDH({token:gt,factory:gt.\u0275fac})}return gt})(),te=(()=>{class gt{constructor(Ut){this._subject=new h.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ut;const nn=this._locationStrategy.getBaseHref();this._basePath=function ve(gt){if(new RegExp("^(https?:)?//").test(gt)){const[,Ut]=gt.split(/\/\/[^\/]+/);return Ut}return gt}(ee(he(nn))),this._locationStrategy.onPopState(Fn=>{this._subject.emit({url:this.path(!0),pop:!0,state:Fn.state,type:Fn.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Ut=!1){return this.normalize(this._locationStrategy.path(Ut))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ut,nn=""){return this.path()==this.normalize(Ut+W(nn))}normalize(Ut){return gt.stripTrailingSlash(function pe(gt,fn){if(!gt||!fn.startsWith(gt))return fn;const Ut=fn.substring(gt.length);return""===Ut||["/",";","?","#"].includes(Ut[0])?Ut:fn}(this._basePath,he(Ut)))}prepareExternalUrl(Ut){return Ut&&"/"!==Ut[0]&&(Ut="/"+Ut),this._locationStrategy.prepareExternalUrl(Ut)}go(Ut,nn="",Fn=null){this._locationStrategy.pushState(Fn,"",Ut,nn),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ut+W(nn)),Fn)}replaceState(Ut,nn="",Fn=null){this._locationStrategy.replaceState(Fn,"",Ut,nn),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ut+W(nn)),Fn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ut=0){this._locationStrategy.historyGo?.(Ut)}onUrlChange(Ut){return this._urlChangeListeners.push(Ut),this._urlChangeSubscription??=this.subscribe(nn=>{this._notifyUrlChangeListeners(nn.url,nn.state)}),()=>{const nn=this._urlChangeListeners.indexOf(Ut);this._urlChangeListeners.splice(nn,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ut="",nn){this._urlChangeListeners.forEach(Fn=>Fn(Ut,nn))}subscribe(Ut,nn,Fn){return this._subject.subscribe({next:Ut,error:nn,complete:Fn})}static#e=this.normalizeQueryParams=W;static#t=this.joinWithSlash=P;static#n=this.stripTrailingSlash=ee;static#f=this.\u0275fac=function(nn){return new(nn||gt)(h.KVO(Q))};static#C=this.\u0275prov=h.jDH({token:gt,factory:()=>function ue(){return new te((0,h.KVO)(Q))}(),providedIn:"root"})}return gt})();function he(gt){return gt.replace(/\/index.html$/,"")}var je=function(gt){return gt[gt.Format=0]="Format",gt[gt.Standalone=1]="Standalone",gt}(je||{}),B=function(gt){return gt[gt.Narrow=0]="Narrow",gt[gt.Abbreviated=1]="Abbreviated",gt[gt.Wide=2]="Wide",gt[gt.Short=3]="Short",gt}(B||{}),l=function(gt){return gt[gt.Short=0]="Short",gt[gt.Medium=1]="Medium",gt[gt.Long=2]="Long",gt[gt.Full=3]="Full",gt}(l||{});const f={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function q(gt,fn){return oe((0,h.H5H)(gt)[h.KH2.DateFormat],fn)}function X(gt,fn){return oe((0,h.H5H)(gt)[h.KH2.TimeFormat],fn)}function ce(gt,fn){return oe((0,h.H5H)(gt)[h.KH2.DateTimeFormat],fn)}function me(gt,fn){const Ut=(0,h.H5H)(gt),nn=Ut[h.KH2.NumberSymbols][fn];if(typeof nn>"u"){if(fn===f.CurrencyDecimal)return Ut[h.KH2.NumberSymbols][f.Decimal];if(fn===f.CurrencyGroup)return Ut[h.KH2.NumberSymbols][f.Group]}return nn}function Se(gt){if(!gt[h.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${gt[h.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function oe(gt,fn){for(let Ut=fn;Ut>-1;Ut--)if(typeof gt[Ut]<"u")return gt[Ut];throw new Error("Locale data API: locale data undefined")}function fe(gt){const[fn,Ut]=gt.split(":");return{hours:+fn,minutes:+Ut}}const Je=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ze={},Pt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var nt=function(gt){return gt[gt.Short=0]="Short",gt[gt.ShortGMT=1]="ShortGMT",gt[gt.Long=2]="Long",gt[gt.Extended=3]="Extended",gt}(nt||{}),Ge=function(gt){return gt[gt.FullYear=0]="FullYear",gt[gt.Month=1]="Month",gt[gt.Date=2]="Date",gt[gt.Hours=3]="Hours",gt[gt.Minutes=4]="Minutes",gt[gt.Seconds=5]="Seconds",gt[gt.FractionalSeconds=6]="FractionalSeconds",gt[gt.Day=7]="Day",gt}(Ge||{}),Et=function(gt){return gt[gt.DayPeriods=0]="DayPeriods",gt[gt.Days=1]="Days",gt[gt.Months=2]="Months",gt[gt.Eras=3]="Eras",gt}(Et||{});function K(gt,fn,Ut,nn){let Fn=function An(gt){if(Tt(gt))return gt;if("number"==typeof gt&&!isNaN(gt))return new Date(gt);if("string"==typeof gt){if(gt=gt.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(gt)){const[Fn,yr=1,Lr=1]=gt.split("-").map(yi=>+yi);return C(Fn,yr-1,Lr)}const Ut=parseFloat(gt);if(!isNaN(gt-Ut))return new Date(Ut);let nn;if(nn=gt.match(Je))return function Rr(gt){const fn=new Date(0);let Ut=0,nn=0;const Fn=gt[8]?fn.setUTCFullYear:fn.setFullYear,yr=gt[8]?fn.setUTCHours:fn.setHours;gt[9]&&(Ut=Number(gt[9]+gt[10]),nn=Number(gt[9]+gt[11])),Fn.call(fn,Number(gt[1]),Number(gt[2])-1,Number(gt[3]));const Lr=Number(gt[4]||0)-Ut,yi=Number(gt[5]||0)-nn,ya=Number(gt[6]||0),vo=Math.floor(1e3*parseFloat("0."+(gt[7]||0)));return yr.call(fn,Lr,yi,ya,vo),fn}(nn)}const fn=new Date(gt);if(!Tt(fn))throw new Error(`Unable to convert "${gt}" into a date`);return fn}(gt);fn=b(Ut,fn)||fn;let yi,Lr=[];for(;fn;){if(yi=Pt.exec(fn),!yi){Lr.push(fn);break}{Lr=Lr.concat(yi.slice(1));const Cs=Lr.pop();if(!Cs)break;fn=Cs}}let ya=Fn.getTimezoneOffset();nn&&(ya=St(nn,ya),Fn=function hn(gt,fn,Ut){const nn=Ut?-1:1,Fn=gt.getTimezoneOffset();return function an(gt,fn){return(gt=new Date(gt.getTime())).setMinutes(gt.getMinutes()+fn),gt}(gt,nn*(St(fn,Fn)-Fn))}(Fn,nn,!0));let vo="";return Lr.forEach(Cs=>{const Fr=function kt(gt){if(pn[gt])return pn[gt];let fn;switch(gt){case"G":case"GG":case"GGG":fn=Yt(Et.Eras,B.Abbreviated);break;case"GGGG":fn=Yt(Et.Eras,B.Wide);break;case"GGGGG":fn=Yt(Et.Eras,B.Narrow);break;case"y":fn=Be(Ge.FullYear,1,0,!1,!0);break;case"yy":fn=Be(Ge.FullYear,2,0,!0,!0);break;case"yyy":fn=Be(Ge.FullYear,3,0,!1,!0);break;case"yyyy":fn=Be(Ge.FullYear,4,0,!1,!0);break;case"Y":fn=mn(1);break;case"YY":fn=mn(2,!0);break;case"YYY":fn=mn(3);break;case"YYYY":fn=mn(4);break;case"M":case"L":fn=Be(Ge.Month,1,1);break;case"MM":case"LL":fn=Be(Ge.Month,2,1);break;case"MMM":fn=Yt(Et.Months,B.Abbreviated);break;case"MMMM":fn=Yt(Et.Months,B.Wide);break;case"MMMMM":fn=Yt(Et.Months,B.Narrow);break;case"LLL":fn=Yt(Et.Months,B.Abbreviated,je.Standalone);break;case"LLLL":fn=Yt(Et.Months,B.Wide,je.Standalone);break;case"LLLLL":fn=Yt(Et.Months,B.Narrow,je.Standalone);break;case"w":fn=jn(1);break;case"ww":fn=jn(2);break;case"W":fn=jn(1,!0);break;case"d":fn=Be(Ge.Date,1);break;case"dd":fn=Be(Ge.Date,2);break;case"c":case"cc":fn=Be(Ge.Day,1);break;case"ccc":fn=Yt(Et.Days,B.Abbreviated,je.Standalone);break;case"cccc":fn=Yt(Et.Days,B.Wide,je.Standalone);break;case"ccccc":fn=Yt(Et.Days,B.Narrow,je.Standalone);break;case"cccccc":fn=Yt(Et.Days,B.Short,je.Standalone);break;case"E":case"EE":case"EEE":fn=Yt(Et.Days,B.Abbreviated);break;case"EEEE":fn=Yt(Et.Days,B.Wide);break;case"EEEEE":fn=Yt(Et.Days,B.Narrow);break;case"EEEEEE":fn=Yt(Et.Days,B.Short);break;case"a":case"aa":case"aaa":fn=Yt(Et.DayPeriods,B.Abbreviated);break;case"aaaa":fn=Yt(Et.DayPeriods,B.Wide);break;case"aaaaa":fn=Yt(Et.DayPeriods,B.Narrow);break;case"b":case"bb":case"bbb":fn=Yt(Et.DayPeriods,B.Abbreviated,je.Standalone,!0);break;case"bbbb":fn=Yt(Et.DayPeriods,B.Wide,je.Standalone,!0);break;case"bbbbb":fn=Yt(Et.DayPeriods,B.Narrow,je.Standalone,!0);break;case"B":case"BB":case"BBB":fn=Yt(Et.DayPeriods,B.Abbreviated,je.Format,!0);break;case"BBBB":fn=Yt(Et.DayPeriods,B.Wide,je.Format,!0);break;case"BBBBB":fn=Yt(Et.DayPeriods,B.Narrow,je.Format,!0);break;case"h":fn=Be(Ge.Hours,1,-12);break;case"hh":fn=Be(Ge.Hours,2,-12);break;case"H":fn=Be(Ge.Hours,1);break;case"HH":fn=Be(Ge.Hours,2);break;case"m":fn=Be(Ge.Minutes,1);break;case"mm":fn=Be(Ge.Minutes,2);break;case"s":fn=Be(Ge.Seconds,1);break;case"ss":fn=Be(Ge.Seconds,2);break;case"S":fn=Be(Ge.FractionalSeconds,1);break;case"SS":fn=Be(Ge.FractionalSeconds,2);break;case"SSS":fn=Be(Ge.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":fn=Vt(nt.Short);break;case"ZZZZZ":fn=Vt(nt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":fn=Vt(nt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":fn=Vt(nt.Long);break;default:return null}return pn[gt]=fn,fn}(Cs);vo+=Fr?Fr(Fn,Ut,ya):"''"===Cs?"'":Cs.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),vo}function C(gt,fn,Ut){const nn=new Date(0);return nn.setFullYear(gt,fn,Ut),nn.setHours(0,0,0),nn}function b(gt,fn){const Ut=function _(gt){return(0,h.H5H)(gt)[h.KH2.LocaleId]}(gt);if(Ze[Ut]??={},Ze[Ut][fn])return Ze[Ut][fn];let nn="";switch(fn){case"shortDate":nn=q(gt,l.Short);break;case"mediumDate":nn=q(gt,l.Medium);break;case"longDate":nn=q(gt,l.Long);break;case"fullDate":nn=q(gt,l.Full);break;case"shortTime":nn=X(gt,l.Short);break;case"mediumTime":nn=X(gt,l.Medium);break;case"longTime":nn=X(gt,l.Long);break;case"fullTime":nn=X(gt,l.Full);break;case"short":const Fn=b(gt,"shortTime"),yr=b(gt,"shortDate");nn=z(ce(gt,l.Short),[Fn,yr]);break;case"medium":const Lr=b(gt,"mediumTime"),yi=b(gt,"mediumDate");nn=z(ce(gt,l.Medium),[Lr,yi]);break;case"long":const ya=b(gt,"longTime"),vo=b(gt,"longDate");nn=z(ce(gt,l.Long),[ya,vo]);break;case"full":const Cs=b(gt,"fullTime"),Fr=b(gt,"fullDate");nn=z(ce(gt,l.Full),[Cs,Fr])}return nn&&(Ze[Ut][fn]=nn),nn}function z(gt,fn){return fn&&(gt=gt.replace(/\{([^}]+)}/g,function(Ut,nn){return null!=fn&&nn in fn?fn[nn]:Ut})),gt}function le(gt,fn,Ut="-",nn,Fn){let yr="";(gt<0||Fn&&gt<=0)&&(Fn?gt=1-gt:(gt=-gt,yr=Ut));let Lr=String(gt);for(;Lr.length<fn;)Lr="0"+Lr;return nn&&(Lr=Lr.slice(Lr.length-fn)),yr+Lr}function Be(gt,fn,Ut=0,nn=!1,Fn=!1){return function(yr,Lr){let yi=function ft(gt,fn){switch(gt){case Ge.FullYear:return fn.getFullYear();case Ge.Month:return fn.getMonth();case Ge.Date:return fn.getDate();case Ge.Hours:return fn.getHours();case Ge.Minutes:return fn.getMinutes();case Ge.Seconds:return fn.getSeconds();case Ge.FractionalSeconds:return fn.getMilliseconds();case Ge.Day:return fn.getDay();default:throw new Error(`Unknown DateType value "${gt}".`)}}(gt,yr);if((Ut>0||yi>-Ut)&&(yi+=Ut),gt===Ge.Hours)0===yi&&-12===Ut&&(yi=12);else if(gt===Ge.FractionalSeconds)return function Ae(gt,fn){return le(gt,3).substring(0,fn)}(yi,fn);const ya=me(Lr,f.MinusSign);return le(yi,fn,ya,nn,Fn)}}function Yt(gt,fn,Ut=je.Format,nn=!1){return function(Fn,yr){return function Rt(gt,fn,Ut,nn,Fn,yr){switch(Ut){case Et.Months:return function $(gt,fn,Ut){const nn=(0,h.H5H)(gt),yr=oe([nn[h.KH2.MonthsFormat],nn[h.KH2.MonthsStandalone]],fn);return oe(yr,Ut)}(fn,Fn,nn)[gt.getMonth()];case Et.Days:return function O(gt,fn,Ut){const nn=(0,h.H5H)(gt),yr=oe([nn[h.KH2.DaysFormat],nn[h.KH2.DaysStandalone]],fn);return oe(yr,Ut)}(fn,Fn,nn)[gt.getDay()];case Et.DayPeriods:const Lr=gt.getHours(),yi=gt.getMinutes();if(yr){const vo=function Le(gt){const fn=(0,h.H5H)(gt);return Se(fn),(fn[h.KH2.ExtraData][2]||[]).map(nn=>"string"==typeof nn?fe(nn):[fe(nn[0]),fe(nn[1])])}(fn),Cs=function Ee(gt,fn,Ut){const nn=(0,h.H5H)(gt);Se(nn);const yr=oe([nn[h.KH2.ExtraData][0],nn[h.KH2.ExtraData][1]],fn)||[];return oe(yr,Ut)||[]}(fn,Fn,nn),Fr=vo.findIndex(Fs=>{if(Array.isArray(Fs)){const[ss,ga]=Fs,ol=Lr>=ss.hours&&yi>=ss.minutes,va=Lr<ga.hours||Lr===ga.hours&&yi<ga.minutes;if(ss.hours<ga.hours){if(ol&&va)return!0}else if(ol||va)return!0}else if(Fs.hours===Lr&&Fs.minutes===yi)return!0;return!1});if(-1!==Fr)return Cs[Fr]}return function D(gt,fn,Ut){const nn=(0,h.H5H)(gt),yr=oe([nn[h.KH2.DayPeriodsFormat],nn[h.KH2.DayPeriodsStandalone]],fn);return oe(yr,Ut)}(fn,Fn,nn)[Lr<12?0:1];case Et.Eras:return function T(gt,fn){return oe((0,h.H5H)(gt)[h.KH2.Eras],fn)}(fn,nn)[gt.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Ut}`)}}(Fn,yr,gt,fn,Ut,nn)}}function Vt(gt){return function(fn,Ut,nn){const Fn=-1*nn,yr=me(Ut,f.MinusSign),Lr=Fn>0?Math.floor(Fn/60):Math.ceil(Fn/60);switch(gt){case nt.Short:return(Fn>=0?"+":"")+le(Lr,2,yr)+le(Math.abs(Fn%60),2,yr);case nt.ShortGMT:return"GMT"+(Fn>=0?"+":"")+le(Lr,1,yr);case nt.Long:return"GMT"+(Fn>=0?"+":"")+le(Lr,2,yr)+":"+le(Math.abs(Fn%60),2,yr);case nt.Extended:return 0===nn?"Z":(Fn>=0?"+":"")+le(Lr,2,yr)+":"+le(Math.abs(Fn%60),2,yr);default:throw new Error(`Unknown zone width "${gt}"`)}}}const dn=0,Mn=4;function Ar(gt){const fn=gt.getDay(),Ut=0===fn?-3:Mn-fn;return C(gt.getFullYear(),gt.getMonth(),gt.getDate()+Ut)}function jn(gt,fn=!1){return function(Ut,nn){let Fn;if(fn){const yr=new Date(Ut.getFullYear(),Ut.getMonth(),1).getDay()-1,Lr=Ut.getDate();Fn=1+Math.floor((Lr+yr)/7)}else{const yr=Ar(Ut),Lr=function En(gt){const fn=C(gt,dn,1).getDay();return C(gt,0,1+(fn<=Mn?Mn:Mn+7)-fn)}(yr.getFullYear()),yi=yr.getTime()-Lr.getTime();Fn=1+Math.round(yi/6048e5)}return le(Fn,gt,me(nn,f.MinusSign))}}function mn(gt,fn=!1){return function(Ut,nn){return le(Ar(Ut).getFullYear(),gt,me(nn,f.MinusSign),fn)}}const pn={};function St(gt,fn){gt=gt.replace(/:/g,"");const Ut=Date.parse("Jan 01, 1970 00:00:00 "+gt)/6e4;return isNaN(Ut)?fn:Ut}function Tt(gt){return gt instanceof Date&&!isNaN(gt.valueOf())}function Wr(gt,fn){fn=encodeURIComponent(fn);for(const Ut of gt.split(";")){const nn=Ut.indexOf("="),[Fn,yr]=-1==nn?[Ut,""]:[Ut.slice(0,nn),Ut.slice(nn+1)];if(Fn.trim()===fn)return decodeURIComponent(yr)}return null}const Vr=/\s+/,ti=[];let ni=(()=>{class gt{constructor(Ut,nn){this._ngEl=Ut,this._renderer=nn,this.initialClasses=ti,this.stateMap=new Map}set klass(Ut){this.initialClasses=null!=Ut?Ut.trim().split(Vr):ti}set ngClass(Ut){this.rawClass="string"==typeof Ut?Ut.trim().split(Vr):Ut}ngDoCheck(){for(const nn of this.initialClasses)this._updateState(nn,!0);const Ut=this.rawClass;if(Array.isArray(Ut)||Ut instanceof Set)for(const nn of Ut)this._updateState(nn,!0);else if(null!=Ut)for(const nn of Object.keys(Ut))this._updateState(nn,!!Ut[nn]);this._applyStateDiff()}_updateState(Ut,nn){const Fn=this.stateMap.get(Ut);void 0!==Fn?(Fn.enabled!==nn&&(Fn.changed=!0,Fn.enabled=nn),Fn.touched=!0):this.stateMap.set(Ut,{enabled:nn,changed:!0,touched:!0})}_applyStateDiff(){for(const Ut of this.stateMap){const nn=Ut[0],Fn=Ut[1];Fn.changed?(this._toggleClass(nn,Fn.enabled),Fn.changed=!1):Fn.touched||(Fn.enabled&&this._toggleClass(nn,!1),this.stateMap.delete(nn)),Fn.touched=!1}}_toggleClass(Ut,nn){(Ut=Ut.trim()).length>0&&Ut.split(Vr).forEach(Fn=>{nn?this._renderer.addClass(this._ngEl.nativeElement,Fn):this._renderer.removeClass(this._ngEl.nativeElement,Fn)})}static#e=this.\u0275fac=function(nn){return new(nn||gt)(h.rXU(h.aKT),h.rXU(h.sFG))};static#t=this.\u0275dir=h.FsC({type:gt,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return gt})();class Pn{constructor(fn,Ut,nn,Fn){this.$implicit=fn,this.ngForOf=Ut,this.index=nn,this.count=Fn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nn=(()=>{class gt{set ngForOf(Ut){this._ngForOf=Ut,this._ngForOfDirty=!0}set ngForTrackBy(Ut){this._trackByFn=Ut}get ngForTrackBy(){return this._trackByFn}constructor(Ut,nn,Fn){this._viewContainer=Ut,this._template=nn,this._differs=Fn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Ut){Ut&&(this._template=Ut)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ut=this._ngForOf;!this._differ&&Ut&&(this._differ=this._differs.find(Ut).create(this.ngForTrackBy))}if(this._differ){const Ut=this._differ.diff(this._ngForOf);Ut&&this._applyChanges(Ut)}}_applyChanges(Ut){const nn=this._viewContainer;Ut.forEachOperation((Fn,yr,Lr)=>{if(null==Fn.previousIndex)nn.createEmbeddedView(this._template,new Pn(Fn.item,this._ngForOf,-1,-1),null===Lr?void 0:Lr);else if(null==Lr)nn.remove(null===yr?void 0:yr);else if(null!==yr){const yi=nn.get(yr);nn.move(yi,Lr),tr(yi,Fn)}});for(let Fn=0,yr=nn.length;Fn<yr;Fn++){const yi=nn.get(Fn).context;yi.index=Fn,yi.count=yr,yi.ngForOf=this._ngForOf}Ut.forEachIdentityChange(Fn=>{tr(nn.get(Fn.currentIndex),Fn)})}static ngTemplateContextGuard(Ut,nn){return!0}static#e=this.\u0275fac=function(nn){return new(nn||gt)(h.rXU(h.c1b),h.rXU(h.C4Q),h.rXU(h._q3))};static#t=this.\u0275dir=h.FsC({type:gt,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return gt})();function tr(gt,fn){gt.context.$implicit=fn.item}let Hr=(()=>{class gt{constructor(Ut,nn){this._viewContainer=Ut,this._context=new Ur,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=nn}set ngIf(Ut){this._context.$implicit=this._context.ngIf=Ut,this._updateView()}set ngIfThen(Ut){li("ngIfThen",Ut),this._thenTemplateRef=Ut,this._thenViewRef=null,this._updateView()}set ngIfElse(Ut){li("ngIfElse",Ut),this._elseTemplateRef=Ut,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ut,nn){return!0}static#e=this.\u0275fac=function(nn){return new(nn||gt)(h.rXU(h.c1b),h.rXU(h.C4Q))};static#t=this.\u0275dir=h.FsC({type:gt,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return gt})();class Ur{constructor(){this.$implicit=null,this.ngIf=null}}function li(gt,fn){if(fn&&!fn.createEmbeddedView)throw new Error(`${gt} must be a TemplateRef, but received '${(0,h.Tbb)(fn)}'.`)}let qi=(()=>{class gt{constructor(Ut,nn,Fn){this._ngEl=Ut,this._differs=nn,this._renderer=Fn,this._ngStyle=null,this._differ=null}set ngStyle(Ut){this._ngStyle=Ut,!this._differ&&Ut&&(this._differ=this._differs.find(Ut).create())}ngDoCheck(){if(this._differ){const Ut=this._differ.diff(this._ngStyle);Ut&&this._applyChanges(Ut)}}_setStyle(Ut,nn){const[Fn,yr]=Ut.split("."),Lr=-1===Fn.indexOf("-")?void 0:h.czy.DashCase;null!=nn?this._renderer.setStyle(this._ngEl.nativeElement,Fn,yr?`${nn}${yr}`:nn,Lr):this._renderer.removeStyle(this._ngEl.nativeElement,Fn,Lr)}_applyChanges(Ut){Ut.forEachRemovedItem(nn=>this._setStyle(nn.key,null)),Ut.forEachAddedItem(nn=>this._setStyle(nn.key,nn.currentValue)),Ut.forEachChangedItem(nn=>this._setStyle(nn.key,nn.currentValue))}static#e=this.\u0275fac=function(nn){return new(nn||gt)(h.rXU(h.aKT),h.rXU(h.MKu),h.rXU(h.sFG))};static#t=this.\u0275dir=h.FsC({type:gt,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return gt})(),bo=(()=>{class gt{constructor(Ut){this._viewContainerRef=Ut,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ut){if(this._shouldRecreateView(Ut)){const nn=this._viewContainerRef;if(this._viewRef&&nn.remove(nn.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Fn=this._createContextForwardProxy();this._viewRef=nn.createEmbeddedView(this.ngTemplateOutlet,Fn,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Ut){return!!Ut.ngTemplateOutlet||!!Ut.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Ut,nn,Fn)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,nn,Fn),get:(Ut,nn,Fn)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,nn,Fn)}})}static#e=this.\u0275fac=function(nn){return new(nn||gt)(h.rXU(h.c1b))};static#t=this.\u0275dir=h.FsC({type:gt,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[h.OA$]})}return gt})();function co(gt,fn){return new h.wOt(2100,!1)}class ca{createSubscription(fn,Ut){return(0,h.O8t)(()=>fn.subscribe({next:Ut,error:nn=>{throw nn}}))}dispose(fn){(0,h.O8t)(()=>fn.unsubscribe())}}class Fa{createSubscription(fn,Ut){return fn.then(Ut,nn=>{throw nn})}dispose(fn){}}const ws=new Fa,yo=new ca;let la=(()=>{class gt{constructor(Ut){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Ut}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Ut){if(!this._obj){if(Ut)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Ut)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Ut!==this._obj?(this._dispose(),this.transform(Ut)):this._latestValue}_subscribe(Ut){this._obj=Ut,this._strategy=this._selectStrategy(Ut),this._subscription=this._strategy.createSubscription(Ut,nn=>this._updateLatestValue(Ut,nn))}_selectStrategy(Ut){if((0,h.jNT)(Ut))return ws;if((0,h.zjR)(Ut))return yo;throw co()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Ut,nn){Ut===this._obj&&(this._latestValue=nn,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(nn){return new(nn||gt)(h.rXU(h.gRc,16))};static#t=this.\u0275pipe=h.EJ8({name:"async",type:gt,pure:!1,standalone:!0})}return gt})();const hh=new h.nKC(""),bc=new h.nKC("");let Lf=(()=>{class gt{constructor(Ut,nn,Fn){this.locale=Ut,this.defaultTimezone=nn,this.defaultOptions=Fn}transform(Ut,nn,Fn,yr){if(null==Ut||""===Ut||Ut!=Ut)return null;try{return K(Ut,nn??this.defaultOptions?.dateFormat??"mediumDate",yr||this.locale,Fn??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Lr){throw co()}}static#e=this.\u0275fac=function(nn){return new(nn||gt)(h.rXU(h.xe9,16),h.rXU(hh,24),h.rXU(bc,24))};static#t=this.\u0275pipe=h.EJ8({name:"date",type:gt,pure:!0,standalone:!0})}return gt})(),Pl=(()=>{class gt{static#e=this.\u0275fac=function(nn){return new(nn||gt)};static#t=this.\u0275mod=h.$C({type:gt});static#n=this.\u0275inj=h.G2t({})}return gt})();const Oi="browser",Yo="server";function ns(gt){return gt===Oi}function xi(gt){return gt===Yo}let qs=(()=>{class gt{static#e=this.\u0275prov=(0,h.jDH)({token:gt,providedIn:"root",factory:()=>ns((0,h.WQX)(h.Agw))?new Gl((0,h.WQX)(R),window):new pa})}return gt})();class Gl{constructor(fn,Ut){this.document=fn,this.window=Ut,this.offset=()=>[0,0]}setOffset(fn){this.offset=Array.isArray(fn)?()=>fn:fn}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(fn){this.window.scrollTo(fn[0],fn[1])}scrollToAnchor(fn){const Ut=function vd(gt,fn){const Ut=gt.getElementById(fn)||gt.getElementsByName(fn)[0];if(Ut)return Ut;if("function"==typeof gt.createTreeWalker&&gt.body&&"function"==typeof gt.body.attachShadow){const nn=gt.createTreeWalker(gt.body,NodeFilter.SHOW_ELEMENT);let Fn=nn.currentNode;for(;Fn;){const yr=Fn.shadowRoot;if(yr){const Lr=yr.getElementById(fn)||yr.querySelector(`[name="${fn}"]`);if(Lr)return Lr}Fn=nn.nextNode()}}return null}(this.document,fn);Ut&&(this.scrollToElement(Ut),Ut.focus())}setHistoryScrollRestoration(fn){this.window.history.scrollRestoration=fn}scrollToElement(fn){const Ut=fn.getBoundingClientRect(),nn=Ut.left+this.window.pageXOffset,Fn=Ut.top+this.window.pageYOffset,yr=this.offset();this.window.scrollTo(nn-yr[0],Fn-yr[1])}}class pa{setOffset(fn){}getScrollPosition(){return[0,0]}scrollToPosition(fn){}scrollToAnchor(fn){}setHistoryScrollRestoration(fn){}}class hu{}},21626:(Ye,J,A)=>{"use strict";A.d(J,{$R:()=>hn,Qq:()=>ce,q1:()=>xn});var h=A(10467),x=A(93953),N=A(7673),Y=A(71985),M=A(86648),j=A(70274),R=A(5964),U=A(96354),H=A(70980),V=A(25558),P=A(60177);class ee{}class W{}class Q{constructor(Pn){this.normalizedNames=new Map,this.lazyUpdate=null,Pn?"string"==typeof Pn?this.lazyInit=()=>{this.headers=new Map,Pn.split("\n").forEach(Nn=>{const tr=Nn.indexOf(":");if(tr>0){const Dr=Nn.slice(0,tr),Hr=Dr.toLowerCase(),Ur=Nn.slice(tr+1).trim();this.maybeSetNormalizedName(Dr,Hr),this.headers.has(Hr)?this.headers.get(Hr).push(Ur):this.headers.set(Hr,[Ur])}})}:typeof Headers<"u"&&Pn instanceof Headers?(this.headers=new Map,Pn.forEach((Nn,tr)=>{this.setHeaderEntries(tr,Nn)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Pn).forEach(([Nn,tr])=>{this.setHeaderEntries(Nn,tr)})}:this.headers=new Map}has(Pn){return this.init(),this.headers.has(Pn.toLowerCase())}get(Pn){this.init();const Nn=this.headers.get(Pn.toLowerCase());return Nn&&Nn.length>0?Nn[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Pn){return this.init(),this.headers.get(Pn.toLowerCase())||null}append(Pn,Nn){return this.clone({name:Pn,value:Nn,op:"a"})}set(Pn,Nn){return this.clone({name:Pn,value:Nn,op:"s"})}delete(Pn,Nn){return this.clone({name:Pn,value:Nn,op:"d"})}maybeSetNormalizedName(Pn,Nn){this.normalizedNames.has(Nn)||this.normalizedNames.set(Nn,Pn)}init(){this.lazyInit&&(this.lazyInit instanceof Q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Pn=>this.applyUpdate(Pn)),this.lazyUpdate=null))}copyFrom(Pn){Pn.init(),Array.from(Pn.headers.keys()).forEach(Nn=>{this.headers.set(Nn,Pn.headers.get(Nn)),this.normalizedNames.set(Nn,Pn.normalizedNames.get(Nn))})}clone(Pn){const Nn=new Q;return Nn.lazyInit=this.lazyInit&&this.lazyInit instanceof Q?this.lazyInit:this,Nn.lazyUpdate=(this.lazyUpdate||[]).concat([Pn]),Nn}applyUpdate(Pn){const Nn=Pn.name.toLowerCase();switch(Pn.op){case"a":case"s":let tr=Pn.value;if("string"==typeof tr&&(tr=[tr]),0===tr.length)return;this.maybeSetNormalizedName(Pn.name,Nn);const Dr=("a"===Pn.op?this.headers.get(Nn):void 0)||[];Dr.push(...tr),this.headers.set(Nn,Dr);break;case"d":const Hr=Pn.value;if(Hr){let Ur=this.headers.get(Nn);if(!Ur)return;Ur=Ur.filter(li=>-1===Hr.indexOf(li)),0===Ur.length?(this.headers.delete(Nn),this.normalizedNames.delete(Nn)):this.headers.set(Nn,Ur)}else this.headers.delete(Nn),this.normalizedNames.delete(Nn)}}setHeaderEntries(Pn,Nn){const tr=(Array.isArray(Nn)?Nn:[Nn]).map(Hr=>Hr.toString()),Dr=Pn.toLowerCase();this.headers.set(Dr,tr),this.maybeSetNormalizedName(Pn,Dr)}forEach(Pn){this.init(),Array.from(this.normalizedNames.keys()).forEach(Nn=>Pn(this.normalizedNames.get(Nn),this.headers.get(Nn)))}}class ae{encodeKey(Pn){return pe(Pn)}encodeValue(Pn){return pe(Pn)}decodeKey(Pn){return decodeURIComponent(Pn)}decodeValue(Pn){return decodeURIComponent(Pn)}}const te=/%(\d[a-f0-9])/gi,ue={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pe(yn){return encodeURIComponent(yn).replace(te,(Pn,Nn)=>ue[Nn]??Pn)}function he(yn){return`${yn}`}class ve{constructor(Pn={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Pn.encoder||new ae,Pn.fromString){if(Pn.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function re(yn,Pn){const Nn=new Map;return yn.length>0&&yn.replace(/^\?/,"").split("&").forEach(Dr=>{const Hr=Dr.indexOf("="),[Ur,li]=-1==Hr?[Pn.decodeKey(Dr),""]:[Pn.decodeKey(Dr.slice(0,Hr)),Pn.decodeValue(Dr.slice(Hr+1))],ui=Nn.get(Ur)||[];ui.push(li),Nn.set(Ur,ui)}),Nn}(Pn.fromString,this.encoder)}else Pn.fromObject?(this.map=new Map,Object.keys(Pn.fromObject).forEach(Nn=>{const tr=Pn.fromObject[Nn],Dr=Array.isArray(tr)?tr.map(he):[he(tr)];this.map.set(Nn,Dr)})):this.map=null}has(Pn){return this.init(),this.map.has(Pn)}get(Pn){this.init();const Nn=this.map.get(Pn);return Nn?Nn[0]:null}getAll(Pn){return this.init(),this.map.get(Pn)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Pn,Nn){return this.clone({param:Pn,value:Nn,op:"a"})}appendAll(Pn){const Nn=[];return Object.keys(Pn).forEach(tr=>{const Dr=Pn[tr];Array.isArray(Dr)?Dr.forEach(Hr=>{Nn.push({param:tr,value:Hr,op:"a"})}):Nn.push({param:tr,value:Dr,op:"a"})}),this.clone(Nn)}set(Pn,Nn){return this.clone({param:Pn,value:Nn,op:"s"})}delete(Pn,Nn){return this.clone({param:Pn,value:Nn,op:"d"})}toString(){return this.init(),this.keys().map(Pn=>{const Nn=this.encoder.encodeKey(Pn);return this.map.get(Pn).map(tr=>Nn+"="+this.encoder.encodeValue(tr)).join("&")}).filter(Pn=>""!==Pn).join("&")}clone(Pn){const Nn=new ve({encoder:this.encoder});return Nn.cloneFrom=this.cloneFrom||this,Nn.updates=(this.updates||[]).concat(Pn),Nn}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Pn=>this.map.set(Pn,this.cloneFrom.map.get(Pn))),this.updates.forEach(Pn=>{switch(Pn.op){case"a":case"s":const Nn=("a"===Pn.op?this.map.get(Pn.param):void 0)||[];Nn.push(he(Pn.value)),this.map.set(Pn.param,Nn);break;case"d":if(void 0===Pn.value){this.map.delete(Pn.param);break}{let tr=this.map.get(Pn.param)||[];const Dr=tr.indexOf(he(Pn.value));-1!==Dr&&tr.splice(Dr,1),tr.length>0?this.map.set(Pn.param,tr):this.map.delete(Pn.param)}}}),this.cloneFrom=this.updates=null)}}class Me{constructor(){this.map=new Map}set(Pn,Nn){return this.map.set(Pn,Nn),this}get(Pn){return this.map.has(Pn)||this.map.set(Pn,Pn.defaultValue()),this.map.get(Pn)}delete(Pn){return this.map.delete(Pn),this}has(Pn){return this.map.has(Pn)}keys(){return this.map.keys()}}function je(yn){return typeof ArrayBuffer<"u"&&yn instanceof ArrayBuffer}function B(yn){return typeof Blob<"u"&&yn instanceof Blob}function l(yn){return typeof FormData<"u"&&yn instanceof FormData}class w{constructor(Pn,Nn,tr,Dr){let Hr;if(this.url=Nn,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Pn.toUpperCase(),function Oe(yn){switch(yn){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Dr?(this.body=void 0!==tr?tr:null,Hr=Dr):Hr=tr,Hr&&(this.reportProgress=!!Hr.reportProgress,this.withCredentials=!!Hr.withCredentials,Hr.responseType&&(this.responseType=Hr.responseType),Hr.headers&&(this.headers=Hr.headers),Hr.context&&(this.context=Hr.context),Hr.params&&(this.params=Hr.params),this.transferCache=Hr.transferCache),this.headers??=new Q,this.context??=new Me,this.params){const Ur=this.params.toString();if(0===Ur.length)this.urlWithParams=Nn;else{const li=Nn.indexOf("?");this.urlWithParams=Nn+(-1===li?"?":li<Nn.length-1?"&":"")+Ur}}else this.params=new ve,this.urlWithParams=Nn}serializeBody(){return null===this.body?null:"string"==typeof this.body||je(this.body)||B(this.body)||l(this.body)||function f(yn){return typeof URLSearchParams<"u"&&yn instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ve?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||l(this.body)?null:B(this.body)?this.body.type||null:je(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ve?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Pn={}){const Nn=Pn.method||this.method,tr=Pn.url||this.url,Dr=Pn.responseType||this.responseType,Hr=Pn.transferCache??this.transferCache,Ur=void 0!==Pn.body?Pn.body:this.body,li=Pn.withCredentials??this.withCredentials,ui=Pn.reportProgress??this.reportProgress;let Mi=Pn.headers||this.headers,ls=Pn.params||this.params;const Ji=Pn.context??this.context;return void 0!==Pn.setHeaders&&(Mi=Object.keys(Pn.setHeaders).reduce((bs,As)=>bs.set(As,Pn.setHeaders[As]),Mi)),Pn.setParams&&(ls=Object.keys(Pn.setParams).reduce((bs,As)=>bs.set(As,Pn.setParams[As]),ls)),new w(Nn,tr,Ur,{params:ls,headers:Mi,context:Ji,reportProgress:ui,responseType:Dr,withCredentials:li,transferCache:Hr})}}var _=function(yn){return yn[yn.Sent=0]="Sent",yn[yn.UploadProgress=1]="UploadProgress",yn[yn.ResponseHeader=2]="ResponseHeader",yn[yn.DownloadProgress=3]="DownloadProgress",yn[yn.Response=4]="Response",yn[yn.User=5]="User",yn}(_||{});class D{constructor(Pn,Nn=200,tr="OK"){this.headers=Pn.headers||new Q,this.status=void 0!==Pn.status?Pn.status:Nn,this.statusText=Pn.statusText||tr,this.url=Pn.url||null,this.ok=this.status>=200&&this.status<300}}class O extends D{constructor(Pn={}){super(Pn),this.type=_.ResponseHeader}clone(Pn={}){return new O({headers:Pn.headers||this.headers,status:void 0!==Pn.status?Pn.status:this.status,statusText:Pn.statusText||this.statusText,url:Pn.url||this.url||void 0})}}class $ extends D{constructor(Pn={}){super(Pn),this.type=_.Response,this.body=void 0!==Pn.body?Pn.body:null}clone(Pn={}){return new $({body:void 0!==Pn.body?Pn.body:this.body,headers:Pn.headers||this.headers,status:void 0!==Pn.status?Pn.status:this.status,statusText:Pn.statusText||this.statusText,url:Pn.url||this.url||void 0})}}class T extends D{constructor(Pn){super(Pn,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Pn.url||"(unknown url)"}`:`Http failure response for ${Pn.url||"(unknown url)"}: ${Pn.status} ${Pn.statusText}`,this.error=Pn.error||null}}function X(yn,Pn){return{body:Pn,headers:yn.headers,context:yn.context,observe:yn.observe,params:yn.params,reportProgress:yn.reportProgress,responseType:yn.responseType,withCredentials:yn.withCredentials,transferCache:yn.transferCache}}let ce=(()=>{class yn{constructor(Nn){this.handler=Nn}request(Nn,tr,Dr={}){let Hr;if(Nn instanceof w)Hr=Nn;else{let ui,Mi;ui=Dr.headers instanceof Q?Dr.headers:new Q(Dr.headers),Dr.params&&(Mi=Dr.params instanceof ve?Dr.params:new ve({fromObject:Dr.params})),Hr=new w(Nn,tr,void 0!==Dr.body?Dr.body:null,{headers:ui,context:Dr.context,params:Mi,reportProgress:Dr.reportProgress,responseType:Dr.responseType||"json",withCredentials:Dr.withCredentials,transferCache:Dr.transferCache})}const Ur=(0,N.of)(Hr).pipe((0,j.H)(ui=>this.handler.handle(ui)));if(Nn instanceof w||"events"===Dr.observe)return Ur;const li=Ur.pipe((0,R.p)(ui=>ui instanceof $));switch(Dr.observe||"body"){case"body":switch(Hr.responseType){case"arraybuffer":return li.pipe((0,U.T)(ui=>{if(null!==ui.body&&!(ui.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ui.body}));case"blob":return li.pipe((0,U.T)(ui=>{if(null!==ui.body&&!(ui.body instanceof Blob))throw new Error("Response is not a Blob.");return ui.body}));case"text":return li.pipe((0,U.T)(ui=>{if(null!==ui.body&&"string"!=typeof ui.body)throw new Error("Response is not a string.");return ui.body}));default:return li.pipe((0,U.T)(ui=>ui.body))}case"response":return li;default:throw new Error(`Unreachable: unhandled observe type ${Dr.observe}}`)}}delete(Nn,tr={}){return this.request("DELETE",Nn,tr)}get(Nn,tr={}){return this.request("GET",Nn,tr)}head(Nn,tr={}){return this.request("HEAD",Nn,tr)}jsonp(Nn,tr){return this.request("JSONP",Nn,{params:(new ve).append(tr,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Nn,tr={}){return this.request("OPTIONS",Nn,tr)}patch(Nn,tr,Dr={}){return this.request("PATCH",Nn,X(Dr,tr))}post(Nn,tr,Dr={}){return this.request("POST",Nn,X(Dr,tr))}put(Nn,tr,Dr={}){return this.request("PUT",Nn,X(Dr,tr))}static#e=this.\u0275fac=function(tr){return new(tr||yn)(x.KVO(ee))};static#t=this.\u0275prov=x.jDH({token:yn,factory:yn.\u0275fac})}return yn})();const me=/^\)\]\}',?\n/;function Ke(yn){if(yn.url)return yn.url;const Pn="X-Request-URL".toLocaleLowerCase();return yn.headers.get(Pn)}let Qe=(()=>{class yn{constructor(){this.fetchImpl=(0,x.WQX)(ke,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,x.WQX)(x.SKi)}handle(Nn){return new Y.c(tr=>{const Dr=new AbortController;return this.doRequest(Nn,Dr.signal,tr).then(Ie,Hr=>tr.error(new T({error:Hr}))),()=>Dr.abort()})}doRequest(Nn,tr,Dr){var Hr=this;return(0,h.A)(function*(){const Ur=Hr.createRequestInit(Nn);let li;try{const Js=Hr.ngZone.runOutsideAngular(()=>Hr.fetchImpl(Nn.urlWithParams,{signal:tr,...Ur}));(function Xe(yn){yn.then(Ie,Ie)})(Js),Dr.next({type:_.Sent}),li=yield Js}catch(Js){return void Dr.error(new T({error:Js,status:Js.status??0,statusText:Js.statusText,url:Nn.urlWithParams,headers:Js.headers}))}const ui=new Q(li.headers),Mi=li.statusText,ls=Ke(li)??Nn.urlWithParams;let Ji=li.status,bs=null;if(Nn.reportProgress&&Dr.next(new O({headers:ui,status:Ji,statusText:Mi,url:ls})),li.body){const Js=li.headers.get("content-length"),Eo=[],qi=li.body.getReader();let Fc,co,bo=0;const ca=typeof Zone<"u"&&Zone.current;yield Hr.ngZone.runOutsideAngular((0,h.A)(function*(){for(;;){const{done:ws,value:yo}=yield qi.read();if(ws)break;if(Eo.push(yo),bo+=yo.length,Nn.reportProgress){co="text"===Nn.responseType?(co??"")+(Fc??=new TextDecoder).decode(yo,{stream:!0}):void 0;const la=()=>Dr.next({type:_.DownloadProgress,total:Js?+Js:void 0,loaded:bo,partialText:co});ca?ca.run(la):la()}}}));const Fa=Hr.concatChunks(Eo,bo);try{const ws=li.headers.get("Content-Type")??"";bs=Hr.parseBody(Nn,Fa,ws)}catch(ws){return void Dr.error(new T({error:ws,headers:new Q(li.headers),status:li.status,statusText:li.statusText,url:Ke(li)??Nn.urlWithParams}))}}0===Ji&&(Ji=bs?200:0),Ji>=200&&Ji<300?(Dr.next(new $({body:bs,headers:ui,status:Ji,statusText:Mi,url:ls})),Dr.complete()):Dr.error(new T({error:bs,headers:ui,status:Ji,statusText:Mi,url:ls}))})()}parseBody(Nn,tr,Dr){switch(Nn.responseType){case"json":const Hr=(new TextDecoder).decode(tr).replace(me,"");return""===Hr?null:JSON.parse(Hr);case"text":return(new TextDecoder).decode(tr);case"blob":return new Blob([tr],{type:Dr});case"arraybuffer":return tr.buffer}}createRequestInit(Nn){const tr={},Dr=Nn.withCredentials?"include":void 0;if(Nn.headers.forEach((Hr,Ur)=>tr[Hr]=Ur.join(",")),Nn.headers.has("Accept")||(tr.Accept="application/json, text/plain, */*"),!Nn.headers.has("Content-Type")){const Hr=Nn.detectContentTypeHeader();null!==Hr&&(tr["Content-Type"]=Hr)}return{body:Nn.serializeBody(),method:Nn.method,headers:tr,credentials:Dr}}concatChunks(Nn,tr){const Dr=new Uint8Array(tr);let Hr=0;for(const Ur of Nn)Dr.set(Ur,Hr),Hr+=Ur.length;return Dr}static#e=this.\u0275fac=function(tr){return new(tr||yn)};static#t=this.\u0275prov=x.jDH({token:yn,factory:yn.\u0275fac})}return yn})();class ke{}function Ie(){}function Se(yn,Pn){return Pn(yn)}function Le(yn,Pn){return(Nn,tr)=>Pn.intercept(Nn,{handle:Dr=>yn(Dr,tr)})}const be=new x.nKC(""),oe=new x.nKC(""),fe=new x.nKC(""),we=new x.nKC("",{providedIn:"root",factory:()=>!0});function De(){let yn=null;return(Pn,Nn)=>{null===yn&&(yn=((0,x.WQX)(be,{optional:!0})??[]).reduceRight(Le,Se));const tr=(0,x.WQX)(x.TgB);if((0,x.WQX)(we)){const Hr=tr.add();return yn(Pn,Nn).pipe((0,H.j)(()=>tr.remove(Hr)))}return yn(Pn,Nn)}}let Ze=(()=>{class yn extends ee{constructor(Nn,tr){super(),this.backend=Nn,this.injector=tr,this.chain=null,this.pendingTasks=(0,x.WQX)(x.TgB),this.contributeToStability=(0,x.WQX)(we)}handle(Nn){if(null===this.chain){const tr=Array.from(new Set([...this.injector.get(oe),...this.injector.get(fe,[])]));this.chain=tr.reduceRight((Dr,Hr)=>function Ee(yn,Pn,Nn){return(tr,Dr)=>(0,x.N4e)(Nn,()=>Pn(tr,Hr=>yn(Hr,Dr)))}(Dr,Hr,this.injector),Se)}if(this.contributeToStability){const tr=this.pendingTasks.add();return this.chain(Nn,Dr=>this.backend.handle(Dr)).pipe((0,H.j)(()=>this.pendingTasks.remove(tr)))}return this.chain(Nn,tr=>this.backend.handle(tr))}static#e=this.\u0275fac=function(tr){return new(tr||yn)(x.KVO(W),x.KVO(x.uvJ))};static#t=this.\u0275prov=x.jDH({token:yn,factory:yn.\u0275fac})}return yn})();const ft=/^\)\]\}',?\n/;let Rt=(()=>{class yn{constructor(Nn){this.xhrFactory=Nn}handle(Nn){if("JSONP"===Nn.method)throw new x.wOt(-2800,!1);const tr=this.xhrFactory;return(tr.\u0275loadImpl?(0,M.H)(tr.\u0275loadImpl()):(0,N.of)(null)).pipe((0,V.n)(()=>new Y.c(Hr=>{const Ur=tr.build();if(Ur.open(Nn.method,Nn.urlWithParams),Nn.withCredentials&&(Ur.withCredentials=!0),Nn.headers.forEach((Eo,qi)=>Ur.setRequestHeader(Eo,qi.join(","))),Nn.headers.has("Accept")||Ur.setRequestHeader("Accept","application/json, text/plain, */*"),!Nn.headers.has("Content-Type")){const Eo=Nn.detectContentTypeHeader();null!==Eo&&Ur.setRequestHeader("Content-Type",Eo)}if(Nn.responseType){const Eo=Nn.responseType.toLowerCase();Ur.responseType="json"!==Eo?Eo:"text"}const li=Nn.serializeBody();let ui=null;const Mi=()=>{if(null!==ui)return ui;const Eo=Ur.statusText||"OK",qi=new Q(Ur.getAllResponseHeaders()),bo=function Yt(yn){return"responseURL"in yn&&yn.responseURL?yn.responseURL:/^X-Request-URL:/m.test(yn.getAllResponseHeaders())?yn.getResponseHeader("X-Request-URL"):null}(Ur)||Nn.url;return ui=new O({headers:qi,status:Ur.status,statusText:Eo,url:bo}),ui},ls=()=>{let{headers:Eo,status:qi,statusText:bo,url:Fc}=Mi(),co=null;204!==qi&&(co=typeof Ur.response>"u"?Ur.responseText:Ur.response),0===qi&&(qi=co?200:0);let ca=qi>=200&&qi<300;if("json"===Nn.responseType&&"string"==typeof co){const Fa=co;co=co.replace(ft,"");try{co=""!==co?JSON.parse(co):null}catch(ws){co=Fa,ca&&(ca=!1,co={error:ws,text:co})}}ca?(Hr.next(new $({body:co,headers:Eo,status:qi,statusText:bo,url:Fc||void 0})),Hr.complete()):Hr.error(new T({error:co,headers:Eo,status:qi,statusText:bo,url:Fc||void 0}))},Ji=Eo=>{const{url:qi}=Mi(),bo=new T({error:Eo,status:Ur.status||0,statusText:Ur.statusText||"Unknown Error",url:qi||void 0});Hr.error(bo)};let bs=!1;const As=Eo=>{bs||(Hr.next(Mi()),bs=!0);let qi={type:_.DownloadProgress,loaded:Eo.loaded};Eo.lengthComputable&&(qi.total=Eo.total),"text"===Nn.responseType&&Ur.responseText&&(qi.partialText=Ur.responseText),Hr.next(qi)},Js=Eo=>{let qi={type:_.UploadProgress,loaded:Eo.loaded};Eo.lengthComputable&&(qi.total=Eo.total),Hr.next(qi)};return Ur.addEventListener("load",ls),Ur.addEventListener("error",Ji),Ur.addEventListener("timeout",Ji),Ur.addEventListener("abort",Ji),Nn.reportProgress&&(Ur.addEventListener("progress",As),null!==li&&Ur.upload&&Ur.upload.addEventListener("progress",Js)),Ur.send(li),Hr.next({type:_.Sent}),()=>{Ur.removeEventListener("error",Ji),Ur.removeEventListener("abort",Ji),Ur.removeEventListener("load",ls),Ur.removeEventListener("timeout",Ji),Nn.reportProgress&&(Ur.removeEventListener("progress",As),null!==li&&Ur.upload&&Ur.upload.removeEventListener("progress",Js)),Ur.readyState!==Ur.DONE&&Ur.abort()}})))}static#e=this.\u0275fac=function(tr){return new(tr||yn)(x.KVO(P.N0))};static#t=this.\u0275prov=x.jDH({token:yn,factory:yn.\u0275fac})}return yn})();const Vt=new x.nKC(""),Mn=new x.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ar=new x.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class jn{}let mn=(()=>{class yn{constructor(Nn,tr,Dr){this.doc=Nn,this.platform=tr,this.cookieName=Dr,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Nn=this.doc.cookie||"";return Nn!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,P._b)(Nn,this.cookieName),this.lastCookieString=Nn),this.lastToken}static#e=this.\u0275fac=function(tr){return new(tr||yn)(x.KVO(P.qQ),x.KVO(x.Agw),x.KVO(Mn))};static#t=this.\u0275prov=x.jDH({token:yn,factory:yn.\u0275fac})}return yn})();function pn(yn,Pn){const Nn=yn.url.toLowerCase();if(!(0,x.WQX)(Vt)||"GET"===yn.method||"HEAD"===yn.method||Nn.startsWith("http://")||Nn.startsWith("https://"))return Pn(yn);const tr=(0,x.WQX)(jn).getToken(),Dr=(0,x.WQX)(Ar);return null!=tr&&!yn.headers.has(Dr)&&(yn=yn.clone({headers:yn.headers.set(Dr,tr)})),Pn(yn)}var St=function(yn){return yn[yn.Interceptors=0]="Interceptors",yn[yn.LegacyInterceptors=1]="LegacyInterceptors",yn[yn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",yn[yn.NoXsrfProtection=3]="NoXsrfProtection",yn[yn.JsonpSupport=4]="JsonpSupport",yn[yn.RequestsMadeViaParent=5]="RequestsMadeViaParent",yn[yn.Fetch=6]="Fetch",yn}(St||{});function hn(...yn){const Pn=[ce,Rt,Ze,{provide:ee,useExisting:Ze},{provide:W,useFactory:()=>(0,x.WQX)(Qe,{optional:!0})??(0,x.WQX)(Rt)},{provide:oe,useValue:pn,multi:!0},{provide:Vt,useValue:!0},{provide:jn,useClass:mn}];for(const Nn of yn)Pn.push(...Nn.\u0275providers);return(0,x.EmA)(Pn)}const Rr=new x.nKC("");function Tt(){return function an(yn,Pn){return{\u0275kind:yn,\u0275providers:Pn}}(St.LegacyInterceptors,[{provide:Rr,useFactory:De},{provide:oe,useExisting:Rr,multi:!0}])}let xn=(()=>{class yn{static#e=this.\u0275fac=function(tr){return new(tr||yn)};static#t=this.\u0275mod=x.$C({type:yn});static#n=this.\u0275inj=x.G2t({providers:[hn(Tt())]})}return yn})()},93953:(Ye,J,A)=>{"use strict";function h(o,p){return Object.is(o,p)}A.d(J,{bc$:()=>XA,iLQ:()=>r2,sZ2:()=>xw,hnV:()=>Y6,wjH:()=>Dd,o8S:()=>Ld,BIS:()=>ZA,gRc:()=>$S,Ql9:()=>wO,OM3:()=>Eb,Ocv:()=>YM,Z63:()=>Pe,aKT:()=>Al,uvJ:()=>Ku,zcH:()=>Sf,bkB:()=>Jf,y_5:()=>ac,$GK:()=>To,nKC:()=>go,zZn:()=>Kl,_q3:()=>QM,MKu:()=>g8,xe9:()=>c1,Co$:()=>c_,Vns:()=>eh,SKi:()=>po,Xx1:()=>fs,Agw:()=>Sw,PLl:()=>TE,rOR:()=>Gv,sFG:()=>oR,_9s:()=>gx,czy:()=>WE,WPN:()=>gg,kdw:()=>Zl,C4Q:()=>rx,NYb:()=>cB,giA:()=>HM,RxE:()=>pl,c1b:()=>ay,gXe:()=>Mt,mal:()=>bx,Tzd:()=>sC,L39:()=>sP,EWP:()=>y2,sbv:()=>gr,a0P:()=>aI,Ol2:()=>Ib,w6W:()=>cu,QZP:()=>uv,Rfq:()=>Vd,WQX:()=>Fr,hFB:()=>hw,naY:()=>Qa,Hps:()=>Wt,QuC:()=>Rc,EmA:()=>bm,geq:()=>su,Udg:()=>WB,Jn2:()=>n8,HJs:()=>cP,N4e:()=>N1,vPA:()=>Ga,O8t:()=>aP,ebz:()=>Ho,An2:()=>Mg,H3F:()=>sO,zAP:()=>HS,H8p:()=>Ai,KH2:()=>sh,TgB:()=>P0,wOt:()=>kr,WHO:()=>yO,e01:()=>X6,lNU:()=>qo,h9k:()=>Qd,$MX:()=>qd,ZF7:()=>er,Kcf:()=>Tr,e5t:()=>Ti,UyX:()=>ci,cWb:()=>Zr,osQ:()=>hi,H5H:()=>O_,Zy3:()=>lo,mq5:()=>_y,JZv:()=>wi,TL3:()=>GO,LfX:()=>$a,plB:()=>Wp,jNT:()=>LS,zjR:()=>GM,ngT:()=>iu,TL$:()=>eT,Tbb:()=>Li,rcV:()=>rr,nM4:()=>CC,Vt3:()=>Ox,GFd:()=>Pg,OA$:()=>$1,Jv_:()=>cs,aNF:()=>nv,R7$:()=>DT,BMQ:()=>Nc,HbH:()=>x_,ZvI:()=>rh,AVh:()=>r0,vxM:()=>lS,wni:()=>x6,C6U:()=>Qg,VBU:()=>bn,FsC:()=>ho,jDH:()=>os,G2t:()=>Gc,$C:()=>lr,EJ8:()=>xo,rXU:()=>hb,nrm:()=>dS,eu8:()=>D_,bVm:()=>Lb,qex:()=>Gg,k0s:()=>T_,j41:()=>I_,RV6:()=>ZC,xGo:()=>tw,Mr5:()=>mp,pXf:()=>Hb,KVO:()=>vo,kS0:()=>R0,QTQ:()=>pb,bIt:()=>iM,lsd:()=>Ta,joV:()=>rp,qSk:()=>J1,XpG:()=>Wb,nI1:()=>Co,bMT:()=>R6,i5U:()=>O6,SdG:()=>wS,NAR:()=>w6,Y8G:()=>Qx,lJ4:()=>RS,eq3:()=>Qb,l_i:()=>xM,NyB:()=>A6,mGM:()=>ES,sdS:()=>Ac,Dyx:()=>wy,Z7z:()=>WC,fX1:()=>HC,Vm6:()=>Wg,Njj:()=>X2,eBV:()=>Nv,npT:()=>R4,f$h:()=>c3,B4B:()=>fa,n$t:()=>dT,xc7:()=>vy,Kam:()=>oM,zvX:()=>a0,DNE:()=>hy,C5r:()=>ZR,EFF:()=>CS,JRh:()=>ev,SpI:()=>$_,Lme:()=>K_,DH7:()=>gM,mxI:()=>Ay,R50:()=>V_,GBs:()=>S6,wEZ:()=>jR});let x=null,N=!1,Y=1;const M=Symbol("SIGNAL");function j(o){const p=x;return x=o,p}const V={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function P(o){if(N)throw new Error("");if(null===x)return;x.consumerOnSignalRead(o);const p=x.nextProducerIndex++;Me(x),p<x.producerNode.length&&x.producerNode[p]!==o&&ge(x)&&ve(x.producerNode[p],x.producerIndexOfThis[p]),x.producerNode[p]!==o&&(x.producerNode[p]=o,x.producerIndexOfThis[p]=ge(x)?he(o,x,p):0),x.producerLastReadVersion[p]=o.version}function W(o){if((!ge(o)||o.dirty)&&(o.dirty||o.lastCleanEpoch!==Y)){if(!o.producerMustRecompute(o)&&!ue(o))return o.dirty=!1,void(o.lastCleanEpoch=Y);o.producerRecomputeValue(o),o.dirty=!1,o.lastCleanEpoch=Y}}function Q(o){if(void 0===o.liveConsumerNode)return;const p=N;N=!0;try{for(const S of o.liveConsumerNode)S.dirty||ae(S)}finally{N=p}}function de(){return!1!==x?.consumerAllowSignalWrites}function ae(o){o.dirty=!0,Q(o),o.consumerMarkedDirty?.(o)}function re(o){return o&&(o.nextProducerIndex=0),j(o)}function te(o,p){if(j(p),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(ge(o))for(let S=o.nextProducerIndex;S<o.producerNode.length;S++)ve(o.producerNode[S],o.producerIndexOfThis[S]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function ue(o){Me(o);for(let p=0;p<o.producerNode.length;p++){const S=o.producerNode[p],L=o.producerLastReadVersion[p];if(L!==S.version||(W(S),L!==S.version))return!0}return!1}function pe(o){if(Me(o),ge(o))for(let p=0;p<o.producerNode.length;p++)ve(o.producerNode[p],o.producerIndexOfThis[p]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function he(o,p,S){if(Oe(o),0===o.liveConsumerNode.length&&je(o))for(let L=0;L<o.producerNode.length;L++)o.producerIndexOfThis[L]=he(o.producerNode[L],o,L);return o.liveConsumerIndexOfThis.push(S),o.liveConsumerNode.push(p)-1}function ve(o,p){if(Oe(o),1===o.liveConsumerNode.length&&je(o))for(let L=0;L<o.producerNode.length;L++)ve(o.producerNode[L],o.producerIndexOfThis[L]);const S=o.liveConsumerNode.length-1;if(o.liveConsumerNode[p]=o.liveConsumerNode[S],o.liveConsumerIndexOfThis[p]=o.liveConsumerIndexOfThis[S],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,p<o.liveConsumerNode.length){const L=o.liveConsumerIndexOfThis[p],ne=o.liveConsumerNode[p];Me(ne),ne.producerIndexOfThis[L]=p}}function ge(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function Me(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}function Oe(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}function je(o){return void 0!==o.producerNode}function B(o){const p=Object.create(_);p.computation=o;const S=()=>{if(W(p),P(p),p.value===w)throw p.error;return p.value};return S[M]=p,S}const l=Symbol("UNSET"),f=Symbol("COMPUTING"),w=Symbol("ERRORED"),_={...V,value:l,dirty:!0,error:null,equal:h,producerMustRecompute:o=>o.value===l||o.value===f,producerRecomputeValue(o){if(o.value===f)throw new Error("Detected cycle in computations.");const p=o.value;o.value=f;const S=re(o);let L;try{L=o.computation()}catch(ne){L=w,o.error=ne}finally{te(o,S)}p!==l&&p!==w&&L!==w&&o.equal(p,L)?o.value=p:(o.value=L,o.version++)}};let O=function D(){throw new Error};function $(){O()}let c=null;function ce(o,p){de()||$(),o.equal(o.value,p)||(o.value=p,function Qe(o){o.version++,function ee(){Y++}(),Q(o),c?.()}(o))}const Ke={...V,equal:h,value:void 0};const Ie=()=>{},Xe={...V,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{null!==o.schedule&&o.schedule(o.ref)},hasRun:!1,cleanupFn:Ie};var Le=A(84412),Ee=A(21413),be=A(18359),oe=A(96354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const qo="https://g.co/ng/security#xss";class kr extends Error{constructor(p,S){super(lo(p,S)),this.code=p}}function lo(o,p){return`NG0${Math.abs(o)}${p?": "+p:""}`}const Ua=Symbol("InputSignalNode#UNSET"),ds={...Ke,transformFn:void 0,applyValueToInputSignal(o,p){ce(o,p)}};function bd(o,p){const S=Object.create(ds);function L(){if(P(S),S.value===Ua)throw new kr(-950,!1);return S.value}return S.value=o,S.transformFn=p?.transform,L[M]=S,L}function ko(o){return{toString:o}.toString()}const ro="__parameters__";function Bo(o,p,S){return ko(()=>{const L=function Qs(o){return function(...S){if(o){const L=o(...S);for(const ne in L)this[ne]=L[ne]}}}(p);function ne(..._e){if(this instanceof ne)return L.apply(this,_e),this;const Fe=new ne(..._e);return et.annotation=Fe,et;function et(yt,$t,Qt){const Sn=yt.hasOwnProperty(ro)?yt[ro]:Object.defineProperty(yt,ro,{value:[]})[ro];for(;Sn.length<=Qt;)Sn.push(null);return(Sn[Qt]=Sn[Qt]||[]).push(Fe),yt}}return S&&(ne.prototype=Object.create(S.prototype)),ne.prototype.ngMetadataName=o,ne.annotationCls=ne,ne})}const wi=globalThis;function jr(o){for(let p in o)if(o[p]===jr)return p;throw Error("Could not find renamed property on target object.")}function ju(o,p){for(const S in p)p.hasOwnProperty(S)&&!o.hasOwnProperty(S)&&(o[S]=p[S])}function Li(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Li).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const p=o.toString();if(null==p)return""+p;const S=p.indexOf("\n");return-1===S?p:p.substring(0,S)}function uf(o,p){return null==o||""===o?null===p?"":p:null==p||""===p?o:o+" "+p}const pu=jr({__forward_ref__:jr});function Vd(o){return o.__forward_ref__=Vd,o.toString=function(){return Li(this())},o}function Fi(o){return wd(o)?o():o}function wd(o){return"function"==typeof o&&o.hasOwnProperty(pu)&&o.__forward_ref__===Vd}function Hi(o,p,S){o!=p&&function ki(o,p,S,L){throw new Error(`ASSERTION ERROR: ${o}`+(null==L?"":` [Expected=> ${S} ${L} ${p} <=Actual]`))}(S,o,p,"==")}function os(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Gc(o){return{providers:o.providers||[],imports:o.imports||[]}}function Hd(o){return ma(o,Ed)||ma(o,xd)}function $a(o){return null!==Hd(o)}function ma(o,p){return o.hasOwnProperty(p)?o[p]:null}function Bl(o){return o&&(o.hasOwnProperty(Ka)||o.hasOwnProperty(Di))?o[Ka]:null}const Ed=jr({\u0275prov:jr}),Ka=jr({\u0275inj:jr}),xd=jr({ngInjectableDef:jr}),Di=jr({ngInjectorDef:jr});class go{constructor(p,S){this._desc=p,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof S?this.__NG_ELEMENT_ID__=S:void 0!==S&&(this.\u0275prov=os({token:this,providedIn:S.providedIn||"root",factory:S.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Vf(o){return o&&!!o.\u0275providers}const Va=jr({\u0275cmp:jr}),sc=jr({\u0275dir:jr}),ff=jr({\u0275pipe:jr}),zf=jr({\u0275mod:jr}),Ls=jr({\u0275fac:jr}),hf=jr({__NG_ELEMENT_ID__:jr}),pf=jr({__NG_ENV_ID__:jr});function Zi(o){return"string"==typeof o?o:null==o?"":String(o)}function rs(o,p){throw new kr(-201,!1)}var To=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(To||{});let bl;function wl(){return bl}function ii(o){const p=bl;return bl=o,p}function yu(o,p,S){const L=Hd(o);return L&&"root"==L.providedIn?void 0===L.value?L.value=L.factory():L.value:S&To.Optional?null:void 0!==p?p:void rs()}const mh={},yh="__NG_DI_FLAG__",gt="ngTempTokenPath",Ut=/\n/gm,Fn="__source";let yr;function yi(o){const p=yr;return yr=o,p}function ya(o,p=To.Default){if(void 0===yr)throw new kr(-203,!1);return null===yr?yu(o,void 0,p):yr.get(o,p&To.Optional?null:void 0,p)}function vo(o,p=To.Default){return(wl()||ya)(Fi(o),p)}function Fr(o,p=To.Default){return vo(o,Fs(p))}function Fs(o){return typeof o>"u"||"number"==typeof o?o:(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function ss(o){const p=[];for(let S=0;S<o.length;S++){const L=Fi(o[S]);if(Array.isArray(L)){if(0===L.length)throw new kr(900,!1);let ne,_e=To.Default;for(let Fe=0;Fe<L.length;Fe++){const et=L[Fe],yt=ol(et);"number"==typeof yt?-1===yt?ne=et.token:_e|=yt:ne=et}p.push(vo(ne,_e))}else p.push(vo(L))}return p}function ga(o,p){return o[yh]=p,o.prototype[yh]=p,o}function ol(o){return o[yh]}const ac=ga(Bo("Inject",o=>({token:o})),-1),fs=ga(Bo("Optional"),8),Zl=ga(Bo("SkipSelf"),4);function mf(o,p){return o.hasOwnProperty(Ls)?o[Ls]:null}function Wd(o,p){o.forEach(S=>Array.isArray(S)?Wd(S,p):p(S))}function Wf(o,p,S){p>=o.length?o.push(S):o.splice(p,0,S)}function Ct(o,p){return p>=o.length-1?o.pop():o.splice(p,1)[0]}function In(o,p,S){let L=wr(o,p);return L>=0?o[1|L]=S:(L=~L,function tn(o,p,S,L){let ne=o.length;if(ne==p)o.push(S,L);else if(1===ne)o.push(L,o[0]),o[0]=S;else{for(ne--,o.push(o[ne-1],o[ne]);ne>p;)o[ne]=o[ne-2],ne--;o[p]=S,o[p+1]=L}}(o,L,p,S)),L}function sr(o,p){const S=wr(o,p);if(S>=0)return o[1|S]}function wr(o,p){return function Qn(o,p,S){let L=0,ne=o.length>>S;for(;ne!==L;){const _e=L+(ne-L>>1),Fe=o[_e<<S];if(p===Fe)return _e<<S;Fe>p?ne=_e:L=_e+1}return~(ne<<S)}(o,p,1)}const vr={},it=[],Pe=new go(""),xe=new go("",-1),Ce=new go("");class ot{get(p,S=mh){if(S===mh){const L=new Error(`NullInjectorError: No provider for ${Li(p)}!`);throw L.name="NullInjectorError",L}return S}}var ct=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(ct||{}),Mt=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(Mt||{}),rn=function(o){return o[o.None=0]="None",o[o.SignalBased=1]="SignalBased",o[o.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",o}(rn||{});function Cn(o,p,S){let L=o.length;for(;;){const ne=o.indexOf(p,S);if(-1===ne)return ne;if(0===ne||o.charCodeAt(ne-1)<=32){const _e=p.length;if(ne+_e===L||o.charCodeAt(ne+_e)<=32)return ne}S=ne+1}}function cn(o,p,S){let L=0;for(;L<S.length;){const ne=S[L];if("number"==typeof ne){if(0!==ne)break;L++;const _e=S[L++],Fe=S[L++],et=S[L++];o.setAttribute(p,Fe,et,_e)}else{const _e=ne,Fe=S[++L];vn(_e)?o.setProperty(p,_e,Fe):o.setAttribute(p,_e,Fe),L++}}return L}function Dt(o){return 3===o||4===o||6===o}function vn(o){return 64===o.charCodeAt(0)}function Qr(o,p){if(null!==p&&0!==p.length)if(null===o||0===o.length)o=p.slice();else{let S=-1;for(let L=0;L<p.length;L++){const ne=p[L];"number"==typeof ne?S=ne:0===S||Ui(o,S,ne,null,-1===S||2===S?p[++L]:null)}}return o}function Ui(o,p,S,L,ne){let _e=0,Fe=o.length;if(-1===p)Fe=-1;else for(;_e<o.length;){const et=o[_e++];if("number"==typeof et){if(et===p){Fe=-1;break}if(et>p){Fe=_e-1;break}}}for(;_e<o.length;){const et=o[_e];if("number"==typeof et)break;if(et===S){if(null===L)return void(null!==ne&&(o[_e+1]=ne));if(L===o[_e+1])return void(o[_e+2]=ne)}_e++,null!==L&&_e++,null!==ne&&_e++}-1!==Fe&&(o.splice(Fe,0,p),_e=Fe+1),o.splice(_e++,0,S),null!==L&&o.splice(_e++,0,L),null!==ne&&o.splice(_e++,0,ne)}const Ii="ng-template";function Ni(o,p,S,L){let ne=0;if(L){for(;ne<p.length&&"string"==typeof p[ne];ne+=2)if("class"===p[ne]&&-1!==Cn(p[ne+1].toLowerCase(),S,0))return!0}else if(io(o))return!1;if(ne=p.indexOf(1,ne),ne>-1){let _e;for(;++ne<p.length&&"string"==typeof(_e=p[ne]);)if(_e.toLowerCase()===S)return!0}return!1}function io(o){return 4===o.type&&o.value!==Ii}function Ts(o,p,S){return p===(4!==o.type||S?o.value:Ii)}function ji(o,p,S){let L=4;const ne=o.attrs,_e=null!==ne?function Qo(o){for(let p=0;p<o.length;p++)if(Dt(o[p]))return p;return o.length}(ne):0;let Fe=!1;for(let et=0;et<p.length;et++){const yt=p[et];if("number"!=typeof yt){if(!Fe)if(4&L){if(L=2|1&L,""!==yt&&!Ts(o,yt,S)||""===yt&&1===p.length){if(Gr(L))return!1;Fe=!0}}else if(8&L){if(null===ne||!Ni(o,ne,yt,S)){if(Gr(L))return!1;Fe=!0}}else{const $t=p[++et],Qt=oo(yt,ne,io(o),S);if(-1===Qt){if(Gr(L))return!1;Fe=!0;continue}if(""!==$t){let Sn;if(Sn=Qt>_e?"":ne[Qt+1].toLowerCase(),2&L&&$t!==Sn){if(Gr(L))return!1;Fe=!0}}}}else{if(!Fe&&!Gr(L)&&!Gr(yt))return!1;if(Fe&&Gr(yt))continue;Fe=!1,L=yt|1&L}}return Gr(L)||Fe}function Gr(o){return!(1&o)}function oo(o,p,S,L){if(null===p)return-1;let ne=0;if(L||!S){let _e=!1;for(;ne<p.length;){const Fe=p[ne];if(Fe===o)return ne;if(3===Fe||6===Fe)_e=!0;else{if(1===Fe||2===Fe){let et=p[++ne];for(;"string"==typeof et;)et=p[++ne];continue}if(4===Fe)break;if(0===Fe){ne+=4;continue}}ne+=_e?1:2}return-1}return function Zc(o,p){let S=o.indexOf(4);if(S>-1)for(S++;S<o.length;){const L=o[S];if("number"==typeof L)return-1;if(L===p)return S;S++}return-1}(p,o)}function Lo(o,p,S=!1){for(let L=0;L<p.length;L++)if(ji(o,p[L],S))return!0;return!1}function rt(o,p){e:for(let S=0;S<p.length;S++){const L=p[S];if(o.length===L.length){for(let ne=0;ne<o.length;ne++)if(o[ne]!==L[ne])continue e;return!0}}return!1}function xt(o,p){return o?":not("+p.trim()+")":p}function lt(o){let p=o[0],S=1,L=2,ne="",_e=!1;for(;S<o.length;){let Fe=o[S];if("string"==typeof Fe)if(2&L){const et=o[++S];ne+="["+Fe+(et.length>0?'="'+et+'"':"")+"]"}else 8&L?ne+="."+Fe:4&L&&(ne+=" "+Fe);else""!==ne&&!Gr(Fe)&&(p+=xt(_e,ne),ne=""),L=Fe,_e=_e||!Gr(L);S++}return""!==ne&&(p+=xt(_e,ne)),p}function bn(o){return ko(()=>{const p=Da(o),S={...p,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===ct.OnPush,directiveDefs:null,pipeDefs:null,dependencies:p.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||Mt.Emulated,styles:o.styles||it,_:null,schemas:o.schemas||null,tView:null,id:""};Iv(S);const L=o.dependencies;return S.directiveDefs=Pp(L,!1),S.pipeDefs=Pp(L,!0),S.id=function kp(o){let p=0;const S=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const ne of S)p=Math.imul(31,p)+ne.charCodeAt(0)|0;return p+=2147483648,"c"+p}(S),S})}function $n(o){return $i(o)||xa(o)}function Er(o){return null!==o}function lr(o){return ko(()=>({type:o.type,bootstrap:o.bootstrap||it,declarations:o.declarations||it,imports:o.imports||it,exports:o.exports||it,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function ai(o,p){if(null==o)return vr;const S={};for(const L in o)if(o.hasOwnProperty(L)){const ne=o[L];let _e,Fe,et=rn.None;Array.isArray(ne)?(et=ne[0],_e=ne[1],Fe=ne[2]??_e):(_e=ne,Fe=ne),p?(S[_e]=et!==rn.None?[L,et]:L,p[_e]=Fe):S[_e]=L}return S}function ho(o){return ko(()=>{const p=Da(o);return Iv(p),p})}function xo(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function $i(o){return o[Va]||null}function xa(o){return o[sc]||null}function da(o){return o[ff]||null}function Rc(o){const p=$i(o)||xa(o)||da(o);return null!==p&&p.standalone}function Wi(o,p){const S=o[zf]||null;if(!S&&!0===p)throw new Error(`Type ${Li(o)} does not have '\u0275mod' property.`);return S}function Da(o){const p={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:p,inputTransforms:null,inputConfig:o.inputs||vr,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||it,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ai(o.inputs,p),outputs:ai(o.outputs),debugInfo:null}}function Iv(o){o.features?.forEach(p=>p(o))}function Pp(o,p){if(!o)return null;const S=p?da:$n;return()=>("function"==typeof o?o():o).map(L=>S(L)).filter(Er)}function bm(o){return{\u0275providers:o}}function NI(...o){return{\u0275providers:R1(0,o),\u0275fromNgModule:!0}}function R1(o,...p){const S=[],L=new Set;let ne;const _e=Fe=>{S.push(Fe)};return Wd(p,Fe=>{const et=Fe;Tv(et,_e,[],L)&&(ne||=[],ne.push(et))}),void 0!==ne&&Yl(ne,_e),S}function Yl(o,p){for(let S=0;S<o.length;S++){const{ngModule:L,providers:ne}=o[S];Bp(ne,_e=>{p(_e,L)})}}function Tv(o,p,S,L){if(!(o=Fi(o)))return!1;let ne=null,_e=Bl(o);const Fe=!_e&&$i(o);if(_e||Fe){if(Fe&&!Fe.standalone)return!1;ne=o}else{const yt=o.ngModule;if(_e=Bl(yt),!_e)return!1;ne=yt}const et=L.has(ne);if(Fe){if(et)return!1;if(L.add(ne),Fe.dependencies){const yt="function"==typeof Fe.dependencies?Fe.dependencies():Fe.dependencies;for(const $t of yt)Tv($t,p,S,L)}}else{if(!_e)return!1;{if(null!=_e.imports&&!et){let $t;L.add(ne);try{Wd(_e.imports,Qt=>{Tv(Qt,p,S,L)&&($t||=[],$t.push(Qt))})}finally{}void 0!==$t&&Yl($t,p)}if(!et){const $t=mf(ne)||(()=>new ne);p({provide:ne,useFactory:$t,deps:it},ne),p({provide:Ce,useValue:ne,multi:!0},ne),p({provide:Pe,useValue:()=>vo(ne),multi:!0},ne)}const yt=_e.providers;if(null!=yt&&!et){const $t=o;Bp(yt,Qt=>{p(Qt,$t)})}}}return ne!==o&&void 0!==o.providers}function Bp(o,p){for(let S of o)Vf(S)&&(S=S.\u0275providers),Array.isArray(S)?Bp(S,p):p(S)}const wm=jr({provide:String,useValue:jr});function yf(o){return null!==o&&"object"==typeof o&&wm in o}function Us(o){return"function"==typeof o}const Ai=new go(""),Ul={},jl={};let Dv;function Rv(){return void 0===Dv&&(Dv=new ot),Dv}class Ku{}class na extends Ku{get destroyed(){return this._destroyed}constructor(p,S,L,ne){super(),this.parent=S,this.source=L,this.scopes=ne,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xm(p,Fe=>this.processProvider(Fe)),this.records.set(xe,Vy(void 0,this)),ne.has("environment")&&this.records.set(Ku,Vy(void 0,this));const _e=this.records.get(Ai);null!=_e&&"string"==typeof _e.value&&this.scopes.add(_e.value),this.injectorDefTypes=new Set(this.get(Ce,it,To.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const p=j(null);try{for(const L of this._ngOnDestroyHooks)L.ngOnDestroy();const S=this._onDestroyHooks;this._onDestroyHooks=[];for(const L of S)L()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),j(p)}}onDestroy(p){return this.assertNotDestroyed(),this._onDestroyHooks.push(p),()=>this.removeOnDestroy(p)}runInContext(p){this.assertNotDestroyed();const S=yi(this),L=ii(void 0);try{return p()}finally{yi(S),ii(L)}}get(p,S=mh,L=To.Default){if(this.assertNotDestroyed(),p.hasOwnProperty(pf))return p[pf](this);L=Fs(L);const _e=yi(this),Fe=ii(void 0);try{if(!(L&To.SkipSelf)){let yt=this.records.get(p);if(void 0===yt){const $t=function Ra(o){return"function"==typeof o||"object"==typeof o&&o instanceof go}(p)&&Hd(p);yt=$t&&this.injectableDefInScope($t)?Vy(O1(p),Ul):null,this.records.set(p,yt)}if(null!=yt)return this.hydrate(p,yt)}return(L&To.Self?Rv():this.parent).get(p,S=L&To.Optional&&S===mh?null:S)}catch(et){if("NullInjectorError"===et.name){if((et[gt]=et[gt]||[]).unshift(Li(p)),_e)throw et;return function va(o,p,S,L){const ne=o[gt];throw p[Fn]&&ne.unshift(p[Fn]),o.message=function gu(o,p,S,L=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let ne=Li(p);if(Array.isArray(p))ne=p.map(Li).join(" -> ");else if("object"==typeof p){let _e=[];for(let Fe in p)if(p.hasOwnProperty(Fe)){let et=p[Fe];_e.push(Fe+":"+("string"==typeof et?JSON.stringify(et):Li(et)))}ne=`{${_e.join(", ")}}`}return`${S}${L?"("+L+")":""}[${ne}]: ${o.replace(Ut,"\n  ")}`}("\n"+o.message,ne,S,L),o.ngTokenPath=ne,o[gt]=null,o}(et,p,"R3InjectorError",this.source)}throw et}finally{ii(Fe),yi(_e)}}resolveInjectorInitializers(){const p=j(null),S=yi(this),L=ii(void 0);try{const _e=this.get(Pe,it,To.Self);for(const Fe of _e)Fe()}finally{yi(S),ii(L),j(p)}}toString(){const p=[],S=this.records;for(const L of S.keys())p.push(Li(L));return`R3Injector[${p.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new kr(205,!1)}processProvider(p){let S=Us(p=Fi(p))?p:Fi(p&&p.provide);const L=function k1(o){return yf(o)?Vy(void 0,o.useValue):Vy(B1(o),Ul)}(p);if(!Us(p)&&!0===p.multi){let ne=this.records.get(S);ne||(ne=Vy(void 0,Ul,!0),ne.factory=()=>ss(ne.multi),this.records.set(S,ne)),S=p,ne.multi.push(p)}this.records.set(S,L)}hydrate(p,S){const L=j(null);try{return S.value===Ul&&(S.value=jl,S.value=S.factory()),"object"==typeof S.value&&S.value&&function Pi(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(S.value)&&this._ngOnDestroyHooks.add(S.value),S.value}finally{j(L)}}injectableDefInScope(p){if(!p.providedIn)return!1;const S=Fi(p.providedIn);return"string"==typeof S?"any"===S||this.scopes.has(S):this.injectorDefTypes.has(S)}removeOnDestroy(p){const S=this._onDestroyHooks.indexOf(p);-1!==S&&this._onDestroyHooks.splice(S,1)}}function O1(o){const p=Hd(o),S=null!==p?p.factory:mf(o);if(null!==S)return S;if(o instanceof go)throw new kr(204,!1);if(o instanceof Function)return function P1(o){if(o.length>0)throw new kr(204,!1);const S=function il(o){return o&&(o[Ed]||o[xd])||null}(o);return null!==S?()=>S.factory(o):()=>new o}(o);throw new kr(204,!1)}function B1(o,p,S){let L;if(Us(o)){const ne=Fi(o);return mf(ne)||O1(ne)}if(yf(o))L=()=>Fi(o.useValue);else if(function Em(o){return!(!o||!o.useFactory)}(o))L=()=>o.useFactory(...ss(o.deps||[]));else if(function _m(o){return!(!o||!o.useExisting)}(o))L=()=>vo(Fi(o.useExisting));else{const ne=Fi(o&&(o.useClass||o.provide));if(!function LI(o){return!!o.deps}(o))return mf(ne)||O1(ne);L=()=>new ne(...ss(o.deps))}return L}function Vy(o,p,S=!1){return{factory:o,value:p,multi:S?[]:void 0}}function xm(o,p){for(const S of o)Array.isArray(S)?xm(S,p):S&&Vf(S)?xm(S.\u0275providers,p):p(S)}function N1(o,p){o instanceof na&&o.assertNotDestroyed();const L=yi(o),ne=ii(void 0);try{return p()}finally{yi(L),ii(ne)}}function Jl(){return void 0!==wl()||null!=function Lr(){return yr}()}function zy(o){if(!Jl())throw new kr(-203,!1)}const Ko=0,di=1,uo=2,as=3,Xf=4,$l=5,Ds=6,Sm=7,za=8,zs=9,gh=10,Gi=11,Wy=12,Vu=13,Am=14,wc=15,Np=16,Gy=17,zu=18,Xy=19,UI=20,Lp=21,ua=22,hs=23,no=25,F2=1,Cd=7,Cm=9,cl=10;var vh=function(o){return o[o.None=0]="None",o[o.HasTransplantedViews=2]="HasTransplantedViews",o}(vh||{});function ba(o){return Array.isArray(o)&&"object"==typeof o[F2]}function ra(o){return Array.isArray(o)&&!0===o[F2]}function U2(o){return!!(4&o.flags)}function Hu(o){return o.componentOffset>-1}function Pv(o){return!(1&~o.flags)}function bh(o){return!!o.template}function ep(o){return!!(512&o[uo])}class pA{constructor(p,S,L){this.previousValue=p,this.currentValue=S,this.firstChange=L}isFirstChange(){return this.firstChange}}function j1(o,p,S,L){null!==p?p.applyValueToInputSignal(p,L):o[S]=L}function $1(){return mA}function mA(o){return o.type.prototype.ngOnChanges&&(o.setInput=yA),Yc}function Yc(){const o=Md(this),p=o?.current;if(p){const S=o.previous;if(S===vr)o.previous=p;else for(let L in p)S[L]=p[L];o.current=null,this.ngOnChanges(p)}}function yA(o,p,S,L,ne){const _e=this.declaredInputs[L],Fe=Md(o)||function gA(o,p){return o[cc]=p}(o,{previous:vr,current:null}),et=Fe.current||(Fe.current={}),yt=Fe.previous,$t=yt[_e];et[_e]=new pA($t&&$t.currentValue,S,yt===vr),j1(o,p,ne,S)}$1.ngInherit=!0;const cc="__ngSimpleChanges__";function Md(o){return o[cc]||null}const Wu=function(o,p,S){},vf="svg";function ia(o){for(;Array.isArray(o);)o=o[Ko];return o}function Yy(o,p){return ia(p[o])}function Zd(o,p){return ia(p[o.index])}function Qi(o,p){return o.data[p]}function bf(o,p){return o[p]}function Gu(o,p){const S=p[o];return ba(S)?S:S[Ko]}function Mm(o){return!(128&~o[uo])}function Id(o,p){return null==p?null:o[p]}function z2(o){o[Gy]=0}function wh(o){1024&o[uo]||(o[uo]|=1024,Mm(o)&&Im(o))}function Jy(o){return!!(9216&o[uo]||o[hs]?.dirty)}function V1(o){o[gh].changeDetectionScheduler?.notify(7),64&o[uo]&&(o[uo]|=1024),Jy(o)&&Im(o)}function Im(o){o[gh].changeDetectionScheduler?.notify(0);let p=ps(o);for(;null!==p&&!(8192&p[uo])&&(p[uo]|=8192,Mm(p));)p=ps(p)}function z1(o,p){if(!(256&~o[uo]))throw new kr(911,!1);null===o[Lp]&&(o[Lp]=[]),o[Lp].push(p)}function ps(o){const p=o[as];return ra(p)?p[as]:p}const Fo={lFrame:eE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let W2=!1;function Tm(){return Fo.bindingsEnabled}function wf(){return null!==Fo.skipHydrationRootTNode}function Br(){return Fo.lFrame.lView}function Es(){return Fo.lFrame.tView}function Nv(o){return Fo.lFrame.contextLView=o,o[za]}function X2(o){return Fo.lFrame.contextLView=null,o}function Hs(){let o=Xu();for(;null!==o&&64===o.type;)o=o.parent;return o}function Xu(){return Fo.lFrame.currentTNode}function I0(){const o=Fo.lFrame,p=o.currentTNode;return o.isParent?p:p.parent}function Zf(o,p){const S=Fo.lFrame;S.currentTNode=o,S.isParent=p}function H1(){return Fo.lFrame.isParent}function Dm(){Fo.lFrame.isParent=!1}function Y2(){return W2}function Lv(o){W2=o}function Yd(){const o=Fo.lFrame;let p=o.bindingRootIndex;return-1===p&&(p=o.bindingRootIndex=o.tView.bindingStartIndex),p}function vu(){return Fo.lFrame.bindingIndex++}function _f(o){const p=Fo.lFrame,S=p.bindingIndex;return p.bindingIndex=p.bindingIndex+o,S}function Rm(o){Fo.lFrame.inI18n=o}function wA(o,p){const S=Fo.lFrame;S.bindingIndex=S.bindingRootIndex=o,G1(p)}function G1(o){Fo.lFrame.currentDirectiveIndex=o}function X1(o){const p=Fo.lFrame.currentDirectiveIndex;return-1===p?null:o[p]}function Z1(){return Fo.lFrame.currentQueryIndex}function Qy(o){Fo.lFrame.currentQueryIndex=o}function Om(o){const p=o[di];return 2===p.type?p.declTNode:1===p.type?o[$l]:null}function q2(o,p,S){if(S&To.SkipSelf){let ne=p,_e=o;for(;!(ne=ne.parent,null!==ne||S&To.Host||(ne=Om(_e),null===ne||(_e=_e[Am],10&ne.type))););if(null===ne)return!1;p=ne,o=_e}const L=Fo.lFrame=Q2();return L.currentTNode=p,L.lView=o,!0}function Y1(o){const p=Q2(),S=o[di];Fo.lFrame=p,p.currentTNode=S.firstChild,p.lView=o,p.tView=S,p.contextLView=o,p.bindingIndex=S.bindingStartIndex,p.inI18n=!1}function Q2(){const o=Fo.lFrame,p=null===o?null:o.child;return null===p?eE(o):p}function eE(o){const p={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=p),p}function tE(){const o=Fo.lFrame;return Fo.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const nE=tE;function eg(){const o=tE();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function td(){return Fo.lFrame.selectedIndex}function T0(o){Fo.lFrame.selectedIndex=o}function So(){const o=Fo.lFrame;return Qi(o.tView,o.selectedIndex)}function J1(){Fo.lFrame.currentNamespace=vf}function rp(){!function q1(){Fo.lFrame.currentNamespace=null}()}let iE=!0;function ip(){return iE}function xh(o){iE=o}function km(o,p){for(let S=p.directiveStart,L=p.directiveEnd;S<L;S++){const _e=o.data[S].type.prototype,{ngAfterContentInit:Fe,ngAfterContentChecked:et,ngAfterViewInit:yt,ngAfterViewChecked:$t,ngOnDestroy:Qt}=_e;Fe&&(o.contentHooks??=[]).push(-S,Fe),et&&((o.contentHooks??=[]).push(S,et),(o.contentCheckHooks??=[]).push(S,et)),yt&&(o.viewHooks??=[]).push(-S,yt),$t&&((o.viewHooks??=[]).push(S,$t),(o.viewCheckHooks??=[]).push(S,$t)),null!=Qt&&(o.destroyHooks??=[]).push(S,Qt)}}function Uv(o,p,S){oE(o,p,3,S)}function D0(o,p,S,L){(3&o[uo])===S&&oE(o,p,S,L)}function Q1(o,p){let S=o[uo];(3&S)===p&&(S&=16383,S+=1,o[uo]=S)}function oE(o,p,S,L){const _e=L??-1,Fe=p.length-1;let et=0;for(let yt=void 0!==L?65535&o[Gy]:0;yt<Fe;yt++)if("number"==typeof p[yt+1]){if(et=p[yt],null!=L&&et>=L)break}else p[yt]<0&&(o[Gy]+=65536),(et<_e||-1==_e)&&(sE(o,S,p,yt),o[Gy]=(4294901760&o[Gy])+yt+2),yt++}function ew(o,p){Wu(4,o,p);const S=j(null);try{p.call(o)}finally{j(S),Wu(5,o,p)}}function sE(o,p,S,L){const ne=S[L]<0,_e=S[L+1],et=o[ne?-S[L]:S[L]];ne?o[uo]>>14<o[Gy]>>16&&(3&o[uo])===p&&(o[uo]+=16384,ew(et,_e)):ew(et,_e)}const jp=-1;class Bm{constructor(p,S,L){this.factory=p,this.resolving=!1,this.canSeeViewProviders=S,this.injectImpl=L}}const ys={};class $p{constructor(p,S){this.injector=p,this.parentInjector=S}get(p,S,L){L=Fs(L);const ne=this.injector.get(p,ys,L);return ne!==ys||S===ys?ne:this.parentInjector.get(p,S,L)}}function Nm(o){return o!==jp}function tg(o){return 32767&o}function Ks(o,p){let S=function Lm(o){return o>>16}(o),L=p;for(;S>0;)L=L[Am],S--;return L}let gi=!0;function Zu(o){const p=gi;return gi=o,p}const dE=255,uE=5;let Wa=0;const xf={};function Yf(o,p){const S=Fm(o,p);if(-1!==S)return S;const L=p[di];L.firstCreatePass&&(o.injectorIndex=p.length,Sh(L.data,o),Sh(p,null),Sh(L.blueprint,null));const ne=Kv(o,p),_e=o.injectorIndex;if(Nm(ne)){const Fe=tg(ne),et=Ks(ne,p),yt=et[di].data;for(let $t=0;$t<8;$t++)p[_e+$t]=et[Fe+$t]|yt[Fe+$t]}return p[_e+8]=ne,_e}function Sh(o,p){o.push(0,0,0,0,0,0,0,0,p)}function Fm(o,p){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===p[o.injectorIndex+8]?-1:o.injectorIndex}function Kv(o,p){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let S=0,L=null,ne=p;for(;null!==ne;){if(L=Vv(ne),null===L)return jp;if(S++,ne=ne[Am],-1!==L.injectorIndex)return L.injectorIndex|S<<16}return jp}function Um(o,p,S){!function ng(o,p,S){let L;"string"==typeof S?L=S.charCodeAt(0)||0:S.hasOwnProperty(hf)&&(L=S[hf]),null==L&&(L=S[hf]=Wa++);const ne=L&dE;p.data[o+(ne>>uE)]|=1<<ne}(o,p,S)}function fE(o,p,S){if(S&To.Optional||void 0!==o)return o;rs()}function hE(o,p,S,L){if(S&To.Optional&&void 0===L&&(L=null),!(S&(To.Self|To.Host))){const ne=o[zs],_e=ii(void 0);try{return ne?ne.get(p,L,S&To.Optional):yu(p,L,S&To.Optional)}finally{ii(_e)}}return fE(L,0,S)}function CA(o,p,S,L=To.Default,ne){if(null!==o){if(2048&p[uo]&&!(L&To.Self)){const Fe=function GI(o,p,S,L,ne){let _e=o,Fe=p;for(;null!==_e&&null!==Fe&&2048&Fe[uo]&&!(512&Fe[uo]);){const et=MA(_e,Fe,S,L|To.Self,xf);if(et!==xf)return et;let yt=_e.parent;if(!yt){const $t=Fe[UI];if($t){const Qt=$t.get(S,xf,L);if(Qt!==xf)return Qt}yt=Vv(Fe),Fe=Fe[Am]}_e=yt}return ne}(o,p,S,L,xf);if(Fe!==xf)return Fe}const _e=MA(o,p,S,L,xf);if(_e!==xf)return _e}return hE(p,S,L,ne)}function MA(o,p,S,L,ne){const _e=function IA(o){if("string"==typeof o)return o.charCodeAt(0)||0;const p=o.hasOwnProperty(hf)?o[hf]:void 0;return"number"==typeof p?p>=0?p&dE:DA:p}(S);if("function"==typeof _e){if(!q2(p,o,L))return L&To.Host?fE(ne,0,L):hE(p,S,L,ne);try{let Fe;if(Fe=_e(L),null!=Fe||L&To.Optional)return Fe;rs()}finally{nE()}}else if("number"==typeof _e){let Fe=null,et=Fm(o,p),yt=jp,$t=L&To.Host?p[wc][$l]:null;for((-1===et||L&To.SkipSelf)&&(yt=-1===et?Kv(o,p):p[et+8],yt!==jp&&TA(L,!1)?(Fe=p[di],et=tg(yt),p=Ks(yt,p)):et=-1);-1!==et;){const Qt=p[di];if(ig(_e,et,Qt.data)){const Sn=rg(et,p,S,Fe,L,$t);if(Sn!==xf)return Sn}yt=p[et+8],yt!==jp&&TA(L,p[di].data[et+8]===$t)&&ig(_e,et,p)?(Fe=Qt,et=tg(yt),p=Ks(yt,p)):et=-1}}return ne}function rg(o,p,S,L,ne,_e){const Fe=p[di],et=Fe.data[o+8],Qt=jm(et,Fe,S,null==L?Hu(et)&&gi:L!=Fe&&!!(3&et.type),ne&To.Host&&_e===et);return null!==Qt?$m(p,Fe,Qt,et):xf}function jm(o,p,S,L,ne){const _e=o.providerIndexes,Fe=p.data,et=1048575&_e,yt=o.directiveStart,Qt=_e>>20,Hn=ne?et+Qt:o.directiveEnd;for(let Yn=L?et:et+Qt;Yn<Hn;Yn++){const ur=Fe[Yn];if(Yn<yt&&S===ur||Yn>=yt&&ur.type===S)return Yn}if(ne){const Yn=Fe[yt];if(Yn&&bh(Yn)&&Yn.type===S)return yt}return null}function $m(o,p,S,L){let ne=o[S];const _e=p.data;if(function xA(o){return o instanceof Bm}(ne)){const Fe=ne;Fe.resolving&&function ph(o,p){throw p&&p.join(" > "),new kr(-200,o)}(function _o(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Zi(o)}(_e[S]));const et=Zu(Fe.canSeeViewProviders);Fe.resolving=!0;const $t=Fe.injectImpl?ii(Fe.injectImpl):null;q2(o,L,To.Default);try{ne=o[S]=Fe.factory(void 0,_e,o,L),p.firstCreatePass&&S>=L.directiveStart&&function EA(o,p,S){const{ngOnChanges:L,ngOnInit:ne,ngDoCheck:_e}=p.type.prototype;if(L){const Fe=mA(p);(S.preOrderHooks??=[]).push(o,Fe),(S.preOrderCheckHooks??=[]).push(o,Fe)}ne&&(S.preOrderHooks??=[]).push(0-o,ne),_e&&((S.preOrderHooks??=[]).push(o,_e),(S.preOrderCheckHooks??=[]).push(o,_e))}(S,_e[S],p)}finally{null!==$t&&ii($t),Zu(et),Fe.resolving=!1,nE()}}return ne}function ig(o,p,S){return!!(S[p+(o>>uE)]&1<<o)}function TA(o,p){return!(o&To.Self||o&To.Host&&p)}class Jc{constructor(p,S){this._tNode=p,this._lView=S}get(p,S,L){return CA(this._tNode,this._lView,p,Fs(L),S)}}function DA(){return new Jc(Hs(),Br())}function tw(o){return ko(()=>{const p=o.prototype.constructor,S=p[Ls]||pE(p),L=Object.prototype;let ne=Object.getPrototypeOf(o.prototype).constructor;for(;ne&&ne!==L;){const _e=ne[Ls]||pE(ne);if(_e&&_e!==S)return _e;ne=Object.getPrototypeOf(ne)}return _e=>new _e})}function pE(o){return wd(o)?()=>{const p=pE(Fi(o));return p&&p()}:mf(o)}function Vv(o){const p=o[di],S=p.type;return 2===S?p.declTNode:1===S?o[$l]:null}function R0(o){return function AA(o,p){if("class"===p)return o.classes;if("style"===p)return o.styles;const S=o.attrs;if(S){const L=S.length;let ne=0;for(;ne<L;){const _e=S[ne];if(Dt(_e))break;if(0===_e)ne+=2;else if("number"==typeof _e)for(ne++;ne<L&&"string"==typeof S[ne];)ne++;else{if(_e===p)return S[ne+1];ne+=2}}}return null}(Hs(),o)}function kA(o,p=null,S=null,L){const ne=sw(o,p,S,L);return ne.resolveInjectorInitializers(),ne}function sw(o,p=null,S=null,L,ne=new Set){const _e=[S||it,NI(o)];return L=L||("object"==typeof o?void 0:Li(o)),new na(_e,p||Rv(),L||null,ne)}class Kl{static#e=this.THROW_IF_NOT_FOUND=mh;static#t=this.NULL=new ot;static create(p,S){if(Array.isArray(p))return kA({name:""},S,p,"");{const L=p.name??"";return kA({name:L},p.parent,p.providers,L)}}static#n=this.\u0275prov=os({token:Kl,providedIn:"any",factory:()=>vo(xe)});static#f=this.__NG_ELEMENT_ID__=-1}new go("").__NG_ELEMENT_ID__=o=>{const p=Hs();if(null===p)throw new kr(204,!1);if(2&p.type)return p.value;if(o&To.Optional)return null;throw new kr(204,!1)};function _c(o){return o.ngOriginalError}let $c=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=nd;static#t=this.__NG_ENV_ID__=S=>S}return o})();class Vl extends $c{constructor(p){super(),this._lView=p}onDestroy(p){return z1(this._lView,p),()=>function H2(o,p){if(null===o[Lp])return;const S=o[Lp].indexOf(p);-1!==S&&o[Lp].splice(S,1)}(this._lView,p)}}function nd(){return new Vl(Br())}let P0=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Le.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const S=this.taskId++;return this.pendingTasks.add(S),S}remove(S){this.pendingTasks.delete(S),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=os({token:o,providedIn:"root",factory:()=>new o})}return o})();const Jf=class BA extends Ee.B{constructor(p=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=p,Jl()&&(this.destroyRef=Fr($c,{optional:!0})??void 0,this.pendingTasks=Fr(P0,{optional:!0})??void 0)}emit(p){const S=j(null);try{super.next(p)}finally{j(S)}}subscribe(p,S,L){let ne=p,_e=S||(()=>null),Fe=L;if(p&&"object"==typeof p){const yt=p;ne=yt.next?.bind(yt),_e=yt.error?.bind(yt),Fe=yt.complete?.bind(yt)}this.__isAsync&&(_e=this.wrapInTimeout(_e),ne&&(ne=this.wrapInTimeout(ne)),Fe&&(Fe=this.wrapInTimeout(Fe)));const et=super.subscribe({next:ne,error:_e,complete:Fe});return p instanceof be.yU&&p.add(et),et}wrapInTimeout(p){return S=>{const L=this.pendingTasks?.add();setTimeout(()=>{p(S),void 0!==L&&this.pendingTasks?.remove(L)})}}};function zm(...o){}function _E(o){let p,S;function L(){o=zm;try{void 0!==S&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(S),void 0!==p&&clearTimeout(p)}catch{}}return p=setTimeout(()=>{o(),L()}),"function"==typeof requestAnimationFrame&&(S=requestAnimationFrame(()=>{o(),L()})),()=>L()}function cw(o){return queueMicrotask(()=>o()),()=>{o=zm}}class po{constructor({enableLongStackTrace:p=!1,shouldCoalesceEventChangeDetection:S=!1,shouldCoalesceRunChangeDetection:L=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jf(!1),this.onMicrotaskEmpty=new Jf(!1),this.onStable=new Jf(!1),this.onError=new Jf(!1),typeof Zone>"u")throw new kr(908,!1);Zone.assertZonePatched();const ne=this;ne._nesting=0,ne._outer=ne._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(ne._inner=ne._inner.fork(new Zone.TaskTrackingZoneSpec)),p&&Zone.longStackTraceZoneSpec&&(ne._inner=ne._inner.fork(Zone.longStackTraceZoneSpec)),ne.shouldCoalesceEventChangeDetection=!L&&S,ne.shouldCoalesceRunChangeDetection=L,ne.callbackScheduled=!1,function LA(o){const p=()=>{!function NA(o){o.isCheckStableRunning||o.callbackScheduled||(o.callbackScheduled=!0,Zone.root.run(()=>{_E(()=>{o.callbackScheduled=!1,dw(o),o.isCheckStableRunning=!0,lw(o),o.isCheckStableRunning=!1})}),dw(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(S,L,ne,_e,Fe,et)=>{if(function FA(o){return zv(o,"__ignore_ng_zone__")}(et))return S.invokeTask(ne,_e,Fe,et);try{return SE(o),S.invokeTask(ne,_e,Fe,et)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===_e.type||o.shouldCoalesceRunChangeDetection)&&p(),AE(o)}},onInvoke:(S,L,ne,_e,Fe,et,yt)=>{try{return SE(o),S.invoke(ne,_e,Fe,et,yt)}finally{o.shouldCoalesceRunChangeDetection&&!o.callbackScheduled&&!function Ps(o){return zv(o,"__scheduler_tick__")}(et)&&p(),AE(o)}},onHasTask:(S,L,ne,_e)=>{S.hasTask(ne,_e),L===ne&&("microTask"==_e.change?(o._hasPendingMicrotasks=_e.microTask,dw(o),lw(o)):"macroTask"==_e.change&&(o.hasPendingMacrotasks=_e.macroTask))},onHandleError:(S,L,ne,_e)=>(S.handleError(ne,_e),o.runOutsideAngular(()=>o.onError.emit(_e)),!1)})}(ne)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!po.isInAngularZone())throw new kr(909,!1)}static assertNotInAngularZone(){if(po.isInAngularZone())throw new kr(909,!1)}run(p,S,L){return this._inner.run(p,S,L)}runTask(p,S,L,ne){const _e=this._inner,Fe=_e.scheduleEventTask("NgZoneEvent: "+ne,p,xE,zm,zm);try{return _e.runTask(Fe,S,L)}finally{_e.cancelTask(Fe)}}runGuarded(p,S,L){return this._inner.runGuarded(p,S,L)}runOutsideAngular(p){return this._outer.run(p)}}const xE={};function lw(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function dw(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&!0===o.callbackScheduled)}function SE(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function AE(o){o._nesting--,lw(o)}class uw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jf,this.onMicrotaskEmpty=new Jf,this.onStable=new Jf,this.onError=new Jf}run(p,S,L){return p.apply(S,L)}runGuarded(p,S,L){return p.apply(S,L)}runOutsideAngular(p){return p()}runTask(p,S,L,ne){return p.apply(S,L)}}function zv(o,p){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0]?.data?.[p]}class Sf{constructor(){this._console=console}handleError(p){const S=this._findOriginalError(p);this._console.error("ERROR",p),S&&this._console.error("ORIGINAL ERROR",S)}_findOriginalError(p){let S=p&&_c(p);for(;S&&_c(S);)S=_c(S);return S||null}}const Hv=new go("",{providedIn:"root",factory:()=>{const o=Fr(po),p=Fr(Sf);return S=>o.runOutsideAngular(()=>p.handleError(S))}});class sg{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=Fr(Sf,{optional:!0}),this.destroyRef=Fr($c),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(p){if(this.destroyed)throw new kr(953,!1);return(this.listeners??=[]).push(p),{unsubscribe:()=>{const S=this.listeners?.indexOf(p);void 0!==S&&-1!==S&&this.listeners?.splice(S,1)}}}emit(p){if(this.destroyed)throw new kr(953,!1);if(null===this.listeners)return;const S=j(null);try{for(const L of this.listeners)try{L(p)}catch(ne){this.errorHandler?.handleError(ne)}}finally{j(S)}}}function Hm(o,p){return bd(o,p)}const hw=(Hm.required=function fw(o){return bd(Ua,o)},Hm);function _i(){return ag(Hs(),Br())}function ag(o,p){return new Al(Zd(o,p))}let Al=(()=>{class o{constructor(S){this.nativeElement=S}static#e=this.__NG_ELEMENT_ID__=_i}return o})();function Wv(o){return o instanceof Al?o.nativeElement:o}function Sa(){return this._results[Symbol.iterator]()}class Gv{static#e=Symbol.iterator;get changes(){return this._changes??=new Jf}constructor(p=!1){this._emitDistinctChangesOnly=p,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const S=Gv.prototype;S[Symbol.iterator]||(S[Symbol.iterator]=Sa)}get(p){return this._results[p]}map(p){return this._results.map(p)}filter(p){return this._results.filter(p)}find(p){return this._results.find(p)}reduce(p,S){return this._results.reduce(p,S)}forEach(p){this._results.forEach(p)}some(p){return this._results.some(p)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(p,S){this.dirty=!1;const L=function sl(o){return o.flat(Number.POSITIVE_INFINITY)}(p);(this._changesDetected=!function qh(o,p,S){if(o.length!==p.length)return!1;for(let L=0;L<o.length;L++){let ne=o[L],_e=p[L];if(S&&(ne=S(ne),_e=S(_e)),_e!==ne)return!1}return!0}(this._results,L,S))&&(this._results=L,this.length=L.length,this.last=L[this.length-1],this.first=L[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(p){this._onDirty=p}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function cg(o){return!(128&~o.flags)}const Zv=new Map;let jA=0;const dg="__ngContext__";function Aa(o,p){ba(p)?(o[dg]=p[Xy],function KA(o){Zv.set(o[Xy],o)}(p)):o[dg]=p}function yw(o){return tb(o[Wy])}function gw(o){return tb(o[Xf])}function tb(o){for(;null!==o&&!ra(o);)o=o[Xf];return o}let Ew;function eT(o){Ew=o}function Vp(){if(void 0!==Ew)return Ew;if(typeof document<"u")return document;throw new kr(210,!1)}const xw=new go("",{providedIn:"root",factory:()=>GA}),GA="ng",TE=new go(""),Sw=new go("",{providedIn:"platform",factory:()=>"unknown"}),XA=new go(""),ZA=new go("",{providedIn:"root",factory:()=>Vp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let PE=()=>null;function Tw(o,p,S=!1){return PE(o,p,S)}const kw=new go("",{providedIn:"root",factory:()=>!1});let g,se;function a(o){return function s(){if(void 0===g&&(g=null,wi.trustedTypes))try{g=wi.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return g}()?.createHTML(o)||o}function ye(){if(void 0===se&&(se=null,wi.trustedTypes))try{se=wi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return se}function Re(o){return ye()?.createHTML(o)||o}function ut(o){return ye()?.createScriptURL(o)||o}class wt{constructor(p){this.changingThisBreaksApplicationSecurity=p}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qo})`}}class jt extends wt{getTypeName(){return"HTML"}}class Kt extends wt{getTypeName(){return"Style"}}class _n extends wt{getTypeName(){return"Script"}}class On extends wt{getTypeName(){return"URL"}}class nr extends wt{getTypeName(){return"ResourceURL"}}function rr(o){return o instanceof wt?o.changingThisBreaksApplicationSecurity:o}function er(o,p){const S=function fr(o){return o instanceof wt&&o.getTypeName()||null}(o);if(null!=S&&S!==p){if("ResourceURL"===S&&"URL"===p)return!0;throw new Error(`Required a safe ${p}, got a ${S} (see ${qo})`)}return S===p}function Tr(o){return new jt(o)}function Zr(o){return new Kt(o)}function ci(o){return new _n(o)}function hi(o){return new On(o)}function Ti(o){return new nr(o)}function Vo(o){const p=new Kc(o);return function xs(){try{return!!(new window.DOMParser).parseFromString(a(""),"text/html")}catch{return!1}}()?new Do(p):p}class Do{constructor(p){this.inertDocumentHelper=p}getInertBodyElement(p){p="<body><remove></remove>"+p;try{const S=(new window.DOMParser).parseFromString(a(p),"text/html").body;return null===S?this.inertDocumentHelper.getInertBodyElement(p):(S.firstChild?.remove(),S)}catch{return null}}}class Kc{constructor(p){this.defaultDoc=p,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(p){const S=this.inertDocument.createElement("template");return S.innerHTML=a(p),S}}const xc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qd(o){return(o=String(o)).match(xc)?o:"unsafe:"+o}function Td(o){const p={};for(const S of o.split(","))p[S]=!0;return p}function U0(...o){const p={};for(const S of o)for(const L in S)S.hasOwnProperty(L)&&(p[L]=!0);return p}const lb=Td("area,br,col,hr,img,wbr"),Qm=Td("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),j0=Td("rp,rt"),r3=U0(lb,U0(Qm,Td("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),U0(j0,Td("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),U0(j0,Qm)),i3=Td("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$E=U0(i3,Td("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Td("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),o3=Td("script,style,template");class Oa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(p){let S=p.firstChild,L=!0,ne=[];for(;S;)if(S.nodeType===Node.ELEMENT_NODE?L=this.startElement(S):S.nodeType===Node.TEXT_NODE?this.chars(S.nodeValue):this.sanitizedSomething=!0,L&&S.firstChild)ne.push(S),S=cT(S);else for(;S;){S.nodeType===Node.ELEMENT_NODE&&this.endElement(S);let _e=Nw(S);if(_e){S=_e;break}S=ne.pop()}return this.buf.join("")}startElement(p){const S=lT(p).toLowerCase();if(!r3.hasOwnProperty(S))return this.sanitizedSomething=!0,!o3.hasOwnProperty(S);this.buf.push("<"),this.buf.push(S);const L=p.attributes;for(let ne=0;ne<L.length;ne++){const _e=L.item(ne),Fe=_e.name,et=Fe.toLowerCase();if(!$E.hasOwnProperty(et)){this.sanitizedSomething=!0;continue}let yt=_e.value;i3[et]&&(yt=qd(yt)),this.buf.push(" ",Fe,'="',D4(yt),'"')}return this.buf.push(">"),!0}endElement(p){const S=lT(p).toLowerCase();r3.hasOwnProperty(S)&&!lb.hasOwnProperty(S)&&(this.buf.push("</"),this.buf.push(S),this.buf.push(">"))}chars(p){this.buf.push(D4(p))}}function Nw(o){const p=o.nextSibling;if(p&&o!==p.previousSibling)throw s3(p);return p}function cT(o){const p=o.firstChild;if(p&&function Eu(o,p){return(o.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(o,p))throw s3(p);return p}function lT(o){const p=o.nodeName;return"string"==typeof p?p:"FORM"}function s3(o){return new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`)}const T4=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sk=/([^\#-~ |!])/g;function D4(o){return o.replace(/&/g,"&amp;").replace(T4,function(p){return"&#"+(1024*(p.charCodeAt(0)-55296)+(p.charCodeAt(1)-56320)+65536)+";"}).replace(Sk,function(p){return"&#"+p.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ey;function Qd(o,p){let S=null;try{ey=ey||Vo(o);let L=p?String(p):"";S=ey.getInertBodyElement(L);let ne=5,_e=L;do{if(0===ne)throw new Error("Failed to sanitize html because the input is unstable");ne--,L=_e,_e=S.innerHTML,S=ey.getInertBodyElement(L)}while(L!==_e);return a((new Oa).sanitizeChildren(a3(S)||S))}finally{if(S){const L=a3(S)||S;for(;L.firstChild;)L.firstChild.remove()}}}function a3(o){return"content"in o&&function Ak(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var gg=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(gg||{});function R4(o){const p=ub();return p?Re(p.sanitize(gg.HTML,o)||""):er(o,"HTML")?Re(rr(o)):Qd(Vp(),Zi(o))}function fa(o){const p=ub();return p?p.sanitize(gg.URL,o)||"":er(o,"URL")?rr(o):qd(Zi(o))}function c3(o){const p=ub();if(p)return ut(p.sanitize(gg.RESOURCE_URL,o)||"");if(er(o,"ResourceURL"))return ut(rr(o));throw new kr(904,!1)}function dT(o,p,S){return function P4(o,p){return"src"===p&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===p&&("base"===o||"link"===o)?c3:fa}(p,S)(o)}function ub(){const o=Br();return o&&o[gh].sanitizer}const k4=/^>|^->|<!--|-->|--!>|<!-$/g,B4=/(<|>)/g,uT="\u200b$1\u200b";function Ih(o){return o instanceof Function?o():o}function Qc(o){return"browser"===(o??Fr(Kl)).get(Sw)}var WE=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(WE||{});let vg;function p3(o,p){return vg(o,p)}function eu(o,p,S,L,ne){if(null!=L){let _e,Fe=!1;ra(L)?_e=L:ba(L)&&(Fe=!0,L=L[Ko]);const et=ia(L);0===o&&null!==S?null==ne?ST(p,S,et):bg(p,S,et,ne||null,!0):1===o&&null!==S?bg(p,S,et,ne||null,!0):2===o?function ry(o,p,S){o.removeChild(null,p,S)}(p,et,Fe):3===o&&p.destroyNode(et),null!=_e&&function Z4(o,p,S,L,ne){const _e=S[Cd];_e!==ia(S)&&eu(p,o,L,_e,ne);for(let et=cl;et<S.length;et++){const yt=S[et];YE(yt[di],yt,o,p,L,_e)}}(p,o,_e,S,ne)}}function ny(o,p){return o.createText(p)}function Dh(o,p){return o.createComment(function Mh(o){return o.replace(k4,p=>p.replace(B4,uT))}(p))}function GE(o,p,S){return o.createElement(p,S)}function y3(o,p){p[gh].changeDetectionScheduler?.notify(8),YE(o,p,p[Gi],2,null,null)}function _T(o,p){const S=o[Cm],L=p[as];(ba(L)||p[wc]!==L[as][wc])&&(o[uo]|=vh.HasTransplantedViews),null===S?o[Cm]=[p]:S.push(p)}function g3(o,p){const S=o[Cm],L=S.indexOf(p);S.splice(L,1)}function Kw(o,p){if(o.length<=cl)return;const S=cl+p,L=o[S];if(L){const ne=L[Np];null!==ne&&ne!==o&&g3(ne,L),p>0&&(o[S-1][Xf]=L[Xf]);const _e=Ct(o,cl+p);!function K4(o,p){y3(o,p),p[Ko]=null,p[$l]=null}(L[di],L);const Fe=_e[zu];null!==Fe&&Fe.detachView(_e[di]),L[as]=null,L[Xf]=null,L[uo]&=-129}return L}function XE(o,p){if(!(256&p[uo])){const S=p[Gi];S.destroyNode&&YE(o,p,S,3,null,null),function V4(o){let p=o[Wy];if(!p)return v3(o[di],o);for(;p;){let S=null;if(ba(p))S=p[Wy];else{const L=p[cl];L&&(S=L)}if(!S){for(;p&&!p[Xf]&&p!==o;)ba(p)&&v3(p[di],p),p=p[as];null===p&&(p=o),ba(p)&&v3(p[di],p),S=p&&p[Xf]}p=S}}(p)}}function v3(o,p){if(256&p[uo])return;const S=j(null);try{p[uo]&=-129,p[uo]|=256,p[hs]&&pe(p[hs]),function H4(o,p){let S;if(null!=o&&null!=(S=o.destroyHooks))for(let L=0;L<S.length;L+=2){const ne=p[S[L]];if(!(ne instanceof Bm)){const _e=S[L+1];if(Array.isArray(_e))for(let Fe=0;Fe<_e.length;Fe+=2){const et=ne[_e[Fe]],yt=_e[Fe+1];Wu(4,et,yt);try{yt.call(et)}finally{Wu(5,et,yt)}}else{Wu(4,ne,_e);try{_e.call(ne)}finally{Wu(5,ne,_e)}}}}}(o,p),function ET(o,p){const S=o.cleanup,L=p[Sm];if(null!==S)for(let _e=0;_e<S.length-1;_e+=2)if("string"==typeof S[_e]){const Fe=S[_e+3];Fe>=0?L[Fe]():L[-Fe].unsubscribe(),_e+=2}else S[_e].call(L[S[_e+1]]);null!==L&&(p[Sm]=null);const ne=p[Lp];if(null!==ne){p[Lp]=null;for(let _e=0;_e<ne.length;_e++)(0,ne[_e])()}}(o,p),1===p[di].type&&p[Gi].destroy();const L=p[Np];if(null!==L&&ra(p[as])){L!==p[as]&&g3(L,p);const ne=p[zu];null!==ne&&ne.detachView(o)}!function VA(o){Zv.delete(o[Xy])}(p)}finally{j(S)}}function b3(o,p,S){return xT(o,p.parent,S)}function xT(o,p,S){let L=p;for(;null!==L&&168&L.type;)L=(p=L).parent;if(null===L)return S[Ko];{const{componentOffset:ne}=L;if(ne>-1){const{encapsulation:_e}=o.data[L.directiveStart+ne];if(_e===Mt.None||_e===Mt.Emulated)return null}return Zd(L,S)}}function bg(o,p,S,L,ne){o.insertBefore(p,S,L,ne)}function ST(o,p,S){o.appendChild(p,S)}function W4(o,p,S,L,ne){null!==L?bg(o,p,S,L,ne):ST(o,p,S)}function AT(o,p){return o.parentNode(p)}function wg(o,p,S){return CT(o,p,S)}function X4(o,p,S){return 40&o.type?Zd(o,S):null}let w3,CT=X4;function MT(o,p){CT=o,w3=p}function ZE(o,p,S,L){const ne=b3(o,L,p),_e=p[Gi],et=wg(L.parent||p[$l],L,p);if(null!=ne)if(Array.isArray(S))for(let yt=0;yt<S.length;yt++)W4(_e,ne,S[yt],et,!1);else W4(_e,ne,S,et,!1);void 0!==w3&&w3(_e,L,p,S,ne)}function _g(o,p){if(null!==p){const S=p.type;if(3&S)return Zd(p,o);if(4&S)return E3(-1,o[p.index]);if(8&S){const L=p.child;if(null!==L)return _g(o,L);{const ne=o[p.index];return ra(ne)?E3(-1,ne):ia(ne)}}if(128&S)return _g(o,p.next);if(32&S)return p3(p,o)()||ia(o[p.index]);{const L=_3(o,p);return null!==L?Array.isArray(L)?L[0]:_g(ps(o[wc]),L):_g(o,p.next)}}return null}function _3(o,p){return null!==p?o[wc][$l].projection[p.projection]:null}function E3(o,p){const S=cl+o+1;if(S<p.length){const L=p[S],ne=L[di].firstChild;if(null!==ne)return _g(L,ne)}return p[Cd]}function x3(o,p,S,L,ne,_e,Fe){for(;null!=S;){if(128===S.type){S=S.next;continue}const et=L[S.index],yt=S.type;if(Fe&&0===p&&(et&&Aa(ia(et),L),S.flags|=2),32&~S.flags)if(8&yt)x3(o,p,S.child,L,ne,_e,!1),eu(p,o,ne,et,_e);else if(32&yt){const $t=p3(S,L);let Qt;for(;Qt=$t();)eu(p,o,ne,Qt,_e);eu(p,o,ne,et,_e)}else 16&yt?IT(o,p,L,S,ne,_e):eu(p,o,ne,et,_e);S=Fe?S.projectionNext:S.next}}function YE(o,p,S,L,ne,_e){x3(S,L,o.firstChild,p,ne,_e,!1)}function IT(o,p,S,L,ne,_e){const Fe=S[wc],yt=Fe[$l].projection[L.projection];if(Array.isArray(yt))for(let $t=0;$t<yt.length;$t++)eu(p,o,ne,yt[$t],_e);else{let $t=yt;const Qt=Fe[as];cg(L)&&($t.flags|=128),x3(o,p,$t,Qt,ne,_e,!0)}}function S3(o,p,S){""===S?o.removeAttribute(p,"class"):o.setAttribute(p,"class",S)}function TT(o,p,S){const{mergedAttrs:L,classes:ne,styles:_e}=S;null!==L&&cn(o,p,L),null!==ne&&S3(o,p,ne),null!==_e&&function J4(o,p,S){o.setAttribute(p,"style",S)}(o,p,_e)}const is={};function DT(o=1){RT(Es(),Br(),td()+o,!1)}function RT(o,p,S,L){if(!L)if(3&~p[uo]){const _e=o.preOrderHooks;null!==_e&&D0(p,_e,0,S)}else{const _e=o.preOrderCheckHooks;null!==_e&&Uv(p,_e,S)}T0(S)}function hb(o,p=To.Default){const S=Br();return null===S?vo(o,p):CA(Hs(),S,Fi(o),p)}function pb(){throw new Error("invalid")}function OT(o,p,S,L,ne,_e){const Fe=j(null);try{let et=null;ne&rn.SignalBased&&(et=p[L][M]),null!==et&&void 0!==et.transformFn&&(_e=et.transformFn(_e)),ne&rn.HasDecoratorInputTransform&&(_e=o.inputTransforms[L].call(p,_e)),null!==o.setInput?o.setInput(p,et,_e,S,L):j1(p,et,L,_e)}finally{j(Fe)}}function JE(o,p,S,L,ne,_e,Fe,et,yt,$t,Qt){const Sn=p.blueprint.slice();return Sn[Ko]=ne,Sn[uo]=204|L,(null!==$t||o&&2048&o[uo])&&(Sn[uo]|=2048),z2(Sn),Sn[as]=Sn[Am]=o,Sn[za]=S,Sn[gh]=Fe||o&&o[gh],Sn[Gi]=et||o&&o[Gi],Sn[zs]=yt||o&&o[zs]||null,Sn[$l]=_e,Sn[Xy]=function $A(){return jA++}(),Sn[Ds]=Qt,Sn[UI]=$t,Sn[wc]=2==p.type?o[wc]:Sn,Sn}function Eg(o,p,S,L,ne){let _e=o.data[p];if(null===_e)_e=A3(o,p,S,L,ne),function bA(){return Fo.lFrame.inI18n}()&&(_e.flags|=32);else if(64&_e.type){_e.type=S,_e.value=L,_e.attrs=ne;const Fe=I0();_e.injectorIndex=null===Fe?-1:Fe.injectorIndex}return Zf(_e,!0),_e}function A3(o,p,S,L,ne){const _e=Xu(),Fe=H1(),yt=o.data[p]=function o5(o,p,S,L,ne,_e){let Fe=p?p.injectorIndex:-1,et=0;return wf()&&(et|=128),{type:S,index:L,insertBeforeIndex:null,injectorIndex:Fe,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:et,providerIndexes:0,value:ne,attrs:_e,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:p,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,Fe?_e:_e&&_e.parent,S,p,L,ne);return null===o.firstChild&&(o.firstChild=yt),null!==_e&&(Fe?null==_e.child&&null!==yt.parent&&(_e.child=yt):null===_e.next&&(_e.next=yt,yt.prev=_e)),yt}function Vw(o,p,S,L){if(0===S)return-1;const ne=p.length;for(let _e=0;_e<S;_e++)p.push(L),o.blueprint.push(L),o.data.push(null);return ne}function PT(o,p,S,L,ne){const _e=td(),Fe=2&L;try{T0(-1),Fe&&p.length>no&&RT(o,p,no,!1),Wu(Fe?2:0,ne),S(L,ne)}finally{T0(_e),Wu(Fe?3:1,ne)}}function C3(o,p,S){if(U2(p)){const L=j(null);try{const _e=p.directiveEnd;for(let Fe=p.directiveStart;Fe<_e;Fe++){const et=o.data[Fe];et.contentQueries&&et.contentQueries(1,S[Fe],Fe)}}finally{j(L)}}}function M3(o,p,S){Tm()&&(function f5(o,p,S,L){const ne=S.directiveStart,_e=S.directiveEnd;Hu(S)&&function v5(o,p,S){const L=Zd(p,o),ne=zp(S);let Fe=16;S.signals?Fe=4096:S.onPush&&(Fe=64);const et=QE(o,JE(o,ne,null,Fe,L,p,null,o[gh].rendererFactory.createRenderer(L,S),null,null,null));o[p.index]=et}(p,S,o.data[ne+S.componentOffset]),o.firstCreatePass||Yf(S,p),Aa(L,p);const Fe=S.initialInputs;for(let et=ne;et<_e;et++){const yt=o.data[et],$t=$m(p,o,et,S);Aa($t,p),null!==Fe&&b5(0,et-ne,$t,yt,0,Fe),bh(yt)&&(Gu(S.index,p)[za]=$m(p,o,et,S))}}(o,p,S,Zd(S,p)),!(64&~S.flags)&&O3(o,p,S))}function I3(o,p,S=Zd){const L=p.localNames;if(null!==L){let ne=p.index+1;for(let _e=0;_e<L.length;_e+=2){const Fe=L[_e+1],et=-1===Fe?S(p,o):o[Fe];o[ne++]=et}}}function zp(o){const p=o.tView;return null===p||p.incompleteFirstPass?o.tView=T3(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):p}function T3(o,p,S,L,ne,_e,Fe,et,yt,$t,Qt){const Sn=no+L,Hn=Sn+ne,Yn=function Q4(o,p){const S=[];for(let L=0;L<p;L++)S.push(L<o?null:is);return S}(Sn,Hn),ur="function"==typeof $t?$t():$t;return Yn[di]={type:o,blueprint:Yn,template:S,queries:null,viewQuery:et,declTNode:p,data:Yn.slice().fill(null,Sn),bindingStartIndex:Sn,expandoStartIndex:Hn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _e?_e():_e,pipeRegistry:"function"==typeof Fe?Fe():Fe,firstChild:null,schemas:yt,consts:ur,incompleteFirstPass:!1,ssrId:Qt}}let kT=()=>null;function BT(o,p,S,L,ne){for(let _e in p){if(!p.hasOwnProperty(_e))continue;const Fe=p[_e];if(void 0===Fe)continue;L??={};let et,yt=rn.None;Array.isArray(Fe)?(et=Fe[0],yt=Fe[1]):et=Fe;let $t=_e;if(null!==ne){if(!ne.hasOwnProperty(_e))continue;$t=ne[_e]}0===o?NT(L,S,$t,et,yt):NT(L,S,$t,et)}return L}function NT(o,p,S,L,ne){let _e;o.hasOwnProperty(S)?(_e=o[S]).push(p,L):_e=o[S]=[p,L],void 0!==ne&&_e.push(ne)}function Af(o,p,S,L,ne,_e,Fe,et){const yt=Zd(p,S);let Qt,$t=p.inputs;!et&&null!=$t&&(Qt=$t[L])?(L3(o,S,Qt,L,ne),Hu(p)&&function c5(o,p){const S=Gu(p,o);16&S[uo]||(S[uo]|=64)}(S,p.index)):3&p.type&&(L=function a5(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(L),ne=null!=Fe?Fe(ne,p.value||"",L):ne,_e.setProperty(yt,L,ne))}function D3(o,p,S,L){if(Tm()){const ne=null===L?null:{"":-1},_e=function p5(o,p){const S=o.directiveRegistry;let L=null,ne=null;if(S)for(let _e=0;_e<S.length;_e++){const Fe=S[_e];if(Lo(p,Fe.selectors,!1))if(L||(L=[]),bh(Fe))if(null!==Fe.findHostDirectiveDefs){const et=[];ne=ne||new Map,Fe.findHostDirectiveDefs(Fe,et,ne),L.unshift(...et,Fe),qE(o,p,et.length)}else L.unshift(Fe),qE(o,p,0);else ne=ne||new Map,Fe.findHostDirectiveDefs?.(Fe,L,ne),L.push(Fe)}return null===L?null:[L,ne]}(o,S);let Fe,et;null===_e?Fe=et=null:[Fe,et]=_e,null!==Fe&&R3(o,p,S,Fe,ne,et),ne&&function P3(o,p,S){if(p){const L=o.localNames=[];for(let ne=0;ne<p.length;ne+=2){const _e=S[p[ne+1]];if(null==_e)throw new kr(-301,!1);L.push(p[ne],_e)}}}(S,L,ne)}S.mergedAttrs=Qr(S.mergedAttrs,S.attrs)}function R3(o,p,S,L,ne,_e){for(let $t=0;$t<L.length;$t++)Um(Yf(S,p),o,L[$t].type);!function y5(o,p,S){o.flags|=1,o.directiveStart=p,o.directiveEnd=p+S,o.providerIndexes=p}(S,o.data.length,L.length);for(let $t=0;$t<L.length;$t++){const Qt=L[$t];Qt.providersResolver&&Qt.providersResolver(Qt)}let Fe=!1,et=!1,yt=Vw(o,p,L.length,null);for(let $t=0;$t<L.length;$t++){const Qt=L[$t];S.mergedAttrs=Qr(S.mergedAttrs,Qt.hostAttrs),g5(o,S,p,yt,Qt),m5(yt,Qt,ne),null!==Qt.contentQueries&&(S.flags|=4),(null!==Qt.hostBindings||null!==Qt.hostAttrs||0!==Qt.hostVars)&&(S.flags|=64);const Sn=Qt.type.prototype;!Fe&&(Sn.ngOnChanges||Sn.ngOnInit||Sn.ngDoCheck)&&((o.preOrderHooks??=[]).push(S.index),Fe=!0),!et&&(Sn.ngOnChanges||Sn.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(S.index),et=!0),yt++}!function s5(o,p,S){const ne=p.directiveEnd,_e=o.data,Fe=p.attrs,et=[];let yt=null,$t=null;for(let Qt=p.directiveStart;Qt<ne;Qt++){const Sn=_e[Qt],Hn=S?S.get(Sn):null,ur=Hn?Hn.outputs:null;yt=BT(0,Sn.inputs,Qt,yt,Hn?Hn.inputs:null),$t=BT(1,Sn.outputs,Qt,$t,ur);const Nr=null===yt||null===Fe||io(p)?null:w5(yt,Qt,Fe);et.push(Nr)}null!==yt&&(yt.hasOwnProperty("class")&&(p.flags|=8),yt.hasOwnProperty("style")&&(p.flags|=16)),p.initialInputs=et,p.inputs=yt,p.outputs=$t}(o,S,_e)}function O3(o,p,S){const L=S.directiveStart,ne=S.directiveEnd,_e=S.index,Fe=function _A(){return Fo.lFrame.currentDirectiveIndex}();try{T0(_e);for(let et=L;et<ne;et++){const yt=o.data[et],$t=p[et];G1(et),(null!==yt.hostBindings||0!==yt.hostVars||null!==yt.hostAttrs)&&h5(yt,$t)}}finally{T0(-1),G1(Fe)}}function h5(o,p){null!==o.hostBindings&&o.hostBindings(1,p)}function qE(o,p,S){p.componentOffset=S,(o.components??=[]).push(p.index)}function m5(o,p,S){if(S){if(p.exportAs)for(let L=0;L<p.exportAs.length;L++)S[p.exportAs[L]]=o;bh(p)&&(S[""]=o)}}function g5(o,p,S,L,ne){o.data[L]=ne;const _e=ne.factory||(ne.factory=mf(ne.type)),Fe=new Bm(_e,bh(ne),hb);o.blueprint[L]=Fe,S[L]=Fe,function d5(o,p,S,L,ne){const _e=ne.hostBindings;if(_e){let Fe=o.hostBindingOpCodes;null===Fe&&(Fe=o.hostBindingOpCodes=[]);const et=~p.index;(function u5(o){let p=o.length;for(;p>0;){const S=o[--p];if("number"==typeof S&&S<0)return S}return 0})(Fe)!=et&&Fe.push(et),Fe.push(S,L,_e)}}(o,p,L,Vw(o,S,ne.hostVars,is),ne)}function Hp(o,p,S,L,ne,_e){const Fe=Zd(o,p);!function k3(o,p,S,L,ne,_e,Fe){if(null==_e)o.removeAttribute(p,ne,S);else{const et=null==Fe?Zi(_e):Fe(_e,L||"",ne);o.setAttribute(p,ne,et,S)}}(p[Gi],Fe,_e,o.value,S,L,ne)}function b5(o,p,S,L,ne,_e){const Fe=_e[p];if(null!==Fe)for(let et=0;et<Fe.length;)OT(L,S,Fe[et++],Fe[et++],Fe[et++],Fe[et++])}function w5(o,p,S){let L=null,ne=0;for(;ne<S.length;){const _e=S[ne];if(0!==_e)if(5!==_e){if("number"==typeof _e)break;if(o.hasOwnProperty(_e)){null===L&&(L=[]);const Fe=o[_e];for(let et=0;et<Fe.length;et+=3)if(Fe[et]===p){L.push(_e,Fe[et+1],Fe[et+2],S[ne+1]);break}}ne+=2}else ne+=2;else ne+=4}return L}function LT(o,p,S,L){return[o,!0,0,p,null,L,null,S,null,null]}function FT(o,p){const S=o.contentQueries;if(null!==S){const L=j(null);try{for(let ne=0;ne<S.length;ne+=2){const Fe=S[ne+1];if(-1!==Fe){const et=o.data[Fe];Qy(S[ne]),et.contentQueries(2,p[Fe],Fe)}}}finally{j(L)}}}function QE(o,p){return o[Wy]?o[Vu][Xf]=p:o[Wy]=p,o[Vu]=p,p}function B3(o,p,S){Qy(0);const L=j(null);try{p(o,S)}finally{j(L)}}function ex(o){return o[Sm]??=[]}function zw(o){return o.cleanup??=[]}function Hw(o,p,S){return(null===o||bh(o))&&(S=function K1(o){for(;Array.isArray(o);){if("object"==typeof o[F2])return o;o=o[Ko]}return null}(S[p.index])),S[Gi]}function xg(o,p){const S=o[zs],L=S?S.get(Sf,null):null;L&&L.handleError(p)}function L3(o,p,S,L,ne){for(let _e=0;_e<S.length;){const Fe=S[_e++],et=S[_e++],yt=S[_e++];OT(o.data[Fe],p[Fe],L,et,yt,ne)}}function $0(o,p,S){const L=Yy(p,o);!function wT(o,p,S){o.setValue(p,S)}(o[Gi],L,S)}function F3(o,p){const S=Gu(p,o),L=S[di];!function UT(o,p){for(let S=p.length;S<o.blueprint.length;S++)p.push(o.blueprint[S])}(L,S);const ne=S[Ko];null!==ne&&null===S[Ds]&&(S[Ds]=Tw(ne,S[zs])),U3(L,S,S[za])}function U3(o,p,S){Y1(p);try{const L=o.viewQuery;null!==L&&B3(1,L,S);const ne=o.template;null!==ne&&PT(o,p,ne,1,S),o.firstCreatePass&&(o.firstCreatePass=!1),p[zu]?.finishViewCreation(o),o.staticContentQueries&&FT(o,p),o.staticViewQueries&&B3(2,o.viewQuery,S);const _e=o.components;null!==_e&&function jT(o,p){for(let S=0;S<p.length;S++)F3(o,p[S])}(p,_e)}catch(L){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),L}finally{p[uo]&=-5,eg()}}function Ww(o,p,S,L){const ne=j(null);try{const _e=p.tView,yt=JE(o,_e,S,4096&o[uo]?4096:16,null,p,null,null,L?.injector??null,L?.embeddedViewInjector??null,L?.dehydratedView??null);yt[Np]=o[p.index];const Qt=o[zu];return null!==Qt&&(yt[zu]=Qt.createEmbeddedView(_e)),U3(_e,yt,S),yt}finally{j(ne)}}function $T(o,p){const S=cl+p;if(S<o.length)return o[S]}function iy(o,p){return!p||null===p.firstChild||cg(o)}function mb(o,p,S,L=!0){const ne=p[di];if(function z4(o,p,S,L){const ne=cl+L,_e=S.length;L>0&&(S[ne-1][Xf]=p),L<_e-cl?(p[Xf]=S[ne],Wf(S,cl+L,p)):(S.push(p),p[Xf]=null),p[as]=S;const Fe=p[Np];null!==Fe&&S!==Fe&&_T(Fe,p);const et=p[zu];null!==et&&et.insertView(o),V1(p),p[uo]|=128}(ne,p,o,S),L){const Fe=E3(S,o),et=p[Gi],yt=AT(et,o[Cd]);null!==yt&&function m3(o,p,S,L,ne,_e){L[Ko]=ne,L[$l]=p,YE(o,L,S,1,ne,_e)}(ne,o[$l],et,p,yt,Fe)}const _e=p[Ds];null!==_e&&null!==_e.firstChild&&(_e.firstChild=null)}function tx(o,p){const S=Kw(o,p);return void 0!==S&&XE(S[di],S),S}function Gw(o,p,S,L,ne=!1){for(;null!==S;){if(128===S.type){S=ne?S.projectionNext:S.next;continue}const _e=p[S.index];null!==_e&&L.push(ia(_e)),ra(_e)&&KT(_e,L);const Fe=S.type;if(8&Fe)Gw(o,p,S.child,L);else if(32&Fe){const et=p3(S,p);let yt;for(;yt=et();)L.push(yt)}else if(16&Fe){const et=_3(p,S);if(Array.isArray(et))L.push(...et);else{const yt=ps(p[wc]);Gw(yt[di],yt,et,L,!0)}}S=ne?S.projectionNext:S.next}return L}function KT(o,p){for(let S=cl;S<o.length;S++){const L=o[S],ne=L[di].firstChild;null!==ne&&Gw(L[di],L,ne,p)}o[Cd]!==o[Ko]&&p.push(o[Cd])}let nx=[];const j3={...V,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{Im(o.lView)},consumerOnSignalRead(){this.lView[hs]=this}},_5={...V,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{let p=ps(o.lView);for(;p&&!zT(p[di]);)p=ps(p);p&&wh(p)},consumerOnSignalRead(){this.lView[hs]=this}};function zT(o){return 2!==o.type}const E5=100;function oy(o,p=!0,S=0){const L=o[gh],ne=L.rendererFactory;ne.begin?.();try{!function x5(o,p){const S=Y2();try{Lv(!0),V3(o,p);let L=0;for(;Jy(o);){if(L===E5)throw new kr(103,!1);L++,V3(o,1)}}finally{Lv(S)}}(o,S)}catch(Fe){throw p&&xg(o,Fe),Fe}finally{ne.end?.(),L.inlineEffectRunner?.flush()}}function S5(o,p,S,L){const ne=p[uo];if(!(256&~ne))return;p[gh].inlineEffectRunner?.flush(),Y1(p);let et=!0,yt=null,$t=null;zT(o)?($t=function kk(o){return o[hs]??function Bk(o){const p=nx.pop()??Object.create(j3);return p.lView=o,p}(o)}(p),yt=re($t)):null===function R(){return x}()?(et=!1,$t=function nu(o){const p=o[hs]??Object.create(_5);return p.lView=o,p}(p),yt=re($t)):p[hs]&&(pe(p[hs]),p[hs]=null);try{z2(p),function J2(o){return Fo.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==S&&PT(o,p,S,2,L);const Qt=!(3&~ne);if(Qt){const Yn=o.preOrderCheckHooks;null!==Yn&&Uv(p,Yn,null)}else{const Yn=o.preOrderHooks;null!==Yn&&D0(p,Yn,0,null),Q1(p,0)}if(function Nk(o){for(let p=yw(o);null!==p;p=gw(p)){if(!(p[uo]&vh.HasTransplantedViews))continue;const S=p[Cm];for(let L=0;L<S.length;L++)wh(S[L])}}(p),K3(p,0),null!==o.contentQueries&&FT(o,p),Qt){const Yn=o.contentCheckHooks;null!==Yn&&Uv(p,Yn)}else{const Yn=o.contentHooks;null!==Yn&&D0(p,Yn,1),Q1(p,1)}!function q4(o,p){const S=o.hostBindingOpCodes;if(null!==S)try{for(let L=0;L<S.length;L++){const ne=S[L];if(ne<0)T0(~ne);else{const _e=ne,Fe=S[++L],et=S[++L];wA(Fe,_e),et(2,p[_e])}}}finally{T0(-1)}}(o,p);const Sn=o.components;null!==Sn&&z3(p,Sn,0);const Hn=o.viewQuery;if(null!==Hn&&B3(2,Hn,L),Qt){const Yn=o.viewCheckHooks;null!==Yn&&Uv(p,Yn)}else{const Yn=o.viewHooks;null!==Yn&&D0(p,Yn,2),Q1(p,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),p[ua]){for(const Yn of p[ua])Yn();p[ua]=null}p[uo]&=-73}catch(Qt){throw Im(p),Qt}finally{null!==$t&&(te($t,yt),et&&function VT(o){o.lView[hs]!==o&&(o.lView=null,nx.push(o))}($t)),eg()}}function K3(o,p){for(let S=yw(o);null!==S;S=gw(S))for(let L=cl;L<S.length;L++)A5(S[L],p)}function Lk(o,p,S){A5(Gu(p,o),S)}function A5(o,p){Mm(o)&&V3(o,p)}function V3(o,p){const L=o[di],ne=o[uo],_e=o[hs];let Fe=!!(0===p&&16&ne);if(Fe||=!!(64&ne&&0===p),Fe||=!!(1024&ne),Fe||=!(!_e?.dirty||!ue(_e)),Fe||=!1,_e&&(_e.dirty=!1),o[uo]&=-9217,Fe)S5(L,o,L.template,o[za]);else if(8192&ne){K3(o,1);const et=L.components;null!==et&&z3(o,et,1)}}function z3(o,p,S){for(let L=0;L<p.length;L++)Lk(o,p[L],S)}function yb(o,p){const S=Y2()?64:1088;for(o[gh].changeDetectionScheduler?.notify(p);o;){o[uo]|=S;const L=ps(o);if(ep(o)&&!L)return o;o=L}return null}class Sg{get rootNodes(){const p=this._lView,S=p[di];return Gw(S,p,S.firstChild,[])}constructor(p,S,L=!0){this._lView=p,this._cdRefInjectingView=S,this.notifyErrorHandler=L,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[za]}set context(p){this._lView[za]=p}get destroyed(){return!(256&~this._lView[uo])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const p=this._lView[as];if(ra(p)){const S=p[8],L=S?S.indexOf(this):-1;L>-1&&(Kw(p,L),Ct(S,L))}this._attachedToViewContainer=!1}XE(this._lView[di],this._lView)}onDestroy(p){z1(this._lView,p)}markForCheck(){yb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[uo]&=-129}reattach(){V1(this._lView),this._lView[uo]|=128}detectChanges(){this._lView[uo]|=1024,oy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new kr(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const p=ep(this._lView),S=this._lView[Np];null!==S&&!p&&g3(S,this._lView),y3(this._lView[di],this._lView)}attachToAppRef(p){if(this._attachedToViewContainer)throw new kr(902,!1);this._appRef=p;const S=ep(this._lView),L=this._lView[Np];null!==L&&!S&&_T(L,this._lView),V1(this._lView)}}let rx=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=I5}return o})();const C5=rx,M5=class extends C5{constructor(p,S,L){super(),this._declarationLView=p,this._declarationTContainer=S,this.elementRef=L}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(p,S){return this.createEmbeddedViewImpl(p,S)}createEmbeddedViewImpl(p,S,L){const ne=Ww(this._declarationLView,this._declarationTContainer,p,{embeddedViewInjector:S,dehydratedView:L});return new Sg(ne)}};function I5(){return ix(Hs(),Br())}function ix(o,p){return 4&o.type?new M5(p,o,ag(o,p)):null}function XT(o,p,S){const L=p.insertBeforeIndex,ne=Array.isArray(L)?L[0]:L;return null===ne?X4(o,0,S):ia(S[ne])}function ZT(o,p,S,L,ne){const _e=p.insertBeforeIndex;if(Array.isArray(_e)){let Fe=L,et=null;if(3&p.type||(et=Fe,Fe=ne),null!==Fe&&-1===p.componentOffset)for(let yt=1;yt<_e.length;yt++)bg(o,Fe,S[_e[yt]],et,!1)}}function YT(o,p){if(o.push(p),o.length>1)for(let S=o.length-2;S>=0;S--){const L=o[S];JT(L)||qT(L,p)&&null===k5(L)&&QT(L,p.index)}}function JT(o){return!(64&o.type)}function qT(o,p){return JT(p)||o.index>p.index}function k5(o){const p=o.insertBeforeIndex;return Array.isArray(p)?p[0]:p}function QT(o,p){const S=o.insertBeforeIndex;Array.isArray(S)?S[0]=p:(MT(XT,ZT),o.insertBeforeIndex=p)}function K0(o,p,S){const L=A3(o,S,64,null,null);return YT(p,L),L}function eD(o,p,S){o.index=0;const L=function Ag(o,p){const S=p[o.currentCaseLViewIndex];return null===S?S:S<0?~S:S}(p,S);o.removes=null!==L?p.remove[L]:it}function Z3(o){if(o.index<o.removes.length){const p=o.removes[o.index++];return p>0?o.lView[p]:(o.stack.push(o.index,o.removes),eD(o,o.lView[di].data[~p],o.lView),Z3(o))}return 0===o.stack.length?null:(o.removes=o.stack.pop(),o.index=o.stack.pop(),Z3(o))}function $k(){const o={stack:[],index:-1};return function p(S,L){for(o.lView=L;o.stack.length;)o.stack.pop();return eD(o,S.value,L),Z3.bind(null,o)}}let sD=()=>{},Q5=()=>null;function Cg(o,p){return Q5(o,p)}class Mg{}const e_=new go("",{providedIn:"root",factory:()=>!1}),yx=new go("");class nR{}class uD{}class iR{resolveComponentFactory(p){throw function rR(o){const p=Error(`No component factory found for ${Li(o)}.`);return p.ngComponent=o,p}(p)}}class Eb{static#e=this.NULL=new iR}class gx{}let oR=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function oC(){const o=Br(),S=Gu(Hs().index,o);return(ba(S)?S:o)[Gi]}()}return o})(),hD=(()=>{class o{static#e=this.\u0275prov=os({token:o,providedIn:"root",factory:()=>null})}return o})();const pD=new Set;function iu(o){pD.has(o)||(pD.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}var Dd=function(o){return o[o.EarlyRead=0]="EarlyRead",o[o.Write=1]="Write",o[o.MixedReadWrite=2]="MixedReadWrite",o[o.Read=3]="Read",o}(Dd||{});const mD={destroy(){}};function sC(o,p){!p&&zy();const S=p?.injector??Fr(Kl);return Qc(S)?(iu("NgAfterRender"),wx(o,S,!1,p?.phase??Dd.MixedReadWrite)):mD}function bx(o,p){!p&&zy();const S=p?.injector??Fr(Kl);return Qc(S)?(iu("NgAfterNextRender"),wx(o,S,!0,p?.phase??Dd.MixedReadWrite)):mD}function wx(o,p,S,L){const ne=function sR(o,p){if(o instanceof Function)switch(p){case Dd.EarlyRead:return{earlyRead:o};case Dd.Write:return{write:o};case Dd.MixedReadWrite:return{mixedReadWrite:o};case Dd.Read:return{read:o}}return o}(o,L),_e=p.get(xb),Fe=_e.handler??=new cR,et=[],yt=[],$t=()=>{for(const Yn of yt)Fe.unregister(Yn);Qt()},Qt=p.get($c).onDestroy($t);let Sn=0;const Hn=(Yn,ur)=>{if(!ur)return;const Nr=S?(...pi)=>(Sn--,Sn<1&&$t(),ur(...pi)):ur,oi=N1(p,()=>new aR(Yn,et,Nr));Fe.register(oi),yt.push(oi),Sn++};return Hn(Dd.EarlyRead,ne.earlyRead),Hn(Dd.Write,ne.write),Hn(Dd.MixedReadWrite,ne.mixedReadWrite),Hn(Dd.Read,ne.read),{destroy:$t}}class aR{constructor(p,S,L){this.phase=p,this.pipelinedArgs=S,this.callbackFn=L,this.zone=Fr(po),this.errorHandler=Fr(Sf,{optional:!0}),Fr(Mg,{optional:!0})?.notify(6)}invoke(){try{const p=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,p)}catch(p){this.errorHandler?.handleError(p)}}}class cR{constructor(){this.executingCallbacks=!1,this.buckets={[Dd.EarlyRead]:new Set,[Dd.Write]:new Set,[Dd.MixedReadWrite]:new Set,[Dd.Read]:new Set},this.deferredCallbacks=new Set}register(p){(this.executingCallbacks?this.deferredCallbacks:this.buckets[p.phase]).add(p)}unregister(p){this.buckets[p.phase].delete(p),this.deferredCallbacks.delete(p)}execute(){this.executingCallbacks=!0;for(const p of Object.values(this.buckets))for(const S of p)S.invoke();this.executingCallbacks=!1;for(const p of this.deferredCallbacks)this.buckets[p.phase].add(p);this.deferredCallbacks.clear()}destroy(){for(const p of Object.values(this.buckets))p.clear();this.deferredCallbacks.clear()}}let xb=(()=>{class o{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const S=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const L of S)L()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=os({token:o,providedIn:"root",factory:()=>new o})}return o})();function Wp(o){return!!Wi(o)}function Ab(o,p,S){let L=S?o.styles:null,ne=S?o.classes:null,_e=0;if(null!==p)for(let Fe=0;Fe<p.length;Fe++){const et=p[Fe];"number"==typeof et?_e=et:1==_e?ne=uf(ne,et):2==_e&&(L=uf(L,et+": "+p[++Fe]+";"))}S?o.styles=L:o.stylesWithoutHost=L,S?o.classes=ne:o.classesWithoutHost=ne}class Sx extends Eb{constructor(p){super(),this.ngModule=p}resolveComponentFactory(p){const S=$i(p);return new Cb(S,this.ngModule)}}function cC(o,p){const S=[];for(const L in o){if(!o.hasOwnProperty(L))continue;const ne=o[L];if(void 0===ne)continue;const _e=Array.isArray(ne),Fe=_e?ne[0]:ne;S.push(p?{propName:Fe,templateName:L,isSignal:!!((_e?ne[1]:rn.None)&rn.SignalBased)}:{propName:Fe,templateName:L})}return S}class Cb extends uD{get inputs(){const p=this.componentDef,S=p.inputTransforms,L=cC(p.inputs,!0);if(null!==S)for(const ne of L)S.hasOwnProperty(ne.propName)&&(ne.transform=S[ne.propName]);return L}get outputs(){return cC(this.componentDef.outputs,!1)}constructor(p,S){super(),this.componentDef=p,this.ngModule=S,this.componentType=p.type,this.selector=function It(o){return o.map(lt).join(",")}(p.selectors),this.ngContentSelectors=p.ngContentSelectors?p.ngContentSelectors:[],this.isBoundToModule=!!S}create(p,S,L,ne){const _e=j(null);try{let Fe=(ne=ne||this.ngModule)instanceof Ku?ne:ne?.injector;Fe&&null!==this.componentDef.getStandaloneInjector&&(Fe=this.componentDef.getStandaloneInjector(Fe)||Fe);const et=Fe?new $p(p,Fe):p,yt=et.get(gx,null);if(null===yt)throw new kr(407,!1);const $t=et.get(hD,null),Hn={rendererFactory:yt,sanitizer:$t,inlineEffectRunner:null,afterRenderEventManager:et.get(xb,null),changeDetectionScheduler:et.get(Mg,null)},Yn=yt.createRenderer(null,this.componentDef),ur=this.componentDef.selectors[0][0]||"div",Nr=L?function e5(o,p,S,L){const _e=L.get(kw,!1)||S===Mt.ShadowDom,Fe=o.selectRootElement(p,_e);return function t5(o){kT(o)}(Fe),Fe}(Yn,L,this.componentDef.encapsulation,et):GE(Yn,ur,function vD(o){const p=o.toLowerCase();return"svg"===p?vf:"math"===p?"math":null}(ur));let oi=512;this.componentDef.signals?oi|=4096:this.componentDef.onPush||(oi|=16);let pi=null;null!==Nr&&(pi=Tw(Nr,et,!0));const $r=T3(0,null,null,1,0,null,null,null,null,null,null),Po=JE(null,$r,null,oi,null,null,Hn,Yn,et,null,pi);let Gs,pc;Y1(Po);try{const Dl=this.componentDef;let lh,p1=null;Dl.findHostDirectiveDefs?(lh=[],p1=new Map,Dl.findHostDirectiveDefs(Dl,lh,p1),lh.push(Dl)):lh=[Dl];const Ny=function bD(o,p){const S=o[di],L=no;return o[L]=p,Eg(S,L,2,"#host",null)}(Po,Nr),lP=function t_(o,p,S,L,ne,_e,Fe){const et=ne[di];!function n_(o,p,S,L){for(const ne of o)p.mergedAttrs=Qr(p.mergedAttrs,ne.hostAttrs);null!==p.mergedAttrs&&(Ab(p,p.mergedAttrs,!0),null!==S&&TT(L,S,p))}(L,o,p,Fe);let yt=null;null!==p&&(yt=Tw(p,ne[zs]));const $t=_e.rendererFactory.createRenderer(p,S);let Qt=16;S.signals?Qt=4096:S.onPush&&(Qt=64);const Sn=JE(ne,zp(S),null,Qt,ne[o.index],o,_e,$t,null,null,yt);return et.firstCreatePass&&qE(et,o,L.length-1),QE(ne,Sn),ne[o.index]=Sn}(Ny,Nr,Dl,lh,Po,Hn,Yn);pc=Qi($r,no),Nr&&function r_(o,p,S,L){if(L)cn(o,S,["ng-version","18.1.4"]);else{const{attrs:ne,classes:_e}=function qt(o){const p=[],S=[];let L=1,ne=2;for(;L<o.length;){let _e=o[L];if("string"==typeof _e)2===ne?""!==_e&&p.push(_e,o[++L]):8===ne&&S.push(_e);else{if(!Gr(ne))break;ne=_e}L++}return{attrs:p,classes:S}}(p.selectors[0]);ne&&cn(o,S,ne),_e&&_e.length>0&&S3(o,S,_e.join(" "))}}(Yn,Dl,Nr,L),void 0!==S&&function lC(o,p,S){const L=o.projection=[];for(let ne=0;ne<p.length;ne++){const _e=S[ne];L.push(null!=_e?Array.from(_e):null)}}(pc,this.ngContentSelectors,S),Gs=function Ax(o,p,S,L,ne,_e){const Fe=Hs(),et=ne[di],yt=Zd(Fe,ne);R3(et,ne,Fe,S,null,L);for(let Qt=0;Qt<S.length;Qt++)Aa($m(ne,et,Fe.directiveStart+Qt,Fe),ne);O3(et,ne,Fe),yt&&Aa(yt,ne);const $t=$m(ne,et,Fe.directiveStart+Fe.componentOffset,Fe);if(o[za]=ne[za]=$t,null!==_e)for(const Qt of _e)Qt($t,p);return C3(et,Fe,ne),$t}(lP,Dl,lh,p1,Po,[wD]),U3($r,Po,null)}finally{eg()}return new Rd(this.componentType,Gs,ag(pc,Po),Po,pc)}finally{j(_e)}}}class Rd extends nR{constructor(p,S,L,ne,_e){super(),this.location=L,this._rootLView=ne,this._tNode=_e,this.previousInputValues=null,this.instance=S,this.hostView=this.changeDetectorRef=new Sg(ne,void 0,!1),this.componentType=p}setInput(p,S){const L=this._tNode.inputs;let ne;if(null!==L&&(ne=L[p])){if(this.previousInputValues??=new Map,this.previousInputValues.has(p)&&Object.is(this.previousInputValues.get(p),S))return;const _e=this._rootLView;L3(_e[di],_e,ne,p,S),this.previousInputValues.set(p,S),yb(Gu(this._tNode.index,_e),1)}}get injector(){return new Jc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(p){this.hostView.onDestroy(p)}}function wD(){const o=Hs();km(Br()[di],o)}let ay=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Rg}return o})();function Rg(){return Og(Hs(),Br())}const Gk=ay,_D=class extends Gk{constructor(p,S,L){super(),this._lContainer=p,this._hostTNode=S,this._hostLView=L}get element(){return ag(this._hostTNode,this._hostLView)}get injector(){return new Jc(this._hostTNode,this._hostLView)}get parentInjector(){const p=Kv(this._hostTNode,this._hostLView);if(Nm(p)){const S=Ks(p,this._hostLView),L=tg(p);return new Jc(S[di].data[L+8],S)}return new Jc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(p){const S=i_(this._lContainer);return null!==S&&S[p]||null}get length(){return this._lContainer.length-cl}createEmbeddedView(p,S,L){let ne,_e;"number"==typeof L?ne=L:null!=L&&(ne=L.index,_e=L.injector);const Fe=Cg(this._lContainer,p.ssrId),et=p.createEmbeddedViewImpl(S||{},_e,Fe);return this.insertImpl(et,ne,iy(this._hostTNode,Fe)),et}createComponent(p,S,L,ne,_e){const Fe=p&&!function Qh(o){return"function"==typeof o}(p);let et;if(Fe)et=S;else{const ur=S||{};et=ur.index,L=ur.injector,ne=ur.projectableNodes,_e=ur.environmentInjector||ur.ngModuleRef}const yt=Fe?p:new Cb($i(p)),$t=L||this.parentInjector;if(!_e&&null==yt.ngModule){const Nr=(Fe?$t:this.parentInjector).get(Ku,null);Nr&&(_e=Nr)}const Qt=$i(yt.componentType??{}),Sn=Cg(this._lContainer,Qt?.id??null),Yn=yt.create($t,ne,Sn?.firstChild??null,_e);return this.insertImpl(Yn.hostView,et,iy(this._hostTNode,Sn)),Yn}insert(p,S){return this.insertImpl(p,S,!0)}insertImpl(p,S,L){const ne=p._lView;if(function V2(o){return ra(o[as])}(ne)){const et=this.indexOf(p);if(-1!==et)this.detach(et);else{const yt=ne[as],$t=new _D(yt,yt[$l],yt[as]);$t.detach($t.indexOf(p))}}const _e=this._adjustIndex(S),Fe=this._lContainer;return mb(Fe,ne,_e,L),p.attachToViewContainerRef(),Wf(Cf(Fe),_e,p),p}move(p,S){return this.insert(p,S)}indexOf(p){const S=i_(this._lContainer);return null!==S?S.indexOf(p):-1}remove(p){const S=this._adjustIndex(p,-1),L=Kw(this._lContainer,S);L&&(Ct(Cf(this._lContainer),S),XE(L[di],L))}detach(p){const S=this._adjustIndex(p,-1),L=Kw(this._lContainer,S);return L&&null!=Ct(Cf(this._lContainer),S)?new Sg(L):null}_adjustIndex(p,S=0){return p??this.length+S}};function i_(o){return o[8]}function Cf(o){return o[8]||(o[8]=[])}function Og(o,p){let S;const L=p[o.index];return ra(L)?S=L:(S=LT(L,p,null,o),p[o.index]=S,QE(p,S)),o_(S,p,o,L),new _D(S,o,p)}let o_=function cp(o,p,S,L){if(o[Cd])return;let ne;ne=8&S.type?ia(L):function dC(o,p){const S=o[Gi],L=S.createComment(""),ne=Zd(p,o);return bg(S,AT(S,ne),L,function G4(o,p){return o.nextSibling(p)}(S,ne),!1),L}(p,S),o[Cd]=ne},uC=()=>!1;class xu{constructor(p){this.queryList=p,this.matches=null}clone(){return new xu(this.queryList)}setDirty(){this.queryList.setDirty()}}class fC{constructor(p=[]){this.queries=p}createEmbeddedView(p){const S=p.queries;if(null!==S){const L=null!==p.contentQueries?p.contentQueries[0]:S.length,ne=[];for(let _e=0;_e<L;_e++){const Fe=S.getByIndex(_e);ne.push(this.queries[Fe.indexInDeclarationView].clone())}return new fC(ne)}return null}insertView(p){this.dirtyQueriesWithMatches(p)}detachView(p){this.dirtyQueriesWithMatches(p)}finishViewCreation(p){this.dirtyQueriesWithMatches(p)}dirtyQueriesWithMatches(p){for(let S=0;S<this.queries.length;S++)null!==Mb(p,S).matches&&this.queries[S].setDirty()}}class ou{constructor(p,S,L=null){this.flags=S,this.read=L,this.predicate="string"==typeof p?function mC(o){return o.split(",").map(p=>p.trim())}(p):p}}class hC{constructor(p=[]){this.queries=p}elementStart(p,S){for(let L=0;L<this.queries.length;L++)this.queries[L].elementStart(p,S)}elementEnd(p){for(let S=0;S<this.queries.length;S++)this.queries[S].elementEnd(p)}embeddedTView(p){let S=null;for(let L=0;L<this.length;L++){const ne=null!==S?S.length:0,_e=this.getByIndex(L).embeddedTView(p,ne);_e&&(_e.indexInDeclarationView=L,null!==S?S.push(_e):S=[_e])}return null!==S?new hC(S):null}template(p,S){for(let L=0;L<this.queries.length;L++)this.queries[L].template(p,S)}getByIndex(p){return this.queries[p]}get length(){return this.queries.length}track(p){this.queries.push(p)}}class Ao{constructor(p,S=-1){this.metadata=p,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=S}elementStart(p,S){this.isApplyingToNode(S)&&this.matchTNode(p,S)}elementEnd(p){this._declarationNodeIndex===p.index&&(this._appliesToNextNode=!1)}template(p,S){this.elementStart(p,S)}embeddedTView(p,S){return this.isApplyingToNode(p)?(this.crossesNgTemplate=!0,this.addMatch(-p.index,S),new Ao(this.metadata)):null}isApplyingToNode(p){if(this._appliesToNextNode&&1&~this.metadata.flags){const S=this._declarationNodeIndex;let L=p.parent;for(;null!==L&&8&L.type&&L.index!==S;)L=L.parent;return S===(null!==L?L.index:-1)}return this._appliesToNextNode}matchTNode(p,S){const L=this.metadata.predicate;if(Array.isArray(L))for(let ne=0;ne<L.length;ne++){const _e=L[ne];this.matchTNodeWithReadOption(p,S,Xi(S,_e)),this.matchTNodeWithReadOption(p,S,jm(S,p,_e,!1,!1))}else L===rx?4&S.type&&this.matchTNodeWithReadOption(p,S,-1):this.matchTNodeWithReadOption(p,S,jm(S,p,L,!1,!1))}matchTNodeWithReadOption(p,S,L){if(null!==L){const ne=this.metadata.read;if(null!==ne)if(ne===Al||ne===ay||ne===rx&&4&S.type)this.addMatch(S.index,-2);else{const _e=jm(S,p,ne,!1,!1);null!==_e&&this.addMatch(S.index,_e)}else this.addMatch(S.index,L)}}addMatch(p,S){null===this.matches?this.matches=[p,S]:this.matches.push(p,S)}}function Xi(o,p){const S=o.localNames;if(null!==S)for(let L=0;L<S.length;L+=2)if(S[L]===p)return S[L+1];return null}function ly(o,p,S,L){return-1===S?function cy(o,p){return 11&o.type?ag(o,p):4&o.type?ix(o,p):null}(p,o):-2===S?function Cx(o,p,S){return S===Al?ag(p,o):S===rx?ix(p,o):S===ay?Og(p,o):void 0}(o,p,L):$m(o,o[di],S,p)}function s_(o,p,S,L){const ne=p[zu].queries[L];if(null===ne.matches){const _e=o.data,Fe=S.matches,et=[];for(let yt=0;null!==Fe&&yt<Fe.length;yt+=2){const $t=Fe[yt];et.push($t<0?null:ly(p,_e[$t],Fe[yt+1],S.metadata.read))}ne.matches=et}return ne.matches}function Mx(o,p,S,L){const ne=o.queries.getByIndex(S),_e=ne.matches;if(null!==_e){const Fe=s_(o,p,ne,S);for(let et=0;et<_e.length;et+=2){const yt=_e[et];if(yt>0)L.push(Fe[et/2]);else{const $t=_e[et+1],Qt=p[-yt];for(let Sn=cl;Sn<Qt.length;Sn++){const Hn=Qt[Sn];Hn[Np]===Hn[as]&&Mx(Hn[di],Hn,$t,L)}if(null!==Qt[Cm]){const Sn=Qt[Cm];for(let Hn=0;Hn<Sn.length;Hn++){const Yn=Sn[Hn];Mx(Yn[di],Yn,$t,L)}}}}}return L}function pC(o,p){return o[zu].queries[p].queryList}function Ix(o,p,S){const L=new Gv(!(4&~S));return function i5(o,p,S,L){const ne=ex(p);ne.push(S),o.firstCreatePass&&zw(o).push(L,ne.length-1)}(o,p,L,L.destroy),(p[zu]??=new fC).queries.push(new xu(L))-1}function ED(o,p,S){const L=Es();return L.firstCreatePass&&(Oh(L,new ou(o,p,S),-1),!(2&~p)&&(L.staticViewQueries=!0)),Ix(L,Br(),p)}function Jo(o,p,S,L){const ne=Es();if(ne.firstCreatePass){const _e=Hs();Oh(ne,new ou(p,S,L),_e.index),function yC(o,p){const S=o.contentQueries||(o.contentQueries=[]);p!==(S.length?S[S.length-1]:-1)&&S.push(o.queries.length-1,p)}(ne,o),!(2&~S)&&(ne.staticContentQueries=!0)}return Ix(ne,Br(),S)}function Oh(o,p,S){null===o.queries&&(o.queries=new hC),o.queries.track(new Ao(p,S))}function Mb(o,p){return o.queries.getByIndex(p)}function Qf(o,p){const S=o[di],L=Mb(S,p);return L.crossesNgTemplate?Mx(S,o,p,[]):s_(S,o,L,p)}function Wt(o){return"function"==typeof o&&void 0!==o[M]}function Ga(o,p){iu("NgSignals");const S=function E(o){const p=Object.create(Ke);p.value=o;const S=()=>(P(p),p.value);return S[M]=p,S}(o),L=S[M];return p?.equal&&(L.equal=p.equal),S.set=ne=>ce(L,ne),S.update=ne=>function me(o,p){de()||$(),ce(o,p(o.value))}(L,ne),S.asReadonly=ri.bind(S),S}function ri(){const o=this[M];if(void 0===o.readonlyFn){const p=()=>this();p[M]=o,o.readonlyFn=p}return o.readonlyFn}function gC(o){return Wt(o)&&"function"==typeof o.set}function Tx(o,p){let S;const L=B(()=>{S._dirtyCounter();const ne=function Si(o,p){const S=o._lView,L=o._queryIndex;if(void 0===S||void 0===L||4&S[uo])return p?void 0:it;const ne=pC(S,L),_e=Qf(S,L);return ne.reset(_e,Wv),p?ne.first:ne._changesDetected||void 0===o._flatValue?o._flatValue=ne.toArray():o._flatValue}(S,o);if(p&&void 0===ne)throw new kr(-951,!1);return ne});return S=L[M],S._dirtyCounter=Ga(0),S._flatValue=void 0,L}function eo(){return Tx(!0,!1)}function lp(){return Tx(!0,!0)}function bi(o,p){const S=o[M];S._lView=Br(),S._queryIndex=p,S._queryList=pC(S._lView,p),S._queryList.onDirty(()=>S._dirtyCounter.update(L=>L+1))}function Uo(o,p){return eo()}const Ho=(Uo.required=function zo(o,p){return lp()},Uo);function jo(o,p){return eo()}const gr=(jo.required=function Wo(o,p){return lp()},jo);function vC(o){const p=Object.create(ds),S=new sg;function L(){return P(p),bC(p.value),p.value}return p.value=o,L[M]=p,L.asReadonly=ri.bind(L),L.set=ne=>{p.equal(p.value,ne)||(ce(p,ne),S.emit(ne))},L.update=ne=>{bC(p.value),L.set(ne(p.value))},L.subscribe=S.subscribe.bind(S),L.destroyRef=S.destroyRef,L}function bC(o){if(o===Ua)throw new kr(952,!1)}function id(o){return vC(o)}const su=(id.required=function oa(){return vC(Ua)},id);function Ox(o){let p=function SC(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),S=!0;const L=[o];for(;p;){let ne;if(bh(o))ne=p.\u0275cmp||p.\u0275dir;else{if(p.\u0275cmp)throw new kr(903,!1);ne=p.\u0275dir}if(ne){if(S){L.push(ne);const Fe=o;Fe.inputs=Px(o.inputs),Fe.inputTransforms=Px(o.inputTransforms),Fe.declaredInputs=Px(o.declaredInputs),Fe.outputs=Px(o.outputs);const et=ne.hostBindings;et&&AC(o,et);const yt=ne.viewQuery,$t=ne.contentQueries;if(yt&&hR(o,yt),$t&&pR(o,$t),dy(o,ne),ju(o.outputs,ne.outputs),bh(ne)&&ne.data.animation){const Qt=o.data;Qt.animation=(Qt.animation||[]).concat(ne.data.animation)}}const _e=ne.features;if(_e)for(let Fe=0;Fe<_e.length;Fe++){const et=_e[Fe];et&&et.ngInherit&&et(o),et===Ox&&(S=!1)}}p=Object.getPrototypeOf(p)}!function fR(o){let p=0,S=null;for(let L=o.length-1;L>=0;L--){const ne=o[L];ne.hostVars=p+=ne.hostVars,ne.hostAttrs=Qr(ne.hostAttrs,S=Qr(S,ne.hostAttrs))}}(L)}function dy(o,p){for(const S in p.inputs){if(!p.inputs.hasOwnProperty(S)||o.inputs.hasOwnProperty(S))continue;const L=p.inputs[S];if(void 0!==L&&(o.inputs[S]=L,o.declaredInputs[S]=p.declaredInputs[S],null!==p.inputTransforms)){const ne=Array.isArray(L)?L[0]:L;if(!p.inputTransforms.hasOwnProperty(ne))continue;o.inputTransforms??={},o.inputTransforms[ne]=p.inputTransforms[ne]}}}function Px(o){return o===vr?{}:o===it?[]:o}function hR(o,p){const S=o.viewQuery;o.viewQuery=S?(L,ne)=>{p(L,ne),S(L,ne)}:p}function pR(o,p){const S=o.contentQueries;o.contentQueries=S?(L,ne,_e)=>{p(L,ne,_e),S(L,ne,_e)}:p}function AC(o,p){const S=o.hostBindings;o.hostBindings=S?(L,ne)=>{p(L,ne),S(L,ne)}:p}function CC(o){const p=S=>{const L=(Array.isArray(o)?o:o()).map(ne=>"function"==typeof ne?{directive:Fi(ne),inputs:vr,outputs:vr}:{directive:Fi(ne.directive),inputs:CD(ne.inputs),outputs:CD(ne.outputs)});null===S.hostDirectives?(S.findHostDirectiveDefs=MC,S.hostDirectives=L):S.hostDirectives.unshift(...L)};return p.ngInherit=!0,p}function MC(o,p,S){if(null!==o.hostDirectives)for(const L of o.hostDirectives){const ne=xa(L.directive);vR(ne.declaredInputs,L.inputs),MC(ne,p,S),S.set(ne,L),p.push(ne)}}function CD(o){if(void 0===o||0===o.length)return vr;const p={};for(let S=0;S<o.length;S+=2)p[o[S]]=o[S+1];return p}function vR(o,p){for(const S in p)p.hasOwnProperty(S)&&(o[p[S]]=o[S])}function Pg(o){const p=o.inputConfig,S={};for(const L in p)if(p.hasOwnProperty(L)){const ne=p[L];Array.isArray(ne)&&ne[3]&&(S[L]=ne[3])}o.inputTransforms=S}class eh{}class c_{}function cu(o,p){return new kg(o,p??null,[])}class kg extends eh{constructor(p,S,L){super(),this._parent=S,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sx(this);const ne=Wi(p);this._bootstrapComponents=Ih(ne.bootstrap),this._r3Injector=sw(p,S,[{provide:eh,useValue:this},{provide:Eb,useValue:this.componentFactoryResolver},...L],Li(p),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(p)}get injector(){return this._r3Injector}destroy(){const p=this._r3Injector;!p.destroyed&&p.destroy(),this.destroyCbs.forEach(S=>S()),this.destroyCbs=null}onDestroy(p){this.destroyCbs.push(p)}}class IC extends c_{constructor(p){super(),this.moduleType=p}create(p){return new kg(this.moduleType,p,[])}}class MD extends eh{constructor(p){super(),this.componentFactoryResolver=new Sx(this),this.instance=null;const S=new na([...p.providers,{provide:eh,useValue:this},{provide:Eb,useValue:this.componentFactoryResolver}],p.parent||Rv(),p.debugName,new Set(["environment"]));this.injector=S,p.runEnvironmentInitializers&&S.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(p){this.injector.onDestroy(p)}}function Ib(o,p,S=null){return new MD({providers:o,parent:p,debugName:S,runEnvironmentInitializers:!0}).injector}function z0(o){return!!Rs(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Rs(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function sd(o,p,S){return o[p]=S}function dl(o,p,S){return!Object.is(o[p],S)&&(o[p]=S,!0)}function uy(o,p,S,L){const ne=dl(o,p,S);return dl(o,p+1,L)||ne}function fy(o,p,S,L,ne,_e,Fe,et,yt,$t){const Qt=S+no,Sn=p.firstCreatePass?function kx(o,p,S,L,ne,_e,Fe,et,yt){const $t=p.consts,Qt=Eg(p,o,4,Fe||null,et||null);D3(p,S,Qt,Id($t,yt)),km(p,Qt);const Sn=Qt.tView=T3(2,Qt,L,ne,_e,p.directiveRegistry,p.pipeRegistry,null,p.schemas,$t,null);return null!==p.queries&&(p.queries.template(p,Qt),Sn.queries=p.queries.embeddedTView(Qt)),Qt}(Qt,p,o,L,ne,_e,Fe,et,yt):p.data[Qt];Zf(Sn,!1);const Hn=TD(p,o,Sn,S);ip()&&ZE(p,o,Hn,Sn),Aa(Hn,o);const Yn=LT(Hn,o,Hn,Sn);return o[Qt]=Yn,QE(o,Yn),function qu(o,p,S){return uC(o,p,S)}(Yn,Sn,o),Pv(Sn)&&M3(p,o,Sn),null!=yt&&I3(o,Sn,$t),Sn}function hy(o,p,S,L,ne,_e,Fe,et){const yt=Br(),$t=Es();return fy(yt,$t,o,p,S,L,ne,Id($t.consts,_e),Fe,et),hy}let TD=function TC(o,p,S,L){return xh(!0),p[Gi].createComment("")};function Nc(o,p,S,L){const ne=Br();return dl(ne,vu(),p)&&(Es(),Hp(So(),ne,o,p,S,L)),Nc}function zc(o,p,S,L){return dl(o,vu(),S)?p+Zi(S)+L:is}function nh(o,p,S,L,ne,_e){const et=uy(o,function Eh(){return Fo.lFrame.bindingIndex}(),S,ne);return _f(2),et?p+Zi(S)+L+Zi(ne)+_e:is}function Pd(o,p){return o<<17|p<<2}function Bh(o){return o>>17&32767}function Vg(o){return 2|o}function n0(o){return(131068&o)>>2}function Yx(o,p){return-131069&o|p<<2}function J0(o){return 1|o}function LC(o,p,S,L){const ne=o[S+1],_e=null===p;let Fe=L?Bh(ne):n0(ne),et=!1;for(;0!==Fe&&(!1===et||_e);){const $t=o[Fe+1];kb(o[Fe],p)&&(et=!0,o[Fe+1]=L?J0($t):Vg($t)),Fe=L?Bh($t):n0($t)}et&&(o[S+1]=L?Vg(ne):J0(ne))}function kb(o,p){return null===o||null==p||(Array.isArray(o)?o[1]:o)===p||!(!Array.isArray(o)||"string"!=typeof p)&&wr(o,p)>=0}const Tl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Nh(o){return o.substring(Tl.key,Tl.keyEnd)}function kd(o,p){const S=Tl.textEnd;return S===p?-1:(p=Tl.keyEnd=function Jx(o,p,S){for(;p<S&&o.charCodeAt(p)>32;)p++;return p}(o,Tl.key=p,S),_a(o,p,S))}function _a(o,p,S){for(;p<S&&o.charCodeAt(p)<=32;)p++;return p}function Qx(o,p,S){const L=Br();return dl(L,vu(),p)&&Af(Es(),So(),L,o,p,L[Gi],S,!1),Qx}function eS(o,p,S,L,ne){const Fe=ne?"class":"style";L3(o,S,p.inputs[Fe],Fe,L)}function vy(o,p,S){return Bd(o,p,S,!1),vy}function r0(o,p){return Bd(o,p,null,!0),r0}function x_(o){Fh(o0,hp,o,!0)}function hp(o,p){for(let S=function Tf(o){return function gy(o){Tl.key=0,Tl.keyEnd=0,Tl.value=0,Tl.valueEnd=0,Tl.textEnd=o.length}(o),kd(o,_a(o,0,Tl.textEnd))}(p);S>=0;S=kd(p,S))In(o,Nh(p),!0)}function Bd(o,p,S,L){const ne=Br(),_e=Es(),Fe=_f(2);_e.firstUpdatePass&&$C(_e,o,Fe,L),p!==is&&dl(ne,Fe,p)&&S_(_e,_e.data[td()],ne,ne[Gi],o,ne[Fe+1]=function Bb(o,p){return null==o||""===o||("string"==typeof p?o+=p:"object"==typeof o&&(o=Li(rr(o)))),o}(p,S),L,Fe)}function Fh(o,p,S,L){const ne=Es(),_e=_f(2);ne.firstUpdatePass&&$C(ne,null,_e,L);const Fe=Br();if(S!==is&&dl(Fe,_e,S)){const et=ne.data[td()];if(iS(et,L)&&!jC(ne,_e)){let yt=L?et.classesWithoutHost:et.stylesWithoutHost;null!==yt&&(S=uf(yt,S||"")),eS(ne,et,Fe,S,L)}else!function nS(o,p,S,L,ne,_e,Fe,et){ne===is&&(ne=it);let yt=0,$t=0,Qt=0<ne.length?ne[0]:null,Sn=0<_e.length?_e[0]:null;for(;null!==Qt||null!==Sn;){const Hn=yt<ne.length?ne[yt+1]:void 0,Yn=$t<_e.length?_e[$t+1]:void 0;let Nr,ur=null;Qt===Sn?(yt+=2,$t+=2,Hn!==Yn&&(ur=Sn,Nr=Yn)):null===Sn||null!==Qt&&Qt<Sn?(yt+=2,ur=Qt):($t+=2,ur=Sn,Nr=Yn),null!==ur&&S_(o,p,S,L,ur,Nr,Fe,et),Qt=yt<ne.length?ne[yt]:null,Sn=$t<_e.length?_e[$t]:null}}(ne,et,Fe,Fe[Gi],Fe[_e+1],Fe[_e+1]=function tS(o,p,S){if(null==S||""===S)return it;const L=[],ne=rr(S);if(Array.isArray(ne))for(let _e=0;_e<ne.length;_e++)o(L,ne[_e],!0);else if("object"==typeof ne)for(const _e in ne)ne.hasOwnProperty(_e)&&o(L,_e,ne[_e]);else"string"==typeof ne&&p(L,ne);return L}(o,p,S),L,_e)}}function jC(o,p){return p>=o.expandoStartIndex}function $C(o,p,S,L){const ne=o.data;if(null===ne[S+1]){const _e=ne[td()],Fe=jC(o,S);iS(_e,L)&&null===p&&!Fe&&(p=!1),p=function $D(o,p,S,L){const ne=X1(o);let _e=L?p.residualClasses:p.residualStyles;if(null===ne)0===(L?p.classBindings:p.styleBindings)&&(S=zg(S=pp(null,o,p,S,L),p.attrs,L),_e=null);else{const Fe=p.directiveStylingLast;if(-1===Fe||o[Fe]!==ne)if(S=pp(ne,o,p,S,L),null===_e){let yt=function KD(o,p,S){const L=S?p.classBindings:p.styleBindings;if(0!==n0(L))return o[Bh(L)]}(o,p,L);void 0!==yt&&Array.isArray(yt)&&(yt=pp(null,o,p,yt[1],L),yt=zg(yt,p.attrs,L),function KC(o,p,S,L){o[Bh(S?p.classBindings:p.styleBindings)]=L}(o,p,L,yt))}else _e=function by(o,p,S){let L;const ne=p.directiveEnd;for(let _e=1+p.directiveStylingLast;_e<ne;_e++)L=zg(L,o[_e].hostAttrs,S);return zg(L,p.attrs,S)}(o,p,L)}return void 0!==_e&&(L?p.residualClasses=_e:p.residualStyles=_e),S}(ne,_e,p,L),function __(o,p,S,L,ne,_e){let Fe=_e?p.classBindings:p.styleBindings,et=Bh(Fe),yt=n0(Fe);o[L]=S;let Qt,$t=!1;if(Array.isArray(S)?(Qt=S[1],(null===Qt||wr(S,Qt)>0)&&($t=!0)):Qt=S,ne)if(0!==yt){const Hn=Bh(o[et+1]);o[L+1]=Pd(Hn,et),0!==Hn&&(o[Hn+1]=Yx(o[Hn+1],L)),o[et+1]=function Pb(o,p){return 131071&o|p<<17}(o[et+1],L)}else o[L+1]=Pd(et,0),0!==et&&(o[et+1]=Yx(o[et+1],L)),et=L;else o[L+1]=Pd(yt,0),0===et?et=L:o[yt+1]=Yx(o[yt+1],L),yt=L;$t&&(o[L+1]=Vg(o[L+1])),LC(o,Qt,L,!0),LC(o,Qt,L,!1),function LD(o,p,S,L,ne){const _e=ne?o.residualClasses:o.residualStyles;null!=_e&&"string"==typeof p&&wr(_e,p)>=0&&(S[L+1]=J0(S[L+1]))}(p,Qt,o,L,_e),Fe=Pd(et,yt),_e?p.classBindings=Fe:p.styleBindings=Fe}(ne,_e,p,S,Fe,L)}}function pp(o,p,S,L,ne){let _e=null;const Fe=S.directiveEnd;let et=S.directiveStylingLast;for(-1===et?et=S.directiveStart:et++;et<Fe&&(_e=p[et],L=zg(L,_e.hostAttrs,ne),_e!==o);)et++;return null!==o&&(S.directiveStylingLast=et),L}function zg(o,p,S){const L=S?1:2;let ne=-1;if(null!==p)for(let _e=0;_e<p.length;_e++){const Fe=p[_e];"number"==typeof Fe?ne=Fe:ne===L&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),In(o,Fe,!!S||p[++_e]))}return void 0===o?null:o}function o0(o,p,S){const L=String(p);""!==L&&!L.includes(" ")&&In(o,L,S)}function S_(o,p,S,L,ne,_e,Fe,et){if(!(3&p.type))return;const yt=o.data,$t=yt[et+1],Qt=function Y0(o){return!(1&~o)}($t)?rS(yt,p,S,ne,n0($t),Fe):void 0;Uh(Qt)||(Uh(_e)||function ad(o){return!(2&~o)}($t)&&(_e=rS(yt,null,S,ne,et,Fe)),function Y4(o,p,S,L,ne){if(p)ne?o.addClass(S,L):o.removeClass(S,L);else{let _e=-1===L.indexOf("-")?void 0:WE.DashCase;null==ne?o.removeStyle(S,L,_e):("string"==typeof ne&&ne.endsWith("!important")&&(ne=ne.slice(0,-10),_e|=WE.Important),o.setStyle(S,L,ne,_e))}}(L,Fe,Yy(td(),S),ne,_e))}function rS(o,p,S,L,ne,_e){const Fe=null===p;let et;for(;ne>0;){const yt=o[ne],$t=Array.isArray(yt),Qt=$t?yt[1]:yt,Sn=null===Qt;let Hn=S[ne+1];Hn===is&&(Hn=Sn?it:void 0);let Yn=Sn?sr(Hn,L):Qt===L?Hn:void 0;if($t&&!Uh(Yn)&&(Yn=sr(yt,L)),Uh(Yn)&&(et=Yn,Fe))return et;const ur=o[ne+1];ne=Fe?Bh(ur):n0(ur)}if(null!==p){let yt=_e?p.residualClasses:p.residualStyles;null!=yt&&(et=sr(yt,L))}return et}function Uh(o){return void 0!==o}function iS(o,p){return!!(o.flags&(p?8:16))}function rh(o,p,S){Fh(In,hp,zc(Br(),o,p,S),!0)}class sS{destroy(p){}updateValue(p,S){}swap(p,S){const L=Math.min(p,S),ne=Math.max(p,S),_e=this.detach(ne);if(ne-L>1){const Fe=this.detach(L);this.attach(L,_e),this.attach(ne,Fe)}else this.attach(L,_e)}move(p,S){this.attach(S,this.detach(p))}}function A_(o,p,S,L,ne){return o===S&&Object.is(p,L)?1:Object.is(ne(o,p),ne(S,L))?-1:0}function Nb(o,p,S,L){return!(void 0===p||!p.has(L)||(o.attach(S,p.get(L)),p.delete(L),0))}function aS(o,p,S,L,ne){if(Nb(o,p,L,S(L,ne)))o.updateValue(L,ne);else{const _e=o.create(L,ne);o.attach(L,_e)}}function zC(o,p,S,L){const ne=new Set;for(let _e=p;_e<=S;_e++)ne.add(L(_e,o.at(_e)));return ne}class cS{constructor(){this.kvMap=new Map,this._vMap=void 0}has(p){return this.kvMap.has(p)}delete(p){if(!this.has(p))return!1;const S=this.kvMap.get(p);return void 0!==this._vMap&&this._vMap.has(S)?(this.kvMap.set(p,this._vMap.get(S)),this._vMap.delete(S)):this.kvMap.delete(p),!0}get(p){return this.kvMap.get(p)}set(p,S){if(this.kvMap.has(p)){let L=this.kvMap.get(p);void 0===this._vMap&&(this._vMap=new Map);const ne=this._vMap;for(;ne.has(L);)L=ne.get(L);ne.set(L,S)}else this.kvMap.set(p,S)}forEach(p){for(let[S,L]of this.kvMap)if(p(L,S),void 0!==this._vMap){const ne=this._vMap;for(;ne.has(L);)L=ne.get(L),p(L,S)}}}function lS(o,p){iu("NgControlFlow");const S=Br(),L=vu(),ne=S[L]!==is?S[L]:-1,_e=-1!==ne?C_(S,no+ne):void 0;if(dl(S,L,o)){const et=j(null);try{if(void 0!==_e&&tx(_e,0),-1!==o){const yt=no+o,$t=C_(S,yt),Qt=M_(S[di],yt),Sn=Cg($t,Qt.tView.ssrId);mb($t,Ww(S,Qt,p,{dehydratedView:Sn}),0,iy(Qt,Sn))}}finally{j(et)}}else if(void 0!==_e){const et=$T(_e,0);void 0!==et&&(et[za]=p)}}class XD{constructor(p,S,L){this.lContainer=p,this.$implicit=S,this.$index=L}get $count(){return this.lContainer.length-cl}}function Wg(o){return o}function HC(o,p){return p}class ZD{constructor(p,S,L){this.hasEmptyBlock=p,this.trackByFn=S,this.liveCollection=L}}function WC(o,p,S,L,ne,_e,Fe,et,yt,$t,Qt,Sn,Hn){iu("NgControlFlow");const Yn=Br(),ur=Es(),Nr=void 0!==yt,oi=Br(),pi=et?Fe.bind(oi[wc][za]):Fe,$r=new ZD(Nr,pi);oi[no+o]=$r,fy(Yn,ur,o+1,p,S,L,ne,Id(ur.consts,_e)),Nr&&fy(Yn,ur,o+2,yt,$t,Qt,Sn,Id(ur.consts,Hn))}class YD extends sS{constructor(p,S,L){super(),this.lContainer=p,this.hostLView=S,this.templateTNode=L,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-cl}at(p){return this.getLView(p)[za].$implicit}attach(p,S){const L=S[Ds];this.needsIndexUpdate||=p!==this.length,mb(this.lContainer,S,p,iy(this.templateTNode,L))}detach(p){return this.needsIndexUpdate||=p!==this.length-1,function JD(o,p){return Kw(o,p)}(this.lContainer,p)}create(p,S){const L=Cg(this.lContainer,this.templateTNode.tView.ssrId),ne=Ww(this.hostLView,this.templateTNode,new XD(this.lContainer,S,p),{dehydratedView:L});return this.operationsCounter?.recordCreate(),ne}destroy(p){XE(p[di],p),this.operationsCounter?.recordDestroy()}updateValue(p,S){this.getLView(p)[za].$implicit=S}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let p=0;p<this.length;p++)this.getLView(p)[za].$index=p}getLView(p){return function GC(o,p){return $T(o,p)}(this.lContainer,p)}}function wy(o){const p=j(null),S=td();try{const L=Br(),ne=L[di],_e=L[S],Fe=S+1,et=C_(L,Fe);if(void 0===_e.liveCollection){const $t=M_(ne,Fe);_e.liveCollection=new YD(et,L,$t)}else _e.liveCollection.reset();const yt=_e.liveCollection;if(function Hg(o,p,S){let L,ne,_e=0,Fe=o.length-1;if(Array.isArray(p)){let yt=p.length-1;for(;_e<=Fe&&_e<=yt;){const $t=o.at(_e),Qt=p[_e],Sn=A_(_e,$t,_e,Qt,S);if(0!==Sn){Sn<0&&o.updateValue(_e,Qt),_e++;continue}const Hn=o.at(Fe),Yn=p[yt],ur=A_(Fe,Hn,yt,Yn,S);if(0!==ur){ur<0&&o.updateValue(Fe,Yn),Fe--,yt--;continue}const Nr=S(_e,$t),oi=S(Fe,Hn),pi=S(_e,Qt);if(Object.is(pi,oi)){const $r=S(yt,Yn);Object.is($r,Nr)?(o.swap(_e,Fe),o.updateValue(Fe,Yn),yt--,Fe--):o.move(Fe,_e),o.updateValue(_e,Qt),_e++}else if(L??=new cS,ne??=zC(o,_e,Fe,S),Nb(o,L,_e,pi))o.updateValue(_e,Qt),_e++,Fe++;else if(ne.has(pi))L.set(Nr,o.detach(_e)),Fe--;else{const $r=o.create(_e,p[_e]);o.attach(_e,$r),_e++,Fe++}}for(;_e<=yt;)aS(o,L,S,_e,p[_e]),_e++}else if(null!=p){const yt=p[Symbol.iterator]();let $t=yt.next();for(;!$t.done&&_e<=Fe;){const Qt=o.at(_e),Sn=$t.value,Hn=A_(_e,Qt,_e,Sn,S);if(0!==Hn)Hn<0&&o.updateValue(_e,Sn),_e++,$t=yt.next();else{L??=new cS,ne??=zC(o,_e,Fe,S);const Yn=S(_e,Sn);if(Nb(o,L,_e,Yn))o.updateValue(_e,Sn),_e++,Fe++,$t=yt.next();else if(ne.has(Yn)){const ur=S(_e,Qt);L.set(ur,o.detach(_e)),Fe--}else o.attach(_e,o.create(_e,Sn)),_e++,Fe++,$t=yt.next()}}for(;!$t.done;)aS(o,L,S,o.length,$t.value),$t=yt.next()}for(;_e<=Fe;)o.destroy(o.detach(Fe--));L?.forEach(yt=>{o.destroy(yt)})}(yt,o,_e.trackByFn),yt.updateIndexes(),_e.hasEmptyBlock){const $t=vu(),Qt=0===yt.length;if(dl(L,$t,Qt)){const Sn=S+2,Hn=C_(L,Sn);if(Qt){const Yn=M_(ne,Sn),ur=Cg(Hn,Yn.tView.ssrId);mb(Hn,Ww(L,Yn,void 0,{dehydratedView:ur}),0,iy(Yn,ur))}else tx(Hn,0)}}}finally{j(p)}}function C_(o,p){return o[p]}function M_(o,p){return Qi(o,p)}function I_(o,p,S,L){const ne=Br(),_e=Es(),Fe=no+o,et=ne[Gi],yt=_e.firstCreatePass?function ih(o,p,S,L,ne,_e){const Fe=p.consts,yt=Eg(p,o,2,L,Id(Fe,ne));return D3(p,S,yt,Id(Fe,_e)),null!==yt.attrs&&Ab(yt,yt.attrs,!1),null!==yt.mergedAttrs&&Ab(yt,yt.mergedAttrs,!0),null!==p.queries&&p.queries.elementStart(p,yt),yt}(Fe,_e,ne,p,S,L):_e.data[Fe],$t=XC(_e,ne,yt,et,p,o);ne[Fe]=$t;const Qt=Pv(yt);return Zf(yt,!0),TT(et,$t,yt),!function dp(o){return!(32&~o.flags)}(yt)&&ip()&&ZE(_e,ne,$t,yt),0===function G2(){return Fo.lFrame.elementDepthCount}()&&Aa($t,ne),function $s(){Fo.lFrame.elementDepthCount++}(),Qt&&(M3(_e,ne,yt),C3(_e,yt,ne)),null!==L&&I3(ne,yt),I_}function T_(){let o=Hs();H1()?Dm():(o=o.parent,Zf(o,!1));const p=o;(function ed(o){return Fo.skipHydrationRootTNode===o})(p)&&function M0(){Fo.skipHydrationRootTNode=null}(),function Up(){Fo.lFrame.elementDepthCount--}();const S=Es();return S.firstCreatePass&&(km(S,o),U2(o)&&S.queries.elementEnd(o)),null!=p.classesWithoutHost&&function SA(o){return!!(8&o.flags)}(p)&&eS(S,p,Br(),p.classesWithoutHost,!0),null!=p.stylesWithoutHost&&function Ef(o){return!!(16&o.flags)}(p)&&eS(S,p,Br(),p.stylesWithoutHost,!1),T_}function dS(o,p,S,L){return I_(o,p,S,L),T_(),dS}let XC=(o,p,S,L,ne,_e)=>(xh(!0),GE(L,ne,function rE(){return Fo.lFrame.currentNamespace}()));function Gg(o,p,S){const L=Br(),ne=Es(),_e=o+no,Fe=ne.firstCreatePass?function Df(o,p,S,L,ne){const _e=p.consts,Fe=Id(_e,L),et=Eg(p,o,8,"ng-container",Fe);return null!==Fe&&Ab(et,Fe,!0),D3(p,S,et,Id(_e,ne)),null!==p.queries&&p.queries.elementStart(p,et),et}(_e,ne,L,p,S):ne.data[_e];Zf(Fe,!0);const et=R_(ne,L,Fe,o);return L[_e]=et,ip()&&ZE(ne,L,et,Fe),Aa(et,L),Pv(Fe)&&(M3(ne,L,Fe),C3(ne,Fe,L)),null!=S&&I3(L,Fe),Gg}function Lb(){let o=Hs();const p=Es();return H1()?Dm():(o=o.parent,Zf(o,!1)),p.firstCreatePass&&(km(p,o),U2(o)&&p.queries.elementEnd(o)),Lb}function D_(o,p,S){return Gg(o,p,S),Lb(),D_}let R_=(o,p,S,L)=>(xh(!0),Dh(p[Gi],""));function ZC(){return Br()}function mp(o,p,S){const L=Br();return dl(L,vu(),p)&&Af(Es(),So(),L,o,p,L[Gi],S,!0),mp}function a0(o,p,S){const L=Br();if(dl(L,vu(),p)){const _e=Es(),Fe=So();Af(_e,Fe,L,o,p,Hw(X1(_e.data),Fe,L),S,!0)}return a0}const oh=void 0;var c0=["en",[["a","p"],["AM","PM"],oh],[["AM","PM"],oh,oh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oh,"{1} 'at' {0}",oh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Fb(o){const S=Math.floor(Math.abs(o)),L=o.toString().replace(/^[^.]*\.?/,"").length;return 1===S&&0===L?1:5}];let Q0={};function O_(o){const p=function Ey(o){return o.toLowerCase().replace(/_/g,"-")}(o);let S=vs(p);if(S)return S;const L=p.split("-")[0];if(S=vs(L),S)return S;if("en"===L)return c0;throw new kr(701,!1)}function _y(o){return O_(o)[sh.PluralCase]}function vs(o){return o in Q0||(Q0[o]=wi.ng&&wi.ng.common&&wi.ng.common.locales&&wi.ng.common.locales[o]),Q0[o]}var sh=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(sh||{});const Zg="en-US",k_={marker:"element"},B_={marker:"ICU"};var nf=function(o){return o[o.SHIFT=2]="SHIFT",o[o.APPEND_EAGERLY=1]="APPEND_EAGERLY",o[o.COMMENT=2]="COMMENT",o}(nf||{});let YC=Zg;let Yg=(o,p,S,L)=>(xh(!0),function qC(o,p,S){const L=o[Gi];switch(S){case Node.COMMENT_NODE:return Dh(L,p);case Node.TEXT_NODE:return ny(L,p);case Node.ELEMENT_NODE:return GE(L,p,null)}}(o,S,L));const pS=/\ufffd(\d+):?\d*\ufffd/gi,QC=/\ufffd(\d+)\ufffd/,mS=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,u0="\ufffd",s6=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Kb=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Qk=/\uE500/g;function a6(o,p,S,L,ne,_e,Fe){const et=Vw(o,L,1,null);let yt=et<<nf.SHIFT,$t=I0();p===$t&&($t=null),null===$t&&(yt|=nf.APPEND_EAGERLY),Fe&&(yt|=nf.COMMENT,function $4(o){void 0===vg&&(vg=o())}($k)),ne.push(yt,null===_e?"":_e);const Qt=A3(o,et,Fe?32:1,null===_e?"":_e,null);YT(S,Qt);const Sn=Qt.index;return Zf(Qt,!1),null!==$t&&p!==$t&&function N5(o,p){let S=o.insertBeforeIndex;null===S?(MT(XT,ZT),S=o.insertBeforeIndex=[null,p]):(Hi(Array.isArray(S),!0,"Expecting array here"),S.push(p))}($t,Sn),Qt}function DR(o,p,S,L,ne,_e,Fe,et){const yt=et.match(pS),Qt=a6(p,S,L,Fe,ne,yt?null:et,!1).index;yt&&L_(_e,et,Qt,null,0,null),o.push({kind:0,index:Qt})}function L_(o,p,S,L,ne,_e){const Fe=o.length,et=Fe+1;o.push(null,null);const yt=Fe+2,$t=p.split(pS);let Qt=0;for(let Sn=0;Sn<$t.length;Sn++){const Hn=$t[Sn];if(1&Sn){const Yn=ne+parseInt(Hn,10);o.push(-1-Yn),Qt|=yS(Yn)}else""!==Hn&&o.push(Hn)}return o.push(S<<2|(L?1:0)),L&&o.push(L,_e),o[Fe]=Qt,o[et]=o.length-yt,Qt}function yS(o){return 1<<Math.min(o,31)}function tM(o){let p,_e,S="",L=0,ne=!1;for(;null!==(p=s6.exec(o));)ne?p[0]===`${u0}/*${_e}${u0}`&&(L=p.index,ne=!1):(S+=o.substring(L,p.index+p[0].length),_e=p[1],ne=!0);return S+=o.slice(L),S}function ld(o,p,S,L,ne,_e,Fe){let et=0;const yt={type:_e.type,currentCaseLViewIndex:Vw(p,S,1,null),anchorIdx:Fe,cases:[],create:[],remove:[],update:[]};(function fc(o,p,S){o.push(yS(p.mainBinding),2,-1-p.mainBinding,S<<2|2)})(L,_e,Fe),function B5(o,p,S){const L=o.data[p];null===L?o.data[p]=S:L.value=S}(p,Fe,yt);const $t=_e.values,Qt=[];for(let Sn=0;Sn<$t.length;Sn++){const Hn=$t[Sn],Yn=[];for(let Nr=0;Nr<Hn.length;Nr++){const oi=Hn[Nr];if("string"!=typeof oi){const pi=Yn.push(oi)-1;Hn[Nr]=`\x3c!--\ufffd${pi}\ufffd--\x3e`}}const ur=[];Qt.push(ur),et=Sc(ur,p,yt,S,L,ne,_e.cases[Sn],Hn.join(""),Yn)|et}et&&function d6(o,p,S){o.push(p,1,S<<2|3)}(L,et,Fe),o.push({kind:3,index:Fe,cases:Qt,currentCaseLViewIndex:yt.currentCaseLViewIndex})}function l6(o){const p=[],S=[];let L=1,ne=0;const _e=Pa(o=o.replace(mS,function(Fe,et,yt){return L="select"===yt?0:1,ne=parseInt(et.slice(1),10),""}));for(let Fe=0;Fe<_e.length;){let et=_e[Fe++].trim();1===L&&(et=et.replace(/\s*(?:=)?(\w+)\s*/,"$1")),et.length&&p.push(et);const yt=Pa(_e[Fe++]);p.length>S.length&&S.push(yt)}return{type:L,mainBinding:ne,cases:p,values:S}}function Pa(o){if(!o)return[];let p=0;const S=[],L=[],ne=/[{}]/g;let _e;for(ne.lastIndex=0;_e=ne.exec(o);){const et=_e.index;if("}"==_e[0]){if(S.pop(),0==S.length){const yt=o.substring(p,et);mS.test(yt)?L.push(l6(yt)):L.push(yt),p=et+1}}else{if(0==S.length){const yt=o.substring(p,et);L.push(yt),p=et+1}S.push("{")}}const Fe=o.substring(p);return L.push(Fe),L}function Sc(o,p,S,L,ne,_e,Fe,et,yt){const $t=[],Qt=[],Sn=[];S.cases.push(Fe),S.create.push($t),S.remove.push(Qt),S.update.push(Sn);const Yn=Vo(Vp()).getInertBodyElement(et),ur=a3(Yn)||Yn;return ur?gS(o,p,S,L,ne,$t,Qt,Sn,ur,_e,yt,0):0}function gS(o,p,S,L,ne,_e,Fe,et,yt,$t,Qt,Sn){let Hn=0,Yn=yt.firstChild;for(;Yn;){const ur=Vw(p,L,1,null);switch(Yn.nodeType){case Node.ELEMENT_NODE:const Nr=Yn,oi=Nr.tagName.toLowerCase();if(r3.hasOwnProperty(oi)){F_(_e,k_,oi,$t,ur),p.data[ur]=oi;const Gs=Nr.attributes;for(let Dl=0;Dl<Gs.length;Dl++){const lh=Gs.item(Dl),p1=lh.name.toLowerCase();lh.value.match(pS)?$E.hasOwnProperty(p1)&&L_(et,lh.value,ur,lh.name,0,i3[p1]?qd:null):Vb(_e,ur,lh)}const pc={kind:1,index:ur,children:[]};o.push(pc),Hn=gS(pc.children,p,S,L,ne,_e,Fe,et,Yn,ur,Qt,Sn+1)|Hn,f0(Fe,ur,Sn)}break;case Node.TEXT_NODE:const pi=Yn.textContent||"",$r=pi.match(pS);F_(_e,null,$r?"":pi,$t,ur),f0(Fe,ur,Sn),$r&&(Hn=L_(et,pi,ur,null,0,null)|Hn),o.push({kind:0,index:ur});break;case Node.COMMENT_NODE:const Po=QC.exec(Yn.textContent||"");if(Po){const pc=Qt[parseInt(Po[1],10)];F_(_e,B_,"",$t,ur),ld(o,p,L,ne,$t,pc,ur),vS(Fe,ur,Sn)}}Yn=Yn.nextSibling}return Hn}function f0(o,p,S){0===S&&o.push(p)}function vS(o,p,S){0===S&&(o.push(~p),o.push(p))}function F_(o,p,S,L,ne){null!==p&&o.push(p),o.push(S,ne,function jk(o,p,S){return o|p<<17|S<<1}(0,L,ne))}function Vb(o,p,S){o.push(p<<1|1,S.name,S.value)}function h6(o,p,S=-1){const L=Es(),ne=Br(),_e=no+o,Fe=Id(L.consts,p),et=I0();L.firstCreatePass&&function TR(o,p,S,L,ne,_e){const Fe=I0(),et=[],yt=[],$t=[[]],Qt=[[]];ne=function c6(o,p){if(function j5(o){return-1===o}(p))return tM(o);{const S=o.indexOf(`:${p}${u0}`)+2+p.toString().length,L=o.search(new RegExp(`${u0}\\/\\*\\d+:${p}${u0}`));return tM(o.substring(S,L))}}(ne,_e);const Sn=function $h(o){return o.replace(Qk," ")}(ne).split(Kb);for(let Hn=0;Hn<Sn.length;Hn++){let Yn=Sn[Hn];if(1&Hn){const ur=47===Yn.charCodeAt(0),Nr=Yn.charCodeAt(ur?1:0),oi=no+Number.parseInt(Yn.substring(ur?2:1));if(ur)$t.shift(),Qt.shift(),Zf(I0(),!1);else{const pi=K0(o,$t[0],oi);$t.unshift([]),Zf(pi,!0);const $r={kind:2,index:oi,children:[],type:35===Nr?0:1};Qt[0].push($r),Qt.unshift($r.children)}}else{const ur=Pa(Yn);for(let Nr=0;Nr<ur.length;Nr++){let oi=ur[Nr];if(1&Nr){const pi=oi;if("object"!=typeof pi)throw new Error(`Unable to parse ICU expression in "${ne}" message.`);const Po=a6(o,Fe,$t[0],S,et,"",!0).index;ld(Qt[0],o,S,yt,p,pi,Po)}else""!==oi&&DR(Qt[0],o,Fe,$t[0],et,yt,S,oi)}}}o.data[L]={create:et,update:yt,ast:Qt[0]}}(L,null===et?0:et.index,ne,_e,Fe,S),2===L.type?ne[wc][uo]|=32:ne[uo]|=32;const yt=L.data[_e],Qt=xT(L,et===ne[$l]?null:et,ne),Sn=et&&8&et.type?ne[et.index]:null;(function G5(o,p,S,L){sD(o,p,S,L)})(ne,_e,et,S),function tm(o,p,S,L){const ne=o[Gi];for(let _e=0;_e<p.length;_e++){const Fe=p[_e++],$t=(Fe&nf.APPEND_EAGERLY)===nf.APPEND_EAGERLY,Qt=Fe>>>nf.SHIFT;let Sn=o[Qt],Hn=!1;null===Sn&&(Sn=o[Qt]=Yg(o,Qt,p[_e],(Fe&nf.COMMENT)===nf.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Hn=ip()),$t&&null!==S&&Hn&&bg(ne,S,Sn,L,!1)}}(ne,yt.create,Qt,Sn),Rm(!0)}function Hb(o,p,S){h6(o,p,S),function nM(){Rm(!1)}()}let m6=(o,p,S)=>{};function iM(o,p,S,L){const ne=Br(),_e=Es(),Fe=Hs();return sM(_e,ne,ne[Gi],Fe,o,p,L),iM}function oM(o,p){const S=Hs(),L=Br(),ne=Es();return sM(ne,L,Hw(X1(ne.data),S,L),S,o,p),oM}function sM(o,p,S,L,ne,_e,Fe){const et=Pv(L),$t=o.firstCreatePass&&zw(o),Qt=p[za],Sn=ex(p);let Hn=!0;if(3&L.type||Fe){const Nr=Zd(L,p),oi=Fe?Fe(Nr):Nr,pi=Sn.length,$r=Fe?Gs=>Fe(ia(Gs[L.index])):L.index;let Po=null;if(!Fe&&et&&(Po=function g6(o,p,S,L){const ne=o.cleanup;if(null!=ne)for(let _e=0;_e<ne.length-1;_e+=2){const Fe=ne[_e];if(Fe===S&&ne[_e+1]===L){const et=p[Sm],yt=ne[_e+2];return et.length>yt?et[yt]:null}"string"==typeof Fe&&(_e+=2)}return null}(o,p,ne,L.index)),null!==Po)(Po.__ngLastListenerFn__||Po).__ngNextListenerFn__=_e,Po.__ngLastListenerFn__=_e,Hn=!1;else{_e=b6(L,p,Qt,_e),m6(Nr,ne,_e);const Gs=S.listen(oi,ne,_e);Sn.push(_e,Gs),$t&&$t.push(ne,$r,pi,pi+1)}}else _e=b6(L,p,Qt,_e);const Yn=L.outputs;let ur;if(Hn&&null!==Yn&&(ur=Yn[ne])){const Nr=ur.length;if(Nr)for(let oi=0;oi<Nr;oi+=2){const pc=p[ur[oi]][ur[oi+1]].subscribe(_e),Dl=Sn.length;Sn.push(_e,pc),$t&&$t.push(ne,L.index,Dl,-(Dl+1))}}}function v6(o,p,S,L){const ne=j(null);try{return Wu(6,p,S),!1!==S(L)}catch(_e){return xg(o,_e),!1}finally{Wu(7,p,S),j(ne)}}function b6(o,p,S,L){return function ne(_e){if(_e===Function)return L;yb(o.componentOffset>-1?Gu(o.index,p):p,5);let et=v6(p,S,L,_e),yt=ne.__ngNextListenerFn__;for(;yt;)et=v6(p,S,yt,_e)&&et,yt=yt.__ngNextListenerFn__;return et}}function Wb(o=1){return function Pm(o){return(Fo.lFrame.contextLView=function kv(o,p){for(;o>0;)p=p[Am],o--;return p}(o,Fo.lFrame.contextLView))[za]}(o)}function xy(o,p){let S=null;const L=function si(o){const p=o.attrs;if(null!=p){const S=p.indexOf(5);if(!(1&S))return p[S+1]}return null}(o);for(let ne=0;ne<p.length;ne++){const _e=p[ne];if("*"!==_e){if(null===L?Lo(o,_e,!0):rt(L,_e))return ne}else S=ne}return S}function w6(o){const p=Br()[wc][$l];if(!p.projection){const L=p.projection=function ht(o,p){const S=[];for(let L=0;L<o;L++)S.push(p);return S}(o?o.length:1,null),ne=L.slice();let _e=p.child;for(;null!==_e;){if(128!==_e.type){const Fe=o?xy(_e,o):0;null!==Fe&&(ne[Fe]?ne[Fe].projectionNext=_e:L[Fe]=_e,ne[Fe]=_e)}_e=_e.next}}}function wS(o,p=0,S,L,ne,_e){const Fe=Br(),et=Es(),yt=L?o+1:null;null!==yt&&fy(Fe,et,yt,L,ne,_e,null,S);const $t=Eg(et,no+o,16,null,S||null);null===$t.projection&&($t.projection=p),Dm();const Sn=!Fe[Ds]||wf();null===Fe[wc][$l].projection[$t.projection]&&null!==yt?function aM(o,p,S){const L=no+S,ne=p.data[L],_e=o[L],Fe=Cg(_e,ne.tView.ssrId);mb(_e,Ww(o,ne,void 0,{dehydratedView:Fe}),0,iy(ne,Fe))}(Fe,et,yt):Sn&&32&~$t.flags&&function tu(o,p,S){IT(p[Gi],0,p,S,b3(o,S,p),wg(S.parent||p[$l],S,p))}(et,Fe,$t)}function x6(o,p,S,L){Jo(o,p,S,L)}function S6(o,p,S){ED(o,p,S)}function ES(o){const p=Br(),S=Es(),L=Z1();Qy(L+1);const ne=Mb(S,L);if(o.dirty&&function vA(o){return!(4&~o[uo])}(p)===!(2&~ne.metadata.flags)){if(null===ne.matches)o.reset([]);else{const _e=Qf(p,L);o.reset(_e,Wv),o.notifyOnChanges()}return!0}return!1}function Ta(){return pC(Br(),Z1())}function Qg(o,p,S,L,ne){bi(p,Jo(o,S,L,ne))}function jR(o,p,S,L){bi(o,ED(p,S,L))}function A6(o=1){Qy(Z1()+o)}function Ac(o){return bf(function W1(){return Fo.lFrame.contextLView}(),no+o)}function CS(o,p=""){const S=Br(),L=Es(),ne=o+no,_e=L.firstCreatePass?Eg(L,ne,1,p,null):L.data[ne],Fe=MS(L,S,_e,p,o);S[ne]=Fe,ip()&&ZE(L,S,Fe,_e),Zf(_e,!1)}let MS=(o,p,S,L,ne)=>(xh(!0),ny(p[Gi],L));function ev(o){return $_("",o,""),ev}function $_(o,p,S){const L=Br(),ne=zc(L,o,p,S);return ne!==is&&$0(L,td(),ne),$_}function K_(o,p,S,L,ne){const _e=Br(),Fe=nh(_e,o,p,S,L,ne);return Fe!==is&&$0(_e,td(),Fe),K_}function V_(o,p,S){gC(p)&&(p=p());const L=Br();return dl(L,vu(),p)&&Af(Es(),So(),L,o,p,L[Gi],S,!1),V_}function gM(o,p){const S=gC(o);return S&&o.set(p),S}function Ay(o,p){const S=Br(),L=Es(),ne=Hs();return sM(L,S,S[Gi],ne,o,p),Ay}function bM(o,p,S,L,ne){if(o=Fi(o),Array.isArray(o))for(let _e=0;_e<o.length;_e++)bM(o[_e],p,S,L,ne);else{const _e=Es(),Fe=Br(),et=Hs();let yt=Us(o)?o:Fi(o.provide);const $t=B1(o),Qt=1048575&et.providerIndexes,Sn=et.directiveStart,Hn=et.providerIndexes>>20;if(Us(o)||!o.multi){const Yn=new Bm($t,ne,hb),ur=Cy(yt,p,ne?Qt:Qt+Hn,Sn);-1===ur?(Um(Yf(et,Fe),_e,yt),z_(_e,o,p.length),p.push(yt),et.directiveStart++,et.directiveEnd++,ne&&(et.providerIndexes+=1048576),S.push(Yn),Fe.push(Yn)):(S[ur]=Yn,Fe[ur]=Yn)}else{const Yn=Cy(yt,p,Qt+Hn,Sn),ur=Cy(yt,p,Qt,Qt+Hn),oi=ur>=0&&S[ur];if(ne&&!oi||!ne&&!(Yn>=0&&S[Yn])){Um(Yf(et,Fe),_e,yt);const pi=function XR(o,p,S,L,ne){const _e=new Bm(o,S,hb);return _e.multi=[],_e.index=p,_e.componentProviders=0,TS(_e,ne,L&&!S),_e}(ne?GR:T6,S.length,ne,L,$t);!ne&&oi&&(S[ur].providerFactory=pi),z_(_e,o,p.length,0),p.push(yt),et.directiveStart++,et.directiveEnd++,ne&&(et.providerIndexes+=1048576),S.push(pi),Fe.push(pi)}else z_(_e,o,Yn>-1?Yn:ur,TS(S[ne?ur:Yn],$t,!ne&&L));!ne&&L&&oi&&S[ur].componentProviders++}}}function z_(o,p,S,L){const ne=Us(p),_e=function N2(o){return!!o.useClass}(p);if(ne||_e){const yt=(_e?Fi(p.useClass):p).prototype.ngOnDestroy;if(yt){const $t=o.destroyHooks||(o.destroyHooks=[]);if(!ne&&p.multi){const Qt=$t.indexOf(S);-1===Qt?$t.push(S,[L,yt]):$t[Qt+1].push(L,yt)}else $t.push(S,yt)}}}function TS(o,p,S){return S&&o.componentProviders++,o.multi.push(p)-1}function Cy(o,p,S,L){for(let ne=S;ne<L;ne++)if(p[ne]===o)return ne;return-1}function T6(o,p,S,L){return Pu(this.multi,[])}function GR(o,p,S,L){const ne=this.multi;let _e;if(this.providerFactory){const Fe=this.providerFactory.componentProviders,et=$m(S,S[di],this.providerFactory.index,L);_e=et.slice(0,Fe),Pu(ne,_e);for(let yt=Fe;yt<et.length;yt++)_e.push(et[yt])}else _e=[],Pu(ne,_e);return _e}function Pu(o,p){for(let S=0;S<o.length;S++)p.push((0,o[S])());return p}function cs(o,p=[]){return S=>{S.providersResolver=(L,ne)=>function WR(o,p,S){const L=Es();if(L.firstCreatePass){const ne=bh(o);bM(S,L.data,L.blueprint,ne,!0),bM(p,L.data,L.blueprint,ne,!1)}}(L,ne?ne(o):o,p)}}let wM=(()=>{class o{constructor(S){this._injector=S,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(S){if(!S.standalone)return null;if(!this.cachedInjectors.has(S)){const L=R1(0,S.type),ne=L.length>0?Ib([L],this._injector,`Standalone[${S.type.name}]`):null;this.cachedInjectors.set(S,ne)}return this.cachedInjectors.get(S)}ngOnDestroy(){try{for(const S of this.cachedInjectors.values())null!==S&&S.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=os({token:o,providedIn:"environment",factory:()=>new o(vo(Ku))})}return o})();function nv(o){iu("NgStandalone"),o.getStandaloneInjector=p=>p.get(wM).getOrCreateStandaloneInjector(o)}function RS(o,p,S){const L=Yd()+o,ne=Br();return ne[L]===is?sd(ne,L,S?p.call(S):p()):function l_(o,p){return o[p]}(ne,L)}function Qb(o,p,S,L){return My(Br(),Yd(),o,p,S,L)}function xM(o,p,S,L,ne){return Iy(Br(),Yd(),o,p,S,L,ne)}function Kh(o,p){const S=o[p];return S===is?void 0:S}function My(o,p,S,L,ne,_e){const Fe=p+S;return dl(o,Fe,ne)?sd(o,Fe+1,_e?L.call(_e,ne):L(ne)):Kh(o,Fe+1)}function Iy(o,p,S,L,ne,_e,Fe){const et=p+S;return uy(o,et,ne,_e)?sd(o,et+2,Fe?L.call(Fe,ne,_e):L(ne,_e)):Kh(o,et+2)}function Co(o,p){const S=Es();let L;const ne=o+no;S.firstCreatePass?(L=function Oo(o,p){if(p)for(let S=p.length-1;S>=0;S--){const L=p[S];if(o===L.name)return L}}(p,S.pipeRegistry),S.data[ne]=L,L.onDestroy&&(S.destroyHooks??=[]).push(ne,L.onDestroy)):L=S.data[ne];const _e=L.factory||(L.factory=mf(L.type)),et=ii(hb);try{const yt=Zu(!1),$t=_e();return Zu(yt),function xS(o,p,S,L){S>=o.data.length&&(o.data[S]=null,o.blueprint[S]=null),p[S]=L}(S,Br(),ne,$t),$t}finally{ii(et)}}function R6(o,p,S){const L=o+no,ne=Br(),_e=bf(ne,L);return e1(ne,L)?My(ne,Yd(),p,_e.transform,S,_e):_e.transform(S)}function O6(o,p,S,L){const ne=o+no,_e=Br(),Fe=bf(_e,ne);return e1(_e,ne)?Iy(_e,Yd(),p,Fe.transform,S,L,Fe):Fe.transform(S,L)}function e1(o,p){return o[di].data[p].pure}function ZR(o,p){return ix(o,p)}class pl{constructor(p){this.full=p;const S=p.split(".");this.major=S[0],this.minor=S[1],this.patch=S.slice(2).join(".")}}let sO=(()=>{class o{log(S){console.log(S)}warn(S){console.warn(S)}static#e=this.\u0275fac=function(L){return new(L||o)};static#t=this.\u0275prov=os({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const yO=new go(""),X6=new go("");let WM,cB=(()=>{class o{constructor(S,L,ne){this._ngZone=S,this.registry=L,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,WM||(function Z6(o){WM=o}(ne),ne.addToWindow(L)),this._watchAngularEvents(),S.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{po.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let S=this._callbacks.pop();clearTimeout(S.timeoutId),S.doneCb()}});else{let S=this.getPendingTasks();this._callbacks=this._callbacks.filter(L=>!L.updateCb||!L.updateCb(S)||(clearTimeout(L.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(S=>({source:S.source,creationLocation:S.creationLocation,data:S.data})):[]}addCallback(S,L,ne){let _e=-1;L&&L>0&&(_e=setTimeout(()=>{this._callbacks=this._callbacks.filter(Fe=>Fe.timeoutId!==_e),S()},L)),this._callbacks.push({doneCb:S,timeoutId:_e,updateCb:ne})}whenStable(S,L,ne){if(ne&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(S,L,ne),this._runCallbacksIfReady()}registerApplication(S){this.registry.registerApplication(S,this)}unregisterApplication(S){this.registry.unregisterApplication(S)}findProviders(S,L,ne){return[]}static#e=this.\u0275fac=function(L){return new(L||o)(vo(po),vo(HM),vo(X6))};static#t=this.\u0275prov=os({token:o,factory:o.\u0275fac})}return o})(),HM=(()=>{class o{constructor(){this._applications=new Map}registerApplication(S,L){this._applications.set(S,L)}unregisterApplication(S){this._applications.delete(S)}unregisterAllApplications(){this._applications.clear()}getTestability(S){return this._applications.get(S)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(S,L=!0){return WM?.findTestabilityInTree(this,S,L)??null}static#e=this.\u0275fac=function(L){return new(L||o)};static#t=this.\u0275prov=os({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function LS(o){return!!o&&"function"==typeof o.then}function GM(o){return!!o&&"function"==typeof o.subscribe}const Y6=new go("");let n2=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((S,L)=>{this.resolve=S,this.reject=L}),this.appInits=Fr(Y6,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const S=[];for(const ne of this.appInits){const _e=ne();if(LS(_e))S.push(_e);else if(GM(_e)){const Fe=new Promise((et,yt)=>{_e.subscribe({complete:et,error:yt})});S.push(Fe)}}const L=()=>{this.done=!0,this.resolve()};Promise.all(S).then(()=>{L()}).catch(ne=>{this.reject(ne)}),0===S.length&&L(),this.initialized=!0}static#e=this.\u0275fac=function(L){return new(L||o)};static#t=this.\u0275prov=os({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const r2=new go("");let Ld=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Fr(Hv),this.afterRenderEffectManager=Fr(xb),this.zonelessEnabled=Fr(e_),this.externalTestViews=new Set,this.beforeRender=new Ee.B,this.afterTick=new Ee.B,this.componentTypes=[],this.components=[],this.isStable=Fr(P0).hasPendingTasks.pipe((0,oe.T)(S=>!S)),this._injector=Fr(Ku)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(S,L){const ne=S instanceof uD;if(!this._injector.get(n2).done)throw!ne&&Rc(S),new kr(405,!1);let Fe;Fe=ne?S:this._injector.get(Eb).resolveComponentFactory(S),this.componentTypes.push(Fe.componentType);const et=function gO(o){return o.isBoundToModule}(Fe)?void 0:this._injector.get(eh),$t=Fe.create(Kl.NULL,[],L||Fe.selector,et),Qt=$t.location.nativeElement,Sn=$t.injector.get(yO,null);return Sn?.registerApplication(Qt),$t.onDestroy(()=>{this.detachView($t.hostView),cv(this.components,$t),Sn?.unregisterApplication(Qt)}),this._loadComponent($t),$t}tick(){this._tick(!0)}_tick(S){if(this._runningTick)throw new kr(101,!1);const L=j(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(S)}catch(ne){this.internalErrorHandler(ne)}finally{this._runningTick=!1,j(L),this.afterTick.next()}}detectChangesInAttachedViews(S){let L=null;this._injector.destroyed||(L=this._injector.get(gx,null,{optional:!0}));let ne=0;const _e=this.afterRenderEffectManager;for(;ne<10;){const Fe=0===ne;if(S||!Fe){this.beforeRender.next(Fe);for(let{_lView:et,notifyErrorHandler:yt}of this._views)vO(et,yt,Fe,this.zonelessEnabled)}else L?.begin?.(),L?.end?.();if(ne++,_e.executeInternalCallbacks(),!this.allViews.some(({_lView:et})=>Jy(et))&&(_e.execute(),!this.allViews.some(({_lView:et})=>Jy(et))))break}}attachView(S){const L=S;this._views.push(L),L.attachToAppRef(this)}detachView(S){const L=S;cv(this._views,L),L.detachFromAppRef()}_loadComponent(S){this.attachView(S.hostView),this.tick(),this.components.push(S);const L=this._injector.get(r2,[]);[...this._bootstrapListeners,...L].forEach(ne=>ne(S))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(S=>S()),this._views.slice().forEach(S=>S.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(S){return this._destroyListeners.push(S),()=>cv(this._destroyListeners,S)}destroy(){if(this._destroyed)throw new kr(406,!1);const S=this._injector;S.destroy&&!S.destroyed&&S.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(L){return new(L||o)};static#t=this.\u0275prov=os({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function cv(o,p){const S=o.indexOf(p);S>-1&&o.splice(S,1)}function vO(o,p,S,L){(S||Jy(o))&&oy(o,p,S&&!L?0:1)}class bO{constructor(p,S){this.ngModuleFactory=p,this.componentFactories=S}}let wO=(()=>{class o{compileModuleSync(S){return new IC(S)}compileModuleAsync(S){return Promise.resolve(this.compileModuleSync(S))}compileModuleAndAllComponentsSync(S){const L=this.compileModuleSync(S),_e=Ih(Wi(S).declarations).reduce((Fe,et)=>{const yt=$i(et);return yt&&Fe.push(new Cb(yt)),Fe},[]);return new bO(L,_e)}compileModuleAndAllComponentsAsync(S){return Promise.resolve(this.compileModuleAndAllComponentsSync(S))}clearCache(){}clearCacheFor(S){}getModuleId(S){}static#e=this.\u0275fac=function(L){return new(L||o)};static#t=this.\u0275prov=os({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),FS=(()=>{class o{constructor(){this.zone=Fr(po),this.changeDetectionScheduler=Fr(Mg),this.applicationRef=Fr(Ld)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(L){return new(L||o)};static#t=this.\u0275prov=os({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const t8=new go("",{factory:()=>!1});function o1({ngZoneFactory:o,ignoreChangesOutsideZone:p}){return o??=()=>new po(US()),[{provide:po,useFactory:o},{provide:Pe,multi:!0,useFactory:()=>{const S=Fr(FS,{optional:!0});return()=>S.initialize()}},{provide:Pe,multi:!0,useFactory:()=>{const S=Fr(XM);return()=>{S.initialize()}}},!0===p?{provide:yx,useValue:!0}:[]]}function n8(o){const p=o?.ignoreChangesOutsideZone,S=o1({ngZoneFactory:()=>{const L=US(o);return L.shouldCoalesceEventChangeDetection&&iu("NgZone_CoalesceEvent"),new po(L)},ignoreChangesOutsideZone:p});return bm([{provide:t8,useValue:!0},{provide:e_,useValue:!1},S])}function US(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}let XM=(()=>{class o{constructor(){this.subscription=new be.yU,this.initialized=!1,this.zone=Fr(po),this.pendingTasks=Fr(P0)}initialize(){if(this.initialized)return;this.initialized=!0;let S=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(S=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{po.assertNotInAngularZone(),queueMicrotask(()=>{null!==S&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(S),S=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{po.assertInAngularZone(),S??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(L){return new(L||o)};static#t=this.\u0275prov=os({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),a1=(()=>{class o{constructor(){this.appRef=Fr(Ld),this.taskService=Fr(P0),this.ngZone=Fr(po),this.zonelessEnabled=Fr(e_),this.disableScheduling=Fr(yx,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new be.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof uw||!this.zoneIsDefined)}notify(S){if(!this.zonelessEnabled&&5===S)return;switch(S){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const L=this.useMicrotaskScheduler?cw:_E;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=L(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=L(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&po.isInAngularZone())}tick(S){if(this.runningTick||this.appRef.destroyed)return;const L=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(S)},void 0,this.schedulerTickApplyArgs)}catch(ne){throw this.taskService.remove(L),ne}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(L)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const S=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(S)}}static#e=this.\u0275fac=function(L){return new(L||o)};static#t=this.\u0275prov=os({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const c1=new go("",{providedIn:"root",factory:()=>Fr(c1,To.Optional|To.SkipSelf)||function i8(){return typeof $localize<"u"&&$localize.locale||Zg}()}),YM=new go("",{providedIn:"root",factory:()=>"USD"}),a2=new go("");let lm=null;function Qa(){return!1}let $S=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=CO}return o})();function CO(o){return function bB(o,p,S){if(Hu(o)&&!S){const L=Gu(o.index,p);return new Sg(L,L)}return 175&o.type?new Sg(p[wc],p):null}(Hs(),Br(),!(16&~o))}class u8{constructor(){}supports(p){return z0(p)}create(p){return new OO(p)}}const RO=(o,p)=>p;class OO{constructor(p){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=p||RO}forEachItem(p){let S;for(S=this._itHead;null!==S;S=S._next)p(S)}forEachOperation(p){let S=this._itHead,L=this._removalsHead,ne=0,_e=null;for(;S||L;){const Fe=!L||S&&S.currentIndex<h8(L,ne,_e)?S:L,et=h8(Fe,ne,_e),yt=Fe.currentIndex;if(Fe===L)ne--,L=L._nextRemoved;else if(S=S._next,null==Fe.previousIndex)ne++;else{_e||(_e=[]);const $t=et-ne,Qt=yt-ne;if($t!=Qt){for(let Hn=0;Hn<$t;Hn++){const Yn=Hn<_e.length?_e[Hn]:_e[Hn]=0,ur=Yn+Hn;Qt<=ur&&ur<$t&&(_e[Hn]=Yn+1)}_e[Fe.previousIndex]=Qt-$t}}et!==yt&&p(Fe,et,yt)}}forEachPreviousItem(p){let S;for(S=this._previousItHead;null!==S;S=S._nextPrevious)p(S)}forEachAddedItem(p){let S;for(S=this._additionsHead;null!==S;S=S._nextAdded)p(S)}forEachMovedItem(p){let S;for(S=this._movesHead;null!==S;S=S._nextMoved)p(S)}forEachRemovedItem(p){let S;for(S=this._removalsHead;null!==S;S=S._nextRemoved)p(S)}forEachIdentityChange(p){let S;for(S=this._identityChangesHead;null!==S;S=S._nextIdentityChange)p(S)}diff(p){if(null==p&&(p=[]),!z0(p))throw new kr(900,!1);return this.check(p)?this:null}onDestroy(){}check(p){this._reset();let ne,_e,Fe,S=this._itHead,L=!1;if(Array.isArray(p)){this.length=p.length;for(let et=0;et<this.length;et++)_e=p[et],Fe=this._trackByFn(et,_e),null!==S&&Object.is(S.trackById,Fe)?(L&&(S=this._verifyReinsertion(S,_e,Fe,et)),Object.is(S.item,_e)||this._addIdentityChange(S,_e)):(S=this._mismatch(S,_e,Fe,et),L=!0),S=S._next}else ne=0,function ID(o,p){if(Array.isArray(o))for(let S=0;S<o.length;S++)p(o[S]);else{const S=o[Symbol.iterator]();let L;for(;!(L=S.next()).done;)p(L.value)}}(p,et=>{Fe=this._trackByFn(ne,et),null!==S&&Object.is(S.trackById,Fe)?(L&&(S=this._verifyReinsertion(S,et,Fe,ne)),Object.is(S.item,et)||this._addIdentityChange(S,et)):(S=this._mismatch(S,et,Fe,ne),L=!0),S=S._next,ne++}),this.length=ne;return this._truncate(S),this.collection=p,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let p;for(p=this._previousItHead=this._itHead;null!==p;p=p._next)p._nextPrevious=p._next;for(p=this._additionsHead;null!==p;p=p._nextAdded)p.previousIndex=p.currentIndex;for(this._additionsHead=this._additionsTail=null,p=this._movesHead;null!==p;p=p._nextMoved)p.previousIndex=p.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(p,S,L,ne){let _e;return null===p?_e=this._itTail:(_e=p._prev,this._remove(p)),null!==(p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(L,null))?(Object.is(p.item,S)||this._addIdentityChange(p,S),this._reinsertAfter(p,_e,ne)):null!==(p=null===this._linkedRecords?null:this._linkedRecords.get(L,ne))?(Object.is(p.item,S)||this._addIdentityChange(p,S),this._moveAfter(p,_e,ne)):p=this._addAfter(new PO(S,L),_e,ne),p}_verifyReinsertion(p,S,L,ne){let _e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(L,null);return null!==_e?p=this._reinsertAfter(_e,p._prev,ne):p.currentIndex!=ne&&(p.currentIndex=ne,this._addToMoves(p,ne)),p}_truncate(p){for(;null!==p;){const S=p._next;this._addToRemovals(this._unlink(p)),p=S}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(p,S,L){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(p);const ne=p._prevRemoved,_e=p._nextRemoved;return null===ne?this._removalsHead=_e:ne._nextRemoved=_e,null===_e?this._removalsTail=ne:_e._prevRemoved=ne,this._insertAfter(p,S,L),this._addToMoves(p,L),p}_moveAfter(p,S,L){return this._unlink(p),this._insertAfter(p,S,L),this._addToMoves(p,L),p}_addAfter(p,S,L){return this._insertAfter(p,S,L),this._additionsTail=null===this._additionsTail?this._additionsHead=p:this._additionsTail._nextAdded=p,p}_insertAfter(p,S,L){const ne=null===S?this._itHead:S._next;return p._next=ne,p._prev=S,null===ne?this._itTail=p:ne._prev=p,null===S?this._itHead=p:S._next=p,null===this._linkedRecords&&(this._linkedRecords=new f8),this._linkedRecords.put(p),p.currentIndex=L,p}_remove(p){return this._addToRemovals(this._unlink(p))}_unlink(p){null!==this._linkedRecords&&this._linkedRecords.remove(p);const S=p._prev,L=p._next;return null===S?this._itHead=L:S._next=L,null===L?this._itTail=S:L._prev=S,p}_addToMoves(p,S){return p.previousIndex===S||(this._movesTail=null===this._movesTail?this._movesHead=p:this._movesTail._nextMoved=p),p}_addToRemovals(p){return null===this._unlinkedRecords&&(this._unlinkedRecords=new f8),this._unlinkedRecords.put(p),p.currentIndex=null,p._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=p,p._prevRemoved=null):(p._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=p),p}_addIdentityChange(p,S){return p.item=S,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=p:this._identityChangesTail._nextIdentityChange=p,p}}class PO{constructor(p,S){this.item=p,this.trackById=S,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kO{constructor(){this._head=null,this._tail=null}add(p){null===this._head?(this._head=this._tail=p,p._nextDup=null,p._prevDup=null):(this._tail._nextDup=p,p._prevDup=this._tail,p._nextDup=null,this._tail=p)}get(p,S){let L;for(L=this._head;null!==L;L=L._nextDup)if((null===S||S<=L.currentIndex)&&Object.is(L.trackById,p))return L;return null}remove(p){const S=p._prevDup,L=p._nextDup;return null===S?this._head=L:S._nextDup=L,null===L?this._tail=S:L._prevDup=S,null===this._head}}class f8{constructor(){this.map=new Map}put(p){const S=p.trackById;let L=this.map.get(S);L||(L=new kO,this.map.set(S,L)),L.add(p)}get(p,S){const ne=this.map.get(p);return ne?ne.get(p,S):null}remove(p){const S=p.trackById;return this.map.get(S).remove(p)&&this.map.delete(S),p}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function h8(o,p,S){const L=o.previousIndex;if(null===L)return L;let ne=0;return S&&L<S.length&&(ne=S[L]),L+p+ne}class p8{constructor(){}supports(p){return p instanceof Map||Rs(p)}create(){return new BO}}class BO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(p){let S;for(S=this._mapHead;null!==S;S=S._next)p(S)}forEachPreviousItem(p){let S;for(S=this._previousMapHead;null!==S;S=S._nextPrevious)p(S)}forEachChangedItem(p){let S;for(S=this._changesHead;null!==S;S=S._nextChanged)p(S)}forEachAddedItem(p){let S;for(S=this._additionsHead;null!==S;S=S._nextAdded)p(S)}forEachRemovedItem(p){let S;for(S=this._removalsHead;null!==S;S=S._nextRemoved)p(S)}diff(p){if(p){if(!(p instanceof Map||Rs(p)))throw new kr(900,!1)}else p=new Map;return this.check(p)?this:null}onDestroy(){}check(p){this._reset();let S=this._mapHead;if(this._appendAfter=null,this._forEach(p,(L,ne)=>{if(S&&S.key===ne)this._maybeAddToChanges(S,L),this._appendAfter=S,S=S._next;else{const _e=this._getOrCreateRecordForKey(ne,L);S=this._insertBeforeOrAppend(S,_e)}}),S){S._prev&&(S._prev._next=null),this._removalsHead=S;for(let L=S;null!==L;L=L._nextRemoved)L===this._mapHead&&(this._mapHead=null),this._records.delete(L.key),L._nextRemoved=L._next,L.previousValue=L.currentValue,L.currentValue=null,L._prev=null,L._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(p,S){if(p){const L=p._prev;return S._next=p,S._prev=L,p._prev=S,L&&(L._next=S),p===this._mapHead&&(this._mapHead=S),this._appendAfter=p,p}return this._appendAfter?(this._appendAfter._next=S,S._prev=this._appendAfter):this._mapHead=S,this._appendAfter=S,null}_getOrCreateRecordForKey(p,S){if(this._records.has(p)){const ne=this._records.get(p);this._maybeAddToChanges(ne,S);const _e=ne._prev,Fe=ne._next;return _e&&(_e._next=Fe),Fe&&(Fe._prev=_e),ne._next=null,ne._prev=null,ne}const L=new NO(p);return this._records.set(p,L),L.currentValue=S,this._addToAdditions(L),L}_reset(){if(this.isDirty){let p;for(this._previousMapHead=this._mapHead,p=this._previousMapHead;null!==p;p=p._next)p._nextPrevious=p._next;for(p=this._changesHead;null!==p;p=p._nextChanged)p.previousValue=p.currentValue;for(p=this._additionsHead;null!=p;p=p._nextAdded)p.previousValue=p.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(p,S){Object.is(S,p.currentValue)||(p.previousValue=p.currentValue,p.currentValue=S,this._addToChanges(p))}_addToAdditions(p){null===this._additionsHead?this._additionsHead=this._additionsTail=p:(this._additionsTail._nextAdded=p,this._additionsTail=p)}_addToChanges(p){null===this._changesHead?this._changesHead=this._changesTail=p:(this._changesTail._nextChanged=p,this._changesTail=p)}_forEach(p,S){p instanceof Map?p.forEach(S):Object.keys(p).forEach(L=>S(p[L],L))}}class NO{constructor(p){this.key=p,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function m8(){return new QM([new u8])}let QM=(()=>{class o{static#e=this.\u0275prov=os({token:o,providedIn:"root",factory:m8});constructor(S){this.factories=S}static create(S,L){if(null!=L){const ne=L.factories.slice();S=S.concat(ne)}return new o(S)}static extend(S){return{provide:o,useFactory:L=>o.create(S,L||m8()),deps:[[o,new Zl,new fs]]}}find(S){const L=this.factories.find(ne=>ne.supports(S));if(null!=L)return L;throw new kr(901,!1)}}return o})();function y8(){return new g8([new p8])}let g8=(()=>{class o{static#e=this.\u0275prov=os({token:o,providedIn:"root",factory:y8});constructor(S){this.factories=S}static create(S,L){if(L){const ne=L.factories.slice();S=S.concat(ne)}return new o(S)}static extend(S){return{provide:o,useFactory:L=>o.create(S,L||y8()),deps:[[o,new Zl,new fs]]}}find(S){const L=this.factories.find(ne=>ne.supports(S));if(L)return L;throw new kr(901,!1)}}return o})();function GO(o){try{const{rootComponent:p,appProviders:S,platformProviders:L}=o,ne=function yB(o=[]){if(lm)return lm;const p=function xO(o=[],p){return Kl.create({name:p,providers:[{provide:Ai,useValue:"platform"},{provide:a2,useValue:new Set([()=>lm=null])},...o]})}(o);return lm=p,function q6(){!function T(o){O=o}(()=>{throw new kr(600,!1)})}(),function SO(o){o.get(TE,null)?.forEach(S=>S())}(p),p}(L),_e=[o1({}),{provide:Mg,useExisting:a1},...S||[]],et=new MD({providers:_e,parent:ne,debugName:"",runEnvironmentInitializers:!1}).injector,yt=et.get(po);return yt.run(()=>{et.resolveInjectorInitializers();const $t=et.get(Sf,null);let Qt;yt.runOutsideAngular(()=>{Qt=yt.onError.subscribe({next:Yn=>{$t.handleError(Yn)}})});const Sn=()=>et.destroy(),Hn=ne.get(a2);return Hn.add(Sn),et.onDestroy(()=>{Qt.unsubscribe(),Hn.delete(Sn)}),function Vh(o,p,S){try{const L=S();return LS(L)?L.catch(ne=>{throw p.runOutsideAngular(()=>o.handleError(ne)),ne}):L}catch(L){throw p.runOutsideAngular(()=>o.handleError(L)),L}}($t,yt,()=>{const Yn=et.get(n2);return Yn.runInitializers(),Yn.donePromise.then(()=>{!function JC(o){"string"==typeof o&&(YC=o.toLowerCase().replace(/_/g,"-"))}(et.get(c1,Zg)||Zg);const Nr=et.get(Ld);return void 0!==p&&Nr.bootstrap(p),Nr})})})}catch(p){return Promise.reject(p)}}const HS=new go("");function sP(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function WB(o,p=NaN){return isNaN(parseFloat(o))||isNaN(Number(o))?p:Number(o)}function y2(o,p){iu("NgSignals");const S=B(o);return p?.equal&&(S[M].equal=p.equal),S}function aP(o){const p=j(null);try{return o()}finally{j(p)}}const JB=new go("",{providedIn:"root",factory:()=>Fr(k8)});let k8=(()=>{class o{static#e=this.\u0275prov=os({token:o,providedIn:"root",factory:()=>new XS})}return o})();class XS{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Fr(P0),this.taskId=null}scheduleEffect(p){if(this.enqueue(p),null===this.taskId){const S=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(S),this.taskId=null})}}enqueue(p){const S=p.creationZone;this.queues.has(S)||this.queues.set(S,new Set);const L=this.queues.get(S);L.has(p)||(this.queuedEffectCount++,L.add(p))}flush(){for(;this.queuedEffectCount>0;)for(const[p,S]of this.queues)null===p?this.flushQueue(S):p.run(()=>this.flushQueue(S))}flushQueue(p){for(const S of p)p.delete(S),this.queuedEffectCount--,S.run()}}class qB{constructor(p,S,L,ne,_e,Fe){this.scheduler=p,this.effectFn=S,this.creationZone=L,this.injector=_e,this.watcher=function ke(o,p,S){const L=Object.create(Xe);S&&(L.consumerAllowSignalWrites=!0),L.fn=o,L.schedule=p;const ne=yt=>{L.cleanupFn=yt};return L.ref={notify:()=>ae(L),run:()=>{if(null===L.fn)return;if(function U(){return N}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(L.dirty=!1,L.hasRun&&!ue(L))return;L.hasRun=!0;const yt=re(L);try{L.cleanupFn(),L.cleanupFn=Ie,L.fn(ne)}finally{te(L,yt)}},cleanup:()=>L.cleanupFn(),destroy:()=>function Fe(yt){(function _e(yt){return null===yt.fn&&null===yt.schedule})(yt)||(pe(yt),yt.cleanupFn(),yt.fn=null,yt.schedule=null,yt.cleanupFn=Ie)}(L),[M]:L},L.ref}(et=>this.runEffect(et),()=>this.schedule(),Fe),this.unregisterOnDestroy=ne?.onDestroy(()=>this.destroy())}runEffect(p){try{this.effectFn(p)}catch(S){this.injector.get(Sf,null,{optional:!0})?.handleError(S)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function uv(o,p){iu("NgSignals"),!p?.injector&&zy();const S=p?.injector??Fr(Kl),L=!0!==p?.manualCleanup?S.get($c):null,ne=new qB(S.get(JB),o,typeof Zone>"u"?null:Zone.current,L,S,p?.allowSignalWrites??!1),_e=S.get($S,null,{optional:!0});return _e&&8&_e._lView[uo]?(_e._lView[ua]??=[]).push(ne.watcher.notify):ne.watcher.notify(),ne}function aI(o,p){const S=$i(o),L=p.elementInjector||Rv();return new Cb(S).create(L,p.projectableNodes,p.hostElement,p.environmentInjector)}function cP(o){const p=$i(o);if(!p)return null;const S=new Cb(p);return{get selector(){return S.selector},get type(){return S.componentType},get inputs(){return S.inputs},get outputs(){return S.outputs},get ngContentSelectors(){return S.ngContentSelectors},get isStandalone(){return p.standalone},get isSignal(){return p.signals}}}},89417:(Ye,J,A)=>{"use strict";A.d(J,{BC:()=>we,JD:()=>Oi,MJ:()=>Eo,X1:()=>_d,YN:()=>Hi,YS:()=>ro,cV:()=>bs,cb:()=>De,cz:()=>te,j4:()=>Ol,k0:()=>he,kq:()=>H,l_:()=>fu,me:()=>de,ok:()=>ea,qT:()=>Wc,tU:()=>Uc,v8:()=>Ns,vO:()=>Ee,vS:()=>gd,xq:()=>us});var h=A(93953),x=A(60177),N=A(86648),Y=A(27468),M=A(21413),j=A(96354);let R=(()=>{class zt{constructor(Ot,Gt){this._renderer=Ot,this._elementRef=Gt,this.onChange=Gn=>{},this.onTouched=()=>{}}setProperty(Ot,Gt){this._renderer.setProperty(this._elementRef.nativeElement,Ot,Gt)}registerOnTouched(Ot){this.onTouched=Ot}registerOnChange(Ot){this.onChange=Ot}setDisabledState(Ot){this.setProperty("disabled",Ot)}static#e=this.\u0275fac=function(Gt){return new(Gt||zt)(h.rXU(h.sFG),h.rXU(h.aKT))};static#t=this.\u0275dir=h.FsC({type:zt})}return zt})(),U=(()=>{class zt extends R{static#e=this.\u0275fac=(()=>{let Ot;return function(Gn){return(Ot||(Ot=h.xGo(zt)))(Gn||zt)}})();static#t=this.\u0275dir=h.FsC({type:zt,features:[h.Vt3]})}return zt})();const H=new h.nKC(""),ee={provide:H,useExisting:(0,h.Rfq)(()=>de),multi:!0},Q=new h.nKC("");let de=(()=>{class zt extends R{constructor(Ot,Gt,Gn){super(Ot,Gt),this._compositionMode=Gn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function W(){const zt=(0,x.QT)()?(0,x.QT)().getUserAgent():"";return/android (\d+)/.test(zt.toLowerCase())}())}writeValue(Ot){this.setProperty("value",Ot??"")}_handleInput(Ot){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Ot)}_compositionStart(){this._composing=!0}_compositionEnd(Ot){this._composing=!1,this._compositionMode&&this.onChange(Ot)}static#e=this.\u0275fac=function(Gt){return new(Gt||zt)(h.rXU(h.sFG),h.rXU(h.aKT),h.rXU(Q,8))};static#t=this.\u0275dir=h.FsC({type:zt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Gt,Gn){1&Gt&&h.bIt("input",function(wo){return Gn._handleInput(wo.target.value)})("blur",function(){return Gn.onTouched()})("compositionstart",function(){return Gn._compositionStart()})("compositionend",function(wo){return Gn._compositionEnd(wo.target.value)})},features:[h.Jv_([ee]),h.Vt3]})}return zt})();function ae(zt){return null==zt||("string"==typeof zt||Array.isArray(zt))&&0===zt.length}function re(zt){return null!=zt&&"number"==typeof zt.length}const te=new h.nKC(""),ue=new h.nKC(""),pe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class he{static min(en){return function ve(zt){return en=>{if(ae(en.value)||ae(zt))return null;const Ot=parseFloat(en.value);return!isNaN(Ot)&&Ot<zt?{min:{min:zt,actual:en.value}}:null}}(en)}static max(en){return function ge(zt){return en=>{if(ae(en.value)||ae(zt))return null;const Ot=parseFloat(en.value);return!isNaN(Ot)&&Ot>zt?{max:{max:zt,actual:en.value}}:null}}(en)}static required(en){return Me(en)}static requiredTrue(en){return Oe(en)}static email(en){return function je(zt){return ae(zt.value)||pe.test(zt.value)?null:{email:!0}}(en)}static minLength(en){return function B(zt){return en=>ae(en.value)||!re(en.value)?null:en.value.length<zt?{minlength:{requiredLength:zt,actualLength:en.value.length}}:null}(en)}static maxLength(en){return l(en)}static pattern(en){return function f(zt){if(!zt)return w;let en,Ot;return"string"==typeof zt?(Ot="","^"!==zt.charAt(0)&&(Ot+="^"),Ot+=zt,"$"!==zt.charAt(zt.length-1)&&(Ot+="$"),en=new RegExp(Ot)):(Ot=zt.toString(),en=zt),Gt=>{if(ae(Gt.value))return null;const Gn=Gt.value;return en.test(Gn)?null:{pattern:{requiredPattern:Ot,actualValue:Gn}}}}(en)}static nullValidator(en){return null}static compose(en){return E(en)}static composeAsync(en){return X(en)}}function Me(zt){return ae(zt.value)?{required:!0}:null}function Oe(zt){return!0===zt.value?null:{required:!0}}function l(zt){return en=>re(en.value)&&en.value.length>zt?{maxlength:{requiredLength:zt,actualLength:en.value.length}}:null}function w(zt){return null}function _(zt){return null!=zt}function D(zt){return(0,h.jNT)(zt)?(0,N.H)(zt):zt}function O(zt){let en={};return zt.forEach(Ot=>{en=null!=Ot?{...en,...Ot}:en}),0===Object.keys(en).length?null:en}function $(zt,en){return en.map(Ot=>Ot(zt))}function c(zt){return zt.map(en=>function T(zt){return!zt.validate}(en)?en:Ot=>en.validate(Ot))}function E(zt){if(!zt)return null;const en=zt.filter(_);return 0==en.length?null:function(Ot){return O($(Ot,en))}}function q(zt){return null!=zt?E(c(zt)):null}function X(zt){if(!zt)return null;const en=zt.filter(_);return 0==en.length?null:function(Ot){const Gt=$(Ot,en).map(D);return(0,Y.p)(Gt).pipe((0,j.T)(O))}}function ce(zt){return null!=zt?X(c(zt)):null}function me(zt,en){return null===zt?[en]:Array.isArray(zt)?[...zt,en]:[zt,en]}function Te(zt){return zt._rawValidators}function Ke(zt){return zt._rawAsyncValidators}function Qe(zt){return zt?Array.isArray(zt)?zt:[zt]:[]}function ke(zt,en){return Array.isArray(zt)?zt.includes(en):zt===en}function Ie(zt,en){const Ot=Qe(en);return Qe(zt).forEach(Gn=>{ke(Ot,Gn)||Ot.push(Gn)}),Ot}function Xe(zt,en){return Qe(en).filter(Ot=>!ke(zt,Ot))}class Se{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(en){this._rawValidators=en||[],this._composedValidatorFn=q(this._rawValidators)}_setAsyncValidators(en){this._rawAsyncValidators=en||[],this._composedAsyncValidatorFn=ce(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(en){this._onDestroyCallbacks.push(en)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(en=>en()),this._onDestroyCallbacks=[]}reset(en=void 0){this.control&&this.control.reset(en)}hasError(en,Ot){return!!this.control&&this.control.hasError(en,Ot)}getError(en,Ot){return this.control?this.control.getError(en,Ot):null}}class Le extends Se{get formDirective(){return null}get path(){return null}}class Ee extends Se{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class be{constructor(en){this._cd=en}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let we=(()=>{class zt extends be{constructor(Ot){super(Ot)}static#e=this.\u0275fac=function(Gt){return new(Gt||zt)(h.rXU(Ee,2))};static#t=this.\u0275dir=h.FsC({type:zt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Gt,Gn){2&Gt&&h.AVh("ng-untouched",Gn.isUntouched)("ng-touched",Gn.isTouched)("ng-pristine",Gn.isPristine)("ng-dirty",Gn.isDirty)("ng-valid",Gn.isValid)("ng-invalid",Gn.isInvalid)("ng-pending",Gn.isPending)},features:[h.Vt3]})}return zt})(),De=(()=>{class zt extends be{constructor(Ot){super(Ot)}static#e=this.\u0275fac=function(Gt){return new(Gt||zt)(h.rXU(Le,10))};static#t=this.\u0275dir=h.FsC({type:zt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Gt,Gn){2&Gt&&h.AVh("ng-untouched",Gn.isUntouched)("ng-touched",Gn.isTouched)("ng-pristine",Gn.isPristine)("ng-dirty",Gn.isDirty)("ng-valid",Gn.isValid)("ng-invalid",Gn.isInvalid)("ng-pending",Gn.isPending)("ng-submitted",Gn.isSubmitted)},features:[h.Vt3]})}return zt})();const dn="VALID",Mn="INVALID",En="PENDING",Ar="DISABLED";class jn{}class mn extends jn{constructor(en,Ot){super(),this.value=en,this.source=Ot}}class pn extends jn{constructor(en,Ot){super(),this.pristine=en,this.source=Ot}}class kt extends jn{constructor(en,Ot){super(),this.touched=en,this.source=Ot}}class St extends jn{constructor(en,Ot){super(),this.status=en,this.source=Ot}}class an extends jn{constructor(en){super(),this.source=en}}class hn extends jn{constructor(en){super(),this.source=en}}function An(zt){return(Lt(zt)?zt.validators:zt)||null}function Tt(zt,en){return(Lt(en)?en.asyncValidators:zt)||null}function Lt(zt){return null!=zt&&!Array.isArray(zt)&&"object"==typeof zt}function st(zt,en,Ot){const Gt=zt.controls;if(!(en?Object.keys(Gt):Gt).length)throw new h.wOt(1e3,"");if(!Gt[Ot])throw new h.wOt(1001,"")}function mt(zt,en,Ot){zt._forEachChild((Gt,Gn)=>{if(void 0===Ot[Gn])throw new h.wOt(1002,"")})}class sn{constructor(en,Ot){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,h.EWP)(()=>this.statusReactive()),this.statusReactive=(0,h.vPA)(void 0),this._pristine=(0,h.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,h.vPA)(!0),this._touched=(0,h.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,h.vPA)(!1),this._events=new M.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(en),this._assignAsyncValidators(Ot)}get validator(){return this._composedValidatorFn}set validator(en){this._rawValidators=this._composedValidatorFn=en}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(en){this._rawAsyncValidators=this._composedAsyncValidatorFn=en}get parent(){return this._parent}get status(){return(0,h.O8t)(this.statusReactive)}set status(en){(0,h.O8t)(()=>this.statusReactive.set(en))}get valid(){return this.status===dn}get invalid(){return this.status===Mn}get pending(){return this.status==En}get disabled(){return this.status===Ar}get enabled(){return this.status!==Ar}get pristine(){return(0,h.O8t)(this.pristineReactive)}set pristine(en){(0,h.O8t)(()=>this.pristineReactive.set(en))}get dirty(){return!this.pristine}get touched(){return(0,h.O8t)(this.touchedReactive)}set touched(en){(0,h.O8t)(()=>this.touchedReactive.set(en))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(en){this._assignValidators(en)}setAsyncValidators(en){this._assignAsyncValidators(en)}addValidators(en){this.setValidators(Ie(en,this._rawValidators))}addAsyncValidators(en){this.setAsyncValidators(Ie(en,this._rawAsyncValidators))}removeValidators(en){this.setValidators(Xe(en,this._rawValidators))}removeAsyncValidators(en){this.setAsyncValidators(Xe(en,this._rawAsyncValidators))}hasValidator(en){return ke(this._rawValidators,en)}hasAsyncValidator(en){return ke(this._rawAsyncValidators,en)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(en={}){const Ot=!1===this.touched;this.touched=!0;const Gt=en.sourceControl??this;this._parent&&!en.onlySelf&&this._parent.markAsTouched({...en,sourceControl:Gt}),Ot&&!1!==en.emitEvent&&this._events.next(new kt(!0,Gt))}markAllAsTouched(en={}){this.markAsTouched({onlySelf:!0,emitEvent:en.emitEvent,sourceControl:this}),this._forEachChild(Ot=>Ot.markAllAsTouched(en))}markAsUntouched(en={}){const Ot=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Gt=en.sourceControl??this;this._forEachChild(Gn=>{Gn.markAsUntouched({onlySelf:!0,emitEvent:en.emitEvent,sourceControl:Gt})}),this._parent&&!en.onlySelf&&this._parent._updateTouched(en,Gt),Ot&&!1!==en.emitEvent&&this._events.next(new kt(!1,Gt))}markAsDirty(en={}){const Ot=!0===this.pristine;this.pristine=!1;const Gt=en.sourceControl??this;this._parent&&!en.onlySelf&&this._parent.markAsDirty({...en,sourceControl:Gt}),Ot&&!1!==en.emitEvent&&this._events.next(new pn(!1,Gt))}markAsPristine(en={}){const Ot=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Gt=en.sourceControl??this;this._forEachChild(Gn=>{Gn.markAsPristine({onlySelf:!0,emitEvent:en.emitEvent})}),this._parent&&!en.onlySelf&&this._parent._updatePristine(en,Gt),Ot&&!1!==en.emitEvent&&this._events.next(new pn(!0,Gt))}markAsPending(en={}){this.status=En;const Ot=en.sourceControl??this;!1!==en.emitEvent&&(this._events.next(new St(this.status,Ot)),this.statusChanges.emit(this.status)),this._parent&&!en.onlySelf&&this._parent.markAsPending({...en,sourceControl:Ot})}disable(en={}){const Ot=this._parentMarkedDirty(en.onlySelf);this.status=Ar,this.errors=null,this._forEachChild(Gn=>{Gn.disable({...en,onlySelf:!0})}),this._updateValue();const Gt=en.sourceControl??this;!1!==en.emitEvent&&(this._events.next(new mn(this.value,Gt)),this._events.next(new St(this.status,Gt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...en,skipPristineCheck:Ot},this),this._onDisabledChange.forEach(Gn=>Gn(!0))}enable(en={}){const Ot=this._parentMarkedDirty(en.onlySelf);this.status=dn,this._forEachChild(Gt=>{Gt.enable({...en,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:en.emitEvent}),this._updateAncestors({...en,skipPristineCheck:Ot},this),this._onDisabledChange.forEach(Gt=>Gt(!1))}_updateAncestors(en,Ot){this._parent&&!en.onlySelf&&(this._parent.updateValueAndValidity(en),en.skipPristineCheck||this._parent._updatePristine({},Ot),this._parent._updateTouched({},Ot))}setParent(en){this._parent=en}getRawValue(){return this.value}updateValueAndValidity(en={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const Gt=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dn||this.status===En)&&this._runAsyncValidator(Gt,en.emitEvent)}const Ot=en.sourceControl??this;!1!==en.emitEvent&&(this._events.next(new mn(this.value,Ot)),this._events.next(new St(this.status,Ot)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!en.onlySelf&&this._parent.updateValueAndValidity({...en,sourceControl:Ot})}_updateTreeValidity(en={emitEvent:!0}){this._forEachChild(Ot=>Ot._updateTreeValidity(en)),this.updateValueAndValidity({onlySelf:!0,emitEvent:en.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ar:dn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(en,Ot){if(this.asyncValidator){this.status=En,this._hasOwnPendingAsyncValidator={emitEvent:!1!==Ot};const Gt=D(this.asyncValidator(this));this._asyncValidationSubscription=Gt.subscribe(Gn=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Gn,{emitEvent:Ot,shouldHaveEmitted:en})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const en=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,en}return!1}setErrors(en,Ot={}){this.errors=en,this._updateControlsErrors(!1!==Ot.emitEvent,this,Ot.shouldHaveEmitted)}get(en){let Ot=en;return null==Ot||(Array.isArray(Ot)||(Ot=Ot.split(".")),0===Ot.length)?null:Ot.reduce((Gt,Gn)=>Gt&&Gt._find(Gn),this)}getError(en,Ot){const Gt=Ot?this.get(Ot):this;return Gt&&Gt.errors?Gt.errors[en]:null}hasError(en,Ot){return!!this.getError(en,Ot)}get root(){let en=this;for(;en._parent;)en=en._parent;return en}_updateControlsErrors(en,Ot,Gt){this.status=this._calculateStatus(),en&&this.statusChanges.emit(this.status),(en||Gt)&&this._events.next(new St(this.status,Ot)),this._parent&&this._parent._updateControlsErrors(en,Ot,Gt)}_initObservables(){this.valueChanges=new h.bkB,this.statusChanges=new h.bkB}_calculateStatus(){return this._allControlsDisabled()?Ar:this.errors?Mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(En)?En:this._anyControlsHaveStatus(Mn)?Mn:dn}_anyControlsHaveStatus(en){return this._anyControls(Ot=>Ot.status===en)}_anyControlsDirty(){return this._anyControls(en=>en.dirty)}_anyControlsTouched(){return this._anyControls(en=>en.touched)}_updatePristine(en,Ot){const Gt=!this._anyControlsDirty(),Gn=this.pristine!==Gt;this.pristine=Gt,this._parent&&!en.onlySelf&&this._parent._updatePristine(en,Ot),Gn&&this._events.next(new pn(this.pristine,Ot))}_updateTouched(en={},Ot){this.touched=this._anyControlsTouched(),this._events.next(new kt(this.touched,Ot)),this._parent&&!en.onlySelf&&this._parent._updateTouched(en,Ot)}_registerOnCollectionChange(en){this._onCollectionChange=en}_setUpdateStrategy(en){Lt(en)&&null!=en.updateOn&&(this._updateOn=en.updateOn)}_parentMarkedDirty(en){return!en&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(en){return null}_assignValidators(en){this._rawValidators=Array.isArray(en)?en.slice():en,this._composedValidatorFn=function Rr(zt){return Array.isArray(zt)?q(zt):zt||null}(this._rawValidators)}_assignAsyncValidators(en){this._rawAsyncValidators=Array.isArray(en)?en.slice():en,this._composedAsyncValidatorFn=function Nt(zt){return Array.isArray(zt)?ce(zt):zt||null}(this._rawAsyncValidators)}}class Zt extends sn{constructor(en,Ot,Gt){super(An(Ot),Tt(Gt,Ot)),this.controls=en,this._initObservables(),this._setUpdateStrategy(Ot),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(en,Ot){return this.controls[en]?this.controls[en]:(this.controls[en]=Ot,Ot.setParent(this),Ot._registerOnCollectionChange(this._onCollectionChange),Ot)}addControl(en,Ot,Gt={}){this.registerControl(en,Ot),this.updateValueAndValidity({emitEvent:Gt.emitEvent}),this._onCollectionChange()}removeControl(en,Ot={}){this.controls[en]&&this.controls[en]._registerOnCollectionChange(()=>{}),delete this.controls[en],this.updateValueAndValidity({emitEvent:Ot.emitEvent}),this._onCollectionChange()}setControl(en,Ot,Gt={}){this.controls[en]&&this.controls[en]._registerOnCollectionChange(()=>{}),delete this.controls[en],Ot&&this.registerControl(en,Ot),this.updateValueAndValidity({emitEvent:Gt.emitEvent}),this._onCollectionChange()}contains(en){return this.controls.hasOwnProperty(en)&&this.controls[en].enabled}setValue(en,Ot={}){mt(this,0,en),Object.keys(en).forEach(Gt=>{st(this,!0,Gt),this.controls[Gt].setValue(en[Gt],{onlySelf:!0,emitEvent:Ot.emitEvent})}),this.updateValueAndValidity(Ot)}patchValue(en,Ot={}){null!=en&&(Object.keys(en).forEach(Gt=>{const Gn=this.controls[Gt];Gn&&Gn.patchValue(en[Gt],{onlySelf:!0,emitEvent:Ot.emitEvent})}),this.updateValueAndValidity(Ot))}reset(en={},Ot={}){this._forEachChild((Gt,Gn)=>{Gt.reset(en?en[Gn]:null,{onlySelf:!0,emitEvent:Ot.emitEvent})}),this._updatePristine(Ot,this),this._updateTouched(Ot,this),this.updateValueAndValidity(Ot)}getRawValue(){return this._reduceChildren({},(en,Ot,Gt)=>(en[Gt]=Ot.getRawValue(),en))}_syncPendingControls(){let en=this._reduceChildren(!1,(Ot,Gt)=>!!Gt._syncPendingControls()||Ot);return en&&this.updateValueAndValidity({onlySelf:!0}),en}_forEachChild(en){Object.keys(this.controls).forEach(Ot=>{const Gt=this.controls[Ot];Gt&&en(Gt,Ot)})}_setUpControls(){this._forEachChild(en=>{en.setParent(this),en._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(en){for(const[Ot,Gt]of Object.entries(this.controls))if(this.contains(Ot)&&en(Gt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Ot,Gt,Gn)=>((Gt.enabled||this.disabled)&&(Ot[Gn]=Gt.value),Ot))}_reduceChildren(en,Ot){let Gt=en;return this._forEachChild((Gn,vi)=>{Gt=Ot(Gt,Gn,vi)}),Gt}_allControlsDisabled(){for(const en of Object.keys(this.controls))if(this.controls[en].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(en){return this.controls.hasOwnProperty(en)?this.controls[en]:null}}class zn extends Zt{}const pr=new h.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>qn}),qn="always";function Jt(zt,en){return[...en.path,zt]}function dt(zt,en,Ot=qn){gn(zt,en),en.valueAccessor.writeValue(zt.value),(zt.disabled||"always"===Ot)&&en.valueAccessor.setDisabledState?.(zt.disabled),function ir(zt,en){en.valueAccessor.registerOnChange(Ot=>{zt._pendingValue=Ot,zt._pendingChange=!0,zt._pendingDirty=!0,"change"===zt.updateOn&&Wr(zt,en)})}(zt,en),function Vr(zt,en){const Ot=(Gt,Gn)=>{en.valueAccessor.writeValue(Gt),Gn&&en.viewToModelUpdate(Gt)};zt.registerOnChange(Ot),en._registerOnDestroy(()=>{zt._unregisterOnChange(Ot)})}(zt,en),function hr(zt,en){en.valueAccessor.registerOnTouched(()=>{zt._pendingTouched=!0,"blur"===zt.updateOn&&zt._pendingChange&&Wr(zt,en),"submit"!==zt.updateOn&&zt.markAsTouched()})}(zt,en),function Bt(zt,en){if(en.valueAccessor.setDisabledState){const Ot=Gt=>{en.valueAccessor.setDisabledState(Gt)};zt.registerOnDisabledChange(Ot),en._registerOnDestroy(()=>{zt._unregisterOnDisabledChange(Ot)})}}(zt,en)}function Ne(zt,en,Ot=!0){const Gt=()=>{};en.valueAccessor&&(en.valueAccessor.registerOnChange(Gt),en.valueAccessor.registerOnTouched(Gt)),Kn(zt,en),zt&&(en._invokeOnDestroyCallbacks(),zt._registerOnCollectionChange(()=>{}))}function We(zt,en){zt.forEach(Ot=>{Ot.registerOnValidatorChange&&Ot.registerOnValidatorChange(en)})}function gn(zt,en){const Ot=Te(zt);null!==en.validator?zt.setValidators(me(Ot,en.validator)):"function"==typeof Ot&&zt.setValidators([Ot]);const Gt=Ke(zt);null!==en.asyncValidator?zt.setAsyncValidators(me(Gt,en.asyncValidator)):"function"==typeof Gt&&zt.setAsyncValidators([Gt]);const Gn=()=>zt.updateValueAndValidity();We(en._rawValidators,Gn),We(en._rawAsyncValidators,Gn)}function Kn(zt,en){let Ot=!1;if(null!==zt){if(null!==en.validator){const Gn=Te(zt);if(Array.isArray(Gn)&&Gn.length>0){const vi=Gn.filter(wo=>wo!==en.validator);vi.length!==Gn.length&&(Ot=!0,zt.setValidators(vi))}}if(null!==en.asyncValidator){const Gn=Ke(zt);if(Array.isArray(Gn)&&Gn.length>0){const vi=Gn.filter(wo=>wo!==en.asyncValidator);vi.length!==Gn.length&&(Ot=!0,zt.setAsyncValidators(vi))}}}const Gt=()=>{};return We(en._rawValidators,Gt),We(en._rawAsyncValidators,Gt),Ot}function Wr(zt,en){zt._pendingDirty&&zt.markAsDirty(),zt.setValue(zt._pendingValue,{emitModelToViewChange:!1}),en.viewToModelUpdate(zt._pendingValue),zt._pendingChange=!1}function ti(zt,en){gn(zt,en)}function Dr(zt,en){if(!zt.hasOwnProperty("model"))return!1;const Ot=zt.model;return!!Ot.isFirstChange()||!Object.is(en,Ot.currentValue)}function Ur(zt,en){zt._syncPendingControls(),en.forEach(Ot=>{const Gt=Ot.control;"submit"===Gt.updateOn&&Gt._pendingChange&&(Ot.viewToModelUpdate(Gt._pendingValue),Gt._pendingChange=!1)})}function li(zt,en){if(!en)return null;let Ot,Gt,Gn;return Array.isArray(en),en.forEach(vi=>{vi.constructor===de?Ot=vi:function Hr(zt){return Object.getPrototypeOf(zt.constructor)===U}(vi)?Gt=vi:Gn=vi}),Gn||Gt||Ot||null}const ls={provide:Le,useExisting:(0,h.Rfq)(()=>bs)},Ji=Promise.resolve();let bs=(()=>{class zt extends Le{get submitted(){return(0,h.O8t)(this.submittedReactive)}constructor(Ot,Gt,Gn){super(),this.callSetDisabledState=Gn,this._submitted=(0,h.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,h.vPA)(!1),this._directives=new Set,this.ngSubmit=new h.bkB,this.form=new Zt({},q(Ot),ce(Gt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Ot){Ji.then(()=>{const Gt=this._findContainer(Ot.path);Ot.control=Gt.registerControl(Ot.name,Ot.control),dt(Ot.control,Ot,this.callSetDisabledState),Ot.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(Ot)})}getControl(Ot){return this.form.get(Ot.path)}removeControl(Ot){Ji.then(()=>{const Gt=this._findContainer(Ot.path);Gt&&Gt.removeControl(Ot.name),this._directives.delete(Ot)})}addFormGroup(Ot){Ji.then(()=>{const Gt=this._findContainer(Ot.path),Gn=new Zt({});ti(Gn,Ot),Gt.registerControl(Ot.name,Gn),Gn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Ot){Ji.then(()=>{const Gt=this._findContainer(Ot.path);Gt&&Gt.removeControl(Ot.name)})}getFormGroup(Ot){return this.form.get(Ot.path)}updateModel(Ot,Gt){Ji.then(()=>{this.form.get(Ot.path).setValue(Gt)})}setValue(Ot){this.control.setValue(Ot)}onSubmit(Ot){return this.submittedReactive.set(!0),Ur(this.form,this._directives),this.ngSubmit.emit(Ot),"dialog"===Ot?.target?.method}onReset(){this.resetForm()}resetForm(Ot=void 0){this.form.reset(Ot),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Ot){return Ot.pop(),Ot.length?this.form.get(Ot):this.form}static#e=this.\u0275fac=function(Gt){return new(Gt||zt)(h.rXU(te,10),h.rXU(ue,10),h.rXU(pr,8))};static#t=this.\u0275dir=h.FsC({type:zt,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Gt,Gn){1&Gt&&h.bIt("submit",function(wo){return Gn.onSubmit(wo)})("reset",function(){return Gn.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h.Jv_([ls]),h.Vt3]})}return zt})();function As(zt,en){const Ot=zt.indexOf(en);Ot>-1&&zt.splice(Ot,1)}function Js(zt){return"object"==typeof zt&&null!==zt&&2===Object.keys(zt).length&&"value"in zt&&"disabled"in zt}const Eo=class extends sn{constructor(en=null,Ot,Gt){super(An(Ot),Tt(Gt,Ot)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(en),this._setUpdateStrategy(Ot),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lt(Ot)&&(Ot.nonNullable||Ot.initialValueIsDefault)&&(this.defaultValue=Js(en)?en.value:en)}setValue(en,Ot={}){this.value=this._pendingValue=en,this._onChange.length&&!1!==Ot.emitModelToViewChange&&this._onChange.forEach(Gt=>Gt(this.value,!1!==Ot.emitViewToModelChange)),this.updateValueAndValidity(Ot)}patchValue(en,Ot={}){this.setValue(en,Ot)}reset(en=this.defaultValue,Ot={}){this._applyFormState(en),this.markAsPristine(Ot),this.markAsUntouched(Ot),this.setValue(this.value,Ot),this._pendingChange=!1}_updateValue(){}_anyControls(en){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(en){this._onChange.push(en)}_unregisterOnChange(en){As(this._onChange,en)}registerOnDisabledChange(en){this._onDisabledChange.push(en)}_unregisterOnDisabledChange(en){As(this._onDisabledChange,en)}_forEachChild(en){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(en){Js(en)?(this.value=this._pendingValue=en.value,en.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=en}};let Fc=(()=>{class zt extends Le{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Jt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let Ot;return function(Gn){return(Ot||(Ot=h.xGo(zt)))(Gn||zt)}})();static#t=this.\u0275dir=h.FsC({type:zt,features:[h.Vt3]})}return zt})();const nc={provide:Ee,useExisting:(0,h.Rfq)(()=>gd)},Cc=Promise.resolve();let gd=(()=>{class zt extends Ee{constructor(Ot,Gt,Gn,vi,wo,ta){super(),this._changeDetectorRef=wo,this.callSetDisabledState=ta,this.control=new Eo,this._registered=!1,this.name="",this.update=new h.bkB,this._parent=Ot,this._setValidators(Gt),this._setAsyncValidators(Gn),this.valueAccessor=li(0,vi)}ngOnChanges(Ot){if(this._checkForErrors(),!this._registered||"name"in Ot){if(this._registered&&(this._checkName(),this.formDirective)){const Gt=Ot.name.previousValue;this.formDirective.removeControl({name:Gt,path:this._getPath(Gt)})}this._setUpControl()}"isDisabled"in Ot&&this._updateDisabled(Ot),Dr(Ot,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Ot){this.viewModel=Ot,this.update.emit(Ot)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){dt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Ot){Cc.then(()=>{this.control.setValue(Ot,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(Ot){const Gt=Ot.isDisabled.currentValue,Gn=0!==Gt&&(0,h.L39)(Gt);Cc.then(()=>{Gn&&!this.control.disabled?this.control.disable():!Gn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(Ot){return this._parent?Jt(Ot,this._parent):[Ot]}static#e=this.\u0275fac=function(Gt){return new(Gt||zt)(h.rXU(Le,9),h.rXU(te,10),h.rXU(ue,10),h.rXU(H,10),h.rXU(h.gRc,8),h.rXU(pr,8))};static#t=this.\u0275dir=h.FsC({type:zt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h.Jv_([nc]),h.Vt3,h.OA$]})}return zt})(),Wc=(()=>{class zt{static#e=this.\u0275fac=function(Gt){return new(Gt||zt)};static#t=this.\u0275dir=h.FsC({type:zt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return zt})();const gl=new h.nKC(""),Ic={provide:Ee,useExisting:(0,h.Rfq)(()=>fu)};let fu=(()=>{class zt extends Ee{set isDisabled(Ot){}static#e=this._ngModelWarningSentOnce=!1;constructor(Ot,Gt,Gn,vi,wo){super(),this._ngModelWarningConfig=vi,this.callSetDisabledState=wo,this.update=new h.bkB,this._ngModelWarningSent=!1,this._setValidators(Ot),this._setAsyncValidators(Gt),this.valueAccessor=li(0,Gn)}ngOnChanges(Ot){if(this._isControlChanged(Ot)){const Gt=Ot.form.previousValue;Gt&&Ne(Gt,this,!1),dt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Dr(Ot,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ne(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(Ot){this.viewModel=Ot,this.update.emit(Ot)}_isControlChanged(Ot){return Ot.hasOwnProperty("form")}static#t=this.\u0275fac=function(Gt){return new(Gt||zt)(h.rXU(te,10),h.rXU(ue,10),h.rXU(H,10),h.rXU(gl,8),h.rXU(pr,8))};static#n=this.\u0275dir=h.FsC({type:zt,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[h.Jv_([Ic]),h.Vt3,h.OA$]})}return zt})();const $d={provide:Le,useExisting:(0,h.Rfq)(()=>Ol)};let Ol=(()=>{class zt extends Le{get submitted(){return(0,h.O8t)(this._submittedReactive)}set submitted(Ot){this._submittedReactive.set(Ot)}constructor(Ot,Gt,Gn){super(),this.callSetDisabledState=Gn,this._submitted=(0,h.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,h.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.bkB,this._setValidators(Ot),this._setAsyncValidators(Gt)}ngOnChanges(Ot){this._checkFormPresent(),Ot.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Kn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Ot){const Gt=this.form.get(Ot.path);return dt(Gt,Ot,this.callSetDisabledState),Gt.updateValueAndValidity({emitEvent:!1}),this.directives.push(Ot),Gt}getControl(Ot){return this.form.get(Ot.path)}removeControl(Ot){Ne(Ot.control||null,Ot,!1),function ui(zt,en){const Ot=zt.indexOf(en);Ot>-1&&zt.splice(Ot,1)}(this.directives,Ot)}addFormGroup(Ot){this._setUpFormContainer(Ot)}removeFormGroup(Ot){this._cleanUpFormContainer(Ot)}getFormGroup(Ot){return this.form.get(Ot.path)}addFormArray(Ot){this._setUpFormContainer(Ot)}removeFormArray(Ot){this._cleanUpFormContainer(Ot)}getFormArray(Ot){return this.form.get(Ot.path)}updateModel(Ot,Gt){this.form.get(Ot.path).setValue(Gt)}onSubmit(Ot){return this._submittedReactive.set(!0),Ur(this.form,this.directives),this.ngSubmit.emit(Ot),this.form._events.next(new an(this.control)),"dialog"===Ot?.target?.method}onReset(){this.resetForm()}resetForm(Ot=void 0){this.form.reset(Ot),this._submittedReactive.set(!1),this.form._events.next(new hn(this.form))}_updateDomValue(){this.directives.forEach(Ot=>{const Gt=Ot.control,Gn=this.form.get(Ot.path);Gt!==Gn&&(Ne(Gt||null,Ot),(zt=>zt instanceof Eo)(Gn)&&(dt(Gn,Ot,this.callSetDisabledState),Ot.control=Gn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Ot){const Gt=this.form.get(Ot.path);ti(Gt,Ot),Gt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Ot){if(this.form){const Gt=this.form.get(Ot.path);Gt&&function ni(zt,en){return Kn(zt,en)}(Gt,Ot)&&Gt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gn(this.form,this),this._oldForm&&Kn(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(Gt){return new(Gt||zt)(h.rXU(te,10),h.rXU(ue,10),h.rXU(pr,8))};static#t=this.\u0275dir=h.FsC({type:zt,selectors:[["","formGroup",""]],hostBindings:function(Gt,Gn){1&Gt&&h.bIt("submit",function(wo){return Gn.onSubmit(wo)})("reset",function(){return Gn.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h.Jv_([$d]),h.Vt3,h.OA$]})}return zt})();const rc={provide:Le,useExisting:(0,h.Rfq)(()=>Wl)};let Wl=(()=>{class zt extends Fc{constructor(Ot,Gt,Gn){super(),this.name=null,this._parent=Ot,this._setValidators(Gt),this._setAsyncValidators(Gn)}_checkParentType(){Kd(this._parent)}static#e=this.\u0275fac=function(Gt){return new(Gt||zt)(h.rXU(Le,13),h.rXU(te,10),h.rXU(ue,10))};static#t=this.\u0275dir=h.FsC({type:zt,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[h.Jv_([rc]),h.Vt3]})}return zt})();const ic={provide:Le,useExisting:(0,h.Rfq)(()=>Ns)};let Ns=(()=>{class zt extends Le{constructor(Ot,Gt,Gn){super(),this.name=null,this._parent=Ot,this._setValidators(Gt),this._setAsyncValidators(Gn)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Jt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Kd(this._parent)}static#e=this.\u0275fac=function(Gt){return new(Gt||zt)(h.rXU(Le,13),h.rXU(te,10),h.rXU(ue,10))};static#t=this.\u0275dir=h.FsC({type:zt,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[h.Jv_([ic]),h.Vt3]})}return zt})();function Kd(zt){return!(zt instanceof Wl||zt instanceof Ol||zt instanceof Ns)}const Pl={provide:Ee,useExisting:(0,h.Rfq)(()=>Oi)};let Oi=(()=>{class zt extends Ee{set isDisabled(Ot){}static#e=this._ngModelWarningSentOnce=!1;constructor(Ot,Gt,Gn,vi,wo){super(),this._ngModelWarningConfig=wo,this._added=!1,this.name=null,this.update=new h.bkB,this._ngModelWarningSent=!1,this._parent=Ot,this._setValidators(Gt),this._setAsyncValidators(Gn),this.valueAccessor=li(0,vi)}ngOnChanges(Ot){this._added||this._setUpControl(),Dr(Ot,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Ot){this.viewModel=Ot,this.update.emit(Ot)}get path(){return Jt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(Gt){return new(Gt||zt)(h.rXU(Le,13),h.rXU(te,10),h.rXU(ue,10),h.rXU(H,10),h.rXU(gl,8))};static#n=this.\u0275dir=h.FsC({type:zt,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[h.Jv_([Pl]),h.Vt3,h.OA$]})}return zt})();let Ua=(()=>{class zt{constructor(){this._validator=w}ngOnChanges(Ot){if(this.inputName in Ot){const Gt=this.normalizeInput(Ot[this.inputName].currentValue);this._enabled=this.enabled(Gt),this._validator=this._enabled?this.createValidator(Gt):w,this._onChange&&this._onChange()}}validate(Ot){return this._validator(Ot)}registerOnValidatorChange(Ot){this._onChange=Ot}enabled(Ot){return null!=Ot}static#e=this.\u0275fac=function(Gt){return new(Gt||zt)};static#t=this.\u0275dir=h.FsC({type:zt,features:[h.OA$]})}return zt})();const ko={provide:te,useExisting:(0,h.Rfq)(()=>ro),multi:!0},Tc={provide:te,useExisting:(0,h.Rfq)(()=>us),multi:!0};let ro=(()=>{class zt extends Ua{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.L39,this.createValidator=Ot=>Me}enabled(Ot){return Ot}static#e=this.\u0275fac=(()=>{let Ot;return function(Gn){return(Ot||(Ot=h.xGo(zt)))(Gn||zt)}})();static#t=this.\u0275dir=h.FsC({type:zt,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Gt,Gn){2&Gt&&h.BMQ("required",Gn._enabled?"":null)},inputs:{required:"required"},features:[h.Jv_([ko]),h.Vt3]})}return zt})(),us=(()=>{class zt extends ro{constructor(){super(...arguments),this.createValidator=Ot=>Oe}static#e=this.\u0275fac=(()=>{let Ot;return function(Gn){return(Ot||(Ot=h.xGo(zt)))(Gn||zt)}})();static#t=this.\u0275dir=h.FsC({type:zt,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(Gt,Gn){2&Gt&&h.BMQ("required",Gn._enabled?"":null)},features:[h.Jv_([Tc]),h.Vt3]})}return zt})();const wi={provide:te,useExisting:(0,h.Rfq)(()=>Uc),multi:!0};let Uc=(()=>{class zt extends Ua{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=Ot=>function kr(zt){return"number"==typeof zt?zt:parseInt(zt,10)}(Ot),this.createValidator=Ot=>l(Ot)}static#e=this.\u0275fac=(()=>{let Ot;return function(Gn){return(Ot||(Ot=h.xGo(zt)))(Gn||zt)}})();static#t=this.\u0275dir=h.FsC({type:zt,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Gt,Gn){2&Gt&&h.BMQ("maxlength",Gn._enabled?Gn.maxlength:null)},inputs:{maxlength:"maxlength"},features:[h.Jv_([wi]),h.Vt3]})}return zt})(),Ma=(()=>{class zt{static#e=this.\u0275fac=function(Gt){return new(Gt||zt)};static#t=this.\u0275mod=h.$C({type:zt});static#n=this.\u0275inj=h.G2t({})}return zt})();class pu extends sn{constructor(en,Ot,Gt){super(An(Ot),Tt(Gt,Ot)),this.controls=en,this._initObservables(),this._setUpdateStrategy(Ot),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(en){return this.controls[this._adjustIndex(en)]}push(en,Ot={}){this.controls.push(en),this._registerControl(en),this.updateValueAndValidity({emitEvent:Ot.emitEvent}),this._onCollectionChange()}insert(en,Ot,Gt={}){this.controls.splice(en,0,Ot),this._registerControl(Ot),this.updateValueAndValidity({emitEvent:Gt.emitEvent})}removeAt(en,Ot={}){let Gt=this._adjustIndex(en);Gt<0&&(Gt=0),this.controls[Gt]&&this.controls[Gt]._registerOnCollectionChange(()=>{}),this.controls.splice(Gt,1),this.updateValueAndValidity({emitEvent:Ot.emitEvent})}setControl(en,Ot,Gt={}){let Gn=this._adjustIndex(en);Gn<0&&(Gn=0),this.controls[Gn]&&this.controls[Gn]._registerOnCollectionChange(()=>{}),this.controls.splice(Gn,1),Ot&&(this.controls.splice(Gn,0,Ot),this._registerControl(Ot)),this.updateValueAndValidity({emitEvent:Gt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(en,Ot={}){mt(this,0,en),en.forEach((Gt,Gn)=>{st(this,!1,Gn),this.at(Gn).setValue(Gt,{onlySelf:!0,emitEvent:Ot.emitEvent})}),this.updateValueAndValidity(Ot)}patchValue(en,Ot={}){null!=en&&(en.forEach((Gt,Gn)=>{this.at(Gn)&&this.at(Gn).patchValue(Gt,{onlySelf:!0,emitEvent:Ot.emitEvent})}),this.updateValueAndValidity(Ot))}reset(en=[],Ot={}){this._forEachChild((Gt,Gn)=>{Gt.reset(en[Gn],{onlySelf:!0,emitEvent:Ot.emitEvent})}),this._updatePristine(Ot,this),this._updateTouched(Ot,this),this.updateValueAndValidity(Ot)}getRawValue(){return this.controls.map(en=>en.getRawValue())}clear(en={}){this.controls.length<1||(this._forEachChild(Ot=>Ot._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:en.emitEvent}))}_adjustIndex(en){return en<0?en+this.length:en}_syncPendingControls(){let en=this.controls.reduce((Ot,Gt)=>!!Gt._syncPendingControls()||Ot,!1);return en&&this.updateValueAndValidity({onlySelf:!0}),en}_forEachChild(en){this.controls.forEach((Ot,Gt)=>{en(Ot,Gt)})}_updateValue(){this.value=this.controls.filter(en=>en.enabled||this.disabled).map(en=>en.value)}_anyControls(en){return this.controls.some(Ot=>Ot.enabled&&en(Ot))}_setUpControls(){this._forEachChild(en=>this._registerControl(en))}_allControlsDisabled(){for(const en of this.controls)if(en.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(en){en.setParent(this),en._registerOnCollectionChange(this._onCollectionChange)}_find(en){return this.at(en)??null}}function wd(zt){return!!zt&&(void 0!==zt.asyncValidators||void 0!==zt.validators||void 0!==zt.updateOn)}let ea=(()=>{class zt{constructor(){this.useNonNullable=!1}get nonNullable(){const Ot=new zt;return Ot.useNonNullable=!0,Ot}group(Ot,Gt=null){const Gn=this._reduceControls(Ot);let vi={};return wd(Gt)?vi=Gt:null!==Gt&&(vi.validators=Gt.validator,vi.asyncValidators=Gt.asyncValidator),new Zt(Gn,vi)}record(Ot,Gt=null){const Gn=this._reduceControls(Ot);return new zn(Gn,Gt)}control(Ot,Gt,Gn){let vi={};return this.useNonNullable?(wd(Gt)?vi=Gt:(vi.validators=Gt,vi.asyncValidators=Gn),new Eo(Ot,{...vi,nonNullable:!0})):new Eo(Ot,Gt,Gn)}array(Ot,Gt,Gn){const vi=Ot.map(wo=>this._createControl(wo));return new pu(vi,Gt,Gn)}_reduceControls(Ot){const Gt={};return Object.keys(Ot).forEach(Gn=>{Gt[Gn]=this._createControl(Ot[Gn])}),Gt}_createControl(Ot){return Ot instanceof Eo||Ot instanceof sn?Ot:Array.isArray(Ot)?this.control(Ot[0],Ot.length>1?Ot[1]:null,Ot.length>2?Ot[2]:null):this.control(Ot)}static#e=this.\u0275fac=function(Gt){return new(Gt||zt)};static#t=this.\u0275prov=h.jDH({token:zt,factory:zt.\u0275fac,providedIn:"root"})}return zt})(),Hi=(()=>{class zt{static withConfig(Ot){return{ngModule:zt,providers:[{provide:pr,useValue:Ot.callSetDisabledState??qn}]}}static#e=this.\u0275fac=function(Gt){return new(Gt||zt)};static#t=this.\u0275mod=h.$C({type:zt});static#n=this.\u0275inj=h.G2t({imports:[Ma]})}return zt})(),_d=(()=>{class zt{static withConfig(Ot){return{ngModule:zt,providers:[{provide:gl,useValue:Ot.warnOnNgModelWithFormControl??"always"},{provide:pr,useValue:Ot.callSetDisabledState??qn}]}}static#e=this.\u0275fac=function(Gt){return new(Gt||zt)};static#t=this.\u0275mod=h.$C({type:zt});static#n=this.\u0275inj=h.G2t({imports:[Ma]})}return zt})()},94073:()=>{"use strict";const Ye=":";Error;const me=function(Qe,...ke){if(me.translate){const Xe=me.translate(Qe,ke);Qe=Xe[0],ke=Xe[1]}let Ie=Ke(Qe[0],Qe.raw[0]);for(let Xe=1;Xe<Qe.length;Xe++)Ie+=ke[Xe-1]+Ke(Qe[Xe],Qe.raw[Xe]);return Ie},Te=":";function Ke(Qe,ke){return ke.charAt(0)===Te?Qe.substring(function w(Qe,ke){for(let Ie=1,Xe=1;Ie<Qe.length;Ie++,Xe++)if("\\"===ke[Xe])Xe++;else if(Qe[Ie]===Ye)return Ie;throw new Error(`Unterminated $localize metadata block in "${ke}".`)}(Qe,ke)+1):Qe}globalThis.$localize=me},88834:(Ye,J,A)=>{"use strict";A.d(J,{$z:()=>ve,Hl:()=>O,It:()=>ge,iY:()=>_});var h=A(36860),x=A(93953),N=A(18617),Y=A(86600);const M=["mat-button",""],j=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],R=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],H=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",W=["mat-icon-button",""],Q=["*"],ae=new x.nKC("MAT_BUTTON_CONFIG"),te=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let ue=(()=>{class ${get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(c){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,c)}get disableRipple(){return this._disableRipple}set disableRipple(c){this._disableRipple=c,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(c){this._disabled=c,this._updateRippleDisabled()}constructor(c,E,q,X){this._elementRef=c,this._platform=E,this._ngZone=q,this._animationMode=X,this._focusMonitor=(0,x.WQX)(N.FN),this._rippleLoader=(0,x.WQX)(Y.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const ce=(0,x.WQX)(ae,{optional:!0}),me=c.nativeElement,Te=me.classList;this.disabledInteractive=ce?.disabledInteractive??!1,this.color=ce?.color??null,this._rippleLoader?.configureRipple(me,{className:"mat-mdc-button-ripple"});for(const{attribute:Ke,mdcClasses:Qe}of te)me.hasAttribute(Ke)&&Te.add(...Qe)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(c="program",E){c?this._focusMonitor.focusVia(this._elementRef.nativeElement,c,E):this._elementRef.nativeElement.focus(E)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(E){x.QTQ()};static#t=this.\u0275dir=x.FsC({type:$,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",x.L39],disabled:[2,"disabled","disabled",x.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",x.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",x.L39]},features:[x.GFd]})}return $})(),he=(()=>{class $ extends ue{constructor(c,E,q,X){super(c,E,q,X),this._haltDisabledEvents=ce=>{this.disabled&&(ce.preventDefault(),ce.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(E){x.QTQ()};static#t=this.\u0275dir=x.FsC({type:$,inputs:{tabIndex:[2,"tabIndex","tabIndex",c=>null==c?void 0:(0,x.Udg)(c)]},features:[x.GFd,x.Vt3]})}return $})(),ve=(()=>{class $ extends ue{constructor(c,E,q,X){super(c,E,q,X)}static#e=this.\u0275fac=function(E){return new(E||$)(x.rXU(x.aKT),x.rXU(h.OD),x.rXU(x.SKi),x.rXU(x.bc$,8))};static#t=this.\u0275cmp=x.VBU({type:$,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(E,q){2&E&&(x.BMQ("disabled",q._getDisabledAttribute())("aria-disabled",q._getAriaDisabled()),x.HbH(q.color?"mat-"+q.color:""),x.AVh("mat-mdc-button-disabled",q.disabled)("mat-mdc-button-disabled-interactive",q.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===q._animationMode)("mat-unthemed",!q.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[x.Vt3,x.aNF],attrs:M,ngContentSelectors:R,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(E,q){1&E&&(x.NAR(j),x.nrm(0,"span",0),x.SdG(1),x.j41(2,"span",1),x.SdG(3,1),x.k0s(),x.SdG(4,2),x.nrm(5,"span",2)(6,"span",3)),2&E&&x.AVh("mdc-button__ripple",!q._isFab)("mdc-fab__ripple",q._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return $})(),ge=(()=>{class $ extends he{constructor(c,E,q,X){super(c,E,q,X)}static#e=this.\u0275fac=function(E){return new(E||$)(x.rXU(x.aKT),x.rXU(h.OD),x.rXU(x.SKi),x.rXU(x.bc$,8))};static#t=this.\u0275cmp=x.VBU({type:$,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(E,q){2&E&&(x.BMQ("disabled",q._getDisabledAttribute())("tabindex",q.disabled&&!q.disabledInteractive?-1:q.tabIndex)("aria-disabled",q._getDisabledAttribute()),x.HbH(q.color?"mat-"+q.color:""),x.AVh("mat-mdc-button-disabled",q.disabled)("mat-mdc-button-disabled-interactive",q.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===q._animationMode)("mat-unthemed",!q.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[x.Vt3,x.aNF],attrs:M,ngContentSelectors:R,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(E,q){1&E&&(x.NAR(j),x.nrm(0,"span",0),x.SdG(1),x.j41(2,"span",1),x.SdG(3,1),x.k0s(),x.SdG(4,2),x.nrm(5,"span",2)(6,"span",3)),2&E&&x.AVh("mdc-button__ripple",!q._isFab)("mdc-fab__ripple",q._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',H],encapsulation:2,changeDetection:0})}return $})(),_=(()=>{class $ extends ue{constructor(c,E,q,X){super(c,E,q,X),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(E){return new(E||$)(x.rXU(x.aKT),x.rXU(h.OD),x.rXU(x.SKi),x.rXU(x.bc$,8))};static#t=this.\u0275cmp=x.VBU({type:$,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(E,q){2&E&&(x.BMQ("disabled",q._getDisabledAttribute())("aria-disabled",q._getAriaDisabled()),x.HbH(q.color?"mat-"+q.color:""),x.AVh("mat-mdc-button-disabled",q.disabled)("mat-mdc-button-disabled-interactive",q.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===q._animationMode)("mat-unthemed",!q.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[x.Vt3,x.aNF],attrs:W,ngContentSelectors:Q,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(E,q){1&E&&(x.NAR(),x.nrm(0,"span",0),x.SdG(1),x.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',H],encapsulation:2,changeDetection:0})}return $})(),O=(()=>{class ${static#e=this.\u0275fac=function(E){return new(E||$)};static#t=this.\u0275mod=x.$C({type:$});static#n=this.\u0275inj=x.G2t({imports:[Y.yE,Y.pZ,Y.yE]})}return $})()},25596:(Ye,J,A)=>{"use strict";A.d(J,{Hu:()=>Oe,Lc:()=>Q,MM:()=>ae,QG:()=>ge,RN:()=>V,WQ:()=>re,YY:()=>de,dh:()=>P,kF:()=>te,m2:()=>W});var h=A(93953),x=A(60177),N=A(86600);const Y=["*"],R=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],U=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],H=new h.nKC("MAT_CARD_CONFIG");let V=(()=>{class je{constructor(l){this.appearance=l?.appearance||"raised"}static#e=this.\u0275fac=function(f){return new(f||je)(h.rXU(H,8))};static#t=this.\u0275cmp=h.VBU({type:je,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(f,w){2&f&&h.AVh("mat-mdc-card-outlined","outlined"===w.appearance)("mdc-card--outlined","outlined"===w.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[h.aNF],ngContentSelectors:Y,decls:1,vars:0,template:function(f,w){1&f&&(h.NAR(),h.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return je})(),P=(()=>{class je{static#e=this.\u0275fac=function(f){return new(f||je)};static#t=this.\u0275dir=h.FsC({type:je,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return je})(),W=(()=>{class je{static#e=this.\u0275fac=function(f){return new(f||je)};static#t=this.\u0275dir=h.FsC({type:je,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return je})(),Q=(()=>{class je{static#e=this.\u0275fac=function(f){return new(f||je)};static#t=this.\u0275dir=h.FsC({type:je,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return je})(),de=(()=>{class je{constructor(){this.align="start"}static#e=this.\u0275fac=function(f){return new(f||je)};static#t=this.\u0275dir=h.FsC({type:je,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(f,w){2&f&&h.AVh("mat-mdc-card-actions-align-end","end"===w.align)},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0})}return je})(),ae=(()=>{class je{static#e=this.\u0275fac=function(f){return new(f||je)};static#t=this.\u0275cmp=h.VBU({type:je,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[h.aNF],ngContentSelectors:U,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(f,w){1&f&&(h.NAR(R),h.SdG(0),h.j41(1,"div",0),h.SdG(2,1),h.k0s(),h.SdG(3,2))},encapsulation:2,changeDetection:0})}return je})(),re=(()=>{class je{static#e=this.\u0275fac=function(f){return new(f||je)};static#t=this.\u0275dir=h.FsC({type:je,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0})}return je})(),te=(()=>{class je{static#e=this.\u0275fac=function(f){return new(f||je)};static#t=this.\u0275dir=h.FsC({type:je,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0})}return je})(),ge=(()=>{class je{static#e=this.\u0275fac=function(f){return new(f||je)};static#t=this.\u0275dir=h.FsC({type:je,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"],standalone:!0})}return je})(),Oe=(()=>{class je{static#e=this.\u0275fac=function(f){return new(f||je)};static#t=this.\u0275mod=h.$C({type:je});static#n=this.\u0275inj=h.G2t({imports:[N.yE,x.MD,N.yE]})}return je})()},86600:(Ye,J,A)=>{"use strict";A.d(J,{r5:()=>he,ed:()=>ve,es:()=>Se,QC:()=>Yt,is:()=>Be,$E:()=>C,yE:()=>Oe,Np:()=>oe,wT:()=>Mn,Sy:()=>jn,wg:()=>le,O5:()=>Ae,r6:()=>b,Ej:()=>An,pZ:()=>z,ug:()=>Et,X0:()=>O,tO:()=>Rr,jb:()=>En,TL:()=>Ar});var h=A(93953),x=A(18617),N=A(28203),M=A(60177),j=A(36860),R=A(14085),U=A(21413),H=A(67336);const ee=["text"],W=[[["mat-icon"]],"*"],Q=["mat-icon","*"];function de(Tt,Nt){if(1&Tt&&h.nrm(0,"mat-pseudo-checkbox",1),2&Tt){const Lt=h.XpG();h.Y8G("disabled",Lt.disabled)("state",Lt.selected?"checked":"unchecked")}}function ae(Tt,Nt){if(1&Tt&&h.nrm(0,"mat-pseudo-checkbox",3),2&Tt){const Lt=h.XpG();h.Y8G("disabled",Lt.disabled)}}function re(Tt,Nt){if(1&Tt&&(h.j41(0,"span",4),h.EFF(1),h.k0s()),2&Tt){const Lt=h.XpG();h.R7$(),h.SpI("(",Lt.group.label,")")}}const te=["mat-internal-form-field",""],ue=["*"];let he=(()=>{class Tt{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#f=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return Tt})(),ve=(()=>{class Tt{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return Tt})();const Me=new h.nKC("mat-sanity-checks",{providedIn:"root",factory:function ge(){return!0}});let Oe=(()=>{class Tt{constructor(Lt,st,mt){this._sanityChecks=st,this._document=mt,this._hasDoneGlobalChecks=!1,Lt._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Lt){return!(0,j.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Lt])}static#e=this.\u0275fac=function(st){return new(st||Tt)(h.KVO(x.Q_),h.KVO(Me,8),h.KVO(M.qQ))};static#t=this.\u0275mod=h.$C({type:Tt});static#n=this.\u0275inj=h.G2t({imports:[N.jI,N.jI]})}return Tt})();class O{constructor(Nt,Lt,st,mt,sn){this._defaultMatcher=Nt,this.ngControl=Lt,this._parentFormGroup=st,this._parentForm=mt,this._stateChanges=sn,this.errorState=!1}updateErrorState(){const Nt=this.errorState,Lt=this._parentFormGroup||this._parentForm,st=this.matcher||this._defaultMatcher,mt=this.ngControl?this.ngControl.control:null,sn=st?.isErrorState(mt,Lt)??!1;sn!==Nt&&(this.errorState=sn,this._stateChanges.next())}}let Se=(()=>{class Tt{isErrorState(Lt,st){return!!(Lt&&Lt.invalid&&(Lt.touched||st&&st.submitted))}static#e=this.\u0275fac=function(st){return new(st||Tt)};static#t=this.\u0275prov=h.jDH({token:Tt,factory:Tt.\u0275fac,providedIn:"root"})}return Tt})(),oe=(()=>{class Tt{static#e=this.\u0275fac=function(st){return new(st||Tt)};static#t=this.\u0275mod=h.$C({type:Tt});static#n=this.\u0275inj=h.G2t({imports:[Oe,Oe]})}return Tt})();var fe=function(Tt){return Tt[Tt.FADING_IN=0]="FADING_IN",Tt[Tt.VISIBLE=1]="VISIBLE",Tt[Tt.FADING_OUT=2]="FADING_OUT",Tt[Tt.HIDDEN=3]="HIDDEN",Tt}(fe||{});class we{constructor(Nt,Lt,st,mt=!1){this._renderer=Nt,this.element=Lt,this.config=st,this._animationForciblyDisabledThroughCss=mt,this.state=fe.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const De=(0,j.BQ)({passive:!0,capture:!0});class $e{constructor(){this._events=new Map,this._delegateEventHandler=Nt=>{const Lt=(0,j.Fb)(Nt);Lt&&this._events.get(Nt.type)?.forEach((st,mt)=>{(mt===Lt||mt.contains(Lt))&&st.forEach(sn=>sn.handleEvent(Nt))})}}addHandler(Nt,Lt,st,mt){const sn=this._events.get(Lt);if(sn){const Zt=sn.get(st);Zt?Zt.add(mt):sn.set(st,new Set([mt]))}else this._events.set(Lt,new Map([[st,new Set([mt])]])),Nt.runOutsideAngular(()=>{document.addEventListener(Lt,this._delegateEventHandler,De)})}removeHandler(Nt,Lt,st){const mt=this._events.get(Nt);if(!mt)return;const sn=mt.get(Lt);sn&&(sn.delete(st),0===sn.size&&mt.delete(Lt),0===mt.size&&(this._events.delete(Nt),document.removeEventListener(Nt,this._delegateEventHandler,De)))}}const Je={enterDuration:225,exitDuration:150},Pt=(0,j.BQ)({passive:!0,capture:!0}),nt=["mousedown","touchstart"],Ge=["mouseup","mouseleave","touchend","touchcancel"];class Et{static#e=this._eventManager=new $e;constructor(Nt,Lt,st,mt){this._target=Nt,this._ngZone=Lt,this._platform=mt,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,mt.isBrowser&&(this._containerElement=(0,R.i8)(st))}fadeInRipple(Nt,Lt,st={}){const mt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),sn={...Je,...st.animation};st.centered&&(Nt=mt.left+mt.width/2,Lt=mt.top+mt.height/2);const Zt=st.radius||function K(Tt,Nt,Lt){const st=Math.max(Math.abs(Tt-Lt.left),Math.abs(Tt-Lt.right)),mt=Math.max(Math.abs(Nt-Lt.top),Math.abs(Nt-Lt.bottom));return Math.sqrt(st*st+mt*mt)}(Nt,Lt,mt),xn=Nt-mt.left,cr=Lt-mt.top,kn=sn.enterDuration,zn=document.createElement("div");zn.classList.add("mat-ripple-element"),zn.style.left=xn-Zt+"px",zn.style.top=cr-Zt+"px",zn.style.height=2*Zt+"px",zn.style.width=2*Zt+"px",null!=st.color&&(zn.style.backgroundColor=st.color),zn.style.transitionDuration=`${kn}ms`,this._containerElement.appendChild(zn);const qr=window.getComputedStyle(zn),qn=qr.transitionDuration,Jt="none"===qr.transitionProperty||"0s"===qn||"0s, 0s"===qn||0===mt.width&&0===mt.height,dt=new we(this,zn,st,Jt);zn.style.transform="scale3d(1, 1, 1)",dt.state=fe.FADING_IN,st.persistent||(this._mostRecentTransientRipple=dt);let Ne=null;return!Jt&&(kn||sn.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const We=()=>{Ne&&(Ne.fallbackTimer=null),clearTimeout(gn),this._finishRippleTransition(dt)},Bt=()=>this._destroyRipple(dt),gn=setTimeout(Bt,kn+100);zn.addEventListener("transitionend",We),zn.addEventListener("transitioncancel",Bt),Ne={onTransitionEnd:We,onTransitionCancel:Bt,fallbackTimer:gn}}),this._activeRipples.set(dt,Ne),(Jt||!kn)&&this._finishRippleTransition(dt),dt}fadeOutRipple(Nt){if(Nt.state===fe.FADING_OUT||Nt.state===fe.HIDDEN)return;const Lt=Nt.element,st={...Je,...Nt.config.animation};Lt.style.transitionDuration=`${st.exitDuration}ms`,Lt.style.opacity="0",Nt.state=fe.FADING_OUT,(Nt._animationForciblyDisabledThroughCss||!st.exitDuration)&&this._finishRippleTransition(Nt)}fadeOutAll(){this._getActiveRipples().forEach(Nt=>Nt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Nt=>{Nt.config.persistent||Nt.fadeOut()})}setupTriggerEvents(Nt){const Lt=(0,R.i8)(Nt);!this._platform.isBrowser||!Lt||Lt===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Lt,nt.forEach(st=>{Et._eventManager.addHandler(this._ngZone,st,Lt,this)}))}handleEvent(Nt){"mousedown"===Nt.type?this._onMousedown(Nt):"touchstart"===Nt.type?this._onTouchStart(Nt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ge.forEach(Lt=>{this._triggerElement.addEventListener(Lt,this,Pt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Nt){Nt.state===fe.FADING_IN?this._startFadeOutTransition(Nt):Nt.state===fe.FADING_OUT&&this._destroyRipple(Nt)}_startFadeOutTransition(Nt){const Lt=Nt===this._mostRecentTransientRipple,{persistent:st}=Nt.config;Nt.state=fe.VISIBLE,!st&&(!Lt||!this._isPointerDown)&&Nt.fadeOut()}_destroyRipple(Nt){const Lt=this._activeRipples.get(Nt)??null;this._activeRipples.delete(Nt),this._activeRipples.size||(this._containerRect=null),Nt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Nt.state=fe.HIDDEN,null!==Lt&&(Nt.element.removeEventListener("transitionend",Lt.onTransitionEnd),Nt.element.removeEventListener("transitioncancel",Lt.onTransitionCancel),null!==Lt.fallbackTimer&&clearTimeout(Lt.fallbackTimer)),Nt.element.remove()}_onMousedown(Nt){const Lt=(0,x._G)(Nt),st=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Lt&&!st&&(this._isPointerDown=!0,this.fadeInRipple(Nt.clientX,Nt.clientY,this._target.rippleConfig))}_onTouchStart(Nt){if(!this._target.rippleDisabled&&!(0,x.w6)(Nt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Lt=Nt.changedTouches;if(Lt)for(let st=0;st<Lt.length;st++)this.fadeInRipple(Lt[st].clientX,Lt[st].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Nt=>{!Nt.config.persistent&&(Nt.state===fe.VISIBLE||Nt.config.terminateOnPointerUp&&Nt.state===fe.FADING_IN)&&Nt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Nt=this._triggerElement;Nt&&(nt.forEach(Lt=>Et._eventManager.removeHandler(Lt,Nt,this)),this._pointerUpEventsRegistered&&(Ge.forEach(Lt=>Nt.removeEventListener(Lt,this,Pt)),this._pointerUpEventsRegistered=!1))}}const C=new h.nKC("mat-ripple-global-options");let b=(()=>{class Tt{get disabled(){return this._disabled}set disabled(Lt){Lt&&this.fadeOutAllNonPersistent(),this._disabled=Lt,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Lt){this._trigger=Lt,this._setupTriggerEventsIfEnabled()}constructor(Lt,st,mt,sn,Zt){this._elementRef=Lt,this._animationMode=Zt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=sn||{},this._rippleRenderer=new Et(this,st,Lt,mt)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Lt,st=0,mt){return"number"==typeof Lt?this._rippleRenderer.fadeInRipple(Lt,st,{...this.rippleConfig,...mt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Lt})}static#e=this.\u0275fac=function(st){return new(st||Tt)(h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(j.OD),h.rXU(C,8),h.rXU(h.bc$,8))};static#t=this.\u0275dir=h.FsC({type:Tt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(st,mt){2&st&&h.AVh("mat-ripple-unbounded",mt.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return Tt})(),z=(()=>{class Tt{static#e=this.\u0275fac=function(st){return new(st||Tt)};static#t=this.\u0275mod=h.$C({type:Tt});static#n=this.\u0275inj=h.G2t({imports:[Oe,Oe]})}return Tt})(),le=(()=>{class Tt{constructor(Lt){this._animationMode=Lt,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(st){return new(st||Tt)(h.rXU(h.bc$,8))};static#t=this.\u0275cmp=h.VBU({type:Tt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(st,mt){2&st&&h.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===mt.state)("mat-pseudo-checkbox-checked","checked"===mt.state)("mat-pseudo-checkbox-disabled",mt.disabled)("mat-pseudo-checkbox-minimal","minimal"===mt.appearance)("mat-pseudo-checkbox-full","full"===mt.appearance)("_mat-animation-noopable","NoopAnimations"===mt._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[h.aNF],decls:0,vars:0,template:function(st,mt){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return Tt})(),Ae=(()=>{class Tt{static#e=this.\u0275fac=function(st){return new(st||Tt)};static#t=this.\u0275mod=h.$C({type:Tt});static#n=this.\u0275inj=h.G2t({imports:[Oe]})}return Tt})();const Be=new h.nKC("MAT_OPTION_PARENT_COMPONENT"),Yt=new h.nKC("MatOptgroup");let Vt=0;class dn{constructor(Nt,Lt=!1){this.source=Nt,this.isUserInput=Lt}}let Mn=(()=>{class Tt{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Lt){this._disabled=Lt}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Lt,st,mt,sn){this._element=Lt,this._changeDetectorRef=st,this._parent=mt,this.group=sn,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Vt++,this.onSelectionChange=new h.bkB,this._stateChanges=new U.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(Lt=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),Lt&&this._emitSelectionChangeEvent())}deselect(Lt=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),Lt&&this._emitSelectionChangeEvent())}focus(Lt,st){const mt=this._getHostElement();"function"==typeof mt.focus&&mt.focus(st)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Lt){(Lt.keyCode===H.Fm||Lt.keyCode===H.t6)&&!(0,H.rp)(Lt)&&(this._selectViaInteraction(),Lt.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Lt=this.viewValue;Lt!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Lt)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Lt=!1){this.onSelectionChange.emit(new dn(this,Lt))}static#e=this.\u0275fac=function(st){return new(st||Tt)(h.rXU(h.aKT),h.rXU(h.gRc),h.rXU(Be,8),h.rXU(Yt,8))};static#t=this.\u0275cmp=h.VBU({type:Tt,selectors:[["mat-option"]],viewQuery:function(st,mt){if(1&st&&h.GBs(ee,7),2&st){let sn;h.mGM(sn=h.lsd())&&(mt._text=sn.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(st,mt){1&st&&h.bIt("click",function(){return mt._selectViaInteraction()})("keydown",function(Zt){return mt._handleKeydown(Zt)}),2&st&&(h.Mr5("id",mt.id),h.BMQ("aria-selected",mt.selected)("aria-disabled",mt.disabled.toString()),h.AVh("mdc-list-item--selected",mt.selected)("mat-mdc-option-multiple",mt.multiple)("mat-mdc-option-active",mt.active)("mdc-list-item--disabled",mt.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",h.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[h.GFd,h.aNF],ngContentSelectors:Q,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(st,mt){1&st&&(h.NAR(W),h.DNE(0,de,1,2,"mat-pseudo-checkbox",1),h.SdG(1),h.j41(2,"span",2,0),h.SdG(4,1),h.k0s(),h.DNE(5,ae,1,1,"mat-pseudo-checkbox",3)(6,re,2,1,"span",4),h.nrm(7,"div",5)),2&st&&(h.vxM(mt.multiple?0:-1),h.R7$(5),h.vxM(mt.multiple||!mt.selected||mt.hideSingleSelectionIndicator?-1:5),h.R7$(),h.vxM(mt.group&&mt.group._inert?6:-1),h.R7$(),h.Y8G("matRippleTrigger",mt._getHostElement())("matRippleDisabled",mt.disabled||mt.disableRipple))},dependencies:[le,b],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Tt})();function En(Tt,Nt,Lt){if(Lt.length){let st=Nt.toArray(),mt=Lt.toArray(),sn=0;for(let Zt=0;Zt<Tt+1;Zt++)st[Zt].group&&st[Zt].group===mt[sn]&&sn++;return sn}return 0}function Ar(Tt,Nt,Lt,st){return Tt<Lt?Tt:Tt+Nt>Lt+st?Math.max(0,Tt-st+Nt):Lt}let jn=(()=>{class Tt{static#e=this.\u0275fac=function(st){return new(st||Tt)};static#t=this.\u0275mod=h.$C({type:Tt});static#n=this.\u0275inj=h.G2t({imports:[z,Oe,Ae]})}return Tt})();const mn={capture:!0},pn=["focus","mousedown","mouseenter","touchstart"],kt="mat-ripple-loader-uninitialized",St="mat-ripple-loader-class-name",an="mat-ripple-loader-centered",hn="mat-ripple-loader-disabled";let An=(()=>{class Tt{constructor(){this._document=(0,h.WQX)(M.qQ,{optional:!0}),this._animationMode=(0,h.WQX)(h.bc$,{optional:!0}),this._globalRippleOptions=(0,h.WQX)(C,{optional:!0}),this._platform=(0,h.WQX)(j.OD),this._ngZone=(0,h.WQX)(h.SKi),this._hosts=new Map,this._onInteraction=Lt=>{const st=(0,j.Fb)(Lt);if(st instanceof HTMLElement){const mt=st.closest(`[${kt}="${this._globalRippleOptions?.namespace??""}"]`);mt&&this._createRipple(mt)}},this._ngZone.runOutsideAngular(()=>{for(const Lt of pn)this._document?.addEventListener(Lt,this._onInteraction,mn)})}ngOnDestroy(){const Lt=this._hosts.keys();for(const st of Lt)this.destroyRipple(st);for(const st of pn)this._document?.removeEventListener(st,this._onInteraction,mn)}configureRipple(Lt,st){Lt.setAttribute(kt,this._globalRippleOptions?.namespace??""),(st.className||!Lt.hasAttribute(St))&&Lt.setAttribute(St,st.className||""),st.centered&&Lt.setAttribute(an,""),st.disabled&&Lt.setAttribute(hn,"")}getRipple(Lt){return this._hosts.get(Lt)||this._createRipple(Lt)}setDisabled(Lt,st){const mt=this._hosts.get(Lt);mt?mt.disabled=st:st?Lt.setAttribute(hn,""):Lt.removeAttribute(hn)}_createRipple(Lt){if(!this._document)return;const st=this._hosts.get(Lt);if(st)return st;Lt.querySelector(".mat-ripple")?.remove();const mt=this._document.createElement("span");mt.classList.add("mat-ripple",Lt.getAttribute(St)),Lt.append(mt);const sn=new b(new h.aKT(mt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return sn._isInitialized=!0,sn.trigger=Lt,sn.centered=Lt.hasAttribute(an),sn.disabled=Lt.hasAttribute(hn),this.attachRipple(Lt,sn),sn}attachRipple(Lt,st){Lt.removeAttribute(kt),this._hosts.set(Lt,st)}destroyRipple(Lt){const st=this._hosts.get(Lt);st&&(st.ngOnDestroy(),this._hosts.delete(Lt))}static#e=this.\u0275fac=function(st){return new(st||Tt)};static#t=this.\u0275prov=h.jDH({token:Tt,factory:Tt.\u0275fac,providedIn:"root"})}return Tt})(),Rr=(()=>{class Tt{static#e=this.\u0275fac=function(st){return new(st||Tt)};static#t=this.\u0275cmp=h.VBU({type:Tt,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(st,mt){2&st&&h.AVh("mdc-form-field--align-end","before"===mt.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[h.aNF],attrs:te,ngContentSelectors:ue,decls:1,vars:0,template:function(st,mt){1&st&&(h.NAR(),h.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return Tt})()},75351:(Ye,J,A)=>{"use strict";A.d(J,{Vh:()=>Xe,bZ:()=>fe,E7:()=>Pt,tx:()=>De,Yi:()=>Ze,hM:()=>Et,CP:()=>ke,BI:()=>Je});var h=A(66969),x=A(60177),N=A(93953),Y=A(18617),M=A(36860),j=A(76939),R=A(67336),U=A(21413),H=A(59030),V=A(7673),P=A(28203),ee=A(99172);function W(b,z){}class Q{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let ae=(()=>{class b extends j.lb{constructor(le,Ae,Be,ft,Yt,Rt,Vt,dn){super(),this._elementRef=le,this._focusTrapFactory=Ae,this._config=ft,this._interactivityChecker=Yt,this._ngZone=Rt,this._overlayRef=Vt,this._focusMonitor=dn,this._platform=(0,N.WQX)(M.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,N.WQX)(N.gRc),this._injector=(0,N.WQX)(N.zZn),this._isDestroyed=!1,this.attachDomPortal=Mn=>{this._portalOutlet.hasAttached();const En=this._portalOutlet.attachDomPortal(Mn);return this._contentAttached(),En},this._document=Be,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(le){this._ariaLabelledByQueue.push(le),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(le){const Ae=this._ariaLabelledByQueue.indexOf(le);Ae>-1&&(this._ariaLabelledByQueue.splice(Ae,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(le){this._portalOutlet.hasAttached();const Ae=this._portalOutlet.attachComponentPortal(le);return this._contentAttached(),Ae}attachTemplatePortal(le){this._portalOutlet.hasAttached();const Ae=this._portalOutlet.attachTemplatePortal(le);return this._contentAttached(),Ae}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(le,Ae){this._interactivityChecker.isFocusable(le)||(le.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Be=()=>{le.removeEventListener("blur",Be),le.removeEventListener("mousedown",Be),le.removeAttribute("tabindex")};le.addEventListener("blur",Be),le.addEventListener("mousedown",Be)})),le.focus(Ae)}_focusByCssSelector(le,Ae){let Be=this._elementRef.nativeElement.querySelector(le);Be&&this._forceFocus(Be,Ae)}_trapFocus(){this._isDestroyed||(0,N.mal)(()=>{const le=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||le.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const le=this._config.restoreFocus;let Ae=null;if("string"==typeof le?Ae=this._document.querySelector(le):"boolean"==typeof le?Ae=le?this._elementFocusedBeforeDialogWasOpened:null:le&&(Ae=le),this._config.restoreFocus&&Ae&&"function"==typeof Ae.focus){const Be=(0,M.vc)(),ft=this._elementRef.nativeElement;(!Be||Be===this._document.body||Be===ft||ft.contains(Be))&&(this._focusMonitor?(this._focusMonitor.focusVia(Ae,this._closeInteractionType),this._closeInteractionType=null):Ae.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const le=this._elementRef.nativeElement,Ae=(0,M.vc)();return le===Ae||le.contains(Ae)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,M.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(Ae){return new(Ae||b)(N.rXU(N.aKT),N.rXU(Y.GX),N.rXU(x.qQ,8),N.rXU(Q),N.rXU(Y.Z7),N.rXU(N.SKi),N.rXU(h.yY),N.rXU(Y.FN))};static#t=this.\u0275cmp=N.VBU({type:b,selectors:[["cdk-dialog-container"]],viewQuery:function(Ae,Be){if(1&Ae&&N.GBs(j.I3,7),2&Ae){let ft;N.mGM(ft=N.lsd())&&(Be._portalOutlet=ft.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(Ae,Be){2&Ae&&N.BMQ("id",Be._config.id||null)("role",Be._config.role)("aria-modal",Be._config.ariaModal)("aria-labelledby",Be._config.ariaLabel?null:Be._ariaLabelledByQueue[0])("aria-label",Be._config.ariaLabel)("aria-describedby",Be._config.ariaDescribedBy||null)},standalone:!0,features:[N.Vt3,N.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Ae,Be){1&Ae&&N.DNE(0,W,0,0,"ng-template",0)},dependencies:[j.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return b})();class re{constructor(z,le){this.overlayRef=z,this.config=le,this.closed=new U.B,this.disableClose=le.disableClose,this.backdropClick=z.backdropClick(),this.keydownEvents=z.keydownEvents(),this.outsidePointerEvents=z.outsidePointerEvents(),this.id=le.id,this.keydownEvents.subscribe(Ae=>{Ae.keyCode===R._f&&!this.disableClose&&!(0,R.rp)(Ae)&&(Ae.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=z.detachments().subscribe(()=>{!1!==le.closeOnOverlayDetachments&&this.close()})}close(z,le){if(this.containerInstance){const Ae=this.closed;this.containerInstance._closeInteractionType=le?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),Ae.next(z),Ae.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(z="",le=""){return this.overlayRef.updateSize({width:z,height:le}),this}addPanelClass(z){return this.overlayRef.addPanelClass(z),this}removePanelClass(z){return this.overlayRef.removePanelClass(z),this}}const te=new N.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const b=(0,N.WQX)(h.hJ);return()=>b.scrollStrategies.block()}}),ue=new N.nKC("DialogData"),pe=new N.nKC("DefaultDialogConfig");let ge=0,Me=(()=>{class b{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(le,Ae,Be,ft,Yt,Rt){this._overlay=le,this._injector=Ae,this._defaultOptions=Be,this._parentDialog=ft,this._overlayContainer=Yt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new U.B,this._afterOpenedAtThisLevel=new U.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,H.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ee.Z)(void 0))),this._scrollStrategy=Rt}open(le,Ae){(Ae={...this._defaultOptions||new Q,...Ae}).id=Ae.id||"cdk-dialog-"+ge++,Ae.id&&this.getDialogById(Ae.id);const ft=this._getOverlayConfig(Ae),Yt=this._overlay.create(ft),Rt=new re(Yt,Ae),Vt=this._attachContainer(Yt,Rt,Ae);return Rt.containerInstance=Vt,this._attachDialogContent(le,Rt,Vt,Ae),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Rt),Rt.closed.subscribe(()=>this._removeOpenDialog(Rt,!0)),this.afterOpened.next(Rt),Rt}closeAll(){Oe(this.openDialogs,le=>le.close())}getDialogById(le){return this.openDialogs.find(Ae=>Ae.id===le)}ngOnDestroy(){Oe(this._openDialogsAtThisLevel,le=>{!1===le.config.closeOnDestroy&&this._removeOpenDialog(le,!1)}),Oe(this._openDialogsAtThisLevel,le=>le.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(le){const Ae=new h.rR({positionStrategy:le.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:le.scrollStrategy||this._scrollStrategy(),panelClass:le.panelClass,hasBackdrop:le.hasBackdrop,direction:le.direction,minWidth:le.minWidth,minHeight:le.minHeight,maxWidth:le.maxWidth,maxHeight:le.maxHeight,width:le.width,height:le.height,disposeOnNavigation:le.closeOnNavigation});return le.backdropClass&&(Ae.backdropClass=le.backdropClass),Ae}_attachContainer(le,Ae,Be){const ft=Be.injector||Be.viewContainerRef?.injector,Yt=[{provide:Q,useValue:Be},{provide:re,useValue:Ae},{provide:h.yY,useValue:le}];let Rt;Be.container?"function"==typeof Be.container?Rt=Be.container:(Rt=Be.container.type,Yt.push(...Be.container.providers(Be))):Rt=ae;const Vt=new j.A8(Rt,Be.viewContainerRef,N.zZn.create({parent:ft||this._injector,providers:Yt}),Be.componentFactoryResolver);return le.attach(Vt).instance}_attachDialogContent(le,Ae,Be,ft){if(le instanceof N.C4Q){const Yt=this._createInjector(ft,Ae,Be,void 0);let Rt={$implicit:ft.data,dialogRef:Ae};ft.templateContext&&(Rt={...Rt,..."function"==typeof ft.templateContext?ft.templateContext():ft.templateContext}),Be.attachTemplatePortal(new j.VA(le,null,Rt,Yt))}else{const Yt=this._createInjector(ft,Ae,Be,this._injector),Rt=Be.attachComponentPortal(new j.A8(le,ft.viewContainerRef,Yt,ft.componentFactoryResolver));Ae.componentRef=Rt,Ae.componentInstance=Rt.instance}}_createInjector(le,Ae,Be,ft){const Yt=le.injector||le.viewContainerRef?.injector,Rt=[{provide:ue,useValue:le.data},{provide:re,useValue:Ae}];return le.providers&&("function"==typeof le.providers?Rt.push(...le.providers(Ae,le,Be)):Rt.push(...le.providers)),le.direction&&(!Yt||!Yt.get(P.dS,null,{optional:!0}))&&Rt.push({provide:P.dS,useValue:{value:le.direction,change:(0,V.of)()}}),N.zZn.create({parent:Yt||ft,providers:Rt})}_removeOpenDialog(le,Ae){const Be=this.openDialogs.indexOf(le);Be>-1&&(this.openDialogs.splice(Be,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((ft,Yt)=>{ft?Yt.setAttribute("aria-hidden",ft):Yt.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),Ae&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const le=this._overlayContainer.getContainerElement();if(le.parentElement){const Ae=le.parentElement.children;for(let Be=Ae.length-1;Be>-1;Be--){const ft=Ae[Be];ft!==le&&"SCRIPT"!==ft.nodeName&&"STYLE"!==ft.nodeName&&!ft.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(ft,ft.getAttribute("aria-hidden")),ft.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const le=this._parentDialog;return le?le._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(Ae){return new(Ae||b)(N.KVO(h.hJ),N.KVO(N.zZn),N.KVO(pe,8),N.KVO(b,12),N.KVO(h.Sf),N.KVO(te))};static#t=this.\u0275prov=N.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();function Oe(b,z){let le=b.length;for(;le--;)z(b[le])}let je=(()=>{class b{static#e=this.\u0275fac=function(Ae){return new(Ae||b)};static#t=this.\u0275mod=N.$C({type:b});static#n=this.\u0275inj=N.G2t({providers:[Me],imports:[h.z_,j.jc,Y.Pd,j.jc]})}return b})();var B=A(14085),l=A(57786),f=A(5964),w=A(96697),_=A(67333),D=A(86600);function $(b,z){}A(49969);class T{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const c="mdc-dialog--open",E="mdc-dialog--opening",q="mdc-dialog--closing";let me=(()=>{class b extends ae{constructor(le,Ae,Be,ft,Yt,Rt,Vt,dn,Mn){super(le,Ae,Be,ft,Yt,Rt,Vt,Mn),this._animationMode=dn,this._animationStateChanged=new N.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Ke(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Ke(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Te,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(E,c)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(c),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(c),this._animationsEnabled?(this._hostElement.style.setProperty(Te,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(q)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(le){this._actionSectionCount+=le,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(E,q)}_waitForAnimationToComplete(le,Ae){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(Ae,le)}_requestAnimationFrame(le){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(le):le()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(le){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:le})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(le){const Ae=super.attachComponentPortal(le);return Ae.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),Ae}static#e=this.\u0275fac=function(Ae){return new(Ae||b)(N.rXU(N.aKT),N.rXU(Y.GX),N.rXU(x.qQ,8),N.rXU(T),N.rXU(Y.Z7),N.rXU(N.SKi),N.rXU(h.yY),N.rXU(N.bc$,8),N.rXU(Y.FN))};static#t=this.\u0275cmp=N.VBU({type:b,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(Ae,Be){2&Ae&&(N.Mr5("id",Be._config.id),N.BMQ("aria-modal",Be._config.ariaModal)("role",Be._config.role)("aria-labelledby",Be._config.ariaLabel?null:Be._ariaLabelledByQueue[0])("aria-label",Be._config.ariaLabel)("aria-describedby",Be._config.ariaDescribedBy||null),N.AVh("_mat-animation-noopable",!Be._animationsEnabled)("mat-mdc-dialog-container-with-actions",Be._actionSectionCount>0))},standalone:!0,features:[N.Vt3,N.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(Ae,Be){1&Ae&&(N.j41(0,"div",0)(1,"div",1),N.DNE(2,$,0,0,"ng-template",2),N.k0s()())},dependencies:[j.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, inherit);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, inherit);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return b})();const Te="--mat-dialog-transition-duration";function Ke(b){return null==b?null:"number"==typeof b?b:b.endsWith("ms")?(0,B.OE)(b.substring(0,b.length-2)):b.endsWith("s")?1e3*(0,B.OE)(b.substring(0,b.length-1)):"0"===b?0:null}var Qe=function(b){return b[b.OPEN=0]="OPEN",b[b.CLOSING=1]="CLOSING",b[b.CLOSED=2]="CLOSED",b}(Qe||{});class ke{constructor(z,le,Ae){this._ref=z,this._containerInstance=Ae,this._afterOpened=new U.B,this._beforeClosed=new U.B,this._state=Qe.OPEN,this.disableClose=le.disableClose,this.id=z.id,z.addPanelClass("mat-mdc-dialog-panel"),Ae._animationStateChanged.pipe((0,f.p)(Be=>"opened"===Be.state),(0,w.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Ae._animationStateChanged.pipe((0,f.p)(Be=>"closed"===Be.state),(0,w.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),z.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,l.h)(this.backdropClick(),this.keydownEvents().pipe((0,f.p)(Be=>Be.keyCode===R._f&&!this.disableClose&&!(0,R.rp)(Be)))).subscribe(Be=>{this.disableClose||(Be.preventDefault(),Ie(this,"keydown"===Be.type?"keyboard":"mouse"))})}close(z){this._result=z,this._containerInstance._animationStateChanged.pipe((0,f.p)(le=>"closing"===le.state),(0,w.s)(1)).subscribe(le=>{this._beforeClosed.next(z),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),le.totalTime+100)}),this._state=Qe.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(z){let le=this._ref.config.positionStrategy;return z&&(z.left||z.right)?z.left?le.left(z.left):le.right(z.right):le.centerHorizontally(),z&&(z.top||z.bottom)?z.top?le.top(z.top):le.bottom(z.bottom):le.centerVertically(),this._ref.updatePosition(),this}updateSize(z="",le=""){return this._ref.updateSize(z,le),this}addPanelClass(z){return this._ref.addPanelClass(z),this}removePanelClass(z){return this._ref.removePanelClass(z),this}getState(){return this._state}_finishDialogClose(){this._state=Qe.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function Ie(b,z,le){return b._closeInteractionType=z,b.close(le)}const Xe=new N.nKC("MatMdcDialogData"),Se=new N.nKC("mat-mdc-dialog-default-options"),Le=new N.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const b=(0,N.WQX)(h.hJ);return()=>b.scrollStrategies.block()}});let oe=0,fe=(()=>{class b{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const le=this._parentDialog;return le?le._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(le,Ae,Be,ft,Yt,Rt,Vt,dn){this._overlay=le,this._defaultOptions=ft,this._scrollStrategy=Yt,this._parentDialog=Rt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new U.B,this._afterOpenedAtThisLevel=new U.B,this.dialogConfigClass=T,this.afterAllClosed=(0,H.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ee.Z)(void 0))),this._dialog=Ae.get(Me),this._dialogRefConstructor=ke,this._dialogContainerType=me,this._dialogDataToken=Xe}open(le,Ae){let Be;(Ae={...this._defaultOptions||new T,...Ae}).id=Ae.id||"mat-mdc-dialog-"+oe++,Ae.scrollStrategy=Ae.scrollStrategy||this._scrollStrategy();const ft=this._dialog.open(le,{...Ae,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:Ae},{provide:Q,useValue:Ae}]},templateContext:()=>({dialogRef:Be}),providers:(Yt,Rt,Vt)=>(Be=new this._dialogRefConstructor(Yt,Ae,Vt),Be.updatePosition(Ae?.position),[{provide:this._dialogContainerType,useValue:Vt},{provide:this._dialogDataToken,useValue:Rt.data},{provide:this._dialogRefConstructor,useValue:Be}])});return Be.componentRef=ft.componentRef,Be.componentInstance=ft.componentInstance,this.openDialogs.push(Be),this.afterOpened.next(Be),Be.afterClosed().subscribe(()=>{const Yt=this.openDialogs.indexOf(Be);Yt>-1&&(this.openDialogs.splice(Yt,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Be}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(le){return this.openDialogs.find(Ae=>Ae.id===le)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(le){let Ae=le.length;for(;Ae--;)le[Ae].close()}static#e=this.\u0275fac=function(Ae){return new(Ae||b)(N.KVO(h.hJ),N.KVO(N.zZn),N.KVO(x.aZ,8),N.KVO(Se,8),N.KVO(Le),N.KVO(b,12),N.KVO(h.Sf),N.KVO(N.bc$,8))};static#t=this.\u0275prov=N.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),we=0,De=(()=>{class b{constructor(le,Ae,Be){this.dialogRef=le,this._elementRef=Ae,this._dialog=Be,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=nt(this._elementRef,this._dialog.openDialogs))}ngOnChanges(le){const Ae=le._matDialogClose||le._matDialogCloseResult;Ae&&(this.dialogResult=Ae.currentValue)}_onButtonClick(le){Ie(this.dialogRef,0===le.screenX&&0===le.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(Ae){return new(Ae||b)(N.rXU(ke,8),N.rXU(N.aKT),N.rXU(fe))};static#t=this.\u0275dir=N.FsC({type:b,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(Ae,Be){1&Ae&&N.bIt("click",function(Yt){return Be._onButtonClick(Yt)}),2&Ae&&N.BMQ("aria-label",Be.ariaLabel||null)("type",Be.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[N.OA$]})}return b})(),$e=(()=>{class b{constructor(le,Ae,Be){this._dialogRef=le,this._elementRef=Ae,this._dialog=Be}ngOnInit(){this._dialogRef||(this._dialogRef=nt(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(Ae){return new(Ae||b)(N.rXU(ke,8),N.rXU(N.aKT),N.rXU(fe))};static#t=this.\u0275dir=N.FsC({type:b,standalone:!0})}return b})(),Je=(()=>{class b extends $e{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+we++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let le;return function(Be){return(le||(le=N.xGo(b)))(Be||b)}})();static#t=this.\u0275dir=N.FsC({type:b,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(Ae,Be){2&Ae&&N.Mr5("id",Be.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[N.Vt3]})}return b})(),Ze=(()=>{class b{static#e=this.\u0275fac=function(Ae){return new(Ae||b)};static#t=this.\u0275dir=N.FsC({type:b,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[N.nM4([_.uv])]})}return b})(),Pt=(()=>{class b extends $e{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let le;return function(Be){return(le||(le=N.xGo(b)))(Be||b)}})();static#t=this.\u0275dir=N.FsC({type:b,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(Ae,Be){2&Ae&&N.AVh("mat-mdc-dialog-actions-align-start","start"===Be.align)("mat-mdc-dialog-actions-align-center","center"===Be.align)("mat-mdc-dialog-actions-align-end","end"===Be.align)},inputs:{align:"align"},standalone:!0,features:[N.Vt3]})}return b})();function nt(b,z){let le=b.nativeElement.parentElement;for(;le&&!le.classList.contains("mat-mdc-dialog-container");)le=le.parentElement;return le?z.find(Ae=>Ae.id===le.id):null}let Et=(()=>{class b{static#e=this.\u0275fac=function(Ae){return new(Ae||b)};static#t=this.\u0275mod=N.$C({type:b});static#n=this.\u0275inj=N.G2t({providers:[fe],imports:[je,h.z_,j.jc,D.yE,D.yE]})}return b})()},71997:(Ye,J,A)=>{"use strict";A.d(J,{q:()=>Y,w:()=>M});var h=A(93953),x=A(14085),N=A(86600);let Y=(()=>{class j{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(U){this._vertical=(0,x.he)(U)}get inset(){return this._inset}set inset(U){this._inset=(0,x.he)(U)}static#e=this.\u0275fac=function(H){return new(H||j)};static#t=this.\u0275cmp=h.VBU({type:j,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(H,V){2&H&&(h.BMQ("aria-orientation",V.vertical?"vertical":"horizontal"),h.AVh("mat-divider-vertical",V.vertical)("mat-divider-horizontal",!V.vertical)("mat-divider-inset",V.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[h.aNF],decls:0,vars:0,template:function(H,V){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return j})(),M=(()=>{class j{static#e=this.\u0275fac=function(H){return new(H||j)};static#t=this.\u0275mod=h.$C({type:j});static#n=this.\u0275inj=h.G2t({imports:[N.yE,N.yE]})}return j})()},53719:(Ye,J,A)=>{"use strict";A.d(J,{MV:()=>Qe,RG:()=>Be,TL:()=>Te,U$:()=>Et,nJ:()=>X,qT:()=>Je,rl:()=>Ae,xb:()=>Ge,yw:()=>Se});var h=A(93953),x=A(28203),N=A(14085),Y=A(36860),M=A(60177),j=A(18359),R=A(21413),U=A(57786),H=A(56977),V=A(98170),P=A(49969),ee=A(49937),W=A(86600);const Q=["notch"],de=["matFormFieldNotchedOutline",""],ae=["*"],re=["textField"],te=["iconPrefixContainer"],ue=["textPrefixContainer"],pe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],he=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function ve(ft,Yt){1&ft&&h.nrm(0,"span",19)}function ge(ft,Yt){if(1&ft&&(h.j41(0,"label",18),h.SdG(1,1),h.DNE(2,ve,1,0,"span",19),h.k0s()),2&ft){const Rt=h.XpG(2);h.Y8G("floating",Rt._shouldLabelFloat())("monitorResize",Rt._hasOutline())("id",Rt._labelId),h.BMQ("for",Rt._control.disableAutomaticLabeling?null:Rt._control.id),h.R7$(2),h.vxM(!Rt.hideRequiredMarker&&Rt._control.required?2:-1)}}function Me(ft,Yt){if(1&ft&&h.DNE(0,ge,3,5,"label",18),2&ft){const Rt=h.XpG();h.vxM(Rt._hasFloatingLabel()?0:-1)}}function Oe(ft,Yt){1&ft&&h.nrm(0,"div",5)}function je(ft,Yt){}function B(ft,Yt){if(1&ft&&h.DNE(0,je,0,0,"ng-template",11),2&ft){h.XpG(2);const Rt=h.sdS(1);h.Y8G("ngTemplateOutlet",Rt)}}function l(ft,Yt){if(1&ft&&(h.j41(0,"div",7),h.DNE(1,B,1,1,null,11),h.k0s()),2&ft){const Rt=h.XpG();h.Y8G("matFormFieldNotchedOutlineOpen",Rt._shouldLabelFloat()),h.R7$(),h.vxM(Rt._forceDisplayInfixLabel()?-1:1)}}function f(ft,Yt){1&ft&&(h.j41(0,"div",8,2),h.SdG(2,2),h.k0s())}function w(ft,Yt){1&ft&&(h.j41(0,"div",9,3),h.SdG(2,3),h.k0s())}function _(ft,Yt){}function D(ft,Yt){if(1&ft&&h.DNE(0,_,0,0,"ng-template",11),2&ft){h.XpG();const Rt=h.sdS(1);h.Y8G("ngTemplateOutlet",Rt)}}function O(ft,Yt){1&ft&&(h.j41(0,"div",12),h.SdG(1,4),h.k0s())}function $(ft,Yt){1&ft&&(h.j41(0,"div",13),h.SdG(1,5),h.k0s())}function T(ft,Yt){1&ft&&h.nrm(0,"div",14)}function c(ft,Yt){if(1&ft&&(h.j41(0,"div",16),h.SdG(1,6),h.k0s()),2&ft){const Rt=h.XpG();h.Y8G("@transitionMessages",Rt._subscriptAnimationState)}}function E(ft,Yt){if(1&ft&&(h.j41(0,"mat-hint",20),h.EFF(1),h.k0s()),2&ft){const Rt=h.XpG(2);h.Y8G("id",Rt._hintLabelId),h.R7$(),h.JRh(Rt.hintLabel)}}function q(ft,Yt){if(1&ft&&(h.j41(0,"div",17),h.DNE(1,E,2,2,"mat-hint",20),h.SdG(2,7),h.nrm(3,"div",21),h.SdG(4,8),h.k0s()),2&ft){const Rt=h.XpG();h.Y8G("@transitionMessages",Rt._subscriptAnimationState),h.R7$(),h.vxM(Rt.hintLabel?1:-1)}}let X=(()=>{class ft{static#e=this.\u0275fac=function(Vt){return new(Vt||ft)};static#t=this.\u0275dir=h.FsC({type:ft,selectors:[["mat-label"]],standalone:!0})}return ft})(),ce=0;const me=new h.nKC("MatError");let Te=(()=>{class ft{constructor(Rt,Vt){this.id="mat-mdc-error-"+ce++,Rt||Vt.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(Vt){return new(Vt||ft)(h.kS0("aria-live"),h.rXU(h.aKT))};static#t=this.\u0275dir=h.FsC({type:ft,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Vt,dn){2&Vt&&h.Mr5("id",dn.id)},inputs:{id:"id"},standalone:!0,features:[h.Jv_([{provide:me,useExisting:ft}])]})}return ft})(),Ke=0,Qe=(()=>{class ft{constructor(){this.align="start",this.id="mat-mdc-hint-"+Ke++}static#e=this.\u0275fac=function(Vt){return new(Vt||ft)};static#t=this.\u0275dir=h.FsC({type:ft,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Vt,dn){2&Vt&&(h.Mr5("id",dn.id),h.BMQ("align",null),h.AVh("mat-mdc-form-field-hint-end","end"===dn.align))},inputs:{align:"align",id:"id"},standalone:!0})}return ft})();const ke=new h.nKC("MatPrefix"),Xe=new h.nKC("MatSuffix");let Se=(()=>{class ft{constructor(){this._isText=!1}set _isTextSelector(Rt){this._isText=!0}static#e=this.\u0275fac=function(Vt){return new(Vt||ft)};static#t=this.\u0275dir=h.FsC({type:ft,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[h.Jv_([{provide:Xe,useExisting:ft}])]})}return ft})();const Le=new h.nKC("FloatingLabelParent");let Ee=(()=>{class ft{get floating(){return this._floating}set floating(Rt){this._floating=Rt,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(Rt){this._monitorResize=Rt,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(Rt){this._elementRef=Rt,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,h.WQX)(V.a),this._ngZone=(0,h.WQX)(h.SKi),this._parent=(0,h.WQX)(Le),this._resizeSubscription=new j.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function be(ft){if(null!==ft.offsetParent)return ft.scrollWidth;const Rt=ft.cloneNode(!0);Rt.style.setProperty("position","absolute"),Rt.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(Rt);const Vt=Rt.scrollWidth;return Rt.remove(),Vt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(Vt){return new(Vt||ft)(h.rXU(h.aKT))};static#t=this.\u0275dir=h.FsC({type:ft,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Vt,dn){2&Vt&&h.AVh("mdc-floating-label--float-above",dn.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return ft})();const oe="mdc-line-ripple--active",fe="mdc-line-ripple--deactivating";let we=(()=>{class ft{constructor(Rt,Vt){this._elementRef=Rt,this._handleTransitionEnd=dn=>{const Mn=this._elementRef.nativeElement.classList,En=Mn.contains(fe);"opacity"===dn.propertyName&&En&&Mn.remove(oe,fe)},Vt.runOutsideAngular(()=>{Rt.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const Rt=this._elementRef.nativeElement.classList;Rt.remove(fe),Rt.add(oe)}deactivate(){this._elementRef.nativeElement.classList.add(fe)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(Vt){return new(Vt||ft)(h.rXU(h.aKT),h.rXU(h.SKi))};static#t=this.\u0275dir=h.FsC({type:ft,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return ft})(),De=(()=>{class ft{constructor(Rt,Vt){this._elementRef=Rt,this._ngZone=Vt,this.open=!1}ngAfterViewInit(){const Rt=this._elementRef.nativeElement.querySelector(".mdc-floating-label");Rt?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(Rt.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>Rt.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(Rt){this._notch.nativeElement.style.width=this.open&&Rt?`calc(${Rt}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(Vt){return new(Vt||ft)(h.rXU(h.aKT),h.rXU(h.SKi))};static#t=this.\u0275cmp=h.VBU({type:ft,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(Vt,dn){if(1&Vt&&h.GBs(Q,5),2&Vt){let Mn;h.mGM(Mn=h.lsd())&&(dn._notch=Mn.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Vt,dn){2&Vt&&h.AVh("mdc-notched-outline--notched",dn.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[h.aNF],attrs:de,ngContentSelectors:ae,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(Vt,dn){1&Vt&&(h.NAR(),h.nrm(0,"div",1),h.j41(1,"div",2,0),h.SdG(3),h.k0s(),h.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return ft})();const $e={transitionMessages:(0,P.hZ)("transitionMessages",[(0,P.wk)("enter",(0,P.iF)({opacity:1,transform:"translateY(0%)"})),(0,P.kY)("void => enter",[(0,P.iF)({opacity:0,transform:"translateY(-5px)"}),(0,P.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Je=(()=>{class ft{static#e=this.\u0275fac=function(Vt){return new(Vt||ft)};static#t=this.\u0275dir=h.FsC({type:ft})}return ft})();const Ge=new h.nKC("MatFormField"),Et=new h.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let K=0;const C="fill",z="fixed";let Ae=(()=>{class ft{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Rt){this._hideRequiredMarker=(0,N.he)(Rt)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(Rt){Rt!==this._floatLabel&&(this._floatLabel=Rt,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(Rt){const Vt=this._appearance;this._appearance=Rt||this._defaults?.appearance||C,"outline"===this._appearance&&this._appearance!==Vt&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||z}set subscriptSizing(Rt){this._subscriptSizing=Rt||this._defaults?.subscriptSizing||z}get hintLabel(){return this._hintLabel}set hintLabel(Rt){this._hintLabel=Rt,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(Rt){this._explicitFormFieldControl=Rt}constructor(Rt,Vt,dn,Mn,En,Ar,jn,mn){this._elementRef=Rt,this._changeDetectorRef=Vt,this._dir=Mn,this._platform=En,this._defaults=Ar,this._animationMode=jn,this._labelChild=(0,h.sbv)(X),this._hideRequiredMarker=!1,this.color="primary",this._appearance=C,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+K++,this._hintLabelId="mat-mdc-hint-"+K++,this._subscriptAnimationState="",this._destroyed=new R.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,h.WQX)(h.zZn),this.getLabelId=(0,h.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,h.EWP)(()=>!!this._labelChild()),Ar&&(Ar.appearance&&(this.appearance=Ar.appearance),this._hideRequiredMarker=!!Ar?.hideRequiredMarker,Ar.color&&(this.color=Ar.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const Rt=this._control;Rt.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${Rt.controlType}`),Rt.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Rt.ngControl&&Rt.ngControl.valueChanges&&Rt.ngControl.valueChanges.pipe((0,H.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(Rt=>!Rt._isText),this._hasTextPrefix=!!this._prefixChildren.find(Rt=>Rt._isText),this._hasIconSuffix=!!this._suffixChildren.find(Rt=>!Rt._isText),this._hasTextSuffix=!!this._suffixChildren.find(Rt=>Rt._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,U.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,h.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,H.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(Rt){const Vt=this._control?this._control.ngControl:null;return Vt&&Vt[Rt]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let Rt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Rt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Vt=this._hintChildren?this._hintChildren.find(Mn=>"start"===Mn.align):null,dn=this._hintChildren?this._hintChildren.find(Mn=>"end"===Mn.align):null;Vt?Rt.push(Vt.id):this._hintLabel&&Rt.push(this._hintLabelId),dn&&Rt.push(dn.id)}else this._errorChildren&&Rt.push(...this._errorChildren.map(Vt=>Vt.id));this._control.setDescribedByIds(Rt)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const Rt=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(Rt.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const Vt=this._iconPrefixContainer?.nativeElement,dn=this._textPrefixContainer?.nativeElement,Mn=Vt?.getBoundingClientRect().width??0,En=dn?.getBoundingClientRect().width??0;Rt.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${Mn+En}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const Rt=this._elementRef.nativeElement;if(Rt.getRootNode){const Vt=Rt.getRootNode();return Vt&&Vt!==Rt}return document.documentElement.contains(Rt)}static#e=this.\u0275fac=function(Vt){return new(Vt||ft)(h.rXU(h.aKT),h.rXU(h.gRc),h.rXU(h.SKi),h.rXU(x.dS),h.rXU(Y.OD),h.rXU(Et,8),h.rXU(h.bc$,8),h.rXU(M.qQ))};static#t=this.\u0275cmp=h.VBU({type:ft,selectors:[["mat-form-field"]],contentQueries:function(Vt,dn,Mn){if(1&Vt&&(h.C6U(Mn,dn._labelChild,X,5),h.wni(Mn,Je,5),h.wni(Mn,ke,5),h.wni(Mn,Xe,5),h.wni(Mn,me,5),h.wni(Mn,Qe,5)),2&Vt){let En;h.NyB(),h.mGM(En=h.lsd())&&(dn._formFieldControl=En.first),h.mGM(En=h.lsd())&&(dn._prefixChildren=En),h.mGM(En=h.lsd())&&(dn._suffixChildren=En),h.mGM(En=h.lsd())&&(dn._errorChildren=En),h.mGM(En=h.lsd())&&(dn._hintChildren=En)}},viewQuery:function(Vt,dn){if(1&Vt&&(h.GBs(re,5),h.GBs(te,5),h.GBs(ue,5),h.GBs(Ee,5),h.GBs(De,5),h.GBs(we,5)),2&Vt){let Mn;h.mGM(Mn=h.lsd())&&(dn._textField=Mn.first),h.mGM(Mn=h.lsd())&&(dn._iconPrefixContainer=Mn.first),h.mGM(Mn=h.lsd())&&(dn._textPrefixContainer=Mn.first),h.mGM(Mn=h.lsd())&&(dn._floatingLabel=Mn.first),h.mGM(Mn=h.lsd())&&(dn._notchedOutline=Mn.first),h.mGM(Mn=h.lsd())&&(dn._lineRipple=Mn.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Vt,dn){2&Vt&&h.AVh("mat-mdc-form-field-label-always-float",dn._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",dn._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",dn._hasIconSuffix)("mat-form-field-invalid",dn._control.errorState)("mat-form-field-disabled",dn._control.disabled)("mat-form-field-autofilled",dn._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===dn._animationMode)("mat-form-field-appearance-fill","fill"==dn.appearance)("mat-form-field-appearance-outline","outline"==dn.appearance)("mat-form-field-hide-placeholder",dn._hasFloatingLabel()&&!dn._shouldLabelFloat())("mat-focused",dn._control.focused)("mat-primary","accent"!==dn.color&&"warn"!==dn.color)("mat-accent","accent"===dn.color)("mat-warn","warn"===dn.color)("ng-untouched",dn._shouldForward("untouched"))("ng-touched",dn._shouldForward("touched"))("ng-pristine",dn._shouldForward("pristine"))("ng-dirty",dn._shouldForward("dirty"))("ng-valid",dn._shouldForward("valid"))("ng-invalid",dn._shouldForward("invalid"))("ng-pending",dn._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[h.Jv_([{provide:Ge,useExisting:ft},{provide:Le,useExisting:ft}]),h.aNF],ngContentSelectors:he,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(Vt,dn){if(1&Vt){const Mn=h.RV6();h.NAR(pe),h.DNE(0,Me,1,1,"ng-template",null,0,h.C5r),h.j41(2,"div",4,1),h.bIt("click",function(Ar){return h.eBV(Mn),h.Njj(dn._control.onContainerClick(Ar))}),h.DNE(4,Oe,1,0,"div",5),h.j41(5,"div",6),h.DNE(6,l,2,2,"div",7)(7,f,3,0,"div",8)(8,w,3,0,"div",9),h.j41(9,"div",10),h.DNE(10,D,1,1,null,11),h.SdG(11),h.k0s(),h.DNE(12,O,2,0,"div",12)(13,$,2,0,"div",13),h.k0s(),h.DNE(14,T,1,0,"div",14),h.k0s(),h.j41(15,"div",15),h.DNE(16,c,2,1,"div",16)(17,q,5,2,"div",17),h.k0s()}if(2&Vt){let Mn;h.R7$(2),h.AVh("mdc-text-field--filled",!dn._hasOutline())("mdc-text-field--outlined",dn._hasOutline())("mdc-text-field--no-label",!dn._hasFloatingLabel())("mdc-text-field--disabled",dn._control.disabled)("mdc-text-field--invalid",dn._control.errorState),h.R7$(2),h.vxM(dn._hasOutline()||dn._control.disabled?-1:4),h.R7$(2),h.vxM(dn._hasOutline()?6:-1),h.R7$(),h.vxM(dn._hasIconPrefix?7:-1),h.R7$(),h.vxM(dn._hasTextPrefix?8:-1),h.R7$(2),h.vxM(!dn._hasOutline()||dn._forceDisplayInfixLabel()?10:-1),h.R7$(2),h.vxM(dn._hasTextSuffix?12:-1),h.R7$(),h.vxM(dn._hasIconSuffix?13:-1),h.R7$(),h.vxM(dn._hasOutline()?-1:14),h.R7$(),h.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===dn.subscriptSizing),h.R7$(),h.vxM("error"===(Mn=dn._getDisplayedMessages())?16:"hint"===Mn?17:-1)}},dependencies:[Ee,De,M.T3,we,Qe],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[$e.transitionMessages]},changeDetection:0})}return ft})(),Be=(()=>{class ft{static#e=this.\u0275fac=function(Vt){return new(Vt||ft)};static#t=this.\u0275mod=h.$C({type:ft});static#n=this.\u0275inj=h.G2t({imports:[W.yE,M.MD,ee.w5,W.yE]})}return ft})()},99213:(Ye,J,A)=>{"use strict";A.d(J,{An:()=>E,m_:()=>q});var h=A(93953),x=A(86600),N=A(60177),Y=A(7673),M=A(18810),j=A(27468),R=A(18359),U=A(88141),H=A(96354),V=A(99437),P=A(70980),ee=A(97647),W=A(96697),Q=A(21626),de=A(345);const ae=["*"];let re;function ue(X){return function te(){if(void 0===re&&(re=null,typeof window<"u")){const X=window;void 0!==X.trustedTypes&&(re=X.trustedTypes.createPolicy("angular#components",{createHTML:ce=>ce}))}return re}()?.createHTML(X)||X}function pe(X){return Error(`Unable to find icon with the name "${X}"`)}function ve(X){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${X}".`)}function ge(X){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${X}".`)}class Me{constructor(ce,me,Te){this.url=ce,this.svgText=me,this.options=Te}}let Oe=(()=>{class X{constructor(me,Te,Ke,Qe){this._httpClient=me,this._sanitizer=Te,this._errorHandler=Qe,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Ke}addSvgIcon(me,Te,Ke){return this.addSvgIconInNamespace("",me,Te,Ke)}addSvgIconLiteral(me,Te,Ke){return this.addSvgIconLiteralInNamespace("",me,Te,Ke)}addSvgIconInNamespace(me,Te,Ke,Qe){return this._addSvgIconConfig(me,Te,new Me(Ke,null,Qe))}addSvgIconResolver(me){return this._resolvers.push(me),this}addSvgIconLiteralInNamespace(me,Te,Ke,Qe){const ke=this._sanitizer.sanitize(h.WPN.HTML,Ke);if(!ke)throw ge(Ke);const Ie=ue(ke);return this._addSvgIconConfig(me,Te,new Me("",Ie,Qe))}addSvgIconSet(me,Te){return this.addSvgIconSetInNamespace("",me,Te)}addSvgIconSetLiteral(me,Te){return this.addSvgIconSetLiteralInNamespace("",me,Te)}addSvgIconSetInNamespace(me,Te,Ke){return this._addSvgIconSetConfig(me,new Me(Te,null,Ke))}addSvgIconSetLiteralInNamespace(me,Te,Ke){const Qe=this._sanitizer.sanitize(h.WPN.HTML,Te);if(!Qe)throw ge(Te);const ke=ue(Qe);return this._addSvgIconSetConfig(me,new Me("",ke,Ke))}registerFontClassAlias(me,Te=me){return this._fontCssClassesByAlias.set(me,Te),this}classNameForFontAlias(me){return this._fontCssClassesByAlias.get(me)||me}setDefaultFontSetClass(...me){return this._defaultFontSetClass=me,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(me){const Te=this._sanitizer.sanitize(h.WPN.RESOURCE_URL,me);if(!Te)throw ve(me);const Ke=this._cachedIconsByUrl.get(Te);return Ke?(0,Y.of)(l(Ke)):this._loadSvgIconFromConfig(new Me(me,null)).pipe((0,U.M)(Qe=>this._cachedIconsByUrl.set(Te,Qe)),(0,H.T)(Qe=>l(Qe)))}getNamedSvgIcon(me,Te=""){const Ke=f(Te,me);let Qe=this._svgIconConfigs.get(Ke);if(Qe)return this._getSvgFromConfig(Qe);if(Qe=this._getIconConfigFromResolvers(Te,me),Qe)return this._svgIconConfigs.set(Ke,Qe),this._getSvgFromConfig(Qe);const ke=this._iconSetConfigs.get(Te);return ke?this._getSvgFromIconSetConfigs(me,ke):(0,M.$)(pe(Ke))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(me){return me.svgText?(0,Y.of)(l(this._svgElementFromConfig(me))):this._loadSvgIconFromConfig(me).pipe((0,H.T)(Te=>l(Te)))}_getSvgFromIconSetConfigs(me,Te){const Ke=this._extractIconWithNameFromAnySet(me,Te);if(Ke)return(0,Y.of)(Ke);const Qe=Te.filter(ke=>!ke.svgText).map(ke=>this._loadSvgIconSetFromConfig(ke).pipe((0,V.W)(Ie=>{const Se=`Loading icon set URL: ${this._sanitizer.sanitize(h.WPN.RESOURCE_URL,ke.url)} failed: ${Ie.message}`;return this._errorHandler.handleError(new Error(Se)),(0,Y.of)(null)})));return(0,j.p)(Qe).pipe((0,H.T)(()=>{const ke=this._extractIconWithNameFromAnySet(me,Te);if(!ke)throw pe(me);return ke}))}_extractIconWithNameFromAnySet(me,Te){for(let Ke=Te.length-1;Ke>=0;Ke--){const Qe=Te[Ke];if(Qe.svgText&&Qe.svgText.toString().indexOf(me)>-1){const ke=this._svgElementFromConfig(Qe),Ie=this._extractSvgIconFromSet(ke,me,Qe.options);if(Ie)return Ie}}return null}_loadSvgIconFromConfig(me){return this._fetchIcon(me).pipe((0,U.M)(Te=>me.svgText=Te),(0,H.T)(()=>this._svgElementFromConfig(me)))}_loadSvgIconSetFromConfig(me){return me.svgText?(0,Y.of)(null):this._fetchIcon(me).pipe((0,U.M)(Te=>me.svgText=Te))}_extractSvgIconFromSet(me,Te,Ke){const Qe=me.querySelector(`[id="${Te}"]`);if(!Qe)return null;const ke=Qe.cloneNode(!0);if(ke.removeAttribute("id"),"svg"===ke.nodeName.toLowerCase())return this._setSvgAttributes(ke,Ke);if("symbol"===ke.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(ke),Ke);const Ie=this._svgElementFromString(ue("<svg></svg>"));return Ie.appendChild(ke),this._setSvgAttributes(Ie,Ke)}_svgElementFromString(me){const Te=this._document.createElement("DIV");Te.innerHTML=me;const Ke=Te.querySelector("svg");if(!Ke)throw Error("<svg> tag not found");return Ke}_toSvgElement(me){const Te=this._svgElementFromString(ue("<svg></svg>")),Ke=me.attributes;for(let Qe=0;Qe<Ke.length;Qe++){const{name:ke,value:Ie}=Ke[Qe];"id"!==ke&&Te.setAttribute(ke,Ie)}for(let Qe=0;Qe<me.childNodes.length;Qe++)me.childNodes[Qe].nodeType===this._document.ELEMENT_NODE&&Te.appendChild(me.childNodes[Qe].cloneNode(!0));return Te}_setSvgAttributes(me,Te){return me.setAttribute("fit",""),me.setAttribute("height","100%"),me.setAttribute("width","100%"),me.setAttribute("preserveAspectRatio","xMidYMid meet"),me.setAttribute("focusable","false"),Te&&Te.viewBox&&me.setAttribute("viewBox",Te.viewBox),me}_fetchIcon(me){const{url:Te,options:Ke}=me,Qe=Ke?.withCredentials??!1;if(!this._httpClient)throw function he(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Te)throw Error(`Cannot fetch icon from URL "${Te}".`);const ke=this._sanitizer.sanitize(h.WPN.RESOURCE_URL,Te);if(!ke)throw ve(Te);const Ie=this._inProgressUrlFetches.get(ke);if(Ie)return Ie;const Xe=this._httpClient.get(ke,{responseType:"text",withCredentials:Qe}).pipe((0,H.T)(Se=>ue(Se)),(0,P.j)(()=>this._inProgressUrlFetches.delete(ke)),(0,ee.u)());return this._inProgressUrlFetches.set(ke,Xe),Xe}_addSvgIconConfig(me,Te,Ke){return this._svgIconConfigs.set(f(me,Te),Ke),this}_addSvgIconSetConfig(me,Te){const Ke=this._iconSetConfigs.get(me);return Ke?Ke.push(Te):this._iconSetConfigs.set(me,[Te]),this}_svgElementFromConfig(me){if(!me.svgElement){const Te=this._svgElementFromString(me.svgText);this._setSvgAttributes(Te,me.options),me.svgElement=Te}return me.svgElement}_getIconConfigFromResolvers(me,Te){for(let Ke=0;Ke<this._resolvers.length;Ke++){const Qe=this._resolvers[Ke](Te,me);if(Qe)return w(Qe)?new Me(Qe.url,null,Qe.options):new Me(Qe,null)}}static#e=this.\u0275fac=function(Te){return new(Te||X)(h.KVO(Q.Qq,8),h.KVO(de.up),h.KVO(N.qQ,8),h.KVO(h.zcH))};static#t=this.\u0275prov=h.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})();function l(X){return X.cloneNode(!0)}function f(X,ce){return X+":"+ce}function w(X){return!(!X.url||!X.options)}const _=new h.nKC("MAT_ICON_DEFAULT_OPTIONS"),D=new h.nKC("mat-icon-location",{providedIn:"root",factory:function O(){const X=(0,h.WQX)(N.qQ),ce=X?X.location:null;return{getPathname:()=>ce?ce.pathname+ce.search:""}}}),$=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],T=$.map(X=>`[${X}]`).join(", "),c=/^url\(['"]?#(.*?)['"]?\)$/;let E=(()=>{class X{get color(){return this._color||this._defaultColor}set color(me){this._color=me}get svgIcon(){return this._svgIcon}set svgIcon(me){me!==this._svgIcon&&(me?this._updateSvgIcon(me):this._svgIcon&&this._clearSvgElement(),this._svgIcon=me)}get fontSet(){return this._fontSet}set fontSet(me){const Te=this._cleanupFontValue(me);Te!==this._fontSet&&(this._fontSet=Te,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(me){const Te=this._cleanupFontValue(me);Te!==this._fontIcon&&(this._fontIcon=Te,this._updateFontIconClasses())}constructor(me,Te,Ke,Qe,ke,Ie){this._elementRef=me,this._iconRegistry=Te,this._location=Qe,this._errorHandler=ke,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=R.yU.EMPTY,Ie&&(Ie.color&&(this.color=this._defaultColor=Ie.color),Ie.fontSet&&(this.fontSet=Ie.fontSet)),Ke||me.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(me){if(!me)return["",""];const Te=me.split(":");switch(Te.length){case 1:return["",Te[0]];case 2:return Te;default:throw Error(`Invalid icon name: "${me}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const me=this._elementsWithExternalReferences;if(me&&me.size){const Te=this._location.getPathname();Te!==this._previousPath&&(this._previousPath=Te,this._prependPathToReferences(Te))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(me){this._clearSvgElement();const Te=this._location.getPathname();this._previousPath=Te,this._cacheChildrenWithExternalReferences(me),this._prependPathToReferences(Te),this._elementRef.nativeElement.appendChild(me)}_clearSvgElement(){const me=this._elementRef.nativeElement;let Te=me.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Te--;){const Ke=me.childNodes[Te];(1!==Ke.nodeType||"svg"===Ke.nodeName.toLowerCase())&&Ke.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const me=this._elementRef.nativeElement,Te=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Ke=>Ke.length>0);this._previousFontSetClass.forEach(Ke=>me.classList.remove(Ke)),Te.forEach(Ke=>me.classList.add(Ke)),this._previousFontSetClass=Te,this.fontIcon!==this._previousFontIconClass&&!Te.includes("mat-ligature-font")&&(this._previousFontIconClass&&me.classList.remove(this._previousFontIconClass),this.fontIcon&&me.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(me){return"string"==typeof me?me.trim().split(" ")[0]:me}_prependPathToReferences(me){const Te=this._elementsWithExternalReferences;Te&&Te.forEach((Ke,Qe)=>{Ke.forEach(ke=>{Qe.setAttribute(ke.name,`url('${me}#${ke.value}')`)})})}_cacheChildrenWithExternalReferences(me){const Te=me.querySelectorAll(T),Ke=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Qe=0;Qe<Te.length;Qe++)$.forEach(ke=>{const Ie=Te[Qe],Xe=Ie.getAttribute(ke),Se=Xe?Xe.match(c):null;if(Se){let Le=Ke.get(Ie);Le||(Le=[],Ke.set(Ie,Le)),Le.push({name:ke,value:Se[1]})}})}_updateSvgIcon(me){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),me){const[Te,Ke]=this._splitIconName(me);Te&&(this._svgNamespace=Te),Ke&&(this._svgName=Ke),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Ke,Te).pipe((0,W.s)(1)).subscribe(Qe=>this._setSvgElement(Qe),Qe=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Te}:${Ke}! ${Qe.message}`))})}}static#e=this.\u0275fac=function(Te){return new(Te||X)(h.rXU(h.aKT),h.rXU(Oe),h.kS0("aria-hidden"),h.rXU(D),h.rXU(h.zcH),h.rXU(_,8))};static#t=this.\u0275cmp=h.VBU({type:X,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(Te,Ke){2&Te&&(h.BMQ("data-mat-icon-type",Ke._usingFontIcon()?"font":"svg")("data-mat-icon-name",Ke._svgName||Ke.fontIcon)("data-mat-icon-namespace",Ke._svgNamespace||Ke.fontSet)("fontIcon",Ke._usingFontIcon()?Ke.fontIcon:null),h.HbH(Ke.color?"mat-"+Ke.color:""),h.AVh("mat-icon-inline",Ke.inline)("mat-icon-no-color","primary"!==Ke.color&&"accent"!==Ke.color&&"warn"!==Ke.color))},inputs:{color:"color",inline:[2,"inline","inline",h.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[h.GFd,h.aNF],ngContentSelectors:ae,decls:1,vars:0,template:function(Te,Ke){1&Te&&(h.NAR(),h.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return X})(),q=(()=>{class X{static#e=this.\u0275fac=function(Te){return new(Te||X)};static#t=this.\u0275mod=h.$C({type:X});static#n=this.\u0275inj=h.G2t({imports:[x.yE,x.yE]})}return X})()},99631:(Ye,J,A)=>{"use strict";A.d(J,{fg:()=>te,fS:()=>ue});var h=A(14085),x=A(36860),N=A(93953),Y=A(983),M=A(21413);const j=(0,x.BQ)({passive:!0});let R=(()=>{class pe{constructor(ve,ge){this._platform=ve,this._ngZone=ge,this._monitoredElements=new Map}monitor(ve){if(!this._platform.isBrowser)return Y.w;const ge=(0,h.i8)(ve),Me=this._monitoredElements.get(ge);if(Me)return Me.subject;const Oe=new M.B,je="cdk-text-field-autofilled",B=l=>{"cdk-text-field-autofill-start"!==l.animationName||ge.classList.contains(je)?"cdk-text-field-autofill-end"===l.animationName&&ge.classList.contains(je)&&(ge.classList.remove(je),this._ngZone.run(()=>Oe.next({target:l.target,isAutofilled:!1}))):(ge.classList.add(je),this._ngZone.run(()=>Oe.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{ge.addEventListener("animationstart",B,j),ge.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(ge,{subject:Oe,unlisten:()=>{ge.removeEventListener("animationstart",B,j)}}),Oe}stopMonitoring(ve){const ge=(0,h.i8)(ve),Me=this._monitoredElements.get(ge);Me&&(Me.unlisten(),Me.subject.complete(),ge.classList.remove("cdk-text-field-autofill-monitored"),ge.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(ge))}ngOnDestroy(){this._monitoredElements.forEach((ve,ge)=>this.stopMonitoring(ge))}static#e=this.\u0275fac=function(ge){return new(ge||pe)(N.KVO(x.OD),N.KVO(N.SKi))};static#t=this.\u0275prov=N.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})(),V=(()=>{class pe{static#e=this.\u0275fac=function(ge){return new(ge||pe)};static#t=this.\u0275mod=N.$C({type:pe});static#n=this.\u0275inj=N.G2t({})}return pe})();var P=A(89417),ee=A(86600),W=A(53719);const de=new N.nKC("MAT_INPUT_VALUE_ACCESSOR"),ae=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let re=0,te=(()=>{class pe{get disabled(){return this._disabled}set disabled(ve){this._disabled=(0,h.he)(ve),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(ve){this._id=ve||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(P.k0.required)??!1}set required(ve){this._required=(0,h.he)(ve)}get type(){return this._type}set type(ve){this._type=ve||"text",this._validateType(),!this._isTextarea&&(0,x.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(ve){this._errorStateTracker.matcher=ve}get value(){return this._inputValueAccessor.value}set value(ve){ve!==this.value&&(this._inputValueAccessor.value=ve,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(ve){this._readonly=(0,h.he)(ve)}get errorState(){return this._errorStateTracker.errorState}set errorState(ve){this._errorStateTracker.errorState=ve}constructor(ve,ge,Me,Oe,je,B,l,f,w,_){this._elementRef=ve,this._platform=ge,this.ngControl=Me,this._autofillMonitor=f,this._ngZone=w,this._formField=_,this._uid="mat-input-"+re++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new M.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter($=>(0,x.MU)().has($)),this._iOSKeyupListener=$=>{const T=$.target;!T.value&&0===T.selectionStart&&0===T.selectionEnd&&(T.setSelectionRange(1,1),T.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const D=this._elementRef.nativeElement,O=D.nodeName.toLowerCase();this._inputValueAccessor=l||D,this._previousNativeValue=this.value,this.id=this.id,ge.IOS&&w.runOutsideAngular(()=>{ve.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new ee.X0(B,Me,je,Oe,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===O,this._isTextarea="textarea"===O,this._isInFormField=!!_,this._isNativeSelect&&(this.controlType=D.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(ve=>{this.autofilled=ve.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(ve){this._elementRef.nativeElement.focus(ve)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(ve){ve!==this.focused&&(this.focused=ve,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const ve=this._elementRef.nativeElement.value;this._previousNativeValue!==ve&&(this._previousNativeValue=ve,this.stateChanges.next())}_dirtyCheckPlaceholder(){const ve=this._getPlaceholder();if(ve!==this._previousPlaceholder){const ge=this._elementRef.nativeElement;this._previousPlaceholder=ve,ve?ge.setAttribute("placeholder",ve):ge.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){ae.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let ve=this._elementRef.nativeElement.validity;return ve&&ve.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const ve=this._elementRef.nativeElement,ge=ve.options[0];return this.focused||ve.multiple||!this.empty||!!(ve.selectedIndex>-1&&ge&&ge.label)}return this.focused||!this.empty}setDescribedByIds(ve){ve.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ve.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const ve=this._elementRef.nativeElement;return this._isNativeSelect&&(ve.multiple||ve.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static#e=this.\u0275fac=function(ge){return new(ge||pe)(N.rXU(N.aKT),N.rXU(x.OD),N.rXU(P.vO,10),N.rXU(P.cV,8),N.rXU(P.j4,8),N.rXU(ee.es),N.rXU(de,10),N.rXU(R),N.rXU(N.SKi),N.rXU(W.xb,8))};static#t=this.\u0275dir=N.FsC({type:pe,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(ge,Me){1&ge&&N.bIt("focus",function(){return Me._focusChanged(!0)})("blur",function(){return Me._focusChanged(!1)})("input",function(){return Me._onInput()}),2&ge&&(N.Mr5("id",Me.id)("disabled",Me.disabled)("required",Me.required),N.BMQ("name",Me.name||null)("readonly",Me.readonly&&!Me._isNativeSelect||null)("aria-invalid",Me.empty&&Me.required?null:Me.errorState)("aria-required",Me.required)("id",Me.id),N.AVh("mat-input-server",Me._isServer)("mat-mdc-form-field-textarea-control",Me._isInFormField&&Me._isTextarea)("mat-mdc-form-field-input-control",Me._isInFormField)("mdc-text-field__input",Me._isInFormField)("mat-mdc-native-select-inline",Me._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[N.Jv_([{provide:W.qT,useExisting:pe}]),N.OA$]})}return pe})(),ue=(()=>{class pe{static#e=this.\u0275fac=function(ge){return new(ge||pe)};static#t=this.\u0275mod=N.$C({type:pe});static#n=this.\u0275inj=N.G2t({imports:[ee.yE,W.RG,W.RG,V,ee.yE]})}return pe})()},3902:(Ye,J,A)=>{"use strict";A.d(J,{C_:()=>me,EI:()=>$e,Fg:()=>Et,YE:()=>fe,ZV:()=>ke,_L:()=>Ze,jt:()=>oe,yE:()=>ce});var h=A(93953),x=A(14085),N=A(36860),Y=A(86600),M=A(18359),j=A(57786),U=(A(21413),A(49937)),H=A(60177),V=A(71997);A(18617),A(45024),A(67336),A(89417),A(56977);const ae=["*"],re='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color);font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color);font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color);opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color);opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}',te=["unscopedContent"],ue=["text"],pe=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],he=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],X=new h.nKC("ListOption");let ce=(()=>{class K{constructor(b){this._elementRef=b}static#e=this.\u0275fac=function(z){return new(z||K)(h.rXU(h.aKT))};static#t=this.\u0275dir=h.FsC({type:K,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}return K})(),me=(()=>{class K{constructor(b){this._elementRef=b}static#e=this.\u0275fac=function(z){return new(z||K)(h.rXU(h.aKT))};static#t=this.\u0275dir=h.FsC({type:K,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}return K})(),Te=(()=>{class K{static#e=this.\u0275fac=function(z){return new(z||K)};static#t=this.\u0275dir=h.FsC({type:K,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}return K})(),Ke=(()=>{class K{constructor(b){this._listOption=b}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(z){return new(z||K)(h.rXU(X,8))};static#t=this.\u0275dir=h.FsC({type:K,hostVars:4,hostBindings:function(z,le){2&z&&h.AVh("mdc-list-item__start",le._isAlignedAtStart())("mdc-list-item__end",!le._isAlignedAtStart())},standalone:!0})}return K})(),Qe=(()=>{class K extends Ke{static#e=this.\u0275fac=(()=>{let b;return function(le){return(b||(b=h.xGo(K)))(le||K)}})();static#t=this.\u0275dir=h.FsC({type:K,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[h.Vt3]})}return K})(),ke=(()=>{class K extends Ke{static#e=this.\u0275fac=(()=>{let b;return function(le){return(b||(b=h.xGo(K)))(le||K)}})();static#t=this.\u0275dir=h.FsC({type:K,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[h.Vt3]})}return K})();const Ie=new h.nKC("MAT_LIST_CONFIG");let Xe=(()=>{class K{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,h.WQX)(Ie,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(b){this._disableRipple=(0,x.he)(b)}get disabled(){return this._disabled}set disabled(b){this._disabled=(0,x.he)(b)}static#e=this.\u0275fac=function(z){return new(z||K)};static#t=this.\u0275dir=h.FsC({type:K,hostVars:1,hostBindings:function(z,le){2&z&&h.BMQ("aria-disabled",le.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return K})(),Se=(()=>{class K{set lines(b){this._explicitLines=(0,x.OE)(b,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(b){this._disableRipple=(0,x.he)(b)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(b){this._disabled=(0,x.he)(b)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(b,z,le,Ae,Be,ft){this._elementRef=b,this._ngZone=z,this._listBase=le,this._platform=Ae,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new M.yU,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=Be||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===ft,le&&!le._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Y.ug(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,j.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(b){if(!this._lines||!this._titles||!this._unscopedContent)return;b&&this._checkDomForUnscopedTextContent();const z=this._explicitLines??this._inferLinesFromContent(),le=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",z<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",z<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===z),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===z),this._hasUnscopedTextContent){const Ae=0===this._titles.length&&1===z;le.classList.toggle("mdc-list-item__primary-text",Ae),le.classList.toggle("mdc-list-item__secondary-text",!Ae)}else le.classList.remove("mdc-list-item__primary-text"),le.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let b=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(b+=1),b}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(b=>b.nodeType!==b.COMMENT_NODE).some(b=>!(!b.textContent||!b.textContent.trim()))}static#e=this.\u0275fac=function(z){return new(z||K)(h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(Xe,8),h.rXU(N.OD),h.rXU(Y.$E,8),h.rXU(h.bc$,8))};static#t=this.\u0275dir=h.FsC({type:K,contentQueries:function(z,le,Ae){if(1&z&&(h.wni(Ae,Qe,4),h.wni(Ae,ke,4)),2&z){let Be;h.mGM(Be=h.lsd())&&(le._avatars=Be),h.mGM(Be=h.lsd())&&(le._icons=Be)}},hostVars:4,hostBindings:function(z,le){2&z&&(h.BMQ("aria-disabled",le.disabled)("disabled",le._isButtonElement&&le.disabled||null),h.AVh("mdc-list-item--disabled",le.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return K})(),oe=(()=>{class K extends Xe{static#e=this.\u0275fac=(()=>{let b;return function(le){return(b||(b=h.xGo(K)))(le||K)}})();static#t=this.\u0275cmp=h.VBU({type:K,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[h.Jv_([{provide:Xe,useExisting:K}]),h.Vt3,h.aNF],ngContentSelectors:ae,decls:1,vars:0,template:function(z,le){1&z&&(h.NAR(),h.SdG(0))},styles:[re],encapsulation:2,changeDetection:0})}return K})(),fe=(()=>{class K extends Se{get activated(){return this._activated}set activated(b){this._activated=(0,x.he)(b)}constructor(b,z,le,Ae,Be,ft){super(b,z,le,Ae,Be,ft),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return 0!==this._meta.length&&(0!==this._avatars.length||0!==this._icons.length)}static#e=this.\u0275fac=function(z){return new(z||K)(h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(Xe,8),h.rXU(N.OD),h.rXU(Y.$E,8),h.rXU(h.bc$,8))};static#t=this.\u0275cmp=h.VBU({type:K,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(z,le,Ae){if(1&z&&(h.wni(Ae,me,5),h.wni(Ae,ce,5),h.wni(Ae,Te,5)),2&z){let Be;h.mGM(Be=h.lsd())&&(le._lines=Be),h.mGM(Be=h.lsd())&&(le._titles=Be),h.mGM(Be=h.lsd())&&(le._meta=Be)}},viewQuery:function(z,le){if(1&z&&(h.GBs(te,5),h.GBs(ue,5)),2&z){let Ae;h.mGM(Ae=h.lsd())&&(le._unscopedContent=Ae.first),h.mGM(Ae=h.lsd())&&(le._itemText=Ae.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(z,le){2&z&&(h.BMQ("aria-current",le._getAriaCurrent()),h.AVh("mdc-list-item--activated",le.activated)("mdc-list-item--with-leading-avatar",0!==le._avatars.length)("mdc-list-item--with-leading-icon",0!==le._icons.length)("mdc-list-item--with-trailing-meta",0!==le._meta.length)("mat-mdc-list-item-both-leading-and-trailing",le._hasBothLeadingAndTrailing())("_mat-animation-noopable",le._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[h.Vt3,h.aNF],ngContentSelectors:he,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(z,le){if(1&z){const Ae=h.RV6();h.NAR(pe),h.SdG(0),h.j41(1,"span",1),h.SdG(2,1),h.SdG(3,2),h.j41(4,"span",2,0),h.bIt("cdkObserveContent",function(){return h.eBV(Ae),h.Njj(le._updateItemLines(!0))}),h.SdG(6,3),h.k0s()(),h.SdG(7,4),h.SdG(8,5),h.nrm(9,"div",3)}},dependencies:[U.Wv],encapsulation:2,changeDetection:0})}return K})(),$e=(()=>{class K{static#e=this.\u0275fac=function(z){return new(z||K)};static#t=this.\u0275dir=h.FsC({type:K,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"],standalone:!0})}return K})(),Ze=(()=>{class K extends Xe{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=(()=>{let b;return function(le){return(b||(b=h.xGo(K)))(le||K)}})();static#t=this.\u0275cmp=h.VBU({type:K,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[h.Jv_([{provide:Xe,useExisting:K}]),h.Vt3,h.aNF],ngContentSelectors:ae,decls:1,vars:0,template:function(z,le){1&z&&(h.NAR(),h.SdG(0))},styles:[re],encapsulation:2,changeDetection:0})}return K})(),Et=(()=>{class K{static#e=this.\u0275fac=function(z){return new(z||K)};static#t=this.\u0275mod=h.$C({type:K});static#n=this.\u0275inj=h.G2t({imports:[U.w5,H.MD,Y.yE,Y.pZ,Y.O5,V.w]})}return K})()},59115:(Ye,J,A)=>{"use strict";A.d(J,{Cn:()=>Le,Cp:()=>Se,fb:()=>w,kk:()=>Te});var h=A(93953),x=A(18617),N=A(67336),Y=A(21413),M=A(57786),j=A(18359),R=A(7673),U=A(25007),H=A(99172),V=A(25558),P=A(56977),ee=A(5964),W=A(96697),Q=A(91986),de=A(60177),ae=A(86600),re=A(76939),te=A(49969),ue=A(28203),pe=A(66969),he=A(36860),ve=A(67333);const ge=["mat-menu-item",""],Me=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Oe=["mat-icon, [matMenuItemIcon]","*"];function je(Ee,be){1&Ee&&(h.qSk(),h.j41(0,"svg",2),h.nrm(1,"polygon",3),h.k0s())}const B=["*"];function l(Ee,be){if(1&Ee){const oe=h.RV6();h.j41(0,"div",0),h.bIt("keydown",function(we){h.eBV(oe);const De=h.XpG();return h.Njj(De._handleKeydown(we))})("click",function(){h.eBV(oe);const we=h.XpG();return h.Njj(we.closed.emit("click"))})("@transformMenu.start",function(we){h.eBV(oe);const De=h.XpG();return h.Njj(De._onAnimationStart(we))})("@transformMenu.done",function(we){h.eBV(oe);const De=h.XpG();return h.Njj(De._onAnimationDone(we))}),h.j41(1,"div",1),h.SdG(2),h.k0s()()}if(2&Ee){const oe=h.XpG();h.HbH(oe._classList),h.Y8G("id",oe.panelId)("@transformMenu",oe._panelAnimationState),h.BMQ("aria-label",oe.ariaLabel||null)("aria-labelledby",oe.ariaLabelledby||null)("aria-describedby",oe.ariaDescribedby||null)}}const f=new h.nKC("MAT_MENU_PANEL");let w=(()=>{class Ee{constructor(oe,fe,we,De,$e){this._elementRef=oe,this._document=fe,this._focusMonitor=we,this._parentMenu=De,this._changeDetectorRef=$e,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new Y.B,this._focused=new Y.B,this._highlighted=!1,this._triggersSubmenu=!1,De?.addItem?.(this)}focus(oe,fe){this._focusMonitor&&oe?this._focusMonitor.focusVia(this._getHostElement(),oe,fe):this._getHostElement().focus(fe),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(oe){this.disabled&&(oe.preventDefault(),oe.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const oe=this._elementRef.nativeElement.cloneNode(!0),fe=oe.querySelectorAll("mat-icon, .material-icons");for(let we=0;we<fe.length;we++)fe[we].remove();return oe.textContent?.trim()||""}_setHighlighted(oe){this._highlighted=oe,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(oe){this._triggersSubmenu=oe,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(fe){return new(fe||Ee)(h.rXU(h.aKT),h.rXU(de.qQ),h.rXU(x.FN),h.rXU(f,8),h.rXU(h.gRc))};static#t=this.\u0275cmp=h.VBU({type:Ee,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(fe,we){1&fe&&h.bIt("click",function($e){return we._checkDisabled($e)})("mouseenter",function(){return we._handleMouseEnter()}),2&fe&&(h.BMQ("role",we.role)("tabindex",we._getTabIndex())("aria-disabled",we.disabled)("disabled",we.disabled||null),h.AVh("mat-mdc-menu-item-highlighted",we._highlighted)("mat-mdc-menu-item-submenu-trigger",we._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",h.L39],disableRipple:[2,"disableRipple","disableRipple",h.L39]},exportAs:["matMenuItem"],standalone:!0,features:[h.GFd,h.aNF],attrs:ge,ngContentSelectors:Oe,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(fe,we){1&fe&&(h.NAR(Me),h.SdG(0),h.j41(1,"span",0),h.SdG(2,1),h.k0s(),h.nrm(3,"div",1),h.DNE(4,je,2,0,":svg:svg",2)),2&fe&&(h.R7$(3),h.Y8G("matRippleDisabled",we.disableRipple||we.disabled)("matRippleTrigger",we._getHostElement()),h.R7$(),h.vxM(we._triggersSubmenu?4:-1))},dependencies:[ae.r6],encapsulation:2,changeDetection:0})}return Ee})();const $=new h.nKC("MatMenuContent"),c={transformMenu:(0,te.hZ)("transformMenu",[(0,te.wk)("void",(0,te.iF)({opacity:0,transform:"scale(0.8)"})),(0,te.kY)("void => enter",(0,te.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,te.iF)({opacity:1,transform:"scale(1)"}))),(0,te.kY)("* => void",(0,te.i0)("100ms 25ms linear",(0,te.iF)({opacity:0})))]),fadeInItems:(0,te.hZ)("fadeInItems",[(0,te.wk)("showing",(0,te.iF)({opacity:1})),(0,te.kY)("void => *",[(0,te.iF)({opacity:0}),(0,te.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let X=0;const ce=new h.nKC("mat-menu-default-options",{providedIn:"root",factory:function me(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Te=(()=>{class Ee{get xPosition(){return this._xPosition}set xPosition(oe){this._xPosition=oe,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(oe){this._yPosition=oe,this.setPositionClasses()}set panelClass(oe){const fe=this._previousPanelClass,we={...this._classList};fe&&fe.length&&fe.split(" ").forEach(De=>{we[De]=!1}),this._previousPanelClass=oe,oe&&oe.length&&(oe.split(" ").forEach(De=>{we[De]=!0}),this._elementRef.nativeElement.className=""),this._classList=we}get classList(){return this.panelClass}set classList(oe){this.panelClass=oe}constructor(oe,fe,we,De){this._elementRef=oe,this._changeDetectorRef=De,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new h.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new Y.B,this.closed=new h.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+X++,this._injector=(0,h.WQX)(h.zZn),this.overlayPanelClass=we.overlayPanelClass||"",this._xPosition=we.xPosition,this._yPosition=we.yPosition,this.backdropClass=we.backdropClass,this.overlapTrigger=we.overlapTrigger,this.hasBackdrop=we.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new x.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,H.Z)(this._directDescendantItems),(0,V.n)(oe=>(0,M.h)(...oe.map(fe=>fe._focused)))).subscribe(oe=>this._keyManager.updateActiveItem(oe)),this._directDescendantItems.changes.subscribe(oe=>{const fe=this._keyManager;if("enter"===this._panelAnimationState&&fe.activeItem?._hasFocus()){const we=oe.toArray(),De=Math.max(0,Math.min(we.length-1,fe.activeItemIndex||0));we[De]&&!we[De].disabled?fe.setActiveItem(De):fe.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,H.Z)(this._directDescendantItems),(0,V.n)(fe=>(0,M.h)(...fe.map(we=>we._hovered))))}addItem(oe){}removeItem(oe){}_handleKeydown(oe){const fe=oe.keyCode,we=this._keyManager;switch(fe){case N._f:(0,N.rp)(oe)||(oe.preventDefault(),this.closed.emit("keydown"));break;case N.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case N.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(fe===N.i7||fe===N.n6)&&we.setFocusOrigin("keyboard"),void we.onKeydown(oe)}oe.stopPropagation()}focusFirstItem(oe="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,h.mal)(()=>{let fe=null;if(this._directDescendantItems.length&&(fe=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!fe||!fe.contains(document.activeElement)){const we=this._keyManager;we.setFocusOrigin(oe).setFirstItemActive(),!we.activeItem&&fe&&fe.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(oe){if(null===this._baseElevation){const Je=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(Je)}const fe=Math.min(this._baseElevation+oe,24),we=`${this._elevationPrefix}${fe}`,De=Object.keys(this._classList).find($e=>$e.startsWith(this._elevationPrefix));if(!De||De===this._previousElevation){const $e={...this._classList};this._previousElevation&&($e[this._previousElevation]=!1),$e[we]=!0,this._previousElevation=we,this._classList=$e}}setPositionClasses(oe=this.xPosition,fe=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===oe,"mat-menu-after":"after"===oe,"mat-menu-above":"above"===fe,"mat-menu-below":"below"===fe},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(oe){this._animationDone.next(oe),this._isAnimating=!1}_onAnimationStart(oe){this._isAnimating=!0,"enter"===oe.toState&&0===this._keyManager.activeItemIndex&&(oe.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,H.Z)(this._allItems)).subscribe(oe=>{this._directDescendantItems.reset(oe.filter(fe=>fe._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(fe){return new(fe||Ee)(h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(ce),h.rXU(h.gRc))};static#t=this.\u0275cmp=h.VBU({type:Ee,selectors:[["mat-menu"]],contentQueries:function(fe,we,De){if(1&fe&&(h.wni(De,$,5),h.wni(De,w,5),h.wni(De,w,4)),2&fe){let $e;h.mGM($e=h.lsd())&&(we.lazyContent=$e.first),h.mGM($e=h.lsd())&&(we._allItems=$e),h.mGM($e=h.lsd())&&(we.items=$e)}},viewQuery:function(fe,we){if(1&fe&&h.GBs(h.C4Q,5),2&fe){let De;h.mGM(De=h.lsd())&&(we.templateRef=De.first)}},hostVars:3,hostBindings:function(fe,we){2&fe&&h.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",h.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",oe=>null==oe?null:(0,h.L39)(oe)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[h.Jv_([{provide:f,useExisting:Ee}]),h.GFd,h.aNF],ngContentSelectors:B,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(fe,we){1&fe&&(h.NAR(),h.DNE(0,l,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[c.transformMenu,c.fadeInItems]},changeDetection:0})}return Ee})();const Ke=new h.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const Ee=(0,h.WQX)(pe.hJ);return()=>Ee.scrollStrategies.reposition()}}),ke={provide:Ke,deps:[pe.hJ],useFactory:function Qe(Ee){return()=>Ee.scrollStrategies.reposition()}},Ie=(0,he.BQ)({passive:!0});let Se=(()=>{class Ee{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(oe){this.menu=oe}get menu(){return this._menu}set menu(oe){oe!==this._menu&&(this._menu=oe,this._menuCloseSubscription.unsubscribe(),oe&&(this._menuCloseSubscription=oe.close.subscribe(fe=>{this._destroyMenu(fe),("click"===fe||"tab"===fe)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(fe)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(oe,fe,we,De,$e,Je,Ze,Pt,nt){this._overlay=oe,this._element=fe,this._viewContainerRef=we,this._menuItemInstance=Je,this._dir=Ze,this._focusMonitor=Pt,this._ngZone=nt,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=j.yU.EMPTY,this._hoverSubscription=j.yU.EMPTY,this._menuCloseSubscription=j.yU.EMPTY,this._changeDetectorRef=(0,h.WQX)(h.gRc),this._handleTouchStart=Ge=>{(0,x.w6)(Ge)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new h.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new h.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=De,this._parentMaterialMenu=$e instanceof Te?$e:void 0,fe.nativeElement.addEventListener("touchstart",this._handleTouchStart,Ie)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Ie),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const oe=this.menu;if(this._menuOpen||!oe)return;const fe=this._createOverlay(oe),we=fe.getConfig(),De=we.positionStrategy;this._setPosition(oe,De),we.hasBackdrop=null==oe.hasBackdrop?!this.triggersSubmenu():oe.hasBackdrop,fe.attach(this._getPortal(oe)),oe.lazyContent&&oe.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(oe),oe instanceof Te&&(oe._startAnimation(),oe._directDescendantItems.changes.pipe((0,P.Q)(oe.close)).subscribe(()=>{De.withLockedPosition(!1).reapplyLastPosition(),De.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(oe,fe){this._focusMonitor&&oe?this._focusMonitor.focusVia(this._element,oe,fe):this._element.nativeElement.focus(fe)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(oe){if(!this._overlayRef||!this.menuOpen)return;const fe=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===oe||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,fe instanceof Te?(fe._resetAnimation(),fe.lazyContent?fe._animationDone.pipe((0,ee.p)(we=>"void"===we.toState),(0,W.s)(1),(0,P.Q)(fe.lazyContent._attached)).subscribe({next:()=>fe.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),fe?.lazyContent?.detach())}_initMenu(oe){oe.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,oe.direction=this.dir,this._setMenuElevation(oe),oe.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(oe){if(oe.setElevation){let fe=0,we=oe.parentMenu;for(;we;)fe++,we=we.parentMenu;oe.setElevation(fe)}}_setIsMenuOpen(oe){oe!==this._menuOpen&&(this._menuOpen=oe,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(oe),this._changeDetectorRef.markForCheck())}_createOverlay(oe){if(!this._overlayRef){const fe=this._getOverlayConfig(oe);this._subscribeToPositions(oe,fe.positionStrategy),this._overlayRef=this._overlay.create(fe),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(oe){return new pe.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:oe.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:oe.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(oe,fe){oe.setPositionClasses&&fe.positionChanges.subscribe(we=>{const De="start"===we.connectionPair.overlayX?"after":"before",$e="top"===we.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>oe.setPositionClasses(De,$e)):oe.setPositionClasses(De,$e)})}_setPosition(oe,fe){let[we,De]="before"===oe.xPosition?["end","start"]:["start","end"],[$e,Je]="above"===oe.yPosition?["bottom","top"]:["top","bottom"],[Ze,Pt]=[$e,Je],[nt,Ge]=[we,De],Et=0;if(this.triggersSubmenu()){if(Ge=we="before"===oe.xPosition?"start":"end",De=nt="end"===we?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const K=this._parentMaterialMenu.items.first;this._parentInnerPadding=K?K._getHostElement().offsetTop:0}Et="bottom"===$e?this._parentInnerPadding:-this._parentInnerPadding}}else oe.overlapTrigger||(Ze="top"===$e?"bottom":"top",Pt="top"===Je?"bottom":"top");fe.withPositions([{originX:we,originY:Ze,overlayX:nt,overlayY:$e,offsetY:Et},{originX:De,originY:Ze,overlayX:Ge,overlayY:$e,offsetY:Et},{originX:we,originY:Pt,overlayX:nt,overlayY:Je,offsetY:-Et},{originX:De,originY:Pt,overlayX:Ge,overlayY:Je,offsetY:-Et}])}_menuClosingActions(){const oe=this._overlayRef.backdropClick(),fe=this._overlayRef.detachments(),we=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,R.of)(),De=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,ee.p)($e=>$e!==this._menuItemInstance),(0,ee.p)(()=>this._menuOpen)):(0,R.of)();return(0,M.h)(oe,we,De,fe)}_handleMousedown(oe){(0,x._G)(oe)||(this._openedBy=0===oe.button?"mouse":void 0,this.triggersSubmenu()&&oe.preventDefault())}_handleKeydown(oe){const fe=oe.keyCode;(fe===N.Fm||fe===N.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(fe===N.LE&&"ltr"===this.dir||fe===N.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(oe){this.triggersSubmenu()?(oe.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,ee.p)(oe=>oe===this._menuItemInstance&&!oe.disabled),(0,Q.c)(0,U.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Te&&this.menu._isAnimating?this.menu._animationDone.pipe((0,W.s)(1),(0,Q.c)(0,U.$),(0,P.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(oe){return(!this._portal||this._portal.templateRef!==oe.templateRef)&&(this._portal=new re.VA(oe.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(fe){return new(fe||Ee)(h.rXU(pe.hJ),h.rXU(h.aKT),h.rXU(h.c1b),h.rXU(Ke),h.rXU(f,8),h.rXU(w,10),h.rXU(ue.dS,8),h.rXU(x.FN),h.rXU(h.SKi))};static#t=this.\u0275dir=h.FsC({type:Ee,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(fe,we){1&fe&&h.bIt("click",function($e){return we._handleClick($e)})("mousedown",function($e){return we._handleMousedown($e)})("keydown",function($e){return we._handleKeydown($e)}),2&fe&&h.BMQ("aria-haspopup",we.menu?"menu":null)("aria-expanded",we.menuOpen)("aria-controls",we.menuOpen?we.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return Ee})(),Le=(()=>{class Ee{static#e=this.\u0275fac=function(fe){return new(fe||Ee)};static#t=this.\u0275mod=h.$C({type:Ee});static#n=this.\u0275inj=h.G2t({providers:[ke],imports:[de.MD,ae.pZ,ae.yE,pe.z_,ve.Gj,ae.yE]})}return Ee})()},9183:(Ye,J,A)=>{"use strict";A.d(J,{D6:()=>ee,LG:()=>V});var h=A(93953),x=A(60177),N=A(86600);const Y=["determinateSpinner"];function M(W,Q){if(1&W&&(h.qSk(),h.j41(0,"svg",11),h.nrm(1,"circle",12),h.k0s()),2&W){const de=h.XpG();h.BMQ("viewBox",de._viewBox()),h.R7$(),h.xc7("stroke-dasharray",de._strokeCircumference(),"px")("stroke-dashoffset",de._strokeCircumference()/2,"px")("stroke-width",de._circleStrokeWidth(),"%"),h.BMQ("r",de._circleRadius())}}const j=new h.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function R(){return{diameter:U}}}),U=100;let V=(()=>{class W{get color(){return this._color||this._defaultColor}set color(de){this._color=de}constructor(de,ae,re){this._elementRef=de,this._defaultColor="primary",this._value=0,this._diameter=U,this._noopAnimations="NoopAnimations"===ae&&!!re&&!re._forceAnimations,this.mode="mat-spinner"===de.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",re&&(re.color&&(this.color=this._defaultColor=re.color),re.diameter&&(this.diameter=re.diameter),re.strokeWidth&&(this.strokeWidth=re.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(de){this._value=Math.max(0,Math.min(100,de||0))}get diameter(){return this._diameter}set diameter(de){this._diameter=de||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(de){this._strokeWidth=de||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const de=2*this._circleRadius()+this.strokeWidth;return`0 0 ${de} ${de}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(ae){return new(ae||W)(h.rXU(h.aKT),h.rXU(h.bc$,8),h.rXU(j))};static#t=this.\u0275cmp=h.VBU({type:W,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(ae,re){if(1&ae&&h.GBs(Y,5),2&ae){let te;h.mGM(te=h.lsd())&&(re._determinateCircle=te.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(ae,re){2&ae&&(h.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===re.mode?re.value:null)("mode",re.mode),h.HbH("mat-"+re.color),h.xc7("width",re.diameter,"px")("height",re.diameter,"px")("--mdc-circular-progress-size",re.diameter+"px")("--mdc-circular-progress-active-indicator-width",re.diameter+"px"),h.AVh("_mat-animation-noopable",re._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===re.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",h.Udg],diameter:[2,"diameter","diameter",h.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",h.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[h.GFd,h.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(ae,re){if(1&ae&&(h.DNE(0,M,2,8,"ng-template",null,0,h.C5r),h.j41(2,"div",2,1),h.qSk(),h.j41(4,"svg",3),h.nrm(5,"circle",4),h.k0s()(),h.joV(),h.j41(6,"div",5)(7,"div",6)(8,"div",7),h.eu8(9,8),h.k0s(),h.j41(10,"div",9),h.eu8(11,8),h.k0s(),h.j41(12,"div",10),h.eu8(13,8),h.k0s()()()),2&ae){const te=h.sdS(1);h.R7$(4),h.BMQ("viewBox",re._viewBox()),h.R7$(),h.xc7("stroke-dasharray",re._strokeCircumference(),"px")("stroke-dashoffset",re._strokeDashOffset(),"px")("stroke-width",re._circleStrokeWidth(),"%"),h.BMQ("r",re._circleRadius()),h.R7$(4),h.Y8G("ngTemplateOutlet",te),h.R7$(2),h.Y8G("ngTemplateOutlet",te),h.R7$(2),h.Y8G("ngTemplateOutlet",te)}},dependencies:[x.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return W})(),ee=(()=>{class W{static#e=this.\u0275fac=function(ae){return new(ae||W)};static#t=this.\u0275mod=h.$C({type:W});static#n=this.\u0275inj=h.G2t({imports:[x.MD,N.yE]})}return W})()},5951:(Ye,J,A)=>{"use strict";A.d(J,{Wk:()=>te});var h=A(18617),x=A(45024),N=A(93953),M=(A(89417),A(86600)),j=A(60177);const R=["input"],U=["formField"],H=["*"];let V=0;class P{constructor(pe,he){this.source=pe,this.value=he}}const W=new N.nKC("MatRadioGroup"),Q=new N.nKC("mat-radio-default-options",{providedIn:"root",factory:function de(){return{color:"accent"}}});let re=(()=>{class ue{get checked(){return this._checked}set checked(he){this._checked!==he&&(this._checked=he,he&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!he&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),he&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(he){this._value!==he&&(this._value=he,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===he),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(he){this._labelPosition=he}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(he){this._setDisabled(he)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(he){this._required=he}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(he){this._color=he}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(he,ve,ge,Me,Oe,je,B,l){this._elementRef=ve,this._changeDetector=ge,this._focusMonitor=Me,this._radioDispatcher=Oe,this._providerOverride=B,this._uniqueId="mat-radio-"+ ++V,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new N.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,N.WQX)(N.zZn),this.radioGroup=he,this._noopAnimations="NoopAnimations"===je,l&&(this.tabIndex=(0,N.Udg)(l,0))}focus(he,ve){ve?this._focusMonitor.focusVia(this._inputElement,ve,he):this._inputElement.nativeElement.focus(he)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((he,ve)=>{he!==this.id&&ve===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(he=>{!he&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new P(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(he){he.stopPropagation()}_onInputInteraction(he){if(he.stopPropagation(),!this.checked&&!this.disabled){const ve=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),ve&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(he){this._onInputInteraction(he),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(he){this._disabled!==he&&(this._disabled=he,this._changeDetector.markForCheck())}_updateTabIndex(){const he=this.radioGroup;let ve;if(ve=he&&he.selected&&!this.disabled?he.selected===this?this.tabIndex:-1:this.tabIndex,ve!==this._previousTabIndex){const ge=this._inputElement?.nativeElement;ge&&(ge.setAttribute("tabindex",ve+""),this._previousTabIndex=ve,(0,N.mal)(()=>{queueMicrotask(()=>{he&&he.selected&&he.selected!==this&&document.activeElement===ge&&(he.selected?._inputElement.nativeElement.focus(),document.activeElement===ge&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(ve){return new(ve||ue)(N.rXU(W,8),N.rXU(N.aKT),N.rXU(N.gRc),N.rXU(h.FN),N.rXU(x.zP),N.rXU(N.bc$,8),N.rXU(Q,8),N.kS0("tabindex"))};static#t=this.\u0275cmp=N.VBU({type:ue,selectors:[["mat-radio-button"]],viewQuery:function(ve,ge){if(1&ve&&(N.GBs(R,5),N.GBs(U,7,N.aKT)),2&ve){let Me;N.mGM(Me=N.lsd())&&(ge._inputElement=Me.first),N.mGM(Me=N.lsd())&&(ge._rippleTrigger=Me.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(ve,ge){1&ve&&N.bIt("focus",function(){return ge._inputElement.nativeElement.focus()}),2&ve&&(N.BMQ("id",ge.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),N.AVh("mat-primary","primary"===ge.color)("mat-accent","accent"===ge.color)("mat-warn","warn"===ge.color)("mat-mdc-radio-checked",ge.checked)("_mat-animation-noopable",ge._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",N.L39],tabIndex:[2,"tabIndex","tabIndex",he=>null==he?0:(0,N.Udg)(he)],checked:[2,"checked","checked",N.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",N.L39],required:[2,"required","required",N.L39],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[N.GFd,N.aNF],ngContentSelectors:H,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(ve,ge){if(1&ve){const Me=N.RV6();N.NAR(),N.j41(0,"div",2,0)(2,"div",3)(3,"div",4),N.bIt("click",function(je){return N.eBV(Me),N.Njj(ge._onTouchTargetClick(je))}),N.k0s(),N.j41(4,"input",5,1),N.bIt("change",function(je){return N.eBV(Me),N.Njj(ge._onInputInteraction(je))}),N.k0s(),N.j41(6,"div",6),N.nrm(7,"div",7)(8,"div",8),N.k0s(),N.j41(9,"div",9),N.nrm(10,"div",10),N.k0s()(),N.j41(11,"label",11),N.SdG(12),N.k0s()()}2&ve&&(N.Y8G("labelPosition",ge.labelPosition),N.R7$(2),N.AVh("mdc-radio--disabled",ge.disabled),N.R7$(2),N.Y8G("id",ge.inputId)("checked",ge.checked)("disabled",ge.disabled)("required",ge.required),N.BMQ("name",ge.name)("value",ge.value)("aria-label",ge.ariaLabel)("aria-labelledby",ge.ariaLabelledby)("aria-describedby",ge.ariaDescribedby),N.R7$(5),N.Y8G("matRippleTrigger",ge._rippleTrigger.nativeElement)("matRippleDisabled",ge._isRippleDisabled())("matRippleCentered",!0),N.R7$(2),N.Y8G("for",ge.inputId))},dependencies:[M.r6,M.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color);opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color);opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color);font-family:var(--mat-radio-label-text-font);line-height:var(--mat-radio-label-text-line-height);font-size:var(--mat-radio-label-text-size);letter-spacing:var(--mat-radio-label-text-tracking);font-weight:var(--mat-radio-label-text-weight)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return ue})(),te=(()=>{class ue{static#e=this.\u0275fac=function(ve){return new(ve||ue)};static#t=this.\u0275mod=N.$C({type:ue});static#n=this.\u0275inj=N.G2t({imports:[M.yE,j.MD,M.pZ,re,M.yE]})}return ue})()},82798:(Ye,J,A)=>{"use strict";A.d(J,{$2:()=>Qe,VO:()=>Ke,Ve:()=>ke});var h=A(66969),x=A(60177),N=A(93953),Y=A(86600),M=A(53719),j=A(67333),R=A(18617),U=A(28203),H=A(45024),V=A(67336),P=A(89417),ee=A(21413),W=A(59030),Q=A(57786),de=A(99172),ae=A(25558),re=A(5964),te=A(96354),ue=A(23294),pe=A(56977),he=A(96697),ve=A(49969);const ge=["trigger"],Me=["panel"],Oe=[[["mat-select-trigger"]],"*"],je=["mat-select-trigger","*"];function B(Ie,Xe){if(1&Ie&&(N.j41(0,"span",4),N.EFF(1),N.k0s()),2&Ie){const Se=N.XpG();N.R7$(),N.JRh(Se.placeholder)}}function l(Ie,Xe){1&Ie&&N.SdG(0)}function f(Ie,Xe){if(1&Ie&&(N.j41(0,"span",11),N.EFF(1),N.k0s()),2&Ie){const Se=N.XpG(2);N.R7$(),N.JRh(Se.triggerValue)}}function w(Ie,Xe){if(1&Ie&&(N.j41(0,"span",5),N.DNE(1,l,1,0)(2,f,2,1,"span",11),N.k0s()),2&Ie){const Se=N.XpG();N.R7$(),N.vxM(Se.customTrigger?1:2)}}function _(Ie,Xe){if(1&Ie){const Se=N.RV6();N.j41(0,"div",12,1),N.bIt("@transformPanel.done",function(Ee){N.eBV(Se);const be=N.XpG();return N.Njj(be._panelDoneAnimatingStream.next(Ee.toState))})("keydown",function(Ee){N.eBV(Se);const be=N.XpG();return N.Njj(be._handleKeydown(Ee))}),N.SdG(2,1),N.k0s()}if(2&Ie){const Se=N.XpG();N.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",Se._getPanelTheme(),""),N.Y8G("ngClass",Se.panelClass)("@transformPanel","showing"),N.BMQ("id",Se.id+"-panel")("aria-multiselectable",Se.multiple)("aria-label",Se.ariaLabel||null)("aria-labelledby",Se._getPanelAriaLabelledby())}}const D={transformPanelWrap:(0,ve.hZ)("transformPanelWrap",[(0,ve.kY)("* => void",(0,ve.P)("@transformPanel",[(0,ve.MA)()],{optional:!0}))]),transformPanel:(0,ve.hZ)("transformPanel",[(0,ve.wk)("void",(0,ve.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,ve.kY)("void => showing",(0,ve.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,ve.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,ve.kY)("* => void",(0,ve.i0)("100ms linear",(0,ve.iF)({opacity:0})))])};let c=0;const E=new N.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const Ie=(0,N.WQX)(h.hJ);return()=>Ie.scrollStrategies.reposition()}}),X=new N.nKC("MAT_SELECT_CONFIG"),ce={provide:E,deps:[h.hJ],useFactory:function q(Ie){return()=>Ie.scrollStrategies.reposition()}},me=new N.nKC("MatSelectTrigger");class Te{constructor(Xe,Se){this.source=Xe,this.value=Se}}let Ke=(()=>{class Ie{_scrollOptionIntoView(Se){const Le=this.options.toArray()[Se];if(Le){const Ee=this.panel.nativeElement,be=(0,Y.jb)(Se,this.options,this.optionGroups),oe=Le._getHostElement();Ee.scrollTop=0===Se&&1===be?0:(0,Y.TL)(oe.offsetTop,oe.offsetHeight,Ee.scrollTop,Ee.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(Se){return new Te(this,Se)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(Se){this._hideSingleSelectionIndicator=Se,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(Se){this._placeholder=Se,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(P.k0.required)??!1}set required(Se){this._required=Se,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(Se){this._multiple=Se}get compareWith(){return this._compareWith}set compareWith(Se){this._compareWith=Se,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(Se){this._assignValue(Se)&&this._onChange(Se)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(Se){this._errorStateTracker.matcher=Se}get id(){return this._id}set id(Se){this._id=Se||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(Se){this._errorStateTracker.errorState=Se}constructor(Se,Le,Ee,be,oe,fe,we,De,$e,Je,Ze,Pt,nt,Ge){this._viewportRuler=Se,this._changeDetectorRef=Le,this._elementRef=oe,this._dir=fe,this._parentFormField=$e,this.ngControl=Je,this._liveAnnouncer=nt,this._defaultOptions=Ge,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(Et,K)=>Et===K,this._uid="mat-select-"+c++,this._triggerAriaLabelledBy=null,this._destroy=new ee.B,this.stateChanges=new ee.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+c++,this._panelDoneAnimatingStream=new ee.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new ee.B,this.optionSelectionChanges=(0,W.v)(()=>{const Et=this.options;return Et?Et.changes.pipe((0,de.Z)(Et),(0,ae.n)(()=>(0,Q.h)(...Et.map(K=>K.onSelectionChange)))):this._initialized.pipe((0,ae.n)(()=>this.optionSelectionChanges))}),this.openedChange=new N.bkB,this._openedStream=this.openedChange.pipe((0,re.p)(Et=>Et),(0,te.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,re.p)(Et=>!Et),(0,te.T)(()=>{})),this.selectionChange=new N.bkB,this.valueChange=new N.bkB,this._trackedModal=null,this._skipPredicate=Et=>!this.panelOpen&&Et.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Ge?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=Ge.typeaheadDebounceInterval),this._errorStateTracker=new Y.X0(be,Je,De,we,this.stateChanges),this._scrollStrategyFactory=Pt,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Ze)||0,this.id=this.id}ngOnInit(){this._selectionModel=new H.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,ue.F)(),(0,pe.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,pe.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,pe.Q)(this._destroy)).subscribe(Se=>{Se.added.forEach(Le=>Le.select()),Se.removed.forEach(Le=>Le.deselect())}),this.options.changes.pipe((0,de.Z)(null),(0,pe.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const Se=this._getTriggerAriaLabelledby(),Le=this.ngControl;if(Se!==this._triggerAriaLabelledBy){const Ee=this._elementRef.nativeElement;this._triggerAriaLabelledBy=Se,Se?Ee.setAttribute("aria-labelledby",Se):Ee.removeAttribute("aria-labelledby")}Le&&(this._previousControl!==Le.control&&(void 0!==this._previousControl&&null!==Le.disabled&&Le.disabled!==this.disabled&&(this.disabled=Le.disabled),this._previousControl=Le.control),this.updateErrorState())}ngOnChanges(Se){(Se.disabled||Se.userAriaDescribedBy)&&this.stateChanges.next(),Se.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const Se=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!Se)return;const Le=`${this.id}-panel`;this._trackedModal&&(0,R.Ae)(this._trackedModal,"aria-owns",Le),(0,R.px)(Se,"aria-owns",Le),this._trackedModal=Se}_clearFromModal(){this._trackedModal&&((0,R.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(Se){this._assignValue(Se)}registerOnChange(Se){this._onChange=Se}registerOnTouched(Se){this._onTouched=Se}setDisabledState(Se){this.disabled=Se,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const Se=this._selectionModel.selected.map(Le=>Le.viewValue);return this._isRtl()&&Se.reverse(),Se.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(Se){this.disabled||(this.panelOpen?this._handleOpenKeydown(Se):this._handleClosedKeydown(Se))}_handleClosedKeydown(Se){const Le=Se.keyCode,Ee=Le===V.n6||Le===V.i7||Le===V.UQ||Le===V.LE,be=Le===V.Fm||Le===V.t6,oe=this._keyManager;if(!oe.isTyping()&&be&&!(0,V.rp)(Se)||(this.multiple||Se.altKey)&&Ee)Se.preventDefault(),this.open();else if(!this.multiple){const fe=this.selected;oe.onKeydown(Se);const we=this.selected;we&&fe!==we&&this._liveAnnouncer.announce(we.viewValue,1e4)}}_handleOpenKeydown(Se){const Le=this._keyManager,Ee=Se.keyCode,be=Ee===V.n6||Ee===V.i7,oe=Le.isTyping();if(be&&Se.altKey)Se.preventDefault(),this.close();else if(oe||Ee!==V.Fm&&Ee!==V.t6||!Le.activeItem||(0,V.rp)(Se))if(!oe&&this._multiple&&Ee===V.A&&Se.ctrlKey){Se.preventDefault();const fe=this.options.some(we=>!we.disabled&&!we.selected);this.options.forEach(we=>{we.disabled||(fe?we.select():we.deselect())})}else{const fe=Le.activeItemIndex;Le.onKeydown(Se),this._multiple&&be&&Se.shiftKey&&Le.activeItem&&Le.activeItemIndex!==fe&&Le.activeItem._selectViaInteraction()}else Se.preventDefault(),Le.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,he.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(Se){if(this.options.forEach(Le=>Le.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&Se)Array.isArray(Se),Se.forEach(Le=>this._selectOptionByValue(Le)),this._sortValues();else{const Le=this._selectOptionByValue(Se);Le?this._keyManager.updateActiveItem(Le):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(Se){const Le=this.options.find(Ee=>{if(this._selectionModel.isSelected(Ee))return!1;try{return null!=Ee.value&&this._compareWith(Ee.value,Se)}catch{return!1}});return Le&&this._selectionModel.select(Le),Le}_assignValue(Se){return!!(Se!==this._value||this._multiple&&Array.isArray(Se))&&(this.options&&this._setSelectionByValue(Se),this._value=Se,!0)}_getOverlayWidth(Se){return"auto"===this.panelWidth?(Se instanceof h.$Q?Se.elementRef:Se||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const Se of this.options)Se._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new R.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const Se=(0,Q.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,pe.Q)(Se)).subscribe(Le=>{this._onSelect(Le.source,Le.isUserInput),Le.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Q.h)(...this.options.map(Le=>Le._stateChanges)).pipe((0,pe.Q)(Se)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(Se,Le){const Ee=this._selectionModel.isSelected(Se);null!=Se.value||this._multiple?(Ee!==Se.selected&&(Se.selected?this._selectionModel.select(Se):this._selectionModel.deselect(Se)),Le&&this._keyManager.setActiveItem(Se),this.multiple&&(this._sortValues(),Le&&this.focus())):(Se.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(Se.value)),Ee!==this._selectionModel.isSelected(Se)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const Se=this.options.toArray();this._selectionModel.sort((Le,Ee)=>this.sortComparator?this.sortComparator(Le,Ee,Se):Se.indexOf(Le)-Se.indexOf(Ee)),this.stateChanges.next()}}_propagateChanges(Se){let Le;Le=this.multiple?this.selected.map(Ee=>Ee.value):this.selected?this.selected.value:Se,this._value=Le,this.valueChange.emit(Le),this._onChange(Le),this.selectionChange.emit(this._getChangeEvent(Le)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let Se=-1;for(let Le=0;Le<this.options.length;Le++)if(!this.options.get(Le).disabled){Se=Le;break}this._keyManager.setActiveItem(Se)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(Se){this._elementRef.nativeElement.focus(Se)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const Se=this._parentFormField?.getLabelId();return this.ariaLabelledby?(Se?Se+" ":"")+this.ariaLabelledby:Se}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const Se=this._parentFormField?.getLabelId();let Le=(Se?Se+" ":"")+this._valueId;return this.ariaLabelledby&&(Le+=" "+this.ariaLabelledby),Le}_panelDoneAnimating(Se){this.openedChange.emit(Se)}setDescribedByIds(Se){Se.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Se.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(Le){return new(Le||Ie)(N.rXU(j.Xj),N.rXU(N.gRc),N.rXU(N.SKi),N.rXU(Y.es),N.rXU(N.aKT),N.rXU(U.dS,8),N.rXU(P.cV,8),N.rXU(P.j4,8),N.rXU(M.xb,8),N.rXU(P.vO,10),N.kS0("tabindex"),N.rXU(E),N.rXU(R.Ai),N.rXU(X,8))};static#t=this.\u0275cmp=N.VBU({type:Ie,selectors:[["mat-select"]],contentQueries:function(Le,Ee,be){if(1&Le&&(N.wni(be,me,5),N.wni(be,Y.wT,5),N.wni(be,Y.QC,5)),2&Le){let oe;N.mGM(oe=N.lsd())&&(Ee.customTrigger=oe.first),N.mGM(oe=N.lsd())&&(Ee.options=oe),N.mGM(oe=N.lsd())&&(Ee.optionGroups=oe)}},viewQuery:function(Le,Ee){if(1&Le&&(N.GBs(ge,5),N.GBs(Me,5),N.GBs(h.WB,5)),2&Le){let be;N.mGM(be=N.lsd())&&(Ee.trigger=be.first),N.mGM(be=N.lsd())&&(Ee.panel=be.first),N.mGM(be=N.lsd())&&(Ee._overlayDir=be.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Le,Ee){1&Le&&N.bIt("keydown",function(oe){return Ee._handleKeydown(oe)})("focus",function(){return Ee._onFocus()})("blur",function(){return Ee._onBlur()}),2&Le&&(N.BMQ("id",Ee.id)("tabindex",Ee.disabled?-1:Ee.tabIndex)("aria-controls",Ee.panelOpen?Ee.id+"-panel":null)("aria-expanded",Ee.panelOpen)("aria-label",Ee.ariaLabel||null)("aria-required",Ee.required.toString())("aria-disabled",Ee.disabled.toString())("aria-invalid",Ee.errorState)("aria-activedescendant",Ee._getAriaActiveDescendant()),N.AVh("mat-mdc-select-disabled",Ee.disabled)("mat-mdc-select-invalid",Ee.errorState)("mat-mdc-select-required",Ee.required)("mat-mdc-select-empty",Ee.empty)("mat-mdc-select-multiple",Ee.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",N.L39],disableRipple:[2,"disableRipple","disableRipple",N.L39],tabIndex:[2,"tabIndex","tabIndex",Se=>null==Se?0:(0,N.Udg)(Se)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",N.L39],placeholder:"placeholder",required:[2,"required","required",N.L39],multiple:[2,"multiple","multiple",N.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",N.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",N.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[N.Jv_([{provide:M.qT,useExisting:Ie},{provide:Y.is,useExisting:Ie}]),N.GFd,N.OA$,N.aNF],ngContentSelectors:je,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(Le,Ee){if(1&Le){const be=N.RV6();N.NAR(Oe),N.j41(0,"div",2,0),N.bIt("click",function(){return N.eBV(be),N.Njj(Ee.open())}),N.j41(3,"div",3),N.DNE(4,B,2,1,"span",4)(5,w,3,1,"span",5),N.k0s(),N.j41(6,"div",6)(7,"div",7),N.qSk(),N.j41(8,"svg",8),N.nrm(9,"path",9),N.k0s()()()(),N.DNE(10,_,3,9,"ng-template",10),N.bIt("backdropClick",function(){return N.eBV(be),N.Njj(Ee.close())})("attach",function(){return N.eBV(be),N.Njj(Ee._onAttached())})("detach",function(){return N.eBV(be),N.Njj(Ee.close())})}if(2&Le){const be=N.sdS(1);N.R7$(3),N.BMQ("id",Ee._valueId),N.R7$(),N.vxM(Ee.empty?4:5),N.R7$(6),N.Y8G("cdkConnectedOverlayPanelClass",Ee._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Ee._scrollStrategy)("cdkConnectedOverlayOrigin",Ee._preferredOverlayOrigin||be)("cdkConnectedOverlayOpen",Ee.panelOpen)("cdkConnectedOverlayPositions",Ee._positions)("cdkConnectedOverlayWidth",Ee._overlayWidth)}},dependencies:[h.$Q,h.WB,x.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[D.transformPanel]},changeDetection:0})}return Ie})(),Qe=(()=>{class Ie{static#e=this.\u0275fac=function(Le){return new(Le||Ie)};static#t=this.\u0275dir=N.FsC({type:Ie,selectors:[["mat-select-trigger"]],standalone:!0,features:[N.Jv_([{provide:me,useExisting:Ie}])]})}return Ie})(),ke=(()=>{class Ie{static#e=this.\u0275fac=function(Le){return new(Le||Ie)};static#t=this.\u0275mod=N.$C({type:Ie});static#n=this.\u0275inj=N.G2t({providers:[ce],imports:[x.MD,h.z_,Y.Sy,Y.yE,j.Gj,M.RG,Y.Sy,Y.yE]})}return Ie})()},95416:(Ye,J,A)=>{"use strict";A.d(J,{UG:()=>l});var h=A(93953),x=A(88834),N=A(21413),Y=A(60177),M=A(49969),j=A(76939),R=A(36860),U=A(18617),H=A(99327),V=A(66969),P=A(56977);function ee(_,D){if(1&_){const O=h.RV6();h.j41(0,"div",1)(1,"button",2),h.bIt("click",function(){h.eBV(O);const T=h.XpG();return h.Njj(T.action())}),h.EFF(2),h.k0s()()}if(2&_){const O=h.XpG();h.R7$(2),h.SpI(" ",O.data.action," ")}}const W=["label"];function Q(_,D){}const de=Math.pow(2,31)-1;class ae{constructor(D,O){this._overlayRef=O,this._afterDismissed=new N.B,this._afterOpened=new N.B,this._onAction=new N.B,this._dismissedByAction=!1,this.containerInstance=D,D._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(D){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(D,de))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const re=new h.nKC("MatSnackBarData");class te{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let ue=(()=>{class _{static#e=this.\u0275fac=function($){return new($||_)};static#t=this.\u0275dir=h.FsC({type:_,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return _})(),pe=(()=>{class _{static#e=this.\u0275fac=function($){return new($||_)};static#t=this.\u0275dir=h.FsC({type:_,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return _})(),he=(()=>{class _{static#e=this.\u0275fac=function($){return new($||_)};static#t=this.\u0275dir=h.FsC({type:_,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return _})(),ve=(()=>{class _{constructor(O,$){this.snackBarRef=O,this.data=$}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function($){return new($||_)(h.rXU(ae),h.rXU(re))};static#t=this.\u0275cmp=h.VBU({type:_,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[h.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function($,T){1&$&&(h.j41(0,"div",0),h.EFF(1),h.k0s(),h.DNE(2,ee,3,1,"div",1)),2&$&&(h.R7$(),h.SpI(" ",T.data.message,"\n"),h.R7$(),h.vxM(T.hasAction?2:-1))},dependencies:[x.$z,ue,pe,he],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return _})();const ge={snackBarState:(0,M.hZ)("state",[(0,M.wk)("void, hidden",(0,M.iF)({transform:"scale(0.8)",opacity:0})),(0,M.wk)("visible",(0,M.iF)({transform:"scale(1)",opacity:1})),(0,M.kY)("* => visible",(0,M.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,M.kY)("* => void, * => hidden",(0,M.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,M.iF)({opacity:0})))])};let Me=0,Oe=(()=>{class _ extends j.lb{constructor(O,$,T,c,E){super(),this._ngZone=O,this._elementRef=$,this._changeDetectorRef=T,this._platform=c,this.snackBarConfig=E,this._document=(0,h.WQX)(Y.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new N.B,this._onExit=new N.B,this._onEnter=new N.B,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Me++,this.attachDomPortal=q=>{this._assertNotAttached();const X=this._portalOutlet.attachDomPortal(q);return this._afterPortalAttached(),X},this._live="assertive"!==E.politeness||E.announcementMessage?"off"===E.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(O){this._assertNotAttached();const $=this._portalOutlet.attachComponentPortal(O);return this._afterPortalAttached(),$}attachTemplatePortal(O){this._assertNotAttached();const $=this._portalOutlet.attachTemplatePortal(O);return this._afterPortalAttached(),$}onAnimationEnd(O){const{fromState:$,toState:T}=O;if(("void"===T&&"void"!==$||"hidden"===T)&&this._completeExit(),"visible"===T){const c=this._onEnter;this._ngZone.run(()=>{c.next(),c.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const O=this._elementRef.nativeElement,$=this.snackBarConfig.panelClass;$&&(Array.isArray($)?$.forEach(E=>O.classList.add(E)):O.classList.add($)),this._exposeToModals();const T=this._label.nativeElement,c="mdc-snackbar__label";T.classList.toggle(c,!T.querySelector(`.${c}`))}_exposeToModals(){const O=this._liveElementId,$=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let T=0;T<$.length;T++){const c=$[T],E=c.getAttribute("aria-owns");this._trackedModals.add(c),E?-1===E.indexOf(O)&&c.setAttribute("aria-owns",E+" "+O):c.setAttribute("aria-owns",O)}}_clearFromModals(){this._trackedModals.forEach(O=>{const $=O.getAttribute("aria-owns");if($){const T=$.replace(this._liveElementId,"").trim();T.length>0?O.setAttribute("aria-owns",T):O.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const O=this._elementRef.nativeElement.querySelector("[aria-hidden]"),$=this._elementRef.nativeElement.querySelector("[aria-live]");if(O&&$){let T=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&O.contains(document.activeElement)&&(T=document.activeElement),O.removeAttribute("aria-hidden"),$.appendChild(O),T?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function($){return new($||_)(h.rXU(h.SKi),h.rXU(h.aKT),h.rXU(h.gRc),h.rXU(R.OD),h.rXU(te))};static#t=this.\u0275cmp=h.VBU({type:_,selectors:[["mat-snack-bar-container"]],viewQuery:function($,T){if(1&$&&(h.GBs(j.I3,7),h.GBs(W,7)),2&$){let c;h.mGM(c=h.lsd())&&(T._portalOutlet=c.first),h.mGM(c=h.lsd())&&(T._label=c.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function($,T){1&$&&h.Kam("@state.done",function(E){return T.onAnimationEnd(E)}),2&$&&h.zvX("@state",T._animationState)},standalone:!0,features:[h.Vt3,h.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function($,T){1&$&&(h.j41(0,"div",1)(1,"div",2,0)(3,"div",3),h.DNE(4,Q,0,0,"ng-template",4),h.k0s(),h.nrm(5,"div"),h.k0s()()),2&$&&(h.R7$(5),h.BMQ("aria-live",T._live)("role",T._role)("id",T._liveElementId))},dependencies:[j.I3],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color);border-radius:var(--mdc-snackbar-container-shape);background-color:var(--mdc-snackbar-container-color)}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font);font-size:var(--mdc-snackbar-supporting-text-size);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[ge.snackBarState]}})}return _})();const B=new h.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function je(){return new te}});let l=(()=>{class _{get _openedSnackBarRef(){const O=this._parentSnackBar;return O?O._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(O){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=O:this._snackBarRefAtThisLevel=O}constructor(O,$,T,c,E,q){this._overlay=O,this._live=$,this._injector=T,this._breakpointObserver=c,this._parentSnackBar=E,this._defaultConfig=q,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=ve,this.snackBarContainerComponent=Oe,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(O,$){return this._attach(O,$)}openFromTemplate(O,$){return this._attach(O,$)}open(O,$="",T){const c={...this._defaultConfig,...T};return c.data={message:O,action:$},c.announcementMessage===O&&(c.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,c)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(O,$){const c=h.zZn.create({parent:$&&$.viewContainerRef&&$.viewContainerRef.injector||this._injector,providers:[{provide:te,useValue:$}]}),E=new j.A8(this.snackBarContainerComponent,$.viewContainerRef,c),q=O.attach(E);return q.instance.snackBarConfig=$,q.instance}_attach(O,$){const T={...new te,...this._defaultConfig,...$},c=this._createOverlay(T),E=this._attachSnackBarContainer(c,T),q=new ae(E,c);if(O instanceof h.C4Q){const X=new j.VA(O,null,{$implicit:T.data,snackBarRef:q});q.instance=E.attachTemplatePortal(X)}else{const X=this._createInjector(T,q),ce=new j.A8(O,void 0,X),me=E.attachComponentPortal(ce);q.instance=me.instance}return this._breakpointObserver.observe(H.Rp.HandsetPortrait).pipe((0,P.Q)(c.detachments())).subscribe(X=>{c.overlayElement.classList.toggle(this.handsetCssClass,X.matches)}),T.announcementMessage&&E._onAnnounce.subscribe(()=>{this._live.announce(T.announcementMessage,T.politeness)}),this._animateSnackBar(q,T),this._openedSnackBarRef=q,this._openedSnackBarRef}_animateSnackBar(O,$){O.afterDismissed().subscribe(()=>{this._openedSnackBarRef==O&&(this._openedSnackBarRef=null),$.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{O.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):O.containerInstance.enter(),$.duration&&$.duration>0&&O.afterOpened().subscribe(()=>O._dismissAfter($.duration))}_createOverlay(O){const $=new V.rR;$.direction=O.direction;let T=this._overlay.position().global();const c="rtl"===O.direction,E="left"===O.horizontalPosition||"start"===O.horizontalPosition&&!c||"end"===O.horizontalPosition&&c,q=!E&&"center"!==O.horizontalPosition;return E?T.left("0"):q?T.right("0"):T.centerHorizontally(),"top"===O.verticalPosition?T.top("0"):T.bottom("0"),$.positionStrategy=T,this._overlay.create($)}_createInjector(O,$){return h.zZn.create({parent:O&&O.viewContainerRef&&O.viewContainerRef.injector||this._injector,providers:[{provide:ae,useValue:$},{provide:re,useValue:O.data}]})}static#e=this.\u0275fac=function($){return new($||_)(h.KVO(V.hJ),h.KVO(U.Ai),h.KVO(h.zZn),h.KVO(H.QP),h.KVO(_,12),h.KVO(B))};static#t=this.\u0275prov=h.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},2042:(Ye,J,A)=>{"use strict";A.d(J,{B4:()=>re,NQ:()=>Oe,aE:()=>Me});var h=A(93953),x=A(18617),N=A(67336),Y=A(92771),M=A(21413),j=A(57786),R=A(49969),U=A(86600);const H=["mat-sort-header",""],V=["*"];function P(je,B){if(1&je){const l=h.RV6();h.j41(0,"div",2),h.bIt("@arrowPosition.start",function(){h.eBV(l);const w=h.XpG();return h.Njj(w._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){h.eBV(l);const w=h.XpG();return h.Njj(w._disableViewStateAnimation=!1)}),h.nrm(1,"div",3),h.j41(2,"div",4),h.nrm(3,"div",5)(4,"div",6)(5,"div",7),h.k0s()()}if(2&je){const l=h.XpG();h.Y8G("@arrowOpacity",l._getArrowViewState())("@arrowPosition",l._getArrowViewState())("@allowChildren",l._getArrowDirectionState()),h.R7$(2),h.Y8G("@indicator",l._getArrowDirectionState()),h.R7$(),h.Y8G("@leftPointer",l._getArrowDirectionState()),h.R7$(),h.Y8G("@rightPointer",l._getArrowDirectionState())}}const ae=new h.nKC("MAT_SORT_DEFAULT_OPTIONS");let re=(()=>{class je{get direction(){return this._direction}set direction(l){this._direction=l}constructor(l){this._defaultOptions=l,this._initializedStream=new Y.m(1),this.sortables=new Map,this._stateChanges=new M.B,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new h.bkB,this.initialized=this._initializedStream}register(l){this.sortables.set(l.id,l)}deregister(l){this.sortables.delete(l.id)}sort(l){this.active!=l.id?(this.active=l.id,this.direction=l.start?l.start:this.start):this.direction=this.getNextSortDirection(l),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(l){if(!l)return"";let w=function te(je,B){let l=["asc","desc"];return"desc"==je&&l.reverse(),B||l.push(""),l}(l.start||this.start,l?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),_=w.indexOf(this.direction)+1;return _>=w.length&&(_=0),w[_]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static#e=this.\u0275fac=function(f){return new(f||je)(h.rXU(ae,8))};static#t=this.\u0275dir=h.FsC({type:je,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",h.L39],disabled:[2,"matSortDisabled","disabled",h.L39]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[h.GFd,h.OA$]})}return je})();const ue=U.ed.ENTERING+" "+U.r5.STANDARD_CURVE,pe={indicator:(0,R.hZ)("indicator",[(0,R.wk)("active-asc, asc",(0,R.iF)({transform:"translateY(0px)"})),(0,R.wk)("active-desc, desc",(0,R.iF)({transform:"translateY(10px)"})),(0,R.kY)("active-asc <=> active-desc",(0,R.i0)(ue))]),leftPointer:(0,R.hZ)("leftPointer",[(0,R.wk)("active-asc, asc",(0,R.iF)({transform:"rotate(-45deg)"})),(0,R.wk)("active-desc, desc",(0,R.iF)({transform:"rotate(45deg)"})),(0,R.kY)("active-asc <=> active-desc",(0,R.i0)(ue))]),rightPointer:(0,R.hZ)("rightPointer",[(0,R.wk)("active-asc, asc",(0,R.iF)({transform:"rotate(45deg)"})),(0,R.wk)("active-desc, desc",(0,R.iF)({transform:"rotate(-45deg)"})),(0,R.kY)("active-asc <=> active-desc",(0,R.i0)(ue))]),arrowOpacity:(0,R.hZ)("arrowOpacity",[(0,R.wk)("desc-to-active, asc-to-active, active",(0,R.iF)({opacity:1})),(0,R.wk)("desc-to-hint, asc-to-hint, hint",(0,R.iF)({opacity:.54})),(0,R.wk)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,R.iF)({opacity:0})),(0,R.kY)("* => asc, * => desc, * => active, * => hint, * => void",(0,R.i0)("0ms")),(0,R.kY)("* <=> *",(0,R.i0)(ue))]),arrowPosition:(0,R.hZ)("arrowPosition",[(0,R.kY)("* => desc-to-hint, * => desc-to-active",(0,R.i0)(ue,(0,R.i7)([(0,R.iF)({transform:"translateY(-25%)"}),(0,R.iF)({transform:"translateY(0)"})]))),(0,R.kY)("* => hint-to-desc, * => active-to-desc",(0,R.i0)(ue,(0,R.i7)([(0,R.iF)({transform:"translateY(0)"}),(0,R.iF)({transform:"translateY(25%)"})]))),(0,R.kY)("* => asc-to-hint, * => asc-to-active",(0,R.i0)(ue,(0,R.i7)([(0,R.iF)({transform:"translateY(25%)"}),(0,R.iF)({transform:"translateY(0)"})]))),(0,R.kY)("* => hint-to-asc, * => active-to-asc",(0,R.i0)(ue,(0,R.i7)([(0,R.iF)({transform:"translateY(0)"}),(0,R.iF)({transform:"translateY(-25%)"})]))),(0,R.wk)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,R.iF)({transform:"translateY(0)"})),(0,R.wk)("hint-to-desc, active-to-desc, desc",(0,R.iF)({transform:"translateY(-25%)"})),(0,R.wk)("hint-to-asc, active-to-asc, asc",(0,R.iF)({transform:"translateY(25%)"}))]),allowChildren:(0,R.hZ)("allowChildren",[(0,R.kY)("* <=> *",[(0,R.P)("@*",(0,R.MA)(),{optional:!0})])])};let he=(()=>{class je{constructor(){this.changes=new M.B}static#e=this.\u0275fac=function(f){return new(f||je)};static#t=this.\u0275prov=h.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}return je})();const ge={provide:he,deps:[[new h.Xx1,new h.kdw,he]],useFactory:function ve(je){return je||new he}};let Me=(()=>{class je{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(l){this._updateSortActionDescription(l)}constructor(l,f,w,_,D,O,$,T){this._intl=l,this._changeDetectorRef=f,this._sort=w,this._columnDef=_,this._focusMonitor=D,this._elementRef=O,this._ariaDescriber=$,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",T?.arrowPosition&&(this.arrowPosition=T?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(l=>{const f=!!l;f!==this._showIndicatorHint&&(this._setIndicatorHintVisible(f),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(l){this._isDisabled()&&l||(this._showIndicatorHint=l,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(l){this._viewState=l||{},this._disableViewStateAnimation&&(this._viewState={toState:l.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(l){!this._isDisabled()&&(l.keyCode===N.t6||l.keyCode===N.Fm)&&(l.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const l=this._viewState.fromState;return(l?`${l}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(l){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,l)),this._sortActionDescription=l}_handleStateChanges(){this._rerenderSubscription=(0,j.h)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(f){return new(f||je)(h.rXU(he),h.rXU(h.gRc),h.rXU(re,8),h.rXU("MAT_SORT_HEADER_COLUMN_DEF",8),h.rXU(x.FN),h.rXU(h.aKT),h.rXU(x.vr,8),h.rXU(ae,8))};static#t=this.\u0275cmp=h.VBU({type:je,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(f,w){1&f&&h.bIt("click",function(){return w._handleClick()})("keydown",function(D){return w._handleKeydown(D)})("mouseenter",function(){return w._setIndicatorHintVisible(!0)})("mouseleave",function(){return w._setIndicatorHintVisible(!1)}),2&f&&(h.BMQ("aria-sort",w._getAriaSortAttribute()),h.AVh("mat-sort-header-disabled",w._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",h.L39],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",h.L39]},exportAs:["matSortHeader"],standalone:!0,features:[h.GFd,h.aNF],attrs:H,ngContentSelectors:V,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(f,w){1&f&&(h.NAR(),h.j41(0,"div",0)(1,"div",1),h.SdG(2),h.k0s(),h.DNE(3,P,6,6,"div",2),h.k0s()),2&f&&(h.AVh("mat-sort-header-sorted",w._isSorted())("mat-sort-header-position-before","before"===w.arrowPosition),h.BMQ("tabindex",w._isDisabled()?null:0)("role",w._isDisabled()?null:"button"),h.R7$(3),h.vxM(w._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color);opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[pe.indicator,pe.leftPointer,pe.rightPointer,pe.arrowOpacity,pe.arrowPosition,pe.allowChildren]},changeDetection:0})}return je})(),Oe=(()=>{class je{static#e=this.\u0275fac=function(f){return new(f||je)};static#t=this.\u0275mod=h.$C({type:je});static#n=this.\u0275inj=h.G2t({providers:[ge],imports:[U.yE]})}return je})()},9159:(Ye,J,A)=>{"use strict";A.d(J,{$R:()=>Tt,YV:()=>kt,cC:()=>hn,KS:()=>An,tL:()=>St,YZ:()=>sn,ji:()=>Lt,NB:()=>xn,iL:()=>mt,Zl:()=>pn,I6:()=>qn,tP:()=>qr});var h=A(93953),x=A(28203),N=A(45024),Y=A(36860),M=A(67333),j=A(60177),R=A(21413),U=A(84412),H=A(74402),V=A(7673),P=A(56977);const ee=[[["caption"]],[["colgroup"],["col"]],"*"],W=["caption","colgroup, col","*"];function Q(Jt,dt){1&Jt&&h.SdG(0,2)}function de(Jt,dt){1&Jt&&(h.j41(0,"thead",0),h.eu8(1,1),h.k0s(),h.j41(2,"tbody",0),h.eu8(3,2)(4,3),h.k0s(),h.j41(5,"tfoot",0),h.eu8(6,4),h.k0s())}function ae(Jt,dt){1&Jt&&h.eu8(0,1)(1,2)(2,3)(3,4)}const ue=new h.nKC("CDK_TABLE");let he=(()=>{class Jt{constructor(Ne){this.template=Ne}static#e=this.\u0275fac=function(We){return new(We||Jt)(h.rXU(h.C4Q))};static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["","cdkCellDef",""]],standalone:!0})}return Jt})(),ve=(()=>{class Jt{constructor(Ne){this.template=Ne}static#e=this.\u0275fac=function(We){return new(We||Jt)(h.rXU(h.C4Q))};static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}return Jt})(),ge=(()=>{class Jt{constructor(Ne){this.template=Ne}static#e=this.\u0275fac=function(We){return new(We||Jt)(h.rXU(h.C4Q))};static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}return Jt})(),Me=(()=>{class Jt{get name(){return this._name}set name(Ne){this._setNameInput(Ne)}get sticky(){return this._sticky}set sticky(Ne){Ne!==this._sticky&&(this._sticky=Ne,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(Ne){Ne!==this._stickyEnd&&(this._stickyEnd=Ne,this._hasStickyChanged=!0)}constructor(Ne){this._table=Ne,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const Ne=this._hasStickyChanged;return this.resetStickyChanged(),Ne}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(Ne){Ne&&(this._name=Ne,this.cssClassFriendlyName=Ne.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(We){return new(We||Jt)(h.rXU(ue,8))};static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["","cdkColumnDef",""]],contentQueries:function(We,Bt,gn){if(1&We&&(h.wni(gn,he,5),h.wni(gn,ve,5),h.wni(gn,ge,5)),2&We){let Kn;h.mGM(Kn=h.lsd())&&(Bt.cell=Kn.first),h.mGM(Kn=h.lsd())&&(Bt.headerCell=Kn.first),h.mGM(Kn=h.lsd())&&(Bt.footerCell=Kn.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",h.L39],stickyEnd:[2,"stickyEnd","stickyEnd",h.L39]},standalone:!0,features:[h.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:Jt}]),h.GFd]})}return Jt})();class Oe{constructor(dt,Ne){Ne.nativeElement.classList.add(...dt._columnCssClassName)}}let je=(()=>{class Jt extends Oe{constructor(Ne,We){super(Ne,We)}static#e=this.\u0275fac=function(We){return new(We||Jt)(h.rXU(Me),h.rXU(h.aKT))};static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[h.Vt3]})}return Jt})(),l=(()=>{class Jt extends Oe{constructor(Ne,We){super(Ne,We);const Bt=Ne._table?._getCellRole();Bt&&We.nativeElement.setAttribute("role",Bt)}static#e=this.\u0275fac=function(We){return new(We||Jt)(h.rXU(Me),h.rXU(h.aKT))};static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[h.Vt3]})}return Jt})();class f{constructor(){this.tasks=[],this.endTasks=[]}}const w=new h.nKC("_COALESCED_STYLE_SCHEDULER");let _=(()=>{class Jt{constructor(Ne){this._currentSchedule=null,this._ngZone=(0,h.WQX)(h.SKi)}schedule(Ne){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(Ne)}scheduleEnd(Ne){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(Ne)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new f,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const Ne=this._currentSchedule;this._currentSchedule=new f;for(const We of Ne.tasks)We();for(const We of Ne.endTasks)We()}this._currentSchedule=null})))}static#e=this.\u0275fac=function(We){return new(We||Jt)(h.KVO(h.SKi))};static#t=this.\u0275prov=h.jDH({token:Jt,factory:Jt.\u0275fac})}return Jt})(),O=(()=>{class Jt{constructor(Ne,We){this.template=Ne,this._differs=We}ngOnChanges(Ne){if(!this._columnsDiffer){const We=Ne.columns&&Ne.columns.currentValue||[];this._columnsDiffer=this._differs.find(We).create(),this._columnsDiffer.diff(We)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(Ne){return this instanceof $?Ne.headerCell.template:this instanceof T?Ne.footerCell.template:Ne.cell.template}static#e=this.\u0275fac=function(We){return new(We||Jt)(h.rXU(h.C4Q),h.rXU(h._q3))};static#t=this.\u0275dir=h.FsC({type:Jt,features:[h.OA$]})}return Jt})(),$=(()=>{class Jt extends O{get sticky(){return this._sticky}set sticky(Ne){Ne!==this._sticky&&(this._sticky=Ne,this._hasStickyChanged=!0)}constructor(Ne,We,Bt){super(Ne,We),this._table=Bt,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(Ne){super.ngOnChanges(Ne)}hasStickyChanged(){const Ne=this._hasStickyChanged;return this.resetStickyChanged(),Ne}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(We){return new(We||Jt)(h.rXU(h.C4Q),h.rXU(h._q3),h.rXU(ue,8))};static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",h.L39]},standalone:!0,features:[h.GFd,h.Vt3,h.OA$]})}return Jt})(),T=(()=>{class Jt extends O{get sticky(){return this._sticky}set sticky(Ne){Ne!==this._sticky&&(this._sticky=Ne,this._hasStickyChanged=!0)}constructor(Ne,We,Bt){super(Ne,We),this._table=Bt,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(Ne){super.ngOnChanges(Ne)}hasStickyChanged(){const Ne=this._hasStickyChanged;return this.resetStickyChanged(),Ne}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(We){return new(We||Jt)(h.rXU(h.C4Q),h.rXU(h._q3),h.rXU(ue,8))};static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",h.L39]},standalone:!0,features:[h.GFd,h.Vt3,h.OA$]})}return Jt})(),c=(()=>{class Jt extends O{constructor(Ne,We,Bt){super(Ne,We),this._table=Bt}static#e=this.\u0275fac=function(We){return new(We||Jt)(h.rXU(h.C4Q),h.rXU(h._q3),h.rXU(ue,8))};static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[h.Vt3]})}return Jt})(),E=(()=>{class Jt{static#e=this.mostRecentCellOutlet=null;constructor(Ne){this._viewContainer=Ne,Jt.mostRecentCellOutlet=this}ngOnDestroy(){Jt.mostRecentCellOutlet===this&&(Jt.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(We){return new(We||Jt)(h.rXU(h.c1b))};static#n=this.\u0275dir=h.FsC({type:Jt,selectors:[["","cdkCellOutlet",""]],standalone:!0})}return Jt})(),q=(()=>{class Jt{static#e=this.\u0275fac=function(We){return new(We||Jt)};static#t=this.\u0275cmp=h.VBU({type:Jt,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[h.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(We,Bt){1&We&&h.eu8(0,0)},dependencies:[E],encapsulation:2})}return Jt})(),ce=(()=>{class Jt{static#e=this.\u0275fac=function(We){return new(We||Jt)};static#t=this.\u0275cmp=h.VBU({type:Jt,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[h.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(We,Bt){1&We&&h.eu8(0,0)},dependencies:[E],encapsulation:2})}return Jt})(),me=(()=>{class Jt{constructor(Ne){this.templateRef=Ne,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(We){return new(We||Jt)(h.rXU(h.C4Q))};static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}return Jt})();const Te=["top","bottom","left","right"];class Ke{constructor(dt,Ne,We,Bt,gn=!0,Kn=!0,ir){this._isNativeHtmlTable=dt,this._stickCellCss=Ne,this.direction=We,this._coalescedStyleScheduler=Bt,this._isBrowser=gn,this._needsPositionStickyOnElement=Kn,this._positionListener=ir,this._cachedCellWidths=[],this._borderCellCss={top:`${Ne}-border-elem-top`,bottom:`${Ne}-border-elem-bottom`,left:`${Ne}-border-elem-left`,right:`${Ne}-border-elem-right`}}clearStickyPositioning(dt,Ne){const We=[];for(const Bt of dt)if(Bt.nodeType===Bt.ELEMENT_NODE){We.push(Bt);for(let gn=0;gn<Bt.children.length;gn++)We.push(Bt.children[gn])}this._coalescedStyleScheduler.schedule(()=>{for(const Bt of We)this._removeStickyStyle(Bt,Ne)})}updateStickyColumns(dt,Ne,We,Bt=!0){dt.length&&this._isBrowser&&(Ne.some(gn=>gn)||We.some(gn=>gn))?this._coalescedStyleScheduler.schedule(()=>{const gn=dt[0],Kn=gn.children.length,ir=this._getCellWidths(gn,Bt),hr=this._getStickyStartColumnPositions(ir,Ne),Wr=this._getStickyEndColumnPositions(ir,We),Vr=Ne.lastIndexOf(!0),ti=We.indexOf(!0),ni="rtl"===this.direction,Ei=ni?"right":"left",yn=ni?"left":"right";for(const Pn of dt)for(let Nn=0;Nn<Kn;Nn++){const tr=Pn.children[Nn];Ne[Nn]&&this._addStickyStyle(tr,Ei,hr[Nn],Nn===Vr),We[Nn]&&this._addStickyStyle(tr,yn,Wr[Nn],Nn===ti)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===Vr?[]:ir.slice(0,Vr+1).map((Pn,Nn)=>Ne[Nn]?Pn:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===ti?[]:ir.slice(ti).map((Pn,Nn)=>We[Nn+ti]?Pn:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(dt,Ne,We){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const Bt="bottom"===We?dt.slice().reverse():dt,gn="bottom"===We?Ne.slice().reverse():Ne,Kn=[],ir=[],hr=[];for(let Vr=0,ti=0;Vr<Bt.length;Vr++){if(!gn[Vr])continue;Kn[Vr]=ti;const ni=Bt[Vr];hr[Vr]=this._isNativeHtmlTable?Array.from(ni.children):[ni];const Ei=ni.getBoundingClientRect().height;ti+=Ei,ir[Vr]=Ei}const Wr=gn.lastIndexOf(!0);for(let Vr=0;Vr<Bt.length;Vr++){if(!gn[Vr])continue;const ti=Kn[Vr],ni=Vr===Wr;for(const Ei of hr[Vr])this._addStickyStyle(Ei,We,ti,ni)}"top"===We?this._positionListener?.stickyHeaderRowsUpdated({sizes:ir,offsets:Kn,elements:hr}):this._positionListener?.stickyFooterRowsUpdated({sizes:ir,offsets:Kn,elements:hr})})}updateStickyFooterContainer(dt,Ne){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const We=dt.querySelector("tfoot");We&&(Ne.some(Bt=>!Bt)?this._removeStickyStyle(We,["bottom"]):this._addStickyStyle(We,"bottom",0,!1))})}_removeStickyStyle(dt,Ne){for(const Bt of Ne)dt.style[Bt]="",dt.classList.remove(this._borderCellCss[Bt]);Te.some(Bt=>-1===Ne.indexOf(Bt)&&dt.style[Bt])?dt.style.zIndex=this._getCalculatedZIndex(dt):(dt.style.zIndex="",this._needsPositionStickyOnElement&&(dt.style.position=""),dt.classList.remove(this._stickCellCss))}_addStickyStyle(dt,Ne,We,Bt){dt.classList.add(this._stickCellCss),Bt&&dt.classList.add(this._borderCellCss[Ne]),dt.style[Ne]=`${We}px`,dt.style.zIndex=this._getCalculatedZIndex(dt),this._needsPositionStickyOnElement&&(dt.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(dt){const Ne={top:100,bottom:10,left:1,right:1};let We=0;for(const Bt of Te)dt.style[Bt]&&(We+=Ne[Bt]);return We?`${We}`:""}_getCellWidths(dt,Ne=!0){if(!Ne&&this._cachedCellWidths.length)return this._cachedCellWidths;const We=[],Bt=dt.children;for(let gn=0;gn<Bt.length;gn++)We.push(Bt[gn].getBoundingClientRect().width);return this._cachedCellWidths=We,We}_getStickyStartColumnPositions(dt,Ne){const We=[];let Bt=0;for(let gn=0;gn<dt.length;gn++)Ne[gn]&&(We[gn]=Bt,Bt+=dt[gn]);return We}_getStickyEndColumnPositions(dt,Ne){const We=[];let Bt=0;for(let gn=dt.length;gn>0;gn--)Ne[gn]&&(We[gn]=Bt,Bt+=dt[gn]);return We}}const oe=new h.nKC("CDK_SPL");let we=(()=>{class Jt{constructor(Ne,We){this.viewContainer=Ne,this.elementRef=We;const Bt=(0,h.WQX)(ue);Bt._rowOutlet=this,Bt._outletAssigned()}static#e=this.\u0275fac=function(We){return new(We||Jt)(h.rXU(h.c1b),h.rXU(h.aKT))};static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["","rowOutlet",""]],standalone:!0})}return Jt})(),De=(()=>{class Jt{constructor(Ne,We){this.viewContainer=Ne,this.elementRef=We;const Bt=(0,h.WQX)(ue);Bt._headerRowOutlet=this,Bt._outletAssigned()}static#e=this.\u0275fac=function(We){return new(We||Jt)(h.rXU(h.c1b),h.rXU(h.aKT))};static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["","headerRowOutlet",""]],standalone:!0})}return Jt})(),$e=(()=>{class Jt{constructor(Ne,We){this.viewContainer=Ne,this.elementRef=We;const Bt=(0,h.WQX)(ue);Bt._footerRowOutlet=this,Bt._outletAssigned()}static#e=this.\u0275fac=function(We){return new(We||Jt)(h.rXU(h.c1b),h.rXU(h.aKT))};static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["","footerRowOutlet",""]],standalone:!0})}return Jt})(),Je=(()=>{class Jt{constructor(Ne,We){this.viewContainer=Ne,this.elementRef=We;const Bt=(0,h.WQX)(ue);Bt._noDataRowOutlet=this,Bt._outletAssigned()}static#e=this.\u0275fac=function(We){return new(We||Jt)(h.rXU(h.c1b),h.rXU(h.aKT))};static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["","noDataRowOutlet",""]],standalone:!0})}return Jt})(),nt=(()=>{class Jt{_getCellRole(){if(void 0===this._cellRoleInternal){const Ne=this._elementRef.nativeElement.getAttribute("role"),We="grid"===Ne||"treegrid"===Ne?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===We?null:We}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(Ne){this._trackByFn=Ne}get dataSource(){return this._dataSource}set dataSource(Ne){this._dataSource!==Ne&&this._switchDataSource(Ne)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(Ne){this._multiTemplateDataRows=Ne,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(Ne){this._fixedLayout=Ne,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(Ne,We,Bt,gn,Kn,ir,hr,Wr,Vr,ti,ni,Ei){this._differs=Ne,this._changeDetectorRef=We,this._elementRef=Bt,this._dir=Kn,this._platform=hr,this._viewRepeater=Wr,this._coalescedStyleScheduler=Vr,this._viewportRuler=ti,this._stickyPositioningListener=ni,this._onDestroy=new R.B,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new h.bkB,this.viewChange=new U.t({start:0,end:Number.MAX_VALUE}),this._injector=(0,h.WQX)(h.zZn),gn||Bt.nativeElement.setAttribute("role","table"),this._document=ir,this._isServer=!hr.isBrowser,this._isNativeHtmlTable="TABLE"===Bt.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((Ne,We)=>this.trackBy?this.trackBy(We.dataIndex,We.data):We),this._viewportRuler.change().pipe((0,P.Q)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(Ne=>{Ne?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,N.y4)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const Ne=this._dataDiffer.diff(this._renderRows);if(!Ne)return this._updateNoDataRow(),void this.contentChanged.next();const We=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(Ne,We,(Bt,gn,Kn)=>this._getEmbeddedViewArgs(Bt.item,Kn),Bt=>Bt.item.data,Bt=>{Bt.operation===N.Q3.INSERTED&&Bt.context&&this._renderCellTemplateForItem(Bt.record.item.rowDef,Bt.context)}),this._updateRowIndexContext(),Ne.forEachIdentityChange(Bt=>{We.get(Bt.currentIndex).context.$implicit=Bt.item.data}),this._updateNoDataRow(),(0,h.mal)(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(Ne){this._customColumnDefs.add(Ne)}removeColumnDef(Ne){this._customColumnDefs.delete(Ne)}addRowDef(Ne){this._customRowDefs.add(Ne)}removeRowDef(Ne){this._customRowDefs.delete(Ne)}addHeaderRowDef(Ne){this._customHeaderRowDefs.add(Ne),this._headerRowDefChanged=!0}removeHeaderRowDef(Ne){this._customHeaderRowDefs.delete(Ne),this._headerRowDefChanged=!0}addFooterRowDef(Ne){this._customFooterRowDefs.add(Ne),this._footerRowDefChanged=!0}removeFooterRowDef(Ne){this._customFooterRowDefs.delete(Ne),this._footerRowDefChanged=!0}setNoDataRow(Ne){this._customNoDataRow=Ne}updateStickyHeaderRowStyles(){const Ne=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const Bt=Et(this._headerRowOutlet,"thead");Bt&&(Bt.style.display=Ne.length?"":"none")}const We=this._headerRowDefs.map(Bt=>Bt.sticky);this._stickyStyler.clearStickyPositioning(Ne,["top"]),this._stickyStyler.stickRows(Ne,We,"top"),this._headerRowDefs.forEach(Bt=>Bt.resetStickyChanged())}updateStickyFooterRowStyles(){const Ne=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const Bt=Et(this._footerRowOutlet,"tfoot");Bt&&(Bt.style.display=Ne.length?"":"none")}const We=this._footerRowDefs.map(Bt=>Bt.sticky);this._stickyStyler.clearStickyPositioning(Ne,["bottom"]),this._stickyStyler.stickRows(Ne,We,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,We),this._footerRowDefs.forEach(Bt=>Bt.resetStickyChanged())}updateStickyColumnStyles(){const Ne=this._getRenderedRows(this._headerRowOutlet),We=this._getRenderedRows(this._rowOutlet),Bt=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...Ne,...We,...Bt],["left","right"]),this._stickyColumnStylesNeedReset=!1),Ne.forEach((gn,Kn)=>{this._addStickyColumnStyles([gn],this._headerRowDefs[Kn])}),this._rowDefs.forEach(gn=>{const Kn=[];for(let ir=0;ir<We.length;ir++)this._renderRows[ir].rowDef===gn&&Kn.push(We[ir]);this._addStickyColumnStyles(Kn,gn)}),Bt.forEach((gn,Kn)=>{this._addStickyColumnStyles([gn],this._footerRowDefs[Kn])}),Array.from(this._columnDefsByName.values()).forEach(gn=>gn.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const We=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||We,this._forceRecalculateCellWidths=We,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const Ne=[],We=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Bt=0;Bt<this._data.length;Bt++){let gn=this._data[Bt];const Kn=this._getRenderRowsForData(gn,Bt,We.get(gn));this._cachedRenderRowsMap.has(gn)||this._cachedRenderRowsMap.set(gn,new WeakMap);for(let ir=0;ir<Kn.length;ir++){let hr=Kn[ir];const Wr=this._cachedRenderRowsMap.get(hr.data);Wr.has(hr.rowDef)?Wr.get(hr.rowDef).push(hr):Wr.set(hr.rowDef,[hr]),Ne.push(hr)}}return Ne}_getRenderRowsForData(Ne,We,Bt){return this._getRowDefs(Ne,We).map(Kn=>{const ir=Bt&&Bt.has(Kn)?Bt.get(Kn):[];if(ir.length){const hr=ir.shift();return hr.dataIndex=We,hr}return{data:Ne,rowDef:Kn,dataIndex:We}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Ge(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(We=>{this._columnDefsByName.has(We.name),this._columnDefsByName.set(We.name,We)})}_cacheRowDefs(){this._headerRowDefs=Ge(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Ge(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Ge(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const Ne=this._rowDefs.filter(We=>!We.when);this._defaultRowDef=Ne[0]}_renderUpdatedColumns(){const Ne=(Kn,ir)=>Kn||!!ir.getColumnsDiff(),We=this._rowDefs.reduce(Ne,!1);We&&this._forceRenderDataRows();const Bt=this._headerRowDefs.reduce(Ne,!1);Bt&&this._forceRenderHeaderRows();const gn=this._footerRowDefs.reduce(Ne,!1);return gn&&this._forceRenderFooterRows(),We||Bt||gn}_switchDataSource(Ne){this._data=[],(0,N.y4)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),Ne||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=Ne}_observeRenderChanges(){if(!this.dataSource)return;let Ne;(0,N.y4)(this.dataSource)?Ne=this.dataSource.connect(this):(0,H.A)(this.dataSource)?Ne=this.dataSource:Array.isArray(this.dataSource)&&(Ne=(0,V.of)(this.dataSource)),this._renderChangeSubscription=Ne.pipe((0,P.Q)(this._onDestroy)).subscribe(We=>{this._data=We||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((Ne,We)=>this._renderRow(this._headerRowOutlet,Ne,We)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((Ne,We)=>this._renderRow(this._footerRowOutlet,Ne,We)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(Ne,We){const Bt=Array.from(We.columns||[]).map(ir=>this._columnDefsByName.get(ir)),gn=Bt.map(ir=>ir.sticky),Kn=Bt.map(ir=>ir.stickyEnd);this._stickyStyler.updateStickyColumns(Ne,gn,Kn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(Ne){const We=[];for(let Bt=0;Bt<Ne.viewContainer.length;Bt++){const gn=Ne.viewContainer.get(Bt);We.push(gn.rootNodes[0])}return We}_getRowDefs(Ne,We){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Bt=[];if(this.multiTemplateDataRows)Bt=this._rowDefs.filter(gn=>!gn.when||gn.when(We,Ne));else{let gn=this._rowDefs.find(Kn=>Kn.when&&Kn.when(We,Ne))||this._defaultRowDef;gn&&Bt.push(gn)}return Bt}_getEmbeddedViewArgs(Ne,We){return{templateRef:Ne.rowDef.template,context:{$implicit:Ne.data},index:We}}_renderRow(Ne,We,Bt,gn={}){const Kn=Ne.viewContainer.createEmbeddedView(We.template,gn,Bt);return this._renderCellTemplateForItem(We,gn),Kn}_renderCellTemplateForItem(Ne,We){for(let Bt of this._getCellTemplates(Ne))E.mostRecentCellOutlet&&E.mostRecentCellOutlet._viewContainer.createEmbeddedView(Bt,We);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const Ne=this._rowOutlet.viewContainer;for(let We=0,Bt=Ne.length;We<Bt;We++){const Kn=Ne.get(We).context;Kn.count=Bt,Kn.first=0===We,Kn.last=We===Bt-1,Kn.even=We%2==0,Kn.odd=!Kn.even,this.multiTemplateDataRows?(Kn.dataIndex=this._renderRows[We].dataIndex,Kn.renderIndex=We):Kn.index=this._renderRows[We].dataIndex}}_getCellTemplates(Ne){return Ne&&Ne.columns?Array.from(Ne.columns,We=>{const Bt=this._columnDefsByName.get(We);return Ne.extractCellTemplate(Bt)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const Ne=(We,Bt)=>We||Bt.hasStickyChanged();this._headerRowDefs.reduce(Ne,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(Ne,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(Ne,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Ke(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,V.of)()).pipe((0,P.Q)(this._onDestroy)).subscribe(We=>{this._stickyStyler.direction=We,this.updateStickyColumnStyles()})}_getOwnDefs(Ne){return Ne.filter(We=>!We._table||We._table===this)}_updateNoDataRow(){const Ne=this._customNoDataRow||this._noDataRow;if(!Ne)return;const We=0===this._rowOutlet.viewContainer.length;if(We===this._isShowingNoDataRow)return;const Bt=this._noDataRowOutlet.viewContainer;if(We){const gn=Bt.createEmbeddedView(Ne.templateRef),Kn=gn.rootNodes[0];1===gn.rootNodes.length&&Kn?.nodeType===this._document.ELEMENT_NODE&&(Kn.setAttribute("role","row"),Kn.classList.add(Ne._contentClassName))}else Bt.clear();this._isShowingNoDataRow=We,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(We){return new(We||Jt)(h.rXU(h._q3),h.rXU(h.gRc),h.rXU(h.aKT),h.kS0("role"),h.rXU(x.dS,8),h.rXU(j.qQ),h.rXU(Y.OD),h.rXU(N.sL),h.rXU(w),h.rXU(M.Xj),h.rXU(oe,12),h.rXU(h.SKi,8))};static#t=this.\u0275cmp=h.VBU({type:Jt,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(We,Bt,gn){if(1&We&&(h.wni(gn,me,5),h.wni(gn,Me,5),h.wni(gn,c,5),h.wni(gn,$,5),h.wni(gn,T,5)),2&We){let Kn;h.mGM(Kn=h.lsd())&&(Bt._noDataRow=Kn.first),h.mGM(Kn=h.lsd())&&(Bt._contentColumnDefs=Kn),h.mGM(Kn=h.lsd())&&(Bt._contentRowDefs=Kn),h.mGM(Kn=h.lsd())&&(Bt._contentHeaderRowDefs=Kn),h.mGM(Kn=h.lsd())&&(Bt._contentFooterRowDefs=Kn)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(We,Bt){2&We&&h.AVh("cdk-table-fixed-layout",Bt.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",h.L39],fixedLayout:[2,"fixedLayout","fixedLayout",h.L39]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[h.Jv_([{provide:ue,useExisting:Jt},{provide:N.sL,useClass:N.xn},{provide:w,useClass:_},{provide:oe,useValue:null}]),h.GFd,h.aNF],ngContentSelectors:W,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(We,Bt){1&We&&(h.NAR(ee),h.SdG(0),h.SdG(1,1),h.DNE(2,Q,1,0)(3,de,7,0)(4,ae,4,0)),2&We&&(h.R7$(2),h.vxM(Bt._isServer?2:-1),h.R7$(),h.vxM(Bt._isNativeHtmlTable?3:4))},dependencies:[De,we,Je,$e],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return Jt})();function Ge(Jt,dt){return Jt.concat(Array.from(dt))}function Et(Jt,dt){const Ne=dt.toUpperCase();let We=Jt.viewContainer.element.nativeElement;for(;We;){const Bt=1===We.nodeType?We.nodeName:null;if(Bt===Ne)return We;if("TABLE"===Bt)break;We=We.parentNode}return null}let b=(()=>{class Jt{static#e=this.\u0275fac=function(We){return new(We||Jt)};static#t=this.\u0275mod=h.$C({type:Jt});static#n=this.\u0275inj=h.G2t({imports:[M.E9]})}return Jt})();var le=A(86600),Ae=A(57786),Be=A(84572),ft=A(14085),Yt=A(96354);const Rt=[[["caption"]],[["colgroup"],["col"]],"*"],Vt=["caption","colgroup, col","*"];function dn(Jt,dt){1&Jt&&h.SdG(0,2)}function Mn(Jt,dt){1&Jt&&(h.j41(0,"thead",0),h.eu8(1,1),h.k0s(),h.j41(2,"tbody",2),h.eu8(3,3)(4,4),h.k0s(),h.j41(5,"tfoot",0),h.eu8(6,5),h.k0s())}function En(Jt,dt){1&Jt&&h.eu8(0,1)(1,3)(2,4)(3,5)}let pn=(()=>{class Jt extends nt{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static#e=this.\u0275fac=(()=>{let Ne;return function(Bt){return(Ne||(Ne=h.xGo(Jt)))(Bt||Jt)}})();static#t=this.\u0275cmp=h.VBU({type:Jt,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(We,Bt){2&We&&h.AVh("mdc-table-fixed-layout",Bt.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[h.Jv_([{provide:nt,useExisting:Jt},{provide:ue,useExisting:Jt},{provide:w,useClass:_},{provide:N.sL,useClass:N.xn},{provide:oe,useValue:null}]),h.Vt3,h.aNF],ngContentSelectors:Vt,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(We,Bt){1&We&&(h.NAR(Rt),h.SdG(0),h.SdG(1,1),h.DNE(2,dn,1,0)(3,Mn,7,0)(4,En,4,0)),2&We&&(h.R7$(2),h.vxM(Bt._isServer?2:-1),h.R7$(),h.vxM(Bt._isNativeHtmlTable?3:4))},dependencies:[De,we,Je,$e],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return Jt})(),kt=(()=>{class Jt extends he{static#e=this.\u0275fac=(()=>{let Ne;return function(Bt){return(Ne||(Ne=h.xGo(Jt)))(Bt||Jt)}})();static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["","matCellDef",""]],standalone:!0,features:[h.Jv_([{provide:he,useExisting:Jt}]),h.Vt3]})}return Jt})(),St=(()=>{class Jt extends ve{static#e=this.\u0275fac=(()=>{let Ne;return function(Bt){return(Ne||(Ne=h.xGo(Jt)))(Bt||Jt)}})();static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[h.Jv_([{provide:ve,useExisting:Jt}]),h.Vt3]})}return Jt})(),hn=(()=>{class Jt extends Me{get name(){return this._name}set name(Ne){this._setNameInput(Ne)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static#e=this.\u0275fac=(()=>{let Ne;return function(Bt){return(Ne||(Ne=h.xGo(Jt)))(Bt||Jt)}})();static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[h.Jv_([{provide:Me,useExisting:Jt},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:Jt}]),h.Vt3]})}return Jt})(),An=(()=>{class Jt extends je{static#e=this.\u0275fac=(()=>{let Ne;return function(Bt){return(Ne||(Ne=h.xGo(Jt)))(Bt||Jt)}})();static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[h.Vt3]})}return Jt})(),Tt=(()=>{class Jt extends l{static#e=this.\u0275fac=(()=>{let Ne;return function(Bt){return(Ne||(Ne=h.xGo(Jt)))(Bt||Jt)}})();static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[h.Vt3]})}return Jt})(),Lt=(()=>{class Jt extends ${static#e=this.\u0275fac=(()=>{let Ne;return function(Bt){return(Ne||(Ne=h.xGo(Jt)))(Bt||Jt)}})();static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",h.L39]},standalone:!0,features:[h.Jv_([{provide:$,useExisting:Jt}]),h.GFd,h.Vt3]})}return Jt})(),mt=(()=>{class Jt extends c{static#e=this.\u0275fac=(()=>{let Ne;return function(Bt){return(Ne||(Ne=h.xGo(Jt)))(Bt||Jt)}})();static#t=this.\u0275dir=h.FsC({type:Jt,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[h.Jv_([{provide:c,useExisting:Jt}]),h.Vt3]})}return Jt})(),sn=(()=>{class Jt extends q{static#e=this.\u0275fac=(()=>{let Ne;return function(Bt){return(Ne||(Ne=h.xGo(Jt)))(Bt||Jt)}})();static#t=this.\u0275cmp=h.VBU({type:Jt,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[h.Jv_([{provide:q,useExisting:Jt}]),h.Vt3,h.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(We,Bt){1&We&&h.eu8(0,0)},dependencies:[E],encapsulation:2})}return Jt})(),xn=(()=>{class Jt extends ce{static#e=this.\u0275fac=(()=>{let Ne;return function(Bt){return(Ne||(Ne=h.xGo(Jt)))(Bt||Jt)}})();static#t=this.\u0275cmp=h.VBU({type:Jt,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[h.Jv_([{provide:ce,useExisting:Jt}]),h.Vt3,h.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(We,Bt){1&We&&h.eu8(0,0)},dependencies:[E],encapsulation:2})}return Jt})(),qr=(()=>{class Jt{static#e=this.\u0275fac=function(We){return new(We||Jt)};static#t=this.\u0275mod=h.$C({type:Jt});static#n=this.\u0275inj=h.G2t({imports:[le.yE,b,le.yE]})}return Jt})();class qn extends N.qS{get data(){return this._data.value}set data(dt){dt=Array.isArray(dt)?dt:[],this._data.next(dt),this._renderChangesSubscription||this._filterData(dt)}get filter(){return this._filter.value}set filter(dt){this._filter.next(dt),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(dt){this._sort=dt,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(dt){this._paginator=dt,this._updateChangeSubscription()}constructor(dt=[]){super(),this._renderData=new U.t([]),this._filter=new U.t(""),this._internalPageChanges=new R.B,this._renderChangesSubscription=null,this.sortingDataAccessor=(Ne,We)=>{const Bt=Ne[We];if((0,ft.o1)(Bt)){const gn=Number(Bt);return gn<9007199254740991?gn:Bt}return Bt},this.sortData=(Ne,We)=>{const Bt=We.active,gn=We.direction;return Bt&&""!=gn?Ne.sort((Kn,ir)=>{let hr=this.sortingDataAccessor(Kn,Bt),Wr=this.sortingDataAccessor(ir,Bt);const Vr=typeof hr,ti=typeof Wr;Vr!==ti&&("number"===Vr&&(hr+=""),"number"===ti&&(Wr+=""));let ni=0;return null!=hr&&null!=Wr?hr>Wr?ni=1:hr<Wr&&(ni=-1):null!=hr?ni=1:null!=Wr&&(ni=-1),ni*("asc"==gn?1:-1)}):Ne},this.filterPredicate=(Ne,We)=>{const Bt=Object.keys(Ne).reduce((Kn,ir)=>Kn+Ne[ir]+"\u25ec","").toLowerCase(),gn=We.trim().toLowerCase();return-1!=Bt.indexOf(gn)},this._data=new U.t(dt),this._updateChangeSubscription()}_updateChangeSubscription(){const dt=this._sort?(0,Ae.h)(this._sort.sortChange,this._sort.initialized):(0,V.of)(null),Ne=this._paginator?(0,Ae.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,V.of)(null),Bt=(0,Be.z)([this._data,this._filter]).pipe((0,Yt.T)(([ir])=>this._filterData(ir))),gn=(0,Be.z)([Bt,dt]).pipe((0,Yt.T)(([ir])=>this._orderData(ir))),Kn=(0,Be.z)([gn,Ne]).pipe((0,Yt.T)(([ir])=>this._pageData(ir)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=Kn.subscribe(ir=>this._renderData.next(ir))}_filterData(dt){return this.filteredData=null==this.filter||""===this.filter?dt:dt.filter(Ne=>this.filterPredicate(Ne,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(dt){return this.sort?this.sortData(dt.slice(),this.sort):dt}_pageData(dt){if(!this.paginator)return dt;const Ne=this.paginator.pageIndex*this.paginator.pageSize;return dt.slice(Ne,Ne+this.paginator.pageSize)}_updatePaginator(dt){Promise.resolve().then(()=>{const Ne=this.paginator;if(Ne&&(Ne.length=dt,Ne.pageIndex>0)){const We=Math.ceil(Ne.length/Ne.pageSize)-1||0,Bt=Math.min(Ne.pageIndex,We);Bt!==Ne.pageIndex&&(Ne.pageIndex=Bt,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}},55911:(Ye,J,A)=>{"use strict";A.d(J,{KQ:()=>U,s5:()=>V});var h=A(93953),x=A(86600),N=A(36860),Y=A(60177);const M=["*",[["mat-toolbar-row"]]],j=["*","mat-toolbar-row"];let R=(()=>{class P{static#e=this.\u0275fac=function(Q){return new(Q||P)};static#t=this.\u0275dir=h.FsC({type:P,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return P})(),U=(()=>{class P{constructor(W,Q,de){this._elementRef=W,this._platform=Q,this._document=de}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(Q){return new(Q||P)(h.rXU(h.aKT),h.rXU(N.OD),h.rXU(Y.qQ))};static#t=this.\u0275cmp=h.VBU({type:P,selectors:[["mat-toolbar"]],contentQueries:function(Q,de,ae){if(1&Q&&h.wni(ae,R,5),2&Q){let re;h.mGM(re=h.lsd())&&(de._toolbarRows=re)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(Q,de){2&Q&&(h.HbH(de.color?"mat-"+de.color:""),h.AVh("mat-toolbar-multiple-rows",de._toolbarRows.length>0)("mat-toolbar-single-row",0===de._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[h.aNF],ngContentSelectors:j,decls:2,vars:0,template:function(Q,de){1&Q&&(h.NAR(M),h.SdG(0),h.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return P})(),V=(()=>{class P{static#e=this.\u0275fac=function(Q){return new(Q||P)};static#t=this.\u0275mod=h.$C({type:P});static#n=this.\u0275inj=h.G2t({imports:[x.yE,x.yE]})}return P})()},14823:(Ye,J,A)=>{"use strict";A.d(J,{oV:()=>w,uc:()=>O});var h=A(56977),x=A(14085),N=A(67336),Y=A(93953),M=A(60177),j=A(36860),R=A(18617),U=A(28203),H=A(66969),V=A(67333),P=A(76939),ee=A(21413),Q=(A(49969),A(86600));const de=["tooltip"],te=new Y.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const $=(0,Y.WQX)(H.hJ);return()=>$.scrollStrategies.reposition({scrollThrottle:20})}}),pe={provide:te,deps:[H.hJ],useFactory:function ue($){return()=>$.scrollStrategies.reposition({scrollThrottle:20})}},ve=new Y.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function he(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Me="tooltip-panel",Oe=(0,j.BQ)({passive:!0});let w=(()=>{class ${get position(){return this._position}set position(c){c!==this._position&&(this._position=c,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(c){this._positionAtOrigin=(0,x.he)(c),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(c){this._disabled=(0,x.he)(c),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(c){this._showDelay=(0,x.OE)(c)}get hideDelay(){return this._hideDelay}set hideDelay(c){this._hideDelay=(0,x.OE)(c),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(c){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=c?String(c).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(c){this._tooltipClass=c,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(c,E,q,X,ce,me,Te,Ke,Qe,ke,Ie,Xe){this._overlay=c,this._elementRef=E,this._scrollDispatcher=q,this._viewContainerRef=X,this._ngZone=ce,this._platform=me,this._ariaDescriber=Te,this._focusMonitor=Ke,this._dir=ke,this._defaultOptions=Ie,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=_,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ee.B,this._injector=(0,Y.WQX)(Y.zZn),this._scrollStrategy=Qe,this._document=Xe,Ie&&(this._showDelay=Ie.showDelay,this._hideDelay=Ie.hideDelay,Ie.position&&(this.position=Ie.position),Ie.positionAtOrigin&&(this.positionAtOrigin=Ie.positionAtOrigin),Ie.touchGestures&&(this.touchGestures=Ie.touchGestures)),ke.change.pipe((0,h.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,h.Q)(this._destroyed)).subscribe(c=>{c?"keyboard"===c&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const c=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([E,q])=>{c.removeEventListener(E,q,Oe)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(c,this.message,"tooltip"),this._focusMonitor.stopMonitoring(c)}show(c=this.showDelay,E){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const q=this._createOverlay(E);this._detach(),this._portal=this._portal||new P.A8(this._tooltipComponent,this._viewContainerRef);const X=this._tooltipInstance=q.attach(this._portal).instance;X._triggerElement=this._elementRef.nativeElement,X._mouseLeaveHideDelay=this._hideDelay,X.afterHidden().pipe((0,h.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),X.show(c)}hide(c=this.hideDelay){const E=this._tooltipInstance;E&&(E.isVisible()?E.hide(c):(E._cancelPendingAnimations(),this._detach()))}toggle(c){this._isTooltipVisible()?this.hide():this.show(void 0,c)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(c){if(this._overlayRef){const X=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!c)&&X._origin instanceof Y.aKT)return this._overlayRef;this._detach()}const E=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),q=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&c||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(E);return q.positionChanges.pipe((0,h.Q)(this._destroyed)).subscribe(X=>{this._updateCurrentPositionClass(X.connectionPair),this._tooltipInstance&&X.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:q,panelClass:`${this._cssClassPrefix}-${Me}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,h.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,h.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,h.Q)(this._destroyed)).subscribe(X=>{this._isTooltipVisible()&&X.keyCode===N._f&&!(0,N.rp)(X)&&(X.preventDefault(),X.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(c){const E=c.getConfig().positionStrategy,q=this._getOrigin(),X=this._getOverlayPosition();E.withPositions([this._addOffset({...q.main,...X.main}),this._addOffset({...q.fallback,...X.fallback})])}_addOffset(c){const q=!this._dir||"ltr"==this._dir.value;return"top"===c.originY?c.offsetY=-8:"bottom"===c.originY?c.offsetY=8:"start"===c.originX?c.offsetX=q?-8:8:"end"===c.originX&&(c.offsetX=q?8:-8),c}_getOrigin(){const c=!this._dir||"ltr"==this._dir.value,E=this.position;let q;"above"==E||"below"==E?q={originX:"center",originY:"above"==E?"top":"bottom"}:"before"==E||"left"==E&&c||"right"==E&&!c?q={originX:"start",originY:"center"}:("after"==E||"right"==E&&c||"left"==E&&!c)&&(q={originX:"end",originY:"center"});const{x:X,y:ce}=this._invertPosition(q.originX,q.originY);return{main:q,fallback:{originX:X,originY:ce}}}_getOverlayPosition(){const c=!this._dir||"ltr"==this._dir.value,E=this.position;let q;"above"==E?q={overlayX:"center",overlayY:"bottom"}:"below"==E?q={overlayX:"center",overlayY:"top"}:"before"==E||"left"==E&&c||"right"==E&&!c?q={overlayX:"end",overlayY:"center"}:("after"==E||"right"==E&&c||"left"==E&&!c)&&(q={overlayX:"start",overlayY:"center"});const{x:X,y:ce}=this._invertPosition(q.overlayX,q.overlayY);return{main:q,fallback:{overlayX:X,overlayY:ce}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,Y.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(c){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=c,this._tooltipInstance._markForCheck())}_invertPosition(c,E){return"above"===this.position||"below"===this.position?"top"===E?E="bottom":"bottom"===E&&(E="top"):"end"===c?c="start":"start"===c&&(c="end"),{x:c,y:E}}_updateCurrentPositionClass(c){const{overlayY:E,originX:q,originY:X}=c;let ce;if(ce="center"===E?this._dir&&"rtl"===this._dir.value?"end"===q?"left":"right":"start"===q?"left":"right":"bottom"===E&&"top"===X?"above":"below",ce!==this._currentPosition){const me=this._overlayRef;if(me){const Te=`${this._cssClassPrefix}-${Me}-`;me.removePanelClass(Te+this._currentPosition),me.addPanelClass(Te+ce)}this._currentPosition=ce}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",c=>{let E;this._setupPointerExitEventsIfNeeded(),void 0!==c.x&&void 0!==c.y&&(E=c),this.show(void 0,E)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",c=>{const E=c.targetTouches?.[0],q=E?{x:E.clientX,y:E.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,q),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const c=[];if(this._platformSupportsMouseEvents())c.push(["mouseleave",E=>{const q=E.relatedTarget;(!q||!this._overlayRef?.overlayElement.contains(q))&&this.hide()}],["wheel",E=>this._wheelListener(E)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const E=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};c.push(["touchend",E],["touchcancel",E])}this._addListeners(c),this._passiveListeners.push(...c)}_addListeners(c){c.forEach(([E,q])=>{this._elementRef.nativeElement.addEventListener(E,q,Oe)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(c){if(this._isTooltipVisible()){const E=this._document.elementFromPoint(c.clientX,c.clientY),q=this._elementRef.nativeElement;E!==q&&!q.contains(E)&&this.hide()}}_disableNativeGesturesIfNecessary(){const c=this.touchGestures;if("off"!==c){const E=this._elementRef.nativeElement,q=E.style;("on"===c||"INPUT"!==E.nodeName&&"TEXTAREA"!==E.nodeName)&&(q.userSelect=q.msUserSelect=q.webkitUserSelect=q.MozUserSelect="none"),("on"===c||!E.draggable)&&(q.webkitUserDrag="none"),q.touchAction="none",q.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(E){return new(E||$)(Y.rXU(H.hJ),Y.rXU(Y.aKT),Y.rXU(V.R),Y.rXU(Y.c1b),Y.rXU(Y.SKi),Y.rXU(j.OD),Y.rXU(R.vr),Y.rXU(R.FN),Y.rXU(te),Y.rXU(U.dS),Y.rXU(ve,8),Y.rXU(M.qQ))};static#t=this.\u0275dir=Y.FsC({type:$,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(E,q){2&E&&Y.AVh("mat-mdc-tooltip-disabled",q.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return $})(),_=(()=>{class ${constructor(c,E,q){this._changeDetectorRef=c,this._elementRef=E,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ee.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===q}show(c){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},c)}hide(c){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},c)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:c}){(!c||!this._triggerElement.contains(c))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const c=this._elementRef.nativeElement.getBoundingClientRect();return c.height>24&&c.width>=200}_handleAnimationEnd({animationName:c}){(c===this._showAnimation||c===this._hideAnimation)&&this._finalizeAnimation(c===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(c){c?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(c){const E=this._tooltip.nativeElement,q=this._showAnimation,X=this._hideAnimation;if(E.classList.remove(c?X:q),E.classList.add(c?q:X),this._isVisible!==c&&(this._isVisible=c,this._changeDetectorRef.markForCheck()),c&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const ce=getComputedStyle(E);("0s"===ce.getPropertyValue("animation-duration")||"none"===ce.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}c&&this._onShow(),this._animationsDisabled&&(E.classList.add("_mat-animation-noopable"),this._finalizeAnimation(c))}static#e=this.\u0275fac=function(E){return new(E||$)(Y.rXU(Y.gRc),Y.rXU(Y.aKT),Y.rXU(Y.bc$,8))};static#t=this.\u0275cmp=Y.VBU({type:$,selectors:[["mat-tooltip-component"]],viewQuery:function(E,q){if(1&E&&Y.GBs(de,7),2&E){let X;Y.mGM(X=Y.lsd())&&(q._tooltip=X.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(E,q){1&E&&Y.bIt("mouseleave",function(ce){return q._handleMouseLeave(ce)}),2&E&&Y.xc7("zoom",q.isVisible()?1:null)},standalone:!0,features:[Y.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(E,q){if(1&E){const X=Y.RV6();Y.j41(0,"div",1,0),Y.bIt("animationend",function(me){return Y.eBV(X),Y.Njj(q._handleAnimationEnd(me))}),Y.j41(2,"div",2),Y.EFF(3),Y.k0s()()}2&E&&(Y.AVh("mdc-tooltip--multiline",q._isMultiline),Y.Y8G("ngClass",q.tooltipClass),Y.R7$(3),Y.JRh(q.message))},dependencies:[M.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color);color:var(--mdc-plain-tooltip-supporting-text-color);border-radius:var(--mdc-plain-tooltip-container-shape);font-family:var(--mdc-plain-tooltip-supporting-text-font);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return $})(),O=(()=>{class ${static#e=this.\u0275fac=function(E){return new(E||$)};static#t=this.\u0275mod=Y.$C({type:$});static#n=this.\u0275inj=Y.G2t({providers:[pe],imports:[R.Pd,M.MD,H.z_,Q.yE,Q.yE,V.Gj]})}return $})()},345:(Ye,J,A)=>{"use strict";A.d(J,{B7:()=>Oe,B8:()=>X,hE:()=>we,up:()=>Be});var h=A(60177),x=A(93953);class N extends h.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Y extends N{static makeCurrent(){(0,h.ZD)(new Y)}onAndCancel(kt,St,an){return kt.addEventListener(St,an),()=>{kt.removeEventListener(St,an)}}dispatchEvent(kt,St){kt.dispatchEvent(St)}remove(kt){kt.remove()}createElement(kt,St){return(St=St||this.getDefaultDocument()).createElement(kt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(kt){return kt.nodeType===Node.ELEMENT_NODE}isShadowRoot(kt){return kt instanceof DocumentFragment}getGlobalEventTarget(kt,St){return"window"===St?window:"document"===St?kt:"body"===St?kt.body:null}getBaseHref(kt){const St=function j(){return M=M||document.querySelector("base"),M?M.getAttribute("href"):null}();return null==St?null:function R(pn){return new URL(pn,document.baseURI).pathname}(St)}resetBaseElement(){M=null}getUserAgent(){return window.navigator.userAgent}getCookie(kt){return(0,h._b)(document.cookie,kt)}}let M=null,H=(()=>{class pn{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(an){return new(an||pn)};static#t=this.\u0275prov=x.jDH({token:pn,factory:pn.\u0275fac})}return pn})();const V=new x.nKC("");let P=(()=>{class pn{constructor(St,an){this._zone=an,this._eventNameToPlugin=new Map,St.forEach(hn=>{hn.manager=this}),this._plugins=St.slice().reverse()}addEventListener(St,an,hn){return this._findPluginFor(an).addEventListener(St,an,hn)}getZone(){return this._zone}_findPluginFor(St){let an=this._eventNameToPlugin.get(St);if(an)return an;if(an=this._plugins.find(An=>An.supports(St)),!an)throw new x.wOt(5101,!1);return this._eventNameToPlugin.set(St,an),an}static#e=this.\u0275fac=function(an){return new(an||pn)(x.KVO(V),x.KVO(x.SKi))};static#t=this.\u0275prov=x.jDH({token:pn,factory:pn.\u0275fac})}return pn})();class ee{constructor(kt){this._doc=kt}}const W="ng-app-id";let Q=(()=>{class pn{constructor(St,an,hn,An={}){this.doc=St,this.appId=an,this.nonce=hn,this.platformId=An,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,h.Vy)(An),this.resetHostNodes()}addStyles(St){for(const an of St)1===this.changeUsageCount(an,1)&&this.onStyleAdded(an)}removeStyles(St){for(const an of St)this.changeUsageCount(an,-1)<=0&&this.onStyleRemoved(an)}ngOnDestroy(){const St=this.styleNodesInDOM;St&&(St.forEach(an=>an.remove()),St.clear());for(const an of this.getAllStyles())this.onStyleRemoved(an);this.resetHostNodes()}addHost(St){this.hostNodes.add(St);for(const an of this.getAllStyles())this.addStyleToHost(St,an)}removeHost(St){this.hostNodes.delete(St)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(St){for(const an of this.hostNodes)this.addStyleToHost(an,St)}onStyleRemoved(St){const an=this.styleRef;an.get(St)?.elements?.forEach(hn=>hn.remove()),an.delete(St)}collectServerRenderedStyles(){const St=this.doc.head?.querySelectorAll(`style[${W}="${this.appId}"]`);if(St?.length){const an=new Map;return St.forEach(hn=>{null!=hn.textContent&&an.set(hn.textContent,hn)}),an}return null}changeUsageCount(St,an){const hn=this.styleRef;if(hn.has(St)){const An=hn.get(St);return An.usage+=an,An.usage}return hn.set(St,{usage:an,elements:[]}),an}getStyleElement(St,an){const hn=this.styleNodesInDOM,An=hn?.get(an);if(An?.parentNode===St)return hn.delete(an),An.removeAttribute(W),An;{const Rr=this.doc.createElement("style");return this.nonce&&Rr.setAttribute("nonce",this.nonce),Rr.textContent=an,this.platformIsServer&&Rr.setAttribute(W,this.appId),St.appendChild(Rr),Rr}}addStyleToHost(St,an){const hn=this.getStyleElement(St,an),An=this.styleRef,Rr=An.get(an)?.elements;Rr?Rr.push(hn):An.set(an,{elements:[hn],usage:1})}resetHostNodes(){const St=this.hostNodes;St.clear(),St.add(this.doc.head)}static#e=this.\u0275fac=function(an){return new(an||pn)(x.KVO(h.qQ),x.KVO(x.sZ2),x.KVO(x.BIS,8),x.KVO(x.Agw))};static#t=this.\u0275prov=x.jDH({token:pn,factory:pn.\u0275fac})}return pn})();const de={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ae=/%COMP%/g,he=new x.nKC("",{providedIn:"root",factory:()=>!0});function Me(pn,kt){return kt.map(St=>St.replace(ae,pn))}let Oe=(()=>{class pn{constructor(St,an,hn,An,Rr,Tt,Nt,Lt=null){this.eventManager=St,this.sharedStylesHost=an,this.appId=hn,this.removeStylesOnCompDestroy=An,this.doc=Rr,this.platformId=Tt,this.ngZone=Nt,this.nonce=Lt,this.rendererByCompId=new Map,this.platformIsServer=(0,h.Vy)(Tt),this.defaultRenderer=new je(St,Rr,Nt,this.platformIsServer)}createRenderer(St,an){if(!St||!an)return this.defaultRenderer;this.platformIsServer&&an.encapsulation===x.gXe.ShadowDom&&(an={...an,encapsulation:x.gXe.Emulated});const hn=this.getOrCreateRenderer(St,an);return hn instanceof D?hn.applyToHost(St):hn instanceof _&&hn.applyStyles(),hn}getOrCreateRenderer(St,an){const hn=this.rendererByCompId;let An=hn.get(an.id);if(!An){const Rr=this.doc,Tt=this.ngZone,Nt=this.eventManager,Lt=this.sharedStylesHost,st=this.removeStylesOnCompDestroy,mt=this.platformIsServer;switch(an.encapsulation){case x.gXe.Emulated:An=new D(Nt,Lt,an,this.appId,st,Rr,Tt,mt);break;case x.gXe.ShadowDom:return new w(Nt,Lt,St,an,Rr,Tt,this.nonce,mt);default:An=new _(Nt,Lt,an,st,Rr,Tt,mt)}hn.set(an.id,An)}return An}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(an){return new(an||pn)(x.KVO(P),x.KVO(Q),x.KVO(x.sZ2),x.KVO(he),x.KVO(h.qQ),x.KVO(x.Agw),x.KVO(x.SKi),x.KVO(x.BIS))};static#t=this.\u0275prov=x.jDH({token:pn,factory:pn.\u0275fac})}return pn})();class je{constructor(kt,St,an,hn){this.eventManager=kt,this.doc=St,this.ngZone=an,this.platformIsServer=hn,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(kt,St){return St?this.doc.createElementNS(de[St]||St,kt):this.doc.createElement(kt)}createComment(kt){return this.doc.createComment(kt)}createText(kt){return this.doc.createTextNode(kt)}appendChild(kt,St){(f(kt)?kt.content:kt).appendChild(St)}insertBefore(kt,St,an){kt&&(f(kt)?kt.content:kt).insertBefore(St,an)}removeChild(kt,St){St.remove()}selectRootElement(kt,St){let an="string"==typeof kt?this.doc.querySelector(kt):kt;if(!an)throw new x.wOt(-5104,!1);return St||(an.textContent=""),an}parentNode(kt){return kt.parentNode}nextSibling(kt){return kt.nextSibling}setAttribute(kt,St,an,hn){if(hn){St=hn+":"+St;const An=de[hn];An?kt.setAttributeNS(An,St,an):kt.setAttribute(St,an)}else kt.setAttribute(St,an)}removeAttribute(kt,St,an){if(an){const hn=de[an];hn?kt.removeAttributeNS(hn,St):kt.removeAttribute(`${an}:${St}`)}else kt.removeAttribute(St)}addClass(kt,St){kt.classList.add(St)}removeClass(kt,St){kt.classList.remove(St)}setStyle(kt,St,an,hn){hn&(x.czy.DashCase|x.czy.Important)?kt.style.setProperty(St,an,hn&x.czy.Important?"important":""):kt.style[St]=an}removeStyle(kt,St,an){an&x.czy.DashCase?kt.style.removeProperty(St):kt.style[St]=""}setProperty(kt,St,an){null!=kt&&(kt[St]=an)}setValue(kt,St){kt.nodeValue=St}listen(kt,St,an){if("string"==typeof kt&&!(kt=(0,h.QT)().getGlobalEventTarget(this.doc,kt)))throw new Error(`Unsupported event target ${kt} for event ${St}`);return this.eventManager.addEventListener(kt,St,this.decoratePreventDefault(an))}decoratePreventDefault(kt){return St=>{if("__ngUnwrap__"===St)return kt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>kt(St)):kt(St))&&St.preventDefault()}}}function f(pn){return"TEMPLATE"===pn.tagName&&void 0!==pn.content}class w extends je{constructor(kt,St,an,hn,An,Rr,Tt,Nt){super(kt,An,Rr,Nt),this.sharedStylesHost=St,this.hostEl=an,this.shadowRoot=an.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Lt=Me(hn.id,hn.styles);for(const st of Lt){const mt=document.createElement("style");Tt&&mt.setAttribute("nonce",Tt),mt.textContent=st,this.shadowRoot.appendChild(mt)}}nodeOrShadowRoot(kt){return kt===this.hostEl?this.shadowRoot:kt}appendChild(kt,St){return super.appendChild(this.nodeOrShadowRoot(kt),St)}insertBefore(kt,St,an){return super.insertBefore(this.nodeOrShadowRoot(kt),St,an)}removeChild(kt,St){return super.removeChild(null,St)}parentNode(kt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(kt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _ extends je{constructor(kt,St,an,hn,An,Rr,Tt,Nt){super(kt,An,Rr,Tt),this.sharedStylesHost=St,this.removeStylesOnCompDestroy=hn,this.styles=Nt?Me(Nt,an.styles):an.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class D extends _{constructor(kt,St,an,hn,An,Rr,Tt,Nt){const Lt=hn+"-"+an.id;super(kt,St,an,An,Rr,Tt,Nt,Lt),this.contentAttr=function ve(pn){return"_ngcontent-%COMP%".replace(ae,pn)}(Lt),this.hostAttr=function ge(pn){return"_nghost-%COMP%".replace(ae,pn)}(Lt)}applyToHost(kt){this.applyStyles(),this.setAttribute(kt,this.hostAttr,"")}createElement(kt,St){const an=super.createElement(kt,St);return super.setAttribute(an,this.contentAttr,""),an}}let O=(()=>{class pn extends ee{constructor(St){super(St)}supports(St){return!0}addEventListener(St,an,hn){return St.addEventListener(an,hn,!1),()=>this.removeEventListener(St,an,hn)}removeEventListener(St,an,hn){return St.removeEventListener(an,hn)}static#e=this.\u0275fac=function(an){return new(an||pn)(x.KVO(h.qQ))};static#t=this.\u0275prov=x.jDH({token:pn,factory:pn.\u0275fac})}return pn})(),$=(()=>{class pn extends ee{constructor(St){super(St),this.delegate=(0,x.WQX)(x.zAP,{optional:!0})}supports(St){return!!this.delegate&&this.delegate.supports(St)}addEventListener(St,an,hn){return this.delegate.addEventListener(St,an,hn)}removeEventListener(St,an,hn){return this.delegate.removeEventListener(St,an,hn)}static#e=this.\u0275fac=function(an){return new(an||pn)(x.KVO(h.qQ))};static#t=this.\u0275prov=x.jDH({token:pn,factory:pn.\u0275fac})}return pn})();const T=["alt","control","meta","shift"],c={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},E={alt:pn=>pn.altKey,control:pn=>pn.ctrlKey,meta:pn=>pn.metaKey,shift:pn=>pn.shiftKey};let q=(()=>{class pn extends ee{constructor(St){super(St)}supports(St){return null!=pn.parseEventName(St)}addEventListener(St,an,hn){const An=pn.parseEventName(an),Rr=pn.eventCallback(An.fullKey,hn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.QT)().onAndCancel(St,An.domEventName,Rr))}static parseEventName(St){const an=St.toLowerCase().split("."),hn=an.shift();if(0===an.length||"keydown"!==hn&&"keyup"!==hn)return null;const An=pn._normalizeKey(an.pop());let Rr="",Tt=an.indexOf("code");if(Tt>-1&&(an.splice(Tt,1),Rr="code."),T.forEach(Lt=>{const st=an.indexOf(Lt);st>-1&&(an.splice(st,1),Rr+=Lt+".")}),Rr+=An,0!=an.length||0===An.length)return null;const Nt={};return Nt.domEventName=hn,Nt.fullKey=Rr,Nt}static matchEventFullKeyCode(St,an){let hn=c[St.key]||St.key,An="";return an.indexOf("code.")>-1&&(hn=St.code,An="code."),!(null==hn||!hn)&&(hn=hn.toLowerCase()," "===hn?hn="space":"."===hn&&(hn="dot"),T.forEach(Rr=>{Rr!==hn&&(0,E[Rr])(St)&&(An+=Rr+".")}),An+=hn,An===an)}static eventCallback(St,an,hn){return An=>{pn.matchEventFullKeyCode(An,St)&&hn.runGuarded(()=>an(An))}}static _normalizeKey(St){return"esc"===St?"escape":St}static#e=this.\u0275fac=function(an){return new(an||pn)(x.KVO(h.qQ))};static#t=this.\u0275prov=x.jDH({token:pn,factory:pn.\u0275fac})}return pn})();function X(pn,kt){return(0,x.TL3)({rootComponent:pn,...me(kt)})}function me(pn){return{appProviders:[...Ee,...pn?.providers??[]],platformProviders:Ie}}const Ie=[{provide:x.Agw,useValue:h.AJ},{provide:x.PLl,useValue:function Ke(){Y.makeCurrent()},multi:!0},{provide:h.qQ,useFactory:function ke(){return(0,x.TL$)(document),document},deps:[]}],Ee=[{provide:x.H8p,useValue:"root"},{provide:x.zcH,useFactory:function Qe(){return new x.zcH},deps:[]},{provide:V,useClass:O,multi:!0,deps:[h.qQ,x.SKi,x.Agw]},{provide:V,useClass:q,multi:!0,deps:[h.qQ]},{provide:V,useClass:$,multi:!0},Oe,Q,P,{provide:x._9s,useExisting:Oe},{provide:h.N0,useClass:H,deps:[]},[]];let we=(()=>{class pn{constructor(St){this._doc=St}getTitle(){return this._doc.title}setTitle(St){this._doc.title=St||""}static#e=this.\u0275fac=function(an){return new(an||pn)(x.KVO(h.qQ))};static#t=this.\u0275prov=x.jDH({token:pn,factory:pn.\u0275fac,providedIn:"root"})}return pn})(),Be=(()=>{class pn{static#e=this.\u0275fac=function(an){return new(an||pn)};static#t=this.\u0275prov=x.jDH({token:pn,factory:function(an){let hn=null;return hn=an?new(an||pn):x.KVO(ft),hn},providedIn:"root"})}return pn})(),ft=(()=>{class pn extends Be{constructor(St){super(),this._doc=St}sanitize(St,an){if(null==an)return null;switch(St){case x.WPN.NONE:return an;case x.WPN.HTML:return(0,x.ZF7)(an,"HTML")?(0,x.rcV)(an):(0,x.h9k)(this._doc,String(an)).toString();case x.WPN.STYLE:return(0,x.ZF7)(an,"Style")?(0,x.rcV)(an):an;case x.WPN.SCRIPT:if((0,x.ZF7)(an,"Script"))return(0,x.rcV)(an);throw new x.wOt(5200,!1);case x.WPN.URL:return(0,x.ZF7)(an,"URL")?(0,x.rcV)(an):(0,x.$MX)(String(an));case x.WPN.RESOURCE_URL:if((0,x.ZF7)(an,"ResourceURL"))return(0,x.rcV)(an);throw new x.wOt(5201,!1);default:throw new x.wOt(5202,!1)}}bypassSecurityTrustHtml(St){return(0,x.Kcf)(St)}bypassSecurityTrustStyle(St){return(0,x.cWb)(St)}bypassSecurityTrustScript(St){return(0,x.UyX)(St)}bypassSecurityTrustUrl(St){return(0,x.osQ)(St)}bypassSecurityTrustResourceUrl(St){return(0,x.e5t)(St)}static#e=this.\u0275fac=function(an){return new(an||pn)(x.KVO(h.qQ))};static#t=this.\u0275prov=x.jDH({token:pn,factory:pn.\u0275fac,providedIn:"root"})}return pn})()},18498:(Ye,J,A)=>{"use strict";A.d(J,{nX:()=>Yo,wF:()=>Ur,Z:()=>Hr,Kp:()=>mf,Ix:()=>va,Wk:()=>fs,wQ:()=>_l,iI:()=>vn,n3:()=>vl,lh:()=>Ct,Sn:()=>xe});var h=A(93953),x=A(74402),N=A(86648),Y=A(7673),M=A(84412),j=A(84572);const U=(0,A(81853).L)(rt=>function(){rt(this),this.name="EmptyError",this.message="no elements in sequence"});var H=A(28793),V=A(59030),P=A(71203),ee=A(18810),W=A(983),Q=A(30017),de=A(21413),ae=A(18359),re=A(60177),te=A(96354),ue=A(25558),pe=A(96697),he=A(99172),ve=A(5964),ge=A(31397),Me=A(39974),Oe=A(54360);function je(rt){return(0,Me.N)((xt,lt)=>{let It=!1;xt.subscribe((0,Oe._)(lt,qt=>{It=!0,lt.next(qt)},()=>{It||lt.next(rt),lt.complete()}))})}function B(rt=l){return(0,Me.N)((xt,lt)=>{let It=!1;xt.subscribe((0,Oe._)(lt,qt=>{It=!0,lt.next(qt)},()=>It?lt.complete():lt.error(rt())))})}function l(){return new U}var f=A(33669);function w(rt,xt){const lt=arguments.length>=2;return It=>It.pipe(rt?(0,ve.p)((qt,bn)=>rt(qt,bn,It)):f.D,(0,pe.s)(1),lt?je(xt):B(()=>new U))}var _=A(70274),D=A(88141),O=A(99437);function c(rt){return rt<=0?()=>W.w:(0,Me.N)((xt,lt)=>{let It=[];xt.subscribe((0,Oe._)(lt,qt=>{It.push(qt),rt<It.length&&It.shift()},()=>{for(const qt of It)lt.next(qt);lt.complete()},void 0,()=>{It=null}))})}var q=A(73703),X=A(70980),ce=A(99898),me=A(56977),Te=A(26365),Ke=A(345);const Qe="primary",ke=Symbol("RouteTitle");class Ie{constructor(xt){this.params=xt||{}}has(xt){return Object.prototype.hasOwnProperty.call(this.params,xt)}get(xt){if(this.has(xt)){const lt=this.params[xt];return Array.isArray(lt)?lt[0]:lt}return null}getAll(xt){if(this.has(xt)){const lt=this.params[xt];return Array.isArray(lt)?lt:[lt]}return[]}get keys(){return Object.keys(this.params)}}function Xe(rt){return new Ie(rt)}function Se(rt,xt,lt){const It=lt.path.split("/");if(It.length>rt.length||"full"===lt.pathMatch&&(xt.hasChildren()||It.length<rt.length))return null;const qt={};for(let bn=0;bn<It.length;bn++){const $n=It[bn],Er=rt[bn];if(":"===$n[0])qt[$n.substring(1)]=Er;else if($n!==Er.path)return null}return{consumed:rt.slice(0,It.length),posParams:qt}}function Ee(rt,xt){const lt=rt?be(rt):void 0,It=xt?be(xt):void 0;if(!lt||!It||lt.length!=It.length)return!1;let qt;for(let bn=0;bn<lt.length;bn++)if(qt=lt[bn],!oe(rt[qt],xt[qt]))return!1;return!0}function be(rt){return[...Object.keys(rt),...Object.getOwnPropertySymbols(rt)]}function oe(rt,xt){if(Array.isArray(rt)&&Array.isArray(xt)){if(rt.length!==xt.length)return!1;const lt=[...rt].sort(),It=[...xt].sort();return lt.every((qt,bn)=>It[bn]===qt)}return rt===xt}function fe(rt){return rt.length>0?rt[rt.length-1]:null}function we(rt){return(0,x.A)(rt)?rt:(0,h.jNT)(rt)?(0,N.H)(Promise.resolve(rt)):(0,Y.of)(rt)}const De={exact:function Pt(rt,xt,lt){if(!Ae(rt.segments,xt.segments)||!K(rt.segments,xt.segments,lt)||rt.numberOfChildren!==xt.numberOfChildren)return!1;for(const It in xt.children)if(!rt.children[It]||!Pt(rt.children[It],xt.children[It],lt))return!1;return!0},subset:Ge},$e={exact:function Ze(rt,xt){return Ee(rt,xt)},subset:function nt(rt,xt){return Object.keys(xt).length<=Object.keys(rt).length&&Object.keys(xt).every(lt=>oe(rt[lt],xt[lt]))},ignored:()=>!0};function Je(rt,xt,lt){return De[lt.paths](rt.root,xt.root,lt.matrixParams)&&$e[lt.queryParams](rt.queryParams,xt.queryParams)&&!("exact"===lt.fragment&&rt.fragment!==xt.fragment)}function Ge(rt,xt,lt){return Et(rt,xt,xt.segments,lt)}function Et(rt,xt,lt,It){if(rt.segments.length>lt.length){const qt=rt.segments.slice(0,lt.length);return!(!Ae(qt,lt)||xt.hasChildren()||!K(qt,lt,It))}if(rt.segments.length===lt.length){if(!Ae(rt.segments,lt)||!K(rt.segments,lt,It))return!1;for(const qt in xt.children)if(!rt.children[qt]||!Ge(rt.children[qt],xt.children[qt],It))return!1;return!0}{const qt=lt.slice(0,rt.segments.length),bn=lt.slice(rt.segments.length);return!!(Ae(rt.segments,qt)&&K(rt.segments,qt,It)&&rt.children[Qe])&&Et(rt.children[Qe],xt,bn,It)}}function K(rt,xt,lt){return xt.every((It,qt)=>$e[lt](rt[qt].parameters,It.parameters))}class C{constructor(xt=new b([],{}),lt={},It=null){this.root=xt,this.queryParams=lt,this.fragment=It}get queryParamMap(){return this._queryParamMap??=Xe(this.queryParams),this._queryParamMap}toString(){return Rt.serialize(this)}}class b{constructor(xt,lt){this.segments=xt,this.children=lt,this.parent=null,Object.values(lt).forEach(It=>It.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vt(this)}}class z{constructor(xt,lt){this.path=xt,this.parameters=lt}get parameterMap(){return this._parameterMap??=Xe(this.parameters),this._parameterMap}toString(){return kt(this)}}function Ae(rt,xt){return rt.length===xt.length&&rt.every((lt,It)=>lt.path===xt[It].path)}let ft=(()=>{class rt{static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275prov=h.jDH({token:rt,factory:()=>new Yt,providedIn:"root"})}return rt})();class Yt{parse(xt){const lt=new sn(xt);return new C(lt.parseRootSegment(),lt.parseQueryParams(),lt.parseFragment())}serialize(xt){const lt=`/${dn(xt.root,!0)}`,It=function an(rt){const xt=Object.entries(rt).map(([lt,It])=>Array.isArray(It)?It.map(qt=>`${En(lt)}=${En(qt)}`).join("&"):`${En(lt)}=${En(It)}`).filter(lt=>lt);return xt.length?`?${xt.join("&")}`:""}(xt.queryParams);return`${lt}${It}${"string"==typeof xt.fragment?`#${function Ar(rt){return encodeURI(rt)}(xt.fragment)}`:""}`}}const Rt=new Yt;function Vt(rt){return rt.segments.map(xt=>kt(xt)).join("/")}function dn(rt,xt){if(!rt.hasChildren())return Vt(rt);if(xt){const lt=rt.children[Qe]?dn(rt.children[Qe],!1):"",It=[];return Object.entries(rt.children).forEach(([qt,bn])=>{qt!==Qe&&It.push(`${qt}:${dn(bn,!1)}`)}),It.length>0?`${lt}(${It.join("//")})`:lt}{const lt=function Be(rt,xt){let lt=[];return Object.entries(rt.children).forEach(([It,qt])=>{It===Qe&&(lt=lt.concat(xt(qt,It)))}),Object.entries(rt.children).forEach(([It,qt])=>{It!==Qe&&(lt=lt.concat(xt(qt,It)))}),lt}(rt,(It,qt)=>qt===Qe?[dn(rt.children[Qe],!1)]:[`${qt}:${dn(It,!1)}`]);return 1===Object.keys(rt.children).length&&null!=rt.children[Qe]?`${Vt(rt)}/${lt[0]}`:`${Vt(rt)}/(${lt.join("//")})`}}function Mn(rt){return encodeURIComponent(rt).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function En(rt){return Mn(rt).replace(/%3B/gi,";")}function jn(rt){return Mn(rt).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mn(rt){return decodeURIComponent(rt)}function pn(rt){return mn(rt.replace(/\+/g,"%20"))}function kt(rt){return`${jn(rt.path)}${function St(rt){return Object.entries(rt).map(([xt,lt])=>`;${jn(xt)}=${jn(lt)}`).join("")}(rt.parameters)}`}const hn=/^[^\/()?;#]+/;function An(rt){const xt=rt.match(hn);return xt?xt[0]:""}const Rr=/^[^\/()?;=#]+/,Nt=/^[^=?&#]+/,st=/^[^&#]+/;class sn{constructor(xt){this.url=xt,this.remaining=xt}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new b([],{}):new b([],this.parseChildren())}parseQueryParams(){const xt={};if(this.consumeOptional("?"))do{this.parseQueryParam(xt)}while(this.consumeOptional("&"));return xt}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const xt=[];for(this.peekStartsWith("(")||xt.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),xt.push(this.parseSegment());let lt={};this.peekStartsWith("/(")&&(this.capture("/"),lt=this.parseParens(!0));let It={};return this.peekStartsWith("(")&&(It=this.parseParens(!1)),(xt.length>0||Object.keys(lt).length>0)&&(It[Qe]=new b(xt,lt)),It}parseSegment(){const xt=An(this.remaining);if(""===xt&&this.peekStartsWith(";"))throw new h.wOt(4009,!1);return this.capture(xt),new z(mn(xt),this.parseMatrixParams())}parseMatrixParams(){const xt={};for(;this.consumeOptional(";");)this.parseParam(xt);return xt}parseParam(xt){const lt=function Tt(rt){const xt=rt.match(Rr);return xt?xt[0]:""}(this.remaining);if(!lt)return;this.capture(lt);let It="";if(this.consumeOptional("=")){const qt=An(this.remaining);qt&&(It=qt,this.capture(It))}xt[mn(lt)]=mn(It)}parseQueryParam(xt){const lt=function Lt(rt){const xt=rt.match(Nt);return xt?xt[0]:""}(this.remaining);if(!lt)return;this.capture(lt);let It="";if(this.consumeOptional("=")){const $n=function mt(rt){const xt=rt.match(st);return xt?xt[0]:""}(this.remaining);$n&&(It=$n,this.capture(It))}const qt=pn(lt),bn=pn(It);if(xt.hasOwnProperty(qt)){let $n=xt[qt];Array.isArray($n)||($n=[$n],xt[qt]=$n),$n.push(bn)}else xt[qt]=bn}parseParens(xt){const lt={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const It=An(this.remaining),qt=this.remaining[It.length];if("/"!==qt&&")"!==qt&&";"!==qt)throw new h.wOt(4010,!1);let bn;It.indexOf(":")>-1?(bn=It.slice(0,It.indexOf(":")),this.capture(bn),this.capture(":")):xt&&(bn=Qe);const $n=this.parseChildren();lt[bn]=1===Object.keys($n).length?$n[Qe]:new b([],$n),this.consumeOptional("//")}return lt}peekStartsWith(xt){return this.remaining.startsWith(xt)}consumeOptional(xt){return!!this.peekStartsWith(xt)&&(this.remaining=this.remaining.substring(xt.length),!0)}capture(xt){if(!this.consumeOptional(xt))throw new h.wOt(4011,!1)}}function Zt(rt){return rt.segments.length>0?new b([],{[Qe]:rt}):rt}function xn(rt){const xt={};for(const[It,qt]of Object.entries(rt.children)){const bn=xn(qt);if(It===Qe&&0===bn.segments.length&&bn.hasChildren())for(const[$n,Er]of Object.entries(bn.children))xt[$n]=Er;else(bn.segments.length>0||bn.hasChildren())&&(xt[It]=bn)}return function cr(rt){if(1===rt.numberOfChildren&&rt.children[Qe]){const xt=rt.children[Qe];return new b(rt.segments.concat(xt.segments),xt.children)}return rt}(new b(rt.segments,xt))}function kn(rt){return rt instanceof C}function qr(rt){let xt;const qt=Zt(function lt(bn){const $n={};for(const lr of bn.children){const ai=lt(lr);$n[lr.outlet]=ai}const Er=new b(bn.url,$n);return bn===rt&&(xt=Er),Er}(rt.root));return xt??qt}function pr(rt,xt,lt,It){let qt=rt;for(;qt.parent;)qt=qt.parent;if(0===xt.length)return dt(qt,qt,qt,lt,It);const bn=function Bt(rt){if("string"==typeof rt[0]&&1===rt.length&&"/"===rt[0])return new We(!0,0,rt);let xt=0,lt=!1;const It=rt.reduce((qt,bn,$n)=>{if("object"==typeof bn&&null!=bn){if(bn.outlets){const Er={};return Object.entries(bn.outlets).forEach(([lr,ai])=>{Er[lr]="string"==typeof ai?ai.split("/"):ai}),[...qt,{outlets:Er}]}if(bn.segmentPath)return[...qt,bn.segmentPath]}return"string"!=typeof bn?[...qt,bn]:0===$n?(bn.split("/").forEach((Er,lr)=>{0==lr&&"."===Er||(0==lr&&""===Er?lt=!0:".."===Er?xt++:""!=Er&&qt.push(Er))}),qt):[...qt,bn]},[]);return new We(lt,xt,It)}(xt);if(bn.toRoot())return dt(qt,qt,new b([],{}),lt,It);const $n=function Kn(rt,xt,lt){if(rt.isAbsolute)return new gn(xt,!0,0);if(!lt)return new gn(xt,!1,NaN);if(null===lt.parent)return new gn(lt,!0,0);const It=qn(rt.commands[0])?0:1;return function ir(rt,xt,lt){let It=rt,qt=xt,bn=lt;for(;bn>qt;){if(bn-=qt,It=It.parent,!It)throw new h.wOt(4005,!1);qt=It.segments.length}return new gn(It,!1,qt-bn)}(lt,lt.segments.length-1+It,rt.numberOfDoubleDots)}(bn,qt,rt),Er=$n.processChildren?Vr($n.segmentGroup,$n.index,bn.commands):Wr($n.segmentGroup,$n.index,bn.commands);return dt(qt,$n.segmentGroup,Er,lt,It)}function qn(rt){return"object"==typeof rt&&null!=rt&&!rt.outlets&&!rt.segmentPath}function Jt(rt){return"object"==typeof rt&&null!=rt&&rt.outlets}function dt(rt,xt,lt,It,qt){let $n,bn={};It&&Object.entries(It).forEach(([lr,ai])=>{bn[lr]=Array.isArray(ai)?ai.map(ho=>`${ho}`):`${ai}`}),$n=rt===xt?lt:Ne(rt,xt,lt);const Er=Zt(xn($n));return new C(Er,bn,qt)}function Ne(rt,xt,lt){const It={};return Object.entries(rt.children).forEach(([qt,bn])=>{It[qt]=bn===xt?lt:Ne(bn,xt,lt)}),new b(rt.segments,It)}class We{constructor(xt,lt,It){if(this.isAbsolute=xt,this.numberOfDoubleDots=lt,this.commands=It,xt&&It.length>0&&qn(It[0]))throw new h.wOt(4003,!1);const qt=It.find(Jt);if(qt&&qt!==fe(It))throw new h.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gn{constructor(xt,lt,It){this.segmentGroup=xt,this.processChildren=lt,this.index=It}}function Wr(rt,xt,lt){if(rt??=new b([],{}),0===rt.segments.length&&rt.hasChildren())return Vr(rt,xt,lt);const It=function ti(rt,xt,lt){let It=0,qt=xt;const bn={match:!1,pathIndex:0,commandIndex:0};for(;qt<rt.segments.length;){if(It>=lt.length)return bn;const $n=rt.segments[qt],Er=lt[It];if(Jt(Er))break;const lr=`${Er}`,ai=It<lt.length-1?lt[It+1]:null;if(qt>0&&void 0===lr)break;if(lr&&ai&&"object"==typeof ai&&void 0===ai.outlets){if(!Pn(lr,ai,$n))return bn;It+=2}else{if(!Pn(lr,{},$n))return bn;It++}qt++}return{match:!0,pathIndex:qt,commandIndex:It}}(rt,xt,lt),qt=lt.slice(It.commandIndex);if(It.match&&It.pathIndex<rt.segments.length){const bn=new b(rt.segments.slice(0,It.pathIndex),{});return bn.children[Qe]=new b(rt.segments.slice(It.pathIndex),rt.children),Vr(bn,0,qt)}return It.match&&0===qt.length?new b(rt.segments,{}):It.match&&!rt.hasChildren()?ni(rt,xt,lt):It.match?Vr(rt,0,qt):ni(rt,xt,lt)}function Vr(rt,xt,lt){if(0===lt.length)return new b(rt.segments,{});{const It=function hr(rt){return Jt(rt[0])?rt[0].outlets:{[Qe]:rt}}(lt),qt={};if(Object.keys(It).some(bn=>bn!==Qe)&&rt.children[Qe]&&1===rt.numberOfChildren&&0===rt.children[Qe].segments.length){const bn=Vr(rt.children[Qe],xt,lt);return new b(rt.segments,bn.children)}return Object.entries(It).forEach(([bn,$n])=>{"string"==typeof $n&&($n=[$n]),null!==$n&&(qt[bn]=Wr(rt.children[bn],xt,$n))}),Object.entries(rt.children).forEach(([bn,$n])=>{void 0===It[bn]&&(qt[bn]=$n)}),new b(rt.segments,qt)}}function ni(rt,xt,lt){const It=rt.segments.slice(0,xt);let qt=0;for(;qt<lt.length;){const bn=lt[qt];if(Jt(bn)){const lr=Ei(bn.outlets);return new b(It,lr)}if(0===qt&&qn(lt[0])){It.push(new z(rt.segments[xt].path,yn(lt[0]))),qt++;continue}const $n=Jt(bn)?bn.outlets[Qe]:`${bn}`,Er=qt<lt.length-1?lt[qt+1]:null;$n&&Er&&qn(Er)?(It.push(new z($n,yn(Er))),qt+=2):(It.push(new z($n,{})),qt++)}return new b(It,{})}function Ei(rt){const xt={};return Object.entries(rt).forEach(([lt,It])=>{"string"==typeof It&&(It=[It]),null!==It&&(xt[lt]=ni(new b([],{}),0,It))}),xt}function yn(rt){const xt={};return Object.entries(rt).forEach(([lt,It])=>xt[lt]=`${It}`),xt}function Pn(rt,xt,lt){return rt==lt.path&&Ee(xt,lt.parameters)}const Nn="imperative";var tr=function(rt){return rt[rt.NavigationStart=0]="NavigationStart",rt[rt.NavigationEnd=1]="NavigationEnd",rt[rt.NavigationCancel=2]="NavigationCancel",rt[rt.NavigationError=3]="NavigationError",rt[rt.RoutesRecognized=4]="RoutesRecognized",rt[rt.ResolveStart=5]="ResolveStart",rt[rt.ResolveEnd=6]="ResolveEnd",rt[rt.GuardsCheckStart=7]="GuardsCheckStart",rt[rt.GuardsCheckEnd=8]="GuardsCheckEnd",rt[rt.RouteConfigLoadStart=9]="RouteConfigLoadStart",rt[rt.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",rt[rt.ChildActivationStart=11]="ChildActivationStart",rt[rt.ChildActivationEnd=12]="ChildActivationEnd",rt[rt.ActivationStart=13]="ActivationStart",rt[rt.ActivationEnd=14]="ActivationEnd",rt[rt.Scroll=15]="Scroll",rt[rt.NavigationSkipped=16]="NavigationSkipped",rt}(tr||{});class Dr{constructor(xt,lt){this.id=xt,this.url=lt}}class Hr extends Dr{constructor(xt,lt,It="imperative",qt=null){super(xt,lt),this.type=tr.NavigationStart,this.navigationTrigger=It,this.restoredState=qt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ur extends Dr{constructor(xt,lt,It){super(xt,lt),this.urlAfterRedirects=It,this.type=tr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var li=function(rt){return rt[rt.Redirect=0]="Redirect",rt[rt.SupersededByNewNavigation=1]="SupersededByNewNavigation",rt[rt.NoDataFromResolver=2]="NoDataFromResolver",rt[rt.GuardRejected=3]="GuardRejected",rt}(li||{}),ui=function(rt){return rt[rt.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",rt[rt.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",rt}(ui||{});class Mi extends Dr{constructor(xt,lt,It,qt){super(xt,lt),this.reason=It,this.code=qt,this.type=tr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ls extends Dr{constructor(xt,lt,It,qt){super(xt,lt),this.reason=It,this.code=qt,this.type=tr.NavigationSkipped}}class Ji extends Dr{constructor(xt,lt,It,qt){super(xt,lt),this.error=It,this.target=qt,this.type=tr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bs extends Dr{constructor(xt,lt,It,qt){super(xt,lt),this.urlAfterRedirects=It,this.state=qt,this.type=tr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class As extends Dr{constructor(xt,lt,It,qt){super(xt,lt),this.urlAfterRedirects=It,this.state=qt,this.type=tr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Js extends Dr{constructor(xt,lt,It,qt,bn){super(xt,lt),this.urlAfterRedirects=It,this.state=qt,this.shouldActivate=bn,this.type=tr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Eo extends Dr{constructor(xt,lt,It,qt){super(xt,lt),this.urlAfterRedirects=It,this.state=qt,this.type=tr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qi extends Dr{constructor(xt,lt,It,qt){super(xt,lt),this.urlAfterRedirects=It,this.state=qt,this.type=tr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bo{constructor(xt){this.route=xt,this.type=tr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fc{constructor(xt){this.route=xt,this.type=tr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class co{constructor(xt){this.snapshot=xt,this.type=tr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ca{constructor(xt){this.snapshot=xt,this.type=tr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fa{constructor(xt){this.snapshot=xt,this.type=tr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ws{constructor(xt){this.snapshot=xt,this.type=tr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yo{constructor(xt,lt,It){this.routerEvent=xt,this.position=lt,this.anchor=It,this.type=tr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class la{}class nc{constructor(xt,lt){this.url=xt,this.navigationBehaviorOptions=lt}}function Mc(rt){return rt.outlet||Qe}function Ic(rt){if(!rt)return null;if(rt.routeConfig?._injector)return rt.routeConfig._injector;for(let xt=rt.parent;xt;xt=xt.parent){const lt=xt.routeConfig;if(lt?._loadedInjector)return lt._loadedInjector;if(lt?._injector)return lt._injector}return null}class fu{get injector(){return Ic(this.route?.snapshot)??this.rootInjector}set injector(xt){}constructor(xt){this.rootInjector=xt,this.outlet=null,this.route=null,this.children=new $d(this.rootInjector),this.attachRef=null}}let $d=(()=>{class rt{constructor(lt){this.rootInjector=lt,this.contexts=new Map}onChildOutletCreated(lt,It){const qt=this.getOrCreateContext(lt);qt.outlet=It,this.contexts.set(lt,qt)}onChildOutletDestroyed(lt){const It=this.getContext(lt);It&&(It.outlet=null,It.attachRef=null)}onOutletDeactivated(){const lt=this.contexts;return this.contexts=new Map,lt}onOutletReAttached(lt){this.contexts=lt}getOrCreateContext(lt){let It=this.getContext(lt);return It||(It=new fu(this.rootInjector),this.contexts.set(lt,It)),It}getContext(lt){return this.contexts.get(lt)||null}static#e=this.\u0275fac=function(It){return new(It||rt)(h.KVO(h.uvJ))};static#t=this.\u0275prov=h.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})();class Ol{constructor(xt){this._root=xt}get root(){return this._root.value}parent(xt){const lt=this.pathFromRoot(xt);return lt.length>1?lt[lt.length-2]:null}children(xt){const lt=rc(xt,this._root);return lt?lt.children.map(It=>It.value):[]}firstChild(xt){const lt=rc(xt,this._root);return lt&&lt.children.length>0?lt.children[0].value:null}siblings(xt){const lt=Wl(xt,this._root);return lt.length<2?[]:lt[lt.length-2].children.map(qt=>qt.value).filter(qt=>qt!==xt)}pathFromRoot(xt){return Wl(xt,this._root).map(lt=>lt.value)}}function rc(rt,xt){if(rt===xt.value)return xt;for(const lt of xt.children){const It=rc(rt,lt);if(It)return It}return null}function Wl(rt,xt){if(rt===xt.value)return[xt];for(const lt of xt.children){const It=Wl(rt,lt);if(It.length)return It.unshift(xt),It}return[]}class ic{constructor(xt,lt){this.value=xt,this.children=lt}toString(){return`TreeNode(${this.value})`}}function Ns(rt){const xt={};return rt&&rt.children.forEach(lt=>xt[lt.value.outlet]=lt),xt}class Kd extends Ol{constructor(xt,lt){super(xt),this.snapshot=lt,qs(this,xt)}toString(){return this.snapshot.toString()}}function Pl(rt){const xt=function Oi(rt){const bn=new xi([],{},{},"",{},Qe,rt,null,{});return new df("",new ic(bn,[]))}(rt),lt=new M.t([new z("",{})]),It=new M.t({}),qt=new M.t({}),bn=new M.t({}),$n=new M.t(""),Er=new Yo(lt,It,bn,$n,qt,Qe,rt,xt.root);return Er.snapshot=xt.root,new Kd(new ic(Er,[]),xt)}class Yo{constructor(xt,lt,It,qt,bn,$n,Er,lr){this.urlSubject=xt,this.paramsSubject=lt,this.queryParamsSubject=It,this.fragmentSubject=qt,this.dataSubject=bn,this.outlet=$n,this.component=Er,this._futureSnapshot=lr,this.title=this.dataSubject?.pipe((0,te.T)(ai=>ai[ke]))??(0,Y.of)(void 0),this.url=xt,this.params=lt,this.queryParams=It,this.fragment=qt,this.data=bn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,te.T)(xt=>Xe(xt))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,te.T)(xt=>Xe(xt))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ns(rt,xt,lt="emptyOnly"){let It;const{routeConfig:qt}=rt;return It=null===xt||"always"!==lt&&""!==qt?.path&&(xt.component||xt.routeConfig?.loadComponent)?{params:{...rt.params},data:{...rt.data},resolve:{...rt.data,...rt._resolvedData??{}}}:{params:{...xt.params,...rt.params},data:{...xt.data,...rt.data},resolve:{...rt.data,...xt.data,...qt?.data,...rt._resolvedData}},qt&&hu(qt)&&(It.resolve[ke]=qt.title),It}class xi{get title(){return this.data?.[ke]}constructor(xt,lt,It,qt,bn,$n,Er,lr,ai){this.url=xt,this.params=lt,this.queryParams=It,this.fragment=qt,this.data=bn,this.outlet=$n,this.component=Er,this.routeConfig=lr,this._resolve=ai}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xe(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xe(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(It=>It.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class df extends Ol{constructor(xt,lt){super(lt),this.url=xt,qs(this,lt)}toString(){return Gl(this._root)}}function qs(rt,xt){xt.value._routerState=rt,xt.children.forEach(lt=>qs(rt,lt))}function Gl(rt){const xt=rt.children.length>0?` { ${rt.children.map(Gl).join(", ")} } `:"";return`${rt.value}${xt}`}function vd(rt){if(rt.snapshot){const xt=rt.snapshot,lt=rt._futureSnapshot;rt.snapshot=lt,Ee(xt.queryParams,lt.queryParams)||rt.queryParamsSubject.next(lt.queryParams),xt.fragment!==lt.fragment&&rt.fragmentSubject.next(lt.fragment),Ee(xt.params,lt.params)||rt.paramsSubject.next(lt.params),function Le(rt,xt){if(rt.length!==xt.length)return!1;for(let lt=0;lt<rt.length;++lt)if(!Ee(rt[lt],xt[lt]))return!1;return!0}(xt.url,lt.url)||rt.urlSubject.next(lt.url),Ee(xt.data,lt.data)||rt.dataSubject.next(lt.data)}else rt.snapshot=rt._futureSnapshot,rt.dataSubject.next(rt._futureSnapshot.data)}function pa(rt,xt){const lt=Ee(rt.params,xt.params)&&function le(rt,xt){return Ae(rt,xt)&&rt.every((lt,It)=>Ee(lt.parameters,xt[It].parameters))}(rt.url,xt.url);return lt&&!(!rt.parent!=!xt.parent)&&(!rt.parent||pa(rt.parent,xt.parent))}function hu(rt){return"string"==typeof rt.title||null===rt.title}let vl=(()=>{class rt{constructor(){this.activated=null,this._activatedRoute=null,this.name=Qe,this.activateEvents=new h.bkB,this.deactivateEvents=new h.bkB,this.attachEvents=new h.bkB,this.detachEvents=new h.bkB,this.parentContexts=(0,h.WQX)($d),this.location=(0,h.WQX)(h.c1b),this.changeDetector=(0,h.WQX)(h.gRc),this.inputBinder=(0,h.WQX)(kr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(lt){if(lt.name){const{firstChange:It,previousValue:qt}=lt.name;if(It)return;this.isTrackedInParentContexts(qt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(qt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(lt){return this.parentContexts.getContext(lt)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const lt=this.parentContexts.getContext(this.name);lt?.route&&(lt.attachRef?this.attach(lt.attachRef,lt.route):this.activateWith(lt.route,lt.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.wOt(4012,!1);this.location.detach();const lt=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(lt.instance),lt}attach(lt,It){this.activated=lt,this._activatedRoute=It,this.location.insert(lt.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(lt.instance)}deactivate(){if(this.activated){const lt=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(lt)}}activateWith(lt,It){if(this.isActivated)throw new h.wOt(4013,!1);this._activatedRoute=lt;const qt=this.location,$n=lt.snapshot.component,Er=this.parentContexts.getOrCreateContext(this.name).children,lr=new qo(lt,Er,qt.injector);this.activated=qt.createComponent($n,{index:qt.length,injector:lr,environmentInjector:It}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275dir=h.FsC({type:rt,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.OA$]})}return rt})();class qo{__ngOutletInjector(xt){return new qo(this.route,this.childContexts,xt)}constructor(xt,lt,It){this.route=xt,this.childContexts=lt,this.parent=It}get(xt,lt){return xt===Yo?this.route:xt===$d?this.childContexts:this.parent.get(xt,lt)}}const kr=new h.nKC("");let lo=(()=>{class rt{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(lt){this.unsubscribeFromRouteData(lt),this.subscribeToRouteData(lt)}unsubscribeFromRouteData(lt){this.outletDataSubscriptions.get(lt)?.unsubscribe(),this.outletDataSubscriptions.delete(lt)}subscribeToRouteData(lt){const{activatedRoute:It}=lt,qt=(0,j.z)([It.queryParams,It.params,It.data]).pipe((0,ue.n)(([bn,$n,Er],lr)=>(Er={...bn,...$n,...Er},0===lr?(0,Y.of)(Er):Promise.resolve(Er)))).subscribe(bn=>{if(!lt.isActivated||!lt.activatedComponentRef||lt.activatedRoute!==It||null===It.component)return void this.unsubscribeFromRouteData(lt);const $n=(0,h.HJs)(It.component);if($n)for(const{templateName:Er}of $n.inputs)lt.activatedComponentRef.setInput(Er,bn[Er]);else this.unsubscribeFromRouteData(lt)});this.outletDataSubscriptions.set(lt,qt)}static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275prov=h.jDH({token:rt,factory:rt.\u0275fac})}return rt})();function ds(rt,xt,lt){if(lt&&rt.shouldReuseRoute(xt.value,lt.value.snapshot)){const It=lt.value;It._futureSnapshot=xt.value;const qt=function oc(rt,xt,lt){return xt.children.map(It=>{for(const qt of lt.children)if(rt.shouldReuseRoute(It.value,qt.value.snapshot))return ds(rt,It,qt);return ds(rt,It)})}(rt,xt,lt);return new ic(It,qt)}{if(rt.shouldAttach(xt.value)){const bn=rt.retrieve(xt.value);if(null!==bn){const $n=bn.route;return $n.value._futureSnapshot=xt.value,$n.children=xt.children.map(Er=>ds(rt,Er)),$n}}const It=function Ea(rt){return new Yo(new M.t(rt.url),new M.t(rt.params),new M.t(rt.queryParams),new M.t(rt.fragment),new M.t(rt.data),rt.outlet,rt.component,rt)}(xt.value),qt=xt.children.map(bn=>ds(rt,bn));return new ic(It,qt)}}class bd{constructor(xt,lt){this.redirectTo=xt,this.navigationBehaviorOptions=lt}}const ko="ngNavigationCancelingError";function Tc(rt,xt){const{redirectTo:lt,navigationBehaviorOptions:It}=kn(xt)?{redirectTo:xt,navigationBehaviorOptions:void 0}:xt,qt=ro(!1,li.Redirect);return qt.url=lt,qt.navigationBehaviorOptions=It,qt}function ro(rt,xt){const lt=new Error(`NavigationCancelingError: ${rt||""}`);return lt[ko]=!0,lt.cancellationCode=xt,lt}function zi(rt){return!!rt&&rt[ko]}class Xl{constructor(xt,lt,It,qt,bn){this.routeReuseStrategy=xt,this.futureState=lt,this.currState=It,this.forwardEvent=qt,this.inputBindingEnabled=bn}activate(xt){const lt=this.futureState._root,It=this.currState?this.currState._root:null;this.deactivateChildRoutes(lt,It,xt),vd(this.futureState.root),this.activateChildRoutes(lt,It,xt)}deactivateChildRoutes(xt,lt,It){const qt=Ns(lt);xt.children.forEach(bn=>{const $n=bn.value.outlet;this.deactivateRoutes(bn,qt[$n],It),delete qt[$n]}),Object.values(qt).forEach(bn=>{this.deactivateRouteAndItsChildren(bn,It)})}deactivateRoutes(xt,lt,It){const qt=xt.value,bn=lt?lt.value:null;if(qt===bn)if(qt.component){const $n=It.getContext(qt.outlet);$n&&this.deactivateChildRoutes(xt,lt,$n.children)}else this.deactivateChildRoutes(xt,lt,It);else bn&&this.deactivateRouteAndItsChildren(lt,It)}deactivateRouteAndItsChildren(xt,lt){xt.value.component&&this.routeReuseStrategy.shouldDetach(xt.value.snapshot)?this.detachAndStoreRouteSubtree(xt,lt):this.deactivateRouteAndOutlet(xt,lt)}detachAndStoreRouteSubtree(xt,lt){const It=lt.getContext(xt.value.outlet),qt=It&&xt.value.component?It.children:lt,bn=Ns(xt);for(const $n of Object.values(bn))this.deactivateRouteAndItsChildren($n,qt);if(It&&It.outlet){const $n=It.outlet.detach(),Er=It.children.onOutletDeactivated();this.routeReuseStrategy.store(xt.value.snapshot,{componentRef:$n,route:xt,contexts:Er})}}deactivateRouteAndOutlet(xt,lt){const It=lt.getContext(xt.value.outlet),qt=It&&xt.value.component?It.children:lt,bn=Ns(xt);for(const $n of Object.values(bn))this.deactivateRouteAndItsChildren($n,qt);It&&(It.outlet&&(It.outlet.deactivate(),It.children.onOutletDeactivated()),It.attachRef=null,It.route=null)}activateChildRoutes(xt,lt,It){const qt=Ns(lt);xt.children.forEach(bn=>{this.activateRoutes(bn,qt[bn.value.outlet],It),this.forwardEvent(new ws(bn.value.snapshot))}),xt.children.length&&this.forwardEvent(new ca(xt.value.snapshot))}activateRoutes(xt,lt,It){const qt=xt.value,bn=lt?lt.value:null;if(vd(qt),qt===bn)if(qt.component){const $n=It.getOrCreateContext(qt.outlet);this.activateChildRoutes(xt,lt,$n.children)}else this.activateChildRoutes(xt,lt,It);else if(qt.component){const $n=It.getOrCreateContext(qt.outlet);if(this.routeReuseStrategy.shouldAttach(qt.snapshot)){const Er=this.routeReuseStrategy.retrieve(qt.snapshot);this.routeReuseStrategy.store(qt.snapshot,null),$n.children.onOutletReAttached(Er.contexts),$n.attachRef=Er.componentRef,$n.route=Er.route.value,$n.outlet&&$n.outlet.attach(Er.componentRef,Er.route.value),vd(Er.route.value),this.activateChildRoutes(xt,null,$n.children)}else $n.attachRef=null,$n.route=qt,$n.outlet&&$n.outlet.activateWith(qt,$n.injector),this.activateChildRoutes(xt,null,$n.children)}else this.activateChildRoutes(xt,null,It)}}class wi{constructor(xt){this.path=xt,this.route=this.path[this.path.length-1]}}class Uc{constructor(xt,lt){this.component=xt,this.route=lt}}function Ca(rt,xt,lt){const It=rt._root;return Li(It,xt?xt._root:null,lt,[It.value])}function ju(rt,xt){const lt=Symbol(),It=xt.get(rt,lt);return It===lt?"function"!=typeof rt||(0,h.LfX)(rt)?xt.get(rt):rt:It}function Li(rt,xt,lt,It,qt={canDeactivateChecks:[],canActivateChecks:[]}){const bn=Ns(xt);return rt.children.forEach($n=>{(function uf(rt,xt,lt,It,qt={canDeactivateChecks:[],canActivateChecks:[]}){const bn=rt.value,$n=xt?xt.value:null,Er=lt?lt.getContext(rt.value.outlet):null;if($n&&bn.routeConfig===$n.routeConfig){const lr=function Ma(rt,xt,lt){if("function"==typeof lt)return lt(rt,xt);switch(lt){case"pathParamsChange":return!Ae(rt.url,xt.url);case"pathParamsOrQueryParamsChange":return!Ae(rt.url,xt.url)||!Ee(rt.queryParams,xt.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pa(rt,xt)||!Ee(rt.queryParams,xt.queryParams);default:return!pa(rt,xt)}}($n,bn,bn.routeConfig.runGuardsAndResolvers);lr?qt.canActivateChecks.push(new wi(It)):(bn.data=$n.data,bn._resolvedData=$n._resolvedData),Li(rt,xt,bn.component?Er?Er.children:null:lt,It,qt),lr&&Er&&Er.outlet&&Er.outlet.isActivated&&qt.canDeactivateChecks.push(new Uc(Er.outlet.component,$n))}else $n&&pu(xt,Er,qt),qt.canActivateChecks.push(new wi(It)),Li(rt,null,bn.component?Er?Er.children:null:lt,It,qt)})($n,bn[$n.value.outlet],lt,It.concat([$n.value]),qt),delete bn[$n.value.outlet]}),Object.entries(bn).forEach(([$n,Er])=>pu(Er,lt.getContext($n),qt)),qt}function pu(rt,xt,lt){const It=Ns(rt),qt=rt.value;Object.entries(It).forEach(([bn,$n])=>{pu($n,qt.component?xt?xt.children.getContext(bn):null:xt,lt)}),lt.canDeactivateChecks.push(new Uc(qt.component&&xt&&xt.outlet&&xt.outlet.isActivated?xt.outlet.component:null,qt))}function Vd(rt){return"function"==typeof rt}function Hi(rt){return rt instanceof U||"EmptyError"===rt?.name}const _d=Symbol("INITIAL_VALUE");function zt(){return(0,ue.n)(rt=>(0,j.z)(rt.map(xt=>xt.pipe((0,pe.s)(1),(0,he.Z)(_d)))).pipe((0,te.T)(xt=>{for(const lt of xt)if(!0!==lt){if(lt===_d)return _d;if(!1===lt||en(lt))return lt}return!0}),(0,ve.p)(xt=>xt!==_d),(0,pe.s)(1)))}function en(rt){return kn(rt)||rt instanceof bd}function $f(rt){return(0,P.F)((0,D.M)(xt=>{if("boolean"!=typeof xt)throw Tc(0,xt)}),(0,te.T)(xt=>!0===xt))}class Dc{constructor(xt){this.segmentGroup=xt||null}}class os extends Error{constructor(xt){super(),this.urlTree=xt}}function kl(rt){return(0,ee.$)(new Dc(rt))}class ma{constructor(xt,lt){this.urlSerializer=xt,this.urlTree=lt}lineralizeSegments(xt,lt){let It=[],qt=lt.root;for(;;){if(It=It.concat(qt.segments),0===qt.numberOfChildren)return(0,Y.of)(It);if(qt.numberOfChildren>1||!qt.children[Qe])return(0,ee.$)(new h.wOt(4e3,!1));qt=qt.children[Qe]}}applyRedirectCommands(xt,lt,It,qt,bn){if("string"!=typeof lt){const Er=lt,{queryParams:lr,fragment:ai,routeConfig:ho,url:xo,outlet:$i,params:xa,data:da,title:Rc}=qt,Wi=(0,h.N4e)(bn,()=>Er({params:xa,data:da,queryParams:lr,fragment:ai,routeConfig:ho,url:xo,outlet:$i,title:Rc}));if(Wi instanceof C)throw new os(Wi);lt=Wi}const $n=this.applyRedirectCreateUrlTree(lt,this.urlSerializer.parse(lt),xt,It);if("/"===lt[0])throw new os($n);return $n}applyRedirectCreateUrlTree(xt,lt,It,qt){const bn=this.createSegmentGroup(xt,lt.root,It,qt);return new C(bn,this.createQueryParams(lt.queryParams,this.urlTree.queryParams),lt.fragment)}createQueryParams(xt,lt){const It={};return Object.entries(xt).forEach(([qt,bn])=>{if("string"==typeof bn&&":"===bn[0]){const Er=bn.substring(1);It[qt]=lt[Er]}else It[qt]=bn}),It}createSegmentGroup(xt,lt,It,qt){const bn=this.createSegments(xt,lt.segments,It,qt);let $n={};return Object.entries(lt.children).forEach(([Er,lr])=>{$n[Er]=this.createSegmentGroup(xt,lr,It,qt)}),new b(bn,$n)}createSegments(xt,lt,It,qt){return lt.map(bn=>":"===bn.path[0]?this.findPosParam(xt,bn,qt):this.findOrReturn(bn,It))}findPosParam(xt,lt,It){const qt=It[lt.path.substring(1)];if(!qt)throw new h.wOt(4001,!1);return qt}findOrReturn(xt,lt){let It=0;for(const qt of lt){if(qt.path===xt.path)return lt.splice(It),qt;It++}return xt}}const il={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bl(rt,xt,lt,It,qt){const bn=Ed(rt,xt,lt);return bn.matched?(It=function gd(rt,xt){return rt.providers&&!rt._injector&&(rt._injector=(0,h.Ol2)(rt.providers,xt,`Route: ${rt.path}`)),rt._injector??xt}(xt,It),function Jh(rt,xt,lt,It){const qt=xt.canMatch;if(!qt||0===qt.length)return(0,Y.of)(!0);const bn=qt.map($n=>{const Er=ju($n,rt);return we(function jf(rt){return rt&&Vd(rt.canMatch)}(Er)?Er.canMatch(xt,lt):(0,h.N4e)(rt,()=>Er(xt,lt)))});return(0,Y.of)(bn).pipe(zt(),$f())}(It,xt,lt).pipe((0,te.T)($n=>!0===$n?bn:{...il}))):(0,Y.of)(bn)}function Ed(rt,xt,lt){if("**"===xt.path)return function Ka(rt){return{matched:!0,parameters:rt.length>0?fe(rt).parameters:{},consumedSegments:rt,remainingSegments:[],positionalParamSegments:{}}}(lt);if(""===xt.path)return"full"===xt.pathMatch&&(rt.hasChildren()||lt.length>0)?{...il}:{matched:!0,consumedSegments:[],remainingSegments:lt,parameters:{},positionalParamSegments:{}};const qt=(xt.matcher||Se)(lt,rt,xt);if(!qt)return{...il};const bn={};Object.entries(qt.posParams??{}).forEach(([Er,lr])=>{bn[Er]=lr.path});const $n=qt.consumed.length>0?{...bn,...qt.consumed[qt.consumed.length-1].parameters}:bn;return{matched:!0,consumedSegments:qt.consumed,remainingSegments:lt.slice(qt.consumed.length),parameters:$n,positionalParamSegments:qt.posParams??{}}}function xd(rt,xt,lt,It){return lt.length>0&&function _s(rt,xt,lt){return lt.some(It=>jc(rt,xt,It)&&Mc(It)!==Qe)}(rt,lt,It)?{segmentGroup:new b(xt,go(It,new b(lt,rt.children))),slicedSegments:[]}:0===lt.length&&function Kf(rt,xt,lt){return lt.some(It=>jc(rt,xt,It))}(rt,lt,It)?{segmentGroup:new b(rt.segments,Di(rt,lt,It,rt.children)),slicedSegments:lt}:{segmentGroup:new b(rt.segments,rt.children),slicedSegments:lt}}function Di(rt,xt,lt,It){const qt={};for(const bn of lt)if(jc(rt,xt,bn)&&!It[Mc(bn)]){const $n=new b([],{});qt[Mc(bn)]=$n}return{...It,...qt}}function go(rt,xt){const lt={};lt[Qe]=xt;for(const It of rt)if(""===It.path&&Mc(It)!==Qe){const qt=new b([],{});lt[Mc(It)]=qt}return lt}function jc(rt,xt,lt){return(!(rt.hasChildren()||xt.length>0)||"full"!==lt.pathMatch)&&""===lt.path}class Rp{}class Op{constructor(xt,lt,It,qt,bn,$n,Er){this.injector=xt,this.configLoader=lt,this.rootComponentType=It,this.config=qt,this.urlTree=bn,this.paramsInheritanceStrategy=$n,this.urlSerializer=Er,this.applyRedirects=new ma(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(xt){return new h.wOt(4002,`'${xt.segmentGroup}'`)}recognize(){const xt=xd(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(xt).pipe((0,te.T)(({children:lt,rootSnapshot:It})=>{const qt=new ic(It,lt),bn=new df("",qt),$n=function zn(rt,xt,lt=null,It=null){return pr(qr(rt),xt,lt,It)}(It,[],this.urlTree.queryParams,this.urlTree.fragment);return $n.queryParams=this.urlTree.queryParams,bn.url=this.urlSerializer.serialize($n),{state:bn,tree:$n}}))}match(xt){const lt=new xi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Qe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,xt,Qe,lt).pipe((0,te.T)(It=>({children:It,rootSnapshot:lt})),(0,O.W)(It=>{if(It instanceof os)return this.urlTree=It.urlTree,this.match(It.urlTree.root);throw It instanceof Dc?this.noMatchError(It):It}))}processSegmentGroup(xt,lt,It,qt,bn){return 0===It.segments.length&&It.hasChildren()?this.processChildren(xt,lt,It,bn):this.processSegment(xt,lt,It,It.segments,qt,!0,bn).pipe((0,te.T)($n=>$n instanceof ic?[$n]:[]))}processChildren(xt,lt,It,qt){const bn=[];for(const $n of Object.keys(It.children))"primary"===$n?bn.unshift($n):bn.push($n);return(0,N.H)(bn).pipe((0,_.H)($n=>{const Er=It.children[$n],lr=function gl(rt,xt){const lt=rt.filter(It=>Mc(It)===xt);return lt.push(...rt.filter(It=>Mc(It)!==xt)),lt}(lt,$n);return this.processSegmentGroup(xt,lr,Er,$n,qt)}),function T(rt,xt){return(0,Me.N)(function $(rt,xt,lt,It,qt){return(bn,$n)=>{let Er=lt,lr=xt,ai=0;bn.subscribe((0,Oe._)($n,ho=>{const xo=ai++;lr=Er?rt(lr,ho,xo):(Er=!0,ho),It&&$n.next(lr)},qt&&(()=>{Er&&$n.next(lr),$n.complete()})))}}(rt,xt,arguments.length>=2,!0))}(($n,Er)=>($n.push(...Er),$n)),je(null),function E(rt,xt){const lt=arguments.length>=2;return It=>It.pipe(rt?(0,ve.p)((qt,bn)=>rt(qt,bn,It)):f.D,c(1),lt?je(xt):B(()=>new U))}(),(0,ge.Z)($n=>{if(null===$n)return kl(It);const Er=Va($n);return function gm(rt){rt.sort((xt,lt)=>xt.value.outlet===Qe?-1:lt.value.outlet===Qe?1:xt.value.outlet.localeCompare(lt.value.outlet))}(Er),(0,Y.of)(Er)}))}processSegment(xt,lt,It,qt,bn,$n,Er){return(0,N.H)(lt).pipe((0,_.H)(lr=>this.processSegmentAgainstRoute(lr._injector??xt,lt,lr,It,qt,bn,$n,Er).pipe((0,O.W)(ai=>{if(ai instanceof Dc)return(0,Y.of)(null);throw ai}))),w(lr=>!!lr),(0,O.W)(lr=>{if(Hi(lr))return function Nl(rt,xt,lt){return 0===xt.length&&!rt.children[lt]}(It,qt,bn)?(0,Y.of)(new Rp):kl(It);throw lr}))}processSegmentAgainstRoute(xt,lt,It,qt,bn,$n,Er,lr){return function $u(rt,xt,lt,It){return!!(Mc(rt)===It||It!==Qe&&jc(xt,lt,rt))&&Ed(xt,rt,lt).matched}(It,qt,bn,$n)?void 0===It.redirectTo?this.matchSegmentAgainstRoute(xt,qt,It,bn,$n,lr):this.allowRedirects&&Er?this.expandSegmentAgainstRouteUsingRedirect(xt,qt,lt,It,bn,$n,lr):kl(qt):kl(qt)}expandSegmentAgainstRouteUsingRedirect(xt,lt,It,qt,bn,$n,Er){const{matched:lr,parameters:ai,consumedSegments:ho,positionalParamSegments:xo,remainingSegments:$i}=Ed(lt,qt,bn);if(!lr)return kl(lt);"string"==typeof qt.redirectTo&&"/"===qt.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const xa=new xi(bn,ai,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ff(qt),Mc(qt),qt.component??qt._loadedComponent??null,qt,zf(qt)),da=ns(xa,Er,this.paramsInheritanceStrategy);xa.params=Object.freeze(da.params),xa.data=Object.freeze(da.data);const Rc=this.applyRedirects.applyRedirectCommands(ho,qt.redirectTo,xo,xa,xt);return this.applyRedirects.lineralizeSegments(qt,Rc).pipe((0,ge.Z)(Wi=>this.processSegment(xt,It,lt,Wi.concat($i),$n,!1,Er)))}matchSegmentAgainstRoute(xt,lt,It,qt,bn,$n){const Er=Bl(lt,It,qt,xt);return"**"===It.path&&(lt.children={}),Er.pipe((0,ue.n)(lr=>lr.matched?this.getChildConfig(xt=It._injector??xt,It,qt).pipe((0,ue.n)(({routes:ai})=>{const ho=It._loadedInjector??xt,{parameters:xo,consumedSegments:$i,remainingSegments:xa}=lr,da=new xi($i,xo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ff(It),Mc(It),It.component??It._loadedComponent??null,It,zf(It)),Rc=ns(da,$n,this.paramsInheritanceStrategy);da.params=Object.freeze(Rc.params),da.data=Object.freeze(Rc.data);const{segmentGroup:Wi,slicedSegments:Da}=xd(lt,$i,xa,ai);if(0===Da.length&&Wi.hasChildren())return this.processChildren(ho,ai,Wi,da).pipe((0,te.T)(Pp=>new ic(da,Pp)));if(0===ai.length&&0===Da.length)return(0,Y.of)(new ic(da,[]));const Iv=Mc(It)===bn;return this.processSegment(ho,ai,Wi,Da,Iv?Qe:bn,!0,da).pipe((0,te.T)(Pp=>new ic(da,Pp instanceof ic?[Pp]:[])))})):kl(lt)))}getChildConfig(xt,lt,It){return lt.children?(0,Y.of)({routes:lt.children,injector:xt}):lt.loadChildren?void 0!==lt._loadedRoutes?(0,Y.of)({routes:lt._loadedRoutes,injector:lt._loadedInjector}):function zd(rt,xt,lt,It){const qt=xt.canLoad;if(void 0===qt||0===qt.length)return(0,Y.of)(!0);const bn=qt.map($n=>{const Er=ju($n,rt);return we(function wd(rt){return rt&&Vd(rt.canLoad)}(Er)?Er.canLoad(xt,lt):(0,h.N4e)(rt,()=>Er(xt,lt)))});return(0,Y.of)(bn).pipe(zt(),$f())}(xt,lt,It).pipe((0,ge.Z)(qt=>qt?this.configLoader.loadChildren(xt,lt).pipe((0,D.M)(bn=>{lt._loadedRoutes=bn.routes,lt._loadedInjector=bn.injector})):function $a(rt){return(0,ee.$)(ro(!1,li.GuardRejected))}())):(0,Y.of)({routes:[],injector:xt})}}function Vf(rt){const xt=rt.value.routeConfig;return xt&&""===xt.path}function Va(rt){const xt=[],lt=new Set;for(const It of rt){if(!Vf(It)){xt.push(It);continue}const qt=xt.find(bn=>It.value.routeConfig===bn.value.routeConfig);void 0!==qt?(qt.children.push(...It.children),lt.add(qt)):xt.push(It)}for(const It of lt){const qt=Va(It.children);xt.push(new ic(It.value,qt))}return xt.filter(It=>!lt.has(It))}function ff(rt){return rt.data||{}}function zf(rt){return rt.resolve||{}}function pf(rt){const xt=rt.children.map(lt=>pf(lt)).flat();return[rt,...xt]}function Is(rt){return(0,ue.n)(xt=>{const lt=rt(xt);return lt?(0,N.H)(lt).pipe((0,te.T)(()=>xt)):(0,Y.of)(xt)})}let ph=(()=>{class rt{buildTitle(lt){let It,qt=lt.root;for(;void 0!==qt;)It=this.getResolvedTitleForRoute(qt)??It,qt=qt.children.find(bn=>bn.outlet===Qe);return It}getResolvedTitleForRoute(lt){return lt.data[ke]}static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275prov=h.jDH({token:rt,factory:()=>(0,h.WQX)(Xc),providedIn:"root"})}return rt})(),Xc=(()=>{class rt extends ph{constructor(lt){super(),this.title=lt}updateTitle(lt){const It=this.buildTitle(lt);void 0!==It&&this.title.setTitle(It)}static#e=this.\u0275fac=function(It){return new(It||rt)(h.KVO(Ke.hE))};static#t=this.\u0275prov=h.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})();const Ad=new h.nKC("",{providedIn:"root",factory:()=>({})});let rs=(()=>{class rt{static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275cmp=h.VBU({type:rt,selectors:[["ng-component"]],standalone:!0,features:[h.aNF],decls:1,vars:0,template:function(It,qt){1&It&&h.nrm(0,"router-outlet")},dependencies:[vl],encapsulation:2})}return rt})();function To(rt){const xt=rt.children&&rt.children.map(To),lt=xt?{...rt,children:xt}:{...rt};return!lt.component&&!lt.loadComponent&&(xt||lt.loadChildren)&&lt.outlet&&lt.outlet!==Qe&&(lt.component=rs),lt}const bl=new h.nKC("");let wl=(()=>{class rt{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.WQX)(h.Ql9)}loadComponent(lt){if(this.componentLoaders.get(lt))return this.componentLoaders.get(lt);if(lt._loadedComponent)return(0,Y.of)(lt._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(lt);const It=we(lt.loadComponent()).pipe((0,te.T)(Ll),(0,D.M)(bn=>{this.onLoadEndListener&&this.onLoadEndListener(lt),lt._loadedComponent=bn}),(0,X.j)(()=>{this.componentLoaders.delete(lt)})),qt=new Q.G(It,()=>new de.B).pipe((0,ce.B)());return this.componentLoaders.set(lt,qt),qt}loadChildren(lt,It){if(this.childrenLoaders.get(It))return this.childrenLoaders.get(It);if(It._loadedRoutes)return(0,Y.of)({routes:It._loadedRoutes,injector:It._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(It);const bn=function ii(rt,xt,lt,It){return we(rt.loadChildren()).pipe((0,te.T)(Ll),(0,ge.Z)(qt=>qt instanceof h.Co$||Array.isArray(qt)?(0,Y.of)(qt):(0,N.H)(xt.compileModuleAsync(qt))),(0,te.T)(qt=>{It&&It(rt);let bn,$n,Er=!1;return Array.isArray(qt)?($n=qt,!0):(bn=qt.create(lt).injector,$n=bn.get(bl,[],{optional:!0,self:!0}).flat()),{routes:$n.map(To),injector:bn}}))}(It,this.compiler,lt,this.onLoadEndListener).pipe((0,X.j)(()=>{this.childrenLoaders.delete(It)})),$n=new Q.G(bn,()=>new de.B).pipe((0,ce.B)());return this.childrenLoaders.set(It,$n),$n}static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275prov=h.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})();function Ll(rt){return function yu(rt){return rt&&"object"==typeof rt&&"default"in rt}(rt)?rt.default:rt}let Hf=(()=>{class rt{static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275prov=h.jDH({token:rt,factory:()=>(0,h.WQX)(mh),providedIn:"root"})}return rt})(),mh=(()=>{class rt{shouldProcessUrl(lt){return!0}extract(lt){return lt}merge(lt,It){return lt}static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275prov=h.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})();const yh=new h.nKC(""),gt=new h.nKC("");function fn(rt,xt,lt){const It=rt.get(gt),qt=rt.get(re.qQ);return rt.get(h.SKi).runOutsideAngular(()=>{if(!qt.startViewTransition||It.skipNextTransition)return It.skipNextTransition=!1,new Promise(ai=>setTimeout(ai));let bn;const $n=new Promise(ai=>{bn=ai}),Er=qt.startViewTransition(()=>(bn(),function Ut(rt){return new Promise(xt=>{(0,h.mal)({read:()=>setTimeout(xt)},{injector:rt})})}(rt))),{onViewTransitionCreated:lr}=It;return lr&&(0,h.N4e)(rt,()=>lr({transition:Er,from:xt,to:lt})),$n})}const nn=new h.nKC("");let Fn=(()=>{class rt{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new de.B,this.transitionAbortSubject=new de.B,this.configLoader=(0,h.WQX)(wl),this.environmentInjector=(0,h.WQX)(h.uvJ),this.urlSerializer=(0,h.WQX)(ft),this.rootContexts=(0,h.WQX)($d),this.location=(0,h.WQX)(re.aZ),this.inputBindingEnabled=null!==(0,h.WQX)(kr,{optional:!0}),this.titleStrategy=(0,h.WQX)(ph),this.options=(0,h.WQX)(Ad,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,h.WQX)(Hf),this.createViewTransition=(0,h.WQX)(yh,{optional:!0}),this.navigationErrorHandler=(0,h.WQX)(nn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Y.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=qt=>this.events.next(new Fc(qt)),this.configLoader.onLoadStartListener=qt=>this.events.next(new bo(qt))}complete(){this.transitions?.complete()}handleNavigationRequest(lt){const It=++this.navigationId;this.transitions?.next({...this.transitions.value,...lt,id:It})}setupNavigations(lt,It,qt){return this.transitions=new M.t({id:0,currentUrlTree:It,currentRawUrl:It,extractedUrl:this.urlHandlingStrategy.extract(It),urlAfterRedirects:this.urlHandlingStrategy.extract(It),rawUrl:It,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Nn,restoredState:null,currentSnapshot:qt.snapshot,targetSnapshot:null,currentRouterState:qt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ve.p)(bn=>0!==bn.id),(0,te.T)(bn=>({...bn,extractedUrl:this.urlHandlingStrategy.extract(bn.rawUrl)})),(0,ue.n)(bn=>{let $n=!1,Er=!1;return(0,Y.of)(bn).pipe((0,ue.n)(lr=>{if(this.navigationId>bn.id)return this.cancelNavigationTransition(bn,"",li.SupersededByNewNavigation),W.w;this.currentTransition=bn,this.currentNavigation={id:lr.id,initialUrl:lr.rawUrl,extractedUrl:lr.extractedUrl,targetBrowserUrl:"string"==typeof lr.extras.browserUrl?this.urlSerializer.parse(lr.extras.browserUrl):lr.extras.browserUrl,trigger:lr.source,extras:lr.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const ai=!lt.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!ai&&"reload"!==(lr.extras.onSameUrlNavigation??lt.onSameUrlNavigation)){const xo="";return this.events.next(new ls(lr.id,this.urlSerializer.serialize(lr.rawUrl),xo,ui.IgnoredSameUrlNavigation)),lr.resolve(!1),W.w}if(this.urlHandlingStrategy.shouldProcessUrl(lr.rawUrl))return(0,Y.of)(lr).pipe((0,ue.n)(xo=>{const $i=this.transitions?.getValue();return this.events.next(new Hr(xo.id,this.urlSerializer.serialize(xo.extractedUrl),xo.source,xo.restoredState)),$i!==this.transitions?.getValue()?W.w:Promise.resolve(xo)}),function Ls(rt,xt,lt,It,qt,bn){return(0,ge.Z)($n=>function Sd(rt,xt,lt,It,qt,bn,$n="emptyOnly"){return new Op(rt,xt,lt,It,qt,$n,bn).recognize()}(rt,xt,lt,It,$n.extractedUrl,qt,bn).pipe((0,te.T)(({state:Er,tree:lr})=>({...$n,targetSnapshot:Er,urlAfterRedirects:lr}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,lt.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,D.M)(xo=>{bn.targetSnapshot=xo.targetSnapshot,bn.urlAfterRedirects=xo.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:xo.urlAfterRedirects};const $i=new bs(xo.id,this.urlSerializer.serialize(xo.extractedUrl),this.urlSerializer.serialize(xo.urlAfterRedirects),xo.targetSnapshot);this.events.next($i)}));if(ai&&this.urlHandlingStrategy.shouldProcessUrl(lr.currentRawUrl)){const{id:xo,extractedUrl:$i,source:xa,restoredState:da,extras:Rc}=lr,Wi=new Hr(xo,this.urlSerializer.serialize($i),xa,da);this.events.next(Wi);const Da=Pl(this.rootComponentType).snapshot;return this.currentTransition=bn={...lr,targetSnapshot:Da,urlAfterRedirects:$i,extras:{...Rc,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=$i,(0,Y.of)(bn)}{const xo="";return this.events.next(new ls(lr.id,this.urlSerializer.serialize(lr.extractedUrl),xo,ui.IgnoredByUrlHandlingStrategy)),lr.resolve(!1),W.w}}),(0,D.M)(lr=>{const ai=new As(lr.id,this.urlSerializer.serialize(lr.extractedUrl),this.urlSerializer.serialize(lr.urlAfterRedirects),lr.targetSnapshot);this.events.next(ai)}),(0,te.T)(lr=>(this.currentTransition=bn={...lr,guards:Ca(lr.targetSnapshot,lr.currentSnapshot,this.rootContexts)},bn)),function Ot(rt,xt){return(0,ge.Z)(lt=>{const{targetSnapshot:It,currentSnapshot:qt,guards:{canActivateChecks:bn,canDeactivateChecks:$n}}=lt;return 0===$n.length&&0===bn.length?(0,Y.of)({...lt,guardsResult:!0}):function Gt(rt,xt,lt,It){return(0,N.H)(rt).pipe((0,ge.Z)(qt=>function ja(rt,xt,lt,It,qt){const bn=xt&&xt.routeConfig?xt.routeConfig.canDeactivate:null;if(!bn||0===bn.length)return(0,Y.of)(!0);const $n=bn.map(Er=>{const lr=Ic(xt)??qt,ai=ju(Er,lr);return we(function No(rt){return rt&&Vd(rt.canDeactivate)}(ai)?ai.canDeactivate(rt,xt,lt,It):(0,h.N4e)(lr,()=>ai(rt,xt,lt,It))).pipe(w())});return(0,Y.of)($n).pipe(zt())}(qt.component,qt.route,lt,xt,It)),w(qt=>!0!==qt,!0))}($n,It,qt,rt).pipe((0,ge.Z)(Er=>Er&&function Fi(rt){return"boolean"==typeof rt}(Er)?function Gn(rt,xt,lt,It){return(0,N.H)(xt).pipe((0,_.H)(qt=>(0,H.x)(function wo(rt,xt){return null!==rt&&xt&&xt(new co(rt)),(0,Y.of)(!0)}(qt.route.parent,It),function vi(rt,xt){return null!==rt&&xt&&xt(new Fa(rt)),(0,Y.of)(!0)}(qt.route,It),function ki(rt,xt,lt){const It=xt[xt.length-1],bn=xt.slice(0,xt.length-1).reverse().map($n=>function jr(rt){const xt=rt.routeConfig?rt.routeConfig.canActivateChild:null;return xt&&0!==xt.length?{node:rt,guards:xt}:null}($n)).filter($n=>null!==$n).map($n=>(0,V.v)(()=>{const Er=$n.guards.map(lr=>{const ai=Ic($n.node)??lt,ho=ju(lr,ai);return we(function Uf(rt){return rt&&Vd(rt.canActivateChild)}(ho)?ho.canActivateChild(It,rt):(0,h.N4e)(ai,()=>ho(It,rt))).pipe(w())});return(0,Y.of)(Er).pipe(zt())}));return(0,Y.of)(bn).pipe(zt())}(rt,qt.path,lt),function ta(rt,xt,lt){const It=xt.routeConfig?xt.routeConfig.canActivate:null;if(!It||0===It.length)return(0,Y.of)(!0);const qt=It.map(bn=>(0,V.v)(()=>{const $n=Ic(xt)??lt,Er=ju(bn,$n);return we(function ea(rt){return rt&&Vd(rt.canActivate)}(Er)?Er.canActivate(xt,rt):(0,h.N4e)($n,()=>Er(xt,rt))).pipe(w())}));return(0,Y.of)(qt).pipe(zt())}(rt,qt.route,lt))),w(qt=>!0!==qt,!0))}(It,bn,rt,xt):(0,Y.of)(Er)),(0,te.T)(Er=>({...lt,guardsResult:Er})))})}(this.environmentInjector,lr=>this.events.next(lr)),(0,D.M)(lr=>{if(bn.guardsResult=lr.guardsResult,lr.guardsResult&&"boolean"!=typeof lr.guardsResult)throw Tc(0,lr.guardsResult);const ai=new Js(lr.id,this.urlSerializer.serialize(lr.extractedUrl),this.urlSerializer.serialize(lr.urlAfterRedirects),lr.targetSnapshot,!!lr.guardsResult);this.events.next(ai)}),(0,ve.p)(lr=>!!lr.guardsResult||(this.cancelNavigationTransition(lr,"",li.GuardRejected),!1)),Is(lr=>{if(lr.guards.canActivateChecks.length)return(0,Y.of)(lr).pipe((0,D.M)(ai=>{const ho=new Eo(ai.id,this.urlSerializer.serialize(ai.extractedUrl),this.urlSerializer.serialize(ai.urlAfterRedirects),ai.targetSnapshot);this.events.next(ho)}),(0,ue.n)(ai=>{let ho=!1;return(0,Y.of)(ai).pipe(function hf(rt,xt){return(0,ge.Z)(lt=>{const{targetSnapshot:It,guards:{canActivateChecks:qt}}=lt;if(!qt.length)return(0,Y.of)(lt);const bn=new Set(qt.map(lr=>lr.route)),$n=new Set;for(const lr of bn)if(!$n.has(lr))for(const ai of pf(lr))$n.add(ai);let Er=0;return(0,N.H)($n).pipe((0,_.H)(lr=>bn.has(lr)?function Zi(rt,xt,lt,It){const qt=rt.routeConfig,bn=rt._resolve;return void 0!==qt?.title&&!hu(qt)&&(bn[ke]=qt.title),function _o(rt,xt,lt,It){const qt=be(rt);if(0===qt.length)return(0,Y.of)({});const bn={};return(0,N.H)(qt).pipe((0,ge.Z)($n=>function mu(rt,xt,lt,It){const qt=Ic(xt)??It,bn=ju(rt,qt);return we(bn.resolve?bn.resolve(xt,lt):(0,h.N4e)(qt,()=>bn(xt,lt)))}(rt[$n],xt,lt,It).pipe(w(),(0,D.M)(Er=>{if(Er instanceof bd)throw Tc(new Yt,Er);bn[$n]=Er}))),c(1),(0,q.u)(bn),(0,O.W)($n=>Hi($n)?W.w:(0,ee.$)($n)))}(bn,rt,xt,It).pipe((0,te.T)($n=>(rt._resolvedData=$n,rt.data=ns(rt,rt.parent,lt).resolve,null)))}(lr,It,rt,xt):(lr.data=ns(lr,lr.parent,rt).resolve,(0,Y.of)(void 0))),(0,D.M)(()=>Er++),c(1),(0,ge.Z)(lr=>Er===$n.size?(0,Y.of)(lt):W.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,D.M)({next:()=>ho=!0,complete:()=>{ho||this.cancelNavigationTransition(ai,"",li.NoDataFromResolver)}}))}),(0,D.M)(ai=>{const ho=new qi(ai.id,this.urlSerializer.serialize(ai.extractedUrl),this.urlSerializer.serialize(ai.urlAfterRedirects),ai.targetSnapshot);this.events.next(ho)}))}),Is(lr=>{const ai=ho=>{const xo=[];ho.routeConfig?.loadComponent&&!ho.routeConfig._loadedComponent&&xo.push(this.configLoader.loadComponent(ho.routeConfig).pipe((0,D.M)($i=>{ho.component=$i}),(0,te.T)(()=>{})));for(const $i of ho.children)xo.push(...ai($i));return xo};return(0,j.z)(ai(lr.targetSnapshot.root)).pipe(je(null),(0,pe.s)(1))}),Is(()=>this.afterPreactivation()),(0,ue.n)(()=>{const{currentSnapshot:lr,targetSnapshot:ai}=bn,ho=this.createViewTransition?.(this.environmentInjector,lr.root,ai.root);return ho?(0,N.H)(ho).pipe((0,te.T)(()=>bn)):(0,Y.of)(bn)}),(0,te.T)(lr=>{const ai=function Ua(rt,xt,lt){const It=ds(rt,xt._root,lt?lt._root:void 0);return new Kd(It,xt)}(lt.routeReuseStrategy,lr.targetSnapshot,lr.currentRouterState);return this.currentTransition=bn={...lr,targetRouterState:ai},this.currentNavigation.targetRouterState=ai,bn}),(0,D.M)(()=>{this.events.next(new la)}),((rt,xt,lt,It)=>(0,te.T)(qt=>(new Xl(xt,qt.targetRouterState,qt.currentRouterState,lt,It).activate(rt),qt)))(this.rootContexts,lt.routeReuseStrategy,lr=>this.events.next(lr),this.inputBindingEnabled),(0,pe.s)(1),(0,D.M)({next:lr=>{$n=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ur(lr.id,this.urlSerializer.serialize(lr.extractedUrl),this.urlSerializer.serialize(lr.urlAfterRedirects))),this.titleStrategy?.updateTitle(lr.targetRouterState.snapshot),lr.resolve(!0)},complete:()=>{$n=!0}}),(0,me.Q)(this.transitionAbortSubject.pipe((0,D.M)(lr=>{throw lr}))),(0,X.j)(()=>{!$n&&!Er&&this.cancelNavigationTransition(bn,"",li.SupersededByNewNavigation),this.currentTransition?.id===bn.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,O.W)(lr=>{if(Er=!0,zi(lr))this.events.next(new Mi(bn.id,this.urlSerializer.serialize(bn.extractedUrl),lr.message,lr.cancellationCode)),function us(rt){return zi(rt)&&kn(rt.url)}(lr)?this.events.next(new nc(lr.url,lr.navigationBehaviorOptions)):bn.resolve(!1);else{const ai=new Ji(bn.id,this.urlSerializer.serialize(bn.extractedUrl),lr,bn.targetSnapshot??void 0);try{const ho=(0,h.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(ai));if(ho instanceof bd){const{message:xo,cancellationCode:$i}=Tc(0,ho);this.events.next(new Mi(bn.id,this.urlSerializer.serialize(bn.extractedUrl),xo,$i)),this.events.next(new nc(ho.redirectTo,ho.navigationBehaviorOptions))}else{this.events.next(ai);const xo=lt.errorHandler(lr);bn.resolve(!!xo)}}catch(ho){this.options.resolveNavigationPromiseOnError?bn.resolve(!1):bn.reject(ho)}}return W.w}))}))}cancelNavigationTransition(lt,It,qt){const bn=new Mi(lt.id,this.urlSerializer.serialize(lt.extractedUrl),It,qt);this.events.next(bn),lt.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const lt=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),It=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return lt.toString()!==It?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275prov=h.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})();function yr(rt){return rt!==Nn}let Lr=(()=>{class rt{static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275prov=h.jDH({token:rt,factory:()=>(0,h.WQX)(ya),providedIn:"root"})}return rt})();class yi{shouldDetach(xt){return!1}store(xt,lt){}shouldAttach(xt){return!1}retrieve(xt){return null}shouldReuseRoute(xt,lt){return xt.routeConfig===lt.routeConfig}}let ya=(()=>{class rt extends yi{static#e=this.\u0275fac=(()=>{let lt;return function(qt){return(lt||(lt=h.xGo(rt)))(qt||rt)}})();static#t=this.\u0275prov=h.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})(),vo=(()=>{class rt{static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275prov=h.jDH({token:rt,factory:()=>(0,h.WQX)(Cs),providedIn:"root"})}return rt})(),Cs=(()=>{class rt extends vo{constructor(){super(...arguments),this.location=(0,h.WQX)(re.aZ),this.urlSerializer=(0,h.WQX)(ft),this.options=(0,h.WQX)(Ad,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,h.WQX)(Hf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new C,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Pl(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(lt){return this.location.subscribe(It=>{"popstate"===It.type&&lt(It.url,It.state)})}handleRouterEvent(lt,It){if(lt instanceof Hr)this.stateMemento=this.createStateMemento();else if(lt instanceof ls)this.rawUrlTree=It.initialUrl;else if(lt instanceof bs){if("eager"===this.urlUpdateStrategy&&!It.extras.skipLocationChange){const qt=this.urlHandlingStrategy.merge(It.finalUrl,It.initialUrl);this.setBrowserUrl(It.targetBrowserUrl??qt,It)}}else lt instanceof la?(this.currentUrlTree=It.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(It.finalUrl,It.initialUrl),this.routerState=It.targetRouterState,"deferred"===this.urlUpdateStrategy&&!It.extras.skipLocationChange&&this.setBrowserUrl(It.targetBrowserUrl??this.rawUrlTree,It)):lt instanceof Mi&&(lt.code===li.GuardRejected||lt.code===li.NoDataFromResolver)?this.restoreHistory(It):lt instanceof Ji?this.restoreHistory(It,!0):lt instanceof Ur&&(this.lastSuccessfulId=lt.id,this.currentPageId=this.browserPageId)}setBrowserUrl(lt,It){const qt=lt instanceof C?this.urlSerializer.serialize(lt):lt;if(this.location.isCurrentPathEqualTo(qt)||It.extras.replaceUrl){const $n={...It.extras.state,...this.generateNgRouterState(It.id,this.browserPageId)};this.location.replaceState(qt,"",$n)}else{const bn={...It.extras.state,...this.generateNgRouterState(It.id,this.browserPageId+1)};this.location.go(qt,"",bn)}}restoreHistory(lt,It=!1){if("computed"===this.canceledNavigationResolution){const bn=this.currentPageId-this.browserPageId;0!==bn?this.location.historyGo(bn):this.currentUrlTree===lt.finalUrl&&0===bn&&(this.resetState(lt),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(It&&this.resetState(lt),this.resetUrlToCurrentUrlTree())}resetState(lt){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,lt.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(lt,It){return"computed"===this.canceledNavigationResolution?{navigationId:lt,\u0275routerPageId:It}:{navigationId:lt}}static#e=this.\u0275fac=(()=>{let lt;return function(qt){return(lt||(lt=h.xGo(rt)))(qt||rt)}})();static#t=this.\u0275prov=h.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})();var Fr=function(rt){return rt[rt.COMPLETE=0]="COMPLETE",rt[rt.FAILED=1]="FAILED",rt[rt.REDIRECTING=2]="REDIRECTING",rt}(Fr||{});function Fs(rt,xt){rt.events.pipe((0,ve.p)(lt=>lt instanceof Ur||lt instanceof Mi||lt instanceof Ji||lt instanceof ls),(0,te.T)(lt=>lt instanceof Ur||lt instanceof ls?Fr.COMPLETE:lt instanceof Mi&&(lt.code===li.Redirect||lt.code===li.SupersededByNewNavigation)?Fr.REDIRECTING:Fr.FAILED),(0,ve.p)(lt=>lt!==Fr.REDIRECTING),(0,pe.s)(1)).subscribe(()=>{xt()})}function ss(rt){throw rt}const ga={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ol={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let va=(()=>{class rt{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,h.WQX)(h.H3F),this.stateManager=(0,h.WQX)(vo),this.options=(0,h.WQX)(Ad,{optional:!0})||{},this.pendingTasks=(0,h.WQX)(h.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,h.WQX)(Fn),this.urlSerializer=(0,h.WQX)(ft),this.location=(0,h.WQX)(re.aZ),this.urlHandlingStrategy=(0,h.WQX)(Hf),this._events=new de.B,this.errorHandler=this.options.errorHandler||ss,this.navigated=!1,this.routeReuseStrategy=(0,h.WQX)(Lr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,h.WQX)(bl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,h.WQX)(kr,{optional:!0}),this.eventsSubscription=new ae.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:lt=>{this.console.warn(lt)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const lt=this.navigationTransitions.events.subscribe(It=>{try{const qt=this.navigationTransitions.currentTransition,bn=this.navigationTransitions.currentNavigation;if(null!==qt&&null!==bn)if(this.stateManager.handleRouterEvent(It,bn),It instanceof Mi&&It.code!==li.Redirect&&It.code!==li.SupersededByNewNavigation)this.navigated=!0;else if(It instanceof Ur)this.navigated=!0;else if(It instanceof nc){const $n=It.navigationBehaviorOptions,Er=this.urlHandlingStrategy.merge(It.url,qt.currentRawUrl),lr={browserUrl:qt.extras.browserUrl,info:qt.extras.info,skipLocationChange:qt.extras.skipLocationChange,replaceUrl:qt.extras.replaceUrl||"eager"===this.urlUpdateStrategy||yr(qt.source),...$n};this.scheduleNavigation(Er,Nn,null,lr,{resolve:qt.resolve,reject:qt.reject,promise:qt.promise})}(function ac(rt){return!(rt instanceof la||rt instanceof nc)})(It)&&this._events.next(It)}catch(qt){this.navigationTransitions.transitionAbortSubject.next(qt)}});this.eventsSubscription.add(lt)}resetRootComponentType(lt){this.routerState.root.component=lt,this.navigationTransitions.rootComponentType=lt}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((lt,It)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(lt,"popstate",It)},0)})}navigateToSyncWithBrowser(lt,It,qt){const bn={replaceUrl:!0},$n=qt?.navigationId?qt:null;if(qt){const lr={...qt};delete lr.navigationId,delete lr.\u0275routerPageId,0!==Object.keys(lr).length&&(bn.state=lr)}const Er=this.parseUrl(lt);this.scheduleNavigation(Er,It,$n,bn)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(lt){this.config=lt.map(To),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(lt,It={}){const{relativeTo:qt,queryParams:bn,fragment:$n,queryParamsHandling:Er,preserveFragment:lr}=It,ai=lr?this.currentUrlTree.fragment:$n;let xo,ho=null;switch(Er){case"merge":ho={...this.currentUrlTree.queryParams,...bn};break;case"preserve":ho=this.currentUrlTree.queryParams;break;default:ho=bn||null}null!==ho&&(ho=this.removeEmptyProps(ho));try{xo=qr(qt?qt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof lt[0]||"/"!==lt[0][0])&&(lt=[]),xo=this.currentUrlTree.root}return pr(xo,lt,ho,ai??null)}navigateByUrl(lt,It={skipLocationChange:!1}){const qt=kn(lt)?lt:this.parseUrl(lt),bn=this.urlHandlingStrategy.merge(qt,this.rawUrlTree);return this.scheduleNavigation(bn,Nn,null,It)}navigate(lt,It={skipLocationChange:!1}){return function gu(rt){for(let xt=0;xt<rt.length;xt++)if(null==rt[xt])throw new h.wOt(4008,!1)}(lt),this.navigateByUrl(this.createUrlTree(lt,It),It)}serializeUrl(lt){return this.urlSerializer.serialize(lt)}parseUrl(lt){try{return this.urlSerializer.parse(lt)}catch{return this.urlSerializer.parse("/")}}isActive(lt,It){let qt;if(qt=!0===It?{...ga}:!1===It?{...ol}:It,kn(lt))return Je(this.currentUrlTree,lt,qt);const bn=this.parseUrl(lt);return Je(this.currentUrlTree,bn,qt)}removeEmptyProps(lt){return Object.entries(lt).reduce((It,[qt,bn])=>(null!=bn&&(It[qt]=bn),It),{})}scheduleNavigation(lt,It,qt,bn,$n){if(this.disposed)return Promise.resolve(!1);let Er,lr,ai;$n?(Er=$n.resolve,lr=$n.reject,ai=$n.promise):ai=new Promise((xo,$i)=>{Er=xo,lr=$i});const ho=this.pendingTasks.add();return Fs(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ho))}),this.navigationTransitions.handleNavigationRequest({source:It,restoredState:qt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:lt,extras:bn,resolve:Er,reject:lr,promise:ai,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ai.catch(xo=>Promise.reject(xo))}static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275prov=h.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})(),fs=(()=>{class rt{constructor(lt,It,qt,bn,$n,Er){this.router=lt,this.route=It,this.tabIndexAttribute=qt,this.renderer=bn,this.el=$n,this.locationStrategy=Er,this.href=null,this.onChanges=new de.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const lr=$n.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===lr||"area"===lr,this.isAnchorElement?this.subscription=lt.events.subscribe(ai=>{ai instanceof Ur&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(lt){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",lt)}ngOnChanges(lt){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(lt){null==lt?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=kn(lt)||Array.isArray(lt)?lt:[lt],this.setTabIndexIfNotOnNativeEl("0"))}onClick(lt,It,qt,bn,$n){const Er=this.urlTree;return!!(null===Er||this.isAnchorElement&&(0!==lt||It||qt||bn||$n||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Er,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const lt=this.urlTree;this.href=null!==lt&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(lt)):null;const It=null===this.href?null:(0,h.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",It)}applyAttributeValue(lt,It){const qt=this.renderer,bn=this.el.nativeElement;null!==It?qt.setAttribute(bn,lt,It):qt.removeAttribute(bn,lt)}get urlTree(){return null===this.routerLinkInput?null:kn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(It){return new(It||rt)(h.rXU(va),h.rXU(Yo),h.kS0("tabindex"),h.rXU(h.sFG),h.rXU(h.aKT),h.rXU(re.hb))};static#t=this.\u0275dir=h.FsC({type:rt,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(It,qt){1&It&&h.bIt("click",function($n){return qt.onClick($n.button,$n.ctrlKey,$n.shiftKey,$n.altKey,$n.metaKey)}),2&It&&h.BMQ("target",qt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",h.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",h.L39],replaceUrl:[2,"replaceUrl","replaceUrl",h.L39],routerLink:"routerLink"},standalone:!0,features:[h.GFd,h.OA$]})}return rt})(),_l=(()=>{class rt{get isActive(){return this._isActive}constructor(lt,It,qt,bn,$n){this.router=lt,this.element=It,this.renderer=qt,this.cdr=bn,this.link=$n,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new h.bkB,this.routerEventsSubscription=lt.events.subscribe(Er=>{Er instanceof Ur&&this.update()})}ngAfterContentInit(){(0,Y.of)(this.links.changes,(0,Y.of)(null)).pipe((0,Te.U)()).subscribe(lt=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const lt=[...this.links.toArray(),this.link].filter(It=>!!It).map(It=>It.onChanges);this.linkInputChangesSubscription=(0,N.H)(lt).pipe((0,Te.U)()).subscribe(It=>{this._isActive!==this.isLinkActive(this.router)(It)&&this.update()})}set routerLinkActive(lt){const It=Array.isArray(lt)?lt:lt.split(" ");this.classes=It.filter(qt=>!!qt)}ngOnChanges(lt){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const lt=this.hasActiveLinks();this.classes.forEach(It=>{lt?this.renderer.addClass(this.element.nativeElement,It):this.renderer.removeClass(this.element.nativeElement,It)}),lt&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==lt&&(this._isActive=lt,this.cdr.markForCheck(),this.isActiveChange.emit(lt))})}isLinkActive(lt){const It=function Zl(rt){return!!rt.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return qt=>{const bn=qt.urlTree;return!!bn&&lt.isActive(bn,It)}}hasActiveLinks(){const lt=this.isLinkActive(this.router);return this.link&&lt(this.link)||this.links.some(lt)}static#e=this.\u0275fac=function(It){return new(It||rt)(h.rXU(va),h.rXU(h.aKT),h.rXU(h.sFG),h.rXU(h.gRc),h.rXU(fs,8))};static#t=this.\u0275dir=h.FsC({type:rt,selectors:[["","routerLinkActive",""]],contentQueries:function(It,qt,bn){if(1&It&&h.wni(bn,fs,5),2&It){let $n;h.mGM($n=h.lsd())&&(qt.links=$n)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[h.OA$]})}return rt})();class Fl{}let mf=(()=>{class rt{preload(lt,It){return It().pipe((0,O.W)(()=>(0,Y.of)(null)))}static#e=this.\u0275fac=function(It){return new(It||rt)};static#t=this.\u0275prov=h.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})(),sl=(()=>{class rt{constructor(lt,It,qt,bn,$n){this.router=lt,this.injector=qt,this.preloadingStrategy=bn,this.loader=$n}setUpPreloading(){this.subscription=this.router.events.pipe((0,ve.p)(lt=>lt instanceof Ur),(0,_.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(lt,It){const qt=[];for(const bn of It){bn.providers&&!bn._injector&&(bn._injector=(0,h.Ol2)(bn.providers,lt,`Route: ${bn.path}`));const $n=bn._injector??lt,Er=bn._loadedInjector??$n;(bn.loadChildren&&!bn._loadedRoutes&&void 0===bn.canLoad||bn.loadComponent&&!bn._loadedComponent)&&qt.push(this.preloadConfig($n,bn)),(bn.children||bn._loadedRoutes)&&qt.push(this.processRoutes(Er,bn.children??bn._loadedRoutes))}return(0,N.H)(qt).pipe((0,Te.U)())}preloadConfig(lt,It){return this.preloadingStrategy.preload(It,()=>{let qt;qt=It.loadChildren&&void 0===It.canLoad?this.loader.loadChildren(lt,It):(0,Y.of)(null);const bn=qt.pipe((0,ge.Z)($n=>null===$n?(0,Y.of)(void 0):(It._loadedRoutes=$n.routes,It._loadedInjector=$n.injector,this.processRoutes($n.injector??lt,$n.routes))));if(It.loadComponent&&!It._loadedComponent){const $n=this.loader.loadComponent(It);return(0,N.H)([bn,$n]).pipe((0,Te.U)())}return bn})}static#e=this.\u0275fac=function(It){return new(It||rt)(h.KVO(va),h.KVO(h.Ql9),h.KVO(h.uvJ),h.KVO(Fl),h.KVO(wl))};static#t=this.\u0275prov=h.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})();const Wd=new h.nKC("");let Wf=(()=>{class rt{constructor(lt,It,qt,bn,$n={}){this.urlSerializer=lt,this.transitions=It,this.viewportScroller=qt,this.zone=bn,this.options=$n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$n.scrollPositionRestoration||="disabled",$n.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(lt=>{lt instanceof Hr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=lt.navigationTrigger,this.restoredId=lt.restoredState?lt.restoredState.navigationId:0):lt instanceof Ur?(this.lastId=lt.id,this.scheduleScrollEvent(lt,this.urlSerializer.parse(lt.urlAfterRedirects).fragment)):lt instanceof ls&&lt.code===ui.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(lt,this.urlSerializer.parse(lt.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(lt=>{lt instanceof yo&&(lt.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(lt.position):lt.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(lt.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(lt,It){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yo(lt,"popstate"===this.lastSource?this.store[this.restoredId]:null,It))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(It){h.QTQ()};static#t=this.\u0275prov=h.jDH({token:rt,factory:rt.\u0275fac})}return rt})();function Ct(rt,...xt){return(0,h.EmA)([{provide:bl,multi:!0,useValue:rt},[],{provide:Yo,useFactory:ht,deps:[va]},{provide:h.iLQ,multi:!0,useFactory:sr},xt.map(lt=>lt.\u0275providers)])}function ht(rt){return rt.routerState.root}function at(rt,xt){return{\u0275kind:rt,\u0275providers:xt}}function sr(){const rt=(0,h.WQX)(h.zZn);return xt=>{const lt=rt.get(h.o8S);if(xt!==lt.components[0])return;const It=rt.get(va),qt=rt.get(wr);1===rt.get(Cr)&&It.initialNavigation(),rt.get(Pe,null,h.$GK.Optional)?.setUpPreloading(),rt.get(Wd,null,h.$GK.Optional)?.init(),It.resetRootComponentType(lt.componentTypes[0]),qt.closed||(qt.next(),qt.complete(),qt.unsubscribe())}}const wr=new h.nKC("",{factory:()=>new de.B}),Cr=new h.nKC("",{providedIn:"root",factory:()=>1}),Pe=new h.nKC("");function xe(rt){return at(0,[{provide:Pe,useExisting:sl},{provide:Fl,useExisting:rt}])}function rn(rt){return at(9,[{provide:yh,useValue:fn},{provide:gt,useValue:{skipNextTransition:!!rt?.skipInitialTransition,...rt}}])}const cn=new h.nKC("ROUTER_FORROOT_GUARD"),Dt=[re.aZ,{provide:ft,useClass:Yt},va,$d,{provide:Yo,useFactory:ht,deps:[va]},wl,[]];let vn=(()=>{class rt{constructor(lt){}static forRoot(lt,It){return{ngModule:rt,providers:[Dt,[],{provide:bl,multi:!0,useValue:lt},{provide:cn,useFactory:Ni,deps:[[va,new h.Xx1,new h.kdw]]},{provide:Ad,useValue:It||{}},It?.useHash?{provide:re.hb,useClass:re.fw}:{provide:re.hb,useClass:re.Sm},{provide:Wd,useFactory:()=>{const rt=(0,h.WQX)(re.Xr),xt=(0,h.WQX)(h.SKi),lt=(0,h.WQX)(Ad),It=(0,h.WQX)(Fn),qt=(0,h.WQX)(ft);return lt.scrollOffset&&rt.setOffset(lt.scrollOffset),new Wf(qt,It,rt,xt,lt)}},It?.preloadingStrategy?xe(It.preloadingStrategy).\u0275providers:[],It?.initialNavigation?io(It):[],It?.bindToComponentInputs?at(8,[lo,{provide:kr,useExisting:lo}]).\u0275providers:[],It?.enableViewTransitions?rn().\u0275providers:[],[{provide:Ts,useFactory:sr},{provide:h.iLQ,multi:!0,useExisting:Ts}]]}}static forChild(lt){return{ngModule:rt,providers:[{provide:bl,multi:!0,useValue:lt}]}}static#e=this.\u0275fac=function(It){return new(It||rt)(h.KVO(cn,8))};static#t=this.\u0275mod=h.$C({type:rt});static#n=this.\u0275inj=h.G2t({})}return rt})();function Ni(rt){return"guarded"}function io(rt){return["disabled"===rt.initialNavigation?at(3,[{provide:h.hnV,multi:!0,useFactory:()=>{const xt=(0,h.WQX)(va);return()=>{xt.setUpLocationChangeListener()}}},{provide:Cr,useValue:2}]).\u0275providers:[],"enabledBlocking"===rt.initialNavigation?at(2,[{provide:Cr,useValue:0},{provide:h.hnV,multi:!0,deps:[h.zZn],useFactory:xt=>{const lt=xt.get(re.hj,Promise.resolve());return()=>lt.then(()=>new Promise(It=>{const qt=xt.get(va),bn=xt.get(wr);Fs(qt,()=>{It(!0)}),xt.get(Fn).afterPreactivation=()=>(It(!0),bn.closed?(0,Y.of)(void 0):bn),qt.initialNavigation()}))}}]).\u0275providers:[]]}const Ts=new h.nKC("")},52039:(Ye,J,A)=>{"use strict";A.d(J,{oU:()=>mn,Q2:()=>Ar});class x extends Error{constructor(mt,sn){super(`${mt}: ${sn}`),this.code=mt,Object.setPrototypeOf(this,new.target.prototype)}}new Uint8Array(0);class P{constructor(mt,sn,Zt){this.name=mt,this.prefix=sn,this.baseEncode=Zt}encode(mt){if(mt instanceof Uint8Array)return`${this.prefix}${this.baseEncode(mt)}`;throw Error("Unknown type, must be binary type")}}class ee{constructor(mt,sn,Zt){if(this.name=mt,this.prefix=sn,void 0===sn.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=sn.codePointAt(0),this.baseDecode=Zt}decode(mt){if("string"==typeof mt){if(mt.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(mt)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(mt.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(mt){return Q(this,mt)}}class W{constructor(mt){this.decoders=mt}or(mt){return Q(this,mt)}decode(mt){const Zt=this.decoders[mt[0]];if(Zt)return Zt.decode(mt);throw RangeError(`Unable to decode multibase string ${JSON.stringify(mt)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Q=(st,mt)=>new W({...st.decoders||{[st.prefix]:st},...mt.decoders||{[mt.prefix]:mt}});class de{constructor(mt,sn,Zt,xn){this.name=mt,this.prefix=sn,this.baseEncode=Zt,this.baseDecode=xn,this.encoder=new P(mt,sn,Zt),this.decoder=new ee(mt,sn,xn)}encode(mt){return this.encoder.encode(mt)}decode(mt){return this.decoder.decode(mt)}}const pe=({name:st,prefix:mt,bitsPerChar:sn,alphabet:Zt})=>(({name:st,prefix:mt,encode:sn,decode:Zt})=>new de(st,mt,sn,Zt))({prefix:mt,name:st,encode:xn=>((st,mt,sn)=>{const Zt="="===mt[mt.length-1],xn=(1<<sn)-1;let cr="",kn=0,zn=0;for(let qr=0;qr<st.length;++qr)for(zn=zn<<8|st[qr],kn+=8;kn>sn;)kn-=sn,cr+=mt[xn&zn>>kn];if(kn&&(cr+=mt[xn&zn<<sn-kn]),Zt)for(;cr.length*sn&7;)cr+="=";return cr})(xn,Zt,sn),decode:xn=>((st,mt,sn,Zt)=>{const xn={};for(let qn=0;qn<mt.length;++qn)xn[mt[qn]]=qn;let cr=st.length;for(;"="===st[cr-1];)--cr;const kn=new Uint8Array(cr*sn/8|0);let zn=0,qr=0,pr=0;for(let qn=0;qn<cr;++qn){const Jt=xn[st[qn]];if(void 0===Jt)throw new SyntaxError(`Non-${Zt} character`);qr=qr<<sn|Jt,zn+=sn,zn>=8&&(zn-=8,kn[pr++]=255&qr>>zn)}if(zn>=sn||255&qr<<8-zn)throw new SyntaxError("Unexpected end of data");return kn})(xn,Zt,sn,st)}),ge=(pe({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),pe({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),pe({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));pe({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});class Oe{static encode(mt){return ge.baseEncode(mt)}static decodeAsBytes(mt,sn){if(!Oe.isBase64UrlString(mt))throw new x("EncodedStringIncorrectEncoding",`Given ${sn} must be base64url string.`);return ge.baseDecode(mt)}static decodeAsString(mt,sn){const Zt=Oe.decodeAsBytes(mt,sn);return Oe.bytesToString(Zt)}static isBase64UrlString(mt){return/^[A-Za-z0-9_-]+$/.test(mt)}static stringToBytes(mt){return(new TextEncoder).encode(mt)}static bytesToString(mt){return(new TextDecoder).decode(mt)}}var je=A(95568),B=function(st){return st.Public="public",st.Private="private",st}(B||{});const l=B;class f{static validateEs256kOperationKey(mt,sn){const Zt=new Set(["kty","crv","x","y"]);sn===l.Private&&Zt.add("d");for(const xn in mt)if(!Zt.has(xn))throw new x("PublicKeyJwkEs256kHasUnexpectedProperty",`SECP256K1 JWK key has unexpected property '${xn}'.`);if("secp256k1"!==mt.crv)throw new x("JwkEs256kMissingOrInvalidCrv",`SECP256K1 JWK 'crv' property must be 'secp256k1' but got '${mt.crv}.'`);if("EC"!==mt.kty)throw new x("JwkEs256kMissingOrInvalidKty",`SECP256K1 JWK 'kty' property must be 'EC' but got '${mt.kty}.'`);if(43!==mt.x.length)throw new x("JwkEs256kHasIncorrectLengthOfX","SECP256K1 JWK 'x' property must be 43 bytes.");if(43!==mt.y.length)throw new x("JwkEs256kHasIncorrectLengthOfY","SECP256K1 JWK 'y' property must be 43 bytes.");if(sn===l.Private&&(void 0===mt.d||43!==mt.d.length))throw new x("JwkEs256kHasIncorrectLengthOfD","SECP256K1 JWK 'd' property must be 43 bytes.")}static validateId(mt){if(mt.length>50)throw new x("IdTooLong",`Key ID length ${mt.length} exceed max allowed length of 50.`);if(!Oe.isBase64UrlString(mt))throw new x("IdNotUsingBase64UrlCharacterSet",`Key ID '${mt}' is not a Base64URL string.`)}static validatePublicKeyPurposes(mt){if(void 0===mt)return;const sn=new Set;for(const Zt of mt){if(sn.has(Zt))throw new x("PublicKeyPurposeDuplicated",`Public key purpose '${Zt}' already specified.`);sn.add(Zt)}}}const _=(()=>{class st{}return st.hashAlgorithmInMultihashCode=18,st.maxCanonicalizedDeltaSizeInBytes=1e3,st})();var D=A(28846);class O{static canonicalizeAsBytes(mt){const sn=O.removeAllUndefinedProperties(mt),Zt=D(sn);return Oe.stringToBytes(Zt)}static removeAllUndefinedProperties(mt){for(const sn in mt)"object"==typeof mt[sn]?O.removeAllUndefinedProperties(mt[sn]):void 0===mt[sn]&&delete mt[sn];return mt}}var T=128,E=-128,q=Math.pow(2,31),me=128,Te=127,Qe=Math.pow(2,7),ke=Math.pow(2,14),Ie=Math.pow(2,21),Xe=Math.pow(2,28),Se=Math.pow(2,35),Le=Math.pow(2,42),Ee=Math.pow(2,49),be=Math.pow(2,56),oe=Math.pow(2,63);const $e={encode:function X(st,mt,sn){mt=mt||[];for(var Zt=sn=sn||0;st>=q;)mt[sn++]=255&st|T,st/=128;for(;st&E;)mt[sn++]=255&st|T,st>>>=7;return mt[sn]=0|st,X.bytes=sn-Zt+1,mt},decode:function Ke(st,Zt){var kn,sn=0,xn=0,cr=Zt=Zt||0,zn=st.length;do{if(cr>=zn)throw Ke.bytes=0,new RangeError("Could not decode varint");kn=st[cr++],sn+=xn<28?(kn&Te)<<xn:(kn&Te)*Math.pow(2,xn),xn+=7}while(kn>=me);return Ke.bytes=cr-Zt,sn},encodingLength:function(st){return st<Qe?1:st<ke?2:st<Ie?3:st<Xe?4:st<Se?5:st<Le?6:st<Ee?7:st<be?8:st<oe?9:10}},Je=(st,mt=0)=>[$e.decode(st,mt),$e.decode.bytes],Ze=(st,mt,sn=0)=>($e.encode(st,mt,sn),mt),Pt=st=>$e.encodingLength(st),nt=(st,mt)=>{const sn=mt.byteLength,Zt=Pt(st),xn=Zt+Pt(sn),cr=new Uint8Array(xn+sn);return Ze(st,cr,0),Ze(sn,cr,Zt),cr.set(mt,xn),new K(st,sn,mt,cr)};class K{constructor(mt,sn,Zt,xn){this.code=mt,this.size=sn,this.digest=Zt,this.bytes=xn}}var C=A(10467);const b=({name:st,code:mt,encode:sn})=>new z(st,mt,sn);class z{constructor(mt,sn,Zt){this.name=mt,this.code=sn,this.encode=Zt}digest(mt){if(mt instanceof Uint8Array){const sn=this.encode(mt);return sn instanceof Uint8Array?nt(this.code,sn):sn.then(Zt=>nt(this.code,Zt))}throw Error("Unknown type, must be binary type")}}const le=st=>function(){var mt=(0,C.A)(function*(sn){return new Uint8Array(yield crypto.subtle.digest(st,sn))});return function(sn){return mt.apply(this,arguments)}}(),Ae=b({name:"sha2-256",code:18,encode:le("SHA-256")});b({name:"sha2-512",code:19,encode:le("SHA-512")});var ft=function(st,mt,sn,Zt){return new(sn||(sn=Promise))(function(cr,kn){function zn(qn){try{pr(Zt.next(qn))}catch(Jt){kn(Jt)}}function qr(qn){try{pr(Zt.throw(qn))}catch(Jt){kn(Jt)}}function pr(qn){qn.done?cr(qn.value):function xn(cr){return cr instanceof sn?cr:new sn(function(kn){kn(cr)})}(qn.value).then(zn,qr)}pr((Zt=Zt.apply(st,mt||[])).next())})};class Yt{static hash(mt,sn){return ft(this,void 0,void 0,function*(){let Zt;if(18!==sn)throw new x("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${sn} is not supported.`);return Zt=(yield Ae.digest(mt)).bytes,Zt})}static hashAsNonMultihashBytes(mt,sn){return ft(this,void 0,void 0,function*(){let Zt;if(18!==sn)throw new x("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${sn} is not supported.`);return Zt=yield Ae.encode(mt),Zt})}static canonicalizeThenHashThenEncode(mt,sn){return ft(this,void 0,void 0,function*(){const Zt=O.canonicalizeAsBytes(mt);return yield Yt.hashThenEncode(Zt,sn)})}static canonicalizeThenDoubleHashThenEncode(mt,sn){return ft(this,void 0,void 0,function*(){const Zt=O.canonicalizeAsBytes(mt),xn=yield Yt.hashAsNonMultihashBytes(Zt,sn);return yield Yt.hashThenEncode(xn,sn)})}static hashThenEncode(mt,sn){return ft(this,void 0,void 0,function*(){const Zt=yield Yt.hash(mt,sn);return Oe.encode(Zt)})}static validateEncodedHashComputedUsingSupportedHashAlgorithm(mt,sn){let Zt;const xn=Oe.decodeAsBytes(mt,sn);try{Zt=(st=>{const mt=(st=>{if(st instanceof Uint8Array&&"Uint8Array"===st.constructor.name)return st;if(st instanceof ArrayBuffer)return new Uint8Array(st);if(ArrayBuffer.isView(st))return new Uint8Array(st.buffer,st.byteOffset,st.byteLength);throw new Error("Unknown type, must be binary type")})(st),[sn,Zt]=Je(mt),[xn,cr]=Je(mt.subarray(Zt)),kn=mt.subarray(Zt+cr);if(kn.byteLength!==xn)throw new Error("Incorrect length");return new K(sn,xn,kn,mt)})(xn)}catch{throw new x("MultihashStringNotAMultihash",`Given ${sn} string '${mt}' is not a multihash after decoding.`)}const cr=_.hashAlgorithmInMultihashCode;if(cr!==Zt.code)throw new x("MultihashUnsupportedHashAlgorithm",`Given ${sn} uses unsupported multihash algorithm with code ${Zt.code}, should use ${cr} or change IonSdkConfig to desired hashing algorithm.`)}}var Rt=function(st){return st.Create="create",st.Update="update",st.Deactivate="deactivate",st.Recover="recover",st}(Rt||{});const Vt=Rt;var dn=function(st){return st.Replace="replace",st.AddPublicKeys="add-public-keys",st.RemovePublicKeys="remove-public-keys",st.AddServices="add-services",st.RemoveServices="remove-services",st}(dn||{});const Mn=dn;var En=function(st,mt,sn,Zt){return new(sn||(sn=Promise))(function(cr,kn){function zn(qn){try{pr(Zt.next(qn))}catch(Jt){kn(Jt)}}function qr(qn){try{pr(Zt.throw(qn))}catch(Jt){kn(Jt)}}function pr(qn){qn.done?cr(qn.value):function xn(cr){return cr instanceof sn?cr:new sn(function(kn){kn(cr)})}(qn.value).then(zn,qr)}pr((Zt=Zt.apply(st,mt||[])).next())})};class Ar{static createCreateRequest(mt){return En(this,void 0,void 0,function*(){const sn=mt.recoveryKey,Zt=mt.updateKey,xn=mt.document.publicKeys,cr=mt.document.services;f.validateEs256kOperationKey(sn,l.Public),f.validateEs256kOperationKey(Zt,l.Public),Ar.validateDidDocumentKeys(xn),Ar.validateServices(cr);const kn=_.hashAlgorithmInMultihashCode,zn=[{action:Mn.Replace,document:mt.document}],qr={updateCommitment:yield Yt.canonicalizeThenDoubleHashThenEncode(Zt,kn),patches:zn};Ar.validateDeltaSize(qr);const qn={deltaHash:yield Yt.canonicalizeThenHashThenEncode(qr,kn),recoveryCommitment:yield Yt.canonicalizeThenDoubleHashThenEncode(sn,kn)};return{type:Vt.Create,suffixData:qn,delta:qr}})}static createDeactivateRequest(mt){return En(this,void 0,void 0,function*(){Ar.validateDidSuffix(mt.didSuffix),f.validateEs256kOperationKey(mt.recoveryPublicKey,l.Public);const sn=_.hashAlgorithmInMultihashCode,Zt=yield Yt.canonicalizeThenHashThenEncode(mt.recoveryPublicKey,sn),xn={didSuffix:mt.didSuffix,recoveryKey:mt.recoveryPublicKey},cr=yield mt.signer.sign({alg:"ES256K"},xn);return{type:Vt.Deactivate,didSuffix:mt.didSuffix,revealValue:Zt,signedData:cr}})}static createRecoverRequest(mt){return En(this,void 0,void 0,function*(){Ar.validateDidSuffix(mt.didSuffix),f.validateEs256kOperationKey(mt.recoveryPublicKey,l.Public),f.validateEs256kOperationKey(mt.nextRecoveryPublicKey,l.Public),f.validateEs256kOperationKey(mt.nextUpdatePublicKey,l.Public),Ar.validateDidDocumentKeys(mt.document.publicKeys),Ar.validateServices(mt.document.services);const sn=_.hashAlgorithmInMultihashCode,Zt=yield Yt.canonicalizeThenHashThenEncode(mt.recoveryPublicKey,sn),kn={patches:[{action:Mn.Replace,document:mt.document}],updateCommitment:yield Yt.canonicalizeThenDoubleHashThenEncode(mt.nextUpdatePublicKey,sn)},zn=yield Yt.canonicalizeThenHashThenEncode(kn,sn),pr={recoveryCommitment:yield Yt.canonicalizeThenDoubleHashThenEncode(mt.nextRecoveryPublicKey,sn),recoveryKey:mt.recoveryPublicKey,deltaHash:zn},qn=yield mt.signer.sign({alg:"ES256K"},pr);return{type:Vt.Recover,didSuffix:mt.didSuffix,revealValue:Zt,delta:kn,signedData:qn}})}static createUpdateRequest(mt){return En(this,void 0,void 0,function*(){if(Ar.validateDidSuffix(mt.didSuffix),f.validateEs256kOperationKey(mt.updatePublicKey,l.Public),f.validateEs256kOperationKey(mt.nextUpdatePublicKey,l.Public),Ar.validateServices(mt.servicesToAdd),Ar.validateDidDocumentKeys(mt.publicKeysToAdd),void 0!==mt.idsOfServicesToRemove)for(const We of mt.idsOfServicesToRemove)f.validateId(We);if(void 0!==mt.idsOfPublicKeysToRemove)for(const We of mt.idsOfPublicKeysToRemove)f.validateId(We);const sn=[],Zt=mt.servicesToAdd;void 0!==Zt&&Zt.length>0&&sn.push({action:Mn.AddServices,services:Zt});const xn=mt.idsOfServicesToRemove;void 0!==xn&&xn.length>0&&sn.push({action:Mn.RemoveServices,ids:xn});const cr=mt.publicKeysToAdd;void 0!==cr&&cr.length>0&&sn.push({action:Mn.AddPublicKeys,publicKeys:cr});const kn=mt.idsOfPublicKeysToRemove;void 0!==kn&&kn.length>0&&sn.push({action:Mn.RemovePublicKeys,ids:kn});const zn=_.hashAlgorithmInMultihashCode,qr=yield Yt.canonicalizeThenHashThenEncode(mt.updatePublicKey,zn),qn={patches:sn,updateCommitment:yield Yt.canonicalizeThenDoubleHashThenEncode(mt.nextUpdatePublicKey,zn)},Jt=yield Yt.canonicalizeThenHashThenEncode(qn,zn),dt={updateKey:mt.updatePublicKey,deltaHash:Jt},Ne=yield mt.signer.sign({alg:"ES256K"},dt);return{type:Vt.Update,didSuffix:mt.didSuffix,revealValue:qr,delta:qn,signedData:Ne}})}static validateDidSuffix(mt){Yt.validateEncodedHashComputedUsingSupportedHashAlgorithm(mt,"didSuffix")}static validateDidDocumentKeys(mt){if(void 0===mt)return;const sn=new Set;for(const Zt of mt){if(Array.isArray(Zt.publicKeyJwk))throw new x("DidDocumentPublicKeyMissingOrIncorrectType","DID Document key 'publicKeyJwk' property is not a non-array object.");if(f.validateId(Zt.id),sn.has(Zt.id))throw new x("DidDocumentPublicKeyIdDuplicated",`DID Document key with ID '${Zt.id}' already exists.`);sn.add(Zt.id),f.validatePublicKeyPurposes(Zt.purposes)}}static validateServices(mt){if(void 0!==mt&&0!==mt.length){const sn=new Set;for(const Zt of mt){if(Ar.validateService(Zt),sn.has(Zt.id))throw new x("DidDocumentServiceIdDuplicated","Service id has to be unique");sn.add(Zt.id)}}}static validateService(mt){if(f.validateId(mt.id),mt.type.length>30)throw new x("ServiceTypeTooLong",`Service endpoint type length ${mt.type.length} exceeds max allowed length of 30.`);if(Array.isArray(mt.serviceEndpoint))throw new x("ServiceEndpointCannotBeAnArray","Service endpoint value cannot be an array.");if("string"==typeof mt.serviceEndpoint&&void 0!==je.parse(mt.serviceEndpoint).error)throw new x("ServiceEndpointStringNotValidUri",`Service endpoint string '${mt.serviceEndpoint}' is not a URI.`)}static validateDeltaSize(mt){const sn=O.canonicalizeAsBytes(mt);if(sn.length>_.maxCanonicalizedDeltaSizeInBytes)throw new x("DeltaExceedsMaximumSize",`Delta of ${sn.length} bytes exceeded limit of ${_.maxCanonicalizedDeltaSizeInBytes} bytes.`)}}var jn=function(st,mt,sn,Zt){return new(sn||(sn=Promise))(function(cr,kn){function zn(qn){try{pr(Zt.next(qn))}catch(Jt){kn(Jt)}}function qr(qn){try{pr(Zt.throw(qn))}catch(Jt){kn(Jt)}}function pr(qn){qn.done?cr(qn.value):function xn(cr){return cr instanceof sn?cr:new sn(function(kn){kn(cr)})}(qn.value).then(zn,qr)}pr((Zt=Zt.apply(st,mt||[])).next())})};class mn{static createLongFormDid(mt){return jn(this,void 0,void 0,function*(){const sn=yield Ar.createCreateRequest(mt),Zt=yield mn.computeDidUniqueSuffix(sn.suffixData);let xn;xn=void 0===_.network||"mainnet"===_.network?`did:ion:${Zt}`:`did:ion:${_.network}:${Zt}`;const kn=O.canonicalizeAsBytes({suffixData:sn.suffixData,delta:sn.delta});return`${xn}:${Oe.encode(kn)}`})}static computeDidUniqueSuffix(mt){return jn(this,void 0,void 0,function*(){const sn=O.canonicalizeAsBytes(mt),Zt=yield Yt.hash(sn,_.hashAlgorithmInMultihashCode);return Oe.encode(Zt)})}}A(63741),A(68464)},49402:(Ye,J,A)=>{"use strict";A.d(J,{hB:()=>an,D4:()=>cr,lF:()=>xn});const h=/^(\d{1,3}\.){3,3}\d{1,3}$/,N=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,M={name:"v4",size:4,isFormat:dt=>h.test(dt),encode(dt,Ne,We){We=~~We,Ne=Ne||new Uint8Array(We+4);const Bt=dt.length;let gn=0;for(let Kn=0;Kn<Bt;){const ir=dt.charCodeAt(Kn++);46===ir?(Ne[We++]=gn,gn=0):gn=10*gn+(ir-48)}return Ne[We]=gn,Ne},decode:(dt,Ne)=>(Ne=~~Ne,`${dt[Ne++]}.${dt[Ne++]}.${dt[Ne++]}.${dt[Ne]}`)},j={name:"v6",size:16,isFormat:dt=>dt.length>0&&N.test(dt),encode(dt,Ne,We){let Bt=16+(We=~~We),gn=-1,Kn=0,ir=0,hr=!0,Wr=!1;Ne=Ne||new Uint8Array(We+16);for(let Vr=0;Vr<dt.length;Vr++){let ti=dt.charCodeAt(Vr);58===ti?(hr?-1!==gn?(We<Bt&&(Ne[We]=0),We<Bt-1&&(Ne[We+1]=0),We+=2):We<Bt&&(gn=We):(!0===Wr?(We<Bt&&(Ne[We]=ir),We++):(We<Bt&&(Ne[We]=Kn>>8),We<Bt-1&&(Ne[We+1]=255&Kn),We+=2),Kn=0,ir=0),hr=!0,Wr=!1):46===ti?(We<Bt&&(Ne[We]=ir),We++,ir=0,Kn=0,hr=!1,Wr=!0):(hr=!1,ti>=97?ti-=87:ti>=65?ti-=55:(ti-=48,ir=10*ir+ti),Kn=(Kn<<4)+ti)}if(!1===hr)!0===Wr?(We<Bt&&(Ne[We]=ir),We++):(We<Bt&&(Ne[We]=Kn>>8),We<Bt-1&&(Ne[We+1]=255&Kn),We+=2);else if(0===gn)We<Bt&&(Ne[We]=0),We<Bt-1&&(Ne[We+1]=0),We+=2;else if(-1!==gn){We+=2;for(let Vr=Math.min(We-1,Bt-1);Vr>=gn+2;Vr--)Ne[Vr]=Ne[Vr-2];Ne[gn]=0,Ne[gn+1]=0,gn=We}if(gn!==We&&-1!==gn)for(We>Bt-2&&(We=Bt-2);Bt>gn;)Ne[--Bt]=We<Bt&&We>gn?Ne[--We]:0;else for(;We<Bt;)Ne[We++]=0;return Ne},decode(dt,Ne){Ne=~~Ne;let We="";for(let Bt=0;Bt<16;Bt+=2)0!==Bt&&(We+=":"),We+=(dt[Ne+Bt]<<8|dt[Ne+Bt+1]).toString(16);return We.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};function U(dt){if(M.isFormat(dt))return M.size;if(j.isFormat(dt))return j.size;throw Error(`Invalid ip address: ${dt}`)}function ee(dt){switch(dt){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+dt}function W(dt){switch(dt.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":case"*":return 255}return dt.toUpperCase().startsWith("UNKNOWN_")?parseInt(dt.slice(8)):0}function Q(dt){switch(dt){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+dt}function ae(dt){switch(dt){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+dt}function te(dt){switch(dt){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+dt}function ue(dt){switch(dt.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0}function he(dt){if("number"==typeof dt)return dt;if(!dt)return-1;switch(dt.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}const Ne=dt.match(/_(\d+)$/);return Ne?parseInt(Ne[1],10):-1}const ve=55296,ge=56320;function Oe(dt){let Ne=0;const We=dt.length;for(let Bt=0;Bt<We;Bt+=1){const gn=dt.charCodeAt(Bt);if(gn<=127)Ne+=1;else if(gn<=2047)Ne+=2;else if((63488&gn)!==ve)Ne+=3;else{const Kn=Bt+1;Kn===We||gn>=ge||(64512&dt.charCodeAt(Kn))!==ge?Ne+=3:(Bt=Kn,Ne+=4)}}return Ne}function je(dt,Ne,We){const Bt=dt.length;null==We&&(We=0),void 0===Ne&&(Ne=new Uint8Array(Oe(dt)+We));let gn=We;for(let Kn=0;Kn<Bt;Kn+=1){let ir=dt.charCodeAt(Kn);if(ir<=127)Ne[gn++]=ir;else if(ir<=2047)Ne[gn++]=192|(1984&ir)>>6,Ne[gn++]=128|63&ir;else if((63488&ir)!==ve)Ne[gn++]=224|(61440&ir)>>12,Ne[gn++]=128|(4032&ir)>>6,Ne[gn++]=128|63&ir;else{const hr=Kn+1;if(hr===Bt||ir>=ge)Ne[gn++]=239,Ne[gn++]=191,Ne[gn++]=189;else{const Wr=dt.charCodeAt(hr);(64512&Wr)!==ge?(Ne[gn++]=239,Ne[gn++]=191,Ne[gn++]=189):(Kn=hr,ir=65536|(1023&ir)<<10|1023&Wr,Ne[gn++]=240|(1835008&ir)>>18,Ne[gn++]=128|(258048&ir)>>12,Ne[gn++]=128|(4032&ir)>>6,Ne[gn++]=128|63&ir)}}}return je.bytes=gn-We,Ne}function B(dt,Ne,We){let Bt="";null==Ne&&(Ne=0),null==We&&(We=dt.length);for(let gn=Ne;gn<We;){const Kn=dt[gn++];let ir;Kn<=128?ir=Kn:Kn>191&&Kn<224?ir=(31&Kn)<<6|63&dt[gn++]:Kn>239&&Kn<365?(ir=((7&Kn)<<18|(63&dt[gn++])<<12|(63&dt[gn++])<<6|63&dt[gn++])-65536,Bt+=String.fromCharCode(ve|ir>>10&1023),ir=ge|1023&ir):ir=(15&Kn)<<12|(63&dt[gn++])<<6|63&dt[gn++],Bt+=String.fromCharCode(ir)}return B.bytes=We-Ne,Bt}je.bytes=0,B.bytes=0;const l=dt=>dt instanceof Uint8Array;function f(dt){return"string"==typeof dt?Oe(dt):dt.byteLength}function w(dt){return dt instanceof Uint8Array?dt:Array.isArray(dt)?new Uint8Array(dt):je(dt)}function _(dt,Ne,We){if("string"!=typeof Ne)throw new Error("unknown input type");return je(Ne,dt,We),je.bytes}const D={},O=new Array(255);for(let dt=0;dt<=15;dt+=1){const Ne=dt.toString(16),We=Ne.toUpperCase();for(let Bt=0;Bt<=15;Bt+=1){const gn=Bt.toString(16),Kn=gn.toUpperCase(),ir=dt<<4|Bt,hr=`${Ne}${gn}`;O[ir]=hr,D[hr]=ir,D[`${We}${gn}`]=ir,D[`${Ne}${Kn}`]=ir,D[`${We}${Kn}`]=ir}}function T(dt){return dt.length>>>1}const E=Math.pow(2,24),q=Math.pow(2,16),X=Math.pow(2,8),ce=(dt,Ne)=>dt[Ne]*E+dt[Ne+1]*q+dt[Ne+2]*X+dt[Ne+3],me=(dt,Ne)=>dt[Ne]<<8|dt[Ne+1],Te=(dt,Ne,We)=>(dt[We+3]=Ne=+Ne,dt[We+2]=Ne>>>=8,dt[We+1]=Ne>>>=8,dt[We]=Ne>>>=8,We+4),Ke=(dt,Ne,We)=>(dt[We]=Ne>>8,dt[We+1]=255&Ne,We+2);function Qe(dt,Ne,We,Bt,gn){return We<0&&(Bt-=We,We=0),Bt<0&&(Bt=0),gn<0?new Uint8Array(0):We>=Ne.length||Bt>=gn?0:function ke(dt,Ne,We,Bt,gn){gn-Bt>Ne.length-We&&(gn=Bt+Ne.length-We);let Kn=gn-Bt;const ir=dt.length-Bt;return Kn>ir&&(Kn=ir),(0!==Bt||gn<dt.length)&&(dt=new Uint8Array(dt.buffer,dt.byteOffset+Bt,Kn)),Ne.set(dt,We),Kn}(dt,Ne,We,Bt,gn)}function oe({bytes:dt=0,encode:Ne,decode:We,encodingLength:Bt}){return Ne.bytes=dt,We.bytes=dt,{encode:Ne,decode:We,encodingLength:Bt||(()=>dt)}}const fe=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(fe.encodingLength(dt))),We||(We=0);const Bt=We,gn=dt.replace(/^\.|\.$/gm,"");if(gn.length){const Kn=gn.split(".");for(let ir=0;ir<Kn.length;ir++){const hr=_(Ne,Kn[ir],We+1);Ne[We]=hr,We+=hr+1}}return Ne[We++]=0,fe.encode.bytes=We-Bt,Ne},decode(dt,Ne){Ne||(Ne=0);const We=[];let Bt=Ne,gn=0,Kn=0,ir=!1;for(;;){if(Ne>=dt.length)throw new Error("Cannot decode name (buffer overflow)");const hr=dt[Ne++];if(Kn+=ir?0:1,0===hr)break;if(192&hr){if(192&~hr)throw new Error("Cannot decode name (bad label)");{if(Ne+1>dt.length)throw new Error("Cannot decode name (buffer overflow)");const Wr=me(dt,Ne-1)-49152;if(Wr>=Bt)throw new Error("Cannot decode name (bad pointer)");Ne=Wr,Bt=Wr,Kn+=ir?0:1,ir=!0}}else{if(Ne+hr>dt.length)throw new Error("Cannot decode name (buffer overflow)");if(gn+=hr+1,gn>254)throw new Error("Cannot decode name (name too long)");We.push(B(dt,Ne,Ne+hr)),Ne+=hr,Kn+=ir?0:hr}}return fe.decode.bytes=Kn,0===We.length?".":We.join(".")},encodingLength:dt=>"."===dt||".."===dt?1:f(dt.replace(/^\.|\.$/gm,""))+2}),we=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(we.encodingLength(dt))),We||(We=0);const Bt=_(Ne,dt,We+1);return Ne[We]=Bt,we.encode.bytes=Bt+1,Ne},decode(dt,Ne){Ne||(Ne=0);const We=dt[Ne],Bt=B(dt,Ne+1,Ne+1+We);return we.decode.bytes=We+1,Bt},encodingLength:dt=>f(dt)+1}),De=oe({bytes:12,encode(dt,Ne,We){Ne||(Ne=new Uint8Array(De.encodingLength(dt))),We||(We=0);const Bt=32767&(dt.flags||0),gn="response"===dt.type?32768:0;return Ke(Ne,dt.id||0,We),Ke(Ne,Bt|gn,We+2),Ke(Ne,dt.questions.length,We+4),Ke(Ne,dt.answers.length,We+6),Ke(Ne,dt.authorities.length,We+8),Ke(Ne,dt.additionals.length,We+10),Ne},decode(dt,Ne){if(Ne||(Ne=0),dt.length<12)throw new Error("Header must be 12 bytes");const We=me(dt,Ne+2);return{id:me(dt,Ne),type:32768&We?"response":"query",flags:32767&We,flag_qr:1==(We>>15&1),opcode:ae(We>>11&15),flag_aa:1==(We>>10&1),flag_tc:1==(We>>9&1),flag_rd:1==(We>>8&1),flag_ra:1==(We>>7&1),flag_z:1==(We>>6&1),flag_ad:1==(We>>5&1),flag_cd:1==(We>>4&1),rcode:Q(15&We),questions:new Array(me(dt,Ne+4)),answers:new Array(me(dt,Ne+6)),authorities:new Array(me(dt,Ne+8)),additionals:new Array(me(dt,Ne+10))}},encodingLength:()=>12}),$e=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array($e.encodingLength(dt))),We||(We=0);const Bt=dt.length;return Ke(Ne,Bt,We),Qe(dt,Ne,We+2,0,Bt),$e.encode.bytes=Bt+2,Ne},decode(dt,Ne){Ne||(Ne=0);const We=me(dt,Ne),Bt=dt.slice(Ne+2,Ne+2+We);return $e.decode.bytes=We+2,Bt},encodingLength:dt=>dt.length+2}),Je=oe({encode:(dt,Ne,We)=>(Ne||(Ne=new Uint8Array(Je.encodingLength(dt))),We||(We=0),fe.encode(dt,Ne,We+2),Ke(Ne,fe.encode.bytes,We),Je.encode.bytes=fe.encode.bytes+2,Ne),decode(dt,Ne){Ne||(Ne=0);const We=me(dt,Ne),Bt=fe.decode(dt,Ne+2);return Je.decode.bytes=We+2,Bt},encodingLength:dt=>fe.encodingLength(dt)+2}),Ze=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(Ze.encodingLength(dt))),We||(We=0);const Bt=We;return fe.encode(dt.mname,Ne,We+=2),fe.encode(dt.rname,Ne,We+=fe.encode.bytes),Te(Ne,dt.serial||0,We+=fe.encode.bytes),Te(Ne,dt.refresh||0,We+=4),Te(Ne,dt.retry||0,We+=4),Te(Ne,dt.expire||0,We+=4),Te(Ne,dt.minimum||0,We+=4),Ke(Ne,(We+=4)-Bt-2,Bt),Ze.encode.bytes=We-Bt,Ne},decode(dt,Ne){Ne||(Ne=0);const We=Ne,Bt={};return Bt.mname=fe.decode(dt,Ne+=2),Bt.rname=fe.decode(dt,Ne+=fe.decode.bytes),Bt.serial=ce(dt,Ne+=fe.decode.bytes),Bt.refresh=ce(dt,Ne+=4),Bt.retry=ce(dt,Ne+=4),Bt.expire=ce(dt,Ne+=4),Bt.minimum=ce(dt,Ne+=4),Ze.decode.bytes=(Ne+=4)-We,Bt},encodingLength:dt=>22+fe.encodingLength(dt.mname)+fe.encodingLength(dt.rname)}),Pt=oe({encode(dt,Ne,We){Array.isArray(dt)||(dt=[dt]);for(let gn=0;gn<dt.length;gn++)if("string"==typeof dt[gn]&&(dt[gn]=w(dt[gn])),!l(dt[gn]))throw new Error("Must be a Buffer");Ne||(Ne=new Uint8Array(Pt.encodingLength(dt))),We||(We=0);const Bt=We;return We+=2,dt.forEach(function(gn){Ne[We++]=gn.length,Qe(gn,Ne,We,0,gn.length),We+=gn.length}),Ke(Ne,We-Bt-2,Bt),Pt.encode.bytes=We-Bt,Ne},decode(dt,Ne){Ne||(Ne=0);const We=Ne;let Bt=me(dt,Ne);Ne+=2;const gn=[];for(;Bt>0;){const Kn=dt[Ne++];if(--Bt,Bt<Kn)throw new Error("Buffer overflow");gn.push(dt.slice(Ne,Ne+Kn)),Ne+=Kn,Bt-=Kn}return Pt.decode.bytes=Ne-We,gn},encodingLength(dt){Array.isArray(dt)||(dt=[dt]);let Ne=2;return dt.forEach(function(We){Ne+="string"==typeof We?f(We)+1:We.length+1}),Ne}}),nt=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(nt.encodingLength(dt))),We||(We=0),"string"==typeof dt&&(dt=w(dt)),dt||(dt=new Uint8Array(0));const Bt=We,gn=dt.length;return Qe(dt,Ne,We+=2,0,gn),Ke(Ne,(We+=gn)-Bt-2,Bt),nt.encode.bytes=We-Bt,Ne},decode(dt,Ne){Ne||(Ne=0);const We=Ne,Bt=me(dt,Ne),gn=dt.slice(Ne+=2,Ne+Bt);return nt.decode.bytes=(Ne+=Bt)-We,gn},encodingLength:dt=>dt?(l(dt)?dt.length:f(dt))+2:2}),Ge=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(Ge.encodingLength(dt))),We||(We=0);const Bt=We;return we.encode(dt.cpu,Ne,We+=2),we.encode(dt.os,Ne,We+=we.encode.bytes),Ke(Ne,(We+=we.encode.bytes)-Bt-2,Bt),Ge.encode.bytes=We-Bt,Ne},decode(dt,Ne){Ne||(Ne=0);const We=Ne,Bt={};return Bt.cpu=we.decode(dt,Ne+=2),Bt.os=we.decode(dt,Ne+=we.decode.bytes),Ge.decode.bytes=(Ne+=we.decode.bytes)-We,Bt},encodingLength:dt=>we.encodingLength(dt.cpu)+we.encodingLength(dt.os)+2}),Et=oe({encode:(dt,Ne,We)=>(Ne||(Ne=new Uint8Array(Et.encodingLength(dt))),We||(We=0),fe.encode(dt,Ne,We+2),Ke(Ne,fe.encode.bytes,We),Et.encode.bytes=fe.encode.bytes+2,Ne),decode(dt,Ne){Ne||(Ne=0);const We=fe.decode(dt,Ne+2);return Et.decode.bytes=fe.decode.bytes+2,We},encodingLength:dt=>fe.encodingLength(dt)+2}),K=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(K.encodingLength(dt))),We||(We=0),Ke(Ne,dt.priority||0,We+2),Ke(Ne,dt.weight||0,We+4),Ke(Ne,dt.port||0,We+6),fe.encode(dt.target,Ne,We+8);const Bt=fe.encode.bytes+6;return Ke(Ne,Bt,We),K.encode.bytes=Bt+2,Ne},decode(dt,Ne){Ne||(Ne=0);const We=me(dt,Ne),Bt={};return Bt.priority=me(dt,Ne+2),Bt.weight=me(dt,Ne+4),Bt.port=me(dt,Ne+6),Bt.target=fe.decode(dt,Ne+8),K.decode.bytes=We+2,Bt},encodingLength:dt=>8+fe.encodingLength(dt.target)}),C=oe({encode(dt,Ne,We){const Bt=C.encodingLength(dt);return Ne||(Ne=new Uint8Array(C.encodingLength(dt))),We||(We=0),dt.issuerCritical&&(dt.flags=C.ISSUER_CRITICAL),Ke(Ne,Bt-2,We),Ne[We+=2]=dt.flags||0,we.encode(dt.tag,Ne,We+=1),_(Ne,dt.value,We+=we.encode.bytes),We+=f(dt.value),C.encode.bytes=Bt,Ne},decode(dt,Ne){Ne||(Ne=0);const We=me(dt,Ne),Bt=Ne+=2,gn={};return gn.flags=dt[Ne],gn.tag=we.decode(dt,Ne+=1),gn.value=B(dt,Ne+=we.decode.bytes,Bt+We),gn.issuerCritical=!!(gn.flags&C.ISSUER_CRITICAL),C.decode.bytes=We+2,gn},encodingLength:dt=>we.encodingLength(dt.tag)+we.encodingLength(dt.value)+2});C.ISSUER_CRITICAL=128;const b=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(b.encodingLength(dt))),We||(We=0);const Bt=We;return Ke(Ne,dt.preference||0,We+=2),fe.encode(dt.exchange,Ne,We+=2),Ke(Ne,(We+=fe.encode.bytes)-Bt-2,Bt),b.encode.bytes=We-Bt,Ne},decode(dt,Ne){Ne||(Ne=0);const We=Ne,Bt={};return Bt.preference=me(dt,Ne+=2),Bt.exchange=fe.decode(dt,Ne+=2),b.decode.bytes=(Ne+=fe.decode.bytes)-We,Bt},encodingLength:dt=>4+fe.encodingLength(dt.exchange)}),z=oe({encode:(dt,Ne,We)=>(Ne||(Ne=new Uint8Array(z.encodingLength(dt))),We||(We=0),Ke(Ne,4,We),M.encode(dt,Ne,We+=2),Ne),decode:(dt,Ne)=>(Ne||(Ne=0),M.decode(dt,Ne+=2)),bytes:6}),le=oe({encode:(dt,Ne,We)=>(Ne||(Ne=new Uint8Array(le.encodingLength(dt))),We||(We=0),Ke(Ne,16,We),j.encode(dt,Ne,We+=2),le.encode.bytes=18,Ne),decode(dt,Ne){Ne||(Ne=0);const We=j.decode(dt,Ne+=2);return le.decode.bytes=18,We},bytes:18}),Ae=dt=>new Uint8Array(dt),Be=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(Be.encodingLength(dt))),We||(We=0);const Bt=We,gn=he(dt.code);if(Ke(Ne,gn,We),We+=2,dt.data)Ke(Ne,dt.data.length,We),Qe(dt.data,Ne,We+=2),We+=dt.data.length;else switch(gn){case 8:{const Kn=dt.sourcePrefixLength||0,ir=dt.family||function H(dt){return U(dt)===M.size?1:2}(dt.ip),hr=function V(dt,Ne,We){We=~~We;const Bt=U(dt);return"function"==typeof Ne&&(Ne=Ne(We+Bt)),Bt===M.size?M.encode(dt,Ne,We):j.encode(dt,Ne,We)}(dt.ip,Ae),Wr=Math.ceil(Kn/8);Ke(Ne,Wr+4,We),Ke(Ne,ir,We+=2),We+=2,Ne[We++]=Kn,Ne[We++]=dt.scopePrefixLength||0,Qe(hr,Ne,We,0,Wr),We+=Wr}break;case 11:dt.timeout?(Ke(Ne,2,We),Ke(Ne,dt.timeout,We+=2),We+=2):(Ke(Ne,0,We),We+=2);break;case 12:{const Kn=dt.length||0;Ke(Ne,Kn,We),Ne.fill(0,We+=2,We+Kn),We+=Kn}break;case 14:Ke(Ne,2*dt.tags.length,We),We+=2;for(const ir of dt.tags)Ke(Ne,ir,We),We+=2;break;default:throw new Error(`Unknown roption code: ${dt.code}`)}return Be.encode.bytes=We-Bt,Ne},decode(dt,Ne){Ne||(Ne=0);const We={};We.code=me(dt,Ne),We.type=function pe(dt){switch(dt){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return dt<0?null:`OPTION_${dt}`}(We.code);const Bt=me(dt,Ne+=2);switch(We.data=dt.slice(Ne+=2,Ne+Bt),We.code){case 8:We.family=me(dt,Ne),Ne+=2,We.sourcePrefixLength=dt[Ne++],We.scopePrefixLength=dt[Ne++];{const gn=new Uint8Array(1===We.family?4:16);Qe(dt,gn,0,Ne,Ne+Bt-4),We.ip=function P(dt,Ne,We){if(Ne=~~Ne,(We=We||dt.length-Ne)===M.size)return M.decode(dt,Ne,We);if(We===j.size)return j.decode(dt,Ne,We);throw Error(`Invalid buffer size needs to be ${M.size} for v4 or ${j.size} for v6.`)}(gn)}break;case 11:Bt>0&&(We.timeout=me(dt,Ne),Ne+=2);break;case 14:We.tags=[];for(let gn=0;gn<Bt;gn+=2)We.tags.push(me(dt,Ne)),Ne+=2}return Be.decode.bytes=Bt+4,We},encodingLength(dt){if(dt.data)return dt.data.length+4;switch(he(dt.code)){case 8:return Math.ceil((dt.sourcePrefixLength||0)/8)+8;case 11:return"number"==typeof dt.timeout?6:4;case 12:return dt.length+4;case 14:return 4+2*dt.tags.length}throw new Error(`Unknown roption code: ${dt.code}`)}}),ft=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(ft.encodingLength(dt))),We||(We=0);const Bt=We,gn=pr(dt,Be);return Ke(Ne,gn,We),We=qn(dt,Be,Ne,We+2),ft.encode.bytes=We-Bt,Ne},decode(dt,Ne){Ne||(Ne=0);const We=Ne,Bt=[];let gn=me(dt,Ne);Ne+=2;let Kn=0;for(;gn>0;)Bt[Kn++]=Be.decode(dt,Ne),Ne+=Be.decode.bytes,gn-=Be.decode.bytes;return ft.decode.bytes=Ne-We,Bt},encodingLength:dt=>2+pr(dt||[],Be)}),Yt=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(Yt.encodingLength(dt))),We||(We=0);const Bt=We,gn=dt.key;if(!l(gn))throw new Error("Key must be a Buffer");return Ke(Ne,dt.flags,We+=2),Ne[We+=2]=Yt.PROTOCOL_DNSSEC,Ne[We+=1]=dt.algorithm,Qe(gn,Ne,We+=1,0,gn.length),Yt.encode.bytes=(We+=gn.length)-Bt,Ke(Ne,Yt.encode.bytes-2,Bt),Ne},decode(dt,Ne){Ne||(Ne=0);const We=Ne,Bt={},gn=me(dt,Ne);if(Bt.flags=me(dt,Ne+=2),dt[Ne+=2]!==Yt.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return Bt.algorithm=dt[Ne+=1],Bt.key=dt.slice(Ne+=1,We+gn+2),Yt.decode.bytes=(Ne+=Bt.key.length)-We,Bt},encodingLength:dt=>6+f(dt.key)});Yt.PROTOCOL_DNSSEC=3,Yt.ZONE_KEY=128,Yt.SECURE_ENTRYPOINT=32768;const Rt=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(Rt.encodingLength(dt))),We||(We=0);const Bt=We,gn=dt.signature;if(!l(gn))throw new Error("Signature must be a Buffer");return We+=2,Ke(Ne,W(dt.typeCovered),We),Ne[We+=2]=dt.algorithm,Ne[We+=1]=dt.labels,Te(Ne,dt.originalTTL,We+=1),Te(Ne,dt.expiration,We+=4),Te(Ne,dt.inception,We+=4),Ke(Ne,dt.keyTag,We+=4),fe.encode(dt.signersName,Ne,We+=2),Qe(gn,Ne,We+=fe.encode.bytes,0,gn.length),Rt.encode.bytes=(We+=gn.length)-Bt,Ke(Ne,Rt.encode.bytes-2,Bt),Ne},decode(dt,Ne){Ne||(Ne=0);const We=Ne,Bt={},gn=me(dt,Ne);return Bt.typeCovered=ee(me(dt,Ne+=2)),Bt.algorithm=dt[Ne+=2],Bt.labels=dt[Ne+=1],Bt.originalTTL=ce(dt,Ne+=1),Bt.expiration=ce(dt,Ne+=4),Bt.inception=ce(dt,Ne+=4),Bt.keyTag=me(dt,Ne+=4),Bt.signersName=fe.decode(dt,Ne+=2),Bt.signature=dt.slice(Ne+=fe.decode.bytes,We+gn+2),Rt.decode.bytes=(Ne+=Bt.signature.length)-We,Bt},encodingLength:dt=>20+fe.encodingLength(dt.signersName)+f(dt.signature)}),Vt=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(Vt.encodingLength(dt))),We||(We=0);const Bt=We;return fe.encode(dt.mbox||".",Ne,We+=2),fe.encode(dt.txt||".",Ne,We+=fe.encode.bytes),Vt.encode.bytes=(We+=fe.encode.bytes)-Bt,Ke(Ne,Vt.encode.bytes-2,Bt),Ne},decode(dt,Ne){Ne||(Ne=0);const We=Ne,Bt={};return Bt.mbox=fe.decode(dt,Ne+=2)||".",Bt.txt=fe.decode(dt,Ne+=fe.decode.bytes)||".",Vt.decode.bytes=(Ne+=fe.decode.bytes)-We,Bt},encodingLength:dt=>2+fe.encodingLength(dt.mbox||".")+fe.encodingLength(dt.txt||".")}),dn=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(dn.encodingLength(dt))),We||(We=0);const Bt=We,gn=[];for(let Kn=0;Kn<dt.length;Kn++){const ir=W(dt[Kn]);void 0===gn[ir>>8]&&(gn[ir>>8]=[]),gn[ir>>8][ir>>3&31]|=1<<7-(7&ir)}for(let Kn=0;Kn<gn.length;Kn++)if(void 0!==gn[Kn]){const ir=w(gn[Kn]);Ne[We]=Kn,Ne[We+=1]=ir.length,Qe(ir,Ne,We+=1,0,ir.length),We+=ir.length}return dn.encode.bytes=We-Bt,Ne},decode(dt,Ne,We){Ne||(Ne=0);const Bt=Ne,gn=[];for(;Ne-Bt<We;){const Kn=dt[Ne],ir=dt[Ne+=1];Ne+=1;for(let hr=0;hr<ir;hr++){const Wr=dt[Ne+hr];for(let Vr=0;Vr<8;Vr++)if(Wr&1<<7-Vr){const ti=ee(Kn<<8|hr<<3|Vr);gn.push(ti)}}Ne+=ir}return dn.decode.bytes=Ne-Bt,gn},encodingLength(dt){const Ne=[];for(let Bt=0;Bt<dt.length;Bt++){const gn=W(dt[Bt]);Ne[gn>>8]=Math.max(Ne[gn>>8]||0,255&gn)}let We=0;for(let Bt=0;Bt<Ne.length;Bt++)void 0!==Ne[Bt]&&(We+=2+Math.ceil((Ne[Bt]+1)/8));return We}}),Mn=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(Mn.encodingLength(dt))),We||(We=0);const Bt=We;return fe.encode(dt.nextDomain,Ne,We+=2),dn.encode(dt.rrtypes,Ne,We+=fe.encode.bytes),Mn.encode.bytes=(We+=dn.encode.bytes)-Bt,Ke(Ne,Mn.encode.bytes-2,Bt),Ne},decode(dt,Ne){Ne||(Ne=0);const We=Ne,Bt={},gn=me(dt,Ne);return Bt.nextDomain=fe.decode(dt,Ne+=2),Bt.rrtypes=dn.decode(dt,Ne+=fe.decode.bytes,gn-(Ne-We)),Mn.decode.bytes=(Ne+=dn.decode.bytes)-We,Bt},encodingLength:dt=>2+fe.encodingLength(dt.nextDomain)+dn.encodingLength(dt.rrtypes)}),En=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(En.encodingLength(dt))),We||(We=0);const Bt=We,gn=dt.salt;if(!l(gn))throw new Error("salt must be a Buffer");const Kn=dt.nextDomain;if(!l(Kn))throw new Error("nextDomain must be a Buffer");return Ne[We+=2]=dt.algorithm,Ne[We+=1]=dt.flags,Ke(Ne,dt.iterations,We+=1),Ne[We+=2]=gn.length,Qe(gn,Ne,We+=1,0,gn.length),Ne[We+=gn.length]=Kn.length,Qe(Kn,Ne,We+=1,0,Kn.length),dn.encode(dt.rrtypes,Ne,We+=Kn.length),En.encode.bytes=(We+=dn.encode.bytes)-Bt,Ke(Ne,En.encode.bytes-2,Bt),Ne},decode(dt,Ne){Ne||(Ne=0);const We=Ne,Bt={},gn=me(dt,Ne);Bt.algorithm=dt[Ne+=2],Bt.flags=dt[Ne+=1],Bt.iterations=me(dt,Ne+=1);const Kn=dt[Ne+=2];Bt.salt=dt.slice(Ne+=1,Ne+Kn);const ir=dt[Ne+=Kn];return Bt.nextDomain=dt.slice(Ne+=1,Ne+ir),Bt.rrtypes=dn.decode(dt,Ne+=ir,gn-(Ne-We)),En.decode.bytes=(Ne+=dn.decode.bytes)-We,Bt},encodingLength:dt=>8+dt.salt.length+dt.nextDomain.length+dn.encodingLength(dt.rrtypes)}),Ar=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(Ar.encodingLength(dt))),We||(We=0);const Bt=We,gn=dt.digest;if(!l(gn))throw new Error("Digest must be a Buffer");return Ke(Ne,dt.keyTag,We+=2),Ne[We+=2]=dt.algorithm,Ne[We+=1]=dt.digestType,Qe(gn,Ne,We+=1,0,gn.length),Ar.encode.bytes=(We+=gn.length)-Bt,Ke(Ne,Ar.encode.bytes-2,Bt),Ne},decode(dt,Ne){Ne||(Ne=0);const We=Ne,Bt={},gn=me(dt,Ne);return Bt.keyTag=me(dt,Ne+=2),Bt.algorithm=dt[Ne+=2],Bt.digestType=dt[Ne+=1],Bt.digest=dt.slice(Ne+=1,We+gn+2),Ar.decode.bytes=(Ne+=Bt.digest.length)-We,Bt},encodingLength:dt=>6+f(dt.digest)}),jn=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(jn.encodingLength(dt))),We||(We=0);const Bt=We;Ne[We+=2]=dt.algorithm,Ne[We+=1]=dt.hash,We+=1;const gn=T(dt.fingerprint),Kn=mn(dt.hash);if(gn!==Kn)throw new Error(`Invalid length of fingerprint "${dt.fingerprint}" for hashType=${dt.hash}: ${gn} != ${Kn}`);return function c(dt,Ne,We,Bt){let gn=0;for(;We<Bt;){const Kn=Ne.substr(gn,2),ir=D[Kn];if(void 0===ir)return;dt[We++]=ir,gn+=2}}(Ne,dt.fingerprint,We,We+=gn),jn.encode.bytes=We-Bt,Ke(Ne,jn.encode.bytes-2,Bt),Ne},decode(dt,Ne){Ne||(Ne=0);const We=Ne,Bt={};Bt.algorithm=dt[Ne+=2],Bt.hash=dt[Ne+=1],Ne+=1;const gn=mn(Bt.hash);return Bt.fingerprint=function $(dt,Ne,We){let Bt="";for(let gn=Ne;gn<We;){const Kn=dt[gn++];Bt+=O[Kn]}return Bt}(dt,Ne,Ne+gn),jn.decode.bytes=(Ne+=gn)-We,Bt},encodingLength:dt=>4+T(dt.fingerprint)});function mn(dt){if(1===dt)return 20;if(2===dt)return 32;throw new Error(`Invalid hashType=${dt}, supported=1,2`)}function pn(dt){switch(dt.toUpperCase()){case"A":return z;case"PTR":case"CNAME":case"DNAME":return Et;case"TXT":return Pt;case"NULL":return nt;case"AAAA":return le;case"SRV":return K;case"HINFO":return Ge;case"CAA":return C;case"NS":return Je;case"SOA":return Ze;case"MX":return b;case"OPT":return ft;case"DNSKEY":return Yt;case"RRSIG":return Rt;case"RP":return Vt;case"NSEC":return Mn;case"NSEC3":return En;case"SSHFP":return jn;case"DS":return Ar}return $e}jn.getFingerprintLengthForHashType=mn;const kt=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(kt.encodingLength(dt))),We||(We=0);const Bt=We;if(fe.encode(dt.name,Ne,We),We+=fe.encode.bytes,Ke(Ne,W(dt.type),We),"OPT"===dt.type.toUpperCase()){if("."!==dt.name)throw new Error("OPT name must be root.");Ke(Ne,dt.udpPayloadSize||4096,We+2),Ne[We+4]=dt.extendedRcode||0,Ne[We+5]=dt.ednsVersion||0,Ke(Ne,dt.flags||0,We+6),ft.encode(dt.options||[],Ne,We+=8),We+=ft.encode.bytes}else{let gn=ue(void 0===dt.class?"IN":dt.class);dt.flush&&(gn|=32768),Ke(Ne,gn,We+2),Te(Ne,dt.ttl||0,We+4),We+=8;const Kn=pn(dt.type);Kn.encode(dt.data,Ne,We),We+=Kn.encode.bytes}return kt.encode.bytes=We-Bt,Ne},decode(dt,Ne){Ne||(Ne=0);const We={},Bt=Ne;if(We.name=fe.decode(dt,Ne),We.type=ee(me(dt,Ne+=fe.decode.bytes)),"OPT"===We.type)We.udpPayloadSize=me(dt,Ne+2),We.extendedRcode=dt[Ne+4],We.ednsVersion=dt[Ne+5],We.flags=me(dt,Ne+6),We.flag_do=1==(We.flags>>15&1),We.options=ft.decode(dt,Ne+8),Ne+=8+ft.decode.bytes;else{const gn=me(dt,Ne+2);We.ttl=ce(dt,Ne+4),We.class=te(-32769&gn),We.flush=!!(32768&gn);const Kn=pn(We.type);We.data=Kn.decode(dt,Ne+8),Ne+=8+Kn.decode.bytes}return kt.decode.bytes=Ne-Bt,We},encodingLength(dt){const Ne=null!=dt.data?dt.data:dt.options;return fe.encodingLength(dt.name)+8+pn(dt.type).encodingLength(Ne)}}),St=oe({encode(dt,Ne,We){Ne||(Ne=new Uint8Array(St.encodingLength(dt))),We||(We=0);const Bt=We;return fe.encode(dt.name,Ne,We),We+=fe.encode.bytes,Ke(Ne,W(dt.type),We),We+=2,Ke(Ne,ue(void 0===dt.class?"IN":dt.class),We),St.encode.bytes=(We+=2)-Bt,dt},decode(dt,Ne){Ne||(Ne=0);const We=Ne,Bt={};return Bt.name=fe.decode(dt,Ne),Bt.type=ee(me(dt,Ne+=fe.decode.bytes)),Bt.class=te(me(dt,Ne+=2)),Ne+=2,!!(32768&Bt.class)&&(Bt.class&=-32769),St.decode.bytes=Ne-We,Bt},encodingLength:dt=>fe.encodingLength(dt.name)+4}),an=1024,st={encode:function(dt,Ne,We){const Bt=!Ne;Bt&&(Ne=new Uint8Array(kn(dt))),We||(We=0);const gn=We;return dt.questions||(dt.questions=[]),dt.answers||(dt.answers=[]),dt.authorities||(dt.authorities=[]),dt.additionals||(dt.additionals=[]),De.encode(dt,Ne,We),We=qn(dt.questions,St,Ne,We+=De.encode.bytes),We=qn(dt.answers,kt,Ne,We),We=qn(dt.authorities,kt,Ne,We),We=qn(dt.additionals,kt,Ne,We),st.encode.bytes=We-gn,Bt&&xn.bytes!==Ne.length?Ne.slice(0,xn.bytes):Ne},decode:function(dt,Ne){Ne||(Ne=0);const We=Ne,Bt=De.decode(dt,Ne);return Ne=Jt(Bt.questions,St,dt,Ne+=De.decode.bytes),Ne=Jt(Bt.answers,kt,dt,Ne),Ne=Jt(Bt.authorities,kt,dt,Ne),Ne=Jt(Bt.additionals,kt,dt,Ne),st.decode.bytes=Ne-We,Bt},encodingLength:function(dt){return De.encodingLength(dt)+pr(dt.questions||[],St)+pr(dt.answers||[],kt)+pr(dt.authorities||[],kt)+pr(dt.additionals||[],kt)}};function mt(dt,Ne){if(dt.questions)throw new Error("Only one .question object expected instead of a .questions array!");const We=Object.assign({type:Ne},dt);return We.question&&(We.questions=[We.question],delete We.question),We}st.encode.bytes=0,st.decode.bytes=0;const sn={encode:function(dt,Ne,We){return Ne=st.encode(mt(dt,"query"),Ne,We),sn.encode.bytes=st.encode.bytes,Ne},decode:function(dt,Ne){const We=st.decode(dt,Ne);return sn.decode.bytes=st.decode.bytes,We.questions&&(We.question=We.questions[0],delete We.questions),We},encodingLength:function(dt){return st.encodingLength(mt(dt,"query"))}};sn.encode.bytes=0,sn.decode.bytes=0;const Zt={encode:function(dt,Ne,We){return Ne=st.encode(mt(dt,"response"),Ne,We),Zt.encode.bytes=st.encode.bytes,Ne},decode:function(dt,Ne){const We=st.decode(dt,Ne);return Zt.decode.bytes=st.decode.bytes,We.questions&&(We.question=We.questions[0],delete We.questions),We},encodingLength:function(dt){return st.encodingLength(mt(dt,"response"))}};Zt.encode.bytes=0,Zt.decode.bytes=0;const xn=st.encode,cr=st.decode,kn=st.encodingLength;function pr(dt,Ne){let We=0;for(let Bt=0;Bt<dt.length;Bt++)We+=Ne.encodingLength(dt[Bt]);return We}function qn(dt,Ne,We,Bt){for(let gn=0;gn<dt.length;gn++)Ne.encode(dt[gn],We,Bt),Bt+=Ne.encode.bytes;return Bt}function Jt(dt,Ne,We,Bt){for(let gn=0;gn<dt.length;gn++)dt[gn]=Ne.decode(We,Bt),Bt+=Ne.decode.bytes;return Bt}},34931:(Ye,J,A)=>{"use strict";function h(V){if(!Number.isSafeInteger(V)||V<0)throw new Error(`wrong positive integer: ${V}`)}function x(V){if("boolean"!=typeof V)throw new Error(`boolean expected, not ${V}`)}function Y(V,...P){if(!function N(V){return null!=V&&"object"==typeof V&&(V instanceof Uint8Array||"Uint8Array"===V.constructor.name)}(V))throw new Error("Uint8Array expected");if(P.length>0&&!P.includes(V.length))throw new Error(`Uint8Array expected of length ${P}, not of length=${V.length}`)}function j(V,P=!0){if(V.destroyed)throw new Error("Hash instance has been destroyed");if(P&&V.finished)throw new Error("Hash#digest() has already been called")}function R(V,P){Y(V);const ee=P.outputLen;if(V.length<ee)throw new Error(`digestInto() expects output buffer of length at least ${ee}`)}A.d(J,{CG:()=>R,ai:()=>h,ee:()=>Y,lc:()=>x,t2:()=>j})},94730:(Ye,J,A)=>{"use strict";var h=A(25953),x=A(34931);const N=(O,$)=>255&O[$++]|(255&O[$++])<<8;class Y{constructor($){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,$=(0,h.ZJ)($),(0,h.qj)($,32);const T=N($,0),c=N($,2),E=N($,4),q=N($,6),X=N($,8),ce=N($,10),me=N($,12),Te=N($,14);this.r[0]=8191&T,this.r[1]=8191&(T>>>13|c<<3),this.r[2]=7939&(c>>>10|E<<6),this.r[3]=8191&(E>>>7|q<<9),this.r[4]=255&(q>>>4|X<<12),this.r[5]=X>>>1&8190,this.r[6]=8191&(X>>>14|ce<<2),this.r[7]=8065&(ce>>>11|me<<5),this.r[8]=8191&(me>>>8|Te<<8),this.r[9]=Te>>>5&127;for(let Ke=0;Ke<8;Ke++)this.pad[Ke]=N($,16+2*Ke)}process($,T,c=!1){const E=c?0:2048,{h:q,r:X}=this,ce=X[0],me=X[1],Te=X[2],Ke=X[3],Qe=X[4],ke=X[5],Ie=X[6],Xe=X[7],Se=X[8],Le=X[9],Ee=N($,T+0),be=N($,T+2),oe=N($,T+4),fe=N($,T+6),we=N($,T+8),De=N($,T+10),$e=N($,T+12),Je=N($,T+14);let Ze=q[0]+(8191&Ee),Pt=q[1]+(8191&(Ee>>>13|be<<3)),nt=q[2]+(8191&(be>>>10|oe<<6)),Ge=q[3]+(8191&(oe>>>7|fe<<9)),Et=q[4]+(8191&(fe>>>4|we<<12)),K=q[5]+(we>>>1&8191),C=q[6]+(8191&(we>>>14|De<<2)),b=q[7]+(8191&(De>>>11|$e<<5)),z=q[8]+(8191&($e>>>8|Je<<8)),le=q[9]+(Je>>>5|E),Ae=0,Be=Ae+Ze*ce+Pt*(5*Le)+nt*(5*Se)+Ge*(5*Xe)+Et*(5*Ie);Ae=Be>>>13,Be&=8191,Be+=K*(5*ke)+C*(5*Qe)+b*(5*Ke)+z*(5*Te)+le*(5*me),Ae+=Be>>>13,Be&=8191;let ft=Ae+Ze*me+Pt*ce+nt*(5*Le)+Ge*(5*Se)+Et*(5*Xe);Ae=ft>>>13,ft&=8191,ft+=K*(5*Ie)+C*(5*ke)+b*(5*Qe)+z*(5*Ke)+le*(5*Te),Ae+=ft>>>13,ft&=8191;let Yt=Ae+Ze*Te+Pt*me+nt*ce+Ge*(5*Le)+Et*(5*Se);Ae=Yt>>>13,Yt&=8191,Yt+=K*(5*Xe)+C*(5*Ie)+b*(5*ke)+z*(5*Qe)+le*(5*Ke),Ae+=Yt>>>13,Yt&=8191;let Rt=Ae+Ze*Ke+Pt*Te+nt*me+Ge*ce+Et*(5*Le);Ae=Rt>>>13,Rt&=8191,Rt+=K*(5*Se)+C*(5*Xe)+b*(5*Ie)+z*(5*ke)+le*(5*Qe),Ae+=Rt>>>13,Rt&=8191;let Vt=Ae+Ze*Qe+Pt*Ke+nt*Te+Ge*me+Et*ce;Ae=Vt>>>13,Vt&=8191,Vt+=K*(5*Le)+C*(5*Se)+b*(5*Xe)+z*(5*Ie)+le*(5*ke),Ae+=Vt>>>13,Vt&=8191;let dn=Ae+Ze*ke+Pt*Qe+nt*Ke+Ge*Te+Et*me;Ae=dn>>>13,dn&=8191,dn+=K*ce+C*(5*Le)+b*(5*Se)+z*(5*Xe)+le*(5*Ie),Ae+=dn>>>13,dn&=8191;let Mn=Ae+Ze*Ie+Pt*ke+nt*Qe+Ge*Ke+Et*Te;Ae=Mn>>>13,Mn&=8191,Mn+=K*me+C*ce+b*(5*Le)+z*(5*Se)+le*(5*Xe),Ae+=Mn>>>13,Mn&=8191;let En=Ae+Ze*Xe+Pt*Ie+nt*ke+Ge*Qe+Et*Ke;Ae=En>>>13,En&=8191,En+=K*Te+C*me+b*ce+z*(5*Le)+le*(5*Se),Ae+=En>>>13,En&=8191;let Ar=Ae+Ze*Se+Pt*Xe+nt*Ie+Ge*ke+Et*Qe;Ae=Ar>>>13,Ar&=8191,Ar+=K*Ke+C*Te+b*me+z*ce+le*(5*Le),Ae+=Ar>>>13,Ar&=8191;let jn=Ae+Ze*Le+Pt*Se+nt*Xe+Ge*Ie+Et*ke;Ae=jn>>>13,jn&=8191,jn+=K*Qe+C*Ke+b*Te+z*me+le*ce,Ae+=jn>>>13,jn&=8191,Ae=(Ae<<2)+Ae|0,Ae=Ae+Be|0,Be=8191&Ae,Ae>>>=13,ft+=Ae,q[0]=Be,q[1]=ft,q[2]=Yt,q[3]=Rt,q[4]=Vt,q[5]=dn,q[6]=Mn,q[7]=En,q[8]=Ar,q[9]=jn}finalize(){const{h:$,pad:T}=this,c=new Uint16Array(10);let E=$[1]>>>13;$[1]&=8191;for(let ce=2;ce<10;ce++)$[ce]+=E,E=$[ce]>>>13,$[ce]&=8191;$[0]+=5*E,E=$[0]>>>13,$[0]&=8191,$[1]+=E,E=$[1]>>>13,$[1]&=8191,$[2]+=E,c[0]=$[0]+5,E=c[0]>>>13,c[0]&=8191;for(let ce=1;ce<10;ce++)c[ce]=$[ce]+E,E=c[ce]>>>13,c[ce]&=8191;c[9]-=8192;let q=(1^E)-1;for(let ce=0;ce<10;ce++)c[ce]&=q;q=~q;for(let ce=0;ce<10;ce++)$[ce]=$[ce]&q|c[ce];$[0]=65535&($[0]|$[1]<<13),$[1]=65535&($[1]>>>3|$[2]<<10),$[2]=65535&($[2]>>>6|$[3]<<7),$[3]=65535&($[3]>>>9|$[4]<<4),$[4]=65535&($[4]>>>12|$[5]<<1|$[6]<<14),$[5]=65535&($[6]>>>2|$[7]<<11),$[6]=65535&($[7]>>>5|$[8]<<8),$[7]=65535&($[8]>>>8|$[9]<<5);let X=$[0]+T[0];$[0]=65535&X;for(let ce=1;ce<8;ce++)X=($[ce]+T[ce]|0)+(X>>>16)|0,$[ce]=65535&X}update($){(0,x.t2)(this);const{buffer:T,blockLen:c}=this,E=($=(0,h.ZJ)($)).length;for(let q=0;q<E;){const X=Math.min(c-this.pos,E-q);if(X!==c)T.set($.subarray(q,q+X),this.pos),this.pos+=X,q+=X,this.pos===c&&(this.process(T,0,!1),this.pos=0);else for(;c<=E-q;q+=c)this.process($,q)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto($){(0,x.t2)(this),(0,x.CG)($,this),this.finished=!0;const{buffer:T,h:c}=this;let{pos:E}=this;if(E){for(T[E++]=1;E<16;E++)T[E]=0;this.process(T,0,!0)}this.finalize();let q=0;for(let X=0;X<8;X++)$[q++]=c[X]>>>0,$[q++]=c[X]>>>8;return $}digest(){const{buffer:$,outputLen:T}=this;this.digestInto($);const c=$.slice(0,T);return this.destroy(),c}}const j=function M(O){const $=(c,E)=>O(E).update((0,h.ZJ)(c)).digest(),T=O(new Uint8Array(32));return $.outputLen=T.outputLen,$.blockLen=T.blockLen,$.create=c=>O(c),$}(O=>new Y(O)),R=(0,h.AI)("expand 16-byte k"),U=(0,h.AI)("expand 32-byte k"),H=(0,h.DH)(R),V=(0,h.DH)(U);function P(O,$){return O<<$|O>>>32-$}function ee(O){return O.byteOffset%4==0}const de=2**32-1,ae=new Uint32Array;function te(O,$){const{allowShortKeys:T,extendNonceFn:c,counterLength:E,counterRight:q,rounds:X}=(0,h.tY)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},$);if("function"!=typeof O)throw new Error("core must be a function");return(0,x.ai)(E),(0,x.ai)(X),(0,x.lc)(q),(0,x.lc)(T),(ce,me,Te,Ke,Qe=0)=>{(0,x.ee)(ce),(0,x.ee)(me),(0,x.ee)(Te);const ke=Te.length;if(Ke||(Ke=new Uint8Array(ke)),(0,x.ee)(Ke),(0,x.ai)(Qe),Qe<0||Qe>=de)throw new Error("arx: counter overflow");if(Ke.length<ke)throw new Error(`arx: output (${Ke.length}) is shorter than data (${ke})`);const Ie=[];let Se,Le,Xe=ce.length;if(32===Xe)Se=ce.slice(),Ie.push(Se),Le=V;else{if(16!==Xe||!T)throw new Error(`arx: invalid 32-byte key, got length=${Xe}`);Se=new Uint8Array(32),Se.set(ce),Se.set(ce,16),Le=H,Ie.push(Se)}ee(me)||(me=me.slice(),Ie.push(me));const Ee=(0,h.DH)(Se);if(c){if(24!==me.length)throw new Error("arx: extended nonce must be 24 bytes");c(Le,Ee,(0,h.DH)(me.subarray(0,16)),Ee),me=me.subarray(16)}const be=16-E;if(be!==me.length)throw new Error(`arx: nonce must be ${be} or 16 bytes`);if(12!==be){const fe=new Uint8Array(12);fe.set(me,q?0:12-me.length),Ie.push(me=fe)}const oe=(0,h.DH)(me);for(function re(O,$,T,c,E,q,X,ce){const me=E.length,Te=new Uint8Array(64),Ke=(0,h.DH)(Te),Qe=ee(E)&&ee(q),ke=Qe?(0,h.DH)(E):ae,Ie=Qe?(0,h.DH)(q):ae;for(let Xe=0;Xe<me;X++){if(O($,T,c,Ke,X,ce),X>=de)throw new Error("arx: counter overflow");const Se=Math.min(64,me-Xe);if(Qe&&64===Se){const Le=Xe/4;if(Xe%4!=0)throw new Error("arx: invalid block position");for(let be,Ee=0;Ee<16;Ee++)be=Le+Ee,Ie[be]=ke[be]^Ke[Ee];Xe+=64}else{for(let Ee,Le=0;Le<Se;Le++)Ee=Xe+Le,q[Ee]=E[Ee]^Te[Le];Xe+=Se}}}(O,Le,Ee,oe,Te,Ke,Qe,X);Ie.length>0;)Ie.pop().fill(0);return Ke}}function ue(O,$,T,c,E,q=20){let X=O[0],ce=O[1],me=O[2],Te=O[3],Ke=$[0],Qe=$[1],ke=$[2],Ie=$[3],Xe=$[4],Se=$[5],Le=$[6],Ee=$[7],be=E,oe=T[0],fe=T[1],we=T[2],De=X,$e=ce,Je=me,Ze=Te,Pt=Ke,nt=Qe,Ge=ke,Et=Ie,K=Xe,C=Se,b=Le,z=Ee,le=be,Ae=oe,Be=fe,ft=we;for(let Rt=0;Rt<q;Rt+=2)De=De+Pt|0,le=P(le^De,16),K=K+le|0,Pt=P(Pt^K,12),De=De+Pt|0,le=P(le^De,8),K=K+le|0,Pt=P(Pt^K,7),$e=$e+nt|0,Ae=P(Ae^$e,16),C=C+Ae|0,nt=P(nt^C,12),$e=$e+nt|0,Ae=P(Ae^$e,8),C=C+Ae|0,nt=P(nt^C,7),Je=Je+Ge|0,Be=P(Be^Je,16),b=b+Be|0,Ge=P(Ge^b,12),Je=Je+Ge|0,Be=P(Be^Je,8),b=b+Be|0,Ge=P(Ge^b,7),Ze=Ze+Et|0,ft=P(ft^Ze,16),z=z+ft|0,Et=P(Et^z,12),Ze=Ze+Et|0,ft=P(ft^Ze,8),z=z+ft|0,Et=P(Et^z,7),De=De+nt|0,ft=P(ft^De,16),b=b+ft|0,nt=P(nt^b,12),De=De+nt|0,ft=P(ft^De,8),b=b+ft|0,nt=P(nt^b,7),$e=$e+Ge|0,le=P(le^$e,16),z=z+le|0,Ge=P(Ge^z,12),$e=$e+Ge|0,le=P(le^$e,8),z=z+le|0,Ge=P(Ge^z,7),Je=Je+Et|0,Ae=P(Ae^Je,16),K=K+Ae|0,Et=P(Et^K,12),Je=Je+Et|0,Ae=P(Ae^Je,8),K=K+Ae|0,Et=P(Et^K,7),Ze=Ze+Pt|0,Be=P(Be^Ze,16),C=C+Be|0,Pt=P(Pt^C,12),Ze=Ze+Pt|0,Be=P(Be^Ze,8),C=C+Be|0,Pt=P(Pt^C,7);let Yt=0;c[Yt++]=X+De|0,c[Yt++]=ce+$e|0,c[Yt++]=me+Je|0,c[Yt++]=Te+Ze|0,c[Yt++]=Ke+Pt|0,c[Yt++]=Qe+nt|0,c[Yt++]=ke+Ge|0,c[Yt++]=Ie+Et|0,c[Yt++]=Xe+K|0,c[Yt++]=Se+C|0,c[Yt++]=Le+b|0,c[Yt++]=Ee+z|0,c[Yt++]=be+le|0,c[Yt++]=oe+Ae|0,c[Yt++]=fe+Be|0,c[Yt++]=we+ft|0}const ve=te(ue,{counterRight:!1,counterLength:4,allowShortKeys:!1}),ge=te(ue,{counterRight:!1,counterLength:8,extendNonceFn:function pe(O,$,T,c){let E=O[0],q=O[1],X=O[2],ce=O[3],me=$[0],Te=$[1],Ke=$[2],Qe=$[3],ke=$[4],Ie=$[5],Xe=$[6],Se=$[7],Le=T[0],Ee=T[1],be=T[2],oe=T[3];for(let we=0;we<20;we+=2)E=E+me|0,Le=P(Le^E,16),ke=ke+Le|0,me=P(me^ke,12),E=E+me|0,Le=P(Le^E,8),ke=ke+Le|0,me=P(me^ke,7),q=q+Te|0,Ee=P(Ee^q,16),Ie=Ie+Ee|0,Te=P(Te^Ie,12),q=q+Te|0,Ee=P(Ee^q,8),Ie=Ie+Ee|0,Te=P(Te^Ie,7),X=X+Ke|0,be=P(be^X,16),Xe=Xe+be|0,Ke=P(Ke^Xe,12),X=X+Ke|0,be=P(be^X,8),Xe=Xe+be|0,Ke=P(Ke^Xe,7),ce=ce+Qe|0,oe=P(oe^ce,16),Se=Se+oe|0,Qe=P(Qe^Se,12),ce=ce+Qe|0,oe=P(oe^ce,8),Se=Se+oe|0,Qe=P(Qe^Se,7),E=E+Te|0,oe=P(oe^E,16),Xe=Xe+oe|0,Te=P(Te^Xe,12),E=E+Te|0,oe=P(oe^E,8),Xe=Xe+oe|0,Te=P(Te^Xe,7),q=q+Ke|0,Le=P(Le^q,16),Se=Se+Le|0,Ke=P(Ke^Se,12),q=q+Ke|0,Le=P(Le^q,8),Se=Se+Le|0,Ke=P(Ke^Se,7),X=X+Qe|0,Ee=P(Ee^X,16),ke=ke+Ee|0,Qe=P(Qe^ke,12),X=X+Qe|0,Ee=P(Ee^X,8),ke=ke+Ee|0,Qe=P(Qe^ke,7),ce=ce+me|0,be=P(be^ce,16),Ie=Ie+be|0,me=P(me^Ie,12),ce=ce+me|0,be=P(be^ce,8),Ie=Ie+be|0,me=P(me^Ie,7);let fe=0;c[fe++]=E,c[fe++]=q,c[fe++]=X,c[fe++]=ce,c[fe++]=Le,c[fe++]=Ee,c[fe++]=be,c[fe++]=oe},allowShortKeys:!1}),je=new Uint8Array(16),B=(O,$)=>{O.update($);const T=$.length%16;T&&O.update(je.subarray(T))},l=new Uint8Array(32);function f(O,$,T,c,E){const q=O($,T,l),X=j.create(q);E&&B(X,E),B(X,c);const ce=new Uint8Array(16),me=(0,h.O8)(ce);(0,h.zp)(me,0,BigInt(E?E.length:0),!0),(0,h.zp)(me,8,BigInt(c.length),!0),X.update(ce);const Te=X.digest();return q.fill(0),Te}const w=O=>($,T,c)=>((0,h.qj)($,32),(0,h.qj)(T),{encrypt:(q,X)=>{const ce=q.length,me=ce+16;X?(0,h.qj)(X,me):X=new Uint8Array(me),O($,T,q,X,1);const Te=f(O,$,T,X.subarray(0,-16),c);return X.set(Te,ce),X},decrypt:(q,X)=>{const ce=q.length,me=ce-16;if(ce<16)throw new Error("encrypted data must be at least 16 bytes");X?(0,h.qj)(X,me):X=new Uint8Array(me);const Te=q.subarray(0,-16),Ke=q.subarray(-16),Qe=f(O,$,T,Te,c);if(!(0,h.ex)(Ke,Qe))throw new Error("invalid tag");return O($,T,Te,X,1),X}});w(ve),w(ge)},25953:(Ye,J,A)=>{"use strict";A.d(J,{AI:()=>te,DH:()=>N,O8:()=>M,ZJ:()=>pe,ex:()=>Oe,qj:()=>Me,qn:()=>B,tY:()=>ge,zp:()=>l});const N=w=>new Uint32Array(w.buffer,w.byteOffset,Math.floor(w.byteLength/4));function Y(w){return w instanceof Uint8Array||null!=w&&"object"==typeof w&&"Uint8Array"===w.constructor.name}const M=w=>new DataView(w.buffer,w.byteOffset,w.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function te(w){if("string"!=typeof w)throw new Error("utf8ToBytes expected string, got "+typeof w);return new Uint8Array((new TextEncoder).encode(w))}function pe(w){if("string"==typeof w)w=te(w);else{if(!Y(w))throw new Error("expected Uint8Array, got "+typeof w);w=w.slice()}return w}const ve=w=>"[object Object]"===Object.prototype.toString.call(w)&&w.constructor===Object;function ge(w,_){if(void 0!==_&&("object"!=typeof _||!ve(_)))throw new Error("options must be object or undefined");return Object.assign(w,_)}function Me(w,_){if(!Y(w))throw new Error("Uint8Array expected");if("number"==typeof _&&w.length!==_)throw new Error(`Uint8Array length ${_} expected`)}function Oe(w,_){if(w.length!==_.length)return!1;let D=0;for(let O=0;O<w.length;O++)D|=w[O]^_[O];return 0===D}const B=(w,_)=>(Object.assign(_,w),_);function l(w,_,D,O){if("function"==typeof w.setBigUint64)return w.setBigUint64(_,D,O);const $=BigInt(32),T=BigInt(4294967295),c=Number(D>>$&T),E=Number(D&T),X=O?0:4;w.setUint32(_+(O?4:0),c,O),w.setUint32(_+X,E,O)}},91879:(Ye,J,A)=>{"use strict";A.d(J,{NZ:()=>M});const h="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function M(){if(h&&"object"==typeof h.subtle&&null!=h.subtle)return h.subtle;throw new Error("crypto.subtle must be defined")}A(25953),A(34931)},2716:(Ye,J,A)=>{"use strict";A.d(J,{s:()=>he});var h=A(75781),x=A(62953),N=A(35765),Y=A(91006),M=A(7184);const{Ph:R,aT:U}=Y,H={Err:class extends Error{constructor(ge=""){super(ge)}},_parseInt(ve){const{Err:ge}=H;if(ve.length<2||2!==ve[0])throw new ge("Invalid signature integer tag");const Me=ve[1],Oe=ve.subarray(2,Me+2);if(!Me||Oe.length!==Me)throw new ge("Invalid signature integer: wrong length");if(128&Oe[0])throw new ge("Invalid signature integer: negative");if(0===Oe[0]&&!(128&Oe[1]))throw new ge("Invalid signature integer: unnecessary leading zero");return{d:R(Oe),l:ve.subarray(Me+2)}},toSig(ve){const{Err:ge}=H,Me="string"==typeof ve?U(ve):ve;if(!Y.aY(Me))throw new Error("ui8a expected");let Oe=Me.length;if(Oe<2||48!=Me[0])throw new ge("Invalid signature tag");if(Me[1]!==Oe-2)throw new ge("Invalid signature: incorrect length");const{d:je,l:B}=H._parseInt(Me.subarray(2)),{d:l,l:f}=H._parseInt(B);if(f.length)throw new ge("Invalid signature: left bytes after parsing");return{r:je,s:l}},hexFromSig(ve){const ge=_=>8&Number.parseInt(_[0],16)?"00"+_:_,Me=_=>{const D=_.toString(16);return 1&D.length?`0${D}`:D},Oe=ge(Me(ve.s)),je=ge(Me(ve.r)),B=Oe.length/2,l=je.length/2,f=Me(B),w=Me(l);return`30${Me(l+B+4)}02${w}${je}02${f}${Oe}`}},V=BigInt(0),P=BigInt(1),W=(BigInt(2),BigInt(3));function re(ve){const ge=function ae(ve){const ge=(0,M.h)(ve);return Y.Q5(ge,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...ge})}(ve),{Fp:Me,n:Oe}=ge,je=Me.BYTES+1,B=2*Me.BYTES+1;function f(fe){return N.zi(fe,Oe)}function w(fe){return N.B8(fe,Oe)}const{ProjectivePoint:_,normPrivateKeyToScalar:D,weierstrassEquation:O,isWithinCurveOrder:$}=function de(ve){const ge=function j(ve){const ge=(0,M.h)(ve);Y.Q5(ge,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:Me,Fp:Oe,a:je}=ge;if(Me){if(!Oe.eql(je,Oe.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof Me||"bigint"!=typeof Me.beta||"function"!=typeof Me.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...ge})}(ve),{Fp:Me}=ge,Oe=ge.toBytes||((c,E,q)=>{const X=E.toAffine();return Y.Id(Uint8Array.from([4]),Me.toBytes(X.x),Me.toBytes(X.y))}),je=ge.fromBytes||(c=>{const E=c.subarray(1);return{x:Me.fromBytes(E.subarray(0,Me.BYTES)),y:Me.fromBytes(E.subarray(Me.BYTES,2*Me.BYTES))}});function B(c){const{a:E,b:q}=ge,X=Me.sqr(c),ce=Me.mul(X,c);return Me.add(Me.add(ce,Me.mul(c,E)),q)}if(!Me.eql(Me.sqr(ge.Gy),B(ge.Gx)))throw new Error("bad generator point: equation left != right");function l(c){return"bigint"==typeof c&&V<c&&c<ge.n}function f(c){if(!l(c))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function w(c){const{allowedPrivateKeyLengths:E,nByteLength:q,wrapPrivateKey:X,n:ce}=ge;if(E&&"bigint"!=typeof c){if(Y.aY(c)&&(c=Y.My(c)),"string"!=typeof c||!E.includes(c.length))throw new Error("Invalid key");c=c.padStart(2*q,"0")}let me;try{me="bigint"==typeof c?c:Y.Ph((0,Y.qj)("private key",c,q))}catch{throw new Error(`private key must be ${q} bytes, hex or bigint, not ${typeof c}`)}return X&&(me=N.zi(me,ce)),f(me),me}const _=new Map;function D(c){if(!(c instanceof O))throw new Error("ProjectivePoint expected")}class O{constructor(E,q,X){if(this.px=E,this.py=q,this.pz=X,null==E||!Me.isValid(E))throw new Error("x required");if(null==q||!Me.isValid(q))throw new Error("y required");if(null==X||!Me.isValid(X))throw new Error("z required")}static fromAffine(E){const{x:q,y:X}=E||{};if(!E||!Me.isValid(q)||!Me.isValid(X))throw new Error("invalid affine point");if(E instanceof O)throw new Error("projective point not allowed");const ce=me=>Me.eql(me,Me.ZERO);return ce(q)&&ce(X)?O.ZERO:new O(q,X,Me.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const q=Me.invertBatch(E.map(X=>X.pz));return E.map((X,ce)=>X.toAffine(q[ce])).map(O.fromAffine)}static fromHex(E){const q=O.fromAffine(je((0,Y.qj)("pointHex",E)));return q.assertValidity(),q}static fromPrivateKey(E){return O.BASE.multiply(w(E))}_setWindowSize(E){this._WINDOW_SIZE=E,_.delete(this)}assertValidity(){if(this.is0()){if(ge.allowInfinityPoint&&!Me.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:E,y:q}=this.toAffine();if(!Me.isValid(E)||!Me.isValid(q))throw new Error("bad point: x or y not FE");const X=Me.sqr(q),ce=B(E);if(!Me.eql(X,ce))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:E}=this.toAffine();if(Me.isOdd)return!Me.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){D(E);const{px:q,py:X,pz:ce}=this,{px:me,py:Te,pz:Ke}=E,Qe=Me.eql(Me.mul(q,Ke),Me.mul(me,ce)),ke=Me.eql(Me.mul(X,Ke),Me.mul(Te,ce));return Qe&&ke}negate(){return new O(this.px,Me.neg(this.py),this.pz)}double(){const{a:E,b:q}=ge,X=Me.mul(q,W),{px:ce,py:me,pz:Te}=this;let Ke=Me.ZERO,Qe=Me.ZERO,ke=Me.ZERO,Ie=Me.mul(ce,ce),Xe=Me.mul(me,me),Se=Me.mul(Te,Te),Le=Me.mul(ce,me);return Le=Me.add(Le,Le),ke=Me.mul(ce,Te),ke=Me.add(ke,ke),Ke=Me.mul(E,ke),Qe=Me.mul(X,Se),Qe=Me.add(Ke,Qe),Ke=Me.sub(Xe,Qe),Qe=Me.add(Xe,Qe),Qe=Me.mul(Ke,Qe),Ke=Me.mul(Le,Ke),ke=Me.mul(X,ke),Se=Me.mul(E,Se),Le=Me.sub(Ie,Se),Le=Me.mul(E,Le),Le=Me.add(Le,ke),ke=Me.add(Ie,Ie),Ie=Me.add(ke,Ie),Ie=Me.add(Ie,Se),Ie=Me.mul(Ie,Le),Qe=Me.add(Qe,Ie),Se=Me.mul(me,Te),Se=Me.add(Se,Se),Ie=Me.mul(Se,Le),Ke=Me.sub(Ke,Ie),ke=Me.mul(Se,Xe),ke=Me.add(ke,ke),ke=Me.add(ke,ke),new O(Ke,Qe,ke)}add(E){D(E);const{px:q,py:X,pz:ce}=this,{px:me,py:Te,pz:Ke}=E;let Qe=Me.ZERO,ke=Me.ZERO,Ie=Me.ZERO;const Xe=ge.a,Se=Me.mul(ge.b,W);let Le=Me.mul(q,me),Ee=Me.mul(X,Te),be=Me.mul(ce,Ke),oe=Me.add(q,X),fe=Me.add(me,Te);oe=Me.mul(oe,fe),fe=Me.add(Le,Ee),oe=Me.sub(oe,fe),fe=Me.add(q,ce);let we=Me.add(me,Ke);return fe=Me.mul(fe,we),we=Me.add(Le,be),fe=Me.sub(fe,we),we=Me.add(X,ce),Qe=Me.add(Te,Ke),we=Me.mul(we,Qe),Qe=Me.add(Ee,be),we=Me.sub(we,Qe),Ie=Me.mul(Xe,fe),Qe=Me.mul(Se,be),Ie=Me.add(Qe,Ie),Qe=Me.sub(Ee,Ie),Ie=Me.add(Ee,Ie),ke=Me.mul(Qe,Ie),Ee=Me.add(Le,Le),Ee=Me.add(Ee,Le),be=Me.mul(Xe,be),fe=Me.mul(Se,fe),Ee=Me.add(Ee,be),be=Me.sub(Le,be),be=Me.mul(Xe,be),fe=Me.add(fe,be),Le=Me.mul(Ee,fe),ke=Me.add(ke,Le),Le=Me.mul(we,fe),Qe=Me.mul(oe,Qe),Qe=Me.sub(Qe,Le),Le=Me.mul(oe,Ee),Ie=Me.mul(we,Ie),Ie=Me.add(Ie,Le),new O(Qe,ke,Ie)}subtract(E){return this.add(E.negate())}is0(){return this.equals(O.ZERO)}wNAF(E){return T.wNAFCached(this,_,E,q=>{const X=Me.invertBatch(q.map(ce=>ce.pz));return q.map((ce,me)=>ce.toAffine(X[me])).map(O.fromAffine)})}multiplyUnsafe(E){const q=O.ZERO;if(E===V)return q;if(f(E),E===P)return this;const{endo:X}=ge;if(!X)return T.unsafeLadder(this,E);let{k1neg:ce,k1:me,k2neg:Te,k2:Ke}=X.splitScalar(E),Qe=q,ke=q,Ie=this;for(;me>V||Ke>V;)me&P&&(Qe=Qe.add(Ie)),Ke&P&&(ke=ke.add(Ie)),Ie=Ie.double(),me>>=P,Ke>>=P;return ce&&(Qe=Qe.negate()),Te&&(ke=ke.negate()),ke=new O(Me.mul(ke.px,X.beta),ke.py,ke.pz),Qe.add(ke)}multiply(E){f(E);let X,ce,q=E;const{endo:me}=ge;if(me){const{k1neg:Te,k1:Ke,k2neg:Qe,k2:ke}=me.splitScalar(q);let{p:Ie,f:Xe}=this.wNAF(Ke),{p:Se,f:Le}=this.wNAF(ke);Ie=T.constTimeNegate(Te,Ie),Se=T.constTimeNegate(Qe,Se),Se=new O(Me.mul(Se.px,me.beta),Se.py,Se.pz),X=Ie.add(Se),ce=Xe.add(Le)}else{const{p:Te,f:Ke}=this.wNAF(q);X=Te,ce=Ke}return O.normalizeZ([X,ce])[0]}multiplyAndAddUnsafe(E,q,X){const ce=O.BASE,me=(Ke,Qe)=>Qe!==V&&Qe!==P&&Ke.equals(ce)?Ke.multiply(Qe):Ke.multiplyUnsafe(Qe),Te=me(this,q).add(me(E,X));return Te.is0()?void 0:Te}toAffine(E){const{px:q,py:X,pz:ce}=this,me=this.is0();null==E&&(E=me?Me.ONE:Me.inv(ce));const Te=Me.mul(q,E),Ke=Me.mul(X,E),Qe=Me.mul(ce,E);if(me)return{x:Me.ZERO,y:Me.ZERO};if(!Me.eql(Qe,Me.ONE))throw new Error("invZ was invalid");return{x:Te,y:Ke}}isTorsionFree(){const{h:E,isTorsionFree:q}=ge;if(E===P)return!0;if(q)return q(O,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:q}=ge;return E===P?this:q?q(O,this):this.multiplyUnsafe(ge.h)}toRawBytes(E=!0){return this.assertValidity(),Oe(O,this,E)}toHex(E=!0){return Y.My(this.toRawBytes(E))}}O.BASE=new O(ge.Gx,ge.Gy,Me.ONE),O.ZERO=new O(Me.ZERO,Me.ONE,Me.ZERO);const $=ge.nBitLength,T=(0,M.A)(O,ge.endo?Math.ceil($/2):$);return{CURVE:ge,ProjectivePoint:O,normPrivateKeyToScalar:w,weierstrassEquation:B,isWithinCurveOrder:l}}({...ge,toBytes(fe,we,De){const $e=we.toAffine(),Je=Me.toBytes($e.x),Ze=Y.Id;return De?Ze(Uint8Array.from([we.hasEvenY()?2:3]),Je):Ze(Uint8Array.from([4]),Je,Me.toBytes($e.y))},fromBytes(fe){const we=fe.length,De=fe[0],$e=fe.subarray(1);if(we!==je||2!==De&&3!==De){if(we===B&&4===De)return{x:Me.fromBytes($e.subarray(0,Me.BYTES)),y:Me.fromBytes($e.subarray(Me.BYTES,2*Me.BYTES))};throw new Error(`Point of length ${we} was invalid. Expected ${je} compressed bytes or ${B} uncompressed bytes`)}{const Je=Y.Ph($e);if(!function l(fe){return V<fe&&fe<Me.ORDER}(Je))throw new Error("Point is not on curve");const Ze=O(Je);let Pt=Me.sqrt(Ze);return!(1&~De)!=((Pt&P)===P)&&(Pt=Me.neg(Pt)),{x:Je,y:Pt}}}}),T=fe=>Y.My(Y.lq(fe,ge.nByteLength));function c(fe){return fe>Oe>>P}const q=(fe,we,De)=>Y.Ph(fe.slice(we,De));class X{constructor(we,De,$e){this.r=we,this.s=De,this.recovery=$e,this.assertValidity()}static fromCompact(we){const De=ge.nByteLength;return we=(0,Y.qj)("compactSignature",we,2*De),new X(q(we,0,De),q(we,De,2*De))}static fromDER(we){const{r:De,s:$e}=H.toSig((0,Y.qj)("DER",we));return new X(De,$e)}assertValidity(){if(!$(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!$(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(we){return new X(this.r,this.s,we)}recoverPublicKey(we){const{r:De,s:$e,recovery:Je}=this,Ze=ke((0,Y.qj)("msgHash",we));if(null==Je||![0,1,2,3].includes(Je))throw new Error("recovery id invalid");const Pt=2===Je||3===Je?De+ge.n:De;if(Pt>=Me.ORDER)throw new Error("recovery id 2 or 3 invalid");const Ge=_.fromHex((1&Je?"03":"02")+T(Pt)),Et=w(Pt),K=f(-Ze*Et),C=f($e*Et),b=_.BASE.multiplyAndAddUnsafe(Ge,K,C);if(!b)throw new Error("point at infinify");return b.assertValidity(),b}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new X(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return Y.aT(this.toDERHex())}toDERHex(){return H.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Y.aT(this.toCompactHex())}toCompactHex(){return T(this.r)+T(this.s)}}const ce={isValidPrivateKey(fe){try{return D(fe),!0}catch{return!1}},normPrivateKeyToScalar:D,randomPrivateKey:()=>{const fe=N.Tp(ge.n);return N.qy(ge.randomBytes(fe),ge.n)},precompute:(fe=8,we=_.BASE)=>(we._setWindowSize(fe),we.multiply(BigInt(3)),we)};function Te(fe){const we=Y.aY(fe),De="string"==typeof fe,$e=(we||De)&&fe.length;return we?$e===je||$e===B:De?$e===2*je||$e===2*B:fe instanceof _}const Qe=ge.bits2int||function(fe){const we=Y.Ph(fe),De=8*fe.length-ge.nBitLength;return De>0?we>>BigInt(De):we},ke=ge.bits2int_modN||function(fe){return f(Qe(fe))},Ie=Y.OG(ge.nBitLength);function Xe(fe){if("bigint"!=typeof fe)throw new Error("bigint expected");if(!(V<=fe&&fe<Ie))throw new Error(`bigint expected < 2^${ge.nBitLength}`);return Y.lq(fe,ge.nByteLength)}const Le={lowS:ge.lowS,prehash:!1},Ee={lowS:ge.lowS,prehash:!1};return _.BASE._setWindowSize(8),{CURVE:ge,getPublicKey:function me(fe,we=!0){return _.fromPrivateKey(fe).toRawBytes(we)},getSharedSecret:function Ke(fe,we,De=!0){if(Te(fe))throw new Error("first arg must be private key");if(!Te(we))throw new Error("second arg must be public key");return _.fromHex(we).multiply(D(fe)).toRawBytes(De)},sign:function be(fe,we,De=Le){const{seed:$e,k2sig:Je}=function Se(fe,we,De=Le){if(["recovered","canonical"].some(le=>le in De))throw new Error("sign() legacy options not supported");const{hash:$e,randomBytes:Je}=ge;let{lowS:Ze,prehash:Pt,extraEntropy:nt}=De;null==Ze&&(Ze=!0),fe=(0,Y.qj)("msgHash",fe),Pt&&(fe=(0,Y.qj)("prehashed msgHash",$e(fe)));const Ge=ke(fe),Et=D(we),K=[Xe(Et),Xe(Ge)];if(null!=nt){const le=!0===nt?Je(Me.BYTES):nt;K.push((0,Y.qj)("extraEntropy",le))}const C=Y.Id(...K),b=Ge;return{seed:C,k2sig:function z(le){const Ae=Qe(le);if(!$(Ae))return;const Be=w(Ae),ft=_.BASE.multiply(Ae).toAffine(),Yt=f(ft.x);if(Yt===V)return;const Rt=f(Be*f(b+Yt*Et));if(Rt===V)return;let Vt=(ft.x===Yt?0:2)|Number(ft.y&P),dn=Rt;return Ze&&c(Rt)&&(dn=function E(fe){return c(fe)?f(-fe):fe}(Rt),Vt^=1),new X(Yt,dn,Vt)}}}(fe,we,De);return Y.fg(ge.hash.outputLen,ge.nByteLength,ge.hmac)($e,Je)},verify:function oe(fe,we,De,$e=Ee){const Je=fe;if(we=(0,Y.qj)("msgHash",we),De=(0,Y.qj)("publicKey",De),"strict"in $e)throw new Error("options.strict was renamed to lowS");const{lowS:Ze,prehash:Pt}=$e;let nt,Ge;try{if("string"==typeof Je||Y.aY(Je))try{nt=X.fromDER(Je)}catch(ft){if(!(ft instanceof H.Err))throw ft;nt=X.fromCompact(Je)}else{if("object"!=typeof Je||"bigint"!=typeof Je.r||"bigint"!=typeof Je.s)throw new Error("PARSE");{const{r:ft,s:Yt}=Je;nt=new X(ft,Yt)}}Ge=_.fromHex(De)}catch(ft){if("PARSE"===ft.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Ze&&nt.hasHighS())return!1;Pt&&(we=ge.hash(we));const{r:Et,s:K}=nt,C=ke(we),b=w(K),z=f(C*b),le=f(Et*b),Ae=_.BASE.multiplyAndAddUnsafe(Ge,z,le)?.toAffine();return!!Ae&&f(Ae.x)===Et},ProjectivePoint:_,Signature:X,utils:ce}}function pe(ve){return{hash:ve,hmac:(ge,...Me)=>(0,h.w)(ve,ge,(0,x.Id)(...Me)),randomBytes:x.po}}function he(ve,ge){const Me=Oe=>re({...ve,...pe(Oe)});return Object.freeze({...Me(ge),create:Me})}BigInt(4)},7184:(Ye,J,A)=>{"use strict";A.d(J,{A:()=>M,h:()=>j});var h=A(35765),x=A(91006);const N=BigInt(0),Y=BigInt(1);function M(R,U){const H=(P,ee)=>{const W=ee.negate();return P?W:ee},V=P=>({windows:Math.ceil(U/P)+1,windowSize:2**(P-1)});return{constTimeNegate:H,unsafeLadder(P,ee){let W=R.ZERO,Q=P;for(;ee>N;)ee&Y&&(W=W.add(Q)),Q=Q.double(),ee>>=Y;return W},precomputeWindow(P,ee){const{windows:W,windowSize:Q}=V(ee),de=[];let ae=P,re=ae;for(let te=0;te<W;te++){re=ae,de.push(re);for(let ue=1;ue<Q;ue++)re=re.add(ae),de.push(re);ae=re.double()}return de},wNAF(P,ee,W){const{windows:Q,windowSize:de}=V(P);let ae=R.ZERO,re=R.BASE;const te=BigInt(2**P-1),ue=2**P,pe=BigInt(P);for(let he=0;he<Q;he++){const ve=he*de;let ge=Number(W&te);W>>=pe,ge>de&&(ge-=ue,W+=Y);const Me=ve,Oe=ve+Math.abs(ge)-1,B=ge<0;0===ge?re=re.add(H(he%2!=0,ee[Me])):ae=ae.add(H(B,ee[Oe]))}return{p:ae,f:re}},wNAFCached(P,ee,W,Q){const de=P._WINDOW_SIZE||1;let ae=ee.get(P);return ae||(ae=this.precomputeWindow(P,de),1!==de&&ee.set(P,Q(ae))),this.wNAF(de,ae,W)}}}function j(R){return(0,h.jr)(R.Fp),(0,x.Q5)(R,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,h.LH)(R.n,R.nBitLength),...R,p:R.Fp.ORDER})}},35765:(Ye,J,A)=>{"use strict";A.d(J,{B8:()=>Q,D0:()=>Oe,LH:()=>Me,Tp:()=>w,Tv:()=>B,dQ:()=>re,jr:()=>ue,n7:()=>ee,qy:()=>_,zH:()=>W,zi:()=>P});var h=A(91006);const x=BigInt(0),N=BigInt(1),Y=BigInt(2),M=BigInt(3),j=BigInt(4),R=BigInt(5),U=BigInt(8);function P(D,O){const $=D%O;return $>=x?$:O+$}function ee(D,O,$){if($<=x||O<x)throw new Error("Expected power/modulo > 0");if($===N)return x;let T=N;for(;O>x;)O&N&&(T=T*D%$),D=D*D%$,O>>=N;return T}function W(D,O,$){let T=D;for(;O-- >x;)T*=T,T%=$;return T}function Q(D,O){if(D===x||O<=x)throw new Error(`invert: expected positive integers, got n=${D} mod=${O}`);let $=P(D,O),T=O,c=x,E=N,q=N,X=x;for(;$!==x;){const me=T/$,Te=T%$,Ke=c-q*me,Qe=E-X*me;T=$,$=Te,c=q,E=X,q=Ke,X=Qe}if(T!==N)throw new Error("invert: does not exist");return P(c,O)}BigInt(9),BigInt(16);const re=(D,O)=>(P(D,O)&N)===N,te=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ue(D){const $=te.reduce((T,c)=>(T[c]="function",T),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,h.Q5)(D,$)}function Me(D,O){const $=void 0!==O?O:D.toString(2).length;return{nBitLength:$,nByteLength:Math.ceil($/8)}}function Oe(D,O,$=!1,T={}){if(D<=x)throw new Error(`Expected Field ORDER > 0, got ${D}`);const{nBitLength:c,nByteLength:E}=Me(D,O);if(E>2048)throw new Error("Field lengths over 2048 bytes are not supported");const q=function ae(D){if(D%j===M){const O=(D+N)/j;return function(T,c){const E=T.pow(c,O);if(!T.eql(T.sqr(E),c))throw new Error("Cannot find square root");return E}}if(D%U===R){const O=(D-R)/U;return function(T,c){const E=T.mul(c,Y),q=T.pow(E,O),X=T.mul(c,q),ce=T.mul(T.mul(X,Y),q),me=T.mul(X,T.sub(ce,T.ONE));if(!T.eql(T.sqr(me),c))throw new Error("Cannot find square root");return me}}return function de(D){const O=(D-N)/Y;let $,T,c;for($=D-N,T=0;$%Y===x;$/=Y,T++);for(c=Y;c<D&&ee(c,O,D)!==D-N;c++);if(1===T){const q=(D+N)/j;return function(ce,me){const Te=ce.pow(me,q);if(!ce.eql(ce.sqr(Te),me))throw new Error("Cannot find square root");return Te}}const E=($+N)/Y;return function(X,ce){if(X.pow(ce,O)===X.neg(X.ONE))throw new Error("Cannot find square root");let me=T,Te=X.pow(X.mul(X.ONE,c),$),Ke=X.pow(ce,E),Qe=X.pow(ce,$);for(;!X.eql(Qe,X.ONE);){if(X.eql(Qe,X.ZERO))return X.ZERO;let ke=1;for(let Xe=X.sqr(Qe);ke<me&&!X.eql(Xe,X.ONE);ke++)Xe=X.sqr(Xe);const Ie=X.pow(Te,N<<BigInt(me-ke-1));Te=X.sqr(Ie),Ke=X.mul(Ke,Ie),Qe=X.mul(Qe,Te),me=ke}return Ke}}(D)}(D),X=Object.freeze({ORDER:D,BITS:c,BYTES:E,MASK:(0,h.OG)(c),ZERO:x,ONE:N,create:ce=>P(ce,D),isValid:ce=>{if("bigint"!=typeof ce)throw new Error("Invalid field element: expected bigint, got "+typeof ce);return x<=ce&&ce<D},is0:ce=>ce===x,isOdd:ce=>(ce&N)===N,neg:ce=>P(-ce,D),eql:(ce,me)=>ce===me,sqr:ce=>P(ce*ce,D),add:(ce,me)=>P(ce+me,D),sub:(ce,me)=>P(ce-me,D),mul:(ce,me)=>P(ce*me,D),pow:(ce,me)=>function pe(D,O,$){if($<x)throw new Error("Expected power > 0");if($===x)return D.ONE;if($===N)return O;let T=D.ONE,c=O;for(;$>x;)$&N&&(T=D.mul(T,c)),c=D.sqr(c),$>>=N;return T}(X,ce,me),div:(ce,me)=>P(ce*Q(me,D),D),sqrN:ce=>ce*ce,addN:(ce,me)=>ce+me,subN:(ce,me)=>ce-me,mulN:(ce,me)=>ce*me,inv:ce=>Q(ce,D),sqrt:T.sqrt||(ce=>q(X,ce)),invertBatch:ce=>function he(D,O){const $=new Array(O.length),T=O.reduce((E,q,X)=>D.is0(q)?E:($[X]=E,D.mul(E,q)),D.ONE),c=D.inv(T);return O.reduceRight((E,q,X)=>D.is0(q)?E:($[X]=D.mul(E,$[X]),D.mul(E,q)),c),$}(X,ce),cmov:(ce,me,Te)=>Te?me:ce,toBytes:ce=>$?(0,h.z)(ce,E):(0,h.lq)(ce,E),fromBytes:ce=>{if(ce.length!==E)throw new Error(`Fp.fromBytes: expected ${E}, got ${ce.length}`);return $?(0,h.lX)(ce):(0,h.Ph)(ce)}});return Object.freeze(X)}function B(D,O){if(!D.isOdd)throw new Error("Field doesn't have isOdd");const $=D.sqrt(O);return D.isOdd($)?D.neg($):$}function f(D){if("bigint"!=typeof D)throw new Error("field order must be bigint");const O=D.toString(2).length;return Math.ceil(O/8)}function w(D){const O=f(D);return O+Math.ceil(O/2)}function _(D,O,$=!1){const T=D.length,c=f(O),E=w(O);if(T<16||T<E||T>1024)throw new Error(`expected ${E}-1024 bytes of input, got ${T}`);const X=P($?(0,h.Ph)(D):(0,h.lX)(D),O-N)+N;return $?(0,h.z)(X,c):(0,h.lq)(X,c)}},91006:(Ye,J,A)=>{"use strict";A.d(J,{Id:()=>te,My:()=>j,OG:()=>Me,Ph:()=>ee,Q5:()=>f,aT:()=>P,aY:()=>Y,fg:()=>B,lX:()=>W,lq:()=>Q,qj:()=>re,z:()=>de}),BigInt(0);const x=BigInt(1),N=BigInt(2);function Y(w){return w instanceof Uint8Array||null!=w&&"object"==typeof w&&"Uint8Array"===w.constructor.name}const M=Array.from({length:256},(w,_)=>_.toString(16).padStart(2,"0"));function j(w){if(!Y(w))throw new Error("Uint8Array expected");let _="";for(let D=0;D<w.length;D++)_+=M[w[D]];return _}function U(w){if("string"!=typeof w)throw new Error("hex string expected, got "+typeof w);return BigInt(""===w?"0":`0x${w}`)}const H={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function V(w){return w>=H._0&&w<=H._9?w-H._0:w>=H._A&&w<=H._F?w-(H._A-10):w>=H._a&&w<=H._f?w-(H._a-10):void 0}function P(w){if("string"!=typeof w)throw new Error("hex string expected, got "+typeof w);const _=w.length,D=_/2;if(_%2)throw new Error("padded hex string expected, got unpadded hex of length "+_);const O=new Uint8Array(D);for(let $=0,T=0;$<D;$++,T+=2){const c=V(w.charCodeAt(T)),E=V(w.charCodeAt(T+1));if(void 0===c||void 0===E)throw new Error('hex string expected, got non-hex character "'+(w[T]+w[T+1])+'" at index '+T);O[$]=16*c+E}return O}function ee(w){return U(j(w))}function W(w){if(!Y(w))throw new Error("Uint8Array expected");return U(j(Uint8Array.from(w).reverse()))}function Q(w,_){return P(w.toString(16).padStart(2*_,"0"))}function de(w,_){return Q(w,_).reverse()}function re(w,_,D){let O;if("string"==typeof _)try{O=P(_)}catch(T){throw new Error(`${w} must be valid hex string, got "${_}". Cause: ${T}`)}else{if(!Y(_))throw new Error(`${w} must be hex string or Uint8Array`);O=Uint8Array.from(_)}const $=O.length;if("number"==typeof D&&$!==D)throw new Error(`${w} expected ${D} bytes, got ${$}`);return O}function te(...w){let _=0;for(let $=0;$<w.length;$++){const T=w[$];if(!Y(T))throw new Error("Uint8Array expected");_+=T.length}let D=new Uint8Array(_),O=0;for(let $=0;$<w.length;$++){const T=w[$];D.set(T,O),O+=T.length}return D}const Me=w=>(N<<BigInt(w-1))-x,Oe=w=>new Uint8Array(w),je=w=>Uint8Array.from(w);function B(w,_,D){if("number"!=typeof w||w<2)throw new Error("hashLen must be a number");if("number"!=typeof _||_<2)throw new Error("qByteLen must be a number");if("function"!=typeof D)throw new Error("hmacFn must be a function");let O=Oe(w),$=Oe(w),T=0;const c=()=>{O.fill(1),$.fill(0),T=0},E=(...me)=>D($,O,...me),q=(me=Oe())=>{$=E(je([0]),me),O=E(),0!==me.length&&($=E(je([1]),me),O=E())},X=()=>{if(T++>=1e3)throw new Error("drbg: tried 1000 values");let me=0;const Te=[];for(;me<_;){O=E();const Ke=O.slice();Te.push(Ke),me+=O.length}return te(...Te)};return(me,Te)=>{let Ke;for(c(),q(me);!(Ke=Te(X()));)q();return c(),Ke}}const l={bigint:w=>"bigint"==typeof w,function:w=>"function"==typeof w,boolean:w=>"boolean"==typeof w,string:w=>"string"==typeof w,stringOrUint8Array:w=>"string"==typeof w||Y(w),isSafeInteger:w=>Number.isSafeInteger(w),array:w=>Array.isArray(w),field:(w,_)=>_.Fp.isValid(w),hash:w=>"function"==typeof w&&Number.isSafeInteger(w.outputLen)};function f(w,_,D={}){const O=($,T,c)=>{const E=l[T];if("function"!=typeof E)throw new Error(`Invalid validator "${T}", expected function`);const q=w[$];if(!(c&&void 0===q||E(q,w)))throw new Error(`Invalid param ${String($)}=${q} (${typeof q}), expected ${T}`)};for(const[$,T]of Object.entries(_))O($,T,!1);for(const[$,T]of Object.entries(D))O($,T,!0);return w}},86295:(Ye,J,A)=>{"use strict";A.d(J,{ev:()=>O,OA:()=>ce,GU:()=>q,TU:()=>E});var h=A(25431),x=A(62953),N=A(35765),Y=A(91006),M=A(7184);const j=BigInt(0),R=BigInt(1),U=BigInt(2),H=BigInt(8),V={zip215:!0};function ee(z){const le=function P(z){const le=(0,M.h)(z);return Y.Q5(z,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...le})}(z),{Fp:Ae,n:Be,prehash:ft,hash:Yt,randomBytes:Rt,nByteLength:Vt,h:dn}=le,Mn=U<<BigInt(8*Vt)-R,En=Ae.create,Ar=le.uvRatio||((qn,Jt)=>{try{return{isValid:!0,value:Ae.sqrt(qn*Ae.inv(Jt))}}catch{return{isValid:!1,value:j}}}),jn=le.adjustScalarBytes||(qn=>qn),mn=le.domain||((qn,Jt,dt)=>{if(Jt.length||dt)throw new Error("Contexts/pre-hash are not supported");return qn}),pn=qn=>"bigint"==typeof qn&&j<qn,kt=(qn,Jt)=>pn(qn)&&pn(Jt)&&qn<Jt,St=qn=>qn===j||kt(qn,Mn);function an(qn,Jt){if(kt(qn,Jt))return qn;throw new Error(`Expected valid scalar < ${Jt}, got ${typeof qn} ${qn}`)}function hn(qn){return qn===j?qn:an(qn,Be)}const An=new Map;function Rr(qn){if(!(qn instanceof Tt))throw new Error("ExtendedPoint expected")}class Tt{constructor(Jt,dt,Ne,We){if(this.ex=Jt,this.ey=dt,this.ez=Ne,this.et=We,!St(Jt))throw new Error("x required");if(!St(dt))throw new Error("y required");if(!St(Ne))throw new Error("z required");if(!St(We))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Jt){if(Jt instanceof Tt)throw new Error("extended point not allowed");const{x:dt,y:Ne}=Jt||{};if(!St(dt)||!St(Ne))throw new Error("invalid affine point");return new Tt(dt,Ne,R,En(dt*Ne))}static normalizeZ(Jt){const dt=Ae.invertBatch(Jt.map(Ne=>Ne.ez));return Jt.map((Ne,We)=>Ne.toAffine(dt[We])).map(Tt.fromAffine)}_setWindowSize(Jt){this._WINDOW_SIZE=Jt,An.delete(this)}assertValidity(){const{a:Jt,d:dt}=le;if(this.is0())throw new Error("bad point: ZERO");const{ex:Ne,ey:We,ez:Bt,et:gn}=this,Kn=En(Ne*Ne),ir=En(We*We),hr=En(Bt*Bt),Wr=En(hr*hr),Vr=En(Kn*Jt);if(En(hr*En(Vr+ir))!==En(Wr+En(dt*En(Kn*ir))))throw new Error("bad point: equation left != right (1)");if(En(Ne*We)!==En(Bt*gn))throw new Error("bad point: equation left != right (2)")}equals(Jt){Rr(Jt);const{ex:dt,ey:Ne,ez:We}=this,{ex:Bt,ey:gn,ez:Kn}=Jt,ir=En(dt*Kn),hr=En(Bt*We),Wr=En(Ne*Kn),Vr=En(gn*We);return ir===hr&&Wr===Vr}is0(){return this.equals(Tt.ZERO)}negate(){return new Tt(En(-this.ex),this.ey,this.ez,En(-this.et))}double(){const{a:Jt}=le,{ex:dt,ey:Ne,ez:We}=this,Bt=En(dt*dt),gn=En(Ne*Ne),Kn=En(U*En(We*We)),ir=En(Jt*Bt),hr=dt+Ne,Wr=En(En(hr*hr)-Bt-gn),Vr=ir+gn,ti=Vr-Kn,ni=ir-gn,Ei=En(Wr*ti),yn=En(Vr*ni),Pn=En(Wr*ni),Nn=En(ti*Vr);return new Tt(Ei,yn,Nn,Pn)}add(Jt){Rr(Jt);const{a:dt,d:Ne}=le,{ex:We,ey:Bt,ez:gn,et:Kn}=this,{ex:ir,ey:hr,ez:Wr,et:Vr}=Jt;if(dt===BigInt(-1)){const Mi=En((Bt-We)*(hr+ir)),ls=En((Bt+We)*(hr-ir)),Ji=En(ls-Mi);if(Ji===j)return this.double();const bs=En(gn*U*Vr),As=En(Kn*U*Wr),Js=As+bs,Eo=ls+Mi,qi=As-bs,bo=En(Js*Ji),Fc=En(Eo*qi),co=En(Js*qi),ca=En(Ji*Eo);return new Tt(bo,Fc,ca,co)}const ti=En(We*ir),ni=En(Bt*hr),Ei=En(Kn*Ne*Vr),yn=En(gn*Wr),Pn=En((We+Bt)*(ir+hr)-ti-ni),Nn=yn-Ei,tr=yn+Ei,Dr=En(ni-dt*ti),Hr=En(Pn*Nn),Ur=En(tr*Dr),li=En(Pn*Dr),ui=En(Nn*tr);return new Tt(Hr,Ur,ui,li)}subtract(Jt){return this.add(Jt.negate())}wNAF(Jt){return st.wNAFCached(this,An,Jt,Tt.normalizeZ)}multiply(Jt){const{p:dt,f:Ne}=this.wNAF(an(Jt,Be));return Tt.normalizeZ([dt,Ne])[0]}multiplyUnsafe(Jt){let dt=hn(Jt);return dt===j?Lt:this.equals(Lt)||dt===R?this:this.equals(Nt)?this.wNAF(dt).p:st.unsafeLadder(this,dt)}isSmallOrder(){return this.multiplyUnsafe(dn).is0()}isTorsionFree(){return st.unsafeLadder(this,Be).is0()}toAffine(Jt){const{ex:dt,ey:Ne,ez:We}=this,Bt=this.is0();null==Jt&&(Jt=Bt?H:Ae.inv(We));const gn=En(dt*Jt),Kn=En(Ne*Jt),ir=En(We*Jt);if(Bt)return{x:j,y:R};if(ir!==R)throw new Error("invZ was invalid");return{x:gn,y:Kn}}clearCofactor(){const{h:Jt}=le;return Jt===R?this:this.multiplyUnsafe(Jt)}static fromHex(Jt,dt=!1){const{d:Ne,a:We}=le,Bt=Ae.BYTES,gn=(Jt=(0,Y.qj)("pointHex",Jt,Bt)).slice(),Kn=Jt[Bt-1];gn[Bt-1]=-129&Kn;const ir=Y.lX(gn);ir===j||an(ir,dt?Mn:Ae.ORDER);const hr=En(ir*ir),Wr=En(hr-R),Vr=En(Ne*hr-We);let{isValid:ti,value:ni}=Ar(Wr,Vr);if(!ti)throw new Error("Point.fromHex: invalid y coordinate");const Ei=(ni&R)===R,yn=!!(128&Kn);if(!dt&&ni===j&&yn)throw new Error("Point.fromHex: x=0 and x_0=1");return yn!==Ei&&(ni=En(-ni)),Tt.fromAffine({x:ni,y:ir})}static fromPrivateKey(Jt){return Zt(Jt).point}toRawBytes(){const{x:Jt,y:dt}=this.toAffine(),Ne=Y.z(dt,Ae.BYTES);return Ne[Ne.length-1]|=Jt&R?128:0,Ne}toHex(){return Y.My(this.toRawBytes())}}Tt.BASE=new Tt(le.Gx,le.Gy,R,En(le.Gx*le.Gy)),Tt.ZERO=new Tt(j,R,R,j);const{BASE:Nt,ZERO:Lt}=Tt,st=(0,M.A)(Tt,8*Vt);function mt(qn){return(0,N.zi)(qn,Be)}function sn(qn){return mt(Y.lX(qn))}function Zt(qn){const Jt=Vt;qn=(0,Y.qj)("private key",qn,Jt);const dt=(0,Y.qj)("hashed private key",Yt(qn),2*Jt),Ne=jn(dt.slice(0,Jt)),We=dt.slice(Jt,2*Jt),Bt=sn(Ne),gn=Nt.multiply(Bt),Kn=gn.toRawBytes();return{head:Ne,prefix:We,scalar:Bt,point:gn,pointBytes:Kn}}function cr(qn=new Uint8Array,...Jt){const dt=Y.Id(...Jt);return sn(Yt(mn(dt,(0,Y.qj)("context",qn),!!ft)))}const zn=V;return Nt._setWindowSize(8),{CURVE:le,getPublicKey:function xn(qn){return Zt(qn).pointBytes},sign:function kn(qn,Jt,dt={}){qn=(0,Y.qj)("message",qn),ft&&(qn=ft(qn));const{prefix:Ne,scalar:We,pointBytes:Bt}=Zt(Jt),gn=cr(dt.context,Ne,qn),Kn=Nt.multiply(gn).toRawBytes(),hr=mt(gn+cr(dt.context,Kn,Bt,qn)*We);hn(hr);const Wr=Y.Id(Kn,Y.z(hr,Ae.BYTES));return(0,Y.qj)("result",Wr,2*Vt)},verify:function qr(qn,Jt,dt,Ne=zn){const{context:We,zip215:Bt}=Ne,gn=Ae.BYTES;qn=(0,Y.qj)("signature",qn,2*gn),Jt=(0,Y.qj)("message",Jt),ft&&(Jt=ft(Jt));const Kn=Y.lX(qn.slice(gn,2*gn));let ir,hr,Wr;try{ir=Tt.fromHex(dt,Bt),hr=Tt.fromHex(qn.slice(0,gn),Bt),Wr=Nt.multiplyUnsafe(Kn)}catch{return!1}if(!Bt&&ir.isSmallOrder())return!1;const Vr=cr(We,hr.toRawBytes(),ir.toRawBytes(),Jt);return hr.add(ir.multiplyUnsafe(Vr)).subtract(Wr).clearCofactor().equals(Tt.ZERO)},ExtendedPoint:Tt,utils:{getExtendedPublicKey:Zt,randomPrivateKey:()=>Rt(Ae.BYTES),precompute:(qn=8,Jt=Tt.BASE)=>(Jt._setWindowSize(qn),Jt.multiply(BigInt(3)),Jt)}}}const W=BigInt(0),Q=BigInt(1),re=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),te=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),pe=(BigInt(0),BigInt(1)),he=BigInt(2),ve=BigInt(5),ge=BigInt(10),Me=BigInt(20),Oe=BigInt(40),je=BigInt(80);function B(z){const le=re,Be=z*z%le*z%le,ft=(0,N.zH)(Be,he,le)*Be%le,Yt=(0,N.zH)(ft,pe,le)*z%le,Rt=(0,N.zH)(Yt,ve,le)*Yt%le,Vt=(0,N.zH)(Rt,ge,le)*Rt%le,dn=(0,N.zH)(Vt,Me,le)*Vt%le,Mn=(0,N.zH)(dn,Oe,le)*dn%le,En=(0,N.zH)(Mn,je,le)*Mn%le,Ar=(0,N.zH)(En,je,le)*Mn%le,jn=(0,N.zH)(Ar,ge,le)*Rt%le;return{pow_p_5_8:(0,N.zH)(jn,he,le)*z%le,b2:Be}}function l(z){return z[0]&=248,z[31]&=127,z[31]|=64,z}const _=(0,N.D0)(re,void 0,!0),D={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:_,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:h.Zf,randomBytes:x.po,adjustScalarBytes:l,uvRatio:function f(z,le){const Ae=re,Be=(0,N.zi)(le*le*le,Ae),Yt=B(z*(0,N.zi)(Be*Be*le,Ae)).pow_p_5_8;let Rt=(0,N.zi)(z*Be*Yt,Ae);const Vt=(0,N.zi)(le*Rt*Rt,Ae),dn=Rt,Mn=(0,N.zi)(Rt*te,Ae),En=Vt===z,Ar=Vt===(0,N.zi)(-z,Ae),jn=Vt===(0,N.zi)(-z*te,Ae);return En&&(Rt=dn),(Ar||jn)&&(Rt=Mn),(0,N.dQ)(Rt,Ae)&&(Rt=(0,N.zi)(-Rt,Ae)),{isValid:En||Ar,value:Rt}}},O=ee(D);const E=function ae(z){const le=function de(z){return(0,Y.Q5)(z,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...z})}(z),{P:Ae}=le,Be=An=>(0,N.zi)(An,Ae),ft=le.montgomeryBits,Yt=Math.ceil(ft/8),Rt=le.nByteLength,Vt=le.adjustScalarBytes||(An=>An),dn=le.powPminus2||(An=>(0,N.n7)(An,Ae-BigInt(2),Ae));function Mn(An,Rr,Tt){const Nt=Be(An*(Rr-Tt));return[Rr=Be(Rr-Nt),Tt=Be(Tt+Nt)]}function En(An){if("bigint"==typeof An&&W<=An&&An<Ae)return An;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const Ar=(le.a-BigInt(2))/BigInt(4);function mn(An){return(0,Y.z)(Be(An),Yt)}function St(An,Rr){const Tt=function pn(An){const Rr=(0,Y.qj)("u coordinate",An,Yt);return 32===Rt&&(Rr[31]&=127),(0,Y.lX)(Rr)}(Rr),Nt=function kt(An){const Rr=(0,Y.qj)("scalar",An),Tt=Rr.length;if(Tt!==Yt&&Tt!==Rt)throw new Error(`Expected ${Yt} or ${Rt} bytes, got ${Tt}`);return(0,Y.lX)(Vt(Rr))}(An),Lt=function jn(An,Rr){const Tt=En(An),Nt=En(Rr),Lt=Tt;let cr,st=Q,mt=W,sn=Tt,Zt=Q,xn=W;for(let zn=BigInt(ft-1);zn>=W;zn--){const qr=Nt>>zn&Q;xn^=qr,cr=Mn(xn,st,sn),st=cr[0],sn=cr[1],cr=Mn(xn,mt,Zt),mt=cr[0],Zt=cr[1],xn=qr;const pr=st+mt,qn=Be(pr*pr),Jt=st-mt,dt=Be(Jt*Jt),Ne=qn-dt,We=sn+Zt,gn=Be((sn-Zt)*pr),Kn=Be(We*Jt),ir=gn+Kn,hr=gn-Kn;sn=Be(ir*ir),Zt=Be(Lt*Be(hr*hr)),st=Be(qn*dt),mt=Be(Ne*(qn+Be(Ar*Ne)))}cr=Mn(xn,st,sn),st=cr[0],sn=cr[1],cr=Mn(xn,mt,Zt),mt=cr[0],Zt=cr[1];const kn=dn(mt);return Be(st*kn)}(Tt,Nt);if(Lt===W)throw new Error("Invalid private or public key received");return mn(Lt)}const an=mn(le.Gu);function hn(An){return St(An,an)}return{scalarMult:St,scalarMultBase:hn,getSharedSecret:(An,Rr)=>St(An,Rr),getPublicKey:An=>hn(An),utils:{randomPrivateKey:()=>le.randomBytes(le.nByteLength)},GuBytes:an}}({P:re,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:z=>{const le=re,{pow_p_5_8:Ae,b2:Be}=B(z);return(0,N.zi)((0,N.zH)(Ae,BigInt(3),le)*Be,le)},adjustScalarBytes:l,randomBytes:x.po});function q(z){const{y:le}=O.ExtendedPoint.fromHex(z),Ae=BigInt(1);return _.toBytes(_.create((Ae+le)*_.inv(Ae-le)))}function ce(z){const le=D.hash(z.subarray(0,32));return D.adjustScalarBytes(le).subarray(0,32)}const me=(_.ORDER+BigInt(3))/BigInt(8);_.pow(he,me),_.sqrt(_.neg(_.ONE)),BigInt(5),BigInt(8),BigInt(486662),(0,N.Tv)(_,_.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},40499:(Ye,J,A)=>{"use strict";A.d(J,{Ag:()=>U});var h=A(2716),x=A(47565);const Y=(0,A(35765).D0)(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),M=Y.create(BigInt("-3")),j=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),U=(0,h.s)({a:M,b:j,Fp:Y,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},x.s)},94256:(Ye,J,A)=>{"use strict";A.d(J,{bI:()=>P});var h=A(47565),x=A(35765),N=A(2716);const Y=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),M=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),j=BigInt(1),R=BigInt(2),U=(T,c)=>(T+c/R)/c;const V=(0,x.D0)(Y,void 0,void 0,{sqrt:function H(T){const c=Y,E=BigInt(3),q=BigInt(6),X=BigInt(11),ce=BigInt(22),me=BigInt(23),Te=BigInt(44),Ke=BigInt(88),Qe=T*T*T%c,ke=Qe*Qe*T%c,Ie=(0,x.zH)(ke,E,c)*ke%c,Xe=(0,x.zH)(Ie,E,c)*ke%c,Se=(0,x.zH)(Xe,R,c)*Qe%c,Le=(0,x.zH)(Se,X,c)*Se%c,Ee=(0,x.zH)(Le,ce,c)*Le%c,be=(0,x.zH)(Ee,Te,c)*Ee%c,oe=(0,x.zH)(be,Ke,c)*be%c,fe=(0,x.zH)(oe,Te,c)*Ee%c,we=(0,x.zH)(fe,E,c)*ke%c,De=(0,x.zH)(we,me,c)*Le%c,$e=(0,x.zH)(De,q,c)*Qe%c,Je=(0,x.zH)($e,R,c);if(!V.eql(V.sqr(Je),T))throw new Error("Cannot find square root");return Je}}),P=(0,N.s)({a:BigInt(0),b:BigInt(7),Fp:V,n:M,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:T=>{const c=M,E=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),q=-j*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),X=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ce=E,me=BigInt("0x100000000000000000000000000000000"),Te=U(ce*T,c),Ke=U(-q*T,c);let Qe=(0,x.zi)(T-Te*E-Ke*X,c),ke=(0,x.zi)(-Te*q-Ke*ce,c);const Ie=Qe>me,Xe=ke>me;if(Ie&&(Qe=c-Qe),Xe&&(ke=c-ke),Qe>me||ke>me)throw new Error("splitScalar: Endomorphism failed, k="+T);return{k1neg:Ie,k1:Qe,k2neg:Xe,k2:ke}}}},h.s);BigInt(0)},63741:(Ye,J,A)=>{"use strict";A.d(J,{Rn:()=>c,Wp:()=>Xe,kv:()=>Ke,wJ:()=>ce});var h=A(10467);const x=2n**255n-19n,N=2n**252n+27742317777372353535851937790883648493n,Y=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,M=0x6666666666666666666666666666666666666666666666666666666666666658n,j={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:x,n:N,h:8,Gx:Y,Gy:M},R=(be="")=>{throw new Error(be)},U=be=>"string"==typeof be,H=(be,oe)=>!(be instanceof Uint8Array)||"number"==typeof oe&&oe>0&&be.length!==oe?R("Uint8Array expected"):be,V=be=>new Uint8Array(be),P=(be,oe)=>H(U(be)?pe(be):V(be),oe),ee=(be,oe=x)=>{let fe=be%oe;return fe>=0n?fe:oe+fe},W=be=>be instanceof de?be:R("Point expected");let Q;class de{constructor(oe,fe,we,De){this.ex=oe,this.ey=fe,this.ez=we,this.et=De}static fromAffine(oe){return new de(oe.x,oe.y,1n,ee(oe.x*oe.y))}static fromHex(oe,fe=!0){const{d:we}=j,De=(oe=P(oe,32)).slice();De[31]=-129&oe[31];const $e=ve(De);0n===$e||(fe&&!(0n<$e&&$e<x)&&R("bad y coord 1"),!fe&&!(0n<$e&&$e<2n**256n)&&R("bad y coord 2"));const Je=ee($e*$e),Ze=ee(Je-1n),Pt=ee(we*Je+1n);let{isValid:nt,value:Ge}=l(Ze,Pt);return nt||R("bad y coordinate 3"),!!(128&oe[31])!=(1n===(1n&Ge))&&(Ge=ee(-Ge)),new de(Ge,$e,1n,ee(Ge*$e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(oe){const{ex:fe,ey:we,ez:De}=this,{ex:$e,ey:Je,ez:Ze}=W(oe),Pt=ee(fe*Ze),nt=ee($e*De),Ge=ee(we*Ze),Et=ee(Je*De);return Pt===nt&&Ge===Et}is0(){return this.equals(re)}negate(){return new de(ee(-this.ex),this.ey,this.ez,ee(-this.et))}double(){const{ex:oe,ey:fe,ez:we}=this,{a:De}=j,$e=ee(oe*oe),Je=ee(fe*fe),Ze=ee(2n*ee(we*we)),Pt=ee(De*$e),nt=oe+fe,Ge=ee(ee(nt*nt)-$e-Je),Et=Pt+Je,K=Et-Ze,C=Pt-Je,b=ee(Ge*K),z=ee(Et*C),le=ee(Ge*C),Ae=ee(K*Et);return new de(b,z,Ae,le)}add(oe){const{ex:fe,ey:we,ez:De,et:$e}=this,{ex:Je,ey:Ze,ez:Pt,et:nt}=W(oe),{a:Ge,d:Et}=j,K=ee(fe*Je),C=ee(we*Ze),b=ee($e*Et*nt),z=ee(De*Pt),le=ee((fe+we)*(Je+Ze)-K-C),Ae=ee(z-b),Be=ee(z+b),ft=ee(C-Ge*K),Yt=ee(le*Ae),Rt=ee(Be*ft),Vt=ee(le*ft),dn=ee(Ae*Be);return new de(Yt,Rt,dn,Vt)}mul(oe,fe=!0){if(0n===oe)return!0===fe?R("cannot multiply by 0"):re;if("bigint"==typeof oe&&0n<oe&&oe<N||R("invalid scalar, must be < L"),!fe&&this.is0()||1n===oe)return this;if(this.equals(ae))return Ee(oe).p;let we=re,De=ae;for(let $e=this;oe>0n;$e=$e.double(),oe>>=1n)1n&oe?we=we.add($e):fe&&(De=De.add($e));return we}multiply(oe){return this.mul(oe)}clearCofactor(){return this.mul(BigInt(j.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let oe=this.mul(N/2n,!1).double();return oe=oe.add(this),oe.is0()}toAffine(){const{ex:oe,ey:fe,ez:we}=this;if(this.is0())return{x:0n,y:0n};const De=Me(we);return 1n!==ee(we*De)&&R("invalid inverse"),{x:ee(oe*De),y:ee(fe*De)}}toRawBytes(){const{x:oe,y:fe}=this.toAffine(),we=he(fe);return we[31]|=1n&oe?128:0,we}toHex(){return ue(this.toRawBytes())}}de.BASE=new de(Y,M,1n,ee(Y*M)),de.ZERO=new de(0n,1n,1n,0n);const{BASE:ae,ZERO:re}=de,te=(be,oe)=>be.toString(16).padStart(oe,"0"),ue=be=>Array.from(be).map(oe=>te(oe,2)).join(""),pe=be=>{const oe=be.length;(!U(be)||oe%2)&&R("hex invalid 1");const fe=V(oe/2);for(let we=0;we<fe.length;we++){const De=2*we,$e=be.slice(De,De+2),Je=Number.parseInt($e,16);(Number.isNaN(Je)||Je<0)&&R("hex invalid 2"),fe[we]=Je}return fe},he=be=>pe(te(be,64)).reverse(),ve=be=>BigInt("0x"+ue(V(H(be)).reverse())),ge=(...be)=>{const oe=V(be.reduce((we,De)=>we+H(De).length,0));let fe=0;return be.forEach(we=>{oe.set(we,fe),fe+=we.length}),oe},Me=(be,oe=x)=>{(0n===be||oe<=0n)&&R("no inverse n="+be+" mod="+oe);let fe=ee(be,oe),we=oe,De=0n,$e=1n,Je=1n,Ze=0n;for(;0n!==fe;){const Pt=we/fe,nt=we%fe,Ge=De-Je*Pt,Et=$e-Ze*Pt;we=fe,fe=nt,De=Je,$e=Ze,Je=Ge,Ze=Et}return 1n===we?ee(De,oe):R("no inverse")},Oe=(be,oe)=>{let fe=be;for(;oe-- >0n;)fe*=fe,fe%=x;return fe},B=19681161376707505956807079304988542015446066515923890162744021073123829784752n,l=(be,oe)=>{const fe=ee(oe*oe*oe),De=(be=>{const fe=be*be%x*be%x,we=Oe(fe,2n)*fe%x,De=Oe(we,1n)*be%x,$e=Oe(De,5n)*De%x,Je=Oe($e,10n)*$e%x,Ze=Oe(Je,20n)*Je%x,Pt=Oe(Ze,40n)*Ze%x,nt=Oe(Pt,80n)*Pt%x,Ge=Oe(nt,80n)*Pt%x,Et=Oe(Ge,10n)*$e%x;return{pow_p_5_8:Oe(Et,2n)*be%x,b2:fe}})(be*ee(fe*fe*oe)).pow_p_5_8;let $e=ee(be*fe*De);const Je=ee(oe*$e*$e),Ze=$e,Pt=ee($e*B),nt=Je===be,Ge=Je===ee(-be),Et=Je===ee(-be*B);return nt&&($e=Ze),(Ge||Et)&&($e=Pt),1n===(1n&ee($e))&&($e=ee(-$e)),{isValid:nt||Ge,value:$e}},f=be=>ee(ve(be),N);let w;const _=(...be)=>Ie.sha512Async(...be),D=(...be)=>"function"==typeof w?w(...be):R("etc.sha512Sync not set"),O=be=>{const oe=be.slice(0,32);oe[0]&=248,oe[31]&=127,oe[31]|=64;const fe=be.slice(32,64),we=f(oe),De=ae.mul(we),$e=De.toRawBytes();return{head:oe,prefix:fe,scalar:we,point:De,pointBytes:$e}},$=be=>_(P(be,32)).then(O),c=be=>$(be).then(oe=>oe.pointBytes);function q(be,oe){return be?_(oe.hashable).then(oe.finish):oe.finish(D(oe.hashable))}const ce=function(){var be=(0,h.A)(function*(oe,fe){const we=P(oe),De=yield $(fe);return q(!0,((be,oe,fe)=>{const{pointBytes:we,scalar:De}=be,$e=f(oe),Je=ae.mul($e).toRawBytes();return{hashable:ge(Je,we,fe),finish:nt=>{const Ge=ee($e+f(nt)*De,N);return H(ge(Je,he(Ge)),64)}}})(De,yield _(De.prefix,we),we))});return function(fe,we){return be.apply(this,arguments)}}(),Ke=function(){var be=(0,h.A)(function*(oe,fe,we){return q(!0,((be,oe,fe)=>{oe=P(oe),be=P(be,64);const we=de.fromHex(fe,!1),De=de.fromHex(be.slice(0,32),!1),$e=ve(be.slice(32,64)),Je=ae.mul($e,!1);return{hashable:ge(De.toRawBytes(),we.toRawBytes(),oe),finish:nt=>{const Ge=f(nt);return De.add(we.mul(Ge,!1)).add(Je.negate()).clearCofactor().is0()}}})(oe,fe,we))});return function(fe,we,De){return be.apply(this,arguments)}}(),ke=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Ie={bytesToHex:ue,hexToBytes:pe,concatBytes:ge,mod:ee,invert:Me,randomBytes:be=>{const oe=ke();return oe||R("crypto.getRandomValues must be defined"),oe.getRandomValues(V(be))},sha512Async:(be=(0,h.A)(function*(...oe){const fe=ke();fe||R("crypto.subtle or etc.sha512Async must be defined");const we=ge(...oe);return V(yield fe.subtle.digest("SHA-512",we.buffer))}),function(){return be.apply(this,arguments)}),sha512Sync:void 0};var be;Object.defineProperties(Ie,{sha512Sync:{configurable:!1,get:()=>w,set(be){w||(w=be)}}});const Xe={getExtendedPublicKeyAsync:$,getExtendedPublicKey:be=>O(D(P(be,32))),randomPrivateKey:()=>Ie.randomBytes(32),precompute:(be=8,oe=ae)=>(oe.multiply(3n),oe)},Ee=be=>{const oe=Q||(Q=(()=>{const be=[];let fe=ae,we=fe;for(let De=0;De<33;De++){we=fe,be.push(we);for(let $e=1;$e<128;$e++)we=we.add(fe),be.push(we);fe=we.double()}return be})()),fe=(Ge,Et)=>{let K=Et.negate();return Ge?K:Et};let we=re,De=ae;const Ze=BigInt(255),nt=BigInt(8);for(let Ge=0;Ge<33;Ge++){const Et=128*Ge;let K=Number(be&Ze);be>>=nt,K>128&&(K-=256,be+=1n);const C=Et,b=Et+Math.abs(K)-1,le=K<0;0===K?De=De.add(fe(Ge%2!=0,oe[C])):we=we.add(fe(le,oe[b]))}return{p:we,f:De}}},37099:(Ye,J,A)=>{"use strict";function h(V){if(!Number.isSafeInteger(V)||V<0)throw new Error(`Wrong positive integer: ${V}`)}function Y(V,...P){if(!function N(V){return V instanceof Uint8Array||null!=V&&"object"==typeof V&&"Uint8Array"===V.constructor.name}(V))throw new Error("Expected Uint8Array");if(P.length>0&&!P.includes(V.length))throw new Error(`Expected Uint8Array of length ${P}, not of length=${V.length}`)}function M(V){if("function"!=typeof V||"function"!=typeof V.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");h(V.outputLen),h(V.blockLen)}function j(V,P=!0){if(V.destroyed)throw new Error("Hash instance has been destroyed");if(P&&V.finished)throw new Error("Hash#digest() has already been called")}function R(V,P){Y(V);const ee=P.outputLen;if(V.length<ee)throw new Error(`digestInto() expects output buffer of length at least ${ee}`)}A.d(J,{CG:()=>R,ai:()=>h,ee:()=>Y,t2:()=>j,tW:()=>M})},36405:(Ye,J,A)=>{"use strict";A.d(J,{D:()=>Y});var h=A(37099),x=A(62953);class Y extends x.Vw{constructor(j,R,U,H){super(),this.blockLen=j,this.outputLen=R,this.padOffset=U,this.isLE=H,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(j),this.view=(0,x.O8)(this.buffer)}update(j){(0,h.t2)(this);const{view:R,buffer:U,blockLen:H}=this,V=(j=(0,x.ZJ)(j)).length;for(let P=0;P<V;){const ee=Math.min(H-this.pos,V-P);if(ee!==H)U.set(j.subarray(P,P+ee),this.pos),this.pos+=ee,P+=ee,this.pos===H&&(this.process(R,0),this.pos=0);else{const W=(0,x.O8)(j);for(;H<=V-P;P+=H)this.process(W,P)}}return this.length+=j.length,this.roundClean(),this}digestInto(j){(0,h.t2)(this),(0,h.CG)(j,this),this.finished=!0;const{buffer:R,view:U,blockLen:H,isLE:V}=this;let{pos:P}=this;R[P++]=128,this.buffer.subarray(P).fill(0),this.padOffset>H-P&&(this.process(U,0),P=0);for(let ae=P;ae<H;ae++)R[ae]=0;(function N(M,j,R,U){if("function"==typeof M.setBigUint64)return M.setBigUint64(j,R,U);const H=BigInt(32),V=BigInt(4294967295),P=Number(R>>H&V),ee=Number(R&V),Q=U?0:4;M.setUint32(j+(U?4:0),P,U),M.setUint32(j+Q,ee,U)})(U,H-8,BigInt(8*this.length),V),this.process(U,0);const ee=(0,x.O8)(j),W=this.outputLen;if(W%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Q=W/4,de=this.get();if(Q>de.length)throw new Error("_sha2: outputLen bigger than state");for(let ae=0;ae<Q;ae++)ee.setUint32(4*ae,de[ae],V)}digest(){const{buffer:j,outputLen:R}=this;this.digestInto(j);const U=j.slice(0,R);return this.destroy(),U}_cloneInto(j){j||(j=new this.constructor),j.set(...this.get());const{blockLen:R,buffer:U,length:H,finished:V,destroyed:P,pos:ee}=this;return j.length=H,j.pos=ee,j.finished=V,j.destroyed=P,H%R&&j.buffer.set(U),j}}},86703:(Ye,J,A)=>{"use strict";A.d(J,{E:()=>h});const h="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},75781:(Ye,J,A)=>{"use strict";A.d(J,{w:()=>Y});var h=A(37099),x=A(62953);class N extends x.Vw{constructor(j,R){super(),this.finished=!1,this.destroyed=!1,(0,h.tW)(j);const U=(0,x.ZJ)(R);if(this.iHash=j.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const H=this.blockLen,V=new Uint8Array(H);V.set(U.length>H?j.create().update(U).digest():U);for(let P=0;P<V.length;P++)V[P]^=54;this.iHash.update(V),this.oHash=j.create();for(let P=0;P<V.length;P++)V[P]^=106;this.oHash.update(V),V.fill(0)}update(j){return(0,h.t2)(this),this.iHash.update(j),this}digestInto(j){(0,h.t2)(this),(0,h.ee)(j,this.outputLen),this.finished=!0,this.iHash.digestInto(j),this.oHash.update(j),this.oHash.digestInto(j),this.destroy()}digest(){const j=new Uint8Array(this.oHash.outputLen);return this.digestInto(j),j}_cloneInto(j){j||(j=Object.create(Object.getPrototypeOf(this),{}));const{oHash:R,iHash:U,finished:H,destroyed:V,blockLen:P,outputLen:ee}=this;return j.finished=H,j.destroyed=V,j.blockLen=P,j.outputLen=ee,j.oHash=R._cloneInto(j.oHash),j.iHash=U._cloneInto(j.iHash),j}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Y=(M,j,R)=>new N(M,j).update(R).digest();Y.create=(M,j)=>new N(M,j)},47565:(Ye,J,A)=>{"use strict";A.d(J,{s:()=>V});var h=A(36405),x=A(62953);const N=(ee,W,Q)=>ee&W^~ee&Q,Y=(ee,W,Q)=>ee&W^ee&Q^W&Q,M=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),j=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),R=new Uint32Array(64);class U extends h.D{constructor(){super(64,32,8,!1),this.A=0|j[0],this.B=0|j[1],this.C=0|j[2],this.D=0|j[3],this.E=0|j[4],this.F=0|j[5],this.G=0|j[6],this.H=0|j[7]}get(){const{A:W,B:Q,C:de,D:ae,E:re,F:te,G:ue,H:pe}=this;return[W,Q,de,ae,re,te,ue,pe]}set(W,Q,de,ae,re,te,ue,pe){this.A=0|W,this.B=0|Q,this.C=0|de,this.D=0|ae,this.E=0|re,this.F=0|te,this.G=0|ue,this.H=0|pe}process(W,Q){for(let ge=0;ge<16;ge++,Q+=4)R[ge]=W.getUint32(Q,!1);for(let ge=16;ge<64;ge++){const Me=R[ge-15],Oe=R[ge-2],je=(0,x.Ow)(Me,7)^(0,x.Ow)(Me,18)^Me>>>3,B=(0,x.Ow)(Oe,17)^(0,x.Ow)(Oe,19)^Oe>>>10;R[ge]=B+R[ge-7]+je+R[ge-16]|0}let{A:de,B:ae,C:re,D:te,E:ue,F:pe,G:he,H:ve}=this;for(let ge=0;ge<64;ge++){const Oe=ve+((0,x.Ow)(ue,6)^(0,x.Ow)(ue,11)^(0,x.Ow)(ue,25))+N(ue,pe,he)+M[ge]+R[ge]|0,B=((0,x.Ow)(de,2)^(0,x.Ow)(de,13)^(0,x.Ow)(de,22))+Y(de,ae,re)|0;ve=he,he=pe,pe=ue,ue=te+Oe|0,te=re,re=ae,ae=de,de=Oe+B|0}de=de+this.A|0,ae=ae+this.B|0,re=re+this.C|0,te=te+this.D|0,ue=ue+this.E|0,pe=pe+this.F|0,he=he+this.G|0,ve=ve+this.H|0,this.set(de,ae,re,te,ue,pe,he,ve)}roundClean(){R.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const V=(0,x.ld)(()=>new U)},25431:(Ye,J,A)=>{"use strict";A.d(J,{Zf:()=>E});var h=A(36405);const x=BigInt(2**32-1),N=BigInt(32);function Y(me,Te=!1){return Te?{h:Number(me&x),l:Number(me>>N&x)}:{h:0|Number(me>>N&x),l:0|Number(me&x)}}const B_split=function M(me,Te=!1){let Ke=new Uint32Array(me.length),Qe=new Uint32Array(me.length);for(let ke=0;ke<me.length;ke++){const{h:Ie,l:Xe}=Y(me[ke],Te);[Ke[ke],Qe[ke]]=[Ie,Xe]}return[Ke,Qe]},B_shrSH=(me,Te,Ke)=>me>>>Ke,B_shrSL=(me,Te,Ke)=>me<<32-Ke|Te>>>Ke,B_rotrSH=(me,Te,Ke)=>me>>>Ke|Te<<32-Ke,B_rotrSL=(me,Te,Ke)=>me<<32-Ke|Te>>>Ke,B_rotrBH=(me,Te,Ke)=>me<<64-Ke|Te>>>Ke-32,B_rotrBL=(me,Te,Ke)=>me>>>Ke-32|Te<<64-Ke,B_add=function ue(me,Te,Ke,Qe){const ke=(Te>>>0)+(Qe>>>0);return{h:me+Ke+(ke/2**32|0)|0,l:0|ke}},B_add3L=(me,Te,Ke)=>(me>>>0)+(Te>>>0)+(Ke>>>0),B_add3H=(me,Te,Ke,Qe)=>Te+Ke+Qe+(me/2**32|0)|0,B_add4L=(me,Te,Ke,Qe)=>(me>>>0)+(Te>>>0)+(Ke>>>0)+(Qe>>>0),B_add4H=(me,Te,Ke,Qe,ke)=>Te+Ke+Qe+ke+(me/2**32|0)|0,B_add5H=(me,Te,Ke,Qe,ke,Ie)=>Te+Ke+Qe+ke+Ie+(me/2**32|0)|0,B_add5L=(me,Te,Ke,Qe,ke)=>(me>>>0)+(Te>>>0)+(Ke>>>0)+(Qe>>>0)+(ke>>>0);var l=A(62953);const[f,w]=B_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(me=>BigInt(me))),_=new Uint32Array(80),D=new Uint32Array(80);class O extends h.D{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:Te,Al:Ke,Bh:Qe,Bl:ke,Ch:Ie,Cl:Xe,Dh:Se,Dl:Le,Eh:Ee,El:be,Fh:oe,Fl:fe,Gh:we,Gl:De,Hh:$e,Hl:Je}=this;return[Te,Ke,Qe,ke,Ie,Xe,Se,Le,Ee,be,oe,fe,we,De,$e,Je]}set(Te,Ke,Qe,ke,Ie,Xe,Se,Le,Ee,be,oe,fe,we,De,$e,Je){this.Ah=0|Te,this.Al=0|Ke,this.Bh=0|Qe,this.Bl=0|ke,this.Ch=0|Ie,this.Cl=0|Xe,this.Dh=0|Se,this.Dl=0|Le,this.Eh=0|Ee,this.El=0|be,this.Fh=0|oe,this.Fl=0|fe,this.Gh=0|we,this.Gl=0|De,this.Hh=0|$e,this.Hl=0|Je}process(Te,Ke){for(let nt=0;nt<16;nt++,Ke+=4)_[nt]=Te.getUint32(Ke),D[nt]=Te.getUint32(Ke+=4);for(let nt=16;nt<80;nt++){const Ge=0|_[nt-15],Et=0|D[nt-15],K=B_rotrSH(Ge,Et,1)^B_rotrSH(Ge,Et,8)^B_shrSH(Ge,Et,7),C=B_rotrSL(Ge,Et,1)^B_rotrSL(Ge,Et,8)^B_shrSL(Ge,Et,7),b=0|_[nt-2],z=0|D[nt-2],le=B_rotrSH(b,z,19)^B_rotrBH(b,z,61)^B_shrSH(b,z,6),Ae=B_rotrSL(b,z,19)^B_rotrBL(b,z,61)^B_shrSL(b,z,6),Be=B_add4L(C,Ae,D[nt-7],D[nt-16]),ft=B_add4H(Be,K,le,_[nt-7],_[nt-16]);_[nt]=0|ft,D[nt]=0|Be}let{Ah:Qe,Al:ke,Bh:Ie,Bl:Xe,Ch:Se,Cl:Le,Dh:Ee,Dl:be,Eh:oe,El:fe,Fh:we,Fl:De,Gh:$e,Gl:Je,Hh:Ze,Hl:Pt}=this;for(let nt=0;nt<80;nt++){const Ge=B_rotrSH(oe,fe,14)^B_rotrSH(oe,fe,18)^B_rotrBH(oe,fe,41),Et=B_rotrSL(oe,fe,14)^B_rotrSL(oe,fe,18)^B_rotrBL(oe,fe,41),K=oe&we^~oe&$e,b=B_add5L(Pt,Et,fe&De^~fe&Je,w[nt],D[nt]),z=B_add5H(b,Ze,Ge,K,f[nt],_[nt]),le=0|b,Ae=B_rotrSH(Qe,ke,28)^B_rotrBH(Qe,ke,34)^B_rotrBH(Qe,ke,39),Be=B_rotrSL(Qe,ke,28)^B_rotrBL(Qe,ke,34)^B_rotrBL(Qe,ke,39),ft=Qe&Ie^Qe&Se^Ie&Se,Yt=ke&Xe^ke&Le^Xe&Le;Ze=0|$e,Pt=0|Je,$e=0|we,Je=0|De,we=0|oe,De=0|fe,({h:oe,l:fe}=B_add(0|Ee,0|be,0|z,0|le)),Ee=0|Se,be=0|Le,Se=0|Ie,Le=0|Xe,Ie=0|Qe,Xe=0|ke;const Rt=B_add3L(le,Be,Yt);Qe=B_add3H(Rt,z,Ae,ft),ke=0|Rt}({h:Qe,l:ke}=B_add(0|this.Ah,0|this.Al,0|Qe,0|ke)),({h:Ie,l:Xe}=B_add(0|this.Bh,0|this.Bl,0|Ie,0|Xe)),({h:Se,l:Le}=B_add(0|this.Ch,0|this.Cl,0|Se,0|Le)),({h:Ee,l:be}=B_add(0|this.Dh,0|this.Dl,0|Ee,0|be)),({h:oe,l:fe}=B_add(0|this.Eh,0|this.El,0|oe,0|fe)),({h:we,l:De}=B_add(0|this.Fh,0|this.Fl,0|we,0|De)),({h:$e,l:Je}=B_add(0|this.Gh,0|this.Gl,0|$e,0|Je)),({h:Ze,l:Pt}=B_add(0|this.Hh,0|this.Hl,0|Ze,0|Pt)),this.set(Qe,ke,Ie,Xe,Se,Le,Ee,be,oe,fe,we,De,$e,Je,Ze,Pt)}roundClean(){_.fill(0),D.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const E=(0,l.ld)(()=>new O)},62953:(Ye,J,A)=>{"use strict";A.d(J,{$h:()=>de,AI:()=>re,Id:()=>ue,My:()=>V,O8:()=>j,Ow:()=>R,Vw:()=>pe,ZJ:()=>te,aT:()=>W,ld:()=>ge,po:()=>je,tY:()=>ve});var h=A(10467),x=A(86703);function M(B){return B instanceof Uint8Array||null!=B&&"object"==typeof B&&"Uint8Array"===B.constructor.name}const j=B=>new DataView(B.buffer,B.byteOffset,B.byteLength),R=(B,l)=>B<<32-l|B>>>l;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const H=Array.from({length:256},(B,l)=>l.toString(16).padStart(2,"0"));function V(B){if(!M(B))throw new Error("Uint8Array expected");let l="";for(let f=0;f<B.length;f++)l+=H[B[f]];return l}const P={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ee(B){return B>=P._0&&B<=P._9?B-P._0:B>=P._A&&B<=P._F?B-(P._A-10):B>=P._a&&B<=P._f?B-(P._a-10):void 0}function W(B){if("string"!=typeof B)throw new Error("hex string expected, got "+typeof B);const l=B.length,f=l/2;if(l%2)throw new Error("padded hex string expected, got unpadded hex of length "+l);const w=new Uint8Array(f);for(let _=0,D=0;_<f;_++,D+=2){const O=ee(B.charCodeAt(D)),$=ee(B.charCodeAt(D+1));if(void 0===O||void 0===$)throw new Error('hex string expected, got non-hex character "'+(B[D]+B[D+1])+'" at index '+D);w[_]=16*O+$}return w}const Q=function(){var B=(0,h.A)(function*(){});return function(){return B.apply(this,arguments)}}();function de(B,l,f){return ae.apply(this,arguments)}function ae(){return(ae=(0,h.A)(function*(B,l,f){let w=Date.now();for(let _=0;_<B;_++){f(_);const D=Date.now()-w;D>=0&&D<l||(yield Q(),w+=D)}})).apply(this,arguments)}function re(B){if("string"!=typeof B)throw new Error("utf8ToBytes expected string, got "+typeof B);return new Uint8Array((new TextEncoder).encode(B))}function te(B){if("string"==typeof B&&(B=re(B)),!M(B))throw new Error("expected Uint8Array, got "+typeof B);return B}function ue(...B){let l=0;for(let w=0;w<B.length;w++){const _=B[w];if(!M(_))throw new Error("Uint8Array expected");l+=_.length}const f=new Uint8Array(l);for(let w=0,_=0;w<B.length;w++){const D=B[w];f.set(D,_),_+=D.length}return f}class pe{clone(){return this._cloneInto()}}const he={}.toString;function ve(B,l){if(void 0!==l&&"[object Object]"!==he.call(l))throw new Error("Options should be object or undefined");return Object.assign(B,l)}function ge(B){const l=w=>B().update(te(w)).digest(),f=B();return l.outputLen=f.outputLen,l.blockLen=f.blockLen,l.create=()=>B(),l}function je(B=32){if(x.E&&"function"==typeof x.E.getRandomValues)return x.E.getRandomValues(new Uint8Array(B));throw new Error("crypto.getRandomValues must be defined")}},68464:(Ye,J,A)=>{"use strict";A.d(J,{CB:()=>he,MX:()=>Ee,Wp:()=>we,jn:()=>fe,lG:()=>c,wJ:()=>Xe});var h=A(10467);const x=2n**256n,N=x-0x1000003d1n,Y=x-0x14551231950b75fc4402da1732fc9bebfn,M=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,j=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,R={p:N,n:Y,a:0n,b:7n,Gx:M,Gy:j},U=32,H=Ze=>te(te(Ze*Ze)*Ze+R.b),V=(Ze="")=>{throw new Error(Ze)},P=Ze=>"bigint"==typeof Ze,ee=Ze=>"string"==typeof Ze,W=Ze=>P(Ze)&&0n<Ze&&Ze<N,Q=Ze=>P(Ze)&&0n<Ze&&Ze<Y,de=(Ze,Pt)=>!(Ze instanceof Uint8Array)||"number"==typeof Pt&&Pt>0&&Ze.length!==Pt?V("Uint8Array expected"):Ze,ae=Ze=>new Uint8Array(Ze),re=(Ze,Pt)=>de(ee(Ze)?je(Ze):ae(Ze),Pt),te=(Ze,Pt=N)=>{let nt=Ze%Pt;return nt>=0n?nt:Pt+nt},ue=Ze=>Ze instanceof he?Ze:V("Point expected");let pe;class he{constructor(Pt,nt,Ge){this.px=Pt,this.py=nt,this.pz=Ge}static fromAffine(Pt){return new he(Pt.x,Pt.y,1n)}static fromHex(Pt){let nt;const Ge=(Pt=re(Pt))[0],Et=Pt.subarray(1),K=l(Et,0,U),C=Pt.length;if(33===C&&[2,3].includes(Ge)){W(K)||V("Point hex invalid: x not FE");let b=O(H(K));!(1&~Ge)!=(1n===(1n&b))&&(b=te(-b)),nt=new he(K,b,1n)}return 65===C&&4===Ge&&(nt=new he(K,l(Et,U,2*U),1n)),nt?nt.ok():V("Point is not on curve")}static fromPrivateKey(Pt){return ve.mul($(Pt))}get x(){return this.aff().x}get y(){return this.aff().y}equals(Pt){const{px:nt,py:Ge,pz:Et}=this,{px:K,py:C,pz:b}=ue(Pt),z=te(nt*b),le=te(K*Et),Ae=te(Ge*b),Be=te(C*Et);return z===le&&Ae===Be}negate(){return new he(this.px,te(-this.py),this.pz)}double(){return this.add(this)}add(Pt){const{px:nt,py:Ge,pz:Et}=this,{px:K,py:C,pz:b}=ue(Pt),{a:z,b:le}=R;let Ae=0n,Be=0n,ft=0n;const Yt=te(3n*le);let Rt=te(nt*K),Vt=te(Ge*C),dn=te(Et*b),Mn=te(nt+Ge),En=te(K+C);Mn=te(Mn*En),En=te(Rt+Vt),Mn=te(Mn-En),En=te(nt+Et);let Ar=te(K+b);return En=te(En*Ar),Ar=te(Rt+dn),En=te(En-Ar),Ar=te(Ge+Et),Ae=te(C+b),Ar=te(Ar*Ae),Ae=te(Vt+dn),Ar=te(Ar-Ae),ft=te(z*En),Ae=te(Yt*dn),ft=te(Ae+ft),Ae=te(Vt-ft),ft=te(Vt+ft),Be=te(Ae*ft),Vt=te(Rt+Rt),Vt=te(Vt+Rt),dn=te(z*dn),En=te(Yt*En),Vt=te(Vt+dn),dn=te(Rt-dn),dn=te(z*dn),En=te(En+dn),Rt=te(Vt*En),Be=te(Be+Rt),Rt=te(Ar*En),Ae=te(Mn*Ae),Ae=te(Ae-Rt),Rt=te(Mn*Vt),ft=te(Ar*ft),ft=te(ft+Rt),new he(Ae,Be,ft)}mul(Pt,nt=!0){if(!nt&&0n===Pt)return ge;if(Q(Pt)||V("invalid scalar"),this.equals(ve))return Je(Pt).p;let Ge=ge,Et=ve;for(let K=this;Pt>0n;K=K.double(),Pt>>=1n)1n&Pt?Ge=Ge.add(K):nt&&(Et=Et.add(K));return Ge}mulAddQUns(Pt,nt,Ge){return this.mul(nt,!1).add(Pt.mul(Ge,!1)).ok()}toAffine(){const{px:Pt,py:nt,pz:Ge}=this;if(this.equals(ge))return{x:0n,y:0n};if(1n===Ge)return{x:Pt,y:nt};const Et=D(Ge);return 1n!==te(Ge*Et)&&V("invalid inverse"),{x:te(Pt*Et),y:te(nt*Et)}}assertValidity(){const{x:Pt,y:nt}=this.aff();return(!W(Pt)||!W(nt))&&V("Point invalid: x or y"),te(nt*nt)===H(Pt)?this:V("Point invalid: not on curve")}multiply(Pt){return this.mul(Pt)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(Pt=!0){const{x:nt,y:Ge}=this.aff();return(Pt?0n===(1n&Ge)?"02":"03":"04")+w(nt)+(Pt?"":w(Ge))}toRawBytes(Pt=!0){return je(this.toHex(Pt))}}he.BASE=new he(M,j,1n),he.ZERO=new he(0n,1n,0n);const{BASE:ve,ZERO:ge}=he,Me=(Ze,Pt)=>Ze.toString(16).padStart(Pt,"0"),Oe=Ze=>Array.from(Ze).map(Pt=>Me(Pt,2)).join(""),je=Ze=>{const Pt=Ze.length;(!ee(Ze)||Pt%2)&&V("hex invalid 1");const nt=ae(Pt/2);for(let Ge=0;Ge<nt.length;Ge++){const Et=2*Ge,K=Ze.slice(Et,Et+2),C=Number.parseInt(K,16);(Number.isNaN(C)||C<0)&&V("hex invalid 2"),nt[Ge]=C}return nt},B=Ze=>BigInt("0x"+(Oe(Ze)||"0")),l=(Ze,Pt,nt)=>B(Ze.slice(Pt,nt)),f=Ze=>P(Ze)&&Ze>=0n&&Ze<x?je(Me(Ze,2*U)):V("bigint expected"),w=Ze=>Oe(f(Ze)),_=(...Ze)=>{const Pt=ae(Ze.reduce((Ge,Et)=>Ge+de(Et).length,0));let nt=0;return Ze.forEach(Ge=>{Pt.set(Ge,nt),nt+=Ge.length}),Pt},D=(Ze,Pt=N)=>{(0n===Ze||Pt<=0n)&&V("no inverse n="+Ze+" mod="+Pt);let nt=te(Ze,Pt),Ge=Pt,Et=0n,K=1n,C=1n,b=0n;for(;0n!==nt;){const z=Ge/nt,le=Ge%nt,Ae=Et-C*z,Be=K-b*z;Ge=nt,nt=le,Et=C,K=b,C=Ae,b=Be}return 1n===Ge?te(Et,Pt):V("no inverse")},O=Ze=>{let Pt=1n;for(let nt=Ze,Ge=(N+1n)/4n;Ge>0n;Ge>>=1n)1n&Ge&&(Pt=Pt*nt%N),nt=nt*nt%N;return te(Pt*Pt)===Ze?Pt:V("sqrt invalid")},$=Ze=>(P(Ze)||(Ze=B(re(Ze,U))),Q(Ze)?Ze:V("private key out of range")),T=Ze=>Ze>Y>>1n;function c(Ze,Pt=!0){return he.fromPrivateKey(Ze).toRawBytes(Pt)}class E{constructor(Pt,nt,Ge){this.r=Pt,this.s=nt,this.recovery=Ge,this.assertValidity()}static fromCompact(Pt){return Pt=re(Pt,64),new E(l(Pt,0,U),l(Pt,U,2*U))}assertValidity(){return Q(this.r)&&Q(this.s)?this:V()}addRecoveryBit(Pt){return new E(this.r,this.s,Pt)}hasHighS(){return T(this.s)}recoverPublicKey(Pt){const{r:nt,s:Ge,recovery:Et}=this;[0,1,2,3].includes(Et)||V("recovery id invalid");const K=X(re(Pt,32)),C=2===Et||3===Et?nt+Y:nt;C>=N&&V("q.x invalid");const z=he.fromHex((1&Et?"03":"02")+w(C)),le=D(C,Y),Ae=te(-K*le,Y),Be=te(Ge*le,Y);return ve.mulAddQUns(z,Ae,Be)}toCompactRawBytes(){return je(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const q=Ze=>{const Pt=8*Ze.length-256,nt=B(Ze);return Pt>0?nt>>BigInt(Pt):nt},X=Ze=>te(q(Ze),Y),ce=Ze=>f(Ze),me=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;let Te;const Ke={lowS:!0},Qe={lowS:!0};function Xe(Ze,Pt){return Se.apply(this,arguments)}function Se(){return(Se=(0,h.A)(function*(Ze,Pt,nt=Ke){const{seed:Ge,k2sig:Et}=function ke(Ze,Pt,nt=Ke){["der","recovered","canonical"].some(Be=>Be in nt)&&V("sign() legacy options not supported");let{lowS:Ge}=nt;null==Ge&&(Ge=!0);const Et=X(re(Ze)),K=ce(Et),C=$(Pt),b=[ce(C),K];let z=nt.extraEntropy;if(z){!0===z&&(z=fe.randomBytes(U));const Be=re(z);Be.length!==U&&V(),b.push(Be)}const le=Et;return{seed:_(...b),k2sig:Be=>{const ft=q(Be);if(!Q(ft))return;const Yt=D(ft,Y),Rt=ve.mul(ft).aff(),Vt=te(Rt.x,Y);if(0n===Vt)return;const dn=te(Yt*te(le+te(C*Vt,Y),Y),Y);if(0n===dn)return;let Mn=dn,En=(Rt.x===Vt?0:2)|Number(1n&Rt.y);return Ge&&T(dn)&&(Mn=te(-dn,Y),En^=1),new E(Vt,Mn,En)}}}(Ze,Pt,nt);return function Ie(Ze){let Pt=ae(U),nt=ae(U),Ge=0;const Et=()=>{Pt.fill(1),nt.fill(0),Ge=0},K="drbg: tried 1000 values";if(Ze){const C=(...le)=>fe.hmacSha256Async(nt,Pt,...le),b=function(){var le=(0,h.A)(function*(Ae=ae()){nt=yield C(ae([0]),Ae),Pt=yield C(),0!==Ae.length&&(nt=yield C(ae([1]),Ae),Pt=yield C())});return function(){return le.apply(this,arguments)}}(),z=function(){var le=(0,h.A)(function*(){return Ge++>=1e3&&V(K),Pt=yield C(),Pt});return function(){return le.apply(this,arguments)}}();return function(){var le=(0,h.A)(function*(Ae,Be){let ft;for(Et(),yield b(Ae);!(ft=Be(yield z()));)yield b();return Et(),ft});return function(Ae,Be){return le.apply(this,arguments)}}()}{const C=(...le)=>{const Ae=Te;return Ae||V("etc.hmacSha256Sync not set"),Ae(nt,Pt,...le)},b=(le=ae())=>{nt=C(ae([0]),le),Pt=C(),0!==le.length&&(nt=C(ae([1]),le),Pt=C())},z=()=>(Ge++>=1e3&&V(K),Pt=C(),Pt);return(le,Ae)=>{let Be;for(Et(),b(le);!(Be=Ae(z()));)b();return Et(),Be}}}(!0)(Ge,Et)})).apply(this,arguments)}function Ee(Ze,Pt,nt,Ge=Qe){let K,C,b,{lowS:Et}=Ge;null==Et&&(Et=!0),"strict"in Ge&&V("verify() legacy options not supported");const z=Ze&&"object"==typeof Ze&&"r"in Ze;!z&&re(Ze).length!==2*U&&V("signature must be 64 bytes");try{K=z?new E(Ze.r,Ze.s).assertValidity():E.fromCompact(Ze),C=X(re(Pt,U)),b=nt instanceof he?nt.ok():he.fromHex(nt)}catch{return!1}if(!K)return!1;const{r:le,s:Ae}=K;if(Et&&T(Ae))return!1;let Be;try{const Yt=D(Ae,Y),Rt=te(C*Yt,Y),Vt=te(le*Yt,Y);Be=ve.mulAddQUns(b,Rt,Vt).aff()}catch{return!1}return!!Be&&te(Be.x,Y)===le}function oe(Ze){((Ze=re(Ze)).length<U+8||Ze.length>1024)&&V("expected proper params");const nt=te(B(Ze),Y-1n)+1n;return f(nt)}const fe={hexToBytes:je,bytesToHex:Oe,concatBytes:_,bytesToNumberBE:B,numberToBytesBE:f,mod:te,invert:D,hmacSha256Async:(Ze=(0,h.A)(function*(Pt,...nt){const Ge=me();if(!Ge)return V("etc.hmacSha256Async not set");const Et=Ge.subtle,K=yield Et.importKey("raw",Pt,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return ae(yield Et.sign("HMAC",K,_(...nt)))}),function(nt){return Ze.apply(this,arguments)}),hmacSha256Sync:Te,hashToPrivateKey:oe,randomBytes:Ze=>{const Pt=me();return Pt||V("crypto.getRandomValues must be defined"),Pt.getRandomValues(ae(Ze))}},we={normPrivateKeyToScalar:$,isValidPrivateKey:Ze=>{try{return!!$(Ze)}catch{return!1}},randomPrivateKey:()=>oe(fe.randomBytes(U+8)),precompute:(Ze=8,Pt=ve)=>(Pt.multiply(3n),Pt)};var Ze;Object.defineProperties(fe,{hmacSha256Sync:{configurable:!1,get:()=>Te,set(Ze){Te||(Te=Ze)}}});const Je=Ze=>{const Pt=pe||(pe=(()=>{const Ze=[];let nt=ve,Ge=nt;for(let Et=0;Et<33;Et++){Ge=nt,Ze.push(Ge);for(let K=1;K<128;K++)Ge=Ge.add(nt),Ze.push(Ge);nt=Ge.double()}return Ze})()),nt=(Ae,Be)=>{let ft=Be.negate();return Ae?ft:Be};let Ge=ge,Et=ve;const b=BigInt(255),le=BigInt(8);for(let Ae=0;Ae<33;Ae++){const Be=128*Ae;let ft=Number(Ze&b);Ze>>=le,ft>128&&(ft-=256,Ze+=1n);const Yt=Be,Rt=Be+Math.abs(ft)-1,dn=ft<0;0===ft?Et=Et.add(nt(Ae%2!=0,Pt[Yt])):Ge=Ge.add(nt(dn,Pt[Rt]))}return{p:Ge,f:Et}}},53813:(Ye,J,A)=>{"use strict";function x(Se){return Se instanceof Uint8Array||null!=Se&&"object"==typeof Se&&"Uint8Array"===Se.constructor.name}function U(Se,Le,Ee){if(Le<2)throw new Error(`convertRadix: wrong from=${Le}, base cannot be less than 2`);if(Ee<2)throw new Error(`convertRadix: wrong to=${Ee}, base cannot be less than 2`);if(!Array.isArray(Se))throw new Error("convertRadix: data should be array");if(!Se.length)return[];let be=0;const oe=[],fe=Array.from(Se);for(fe.forEach(we=>{if(we<0||we>=Le)throw new Error(`Wrong integer: ${we}`)});;){let we=0,De=!0;for(let $e=be;$e<fe.length;$e++){const Je=fe[$e],Ze=Le*we+Je;if(!Number.isSafeInteger(Ze)||Le*we/Le!==we||Ze-Je!=Le*we)throw new Error("convertRadix: carry overflow");we=Ze%Ee;const Pt=Math.floor(Ze/Ee);if(fe[$e]=Pt,!Number.isSafeInteger(Pt)||Pt*Ee+we!==Ze)throw new Error("convertRadix: carry overflow");De&&(Pt?De=!1:be=$e)}if(oe.push(we),De)break}for(let we=0;we<Se.length-1&&0===Se[we];we++)oe.push(0);return oe.reverse()}A.d(J,{Wp:()=>ae});const H=(Se,Le)=>Le?H(Le,Se%Le):Se,V=(Se,Le)=>Se+(Le-H(Se,Le));function P(Se,Le,Ee,be){if(!Array.isArray(Se))throw new Error("convertRadix2: data should be array");if(Le<=0||Le>32)throw new Error(`convertRadix2: wrong from=${Le}`);if(Ee<=0||Ee>32)throw new Error(`convertRadix2: wrong to=${Ee}`);if(V(Le,Ee)>32)throw new Error(`convertRadix2: carry overflow from=${Le} to=${Ee} carryBits=${V(Le,Ee)}`);let oe=0,fe=0;const we=2**Ee-1,De=[];for(const $e of Se){if($e>=2**Le)throw new Error(`convertRadix2: invalid data word=${$e} from=${Le}`);if(oe=oe<<Le|$e,fe+Le>32)throw new Error(`convertRadix2: carry overflow pos=${fe} from=${Le}`);for(fe+=Le;fe>=Ee;fe-=Ee)De.push((oe>>fe-Ee&we)>>>0);oe&=2**fe-1}if(oe=oe<<Ee-fe&we,!be&&fe>=Le)throw new Error("Excess padding");if(!be&&oe)throw new Error(`Non-zero padding: ${oe}`);return be&&fe>0&&De.push(oe>>>0),De}const ae={alphabet:function Y(Se){return{encode:Le=>{if(!Array.isArray(Le)||Le.length&&"number"!=typeof Le[0])throw new Error("alphabet.encode input should be an array of numbers");return Le.map(Ee=>{if(Ee<0||Ee>=Se.length)throw new Error(`Digit index outside alphabet: ${Ee} (alphabet: ${Se.length})`);return Se[Ee]})},decode:Le=>{if(!Array.isArray(Le)||Le.length&&"string"!=typeof Le[0])throw new Error("alphabet.decode input should be array of strings");return Le.map(Ee=>{if("string"!=typeof Ee)throw new Error(`alphabet.decode: not string element=${Ee}`);const be=Se.indexOf(Ee);if(-1===be)throw new Error(`Unknown letter: "${Ee}". Allowed: ${Se}`);return be})}}},chain:function N(...Se){const Le=fe=>fe,Ee=(fe,we)=>De=>fe(we(De));return{encode:Se.map(fe=>fe.encode).reduceRight(Ee,Le),decode:Se.map(fe=>fe.decode).reduce(Ee,Le)}},checksum:function de(Se,Le){if("function"!=typeof Le)throw new Error("checksum fn should be function");return{encode(Ee){if(!x(Ee))throw new Error("checksum.encode: input should be Uint8Array");const be=Le(Ee).slice(0,Se),oe=new Uint8Array(Ee.length+Se);return oe.set(Ee),oe.set(be,Ee.length),oe},decode(Ee){if(!x(Ee))throw new Error("checksum.decode: input should be Uint8Array");const be=Ee.slice(0,-Se),oe=Le(be).slice(0,Se),fe=Ee.slice(-Se);for(let we=0;we<Se;we++)if(oe[we]!==fe[we])throw new Error("Invalid checksum");return be}}},convertRadix:U,convertRadix2:P,radix:function ee(Se){return{encode:Le=>{if(!x(Le))throw new Error("radix.encode input should be Uint8Array");return U(Array.from(Le),256,Se)},decode:Le=>{if(!Array.isArray(Le)||Le.length&&"number"!=typeof Le[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(U(Le,Se,256))}}},radix2:function W(Se,Le=!1){if(Se<=0||Se>32)throw new Error("radix2: bits should be in (0..32]");if(V(8,Se)>32||V(Se,8)>32)throw new Error("radix2: carry overflow");return{encode:Ee=>{if(!x(Ee))throw new Error("radix2.encode input should be Uint8Array");return P(Array.from(Ee),8,Se,!Le)},decode:Ee=>{if(!Array.isArray(Ee)||Ee.length&&"number"!=typeof Ee[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(P(Ee,Se,8,Le))}}},join:function M(Se=""){if("string"!=typeof Se)throw new Error("join separator should be string");return{encode:Le=>{if(!Array.isArray(Le)||Le.length&&"string"!=typeof Le[0])throw new Error("join.encode input should be array of strings");for(let Ee of Le)if("string"!=typeof Ee)throw new Error(`join.encode: non-string input=${Ee}`);return Le.join(Se)},decode:Le=>{if("string"!=typeof Le)throw new Error("join.decode input should be string");return Le.split(Se)}}},padding:function j(Se,Le="="){if("string"!=typeof Le)throw new Error("padding chr should be string");return{encode(Ee){if(!Array.isArray(Ee)||Ee.length&&"string"!=typeof Ee[0])throw new Error("padding.encode input should be array of strings");for(let be of Ee)if("string"!=typeof be)throw new Error(`padding.encode: non-string input=${be}`);for(;Ee.length*Se%8;)Ee.push(Le);return Ee},decode(Ee){if(!Array.isArray(Ee)||Ee.length&&"string"!=typeof Ee[0])throw new Error("padding.encode input should be array of strings");for(let oe of Ee)if("string"!=typeof oe)throw new Error(`padding.decode: non-string input=${oe}`);let be=Ee.length;if(be*Se%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;be>0&&Ee[be-1]===Le;be--)if(!((be-1)*Se%8))throw new Error("Invalid padding: string has too much padding");return Ee.slice(0,be)}}}}},62590:(Ye,J,A)=>{"use strict";A.d(J,{DP:()=>tA,Bq:()=>zF,rr:()=>JF,yc:()=>CU,rM:()=>FU,B2:()=>p4,U0:()=>xu,QZ:()=>$F,dk:()=>SU,nx:()=>Hc,cW:()=>vU,Vu:()=>RI,TX:()=>EU,eP:()=>P2,qB:()=>A4,oN:()=>kU,X7:()=>XF,dK:()=>WF,pO:()=>YF});var h={};A.r(h),A.d(h,{DO:()=>Vr,OG:()=>qi,My:()=>ni,Ph:()=>Dr,lX:()=>Hr,Id:()=>ls,fg:()=>co,qj:()=>Mi,aT:()=>tr,aY:()=>Wr,lq:()=>Ur,z:()=>li,Q5:()=>Fa});var x={};A.r(x),A.d(x,{base10:()=>zd});var N={};A.r(N),A.d(N,{base16:()=>$f,base16upper:()=>Jh});var Y={};A.r(Y),A.d(Y,{base2:()=>Dc});var M={};A.r(M),A.d(M,{base256emoji:()=>ma});var j={};A.r(j),A.d(j,{base32:()=>il,base32hex:()=>xd,base32hexpad:()=>go,base32hexpadupper:()=>_s,base32hexupper:()=>Di,base32pad:()=>Ed,base32padupper:()=>Ka,base32upper:()=>Bl,base32z:()=>Kf});var R={};A.r(R),A.d(R,{base36:()=>jc,base36upper:()=>$u});var U={};A.r(U),A.d(U,{base58btc:()=>Nl,base58flickr:()=>Rp});var H={};A.r(H),A.d(H,{base64:()=>Sd,base64pad:()=>Ky,base64url:()=>Op,base64urlpad:()=>gm});var V={};A.r(V),A.d(V,{base8:()=>Vf});var P={};A.r(P),A.d(P,{identity:()=>Va});var ee={};A.r(ee),A.d(ee,{code:()=>Ls,decode:()=>pf,encode:()=>hf,name:()=>zf});var W={};A.r(W),A.d(W,{code:()=>_o,decode:()=>Is,encode:()=>mu,name:()=>Zi});var Q={};A.r(Q),A.d(Q,{identity:()=>Zl});var de={};A.r(de),A.d(de,{sha256:()=>sl,sha512:()=>Wd});var ae={};A.r(ae),A.d(ae,{Authorization:()=>xo,AuthorizationDelegatedGrant:()=>Iv,AuthorizationOwner:()=>Dv,Definitions:()=>L2,GeneralJwk:()=>aA,GeneralJws:()=>cA,GenericSignaturePayload:()=>$1,JwkVerificationMethod:()=>lA,MessagesFilter:()=>L1,MessagesQuery:()=>di,MessagesRead:()=>Xf,MessagesSubscribe:()=>Sm,NumberRangeFilter:()=>gh,PaginationCursor:()=>Wy,PermissionGrantData:()=>Am,PermissionRequestData:()=>Cm,PermissionRevocationData:()=>ra,PermissionsDefinitions:()=>Pv,PermissionsScopes:()=>uA,ProtocolDefinition:()=>Zy,ProtocolRuleSet:()=>xr,ProtocolsConfigure:()=>VI,ProtocolsQuery:()=>j2,PublicJwk:()=>j1,RecordsDelete:()=>Rv,RecordsFilter:()=>pA,RecordsQuery:()=>O1,RecordsRead:()=>zI,RecordsSubscribe:()=>xm,RecordsWrite:()=>zy,RecordsWriteDataEncoded:()=>sA,RecordsWriteSignaturePayload:()=>yA,RecordsWriteUnidentified:()=>xl,StringRangeFilter:()=>gA});var re={};A.r(re),A.d(re,{code:()=>Gm,decode:()=>dg,encode:()=>Xm,name:()=>bu});var te={};A.r(te),A.d(te,{code:()=>Qm,createLink:()=>Td,createNode:()=>qd,decode:()=>jE,encode:()=>j0,name:()=>lb,prepare:()=>xs,validate:()=>xc});var ue={};A.r(ue),A.d(ue,{code:()=>vg,decode:()=>$4,encode:()=>p3,name:()=>WE});var pe={};A.r(pe),A.d(pe,{base10:()=>IT});var he={};A.r(he),A.d(he,{base16:()=>Z4,base16upper:()=>Y4});var ve={};A.r(ve),A.d(ve,{base2:()=>J4});var ge={};A.r(ge),A.d(ge,{base256emoji:()=>hb});var Me={};A.r(Me),A.d(Me,{base32:()=>pb,base32hex:()=>Eg,base32hexpad:()=>Vw,base32hexpadupper:()=>PT,base32hexupper:()=>A3,base32pad:()=>q4,base32padupper:()=>JE,base32upper:()=>OT,base32z:()=>C3});var Oe={};A.r(Oe),A.d(Oe,{base36:()=>M3,base36upper:()=>I3});var je={};A.r(je),A.d(je,{base58btc:()=>zp,base58flickr:()=>T3});var B={};A.r(B),A.d(B,{base64:()=>Q4,base64pad:()=>e5,base64url:()=>t5,base64urlpad:()=>kT});var l={};A.r(l),A.d(l,{base8:()=>n5});var f={};A.r(f),A.d(f,{identity:()=>r5});var w={};A.r(w),A.d(w,{code:()=>NT,decode:()=>a5,encode:()=>s5,name:()=>BT});var _={};A.r(_),A.d(_,{code:()=>c5,decode:()=>Pk,encode:()=>l5,name:()=>Af});var D={};A.r(D),A.d(D,{identity:()=>$T});var O={};A.r(O),A.d(O,{sha256:()=>Gw,sha512:()=>KT});var $={};A.r($),A.d($,{OG:()=>jM,My:()=>iv,Ph:()=>n1,lX:()=>ov,Id:()=>r1,fg:()=>$6,qj:()=>pl,aT:()=>e2,aY:()=>bp,lq:()=>cm,z:()=>t2,Q5:()=>sv});var T=A(49970),c=A(14725);const E=new TextEncoder,q=new TextDecoder;class X{static base64UrlToBytes(t){return c.r0.baseDecode(t)}static base64UrlToObject(t){const n=c.r0.baseDecode(t);return X.bytesToObject(n)}static bytesToBase64Url(t){return c.r0.baseEncode(t)}static bytesToString(t){return q.decode(t)}static bytesToObject(t){const n=X.bytesToString(t);return JSON.parse(n)}static objectToBytes(t){const n=JSON.stringify(t);return E.encode(n)}static stringToBase64Url(t){const n=E.encode(t);return c.r0.baseEncode(n)}static stringToBytes(t){return E.encode(t)}}var ce=A(63741);class me extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DwnError"}}var Te=function(r){return r.AuthenticateJwsMissing="AuthenticateJwsMissing",r.AuthenticateDescriptorCidMismatch="AuthenticateDescriptorCidMismatch",r.AuthenticationMoreThanOneSignatureNotSupported="AuthenticationMoreThanOneSignatureNotSupported",r.AuthorizationAuthorNotOwner="AuthorizationAuthorNotOwner",r.AuthorizationNotGrantedToAuthor="AuthorizationNotGrantedToAuthor",r.ComputeCidCodecNotSupported="ComputeCidCodecNotSupported",r.ComputeCidMultihashNotSupported="ComputeCidMultihashNotSupported",r.Ed25519InvalidJwk="Ed25519InvalidJwk",r.EventEmitterStreamNotOpenError="EventEmitterStreamNotOpenError",r.MessagesGrantAuthorizationMismatchedProtocol="EventsGrantAuthorizationMismatchedProtocol",r.MessagesSubscribeAuthorizationFailed="MessagesSubscribeAuthorizationFailed",r.MessagesSubscribeEventStreamUnimplemented="MessagesSubscribeEventStreamUnimplemented",r.GeneralJwsVerifierGetPublicKeyNotFound="GeneralJwsVerifierGetPublicKeyNotFound",r.GeneralJwsVerifierInvalidSignature="GeneralJwsVerifierInvalidSignature",r.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",r.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",r.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",r.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",r.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",r.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",r.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",r.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",r.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",r.JwsVerifySignatureUnsupportedCrv="JwsVerifySignatureUnsupportedCrv",r.IndexInvalidCursorValueType="IndexInvalidCursorValueType",r.IndexInvalidCursorSortProperty="IndexInvalidCursorSortProperty",r.IndexInvalidSortPropertyInMemory="IndexInvalidSortPropertyInMemory",r.IndexMissingIndexableProperty="IndexMissingIndexableProperty",r.JwsDecodePlainObjectPayloadInvalid="JwsDecodePlainObjectPayloadInvalid",r.MessagesReadInvalidCid="MessagesReadInvalidCid",r.MessagesReadAuthorizationFailed="MessagesReadAuthorizationFailed",r.MessageGetInvalidCid="MessageGetInvalidCid",r.MessagesQueryAuthorizationFailed="MessagesQueryAuthorizationFailed",r.MessagesReadVerifyScopeFailed="MessagesReadVerifyScopeFailed",r.ParseCidCodecNotSupported="ParseCidCodecNotSupported",r.ParseCidMultihashNotSupported="ParseCidMultihashNotSupported",r.PermissionsProtocolCreateGrantRecordsScopeMissingProtocol="PermissionsProtocolCreateGrantRecordsScopeMissingProtocol",r.PermissionsProtocolCreateRequestRecordsScopeMissingProtocol="PermissionsProtocolCreateRequestRecordsScopeMissingProtocol",r.PermissionsProtocolGetScopeInvalidProtocol="PermissionsProtocolGetScopeInvalidProtocol",r.PermissionsProtocolValidateSchemaUnexpectedRecord="PermissionsProtocolValidateSchemaUnexpectedRecord",r.PermissionsProtocolValidateScopeContextIdProhibitedProperties="PermissionsProtocolValidateScopeContextIdProhibitedProperties",r.PermissionsProtocolValidateScopeProtocolMismatch="PermissionsProtocolValidateScopeProtocolMismatch",r.PermissionsProtocolValidateScopeMissingProtocolTag="PermissionsProtocolValidateScopeMissingProtocolTag",r.PermissionsProtocolValidateRevocationProtocolTagMismatch="PermissionsProtocolValidateRevocationProtocolTagMismatch",r.PrivateKeySignerUnableToDeduceAlgorithm="PrivateKeySignerUnableToDeduceAlgorithm",r.PrivateKeySignerUnableToDeduceKeyId="PrivateKeySignerUnableToDeduceKeyId",r.PrivateKeySignerUnsupportedCurve="PrivateKeySignerUnsupportedCurve",r.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",r.ProtocolAuthorizationActionRulesNotFound="ProtocolAuthorizationActionRulesNotFound",r.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",r.ProtocolAuthorizationIncorrectContextId="ProtocolAuthorizationIncorrectContextId",r.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",r.ProtocolAuthorizationDuplicateRoleRecipient="ProtocolAuthorizationDuplicateRoleRecipient",r.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",r.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",r.ProtocolAuthorizationMatchingRoleRecordNotFound="ProtocolAuthorizationMatchingRoleRecordNotFound",r.ProtocolAuthorizationMaxSizeInvalid="ProtocolAuthorizationMaxSizeInvalid",r.ProtocolAuthorizationMinSizeInvalid="ProtocolAuthorizationMinSizeInvalid",r.ProtocolAuthorizationMissingContextId="ProtocolAuthorizationMissingContextId",r.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",r.ProtocolAuthorizationParentlessIncorrectProtocolPath="ProtocolAuthorizationParentlessIncorrectProtocolPath",r.ProtocolAuthorizationNotARole="ProtocolAuthorizationNotARole",r.ProtocolAuthorizationParentNotFoundConstructingRecordChain="ProtocolAuthorizationParentNotFoundConstructingRecordChain",r.ProtocolAuthorizationProtocolNotFound="ProtocolAuthorizationProtocolNotFound",r.ProtocolAuthorizationRoleMissingRecipient="ProtocolAuthorizationRoleMissingRecipient",r.ProtocolAuthorizationTagsInvalidSchema="ProtocolAuthorizationTagsInvalidSchema",r.ProtocolsConfigureDuplicateActorInRuleSet="ProtocolsConfigureDuplicateActorInRuleSet",r.ProtocolsConfigureDuplicateRoleInRuleSet="ProtocolsConfigureDuplicateRoleInRuleSet",r.ProtocolsConfigureInvalidSize="ProtocolsConfigureInvalidSize",r.ProtocolsConfigureInvalidActionMissingOf="ProtocolsConfigureInvalidActionMissingOf",r.ProtocolsConfigureInvalidActionOfNotAllowed="ProtocolsConfigureInvalidActionOfNotAllowed",r.ProtocolsConfigureInvalidActionDeleteWithoutCreate="ProtocolsConfigureInvalidActionDeleteWithoutCreate",r.ProtocolsConfigureInvalidActionUpdateWithoutCreate="ProtocolsConfigureInvalidActionUpdateWithoutCreate",r.ProtocolsConfigureInvalidRecipientOfAction="ProtocolsConfigureInvalidRecipientOfAction",r.ProtocolsConfigureInvalidRuleSetRecordType="ProtocolsConfigureInvalidRuleSetRecordType",r.ProtocolsConfigureInvalidTagSchema="ProtocolsConfigureInvalidTagSchema",r.ProtocolsConfigureRecordNestingDepthExceeded="ProtocolsConfigureRecordNestingDepthExceeded",r.ProtocolsConfigureRoleDoesNotExistAtGivenPath="ProtocolsConfigureRoleDoesNotExistAtGivenPath",r.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",r.RecordsAuthorDelegatedGrantAndIdExistenceMismatch="RecordsAuthorDelegatedGrantAndIdExistenceMismatch",r.RecordsAuthorDelegatedGrantCidMismatch="RecordsAuthorDelegatedGrantCidMismatch",r.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsAuthorDelegatedGrantNotADelegatedGrant="RecordsAuthorDelegatedGrantNotADelegatedGrant",r.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",r.RecordsDeleteAuthorizationFailed="RecordsDeleteAuthorizationFailed",r.RecordsQueryCreateFilterPublishedSortInvalid="RecordsQueryCreateFilterPublishedSortInvalid",r.RecordsQueryParseFilterPublishedSortInvalid="RecordsQueryParseFilterPublishedSortInvalid",r.RecordsGrantAuthorizationConditionPublicationProhibited="RecordsGrantAuthorizationConditionPublicationProhibited",r.RecordsGrantAuthorizationConditionPublicationRequired="RecordsGrantAuthorizationConditionPublicationRequired",r.RecordsGrantAuthorizationDeleteProtocolScopeMismatch="RecordsGrantAuthorizationDeleteProtocolScopeMismatch",r.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch="RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch",r.RecordsGrantAuthorizationScopeContextIdMismatch="RecordsGrantAuthorizationScopeContextIdMismatch",r.RecordsGrantAuthorizationScopeProtocolMismatch="RecordsGrantAuthorizationScopeProtocolMismatch",r.RecordsGrantAuthorizationScopeProtocolPathMismatch="RecordsGrantAuthorizationScopeProtocolPathMismatch",r.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",r.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",r.RecordsOwnerDelegatedGrantAndIdExistenceMismatch="RecordsOwnerDelegatedGrantAndIdExistenceMismatch",r.RecordsOwnerDelegatedGrantCidMismatch="RecordsOwnerDelegatedGrantCidMismatch",r.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsOwnerDelegatedGrantNotADelegatedGrant="RecordsOwnerDelegatedGrantNotADelegatedGrant",r.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",r.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",r.RecordsQueryFilterMissingRequiredProperties="RecordsQueryFilterMissingRequiredProperties",r.RecordsReadReturnedMultiple="RecordsReadReturnedMultiple",r.RecordsReadAuthorizationFailed="RecordsReadAuthorizationFailed",r.RecordsSubscribeEventStreamUnimplemented="RecordsSubscribeEventStreamUnimplemented",r.RecordsSubscribeFilterMissingRequiredProperties="RecordsSubscribeFilterMissingRequiredProperties",r.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",r.RecordsWriteAttestationIntegrityMoreThanOneSignature="RecordsWriteAttestationIntegrityMoreThanOneSignature",r.RecordsWriteAttestationIntegrityDescriptorCidMismatch="RecordsWriteAttestationIntegrityDescriptorCidMismatch",r.RecordsWriteAttestationIntegrityInvalidPayloadProperty="RecordsWriteAttestationIntegrityInvalidPayloadProperty",r.RecordsWriteAuthorizationFailed="RecordsWriteAuthorizationFailed",r.RecordsWriteCreateMissingSigner="RecordsWriteCreateMissingSigner",r.RecordsWriteCreateDataAndDataCidMutuallyExclusive="RecordsWriteCreateDataAndDataCidMutuallyExclusive",r.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive="RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive",r.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive="RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive",r.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",r.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",r.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",r.RecordsWriteGetNewestWriteRecordNotFound="RecordsWriteGetNewestWriteRecordNotFound",r.RecordsWriteGetInitialWriteNotFound="RecordsWriteGetInitialWriteNotFound",r.RecordsWriteImmutablePropertyChanged="RecordsWriteImmutablePropertyChanged",r.RecordsWriteMissingSigner="RecordsWriteMissingSigner",r.RecordsWriteMissingDataInPrevious="RecordsWriteMissingDataInPrevious",r.RecordsWriteMissingEncodedDataInPrevious="RecordsWriteMissingEncodedDataInPrevious",r.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",r.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",r.RecordsWriteMissingSchema="RecordsWriteMissingSchema",r.RecordsWriteOwnerAndTenantMismatch="RecordsWriteOwnerAndTenantMismatch",r.RecordsWriteSignAsOwnerDelegateUnknownAuthor="RecordsWriteSignAsOwnerDelegateUnknownAuthor",r.RecordsWriteSignAsOwnerUnknownAuthor="RecordsWriteSignAsOwnerUnknownAuthor",r.RecordsWriteValidateIntegrityAttestationMismatch="RecordsWriteValidateIntegrityAttestationMismatch",r.RecordsWriteValidateIntegrityContextIdMismatch="RecordsWriteValidateIntegrityContextIdMismatch",r.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload="RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload",r.RecordsWriteValidateIntegrityDateCreatedMismatch="RecordsWriteValidateIntegrityDateCreatedMismatch",r.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",r.RecordsWriteValidateIntegrityRecordIdUnauthorized="RecordsWriteValidateIntegrityRecordIdUnauthorized",r.SchemaValidatorAdditionalPropertyNotAllowed="SchemaValidatorAdditionalPropertyNotAllowed",r.SchemaValidatorFailure="SchemaValidatorFailure",r.SchemaValidatorSchemaNotFound="SchemaValidatorSchemaNotFound",r.SchemaValidatorUnevaluatedPropertyNotAllowed="SchemaValidatorUnevaluatedPropertyNotAllowed",r.Secp256k1KeyNotValid="Secp256k1KeyNotValid",r.Secp256r1KeyNotValid="Secp256r1KeyNotValid",r.TimestampInvalid="TimestampInvalid",r.UrlProtocolNotNormalized="UrlProtocolNotNormalized",r.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",r.UrlSchemaNotNormalized="UrlSchemaNotNormalized",r}(Te||{}),Ke=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};function Qe(r){if("OKP"!==r.kty||"Ed25519"!==r.crv)throw new me(Te.Ed25519InvalidJwk,"invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function ke(r){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:X.bytesToBase64Url(r)}}const Ie={sign:(r,t)=>Ke(void 0,void 0,void 0,function*(){Qe(t);const n=X.base64UrlToBytes(t.d);return ce.wJ(r,n)}),verify:(r,t,n)=>Ke(void 0,void 0,void 0,function*(){Qe(n);const i=X.base64UrlToBytes(n.x);return ce.kv(t,r,i)}),generateKeyPair:()=>Ke(void 0,void 0,void 0,function*(){const r=ce.Wp.randomPrivateKey(),t=yield ce.Rn(r),n=X.bytesToBase64Url(r),i=ke(t);return{publicJwk:i,privateJwk:Object.assign(Object.assign({},i),{d:n})}}),publicKeyToJwk:r=>Ke(void 0,void 0,void 0,function*(){return ke(r)})};var Xe=A(68464),Se=A(10467),Le=A(92059);const Ee=r=>function(){var t=(0,Se.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),be=(0,Le.H)({name:"sha2-256",code:18,encode:Ee("SHA-256")});(0,Le.H)({name:"sha2-512",code:19,encode:Ee("SHA-512")});var fe=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class De{static validateKey(t){if("EC"!==t.kty||"secp256k1"!==t.crv)throw new me(Te.Secp256k1KeyNotValid,"Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static publicKeyToJwk(t){return fe(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?Xe.CB.fromHex(t).toRawBytes(!1):t,{alg:"ES256K",kty:"EC",crv:"secp256k1",x:X.bytesToBase64Url(n.subarray(1,33)),y:X.bytesToBase64Url(n.subarray(33,65))}})}static privateKeyToJwk(t){return fe(this,void 0,void 0,function*(){const n=yield De.getPublicKey(t),i=yield De.publicKeyToJwk(n);return i.d=X.bytesToBase64Url(t),i})}static publicJwkToBytes(t){const n=X.base64UrlToBytes(t.x),i=X.base64UrlToBytes(t.y);return Xe.CB.fromAffine({x:Xe.jn.bytesToNumberBE(n),y:Xe.jn.bytesToNumberBE(i)}).toRawBytes(!0)}static privateJwkToBytes(t){return X.base64UrlToBytes(t.d)}static sign(t,n){return fe(this,void 0,void 0,function*(){De.validateKey(n);const i=yield be.encode(t),u=De.privateJwkToBytes(n);return(yield Xe.wJ(i,u)).toCompactRawBytes()})}static verify(t,n,i){return fe(this,void 0,void 0,function*(){De.validateKey(i);const u=De.publicJwkToBytes(i),y=yield be.encode(t);return Xe.MX(n,y,u)})}static generateKeyPair(){return fe(this,void 0,void 0,function*(){const t=Xe.Wp.randomPrivateKey(),n=Xe.lG(t,!1),i=X.bytesToBase64Url(t),u=yield De.publicKeyToJwk(n);return{publicJwk:u,privateJwk:Object.assign(Object.assign({},u),{d:i})}})}static generateKeyPairRaw(){return fe(this,void 0,void 0,function*(){const t=Xe.Wp.randomPrivateKey();return{publicKey:Xe.lG(t,!0),privateKey:t}})}static getPublicKey(t){return fe(this,void 0,void 0,function*(){return Xe.lG(t,!0)})}static getPublicJwk(t){return fe(this,void 0,void 0,function*(){return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"])})}}function $e(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}function Pt(r,...t){if(!function Ze(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function Ge(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}const b="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Be=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),ft=(r,t)=>r<<32-t|r>>>t;function An(r){return"string"==typeof r&&(r=function hn(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}(r)),Pt(r),r}new Uint8Array(new Uint32Array([287454020]).buffer);class Tt{clone(){return this._cloneInto()}}function st(r){const t=i=>r().update(An(i)).digest(),n=r();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>r(),t}function Zt(r=32){if(b&&"function"==typeof b.getRandomValues)return b.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}const cr=(r,t,n)=>r&t^~r&n,kn=(r,t,n)=>r&t^r&n^t&n;class zn extends Tt{constructor(t,n,i,u){super(),this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=u,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Be(this.buffer)}update(t){Ge(this);const{view:n,buffer:i,blockLen:u}=this,y=(t=An(t)).length;for(let d=0;d<y;){const m=Math.min(u-this.pos,y-d);if(m!==u)i.set(t.subarray(d,d+m),this.pos),this.pos+=m,d+=m,this.pos===u&&(this.process(n,0),this.pos=0);else{const Z=Be(t);for(;u<=y-d;d+=u)this.process(Z,d)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ge(this),function Et(r,t){Pt(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:u,isLE:y}=this;let{pos:d}=this;n[d++]=128,this.buffer.subarray(d).fill(0),this.padOffset>u-d&&(this.process(i,0),d=0);for(let ie=d;ie<u;ie++)n[ie]=0;(function xn(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const u=BigInt(32),y=BigInt(4294967295),d=Number(n>>u&y),m=Number(n&y),G=i?0:4;r.setUint32(t+(i?4:0),d,i),r.setUint32(t+G,m,i)})(i,u-8,BigInt(8*this.length),y),this.process(i,0);const m=Be(t),Z=this.outputLen;if(Z%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const G=Z/4,k=this.get();if(G>k.length)throw new Error("_sha2: outputLen bigger than state");for(let ie=0;ie<G;ie++)m.setUint32(4*ie,k[ie],y)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:u,finished:y,destroyed:d,pos:m}=this;return t.length=u,t.pos=m,t.finished=y,t.destroyed=d,u%n&&t.buffer.set(i),t}}const qr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qn=new Uint32Array(64);class Jt extends zn{constructor(){super(64,32,8,!1),this.A=0|pr[0],this.B=0|pr[1],this.C=0|pr[2],this.D=0|pr[3],this.E=0|pr[4],this.F=0|pr[5],this.G=0|pr[6],this.H=0|pr[7]}get(){const{A:t,B:n,C:i,D:u,E:y,F:d,G:m,H:Z}=this;return[t,n,i,u,y,d,m,Z]}set(t,n,i,u,y,d,m,Z){this.A=0|t,this.B=0|n,this.C=0|i,this.D=0|u,this.E=0|y,this.F=0|d,this.G=0|m,this.H=0|Z}process(t,n){for(let ie=0;ie<16;ie++,n+=4)qn[ie]=t.getUint32(n,!1);for(let ie=16;ie<64;ie++){const Ue=qn[ie-15],He=qn[ie-2],Ve=ft(Ue,7)^ft(Ue,18)^Ue>>>3,qe=ft(He,17)^ft(He,19)^He>>>10;qn[ie]=qe+qn[ie-7]+Ve+qn[ie-16]|0}let{A:i,B:u,C:y,D:d,E:m,F:Z,G,H:k}=this;for(let ie=0;ie<64;ie++){const He=k+(ft(m,6)^ft(m,11)^ft(m,25))+cr(m,Z,G)+qr[ie]+qn[ie]|0,qe=(ft(i,2)^ft(i,13)^ft(i,22))+kn(i,u,y)|0;k=G,G=Z,Z=m,m=d+He|0,d=y,y=u,u=i,i=He+qe|0}i=i+this.A|0,u=u+this.B|0,y=y+this.C|0,d=d+this.D|0,m=m+this.E|0,Z=Z+this.F|0,G=G+this.G|0,k=k+this.H|0,this.set(i,u,y,d,m,Z,G,k)}roundClean(){qn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ne=st(()=>new Jt);class Bt extends Tt{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,function nt(r){if("function"!=typeof r||"function"!=typeof r.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");$e(r.outputLen),$e(r.blockLen)}(t);const i=An(n);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,y=new Uint8Array(u);y.set(i.length>u?t.create().update(i).digest():i);for(let d=0;d<y.length;d++)y[d]^=54;this.iHash.update(y),this.oHash=t.create();for(let d=0;d<y.length;d++)y[d]^=106;this.oHash.update(y),y.fill(0)}update(t){return Ge(this),this.iHash.update(t),this}digestInto(t){Ge(this),Pt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:u,destroyed:y,blockLen:d,outputLen:m}=this;return t.finished=u,t.destroyed=y,t.blockLen=d,t.outputLen=m,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const gn=(r,t,n)=>new Bt(r,t).update(n).digest();gn.create=(r,t)=>new Bt(r,t);const ir=BigInt(1),hr=BigInt(2);function Wr(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}function Vr(r){if(!Wr(r))throw new Error("Uint8Array expected")}const ti=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function ni(r){Vr(r);let t="";for(let n=0;n<r.length;n++)t+=ti[r[n]];return t}function yn(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);return BigInt(""===r?"0":`0x${r}`)}const Pn={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Nn(r){return r>=Pn._0&&r<=Pn._9?r-Pn._0:r>=Pn._A&&r<=Pn._F?r-(Pn._A-10):r>=Pn._a&&r<=Pn._f?r-(Pn._a-10):void 0}function tr(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);const t=r.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let u=0,y=0;u<n;u++,y+=2){const d=Nn(r.charCodeAt(y)),m=Nn(r.charCodeAt(y+1));if(void 0===d||void 0===m)throw new Error('hex string expected, got non-hex character "'+(r[y]+r[y+1])+'" at index '+y);i[u]=16*d+m}return i}function Dr(r){return yn(ni(r))}function Hr(r){return Vr(r),yn(ni(Uint8Array.from(r).reverse()))}function Ur(r,t){return tr(r.toString(16).padStart(2*t,"0"))}function li(r,t){return Ur(r,t).reverse()}function Mi(r,t,n){let i;if("string"==typeof t)try{i=tr(t)}catch(y){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${y}`)}else{if(!Wr(t))throw new Error(`${r} must be hex string or Uint8Array`);i=Uint8Array.from(t)}const u=i.length;if("number"==typeof n&&u!==n)throw new Error(`${r} expected ${n} bytes, got ${u}`);return i}function ls(...r){let t=0;for(let i=0;i<r.length;i++){const u=r[i];Vr(u),t+=u.length}const n=new Uint8Array(t);for(let i=0,u=0;i<r.length;i++){const y=r[i];n.set(y,u),u+=y.length}return n}const qi=r=>(hr<<BigInt(r-1))-ir,bo=r=>new Uint8Array(r),Fc=r=>Uint8Array.from(r);function co(r,t,n){if("number"!=typeof r||r<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let i=bo(r),u=bo(r),y=0;const d=()=>{i.fill(1),u.fill(0),y=0},m=(...ie)=>n(u,i,...ie),Z=(ie=bo())=>{u=m(Fc([0]),ie),i=m(),0!==ie.length&&(u=m(Fc([1]),ie),i=m())},G=()=>{if(y++>=1e3)throw new Error("drbg: tried 1000 values");let ie=0;const Ue=[];for(;ie<t;){i=m();const He=i.slice();Ue.push(He),ie+=i.length}return ls(...Ue)};return(ie,Ue)=>{let He;for(d(),Z(ie);!(He=Ue(G()));)Z();return d(),He}}const ca={bigint:r=>"bigint"==typeof r,function:r=>"function"==typeof r,boolean:r=>"boolean"==typeof r,string:r=>"string"==typeof r,stringOrUint8Array:r=>"string"==typeof r||Wr(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>"function"==typeof r&&Number.isSafeInteger(r.outputLen)};function Fa(r,t,n={}){const i=(u,y,d)=>{const m=ca[y];if("function"!=typeof m)throw new Error(`Invalid validator "${y}", expected function`);const Z=r[u];if(!(d&&void 0===Z||m(Z,r)))throw new Error(`Invalid param ${String(u)}=${Z} (${typeof Z}), expected ${y}`)};for(const[u,y]of Object.entries(t))i(u,y,!1);for(const[u,y]of Object.entries(n))i(u,y,!0);return r}const ws=BigInt(0),yo=BigInt(1),la=BigInt(2),nc=BigInt(3),Cc=BigInt(4),gd=BigInt(5),Wc=BigInt(8);function bc(r,t){const n=r%t;return n>=ws?n:t+n}function Lf(r,t,n){if(n<=ws||t<ws)throw new Error("Expected power/modulo > 0");if(n===yo)return ws;let i=yo;for(;t>ws;)t&yo&&(i=i*r%n),r=r*r%n,t>>=yo;return i}function jd(r,t){if(r===ws||t<=ws)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let n=bc(r,t),i=t,u=ws,y=yo,d=yo,m=ws;for(;n!==ws;){const G=i/n,k=i%n,ie=u-d*G,Ue=y-m*G;i=n,n=k,u=d,y=m,d=ie,m=Ue}if(i!==yo)throw new Error("invert: does not exist");return bc(u,t)}BigInt(9),BigInt(16);const Ic=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ic(r,t){const n=void 0!==t?t:r.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Yo(r){if("bigint"!=typeof r)throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function ns(r){const t=Yo(r);return t+Math.ceil(t/2)}const df=BigInt(0),qs=BigInt(1);function vd(r){return function fu(r){Fa(r,Ic.reduce((i,u)=>(i[u]="function",i),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(r.Fp),Fa(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ic(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const{Ph:hu,aT:vl}=h,qo={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){const{Err:t}=qo;if(r.length<2||2!==r[0])throw new t("Invalid signature integer tag");const n=r[1],i=r.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:hu(i),l:r.subarray(n+2)}},toSig(r){const{Err:t}=qo,n="string"==typeof r?vl(r):r;Vr(n);let i=n.length;if(i<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:u,l:y}=qo._parseInt(n.subarray(2)),{d,l:m}=qo._parseInt(y);if(m.length)throw new t("Invalid signature: left bytes after parsing");return{r:u,s:d}},hexFromSig(r){const t=G=>8&Number.parseInt(G[0],16)?"00"+G:G,n=G=>{const k=G.toString(16);return 1&k.length?`0${k}`:k},i=t(n(r.s)),u=t(n(r.r)),y=i.length/2,d=u.length/2,m=n(y),Z=n(d);return`30${n(d+y+4)}02${Z}${u}02${m}${i}`}},kr=BigInt(0),lo=BigInt(1),ds=(BigInt(2),BigInt(3));function ko(r){const t=function bd(r){const t=vd(r);return Fa(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(r),{Fp:n,n:i}=t,u=n.BYTES+1,y=2*n.BYTES+1;function m(wn){return bc(wn,i)}function Z(wn){return jd(wn,i)}const{ProjectivePoint:G,normPrivateKeyToScalar:k,weierstrassEquation:ie,isWithinCurveOrder:Ue}=function Ea(r){const t=function pa(r){const t=vd(r);Fa(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:u}=t;if(n){if(!i.eql(u,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(r),{Fp:n}=t,i=t.toBytes||((Ve,qe,pt)=>{const At=qe.toAffine();return ls(Uint8Array.from([4]),n.toBytes(At.x),n.toBytes(At.y))}),u=t.fromBytes||(Ve=>{const qe=Ve.subarray(1);return{x:n.fromBytes(qe.subarray(0,n.BYTES)),y:n.fromBytes(qe.subarray(n.BYTES,2*n.BYTES))}});function y(Ve){const{a:qe,b:pt}=t,At=n.sqr(Ve),bt=n.mul(At,Ve);return n.add(n.add(bt,n.mul(Ve,qe)),pt)}if(!n.eql(n.sqr(t.Gy),y(t.Gx)))throw new Error("bad generator point: equation left != right");function d(Ve){return"bigint"==typeof Ve&&kr<Ve&&Ve<t.n}function m(Ve){if(!d(Ve))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function Z(Ve){const{allowedPrivateKeyLengths:qe,nByteLength:pt,wrapPrivateKey:At,n:bt}=t;if(qe&&"bigint"!=typeof Ve){if(Wr(Ve)&&(Ve=ni(Ve)),"string"!=typeof Ve||!qe.includes(Ve.length))throw new Error("Invalid key");Ve=Ve.padStart(2*pt,"0")}let _t;try{_t="bigint"==typeof Ve?Ve:Dr(Mi("private key",Ve,pt))}catch{throw new Error(`private key must be ${pt} bytes, hex or bigint, not ${typeof Ve}`)}return At&&(_t=bc(_t,bt)),m(_t),_t}const G=new Map;function k(Ve){if(!(Ve instanceof ie))throw new Error("ProjectivePoint expected")}class ie{constructor(qe,pt,At){if(this.px=qe,this.py=pt,this.pz=At,null==qe||!n.isValid(qe))throw new Error("x required");if(null==pt||!n.isValid(pt))throw new Error("y required");if(null==At||!n.isValid(At))throw new Error("z required")}static fromAffine(qe){const{x:pt,y:At}=qe||{};if(!qe||!n.isValid(pt)||!n.isValid(At))throw new Error("invalid affine point");if(qe instanceof ie)throw new Error("projective point not allowed");const bt=_t=>n.eql(_t,n.ZERO);return bt(pt)&&bt(At)?ie.ZERO:new ie(pt,At,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(qe){const pt=n.invertBatch(qe.map(At=>At.pz));return qe.map((At,bt)=>At.toAffine(pt[bt])).map(ie.fromAffine)}static fromHex(qe){const pt=ie.fromAffine(u(Mi("pointHex",qe)));return pt.assertValidity(),pt}static fromPrivateKey(qe){return ie.BASE.multiply(Z(qe))}_setWindowSize(qe){this._WINDOW_SIZE=qe,G.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:qe,y:pt}=this.toAffine();if(!n.isValid(qe)||!n.isValid(pt))throw new Error("bad point: x or y not FE");const At=n.sqr(pt),bt=y(qe);if(!n.eql(At,bt))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:qe}=this.toAffine();if(n.isOdd)return!n.isOdd(qe);throw new Error("Field doesn't support isOdd")}equals(qe){k(qe);const{px:pt,py:At,pz:bt}=this,{px:_t,py:Ft,pz:Xt}=qe,Ht=n.eql(n.mul(pt,Xt),n.mul(_t,bt)),on=n.eql(n.mul(At,Xt),n.mul(Ft,bt));return Ht&&on}negate(){return new ie(this.px,n.neg(this.py),this.pz)}double(){const{a:qe,b:pt}=t,At=n.mul(pt,ds),{px:bt,py:_t,pz:Ft}=this;let Xt=n.ZERO,Ht=n.ZERO,on=n.ZERO,ln=n.mul(bt,bt),Ln=n.mul(_t,_t),Vn=n.mul(Ft,Ft),Zn=n.mul(bt,_t);return Zn=n.add(Zn,Zn),on=n.mul(bt,Ft),on=n.add(on,on),Xt=n.mul(qe,on),Ht=n.mul(At,Vn),Ht=n.add(Xt,Ht),Xt=n.sub(Ln,Ht),Ht=n.add(Ln,Ht),Ht=n.mul(Xt,Ht),Xt=n.mul(Zn,Xt),on=n.mul(At,on),Vn=n.mul(qe,Vn),Zn=n.sub(ln,Vn),Zn=n.mul(qe,Zn),Zn=n.add(Zn,on),on=n.add(ln,ln),ln=n.add(on,ln),ln=n.add(ln,Vn),ln=n.mul(ln,Zn),Ht=n.add(Ht,ln),Vn=n.mul(_t,Ft),Vn=n.add(Vn,Vn),ln=n.mul(Vn,Zn),Xt=n.sub(Xt,ln),on=n.mul(Vn,Ln),on=n.add(on,on),on=n.add(on,on),new ie(Xt,Ht,on)}add(qe){k(qe);const{px:pt,py:At,pz:bt}=this,{px:_t,py:Ft,pz:Xt}=qe;let Ht=n.ZERO,on=n.ZERO,ln=n.ZERO;const Ln=t.a,Vn=n.mul(t.b,ds);let Zn=n.mul(pt,_t),_r=n.mul(At,Ft),Xn=n.mul(bt,Xt),ar=n.add(pt,At),wn=n.add(_t,Ft);ar=n.mul(ar,wn),wn=n.add(Zn,_r),ar=n.sub(ar,wn),wn=n.add(pt,bt);let Dn=n.add(_t,Xt);return wn=n.mul(wn,Dn),Dn=n.add(Zn,Xn),wn=n.sub(wn,Dn),Dn=n.add(At,bt),Ht=n.add(Ft,Xt),Dn=n.mul(Dn,Ht),Ht=n.add(_r,Xn),Dn=n.sub(Dn,Ht),ln=n.mul(Ln,wn),Ht=n.mul(Vn,Xn),ln=n.add(Ht,ln),Ht=n.sub(_r,ln),ln=n.add(_r,ln),on=n.mul(Ht,ln),_r=n.add(Zn,Zn),_r=n.add(_r,Zn),Xn=n.mul(Ln,Xn),wn=n.mul(Vn,wn),_r=n.add(_r,Xn),Xn=n.sub(Zn,Xn),Xn=n.mul(Ln,Xn),wn=n.add(wn,Xn),Zn=n.mul(_r,wn),on=n.add(on,Zn),Zn=n.mul(Dn,wn),Ht=n.mul(ar,Ht),Ht=n.sub(Ht,Zn),Zn=n.mul(ar,_r),ln=n.mul(Dn,ln),ln=n.add(ln,Zn),new ie(Ht,on,ln)}subtract(qe){return this.add(qe.negate())}is0(){return this.equals(ie.ZERO)}wNAF(qe){return He.wNAFCached(this,G,qe,pt=>{const At=n.invertBatch(pt.map(bt=>bt.pz));return pt.map((bt,_t)=>bt.toAffine(At[_t])).map(ie.fromAffine)})}multiplyUnsafe(qe){const pt=ie.ZERO;if(qe===kr)return pt;if(m(qe),qe===lo)return this;const{endo:At}=t;if(!At)return He.unsafeLadder(this,qe);let{k1neg:bt,k1:_t,k2neg:Ft,k2:Xt}=At.splitScalar(qe),Ht=pt,on=pt,ln=this;for(;_t>kr||Xt>kr;)_t&lo&&(Ht=Ht.add(ln)),Xt&lo&&(on=on.add(ln)),ln=ln.double(),_t>>=lo,Xt>>=lo;return bt&&(Ht=Ht.negate()),Ft&&(on=on.negate()),on=new ie(n.mul(on.px,At.beta),on.py,on.pz),Ht.add(on)}multiply(qe){m(qe);let At,bt,pt=qe;const{endo:_t}=t;if(_t){const{k1neg:Ft,k1:Xt,k2neg:Ht,k2:on}=_t.splitScalar(pt);let{p:ln,f:Ln}=this.wNAF(Xt),{p:Vn,f:Zn}=this.wNAF(on);ln=He.constTimeNegate(Ft,ln),Vn=He.constTimeNegate(Ht,Vn),Vn=new ie(n.mul(Vn.px,_t.beta),Vn.py,Vn.pz),At=ln.add(Vn),bt=Ln.add(Zn)}else{const{p:Ft,f:Xt}=this.wNAF(pt);At=Ft,bt=Xt}return ie.normalizeZ([At,bt])[0]}multiplyAndAddUnsafe(qe,pt,At){const bt=ie.BASE,_t=(Xt,Ht)=>Ht!==kr&&Ht!==lo&&Xt.equals(bt)?Xt.multiply(Ht):Xt.multiplyUnsafe(Ht),Ft=_t(this,pt).add(_t(qe,At));return Ft.is0()?void 0:Ft}toAffine(qe){const{px:pt,py:At,pz:bt}=this,_t=this.is0();null==qe&&(qe=_t?n.ONE:n.inv(bt));const Ft=n.mul(pt,qe),Xt=n.mul(At,qe),Ht=n.mul(bt,qe);if(_t)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Ht,n.ONE))throw new Error("invZ was invalid");return{x:Ft,y:Xt}}isTorsionFree(){const{h:qe,isTorsionFree:pt}=t;if(qe===lo)return!0;if(pt)return pt(ie,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:qe,clearCofactor:pt}=t;return qe===lo?this:pt?pt(ie,this):this.multiplyUnsafe(t.h)}toRawBytes(qe=!0){return this.assertValidity(),i(ie,this,qe)}toHex(qe=!0){return ni(this.toRawBytes(qe))}}ie.BASE=new ie(t.Gx,t.Gy,n.ONE),ie.ZERO=new ie(n.ZERO,n.ONE,n.ZERO);const Ue=t.nBitLength,He=function Gl(r,t){const n=(u,y)=>{const d=y.negate();return u?d:y},i=u=>({windows:Math.ceil(t/u)+1,windowSize:2**(u-1)});return{constTimeNegate:n,unsafeLadder(u,y){let d=r.ZERO,m=u;for(;y>df;)y&qs&&(d=d.add(m)),m=m.double(),y>>=qs;return d},precomputeWindow(u,y){const{windows:d,windowSize:m}=i(y),Z=[];let G=u,k=G;for(let ie=0;ie<d;ie++){k=G,Z.push(k);for(let Ue=1;Ue<m;Ue++)k=k.add(G),Z.push(k);G=k.double()}return Z},wNAF(u,y,d){const{windows:m,windowSize:Z}=i(u);let G=r.ZERO,k=r.BASE;const ie=BigInt(2**u-1),Ue=2**u,He=BigInt(u);for(let Ve=0;Ve<m;Ve++){const qe=Ve*Z;let pt=Number(d&ie);d>>=He,pt>Z&&(pt-=Ue,d+=qs);const At=qe,bt=qe+Math.abs(pt)-1,Ft=pt<0;0===pt?k=k.add(n(Ve%2!=0,y[At])):G=G.add(n(Ft,y[bt]))}return{p:G,f:k}},wNAFCached(u,y,d,m){const Z=u._WINDOW_SIZE||1;let G=y.get(u);return G||(G=this.precomputeWindow(u,Z),1!==Z&&y.set(u,m(G))),this.wNAF(Z,G,d)}}}(ie,t.endo?Math.ceil(Ue/2):Ue);return{CURVE:t,ProjectivePoint:ie,normPrivateKeyToScalar:Z,weierstrassEquation:y,isWithinCurveOrder:d}}({...t,toBytes(wn,Dn,Rn){const Jn=Dn.toAffine(),Un=n.toBytes(Jn.x),or=ls;return Rn?or(Uint8Array.from([Dn.hasEvenY()?2:3]),Un):or(Uint8Array.from([4]),Un,n.toBytes(Jn.y))},fromBytes(wn){const Dn=wn.length,Rn=wn[0],Jn=wn.subarray(1);if(Dn!==u||2!==Rn&&3!==Rn){if(Dn===y&&4===Rn)return{x:n.fromBytes(Jn.subarray(0,n.BYTES)),y:n.fromBytes(Jn.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${Dn} was invalid. Expected ${u} compressed bytes or ${y} uncompressed bytes`)}{const Un=Dr(Jn);if(!function d(wn){return kr<wn&&wn<n.ORDER}(Un))throw new Error("Point is not on curve");const or=ie(Un);let Mr;try{Mr=n.sqrt(or)}catch(Ir){const Kr=Ir instanceof Error?": "+Ir.message:"";throw new Error("Point is not on curve"+Kr)}return!(1&~Rn)!=((Mr&lo)===lo)&&(Mr=n.neg(Mr)),{x:Un,y:Mr}}}}),He=wn=>ni(Ur(wn,t.nByteLength));function Ve(wn){return wn>i>>lo}const pt=(wn,Dn,Rn)=>Dr(wn.slice(Dn,Rn));class At{constructor(Dn,Rn,Jn){this.r=Dn,this.s=Rn,this.recovery=Jn,this.assertValidity()}static fromCompact(Dn){const Rn=t.nByteLength;return Dn=Mi("compactSignature",Dn,2*Rn),new At(pt(Dn,0,Rn),pt(Dn,Rn,2*Rn))}static fromDER(Dn){const{r:Rn,s:Jn}=qo.toSig(Mi("DER",Dn));return new At(Rn,Jn)}assertValidity(){if(!Ue(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!Ue(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Dn){return new At(this.r,this.s,Dn)}recoverPublicKey(Dn){const{r:Rn,s:Jn,recovery:Un}=this,or=on(Mi("msgHash",Dn));if(null==Un||![0,1,2,3].includes(Un))throw new Error("recovery id invalid");const Mr=2===Un||3===Un?Rn+t.n:Rn;if(Mr>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Tn=G.fromHex((1&Un?"03":"02")+He(Mr)),Ir=Z(Mr),Kr=m(-or*Ir),dr=m(Jn*Ir),Wn=G.BASE.multiplyAndAddUnsafe(Tn,Kr,dr);if(!Wn)throw new Error("point at infinify");return Wn.assertValidity(),Wn}hasHighS(){return Ve(this.s)}normalizeS(){return this.hasHighS()?new At(this.r,m(-this.s),this.recovery):this}toDERRawBytes(){return tr(this.toDERHex())}toDERHex(){return qo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return tr(this.toCompactHex())}toCompactHex(){return He(this.r)+He(this.s)}}const bt={isValidPrivateKey(wn){try{return k(wn),!0}catch{return!1}},normPrivateKeyToScalar:k,randomPrivateKey:()=>{const wn=ns(t.n);return function xi(r,t,n=!1){const i=r.length,u=Yo(t),y=ns(t);if(i<16||i<y||i>1024)throw new Error(`expected ${y}-1024 bytes of input, got ${i}`);const m=bc(n?Dr(r):Hr(r),t-yo)+yo;return n?li(m,u):Ur(m,u)}(t.randomBytes(wn),t.n)},precompute:(wn=8,Dn=G.BASE)=>(Dn._setWindowSize(wn),Dn.multiply(BigInt(3)),Dn)};function Ft(wn){const Dn=Wr(wn),Rn="string"==typeof wn,Jn=(Dn||Rn)&&wn.length;return Dn?Jn===u||Jn===y:Rn?Jn===2*u||Jn===2*y:wn instanceof G}const Ht=t.bits2int||function(wn){const Dn=Dr(wn),Rn=8*wn.length-t.nBitLength;return Rn>0?Dn>>BigInt(Rn):Dn},on=t.bits2int_modN||function(wn){return m(Ht(wn))},ln=qi(t.nBitLength);function Ln(wn){if("bigint"!=typeof wn)throw new Error("bigint expected");if(!(kr<=wn&&wn<ln))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Ur(wn,t.nByteLength)}const Zn={lowS:t.lowS,prehash:!1},_r={lowS:t.lowS,prehash:!1};return G.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function _t(wn,Dn=!0){return G.fromPrivateKey(wn).toRawBytes(Dn)},getSharedSecret:function Xt(wn,Dn,Rn=!0){if(Ft(wn))throw new Error("first arg must be private key");if(!Ft(Dn))throw new Error("second arg must be public key");return G.fromHex(Dn).multiply(k(wn)).toRawBytes(Rn)},sign:function Xn(wn,Dn,Rn=Zn){const{seed:Jn,k2sig:Un}=function Vn(wn,Dn,Rn=Zn){if(["recovered","canonical"].some(Or=>Or in Rn))throw new Error("sign() legacy options not supported");const{hash:Jn,randomBytes:Un}=t;let{lowS:or,prehash:Mr,extraEntropy:Sr}=Rn;null==or&&(or=!0),wn=Mi("msgHash",wn),Mr&&(wn=Mi("prehashed msgHash",Jn(wn)));const Tn=on(wn),Ir=k(Dn),Kr=[Ln(Ir),Ln(Tn)];if(null!=Sr&&!1!==Sr){const Or=!0===Sr?Un(n.BYTES):Sr;Kr.push(Mi("extraEntropy",Or))}const dr=ls(...Kr),Wn=Tn;return{seed:dr,k2sig:function mr(Or){const Yr=Ht(Or);if(!Ue(Yr))return;const ei=Z(Yr),zr=G.BASE.multiply(Yr).toAffine(),Xr=m(zr.x);if(Xr===kr)return;const Vi=m(ei*m(Wn+Xr*Ir));if(Vi===kr)return;let ec=(zr.x===Xr?0:2)|Number(zr.y&lo),Pr=Vi;return or&&Ve(Vi)&&(Pr=function qe(wn){return Ve(wn)?m(-wn):wn}(Vi),ec^=1),new At(Xr,Pr,ec)}}}(wn,Dn,Rn);return co(t.hash.outputLen,t.nByteLength,t.hmac)(Jn,Un)},verify:function ar(wn,Dn,Rn,Jn=_r){const Un=wn;if(Dn=Mi("msgHash",Dn),Rn=Mi("publicKey",Rn),"strict"in Jn)throw new Error("options.strict was renamed to lowS");const{lowS:or,prehash:Mr}=Jn;let Sr,Tn;try{if("string"==typeof Un||Wr(Un))try{Sr=At.fromDER(Un)}catch(zr){if(!(zr instanceof qo.Err))throw zr;Sr=At.fromCompact(Un)}else{if("object"!=typeof Un||"bigint"!=typeof Un.r||"bigint"!=typeof Un.s)throw new Error("PARSE");{const{r:zr,s:Xr}=Un;Sr=new At(zr,Xr)}}Tn=G.fromHex(Rn)}catch(zr){if("PARSE"===zr.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(or&&Sr.hasHighS())return!1;Mr&&(Dn=t.hash(Dn));const{r:Ir,s:Kr}=Sr,dr=on(Dn),Wn=Z(Kr),mr=m(dr*Wn),Or=m(Ir*Wn),Yr=G.BASE.multiplyAndAddUnsafe(Tn,mr,Or)?.toAffine();return!!Yr&&m(Yr.x)===Ir},ProjectivePoint:G,Signature:At,utils:bt}}function us(r){return{hash:r,hmac:(t,...n)=>gn(r,t,function Rr(...r){let t=0;for(let i=0;i<r.length;i++){const u=r[i];Pt(u),t+=u.length}const n=new Uint8Array(t);for(let i=0,u=0;i<r.length;i++){const y=r[i];n.set(y,u),u+=y.length}return n}(...n)),randomBytes:Zt}}BigInt(4);const Qs=function Ns(r,t,n=!1,i={}){if(r<=ws)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:u,nByteLength:y}=ic(r,t);if(y>2048)throw new Error("Field lengths over 2048 bytes are not supported");const d=function Mc(r){if(r%Cc===nc){const t=(r+yo)/Cc;return function(i,u){const y=i.pow(u,t);if(!i.eql(i.sqr(y),u))throw new Error("Cannot find square root");return y}}if(r%Wc===gd){const t=(r-gd)/Wc;return function(i,u){const y=i.mul(u,la),d=i.pow(y,t),m=i.mul(u,d),Z=i.mul(i.mul(m,la),d),G=i.mul(m,i.sub(Z,i.ONE));if(!i.eql(i.sqr(G),u))throw new Error("Cannot find square root");return G}}return function Ff(r){const t=(r-yo)/la;let n,i,u;for(n=r-yo,i=0;n%la===ws;n/=la,i++);for(u=la;u<r&&Lf(u,t,r)!==r-yo;u++);if(1===i){const d=(r+yo)/Cc;return function(Z,G){const k=Z.pow(G,d);if(!Z.eql(Z.sqr(k),G))throw new Error("Cannot find square root");return k}}const y=(n+yo)/la;return function(m,Z){if(m.pow(Z,t)===m.neg(m.ONE))throw new Error("Cannot find square root");let G=i,k=m.pow(m.mul(m.ONE,u),n),ie=m.pow(Z,y),Ue=m.pow(Z,n);for(;!m.eql(Ue,m.ONE);){if(m.eql(Ue,m.ZERO))return m.ZERO;let He=1;for(let qe=m.sqr(Ue);He<G&&!m.eql(qe,m.ONE);He++)qe=m.sqr(qe);const Ve=m.pow(k,yo<<BigInt(G-He-1));k=m.sqr(Ve),ie=m.mul(ie,Ve),Ue=m.mul(Ue,k),G=He}return ie}}(r)}(r),m=Object.freeze({ORDER:r,BITS:u,BYTES:y,MASK:qi(u),ZERO:ws,ONE:yo,create:Z=>bc(Z,r),isValid:Z=>{if("bigint"!=typeof Z)throw new Error("Invalid field element: expected bigint, got "+typeof Z);return ws<=Z&&Z<r},is0:Z=>Z===ws,isOdd:Z=>(Z&yo)===yo,neg:Z=>bc(-Z,r),eql:(Z,G)=>Z===G,sqr:Z=>bc(Z*Z,r),add:(Z,G)=>bc(Z+G,r),sub:(Z,G)=>bc(Z-G,r),mul:(Z,G)=>bc(Z*G,r),pow:(Z,G)=>function $d(r,t,n){if(n<ws)throw new Error("Expected power > 0");if(n===ws)return r.ONE;if(n===yo)return t;let i=r.ONE,u=t;for(;n>ws;)n&yo&&(i=r.mul(i,u)),u=r.sqr(u),n>>=yo;return i}(m,Z,G),div:(Z,G)=>bc(Z*jd(G,r),r),sqrN:Z=>Z*Z,addN:(Z,G)=>Z+G,subN:(Z,G)=>Z-G,mulN:(Z,G)=>Z*G,inv:Z=>jd(Z,r),sqrt:i.sqrt||(Z=>d(m,Z)),invertBatch:Z=>function Ol(r,t){const n=new Array(t.length),i=t.reduce((y,d,m)=>r.is0(d)?y:(n[m]=y,r.mul(y,d)),r.ONE),u=r.inv(i);return t.reduceRight((y,d,m)=>r.is0(d)?y:(n[m]=r.mul(y,n[m]),r.mul(y,d)),u),n}(m,Z),cmov:(Z,G,k)=>k?G:Z,toBytes:Z=>n?li(Z,y):Ur(Z,y),fromBytes:Z=>{if(Z.length!==y)throw new Error(`Fp.fromBytes: expected ${y}, got ${Z.length}`);return n?Hr(Z):Dr(Z)}});return Object.freeze(m)}(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),wi=function zi(r,t){const n=i=>ko({...r,...us(i)});return Object.freeze({...n(t),create:n})}({a:Qs.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:Qs,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Ne),Uc=wi;function Fi(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class zt{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class en{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return Gt(this,t)}}class Ot{decoders;constructor(t){this.decoders=t}or(t){return Gt(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function Gt(r,t){return new Ot({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class Gn{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,u){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=u,this.encoder=new zt(t,n,i),this.decoder=new en(t,n,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function vi({name:r,prefix:t,encode:n,decode:i}){return new Gn(r,t,n,i)}function wo({name:r,prefix:t,alphabet:n}){const{encode:i,decode:u}=function No(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var u=0;u<r.length;u++){var y=r.charAt(u),d=y.charCodeAt(0);if(255!==n[d])throw new TypeError(y+" is ambiguous");n[d]=u}var m=r.length,Z=r.charAt(0),G=Math.log(m)/Math.log(256),k=Math.log(256)/Math.log(m);function Ue(Ve){if("string"!=typeof Ve)throw new TypeError("Expected String");if(0===Ve.length)return new Uint8Array;var qe=0;if(" "!==Ve[qe]){for(var pt=0,At=0;Ve[qe]===Z;)pt++,qe++;for(var bt=(Ve.length-qe)*G+1>>>0,_t=new Uint8Array(bt);Ve[qe];){var Ft=n[Ve.charCodeAt(qe)];if(255===Ft)return;for(var Xt=0,Ht=bt-1;(0!==Ft||Xt<At)&&-1!==Ht;Ht--,Xt++)_t[Ht]=(Ft+=m*_t[Ht]>>>0)%256>>>0,Ft=Ft/256>>>0;if(0!==Ft)throw new Error("Non-zero carry");At=Xt,qe++}if(" "!==Ve[qe]){for(var on=bt-At;on!==bt&&0===_t[on];)on++;for(var ln=new Uint8Array(pt+(bt-on)),Ln=pt;on!==bt;)ln[Ln++]=_t[on++];return ln}}}return{encode:function ie(Ve){if(Ve instanceof Uint8Array||(ArrayBuffer.isView(Ve)?Ve=new Uint8Array(Ve.buffer,Ve.byteOffset,Ve.byteLength):Array.isArray(Ve)&&(Ve=Uint8Array.from(Ve))),!(Ve instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ve.length)return"";for(var qe=0,pt=0,At=0,bt=Ve.length;At!==bt&&0===Ve[At];)At++,qe++;for(var _t=(bt-At)*k+1>>>0,Ft=new Uint8Array(_t);At!==bt;){for(var Xt=Ve[At],Ht=0,on=_t-1;(0!==Xt||Ht<pt)&&-1!==on;on--,Ht++)Ft[on]=(Xt+=256*Ft[on]>>>0)%m>>>0,Xt=Xt/m>>>0;if(0!==Xt)throw new Error("Non-zero carry");pt=Ht,At++}for(var ln=_t-pt;ln!==_t&&0===Ft[ln];)ln++;for(var Ln=Z.repeat(qe);ln<_t;++ln)Ln+=r.charAt(Ft[ln]);return Ln},decodeUnsafe:Ue,decode:function He(Ve){var qe=Ue(Ve);if(qe)return qe;throw new Error(`Non-${t} character`)}}}(n,r);return vi({prefix:t,name:r,encode:i,decode:y=>Fi(u(y))})}function ja({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return vi({prefix:t,name:r,encode:u=>function ki(r,t,n){const i="="===t[t.length-1],u=(1<<n)-1;let y="",d=0,m=0;for(let Z=0;Z<r.length;++Z)for(m=m<<8|r[Z],d+=8;d>n;)d-=n,y+=t[u&m>>d];if(0!==d&&(y+=t[u&m<<n-d]),i)for(;y.length*n&7;)y+="=";return y}(u,i,n),decode:u=>function ta(r,t,n,i){const u={};for(let k=0;k<t.length;++k)u[t[k]]=k;let y=r.length;for(;"="===r[y-1];)--y;const d=new Uint8Array(y*n/8|0);let m=0,Z=0,G=0;for(let k=0;k<y;++k){const ie=u[r[k]];if(void 0===ie)throw new SyntaxError(`Non-${i} character`);Z=Z<<n|ie,m+=n,m>=8&&(m-=8,d[G++]=255&Z>>m)}if(m>=n||255&Z<<8-m)throw new SyntaxError("Unexpected end of data");return d}(u,i,n,r)})}const zd=wo({prefix:"9",name:"base10",alphabet:"0123456789"}),$f=ja({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Jh=ja({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Dc=ja({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),os=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),kl=os.reduce((r,t,n)=>(r[n]=t,r),[]),Gc=os.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),ma=vi({prefix:"\u{1f680}",name:"base256emoji",encode:function Hd(r){return r.reduce((t,n)=>t+kl[n],"")},decode:function $a(r){const t=[];for(const n of r){const i=Gc[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),il=ja({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Bl=ja({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ed=ja({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ka=ja({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xd=ja({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Di=ja({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),go=ja({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),_s=ja({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Kf=ja({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),jc=wo({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),$u=wo({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Nl=wo({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Rp=wo({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Sd=ja({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ky=ja({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Op=ja({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),gm=ja({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Vf=ja({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Va=vi({prefix:"\0",name:"identity",encode:r=>function Uf(r){return(new TextDecoder).decode(r)}(r),decode:r=>function ea(r){return(new TextEncoder).encode(r)}(r)}),sc=new TextEncoder,ff=new TextDecoder,zf="json",Ls=512;function hf(r){return sc.encode(JSON.stringify(r))}function pf(r){return JSON.parse(ff.decode(r))}const Zi="raw",_o=85;function mu(r){return Fi(r)}function Is(r){return Fi(r)}var Xc=128,rs=-128,To=Math.pow(2,31),ii=128,yu=127,Hf=Math.pow(2,7),mh=Math.pow(2,14),yh=Math.pow(2,21),gt=Math.pow(2,28),fn=Math.pow(2,35),Ut=Math.pow(2,42),nn=Math.pow(2,49),Fn=Math.pow(2,56),yr=Math.pow(2,63);const vo={encode:function bl(r,t,n){t=t||[];for(var i=n=n||0;r>=To;)t[n++]=255&r|Xc,r/=128;for(;r&rs;)t[n++]=255&r|Xc,r>>>=7;return t[n]=0|r,bl.bytes=n-i+1,t},decode:function Ll(r,i){var d,n=0,u=0,y=i=i||0,m=r.length;do{if(y>=m)throw Ll.bytes=0,new RangeError("Could not decode varint");d=r[y++],n+=u<28?(d&yu)<<u:(d&yu)*Math.pow(2,u),u+=7}while(d>=ii);return Ll.bytes=y-i,n},encodingLength:function(r){return r<Hf?1:r<mh?2:r<yh?3:r<gt?4:r<fn?5:r<Ut?6:r<nn?7:r<Fn?8:r<yr?9:10}};function Fr(r,t,n=0){return vo.encode(r,t,n),t}function Fs(r){return vo.encodingLength(r)}function ss(r,t){const n=t.byteLength,i=Fs(r),u=i+Fs(n),y=new Uint8Array(u+n);return Fr(r,y,0),Fr(n,y,i),y.set(t,u),new va(r,n,t,y)}class va{code;size;digest;bytes;constructor(t,n,i,u){this.code=t,this.size=n,this.digest=i,this.bytes=u}}const fs=Fi,Zl={code:0,name:"identity",encode:fs,digest:function _l(r){return ss(0,fs(r))}};function Fl({name:r,code:t,encode:n}){return new mf(r,t,n)}class mf{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?ss(this.code,n):n.then(i=>ss(this.code,i))}throw Error("Unknown type, must be binary type")}}function qh(r){return function(){var t=(0,Se.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}()}const sl=Fl({name:"sha2-256",code:18,encode:qh("SHA-256")}),Wd=Fl({name:"sha2-512",code:19,encode:qh("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const it={...P,...Y,...V,...x,...N,...j,...R,...U,...H,...M};function Ce(r=0){return new Uint8Array(r)}function ot(r=0){return new Uint8Array(r)}function ct(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const Mt=ct("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),rn=ct("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=ot((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),cn={utf8:Mt,"utf-8":Mt,hex:it.base16,latin1:rn,ascii:rn,binary:rn,...it};function Dt(r,t="utf8"){const n=cn[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${r}`)}var Qr=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};const Ui_toString=function vn(r,t="utf8"){const n=cn[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(r).substring(1)};class Ii{static validateKey(t){if("EC"!==t.kty||"P-256"!==t.crv)throw new me(Te.Secp256r1KeyNotValid,"Invalid SECP256R1 JWK: `kty` MUST be `EC`. `crv` MUST be `P-256`")}static publicKeyToJwk(t){return Qr(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?wi.ProjectivePoint.fromHex(t).toRawBytes(!1):t,{alg:"ES256",kty:"EC",crv:"P-256",x:X.bytesToBase64Url(n.subarray(1,33)),y:X.bytesToBase64Url(n.subarray(33,65))}})}static privateJwkToBytes(t){return X.base64UrlToBytes(t.d)}static sign(t,n){return Qr(this,void 0,void 0,function*(){Ii.validateKey(n);const i=yield be.encode(t),u=Ii.privateJwkToBytes(n);return Promise.resolve(wi.sign(i,u).toCompactRawBytes())})}static verify(t,n,i){return Qr(this,void 0,void 0,function*(){let u;Ii.validateKey(i),u=64===n.length?wi.Signature.fromCompact(n):wi.Signature.fromDER(n);const y=yield be.encode(t),d=wi.ProjectivePoint.fromAffine({x:Ii.bytesToBigInt(X.base64UrlToBytes(i.x)),y:Ii.bytesToBigInt(X.base64UrlToBytes(i.y))}).toRawBytes(!1);return wi.verify(u,y,d)})}static generateKeyPair(){return Qr(this,void 0,void 0,function*(){const t=wi.utils.randomPrivateKey(),n=Uc.getPublicKey(t,!1),i=X.bytesToBase64Url(t),u=yield Ii.publicKeyToJwk(n);return{publicJwk:u,privateJwk:Object.assign(Object.assign({},u),{d:i})}})}static bytesToBigInt(t){return BigInt("0x"+Ui_toString(t,"base16"))}}const Ni={Ed25519:Ie,secp256k1:{sign:De.sign,verify:De.verify,generateKeyPair:De.generateKeyPair,publicKeyToJwk:De.publicKeyToJwk},"P-256":{sign:Ii.sign,verify:Ii.verify,generateKeyPair:Ii.generateKeyPair,publicKeyToJwk:Ii.publicKeyToJwk}};class Ts{constructor(t){var n,i;if(void 0===t.keyId&&void 0===t.privateJwk.kid)throw new me(Te.PrivateKeySignerUnableToDeduceKeyId,"Unable to deduce the key ID");if(void 0===t.algorithm&&void 0===t.privateJwk.alg)throw new me(Te.PrivateKeySignerUnableToDeduceAlgorithm,"Unable to deduce the signature algorithm");if(this.keyId=null!==(n=t.keyId)&&void 0!==n?n:t.privateJwk.kid,this.algorithm=null!==(i=t.algorithm)&&void 0!==i?i:t.privateJwk.alg,this.privateJwk=t.privateJwk,this.signatureAlgorithm=Ni[t.privateJwk.crv],!this.signatureAlgorithm)throw new me(Te.PrivateKeySignerUnsupportedCurve,`Unsupported crv ${t.privateJwk.crv}, crv must be one of ${Object.keys(Ni)}`)}sign(t){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return yield this.signatureAlgorithm.sign(t,this.privateJwk)})}}class Gr{static getKid(t){const{kid:n}=X.base64UrlToObject(t.protected);return n}static getSignerDid(t){const n=Gr.getKid(t);return Gr.extractDid(n)}static verifySignature(t,n,i){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const u=Ni[i.crv];if(!u)throw new me(Te.JwsVerifySignatureUnsupportedCrv,`unsupported crv. crv must be one of ${Object.keys(Ni)}`);const y=X.stringToBytes(`${n.protected}.${t}`),d=X.base64UrlToBytes(n.signature);return yield u.verify(y,d,i)})}static decodePlainObjectPayload(t){let n;try{n=X.base64UrlToObject(t.payload)}catch{throw new me(Te.JwsDecodePlainObjectPayloadInvalid,"payload is not a JSON object")}if(!T(n))throw new me(Te.JwsDecodePlainObjectPayloadInvalid,"signed payload must be a plain object");return n}static extractDid(t){const[n]=t.split("#");return n}static createSigners(t){return t.map(i=>Gr.createSigner(i))}static createSigner(t){return new Ts({privateJwk:t.keyPair.privateJwk,keyId:t.keyId})}}var oo=A(40573);const Lo="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,si=new Set,Qo="object"==typeof oo&&oo?oo:{},Zc=(r,t,n,i)=>{"function"==typeof Qo.emitWarning?Qo.emitWarning(r,t,n,i):console.error(`[${n}] ${t}: ${r}`)};let rt=globalThis.AbortController,xt=globalThis.AbortSignal;if(typeof rt>"u"){xt=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,u){this._onabort.push(u)}},rt=class{constructor(){t()}signal=new xt;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const u of this.signal._onabort)u(i);this.signal.onabort?.(i)}}};let r="1"!==Qo.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{r&&(r=!1,Zc("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const qt=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),bn=r=>qt(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?$n:null:null;class $n extends Array{constructor(t){super(t),this.fill(0)}}class Er{heap;length;static#e=!1;static create(t){const n=bn(t);if(!n)return[];Er.#e=!0;const i=new Er(t,n);return Er.#e=!1,i}constructor(t,n){if(!Er.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class lr{#e;#t;#n;#f;#C;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#y;#a;#o;#r;#u;#p;#d;#c;#g;#l;#E;#x;#v;#b;#A;#h;static unsafeExposeInternals(t){return{starts:t.#x,ttls:t.#v,sizes:t.#E,keyMap:t.#a,keyList:t.#o,valList:t.#r,next:t.#u,prev:t.#p,get head(){return t.#d},get tail(){return t.#c},free:t.#g,isBackgroundFetch:n=>t.#i(n),backgroundFetch:(n,i,u,y)=>t.#O(n,i,u,y),moveToTail:n=>t.#T(n),indexes:n=>t.#w(n),rindexes:n=>t.#_(n),isStale:n=>t.#m(n)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#y}get size(){return this.#s}get fetchMethod(){return this.#C}get dispose(){return this.#n}get disposeAfter(){return this.#f}constructor(t){const{max:n=0,ttl:i,ttlResolution:u=1,ttlAutopurge:y,updateAgeOnGet:d,updateAgeOnHas:m,allowStale:Z,dispose:G,disposeAfter:k,noDisposeOnSet:ie,noUpdateTTL:Ue,maxSize:He=0,maxEntrySize:Ve=0,sizeCalculation:qe,fetchMethod:pt,noDeleteOnFetchRejection:At,noDeleteOnStaleGet:bt,allowStaleOnFetchRejection:_t,allowStaleOnFetchAbort:Ft,ignoreFetchAbort:Xt}=t;if(0!==n&&!qt(n))throw new TypeError("max option must be a nonnegative integer");const Ht=n?bn(n):Array;if(!Ht)throw new Error("invalid max value: "+n);if(this.#e=n,this.#t=He,this.maxEntrySize=Ve||this.#t,this.sizeCalculation=qe,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==pt&&"function"!=typeof pt)throw new TypeError("fetchMethod must be a function if specified");if(this.#C=pt,this.#A=!!pt,this.#a=new Map,this.#o=new Array(n).fill(void 0),this.#r=new Array(n).fill(void 0),this.#u=new Ht(n),this.#p=new Ht(n),this.#d=0,this.#c=0,this.#g=Er.create(n),this.#s=0,this.#y=0,"function"==typeof G&&(this.#n=G),"function"==typeof k?(this.#f=k,this.#l=[]):(this.#f=void 0,this.#l=void 0),this.#b=!!this.#n,this.#h=!!this.#f,this.noDisposeOnSet=!!ie,this.noUpdateTTL=!!Ue,this.noDeleteOnFetchRejection=!!At,this.allowStaleOnFetchRejection=!!_t,this.allowStaleOnFetchAbort=!!Ft,this.ignoreFetchAbort=!!Xt,0!==this.maxEntrySize){if(0!==this.#t&&!qt(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!qt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#F()}if(this.allowStale=!!Z,this.noDeleteOnStaleGet=!!bt,this.updateAgeOnGet=!!d,this.updateAgeOnHas=!!m,this.ttlResolution=qt(u)||0===u?u:1,this.ttlAutopurge=!!y,this.ttl=i||0,this.ttl){if(!qt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#P()}if(0===this.#e&&0===this.ttl&&0===this.#t)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){const on="LRU_CACHE_UNBOUNDED";!si.has(on)&&(si.add(on),Zc("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",on,lr))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#P(){const t=new $n(this.#e),n=new $n(this.#e);this.#v=t,this.#x=n,this.#k=(y,d,m=Lo.now())=>{if(n[y]=0!==d?m:0,t[y]=d,0!==d&&this.ttlAutopurge){const Z=setTimeout(()=>{this.#m(y)&&this.delete(this.#o[y])},d+1);Z.unref&&Z.unref()}},this.#M=y=>{n[y]=0!==t[y]?Lo.now():0},this.#S=(y,d)=>{if(t[d]){const m=t[d],Z=n[d];y.ttl=m,y.start=Z,y.now=i||u(),y.remainingTTL=m-(y.now-Z)}};let i=0;const u=()=>{const y=Lo.now();if(this.ttlResolution>0){i=y;const d=setTimeout(()=>i=0,this.ttlResolution);d.unref&&d.unref()}return y};this.getRemainingTTL=y=>{const d=this.#a.get(y);if(void 0===d)return 0;const m=t[d],Z=n[d];return 0===m||0===Z?1/0:m-((i||u())-Z)},this.#m=y=>0!==t[y]&&0!==n[y]&&(i||u())-n[y]>t[y]}#M=()=>{};#S=()=>{};#k=()=>{};#m=()=>!1;#F(){const t=new $n(this.#e);this.#y=0,this.#E=t,this.#I=n=>{this.#y-=t[n],t[n]=0},this.#B=(n,i,u,y)=>{if(this.#i(i))return 0;if(!qt(u)){if(!y)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof y)throw new TypeError("sizeCalculation must be a function");if(u=y(i,n),!qt(u))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return u},this.#D=(n,i,u)=>{if(t[n]=i,this.#t){const y=this.#t-t[n];for(;this.#y>y;)this.#R(!0)}this.#y+=t[n],u&&(u.entrySize=i,u.totalCalculatedSize=this.#y)}}#I=t=>{};#D=(t,n,i)=>{};#B=(t,n,i,u)=>{if(i||u)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#c;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#d);)n=this.#p[n]}*#_({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#d;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#c);)n=this.#u[n]}#N(t){return void 0!==t&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#w())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*rentries(){for(const t of this.#_())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*keys(){for(const t of this.#w()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*rkeys(){for(const t of this.#_()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*values(){for(const t of this.#w())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}*rvalues(){for(const t of this.#_())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}[Symbol.iterator](){return this.entries()}find(t,n={}){for(const i of this.#w()){const u=this.#r[i],y=this.#i(u)?u.__staleWhileFetching:u;if(void 0!==y&&t(y,this.#o[i],this))return this.get(this.#o[i],n)}}forEach(t,n=this){for(const i of this.#w()){const u=this.#r[i],y=this.#i(u)?u.__staleWhileFetching:u;void 0!==y&&t.call(n,y,this.#o[i],this)}}rforEach(t,n=this){for(const i of this.#_()){const u=this.#r[i],y=this.#i(u)?u.__staleWhileFetching:u;void 0!==y&&t.call(n,y,this.#o[i],this)}}purgeStale(){let t=!1;for(const n of this.#_({allowStale:!0}))this.#m(n)&&(this.delete(this.#o[n]),t=!0);return t}dump(){const t=[];for(const n of this.#w({allowStale:!0})){const i=this.#o[n],u=this.#r[n],y=this.#i(u)?u.__staleWhileFetching:u;if(void 0===y||void 0===i)continue;const d={value:y};if(this.#v&&this.#x){d.ttl=this.#v[n];const m=Lo.now()-this.#x[n];d.start=Math.floor(Date.now()-m)}this.#E&&(d.size=this.#E[n]),t.unshift([i,d])}return t}load(t){this.clear();for(const[n,i]of t){if(i.start){const u=Date.now()-i.start;i.start=Lo.now()-u}this.set(n,i.value,i)}}set(t,n,i={}){if(void 0===n)return this.delete(t),this;const{ttl:u=this.ttl,start:y,noDisposeOnSet:d=this.noDisposeOnSet,sizeCalculation:m=this.sizeCalculation,status:Z}=i;let{noUpdateTTL:G=this.noUpdateTTL}=i;const k=this.#B(t,n,i.size||0,m);if(this.maxEntrySize&&k>this.maxEntrySize)return Z&&(Z.set="miss",Z.maxEntrySizeExceeded=!0),this.delete(t),this;let ie=0===this.#s?void 0:this.#a.get(t);if(void 0===ie)ie=0===this.#s?this.#c:0!==this.#g.length?this.#g.pop():this.#s===this.#e?this.#R(!1):this.#s,this.#o[ie]=t,this.#r[ie]=n,this.#a.set(t,ie),this.#u[this.#c]=ie,this.#p[ie]=this.#c,this.#c=ie,this.#s++,this.#D(ie,k,Z),Z&&(Z.set="add"),G=!1;else{this.#T(ie);const Ue=this.#r[ie];if(n!==Ue){if(this.#A&&this.#i(Ue)?Ue.__abortController.abort(new Error("replaced")):d||(this.#b&&this.#n?.(Ue,t,"set"),this.#h&&this.#l?.push([Ue,t,"set"])),this.#I(ie),this.#D(ie,k,Z),this.#r[ie]=n,Z){Z.set="replace";const He=Ue&&this.#i(Ue)?Ue.__staleWhileFetching:Ue;void 0!==He&&(Z.oldValue=He)}}else Z&&(Z.set="update")}if(0!==u&&!this.#v&&this.#P(),this.#v&&(G||this.#k(ie,u,y),Z&&this.#S(Z,ie)),!d&&this.#h&&this.#l){const Ue=this.#l;let He;for(;He=Ue?.shift();)this.#f?.(...He)}return this}pop(){try{for(;this.#s;){const t=this.#r[this.#d];if(this.#R(!0),this.#i(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#h&&this.#l){const t=this.#l;let n;for(;n=t?.shift();)this.#f?.(...n)}}}#R(t){const n=this.#d,i=this.#o[n],u=this.#r[n];return this.#A&&this.#i(u)?u.__abortController.abort(new Error("evicted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(u,i,"evict"),this.#h&&this.#l?.push([u,i,"evict"])),this.#I(n),t&&(this.#o[n]=void 0,this.#r[n]=void 0,this.#g.push(n)),1===this.#s?(this.#d=this.#c=0,this.#g.length=0):this.#d=this.#u[n],this.#a.delete(i),this.#s--,n}has(t,n={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:u}=n,y=this.#a.get(t);if(void 0!==y){const d=this.#r[y];if(this.#i(d)&&void 0===d.__staleWhileFetching)return!1;if(!this.#m(y))return i&&this.#M(y),u&&(u.has="hit",this.#S(u,y)),!0;u&&(u.has="stale",this.#S(u,y))}else u&&(u.has="miss");return!1}peek(t,n={}){const{allowStale:i=this.allowStale}=n,u=this.#a.get(t);if(void 0!==u&&(i||!this.#m(u))){const y=this.#r[u];return this.#i(y)?y.__staleWhileFetching:y}}#O(t,n,i,u){const y=void 0===n?void 0:this.#r[n];if(this.#i(y))return y;const d=new rt,{signal:m}=i;m?.addEventListener("abort",()=>d.abort(m.reason),{signal:d.signal});const Z={signal:d.signal,options:i,context:u},G=(qe,pt=!1)=>{const{aborted:At}=d.signal,bt=i.ignoreFetchAbort&&void 0!==qe;return i.status&&(At&&!pt?(i.status.fetchAborted=!0,i.status.fetchError=d.signal.reason,bt&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),!At||bt||pt?(this.#r[n]===He&&(void 0===qe?He.__staleWhileFetching?this.#r[n]=He.__staleWhileFetching:this.delete(t):(i.status&&(i.status.fetchUpdated=!0),this.set(t,qe,Z.options))),qe):ie(d.signal.reason)},ie=qe=>{const{aborted:pt}=d.signal,At=pt&&i.allowStaleOnFetchAbort,bt=At||i.allowStaleOnFetchRejection,Ft=He;if(this.#r[n]===He&&((bt||i.noDeleteOnFetchRejection)&&void 0!==Ft.__staleWhileFetching?At||(this.#r[n]=Ft.__staleWhileFetching):this.delete(t)),bt)return i.status&&void 0!==Ft.__staleWhileFetching&&(i.status.returnedStale=!0),Ft.__staleWhileFetching;if(Ft.__returned===Ft)throw qe};i.status&&(i.status.fetchDispatched=!0);const He=new Promise((qe,pt)=>{const At=this.#C?.(t,y,Z);At&&At instanceof Promise&&At.then(bt=>qe(bt),pt),d.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(qe(),i.allowStaleOnFetchAbort&&(qe=bt=>G(bt,!0)))})}).then(G,qe=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=qe),ie(qe))),Ve=Object.assign(He,{__abortController:d,__staleWhileFetching:y,__returned:void 0});return void 0===n?(this.set(t,Ve,{...Z.options,status:void 0}),n=this.#a.get(t)):this.#r[n]=Ve,Ve}#i(t){if(!this.#A)return!1;const n=t;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof rt}fetch(t,n={}){var i=this;return(0,Se.A)(function*(){const{allowStale:u=i.allowStale,updateAgeOnGet:y=i.updateAgeOnGet,noDeleteOnStaleGet:d=i.noDeleteOnStaleGet,ttl:m=i.ttl,noDisposeOnSet:Z=i.noDisposeOnSet,size:G=0,sizeCalculation:k=i.sizeCalculation,noUpdateTTL:ie=i.noUpdateTTL,noDeleteOnFetchRejection:Ue=i.noDeleteOnFetchRejection,allowStaleOnFetchRejection:He=i.allowStaleOnFetchRejection,ignoreFetchAbort:Ve=i.ignoreFetchAbort,allowStaleOnFetchAbort:qe=i.allowStaleOnFetchAbort,context:pt,forceRefresh:At=!1,status:bt,signal:_t}=n;if(!i.#A)return bt&&(bt.fetch="get"),i.get(t,{allowStale:u,updateAgeOnGet:y,noDeleteOnStaleGet:d,status:bt});const Ft={allowStale:u,updateAgeOnGet:y,noDeleteOnStaleGet:d,ttl:m,noDisposeOnSet:Z,size:G,sizeCalculation:k,noUpdateTTL:ie,noDeleteOnFetchRejection:Ue,allowStaleOnFetchRejection:He,allowStaleOnFetchAbort:qe,ignoreFetchAbort:Ve,status:bt,signal:_t};let Xt=i.#a.get(t);if(void 0===Xt){bt&&(bt.fetch="miss");const Ht=i.#O(t,Xt,Ft,pt);return Ht.__returned=Ht}{const Ht=i.#r[Xt];if(i.#i(Ht)){const Zn=u&&void 0!==Ht.__staleWhileFetching;return bt&&(bt.fetch="inflight",Zn&&(bt.returnedStale=!0)),Zn?Ht.__staleWhileFetching:Ht.__returned=Ht}const on=i.#m(Xt);if(!At&&!on)return bt&&(bt.fetch="hit"),i.#T(Xt),y&&i.#M(Xt),bt&&i.#S(bt,Xt),Ht;const ln=i.#O(t,Xt,Ft,pt),Vn=void 0!==ln.__staleWhileFetching&&u;return bt&&(bt.fetch=on?"stale":"refresh",Vn&&on&&(bt.returnedStale=!0)),Vn?ln.__staleWhileFetching:ln.__returned=ln}})()}get(t,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:u=this.updateAgeOnGet,noDeleteOnStaleGet:y=this.noDeleteOnStaleGet,status:d}=n,m=this.#a.get(t);if(void 0!==m){const Z=this.#r[m],G=this.#i(Z);return d&&this.#S(d,m),this.#m(m)?(d&&(d.get="stale"),G?(d&&i&&void 0!==Z.__staleWhileFetching&&(d.returnedStale=!0),i?Z.__staleWhileFetching:void 0):(y||this.delete(t),d&&i&&(d.returnedStale=!0),i?Z:void 0)):(d&&(d.get="hit"),G?Z.__staleWhileFetching:(this.#T(m),u&&this.#M(m),Z))}d&&(d.get="miss")}#L(t,n){this.#p[n]=t,this.#u[t]=n}#T(t){t!==this.#c&&(t===this.#d?this.#d=this.#u[t]:this.#L(this.#p[t],this.#u[t]),this.#L(this.#c,t),this.#c=t)}delete(t){let n=!1;if(0!==this.#s){const i=this.#a.get(t);if(void 0!==i)if(n=!0,1===this.#s)this.clear();else{this.#I(i);const u=this.#r[i];this.#i(u)?u.__abortController.abort(new Error("deleted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(u,t,"delete"),this.#h&&this.#l?.push([u,t,"delete"])),this.#a.delete(t),this.#o[i]=void 0,this.#r[i]=void 0,i===this.#c?this.#c=this.#p[i]:i===this.#d?this.#d=this.#u[i]:(this.#u[this.#p[i]]=this.#u[i],this.#p[this.#u[i]]=this.#p[i]),this.#s--,this.#g.push(i)}}if(this.#h&&this.#l?.length){const i=this.#l;let u;for(;u=i?.shift();)this.#f?.(...u)}return n}clear(){for(const t of this.#_({allowStale:!0})){const n=this.#r[t];if(this.#i(n))n.__abortController.abort(new Error("deleted"));else{const i=this.#o[t];this.#b&&this.#n?.(n,i,"delete"),this.#h&&this.#l?.push([n,i,"delete"])}}if(this.#a.clear(),this.#r.fill(void 0),this.#o.fill(void 0),this.#v&&this.#x&&(this.#v.fill(0),this.#x.fill(0)),this.#E&&this.#E.fill(0),this.#d=0,this.#c=0,this.#g.length=0,this.#y=0,this.#s=0,this.#h&&this.#l){const t=this.#l;let n;for(;n=t?.shift();)this.#f?.(...n)}}}var ai=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class ho{constructor(t){this.timeToLiveInSeconds=t,this.cache=new lr({max:1e5,ttl:1e3*t})}set(t,n){return ai(this,void 0,void 0,function*(){try{this.cache.set(t,n)}catch{}})}get(t){return ai(this,void 0,void 0,function*(){return this.cache.get(t)})}}const xo=Da,Rc=new RegExp("^[A-Za-z0-9_-]+$","u");function Wi(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){const Z=Wi.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Wi.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Ue=0;for(const He in r)if("payload"!==He&&"signatures"!==He)return Wi.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:He},message:"must NOT have additional properties"}],!1;if(0===Ue){if(void 0!==r.payload){let He=r.payload;const Ve=0;if("string"!=typeof He)return Wi.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(He))return Wi.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var G=0===Ve}else G=!0;if(G)if(void 0!==r.signatures){let He=r.signatures;const Ve=0;if(0===Ve){if(!Array.isArray(He))return Wi.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(He.length<1)return Wi.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const pt=He.length;for(let At=0;At<pt;At++){let bt=He[At];const _t=0;if(0===_t){if(!bt||"object"!=typeof bt||Array.isArray(bt))return Wi.errors=[{instancePath:t+"/signatures/"+At,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==bt.protected){let Xt=bt.protected;const Ht=0;if("string"!=typeof Xt)return Wi.errors=[{instancePath:t+"/signatures/"+At+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(Xt))return Wi.errors=[{instancePath:t+"/signatures/"+At+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var ie=0===Ht}else ie=!0;if(ie)if(void 0!==bt.signature){let Xt=bt.signature;const Ht=0;if("string"!=typeof Xt)return Wi.errors=[{instancePath:t+"/signatures/"+At+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(Xt))return Wi.errors=[{instancePath:t+"/signatures/"+At+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;ie=0===Ht}else ie=!0}if(0!==_t)break}}}G=0===Ve}else G=!0}}return Wi.errors=null,!0}function Da(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=Da.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return Da.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const G=m;for(const k in r)if("signature"!==k)return Da.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:k},message:"must NOT have additional properties"}],!1;G===m&&void 0!==r.signature&&(Wi(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:u,dynamicAnchors:y})||(d=null===d?Wi.errors:d.concat(Wi.errors),m=d.length))}}return Da.errors=d,0===m}Wi.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Da.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Iv=jl,kp={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string",pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-owner.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},tags:{type:"object",minProperties:1,maxProperties:10,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"array",minItems:1,maxItems:10,items:{type:"string"}},{type:"array",minItems:1,maxItems:10,items:{type:"number"}}]}},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]},R1=new RegExp("^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$","u"),Yl=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u"),Tv=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u"),El=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u"),wm={validate:Ul};function yf(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=yf.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return yf.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const k=m;for(const ie in r)if("signature"!==ie&&"authorDelegatedGrant"!==ie&&"ownerSignature"!==ie&&"ownerDelegatedGrant"!==ie)return yf.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ie},message:"must NOT have additional properties"}],!1;if(k===m){let ie;if(void 0!==r.ownerSignature&&void 0===r.signature&&(ie="signature"))return yf.errors=[{instancePath:t,schemaPath:"#/dependencies",keyword:"dependencies",params:{property:"ownerSignature",missingProperty:ie,depsCount:1,deps:"signature"},message:"must have property signature when property ownerSignature is present"}],!1;if(void 0!==r.signature){const Ue=m;Wi(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:u,dynamicAnchors:y})||(d=null===d?Wi.errors:d.concat(Wi.errors),m=d.length);var G=Ue===m}else G=!0;if(G){if(void 0!==r.authorDelegatedGrant){const Ue=m;wm.validate(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:u,dynamicAnchors:y})||(d=null===d?wm.validate.errors:d.concat(wm.validate.errors),m=d.length),G=Ue===m}else G=!0;if(G){if(void 0!==r.ownerSignature){const Ue=m;Wi(r.ownerSignature,{instancePath:t+"/ownerSignature",parentData:r,parentDataProperty:"ownerSignature",rootData:u,dynamicAnchors:y})||(d=null===d?Wi.errors:d.concat(Wi.errors),m=d.length),G=Ue===m}else G=!0;if(G)if(void 0!==r.ownerDelegatedGrant){const Ue=m;wm.validate(r.ownerDelegatedGrant,{instancePath:t+"/ownerDelegatedGrant",parentData:r,parentDataProperty:"ownerDelegatedGrant",rootData:u,dynamicAnchors:y})||(d=null===d?wm.validate.errors:d.concat(wm.validate.errors),m=d.length),G=Ue===m}else G=!0}}}}}return yf.errors=d,0===m}yf.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Em={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function Us(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=Us.evaluated;Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0);const G=m,k=m;let ie=!1,Ue=null;const He=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let ar;if(void 0===r.crv&&(ar="crv")||void 0===r.x&&(ar="x")){const wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:ar},message:"must have required property '"+ar+"'"};null===d?d=[wn]:d.push(wn),m++}else{if(void 0!==r.kty){const wn=m;if("EC"!==r.kty){const Dn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===d?d=[Dn]:d.push(Dn),m++}var Ve=wn===m}else Ve=!0;if(Ve){if(void 0!==r.crv){const wn=m;if("string"!=typeof r.crv){const Rn={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Rn]:d.push(Rn),m++}Ve=wn===m}else Ve=!0;if(Ve){if(void 0!==r.x){const wn=m;if("string"!=typeof r.x){const Rn={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Rn]:d.push(Rn),m++}Ve=wn===m}else Ve=!0;if(Ve){if(void 0!==r.y){const wn=m;if("string"!=typeof r.y){const Rn={instancePath:t+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Rn]:d.push(Rn),m++}Ve=wn===m}else Ve=!0;if(Ve)if(void 0!==r.d){const wn=m;if("string"!=typeof r.d){const Rn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Rn]:d.push(Rn),m++}Ve=wn===m}else Ve=!0}}}}}if(bt=He===m){ie=!0,Ue=0;var qe={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const pt=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let ar;if(void 0===r.crv&&(ar="crv")||void 0===r.x&&(ar="x")){const wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:ar},message:"must have required property '"+ar+"'"};null===d?d=[wn]:d.push(wn),m++}else{if(void 0!==r.kty){const wn=m;if("OKP"!==r.kty){const Dn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===d?d=[Dn]:d.push(Dn),m++}var At=wn===m}else At=!0;if(At){if(void 0!==r.crv){const wn=m;if("string"!=typeof r.crv){const Rn={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Rn]:d.push(Rn),m++}At=wn===m}else At=!0;if(At){if(void 0!==r.x){const wn=m;if("string"!=typeof r.x){const Rn={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Rn]:d.push(Rn),m++}At=wn===m}else At=!0;if(At)if(void 0!==r.d){const wn=m;if("string"!=typeof r.d){const Rn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Rn]:d.push(Rn),m++}At=wn===m}else At=!0}}}}if((bt=pt===m)&&ie)ie=!1,Ue=[Ue,1];else{bt&&(ie=!0,Ue=1,!0!==qe&&((qe=qe||{}).kty=!0,qe.crv=!0,qe.x=!0,qe.d=!0));const ar=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Dn;if(void 0===r.n&&(Dn="n")||void 0===r.e&&(Dn="e")){const Rn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:Dn},message:"must have required property '"+Dn+"'"};null===d?d=[Rn]:d.push(Rn),m++}else{if(void 0!==r.kty){const Rn=m;if("RSA"!==r.kty){const Jn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===d?d=[Jn]:d.push(Jn),m++}var _t=Rn===m}else _t=!0;if(_t){if(void 0!==r.n){const Rn=m;if("string"!=typeof r.n){const Un={instancePath:t+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Un]:d.push(Un),m++}_t=Rn===m}else _t=!0;if(_t){if(void 0!==r.e){const Rn=m;if("string"!=typeof r.e){const Un={instancePath:t+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Un]:d.push(Un),m++}_t=Rn===m}else _t=!0;if(_t){if(void 0!==r.d){const Rn=m;if("string"!=typeof r.d){const Un={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Un]:d.push(Un),m++}_t=Rn===m}else _t=!0;if(_t){if(void 0!==r.p){const Rn=m;if("string"!=typeof r.p){const Un={instancePath:t+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Un]:d.push(Un),m++}_t=Rn===m}else _t=!0;if(_t){if(void 0!==r.q){const Rn=m;if("string"!=typeof r.q){const Un={instancePath:t+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Un]:d.push(Un),m++}_t=Rn===m}else _t=!0;if(_t){if(void 0!==r.dp){const Rn=m;if("string"!=typeof r.dp){const Un={instancePath:t+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Un]:d.push(Un),m++}_t=Rn===m}else _t=!0;if(_t){if(void 0!==r.dq){const Rn=m;if("string"!=typeof r.dq){const Un={instancePath:t+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Un]:d.push(Un),m++}_t=Rn===m}else _t=!0;if(_t){if(void 0!==r.qi){const Rn=m;if("string"!=typeof r.qi){const Un={instancePath:t+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Un]:d.push(Un),m++}_t=Rn===m}else _t=!0;if(_t)if(void 0!==r.oth){let Rn=r.oth;const Jn=m;if(!Rn||"object"!=typeof Rn||Array.isArray(Rn)){const or={instancePath:t+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[or]:d.push(or),m++}_t=Jn===m}else _t=!0}}}}}}}}}}if((bt=ar===m)&&ie)ie=!1,Ue=[Ue,2];else{bt&&(ie=!0,Ue=2,!0!==qe&&((qe=qe||{}).kty=!0,qe.n=!0,qe.e=!0,qe.d=!0,qe.p=!0,qe.q=!0,qe.dp=!0,qe.dq=!0,qe.qi=!0,qe.oth=!0));const Dn=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Jn;if(void 0===r.k&&(Jn="k")){const Un={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:Jn},message:"must have required property '"+Jn+"'"};null===d?d=[Un]:d.push(Un),m++}else{if(void 0!==r.kty){const Un=m;if("oct"!==r.kty){const or={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===d?d=[or]:d.push(or),m++}var Ft=Un===m}else Ft=!0;if(Ft)if(void 0!==r.k){const Un=m;if("string"!=typeof r.k){const Mr={instancePath:t+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Mr]:d.push(Mr),m++}Ft=Un===m}else Ft=!0}}var bt;(bt=Dn===m)&&ie?(ie=!1,Ue=[Ue,3]):bt&&(ie=!0,Ue=3,!0!==qe&&((qe=qe||{}).kty=!0,qe.k=!0))}}if(!ie){const ar={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:Ue},message:"must match exactly one schema in oneOf"};return null===d?d=[ar]:d.push(ar),m++,Us.errors=d,!1}if(m=k,null!==d&&(k?d.length=k:d=null),m===G){if(!r||"object"!=typeof r||Array.isArray(r))return Us.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ar;if(void 0===r.kty&&(ar="kty"))return Us.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:ar},message:"must have required property '"+ar+"'"}],!1;if(!0!==qe&&((qe=qe||{}).alg=!0,qe.kid=!0,qe.kty=!0,qe.crv=!0,qe.use=!0,qe.key_ops=!0,qe.x5u=!0,qe.x5c=!0,qe.x5t=!0,qe["x5t#S256"]=!0),void 0!==r.alg){const wn=m;if("string"!=typeof r.alg)return Us.errors=[{instancePath:t+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Xt=wn===m}else Xt=!0;if(Xt){if(void 0!==r.kid){const wn=m;if("string"!=typeof r.kid)return Us.errors=[{instancePath:t+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xt=wn===m}else Xt=!0;if(Xt){if(void 0!==r.kty){let wn=r.kty;const Dn=m;if("EC"!==wn&&"RSA"!==wn&&"oct"!==wn&&"OKP"!==wn)return Us.errors=[{instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:Em.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;Xt=Dn===m}else Xt=!0;if(Xt){if(void 0!==r.crv){const wn=m;if("string"!=typeof r.crv)return Us.errors=[{instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xt=wn===m}else Xt=!0;if(Xt){if(void 0!==r.use){const wn=m;if("string"!=typeof r.use)return Us.errors=[{instancePath:t+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xt=wn===m}else Xt=!0;if(Xt){if(void 0!==r.key_ops){const wn=m;if("string"!=typeof r.key_ops)return Us.errors=[{instancePath:t+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xt=wn===m}else Xt=!0;if(Xt){if(void 0!==r.x5u){const wn=m;if("string"!=typeof r.x5u)return Us.errors=[{instancePath:t+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xt=wn===m}else Xt=!0;if(Xt){if(void 0!==r.x5c){const wn=m;if("string"!=typeof r.x5c)return Us.errors=[{instancePath:t+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xt=wn===m}else Xt=!0;if(Xt){if(void 0!==r.x5t){const wn=m;if("string"!=typeof r.x5t)return Us.errors=[{instancePath:t+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xt=wn===m}else Xt=!0;if(Xt)if(void 0!==r["x5t#S256"]){const wn=m;if("string"!=typeof r["x5t#S256"])return Us.errors=[{instancePath:t+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xt=wn===m}else Xt=!0}}}}}}}}}}if(G===m){const ar=m,wn=m,Dn=m;let Rn=!1;const Jn=m,Un=m;let or=!1;const Mr=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.d&&(Pr="d")){const fo={};null===d?d=[fo]:d.push(fo),m++}}if(or=or||Mr===m,or)m=Un,null!==d&&(Un?d.length=Un:d=null);else{const Pr={};null===d?d=[Pr]:d.push(Pr),m++}if(m===Jn)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"EC"!==r.kty){const Pr={};null===d?d=[Pr]:d.push(Pr),m++}}else{const Pr={};null===d?d=[Pr]:d.push(Pr),m++}var _r=Jn===m;if(Rn=Rn||_r,_r)var ln={kty:!0};const Sr=m,Tn=m;let Ir=!1;const Kr=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.d&&(Pr="d")){const fo={};null===d?d=[fo]:d.push(fo),m++}}if(Ir=Ir||Kr===m,Ir)m=Tn,null!==d&&(Tn?d.length=Tn:d=null);else{const Pr={};null===d?d=[Pr]:d.push(Pr),m++}if(m===Sr)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"OKP"!==r.kty){const Pr={};null===d?d=[Pr]:d.push(Pr),m++}}else{const Pr={};null===d?d=[Pr]:d.push(Pr),m++}_r=Sr===m,Rn=Rn||_r,_r&&!0!==ln&&((ln=ln||{}).kty=!0);const dr=m,Wn=m;let mr=!1;const Or=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.d&&(Pr="d")){const fo={};null===d?d=[fo]:d.push(fo),m++}}var Vn=Or===m;mr=mr||Vn;const Yr=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.p&&(Pr="p")){const fo={};null===d?d=[fo]:d.push(fo),m++}}Vn=Yr===m,mr=mr||Vn;const ei=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.q&&(Pr="q")){const fo={};null===d?d=[fo]:d.push(fo),m++}}Vn=ei===m,mr=mr||Vn;const zr=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.dp&&(Pr="dp")){const fo={};null===d?d=[fo]:d.push(fo),m++}}Vn=zr===m,mr=mr||Vn;const Xr=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.dq&&(Pr="dq")){const fo={};null===d?d=[fo]:d.push(fo),m++}}Vn=Xr===m,mr=mr||Vn;const Vi=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.qi&&(Pr="qi")){const fo={};null===d?d=[fo]:d.push(fo),m++}}Vn=Vi===m,mr=mr||Vn;const ec=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Pr;if(void 0===r.oth&&(Pr="oth")){const fo={};null===d?d=[fo]:d.push(fo),m++}}if(Vn=ec===m,mr=mr||Vn,mr)m=Wn,null!==d&&(Wn?d.length=Wn:d=null);else{const Pr={};null===d?d=[Pr]:d.push(Pr),m++}if(m===dr)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty){const Pr=m;if("RSA"!==r.kty){const fo={};null===d?d=[fo]:d.push(fo),m++}var Zn=Pr===m}else Zn=!0;if(Zn)if(void 0!==r.oth){let Pr=r.oth;const fo=m;if(!Pr||"object"!=typeof Pr||Array.isArray(Pr)){const Yi={};null===d?d=[Yi]:d.push(Yi),m++}Zn=fo===m}else Zn=!0}else{const Pr={};null===d?d=[Pr]:d.push(Pr),m++}if(_r=dr===m,Rn=Rn||_r,_r&&!0!==ln&&((ln=ln||{}).kty=!0,ln.d=!0,ln.p=!0,ln.q=!0,ln.dp=!0,ln.dq=!0,ln.qi=!0,ln.oth=!0),Rn)m=Dn,null!==d&&(Dn?d.length=Dn:d=null);else{const Pr={};null===d?d=[Pr]:d.push(Pr),m++}if(wn===m)return Us.errors=[{instancePath:t,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;m=ar,null!==d&&(ar?d.length=ar:d=null)}return Us.errors=d,Z.props=qe,0===m}Us.evaluated={dynamicProps:!0,dynamicItems:!1};const N2=Object.prototype.hasOwnProperty;function Ai(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=Ai.evaluated;Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0);const G=m;let k=!1;const ie=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Sr;if(void 0===r.contextId&&(Sr="contextId")){const Tn={instancePath:t,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:Sr},message:"must have required property '"+Sr+"'"};null===d?d=[Tn]:d.push(Tn),m++}else if(void 0!==r.descriptor){let Tn=r.descriptor;if(m==m)if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn)){let Kr;if(void 0===Tn.protocol&&(Kr="protocol")||void 0===Tn.protocolPath&&(Kr="protocolPath")){const dr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:Kr},message:"must have required property '"+Kr+"'"};null===d?d=[dr]:d.push(dr),m++}}else{const Kr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[Kr]:d.push(Kr),m++}}}var Xt=ie===m;if(k=k||Xt,Xt)var Ue={descriptor:!0};const He=m,Ve=m,qe=m,pt=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Sr;if(void 0===r.contextId&&(Sr="contextId")){const Tn={};null===d?d=[Tn]:d.push(Tn),m++}}if(pt===m){const Sr={instancePath:t,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===d?d=[Sr]:d.push(Sr),m++}else m=qe,null!==d&&(qe?d.length=qe:d=null);if(Ve===m){const Sr=m;if(r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let Ir=r.descriptor;if(!Ir||"object"!=typeof Ir||Array.isArray(Ir)){const Wn={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[Wn]:d.push(Wn),m++}const Kr=m,dr=m;if(Ir&&"object"==typeof Ir&&!Array.isArray(Ir)){let Wn;if(void 0===Ir.protocol&&(Wn="protocol")){const mr={};null===d?d=[mr]:d.push(mr),m++}}if(dr===m){const Wn={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===d?d=[Wn]:d.push(Wn),m++}else m=Kr,null!==d&&(Kr?d.length=Kr:d=null)}if(Sr===m&&r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let dr=r.descriptor;if(!dr||"object"!=typeof dr||Array.isArray(dr)){const Or={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[Or]:d.push(Or),m++}const Wn=m,mr=m;if(dr&&"object"==typeof dr&&!Array.isArray(dr)){let Or;if(void 0===dr.protocolPath&&(Or="protocolPath")){const Yr={};null===d?d=[Yr]:d.push(Yr),m++}}if(mr===m){const Or={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===d?d=[Or]:d.push(Or),m++}else m=Wn,null!==d&&(Wn?d.length=Wn:d=null)}}if(Xt=He===m,k=k||Xt,Xt&&!0!==Ue&&((Ue=Ue||{}).descriptor=!0),!k){const Sr={instancePath:t,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===d?d=[Sr]:d.push(Sr),m++,Ai.errors=d,!1}if(m=G,null!==d&&(G?d.length=G:d=null),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return Ai.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Sr;if(void 0===r.descriptor&&(Sr="descriptor"))return Ai.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Sr},message:"must have required property '"+Sr+"'"}],!1;if(!0!==Ue&&((Ue=Ue||{}).recordId=!0,Ue.contextId=!0,Ue.attestation=!0,Ue.authorization=!0,Ue.encryption=!0,Ue.descriptor=!0),void 0!==r.recordId){const Tn=m;if("string"!=typeof r.recordId)return Ai.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ht=Tn===m}else Ht=!0;if(Ht){if(void 0!==r.contextId){let Tn=r.contextId;const Ir=m;if(m===Ir){if("string"!=typeof Tn)return Ai.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!R1.test(Tn))return Ai.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},message:'must match pattern "^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"'}],!1}Ht=Ir===m}else Ht=!0;if(Ht){if(void 0!==r.attestation){const Tn=m;Wi(r.attestation,{instancePath:t+"/attestation",parentData:r,parentDataProperty:"attestation",rootData:u,dynamicAnchors:y})||(d=null===d?Wi.errors:d.concat(Wi.errors),m=d.length),Ht=Tn===m}else Ht=!0;if(Ht){if(void 0!==r.authorization){const Tn=m;yf(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:y})||(d=null===d?yf.errors:d.concat(yf.errors),m=d.length),Ht=Tn===m}else Ht=!0;if(Ht){if(void 0!==r.encryption){let Tn=r.encryption;const Ir=m;if(m===Ir){if(!Tn||"object"!=typeof Tn||Array.isArray(Tn))return Ai.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let dr;if(void 0===Tn.algorithm&&(dr="algorithm")||void 0===Tn.initializationVector&&(dr="initializationVector")||void 0===Tn.keyEncryption&&(dr="keyEncryption"))return Ai.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:dr},message:"must have required property '"+dr+"'"}],!1;{const Wn=m;for(const mr in Tn)if("algorithm"!==mr&&"initializationVector"!==mr&&"keyEncryption"!==mr)return Ai.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:mr},message:"must NOT have additional properties"}],!1;if(Wn===m){if(void 0!==Tn.algorithm){let mr=Tn.algorithm;const Or=m;if("string"!=typeof mr)return Ai.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("A256CTR"!==mr)return Ai.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:kp.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var on=Or===m}else on=!0;if(on){if(void 0!==Tn.initializationVector){let mr=Tn.initializationVector;const Or=m;if(m==m){if("string"!=typeof mr)return Ai.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(mr))return Ai.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}on=Or===m}else on=!0;if(on)if(void 0!==Tn.keyEncryption){let mr=Tn.keyEncryption;const Or=m;if(m===Or){if(!Array.isArray(mr))return Ai.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(mr.length<1)return Ai.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const ei=mr.length;for(let zr=0;zr<ei;zr++){let Xr=mr[zr];const Vi=m;if(m===Vi){if(!Xr||"object"!=typeof Xr||Array.isArray(Xr))return Ai.errors=[{instancePath:t+"/encryption/keyEncryption/"+zr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Pr;if(void 0===Xr.rootKeyId&&(Pr="rootKeyId")||void 0===Xr.derivationScheme&&(Pr="derivationScheme")||void 0===Xr.algorithm&&(Pr="algorithm")||void 0===Xr.encryptedKey&&(Pr="encryptedKey")||void 0===Xr.initializationVector&&(Pr="initializationVector")||void 0===Xr.ephemeralPublicKey&&(Pr="ephemeralPublicKey")||void 0===Xr.messageAuthenticationCode&&(Pr="messageAuthenticationCode"))return Ai.errors=[{instancePath:t+"/encryption/keyEncryption/"+zr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:Pr},message:"must have required property '"+Pr+"'"}],!1;{const fo=m;for(const mo in Xr)if("rootKeyId"!==mo&&"derivationScheme"!==mo&&"derivedPublicKey"!==mo&&"algorithm"!==mo&&"encryptedKey"!==mo&&"initializationVector"!==mo&&"ephemeralPublicKey"!==mo&&"messageAuthenticationCode"!==mo)return Ai.errors=[{instancePath:t+"/encryption/keyEncryption/"+zr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:mo},message:"must NOT have additional properties"}],!1;if(fo===m){if(void 0!==Xr.rootKeyId){const mo=m;if("string"!=typeof Xr.rootKeyId)return Ai.errors=[{instancePath:t+"/encryption/keyEncryption/"+zr+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ln=mo===m}else Ln=!0;if(Ln){if(void 0!==Xr.derivationScheme){let mo=Xr.derivationScheme;const Yi=m;if("string"!=typeof mo)return Ai.errors=[{instancePath:t+"/encryption/keyEncryption/"+zr+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dataFormats"!==mo&&"protocolContext"!==mo&&"protocolPath"!==mo&&"schemas"!==mo)return Ai.errors=[{instancePath:t+"/encryption/keyEncryption/"+zr+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:kp.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;Ln=Yi===m}else Ln=!0;if(Ln){if(void 0!==Xr.derivedPublicKey){const mo=m;Us(Xr.derivedPublicKey,{instancePath:t+"/encryption/keyEncryption/"+zr+"/derivedPublicKey",parentData:Xr,parentDataProperty:"derivedPublicKey",rootData:u,dynamicAnchors:y})||(d=null===d?Us.errors:d.concat(Us.errors),m=d.length),Ln=mo===m}else Ln=!0;if(Ln){if(void 0!==Xr.algorithm){let mo=Xr.algorithm;const Yi=m;if("string"!=typeof mo)return Ai.errors=[{instancePath:t+"/encryption/keyEncryption/"+zr+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("ECIES-ES256K"!==mo)return Ai.errors=[{instancePath:t+"/encryption/keyEncryption/"+zr+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:kp.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;Ln=Yi===m}else Ln=!0;if(Ln){if(void 0!==Xr.encryptedKey){let mo=Xr.encryptedKey;const Yi=m;if(m==m){if("string"!=typeof mo)return Ai.errors=[{instancePath:t+"/encryption/keyEncryption/"+zr+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(mo))return Ai.errors=[{instancePath:t+"/encryption/keyEncryption/"+zr+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}Ln=Yi===m}else Ln=!0;if(Ln){if(void 0!==Xr.initializationVector){let mo=Xr.initializationVector;const Yi=m;if(m==m){if("string"!=typeof mo)return Ai.errors=[{instancePath:t+"/encryption/keyEncryption/"+zr+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(mo))return Ai.errors=[{instancePath:t+"/encryption/keyEncryption/"+zr+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}Ln=Yi===m}else Ln=!0;if(Ln){if(void 0!==Xr.ephemeralPublicKey){const mo=m;Us(Xr.ephemeralPublicKey,{instancePath:t+"/encryption/keyEncryption/"+zr+"/ephemeralPublicKey",parentData:Xr,parentDataProperty:"ephemeralPublicKey",rootData:u,dynamicAnchors:y})||(d=null===d?Us.errors:d.concat(Us.errors),m=d.length),Ln=mo===m}else Ln=!0;if(Ln)if(void 0!==Xr.messageAuthenticationCode){let mo=Xr.messageAuthenticationCode;const Yi=m;if(m==m){if("string"!=typeof mo)return Ai.errors=[{instancePath:t+"/encryption/keyEncryption/"+zr+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Rc.test(mo))return Ai.errors=[{instancePath:t+"/encryption/keyEncryption/"+zr+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}Ln=Yi===m}else Ln=!0}}}}}}}}}}if(Vi!==m)break}}}on=Or===m}else on=!0}}}}}Ht=Ir===m}else Ht=!0;if(Ht)if(void 0!==r.descriptor){let Tn=r.descriptor;const Ir=m,Kr=m;let dr=!1;const Wn=m;if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn)){let Pr;if(void 0===Tn.published&&(Pr="published")||void 0===Tn.datePublished&&(Pr="datePublished")){const fo={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:Pr},message:"must have required property '"+Pr+"'"};null===d?d=[fo]:d.push(fo),m++}else if(void 0!==Tn.published){let fo=Tn.published;if("boolean"!=typeof fo){const mo={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===d?d=[mo]:d.push(mo),m++}if(!0!==fo){const mo={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:kp.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===d?d=[mo]:d.push(mo),m++}}}var wn=Wn===m;if(dr=dr||wn,wn)var Vn={published:!0};const mr=m,Or=m,Yr=m;if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn)){let Pr;if(void 0===Tn.datePublished&&(Pr="datePublished")){const fo={};null===d?d=[fo]:d.push(fo),m++}}if(Yr===m){const Pr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===d?d=[Pr]:d.push(Pr),m++}else m=Or,null!==d&&(Or?d.length=Or:d=null);if(m===mr&&Tn&&"object"==typeof Tn&&!Array.isArray(Tn)&&void 0!==Tn.published){let Pr=Tn.published;if("boolean"!=typeof Pr){const fo={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===d?d=[fo]:d.push(fo),m++}if(!1!==Pr){const fo={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:kp.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};null===d?d=[fo]:d.push(fo),m++}}wn=mr===m,dr=dr||wn,wn&&!0!==Vn&&((Vn=Vn||{}).published=!0);const ei=m,zr=m,Xr=m,Vi=m;if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn)){let Pr;if(void 0===Tn.published&&(Pr="published")){const fo={};null===d?d=[fo]:d.push(fo),m++}}if(Vi===m){const Pr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===d?d=[Pr]:d.push(Pr),m++}else m=Xr,null!==d&&(Xr?d.length=Xr:d=null);if(zr===m){const fo=m,mo=m;if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn)){let La;if(void 0===Tn.datePublished&&(La="datePublished")){const Fu={};null===d?d=[Fu]:d.push(Fu),m++}}if(mo===m){const La={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===d?d=[La]:d.push(La),m++}else m=fo,null!==d&&(fo?d.length=fo:d=null)}if(wn=ei===m,dr=dr||wn,!dr){const Pr={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===d?d=[Pr]:d.push(Pr),m++,Ai.errors=d,!1}if(m=Kr,null!==d&&(Kr?d.length=Kr:d=null),m===Ir){if(!Tn||"object"!=typeof Tn||Array.isArray(Tn))return Ai.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Pr;if(void 0===Tn.interface&&(Pr="interface")||void 0===Tn.method&&(Pr="method")||void 0===Tn.dataCid&&(Pr="dataCid")||void 0===Tn.dataSize&&(Pr="dataSize")||void 0===Tn.dateCreated&&(Pr="dateCreated")||void 0===Tn.messageTimestamp&&(Pr="messageTimestamp")||void 0===Tn.dataFormat&&(Pr="dataFormat"))return Ai.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Pr},message:"must have required property '"+Pr+"'"}],!1;{const fo=m;for(const mo in Tn)if(!N2.call(kp.properties.descriptor.properties,mo))return Ai.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:mo},message:"must NOT have additional properties"}],!1;if(fo===m){let mo;if(void 0!==Tn.parentId&&void 0===Tn.protocol&&(mo="protocol"))return Ai.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:mo,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(void 0!==Tn.interface){let Yi=Tn.interface;const La=m;if("string"!=typeof Yi)return Ai.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Yi)return Ai.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:kp.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var Dn=La===m}else Dn=!0;if(Dn){if(void 0!==Tn.method){let Yi=Tn.method;const La=m;if("string"!=typeof Yi)return Ai.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Write"!==Yi)return Ai.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:kp.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;Dn=La===m}else Dn=!0;if(Dn){if(void 0!==Tn.recipient){let Yi=Tn.recipient;const La=m;if(m==m){if("string"!=typeof Yi)return Ai.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Yl.test(Yi))return Ai.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Dn=La===m}else Dn=!0;if(Dn){if(void 0!==Tn.protocol){const Yi=m;if("string"!=typeof Tn.protocol)return Ai.errors=[{instancePath:t+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Dn=Yi===m}else Dn=!0;if(Dn){if(void 0!==Tn.protocolPath){let Yi=Tn.protocolPath;const La=m;if(m===La){if("string"!=typeof Yi)return Ai.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Tv.test(Yi))return Ai.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}Dn=La===m}else Dn=!0;if(Dn){if(void 0!==Tn.schema){const Yi=m;if("string"!=typeof Tn.schema)return Ai.errors=[{instancePath:t+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Dn=Yi===m}else Dn=!0;if(Dn){if(void 0!==Tn.tags){let Yi=Tn.tags;const La=m;if(m===La){if(!Yi||"object"!=typeof Yi||Array.isArray(Yi))return Ai.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Yi).length>10)return Ai.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/maxProperties",keyword:"maxProperties",params:{limit:10},message:"must NOT have more than 10 properties"}],!1;if(Object.keys(Yi).length<1)return Ai.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const Zs in Yi){let Ys=Yi[Zs];const tc=m,sa=m;let ao=!1,aa=null;const Uu=m;if("string"!=typeof Ys){const yd={instancePath:t+"/descriptor/tags/"+Zs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[yd]:d.push(yd),m++}(Rn=Uu===m)&&(ao=!0,aa=0);const Hl=m;if("number"!=typeof Ys||!isFinite(Ys)){const yd={instancePath:t+"/descriptor/tags/"+Zs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===d?d=[yd]:d.push(yd),m++}if((Rn=Hl===m)&&ao)ao=!1,aa=[aa,1];else{Rn&&(ao=!0,aa=1);const yd=m;if("boolean"!=typeof Ys){const B2={instancePath:t+"/descriptor/tags/"+Zs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===d?d=[B2]:d.push(B2),m++}if((Rn=yd===m)&&ao)ao=!1,aa=[aa,2];else{Rn&&(ao=!0,aa=2);const B2=m;if(m===B2)if(Array.isArray(Ys))if(Ys.length>10){const Tp={instancePath:t+"/descriptor/tags/"+Zs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===d?d=[Tp]:d.push(Tp),m++}else if(Ys.length<1){const Tp={instancePath:t+"/descriptor/tags/"+Zs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===d?d=[Tp]:d.push(Tp),m++}else{const Tp=Ys.length;for(let C4=0;C4<Tp;C4++){const w0=m;if("string"!=typeof Ys[C4]){const BI={instancePath:t+"/descriptor/tags/"+Zs.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+C4,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[BI]:d.push(BI),m++}if(w0!==m)break}}else{const Tp={instancePath:t+"/descriptor/tags/"+Zs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"array"},message:"must be array"};null===d?d=[Tp]:d.push(Tp),m++}if((Rn=B2===m)&&ao)ao=!1,aa=[aa,3];else{if(Rn){ao=!0,aa=3;var Un=!0}const Tp=m;if(m===Tp)if(Array.isArray(Ys))if(Ys.length>10){const w0={instancePath:t+"/descriptor/tags/"+Zs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===d?d=[w0]:d.push(w0),m++}else if(Ys.length<1){const w0={instancePath:t+"/descriptor/tags/"+Zs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===d?d=[w0]:d.push(w0),m++}else{const w0=Ys.length;for(let M4=0;M4<w0;M4++){let BI=Ys[M4];const $U=m;if("number"!=typeof BI||!isFinite(BI)){const V9={instancePath:t+"/descriptor/tags/"+Zs.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+M4,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/items/type",keyword:"type",params:{type:"number"},message:"must be number"};null===d?d=[V9]:d.push(V9),m++}if($U!==m)break}}else{const w0={instancePath:t+"/descriptor/tags/"+Zs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/type",keyword:"type",params:{type:"array"},message:"must be array"};null===d?d=[w0]:d.push(w0),m++}var Rn;(Rn=Tp===m)&&ao?(ao=!1,aa=[aa,4]):Rn&&(ao=!0,aa=4,!0!==Un&&(Un=!0))}}}if(!ao){const yd={instancePath:t+"/descriptor/tags/"+Zs.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:aa},message:"must match exactly one schema in oneOf"};return null===d?d=[yd]:d.push(yd),m++,Ai.errors=d,!1}if(m=sa,null!==d&&(sa?d.length=sa:d=null),tc!==m)break}}Dn=La===m}else Dn=!0;if(Dn){if(void 0!==Tn.parentId){const Yi=m;if("string"!=typeof Tn.parentId)return Ai.errors=[{instancePath:t+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Dn=Yi===m}else Dn=!0;if(Dn){if(void 0!==Tn.dataCid){const Yi=m;if("string"!=typeof Tn.dataCid)return Ai.errors=[{instancePath:t+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Dn=Yi===m}else Dn=!0;if(Dn){if(void 0!==Tn.dataSize){let Yi=Tn.dataSize;const La=m;if("number"!=typeof Yi||!isFinite(Yi))return Ai.errors=[{instancePath:t+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Dn=La===m}else Dn=!0;if(Dn){if(void 0!==Tn.dateCreated){let Yi=Tn.dateCreated;const La=m;if(m==m){if("string"!=typeof Yi)return Ai.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(Yi))return Ai.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Dn=La===m}else Dn=!0;if(Dn){if(void 0!==Tn.messageTimestamp){let Yi=Tn.messageTimestamp;const La=m;if(m==m){if("string"!=typeof Yi)return Ai.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(Yi))return Ai.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Dn=La===m}else Dn=!0;if(Dn){if(void 0!==Tn.published){const Yi=m;if("boolean"!=typeof Tn.published)return Ai.errors=[{instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Dn=Yi===m}else Dn=!0;if(Dn){if(void 0!==Tn.datePublished){let Yi=Tn.datePublished;const La=m;if(m==m){if("string"!=typeof Yi)return Ai.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(Yi))return Ai.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Dn=La===m}else Dn=!0;if(Dn)if(void 0!==Tn.dataFormat){const Yi=m;if("string"!=typeof Tn.dataFormat)return Ai.errors=[{instancePath:t+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Dn=Yi===m}else Dn=!0}}}}}}}}}}}}}}}}}Ht=Ir===m}else Ht=!0}}}}}}return Ai.errors=d,Z.props=Ue,0===m}function Ul(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=Ul.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),Ai(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:u,dynamicAnchors:y}))var G=Ai.evaluated.props;else d=null===d?Ai.errors:d.concat(Ai.errors),m=d.length;if(0===m){if(!r||"object"!=typeof r||Array.isArray(r))return Ul.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ie;if(void 0===r.recordId&&(ie="recordId")||void 0===r.authorization&&(ie="authorization")||void 0===r.encodedData&&(ie="encodedData"))return Ul.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:ie},message:"must have required property '"+ie+"'"}],!1;if(!0!==G&&((G=G||{}).encodedData=!0),void 0!==r.encodedData){const Ue=m;if("string"!=typeof r.encodedData)return Ul.errors=[{instancePath:t+"/encodedData",schemaPath:"#/properties/encodedData/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=Ue===m}else k=!0;if(k&&!0!==G)for(const Ue in r)if(!G||!G[Ue])return Ul.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:Ue},message:"must NOT have unevaluated properties"}],!1}}return Ul.errors=d,0===m}function jl(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=jl.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return jl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const k=m;for(const ie in r)if("signature"!==ie&&"authorDelegatedGrant"!==ie)return jl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ie},message:"must NOT have additional properties"}],!1;if(k===m){if(void 0!==r.signature){const ie=m;Wi(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:u,dynamicAnchors:y})||(d=null===d?Wi.errors:d.concat(Wi.errors),m=d.length);var G=ie===m}else G=!0;if(G)if(void 0!==r.authorDelegatedGrant){const ie=m;Ul(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:u,dynamicAnchors:y})||(d=null===d?Ul.errors:d.concat(Ul.errors),m=d.length),G=ie===m}else G=!0}}}return jl.errors=d,0===m}Ai.evaluated={dynamicProps:!0,dynamicItems:!1},Ul.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},jl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Dv=yf,Rv=na,Ku={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId","prune"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},recordId:{type:"string"},prune:{type:"boolean"}}}}};function na(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=na.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return na.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ie;if(void 0===r.authorization&&(ie="authorization")||void 0===r.descriptor&&(ie="descriptor"))return na.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:ie},message:"must have required property '"+ie+"'"}],!1;{const Ue=m;for(const He in r)if("authorization"!==He&&"descriptor"!==He)return na.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:He},message:"must NOT have additional properties"}],!1;if(Ue===m){if(void 0!==r.authorization){const He=m;jl(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:y})||(d=null===d?jl.errors:d.concat(jl.errors),m=d.length);var G=He===m}else G=!0;if(G)if(void 0!==r.descriptor){let He=r.descriptor;const Ve=m;if(m===Ve){if(!He||"object"!=typeof He||Array.isArray(He))return na.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let pt;if(void 0===He.interface&&(pt="interface")||void 0===He.method&&(pt="method")||void 0===He.messageTimestamp&&(pt="messageTimestamp")||void 0===He.recordId&&(pt="recordId")||void 0===He.prune&&(pt="prune"))return na.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:pt},message:"must have required property '"+pt+"'"}],!1;{const At=m;for(const bt in He)if("interface"!==bt&&"method"!==bt&&"messageTimestamp"!==bt&&"recordId"!==bt&&"prune"!==bt)return na.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:bt},message:"must NOT have additional properties"}],!1;if(At===m){if(void 0!==He.interface){let bt=He.interface;const _t=m;if("string"!=typeof bt)return na.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==bt)return na.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Ku.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=_t===m}else k=!0;if(k){if(void 0!==He.method){let bt=He.method;const _t=m;if("string"!=typeof bt)return na.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Delete"!==bt)return na.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Ku.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=_t===m}else k=!0;if(k){if(void 0!==He.messageTimestamp){let bt=He.messageTimestamp;const _t=m;if(m==m){if("string"!=typeof bt)return na.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(bt))return na.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=_t===m}else k=!0;if(k){if(void 0!==He.recordId){const bt=m;if("string"!=typeof He.recordId)return na.errors=[{instancePath:t+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;k=bt===m}else k=!0;if(k)if(void 0!==He.prune){const bt=m;if("boolean"!=typeof He.prune)return na.errors=[{instancePath:t+"/descriptor/prune",schemaPath:"#/properties/descriptor/properties/prune/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;k=bt===m}else k=!0}}}}}}}G=Ve===m}else G=!0}}}}return na.errors=d,0===m}na.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const O1=Ra,P1={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"},pagination:{type:"object",additionalProperties:!1,properties:{limit:{type:"number",minimum:1},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},k1={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json",type:"object",minProperties:1,additionalProperties:!1,required:["messageCid","value"],properties:{messageCid:{type:"string"},value:{type:["string","number"]}}},B1={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-filter.json",type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},author:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},contextId:{type:"string"},schema:{type:"string"},tags:{type:"object",minProperties:1,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"object",minProperties:1,additionalProperties:!1,properties:{startsWith:{type:"string"}}},{$ref:"https://identity.foundation/dwn/json-schemas/string-range-filter.json"},{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"}]}},recordId:{type:"string"},parentId:{type:"string"},published:{type:"boolean"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dataCid:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function Pi(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=Pi.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return Pi.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Pi.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Sr=m;for(const Tn in r)if(!N2.call(B1.properties,Tn))return Pi.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Tn},message:"must NOT have additional properties"}],!1;if(Sr===m){if(void 0!==r.datePublished){const Tn=m,Ir=m;let Kr=!1,dr=null;const Wn=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let ei;if(void 0===r.published&&(ei="published")){const zr={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:ei},message:"must have required property '"+ei+"'"};null===d?d=[zr]:d.push(zr),m++}else if(void 0!==r.published&&!0!==r.published){const zr={instancePath:t+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:B1.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===d?d=[zr]:d.push(zr),m++}}Wn===m&&(Kr=!0,dr=0);const mr=m,Or=m,Yr=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let ei;if(void 0===r.published&&(ei="published")){const zr={};null===d?d=[zr]:d.push(zr),m++}}var ie;if(Yr===m){const ei={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===d?d=[ei]:d.push(ei),m++}else m=Or,null!==d&&(Or?d.length=Or:d=null);if((ie=mr===m)&&Kr?(Kr=!1,dr=[dr,1]):ie&&(Kr=!0,dr=1),!Kr){const ei={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:dr},message:"must match exactly one schema in oneOf"};return null===d?d=[ei]:d.push(ei),m++,Pi.errors=d,!1}m=Ir,null!==d&&(Ir?d.length=Ir:d=null);var Ue=Tn===m}else Ue=!0;if(Ue){if(void 0!==r.protocol){const Tn=m;if("string"!=typeof r.protocol)return Pi.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var He=Tn===m}else He=!0;if(He){if(void 0!==r.protocolPath){const Tn=m;if("string"!=typeof r.protocolPath)return Pi.errors=[{instancePath:t+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;He=Tn===m}else He=!0;if(He){if(void 0!==r.author){let Tn=r.author;const Ir=m;if(m==m){if("string"!=typeof Tn)return Pi.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Yl.test(Tn))return Pi.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}He=Ir===m}else He=!0;if(He){if(void 0!==r.attester){let Tn=r.attester;const Ir=m;if(m==m){if("string"!=typeof Tn)return Pi.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Yl.test(Tn))return Pi.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}He=Ir===m}else He=!0;if(He){if(void 0!==r.recipient){let Tn=r.recipient;const Ir=m;if(m==m){if("string"!=typeof Tn)return Pi.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Yl.test(Tn))return Pi.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}He=Ir===m}else He=!0;if(He){if(void 0!==r.contextId){const Tn=m;if("string"!=typeof r.contextId)return Pi.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;He=Tn===m}else He=!0;if(He){if(void 0!==r.schema){const Tn=m;if("string"!=typeof r.schema)return Pi.errors=[{instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;He=Tn===m}else He=!0;if(He){if(void 0!==r.tags){let Tn=r.tags;const Ir=m;if(m===Ir){if(!Tn||"object"!=typeof Tn||Array.isArray(Tn))return Pi.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Tn).length<1)return Pi.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const dr in Tn){let Wn=Tn[dr];const mr=m,Or=m;let Yr=!1,ei=null;const zr=m;if("string"!=typeof Wn){const Vi={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Vi]:d.push(Vi),m++}(Ve=zr===m)&&(Yr=!0,ei=0);const Xr=m;if("number"!=typeof Wn||!isFinite(Wn)){const Vi={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===d?d=[Vi]:d.push(Vi),m++}if((Ve=Xr===m)&&Yr)Yr=!1,ei=[ei,1];else{Ve&&(Yr=!0,ei=1);const Vi=m;if("boolean"!=typeof Wn){const Pr={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===d?d=[Pr]:d.push(Pr),m++}if((Ve=Vi===m)&&Yr)Yr=!1,ei=[ei,2];else{Ve&&(Yr=!0,ei=2);const Pr=m;if(m===Pr)if(Wn&&"object"==typeof Wn&&!Array.isArray(Wn))if(Object.keys(Wn).length<1){const mo={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===d?d=[mo]:d.push(mo),m++}else{const mo=m;for(const Yi in Wn)if("startsWith"!==Yi){const La={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Yi},message:"must NOT have additional properties"};null===d?d=[La]:d.push(La),m++;break}if(mo===m&&void 0!==Wn.startsWith&&"string"!=typeof Wn.startsWith){const Yi={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/startsWith",schemaPath:"#/properties/tags/additionalProperties/oneOf/3/properties/startsWith/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Yi]:d.push(Yi),m++}}else{const mo={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[mo]:d.push(mo),m++}if((Ve=Pr===m)&&Yr)Yr=!1,ei=[ei,3];else{if(Ve){Yr=!0,ei=3;var qe=!0}const mo=m;if(m==m)if(Wn&&"object"==typeof Wn&&!Array.isArray(Wn))if(Object.keys(Wn).length<1){const Fu={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===d?d=[Fu]:d.push(Fu),m++}else{const Fu=m;for(const Zs in Wn)if("gt"!==Zs&&"gte"!==Zs&&"lt"!==Zs&&"lte"!==Zs){const Ys={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Zs},message:"must NOT have additional properties"};null===d?d=[Ys]:d.push(Ys),m++;break}if(Fu===m){if(void 0!==Wn.gt){const Zs=m,Ys=m,tc=m;if(Wn&&"object"==typeof Wn&&!Array.isArray(Wn)){let sa;if(void 0===Wn.gte&&(sa="gte")){const ao={};null===d?d=[ao]:d.push(ao),m++}}if(tc===m){const sa={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===d?d=[sa]:d.push(sa),m++}else m=Ys,null!==d&&(Ys?d.length=Ys:d=null);var At=Zs===m}else At=!0;if(At){if(void 0!==Wn.gte){const Zs=m,Ys=m,tc=m;if(Wn&&"object"==typeof Wn&&!Array.isArray(Wn)){let ao;if(void 0===Wn.gt&&(ao="gt")){const aa={};null===d?d=[aa]:d.push(aa),m++}}if(tc===m){const ao={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===d?d=[ao]:d.push(ao),m++}else m=Ys,null!==d&&(Ys?d.length=Ys:d=null);At=Zs===m}else At=!0;if(At){if(void 0!==Wn.lt){const Zs=m,Ys=m,tc=m;if(Wn&&"object"==typeof Wn&&!Array.isArray(Wn)){let ao;if(void 0===Wn.lte&&(ao="lte")){const aa={};null===d?d=[aa]:d.push(aa),m++}}if(tc===m){const ao={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===d?d=[ao]:d.push(ao),m++}else m=Ys,null!==d&&(Ys?d.length=Ys:d=null);At=Zs===m}else At=!0;if(At){if(void 0!==Wn.lte){const Zs=m,Ys=m,tc=m;if(Wn&&"object"==typeof Wn&&!Array.isArray(Wn)){let ao;if(void 0===Wn.lt&&(ao="lt")){const aa={};null===d?d=[aa]:d.push(aa),m++}}if(tc===m){const ao={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===d?d=[ao]:d.push(ao),m++}else m=Ys,null!==d&&(Ys?d.length=Ys:d=null);At=Zs===m}else At=!0;if(At){if(void 0!==Wn.gt){const Zs=m;if("string"!=typeof Wn.gt){const Ys={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Ys]:d.push(Ys),m++}var Xt=Zs===m}else Xt=!0;if(Xt){if(void 0!==Wn.gte){const Zs=m;if("string"!=typeof Wn.gte){const tc={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[tc]:d.push(tc),m++}Xt=Zs===m}else Xt=!0;if(Xt){if(void 0!==Wn.lt){const Zs=m;if("string"!=typeof Wn.lt){const tc={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[tc]:d.push(tc),m++}Xt=Zs===m}else Xt=!0;if(Xt)if(void 0!==Wn.lte){const Zs=m;if("string"!=typeof Wn.lte){const tc={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[tc]:d.push(tc),m++}Xt=Zs===m}else Xt=!0}}}}}}}}else{const Fu={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[Fu]:d.push(Fu),m++}if((Ve=mo===m)&&Yr)Yr=!1,ei=[ei,4];else{Ve&&(Yr=!0,ei=4,!0!==qe&&(qe=!0));const Fu=m;if(m==m)if(Wn&&"object"==typeof Wn&&!Array.isArray(Wn))if(Object.keys(Wn).length<1){const tc={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===d?d=[tc]:d.push(tc),m++}else{const tc=m;for(const sa in Wn)if("gt"!==sa&&"gte"!==sa&&"lt"!==sa&&"lte"!==sa){const ao={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:sa},message:"must NOT have additional properties"};null===d?d=[ao]:d.push(ao),m++;break}if(tc===m){if(void 0!==Wn.gt){const sa=m,ao=m,aa=m;if(Wn&&"object"==typeof Wn&&!Array.isArray(Wn)){let Uu;if(void 0===Wn.gte&&(Uu="gte")){const Hl={};null===d?d=[Hl]:d.push(Hl),m++}}if(aa===m){const Uu={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===d?d=[Uu]:d.push(Uu),m++}else m=ao,null!==d&&(ao?d.length=ao:d=null);var on=sa===m}else on=!0;if(on){if(void 0!==Wn.gte){const sa=m,ao=m,aa=m;if(Wn&&"object"==typeof Wn&&!Array.isArray(Wn)){let Hl;if(void 0===Wn.gt&&(Hl="gt")){const yd={};null===d?d=[yd]:d.push(yd),m++}}if(aa===m){const Hl={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===d?d=[Hl]:d.push(Hl),m++}else m=ao,null!==d&&(ao?d.length=ao:d=null);on=sa===m}else on=!0;if(on){if(void 0!==Wn.lt){const sa=m,ao=m,aa=m;if(Wn&&"object"==typeof Wn&&!Array.isArray(Wn)){let Hl;if(void 0===Wn.lte&&(Hl="lte")){const yd={};null===d?d=[yd]:d.push(yd),m++}}if(aa===m){const Hl={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===d?d=[Hl]:d.push(Hl),m++}else m=ao,null!==d&&(ao?d.length=ao:d=null);on=sa===m}else on=!0;if(on){if(void 0!==Wn.lte){const sa=m,ao=m,aa=m;if(Wn&&"object"==typeof Wn&&!Array.isArray(Wn)){let Hl;if(void 0===Wn.lt&&(Hl="lt")){const yd={};null===d?d=[yd]:d.push(yd),m++}}if(aa===m){const Hl={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===d?d=[Hl]:d.push(Hl),m++}else m=ao,null!==d&&(ao?d.length=ao:d=null);on=sa===m}else on=!0;if(on){if(void 0!==Wn.gt){let sa=Wn.gt;const ao=m;if("number"!=typeof sa||!isFinite(sa)){const aa={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===d?d=[aa]:d.push(aa),m++}var Zn=ao===m}else Zn=!0;if(Zn){if(void 0!==Wn.gte){let sa=Wn.gte;const ao=m;if("number"!=typeof sa||!isFinite(sa)){const Uu={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===d?d=[Uu]:d.push(Uu),m++}Zn=ao===m}else Zn=!0;if(Zn){if(void 0!==Wn.lt){let sa=Wn.lt;const ao=m;if("number"!=typeof sa||!isFinite(sa)){const Uu={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===d?d=[Uu]:d.push(Uu),m++}Zn=ao===m}else Zn=!0;if(Zn)if(void 0!==Wn.lte){let sa=Wn.lte;const ao=m;if("number"!=typeof sa||!isFinite(sa)){const Uu={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===d?d=[Uu]:d.push(Uu),m++}Zn=ao===m}else Zn=!0}}}}}}}}else{const tc={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[tc]:d.push(tc),m++}var Ve;(Ve=Fu===m)&&Yr?(Yr=!1,ei=[ei,5]):Ve&&(Yr=!0,ei=5,!0!==qe&&(qe=!0))}}}}if(!Yr){const Vi={instancePath:t+"/tags/"+dr.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:ei},message:"must match exactly one schema in oneOf"};return null===d?d=[Vi]:d.push(Vi),m++,Pi.errors=d,!1}if(m=Or,null!==d&&(Or?d.length=Or:d=null),mr!==m)break}}He=Ir===m}else He=!0;if(He){if(void 0!==r.recordId){const Tn=m;if("string"!=typeof r.recordId)return Pi.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;He=Tn===m}else He=!0;if(He){if(void 0!==r.parentId){const Tn=m;if("string"!=typeof r.parentId)return Pi.errors=[{instancePath:t+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;He=Tn===m}else He=!0;if(He){if(void 0!==r.published){const Tn=m;if("boolean"!=typeof r.published)return Pi.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;He=Tn===m}else He=!0;if(He){if(void 0!==r.dataFormat){const Tn=m;if("string"!=typeof r.dataFormat)return Pi.errors=[{instancePath:t+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;He=Tn===m}else He=!0;if(He){if(void 0!==r.dataSize){let Tn=r.dataSize;const Ir=m;if(m==m){if(!Tn||"object"!=typeof Tn||Array.isArray(Tn))return Pi.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Tn).length<1)return Pi.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Wn=m;for(const mr in Tn)if("gt"!==mr&&"gte"!==mr&&"lt"!==mr&&"lte"!==mr)return Pi.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:mr},message:"must NOT have additional properties"}],!1;if(Wn===m){if(void 0!==Tn.gt){const mr=m,Or=m,Yr=m;if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn)){let ei;if(void 0===Tn.gte&&(ei="gte")){const zr={};null===d?d=[zr]:d.push(zr),m++}}if(Yr===m)return Pi.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;m=Or,null!==d&&(Or?d.length=Or:d=null);var ar=mr===m}else ar=!0;if(ar){if(void 0!==Tn.gte){const mr=m,Or=m,Yr=m;if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn)){let zr;if(void 0===Tn.gt&&(zr="gt")){const Xr={};null===d?d=[Xr]:d.push(Xr),m++}}if(Yr===m)return Pi.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;m=Or,null!==d&&(Or?d.length=Or:d=null),ar=mr===m}else ar=!0;if(ar){if(void 0!==Tn.lt){const mr=m,Or=m,Yr=m;if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn)){let zr;if(void 0===Tn.lte&&(zr="lte")){const Xr={};null===d?d=[Xr]:d.push(Xr),m++}}if(Yr===m)return Pi.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;m=Or,null!==d&&(Or?d.length=Or:d=null),ar=mr===m}else ar=!0;if(ar){if(void 0!==Tn.lte){const mr=m,Or=m,Yr=m;if(Tn&&"object"==typeof Tn&&!Array.isArray(Tn)){let zr;if(void 0===Tn.lt&&(zr="lt")){const Xr={};null===d?d=[Xr]:d.push(Xr),m++}}if(Yr===m)return Pi.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;m=Or,null!==d&&(Or?d.length=Or:d=null),ar=mr===m}else ar=!0;if(ar){if(void 0!==Tn.gt){let mr=Tn.gt;const Or=m;if("number"!=typeof mr||!isFinite(mr))return Pi.errors=[{instancePath:t+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Jn=Or===m}else Jn=!0;if(Jn){if(void 0!==Tn.gte){let mr=Tn.gte;const Or=m;if("number"!=typeof mr||!isFinite(mr))return Pi.errors=[{instancePath:t+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Jn=Or===m}else Jn=!0;if(Jn){if(void 0!==Tn.lt){let mr=Tn.lt;const Or=m;if("number"!=typeof mr||!isFinite(mr))return Pi.errors=[{instancePath:t+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Jn=Or===m}else Jn=!0;if(Jn)if(void 0!==Tn.lte){let mr=Tn.lte;const Or=m;if("number"!=typeof mr||!isFinite(mr))return Pi.errors=[{instancePath:t+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Jn=Or===m}else Jn=!0}}}}}}}}}He=Ir===m}else He=!0;if(He){if(void 0!==r.dataCid){const Tn=m;if("string"!=typeof r.dataCid)return Pi.errors=[{instancePath:t+"/dataCid",schemaPath:"#/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;He=Tn===m}else He=!0;if(He){if(void 0!==r.dateCreated){let Tn=r.dateCreated;const Ir=m;if(m===Ir){if(!Tn||"object"!=typeof Tn||Array.isArray(Tn))return Pi.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Tn).length<1)return Pi.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const dr=m;for(const Wn in Tn)if("from"!==Wn&&"to"!==Wn)return Pi.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Wn},message:"must NOT have additional properties"}],!1;if(dr===m){if(void 0!==Tn.from){let Wn=Tn.from;const mr=m;if(m==m){if("string"!=typeof Wn)return Pi.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(Wn))return Pi.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Un=mr===m}else Un=!0;if(Un)if(void 0!==Tn.to){let Wn=Tn.to;const mr=m;if(m==m){if("string"!=typeof Wn)return Pi.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(Wn))return Pi.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Un=mr===m}else Un=!0}}}He=Ir===m}else He=!0;if(He){if(void 0!==r.datePublished){let Tn=r.datePublished;const Ir=m;if(m===Ir){if(!Tn||"object"!=typeof Tn||Array.isArray(Tn))return Pi.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Tn).length<1)return Pi.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const dr=m;for(const Wn in Tn)if("from"!==Wn&&"to"!==Wn)return Pi.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Wn},message:"must NOT have additional properties"}],!1;if(dr===m){if(void 0!==Tn.from){let Wn=Tn.from;const mr=m;if(m==m){if("string"!=typeof Wn)return Pi.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(Wn))return Pi.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var or=mr===m}else or=!0;if(or)if(void 0!==Tn.to){let Wn=Tn.to;const mr=m;if(m==m){if("string"!=typeof Wn)return Pi.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(Wn))return Pi.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}or=mr===m}else or=!0}}}He=Ir===m}else He=!0;if(He)if(void 0!==r.dateUpdated){let Tn=r.dateUpdated;const Ir=m;if(m===Ir){if(!Tn||"object"!=typeof Tn||Array.isArray(Tn))return Pi.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Tn).length<1)return Pi.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const dr=m;for(const Wn in Tn)if("from"!==Wn&&"to"!==Wn)return Pi.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Wn},message:"must NOT have additional properties"}],!1;if(dr===m){if(void 0!==Tn.from){let Wn=Tn.from;const mr=m;if(m==m){if("string"!=typeof Wn)return Pi.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(Wn))return Pi.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Mr=mr===m}else Mr=!0;if(Mr)if(void 0!==Tn.to){let Wn=Tn.to;const mr=m;if(m==m){if("string"!=typeof Wn)return Pi.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(Wn))return Pi.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Mr=mr===m}else Mr=!0}}}He=Ir===m}else He=!0}}}}}}}}}}}}}}}}}}}return Pi.errors=d,0===m}function Ra(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=Ra.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return Ra.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let He;if(void 0===r.descriptor&&(He="descriptor"))return Ra.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:He},message:"must have required property '"+He+"'"}],!1;{const Ve=m;for(const qe in r)if("authorization"!==qe&&"descriptor"!==qe)return Ra.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qe},message:"must NOT have additional properties"}],!1;if(Ve===m){if(void 0!==r.authorization){const qe=m;jl(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:y})||(d=null===d?jl.errors:d.concat(jl.errors),m=d.length);var G=qe===m}else G=!0;if(G)if(void 0!==r.descriptor){let qe=r.descriptor;const pt=m;if(m===pt){if(!qe||"object"!=typeof qe||Array.isArray(qe))return Ra.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let bt;if(void 0===qe.interface&&(bt="interface")||void 0===qe.method&&(bt="method")||void 0===qe.messageTimestamp&&(bt="messageTimestamp")||void 0===qe.filter&&(bt="filter"))return Ra.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:bt},message:"must have required property '"+bt+"'"}],!1;{const _t=m;for(const Ft in qe)if("interface"!==Ft&&"method"!==Ft&&"messageTimestamp"!==Ft&&"filter"!==Ft&&"pagination"!==Ft&&"dateSort"!==Ft)return Ra.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ft},message:"must NOT have additional properties"}],!1;if(_t===m){if(void 0!==qe.interface){let Ft=qe.interface;const Xt=m;if("string"!=typeof Ft)return Ra.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Ft)return Ra.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:P1.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=Xt===m}else k=!0;if(k){if(void 0!==qe.method){let Ft=qe.method;const Xt=m;if("string"!=typeof Ft)return Ra.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==Ft)return Ra.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:P1.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=Xt===m}else k=!0;if(k){if(void 0!==qe.messageTimestamp){let Ft=qe.messageTimestamp;const Xt=m;if(m==m){if("string"!=typeof Ft)return Ra.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(Ft))return Ra.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=Xt===m}else k=!0;if(k){if(void 0!==qe.filter){const Ft=m;Pi(qe.filter,{instancePath:t+"/descriptor/filter",parentData:qe,parentDataProperty:"filter",rootData:u,dynamicAnchors:y})||(d=null===d?Pi.errors:d.concat(Pi.errors),m=d.length),k=Ft===m}else k=!0;if(k){if(void 0!==qe.pagination){let Ft=qe.pagination;const Xt=m;if(m===Xt){if(!Ft||"object"!=typeof Ft||Array.isArray(Ft))return Ra.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const on=m;for(const ln in Ft)if("limit"!==ln&&"cursor"!==ln)return Ra.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ln},message:"must NOT have additional properties"}],!1;if(on===m){if(void 0!==Ft.limit){let ln=Ft.limit;const Ln=m;if(m===Ln){if("number"!=typeof ln||!isFinite(ln))return Ra.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(ln<1||isNaN(ln))return Ra.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"}],!1}var ie=Ln===m}else ie=!0;if(ie)if(void 0!==Ft.cursor){let ln=Ft.cursor;const Ln=m;if(m==m){if(!ln||"object"!=typeof ln||Array.isArray(ln))return Ra.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(ln).length<1)return Ra.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let _r;if(void 0===ln.messageCid&&(_r="messageCid")||void 0===ln.value&&(_r="value"))return Ra.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:_r},message:"must have required property '"+_r+"'"}],!1;{const Xn=m;for(const ar in ln)if("messageCid"!==ar&&"value"!==ar)return Ra.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ar},message:"must NOT have additional properties"}],!1;if(Xn===m){if(void 0!==ln.messageCid){const ar=m;if("string"!=typeof ln.messageCid)return Ra.errors=[{instancePath:t+"/descriptor/pagination/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ue=ar===m}else Ue=!0;if(Ue)if(void 0!==ln.value){let ar=ln.value;const wn=m;if("string"!=typeof ar&&("number"!=typeof ar||!isFinite(ar)))return Ra.errors=[{instancePath:t+"/descriptor/pagination/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:k1.properties.value.type},message:"must be string,number"}],!1;Ue=wn===m}else Ue=!0}}}}ie=Ln===m}else ie=!0}}}k=Xt===m}else k=!0;if(k)if(void 0!==qe.dateSort){let Ft=qe.dateSort;const Xt=m;if("string"!=typeof Ft)return Ra.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("createdAscending"!==Ft&&"createdDescending"!==Ft&&"publishedAscending"!==Ft&&"publishedDescending"!==Ft)return Ra.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:P1.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;k=Xt===m}else k=!0}}}}}}}}G=pt===m}else G=!0}}}}return Ra.errors=d,0===m}Pi.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Ra.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const xm=Jl,N1={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function Jl(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=Jl.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return Jl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ie;if(void 0===r.descriptor&&(ie="descriptor"))return Jl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:ie},message:"must have required property '"+ie+"'"}],!1;{const Ue=m;for(const He in r)if("authorization"!==He&&"descriptor"!==He)return Jl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:He},message:"must NOT have additional properties"}],!1;if(Ue===m){if(void 0!==r.authorization){const He=m;jl(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:y})||(d=null===d?jl.errors:d.concat(jl.errors),m=d.length);var G=He===m}else G=!0;if(G)if(void 0!==r.descriptor){let He=r.descriptor;const Ve=m;if(m===Ve){if(!He||"object"!=typeof He||Array.isArray(He))return Jl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let pt;if(void 0===He.interface&&(pt="interface")||void 0===He.method&&(pt="method")||void 0===He.messageTimestamp&&(pt="messageTimestamp")||void 0===He.filter&&(pt="filter"))return Jl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:pt},message:"must have required property '"+pt+"'"}],!1;{const At=m;for(const bt in He)if("interface"!==bt&&"method"!==bt&&"messageTimestamp"!==bt&&"filter"!==bt)return Jl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:bt},message:"must NOT have additional properties"}],!1;if(At===m){if(void 0!==He.interface){let bt=He.interface;const _t=m;if("string"!=typeof bt)return Jl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==bt)return Jl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:N1.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=_t===m}else k=!0;if(k){if(void 0!==He.method){let bt=He.method;const _t=m;if("string"!=typeof bt)return Jl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==bt)return Jl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:N1.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=_t===m}else k=!0;if(k){if(void 0!==He.messageTimestamp){let bt=He.messageTimestamp;const _t=m;if(m==m){if("string"!=typeof bt)return Jl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(bt))return Jl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=_t===m}else k=!0;if(k)if(void 0!==He.filter){const bt=m;Pi(He.filter,{instancePath:t+"/descriptor/filter",parentData:He,parentDataProperty:"filter",rootData:u,dynamicAnchors:y})||(d=null===d?Pi.errors:d.concat(Pi.errors),m=d.length),k=bt===m}else k=!0}}}}}}G=Ve===m}else G=!0}}}}return Jl.errors=d,0===m}Jl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const zy=_0;function _0(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=_0.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),Ai(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:u,dynamicAnchors:y}))var G=Ai.evaluated.props;else d=null===d?Ai.errors:d.concat(Ai.errors),m=d.length;if(0===m){if(!r||"object"!=typeof r||Array.isArray(r))return _0.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.recordId&&(k="recordId")||void 0===r.authorization&&(k="authorization"))return _0.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;if(!0!==G)for(const ie in r)if(!G||!G[ie])return _0.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:ie},message:"must NOT have unevaluated properties"}],!1}}return _0.errors=d,0===m}_0.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const sA=Ul,xl=Ai,L2=Qh;function Qh(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){const Z=Qh.evaluated;return Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(Qh.errors=null,!0):(Qh.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}Qh.evaluated={dynamicProps:!1,dynamicItems:!1};const aA=ql;function ql(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=ql.evaluated;Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0);const G=m;let k=!1,ie=null;const Ue=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Xt;if(void 0===r.crv&&(Xt="crv")||void 0===r.x&&(Xt="x")){const Ht={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:Xt},message:"must have required property '"+Xt+"'"};null===d?d=[Ht]:d.push(Ht),m++}else{if(void 0!==r.kty){const Ht=m;if("EC"!==r.kty){const on={instancePath:t+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===d?d=[on]:d.push(on),m++}var He=Ht===m}else He=!0;if(He){if(void 0!==r.crv){const Ht=m;if("string"!=typeof r.crv){const ln={instancePath:t+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[ln]:d.push(ln),m++}He=Ht===m}else He=!0;if(He){if(void 0!==r.x){const Ht=m;if("string"!=typeof r.x){const ln={instancePath:t+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[ln]:d.push(ln),m++}He=Ht===m}else He=!0;if(He){if(void 0!==r.y){const Ht=m;if("string"!=typeof r.y){const ln={instancePath:t+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[ln]:d.push(ln),m++}He=Ht===m}else He=!0;if(He)if(void 0!==r.d){const Ht=m;if("string"!=typeof r.d){const ln={instancePath:t+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[ln]:d.push(ln),m++}He=Ht===m}else He=!0}}}}}if(At=Ue===m){k=!0,ie=0;var Ve={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const qe=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Xt;if(void 0===r.crv&&(Xt="crv")||void 0===r.x&&(Xt="x")){const Ht={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:Xt},message:"must have required property '"+Xt+"'"};null===d?d=[Ht]:d.push(Ht),m++}else{if(void 0!==r.kty){const Ht=m;if("OKP"!==r.kty){const on={instancePath:t+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===d?d=[on]:d.push(on),m++}var pt=Ht===m}else pt=!0;if(pt){if(void 0!==r.crv){const Ht=m;if("string"!=typeof r.crv){const ln={instancePath:t+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[ln]:d.push(ln),m++}pt=Ht===m}else pt=!0;if(pt){if(void 0!==r.x){const Ht=m;if("string"!=typeof r.x){const ln={instancePath:t+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[ln]:d.push(ln),m++}pt=Ht===m}else pt=!0;if(pt)if(void 0!==r.d){const Ht=m;if("string"!=typeof r.d){const ln={instancePath:t+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[ln]:d.push(ln),m++}pt=Ht===m}else pt=!0}}}}if((At=qe===m)&&k)k=!1,ie=[ie,1];else{At&&(k=!0,ie=1,!0!==Ve&&((Ve=Ve||{}).kty=!0,Ve.crv=!0,Ve.x=!0,Ve.d=!0));const Xt=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let on;if(void 0===r.n&&(on="n")||void 0===r.e&&(on="e")){const ln={instancePath:t,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:on},message:"must have required property '"+on+"'"};null===d?d=[ln]:d.push(ln),m++}else{if(void 0!==r.kty){const ln=m;if("RSA"!==r.kty){const Ln={instancePath:t+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===d?d=[Ln]:d.push(Ln),m++}var bt=ln===m}else bt=!0;if(bt){if(void 0!==r.n){const ln=m;if("string"!=typeof r.n){const Vn={instancePath:t+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Vn]:d.push(Vn),m++}bt=ln===m}else bt=!0;if(bt){if(void 0!==r.e){const ln=m;if("string"!=typeof r.e){const Vn={instancePath:t+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Vn]:d.push(Vn),m++}bt=ln===m}else bt=!0;if(bt){if(void 0!==r.d){const ln=m;if("string"!=typeof r.d){const Vn={instancePath:t+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Vn]:d.push(Vn),m++}bt=ln===m}else bt=!0;if(bt){if(void 0!==r.p){const ln=m;if("string"!=typeof r.p){const Vn={instancePath:t+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Vn]:d.push(Vn),m++}bt=ln===m}else bt=!0;if(bt){if(void 0!==r.q){const ln=m;if("string"!=typeof r.q){const Vn={instancePath:t+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Vn]:d.push(Vn),m++}bt=ln===m}else bt=!0;if(bt){if(void 0!==r.dp){const ln=m;if("string"!=typeof r.dp){const Vn={instancePath:t+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Vn]:d.push(Vn),m++}bt=ln===m}else bt=!0;if(bt){if(void 0!==r.dq){const ln=m;if("string"!=typeof r.dq){const Vn={instancePath:t+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Vn]:d.push(Vn),m++}bt=ln===m}else bt=!0;if(bt){if(void 0!==r.qi){const ln=m;if("string"!=typeof r.qi){const Vn={instancePath:t+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Vn]:d.push(Vn),m++}bt=ln===m}else bt=!0;if(bt)if(void 0!==r.oth){let ln=r.oth;const Ln=m;if(!ln||"object"!=typeof ln||Array.isArray(ln)){const Zn={instancePath:t+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[Zn]:d.push(Zn),m++}bt=Ln===m}else bt=!0}}}}}}}}}}if((At=Xt===m)&&k)k=!1,ie=[ie,2];else{At&&(k=!0,ie=2,!0!==Ve&&((Ve=Ve||{}).kty=!0,Ve.n=!0,Ve.e=!0,Ve.d=!0,Ve.p=!0,Ve.q=!0,Ve.dp=!0,Ve.dq=!0,Ve.qi=!0,Ve.oth=!0));const on=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Ln;if(void 0===r.k&&(Ln="k")){const Vn={instancePath:t,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:Ln},message:"must have required property '"+Ln+"'"};null===d?d=[Vn]:d.push(Vn),m++}else{if(void 0!==r.kty){const Vn=m;if("oct"!==r.kty){const Zn={instancePath:t+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===d?d=[Zn]:d.push(Zn),m++}var _t=Vn===m}else _t=!0;if(_t)if(void 0!==r.k){const Vn=m;if("string"!=typeof r.k){const _r={instancePath:t+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[_r]:d.push(_r),m++}_t=Vn===m}else _t=!0}}var At;(At=on===m)&&k?(k=!1,ie=[ie,3]):At&&(k=!0,ie=3,!0!==Ve&&((Ve=Ve||{}).kty=!0,Ve.k=!0))}}if(!k){const Xt={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:ie},message:"must match exactly one schema in oneOf"};return null===d?d=[Xt]:d.push(Xt),m++,ql.errors=d,!1}if(m=G,null!==d&&(G?d.length=G:d=null),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return ql.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Xt;if(void 0===r.kty&&(Xt="kty"))return ql.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Xt},message:"must have required property '"+Xt+"'"}],!1;if(!0!==Ve&&((Ve=Ve||{}).alg=!0,Ve.kid=!0,Ve.kty=!0,Ve.crv=!0,Ve.use=!0,Ve.key_ops=!0,Ve.x5u=!0,Ve.x5c=!0,Ve.x5t=!0,Ve["x5t#S256"]=!0),void 0!==r.alg){const Ht=m;if("string"!=typeof r.alg)return ql.errors=[{instancePath:t+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ft=Ht===m}else Ft=!0;if(Ft){if(void 0!==r.kid){const Ht=m;if("string"!=typeof r.kid)return ql.errors=[{instancePath:t+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ft=Ht===m}else Ft=!0;if(Ft){if(void 0!==r.kty){let Ht=r.kty;const on=m;if("EC"!==Ht&&"RSA"!==Ht&&"oct"!==Ht&&"OKP"!==Ht)return ql.errors=[{instancePath:t+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:Em.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;Ft=on===m}else Ft=!0;if(Ft){if(void 0!==r.crv){const Ht=m;if("string"!=typeof r.crv)return ql.errors=[{instancePath:t+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ft=Ht===m}else Ft=!0;if(Ft){if(void 0!==r.use){const Ht=m;if("string"!=typeof r.use)return ql.errors=[{instancePath:t+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ft=Ht===m}else Ft=!0;if(Ft){if(void 0!==r.key_ops){const Ht=m;if("string"!=typeof r.key_ops)return ql.errors=[{instancePath:t+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ft=Ht===m}else Ft=!0;if(Ft){if(void 0!==r.x5u){const Ht=m;if("string"!=typeof r.x5u)return ql.errors=[{instancePath:t+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ft=Ht===m}else Ft=!0;if(Ft){if(void 0!==r.x5c){const Ht=m;if("string"!=typeof r.x5c)return ql.errors=[{instancePath:t+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ft=Ht===m}else Ft=!0;if(Ft){if(void 0!==r.x5t){const Ht=m;if("string"!=typeof r.x5t)return ql.errors=[{instancePath:t+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ft=Ht===m}else Ft=!0;if(Ft)if(void 0!==r["x5t#S256"]){const Ht=m;if("string"!=typeof r["x5t#S256"])return ql.errors=[{instancePath:t+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ft=Ht===m}else Ft=!0}}}}}}}}}}return ql.errors=d,Z.props=Ve,0===m}ql.evaluated={dynamicProps:!0,dynamicItems:!1};const cA=Wi,lA=Gf,dA={$id:"https://identity.foundation/dwn/json-schemas/jwk-verification-method.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,required:["id","type","controller","publicKeyJwk"],properties:{id:{type:"string"},type:{enum:["JsonWebKey","JsonWebKey2020"]},controller:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}};function Gf(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=Gf.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return Gf.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.id&&(k="id")||void 0===r.type&&(k="type")||void 0===r.controller&&(k="controller")||void 0===r.publicKeyJwk&&(k="publicKeyJwk"))return Gf.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const ie=m;for(const Ue in r)if("id"!==Ue&&"type"!==Ue&&"controller"!==Ue&&"publicKeyJwk"!==Ue)return Gf.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ue},message:"must NOT have additional properties"}],!1;if(ie===m){if(void 0!==r.id){const Ue=m;if("string"!=typeof r.id)return Gf.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=Ue===m}else G=!0;if(G){if(void 0!==r.type){let Ue=r.type;const He=m;if("JsonWebKey"!==Ue&&"JsonWebKey2020"!==Ue)return Gf.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues:dA.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;G=He===m}else G=!0;if(G){if(void 0!==r.controller){let Ue=r.controller;const He=m;if(m==m){if("string"!=typeof Ue)return Gf.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Yl.test(Ue))return Gf.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}G=He===m}else G=!0;if(G)if(void 0!==r.publicKeyJwk){const Ue=m;Us(r.publicKeyJwk,{instancePath:t+"/publicKeyJwk",parentData:r,parentDataProperty:"publicKeyJwk",rootData:u,dynamicAnchors:y})||(d=null===d?Us.errors:d.concat(Us.errors),m=d.length),G=Ue===m}else G=!0}}}}}}return Gf.errors=d,0===m}Gf.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const L1=Ko,gf={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-filter.json",type:"object",additionalProperties:!1,minProperties:1,properties:{interface:{enum:["Protocols","Records"],type:"string"},method:{enum:["Configure","Delete","Write"],type:"string"},protocol:{type:"string"},messageTimestamp:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}}};function Ko(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){const Z=Ko.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Ko.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Ko.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const ie=0;for(const Ue in r)if("interface"!==Ue&&"method"!==Ue&&"protocol"!==Ue&&"messageTimestamp"!==Ue)return Ko.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ue},message:"must NOT have additional properties"}],!1;if(0===ie){if(void 0!==r.interface){let Ue=r.interface;const He=0;if("string"!=typeof Ue)return Ko.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==Ue&&"Records"!==Ue)return Ko.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/enum",keyword:"enum",params:{allowedValues:gf.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var G=0===He}else G=!0;if(G){if(void 0!==r.method){let Ue=r.method;const He=0;if("string"!=typeof Ue)return Ko.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==Ue&&"Delete"!==Ue&&"Write"!==Ue)return Ko.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:gf.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;G=0===He}else G=!0;if(G){if(void 0!==r.protocol){const Ue=0;if("string"!=typeof r.protocol)return Ko.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;G=0===Ue}else G=!0;if(G)if(void 0!==r.messageTimestamp){let Ue=r.messageTimestamp;const He=0;if(0===He){if(!Ue||"object"!=typeof Ue||Array.isArray(Ue))return Ko.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Ue).length<1)return Ko.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const qe=0;for(const pt in Ue)if("from"!==pt&&"to"!==pt)return Ko.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:pt},message:"must NOT have additional properties"}],!1;if(0===qe){if(void 0!==Ue.from){let pt=Ue.from;const At=0;if("string"!=typeof pt)return Ko.errors=[{instancePath:t+"/messageTimestamp/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(pt))return Ko.errors=[{instancePath:t+"/messageTimestamp/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1;var k=0===At}else k=!0;if(k)if(void 0!==Ue.to){let pt=Ue.to;const At=0;if("string"!=typeof pt)return Ko.errors=[{instancePath:t+"/messageTimestamp/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(pt))return Ko.errors=[{instancePath:t+"/messageTimestamp/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1;k=0===At}else k=!0}}}G=0===He}else G=!0}}}}return Ko.errors=null,!0}Ko.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const di=as,uo={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/messages-filter.json"}},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}}}};function as(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=as.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return as.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let He;if(void 0===r.authorization&&(He="authorization")||void 0===r.descriptor&&(He="descriptor"))return as.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:He},message:"must have required property '"+He+"'"}],!1;{const Ve=m;for(const qe in r)if("authorization"!==qe&&"descriptor"!==qe)return as.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:qe},message:"must NOT have additional properties"}],!1;if(Ve===m){if(void 0!==r.authorization){const qe=m;Da(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:y})||(d=null===d?Da.errors:d.concat(Da.errors),m=d.length);var G=qe===m}else G=!0;if(G)if(void 0!==r.descriptor){let qe=r.descriptor;const pt=m;if(m===pt){if(!qe||"object"!=typeof qe||Array.isArray(qe))return as.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let bt;if(void 0===qe.interface&&(bt="interface")||void 0===qe.method&&(bt="method")||void 0===qe.messageTimestamp&&(bt="messageTimestamp")||void 0===qe.filters&&(bt="filters"))return as.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:bt},message:"must have required property '"+bt+"'"}],!1;{const _t=m;for(const Ft in qe)if("interface"!==Ft&&"method"!==Ft&&"messageTimestamp"!==Ft&&"filters"!==Ft&&"cursor"!==Ft)return as.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ft},message:"must NOT have additional properties"}],!1;if(_t===m){if(void 0!==qe.interface){let Ft=qe.interface;const Xt=m;if("string"!=typeof Ft)return as.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==Ft)return as.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:uo.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=Xt===m}else k=!0;if(k){if(void 0!==qe.method){let Ft=qe.method;const Xt=m;if("string"!=typeof Ft)return as.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==Ft)return as.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:uo.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=Xt===m}else k=!0;if(k){if(void 0!==qe.messageTimestamp){let Ft=qe.messageTimestamp;const Xt=m;if(m==m){if("string"!=typeof Ft)return as.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(Ft))return as.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=Xt===m}else k=!0;if(k){if(void 0!==qe.filters){let Ft=qe.filters;const Xt=m;if(m===Xt){if(!Array.isArray(Ft))return as.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const on=Ft.length;for(let ln=0;ln<on;ln++){const Ln=m;if(Ko(Ft[ln],{instancePath:t+"/descriptor/filters/"+ln,parentData:Ft,parentDataProperty:ln,rootData:u,dynamicAnchors:y})||(d=null===d?Ko.errors:d.concat(Ko.errors),m=d.length),Ln!==m)break}}}k=Xt===m}else k=!0;if(k)if(void 0!==qe.cursor){let Ft=qe.cursor;const Xt=m;if(m==m){if(!Ft||"object"!=typeof Ft||Array.isArray(Ft))return as.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Ft).length<1)return as.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let ln;if(void 0===Ft.messageCid&&(ln="messageCid")||void 0===Ft.value&&(ln="value"))return as.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:ln},message:"must have required property '"+ln+"'"}],!1;{const Ln=m;for(const Vn in Ft)if("messageCid"!==Vn&&"value"!==Vn)return as.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Vn},message:"must NOT have additional properties"}],!1;if(Ln===m){if(void 0!==Ft.messageCid){const Vn=m;if("string"!=typeof Ft.messageCid)return as.errors=[{instancePath:t+"/descriptor/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ue=Vn===m}else Ue=!0;if(Ue)if(void 0!==Ft.value){let Vn=Ft.value;const Zn=m;if("string"!=typeof Vn&&("number"!=typeof Vn||!isFinite(Vn)))return as.errors=[{instancePath:t+"/descriptor/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:k1.properties.value.type},message:"must be string,number"}],!1;Ue=Zn===m}else Ue=!0}}}}k=Xt===m}else k=!0}}}}}}}G=pt===m}else G=!0}}}}return as.errors=d,0===m}as.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Xf=Ds,$l={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-read.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageCid:{type:"string"}}}}};function Ds(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=Ds.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return Ds.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ie;if(void 0===r.authorization&&(ie="authorization")||void 0===r.descriptor&&(ie="descriptor"))return Ds.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:ie},message:"must have required property '"+ie+"'"}],!1;{const Ue=m;for(const He in r)if("authorization"!==He&&"descriptor"!==He)return Ds.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:He},message:"must NOT have additional properties"}],!1;if(Ue===m){if(void 0!==r.authorization){const He=m;Da(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:y})||(d=null===d?Da.errors:d.concat(Da.errors),m=d.length);var G=He===m}else G=!0;if(G)if(void 0!==r.descriptor){let He=r.descriptor;const Ve=m;if(m===Ve){if(!He||"object"!=typeof He||Array.isArray(He))return Ds.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let pt;if(void 0===He.interface&&(pt="interface")||void 0===He.method&&(pt="method")||void 0===He.messageTimestamp&&(pt="messageTimestamp"))return Ds.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:pt},message:"must have required property '"+pt+"'"}],!1;{const At=m;for(const bt in He)if("interface"!==bt&&"method"!==bt&&"messageTimestamp"!==bt&&"messageCid"!==bt)return Ds.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:bt},message:"must NOT have additional properties"}],!1;if(At===m){if(void 0!==He.interface){let bt=He.interface;const _t=m;if("string"!=typeof bt)return Ds.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==bt)return Ds.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:$l.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=_t===m}else k=!0;if(k){if(void 0!==He.method){let bt=He.method;const _t=m;if("string"!=typeof bt)return Ds.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==bt)return Ds.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:$l.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=_t===m}else k=!0;if(k){if(void 0!==He.messageTimestamp){let bt=He.messageTimestamp;const _t=m;if(m==m){if("string"!=typeof bt)return Ds.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(bt))return Ds.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=_t===m}else k=!0;if(k)if(void 0!==He.messageCid){const bt=m;if("string"!=typeof He.messageCid)return Ds.errors=[{instancePath:t+"/descriptor/messageCid",schemaPath:"#/properties/descriptor/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;k=bt===m}else k=!0}}}}}}G=Ve===m}else G=!0}}}}return Ds.errors=d,0===m}Ds.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Sm=zs,za={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor","authorization"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{type:"string"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/messages-filter.json"}}}}}};function zs(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=zs.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return zs.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ue;if(void 0===r.descriptor&&(Ue="descriptor")||void 0===r.authorization&&(Ue="authorization"))return zs.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ue},message:"must have required property '"+Ue+"'"}],!1;{const He=m;for(const Ve in r)if("authorization"!==Ve&&"descriptor"!==Ve)return zs.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ve},message:"must NOT have additional properties"}],!1;if(He===m){if(void 0!==r.authorization){const Ve=m;Da(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:y})||(d=null===d?Da.errors:d.concat(Da.errors),m=d.length);var G=Ve===m}else G=!0;if(G)if(void 0!==r.descriptor){let Ve=r.descriptor;const qe=m;if(m===qe){if(!Ve||"object"!=typeof Ve||Array.isArray(Ve))return zs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let At;if(void 0===Ve.interface&&(At="interface")||void 0===Ve.method&&(At="method")||void 0===Ve.messageTimestamp&&(At="messageTimestamp")||void 0===Ve.filters&&(At="filters"))return zs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:At},message:"must have required property '"+At+"'"}],!1;{const bt=m;for(const _t in Ve)if("interface"!==_t&&"method"!==_t&&"messageTimestamp"!==_t&&"filters"!==_t)return zs.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_t},message:"must NOT have additional properties"}],!1;if(bt===m){if(void 0!==Ve.interface){let _t=Ve.interface;const Ft=m;if("string"!=typeof _t)return zs.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==_t)return zs.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:za.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=Ft===m}else k=!0;if(k){if(void 0!==Ve.method){let _t=Ve.method;const Ft=m;if("string"!=typeof _t)return zs.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==_t)return zs.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:za.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=Ft===m}else k=!0;if(k){if(void 0!==Ve.messageTimestamp){const _t=m;if("string"!=typeof Ve.messageTimestamp)return zs.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;k=_t===m}else k=!0;if(k)if(void 0!==Ve.filters){let _t=Ve.filters;const Ft=m;if(m===Ft){if(!Array.isArray(_t))return zs.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const Ht=_t.length;for(let on=0;on<Ht;on++){const ln=m;if(Ko(_t[on],{instancePath:t+"/descriptor/filters/"+on,parentData:_t,parentDataProperty:on,rootData:u,dynamicAnchors:y})||(d=null===d?Ko.errors:d.concat(Ko.errors),m=d.length),ln!==m)break}}}k=Ft===m}else k=!0}}}}}}G=qe===m}else G=!0}}}}return zs.errors=d,0===m}zs.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const gh=Gi;function Gi(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=Gi.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return Gi.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Gi.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const qe=m;for(const pt in r)if("gt"!==pt&&"gte"!==pt&&"lt"!==pt&&"lte"!==pt)return Gi.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:pt},message:"must NOT have additional properties"}],!1;if(qe===m){if(void 0!==r.gt){const pt=m,At=m,bt=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let _t;if(void 0===r.gte&&(_t="gte")){const Ft={};null===d?d=[Ft]:d.push(Ft),m++}}if(bt===m)return Gi.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;m=At,null!==d&&(At?d.length=At:d=null);var k=pt===m}else k=!0;if(k){if(void 0!==r.gte){const pt=m,At=m,bt=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Ft;if(void 0===r.gt&&(Ft="gt")){const Xt={};null===d?d=[Xt]:d.push(Xt),m++}}if(bt===m)return Gi.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;m=At,null!==d&&(At?d.length=At:d=null),k=pt===m}else k=!0;if(k){if(void 0!==r.lt){const pt=m,At=m,bt=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Ft;if(void 0===r.lte&&(Ft="lte")){const Xt={};null===d?d=[Xt]:d.push(Xt),m++}}if(bt===m)return Gi.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;m=At,null!==d&&(At?d.length=At:d=null),k=pt===m}else k=!0;if(k){if(void 0!==r.lte){const pt=m,At=m,bt=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Ft;if(void 0===r.lt&&(Ft="lt")){const Xt={};null===d?d=[Xt]:d.push(Xt),m++}}if(bt===m)return Gi.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;m=At,null!==d&&(At?d.length=At:d=null),k=pt===m}else k=!0;if(k){if(void 0!==r.gt){let pt=r.gt;const At=m;if("number"!=typeof pt||!isFinite(pt))return Gi.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Ve=At===m}else Ve=!0;if(Ve){if(void 0!==r.gte){let pt=r.gte;const At=m;if("number"!=typeof pt||!isFinite(pt))return Gi.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Ve=At===m}else Ve=!0;if(Ve){if(void 0!==r.lt){let pt=r.lt;const At=m;if("number"!=typeof pt||!isFinite(pt))return Gi.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Ve=At===m}else Ve=!0;if(Ve)if(void 0!==r.lte){let pt=r.lte;const At=m;if("number"!=typeof pt||!isFinite(pt))return Gi.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Ve=At===m}else Ve=!0}}}}}}}}}return Gi.errors=d,0===m}Gi.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Wy=Vu;function Vu(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){const Z=Vu.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Vu.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Vu.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let k;if(void 0===r.messageCid&&(k="messageCid")||void 0===r.value&&(k="value"))return Vu.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const ie=0;for(const Ue in r)if("messageCid"!==Ue&&"value"!==Ue)return Vu.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ue},message:"must NOT have additional properties"}],!1;if(0===ie){if(void 0!==r.messageCid){const Ue=0;if("string"!=typeof r.messageCid)return Vu.errors=[{instancePath:t+"/messageCid",schemaPath:"#/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=0===Ue}else G=!0;if(G)if(void 0!==r.value){let Ue=r.value;const He=0;if("string"!=typeof Ue&&("number"!=typeof Ue||!isFinite(Ue)))return Vu.errors=[{instancePath:t+"/value",schemaPath:"#/properties/value/type",keyword:"type",params:{type:k1.properties.value.type},message:"must be string,number"}],!1;G=0===He}else G=!0}}}return Vu.errors=null,!0}Vu.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Am=al,Np={type:"object",additionalProperties:!1,properties:{publication:{enum:["Required","Prohibited"],type:"string"}}};function Cd(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=Cd.evaluated;Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0);const G=m;let k=!1,ie=null;const Ue=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let Zn;if(void 0===r.interface&&(Zn="interface")||void 0===r.method&&(Zn="method")){const _r={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/required",keyword:"required",params:{missingProperty:Zn},message:"must have required property '"+Zn+"'"};null===d?d=[_r]:d.push(_r),m++}else{const _r=m;for(const Xn in r)if("interface"!==Xn&&"method"!==Xn&&"protocol"!==Xn){const ar={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xn},message:"must NOT have additional properties"};null===d?d=[ar]:d.push(ar),m++;break}if(_r===m){if(void 0!==r.interface){const Xn=m;if("Messages"!==r.interface){const ar={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===d?d=[ar]:d.push(ar),m++}var Ve=Xn===m}else Ve=!0;if(Ve){if(void 0!==r.method){const Xn=m;if("Query"!==r.method){const wn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===d?d=[wn]:d.push(wn),m++}Ve=Xn===m}else Ve=!0;if(Ve)if(void 0!==r.protocol){const Xn=m;if("string"!=typeof r.protocol){const wn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[wn]:d.push(wn),m++}Ve=Xn===m}else Ve=!0}}}}else{const Zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[Zn]:d.push(Zn),m++}if(_t=Ue===m){k=!0,ie=0;var qe=!0}const pt=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let Zn;if(void 0===r.interface&&(Zn="interface")||void 0===r.method&&(Zn="method")){const _r={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/required",keyword:"required",params:{missingProperty:Zn},message:"must have required property '"+Zn+"'"};null===d?d=[_r]:d.push(_r),m++}else{const _r=m;for(const Xn in r)if("interface"!==Xn&&"method"!==Xn&&"protocol"!==Xn){const ar={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xn},message:"must NOT have additional properties"};null===d?d=[ar]:d.push(ar),m++;break}if(_r===m){if(void 0!==r.interface){const Xn=m;if("Messages"!==r.interface){const ar={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===d?d=[ar]:d.push(ar),m++}var bt=Xn===m}else bt=!0;if(bt){if(void 0!==r.method){const Xn=m;if("Read"!==r.method){const wn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===d?d=[wn]:d.push(wn),m++}bt=Xn===m}else bt=!0;if(bt)if(void 0!==r.protocol){const Xn=m;if("string"!=typeof r.protocol){const wn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[wn]:d.push(wn),m++}bt=Xn===m}else bt=!0}}}}else{const Zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[Zn]:d.push(Zn),m++}if((_t=pt===m)&&k)k=!1,ie=[ie,1];else{_t&&(k=!0,ie=1,!0!==qe&&(qe=!0));const Zn=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let ar;if(void 0===r.interface&&(ar="interface")||void 0===r.method&&(ar="method")){const wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/required",keyword:"required",params:{missingProperty:ar},message:"must have required property '"+ar+"'"};null===d?d=[wn]:d.push(wn),m++}else{const wn=m;for(const Dn in r)if("interface"!==Dn&&"method"!==Dn&&"protocol"!==Dn){const Rn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Dn},message:"must NOT have additional properties"};null===d?d=[Rn]:d.push(Rn),m++;break}if(wn===m){if(void 0!==r.interface){const Dn=m;if("Messages"!==r.interface){const Rn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===d?d=[Rn]:d.push(Rn),m++}var Ft=Dn===m}else Ft=!0;if(Ft){if(void 0!==r.method){const Dn=m;if("Subscribe"!==r.method){const Jn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===d?d=[Jn]:d.push(Jn),m++}Ft=Dn===m}else Ft=!0;if(Ft)if(void 0!==r.protocol){const Dn=m;if("string"!=typeof r.protocol){const Jn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Jn]:d.push(Jn),m++}Ft=Dn===m}else Ft=!0}}}}else{const ar={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[ar]:d.push(ar),m++}if((_t=Zn===m)&&k)k=!1,ie=[ie,2];else{_t&&(k=!0,ie=2,!0!==qe&&(qe=!0));const ar=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let Rn;if(void 0===r.interface&&(Rn="interface")||void 0===r.method&&(Rn="method")){const Jn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/required",keyword:"required",params:{missingProperty:Rn},message:"must have required property '"+Rn+"'"};null===d?d=[Jn]:d.push(Jn),m++}else{const Jn=m;for(const Un in r)if("interface"!==Un&&"method"!==Un){const or={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Un},message:"must NOT have additional properties"};null===d?d=[or]:d.push(or),m++;break}if(Jn===m){if(void 0!==r.interface){const Un=m;if("Protocols"!==r.interface){const or={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===d?d=[or]:d.push(or),m++}var Xt=Un===m}else Xt=!0;if(Xt)if(void 0!==r.method){const Un=m;if("Query"!==r.method){const Mr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===d?d=[Mr]:d.push(Mr),m++}Xt=Un===m}else Xt=!0}}}else{const Rn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[Rn]:d.push(Rn),m++}if((_t=ar===m)&&k)k=!1,ie=[ie,3];else{_t&&(k=!0,ie=3,!0!==qe&&(qe=!0));const Rn=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let or;if(void 0===r.interface&&(or="interface")||void 0===r.method&&(or="method")){const Mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:or},message:"must have required property '"+or+"'"};null===d?d=[Mr]:d.push(Mr),m++}else{const Mr=m;for(const Sr in r)if("interface"!==Sr&&"method"!==Sr&&"protocol"!==Sr&&"contextId"!==Sr&&"protocolPath"!==Sr){const Tn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Sr},message:"must NOT have additional properties"};null===d?d=[Tn]:d.push(Tn),m++;break}if(Mr===m){if(void 0!==r.interface){const Sr=m;if("Records"!==r.interface){const Tn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===d?d=[Tn]:d.push(Tn),m++}var Ht=Sr===m}else Ht=!0;if(Ht){if(void 0!==r.method){const Sr=m;if("Read"!==r.method){const Ir={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===d?d=[Ir]:d.push(Ir),m++}Ht=Sr===m}else Ht=!0;if(Ht){if(void 0!==r.protocol){const Sr=m;if("string"!=typeof r.protocol){const Ir={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Ir]:d.push(Ir),m++}Ht=Sr===m}else Ht=!0;if(Ht){if(void 0!==r.contextId){const Sr=m;if("string"!=typeof r.contextId){const Ir={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Ir]:d.push(Ir),m++}Ht=Sr===m}else Ht=!0;if(Ht)if(void 0!==r.protocolPath){const Sr=m;if("string"!=typeof r.protocolPath){const Ir={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Ir]:d.push(Ir),m++}Ht=Sr===m}else Ht=!0}}}}}}else{const or={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[or]:d.push(or),m++}if((_t=Rn===m)&&k)k=!1,ie=[ie,4];else{_t&&(k=!0,ie=4,!0!==qe&&(qe=!0));const or=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let Tn;if(void 0===r.interface&&(Tn="interface")||void 0===r.method&&(Tn="method")){const Ir={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:Tn},message:"must have required property '"+Tn+"'"};null===d?d=[Ir]:d.push(Ir),m++}else{const Ir=m;for(const Kr in r)if("interface"!==Kr&&"method"!==Kr&&"protocol"!==Kr&&"contextId"!==Kr&&"protocolPath"!==Kr){const dr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Kr},message:"must NOT have additional properties"};null===d?d=[dr]:d.push(dr),m++;break}if(Ir===m){if(void 0!==r.interface){const Kr=m;if("Records"!==r.interface){const dr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===d?d=[dr]:d.push(dr),m++}var on=Kr===m}else on=!0;if(on){if(void 0!==r.method){const Kr=m;if("Delete"!==r.method){const Wn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===d?d=[Wn]:d.push(Wn),m++}on=Kr===m}else on=!0;if(on){if(void 0!==r.protocol){const Kr=m;if("string"!=typeof r.protocol){const Wn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Wn]:d.push(Wn),m++}on=Kr===m}else on=!0;if(on){if(void 0!==r.contextId){const Kr=m;if("string"!=typeof r.contextId){const Wn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Wn]:d.push(Wn),m++}on=Kr===m}else on=!0;if(on)if(void 0!==r.protocolPath){const Kr=m;if("string"!=typeof r.protocolPath){const Wn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Wn]:d.push(Wn),m++}on=Kr===m}else on=!0}}}}}}else{const Tn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[Tn]:d.push(Tn),m++}if((_t=or===m)&&k)k=!1,ie=[ie,5];else{_t&&(k=!0,ie=5,!0!==qe&&(qe=!0));const Tn=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let dr;if(void 0===r.interface&&(dr="interface")||void 0===r.method&&(dr="method")){const Wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:dr},message:"must have required property '"+dr+"'"};null===d?d=[Wn]:d.push(Wn),m++}else{const Wn=m;for(const mr in r)if("interface"!==mr&&"method"!==mr&&"protocol"!==mr&&"contextId"!==mr&&"protocolPath"!==mr){const Or={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:mr},message:"must NOT have additional properties"};null===d?d=[Or]:d.push(Or),m++;break}if(Wn===m){if(void 0!==r.interface){const mr=m;if("Records"!==r.interface){const Or={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===d?d=[Or]:d.push(Or),m++}var ln=mr===m}else ln=!0;if(ln){if(void 0!==r.method){const mr=m;if("Write"!==r.method){const Yr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===d?d=[Yr]:d.push(Yr),m++}ln=mr===m}else ln=!0;if(ln){if(void 0!==r.protocol){const mr=m;if("string"!=typeof r.protocol){const Yr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Yr]:d.push(Yr),m++}ln=mr===m}else ln=!0;if(ln){if(void 0!==r.contextId){const mr=m;if("string"!=typeof r.contextId){const Yr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Yr]:d.push(Yr),m++}ln=mr===m}else ln=!0;if(ln)if(void 0!==r.protocolPath){const mr=m;if("string"!=typeof r.protocolPath){const Yr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Yr]:d.push(Yr),m++}ln=mr===m}else ln=!0}}}}}}else{const dr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[dr]:d.push(dr),m++}if((_t=Tn===m)&&k)k=!1,ie=[ie,6];else{_t&&(k=!0,ie=6,!0!==qe&&(qe=!0));const dr=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let Or;if(void 0===r.interface&&(Or="interface")||void 0===r.method&&(Or="method")){const Yr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:Or},message:"must have required property '"+Or+"'"};null===d?d=[Yr]:d.push(Yr),m++}else{const Yr=m;for(const ei in r)if("interface"!==ei&&"method"!==ei&&"protocol"!==ei&&"contextId"!==ei&&"protocolPath"!==ei){const zr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ei},message:"must NOT have additional properties"};null===d?d=[zr]:d.push(zr),m++;break}if(Yr===m){if(void 0!==r.interface){const ei=m;if("Records"!==r.interface){const zr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===d?d=[zr]:d.push(zr),m++}var Ln=ei===m}else Ln=!0;if(Ln){if(void 0!==r.method){const ei=m;if("Query"!==r.method){const Xr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===d?d=[Xr]:d.push(Xr),m++}Ln=ei===m}else Ln=!0;if(Ln){if(void 0!==r.protocol){const ei=m;if("string"!=typeof r.protocol){const Xr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Xr]:d.push(Xr),m++}Ln=ei===m}else Ln=!0;if(Ln){if(void 0!==r.contextId){const ei=m;if("string"!=typeof r.contextId){const Xr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Xr]:d.push(Xr),m++}Ln=ei===m}else Ln=!0;if(Ln)if(void 0!==r.protocolPath){const ei=m;if("string"!=typeof r.protocolPath){const Xr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Xr]:d.push(Xr),m++}Ln=ei===m}else Ln=!0}}}}}}else{const Or={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[Or]:d.push(Or),m++}if((_t=dr===m)&&k)k=!1,ie=[ie,7];else{_t&&(k=!0,ie=7,!0!==qe&&(qe=!0));const Or=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let zr;if(void 0===r.interface&&(zr="interface")||void 0===r.method&&(zr="method")){const Xr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:zr},message:"must have required property '"+zr+"'"};null===d?d=[Xr]:d.push(Xr),m++}else{const Xr=m;for(const Vi in r)if("interface"!==Vi&&"method"!==Vi&&"protocol"!==Vi&&"contextId"!==Vi&&"protocolPath"!==Vi){const ec={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Vi},message:"must NOT have additional properties"};null===d?d=[ec]:d.push(ec),m++;break}if(Xr===m){if(void 0!==r.interface){const Vi=m;if("Records"!==r.interface){const ec={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===d?d=[ec]:d.push(ec),m++}var Vn=Vi===m}else Vn=!0;if(Vn){if(void 0!==r.method){const Vi=m;if("Subscribe"!==r.method){const Pr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===d?d=[Pr]:d.push(Pr),m++}Vn=Vi===m}else Vn=!0;if(Vn){if(void 0!==r.protocol){const Vi=m;if("string"!=typeof r.protocol){const Pr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Pr]:d.push(Pr),m++}Vn=Vi===m}else Vn=!0;if(Vn){if(void 0!==r.contextId){const Vi=m;if("string"!=typeof r.contextId){const Pr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Pr]:d.push(Pr),m++}Vn=Vi===m}else Vn=!0;if(Vn)if(void 0!==r.protocolPath){const Vi=m;if("string"!=typeof r.protocolPath){const Pr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Pr]:d.push(Pr),m++}Vn=Vi===m}else Vn=!0}}}}}}else{const zr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[zr]:d.push(zr),m++}var _t;(_t=Or===m)&&k?(k=!1,ie=[ie,8]):_t&&(k=!0,ie=8,!0!==qe&&(qe=!0))}}}}}}}if(!k){const Zn={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:ie},message:"must match exactly one schema in oneOf"};return null===d?d=[Zn]:d.push(Zn),m++,Cd.errors=d,!1}return m=G,null!==d&&(G?d.length=G:d=null),Cd.errors=d,Z.props=qe,0===m}function al(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=al.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return al.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.dateExpires&&(k="dateExpires")||void 0===r.scope&&(k="scope"))return al.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const ie=m;for(const Ue in r)if("description"!==Ue&&"dateExpires"!==Ue&&"requestId"!==Ue&&"delegated"!==Ue&&"scope"!==Ue&&"conditions"!==Ue)return al.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ue},message:"must NOT have additional properties"}],!1;if(ie===m){if(void 0!==r.description){const Ue=m;if("string"!=typeof r.description)return al.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=Ue===m}else G=!0;if(G){if(void 0!==r.dateExpires){let Ue=r.dateExpires;const He=m;if(m==m){if("string"!=typeof Ue)return al.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(Ue))return al.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}G=He===m}else G=!0;if(G){if(void 0!==r.requestId){const Ue=m;if("string"!=typeof r.requestId)return al.errors=[{instancePath:t+"/requestId",schemaPath:"#/properties/requestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;G=Ue===m}else G=!0;if(G){if(void 0!==r.delegated){const Ue=m;if("boolean"!=typeof r.delegated)return al.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;G=Ue===m}else G=!0;if(G){if(void 0!==r.scope){const Ue=m;Cd(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:u,dynamicAnchors:y})||(d=null===d?Cd.errors:d.concat(Cd.errors),m=d.length),G=Ue===m}else G=!0;if(G)if(void 0!==r.conditions){let Ue=r.conditions;const He=m;if(m==m){if(!Ue||"object"!=typeof Ue||Array.isArray(Ue))return al.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const pt=m;for(const At in Ue)if("publication"!==At)return al.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:At},message:"must NOT have additional properties"}],!1;if(pt===m&&void 0!==Ue.publication){let At=Ue.publication;if("string"!=typeof At)return al.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==At&&"Prohibited"!==At)return al.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:Np.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}G=He===m}else G=!0}}}}}}}}return al.errors=d,0===m}Cd.evaluated={dynamicProps:!0,dynamicItems:!1},al.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Cm=ba;function vh(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=vh.evaluated;Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0);const G=m;let k=!1,ie=null;const Ue=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let Zn;if(void 0===r.interface&&(Zn="interface")||void 0===r.method&&(Zn="method")){const _r={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/required",keyword:"required",params:{missingProperty:Zn},message:"must have required property '"+Zn+"'"};null===d?d=[_r]:d.push(_r),m++}else{const _r=m;for(const Xn in r)if("interface"!==Xn&&"method"!==Xn&&"protocol"!==Xn){const ar={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xn},message:"must NOT have additional properties"};null===d?d=[ar]:d.push(ar),m++;break}if(_r===m){if(void 0!==r.interface){const Xn=m;if("Messages"!==r.interface){const ar={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===d?d=[ar]:d.push(ar),m++}var Ve=Xn===m}else Ve=!0;if(Ve){if(void 0!==r.method){const Xn=m;if("Query"!==r.method){const wn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===d?d=[wn]:d.push(wn),m++}Ve=Xn===m}else Ve=!0;if(Ve)if(void 0!==r.protocol){const Xn=m;if("string"!=typeof r.protocol){const wn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[wn]:d.push(wn),m++}Ve=Xn===m}else Ve=!0}}}}else{const Zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[Zn]:d.push(Zn),m++}if(_t=Ue===m){k=!0,ie=0;var qe=!0}const pt=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let Zn;if(void 0===r.interface&&(Zn="interface")||void 0===r.method&&(Zn="method")){const _r={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/required",keyword:"required",params:{missingProperty:Zn},message:"must have required property '"+Zn+"'"};null===d?d=[_r]:d.push(_r),m++}else{const _r=m;for(const Xn in r)if("interface"!==Xn&&"method"!==Xn&&"protocol"!==Xn){const ar={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xn},message:"must NOT have additional properties"};null===d?d=[ar]:d.push(ar),m++;break}if(_r===m){if(void 0!==r.interface){const Xn=m;if("Messages"!==r.interface){const ar={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===d?d=[ar]:d.push(ar),m++}var bt=Xn===m}else bt=!0;if(bt){if(void 0!==r.method){const Xn=m;if("Read"!==r.method){const wn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===d?d=[wn]:d.push(wn),m++}bt=Xn===m}else bt=!0;if(bt)if(void 0!==r.protocol){const Xn=m;if("string"!=typeof r.protocol){const wn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[wn]:d.push(wn),m++}bt=Xn===m}else bt=!0}}}}else{const Zn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[Zn]:d.push(Zn),m++}if((_t=pt===m)&&k)k=!1,ie=[ie,1];else{_t&&(k=!0,ie=1,!0!==qe&&(qe=!0));const Zn=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let ar;if(void 0===r.interface&&(ar="interface")||void 0===r.method&&(ar="method")){const wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/required",keyword:"required",params:{missingProperty:ar},message:"must have required property '"+ar+"'"};null===d?d=[wn]:d.push(wn),m++}else{const wn=m;for(const Dn in r)if("interface"!==Dn&&"method"!==Dn&&"protocol"!==Dn){const Rn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Dn},message:"must NOT have additional properties"};null===d?d=[Rn]:d.push(Rn),m++;break}if(wn===m){if(void 0!==r.interface){const Dn=m;if("Messages"!==r.interface){const Rn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===d?d=[Rn]:d.push(Rn),m++}var Ft=Dn===m}else Ft=!0;if(Ft){if(void 0!==r.method){const Dn=m;if("Subscribe"!==r.method){const Jn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===d?d=[Jn]:d.push(Jn),m++}Ft=Dn===m}else Ft=!0;if(Ft)if(void 0!==r.protocol){const Dn=m;if("string"!=typeof r.protocol){const Jn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Jn]:d.push(Jn),m++}Ft=Dn===m}else Ft=!0}}}}else{const ar={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[ar]:d.push(ar),m++}if((_t=Zn===m)&&k)k=!1,ie=[ie,2];else{_t&&(k=!0,ie=2,!0!==qe&&(qe=!0));const ar=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let Rn;if(void 0===r.interface&&(Rn="interface")||void 0===r.method&&(Rn="method")){const Jn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/required",keyword:"required",params:{missingProperty:Rn},message:"must have required property '"+Rn+"'"};null===d?d=[Jn]:d.push(Jn),m++}else{const Jn=m;for(const Un in r)if("interface"!==Un&&"method"!==Un){const or={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Un},message:"must NOT have additional properties"};null===d?d=[or]:d.push(or),m++;break}if(Jn===m){if(void 0!==r.interface){const Un=m;if("Protocols"!==r.interface){const or={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===d?d=[or]:d.push(or),m++}var Xt=Un===m}else Xt=!0;if(Xt)if(void 0!==r.method){const Un=m;if("Query"!==r.method){const Mr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===d?d=[Mr]:d.push(Mr),m++}Xt=Un===m}else Xt=!0}}}else{const Rn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[Rn]:d.push(Rn),m++}if((_t=ar===m)&&k)k=!1,ie=[ie,3];else{_t&&(k=!0,ie=3,!0!==qe&&(qe=!0));const Rn=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let or;if(void 0===r.interface&&(or="interface")||void 0===r.method&&(or="method")){const Mr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:or},message:"must have required property '"+or+"'"};null===d?d=[Mr]:d.push(Mr),m++}else{const Mr=m;for(const Sr in r)if("interface"!==Sr&&"method"!==Sr&&"protocol"!==Sr&&"contextId"!==Sr&&"protocolPath"!==Sr){const Tn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Sr},message:"must NOT have additional properties"};null===d?d=[Tn]:d.push(Tn),m++;break}if(Mr===m){if(void 0!==r.interface){const Sr=m;if("Records"!==r.interface){const Tn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===d?d=[Tn]:d.push(Tn),m++}var Ht=Sr===m}else Ht=!0;if(Ht){if(void 0!==r.method){const Sr=m;if("Read"!==r.method){const Ir={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===d?d=[Ir]:d.push(Ir),m++}Ht=Sr===m}else Ht=!0;if(Ht){if(void 0!==r.protocol){const Sr=m;if("string"!=typeof r.protocol){const Ir={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Ir]:d.push(Ir),m++}Ht=Sr===m}else Ht=!0;if(Ht){if(void 0!==r.contextId){const Sr=m;if("string"!=typeof r.contextId){const Ir={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Ir]:d.push(Ir),m++}Ht=Sr===m}else Ht=!0;if(Ht)if(void 0!==r.protocolPath){const Sr=m;if("string"!=typeof r.protocolPath){const Ir={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Ir]:d.push(Ir),m++}Ht=Sr===m}else Ht=!0}}}}}}else{const or={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[or]:d.push(or),m++}if((_t=Rn===m)&&k)k=!1,ie=[ie,4];else{_t&&(k=!0,ie=4,!0!==qe&&(qe=!0));const or=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let Tn;if(void 0===r.interface&&(Tn="interface")||void 0===r.method&&(Tn="method")){const Ir={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:Tn},message:"must have required property '"+Tn+"'"};null===d?d=[Ir]:d.push(Ir),m++}else{const Ir=m;for(const Kr in r)if("interface"!==Kr&&"method"!==Kr&&"protocol"!==Kr&&"contextId"!==Kr&&"protocolPath"!==Kr){const dr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Kr},message:"must NOT have additional properties"};null===d?d=[dr]:d.push(dr),m++;break}if(Ir===m){if(void 0!==r.interface){const Kr=m;if("Records"!==r.interface){const dr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===d?d=[dr]:d.push(dr),m++}var on=Kr===m}else on=!0;if(on){if(void 0!==r.method){const Kr=m;if("Delete"!==r.method){const Wn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===d?d=[Wn]:d.push(Wn),m++}on=Kr===m}else on=!0;if(on){if(void 0!==r.protocol){const Kr=m;if("string"!=typeof r.protocol){const Wn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Wn]:d.push(Wn),m++}on=Kr===m}else on=!0;if(on){if(void 0!==r.contextId){const Kr=m;if("string"!=typeof r.contextId){const Wn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Wn]:d.push(Wn),m++}on=Kr===m}else on=!0;if(on)if(void 0!==r.protocolPath){const Kr=m;if("string"!=typeof r.protocolPath){const Wn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Wn]:d.push(Wn),m++}on=Kr===m}else on=!0}}}}}}else{const Tn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[Tn]:d.push(Tn),m++}if((_t=or===m)&&k)k=!1,ie=[ie,5];else{_t&&(k=!0,ie=5,!0!==qe&&(qe=!0));const Tn=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let dr;if(void 0===r.interface&&(dr="interface")||void 0===r.method&&(dr="method")){const Wn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:dr},message:"must have required property '"+dr+"'"};null===d?d=[Wn]:d.push(Wn),m++}else{const Wn=m;for(const mr in r)if("interface"!==mr&&"method"!==mr&&"protocol"!==mr&&"contextId"!==mr&&"protocolPath"!==mr){const Or={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:mr},message:"must NOT have additional properties"};null===d?d=[Or]:d.push(Or),m++;break}if(Wn===m){if(void 0!==r.interface){const mr=m;if("Records"!==r.interface){const Or={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===d?d=[Or]:d.push(Or),m++}var ln=mr===m}else ln=!0;if(ln){if(void 0!==r.method){const mr=m;if("Write"!==r.method){const Yr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===d?d=[Yr]:d.push(Yr),m++}ln=mr===m}else ln=!0;if(ln){if(void 0!==r.protocol){const mr=m;if("string"!=typeof r.protocol){const Yr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Yr]:d.push(Yr),m++}ln=mr===m}else ln=!0;if(ln){if(void 0!==r.contextId){const mr=m;if("string"!=typeof r.contextId){const Yr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Yr]:d.push(Yr),m++}ln=mr===m}else ln=!0;if(ln)if(void 0!==r.protocolPath){const mr=m;if("string"!=typeof r.protocolPath){const Yr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Yr]:d.push(Yr),m++}ln=mr===m}else ln=!0}}}}}}else{const dr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[dr]:d.push(dr),m++}if((_t=Tn===m)&&k)k=!1,ie=[ie,6];else{_t&&(k=!0,ie=6,!0!==qe&&(qe=!0));const dr=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let Or;if(void 0===r.interface&&(Or="interface")||void 0===r.method&&(Or="method")){const Yr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:Or},message:"must have required property '"+Or+"'"};null===d?d=[Yr]:d.push(Yr),m++}else{const Yr=m;for(const ei in r)if("interface"!==ei&&"method"!==ei&&"protocol"!==ei&&"contextId"!==ei&&"protocolPath"!==ei){const zr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ei},message:"must NOT have additional properties"};null===d?d=[zr]:d.push(zr),m++;break}if(Yr===m){if(void 0!==r.interface){const ei=m;if("Records"!==r.interface){const zr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===d?d=[zr]:d.push(zr),m++}var Ln=ei===m}else Ln=!0;if(Ln){if(void 0!==r.method){const ei=m;if("Query"!==r.method){const Xr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===d?d=[Xr]:d.push(Xr),m++}Ln=ei===m}else Ln=!0;if(Ln){if(void 0!==r.protocol){const ei=m;if("string"!=typeof r.protocol){const Xr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Xr]:d.push(Xr),m++}Ln=ei===m}else Ln=!0;if(Ln){if(void 0!==r.contextId){const ei=m;if("string"!=typeof r.contextId){const Xr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Xr]:d.push(Xr),m++}Ln=ei===m}else Ln=!0;if(Ln)if(void 0!==r.protocolPath){const ei=m;if("string"!=typeof r.protocolPath){const Xr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Xr]:d.push(Xr),m++}Ln=ei===m}else Ln=!0}}}}}}else{const Or={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[Or]:d.push(Or),m++}if((_t=dr===m)&&k)k=!1,ie=[ie,7];else{_t&&(k=!0,ie=7,!0!==qe&&(qe=!0));const Or=m;if(m==m)if(r&&"object"==typeof r&&!Array.isArray(r)){let zr;if(void 0===r.interface&&(zr="interface")||void 0===r.method&&(zr="method")){const Xr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:zr},message:"must have required property '"+zr+"'"};null===d?d=[Xr]:d.push(Xr),m++}else{const Xr=m;for(const Vi in r)if("interface"!==Vi&&"method"!==Vi&&"protocol"!==Vi&&"contextId"!==Vi&&"protocolPath"!==Vi){const ec={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Vi},message:"must NOT have additional properties"};null===d?d=[ec]:d.push(ec),m++;break}if(Xr===m){if(void 0!==r.interface){const Vi=m;if("Records"!==r.interface){const ec={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===d?d=[ec]:d.push(ec),m++}var Vn=Vi===m}else Vn=!0;if(Vn){if(void 0!==r.method){const Vi=m;if("Subscribe"!==r.method){const Pr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===d?d=[Pr]:d.push(Pr),m++}Vn=Vi===m}else Vn=!0;if(Vn){if(void 0!==r.protocol){const Vi=m;if("string"!=typeof r.protocol){const Pr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Pr]:d.push(Pr),m++}Vn=Vi===m}else Vn=!0;if(Vn){if(void 0!==r.contextId){const Vi=m;if("string"!=typeof r.contextId){const Pr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Pr]:d.push(Pr),m++}Vn=Vi===m}else Vn=!0;if(Vn)if(void 0!==r.protocolPath){const Vi=m;if("string"!=typeof r.protocolPath){const Pr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Pr]:d.push(Pr),m++}Vn=Vi===m}else Vn=!0}}}}}}else{const zr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===d?d=[zr]:d.push(zr),m++}var _t;(_t=Or===m)&&k?(k=!1,ie=[ie,8]):_t&&(k=!0,ie=8,!0!==qe&&(qe=!0))}}}}}}}if(!k){const Zn={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:ie},message:"must match exactly one schema in oneOf"};return null===d?d=[Zn]:d.push(Zn),m++,vh.errors=d,!1}return m=G,null!==d&&(G?d.length=G:d=null),vh.errors=d,Z.props=qe,0===m}function ba(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=ba.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return ba.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.delegated&&(k="delegated")||void 0===r.scope&&(k="scope"))return ba.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const ie=m;for(const Ue in r)if("description"!==Ue&&"delegated"!==Ue&&"scope"!==Ue&&"conditions"!==Ue)return ba.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ue},message:"must NOT have additional properties"}],!1;if(ie===m){if(void 0!==r.description){const Ue=m;if("string"!=typeof r.description)return ba.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=Ue===m}else G=!0;if(G){if(void 0!==r.delegated){const Ue=m;if("boolean"!=typeof r.delegated)return ba.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;G=Ue===m}else G=!0;if(G){if(void 0!==r.scope){const Ue=m;vh(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:u,dynamicAnchors:y})||(d=null===d?vh.errors:d.concat(vh.errors),m=d.length),G=Ue===m}else G=!0;if(G)if(void 0!==r.conditions){let Ue=r.conditions;const He=m;if(m==m){if(!Ue||"object"!=typeof Ue||Array.isArray(Ue))return ba.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const pt=m;for(const At in Ue)if("publication"!==At)return ba.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:At},message:"must NOT have additional properties"}],!1;if(pt===m&&void 0!==Ue.publication){let At=Ue.publication;if("string"!=typeof At)return ba.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==At&&"Prohibited"!==At)return ba.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:Np.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}G=He===m}else G=!0}}}}}}return ba.errors=d,0===m}vh.evaluated={dynamicProps:!0,dynamicItems:!1},ba.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const ra=Hu;function Hu(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){const Z=Hu.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Hu.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const G=0;for(const k in r)if("description"!==k)return Hu.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:k},message:"must NOT have additional properties"}],!1;if(0===G&&void 0!==r.description&&"string"!=typeof r.description)return Hu.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}return Hu.errors=null,!0}Hu.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Pv=ep;function ep(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){const Z=ep.evaluated;return Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(ep.errors=null,!0):(ep.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}ep.evaluated={dynamicProps:!1,dynamicItems:!1};const uA=E0;function E0(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){const Z=E0.evaluated;return Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(E0.errors=null,!0):(E0.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}E0.evaluated={dynamicProps:!1,dynamicItems:!1};const Zy=Sl,F1=new RegExp(".*","u"),tp={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}},required:["rootKeyId","publicKeyJwk"]},$actions:{type:"array",minItems:1,items:{type:"object",oneOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone","author","recipient"]},of:{type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-prune","co-update","create","delete","prune","read","update"]}}}},{required:["role","can"],properties:{role:{$comment:"Must be the protocol path of a role record type",type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-update","create","delete","query","subscribe","read","update"]}}}}]}},$role:{$comment:"When `true`, this turns a record into `role` that may be used within a context/sub-context",type:"boolean"},$size:{type:"object",additionalProperties:!1,properties:{min:{type:"number",minimum:0},max:{type:"number",minimum:0}}},$tags:{type:"object",minProperties:1,properties:{$requiredTags:{type:"array",items:{type:"string"}},$allowUndefinedTags:{type:"boolean"}},patternProperties:{"^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$":{type:"object",additionalProperties:!1,properties:{type:{enum:["string","number","integer","boolean","array"]},items:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}},contains:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$":{}}}}}},patternProperties:{"^[^$].*$":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},fA=new RegExp("^[^$].*$","u"),Fp=new RegExp("^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$","u"),KI=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$","u"),hA=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$","u"),U1={validate:js};function js(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=js.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return js.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const _r=m;for(const Xn in r)if("$encryption"!==Xn&&"$actions"!==Xn&&"$role"!==Xn&&"$size"!==Xn&&"$tags"!==Xn&&!fA.test(Xn))return js.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xn},message:"must NOT have additional properties"}],!1;if(_r===m){if(void 0!==r.$encryption){let Xn=r.$encryption;const ar=m;if(m===ar){if(!Xn||"object"!=typeof Xn||Array.isArray(Xn))return js.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let wn;if(void 0===Xn.rootKeyId&&(wn="rootKeyId")||void 0===Xn.publicKeyJwk&&(wn="publicKeyJwk"))return js.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/required",keyword:"required",params:{missingProperty:wn},message:"must have required property '"+wn+"'"}],!1;{const Dn=m;for(const Rn in Xn)if("rootKeyId"!==Rn&&"publicKeyJwk"!==Rn)return js.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Rn},message:"must NOT have additional properties"}],!1;if(Dn===m){if(void 0!==Xn.rootKeyId){const Rn=m;if("string"!=typeof Xn.rootKeyId)return js.errors=[{instancePath:t+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=Rn===m}else G=!0;if(G)if(void 0!==Xn.publicKeyJwk){const Rn=m;Us(Xn.publicKeyJwk,{instancePath:t+"/$encryption/publicKeyJwk",parentData:Xn,parentDataProperty:"publicKeyJwk",rootData:u,dynamicAnchors:y})||(d=null===d?Us.errors:d.concat(Us.errors),m=d.length),G=Rn===m}else G=!0}}}}var k=ar===m}else k=!0;if(k){if(void 0!==r.$actions){let Xn=r.$actions;const ar=m;if(m===ar){if(!Array.isArray(Xn))return js.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Xn.length<1)return js.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Dn=Xn.length;for(let Rn=0;Rn<Dn;Rn++){let Jn=Xn[Rn];const Un=m;if(!Jn||"object"!=typeof Jn||Array.isArray(Jn))return js.errors=[{instancePath:t+"/$actions/"+Rn,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;const or=m;let Mr=!1,Sr=null;const Tn=m;if(Jn&&"object"==typeof Jn&&!Array.isArray(Jn)){let dr;if(void 0===Jn.who&&(dr="who")||void 0===Jn.can&&(dr="can")){const Wn={instancePath:t+"/$actions/"+Rn,schemaPath:"#/properties/%24actions/items/oneOf/0/required",keyword:"required",params:{missingProperty:dr},message:"must have required property '"+dr+"'"};null===d?d=[Wn]:d.push(Wn),m++}else{const Wn=m;for(const mr in Jn)if("who"!==mr&&"of"!==mr&&"can"!==mr){const Or={instancePath:t+"/$actions/"+Rn,schemaPath:"#/properties/%24actions/items/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:mr},message:"must NOT have additional properties"};null===d?d=[Or]:d.push(Or),m++;break}if(Wn===m){if(void 0!==Jn.who){let mr=Jn.who;const Or=m;if("string"!=typeof mr){const Yr={instancePath:t+"/$actions/"+Rn+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Yr]:d.push(Yr),m++}if("anyone"!==mr&&"author"!==mr&&"recipient"!==mr){const Yr={instancePath:t+"/$actions/"+Rn+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:tp.properties.$actions.items.oneOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};null===d?d=[Yr]:d.push(Yr),m++}var Ue=Or===m}else Ue=!0;if(Ue){if(void 0!==Jn.of){const mr=m;if("string"!=typeof Jn.of){const Yr={instancePath:t+"/$actions/"+Rn+"/of",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Yr]:d.push(Yr),m++}Ue=mr===m}else Ue=!0;if(Ue)if(void 0!==Jn.can){let mr=Jn.can;const Or=m;if(m===Or)if(Array.isArray(mr))if(mr.length<1){const ei={instancePath:t+"/$actions/"+Rn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===d?d=[ei]:d.push(ei),m++}else{const ei=mr.length;for(let zr=0;zr<ei;zr++){let Xr=mr[zr];const Vi=m;if("string"!=typeof Xr){const Pr={instancePath:t+"/$actions/"+Rn+"/can/"+zr,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[Pr]:d.push(Pr),m++}if("co-delete"!==Xr&&"co-prune"!==Xr&&"co-update"!==Xr&&"create"!==Xr&&"delete"!==Xr&&"prune"!==Xr&&"read"!==Xr&&"update"!==Xr){const Pr={instancePath:t+"/$actions/"+Rn+"/can/"+zr,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/enum",keyword:"enum",params:{allowedValues:tp.properties.$actions.items.oneOf[0].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===d?d=[Pr]:d.push(Pr),m++}if(Vi!==m)break}}else{const ei={instancePath:t+"/$actions/"+Rn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===d?d=[ei]:d.push(ei),m++}Ue=Or===m}else Ue=!0}}}}if(Tn===m){Mr=!0,Sr=0;var Ve=!0}const Ir=m;if(Jn&&"object"==typeof Jn&&!Array.isArray(Jn)){let dr;if(void 0===Jn.role&&(dr="role")||void 0===Jn.can&&(dr="can")){const Wn={instancePath:t+"/$actions/"+Rn,schemaPath:"#/properties/%24actions/items/oneOf/1/required",keyword:"required",params:{missingProperty:dr},message:"must have required property '"+dr+"'"};null===d?d=[Wn]:d.push(Wn),m++}else{if(void 0!==Jn.role){const Wn=m;if("string"!=typeof Jn.role){const mr={instancePath:t+"/$actions/"+Rn+"/role",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[mr]:d.push(mr),m++}var qe=Wn===m}else qe=!0;if(qe)if(void 0!==Jn.can){let Wn=Jn.can;const mr=m;if(m===mr)if(Array.isArray(Wn))if(Wn.length<1){const Yr={instancePath:t+"/$actions/"+Rn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===d?d=[Yr]:d.push(Yr),m++}else{const Yr=Wn.length;for(let ei=0;ei<Yr;ei++){let zr=Wn[ei];const Xr=m;if("string"!=typeof zr){const ec={instancePath:t+"/$actions/"+Rn+"/can/"+ei,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===d?d=[ec]:d.push(ec),m++}if("co-delete"!==zr&&"co-update"!==zr&&"create"!==zr&&"delete"!==zr&&"query"!==zr&&"subscribe"!==zr&&"read"!==zr&&"update"!==zr){const ec={instancePath:t+"/$actions/"+Rn+"/can/"+ei,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/enum",keyword:"enum",params:{allowedValues:tp.properties.$actions.items.oneOf[1].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===d?d=[ec]:d.push(ec),m++}if(Xr!==m)break}}else{const Yr={instancePath:t+"/$actions/"+Rn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===d?d=[Yr]:d.push(Yr),m++}qe=mr===m}else qe=!0}}var At;if((At=Ir===m)&&Mr?(Mr=!1,Sr=[Sr,1]):At&&(Mr=!0,Sr=1,!0!==Ve&&((Ve=Ve||{}).role=!0,Ve.can=!0)),!Mr){const dr={instancePath:t+"/$actions/"+Rn,schemaPath:"#/properties/%24actions/items/oneOf",keyword:"oneOf",params:{passingSchemas:Sr},message:"must match exactly one schema in oneOf"};return null===d?d=[dr]:d.push(dr),m++,js.errors=d,!1}if(m=or,null!==d&&(or?d.length=or:d=null),Un!==m)break}}}k=ar===m}else k=!0;if(k){if(void 0!==r.$role){const Xn=m;if("boolean"!=typeof r.$role)return js.errors=[{instancePath:t+"/$role",schemaPath:"#/properties/%24role/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;k=Xn===m}else k=!0;if(k){if(void 0!==r.$size){let Xn=r.$size;const ar=m;if(m===ar){if(!Xn||"object"!=typeof Xn||Array.isArray(Xn))return js.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Dn=m;for(const Rn in Xn)if("min"!==Rn&&"max"!==Rn)return js.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Rn},message:"must NOT have additional properties"}],!1;if(Dn===m){if(void 0!==Xn.min){let Rn=Xn.min;const Jn=m;if(m===Jn){if("number"!=typeof Rn||!isFinite(Rn))return js.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Rn<0||isNaN(Rn))return js.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}var bt=Jn===m}else bt=!0;if(bt)if(void 0!==Xn.max){let Rn=Xn.max;const Jn=m;if(m===Jn){if("number"!=typeof Rn||!isFinite(Rn))return js.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Rn<0||isNaN(Rn))return js.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}bt=Jn===m}else bt=!0}}}k=ar===m}else k=!0;if(k){if(void 0!==r.$tags){let Xn=r.$tags;const ar=m;if(m===ar){if(!Xn||"object"!=typeof Xn||Array.isArray(Xn))return js.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Xn).length<1)return js.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;if(void 0!==Xn.$requiredTags){let Dn=Xn.$requiredTags;const Rn=m;if(m===Rn){if(!Array.isArray(Dn))return js.errors=[{instancePath:t+"/$tags/$requiredTags",schemaPath:"#/properties/%24tags/properties/%24requiredTags/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const Jn=Dn.length;for(let Un=0;Un<Jn;Un++){const or=m;if("string"!=typeof Dn[Un])return js.errors=[{instancePath:t+"/$tags/$requiredTags/"+Un,schemaPath:"#/properties/%24tags/properties/%24requiredTags/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(or!==m)break}}}var Ft=Rn===m}else Ft=!0;if(Ft){if(void 0!==Xn.$allowUndefinedTags){const Dn=m;if("boolean"!=typeof Xn.$allowUndefinedTags)return js.errors=[{instancePath:t+"/$tags/$allowUndefinedTags",schemaPath:"#/properties/%24tags/properties/%24allowUndefinedTags/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Ft=Dn===m}else Ft=!0;if(Ft){var Xt={$requiredTags:!0,$allowUndefinedTags:!0};for(const Dn in Xn)if(Fp.test(Dn)){let Rn=Xn[Dn];if(m==m){if(!Rn||"object"!=typeof Rn||Array.isArray(Rn))return js.errors=[{instancePath:t+"/$tags/"+Dn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Un=m;for(const or in Rn)if("type"!==or&&"items"!==or&&"contains"!==or&&!KI.test(or))return js.errors=[{instancePath:t+"/$tags/"+Dn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:or},message:"must NOT have additional properties"}],!1;if(Un===m){if(void 0!==Rn.type){let or=Rn.type;const Mr=m;if("string"!==or&&"number"!==or&&"integer"!==or&&"boolean"!==or&&"array"!==or)return js.errors=[{instancePath:t+"/$tags/"+Dn.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/type/enum",keyword:"enum",params:{allowedValues:tp.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var Ht=Mr===m}else Ht=!0;if(Ht){if(void 0!==Rn.items){let or=Rn.items;const Mr=m;if(m===Mr){if(!or||"object"!=typeof or||Array.isArray(or))return js.errors=[{instancePath:t+"/$tags/"+Dn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==or.type){let Tn=or.type;const Ir=m;if("string"!==Tn&&"number"!==Tn&&"integer"!==Tn)return js.errors=[{instancePath:t+"/$tags/"+Dn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/properties/type/enum",keyword:"enum",params:{allowedValues:tp.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.items.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var on=Ir===m}else on=!0;if(on){var ln={type:!0};for(const Tn in or)hA.test(Tn)&&(ln[Tn]=!0)}}Ht=Mr===m}else Ht=!0;if(Ht)if(void 0!==Rn.contains){let or=Rn.contains;const Mr=m;if(m===Mr){if(!or||"object"!=typeof or||Array.isArray(or))return js.errors=[{instancePath:t+"/$tags/"+Dn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==or.type){let Tn=or.type;const Ir=m;if("string"!==Tn&&"number"!==Tn&&"integer"!==Tn)return js.errors=[{instancePath:t+"/$tags/"+Dn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/properties/type/enum",keyword:"enum",params:{allowedValues:tp.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.contains.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var Ln=Ir===m}else Ln=!0;if(Ln){var Vn={type:!0};for(const Tn in or)hA.test(Tn)&&(Vn[Tn]=!0)}}Ht=Mr===m}else Ht=!0}}}}Xt[Dn]=!0}}}}k=ar===m}else k=!0;if(k)for(const Xn in r)if(fA.test(Xn)){const ar=m;if(U1.validate(r[Xn],{instancePath:t+"/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:Xn,rootData:u,dynamicAnchors:y})||(d=null===d?U1.validate.errors:d.concat(U1.validate.errors),m=d.length),ar!==m)break}}}}}}}}return js.errors=d,0===m}function Sl(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=Sl.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return Sl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ve;if(void 0===r.protocol&&(Ve="protocol")||void 0===r.published&&(Ve="published")||void 0===r.types&&(Ve="types")||void 0===r.structure&&(Ve="structure"))return Sl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ve},message:"must have required property '"+Ve+"'"}],!1;{const qe=m;for(const pt in r)if("protocol"!==pt&&"published"!==pt&&"types"!==pt&&"structure"!==pt)return Sl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:pt},message:"must NOT have additional properties"}],!1;if(qe===m){if(void 0!==r.protocol){const pt=m;if("string"!=typeof r.protocol)return Sl.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=pt===m}else G=!0;if(G){if(void 0!==r.published){const pt=m;if("boolean"!=typeof r.published)return Sl.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;G=pt===m}else G=!0;if(G){if(void 0!==r.types){let pt=r.types;const At=m;if(m===At){if(!pt||"object"!=typeof pt||Array.isArray(pt))return Sl.errors=[{instancePath:t+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var k={};for(const _t in pt)if(F1.test(_t)){let Ft=pt[_t];if(m==m){if(!Ft||"object"!=typeof Ft||Array.isArray(Ft))return Sl.errors=[{instancePath:t+"/types/"+_t.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Ht=m;for(const on in Ft)if("schema"!==on&&"dataFormats"!==on)return Sl.errors=[{instancePath:t+"/types/"+_t.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:on},message:"must NOT have additional properties"}],!1;if(Ht===m){if(void 0!==Ft.schema){const on=m;if("string"!=typeof Ft.schema)return Sl.errors=[{instancePath:t+"/types/"+_t.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ie=on===m}else ie=!0;if(ie)if(void 0!==Ft.dataFormats){let on=Ft.dataFormats;const ln=m;if(m===ln){if(!Array.isArray(on))return Sl.errors=[{instancePath:t+"/types/"+_t.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(on.length<1)return Sl.errors=[{instancePath:t+"/types/"+_t.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Vn=on.length;for(let Zn=0;Zn<Vn;Zn++){const _r=m;if("string"!=typeof on[Zn])return Sl.errors=[{instancePath:t+"/types/"+_t.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+Zn,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(_r!==m)break}}}ie=ln===m}else ie=!0}}}k[_t]=!0}}G=At===m}else G=!0;if(G)if(void 0!==r.structure){let pt=r.structure;const At=m;if(m===At){if(!pt||"object"!=typeof pt||Array.isArray(pt))return Sl.errors=[{instancePath:t+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var He={};for(const _t in pt)F1.test(_t)&&(js(pt[_t],{instancePath:t+"/structure/"+_t.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:pt,parentDataProperty:_t,rootData:u,dynamicAnchors:y})||(d=null===d?js.errors:d.concat(js.errors),m=d.length),He[_t]=!0)}G=At===m}else G=!0}}}}}}return Sl.errors=d,0===m}js.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Sl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const xr=js,VI=Gd,Bn={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function Gd(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=Gd.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return Gd.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ie;if(void 0===r.authorization&&(ie="authorization")||void 0===r.descriptor&&(ie="descriptor"))return Gd.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:ie},message:"must have required property '"+ie+"'"}],!1;{const Ue=m;for(const He in r)if("authorization"!==He&&"descriptor"!==He)return Gd.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:He},message:"must NOT have additional properties"}],!1;if(Ue===m){if(void 0!==r.authorization){const He=m;Da(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:y})||(d=null===d?Da.errors:d.concat(Da.errors),m=d.length);var G=He===m}else G=!0;if(G)if(void 0!==r.descriptor){let He=r.descriptor;const Ve=m;if(m===Ve){if(!He||"object"!=typeof He||Array.isArray(He))return Gd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let pt;if(void 0===He.interface&&(pt="interface")||void 0===He.method&&(pt="method")||void 0===He.messageTimestamp&&(pt="messageTimestamp")||void 0===He.definition&&(pt="definition"))return Gd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:pt},message:"must have required property '"+pt+"'"}],!1;{const At=m;for(const bt in He)if("interface"!==bt&&"method"!==bt&&"messageTimestamp"!==bt&&"definition"!==bt)return Gd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:bt},message:"must NOT have additional properties"}],!1;if(At===m){if(void 0!==He.interface){let bt=He.interface;const _t=m;if("string"!=typeof bt)return Gd.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==bt)return Gd.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Bn.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=_t===m}else k=!0;if(k){if(void 0!==He.method){let bt=He.method;const _t=m;if("string"!=typeof bt)return Gd.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==bt)return Gd.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Bn.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=_t===m}else k=!0;if(k){if(void 0!==He.messageTimestamp){let bt=He.messageTimestamp;const _t=m;if(m==m){if("string"!=typeof bt)return Gd.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(bt))return Gd.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=_t===m}else k=!0;if(k)if(void 0!==He.definition){const bt=m;Sl(He.definition,{instancePath:t+"/descriptor/definition",parentData:He,parentDataProperty:"definition",rootData:u,dynamicAnchors:y})||(d=null===d?Sl.errors:d.concat(Sl.errors),m=d.length),k=bt===m}else k=!0}}}}}}G=Ve===m}else G=!0}}}}return Gd.errors=d,0===m}Gd.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const j2=Os,np={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"}}}}}}};function Os(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=Os.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return Os.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ue;if(void 0===r.descriptor&&(Ue="descriptor"))return Os.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ue},message:"must have required property '"+Ue+"'"}],!1;{const He=m;for(const Ve in r)if("authorization"!==Ve&&"descriptor"!==Ve)return Os.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ve},message:"must NOT have additional properties"}],!1;if(He===m){if(void 0!==r.authorization){const Ve=m;Da(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:y})||(d=null===d?Da.errors:d.concat(Da.errors),m=d.length);var G=Ve===m}else G=!0;if(G)if(void 0!==r.descriptor){let Ve=r.descriptor;const qe=m;if(m===qe){if(!Ve||"object"!=typeof Ve||Array.isArray(Ve))return Os.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let At;if(void 0===Ve.interface&&(At="interface")||void 0===Ve.method&&(At="method")||void 0===Ve.messageTimestamp&&(At="messageTimestamp"))return Os.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:At},message:"must have required property '"+At+"'"}],!1;{const bt=m;for(const _t in Ve)if("interface"!==_t&&"method"!==_t&&"messageTimestamp"!==_t&&"filter"!==_t)return Os.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_t},message:"must NOT have additional properties"}],!1;if(bt===m){if(void 0!==Ve.interface){let _t=Ve.interface;const Ft=m;if("string"!=typeof _t)return Os.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==_t)return Os.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:np.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=Ft===m}else k=!0;if(k){if(void 0!==Ve.method){let _t=Ve.method;const Ft=m;if("string"!=typeof _t)return Os.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==_t)return Os.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:np.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=Ft===m}else k=!0;if(k){if(void 0!==Ve.messageTimestamp){let _t=Ve.messageTimestamp;const Ft=m;if(m==m){if("string"!=typeof _t)return Os.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(_t))return Os.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=Ft===m}else k=!0;if(k)if(void 0!==Ve.filter){let _t=Ve.filter;const Ft=m;if(m===Ft){if(!_t||"object"!=typeof _t||Array.isArray(_t))return Os.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(_t).length<1)return Os.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ht=m;for(const on in _t)if("protocol"!==on&&"recipient"!==on)return Os.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:on},message:"must NOT have additional properties"}],!1;if(Ht===m){if(void 0!==_t.protocol){const on=m;if("string"!=typeof _t.protocol)return Os.errors=[{instancePath:t+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var ie=on===m}else ie=!0;if(ie)if(void 0!==_t.recipient){let on=_t.recipient;const ln=m;if(m==m){if("string"!=typeof on)return Os.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Yl.test(on))return Os.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}ie=ln===m}else ie=!0}}}k=Ft===m}else k=!0}}}}}}G=qe===m}else G=!0}}}}return Os.errors=d,0===m}Os.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const zI=Xd,$2={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function Xd(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=Xd.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return Xd.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ie;if(void 0===r.descriptor&&(ie="descriptor"))return Xd.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:ie},message:"must have required property '"+ie+"'"}],!1;{const Ue=m;for(const He in r)if("authorization"!==He&&"descriptor"!==He)return Xd.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:He},message:"must NOT have additional properties"}],!1;if(Ue===m){if(void 0!==r.authorization){const He=m;jl(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:y})||(d=null===d?jl.errors:d.concat(jl.errors),m=d.length);var G=He===m}else G=!0;if(G)if(void 0!==r.descriptor){let He=r.descriptor;const Ve=m;if(m===Ve){if(!He||"object"!=typeof He||Array.isArray(He))return Xd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let pt;if(void 0===He.interface&&(pt="interface")||void 0===He.method&&(pt="method")||void 0===He.messageTimestamp&&(pt="messageTimestamp")||void 0===He.filter&&(pt="filter"))return Xd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:pt},message:"must have required property '"+pt+"'"}],!1;{const At=m;for(const bt in He)if("interface"!==bt&&"method"!==bt&&"messageTimestamp"!==bt&&"filter"!==bt)return Xd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:bt},message:"must NOT have additional properties"}],!1;if(At===m){if(void 0!==He.interface){let bt=He.interface;const _t=m;if("string"!=typeof bt)return Xd.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==bt)return Xd.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:$2.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=_t===m}else k=!0;if(k){if(void 0!==He.method){let bt=He.method;const _t=m;if("string"!=typeof bt)return Xd.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==bt)return Xd.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:$2.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=_t===m}else k=!0;if(k){if(void 0!==He.messageTimestamp){let bt=He.messageTimestamp;const _t=m;if(m==m){if("string"!=typeof bt)return Xd.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!El.test(bt))return Xd.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=_t===m}else k=!0;if(k)if(void 0!==He.filter){const bt=m;Pi(He.filter,{instancePath:t+"/descriptor/filter",parentData:He,parentDataProperty:"filter",rootData:u,dynamicAnchors:y})||(d=null===d?Pi.errors:d.concat(Pi.errors),m=d.length),k=bt===m}else k=!0}}}}}}G=Ve===m}else G=!0}}}}return Xd.errors=d,0===m}Xd.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const pA=Pi,j1=Us,$1=Yc;function Yc(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){const Z=Yc.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Yc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.descriptorCid&&(k="descriptorCid"))return Yc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const ie=0;for(const Ue in r)if("descriptorCid"!==Ue&&"delegatedGrantId"!==Ue&&"permissionGrantId"!==Ue&&"protocolRole"!==Ue)return Yc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ue},message:"must NOT have additional properties"}],!1;if(0===ie){if(void 0!==r.descriptorCid){const Ue=0;if("string"!=typeof r.descriptorCid)return Yc.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=0===Ue}else G=!0;if(G){if(void 0!==r.delegatedGrantId){const Ue=0;if("string"!=typeof r.delegatedGrantId)return Yc.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;G=0===Ue}else G=!0;if(G){if(void 0!==r.permissionGrantId){const Ue=0;if("string"!=typeof r.permissionGrantId)return Yc.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;G=0===Ue}else G=!0;if(G)if(void 0!==r.protocolRole){const Ue=0;if("string"!=typeof r.protocolRole)return Yc.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;G=0===Ue}else G=!0}}}}}return Yc.errors=null,!0}Yc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const yA=Md;function Md(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){const Z=Md.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Md.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.descriptorCid&&(k="descriptorCid")||void 0===r.recordId&&(k="recordId"))return Md.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const ie=0;for(const Ue in r)if("descriptorCid"!==Ue&&"recordId"!==Ue&&"contextId"!==Ue&&"attestationCid"!==Ue&&"encryptionCid"!==Ue&&"delegatedGrantId"!==Ue&&"permissionGrantId"!==Ue&&"protocolRole"!==Ue)return Md.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ue},message:"must NOT have additional properties"}],!1;if(0===ie){if(void 0!==r.descriptorCid){const Ue=0;if("string"!=typeof r.descriptorCid)return Md.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=0===Ue}else G=!0;if(G){if(void 0!==r.recordId){const Ue=0;if("string"!=typeof r.recordId)return Md.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;G=0===Ue}else G=!0;if(G){if(void 0!==r.contextId){const Ue=0;if("string"!=typeof r.contextId)return Md.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;G=0===Ue}else G=!0;if(G){if(void 0!==r.attestationCid){const Ue=0;if("string"!=typeof r.attestationCid)return Md.errors=[{instancePath:t+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;G=0===Ue}else G=!0;if(G){if(void 0!==r.encryptionCid){const Ue=0;if("string"!=typeof r.encryptionCid)return Md.errors=[{instancePath:t+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;G=0===Ue}else G=!0;if(G){if(void 0!==r.delegatedGrantId){const Ue=0;if("string"!=typeof r.delegatedGrantId)return Md.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;G=0===Ue}else G=!0;if(G){if(void 0!==r.permissionGrantId){const Ue=0;if("string"!=typeof r.permissionGrantId)return Md.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;G=0===Ue}else G=!0;if(G)if(void 0!==r.protocolRole){const Ue=0;if("string"!=typeof r.protocolRole)return Md.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;G=0===Ue}else G=!0}}}}}}}}}return Md.errors=null,!0}Md.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const gA=Ql;function Ql(r,{instancePath:t="",rootData:u=r,dynamicAnchors:y={}}={}){let d=null,m=0;const Z=Ql.evaluated;if(Z.dynamicProps&&(Z.props=void 0),Z.dynamicItems&&(Z.items=void 0),0===m){if(!r||"object"!=typeof r||Array.isArray(r))return Ql.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Ql.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const qe=m;for(const pt in r)if("gt"!==pt&&"gte"!==pt&&"lt"!==pt&&"lte"!==pt)return Ql.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:pt},message:"must NOT have additional properties"}],!1;if(qe===m){if(void 0!==r.gt){const pt=m,At=m,bt=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let _t;if(void 0===r.gte&&(_t="gte")){const Ft={};null===d?d=[Ft]:d.push(Ft),m++}}if(bt===m)return Ql.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;m=At,null!==d&&(At?d.length=At:d=null);var k=pt===m}else k=!0;if(k){if(void 0!==r.gte){const pt=m,At=m,bt=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Ft;if(void 0===r.gt&&(Ft="gt")){const Xt={};null===d?d=[Xt]:d.push(Xt),m++}}if(bt===m)return Ql.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;m=At,null!==d&&(At?d.length=At:d=null),k=pt===m}else k=!0;if(k){if(void 0!==r.lt){const pt=m,At=m,bt=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Ft;if(void 0===r.lte&&(Ft="lte")){const Xt={};null===d?d=[Xt]:d.push(Xt),m++}}if(bt===m)return Ql.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;m=At,null!==d&&(At?d.length=At:d=null),k=pt===m}else k=!0;if(k){if(void 0!==r.lte){const pt=m,At=m,bt=m;if(r&&"object"==typeof r&&!Array.isArray(r)){let Ft;if(void 0===r.lt&&(Ft="lt")){const Xt={};null===d?d=[Xt]:d.push(Xt),m++}}if(bt===m)return Ql.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;m=At,null!==d&&(At?d.length=At:d=null),k=pt===m}else k=!0;if(k){if(void 0!==r.gt){const pt=m;if("string"!=typeof r.gt)return Ql.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ve=pt===m}else Ve=!0;if(Ve){if(void 0!==r.gte){const pt=m;if("string"!=typeof r.gte)return Ql.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ve=pt===m}else Ve=!0;if(Ve){if(void 0!==r.lt){const pt=m;if("string"!=typeof r.lt)return Ql.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ve=pt===m}else Ve=!0;if(Ve)if(void 0!==r.lte){const pt=m;if("string"!=typeof r.lte)return Ql.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ve=pt===m}else Ve=!0}}}}}}}}}return Ql.errors=d,0===m}function x0(r,t){const n=ae[r];if(!n)throw new me(Te.SchemaValidatorSchemaNotFound,`schema for ${r} not found.`);if(n(t),!n.errors)return;const[i]=n.errors;let{instancePath:u,message:y,keyword:d}=i;if(u||(u=r),"additionalProperties"===d)throw new me(Te.SchemaValidatorAdditionalPropertyNotAllowed,`${y}: ${u}: ${i.params.additionalProperty}`);if("unevaluatedProperties"===d)throw new me(Te.SchemaValidatorUnevaluatedPropertyNotAllowed,`${y}: ${u}: ${i.params.unevaluatedProperty}`);throw new me(Te.SchemaValidatorFailure,`${u}: ${y}`)}Ql.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};var Wu=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class vf{constructor(t){this.cache=t||new ho(600)}static get singleton(){return void 0===vf._singleton&&(vf._singleton=new vf),vf._singleton}static verifySignatures(t,n){return Wu(this,void 0,void 0,function*(){return yield vf.singleton.verifySignatures(t,n)})}verifySignatures(t,n){return Wu(this,void 0,void 0,function*(){const i=[];for(const u of t.signatures){let y;const d=Gr.getKid(u),m=`${u.protected}.${t.payload}.${u.signature}`,Z=yield this.cache.get(m);if(void 0===Z){const k=yield vf.getPublicKey(d,n);y=yield Gr.verifySignature(t.payload,u,k),yield this.cache.set(m,y)}else y=Z;const G=Gr.extractDid(d);if(!y)throw new me(Te.GeneralJwsVerifierInvalidSignature,`Signature verification failed for ${G}`);i.push(G)}return{signers:i}})}static getPublicKey(t,n){return Wu(this,void 0,void 0,function*(){const i=Gr.extractDid(t),{didDocument:u}=yield n.resolve(i),{verificationMethod:y=[]}=u||{};let d;for(const Z of y)if(t.endsWith(Z.id)){d=Z;break}if(!d)throw new me(Te.GeneralJwsVerifierGetPublicKeyNotFound,"public key needed to verify signature not found in DID Document");x0("JwkVerificationMethod",d);const{publicKeyJwk:m}=d;return m})}}const K2=["string","number","bigint","symbol"],ia=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];class Jr{constructor(t,n,i){this.major=t,this.majorEncoded=t<<5,this.name=n,this.terminal=i}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}Jr.uint=new Jr(0,"uint",!0),Jr.negint=new Jr(1,"negint",!0),Jr.bytes=new Jr(2,"bytes",!0),Jr.string=new Jr(3,"string",!0),Jr.array=new Jr(4,"array",!1),Jr.map=new Jr(5,"map",!1),Jr.tag=new Jr(6,"tag",!1),Jr.float=new Jr(7,"float",!0),Jr.false=new Jr(7,"false",!0),Jr.true=new Jr(7,"true",!0),Jr.null=new Jr(7,"null",!0),Jr.undefined=new Jr(7,"undefined",!0),Jr.break=new Jr(7,"break",!0);class Qi{constructor(t,n,i){this.type=t,this.value=n,this.encodedLength=i,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const bf=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,Gu=new TextDecoder,vA=new TextEncoder;function Mm(r){return bf&&globalThis.Buffer.isBuffer(r)}function V2(r){return r instanceof Uint8Array?Mm(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r)}const Id=bf?(r,t,n)=>n-t>64?globalThis.Buffer.from(r.subarray(t,n)).toString("utf8"):qy(r,t,n):(r,t,n)=>n-t>64?Gu.decode(r.subarray(t,n)):qy(r,t,n),z2=bf?r=>r.length>64?globalThis.Buffer.from(r):Fo(r):r=>r.length>64?vA.encode(r):Fo(r),wh=r=>Uint8Array.from(r),kv=bf?(r,t,n)=>Mm(r)?new Uint8Array(r.subarray(t,n)):r.slice(t,n):(r,t,n)=>r.slice(t,n),Jy=bf?(r,t)=>(r=r.map(n=>n instanceof Uint8Array?n:globalThis.Buffer.from(n)),V2(globalThis.Buffer.concat(r,t))):(r,t)=>{const n=new Uint8Array(t);let i=0;for(let u of r)i+u.length>n.length&&(u=u.subarray(0,n.length-i)),n.set(u,i),i+=u.length;return n},V1=bf?r=>globalThis.Buffer.allocUnsafe(r):r=>new Uint8Array(r);function Fo(r,t=1/0){let n;const i=r.length;let u=null;const y=[];for(let d=0;d<i;++d){if(n=r.charCodeAt(d),n>55295&&n<57344){if(!u){if(n>56319){(t-=3)>-1&&y.push(239,191,189);continue}if(d+1===i){(t-=3)>-1&&y.push(239,191,189);continue}u=n;continue}if(n<56320){(t-=3)>-1&&y.push(239,191,189),u=n;continue}n=65536+(u-55296<<10|n-56320)}else u&&(t-=3)>-1&&y.push(239,191,189);if(u=null,n<128){if((t-=1)<0)break;y.push(n)}else if(n<2048){if((t-=2)<0)break;y.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;y.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;y.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return y}function qy(r,t,n){const i=[];for(;t<n;){const u=r[t];let y=null,d=u>239?4:u>223?3:u>191?2:1;if(t+d<=n){let m,Z,G,k;switch(d){case 1:u<128&&(y=u);break;case 2:m=r[t+1],128==(192&m)&&(k=(31&u)<<6|63&m,k>127&&(y=k));break;case 3:m=r[t+1],Z=r[t+2],128==(192&m)&&128==(192&Z)&&(k=(15&u)<<12|(63&m)<<6|63&Z,k>2047&&(k<55296||k>57343)&&(y=k));break;case 4:m=r[t+1],Z=r[t+2],G=r[t+3],128==(192&m)&&128==(192&Z)&&128==(192&G)&&(k=(15&u)<<18|(63&m)<<12|(63&Z)<<6|63&G,k>65535&&k<1114112&&(y=k))}}null===y?(y=65533,d=1):y>65535&&(y-=65536,i.push(y>>>10&1023|55296),y=56320|1023&y),i.push(y),t+=d}return function W2(r){const t=r.length;if(t<=Bv)return String.fromCharCode.apply(String,r);let n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,r.slice(i,i+=Bv));return n}(i)}const Bv=4096;class G2{constructor(t=256){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let n=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1)n.set(t,n.length-(this.maxCursor-this.cursor)-1);else{if(n){const u=n.length-(this.maxCursor-this.cursor)-1;u<n.length&&(this.chunks[this.chunks.length-1]=n.subarray(0,u),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(n=V1(this.chunkSize),this.chunks.push(n),this.maxCursor+=n.length,null===this._initReuseChunk&&(this._initReuseChunk=n),n.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let n;if(1===this.chunks.length){const i=this.chunks[0];t&&this.cursor>i.length/2?(n=this.cursor===i.length?i:i.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):n=kv(i,0,this.cursor)}else n=Jy(this.chunks,this.cursor);return t&&this.reset(),n}}const $s="CBOR decode error:",Up="CBOR encode error:",Tm=[];function wf(r,t,n){if(r.length-t<n)throw new Error(`${$s} not enough data for type`)}Tm[23]=1,Tm[24]=2,Tm[25]=3,Tm[26]=5,Tm[27]=9;const ed=[24,256,65536,4294967296,BigInt("18446744073709551616")];function S0(r,t,n){wf(r,t,1);const i=r[t];if(!0===n.strict&&i<ed[0])throw new Error(`${$s} integer encoded in more bytes than necessary (strict decode)`);return i}function A0(r,t,n){wf(r,t,2);const i=r[t]<<8|r[t+1];if(!0===n.strict&&i<ed[1])throw new Error(`${$s} integer encoded in more bytes than necessary (strict decode)`);return i}function C0(r,t,n){wf(r,t,4);const i=16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3];if(!0===n.strict&&i<ed[2])throw new Error(`${$s} integer encoded in more bytes than necessary (strict decode)`);return i}function M0(r,t,n){wf(r,t,8);const u=16777216*r[t+4]+(r[t+5]<<16)+(r[t+6]<<8)+r[t+7],y=(BigInt(16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3])<<BigInt(32))+BigInt(u);if(!0===n.strict&&y<ed[3])throw new Error(`${$s} integer encoded in more bytes than necessary (strict decode)`);if(y<=Number.MAX_SAFE_INTEGER)return Number(y);if(!0===n.allowBigInt)return y;throw new Error(`${$s} integers outside of the safe integer range are not supported`)}function Hs(r,t){return Xu(r,0,t.value)}function Xu(r,t,n){if(n<ed[0]){const i=Number(n);r.push([t|i])}else if(n<ed[1]){const i=Number(n);r.push([24|t,i])}else if(n<ed[2]){const i=Number(n);r.push([25|t,i>>>8,255&i])}else if(n<ed[3]){const i=Number(n);r.push([26|t,i>>>24&255,i>>>16&255,i>>>8&255,255&i])}else{const i=BigInt(n);if(!(i<ed[4]))throw new Error(`${$s} encountered BigInt larger than allowable range`);{const u=[27|t,0,0,0,0,0,0,0];let y=Number(i&BigInt(4294967295)),d=Number(i>>BigInt(32)&BigInt(4294967295));u[8]=255&y,y>>=8,u[7]=255&y,y>>=8,u[6]=255&y,y>>=8,u[5]=255&y,u[4]=255&d,d>>=8,u[3]=255&d,d>>=8,u[2]=255&d,d>>=8,u[1]=255&d,r.push(u)}}}Hs.encodedSize=function(t){return Xu.encodedSize(t.value)},Xu.encodedSize=function(t){return t<ed[0]?1:t<ed[1]?2:t<ed[2]?3:t<ed[3]?5:9},Hs.compareTokens=function(t,n){return t.value<n.value?-1:t.value>n.value?1:0};const Dm=BigInt(-1),W1=BigInt(1);function Z2(r,t){const n=t.value;Xu(r,t.type.majorEncoded,"bigint"==typeof n?n*Dm-W1:-1*n-1)}function _h(r,t,n,i){wf(r,t,n+i);const u=kv(r,t+n,t+n+i);return new Qi(Jr.bytes,u,n+i)}function Y2(r,t,n,i){return _h(r,t,1,n)}function vu(r){return void 0===r.encodedBytes&&(r.encodedBytes=r.type===Jr.string?z2(r.value):r.value),r.encodedBytes}function _f(r,t){const n=vu(t);Xu(r,t.type.majorEncoded,n.length),r.push(n)}function Rm(r,t,n,i,u){const y=n+i;wf(r,t,y);const d=new Qi(Jr.string,Id(r,t+n,t+y),y);return!0===u.retainStringBytes&&(d.byteValue=kv(r,t+n,t+y)),d}function wA(r,t,n,i){return Rm(r,t,1,n,i)}Z2.encodedSize=function(t){const n=t.value,i="bigint"==typeof n?n*Dm-W1:-1*n-1;return i<ed[0]?1:i<ed[1]?2:i<ed[2]?3:i<ed[3]?5:9},Z2.compareTokens=function(t,n){return t.value<n.value?1:t.value>n.value?-1:0},_f.encodedSize=function(t){const n=vu(t);return Xu.encodedSize(n.length)+n.length},_f.compareTokens=function(t,n){return function bA(r,t){return r.length<t.length?-1:r.length>t.length?1:function ps(r,t){if(Mm(r)&&Mm(t))return r.compare(t);for(let n=0;n<r.length;n++)if(r[n]!==t[n])return r[n]<t[n]?-1:1;return 0}(r,t)}(vu(t),vu(n))};const Qy=_f;function Om(r,t,n,i){return new Qi(Jr.array,i,n)}function q2(r,t,n,i){return Om(0,0,1,n)}function eg(r,t){Xu(r,Jr.array.majorEncoded,t.value)}function Pm(r,t,n,i){return new Qi(Jr.map,i,n)}function td(r,t,n,i){return Pm(0,0,1,n)}function q1(r,t){Xu(r,Jr.map.majorEncoded,t.value)}function rE(r,t,n,i){return new Qi(Jr.tag,n,1)}function km(r,t){Xu(r,Jr.tag.majorEncoded,t.value)}eg.compareTokens=Hs.compareTokens,eg.encodedSize=function(t){return Xu.encodedSize(t.value)},q1.compareTokens=Hs.compareTokens,q1.encodedSize=function(t){return Xu.encodedSize(t.value)},km.compareTokens=Hs.compareTokens,km.encodedSize=function(t){return Xu.encodedSize(t.value)};function jp(r,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(r))throw new Error(`${$s} NaN values are not supported`);if(!1===n.allowInfinity&&(r===1/0||r===-1/0))throw new Error(`${$s} Infinity values are not supported`)}return new Qi(Jr.float,r,t)}function jv(r,t,n){const i=t.value;if(!1===i)r.push([20|Jr.float.majorEncoded]);else if(!0===i)r.push([21|Jr.float.majorEncoded]);else if(null===i)r.push([22|Jr.float.majorEncoded]);else if(void 0===i)r.push([23|Jr.float.majorEncoded]);else{let u,y=!1;(!n||!0!==n.float64)&&(cE(i),u=ys(op,1),i===u||Number.isNaN(i)?(op[0]=249,r.push(op.slice(0,3)),y=!0):($p(i),u=Nm(op,1),i===u&&(op[0]=250,r.push(op.slice(0,5)),y=!0))),y||(function tg(r){Ef.setFloat64(0,r,!1)}(i),u=Lm(op,1),op[0]=251,r.push(op.slice(0,9)))}}jv.encodedSize=function(t,n){const i=t.value;if(!1===i||!0===i||null==i)return 1;if(!n||!0!==n.float64){cE(i);let u=ys(op,1);if(i===u||Number.isNaN(i))return 3;if($p(i),u=Nm(op,1),i===u)return 5}return 9};const SA=new ArrayBuffer(9),Ef=new DataView(SA,1),op=new Uint8Array(SA,0);function cE(r){if(r===1/0)Ef.setUint16(0,31744,!1);else if(r===-1/0)Ef.setUint16(0,64512,!1);else if(Number.isNaN(r))Ef.setUint16(0,32256,!1);else{Ef.setFloat32(0,r);const t=Ef.getUint32(0),n=(2139095040&t)>>23,i=8388607&t;if(255===n)Ef.setUint16(0,31744,!1);else if(0===n)Ef.setUint16(0,(2147483648&r)>>16|i>>13,!1);else{const u=n-127;u<-24?Ef.setUint16(0,0):Ef.setUint16(0,u<-14?(2147483648&t)>>16|1<<24+u:(2147483648&t)>>16|u+15<<10|i>>13,!1)}}}function ys(r,t){if(r.length-t<2)throw new Error(`${$s} not enough data for float16`);const n=(r[t]<<8)+r[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const i=n>>10&31,u=1023&n;let y;return y=0===i?u*2**-24:31!==i?(u+1024)*2**(i-25):0===u?1/0:NaN,32768&n?-y:y}function $p(r){Ef.setFloat32(0,r,!1)}function Nm(r,t){if(r.length-t<4)throw new Error(`${$s} not enough data for float32`);return new DataView(r.buffer,(r.byteOffset||0)+t,4).getFloat32(0,!1)}function Lm(r,t){if(r.length-t<8)throw new Error(`${$s} not enough data for float64`);return new DataView(r.buffer,(r.byteOffset||0)+t,8).getFloat64(0,!1)}function Ks(r,t,n){throw new Error(`${$s} encountered invalid minor (${n}) for major ${r[t]>>>5}`)}function $v(r){return()=>{throw new Error(`${$s} ${r}`)}}jv.compareTokens=Hs.compareTokens;const gi=[];for(let r=0;r<=23;r++)gi[r]=Ks;gi[24]=function Br(r,t,n,i){return new Qi(Jr.uint,S0(r,t+1,i),2)},gi[25]=function Es(r,t,n,i){return new Qi(Jr.uint,A0(r,t+1,i),3)},gi[26]=function Nv(r,t,n,i){return new Qi(Jr.uint,C0(r,t+1,i),5)},gi[27]=function X2(r,t,n,i){return new Qi(Jr.uint,M0(r,t+1,i),9)},gi[28]=Ks,gi[29]=Ks,gi[30]=Ks,gi[31]=Ks;for(let r=32;r<=55;r++)gi[r]=Ks;gi[56]=function I0(r,t,n,i){return new Qi(Jr.negint,-1-S0(r,t+1,i),2)},gi[57]=function Zf(r,t,n,i){return new Qi(Jr.negint,-1-A0(r,t+1,i),3)},gi[58]=function H1(r,t,n,i){return new Qi(Jr.negint,-1-C0(r,t+1,i),5)},gi[59]=function WI(r,t,n,i){const u=M0(r,t+1,i);if("bigint"!=typeof u){const y=-1-u;if(y>=Number.MIN_SAFE_INTEGER)return new Qi(Jr.negint,y,9)}if(!0!==i.allowBigInt)throw new Error(`${$s} integers outside of the safe integer range are not supported`);return new Qi(Jr.negint,Dm-BigInt(u),9)},gi[60]=Ks,gi[61]=Ks,gi[62]=Ks,gi[63]=Ks;for(let r=64;r<=87;r++)gi[r]=Y2;gi[88]=function Lv(r,t,n,i){return _h(r,t,2,S0(r,t+1,i))},gi[89]=function Yd(r,t,n,i){return _h(r,t,3,A0(r,t+1,i))},gi[90]=function Eh(r,t,n,i){return _h(r,t,5,C0(r,t+1,i))},gi[91]=function J2(r,t,n,i){const u=M0(r,t+1,i);if("bigint"==typeof u)throw new Error(`${$s} 64-bit integer bytes lengths not supported`);return _h(r,t,9,u)},gi[92]=Ks,gi[93]=Ks,gi[94]=Ks,gi[95]=$v("indefinite length bytes/strings are not supported");for(let r=96;r<=119;r++)gi[r]=wA;gi[120]=function _A(r,t,n,i){return Rm(r,t,2,S0(r,t+1,i),i)},gi[121]=function G1(r,t,n,i){return Rm(r,t,3,A0(r,t+1,i),i)},gi[122]=function X1(r,t,n,i){return Rm(r,t,5,C0(r,t+1,i),i)},gi[123]=function Z1(r,t,n,i){const u=M0(r,t+1,i);if("bigint"==typeof u)throw new Error(`${$s} 64-bit integer string lengths not supported`);return Rm(r,t,9,u,i)},gi[124]=Ks,gi[125]=Ks,gi[126]=Ks,gi[127]=$v("indefinite length bytes/strings are not supported");for(let r=128;r<=151;r++)gi[r]=q2;gi[152]=function Y1(r,t,n,i){return Om(0,0,2,S0(r,t+1,i))},gi[153]=function Q2(r,t,n,i){return Om(0,0,3,A0(r,t+1,i))},gi[154]=function eE(r,t,n,i){return Om(0,0,5,C0(r,t+1,i))},gi[155]=function tE(r,t,n,i){const u=M0(r,t+1,i);if("bigint"==typeof u)throw new Error(`${$s} 64-bit integer array lengths not supported`);return Om(0,0,9,u)},gi[156]=Ks,gi[157]=Ks,gi[158]=Ks,gi[159]=function nE(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${$s} indefinite length items not allowed`);return Om(0,0,1,1/0)};for(let r=160;r<=183;r++)gi[r]=td;gi[184]=function T0(r,t,n,i){return Pm(0,0,2,S0(r,t+1,i))},gi[185]=function So(r,t,n,i){return Pm(0,0,3,A0(r,t+1,i))},gi[186]=function J1(r,t,n,i){return Pm(0,0,5,C0(r,t+1,i))},gi[187]=function Fv(r,t,n,i){const u=M0(r,t+1,i);if("bigint"==typeof u)throw new Error(`${$s} 64-bit integer map lengths not supported`);return Pm(0,0,9,u)},gi[188]=Ks,gi[189]=Ks,gi[190]=Ks,gi[191]=function rp(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${$s} indefinite length items not allowed`);return Pm(0,0,1,1/0)};for(let r=192;r<=215;r++)gi[r]=rE;gi[216]=function iE(r,t,n,i){return new Qi(Jr.tag,S0(r,t+1,i),2)},gi[217]=function ip(r,t,n,i){return new Qi(Jr.tag,A0(r,t+1,i),3)},gi[218]=function xh(r,t,n,i){return new Qi(Jr.tag,C0(r,t+1,i),5)},gi[219]=function EA(r,t,n,i){return new Qi(Jr.tag,M0(r,t+1,i),9)},gi[220]=Ks,gi[221]=Ks,gi[222]=Ks,gi[223]=Ks;for(let r=224;r<=243;r++)gi[r]=$v("simple values are not supported");gi[244]=Ks,gi[245]=Ks,gi[246]=Ks,gi[247]=function ew(r,t,n,i){if(!1===i.allowUndefined)throw new Error(`${$s} undefined values are not supported`);return!0===i.coerceUndefinedToNull?new Qi(Jr.null,null,1):new Qi(Jr.undefined,void 0,1)},gi[248]=$v("simple values are not supported"),gi[249]=function Bm(r,t,n,i){return jp(ys(r,t+1),3,i)},gi[250]=function xA(r,t,n,i){return jp(Nm(r,t+1),5,i)},gi[251]=function aE(r,t,n,i){return jp(Lm(r,t+1),9,i)},gi[252]=Ks,gi[253]=Ks,gi[254]=Ks,gi[255]=function sE(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${$s} indefinite length items not allowed`);return new Qi(Jr.break,void 0,1)};const Zu=[];for(let r=0;r<24;r++)Zu[r]=new Qi(Jr.uint,r,1);for(let r=-1;r>=-24;r--)Zu[31-r]=new Qi(Jr.negint,r,1);Zu[64]=new Qi(Jr.bytes,new Uint8Array(0),1),Zu[96]=new Qi(Jr.string,"",1),Zu[128]=new Qi(Jr.array,0,1),Zu[160]=new Qi(Jr.map,0,1),Zu[244]=new Qi(Jr.false,!1,1),Zu[245]=new Qi(Jr.true,!0,1),Zu[246]=new Qi(Jr.null,null,1);const dE={float64:!1,mapSorter:function Um(r,t){const n=Array.isArray(r[0])?r[0][0]:r[0],i=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==i.type)return n.type.compare(i.type);const y=Wa[n.type.major].compareTokens(n,i);return 0===y&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),y},quickEncodeToken:function lE(r){switch(r.type){case Jr.false:return wh([244]);case Jr.true:return wh([245]);case Jr.null:return wh([246]);case Jr.bytes:return r.value.length?void 0:wh([64]);case Jr.string:return""===r.value?wh([96]):void 0;case Jr.array:return 0===r.value?wh([128]):void 0;case Jr.map:return 0===r.value?wh([160]):void 0;case Jr.uint:return r.value<24?wh([Number(r.value)]):void 0;case Jr.negint:if(r.value>=-24)return wh([31-Number(r.value)])}}},Wa=function uE(){const r=[];return r[Jr.uint.major]=Hs,r[Jr.negint.major]=Z2,r[Jr.bytes.major]=_f,r[Jr.string.major]=Qy,r[Jr.array.major]=eg,r[Jr.map.major]=q1,r[Jr.tag.major]=km,r[Jr.float.major]=jv,r}(),xf=new G2;class ng{constructor(t,n){this.obj=t,this.parent=n}includes(t){let n=this;do{if(n.obj===t)return!0}while(n=n.parent);return!1}static createCheck(t,n){if(t&&t.includes(n))throw new Error(`${Up} object contains circular references`);return new ng(n,t)}}const Yf={null:new Qi(Jr.null,null),undefined:new Qi(Jr.undefined,void 0),true:new Qi(Jr.true,!0),false:new Qi(Jr.false,!1),emptyArray:new Qi(Jr.array,0),emptyMap:new Qi(Jr.map,0)},Sh={number:(r,t,n,i)=>Number.isInteger(r)&&Number.isSafeInteger(r)?new Qi(r>=0?Jr.uint:Jr.negint,r):new Qi(Jr.float,r),bigint:(r,t,n,i)=>r>=BigInt(0)?new Qi(Jr.uint,r):new Qi(Jr.negint,r),Uint8Array:(r,t,n,i)=>new Qi(Jr.bytes,r),string:(r,t,n,i)=>new Qi(Jr.string,r),boolean:(r,t,n,i)=>r?Yf.true:Yf.false,null:(r,t,n,i)=>Yf.null,undefined:(r,t,n,i)=>Yf.undefined,ArrayBuffer:(r,t,n,i)=>new Qi(Jr.bytes,new Uint8Array(r)),DataView:(r,t,n,i)=>new Qi(Jr.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),Array(r,t,n,i){if(!r.length)return!0===n.addBreakTokens?[Yf.emptyArray,new Qi(Jr.break)]:Yf.emptyArray;i=ng.createCheck(i,r);const u=[];let y=0;for(const d of r)u[y++]=Fm(d,n,i);return n.addBreakTokens?[new Qi(Jr.array,r.length),u,new Qi(Jr.break)]:[new Qi(Jr.array,r.length),u]},Object(r,t,n,i){const u="Object"!==t,y=u?r.keys():Object.keys(r),d=u?r.size:y.length;if(!d)return!0===n.addBreakTokens?[Yf.emptyMap,new Qi(Jr.break)]:Yf.emptyMap;i=ng.createCheck(i,r);const m=[];let Z=0;for(const G of y)m[Z++]=[Fm(G,n,i),Fm(u?r.get(G):r[G],n,i)];return function Kv(r,t){t.mapSorter&&r.sort(t.mapSorter)}(m,n),n.addBreakTokens?[new Qi(Jr.map,d),m,new Qi(Jr.break)]:[new Qi(Jr.map,d),m]}};Sh.Map=Sh.Object,Sh.Buffer=Sh.Uint8Array;for(const r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Sh[`${r}Array`]=Sh.DataView;function Fm(r,t={},n){const i=function K1(r){if(null===r)return"null";if(void 0===r)return"undefined";if(!0===r||!1===r)return"boolean";const t=typeof r;if(K2.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(r))return"Array";if(function Yy(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}(r))return"Buffer";const n=function Zd(r){const t=Object.prototype.toString.call(r).slice(8,-1);if(ia.includes(t))return t}(r);return n||"Object"}(r),u=t&&t.typeEncoders&&t.typeEncoders[i]||Sh[i];if("function"==typeof u){const d=u(r,i,t,n);if(null!=d)return d}const y=Sh[i];if(!y)throw new Error(`${Up} unsupported type: ${i}`);return y(r,i,t,n)}function AA(r,t,n,i){if(Array.isArray(t))for(const u of t)AA(r,u,n,i);else n[t.type.major](r,t,i)}function fE(r,t,n){const i=Fm(r,n);if(!Array.isArray(i)&&n.quickEncodeToken){const u=n.quickEncodeToken(i);if(u)return u;const y=t[i.type.major];if(y.encodedSize){const d=y.encodedSize(i,n),m=new G2(d);if(y(m,i,n),1!==m.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return V2(m.chunks[0])}}return xf.reset(),AA(xf,i,t,n),xf.toBytes(!0)}const CA={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class MA{constructor(t,n={}){this.pos=0,this.data=t,this.options=n}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let n=Zu[t];if(void 0===n){const i=gi[t];if(!i)throw new Error(`${$s} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);n=i(this.data,this.pos,31&t,this.options)}return this.pos+=n.encodedLength,n}}const rg=Symbol.for("DONE"),jm=Symbol.for("BREAK");function ig(r,t){if(r.done())return rg;const n=r.next();if(n.type===Jr.break)return jm;if(n.type.terminal)return n.value;if(n.type===Jr.array)return function $m(r,t,n){const i=[];for(let u=0;u<r.value;u++){const y=ig(t,n);if(y===jm){if(r.value===1/0)break;throw new Error(`${$s} got unexpected break to lengthed array`)}if(y===rg)throw new Error(`${$s} found array but not enough entries (got ${u}, expected ${r.value})`);i[u]=y}return i}(n,r,t);if(n.type===Jr.map)return function IA(r,t,n){const i=!0===n.useMaps,u=i?void 0:{},y=i?new Map:void 0;for(let d=0;d<r.value;d++){const m=ig(t,n);if(m===jm){if(r.value===1/0)break;throw new Error(`${$s} got unexpected break to lengthed map`)}if(m===rg)throw new Error(`${$s} found map but not enough entries (got ${d} [no key], expected ${r.value})`);if(!0!==i&&"string"!=typeof m)throw new Error(`${$s} non-string keys not supported (got ${typeof m})`);if(!0===n.rejectDuplicateMapKeys&&(i&&y.has(m)||!i&&m in u))throw new Error(`${$s} found repeat map key "${m}"`);const Z=ig(t,n);if(Z===rg)throw new Error(`${$s} found map but not enough entries (got ${d} [no value], expected ${r.value})`);i?y.set(m,Z):u[m]=Z}return i?y:u}(n,r,t);if(n.type===Jr.tag){if(t.tags&&"function"==typeof t.tags[n.value]){const i=ig(r,t);return t.tags[n.value](i)}throw new Error(`${$s} tag not supported (${n.value})`)}throw new Error("unsupported")}const R0=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class O0{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class nw{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return rw(this,t)}}class OA{constructor(t){this.decoders=t}or(t){return rw(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const rw=(r,t)=>new OA({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class yE{constructor(t,n,i,u){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=u,this.encoder=new O0(t,n,i),this.decoder=new nw(t,n,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const iw=({name:r,prefix:t,encode:n,decode:i})=>new yE(r,t,n,i),gE=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:u}=function Km(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var u=0;u<r.length;u++){var y=r.charAt(u),d=y.charCodeAt(0);if(255!==n[d])throw new TypeError(y+" is ambiguous");n[d]=u}var m=r.length,Z=r.charAt(0),G=Math.log(m)/Math.log(256),k=Math.log(256)/Math.log(m);function Ue(Ve){if("string"!=typeof Ve)throw new TypeError("Expected String");if(0===Ve.length)return new Uint8Array;var qe=0;if(" "!==Ve[qe]){for(var pt=0,At=0;Ve[qe]===Z;)pt++,qe++;for(var bt=(Ve.length-qe)*G+1>>>0,_t=new Uint8Array(bt);Ve[qe];){var Ft=n[Ve.charCodeAt(qe)];if(255===Ft)return;for(var Xt=0,Ht=bt-1;(0!==Ft||Xt<At)&&-1!==Ht;Ht--,Xt++)_t[Ht]=(Ft+=m*_t[Ht]>>>0)%256>>>0,Ft=Ft/256>>>0;if(0!==Ft)throw new Error("Non-zero carry");At=Xt,qe++}if(" "!==Ve[qe]){for(var on=bt-At;on!==bt&&0===_t[on];)on++;for(var ln=new Uint8Array(pt+(bt-on)),Ln=pt;on!==bt;)ln[Ln++]=_t[on++];return ln}}}return{encode:function ie(Ve){if(Ve instanceof Uint8Array||(ArrayBuffer.isView(Ve)?Ve=new Uint8Array(Ve.buffer,Ve.byteOffset,Ve.byteLength):Array.isArray(Ve)&&(Ve=Uint8Array.from(Ve))),!(Ve instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ve.length)return"";for(var qe=0,pt=0,At=0,bt=Ve.length;At!==bt&&0===Ve[At];)At++,qe++;for(var _t=(bt-At)*k+1>>>0,Ft=new Uint8Array(_t);At!==bt;){for(var Xt=Ve[At],Ht=0,on=_t-1;(0!==Xt||Ht<pt)&&-1!==on;on--,Ht++)Ft[on]=(Xt+=256*Ft[on]>>>0)%m>>>0,Xt=Xt/m>>>0;if(0!==Xt)throw new Error("Non-zero carry");pt=Ht,At++}for(var ln=_t-pt;ln!==_t&&0===Ft[ln];)ln++;for(var Ln=Z.repeat(qe);ln<_t;++ln)Ln+=r.charAt(Ft[ln]);return Ln},decodeUnsafe:Ue,decode:function He(Ve){var qe=Ue(Ve);if(qe)return qe;throw new Error(`Non-${t} character`)}}}(n,t);return iw({prefix:r,name:t,encode:i,decode:y=>R0(u(y))})},sp=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>iw({prefix:t,name:r,encode:u=>((r,t,n)=>{const i="="===t[t.length-1],u=(1<<n)-1;let y="",d=0,m=0;for(let Z=0;Z<r.length;++Z)for(m=m<<8|r[Z],d+=8;d>n;)d-=n,y+=t[u&m>>d];if(d&&(y+=t[u&m<<n-d]),i)for(;y.length*n&7;)y+="=";return y})(u,i,n),decode:u=>((r,t,n,i)=>{const u={};for(let k=0;k<t.length;++k)u[t[k]]=k;let y=r.length;for(;"="===r[y-1];)--y;const d=new Uint8Array(y*n/8|0);let m=0,Z=0,G=0;for(let k=0;k<y;++k){const ie=u[r[k]];if(void 0===ie)throw new SyntaxError(`Non-${i} character`);Z=Z<<n|ie,m+=n,m>=8&&(m-=8,d[G++]=255&Z>>m)}if(m>=n||255&Z<<8-m)throw new SyntaxError("Unexpected end of data");return d})(u,i,n,r)}),ow=sp({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_c=(sp({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),sp({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),sp({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),sp({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),sp({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),sp({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),sp({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),sp({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),gE({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));gE({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var nd=128,ZI=-128,BA=Math.pow(2,31),_E=128,cw=127,po=Math.pow(2,7),xE=Math.pow(2,14),lw=Math.pow(2,21),NA=Math.pow(2,28),LA=Math.pow(2,35),dw=Math.pow(2,42),SE=Math.pow(2,49),AE=Math.pow(2,56),uw=Math.pow(2,63);const og={encode:function Jf(r,t,n){t=t||[];for(var i=n=n||0;r>=BA;)t[n++]=255&r|nd,r/=128;for(;r&ZI;)t[n++]=255&r|nd,r>>>=7;return t[n]=0|r,Jf.bytes=n-i+1,t},decode:function EE(r,i){var d,n=0,u=0,y=i=i||0,m=r.length;do{if(y>=m)throw EE.bytes=0,new RangeError("Could not decode varint");d=r[y++],n+=u<28?(d&cw)<<u:(d&cw)*Math.pow(2,u),u+=7}while(d>=_E);return EE.bytes=y-i,n},encodingLength:function(r){return r<po?1:r<xE?2:r<lw?3:r<NA?4:r<LA?5:r<dw?6:r<SE?7:r<AE?8:r<uw?9:10}},Sf=(r,t=0)=>[og.decode(r,t),og.decode.bytes],Hv=(r,t,n=0)=>(og.encode(r,t,n),t),sg=r=>og.encodingLength(r);class fw{constructor(t,n,i,u){this.code=t,this.size=n,this.digest=i,this.bytes=u}}const hw=(r,t)=>{const{bytes:n,version:i}=r;return 0===i?Xv(n,Wv(r),t||_c.encoder):JI(n,Wv(r),t||ow.encoder)},Al=new WeakMap,Wv=r=>{const t=Al.get(r);if(null==t){const n=new Map;return Al.set(r,n),n}return t};class Sa{constructor(t,n,i,u){this.code=n,this.version=t,this.multihash=i,this.bytes=u,this["/"]=u}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==Wm)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==CE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Sa.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=((r,t)=>{const n=t.byteLength,i=sg(r),u=i+sg(n),y=new Uint8Array(u+n);return Hv(r,y,0),Hv(n,y,i),y.set(t,u),new fw(r,n,t,y)})(t,n);return Sa.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return Sa.equals(this,t)}static equals(t,n){return n&&t.code===n.code&&t.version===n.version&&((r,t)=>r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&((r,t)=>{if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0})(r.bytes,t.bytes))(t.multihash,n.multihash)}toString(t){return hw(this,t)}toJSON(){return{"/":hw(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof Sa)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:u,multihash:y,bytes:d}=n;return new Sa(i,u,y,d||cg(i,u,y.bytes))}if(!0===n[lg]){const{version:i,multihash:u,code:y}=n,d=(r=>{const t=R0(r),[n,i]=Sf(t),[u,y]=Sf(t.subarray(i)),d=t.subarray(i+y);if(d.byteLength!==u)throw new Error("Incorrect length");return new fw(n,u,d,t)})(u);return Sa.create(i,y,d)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==Wm)throw new Error(`Version 0 CID must use dag-pb (code: ${Wm}) block encoding`);return new Sa(t,n,i,i.bytes);case 1:{const u=cg(t,n,i.bytes);return new Sa(t,n,i,u)}default:throw new Error("Invalid version")}}static createV0(t){return Sa.create(0,Wm,t)}static createV1(t,n){return Sa.create(1,t,n)}static decode(t){const[n,i]=Sa.decodeFirst(t);if(i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=Sa.inspectBytes(t),i=n.size-n.multihashSize,u=R0(t.subarray(i,i+n.multihashSize));if(u.byteLength!==n.multihashSize)throw new Error("Incorrect length");const y=u.subarray(n.multihashSize-n.digestSize),d=new fw(n.multihashCode,n.digestSize,y,u);return[0===n.version?Sa.createV0(d):Sa.createV1(n.codec,d),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[ie,Ue]=Sf(t.subarray(n));return n+=Ue,ie};let u=i(),y=Wm;if(18===u?(u=0,n=0):y=i(),0!==u&&1!==u)throw new RangeError(`Invalid CID version ${u}`);const d=n,m=i(),Z=i(),G=n+Z;return{version:u,codec:y,multihashCode:m,digestSize:Z,multihashSize:G-d,size:G}}static parse(t,n){const[i,u]=Gv(t,n),y=Sa.decode(u);if(0===y.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return Wv(y).set(i,t),y}}const Gv=(r,t)=>{switch(r[0]){case"Q":return[_c.prefix,(t||_c).decode(`${_c.prefix}${r}`)];case _c.prefix:return[_c.prefix,(t||_c).decode(r)];case ow.prefix:return[ow.prefix,(t||ow).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}},Xv=(r,t,n)=>{const{prefix:i}=n;if(i!==_c.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const u=t.get(i);if(null==u){const y=n.encode(r).slice(1);return t.set(i,y),y}return u},JI=(r,t,n)=>{const{prefix:i}=n,u=t.get(i);if(null==u){const y=n.encode(r);return t.set(i,y),y}return u},Wm=112,CE=18,cg=(r,t,n)=>{const i=sg(r),u=i+sg(t),y=new Uint8Array(u+n.byteLength);return Hv(r,y,0),Hv(t,y,i),y.set(n,u),y},lg=Symbol.for("@ipld/js-cid/CID"),Yv={float64:!0,typeEncoders:{Object:function jA(r){if(r.asCID!==r&&r["/"]!==r.bytes)return null;const t=Sa.asCID(r);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new Qi(Jr.tag,42),new Qi(Jr.bytes,n)]},undefined:function $A(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function KA(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},ME={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};ME.tags[42]=function VA(r){if(0!==r[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Sa.decode(r.subarray(1))};const bu="dag-cbor",Gm=113,Xm=r=>function hE(r,t){return t=Object.assign({},dE,t),fE(r,Wa,t)}(r,Yv),dg=r=>function TA(r,t){if(!(r instanceof Uint8Array))throw new Error(`${$s} data to decode must be a Uint8Array`);const n=(t=Object.assign({},CA,t)).tokenizer||new MA(r,t),i=ig(n,t);if(i===rg)throw new Error(`${$s} did not find any content to decode`);if(i===jm)throw new Error(`${$s} got unexpected break`);if(!n.done())throw new Error(`${$s} too many terminals, data makes no sense`);return i}(r,ME);var rd=A(41405),Ah=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},Aa=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(y){n[y]=r[y]&&function(d){return new Promise(function(m,Z){!function u(y,d,m,Z){Promise.resolve(Z).then(function(G){y({value:G,done:m})},d)}(m,Z,(d=r[y](d)).done,d.value)})}}},Ec=function(r){return this instanceof Ec?(this.v=r,this):new Ec(r)},wu=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,i=n.apply(r,t||[]),y=[];return u={},d("next"),d("throw"),d("return"),u[Symbol.asyncIterator]=function(){return this},u;function d(Ue){i[Ue]&&(u[Ue]=function(He){return new Promise(function(Ve,qe){y.push([Ue,He,Ve,qe])>1||m(Ue,He)})})}function m(Ue,He){try{!function Z(Ue){Ue.value instanceof Ec?Promise.resolve(Ue.value.v).then(G,k):ie(y[0][2],Ue)}(i[Ue](He))}catch(Ve){ie(y[0][3],Ve)}}function G(Ue){m("next",Ue)}function k(Ue){m("throw",Ue)}function ie(Ue,He){Ue(He),y.shift(),y.length&&m(y[0][0],y[0][1])}};class pw{open(){return Ah(this,void 0,void 0,function*(){})}close(){return Ah(this,void 0,void 0,function*(){})}put(t,n,i){return Ah(this,void 0,void 0,function*(){return t})}get(t,n){return Ah(this,void 0,void 0,function*(){return new Uint8Array})}has(t,n){return Ah(this,void 0,void 0,function*(){return!1})}delete(t,n){return Ah(this,void 0,void 0,function*(){})}isEmpty(t){return Ah(this,void 0,void 0,function*(){return!0})}putMany(t,n){return wu(this,arguments,function*(){var u,y,d;try{for(var k,Z=!0,G=Aa(t);!(u=(k=yield Ec(G.next())).done);Z=!0){Z=!1;const ie=k.value;yield Ec(this.put(ie.cid,ie.block,n)),yield yield Ec(ie.cid)}}catch(ie){y={error:ie}}finally{try{!Z&&!u&&(d=G.return)&&(yield Ec(d.call(G)))}finally{if(y)throw y.error}}})}getMany(t,n){return wu(this,arguments,function*(){var u,y,d;try{for(var k,Z=!0,G=Aa(t);!(u=(k=yield Ec(G.next())).done);Z=!0){Z=!1;const ie=k.value;yield yield Ec({cid:ie,block:yield Ec(this.get(ie,n))})}}catch(ie){y={error:ie}}finally{try{!Z&&!u&&(d=G.return)&&(yield Ec(d.call(G)))}finally{if(y)throw y.error}}})}getAll(t){return wu(this,arguments,function*(){var i,u,y,d;const m=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var k,Z=!0,G=Aa(m);!(i=(k=yield Ec(G.next())).done);Z=!0){d=k.value,Z=!1;const[ie,Ue]=d;yield yield Ec({cid:rd.TO.decode(ie),block:Ue})}}catch(ie){u={error:ie}}finally{try{!Z&&!i&&(y=G.return)&&(yield Ec(y.call(G)))}finally{if(u)throw u.error}}})}deleteMany(t,n){return wu(this,arguments,function*(){var u,y,d;try{for(var k,Z=!0,G=Aa(t);!(u=(k=yield Ec(G.next())).done);Z=!0){Z=!1;const ie=k.value;yield Ec(this.delete(ie,n)),yield yield Ec(ie)}}catch(ie){y={error:ie}}finally{try{!Z&&!u&&(d=G.return)&&(yield Ec(d.call(G)))}finally{if(y)throw y.error}}})}clear(){return Ah(this,void 0,void 0,function*(){})}}var Yu=A(41861);function Jv(r,t){this.v=r,this.k=t}function Ki(r){return new Jv(r,0)}function Ws(r){return function(){return new ug(r.apply(this,arguments))}}function ug(r){var t,n;function i(y,d){try{var m=r[y](d),Z=m.value,G=Z instanceof Jv;Promise.resolve(G?Z.v:Z).then(function(k){if(G){var ie="return"===y?"return":"next";if(!Z.k||k.done)return i(ie,k);k=r[ie](k).value}u(m.done?"return":"normal",k)},function(k){i("throw",k)})}catch(k){u("throw",k)}}function u(y,d){switch(y){case"return":t.resolve({value:d,done:!0});break;case"throw":t.reject(d);break;default:t.resolve({value:d,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(y,d){return new Promise(function(m,Z){var G={key:y,arg:d,resolve:m,reject:Z,next:null};n?n=n.next=G:(t=n=G,i(y,d))})},"function"!=typeof r.return&&(this.return=void 0)}function Ms(r){var t,n,i,u=2;for(typeof Symbol<"u"&&(n=Symbol.asyncIterator,i=Symbol.iterator);u--;){if(n&&null!=(t=r[n]))return t.call(r);if(i&&null!=(t=r[i]))return new qv(t.call(r));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function qv(r){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var i=n.done;return Promise.resolve(n.value).then(function(u){return{value:u,done:i}})}return(qv=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(i){var u=this.s.return;return void 0===u?Promise.resolve({value:i,done:!0}):t(u.apply(this.s,arguments))},throw:function(i){var u=this.s.return;return void 0===u?Promise.reject(i):t(u.apply(this.s,arguments))}},new qv(r)}ug.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},ug.prototype.next=function(r){return this._invoke("next",r)},ug.prototype.throw=function(r){return this._invoke("throw",r)},ug.prototype.return=function(r){return this._invoke("return",r)};var Qv=A(5014);const yw=function eb(r,t=1){return t=Number(t),function mw(r){return null!=r[Symbol.asyncIterator]}(r)?Ws(function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");var y,i=!1,u=!1;try{for(var m,d=Ms(r);i=!(m=yield Ki(d.next())).done;i=!1)for(n.push(m.value);n.length>=t;)yield n.slice(0,t),n=n.slice(t)}catch(Z){u=!0,y=Z}finally{try{i&&null!=d.return&&(yield Ki(d.return()))}finally{if(u)throw y}}for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)})():function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");for(const i of r)for(n.push(i);n.length>=t;)yield n.slice(0,t),n=n.slice(t);for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)}()};function gw(r){return tb.apply(this,arguments)}function tb(){return tb=Ws(function*(r,t=1){var u,n=!1,i=!1;try{for(var d,y=Ms(yw(r,t));n=!(d=yield Ki(y.next())).done;n=!1){const Z=d.value.map(function(){var G=(0,Se.A)(function*(k){return k().then(ie=>({ok:!0,value:ie}),ie=>({ok:!1,err:ie}))});return function(k){return G.apply(this,arguments)}}());for(let G=0;G<Z.length;G++){const k=yield Ki(Z[G]);if(!k.ok)throw k.err;yield k.value}}}catch(m){i=!0,u=m}finally{try{n&&null!=y.return&&(yield Ki(y.return()))}finally{if(i)throw u}}}),tb.apply(this,arguments)}function Zm(r,t){null==t&&(t=r.reduce((u,y)=>u+y.length,0));const n=ot(t);let i=0;for(const u of r)n.set(u,i),i+=u.length;return n}function zA(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}const IE=Symbol.for("@achingbrain/uint8arraylist");function bw(r,t){if(null==t||t<0)throw new RangeError("index is out of bounds");let n=0;for(const i of r){const u=n+i.byteLength;if(t<u)return{buf:i,index:t-n};n=u}throw new RangeError("index is out of bounds")}function nb(r){return!!r?.[IE]}class Kp{bufs;length;[IE]=!0;constructor(...t){this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let n=0;for(const i of t)if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.push(i);else{if(!nb(i))throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.push(...i.bufs)}this.length+=n}prepend(...t){this.prependAll(t)}prependAll(t){let n=0;for(const i of t.reverse())if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.unshift(i);else{if(!nb(i))throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.unshift(...i.bufs)}this.length+=n}get(t){const n=bw(this.bufs,t);return n.buf[n.index]}set(t,n){const i=bw(this.bufs,t);i.buf[i.index]=n}write(t,n=0){if(t instanceof Uint8Array)for(let i=0;i<t.length;i++)this.set(n+i,t[i]);else{if(!nb(t))throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList");for(let i=0;i<t.length;i++)this.set(n+i,t.get(i))}}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength)return this.bufs=[],void(this.length=0);for(;this.bufs.length>0;){if(!(t>=this.bufs[0].byteLength)){this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift()}}}slice(t,n){const{bufs:i,length:u}=this._subList(t,n);return Zm(i,u)}subarray(t,n){const{bufs:i,length:u}=this._subList(t,n);return 1===i.length?i[0]:Zm(i,u)}sublist(t,n){const{bufs:i,length:u}=this._subList(t,n),y=new Kp;return y.length=u,y.bufs=[...i],y}_subList(t,n){if((t=t??0)<0&&(t=this.length+t),(n=n??this.length)<0&&(n=this.length+n),t<0||n>this.length)throw new RangeError("index is out of bounds");if(t===n)return{bufs:[],length:0};if(0===t&&n===this.length)return{bufs:this.bufs,length:this.length};const i=[];let u=0;for(let y=0;y<this.bufs.length;y++){const d=this.bufs[y],m=u,Z=m+d.byteLength;if(u=Z,t>=Z)continue;const G=t>=m&&t<Z,k=n>m&&n<=Z;if(G&&k){if(t===m&&n===Z){i.push(d);break}const ie=t-m;i.push(d.subarray(ie,ie+(n-t)));break}if(G){if(0===t){i.push(d);continue}i.push(d.subarray(t-m))}else{if(k){if(n===Z){i.push(d);break}i.push(d.subarray(0,n-m));break}i.push(d)}}return{bufs:i,length:n-t}}indexOf(t,n=0){if(!(nb(t)||t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const i=t instanceof Uint8Array?t:t.subarray();if(n=Number(n??0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),0===t.length)return n>this.length?this.length:n;const u=i.byteLength;if(0===u)throw new TypeError("search must be at least 1 byte long");const d=new Int32Array(256);for(let ie=0;ie<256;ie++)d[ie]=-1;for(let ie=0;ie<u;ie++)d[i[ie]]=ie;const m=d,Z=this.byteLength-i.byteLength,G=i.byteLength-1;let k;for(let ie=n;ie<=Z;ie+=k){k=0;for(let Ue=G;Ue>=0;Ue--){const He=this.get(ie+Ue);if(i[Ue]!==He){k=Math.max(1,Ue-m[He]);break}}if(0===k)return ie}return-1}getInt8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt8(0)}setInt8(t,n){const i=ot(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt8(0,n),this.write(i,t)}getInt16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt16(0,n)}setInt16(t,n,i){const u=Ce(2);new DataView(u.buffer,u.byteOffset,u.byteLength).setInt16(0,n,i),this.write(u,t)}getInt32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt32(0,n)}setInt32(t,n,i){const u=Ce(4);new DataView(u.buffer,u.byteOffset,u.byteLength).setInt32(0,n,i),this.write(u,t)}getBigInt64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigInt64(0,n)}setBigInt64(t,n,i){const u=Ce(8);new DataView(u.buffer,u.byteOffset,u.byteLength).setBigInt64(0,n,i),this.write(u,t)}getUint8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint8(0)}setUint8(t,n){const i=ot(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint8(0,n),this.write(i,t)}getUint16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint16(0,n)}setUint16(t,n,i){const u=Ce(2);new DataView(u.buffer,u.byteOffset,u.byteLength).setUint16(0,n,i),this.write(u,t)}getUint32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint32(0,n)}setUint32(t,n,i){const u=Ce(4);new DataView(u.buffer,u.byteOffset,u.byteLength).setUint32(0,n,i),this.write(u,t)}getBigUint64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigUint64(0,n)}setBigUint64(t,n,i){const u=Ce(8);new DataView(u.buffer,u.byteOffset,u.byteLength).setBigUint64(0,n,i),this.write(u,t)}getFloat32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat32(0,n)}setFloat32(t,n,i){const u=Ce(4);new DataView(u.buffer,u.byteOffset,u.byteLength).setFloat32(0,n,i),this.write(u,t)}getFloat64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat64(0,n)}setFloat64(t,n,i){const u=Ce(8);new DataView(u.buffer,u.byteOffset,u.byteLength).setFloat64(0,n,i),this.write(u,t)}equals(t){if(null==t||!(t instanceof Kp)||t.bufs.length!==this.bufs.length)return!1;for(let n=0;n<this.bufs.length;n++)if(!zA(this.bufs[n],t.bufs[n]))return!1;return!0}static fromUint8Arrays(t,n){const i=new Kp;return i.bufs=t,null==n&&(n=t.reduce((u,y)=>u+y.byteLength,0)),i.length=n,i}}const WA=(r={})=>{const t=r.chunkSize??262144;return function(){var n=Ws(function*(u){let y=new Kp,d=0,m=!1;var k,Z=!1,G=!1;try{for(var Ue,ie=Ms(u);Z=!(Ue=yield Ki(ie.next())).done;Z=!1){const He=Ue.value;for(y.append(He),d+=He.length;d>=t;)if(yield y.slice(0,t),m=!0,t===y.length)y=new Kp,d=0;else{const Ve=new Kp;Ve.append(y.sublist(t)),y=Ve,d-=t}}}catch(He){G=!0,k=He}finally{try{Z&&null!=ie.return&&(yield Ki(ie.return()))}finally{if(G)throw k}}(!m||d>0)&&(yield y.subarray(0,d))});return function i(u){return n.apply(this,arguments)}}()};function _w(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class GA{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class TE{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return tT(this,t)}}class Sw{decoders;constructor(t){this.decoders=t}or(t){return tT(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function tT(r,t){return new Sw({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class XA{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,u){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=u,this.encoder=new GA(t,n,i),this.decoder=new TE(t,n,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function ZA({name:r,prefix:t,encode:n,decode:i}){return new XA(r,t,n,i)}function Ch({name:r,prefix:t,alphabet:n}){const{encode:i,decode:u}=function Ew(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var u=0;u<r.length;u++){var y=r.charAt(u),d=y.charCodeAt(0);if(255!==n[d])throw new TypeError(y+" is ambiguous");n[d]=u}var m=r.length,Z=r.charAt(0),G=Math.log(m)/Math.log(256),k=Math.log(256)/Math.log(m);function Ue(Ve){if("string"!=typeof Ve)throw new TypeError("Expected String");if(0===Ve.length)return new Uint8Array;var qe=0;if(" "!==Ve[qe]){for(var pt=0,At=0;Ve[qe]===Z;)pt++,qe++;for(var bt=(Ve.length-qe)*G+1>>>0,_t=new Uint8Array(bt);Ve[qe];){var Ft=n[Ve.charCodeAt(qe)];if(255===Ft)return;for(var Xt=0,Ht=bt-1;(0!==Ft||Xt<At)&&-1!==Ht;Ht--,Xt++)_t[Ht]=(Ft+=m*_t[Ht]>>>0)%256>>>0,Ft=Ft/256>>>0;if(0!==Ft)throw new Error("Non-zero carry");At=Xt,qe++}if(" "!==Ve[qe]){for(var on=bt-At;on!==bt&&0===_t[on];)on++;for(var ln=new Uint8Array(pt+(bt-on)),Ln=pt;on!==bt;)ln[Ln++]=_t[on++];return ln}}}return{encode:function ie(Ve){if(Ve instanceof Uint8Array||(ArrayBuffer.isView(Ve)?Ve=new Uint8Array(Ve.buffer,Ve.byteOffset,Ve.byteLength):Array.isArray(Ve)&&(Ve=Uint8Array.from(Ve))),!(Ve instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ve.length)return"";for(var qe=0,pt=0,At=0,bt=Ve.length;At!==bt&&0===Ve[At];)At++,qe++;for(var _t=(bt-At)*k+1>>>0,Ft=new Uint8Array(_t);At!==bt;){for(var Xt=Ve[At],Ht=0,on=_t-1;(0!==Xt||Ht<pt)&&-1!==on;on--,Ht++)Ft[on]=(Xt+=256*Ft[on]>>>0)%m>>>0,Xt=Xt/m>>>0;if(0!==Xt)throw new Error("Non-zero carry");pt=Ht,At++}for(var ln=_t-pt;ln!==_t&&0===Ft[ln];)ln++;for(var Ln=Z.repeat(qe);ln<_t;++ln)Ln+=r.charAt(Ft[ln]);return Ln},decodeUnsafe:Ue,decode:function He(Ve){var qe=Ue(Ve);if(qe)return qe;throw new Error(`Non-${t} character`)}}}(n,r);return ZA({prefix:t,name:r,encode:i,decode:y=>_w(u(y))})}function B0({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return ZA({prefix:t,name:r,encode:u=>function YA(r,t,n){const i="="===t[t.length-1],u=(1<<n)-1;let y="",d=0,m=0;for(let Z=0;Z<r.length;++Z)for(m=m<<8|r[Z],d+=8;d>n;)d-=n,y+=t[u&m>>d];if(0!==d&&(y+=t[u&m<<n-d]),i)for(;y.length*n&7;)y+="=";return y}(u,i,n),decode:u=>function nT(r,t,n,i){const u={};for(let k=0;k<t.length;++k)u[t[k]]=k;let y=r.length;for(;"="===r[y-1];)--y;const d=new Uint8Array(y*n/8|0);let m=0,Z=0,G=0;for(let k=0;k<y;++k){const ie=u[r[k]];if(void 0===ie)throw new SyntaxError(`Non-${i} character`);Z=Z<<n|ie,m+=n,m>=8&&(m-=8,d[G++]=255&Z>>m)}if(m>=n||255&Z<<8-m)throw new SyntaxError("Unexpected end of data");return d}(u,i,n,r)})}const N0=B0({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_u=(B0({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),B0({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),B0({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),B0({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),B0({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),B0({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),B0({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),B0({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Ch({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));Ch({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Jm=128,iT=-128,Mw=Math.pow(2,31),PE=128,kE=127,Tw=Math.pow(2,7),BE=Math.pow(2,14),qA=Math.pow(2,21),QA=Math.pow(2,28),hg=Math.pow(2,35),NE=Math.pow(2,42),Dw=Math.pow(2,49),e3=Math.pow(2,56),oT=Math.pow(2,63);const L0={encode:function qm(r,t,n){t=t||[];for(var i=n=n||0;r>=Mw;)t[n++]=255&r|Jm,r/=128;for(;r&iT;)t[n++]=255&r|Jm,r>>>=7;return t[n]=0|r,qm.bytes=n-i+1,t},decode:function Iw(r,i){var d,n=0,u=0,y=i=i||0,m=r.length;do{if(y>=m)throw Iw.bytes=0,new RangeError("Could not decode varint");d=r[y++],n+=u<28?(d&kE)<<u:(d&kE)*Math.pow(2,u),u+=7}while(d>=PE);return Iw.bytes=y-i,n},encodingLength:function(r){return r<Tw?1:r<BE?2:r<qA?3:r<QA?4:r<hg?5:r<NE?6:r<Dw?7:r<e3?8:r<oT?9:10}};function mg(r,t=0){return[L0.decode(r,t),L0.decode.bytes]}function yg(r,t,n=0){return L0.encode(r,t,n),t}function sb(r){return L0.encodingLength(r)}class F0{code;size;digest;bytes;constructor(t,n,i,u){this.code=t,this.size=n,this.digest=i,this.bytes=u}}function ab(r,t){const{bytes:n,version:i}=r;return 0===i?function UE(r,t,n){const{prefix:i}=n;if(i!==_u.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const u=t.get(i);if(null==u){const y=n.encode(r).slice(1);return t.set(i,y),y}return u}(n,cb(r),t??_u.encoder):function g(r,t,n){const{prefix:i}=n,u=t.get(i);if(null==u){const y=n.encode(r);return t.set(i,y),y}return u}(n,cb(r),t??N0.encoder)}const kw=new WeakMap;function cb(r){const t=kw.get(r);if(null==t){const n=new Map;return kw.set(r,n),n}return t}class lc{code;version;multihash;bytes;"/";constructor(t,n,i,u){this.code=n,this.version=t,this.multihash=i,this.bytes=u,this["/"]=u}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==s)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==a)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return lc.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=function LE(r,t){const n=t.byteLength,i=sb(r),u=i+sb(n),y=new Uint8Array(u+n);return yg(r,y,0),yg(n,y,i),y.set(t,u),new F0(r,n,t,y)}(t,n);return lc.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return lc.equals(this,t)}static equals(t,n){return null!=n&&t.code===n.code&&t.version===n.version&&function FE(r,t){return r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&function ww(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}(r.bytes,t.bytes)}(t.multihash,n.multihash)}toString(t){return ab(this,t)}toJSON(){return{"/":ab(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof lc)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:u,multihash:y,bytes:d}=n;return new lc(i,u,y,d??v(i,u,y.bytes))}if(!0===n[I]){const{version:i,multihash:u,code:y}=n,d=function Ow(r){const t=_w(r),[n,i]=mg(t),[u,y]=mg(t.subarray(i)),d=t.subarray(i+y);if(d.byteLength!==u)throw new Error("Incorrect length");return new F0(n,u,d,t)}(u);return lc.create(i,y,d)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==s)throw new Error(`Version 0 CID must use dag-pb (code: ${s}) block encoding`);return new lc(t,n,i,i.bytes);case 1:{const u=v(t,n,i.bytes);return new lc(t,n,i,u)}default:throw new Error("Invalid version")}}static createV0(t){return lc.create(0,s,t)}static createV1(t,n){return lc.create(1,t,n)}static decode(t){const[n,i]=lc.decodeFirst(t);if(0!==i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=lc.inspectBytes(t),i=n.size-n.multihashSize,u=_w(t.subarray(i,i+n.multihashSize));if(u.byteLength!==n.multihashSize)throw new Error("Incorrect length");const y=u.subarray(n.multihashSize-n.digestSize),d=new F0(n.multihashCode,n.digestSize,y,u);return[0===n.version?lc.createV0(d):lc.createV1(n.codec,d),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[ie,Ue]=mg(t.subarray(n));return n+=Ue,ie};let u=i(),y=s;if(18===u?(u=0,n=0):y=i(),0!==u&&1!==u)throw new RangeError(`Invalid CID version ${u}`);const d=n,m=i(),Z=i(),G=n+Z;return{version:u,codec:y,multihashCode:m,digestSize:Z,multihashSize:G-d,size:G}}static parse(t,n){const[i,u]=function Bw(r,t){switch(r[0]){case"Q":return[_u.prefix,(t??_u).decode(`${_u.prefix}${r}`)];case _u.prefix:return[_u.prefix,(t??_u).decode(r)];case N0.prefix:return[N0.prefix,(t??N0).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}(t,n),y=lc.decode(u);if(0===y.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return cb(y).set(i,t),y}}const s=112,a=18;function v(r,t,n){const i=sb(r),u=i+sb(t),y=new Uint8Array(u+n.byteLength);return yg(r,y,0),yg(t,y,i),y.set(n,u),y}const I=Symbol.for("@ipld/js-cid/CID"),F=new TextDecoder;function se(r,t){let n=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(t>=r.length)throw new Error("protobuf: unexpected end of data");const u=r[t++];if(n+=i<28?(127&u)<<i:(127&u)*2**i,u<128)break}return[n,t]}function ye(r,t){let n;[n,t]=se(r,t);const i=t+n;if(n<0||i<0)throw new Error("protobuf: invalid length");if(i>r.length)throw new Error("protobuf: unexpected end of data");return[r.subarray(t,i),i]}function Re(r,t){let n;return[n,t]=se(r,t),[7&n,n>>3,t]}function ze(r){const t={},n=r.length;let i=0;for(;i<n;){let u,y;if([u,y,i]=Re(r,i),1===y){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==u)throw new Error(`protobuf: (PBLink) wrong wireType (${u}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,i]=ye(r,i)}else if(2===y){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==u)throw new Error(`protobuf: (PBLink) wrong wireType (${u}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let d;[d,i]=ye(r,i),t.Name=F.decode(d)}else{if(3!==y)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${y}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==u)throw new Error(`protobuf: (PBLink) wrong wireType (${u}) for Tsize`);[t.Tsize,i]=se(r,i)}}if(i>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const wt=new TextEncoder,jt=2**32,Kt=2**31;function _n(r,t){let n=t.length;if("number"==typeof r.Tsize){if(r.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(r.Tsize))throw new Error("Tsize too large for encoding");n=er(t,n,r.Tsize)-1,t[n]=24}if("string"==typeof r.Name){const i=wt.encode(r.Name);n-=i.length,t.set(i,n),n=er(t,n,i.length)-1,t[n]=18}return r.Hash&&(n-=r.Hash.length,t.set(r.Hash,n),n=er(t,n,r.Hash.length)-1,t[n]=10),t.length-n}function nr(r){let t=0;if(r.Hash){const n=r.Hash.length;t+=1+n+fr(n)}if("string"==typeof r.Name){const n=wt.encode(r.Name).length;t+=1+n+fr(n)}return"number"==typeof r.Tsize&&(t+=1+fr(r.Tsize)),t}function er(r,t,n){const i=t-=fr(n);for(;n>=Kt;)r[t++]=127&n|128,n/=128;for(;n>=128;)r[t++]=127&n|128,n>>>=7;return r[t]=n,i}function fr(r){return r%2==0&&r++,Math.floor((function Tr(r){let t=0;return r>=jt&&(r=Math.floor(r/jt),t=32),r>=65536&&(r>>>=16,t+=16),r>=256&&(r>>>=8,t+=8),t+Zr[r]}(r)+6)/7)}const Zr=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],ci=["Data","Links"],hi=["Hash","Name","Tsize"],Ti=new TextEncoder;function Vo(r,t){if(r===t)return 0;const n=r.Name?Ti.encode(r.Name):[],i=t.Name?Ti.encode(t.Name):[];let u=n.length,y=i.length;for(let d=0,m=Math.min(u,y);d<m;++d)if(n[d]!==i[d]){u=n[d],y=i[d];break}return u<y?-1:y<u?1:0}function Do(r,t){return!Object.keys(r).some(n=>!t.includes(n))}function Kc(r){if("object"==typeof r.asCID){const n=lc.asCID(r);if(!n)throw new TypeError("Invalid DAG-PB form");return{Hash:n}}if("object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(r.Hash){let n=lc.asCID(r.Hash);try{n||("string"==typeof r.Hash?n=lc.parse(r.Hash):r.Hash instanceof Uint8Array&&(n=lc.decode(r.Hash)))}catch(i){throw new TypeError(`Invalid DAG-PB form: ${i.message}`)}n&&(t.Hash=n)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof r.Name&&(t.Name=r.Name),"number"==typeof r.Tsize&&(t.Tsize=r.Tsize),t}function xs(r){if((r instanceof Uint8Array||"string"==typeof r)&&(r={Data:r}),"object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==r.Data)if("string"==typeof r.Data)t.Data=Ti.encode(r.Data);else{if(!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=r.Data}if(void 0!==r.Links){if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form");t.Links=r.Links.map(Kc),t.Links.sort(Vo)}else t.Links=[];return t}function xc(r){if(!r||"object"!=typeof r||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form");if(!Do(r,ci))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==r.Data&&!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<r.Links.length;t++){const n=r.Links[t];if(!n||"object"!=typeof n||Array.isArray(n)||n instanceof Uint8Array||n["/"]&&n["/"]===n.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!Do(n,hi))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==n.Hash||!n.Hash["/"]||n.Hash["/"]!==n.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!=typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize){if("number"!=typeof n.Tsize||n.Tsize%1!=0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(n.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===Vo(n,r.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function qd(r,t=[]){return xs({Data:r,Links:t})}function Td(r,t,n){return Kc({Hash:n,Name:r,Tsize:t})}const lb="dag-pb",Qm=112;function j0(r){xc(r);const t={};return r.Links&&(t.Links=r.Links.map(n=>{const i={};return n.Hash&&(i.Hash=n.Hash.bytes),void 0!==n.Name&&(i.Name=n.Name),void 0!==n.Tsize&&(i.Tsize=n.Tsize),i})),r.Data&&(t.Data=r.Data),function On(r){const t=function rr(r){let t=0;if(r.Data){const n=r.Data.length;t+=1+n+fr(n)}if(r.Links)for(const n of r.Links){const i=nr(n);t+=1+i+fr(i)}return t}(r),n=new Uint8Array(t);let i=t;if(r.Data&&(i-=r.Data.length,n.set(r.Data,i),i=er(n,i,r.Data.length)-1,n[i]=10),r.Links)for(let u=r.Links.length-1;u>=0;u--){const y=_n(r.Links[u],n.subarray(0,i));i-=y,i=er(n,i,y)-1,n[i]=18}return n}(t)}function jE(r){const t=function U0(r){return r instanceof ArrayBuffer?new Uint8Array(r,0,r.byteLength):r}(r),n=function ut(r){const t=r.length;let i,y,n=0,u=!1;for(;n<t;){let m,Z;if([m,Z,n]=Re(r,n),2!==m)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${m}`);if(1===Z){if(y)throw new Error("protobuf: (PBNode) duplicate Data section");[y,n]=ye(r,n),i&&(u=!0)}else{if(2!==Z)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${Z}`);{if(u)throw new Error("protobuf: (PBNode) duplicate Links section");let G;i||(i=[]),[G,n]=ye(r,n),i.push(ze(G))}}}if(n>t)throw new Error("protobuf: (PBNode) unexpected end of data");const d={};return y&&(d.Data=y),d.Links=i||[],d}(t),i={};return n.Data&&(i.Data=n.Data),n.Links&&(i.Links=n.Links.map(u=>{const y={};try{y.Hash=lc.decode(u.Hash)}catch{}if(!y.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==u.Name&&(y.Name=u.Name),void 0!==u.Tsize&&(y.Tsize=u.Tsize),y})),i}var I4=A(3087);const xk=Math.pow(2,7),r3=Math.pow(2,14),i3=Math.pow(2,21),sT=Math.pow(2,28),aT=Math.pow(2,35),$E=Math.pow(2,42),o3=Math.pow(2,49),Oa=128,Eu=127;function Nw(r){if(r<xk)return 1;if(r<r3)return 2;if(r<i3)return 3;if(r<sT)return 4;if(r<aT)return 5;if(r<$E)return 6;if(r<o3)return 7;if(null!=Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function cT(r,t,n=0){switch(Nw(r)){case 8:t[n++]=255&r|Oa,r/=128;case 7:t[n++]=255&r|Oa,r/=128;case 6:t[n++]=255&r|Oa,r/=128;case 5:t[n++]=255&r|Oa,r/=128;case 4:t[n++]=255&r|Oa,r>>>=7;case 3:t[n++]=255&r|Oa,r>>>=7;case 2:t[n++]=255&r|Oa,r>>>=7;case 1:t[n++]=255&r,r>>>=7;break;default:throw new Error("unreachable")}return t}const ey=new Float32Array([-0]),Qd=new Uint8Array(ey.buffer);function a3(r,t,n){ey[0]=r,t[n]=Qd[0],t[n+1]=Qd[1],t[n+2]=Qd[2],t[n+3]=Qd[3]}const Lw=new Float64Array([-0]),fa=new Uint8Array(Lw.buffer);function c3(r,t,n){Lw[0]=r,t[n]=fa[0],t[n+1]=fa[1],t[n+2]=fa[2],t[n+3]=fa[3],t[n+4]=fa[4],t[n+5]=fa[5],t[n+6]=fa[6],t[n+7]=fa[7]}const P4=BigInt(Number.MAX_SAFE_INTEGER),dT=BigInt(Number.MIN_SAFE_INTEGER);class Ju{lo;hi;constructor(t,n){this.lo=0|t,this.hi=0|n}toNumber(t=!1){if(!t&&this.hi>>>31>0){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(n+4294967296*i)}return this.lo+4294967296*this.hi}toBigInt(t=!1){if(t)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(BigInt(n)+(BigInt(i)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(t=!1){return this.toBigInt(t).toString()}zzEncode(){const t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this}zzDecode(){const t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}length(){const t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:i<128?9:10}static fromBigInt(t){if(0n===t)return db;if(t<P4&&t>dT)return this.fromNumber(Number(t));const n=t<0n;n&&(t=-t);let i=t>>32n,u=t-(i<<32n);return n&&(i=0n|~i,u=0n|~u,++u>ub&&(u=0n,++i>ub&&(i=0n))),new Ju(Number(u),Number(i))}static fromNumber(t){if(0===t)return db;const n=t<0;n&&(t=-t);let i=t>>>0,u=(t-i)/4294967296>>>0;return n&&(u=~u>>>0,i=~i>>>0,++i>4294967295&&(i=0,++u>4294967295&&(u=0))),new Ju(i,u)}static from(t){return"number"==typeof t?Ju.fromNumber(t):"bigint"==typeof t?Ju.fromBigInt(t):"string"==typeof t?Ju.fromBigInt(BigInt(t)):null!=t.low||null!=t.high?new Ju(t.low>>>0,t.high>>>0):db}}const db=new Ju(0,0);db.toBigInt=function(){return 0n},db.zzEncode=db.zzDecode=function(){return this},db.length=function(){return 1};const ub=4294967296n;function uT(r,t,n){const i=n;let u,y;for(let d=0;d<r.length;++d)u=r.charCodeAt(d),u<128?t[n++]=u:u<2048?(t[n++]=u>>6|192,t[n++]=63&u|128):55296==(64512&u)&&56320==(64512&(y=r.charCodeAt(d+1)))?(u=65536+((1023&u)<<10)+(1023&y),++d,t[n++]=u>>18|240,t[n++]=u>>12&63|128,t[n++]=u>>6&63|128,t[n++]=63&u|128):(t[n++]=u>>12|224,t[n++]=u>>6&63|128,t[n++]=63&u|128);return n-i}function Mh(r,t){return RangeError(`index out of range: ${r.pos} + ${t??1} > ${r.len}`)}function KE(r,t){return(r[t-4]|r[t-3]<<8|r[t-2]<<16|r[t-1]<<24)>>>0}class N4{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(t){this.buf=t,this.pos=0,this.len=t.length}uint32(){let t=4294967295;if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Mh(this,10);return t}int32(){return 0|this.uint32()}sint32(){const t=this.uint32();return t>>>1^-(1&t)}bool(){return 0!==this.uint32()}fixed32(){if(this.pos+4>this.len)throw Mh(this,4);return KE(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw Mh(this,4);return 0|KE(this.buf,this.pos+=4)}float(){if(this.pos+4>this.len)throw Mh(this,4);const t=function gg(r,t){return Qd[0]=r[t],Qd[1]=r[t+1],Qd[2]=r[t+2],Qd[3]=r[t+3],ey[0]}(this.buf,this.pos);return this.pos+=4,t}double(){if(this.pos+8>this.len)throw Mh(this,4);const t=function O4(r,t){return fa[0]=r[t],fa[1]=r[t+1],fa[2]=r[t+2],fa[3]=r[t+3],fa[4]=r[t+4],fa[5]=r[t+5],fa[6]=r[t+6],fa[7]=r[t+7],Lw[0]}(this.buf,this.pos);return this.pos+=8,t}bytes(){const t=this.uint32(),n=this.pos,i=this.pos+t;if(i>this.len)throw Mh(this,t);return this.pos+=t,n===i?new Uint8Array(0):this.buf.subarray(n,i)}string(){const t=this.bytes();return function B4(r,t,n){if(n-t<1)return"";let u;const y=[];let m,d=0;for(;t<n;)m=r[t++],m<128?y[d++]=m:m>191&&m<224?y[d++]=(31&m)<<6|63&r[t++]:m>239&&m<365?(m=((7&m)<<18|(63&r[t++])<<12|(63&r[t++])<<6|63&r[t++])-65536,y[d++]=55296+(m>>10),y[d++]=56320+(1023&m)):y[d++]=(15&m)<<12|(63&r[t++])<<6|63&r[t++],d>8191&&((u??(u=[])).push(String.fromCharCode.apply(String,y)),d=0);return null!=u?(d>0&&u.push(String.fromCharCode.apply(String,y.slice(0,d))),u.join("")):String.fromCharCode.apply(String,y.slice(0,d))}(t,0,t.length)}skip(t){if("number"==typeof t){if(this.pos+t>this.len)throw Mh(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw Mh(this)}while(128&this.buf[this.pos++]);return this}skipType(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${t} at offset ${this.pos}`)}return this}readLongVarint(){const t=new Ju(0,0);let n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw Mh(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw Mh(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw Mh(this,8);const t=KE(this.buf,this.pos+=4),n=KE(this.buf,this.pos+=4);return new Ju(t,n)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){const t=function s3(r,t){let n=r[t],i=0;if(i+=n&Eu,n<Oa||(n=r[t+1],i+=(n&Eu)<<7,n<Oa)||(n=r[t+2],i+=(n&Eu)<<14,n<Oa)||(n=r[t+3],i+=(n&Eu)<<21,n<Oa)||(n=r[t+4],i+=(n&Eu)*sT,n<Oa)||(n=r[t+5],i+=(n&Eu)*aT,n<Oa)||(n=r[t+6],i+=(n&Eu)*$E,n<Oa)||(n=r[t+7],i+=(n&Eu)*o3,n<Oa))return i;throw new RangeError("Could not decode varint")}(this.buf,this.pos);return this.pos+=Nw(t),t}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function l3(r,t,n){const i=function L4(r){return new N4(r instanceof Uint8Array?r:r.subarray())}(r);return t.decode(i,void 0,n)}class Fw{fn;len;next;val;constructor(t,n,i){this.fn=t,this.len=n,this.next=void 0,this.val=i}}function Uw(){}class Ik{head;tail;len;next;constructor(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}}const Tk=function F4(r){const t=r??8192,n=t>>>1;let i,u=t;return function(d){if(d<1||d>n)return ot(d);u+d>t&&(i=ot(t),u=0);const m=i.subarray(u,u+=d);return 7&u&&(u=1+(7|u)),m}}();class fT{len;head;tail;states;constructor(){this.len=0,this.head=new Fw(Uw,0,0),this.tail=this.head,this.states=null}_push(t,n,i){return this.tail=this.tail.next=new Fw(t,n,i),this.len+=n,this}uint32(t){return this.len+=(this.tail=this.tail.next=new Rk((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this}int32(t){return t<0?this._push(u3,10,Ju.fromNumber(t)):this.uint32(t)}sint32(t){return this.uint32((t<<1^t>>31)>>>0)}uint64(t){const n=Ju.fromBigInt(t);return this._push(u3,n.length(),n)}uint64Number(t){return this._push(cT,Nw(t),t)}uint64String(t){return this.uint64(BigInt(t))}int64(t){return this.uint64(t)}int64Number(t){return this.uint64Number(t)}int64String(t){return this.uint64String(t)}sint64(t){const n=Ju.fromBigInt(t).zzEncode();return this._push(u3,n.length(),n)}sint64Number(t){const n=Ju.fromNumber(t).zzEncode();return this._push(u3,n.length(),n)}sint64String(t){return this.sint64(BigInt(t))}bool(t){return this._push(hT,1,t?1:0)}fixed32(t){return this._push(jw,4,t>>>0)}sfixed32(t){return this.fixed32(t)}fixed64(t){const n=Ju.fromBigInt(t);return this._push(jw,4,n.lo)._push(jw,4,n.hi)}fixed64Number(t){const n=Ju.fromNumber(t);return this._push(jw,4,n.lo)._push(jw,4,n.hi)}fixed64String(t){return this.fixed64(BigInt(t))}sfixed64(t){return this.fixed64(t)}sfixed64Number(t){return this.fixed64Number(t)}sfixed64String(t){return this.fixed64String(t)}float(t){return this._push(a3,4,t)}double(t){return this._push(c3,8,t)}bytes(t){const n=t.length>>>0;return 0===n?this._push(hT,1,0):this.uint32(n)._push(VE,n,t)}string(t){const n=function k4(r){let t=0,n=0;for(let i=0;i<r.length;++i)n=r.charCodeAt(i),n<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&r.charCodeAt(i+1))?(++i,t+=4):t+=3;return t}(t);return 0!==n?this.uint32(n)._push(uT,n,t):this._push(hT,1,0)}fork(){return this.states=new Ik(this),this.head=this.tail=new Fw(Uw,0,0),this.len=0,this}reset(){return null!=this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Fw(Uw,0,0),this.len=0),this}ldelim(){const t=this.head,n=this.tail,i=this.len;return this.reset().uint32(i),0!==i&&(this.tail.next=t.next,this.tail=n,this.len+=i),this}finish(){let t=this.head.next;const n=function d3(r){return null!=globalThis.Buffer?ot(r):Tk(r)}(this.len);let i=0;for(;null!=t;)t.fn(t.val,n,i),i+=t.len,t=t.next;return n}}function hT(r,t,n){t[n]=255&r}function Dk(r,t,n){for(;r>127;)t[n++]=127&r|128,r>>>=7;t[n]=r}class Rk extends Fw{next;constructor(t,n){super(Dk,t,n),this.next=void 0}}function u3(r,t,n){for(;0!==r.hi;)t[n++]=127&r.lo|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)t[n++]=127&r.lo|128,r.lo=r.lo>>>7;t[n++]=r.lo}function jw(r,t,n){t[n]=255&r,t[n+1]=r>>>8&255,t[n+2]=r>>>16&255,t[n+3]=r>>>24}function VE(r,t,n){t.set(r,n)}function zE(r,t,n){t.set(r,n)}function pT(r,t,n){r.length<40?uT(r,t,n):null!=t.utf8Write?t.utf8Write(r,n):t.set(Dt(r),n)}function HE(r,t){const n=function mT(){return new fT}();return t.encode(r,n,{lengthDelimited:!1}),n.finish()}null!=globalThis.Buffer&&(fT.prototype.bytes=function(r){const t=r.length>>>0;return this.uint32(t),t>0&&this._push(zE,t,r),this},fT.prototype.string=function(r){const t=globalThis.Buffer.byteLength(r);return this.uint32(t),t>0&&this._push(pT,t,r),this});var Qc,$w,U4,f3=function(r){return r[r.VARINT=0]="VARINT",r[r.BIT64=1]="BIT64",r[r.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",r[r.START_GROUP=3]="START_GROUP",r[r.END_GROUP=4]="END_GROUP",r[r.BIT32=5]="BIT32",r}(f3||{});function yT(r,t,n,i){return{name:r,type:t,encode:n,decode:i}}function ty(r,t){return yT("message",f3.LENGTH_DELIMITED,r,t)}Error,function(r){let t;var u;let n,i;(u=t=r.DataType||(r.DataType={})).Raw="Raw",u.Directory="Directory",u.File="File",u.Metadata="Metadata",u.Symlink="Symlink",u.HAMTShard="HAMTShard",function(u){u[u.Raw=0]="Raw",u[u.Directory=1]="Directory",u[u.File=2]="File",u[u.Metadata=3]="Metadata",u[u.Symlink=4]="Symlink",u[u.HAMTShard=5]="HAMTShard"}(n||(n={})),function(u){u.codec=()=>function gT(r){function t(u){if(null==r[u.toString()])throw new Error("Invalid enum value");return r[u]}return yT("enum",f3.VARINT,function(y,d){const m=t(y);d.int32(m)},function(y){return t(y.int32())})}(n)}(t=r.DataType||(r.DataType={})),r.codec=()=>(null==i&&(i=ty((u,y,d={})=>{if(!1!==d.lengthDelimited&&y.fork(),null!=u.Type&&(y.uint32(8),r.DataType.codec().encode(u.Type,y)),null!=u.Data&&(y.uint32(18),y.bytes(u.Data)),null!=u.filesize&&(y.uint32(24),y.uint64(u.filesize)),null!=u.blocksizes)for(const m of u.blocksizes)y.uint32(32),y.uint64(m);null!=u.hashType&&(y.uint32(40),y.uint64(u.hashType)),null!=u.fanout&&(y.uint32(48),y.uint64(u.fanout)),null!=u.mode&&(y.uint32(56),y.uint32(u.mode)),null!=u.mtime&&(y.uint32(66),$w.codec().encode(u.mtime,y)),!1!==d.lengthDelimited&&y.ldelim()},(u,y)=>{const d={blocksizes:[]},m=null==y?u.len:u.pos+y;for(;u.pos<m;){const Z=u.uint32();switch(Z>>>3){case 1:d.Type=r.DataType.codec().decode(u);break;case 2:d.Data=u.bytes();break;case 3:d.filesize=u.uint64();break;case 4:d.blocksizes.push(u.uint64());break;case 5:d.hashType=u.uint64();break;case 6:d.fanout=u.uint64();break;case 7:d.mode=u.uint32();break;case 8:d.mtime=$w.codec().decode(u,u.uint32());break;default:u.skipType(7&Z)}}return d})),i),r.encode=u=>HE(u,r.codec()),r.decode=u=>l3(u,r.codec())}(Qc||(Qc={})),function(r){let t;r.codec=()=>(null==t&&(t=ty((n,i,u={})=>{!1!==u.lengthDelimited&&i.fork(),null!=n.Seconds&&(i.uint32(8),i.int64(n.Seconds)),null!=n.FractionalNanoseconds&&(i.uint32(21),i.fixed32(n.FractionalNanoseconds)),!1!==u.lengthDelimited&&i.ldelim()},(n,i)=>{const u={},y=null==i?n.len:n.pos+i;for(;n.pos<y;){const d=n.uint32();switch(d>>>3){case 1:u.Seconds=n.int64();break;case 2:u.FractionalNanoseconds=n.fixed32();break;default:n.skipType(7&d)}}return u})),t),r.encode=n=>HE(n,r.codec()),r.decode=n=>l3(n,r.codec())}($w||($w={})),function(r){let t;r.codec=()=>(null==t&&(t=ty((n,i,u={})=>{!1!==u.lengthDelimited&&i.fork(),null!=n.MimeType&&(i.uint32(10),i.string(n.MimeType)),!1!==u.lengthDelimited&&i.ldelim()},(n,i)=>{const u={},y=null==i?n.len:n.pos+i;for(;n.pos<y;){const d=n.uint32();d>>>3==1?u.MimeType=n.string():n.skipType(7&d)}return u})),t),r.encode=n=>HE(n,r.codec()),r.decode=n=>l3(n,r.codec())}(U4||(U4={}));const vT={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},Ok=["directory","hamt-sharded-directory"],j4=parseInt("0644",8),h3=parseInt("0755",8);class Th{static unmarshal(t){const n=Qc.decode(t),i=new Th({type:vT[null!=n.Type?n.Type.toString():"File"],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:null!=n.mtime?{secs:n.mtime.Seconds??0n,nsecs:n.mtime.FractionalNanoseconds}:void 0,fanout:n.fanout});return i._originalMode=n.mode??0,i}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(t={type:"file"}){const{type:n,data:i,blockSizes:u,hashType:y,fanout:d,mtime:m,mode:Z}=t;if(null!=n&&!Object.values(vT).includes(n))throw I4(new Error("Type: "+n+" is not valid"),"ERR_INVALID_TYPE");this.type=n??"file",this.data=i,this.hashType=y,this.fanout=d,this.blockSizes=u??[],this._originalMode=0,this.mode=Z,this.mtime=m}set mode(t){this._mode=null==t?this.isDirectory()?h3:j4:4095&t}get mode(){return this._mode}isDirectory(){return Ok.includes(this.type)}addBlockSize(t){this.blockSizes.push(t)}removeBlockSize(t){this.blockSizes.splice(t,1)}fileSize(){if(this.isDirectory())return 0n;let t=0n;return this.blockSizes.forEach(n=>{t+=n}),null!=this.data&&(t+=BigInt(this.data.length)),t}marshal(){let t;switch(this.type){case"raw":t=Qc.DataType.Raw;break;case"directory":t=Qc.DataType.Directory;break;case"file":t=Qc.DataType.File;break;case"metadata":t=Qc.DataType.Metadata;break;case"symlink":t=Qc.DataType.Symlink;break;case"hamt-sharded-directory":t=Qc.DataType.HAMTShard;break;default:throw I4(new Error(`Type: ${t} is not valid`),"ERR_INVALID_TYPE")}let i,u,n=this.data;return(null==this.data||0===this.data.length)&&(n=void 0),null!=this.mode&&(i=4294963200&this._originalMode|(this.mode??0),i===j4&&!this.isDirectory()&&(i=void 0),i===h3&&this.isDirectory()&&(i=void 0)),null!=this.mtime&&(u={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),Qc.encode({Type:t,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:i,mtime:u})}}var bT=A(52054);const WE="raw",vg=85,p3=r=>(0,bT.au)(r),$4=r=>(0,bT.au)(r);class eu extends Event{type;detail;constructor(t,n){super(t),this.type=t,this.detail=n}}const ny=function(){var r=(0,Se.A)(function*(t,n,i){null==i.codec&&(i.codec=te);const u=yield be.digest(t),y=Yu.TO.create(i.cidVersion,i.codec.code,u);return yield n.put(y,t,i),y});return function(n,i,u){return r.apply(this,arguments)}}();function wT(r){return function(){var t=Ws(function*(i,u){let y=0n;var Z,d=!1,m=!1;try{for(var k,G=Ms(i.content);d=!(k=yield Ki(G.next())).done;d=!1){let ie=k.value;yield(0,Se.A)(function*(){let Ue;const He={codec:te,cidVersion:r.cidVersion,onProgress:r.onProgress};r.rawLeaves?(He.codec=ue,He.cidVersion=1):(Ue=new Th({type:r.leafType,data:ie}),ie=j0({Data:Ue.marshal(),Links:[]}));const Ve=yield ny(ie,u,He);return y+=BigInt(ie.byteLength),r.onProgress?.(new eu("unixfs:importer:progress:file:write",{bytesWritten:y,cid:Ve,path:i.path})),{cid:Ve,unixfs:Ue,size:BigInt(ie.length),block:ie}})}}catch(ie){m=!0,Z=ie}finally{try{d&&null!=G.return&&(yield Ki(G.return()))}finally{if(m)throw Z}}});return function n(i,u){return t.apply(this,arguments)}}()}function Dh(r){var t={},n=!1;function i(u,y){return n=!0,{done:!1,value:new Jv(y=new Promise(function(d){d(r[u](y))}),1)}}return t[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(u){return n?(n=!1,u):i("next",u)},"function"==typeof r.throw&&(t.throw=function(u){if(n)throw n=!1,u;return i("throw",u)}),"function"==typeof r.return&&(t.return=function(u){return n?(n=!1,u):i("return",u)}),t}const GE=function(){var r=(0,Se.A)(function*(t,n,i){const u=new Th({type:"directory",mtime:t.mtime,mode:t.mode}),y=j0(xs({Data:u.marshal()}));return{cid:yield ny(y,n,i),path:t.path,unixfs:u,size:BigInt(y.length),originalPath:t.originalPath,block:y}});return function(n,i,u){return r.apply(this,arguments)}}();function m3(){return(m3=Ws(function*(r,t,n){let u,i=-1;var m,y=!1,d=!1;try{for(var G,Z=Ms(gw(n.bufferImporter(r,t),n.blockWriteConcurrency));y=!(G=yield Ki(Z.next())).done;y=!1){const k=G.value;i++,0!==i?(1===i&&null!=u&&(yield{...u,block:void 0,single:void 0},u=void 0),yield{...k,block:void 0}):u={...k,single:!0}}}catch(k){d=!0,m=k}finally{try{y&&null!=Z.return&&(yield Ki(Z.return()))}finally{if(d)throw m}}null!=u&&(yield u)})).apply(this,arguments)}function y3(r){return!0===r.single}const V4=(r,t,n)=>function(){var u=(0,Se.A)(function*(y){if(1===y.length&&y3(y[0])&&n.reduceSingleLeafToSelf){const ie=y[0];let Ue=ie.block;return y3(ie)&&(void 0!==r.mtime||void 0!==r.mode)&&(ie.unixfs=new Th({type:"file",mtime:r.mtime,mode:r.mode,data:ie.block}),Ue={Data:ie.unixfs.marshal(),Links:[]},ie.block=j0(xs(Ue)),ie.cid=yield ny(ie.block,t,{...n,cidVersion:n.cidVersion}),ie.size=BigInt(ie.block.length)),n.onProgress?.(new eu("unixfs:importer:progress:file:layout",{cid:ie.cid,path:ie.originalPath})),{cid:ie.cid,path:r.path,unixfs:ie.unixfs,size:ie.size,originalPath:ie.originalPath}}const d=new Th({type:"file",mtime:r.mtime,mode:r.mode}),m=y.filter(ie=>ie.cid.code===vg&&ie.size>0||null!=ie.unixfs&&null==ie.unixfs.data&&ie.unixfs.fileSize()>0n||!!ie.unixfs?.data?.length).map(ie=>ie.cid.code===vg?(d.addBlockSize(ie.size),{Name:"",Tsize:Number(ie.size),Hash:ie.cid}):(d.addBlockSize(null==ie.unixfs||null==ie.unixfs.data?ie.unixfs?.fileSize()??0n:BigInt(ie.unixfs.data.length)),{Name:"",Tsize:Number(ie.size),Hash:ie.cid})),Z={Data:d.marshal(),Links:m},G=j0(xs(Z)),k=yield ny(G,t,n);return n.onProgress?.(new eu("unixfs:importer:progress:file:layout",{cid:k,path:r.originalPath})),{cid:k,path:r.path,unixfs:d,size:BigInt(G.length+Z.Links.reduce((ie,Ue)=>ie+(Ue.Tsize??0),0)),originalPath:r.originalPath,block:G}});return function(d){return u.apply(this,arguments)}}(),z4=function(){var r=(0,Se.A)(function*(t,n,i){return i.layout(function K4(r,t,n){return m3.apply(this,arguments)}(t,n,i),V4(t,n,i))});return function(n,i,u){return r.apply(this,arguments)}}();function Kw(r){try{if(r instanceof Uint8Array)return Ws(function*(){yield r})();if(function _T(r){return Symbol.iterator in r}(r))return Ws(function*(){yield*Dh(Ms(r))})();if(function g3(r){return Symbol.asyncIterator in r}(r))return r}catch{throw Qv(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw Qv(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function v3(r){return null!=r.content}function ET(r){return null!=globalThis.Buffer?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}const wg=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class MT{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class ZE{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return _3(this,t)}}class _g{constructor(t){this.decoders=t}or(t){return _3(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const _3=(r,t)=>new _g({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class E3{constructor(t,n,i,u){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=u,this.encoder=new MT(t,n,i),this.decoder=new ZE(t,n,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const ry=({name:r,prefix:t,encode:n,decode:i})=>new E3(r,t,n,i),fb=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:u}=function H4(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var u=0;u<r.length;u++){var y=r.charAt(u),d=y.charCodeAt(0);if(255!==n[d])throw new TypeError(y+" is ambiguous");n[d]=u}var m=r.length,Z=r.charAt(0),G=Math.log(m)/Math.log(256),k=Math.log(256)/Math.log(m);function Ue(Ve){if("string"!=typeof Ve)throw new TypeError("Expected String");if(0===Ve.length)return new Uint8Array;var qe=0;if(" "!==Ve[qe]){for(var pt=0,At=0;Ve[qe]===Z;)pt++,qe++;for(var bt=(Ve.length-qe)*G+1>>>0,_t=new Uint8Array(bt);Ve[qe];){var Ft=n[Ve.charCodeAt(qe)];if(255===Ft)return;for(var Xt=0,Ht=bt-1;(0!==Ft||Xt<At)&&-1!==Ht;Ht--,Xt++)_t[Ht]=(Ft+=m*_t[Ht]>>>0)%256>>>0,Ft=Ft/256>>>0;if(0!==Ft)throw new Error("Non-zero carry");At=Xt,qe++}if(" "!==Ve[qe]){for(var on=bt-At;on!==bt&&0===_t[on];)on++;for(var ln=new Uint8Array(pt+(bt-on)),Ln=pt;on!==bt;)ln[Ln++]=_t[on++];return ln}}}return{encode:function ie(Ve){if(Ve instanceof Uint8Array||(ArrayBuffer.isView(Ve)?Ve=new Uint8Array(Ve.buffer,Ve.byteOffset,Ve.byteLength):Array.isArray(Ve)&&(Ve=Uint8Array.from(Ve))),!(Ve instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ve.length)return"";for(var qe=0,pt=0,At=0,bt=Ve.length;At!==bt&&0===Ve[At];)At++,qe++;for(var _t=(bt-At)*k+1>>>0,Ft=new Uint8Array(_t);At!==bt;){for(var Xt=Ve[At],Ht=0,on=_t-1;(0!==Xt||Ht<pt)&&-1!==on;on--,Ht++)Ft[on]=(Xt+=256*Ft[on]>>>0)%m>>>0,Xt=Xt/m>>>0;if(0!==Xt)throw new Error("Non-zero carry");pt=Ht,At++}for(var ln=_t-pt;ln!==_t&&0===Ft[ln];)ln++;for(var Ln=Z.repeat(qe);ln<_t;++ln)Ln+=r.charAt(Ft[ln]);return Ln},decodeUnsafe:Ue,decode:function He(Ve){var qe=Ue(Ve);if(qe)return qe;throw new Error(`Non-${t} character`)}}}(n,t);return ry({prefix:r,name:t,encode:i,decode:y=>wg(u(y))})},tu=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>ry({prefix:t,name:r,encode:u=>((r,t,n)=>{const i="="===t[t.length-1],u=(1<<n)-1;let y="",d=0,m=0;for(let Z=0;Z<r.length;++Z)for(m=m<<8|r[Z],d+=8;d>n;)d-=n,y+=t[u&m>>d];if(d&&(y+=t[u&m<<n-d]),i)for(;y.length*n&7;)y+="=";return y})(u,i,n),decode:u=>((r,t,n,i)=>{const u={};for(let k=0;k<t.length;++k)u[t[k]]=k;let y=r.length;for(;"="===r[y-1];)--y;const d=new Uint8Array(y*n/8|0);let m=0,Z=0,G=0;for(let k=0;k<y;++k){const ie=u[r[k]];if(void 0===ie)throw new SyntaxError(`Non-${i} character`);Z=Z<<n|ie,m+=n,m>=8&&(m-=8,d[G++]=255&Z>>m)}if(m>=n||255&Z<<8-m)throw new SyntaxError("Unexpected end of data");return d})(u,i,n,r)}),IT=fb({prefix:"9",name:"base10",alphabet:"0123456789"}),Z4=tu({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Y4=tu({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),J4=tu({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),S3=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),TT=S3.reduce((r,t,n)=>(r[n]=t,r),[]),is=S3.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),hb=ry({prefix:"\u{1f680}",name:"base256emoji",encode:function DT(r){return r.reduce((t,n)=>t+TT[n],"")},decode:function RT(r){const t=[];for(const n of r){const i=is[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),pb=tu({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),OT=tu({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),q4=tu({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),JE=tu({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Eg=tu({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),A3=tu({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Vw=tu({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),PT=tu({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),C3=tu({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),M3=fb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),I3=fb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),zp=fb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),T3=fb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Q4=tu({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),e5=tu({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),t5=tu({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),kT=tu({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),n5=tu({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),r5=ry({prefix:"\0",name:"identity",encode:r=>(r=>(new TextDecoder).decode(r))(r),decode:r=>(r=>(new TextEncoder).encode(r))(r)}),i5=new TextEncoder,o5=new TextDecoder,BT="json",NT=512,s5=r=>i5.encode(JSON.stringify(r)),a5=r=>JSON.parse(o5.decode(r)),Af="raw",c5=85,l5=r=>wg(r),Pk=r=>wg(r);var R3=128,u5=-128,f5=Math.pow(2,31),m5=Math.pow(2,7),y5=Math.pow(2,14),g5=Math.pow(2,21),v5=Math.pow(2,28),Hp=Math.pow(2,35),k3=Math.pow(2,42),b5=Math.pow(2,49),w5=Math.pow(2,56),LT=Math.pow(2,63);const N3_encode=function O3(r,t,n){t=t||[];for(var i=n=n||0;r>=f5;)t[n++]=255&r|R3,r/=128;for(;r&u5;)t[n++]=255&r|R3,r>>>=7;return t[n]=0|r,O3.bytes=n-i+1,t},N3_encodingLength=function(r){return r<m5?1:r<y5?2:r<g5?3:r<v5?4:r<Hp?5:r<k3?6:r<b5?7:r<w5?8:r<LT?9:10},zw=(r,t,n=0)=>(N3_encode(r,t,n),t),Hw=r=>N3_encodingLength(r),xg=(r,t)=>{const n=t.byteLength,i=Hw(r),u=i+Hw(n),y=new Uint8Array(u+n);return zw(r,y,0),zw(n,y,i),y.set(t,u),new F3(r,n,t,y)};class F3{constructor(t,n,i,u){this.code=t,this.size=n,this.digest=i,this.bytes=u}}const jT=wg,$T={code:0,name:"identity",encode:jT,digest:r=>xg(0,jT(r))},iy=({name:r,code:t,encode:n})=>new mb(r,t,n);class mb{constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?xg(this.code,n):n.then(i=>xg(this.code,i))}throw Error("Unknown type, must be binary type")}}const tx=r=>function(){var t=(0,Se.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),Gw=iy({name:"sha2-256",code:18,encode:tx("SHA-256")}),KT=iy({name:"sha2-512",code:19,encode:tx("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const K3={...f,...ve,...l,...pe,...he,...Me,...Oe,...je,...B,...ge};function z3(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const yb=z3("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),Sg=z3("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=function V3(r=0){return null!=globalThis.Buffer?.allocUnsafe?ET(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),C5={utf8:yb,"utf-8":yb,hex:K3.base16,latin1:Sg,ascii:Sg,binary:Sg,...K3};function M5(r,t="utf8"){const n=C5[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${r}`):ET(globalThis.Buffer.from(r,"utf-8"))}const I5=()=>function(){var r=Ws(function*(n){var y,i=!1,u=!1;try{for(var m,d=Ms(n);i=!(m=yield Ki(d.next())).done;i=!1){const Z=m.value;if(void 0===Z.length)throw Qv(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof Z||Z instanceof String)yield M5(Z.toString());else if(Array.isArray(Z))yield Uint8Array.from(Z);else{if(!(Z instanceof Uint8Array))throw Qv(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield Z}}}catch(Z){u=!0,y=Z}finally{try{i&&null!=d.return&&(yield Ki(d.return()))}finally{if(u)throw y}}});return function t(n){return r.apply(this,arguments)}}(),ix=174;function H3(r){const t=r?.maxChildrenPerNode??ix;return function(){var n=(0,Se.A)(function*(u,y){const d=[];var G,m=!1,Z=!1;try{for(var ie,k=Ms(yw(u,t));m=!(ie=yield k.next()).done;m=!1){const Ue=ie.value;d.push(yield y(Ue))}}catch(Ue){Z=!0,G=Ue}finally{try{m&&null!=k.return&&(yield k.return())}finally{if(Z)throw G}}return d.length>1?i(d,y):d[0]});function i(u,y){return n.apply(this,arguments)}return i}()}class ox{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(t,n){this.options=n??{},this.root=t.root,this.dir=t.dir,this.path=t.path,this.dirty=t.dirty,this.flat=t.flat,this.parent=t.parent,this.parentKey=t.parentKey,this.unixfs=t.unixfs,this.mode=t.mode,this.mtime=t.mtime}}const W3=Yu.TO.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),WT=Yu.TO.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");class G3 extends ox{_children;constructor(t,n){super(t,n),this._children=new Map}put(t,n){var i=this;return(0,Se.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,i._children.set(t,n)})()}get(t){var n=this;return(0,Se.A)(function*(){return Promise.resolve(n._children.get(t))})()}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}eachChildSeries(){var t=this;return Ws(function*(){for(const[n,i]of t._children.entries())yield{key:n,child:i}})()}estimateNodeSize(){if(void 0!==this.nodeSize)return this.nodeSize;this.nodeSize=0;for(const[t,n]of this._children.entries())null!=n.size&&null!=n.cid&&(this.nodeSize+=t.length+(1===this.options.cidVersion?WT.bytes.byteLength:W3.bytes.byteLength));return this.nodeSize}flush(t){var n=this;return Ws(function*(){const i=[];for(const[Ve,qe]of n._children.entries()){let pt=qe;if(qe instanceof ox){var d,u=!1,y=!1;try{for(var Z,m=Ms(qe.flush(t));u=!(Z=yield Ki(m.next())).done;u=!1){const At=Z.value;pt=At,yield At}}catch(At){y=!0,d=At}finally{try{u&&null!=m.return&&(yield Ki(m.return()))}finally{if(y)throw d}}}null!=pt.size&&null!=pt.cid&&i.push({Name:Ve,Tsize:Number(pt.size),Hash:pt.cid})}const G=new Th({type:"directory",mtime:n.mtime,mode:n.mode}),k={Data:G.marshal(),Links:i},ie=j0(xs(k)),Ue=yield Ki(ny(ie,t,n.options)),He=ie.length+k.Links.reduce((Ve,qe)=>Ve+(null==qe.Tsize?0:qe.Tsize),0);n.cid=Ue,n.size=He,yield{cid:Ue,unixfs:G,path:n.path,size:BigInt(He)}})()}}const R5=new Uint8Array(0);function sx(r){const t=r.match(/../g);return null!=t?new Uint8Array(t.map(n=>parseInt(n,16))):R5}class ZT{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class YT{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return qT(this,t)}}class JT{decoders;constructor(t){this.decoders=t}or(t){return qT(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function qT(r,t){return new JT({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class k5{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,u){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=u,this.encoder=new ZT(t,n,i),this.decoder=new YT(t,n,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function QT({name:r,prefix:t,encode:n,decode:i}){return new k5(r,t,n,i)}function gb({name:r,prefix:t,alphabet:n}){const{encode:i,decode:u}=function GT(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var u=0;u<r.length;u++){var y=r.charAt(u),d=y.charCodeAt(0);if(255!==n[d])throw new TypeError(y+" is ambiguous");n[d]=u}var m=r.length,Z=r.charAt(0),G=Math.log(m)/Math.log(256),k=Math.log(256)/Math.log(m);function Ue(Ve){if("string"!=typeof Ve)throw new TypeError("Expected String");if(0===Ve.length)return new Uint8Array;var qe=0;if(" "!==Ve[qe]){for(var pt=0,At=0;Ve[qe]===Z;)pt++,qe++;for(var bt=(Ve.length-qe)*G+1>>>0,_t=new Uint8Array(bt);Ve[qe];){var Ft=n[Ve.charCodeAt(qe)];if(255===Ft)return;for(var Xt=0,Ht=bt-1;(0!==Ft||Xt<At)&&-1!==Ht;Ht--,Xt++)_t[Ht]=(Ft+=m*_t[Ht]>>>0)%256>>>0,Ft=Ft/256>>>0;if(0!==Ft)throw new Error("Non-zero carry");At=Xt,qe++}if(" "!==Ve[qe]){for(var on=bt-At;on!==bt&&0===_t[on];)on++;for(var ln=new Uint8Array(pt+(bt-on)),Ln=pt;on!==bt;)ln[Ln++]=_t[on++];return ln}}}return{encode:function ie(Ve){if(Ve instanceof Uint8Array||(ArrayBuffer.isView(Ve)?Ve=new Uint8Array(Ve.buffer,Ve.byteOffset,Ve.byteLength):Array.isArray(Ve)&&(Ve=Uint8Array.from(Ve))),!(Ve instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ve.length)return"";for(var qe=0,pt=0,At=0,bt=Ve.length;At!==bt&&0===Ve[At];)At++,qe++;for(var _t=(bt-At)*k+1>>>0,Ft=new Uint8Array(_t);At!==bt;){for(var Xt=Ve[At],Ht=0,on=_t-1;(0!==Xt||Ht<pt)&&-1!==on;on--,Ht++)Ft[on]=(Xt+=256*Ft[on]>>>0)%m>>>0,Xt=Xt/m>>>0;if(0!==Xt)throw new Error("Non-zero carry");pt=Ht,At++}for(var ln=_t-pt;ln!==_t&&0===Ft[ln];)ln++;for(var Ln=Z.repeat(qe);ln<_t;++ln)Ln+=r.charAt(Ft[ln]);return Ln},decodeUnsafe:Ue,decode:function He(Ve){var qe=Ue(Ve);if(qe)return qe;throw new Error(`Non-${t} character`)}}}(n,r);return QT({prefix:t,name:r,encode:i,decode:y=>function Zw(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}(u(y))})}function K0({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return QT({prefix:t,name:r,encode:u=>function N5(r,t,n){const i="="===t[t.length-1],u=(1<<n)-1;let y="",d=0,m=0;for(let Z=0;Z<r.length;++Z)for(m=m<<8|r[Z],d+=8;d>n;)d-=n,y+=t[u&m>>d];if(0!==d&&(y+=t[u&m<<n-d]),i)for(;y.length*n&7;)y+="=";return y}(u,i,n),decode:u=>function B5(r,t,n,i){const u={};for(let k=0;k<t.length;++k)u[t[k]]=k;let y=r.length;for(;"="===r[y-1];)--y;const d=new Uint8Array(y*n/8|0);let m=0,Z=0,G=0;for(let k=0;k<y;++k){const ie=u[r[k]];if(void 0===ie)throw new SyntaxError(`Non-${i} character`);Z=Z<<n|ie,m+=n,m>=8&&(m-=8,d[G++]=255&Z>>m)}if(m>=n||255&Z<<8-m)throw new SyntaxError("Unexpected end of data");return d}(u,i,n,r)})}K0({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),K0({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),K0({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),K0({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),K0({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),K0({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),K0({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),K0({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),K0({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),gb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),gb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var tD=128,Y3=-128,Jw=Math.pow(2,31),V5=128,vb=127,Vk=Math.pow(2,7),z5=Math.pow(2,14),rD=Math.pow(2,21),q3=Math.pow(2,28),H5=Math.pow(2,35),iD=Math.pow(2,42),W5=Math.pow(2,49),oD=Math.pow(2,56),sD=Math.pow(2,63);const cx={encode:function J3(r,t,n){t=t||[];for(var i=n=n||0;r>=Jw;)t[n++]=255&r|tD,r/=128;for(;r&Y3;)t[n++]=255&r|tD,r>>>=7;return t[n]=0|r,J3.bytes=n-i+1,t},decode:function bb(r,i){var d,n=0,u=0,y=i=i||0,m=r.length;do{if(y>=m)throw bb.bytes=0,new RangeError("Could not decode varint");d=r[y++],n+=u<28?(d&vb)<<u:(d&vb)*Math.pow(2,u),u+=7}while(d>=V5);return bb.bytes=y-i,n},encodingLength:function(r){return r<Vk?1:r<z5?2:r<rD?3:r<q3?4:r<H5?5:r<iD?6:r<W5?7:r<oD?8:r<sD?9:10}};function lx(r,t,n=0){return cx.encode(r,t,n),t}function dx(r){return cx.encodingLength(r)}function tC(r,t){const n=t.byteLength,i=dx(r),u=i+dx(n),y=new Uint8Array(u+n);return lx(r,y,0),lx(n,y,i),y.set(t,u),new rC(r,n,t,y)}class rC{code;size;digest;bytes;constructor(t,n,i,u){this.code=t,this.size=n,this.digest=i,this.bytes=u}}function hx({name:r,code:t,encode:n}){return new q5(r,t,n)}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class q5{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?tC(this.code,n):n.then(i=>tC(this.code,i))}throw Error("Unknown type, must be binary type")}}var px=A(13026);hx({name:"murmur3-32",code:35,encode:r=>function mx(r){const t=new Array(4);for(let n=0;n<4;n++)t[n]=255&r,r>>=8;return new Uint8Array(t)}(px.x86.hash32(r))});const dD=hx({name:"murmur3-128",code:34,encode:r=>sx(px.x64.hash128(r))});hx({name:"murmur3-x64-64",code:34,encode:r=>sx(px.x64.hash128(r)).subarray(0,8)});var eR=A(18876);class qf{_options;_popCount;_parent;_posAtParent;_children;key;constructor(t,n,i=0){this._options=t,this._popCount=0,this._parent=n,this._posAtParent=i,this._children=new eR,this.key=null}put(t,n){var i=this;return(0,Se.A)(function*(){const u=yield i._findNewBucketAndPos(t);u.bucket._putAt(u,t,n)})()}get(t){var n=this;return(0,Se.A)(function*(){const i=yield n._findChild(t);if(null!=i)return i.value})()}del(t){var n=this;return(0,Se.A)(function*(){const i=yield n._findPlace(t),u=i.bucket._at(i.pos);null!=u&&u.key===t&&i.bucket._delAt(i.pos)})()}leafCount(){return this._children.compactArray().reduce((n,i)=>i instanceof qf?n+i.leafCount():n+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const t=this._children.compactArray();for(const n of t)n instanceof qf?yield*n.eachLeafSeries():yield n}serialize(t,n){return n(this._children.reduce((u,y,d)=>(null!=y&&u.push(y instanceof qf?y.serialize(t,n):t(y,d)),u),[]))}asyncTransform(t,n){var i=this;return(0,Se.A)(function*(){return tR(i,t,n)})()}toJSON(){return this.serialize(Mg,e_)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}_findChild(t){var n=this;return(0,Se.A)(function*(){const i=yield n._findPlace(t),u=i.bucket._at(i.pos);if(!(u instanceof qf)&&null!=u&&u.key===t)return u})()}_findPlace(t){var n=this;return(0,Se.A)(function*(){const i=n._options.hash("string"==typeof t?Dt(t):t),u=yield i.take(n._options.bits),y=n._children.get(u);return y instanceof qf?y._findPlace(i):{bucket:n,pos:u,hash:i,existingChild:y}})()}_findNewBucketAndPos(t){var n=this;return(0,Se.A)(function*(){const i=yield n._findPlace(t);if(null!=i.existingChild&&i.existingChild.key!==t){const u=new qf(n._options,i.bucket,i.pos);i.bucket._putObjectAt(i.pos,u);const y=yield u._findPlace(i.existingChild.hash);return y.bucket._putAt(y,i.existingChild.key,i.existingChild.value),u._findNewBucketAndPos(i.hash)}return i})()}_putAt(t,n,i){this._putObjectAt(t.pos,{key:n,value:i,hash:t.hash})}_putObjectAt(t,n){null==this._children.get(t)&&this._popCount++,this._children.set(t,n)}_delAt(t){if(-1===t)throw new Error("Invalid position");null!=this._children.get(t)&&this._popCount--,this._children.unset(t),this._level()}_level(){if(null!=this._parent&&this._popCount<=1)if(1===this._popCount){const t=this._children.find(Cg);if(null!=t&&!(t instanceof qf)){const n=t.hash;n.untake(this._options.bits),this._parent._putAt({pos:this._posAtParent,hash:n,bucket:this._parent},t.key,t.value)}}else this._parent._delAt(this._posAtParent)}_at(t){return this._children.get(t)}}function Cg(r){return!!r}function Mg(r,t){return r.key}function e_(r){return r}function tR(r,t,n){return yx.apply(this,arguments)}function yx(){return(yx=(0,Se.A)(function*(r,t,n){const i=[];for(const u of r._children.compactArray())if(u instanceof qf)yield tR(u,t,n);else{const y=yield t(u);i.push({bitField:r._children.bitField(),children:y})}return n(i)})).apply(this,arguments)}const nR=[255,254,252,248,240,224,192,128],uD=[1,3,7,15,31,63,127,255];class rR{_value;_currentBytePos;_currentBitPos;constructor(t){this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(t){let n=t,i=0;for(;n>0&&this._haveBits();){const u=this._value[this._currentBytePos],y=this._currentBitPos+1,d=Math.min(y,n);i=(i<<d)+fD(u,y-d,d),n-=d,this._currentBitPos-=d,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(t){for(this._currentBitPos+=t;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}function fD(r,t,n){const i=function Hk(r,t){return nR[r]&uD[Math.min(t+r-1,7)]}(t,n);return(r&i)>>>t}function iR(r){return function t(n){return n instanceof Eb?n:new Eb(n,r)}}class Eb{_value;_hashFn;_depth;_availableBits;_currentBufferIndex;_buffers;constructor(t,n){if(!(t instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=t,this._hashFn=n,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}take(t){var n=this;return(0,Se.A)(function*(){let i=t;for(;n._availableBits<i;)yield n._produceMoreBits();let u=0;for(;i>0;){const y=n._buffers[n._currentBufferIndex],d=Math.min(y.availableBits(),i);u=(u<<d)+y.take(d),i-=d,n._availableBits-=d,0===y.availableBits()&&n._currentBufferIndex++}return u})()}untake(t){let n=t;for(;n>0;){const i=this._buffers[this._currentBufferIndex],u=Math.min(i.totalBits()-i.availableBits(),n);i.untake(u),n-=u,this._availableBits+=u,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}_produceMoreBits(){var t=this;return(0,Se.A)(function*(){t._depth++;const n=t._depth>0?Zm([t._value,Uint8Array.from([t._depth])]):t._value,i=yield t._hashFn(n),u=new rR(i);t._buffers.push(u),t._availableBits+=u.availableBits()})()}}function gx(r){if(null==r||null==r.hashFn)throw new Error("please define an options.hashFn");const t={bits:r.bits??8,hash:iR(r.hashFn)};return new qf(t)}function oR(r){return oC.apply(this,arguments)}function oC(){return(oC=(0,Se.A)(function*(r){return(yield dD.encode(r)).slice(0,8).reverse()})).apply(this,arguments)}const hD=BigInt(34),pD=class Wk extends ox{_bucket;constructor(t,n){super(t,n),this._bucket=gx({hashFn:oR,bits:8})}put(t,n){var i=this;return(0,Se.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,yield i._bucket.put(t,n)})()}get(t){var n=this;return(0,Se.A)(function*(){return n._bucket.get(t)})()}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}eachChildSeries(){var t=this;return Ws(function*(){var u,n=!1,i=!1;try{for(var d,y=Ms(t._bucket.eachLeafSeries());n=!(d=yield Ki(y.next())).done;n=!1){const{key:m,value:Z}=d.value;yield{key:m,child:Z}}}catch(m){i=!0,u=m}finally{try{n&&null!=y.return&&(yield Ki(y.return()))}finally{if(i)throw u}}})()}estimateNodeSize(){return void 0!==this.nodeSize||(this.nodeSize=vx(this._bucket,this,this.options)),this.nodeSize}flush(t){var n=this;return Ws(function*(){var y,i=!1,u=!1;try{for(var m,d=Ms(iu(n._bucket,t,n,n.options));i=!(m=yield Ki(d.next())).done;i=!1)yield{...m.value,path:n.path}}catch(Z){u=!0,y=Z}finally{try{i&&null!=d.return&&(yield Ki(d.return()))}finally{if(u)throw y}}})()}};function iu(r,t,n,i){return Dd.apply(this,arguments)}function Dd(){return(Dd=Ws(function*(r,t,n,i){const u=r._children,y=[];let d=0n;for(let on=0;on<u.length;on++){const ln=u.get(on);if(null==ln)continue;const Ln=on.toString(16).toUpperCase().padStart(2,"0");if(ln instanceof qf){let Vn;var G,m=!1,Z=!1;try{for(var ie,k=Ms(iu(ln,t,null,i));m=!(ie=yield Ki(k.next())).done;m=!1)Vn=ie.value}catch(Zn){Z=!0,G=Zn}finally{try{m&&null!=k.return&&(yield Ki(k.return()))}finally{if(Z)throw G}}if(null==Vn)throw new Error("Could not flush sharded directory, no subshard found");y.push({Name:Ln,Tsize:Number(Vn.size),Hash:Vn.cid}),d+=Vn.size}else if(mD(ln.value)){const Vn=ln.value;let Zn;var Ve,Ue=!1,He=!1;try{for(var pt,qe=Ms(Vn.flush(t));Ue=!(pt=yield Ki(qe.next())).done;Ue=!1)Zn=pt.value,yield Zn}catch(Xn){He=!0,Ve=Xn}finally{try{Ue&&null!=qe.return&&(yield Ki(qe.return()))}finally{if(He)throw Ve}}if(null==Zn)throw new Error("Did not flush dir");y.push({Name:Ln+ln.key,Tsize:Number(Zn.size),Hash:Zn.cid}),d+=Zn.size}else{const Vn=ln.value;if(null==Vn.cid)continue;const _r=Vn.size;y.push({Name:Ln+ln.key,Tsize:Number(_r),Hash:Vn.cid}),d+=BigInt(_r??0)}}const At=Uint8Array.from(u.bitField().reverse()),bt=new Th({type:"hamt-sharded-directory",data:At,fanout:BigInt(r.tableSize()),hashType:hD,mtime:n?.mtime,mode:n?.mode}),Ft=j0(xs({Data:bt.marshal(),Links:y})),Xt=yield Ki(ny(Ft,t,i)),Ht=BigInt(Ft.byteLength)+d;yield{cid:Xt,unixfs:bt,size:Ht}})).apply(this,arguments)}function mD(r){return"function"==typeof r.flush}function vx(r,t,n){const i=r._children,u=[];for(let Z=0;Z<i.length;Z++){const G=i.get(Z);if(null==G)continue;const k=Z.toString(16).toUpperCase().padStart(2,"0");if(G instanceof qf){const ie=vx(G,null,n);u.push({Name:k,Tsize:Number(ie),Hash:0===n.cidVersion?W3:WT})}else if("function"==typeof G.value.flush){const Ue=G.value.nodeSize();u.push({Name:k+G.key,Tsize:Number(Ue),Hash:0===n.cidVersion?W3:WT})}else{const ie=G.value;if(null==ie.cid)continue;u.push({Name:k+G.key,Tsize:Number(ie.size),Hash:ie.cid})}}const y=Uint8Array.from(i.bitField().reverse());return j0(xs({Data:new Th({type:"hamt-sharded-directory",data:y,fanout:BigInt(r.tableSize()),hashType:hD,mtime:t?.mtime,mode:t?.mode}).marshal(),Links:u})).length}function sC(r,t,n,i){return bx.apply(this,arguments)}function bx(){return bx=(0,Se.A)(function*(r,t,n,i){let u=t;t instanceof G3&&t.estimateNodeSize()>n&&(u=yield function sR(r,t){return wx.apply(this,arguments)}(t,i));const y=u.parent;if(null!=y){if(u!==t){if(null!=r&&(r.parent=u),null==u.parentKey)throw new Error("No parent key found");yield y.put(u.parentKey,u)}return sC(u,y,n,i)}return u}),bx.apply(this,arguments)}function wx(){return(wx=(0,Se.A)(function*(r,t){const n=new pD({root:r.root,dir:!0,parent:r.parent,parentKey:r.parentKey,path:r.path,dirty:r.dirty,flat:!1,mtime:r.mtime,mode:r.mode},t);var y,i=!1,u=!1;try{for(var m,d=Ms(r.eachChildSeries());i=!(m=yield d.next()).done;i=!1){const{key:Z,child:G}=m.value;yield n.put(Z,G)}}catch(Z){u=!0,y=Z}finally{try{i&&null!=d.return&&(yield d.return())}finally{if(u)throw y}}return n})).apply(this,arguments)}const aR=(r="")=>(r.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);function cR(r,t,n){return xb.apply(this,arguments)}function xb(){return(xb=(0,Se.A)(function*(r,t,n){const i=aR(r.path??""),u=i.length-1;let y=t,d="";for(let m=0;m<i.length;m++){const Z=i[m];d+=`${""!==d?"/":""}${Z}`;const G=m===u;if(y.dirty=!0,y.cid=void 0,y.size=void 0,G)yield y.put(Z,r),t=yield sC(null,y,n.shardSplitThresholdBytes,n);else{let k=yield y.get(Z);(null==k||!(k instanceof ox))&&(k=new G3({root:!1,dir:!0,parent:y,parentKey:Z,path:d,dirty:!0,flat:!0,mtime:k?.unixfs?.mtime,mode:k?.unixfs?.mode},n)),yield y.put(Z,k),y=k}}return t})).apply(this,arguments)}function _x(r,t){return Wp.apply(this,arguments)}function Wp(){return(Wp=Ws(function*(r,t){r instanceof ox?yield*Dh(Ms(r.flush(t))):!0===r.unixfs?.isDirectory()&&(yield r)})).apply(this,arguments)}function Sb(r,t){return Ig.apply(this,arguments)}function Ig(){return Ig=Ws(function*(r,t,n={}){let i;i=Symbol.asyncIterator in r||Symbol.iterator in r?r:[r];const u=n.wrapWithDirectory??!1,y=n.shardSplitThresholdBytes??262144,d=n.cidVersion??1,m=n.rawLeaves??!0,Z=n.leafType??"file",G=n.fileImportConcurrency??50,k=n.blockWriteConcurrency??10,ie=n.reduceSingleLeafToSelf??!0,Ue=n.chunker??WA(),He=n.chunkValidator??I5(),Ve=n.dagBuilder??function XE(r){return function(){var t=Ws(function*(i,u){var m,y=!1,d=!1;try{for(var G,Z=Ms(i);y=!(G=yield Ki(Z.next())).done;y=!1){const k=G.value;{let ie;if(null!=k.path&&(ie=k.path,k.path=k.path.split("/").filter(Ue=>null!=Ue&&"."!==Ue).join("/")),v3(k)){const Ue={path:k.path,mtime:k.mtime,mode:k.mode,content:Ws(function*(){let He=0n;var pt,Ve=!1,qe=!1;try{for(var bt,At=Ms(r.chunker(r.chunkValidator(Kw(k.content))));Ve=!(bt=yield Ki(At.next())).done;Ve=!1){const _t=bt.value;{const Ft=BigInt(_t.byteLength);He+=Ft,r.onProgress?.(new eu("unixfs:importer:progress:file:read",{bytesRead:He,chunkSize:Ft,path:k.path})),yield _t}}}catch(_t){qe=!0,pt=_t}finally{try{Ve&&null!=At.return&&(yield Ki(At.return()))}finally{if(qe)throw pt}}})(),originalPath:ie};yield(0,Se.A)(function*(){return z4(Ue,u,r)})}else{if(null==k.path)throw new Error("Import candidate must have content or path or both");{const Ue={path:k.path,mtime:k.mtime,mode:k.mode,originalPath:ie};yield(0,Se.A)(function*(){return GE(Ue,u,r)})}}}}}catch(k){d=!0,m=k}finally{try{y&&null!=Z.return&&(yield Ki(Z.return()))}finally{if(d)throw m}}});return function n(i,u){return t.apply(this,arguments)}}()}({chunker:Ue,chunkValidator:He,wrapWithDirectory:u,layout:n.layout??H3(),bufferImporter:n.bufferImporter??wT({cidVersion:d,rawLeaves:m,leafType:Z,onProgress:n.onProgress}),blockWriteConcurrency:k,reduceSingleLeafToSelf:ie,cidVersion:d,onProgress:n.onProgress}),qe=n.treeBuilder??function Ex(r){return function(){var t=Ws(function*(i,u){let d,y=new G3({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r),m=!1;var k,Z=!1,G=!1;try{for(var Ue,ie=Ms(i);Z=!(Ue=yield Ki(ie.next())).done;Z=!1){const bt=Ue.value;{if(null==bt)continue;const _t=`${bt.originalPath??""}`.split("/")[0];null!=_t&&""!==_t&&(null==d?(d=_t,m=!0):d!==_t&&(m=!1)),y=yield Ki(cR(bt,y,r)),(null==bt.unixfs||!bt.unixfs.isDirectory())&&(yield bt)}}}catch(bt){G=!0,k=bt}finally{try{Z&&null!=ie.return&&(yield Ki(ie.return()))}finally{if(G)throw k}}if(r.wrapWithDirectory||m&&y.childCount()>1)yield*Dh(Ms(_x(y,u)));else{var qe,He=!1,Ve=!1;try{for(var At,pt=Ms(y.eachChildSeries());He=!(At=yield Ki(pt.next())).done;He=!1){const bt=At.value;null!=bt&&(yield*Dh(Ms(_x(bt.child,u))))}}catch(bt){Ve=!0,qe=bt}finally{try{He&&null!=pt.return&&(yield Ki(pt.return()))}finally{if(Ve)throw qe}}}});return function n(i,u){return t.apply(this,arguments)}}()}({wrapWithDirectory:u,shardSplitThresholdBytes:y,cidVersion:d,onProgress:n.onProgress});var bt,pt=!1,At=!1;try{for(var Ft,_t=Ms(qe(gw(Ve(i,t),G),t));pt=!(Ft=yield Ki(_t.next())).done;pt=!1){const Xt=Ft.value;yield{cid:Xt.cid,path:Xt.path,unixfs:Xt.unixfs,size:Xt.size}}}catch(Xt){At=!0,bt=Xt}finally{try{pt&&null!=_t.return&&(yield Ki(_t.return()))}finally{if(At)throw bt}}}),Ig.apply(this,arguments)}var Sx=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},cC=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(y){n[y]=r[y]&&function(d){return new Promise(function(m,Z){!function u(y,d,m,Z){Promise.resolve(Z).then(function(G){y({value:G,done:m})},d)}(m,Z,(d=r[y](d)).done,d.value)})}}};const vD={[be.code]:be},Cb={[Gm]:re};class Rd{static computeCid(t,n=Gm,i=be.code){return Sx(this,void 0,void 0,function*(){const u=Cb[n];if(!u)throw new me(Te.ComputeCidCodecNotSupported,`codec [${n}] not supported`);const y=vD[i];if(!y)throw new me(Te.ComputeCidMultihashNotSupported,`multihash code [${i}] not supported`);const d=u.encode(t),m=yield y.digest(d);return(yield Yu.TO.createV1(u.code,m)).toString()})}static parseCid(t){const n=Yu.TO.parse(t).toV1();if(!Cb[n.code])throw new me(Te.ParseCidCodecNotSupported,`codec [${n.code}] not supported`);if(!vD[n.multihash.code])throw new me(Te.ParseCidMultihashNotSupported,`multihash code [${n.multihash.code}] not supported`);return n}static computeDagPbCidFromBytes(t){var n,i,u;return Sx(this,void 0,void 0,function*(){const d=Sb([{content:t}],new pw,{cidVersion:1});let m;try{for(var k,Z=!0,G=cC(d);k=yield G.next(),!(n=k.done);Z=!0)Z=!1,m=k.value}catch(ie){i={error:ie}}finally{try{!Z&&!n&&(u=G.return)&&(yield u.call(G))}finally{if(i)throw i.error}}return m?m.cid.toString():""})}static computeDagPbCidFromStream(t){var n,i,u;return Sx(this,void 0,void 0,function*(){const d=Sb([{content:t}],new pw,{cidVersion:1});let m;try{for(var k,Z=!0,G=cC(d);k=yield G.next(),!(n=k.done);Z=!0)Z=!1,m=k.value}catch(ie){i={error:ie}}finally{try{!Z&&!n&&(u=G.return)&&(yield u.call(G))}finally{if(i)throw i.error}}return m?m.cid.toString():""})}}var bD=A(91426),t_=A(63397),n_=A(65797),Ax=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};t_.VV.isEphemeralKeyCompressed=!0;class r_{static aes256CtrEncrypt(t,n,i){return Ax(this,void 0,void 0,function*(){const u=bD.createCipheriv("aes-256-ctr",t,n),y=new n_.Readable({read(){}});return i.on("data",d=>{const m=u.update(d);y.push(m)}),i.on("end",()=>{const d=u.final();y.push(d),y.push(null)}),i.on("error",d=>{y.emit("error",d)}),y})}static aes256CtrDecrypt(t,n,i){return Ax(this,void 0,void 0,function*(){const u=bD.createDecipheriv("aes-256-ctr",t,n),y=new n_.Readable({read(){}});return i.on("data",d=>{const m=u.update(d);y.push(m)}),i.on("end",()=>{const d=u.final();y.push(d),y.push(null)}),i.on("error",d=>{y.emit("error",d)}),y})}static eciesSecp256k1Encrypt(t,n){return Ax(this,void 0,void 0,function*(){const i=Buffer.from(t),u=Buffer.from(n),y=t_.w(i,u);let d=0,m=r_.isEphemeralKeyCompressed?33:65;const Z=y.subarray(d,m);d=m,m+=t_.VV.symmetricNonceLength;const G=y.subarray(d,m);d=m,m+=16;const k=y.subarray(d,m);return{ciphertext:y.subarray(m),ephemeralPublicKey:Z,initializationVector:G,messageAuthenticationCode:k}})}static eciesSecp256k1Decrypt(t){return Ax(this,void 0,void 0,function*(){const n=Buffer.from(t.privateKey),i=Buffer.concat([t.ephemeralPublicKey,t.initializationVector,t.messageAuthenticationCode,t.ciphertext]);return t_.Yc(n,i)})}static get isEphemeralKeyCompressed(){return t_.VV.isEphemeralKeyCompressed}}var lC=function(r){return r.Aes256Ctr="A256CTR",r.EciesSecp256k1="ECIES-ES256K",r}(lC||{}),wD=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class ay{constructor(t){this.jws=t}static create(t,n=[]){return wD(this,void 0,void 0,function*(){const i={payload:X.bytesToBase64Url(t),signatures:[]},u=new ay(i);for(const y of n)yield u.addSignature(y);return u})}addSignature(t){return wD(this,void 0,void 0,function*(){const i=JSON.stringify({kid:t.keyId,alg:t.algorithm}),u=X.stringToBase64Url(i),d=X.stringToBytes(`${u}.${this.jws.payload}`),m=yield t.sign(d),Z=X.bytesToBase64Url(m);this.jws.signatures.push({protected:u,signature:Z})})}getJws(){return this.jws}}const Rg="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var i_=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},Cf=function(r){return r.DataFormats="dataFormats",r.ProtocolContext="protocolContext",r.ProtocolPath="protocolPath",r.Schemas="schemas",r}(Cf||{});class Og{static derivePrivateKey(t,n){var i;return i_(this,void 0,void 0,function*(){const u=De.privateJwkToBytes(t.derivedPrivateKey),y=null!==(i=t.derivationPath)&&void 0!==i?i:[],d=yield Og.derivePrivateKeyBytes(u,n),m=yield De.privateKeyToJwk(d);return{rootKeyId:t.rootKeyId,derivationScheme:t.derivationScheme,derivationPath:[...y,...n],derivedPrivateKey:m}})}static derivePublicKey(t,n){return i_(this,void 0,void 0,function*(){const i=yield Og.derivePrivateKey(t,n);return yield De.getPublicJwk(i.derivedPrivateKey)})}static derivePrivateKeyBytes(t,n){return i_(this,void 0,void 0,function*(){Og.validateKeyDerivationPath(n);let i=t;for(const u of n){const y=X.stringToBytes(u);i=yield Og.deriveKeyUsingHkdf({hashAlgorithm:"SHA-256",initialKeyMaterial:i,info:y,keyLengthInBytes:32})}return i})}static deriveKeyUsingHkdf(t){return i_(this,void 0,void 0,function*(){const{hashAlgorithm:n,initialKeyMaterial:i,info:u,keyLengthInBytes:y}=t,m=yield function _D(){if(Rg&&"object"==typeof Rg.subtle&&null!=Rg.subtle)return Rg.subtle;throw new Error("crypto.subtle must be defined")}().importKey("raw",i,{name:"HKDF"},!1,["deriveBits"]),Z=yield crypto.subtle.deriveBits({name:"HKDF",hash:n,salt:new Uint8Array(0),info:u},m,8*y);return new Uint8Array(Z)})}static validateKeyDerivationPath(t){if(t.includes(""))throw new me(Te.HdKeyDerivationPathInvalid,`Invalid key derivation path: ${t}`)}}function dC(r,t){return r>t?1:r<t?-1:0}function o_(r){if("object"!=typeof r)return!1;for(const t in r)return!1;return!0}function qu(r){Object.keys(r).forEach(t=>{void 0===r[t]?delete r[t]:"object"==typeof r[t]&&qu(r[t])})}var cp=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class fi{static validateJsonSchema(t){x0(t.descriptor.interface+t.descriptor.method,t)}static getSigner(t){return void 0===t.authorization?void 0:Gr.getSignerDid(t.authorization.signature.signatures[0])}static getCid(t){return cp(this,void 0,void 0,function*(){const n=Object.assign({},t);return n.encodedData&&delete n.encodedData,yield Rd.computeCid(n)})}static compareCid(t,n){return cp(this,void 0,void 0,function*(){return dC(yield fi.getCid(t),yield fi.getCid(n))})}static createAuthorization(t){return cp(this,void 0,void 0,function*(){const{descriptor:n,signer:i,delegatedGrant:u,permissionGrantId:y,protocolRole:d}=t;let m;void 0!==u&&(m=yield fi.getCid(u));const G={signature:yield fi.createSignature(n,i,{delegatedGrantId:m,permissionGrantId:y,protocolRole:d})};return void 0!==u&&(G.authorDelegatedGrant=u),G})}static createSignature(t,n,i){return cp(this,void 0,void 0,function*(){const u=yield Rd.computeCid(t),y=Object.assign({descriptorCid:u},i);qu(y);const d=X.objectToBytes(y);return(yield ay.create(d,[n])).getJws()})}static getNewestMessage(t){return cp(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield fi.isNewer(i,n)))&&(n=i);return n})}static getOldestMessage(t){return cp(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield fi.isOlder(i,n)))&&(n=i);return n})}static isNewer(t,n){return cp(this,void 0,void 0,function*(){return(yield fi.compareMessageTimestamp(t,n))>0})}static isOlder(t,n){return cp(this,void 0,void 0,function*(){return(yield fi.compareMessageTimestamp(t,n))<0})}static isSignedByAuthorDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.authorDelegatedGrant)}static isSignedByOwnerDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.ownerDelegatedGrant)}static compareMessageTimestamp(t,n){return cp(this,void 0,void 0,function*(){return t.descriptor.messageTimestamp>n.descriptor.messageTimestamp?1:t.descriptor.messageTimestamp<n.descriptor.messageTimestamp?-1:fi.compareCid(t,n)})}static validateSignatureStructure(t,n,i="GenericSignaturePayload"){return cp(this,void 0,void 0,function*(){if(1!==t.signatures.length)throw new me(Te.AuthenticationMoreThanOneSignatureNotSupported,"expected no more than 1 signature for authorization purpose");const u=Gr.decodePlainObjectPayload(t);x0(i,u);const{descriptorCid:y}=u,d=yield Rd.computeCid(n);if(y!==d)throw new me(Te.AuthenticateDescriptorCidMismatch,`provided descriptorCid ${y} does not match expected CID ${d}`);return u})}}class Rh{static parse(t){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return new Rh(t)})}constructor(t){this.id=t.recordId,this.grantor=fi.getSigner(t),this.grantee=t.descriptor.recipient,this.dateGranted=t.descriptor.dateCreated;const i=X.base64UrlToObject(t.encodedData);this.dateExpires=i.dateExpires,this.delegated=i.delegated,this.description=i.description,this.requestId=i.requestId,this.scope=i.scope,this.conditions=i.conditions}}var xu=function(r){return r.CreatedAscending="createdAscending",r.CreatedDescending="createdDescending",r.PublishedAscending="publishedAscending",r.PublishedDescending="publishedDescending",r}(xu||{});class ou{static matchAnyFilter(t,n){if(0===n.length)return!0;for(const i of n)if(this.matchFilter(t,i))return!0;return!1}static matchFilter(t,n){for(const i in n){const u=n[i],y=t[i];if(void 0===y||!(Array.isArray(y)?this.matchAnyIndexValue(u,y):this.matchIndexValue(u,y)))return!1}return!0}static matchAnyIndexValue(t,n){for(const i of n)if(this.matchIndexValue(t,i))return!0;return!1}static matchIndexValue(t,n){if("object"==typeof t){if(Array.isArray(t)){if(this.matchOneOf(t,n))return!0}else if(this.matchRange(t,n))return!0}else if(n===t)return!0;return!1}static matchOneOf(t,n){for(const i of t)if(n===i)return!0;return!1}static matchRange(t,n){return!(void 0!==t.lt&&n>=t.lt||void 0!==t.lte&&n>t.lte||void 0!==t.gt&&n<=t.gt||void 0!==t.gte&&n<t.gte)}static isEqualFilter(t){return"object"!=typeof t}static isRangeFilter(t){return"object"==typeof t&&!Array.isArray(t)&&("gt"in t||"lt"in t||"lte"in t||"gte"in t)}static isOneOfFilter(t){return!("object"!=typeof t||!Array.isArray(t))}static convertRangeCriterion(t){let n;return void 0!==t.to&&void 0!==t.from?n={gte:t.from,lt:t.to}:void 0!==t.to?n={lt:t.to}:void 0!==t.from&&(n={gte:t.from}),n}static constructPrefixFilterAsRangeFilter(t){return{gte:t,lt:t+"\uffff"}}}class hC{static reduceFilter(t){if(Object.keys(t).length<=1)return t;const{recordId:i,attester:u,parentId:y,recipient:d,contextId:m,protocolPath:G,schema:k,protocol:ie}=t,Ue=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["recordId","attester","parentId","recipient","contextId","author","protocolPath","schema","protocol"]);if(void 0!==i)return{recordId:i};if(void 0!==u)return{attester:u};if(void 0!==y)return{parentId:y};if(void 0!==d)return{recipient:d};if(void 0!==m)return{contextId:m};if(void 0!==G)return{protocolPath:G};if(void 0!==k)return{schema:k};if(void 0!==ie)return{protocol:ie};const Ve=Object.keys(Ue)[0],qe={};return qe[Ve]=t[Ve],qe}}var Ao=function(r){return r.Messages="Messages",r.Protocols="Protocols",r.Records="Records",r}(Ao||{}),Xi=function(r){return r.Configure="Configure",r.Query="Query",r.Read="Read",r.Write="Write",r.Delete="Delete",r.Subscribe="Subscribe",r}(Xi||{});function cy(r){let t;try{t=ly(r)}catch{t=void 0}if(r!==t)throw new me(Te.UrlProtocolNotNormalized,`Protocol URI ${r} must be normalized.`)}function ly(r){return Mx(r)}function Cx(r){let t;try{t=s_(r)}catch{t=void 0}if(r!==t)throw new me(Te.UrlSchemaNotNormalized,`Schema URI ${r} must be normalized.`)}function s_(r){return Mx(r)}function Mx(r){let t;t=/^[^:]+:(\/{2})?[^\/].*/.test(r)?r:`http://${r}`;try{const n=new URL(t);return n.search="",n.hash="",function pC(r){return r.endsWith("/")?r.slice(0,-1):r}(n.href)}catch{throw new me(Te.UrlProtocolNotNormalizable,"Could not normalize protocol URI")}}var Ix=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class Jo{static isRecordsWrite(t){return t.descriptor.interface===Ao.Records&&t.descriptor.method===Xi.Write}static getAuthor(t){let n;return n=fi.getSigner(void 0!==t.authorization.authorDelegatedGrant?t.authorization.authorDelegatedGrant:t),n}static decrypt(t,n,i){return Ix(this,void 0,void 0,function*(){const{encryption:u}=t,y=u.keyEncryption.find(qe=>qe.rootKeyId===n.rootKeyId&&qe.derivationScheme===n.derivationScheme);if(void 0===y)throw new me(Te.RecordsDecryptNoMatchingKeyEncryptedFound,`Unable to find a symmetric key encrypted using key         with ID '${n.rootKeyId}' and '${n.derivationScheme}' derivation scheme.`);const d=Jo.constructKeyDerivationPath(y.derivationScheme,t),m=yield Jo.derivePrivateKey(n,d),Z=X.base64UrlToBytes(y.encryptedKey),G=De.publicJwkToBytes(y.ephemeralPublicKey),k=X.base64UrlToBytes(y.initializationVector),ie=X.base64UrlToBytes(y.messageAuthenticationCode),Ue=yield r_.eciesSecp256k1Decrypt({ciphertext:Z,ephemeralPublicKey:G,initializationVector:k,messageAuthenticationCode:ie,privateKey:m}),He=X.base64UrlToBytes(u.initializationVector);return yield r_.aes256CtrDecrypt(Ue,He,i)})}static constructKeyDerivationPath(t,n){const i=n.descriptor,u=n.contextId;let y;return y=t===Cf.DataFormats?Jo.constructKeyDerivationPathUsingDataFormatsScheme(i.schema,i.dataFormat):t===Cf.ProtocolPath?Jo.constructKeyDerivationPathUsingProtocolPathScheme(i):t===Cf.ProtocolContext?Jo.constructKeyDerivationPathUsingProtocolContextScheme(u):Jo.constructKeyDerivationPathUsingSchemasScheme(i.schema),y}static constructKeyDerivationPathUsingDataFormatsScheme(t,n){return void 0!==t?[Cf.DataFormats,t,n]:[Cf.DataFormats,n]}static constructKeyDerivationPathUsingProtocolPathScheme(t){if(void 0===t.protocol)throw new me(Te.RecordsProtocolPathDerivationSchemeMissingProtocol,"Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");const n=t.protocolPath.split("/");return[Cf.ProtocolPath,t.protocol,...n]}static constructKeyDerivationPathUsingProtocolContextScheme(t){if(void 0===t)throw new me(Te.RecordsProtocolContextDerivationSchemeMissingContextId,"Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");const n=t.split("/")[0];return[Cf.ProtocolContext,n]}static constructKeyDerivationPathUsingSchemasScheme(t){if(void 0===t)throw new me(Te.RecordsSchemasDerivationSchemeMissingSchema,"Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return[Cf.Schemas,t]}static derivePrivateKey(t,n){var i;return Ix(this,void 0,void 0,function*(){if("secp256k1"!==t.derivedPrivateKey.crv)throw new me(Te.RecordsDerivePrivateKeyUnSupportedCurve,`Curve ${t.derivedPrivateKey.crv} is not supported.`);const u=null!==(i=t.derivationPath)&&void 0!==i?i:[];Jo.validateAncestorKeyAndDescentKeyDerivationPathsMatch(u,n);const y=n.slice(u.length),d=De.privateJwkToBytes(t.derivedPrivateKey);return yield Og.derivePrivateKeyBytes(d,y)})}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(t,n){for(let i=0;i<t.length;i++){const u=t[i],y=n[i];if(u!==y)throw new me(Te.RecordsInvalidAncestorKeyDerivationSegment,`Ancestor key derivation segment '${u}' mismatches against the descendant key derivation segment '${y}'.`)}}static getParentContextFromOfContextId(t){if(void 0===t)return;const n=t.lastIndexOf("/");return-1===n?"":t.substring(0,n)}static normalizeFilter(t){let n,i;n=void 0===t.protocol?void 0:ly(t.protocol),i=void 0===t.schema?void 0:s_(t.schema);const u=Object.assign(Object.assign({},t),{protocol:n,schema:i});return qu(u),u}static isStartsWithFilter(t){return"object"==typeof t&&"startsWith"in t&&"string"==typeof t.startsWith}static buildTagIndexes(t){const n={};for(const i in t)n[`tag.${i}`]=t[i];return n}static convertTagsFilter(t){const n={};for(const i in t){const u=t[i];n[`tag.${i}`]=this.isStartsWithFilter(u)?ou.constructPrefixFilterAsRangeFilter(u.startsWith):u}return n}static convertFilter(t,n){const{tags:i}=t,u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["tags"]);let y={};void 0!==i&&(y=Object.assign({},this.convertTagsFilter(i)));const d=Object.assign(Object.assign({},u),y),{dateCreated:m,datePublished:Z,dateUpdated:G,contextId:k}=t,ie=m?ou.convertRangeCriterion(m):void 0;ie&&(d.dateCreated=ie);const Ue=Z?ou.convertRangeCriterion(Z):void 0;Ue&&(d.published=!0,d.datePublished=Ue),!0!==d.published&&(n===xu.PublishedAscending||n===xu.PublishedDescending)&&(d.published=!0);const He=G?ou.convertRangeCriterion(G):void 0;He&&(d.messageTimestamp=He,delete d.dateUpdated);const Ve=k?ou.constructPrefixFilterAsRangeFilter(k):void 0;return Ve&&(d.contextId=Ve),d}static validateDelegatedGrantReferentialIntegrity(t,n,i){var u,y;return Ix(this,void 0,void 0,function*(){const d=void 0!==n?.delegatedGrantId,m=void 0!==(null===(u=t.authorization)||void 0===u?void 0:u.authorDelegatedGrant);if(d!==m)throw new me(Te.RecordsAuthorDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in message (author) signature and authorDelegatedGrant must both exist or be undefined.          delegatedGrantId in message (author) signature defined: ${d},          authorDelegatedGrant defined: ${m}`);if(m){const k=t.authorization.authorDelegatedGrant;if(!0!==(yield Rh.parse(k)).delegated)throw new me(Te.RecordsAuthorDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const Ue=k.descriptor.recipient,He=fi.getSigner(t);if(Ue!==He)throw new me(Te.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${Ue} in author delegated grant must be the same as the signer ${He} of the message signature.`);const Ve=yield fi.getCid(k);if(Ve!==n.delegatedGrantId)throw new me(Te.RecordsAuthorDelegatedGrantCidMismatch,`CID of the author delegated grant ${Ve} must be the same as           the delegatedGrantId ${n.delegatedGrantId} in the message signature.`)}const Z=void 0!==i?.delegatedGrantId,G=void 0!==(null===(y=t.authorization)||void 0===y?void 0:y.ownerDelegatedGrant);if(Z!==G)throw new me(Te.RecordsOwnerDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in owner signature and ownerDelegatedGrant must both exist or be undefined.          delegatedGrantId in owner signature defined: ${Z},          ownerDelegatedGrant defined: ${G}`);if(G){const k=t.authorization.ownerDelegatedGrant;if(!0!==(yield Rh.parse(k)).delegated)throw new me(Te.RecordsOwnerDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const Ue=k.descriptor.recipient,He=Gr.getSignerDid(t.authorization.ownerSignature.signatures[0]);if(Ue!==He)throw new me(Te.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${Ue} in owner delegated grant must be the same as the signer ${He} of the owner signature.`);const Ve=yield fi.getCid(k);if(Ve!==i.delegatedGrantId)throw new me(Te.RecordsOwnerDelegatedGrantCidMismatch,`CID of the owner delegated grant ${Ve} must be the same as           the delegatedGrantId ${i.delegatedGrantId} in the owner signature.`)}})}static shouldProtocolAuthorize(t){return void 0!==t.protocolRole}static filterIncludesPublishedRecords(t){return void 0!==t.datePublished||!1!==t.published}static filterIncludesUnpublishedRecords(t){return void 0===t.datePublished&&void 0===t.published||!1===t.published}}var mC=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class Oh{static performBaseValidation(t){return mC(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:u,permissionGrant:y,messageStore:d}=t,m=n.descriptor;Oh.verifyExpectedGrantorAndGrantee(i,u,y);const Z=i;yield Oh.verifyGrantActive(Z,m.messageTimestamp,y,d),yield Oh.verifyGrantScopeInterfaceAndMethod(m.interface,m.method,y)})}static verifyExpectedGrantorAndGrantee(t,n,i){const u=i.grantee;if(n!==u)throw new me(Te.GrantAuthorizationNotGrantedToAuthor,`Permission grant is granted to ${u}, but need to be granted to ${n}`);const y=i.grantor;if(t!==y)throw new me(Te.GrantAuthorizationNotGrantedForTenant,`Permission grant is granted by ${y}, but need to be granted by ${t}`)}static verifyGrantActive(t,n,i,u){return mC(this,void 0,void 0,function*(){if(n<i.dateGranted)throw new me(Te.GrantAuthorizationGrantNotYetActive,"The message has a timestamp before the associated permission grant becomes active");if(n>=i.dateExpires)throw new me(Te.GrantAuthorizationGrantExpired,"The message has timestamp after the expiry of the associated permission grant");const y={parentId:i.id,protocolPath:"grant/revocation",isLatestBaseState:!0},{messages:d}=yield u.query(t,[y]),m=yield fi.getOldestMessage(d);if(void 0!==m&&m.descriptor.messageTimestamp<=n)throw new me(Te.GrantAuthorizationGrantRevoked,`Permission grant with CID ${i.id} has been revoked`)})}static verifyGrantScopeInterfaceAndMethod(t,n,i){return mC(this,void 0,void 0,function*(){if(t!==i.scope.interface)throw new me(Te.GrantAuthorizationInterfaceMismatch,`DWN Interface of incoming message is outside the scope of permission grant with ID ${i.id}`);if(n!==i.scope.method)throw new me(Te.GrantAuthorizationMethodMismatch,`DWN Method of incoming message is outside the scope of permission grant with ID ${i.id}`)})}}var yC=function(r){return r.Required="Required",r.Prohibited="Prohibited",r}(yC||{}),Mb=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class Qf{static authorizeWrite(t){return Mb(this,void 0,void 0,function*(){const{recordsWriteMessage:n,expectedGrantor:i,expectedGrantee:u,permissionGrant:y,messageStore:d}=t;yield Oh.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:u,permissionGrant:y,messageStore:d}),Qf.verifyScope(n,y.scope),Qf.verifyConditions(n,y.conditions)})}static authorizeRead(t){return Mb(this,void 0,void 0,function*(){const{recordsReadMessage:n,recordsWriteMessageToBeRead:i,expectedGrantor:u,expectedGrantee:y,permissionGrant:d,messageStore:m}=t;yield Oh.performBaseValidation({incomingMessage:n,expectedGrantor:u,expectedGrantee:y,permissionGrant:d,messageStore:m}),Qf.verifyScope(i,d.scope)})}static authorizeQueryOrSubscribe(t){return Mb(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:u,permissionGrant:y,messageStore:d}=t;yield Oh.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:u,permissionGrant:y,messageStore:d});const Z=y.scope.protocol,G=n.descriptor.filter.protocol;if(void 0!==Z&&G!==Z)throw new me(Te.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch,`Grant protocol scope ${Z} does not match protocol in message ${G}`)})}static authorizeDelete(t){return Mb(this,void 0,void 0,function*(){const{recordsDeleteMessage:n,recordsWriteToDelete:i,expectedGrantor:u,expectedGrantee:y,permissionGrant:d,messageStore:m}=t;yield Oh.performBaseValidation({incomingMessage:n,expectedGrantor:u,expectedGrantee:y,permissionGrant:d,messageStore:m});const G=d.scope.protocol,k=i.descriptor.protocol;if(void 0!==G&&k!==G)throw new me(Te.RecordsGrantAuthorizationDeleteProtocolScopeMismatch,`Grant protocol scope ${G} does not match protocol in record to delete ${k}`)})}static verifyScope(t,n){if(n.protocol!==t.descriptor.protocol)throw new me(Te.RecordsGrantAuthorizationScopeProtocolMismatch,"Grant scope specifies different protocol than what appears in the record");if(void 0!==n.contextId&&(void 0===t.contextId||!t.contextId.startsWith(n.contextId)))throw new me(Te.RecordsGrantAuthorizationScopeContextIdMismatch,"Grant scope specifies different contextId than what appears in the record");if(void 0!==n.protocolPath&&n.protocolPath!==t.descriptor.protocolPath)throw new me(Te.RecordsGrantAuthorizationScopeProtocolPathMismatch,"Grant scope specifies different protocolPath than what appears in the record")}static verifyConditions(t,n){if(n?.publication===yC.Required&&!t.descriptor.published)throw new me(Te.RecordsGrantAuthorizationConditionPublicationRequired,"Permission grant requires message to be published");if(n?.publication===yC.Prohibited&&t.descriptor.published)throw new me(Te.RecordsGrantAuthorizationConditionPublicationProhibited,"Permission grant prohibits message from being published")}}var Wt=A(89994);const xD={};function V0(r,t){Object.defineProperty(r.prototype,Symbol.toStringTag,{value:t,writable:!1,enumerable:!1,configurable:!0});for(const n of Object.getOwnPropertyNames(r)){const i=Object.getOwnPropertyDescriptor(r,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r,n,i))}for(const n of Object.getOwnPropertyNames(r.prototype)){const i=Object.getOwnPropertyDescriptor(r.prototype,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r.prototype,n,i))}Ga(t,r),Ga(`${t}.prototype`,r.prototype)}function Ga(r,t){const n=`%${r}%`;if(void 0!==xD[n])throw new Error(`intrinsic ${r} already exists`);xD[n]=t}function ri(r){return xD[r]}var gC,Tx;const eo="slot-epochNanoSeconds",lp="slot-timezone-identifier",mi="slot-year",bi="slot-month",Si="slot-day",Uo="slot-hour",zo="slot-minute",Ho="slot-second",Go="slot-millisecond",jo="slot-microsecond",Wo="slot-nanosecond",gr="slot-calendar",dR="slot-date-brand",vC="slot-year-month-brand",bC="slot-month-day-brand",id="slot-cached-instant",oa="slot-time-zone",su="slot-years",od="slot-months",Qu="slot-weeks",Su="slot-days",Au="slot-hours",Cu="slot-minutes",Mu="slot-seconds",au="slot-milliseconds",ll="slot-microseconds",Cl="slot-nanoseconds",dc="slot-calendar-identifier",uR=new WeakMap,Dx=Symbol.for("@@Temporal__GetSlots");(gC=globalThis)[Dx]||(gC[Dx]=function(t){return uR.get(t)});const wC=globalThis[Dx],SD=Symbol.for("@@Temporal__CreateSlots");(Tx=globalThis)[SD]||(Tx[SD]=function(t){uR.set(t,Object.create(null))});const Gp=globalThis[SD];function Ml(r,...t){if(!r||"object"!=typeof r)return!1;const n=wC(r);return!!n&&t.every(i=>i in n)}function tt(r,t){const n=wC(r)?.[t];if(void 0===n)throw new TypeError(`Missing internal slot ${t}`);return n}function $o(r,t,n){const i=wC(r);if(void 0===i)throw new TypeError("Missing slots for the given container");if(i[t])throw new TypeError(`${t} already has set`);i[t]=n}const _C=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,a_=new RegExp("(?:"+[`(?:${_C.source})(?:\\/(?:${_C.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),EC=/(?:[+\u2212-]\d{6}|\d{4})/,xC=/(?:0[1-9]|1[0-2])/,Rx=/(?:0[1-9]|[12]\d|3[01])/,Xk=new RegExp(`(${EC.source})(?:-(${xC.source})-(${Rx.source})|(${xC.source})(${Rx.source}))`),AD=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,SC=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,Ox=new RegExp(`([zZ])|${SC.source}?`),dy=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,fR=new RegExp([`^${Xk.source}`,`(?:(?:T|\\s+)${AD.source}(?:${Ox.source})?)?`,`(?:\\[!?(${a_.source})\\])?`,`((?:${dy.source})*)$`].join(""),"i"),Px=new RegExp([`^T?${AD.source}`,`(?:${Ox.source})?`,`(?:\\[!?${a_.source}\\])?`,`((?:${dy.source})*)$`].join(""),"i"),hR=new RegExp(`^(${EC.source})-?(${xC.source})(?:\\[!?${a_.source}\\])?((?:${dy.source})*)$`),pR=new RegExp(`^(?:--)?(${xC.source})-?(${Rx.source})(?:\\[!?${a_.source}\\])?((?:${dy.source})*)$`),AC=/(\d+)(?:[.,](\d{1,9}))?/,mR=new RegExp(`(?:${AC.source}H)?(?:${AC.source}M)?(?:${AC.source}S)?`),yR=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${mR.source})?$`,"i"),gR=Array.prototype.includes,CC=Array.prototype.push,MC=globalThis.Intl.DateTimeFormat,CD=Math.min,vR=Math.max,Xa=Math.abs,Iu=Math.floor,Pg=Math.sign,eh=Math.trunc,c_=Number.isNaN,cu=Number.isFinite,Zk=Number,kg=String,IC=Number.MAX_SAFE_INTEGER,Od=Object.create,MD=Object.getOwnPropertyDescriptor,Ib=Reflect.apply,bR=Reflect.ownKeys,Pc=Wt.BigInt(0),z0=Wt.BigInt(1),Xp=Wt.BigInt(60),ID=Wt.BigInt(24),Rs=Wt.BigInt(1e3),Mf=Wt.BigInt(1e6),sd=Wt.BigInt(1e9),l_=Wt.BigInt(-1),dl=Wt.multiply(Wt.BigInt(3600),sd),uy=Wt.multiply(Xp,sd),th=Wt.multiply(dl,ID),Tu=Wt.multiply(Wt.BigInt(-86400),Wt.BigInt(1e17)),dp=Wt.multiply(Wt.BigInt(86400),Wt.BigInt(1e17)),kx=-271821,fy=275760,hy=Wt.multiply(Wt.BigInt(-388152),Wt.BigInt(1e13)),TD=Wt.multiply(th,Wt.BigInt(3660)),TC=Wt.multiply(th,Wt.BigInt(366)),DD=Wt.multiply(th,Wt.BigInt(14)),wR=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function wa(r){return Wt.equal(r,Pc)}function Vs(r,t){const n=r[t];if(void 0!==n)return n}function Bi(r,t,n){return Ib(r,t,arguments.length>2?n:[])}function Xo(r){return"object"==typeof r&&null!==r||"function"==typeof r}function Zp(r){if("bigint"==typeof r)throw new TypeError("Cannot convert BigInt to number");return Zk(r)}function Za(r){const t=Zp(r);if(c_(t)||0===t)return 0;if(!cu(t))return t;const n=Iu(Xa(t));return 0===n?0:Pg(t)*n}function lu(r){if("number"!=typeof r||c_(r)||!cu(r))return!1;const t=Xa(r);return Iu(t)===t}function Il(r){if("symbol"==typeof r)throw new TypeError("Cannot convert a Symbol value to a String");return kg(r)}function Ss(r){const t=Zp(r);if(0===t)return 0;if(c_(t)||!cu(t))throw new RangeError("invalid number value");const n=eh(t);return 0===n?0:n}function DC(r,t){const n=Ss(r);if(n<=0)throw void 0!==t?new RangeError(`property '${t}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return n}function ul(r){const t=Zp(r);if(!cu(t))throw new RangeError("infinity is out of range");if(!lu(t))throw new RangeError(`unsupported fractional value ${r}`);return 0===t?0:t}function kc(r,t){return{quotient:Wt.divide(r,t),remainder:Wt.remainder(r,t)}}function Bg(r){return Wt.lessThan(r,Pc)}function Bx(r){return wa(r)?0:Bg(r)?-1:1}function Ph(r){return Wt.lessThan(r,Pc)?Wt.multiply(r,l_):r}const d_=new Map([["year",Ss],["month",DC],["monthCode",Il],["day",DC],["hour",Ss],["minute",Ss],["second",Ss],["millisecond",Ss],["microsecond",Ss],["nanosecond",Ss],["years",ul],["months",ul],["weeks",ul],["days",ul],["hours",ul],["minutes",ul],["seconds",ul],["milliseconds",ul],["microseconds",ul],["nanoseconds",ul],["era",Il],["eraYear",Za],["offset",Il]]),Ng=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),u_=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],Du=new Map(u_.map(r=>[r[0],r[1]])),_R=new Map(u_.map(([r,t])=>[t,r])),RD=u_.map(([,r])=>r),Nx=Array.from(Du.keys()).sort(),RC=new Map;function OC(r){let t=RC.get(r);return void 0===t&&(t=new MC("en-us",{timeZone:kg(r),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),RC.set(r,t)),t}function OD(r){if(null==r)throw new TypeError(`Expected object not ${r}`);return Object(r)}function f_(r,t,n,i){if(null==t)return;const u=bR(t);for(const y of u)if(!n.some(d=>Object.is(d,y))&&Object.prototype.propertyIsEnumerable.call(t,y)){const d=t[y];if(i&&i.some(m=>Object.is(m,d)))continue;r[y]=d}}function fl(r){return Ml(r,eo)&&!Ml(r,oa,gr)}function Ru(r){return Ml(r,lp)}function Ya(r){return Ml(r,dc)}function Ja(r){return Ml(r,su,od,Su,Au,Cu,Mu,au,ll,Cl)}function Zo(r){return Ml(r,dR)}function uc(r){return Ml(r,Uo,zo,Ho,Go,jo,Wo)&&!Ml(r,mi,bi,Si)}function Ro(r){return Ml(r,mi,bi,Si,Uo,zo,Ho,Go,jo,Wo)}function gs(r){return Ml(r,vC)}function el(r){return Ml(r,bC)}function Ci(r){return Ml(r,eo,oa,gr)}function Lg(r){if(Ml(r,gr)||Ml(r,oa))throw new TypeError("with() does not support a calendar or timeZone property");if(uc(r))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(void 0!==r.calendar)throw new TypeError("with() does not support a calendar property");if(void 0!==r.timeZone)throw new TypeError("with() does not support a timeZone property")}function Lx(r,t){return"never"===t?"":PC(ad(r),t)}function PC(r,t){return"never"===t||"auto"===t&&"iso8601"===r?"":`[${"critical"===t?"!":""}u-ca=${r}]`}function Yp(r){const t=fR.exec(r);if(!t)throw new RangeError(`invalid ISO 8601 string: ${r}`);let n=t[1];if("\u2212"===n[0]&&(n=`-${n.slice(1)}`),"-000000"===n)throw new RangeError(`invalid ISO 8601 string: ${r}`);const i=Za(n),u=Za(t[2]||t[4]),y=Za(t[3]||t[5]),d=Za(t[6]),m=void 0!==t[6],Z=Za(t[7]||t[10]);let G=Za(t[8]||t[11]);60===G&&(G=59);const k=(t[9]||t[12])+"000000000",ie=Za(k.slice(0,3)),Ue=Za(k.slice(3,6)),He=Za(k.slice(6,9));let Ve,qe=!1;if(t[13])Ve=void 0,qe=!0;else if(t[14]&&t[15]){const Ht=t[17]||"00";let on=t[18]||"0";if(Ve=`${"-"===t[14]||"\u2212"===t[14]?"-":"+"}${t[15]||"00"}:${t[16]||"00"}`,+on){for(;on.endsWith("0");)on=on.slice(0,-1);Ve+=`:${Ht}.${on}`}else+Ht&&(Ve+=`:${Ht}`);"-00:00"===Ve&&(Ve="+00:00")}const pt=t[19],At=t[20];let bt;for(const[,_t,Ft,Xt]of At.matchAll(dy))if("u-ca"===Ft)void 0===bt&&(bt=Xt);else if("!"===_t)throw new RangeError(`Unrecognized annotation: !${Ft}=${Xt}`);return A_(i,u,y,d,Z,G,ie,Ue,He),{year:i,month:u,day:y,hasTime:m,hour:d,minute:Z,second:G,millisecond:ie,microsecond:Ue,nanosecond:He,ianaName:pt,offset:Ve,z:qe,calendar:bt}}function py(r){const t=hR.exec(r);let n,i,u,y;if(t){let d=t[1];if("\u2212"===d[0]&&(d=`-${d.slice(1)}`),"-000000"===d)throw new RangeError(`invalid ISO 8601 string: ${r}`);n=Za(d),i=Za(t[2]);const m=t[3];for(const[,Z,G,k]of m.matchAll(dy))if("u-ca"===G)void 0===u&&(u=k);else if("!"===Z)throw new RangeError(`Unrecognized annotation: !${G}=${k}`);if(void 0!==u&&"iso8601"!==u)throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let d;if(({year:n,month:i,calendar:u,day:y,z:d}=Yp(r)),d)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:n,month:i,calendar:u,referenceISODay:y}}function Fx(r){const t=pR.exec(r);let n,i,u,y;if(t){n=Za(t[1]),i=Za(t[2]);const d=t[3];for(const[,m,Z,G]of d.matchAll(dy))if("u-ca"===Z)void 0===u&&(u=G);else if("!"===m)throw new RangeError(`Unrecognized annotation: !${Z}=${G}`);if(void 0!==u&&"iso8601"!==u)throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let d;if(({month:n,day:i,calendar:u,year:y,z:d}=Yp(r)),d)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:n,day:i,calendar:u,referenceISOYear:y}}function Ux(r,t,n,i){let u=r,y=t,d=n;switch(i){case"reject":s0(u,y,d);break;case"constrain":({year:u,month:y,day:d}=WD(u,y,d))}return{year:u,month:y,day:d}}function jx(r,t,n,i,u,y,d){let m=r,Z=t,G=n,k=i,ie=u,Ue=y;switch(d){case"reject":sS(m,Z,G,k,ie,Ue);break;case"constrain":({hour:m,minute:Z,second:G,millisecond:k,microsecond:ie,nanosecond:Ue}=(qe=Z,pt=G,At=k,bt=ie,_t=Ue,{hour:tf(m,0,23),minute:tf(qe,0,59),second:tf(pt,0,59),millisecond:tf(At,0,999),microsecond:tf(bt,0,999),nanosecond:tf(_t,0,999)}))}var qe,pt,At,bt,_t;return{hour:m,minute:Z,second:G,millisecond:k,microsecond:ie,nanosecond:Ue}}function my(r){if(!Xo(r))return function(Ve){const qe=yR.exec(Ve);if(!qe)throw new RangeError(`invalid duration: ${Ve}`);if(qe.slice(2).every(Rn=>void 0===Rn))throw new RangeError(`invalid duration: ${Ve}`);const pt="-"===qe[1]||"\u2212"===qe[1]?-1:1,At=void 0===qe[2]?0:Ss(qe[2])*pt,bt=void 0===qe[3]?0:Ss(qe[3])*pt,_t=void 0===qe[4]?0:Ss(qe[4])*pt,Ft=void 0===qe[5]?0:Ss(qe[5])*pt,Xt=void 0===qe[6]?0:Ss(qe[6])*pt,Ht=qe[7],on=qe[8],ln=qe[9],Ln=qe[10],Vn=qe[11];let Zn=0,_r=0,Xn=0;if(void 0!==Ht){if(on??ln??Ln??Vn)throw new RangeError("only the smallest unit can be fractional");Xn=3600*Za((Ht+"000000000").slice(0,9))*pt}else if(Zn=void 0===on?0:Ss(on)*pt,void 0!==ln){if(Ln??Vn)throw new RangeError("only the smallest unit can be fractional");Xn=60*Za((ln+"000000000").slice(0,9))*pt}else _r=void 0===Ln?0:Ss(Ln)*pt,void 0!==Vn&&(Xn=Za((Vn+"000000000").slice(0,9))*pt);const ar=Xn%1e3,wn=eh(Xn/1e3)%1e3,Dn=eh(Xn/1e6)%1e3;return _r+=eh(Xn/1e9)%60,Zn+=eh(Xn/6e10),Nb(At,bt,_t,Ft,Xt,Zn,_r,Dn,wn,ar),{years:At,months:bt,weeks:_t,days:Ft,hours:Xt,minutes:Zn,seconds:_r,milliseconds:Dn,microseconds:wn,nanoseconds:ar}}(Il(r));if(Ja(r))return{years:tt(r,su),months:tt(r,od),weeks:tt(r,Qu),days:tt(r,Su),hours:tt(r,Au),minutes:tt(r,Cu),seconds:tt(r,Mu),milliseconds:tt(r,au),microseconds:tt(r,ll),nanoseconds:tt(r,Cl)};const t={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let n=function(Ve){if(!Xo(Ve))throw new TypeError("invalid duration-like");const qe={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let pt=!1;for(const At of Nx){const bt=Ve[At];void 0!==bt&&(pt=!0,qe[At]=ul(bt))}if(!pt)throw new TypeError("invalid duration-like");return qe}(r);for(const He of Nx){const Ve=n[He];void 0!==Ve&&(t[He]=Ve)}let{years:i,months:u,weeks:y,days:d,hours:m,minutes:Z,seconds:G,milliseconds:k,microseconds:ie,nanoseconds:Ue}=t;return Nb(i,u,y,d,m,Z,G,k,ie,Ue),{years:i,months:u,weeks:y,days:d,hours:m,minutes:Z,seconds:G,milliseconds:k,microseconds:ie,nanoseconds:Ue}}function Bc(r){return void 0===r?"constrain":Ey(r,"overflow",["constrain","reject"],"constrain")}function Tb(r){return void 0===r?"compatible":Ey(r,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function Jp(r,t){return Ey(r,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],t)}function $x(r,t){return void 0===r?t:Ey(r,"offset",["prefer","use","ignore","reject"],t)}function Fg(r){return Ey(r,"calendarName",["auto","always","never","critical"],"auto")}function yy(r){let t=r.roundingIncrement;if(void 0===t)return 1;if(t=Zp(t),!cu(t))throw new RangeError("roundingIncrement must be finite");const n=eh(t);if(n<1||n>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${t}`);return n}function Db(r,t,n){const i=n?t:t-1;if(r>i)throw new RangeError(`roundingIncrement must be at least 1 and less than ${i}, not ${r}`);if(t%r!=0)throw new RangeError(`Rounding increment must divide evenly into ${t}`)}function h_(r){const t=r.fractionalSecondDigits;if(void 0===t)return"auto";if("number"!=typeof t){if("auto"!==Il(t))throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return"auto"}const n=Iu(t);if(!cu(n)||n<0||n>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return n}function p_(r,t){switch(r){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(t){case"auto":return{precision:t,unit:"nanosecond",increment:1};case 0:return{precision:t,unit:"second",increment:1};case 1:case 2:case 3:return{precision:t,unit:"millisecond",increment:10**(3-t)};case 4:case 5:case 6:return{precision:t,unit:"microsecond",increment:10**(6-t)};case 7:case 8:case 9:return{precision:t,unit:"nanosecond",increment:10**(9-t)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}const Ug=Symbol("~required~");function ef(r,t,n,i,u=[]){const y=[];for(const[,G,k]of u_)"datetime"!==n&&n!==k||y.push(G);y.push(...u);let d=i;d===Ug?d=void 0:void 0!==d&&y.push(d);const m=[...y];for(const G of y){const k=_R.get(G);void 0!==k&&m.push(k)}let Z=Ey(r,t,m,d);if(void 0===Z&&i===Ug)throw new RangeError(`${t} is required`);return Du.has(Z)?Du.get(Z):Z}function Kx(r){const t=r.relativeTo;if(void 0===t)return t;let n,i,u,y,d,m,Z,G,k,ie,Ue,He,Ve="option",qe=!1;if(Xo(t)){if(Ci(t)||Zo(t))return t;if(Ro(t))return kb(t);ie=Bh(t);const pt=Nc(ie,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);pt.push("timeZone","offset");const At=es(t,pt,[]),bt=Od(null);bt.overflow="constrain",({year:n,month:i,day:u,hour:y,minute:d,second:m,millisecond:Z,microsecond:G,nanosecond:k}=m_(ie,At,bt)),He=At.offset,void 0===He&&(Ve="wall"),Ue=At.timeZone,void 0!==Ue&&(Ue=du(Ue))}else{let pt,At;if(({year:n,month:i,day:u,hour:y,minute:d,second:m,millisecond:Z,microsecond:G,nanosecond:k,calendar:ie,ianaName:pt,offset:He,z:At}=Yp(Il(t))),pt)Ue=du(pt),At?Ve="exact":He||(Ve="wall"),qe=!0;else if(At)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(ie||(ie="iso8601"),!em(ie))throw new RangeError(`invalid calendar identifier ${ie}`);ie=l0(ie)}return void 0===Ue?If(n,i,u,ie):Vc(fp(n,i,u,y,d,m,Z,G,k,Ve,"option"===Ve?r0(He):0,Ue,"compatible","reject",qe),Ue,ie)}function kC(r,t,n,i,u,y,d,m,Z,G){for(const[k,ie]of[["years",r],["months",t],["weeks",n],["days",i],["hours",u],["minutes",y],["seconds",d],["milliseconds",m],["microseconds",Z],["nanoseconds",G]])if(0!==ie)return Du.get(k);return"nanosecond"}function jg(r,t){return RD.indexOf(r)>RD.indexOf(t)?t:r}function es(r,t,n,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){const u=Od(null);let y=!1;t.sort();for(const d of t){let m=r[d];if(void 0!==m)y=!0,d_.has(d)&&(m=d_.get(d)(m)),u[d]=m;else if("partial"!==n){if(gR.call(n,d))throw new TypeError(`required property '${d}' missing or undefined`);m=Ng.get(d),u[d]=m}}if("partial"===n&&!y)throw new TypeError(i);return u}function Vx(r,t="complete"){const n=["hour","microsecond","millisecond","minute","nanosecond","second"],i=es(r,n,"partial",{emptySourceErrorMessage:"invalid time-like"}),u={};for(const y of n){const d=MD(i,y);void 0!==d?u[y]=d.value:"complete"===t&&(u[y]=0)}return u}function ha(r,t){let n=r;if(Xo(n)){if(Zo(n))return n;if(Ci(n)&&(Bc(t),n=Tf(tt(n,oa),tt(n,id),tt(n,gr))),Ro(n))return Bc(t),If(tt(n,mi),tt(n,bi),tt(n,Si),tt(n,gr));const Z=Bh(n);return Y0(Z,es(n,Nc(Z,["day","month","monthCode","year"]),[]),t)}Bc(t);let{year:i,month:u,day:y,calendar:d,z:m}=Yp(Il(n));if(m)throw new RangeError("Z designator not supported for PlainDate");if(d||(d="iso8601"),!em(d))throw new RangeError(`invalid calendar identifier ${d}`);return d=l0(d),If(i,u,y,d)}function m_(r,t,n){let{hour:i,minute:u,second:y,millisecond:d,microsecond:m,nanosecond:Z}=Vx(t);const G=Bc(n),k=Y0(r,t,n),ie=tt(k,mi),Ue=tt(k,bi),He=tt(k,Si);return({hour:i,minute:u,second:y,millisecond:d,microsecond:m,nanosecond:Z}=jx(i,u,y,d,m,Z,G)),{year:ie,month:Ue,day:He,hour:i,minute:u,second:y,millisecond:d,microsecond:m,nanosecond:Z}}function $g(r,t){let n,i,u,y,d,m,Z,G,k,ie;if(Xo(r)){if(Ro(r))return r;if(Ci(r))return Bc(t),Tf(tt(r,oa),tt(r,id),tt(r,gr));if(Zo(r))return Bc(t),Ou(tt(r,mi),tt(r,bi),tt(r,Si),0,0,0,0,0,0,tt(r,gr));ie=Bh(r);const Ue=es(r,Nc(ie,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:n,month:i,day:u,hour:y,minute:d,second:m,millisecond:Z,microsecond:G,nanosecond:k}=m_(ie,Ue,t))}else{let Ue;if(Bc(t),({year:n,month:i,day:u,hour:y,minute:d,second:m,millisecond:Z,microsecond:G,nanosecond:k,calendar:ie,z:Ue}=Yp(Il(r))),Ue)throw new RangeError("Z designator not supported for PlainDateTime");if(A_(n,i,u,y,d,m,Z,G,k),ie||(ie="iso8601"),!em(ie))throw new RangeError(`invalid calendar identifier ${ie}`);ie=l0(ie)}return Ou(n,i,u,y,d,m,Z,G,k,ie)}function Rb(r){if(Ja(r))return r;let{years:t,months:n,weeks:i,days:u,hours:y,minutes:d,seconds:m,milliseconds:Z,microseconds:G,nanoseconds:k}=my(r);return new(ri("%Temporal.Duration%"))(t,n,i,u,y,d,m,Z,G,k)}function up(r){if(fl(r))return r;if(Ci(r))return new(ri("%Temporal.Instant%"))(tt(r,eo));const t=function ER(r){let{year:t,month:n,day:i,hour:u,minute:y,second:d,millisecond:m,microsecond:Z,nanosecond:G,offset:k,z:ie}=function(qe){const pt=Yp(qe);if(!pt.z&&!pt.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return pt}(r);if(!ie&&!k)throw new RangeError("Temporal.Instant requires a time zone offset");const Ue=ie?0:r0(k);({year:t,month:n,day:i,hour:u,minute:y,second:d,millisecond:m,microsecond:Z,nanosecond:G}=rS(t,n,i,u,y,d,m,Z,G-Ue));const He=Bd(t,n,i,u,y,d,m,Z,G);if(null===He)throw new RangeError("DateTime outside of supported range");return He}(Il(r));return new(ri("%Temporal.Instant%"))(t)}function kD(r,t){let n=r;if(Xo(n)){if(el(n))return n;let m,Z;if(Ml(n,gr))m=tt(n,gr),Z=!1;else{let k=n.calendar;Z=void 0===k,void 0===k&&(k="iso8601"),m=Pd(k)}const G=es(n,Nc(m,["day","month","monthCode","year"]),[]);return Z&&void 0!==G.month&&void 0===G.monthCode&&void 0===G.year&&(G.year=1972),w_(m,G,t)}Bc(t);let{month:i,day:u,referenceISOYear:y,calendar:d}=Fx(Il(n));if(void 0===d&&(d="iso8601"),!em(d))throw new RangeError(`invalid calendar identifier ${d}`);return d=l0(d),void 0===y?(s0(1972,i,u),H0(i,u,d)):w_(d,H0(i,u,d,y))}function qp(r,t="constrain"){let n,i,u,y,d,m,Z=r;if(Xo(Z)){if(uc(Z))return Z;if(Ci(Z)&&(Z=Tf(tt(Z,oa),tt(Z,id),tt(Z,gr))),Ro(Z))return new(ri("%Temporal.PlainTime%"))(tt(Z,Uo),tt(Z,zo),tt(Z,Ho),tt(Z,Go),tt(Z,jo),tt(Z,Wo));({hour:n,minute:i,second:u,millisecond:y,microsecond:d,nanosecond:m}=Vx(Z)),({hour:n,minute:i,second:u,millisecond:y,microsecond:d,nanosecond:m}=jx(n,i,u,y,d,m,t))}else({hour:n,minute:i,second:u,millisecond:y,microsecond:d,nanosecond:m}=function(k){const ie=Px.exec(k);let Ue,He,Ve,qe,pt,At,bt;if(ie){Ue=Za(ie[1]),He=Za(ie[2]||ie[5]),Ve=Za(ie[3]||ie[6]),60===Ve&&(Ve=59);const _t=(ie[4]||ie[7])+"000000000";qe=Za(_t.slice(0,3)),pt=Za(_t.slice(3,6)),At=Za(_t.slice(6,9)),bt=ie[14];for(const[,Ft,Xt,Ht]of bt.matchAll(dy))if("u-ca"!==Xt&&"!"===Ft)throw new RangeError(`Unrecognized annotation: !${Xt}=${Ht}`);if(ie[8])throw new RangeError("Z designator not supported for PlainTime")}else{let _t,Ft;if(({hasTime:Ft,hour:Ue,minute:He,second:Ve,millisecond:qe,microsecond:pt,nanosecond:At,z:_t}=Yp(k)),!Ft)throw new RangeError(`time is missing in string: ${k}`);if(_t)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(k))return{hour:Ue,minute:He,second:Ve,millisecond:qe,microsecond:pt,nanosecond:At};try{const{month:_t,day:Ft}=Fx(k);s0(1972,_t,Ft)}catch{try{const{year:_t,month:Ft}=py(k);s0(_t,Ft,1)}catch{return{hour:Ue,minute:He,second:Ve,millisecond:qe,microsecond:pt,nanosecond:At}}}throw new RangeError(`invalid ISO 8601 time-only string ${k}; may need a T prefix`)}(Il(Z))),sS(n,i,u,y,d,m);return new(ri("%Temporal.PlainTime%"))(n,i,u,y,d,m)}function Ob(r,t){if(Xo(r)){if(gs(r))return r;const d=Bh(r);return J0(d,es(r,Nc(d,["month","monthCode","year"]),[]),t)}Bc(t);let{year:n,month:i,referenceISODay:u,calendar:y}=py(Il(r));if(void 0===y&&(y="iso8601"),!em(y))throw new RangeError(`invalid calendar identifier ${y}`);return y=l0(y),void 0===u?(s0(n,i,1),Qp(n,i,y)):J0(y,Qp(n,i,y,u))}function fp(r,t,n,i,u,y,d,m,Z,G,k,ie,Ue,He,Ve){const qe=new(ri("%Temporal.PlainDateTime%"))(r,t,n,i,u,y,d,m,Z);if("wall"===G||"ignore"===He)return tt(kd(ie,qe,Ue),eo);if("exact"===G||"use"===He){const At=Bd(r,t,n,i,u,y,d,m,Z);if(null===At)throw new RangeError("ZonedDateTime outside of supported range");return Wt.subtract(At,Wt.BigInt(k))}const pt=E_(ie,qe);for(const At of pt){const bt=Nh(ie,At),_t=Wt.toNumber(Df(Wt.BigInt(bt),uy,"halfExpand"));if(bt===k||Ve&&_t===k)return tt(At,eo)}if("reject"===He){const At=x_(k),bt=Ru(ie)?tt(ie,lp):"time zone";throw new RangeError(`Offset ${At} is invalid for ${qe.toString()} in ${bt}`)}return tt(FD(pt,ie,qe,Ue),eo)}function Kg(r,t){let n,i,u,y,d,m,Z,G,k,ie,Ue,He,Ve,qe,pt=!1,At="option";if(Xo(r)){if(Ci(r))return r;He=Bh(r);const _t=Nc(He,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);_t.push("timeZone","offset");const Ft=es(r,_t,["timeZone"]);ie=du(Ft.timeZone),Ue=Ft.offset,void 0===Ue&&(At="wall"),Ve=Tb(t),qe=$x(t,"reject"),({year:n,month:i,day:u,hour:y,minute:d,second:m,millisecond:Z,microsecond:G,nanosecond:k}=m_(He,Ft,t))}else{let _t,Ft;if(({year:n,month:i,day:u,hour:y,minute:d,second:m,millisecond:Z,microsecond:G,nanosecond:k,ianaName:_t,offset:Ue,z:Ft,calendar:He}=function(Ht){const on=Yp(Ht);if(!on.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return on}(Il(r))),ie=du(_t),Ft?At="exact":Ue||(At="wall"),He||(He="iso8601"),!em(He))throw new RangeError(`invalid calendar identifier ${He}`);He=l0(He),pt=!0,Ve=Tb(t),qe=$x(t,"reject"),Bc(t)}let bt=0;return"option"===At&&(bt=r0(Ue)),Vc(fp(n,i,u,y,d,m,Z,G,k,At,bt,ie,Ve,qe,pt),ie,He)}function BD(r,t,n,i,u){s0(t,n,i),GD(t,n,i),Gp(r),$o(r,mi,t),$o(r,bi,n),$o(r,Si,i),$o(r,gr,u),$o(r,dR,!0)}function If(r,t,n,i="iso8601"){const u=ri("%Temporal.PlainDate%"),y=Od(u.prototype);return BD(y,r,t,n,i),y}function ND(r,t,n,i,u,y,d,m,Z,G,k){A_(t,n,i,u,y,d,m,Z,G),SR(t,n,i,u,y,d,m,Z,G),Gp(r),$o(r,mi,t),$o(r,bi,n),$o(r,Si,i),$o(r,Uo,u),$o(r,zo,y),$o(r,Ho,d),$o(r,Go,m),$o(r,jo,Z),$o(r,Wo,G),$o(r,gr,k)}function Ou(r,t,n,i,u,y,d,m,Z,G="iso8601"){const k=ri("%Temporal.PlainDateTime%"),ie=Od(k.prototype);return ND(ie,r,t,n,i,u,y,d,m,Z,G),ie}function BC(r,t,n,i,u){s0(u,t,n),GD(u,t,n),Gp(r),$o(r,bi,t),$o(r,Si,n),$o(r,mi,u),$o(r,gr,i),$o(r,bC,!0)}function H0(r,t,n="iso8601",i=1972){const u=ri("%Temporal.PlainMonthDay%"),y=Od(u.prototype);return BC(y,r,t,n,i),y}function zx(r,t,n,i,u){var d,m;s0(t,n,u),m=n,cd(d=t,kx,fy),d===kx?cd(m,4,12):d===fy&&cd(m,1,9),Gp(r),$o(r,mi,t),$o(r,bi,n),$o(r,Si,u),$o(r,gr,i),$o(r,vC,!0)}function Qp(r,t,n="iso8601",i=1){const u=ri("%Temporal.PlainYearMonth%"),y=Od(u.prototype);return zx(y,r,t,n,i),y}function NC(r,t,n,i){Hg(t),Gp(r),$o(r,eo,t),$o(r,oa,n),$o(r,gr,i);const u=new(ri("%Temporal.Instant%"))(tt(r,eo));$o(r,id,u)}function Vc(r,t,n="iso8601"){const i=ri("%Temporal.ZonedDateTime%"),u=Od(i.prototype);return NC(u,r,t,n),u}function Nc(r,t){if("string"==typeof r){const u=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.fields%"),u,[t])}const n=Bi(Vs(r,"fields"),r,[t]),i=[];for(const u of n){if("string"!=typeof u)throw new TypeError("bad return from calendar.fields()");CC.call(i,u)}return i}function kh(r,t,n){if("string"==typeof r){const u=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.mergeFields%"),u,[t,n])}const i=Bi(Vs(r,"mergeFields"),r,[t,n]);if(!Xo(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function zc(r,t,n,i,u){let y=u;if("string"==typeof r){const m=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.dateAdd%"),m,[t,n,i])}void 0===y&&(y=Vs(r,"dateAdd"));const d=Ib(y,r,[t,n,i]);if(!Zo(d))throw new TypeError("invalid result");return d}function nh(r,t,n,i,u){let y=u;if("string"==typeof r){const m=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.dateUntil%"),m,[t,n,i])}void 0===y&&(y=Vs(r,"dateUntil"));const d=Ib(y,r,[t,n,i]);if(!Ja(d))throw new TypeError("invalid result");return d}function W0(r,t){if("string"==typeof r){const i=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.year%"),i,[t])}let n=Bi(Vs(r,"year"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar year result must be an integer");if(!lu(n))throw new RangeError("calendar year result must be an integer");return n}function G0(r,t){if("string"==typeof r){const i=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.month%"),i,[t])}let n=Bi(Vs(r,"month"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar month result must be a positive integer");if(!lu(n)||n<1)throw new RangeError("calendar month result must be a positive integer");return n}function e0(r,t){if("string"==typeof r){const i=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.monthCode%"),i,[t])}let n=Bi(Vs(r,"monthCode"),r,[t]);if("string"!=typeof n)throw new TypeError("calendar monthCode result must be a string");return n}function t0(r,t){if("string"==typeof r){const i=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.day%"),i,[t])}const n=Bi(Vs(r,"day"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar day result must be a positive integer");if(!lu(n)||n<1)throw new RangeError("calendar day result must be a positive integer");return n}function X0(r,t){if("string"==typeof r){const i=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.era%"),i,[t])}let n=Bi(Vs(r,"era"),r,[t]);if(void 0===n)return n;if("string"!=typeof n)throw new TypeError("calendar era result must be a string or undefined");return n}function Z0(r,t){if("string"==typeof r){const i=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.eraYear%"),i,[t])}let n=Bi(Vs(r,"eraYear"),r,[t]);if(void 0===n)return n;if("number"!=typeof n)throw new TypeError("calendar eraYear result must be an integer or undefined");if(!lu(n))throw new RangeError("calendar eraYear result must be an integer or undefined");return n}function Hx(r,t){if("string"==typeof r){const i=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.dayOfWeek%"),i,[t])}const n=Bi(Vs(r,"dayOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!lu(n)||n<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return n}function Wx(r,t){if("string"==typeof r){const i=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.dayOfYear%"),i,[t])}const n=Bi(Vs(r,"dayOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfYear result must be a positive integer");if(!lu(n)||n<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return n}function Gx(r,t){if("string"==typeof r){const i=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.weekOfYear%"),i,[t])}const n=Bi(Vs(r,"weekOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar weekOfYear result must be a positive integer");if(!lu(n)||n<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return n}function Xx(r,t){if("string"==typeof r){const i=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.yearOfWeek%"),i,[t])}const n=Bi(Vs(r,"yearOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar yearOfWeek result must be an integer");if(!lu(n))throw new RangeError("calendar yearOfWeek result must be an integer");return n}function Zx(r,t){if("string"==typeof r){const i=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.daysInWeek%"),i,[t])}const n=Bi(Vs(r,"daysInWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInWeek result must be a positive integer");if(!lu(n)||n<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return n}function y_(r,t){if("string"==typeof r){const i=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.daysInMonth%"),i,[t])}const n=Bi(Vs(r,"daysInMonth"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInMonth result must be a positive integer");if(!lu(n)||n<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return n}function g_(r,t){if("string"==typeof r){const i=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.daysInYear%"),i,[t])}const n=Bi(Vs(r,"daysInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInYear result must be a positive integer");if(!lu(n)||n<1)throw new RangeError("calendar daysInYear result must be a positive integer");return n}function v_(r,t){if("string"==typeof r){const i=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.monthsInYear%"),i,[t])}const n=Bi(Vs(r,"monthsInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar monthsInYear result must be a positive integer");if(!lu(n)||n<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return n}function b_(r,t){if("string"==typeof r){const i=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.inLeapYear%"),i,[t])}const n=Bi(Vs(r,"inLeapYear"),r,[t]);if("boolean"!=typeof n)throw new TypeError("calendar inLeapYear result must be a boolean");return n}function Pd(r){if(Xo(r)){if(Ml(r,gr))return tt(r,gr);if(!(Ya(u=r)||"dateAdd"in u&&"dateFromFields"in u&&"dateUntil"in u&&"day"in u&&"dayOfWeek"in u&&"dayOfYear"in u&&"daysInMonth"in u&&"daysInWeek"in u&&"daysInYear"in u&&"fields"in u&&"id"in u&&"inLeapYear"in u&&"mergeFields"in u&&"month"in u&&"monthCode"in u&&"monthDayFromFields"in u&&"monthsInYear"in u&&"weekOfYear"in u&&"year"in u&&"yearMonthFromFields"in u&&"yearOfWeek"in u))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return r}var u;const t=Il(r);if(em(t))return l0(t);let n;try{({calendar:n}=Yp(t))}catch{try{({calendar:n}=py(t))}catch{({calendar:n}=Fx(t))}}if(n||(n="iso8601"),!em(n))throw new RangeError(`invalid calendar identifier ${n}`);return l0(n)}function Bh(r){if(Ml(r,gr))return tt(r,gr);const{calendar:t}=r;return void 0===t?"iso8601":Pd(t)}function ad(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("calendar.id should be a string");return t}function Pb(r){return Xo(r)?r:new(ri("%Temporal.Calendar%"))(r)}function Vg(r,t){return r===t||ad(r)===ad(t)}function n0(r,t,n){if(r===t)return;const i=ad(r),u=ad(t);if(i!==u)throw new RangeError(`cannot ${n} of ${i} and ${u} calendars`)}function Yx(r,t){if(r===t)return t;const n=ad(r),i=ad(t);if(n===i||"iso8601"===n)return t;if("iso8601"===i)return r;throw new RangeError("irreconcilable calendars")}function Y0(r,t,n,i){if("string"==typeof r){const y=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.dateFromFields%"),y,[t,n])}const u=Bi(i??Vs(r,"dateFromFields"),r,[t,n]);if(!Zo(u))throw new TypeError("invalid result");return u}function J0(r,t,n){if("string"==typeof r){const u=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.yearMonthFromFields%"),u,[t,n])}let i=Bi(Vs(r,"yearMonthFromFields"),r,[t,n]);if(!gs(i))throw new TypeError("invalid result");return i}function w_(r,t,n){if("string"==typeof r){const u=new(ri("%Temporal.Calendar%"))(r);return Bi(ri("%Temporal.Calendar.prototype.monthDayFromFields%"),u,[t,n])}let i=Bi(Vs(r,"monthDayFromFields"),r,[t,n]);if(!el(i))throw new TypeError("invalid result");return i}function du(r){if(Xo(r)){if(Ci(r))return tt(r,oa);if(!(Ru(n=r)||"getOffsetNanosecondsFor"in n&&"getPossibleInstantsFor"in n&&"id"in n))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return r}var n;return function PD(r){const{ianaName:t,offset:n,z:i}=function(y){if(new RegExp(`^${a_.source}$`,"i").test(y))return{ianaName:y};try{const d=Yp(y);if(d.z||d.offset||d.ianaName)return d}catch{}throw new RangeError(`Invalid time zone: ${y}`)}(r);return t?Lh(t):i?"UTC":x_(r0(n))}(Il(r))}function __(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("timeZone.id should be a string");return t}function LD(r){return Xo(r)?r:new(ri("%Temporal.TimeZone%"))(r)}function LC(r,t){return r===t||__(r)===__(t)}function kb(r){return If(tt(r,mi),tt(r,bi),tt(r,Si),tt(r,gr))}function Tl(r){return new(ri("%Temporal.PlainTime%"))(tt(r,Uo),tt(r,zo),tt(r,Ho),tt(r,Go),tt(r,jo),tt(r,Wo))}function Nh(r,t,n){if("string"==typeof r){const u=new(ri("%Temporal.TimeZone%"))(r);return Bi(ri("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),u,[t])}const i=Bi(n??Vs(r,"getOffsetNanosecondsFor"),r,[t]);if("number"!=typeof i)throw new TypeError("bad return from getOffsetNanosecondsFor");if(!lu(i)||Xa(i)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function FC(r,t){return x_(Nh(r,t))}function Tf(r,t,n){const i=tt(t,eo),u=Nh(r,t);let{year:y,month:d,day:m,hour:Z,minute:G,second:k,millisecond:ie,microsecond:Ue,nanosecond:He}=Fh(i);return({year:y,month:d,day:m,hour:Z,minute:G,second:k,millisecond:ie,microsecond:Ue,nanosecond:He}=rS(y,d,m,Z,G,k,ie,Ue,He+u)),Ou(y,d,m,Z,G,k,ie,Ue,He,n)}function kd(r,t,n){return FD(E_(r,t),r,t,n)}function FD(r,t,n,i){const u=ri("%Temporal.Instant%"),y=r.length;if(1===y)return r[0];if(y)switch(i){case"compatible":case"earlier":return r[0];case"later":return r[y-1];case"reject":throw new RangeError("multiple instants found")}const d=tt(n,mi),m=tt(n,bi),Z=tt(n,Si),G=tt(n,Uo),k=tt(n,zo),ie=tt(n,Ho),Ue=tt(n,Go),He=tt(n,jo),Ve=tt(n,Wo),qe=Bd(d,m,Z,G,k,ie,Ue,He,Ve);if(null===qe)throw new RangeError("DateTime outside of supported range");const pt=new u(Wt.subtract(qe,th)),At=new u(Wt.add(qe,th)),bt=Nh(t,pt),_t=Nh(t,At)-bt;switch(i){case"earlier":{const Ft=tt(n,gr),Xt=ri("%Temporal.PlainDateTime%"),Ht=M_(d,m,Z,G,k,ie,Ue,He,Ve,Ft,0,0,0,0,0,0,0,0,0,-_t,void 0);return E_(t,new Xt(Ht.year,Ht.month,Ht.day,Ht.hour,Ht.minute,Ht.second,Ht.millisecond,Ht.microsecond,Ht.nanosecond,Ft))[0]}case"compatible":case"later":{const Ft=tt(n,gr),Xt=ri("%Temporal.PlainDateTime%"),Ht=M_(d,m,Z,G,k,ie,Ue,He,Ve,Ft,0,0,0,0,0,0,0,0,0,_t,void 0),on=E_(t,new Xt(Ht.year,Ht.month,Ht.day,Ht.hour,Ht.minute,Ht.second,Ht.millisecond,Ht.microsecond,Ht.nanosecond,Ft));return on[on.length-1]}case"reject":throw new RangeError("no such instant found")}}function E_(r,t,n){if("string"==typeof r){const y=new(ri("%Temporal.TimeZone%"))(r);return Bi(ri("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),y,[t])}const i=Bi(n??Vs(r,"getPossibleInstantsFor"),r,[t]),u=[];for(const y of i){if(!fl(y))throw new TypeError("bad return from getPossibleInstantsFor");CC.call(u,y)}return u}function gy(r){let t;return t=r<0||r>9999?(r<0?"-":"+")+`000000${Xa(r)}`.slice(-6):`0000${r}`.slice(-4),t}function _a(r){return`00${r}`.slice(-2)}function Jx(r,t,n,i,u){if("minute"===u)return"";const y=`:${_a(r)}`;let d,m=1e6*t+1e3*n+i;if("auto"===u){if(0===m)return y;for(d=`${m}`.padStart(9,"0");"0"===d[d.length-1];)d=d.slice(0,-1)}else{if(0===u)return y;d=`${m}`.padStart(9,"0").slice(0,u)}return`${y}.${d}`}function UD(r,t,n){let i=t;void 0===i&&(i="UTC");const u=Tf(i,r,"iso8601"),y=gy(tt(u,mi)),d=_a(tt(u,bi)),m=_a(tt(u,Si)),Z=_a(tt(u,Uo)),G=_a(tt(u,zo)),k=Jx(tt(u,Ho),tt(u,Go),tt(u,jo),tt(u,Wo),n);let ie="Z";return void 0!==t&&(ie=hp(Nh(i,r))),`${y}-${d}-${m}T${Z}:${G}${k}${ie}`}function qx(r,t="auto",n){function i(Ln){return Ln<=IC?Ln.toString(10):Wt.BigInt(Ln).toString(10)}const u=tt(r,su),y=tt(r,od),d=tt(r,Qu),m=tt(r,Su),Z=tt(r,Au),G=tt(r,Cu);let k=tt(r,Mu),ie=tt(r,au),Ue=tt(r,ll),He=tt(r,Cl);const Ve=o0(u,y,d,m,Z,G,k,ie,Ue,He);if(n){const{unit:Ln,increment:Vn,roundingMode:Zn}=n;({seconds:k,milliseconds:ie,microseconds:Ue,nanoseconds:He}=mp(0,0,0,0,0,0,k,ie,Ue,He,Vn,Ln,Zn))}const qe=[];u&&qe.push(`${i(Xa(u))}Y`),y&&qe.push(`${i(Xa(y))}M`),d&&qe.push(`${i(Xa(d))}W`),m&&qe.push(`${i(Xa(m))}D`);const pt=[];Z&&pt.push(`${i(Xa(Z))}H`),G&&pt.push(`${i(Xa(G))}M`);const At=[];let bt,_t,Ft,Xt,Ht=Bb(0,0,0,k,ie,Ue,He,0);({quotient:Ht,remainder:bt}=kc(Ht,Rs)),({quotient:Ht,remainder:_t}=kc(Ht,Rs)),({quotient:Xt,remainder:Ft}=kc(Ht,Rs));const on=1e6*Xa(Wt.toNumber(Ft))+1e3*Xa(Wt.toNumber(_t))+Xa(Wt.toNumber(bt));let ln;if("auto"===t){if(0!==on)for(ln=`${on}`.padStart(9,"0");"0"===ln[ln.length-1];)ln=ln.slice(0,-1)}else 0!==t&&(ln=`${on}`.padStart(9,"0").slice(0,t));return ln&&At.unshift(".",ln),Wt.equal(Xt,Pc)&&!At.length&&"auto"===t||At.unshift(Ph(Xt).toString()),At.length&&pt.push(`${At.join("")}S`),pt.length&&pt.unshift("T"),qe.length||pt.length?`${Ve<0?"-":""}P${qe.join("")}${pt.join("")}`:"PT0S"}function jD(r,t="auto"){return`${gy(tt(r,mi))}-${_a(tt(r,bi))}-${_a(tt(r,Si))}${Lx(tt(r,gr),t)}`}function UC(r,t,n="auto",i){let u=tt(r,mi),y=tt(r,bi),d=tt(r,Si),m=tt(r,Uo),Z=tt(r,zo),G=tt(r,Ho),k=tt(r,Go),ie=tt(r,jo),Ue=tt(r,Wo);if(i){const{unit:He,increment:Ve,roundingMode:qe}=i;({year:u,month:y,day:d,hour:m,minute:Z,second:G,millisecond:k,microsecond:ie,nanosecond:Ue}=Lb(u,y,d,m,Z,G,k,ie,Ue,Ve,He,qe))}return`${gy(u)}-${_a(y)}-${_a(d)}T${_a(m)}:${_a(Z)}${Jx(G,k,ie,Ue,t)}${Lx(tt(r,gr),n)}`}function xR(r,t="auto"){let n=`${_a(tt(r,bi))}-${_a(tt(r,Si))}`;const i=ad(tt(r,gr));("always"===t||"critical"===t||"iso8601"!==i)&&(n=`${gy(tt(r,mi))}-${n}`);const u=PC(i,t);return u&&(n+=u),n}function Qx(r,t="auto"){let n=`${gy(tt(r,mi))}-${_a(tt(r,bi))}`;const i=ad(tt(r,gr));("always"===t||"critical"===t||"iso8601"!==i)&&(n+=`-${_a(tt(r,Si))}`);const u=PC(i,t);return u&&(n+=u),n}function eS(r,t,n="auto",i="auto",u="auto",y){let d=tt(r,id);if(y){const{unit:k,increment:ie,roundingMode:Ue}=y,He=Gg(tt(r,eo),ie,k,Ue);d=new(ri("%Temporal.Instant%"))(He)}const m=tt(r,oa),Z=Tf(m,d,"iso8601");let G=`${gy(tt(Z,mi))}-${_a(tt(Z,bi))}-${_a(tt(Z,Si))}T${_a(tt(Z,Uo))}:${_a(tt(Z,zo))}${Jx(tt(Z,Ho),tt(Z,Go),tt(Z,jo),tt(Z,Wo),t)}`;return"never"!==u&&(G+=hp(Nh(m,d))),"never"!==i&&(G+=`[${"critical"===i?"!":""}${__(m)}]`),G+=Lx(tt(r,gr),n),G}function vy(r){return Zg.test(kg(r))}function r0(r){const t=Zg.exec(kg(r));if(!t)throw new RangeError(`invalid time zone offset: ${r}`);return("-"===t[1]||"\u2212"===t[1]?-1:1)*(1e9*(60*(60*+t[2]+ +(t[3]||0))+ +(t[4]||0))+ +((t[5]||0)+"000000000").slice(0,9))}function Lh(r){return vy(r)?x_(r0(r)):OC(kg(r)).resolvedOptions().timeZone}function q0(r,t){const{year:n,month:i,day:u,hour:y,minute:d,second:m,millisecond:Z,microsecond:G,nanosecond:k}=jC(r,t),ie=n%400,Ue=(n-ie)/400,He=Wt.multiply(Wt.BigInt(146097),th),Ve=Bd(ie,i,u,y,d,m,Z,G,k),qe=Wt.add(Ve,Wt.multiply(He,Wt.BigInt(Ue)));return Wt.toNumber(Wt.subtract(qe,t))}function x_(r){const t=r<0?"-":"+",n=Xa(r),i=n%1e9,u=Iu(n/1e9)%60,y=Iu(n/6e10)%60,d=_a(Iu(n/36e11)),m=_a(y),Z=_a(u);let G="";if(i){let k=`${i}`.padStart(9,"0");for(;"0"===k[k.length-1];)k=k.slice(0,-1);G=`:${Z}.${k}`}else u&&(G=`:${Z}`);return`${t}${d}:${m}${G}`}function hp(r){let t=Wt.toNumber(Df(Wt.BigInt(r),uy,"halfExpand"));const n=t<0?"-":"+";t=Xa(t);const i=t/6e10%60;return`${n}${_a(Iu(t/36e11))}:${_a(i)}`}function Bd(r,t,n,i,u,y,d,m,Z){const G=new Date;G.setUTCHours(i,u,y,d),G.setUTCFullYear(r,t-1,n);const k=G.getTime();if(c_(k))return null;let ie=Wt.multiply(Wt.BigInt(k),Mf);return ie=Wt.add(ie,Wt.multiply(Wt.BigInt(m),Rs)),ie=Wt.add(ie,Wt.BigInt(Z)),Wt.lessThan(ie,Tu)||Wt.greaterThan(ie,dp)?null:ie}function Fh(r){const{quotient:t,remainder:n}=kc(r,Mf);let i=Wt.toNumber(t),u=Wt.toNumber(n);u<0&&(u+=1e6,i-=1);const y=Iu(u/1e3)%1e3,d=u%1e3,m=new Date(i);return{epochMilliseconds:i,year:m.getUTCFullYear(),month:m.getUTCMonth()+1,day:m.getUTCDate(),hour:m.getUTCHours(),minute:m.getUTCMinutes(),second:m.getUTCSeconds(),millisecond:m.getUTCMilliseconds(),microsecond:y,nanosecond:d}}function jC(r,t){const{epochMilliseconds:n,millisecond:i,microsecond:u,nanosecond:y}=Fh(t),{year:d,month:m,day:Z,hour:G,minute:k,second:ie}=(Ve=n,function(At){const bt=At.split(/[^\w]+/);if(7!==bt.length)throw new RangeError(`expected 7 parts in "${At}`);const _t=+bt[0],Ft=+bt[1];let Xt=+bt[2];const Ht=bt[3].toUpperCase();if("B"===Ht||"BC"===Ht)Xt=1-Xt;else if("A"!==Ht&&"AD"!==Ht)throw new RangeError(`Unknown era ${Ht} in "${At}`);let on=+bt[4];24===on&&(on=0);const ln=+bt[5],Ln=+bt[6];if(!(cu(Xt)&&cu(_t)&&cu(Ft)&&cu(on)&&cu(ln)&&cu(Ln)))throw new RangeError(`Invalid number in "${At}`);return{year:Xt,month:_t,day:Ft,hour:on,minute:ln,second:Ln}}(OC(r).format(new Date(Ve))));var Ve;return rS(d,m,Z,G,k,ie,i,u,y)}function $C(r,t){return Wt.lessThan(r,t)?t:r}function $D(){return Wt.add(O_(),TD)}function KD(r,t){if(Wt.lessThan(t,hy))return KD(r,hy);const n=Wt.add(t,TC),i=$C($D(),n);let u=$C(hy,t);const y=q0(r,u);let d=u,m=y;for(;y===m&&Wt.lessThan(Wt.BigInt(u),i);){if(d=Wt.add(u,DD),Wt.greaterThan(d,dp))return null;m=q0(r,d),y===m&&(u=d)}return y===m?null:t6(Z=>q0(r,Z),u,d,y,m)}function KC(r,t){const n=$D(),i=Wt.greaterThan(t,n),u=i?Wt.subtract(t,TC):hy;if("Africa/Casablanca"===r||"Africa/El_Aaiun"===r){const G=tt(up("2088-01-01T00Z"),eo);if(Wt.lessThan(G,t))return KC(r,G)}let y=Wt.subtract(t,z0);if(Wt.lessThan(y,hy))return null;const d=q0(r,y);let m=y,Z=d;for(;d===Z&&Wt.greaterThan(y,u);){if(m=Wt.subtract(y,DD),Wt.lessThan(m,hy))return null;Z=q0(r,m),d===Z&&(y=m)}if(d===Z){if(i){const G=Wt.subtract(n,th);return KC(r,G)}return null}return t6(G=>q0(r,G),m,y,Z,d)}function by(r){return void 0!==r&&r%4==0&&(r%100!=0||r%400==0)}function pp(r,t){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[by(r)?"leapyear":"standard"][t-1]}function zg(r,t,n){const i=t+(t<3?10:-2),u=r-(t<3?1:0),y=Iu(u/100),d=u-100*y,m=(n+Iu(2.6*i-.2)+(d+Iu(d/4))+(Iu(y/4)-2*y))%7;return m+(m<=0?7:0)}function tS(r,t,n){let i=n;for(let u=t-1;u>0;u--)i+=pp(r,u);return i}function VC(r,t,n){const i=tS(r,t,n),u=zg(r,t,n)||7,y=zg(r,1,1),d=Iu((i-u+10)/7);return d<1?5===y||6===y&&by(r-1)?{week:53,year:r-1}:{week:52,year:r-1}:53===d&&(by(r)?366:365)-i<4-u?{week:1,year:r+1}:{week:d,year:r}}function o0(r,t,n,i,u,y,d,m,Z,G){for(const k of[r,t,n,i,u,y,d,m,Z,G])if(0!==k)return k<0?-1:1;return 0}function nS(r,t){let n=r,i=t;if(!cu(n)||!cu(i))throw new RangeError("infinity is out of range");return i-=1,n+=Iu(i/12),i%=12,i<0&&(i+=12),i+=1,{year:n,month:i}}function S_(r,t,n){let i=r,u=t,y=n;if(!cu(y))throw new RangeError("infinity is out of range");({year:i,month:u}=nS(i,u));const d=146097;if(Xa(y)>d){const G=eh(y/d);i+=400*G,y-=G*d}let m=0,Z=u>2?i:i-1;for(;m=by(Z)?366:365,y<-m;)i-=1,Z-=1,y+=m;for(Z+=1;m=by(Z)?366:365,y>m;)i+=1,Z+=1,y-=m;for(;y<1;)({year:i,month:u}=nS(i,u-1)),y+=pp(i,u);for(;y>pp(i,u);)y-=pp(i,u),({year:i,month:u}=nS(i,u+1));return{year:i,month:u,day:y}}function rS(r,t,n,i,u,y,d,m,Z){const{deltaDays:G,hour:k,minute:ie,second:Ue,millisecond:He,microsecond:Ve,nanosecond:qe}=Uh(i,u,y,d,m,Z),{year:pt,month:At,day:bt}=S_(r,t,n+G);return{year:pt,month:At,day:bt,hour:k,minute:ie,second:Ue,millisecond:He,microsecond:Ve,nanosecond:qe}}function Uh(r,t,n,i,u,y){let d,m=Wt.BigInt(r),Z=Wt.BigInt(t),G=Wt.BigInt(n),k=Wt.BigInt(i),ie=Wt.BigInt(u),Ue=Wt.BigInt(y);return({quotient:d,remainder:Ue}=oh(Ue,Rs)),ie=Wt.add(ie,d),({quotient:d,remainder:ie}=oh(ie,Rs)),k=Wt.add(k,d),({quotient:d,remainder:k}=oh(k,Rs)),G=Wt.add(G,d),({quotient:d,remainder:G}=oh(G,Xp)),Z=Wt.add(Z,d),({quotient:d,remainder:Z}=oh(Z,Xp)),m=Wt.add(m,d),({quotient:d,remainder:m}=oh(m,ID)),{deltaDays:Wt.toNumber(d),hour:Wt.toNumber(m),minute:Wt.toNumber(Z),second:Wt.toNumber(G),millisecond:Wt.toNumber(k),microsecond:Wt.toNumber(ie),nanosecond:Wt.toNumber(Ue)}}function Bb(r,t,n,i,u,y,d,m){const Z=Wt.BigInt(r);let G=Wt.BigInt(d);0!==r&&(G=Wt.subtract(Wt.BigInt(d),Wt.BigInt(m)));const k=Wt.add(Wt.BigInt(t),Wt.multiply(Z,Wt.BigInt(24))),ie=Wt.add(Wt.BigInt(n),Wt.multiply(k,Xp)),Ue=Wt.add(Wt.BigInt(i),Wt.multiply(ie,Xp)),He=Wt.add(Wt.BigInt(u),Wt.multiply(Ue,Rs)),Ve=Wt.add(Wt.BigInt(y),Wt.multiply(He,Rs));return Wt.add(Wt.BigInt(G),Wt.multiply(Ve,Rs))}function iS(r,t){const n=ri("%Temporal.Instant%"),i=Pg(Wt.toNumber(r));let u=Wt.BigInt(r),y=864e11;if(0===i)return{days:0,nanoseconds:Pc,dayLengthNs:y};if(!Ci(t)){let _t;return({quotient:_t,remainder:u}=kc(u,Wt.BigInt(y))),{days:Wt.toNumber(_t),nanoseconds:u,dayLengthNs:y}}const d=tt(t,eo),m=tt(t,id),Z=Wt.add(d,u),G=new n(Z),k=tt(t,oa),ie=tt(t,gr),Ue=Tf(k,m,ie),He=Tf(k,G,ie);let{days:Ve}=lS(tt(Ue,mi),tt(Ue,bi),tt(Ue,Si),tt(Ue,Uo),tt(Ue,zo),tt(Ue,Ho),tt(Ue,Go),tt(Ue,jo),tt(Ue,Wo),tt(He,mi),tt(He,bi),tt(He,Si),tt(He,Uo),tt(He,zo),tt(He,Ho),tt(He,Go),tt(He,jo),tt(He,Wo),ie,"day",Od(null)),qe=ih(m,k,ie,0,0,0,Ve,0,0,0,0,0,0),pt=Wt.BigInt(Ve);if(1===i)for(;Wt.greaterThan(pt,Pc)&&Wt.greaterThan(qe,Z);)pt=Wt.subtract(pt,z0),qe=ih(m,k,ie,0,0,0,Wt.toNumber(pt),0,0,0,0,0,0);u=Wt.subtract(Z,qe);let At=!1,bt=new n(qe);do{const _t=ih(bt,k,ie,0,0,0,i,0,0,0,0,0,0),Ft=tt(bt,eo);y=Wt.toNumber(Wt.subtract(_t,Ft)),At=Wt.greaterThanOrEqual(Wt.multiply(Wt.subtract(u,Wt.BigInt(y)),Wt.BigInt(i)),Pc),At&&(u=Wt.subtract(u,Wt.BigInt(y)),bt=new n(_t),pt=Wt.add(pt,Wt.BigInt(i)))}while(At);if(!wa(pt)&&Bx(pt)!==i)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!wa(u)&&Bx(u)!==i)throw Bg(u)&&1===i?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(Wt.greaterThanOrEqual(Ph(u),Ph(Wt.BigInt(y))))throw new Error("assert not reached");return{days:Wt.toNumber(pt),nanoseconds:u,dayLengthNs:Xa(y)}}function rh(r,t,n,i,u,y,d,m,Z){let G=VD(r,t,n,i,u,y,d,m,Z);if("positive overflow"===G||"negative overflow"===G)throw new RangeError("Duration out of range");return G}function VD(r,t,n,i,u,y,d,m,Z){let G,k,ie,Ue,He,Ve,qe=r;if(Ci(Z)){const on=ih(tt(Z,id),tt(Z,oa),tt(Z,gr),0,0,0,qe,t,n,i,u,y,d),ln=tt(Z,eo);G=Wt.subtract(on,ln)}else G=Bb(qe,t,n,i,u,y,d,0);"year"===m||"month"===m||"week"===m||"day"===m?({days:qe,nanoseconds:G}=iS(G,Z)):qe=0;const pt=Wt.lessThan(G,Pc)?-1:1;switch(G=Ph(G),k=ie=Ue=He=Ve=Pc,m){case"year":case"month":case"week":case"day":case"hour":({quotient:k,remainder:G}=kc(G,Rs)),({quotient:ie,remainder:k}=kc(k,Rs)),({quotient:Ue,remainder:ie}=kc(ie,Rs)),({quotient:He,remainder:Ue}=kc(Ue,Xp)),({quotient:Ve,remainder:He}=kc(He,Xp));break;case"minute":({quotient:k,remainder:G}=kc(G,Rs)),({quotient:ie,remainder:k}=kc(k,Rs)),({quotient:Ue,remainder:ie}=kc(ie,Rs)),({quotient:He,remainder:Ue}=kc(Ue,Xp));break;case"second":({quotient:k,remainder:G}=kc(G,Rs)),({quotient:ie,remainder:k}=kc(k,Rs)),({quotient:Ue,remainder:ie}=kc(ie,Rs));break;case"millisecond":({quotient:k,remainder:G}=kc(G,Rs)),({quotient:ie,remainder:k}=kc(k,Rs));break;case"microsecond":({quotient:k,remainder:G}=kc(G,Rs));break;case"nanosecond":break;default:throw new Error("assert not reached")}const At=Wt.toNumber(Ve)*pt,bt=Wt.toNumber(He)*pt,_t=Wt.toNumber(Ue)*pt,Ft=Wt.toNumber(ie)*pt,Xt=Wt.toNumber(k)*pt,Ht=Wt.toNumber(G)*pt;for(const on of[qe,At,bt,_t,Ft,Xt,Ht])if(!cu(on))return 1===pt?"positive overflow":"negative overflow";return{days:qe,hours:At,minutes:bt,seconds:_t,milliseconds:Ft,microseconds:Xt,nanoseconds:Ht}}function oS(r,t,n,i,u,y){const d=ri("%Temporal.Duration%"),m=o0(r,t,n,i,0,0,0,0,0,0);if(0===m)return{years:r,months:t,weeks:n,days:i};const Z=Wt.BigInt(m);let G,k,ie=Wt.BigInt(r),Ue=Wt.BigInt(t),He=Wt.BigInt(n),Ve=Wt.BigInt(i);y&&(k=ha(y),G=tt(k,gr));const qe=new d(m),pt=new d(0,m),At=new d(0,0,m);switch(u){case"year":break;case"month":{if(!G)throw new RangeError("a starting point is required for months balancing");let bt,_t;for("string"!=typeof G&&(bt=Vs(G,"dateAdd"),_t=Vs(G,"dateUntil"));!wa(ie);){const Ft=zc(G,k,qe,void 0,bt),Xt=Od(null);Xt.largestUnit="month";const Ht=nh(G,k,Ft,Xt,_t),on=Wt.BigInt(tt(Ht,od));k=Ft,Ue=Wt.add(Ue,on),ie=Wt.subtract(ie,Z)}}break;case"week":{if(!G)throw new RangeError("a starting point is required for weeks balancing");const bt="string"!=typeof G?Vs(G,"dateAdd"):void 0;for(;!wa(ie);){let _t;({relativeTo:k,days:_t}=Nd(G,k,qe,bt)),Ve=Wt.add(Ve,Wt.BigInt(_t)),ie=Wt.subtract(ie,Z)}for(;!wa(Ue);){let _t;({relativeTo:k,days:_t}=Nd(G,k,pt,bt)),Ve=Wt.add(Ve,Wt.BigInt(_t)),Ue=Wt.subtract(Ue,Z)}break}default:{if(wa(ie)&&wa(Ue)&&wa(He))break;if(!G)throw new RangeError("a starting point is required for balancing calendar units");const bt="string"!=typeof G?Vs(G,"dateAdd"):void 0;for(;!wa(ie);){let _t;({relativeTo:k,days:_t}=Nd(G,k,qe,bt)),Ve=Wt.add(Ve,Wt.BigInt(_t)),ie=Wt.subtract(ie,Z)}for(;!wa(Ue);){let _t;({relativeTo:k,days:_t}=Nd(G,k,pt,bt)),Ve=Wt.add(Ve,Wt.BigInt(_t)),Ue=Wt.subtract(Ue,Z)}for(;!wa(He);){let _t;({relativeTo:k,days:_t}=Nd(G,k,At,bt)),Ve=Wt.add(Ve,Wt.BigInt(_t)),He=Wt.subtract(He,Z)}break}}return{years:Wt.toNumber(ie),months:Wt.toNumber(Ue),weeks:Wt.toNumber(He),days:Wt.toNumber(Ve)}}function zD(r,t,n,i,u){if(Ci(r)){const y=tt(r,id),d=tt(r,oa),m=tt(r,gr),Z=Nh(d,y),G=ih(y,d,m,t,n,i,u,0,0,0,0,0,0);return Nh(d,new(ri("%Temporal.Instant%"))(G))-Z}return 0}function HD(r){return new(ri("%Temporal.Duration%"))(-tt(r,su),-tt(r,od),-tt(r,Qu),-tt(r,Su),-tt(r,Au),-tt(r,Cu),-tt(r,Mu),-tt(r,au),-tt(r,ll),-tt(r,Cl))}function tf(r,t,n){return CD(n,vR(t,r))}function WD(r,t,n){const i=tf(t,1,12);return{year:r,month:i,day:tf(n,1,pp(r,i))}}function cd(r,t,n){if(r<t||r>n)throw new RangeError(`value out of range: ${t} <= ${r} <= ${n}`)}function s0(r,t,n){cd(t,1,12),cd(n,1,pp(r,t))}function GD(r,t,n){SR(r,t,n,12,0,0,0,0,0)}function sS(r,t,n,i,u,y){cd(r,0,23),cd(t,0,59),cd(n,0,59),cd(i,0,999),cd(u,0,999),cd(y,0,999)}function A_(r,t,n,i,u,y,d,m,Z){s0(r,t,n),sS(i,u,y,d,m,Z)}function SR(r,t,n,i,u,y,d,m,Z){if(cd(r,kx,fy),r===kx&&null==Bd(r,t,n+1,i,u,y,d,m,Z-1)||r===fy&&null==Bd(r,t,n-1,i,u,y,d,m,Z+1))throw new RangeError("DateTime outside of supported range")}function Hg(r){if(Wt.lessThan(r,Tu)||Wt.greaterThan(r,dp))throw new RangeError("Instant outside of supported range")}function Nb(r,t,n,i,u,y,d,m,Z,G){const k=o0(r,t,n,i,u,y,d,m,Z,G);for(const ie of[r,t,n,i,u,y,d,m,Z,G]){if(!cu(ie))throw new RangeError("infinite values not allowed as duration fields");const Ue=Pg(ie);if(0!==Ue&&Ue!==k)throw new RangeError("mixed-sign values not allowed as duration fields")}}function aS(r,t,n,i,u,y,d){switch(d){case"year":case"month":{const m=-a0(r,t,n,i,u,y);if(0===m)return{years:0,months:0,weeks:0,days:0};const Z={year:r,month:t,day:n},G={year:i,month:u,day:y};let k=G.year-Z.year,ie=wy(r,t,n,k,0,0,0,"constrain"),Ue=-a0(ie.year,ie.month,ie.day,i,u,y);if(0===Ue)return"year"===d?{years:k,months:0,weeks:0,days:0}:{years:0,months:12*k,weeks:0,days:0};let He=G.month-Z.month;if(Ue!==m&&(k-=m,He+=12*m),ie=wy(r,t,n,k,He,0,0,"constrain"),Ue=-a0(ie.year,ie.month,ie.day,i,u,y),0===Ue)return"year"===d?{years:k,months:He,weeks:0,days:0}:{years:0,months:He+12*k,weeks:0,days:0};Ue!==m&&(He-=m,He===-m&&(k-=m,He=11*m),ie=wy(r,t,n,k,He,0,0,"constrain"));let Ve=0;return Ve=ie.month===G.month?G.day-ie.day:m<0?-ie.day-(pp(G.year,G.month)-G.day):G.day+(pp(ie.year,ie.month)-ie.day),"month"===d&&(He+=12*k,k=0),{years:k,months:He,weeks:0,days:Ve}}case"week":case"day":{let m,Z,G;a0(r,t,n,i,u,y)<0?(Z={year:r,month:t,day:n},m={year:i,month:u,day:y},G=1):(Z={year:i,month:u,day:y},m={year:r,month:t,day:n},G=-1);let k=tS(m.year,m.month,m.day)-tS(Z.year,Z.month,Z.day);for(let Ue=Z.year;Ue<m.year;++Ue)k+=by(Ue)?366:365;let ie=0;return"week"===d&&(ie=Iu(k/7),k%=7),ie*=G,k*=G,{years:0,months:0,weeks:ie,days:k}}default:throw new Error("assert not reached")}}function zC(r,t,n,i,u,y,d,m,Z,G,k,ie){let Ue=d-r,He=m-t,Ve=Z-n,qe=G-i,pt=k-u,At=ie-y;const bt=o0(0,0,0,0,Ue,He,Ve,qe,pt,At);Ue*=bt,He*=bt,Ve*=bt,qe*=bt,pt*=bt,At*=bt;let _t=0;if(({deltaDays:_t,hour:Ue,minute:He,second:Ve,millisecond:qe,microsecond:pt,nanosecond:At}=Uh(Ue,He,Ve,qe,pt,At)),0!=_t)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return Ue*=bt,He*=bt,Ve*=bt,qe*=bt,pt*=bt,At*=bt,{hours:Ue,minutes:He,seconds:Ve,milliseconds:qe,microseconds:pt,nanoseconds:At}}function cS(r,t,n,i,u,y){const d=Wt.subtract(t,r);let m=0,Z=0,G=Wt.toNumber(Wt.remainder(d,Rs)),k=Wt.toNumber(Wt.remainder(Wt.divide(d,Rs),Rs)),ie=Wt.toNumber(Wt.remainder(Wt.divide(d,Mf),Rs)),Ue=Wt.toNumber(Wt.divide(d,sd));return({hours:m,minutes:Z,seconds:Ue,milliseconds:ie,microseconds:k,nanoseconds:G}=mp(0,0,0,0,0,0,Ue,ie,k,G,n,i,y)),rh(0,m,Z,Ue,ie,k,G,u)}function lS(r,t,n,i,u,y,d,m,Z,G,k,ie,Ue,He,Ve,qe,pt,At,bt,_t,Ft){let Xt=r,Ht=t,on=n,{hours:ln,minutes:Ln,seconds:Vn,milliseconds:Zn,microseconds:_r,nanoseconds:Xn}=zC(i,u,y,d,m,Z,Ue,He,Ve,qe,pt,At);const ar=o0(0,0,0,0,ln,Ln,Vn,Zn,_r,Xn);a0(G,k,ie,Xt,Ht,on)===-ar&&(({year:Xt,month:Ht,day:on}=S_(Xt,Ht,on-ar)),({hours:ln,minutes:Ln,seconds:Vn,milliseconds:Zn,microseconds:_r,nanoseconds:Xn}=rh(-ar,ln,Ln,Vn,Zn,_r,Xn,_t)));const wn=If(Xt,Ht,on,bt),Dn=If(G,k,ie,bt),Rn=jg("day",_t),Jn=sh(Ft);Jn.largestUnit=Rn;let{years:Un,months:or,weeks:Mr,days:Sr}=nh(bt,wn,Dn,Jn);return({days:Sr,hours:ln,minutes:Ln,seconds:Vn,milliseconds:Zn,microseconds:_r,nanoseconds:Xn}=rh(Sr,ln,Ln,Vn,Zn,_r,Xn,_t)),{years:Un,months:or,weeks:Mr,days:Sr,hours:ln,minutes:Ln,seconds:Vn,milliseconds:Zn,microseconds:_r,nanoseconds:Xn}}function XD(r,t,n,i,u,y){const d=Wt.subtract(t,r);if(Wt.equal(d,Pc))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const m=ri("%Temporal.Instant%"),Z=new m(r),G=new m(t),k=Tf(n,Z,i),ie=Tf(n,G,i);let{years:Ue,months:He,weeks:Ve,days:qe}=lS(tt(k,mi),tt(k,bi),tt(k,Si),tt(k,Uo),tt(k,zo),tt(k,Ho),tt(k,Go),tt(k,jo),tt(k,Wo),tt(ie,mi),tt(ie,bi),tt(ie,Si),tt(ie,Uo),tt(ie,zo),tt(ie,Ho),tt(ie,Go),tt(ie,jo),tt(ie,Wo),i,u,y);const pt=ih(Z,n,i,Ue,He,Ve,0,0,0,0,0,0,0);let At=Wt.subtract(t,pt);const bt=Vc(pt,n,i);({nanoseconds:At,days:qe}=iS(At,bt));const{hours:_t,minutes:Ft,seconds:Xt,milliseconds:Ht,microseconds:on,nanoseconds:ln}=rh(0,0,0,0,0,0,Wt.toNumber(At),"hour");return{years:Ue,months:He,weeks:Ve,days:qe,hours:_t,minutes:Ft,seconds:Xt,milliseconds:Ht,microseconds:on,nanoseconds:ln}}function Wg(r,t,n,i,u,y){const d=u_.reduce((He,Ve)=>{const qe=Ve[0],pt=Ve[1];return"datetime"!==n&&Ve[2]!==n||i.includes(pt)||He.push(pt,qe),He},[]);let m=ef(t,"largestUnit",n,"auto");if(i.includes(m))throw new RangeError(`largestUnit must be one of ${d.join(", ")}, not ${m}`);const Z=yy(t);let G=Jp(t,"trunc");"since"===r&&(G=function(Ve){switch(Ve){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return Ve}}(G));const k=ef(t,"smallestUnit",n,u);if(i.includes(k))throw new RangeError(`smallestUnit must be one of ${d.join(", ")}, not ${k}`);const ie=jg(y,k);if("auto"===m&&(m=ie),jg(m,k)!==m)throw new RangeError(`largestUnit ${m} cannot be smaller than smallestUnit ${k}`);const Ue={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[k];return void 0!==Ue&&Db(Z,Ue,!1),{largestUnit:m,roundingIncrement:Z,roundingMode:G,smallestUnit:k}}function HC(r,t,n,i){const u="since"===r?-1:1,y=up(n),d=Wg(r,sh(i),"time",[],"nanosecond","second"),m=tt(t,eo),Z=tt(y,eo);let{hours:G,minutes:k,seconds:ie,milliseconds:Ue,microseconds:He,nanoseconds:Ve}=cS(m,Z,d.roundingIncrement,d.smallestUnit,d.largestUnit,d.roundingMode);return new(ri("%Temporal.Duration%"))(0,0,0,0,u*G,u*k,u*ie,u*Ue,u*He,u*Ve)}function ZD(r,t,n,i){const u="since"===r?-1:1,y=ha(n),d=tt(t,gr);n0(d,tt(y,gr),"compute difference between dates");const m=sh(i),Z=Wg(r,m,"date",[],"day","day");m.largestUnit=Z.largestUnit;let{years:G,months:k,weeks:ie,days:Ue}=nh(d,t,y,m);return"day"===Z.smallestUnit&&1===Z.roundingIncrement||({years:G,months:k,weeks:ie,days:Ue}=mp(G,k,ie,Ue,0,0,0,0,0,0,Z.roundingIncrement,Z.smallestUnit,Z.roundingMode,t)),new(ri("%Temporal.Duration%"))(u*G,u*k,u*ie,u*Ue,0,0,0,0,0,0)}function WC(r,t,n,i){const u="since"===r?-1:1,y=$g(n),d=tt(t,gr);n0(d,tt(y,gr),"compute difference between dates");const m=sh(i),Z=Wg(r,m,"datetime",[],"nanosecond","day");let{years:G,months:k,weeks:ie,days:Ue,hours:He,minutes:Ve,seconds:qe,milliseconds:pt,microseconds:At,nanoseconds:bt}=lS(tt(t,mi),tt(t,bi),tt(t,Si),tt(t,Uo),tt(t,zo),tt(t,Ho),tt(t,Go),tt(t,jo),tt(t,Wo),tt(y,mi),tt(y,bi),tt(y,Si),tt(y,Uo),tt(y,zo),tt(y,Ho),tt(y,Go),tt(y,jo),tt(y,Wo),d,Z.largestUnit,m);const _t=kb(t);return({years:G,months:k,weeks:ie,days:Ue,hours:He,minutes:Ve,seconds:qe,milliseconds:pt,microseconds:At,nanoseconds:bt}=mp(G,k,ie,Ue,He,Ve,qe,pt,At,bt,Z.roundingIncrement,Z.smallestUnit,Z.roundingMode,_t)),({days:Ue,hours:He,minutes:Ve,seconds:qe,milliseconds:pt,microseconds:At,nanoseconds:bt}=rh(Ue,He,Ve,qe,pt,At,bt,Z.largestUnit)),new(ri("%Temporal.Duration%"))(u*G,u*k,u*ie,u*Ue,u*He,u*Ve,u*qe,u*pt,u*At,u*bt)}function AR(r,t,n,i){const u="since"===r?-1:1,y=qp(n),d=Wg(r,sh(i),"time",[],"nanosecond","hour");let{hours:m,minutes:Z,seconds:G,milliseconds:k,microseconds:ie,nanoseconds:Ue}=zC(tt(t,Uo),tt(t,zo),tt(t,Ho),tt(t,Go),tt(t,jo),tt(t,Wo),tt(y,Uo),tt(y,zo),tt(y,Ho),tt(y,Go),tt(y,jo),tt(y,Wo));return({hours:m,minutes:Z,seconds:G,milliseconds:k,microseconds:ie,nanoseconds:Ue}=mp(0,0,0,0,m,Z,G,k,ie,Ue,d.roundingIncrement,d.smallestUnit,d.roundingMode)),({hours:m,minutes:Z,seconds:G,milliseconds:k,microseconds:ie,nanoseconds:Ue}=rh(0,m,Z,G,k,ie,Ue,d.largestUnit)),new(ri("%Temporal.Duration%"))(0,0,0,0,u*m,u*Z,u*G,u*k,u*ie,u*Ue)}function CR(r,t,n,i){const u="since"===r?-1:1,y=Ob(n),d=tt(t,gr);n0(d,tt(y,gr),"compute difference between months");const m=sh(i),Z=Wg(r,m,"date",["week","day"],"month","year");m.largestUnit=Z.largestUnit;const G=Nc(d,["monthCode","year"]),k=es(t,G,[]);k.day=1;const ie=Y0(d,k),Ue=es(y,G,[]);Ue.day=1;const He=Y0(d,Ue);let{years:Ve,months:qe}=nh(d,ie,He,m);return"month"===Z.smallestUnit&&1===Z.roundingIncrement||({years:Ve,months:qe}=mp(Ve,qe,0,0,0,0,0,0,0,0,Z.roundingIncrement,Z.smallestUnit,Z.roundingMode,ie)),new(ri("%Temporal.Duration%"))(u*Ve,u*qe,0,0,0,0,0,0,0,0)}function YD(r,t,n,i){const u="since"===r?-1:1,y=Kg(n),d=tt(t,gr);n0(d,tt(y,gr),"compute difference between dates");const m=sh(i),Z=Wg(r,m,"datetime",[],"nanosecond","hour");m.largestUnit=Z.largestUnit;const G=tt(t,eo),k=tt(y,eo);let ie,Ue,He,Ve,qe,pt,At,bt,_t,Ft;if("year"!==Z.largestUnit&&"month"!==Z.largestUnit&&"week"!==Z.largestUnit&&"day"!==Z.largestUnit)ie=0,Ue=0,He=0,Ve=0,({hours:qe,minutes:pt,seconds:At,milliseconds:bt,microseconds:_t,nanoseconds:Ft}=cS(G,k,Z.roundingIncrement,Z.smallestUnit,Z.largestUnit,Z.roundingMode));else{const Xt=tt(t,oa);if(!LC(Xt,tt(y,oa)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:ie,months:Ue,weeks:He,days:Ve,hours:qe,minutes:pt,seconds:At,milliseconds:bt,microseconds:_t,nanoseconds:Ft}=XD(G,k,Xt,d,Z.largestUnit,m)),({years:ie,months:Ue,weeks:He,days:Ve,hours:qe,minutes:pt,seconds:At,milliseconds:bt,microseconds:_t,nanoseconds:Ft}=mp(ie,Ue,He,Ve,qe,pt,At,bt,_t,Ft,Z.roundingIncrement,Z.smallestUnit,Z.roundingMode,t)),({years:ie,months:Ue,weeks:He,days:Ve,hours:qe,minutes:pt,seconds:At,milliseconds:bt,microseconds:_t,nanoseconds:Ft}=ZC(ie,Ue,He,Ve,qe,pt,At,bt,_t,Ft,Z.roundingIncrement,Z.smallestUnit,Z.roundingMode,t))}return new(ri("%Temporal.Duration%"))(u*ie,u*Ue,u*He,u*Ve,u*qe,u*pt,u*At,u*bt,u*_t,u*Ft)}function wy(r,t,n,i,u,y,d,m){let Z=r,G=t,k=n,ie=y,Ue=d;return Z+=i,G+=u,({year:Z,month:G}=nS(Z,G)),({year:Z,month:G,day:k}=Ux(Z,G,k,m)),Ue+=7*ie,k+=Ue,({year:Z,month:G,day:k}=S_(Z,G,k)),{year:Z,month:G,day:k}}function C_(r,t,n,i,u,y,d,m,Z,G,k,ie){let Ue=r,He=t,Ve=n,qe=i,pt=u,At=y;Ue+=d,He+=m,Ve+=Z,qe+=G,pt+=k,At+=ie;let bt=0;return({deltaDays:bt,hour:Ue,minute:He,second:Ve,millisecond:qe,microsecond:pt,nanosecond:At}=Uh(Ue,He,Ve,qe,pt,At)),{deltaDays:bt,hour:Ue,minute:He,second:Ve,millisecond:qe,microsecond:pt,nanosecond:At}}function JD(r,t,n,i,u,y,d,m,Z,G,k,ie,Ue,He,Ve,qe,pt,At,bt,_t,Ft){const Xt=jg(kC(r,t,n,i,u,y,d,m,Z,G),kC(k,ie,Ue,He,Ve,qe,pt,At,bt,_t));let Ht,on,ln,Ln,Vn,Zn,_r,Xn,ar,wn;if(Ft)if(Zo(Ft)){const Dn=ri("%Temporal.Duration%"),Rn=tt(Ft,gr),Jn=new Dn(r,t,n,i,0,0,0,0,0,0),Un=new Dn(k,ie,Ue,He,0,0,0,0,0,0),or="string"!=typeof Rn?Vs(Rn,"dateAdd"):void 0,Mr=zc(Rn,Ft,Jn,void 0,or),Sr=zc(Rn,Mr,Un,void 0,or),Tn=jg("day",Xt),Ir=Od(null);Ir.largestUnit=Tn,({years:Ht,months:on,weeks:ln,days:Ln}=nh(Rn,Ft,Sr,Ir)),({days:Ln,hours:Vn,minutes:Zn,seconds:_r,milliseconds:Xn,microseconds:ar,nanoseconds:wn}=rh(Ln,Wt.add(Wt.BigInt(u),Wt.BigInt(Ve)),Wt.add(Wt.BigInt(y),Wt.BigInt(qe)),Wt.add(Wt.BigInt(d),Wt.BigInt(pt)),Wt.add(Wt.BigInt(m),Wt.BigInt(At)),Wt.add(Wt.BigInt(Z),Wt.BigInt(bt)),Wt.add(Wt.BigInt(G),Wt.BigInt(_t)),Xt))}else{const Dn=ri("%Temporal.Instant%"),Rn=tt(Ft,oa),Jn=tt(Ft,gr),Un=ih(tt(Ft,id),Rn,Jn,r,t,n,i,u,y,d,m,Z,G),or=ih(new Dn(Un),Rn,Jn,k,ie,Ue,He,Ve,qe,pt,At,bt,_t);"year"!==Xt&&"month"!==Xt&&"week"!==Xt&&"day"!==Xt?(Ht=0,on=0,ln=0,Ln=0,({hours:Vn,minutes:Zn,seconds:_r,milliseconds:Xn,microseconds:ar,nanoseconds:wn}=cS(tt(Ft,eo),or,1,"nanosecond",Xt,"halfExpand"))):({years:Ht,months:on,weeks:ln,days:Ln,hours:Vn,minutes:Zn,seconds:_r,milliseconds:Xn,microseconds:ar,nanoseconds:wn}=XD(tt(Ft,eo),or,Rn,Jn,Xt,Od(null)))}else{if("year"===Xt||"month"===Xt||"week"===Xt)throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");Ht=on=ln=0,({days:Ln,hours:Vn,minutes:Zn,seconds:_r,milliseconds:Xn,microseconds:ar,nanoseconds:wn}=rh(i+He,Wt.add(Wt.BigInt(u),Wt.BigInt(Ve)),Wt.add(Wt.BigInt(y),Wt.BigInt(qe)),Wt.add(Wt.BigInt(d),Wt.BigInt(pt)),Wt.add(Wt.BigInt(m),Wt.BigInt(At)),Wt.add(Wt.BigInt(Z),Wt.BigInt(bt)),Wt.add(Wt.BigInt(G),Wt.BigInt(_t)),Xt))}return Nb(Ht,on,ln,Ln,Vn,Zn,_r,Xn,ar,wn),{years:Ht,months:on,weeks:ln,days:Ln,hours:Vn,minutes:Zn,seconds:_r,milliseconds:Xn,microseconds:ar,nanoseconds:wn}}function GC(r,t,n,i,u,y,d){let m=Pc;m=Wt.add(m,Wt.BigInt(d)),m=Wt.add(m,Wt.multiply(Wt.BigInt(y),Rs)),m=Wt.add(m,Wt.multiply(Wt.BigInt(u),Mf)),m=Wt.add(m,Wt.multiply(Wt.BigInt(i),sd)),m=Wt.add(m,Wt.multiply(Wt.BigInt(n),Wt.BigInt(6e10))),m=Wt.add(m,Wt.multiply(Wt.BigInt(t),Wt.BigInt(36e11)));const Z=Wt.add(r,m);return Hg(Z),Z}function M_(r,t,n,i,u,y,d,m,Z,G,k,ie,Ue,He,Ve,qe,pt,At,bt,_t,Ft){let Xt=He,{deltaDays:Ht,hour:on,minute:ln,second:Ln,millisecond:Vn,microsecond:Zn,nanosecond:_r}=C_(i,u,y,d,m,Z,Ve,qe,pt,At,bt,_t);Xt+=Ht;const Xn=ri("%Temporal.Duration%"),ar=zc(G,If(r,t,n,G),new Xn(k,ie,Ue,Xt,0,0,0,0,0,0),Ft);return{year:tt(ar,mi),month:tt(ar,bi),day:tt(ar,Si),hour:on,minute:ln,second:Ln,millisecond:Vn,microsecond:Zn,nanosecond:_r}}function ih(r,t,n,i,u,y,d,m,Z,G,k,ie,Ue,He){const Ve=ri("%Temporal.Duration%");if(0===o0(i,u,y,d,0,0,0,0,0,0))return GC(tt(r,eo),m,Z,G,k,ie,Ue);const qe=Tf(t,r,n),pt=zc(n,If(tt(qe,mi),tt(qe,bi),tt(qe,Si),n),new Ve(i,u,y,d,0,0,0,0,0,0),He),At=Ou(tt(pt,mi),tt(pt,bi),tt(pt,Si),tt(qe,Uo),tt(qe,zo),tt(qe,Ho),tt(qe,Go),tt(qe,jo),tt(qe,Wo),n);return GC(tt(kd(t,At,"compatible"),eo),m,Z,G,k,ie,Ue)}function I_(r,t,n,i){const u="subtract"===r?-1:1;let{years:y,months:d,weeks:m,days:Z,hours:G,minutes:k,seconds:ie,milliseconds:Ue,microseconds:He,nanoseconds:Ve}=my(n);const qe=Kx(vs(i));return({years:y,months:d,weeks:m,days:Z,hours:G,minutes:k,seconds:ie,milliseconds:Ue,microseconds:He,nanoseconds:Ve}=JD(tt(t,su),tt(t,od),tt(t,Qu),tt(t,Su),tt(t,Au),tt(t,Cu),tt(t,Mu),tt(t,au),tt(t,ll),tt(t,Cl),u*y,u*d,u*m,u*Z,u*G,u*k,u*ie,u*Ue,u*He,u*Ve,qe)),new(ri("%Temporal.Duration%"))(y,d,m,Z,G,k,ie,Ue,He,Ve)}function T_(r,t,n){const i="subtract"===r?-1:1,{hours:u,minutes:y,seconds:d,milliseconds:m,microseconds:Z,nanoseconds:G}=function(Ue,He){let Ve=my(Ue);for(const qe of["years","months","weeks","days"])if(0!==Ve[qe])throw new RangeError(`Duration field ${qe} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return Ve}(n),k=GC(tt(t,eo),i*u,i*y,i*d,i*m,i*Z,i*G);return new(ri("%Temporal.Instant%"))(k)}function dS(r,t,n,i){const u="subtract"===r?-1:1,{years:y,months:d,weeks:m,days:Z,hours:G,minutes:k,seconds:ie,milliseconds:Ue,microseconds:He,nanoseconds:Ve}=my(n),qe=vs(i),pt=tt(t,gr),{year:At,month:bt,day:_t,hour:Ft,minute:Xt,second:Ht,millisecond:on,microsecond:ln,nanosecond:Ln}=M_(tt(t,mi),tt(t,bi),tt(t,Si),tt(t,Uo),tt(t,zo),tt(t,Ho),tt(t,Go),tt(t,jo),tt(t,Wo),pt,u*y,u*d,u*m,u*Z,u*G,u*k,u*ie,u*Ue,u*He,u*Ve,qe);return Ou(At,bt,_t,Ft,Xt,Ht,on,ln,Ln,pt)}function XC(r,t,n){const i="subtract"===r?-1:1,{hours:u,minutes:y,seconds:d,milliseconds:m,microseconds:Z,nanoseconds:G}=my(n);let{hour:k,minute:ie,second:Ue,millisecond:He,microsecond:Ve,nanosecond:qe}=C_(tt(t,Uo),tt(t,zo),tt(t,Ho),tt(t,Go),tt(t,jo),tt(t,Wo),i*u,i*y,i*d,i*m,i*Z,i*G);return({hour:k,minute:ie,second:Ue,millisecond:He,microsecond:Ve,nanosecond:qe}=jx(k,ie,Ue,He,Ve,qe,"reject")),new(ri("%Temporal.PlainTime%"))(k,ie,Ue,He,Ve,qe)}function qD(r,t,n,i){let u=my(n);"subtract"===r&&(u={years:-u.years,months:-u.months,weeks:-u.weeks,days:-u.days,hours:-u.hours,minutes:-u.minutes,seconds:-u.seconds,milliseconds:-u.milliseconds,microseconds:-u.microseconds,nanoseconds:-u.nanoseconds});let{years:y,months:d,weeks:m,days:Z,hours:G,minutes:k,seconds:ie,milliseconds:Ue,microseconds:He,nanoseconds:Ve}=u;({days:Z}=rh(Z,G,k,ie,Ue,He,Ve,"day"));const qe=vs(i),pt=tt(t,gr),At=Nc(pt,["monthCode","year"]),bt=es(t,At,[]),_t=Od(null);f_(_t,bt,[]),bt.day=1;let Ft=Y0(pt,bt);const Xt=o0(y,d,m,Z,0,0,0,0,0,0),Ht=Vs(pt,"dateAdd"),on=ri("%Temporal.Duration%");if(Xt<0){const Vn=zc(pt,Ft,new on(0,1,0,0,0,0,0,0,0,0),void 0,Ht),Zn=zc(pt,Vn,new on(0,0,0,-1,0,0,0,0,0,0),void 0,Ht);_t.day=t0(pt,Zn),Ft=Y0(pt,_t)}const ln=new on(y,d,m,Z,0,0,0,0,0,0),Ln=sh(qe);return J0(pt,es(zc(pt,Ft,ln,qe,Ht),At,[]),Ln)}function QD(r,t,n,i){const u="subtract"===r?-1:1,{years:y,months:d,weeks:m,days:Z,hours:G,minutes:k,seconds:ie,milliseconds:Ue,microseconds:He,nanoseconds:Ve}=my(n),qe=vs(i),pt=tt(t,oa),At=tt(t,gr);return Vc(ih(tt(t,id),pt,At,u*y,u*d,u*m,u*Z,u*G,u*k,u*ie,u*Ue,u*He,u*Ve,qe),pt,At)}function Df(r,t,n){if(Wt.equal(t,z0))return r;let{quotient:i,remainder:u}=kc(r,t);if(Wt.equal(u,Pc))return r;const y=Wt.lessThan(u,Pc)?-1:1,d=Ph(Wt.multiply(u,Wt.BigInt(2))),m=Wt.equal(d,t),Z=Wt.greaterThan(d,t);switch(n){case"ceil":y>0&&(i=Wt.add(i,Wt.BigInt(y)));break;case"floor":y<0&&(i=Wt.add(i,Wt.BigInt(y)));break;case"expand":i=Wt.add(i,Wt.BigInt(y));break;case"trunc":break;case"halfCeil":(Z||m&&y>0)&&(i=Wt.add(i,Wt.BigInt(y)));break;case"halfFloor":(Z||m&&y<0)&&(i=Wt.add(i,Wt.BigInt(y)));break;case"halfExpand":(Z||m)&&(i=Wt.add(i,Wt.BigInt(y)));break;case"halfTrunc":Z&&(i=Wt.add(i,Wt.BigInt(y)));break;case"halfEven":(Z||m&&1===Wt.toNumber(Wt.remainder(Ph(i),Wt.BigInt(2))))&&(i=Wt.add(i,Wt.BigInt(y)))}return Wt.multiply(i,t)}function Gg(r,t,n,i){let{remainder:u}=oh(r,th);const y=Wt.subtract(r,u),d=Df(u,Wt.BigInt(k_[n]*t),i);return Wt.add(y,d)}function Lb(r,t,n,i,u,y,d,m,Z,G,k,ie,Ue=864e11){const{deltaDays:He,hour:Ve,minute:qe,second:pt,millisecond:At,microsecond:bt,nanosecond:_t}=D_(i,u,y,d,m,Z,G,k,ie,Ue),{year:Ft,month:Xt,day:Ht}=S_(r,t,n+He);return{year:Ft,month:Xt,day:Ht,hour:Ve,minute:qe,second:pt,millisecond:At,microsecond:bt,nanosecond:_t}}function D_(r,t,n,i,u,y,d,m,Z,G=864e11){let k=Pc;switch(m){case"day":case"hour":k=Wt.BigInt(r);case"minute":k=Wt.add(Wt.multiply(k,Xp),Wt.BigInt(t));case"second":k=Wt.add(Wt.multiply(k,Xp),Wt.BigInt(n));case"millisecond":k=Wt.add(Wt.multiply(k,Rs),Wt.BigInt(i));case"microsecond":k=Wt.add(Wt.multiply(k,Rs),Wt.BigInt(u));case"nanosecond":k=Wt.add(Wt.multiply(k,Rs),Wt.BigInt(y))}const ie="day"===m?G:k_[m],Ue=Df(k,Wt.BigInt(ie*d),Z),He=Wt.toNumber(Wt.divide(Ue,Wt.BigInt(ie)));switch(m){case"day":return{deltaDays:He,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Uh(He,0,0,0,0,0);case"minute":return Uh(r,He,0,0,0,0);case"second":return Uh(r,t,He,0,0,0);case"millisecond":return Uh(r,t,n,He,0,0);case"microsecond":return Uh(r,t,n,i,He,0);case"nanosecond":return Uh(r,t,n,i,u,He);default:throw new Error(`Invalid unit ${m}`)}}function R_(r,t){return aS(tt(r,mi),tt(r,bi),tt(r,Si),tt(t,mi),tt(t,bi),tt(t,Si),"day").days}function Nd(r,t,n,i){const u=zc(r,t,n,void 0,i);return{relativeTo:u,days:R_(t,u)}}function e6(r,t,n,i,u){const y=tt(r,oa),d=tt(r,gr);return Vc(ih(tt(r,id),y,d,t,n,i,u,0,0,0,0,0,0),y,d)}function ZC(r,t,n,i,u,y,d,m,Z,G,k,ie,Ue,He){let Ve=r,qe=t,pt=n,At=i,bt=u,_t=y,Ft=d,Xt=m,Ht=Z,on=G;if(!Ci(He)||"year"===ie||"month"===ie||"week"===ie||"day"===ie||"nanosecond"===ie&&1===k)return{years:Ve,months:qe,weeks:pt,days:At,hours:bt,minutes:_t,seconds:Ft,milliseconds:Xt,microseconds:Ht,nanoseconds:on};let ln=Bb(0,bt,_t,Ft,Xt,Ht,on,0);const Ln=Pg(Wt.toNumber(ln)),Vn=tt(He,oa),Zn=tt(He,gr),_r=ih(tt(He,id),Vn,Zn,Ve,qe,pt,At,0,0,0,0,0,0),Xn=ih(new(ri("%Temporal.Instant%"))(_r),Vn,Zn,0,0,0,Ln,0,0,0,0,0,0),ar=Wt.subtract(Xn,_r);return Wt.greaterThanOrEqual(Wt.multiply(Wt.subtract(ln,ar),Wt.BigInt(Ln)),Pc)&&(({years:Ve,months:qe,weeks:pt,days:At}=JD(Ve,qe,pt,At,0,0,0,0,0,0,0,0,0,Ln,0,0,0,0,0,0,He)),ln=Gg(Wt.subtract(ln,ar),k,ie,Ue),({hours:bt,minutes:_t,seconds:Ft,milliseconds:Xt,microseconds:Ht,nanoseconds:on}=rh(0,0,0,0,0,0,Wt.toNumber(ln),"hour"))),{years:Ve,months:qe,weeks:pt,days:At,hours:bt,minutes:_t,seconds:Ft,milliseconds:Xt,microseconds:Ht,nanoseconds:on}}function mp(r,t,n,i,u,y,d,m,Z,G,k,ie,Ue,He){let Ve=r,qe=t,pt=n,At=i,bt=u,_t=y,Ft=d,Xt=m,Ht=Z,on=Wt.BigInt(G);const ln=ri("%Temporal.Duration%");let Ln,Vn,Zn,_r,Xn=He;if(Xn){if(Ci(Xn))Vn=Xn,Xn=ha(Xn);else if(!Zo(Xn))throw new TypeError("starting point must be PlainDate or ZonedDateTime");Ln=tt(Xn,gr)}if("year"===ie||"month"===ie||"week"===ie||"day"===ie){let ar,wn,Dn;on=Bb(0,bt,_t,Ft,Xt,Ht,G,0),Vn&&(ar=e6(Vn,Ve,qe,pt,At)),({days:wn,nanoseconds:on,dayLengthNs:Dn}=iS(on,ar)),Zn=Wt.BigInt(Dn),At+=wn,bt=_t=Ft=Xt=Ht=0}switch(ie){case"year":{if(!Ln)throw new RangeError("A starting point is required for years rounding");const ar=new ln(Ve),wn="string"!=typeof Ln?Vs(Ln,"dateAdd"):void 0,Dn=zc(Ln,Xn,ar,void 0,wn),Rn=zc(Ln,Xn,new ln(Ve,qe,pt),void 0,wn);Xn=Dn,At+=R_(Dn,Rn);const Jn=zc(Ln,Xn,new ln(0,0,0,At),void 0,wn),Un=Od(null);Un.largestUnit="year";const or=nh(Ln,Xn,Jn,Un).years;Ve+=or;const Mr=Xn;Xn=zc(Ln,Xn,new ln(or),void 0,wn),At-=R_(Mr,Xn);const Sr=new ln(At<0?-1:1);let{days:Tn}=Nd(Ln,Xn,Sr,wn);Tn=Xa(Tn);const Ir=Wt.multiply(Wt.BigInt(Tn),Zn);on=Wt.add(Wt.add(Wt.multiply(Ir,Wt.BigInt(Ve)),Wt.multiply(Wt.BigInt(At),Zn)),on);const Kr=Df(on,Wt.multiply(Ir,Wt.BigInt(k)),Ue);_r=c0(on,Ir),Ve=Wt.toNumber(Wt.divide(Kr,Ir)),on=Pc,qe=pt=At=0;break}case"month":{if(!Ln)throw new RangeError("A starting point is required for months rounding");const ar=new ln(Ve,qe),wn="string"!=typeof Ln?Vs(Ln,"dateAdd"):void 0,Dn=zc(Ln,Xn,ar,void 0,wn),Rn=zc(Ln,Xn,new ln(Ve,qe,pt),void 0,wn);Xn=Dn,At+=R_(Dn,Rn);const Jn=Pg(At),Un=new ln(0,At<0?-1:1);let or;for(({relativeTo:Xn,days:or}=Nd(Ln,Xn,Un,wn));Xa(At)>=Xa(or);)qe+=Jn,At-=or,({relativeTo:Xn,days:or}=Nd(Ln,Xn,Un,wn));or=Xa(or);const Mr=Wt.multiply(Wt.BigInt(or),Zn);on=Wt.add(Wt.add(Wt.multiply(Mr,Wt.BigInt(qe)),Wt.multiply(Wt.BigInt(At),Zn)),on);const Sr=Df(on,Wt.multiply(Mr,Wt.BigInt(k)),Ue);_r=c0(on,Mr),qe=Wt.toNumber(Wt.divide(Sr,Mr)),on=Pc,pt=At=0;break}case"week":{if(!Ln)throw new RangeError("A starting point is required for weeks rounding");const ar=Pg(At),wn=new ln(0,0,At<0?-1:1),Dn="string"!=typeof Ln?Vs(Ln,"dateAdd"):void 0;let Rn;for(({relativeTo:Xn,days:Rn}=Nd(Ln,Xn,wn,Dn));Xa(At)>=Xa(Rn);)pt+=ar,At-=Rn,({relativeTo:Xn,days:Rn}=Nd(Ln,Xn,wn,Dn));Rn=Xa(Rn);const Jn=Wt.multiply(Wt.BigInt(Rn),Zn);on=Wt.add(Wt.add(Wt.multiply(Jn,Wt.BigInt(pt)),Wt.multiply(Wt.BigInt(At),Zn)),on);const Un=Df(on,Wt.multiply(Jn,Wt.BigInt(k)),Ue);_r=c0(on,Jn),pt=Wt.toNumber(Wt.divide(Un,Jn)),on=Pc,At=0;break}case"day":{const ar=Zn;on=Wt.add(Wt.multiply(ar,Wt.BigInt(At)),on);const wn=Df(on,Wt.multiply(ar,Wt.BigInt(k)),Ue);_r=c0(on,ar),At=Wt.toNumber(Wt.divide(wn,ar)),on=Pc;break}case"hour":{let wn=Wt.multiply(Wt.BigInt(bt),Wt.BigInt(36e11));wn=Wt.add(wn,Wt.multiply(Wt.BigInt(_t),Wt.BigInt(6e10))),wn=Wt.add(wn,Wt.multiply(Wt.BigInt(Ft),sd)),wn=Wt.add(wn,Wt.multiply(Wt.BigInt(Xt),Mf)),wn=Wt.add(wn,Wt.multiply(Wt.BigInt(Ht),Rs)),wn=Wt.add(wn,on),_r=c0(wn,Wt.BigInt(36e11));const Dn=Df(wn,Wt.BigInt(36e11*k),Ue);bt=Wt.toNumber(Wt.divide(Dn,Wt.BigInt(36e11))),on=Pc,_t=Ft=Xt=Ht=0;break}case"minute":{let wn=Wt.multiply(Wt.BigInt(_t),Wt.BigInt(6e10));wn=Wt.add(wn,Wt.multiply(Wt.BigInt(Ft),sd)),wn=Wt.add(wn,Wt.multiply(Wt.BigInt(Xt),Mf)),wn=Wt.add(wn,Wt.multiply(Wt.BigInt(Ht),Rs)),wn=Wt.add(wn,on),_r=c0(wn,Wt.BigInt(6e10));const Dn=Df(wn,Wt.BigInt(6e10*k),Ue);_t=Wt.toNumber(Wt.divide(Dn,Wt.BigInt(6e10))),on=Pc,Ft=Xt=Ht=0;break}case"second":{let wn=Wt.multiply(Wt.BigInt(Ft),sd);wn=Wt.add(wn,Wt.multiply(Wt.BigInt(Xt),Mf)),wn=Wt.add(wn,Wt.multiply(Wt.BigInt(Ht),Rs)),wn=Wt.add(wn,on),_r=c0(wn,Wt.BigInt(1e9));const Dn=Df(wn,Wt.BigInt(1e9*k),Ue);Ft=Wt.toNumber(Wt.divide(Dn,Wt.BigInt(1e9))),on=Pc,Xt=Ht=0;break}case"millisecond":{let wn=Wt.multiply(Wt.BigInt(Xt),Mf);wn=Wt.add(wn,Wt.multiply(Wt.BigInt(Ht),Rs)),wn=Wt.add(wn,on),_r=c0(wn,Wt.BigInt(1e6));const Dn=Df(wn,Wt.BigInt(1e6*k),Ue);Xt=Wt.toNumber(Wt.divide(Dn,Wt.BigInt(1e6))),on=Pc,Ht=0;break}case"microsecond":{let wn=Wt.multiply(Wt.BigInt(Ht),Rs);wn=Wt.add(wn,on),_r=c0(wn,Wt.BigInt(1e3));const Dn=Df(wn,Wt.BigInt(1e3*k),Ue);Ht=Wt.toNumber(Wt.divide(Dn,Wt.BigInt(1e3))),on=Pc;break}case"nanosecond":_r=Wt.toNumber(on),on=Df(Wt.BigInt(on),Wt.BigInt(k),Ue)}return{years:Ve,months:qe,weeks:pt,days:At,hours:bt,minutes:_t,seconds:Ft,milliseconds:Xt,microseconds:Ht,nanoseconds:Wt.toNumber(on),total:_r}}function a0(r,t,n,i,u,y){for(const[d,m]of[[r,i],[t,u],[n,y]])if(d!==m)return _y(d-m);return 0}function oh(r,t){let{quotient:n,remainder:i}=kc(r,t);return Wt.lessThan(i,Pc)&&(n=Wt.subtract(n,z0),i=Wt.add(i,t)),{quotient:n,remainder:i}}function Fb(r,t){const{quotient:n,remainder:i}=kc(r,t);return wa(i)||!Bg(r)==!Bg(t)?n:Wt.subtract(n,z0)}function c0(r,t){const{quotient:n,remainder:i}=kc(r,t);return Wt.toNumber(n)+Wt.toNumber(i)/Wt.toNumber(t)}function Q0(r){const t=uS(r);return void 0!==globalThis.BigInt?globalThis.BigInt(t.toString(10)):t}function uS(r){let t=r;if("object"==typeof r){const n=r[Symbol.toPrimitive];n&&"function"==typeof n&&(t=Ib(n,r,["number"]))}if("number"==typeof t)throw new TypeError("cannot convert number to bigint");return Wt.BigInt("bigint"==typeof t?t.toString(10):t)}const O_=(()=>{let r=Wt.BigInt(Date.now()%1e6);return()=>{const t=Wt.BigInt(Date.now()),n=Wt.add(Wt.multiply(t,Mf),r);return r=Wt.remainder(t,Mf),Wt.greaterThan(n,dp)?dp:Wt.lessThan(n,Tu)?Tu:n}})();function Xg(){return(new MC).resolvedOptions().timeZone}function _y(r){return r<0?-1:r>0?1:r}function vs(r){if(void 0===r)return Od(null);if(Xo(r)&&null!==r)return r;throw new TypeError("Options parameter must be an object, not "+(null===r?"null":typeof r))}function P_(r,t){const n=Od(null);return n[r]=t,n}function sh(r){const t=Od(null);return f_(t,vs(r),[]),t}function Ey(r,t,n,i){let u=r[t];if(void 0!==u){if(u=Il(u),!n.includes(u))throw new RangeError(`${t} must be one of ${n.join(", ")}, not ${u}`);return u}return i}function em(r){return wR.includes(l0(r))}function l0(r){return r.replace(/[A-Z]/g,t=>{const n=t.charCodeAt(0);return String.fromCharCode(n+32)})}const Zg=new RegExp(`^${SC.source}$`);function t6(r,t,n,i=r(t),u=r(n)){let y=Wt.BigInt(t),d=Wt.BigInt(n),m=i,Z=u;for(;Wt.greaterThan(Wt.subtract(d,y),z0);){const G=Wt.divide(Wt.add(y,d),Wt.BigInt(2)),k=r(G);if(k===m)y=G,m=k;else{if(k!==Z)throw new Error(`invalid state in bisection ${m} - ${k} - ${Z}`);d=G,Z=k}}return d}const k_={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},B_=Symbol("date"),nf=Symbol("ym"),YC=Symbol("md"),JC=Symbol("time"),n6=Symbol("datetime"),Ub=Symbol("instant"),d0=Symbol("original"),jb=Symbol("timezone"),jh=Symbol("calendar-id"),qC=Symbol("locale"),Yg=Symbol("options"),N_=r=>({value:r,enumerable:!0,writable:!1,configurable:!0}),$b=globalThis.Intl.DateTimeFormat,tm=Object.assign,r6=Object.prototype.hasOwnProperty,i6=Reflect.apply;function Jg(r,t){let n=r[t];return"function"==typeof n&&(n=new $b(r[qC],n(r[Yg])),r[t]=n),n}function qg(r,t={}){if(!(this instanceof qg))return new qg(r,t);const n=void 0!==t,i=n?tm({},t):{},u=new $b(r,i),y=u.resolvedOptions();if(n){const d=tm({},y);for(const m in d)i6(r6,i,[m])||delete d[m];this[Yg]=d}else this[Yg]=i;this[qC]=y.locale,this[d0]=u,this[jb]=y.timeZone,this[jh]=y.calendar,this[B_]=o6,this[nf]=Jk,this[YC]=qk,this[JC]=Yk,this[n6]=pS,this[Ub]=MR}Object.defineProperty(qg,"name",{writable:!0,value:"DateTimeFormat"}),qg.supportedLocalesOf=function(r,t){return $b.supportedLocalesOf(r,t)};const fS={resolvedOptions:N_(function(){return this[d0].resolvedOptions()}),format:N_(function(t,...n){let{instant:i,formatter:u}=Kb(t,this);return i&&u?u.format(i.epochMilliseconds):this[d0].format(t,...n)}),formatRange:N_(function(t,n){if(u0(t)||u0(n)){if(!s6(t,n))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:i,formatter:u}=Kb(t,this),{instant:y,formatter:d}=Kb(n,this);if(i&&y&&u&&d&&u===d)return u.formatRange(i.epochMilliseconds,y.epochMilliseconds)}return this[d0].formatRange(t,n)})};"formatToParts"in $b.prototype&&(fS.formatToParts=N_(function(t,...n){let{instant:i,formatter:u}=Kb(t,this);return i&&u?u.formatToParts(i.epochMilliseconds):this[d0].formatToParts(t,...n)})),"formatRangeToParts"in $b.prototype&&(fS.formatRangeToParts=N_(function(t,n){if(u0(t)||u0(n)){if(!s6(t,n))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:i,formatter:u}=Kb(t,this),{instant:y,formatter:d}=Kb(n,this);if(i&&y&&u&&d&&u===d)return u.formatRangeToParts(i.epochMilliseconds,y.epochMilliseconds)}return this[d0].formatRangeToParts(t,n)})),qg.prototype=Object.create($b.prototype,fS),Object.defineProperty(qg,"prototype",{writable:!1,enumerable:!1,configurable:!1});const nm=qg;function hS(r={},t={}){const n=tm({},r);for(const i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])n[i]=i in t?t[i]:n[i],!1!==n[i]&&void 0!==n[i]||delete n[i];return n}function Yk(r){let t=hS(r,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return mS(t)||(t=tm({},t,{hour:"numeric",minute:"numeric",second:"numeric"})),t}function Jk(r){let t=hS(r,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in t||"month"in t||(t=tm(t,{year:"numeric",month:"numeric"})),t}function qk(r){let t=hS(r,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in t||"day"in t||(t=tm({},t,{month:"numeric",day:"numeric"})),t}function o6(r){let t=hS(r,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return QC(t)||(t=tm({},t,{year:"numeric",month:"numeric",day:"numeric"})),t}function pS(r){let t=hS(r,{timeZoneName:!1});return mS(t)||QC(t)||(t=tm({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function MR(r){let t=r;return mS(t)||QC(t)||(t=tm({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function QC(r){return"year"in r||"month"in r||"day"in r||"weekday"in r||"dateStyle"in r}function mS(r){return"hour"in r||"minute"in r||"second"in r||"timeStyle"in r||"dayPeriod"in r}function u0(r){return Zo(r)||uc(r)||Ro(r)||Ci(r)||gs(r)||el(r)||fl(r)}function s6(r,t){return!(!u0(r)||!u0(t)||uc(r)&&!uc(t)||Zo(r)&&!Zo(t)||Ro(r)&&!Ro(t)||Ci(r)&&!Ci(t)||gs(r)&&!gs(t)||el(r)&&!el(t)||fl(r)&&!fl(t))}function Kb(r,t){const n=ri("%Temporal.PlainDateTime%");if(uc(r)){const i=new n(1970,1,1,tt(r,Uo),tt(r,zo),tt(r,Ho),tt(r,Go),tt(r,jo),tt(r,Wo),t[jh]);return{instant:kd(t[jb],i,"compatible"),formatter:Jg(t,JC)}}if(gs(r)){const i=tt(r,mi),u=tt(r,bi),y=tt(r,Si),d=ad(tt(r,gr));if(d!==t[jh])throw new RangeError(`cannot format PlainYearMonth with calendar ${d} in locale with calendar ${t[jh]}`);const m=new n(i,u,y,12,0,0,0,0,0,d);return{instant:kd(t[jb],m,"compatible"),formatter:Jg(t,nf)}}if(el(r)){const i=tt(r,mi),u=tt(r,bi),y=tt(r,Si),d=ad(tt(r,gr));if(d!==t[jh])throw new RangeError(`cannot format PlainMonthDay with calendar ${d} in locale with calendar ${t[jh]}`);const m=new n(i,u,y,12,0,0,0,0,0,d);return{instant:kd(t[jb],m,"compatible"),formatter:Jg(t,YC)}}if(Zo(r)){const i=tt(r,mi),u=tt(r,bi),y=tt(r,Si),d=ad(tt(r,gr));if("iso8601"!==d&&d!==t[jh])throw new RangeError(`cannot format PlainDate with calendar ${d} in locale with calendar ${t[jh]}`);const m=new n(i,u,y,12,0,0,0,0,0,t[jh]);return{instant:kd(t[jb],m,"compatible"),formatter:Jg(t,B_)}}if(Ro(r)){const i=tt(r,mi),u=tt(r,bi),y=tt(r,Si),d=tt(r,Uo),m=tt(r,zo),Z=tt(r,Ho),G=tt(r,Go),k=tt(r,jo),ie=tt(r,Wo),Ue=ad(tt(r,gr));if("iso8601"!==Ue&&Ue!==t[jh])throw new RangeError(`cannot format PlainDateTime with calendar ${Ue} in locale with calendar ${t[jh]}`);let He=r;return"iso8601"===Ue&&(He=new n(i,u,y,d,m,Z,G,k,ie,t[jh])),{instant:kd(t[jb],He,"compatible"),formatter:Jg(t,n6)}}if(Ci(r))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return fl(r)?{instant:r,formatter:Jg(t,Ub)}:{}}Object.freeze({__proto__:null,DateTimeFormat:nm});class $h{constructor(t){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const n=uS(t);Hg(n),Gp(this),$o(this,eo,n)}get epochSeconds(){if(!fl(this))throw new TypeError("invalid receiver");const t=tt(this,eo);return Wt.toNumber(Fb(t,sd))}get epochMilliseconds(){if(!fl(this))throw new TypeError("invalid receiver");const t=Wt.BigInt(tt(this,eo));return Wt.toNumber(Fb(t,Mf))}get epochMicroseconds(){if(!fl(this))throw new TypeError("invalid receiver");return Q0(Fb(Wt.BigInt(tt(this,eo)),Rs))}get epochNanoseconds(){if(!fl(this))throw new TypeError("invalid receiver");return Q0(Wt.BigInt(tt(this,eo)))}add(t){if(!fl(this))throw new TypeError("invalid receiver");return T_("add",this,t)}subtract(t){if(!fl(this))throw new TypeError("invalid receiver");return T_("subtract",this,t)}until(t,n){if(!fl(this))throw new TypeError("invalid receiver");return HC("until",this,t,n)}since(t,n){if(!fl(this))throw new TypeError("invalid receiver");return HC("since",this,t,n)}round(t){if(!fl(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?P_("smallestUnit",t):vs(t),i=yy(n),u=Jp(n,"halfExpand"),y=ef(n,"smallestUnit","time",Ug);Db(i,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[y],!0);const d=Gg(tt(this,eo),i,y,u);return new $h(d)}equals(t){if(!fl(this))throw new TypeError("invalid receiver");const n=up(t),i=tt(this,eo),u=tt(n,eo);return Wt.equal(Wt.BigInt(i),Wt.BigInt(u))}toString(t){if(!fl(this))throw new TypeError("invalid receiver");const n=vs(t),i=h_(n),u=Jp(n,"trunc"),y=ef(n,"smallestUnit","time",void 0);if("hour"===y)throw new RangeError('smallestUnit must be a time unit other than "hour"');let d=n.timeZone;void 0!==d&&(d=du(d));const{precision:m,unit:Z,increment:G}=p_(y,i),k=Gg(tt(this,eo),G,Z,u);return UD(new $h(k),d,m)}toJSON(){if(!fl(this))throw new TypeError("invalid receiver");return UD(this,void 0,"auto")}toLocaleString(t,n){if(!fl(this))throw new TypeError("invalid receiver");return new nm(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(t){if(!fl(this))throw new TypeError("invalid receiver");if(!Xo(t))throw new TypeError("invalid argument in toZonedDateTime");const n=t.calendar;if(void 0===n)throw new TypeError("missing calendar property in toZonedDateTime");const i=Pd(n),u=t.timeZone;if(void 0===u)throw new TypeError("missing timeZone property in toZonedDateTime");const y=du(u);return Vc(tt(this,eo),y,i)}toZonedDateTimeISO(t){if(!fl(this))throw new TypeError("invalid receiver");const n=du(t);return Vc(tt(this,eo),n,"iso8601")}static fromEpochSeconds(t){const n=Zp(t),i=Wt.multiply(Wt.BigInt(n),sd);return Hg(i),new $h(i)}static fromEpochMilliseconds(t){const n=Zp(t),i=Wt.multiply(Wt.BigInt(n),Mf);return Hg(i),new $h(i)}static fromEpochMicroseconds(t){const n=uS(t),i=Wt.multiply(n,Rs);return Hg(i),new $h(i)}static fromEpochNanoseconds(t){const n=uS(t);return Hg(n),new $h(n)}static from(t){return fl(t)?new $h(tt(t,eo)):up(t)}static compare(t,n){const i=up(t),u=up(n),y=tt(i,eo),d=tt(u,eo);return Wt.lessThan(y,d)?-1:Wt.greaterThan(y,d)?1:0}}V0($h,"Temporal.Instant");const IR=Array.prototype.includes,TR=Array.prototype.push,a6=globalThis.Intl.DateTimeFormat,DR=Array.prototype.sort,RR=Math.abs,L_=Math.floor,eM=Object.create,yS=Object.entries,tM=Set,c6=Reflect.ownKeys,ld=Set.prototype.add,l6=Set.prototype.values,Pa={};class Sc{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: id is required");const n=Il(t);if(!em(n))throw new RangeError(`invalid calendar identifier ${n}`);Gp(this),$o(this,dc,l0(n))}get id(){if(!Ya(this))throw new TypeError("invalid receiver");return tt(this,dc)}dateFromFields(t,n){if(!Ya(this))throw new TypeError("invalid receiver");if(!Xo(t))throw new TypeError("invalid fields");const i=vs(n),u=tt(this,dc);return Pa[u].dateFromFields(t,i,u)}yearMonthFromFields(t,n){if(!Ya(this))throw new TypeError("invalid receiver");if(!Xo(t))throw new TypeError("invalid fields");const i=vs(n),u=tt(this,dc);return Pa[u].yearMonthFromFields(t,i,u)}monthDayFromFields(t,n){if(!Ya(this))throw new TypeError("invalid receiver");if(!Xo(t))throw new TypeError("invalid fields");const i=vs(n),u=tt(this,dc);return Pa[u].monthDayFromFields(t,i,u)}fields(t){if(!Ya(this))throw new TypeError("invalid receiver");const n=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const u of t){if("string"!=typeof u)throw new TypeError("invalid fields");if(!i.has(u))throw new RangeError(`invalid field name ${u}`);i.delete(u),TR.call(n,u)}return Pa[tt(this,dc)].fields(n)}mergeFields(t,n){if(!Ya(this))throw new TypeError("invalid receiver");const i=OD(t),u=eM(null);f_(u,i,[],[void 0]);const y=OD(n),d=eM(null);f_(d,y,[],[void 0]);const m=c6(d),Z=Pa[tt(this,dc)].fieldKeysToIgnore(m),G=eM(null),k=c6(u);for(const ie of k){let Ue;Ue=Bi(IR,Z,[ie])?d[ie]:u[ie],void 0!==Ue&&(G[ie]=Ue)}return f_(G,d,[]),G}dateAdd(t,n,i){if(!Ya(this))throw new TypeError("invalid receiver");const u=ha(t),y=Rb(n),d=Bc(vs(i)),{days:m}=rh(tt(y,Su),tt(y,Au),tt(y,Cu),tt(y,Mu),tt(y,au),tt(y,ll),tt(y,Cl),"day"),Z=tt(this,dc);return Pa[Z].dateAdd(u,tt(y,su),tt(y,od),tt(y,Qu),m,d,Z)}dateUntil(t,n,i){if(!Ya(this))throw new TypeError("invalid receiver");const u=ha(t),y=ha(n);let d=ef(vs(i),"largestUnit","date","auto");"auto"===d&&(d="day");const{years:m,months:Z,weeks:G,days:k}=Pa[tt(this,dc)].dateUntil(u,y,d);return new(ri("%Temporal.Duration%"))(m,Z,G,k,0,0,0,0,0,0)}year(t){let n=t;if(!Ya(this))throw new TypeError("invalid receiver");return gs(n)||(n=ha(n)),Pa[tt(this,dc)].year(n)}month(t){let n=t;if(!Ya(this))throw new TypeError("invalid receiver");if(el(n))throw new TypeError("use monthCode on PlainMonthDay instead");return gs(n)||(n=ha(n)),Pa[tt(this,dc)].month(n)}monthCode(t){let n=t;if(!Ya(this))throw new TypeError("invalid receiver");return gs(n)||el(n)||(n=ha(n)),Pa[tt(this,dc)].monthCode(n)}day(t){let n=t;if(!Ya(this))throw new TypeError("invalid receiver");return el(n)||(n=ha(n)),Pa[tt(this,dc)].day(n)}era(t){let n=t;if(!Ya(this))throw new TypeError("invalid receiver");return gs(n)||(n=ha(n)),Pa[tt(this,dc)].era(n)}eraYear(t){let n=t;if(!Ya(this))throw new TypeError("invalid receiver");return gs(n)||(n=ha(n)),Pa[tt(this,dc)].eraYear(n)}dayOfWeek(t){if(!Ya(this))throw new TypeError("invalid receiver");const n=ha(t);return Pa[tt(this,dc)].dayOfWeek(n)}dayOfYear(t){if(!Ya(this))throw new TypeError("invalid receiver");const n=ha(t);return Pa[tt(this,dc)].dayOfYear(n)}weekOfYear(t){if(!Ya(this))throw new TypeError("invalid receiver");const n=ha(t);return Pa[tt(this,dc)].weekOfYear(n)}yearOfWeek(t){if(!Ya(this))throw new TypeError("invalid receiver");const n=ha(t);return Pa[tt(this,dc)].yearOfWeek(n)}daysInWeek(t){if(!Ya(this))throw new TypeError("invalid receiver");const n=ha(t);return Pa[tt(this,dc)].daysInWeek(n)}daysInMonth(t){let n=t;if(!Ya(this))throw new TypeError("invalid receiver");return gs(n)||(n=ha(n)),Pa[tt(this,dc)].daysInMonth(n)}daysInYear(t){let n=t;if(!Ya(this))throw new TypeError("invalid receiver");return gs(n)||(n=ha(n)),Pa[tt(this,dc)].daysInYear(n)}monthsInYear(t){let n=t;if(!Ya(this))throw new TypeError("invalid receiver");return gs(n)||(n=ha(n)),Pa[tt(this,dc)].monthsInYear(n)}inLeapYear(t){let n=t;if(!Ya(this))throw new TypeError("invalid receiver");return gs(n)||(n=ha(n)),Pa[tt(this,dc)].inLeapYear(n)}toString(){if(!Ya(this))throw new TypeError("invalid receiver");return tt(this,dc)}toJSON(){if(!Ya(this))throw new TypeError("invalid receiver");return tt(this,dc)}static from(t){return Pb(Pd(t))}}function gS(r){if(!r.startsWith("M"))throw new RangeError(`Invalid month code: ${r}.  Month codes must start with M.`);const t=+r.slice(1);if(isNaN(t))throw new RangeError(`Invalid month code: ${r}`);return t}function f0(r,t=!1){return`M${r.toString().padStart(2,"0")}${t?"L":""}`}function vS(r,t,n=12){let{month:i,monthCode:u}=r;if(void 0===u){if(void 0===i)throw new TypeError("Either month or monthCode are required");"reject"===t&&cd(i,1,n),"constrain"===t&&(i=tf(i,1,n)),u=f0(i)}else{const y=gS(u);if(void 0!==i&&i!==y)throw new RangeError(`monthCode ${u} and month ${i} must match if both are present`);if(u!==f0(y))throw new RangeError(`Invalid month code: ${u}`);if(i=y,i<1||i>n)throw new RangeError(`Invalid monthCode: ${u}`)}return{...r,month:i,monthCode:u}}V0(Sc,"Temporal.Calendar"),Ga("Temporal.Calendar.from",Sc.from),Ga("Temporal.Calendar.prototype.dateAdd",Sc.prototype.dateAdd),Ga("Temporal.Calendar.prototype.dateFromFields",Sc.prototype.dateFromFields),Ga("Temporal.Calendar.prototype.dateUntil",Sc.prototype.dateUntil),Ga("Temporal.Calendar.prototype.day",Sc.prototype.day),Ga("Temporal.Calendar.prototype.dayOfWeek",Sc.prototype.dayOfWeek),Ga("Temporal.Calendar.prototype.dayOfYear",Sc.prototype.dayOfYear),Ga("Temporal.Calendar.prototype.daysInMonth",Sc.prototype.daysInMonth),Ga("Temporal.Calendar.prototype.daysInWeek",Sc.prototype.daysInWeek),Ga("Temporal.Calendar.prototype.daysInYear",Sc.prototype.daysInYear),Ga("Temporal.Calendar.prototype.era",Sc.prototype.era),Ga("Temporal.Calendar.prototype.eraYear",Sc.prototype.eraYear),Ga("Temporal.Calendar.prototype.fields",Sc.prototype.fields),Ga("Temporal.Calendar.prototype.inLeapYear",Sc.prototype.inLeapYear),Ga("Temporal.Calendar.prototype.mergeFields",Sc.prototype.mergeFields),Ga("Temporal.Calendar.prototype.month",Sc.prototype.month),Ga("Temporal.Calendar.prototype.monthCode",Sc.prototype.monthCode),Ga("Temporal.Calendar.prototype.monthDayFromFields",Sc.prototype.monthDayFromFields),Ga("Temporal.Calendar.prototype.monthsInYear",Sc.prototype.monthsInYear),Ga("Temporal.Calendar.prototype.weekOfYear",Sc.prototype.weekOfYear),Ga("Temporal.Calendar.prototype.year",Sc.prototype.year),Ga("Temporal.Calendar.prototype.yearMonthFromFields",Sc.prototype.yearMonthFromFields),Ga("Temporal.Calendar.prototype.yearOfWeek",Sc.prototype.yearOfWeek),Pa.iso8601={dateFromFields(r,t,n){let i=es(r,["day","month","monthCode","year"],["year","day"]);const u=Bc(t);i=vS(i);let{year:y,month:d,day:m}=i;return({year:y,month:d,day:m}=Ux(y,d,m,u)),If(y,d,m,n)},yearMonthFromFields(r,t,n){let i=es(r,["month","monthCode","year"],["year"]);const u=Bc(t);i=vS(i);let{year:y,month:d}=i;return({year:y,month:d}=function(Z,G,k){let ie=Z,Ue=G;switch(k){case"reject":s0(ie,Ue,1);break;case"constrain":({year:ie,month:Ue}=WD(ie,Ue))}return{year:ie,month:Ue}}(y,d,u)),Qp(y,d,n,1)},monthDayFromFields(r,t,n){let i=es(r,["day","month","monthCode","year"],["day"]);const u=Bc(t);if(void 0!==i.month&&void 0===i.year&&void 0===i.monthCode)throw new TypeError("either year or monthCode required with month");const y=void 0===i.monthCode;i=vS(i);let{month:d,day:m,year:Z}=i;return({month:d,day:m}=Ux(y?Z:1972,d,m,u)),H0(d,m,n,1972)},fields:r=>r,fieldKeysToIgnore(r){const t=new tM;for(let n=0;n<r.length;n++){const i=r[n];Bi(ld,t,[i]),"month"===i?Bi(ld,t,["monthCode"]):"monthCode"===i&&Bi(ld,t,["month"])}return[...Bi(l6,t,[])]},dateAdd(r,t,n,i,u,y,d){let m=tt(r,mi),Z=tt(r,bi),G=tt(r,Si);return({year:m,month:Z,day:G}=wy(m,Z,G,t,n,i,u,y)),If(m,Z,G,d)},dateUntil:(r,t,n)=>aS(tt(r,mi),tt(r,bi),tt(r,Si),tt(t,mi),tt(t,bi),tt(t,Si),n),year:r=>tt(r,mi),era(){},eraYear(){},month:r=>tt(r,bi),monthCode:r=>f0(tt(r,bi)),day:r=>tt(r,Si),dayOfWeek:r=>zg(tt(r,mi),tt(r,bi),tt(r,Si)),dayOfYear:r=>tS(tt(r,mi),tt(r,bi),tt(r,Si)),weekOfYear:r=>VC(tt(r,mi),tt(r,bi),tt(r,Si)).week,yearOfWeek:r=>VC(tt(r,mi),tt(r,bi),tt(r,Si)).year,daysInWeek:()=>7,daysInMonth:r=>pp(tt(r,mi),tt(r,bi)),daysInYear(r){let t=r;return Ml(t,mi)||(t=ha(t)),by(tt(t,mi))?366:365},monthsInYear:()=>12,inLeapYear(r){let t=r;return Ml(t,mi)||(t=ha(t)),by(tt(t,mi))}};class fc{constructor(t){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),void 0!==t){let n=0;for(const i of t.map.entries()){if(++n>fc.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(t){const n=this.map.get(t);return n&&(this.hits++,this.report()),this.calls++,n}set(t,n){this.map.set(t,n),this.misses++,this.report()}report(){}setObject(t){if(fc.objectMap.get(t))throw new RangeError("object already cached");fc.objectMap.set(t,this),this.report()}static getCacheForObject(t){let n=fc.objectMap.get(t);return n||(n=new fc,fc.objectMap.set(t,n)),n}}function d6({isoYear:r,isoMonth:t,isoDay:n}){return`${gy(r)}-${_a(t)}-${_a(n)}T00:00Z`}function F_(r,t){return{years:r.year-t.year,months:r.month-t.month,days:r.day-t.day}}fc.objectMap=new WeakMap,fc.MAX_CACHE_ENTRIES=1e3;class Vb{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return void 0===this.formatter&&(this.formatter=new a6(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(t,n){const{year:i,month:u,day:y}=t,d=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:u,isoDay:y,id:this.id}),m=n.get(d);if(m)return m;const Z=this.getFormatter();let G,k;try{k=d6({isoYear:i,isoMonth:u,isoDay:y}),G=Z.formatToParts(new Date(k))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:u,isoDay:y})}`)}const ie={};for(let{type:He,value:Ve}of G){if("year"===He&&(ie.eraYear=+Ve),"relatedYear"===He&&(ie.eraYear=+Ve),"month"===He){const qe=/^([0-9]*)(.*?)$/.exec(Ve);if(!qe||3!=qe.length||!qe[1]&&!qe[2])throw new RangeError(`Unexpected month: ${Ve}`);if(ie.month=qe[1]?+qe[1]:1,ie.month<1)throw new RangeError(`Invalid month ${Ve} from ${k}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(ie.month>13)throw new RangeError(`Invalid month ${Ve} from ${k}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);qe[2]&&(ie.monthExtra=qe[2])}"day"===He&&(ie.day=+Ve),this.hasEra&&"era"===He&&null!=Ve&&""!==Ve&&(Ve=Ve.split(" (")[0],ie.era=Ve.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(void 0===ie.eraYear)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:He,eraYear:Ve}=this.reviseIntlEra(ie,t);ie.era=He,ie.eraYear=Ve}this.checkIcuBugs&&this.checkIcuBugs(t);const Ue=this.adjustCalendarDate(ie,n,"constrain",!0);if(void 0===Ue.year)throw new RangeError(`Missing year converting ${JSON.stringify(t)}`);if(void 0===Ue.month)throw new RangeError(`Missing month converting ${JSON.stringify(t)}`);if(void 0===Ue.day)throw new RangeError(`Missing day converting ${JSON.stringify(t)}`);return n.set(d,Ue),["constrain","reject"].forEach(He=>{const Ve=JSON.stringify({func:"calendarToIsoDate",year:Ue.year,month:Ue.month,day:Ue.day,overflow:He,id:this.id});n.set(Ve,t)}),Ue}validateCalendarDate(t){const{era:n,month:i,year:u,day:y,eraYear:d,monthCode:m,monthExtra:Z}=t;if(void 0!==Z)throw new RangeError("Unexpected `monthExtra` value");if(void 0===u&&void 0===d)throw new TypeError("year or eraYear is required");if(void 0===i&&void 0===m)throw new TypeError("month or monthCode is required");if(void 0===y)throw new RangeError("Missing day");if(void 0!==m){if("string"!=typeof m)throw new RangeError("monthCode must be a string, not "+typeof m);if(!/^M([01]?\d)(L?)$/.test(m))throw new RangeError(`Invalid monthCode: ${m}`)}if(this.constantEra){if(void 0!==n&&n!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${n}`);if(void 0!==d&&void 0!==u&&d!==u)throw new RangeError(`eraYear ${d} does not match year ${u}`)}if(this.hasEra&&void 0===t.era!=(void 0===t.eraYear))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(t,n,i="constrain",u=!1){if("lunisolar"===this.calendarType)throw new RangeError("Override required for lunisolar calendars");let y=t;if(this.validateCalendarDate(y),this.constantEra){const{year:G,eraYear:k}=y;y={...y,era:this.constantEra,year:void 0!==G?G:k,eraYear:void 0!==k?k:G}}const d=this.monthsInYear(y,n);let{month:m,monthCode:Z}=y;return({month:m,monthCode:Z}=vS(y,i,d)),{...y,month:m,monthCode:Z}}regulateMonthDayNaive(t,n,i){const u=this.monthsInYear(t,i);let{month:y,day:d}=t;return"reject"===n?(cd(y,1,u),cd(d,1,this.maximumMonthLength(t))):(y=tf(y,1,u),d=tf(d,1,this.maximumMonthLength({...t,month:y}))),{...t,month:y,day:d}}calendarToIsoDate(t,n="constrain",i){const u=t;let y=this.adjustCalendarDate(t,i,n,!1);y=this.regulateMonthDayNaive(y,n,i);const{year:d,month:m,day:Z}=y,G=JSON.stringify({func:"calendarToIsoDate",year:d,month:m,day:Z,overflow:n,id:this.id});let k,ie=i.get(G);if(ie||void 0!==u.year&&void 0!==u.month&&void 0!==u.day&&(u.year!==y.year||u.month!==y.month||u.day!==y.day)&&(k=JSON.stringify({func:"calendarToIsoDate",year:u.year,month:u.month,day:u.day,overflow:n,id:this.id}),ie=i.get(k),ie))return ie;let Ue=this.estimateIsoDate({year:d,month:m,day:Z});const He=bt=>{let _t=this.addDaysIso(Ue,bt);if(y.day>this.minimumMonthLength(y)){let Ft=this.isoToCalendarDate(_t,i);for(;Ft.month!==m||Ft.year!==d;){if("reject"===n)throw new RangeError(`day ${Z} does not exist in month ${m} of year ${d}`);_t=this.addDaysIso(_t,-1),Ft=this.isoToCalendarDate(_t,i)}}return _t};let Ve=0,qe=this.isoToCalendarDate(Ue,i),pt=F_(y,qe);0===pt.years&&0===pt.months&&0===pt.days||(Ue=this.addDaysIso(Ue,365*pt.years+30*pt.months+pt.days),qe=this.isoToCalendarDate(Ue,i),pt=F_(y,qe),0===pt.years&&0===pt.months?Ue=He(pt.days):Ve=this.compareCalendarDates(y,qe));let At=8;for(;Ve;){Ue=this.addDaysIso(Ue,Ve*At);const bt=qe;qe=this.isoToCalendarDate(Ue,i);const _t=Ve;if(Ve=this.compareCalendarDates(y,qe),Ve)if(pt=F_(y,qe),0===pt.years&&0===pt.months)Ue=He(pt.days),Ve=0;else if(_t&&Ve!==_t)if(At>1)At/=2;else{if("reject"===n)throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...u})}`);this.compareCalendarDates(qe,bt)>0&&(Ue=this.addDaysIso(Ue,-1)),Ve=0}}if(i.set(G,Ue),k&&i.set(k,Ue),void 0===y.year||void 0===y.month||void 0===y.day||void 0===y.monthCode||this.hasEra&&(void 0===y.era||void 0===y.eraYear))throw new RangeError("Unexpected missing property");return Ue}temporalToCalendarDate(t,n){const i={year:tt(t,mi),month:tt(t,bi),day:tt(t,Si)};return this.isoToCalendarDate(i,n)}compareCalendarDates(t,n){const i=es(t,["day","month","year"],["day","month","year"]),u=es(n,["day","month","year"],["day","month","year"]);return i.year!==u.year?_y(i.year-u.year):i.month!==u.month?_y(i.month-u.month):i.day!==u.day?_y(i.day-u.day):0}regulateDate(t,n="constrain",i){const u=this.calendarToIsoDate(t,n,i);return this.isoToCalendarDate(u,i)}addDaysIso(t,n){return wy(t.year,t.month,t.day,0,0,0,n,"constrain")}addDaysCalendar(t,n,i){const u=this.calendarToIsoDate(t,"constrain",i),y=this.addDaysIso(u,n);return this.isoToCalendarDate(y,i)}addMonthsCalendar(t,n,i,u){let y=t;const{day:d}=y;for(let m=0,Z=RR(n);m<Z;m++){const{month:G}=y,k=y,ie=n<0?-Math.max(d,this.daysInPreviousMonth(y,u)):this.daysInMonth(y,u),Ue=this.calendarToIsoDate(y,"constrain",u);let He=this.addDaysIso(Ue,ie);if(y=this.isoToCalendarDate(He,u),n>0){const Ve=this.monthsInYear(k,u);for(;y.month-1!=G%Ve;)He=this.addDaysIso(He,-1),y=this.isoToCalendarDate(He,u)}y.day!==d&&(y=this.regulateDate({...y,day:d},"constrain",u))}if("reject"===i&&y.day!==d)throw new RangeError(`Day ${d} does not exist in resulting calendar month`);return y}addCalendar(t,{years:n=0,months:i=0,weeks:u=0,days:y=0},d,m){const{year:Z,day:G,monthCode:k}=t,ie=this.adjustCalendarDate({year:Z+n,monthCode:k,day:G},m),Ue=this.addMonthsCalendar(ie,i,d,m);return this.addDaysCalendar(Ue,y+7*u,m)}untilCalendar(t,n,i,u){let y=0,d=0,m=0,Z=0;switch(i){case"day":y=this.calendarDaysUntil(t,n,u);break;case"week":{const G=this.calendarDaysUntil(t,n,u);y=G%7,d=(G-y)/7;break}case"month":case"year":{const G=this.compareCalendarDates(n,t);if(!G)return{years:0,months:0,weeks:0,days:0};const k=n.year-t.year;if("year"===i&&k){let Ve=0;n.monthCode>t.monthCode&&(Ve=1),n.monthCode<t.monthCode&&(Ve=-1),Ve||(Ve=Math.sign(n.day-t.day)),Z=Ve*G<0?k-G:k}let Ue,He=Z?this.addCalendar(t,{years:Z},"constrain",u):t;do{m+=G,Ue=He,He=this.addMonthsCalendar(Ue,G,"constrain",u),He.day!==t.day&&(He=this.regulateDate({...He,day:t.day},"constrain",u))}while(this.compareCalendarDates(n,He)*G>=0);m-=G,y=this.calendarDaysUntil(Ue,n,u);break}}return{years:Z,months:m,weeks:d,days:y}}daysInMonth(t,n){const{day:i}=t,u=this.maximumMonthLength(t),y=this.minimumMonthLength(t);if(y===u)return y;const d=i<=u-y?u:y,m=this.calendarToIsoDate(t,"constrain",n),Z=this.addDaysIso(m,d),G=this.isoToCalendarDate(Z,n),k=this.addDaysIso(Z,-G.day);return this.isoToCalendarDate(k,n).day}daysInPreviousMonth(t,n){const{day:i,month:u,year:y}=t;let d={year:u>1?y:y-1,month:u,day:1};const m=u>1?u-1:this.monthsInYear(d,n);d={...d,month:m};const Z=this.minimumMonthLength(d),G=this.maximumMonthLength(d);if(Z===G)return G;const k=this.calendarToIsoDate(t,"constrain",n),ie=this.addDaysIso(k,-i);return this.isoToCalendarDate(ie,n).day}startOfCalendarYear(t){return{year:t.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(t){return{year:t.year,month:t.month,day:1}}calendarDaysUntil(t,n,i){const u=this.calendarToIsoDate(t,"constrain",i),y=this.calendarToIsoDate(n,"constrain",i);return this.isoDaysUntil(u,y)}isoDaysUntil(t,n){return aS(t.year,t.month,t.day,n.year,n.month,n.day,"day").days}monthDayFromFields(t,n,i){let u,y,d,m,Z,{monthCode:G,day:k}=t;if(void 0===G){let{year:He,era:Ve,eraYear:qe}=t;if(void 0===He&&(void 0===Ve||void 0===qe))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:G,day:k}=this.isoToCalendarDate(this.calendarToIsoDate(t,n,i),i))}const ie=this.isoToCalendarDate({year:1972,month:12,day:31},i),Ue=ie.monthCode>G||ie.monthCode===G&&ie.day>=k?ie.year:ie.year-1;for(let He=0;He<100;He++){const Ve=this.adjustCalendarDate({day:k,monthCode:G,year:Ue-He},i),qe=this.calendarToIsoDate(Ve,"constrain",i),pt=this.isoToCalendarDate(qe,i);if(({year:u,month:y,day:d}=qe),pt.monthCode===G&&pt.day===k)return{month:y,day:d,year:u};"constrain"===n&&(void 0===m||pt.monthCode===m.monthCode&&pt.day>m.day)&&(m=pt,Z=qe)}if("constrain"===n&&void 0!==Z)return Z;throw new RangeError(`No recent ${this.id} year with monthCode ${G} and day ${k}`)}}class u6 extends Vb{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(t){const{year:n}=t;return(7*n+1)%19<7}monthsInYear(t){return this.inLeapYear(t)?13:12}minimumMonthLength(t){return this.minMaxMonthLength(t,"min")}maximumMonthLength(t){return this.minMaxMonthLength(t,"max")}minMaxMonthLength(t,n){const{month:i,year:u}=t,y=this.getMonthCode(u,i),d=yS(this.months).find(Z=>Z[1].monthCode===y);if(void 0===d)throw new RangeError(`unmatched Hebrew month: ${i}`);const m=d[1].days;return"number"==typeof m?m:m[n]}estimateIsoDate(t){const{year:n}=t;return{year:n-3760,month:1,day:1}}getMonthCode(t,n){return this.inLeapYear({year:t})?6===n?f0(5,!0):f0(n<6?n:n-1):f0(n)}adjustCalendarDate(t,n,i="constrain",u=!1){let{year:y,eraYear:d,month:m,monthCode:Z,day:G,monthExtra:k}=t;if(void 0===y&&void 0!==d&&(y=d),void 0===d&&void 0!==y&&(d=y),u){if(k){const ie=this.months[k];if(!ie)throw new RangeError(`Unrecognized month from formatToParts: ${k}`);m=this.inLeapYear({year:y})?ie.leap:ie.regular}return Z=this.getMonthCode(y,m),{year:y,month:m,day:G,era:void 0,eraYear:d,monthCode:Z}}if(this.validateCalendarDate(t),void 0===m)if(Z.endsWith("L")){if("M05L"!==Z)throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${Z}`);if(m=6,!this.inLeapYear({year:y})){if("reject"===i)throw new RangeError(`Hebrew monthCode M05L is invalid in year ${y} which is not a leap year`);m=6,Z="M06"}}else{m=gS(Z),this.inLeapYear({year:y})&&m>=6&&m++;const ie=this.monthsInYear({year:y});if(m<1||m>ie)throw new RangeError(`Invalid monthCode: ${Z}`)}else if("reject"===i?(cd(m,1,this.monthsInYear({year:y})),cd(G,1,this.maximumMonthLength({year:y,month:m}))):(m=tf(m,1,this.monthsInYear({year:y})),G=tf(G,1,this.maximumMonthLength({year:y,month:m}))),void 0===Z)Z=this.getMonthCode(y,m);else if(this.getMonthCode(y,m)!==Z)throw new RangeError(`monthCode ${Z} doesn't correspond to month ${m} in Hebrew year ${y}`);return{...t,day:G,month:m,monthCode:Z,year:y,eraYear:d}}}class zb extends Vb{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(t,n){return 30===this.daysInMonth({year:t.year,month:12,day:1},n)}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:L_(n*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class f6 extends zb{constructor(){super(...arguments),this.id="islamic"}}class OR extends zb{constructor(){super(...arguments),this.id="islamic-umalqura"}}class PR extends zb{constructor(){super(...arguments),this.id="islamic-tbla"}}class kR extends zb{constructor(){super(...arguments),this.id="islamic-civil"}}class BR extends zb{constructor(){super(...arguments),this.id="islamic-rgsa"}}class NR extends zb{constructor(){super(...arguments),this.id="islamicc"}}class LR extends Vb{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(t,n){return f6.prototype.inLeapYear.call(this,t,n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 12===n?29:n<=6?31:30}maximumMonthLength(t){const{month:n}=t;return 12===n?30:n<=6?31:30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:n+621,month:1,day:1}}}class h6 extends Vb{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug="10/11/-79 Saka"!==new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})}inLeapYear(t){return nM(t.year+78)}monthsInYear(){return 12}minimumMonthLength(t){return this.getMonthInfo(t).length}maximumMonthLength(t){return this.getMonthInfo(t).length}getMonthInfo(t){const{month:n}=t;let i=this.months[n];if(void 0===i)throw new RangeError(`Invalid month: ${n}`);return this.inLeapYear(t)&&i.leap&&(i=i.leap),i}estimateIsoDate(t){const n=this.adjustCalendarDate(t),i=this.getMonthInfo(n);return wy(n.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,n.day-1,"constrain")}checkIcuBugs(t){if(this.vulnerableToBceBug&&t.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function nM(r){return r%4==0&&(r%100!=0||r%400==0)}class Hb extends Vb{constructor(t,n){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=t;const{eras:i,anchorEra:u}=function(d){let m,Z=d;if(0===Z.length)throw new RangeError("Invalid era data: eras are required");if(1===Z.length&&Z[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(1===Z.length&&!Z[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(Z.filter(k=>null!=k.reverseOf).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");Z.forEach(k=>{if(k.isAnchor||!k.anchorEpoch&&!k.reverseOf){if(m)throw new RangeError("Invalid era data: cannot have multiple anchor eras");m=k,k.anchorEpoch={year:k.hasYearZero?0:1}}else if(!k.name)throw new RangeError("If era name is blank, it must be the anchor era")}),Z=Z.filter(k=>k.name),Z.forEach(k=>{const{reverseOf:ie}=k;if(ie){const Ue=Z.find(He=>He.name===ie);if(void 0===Ue)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${ie}`);k.reverseOf=Ue,k.anchorEpoch=Ue.anchorEpoch,k.isoEpoch=Ue.isoEpoch}void 0===k.anchorEpoch.month&&(k.anchorEpoch.month=1),void 0===k.anchorEpoch.day&&(k.anchorEpoch.day=1)}),DR.call(Z,(k,ie)=>{if(k.reverseOf)return 1;if(ie.reverseOf)return-1;if(!k.isoEpoch||!ie.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return ie.isoEpoch.year-k.isoEpoch.year});const G=Z[Z.length-1].reverseOf;if(G&&G!==Z[Z.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return Z.forEach((k,ie)=>{k.genericName="era"+(Z.length-1-ie)}),{eras:Z,anchorEra:m||Z[0]}}(n);this.anchorEra=u,this.eras=i}inLeapYear(t){const{year:n}=this.estimateIsoDate({month:1,day:1,year:t.year});return nM(n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 2===n?this.inLeapYear(t)?29:28:[4,6,9,11].indexOf(n)>=0?30:31}maximumMonthLength(t){return this.minimumMonthLength(t)}completeEraYear(t){const n=(m,Z)=>{const G=t[m];if(null!=G&&G!=Z)throw new RangeError(`Input ${m} ${G} doesn't match calculated value ${Z}`)},i=m=>{let Z;const G={...t,year:m},k=this.eras.find((ie,Ue)=>{if(Ue===this.eras.length-1){if(ie.reverseOf){if(m>0)throw new RangeError(`Signed year ${m} is invalid for era ${ie.name}`);return Z=ie.anchorEpoch.year-m,!0}return Z=m-ie.anchorEpoch.year+(ie.hasYearZero?0:1),!0}return this.compareCalendarDates(G,ie.anchorEpoch)>=0&&(Z=m-ie.anchorEpoch.year+(ie.hasYearZero?0:1),!0)});if(!k)throw new RangeError(`Year ${m} was not matched by any era`);return{eraYear:Z,era:k.name}};let{year:u,eraYear:y,era:d}=t;if(null!=u)({eraYear:y,era:d}=i(u)),n("era",d),n("eraYear",y);else{if(null==y)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const m=void 0===d?void 0:this.eras.find(Z=>Z.name===d||Z.genericName===d);if(!m)throw new RangeError(`Era ${d} (ISO year ${y}) was not matched by any era`);if(y<1&&m.reverseOf)throw new RangeError(`Years in ${d} era must be positive, not ${u}`);u=m.reverseOf?m.anchorEpoch.year-y:y+m.anchorEpoch.year-(m.hasYearZero?0:1),n("year",u),({eraYear:y,era:d}=i(u))}}return{...t,year:u,eraYear:y,era:d}}adjustCalendarDate(t,n,i="constrain"){let u=t;const{month:y,monthCode:d}=u;return void 0===y&&(u={...u,month:gS(d)}),this.validateCalendarDate(u),u=this.completeEraYear(u),super.adjustCalendarDate(u,n,i)}estimateIsoDate(t){const n=this.adjustCalendarDate(t),{year:i,month:u,day:y}=n,{anchorEra:d}=this;return Ux(i+d.isoEpoch.year-(d.hasYearZero?0:1),u,y,"constrain")}checkIcuBugs(t){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&a0(t.year,t.month,t.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class rM extends Hb{constructor(t,n){super(t,n)}inLeapYear(t){const{year:n}=t;return(n+1)%4==0}monthsInYear(){return 13}minimumMonthLength(t){const{month:n}=t;return 13===n?this.inLeapYear(t)?6:5:30}maximumMonthLength(t){return this.minimumMonthLength(t)}}class p6 extends rM{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class FR extends rM{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class UR extends rM{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class m6 extends Hb{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class y6 extends Hb{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class iM extends Hb{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(t){let{era:n,eraYear:i}=t;return"bc"!==n&&"b"!==n||(n="bce"),"ad"!==n&&"a"!==n||(n="ce"),{era:n,eraYear:i}}}class oM extends Hb{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(t,n){const{era:i,eraYear:u}=t,{year:y}=n;return this.eras.find(d=>d.name===i)?{era:i,eraYear:u}:y<1?{era:"bce",eraYear:1-y}:{era:"ce",eraYear:y}}}class g6 extends Vb{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(t,n){const i=this.getMonthList(t.year,n);return 13===yS(i).length}monthsInYear(t,n){return this.inLeapYear(t,n)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(t,n){if(void 0===t)throw new TypeError("Missing year");const i=JSON.stringify({func:"getMonthList",calendarYear:t,id:this.id}),u=n.get(i);if(u)return u;const y=this.getFormatter(),d=(pt,At)=>{const bt=d6({isoYear:pt,isoMonth:2,isoDay:1}),_t=new Date(bt);_t.setUTCDate(At+1);const Ft=y.formatToParts(_t),Xt=Ft.find(ln=>"month"===ln.type).value,Ht=+Ft.find(ln=>"day"===ln.type).value;let on=Ft.find(ln=>"relatedYear"===ln.type);if(void 0===on)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return on=+on.value,{calendarMonthString:Xt,calendarDay:Ht,calendarYearToVerify:on}};let m=17,{calendarMonthString:Z,calendarDay:G,calendarYearToVerify:k}=d(t,m);"1"!==Z&&(m+=29,({calendarMonthString:Z,calendarDay:G}=d(t,m))),m-=G-5;const ie={};let Ue,He,Ve=1,qe=!1;do{({calendarMonthString:Z,calendarDay:G,calendarYearToVerify:k}=d(t,m)),Ue&&(ie[He].daysInMonth=Ue+30-G),k!==t?qe=!0:(ie[Z]={monthIndex:Ve++},m+=30),Ue=G,He=Z}while(!qe);return ie[He].daysInMonth=Ue+30-G,n.set(i,ie),ie}estimateIsoDate(t){const{year:n,month:i}=t;return{year:n,month:i>=12?12:i+1,day:1}}adjustCalendarDate(t,n,i="constrain",u=!1){let{year:y,month:d,monthExtra:m,day:Z,monthCode:G,eraYear:k}=t;if(u){if(y=k,m&&"bis"!==m)throw new RangeError(`Unexpected leap month suffix: ${m}`);const ie=f0(d,void 0!==m),Ue=`${d}${m||""}`,He=this.getMonthList(y,n)[Ue];if(void 0===He)throw new RangeError(`Unmatched month ${Ue} in Chinese year ${y}`);return d=He.monthIndex,{year:y,month:d,day:Z,era:void 0,eraYear:k,monthCode:ie}}if(this.validateCalendarDate(t),void 0===y&&(y=k),void 0===k&&(k=y),void 0===d){const ie=this.getMonthList(y,n);let Ue=G.replace("L","bis").slice(1);"0"===Ue[0]&&(Ue=Ue.slice(1));let He=ie[Ue];if(d=He&&He.monthIndex,void 0===d&&G.endsWith("L")&&"M13L"!=G&&"constrain"===i){let Ve=G.slice(1,-1);"0"===Ve[0]&&(Ve=Ve.slice(1)),He=ie[Ve],He&&(d=He.monthIndex,G=f0(Ve))}if(void 0===d)throw new RangeError(`Unmatched month ${G} in Chinese year ${y}`)}else if(void 0===G){const ie=this.getMonthList(y,n),Ue=yS(ie),He=Ue.length;"reject"===i?(cd(d,1,He),cd(Z,1,this.maximumMonthLength())):(d=tf(d,1,He),Z=tf(Z,1,this.maximumMonthLength()));const Ve=Ue.find(([,qe])=>qe.monthIndex===d);if(void 0===Ve)throw new RangeError(`Invalid month ${d} in Chinese year ${y}`);G=f0(Ve[0].replace("bis",""),-1!==Ve[0].indexOf("bis"))}else{const ie=this.getMonthList(y,n);let Ue=G.replace("L","bis").slice(1);"0"===Ue[0]&&(Ue=Ue.slice(1));const He=ie[Ue];if(!He)throw new RangeError(`Unmatched monthCode ${G} in Chinese year ${y}`);if(d!==He.monthIndex)throw new RangeError(`monthCode ${G} doesn't correspond to month ${d} in Chinese year ${y}`)}return{...t,year:y,eraYear:k,month:d,monthCode:G,day:Z}}}class sM extends g6{constructor(){super(...arguments),this.id="chinese"}}class v6 extends g6{constructor(){super(...arguments),this.id="dangi"}}class b6{constructor(t){this.helper=t}dateFromFields(t,n,i){const u=new fc,y=es(t,this.fields(["day","month","monthCode","year"]),[]),d=Bc(n),{year:m,month:Z,day:G}=this.helper.calendarToIsoDate(y,d,u),k=If(m,Z,G,i);return u.setObject(k),k}yearMonthFromFields(t,n,i){const u=new fc,y=es(t,this.fields(["month","monthCode","year"]),[]),d=Bc(n),{year:m,month:Z,day:G}=this.helper.calendarToIsoDate({...y,day:1},d,u),k=Qp(m,Z,i,G);return u.setObject(k),k}monthDayFromFields(t,n,i){const u=new fc,y=es(t,this.fields(["day","month","monthCode","year"]),[]),d=Bc(n),{year:m,month:Z,day:G}=this.helper.monthDayFromFields(y,d,u),k=H0(Z,G,i,m);return u.setObject(k),k}fields(t){let n=t;return IR.call(n,"year")&&(n=[...n,"era","eraYear"]),n}fieldKeysToIgnore(t){const n=new tM;for(let i=0;i<t.length;i++){const u=t[i];switch(Bi(ld,n,[u]),u){case"era":Bi(ld,n,["eraYear"]),Bi(ld,n,["year"]);break;case"eraYear":Bi(ld,n,["era"]),Bi(ld,n,["year"]);break;case"year":Bi(ld,n,["era"]),Bi(ld,n,["eraYear"]);break;case"month":Bi(ld,n,["monthCode"]),this.helper.erasBeginMidYear&&(Bi(ld,n,["era"]),Bi(ld,n,["eraYear"]));break;case"monthCode":Bi(ld,n,["month"]),this.helper.erasBeginMidYear&&(Bi(ld,n,["era"]),Bi(ld,n,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(Bi(ld,n,["era"]),Bi(ld,n,["eraYear"]))}}return[...Bi(l6,n,[])]}dateAdd(t,n,i,u,y,d,m){const Z=fc.getCacheForObject(t),G=this.helper.temporalToCalendarDate(t,Z),k=this.helper.addCalendar(G,{years:n,months:i,weeks:u,days:y},d,Z),ie=this.helper.calendarToIsoDate(k,"constrain",Z),{year:Ue,month:He,day:Ve}=ie,qe=If(Ue,He,Ve,m);return new fc(Z).setObject(qe),qe}dateUntil(t,n,i){const u=fc.getCacheForObject(t),y=fc.getCacheForObject(n),d=this.helper.temporalToCalendarDate(t,u),m=this.helper.temporalToCalendarDate(n,y);return this.helper.untilCalendar(d,m,i,u)}year(t){const n=fc.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).year}month(t){const n=fc.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).month}day(t){const n=fc.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).day}era(t){if(!this.helper.hasEra)return;const n=fc.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).era}eraYear(t){if(!this.helper.hasEra)return;const n=fc.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).eraYear}monthCode(t){const n=fc.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).monthCode}dayOfWeek(t){return Pa.iso8601.dayOfWeek(t)}dayOfYear(t){const n=fc.getCacheForObject(t),i=this.helper.isoToCalendarDate(t,n),u=this.helper.startOfCalendarYear(i);return this.helper.calendarDaysUntil(u,i,n)+1}weekOfYear(t){return Pa.iso8601.weekOfYear(t)}yearOfWeek(t){return Pa.iso8601.yearOfWeek(t)}daysInWeek(t){return Pa.iso8601.daysInWeek(t)}daysInMonth(t){const n=fc.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n),u=this.helper.maximumMonthLength(i);if(u===this.helper.minimumMonthLength(i))return u;const y=this.helper.startOfCalendarMonth(i),d=this.helper.addMonthsCalendar(y,1,"constrain",n);return this.helper.calendarDaysUntil(y,d,n)}daysInYear(t){let n=t;Ml(n,mi)||(n=ha(n));const i=fc.getCacheForObject(n),u=this.helper.temporalToCalendarDate(n,i),y=this.helper.startOfCalendarYear(u),d=this.helper.addCalendar(y,{years:1},"constrain",i);return this.helper.calendarDaysUntil(y,d,i)}monthsInYear(t){const n=fc.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n);return this.helper.monthsInYear(i,n)}inLeapYear(t){let n=t;Ml(n,mi)||(n=ha(n));const i=fc.getCacheForObject(n),u=this.helper.temporalToCalendarDate(n,i);return this.helper.inLeapYear(u,i)}}for(const r of[u6,LR,UR,p6,FR,sM,v6,m6,h6,y6,iM,oM,f6,OR,PR,kR,BR,NR]){const t=new r;Pa[t.id]=new b6(t)}class bS{constructor(t,n,i,u="iso8601"){BD(this,Ss(t),Ss(n),Ss(i),Pd(u))}get calendarId(){if(!Zo(this))throw new TypeError("invalid receiver");return ad(tt(this,gr))}get era(){if(!Zo(this))throw new TypeError("invalid receiver");return X0(tt(this,gr),this)}get eraYear(){if(!Zo(this))throw new TypeError("invalid receiver");return Z0(tt(this,gr),this)}get year(){if(!Zo(this))throw new TypeError("invalid receiver");return W0(tt(this,gr),this)}get month(){if(!Zo(this))throw new TypeError("invalid receiver");return G0(tt(this,gr),this)}get monthCode(){if(!Zo(this))throw new TypeError("invalid receiver");return e0(tt(this,gr),this)}get day(){if(!Zo(this))throw new TypeError("invalid receiver");return t0(tt(this,gr),this)}get dayOfWeek(){if(!Zo(this))throw new TypeError("invalid receiver");return Hx(tt(this,gr),this)}get dayOfYear(){if(!Zo(this))throw new TypeError("invalid receiver");return Wx(tt(this,gr),this)}get weekOfYear(){if(!Zo(this))throw new TypeError("invalid receiver");return Gx(tt(this,gr),this)}get yearOfWeek(){if(!Zo(this))throw new TypeError("invalid receiver");return Xx(tt(this,gr),this)}get daysInWeek(){if(!Zo(this))throw new TypeError("invalid receiver");return Zx(tt(this,gr),this)}get daysInMonth(){if(!Zo(this))throw new TypeError("invalid receiver");return y_(tt(this,gr),this)}get daysInYear(){if(!Zo(this))throw new TypeError("invalid receiver");return g_(tt(this,gr),this)}get monthsInYear(){if(!Zo(this))throw new TypeError("invalid receiver");return v_(tt(this,gr),this)}get inLeapYear(){if(!Zo(this))throw new TypeError("invalid receiver");return b_(tt(this,gr),this)}with(t,n){if(!Zo(this))throw new TypeError("invalid receiver");if(!Xo(t))throw new TypeError("invalid argument");Lg(t);const i=vs(n),u=tt(this,gr),y=Nc(u,["day","month","monthCode","year"]);let d=es(this,y,[]);return d=kh(u,d,es(t,y,"partial")),d=es(d,y,[]),Y0(u,d,i)}withCalendar(t){if(!Zo(this))throw new TypeError("invalid receiver");const n=Pd(t);return new bS(tt(this,mi),tt(this,bi),tt(this,Si),n)}add(t,n){if(!Zo(this))throw new TypeError("invalid receiver");const i=Rb(t),u=vs(n);return zc(tt(this,gr),this,i,u)}subtract(t,n){if(!Zo(this))throw new TypeError("invalid receiver");const i=HD(Rb(t)),u=vs(n);return zc(tt(this,gr),this,i,u)}until(t,n){if(!Zo(this))throw new TypeError("invalid receiver");return ZD("until",this,t,n)}since(t,n){if(!Zo(this))throw new TypeError("invalid receiver");return ZD("since",this,t,n)}equals(t){if(!Zo(this))throw new TypeError("invalid receiver");const n=ha(t);for(const i of[mi,bi,Si])if(tt(this,i)!==tt(n,i))return!1;return Vg(tt(this,gr),tt(n,gr))}toString(t){if(!Zo(this))throw new TypeError("invalid receiver");return jD(this,Fg(vs(t)))}toJSON(){if(!Zo(this))throw new TypeError("invalid receiver");return jD(this)}toLocaleString(t,n){if(!Zo(this))throw new TypeError("invalid receiver");return new nm(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(t){if(!Zo(this))throw new TypeError("invalid receiver");const n=tt(this,mi),i=tt(this,bi),u=tt(this,Si),y=tt(this,gr);if(void 0===t)return Ou(n,i,u,0,0,0,0,0,0,y);const d=qp(t);return Ou(n,i,u,tt(d,Uo),tt(d,zo),tt(d,Ho),tt(d,Go),tt(d,jo),tt(d,Wo),y)}toZonedDateTime(t){if(!Zo(this))throw new TypeError("invalid receiver");let n,i;if(Xo(t))if(Ru(t))n=t;else{const Ve=t.timeZone;void 0===Ve?n=du(t):(n=du(Ve),i=t.plainTime)}else n=du(t);const u=tt(this,mi),y=tt(this,bi),d=tt(this,Si),m=tt(this,gr);let Z=0,G=0,k=0,ie=0,Ue=0,He=0;return void 0!==i&&(i=qp(i),Z=tt(i,Uo),G=tt(i,zo),k=tt(i,Ho),ie=tt(i,Go),Ue=tt(i,jo),He=tt(i,Wo)),Vc(tt(kd(n,Ou(u,y,d,Z,G,k,ie,Ue,He,m),"compatible"),eo),n,m)}toPlainYearMonth(){if(!Zo(this))throw new TypeError("invalid receiver");const t=tt(this,gr);return J0(t,es(this,Nc(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Zo(this))throw new TypeError("invalid receiver");const t=tt(this,gr);return w_(t,es(this,Nc(t,["day","monthCode"]),[]))}getISOFields(){if(!Zo(this))throw new TypeError("invalid receiver");return{calendar:tt(this,gr),isoDay:tt(this,Si),isoMonth:tt(this,bi),isoYear:tt(this,mi)}}getCalendar(){if(!Zo(this))throw new TypeError("invalid receiver");return Pb(tt(this,gr))}static from(t,n){const i=vs(n);return Zo(t)?(Bc(i),If(tt(t,mi),tt(t,bi),tt(t,Si),tt(t,gr))):ha(t,i)}static compare(t,n){const i=ha(t),u=ha(n);return a0(tt(i,mi),tt(i,bi),tt(i,Si),tt(u,mi),tt(u,bi),tt(u,Si))}}V0(bS,"Temporal.PlainDate");class Wb{constructor(t,n,i,u=0,y=0,d=0,m=0,Z=0,G=0,k="iso8601"){ND(this,Ss(t),Ss(n),Ss(i),void 0===u?0:Ss(u),void 0===y?0:Ss(y),void 0===d?0:Ss(d),void 0===m?0:Ss(m),void 0===Z?0:Ss(Z),void 0===G?0:Ss(G),Pd(k))}get calendarId(){if(!Ro(this))throw new TypeError("invalid receiver");return ad(tt(this,gr))}get year(){if(!Ro(this))throw new TypeError("invalid receiver");return W0(tt(this,gr),this)}get month(){if(!Ro(this))throw new TypeError("invalid receiver");return G0(tt(this,gr),this)}get monthCode(){if(!Ro(this))throw new TypeError("invalid receiver");return e0(tt(this,gr),this)}get day(){if(!Ro(this))throw new TypeError("invalid receiver");return t0(tt(this,gr),this)}get hour(){if(!Ro(this))throw new TypeError("invalid receiver");return tt(this,Uo)}get minute(){if(!Ro(this))throw new TypeError("invalid receiver");return tt(this,zo)}get second(){if(!Ro(this))throw new TypeError("invalid receiver");return tt(this,Ho)}get millisecond(){if(!Ro(this))throw new TypeError("invalid receiver");return tt(this,Go)}get microsecond(){if(!Ro(this))throw new TypeError("invalid receiver");return tt(this,jo)}get nanosecond(){if(!Ro(this))throw new TypeError("invalid receiver");return tt(this,Wo)}get era(){if(!Ro(this))throw new TypeError("invalid receiver");return X0(tt(this,gr),this)}get eraYear(){if(!Ro(this))throw new TypeError("invalid receiver");return Z0(tt(this,gr),this)}get dayOfWeek(){if(!Ro(this))throw new TypeError("invalid receiver");return Hx(tt(this,gr),this)}get dayOfYear(){if(!Ro(this))throw new TypeError("invalid receiver");return Wx(tt(this,gr),this)}get weekOfYear(){if(!Ro(this))throw new TypeError("invalid receiver");return Gx(tt(this,gr),this)}get yearOfWeek(){if(!Ro(this))throw new TypeError("invalid receiver");return Xx(tt(this,gr),this)}get daysInWeek(){if(!Ro(this))throw new TypeError("invalid receiver");return Zx(tt(this,gr),this)}get daysInYear(){if(!Ro(this))throw new TypeError("invalid receiver");return g_(tt(this,gr),this)}get daysInMonth(){if(!Ro(this))throw new TypeError("invalid receiver");return y_(tt(this,gr),this)}get monthsInYear(){if(!Ro(this))throw new TypeError("invalid receiver");return v_(tt(this,gr),this)}get inLeapYear(){if(!Ro(this))throw new TypeError("invalid receiver");return b_(tt(this,gr),this)}with(t,n){if(!Ro(this))throw new TypeError("invalid receiver");if(!Xo(t))throw new TypeError("invalid argument");Lg(t);const i=vs(n),u=tt(this,gr),y=Nc(u,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let d=es(this,y,[]);d=kh(u,d,es(t,y,"partial")),d=es(d,y,[]);const{year:m,month:Z,day:G,hour:k,minute:ie,second:Ue,millisecond:He,microsecond:Ve,nanosecond:qe}=m_(u,d,i);return Ou(m,Z,G,k,ie,Ue,He,Ve,qe,u)}withPlainTime(t){if(!Ro(this))throw new TypeError("invalid receiver");const n=tt(this,mi),i=tt(this,bi),u=tt(this,Si),y=tt(this,gr);if(void 0===t)return Ou(n,i,u,0,0,0,0,0,0,y);const d=qp(t);return Ou(n,i,u,tt(d,Uo),tt(d,zo),tt(d,Ho),tt(d,Go),tt(d,jo),tt(d,Wo),y)}withPlainDate(t){if(!Ro(this))throw new TypeError("invalid receiver");const n=ha(t),i=tt(n,mi),u=tt(n,bi),y=tt(n,Si);let d=tt(n,gr);const m=tt(this,Uo),Z=tt(this,zo),G=tt(this,Ho),k=tt(this,Go),ie=tt(this,jo),Ue=tt(this,Wo);return d=Yx(tt(this,gr),d),Ou(i,u,y,m,Z,G,k,ie,Ue,d)}withCalendar(t){if(!Ro(this))throw new TypeError("invalid receiver");const n=Pd(t);return new Wb(tt(this,mi),tt(this,bi),tt(this,Si),tt(this,Uo),tt(this,zo),tt(this,Ho),tt(this,Go),tt(this,jo),tt(this,Wo),n)}add(t,n){if(!Ro(this))throw new TypeError("invalid receiver");return dS("add",this,t,n)}subtract(t,n){if(!Ro(this))throw new TypeError("invalid receiver");return dS("subtract",this,t,n)}until(t,n){if(!Ro(this))throw new TypeError("invalid receiver");return WC("until",this,t,n)}since(t,n){if(!Ro(this))throw new TypeError("invalid receiver");return WC("since",this,t,n)}round(t){if(!Ro(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?P_("smallestUnit",t):vs(t),i=yy(n),u=Jp(n,"halfExpand"),y=ef(n,"smallestUnit","time",Ug,["day"]),d={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[y];Db(i,d,1===d);let m=tt(this,mi),Z=tt(this,bi),G=tt(this,Si),k=tt(this,Uo),ie=tt(this,zo),Ue=tt(this,Ho),He=tt(this,Go),Ve=tt(this,jo),qe=tt(this,Wo);return({year:m,month:Z,day:G,hour:k,minute:ie,second:Ue,millisecond:He,microsecond:Ve,nanosecond:qe}=Lb(m,Z,G,k,ie,Ue,He,Ve,qe,i,y,u)),Ou(m,Z,G,k,ie,Ue,He,Ve,qe,tt(this,gr))}equals(t){if(!Ro(this))throw new TypeError("invalid receiver");const n=$g(t);for(const i of[mi,bi,Si,Uo,zo,Ho,Go,jo,Wo])if(tt(this,i)!==tt(n,i))return!1;return Vg(tt(this,gr),tt(n,gr))}toString(t){if(!Ro(this))throw new TypeError("invalid receiver");const n=vs(t),i=Fg(n),u=h_(n),y=Jp(n,"trunc"),d=ef(n,"smallestUnit","time",void 0);if("hour"===d)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:m,unit:Z,increment:G}=p_(d,u);return UC(this,m,i,{unit:Z,increment:G,roundingMode:y})}toJSON(){if(!Ro(this))throw new TypeError("invalid receiver");return UC(this,"auto")}toLocaleString(t,n){if(!Ro(this))throw new TypeError("invalid receiver");return new nm(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(t,n){if(!Ro(this))throw new TypeError("invalid receiver");const i=du(t);return Vc(tt(kd(i,this,Tb(vs(n))),eo),i,tt(this,gr))}toPlainDate(){if(!Ro(this))throw new TypeError("invalid receiver");return kb(this)}toPlainYearMonth(){if(!Ro(this))throw new TypeError("invalid receiver");const t=tt(this,gr);return J0(t,es(this,Nc(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Ro(this))throw new TypeError("invalid receiver");const t=tt(this,gr);return w_(t,es(this,Nc(t,["day","monthCode"]),[]))}toPlainTime(){if(!Ro(this))throw new TypeError("invalid receiver");return Tl(this)}getISOFields(){if(!Ro(this))throw new TypeError("invalid receiver");return{calendar:tt(this,gr),isoDay:tt(this,Si),isoHour:tt(this,Uo),isoMicrosecond:tt(this,jo),isoMillisecond:tt(this,Go),isoMinute:tt(this,zo),isoMonth:tt(this,bi),isoNanosecond:tt(this,Wo),isoSecond:tt(this,Ho),isoYear:tt(this,mi)}}getCalendar(){if(!Ro(this))throw new TypeError("invalid receiver");return Pb(tt(this,gr))}static from(t,n){const i=vs(n);return Ro(t)?(Bc(i),Ou(tt(t,mi),tt(t,bi),tt(t,Si),tt(t,Uo),tt(t,zo),tt(t,Ho),tt(t,Go),tt(t,jo),tt(t,Wo),tt(t,gr))):$g(t,i)}static compare(t,n){const i=$g(t),u=$g(n);for(const y of[mi,bi,Si,Uo,zo,Ho,Go,jo,Wo]){const d=tt(i,y),m=tt(u,y);if(d!==m)return _y(d-m)}return 0}}V0(Wb,"Temporal.PlainDateTime");class xy{constructor(t=0,n=0,i=0,u=0,y=0,d=0,m=0,Z=0,G=0,k=0){const ie=void 0===t?0:ul(t),Ue=void 0===n?0:ul(n),He=void 0===i?0:ul(i),Ve=void 0===u?0:ul(u),qe=void 0===y?0:ul(y),pt=void 0===d?0:ul(d),At=void 0===m?0:ul(m),bt=void 0===Z?0:ul(Z),_t=void 0===G?0:ul(G),Ft=void 0===k?0:ul(k);Nb(ie,Ue,He,Ve,qe,pt,At,bt,_t,Ft),Gp(this),$o(this,su,ie),$o(this,od,Ue),$o(this,Qu,He),$o(this,Su,Ve),$o(this,Au,qe),$o(this,Cu,pt),$o(this,Mu,At),$o(this,au,bt),$o(this,ll,_t),$o(this,Cl,Ft)}get years(){if(!Ja(this))throw new TypeError("invalid receiver");return tt(this,su)}get months(){if(!Ja(this))throw new TypeError("invalid receiver");return tt(this,od)}get weeks(){if(!Ja(this))throw new TypeError("invalid receiver");return tt(this,Qu)}get days(){if(!Ja(this))throw new TypeError("invalid receiver");return tt(this,Su)}get hours(){if(!Ja(this))throw new TypeError("invalid receiver");return tt(this,Au)}get minutes(){if(!Ja(this))throw new TypeError("invalid receiver");return tt(this,Cu)}get seconds(){if(!Ja(this))throw new TypeError("invalid receiver");return tt(this,Mu)}get milliseconds(){if(!Ja(this))throw new TypeError("invalid receiver");return tt(this,au)}get microseconds(){if(!Ja(this))throw new TypeError("invalid receiver");return tt(this,ll)}get nanoseconds(){if(!Ja(this))throw new TypeError("invalid receiver");return tt(this,Cl)}get sign(){if(!Ja(this))throw new TypeError("invalid receiver");return o0(tt(this,su),tt(this,od),tt(this,Qu),tt(this,Su),tt(this,Au),tt(this,Cu),tt(this,Mu),tt(this,au),tt(this,ll),tt(this,Cl))}get blank(){if(!Ja(this))throw new TypeError("invalid receiver");return 0===o0(tt(this,su),tt(this,od),tt(this,Qu),tt(this,Su),tt(this,Au),tt(this,Cu),tt(this,Mu),tt(this,au),tt(this,ll),tt(this,Cl))}with(t){if(!Ja(this))throw new TypeError("invalid receiver");const n=es(t,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:i=tt(this,su),months:u=tt(this,od),weeks:y=tt(this,Qu),days:d=tt(this,Su),hours:m=tt(this,Au),minutes:Z=tt(this,Cu),seconds:G=tt(this,Mu),milliseconds:k=tt(this,au),microseconds:ie=tt(this,ll),nanoseconds:Ue=tt(this,Cl)}=n;return new xy(i,u,y,d,m,Z,G,k,ie,Ue)}negated(){if(!Ja(this))throw new TypeError("invalid receiver");return HD(this)}abs(){if(!Ja(this))throw new TypeError("invalid receiver");return new xy(Math.abs(tt(this,su)),Math.abs(tt(this,od)),Math.abs(tt(this,Qu)),Math.abs(tt(this,Su)),Math.abs(tt(this,Au)),Math.abs(tt(this,Cu)),Math.abs(tt(this,Mu)),Math.abs(tt(this,au)),Math.abs(tt(this,ll)),Math.abs(tt(this,Cl)))}add(t,n){if(!Ja(this))throw new TypeError("invalid receiver");return I_("add",this,t,n)}subtract(t,n){if(!Ja(this))throw new TypeError("invalid receiver");return I_("subtract",this,t,n)}round(t){if(!Ja(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");let n=tt(this,su),i=tt(this,od),u=tt(this,Qu),y=tt(this,Su),d=tt(this,Au),m=tt(this,Cu),Z=tt(this,Mu),G=tt(this,au),k=tt(this,ll),ie=tt(this,Cl),Ue=kC(n,i,u,y,d,m,Z,G,k,ie);const He="string"==typeof t?P_("smallestUnit",t):vs(t);let Ve=ef(He,"largestUnit","datetime",void 0,["auto"]),qe=Kx(He);const pt=yy(He),At=Jp(He,"halfExpand");let bt=ef(He,"smallestUnit","datetime",void 0),_t=!0;bt||(_t=!1,bt="nanosecond"),Ue=jg(Ue,bt);let Ft=!0;if(Ve||(Ft=!1,Ve=Ue),"auto"===Ve&&(Ve=Ue),!_t&&!Ft)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(jg(Ve,bt)!==Ve)throw new RangeError(`largestUnit ${Ve} cannot be smaller than smallestUnit ${bt}`);const Xt={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[bt];return void 0!==Xt&&Db(pt,Xt,!1),({years:n,months:i,weeks:u,days:y}=oS(n,i,u,y,Ve,qe)),({years:n,months:i,weeks:u,days:y,hours:d,minutes:m,seconds:Z,milliseconds:G,microseconds:k,nanoseconds:ie}=mp(n,i,u,y,d,m,Z,G,k,ie,pt,bt,At,qe)),({years:n,months:i,weeks:u,days:y,hours:d,minutes:m,seconds:Z,milliseconds:G,microseconds:k,nanoseconds:ie}=ZC(n,i,u,y,d,m,Z,G,k,ie,pt,bt,At,qe)),({days:y,hours:d,minutes:m,seconds:Z,milliseconds:G,microseconds:k,nanoseconds:ie}=rh(y,d,m,Z,G,k,ie,Ve,qe)),({years:n,months:i,weeks:u,days:y}=function(on,ln,Ln,Vn,Zn,_r){const Xn=ri("%Temporal.Duration%"),ar=o0(on,ln,Ln,Vn,0,0,0,0,0,0);if(0===ar)return{years:on,months:ln,weeks:Ln,days:Vn};const wn=Wt.BigInt(ar);let Dn,Rn,Jn=Wt.BigInt(on),Un=Wt.BigInt(ln),or=Wt.BigInt(Ln),Mr=Wt.BigInt(Vn);_r&&(Rn=ha(_r),Dn=tt(Rn,gr));const Sr=new Xn(ar),Tn=new Xn(0,ar),Ir=new Xn(0,0,ar);switch(Zn){case"year":{if(!Dn)throw new RangeError("a starting point is required for years balancing");const Kr="string"!=typeof Dn?Vs(Dn,"dateAdd"):void 0;let dr,Wn,mr;for(({relativeTo:dr,days:Wn}=Nd(Dn,Rn,Sr,Kr));Wt.greaterThanOrEqual(Ph(Mr),Wt.BigInt(Xa(Wn)));)Mr=Wt.subtract(Mr,Wt.BigInt(Wn)),Jn=Wt.add(Jn,wn),Rn=dr,({relativeTo:dr,days:Wn}=Nd(Dn,Rn,Sr,Kr));for(({relativeTo:dr,days:mr}=Nd(Dn,Rn,Tn,Kr));Wt.greaterThanOrEqual(Ph(Mr),Wt.BigInt(Xa(mr)));)Mr=Wt.subtract(Mr,Wt.BigInt(mr)),Un=Wt.add(Un,wn),Rn=dr,({relativeTo:dr,days:mr}=Nd(Dn,Rn,Tn,Kr));dr=zc(Dn,Rn,Sr,void 0,Kr);const Or="string"!=typeof Dn?Vs(Dn,"dateUntil"):void 0,Yr=Od(null);Yr.largestUnit="month";let ei=nh(Dn,Rn,dr,Yr,Or),zr=tt(ei,od);for(;Wt.greaterThanOrEqual(Ph(Un),Wt.BigInt(Xa(zr)));){Un=Wt.subtract(Un,Wt.BigInt(zr)),Jn=Wt.add(Jn,wn),Rn=dr,dr=zc(Dn,Rn,Sr,void 0,Kr);const Xr=Od(null);Xr.largestUnit="month",ei=nh(Dn,Rn,dr,Xr,Or),zr=tt(ei,od)}break}case"month":{if(!Dn)throw new RangeError("a starting point is required for months balancing");const Kr="string"!=typeof Dn?Vs(Dn,"dateAdd"):void 0;let dr,Wn;for(({relativeTo:dr,days:Wn}=Nd(Dn,Rn,Tn,Kr));Wt.greaterThanOrEqual(Ph(Mr),Wt.BigInt(Xa(Wn)));)Mr=Wt.subtract(Mr,Wt.BigInt(Wn)),Un=Wt.add(Un,wn),Rn=dr,({relativeTo:dr,days:Wn}=Nd(Dn,Rn,Tn,Kr));break}case"week":{if(!Dn)throw new RangeError("a starting point is required for weeks balancing");const Kr="string"!=typeof Dn?Vs(Dn,"dateAdd"):void 0;let dr,Wn;for(({relativeTo:dr,days:Wn}=Nd(Dn,Rn,Ir,Kr));Wt.greaterThanOrEqual(Ph(Mr),Wt.BigInt(Xa(Wn)));)Mr=Wt.subtract(Mr,Wt.BigInt(Wn)),or=Wt.add(or,wn),Rn=dr,({relativeTo:dr,days:Wn}=Nd(Dn,Rn,Ir,Kr));break}}return{years:Wt.toNumber(Jn),months:Wt.toNumber(Un),weeks:Wt.toNumber(or),days:Wt.toNumber(Mr)}}(n,i,u,y,Ve,qe)),new xy(n,i,u,y,d,m,Z,G,k,ie)}total(t){if(!Ja(this))throw new TypeError("invalid receiver");let n=tt(this,su),i=tt(this,od),u=tt(this,Qu),y=tt(this,Su),d=tt(this,Au),m=tt(this,Cu),Z=tt(this,Mu),G=tt(this,au),k=tt(this,ll),ie=tt(this,Cl);if(void 0===t)throw new TypeError("options argument is required");const Ue="string"==typeof t?P_("unit",t):vs(t),He=Kx(Ue),Ve=ef(Ue,"unit","datetime",Ug);let qe;({years:n,months:i,weeks:u,days:y}=oS(n,i,u,y,Ve,He)),Ci(He)&&(qe=e6(He,n,i,u,0));let pt=VD(y,d,m,Z,G,k,ie,Ve,qe);if("positive overflow"===pt)return 1/0;if("negative overflow"===pt)return-1/0;({days:y,hours:d,minutes:m,seconds:Z,milliseconds:G,microseconds:k,nanoseconds:ie}=pt);const{total:At}=mp(n,i,u,y,d,m,Z,G,k,ie,1,Ve,"trunc",He);return At}toString(t){if(!Ja(this))throw new TypeError("invalid receiver");const n=vs(t),i=h_(n),u=Jp(n,"trunc"),y=ef(n,"smallestUnit","time",void 0);if("hour"===y||"minute"===y)throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:d,unit:m,increment:Z}=p_(y,i);return qx(this,d,{unit:m,increment:Z,roundingMode:u})}toJSON(){if(!Ja(this))throw new TypeError("invalid receiver");return qx(this)}toLocaleString(t,n){if(!Ja(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&void 0!==Intl.DurationFormat?new Intl.DurationFormat(t,n).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),qx(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(t){return Ja(t)?new xy(tt(t,su),tt(t,od),tt(t,Qu),tt(t,Su),tt(t,Au),tt(t,Cu),tt(t,Mu),tt(t,au),tt(t,ll),tt(t,Cl)):Rb(t)}static compare(t,n,i){const u=Rb(t),y=Rb(n),d=Kx(vs(i)),m=tt(u,su),Z=tt(u,od),G=tt(u,Qu);let k=tt(u,Su);const ie=tt(u,Au),Ue=tt(u,Cu),He=tt(u,Mu),Ve=tt(u,au),qe=tt(u,ll);let pt=tt(u,Cl);const At=tt(y,su),bt=tt(y,od),_t=tt(y,Qu);let Ft=tt(y,Su);const Xt=tt(y,Au),Ht=tt(y,Cu),on=tt(y,Mu),ln=tt(y,au),Ln=tt(y,ll);let Vn=tt(y,Cl);const Zn=zD(d,m,Z,G,k),_r=zD(d,At,bt,_t,Ft);0===m&&0===At&&0===Z&&0===bt&&0===G&&0===_t||(({days:k}=oS(m,Z,G,k,"day",d)),({days:Ft}=oS(At,bt,_t,Ft,"day",d)));const Xn=Bb(k,ie,Ue,He,Ve,qe,pt,Zn),ar=Bb(Ft,Xt,Ht,on,ln,Ln,Vn,_r);return _y(Wt.toNumber(Wt.subtract(Xn,ar)))}}V0(xy,"Temporal.Duration");const w6=Object.create;class wS{constructor(t,n,i="iso8601",u=1972){BC(this,Ss(t),Ss(n),Pd(i),Ss(u))}get monthCode(){if(!el(this))throw new TypeError("invalid receiver");return e0(tt(this,gr),this)}get day(){if(!el(this))throw new TypeError("invalid receiver");return t0(tt(this,gr),this)}get calendarId(){if(!el(this))throw new TypeError("invalid receiver");return ad(tt(this,gr))}with(t,n){if(!el(this))throw new TypeError("invalid receiver");if(!Xo(t))throw new TypeError("invalid argument");Lg(t);const i=vs(n),u=tt(this,gr),y=Nc(u,["day","month","monthCode","year"]);let d=es(this,y,[]);return d=kh(u,d,es(t,y,"partial")),d=es(d,y,[]),w_(u,d,i)}equals(t){if(!el(this))throw new TypeError("invalid receiver");const n=kD(t);for(const i of[bi,Si,mi])if(tt(this,i)!==tt(n,i))return!1;return Vg(tt(this,gr),tt(n,gr))}toString(t){if(!el(this))throw new TypeError("invalid receiver");return xR(this,Fg(vs(t)))}toJSON(){if(!el(this))throw new TypeError("invalid receiver");return xR(this)}toLocaleString(t,n){if(!el(this))throw new TypeError("invalid receiver");return new nm(t,n).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(t){if(!el(this))throw new TypeError("invalid receiver");if(!Xo(t))throw new TypeError("argument should be an object");const n=tt(this,gr),i=Nc(n,["day","monthCode"]),u=es(this,i,[]),y=Nc(n,["year"]);let d=kh(n,u,es(t,y,[]));d=es(d,[...new Set([...i,...y])],[]);const m=w6(null);return m.overflow="reject",Y0(n,d,m)}getISOFields(){if(!el(this))throw new TypeError("invalid receiver");return{calendar:tt(this,gr),isoDay:tt(this,Si),isoMonth:tt(this,bi),isoYear:tt(this,mi)}}getCalendar(){if(!el(this))throw new TypeError("invalid receiver");return Pb(tt(this,gr))}static from(t,n){const i=vs(n);return el(t)?(Bc(i),H0(tt(t,bi),tt(t,Si),tt(t,gr),tt(t,mi))):kD(t,i)}}V0(wS,"Temporal.PlainMonthDay");const aM=()=>new(ri("%Temporal.Instant%"))(O_()),cM=(r,t=Xg())=>{const n=du(t),i=Pd(r);return Tf(n,aM(),i)},U_=(r=Xg())=>Tf(du(r),aM(),"iso8601"),lM=(r,t=Xg())=>{const n=du(t),i=Pd(r);return Vc(O_(),n,i)},dM={instant:aM,plainDateTime:cM,plainDateTimeISO:U_,plainDate:(r,t=Xg())=>kb(cM(r,t)),plainDateISO:(r=Xg())=>kb(U_(r)),plainTimeISO:(r=Xg())=>Tl(U_(r)),timeZoneId:()=>Xg(),zonedDateTime:lM,zonedDateTimeISO:(r=Xg())=>lM("iso8601",r),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(dM,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const _6=Object.assign;function uM(r,t,n){let i=tt(r,Uo),u=tt(r,zo),y=tt(r,Ho),d=tt(r,Go),m=tt(r,jo),Z=tt(r,Wo);if(n){const{unit:G,increment:k,roundingMode:ie}=n;({hour:i,minute:u,second:y,millisecond:d,microsecond:m,nanosecond:Z}=D_(i,u,y,d,m,Z,k,G,ie))}return`${_a(i)}:${_a(u)}${Jx(y,d,m,Z,t)}`}class Sy{constructor(t=0,n=0,i=0,u=0,y=0,d=0){const m=void 0===t?0:Ss(t),Z=void 0===n?0:Ss(n),G=void 0===i?0:Ss(i),k=void 0===u?0:Ss(u),ie=void 0===y?0:Ss(y),Ue=void 0===d?0:Ss(d);sS(m,Z,G,k,ie,Ue),Gp(this),$o(this,Uo,m),$o(this,zo,Z),$o(this,Ho,G),$o(this,Go,k),$o(this,jo,ie),$o(this,Wo,Ue)}get hour(){if(!uc(this))throw new TypeError("invalid receiver");return tt(this,Uo)}get minute(){if(!uc(this))throw new TypeError("invalid receiver");return tt(this,zo)}get second(){if(!uc(this))throw new TypeError("invalid receiver");return tt(this,Ho)}get millisecond(){if(!uc(this))throw new TypeError("invalid receiver");return tt(this,Go)}get microsecond(){if(!uc(this))throw new TypeError("invalid receiver");return tt(this,jo)}get nanosecond(){if(!uc(this))throw new TypeError("invalid receiver");return tt(this,Wo)}with(t,n){if(!uc(this))throw new TypeError("invalid receiver");if(!Xo(t))throw new TypeError("invalid argument");Lg(t);const i=Bc(vs(n)),u=Vx(t,"partial"),y=Vx(this);let{hour:d,minute:m,second:Z,millisecond:G,microsecond:k,nanosecond:ie}=_6(y,u);return({hour:d,minute:m,second:Z,millisecond:G,microsecond:k,nanosecond:ie}=jx(d,m,Z,G,k,ie,i)),new Sy(d,m,Z,G,k,ie)}add(t){if(!uc(this))throw new TypeError("invalid receiver");return XC("add",this,t)}subtract(t){if(!uc(this))throw new TypeError("invalid receiver");return XC("subtract",this,t)}until(t,n){if(!uc(this))throw new TypeError("invalid receiver");return AR("until",this,t,n)}since(t,n){if(!uc(this))throw new TypeError("invalid receiver");return AR("since",this,t,n)}round(t){if(!uc(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?P_("smallestUnit",t):vs(t),i=yy(n),u=Jp(n,"halfExpand"),y=ef(n,"smallestUnit","time",Ug);Db(i,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[y],!1);let d=tt(this,Uo),m=tt(this,zo),Z=tt(this,Ho),G=tt(this,Go),k=tt(this,jo),ie=tt(this,Wo);return({hour:d,minute:m,second:Z,millisecond:G,microsecond:k,nanosecond:ie}=D_(d,m,Z,G,k,ie,i,y,u)),new Sy(d,m,Z,G,k,ie)}equals(t){if(!uc(this))throw new TypeError("invalid receiver");const n=qp(t);for(const i of[Uo,zo,Ho,Go,jo,Wo])if(tt(this,i)!==tt(n,i))return!1;return!0}toString(t){if(!uc(this))throw new TypeError("invalid receiver");const n=vs(t),i=h_(n),u=Jp(n,"trunc"),y=ef(n,"smallestUnit","time",void 0);if("hour"===y)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:d,unit:m,increment:Z}=p_(y,i);return uM(this,d,{unit:m,increment:Z,roundingMode:u})}toJSON(){if(!uc(this))throw new TypeError("invalid receiver");return uM(this,"auto")}toLocaleString(t,n){if(!uc(this))throw new TypeError("invalid receiver");return new nm(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(t){if(!uc(this))throw new TypeError("invalid receiver");const n=ha(t),i=tt(n,mi),u=tt(n,bi),y=tt(n,Si),d=tt(n,gr);return Ou(i,u,y,tt(this,Uo),tt(this,zo),tt(this,Ho),tt(this,Go),tt(this,jo),tt(this,Wo),d)}toZonedDateTime(t){if(!uc(this))throw new TypeError("invalid receiver");if(!Xo(t))throw new TypeError("invalid argument");const n=t.plainDate;if(void 0===n)throw new TypeError("missing date property");const i=ha(n),u=t.timeZone;if(void 0===u)throw new TypeError("missing timeZone property");const y=du(u),d=tt(i,mi),m=tt(i,bi),Z=tt(i,Si),G=tt(i,gr),k=tt(this,Uo),ie=tt(this,zo),Ue=tt(this,Ho),He=tt(this,Go),Ve=tt(this,jo),qe=tt(this,Wo);return Vc(tt(kd(y,new(ri("%Temporal.PlainDateTime%"))(d,m,Z,k,ie,Ue,He,Ve,qe,G),"compatible"),eo),y,G)}getISOFields(){if(!uc(this))throw new TypeError("invalid receiver");return{isoHour:tt(this,Uo),isoMicrosecond:tt(this,jo),isoMillisecond:tt(this,Go),isoMinute:tt(this,zo),isoNanosecond:tt(this,Wo),isoSecond:tt(this,Ho)}}static from(t,n){const i=Bc(vs(n));return uc(t)?new Sy(tt(t,Uo),tt(t,zo),tt(t,Ho),tt(t,Go),tt(t,jo),tt(t,Wo)):qp(t,i)}static compare(t,n){const i=qp(t),u=qp(n);for(const y of[Uo,zo,Ho,Go,jo,Wo]){const d=tt(i,y),m=tt(u,y);if(d!==m)return _y(d-m)}return 0}}V0(Sy,"Temporal.PlainTime");class Gb{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const n=Lh(t);Gp(this),$o(this,lp,n)}get id(){if(!Ru(this))throw new TypeError("invalid receiver");return tt(this,lp)}getOffsetNanosecondsFor(t){if(!Ru(this))throw new TypeError("invalid receiver");const n=up(t),i=tt(this,lp);return vy(i)?r0(i):q0(i,tt(n,eo))}getOffsetStringFor(t){if(!Ru(this))throw new TypeError("invalid receiver");return FC(this,up(t))}getPlainDateTimeFor(t,n="iso8601"){if(!Ru(this))throw new TypeError("invalid receiver");return Tf(this,up(t),Pd(n))}getInstantFor(t,n){if(!Ru(this))throw new TypeError("invalid receiver");return kd(this,$g(t),Tb(vs(n)))}getPossibleInstantsFor(t){if(!Ru(this))throw new TypeError("invalid receiver");const n=$g(t),i=ri("%Temporal.Instant%"),u=tt(this,lp);if(vy(u)){const d=Bd(tt(n,mi),tt(n,bi),tt(n,Si),tt(n,Uo),tt(n,zo),tt(n,Ho),tt(n,Go),tt(n,jo),tt(n,Wo));if(null===d)throw new RangeError("DateTime outside of supported range");const m=r0(u);return[new i(Wt.subtract(d,Wt.BigInt(m)))]}return function(m,Z,G,k,ie,Ue,He,Ve,qe,pt){const At=Bd(Z,G,k,ie,Ue,He,Ve,qe,pt);if(null===At)throw new RangeError("DateTime outside of supported range");let bt=Wt.subtract(At,th);Wt.lessThan(bt,Tu)&&(bt=At);let _t=Wt.add(At,th);Wt.greaterThan(_t,dp)&&(_t=At);const Ft=q0(m,bt),Xt=q0(m,_t);return(Ft===Xt?[Ft]:[Ft,Xt]).map(Ht=>{const on=Wt.subtract(At,Wt.BigInt(Ht)),ln=jC(m,on);if(Z===ln.year&&G===ln.month&&k===ln.day&&ie===ln.hour&&Ue===ln.minute&&He===ln.second&&Ve===ln.millisecond&&qe===ln.microsecond&&pt===ln.nanosecond)return on}).filter(Ht=>void 0!==Ht)}(u,tt(n,mi),tt(n,bi),tt(n,Si),tt(n,Uo),tt(n,zo),tt(n,Ho),tt(n,Go),tt(n,jo),tt(n,Wo)).map(d=>new i(d))}getNextTransition(t){if(!Ru(this))throw new TypeError("invalid receiver");const n=up(t),i=tt(this,lp);if(vy(i)||"UTC"===i)return null;let u=tt(n,eo);const y=ri("%Temporal.Instant%");return u=KD(i,u),null===u?null:new y(u)}getPreviousTransition(t){if(!Ru(this))throw new TypeError("invalid receiver");const n=up(t),i=tt(this,lp);if(vy(i)||"UTC"===i)return null;let u=tt(n,eo);const y=ri("%Temporal.Instant%");return u=KC(i,u),null===u?null:new y(u)}toString(){if(!Ru(this))throw new TypeError("invalid receiver");return tt(this,lp)}toJSON(){if(!Ru(this))throw new TypeError("invalid receiver");return tt(this,lp)}static from(t){return LD(du(t))}}V0(Gb,"Temporal.TimeZone"),Ga("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",Gb.prototype.getOffsetNanosecondsFor),Ga("Temporal.TimeZone.prototype.getPossibleInstantsFor",Gb.prototype.getPossibleInstantsFor);const E6=Object.create;class _S{constructor(t,n,i="iso8601",u=1){zx(this,Ss(t),Ss(n),Pd(i),Ss(u))}get year(){if(!gs(this))throw new TypeError("invalid receiver");return W0(tt(this,gr),this)}get month(){if(!gs(this))throw new TypeError("invalid receiver");return G0(tt(this,gr),this)}get monthCode(){if(!gs(this))throw new TypeError("invalid receiver");return e0(tt(this,gr),this)}get calendarId(){if(!gs(this))throw new TypeError("invalid receiver");return ad(tt(this,gr))}get era(){if(!gs(this))throw new TypeError("invalid receiver");return X0(tt(this,gr),this)}get eraYear(){if(!gs(this))throw new TypeError("invalid receiver");return Z0(tt(this,gr),this)}get daysInMonth(){if(!gs(this))throw new TypeError("invalid receiver");return y_(tt(this,gr),this)}get daysInYear(){if(!gs(this))throw new TypeError("invalid receiver");return g_(tt(this,gr),this)}get monthsInYear(){if(!gs(this))throw new TypeError("invalid receiver");return v_(tt(this,gr),this)}get inLeapYear(){if(!gs(this))throw new TypeError("invalid receiver");return b_(tt(this,gr),this)}with(t,n){if(!gs(this))throw new TypeError("invalid receiver");if(!Xo(t))throw new TypeError("invalid argument");Lg(t);const i=vs(n),u=tt(this,gr),y=Nc(u,["month","monthCode","year"]);let d=es(this,y,[]);return d=kh(u,d,es(t,y,"partial")),d=es(d,y,[]),J0(u,d,i)}add(t,n){if(!gs(this))throw new TypeError("invalid receiver");return qD("add",this,t,n)}subtract(t,n){if(!gs(this))throw new TypeError("invalid receiver");return qD("subtract",this,t,n)}until(t,n){if(!gs(this))throw new TypeError("invalid receiver");return CR("until",this,t,n)}since(t,n){if(!gs(this))throw new TypeError("invalid receiver");return CR("since",this,t,n)}equals(t){if(!gs(this))throw new TypeError("invalid receiver");const n=Ob(t);for(const i of[mi,bi,Si])if(tt(this,i)!==tt(n,i))return!1;return Vg(tt(this,gr),tt(n,gr))}toString(t){if(!gs(this))throw new TypeError("invalid receiver");return Qx(this,Fg(vs(t)))}toJSON(){if(!gs(this))throw new TypeError("invalid receiver");return Qx(this)}toLocaleString(t,n){if(!gs(this))throw new TypeError("invalid receiver");return new nm(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(t){if(!gs(this))throw new TypeError("invalid receiver");if(!Xo(t))throw new TypeError("argument should be an object");const n=tt(this,gr),i=Nc(n,["monthCode","year"]),u=es(this,i,[]),y=Nc(n,["day"]);let d=kh(n,u,es(t,y,[]));d=es(d,[...new Set([...i,...y])],[]);const m=E6(null);return m.overflow="reject",Y0(n,d,m)}getISOFields(){if(!gs(this))throw new TypeError("invalid receiver");return{calendar:tt(this,gr),isoDay:tt(this,Si),isoMonth:tt(this,bi),isoYear:tt(this,mi)}}getCalendar(){if(!gs(this))throw new TypeError("invalid receiver");return Pb(tt(this,gr))}static from(t,n){const i=vs(n);return gs(t)?(Bc(i),Qp(tt(t,mi),tt(t,bi),tt(t,gr),tt(t,Si))):Ob(t,i)}static compare(t,n){const i=Ob(t),u=Ob(n);return a0(tt(i,mi),tt(i,bi),tt(i,Si),tt(u,mi),tt(u,bi),tt(u,Si))}}V0(_S,"Temporal.PlainYearMonth");const x6=nm.prototype.resolvedOptions,S6=Object.create;class ES{constructor(t,n,i="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");NC(this,uS(t),du(n),Pd(i))}get calendarId(){if(!Ci(this))throw new TypeError("invalid receiver");return ad(tt(this,gr))}get timeZoneId(){if(!Ci(this))throw new TypeError("invalid receiver");return __(tt(this,oa))}get year(){if(!Ci(this))throw new TypeError("invalid receiver");return W0(tt(this,gr),Ta(this))}get month(){if(!Ci(this))throw new TypeError("invalid receiver");return G0(tt(this,gr),Ta(this))}get monthCode(){if(!Ci(this))throw new TypeError("invalid receiver");return e0(tt(this,gr),Ta(this))}get day(){if(!Ci(this))throw new TypeError("invalid receiver");return t0(tt(this,gr),Ta(this))}get hour(){if(!Ci(this))throw new TypeError("invalid receiver");return tt(Ta(this),Uo)}get minute(){if(!Ci(this))throw new TypeError("invalid receiver");return tt(Ta(this),zo)}get second(){if(!Ci(this))throw new TypeError("invalid receiver");return tt(Ta(this),Ho)}get millisecond(){if(!Ci(this))throw new TypeError("invalid receiver");return tt(Ta(this),Go)}get microsecond(){if(!Ci(this))throw new TypeError("invalid receiver");return tt(Ta(this),jo)}get nanosecond(){if(!Ci(this))throw new TypeError("invalid receiver");return tt(Ta(this),Wo)}get era(){if(!Ci(this))throw new TypeError("invalid receiver");return X0(tt(this,gr),Ta(this))}get eraYear(){if(!Ci(this))throw new TypeError("invalid receiver");return Z0(tt(this,gr),Ta(this))}get epochSeconds(){if(!Ci(this))throw new TypeError("invalid receiver");const t=tt(this,eo);return Wt.toNumber(Fb(t,sd))}get epochMilliseconds(){if(!Ci(this))throw new TypeError("invalid receiver");const t=tt(this,eo);return Wt.toNumber(Fb(t,Mf))}get epochMicroseconds(){if(!Ci(this))throw new TypeError("invalid receiver");return Q0(Fb(tt(this,eo),Rs))}get epochNanoseconds(){if(!Ci(this))throw new TypeError("invalid receiver");return Q0(tt(this,eo))}get dayOfWeek(){if(!Ci(this))throw new TypeError("invalid receiver");return Hx(tt(this,gr),Ta(this))}get dayOfYear(){if(!Ci(this))throw new TypeError("invalid receiver");return Wx(tt(this,gr),Ta(this))}get weekOfYear(){if(!Ci(this))throw new TypeError("invalid receiver");return Gx(tt(this,gr),Ta(this))}get yearOfWeek(){if(!Ci(this))throw new TypeError("invalid receiver");return Xx(tt(this,gr),Ta(this))}get hoursInDay(){if(!Ci(this))throw new TypeError("invalid receiver");const t=Ta(this),n=ri("%Temporal.PlainDateTime%"),i=tt(t,mi),u=tt(t,bi),y=tt(t,Si),d=new n(i,u,y,0,0,0,0,0,0),m=wy(i,u,y,0,0,0,1,"reject"),Z=new n(m.year,m.month,m.day,0,0,0,0,0,0),G=tt(this,oa),k=tt(kd(G,d,"compatible"),eo),ie=tt(kd(G,Z,"compatible"),eo);return c0(Wt.subtract(ie,k),dl)}get daysInWeek(){if(!Ci(this))throw new TypeError("invalid receiver");return Zx(tt(this,gr),Ta(this))}get daysInMonth(){if(!Ci(this))throw new TypeError("invalid receiver");return y_(tt(this,gr),Ta(this))}get daysInYear(){if(!Ci(this))throw new TypeError("invalid receiver");return g_(tt(this,gr),Ta(this))}get monthsInYear(){if(!Ci(this))throw new TypeError("invalid receiver");return v_(tt(this,gr),Ta(this))}get inLeapYear(){if(!Ci(this))throw new TypeError("invalid receiver");return b_(tt(this,gr),Ta(this))}get offset(){if(!Ci(this))throw new TypeError("invalid receiver");return FC(tt(this,oa),tt(this,id))}get offsetNanoseconds(){if(!Ci(this))throw new TypeError("invalid receiver");return Nh(tt(this,oa),tt(this,id))}with(t,n){if(!Ci(this))throw new TypeError("invalid receiver");if(!Xo(t))throw new TypeError("invalid zoned-date-time-like");Lg(t);const i=vs(n),u=tt(this,gr);let y=Nc(u,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);y.push("offset");let d=es(this,y,["offset"]);d=kh(u,d,es(t,y,"partial")),d=es(d,y,["offset"]);const m=Tb(i),Z=$x(i,"prefer");let{year:G,month:k,day:ie,hour:Ue,minute:He,second:Ve,millisecond:qe,microsecond:pt,nanosecond:At}=m_(u,d,i);const bt=r0(d.offset),_t=tt(this,oa);return Vc(fp(G,k,ie,Ue,He,Ve,qe,pt,At,"option",bt,_t,m,Z,!1),_t,u)}withPlainDate(t){if(!Ci(this))throw new TypeError("invalid receiver");const n=ha(t),i=tt(n,mi),u=tt(n,bi),y=tt(n,Si);let d=tt(n,gr);const m=Ta(this),Z=tt(m,Uo),G=tt(m,zo),k=tt(m,Ho),ie=tt(m,Go),Ue=tt(m,jo),He=tt(m,Wo);d=Yx(tt(this,gr),d);const Ve=tt(this,oa);return Vc(tt(kd(Ve,new(ri("%Temporal.PlainDateTime%"))(i,u,y,Z,G,k,ie,Ue,He,d),"compatible"),eo),Ve,d)}withPlainTime(t){if(!Ci(this))throw new TypeError("invalid receiver");const n=ri("%Temporal.PlainTime%"),i=void 0===t?new n:qp(t),u=Ta(this),y=tt(u,mi),d=tt(u,bi),m=tt(u,Si),Z=tt(this,gr),G=tt(i,Uo),k=tt(i,zo),ie=tt(i,Ho),Ue=tt(i,Go),He=tt(i,jo),Ve=tt(i,Wo),qe=tt(this,oa);return Vc(tt(kd(qe,new(ri("%Temporal.PlainDateTime%"))(y,d,m,G,k,ie,Ue,He,Ve,Z),"compatible"),eo),qe,Z)}withTimeZone(t){if(!Ci(this))throw new TypeError("invalid receiver");const n=du(t);return Vc(tt(this,eo),n,tt(this,gr))}withCalendar(t){if(!Ci(this))throw new TypeError("invalid receiver");const n=Pd(t);return Vc(tt(this,eo),tt(this,oa),n)}add(t,n){if(!Ci(this))throw new TypeError("invalid receiver");return QD("add",this,t,n)}subtract(t,n){if(!Ci(this))throw new TypeError("invalid receiver");return QD("subtract",this,t,n)}until(t,n){if(!Ci(this))throw new TypeError("invalid receiver");return YD("until",this,t,n)}since(t,n){if(!Ci(this))throw new TypeError("invalid receiver");return YD("since",this,t,n)}round(t){if(!Ci(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?P_("smallestUnit",t):vs(t),i=yy(n),u=Jp(n,"halfExpand"),y=ef(n,"smallestUnit","time",Ug,["day"]),d={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[y];Db(i,d,1===d);const m=Ta(this);let Z=tt(m,mi),G=tt(m,bi),k=tt(m,Si),ie=tt(m,Uo),Ue=tt(m,zo),He=tt(m,Ho),Ve=tt(m,Go),qe=tt(m,jo),pt=tt(m,Wo);const At=ri("%Temporal.PlainDateTime%"),bt=tt(this,oa),_t=tt(this,gr),Ft=kd(bt,new At(tt(m,mi),tt(m,bi),tt(m,Si),0,0,0,0,0,0),"compatible"),Xt=ih(Ft,bt,_t,0,0,0,1,0,0,0,0,0,0),Ht=Wt.subtract(Xt,Wt.BigInt(tt(Ft,eo)));if(Wt.lessThanOrEqual(Ht,Pc))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return({year:Z,month:G,day:k,hour:ie,minute:Ue,second:He,millisecond:Ve,microsecond:qe,nanosecond:pt}=Lb(Z,G,k,ie,Ue,He,Ve,qe,pt,i,y,u,Wt.toNumber(Ht))),Vc(fp(Z,G,k,ie,Ue,He,Ve,qe,pt,"option",Nh(bt,tt(this,id)),bt,"compatible","prefer",!1),bt,tt(this,gr))}equals(t){if(!Ci(this))throw new TypeError("invalid receiver");const n=Kg(t),i=tt(this,eo),u=tt(n,eo);return!!Wt.equal(Wt.BigInt(i),Wt.BigInt(u))&&!!LC(tt(this,oa),tt(n,oa))&&Vg(tt(this,gr),tt(n,gr))}toString(t){if(!Ci(this))throw new TypeError("invalid receiver");const n=vs(t),i=Fg(n),u=h_(n),y=Ey(n,"offset",["auto","never"],"auto"),d=Jp(n,"trunc"),m=ef(n,"smallestUnit","time",void 0);if("hour"===m)throw new RangeError('smallestUnit must be a time unit other than "hour"');const Z=Ey(n,"timeZoneName",["auto","never","critical"],"auto"),{precision:G,unit:k,increment:ie}=p_(m,u);return eS(this,G,i,Z,y,{unit:k,increment:ie,roundingMode:d})}toLocaleString(t,n){if(!Ci(this))throw new TypeError("invalid receiver");const i=vs(n),u=S6(null);if(f_(u,i,["timeZone"]),void 0!==i.timeZone)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");void 0===u.year&&void 0===u.month&&void 0===u.day&&void 0===u.weekday&&void 0===u.dateStyle&&void 0===u.hour&&void 0===u.minute&&void 0===u.second&&void 0===u.timeStyle&&void 0===u.dayPeriod&&void 0===u.timeZoneName&&(u.timeZoneName="short");let y=__(tt(this,oa));if(vy(y))throw new RangeError("toLocaleString does not support offset string time zones");y=Lh(y),u.timeZone=y;const d=new nm(t,u),m=Bi(x6,d,[]).calendar,Z=ad(tt(this,gr));if("iso8601"!==Z&&"iso8601"!==m&&m!==Z)throw new RangeError(`cannot format ZonedDateTime with calendar ${Z} in locale with calendar ${m}`);return d.format(tt(this,id))}toJSON(){if(!Ci(this))throw new TypeError("invalid receiver");return eS(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!Ci(this))throw new TypeError("invalid receiver");const t=Ta(this),n=ri("%Temporal.PlainDateTime%"),i=tt(this,gr),u=new n(tt(t,mi),tt(t,bi),tt(t,Si),0,0,0,0,0,0,i),y=tt(this,oa);return Vc(tt(kd(y,u,"compatible"),eo),y,i)}toInstant(){if(!Ci(this))throw new TypeError("invalid receiver");return new(ri("%Temporal.Instant%"))(tt(this,eo))}toPlainDate(){if(!Ci(this))throw new TypeError("invalid receiver");return kb(Ta(this))}toPlainTime(){if(!Ci(this))throw new TypeError("invalid receiver");return Tl(Ta(this))}toPlainDateTime(){if(!Ci(this))throw new TypeError("invalid receiver");return Ta(this)}toPlainYearMonth(){if(!Ci(this))throw new TypeError("invalid receiver");const t=tt(this,gr);return J0(t,es(this,Nc(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Ci(this))throw new TypeError("invalid receiver");const t=tt(this,gr);return w_(t,es(this,Nc(t,["day","monthCode"]),[]))}getISOFields(){if(!Ci(this))throw new TypeError("invalid receiver");const t=Ta(this),n=tt(this,oa);return{calendar:tt(this,gr),isoDay:tt(t,Si),isoHour:tt(t,Uo),isoMicrosecond:tt(t,jo),isoMillisecond:tt(t,Go),isoMinute:tt(t,zo),isoMonth:tt(t,bi),isoNanosecond:tt(t,Wo),isoSecond:tt(t,Ho),isoYear:tt(t,mi),offset:FC(n,tt(this,id)),timeZone:n}}getCalendar(){if(!Ci(this))throw new TypeError("invalid receiver");return Pb(tt(this,gr))}getTimeZone(){if(!Ci(this))throw new TypeError("invalid receiver");return LD(tt(this,oa))}static from(t,n){const i=vs(n);return Ci(t)?(Tb(i),$x(i,"reject"),Bc(i),Vc(tt(t,eo),tt(t,oa),tt(t,gr))):Kg(t,i)}static compare(t,n){const i=Kg(t),u=Kg(n),y=tt(i,eo),d=tt(u,eo);return Wt.lessThan(Wt.BigInt(y),Wt.BigInt(d))?-1:Wt.greaterThan(Wt.BigInt(y),Wt.BigInt(d))?1:0}}function Ta(r){return Tf(tt(r,oa),tt(r,id),tt(r,gr))}V0(ES,"Temporal.ZonedDateTime");var Qg=Object.freeze({__proto__:null,Calendar:Sc,Duration:xy,Instant:$h,Now:dM,PlainDate:bS,PlainDateTime:Wb,PlainMonthDay:wS,PlainTime:Sy,PlainYearMonth:_S,TimeZone:Gb,ZonedDateTime:ES});const A6=[$h,Sc,bS,Wb,xy,wS,Sy,Gb,_S,ES];for(const r of A6){const t=Object.getOwnPropertyDescriptor(r,"prototype");(t.configurable||t.enumerable||t.writable)&&(t.configurable=!1,t.enumerable=!1,t.writable=!1,Object.defineProperty(r,"prototype",t))}var xS=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class Ac{static sleep(t){return xS(this,void 0,void 0,function*(){return new Promise(n=>setTimeout(n,t))})}static minimalSleep(){return xS(this,void 0,void 0,function*(){yield Ac.sleep(2)})}static getCurrentTimestamp(){return Qg.Now.instant().toString({smallestUnit:"microseconds"})}static createTimestamp(t){const{year:n,month:i,day:u,hour:y,minute:d,second:m,millisecond:Z,microsecond:G}=t;return Qg.ZonedDateTime.from({timeZone:"UTC",year:n,month:i,day:u,hour:y,minute:d,second:m,millisecond:Z,microsecond:G}).toInstant().toString({smallestUnit:"microseconds"})}static createOffsetTimestamp(t,n){const i=n?Qg.Instant.from(n):Qg.Now.instant(),u=Qg.Duration.from(t);return i.add(u).toString({smallestUnit:"microseconds"})}static validateTimestamp(t){try{Qg.Instant.from(t)}catch{throw new me(Te.TimestampInvalid,`Invalid timestamp: ${t}`)}}}var hl=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class ks{get message(){if(void 0===this._message.authorization)throw new me(Te.RecordsWriteMissingSigner,"This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get signaturePayload(){return this._signaturePayload}get owner(){return this._owner}get ownerSignaturePayload(){return this._ownerSignaturePayload}get isSignedByAuthorDelegate(){return fi.isSignedByAuthorDelegate(this._message)}get isSignedByOwnerDelegate(){return fi.isSignedByOwnerDelegate(this._message)}get signer(){return fi.getSigner(this._message)}get ownerSignatureSigner(){var t;return void 0===(null===(t=this._message.authorization)||void 0===t?void 0:t.ownerSignature)?void 0:Gr.getSignerDid(this._message.authorization.ownerSignature.signatures[0])}constructor(t,n){this.parentContextId=n,this._message=t,void 0!==t.authorization&&(this._author=Jo.getAuthor(t),this._signaturePayload=Gr.decodePlainObjectPayload(t.authorization.signature),void 0!==t.authorization.ownerSignature&&(this._owner=void 0!==t.authorization.ownerDelegatedGrant?fi.getSigner(t.authorization.ownerDelegatedGrant):Gr.getSignerDid(t.authorization.ownerSignature.signatures[0]),this._ownerSignaturePayload=Gr.decodePlainObjectPayload(t.authorization.ownerSignature))),this.attesters=ks.getAttesters(t)}static parse(t){return hl(this,void 0,void 0,function*(){const n=JSON.parse(JSON.stringify(t));yield fi.validateSignatureStructure(n.authorization.signature,n.descriptor,"RecordsWriteSignaturePayload"),void 0!==n.authorization.ownerSignature&&(yield fi.validateSignatureStructure(n.authorization.ownerSignature,n.descriptor)),yield ks.validateAttestationIntegrity(n);const i=new ks(n);return yield i.validateIntegrity(),i})}static create(t){var n,i,u,y;return hl(this,void 0,void 0,function*(){if(void 0===t.protocol&&void 0!==t.protocolPath||void 0!==t.protocol&&void 0===t.protocolPath)throw new me(Te.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive,"`protocol` and `protocolPath` must both be defined or undefined at the same time");if(void 0===t.data&&void 0===t.dataCid||void 0!==t.data&&void 0!==t.dataCid)throw new me(Te.RecordsWriteCreateDataAndDataCidMutuallyExclusive,"one and only one parameter between `data` and `dataCid` is required");if(void 0===t.dataCid&&void 0!==t.dataSize||void 0!==t.dataCid&&void 0===t.dataSize)throw new me(Te.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive,"`dataCid` and `dataSize` must both be defined or undefined at the same time");if(void 0===t.signer&&void 0!==t.delegatedGrant)throw new me(Te.RecordsWriteCreateMissingSigner,"`signer` must be given when `delegatedGrant` is given");const d=null!==(n=t.dataCid)&&void 0!==n?n:yield Rd.computeDagPbCidFromBytes(t.data),m=null!==(i=t.dataSize)&&void 0!==i?i:t.data.length,Z=Ac.getCurrentTimestamp(),G={interface:Ao.Records,method:Xi.Write,protocol:void 0!==t.protocol?ly(t.protocol):void 0,protocolPath:t.protocolPath,recipient:t.recipient,schema:void 0!==t.schema?s_(t.schema):void 0,tags:t.tags,parentId:ks.getRecordIdFromContextId(t.parentContextId),dataCid:d,dataSize:m,dateCreated:null!==(u=t.dateCreated)&&void 0!==u?u:Z,messageTimestamp:null!==(y=t.messageTimestamp)&&void 0!==y?y:Z,published:t.published,datePublished:t.datePublished,dataFormat:t.dataFormat};!0===t.published&&void 0===t.datePublished&&(G.datePublished=Z),qu(G);const k=t.recordId,ie=yield Rd.computeCid(G),Ue=yield ks.createAttestation(ie,t.attestationSigners),He=yield ks.createEncryptionProperty(G,t.encryptionInput),Ve={recordId:k,descriptor:G};void 0!==Ue&&(Ve.attestation=Ue),void 0!==He&&(Ve.encryption=He);const qe=new ks(Ve,t.parentContextId);return void 0!==t.signer&&(yield qe.sign({signer:t.signer,delegatedGrant:t.delegatedGrant,permissionGrantId:t.permissionGrantId,protocolRole:t.protocolRole})),qe})}static getRecordIdFromContextId(t){return t?.split("/").filter(n=>""!==n).pop()}static createFrom(t){var n,i,u,y;return hl(this,void 0,void 0,function*(){const d=t.recordsWriteMessage,m=yield ks.parse(d),Z=Ac.getCurrentTimestamp(),G=null!==(n=t.published)&&void 0!==n?n:!!t.datePublished||d.descriptor.published;let k;t.datePublished?k=t.datePublished:G&&(k=d.descriptor.published?d.descriptor.datePublished:Z);const ie={recipient:d.descriptor.recipient,recordId:d.recordId,dateCreated:d.descriptor.dateCreated,protocol:d.descriptor.protocol,protocolPath:d.descriptor.protocolPath,schema:d.descriptor.schema,parentContextId:Jo.getParentContextFromOfContextId(d.contextId),messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:Z,published:G,datePublished:k,tags:t.tags,data:t.data,dataCid:t.data?void 0:d.descriptor.dataCid,dataSize:t.data?void 0:d.descriptor.dataSize,dataFormat:null!==(u=t.dataFormat)&&void 0!==u?u:d.descriptor.dataFormat,protocolRole:null!==(y=t.protocolRole)&&void 0!==y?y:m.signaturePayload.protocolRole,delegatedGrant:t.delegatedGrant,signer:t.signer,attestationSigners:t.attestationSigners};return yield ks.create(ie)})}toJSON(){return this.message}encryptSymmetricEncryptionKey(t){return hl(this,void 0,void 0,function*(){this._message.encryption=yield ks.createEncryptionProperty(this._message.descriptor,t),delete this._message.authorization,this._signaturePayload=void 0,this._author=void 0})}sign(t){var n;return hl(this,void 0,void 0,function*(){const{signer:i,delegatedGrant:u,permissionGrantId:y,protocolRole:d}=t;let m,Z;void 0!==u?(m=yield fi.getCid(u),Z=Gr.getSignerDid(u.authorization.signature.signatures[0])):Z=Gr.extractDid(i.keyId);const G=this._message.descriptor,k=yield Rd.computeCid(G);this._message.recordId=null!==(n=this._message.recordId)&&void 0!==n?n:yield ks.getEntryId(Z,G),void 0!==this._message.descriptor.protocol&&(this._message.contextId=void 0===this.parentContextId||""===this.parentContextId?this._message.recordId:this.parentContextId+"/"+this._message.recordId);const ie=yield ks.createSignerSignature({recordId:this._message.recordId,contextId:this._message.contextId,descriptorCid:k,attestation:this._message.attestation,encryption:this._message.encryption,signer:i,delegatedGrantId:m,permissionGrantId:y,protocolRole:d});this._message.authorization={signature:ie},void 0!==u&&(this._message.authorization.authorDelegatedGrant=u),this._signaturePayload=Gr.decodePlainObjectPayload(ie),this._author=Z})}signAsOwner(t){return hl(this,void 0,void 0,function*(){if(void 0===this._author)throw new me(Te.RecordsWriteSignAsOwnerUnknownAuthor,"Unable to sign as owner without message signature because owner needs to sign over `recordId` which depends on author DID.");const n=this._message.descriptor,i=yield fi.createSignature(n,t);this._message.authorization.ownerSignature=i,this._ownerSignaturePayload=Gr.decodePlainObjectPayload(i),this._owner=Gr.extractDid(t.keyId)})}signAsOwnerDelegate(t,n){return hl(this,void 0,void 0,function*(){if(void 0===this._author)throw new me(Te.RecordsWriteSignAsOwnerDelegateUnknownAuthor,"Unable to sign as owner delegate without message signature because owner delegate needs to sign over `recordId` which depends on author DID.");const i=yield fi.getCid(n),u=this._message.descriptor,y=yield fi.createSignature(u,t,{delegatedGrantId:i});this._message.authorization.ownerSignature=y,this._message.authorization.ownerDelegatedGrant=n,this._ownerSignaturePayload=Gr.decodePlainObjectPayload(y),this._owner=Gr.getSignerDid(n.authorization.signature.signatures[0])})}validateIntegrity(){return hl(this,void 0,void 0,function*(){if(yield this.isInitialWrite()){const i=this.message.descriptor.dateCreated,u=this.message.descriptor.messageTimestamp;if(u!==i)throw new me(Te.RecordsWriteValidateIntegrityDateCreatedMismatch,`messageTimestamp ${u} must match dateCreated ${i} for the initial write`);if(void 0!==this.message.descriptor.protocol&&void 0===this.message.descriptor.parentId){const y=yield this.getEntryId();if(this.message.contextId!==y)throw new me(Te.RecordsWriteValidateIntegrityContextIdMismatch,`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${y}`)}}const n=this.signaturePayload;if(this.message.recordId!==n.recordId)throw new me(Te.RecordsWriteValidateIntegrityRecordIdUnauthorized,`recordId in message ${this.message.recordId} does not match recordId in authorization: ${n.recordId}`);if(this.message.contextId!==n.contextId)throw new me(Te.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload,`contextId in message ${this.message.contextId} does not match contextId in authorization: ${n.contextId}`);if(yield Jo.validateDelegatedGrantReferentialIntegrity(this.message,n,this.ownerSignaturePayload),void 0!==n.attestationCid){const i=yield Rd.computeCid(this.message.attestation),u=n.attestationCid;if(u!==i)throw new me(Te.RecordsWriteValidateIntegrityAttestationMismatch,`CID ${i} of attestation property in message does not match attestationCid in authorization: ${u}`)}if(void 0!==n.encryptionCid){const i=yield Rd.computeCid(this.message.encryption),u=n.encryptionCid;if(u!==i)throw new me(Te.RecordsWriteValidateIntegrityEncryptionCidMismatch,`CID ${i} of encryption property in message does not match encryptionCid in authorization: ${u}`)}void 0!==this.message.descriptor.protocol&&cy(this.message.descriptor.protocol),void 0!==this.message.descriptor.schema&&Cx(this.message.descriptor.schema),Ac.validateTimestamp(this.message.descriptor.messageTimestamp),Ac.validateTimestamp(this.message.descriptor.dateCreated),this.message.descriptor.datePublished&&Ac.validateTimestamp(this.message.descriptor.datePublished)})}static validateAttestationIntegrity(t){return hl(this,void 0,void 0,function*(){if(void 0===t.attestation)return;if(1!==t.attestation.signatures.length)throw new me(Te.RecordsWriteAttestationIntegrityMoreThanOneSignature,`Currently implementation only supports 1 attester, but got ${t.attestation.signatures.length}`);const n=Gr.decodePlainObjectPayload(t.attestation),{descriptorCid:i}=n,u=yield Rd.computeCid(t.descriptor);if(i!==u)throw new me(Te.RecordsWriteAttestationIntegrityDescriptorCidMismatch,`descriptorCid ${i} does not match expected descriptorCid ${u}`);const y=Object.keys(n).length;if(y>1)throw new me(Te.RecordsWriteAttestationIntegrityInvalidPayloadProperty,`Only 'descriptorCid' is allowed in attestation payload, but got ${y} properties.`)})}getEntryId(){return hl(this,void 0,void 0,function*(){return yield ks.getEntryId(this.author,this.message.descriptor)})}static getEntryId(t,n){return hl(this,void 0,void 0,function*(){if(void 0===t)throw new me(Te.RecordsWriteGetEntryIdUndefinedAuthor,"Property `author` is needed to compute entry ID.");const i=Object.assign({},n);return i.author=t,yield Rd.computeCid(i)})}isInitialWrite(){return hl(this,void 0,void 0,function*(){return(yield this.getEntryId())===this.message.recordId})}constructIndexes(t){return hl(this,void 0,void 0,function*(){const n=this.message,i=n.descriptor,{tags:u}=i,y=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(i,["tags"]);delete y.published;let d=Object.assign(Object.assign({},y),{isLatestBaseState:t,published:!!n.descriptor.published,author:this.author,recordId:n.recordId,entryId:yield ks.getEntryId(this.author,this.message.descriptor)});if(void 0!==u&&!0===t){const m=Jo.buildTagIndexes(Object.assign({},u));d=Object.assign(Object.assign({},d),m)}return this.attesters.length>0&&(d.attester=this.attesters[0]),void 0!==n.contextId&&(d.contextId=n.contextId),d})}authorizeAuthorDelegate(t){return hl(this,void 0,void 0,function*(){const n=yield Rh.parse(this.message.authorization.authorDelegatedGrant);yield Qf.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}authorizeOwnerDelegate(t){return hl(this,void 0,void 0,function*(){const n=yield Rh.parse(this.message.authorization.ownerDelegatedGrant);yield Qf.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.owner,expectedGrantee:this.ownerSignatureSigner,permissionGrant:n,messageStore:t})})}static isInitialWrite(t){return hl(this,void 0,void 0,function*(){if(t.descriptor.interface!==Ao.Records||t.descriptor.method!==Xi.Write)return!1;const n=t,i=Jo.getAuthor(n);return(yield ks.getEntryId(i,n.descriptor))===n.recordId})}static createEncryptionProperty(t,n){var i,u;return hl(this,void 0,void 0,function*(){if(void 0===n)return;const y=[];for(const m of n.keyEncryptionInputs){if(m.derivationScheme===Cf.ProtocolPath&&void 0===t.protocol)throw new me(Te.RecordsWriteMissingProtocol,"`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(m.derivationScheme===Cf.Schemas&&void 0===t.schema)throw new me(Te.RecordsWriteMissingSchema,"`schemas` encryption scheme cannot be applied to record without the `schema` property.");const Z=De.publicJwkToBytes(m.publicKey),G=yield r_.eciesSecp256k1Encrypt(Z,n.key),k=X.bytesToBase64Url(G.ciphertext),ie=yield De.publicKeyToJwk(G.ephemeralPublicKey),Ue=X.bytesToBase64Url(G.initializationVector),He=X.bytesToBase64Url(G.messageAuthenticationCode),Ve={rootKeyId:m.publicKeyId,algorithm:null!==(i=m.algorithm)&&void 0!==i?i:lC.EciesSecp256k1,derivationScheme:m.derivationScheme,ephemeralPublicKey:ie,initializationVector:Ue,messageAuthenticationCode:He,encryptedKey:k};m.derivationScheme===Cf.ProtocolContext&&(Ve.derivedPublicKey=m.publicKey),y.push(Ve)}return{algorithm:null!==(u=n.algorithm)&&void 0!==u?u:lC.Aes256Ctr,initializationVector:X.bytesToBase64Url(n.initializationVector),keyEncryption:y}})}static createAttestation(t,n){return hl(this,void 0,void 0,function*(){if(void 0===n||0===n.length)return;const u=X.objectToBytes({descriptorCid:t});return(yield ay.create(u,n)).getJws()})}static createSignerSignature(t){return hl(this,void 0,void 0,function*(){const{recordId:n,contextId:i,descriptorCid:u,attestation:y,encryption:d,signer:m,delegatedGrantId:Z,permissionGrantId:G,protocolRole:k}=t,He={recordId:n,descriptorCid:u,contextId:i,attestationCid:y?yield Rd.computeCid(y):void 0,encryptionCid:d?yield Rd.computeCid(d):void 0,delegatedGrantId:Z,permissionGrantId:G,protocolRole:k};qu(He);const Ve=X.objectToBytes(He);return(yield ay.create(Ve,[m])).getJws()})}static getInitialWrite(t){return hl(this,void 0,void 0,function*(){for(const n of t)if(yield ks.isInitialWrite(n))return n;throw new me(Te.RecordsWriteGetInitialWriteNotFound,"Initial write is not found.")})}static verifyEqualityOfImmutableProperties(t,n){const i=["dataCid","dataSize","dataFormat","datePublished","published","messageTimestamp","tags"];let u=[];u.push(...Object.keys(t.descriptor)),u.push(...Object.keys(n.descriptor)),u=[...new Set(u)];for(const y of u)if(-1===i.indexOf(y)){const d=t.descriptor[y],m=n.descriptor[y];if(m!==d)throw new me(Te.RecordsWriteImmutablePropertyChanged,`${y} is an immutable property: cannot change '${d}' to '${m}'`)}return!0}static getAttesters(t){var n,i;return(null!==(i=null===(n=t.attestation)||void 0===n?void 0:n.signatures)&&void 0!==i?i:[]).map(d=>Gr.getSignerDid(d))}static fetchNewestRecordsWrite(t,n,i){return hl(this,void 0,void 0,function*(){const u={interface:Ao.Records,method:Xi.Write,recordId:i},{messages:y}=yield t.query(n,[u]),d=yield fi.getNewestMessage(y);if(void 0!==d)return d;throw new me(Te.RecordsWriteGetNewestWriteRecordNotFound,"record not found")})}static fetchInitialRecordsWrite(t,n,i){return hl(this,void 0,void 0,function*(){const u={entryId:i},{messages:y}=yield t.query(n,[u]);return 0===y.length?void 0:yield ks.parse(y[0])})}}var C6=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};function h0(r,t){return C6(this,void 0,void 0,function*(){if(void 0===r)throw new me(Te.AuthenticateJwsMissing,"Missing JWS.");if(yield vf.verifySignatures(r.signature,t),void 0!==r.ownerSignature&&(yield vf.verifySignatures(r.ownerSignature,t)),void 0!==r.authorDelegatedGrant){const n=yield ks.parse(r.authorDelegatedGrant);yield vf.verifySignatures(n.message.authorization.signature,t)}if(void 0!==r.ownerDelegatedGrant){const n=yield ks.parse(r.ownerDelegatedGrant);yield vf.verifySignatures(n.message.authorization.signature,t)}})}class zR{isActiveTenant(t){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return{isActiveTenant:!0}})}}class rm{get message(){return this._message}get signer(){return this._signer}get author(){return this._author}get signaturePayload(){return this._signaturePayload}constructor(t){this._message=t,void 0!==t.authorization&&(this._signer=fi.getSigner(t),this._author=void 0!==t.authorization.authorDelegatedGrant?fi.getSigner(t.authorization.authorDelegatedGrant):this._signer,this._signaturePayload=Gr.decodePlainObjectPayload(t.authorization.signature))}toJSON(){return this.message}}var SS=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class Xb extends rm{static parse(t){return SS(this,void 0,void 0,function*(){if(!1===t.descriptor.filter.published&&(t.descriptor.dateSort===xu.PublishedAscending||t.descriptor.dateSort===xu.PublishedDescending))throw new me(Te.RecordsQueryParseFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.descriptor.dateSort}`);let n;if(void 0!==t.authorization&&(n=yield fi.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield Jo.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new me(Te.RecordsQueryFilterMissingRequiredProperties,"Role-authorized queries must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&cy(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&Cx(t.descriptor.filter.schema),Ac.validateTimestamp(t.descriptor.messageTimestamp),new Xb(t)})}static create(t){var n;return SS(this,void 0,void 0,function*(){const i={interface:Ao.Records,method:Xi.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ac.getCurrentTimestamp(),filter:Jo.normalizeFilter(t.filter),dateSort:t.dateSort,pagination:t.pagination};if(!1===t.filter.published&&(t.dateSort===xu.PublishedAscending||t.dateSort===xu.PublishedDescending))throw new me(Te.RecordsQueryCreateFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.dateSort}`);qu(i);const u=t.signer;let y;u&&(y=yield fi.createAuthorization({descriptor:i,signer:u,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const d={descriptor:i,authorization:y};return fi.validateJsonSchema(d),new Xb(d)})}authorizeDelegate(t){return SS(this,void 0,void 0,function*(){const n=yield Rh.parse(this.message.authorization.authorDelegatedGrant);yield Qf.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantee:this.signer,expectedGrantor:this.author,permissionGrant:n,messageStore:t})})}}var fM=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class im{static toBytes(t){return fM(this,void 0,void 0,function*(){return new Promise((n,i)=>{const u=[];t.on("data",y=>{u.push(y)}),t.on("end",()=>{const y=im.concatenateArrayOfBytes(u);n(y)}),t.on("error",i)})})}static toObject(t){return fM(this,void 0,void 0,function*(){const n=yield im.toBytes(t);return X.bytesToObject(n)})}static concatenateArrayOfBytes(t){const n=t.reduce((y,d)=>y+d.length,0),i=new Uint8Array(n);let u=0;for(const y of t)i.set(y,u),u+=y.length;return i}static fromBytes(t){let i=0;return new n_.Readable({read(y){i+1e5>t.length?(this.push(t.subarray(i)),this.push(null)):(this.push(t.subarray(i,i+1e5)),i+=1e5)}})}static fromObject(t){const n=X.objectToBytes(t);return im.fromBytes(n)}static duplicateDataStream(t,n){const i=[];for(let u=0;u<n;u++){const y=new n_.PassThrough;t.pipe(y),i.push(y)}return i}}function ka(r,t){return{status:{code:t,detail:r instanceof Error?r.message:"Error"}}}class AS{static parse(t){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return new AS(t)})}constructor(t){this.id=t.recordId,this.requester=fi.getSigner(t);const i=X.base64UrlToObject(t.encodedData);this.delegated=i.delegated,this.description=i.description,this.scope=i.scope,this.conditions=i.conditions}}var Zb=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class ts{static parseRequest(t){return X.base64UrlToObject(t)}static createRequest(t){return Zb(this,void 0,void 0,function*(){if(this.isRecordPermissionScope(t.scope)&&void 0===t.scope.protocol)throw new me(Te.PermissionsProtocolCreateRequestRecordsScopeMissingProtocol,"Permission request for Records must have a scope with a `protocol` property");const n=ts.normalizePermissionScope(t.scope),i={description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions};let u;this.hasProtocolScope(n)&&(u={protocol:n.protocol});const y=X.objectToBytes(i),d=yield ks.create({signer:t.signer,messageTimestamp:t.dateRequested,protocol:ts.uri,protocolPath:ts.requestPath,dataFormat:"application/json",data:y,tags:u});return{recordsWrite:d,permissionRequestData:i,permissionRequestBytes:y,dataEncodedMessage:Object.assign(Object.assign({},d.message),{encodedData:X.bytesToBase64Url(y)})}})}static createGrant(t){return Zb(this,void 0,void 0,function*(){if(this.isRecordPermissionScope(t.scope)&&void 0===t.scope.protocol)throw new me(Te.PermissionsProtocolCreateGrantRecordsScopeMissingProtocol,"Permission grants for Records must have a scope with a `protocol` property");const n=ts.normalizePermissionScope(t.scope),i={dateExpires:t.dateExpires,requestId:t.requestId,description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions};let u;this.hasProtocolScope(n)&&(u={protocol:n.protocol});const y=X.objectToBytes(i),d=yield ks.create({signer:t.signer,messageTimestamp:t.dateGranted,dateCreated:t.dateGranted,recipient:t.grantedTo,protocol:ts.uri,protocolPath:ts.grantPath,dataFormat:"application/json",data:y,tags:u});return{recordsWrite:d,permissionGrantData:i,permissionGrantBytes:y,dataEncodedMessage:Object.assign(Object.assign({},d.message),{encodedData:X.bytesToBase64Url(y)})}})}static createRevocation(t){return Zb(this,void 0,void 0,function*(){const n={description:t.description},i=t.grant.id;let u;this.hasProtocolScope(t.grant.scope)&&(u={protocol:ly(t.grant.scope.protocol)});const y=X.objectToBytes(n),d=yield ks.create({signer:t.signer,parentContextId:i,protocol:ts.uri,protocolPath:ts.revocationPath,dataFormat:"application/json",data:y,tags:u});return{recordsWrite:d,permissionRevocationData:n,permissionRevocationBytes:y,dataEncodedMessage:Object.assign(Object.assign({},d.message),{encodedData:X.bytesToBase64Url(y)})}})}static validateSchema(t,n){const i=X.bytesToString(n),u=JSON.parse(i);if(t.descriptor.protocolPath===ts.requestPath){const y=u;x0("PermissionRequestData",y),ts.validateScopeAndTags(y.scope,t)}else if(t.descriptor.protocolPath===ts.grantPath){x0("PermissionGrantData",u);const y=u;ts.validateScopeAndTags(y.scope,t),Ac.validateTimestamp(y.dateExpires)}else{if(t.descriptor.protocolPath!==ts.revocationPath)throw new me(Te.PermissionsProtocolValidateSchemaUnexpectedRecord,`Unexpected permission record: ${t.descriptor.protocolPath}`);x0("PermissionRevocationData",u)}}static fetchGrant(t,n,i){return Zb(this,void 0,void 0,function*(){const u={recordId:i,isLatestBaseState:!0},{messages:y}=yield n.query(t,[u]),d=y[0],m=d?.descriptor.interface,Z=d?.descriptor.method;if(m!==Ao.Records||Z!==Xi.Write||d.descriptor.protocolPath!==ts.grantPath)throw new me(Te.GrantAuthorizationGrantMissing,`Could not find permission grant with record ID ${i}.`);const G=d;return yield Rh.parse(G)})}static getScopeFromPermissionRecord(t,n,i){return Zb(this,void 0,void 0,function*(){if(i.descriptor.protocol!==ts.uri)throw new me(Te.PermissionsProtocolGetScopeInvalidProtocol,`Unexpected protocol for permission record: ${i.descriptor.protocol}`);return i.descriptor.protocolPath===ts.revocationPath?(yield ts.fetchGrant(t,n,i.descriptor.parentId)).scope:i.descriptor.protocolPath===ts.grantPath?(yield Rh.parse(i)).scope:(yield AS.parse(i)).scope})}static normalizePermissionScope(t){const n=Object.assign({},t);return ts.hasProtocolScope(n)&&(n.protocol=ly(n.protocol)),n}static isRecordPermissionScope(t){return"Records"===t.interface}static hasProtocolScope(t){return"protocol"in t&&void 0!==t.protocol}static validateTags(t,n){if(void 0===t.descriptor.tags||void 0===t.descriptor.tags.protocol)throw new me(Te.PermissionsProtocolValidateScopeMissingProtocolTag,"Permission grants must have a `tags` property that contains a protocol tag");const i=t.descriptor.tags.protocol;if(i!==n)throw new me(Te.PermissionsProtocolValidateScopeProtocolMismatch,`Permission grants must have a scope with a protocol that matches the tagged protocol: ${i}`)}static validateScopeAndTags(t,n){if(this.hasProtocolScope(t)&&(cy(t.protocol),this.validateTags(n,t.protocol)),this.isRecordPermissionScope(t)&&void 0!==t.contextId&&void 0!==t.protocolPath)throw new me(Te.PermissionsProtocolValidateScopeContextIdProhibitedProperties,"Permission grants cannot have both `contextId` and `protocolPath` present")}}ts.uri="https://tbd.website/dwn/permissions",ts.requestPath="request",ts.grantPath="grant",ts.revocationPath="grant/revocation",ts.definition={published:!0,protocol:ts.uri,types:{request:{dataFormats:["application/json"]},grant:{dataFormats:["application/json"]},revocation:{dataFormats:["application/json"]}},structure:{request:{$size:{max:1e4},$actions:[{who:"anyone",can:["create"]}]},grant:{$size:{max:1e4},$actions:[{who:"recipient",of:"grant",can:["read","query"]}],revocation:{$size:{max:1e4},$actions:[{who:"anyone",can:["read"]}]}}}};class CS{static normalizeFilters(t){const n=[];for(const i of t){const u=void 0!==i.protocol?ly(i.protocol):void 0,y=Object.assign(Object.assign({},i),{protocol:u});qu(y),o_(y)||n.push(y)}return n}static convertFilters(t){const n=[];for(const i of t){const u=this.constructPermissionRecordsFilter(i);u&&n.push(u),n.push(this.convertFilter(i))}return n}static constructPermissionRecordsFilter(t){const{protocol:n,messageTimestamp:i}=t;if(void 0!==n){const u=Object.assign({protocol:ts.uri},Jo.convertTagsFilter({protocol:n}));if(null!=i){const y=ou.convertRangeCriterion(i);y&&(u.messageTimestamp=y)}return u}}static convertFilter(t){const n=Object.assign({},t),{messageTimestamp:i}=t,u=i?ou.convertRangeCriterion(i):void 0;return u&&(n.messageTimestamp=u,delete n.dateUpdated),n}}var MS=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class j_{static authorizeMessagesRead(t){return MS(this,void 0,void 0,function*(){const{messagesReadMessage:n,messageToRead:i,expectedGrantor:u,expectedGrantee:y,permissionGrant:d,messageStore:m}=t;yield Oh.performBaseValidation({incomingMessage:n,expectedGrantor:u,expectedGrantee:y,permissionGrant:d,messageStore:m});const Z=d.scope;yield j_.verifyScope(u,i,Z,m)})}static authorizeQueryOrSubscribe(t){return MS(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:u,permissionGrant:y,messageStore:d}=t;if(yield Oh.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:u,permissionGrant:y,messageStore:d}),ts.hasProtocolScope(y.scope)){const m=y.scope.protocol;for(const Z of n.descriptor.filters)if(Z.protocol!==m)throw new me(Te.MessagesGrantAuthorizationMismatchedProtocol,`The protocol ${Z.protocol} does not match the scoped protocol ${m}`)}})}static verifyScope(t,n,i,u){return MS(this,void 0,void 0,function*(){if(void 0!==i.protocol){if(n.descriptor.interface===Ao.Records){const y=n,d=Jo.isRecordsWrite(y)?y:yield ks.fetchNewestRecordsWrite(u,t,y.descriptor.recordId);if(d.descriptor.protocol===i.protocol)return;if(d.descriptor.protocol===ts.uri){const m=yield ts.getScopeFromPermissionRecord(t,u,d);if(ts.hasProtocolScope(m)&&m.protocol===i.protocol)return}}else if(n.descriptor.interface===Ao.Protocols&&n.descriptor.definition.protocol===i.protocol)return;throw new me(Te.MessagesReadVerifyScopeFailed,"record message failed scope authorization")}})}}var I6=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class ev extends rm{static parse(t){return I6(this,void 0,void 0,function*(){fi.validateJsonSchema(t),yield fi.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&cy(n.protocol);return new ev(t)})}static create(t){var n;return I6(this,void 0,void 0,function*(){const i={interface:Ao.Messages,method:Xi.Query,filters:t.filters?CS.normalizeFilters(t.filters):[],messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ac.getCurrentTimestamp(),cursor:t.cursor};qu(i);const{permissionGrantId:u,signer:y}=t,m={descriptor:i,authorization:yield fi.createAuthorization({descriptor:i,signer:y,permissionGrantId:u})};return fi.validateJsonSchema(m),new ev(m)})}}var $_=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class K_{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventLog=i}handle({tenant:t,message:n}){return $_(this,void 0,void 0,function*(){let i;try{i=yield ev.parse(n)}catch(m){return ka(m,400)}try{yield h0(n.authorization,this.didResolver),yield K_.authorizeMessagesQuery(t,i,this.messageStore)}catch(m){return ka(m,401)}const u=CS.convertFilters(n.descriptor.filters),{events:y,cursor:d}=yield this.eventLog.queryEvents(t,u,n.descriptor.cursor);return{status:{code:200,detail:"OK"},entries:y,cursor:d}})}static authorizeMessagesQuery(t,n,i){return $_(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new me(Te.MessagesQueryAuthorizationFailed,"message failed authorization");{const u=yield ts.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield j_.authorizeQueryOrSubscribe({incomingMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:u,messageStore:i})}}})}}var hM=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class tv extends rm{static parse(t){return hM(this,void 0,void 0,function*(){return fi.validateJsonSchema(t),this.validateMessageCid(t.descriptor.messageCid),yield fi.validateSignatureStructure(t.authorization.signature,t.descriptor),Ac.validateTimestamp(t.descriptor.messageTimestamp),new tv(t)})}static create(t){var n;return hM(this,void 0,void 0,function*(){const i={interface:Ao.Messages,method:Xi.Read,messageCid:t.messageCid,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ac.getCurrentTimestamp()},{signer:u,permissionGrantId:y}=t,m={descriptor:i,authorization:yield fi.createAuthorization({descriptor:i,signer:u,permissionGrantId:y})};return fi.validateJsonSchema(m),tv.validateMessageCid(t.messageCid),new tv(m)})}static validateMessageCid(t){try{Rd.parseCid(t)}catch{throw new me(Te.MessagesReadInvalidCid,`${t} is not a valid CID`)}}}var pM=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class IS{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return pM(this,void 0,void 0,function*(){let i;try{i=yield tv.parse(n)}catch(d){return ka(d,400)}try{yield h0(n.authorization,this.didResolver)}catch(d){return ka(d,401)}const u=yield this.messageStore.get(t,n.descriptor.messageCid);if(void 0===u)return{status:{code:404,detail:"Not Found"}};try{yield IS.authorizeMessagesRead(t,i,u,this.messageStore)}catch(d){return ka(d,401)}const y={message:u,messageCid:n.descriptor.messageCid};if(Jo.isRecordsWrite(u)){const d=y.message;if(void 0!==d.encodedData){const m=X.base64UrlToBytes(d.encodedData);y.data=im.fromBytes(m),delete d.encodedData}else{const m=yield this.dataStore.get(t,d.recordId,d.descriptor.dataCid);void 0!==m?.dataStream&&(y.data=m.dataStream)}}return{status:{code:200,detail:"OK"},entry:y}})}static authorizeMessagesRead(t,n,i,u){return pM(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new me(Te.MessagesReadAuthorizationFailed,"protocol message failed authorization");{const y=yield ts.fetchGrant(t,u,n.signaturePayload.permissionGrantId);yield j_.authorizeMessagesRead({messagesReadMessage:n.message,messageToRead:i,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:y,messageStore:u})}}})}}var mM=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class Yb extends rm{static parse(t){return mM(this,void 0,void 0,function*(){fi.validateJsonSchema(t),yield fi.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&cy(n.protocol);return Ac.validateTimestamp(t.descriptor.messageTimestamp),new Yb(t)})}static create(t){var n,i;return mM(this,void 0,void 0,function*(){const u=Ac.getCurrentTimestamp(),y={interface:Ao.Messages,method:Xi.Subscribe,filters:null!==(n=t.filters)&&void 0!==n?n:[],messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:u};qu(y);const{permissionGrantId:d,signer:m}=t,G={descriptor:y,authorization:yield fi.createAuthorization({descriptor:y,signer:m,permissionGrantId:d})};return fi.validateJsonSchema(G),new Yb(G)})}}var yM=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class V_{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventStream=i}handle({tenant:t,message:n,subscriptionHandler:i}){return yM(this,void 0,void 0,function*(){if(void 0===this.eventStream)return ka(new me(Te.MessagesSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let u;try{u=yield Yb.parse(n)}catch(k){return ka(k,400)}try{yield h0(n.authorization,this.didResolver),yield V_.authorizeMessagesSubscribe(t,u,this.messageStore)}catch(k){return ka(k,401)}const{filters:y}=n.descriptor,d=CS.convertFilters(y),m=yield fi.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,m,(k,ie,Ue)=>{t===k&&ou.matchAnyFilter(Ue,d)&&i(ie)})}})}static authorizeMessagesSubscribe(t,n,i){return yM(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new me(Te.MessagesSubscribeAuthorizationFailed,"message failed authorization");{const u=yield ts.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield j_.authorizeQueryOrSubscribe({incomingMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:u,messageStore:i})}}})}}var gM=A(20844),Ay=function(r){return r.Anyone="anyone",r.Author="author",r.Recipient="recipient",r}(Ay||{}),zl=function(r){return r.CoDelete="co-delete",r.CoPrune="co-prune",r.CoUpdate="co-update",r.Create="create",r.Delete="delete",r.Prune="prune",r.Query="query",r.Read="read",r.Subscribe="subscribe",r.Update="update",r}(zl||{}),vM=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class ah extends rm{static parse(t){return vM(this,void 0,void 0,function*(){return fi.validateJsonSchema(t),ah.validateProtocolDefinition(t.descriptor.definition),yield fi.validateSignatureStructure(t.authorization.signature,t.descriptor),Ac.validateTimestamp(t.descriptor.messageTimestamp),new ah(t)})}static create(t){var n;return vM(this,void 0,void 0,function*(){const i={interface:Ao.Protocols,method:Xi.Configure,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ac.getCurrentTimestamp(),definition:ah.normalizeDefinition(t.definition)},y={descriptor:i,authorization:yield fi.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId})};return fi.validateJsonSchema(y),ah.validateProtocolDefinition(y.descriptor.definition),new ah(y)})}static validateProtocolDefinition(t){const{protocol:n,types:i}=t;cy(n);for(const u in i){const y=i[u].schema;void 0!==y&&Cx(y)}ah.validateStructure(t)}static validateStructure(t){const n=Object.keys(t.types),i=ah.fetchAllRolePathsRecursively("",t.structure,[]);ah.validateRuleSetRecursively({ruleSet:t.structure,ruleSetProtocolPath:"",recordTypes:n,roles:i})}static fetchAllRolePathsRecursively(t,n,i){if(t.split("/").length>10)throw new me(Te.ProtocolsConfigureRecordNestingDepthExceeded,"Record nesting depth exceeded 10 levels.");for(const u in n){if(u.startsWith("$"))continue;const y=n[u];let d;d=""===t?u:`${t}/${u}`,y.$role?i.push(d):ah.fetchAllRolePathsRecursively(d,y,i)}return i}static validateRuleSetRecursively(t){var n;const{ruleSet:i,ruleSetProtocolPath:u,recordTypes:y,roles:d}=t;if(void 0!==i.$size){const{min:Z=0,max:G}=i.$size;if(void 0!==G&&G<Z)throw new me(Te.ProtocolsConfigureInvalidSize,`Invalid size range found: max limit ${G} less than min limit ${Z} at protocol path '${u}'`)}if(i.$tags){const Z=new gM.default,Ue=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(i.$tags,["$allowUndefinedTags","$requiredTags"]);for(const He in Ue)if(!Z.validateSchema(Ue[He])){const qe=Z.errorsText(Z.errors,{dataVar:`${u}/$tags/${He}`});throw new me(Te.ProtocolsConfigureInvalidTagSchema,`tags schema validation error: ${qe}`)}}const m=null!==(n=i.$actions)&&void 0!==n?n:[];for(let Z=0;Z<m.length;Z++){const G=m[Z];if(void 0!==G.role&&!d.includes(G.role))throw new me(Te.ProtocolsConfigureRoleDoesNotExistAtGivenPath,`Role in action ${JSON.stringify(G)} for rule set ${u} does not exist.`);if("anyone"===G.who&&G.of)throw new me(Te.ProtocolsConfigureInvalidActionOfNotAllowed,`'of' is not allowed at rule set protocol path (${u})`);if(G.who===Ay.Recipient&&void 0===G.of&&G.can.some(ie=>![zl.CoUpdate,zl.CoDelete,zl.CoPrune].includes(ie)))throw new me(Te.ProtocolsConfigureInvalidRecipientOfAction,"Rules for `recipient` without `of` property must have `can` containing only `co-update`, `co-delete`, and `co-prune`.");if(G.who===Ay.Author&&!G.of)throw new me(Te.ProtocolsConfigureInvalidActionMissingOf,"'of' is required when 'author' is specified as 'who'");if(void 0!==G.can){if(G.can.includes(zl.Update)&&!G.can.includes(zl.Create))throw new me(Te.ProtocolsConfigureInvalidActionUpdateWithoutCreate,`Action rule ${JSON.stringify(G)} contains 'update' action but missing the required 'create' action.`);if(G.can.includes(zl.Delete)&&!G.can.includes(zl.Create))throw new me(Te.ProtocolsConfigureInvalidActionDeleteWithoutCreate,`Action rule ${JSON.stringify(G)} contains 'delete' action but missing the required 'create' action.`)}for(let k=Z+1;k<m.length;k++){const ie=m[k];if(void 0!==G.who){if(G.who===ie.who&&G.of===ie.of)throw new me(Te.ProtocolsConfigureDuplicateActorInRuleSet,`More than one action rule per actor ${G.who} of ${G.of} not allowed within a rule set: ${JSON.stringify(G)}`)}else if(G.role===ie.role)throw new me(Te.ProtocolsConfigureDuplicateRoleInRuleSet,`More than one action rule per role ${G.role} not allowed within a rule set: ${JSON.stringify(G)}`)}}for(const Z in i){if(Z.startsWith("$"))continue;if(!y.includes(Z))throw new me(Te.ProtocolsConfigureInvalidRuleSetRecordType,`Rule set ${Z} is not declared as an allowed type in the protocol definition.`);let k;k=""===u?Z:`${u}/${Z}`,ah.validateRuleSetRecursively({ruleSet:i[Z],ruleSetProtocolPath:k,recordTypes:y,roles:d})}}static normalizeDefinition(t){const n=Object.assign({},t.types);for(const i in n){const u=n[i].schema;void 0!==u&&(n[i].schema=s_(u))}return Object.assign(Object.assign({},t),{protocol:ly(t.protocol),types:n})}}class z_{constructor(t,n,i,u){this.didResolver=t,this.messageStore=n,this.eventLog=i,this.eventStream=u}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield ah.parse(n)}catch(k){return ka(k,400)}try{yield h0(n.authorization,this.didResolver),yield function KR(r,t){return C6(this,void 0,void 0,function*(){if(t.author!==r)throw new me(Te.AuthorizationAuthorNotOwner,`Message authored by ${t.author}, not authored by expected owner ${r}.`)})}(t,i)}catch(k){return ka(k,401)}const u={interface:Ao.Protocols,method:Xi.Configure,protocol:n.descriptor.definition.protocol},{messages:y}=yield this.messageStore.query(t,[u]);let Z,d=yield fi.getNewestMessage(y),m=!1;if((void 0===d||(yield fi.isNewer(n,d)))&&(m=!0,d=n),m){const k=z_.constructIndexes(i);yield this.messageStore.put(t,n,k);const ie=yield fi.getCid(n);yield this.eventLog.append(t,ie,k),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n},k),Z={status:{code:202,detail:"Accepted"}}}else Z={status:{code:409,detail:"Conflict"}};const G=[];for(const k of y)if(yield fi.isNewer(d,k)){const ie=yield fi.getCid(k);G.push(ie),yield this.messageStore.delete(t,ie)}return yield this.eventLog.deleteEventsByCid(t,G),Z})}static constructIndexes(t){const n=t.message.descriptor,{definition:i}=n,u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(n,["definition"]),{author:y}=t;return Object.assign(Object.assign({},u),{author:y,protocol:i.protocol,published:i.published})}}var TS=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class Cy extends rm{static parse(t){return TS(this,void 0,void 0,function*(){return void 0!==t.authorization&&(yield fi.validateSignatureStructure(t.authorization.signature,t.descriptor)),void 0!==t.descriptor.filter&&cy(t.descriptor.filter.protocol),Ac.validateTimestamp(t.descriptor.messageTimestamp),new Cy(t)})}static create(t){var n;return TS(this,void 0,void 0,function*(){const i={interface:Ao.Protocols,method:Xi.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ac.getCurrentTimestamp(),filter:t.filter?Cy.normalizeFilter(t.filter):void 0};let u;qu(i),void 0!==t.signer&&(u=yield fi.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId}));const y={descriptor:i,authorization:u};return fi.validateJsonSchema(y),new Cy(y)})}static normalizeFilter(t){return Object.assign(Object.assign({},t),{protocol:ly(t.protocol)})}authorize(t,n){return TS(this,void 0,void 0,function*(){if(this.author!==t){if(void 0===this.author||!this.signaturePayload.permissionGrantId)throw new me(Te.ProtocolsQueryUnauthorized,"The ProtocolsQuery failed authorization");{const i=yield ts.fetchGrant(t,n,this.signaturePayload.permissionGrantId);yield Oh.performBaseValidation({incomingMessage:this.message,expectedGrantor:t,expectedGrantee:this.author,permissionGrant:i,messageStore:n})}}})}}var T6=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class GR{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return T6(this,void 0,void 0,function*(){let i;try{i=yield Cy.parse(n)}catch(d){return ka(d,400)}try{yield h0(n.authorization,this.didResolver),yield i.authorize(t,this.messageStore)}catch(d){return d.code===Te.AuthenticateJwsMissing||d.code===Te.ProtocolsQueryUnauthorized?{status:{code:200,detail:"OK"},entries:yield this.fetchPublishedProtocolsConfigure(t,i)}:ka(d,401)}const u=Object.assign(Object.assign({},n.descriptor.filter),{interface:Ao.Protocols,method:Xi.Configure});qu(u);const{messages:y}=yield this.messageStore.query(t,[u]);return{status:{code:200,detail:"OK"},entries:y}})}fetchPublishedProtocolsConfigure(t,n){return T6(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},n.message.descriptor.filter),{interface:Ao.Protocols,method:Xi.Configure,published:!0}),{messages:u}=yield this.messageStore.query(t,[i]);return u})}}var Pu=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class cs{static validateReferentialIntegrity(t,n,i){return Pu(this,void 0,void 0,function*(){const u=yield cs.fetchProtocolDefinition(t,n.message.descriptor.protocol,i);cs.verifyType(n.message,u.types),yield cs.verifyProtocolPathAndContextId(t,n,i);const y=cs.getRuleSet(n.message.descriptor.protocolPath,u);yield cs.verifyAsRoleRecordIfNeeded(t,n,y,i),cs.verifySizeLimit(n,y),cs.verifyTagsIfNeeded(n,y)})}static authorizeWrite(t,n,i){return Pu(this,void 0,void 0,function*(){let y;y=void 0===(yield cs.fetchInitialWrite(t,n.message.recordId,i))?yield cs.constructRecordChain(t,n.message.descriptor.parentId,i):yield cs.constructRecordChain(t,n.message.recordId,i);const d=yield cs.fetchProtocolDefinition(t,n.message.descriptor.protocol,i),m=cs.getRuleSet(n.message.descriptor.protocolPath,d);yield cs.verifyInvokedRole(t,n,n.message.descriptor.protocol,n.message.contextId,d,i),yield cs.authorizeAgainstAllowedActions(t,n,m,y,i)})}static authorizeRead(t,n,i,u){return Pu(this,void 0,void 0,function*(){const y=yield cs.constructRecordChain(t,i.message.recordId,u),d=yield cs.fetchProtocolDefinition(t,i.message.descriptor.protocol,u),m=cs.getRuleSet(i.message.descriptor.protocolPath,d);yield cs.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,d,u),yield cs.authorizeAgainstAllowedActions(t,n,m,y,u)})}static authorizeQueryOrSubscribe(t,n,i){return Pu(this,void 0,void 0,function*(){const{protocol:u,protocolPath:y,contextId:d}=n.message.descriptor.filter,m=yield cs.fetchProtocolDefinition(t,u,i),Z=cs.getRuleSet(y,m);yield cs.verifyInvokedRole(t,n,u,d,m,i),yield cs.authorizeAgainstAllowedActions(t,n,Z,[],i)})}static authorizeDelete(t,n,i,u){return Pu(this,void 0,void 0,function*(){const y=yield cs.constructRecordChain(t,n.message.descriptor.recordId,u),d=yield cs.fetchProtocolDefinition(t,i.message.descriptor.protocol,u),m=cs.getRuleSet(i.message.descriptor.protocolPath,d);yield cs.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,d,u),yield cs.authorizeAgainstAllowedActions(t,n,m,y,u)})}static fetchProtocolDefinition(t,n,i){return Pu(this,void 0,void 0,function*(){if(n===ts.uri)return ts.definition;const u={interface:Ao.Protocols,method:Xi.Configure,protocol:n},{messages:y}=yield i.query(t,[u]);if(0===y.length)throw new me(Te.ProtocolAuthorizationProtocolNotFound,`unable to find protocol definition for ${n}`);return y[0].descriptor.definition})}static constructRecordChain(t,n,i){return Pu(this,void 0,void 0,function*(){if(void 0===n)return[];const u=[];let y=n;for(;void 0!==y;){const d=yield cs.fetchInitialWrite(t,y,i);if(void 0===d)throw new me(Te.ProtocolAuthorizationParentNotFoundConstructingRecordChain,`Unexpected error that should never trigger: no parent found with ID ${y} when constructing record chain.`);u.push(d),y=d.descriptor.parentId}return u.reverse()})}static fetchInitialWrite(t,n,i){return Pu(this,void 0,void 0,function*(){const u={interface:Ao.Records,method:Xi.Write,recordId:n},{messages:y}=yield i.query(t,[u]);return 0===y.length?void 0:yield ks.getInitialWrite(y)})}static getRuleSet(t,n){const i=cs.getRuleSetAtProtocolPath(t,n);if(void 0===i)throw new me(Te.ProtocolAuthorizationMissingRuleSet,`No rule set defined for protocolPath ${t}`);return i}static verifyProtocolPathAndContextId(t,n,i){var u;return Pu(this,void 0,void 0,function*(){const y=n.message.descriptor.protocolPath,d=cs.getTypeName(y),m=n.message.descriptor.parentId;if(void 0===m){if(y!==d)throw new me(Te.ProtocolAuthorizationParentlessIncorrectProtocolPath,`Declared protocol path '${y}' is not valid for records with no parent'.`);return}const G={isLatestBaseState:!0,interface:Ao.Records,method:Xi.Write,protocol:n.message.descriptor.protocol,recordId:m},{messages:k}=yield i.query(t,[G]),ie=k[0];if(`${null===(u=ie?.descriptor)||void 0===u?void 0:u.protocolPath}/${d}`!==y)throw new me(Te.ProtocolAuthorizationIncorrectProtocolPath,`Could not find matching parent record to verify declared protocol path '${y}'.`);const Ve=`${ie.contextId}/${n.message.recordId}`,qe=n.message.contextId;if(qe!==Ve)throw new me(Te.ProtocolAuthorizationIncorrectContextId,`Declared contextId '${qe}' is not the same as expected: '${Ve}'.`)})}static verifyType(t,n){const i=Object.keys(n),y=cs.getTypeName(t.descriptor.protocolPath);if(!i.includes(y))throw new me(Te.ProtocolAuthorizationInvalidType,`record with type ${y} not allowed in protocol`);const m=cs.getTypeName(t.descriptor.protocolPath),Z=n[m],{schema:G}=t.descriptor;if(void 0!==Z.schema&&Z.schema!==G)throw new me(Te.ProtocolAuthorizationInvalidSchema,`type '${m}' must have schema '${Z.schema}',         instead has '${G}'`);const{dataFormat:k}=t.descriptor;if(void 0!==Z.dataFormats&&!Z.dataFormats.includes(k))throw new me(Te.ProtocolAuthorizationIncorrectDataFormat,`type '${m}' must have data format in (${Z.dataFormats}),         instead has '${k}'`)}static verifyInvokedRole(t,n,i,u,y,d){var m;return Pu(this,void 0,void 0,function*(){const Z=null===(m=n.signaturePayload)||void 0===m?void 0:m.protocolRole;if(void 0===Z)return;const G=cs.getRuleSetAtProtocolPath(Z,y);if(void 0===G||!G.$role)throw new me(Te.ProtocolAuthorizationNotARole,`Protocol path ${Z} does not match role record type.`);const k={interface:Ao.Records,method:Xi.Write,protocol:i,protocolPath:Z,recipient:n.author,isLatestBaseState:!0},ie=Z.split("/").length-1;if(void 0===u&&ie>0)throw new me(Te.ProtocolAuthorizationMissingContextId,"Could not verify role because contextId is missing.");if(ie>0){const Ve=u.split("/").slice(0,ie).join("/"),qe=ou.constructPrefixFilterAsRangeFilter(Ve);k.contextId=qe}const{messages:Ue}=yield d.query(t,[k]);if(0===Ue.length)throw new me(Te.ProtocolAuthorizationMatchingRoleRecordNotFound,`No matching role record found for protocol path ${Z}`)})}static getActionsSeekingARuleMatch(t,n,i){return Pu(this,void 0,void 0,function*(){switch(n.message.descriptor.method){case Xi.Delete:const u=n,y=u.message.descriptor.recordId,d=yield ks.fetchInitialRecordsWrite(i,t,y);if(void 0===d)return[];const m=[];return u.message.descriptor.prune?(m.push(zl.CoPrune),n.author===d.author&&m.push(zl.Prune)):(m.push(zl.CoDelete),n.author===d.author&&m.push(zl.Delete)),m;case Xi.Query:return[zl.Query];case Xi.Read:return[zl.Read];case Xi.Subscribe:return[zl.Subscribe];case Xi.Write:if(yield n.isInitialWrite())return[zl.Create];{const k=n.message.recordId,ie=yield ks.fetchInitialRecordsWrite(i,t,k);return void 0===ie?[]:n.author===ie.author?[zl.CoUpdate,zl.Update]:[zl.CoUpdate]}}return[]})}static authorizeAgainstAllowedActions(t,n,i,u,y){var d;return Pu(this,void 0,void 0,function*(){const m=n.message.descriptor.method,Z=yield cs.getActionsSeekingARuleMatch(t,n,y),G=n.author,k=i.$actions;if(void 0===k)throw new me(Te.ProtocolAuthorizationActionRulesNotFound,`no action rule defined for Records${m}, ${G} is unauthorized`);const ie=null===(d=n.signaturePayload)||void 0===d?void 0:d.protocolRole;for(const Ue of k)if(Ue.can.some(qe=>Z.includes(qe))){if(Ue.who===Ay.Anyone)return;if(void 0!==G)if(void 0===ie)if(Ue.who!==Ay.Recipient||void 0!==Ue.of){if(yield cs.checkActor(G,Ue,u))return}else{let qe;if(qe=n.message.descriptor.method===Xi.Write?n.message:u[u.length-1],qe.descriptor.recipient===G)return}else if(Ue.role===ie)return}throw new me(Te.ProtocolAuthorizationActionNotAllowed,`Inbound message action Records${m} by author ${n.author} not allowed.`)})}static verifySizeLimit(t,n){const{min:i=0,max:u}=n.$size||{},y=t.message.descriptor.dataSize;if(y<i)throw new me(Te.ProtocolAuthorizationMinSizeInvalid,`data size ${y} is less than allowed ${i}`);if(void 0!==u&&y>u)throw new me(Te.ProtocolAuthorizationMaxSizeInvalid,`data size ${y} is more than allowed ${u}`)}static verifyTagsIfNeeded(t,n){if(void 0!==n.$tags){const{tags:i={},protocol:u,protocolPath:y}=t.message.descriptor,d=n.$tags,{$allowUndefinedTags:m,$requiredTags:Z}=d,G=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(d,["$allowUndefinedTags","$requiredTags"]),k=m||!1,ie=Z||[],Ue=new gM.default,He=Ue.compile({type:"object",properties:G,required:ie,additionalProperties:k});if(!He(i)){const qe=Ue.errorsText(He.errors,{dataVar:`${u}/${y}/$tags`});throw new me(Te.ProtocolAuthorizationTagsInvalidSchema,`tags schema validation error: ${qe}`)}}}static verifyAsRoleRecordIfNeeded(t,n,i,u){return Pu(this,void 0,void 0,function*(){if(!i.$role)return;const y=n,d=y.message.descriptor.recipient;if(void 0===d)throw new me(Te.ProtocolAuthorizationRoleMissingRecipient,"Role records must have a recipient");const m=y.message.descriptor.protocolPath,Z={interface:Ao.Records,method:Xi.Write,isLatestBaseState:!0,protocol:y.message.descriptor.protocol,protocolPath:m,recipient:d},G=Jo.getParentContextFromOfContextId(y.message.contextId);if(""!==G){const He=ou.constructPrefixFilterAsRangeFilter(G);Z.contextId=He}const{messages:k}=yield u.query(t,[Z]);if(k.filter(He=>He.recordId!==y.message.recordId).length>0)throw new me(Te.ProtocolAuthorizationDuplicateRoleRecipient,`DID '${d}' is already recipient of a role record at protocol path '${m} under the parent context ${G}.`)})}static getRuleSetAtProtocolPath(t,n){const i=t.split("/");let u=n.structure,y=0;for(;y<i.length;){const m=u[i[y]];if(void 0===m)return;u=m,y++}return u}static checkActor(t,n,i){return Pu(this,void 0,void 0,function*(){const u=i.find(y=>y.descriptor.protocolPath===n.of);if(void 0===u)return!1;if(n.who===Ay.Recipient)return t===u.descriptor.recipient;{const y=(yield ks.parse(u)).author;return t===y}})}static getTypeName(t){return t.split("/").slice(-1)[0]}}var wM=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class nv extends rm{static parse(t){return wM(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield fi.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield Jo.validateDelegatedGrantReferentialIntegrity(t,n),Ac.validateTimestamp(t.descriptor.messageTimestamp),new nv(t)})}static create(t){var n,i;return wM(this,void 0,void 0,function*(){const u=t.recordId,y=Ac.getCurrentTimestamp(),d={interface:Ao.Records,method:Xi.Delete,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:y,recordId:u,prune:null!==(i=t.prune)&&void 0!==i&&i},Z={descriptor:d,authorization:yield fi.createAuthorization({descriptor:d,signer:t.signer,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant})};return fi.validateJsonSchema(Z),new nv(Z)})}constructIndexes(t){const i=Object.assign({},this.message.descriptor),{protocol:u,protocolPath:y,recipient:d,schema:m,parentId:Z,dateCreated:G}=t.descriptor,k=Object.assign({protocol:u,protocolPath:y,recipient:d,schema:m,parentId:Z,dateCreated:G,contextId:t.contextId,author:this.author},i);return qu(k),k}authorizeDelegate(t,n){return wM(this,void 0,void 0,function*(){const i=yield Rh.parse(this.message.authorization.authorDelegatedGrant);yield Qf.authorizeDelete({recordsDeleteMessage:this.message,recordsWriteToDelete:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}var Jb=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},_M=function(r){return r.RecordsDelete="RecordsDelete",r}(_M||{});let DS=(()=>{class r{constructor(n,i){this.resumableTaskStore=n,this.resumableTaskBatchSize=100,this.resumableTaskHandlers={[_M.RecordsDelete]:u=>Jb(this,void 0,void 0,function*(){return yield i.performRecordsDelete(u)})}}run(n){return Jb(this,void 0,void 0,function*(){const i=2*r.timeoutExtensionFrequencyInSeconds,u=yield this.resumableTaskStore.register(n,i);yield this.runWithAutomaticTimeoutExtension(u)})}runWithAutomaticTimeoutExtension(n){return Jb(this,void 0,void 0,function*(){const i=2*r.timeoutExtensionFrequencyInSeconds;let u;try{u=setInterval(()=>{this.resumableTaskStore.extend(n.id,i)},1e3*r.timeoutExtensionFrequencyInSeconds);const y=this.resumableTaskHandlers[n.task.name];yield y(n.task.data),yield this.resumableTaskStore.delete(n.id)}finally{r.clearTimeoutExtensionTimer(u)}})}static clearTimeoutExtensionTimer(n){clearInterval(n)}resumeTasksAndWaitForCompletion(){return Jb(this,void 0,void 0,function*(){for(;;){const n=yield this.resumableTaskStore.grab(this.resumableTaskBatchSize);if(void 0===n||0===n.length)break;yield this.retryTasksUntilCompletion(n)}})}retryTasksUntilCompletion(n){return Jb(this,void 0,void 0,function*(){let i=n;for(;i.length>0;){const u=i;i=[];const y=u.map(d=>Jb(this,void 0,void 0,function*(){try{yield this.runWithAutomaticTimeoutExtension(d)}catch(m){console.error("Error while running resumable task:",m),console.error("Resumable task:",n),i.push(d)}}));yield Promise.all(y)}})}}return r.timeoutExtensionFrequencyInSeconds=30,r})();var EM=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class qb{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.resumableTaskManager=i}handle({tenant:t,message:n}){return EM(this,void 0,void 0,function*(){let i;try{i=yield nv.parse(n)}catch(G){return ka(G,400)}try{yield h0(n.authorization,this.didResolver)}catch(G){return ka(G,401)}const u={interface:Ao.Records,recordId:n.descriptor.recordId},{messages:y}=yield this.messageStore.query(t,[u]),d=yield fi.getNewestMessage(y);if(void 0===d||d.descriptor.method===Xi.Delete)return{status:{code:404,detail:"Not Found"}};if(!(yield fi.isNewer(n,d)))return{status:{code:409,detail:"Conflict"}};try{yield qb.authorizeRecordsDelete(t,i,yield ks.parse(d),this.messageStore)}catch(G){return ka(G,401)}return yield this.resumableTaskManager.run({name:_M.RecordsDelete,data:{tenant:t,message:n}}),{status:{code:202,detail:"Accepted"}}})}static authorizeRecordsDelete(t,n,i,u){return EM(this,void 0,void 0,function*(){if(fi.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,u)),n.author!==t){if(void 0===i.message.descriptor.protocol)throw new me(Te.RecordsDeleteAuthorizationFailed,"RecordsDelete message failed authorization");yield cs.authorizeDelete(t,n,i,u)}})}}var yp=function(r){return r[r.Descending=-1]="Descending",r[r.Ascending=1]="Ascending",r}(yp||{}),H_=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class om{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return H_(this,void 0,void 0,function*(){let i,u,y;try{i=yield Xb.parse(n)}catch(d){return ka(d,400)}if(Jo.filterIncludesPublishedRecords(i.message.descriptor.filter)&&void 0===i.author){const d=yield this.fetchPublishedRecords(t,i);u=d.messages,y=d.cursor}else{try{yield h0(n.authorization,this.didResolver),yield om.authorizeRecordsQuery(t,i,this.messageStore)}catch(d){return ka(d,401)}if(i.author===t){const d=yield this.fetchRecordsAsOwner(t,i);u=d.messages,y=d.cursor}else{const d=yield this.fetchRecordsAsNonOwner(t,i);u=d.messages,y=d.cursor}}for(const d of u)if(!(yield ks.isInitialWrite(d))){const Z=(yield this.messageStore.query(t,[{recordId:d.recordId,isLatestBaseState:!1,method:Xi.Write}])).messages[0];delete Z.encodedData,d.initialWrite=Z}return{status:{code:200,detail:"OK"},entries:u,cursor:y}})}convertDateSort(t){switch(t){case xu.CreatedAscending:return{dateCreated:yp.Ascending};case xu.CreatedDescending:return{dateCreated:yp.Descending};case xu.PublishedAscending:return{datePublished:yp.Ascending};case xu.PublishedDescending:return{datePublished:yp.Descending};default:return{dateCreated:yp.Ascending}}}fetchRecordsAsOwner(t,n){return H_(this,void 0,void 0,function*(){const{dateSort:i,filter:u,pagination:y}=n.message.descriptor,d=Object.assign(Object.assign({},Jo.convertFilter(u,i)),{interface:Ao.Records,method:Xi.Write,isLatestBaseState:!0}),m=this.convertDateSort(i);return this.messageStore.query(t,[d],m,y)})}fetchRecordsAsNonOwner(t,n){return H_(this,void 0,void 0,function*(){const{dateSort:i,pagination:u,filter:y}=n.message.descriptor,d=[];if(Jo.filterIncludesPublishedRecords(y)&&d.push(om.buildPublishedRecordsFilter(n)),Jo.filterIncludesUnpublishedRecords(y)){d.push(om.buildUnpublishedRecordsByQueryAuthorFilter(n));const Z=n.message.descriptor.filter.recipient;(void 0===Z||Z===n.author)&&d.push(om.buildUnpublishedRecordsForQueryAuthorFilter(n)),Jo.shouldProtocolAuthorize(n.signaturePayload)&&d.push(om.buildUnpublishedProtocolAuthorizedRecordsFilter(n))}const m=this.convertDateSort(i);return this.messageStore.query(t,d,m,u)})}fetchPublishedRecords(t,n){return H_(this,void 0,void 0,function*(){const{dateSort:i,pagination:u}=n.message.descriptor,y=om.buildPublishedRecordsFilter(n),d=this.convertDateSort(i);return this.messageStore.query(t,[y],d,u)})}static buildPublishedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},Jo.convertFilter(i,n)),{interface:Ao.Records,method:Xi.Write,published:!0,isLatestBaseState:!0})}static buildUnpublishedRecordsForQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},Jo.convertFilter(i,n)),{interface:Ao.Records,method:Xi.Write,recipient:t.author,isLatestBaseState:!0,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},Jo.convertFilter(i,n)),{interface:Ao.Records,method:Xi.Write,isLatestBaseState:!0,published:!1})}static buildUnpublishedRecordsByQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},Jo.convertFilter(i,n)),{author:t.author,interface:Ao.Records,method:Xi.Write,isLatestBaseState:!0,published:!1})}static authorizeRecordsQuery(t,n,i){return H_(this,void 0,void 0,function*(){fi.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),Jo.shouldProtocolAuthorize(n.signaturePayload)&&(yield cs.authorizeQueryOrSubscribe(t,n,i))})}}var RS=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class Qb extends rm{static parse(t){return RS(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield fi.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield Jo.validateDelegatedGrantReferentialIntegrity(t,n),Ac.validateTimestamp(t.descriptor.messageTimestamp),new Qb(t)})}static create(t){var n;return RS(this,void 0,void 0,function*(){const{filter:i,signer:u,permissionGrantId:y,protocolRole:d}=t,m=Ac.getCurrentTimestamp(),Z={interface:Ao.Records,method:Xi.Read,filter:Jo.normalizeFilter(i),messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:m};let G;qu(Z),void 0!==u&&(G=yield fi.createAuthorization({descriptor:Z,signer:u,permissionGrantId:y,protocolRole:d,delegatedGrant:t.delegatedGrant}));const k={descriptor:Z,authorization:G};return fi.validateJsonSchema(k),new Qb(k)})}authorizeDelegate(t,n){return RS(this,void 0,void 0,function*(){const i=yield Rh.parse(this.message.authorization.authorDelegatedGrant);yield Qf.authorizeRead({recordsReadMessage:this.message,recordsWriteMessageToBeRead:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}var xM=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class SM{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return xM(this,void 0,void 0,function*(){let i;try{i=yield Qb.parse(n)}catch(k){return ka(k,400)}try{void 0!==i.author&&(yield h0(n.authorization,this.didResolver))}catch(k){return ka(k,401)}const u=Object.assign({interface:Ao.Records,isLatestBaseState:!0},Jo.convertFilter(n.descriptor.filter)),{messages:y}=yield this.messageStore.query(t,[u]);if(0===y.length)return{status:{code:404,detail:"Not Found"}};if(y.length>1)return ka(new me(Te.RecordsReadReturnedMultiple,"Multiple records exist for the RecordsRead filter"),400);const d=y[0];try{yield SM.authorizeRecordsRead(t,i,yield ks.parse(d),this.messageStore)}catch(k){return ka(k,401)}let m;if(void 0!==d.encodedData){const k=X.base64UrlToBytes(d.encodedData);m=im.fromBytes(k),delete d.encodedData}else{const k=yield this.dataStore.get(t,d.recordId,d.descriptor.dataCid);if(void 0===k?.dataStream)return{status:{code:404,detail:"Not Found"}};m=k.dataStream}const Z=Object.assign(Object.assign({},d),{data:m});if(!(yield ks.isInitialWrite(Z))){const ie=(yield this.messageStore.query(t,[{recordId:Z.recordId,isLatestBaseState:!1,method:Xi.Write}])).messages[0];delete ie.encodedData,Z.initialWrite=ie}return{status:{code:200,detail:"OK"},record:Z}})}static authorizeRecordsRead(t,n,i,u){return xM(this,void 0,void 0,function*(){fi.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,u));const{descriptor:y}=i.message;if(n.author!==t){if(!0===y.published)return;if(void 0!==n.author&&n.author===y.recipient)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const d=yield ts.fetchGrant(t,u,n.signaturePayload.permissionGrantId);yield Qf.authorizeRead({recordsReadMessage:n.message,recordsWriteMessageToBeRead:i.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:d,messageStore:u})}else{if(void 0===y.protocol)throw new me(Te.RecordsReadAuthorizationFailed,"message failed authorization");yield cs.authorizeRead(t,n,i,u)}}})}}var AM=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class W_ extends rm{static parse(t){return AM(this,void 0,void 0,function*(){let n;if(void 0!==t.authorization&&(n=yield fi.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield Jo.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new me(Te.RecordsSubscribeFilterMissingRequiredProperties,"Role-authorized subscriptions must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&cy(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&Cx(t.descriptor.filter.schema),Ac.validateTimestamp(t.descriptor.messageTimestamp),new W_(t)})}static create(t){var n;return AM(this,void 0,void 0,function*(){const i={interface:Ao.Records,method:Xi.Subscribe,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ac.getCurrentTimestamp(),filter:Jo.normalizeFilter(t.filter)};qu(i);const u=t.signer;let y;u&&(y=yield fi.createAuthorization({descriptor:i,signer:u,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const d={descriptor:i,authorization:y};return fi.validateJsonSchema(d),new W_(d)})}authorizeDelegate(t){return AM(this,void 0,void 0,function*(){const n=yield Rh.parse(this.message.authorization.authorDelegatedGrant);yield Qf.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}}var OS=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class p0{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventStream=i}handle({tenant:t,message:n,subscriptionHandler:i}){return OS(this,void 0,void 0,function*(){if(void 0===this.eventStream)return ka(new me(Te.RecordsSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let u;try{u=yield W_.parse(n)}catch(G){return ka(G,400)}let y=[];if(Jo.filterIncludesPublishedRecords(u.message.descriptor.filter)&&void 0===u.author)y=[p0.buildPublishedRecordsFilter(u)],delete n.authorization;else{try{yield h0(n.authorization,this.didResolver),yield p0.authorizeRecordsSubscribe(t,u,this.messageStore)}catch(G){return ka(G,401)}y=u.author===t?yield p0.filterAsOwner(u):yield p0.filterAsNonOwner(u)}const m=yield fi.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,m,(G,k,ie)=>{t===G&&ou.matchAnyFilter(ie,y)&&i(k)})}})}static filterAsOwner(t){return OS(this,void 0,void 0,function*(){const{filter:n}=t.message.descriptor;return[Object.assign(Object.assign({},Jo.convertFilter(n)),{interface:Ao.Records,method:[Xi.Write,Xi.Delete]})]})}static filterAsNonOwner(t){return OS(this,void 0,void 0,function*(){const n=[],{filter:i}=t.message.descriptor;if(Jo.filterIncludesPublishedRecords(i)&&n.push(p0.buildPublishedRecordsFilter(t)),Jo.filterIncludesUnpublishedRecords(i)){n.push(p0.buildUnpublishedRecordsBySubscribeAuthorFilter(t));const u=t.message.descriptor.filter.recipient;(void 0===u||u===t.author)&&n.push(p0.buildUnpublishedRecordsForSubscribeAuthorFilter(t)),Jo.shouldProtocolAuthorize(t.signaturePayload)&&n.push(p0.buildUnpublishedProtocolAuthorizedRecordsFilter(t))}return n})}static buildPublishedRecordsFilter(t){return Object.assign(Object.assign({},Jo.convertFilter(t.message.descriptor.filter)),{interface:Ao.Records,method:[Xi.Write,Xi.Delete],published:!0})}static buildUnpublishedRecordsForSubscribeAuthorFilter(t){return Object.assign(Object.assign({},Jo.convertFilter(t.message.descriptor.filter)),{interface:Ao.Records,method:[Xi.Write,Xi.Delete],recipient:t.author,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){return Object.assign(Object.assign({},Jo.convertFilter(t.message.descriptor.filter)),{interface:Ao.Records,method:[Xi.Write,Xi.Delete],published:!1})}static buildUnpublishedRecordsBySubscribeAuthorFilter(t){return Object.assign(Object.assign({},Jo.convertFilter(t.message.descriptor.filter)),{author:t.author,interface:Ao.Records,method:[Xi.Write,Xi.Delete],published:!1})}static authorizeRecordsSubscribe(t,n,i){return OS(this,void 0,void 0,function*(){fi.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),Jo.shouldProtocolAuthorize(n.signaturePayload)&&(yield cs.authorizeQueryOrSubscribe(t,n,i))})}}let CM=(()=>{class r{}return r.maxDataSizeAllowedToBeEncoded=3e4,r})();var G_=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class Kh{constructor({messageStore:t,dataStore:n,eventLog:i,eventStream:u}){this.messageStore=t,this.dataStore=n,this.eventLog=i,this.eventStream=u}performRecordsDelete({tenant:t,message:n}){return G_(this,void 0,void 0,function*(){const i={interface:Ao.Records,recordId:n.descriptor.recordId},{messages:u}=yield this.messageStore.query(t,[i]),y=yield fi.getNewestMessage(u);if(void 0===y||y.descriptor.method===Xi.Delete)return;const d=yield nv.parse(n),m=yield ks.getInitialWrite(u),Z=d.constructIndexes(m),G=yield fi.getCid(n);yield this.messageStore.put(t,n,Z),yield this.eventLog.append(t,G,Z),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n,initialWrite:m},Z),n.descriptor.prune&&(yield Kh.purgeRecordDescendants(t,n.descriptor.recordId,this.messageStore,this.dataStore,this.eventLog)),yield Kh.deleteAllOlderMessagesButKeepInitialWrite(t,u,n,this.messageStore,this.dataStore,this.eventLog)})}static deleteFromDataStoreIfNeeded(t,n,i,u){return G_(this,void 0,void 0,function*(){if(i.descriptor.method!==Xi.Write)return;const y=i;y.descriptor.dataSize<=CM.maxDataSizeAllowedToBeEncoded||y.descriptor.dataCid!==u.descriptor.dataCid&&(yield t.delete(n,y.recordId,y.descriptor.dataCid))})}static purgeRecordDescendants(t,n,i,u,y){return G_(this,void 0,void 0,function*(){const d={interface:Ao.Records,parentId:n},{messages:m}=yield i.query(t,[d]),Z=new Map;for(const G of m){let k;k=Jo.isRecordsWrite(G)?G.recordId:G.descriptor.recordId,Z.has(k)||Z.set(k,[]),Z.get(k).push(G)}for(const G of Z.keys())yield Kh.purgeRecordDescendants(t,G,i,u,y);for(const G of Z.keys())yield Kh.purgeRecordMessages(t,Z.get(G),i,u,y)})}static purgeRecordMessages(t,n,i,u,y){return G_(this,void 0,void 0,function*(){const d=n.filter(G=>G.descriptor.method===Xi.Write),m=yield fi.getNewestMessage(d);yield u.delete(t,m.recordId,m.descriptor.dataCid);const Z=yield Promise.all(n.map(G=>fi.getCid(G)));yield y.deleteEventsByCid(t,Z),yield Promise.all(Z.map(G=>i.delete(t,G)))})}static deleteAllOlderMessagesButKeepInitialWrite(t,n,i,u,y,d){return G_(this,void 0,void 0,function*(){const m=[];for(const Z of n){if(yield fi.isOlder(Z,i)){yield Kh.deleteFromDataStoreIfNeeded(y,t,Z,i);const k=yield fi.getCid(Z);if(yield u.delete(t,k),yield ks.isInitialWrite(Z)){const Ve=yield(yield ks.parse(Z)).constructIndexes(!1),qe=Z;delete qe.encodedData,yield u.put(t,qe,Ve)}else{const Ue=yield fi.getCid(Z);m.push(Ue)}}yield d.deleteEventsByCid(t,m)}})}}var My=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class Iy{constructor(t,n,i,u,y){this.didResolver=t,this.messageStore=n,this.dataStore=i,this.eventLog=u,this.eventStream=y}handle({tenant:t,message:n,dataStream:i}){return My(this,void 0,void 0,function*(){let u;try{u=yield ks.parse(n),void 0!==n.descriptor.protocol&&(yield cs.validateReferentialIntegrity(t,u,this.messageStore))}catch(He){return ka(He,400)}try{yield h0(n.authorization,this.didResolver),yield Iy.authorizeRecordsWrite(t,u,this.messageStore)}catch(He){return ka(He,401)}const y={interface:Ao.Records,recordId:n.recordId},{messages:d}=yield this.messageStore.query(t,[y]),m=yield u.isInitialWrite();let Z;if(!m)try{Z=yield ks.getInitialWrite(d),ks.verifyEqualityOfImmutableProperties(Z,n)}catch(He){return ka(He,400)}const G=yield fi.getNewestMessage(d);let ie,k=!1;if(void 0===G||(yield fi.isNewer(n,G))?(k=!0,ie=n):ie=G,!k)return{status:{code:409,detail:"Conflict"}};try{yield this.preProcessingForCoreRecordsWrite(t,n);let He=!1,Ve=n;if(void 0!==i)Ve=yield this.processMessageWithDataStream(t,n,i),He=!0;else{if(G?.descriptor.method===Xi.Delete)throw new me(Te.RecordsWriteMissingDataStream,"No data stream was provided with the previous message being a delete");if(!m){const pt=G;Ve=yield this.processMessageWithoutDataStream(t,n,pt),He=!0}}const qe=yield u.constructIndexes(He);yield this.messageStore.put(t,Ve,qe),yield this.eventLog.append(t,yield fi.getCid(n),qe),void 0!==this.eventStream&&He&&this.eventStream.emit(t,{message:n,initialWrite:Z},qe)}catch(He){const Ve=He;if(void 0!==Ve.code&&(Ve.code===Te.RecordsWriteMissingEncodedDataInPrevious||Ve.code===Te.RecordsWriteMissingDataInPrevious||Ve.code===Te.RecordsWriteMissingDataStream||Ve.code===Te.RecordsWriteDataCidMismatch||Ve.code===Te.RecordsWriteDataSizeMismatch||Ve.code.startsWith("PermissionsProtocolValidate")||Ve.code.startsWith("SchemaValidator")))return ka(He,400);throw He}return yield Kh.deleteAllOlderMessagesButKeepInitialWrite(t,d,ie,this.messageStore,this.dataStore,this.eventLog),yield this.postProcessingForCoreRecordsWrite(t,u),{status:{code:202,detail:"Accepted"}}})}preProcessingForCoreRecordsWrite(t,n){var i;return My(this,void 0,void 0,function*(){if(n.descriptor.protocol===ts.uri&&n.descriptor.protocolPath===ts.revocationPath){const u=n.descriptor.parentId,y=yield ts.fetchGrant(t,this.messageStore,u),d=null===(i=n.descriptor.tags)||void 0===i?void 0:i.protocol,m="protocol"in y.scope?y.scope.protocol:void 0;if(m!==d)throw new me(Te.PermissionsProtocolValidateRevocationProtocolTagMismatch,`Revocation protocol ${d} does not match grant protocol ${m}`)}})}static validateSchemaForCoreRecordsWrite(t,n){t.descriptor.protocol===ts.uri&&ts.validateSchema(t,n)}postProcessingForCoreRecordsWrite(t,n){return My(this,void 0,void 0,function*(){if(n.message.descriptor.protocol===ts.uri&&n.message.descriptor.protocolPath===ts.revocationPath){const u={permissionGrantId:n.message.descriptor.parentId,dateCreated:{gte:n.message.descriptor.messageTimestamp}},{messages:y}=yield this.messageStore.query(t,[u]),d=[];for(const m of y){const Z=yield fi.getCid(m);yield this.messageStore.delete(t,Z)}this.eventLog.deleteEventsByCid(t,d)}})}cloneAndAddEncodedData(t,n){return My(this,void 0,void 0,function*(){const i=Object.assign({},t);return i.encodedData=X.bytesToBase64Url(n),i})}processMessageWithDataStream(t,n,i){return My(this,void 0,void 0,function*(){let u=n;if(n.descriptor.dataSize<=CM.maxDataSizeAllowedToBeEncoded){const y=yield im.toBytes(i),d=yield Rd.computeDagPbCidFromBytes(y);Iy.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,d,y.length),Iy.validateSchemaForCoreRecordsWrite(n,y),u=yield this.cloneAndAddEncodedData(n,y)}else{const[y,d]=im.duplicateDataStream(i,2);try{const[m,Z]=yield Promise.all([Rd.computeDagPbCidFromStream(y),this.dataStore.put(t,n.recordId,n.descriptor.dataCid,d)]);Iy.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,m,Z.dataSize)}catch(m){throw yield this.dataStore.delete(t,n.recordId,n.descriptor.dataCid),m}}return u})}processMessageWithoutDataStream(t,n,i){return My(this,void 0,void 0,function*(){const u=Object.assign({},n),{dataCid:y,dataSize:d}=n.descriptor;if(Iy.validateDataIntegrity(y,d,i.descriptor.dataCid,i.descriptor.dataSize),d<=CM.maxDataSizeAllowedToBeEncoded){if(void 0===i.encodedData)throw new me(Te.RecordsWriteMissingEncodedDataInPrevious,"No dataStream was provided and unable to get data from previous message");u.encodedData=i.encodedData}else if(void 0===(yield this.dataStore.get(t,i.recordId,n.descriptor.dataCid)))throw new me(Te.RecordsWriteMissingDataInPrevious,"No dataStream was provided and unable to get data from previous message");return u})}static validateDataIntegrity(t,n,i,u){if(t!==i)throw new me(Te.RecordsWriteDataCidMismatch,`actual data CID ${i} does not match dataCid in descriptor: ${t}`);if(n!==u)throw new me(Te.RecordsWriteDataSizeMismatch,`actual data size ${u} bytes does not match dataSize in descriptor: ${n}`)}static authorizeRecordsWrite(t,n,i){return My(this,void 0,void 0,function*(){if(void 0!==n.owner&&n.owner!==t)throw new me(Te.RecordsWriteOwnerAndTenantMismatch,`Owner ${n.owner} must be the same as tenant ${t} when specified.`);if(n.isSignedByAuthorDelegate&&(yield n.authorizeAuthorDelegate(i)),n.isSignedByOwnerDelegate&&(yield n.authorizeOwnerDelegate(i)),void 0===n.owner){if(n.author===t)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const u=yield ts.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield Qf.authorizeWrite({recordsWriteMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:u,messageStore:i})}else{if(void 0===n.message.descriptor.protocol)throw new me(Te.RecordsWriteAuthorizationFailed,"message failed authorization");yield cs.authorizeWrite(t,n,i)}}})}}var X_=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(X_||{});const gp={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Ba{constructor({method:t,id:n,path:i,query:u,fragment:y,params:d}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=u,this.fragment=y,this.params=d}static parse(t){if(!t)return null;const n=Ba.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:u,path:y,query:d,fragment:m}=n.groups,Z={uri:`did:${i}:${u}`,method:i,id:u};if(y&&(Z.path=y),d&&(Z.query=d.slice(1)),m&&(Z.fragment=m.slice(1)),d){const G={},k=d.slice(1).split("&");for(const ie of k){const[Ue,He]=ie.split("=");G[Ue]=He}Z.params=G}return Z}}Ba.METHOD_PATTERN="([a-z0-9]+)",Ba.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Ba.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Ba.PCT_ENCODED_PATTERN})`,Ba.METHOD_ID_PATTERN=`((?:${Ba.ID_CHAR_PATTERN}*:)*(${Ba.ID_CHAR_PATTERN}+))`,Ba.PATH_PATTERN="(/[^#?]*)?",Ba.QUERY_PATTERN="([?][^#]*)?",Ba.FRAGMENT_PATTERN="(#.*)?",Ba.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Ba.METHOD_PATTERN}):(?<id>${Ba.METHOD_ID_PATTERN})(?<path>${Ba.PATH_PATTERN})(?<query>${Ba.QUERY_PATTERN})(?<fragment>${Ba.FRAGMENT_PATTERN})$`);class Co extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co)}}var Oo=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Oo||{}),br=A(37475);function D6(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function MM(r,...t){if(!function O6(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}(r))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function Z_(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}const PS="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function IM(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}const TM=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),sm=(r,t)=>r<<32-t|r>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function kS(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}function t1(r){if("string"==typeof r&&(r=kS(r)),!IM(r))throw new Error("expected Uint8Array, got "+typeof r);return r}function B6(...r){let t=0;for(let i=0;i<r.length;i++){const u=r[i];if(!IM(u))throw new Error("Uint8Array expected");t+=u.length}const n=new Uint8Array(t);for(let i=0,u=0;i<r.length;i++){const y=r[i];n.set(y,u),u+=y.length}return n}class q_{clone(){return this._cloneInto()}}function OM(r){const t=i=>r().update(t1(i)).digest(),n=r();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>r(),t}function am(r=32){if(PS&&"function"==typeof PS.getRandomValues)return PS.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}class PM extends q_{constructor(t,n,i,u){super(),this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=u,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=TM(this.buffer)}update(t){Z_(this);const{view:n,buffer:i,blockLen:u}=this,y=(t=t1(t)).length;for(let d=0;d<y;){const m=Math.min(u-this.pos,y-d);if(m!==u)i.set(t.subarray(d,d+m),this.pos),this.pos+=m,d+=m,this.pos===u&&(this.process(n,0),this.pos=0);else{const Z=TM(t);for(;u<=y-d;d+=u)this.process(Z,d)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){Z_(this),function e1(r,t){MM(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:u,isLE:y}=this;let{pos:d}=this;n[d++]=128,this.buffer.subarray(d).fill(0),this.padOffset>u-d&&(this.process(i,0),d=0);for(let ie=d;ie<u;ie++)n[ie]=0;(function QR(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const u=BigInt(32),y=BigInt(4294967295),d=Number(n>>u&y),m=Number(n&y),G=i?0:4;r.setUint32(t+(i?4:0),d,i),r.setUint32(t+G,m,i)})(i,u-8,BigInt(8*this.length),y),this.process(i,0);const m=TM(t),Z=this.outputLen;if(Z%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const G=Z/4,k=this.get();if(G>k.length)throw new Error("_sha2: outputLen bigger than state");for(let ie=0;ie<G;ie++)m.setUint32(4*ie,k[ie],y)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:u,finished:y,destroyed:d,pos:m}=this;return t.length=u,t.pos=m,t.finished=y,t.destroyed=d,u%n&&t.buffer.set(i),t}}const kM=(r,t,n)=>r&t^~r&n,iB=(r,t,n)=>r&t^r&n^t&n,eO=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ty=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Dy=new Uint32Array(64);class BM extends PM{constructor(){super(64,32,8,!1),this.A=0|Ty[0],this.B=0|Ty[1],this.C=0|Ty[2],this.D=0|Ty[3],this.E=0|Ty[4],this.F=0|Ty[5],this.G=0|Ty[6],this.H=0|Ty[7]}get(){const{A:t,B:n,C:i,D:u,E:y,F:d,G:m,H:Z}=this;return[t,n,i,u,y,d,m,Z]}set(t,n,i,u,y,d,m,Z){this.A=0|t,this.B=0|n,this.C=0|i,this.D=0|u,this.E=0|y,this.F=0|d,this.G=0|m,this.H=0|Z}process(t,n){for(let ie=0;ie<16;ie++,n+=4)Dy[ie]=t.getUint32(n,!1);for(let ie=16;ie<64;ie++){const Ue=Dy[ie-15],He=Dy[ie-2],Ve=sm(Ue,7)^sm(Ue,18)^Ue>>>3,qe=sm(He,17)^sm(He,19)^He>>>10;Dy[ie]=qe+Dy[ie-7]+Ve+Dy[ie-16]|0}let{A:i,B:u,C:y,D:d,E:m,F:Z,G,H:k}=this;for(let ie=0;ie<64;ie++){const He=k+(sm(m,6)^sm(m,11)^sm(m,25))+kM(m,Z,G)+eO[ie]+Dy[ie]|0,qe=(sm(i,2)^sm(i,13)^sm(i,22))+iB(i,u,y)|0;k=G,G=Z,Z=m,m=d+He|0,d=y,y=u,u=i,i=He+qe|0}i=i+this.A|0,u=u+this.B|0,y=y+this.C|0,d=d+this.D|0,m=m+this.E|0,Z=Z+this.F|0,G=G+this.G|0,k=k+this.H|0,this.set(i,u,y,d,m,Z,G,k)}roundClean(){Dy.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const rv=OM(()=>new BM);class L6{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return rv(t)})}}class NM{}BigInt(0);const Q_=BigInt(1),U6=BigInt(2);function bp(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}const iO=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function iv(r){if(!bp(r))throw new Error("Uint8Array expected");let t="";for(let n=0;n<r.length;n++)t+=iO[r[n]];return t}function FM(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);return BigInt(""===r?"0":`0x${r}`)}const Ry={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function oO(r){return r>=Ry._0&&r<=Ry._9?r-Ry._0:r>=Ry._A&&r<=Ry._F?r-(Ry._A-10):r>=Ry._a&&r<=Ry._f?r-(Ry._a-10):void 0}function e2(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);const t=r.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let u=0,y=0;u<n;u++,y+=2){const d=oO(r.charCodeAt(y)),m=oO(r.charCodeAt(y+1));if(void 0===d||void 0===m)throw new Error('hex string expected, got non-hex character "'+(r[y]+r[y+1])+'" at index '+y);i[u]=16*d+m}return i}function n1(r){return FM(iv(r))}function ov(r){if(!bp(r))throw new Error("Uint8Array expected");return FM(iv(Uint8Array.from(r).reverse()))}function cm(r,t){return e2(r.toString(16).padStart(2*t,"0"))}function t2(r,t){return cm(r,t).reverse()}function pl(r,t,n){let i;if("string"==typeof t)try{i=e2(t)}catch(y){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${y}`)}else{if(!bp(t))throw new Error(`${r} must be hex string or Uint8Array`);i=Uint8Array.from(t)}const u=i.length;if("number"==typeof n&&u!==n)throw new Error(`${r} expected ${n} bytes, got ${u}`);return i}function r1(...r){let t=0;for(let u=0;u<r.length;u++){const y=r[u];if(!bp(y))throw new Error("Uint8Array expected");t+=y.length}let n=new Uint8Array(t),i=0;for(let u=0;u<r.length;u++){const y=r[u];n.set(y,i),i+=y.length}return n}const jM=r=>(U6<<BigInt(r-1))-Q_,$M=r=>new Uint8Array(r),j6=r=>Uint8Array.from(r);function $6(r,t,n){if("number"!=typeof r||r<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let i=$M(r),u=$M(r),y=0;const d=()=>{i.fill(1),u.fill(0),y=0},m=(...ie)=>n(u,i,...ie),Z=(ie=$M())=>{u=m(j6([0]),ie),i=m(),0!==ie.length&&(u=m(j6([1]),ie),i=m())},G=()=>{if(y++>=1e3)throw new Error("drbg: tried 1000 values");let ie=0;const Ue=[];for(;ie<t;){i=m();const He=i.slice();Ue.push(He),ie+=i.length}return r1(...Ue)};return(ie,Ue)=>{let He;for(d(),Z(ie);!(He=Ue(G()));)Z();return d(),He}}const aO={bigint:r=>"bigint"==typeof r,function:r=>"function"==typeof r,boolean:r=>"boolean"==typeof r,string:r=>"string"==typeof r,stringOrUint8Array:r=>"string"==typeof r||bp(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>"function"==typeof r&&Number.isSafeInteger(r.outputLen)};function sv(r,t,n={}){const i=(u,y,d)=>{const m=aO[y];if("function"!=typeof m)throw new Error(`Invalid validator "${y}", expected function`);const Z=r[u];if(!(d&&void 0===Z||m(Z,r)))throw new Error(`Invalid param ${String(u)}=${Z} (${typeof Z}), expected ${y}`)};for(const[u,y]of Object.entries(t))i(u,y,!1);for(const[u,y]of Object.entries(n))i(u,y,!0);return r}const dd=BigInt(0),qa=BigInt(1),Oy=BigInt(2),cO=BigInt(3),KM=BigInt(4),K6=BigInt(5),V6=BigInt(8);function hc(r,t){const n=r%t;return n>=dd?n:t+n}function z6(r,t,n){if(n<=dd||t<dd)throw new Error("Expected power/modulo > 0");if(n===qa)return dd;let i=qa;for(;t>dd;)t&qa&&(i=i*r%n),r=r*r%n,t>>=qa;return i}function tl(r,t,n){let i=r;for(;t-- >dd;)i*=i,i%=n;return i}function NS(r,t){if(r===dd||t<=dd)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let n=hc(r,t),i=t,u=dd,y=qa,d=qa,m=dd;for(;n!==dd;){const G=i/n,k=i%n,ie=u-d*G,Ue=y-m*G;i=n,n=k,u=d,y=m,d=ie,m=Ue}if(i!==qa)throw new Error("invert: does not exist");return hc(u,t)}BigInt(9),BigInt(16);const VM=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function G6(r,t){const n=void 0!==t?t:r.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function zM(r,t,n=!1,i={}){if(r<=dd)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:u,nByteLength:y}=G6(r,t);if(y>2048)throw new Error("Field lengths over 2048 bytes are not supported");const d=function fO(r){if(r%KM===cO){const t=(r+qa)/KM;return function(i,u){const y=i.pow(u,t);if(!i.eql(i.sqr(y),u))throw new Error("Cannot find square root");return y}}if(r%V6===K6){const t=(r-K6)/V6;return function(i,u){const y=i.mul(u,Oy),d=i.pow(y,t),m=i.mul(u,d),Z=i.mul(i.mul(m,Oy),d),G=i.mul(m,i.sub(Z,i.ONE));if(!i.eql(i.sqr(G),u))throw new Error("Cannot find square root");return G}}return function uO(r){const t=(r-qa)/Oy;let n,i,u;for(n=r-qa,i=0;n%Oy===dd;n/=Oy,i++);for(u=Oy;u<r&&z6(u,t,r)!==r-qa;u++);if(1===i){const d=(r+qa)/KM;return function(Z,G){const k=Z.pow(G,d);if(!Z.eql(Z.sqr(k),G))throw new Error("Cannot find square root");return k}}const y=(n+qa)/Oy;return function(m,Z){if(m.pow(Z,t)===m.neg(m.ONE))throw new Error("Cannot find square root");let G=i,k=m.pow(m.mul(m.ONE,u),n),ie=m.pow(Z,y),Ue=m.pow(Z,n);for(;!m.eql(Ue,m.ONE);){if(m.eql(Ue,m.ZERO))return m.ZERO;let He=1;for(let qe=m.sqr(Ue);He<G&&!m.eql(qe,m.ONE);He++)qe=m.sqr(qe);const Ve=m.pow(k,qa<<BigInt(G-He-1));k=m.sqr(Ve),ie=m.mul(ie,Ve),Ue=m.mul(Ue,k),G=He}return ie}}(r)}(r),m=Object.freeze({ORDER:r,BITS:u,BYTES:y,MASK:jM(u),ZERO:dd,ONE:qa,create:Z=>hc(Z,r),isValid:Z=>{if("bigint"!=typeof Z)throw new Error("Invalid field element: expected bigint, got "+typeof Z);return dd<=Z&&Z<r},is0:Z=>Z===dd,isOdd:Z=>(Z&qa)===qa,neg:Z=>hc(-Z,r),eql:(Z,G)=>Z===G,sqr:Z=>hc(Z*Z,r),add:(Z,G)=>hc(Z+G,r),sub:(Z,G)=>hc(Z-G,r),mul:(Z,G)=>hc(Z*G,r),pow:(Z,G)=>function pO(r,t,n){if(n<dd)throw new Error("Expected power > 0");if(n===dd)return r.ONE;if(n===qa)return t;let i=r.ONE,u=t;for(;n>dd;)n&qa&&(i=r.mul(i,u)),u=r.sqr(u),n>>=qa;return i}(m,Z,G),div:(Z,G)=>hc(Z*NS(G,r),r),sqrN:Z=>Z*Z,addN:(Z,G)=>Z+G,subN:(Z,G)=>Z-G,mulN:(Z,G)=>Z*G,inv:Z=>NS(Z,r),sqrt:i.sqrt||(Z=>d(m,Z)),invertBatch:Z=>function W6(r,t){const n=new Array(t.length),i=t.reduce((y,d,m)=>r.is0(d)?y:(n[m]=y,r.mul(y,d)),r.ONE),u=r.inv(i);return t.reduceRight((y,d,m)=>r.is0(d)?y:(n[m]=r.mul(y,n[m]),r.mul(y,d)),u),n}(m,Z),cmov:(Z,G,k)=>k?G:Z,toBytes:Z=>n?t2(Z,y):cm(Z,y),fromBytes:Z=>{if(Z.length!==y)throw new Error(`Fp.fromBytes: expected ${y}, got ${Z.length}`);return n?ov(Z):n1(Z)}});return Object.freeze(m)}function HM(r){if("bigint"!=typeof r)throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function Z6(r){const t=HM(r);return t+Math.ceil(t/2)}class LS extends q_{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,function P6(r){if("function"!=typeof r||"function"!=typeof r.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");D6(r.outputLen),D6(r.blockLen)}(t);const i=t1(n);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,y=new Uint8Array(u);y.set(i.length>u?t.create().update(i).digest():i);for(let d=0;d<y.length;d++)y[d]^=54;this.iHash.update(y),this.oHash=t.create();for(let d=0;d<y.length;d++)y[d]^=106;this.oHash.update(y),y.fill(0)}update(t){return Z_(this),this.iHash.update(t),this}digestInto(t){Z_(this),MM(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:u,destroyed:y,blockLen:d,outputLen:m}=this;return t.finished=u,t.destroyed=y,t.blockLen=d,t.outputLen=m,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const GM=(r,t,n)=>new LS(r,t).update(n).digest();GM.create=(r,t)=>new LS(r,t);const Y6=BigInt(0),n2=BigInt(1);function r2(r,t){const n=(u,y)=>{const d=y.negate();return u?d:y},i=u=>({windows:Math.ceil(t/u)+1,windowSize:2**(u-1)});return{constTimeNegate:n,unsafeLadder(u,y){let d=r.ZERO,m=u;for(;y>Y6;)y&n2&&(d=d.add(m)),m=m.double(),y>>=n2;return d},precomputeWindow(u,y){const{windows:d,windowSize:m}=i(y),Z=[];let G=u,k=G;for(let ie=0;ie<d;ie++){k=G,Z.push(k);for(let Ue=1;Ue<m;Ue++)k=k.add(G),Z.push(k);G=k.double()}return Z},wNAF(u,y,d){const{windows:m,windowSize:Z}=i(u);let G=r.ZERO,k=r.BASE;const ie=BigInt(2**u-1),Ue=2**u,He=BigInt(u);for(let Ve=0;Ve<m;Ve++){const qe=Ve*Z;let pt=Number(d&ie);d>>=He,pt>Z&&(pt-=Ue,d+=n2);const At=qe,bt=qe+Math.abs(pt)-1,Ft=pt<0;0===pt?k=k.add(n(Ve%2!=0,y[At])):G=G.add(n(Ft,y[bt]))}return{p:G,f:k}},wNAFCached(u,y,d,m){const Z=u._WINDOW_SIZE||1;let G=y.get(u);return G||(G=this.precomputeWindow(u,Z),1!==Z&&y.set(u,m(G))),this.wNAF(Z,G,d)}}}function J6(r){return function hO(r){sv(r,VM.reduce((i,u)=>(i[u]="function",i),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(r.Fp),sv(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...G6(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const{Ph:gO,aT:lB}=$,av={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){const{Err:t}=av;if(r.length<2||2!==r[0])throw new t("Invalid signature integer tag");const n=r[1],i=r.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:gO(i),l:r.subarray(n+2)}},toSig(r){const{Err:t}=av,n="string"==typeof r?lB(r):r;if(!bp(n))throw new Error("ui8a expected");let i=n.length;if(i<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:u,l:y}=av._parseInt(n.subarray(2)),{d,l:m}=av._parseInt(y);if(m.length)throw new t("Invalid signature: left bytes after parsing");return{r:u,s:d}},hexFromSig(r){const t=G=>8&Number.parseInt(G[0],16)?"00"+G:G,n=G=>{const k=G.toString(16);return 1&k.length?`0${k}`:k},i=t(n(r.s)),u=t(n(r.r)),y=i.length/2,d=u.length/2,m=n(y),Z=n(d);return`30${n(d+y+4)}02${Z}${u}02${m}${i}`}},Vh=BigInt(0),nl=BigInt(1),cv=(BigInt(2),BigInt(3));function bO(r){const t=function vO(r){const t=J6(r);return sv(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(r),{Fp:n,n:i}=t,u=n.BYTES+1,y=2*n.BYTES+1;function m(wn){return hc(wn,i)}function Z(wn){return NS(wn,i)}const{ProjectivePoint:G,normPrivateKeyToScalar:k,weierstrassEquation:ie,isWithinCurveOrder:Ue}=function Q6(r){const t=function q6(r){const t=J6(r);sv(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:u}=t;if(n){if(!i.eql(u,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(r),{Fp:n}=t,i=t.toBytes||((Ve,qe,pt)=>{const At=qe.toAffine();return r1(Uint8Array.from([4]),n.toBytes(At.x),n.toBytes(At.y))}),u=t.fromBytes||(Ve=>{const qe=Ve.subarray(1);return{x:n.fromBytes(qe.subarray(0,n.BYTES)),y:n.fromBytes(qe.subarray(n.BYTES,2*n.BYTES))}});function y(Ve){const{a:qe,b:pt}=t,At=n.sqr(Ve),bt=n.mul(At,Ve);return n.add(n.add(bt,n.mul(Ve,qe)),pt)}if(!n.eql(n.sqr(t.Gy),y(t.Gx)))throw new Error("bad generator point: equation left != right");function d(Ve){return"bigint"==typeof Ve&&Vh<Ve&&Ve<t.n}function m(Ve){if(!d(Ve))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function Z(Ve){const{allowedPrivateKeyLengths:qe,nByteLength:pt,wrapPrivateKey:At,n:bt}=t;if(qe&&"bigint"!=typeof Ve){if(bp(Ve)&&(Ve=iv(Ve)),"string"!=typeof Ve||!qe.includes(Ve.length))throw new Error("Invalid key");Ve=Ve.padStart(2*pt,"0")}let _t;try{_t="bigint"==typeof Ve?Ve:n1(pl("private key",Ve,pt))}catch{throw new Error(`private key must be ${pt} bytes, hex or bigint, not ${typeof Ve}`)}return At&&(_t=hc(_t,bt)),m(_t),_t}const G=new Map;function k(Ve){if(!(Ve instanceof ie))throw new Error("ProjectivePoint expected")}class ie{constructor(qe,pt,At){if(this.px=qe,this.py=pt,this.pz=At,null==qe||!n.isValid(qe))throw new Error("x required");if(null==pt||!n.isValid(pt))throw new Error("y required");if(null==At||!n.isValid(At))throw new Error("z required")}static fromAffine(qe){const{x:pt,y:At}=qe||{};if(!qe||!n.isValid(pt)||!n.isValid(At))throw new Error("invalid affine point");if(qe instanceof ie)throw new Error("projective point not allowed");const bt=_t=>n.eql(_t,n.ZERO);return bt(pt)&&bt(At)?ie.ZERO:new ie(pt,At,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(qe){const pt=n.invertBatch(qe.map(At=>At.pz));return qe.map((At,bt)=>At.toAffine(pt[bt])).map(ie.fromAffine)}static fromHex(qe){const pt=ie.fromAffine(u(pl("pointHex",qe)));return pt.assertValidity(),pt}static fromPrivateKey(qe){return ie.BASE.multiply(Z(qe))}_setWindowSize(qe){this._WINDOW_SIZE=qe,G.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:qe,y:pt}=this.toAffine();if(!n.isValid(qe)||!n.isValid(pt))throw new Error("bad point: x or y not FE");const At=n.sqr(pt),bt=y(qe);if(!n.eql(At,bt))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:qe}=this.toAffine();if(n.isOdd)return!n.isOdd(qe);throw new Error("Field doesn't support isOdd")}equals(qe){k(qe);const{px:pt,py:At,pz:bt}=this,{px:_t,py:Ft,pz:Xt}=qe,Ht=n.eql(n.mul(pt,Xt),n.mul(_t,bt)),on=n.eql(n.mul(At,Xt),n.mul(Ft,bt));return Ht&&on}negate(){return new ie(this.px,n.neg(this.py),this.pz)}double(){const{a:qe,b:pt}=t,At=n.mul(pt,cv),{px:bt,py:_t,pz:Ft}=this;let Xt=n.ZERO,Ht=n.ZERO,on=n.ZERO,ln=n.mul(bt,bt),Ln=n.mul(_t,_t),Vn=n.mul(Ft,Ft),Zn=n.mul(bt,_t);return Zn=n.add(Zn,Zn),on=n.mul(bt,Ft),on=n.add(on,on),Xt=n.mul(qe,on),Ht=n.mul(At,Vn),Ht=n.add(Xt,Ht),Xt=n.sub(Ln,Ht),Ht=n.add(Ln,Ht),Ht=n.mul(Xt,Ht),Xt=n.mul(Zn,Xt),on=n.mul(At,on),Vn=n.mul(qe,Vn),Zn=n.sub(ln,Vn),Zn=n.mul(qe,Zn),Zn=n.add(Zn,on),on=n.add(ln,ln),ln=n.add(on,ln),ln=n.add(ln,Vn),ln=n.mul(ln,Zn),Ht=n.add(Ht,ln),Vn=n.mul(_t,Ft),Vn=n.add(Vn,Vn),ln=n.mul(Vn,Zn),Xt=n.sub(Xt,ln),on=n.mul(Vn,Ln),on=n.add(on,on),on=n.add(on,on),new ie(Xt,Ht,on)}add(qe){k(qe);const{px:pt,py:At,pz:bt}=this,{px:_t,py:Ft,pz:Xt}=qe;let Ht=n.ZERO,on=n.ZERO,ln=n.ZERO;const Ln=t.a,Vn=n.mul(t.b,cv);let Zn=n.mul(pt,_t),_r=n.mul(At,Ft),Xn=n.mul(bt,Xt),ar=n.add(pt,At),wn=n.add(_t,Ft);ar=n.mul(ar,wn),wn=n.add(Zn,_r),ar=n.sub(ar,wn),wn=n.add(pt,bt);let Dn=n.add(_t,Xt);return wn=n.mul(wn,Dn),Dn=n.add(Zn,Xn),wn=n.sub(wn,Dn),Dn=n.add(At,bt),Ht=n.add(Ft,Xt),Dn=n.mul(Dn,Ht),Ht=n.add(_r,Xn),Dn=n.sub(Dn,Ht),ln=n.mul(Ln,wn),Ht=n.mul(Vn,Xn),ln=n.add(Ht,ln),Ht=n.sub(_r,ln),ln=n.add(_r,ln),on=n.mul(Ht,ln),_r=n.add(Zn,Zn),_r=n.add(_r,Zn),Xn=n.mul(Ln,Xn),wn=n.mul(Vn,wn),_r=n.add(_r,Xn),Xn=n.sub(Zn,Xn),Xn=n.mul(Ln,Xn),wn=n.add(wn,Xn),Zn=n.mul(_r,wn),on=n.add(on,Zn),Zn=n.mul(Dn,wn),Ht=n.mul(ar,Ht),Ht=n.sub(Ht,Zn),Zn=n.mul(ar,_r),ln=n.mul(Dn,ln),ln=n.add(ln,Zn),new ie(Ht,on,ln)}subtract(qe){return this.add(qe.negate())}is0(){return this.equals(ie.ZERO)}wNAF(qe){return He.wNAFCached(this,G,qe,pt=>{const At=n.invertBatch(pt.map(bt=>bt.pz));return pt.map((bt,_t)=>bt.toAffine(At[_t])).map(ie.fromAffine)})}multiplyUnsafe(qe){const pt=ie.ZERO;if(qe===Vh)return pt;if(m(qe),qe===nl)return this;const{endo:At}=t;if(!At)return He.unsafeLadder(this,qe);let{k1neg:bt,k1:_t,k2neg:Ft,k2:Xt}=At.splitScalar(qe),Ht=pt,on=pt,ln=this;for(;_t>Vh||Xt>Vh;)_t&nl&&(Ht=Ht.add(ln)),Xt&nl&&(on=on.add(ln)),ln=ln.double(),_t>>=nl,Xt>>=nl;return bt&&(Ht=Ht.negate()),Ft&&(on=on.negate()),on=new ie(n.mul(on.px,At.beta),on.py,on.pz),Ht.add(on)}multiply(qe){m(qe);let At,bt,pt=qe;const{endo:_t}=t;if(_t){const{k1neg:Ft,k1:Xt,k2neg:Ht,k2:on}=_t.splitScalar(pt);let{p:ln,f:Ln}=this.wNAF(Xt),{p:Vn,f:Zn}=this.wNAF(on);ln=He.constTimeNegate(Ft,ln),Vn=He.constTimeNegate(Ht,Vn),Vn=new ie(n.mul(Vn.px,_t.beta),Vn.py,Vn.pz),At=ln.add(Vn),bt=Ln.add(Zn)}else{const{p:Ft,f:Xt}=this.wNAF(pt);At=Ft,bt=Xt}return ie.normalizeZ([At,bt])[0]}multiplyAndAddUnsafe(qe,pt,At){const bt=ie.BASE,_t=(Xt,Ht)=>Ht!==Vh&&Ht!==nl&&Xt.equals(bt)?Xt.multiply(Ht):Xt.multiplyUnsafe(Ht),Ft=_t(this,pt).add(_t(qe,At));return Ft.is0()?void 0:Ft}toAffine(qe){const{px:pt,py:At,pz:bt}=this,_t=this.is0();null==qe&&(qe=_t?n.ONE:n.inv(bt));const Ft=n.mul(pt,qe),Xt=n.mul(At,qe),Ht=n.mul(bt,qe);if(_t)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Ht,n.ONE))throw new Error("invZ was invalid");return{x:Ft,y:Xt}}isTorsionFree(){const{h:qe,isTorsionFree:pt}=t;if(qe===nl)return!0;if(pt)return pt(ie,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:qe,clearCofactor:pt}=t;return qe===nl?this:pt?pt(ie,this):this.multiplyUnsafe(t.h)}toRawBytes(qe=!0){return this.assertValidity(),i(ie,this,qe)}toHex(qe=!0){return iv(this.toRawBytes(qe))}}ie.BASE=new ie(t.Gx,t.Gy,n.ONE),ie.ZERO=new ie(n.ZERO,n.ONE,n.ZERO);const Ue=t.nBitLength,He=r2(ie,t.endo?Math.ceil(Ue/2):Ue);return{CURVE:t,ProjectivePoint:ie,normPrivateKeyToScalar:Z,weierstrassEquation:y,isWithinCurveOrder:d}}({...t,toBytes(wn,Dn,Rn){const Jn=Dn.toAffine(),Un=n.toBytes(Jn.x),or=r1;return Rn?or(Uint8Array.from([Dn.hasEvenY()?2:3]),Un):or(Uint8Array.from([4]),Un,n.toBytes(Jn.y))},fromBytes(wn){const Dn=wn.length,Rn=wn[0],Jn=wn.subarray(1);if(Dn!==u||2!==Rn&&3!==Rn){if(Dn===y&&4===Rn)return{x:n.fromBytes(Jn.subarray(0,n.BYTES)),y:n.fromBytes(Jn.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${Dn} was invalid. Expected ${u} compressed bytes or ${y} uncompressed bytes`)}{const Un=n1(Jn);if(!function d(wn){return Vh<wn&&wn<n.ORDER}(Un))throw new Error("Point is not on curve");const or=ie(Un);let Mr=n.sqrt(or);return!(1&~Rn)!=((Mr&nl)===nl)&&(Mr=n.neg(Mr)),{x:Un,y:Mr}}}}),He=wn=>iv(cm(wn,t.nByteLength));function Ve(wn){return wn>i>>nl}const pt=(wn,Dn,Rn)=>n1(wn.slice(Dn,Rn));class At{constructor(Dn,Rn,Jn){this.r=Dn,this.s=Rn,this.recovery=Jn,this.assertValidity()}static fromCompact(Dn){const Rn=t.nByteLength;return Dn=pl("compactSignature",Dn,2*Rn),new At(pt(Dn,0,Rn),pt(Dn,Rn,2*Rn))}static fromDER(Dn){const{r:Rn,s:Jn}=av.toSig(pl("DER",Dn));return new At(Rn,Jn)}assertValidity(){if(!Ue(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!Ue(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Dn){return new At(this.r,this.s,Dn)}recoverPublicKey(Dn){const{r:Rn,s:Jn,recovery:Un}=this,or=on(pl("msgHash",Dn));if(null==Un||![0,1,2,3].includes(Un))throw new Error("recovery id invalid");const Mr=2===Un||3===Un?Rn+t.n:Rn;if(Mr>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Tn=G.fromHex((1&Un?"03":"02")+He(Mr)),Ir=Z(Mr),Kr=m(-or*Ir),dr=m(Jn*Ir),Wn=G.BASE.multiplyAndAddUnsafe(Tn,Kr,dr);if(!Wn)throw new Error("point at infinify");return Wn.assertValidity(),Wn}hasHighS(){return Ve(this.s)}normalizeS(){return this.hasHighS()?new At(this.r,m(-this.s),this.recovery):this}toDERRawBytes(){return e2(this.toDERHex())}toDERHex(){return av.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return e2(this.toCompactHex())}toCompactHex(){return He(this.r)+He(this.s)}}const bt={isValidPrivateKey(wn){try{return k(wn),!0}catch{return!1}},normPrivateKeyToScalar:k,randomPrivateKey:()=>{const wn=Z6(t.n);return function WM(r,t,n=!1){const i=r.length,u=HM(t),y=Z6(t);if(i<16||i<y||i>1024)throw new Error(`expected ${y}-1024 bytes of input, got ${i}`);const m=hc(n?n1(r):ov(r),t-qa)+qa;return n?t2(m,u):cm(m,u)}(t.randomBytes(wn),t.n)},precompute:(wn=8,Dn=G.BASE)=>(Dn._setWindowSize(wn),Dn.multiply(BigInt(3)),Dn)};function Ft(wn){const Dn=bp(wn),Rn="string"==typeof wn,Jn=(Dn||Rn)&&wn.length;return Dn?Jn===u||Jn===y:Rn?Jn===2*u||Jn===2*y:wn instanceof G}const Ht=t.bits2int||function(wn){const Dn=n1(wn),Rn=8*wn.length-t.nBitLength;return Rn>0?Dn>>BigInt(Rn):Dn},on=t.bits2int_modN||function(wn){return m(Ht(wn))},ln=jM(t.nBitLength);function Ln(wn){if("bigint"!=typeof wn)throw new Error("bigint expected");if(!(Vh<=wn&&wn<ln))throw new Error(`bigint expected < 2^${t.nBitLength}`);return cm(wn,t.nByteLength)}const Zn={lowS:t.lowS,prehash:!1},_r={lowS:t.lowS,prehash:!1};return G.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function _t(wn,Dn=!0){return G.fromPrivateKey(wn).toRawBytes(Dn)},getSharedSecret:function Xt(wn,Dn,Rn=!0){if(Ft(wn))throw new Error("first arg must be private key");if(!Ft(Dn))throw new Error("second arg must be public key");return G.fromHex(Dn).multiply(k(wn)).toRawBytes(Rn)},sign:function Xn(wn,Dn,Rn=Zn){const{seed:Jn,k2sig:Un}=function Vn(wn,Dn,Rn=Zn){if(["recovered","canonical"].some(Or=>Or in Rn))throw new Error("sign() legacy options not supported");const{hash:Jn,randomBytes:Un}=t;let{lowS:or,prehash:Mr,extraEntropy:Sr}=Rn;null==or&&(or=!0),wn=pl("msgHash",wn),Mr&&(wn=pl("prehashed msgHash",Jn(wn)));const Tn=on(wn),Ir=k(Dn),Kr=[Ln(Ir),Ln(Tn)];if(null!=Sr){const Or=!0===Sr?Un(n.BYTES):Sr;Kr.push(pl("extraEntropy",Or))}const dr=r1(...Kr),Wn=Tn;return{seed:dr,k2sig:function mr(Or){const Yr=Ht(Or);if(!Ue(Yr))return;const ei=Z(Yr),zr=G.BASE.multiply(Yr).toAffine(),Xr=m(zr.x);if(Xr===Vh)return;const Vi=m(ei*m(Wn+Xr*Ir));if(Vi===Vh)return;let ec=(zr.x===Xr?0:2)|Number(zr.y&nl),Pr=Vi;return or&&Ve(Vi)&&(Pr=function qe(wn){return Ve(wn)?m(-wn):wn}(Vi),ec^=1),new At(Xr,Pr,ec)}}}(wn,Dn,Rn);return $6(t.hash.outputLen,t.nByteLength,t.hmac)(Jn,Un)},verify:function ar(wn,Dn,Rn,Jn=_r){const Un=wn;if(Dn=pl("msgHash",Dn),Rn=pl("publicKey",Rn),"strict"in Jn)throw new Error("options.strict was renamed to lowS");const{lowS:or,prehash:Mr}=Jn;let Sr,Tn;try{if("string"==typeof Un||bp(Un))try{Sr=At.fromDER(Un)}catch(zr){if(!(zr instanceof av.Err))throw zr;Sr=At.fromCompact(Un)}else{if("object"!=typeof Un||"bigint"!=typeof Un.r||"bigint"!=typeof Un.s)throw new Error("PARSE");{const{r:zr,s:Xr}=Un;Sr=new At(zr,Xr)}}Tn=G.fromHex(Rn)}catch(zr){if("PARSE"===zr.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(or&&Sr.hasHighS())return!1;Mr&&(Dn=t.hash(Dn));const{r:Ir,s:Kr}=Sr,dr=on(Dn),Wn=Z(Kr),mr=m(dr*Wn),Or=m(Ir*Wn),Yr=G.BASE.multiplyAndAddUnsafe(Tn,mr,Or)?.toAffine();return!!Yr&&m(Yr.x)===Ir},ProjectivePoint:G,Signature:At,utils:bt}}function uB(r){return{hash:r,hmac:(t,...n)=>GM(r,t,B6(...n)),randomBytes:am}}function e8(r,t){const n=i=>bO({...r,...uB(i)});return Object.freeze({...n(t),create:n})}BigInt(4);const s2=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),FS=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),t8=BigInt(1),o1=BigInt(2),n8=(r,t)=>(r+t/o1)/t;const XM=zM(s2,void 0,void 0,{sqrt:function US(r){const t=s2,n=BigInt(3),i=BigInt(6),u=BigInt(11),y=BigInt(22),d=BigInt(23),m=BigInt(44),Z=BigInt(88),G=r*r*r%t,k=G*G*r%t,ie=tl(k,n,t)*k%t,Ue=tl(ie,n,t)*k%t,He=tl(Ue,o1,t)*G%t,Ve=tl(He,u,t)*He%t,qe=tl(Ve,y,t)*Ve%t,pt=tl(qe,m,t)*qe%t,At=tl(pt,Z,t)*pt%t,bt=tl(At,m,t)*qe%t,_t=tl(bt,n,t)*k%t,Ft=tl(_t,d,t)*Ve%t,Xt=tl(Ft,i,t)*G%t,Ht=tl(Xt,o1,t);if(!XM.eql(XM.sqr(Ht),r))throw new Error("Cannot find square root");return Ht}}),rf=e8({a:BigInt(0),b:BigInt(7),Fp:XM,n:FS,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const t=FS,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-t8*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),u=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),y=n,d=BigInt("0x100000000000000000000000000000000"),m=n8(y*r,t),Z=n8(-i*r,t);let G=hc(r-m*n-Z*u,t),k=hc(-m*i-Z*y,t);const ie=G>d,Ue=k>d;if(ie&&(G=t-G),Ue&&(k=t-k),G>d||k>d)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:ie,k1:G,k2neg:Ue,k2:k}}}},rv);BigInt(0);const AO="urn:jwk:";function Qa({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}(0,br.E8)(n);const i=function gB(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const u=Object.keys(i).sort(),y={};for(const d of u)y[d]=t(i[d]);return y}return i},n=t(r);return JSON.stringify(n)}(n),u=br.U$.string(i).toUint8Array(),y=yield L6.digest({data:u});return br.U$.uint8Array(y).toBase64Url()})}function l1(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function c8(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function Py(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function $S(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}var ku=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class ml{static adjustSignatureToLowS({signature:t}){return ku(this,void 0,void 0,function*(){const n=rf.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return ku(this,void 0,void 0,function*(){const n=yield ml.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:br.U$.uint8Array(t).toBase64Url(),x:br.U$.uint8Array(n.x).toBase64Url(),y:br.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Qa({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return ku(this,void 0,void 0,function*(){const n=yield ml.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:br.U$.uint8Array(n.x).toBase64Url(),y:br.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Qa({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return ku(this,void 0,void 0,function*(){return rf.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return ku(this,void 0,void 0,function*(){const n=yield ml.privateKeyToBytes({privateKey:t}),i=yield ml.getCurvePoint({keyBytes:n}),u={kty:"EC",crv:"secp256k1",x:br.U$.uint8Array(i.x).toBase64Url(),y:br.U$.uint8Array(i.y).toBase64Url()};return u.kid=yield Qa({jwk:u}),u})}static convertDerToCompactSignature({derSignature:t}){return ku(this,void 0,void 0,function*(){return rf.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return ku(this,void 0,void 0,function*(){return rf.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return ku(this,void 0,void 0,function*(){const t=rf.utils.randomPrivateKey(),n=yield ml.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Qa({jwk:n}),n})}static getPublicKey({key:t}){var n;return ku(this,void 0,void 0,function*(){if(!l1(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield Qa({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return ku(this,void 0,void 0,function*(){if(!l1(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return br.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return ku(this,void 0,void 0,function*(){if(!c8(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=br.U$.base64Url(t.x).toUint8Array(),u=br.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...u])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return ku(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield ml.privateKeyToBytes({privateKey:t}),u=yield ml.publicKeyToBytes({publicKey:n});return rf.getSharedSecret(i,u,!0).slice(1)})}static sign({data:t,key:n}){return ku(this,void 0,void 0,function*(){const i=yield ml.privateKeyToBytes({privateKey:n}),u=rv(t);return rf.sign(u,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return ku(this,void 0,void 0,function*(){return rf.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return ku(this,void 0,void 0,function*(){try{rf.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return ku(this,void 0,void 0,function*(){const u=yield ml.publicKeyToBytes({publicKey:t}),y=rv(i);return rf.verify(n,y,u,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return ku(this,void 0,void 0,function*(){32===t.byteLength&&(t=rf.getPublicKey(t));const n=rf.ProjectivePoint.fromHex(t);return{x:cm(n.x,32),y:cm(n.y,32)}})}}const MO=zM(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),zh=e8({a:MO.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:MO,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},rv);var ud=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class yl{static adjustSignatureToLowS({signature:t}){return ud(this,void 0,void 0,function*(){const n=zh.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return ud(this,void 0,void 0,function*(){const n=yield yl.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:br.U$.uint8Array(t).toBase64Url(),x:br.U$.uint8Array(n.x).toBase64Url(),y:br.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Qa({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return ud(this,void 0,void 0,function*(){const n=yield yl.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:br.U$.uint8Array(n.x).toBase64Url(),y:br.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Qa({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return ud(this,void 0,void 0,function*(){return zh.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return ud(this,void 0,void 0,function*(){const n=yield yl.privateKeyToBytes({privateKey:t}),i=yield yl.getCurvePoint({keyBytes:n}),u={kty:"EC",crv:"P-256",x:br.U$.uint8Array(i.x).toBase64Url(),y:br.U$.uint8Array(i.y).toBase64Url()};return u.kid=yield Qa({jwk:u}),u})}static convertDerToCompactSignature({derSignature:t}){return ud(this,void 0,void 0,function*(){return zh.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return ud(this,void 0,void 0,function*(){return zh.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return ud(this,void 0,void 0,function*(){const t=zh.utils.randomPrivateKey(),n=yield yl.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Qa({jwk:n}),n})}static getPublicKey({key:t}){var n;return ud(this,void 0,void 0,function*(){if(!l1(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield Qa({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return ud(this,void 0,void 0,function*(){if(!l1(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return br.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return ud(this,void 0,void 0,function*(){if(!c8(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=br.U$.base64Url(t.x).toUint8Array(),u=br.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...u])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return ud(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield yl.privateKeyToBytes({privateKey:t}),u=yield yl.publicKeyToBytes({publicKey:n});return zh.getSharedSecret(i,u,!0).slice(1)})}static sign({data:t,key:n}){return ud(this,void 0,void 0,function*(){const i=yield yl.privateKeyToBytes({privateKey:n}),u=rv(t);return zh.sign(u,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return ud(this,void 0,void 0,function*(){return zh.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return ud(this,void 0,void 0,function*(){try{zh.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return ud(this,void 0,void 0,function*(){const u=yield yl.publicKeyToBytes({publicKey:t}),y=rv(i);return zh.verify(n,y,u,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return ud(this,void 0,void 0,function*(){32===t.byteLength&&(t=zh.getPublicKey(t));const n=zh.ProjectivePoint.fromHex(t);return{x:cm(n.x,32),y:cm(n.y,32)}})}}var lv=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class KS extends NM{computePublicKey({key:t}){return lv(this,void 0,void 0,function*(){if(!l1(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield ml.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield yl.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return lv(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield ml.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield yl.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return lv(this,void 0,void 0,function*(){if(!l1(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield ml.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield yl.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return lv(this,void 0,void 0,function*(){if(!l1(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield ml.sign({key:t,data:n});case"P-256":return yield yl.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return lv(this,void 0,void 0,function*(){if(!c8(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield ml.verify({key:t,signature:n,data:i});case"P-256":return yield yl.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}const dv=BigInt(2**32-1),d8=BigInt(32);function DO(r,t=!1){return t?{h:Number(r&dv),l:Number(r>>d8&dv)}:{h:0|Number(r>>d8&dv),l:0|Number(r&dv)}}const Bs_split=function xB(r,t=!1){let n=new Uint32Array(r.length),i=new Uint32Array(r.length);for(let u=0;u<r.length;u++){const{h:y,l:d}=DO(r[u],t);[n[u],i[u]]=[y,d]}return[n,i]},Bs_shrSH=(r,t,n)=>r>>>n,Bs_shrSL=(r,t,n)=>r<<32-n|t>>>n,Bs_rotrSH=(r,t,n)=>r>>>n|t<<32-n,Bs_rotrSL=(r,t,n)=>r<<32-n|t>>>n,Bs_rotrBH=(r,t,n)=>r<<64-n|t>>>n-32,Bs_rotrBL=(r,t,n)=>r>>>n-32|t<<64-n,Bs_add=function y8(r,t,n,i){const u=(t>>>0)+(i>>>0);return{h:r+n+(u/2**32|0)|0,l:0|u}},Bs_add3L=(r,t,n)=>(r>>>0)+(t>>>0)+(n>>>0),Bs_add3H=(r,t,n,i)=>t+n+i+(r/2**32|0)|0,Bs_add4L=(r,t,n,i)=>(r>>>0)+(t>>>0)+(n>>>0)+(i>>>0),Bs_add4H=(r,t,n,i,u)=>t+n+i+u+(r/2**32|0)|0,Bs_add5H=(r,t,n,i,u,y)=>t+n+i+u+y+(r/2**32|0)|0,Bs_add5L=(r,t,n,i,u)=>(r>>>0)+(t>>>0)+(n>>>0)+(i>>>0)+(u>>>0),[fd,c2]=Bs_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),wp=new Uint32Array(80),_p=new Uint32Array(80);class l2 extends PM{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:i,Bl:u,Ch:y,Cl:d,Dh:m,Dl:Z,Eh:G,El:k,Fh:ie,Fl:Ue,Gh:He,Gl:Ve,Hh:qe,Hl:pt}=this;return[t,n,i,u,y,d,m,Z,G,k,ie,Ue,He,Ve,qe,pt]}set(t,n,i,u,y,d,m,Z,G,k,ie,Ue,He,Ve,qe,pt){this.Ah=0|t,this.Al=0|n,this.Bh=0|i,this.Bl=0|u,this.Ch=0|y,this.Cl=0|d,this.Dh=0|m,this.Dl=0|Z,this.Eh=0|G,this.El=0|k,this.Fh=0|ie,this.Fl=0|Ue,this.Gh=0|He,this.Gl=0|Ve,this.Hh=0|qe,this.Hl=0|pt}process(t,n){for(let _t=0;_t<16;_t++,n+=4)wp[_t]=t.getUint32(n),_p[_t]=t.getUint32(n+=4);for(let _t=16;_t<80;_t++){const Ft=0|wp[_t-15],Xt=0|_p[_t-15],Ht=Bs_rotrSH(Ft,Xt,1)^Bs_rotrSH(Ft,Xt,8)^Bs_shrSH(Ft,Xt,7),on=Bs_rotrSL(Ft,Xt,1)^Bs_rotrSL(Ft,Xt,8)^Bs_shrSL(Ft,Xt,7),ln=0|wp[_t-2],Ln=0|_p[_t-2],Vn=Bs_rotrSH(ln,Ln,19)^Bs_rotrBH(ln,Ln,61)^Bs_shrSH(ln,Ln,6),Zn=Bs_rotrSL(ln,Ln,19)^Bs_rotrBL(ln,Ln,61)^Bs_shrSL(ln,Ln,6),_r=Bs_add4L(on,Zn,_p[_t-7],_p[_t-16]),Xn=Bs_add4H(_r,Ht,Vn,wp[_t-7],wp[_t-16]);wp[_t]=0|Xn,_p[_t]=0|_r}let{Ah:i,Al:u,Bh:y,Bl:d,Ch:m,Cl:Z,Dh:G,Dl:k,Eh:ie,El:Ue,Fh:He,Fl:Ve,Gh:qe,Gl:pt,Hh:At,Hl:bt}=this;for(let _t=0;_t<80;_t++){const Ft=Bs_rotrSH(ie,Ue,14)^Bs_rotrSH(ie,Ue,18)^Bs_rotrBH(ie,Ue,41),Xt=Bs_rotrSL(ie,Ue,14)^Bs_rotrSL(ie,Ue,18)^Bs_rotrBL(ie,Ue,41),Ht=ie&He^~ie&qe,ln=Bs_add5L(bt,Xt,Ue&Ve^~Ue&pt,c2[_t],_p[_t]),Ln=Bs_add5H(ln,At,Ft,Ht,fd[_t],wp[_t]),Vn=0|ln,Zn=Bs_rotrSH(i,u,28)^Bs_rotrBH(i,u,34)^Bs_rotrBH(i,u,39),_r=Bs_rotrSL(i,u,28)^Bs_rotrBL(i,u,34)^Bs_rotrBL(i,u,39),Xn=i&y^i&m^y&m,ar=u&d^u&Z^d&Z;At=0|qe,bt=0|pt,qe=0|He,pt=0|Ve,He=0|ie,Ve=0|Ue,({h:ie,l:Ue}=Bs_add(0|G,0|k,0|Ln,0|Vn)),G=0|m,k=0|Z,m=0|y,Z=0|d,y=0|i,d=0|u;const wn=Bs_add3L(Vn,_r,ar);i=Bs_add3H(wn,Ln,Zn,Xn),u=0|wn}({h:i,l:u}=Bs_add(0|this.Ah,0|this.Al,0|i,0|u)),({h:y,l:d}=Bs_add(0|this.Bh,0|this.Bl,0|y,0|d)),({h:m,l:Z}=Bs_add(0|this.Ch,0|this.Cl,0|m,0|Z)),({h:G,l:k}=Bs_add(0|this.Dh,0|this.Dl,0|G,0|k)),({h:ie,l:Ue}=Bs_add(0|this.Eh,0|this.El,0|ie,0|Ue)),({h:He,l:Ve}=Bs_add(0|this.Fh,0|this.Fl,0|He,0|Ve)),({h:qe,l:pt}=Bs_add(0|this.Gh,0|this.Gl,0|qe,0|pt)),({h:At,l:bt}=Bs_add(0|this.Hh,0|this.Hl,0|At,0|bt)),this.set(i,u,y,d,m,Z,G,k,ie,Ue,He,Ve,qe,pt,At,bt)}roundClean(){wp.fill(0),_p.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const LO=OM(()=>new l2),Hh=BigInt(0),Of=BigInt(1),d2=BigInt(2),UO=BigInt(8),jO={zip215:!0};function eI(r){const t=function b8(r){const t=J6(r);return sv(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(r),{Fp:n,n:i,prehash:u,hash:y,randomBytes:d,nByteLength:m,h:Z}=t,G=d2<<BigInt(8*m)-Of,k=n.create,ie=t.uvRatio||((Jn,Un)=>{try{return{isValid:!0,value:n.sqrt(Jn*n.inv(Un))}}catch{return{isValid:!1,value:Hh}}}),Ue=t.adjustScalarBytes||(Jn=>Jn),He=t.domain||((Jn,Un,or)=>{if(Un.length||or)throw new Error("Contexts/pre-hash are not supported");return Jn}),Ve=Jn=>"bigint"==typeof Jn&&Hh<Jn,qe=(Jn,Un)=>Ve(Jn)&&Ve(Un)&&Jn<Un,pt=Jn=>Jn===Hh||qe(Jn,G);function At(Jn,Un){if(qe(Jn,Un))return Jn;throw new Error(`Expected valid scalar < ${Un}, got ${typeof Jn} ${Jn}`)}function bt(Jn){return Jn===Hh?Jn:At(Jn,i)}const _t=new Map;function Ft(Jn){if(!(Jn instanceof Xt))throw new Error("ExtendedPoint expected")}class Xt{constructor(Un,or,Mr,Sr){if(this.ex=Un,this.ey=or,this.ez=Mr,this.et=Sr,!pt(Un))throw new Error("x required");if(!pt(or))throw new Error("y required");if(!pt(Mr))throw new Error("z required");if(!pt(Sr))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Un){if(Un instanceof Xt)throw new Error("extended point not allowed");const{x:or,y:Mr}=Un||{};if(!pt(or)||!pt(Mr))throw new Error("invalid affine point");return new Xt(or,Mr,Of,k(or*Mr))}static normalizeZ(Un){const or=n.invertBatch(Un.map(Mr=>Mr.ez));return Un.map((Mr,Sr)=>Mr.toAffine(or[Sr])).map(Xt.fromAffine)}_setWindowSize(Un){this._WINDOW_SIZE=Un,_t.delete(this)}assertValidity(){const{a:Un,d:or}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:Mr,ey:Sr,ez:Tn,et:Ir}=this,Kr=k(Mr*Mr),dr=k(Sr*Sr),Wn=k(Tn*Tn),mr=k(Wn*Wn),Or=k(Kr*Un);if(k(Wn*k(Or+dr))!==k(mr+k(or*k(Kr*dr))))throw new Error("bad point: equation left != right (1)");if(k(Mr*Sr)!==k(Tn*Ir))throw new Error("bad point: equation left != right (2)")}equals(Un){Ft(Un);const{ex:or,ey:Mr,ez:Sr}=this,{ex:Tn,ey:Ir,ez:Kr}=Un,dr=k(or*Kr),Wn=k(Tn*Sr),mr=k(Mr*Kr),Or=k(Ir*Sr);return dr===Wn&&mr===Or}is0(){return this.equals(Xt.ZERO)}negate(){return new Xt(k(-this.ex),this.ey,this.ez,k(-this.et))}double(){const{a:Un}=t,{ex:or,ey:Mr,ez:Sr}=this,Tn=k(or*or),Ir=k(Mr*Mr),Kr=k(d2*k(Sr*Sr)),dr=k(Un*Tn),Wn=or+Mr,mr=k(k(Wn*Wn)-Tn-Ir),Or=dr+Ir,Yr=Or-Kr,ei=dr-Ir,zr=k(mr*Yr),Xr=k(Or*ei),Vi=k(mr*ei),ec=k(Yr*Or);return new Xt(zr,Xr,ec,Vi)}add(Un){Ft(Un);const{a:or,d:Mr}=t,{ex:Sr,ey:Tn,ez:Ir,et:Kr}=this,{ex:dr,ey:Wn,ez:mr,et:Or}=Un;if(or===BigInt(-1)){const Zs=k((Tn-Sr)*(Wn+dr)),Ys=k((Tn+Sr)*(Wn-dr)),tc=k(Ys-Zs);if(tc===Hh)return this.double();const sa=k(Ir*d2*Or),ao=k(Kr*d2*mr),aa=ao+sa,Uu=Ys+Zs,Hl=ao-sa,yd=k(aa*tc),UU=k(Uu*Hl),B2=k(aa*Hl),jU=k(tc*Uu);return new Xt(yd,UU,jU,B2)}const Yr=k(Sr*dr),ei=k(Tn*Wn),zr=k(Kr*Mr*Or),Xr=k(Ir*mr),Vi=k((Sr+Tn)*(dr+Wn)-Yr-ei),ec=Xr-zr,Pr=Xr+zr,fo=k(ei-or*Yr),mo=k(Vi*ec),Yi=k(Pr*fo),La=k(Vi*fo),Fu=k(ec*Pr);return new Xt(mo,Yi,Fu,La)}subtract(Un){return this.add(Un.negate())}wNAF(Un){return ln.wNAFCached(this,_t,Un,Xt.normalizeZ)}multiply(Un){const{p:or,f:Mr}=this.wNAF(At(Un,i));return Xt.normalizeZ([or,Mr])[0]}multiplyUnsafe(Un){let or=bt(Un);return or===Hh?on:this.equals(on)||or===Of?this:this.equals(Ht)?this.wNAF(or).p:ln.unsafeLadder(this,or)}isSmallOrder(){return this.multiplyUnsafe(Z).is0()}isTorsionFree(){return ln.unsafeLadder(this,i).is0()}toAffine(Un){const{ex:or,ey:Mr,ez:Sr}=this,Tn=this.is0();null==Un&&(Un=Tn?UO:n.inv(Sr));const Ir=k(or*Un),Kr=k(Mr*Un),dr=k(Sr*Un);if(Tn)return{x:Hh,y:Of};if(dr!==Of)throw new Error("invZ was invalid");return{x:Ir,y:Kr}}clearCofactor(){const{h:Un}=t;return Un===Of?this:this.multiplyUnsafe(Un)}static fromHex(Un,or=!1){const{d:Mr,a:Sr}=t,Tn=n.BYTES,Ir=(Un=pl("pointHex",Un,Tn)).slice(),Kr=Un[Tn-1];Ir[Tn-1]=-129&Kr;const dr=ov(Ir);dr===Hh||At(dr,or?G:n.ORDER);const Wn=k(dr*dr),mr=k(Wn-Of),Or=k(Mr*Wn-Sr);let{isValid:Yr,value:ei}=ie(mr,Or);if(!Yr)throw new Error("Point.fromHex: invalid y coordinate");const zr=(ei&Of)===Of,Xr=!!(128&Kr);if(!or&&ei===Hh&&Xr)throw new Error("Point.fromHex: x=0 and x_0=1");return Xr!==zr&&(ei=k(-ei)),Xt.fromAffine({x:ei,y:dr})}static fromPrivateKey(Un){return Zn(Un).point}toRawBytes(){const{x:Un,y:or}=this.toAffine(),Mr=t2(or,n.BYTES);return Mr[Mr.length-1]|=Un&Of?128:0,Mr}toHex(){return iv(this.toRawBytes())}}Xt.BASE=new Xt(t.Gx,t.Gy,Of,k(t.Gx*t.Gy)),Xt.ZERO=new Xt(Hh,Of,Of,Hh);const{BASE:Ht,ZERO:on}=Xt,ln=r2(Xt,8*m);function Ln(Jn){return hc(Jn,i)}function Vn(Jn){return Ln(ov(Jn))}function Zn(Jn){const Un=m;Jn=pl("private key",Jn,Un);const or=pl("hashed private key",y(Jn),2*Un),Mr=Ue(or.slice(0,Un)),Sr=or.slice(Un,2*Un),Tn=Vn(Mr),Ir=Ht.multiply(Tn),Kr=Ir.toRawBytes();return{head:Mr,prefix:Sr,scalar:Tn,point:Ir,pointBytes:Kr}}function Xn(Jn=new Uint8Array,...Un){const or=r1(...Un);return Vn(y(He(or,pl("context",Jn),!!u)))}const wn=jO;return Ht._setWindowSize(8),{CURVE:t,getPublicKey:function _r(Jn){return Zn(Jn).pointBytes},sign:function ar(Jn,Un,or={}){Jn=pl("message",Jn),u&&(Jn=u(Jn));const{prefix:Mr,scalar:Sr,pointBytes:Tn}=Zn(Un),Ir=Xn(or.context,Mr,Jn),Kr=Ht.multiply(Ir).toRawBytes(),Wn=Ln(Ir+Xn(or.context,Kr,Tn,Jn)*Sr);return bt(Wn),pl("result",r1(Kr,t2(Wn,n.BYTES)),2*m)},verify:function Dn(Jn,Un,or,Mr=wn){const{context:Sr,zip215:Tn}=Mr,Ir=n.BYTES;Jn=pl("signature",Jn,2*Ir),Un=pl("message",Un),u&&(Un=u(Un));const Kr=ov(Jn.slice(Ir,2*Ir));let dr,Wn,mr;try{dr=Xt.fromHex(or,Tn),Wn=Xt.fromHex(Jn.slice(0,Ir),Tn),mr=Ht.multiplyUnsafe(Kr)}catch{return!1}if(!Tn&&dr.isSmallOrder())return!1;const Or=Xn(Sr,Wn.toRawBytes(),dr.toRawBytes(),Un);return Wn.add(dr.multiplyUnsafe(Or)).subtract(mr).clearCofactor().equals(Xt.ZERO)},ExtendedPoint:Xt,utils:{getExtendedPublicKey:Zn,randomPrivateKey:()=>d(n.BYTES),precompute:(Jn=8,Un=Xt.BASE)=>(Un._setWindowSize(Jn),Un.multiply(BigInt(3)),Un)}}}const u1=BigInt(0),f1=BigInt(1),h1=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),tI=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),dm=(BigInt(0),BigInt(1)),nI=BigInt(2),$O=BigInt(5),w8=BigInt(10),DB=BigInt(20),_8=BigInt(40),rI=BigInt(80);function KO(r){const t=h1,i=r*r%t*r%t,u=tl(i,nI,t)*i%t,y=tl(u,dm,t)*r%t,d=tl(y,$O,t)*y%t,m=tl(d,w8,t)*d%t,Z=tl(m,DB,t)*m%t,G=tl(Z,_8,t)*Z%t,k=tl(G,rI,t)*G%t,ie=tl(k,rI,t)*G%t,Ue=tl(ie,w8,t)*d%t;return{pow_p_5_8:tl(Ue,nI,t)*r%t,b2:i}}function f2(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const Ri=zM(h1,void 0,!0),h2={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Ri,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:LO,randomBytes:am,adjustScalarBytes:f2,uvRatio:function E8(r,t){const n=h1,i=hc(t*t*t,n),u=hc(i*i*t,n);let d=hc(r*i*KO(r*u).pow_p_5_8,n);const m=hc(t*d*d,n),Z=d,G=hc(d*tI,n),k=m===r,ie=m===hc(-r,n),Ue=m===hc(-r*tI,n);return k&&(d=Z),(ie||Ue)&&(d=G),((r,t)=>(hc(r,t)&qa)===qa)(d,n)&&(d=hc(-d,n)),{isValid:k||ie,value:d}}},hd=eI(h2);const zS=function VS(r){const t=function u2(r){return sv(r,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...r})}(r),{P:n}=t,i=_t=>hc(_t,n),u=t.montgomeryBits,y=Math.ceil(u/8),d=t.nByteLength,m=t.adjustScalarBytes||(_t=>_t),Z=t.powPminus2||(_t=>z6(_t,n-BigInt(2),n));function G(_t,Ft,Xt){const Ht=i(_t*(Ft-Xt));return[Ft=i(Ft-Ht),Xt=i(Xt+Ht)]}function k(_t){if("bigint"==typeof _t&&u1<=_t&&_t<n)return _t;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const ie=(t.a-BigInt(2))/BigInt(4);function He(_t){return t2(i(_t),y)}function pt(_t,Ft){const Xt=function Ve(_t){const Ft=pl("u coordinate",_t,y);return 32===d&&(Ft[31]&=127),ov(Ft)}(Ft),Ht=function qe(_t){const Ft=pl("scalar",_t),Xt=Ft.length;if(Xt!==y&&Xt!==d)throw new Error(`Expected ${y} or ${d} bytes, got ${Xt}`);return ov(m(Ft))}(_t),on=function Ue(_t,Ft){const Xt=k(_t),Ht=k(Ft),on=Xt;let Xn,ln=f1,Ln=u1,Vn=Xt,Zn=f1,_r=u1;for(let wn=BigInt(u-1);wn>=u1;wn--){const Dn=Ht>>wn&f1;_r^=Dn,Xn=G(_r,ln,Vn),ln=Xn[0],Vn=Xn[1],Xn=G(_r,Ln,Zn),Ln=Xn[0],Zn=Xn[1],_r=Dn;const Rn=ln+Ln,Jn=i(Rn*Rn),Un=ln-Ln,or=i(Un*Un),Mr=Jn-or,Sr=Vn+Zn,Ir=i((Vn-Zn)*Rn),Kr=i(Sr*Un),dr=Ir+Kr,Wn=Ir-Kr;Vn=i(dr*dr),Zn=i(on*i(Wn*Wn)),ln=i(Jn*or),Ln=i(Mr*(Jn+i(ie*Mr)))}Xn=G(_r,ln,Vn),ln=Xn[0],Vn=Xn[1],Xn=G(_r,Ln,Zn),Ln=Xn[0],Zn=Xn[1];const ar=Z(Ln);return i(ln*ar)}(Xt,Ht);if(on===u1)throw new Error("Invalid private or public key received");return He(on)}const At=He(t.Gu);function bt(_t){return pt(_t,At)}return{scalarMult:pt,scalarMultBase:bt,getSharedSecret:(_t,Ft)=>pt(_t,Ft),getPublicKey:_t=>bt(_t),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:At}}({P:h1,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:r=>{const t=h1,{pow_p_5_8:n,b2:i}=KO(r);return hc(tl(n,BigInt(3),t)*i,t)},adjustScalarBytes:f2,randomBytes:am}),zO=(Ri.ORDER+BigInt(3))/BigInt(8);Ri.pow(nI,zO),Ri.sqrt(Ri.neg(Ri.ONE)),BigInt(5),BigInt(8),BigInt(486662),function X6(r,t){if(!r.isOdd)throw new Error("Field doesn't have isOdd");const n=r.sqrt(t);r.isOdd(n)&&r.neg(n)}(Ri,Ri.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Gh=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class rl{static bytesToPrivateKey({privateKeyBytes:t}){return Gh(this,void 0,void 0,function*(){const n=hd.getPublicKey(t),i={crv:"Ed25519",d:br.U$.uint8Array(t).toBase64Url(),kty:"OKP",x:br.U$.uint8Array(n).toBase64Url()};return i.kid=yield Qa({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Gh(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:br.U$.uint8Array(t).toBase64Url()};return n.kid=yield Qa({jwk:n}),n})}static computePublicKey({key:t}){return Gh(this,void 0,void 0,function*(){const n=yield rl.privateKeyToBytes({privateKey:t}),i=hd.getPublicKey(n),u={kty:"OKP",crv:"Ed25519",x:br.U$.uint8Array(i).toBase64Url()};return u.kid=yield Qa({jwk:u}),u})}static convertPrivateKeyToX25519({privateKey:t}){return Gh(this,void 0,void 0,function*(){const i=function kB(r){const t=h2.hash(r.subarray(0,32));return h2.adjustScalarBytes(t).subarray(0,32)}(yield rl.privateKeyToBytes({privateKey:t})),u=zS.getPublicKey(i),y={kty:"OKP",crv:"X25519",d:br.U$.uint8Array(i).toBase64Url(),x:br.U$.uint8Array(u).toBase64Url()};return y.kid=yield Qa({jwk:y}),y})}static convertPublicKeyToX25519({publicKey:t}){return Gh(this,void 0,void 0,function*(){const n=yield rl.publicKeyToBytes({publicKey:t});if(!(yield rl.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const u=function x8(r){const{y:t}=hd.ExtendedPoint.fromHex(r),n=BigInt(1);return Ri.toBytes(Ri.create((n+t)*Ri.inv(n-t)))}(n),y={kty:"OKP",crv:"X25519",x:br.U$.uint8Array(u).toBase64Url()};return y.kid=yield Qa({jwk:y}),y})}static generateKey(){return Gh(this,void 0,void 0,function*(){const t=hd.utils.randomPrivateKey(),n=yield rl.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Qa({jwk:n}),n})}static getPublicKey({key:t}){var n;return Gh(this,void 0,void 0,function*(){if(!Py(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield Qa({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return Gh(this,void 0,void 0,function*(){if(!Py(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return br.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Gh(this,void 0,void 0,function*(){if(!$S(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return br.U$.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return Gh(this,void 0,void 0,function*(){const i=yield rl.privateKeyToBytes({privateKey:t});return hd.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return Gh(this,void 0,void 0,function*(){try{hd.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Gh(this,void 0,void 0,function*(){const u=yield rl.publicKeyToBytes({publicKey:t});return hd.verify(n,i,u)})}}var WS=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},ch=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};const m2={Ed25519:{implementation:class tP extends NM{computePublicKey({key:t}){return WS(this,void 0,void 0,function*(){if(!Py(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield rl.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return WS(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield rl.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return WS(this,void 0,void 0,function*(){if(!Py(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield rl.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return WS(this,void 0,void 0,function*(){if(!Py(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield rl.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return WS(this,void 0,void 0,function*(){if(!$S(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield rl.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:KS,names:["ES256K","secp256k1"]},secp256r1:{implementation:KS,names:["ES256","secp256r1"]},"SHA-256":{implementation:class rO extends NM{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield L6.digest({data:n})})}},names:["SHA-256"]}};class ky{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new br.ny}digest({algorithm:t,data:n}){return ch(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return ch(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return ch(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const u=`${AO}${i.kid}`;return yield this._keyStore.set(u,i),u})}getKeyUri({key:t}){return ch(this,void 0,void 0,function*(){const n=yield Qa({jwk:t});return`${AO}${n}`})}getPublicKey({keyUri:t}){return ch(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return ch(this,void 0,void 0,function*(){if(!function CO(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield Qa({jwk:i}));const u=yield this.getKeyUri({key:i});return yield this._keyStore.set(u,i),u})}sign({keyUri:t,data:n}){return ch(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),u=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:u}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return ch(this,void 0,void 0,function*(){const u=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:u}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=m2[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const u in m2){const y=m2[u];if(n&&y.names.includes(n))return u;if(i&&y.names.includes(i))return u}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return ch(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}function GS(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}"object"==typeof globalThis&&"crypto"in globalThis&&globalThis;const By=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));function sI(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function O8(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}function P8(r){if("string"==typeof r)r=O8(r);else{if(!sI(r))throw new Error("expected Uint8Array, got "+typeof r);r=r.slice()}return r}function y2(r,t){if(!sI(r))throw new Error("Uint8Array expected");if("number"==typeof t&&r.length!==t)throw new Error(`Uint8Array length ${t} expected`)}function XS(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const u=BigInt(32),y=BigInt(4294967295),d=Number(n>>u&y),m=Number(n&y),G=i?0:4;r.setUint32(t+(i?4:0),d,i),r.setUint32(t+G,m,i)}function uv(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`wrong positive integer: ${r}`)}function aI(r){if("boolean"!=typeof r)throw new Error(`boolean expected, not ${r}`)}function g2(r,...t){if(!function cP(r){return null!=r&&"object"==typeof r&&(r instanceof Uint8Array||"Uint8Array"===r.constructor.name)}(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function p(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}var m1=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class v2{static bytesToPrivateKey({privateKeyBytes:t}){return m1(this,void 0,void 0,function*(){const n=zS.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:br.U$.uint8Array(t).toBase64Url(),x:br.U$.uint8Array(n).toBase64Url()};return i.kid=yield Qa({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return m1(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:br.U$.uint8Array(t).toBase64Url()};return n.kid=yield Qa({jwk:n}),n})}static computePublicKey({key:t}){return m1(this,void 0,void 0,function*(){const n=yield v2.privateKeyToBytes({privateKey:t}),i=zS.getPublicKey(n),u={kty:"OKP",crv:"X25519",x:br.U$.uint8Array(i).toBase64Url()};return u.kid=yield Qa({jwk:u}),u})}static generateKey(){return m1(this,void 0,void 0,function*(){const t=zS.utils.randomPrivateKey(),n=yield v2.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Qa({jwk:n}),n})}static getPublicKey({key:t}){var n;return m1(this,void 0,void 0,function*(){if(!Py(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield Qa({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return m1(this,void 0,void 0,function*(){if(!Py(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return br.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return m1(this,void 0,void 0,function*(){if(!$S(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return br.U$.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return m1(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield v2.privateKeyToBytes({privateKey:t}),u=yield v2.publicKeyToBytes({publicKey:n});return zS.getSharedSecret(i,u)})}}const sf=(r,t)=>255&r[t++]|(255&r[t++])<<8;class u7{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,y2(t=P8(t),32);const n=sf(t,0),i=sf(t,2),u=sf(t,4),y=sf(t,6),d=sf(t,8),m=sf(t,10),Z=sf(t,12),G=sf(t,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|i<<3),this.r[2]=7939&(i>>>10|u<<6),this.r[3]=8191&(u>>>7|y<<9),this.r[4]=255&(y>>>4|d<<12),this.r[5]=d>>>1&8190,this.r[6]=8191&(d>>>14|m<<2),this.r[7]=8065&(m>>>11|Z<<5),this.r[8]=8191&(Z>>>8|G<<8),this.r[9]=G>>>5&127;for(let k=0;k<8;k++)this.pad[k]=sf(t,16+2*k)}process(t,n,i=!1){const u=i?0:2048,{h:y,r:d}=this,m=d[0],Z=d[1],G=d[2],k=d[3],ie=d[4],Ue=d[5],He=d[6],Ve=d[7],qe=d[8],pt=d[9],At=sf(t,n+0),bt=sf(t,n+2),_t=sf(t,n+4),Ft=sf(t,n+6),Xt=sf(t,n+8),Ht=sf(t,n+10),on=sf(t,n+12),ln=sf(t,n+14);let Ln=y[0]+(8191&At),Vn=y[1]+(8191&(At>>>13|bt<<3)),Zn=y[2]+(8191&(bt>>>10|_t<<6)),_r=y[3]+(8191&(_t>>>7|Ft<<9)),Xn=y[4]+(8191&(Ft>>>4|Xt<<12)),ar=y[5]+(Xt>>>1&8191),wn=y[6]+(8191&(Xt>>>14|Ht<<2)),Dn=y[7]+(8191&(Ht>>>11|on<<5)),Rn=y[8]+(8191&(on>>>8|ln<<8)),Jn=y[9]+(ln>>>5|u),Un=0,or=Un+Ln*m+Vn*(5*pt)+Zn*(5*qe)+_r*(5*Ve)+Xn*(5*He);Un=or>>>13,or&=8191,or+=ar*(5*Ue)+wn*(5*ie)+Dn*(5*k)+Rn*(5*G)+Jn*(5*Z),Un+=or>>>13,or&=8191;let Mr=Un+Ln*Z+Vn*m+Zn*(5*pt)+_r*(5*qe)+Xn*(5*Ve);Un=Mr>>>13,Mr&=8191,Mr+=ar*(5*He)+wn*(5*Ue)+Dn*(5*ie)+Rn*(5*k)+Jn*(5*G),Un+=Mr>>>13,Mr&=8191;let Sr=Un+Ln*G+Vn*Z+Zn*m+_r*(5*pt)+Xn*(5*qe);Un=Sr>>>13,Sr&=8191,Sr+=ar*(5*Ve)+wn*(5*He)+Dn*(5*Ue)+Rn*(5*ie)+Jn*(5*k),Un+=Sr>>>13,Sr&=8191;let Tn=Un+Ln*k+Vn*G+Zn*Z+_r*m+Xn*(5*pt);Un=Tn>>>13,Tn&=8191,Tn+=ar*(5*qe)+wn*(5*Ve)+Dn*(5*He)+Rn*(5*Ue)+Jn*(5*ie),Un+=Tn>>>13,Tn&=8191;let Ir=Un+Ln*ie+Vn*k+Zn*G+_r*Z+Xn*m;Un=Ir>>>13,Ir&=8191,Ir+=ar*(5*pt)+wn*(5*qe)+Dn*(5*Ve)+Rn*(5*He)+Jn*(5*Ue),Un+=Ir>>>13,Ir&=8191;let Kr=Un+Ln*Ue+Vn*ie+Zn*k+_r*G+Xn*Z;Un=Kr>>>13,Kr&=8191,Kr+=ar*m+wn*(5*pt)+Dn*(5*qe)+Rn*(5*Ve)+Jn*(5*He),Un+=Kr>>>13,Kr&=8191;let dr=Un+Ln*He+Vn*Ue+Zn*ie+_r*k+Xn*G;Un=dr>>>13,dr&=8191,dr+=ar*Z+wn*m+Dn*(5*pt)+Rn*(5*qe)+Jn*(5*Ve),Un+=dr>>>13,dr&=8191;let Wn=Un+Ln*Ve+Vn*He+Zn*Ue+_r*ie+Xn*k;Un=Wn>>>13,Wn&=8191,Wn+=ar*G+wn*Z+Dn*m+Rn*(5*pt)+Jn*(5*qe),Un+=Wn>>>13,Wn&=8191;let mr=Un+Ln*qe+Vn*Ve+Zn*He+_r*Ue+Xn*ie;Un=mr>>>13,mr&=8191,mr+=ar*k+wn*G+Dn*Z+Rn*m+Jn*(5*pt),Un+=mr>>>13,mr&=8191;let Or=Un+Ln*pt+Vn*qe+Zn*Ve+_r*He+Xn*Ue;Un=Or>>>13,Or&=8191,Or+=ar*ie+wn*k+Dn*G+Rn*Z+Jn*m,Un+=Or>>>13,Or&=8191,Un=(Un<<2)+Un|0,Un=Un+or|0,or=8191&Un,Un>>>=13,Mr+=Un,y[0]=or,y[1]=Mr,y[2]=Sr,y[3]=Tn,y[4]=Ir,y[5]=Kr,y[6]=dr,y[7]=Wn,y[8]=mr,y[9]=Or}finalize(){const{h:t,pad:n}=this,i=new Uint16Array(10);let u=t[1]>>>13;t[1]&=8191;for(let m=2;m<10;m++)t[m]+=u,u=t[m]>>>13,t[m]&=8191;t[0]+=5*u,u=t[0]>>>13,t[0]&=8191,t[1]+=u,u=t[1]>>>13,t[1]&=8191,t[2]+=u,i[0]=t[0]+5,u=i[0]>>>13,i[0]&=8191;for(let m=1;m<10;m++)i[m]=t[m]+u,u=i[m]>>>13,i[m]&=8191;i[9]-=8192;let y=(1^u)-1;for(let m=0;m<10;m++)i[m]&=y;y=~y;for(let m=0;m<10;m++)t[m]=t[m]&y|i[m];t[0]=65535&(t[0]|t[1]<<13),t[1]=65535&(t[1]>>>3|t[2]<<10),t[2]=65535&(t[2]>>>6|t[3]<<7),t[3]=65535&(t[3]>>>9|t[4]<<4),t[4]=65535&(t[4]>>>12|t[5]<<1|t[6]<<14),t[5]=65535&(t[6]>>>2|t[7]<<11),t[6]=65535&(t[7]>>>5|t[8]<<8),t[7]=65535&(t[8]>>>8|t[9]<<5);let d=t[0]+n[0];t[0]=65535&d;for(let m=1;m<8;m++)d=(t[m]+n[m]|0)+(d>>>16)|0,t[m]=65535&d}update(t){p(this);const{buffer:n,blockLen:i}=this,u=(t=P8(t)).length;for(let y=0;y<u;){const d=Math.min(i-this.pos,u-y);if(d!==i)n.set(t.subarray(y,y+d),this.pos),this.pos+=d,y+=d,this.pos===i&&(this.process(n,0,!1),this.pos=0);else for(;i<=u-y;y+=i)this.process(t,y)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){p(this),function S(r,t){g2(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,h:i}=this;let{pos:u}=this;if(u){for(n[u++]=1;u<16;u++)n[u]=0;this.process(n,0,!0)}this.finalize();let y=0;for(let d=0;d<8;d++)t[y++]=i[d]>>>0,t[y++]=i[d]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}}const h7=function f7(r){const t=(i,u)=>r(u).update(P8(i)).digest(),n=r(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=i=>r(i),t}(r=>new u7(r)),p7=O8("expand 16-byte k"),m7=O8("expand 32-byte k"),y7=By(p7),g7=By(m7);function to(r,t){return r<<t|r>>>32-t}function dP(r){return r.byteOffset%4==0}const QB=2**32-1,eN=new Uint32Array;function cI(r,t){const{allowShortKeys:n,extendNonceFn:i,counterLength:u,counterRight:y,rounds:d}=function YB(r,t){if(void 0!==t&&("object"!=typeof t||!(r=>"[object Object]"===Object.prototype.toString.call(r)&&r.constructor===Object)(t)))throw new Error("options must be object or undefined");return Object.assign(r,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof r)throw new Error("core must be a function");return uv(u),uv(d),aI(y),aI(n),(m,Z,G,k,ie=0)=>{g2(m),g2(Z),g2(G);const Ue=G.length;if(k||(k=new Uint8Array(Ue)),g2(k),uv(ie),ie<0||ie>=QB)throw new Error("arx: counter overflow");if(k.length<Ue)throw new Error(`arx: output (${k.length}) is shorter than data (${Ue})`);const He=[];let qe,pt,Ve=m.length;if(32===Ve)qe=m.slice(),He.push(qe),pt=g7;else{if(16!==Ve||!n)throw new Error(`arx: invalid 32-byte key, got length=${Ve}`);qe=new Uint8Array(32),qe.set(m),qe.set(m,16),pt=y7,He.push(qe)}dP(Z)||(Z=Z.slice(),He.push(Z));const At=By(qe);if(i){if(24!==Z.length)throw new Error("arx: extended nonce must be 24 bytes");i(pt,At,By(Z.subarray(0,16)),At),Z=Z.subarray(16)}const bt=16-u;if(bt!==Z.length)throw new Error(`arx: nonce must be ${bt} or 16 bytes`);if(12!==bt){const Ft=new Uint8Array(12);Ft.set(Z,y?0:12-Z.length),He.push(Z=Ft)}const _t=By(Z);for(function b7(r,t,n,i,u,y,d,m){const Z=u.length,G=new Uint8Array(64),k=By(G),ie=dP(u)&&dP(y),Ue=ie?By(u):eN,He=ie?By(y):eN;for(let Ve=0;Ve<Z;d++){if(r(t,n,i,k,d,m),d>=QB)throw new Error("arx: counter overflow");const qe=Math.min(64,Z-Ve);if(ie&&64===qe){const pt=Ve/4;if(Ve%4!=0)throw new Error("arx: invalid block position");for(let bt,At=0;At<16;At++)bt=pt+At,He[bt]=Ue[bt]^k[At];Ve+=64}else{for(let At,pt=0;pt<qe;pt++)At=Ve+pt,y[At]=u[At]^G[pt];Ve+=qe}}}(r,pt,At,_t,G,k,ie,d);He.length>0;)He.pop().fill(0);return k}}function lI(r,t,n,i,u,y=20){let d=r[0],m=r[1],Z=r[2],G=r[3],k=t[0],ie=t[1],Ue=t[2],He=t[3],Ve=t[4],qe=t[5],pt=t[6],At=t[7],bt=u,_t=n[0],Ft=n[1],Xt=n[2],Ht=d,on=m,ln=Z,Ln=G,Vn=k,Zn=ie,_r=Ue,Xn=He,ar=Ve,wn=qe,Dn=pt,Rn=At,Jn=bt,Un=_t,or=Ft,Mr=Xt;for(let Tn=0;Tn<y;Tn+=2)Ht=Ht+Vn|0,Jn=to(Jn^Ht,16),ar=ar+Jn|0,Vn=to(Vn^ar,12),Ht=Ht+Vn|0,Jn=to(Jn^Ht,8),ar=ar+Jn|0,Vn=to(Vn^ar,7),on=on+Zn|0,Un=to(Un^on,16),wn=wn+Un|0,Zn=to(Zn^wn,12),on=on+Zn|0,Un=to(Un^on,8),wn=wn+Un|0,Zn=to(Zn^wn,7),ln=ln+_r|0,or=to(or^ln,16),Dn=Dn+or|0,_r=to(_r^Dn,12),ln=ln+_r|0,or=to(or^ln,8),Dn=Dn+or|0,_r=to(_r^Dn,7),Ln=Ln+Xn|0,Mr=to(Mr^Ln,16),Rn=Rn+Mr|0,Xn=to(Xn^Rn,12),Ln=Ln+Xn|0,Mr=to(Mr^Ln,8),Rn=Rn+Mr|0,Xn=to(Xn^Rn,7),Ht=Ht+Zn|0,Mr=to(Mr^Ht,16),Dn=Dn+Mr|0,Zn=to(Zn^Dn,12),Ht=Ht+Zn|0,Mr=to(Mr^Ht,8),Dn=Dn+Mr|0,Zn=to(Zn^Dn,7),on=on+_r|0,Jn=to(Jn^on,16),Rn=Rn+Jn|0,_r=to(_r^Rn,12),on=on+_r|0,Jn=to(Jn^on,8),Rn=Rn+Jn|0,_r=to(_r^Rn,7),ln=ln+Xn|0,Un=to(Un^ln,16),ar=ar+Un|0,Xn=to(Xn^ar,12),ln=ln+Xn|0,Un=to(Un^ln,8),ar=ar+Un|0,Xn=to(Xn^ar,7),Ln=Ln+Vn|0,or=to(or^Ln,16),wn=wn+or|0,Vn=to(Vn^wn,12),Ln=Ln+Vn|0,or=to(or^Ln,8),wn=wn+or|0,Vn=to(Vn^wn,7);let Sr=0;i[Sr++]=d+Ht|0,i[Sr++]=m+on|0,i[Sr++]=Z+ln|0,i[Sr++]=G+Ln|0,i[Sr++]=k+Vn|0,i[Sr++]=ie+Zn|0,i[Sr++]=Ue+_r|0,i[Sr++]=He+Xn|0,i[Sr++]=Ve+ar|0,i[Sr++]=qe+wn|0,i[Sr++]=pt+Dn|0,i[Sr++]=At+Rn|0,i[Sr++]=bt+Jn|0,i[Sr++]=_t+Un|0,i[Sr++]=Ft+or|0,i[Sr++]=Xt+Mr|0}const _7=cI(lI,{counterRight:!1,counterLength:4,allowShortKeys:!1}),E7=cI(lI,{counterRight:!1,counterLength:8,extendNonceFn:function w7(r,t,n,i){let u=r[0],y=r[1],d=r[2],m=r[3],Z=t[0],G=t[1],k=t[2],ie=t[3],Ue=t[4],He=t[5],Ve=t[6],qe=t[7],pt=n[0],At=n[1],bt=n[2],_t=n[3];for(let Xt=0;Xt<20;Xt+=2)u=u+Z|0,pt=to(pt^u,16),Ue=Ue+pt|0,Z=to(Z^Ue,12),u=u+Z|0,pt=to(pt^u,8),Ue=Ue+pt|0,Z=to(Z^Ue,7),y=y+G|0,At=to(At^y,16),He=He+At|0,G=to(G^He,12),y=y+G|0,At=to(At^y,8),He=He+At|0,G=to(G^He,7),d=d+k|0,bt=to(bt^d,16),Ve=Ve+bt|0,k=to(k^Ve,12),d=d+k|0,bt=to(bt^d,8),Ve=Ve+bt|0,k=to(k^Ve,7),m=m+ie|0,_t=to(_t^m,16),qe=qe+_t|0,ie=to(ie^qe,12),m=m+ie|0,_t=to(_t^m,8),qe=qe+_t|0,ie=to(ie^qe,7),u=u+G|0,_t=to(_t^u,16),Ve=Ve+_t|0,G=to(G^Ve,12),u=u+G|0,_t=to(_t^u,8),Ve=Ve+_t|0,G=to(G^Ve,7),y=y+k|0,pt=to(pt^y,16),qe=qe+pt|0,k=to(k^qe,12),y=y+k|0,pt=to(pt^y,8),qe=qe+pt|0,k=to(k^qe,7),d=d+ie|0,At=to(At^d,16),Ue=Ue+At|0,ie=to(ie^Ue,12),d=d+ie|0,At=to(At^d,8),Ue=Ue+At|0,ie=to(ie^Ue,7),m=m+Z|0,bt=to(bt^m,16),He=He+bt|0,Z=to(Z^He,12),m=m+Z|0,bt=to(bt^m,8),He=He+bt|0,Z=to(Z^He,7);let Ft=0;i[Ft++]=u,i[Ft++]=y,i[Ft++]=d,i[Ft++]=m,i[Ft++]=pt,i[Ft++]=At,i[Ft++]=bt,i[Ft++]=_t},allowShortKeys:!1}),x7=new Uint8Array(16),tN=(r,t)=>{r.update(t);const n=t.length%16;n&&r.update(x7.subarray(n))},S7=new Uint8Array(32);function nN(r,t,n,i,u){const y=r(t,n,S7),d=h7.create(y);u&&tN(d,u),tN(d,i);const m=new Uint8Array(16),Z=(r=>new DataView(r.buffer,r.byteOffset,r.byteLength))(m);XS(Z,0,BigInt(u?u.length:0),!0),XS(Z,8,BigInt(i.length),!0),d.update(m);const G=d.digest();return y.fill(0),G}const rN=r=>(t,n,i)=>(y2(t,32),y2(n),{encrypt:(y,d)=>{const m=y.length,Z=m+16;d?y2(d,Z):d=new Uint8Array(Z),r(t,n,y,d,1);const G=nN(r,t,n,d.subarray(0,-16),i);return d.set(G,m),d},decrypt:(y,d)=>{const m=y.length,Z=m-16;if(m<16)throw new Error("encrypted data must be at least 16 bytes");d?y2(d,Z):d=new Uint8Array(Z);const G=y.subarray(0,-16);if(!function aP(r,t){if(r.length!==t.length)return!1;let n=0;for(let i=0;i<r.length;i++)n|=r[i]^t[i];return 0===n}(y.subarray(-16),nN(r,t,n,G,i)))throw new Error("invalid tag");return r(t,n,G,d,1),d}});function fm(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function hP({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(pP))&&void 0!==n?n:[]),Object.keys(X_).forEach(u=>{var y,d;i.push(...null!==(d=null===(y=r[u])||void 0===y?void 0:y.filter(pP))&&void 0!==d?d:[])}),i}function T7({didDocument:r,methodId:t}){const n=[];return Object.keys(X_).forEach(i=>{if(Array.isArray(r[i])){const u=r[i],y=fm(t);u.some(m=>{const Z=fm(m)===y,G=pP(m)&&fm(m.id)===y;return Z||G})&&n.push(i)}}),n}function pP(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}function iN({keyBytes:r,multicodecCode:t,multicodecName:n}){const i=br.Gs.addPrefix({code:t,data:r,name:n}),u=br.U$.uint8Array(i).toBase58Btc();return br.U$.base58Btc(u).toMultibase()}function oN({multibaseKeyId:r}){try{const t=br.U$.multibase(r).toBase58Btc(),n=br.U$.base58Btc(t).toUint8Array(),{code:i,data:u,name:y}=br.Gs.removePrefix({prefixedData:n});return{keyBytes:u,multicodecCode:i,multicodecName:y}}catch{throw new Co(Oo.InvalidDid,`Invalid multibase identifier: ${r}`)}}rN(_7),rN(E7);var fI=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class y1{constructor({uri:t,document:n,metadata:i,keyManager:u}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=u}export(){return fI(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const u=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),y=yield this.keyManager.exportKey({keyUri:u});n.push(Object.assign({},y))}t.privateKeys=n}return t})}getSigner(t){return fI(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(Z=>{var G,k;return fm(Z.id)===(null!==(G=fm(t?.methodId))&&void 0!==G?G:fm(null===(k=this.document.assertionMethod)||void 0===k?void 0:k[0]))});if(!i||!i.publicKeyJwk)throw new Co(Oo.InternalError,"A verification method intended for signing could not be determined from the DID Document");const u=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),y=yield this.keyManager.getPublicKey({keyUri:u}),d=this.keyManager;return{algorithm:GS(y),keyId:i.id,sign(Z){return fI(this,arguments,void 0,function*({data:G}){return yield d.sign({data:G,keyUri:u})})},verify(Z){return fI(this,arguments,void 0,function*({data:G,signature:k}){return yield d.verify({data:G,key:y,signature:k})})}}})}static import(t){return fI(this,arguments,void 0,function*({portableDid:n,keyManager:i=new ky}){var u;const y=hP({didDocument:n.document});if(0===y.length)throw new Co(Oo.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let m of null!==(u=n.privateKeys)&&void 0!==u?u:[])yield i.importKey({key:m});for(let m of y){if(!m.publicKeyJwk)throw new Error(`Verification method '${m.id}' does not contain a public key in JWK format`);const Z=yield i.getKeyUri({key:m.publicKeyJwk});yield i.getPublicKey({keyUri:Z})}return new y1({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var N8=A(2198),ZS=A(49402),sN=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class mP{static getSigningMethod(t){return sN(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return sN(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Bu=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},aN=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n};const cN="https://diddht.tbddev.org",g1=7200,dh=",";var lN=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(lN||{}),Xh=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(Xh||{}),dN=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(dN||{});const uN={Ed25519:Xh.Ed25519,ES256K:Xh.secp256k1,ES256:Xh.secp256r1,"P-256":Xh.secp256r1,secp256k1:Xh.secp256k1,secp256r1:Xh.secp256r1,X25519:Xh.X25519},fN={[Xh.Ed25519]:"Ed25519",[Xh.secp256k1]:"ES256K",[Xh.secp256r1]:"ES256",[Xh.X25519]:"ECDH-ES+A256KW"};let yP=(()=>{class r extends mP{static create(){return Bu(this,arguments,void 0,function*({keyManager:n=new ky,options:i={}}={}){var u,y,d,m,Z,G,k,ie,Ue,He,Ve;if(null!==(u=i.verificationMethods)&&void 0!==u&&u.some(Ht=>!(Ht.algorithm in uN)))throw new Error("One or more verification method algorithms are not supported");const qe=null===(y=i.verificationMethods)||void 0===y?void 0:y.filter(Ht=>"id"in Ht).map(Ht=>Ht.id);if(qe&&qe.length!==new Set(qe).size)throw new Error("One or more verification method IDs are not unique");if(null!==(d=i.services)&&void 0!==d&&d.some(Ht=>!Ht.id||!Ht.type||!Ht.serviceEndpoint))throw new Error("One or more services are missing required properties");const pt=yield n.generateKey({algorithm:"Ed25519"}),At=yield n.getPublicKey({keyUri:pt}),bt=yield Fd.identityKeyToIdentifier({identityKey:At}),_t=Object.assign(Object.assign({id:bt},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),Ft=[...null!==(m=i.verificationMethods)&&void 0!==m?m:[]];Ft?.some(Ht=>{var on;return"0"===(null===(on=Ht.id)||void 0===on?void 0:on.split("#").pop())})||Ft.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Ht of Ft){const on=Ht.id&&"0"===Ht.id.split("#").pop()?pt:yield n.generateKey({algorithm:Ht.algorithm}),ln=yield n.getPublicKey({keyUri:on});let Ln=null!==(G=null!==(Z=Ht.id)&&void 0!==Z?Z:ln.kid)&&void 0!==G?G:yield Qa({jwk:ln});Ln=`${bt}#${fm(Ln)}`,null!==(k=_t.verificationMethod)&&void 0!==k||(_t.verificationMethod=[]),_t.verificationMethod.push({id:Ln,type:"JsonWebKey",controller:null!==(ie=Ht.controller)&&void 0!==ie?ie:bt,publicKeyJwk:ln});for(const Vn of null!==(Ue=Ht.purposes)&&void 0!==Ue?Ue:[])_t[Vn]||(_t[Vn]=[]),_t[Vn].push(Ln)}null===(He=i.services)||void 0===He||He.forEach(Ht=>{var on;null!==(on=_t.service)&&void 0!==on||(_t.service=[]),Ht.id=`${bt}#${Ht.id.split("#").pop()}`,_t.service.push(Ht)});const Xt=new y1({uri:bt,document:_t,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Ve=i.publish)||void 0===Ve||Ve){const Ht=yield r.publish({did:Xt,gatewayUri:i.gatewayUri});Xt.metadata=Ht.didDocumentMetadata}return Xt})}static import(n){return Bu(this,arguments,void 0,function*({portableDid:i,keyManager:u=new ky}){var y;const d=Ba.parse(i.uri);if(d?.method!==r.methodName)throw new Co(Oo.MethodNotSupported,"Method not supported");const m=yield y1.import({portableDid:i,keyManager:u});if(null===(y=m.document.verificationMethod)||void 0===y||!y.some(Z=>{var G;return"0"===(null===(G=Z.id)||void 0===G?void 0:G.split("#").pop())}))throw new Co(Oo.InvalidDidDocument,"DID document must contain an Identity Key");return m})}static getSigningMethod(n){return Bu(this,arguments,void 0,function*({didDocument:i,methodId:u="#0"}){var y;const d=Ba.parse(i.id);if(d&&d.method!==this.methodName)throw new Co(Oo.MethodNotSupported,`Method not supported: ${d.method}`);const m=null===(y=i.verificationMethod)||void 0===y?void 0:y.find(Z=>{var G,k;return fm(Z.id)===(null!==(G=fm(u))&&void 0!==G?G:fm(null===(k=i.assertionMethod)||void 0===k?void 0:k[0]))});if(!m||!m.publicKeyJwk)throw new Co(Oo.InternalError,"A verification method intended for signing could not be determined from the DID Document");return m})}static publish(n){return Bu(this,arguments,void 0,function*({did:i,gatewayUri:u=cN}){return yield fv.put({did:i,gatewayUri:u})})}static resolve(n){return Bu(this,arguments,void 0,function*(i,u={}){var y;const d=null!==(y=u?.gatewayUri)&&void 0!==y?y:cN;try{yield Fd.identifierToIdentityKey({didUri:i});const{didDocument:m,didDocumentMetadata:Z}=yield fv.get({didUri:i,gatewayUri:d});return Object.assign(Object.assign({},gp),{didDocument:m,didDocumentMetadata:Z})}catch(m){if(!(m instanceof Co))throw new Error(m);return Object.assign(Object.assign({},gp),{didResolutionMetadata:Object.assign({error:m.code},m.message&&{errorMessage:m.message})})}})}}return r.methodName="dht",r})();class fv{static get(t){return Bu(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const u=Fd.identifierToIdentityKeyBytes({didUri:n}),y=yield fv.pkarrGet({gatewayUri:i,publicKeyBytes:u}),d=yield Fd.parseBep44GetMessage({bep44Message:y}),m=yield fv.fromDnsPacket({didUri:n,dnsPacket:d});return m.didDocumentMetadata.versionId=y.seq.toString(),m})}static put(t){return Bu(this,arguments,void 0,function*({did:n,gatewayUri:i}){const u=yield fv.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),y=yield Fd.createBep44PutMessage({dnsPacket:u,publicKeyBytes:Fd.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),d=yield fv.pkarrPut({gatewayUri:i,bep44Message:y});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:d,versionId:y.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return Bu(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const u=br.U$.uint8Array(i).toBase32Z(),y=new URL(u,n).href;let d;try{if(d=yield fetch(y,{method:"GET"}),!d.ok)throw new Co(Oo.NotFound,`Pkarr record not found for: ${u}`)}catch(G){throw G instanceof Co?G:new Co(Oo.InternalError,`Failed to fetch Pkarr record: ${G.message}`)}const m=yield d.arrayBuffer();if(!m)throw new Co(Oo.NotFound,`Pkarr record not found for: ${u}`);if(m.byteLength<72)throw new Co(Oo.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${m.byteLength}`);if(m.byteLength>1072)throw new Co(Oo.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${m.byteLength}`);return{k:i,seq:Number(new DataView(m).getBigUint64(64)),sig:new Uint8Array(m,0,64),v:new Uint8Array(m,72)}})}static pkarrPut(t){return Bu(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const u=br.U$.uint8Array(i.k).toBase32Z(),y=new URL(u,n).href,d=new Uint8Array(i.v.length+72);let m;d.set(i.sig,0),new DataView(d.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),d.set(i.v,i.sig.length+8);try{m=yield fetch(y,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:d})}catch(Z){throw new Co(Oo.InternalError,`Failed to put Pkarr record for identifier ${u}: ${Z.message}`)}return m.ok})}static fromDnsPacket(t){return Bu(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var u,y,d;const m={id:n},Z={published:!0},G=new Map;for(const k of null!==(u=i?.answers)&&void 0!==u?u:[]){if("TXT"!==k.type)continue;const ie=k.name.split(".")[0].substring(1);switch(!0){case ie.startsWith("aka"):{const Ue=Fd.parseTxtDataToString(k.data);m.alsoKnownAs=Ue.split(dh);break}case ie.startsWith("cnt"):{const Ue=Fd.parseTxtDataToString(k.data);m.controller=Ue.includes(dh)?Ue.split(dh):Ue;break}case ie.startsWith("k"):{const{id:Ue,t:He,k:Ve,c:qe,a:pt}=Fd.parseTxtDataToObject(k.data),At=br.U$.base64Url(Ve).toUint8Array(),bt=Xh[Number(He)];let _t=yield Fd.keyConverter(bt).bytesToPublicKey({publicKeyBytes:At});_t.alg=pt||fN[Number(He)];const Ft="k0"===ie?"0":void 0!==Ue?Ue:yield Qa({jwk:_t});null!==(y=m.verificationMethod)&&void 0!==y||(m.verificationMethod=[]);const Xt=`${n}#${Ft}`;m.verificationMethod.push({id:Xt,type:"JsonWebKey",controller:qe??n,publicKeyJwk:_t}),G.set(ie,Xt);break}case ie.startsWith("s"):{const Ue=Fd.parseTxtDataToObject(k.data),{id:He,t:Ve,se:qe}=Ue,pt=aN(Ue,["id","t","se"]),At=qe.includes(dh)?qe.split(dh):[qe],bt=Object.fromEntries(Object.entries(pt).map(([_t,Ft])=>[_t,Ft.includes(dh)?Ft.split(dh):Ft]));null!==(d=m.service)&&void 0!==d||(m.service=[]),m.service.push(Object.assign(Object.assign({},bt),{id:`${n}#${He}`,type:Ve,serviceEndpoint:At}));break}case ie.startsWith("typ"):{const{id:Ue}=Fd.parseTxtDataToObject(k.data);Z.types=Ue.split(dh).map(He=>Number(He));break}case ie.startsWith("did"):{const Ue=bt=>bt.split(dh).map(_t=>G.get(_t)).filter(_t=>"string"==typeof _t),{auth:He,asm:Ve,del:qe,inv:pt,agm:At}=Fd.parseTxtDataToObject(k.data);He&&(m.authentication=Ue(He)),Ve&&(m.assertionMethod=Ue(Ve)),qe&&(m.capabilityDelegation=Ue(qe)),pt&&(m.capabilityInvocation=Ue(pt)),At&&(m.keyAgreement=Ue(At));break}}}return{didDocument:m,didDocumentMetadata:Z,didResolutionMetadata:{}}})}static toDnsPacket(t){return Bu(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:u,previousDidProof:y}){var d,m,Z,G,k;const ie=[],Ue=[],He=new Map,Ve=[],qe=[];if(void 0!==y){const{signature:bt,previousDid:_t}=y;yield Fd.validatePreviousDidProof({newDid:n.id,previousDidProof:y}),ie.push({type:"TXT",name:"_prv._did.",ttl:g1,data:`id=${_t};s=${bt}`})}if(n.alsoKnownAs&&ie.push({type:"TXT",name:"_aka._did.",ttl:g1,data:n.alsoKnownAs.join(dh)}),n.controller){const bt=Array.isArray(n.controller)?n.controller.join(dh):n.controller;ie.push({type:"TXT",name:"_cnt._did.",ttl:g1,data:bt})}for(const[bt,_t]of null!==(m=null===(d=n.verificationMethod)||void 0===d?void 0:d.entries())&&void 0!==m?m:[]){const Ft=`k${bt}`;qe.push(Ft);let Xt=_t.id.split("#").pop();He.set(Xt,Ft);const Ht=_t.publicKeyJwk;if(!Ht?.crv||!(Ht.crv in uN))throw new Co(Oo.InvalidPublicKeyType,`Verification method '${_t.id}' contains an unsupported key type: ${null!==(Z=Ht?.crv)&&void 0!==Z?Z:"undefined"}`);const on=Xh[Ht.crv],ln=yield Fd.keyConverter(Ht.crv).publicKeyToBytes({publicKey:Ht}),Vn=[`t=${on}`,`k=${br.U$.uint8Array(ln).toBase64Url()}`];"0"!==Xt&&(yield Qa({jwk:Ht}))!==Xt&&Vn.unshift(`id=${Xt}`),Ht.alg!==fN[on]&&Vn.push(`a=${Ht.alg}`),_t.controller!==n.id&&Vn.push(`c=${_t.controller}`),ie.push({type:"TXT",name:`_${Ft}._did.`,ttl:g1,data:Vn.join(";")})}null===(G=n.service)||void 0===G||G.forEach((bt,_t)=>{const Ft=`s${_t}`;Ve.push(Ft);let{id:Xt,type:Ht,serviceEndpoint:on}=bt,ln=aN(bt,["id","type","serviceEndpoint"]);Xt=fm(Xt),on=Array.isArray(on)?on.join(","):on;const Vn=Object.entries(Object.assign({id:Xt,t:Ht,se:on},ln)).map(([_r,Xn])=>`${_r}=${Xn}`).join(";"),Zn=Fd.chunkDataIfNeeded(Vn);ie.push({type:"TXT",name:`_${Ft}._did.`,ttl:g1,data:Zn})});const pt=["v=0"];if(qe.length&&pt.push(`vm=${qe.join(dh)}`),Object.keys(X_).forEach(bt=>{var _t;const Ft=null===(_t=n[bt])||void 0===_t?void 0:_t.map(Xt=>He.get(Xt.split("#").pop()));Ft&&pt.push(`${dN[bt]}=${Ft.join(dh)}`)}),Ve.length&&pt.push(`svc=${Ve.join(dh)}`),null!==(k=i.types)&&void 0!==k&&k.length){const _t=i.types.map(Ft=>"string"==typeof Ft?lN[Ft]:Ft);ie.push({type:"TXT",name:"_typ._did.",ttl:g1,data:`id=${_t.join(dh)}`})}ie.push({type:"TXT",name:"_did."+fv.getUniqueDidSuffix(n.id)+".",ttl:g1,data:pt.join(";")});for(const bt of u||[])Ue.push({type:"NS",name:"_did."+fv.getUniqueDidSuffix(n.id)+".",ttl:g1,data:bt+"."});return{id:0,type:"response",flags:ZS.hB,answers:[...ie,...Ue]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class Fd{static createBep44PutMessage(t){return Bu(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:u}){const y=Math.ceil(Date.now()/1e3),d=(0,ZS.lF)(n),m=N8.A.encode({seq:y,v:d}).subarray(1,-1);if(m.length>1e3)throw new Co(Oo.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${m.length} bytes`);return{k:i,seq:y,sig:yield u.sign({data:m}),v:d}})}static identifierToIdentityKey(t){return Bu(this,arguments,void 0,function*({didUri:n}){let i=Fd.identifierToIdentityKeyBytes({didUri:n});return yield rl.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Ba.parse(t);if(!n)throw new Co(Oo.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==yP.methodName)throw new Co(Oo.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=br.U$.base32Z(n.id).toUint8Array()}catch{throw new Co(Oo.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new Co(Oo.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return Bu(this,arguments,void 0,function*({identityKey:n}){const i=yield rl.publicKeyToBytes({publicKey:n}),u=br.U$.uint8Array(i).toBase32Z();return`did:${yP.methodName}:${u}`})}static keyConverter(t){const i={Ed25519:rl,"P-256":{publicKeyToBytes:u=>Bu(this,[u],void 0,function*({publicKey:y}){const d=yield yl.publicKeyToBytes({publicKey:y});return yield yl.compressPublicKey({publicKeyBytes:d})}),bytesToPublicKey:yl.bytesToPublicKey,privateKeyToBytes:yl.privateKeyToBytes,bytesToPrivateKey:yl.bytesToPrivateKey},secp256k1:{publicKeyToBytes:u=>Bu(this,[u],void 0,function*({publicKey:y}){const d=yield ml.publicKeyToBytes({publicKey:y});return yield ml.compressPublicKey({publicKeyBytes:d})}),bytesToPublicKey:ml.bytesToPublicKey,privateKeyToBytes:ml.privateKeyToBytes,bytesToPrivateKey:ml.bytesToPrivateKey},X25519:v2}[t];if(!i)throw new Co(Oo.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return Bu(this,arguments,void 0,function*({bep44Message:n}){const i=yield rl.bytesToPublicKey({publicKeyBytes:n.k}),u=N8.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield rl.verify({key:i,signature:n.sig,data:u})))throw new Co(Oo.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,ZS.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[u,y]=i.split("=");return n[u]=y,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return br.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new Co(Oo.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return Bu(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const u=yield Fd.identifierToIdentityKey({didUri:i.previousDid}),y=Fd.identifierToIdentityKeyBytes({didUri:n}),d=br.U$.base64Url(i.signature).toUint8Array();if(!(yield rl.verify({key:u,data:y,signature:d})))throw new Co(Oo.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var hN=A(52039),v1=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},hv=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(hv||{});const O7={Ed25519:hv.Ed25519,ES256K:hv.secp256k1,ES256:hv.secp256r1,"P-256":hv.secp256r1,secp256k1:hv.secp256k1,secp256r1:hv.secp256r1},pN="https://ion.tbd.engineering";let P7=(()=>{class r extends mP{static create(){return v1(this,arguments,void 0,function*({keyManager:n=new ky,options:i={}}={}){var u,y,d,m,Z,G,k;if(null!==(u=i.verificationMethods)&&void 0!==u&&u.some(Ht=>!(Ht.algorithm in O7)))throw new Error("One or more verification method algorithms are not supported");const ie=null===(y=i.verificationMethods)||void 0===y?void 0:y.filter(Ht=>"id"in Ht).map(Ht=>Ht.id);if(ie&&ie.length!==new Set(ie).size)throw new Error("One or more verification method IDs are not unique");if(null!==(d=i.services)&&void 0!==d&&d.some(Ht=>!Ht.id||!Ht.type||!Ht.serviceEndpoint))throw new Error("One or more services are missing required properties");const Ue={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},He=[];for(const Ht of null!==(m=i.verificationMethods)&&void 0!==m?m:[Ue]){const on=yield n.generateKey({algorithm:Ht.algorithm}),ln=yield n.getPublicKey({keyUri:on});He.push({id:Ht.id,publicKeyJwk:ln,purposes:null!==(Z=Ht.purposes)&&void 0!==Z?Z:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const Ve=yield n.generateKey({algorithm:hv.secp256k1}),qe=yield n.getPublicKey({keyUri:Ve}),pt=yield n.generateKey({algorithm:hv.secp256k1}),At=yield n.getPublicKey({keyUri:pt}),bt=yield m0.computeLongFormDidUri({recoveryKey:qe,updateKey:At,services:null!==(G=i.services)&&void 0!==G?G:[],verificationMethods:He}),{didDocument:_t,didResolutionMetadata:Ft}=yield r.resolve(bt,{gatewayUri:i.gatewayUri});if(null===_t)throw new Error(`Unable to resolve DID during creation: ${Ft?.error}`);const Xt=new y1({uri:bt,document:_t,metadata:{published:!1,canonicalId:bt.split(":",3).join(":"),recoveryKey:qe,updateKey:At},keyManager:n});if(null===(k=i.publish)||void 0===k||k){const Ht=yield r.publish({did:Xt,gatewayUri:i.gatewayUri});Xt.metadata=Ht.didDocumentMetadata}return Xt})}static getSigningMethod(n){return v1(this,arguments,void 0,function*({didDocument:i,methodId:u}){var y;const d=Ba.parse(i.id);if(d&&d.method!==this.methodName)throw new Co(Oo.MethodNotSupported,`Method not supported: ${d.method}`);const m=null===(y=i.verificationMethod)||void 0===y?void 0:y.find(Z=>{var G;return Z.id===(u??(null===(G=i.assertionMethod)||void 0===G?void 0:G[0]))});if(!m||!m.publicKeyJwk)throw new Co(Oo.InternalError,"A verification method intended for signing could not be determined from the DID Document");return m})}static import(n){return v1(this,arguments,void 0,function*({portableDid:i,keyManager:u=new ky}){const y=Ba.parse(i.uri);if(y?.method!==r.methodName)throw new Co(Oo.MethodNotSupported,"Method not supported");return yield y1.import({portableDid:i,keyManager:u})})}static publish(n){return v1(this,arguments,void 0,function*({did:i,gatewayUri:u=pN}){var y,d,m;const Z=null!==(d=null===(y=i.document.verificationMethod)||void 0===y?void 0:y.map(ie=>({id:ie.id,publicKeyJwk:ie.publicKeyJwk,purposes:T7({didDocument:i.document,methodId:ie.id})})))&&void 0!==d?d:[],G=yield m0.createIonDocument({services:null!==(m=i.document.service)&&void 0!==m?m:[],verificationMethods:Z}),k=yield m0.constructCreateRequest({ionDocument:G,recoveryKey:i.metadata.recoveryKey,updateKey:i.metadata.updateKey});try{const ie=m0.appendPathToUrl({baseUrl:u,path:"/operations"}),Ue=yield fetch(ie,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});return{didDocument:i.document,didDocumentMetadata:Object.assign(Object.assign({},i.metadata),{published:Ue.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:Oo.InternalError,errorMessage:`Failed to publish DID document for: ${i.uri}`}}}})}static resolve(n){return v1(this,arguments,void 0,function*(i,u={}){var y,d;const m=Ba.parse(i);if(!m)return Object.assign(Object.assign({},gp),{didResolutionMetadata:{error:"invalidDid"}});if(m.method!==r.methodName)return Object.assign(Object.assign({},gp),{didResolutionMetadata:{error:"methodNotSupported"}});const Z=null!==(y=u?.gatewayUri)&&void 0!==y?y:pN;try{const G=m0.appendPathToUrl({baseUrl:Z,path:`/identifiers/${i}`}),k=yield fetch(G);if(!k.ok)throw new Co(Oo.NotFound,`Unable to find DID document for: ${i}`);const{didDocument:ie,didDocumentMetadata:Ue}=yield k.json();return Object.assign(Object.assign(Object.assign({},gp),ie&&{didDocument:ie}),{didDocumentMetadata:Object.assign({published:null===(d=Ue?.method)||void 0===d?void 0:d.published},Ue)})}catch(G){if(!(G instanceof Co))throw new Error(G);return Object.assign(Object.assign({},gp),{didResolutionMetadata:Object.assign({error:G.code},G.message&&{errorMessage:G.message})})}})}}return r.methodName="ion",r})();class m0{static appendPathToUrl({baseUrl:t,path:n}){const i=new URL(t);return i.pathname=i.pathname.endsWith("/")?i.pathname:i.pathname+"/",i.pathname+=n.startsWith("/")?n.substring(1):n,i.toString()}static computeLongFormDidUri(t){return v1(this,arguments,void 0,function*({recoveryKey:n,updateKey:i,services:u,verificationMethods:y}){const d=yield m0.createIonDocument({services:u,verificationMethods:y}),m=m0.normalizeJwk(n),Z=m0.normalizeJwk(i);return yield hN.oU.createLongFormDid({document:d,recoveryKey:m,updateKey:Z})})}static constructCreateRequest(t){return v1(this,arguments,void 0,function*({ionDocument:n,recoveryKey:i,updateKey:u}){return yield hN.Q2.createCreateRequest({document:n,recoveryKey:m0.normalizeJwk(i),updateKey:m0.normalizeJwk(u)})})}static createIonDocument(t){return v1(this,arguments,void 0,function*({services:n,verificationMethods:i}){var u,y;const d=[];for(const G of i){let k=null!==(y=null!==(u=G.id)&&void 0!==u?u:G.publicKeyJwk.kid)&&void 0!==y?y:yield Qa({jwk:G.publicKeyJwk});k=`${k.split("#").pop()}`;const ie={id:k,publicKeyJwk:m0.normalizeJwk(G.publicKeyJwk),purposes:G.purposes,type:"JsonWebKey2020"};d.push(ie)}return{publicKeys:d,services:n.map(G=>Object.assign(Object.assign({},G),{id:`${G.id.split("#").pop()}`}))}})}static normalizeJwk(t){const n=t.kty;let i;if("EC"===n)i={crv:t.crv,kty:t.kty,x:t.x,y:t.y};else if("oct"===n)i={k:t.k,kty:t.kty};else if("OKP"===n)i={crv:t.crv,kty:t.kty,x:t.x};else{if("RSA"!==n)throw new Error(`Unsupported key type: ${n}`);i={e:t.e,kty:t.kty,n:t.n}}return i}}var hm=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},b1=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(b1||{});const gP={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},k7={Ed25519:b1.Ed25519,ES256K:b1.secp256k1,ES256:b1.secp256r1,"P-256":b1.secp256r1,secp256k1:b1.secp256k1,secp256r1:b1.secp256r1,X25519:b1.X25519};let B7=(()=>{class r extends mP{static create(){return hm(this,arguments,void 0,function*({keyManager:n=new ky,options:i={}}={}){var u,y,d,m;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const Z=null!==(m=null!==(u=i.algorithm)&&void 0!==u?u:null===(d=null===(y=i.verificationMethods)||void 0===y?void 0:y[0])||void 0===d?void 0:d.algorithm)&&void 0!==m?m:"Ed25519",G=yield n.generateKey({algorithm:Z}),k=yield n.getPublicKey({keyUri:G}),ie=yield pv.publicKeyToMultibaseId({publicKey:k}),Ue=`did:${r.methodName}:${ie}`,Ve=(yield r.resolve(Ue,i)).didDocument;return new y1({uri:Ue,document:Ve,metadata:{},keyManager:n})})}static getSigningMethod(n){return hm(this,arguments,void 0,function*({didDocument:i}){var u;const y=Ba.parse(i.id);if(y&&y.method!==this.methodName)throw new Co(Oo.MethodNotSupported,`Method not supported: ${y.method}`);const[d]=i.assertionMethod||[],m=null===(u=i.verificationMethod)||void 0===u?void 0:u.find(Z=>Z.id===d);if(!m||!m.publicKeyJwk)throw new Co(Oo.InternalError,"A verification method intended for signing could not be determined from the DID Document");return m})}static import(n){return hm(this,arguments,void 0,function*({portableDid:i,keyManager:u=new ky}){const y=Ba.parse(i.uri);if(y?.method!==r.methodName)throw new Co(Oo.MethodNotSupported,"Method not supported");const d=yield y1.import({portableDid:i,keyManager:u});if(1!==d.document.verificationMethod.length)throw new Co(Oo.InvalidDidDocument,"DID document must contain exactly one verification method");return d})}static resolve(n,i){return hm(this,void 0,void 0,function*(){try{const u=yield r.createDocument({didUri:n,options:i});return Object.assign(Object.assign({},gp),{didDocument:u})}catch(u){if(!(u instanceof Co))throw new Error(u);return Object.assign(Object.assign({},gp),{didResolutionMetadata:Object.assign({error:u.code},u.message&&{errorMessage:u.message})})}})}static createDocument(n){return hm(this,arguments,void 0,function*({didUri:i,options:u={}}){const{defaultContext:y="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:d=!1,enableExperimentalPublicKeyTypes:m=!1,publicKeyFormat:Z="JsonWebKey2020"}=u,G={id:""},k=Ba.parse(i);if(!k)throw new Co(Oo.InvalidDid,`Invalid DID URI: ${i}`);const ie=k.id;if(k.method!==r.methodName)throw new Co(Oo.MethodNotSupported,`Method not supported: ${k.method}`);if(!r.validateIdentifier(k))throw new Co(Oo.InvalidDid,`Invalid DID URI: ${i}`);const Ue=yield r.createSignatureMethod({didUri:i,multibaseValue:ie,options:{enableExperimentalPublicKeyTypes:m,publicKeyFormat:Z}});if(G.id=k.uri,G.verificationMethod=[Ue],G.authentication=[Ue.id],G.assertionMethod=[Ue.id],G.capabilityInvocation=[Ue.id],G.capabilityDelegation=[Ue.id],!0===d){const qe="Ed25519VerificationKey2020"===Z?"X25519KeyAgreementKey2020":"JsonWebKey2020",pt=yield this.createEncryptionMethod({didUri:i,multibaseValue:ie,options:{enableExperimentalPublicKeyTypes:m,publicKeyFormat:qe}});G.verificationMethod.push(pt),G.keyAgreement=[pt.id]}const He=[y];return function I7({didDocument:r}){const n=hP({didDocument:r}).map(i=>i.type);return[...new Set(n)]}({didDocument:G}).forEach(qe=>{He.push(gP[qe])}),G["@context"]=He,G})}static createEncryptionMethod(n){return hm(this,arguments,void 0,function*({didUri:i,multibaseValue:u,options:y}){const{enableExperimentalPublicKeyTypes:d,publicKeyFormat:m}=y,Z={id:"",type:"",controller:""},{keyBytes:G,multicodecCode:k}=yield r.deriveEncryptionKey({multibaseValue:u}),ie=G.byteLength,Ue=pv.MULTICODEC_PUBLIC_KEY_LENGTH[k];if(ie!==Ue)throw new Co(Oo.InvalidPublicKeyLength,`Expected ${ie} bytes. Actual: ${Ue}`);const He=iN({keyBytes:G,multicodecCode:k});Z.id=`${i}#${He}`;try{new URL(Z.id)}catch{throw new Co(Oo.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(m in gP))throw new Co(Oo.UnsupportedPublicKeyType,`Unsupported format: ${m}`);if(!1===d&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(m))throw new Co(Oo.InvalidPublicKeyType,`Specified '${m}' without setting enableExperimentalPublicKeyTypes to true.`);if(Z.type=m,Z.controller=i,"X25519KeyAgreementKey2020"===m&&(Z.publicKeyMultibase=He),"JsonWebKey2020"===m){const{crv:qe}=yield pv.multicodecToJwk({code:k});Z.publicKeyJwk=yield pv.keyConverter(qe).bytesToPublicKey({publicKeyBytes:G})}return Z})}static createSignatureMethod(n){return hm(this,arguments,void 0,function*({didUri:i,multibaseValue:u,options:y}){const{enableExperimentalPublicKeyTypes:d,publicKeyFormat:m}=y,Z={id:"",type:"",controller:""},{keyBytes:G,multicodecCode:k,multicodecName:ie}=oN({multibaseKeyId:u}),Ue=G.byteLength,He=pv.MULTICODEC_PUBLIC_KEY_LENGTH[k];if(Ue!==He)throw new Co(Oo.InvalidPublicKeyLength,`Expected ${Ue} bytes. Actual: ${He}`);let Ve=!1;switch(ie){case"secp256k1-pub":Ve=yield ml.validatePublicKey({publicKeyBytes:G});break;case"ed25519-pub":Ve=yield rl.validatePublicKey({publicKeyBytes:G});break;case"x25519-pub":Ve=!0}if(!Ve)throw new Co(Oo.InvalidPublicKey,"Invalid public key detected.");Z.id=`${i}#${u}`;try{new URL(Z.id)}catch{throw new Co(Oo.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(m in gP))throw new Co(Oo.UnsupportedPublicKeyType,`Unsupported format: ${m}`);if(!1===d&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(m))throw new Co(Oo.InvalidPublicKeyType,`Specified '${m}' without setting enableExperimentalPublicKeyTypes to true.`);if(Z.type=m,Z.controller=i,"Ed25519VerificationKey2020"===m&&(Z.publicKeyMultibase=u),"JsonWebKey2020"===m){const{crv:pt}=yield pv.multicodecToJwk({code:k});Z.publicKeyJwk=yield pv.keyConverter(pt).bytesToPublicKey({publicKeyBytes:G})}return Z})}static deriveEncryptionKey(n){return hm(this,arguments,void 0,function*({multibaseValue:i}){let u={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:y,multicodecCode:d}=oN({multibaseKeyId:i});if(237===d){const m=yield pv.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:y}),Z=yield rl.convertPublicKeyToX25519({publicKey:m});u={keyBytes:yield pv.keyConverter("Ed25519").publicKeyToBytes({publicKey:Z}),multicodecCode:236}}return u})}static validateIdentifier(n){const{method:i,id:u}=n,[y]=n.uri.split(":",1);return"did"===y&&"key"===i&&Number("1")>0&&"String"===(0,br.fc)(u)&&u.startsWith("z")}}return r.methodName="key",r})(),pv=(()=>{class r{static jwkToMulticodec(n){return hm(this,arguments,void 0,function*({jwk:i}){const u=[];i.crv&&(u.push(i.crv),u.push(i.d?"private":"public"));const y=u.join(":"),d=r.JWK_TO_MULTICODEC[y];if(void 0===d)throw new Error(`Unsupported JWK to Multicodec conversion: '${y}'`);return{code:br.Gs.getCodeFromName({name:d}),name:d}})}static keyCompressor(n){const u={"P-256":yl.compressPublicKey,secp256k1:ml.compressPublicKey}[n];if(!u)throw new Co(Oo.InvalidPublicKeyType,`Unsupported curve: ${n}`);return u}static keyConverter(n){const u={Ed25519:rl,"P-256":yl,secp256k1:ml,X25519:v2}[n];if(!u)throw new Co(Oo.InvalidPublicKeyType,`Unsupported curve: ${n}`);return u}static multicodecToJwk(n){return hm(this,arguments,void 0,function*({code:i,name:u}){if(!(u?!i:i))throw new Error("Either 'name' or 'code' must be defined, but not both.");u=void 0===u?br.Gs.getNameFromCode({code:i}):u;const d=r.MULTICODEC_TO_JWK[u];if(void 0===d)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},d)})}static publicKeyToMultibaseId(n){return hm(this,arguments,void 0,function*({publicKey:i}){var u;if(!i?.crv||!(i.crv in k7))throw new Co(Oo.InvalidPublicKeyType,`Public key contains an unsupported key type: ${null!==(u=i?.crv)&&void 0!==u?u:"undefined"}`);let y=yield r.keyConverter(i.crv).publicKeyToBytes({publicKey:i});/^(secp256k1|P-256|P-384|P-521)$/.test(i.crv)&&(y=yield r.keyCompressor(i.crv)({publicKeyBytes:y}));const{name:d}=yield r.jwkToMulticodec({jwk:i});return iN({keyBytes:y,multicodecName:d})})}}return r.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},r.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32},r.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},r})();var N7=A(14078),L7=A(42064);class U7{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new L7.Level(n),this.ttl=N7(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},u=JSON.stringify(i);return this.cache.put(t,u)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const j7={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var mN=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class $7{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||j7;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return mN(this,void 0,void 0,function*(){const i=Ba.parse(t);if(!i)return Object.assign(Object.assign({},gp),{didResolutionMetadata:{error:Oo.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const u=this.didResolvers.get(i.method);if(!u)return Object.assign(Object.assign({},gp),{didResolutionMetadata:{error:Oo.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const y=yield this.cache.get(i.uri);if(y)return y;{const d=yield u.resolve(i.uri,n);return d.didResolutionMetadata.error||(yield this.cache.set(i.uri,d)),d}})}dereference(t,n){return mN(this,void 0,void 0,function*(){const i=Ba.parse(t);if(!i)return{dereferencingMetadata:{error:Oo.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:u,didResolutionMetadata:y,didDocumentMetadata:d}=yield this.resolve(i.uri);if(!u)return{dereferencingMetadata:{error:y.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:u,contentMetadata:d};const{service:m=[],verificationMethod:Z=[]}=u,G=new Set([t,i.fragment,`#${i.fragment}`]);let k;for(let ie of Z)if(G.has(ie.id)){k=ie;break}for(let ie of m)if(G.has(ie.id)){k=ie;break}return k?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:k,contentMetadata:y}:{dereferencingMetadata:{error:Oo.NotFound},contentStream:null,contentMetadata:{}}})}}var YS=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class vP{constructor(t){this.didResolver=t.didResolver,this.tenantGate=t.tenantGate,this.eventStream=t.eventStream,this.messageStore=t.messageStore,this.dataStore=t.dataStore,this.resumableTaskStore=t.resumableTaskStore,this.eventLog=t.eventLog,this.eventStream=t.eventStream,this.storageController=new Kh({messageStore:this.messageStore,dataStore:this.dataStore,eventLog:this.eventLog,eventStream:this.eventStream}),this.resumableTaskManager=new DS(t.resumableTaskStore,this.storageController),this.methodHandlers={[Ao.Messages+Xi.Query]:new K_(this.didResolver,this.messageStore,this.eventLog),[Ao.Messages+Xi.Read]:new IS(this.didResolver,this.messageStore,this.dataStore),[Ao.Messages+Xi.Subscribe]:new V_(this.didResolver,this.messageStore,this.eventStream),[Ao.Protocols+Xi.Configure]:new z_(this.didResolver,this.messageStore,this.eventLog,this.eventStream),[Ao.Protocols+Xi.Query]:new GR(this.didResolver,this.messageStore,this.dataStore),[Ao.Records+Xi.Delete]:new qb(this.didResolver,this.messageStore,this.resumableTaskManager),[Ao.Records+Xi.Query]:new om(this.didResolver,this.messageStore,this.dataStore),[Ao.Records+Xi.Read]:new SM(this.didResolver,this.messageStore,this.dataStore),[Ao.Records+Xi.Subscribe]:new p0(this.didResolver,this.messageStore,this.eventStream),[Ao.Records+Xi.Write]:new Iy(this.didResolver,this.messageStore,this.dataStore,this.eventLog,this.eventStream)}}static create(t){var n,i;return YS(this,void 0,void 0,function*(){null!==(n=t.didResolver)&&void 0!==n||(t.didResolver=new $7({didResolvers:[yP,P7,B7],cache:new U7({location:"RESOLVERCACHE"})})),null!==(i=t.tenantGate)&&void 0!==i||(t.tenantGate=new zR);const u=new vP(t);return yield u.open(),u})}open(){var t;return YS(this,void 0,void 0,function*(){yield this.messageStore.open(),yield this.dataStore.open(),yield this.resumableTaskStore.open(),yield this.eventLog.open(),yield null===(t=this.eventStream)||void 0===t?void 0:t.open(),yield this.resumableTaskManager.resumeTasksAndWaitForCompletion()})}close(){var t;return YS(this,void 0,void 0,function*(){yield null===(t=this.eventStream)||void 0===t?void 0:t.close(),yield this.messageStore.close(),yield this.dataStore.close(),yield this.resumableTaskStore.close(),yield this.eventLog.close()})}processMessage(t,n,i={}){var u;return YS(this,void 0,void 0,function*(){const y=null!==(u=yield this.validateTenant(t))&&void 0!==u?u:yield this.validateMessageIntegrity(n);if(void 0!==y)return y;const{dataStream:d,subscriptionHandler:m}=i,Z=n.descriptor.interface+n.descriptor.method;return yield this.methodHandlers[Z].handle({tenant:t,message:n,dataStream:d,subscriptionHandler:m})})}validateTenant(t){var n;return YS(this,void 0,void 0,function*(){const i=yield this.tenantGate.isActiveTenant(t);if(!i.isActiveTenant)return{status:{code:401,detail:null!==(n=i.detail)&&void 0!==n?n:`DID ${t} is not an active tenant.`}}})}validateMessageIntegrity(t){var n,i;return YS(this,void 0,void 0,function*(){const u=null===(n=t?.descriptor)||void 0===n?void 0:n.interface,y=null===(i=t?.descriptor)||void 0===i?void 0:i.method;if(void 0===u||void 0===y)return{status:{code:400,detail:`Both interface and method must be present, interface: ${u}, method: ${y}`}};try{fi.validateJsonSchema(t)}catch(d){return ka(d,400)}})}}function V7(r){return new Promise((t,n)=>{r.aborted?n(r.reason):r.addEventListener("abort",()=>{n(r.reason)})})}function af(r,t){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return t?Promise.race([r,V7(t)]):r})}var gN=A(54626),Ep=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},pm=function(r){return this instanceof pm?(this.v=r,this):new pm(r)},bP=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(y){n[y]=r[y]&&function(d){return new Promise(function(m,Z){!function u(y,d,m,Z){Promise.resolve(Z).then(function(G){y({value:G,done:m})},d)}(m,Z,(d=r[y](d)).done,d.value)})}}},vN=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,i=n.apply(r,t||[]),y=[];return u={},d("next"),d("throw"),d("return"),u[Symbol.asyncIterator]=function(){return this},u;function d(Ue){i[Ue]&&(u[Ue]=function(He){return new Promise(function(Ve,qe){y.push([Ue,He,Ve,qe])>1||m(Ue,He)})})}function m(Ue,He){try{!function Z(Ue){Ue.value instanceof pm?Promise.resolve(Ue.value.v).then(G,k):ie(y[0][2],Ue)}(i[Ue](He))}catch(Ve){ie(y[0][3],Ve)}}function G(Ue){m("next",Ue)}function k(Ue){m("throw",Ue)}function ie(Ue,He){Ue(He),y.shift(),y.length&&m(y[0][0],y[0][1])}};function b2(r,t){return Ep(this,void 0,void 0,function*(){return new gN.Level(r,Object.assign(Object.assign({},t),{keyEncoding:"utf8"}))})}class JS{constructor(t,n){this.config=Object.assign({createLevelDatabase:b2},t),this.db=n}open(){return Ep(this,void 0,void 0,function*(){switch(yield this.createLevelDatabase(),this.db.status){case"open":return;case"opening":return new Promise(t=>{this.db.once("open",t)});case"closing":return new Promise((t,n)=>{this.db.once("closed",()=>{this.db.open().then(t).catch(n)})});case"closed":return this.db.open()}})}close(){return Ep(this,void 0,void 0,function*(){if(this.db)switch(this.db.status){case"open":return this.db.close();case"opening":return new Promise((t,n)=>{this.db.once("open",()=>{this.db.close().then(t).catch(n)})});case"closing":return new Promise(t=>{this.db.once("closed",t)});case"closed":return}})}partition(t){return Ep(this,void 0,void 0,function*(){return yield this.createLevelDatabase(),new JS(this.config,this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}get(t,n){var i;return Ep(this,void 0,void 0,function*(){null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield af(this.createLevelDatabase(),n?.signal);try{return yield af(this.db.get(String(t)),n?.signal)}catch(u){if("LEVEL_NOT_FOUND"===u.code)return;throw u}})}has(t,n){return Ep(this,void 0,void 0,function*(){return!!(yield this.get(t,n))})}keys(t){var n,i;return vN(this,arguments,function*(){var y,d,m;null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield pm(af(this.createLevelDatabase(),t?.signal));try{for(var ie,G=!0,k=bP(this.db.keys());!(y=(ie=yield pm(k.next())).done);G=!0){G=!1;const Ue=ie.value;null===(i=t?.signal)||void 0===i||i.throwIfAborted(),yield yield pm(Ue)}}catch(Ue){d={error:Ue}}finally{try{!G&&!y&&(m=k.return)&&(yield pm(m.call(k)))}finally{if(d)throw d.error}}})}iterator(t,n){var i,u;return vN(this,arguments,function*(){var d,m,Z;null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield pm(af(this.createLevelDatabase(),n?.signal));try{for(var Ue,k=!0,ie=bP(this.db.iterator(t));!(d=(Ue=yield pm(ie.next())).done);k=!0){k=!1;const He=Ue.value;null===(u=n?.signal)||void 0===u||u.throwIfAborted(),yield yield pm(He)}}catch(He){m={error:He}}finally{try{!k&&!d&&(Z=ie.return)&&(yield pm(Z.call(ie)))}finally{if(m)throw m.error}}})}put(t,n,i){var u;return Ep(this,void 0,void 0,function*(){return null===(u=i?.signal)||void 0===u||u.throwIfAborted(),yield af(this.createLevelDatabase(),i?.signal),af(this.db.put(String(t),n),i?.signal)})}delete(t,n){var i;return Ep(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield af(this.createLevelDatabase(),n?.signal),af(this.db.del(String(t)),n?.signal)})}isEmpty(t){var n,i,u;return Ep(this,void 0,void 0,function*(){try{for(var Z,d=!0,m=bP(this.keys(t));Z=yield m.next(),!(n=Z.done);d=!0)return d=!1,!1}catch(G){i={error:G}}finally{try{!d&&!n&&(u=m.return)&&(yield u.call(m))}finally{if(i)throw i.error}}return!0})}clear(){return Ep(this,void 0,void 0,function*(){yield this.createLevelDatabase(),yield this.db.clear(),yield this.compactUnderlyingStorage()})}batch(t,n){var i;return Ep(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield af(this.createLevelDatabase(),n?.signal),af(this.db.batch(t),n?.signal)})}createPartitionOperation(t,n){return Object.assign(Object.assign({},n),{sublevel:this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding})})}compactUnderlyingStorage(t){var n,i,u;return Ep(this,void 0,void 0,function*(){null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield af(this.createLevelDatabase(),t?.signal);const y=this.sublevelRange;if(!y)return;const d=this.root;return d.db.supports.additionalMethods.compactRange?af(null===(u=(i=d.db).compactRange)||void 0===u?void 0:u.call(i,...y),t?.signal):void 0})}get sublevelRange(){const t=this.db.prefix;if(!t)return;const n=t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+1);return[t,n]}get root(){let t=this.db;for(const n=t.db;n&&n!==t;)t=n;return new JS(this.config,t)}createLevelDatabase(){var t;return Ep(this,void 0,void 0,function*(){null!==(t=this.db)&&void 0!==t||(this.db=yield this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}}var mv=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},F8=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(y){n[y]=r[y]&&function(d){return new Promise(function(m,Z){!function u(y,d,m,Z){Promise.resolve(Z).then(function(G){y({value:G,done:m})},d)}(m,Z,(d=r[y](d)).done,d.value)})}}},Nu=function(r){return this instanceof Nu?(this.v=r,this):new Nu(r)},U8=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,i=n.apply(r,t||[]),y=[];return u={},d("next"),d("throw"),d("return"),u[Symbol.asyncIterator]=function(){return this},u;function d(Ue){i[Ue]&&(u[Ue]=function(He){return new Promise(function(Ve,qe){y.push([Ue,He,Ve,qe])>1||m(Ue,He)})})}function m(Ue,He){try{!function Z(Ue){Ue.value instanceof Nu?Promise.resolve(Ue.value.v).then(G,k):ie(y[0][2],Ue)}(i[Ue](He))}catch(Ve){ie(y[0][3],Ve)}}function G(Ue){m("next",Ue)}function k(Ue){m("throw",Ue)}function ie(Ue,He){Ue(He),y.shift(),y.length&&m(y[0][0],y[0][1])}};class j8{constructor(t,n){this.config=Object.assign({createLevelDatabase:b2},t),this.db=n??new JS(Object.assign(Object.assign({},this.config),{valueEncoding:"binary"}))}open(){return mv(this,void 0,void 0,function*(){return this.db.open()})}close(){return mv(this,void 0,void 0,function*(){return this.db.close()})}partition(t){return mv(this,void 0,void 0,function*(){const n=yield this.db.partition(t);return new j8(Object.assign(Object.assign({},this.config),{location:""}),n)})}put(t,n,i){return mv(this,void 0,void 0,function*(){return yield this.db.put(String(t),n,i),rd.TO.parse(t.toString())})}get(t,n){return mv(this,void 0,void 0,function*(){return yield this.db.get(String(t),n)})}has(t,n){return mv(this,void 0,void 0,function*(){return this.db.has(String(t),n)})}delete(t,n){return mv(this,void 0,void 0,function*(){return this.db.delete(String(t),n)})}isEmpty(t){return mv(this,void 0,void 0,function*(){return this.db.isEmpty(t)})}putMany(t,n){return U8(this,arguments,function*(){var u,y,d;try{for(var k,Z=!0,G=F8(t);!(u=(k=yield Nu(G.next())).done);Z=!0){Z=!1;const ie=k.value;yield Nu(this.put(ie.cid,ie.block,n)),yield yield Nu(ie.cid)}}catch(ie){y={error:ie}}finally{try{!Z&&!u&&(d=G.return)&&(yield Nu(d.call(G)))}finally{if(y)throw y.error}}})}getMany(t,n){return U8(this,arguments,function*(){var u,y,d;try{for(var k,Z=!0,G=F8(t);!(u=(k=yield Nu(G.next())).done);Z=!0){Z=!1;const ie=k.value;yield yield Nu({cid:ie,block:yield Nu(this.get(ie,n))})}}catch(ie){y={error:ie}}finally{try{!Z&&!u&&(d=G.return)&&(yield Nu(d.call(G)))}finally{if(y)throw y.error}}})}getAll(t){return U8(this,arguments,function*(){var i,u,y,d;const m=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var k,Z=!0,G=F8(m);!(i=(k=yield Nu(G.next())).done);Z=!0){d=k.value,Z=!1;const[ie,Ue]=d;yield yield Nu({cid:rd.TO.decode(ie),block:Ue})}}catch(ie){u={error:ie}}finally{try{!Z&&!i&&(y=G.return)&&(yield Nu(y.call(G)))}finally{if(u)throw u.error}}})}deleteMany(t,n){return U8(this,arguments,function*(){var u,y,d;try{for(var k,Z=!0,G=F8(t);!(u=(k=yield Nu(G.next())).done);Z=!0){Z=!1;const ie=k.value;yield Nu(this.delete(ie,n)),yield yield Nu(ie)}}catch(ie){y={error:ie}}finally{try{!Z&&!u&&(d=G.return)&&(yield Nu(d.call(G)))}finally{if(y)throw y.error}}})}clear(){return mv(this,void 0,void 0,function*(){return this.db.clear()})}}var pd=A(42853);const W7=function H7(r){if(function z7(r){return null!=r[Symbol.asyncIterator]}(r))return(0,Se.A)(function*(){let n;var y,i=!1,u=!1;try{for(var m,d=Ms(r);i=!(m=yield d.next()).done;i=!1)n=m.value}catch(Z){u=!0,y=Z}finally{try{i&&null!=d.return&&(yield d.return())}finally{if(u)throw y}}return n})();let t;for(const n of r)t=n;return t};var bN=A(56580);const Z7=function(){var r=(0,Se.A)(function*(t,n,i,u,y,d,m,Z){const G=yield m.get(t,Z),k=dg(G);let ie=k,Ue=i;for(;u.length>0;){const He=u[0];if(!(He in ie))throw pd(new Error(`No property named ${He} found in cbor node ${t}`),"ERR_NO_PROP");{u.shift(),Ue=`${Ue}/${He}`;const Ve=Yu.TO.asCID(ie[He]);if(null!=Ve)return{entry:{type:"object",name:n,path:i,cid:t,node:G,depth:d,size:BigInt(G.length),content:function(){var qe=Ws(function*(){yield k});return function(){return qe.apply(this,arguments)}}()},next:{cid:Ve,name:He,path:Ue,toResolve:u}};ie=ie[He]}}return{entry:{type:"object",name:n,path:i,cid:t,node:G,depth:d,size:BigInt(G.length),content:(He=Ws(function*(){yield k}),function(){return He.apply(this,arguments)})}};var He});return function(n,i,u,y,d,m,Z,G){return r.apply(this,arguments)}}(),$8=function Y7(r,t,n,i){const u=BigInt(r.length),y=BigInt(t+u);return n>=y||i<t?new Uint8Array(0):(i>=t&&i<y&&(r=r.subarray(0,Number(i-t))),n>=t&&n<y&&(r=r.subarray(Number(n-t))),r)},wP=(r,t=0,n=r)=>{const i=BigInt(r),u=BigInt(t??0);let y=BigInt(n);if(y!==i&&(y=u+y),y>i&&(y=i),u<0n)throw pd(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(u>i)throw pd(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(y<0n)throw pd(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(y>i)throw pd(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:u,end:y}},J7=r=>{function n(){return(n=Ws(function*(i={}){const{start:u,end:y}=wP(r.length,i.offset,i.length),d=$8(r,0n,u,y);i.onProgress?.(new eu("unixfs:exporter:progress:identity",{bytesRead:BigInt(d.byteLength),totalBytes:y-u,fileSize:BigInt(r.byteLength)})),yield d})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},q7=function(){var r=(0,Se.A)(function*(t,n,i,u,y,d,m,Z){if(u.length>0)throw pd(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const G=bN.D4(t.multihash.bytes);return{entry:{type:"identity",name:n,path:i,cid:t,content:J7(G.digest),depth:d,size:BigInt(G.digest.length),node:G.digest}}});return function(n,i,u,y,d,m,Z,G){return r.apply(this,arguments)}}(),Q7=r=>{function n(){return(n=Ws(function*(i={}){const{start:u,end:y}=wP(r.length,i.offset,i.length),d=$8(r,0n,u,y);i.onProgress?.(new eu("unixfs:exporter:progress:raw",{bytesRead:BigInt(d.byteLength),totalBytes:y-u,fileSize:BigInt(r.byteLength)})),yield d})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},eL=function(){var r=(0,Se.A)(function*(t,n,i,u,y,d,m,Z){if(u.length>0)throw pd(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const G=yield m.get(t,Z);return{entry:{type:"raw",name:n,path:i,cid:t,content:Q7(G),depth:d,size:BigInt(G.length),node:G}}});return function(n,i,u,y,d,m,Z,G){return r.apply(this,arguments)}}(),tL=function(){var r=(0,Se.A)(function*(t){return(yield dD.encode(t)).slice(0,8).reverse()});return function(n){return r.apply(this,arguments)}}(),nL=function(){var r=(0,Se.A)(function*(t,n,i){yield Promise.all(t.map(function(){var u=(0,Se.A)(function*(y){if(null==y.Name)throw new Error("Unexpected Link without a Name");if(2!==y.Name.length)yield i.put(y.Name.substring(2),!0);else{const d=parseInt(y.Name,16);n._putObjectAt(d,new qf({hash:i._options.hash,bits:i._options.bits},n,d))}});return function(y){return u.apply(this,arguments)}}()))});return function(n,i,u){return r.apply(this,arguments)}}(),EN=r=>r.toString(16).toUpperCase().padStart(2,"0").substring(0,2),xN=function(){var r=(0,Se.A)(function*(t,n,i,u,y){if(null==u){const ie=gx({hashFn:tL});u={rootBucket:ie,hamtDepth:1,lastBucket:ie}}yield nL(t.Links,u.lastBucket,u.rootBucket);const d=yield u.rootBucket._findNewBucketAndPos(n);let m=EN(d.pos);const Z=(r=>{let t=r.bucket;const n=[];for(;null!=t._parent;)n.push(t),t=t._parent;return n.push(t),n.reverse()})(d);Z.length>u.hamtDepth&&(u.lastBucket=Z[u.hamtDepth],m=EN(u.lastBucket._posAtParent));const G=t.Links.find(ie=>{if(null==ie.Name)return!1;const Ue=ie.Name.substring(0,2),He=ie.Name.substring(2);return!(Ue!==m||""!==He&&He!==n)});if(null!=G)return null!=G.Name&&G.Name.substring(2)===n?G.Hash:(u.hamtDepth++,t=jE(yield i.get(G.Hash,y)),xN(t,n,i,u,y))});return function(n,i,u,y,d){return r.apply(this,arguments)}}(),iL=xN,SN=function oL(r){const[t,n]=null!=r[Symbol.asyncIterator]?[r[Symbol.asyncIterator](),Symbol.asyncIterator]:[r[Symbol.iterator](),Symbol.iterator],i=[];return{peek:()=>t.next(),push:u=>{i.push(u)},next:()=>i.length>0?{done:!1,value:i.shift()}:t.next(),[n](){return this}}},_P=function dL(r,t){let n=0;if(function lL(r){return null!=r[Symbol.asyncIterator]}(r))return Ws(function*(){var k,Z=!1,G=!1;try{for(var Ue,ie=Ms(r);Z=!(Ue=yield Ki(ie.next())).done;Z=!1){const He=Ue.value;yield t(He,n++)}}catch(He){G=!0,k=He}finally{try{Z&&null!=ie.return&&(yield Ki(ie.return()))}finally{if(G)throw k}}})();const i=SN(r),{value:u,done:y}=i.next();if(!0===y)return function*(){}();const d=t(u,n++);if("function"==typeof d.then)return Ws(function*(){yield yield Ki(d);var k,Z=!1,G=!1;try{for(var Ue,ie=Ms(i);Z=!(Ue=yield Ki(ie.next())).done;Z=!1){const He=Ue.value;yield t(He,n++)}}catch(He){G=!0,k=He}finally{try{Z&&null!=ie.return&&(yield Ki(ie.return()))}finally{if(G)throw k}}})();const m=t;return function*(){yield d;for(const Z of i)yield m(Z,n++)}()};function qS(){const r={};return r.promise=new Promise((t,n)=>{r.resolve=t,r.reject=n}),r}const K8=globalThis.CustomEvent??Event;function EP(r){return xP.apply(this,arguments)}function xP(){return(xP=Ws(function*(r,t={}){let n=t.concurrency??1/0;n<1&&(n=1/0);const i=null!=t.ordered&&t.ordered,u=new EventTarget,y=[];let G,d=qS(),m=qS(),Z=!1,k=!1;function ie(){return i?y[0]?.done:!!y.find(Ve=>Ve.done)}function*Ue(){for(;y.length>0&&y[0].done;){const Ve=y[0];if(y.shift(),!Ve.ok)throw k=!0,d.resolve(),Ve.err;yield Ve.value,d.resolve()}}function*He(){for(;ie();)for(let Ve=0;Ve<y.length;Ve++)if(y[Ve].done){const qe=y[Ve];if(y.splice(Ve,1),Ve--,!qe.ok)throw k=!0,d.resolve(),qe.err;yield qe.value,d.resolve()}}for(u.addEventListener("task-complete",()=>{m.resolve()}),Promise.resolve().then((0,Se.A)(function*(){try{var pt,Ve=!1,qe=!1;try{for(var bt,At=Ms(r);Ve=!(bt=yield At.next()).done;Ve=!1){const _t=bt.value;{if(y.length===n&&(d=qS(),yield d.promise),k)break;const Ft={done:!1};y.push(Ft),_t().then(Xt=>{Ft.done=!0,Ft.ok=!0,Ft.value=Xt,u.dispatchEvent(new K8("task-complete"))},Xt=>{Ft.done=!0,Ft.err=Xt,u.dispatchEvent(new K8("task-complete"))})}}}catch(_t){qe=!0,pt=_t}finally{try{Ve&&null!=At.return&&(yield At.return())}finally{if(qe)throw pt}}Z=!0,u.dispatchEvent(new K8("task-complete"))}catch(_t){G=_t,u.dispatchEvent(new K8("task-complete"))}}));;){if(ie()||(m=qS(),yield Ki(m.promise)),null!=G)throw G;if(i?yield*Dh(Ms(Ue())):yield*Dh(Ms(He())),Z&&0===y.length)break}})).apply(this,arguments)}class AN{buffer;mask;top;btm;next;constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}isEmpty(){return void 0===this.buffer[this.btm]}}class SP{size;hwm;head;tail;constructor(t={}){this.hwm=t.splitLimit??16,this.head=new AN(this.hwm),this.tail=this.head,this.size=0}calculateSize(t){return null!=t?.byteLength?t.byteLength:1}push(t){null!=t?.value&&(this.size+=this.calculateSize(t.value)),this.head.push(t)||(this.head=this.head.next=new AN(2*this.head.buffer.length),this.head.push(t))}shift(){let t=this.tail.shift();if(void 0===t&&null!=this.tail.next){const n=this.tail.next;this.tail.next=null,this.tail=n,t=this.tail.shift()}return null!=t?.value&&(this.size-=this.calculateSize(t.value)),t}isEmpty(){return this.head.isEmpty()}}class uL extends Error{type;code;constructor(t,n){super(t??"The operation was aborted"),this.type="aborted",this.code=n??"ABORT_ERR"}}function AP(r={}){return function CN(r,t){let u,y,d,n=(t=t??{}).onEnd,i=new SP,m=qS();const Z=function(){var pt=(0,Se.A)(function*(){try{return i.isEmpty()?d?{done:!0}:yield new Promise((At,bt)=>{y=_t=>{y=null,i.push(_t);try{At(r(i))}catch(Ft){bt(Ft)}return u}}):r(i)}finally{i.isEmpty()&&queueMicrotask(()=>{m.resolve(),m=qS()})}});return function(){return pt.apply(this,arguments)}}(),G=pt=>null!=y?y(pt):(i.push(pt),u),ie=pt=>{if(d)return u;if(!0!==t?.objectMode&&null==pt?.byteLength)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return G({done:!1,value:pt})},Ue=pt=>d?u:(d=!0,null!=pt?(pt=>(i=new SP,null!=y?y({error:pt}):(i.push({error:pt}),u)))(pt):G({done:!0}));if(u={[Symbol.asyncIterator](){return this},next:Z,return:()=>(i=new SP,Ue(),{done:!0}),throw:pt=>(Ue(pt),{done:!0}),push:ie,end:Ue,get readableLength(){return i.size},onEmpty:(pt=(0,Se.A)(function*(At){const bt=At?.signal;if(bt?.throwIfAborted(),i.isEmpty())return;let _t,Ft;null!=bt&&(_t=new Promise((Xt,Ht)=>{Ft=()=>{Ht(new uL)},bt.addEventListener("abort",Ft)}));try{yield Promise.race([m.promise,_t])}finally{null!=Ft&&null!=bt&&bt?.removeEventListener("abort",Ft)}}),function(bt){return pt.apply(this,arguments)})},null==n)return u;var pt;const qe=u;return u={[Symbol.asyncIterator](){return this},next:()=>qe.next(),throw:pt=>(qe.throw(pt),null!=n&&(n(pt),n=void 0),{done:!0}),return:()=>(qe.return(),null!=n&&(n(),n=void 0),{done:!0}),push:ie,end:pt=>(qe.end(pt),null!=n&&(n(pt),n=void 0),u),get readableLength(){return qe.readableLength},onEmpty:pt=>qe.onEmpty(pt)},u}(n=>{const i=n.shift();if(null==i)return{done:!0};if(null!=i.error)throw i.error;return{done:!0===i.done,value:i.value}},r)}function fL(r){return null!=r[Symbol.asyncIterator]}function CP(r,...t){if(null==r)throw new Error("Empty pipeline");if(MP(r)){const i=r;r=()=>i.source}else if(IN(r)||MN(r)){const i=r;r=()=>i}const n=[r,...t];if(n.length>1&&MP(n[n.length-1])&&(n[n.length-1]=n[n.length-1].sink),n.length>2)for(let i=1;i<n.length-1;i++)MP(n[i])&&(n[i]=yL(n[i]));return mL(...n)}const mL=(...r)=>{let t;for(;r.length>0;)t=r.shift()(t);return t},MN=r=>null!=r?.[Symbol.asyncIterator],IN=r=>null!=r?.[Symbol.iterator],MP=r=>null!=r&&null!=r.sink&&null!=r.source,yL=r=>t=>{const n=r.sink(t);if(null!=n?.then){const i=AP({objectMode:!0});let u;n.then(()=>{i.end()},d=>{i.end(d)});const y=r.source;if(MN(y))u=function(){var d=Ws(function*(){yield*Dh(Ms(y)),i.end()});return function(){return d.apply(this,arguments)}}();else{if(!IN(y))throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");u=function*(){yield*y,i.end()}}return function hL(...r){const t=[];for(const n of r)fL(n)||t.push(n);return t.length===r.length?function*(){for(const n of t)yield*n}():Ws(function*(){const n=AP({objectMode:!0});Promise.resolve().then((0,Se.A)(function*(){try{yield Promise.all(r.map(function(){var i=(0,Se.A)(function*(u){var m,y=!1,d=!1;try{for(var G,Z=Ms(u);y=!(G=yield Z.next()).done;y=!1)n.push(G.value)}catch(k){d=!0,m=k}finally{try{y&&null!=Z.return&&(yield Z.return())}finally{if(d)throw m}}});return function(u){return i.apply(this,arguments)}}())),n.end()}catch(i){n.end(i)}})),yield*Dh(Ms(n))})()}(i,u())}return r.source};var vL=A(50233);class TN extends Error{constructor(t){super(t),this.name="TimeoutError"}}class bL extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const DN=r=>void 0===globalThis.DOMException?new bL(r):new DOMException(r),RN=r=>{const t=void 0===r.reason?DN("This operation was aborted."):r.reason;return t instanceof Error?t:DN(t)};var yv,w2=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};yv=new WeakMap;const xL=class EL{constructor(){yv.set(this,[])}enqueue(t,n){const i={priority:(n={priority:0,...n}).priority,run:t};if(this.size&&w2(this,yv,"f")[this.size-1].priority>=n.priority)return void w2(this,yv,"f").push(i);const u=function _L(r,t,n){let i=0,u=r.length;for(;u>0;){const y=Math.trunc(u/2);let d=i+y;n(r[d],t)<=0?(i=++d,u-=y+1):u=y}return i}(w2(this,yv,"f"),i,(y,d)=>d.priority-y.priority);w2(this,yv,"f").splice(u,0,i)}dequeue(){const t=w2(this,yv,"f").shift();return t?.run}filter(t){return w2(this,yv,"f").filter(n=>n.priority===t.priority).map(n=>n.run)}get size(){return w2(this,yv,"f").length}};var md,hI,pI,w1,V8,mI,z8,mm,yI,xp,H8,Sp,gI,_1,W8,ON,PN,kN,BN,NN,G8,IP,TP,X8,LN,Z8,Rl=function(r,t,n,i,u){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!u)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?r!==t||!u:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?u.call(r,n):u?u.value=n:t.set(r,n),n},so=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};class FN extends Error{}hI=new WeakMap,pI=new WeakMap,w1=new WeakMap,V8=new WeakMap,mI=new WeakMap,z8=new WeakMap,mm=new WeakMap,yI=new WeakMap,xp=new WeakMap,H8=new WeakMap,Sp=new WeakMap,gI=new WeakMap,_1=new WeakMap,W8=new WeakMap,md=new WeakSet,ON=function(){return so(this,pI,"f")||so(this,w1,"f")<so(this,V8,"f")},PN=function(){return so(this,Sp,"f")<so(this,gI,"f")},kN=function(){var t;Rl(this,Sp,(t=so(this,Sp,"f"),--t),"f"),so(this,md,"m",G8).call(this),this.emit("next")},BN=function(){so(this,md,"m",TP).call(this),so(this,md,"m",IP).call(this),Rl(this,yI,void 0,"f")},NN=function(){const t=Date.now();if(void 0===so(this,mm,"f")){const n=so(this,z8,"f")-t;if(!(n<0))return void 0===so(this,yI,"f")&&Rl(this,yI,setTimeout(()=>{so(this,md,"m",BN).call(this)},n),"f"),!0;Rl(this,w1,so(this,hI,"f")?so(this,Sp,"f"):0,"f")}return!1},G8=function(){if(0===so(this,xp,"f").size)return so(this,mm,"f")&&clearInterval(so(this,mm,"f")),Rl(this,mm,void 0,"f"),this.emit("empty"),0===so(this,Sp,"f")&&this.emit("idle"),!1;if(!so(this,_1,"f")){const t=!so(this,md,"a",NN);if(so(this,md,"a",ON)&&so(this,md,"a",PN)){const n=so(this,xp,"f").dequeue();return!!n&&(this.emit("active"),n(),t&&so(this,md,"m",IP).call(this),!0)}}return!1},IP=function(){so(this,pI,"f")||void 0!==so(this,mm,"f")||(Rl(this,mm,setInterval(()=>{so(this,md,"m",TP).call(this)},so(this,mI,"f")),"f"),Rl(this,z8,Date.now()+so(this,mI,"f"),"f"))},TP=function(){0===so(this,w1,"f")&&0===so(this,Sp,"f")&&so(this,mm,"f")&&(clearInterval(so(this,mm,"f")),Rl(this,mm,void 0,"f")),Rl(this,w1,so(this,hI,"f")?so(this,Sp,"f"):0,"f"),so(this,md,"m",X8).call(this)},X8=function(){for(;so(this,md,"m",G8).call(this););},LN=function(){var r=(0,Se.A)(function*(n){return new Promise((i,u)=>{n.addEventListener("abort",()=>{u(new FN("The task was aborted."))},{once:!0})})});return function t(n){return r.apply(this,arguments)}}(),Z8=function(){var r=(0,Se.A)(function*(n,i){return new Promise(u=>{const y=()=>{i&&!i()||(this.off(n,y),u())};this.on(n,y)})});return function t(n,i){return r.apply(this,arguments)}}();const AL=class SL extends vL{constructor(t){var n,i,u,y;if(super(),md.add(this),hI.set(this,void 0),pI.set(this,void 0),w1.set(this,0),V8.set(this,void 0),mI.set(this,void 0),z8.set(this,0),mm.set(this,void 0),yI.set(this,void 0),xp.set(this,void 0),H8.set(this,void 0),Sp.set(this,0),gI.set(this,void 0),_1.set(this,void 0),W8.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:xL,...t}).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(i=null===(n=t.intervalCap)||void 0===n?void 0:n.toString())&&void 0!==i?i:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(y=null===(u=t.interval)||void 0===u?void 0:u.toString())&&void 0!==y?y:""}\` (${typeof t.interval})`);Rl(this,hI,t.carryoverConcurrencyCount,"f"),Rl(this,pI,t.intervalCap===Number.POSITIVE_INFINITY||0===t.interval,"f"),Rl(this,V8,t.intervalCap,"f"),Rl(this,mI,t.interval,"f"),Rl(this,xp,new t.queueClass,"f"),Rl(this,H8,t.queueClass,"f"),this.concurrency=t.concurrency,this.timeout=t.timeout,Rl(this,W8,!0===t.throwOnTimeout,"f"),Rl(this,_1,!1===t.autoStart,"f")}get concurrency(){return so(this,gI,"f")}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);Rl(this,gI,t,"f"),so(this,md,"m",X8).call(this)}add(t,n={}){var i=this;return(0,Se.A)(function*(){return n={timeout:i.timeout,throwOnTimeout:so(i,W8,"f"),...n},new Promise((u,y)=>{so(i,xp,"f").enqueue((0,Se.A)(function*(){var d,m,Z;Rl(i,Sp,(m=so(i,Sp,"f"),++m),"f"),Rl(i,w1,(Z=so(i,w1,"f"),++Z),"f");try{if(null!==(d=n.signal)&&void 0!==d&&d.aborted)throw new FN("The task was aborted.");let G=t({signal:n.signal});n.timeout&&(G=function wL(r,t,n,i){let u;const y=new Promise((d,m)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t!==Number.POSITIVE_INFINITY){if((i={customTimers:{setTimeout,clearTimeout},...i}).signal){const{signal:Z}=i;Z.aborted&&m(RN(Z)),Z.addEventListener("abort",()=>{m(RN(Z))})}u=i.customTimers.setTimeout.call(void 0,()=>{if("function"==typeof n){try{d(n())}catch(k){m(k)}return}const G=n instanceof Error?n:new TN("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof r.cancel&&r.cancel(),m(G)},t),(0,Se.A)(function*(){try{d(yield r)}catch(Z){m(Z)}finally{i.customTimers.clearTimeout.call(void 0,u)}})()}else d(r)});return y.clear=()=>{clearTimeout(u),u=void 0},y}(Promise.resolve(G),n.timeout)),n.signal&&(G=Promise.race([G,so(i,md,"m",LN).call(i,n.signal)]));const k=yield G;u(k),i.emit("completed",k)}catch(G){if(G instanceof TN&&!n.throwOnTimeout)return void u();y(G),i.emit("error",G)}finally{so(i,md,"m",kN).call(i)}}),n),i.emit("add"),so(i,md,"m",G8).call(i)})})()}addAll(t,n){var i=this;return(0,Se.A)(function*(){return Promise.all(t.map(function(){var u=(0,Se.A)(function*(y){return i.add(y,n)});return function(y){return u.apply(this,arguments)}}()))})()}start(){return so(this,_1,"f")?(Rl(this,_1,!1,"f"),so(this,md,"m",X8).call(this),this):this}pause(){Rl(this,_1,!0,"f")}clear(){Rl(this,xp,new(so(this,H8,"f")),"f")}onEmpty(){var t=this;return(0,Se.A)(function*(){0!==so(t,xp,"f").size&&(yield so(t,md,"m",Z8).call(t,"empty"))})()}onSizeLessThan(t){var n=this;return(0,Se.A)(function*(){so(n,xp,"f").size<t||(yield so(n,md,"m",Z8).call(n,"next",()=>so(n,xp,"f").size<t))})()}onIdle(){var t=this;return(0,Se.A)(function*(){0===so(t,Sp,"f")&&0===so(t,xp,"f").size||(yield so(t,md,"m",Z8).call(t,"idle"))})()}get size(){return so(this,xp,"f").size}sizeBy(t){return so(this,xp,"f").filter(t).length}get pending(){return so(this,Sp,"f")}get isPaused(){return so(this,_1,"f")}};function UN(r,t,n,i,u,y,d){return DP.apply(this,arguments)}function DP(){return DP=(0,Se.A)(function*(r,t,n,i,u,y,d){if(t instanceof Uint8Array){const G=$8(t,i,u,y);return void n.push(G)}if(null==t.Data)throw pd(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let m;try{m=Th.unmarshal(t.Data)}catch(G){throw pd(G,"ERR_NOT_UNIXFS")}if(null!=m.data){const k=$8(m.data,i,u,y);n.push(k),i+=BigInt(k.byteLength)}const Z=[];if(t.Links.length!==m.blockSizes.length)throw pd(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let G=0;G<t.Links.length;G++){const Ue=i+m.blockSizes[G];if((u>=i&&u<Ue||y>=i&&y<=Ue||u<i&&y>Ue)&&Z.push({link:t.Links[G],blockStart:i}),(i=Ue)>y)break}yield CP(Z,G=>_P(G,k=>(0,Se.A)(function*(){const ie=yield r.get(k.link.Hash,d);return{...k,block:ie}})),G=>EP(G,{ordered:!0}),function(){var G=(0,Se.A)(function*(k){var He,ie=!1,Ue=!1;try{for(var qe,Ve=Ms(k);ie=!(qe=yield Ve.next()).done;ie=!1){const{link:pt,block:At,blockStart:bt}=qe.value;{let _t;switch(pt.Hash.code){case Qm:_t=jE(At);break;case vg:_t=At;break;default:return void n.end(pd(new Error(`Unsupported codec: ${pt.Hash.code}`),"ERR_NOT_UNIXFS"))}const Ft=new AL({concurrency:1});Ft.on("error",Xt=>{n.end(Xt)}),Ft.add((0,Se.A)(function*(){d.onProgress?.(new eu("unixfs:exporter:walk:file",{cid:pt.Hash})),yield UN(r,_t,n,bt,u,y,d)})),yield Ft.onIdle()}}}catch(pt){Ue=!0,He=pt}finally{try{ie&&null!=Ve.return&&(yield Ve.return())}finally{if(Ue)throw He}}});return function(k){return G.apply(this,arguments)}}()),i>=y&&n.end()}),DP.apply(this,arguments)}const jN=(r,t,n,i,u,y,d)=>{function Z(){return(Z=Ws(function*(G={}){const k=n.fileSize();if(void 0===k)throw new Error("File was a directory");const{start:ie,end:Ue}=wP(k,G.offset,G.length);if(0n===Ue)return;let He=0n;const Ve=Ue-ie,qe=AP();G.onProgress?.(new eu("unixfs:exporter:walk:file",{cid:r})),UN(d,t,qe,0n,ie,Ue,G).catch(Xt=>{qe.end(Xt)});var bt,pt=!1,At=!1;try{for(var Ft,_t=Ms(qe);pt=!(Ft=yield Ki(_t.next())).done;pt=!1){const Xt=Ft.value;if(null!=Xt){if(He+=BigInt(Xt.byteLength),He>Ve)throw qe.end(),pd(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");He===Ve&&qe.end(),G.onProgress?.(new eu("unixfs:exporter:progress:unixfs:file",{bytesRead:He,totalBytes:Ve,fileSize:k})),yield Xt}}}catch(Xt){At=!0,bt=Xt}finally{try{pt&&null!=_t.return&&(yield Ki(_t.return()))}finally{if(At)throw bt}}if(He<Ve)throw pd(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")})).apply(this,arguments)}return function m(){return Z.apply(this,arguments)}};function $N(r,t,n,i,u,y){return RP.apply(this,arguments)}function RP(){return(RP=Ws(function*(r,t,n,i,u,y){const m=CP(r.Links,He=>_P(He,Ve=>(0,Se.A)(function*(){const qe=null!=Ve.Name?Ve.Name.substring(2):null;if(null!=qe&&""!==qe){const pt=yield n(Ve.Hash,qe,`${t}/${qe}`,[],i+1,u,y);return{entries:null==pt.entry?[]:[pt.entry]}}{const pt=yield u.get(Ve.Hash,y);return r=jE(pt),y.onProgress?.(new eu("unixfs:exporter:walk:hamt-sharded-directory",{cid:Ve.Hash})),{entries:$N(r,t,n,i,u,y)}}})),He=>EP(He,{ordered:!0}));var k,Z=!1,G=!1;try{for(var Ue,ie=Ms(m);Z=!(Ue=yield Ki(ie.next())).done;Z=!1){const{entries:He}=Ue.value;yield*Dh(Ms(He))}}catch(He){G=!0,k=He}finally{try{Z&&null!=ie.return&&(yield Ki(ie.return()))}finally{if(G)throw k}}})).apply(this,arguments)}const TL={raw:jN,file:jN,directory:(r,t,n,i,u,y,d)=>{function Z(){return(Z=Ws(function*(G={}){const Ue=t.Links.slice(G.offset??0,G.length??t.Links.length);G.onProgress?.(new eu("unixfs:exporter:walk:directory",{cid:r})),yield*Dh(Ms(CP(Ue,He=>_P(He,Ve=>(0,Se.A)(function*(){const qe=Ve.Name??"",pt=`${i}/${qe}`;return(yield u(Ve.Hash,qe,pt,[],y+1,d,G)).entry})),He=>EP(He,{ordered:!0}),He=>function aL(r,t){let n=0;if(function sL(r){return null!=r[Symbol.asyncIterator]}(r))return Ws(function*(){var k,Z=!1,G=!1;try{for(var Ue,ie=Ms(r);Z=!(Ue=yield Ki(ie.next())).done;Z=!1){const He=Ue.value;(yield Ki(t(He,n++)))&&(yield He)}}catch(He){G=!0,k=He}finally{try{Z&&null!=ie.return&&(yield Ki(ie.return()))}finally{if(G)throw k}}})();const i=SN(r),{value:u,done:y}=i.next();if(!0===y)return function*(){}();const d=t(u,n++);if("function"==typeof d.then)return Ws(function*(){(yield Ki(d))&&(yield u);var k,Z=!1,G=!1;try{for(var Ue,ie=Ms(i);Z=!(Ue=yield Ki(ie.next())).done;Z=!1){const He=Ue.value;(yield Ki(t(He,n++)))&&(yield He)}}catch(He){G=!0,k=He}finally{try{Z&&null!=ie.return&&(yield Ki(ie.return()))}finally{if(G)throw k}}})();const m=t;return function*(){!0===d&&(yield u);for(const Z of i)m(Z,n++)&&(yield Z)}()}(He,Ve=>null!=Ve))))})).apply(this,arguments)}return function m(){return Z.apply(this,arguments)}},"hamt-sharded-directory":(r,t,n,i,u,y,d)=>function m(Z={}){return Z.onProgress?.(new eu("unixfs:exporter:walk:hamt-sharded-directory",{cid:r})),$N(t,i,u,y,d,Z)},metadata:(r,t,n,i,u,y,d)=>()=>[],symlink:(r,t,n,i,u,y,d)=>()=>[]},RL={[Qm]:function(){var r=(0,Se.A)(function*(t,n,i,u,y,d,m,Z){const k=jE(yield m.get(t,Z));let ie,Ue;if(null==n&&(n=t.toString()),null==k.Data)throw pd(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{ie=Th.unmarshal(k.Data)}catch(Ve){throw pd(Ve,"ERR_NOT_UNIXFS")}if(null==i&&(i=n),u.length>0){let Ve;if(Ve="hamt-sharded-directory"===ie?.type?yield iL(k,u[0],m):((r,t)=>r.Links.find(i=>i.Name===t)?.Hash)(k,u[0]),null==Ve)throw pd(new Error("file does not exist"),"ERR_NOT_FOUND");const qe=u.shift();Ue={cid:Ve,toResolve:u,name:qe??"",path:`${i}/${qe}`}}const He=TL[ie.type](t,k,ie,i,y,d,m);if(null==He)throw pd(new Error("could not find content exporter"),"ERR_NOT_FOUND");return ie.isDirectory()?{entry:{type:"directory",name:n,path:i,cid:t,content:He,unixfs:ie,depth:d,node:k,size:ie.fileSize()},next:Ue}:{entry:{type:"file",name:n,path:i,cid:t,content:He,unixfs:ie,depth:d,node:k,size:ie.fileSize()},next:Ue}});return function(n,i,u,y,d,m,Z,G){return r.apply(this,arguments)}}(),[vg]:eL,[Gm]:Z7,0:q7},KN=function(){var r=(0,Se.A)(function*(t,n,i,u,y,d,m){const Z=RL[t.code];if(null==Z)throw pd(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return Z(t,n,i,u,KN,y,d,m)});return function(n,i,u,y,d,m,Z){return r.apply(this,arguments)}}(),OL=KN,kL=r=>{if(r instanceof Uint8Array)return{cid:Yu.TO.decode(r),toResolve:[]};const t=Yu.TO.asCID(r);if(null!=t)return{cid:t,toResolve:[]};if("string"==typeof r){0===r.indexOf("/ipfs/")&&(r=r.substring(6));const n=((r="")=>(r.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean))(r);return{cid:Yu.TO.parse(n[0]),toResolve:n.slice(1)}}throw pd(new Error(`Unknown path type ${r}`),"ERR_BAD_PATH")};function OP(){return(OP=Ws(function*(r,t,n={}){let{cid:i,toResolve:u}=kL(r),y=i.toString(),d=y;const m=u.length;for(;;){const Z=yield Ki(OL(i,y,d,u,m,t,n));if(null==Z.entry&&null==Z.next)throw pd(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");if(null!=Z.entry&&(yield Z.entry),null==Z.next)return;u=Z.next.toResolve,i=Z.next.cid,y=Z.next.name,d=Z.next.path}})).apply(this,arguments)}function PP(){return PP=(0,Se.A)(function*(r,t,n={}){const i=yield W7(function BL(r,t){return OP.apply(this,arguments)}(r,t,n));if(null==i)throw pd(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");return i}),PP.apply(this,arguments)}var E1=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class LL{constructor(t={}){this.config=Object.assign({blockstoreLocation:"DATASTORE",createLevelDatabase:b2},t),this.blockstore=new j8({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return E1(this,void 0,void 0,function*(){yield this.blockstore.open()})}close(){return E1(this,void 0,void 0,function*(){yield this.blockstore.close()})}put(t,n,i,u){var y,d,m,G,k;return E1(this,void 0,void 0,function*(){const ie=yield this.getBlockstoreForStoringData(t,n,i),Ue=Sb([{content:u}],ie,{cidVersion:1});let He;try{for(var pt,Ve=!0,qe=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(y){n[y]=r[y]&&function(d){return new Promise(function(m,Z){!function u(y,d,m,Z){Promise.resolve(Z).then(function(G){y({value:G,done:m})},d)}(m,Z,(d=r[y](d)).done,d.value)})}}}(Ue);pt=yield qe.next(),!(y=pt.done);Ve=!0)Ve=!1,He=pt.value}catch(At){d={error:At}}finally{try{!Ve&&!y&&(m=qe.return)&&(yield m.call(qe))}finally{if(d)throw d.error}}return{dataSize:Number(null!==(k=null===(G=He.unixfs)||void 0===G?void 0:G.fileSize())&&void 0!==k?k:He.size)}})}get(t,n,i){return E1(this,void 0,void 0,function*(){const u=yield this.getBlockstoreForStoringData(t,n,i);if(!(yield u.has(i)))return;const d=yield function VN(r,t){return PP.apply(this,arguments)}(i,u),m=d.content(),Z=new n_.Readable({read(){return E1(this,void 0,void 0,function*(){const k=yield m.next();this.push(k.done?null:k.value)})}});let G=d.size;return("file"===d.type||"directory"===d.type)&&(G=d.unixfs.fileSize()),{dataSize:Number(G),dataStream:Z}})}delete(t,n,i){return E1(this,void 0,void 0,function*(){yield(yield this.getBlockstoreForStoringData(t,n,i)).clear()})}clear(){return E1(this,void 0,void 0,function*(){yield this.blockstore.clear()})}getBlockstoreForStoringData(t,n,i){return E1(this,void 0,void 0,function*(){return yield(yield(yield(yield this.blockstore.partition("data")).partition(t)).partition(n)).partition(i)})}}var uu=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},vI=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(y){n[y]=r[y]&&function(d){return new Promise(function(m,Z){!function u(y,d,m,Z){Promise.resolve(Z).then(function(G){y({value:G,done:m})},d)}(m,Z,(d=r[y](d)).done,d.value)})}}},_2=function(r){return this instanceof _2?(this.v=r,this):new _2(r)};let Y8=(()=>{class r{constructor(n){this.config=Object.assign({createLevelDatabase:b2},n),this.db=new JS({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return uu(this,void 0,void 0,function*(){yield this.db.open()})}close(){return uu(this,void 0,void 0,function*(){yield this.db.close()})}clear(){return uu(this,void 0,void 0,function*(){yield this.db.clear()})}put(n,i,u,y){return uu(this,void 0,void 0,function*(){if(o_(u))throw new me(Te.IndexMissingIndexableProperty,"Index must include at least one valid indexable property");const d={messageCid:i,indexes:u},m=[];for(const ie in u){const Ue=u[ie];if(Array.isArray(Ue))for(const He of Ue){const Ve=this.createPutIndexedItemOperation(n,d,ie,He);m.push(Ve)}else{const He=this.createPutIndexedItemOperation(n,d,ie,Ue);m.push(He)}}const Z=this.createOperationForIndexesLookupPartition(n,{type:"put",key:i,value:JSON.stringify(u)});m.push(Z);const G=yield Promise.all(m);yield(yield this.db.partition(n)).batch(G,y)})}delete(n,i,u){return uu(this,void 0,void 0,function*(){const y=[],d=yield this.getIndexes(n,i);if(void 0===d)return;const m=this.createOperationForIndexesLookupPartition(n,{type:"del",key:i});y.push(m);for(const k in d){const ie=d[k];if(Array.isArray(ie))for(const Ue of ie){const He=this.createDeleteIndexedItemOperation(n,i,k,Ue);y.push(He)}else{const Ue=this.createDeleteIndexedItemOperation(n,i,k,ie);y.push(Ue)}}const Z=yield Promise.all(y);yield(yield this.db.partition(n)).batch(Z,u)})}createPutIndexedItemOperation(n,i,u,y){return uu(this,void 0,void 0,function*(){const{messageCid:d}=i,m=r.keySegmentJoin(r.encodeValue(y),d);return this.createOperationForIndexPartition(n,u,{type:"put",key:m,value:JSON.stringify(i)})})}createDeleteIndexedItemOperation(n,i,u,y){return uu(this,void 0,void 0,function*(){const d=r.keySegmentJoin(r.encodeValue(y),i);return this.createOperationForIndexPartition(n,u,{type:"del",key:d})})}createOperationForIndexPartition(n,i,u){return uu(this,void 0,void 0,function*(){const y=yield this.db.partition(n),d=r.getIndexPartitionName(i);return y.createPartitionOperation(d,u)})}createOperationForIndexesLookupPartition(n,i){return uu(this,void 0,void 0,function*(){return(yield this.db.partition(n)).createPartitionOperation("index",i)})}static getIndexPartitionName(n){return`__${n}__`}getIndexPartition(n,i){return uu(this,void 0,void 0,function*(){const u=r.getIndexPartitionName(i);return(yield this.db.partition(n)).partition(u)})}getIndexesLookupPartition(n){return uu(this,void 0,void 0,function*(){return(yield this.db.partition(n)).partition("index")})}query(n,i,u,y){return uu(this,void 0,void 0,function*(){return r.shouldQueryWithInMemoryPaging(i,u)?this.queryWithInMemoryPaging(n,i,u,y):this.queryWithIteratorPaging(n,i,u,y)})}queryWithIteratorPaging(n,i,u,y){var d,m,Z;return uu(this,void 0,void 0,function*(){const{cursor:k,limit:ie}=u,Ue=k?this.createStartingKeyFromCursor(k):"",He=[];try{for(var pt,Ve=!0,qe=vI(this.getIndexIterator(n,Ue,u,y));pt=yield qe.next(),!(d=pt.done);Ve=!0){Ve=!1;const At=pt.value;if(void 0!==ie&&ie===He.length)break;const{indexes:bt}=At;ou.matchAnyFilter(bt,i)&&He.push(At)}}catch(At){m={error:At}}finally{try{!Ve&&!d&&(Z=qe.return)&&(yield Z.call(qe))}finally{if(m)throw m.error}}return He})}getIndexIterator(n,i,u,y){return function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,i=n.apply(r,t||[]),y=[];return u={},d("next"),d("throw"),d("return"),u[Symbol.asyncIterator]=function(){return this},u;function d(Ue){i[Ue]&&(u[Ue]=function(He){return new Promise(function(Ve,qe){y.push([Ue,He,Ve,qe])>1||m(Ue,He)})})}function m(Ue,He){try{!function Z(Ue){Ue.value instanceof _2?Promise.resolve(Ue.value.v).then(G,k):ie(y[0][2],Ue)}(i[Ue](He))}catch(Ve){ie(y[0][3],Ve)}}function G(Ue){m("next",Ue)}function k(Ue){m("throw",Ue)}function ie(Ue,He){Ue(He),y.shift(),y.length&&m(y[0][0],y[0][1])}}(this,arguments,function*(){var m,Z,G,k;const{sortProperty:ie,sortDirection:Ue=yp.Ascending,cursor:He}=u,Ve={gt:i};Ue===yp.Descending&&(Ve.reverse=!0,void 0!==He&&(Ve.lt=i,delete Ve.gt));const qe=yield _2(this.getIndexPartition(n,ie));try{for(var bt,pt=!0,At=vI(qe.iterator(Ve,y));!(m=(bt=yield _2(At.next())).done);pt=!0){k=bt.value,pt=!1;const[_t,Ft]=k,{indexes:Xt,messageCid:Ht}=JSON.parse(Ft);yield yield _2({indexes:Xt,messageCid:Ht})}}catch(_t){Z={error:_t}}finally{try{!pt&&!m&&(G=At.return)&&(yield _2(G.call(At)))}finally{if(Z)throw Z.error}}})}createStartingKeyFromCursor(n){const{messageCid:i,value:u}=n;return r.keySegmentJoin(r.encodeValue(u),i)}static createCursorFromLastArrayItem(n,i){if(n.length>0)return this.createCursorFromItem(n.at(-1),i)}static createCursorFromItem(n,i){const{messageCid:u,indexes:y}=n,d=y[i];if(void 0===d)throw new me(Te.IndexInvalidCursorSortProperty,`the sort property '${i}' is not defined within the given item.`);if("boolean"==typeof d||Array.isArray(d))throw new me(Te.IndexInvalidCursorValueType,`only string or number values are supported for cursors, a(n) ${typeof d} was given.`);return{messageCid:u,value:d}}queryWithInMemoryPaging(n,i,u,y){return uu(this,void 0,void 0,function*(){const{sortProperty:d,sortDirection:m=yp.Ascending,cursor:Z,limit:G}=u,k=Z?this.createStartingKeyFromCursor(Z):void 0,ie=new Map;0===i.length&&(i=[{}]);try{yield Promise.all(i.map(qe=>this.executeSingleFilterQuery(n,qe,d,ie,y)))}catch(qe){if(qe.code===Te.IndexInvalidSortPropertyInMemory)return[]}const Ue=[...ie.values()].sort((qe,pt)=>this.sortItems(qe,pt,d,m)),He=void 0!==k?this.findCursorStartingIndex(Ue,m,d,k):0;return He<0?[]:Ue.slice(He,void 0!==G?He+G:void 0)})}executeSingleFilterQuery(n,i,u,y,d){return uu(this,void 0,void 0,function*(){const m=[];if(o_(i)){const G=this.getAllItems(n,u);m.push(G)}const Z=hC.reduceFilter(i);for(const G in Z){const k=Z[G];if(ou.isEqualFilter(k)){const ie=this.filterExactMatches(n,G,k,d);m.push(ie)}else if(ou.isOneOfFilter(k))for(const ie of new Set(k)){const Ue=this.filterExactMatches(n,G,ie,d);m.push(Ue)}else if(ou.isRangeFilter(k)){const ie=this.filterRangeMatches(n,G,k,d);m.push(ie)}}for(const G of m){const k=yield G;for(const ie of k)if(!y.has(ie.messageCid)&&ou.matchFilter(ie.indexes,i)){if(void 0===ie.indexes[u])throw new me(Te.IndexInvalidSortPropertyInMemory,`invalid sort property ${u}`);y.set(ie.messageCid,ie)}}})}getAllItems(n,i){var u,y,d,m;return uu(this,void 0,void 0,function*(){const Z=yield this.getIndexPartition(n,i),G=[];try{for(var Ue,k=!0,ie=vI(Z.iterator());Ue=yield ie.next(),!(u=Ue.done);k=!0){m=Ue.value,k=!1;const[He,Ve]=m;G.push(JSON.parse(Ve))}}catch(He){y={error:He}}finally{try{!k&&!u&&(d=ie.return)&&(yield d.call(ie))}finally{if(y)throw y.error}}return G})}filterExactMatches(n,i,u,y){var d,m,Z,G;return uu(this,void 0,void 0,function*(){const k=r.keySegmentJoin(r.encodeValue(u)),ie={gt:k},Ue=yield this.getIndexPartition(n,i),He=[];try{for(var pt,Ve=!0,qe=vI(Ue.iterator(ie,y));pt=yield qe.next(),!(d=pt.done);Ve=!0){G=pt.value,Ve=!1;const[At,bt]=G;if(!At.startsWith(k))break;He.push(JSON.parse(bt))}}catch(At){m={error:At}}finally{try{!Ve&&!d&&(Z=qe.return)&&(yield Z.call(qe))}finally{if(m)throw m.error}}return He})}filterRangeMatches(n,i,u,y){var d,m,Z,G;return uu(this,void 0,void 0,function*(){const k={};for(const pt in u)k[pt]=r.encodeValue(u[pt]);void 0===k.gt&&void 0===k.gte&&(k.reverse=!0);const ie=[],Ue=yield this.getIndexPartition(n,i);try{for(var qe,He=!0,Ve=vI(Ue.iterator(k,y));qe=yield Ve.next(),!(d=qe.done);He=!0){G=qe.value,He=!1;const[pt,At]=G;"gt"in u&&this.extractIndexValueFromKey(pt)===r.encodeValue(u.gt)||ie.push(JSON.parse(At))}}catch(pt){m={error:pt}}finally{try{!He&&!d&&(Z=Ve.return)&&(yield Z.call(Ve))}finally{if(m)throw m.error}}if("lte"in u)for(const pt of yield this.filterExactMatches(n,i,u.lte,y))ie.push(pt);return ie})}sortItems(n,i,u,y){const m=i.indexes[u],Z=r.encodeValue(n.indexes[u])+n.messageCid,G=r.encodeValue(m)+i.messageCid;return y===yp.Ascending?dC(Z,G):dC(G,Z)}findCursorStartingIndex(n,i,u,y){return n.findIndex(m=>{const{messageCid:Z,indexes:G}=m,ie=r.keySegmentJoin(r.encodeValue(G[u]),Z);return i===yp.Ascending?ie>y:ie<y})}getIndexes(n,i){return uu(this,void 0,void 0,function*(){const y=yield(yield this.getIndexesLookupPartition(n)).get(i);if(void 0!==y)return JSON.parse(y)})}extractIndexValueFromKey(n){const[i]=n.split(r.delimiter);return i}static keySegmentJoin(...n){return n.join(r.delimiter)}static encodeNumberValue(n){const i=Number.MAX_SAFE_INTEGER,y=String(Number.MAX_SAFE_INTEGER).length;return(n<0?"!":"")+String(n+(n<0?i:0)).padStart(y,"0")}static encodeValue(n){return"number"==typeof n?this.encodeNumberValue(n):JSON.stringify(n)}static shouldQueryWithInMemoryPaging(n,i){for(const u of n)if(!r.isFilterConcise(u,i))return!1;return!0}static isFilterConcise(n,i){return void 0!==n.recordId||void 0===i.cursor&&(void 0!==n.protocolPath||void 0!==n.contextId||void 0!==n.parentId||void 0!==n.schema)}}return r.delimiter="\0",r})();function BP(r){if(!NP(r))throw new Error("Parameter was not an error")}function NP(r){return"[object Error]"===function UL(r){return Object.prototype.toString.call(r)}(r)||r instanceof Error}class Ap extends Error{constructor(t,n){const i=[...arguments],{options:u,shortMessage:y}=function jL(r){let t,n="";if(0===r.length)t={};else if(NP(r[0]))t={cause:r[0]},n=r.slice(1).join(" ")||"";else if(r[0]&&"object"==typeof r[0])t=Object.assign({},r[0]),n=r.slice(1).join(" ")||"";else{if("string"!=typeof r[0])throw new Error("Invalid arguments passed to Layerr");t={},n=n=r.join(" ")||""}return{options:t,shortMessage:n}}(i);let d=y;u.cause&&(d=`${d}: ${u.cause.message}`),super(d),this.message=d,this.name=u.name&&"string"==typeof u.name?u.name:"Layerr",u.cause&&Object.defineProperty(this,"_cause",{value:u.cause}),Object.defineProperty(this,"_info",{value:{}}),u.info&&"object"==typeof u.info&&Object.assign(this._info,u.info),Error.captureStackTrace&&Error.captureStackTrace(this,u.constructorOpt||this.constructor)}static cause(t){return BP(t),t._cause&&NP(t._cause)?t._cause:null}static fullStack(t){BP(t);const n=Ap.cause(t);return n?`${t.stack}\ncaused by: ${Ap.fullStack(n)}`:t.stack}static info(t){BP(t);const n={},i=Ap.cause(t);return i&&Object.assign(n,Ap.info(i)),t._info&&Object.assign(n,t._info),n}cause(){return Ap.cause(this)}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}const E2="0123456789ABCDEFGHJKMNPQRSTVWXYZ",x2=32,LP=0xffffffffffff,Ly=Object.freeze({source:"ulid"});function FP(r,t){if(isNaN(r))throw new Ap({info:{code:"ENC_TIME_NAN",...Ly}},`Time must be a number: ${r}`);if(r>LP)throw new Ap({info:{code:"ENC_TIME_SIZE_EXCEED",...Ly}},`Cannot encode a time larger than ${LP}: ${r}`);if(r<0)throw new Ap({info:{code:"ENC_TIME_NEG",...Ly}},`Time must be positive: ${r}`);if(!1===Number.isInteger(r))throw new Ap({info:{code:"ENC_TIME_TYPE",...Ly}},`Time must be an integer: ${r}`);let n,i="";for(let u=t;u>0;u--)n=r%x2,i=E2.charAt(n)+i,r=(r-n)/x2;return i}function GN(r){const t=r||function HN(r){const t=r||function $L(){return function VL(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}(),n=t&&(t.crypto||t.msCrypto)||null;if("function"==typeof n?.getRandomValues)return()=>{const i=new Uint8Array(1);return n.getRandomValues(i),i[0]/255};if("function"==typeof n?.randomBytes)return()=>n.randomBytes(1).readUInt8()/255;throw new Ap({info:{code:"PRNG_DETECT",...Ly}},"Failed to find a reliable PRNG")}();let i,n=0;return function(y){const d=isNaN(y)?Date.now():y;if(d<=n){const Z=i=function KL(r){let t,i,u,n=r.length,y=r;const d=x2-1;for(;!t&&n-- >=0;){if(i=y[n],u=E2.indexOf(i),-1===u)throw new Ap({info:{code:"B32_INC_ENC",...Ly}},"Incorrectly encoded string");u!==d?t=XN(y,n,E2[u+1]):y=XN(y,n,E2[0])}if("string"==typeof t)return t;throw new Ap({info:{code:"B32_INC_INVALID",...Ly}},"Failed incrementing string")}(i);return FP(n,10)+Z}n=d;const m=i=function WN(r,t){let n="";for(;r>0;r--)n=zL(t)+n;return n}(16,t);return FP(d,10)+m}}function zL(r){let t=Math.floor(r()*x2);return t===x2&&(t=x2-1),E2.charAt(t)}function XN(r,t,n){return t>r.length-1?r:r.substr(0,t)+n+r.substr(t+1)}var S2=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class HL{constructor(t){this.index=new Y8(Object.assign({location:"EVENTLOG",createLevelDatabase:b2},t)),this.ulidFactory=GN()}open(){return S2(this,void 0,void 0,function*(){return this.index.open()})}close(){return S2(this,void 0,void 0,function*(){return this.index.close()})}clear(){return S2(this,void 0,void 0,function*(){return this.index.clear()})}append(t,n,i){return S2(this,void 0,void 0,function*(){const u=this.ulidFactory();yield this.index.put(t,n,Object.assign(Object.assign({},i),{watermark:u}))})}queryEvents(t,n,i){return S2(this,void 0,void 0,function*(){const u=yield this.index.query(t,n,{sortProperty:"watermark",cursor:i});return{events:u.map(({messageCid:y})=>y),cursor:Y8.createCursorFromLastArrayItem(u,"watermark")}})}getEvents(t,n){return S2(this,void 0,void 0,function*(){return this.queryEvents(t,[],n)})}deleteEventsByCid(t,n){return S2(this,void 0,void 0,function*(){const i=[];for(const u of n)i.push(this.index.delete(t,u));yield Promise.all(i)})}}function q8({enumerable:r=!0,configurable:t=!1}={}){return{enumerable:r,configurable:t,writable:!1}}function*WL(r,t){if(null!=t&&"object"==typeof t)if(Array.isArray(t))for(const[n,i]of t.entries()){const u=[...r,n],y=rd.TO.asCID(i);y?yield[u.join("/"),y]:"object"==typeof i&&(yield*UP(i,u))}else{const n=rd.TO.asCID(t);n?yield[r.join("/"),n]:yield*UP(t,r)}}function*UP(r,t){if(null==r||r instanceof Uint8Array)return;const n=rd.TO.asCID(r);n&&(yield[t.join("/"),n]);for(const[i,u]of Object.entries(r)){const y=[...t,i];yield*WL(y,u)}}function*GL(r,t){if(Array.isArray(t))for(const[n,i]of t.entries()){const u=[...r,n];yield u.join("/"),"object"==typeof i&&!rd.TO.asCID(i)&&(yield*jP(i,u))}else yield*jP(t,r)}function*jP(r,t){if(null!=r&&"object"==typeof r)for(const[n,i]of Object.entries(r)){const u=[...t,n];yield u.join("/"),null!=i&&!(i instanceof Uint8Array)&&"object"==typeof i&&!rd.TO.asCID(i)&&(yield*GL(u,i))}}class $P{constructor({cid:t,bytes:n,value:i}){if(!t||!n||typeof i>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=n,this.value=i,this.asBlock=this,Object.defineProperties(this,{cid:q8(),bytes:q8(),value:q8(),asBlock:q8()})}links(){return UP(this.value,[])}tree(){return jP(this.value,[])}get(t="/"){return function XL(r,t){let n=r;for(const[i,u]of t.entries()){if(n=n[u],null==n)throw new Error(`Object has no property at ${t.slice(0,i+1).map(d=>`[${JSON.stringify(d)}]`).join("")}`);const y=rd.TO.asCID(n);if(y)return{value:y,remaining:t.slice(i+1).join("/")}}return{value:n}}(this.value,t.split("/").filter(Boolean))}}function KP(){return(KP=(0,Se.A)(function*({value:r,codec:t,hasher:n}){if(typeof r>"u")throw new Error('Missing required argument "value"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.encode(r),u=yield n.digest(i),y=rd.TO.create(1,t.code,u);return new $P({value:r,bytes:i,cid:y})})).apply(this,arguments)}function VP(){return(VP=(0,Se.A)(function*({bytes:r,codec:t,hasher:n}){if(!r)throw new Error('Missing required argument "bytes"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.decode(r),u=yield n.digest(r),y=rd.TO.create(1,t.code,u);return new $P({value:i,bytes:r,cid:y})})).apply(this,arguments)}var A2=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class HP{constructor(t={}){this.config=Object.assign({blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:b2},t),this.blockstore=new j8({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new Y8({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return A2(this,void 0,void 0,function*(){yield this.blockstore.open(),yield this.index.open()})}close(){return A2(this,void 0,void 0,function*(){yield this.blockstore.close(),yield this.index.close()})}get(t,n,i){var u;return A2(this,void 0,void 0,function*(){null===(u=i?.signal)||void 0===u||u.throwIfAborted();const y=yield af(this.blockstore.partition(t),i?.signal),d=Yu.TO.parse(n),m=yield y.get(d,i);return m?(yield af(function YL(r){return VP.apply(this,arguments)}({bytes:m,codec:re,hasher:be}),i?.signal)).value:void 0})}query(t,n,i,u,y){var d;return A2(this,void 0,void 0,function*(){null===(d=y?.signal)||void 0===d||d.throwIfAborted();const m=HP.buildQueryOptions(i,u),Z=yield this.index.query(t,n,m,y);let G;void 0!==u?.limit&&u.limit<Z.length&&(Z.splice(-1),G=Y8.createCursorFromLastArrayItem(Z,m.sortProperty));const k=[];for(let ie=0;ie<Z.length;ie++){const{messageCid:Ue}=Z[ie],He=yield this.get(t,Ue,y);He&&k.push(He)}return{messages:k,cursor:G}})}static buildQueryOptions(t={},n={}){let{limit:i,cursor:u}=n;const{dateCreated:y,datePublished:d,messageTimestamp:m}=t;let Z=yp.Ascending,G="messageTimestamp";return void 0!==y?G="dateCreated":void 0!==d?G="datePublished":void 0!==m&&(G="messageTimestamp"),void 0!==t[G]&&(Z=t[G]),void 0!==i&&i>0&&(i+=1),{sortDirection:Z,sortProperty:G,limit:i,cursor:u}}delete(t,n,i){var u;return A2(this,void 0,void 0,function*(){null===(u=i?.signal)||void 0===u||u.throwIfAborted();const y=yield af(this.blockstore.partition(t),i?.signal),d=Yu.TO.parse(n);yield y.delete(d,i),yield this.index.delete(t,n,i)})}put(t,n,i,u){var y;return A2(this,void 0,void 0,function*(){null===(y=u?.signal)||void 0===y||y.throwIfAborted();const d=yield af(this.blockstore.partition(t),u?.signal),m=yield af(function ZL(r){return KP.apply(this,arguments)}({value:n,codec:re,hasher:be}),u?.signal),Z=Rd.parseCid(yield fi.getCid(n));yield d.put(Z,m.bytes,u);const G=Z.toString();yield this.index.put(t,G,i,u)})}clear(){return A2(this,void 0,void 0,function*(){yield this.blockstore.clear(),yield this.index.clear()})}}var x1=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};let QL=(()=>{class r{constructor(n){this.config=Object.assign({location:"RESUMABLE-TASK-STORE",createLevelDatabase:b2},n),this.db=new JS({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return x1(this,void 0,void 0,function*(){yield this.db.open()})}close(){return x1(this,void 0,void 0,function*(){yield this.db.close()})}register(n,i){return x1(this,void 0,void 0,function*(){const u=yield Rd.computeCid(n),y={id:u,timeout:Date.now()+1e3*i,retryCount:0,task:n};return yield this.db.put(u,JSON.stringify(y)),y})}grab(n){var i,u,y,d;return x1(this,void 0,void 0,function*(){const m=[];try{for(var k,Z=!0,G=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(y){n[y]=r[y]&&function(d){return new Promise(function(m,Z){!function u(y,d,m,Z){Promise.resolve(Z).then(function(G){y({value:G,done:m})},d)}(m,Z,(d=r[y](d)).done,d.value)})}}}(this.db.iterator());k=yield G.next(),!(i=k.done);Z=!0){d=k.value,Z=!1;const[ie,Ue]=d,He=JSON.parse(Ue);if(Date.now()>=He.timeout&&(He.timeout=Date.now()+1e3*r.taskTimeoutInSeconds,He.retryCount++,yield this.db.put(He.id,JSON.stringify(He)),m.push(He)),m.length>=n)break}}catch(ie){u={error:ie}}finally{try{!Z&&!i&&(y=G.return)&&(yield y.call(G))}finally{if(u)throw u.error}}return m})}read(n){return x1(this,void 0,void 0,function*(){const i=yield this.db.get(n);if(i)return JSON.parse(i)})}extend(n,i){return x1(this,void 0,void 0,function*(){const u=yield this.db.get(n);if(u){const y=JSON.parse(u);y.timeout=Date.now()+1e3*i,yield this.db.put(y.id,JSON.stringify(y))}})}delete(n){return x1(this,void 0,void 0,function*(){return this.db.delete(n)})}clear(){return x1(this,void 0,void 0,function*(){yield this.db.clear()})}}return r.taskTimeoutInSeconds=60,r})();A(44356);var Hc=function(r){return r.MessagesQuery="MessagesQuery",r.MessagesRead="MessagesRead",r.MessagesSubscribe="MessagesSubscribe",r.ProtocolsConfigure="ProtocolsConfigure",r.ProtocolsQuery="ProtocolsQuery",r.RecordsDelete="RecordsDelete",r.RecordsQuery="RecordsQuery",r.RecordsRead="RecordsRead",r.RecordsSubscribe="RecordsSubscribe",r.RecordsWrite="RecordsWrite",r}(Hc||{});const ZN={[Hc.MessagesQuery]:ev,[Hc.MessagesRead]:tv,[Hc.MessagesSubscribe]:Yb,[Hc.ProtocolsConfigure]:ah,[Hc.ProtocolsQuery]:Cy,[Hc.RecordsDelete]:nv,[Hc.RecordsQuery]:Xb,[Hc.RecordsRead]:Qb,[Hc.RecordsSubscribe]:W_,[Hc.RecordsWrite]:ks};class e4{constructor({did:t,metadata:n}){this.did=t,this.metadata=n}export(){return r=this,t=void 0,i=function*(){return{portableDid:yield this.did.export(),metadata:this.metadata}},new((n=void 0)||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())});var r,t,n,i}}var C2=A(47565);class GP{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return(0,C2.s)(t)})}}class Fy{}class XP extends Fy{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield GP.digest({data:n})})}}var y0=A(94256),t4=A(91006);const n4="urn:jwk:";function Xs({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}(0,br.E8)(n);const i=function rF(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const u=Object.keys(i).sort(),y={};for(const d of u)y[d]=t(i[d]);return y}return i},n=t(r);return JSON.stringify(n)}(n),u=br.U$.string(i).toUint8Array(),y=yield GP.digest({data:u});return br.U$.uint8Array(y).toBase64Url()})}function Uy(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function r4(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function YN(r){return!(!r||"object"!=typeof r||!("kty"in r)||!("k"in r)||"oct"!==r.kty||"string"!=typeof r.k)}function jy(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function i4(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}function ZP(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}var cf=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class yc{static adjustSignatureToLowS({signature:t}){return cf(this,void 0,void 0,function*(){const n=y0.bI.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return cf(this,void 0,void 0,function*(){const n=yield yc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:br.U$.uint8Array(t).toBase64Url(),x:br.U$.uint8Array(n.x).toBase64Url(),y:br.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Xs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return cf(this,void 0,void 0,function*(){const n=yield yc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:br.U$.uint8Array(n.x).toBase64Url(),y:br.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Xs({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return cf(this,void 0,void 0,function*(){return y0.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return cf(this,void 0,void 0,function*(){const n=yield yc.privateKeyToBytes({privateKey:t}),i=yield yc.getCurvePoint({keyBytes:n}),u={kty:"EC",crv:"secp256k1",x:br.U$.uint8Array(i.x).toBase64Url(),y:br.U$.uint8Array(i.y).toBase64Url()};return u.kid=yield Xs({jwk:u}),u})}static convertDerToCompactSignature({derSignature:t}){return cf(this,void 0,void 0,function*(){return y0.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return cf(this,void 0,void 0,function*(){return y0.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return cf(this,void 0,void 0,function*(){const t=y0.bI.utils.randomPrivateKey(),n=yield yc.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Xs({jwk:n}),n})}static getPublicKey({key:t}){var n;return cf(this,void 0,void 0,function*(){if(!Uy(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield Xs({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return cf(this,void 0,void 0,function*(){if(!Uy(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return br.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return cf(this,void 0,void 0,function*(){if(!r4(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=br.U$.base64Url(t.x).toUint8Array(),u=br.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...u])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return cf(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield yc.privateKeyToBytes({privateKey:t}),u=yield yc.publicKeyToBytes({publicKey:n});return y0.bI.getSharedSecret(i,u,!0).slice(1)})}static sign({data:t,key:n}){return cf(this,void 0,void 0,function*(){const i=yield yc.privateKeyToBytes({privateKey:n}),u=(0,C2.s)(t);return y0.bI.sign(u,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return cf(this,void 0,void 0,function*(){return y0.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return cf(this,void 0,void 0,function*(){try{y0.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return cf(this,void 0,void 0,function*(){const u=yield yc.publicKeyToBytes({publicKey:t}),y=(0,C2.s)(i);return y0.bI.verify(n,y,u,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return cf(this,void 0,void 0,function*(){32===t.byteLength&&(t=y0.bI.getPublicKey(t));const n=y0.bI.ProjectivePoint.fromHex(t);return{x:(0,t4.lq)(n.x,32),y:(0,t4.lq)(n.y,32)}})}}var g0=A(40499),lf=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class gc{static adjustSignatureToLowS({signature:t}){return lf(this,void 0,void 0,function*(){const n=g0.Ag.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return lf(this,void 0,void 0,function*(){const n=yield gc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:br.U$.uint8Array(t).toBase64Url(),x:br.U$.uint8Array(n.x).toBase64Url(),y:br.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Xs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return lf(this,void 0,void 0,function*(){const n=yield gc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:br.U$.uint8Array(n.x).toBase64Url(),y:br.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Xs({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return lf(this,void 0,void 0,function*(){return g0.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return lf(this,void 0,void 0,function*(){const n=yield gc.privateKeyToBytes({privateKey:t}),i=yield gc.getCurvePoint({keyBytes:n}),u={kty:"EC",crv:"P-256",x:br.U$.uint8Array(i.x).toBase64Url(),y:br.U$.uint8Array(i.y).toBase64Url()};return u.kid=yield Xs({jwk:u}),u})}static convertDerToCompactSignature({derSignature:t}){return lf(this,void 0,void 0,function*(){return g0.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return lf(this,void 0,void 0,function*(){return g0.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return lf(this,void 0,void 0,function*(){const t=g0.Ag.utils.randomPrivateKey(),n=yield gc.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Xs({jwk:n}),n})}static getPublicKey({key:t}){var n;return lf(this,void 0,void 0,function*(){if(!Uy(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield Xs({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return lf(this,void 0,void 0,function*(){if(!Uy(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return br.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return lf(this,void 0,void 0,function*(){if(!r4(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=br.U$.base64Url(t.x).toUint8Array(),u=br.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...u])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return lf(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield gc.privateKeyToBytes({privateKey:t}),u=yield gc.publicKeyToBytes({publicKey:n});return g0.Ag.getSharedSecret(i,u,!0).slice(1)})}static sign({data:t,key:n}){return lf(this,void 0,void 0,function*(){const i=yield gc.privateKeyToBytes({privateKey:n}),u=(0,C2.s)(t);return g0.Ag.sign(u,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return lf(this,void 0,void 0,function*(){return g0.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return lf(this,void 0,void 0,function*(){try{g0.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return lf(this,void 0,void 0,function*(){const u=yield gc.publicKeyToBytes({publicKey:t}),y=(0,C2.s)(i);return g0.Ag.verify(n,y,u,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return lf(this,void 0,void 0,function*(){32===t.byteLength&&(t=g0.Ag.getPublicKey(t));const n=g0.Ag.ProjectivePoint.fromHex(t);return{x:(0,t4.lq)(n.x,32),y:(0,t4.lq)(n.y,32)}})}}var bI=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class o4 extends Fy{computePublicKey({key:t}){return bI(this,void 0,void 0,function*(){if(!Uy(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield yc.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield gc.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return bI(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield yc.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield gc.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return bI(this,void 0,void 0,function*(){if(!Uy(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield yc.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield gc.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return bI(this,void 0,void 0,function*(){if(!Uy(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield yc.sign({key:t,data:n});case"P-256":return yield gc.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return bI(this,void 0,void 0,function*(){if(!r4(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield yc.verify({key:t,signature:n,data:i});case"P-256":return yield gc.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var kf=A(86295),v0=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class vc{static bytesToPrivateKey({privateKeyBytes:t}){return v0(this,void 0,void 0,function*(){const n=kf.ev.getPublicKey(t),i={crv:"Ed25519",d:br.U$.uint8Array(t).toBase64Url(),kty:"OKP",x:br.U$.uint8Array(n).toBase64Url()};return i.kid=yield Xs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return v0(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:br.U$.uint8Array(t).toBase64Url()};return n.kid=yield Xs({jwk:n}),n})}static computePublicKey({key:t}){return v0(this,void 0,void 0,function*(){const n=yield vc.privateKeyToBytes({privateKey:t}),i=kf.ev.getPublicKey(n),u={kty:"OKP",crv:"Ed25519",x:br.U$.uint8Array(i).toBase64Url()};return u.kid=yield Xs({jwk:u}),u})}static convertPrivateKeyToX25519({privateKey:t}){return v0(this,void 0,void 0,function*(){const n=yield vc.privateKeyToBytes({privateKey:t}),i=(0,kf.OA)(n),u=kf.TU.getPublicKey(i),y={kty:"OKP",crv:"X25519",d:br.U$.uint8Array(i).toBase64Url(),x:br.U$.uint8Array(u).toBase64Url()};return y.kid=yield Xs({jwk:y}),y})}static convertPublicKeyToX25519({publicKey:t}){return v0(this,void 0,void 0,function*(){const n=yield vc.publicKeyToBytes({publicKey:t});if(!(yield vc.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const u=(0,kf.GU)(n),y={kty:"OKP",crv:"X25519",x:br.U$.uint8Array(u).toBase64Url()};return y.kid=yield Xs({jwk:y}),y})}static generateKey(){return v0(this,void 0,void 0,function*(){const t=kf.ev.utils.randomPrivateKey(),n=yield vc.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Xs({jwk:n}),n})}static getPublicKey({key:t}){var n;return v0(this,void 0,void 0,function*(){if(!jy(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield Xs({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return v0(this,void 0,void 0,function*(){if(!jy(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return br.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return v0(this,void 0,void 0,function*(){if(!i4(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return br.U$.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return v0(this,void 0,void 0,function*(){const i=yield vc.privateKeyToBytes({privateKey:t});return kf.ev.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return v0(this,void 0,void 0,function*(){try{kf.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return v0(this,void 0,void 0,function*(){const u=yield vc.publicKeyToBytes({publicKey:t});return kf.ev.verify(n,i,u)})}}var wI=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class JN extends Fy{computePublicKey({key:t}){return wI(this,void 0,void 0,function*(){if(!jy(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield vc.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return wI(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield vc.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return wI(this,void 0,void 0,function*(){if(!jy(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield vc.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return wI(this,void 0,void 0,function*(){if(!jy(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield vc.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return wI(this,void 0,void 0,function*(){if(!i4(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield vc.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}}var gv=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};const YP={Ed25519:{implementation:JN,names:["Ed25519"]},secp256k1:{implementation:o4,names:["ES256K","secp256k1"]},secp256r1:{implementation:o4,names:["ES256","secp256r1"]},"SHA-256":{implementation:XP,names:["SHA-256"]}};class $y{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new br.ny}digest({algorithm:t,data:n}){return gv(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return gv(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return gv(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const u=`${n4}${i.kid}`;return yield this._keyStore.set(u,i),u})}getKeyUri({key:t}){return gv(this,void 0,void 0,function*(){const n=yield Xs({jwk:t});return`${n4}${n}`})}getPublicKey({keyUri:t}){return gv(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return gv(this,void 0,void 0,function*(){if(!ZP(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield Xs({jwk:i}));const u=yield this.getKeyUri({key:i});return yield this._keyStore.set(u,i),u})}sign({keyUri:t,data:n}){return gv(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),u=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:u}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return gv(this,void 0,void 0,function*(){const u=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:u}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=YP[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const u in YP){const y=YP[u];if(n&&y.names.includes(n))return u;if(i&&y.names.includes(i))return u}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return gv(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}var cF=A(86703),Bf=A(62953);function qN(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}function QN(r){return(0,Bf.po)(r)}function M2(){return cF.E.randomUUID()}var S1=A(91879),EI=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};const t9=[128,192,256],l4=[96,104,112,120,128];class A1{static bytesToPrivateKey({privateKeyBytes:t}){return EI(this,void 0,void 0,function*(){const n={k:br.U$.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield Xs({jwk:n}),n})}static decrypt({key:t,data:n,iv:i,additionalData:u,tagLength:y}){return EI(this,void 0,void 0,function*(){if(12!==i.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(y&&!l4.includes(y))throw new RangeError(`The tag length is invalid: Must be ${l4.join(", ")} bits`);const d=(0,S1.NZ)(),m=yield d.importKey("jwk",t,{name:"AES-GCM"},!0,["decrypt"]),Z=Object.assign(Object.assign({name:"AES-GCM",iv:i},y&&{tagLength:y}),u&&{additionalData:u}),G=yield d.decrypt(Z,m,n);return new Uint8Array(G)})}static encrypt({data:t,iv:n,key:i,additionalData:u,tagLength:y}){return EI(this,void 0,void 0,function*(){if(12!==n.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(y&&!l4.includes(y))throw new RangeError(`The tag length is invalid: Must be ${l4.join(", ")} bits`);const d=(0,S1.NZ)(),m=yield d.importKey("jwk",i,{name:"AES-GCM"},!0,["encrypt"]),Z=Object.assign(Object.assign({name:"AES-GCM",iv:n},y&&{tagLength:y}),u&&{additionalData:u}),G=yield d.encrypt(Z,m,t);return new Uint8Array(G)})}static generateKey({length:t}){return EI(this,void 0,void 0,function*(){if(!t9.includes(t))throw new RangeError(`The key length is invalid: Must be ${t9.join(", ")} bits`);const n=(0,S1.NZ)(),i=yield n.generateKey({name:"AES-GCM",length:t},!0,["encrypt"]),m=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(yield n.exportKey("jwk",i),["ext","key_ops"]);return m.kid=yield Xs({jwk:m}),m})}static privateKeyToBytes({privateKey:t}){return EI(this,void 0,void 0,function*(){if(!YN(t))throw new Error("AesGcm: The provided key is not a valid oct private key.");return br.U$.base64Url(t.k).toUint8Array()})}}var qP=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},C1=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class eA{static bytesToPrivateKey({privateKeyBytes:t}){return C1(this,void 0,void 0,function*(){const n=kf.TU.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:br.U$.uint8Array(t).toBase64Url(),x:br.U$.uint8Array(n).toBase64Url()};return i.kid=yield Xs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return C1(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:br.U$.uint8Array(t).toBase64Url()};return n.kid=yield Xs({jwk:n}),n})}static computePublicKey({key:t}){return C1(this,void 0,void 0,function*(){const n=yield eA.privateKeyToBytes({privateKey:t}),i=kf.TU.getPublicKey(n),u={kty:"OKP",crv:"X25519",x:br.U$.uint8Array(i).toBase64Url()};return u.kid=yield Xs({jwk:u}),u})}static generateKey(){return C1(this,void 0,void 0,function*(){const t=kf.TU.utils.randomPrivateKey(),n=yield eA.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Xs({jwk:n}),n})}static getPublicKey({key:t}){var n;return C1(this,void 0,void 0,function*(){if(!jy(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield Xs({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return C1(this,void 0,void 0,function*(){if(!jy(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return br.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return C1(this,void 0,void 0,function*(){if(!i4(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return br.U$.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return C1(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield eA.privateKeyToBytes({privateKey:t}),u=yield eA.publicKeyToBytes({publicKey:n});return kf.TU.getSharedSecret(i,u)})}}A(94730);class vF{static deriveKeyBytes({baseKeyBytes:t,length:n,hash:i,salt:u,info:y=new Uint8Array}){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const m=yield(0,S1.NZ)().importKey("raw",t,{name:"HKDF"},!1,["deriveBits"]);u="string"==typeof u?br.U$.string(u).toUint8Array():u,y="string"==typeof y?br.U$.string(y).toUint8Array():y;const Z=yield crypto.subtle.deriveBits({name:"HKDF",hash:i,salt:u,info:y},m,n);return new Uint8Array(Z)})}}class Mo extends Error{constructor(t,n){super(n),this.code=t,this.name="CryptoError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mo)}}var Io=function(r){return r.AlgorithmNotSupported="algorithmNotSupported",r.EncodingError="encodingError",r.InvalidJwe="invalidJwe",r.InvalidJwk="invalidJwk",r.OperationNotSupported="operationNotSupported",r}(Io||{}),vv=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class n9 extends Fy{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return vv(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield yc.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield gc.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}default:throw new Mo(Io.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return vv(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield yc.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield gc.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}default:throw new Mo(Io.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}computePublicKey({key:t}){return vv(this,void 0,void 0,function*(){if(!Uy(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield yc.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield gc.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return vv(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield yc.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield gc.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return vv(this,void 0,void 0,function*(){if(!Uy(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield yc.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield gc.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}privateKeyToBytes({privateKey:t}){return vv(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield yc.privateKeyToBytes({privateKey:t});case"P-256":return yield gc.privateKeyToBytes({privateKey:t});default:throw new Mo(Io.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}publicKeyToBytes({publicKey:t}){return vv(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield yc.publicKeyToBytes({publicKey:t});case"P-256":return yield gc.publicKeyToBytes({publicKey:t});default:throw new Mo(Io.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}sign({key:t,data:n}){return vv(this,void 0,void 0,function*(){if(!Uy(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield yc.sign({key:t,data:n});case"P-256":return yield gc.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return vv(this,void 0,void 0,function*(){if(!r4(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield yc.verify({key:t,signature:n,data:i});case"P-256":return yield gc.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var bv=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},AI=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},r9=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n};const i9=[128,192,256];class CI{static bytesToPrivateKey({privateKeyBytes:t}){return AI(this,void 0,void 0,function*(){const n={k:br.U$.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield Xs({jwk:n}),n.alg={128:"A128KW",192:"A192KW",256:"A256KW"}[8*t.length],n})}static generateKey({length:t}){return AI(this,void 0,void 0,function*(){if(!i9.includes(t))throw new RangeError(`The key length is invalid: Must be ${i9.join(", ")} bits`);const n=(0,S1.NZ)(),i=yield n.generateKey({name:"AES-KW",length:t},!0,["wrapKey","unwrapKey"]),u=yield n.exportKey("jwk",i),m=r9(u,["ext","key_ops"]);return m.kid=yield Xs({jwk:m}),m})}static privateKeyToBytes({privateKey:t}){return AI(this,void 0,void 0,function*(){if(!YN(t))throw new Error("AesKw: The provided key is not a valid oct private key.");return br.U$.base64Url(t.k).toUint8Array()})}static unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:i}){return AI(this,void 0,void 0,function*(){if(!("alg"in i)||!i.alg)throw new Mo(Io.InvalidJwk,"The decryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(i.alg))throw new Mo(Io.AlgorithmNotSupported,`The 'decryptionKey' algorithm is not supported: ${i.alg}`);const u=(0,S1.NZ)(),y=yield u.importKey("jwk",i,{name:"AES-KW"},!0,["unwrapKey"]),d={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[n];if(!d)throw new Mo(Io.AlgorithmNotSupported,`The 'wrappedKeyAlgorithm' is not supported: ${n}`);const m=yield u.unwrapKey("raw",t.buffer,y,"AES-KW",{name:d},!0,["unwrapKey"]),Z=yield u.exportKey("jwk",m),Ue=r9(Z,["ext","key_ops"]);return Ue.kid=yield Xs({jwk:Ue}),Ue})}static wrapKey({unwrappedKey:t,encryptionKey:n}){return AI(this,void 0,void 0,function*(){if(!("alg"in n)||!n.alg)throw new Mo(Io.InvalidJwk,"The encryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(n.alg))throw new Mo(Io.AlgorithmNotSupported,`The 'encryptionKey' algorithm is not supported: ${n.alg}`);if(!("alg"in t)||!t.alg)throw new Mo(Io.InvalidJwk,"The private key to wrap is missing the 'alg' property.");const i=(0,S1.NZ)(),u=yield i.importKey("jwk",n,{name:"AES-KW"},!0,["wrapKey"]),y={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[t.alg];if(!y)throw new Mo(Io.AlgorithmNotSupported,`The 'unwrappedKey' algorithm is not supported: ${t.alg}`);const d=yield i.importKey("jwk",t,{name:y},!0,["unwrapKey"]),m=yield i.wrapKey("raw",d,u,"AES-KW");return new Uint8Array(m)})}}var MI=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class o9 extends Fy{bytesToPrivateKey({privateKeyBytes:t}){return MI(this,void 0,void 0,function*(){const n=yield CI.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128KW",24:"A192KW",32:"A256KW"}[t.length],n})}generateKey({algorithm:t}){return MI(this,void 0,void 0,function*(){const n={A128KW:128,A192KW:192,A256KW:256}[t],i=yield CI.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return MI(this,void 0,void 0,function*(){return yield CI.privateKeyToBytes({privateKey:t})})}unwrapKey(t){return MI(this,void 0,void 0,function*(){return yield CI.unwrapKey(t)})}wrapKey(t){return MI(this,void 0,void 0,function*(){return CI.wrapKey(t)})}}class SF{static deriveKeyBytes({baseKeyBytes:t,hash:n,salt:i,iterations:u,length:y}){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const d=(0,S1.NZ)(),m=yield d.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]),Z=yield d.deriveBits({name:"PBKDF2",hash:n,salt:i,iterations:u},m,y);return new Uint8Array(Z)})}}var II=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},Nf=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};const tk={"AES-GCM":{implementation:class IF extends Fy{bytesToPrivateKey({privateKeyBytes:t}){return II(this,void 0,void 0,function*(){const n=yield A1.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128GCM",24:"A192GCM",32:"A256GCM"}[t.length],n})}decrypt(t){return II(this,void 0,void 0,function*(){return A1.decrypt(t)})}encrypt(t){return II(this,void 0,void 0,function*(){return A1.encrypt(t)})}generateKey({algorithm:t}){return II(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield A1.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return II(this,void 0,void 0,function*(){return yield A1.privateKeyToBytes({privateKey:t})})}},names:["A128GCM","A192GCM","A256GCM"],operations:["bytesToPrivateKey","decrypt","encrypt","generateKey"]},"AES-KW":{implementation:o9,names:["A128KW","A192KW","A256KW"],operations:["bytesToPrivateKey","generateKey","privateKeyToBytes","wrapKey","unwrapKey"]},Ed25519:{implementation:class EF extends Fy{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return bv(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield vc.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}throw new Mo(Io.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return bv(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield vc.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}throw new Mo(Io.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}computePublicKey({key:t}){return bv(this,void 0,void 0,function*(){if(!jy(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield vc.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Mo(Io.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}generateKey({algorithm:t}){return bv(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield vc.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return bv(this,void 0,void 0,function*(){if(!jy(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield vc.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}privateKeyToBytes({privateKey:t}){return bv(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield vc.privateKeyToBytes({privateKey:t});throw new Mo(Io.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}publicKeyToBytes({publicKey:t}){return bv(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield vc.publicKeyToBytes({publicKey:t});throw new Mo(Io.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}sign({key:t,data:n}){return bv(this,void 0,void 0,function*(){if(!jy(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield vc.sign({key:t,data:n});throw new Mo(Io.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return bv(this,void 0,void 0,function*(){if(!i4(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield vc.verify({key:t,signature:n,data:i});throw new Mo(Io.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}},names:["Ed25519"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},HKDF:{implementation:class _F extends Fy{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const u={"HKDF-256":"SHA-256","HKDF-384":"SHA-384","HKDF-512":"SHA-512"}[n];return yield vF.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:u}))})}},names:["HKDF-256","HKDF-384","HKDF-512"],operations:["deriveKey","deriveKeyBytes"]},PBKDF2:{implementation:class MF extends Fy{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const[,u]=n.split(/[-+]/),y={HS256:"SHA-256",HS384:"SHA-384",HS512:"SHA-512"}[u];return yield SF.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:y}))})}},names:["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"],operations:["deriveKey","deriveKeyBytes"]},secp256k1:{implementation:n9,names:["ES256K","secp256k1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},secp256r1:{implementation:n9,names:["ES256","secp256r1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},"SHA-256":{implementation:XP,names:["SHA-256"],operations:["digest"]}};class tA{constructor(){this._algorithmInstances=new Map}bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return Nf(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPrivateKey({algorithm:t,privateKeyBytes:n})})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return Nf(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPublicKey({algorithm:t,publicKeyBytes:n})})}decrypt(t){return Nf(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).decrypt(t)})}deriveKey(t){var n,i;return Nf(this,void 0,void 0,function*(){const u=this.getAlgorithmName({algorithm:t.algorithm}),y=this.getAlgorithm({algorithm:u});let d;switch(t.algorithm){case"HKDF-256":case"HKDF-384":case"HKDF-512":d=t.derivedKeyAlgorithm;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":d=t.algorithm.split(/[-+]/)[2];break;default:throw new Mo(Io.AlgorithmNotSupported,`The specified "algorithm" is not supported: ${t.algorithm}`)}const m=+(null!==(i=null===(n=d.match(/\d+/))||void 0===n?void 0:n[0])&&void 0!==i?i:-1);if(-1===m)throw new Mo(Io.AlgorithmNotSupported,`The derived key algorithm" is not supported: ${d}`);const Z=yield y.deriveKeyBytes(Object.assign(Object.assign({},t),{length:m}));return yield this.bytesToPrivateKey({algorithm:d,privateKeyBytes:Z})})}deriveKeyBytes(t){return Nf(this,void 0,void 0,function*(){const n=this.getAlgorithmName({algorithm:t.algorithm});return yield this.getAlgorithm({algorithm:n}).deriveKeyBytes(t)})}digest({algorithm:t,data:n}){return Nf(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}encrypt(t){return Nf(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).encrypt(t)})}generateKey(t){var n;return Nf(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t.algorithm}),y=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t.algorithm});return null!==(n=y.kid)&&void 0!==n||(y.kid=yield Xs({jwk:y})),y})}getKeyUri(t){return Nf(this,void 0,void 0,function*(){throw new Error("Method not implemented.")})}getPublicKey({key:t}){return Nf(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).getPublicKey({key:t})})}privateKeyToBytes({privateKey:t}){return Nf(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).privateKeyToBytes({privateKey:t})})}publicKeyToBytes({publicKey:t}){return Nf(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).publicKeyToBytes({publicKey:t})})}sign({key:t,data:n}){return Nf(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:i}).sign({data:n,key:t})})}unwrapKey(t){return Nf(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.decryptionKey});return yield this.getAlgorithm({algorithm:n}).unwrapKey(t)})}verify({key:t,signature:n,data:i}){return Nf(this,void 0,void 0,function*(){const u=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:u}).verify({key:t,signature:n,data:i})})}wrapKey(t){return Nf(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.encryptionKey});return yield this.getAlgorithm({algorithm:n}).wrapKey(t)})}getAlgorithm({algorithm:t}){var n;const i=null===(n=tk[t])||void 0===n?void 0:n.implementation;if(!i)throw new Mo(Io.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({algorithm:t,key:n}){var i;const u=null!==(i=n?.alg)&&void 0!==i?i:t,y=n?.crv;for(const d of Object.keys(tk)){const m=tk[d].names;if(u&&m.includes(u))return d;if(y&&m.includes(y))return d}throw new Mo(Io.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${u}, crv=${y}. Please check the documentation for the list of supported algorithms.`)}}var d4=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(d4||{});const T2={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Lc{constructor({method:t,id:n,path:i,query:u,fragment:y,params:d}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=u,this.fragment=y,this.params=d}static parse(t){if(!t)return null;const n=Lc.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:u,path:y,query:d,fragment:m}=n.groups,Z={uri:`did:${i}:${u}`,method:i,id:u};if(y&&(Z.path=y),d&&(Z.query=d.slice(1)),m&&(Z.fragment=m.slice(1)),d){const G={},k=d.slice(1).split("&");for(const ie of k){const[Ue,He]=ie.split("=");G[Ue]=He}Z.params=G}return Z}}Lc.METHOD_PATTERN="([a-z0-9]+)",Lc.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Lc.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Lc.PCT_ENCODED_PATTERN})`,Lc.METHOD_ID_PATTERN=`((?:${Lc.ID_CHAR_PATTERN}*:)*(${Lc.ID_CHAR_PATTERN}+))`,Lc.PATH_PATTERN="(/[^#?]*)?",Lc.QUERY_PATTERN="([?][^#]*)?",Lc.FRAGMENT_PATTERN="(#.*)?",Lc.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Lc.METHOD_PATTERN}):(?<id>${Lc.METHOD_ID_PATTERN})(?<path>${Lc.PATH_PATTERN})(?<query>${Lc.QUERY_PATTERN})(?<fragment>${Lc.FRAGMENT_PATTERN})$`);class Ha extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ha)}}var Na=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Na||{});function ym(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function rk(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}var TI=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class wv{constructor({uri:t,document:n,metadata:i,keyManager:u}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=u}export(){return TI(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const u=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),y=yield this.keyManager.exportKey({keyUri:u});n.push(Object.assign({},y))}t.privateKeys=n}return t})}getSigner(t){return TI(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(Z=>{var G,k;return ym(Z.id)===(null!==(G=ym(t?.methodId))&&void 0!==G?G:ym(null===(k=this.document.assertionMethod)||void 0===k?void 0:k[0]))});if(!i||!i.publicKeyJwk)throw new Ha(Na.InternalError,"A verification method intended for signing could not be determined from the DID Document");const u=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),y=yield this.keyManager.getPublicKey({keyUri:u}),d=this.keyManager;return{algorithm:qN(y),keyId:i.id,sign(Z){return TI(this,arguments,void 0,function*({data:G}){return yield d.sign({data:G,keyUri:u})})},verify(Z){return TI(this,arguments,void 0,function*({data:G,signature:k}){return yield d.verify({data:G,key:y,signature:k})})}}})}static import(t){return TI(this,arguments,void 0,function*({portableDid:n,keyManager:i=new $y}){var u;const y=function nk({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(rk))&&void 0!==n?n:[]),Object.keys(d4).forEach(u=>{var y,d;i.push(...null!==(d=null===(y=r[u])||void 0===y?void 0:y.filter(rk))&&void 0!==d?d:[])}),i}({didDocument:n.document});if(0===y.length)throw new Ha(Na.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let m of null!==(u=n.privateKeys)&&void 0!==u?u:[])yield i.importKey({key:m});for(let m of y){if(!m.publicKeyJwk)throw new Error(`Verification method '${m.id}' does not contain a public key in JWK format`);const Z=yield i.getKeyUri({key:m.publicKeyJwk});yield i.getPublicKey({keyUri:Z})}return new wv({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var s9=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class a9{static getSigningMethod(t){return s9(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return s9(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Lu=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},c9=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n};const l9="https://diddht.tbddev.org",M1=7200,uh=",";var d9=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(d9||{}),Zh=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(Zh||{}),u9=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(u9||{});const f9={Ed25519:Zh.Ed25519,ES256K:Zh.secp256k1,ES256:Zh.secp256r1,"P-256":Zh.secp256r1,secp256k1:Zh.secp256k1,secp256r1:Zh.secp256r1,X25519:Zh.X25519},h9={[Zh.Ed25519]:"Ed25519",[Zh.secp256k1]:"ES256K",[Zh.secp256r1]:"ES256",[Zh.X25519]:"ECDH-ES+A256KW"};let f4=(()=>{class r extends a9{static create(){return Lu(this,arguments,void 0,function*({keyManager:n=new $y,options:i={}}={}){var u,y,d,m,Z,G,k,ie,Ue,He,Ve;if(null!==(u=i.verificationMethods)&&void 0!==u&&u.some(Ht=>!(Ht.algorithm in f9)))throw new Error("One or more verification method algorithms are not supported");const qe=null===(y=i.verificationMethods)||void 0===y?void 0:y.filter(Ht=>"id"in Ht).map(Ht=>Ht.id);if(qe&&qe.length!==new Set(qe).size)throw new Error("One or more verification method IDs are not unique");if(null!==(d=i.services)&&void 0!==d&&d.some(Ht=>!Ht.id||!Ht.type||!Ht.serviceEndpoint))throw new Error("One or more services are missing required properties");const pt=yield n.generateKey({algorithm:"Ed25519"}),At=yield n.getPublicKey({keyUri:pt}),bt=yield Ud.identityKeyToIdentifier({identityKey:At}),_t=Object.assign(Object.assign({id:bt},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),Ft=[...null!==(m=i.verificationMethods)&&void 0!==m?m:[]];Ft?.some(Ht=>{var on;return"0"===(null===(on=Ht.id)||void 0===on?void 0:on.split("#").pop())})||Ft.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const Ht of Ft){const on=Ht.id&&"0"===Ht.id.split("#").pop()?pt:yield n.generateKey({algorithm:Ht.algorithm}),ln=yield n.getPublicKey({keyUri:on});let Ln=null!==(G=null!==(Z=Ht.id)&&void 0!==Z?Z:ln.kid)&&void 0!==G?G:yield Xs({jwk:ln});Ln=`${bt}#${ym(Ln)}`,null!==(k=_t.verificationMethod)&&void 0!==k||(_t.verificationMethod=[]),_t.verificationMethod.push({id:Ln,type:"JsonWebKey",controller:null!==(ie=Ht.controller)&&void 0!==ie?ie:bt,publicKeyJwk:ln});for(const Vn of null!==(Ue=Ht.purposes)&&void 0!==Ue?Ue:[])_t[Vn]||(_t[Vn]=[]),_t[Vn].push(Ln)}null===(He=i.services)||void 0===He||He.forEach(Ht=>{var on;null!==(on=_t.service)&&void 0!==on||(_t.service=[]),Ht.id=`${bt}#${Ht.id.split("#").pop()}`,_t.service.push(Ht)});const Xt=new wv({uri:bt,document:_t,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Ve=i.publish)||void 0===Ve||Ve){const Ht=yield r.publish({did:Xt,gatewayUri:i.gatewayUri});Xt.metadata=Ht.didDocumentMetadata}return Xt})}static import(n){return Lu(this,arguments,void 0,function*({portableDid:i,keyManager:u=new $y}){var y;const d=Lc.parse(i.uri);if(d?.method!==r.methodName)throw new Ha(Na.MethodNotSupported,"Method not supported");const m=yield wv.import({portableDid:i,keyManager:u});if(null===(y=m.document.verificationMethod)||void 0===y||!y.some(Z=>{var G;return"0"===(null===(G=Z.id)||void 0===G?void 0:G.split("#").pop())}))throw new Ha(Na.InvalidDidDocument,"DID document must contain an Identity Key");return m})}static getSigningMethod(n){return Lu(this,arguments,void 0,function*({didDocument:i,methodId:u="#0"}){var y;const d=Lc.parse(i.id);if(d&&d.method!==this.methodName)throw new Ha(Na.MethodNotSupported,`Method not supported: ${d.method}`);const m=null===(y=i.verificationMethod)||void 0===y?void 0:y.find(Z=>{var G,k;return ym(Z.id)===(null!==(G=ym(u))&&void 0!==G?G:ym(null===(k=i.assertionMethod)||void 0===k?void 0:k[0]))});if(!m||!m.publicKeyJwk)throw new Ha(Na.InternalError,"A verification method intended for signing could not be determined from the DID Document");return m})}static publish(n){return Lu(this,arguments,void 0,function*({did:i,gatewayUri:u=l9}){return yield _v.put({did:i,gatewayUri:u})})}static resolve(n){return Lu(this,arguments,void 0,function*(i,u={}){var y;const d=null!==(y=u?.gatewayUri)&&void 0!==y?y:l9;try{yield Ud.identifierToIdentityKey({didUri:i});const{didDocument:m,didDocumentMetadata:Z}=yield _v.get({didUri:i,gatewayUri:d});return Object.assign(Object.assign({},T2),{didDocument:m,didDocumentMetadata:Z})}catch(m){if(!(m instanceof Ha))throw new Error(m);return Object.assign(Object.assign({},T2),{didResolutionMetadata:Object.assign({error:m.code},m.message&&{errorMessage:m.message})})}})}}return r.methodName="dht",r})();class _v{static get(t){return Lu(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const u=Ud.identifierToIdentityKeyBytes({didUri:n}),y=yield _v.pkarrGet({gatewayUri:i,publicKeyBytes:u}),d=yield Ud.parseBep44GetMessage({bep44Message:y}),m=yield _v.fromDnsPacket({didUri:n,dnsPacket:d});return m.didDocumentMetadata.versionId=y.seq.toString(),m})}static put(t){return Lu(this,arguments,void 0,function*({did:n,gatewayUri:i}){const u=yield _v.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),y=yield Ud.createBep44PutMessage({dnsPacket:u,publicKeyBytes:Ud.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),d=yield _v.pkarrPut({gatewayUri:i,bep44Message:y});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:d,versionId:y.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return Lu(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const u=br.U$.uint8Array(i).toBase32Z(),y=new URL(u,n).href;let d;try{if(d=yield fetch(y,{method:"GET"}),!d.ok)throw new Ha(Na.NotFound,`Pkarr record not found for: ${u}`)}catch(G){throw G instanceof Ha?G:new Ha(Na.InternalError,`Failed to fetch Pkarr record: ${G.message}`)}const m=yield d.arrayBuffer();if(!m)throw new Ha(Na.NotFound,`Pkarr record not found for: ${u}`);if(m.byteLength<72)throw new Ha(Na.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${m.byteLength}`);if(m.byteLength>1072)throw new Ha(Na.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${m.byteLength}`);return{k:i,seq:Number(new DataView(m).getBigUint64(64)),sig:new Uint8Array(m,0,64),v:new Uint8Array(m,72)}})}static pkarrPut(t){return Lu(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const u=br.U$.uint8Array(i.k).toBase32Z(),y=new URL(u,n).href,d=new Uint8Array(i.v.length+72);let m;d.set(i.sig,0),new DataView(d.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),d.set(i.v,i.sig.length+8);try{m=yield fetch(y,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:d})}catch(Z){throw new Ha(Na.InternalError,`Failed to put Pkarr record for identifier ${u}: ${Z.message}`)}return m.ok})}static fromDnsPacket(t){return Lu(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var u,y,d;const m={id:n},Z={published:!0},G=new Map;for(const k of null!==(u=i?.answers)&&void 0!==u?u:[]){if("TXT"!==k.type)continue;const ie=k.name.split(".")[0].substring(1);switch(!0){case ie.startsWith("aka"):{const Ue=Ud.parseTxtDataToString(k.data);m.alsoKnownAs=Ue.split(uh);break}case ie.startsWith("cnt"):{const Ue=Ud.parseTxtDataToString(k.data);m.controller=Ue.includes(uh)?Ue.split(uh):Ue;break}case ie.startsWith("k"):{const{id:Ue,t:He,k:Ve,c:qe,a:pt}=Ud.parseTxtDataToObject(k.data),At=br.U$.base64Url(Ve).toUint8Array(),bt=Zh[Number(He)];let _t=yield Ud.keyConverter(bt).bytesToPublicKey({publicKeyBytes:At});_t.alg=pt||h9[Number(He)];const Ft="k0"===ie?"0":void 0!==Ue?Ue:yield Xs({jwk:_t});null!==(y=m.verificationMethod)&&void 0!==y||(m.verificationMethod=[]);const Xt=`${n}#${Ft}`;m.verificationMethod.push({id:Xt,type:"JsonWebKey",controller:qe??n,publicKeyJwk:_t}),G.set(ie,Xt);break}case ie.startsWith("s"):{const Ue=Ud.parseTxtDataToObject(k.data),{id:He,t:Ve,se:qe}=Ue,pt=c9(Ue,["id","t","se"]),At=qe.includes(uh)?qe.split(uh):[qe],bt=Object.fromEntries(Object.entries(pt).map(([_t,Ft])=>[_t,Ft.includes(uh)?Ft.split(uh):Ft]));null!==(d=m.service)&&void 0!==d||(m.service=[]),m.service.push(Object.assign(Object.assign({},bt),{id:`${n}#${He}`,type:Ve,serviceEndpoint:At}));break}case ie.startsWith("typ"):{const{id:Ue}=Ud.parseTxtDataToObject(k.data);Z.types=Ue.split(uh).map(He=>Number(He));break}case ie.startsWith("did"):{const Ue=bt=>bt.split(uh).map(_t=>G.get(_t)).filter(_t=>"string"==typeof _t),{auth:He,asm:Ve,del:qe,inv:pt,agm:At}=Ud.parseTxtDataToObject(k.data);He&&(m.authentication=Ue(He)),Ve&&(m.assertionMethod=Ue(Ve)),qe&&(m.capabilityDelegation=Ue(qe)),pt&&(m.capabilityInvocation=Ue(pt)),At&&(m.keyAgreement=Ue(At));break}}}return{didDocument:m,didDocumentMetadata:Z,didResolutionMetadata:{}}})}static toDnsPacket(t){return Lu(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:u,previousDidProof:y}){var d,m,Z,G,k;const ie=[],Ue=[],He=new Map,Ve=[],qe=[];if(void 0!==y){const{signature:bt,previousDid:_t}=y;yield Ud.validatePreviousDidProof({newDid:n.id,previousDidProof:y}),ie.push({type:"TXT",name:"_prv._did.",ttl:M1,data:`id=${_t};s=${bt}`})}if(n.alsoKnownAs&&ie.push({type:"TXT",name:"_aka._did.",ttl:M1,data:n.alsoKnownAs.join(uh)}),n.controller){const bt=Array.isArray(n.controller)?n.controller.join(uh):n.controller;ie.push({type:"TXT",name:"_cnt._did.",ttl:M1,data:bt})}for(const[bt,_t]of null!==(m=null===(d=n.verificationMethod)||void 0===d?void 0:d.entries())&&void 0!==m?m:[]){const Ft=`k${bt}`;qe.push(Ft);let Xt=_t.id.split("#").pop();He.set(Xt,Ft);const Ht=_t.publicKeyJwk;if(!Ht?.crv||!(Ht.crv in f9))throw new Ha(Na.InvalidPublicKeyType,`Verification method '${_t.id}' contains an unsupported key type: ${null!==(Z=Ht?.crv)&&void 0!==Z?Z:"undefined"}`);const on=Zh[Ht.crv],ln=yield Ud.keyConverter(Ht.crv).publicKeyToBytes({publicKey:Ht}),Vn=[`t=${on}`,`k=${br.U$.uint8Array(ln).toBase64Url()}`];"0"!==Xt&&(yield Xs({jwk:Ht}))!==Xt&&Vn.unshift(`id=${Xt}`),Ht.alg!==h9[on]&&Vn.push(`a=${Ht.alg}`),_t.controller!==n.id&&Vn.push(`c=${_t.controller}`),ie.push({type:"TXT",name:`_${Ft}._did.`,ttl:M1,data:Vn.join(";")})}null===(G=n.service)||void 0===G||G.forEach((bt,_t)=>{const Ft=`s${_t}`;Ve.push(Ft);let{id:Xt,type:Ht,serviceEndpoint:on}=bt,ln=c9(bt,["id","type","serviceEndpoint"]);Xt=ym(Xt),on=Array.isArray(on)?on.join(","):on;const Vn=Object.entries(Object.assign({id:Xt,t:Ht,se:on},ln)).map(([_r,Xn])=>`${_r}=${Xn}`).join(";"),Zn=Ud.chunkDataIfNeeded(Vn);ie.push({type:"TXT",name:`_${Ft}._did.`,ttl:M1,data:Zn})});const pt=["v=0"];if(qe.length&&pt.push(`vm=${qe.join(uh)}`),Object.keys(d4).forEach(bt=>{var _t;const Ft=null===(_t=n[bt])||void 0===_t?void 0:_t.map(Xt=>He.get(Xt.split("#").pop()));Ft&&pt.push(`${u9[bt]}=${Ft.join(uh)}`)}),Ve.length&&pt.push(`svc=${Ve.join(uh)}`),null!==(k=i.types)&&void 0!==k&&k.length){const _t=i.types.map(Ft=>"string"==typeof Ft?d9[Ft]:Ft);ie.push({type:"TXT",name:"_typ._did.",ttl:M1,data:`id=${_t.join(uh)}`})}ie.push({type:"TXT",name:"_did."+_v.getUniqueDidSuffix(n.id)+".",ttl:M1,data:pt.join(";")});for(const bt of u||[])Ue.push({type:"NS",name:"_did."+_v.getUniqueDidSuffix(n.id)+".",ttl:M1,data:bt+"."});return{id:0,type:"response",flags:ZS.hB,answers:[...ie,...Ue]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class Ud{static createBep44PutMessage(t){return Lu(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:u}){const y=Math.ceil(Date.now()/1e3),d=(0,ZS.lF)(n),m=N8.A.encode({seq:y,v:d}).subarray(1,-1);if(m.length>1e3)throw new Ha(Na.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${m.length} bytes`);return{k:i,seq:y,sig:yield u.sign({data:m}),v:d}})}static identifierToIdentityKey(t){return Lu(this,arguments,void 0,function*({didUri:n}){let i=Ud.identifierToIdentityKeyBytes({didUri:n});return yield vc.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Lc.parse(t);if(!n)throw new Ha(Na.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==f4.methodName)throw new Ha(Na.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=br.U$.base32Z(n.id).toUint8Array()}catch{throw new Ha(Na.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new Ha(Na.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return Lu(this,arguments,void 0,function*({identityKey:n}){const i=yield vc.publicKeyToBytes({publicKey:n}),u=br.U$.uint8Array(i).toBase32Z();return`did:${f4.methodName}:${u}`})}static keyConverter(t){const i={Ed25519:vc,"P-256":{publicKeyToBytes:u=>Lu(this,[u],void 0,function*({publicKey:y}){const d=yield gc.publicKeyToBytes({publicKey:y});return yield gc.compressPublicKey({publicKeyBytes:d})}),bytesToPublicKey:gc.bytesToPublicKey,privateKeyToBytes:gc.privateKeyToBytes,bytesToPrivateKey:gc.bytesToPrivateKey},secp256k1:{publicKeyToBytes:u=>Lu(this,[u],void 0,function*({publicKey:y}){const d=yield yc.publicKeyToBytes({publicKey:y});return yield yc.compressPublicKey({publicKeyBytes:d})}),bytesToPublicKey:yc.bytesToPublicKey,privateKeyToBytes:yc.privateKeyToBytes,bytesToPrivateKey:yc.bytesToPrivateKey},X25519:eA}[t];if(!i)throw new Ha(Na.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return Lu(this,arguments,void 0,function*({bep44Message:n}){const i=yield vc.bytesToPublicKey({publicKeyBytes:n.k}),u=N8.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield vc.verify({key:i,signature:n.sig,data:u})))throw new Ha(Na.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,ZS.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[u,y]=i.split("=");return n[u]=y,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return br.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new Ha(Na.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return Lu(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const u=yield Ud.identifierToIdentityKey({didUri:i.previousDid}),y=Ud.identifierToIdentityKeyBytes({didUri:n}),d=br.U$.base64Url(i.signature).toUint8Array();if(!(yield vc.verify({key:u,data:y,signature:d})))throw new Ha(Na.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var h4=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};let PF=(()=>{class r extends a9{static create(){return h4(this,arguments,void 0,function*({keyManager:n=new $y,options:i={}}={}){var u,y,d,m;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const Z=null!==(m=null!==(u=i.algorithm)&&void 0!==u?u:null===(d=null===(y=i.verificationMethods)||void 0===y?void 0:y[0])||void 0===d?void 0:d.algorithm)&&void 0!==m?m:"Ed25519",G=yield n.generateKey({algorithm:Z}),k=yield n.getPublicKey({keyUri:G}),ie=br.U$.object(k).toBase64Url(),Ue=`did:${r.methodName}:${ie}`,Ve=(yield r.resolve(Ue)).didDocument;return new wv({uri:Ue,document:Ve,metadata:{},keyManager:n})})}static getSigningMethod(n){return h4(this,arguments,void 0,function*({didDocument:i}){var u;const y=Lc.parse(i.id);if(y&&y.method!==this.methodName)throw new Ha(Na.MethodNotSupported,`Method not supported: ${y.method}`);const[d]=null!==(u=i.verificationMethod)&&void 0!==u?u:[];if(!d||!d.publicKeyJwk)throw new Ha(Na.InternalError,"A verification method intended for signing could not be determined from the DID Document");return d})}static import(n){return h4(this,arguments,void 0,function*({portableDid:i,keyManager:u=new $y}){const y=Lc.parse(i.uri);if(y?.method!==r.methodName)throw new Ha(Na.MethodNotSupported,"Method not supported");const d=yield wv.import({portableDid:i,keyManager:u});if(1!==d.document.verificationMethod.length)throw new Ha(Na.InvalidDidDocument,"DID document must contain exactly one verification method");return d})}static resolve(n,i){return h4(this,void 0,void 0,function*(){const u=Lc.parse(n);let y;try{y=br.U$.base64Url(u.id).toObject()}catch{}if(!u||!y)return Object.assign(Object.assign({},T2),{didResolutionMetadata:{error:"invalidDid"}});if(u.method!==r.methodName)return Object.assign(Object.assign({},T2),{didResolutionMetadata:{error:"methodNotSupported"}});const d={"@context":["https://www.w3.org/ns/did/v1"],id:u.uri},m=`${d.id}#0`;switch(d.verificationMethod=[{id:m,type:"JsonWebKey",controller:d.id,publicKeyJwk:y}],d.authentication=[m],d.assertionMethod=[m],d.capabilityInvocation=[m],d.capabilityDelegation=[m],d.keyAgreement=[m],y.use){case"sig":delete d.keyAgreement;break;case"enc":delete d.authentication,delete d.assertionMethod,delete d.capabilityInvocation,delete d.capabilityDelegation}return Object.assign(Object.assign({},T2),{didDocument:d})})}}return r.methodName="jwk",r})();var O2=A(81447),kF=A(94787);class NF{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new kF.Level(n),this.ttl=O2(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},u=JSON.stringify(i);return this.cache.put(t,u)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const LF={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var p9=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class m9{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||LF;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return p9(this,void 0,void 0,function*(){const i=Lc.parse(t);if(!i)return Object.assign(Object.assign({},T2),{didResolutionMetadata:{error:Na.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const u=this.didResolvers.get(i.method);if(!u)return Object.assign(Object.assign({},T2),{didResolutionMetadata:{error:Na.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const y=yield this.cache.get(i.uri);if(y)return y;{const d=yield u.resolve(i.uri,n);return d.didResolutionMetadata.error||(yield this.cache.set(i.uri,d)),d}})}dereference(t,n){return p9(this,void 0,void 0,function*(){const i=Lc.parse(t);if(!i)return{dereferencingMetadata:{error:Na.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:u,didResolutionMetadata:y,didDocumentMetadata:d}=yield this.resolve(i.uri);if(!u)return{dereferencingMetadata:{error:y.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:u,contentMetadata:d};const{service:m=[],verificationMethod:Z=[]}=u,G=new Set([t,i.fragment,`#${i.fragment}`]);let k;for(let ie of Z)if(G.has(ie.id)){k=ie;break}for(let ie of m)if(G.has(ie.id)){k=ie;break}return k?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:k,contentMetadata:y}:{dereferencingMetadata:{error:Na.NotFound},contentStream:null,contentMetadata:{}}})}}const y9={protocol:"http://identity.foundation/protocols/web5/identity-store",published:!1,types:{portableDid:{schema:"https://identity.foundation/schemas/web5/portable-did",dataFormats:["application/json"]},identityMetadata:{schema:"https://identity.foundation/schemas/web5/identity-metadata",dataFormats:["application/json"]}},structure:{portableDid:{},identityMetadata:{}}},FF={protocol:"http://identity.foundation/protocols/web5/jwk-store",published:!1,types:{privateJwk:{schema:"https://identity.foundation/schemas/web5/private-jwk",dataFormats:["application/json"]}},structure:{privateJwk:{}}};function g9(r){return!(!r||"object"!=typeof r||null===r)&&"uri"in r&&"document"in r&&"metadata"in r&&(!("keyManager"in r)||void 0===r.keyManager)}var nA=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};const Cp="^";class jF extends $y{constructor(){super(),this._predefinedKeys=new Map,this._keyGenerator=this._predefinedKeys.keys()}addPredefinedKeys({privateKeys:t}){var n;return nA(this,void 0,void 0,function*(){const i={};for(const u of t)null!==(n=u.kid)&&void 0!==n||(u.kid=yield Xs({jwk:u})),i[yield this.getKeyUri({key:u})]=u;this._predefinedKeys=new Map(Object.entries(i)),this._keyGenerator=this._predefinedKeys.keys()})}exportKey({keyUri:t}){return nA(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.exportKey: Key not found: ${t}`);return n})}generateKey(t){return nA(this,void 0,void 0,function*(){const{value:n,done:i}=this._keyGenerator.next();if(i)throw new Error("Ran out of predefined keys");return n})}getPublicKey({keyUri:t}){return nA(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.getPublicKey: Key not found: ${t}`);return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(n,["d"])})}sign({keyUri:t,data:n}){return nA(this,void 0,void 0,function*(){const i=this._predefinedKeys.get(t);if(!i)throw new Error(`DeterministicKeyGenerator.sign: Key not found: ${t}`);return yield vc.sign({data:n,key:i})})}}function Ev({agent:r,tenant:t,didUri:n}){return nA(this,void 0,void 0,function*(){if(t)return t;if(r.agentDid)return r.agentDid.uri;if(!n)throw new Error("Failed to determine tenant DID: 'agent.agentDid', 'tenant', and 'didUri' are undefined");return n})}var Mp=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class ok{constructor(){this.name="DwnDataStore",this._cache=new br.LC({ttl:O2("15 minutes"),max:100}),this._index=new br.LC({ttl:O2("2 hours"),max:1e3}),this._protocolInitializedCache=new br.LC({ttl:O2("1 hour"),max:1e3}),this._recordProperties={dataFormat:"application/json"}}delete({id:t,agent:n,tenant:i}){return Mp(this,void 0,void 0,function*(){const u=yield Ev({agent:n,tenant:i,didUri:t});let y=yield this.lookupRecordId({id:t,tenantDid:u,agent:n});if(!y)return!1;const{reply:{status:d}}=yield n.dwn.processRequest({author:u,target:u,messageType:Hc.RecordsDelete,messageParams:{recordId:y}});if(202===d.code)return this._index.delete(`${u}${Cp}${t}`),this._cache.delete(y),!0;throw new Error(`${this.name}: Failed to delete '${t}' from store: (${d.code}) ${d.detail}`)})}get({id:t,agent:n,tenant:i,useCache:u=!1}){return Mp(this,void 0,void 0,function*(){const y=yield Ev({agent:n,tenant:i,didUri:t});let d=yield this.lookupRecordId({id:t,tenantDid:y,agent:n});if(d)return yield this.getRecord({recordId:d,tenantDid:y,agent:n,useCache:u})})}list({agent:t,tenant:n}){return Mp(this,void 0,void 0,function*(){const i=yield Ev({tenant:n,agent:t});return yield this.getAllRecords({agent:t,tenantDid:i})})}set({id:t,data:n,tenant:i,agent:u,preventDuplicates:y=!0,useCache:d=!1}){return Mp(this,void 0,void 0,function*(){const m=yield Ev({agent:u,tenant:i,didUri:t});if(yield this.initialize({tenant:m,agent:u}),y&&(yield this.lookupRecordId({id:t,tenantDid:m,agent:u})))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const Z=br.U$.object(n).toUint8Array(),{message:G,reply:{status:k}}=yield u.dwn.processRequest({author:m,target:m,messageType:Hc.RecordsWrite,messageParams:Object.assign({},this._recordProperties),dataStream:new Blob([Z],{type:"application/json"})});if(!G||202!==k.code)throw new Error(`${this.name}: Failed to write data to store for: ${t}`);this._index.set(`${m}${Cp}${t}`,G.recordId),d&&this._cache.set(G.recordId,n)})}initialize({tenant:t,agent:n}){return Mp(this,void 0,void 0,function*(){const i=yield Ev({agent:n,tenant:t});if(this._protocolInitializedCache.has(i))return;const{reply:{status:u,entries:y}}=yield n.dwn.processRequest({author:i,target:i,messageType:Hc.ProtocolsQuery,messageParams:{filter:{protocol:this._recordProtocolDefinition.protocol}}});if(200!==u.code)throw new Error(`Failed to query for protocols: ${u.code} - ${u.detail}`);0===y?.length&&(yield this.installProtocol(i,n)),this._protocolInitializedCache.set(i,!0)})}getAllRecords(t){return Mp(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DwnDataStore must implement getAllRecords()")})}getRecord({recordId:t,tenantDid:n,agent:i,useCache:u}){var y;return Mp(this,void 0,void 0,function*(){if(u){const Z=this._cache.get(t);if(Z)return Z}const{reply:d}=yield i.dwn.processRequest({author:n,target:n,messageType:Hc.RecordsRead,messageParams:{filter:{recordId:t}}});if(null===(y=d.record)||void 0===y||!y.data)throw new Error(`${this.name}: Failed to read data from DWN for: ${t}`);const m=yield br.VS.consumeToJson({readable:d.record.data});return u&&this._cache.set(t,m),m})}installProtocol(t,n){return Mp(this,void 0,void 0,function*(){const{reply:{status:i}}=yield n.dwn.processRequest({author:t,target:t,messageType:Hc.ProtocolsConfigure,messageParams:{definition:this._recordProtocolDefinition}});if(202!==i.code)throw new Error(`Failed to install protocol: ${i.code} - ${i.detail}`)})}lookupRecordId({id:t,tenantDid:n,agent:i}){return Mp(this,void 0,void 0,function*(){let u=this._index.get(`${n}${Cp}${t}`,{updateAgeOnGet:!0});return u||(yield this.getAllRecords({agent:i,tenantDid:n}),u=this._index.get(`${n}${Cp}${t}`)),u})}}class sk{constructor(){this.name="InMemoryDataStore",this.store=new Map}delete({id:t,agent:n,tenant:i}){return Mp(this,void 0,void 0,function*(){const u=yield Ev({agent:n,tenant:i,didUri:t});return!!this.store.has(`${u}${Cp}${t}`)&&(this.store.delete(`${u}${Cp}${t}`),!0)})}get({id:t,agent:n,tenant:i}){return Mp(this,void 0,void 0,function*(){const u=yield Ev({agent:n,tenant:i,didUri:t});return this.store.get(`${u}${Cp}${t}`)})}list({agent:t,tenant:n}){return Mp(this,void 0,void 0,function*(){const i=yield Ev({tenant:n,agent:t}),u=[];for(const[y,d]of this.store.entries())y.startsWith(`${i}${Cp}`)&&u.push(d);return u})}set({id:t,data:n,tenant:i,agent:u,preventDuplicates:y}){return Mp(this,void 0,void 0,function*(){const d=yield Ev({agent:u,tenant:i,didUri:t});if(y&&this.store.has(`${d}${Cp}${t}`))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const m=structuredClone(n);this.store.set(`${d}${Cp}${t}`,m)})}}var xv=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class $F extends ok{constructor(){super(...arguments),this.name="DwnDidStore",this._recordProtocolDefinition=y9,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"portableDid",schema:this._recordProtocolDefinition.types.portableDid.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return xv(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return xv(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return xv(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return xv(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return xv(this,void 0,void 0,function*(){this._index.clear();const{reply:u}=yield t.dwn.processRequest({author:n,target:n,messageType:Hc.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let y=[];for(const d of null!==(i=u.entries)&&void 0!==i?i:[]){if(!d.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const m=br.U$.base64Url(d.encodedData).toObject();g9(m)&&(this._index.set(`${n}${Cp}${m.uri}`,d.recordId),this._cache.set(d.recordId,m),y.push(m))}return y})}}class KF extends sk{constructor(){super(...arguments),this.name="InMemoryDidStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return xv(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return xv(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return xv(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return xv(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var DI=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class VF{constructor({ttl:t="15m"}={}){this.cache=new br.LC({ttl:O2(t)})}get(t){return DI(this,void 0,void 0,function*(){if(!t)throw new Error("Key cannot be null or undefined");return this.cache.get(t)})}set(t,n){return DI(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return DI(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return DI(this,void 0,void 0,function*(){this.cache.clear()})}close(){return DI(this,void 0,void 0,function*(){})}}var T1=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},p4=function(r){return r.Create="Create",r.Resolve="Resolve",r}(p4||{});function v9(r,t){return r.messageType===t}class zF extends m9{constructor({agent:t,didMethods:n,resolverCache:i,store:u}){if(!n)throw new TypeError("AgentDidApi: Required parameter missing: 'didMethods'");super({didResolvers:n,cache:i??new VF}),this._didMethods=new Map,this._agent=t,this._store=u??new KF;for(const y of n)this._didMethods.set(y.methodName,y)}get agent(){if(void 0===this._agent)throw new Error("AgentDidApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({method:t,tenant:n,options:i,store:u}){return T1(this,void 0,void 0,function*(){const d=yield this.getMethod(t).create({keyManager:this.agent.keyManager,options:i});if(u??1){const{uri:m,document:Z,metadata:G}=d,k={uri:m,document:Z,metadata:G};yield this._store.set({id:k.uri,data:k,agent:this.agent,tenant:n??k.uri,preventDuplicates:!1,useCache:!0})}return d})}export({didUri:t,tenant:n}){return T1(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentDidApi: Failed to export due to DID not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return T1(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});return i?yield wv.import({portableDid:i,keyManager:this.agent.keyManager}):void 0})}getSigningMethod({didUri:t,methodId:n}){return T1(this,void 0,void 0,function*(){const i=Lc.parse(t);if(!i)throw new Error(`Invalid DID URI: ${t}`);const u=this.getMethod(i.method),{didDocument:y,didResolutionMetadata:d}=yield this.resolve(t);if(!y)throw new Error(`DID resolution failed for '${t}': ${JSON.stringify(d)}`);return yield u.getSigningMethod({didDocument:y,methodId:n})})}import({portableDid:t,tenant:n}){return T1(this,void 0,void 0,function*(){const i=yield wv.import({keyManager:this.agent.keyManager,portableDid:t}),{uri:u,document:y,metadata:d}=i,m={uri:u,document:y,metadata:d};return yield this._store.set({id:m.uri,data:m,agent:this.agent,tenant:n??m.uri,preventDuplicates:!0,useCache:!0}),i})}delete({didUri:t,tenant:n,deleteKey:i=!0}){return T1(this,void 0,void 0,function*(){const u=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!1});if(!u)throw new Error("AgentDidApi: Could not delete, DID not found");yield this._store.delete({id:t,agent:this.agent,tenant:n}),i&&(yield this.deleteKeys({portableDid:u}))})}deleteKeys({portableDid:t}){return T1(this,void 0,void 0,function*(){for(const n of t.document.verificationMethod||[]){if(!n.publicKeyJwk)continue;const i=yield this.agent.keyManager.getKeyUri({key:n.publicKeyJwk});yield this.agent.keyManager.deleteKey({keyUri:i})}})}processRequest(t){var n;return T1(this,void 0,void 0,function*(){if(v9(t,p4.Create))try{const i=yield this.create(Object.assign({},t.messageParams));return{result:{uri:i.uri,document:i.document,metadata:i.metadata},ok:!0,status:{code:201,message:"Created"}}}catch(i){return{ok:!1,status:{code:500,message:null!==(n=i.message)&&void 0!==n?n:"Unknown error occurred"}}}if(v9(t,p4.Resolve)){const{didUri:i,options:u}=t.messageParams;return{result:yield this.resolve(i,u),ok:!0,status:{code:200,message:"OK"}}}throw new Error(`AgentDidApi: Unsupported request type: ${t.messageType}`)})}getMethod(t){const n=this._didMethods.get(t);if(void 0===n)throw new Error(`DID Method not supported: ${t}`);return n}}var HF=A(85493),b9=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};function w9(r){return ak(r.stream())}function _9(r,t){return b9(this,void 0,void 0,function*(){const n=yield t.dereference(`${r}#dwn`);if(n.dereferencingMetadata.error)throw new Error(`Failed to dereference '${r}#dwn': ${n.dereferencingMetadata.error}`);if(function RF(r){if(!function DF(r){return!(!r||"object"!=typeof r||null===r)&&"id"in r&&"type"in r&&"serviceEndpoint"in r}(r)||"DecentralizedWebNode"!==r.type||!("enc"in r)||!("sig"in r))return!1;const t=n=>"string"==typeof n||Array.isArray(n)&&n.every(i=>"string"==typeof i);return t(r.enc)&&t(r.sig)}(n.contentStream)){const{serviceEndpoint:i}=n.contentStream,u="string"==typeof i?[i]:Array.isArray(i)&&i.every(y=>"string"==typeof y)?i:[];if(u.length>0)return u}return[]})}function WF(r){return Jo.getAuthor(r)}function m4(r){return!(!r||"object"!=typeof r||null===r)&&"message"in r&&"object"==typeof r.message&&null!==r.message&&"descriptor"in r.message&&"object"==typeof r.message.descriptor&&null!==r.message.descriptor&&"interface"in r.message.descriptor&&r.message.descriptor.interface===Ao.Records&&"method"in r.message.descriptor&&r.message.descriptor.method===Xi.Write}function GF(r){return fi.getCid(r)}function XF(r,t){return b9(this,void 0,void 0,function*(){const n=t===xu.CreatedAscending||t===xu.CreatedDescending?r.descriptor.dateCreated:r.descriptor.datePublished;if(void 0===n)throw new Error("The dateCreated or datePublished property is missing from the record descriptor.");return{messageCid:yield GF(r),value:n}})}function ak(r){return new HF.s(r)}function ck(r,t){return r.endsWith("/")&&(r=r.slice(0,-1)),t.startsWith("/")&&(t=t.slice(1)),`${r}/${t}`}var Sv=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};function YF(r,t){return t.descriptor.interface+t.descriptor.method===r}class JF{constructor({agent:t,dwn:n}){this._agent=t,this._dwn=n}get agent(){if(void 0===this._agent)throw new Error("AgentDwnApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}get node(){return this._dwn}static createDwn({dataPath:t,dataStore:n,didResolver:i,eventLog:u,eventStream:y,messageStore:d,tenantGate:m,resumableTaskStore:Z}){return Sv(this,void 0,void 0,function*(){return n??(n=new LL({blockstoreLocation:`${t}/DWN_DATASTORE`})),i??(i=new m9({didResolvers:[f4,PF],cache:new NF({location:`${t}/DID_RESOLVERCACHE`})})),u??(u=new HL({location:`${t}/DWN_EVENTLOG`})),d??(d=new HP({blockstoreLocation:`${t}/DWN_MESSAGESTORE`,indexLocation:`${t}/DWN_MESSAGEINDEX`})),Z??(Z=new QL({location:`${t}/DWN_RESUMABLETASKSTORE`})),yield vP.create({dataStore:n,didResolver:i,eventLog:u,eventStream:y,messageStore:d,tenantGate:m,resumableTaskStore:Z})})}processRequest(t){return Sv(this,void 0,void 0,function*(){const{message:n,dataStream:i}=yield this.constructDwnMessage({request:t}),{subscriptionHandler:u}=t;return{reply:!1!==t.store?yield this._dwn.processMessage(t.target,n,{dataStream:i,subscriptionHandler:u}):{status:{code:202,detail:"Accepted"}},message:n,messageCid:yield fi.getCid(n)}})}sendRequest(t){return Sv(this,void 0,void 0,function*(){const n=yield _9(t.target,this.agent.did);if(0===n.length)throw new Error(`AgentDwnApi: DID Service is missing or malformed: ${t.target}#dwn`);let i,u,y,d;if("messageCid"in t)({message:u,data:y}=yield this.getDwnMessage({author:t.author,messageCid:t.messageCid,messageType:t.messageType})),i=t.messageCid;else{if(({message:u}=yield this.constructDwnMessage({request:t})),t.dataStream&&!(t.dataStream instanceof Blob))throw new Error("AgentDwnApi: DataStream must be provided as a Blob");y=t.dataStream,d=t.subscriptionHandler}const m=yield this.sendDwnRpcRequest({targetDid:t.target,dwnEndpointUrls:n,message:u,data:y,subscriptionHandler:d});return i??(i=yield fi.getCid(u)),{reply:m,message:u,messageCid:i}})}sendDwnRpcRequest({targetDid:t,dwnEndpointUrls:n,message:i,data:u,subscriptionHandler:y}){return Sv(this,void 0,void 0,function*(){const d=[];if(i.descriptor.method===Xi.Subscribe&&void 0===y)throw new Error("AgentDwnApi: Subscription handler is required for subscription requests.");for(let m of n)try{if(void 0!==y){if(!(yield this.agent.rpc.getServerInfo(m)).webSocketSupport){d.push({url:m,message:"WebSocket support is not enabled on the server."});continue}const k=new URL(m);k.protocol="http:"===k.protocol?"ws:":"wss:",m=k.toString()}return yield this.agent.rpc.sendDwnRequest({dwnUrl:m,targetDid:t,message:i,data:u,subscriptionHandler:y})}catch(Z){d.push({url:m,message:Z instanceof Error?Z.message:"Unknown error"})}throw new Error(`Failed to send DWN RPC request: ${JSON.stringify(d)}`)})}constructDwnMessage({request:t}){var n;return Sv(this,void 0,void 0,function*(){const i=t.rawMessage;let u;if(function ZF(r,t){return r.messageType===t}(t,Hc.RecordsWrite)){const Z=t.messageParams;if(t.dataStream&&!Z?.data){const{dataStream:G}=t;let k;if(G instanceof Blob)k=w9(G),u=w9(G);else if(G instanceof ReadableStream){const[ie,Ue]=G.tee();k=ak(ie),u=ak(Ue)}i||(Z.dataCid=yield Rd.computeDagPbCidFromStream(k),null!==(n=Z.dataSize)&&void 0!==n||(Z.dataSize=k.bytesRead))}}const y=yield this.getSigner(t.author),d=ZN[t.messageType],m=i?yield d.parse(i):yield d.create(Object.assign(Object.assign({},t.messageParams),{signer:y}));return m4(m)&&t.signAsOwner&&(yield m.signAsOwner(y)),{message:m.message,dataStream:u}})}getSigner(t){return Sv(this,void 0,void 0,function*(){if(t===this.agent.agentDid.uri){const n=yield this.agent.agentDid.getSigner();return{algorithm:n.algorithm,keyId:n.keyId,sign:i=>Sv(this,void 0,void 0,function*(){return yield n.sign({data:i})})}}try{const n=yield this.agent.did.getSigningMethod({didUri:t});if(!n.publicKeyJwk)throw new Error(`Verification method '${n.id}' does not contain a public key in JWK format`);const i=yield this.agent.keyManager.getKeyUri({key:n.publicKeyJwk}),u=yield this.agent.keyManager.getPublicKey({keyUri:i}),y=this.agent.keyManager;return{algorithm:qN(u),keyId:n.id,sign:d=>Sv(this,void 0,void 0,function*(){return yield y.sign({data:d,keyUri:i})})}}catch(n){throw new Error(`AgentDwnApi: Unable to get signer for author '${t}': ${n.message}`)}})}getDwnMessage({author:t,messageCid:n}){return Sv(this,void 0,void 0,function*(){const i=yield this.getSigner(t),u=yield ZN[Hc.MessagesRead].create({messageCid:n,signer:i}),y=yield this._dwn.processMessage(t,u.message);if(200!==y.status.code)throw new Error(`AgentDwnApi: Failed to read message, response status: ${y.status.code} - ${y.status.detail}`);const d=y.entry;let Z={message:d.message};if(m4(d)&&d.data){const G=yield br.VS.consumeToBytes({readable:d.data});Z.data=new Blob([G],{type:d.message.descriptor.dataFormat})}return Z})}}var y4=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class RI{static registerTenant(t,n){return y4(this,void 0,void 0,function*(){const i=ck(t,"registration"),u=ck(i,"terms-of-service"),y=ck(i,"proof-of-work"),d=yield fetch(u,{method:"GET"});if(200!==d.status){const qe=d.status,pt=d.statusText,At=yield d.text();throw new Error(`Failed fetching terms-of-service: ${qe} ${pt}: ${At}`)}const m=yield d.text(),Z=yield fetch(y,{method:"GET"}),{challengeNonce:G,maximumAllowedHashValue:k}=yield Z.json(),ie={did:n,termsOfServiceHash:yield RI.hashAsHexString(m)},Ue=yield RI.findQualifiedResponseNonce({challengeNonce:G,maximumAllowedHashValue:k,requestData:JSON.stringify(ie)}),Ve=yield fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({registrationData:ie,proofOfWork:{challengeNonce:G,responseNonce:Ue}})});if(200!==Ve.status){const qe=Ve.status,pt=Ve.statusText,At=yield Ve.text();throw new Error(`Registration failed: ${qe} ${pt}: ${At}`)}})}static hashAsHexString(t){return y4(this,void 0,void 0,function*(){const n=yield GP.digest({data:br.U$.string(t).toUint8Array()});return br.U$.uint8Array(n).toHex()})}static findQualifiedResponseNonce(t){return y4(this,void 0,void 0,function*(){const n=Date.now(),{maximumAllowedHashValue:i,challengeNonce:u,requestData:y}=t,d=BigInt(`0x${i}`);let Z,m=1,G=!1;do{Z=yield this.generateNonce();const k=yield RI.hashAsHexString(u+Z+y);G=BigInt(`0x${k}`)<=d,m++}while(!G);return console.log(`iterations: ${m}, time lapsed: ${Date.now()-n} ms`),Z})}static generateNonce(){return y4(this,void 0,void 0,function*(){const t=QN(32);return yield br.U$.uint8Array(t).toHex().toUpperCase()})}}var lk=A(75781),qF=A(36405);const QF=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),E9=Uint8Array.from({length:16},(r,t)=>t);let dk=[E9],uk=[E9.map(r=>(9*r+5)%16)];for(let r=0;r<4;r++)for(let t of[dk,uk])t.push(t[r].map(n=>QF[n]));const x9=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),tU=dk.map((r,t)=>r.map(n=>x9[t][n])),nU=uk.map((r,t)=>r.map(n=>x9[t][n])),rU=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),iU=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),g4=(r,t)=>r<<t|r>>>32-t;function S9(r,t,n,i){return 0===r?t^n^i:1===r?t&n|~t&i:2===r?(t|~n)^i:3===r?t&i|n&~i:t^(n|~i)}const v4=new Uint32Array(16);class oU extends qF.D{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:i,h3:u,h4:y}=this;return[t,n,i,u,y]}set(t,n,i,u,y){this.h0=0|t,this.h1=0|n,this.h2=0|i,this.h3=0|u,this.h4=0|y}process(t,n){for(let He=0;He<16;He++,n+=4)v4[He]=t.getUint32(n,!0);let i=0|this.h0,u=i,y=0|this.h1,d=y,m=0|this.h2,Z=m,G=0|this.h3,k=G,ie=0|this.h4,Ue=ie;for(let He=0;He<5;He++){const Ve=4-He,qe=rU[He],pt=iU[He],At=dk[He],bt=uk[He],_t=tU[He],Ft=nU[He];for(let Xt=0;Xt<16;Xt++){const Ht=g4(i+S9(He,y,m,G)+v4[At[Xt]]+qe,_t[Xt])+ie|0;i=ie,ie=G,G=0|g4(m,10),m=y,y=Ht}for(let Xt=0;Xt<16;Xt++){const Ht=g4(u+S9(Ve,d,Z,k)+v4[bt[Xt]]+pt,Ft[Xt])+Ue|0;u=Ue,Ue=k,k=0|g4(Z,10),Z=d,d=Ht}}this.set(this.h1+m+k|0,this.h2+G+Ue|0,this.h3+ie+u|0,this.h4+i+d|0,this.h0+y+Z|0)}roundClean(){v4.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const sU=(0,Bf.ld)(()=>new oU);var fk=A(25431),Av=A(37099);const aU=(0,Bf.AI)("ed25519 seed"),hk=2147483648,A9=new Uint8Array([0]);function C9(r,...t){return"string"==typeof r&&(r=(0,Bf.aT)(r)),(0,Av.ee)(r,...t),r}const pk=r=>{if(!Number.isSafeInteger(r)||r<0||r>2**32-1)throw new Error(`Invalid number=${r}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return(0,Bf.O8)(t).setUint32(0,r,!1),t};class b4{get publicKeyRaw(){return kf.ev.getPublicKey(this.privateKey)}get publicKey(){return(0,Bf.Id)(A9,this.publicKeyRaw)}get pubHash(){return sU((0,C2.s)(this.publicKey))}get fingerprint(){return(0,Bf.O8)(this.pubHash).getUint32(0,!1)}get fingerprintHex(){return(0,Bf.My)(pk(this.fingerprint))}get parentFingerprintHex(){return(0,Bf.My)(pk(this.parentFingerprint))}static fromMasterSeed(t){if(8*(t=C9(t)).length<128||8*t.length>512)throw new Error(`HDKey: wrong seed length=${t.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=(0,lk.w)(fk.Zf,aU,t);return new b4({privateKey:n.slice(0,32),chainCode:n.slice(32)})}constructor(t){if(this.depth=0,this.index=0,this.parentFingerprint=0,!t||"object"!=typeof t)throw new Error("HDKey.constructor must not be called directly");if((0,Av.ee)(t.privateKey,32),(0,Av.ee)(t.chainCode,32),this.depth=t.depth||0,this.index=t.index||0,this.parentFingerprint=t.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");this.chainCode=t.chainCode,this.privateKey=t.privateKey}derive(t,n=!1){if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;const i=t.replace(/^[mM]'?\//,"").split("/");let u=this;for(const y of i){const d=/^(\d+)('?)$/.exec(y);if(!d||3!==d.length)throw new Error(`Invalid child index: ${y}`);let m=+d[1];if(!Number.isSafeInteger(m)||m>=hk)throw new Error("Invalid index");(n||"'"===d[2])&&(m+=hk),u=u.deriveChild(m)}return u}deriveChild(t){if(t<hk)throw new Error(`Non-hardened child derivation not possible for Ed25519 (index=${t})`);const n=(0,Bf.Id)(A9,this.privateKey,pk(t)),i=(0,lk.w)(fk.Zf,this.chainCode,n);return new b4({chainCode:i.slice(32),depth:this.depth+1,parentFingerprint:this.fingerprint,index:t,privateKey:i.slice(0,32)})}sign(t){return kf.ev.sign(t,this.privateKey)}verify(t,n){return n=C9(n,64),kf.ev.verify(n,t,this.publicKeyRaw)}}const M9="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");function mk(){return(mk=(0,Se.A)(function*(r,t,n,i){const{c:u,dkLen:y,asyncTick:d,DK:m,PRF:Z,PRFSalt:G}=function I9(r,t,n,i){(0,Av.tW)(r);const u=(0,Bf.tY)({dkLen:32,asyncTick:10},i),{c:y,dkLen:d,asyncTick:m}=u;if((0,Av.ai)(y),(0,Av.ai)(d),(0,Av.ai)(m),y<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const Z=(0,Bf.ZJ)(t),G=(0,Bf.ZJ)(n),k=new Uint8Array(d),ie=lk.w.create(r,Z),Ue=ie._cloneInto().update(G);return{c:y,dkLen:d,asyncTick:m,DK:k,PRF:ie,PRFSalt:Ue}}(r,t,n,i);let k;const ie=new Uint8Array(4),Ue=(0,Bf.O8)(ie),He=new Uint8Array(Z.outputLen);for(let Ve=1,qe=0;qe<y;Ve++,qe+=Z.outputLen){const pt=m.subarray(qe,qe+Z.outputLen);Ue.setInt32(0,Ve,!1),(k=G._cloneInto(k)).update(ie).digestInto(He),pt.set(He.subarray(0,pt.length)),yield(0,Bf.$h)(u-1,d,()=>{Z._cloneInto(k).update(He).digestInto(He);for(let At=0;At<pt.length;At++)pt[At]^=He[At]})}return function T9(r,t,n,i,u){return r.destroy(),t.destroy(),i&&i.destroy(),u.fill(0),n}(Z,G,m,k,He)})).apply(this,arguments)}var w4=A(53813);function D9(r){if("string"!=typeof r)throw new TypeError("Invalid mnemonic type: "+typeof r);return r.normalize("NFKD")}function yk(r){const t=D9(r),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function R9(r){(0,Av.ee)(r,16,20,24,28,32)}const hU=r=>{const t=8-r.length/4;return new Uint8Array([(0,C2.s)(r)[0]>>t<<t])};function O9(r){if(!Array.isArray(r)||2048!==r.length||"string"!=typeof r[0])throw new Error("Wordlist: expected array of 2048 strings");return r.forEach(t=>{if("string"!=typeof t)throw new Error(`Wordlist: non-string element: ${t}`)}),w4.Wp.chain(w4.Wp.checksum(1,hU),w4.Wp.radix2(11,!0),w4.Wp.alphabet(r))}function gU(r,t=""){return function dU(r,t,n,i){return mk.apply(this,arguments)}(fk.Zf,yk(r).nfkd,(r=>D9(`mnemonic${r}`))(t),{c:2048,dkLen:64})}var Cv=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class vU extends ok{constructor(){super(...arguments),this.name="DwnKeyStore",this._recordProtocolDefinition=FF,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"privateJwk",schema:this._recordProtocolDefinition.types.privateJwk.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return Cv(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return Cv(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return Cv(this,void 0,void 0,function*(){yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return Cv(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return Cv(this,void 0,void 0,function*(){this._index.clear();const{reply:u}=yield t.dwn.processRequest({author:n,target:n,messageType:Hc.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let y=[];for(const d of null!==(i=u.entries)&&void 0!==i?i:[]){if(!d.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const m=br.U$.base64Url(d.encodedData).toObject();ZP(m)&&(this._index.set(`${n}${Cp}${n4}${m.kid}`,d.recordId),this._cache.set(d.recordId,m),y.push(m))}return y})}}class bU extends sk{constructor(){super(...arguments),this.name="InMemoryKeyStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return Cv(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return Cv(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return Cv(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return Cv(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var Ip=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})},k9=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n};const gk={"AES-GCM":{implementation:class uF extends Fy{decrypt(t){return qP(this,void 0,void 0,function*(){return A1.decrypt(t)})}encrypt(t){return qP(this,void 0,void 0,function*(){return A1.encrypt(t)})}generateKey({algorithm:t}){return qP(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield A1.generateKey({length:n});return i.alg=t,i})}},names:["A128GCM","A192GCM","A256GCM"]},"AES-KW":{implementation:o9,names:["A128KW","A192KW","A256KW"]},Ed25519:{implementation:JN,names:["Ed25519"]},secp256k1:{implementation:o4,names:["ES256K","secp256k1"]},secp256r1:{implementation:o4,names:["ES256","secp256r1"]},"SHA-256":{implementation:XP,names:["SHA-256"]}};class P2{constructor({agent:t,keyStore:n}={}){this._algorithmInstances=new Map,this._agent=t,this._keyStore=n??new bU}get agent(){if(void 0===this._agent)throw new Error("LocalKeyManager: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}decrypt(t){var{keyUri:n}=t,i=k9(t,["keyUri"]);return Ip(this,void 0,void 0,function*(){const u=yield this.getPrivateKey({keyUri:n}),y=this.getAlgorithmName({key:u});return yield this.getAlgorithm({algorithm:y}).decrypt(Object.assign({key:u},i))})}digest(t){throw new Error("Method not implemented.")}encrypt(t){var{keyUri:n}=t,i=k9(t,["keyUri"]);return Ip(this,void 0,void 0,function*(){const u=yield this.getPrivateKey({keyUri:n}),y=this.getAlgorithmName({key:u});return yield this.getAlgorithm({algorithm:y}).encrypt(Object.assign({key:u},i))})}exportKey({keyUri:t}){return Ip(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){var n;return Ip(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:{alg:t}}),y=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t});null!==(n=y.kid)&&void 0!==n||(y.kid=yield Xs({jwk:y}));const d=yield this.getKeyUri({key:y});return yield this._keyStore.set({id:d,data:y,agent:this.agent,preventDuplicates:!1,useCache:!0}),d})}getKeyUri({key:t}){return Ip(this,void 0,void 0,function*(){const n=yield Xs({jwk:t});return`${n4}${n}`})}getPublicKey({keyUri:t}){return Ip(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return Ip(this,void 0,void 0,function*(){if(!ZP(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield Xs({jwk:i}));const u=yield this.getKeyUri({key:i});return yield this._keyStore.set({id:u,data:i,agent:this.agent,preventDuplicates:!0,useCache:!0}),u})}sign({keyUri:t,data:n}){return Ip(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),u=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:u}).sign({data:n,key:i})})}unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKeyUri:i}){return Ip(this,void 0,void 0,function*(){const u=yield this.getPrivateKey({keyUri:i}),y=this.getAlgorithmName({key:u});return yield this.getAlgorithm({algorithm:y}).unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:u})})}verify({key:t,signature:n,data:i}){return Ip(this,void 0,void 0,function*(){const u=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:u}).verify({key:t,signature:n,data:i})})}wrapKey({unwrappedKey:t,encryptionKeyUri:n}){return Ip(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:n}),u=this.getAlgorithmName({key:i});return yield this.getAlgorithm({algorithm:u}).wrapKey({unwrappedKey:t,encryptionKey:i})})}deleteKey({keyUri:t}){return Ip(this,void 0,void 0,function*(){if(!(yield this._keyStore.get({id:t,agent:this.agent,useCache:!0})))throw new Error(`Key not found: ${t}`);yield this._keyStore.delete({id:t,agent:this.agent})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=gk[t])||void 0===n?void 0:n.implementation;if(!i)throw new Mo(Io.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const u of Object.keys(gk)){const y=gk[u].names;if(n&&y.includes(n))return u;if(i&&y.includes(i))return u}throw new Mo(Io.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${n}, crv=${i}. Please check the documentation for the list of supported algorithms.`)}getPrivateKey({keyUri:t}){return Ip(this,void 0,void 0,function*(){const n=yield this._keyStore.get({id:t,agent:this.agent,useCache:!0});if(!n)throw new Error(`Key not found: ${t}`);return n})}}var B9=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};function vk(r){return"object"==typeof r&&null!==r&&"alg"in r&&void 0!==r.alg&&"enc"in r&&void 0!==r.enc}class N9{static decrypt({key:t,encryptedKey:n,joseHeader:i,crypto:u}){return B9(this,void 0,void 0,function*(){switch(i.alg){case"dir":if(void 0!==n)throw new Mo(Io.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new Mo(Io.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');return t;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof i.p2c)throw new Mo(Io.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof i.p2s)throw new Mo(Io.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new Mo(Io.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');if(void 0===n)throw new Mo(Io.InvalidJwe,'JWE "encrypted_key" is required when using "PBES2" (Key Encryption Mode).');let y;try{y=new Uint8Array([...br.U$.string(i.alg).toUint8Array(),0,...br.U$.base64Url(i.p2s).toUint8Array()])}catch{throw new Mo(Io.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const d=yield u.deriveKey({algorithm:i.alg,baseKeyBytes:t,iterations:i.p2c,salt:y});if(!d.alg||!["A128KW","A192KW","A256KW"].includes(d.alg))throw new Mo(Io.AlgorithmNotSupported,`Unsupported Key Encryption Algorithm (alg) value: ${d.alg}`);return yield u.unwrapKey({decryptionKey:d,wrappedKeyBytes:n,wrappedKeyAlgorithm:i.enc})}default:throw new Mo(Io.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${i.alg}`)}})}static encrypt({key:t,joseHeader:n,crypto:i}){return B9(this,void 0,void 0,function*(){let u,y;switch(n.alg){case"dir":if(void 0!==y)throw new Mo(Io.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new Mo(Io.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');u=t;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof n.p2c)throw new Mo(Io.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof n.p2s)throw new Mo(Io.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new Mo(Io.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');let d;u=yield i.generateKey({algorithm:n.enc});try{d=new Uint8Array([...br.U$.string(n.alg).toUint8Array(),0,...br.U$.base64Url(n.p2s).toUint8Array()])}catch{throw new Mo(Io.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const m=yield i.deriveKey({algorithm:n.alg,baseKeyBytes:t,iterations:n.p2c,salt:d});y=yield i.wrapKey({encryptionKey:m,unwrappedKey:u});break}default:throw new Mo(Io.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${n.alg}`)}return{cek:u,encryptedKey:y}})}}function _4(r){return null!==r&&"object"==typeof r&&"encrypt"in r&&"function"==typeof r.encrypt&&"decrypt"in r&&"function"==typeof r.decrypt}function L9(...r){const t=new Set,n=r.filter(Boolean);for(const i of n)for(const u in i){if(t.has(u))return!0;t.add(u)}return!1}var F9=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};function bk(r,t){if(void 0!==t)try{if("string"!=typeof t)throw new Error;return br.U$.base64Url(t).toUint8Array()}catch{throw new Mo(Io.InvalidJwe,`Failed to decode the JWE Header parameter '${r}' from Base64 URL format to Uint8Array. Ensure the value is properly encoded in Base64 URL format without padding.`)}}class E4{constructor(t){this.ciphertext="",Object.assign(this,t)}static decrypt({jwe:t,key:n,keyManager:i=new $y,crypto:u=new tA,options:y={}}){var d,m;return F9(this,void 0,void 0,function*(){if(!_4(u))throw new Mo(Io.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!_4(i))throw new Mo(Io.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!t.protected&&!t.header&&!t.unprotected)throw new Mo(Io.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protected", "header", or "unprotected"');if("string"!=typeof t.ciphertext)throw new Mo(Io.InvalidJwe,"JWE Ciphertext is missing or not a string.");let Z;if(t.protected)try{Z=br.U$.base64Url(t.protected).toObject()}catch{throw new Error("JWE Protected Header is invalid")}if(L9(Z,t.header,t.unprotected))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "header", "protected", and "unprotected" objects.');const G=Object.assign(Object.assign(Object.assign({},Z),t.header),t.unprotected);if(!vk(G))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');if(Array.isArray(y.allowedAlgValues)&&!y.allowedAlgValues.includes(G.alg))throw new Error(`"alg" (Algorithm) Header Parameter value not allowed: ${G.alg}`);if(Array.isArray(y.allowedEncValues)&&!y.allowedEncValues.includes(G.enc))throw new Error(`"enc" (Encryption Algorithm) Header Parameter value not allowed: ${G.enc}`);let k;try{const pt=t.encrypted_key?br.U$.base64Url(t.encrypted_key).toUint8Array():void 0;k=yield N9.decrypt({key:n,encryptedKey:pt,joseHeader:G,keyManager:i,crypto:u})}catch(pt){if(pt instanceof Mo&&(pt.code===Io.InvalidJwe||pt.code===Io.AlgorithmNotSupported))throw pt;k="string"==typeof n?yield i.generateKey({algorithm:G.enc}):yield u.generateKey({algorithm:G.enc})}const ie=bk("iv",t.iv),Ue=bk("tag",t.tag),He=void 0!==Ue?new Uint8Array([...br.U$.base64Url(t.ciphertext).toUint8Array(),...Ue??[]]):br.U$.base64Url(t.ciphertext).toUint8Array(),Ve=void 0!==t.aad?new Uint8Array([...br.U$.string(null!==(d=t.protected)&&void 0!==d?d:"").toUint8Array(),...br.U$.string(".").toUint8Array(),...br.U$.string(t.aad).toUint8Array()]):br.U$.string(null!==(m=t.protected)&&void 0!==m?m:"").toUint8Array();return{plaintext:"string"==typeof k?yield i.decrypt({keyUri:k,data:He,iv:ie,additionalData:Ve}):yield u.decrypt({key:k,data:He,iv:ie,additionalData:Ve}),protectedHeader:Z,additionalAuthenticatedData:bk("aad",t.aad),sharedUnprotectedHeader:t.unprotected,unprotectedHeader:t.header}})}static encrypt({key:t,plaintext:n,additionalAuthenticatedData:i,protectedHeader:u,sharedUnprotectedHeader:y,unprotectedHeader:d,keyManager:m=new $y,crypto:Z=new tA}){return F9(this,void 0,void 0,function*(){if(!_4(Z))throw new Mo(Io.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!_4(m))throw new Mo(Io.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!u&&!y&&!d)throw new Mo(Io.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protectedHeader", "sharedUnprotectedHeader", or "unprotectedHeader"');if(!(n instanceof Uint8Array))throw new Mo(Io.InvalidJwe,"Plaintext is missing or not a byte array.");if(L9(u,y,d))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "protectedHeader", "sharedUnprotectedHeader", and "unprotectedHeader" objects.');const G=Object.assign(Object.assign(Object.assign({},u),y),d);if(!vk(G))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');const{cek:k,encryptedKey:ie}=yield N9.encrypt({key:t,joseHeader:G,keyManager:m,crypto:Z});let Ue;switch(G.enc){case"A128GCM":case"A192GCM":case"A256GCM":Ue=QN(12);break;default:Ue=new Uint8Array(0)}const He=u?br.U$.object(u).toBase64Url():"";let Ve,qe;i?(qe=br.U$.uint8Array(i).toBase64Url(),Ve=br.U$.string(He+"."+qe).toUint8Array()):Ve=br.U$.string(He).toUint8Array();const pt="string"==typeof k?yield m.encrypt({keyUri:k,data:n,iv:Ue,additionalData:Ve}):yield Z.encrypt({key:k,data:n,iv:Ue,additionalData:Ve}),At=pt.slice(0,-16),bt=pt.slice(-16),_t=new E4({ciphertext:br.U$.uint8Array(At).toBase64Url()});return ie&&(_t.encrypted_key=br.U$.uint8Array(ie).toBase64Url()),u&&(_t.protected=He),y&&(_t.unprotected=y),d&&(_t.header=d),Ue&&(_t.iv=br.U$.uint8Array(Ue).toBase64Url()),qe&&(_t.aad=qe),bt&&(_t.tag=br.U$.uint8Array(bt).toBase64Url()),_t})}}var U9=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class rA{static decrypt({jwe:t,key:n,keyManager:i=new $y,crypto:u=new tA,options:y={}}){return U9(this,void 0,void 0,function*(){if("string"!=typeof t)throw new Mo(Io.InvalidJwe,"Invalid JWE format. JWE must be a string.");const{0:d,1:m,2:Z,3:G,4:k,length:ie}=t.split(".");if(5!==ie)throw new Mo(Io.InvalidJwe,"Invalid JWE format. JWE must have 5 parts.");const Ue=yield E4.decrypt({jwe:{ciphertext:G,encrypted_key:m||void 0,iv:Z||void 0,protected:d,tag:k||void 0},key:n,keyManager:i,crypto:u,options:y});if(!vk(Ue.protectedHeader))throw new Mo(Io.InvalidJwe,"Decrypt operation failed due to missing or malformed JWE Protected Header");return{plaintext:Ue.plaintext,protectedHeader:Ue.protectedHeader}})}static encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:u=new $y,crypto:y=new tA,options:d={}}){return U9(this,void 0,void 0,function*(){const m=yield E4.encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:u,crypto:y,options:d});return[m.protected,m.encrypted_key,m.iv,m.ciphertext,m.tag].join(".")})}}var b0=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};function j9(r){return"string"!=typeof r||0===r.trim().length}class EU{constructor({keyDerivationWorkFactor:t,store:n}={}){this.crypto=new tA,this._keyDerivationWorkFactor=t??21e4,this._store=n??new br.ny}backup(){return b0(this,void 0,void 0,function*(){if(this.isLocked()||!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the backup operation because the identity vault has not been initialized and unlocked. Please ensure the vault is properly initialized with a secure password before attempting to backup its contents.");const t={did:yield this.getStoredDid(),contentEncryptionKey:yield this.getStoredContentEncryptionKey(),status:yield this.getStatus()},n=br.U$.object(t).toBase64Url(),i={data:n,dateCreated:(new Date).toISOString(),size:n.length};return yield this.setStatus({lastBackup:i.dateCreated}),i})}changePassword({oldPassword:t,newPassword:n}){return b0(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the change password operation because the identity vault has not been initialized. Please ensure the vault is properly initialized with a secure password before trying again.");yield this.lock();const i=yield this.getStoredContentEncryptionKey();let u,y;try{let m;({plaintext:m,protectedHeader:u}=yield rA.decrypt({jwe:i,key:br.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new P2})),y=br.U$.uint8Array(m).toObject()}catch{throw new Error("HdIdentityVault: Unable to change the vault password due to an incorrectly entered old password.")}const d=yield rA.encrypt({key:br.U$.string(n).toUint8Array(),protectedHeader:u,plaintext:br.U$.object(y).toUint8Array(),crypto:this.crypto,keyManager:new P2});yield this._store.set("contentEncryptionKey",d),this._contentEncryptionKey=y})}getDid(){return b0(this,void 0,void 0,function*(){if(this.isLocked())throw new Error("HdIdentityVault: Vault has not been initialized and unlocked.");const t=yield this.getStoredDid(),{plaintext:n}=yield rA.decrypt({jwe:t,key:this._contentEncryptionKey,crypto:this.crypto,keyManager:new P2}),i=br.U$.uint8Array(n).toObject();if(!g9(i))throw new Error("HdIdentityVault: Unable to decode malformed DID in identity vault");return yield wv.import({portableDid:i})})}getStatus(){return b0(this,void 0,void 0,function*(){const t=yield this._store.get("vaultStatus");if(!t)return{initialized:!1,lastBackup:null,lastRestore:null};const n=br.U$.string(t).toObject();if(!function _U(r){return"object"==typeof r&&null!==r&&"initialized"in r&&"boolean"==typeof r.initialized&&"lastBackup"in r&&"lastRestore"in r}(n))throw new Error("HdIdentityVault: Invalid IdentityVaultStatus object in store");return n})}initialize({password:t,recoveryPhrase:n}){return b0(this,void 0,void 0,function*(){if(yield this.isInitialized())throw new Error("HdIdentityVault: Vault has already been initialized.");if(j9(t))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n&&j9(n))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n??(n=function fU(r,t=128){if((0,Av.ai)(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return function mU(r,t){return R9(r),O9(t).encode(r).join((r=>"\u3042\u3044\u3053\u304f\u3057\u3093"===r[0])(t)?"\u3000":" ")}((0,Bf.po)(t/8),r)}(M9,128)),!function yU(r,t){try{!function pU(r,t){const{words:n}=yk(r);R9(O9(t).decode(n))}(r,t)}catch{return!1}return!0}(n,M9))throw new Error("HdIdentityVault: The provided recovery phrase is invalid. Please ensure that the recovery phrase is a correctly formatted series of 12 words.");const i=yield gU(n),u=b4.fromMasterSeed(i),y=u.derive("m/44'/0'/0'/0'/0'"),d=yield this.crypto.deriveKey({algorithm:"HKDF-512",baseKeyBytes:y.privateKey,salt:"",info:"vault_cek",derivedKeyAlgorithm:"A256GCM"}),m=yield this.crypto.deriveKeyBytes({algorithm:"HKDF-512",baseKeyBytes:y.publicKey,salt:"",info:"vault_unlock_salt",length:256}),Z={alg:"PBES2-HS512+A256KW",enc:"A256GCM",cty:"text/plain",p2c:this._keyDerivationWorkFactor,p2s:br.U$.uint8Array(m).toBase64Url()},G=yield rA.encrypt({key:br.U$.string(t).toUint8Array(),protectedHeader:Z,plaintext:br.U$.object(d).toUint8Array(),crypto:this.crypto,keyManager:new P2});yield this._store.set("contentEncryptionKey",G);const k=u.derive("m/44'/0'/1708523827'/0'/0'"),ie=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:k.privateKey});let Ue=u.derive("m/44'/0'/1708523827'/0'/1'");const He=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:Ue.privateKey}),Ve=new jF;yield Ve.addPredefinedKeys({privateKeys:[ie,He]});const pt=yield(yield f4.create({keyManager:Ve,options:{verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]}]}})).export(),bt=yield rA.encrypt({key:d,plaintext:br.U$.object(pt).toUint8Array(),protectedHeader:{alg:"dir",enc:"A256GCM",cty:"json"},crypto:this.crypto,keyManager:new P2});return yield this._store.set("did",bt),this._contentEncryptionKey=d,yield this.setStatus({initialized:!0}),n})}isInitialized(){return b0(this,void 0,void 0,function*(){return this.getStatus().then(({initialized:t})=>t)})}isLocked(){return!this._contentEncryptionKey}lock(){return b0(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Lock operation failed. Vault has not been initialized.");this._contentEncryptionKey&&(this._contentEncryptionKey.k=""),this._contentEncryptionKey=void 0})}restore({backup:t,password:n}){return b0(this,void 0,void 0,function*(){if(!function wU(r){return"object"==typeof r&&null!==r&&"dateCreated"in r&&"string"==typeof r.dateCreated&&"size"in r&&"number"==typeof r.size&&"data"in r&&"string"==typeof r.data}(t))throw new Error("HdIdentityVault: Restore operation failed due to invalid backup object.");let i,u,y;try{y=yield this.getStoredDid(),u=yield this.getStoredContentEncryptionKey(),i=yield this.getStatus()}catch{throw new Error("HdIdentityVault: The restore operation cannot proceed because the existing vault contents are missing or inaccessible. If the problem persists consider re-initializing the vault and retrying the restore.")}try{const d=br.U$.base64Url(t.data).toObject();yield this._store.set("did",d.did),yield this._store.set("contentEncryptionKey",d.contentEncryptionKey),yield this.setStatus(d.status),yield this.unlock({password:n})}catch{throw yield this.setStatus(i),yield this._store.set("contentEncryptionKey",u),yield this._store.set("did",y),new Error("HdIdentityVault: Restore operation failed due to invalid backup data or an incorrect password. Please verify the password is correct for the provided backup and try again.")}yield this.setStatus({lastRestore:(new Date).toISOString()})})}unlock({password:t}){return b0(this,void 0,void 0,function*(){yield this.lock();const n=yield this.getStoredContentEncryptionKey();try{const{plaintext:i}=yield rA.decrypt({jwe:n,key:br.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new P2}),u=br.U$.uint8Array(i).toObject();this._contentEncryptionKey=u}catch{throw new Error("HdIdentityVault: Unable to unlock the vault due to an incorrect password.")}})}getStoredDid(){return b0(this,void 0,void 0,function*(){const t=yield this._store.get("did");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the DID record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}getStoredContentEncryptionKey(){return b0(this,void 0,void 0,function*(){const t=yield this._store.get("contentEncryptionKey");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the Content Encryption Key record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}setStatus({initialized:t,lastBackup:n,lastRestore:i}){return b0(this,void 0,void 0,function*(){let u=yield this.getStatus();return u.initialized=t??u.initialized,u.lastBackup=n??u.lastBackup,u.lastRestore=i??u.lastRestore,yield this._store.set("vaultStatus",JSON.stringify(u)),!0})}}var Mv=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class SU extends ok{constructor(){super(...arguments),this.name="DwnIdentityStore",this._recordProtocolDefinition=y9,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"identityMetadata",schema:this._recordProtocolDefinition.types.identityMetadata.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return Mv(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return Mv(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return Mv(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return Mv(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return Mv(this,void 0,void 0,function*(){this._index.clear();const{reply:u}=yield t.dwn.processRequest({author:n,target:n,messageType:Hc.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let y=[];for(const d of null!==(i=u.entries)&&void 0!==i?i:[]){if(!d.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const m=br.U$.base64Url(d.encodedData).toObject();(r=m)&&"object"==typeof r&&null!==r&&"name"in r&&(this._index.set(`${n}${Cp}${m.uri}`,d.recordId),this._cache.set(d.recordId,m),y.push(m))}var r;return y})}}class AU extends sk{constructor(){super(...arguments),this.name="InMemoryIdentityStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return Mv(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return Mv(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return Mv(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return Mv(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var k2=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class CU{constructor({agent:t,store:n}={}){this._agent=t,this._store=n??new AU}get agent(){if(void 0===this._agent)throw new Error("AgentIdentityApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({metadata:t,didMethod:n="dht",didOptions:i,store:u,tenant:y}){return k2(this,void 0,void 0,function*(){const d=yield this.agent.did.create({method:n,options:i,store:u,tenant:y}),m=new e4({did:d,metadata:Object.assign(Object.assign({},t),{uri:d.uri,tenant:y??d.uri})});return(u??!0)&&(yield this._store.set({id:m.did.uri,data:m.metadata,agent:this.agent,tenant:m.metadata.tenant,preventDuplicates:!1,useCache:!0})),m})}export({didUri:t,tenant:n}){return k2(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentIdentityApi: Failed to export due to Identity not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return k2(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});if(!i)return;const u=yield this.agent.did.get({didUri:t,tenant:i.tenant});if(!u)throw new Error(`AgentIdentityApi: Identity is present in the store but DID is missing: ${t}`);return new e4({did:u,metadata:i})})}import({portableIdentity:t}){return k2(this,void 0,void 0,function*(){const n=yield this.agent.did.import({portableDid:t.portableDid,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to import Identity: ${t.metadata.uri}`);const i=new e4({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,tenant:i.metadata.tenant,preventDuplicates:!0,useCache:!0}),i})}list({tenant:t}={}){return k2(this,void 0,void 0,function*(){const n=yield this._store.list({agent:this.agent,tenant:t}),i=[];for(const u of n){const y=yield this.get({didUri:u.uri,tenant:u.tenant});i.push(y)}return i})}manage({portableIdentity:t}){return k2(this,void 0,void 0,function*(){const n=yield this.agent.did.get({didUri:t.metadata.uri,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to manage Identity: ${t.metadata.uri}`);const i=new e4({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,preventDuplicates:!0,useCache:!0}),i})}delete({didUri:t,tenant:n}){return k2(this,void 0,void 0,function*(){if(!(yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0})))throw new Error(`AgentIdentityApi: Failed to purge due to Identity not found: ${t}`);yield this._store.delete({id:t,agent:this.agent,tenant:n})})}}const wk=(r,t,n)=>({jsonrpc:"2.0",id:r,method:t,params:n}),$9=(r,t,n,i)=>({jsonrpc:"2.0",id:r,method:`rpc.subscribe.${t}`,params:i,subscription:{id:n}});function x4(r){try{return JSON.parse(r)}catch{return null}}var OI=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class IU{constructor({ttl:t="15m"}={}){this.cache=new br.LC({ttl:O2(t)})}get(t){return OI(this,void 0,void 0,function*(){return this.cache.get(t)})}set(t,n){return OI(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return OI(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return OI(this,void 0,void 0,function*(){this.cache.clear()})}close(){return OI(this,void 0,void 0,function*(){})}}var K9=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class TU{constructor(t){this.serverInfoCache=t??new IU}get transportProtocols(){return["http:","https:"]}sendDwnRequest(t){return K9(this,void 0,void 0,function*(){const n=M2(),i=wk(n,"dwn.processMessage",{target:t.targetDid,message:t.message}),u={method:"POST",headers:{"dwn-request":JSON.stringify(i)}};t.data&&(u.headers["content-type"]="application/octet-stream",u.body=t.data);const y=yield fetch(t.dwnUrl,u);let d,m;const{headers:Z}=y;if(Z.has("dwn-response")){const k=x4(Z.get("dwn-response"));if(null==k)throw new Error(`failed to parse json rpc response. dwn url: ${t.dwnUrl}`);m=y.body,d=k}else{const k=yield y.text();d=JSON.parse(k)}if(d.error){const{code:k,message:ie}=d.error;throw new Error(`(${k}) - ${ie}`)}const{reply:G}=d.result;return m&&G.record?G.record.data=m:m&&G.entry&&(G.entry.data=m),G})}getServerInfo(t){return K9(this,void 0,void 0,function*(){const n=yield this.serverInfoCache.get(t);if(n)return n;const i=new URL(t);i.pathname.endsWith("/")?i.pathname+="info":i.pathname+="/info";try{const u=yield fetch(i.toString());if(u.ok){const y=yield u.json(),d={registrationRequirements:y.registrationRequirements,maxFileSize:y.maxFileSize,webSocketSupport:y.webSocketSupport};return this.serverInfoCache.set(t,d),d}throw new Error(`HTTP (${u.status}) - ${u.statusText}`)}catch(u){throw new Error(`Error encountered while processing response from ${i.toString()}: ${u.message}`)}})}}var iA=null;typeof WebSocket<"u"?iA=WebSocket:typeof MozWebSocket<"u"?iA=MozWebSocket:typeof globalThis<"u"?iA=globalThis.WebSocket||globalThis.MozWebSocket:typeof window<"u"?iA=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(iA=self.WebSocket||self.MozWebSocket);const DU=iA;var S4=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};const RU=3e3,OU=3e4;class _k{constructor(t,n){this.socket=t,this.responseTimeout=n,this.messageHandlers=new Map}static connect(t,n={}){return S4(this,void 0,void 0,function*(){const{connectTimeout:i=RU,responseTimeout:u=OU,onclose:y,onerror:d}=n,m=new DU(t);return m.onclose=y||(()=>{console.info(`JSON RPC Socket close ${t}`)}),m.onerror=d||(Z=>{console.error(`JSON RPC Socket error ${t}`,Z)}),new Promise((Z,G)=>{m.addEventListener("open",()=>{const k=new _k(m,u);m.addEventListener("message",ie=>{const Ue=x4(ie.data),He=k.messageHandlers.get(Ue.id);He&&He(ie)}),Z(k)}),m.addEventListener("error",k=>{G(k)}),setTimeout(()=>G,i)})})}close(){this.socket.close()}request(t){return S4(this,void 0,void 0,function*(){return new Promise((n,i)=>{var u;null!==(u=t.id)&&void 0!==u||(t.id=M2()),this.messageHandlers.set(t.id,d=>{const m=x4(d.data);if(m.id===t.id)return this.messageHandlers.delete(t.id),n(m)}),this.send(t),setTimeout(()=>{this.messageHandlers.delete(t.id),i(new Error("request timed out"))},this.responseTimeout)})})}subscribe(t,n){return S4(this,void 0,void 0,function*(){if(!t.method.startsWith("rpc.subscribe."))throw new Error("subscribe rpc requests must include the `rpc.subscribe` prefix");if(!t.subscription)throw new Error("subscribe rpc requests must include subscribe options");const i=t.subscription.id;this.messageHandlers.set(i,m=>{const Z=x4(m.data.toString());Z.id===i&&(void 0!==Z.error&&(this.messageHandlers.delete(i),this.closeSubscription(i)),n(Z))});const y=yield this.request(t);return y.error?(this.messageHandlers.delete(i),{response:y}):{response:y,close:()=>S4(this,void 0,void 0,function*(){this.messageHandlers.delete(i),yield this.closeSubscription(i)})}})}closeSubscription(t){const n=M2(),i=$9(n,"close",t,{});return this.request(i)}send(t){this.socket.send(JSON.stringify(t))}}var Ek=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class D1{get transportProtocols(){return["ws:","wss:"]}sendDwnRequest(t,n){return Ek(this,void 0,void 0,function*(){const i=new URL(t.dwnUrl);if("ws:"!==i.protocol&&"wss:"!==i.protocol)throw new Error(`Invalid websocket protocol ${i.protocol}`);if(!D1.connections.has(i.host))try{const G=yield _k.connect(i.toString(),n);D1.connections.set(i.host,{socket:G,subscriptions:new Map})}catch(G){throw new Error(`Error connecting to ${i.host}: ${G.message}`)}const y=D1.connections.get(i.host),{targetDid:d,message:m,subscriptionHandler:Z}=t;return Z?D1.subscriptionRequest(y,d,m,Z):D1.processMessage(y,d,m)})}static processMessage(t,n,i){return Ek(this,void 0,void 0,function*(){const u=M2(),y=wk(u,"dwn.processMessage",{target:n,message:i}),{socket:d}=t,m=yield d.request(y),{error:Z,result:G}=m;if(void 0!==Z)throw new Error(`error sending DWN request: ${Z.message}`);return G.reply})}static subscriptionRequest(t,n,i,u){return Ek(this,void 0,void 0,function*(){const y=M2(),d=M2(),m=$9(y,"dwn.processMessage",d,{target:n,message:i}),{socket:Z,subscriptions:G}=t,{response:k,close:ie}=yield Z.subscribe(m,qe=>{const{result:pt,error:At}=qe;if(At){const _t=G.get(d);return _t&&_t.close(),void G.delete(d)}const{event:bt}=pt;u(bt)}),{error:Ue,result:He}=k;if(Ue)throw new Error(`could not subscribe via jsonrpc socket: ${Ue.message}`);const{reply:Ve}=He;return Ve.subscription&&ie&&(G.set(d,Object.assign(Object.assign({},Ve.subscription),{close:ie})),Ve.subscription.close=ie),Ve})}}D1.connections=new Map;var PI=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class kU{constructor(t=[]){this.transportClients=new Map,t=[new BU,new NU,...t];for(let n of t)for(let i of n.transportProtocols)this.transportClients.set(i,n)}get transportProtocols(){return Array.from(this.transportClients.keys())}sendDidRequest(t){return PI(this,void 0,void 0,function*(){const n=new URL(t.url),i=this.transportClients.get(n.protocol);if(!i){const u=new Error(`no ${n.protocol} transport client available`);throw u.name="NO_TRANSPORT_CLIENT",u}return i.sendDidRequest(t)})}sendDwnRequest(t){const n=new URL(t.dwnUrl),i=this.transportClients.get(n.protocol);if(!i){const u=new Error(`no ${n.protocol} transport client available`);throw u.name="NO_TRANSPORT_CLIENT",u}return i.sendDwnRequest(t)}getServerInfo(t){return PI(this,void 0,void 0,function*(){const n=new URL(t),i=this.transportClients.get(n.protocol);if(!i){const u=new Error(`no ${n.protocol} transport client available`);throw u.name="NO_TRANSPORT_CLIENT",u}return i.getServerInfo(t)})}}class BU extends TU{sendDidRequest(t){return PI(this,void 0,void 0,function*(){const n=M2(),i=wk(n,t.method,{data:t.data}),u=new Request(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});let y;try{const d=yield fetch(u);if(!d.ok)throw new Error(`HTTP (${d.status}) - ${d.statusText}`);if(y=yield d.json(),y.error){const{code:m,message:Z}=y.error;throw new Error(`JSON RPC (${m}) - ${Z}`)}}catch(d){throw new Error(`Error encountered while processing response from ${t.url}: ${d.message}`)}return y.result})}}class NU extends D1{sendDidRequest(t){return PI(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}getServerInfo(t){return PI(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}}class FU{constructor({agent:t,syncEngine:n}){this._syncEngine=n,this._agent=t}get agent(){if(void 0===this._agent)throw new Error("AgentSyncApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t,this._syncEngine.agent=t}registerIdentity(t){return function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){yield this._syncEngine.registerIdentity(t)})}startSync(t){return this._syncEngine.startSync(t)}stopSync(){this._syncEngine.stopSync()}}var Yh=function(r,t,n,i){return new(n||(n=Promise))(function(y,d){function m(k){try{G(i.next(k))}catch(ie){d(ie)}}function Z(k){try{G(i.throw(k))}catch(ie){d(ie)}}function G(k){k.done?y(k.value):function u(y){return y instanceof n?y:new n(function(d){d(y)})}(k.value).then(m,Z)}G((i=i.apply(r,t||[])).next())})};class A4{constructor({agent:t,dataPath:n,db:i}){this._agent=t,this._db=i||new gN.Level(n??"DATA/AGENT/SYNC_STORE"),this._ulidFactory=GN()}get agent(){if(void 0===this._agent)throw new Error("SyncEngineLevel: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}clear(){return Yh(this,void 0,void 0,function*(){yield this._db.clear()})}close(){return Yh(this,void 0,void 0,function*(){yield this._db.close()})}pull(){var t;return Yh(this,void 0,void 0,function*(){const n=yield this.getSyncPeerState({syncDirection:"pull"});yield this.enqueueOperations({syncDirection:"pull",syncPeerState:n});const i=this.getPullQueue(),u=yield i.iterator().all(),y=[],d=new Set;for(let m of u){const[Z]=m,[G,k,ie,Ue]=Z.split("~");if(d.has(k))continue;if(yield this.messageExists(G,Ue)){y.push({type:"del",key:Z});continue}const Ve=yield this.agent.processDwnRequest({store:!1,author:G,target:G,messageType:Hc.MessagesRead,messageParams:{messageCid:Ue}});let qe;try{qe=yield this.agent.rpc.sendDwnRequest({dwnUrl:k,targetDid:G,message:Ve.message})}catch{d.add(k);continue}if(200!==qe.status.code||null===(t=qe.entry)||void 0===t||!t.message){yield this.addMessage(G,Ue),y.push({type:"del",key:Z});continue}const pt=qe.entry,At=pt.message,bt=m4(pt)&&pt.data?br.VS.fromWebReadable({readableStream:pt.data}):void 0,_t=yield this.agent.dwn.node.processMessage(G,At,{dataStream:bt});A4.syncMessageReplyIsSuccessful(_t)&&(yield this.addMessage(G,Ue),y.push({type:"del",key:Z}))}yield i.batch(y)})}push(){return Yh(this,void 0,void 0,function*(){const t=yield this.getSyncPeerState({syncDirection:"push"});yield this.enqueueOperations({syncDirection:"push",syncPeerState:t});const n=this.getPushQueue(),i=yield n.iterator().all(),u=[],y=new Set;for(let d of i){const[m]=d,[Z,G,k,ie]=m.split("~");if(y.has(G))continue;const Ue=yield this.getDwnMessage({author:Z,messageCid:ie});if(Ue)try{const He=yield this.agent.rpc.sendDwnRequest({dwnUrl:G,targetDid:Z,data:Ue.data,message:Ue.message});A4.syncMessageReplyIsSuccessful(He)&&(yield this.addMessage(Z,ie),u.push({type:"del",key:m}))}catch{y.add(G)}else u.push({type:"del",key:m}),yield this.addMessage(Z,ie)}yield n.batch(u)})}registerIdentity({did:t}){return Yh(this,void 0,void 0,function*(){yield this._db.sublevel("registeredIdentities").put(t,"")})}startSync({interval:t}){const n=O2(t);return new Promise((i,u)=>{const y=()=>Yh(this,void 0,void 0,function*(){this._syncIntervalId&&clearInterval(this._syncIntervalId);try{yield this.push(),yield this.pull()}catch(d){this.stopSync(),u(d)}this._syncIntervalId=setInterval(y,n)});this._syncIntervalId=setInterval(y,n)})}stopSync(){this._syncIntervalId&&(clearInterval(this._syncIntervalId),this._syncIntervalId=void 0)}static syncMessageReplyIsSuccessful(t){var n,i;return 202===t.status.code||409===t.status.code||(null===(n=t.entry)||void 0===n?void 0:n.message.descriptor.interface)===Ao.Records&&(null===(i=t.entry)||void 0===i?void 0:i.message.descriptor.method)===Xi.Delete&&404===t.status.code}enqueueOperations({syncDirection:t,syncPeerState:n}){return Yh(this,void 0,void 0,function*(){for(let i of n){const u=yield this.getDwnEventLog({did:i.did,dwnUrl:i.dwnUrl,cursor:i.cursor,syncDirection:t}),y=[];for(let d of u){const m=this._ulidFactory(),Z=[i.did,i.dwnUrl,m,d].join("~");y.push({type:"put",key:Z,value:""})}y.length>0&&(yield("pull"===t?this.getPullQueue():this.getPushQueue()).batch(y))}})}getDwnEventLog({did:t,dwnUrl:n,syncDirection:i,cursor:u}){var y;return Yh(this,void 0,void 0,function*(){let d={};if("pull"===i){const Z=yield this.agent.dwn.processRequest({store:!1,target:t,author:t,messageType:Hc.MessagesQuery,messageParams:{filters:[],cursor:u}});try{d=yield this.agent.rpc.sendDwnRequest({dwnUrl:n,targetDid:t,message:Z.message})}catch{}}else"push"===i&&(d=(yield this.agent.dwn.processRequest({author:t,target:t,messageType:Hc.MessagesQuery,messageParams:{filters:[],cursor:u}})).reply);const m=null!==(y=d.entries)&&void 0!==y?y:[];return d.cursor&&this.setCursor(t,n,i,d.cursor),m})}getDwnMessage({author:t,messageCid:n}){return Yh(this,void 0,void 0,function*(){let{reply:i}=yield this.agent.dwn.processRequest({author:t,target:t,messageType:Hc.MessagesRead,messageParams:{messageCid:n}});if(200!==i.status.code||!i.entry)return;const u=i.entry;let y={message:u.message};if(m4(u)&&u.data){const d=yield br.VS.consumeToBytes({readable:u.data});y.data=new Blob([d],{type:u.message.descriptor.dataFormat})}return y})}getSyncPeerState({syncDirection:t}){return Yh(this,void 0,void 0,function*(){const n=yield this._db.sublevel("registeredIdentities").keys().all(),i=[];for(let u of n){const y=yield _9(u,this.agent.did);if(0!==y.length)for(let d of y){const m=yield this.getCursor(u,d,t);i.push({did:u,dwnUrl:d,cursor:m})}}return i})}getCursor(t,n,i){return Yh(this,void 0,void 0,function*(){const u=`${t}~${n}~${i}`,y=this.getCursorStore();try{const d=yield y.get(u);if(d)return JSON.parse(d)}catch(d){if(d.notFound)return}})}setCursor(t,n,i,u){return Yh(this,void 0,void 0,function*(){const y=`${t}~${n}~${i}`;yield this.getCursorStore().put(y,JSON.stringify(u))})}messageExists(t,n){return Yh(this,void 0,void 0,function*(){const i=this.getMessageStore(t);try{return yield i.get(n),!0}catch(u){if(u.notFound)return!1;throw u}})}addMessage(t,n){return Yh(this,void 0,void 0,function*(){return yield this.getMessageStore(t).put(n,"")})}getMessageStore(t){return this._db.sublevel("history").sublevel(t).sublevel("messages")}getCursorStore(){return this._db.sublevel("cursors")}getPushQueue(){return this._db.sublevel("pushQueue")}getPullQueue(){return this._db.sublevel("pullQueue")}}},74862:(Ye,J,A)=>{"use strict";A.d(J,{uW:()=>Ns});var h=A(62590),x=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};class Y{constructor(Pe){this.agent=Pe.agent,this.connectedDid=Pe.connectedDid}create(Pe){return x(this,void 0,void 0,function*(){const xe=yield this.agent.processDidRequest({messageType:h.B2.Create,messageParams:Object.assign({},Pe)}),{result:Ce}=xe,ot=function(it,Pe){var xe={};for(var Ce in it)Object.prototype.hasOwnProperty.call(it,Ce)&&Pe.indexOf(Ce)<0&&(xe[Ce]=it[Ce]);if(null!=it&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(Ce=Object.getOwnPropertySymbols(it);ot<Ce.length;ot++)Pe.indexOf(Ce[ot])<0&&Object.prototype.propertyIsEnumerable.call(it,Ce[ot])&&(xe[Ce[ot]]=it[Ce[ot]])}return xe}(xe,["result"]);return Object.assign({did:Ce},ot)})}resolve(Pe,xe){return x(this,void 0,void 0,function*(){const{result:Ce}=yield this.agent.processDidRequest({messageParams:{didUri:Pe,options:xe},messageType:h.B2.Resolve});return Ce})}}var M=A(37475);function j(it,Pe){let xe;const Ce=(0,M.fc)(it);if("text/plain"===Pe||"String"===Ce)xe=new Blob([it],{type:"text/plain"});else if("application/json"===Pe||"Object"===Ce){const ot=M.U$.object(it).toUint8Array();xe=new Blob([ot],{type:"application/json"})}else if("Uint8Array"===Ce||"ArrayBuffer"===Ce)xe=new Blob([it],{type:"application/octet-stream"});else{if("Blob"!==Ce)throw new Error("data type not supported.");xe=it}return{dataBlob:xe,dataFormat:Pe=Pe||xe.type||"application/octet-stream"}}class R{static check(Pe,xe){let Ce=R.cache.get(Pe);return!!Ce&&Ce.has(xe)}static set(Pe,xe){let Ce=R.cache.get(Pe)||new Set;if(R.cache.delete(Pe),R.cache.set(Pe,Ce),this.cache.size>R.sendCacheLimit){const ot=R.cache.keys().next().value;R.cache.delete(ot)}if(Ce.delete(xe),Ce.add(xe),Ce.size>R.sendCacheLimit){const ot=Ce.keys().next().value;Ce.delete(ot)}}}R.cache=new Map,R.sendCacheLimit=100;var U=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})},H=function(it,Pe){var xe={};for(var Ce in it)Object.prototype.hasOwnProperty.call(it,Ce)&&Pe.indexOf(Ce)<0&&(xe[Ce]=it[Ce]);if(null!=it&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(Ce=Object.getOwnPropertySymbols(it);ot<Ce.length;ot++)Pe.indexOf(Ce[ot])<0&&Object.prototype.propertyIsEnumerable.call(it,Ce[ot])&&(xe[Ce[ot]]=it[Ce[ot]])}return xe};let V=(()=>{class it{get _recordsWriteDescriptor(){if((0,h.pO)(h.nx.RecordsWrite,this.rawMessage))return this._descriptor}get _immutableProperties(){return this._recordsWriteDescriptor||this._initialWrite.descriptor}get id(){return this._recordId}get contextId(){return this._contextId}get dateCreated(){return this._immutableProperties.dateCreated}get parentId(){return this._immutableProperties.parentId}get protocol(){return this._immutableProperties.protocol}get protocolPath(){return this._immutableProperties.protocolPath}get recipient(){return this._immutableProperties.recipient}get schema(){return this._immutableProperties.schema}get dataFormat(){var xe;return null===(xe=this._recordsWriteDescriptor)||void 0===xe?void 0:xe.dataFormat}get dataCid(){var xe;return null===(xe=this._recordsWriteDescriptor)||void 0===xe?void 0:xe.dataCid}get dataSize(){var xe;return null===(xe=this._recordsWriteDescriptor)||void 0===xe?void 0:xe.dataSize}get datePublished(){var xe;return null===(xe=this._recordsWriteDescriptor)||void 0===xe?void 0:xe.datePublished}get published(){var xe;return null===(xe=this._recordsWriteDescriptor)||void 0===xe?void 0:xe.published}get tags(){var xe;return null===(xe=this._recordsWriteDescriptor)||void 0===xe?void 0:xe.tags}get author(){return this._author}get dateModified(){return this._descriptor.messageTimestamp}get encryption(){return this._encryption}get authorization(){return this._authorization}get attestation(){return this._attestation}get protocolRole(){return this._protocolRole}get deleted(){return(0,h.pO)(h.nx.RecordsDelete,this.rawMessage)}get initialWrite(){return this._initialWrite}get rawMessage(){let Ce;return Ce=this._descriptor.interface+this._descriptor.method===h.nx.RecordsWrite?JSON.parse(JSON.stringify({contextId:this._contextId,recordId:this._recordId,descriptor:this._descriptor,attestation:this._attestation,authorization:this._authorization,encryption:this._encryption})):JSON.parse(JSON.stringify({descriptor:this._descriptor,authorization:this._authorization})),(0,M.E8)(Ce),Ce}constructor(xe,Ce){this._agent=xe,this._author=Ce.author,this._connectedDid=Ce.connectedDid,this._remoteOrigin=Ce.remoteOrigin,this._attestation=Ce.attestation,this._authorization=Ce.authorization,this._contextId=Ce.contextId,this._descriptor=Ce.descriptor,this._encryption=Ce.encryption,this._initialWrite=Ce.initialWrite,this._recordId=Ce.recordId,this._protocolRole=Ce.protocolRole,Ce.encodedData&&(this._encodedData="string"==typeof Ce.encodedData?new Blob([M.U$.base64Url(Ce.encodedData).toUint8Array()],{type:this.dataFormat}):Ce.encodedData),Ce.data&&(this._readableStream=M.Z6.isReadableStream(Ce.data)?M.VS.fromWebReadable({readableStream:Ce.data}):Ce.data)}get data(){const xe=this;return{blob(){return U(this,void 0,void 0,function*(){return new Blob([yield M.VS.consumeToBytes({readable:yield this.stream()})],{type:xe.dataFormat})})},bytes(){return U(this,void 0,void 0,function*(){return yield M.VS.consumeToBytes({readable:yield this.stream()})})},json(){return U(this,void 0,void 0,function*(){return yield M.VS.consumeToJson({readable:yield this.stream()})})},text(){return U(this,void 0,void 0,function*(){return yield M.VS.consumeToText({readable:yield this.stream()})})},stream(){return U(this,void 0,void 0,function*(){if(xe._encodedData?xe._readableStream=M.VS.fromWebReadable({readableStream:xe._encodedData.stream()}):M.VS.isReadable({readable:xe._readableStream})||(xe._readableStream=xe._remoteOrigin?yield xe.readRecordData({target:xe._remoteOrigin,isRemote:!0}):yield xe.readRecordData({target:xe._connectedDid,isRemote:!1})),!xe._readableStream)throw new Error("Record data is not available.");return xe._readableStream})},then(ot,ct){return this.stream().then(ot,ct)},catch(ot){return this.stream().catch(ot)}}}store(xe=!1){return U(this,void 0,void 0,function*(){return this.processRecord({signAsOwner:xe,store:!0})})}import(xe=!0){return U(this,void 0,void 0,function*(){return this.processRecord({store:xe,signAsOwner:!0})})}send(xe){return U(this,void 0,void 0,function*(){const Ce=this._initialWrite;if(xe??(xe=this._connectedDid),Ce&&!it._sendCache.check(this._recordId,xe)){const Mt=Object.assign({},Ce);(0,M.E8)(Mt),yield this._agent.sendDwnRequest({messageType:h.nx.RecordsWrite,author:this._connectedDid,target:xe,rawMessage:Mt}),it._sendCache.set(this._recordId,xe)}let ot;ot=this.deleted?{messageType:h.nx.RecordsDelete,author:this._connectedDid,target:xe,rawMessage:Object.assign({},this.rawMessage)}:{messageType:h.nx.RecordsWrite,author:this._connectedDid,target:xe,dataStream:yield this.data.blob(),rawMessage:Object.assign({},this.rawMessage)};const{reply:ct}=yield this._agent.sendDwnRequest(ot);return ct})}toJSON(){return{attestation:this.attestation,author:this.author,authorization:this.authorization,contextId:this.contextId,dataCid:this.dataCid,dataFormat:this.dataFormat,dataSize:this.dataSize,dateCreated:this.dateCreated,messageTimestamp:this.dateModified,datePublished:this.datePublished,encryption:this.encryption,parentId:this.parentId,protocol:this.protocol,protocolPath:this.protocolPath,protocolRole:this.protocolRole,published:this.published,recipient:this.recipient,recordId:this.id,schema:this.schema,tags:this.tags}}toString(){let xe="Record: {\n";return xe+=`  ID: ${this.id}\n`,xe+=this.contextId?`  Context ID: ${this.contextId}\n`:"",xe+=this.protocol?`  Protocol: ${this.protocol}\n`:"",xe+=this.schema?`  Schema: ${this.schema}\n`:"",this.deleted||(xe+=`  Data CID: ${this.dataCid}\n`,xe+=`  Data Format: ${this.dataFormat}\n`,xe+=`  Data Size: ${this.dataSize}\n`),xe+=`  Deleted: ${this.deleted}\n`,xe+=`  Created: ${this.dateCreated}\n`,xe+=`  Modified: ${this.dateModified}\n`,xe+="}",xe}paginationCursor(xe){return U(this,void 0,void 0,function*(){return(0,h.pO)(h.nx.RecordsWrite,this.rawMessage)?(0,h.X7)(this.rawMessage,xe):void 0})}update(xe){var{dateModified:Ce,data:ot}=xe,ct=H(xe,["dateModified","data"]);return U(this,void 0,void 0,function*(){if(!(0,h.pO)(h.nx.RecordsWrite,this.rawMessage)&&!this._initialWrite)throw new Error("If initial write is not set, the current rawRecord must be a RecordsWrite message.");const Mt=this._recordsWriteDescriptor,{parentId:rn}=Mt,Cn=H(Mt,["parentId"]),cn=rn?this._contextId.split("/").slice(0,-1).join("/"):void 0;let vn,Dt=Object.assign(Object.assign(Object.assign({},Cn),ct),{parentContextId:cn,messageTimestamp:Ce,recordId:this._recordId});((0,M.RI)(Dt.tags)||null===Dt.tags)&&delete Dt.tags,void 0!==ot&&(delete Dt.dataCid,delete Dt.dataSize,({dataBlob:vn}=j(ot,Dt.dataFormat)));const Qr=new Set(["data","dataCid","dataSize","datePublished","messageTimestamp","published","tags"]);it.verifyPermittedMutation(Object.keys(ct),Qr),!1===ct.published&&void 0!==Dt.datePublished&&delete Dt.datePublished;const Ui=yield this._agent.processDwnRequest({author:this._connectedDid,dataStream:vn,messageParams:Object.assign({},Dt),messageType:h.nx.RecordsWrite,target:this._connectedDid}),{message:Ii,reply:{status:Ni}}=Ui,io=Ii;return 200<=Ni.code&&Ni.code<=299&&(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._authorization=io.authorization,this._protocolRole=ct.protocolRole,Qr.forEach(Ts=>{this._descriptor[Ts]=io.descriptor[Ts]}),void 0!==ot&&(this._encodedData=vn)),{status:Ni}})}delete(xe){return U(this,void 0,void 0,function*(){const Ce=xe||{},{store:ot,signAsOwner:ct,dateModified:Mt}=Ce,rn=H(Ce,["store","signAsOwner","dateModified"]);let Cn={messageType:h.nx.RecordsDelete,author:this._connectedDid,target:this._connectedDid,store:ot,signAsOwner:ct};if(this.deleted){if(!this._initialWrite)throw new Error("If initial write is not set, the current rawRecord must be a RecordsWrite message.");Cn.rawMessage=this.rawMessage}else Cn.messageParams=Object.assign(Object.assign({},rn),{recordId:this._recordId,messageTimestamp:Mt});const cn=yield this._agent.processDwnRequest(Cn),{message:Dt,reply:{status:vn}}=cn;return 202!==vn.code||(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._author=(0,h.dK)(Dt),this._descriptor=Dt.descriptor,this._authorization=Dt.authorization,this._encodedData=void 0,this._encryption=void 0,this._attestation=void 0),{status:vn}})}processRecord({store:xe,signAsOwner:Ce}){return U(this,void 0,void 0,function*(){if(this._initialWrite&&(Ce&&!this._initialWriteSigned||xe&&!this._initialWriteStored)){const cn={messageType:h.nx.RecordsWrite,rawMessage:this.initialWrite,author:this._connectedDid,target:this._connectedDid,signAsOwner:Ce,store:xe},Dt=yield this._agent.processDwnRequest(cn),{message:vn,reply:{status:Qr}}=Dt,Ui=vn;200<=Qr.code&&Qr.code<=299&&(xe&&(this._initialWriteStored=!0),Ce&&(this._initialWriteSigned=!0,this.initialWrite.authorization=Ui.authorization))}let ot;ot=this.deleted?{messageType:h.nx.RecordsDelete,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,signAsOwner:Ce,store:xe}:{messageType:h.nx.RecordsWrite,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,dataStream:yield this.data.blob(),signAsOwner:Ce,store:xe};const ct=yield this._agent.processDwnRequest(ot),{message:Mt,reply:{status:rn}}=ct;return 200<=rn.code&&rn.code<=299&&Ce&&(this._authorization=Mt.authorization),{status:rn}})}readRecordData({target:xe,isRemote:Ce}){return U(this,void 0,void 0,function*(){const ot={author:this._connectedDid,messageParams:{filter:{recordId:this.id}},messageType:h.nx.RecordsRead,target:xe},ct=Ce?this._agent.sendDwnRequest(ot):this._agent.processDwnRequest(ot);try{const{reply:{status:Mt,record:rn}}=yield ct;if(200!==Mt.code)throw new Error(`${Mt.code}: ${Mt.detail}`);const Cn=rn.data;return M.Z6.isReadableStream(Cn)?M.VS.fromWebReadable({readableStream:Cn}):Cn}catch(Mt){throw new Error(`Error encountered while attempting to read data: ${Mt.message}`)}})}static verifyPermittedMutation(xe,Ce){for(const ot of xe)if(!Ce.has(ot))throw new Error(`${ot} is an immutable property. Its value cannot be changed.`)}}return it._sendCache=R,it})();class ee{constructor(Pe,xe,Ce){this._agent=Pe,this._metadata=Ce,this._protocolsConfigureMessage=xe}get definition(){return this._protocolsConfigureMessage.descriptor.definition}toJSON(){return this._protocolsConfigureMessage}send(Pe){return function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})}(this,void 0,void 0,function*(){const{reply:xe}=yield this._agent.sendDwnRequest({author:this._metadata.author,messageCid:this._metadata.messageCid,messageType:h.nx.ProtocolsConfigure,target:Pe});return{status:xe.status}})}}var W=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};class de{constructor(Pe){this.agent=Pe.agent,this.connectedDid=Pe.connectedDid}get protocols(){return{configure:Pe=>W(this,void 0,void 0,function*(){const xe=yield this.agent.processDwnRequest({author:this.connectedDid,messageParams:Pe.message,messageType:h.nx.ProtocolsConfigure,target:this.connectedDid}),{message:Ce,messageCid:ot,reply:{status:ct}}=xe,Mt={status:ct};return ct.code<300&&(Mt.protocol=new ee(this.agent,Ce,{author:this.connectedDid,messageCid:ot})),Mt}),query:Pe=>W(this,void 0,void 0,function*(){const xe={author:this.connectedDid,messageParams:Pe.message,messageType:h.nx.ProtocolsQuery,target:Pe.from||this.connectedDid};let Ce;Ce=Pe.from?yield this.agent.sendDwnRequest(xe):yield this.agent.processDwnRequest(xe);const ot=Ce.reply,{entries:ct=[],status:Mt}=ot;return{protocols:ct.map(Cn=>new ee(this.agent,Cn,{author:this.connectedDid})),status:Mt}})}}get records(){return{create:Pe=>W(this,void 0,void 0,function*(){return this.records.write(Pe)}),createFrom:Pe=>W(this,void 0,void 0,function*(){var xe;const Ce=Pe.record.toJSON(),{author:ot}=Ce,ct=function(it,Pe){var xe={};for(var Ce in it)Object.prototype.hasOwnProperty.call(it,Ce)&&Pe.indexOf(Ce)<0&&(xe[Ce]=it[Ce]);if(null!=it&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(Ce=Object.getOwnPropertySymbols(it);ot<Ce.length;ot++)Pe.indexOf(Ce[ot])<0&&Object.prototype.propertyIsEnumerable.call(it,Ce[ot])&&(xe[Ce[ot]]=it[Ce[ot]])}return xe}(Ce,["author"]);return void 0!==Pe.data&&(delete ct.dataCid,delete ct.dataSize),!1===(null===(xe=Pe.message)||void 0===xe?void 0:xe.published)&&void 0!==ct.datePublished&&(delete ct.datePublished,delete ct.published),(!(0,M.RI)(Pe.message)||Pe.author&&Pe.author!==ot)&&delete ct.recordId,this.records.write({data:Pe.data,message:Object.assign(Object.assign({},ct),Pe.message)})}),delete:Pe=>W(this,void 0,void 0,function*(){const xe={author:this.connectedDid,messageParams:Pe.message,messageType:h.nx.RecordsDelete,target:Pe.from||this.connectedDid};let Ce;Ce=Pe.from?yield this.agent.sendDwnRequest(xe):yield this.agent.processDwnRequest(xe);const{reply:{status:ot}}=Ce;return{status:ot}}),query:Pe=>W(this,void 0,void 0,function*(){const xe={author:this.connectedDid,messageParams:Pe.message,messageType:h.nx.RecordsQuery,target:Pe.from||this.connectedDid};let Ce;Ce=Pe.from?yield this.agent.sendDwnRequest(xe):yield this.agent.processDwnRequest(xe);const ot=Ce.reply,{entries:ct,status:Mt,cursor:rn}=ot;return{records:ct.map(cn=>{const Dt=Object.assign({author:(0,h.dK)(cn),connectedDid:this.connectedDid,remoteOrigin:Pe.from},cn);return new V(this.agent,Dt)}),status:Mt,cursor:rn}}),read:Pe=>W(this,void 0,void 0,function*(){const xe={author:this.connectedDid,messageParams:Pe.message,messageType:h.nx.RecordsRead,target:Pe.from||this.connectedDid};let Ce;Ce=Pe.from?yield this.agent.sendDwnRequest(xe):yield this.agent.processDwnRequest(xe);const{reply:{record:ot,status:ct}}=Ce;let Mt;if(200<=ct.code&&ct.code<=299){const rn=Object.assign({author:(0,h.dK)(ot),connectedDid:this.connectedDid,remoteOrigin:Pe.from},ot);Mt=new V(this.agent,rn)}return{record:Mt,status:ct}}),write:Pe=>W(this,void 0,void 0,function*(){var xe;const{dataBlob:Ce,dataFormat:ot}=j(Pe.data,null===(xe=Pe.message)||void 0===xe?void 0:xe.dataFormat),ct=yield this.agent.processDwnRequest({author:this.connectedDid,dataStream:Ce,messageParams:Object.assign(Object.assign({},Pe.message),{dataFormat:ot}),messageType:h.nx.RecordsWrite,store:Pe.store,target:this.connectedDid}),{message:Mt,reply:{status:rn}}=ct;let Cn;if(200<=rn.code&&rn.code<=299){const cn=Object.assign({author:this.connectedDid,connectedDid:this.connectedDid,encodedData:Ce},Mt);Cn=new V(this.agent,cn)}return{record:Cn,status:rn}})}}}class re{constructor(Pe){this.agent=Pe.agent,this.connectedDid=Pe.connectedDid}create(){return it=this,Pe=void 0,Ce=function*(){throw new Error("Not implemented.")},new((xe=void 0)||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())});var it,Pe,xe,Ce}}var te=function(it){return it.authentication="authentication",it.assertionMethod="assertionMethod",it.keyAgreement="keyAgreement",it.capabilityInvocation="capabilityInvocation",it.capabilityDelegation="capabilityDelegation",it}(te||{});const ue={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class pe{constructor({method:Pe,id:xe,path:Ce,query:ot,fragment:ct,params:Mt}){this.uri=`did:${Pe}:${xe}`,this.method=Pe,this.id=xe,this.path=Ce,this.query=ot,this.fragment=ct,this.params=Mt}static parse(Pe){if(!Pe)return null;const xe=pe.DID_URI_PATTERN.exec(Pe);if(!xe||!xe.groups)return null;const{method:Ce,id:ot,path:ct,query:Mt,fragment:rn}=xe.groups,Cn={uri:`did:${Ce}:${ot}`,method:Ce,id:ot};if(ct&&(Cn.path=ct),Mt&&(Cn.query=Mt.slice(1)),rn&&(Cn.fragment=rn.slice(1)),Mt){const cn={},Dt=Mt.slice(1).split("&");for(const vn of Dt){const[Qr,Ui]=vn.split("=");cn[Qr]=Ui}Cn.params=cn}return Cn}}pe.METHOD_PATTERN="([a-z0-9]+)",pe.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",pe.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${pe.PCT_ENCODED_PATTERN})`,pe.METHOD_ID_PATTERN=`((?:${pe.ID_CHAR_PATTERN}*:)*(${pe.ID_CHAR_PATTERN}+))`,pe.PATH_PATTERN="(/[^#?]*)?",pe.QUERY_PATTERN="([?][^#]*)?",pe.FRAGMENT_PATTERN="(#.*)?",pe.DID_URI_PATTERN=new RegExp(`^did:(?<method>${pe.METHOD_PATTERN}):(?<id>${pe.METHOD_ID_PATTERN})(?<path>${pe.PATH_PATTERN})(?<query>${pe.QUERY_PATTERN})(?<fragment>${pe.FRAGMENT_PATTERN})$`);class he extends Error{constructor(Pe,xe){super(`${Pe}: ${xe}`),this.code=Pe,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,he)}}var ve=function(it){return it.InvalidDid="invalidDid",it.MethodNotSupported="methodNotSupported",it.InternalError="internalError",it.InvalidDidDocument="invalidDidDocument",it.InvalidDidDocumentLength="invalidDidDocumentLength",it.InvalidDidUrl="invalidDidUrl",it.InvalidPreviousDidProof="invalidPreviousDidProof",it.InvalidPublicKey="invalidPublicKey",it.InvalidPublicKeyLength="invalidPublicKeyLength",it.InvalidPublicKeyType="invalidPublicKeyType",it.InvalidSignature="invalidSignature",it.NotFound="notFound",it.RepresentationNotSupported="representationNotSupported",it.UnsupportedPublicKeyType="unsupportedPublicKeyType",it}(ve||{}),ge=A(47565);class Oe{static digest({data:Pe}){return function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})}(this,void 0,void 0,function*(){return(0,ge.s)(Pe)})}}class je{}var f=A(94256),w=A(91006);const O="urn:jwk:";function $({jwk:it}){return function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})}(this,void 0,void 0,function*(){const Pe=it.kty;let xe;if("EC"===Pe)xe={crv:it.crv,kty:it.kty,x:it.x,y:it.y};else if("oct"===Pe)xe={k:it.k,kty:it.kty};else if("OKP"===Pe)xe={crv:it.crv,kty:it.kty,x:it.x};else{if("RSA"!==Pe)throw new Error(`Unsupported key type: ${Pe}`);xe={e:it.e,kty:it.kty,n:it.n}}(0,M.E8)(xe);const Ce=function _(it){const Pe=Ce=>{if(null!==Ce&&"object"==typeof Ce&&!Array.isArray(Ce)){const ot=Object.keys(Ce).sort(),ct={};for(const Mt of ot)ct[Mt]=Pe(Ce[Mt]);return ct}return Ce},xe=Pe(it);return JSON.stringify(xe)}(xe),ot=M.U$.string(Ce).toUint8Array(),ct=yield Oe.digest({data:ot});return M.U$.uint8Array(ct).toBase64Url()})}function T(it){return!(!it||"object"!=typeof it||!("kty"in it&&"crv"in it&&"x"in it&&"d"in it)||"EC"!==it.kty||"string"!=typeof it.d||"string"!=typeof it.x)}function c(it){return!(!it||"object"!=typeof it||!("kty"in it&&"crv"in it&&"x"in it)||"d"in it||"EC"!==it.kty||"string"!=typeof it.x)}function q(it){return!(!it||"object"!=typeof it||!("kty"in it&&"crv"in it&&"x"in it&&"d"in it)||"OKP"!==it.kty||"string"!=typeof it.d||"string"!=typeof it.x)}function X(it){return!(!it||"object"!=typeof it||"d"in it||!("kty"in it&&"crv"in it&&"x"in it)||"OKP"!==it.kty||"string"!=typeof it.x)}var Te=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};class Qe{static adjustSignatureToLowS({signature:Pe}){return Te(this,void 0,void 0,function*(){const xe=f.bI.Signature.fromCompact(Pe);return xe.hasHighS()?xe.normalizeS().toCompactRawBytes():Pe})}static bytesToPrivateKey({privateKeyBytes:Pe}){return Te(this,void 0,void 0,function*(){const xe=yield Qe.getCurvePoint({keyBytes:Pe}),Ce={kty:"EC",crv:"secp256k1",d:M.U$.uint8Array(Pe).toBase64Url(),x:M.U$.uint8Array(xe.x).toBase64Url(),y:M.U$.uint8Array(xe.y).toBase64Url()};return Ce.kid=yield $({jwk:Ce}),Ce})}static bytesToPublicKey({publicKeyBytes:Pe}){return Te(this,void 0,void 0,function*(){const xe=yield Qe.getCurvePoint({keyBytes:Pe}),Ce={kty:"EC",crv:"secp256k1",x:M.U$.uint8Array(xe.x).toBase64Url(),y:M.U$.uint8Array(xe.y).toBase64Url()};return Ce.kid=yield $({jwk:Ce}),Ce})}static compressPublicKey({publicKeyBytes:Pe}){return Te(this,void 0,void 0,function*(){return f.bI.ProjectivePoint.fromHex(Pe).toRawBytes(!0)})}static computePublicKey({key:Pe}){return Te(this,void 0,void 0,function*(){const xe=yield Qe.privateKeyToBytes({privateKey:Pe}),Ce=yield Qe.getCurvePoint({keyBytes:xe}),ot={kty:"EC",crv:"secp256k1",x:M.U$.uint8Array(Ce.x).toBase64Url(),y:M.U$.uint8Array(Ce.y).toBase64Url()};return ot.kid=yield $({jwk:ot}),ot})}static convertDerToCompactSignature({derSignature:Pe}){return Te(this,void 0,void 0,function*(){return f.bI.Signature.fromDER(Pe).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Pe}){return Te(this,void 0,void 0,function*(){return f.bI.ProjectivePoint.fromHex(Pe).toRawBytes(!1)})}static generateKey(){return Te(this,void 0,void 0,function*(){const Pe=f.bI.utils.randomPrivateKey(),xe=yield Qe.bytesToPrivateKey({privateKeyBytes:Pe});return xe.kid=yield $({jwk:xe}),xe})}static getPublicKey({key:Pe}){var xe;return Te(this,void 0,void 0,function*(){if(!T(Pe)||"secp256k1"!==Pe.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let ot=function(it,Pe){var xe={};for(var Ce in it)Object.prototype.hasOwnProperty.call(it,Ce)&&Pe.indexOf(Ce)<0&&(xe[Ce]=it[Ce]);if(null!=it&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(Ce=Object.getOwnPropertySymbols(it);ot<Ce.length;ot++)Pe.indexOf(Ce[ot])<0&&Object.prototype.propertyIsEnumerable.call(it,Ce[ot])&&(xe[Ce[ot]]=it[Ce[ot]])}return xe}(Pe,["d"]);return null!==(xe=ot.kid)&&void 0!==xe||(ot.kid=yield $({jwk:ot})),ot})}static privateKeyToBytes({privateKey:Pe}){return Te(this,void 0,void 0,function*(){if(!T(Pe))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return M.U$.base64Url(Pe.d).toUint8Array()})}static publicKeyToBytes({publicKey:Pe}){return Te(this,void 0,void 0,function*(){if(!c(Pe)||!Pe.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const xe=new Uint8Array([4]),Ce=M.U$.base64Url(Pe.x).toUint8Array(),ot=M.U$.base64Url(Pe.y).toUint8Array();return new Uint8Array([...xe,...Ce,...ot])})}static sharedSecret({privateKeyA:Pe,publicKeyB:xe}){return Te(this,void 0,void 0,function*(){if("x"in Pe&&"x"in xe&&Pe.x===xe.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const Ce=yield Qe.privateKeyToBytes({privateKey:Pe}),ot=yield Qe.publicKeyToBytes({publicKey:xe});return f.bI.getSharedSecret(Ce,ot,!0).slice(1)})}static sign({data:Pe,key:xe}){return Te(this,void 0,void 0,function*(){const Ce=yield Qe.privateKeyToBytes({privateKey:xe}),ot=(0,ge.s)(Pe);return f.bI.sign(ot,Ce).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Pe}){return Te(this,void 0,void 0,function*(){return f.bI.utils.isValidPrivateKey(Pe)})}static validatePublicKey({publicKeyBytes:Pe}){return Te(this,void 0,void 0,function*(){try{f.bI.ProjectivePoint.fromHex(Pe).assertValidity()}catch{return!1}return!0})}static verify({key:Pe,signature:xe,data:Ce}){return Te(this,void 0,void 0,function*(){const ot=yield Qe.publicKeyToBytes({publicKey:Pe}),ct=(0,ge.s)(Ce);return f.bI.verify(xe,ct,ot,{lowS:!1})})}static getCurvePoint({keyBytes:Pe}){return Te(this,void 0,void 0,function*(){32===Pe.byteLength&&(Pe=f.bI.getPublicKey(Pe));const xe=f.bI.ProjectivePoint.fromHex(Pe);return{x:(0,w.lq)(xe.x,32),y:(0,w.lq)(xe.y,32)}})}}var ke=A(40499),Ie=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};class Se{static adjustSignatureToLowS({signature:Pe}){return Ie(this,void 0,void 0,function*(){const xe=ke.Ag.Signature.fromCompact(Pe);return xe.hasHighS()?xe.normalizeS().toCompactRawBytes():Pe})}static bytesToPrivateKey({privateKeyBytes:Pe}){return Ie(this,void 0,void 0,function*(){const xe=yield Se.getCurvePoint({keyBytes:Pe}),Ce={kty:"EC",crv:"P-256",d:M.U$.uint8Array(Pe).toBase64Url(),x:M.U$.uint8Array(xe.x).toBase64Url(),y:M.U$.uint8Array(xe.y).toBase64Url()};return Ce.kid=yield $({jwk:Ce}),Ce})}static bytesToPublicKey({publicKeyBytes:Pe}){return Ie(this,void 0,void 0,function*(){const xe=yield Se.getCurvePoint({keyBytes:Pe}),Ce={kty:"EC",crv:"P-256",x:M.U$.uint8Array(xe.x).toBase64Url(),y:M.U$.uint8Array(xe.y).toBase64Url()};return Ce.kid=yield $({jwk:Ce}),Ce})}static compressPublicKey({publicKeyBytes:Pe}){return Ie(this,void 0,void 0,function*(){return ke.Ag.ProjectivePoint.fromHex(Pe).toRawBytes(!0)})}static computePublicKey({key:Pe}){return Ie(this,void 0,void 0,function*(){const xe=yield Se.privateKeyToBytes({privateKey:Pe}),Ce=yield Se.getCurvePoint({keyBytes:xe}),ot={kty:"EC",crv:"P-256",x:M.U$.uint8Array(Ce.x).toBase64Url(),y:M.U$.uint8Array(Ce.y).toBase64Url()};return ot.kid=yield $({jwk:ot}),ot})}static convertDerToCompactSignature({derSignature:Pe}){return Ie(this,void 0,void 0,function*(){return ke.Ag.Signature.fromDER(Pe).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Pe}){return Ie(this,void 0,void 0,function*(){return ke.Ag.ProjectivePoint.fromHex(Pe).toRawBytes(!1)})}static generateKey(){return Ie(this,void 0,void 0,function*(){const Pe=ke.Ag.utils.randomPrivateKey(),xe=yield Se.bytesToPrivateKey({privateKeyBytes:Pe});return xe.kid=yield $({jwk:xe}),xe})}static getPublicKey({key:Pe}){var xe;return Ie(this,void 0,void 0,function*(){if(!T(Pe)||"P-256"!==Pe.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let ot=function(it,Pe){var xe={};for(var Ce in it)Object.prototype.hasOwnProperty.call(it,Ce)&&Pe.indexOf(Ce)<0&&(xe[Ce]=it[Ce]);if(null!=it&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(Ce=Object.getOwnPropertySymbols(it);ot<Ce.length;ot++)Pe.indexOf(Ce[ot])<0&&Object.prototype.propertyIsEnumerable.call(it,Ce[ot])&&(xe[Ce[ot]]=it[Ce[ot]])}return xe}(Pe,["d"]);return null!==(xe=ot.kid)&&void 0!==xe||(ot.kid=yield $({jwk:ot})),ot})}static privateKeyToBytes({privateKey:Pe}){return Ie(this,void 0,void 0,function*(){if(!T(Pe))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return M.U$.base64Url(Pe.d).toUint8Array()})}static publicKeyToBytes({publicKey:Pe}){return Ie(this,void 0,void 0,function*(){if(!c(Pe)||!Pe.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const xe=new Uint8Array([4]),Ce=M.U$.base64Url(Pe.x).toUint8Array(),ot=M.U$.base64Url(Pe.y).toUint8Array();return new Uint8Array([...xe,...Ce,...ot])})}static sharedSecret({privateKeyA:Pe,publicKeyB:xe}){return Ie(this,void 0,void 0,function*(){if("x"in Pe&&"x"in xe&&Pe.x===xe.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const Ce=yield Se.privateKeyToBytes({privateKey:Pe}),ot=yield Se.publicKeyToBytes({publicKey:xe});return ke.Ag.getSharedSecret(Ce,ot,!0).slice(1)})}static sign({data:Pe,key:xe}){return Ie(this,void 0,void 0,function*(){const Ce=yield Se.privateKeyToBytes({privateKey:xe}),ot=(0,ge.s)(Pe);return ke.Ag.sign(ot,Ce).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Pe}){return Ie(this,void 0,void 0,function*(){return ke.Ag.utils.isValidPrivateKey(Pe)})}static validatePublicKey({publicKeyBytes:Pe}){return Ie(this,void 0,void 0,function*(){try{ke.Ag.ProjectivePoint.fromHex(Pe).assertValidity()}catch{return!1}return!0})}static verify({key:Pe,signature:xe,data:Ce}){return Ie(this,void 0,void 0,function*(){const ot=yield Se.publicKeyToBytes({publicKey:Pe}),ct=(0,ge.s)(Ce);return ke.Ag.verify(xe,ct,ot,{lowS:!1})})}static getCurvePoint({keyBytes:Pe}){return Ie(this,void 0,void 0,function*(){32===Pe.byteLength&&(Pe=ke.Ag.getPublicKey(Pe));const xe=ke.Ag.ProjectivePoint.fromHex(Pe);return{x:(0,w.lq)(xe.x,32),y:(0,w.lq)(xe.y,32)}})}}var Le=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};class Ee extends je{computePublicKey({key:Pe}){return Le(this,void 0,void 0,function*(){if(!T(Pe))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Pe.crv){case"secp256k1":{const xe=yield Qe.computePublicKey({key:Pe});return xe.alg="ES256K",xe}case"P-256":{const xe=yield Se.computePublicKey({key:Pe});return xe.alg="ES256",xe}default:throw new Error(`Unsupported curve: ${Pe.crv}`)}})}generateKey({algorithm:Pe}){return Le(this,void 0,void 0,function*(){switch(Pe){case"ES256K":case"secp256k1":{const xe=yield Qe.generateKey();return xe.alg="ES256K",xe}case"ES256":case"secp256r1":{const xe=yield Se.generateKey();return xe.alg="ES256",xe}}})}getPublicKey({key:Pe}){return Le(this,void 0,void 0,function*(){if(!T(Pe))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Pe.crv){case"secp256k1":{const xe=yield Qe.getPublicKey({key:Pe});return xe.alg="ES256K",xe}case"P-256":{const xe=yield Se.getPublicKey({key:Pe});return xe.alg="ES256",xe}default:throw new Error(`Unsupported curve: ${Pe.crv}`)}})}sign({key:Pe,data:xe}){return Le(this,void 0,void 0,function*(){if(!T(Pe))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Pe.crv){case"secp256k1":return yield Qe.sign({key:Pe,data:xe});case"P-256":return yield Se.sign({key:Pe,data:xe});default:throw new Error(`Unsupported curve: ${Pe.crv}`)}})}verify({key:Pe,signature:xe,data:Ce}){return Le(this,void 0,void 0,function*(){if(!c(Pe))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(Pe.crv){case"secp256k1":return yield Qe.verify({key:Pe,signature:xe,data:Ce});case"P-256":return yield Se.verify({key:Pe,signature:xe,data:Ce});default:throw new Error(`Unsupported curve: ${Pe.crv}`)}})}}var be=A(86295),oe=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};class we{static bytesToPrivateKey({privateKeyBytes:Pe}){return oe(this,void 0,void 0,function*(){const xe=be.ev.getPublicKey(Pe),Ce={crv:"Ed25519",d:M.U$.uint8Array(Pe).toBase64Url(),kty:"OKP",x:M.U$.uint8Array(xe).toBase64Url()};return Ce.kid=yield $({jwk:Ce}),Ce})}static bytesToPublicKey({publicKeyBytes:Pe}){return oe(this,void 0,void 0,function*(){const xe={kty:"OKP",crv:"Ed25519",x:M.U$.uint8Array(Pe).toBase64Url()};return xe.kid=yield $({jwk:xe}),xe})}static computePublicKey({key:Pe}){return oe(this,void 0,void 0,function*(){const xe=yield we.privateKeyToBytes({privateKey:Pe}),Ce=be.ev.getPublicKey(xe),ot={kty:"OKP",crv:"Ed25519",x:M.U$.uint8Array(Ce).toBase64Url()};return ot.kid=yield $({jwk:ot}),ot})}static convertPrivateKeyToX25519({privateKey:Pe}){return oe(this,void 0,void 0,function*(){const xe=yield we.privateKeyToBytes({privateKey:Pe}),Ce=(0,be.OA)(xe),ot=be.TU.getPublicKey(Ce),ct={kty:"OKP",crv:"X25519",d:M.U$.uint8Array(Ce).toBase64Url(),x:M.U$.uint8Array(ot).toBase64Url()};return ct.kid=yield $({jwk:ct}),ct})}static convertPublicKeyToX25519({publicKey:Pe}){return oe(this,void 0,void 0,function*(){const xe=yield we.publicKeyToBytes({publicKey:Pe});if(!(yield we.validatePublicKey({publicKeyBytes:xe})))throw new Error("Ed25519: Invalid public key.");const ot=(0,be.GU)(xe),ct={kty:"OKP",crv:"X25519",x:M.U$.uint8Array(ot).toBase64Url()};return ct.kid=yield $({jwk:ct}),ct})}static generateKey(){return oe(this,void 0,void 0,function*(){const Pe=be.ev.utils.randomPrivateKey(),xe=yield we.bytesToPrivateKey({privateKeyBytes:Pe});return xe.kid=yield $({jwk:xe}),xe})}static getPublicKey({key:Pe}){var xe;return oe(this,void 0,void 0,function*(){if(!q(Pe)||"Ed25519"!==Pe.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let ot=function(it,Pe){var xe={};for(var Ce in it)Object.prototype.hasOwnProperty.call(it,Ce)&&Pe.indexOf(Ce)<0&&(xe[Ce]=it[Ce]);if(null!=it&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(Ce=Object.getOwnPropertySymbols(it);ot<Ce.length;ot++)Pe.indexOf(Ce[ot])<0&&Object.prototype.propertyIsEnumerable.call(it,Ce[ot])&&(xe[Ce[ot]]=it[Ce[ot]])}return xe}(Pe,["d"]);return null!==(xe=ot.kid)&&void 0!==xe||(ot.kid=yield $({jwk:ot})),ot})}static privateKeyToBytes({privateKey:Pe}){return oe(this,void 0,void 0,function*(){if(!q(Pe))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return M.U$.base64Url(Pe.d).toUint8Array()})}static publicKeyToBytes({publicKey:Pe}){return oe(this,void 0,void 0,function*(){if(!X(Pe))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return M.U$.base64Url(Pe.x).toUint8Array()})}static sign({key:Pe,data:xe}){return oe(this,void 0,void 0,function*(){const Ce=yield we.privateKeyToBytes({privateKey:Pe});return be.ev.sign(xe,Ce)})}static validatePublicKey({publicKeyBytes:Pe}){return oe(this,void 0,void 0,function*(){try{be.ev.ExtendedPoint.fromHex(Pe).assertValidity()}catch{return!1}return!0})}static verify({key:Pe,signature:xe,data:Ce}){return oe(this,void 0,void 0,function*(){const ot=yield we.publicKeyToBytes({publicKey:Pe});return be.ev.verify(xe,Ce,ot)})}}var De=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})},Je=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};const Ze={Ed25519:{implementation:class $e extends je{computePublicKey({key:Pe}){return De(this,void 0,void 0,function*(){if(!q(Pe))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Pe.crv){const xe=yield we.computePublicKey({key:Pe});return xe.alg="EdDSA",xe}throw new Error(`Unsupported curve: ${Pe.crv}`)})}generateKey({algorithm:Pe}){return De(this,void 0,void 0,function*(){if("Ed25519"===Pe){const xe=yield we.generateKey();return xe.alg="EdDSA",xe}})}getPublicKey({key:Pe}){return De(this,void 0,void 0,function*(){if(!q(Pe))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Pe.crv){const xe=yield we.getPublicKey({key:Pe});return xe.alg="EdDSA",xe}throw new Error(`Unsupported curve: ${Pe.crv}`)})}sign({key:Pe,data:xe}){return De(this,void 0,void 0,function*(){if(!q(Pe))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Pe.crv)return yield we.sign({key:Pe,data:xe});throw new Error(`Unsupported curve: ${Pe.crv}`)})}verify({key:Pe,signature:xe,data:Ce}){return De(this,void 0,void 0,function*(){if(!X(Pe))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===Pe.crv)return yield we.verify({key:Pe,signature:xe,data:Ce});throw new Error(`Unsupported curve: ${Pe.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:Ee,names:["ES256K","secp256k1"]},secp256r1:{implementation:Ee,names:["ES256","secp256r1"]},"SHA-256":{implementation:class l extends je{digest({algorithm:Pe,data:xe}){return function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===Pe)return yield Oe.digest({data:xe})})}},names:["SHA-256"]}};class Pt{constructor(Pe){var xe;this._algorithmInstances=new Map,this._keyStore=null!==(xe=Pe?.keyStore)&&void 0!==xe?xe:new M.ny}digest({algorithm:Pe,data:xe}){return Je(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:Pe}).digest({algorithm:Pe,data:xe})})}exportKey({keyUri:Pe}){return Je(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:Pe})})}generateKey({algorithm:Pe}){return Je(this,void 0,void 0,function*(){const Ce=yield this.getAlgorithm({algorithm:Pe}).generateKey({algorithm:Pe});if(void 0===Ce?.kid)throw new Error("Generated key is missing a required property: kid");const ot=`${O}${Ce.kid}`;return yield this._keyStore.set(ot,Ce),ot})}getKeyUri({key:Pe}){return Je(this,void 0,void 0,function*(){const xe=yield $({jwk:Pe});return`${O}${xe}`})}getPublicKey({keyUri:Pe}){return Je(this,void 0,void 0,function*(){const xe=yield this.getPrivateKey({keyUri:Pe}),Ce=this.getAlgorithmName({key:xe});return yield this.getAlgorithm({algorithm:Ce}).getPublicKey({key:xe})})}importKey({key:Pe}){var xe;return Je(this,void 0,void 0,function*(){if(!function ce(it){if(!it||"object"!=typeof it)return!1;switch(it.kty){case"EC":case"OKP":case"RSA":return"d"in it;case"oct":return"k"in it;default:return!1}}(Pe))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const Ce=structuredClone(Pe);null!==(xe=Ce.kid)&&void 0!==xe||(Ce.kid=yield $({jwk:Ce}));const ot=yield this.getKeyUri({key:Ce});return yield this._keyStore.set(ot,Ce),ot})}sign({keyUri:Pe,data:xe}){return Je(this,void 0,void 0,function*(){const Ce=yield this.getPrivateKey({keyUri:Pe}),ot=this.getAlgorithmName({key:Ce});return this.getAlgorithm({algorithm:ot}).sign({data:xe,key:Ce})})}verify({key:Pe,signature:xe,data:Ce}){return Je(this,void 0,void 0,function*(){const ot=this.getAlgorithmName({key:Pe});return this.getAlgorithm({algorithm:ot}).verify({key:Pe,signature:xe,data:Ce})})}getAlgorithm({algorithm:Pe}){var xe;const Ce=null===(xe=Ze[Pe])||void 0===xe?void 0:xe.implementation;if(!Ce)throw new Error(`Algorithm not supported: ${Pe}`);return this._algorithmInstances.has(Ce)||this._algorithmInstances.set(Ce,new Ce),this._algorithmInstances.get(Ce)}getAlgorithmName({key:Pe}){const xe=Pe.alg,Ce=Pe.crv;for(const ot in Ze){const ct=Ze[ot];if(xe&&ct.names.includes(xe))return ot;if(Ce&&ct.names.includes(Ce))return ot}throw new Error(`Unable to determine algorithm based on provided input: alg=${xe}, crv=${Ce}`)}getPrivateKey({keyUri:Pe}){return Je(this,void 0,void 0,function*(){const xe=yield this._keyStore.get(Pe);if(!xe)throw new Error(`Key not found: ${Pe}`);return xe})}}function C(it){const Pe={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(it.alg&&Object.values(Pe).includes(it.alg))return it.alg;if(it.crv&&Object.keys(Pe).includes(it.crv))return Pe[it.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${it.alg}, crv=${it.crv}. Supported 'alg' values: ${Object.values(Pe).join(", ")}. Supported 'crv' values: ${Object.keys(Pe).join(", ")}.`)}A(86703),A(62953),A(91879);var Lt=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};class mt{static bytesToPrivateKey({privateKeyBytes:Pe}){return Lt(this,void 0,void 0,function*(){const xe=be.TU.getPublicKey(Pe),Ce={kty:"OKP",crv:"X25519",d:M.U$.uint8Array(Pe).toBase64Url(),x:M.U$.uint8Array(xe).toBase64Url()};return Ce.kid=yield $({jwk:Ce}),Ce})}static bytesToPublicKey({publicKeyBytes:Pe}){return Lt(this,void 0,void 0,function*(){const xe={kty:"OKP",crv:"X25519",x:M.U$.uint8Array(Pe).toBase64Url()};return xe.kid=yield $({jwk:xe}),xe})}static computePublicKey({key:Pe}){return Lt(this,void 0,void 0,function*(){const xe=yield mt.privateKeyToBytes({privateKey:Pe}),Ce=be.TU.getPublicKey(xe),ot={kty:"OKP",crv:"X25519",x:M.U$.uint8Array(Ce).toBase64Url()};return ot.kid=yield $({jwk:ot}),ot})}static generateKey(){return Lt(this,void 0,void 0,function*(){const Pe=be.TU.utils.randomPrivateKey(),xe=yield mt.bytesToPrivateKey({privateKeyBytes:Pe});return xe.kid=yield $({jwk:xe}),xe})}static getPublicKey({key:Pe}){var xe;return Lt(this,void 0,void 0,function*(){if(!q(Pe)||"X25519"!==Pe.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let ot=function(it,Pe){var xe={};for(var Ce in it)Object.prototype.hasOwnProperty.call(it,Ce)&&Pe.indexOf(Ce)<0&&(xe[Ce]=it[Ce]);if(null!=it&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(Ce=Object.getOwnPropertySymbols(it);ot<Ce.length;ot++)Pe.indexOf(Ce[ot])<0&&Object.prototype.propertyIsEnumerable.call(it,Ce[ot])&&(xe[Ce[ot]]=it[Ce[ot]])}return xe}(Pe,["d"]);return null!==(xe=ot.kid)&&void 0!==xe||(ot.kid=yield $({jwk:ot})),ot})}static privateKeyToBytes({privateKey:Pe}){return Lt(this,void 0,void 0,function*(){if(!q(Pe))throw new Error("X25519: The provided key is not a valid OKP private key.");return M.U$.base64Url(Pe.d).toUint8Array()})}static publicKeyToBytes({publicKey:Pe}){return Lt(this,void 0,void 0,function*(){if(!X(Pe))throw new Error("X25519: The provided key is not a valid OKP public key.");return M.U$.base64Url(Pe.x).toUint8Array()})}static sharedSecret({privateKeyA:Pe,publicKeyB:xe}){return Lt(this,void 0,void 0,function*(){if("x"in Pe&&"x"in xe&&Pe.x===xe.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const Ce=yield mt.privateKeyToBytes({privateKey:Pe}),ot=yield mt.publicKeyToBytes({publicKey:xe});return be.TU.getSharedSecret(Ce,ot)})}}function Jt(it){if("string"==typeof it&&0!==it.length)return it.split("#").pop()}function hr(it){return!(!it||"object"!=typeof it||null===it||!("id"in it&&"type"in it&&"controller"in it)||"string"!=typeof it.id||"string"!=typeof it.type||"string"!=typeof it.controller)}A(94730);var ti=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};class ni{constructor({uri:Pe,document:xe,metadata:Ce,keyManager:ot}){this.uri=Pe,this.document=xe,this.metadata=Ce,this.keyManager=ot}export(){return ti(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let Pe={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const xe=[];for(let Ce of this.document.verificationMethod){if(!Ce.publicKeyJwk)throw new Error(`Verification method '${Ce.id}' does not contain a public key in JWK format`);const ot=yield this.keyManager.getKeyUri({key:Ce.publicKeyJwk}),ct=yield this.keyManager.exportKey({keyUri:ot});xe.push(Object.assign({},ct))}Pe.privateKeys=xe}return Pe})}getSigner(Pe){return ti(this,void 0,void 0,function*(){var xe;const Ce=null===(xe=this.document.verificationMethod)||void 0===xe?void 0:xe.find(Cn=>{var cn,Dt;return Jt(Cn.id)===(null!==(cn=Jt(Pe?.methodId))&&void 0!==cn?cn:Jt(null===(Dt=this.document.assertionMethod)||void 0===Dt?void 0:Dt[0]))});if(!Ce||!Ce.publicKeyJwk)throw new he(ve.InternalError,"A verification method intended for signing could not be determined from the DID Document");const ot=yield this.keyManager.getKeyUri({key:Ce.publicKeyJwk}),ct=yield this.keyManager.getPublicKey({keyUri:ot}),Mt=this.keyManager;return{algorithm:C(ct),keyId:Ce.id,sign(Cn){return ti(this,arguments,void 0,function*({data:cn}){return yield Mt.sign({data:cn,keyUri:ot})})},verify(Cn){return ti(this,arguments,void 0,function*({data:cn,signature:Dt}){return yield Mt.verify({data:cn,key:ct,signature:Dt})})}}})}static import(Pe){return ti(this,arguments,void 0,function*({portableDid:xe,keyManager:Ce=new Pt}){var ot;const ct=function We({didDocument:it}){var Pe,xe;if(!it)throw new TypeError("Required parameter missing: 'didDocument'");const Ce=[];return Ce.push(...null!==(xe=null===(Pe=it.verificationMethod)||void 0===Pe?void 0:Pe.filter(hr))&&void 0!==xe?xe:[]),Object.keys(te).forEach(ot=>{var ct,Mt;Ce.push(...null!==(Mt=null===(ct=it[ot])||void 0===ct?void 0:ct.filter(hr))&&void 0!==Mt?Mt:[])}),Ce}({didDocument:xe.document});if(0===ct.length)throw new he(ve.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let rn of null!==(ot=xe.privateKeys)&&void 0!==ot?ot:[])yield Ce.importKey({key:rn});for(let rn of ct){if(!rn.publicKeyJwk)throw new Error(`Verification method '${rn.id}' does not contain a public key in JWK format`);const Cn=yield Ce.getKeyUri({key:rn.publicKeyJwk});yield Ce.getPublicKey({keyUri:Cn})}return new ni({uri:xe.uri,document:xe.document,metadata:xe.metadata,keyManager:Ce})})}}var Ei=A(2198),yn=A(49402),Pn=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};class Nn{static getSigningMethod(Pe){return Pn(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(Pe,xe){return Pn(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var tr=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})},Dr=function(it,Pe){var xe={};for(var Ce in it)Object.prototype.hasOwnProperty.call(it,Ce)&&Pe.indexOf(Ce)<0&&(xe[Ce]=it[Ce]);if(null!=it&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(Ce=Object.getOwnPropertySymbols(it);ot<Ce.length;ot++)Pe.indexOf(Ce[ot])<0&&Object.prototype.propertyIsEnumerable.call(it,Ce[ot])&&(xe[Ce[ot]]=it[Ce[ot]])}return xe};const Hr="https://diddht.tbddev.org",li=7200,Mi=",";var ls=function(it){return it[it.Discoverable=0]="Discoverable",it[it.Organization=1]="Organization",it[it.Government=2]="Government",it[it.Corporation=3]="Corporation",it[it.LocalBusiness=4]="LocalBusiness",it[it.SoftwarePackage=5]="SoftwarePackage",it[it.WebApp=6]="WebApp",it[it.FinancialInstitution=7]="FinancialInstitution",it}(ls||{}),Ji=function(it){return it[it.Ed25519=0]="Ed25519",it[it.secp256k1=1]="secp256k1",it[it.secp256r1=2]="secp256r1",it[it.X25519=3]="X25519",it}(Ji||{}),bs=function(it){return it.authentication="auth",it.assertionMethod="asm",it.capabilityDelegation="del",it.capabilityInvocation="inv",it.keyAgreement="agm",it}(bs||{});const As={Ed25519:Ji.Ed25519,ES256K:Ji.secp256k1,ES256:Ji.secp256r1,"P-256":Ji.secp256r1,secp256k1:Ji.secp256k1,secp256r1:Ji.secp256r1,X25519:Ji.X25519},Js={[Ji.Ed25519]:"Ed25519",[Ji.secp256k1]:"ES256K",[Ji.secp256r1]:"ES256",[Ji.X25519]:"ECDH-ES+A256KW"};let Eo=(()=>{class it extends Nn{static create(){return tr(this,arguments,void 0,function*({keyManager:xe=new Pt,options:Ce={}}={}){var ot,ct,Mt,rn,Cn,cn,Dt,vn,Qr,Ui,Ii;if(null!==(ot=Ce.verificationMethods)&&void 0!==ot&&ot.some(si=>!(si.algorithm in As)))throw new Error("One or more verification method algorithms are not supported");const Ni=null===(ct=Ce.verificationMethods)||void 0===ct?void 0:ct.filter(si=>"id"in si).map(si=>si.id);if(Ni&&Ni.length!==new Set(Ni).size)throw new Error("One or more verification method IDs are not unique");if(null!==(Mt=Ce.services)&&void 0!==Mt&&Mt.some(si=>!si.id||!si.type||!si.serviceEndpoint))throw new Error("One or more services are missing required properties");const io=yield xe.generateKey({algorithm:"Ed25519"}),Ts=yield xe.getPublicKey({keyUri:io}),ji=yield bo.identityKeyToIdentifier({identityKey:Ts}),Gr=Object.assign(Object.assign({id:ji},Ce.alsoKnownAs&&{alsoKnownAs:Ce.alsoKnownAs}),Ce.controllers&&{controller:Ce.controllers}),oo=[...null!==(rn=Ce.verificationMethods)&&void 0!==rn?rn:[]];oo?.some(si=>{var Qo;return"0"===(null===(Qo=si.id)||void 0===Qo?void 0:Qo.split("#").pop())})||oo.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const si of oo){const Qo=si.id&&"0"===si.id.split("#").pop()?io:yield xe.generateKey({algorithm:si.algorithm}),Zc=yield xe.getPublicKey({keyUri:Qo});let rt=null!==(cn=null!==(Cn=si.id)&&void 0!==Cn?Cn:Zc.kid)&&void 0!==cn?cn:yield $({jwk:Zc});rt=`${ji}#${Jt(rt)}`,null!==(Dt=Gr.verificationMethod)&&void 0!==Dt||(Gr.verificationMethod=[]),Gr.verificationMethod.push({id:rt,type:"JsonWebKey",controller:null!==(vn=si.controller)&&void 0!==vn?vn:ji,publicKeyJwk:Zc});for(const xt of null!==(Qr=si.purposes)&&void 0!==Qr?Qr:[])Gr[xt]||(Gr[xt]=[]),Gr[xt].push(rt)}null===(Ui=Ce.services)||void 0===Ui||Ui.forEach(si=>{var Qo;null!==(Qo=Gr.service)&&void 0!==Qo||(Gr.service=[]),si.id=`${ji}#${si.id.split("#").pop()}`,Gr.service.push(si)});const Lo=new ni({uri:ji,document:Gr,metadata:Object.assign({published:!1},Ce.types&&{types:Ce.types}),keyManager:xe});if(null===(Ii=Ce.publish)||void 0===Ii||Ii){const si=yield it.publish({did:Lo,gatewayUri:Ce.gatewayUri});Lo.metadata=si.didDocumentMetadata}return Lo})}static import(xe){return tr(this,arguments,void 0,function*({portableDid:Ce,keyManager:ot=new Pt}){var ct;const Mt=pe.parse(Ce.uri);if(Mt?.method!==it.methodName)throw new he(ve.MethodNotSupported,"Method not supported");const rn=yield ni.import({portableDid:Ce,keyManager:ot});if(null===(ct=rn.document.verificationMethod)||void 0===ct||!ct.some(Cn=>{var cn;return"0"===(null===(cn=Cn.id)||void 0===cn?void 0:cn.split("#").pop())}))throw new he(ve.InvalidDidDocument,"DID document must contain an Identity Key");return rn})}static getSigningMethod(xe){return tr(this,arguments,void 0,function*({didDocument:Ce,methodId:ot="#0"}){var ct;const Mt=pe.parse(Ce.id);if(Mt&&Mt.method!==this.methodName)throw new he(ve.MethodNotSupported,`Method not supported: ${Mt.method}`);const rn=null===(ct=Ce.verificationMethod)||void 0===ct?void 0:ct.find(Cn=>{var cn,Dt;return Jt(Cn.id)===(null!==(cn=Jt(ot))&&void 0!==cn?cn:Jt(null===(Dt=Ce.assertionMethod)||void 0===Dt?void 0:Dt[0]))});if(!rn||!rn.publicKeyJwk)throw new he(ve.InternalError,"A verification method intended for signing could not be determined from the DID Document");return rn})}static publish(xe){return tr(this,arguments,void 0,function*({did:Ce,gatewayUri:ot=Hr}){return yield qi.put({did:Ce,gatewayUri:ot})})}static resolve(xe){return tr(this,arguments,void 0,function*(Ce,ot={}){var ct;const Mt=null!==(ct=ot?.gatewayUri)&&void 0!==ct?ct:Hr;try{yield bo.identifierToIdentityKey({didUri:Ce});const{didDocument:rn,didDocumentMetadata:Cn}=yield qi.get({didUri:Ce,gatewayUri:Mt});return Object.assign(Object.assign({},ue),{didDocument:rn,didDocumentMetadata:Cn})}catch(rn){if(!(rn instanceof he))throw new Error(rn);return Object.assign(Object.assign({},ue),{didResolutionMetadata:Object.assign({error:rn.code},rn.message&&{errorMessage:rn.message})})}})}}return it.methodName="dht",it})();class qi{static get(Pe){return tr(this,arguments,void 0,function*({didUri:xe,gatewayUri:Ce}){const ot=bo.identifierToIdentityKeyBytes({didUri:xe}),ct=yield qi.pkarrGet({gatewayUri:Ce,publicKeyBytes:ot}),Mt=yield bo.parseBep44GetMessage({bep44Message:ct}),rn=yield qi.fromDnsPacket({didUri:xe,dnsPacket:Mt});return rn.didDocumentMetadata.versionId=ct.seq.toString(),rn})}static put(Pe){return tr(this,arguments,void 0,function*({did:xe,gatewayUri:Ce}){const ot=yield qi.toDnsPacket({didDocument:xe.document,didMetadata:xe.metadata,authoritativeGatewayUris:[Ce]}),ct=yield bo.createBep44PutMessage({dnsPacket:ot,publicKeyBytes:bo.identifierToIdentityKeyBytes({didUri:xe.uri}),signer:yield xe.getSigner({methodId:"0"})}),Mt=yield qi.pkarrPut({gatewayUri:Ce,bep44Message:ct});return{didDocument:xe.document,didDocumentMetadata:Object.assign(Object.assign({},xe.metadata),{published:Mt,versionId:ct.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(Pe){return tr(this,arguments,void 0,function*({gatewayUri:xe,publicKeyBytes:Ce}){const ot=M.U$.uint8Array(Ce).toBase32Z(),ct=new URL(ot,xe).href;let Mt;try{if(Mt=yield fetch(ct,{method:"GET"}),!Mt.ok)throw new he(ve.NotFound,`Pkarr record not found for: ${ot}`)}catch(cn){throw cn instanceof he?cn:new he(ve.InternalError,`Failed to fetch Pkarr record: ${cn.message}`)}const rn=yield Mt.arrayBuffer();if(!rn)throw new he(ve.NotFound,`Pkarr record not found for: ${ot}`);if(rn.byteLength<72)throw new he(ve.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${rn.byteLength}`);if(rn.byteLength>1072)throw new he(ve.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${rn.byteLength}`);return{k:Ce,seq:Number(new DataView(rn).getBigUint64(64)),sig:new Uint8Array(rn,0,64),v:new Uint8Array(rn,72)}})}static pkarrPut(Pe){return tr(this,arguments,void 0,function*({gatewayUri:xe,bep44Message:Ce}){const ot=M.U$.uint8Array(Ce.k).toBase32Z(),ct=new URL(ot,xe).href,Mt=new Uint8Array(Ce.v.length+72);let rn;Mt.set(Ce.sig,0),new DataView(Mt.buffer).setBigUint64(Ce.sig.length,BigInt(Ce.seq)),Mt.set(Ce.v,Ce.sig.length+8);try{rn=yield fetch(ct,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:Mt})}catch(Cn){throw new he(ve.InternalError,`Failed to put Pkarr record for identifier ${ot}: ${Cn.message}`)}return rn.ok})}static fromDnsPacket(Pe){return tr(this,arguments,void 0,function*({didUri:xe,dnsPacket:Ce}){var ot,ct,Mt;const rn={id:xe},Cn={published:!0},cn=new Map;for(const Dt of null!==(ot=Ce?.answers)&&void 0!==ot?ot:[]){if("TXT"!==Dt.type)continue;const vn=Dt.name.split(".")[0].substring(1);switch(!0){case vn.startsWith("aka"):{const Qr=bo.parseTxtDataToString(Dt.data);rn.alsoKnownAs=Qr.split(Mi);break}case vn.startsWith("cnt"):{const Qr=bo.parseTxtDataToString(Dt.data);rn.controller=Qr.includes(Mi)?Qr.split(Mi):Qr;break}case vn.startsWith("k"):{const{id:Qr,t:Ui,k:Ii,c:Ni,a:io}=bo.parseTxtDataToObject(Dt.data),Ts=M.U$.base64Url(Ii).toUint8Array(),ji=Ji[Number(Ui)];let Gr=yield bo.keyConverter(ji).bytesToPublicKey({publicKeyBytes:Ts});Gr.alg=io||Js[Number(Ui)];const oo="k0"===vn?"0":void 0!==Qr?Qr:yield $({jwk:Gr});null!==(ct=rn.verificationMethod)&&void 0!==ct||(rn.verificationMethod=[]);const Lo=`${xe}#${oo}`;rn.verificationMethod.push({id:Lo,type:"JsonWebKey",controller:Ni??xe,publicKeyJwk:Gr}),cn.set(vn,Lo);break}case vn.startsWith("s"):{const Qr=bo.parseTxtDataToObject(Dt.data),{id:Ui,t:Ii,se:Ni}=Qr,io=Dr(Qr,["id","t","se"]),Ts=Ni.includes(Mi)?Ni.split(Mi):[Ni],ji=Object.fromEntries(Object.entries(io).map(([Gr,oo])=>[Gr,oo.includes(Mi)?oo.split(Mi):oo]));null!==(Mt=rn.service)&&void 0!==Mt||(rn.service=[]),rn.service.push(Object.assign(Object.assign({},ji),{id:`${xe}#${Ui}`,type:Ii,serviceEndpoint:Ts}));break}case vn.startsWith("typ"):{const{id:Qr}=bo.parseTxtDataToObject(Dt.data);Cn.types=Qr.split(Mi).map(Ui=>Number(Ui));break}case vn.startsWith("did"):{const Qr=ji=>ji.split(Mi).map(Gr=>cn.get(Gr)).filter(Gr=>"string"==typeof Gr),{auth:Ui,asm:Ii,del:Ni,inv:io,agm:Ts}=bo.parseTxtDataToObject(Dt.data);Ui&&(rn.authentication=Qr(Ui)),Ii&&(rn.assertionMethod=Qr(Ii)),Ni&&(rn.capabilityDelegation=Qr(Ni)),io&&(rn.capabilityInvocation=Qr(io)),Ts&&(rn.keyAgreement=Qr(Ts));break}}}return{didDocument:rn,didDocumentMetadata:Cn,didResolutionMetadata:{}}})}static toDnsPacket(Pe){return tr(this,arguments,void 0,function*({didDocument:xe,didMetadata:Ce,authoritativeGatewayUris:ot,previousDidProof:ct}){var Mt,rn,Cn,cn,Dt;const vn=[],Qr=[],Ui=new Map,Ii=[],Ni=[];if(void 0!==ct){const{signature:ji,previousDid:Gr}=ct;yield bo.validatePreviousDidProof({newDid:xe.id,previousDidProof:ct}),vn.push({type:"TXT",name:"_prv._did.",ttl:li,data:`id=${Gr};s=${ji}`})}if(xe.alsoKnownAs&&vn.push({type:"TXT",name:"_aka._did.",ttl:li,data:xe.alsoKnownAs.join(Mi)}),xe.controller){const ji=Array.isArray(xe.controller)?xe.controller.join(Mi):xe.controller;vn.push({type:"TXT",name:"_cnt._did.",ttl:li,data:ji})}for(const[ji,Gr]of null!==(rn=null===(Mt=xe.verificationMethod)||void 0===Mt?void 0:Mt.entries())&&void 0!==rn?rn:[]){const oo=`k${ji}`;Ni.push(oo);let Lo=Gr.id.split("#").pop();Ui.set(Lo,oo);const si=Gr.publicKeyJwk;if(!si?.crv||!(si.crv in As))throw new he(ve.InvalidPublicKeyType,`Verification method '${Gr.id}' contains an unsupported key type: ${null!==(Cn=si?.crv)&&void 0!==Cn?Cn:"undefined"}`);const Qo=Ji[si.crv],Zc=yield bo.keyConverter(si.crv).publicKeyToBytes({publicKey:si}),xt=[`t=${Qo}`,`k=${M.U$.uint8Array(Zc).toBase64Url()}`];"0"!==Lo&&(yield $({jwk:si}))!==Lo&&xt.unshift(`id=${Lo}`),si.alg!==Js[Qo]&&xt.push(`a=${si.alg}`),Gr.controller!==xe.id&&xt.push(`c=${Gr.controller}`),vn.push({type:"TXT",name:`_${oo}._did.`,ttl:li,data:xt.join(";")})}null===(cn=xe.service)||void 0===cn||cn.forEach((ji,Gr)=>{const oo=`s${Gr}`;Ii.push(oo);let{id:Lo,type:si,serviceEndpoint:Qo}=ji,Zc=Dr(ji,["id","type","serviceEndpoint"]);Lo=Jt(Lo),Qo=Array.isArray(Qo)?Qo.join(","):Qo;const xt=Object.entries(Object.assign({id:Lo,t:si,se:Qo},Zc)).map(([It,qt])=>`${It}=${qt}`).join(";"),lt=bo.chunkDataIfNeeded(xt);vn.push({type:"TXT",name:`_${oo}._did.`,ttl:li,data:lt})});const io=["v=0"];if(Ni.length&&io.push(`vm=${Ni.join(Mi)}`),Object.keys(te).forEach(ji=>{var Gr;const oo=null===(Gr=xe[ji])||void 0===Gr?void 0:Gr.map(Lo=>Ui.get(Lo.split("#").pop()));oo&&io.push(`${bs[ji]}=${oo.join(Mi)}`)}),Ii.length&&io.push(`svc=${Ii.join(Mi)}`),null!==(Dt=Ce.types)&&void 0!==Dt&&Dt.length){const Gr=Ce.types.map(oo=>"string"==typeof oo?ls[oo]:oo);vn.push({type:"TXT",name:"_typ._did.",ttl:li,data:`id=${Gr.join(Mi)}`})}vn.push({type:"TXT",name:"_did."+qi.getUniqueDidSuffix(xe.id)+".",ttl:li,data:io.join(";")});for(const ji of ot||[])Qr.push({type:"NS",name:"_did."+qi.getUniqueDidSuffix(xe.id)+".",ttl:li,data:ji+"."});return{id:0,type:"response",flags:yn.hB,answers:[...vn,...Qr]}})}static getUniqueDidSuffix(Pe){return Pe.split(":")[2]}}class bo{static createBep44PutMessage(Pe){return tr(this,arguments,void 0,function*({dnsPacket:xe,publicKeyBytes:Ce,signer:ot}){const ct=Math.ceil(Date.now()/1e3),Mt=(0,yn.lF)(xe),rn=Ei.A.encode({seq:ct,v:Mt}).subarray(1,-1);if(rn.length>1e3)throw new he(ve.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${rn.length} bytes`);return{k:Ce,seq:ct,sig:yield ot.sign({data:rn}),v:Mt}})}static identifierToIdentityKey(Pe){return tr(this,arguments,void 0,function*({didUri:xe}){let Ce=bo.identifierToIdentityKeyBytes({didUri:xe});return yield we.bytesToPublicKey({publicKeyBytes:Ce})})}static identifierToIdentityKeyBytes({didUri:Pe}){const xe=pe.parse(Pe);if(!xe)throw new he(ve.InvalidDid,`Invalid DID URI: ${Pe}`);if(xe.method!==Eo.methodName)throw new he(ve.MethodNotSupported,`Method not supported: ${xe.method}`);let Ce;try{Ce=M.U$.base32Z(xe.id).toUint8Array()}catch{throw new he(ve.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==Ce.length)throw new he(ve.InvalidPublicKeyLength,`Invalid public key length: ${Ce.length}`);return Ce}static identityKeyToIdentifier(Pe){return tr(this,arguments,void 0,function*({identityKey:xe}){const Ce=yield we.publicKeyToBytes({publicKey:xe}),ot=M.U$.uint8Array(Ce).toBase32Z();return`did:${Eo.methodName}:${ot}`})}static keyConverter(Pe){const Ce={Ed25519:we,"P-256":{publicKeyToBytes:ot=>tr(this,[ot],void 0,function*({publicKey:ct}){const Mt=yield Se.publicKeyToBytes({publicKey:ct});return yield Se.compressPublicKey({publicKeyBytes:Mt})}),bytesToPublicKey:Se.bytesToPublicKey,privateKeyToBytes:Se.privateKeyToBytes,bytesToPrivateKey:Se.bytesToPrivateKey},secp256k1:{publicKeyToBytes:ot=>tr(this,[ot],void 0,function*({publicKey:ct}){const Mt=yield Qe.publicKeyToBytes({publicKey:ct});return yield Qe.compressPublicKey({publicKeyBytes:Mt})}),bytesToPublicKey:Qe.bytesToPublicKey,privateKeyToBytes:Qe.privateKeyToBytes,bytesToPrivateKey:Qe.bytesToPrivateKey},X25519:mt}[Pe];if(!Ce)throw new he(ve.InvalidPublicKeyType,`Unsupported curve: ${Pe}`);return Ce}static parseBep44GetMessage(Pe){return tr(this,arguments,void 0,function*({bep44Message:xe}){const Ce=yield we.bytesToPublicKey({publicKeyBytes:xe.k}),ot=Ei.A.encode({seq:xe.seq,v:xe.v}).subarray(1,-1);if(!(yield we.verify({key:Ce,signature:xe.sig,data:ot})))throw new he(ve.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,yn.D4)(xe.v)})}static parseTxtDataToObject(Pe){return this.parseTxtDataToString(Pe).split(";").reduce((xe,Ce)=>{const[ot,ct]=Ce.split("=");return xe[ot]=ct,xe},{})}static parseTxtDataToString(Pe){if("string"==typeof Pe)return Pe;if(Pe instanceof Uint8Array)return M.U$.uint8Array(Pe).toString();if(Array.isArray(Pe))return Pe.map(xe=>this.parseTxtDataToString(xe)).join("");throw new he(ve.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(Pe){return tr(this,arguments,void 0,function*({newDid:xe,previousDidProof:Ce}){const ot=yield bo.identifierToIdentityKey({didUri:Ce.previousDid}),ct=bo.identifierToIdentityKeyBytes({didUri:xe}),Mt=M.U$.base64Url(Ce.signature).toUint8Array();if(!(yield we.verify({key:ot,data:ct,signature:Mt})))throw new he(ve.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(Pe){if(Pe.length<=255)return Pe;const xe=[];for(let Ce=0;Ce<Pe.length;Ce+=255)xe.push(Pe.slice(Ce,Ce+255));return xe}}A(52039);var nc=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};let Cc=(()=>{class it extends Nn{static create(){return nc(this,arguments,void 0,function*({keyManager:xe=new Pt,options:Ce={}}={}){var ot,ct,Mt,rn;if(Ce.algorithm&&Ce.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(Ce.verificationMethods&&1!==Ce.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const Cn=null!==(rn=null!==(ot=Ce.algorithm)&&void 0!==ot?ot:null===(Mt=null===(ct=Ce.verificationMethods)||void 0===ct?void 0:ct[0])||void 0===Mt?void 0:Mt.algorithm)&&void 0!==rn?rn:"Ed25519",cn=yield xe.generateKey({algorithm:Cn}),Dt=yield xe.getPublicKey({keyUri:cn}),vn=M.U$.object(Dt).toBase64Url(),Qr=`did:${it.methodName}:${vn}`,Ii=(yield it.resolve(Qr)).didDocument;return new ni({uri:Qr,document:Ii,metadata:{},keyManager:xe})})}static getSigningMethod(xe){return nc(this,arguments,void 0,function*({didDocument:Ce}){var ot;const ct=pe.parse(Ce.id);if(ct&&ct.method!==this.methodName)throw new he(ve.MethodNotSupported,`Method not supported: ${ct.method}`);const[Mt]=null!==(ot=Ce.verificationMethod)&&void 0!==ot?ot:[];if(!Mt||!Mt.publicKeyJwk)throw new he(ve.InternalError,"A verification method intended for signing could not be determined from the DID Document");return Mt})}static import(xe){return nc(this,arguments,void 0,function*({portableDid:Ce,keyManager:ot=new Pt}){const ct=pe.parse(Ce.uri);if(ct?.method!==it.methodName)throw new he(ve.MethodNotSupported,"Method not supported");const Mt=yield ni.import({portableDid:Ce,keyManager:ot});if(1!==Mt.document.verificationMethod.length)throw new he(ve.InvalidDidDocument,"DID document must contain exactly one verification method");return Mt})}static resolve(xe,Ce){return nc(this,void 0,void 0,function*(){const ot=pe.parse(xe);let ct;try{ct=M.U$.base64Url(ot.id).toObject()}catch{}if(!ot||!ct)return Object.assign(Object.assign({},ue),{didResolutionMetadata:{error:"invalidDid"}});if(ot.method!==it.methodName)return Object.assign(Object.assign({},ue),{didResolutionMetadata:{error:"methodNotSupported"}});const Mt={"@context":["https://www.w3.org/ns/did/v1"],id:ot.uri},rn=`${Mt.id}#0`;switch(Mt.verificationMethod=[{id:rn,type:"JsonWebKey",controller:Mt.id,publicKeyJwk:ct}],Mt.authentication=[rn],Mt.assertionMethod=[rn],Mt.capabilityInvocation=[rn],Mt.capabilityDelegation=[rn],Mt.keyAgreement=[rn],ct.use){case"sig":delete Mt.keyAgreement;break;case"enc":delete Mt.authentication,delete Mt.assertionMethod,delete Mt.capabilityInvocation,delete Mt.capabilityDelegation}return Object.assign(Object.assign({},ue),{didDocument:Mt})})}}return it.methodName="jwk",it})();var Ff=A(97829),Mc=A(67449);class Ic{constructor({db:Pe,location:xe="DATA/DID_RESOLVERCACHE",ttl:Ce="15m"}={}){this.cache=Pe??new Mc.Level(xe),this.ttl=Ff(Ce)}get(Pe){return function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})}(this,void 0,void 0,function*(){try{const xe=yield this.cache.get(Pe),Ce=JSON.parse(xe);return Date.now()>=Ce.ttlMillis?void this.cache.nextTick(()=>this.cache.del(Pe)):Ce.value}catch(xe){if(xe.notFound)return;throw xe}})}set(Pe,xe){const Ce={ttlMillis:Date.now()+this.ttl,value:xe},ot=JSON.stringify(Ce);return this.cache.put(Pe,ot)}delete(Pe){return this.cache.del(Pe)}clear(){return this.cache.clear()}close(){return this.cache.close()}}var rc=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};class Wl{constructor(Pe){this._agentDid=Pe.agentDid,this.crypto=Pe.cryptoApi,this.did=Pe.didApi,this.dwn=Pe.dwnApi,this.identity=Pe.identityApi,this.keyManager=Pe.keyManager,this.rpc=Pe.rpcClient,this.sync=Pe.syncApi,this.vault=Pe.agentVault,this.did.agent=this,this.dwn.agent=this,this.identity.agent=this,this.keyManager.agent=this,this.sync.agent=this}get agentDid(){if(void 0===this._agentDid)throw new Error('Web5UserAgent: The "agentDid" property is not set. Ensure the agent is properly initialized and a DID is assigned.');return this._agentDid}set agentDid(Pe){this._agentDid=Pe}static create({dataPath:Pe="DATA/AGENT",agentDid:xe,agentVault:Ce,cryptoApi:ot,didApi:ct,dwnApi:Mt,identityApi:rn,keyManager:Cn,rpcClient:cn,syncApi:Dt}={}){return rc(this,void 0,void 0,function*(){return Ce??(Ce=new h.TX({keyDerivationWorkFactor:21e4,store:new M.cG({location:`${Pe}/VAULT_STORE`})})),ot??(ot=new h.DP),ct??(ct=new h.Bq({didMethods:[Eo,Cc],resolverCache:new Ic({location:`${Pe}/DID_RESOLVERCACHE`}),store:new h.QZ})),Mt??(Mt=new h.rr({dwn:yield h.rr.createDwn({dataPath:Pe,didResolver:ct})})),rn??(rn=new h.yc({store:new h.dk})),Cn??(Cn=new h.eP({keyStore:new h.cW})),cn??(cn=new h.oN),Dt??(Dt=new h.rM({syncEngine:new h.qB({dataPath:Pe})})),new Wl({agentDid:xe,agentVault:Ce,cryptoApi:ot,didApi:ct,dwnApi:Mt,keyManager:Cn,identityApi:rn,rpcClient:cn,syncApi:Dt})})}firstLaunch(){return rc(this,void 0,void 0,function*(){return!1===(yield this.vault.isInitialized())})}initialize({password:Pe,recoveryPhrase:xe}){return rc(this,void 0,void 0,function*(){return xe=yield this.vault.initialize({password:Pe,recoveryPhrase:xe})})}processDidRequest(Pe){return rc(this,void 0,void 0,function*(){return this.did.processRequest(Pe)})}processDwnRequest(Pe){return rc(this,void 0,void 0,function*(){return this.dwn.processRequest(Pe)})}processVcRequest(Pe){return rc(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(Pe){return rc(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(Pe){return rc(this,void 0,void 0,function*(){return this.dwn.sendRequest(Pe)})}sendVcRequest(Pe){return rc(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start({password:Pe}){return rc(this,void 0,void 0,function*(){this.vault.isLocked()&&(yield this.vault.unlock({password:Pe})),this.agentDid=yield this.vault.getDid()})}}class Ns{constructor({agent:Pe,connectedDid:xe}){this.agent=Pe,this.connectedDid=xe,this.did=new Y({agent:Pe,connectedDid:xe}),this.dwn=new de({agent:Pe,connectedDid:xe}),this.vc=new re({agent:Pe,connectedDid:xe})}static connect({agent:Pe,agentVault:xe,connectedDid:Ce,password:ot,recoveryPhrase:ct,sync:Mt,techPreview:rn,didCreateOptions:Cn,registration:cn}={}){var Dt,vn,Qr;return function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})}(this,void 0,void 0,function*(){if(void 0===Pe){const Ii=yield Wl.create({agentVault:xe});Pe=Ii,void 0===ot&&(ot="insecure-static-phrase",console.warn("%cSECURITY WARNING:%c You have not set a password, which defaults to a static, guessable value. This significantly compromises the security of your data. Please configure a secure, unique password.","font-weight: bold; color: red;","font-weight: normal; color: inherit;")),(yield Ii.firstLaunch())&&(ct=yield Ii.initialize({password:ot,recoveryPhrase:ct})),yield Ii.start({password:ot});{let io;const Ts=yield Ii.identity.list(),ji=Ts.length;if(0===ji){const Gr=null!==(vn=null!==(Dt=rn?.dwnEndpoints)&&void 0!==Dt?Dt:Cn?.dwnEndpoints)&&void 0!==vn?vn:["https://dwn.tbddev.org/beta"];io=yield Ii.identity.create({didMethod:"dht",metadata:{name:"Default"},didOptions:{services:[{id:"dwn",type:"DecentralizedWebNode",serviceEndpoint:Gr,enc:"#enc",sig:"#sig"}],verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]},{algorithm:"secp256k1",id:"enc",purposes:["keyAgreement"]}]}}),yield Ii.identity.manage({portableIdentity:yield io.export()})}else{if(1!==ji)throw new Error(`connect() failed due to unexpected state: Expected 1 but found ${ji} stored identities.`);io=Ts[0]}Ce=io.did.uri}if(void 0!==cn){const io=null!==(Qr=rn?.dwnEndpoints)&&void 0!==Qr?Qr:Cn?.dwnEndpoints;try{for(const Ts of io)0!==(yield Ii.rpc.getServerInfo(Ts)).registrationRequirements.length&&(yield h.Vu.registerTenant(Ts,Pe.agentDid.uri),yield h.Vu.registerTenant(Ts,Ce));cn.onSuccess()}catch(Ts){cn.onFailure(Ts)}}"off"!==Mt&&(yield Ii.sync.registerIdentity({did:Ce}),Mt??(Mt="2m"),Ii.sync.startSync({interval:Mt}).catch(io=>{console.error(`Sync failed: ${io}`)}))}return{web5:new Ns({agent:Pe,connectedDid:Ce}),did:Ce,recoveryPhrase:ct}})}}var Kd=function(it){return it.authentication="authentication",it.assertionMethod="assertionMethod",it.keyAgreement="keyAgreement",it.capabilityInvocation="capabilityInvocation",it.capabilityDelegation="capabilityDelegation",it}(Kd||{});const Pl={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Oi{constructor({method:Pe,id:xe,path:Ce,query:ot,fragment:ct,params:Mt}){this.uri=`did:${Pe}:${xe}`,this.method=Pe,this.id=xe,this.path=Ce,this.query=ot,this.fragment=ct,this.params=Mt}static parse(Pe){if(!Pe)return null;const xe=Oi.DID_URI_PATTERN.exec(Pe);if(!xe||!xe.groups)return null;const{method:Ce,id:ot,path:ct,query:Mt,fragment:rn}=xe.groups,Cn={uri:`did:${Ce}:${ot}`,method:Ce,id:ot};if(ct&&(Cn.path=ct),Mt&&(Cn.query=Mt.slice(1)),rn&&(Cn.fragment=rn.slice(1)),Mt){const cn={},Dt=Mt.slice(1).split("&");for(const vn of Dt){const[Qr,Ui]=vn.split("=");cn[Qr]=Ui}Cn.params=cn}return Cn}}Oi.METHOD_PATTERN="([a-z0-9]+)",Oi.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Oi.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Oi.PCT_ENCODED_PATTERN})`,Oi.METHOD_ID_PATTERN=`((?:${Oi.ID_CHAR_PATTERN}*:)*(${Oi.ID_CHAR_PATTERN}+))`,Oi.PATH_PATTERN="(/[^#?]*)?",Oi.QUERY_PATTERN="([?][^#]*)?",Oi.FRAGMENT_PATTERN="(#.*)?",Oi.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Oi.METHOD_PATTERN}):(?<id>${Oi.METHOD_ID_PATTERN})(?<path>${Oi.PATH_PATTERN})(?<query>${Oi.QUERY_PATTERN})(?<fragment>${Oi.FRAGMENT_PATTERN})$`);class Yo extends Error{constructor(Pe,xe){super(`${Pe}: ${xe}`),this.code=Pe,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yo)}}var ns=function(it){return it.InvalidDid="invalidDid",it.MethodNotSupported="methodNotSupported",it.InternalError="internalError",it.InvalidDidDocument="invalidDidDocument",it.InvalidDidDocumentLength="invalidDidDocumentLength",it.InvalidDidUrl="invalidDidUrl",it.InvalidPreviousDidProof="invalidPreviousDidProof",it.InvalidPublicKey="invalidPublicKey",it.InvalidPublicKeyLength="invalidPublicKeyLength",it.InvalidPublicKeyType="invalidPublicKeyType",it.InvalidSignature="invalidSignature",it.NotFound="notFound",it.RepresentationNotSupported="representationNotSupported",it.UnsupportedPublicKeyType="unsupportedPublicKeyType",it}(ns||{});class df{static digest({data:Pe}){return function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})}(this,void 0,void 0,function*(){return(0,ge.s)(Pe)})}}class qs{}const vl="urn:jwk:";function qo({jwk:it}){return function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})}(this,void 0,void 0,function*(){const Pe=it.kty;let xe;if("EC"===Pe)xe={crv:it.crv,kty:it.kty,x:it.x,y:it.y};else if("oct"===Pe)xe={k:it.k,kty:it.kty};else if("OKP"===Pe)xe={crv:it.crv,kty:it.kty,x:it.x};else{if("RSA"!==Pe)throw new Error(`Unsupported key type: ${Pe}`);xe={e:it.e,kty:it.kty,n:it.n}}(0,M.E8)(xe);const Ce=function pa(it){const Pe=Ce=>{if(null!==Ce&&"object"==typeof Ce&&!Array.isArray(Ce)){const ot=Object.keys(Ce).sort(),ct={};for(const Mt of ot)ct[Mt]=Pe(Ce[Mt]);return ct}return Ce},xe=Pe(it);return JSON.stringify(xe)}(xe),ot=M.U$.string(Ce).toUint8Array(),ct=yield df.digest({data:ot});return M.U$.uint8Array(ct).toBase64Url()})}function kr(it){return!(!it||"object"!=typeof it||!("kty"in it&&"crv"in it&&"x"in it&&"d"in it)||"EC"!==it.kty||"string"!=typeof it.d||"string"!=typeof it.x)}function lo(it){return!(!it||"object"!=typeof it||!("kty"in it&&"crv"in it&&"x"in it)||"d"in it||"EC"!==it.kty||"string"!=typeof it.x)}function ds(it){return!(!it||"object"!=typeof it||!("kty"in it&&"crv"in it&&"x"in it&&"d"in it)||"OKP"!==it.kty||"string"!=typeof it.d||"string"!=typeof it.x)}function oc(it){return!(!it||"object"!=typeof it||"d"in it||!("kty"in it&&"crv"in it&&"x"in it)||"OKP"!==it.kty||"string"!=typeof it.x)}var ko=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};class ro{static adjustSignatureToLowS({signature:Pe}){return ko(this,void 0,void 0,function*(){const xe=f.bI.Signature.fromCompact(Pe);return xe.hasHighS()?xe.normalizeS().toCompactRawBytes():Pe})}static bytesToPrivateKey({privateKeyBytes:Pe}){return ko(this,void 0,void 0,function*(){const xe=yield ro.getCurvePoint({keyBytes:Pe}),Ce={kty:"EC",crv:"secp256k1",d:M.U$.uint8Array(Pe).toBase64Url(),x:M.U$.uint8Array(xe.x).toBase64Url(),y:M.U$.uint8Array(xe.y).toBase64Url()};return Ce.kid=yield qo({jwk:Ce}),Ce})}static bytesToPublicKey({publicKeyBytes:Pe}){return ko(this,void 0,void 0,function*(){const xe=yield ro.getCurvePoint({keyBytes:Pe}),Ce={kty:"EC",crv:"secp256k1",x:M.U$.uint8Array(xe.x).toBase64Url(),y:M.U$.uint8Array(xe.y).toBase64Url()};return Ce.kid=yield qo({jwk:Ce}),Ce})}static compressPublicKey({publicKeyBytes:Pe}){return ko(this,void 0,void 0,function*(){return f.bI.ProjectivePoint.fromHex(Pe).toRawBytes(!0)})}static computePublicKey({key:Pe}){return ko(this,void 0,void 0,function*(){const xe=yield ro.privateKeyToBytes({privateKey:Pe}),Ce=yield ro.getCurvePoint({keyBytes:xe}),ot={kty:"EC",crv:"secp256k1",x:M.U$.uint8Array(Ce.x).toBase64Url(),y:M.U$.uint8Array(Ce.y).toBase64Url()};return ot.kid=yield qo({jwk:ot}),ot})}static convertDerToCompactSignature({derSignature:Pe}){return ko(this,void 0,void 0,function*(){return f.bI.Signature.fromDER(Pe).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Pe}){return ko(this,void 0,void 0,function*(){return f.bI.ProjectivePoint.fromHex(Pe).toRawBytes(!1)})}static generateKey(){return ko(this,void 0,void 0,function*(){const Pe=f.bI.utils.randomPrivateKey(),xe=yield ro.bytesToPrivateKey({privateKeyBytes:Pe});return xe.kid=yield qo({jwk:xe}),xe})}static getPublicKey({key:Pe}){var xe;return ko(this,void 0,void 0,function*(){if(!kr(Pe)||"secp256k1"!==Pe.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let ot=function(it,Pe){var xe={};for(var Ce in it)Object.prototype.hasOwnProperty.call(it,Ce)&&Pe.indexOf(Ce)<0&&(xe[Ce]=it[Ce]);if(null!=it&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(Ce=Object.getOwnPropertySymbols(it);ot<Ce.length;ot++)Pe.indexOf(Ce[ot])<0&&Object.prototype.propertyIsEnumerable.call(it,Ce[ot])&&(xe[Ce[ot]]=it[Ce[ot]])}return xe}(Pe,["d"]);return null!==(xe=ot.kid)&&void 0!==xe||(ot.kid=yield qo({jwk:ot})),ot})}static privateKeyToBytes({privateKey:Pe}){return ko(this,void 0,void 0,function*(){if(!kr(Pe))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return M.U$.base64Url(Pe.d).toUint8Array()})}static publicKeyToBytes({publicKey:Pe}){return ko(this,void 0,void 0,function*(){if(!lo(Pe)||!Pe.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const xe=new Uint8Array([4]),Ce=M.U$.base64Url(Pe.x).toUint8Array(),ot=M.U$.base64Url(Pe.y).toUint8Array();return new Uint8Array([...xe,...Ce,...ot])})}static sharedSecret({privateKeyA:Pe,publicKeyB:xe}){return ko(this,void 0,void 0,function*(){if("x"in Pe&&"x"in xe&&Pe.x===xe.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const Ce=yield ro.privateKeyToBytes({privateKey:Pe}),ot=yield ro.publicKeyToBytes({publicKey:xe});return f.bI.getSharedSecret(Ce,ot,!0).slice(1)})}static sign({data:Pe,key:xe}){return ko(this,void 0,void 0,function*(){const Ce=yield ro.privateKeyToBytes({privateKey:xe}),ot=(0,ge.s)(Pe);return f.bI.sign(ot,Ce).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Pe}){return ko(this,void 0,void 0,function*(){return f.bI.utils.isValidPrivateKey(Pe)})}static validatePublicKey({publicKeyBytes:Pe}){return ko(this,void 0,void 0,function*(){try{f.bI.ProjectivePoint.fromHex(Pe).assertValidity()}catch{return!1}return!0})}static verify({key:Pe,signature:xe,data:Ce}){return ko(this,void 0,void 0,function*(){const ot=yield ro.publicKeyToBytes({publicKey:Pe}),ct=(0,ge.s)(Ce);return f.bI.verify(xe,ct,ot,{lowS:!1})})}static getCurvePoint({keyBytes:Pe}){return ko(this,void 0,void 0,function*(){32===Pe.byteLength&&(Pe=f.bI.getPublicKey(Pe));const xe=f.bI.ProjectivePoint.fromHex(Pe);return{x:(0,w.lq)(xe.x,32),y:(0,w.lq)(xe.y,32)}})}}var us=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};class Qs{static adjustSignatureToLowS({signature:Pe}){return us(this,void 0,void 0,function*(){const xe=ke.Ag.Signature.fromCompact(Pe);return xe.hasHighS()?xe.normalizeS().toCompactRawBytes():Pe})}static bytesToPrivateKey({privateKeyBytes:Pe}){return us(this,void 0,void 0,function*(){const xe=yield Qs.getCurvePoint({keyBytes:Pe}),Ce={kty:"EC",crv:"P-256",d:M.U$.uint8Array(Pe).toBase64Url(),x:M.U$.uint8Array(xe.x).toBase64Url(),y:M.U$.uint8Array(xe.y).toBase64Url()};return Ce.kid=yield qo({jwk:Ce}),Ce})}static bytesToPublicKey({publicKeyBytes:Pe}){return us(this,void 0,void 0,function*(){const xe=yield Qs.getCurvePoint({keyBytes:Pe}),Ce={kty:"EC",crv:"P-256",x:M.U$.uint8Array(xe.x).toBase64Url(),y:M.U$.uint8Array(xe.y).toBase64Url()};return Ce.kid=yield qo({jwk:Ce}),Ce})}static compressPublicKey({publicKeyBytes:Pe}){return us(this,void 0,void 0,function*(){return ke.Ag.ProjectivePoint.fromHex(Pe).toRawBytes(!0)})}static computePublicKey({key:Pe}){return us(this,void 0,void 0,function*(){const xe=yield Qs.privateKeyToBytes({privateKey:Pe}),Ce=yield Qs.getCurvePoint({keyBytes:xe}),ot={kty:"EC",crv:"P-256",x:M.U$.uint8Array(Ce.x).toBase64Url(),y:M.U$.uint8Array(Ce.y).toBase64Url()};return ot.kid=yield qo({jwk:ot}),ot})}static convertDerToCompactSignature({derSignature:Pe}){return us(this,void 0,void 0,function*(){return ke.Ag.Signature.fromDER(Pe).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Pe}){return us(this,void 0,void 0,function*(){return ke.Ag.ProjectivePoint.fromHex(Pe).toRawBytes(!1)})}static generateKey(){return us(this,void 0,void 0,function*(){const Pe=ke.Ag.utils.randomPrivateKey(),xe=yield Qs.bytesToPrivateKey({privateKeyBytes:Pe});return xe.kid=yield qo({jwk:xe}),xe})}static getPublicKey({key:Pe}){var xe;return us(this,void 0,void 0,function*(){if(!kr(Pe)||"P-256"!==Pe.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let ot=function(it,Pe){var xe={};for(var Ce in it)Object.prototype.hasOwnProperty.call(it,Ce)&&Pe.indexOf(Ce)<0&&(xe[Ce]=it[Ce]);if(null!=it&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(Ce=Object.getOwnPropertySymbols(it);ot<Ce.length;ot++)Pe.indexOf(Ce[ot])<0&&Object.prototype.propertyIsEnumerable.call(it,Ce[ot])&&(xe[Ce[ot]]=it[Ce[ot]])}return xe}(Pe,["d"]);return null!==(xe=ot.kid)&&void 0!==xe||(ot.kid=yield qo({jwk:ot})),ot})}static privateKeyToBytes({privateKey:Pe}){return us(this,void 0,void 0,function*(){if(!kr(Pe))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return M.U$.base64Url(Pe.d).toUint8Array()})}static publicKeyToBytes({publicKey:Pe}){return us(this,void 0,void 0,function*(){if(!lo(Pe)||!Pe.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const xe=new Uint8Array([4]),Ce=M.U$.base64Url(Pe.x).toUint8Array(),ot=M.U$.base64Url(Pe.y).toUint8Array();return new Uint8Array([...xe,...Ce,...ot])})}static sharedSecret({privateKeyA:Pe,publicKeyB:xe}){return us(this,void 0,void 0,function*(){if("x"in Pe&&"x"in xe&&Pe.x===xe.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const Ce=yield Qs.privateKeyToBytes({privateKey:Pe}),ot=yield Qs.publicKeyToBytes({publicKey:xe});return ke.Ag.getSharedSecret(Ce,ot,!0).slice(1)})}static sign({data:Pe,key:xe}){return us(this,void 0,void 0,function*(){const Ce=yield Qs.privateKeyToBytes({privateKey:xe}),ot=(0,ge.s)(Pe);return ke.Ag.sign(ot,Ce).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Pe}){return us(this,void 0,void 0,function*(){return ke.Ag.utils.isValidPrivateKey(Pe)})}static validatePublicKey({publicKeyBytes:Pe}){return us(this,void 0,void 0,function*(){try{ke.Ag.ProjectivePoint.fromHex(Pe).assertValidity()}catch{return!1}return!0})}static verify({key:Pe,signature:xe,data:Ce}){return us(this,void 0,void 0,function*(){const ot=yield Qs.publicKeyToBytes({publicKey:Pe}),ct=(0,ge.s)(Ce);return ke.Ag.verify(xe,ct,ot,{lowS:!1})})}static getCurvePoint({keyBytes:Pe}){return us(this,void 0,void 0,function*(){32===Pe.byteLength&&(Pe=ke.Ag.getPublicKey(Pe));const xe=ke.Ag.ProjectivePoint.fromHex(Pe);return{x:(0,w.lq)(xe.x,32),y:(0,w.lq)(xe.y,32)}})}}var Bo=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};class Xl extends qs{computePublicKey({key:Pe}){return Bo(this,void 0,void 0,function*(){if(!kr(Pe))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Pe.crv){case"secp256k1":{const xe=yield ro.computePublicKey({key:Pe});return xe.alg="ES256K",xe}case"P-256":{const xe=yield Qs.computePublicKey({key:Pe});return xe.alg="ES256",xe}default:throw new Error(`Unsupported curve: ${Pe.crv}`)}})}generateKey({algorithm:Pe}){return Bo(this,void 0,void 0,function*(){switch(Pe){case"ES256K":case"secp256k1":{const xe=yield ro.generateKey();return xe.alg="ES256K",xe}case"ES256":case"secp256r1":{const xe=yield Qs.generateKey();return xe.alg="ES256",xe}}})}getPublicKey({key:Pe}){return Bo(this,void 0,void 0,function*(){if(!kr(Pe))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Pe.crv){case"secp256k1":{const xe=yield ro.getPublicKey({key:Pe});return xe.alg="ES256K",xe}case"P-256":{const xe=yield Qs.getPublicKey({key:Pe});return xe.alg="ES256",xe}default:throw new Error(`Unsupported curve: ${Pe.crv}`)}})}sign({key:Pe,data:xe}){return Bo(this,void 0,void 0,function*(){if(!kr(Pe))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Pe.crv){case"secp256k1":return yield ro.sign({key:Pe,data:xe});case"P-256":return yield Qs.sign({key:Pe,data:xe});default:throw new Error(`Unsupported curve: ${Pe.crv}`)}})}verify({key:Pe,signature:xe,data:Ce}){return Bo(this,void 0,void 0,function*(){if(!lo(Pe))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(Pe.crv){case"secp256k1":return yield ro.verify({key:Pe,signature:xe,data:Ce});case"P-256":return yield Qs.verify({key:Pe,signature:xe,data:Ce});default:throw new Error(`Unsupported curve: ${Pe.crv}`)}})}}var wi=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};class Ca{static bytesToPrivateKey({privateKeyBytes:Pe}){return wi(this,void 0,void 0,function*(){const xe=be.ev.getPublicKey(Pe),Ce={crv:"Ed25519",d:M.U$.uint8Array(Pe).toBase64Url(),kty:"OKP",x:M.U$.uint8Array(xe).toBase64Url()};return Ce.kid=yield qo({jwk:Ce}),Ce})}static bytesToPublicKey({publicKeyBytes:Pe}){return wi(this,void 0,void 0,function*(){const xe={kty:"OKP",crv:"Ed25519",x:M.U$.uint8Array(Pe).toBase64Url()};return xe.kid=yield qo({jwk:xe}),xe})}static computePublicKey({key:Pe}){return wi(this,void 0,void 0,function*(){const xe=yield Ca.privateKeyToBytes({privateKey:Pe}),Ce=be.ev.getPublicKey(xe),ot={kty:"OKP",crv:"Ed25519",x:M.U$.uint8Array(Ce).toBase64Url()};return ot.kid=yield qo({jwk:ot}),ot})}static convertPrivateKeyToX25519({privateKey:Pe}){return wi(this,void 0,void 0,function*(){const xe=yield Ca.privateKeyToBytes({privateKey:Pe}),Ce=(0,be.OA)(xe),ot=be.TU.getPublicKey(Ce),ct={kty:"OKP",crv:"X25519",d:M.U$.uint8Array(Ce).toBase64Url(),x:M.U$.uint8Array(ot).toBase64Url()};return ct.kid=yield qo({jwk:ct}),ct})}static convertPublicKeyToX25519({publicKey:Pe}){return wi(this,void 0,void 0,function*(){const xe=yield Ca.publicKeyToBytes({publicKey:Pe});if(!(yield Ca.validatePublicKey({publicKeyBytes:xe})))throw new Error("Ed25519: Invalid public key.");const ot=(0,be.GU)(xe),ct={kty:"OKP",crv:"X25519",x:M.U$.uint8Array(ot).toBase64Url()};return ct.kid=yield qo({jwk:ct}),ct})}static generateKey(){return wi(this,void 0,void 0,function*(){const Pe=be.ev.utils.randomPrivateKey(),xe=yield Ca.bytesToPrivateKey({privateKeyBytes:Pe});return xe.kid=yield qo({jwk:xe}),xe})}static getPublicKey({key:Pe}){var xe;return wi(this,void 0,void 0,function*(){if(!ds(Pe)||"Ed25519"!==Pe.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let ot=function(it,Pe){var xe={};for(var Ce in it)Object.prototype.hasOwnProperty.call(it,Ce)&&Pe.indexOf(Ce)<0&&(xe[Ce]=it[Ce]);if(null!=it&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(Ce=Object.getOwnPropertySymbols(it);ot<Ce.length;ot++)Pe.indexOf(Ce[ot])<0&&Object.prototype.propertyIsEnumerable.call(it,Ce[ot])&&(xe[Ce[ot]]=it[Ce[ot]])}return xe}(Pe,["d"]);return null!==(xe=ot.kid)&&void 0!==xe||(ot.kid=yield qo({jwk:ot})),ot})}static privateKeyToBytes({privateKey:Pe}){return wi(this,void 0,void 0,function*(){if(!ds(Pe))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return M.U$.base64Url(Pe.d).toUint8Array()})}static publicKeyToBytes({publicKey:Pe}){return wi(this,void 0,void 0,function*(){if(!oc(Pe))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return M.U$.base64Url(Pe.x).toUint8Array()})}static sign({key:Pe,data:xe}){return wi(this,void 0,void 0,function*(){const Ce=yield Ca.privateKeyToBytes({privateKey:Pe});return be.ev.sign(xe,Ce)})}static validatePublicKey({publicKeyBytes:Pe}){return wi(this,void 0,void 0,function*(){try{be.ev.ExtendedPoint.fromHex(Pe).assertValidity()}catch{return!1}return!0})}static verify({key:Pe,signature:xe,data:Ce}){return wi(this,void 0,void 0,function*(){const ot=yield Ca.publicKeyToBytes({publicKey:Pe});return be.ev.verify(xe,Ce,ot)})}}var jr=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})},Li=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};const uf={Ed25519:{implementation:class ju extends qs{computePublicKey({key:Pe}){return jr(this,void 0,void 0,function*(){if(!ds(Pe))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Pe.crv){const xe=yield Ca.computePublicKey({key:Pe});return xe.alg="EdDSA",xe}throw new Error(`Unsupported curve: ${Pe.crv}`)})}generateKey({algorithm:Pe}){return jr(this,void 0,void 0,function*(){if("Ed25519"===Pe){const xe=yield Ca.generateKey();return xe.alg="EdDSA",xe}})}getPublicKey({key:Pe}){return jr(this,void 0,void 0,function*(){if(!ds(Pe))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Pe.crv){const xe=yield Ca.getPublicKey({key:Pe});return xe.alg="EdDSA",xe}throw new Error(`Unsupported curve: ${Pe.crv}`)})}sign({key:Pe,data:xe}){return jr(this,void 0,void 0,function*(){if(!ds(Pe))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Pe.crv)return yield Ca.sign({key:Pe,data:xe});throw new Error(`Unsupported curve: ${Pe.crv}`)})}verify({key:Pe,signature:xe,data:Ce}){return jr(this,void 0,void 0,function*(){if(!oc(Pe))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===Pe.crv)return yield Ca.verify({key:Pe,signature:xe,data:Ce});throw new Error(`Unsupported curve: ${Pe.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:Xl,names:["ES256K","secp256k1"]},secp256r1:{implementation:Xl,names:["ES256","secp256r1"]},"SHA-256":{implementation:class vd extends qs{digest({algorithm:Pe,data:xe}){return function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===Pe)return yield df.digest({data:xe})})}},names:["SHA-256"]}};class Ma{constructor(Pe){var xe;this._algorithmInstances=new Map,this._keyStore=null!==(xe=Pe?.keyStore)&&void 0!==xe?xe:new M.ny}digest({algorithm:Pe,data:xe}){return Li(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:Pe}).digest({algorithm:Pe,data:xe})})}exportKey({keyUri:Pe}){return Li(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:Pe})})}generateKey({algorithm:Pe}){return Li(this,void 0,void 0,function*(){const Ce=yield this.getAlgorithm({algorithm:Pe}).generateKey({algorithm:Pe});if(void 0===Ce?.kid)throw new Error("Generated key is missing a required property: kid");const ot=`${vl}${Ce.kid}`;return yield this._keyStore.set(ot,Ce),ot})}getKeyUri({key:Pe}){return Li(this,void 0,void 0,function*(){const xe=yield qo({jwk:Pe});return`${vl}${xe}`})}getPublicKey({keyUri:Pe}){return Li(this,void 0,void 0,function*(){const xe=yield this.getPrivateKey({keyUri:Pe}),Ce=this.getAlgorithmName({key:xe});return yield this.getAlgorithm({algorithm:Ce}).getPublicKey({key:xe})})}importKey({key:Pe}){var xe;return Li(this,void 0,void 0,function*(){if(!function Ea(it){if(!it||"object"!=typeof it)return!1;switch(it.kty){case"EC":case"OKP":case"RSA":return"d"in it;case"oct":return"k"in it;default:return!1}}(Pe))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const Ce=structuredClone(Pe);null!==(xe=Ce.kid)&&void 0!==xe||(Ce.kid=yield qo({jwk:Ce}));const ot=yield this.getKeyUri({key:Ce});return yield this._keyStore.set(ot,Ce),ot})}sign({keyUri:Pe,data:xe}){return Li(this,void 0,void 0,function*(){const Ce=yield this.getPrivateKey({keyUri:Pe}),ot=this.getAlgorithmName({key:Ce});return this.getAlgorithm({algorithm:ot}).sign({data:xe,key:Ce})})}verify({key:Pe,signature:xe,data:Ce}){return Li(this,void 0,void 0,function*(){const ot=this.getAlgorithmName({key:Pe});return this.getAlgorithm({algorithm:ot}).verify({key:Pe,signature:xe,data:Ce})})}getAlgorithm({algorithm:Pe}){var xe;const Ce=null===(xe=uf[Pe])||void 0===xe?void 0:xe.implementation;if(!Ce)throw new Error(`Algorithm not supported: ${Pe}`);return this._algorithmInstances.has(Ce)||this._algorithmInstances.set(Ce,new Ce),this._algorithmInstances.get(Ce)}getAlgorithmName({key:Pe}){const xe=Pe.alg,Ce=Pe.crv;for(const ot in uf){const ct=uf[ot];if(xe&&ct.names.includes(xe))return ot;if(Ce&&ct.names.includes(Ce))return ot}throw new Error(`Unable to determine algorithm based on provided input: alg=${xe}, crv=${Ce}`)}getPrivateKey({keyUri:Pe}){return Li(this,void 0,void 0,function*(){const xe=yield this._keyStore.get(Pe);if(!xe)throw new Error(`Key not found: ${Pe}`);return xe})}}function Fi(it){const Pe={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(it.alg&&Object.values(Pe).includes(it.alg))return it.alg;if(it.crv&&Object.keys(Pe).includes(it.crv))return Pe[it.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${it.alg}, crv=${it.crv}. Supported 'alg' values: ${Object.values(Pe).join(", ")}. Supported 'crv' values: ${Object.keys(Pe).join(", ")}.`)}var Gc=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};class $a{static bytesToPrivateKey({privateKeyBytes:Pe}){return Gc(this,void 0,void 0,function*(){const xe=be.TU.getPublicKey(Pe),Ce={kty:"OKP",crv:"X25519",d:M.U$.uint8Array(Pe).toBase64Url(),x:M.U$.uint8Array(xe).toBase64Url()};return Ce.kid=yield qo({jwk:Ce}),Ce})}static bytesToPublicKey({publicKeyBytes:Pe}){return Gc(this,void 0,void 0,function*(){const xe={kty:"OKP",crv:"X25519",x:M.U$.uint8Array(Pe).toBase64Url()};return xe.kid=yield qo({jwk:xe}),xe})}static computePublicKey({key:Pe}){return Gc(this,void 0,void 0,function*(){const xe=yield $a.privateKeyToBytes({privateKey:Pe}),Ce=be.TU.getPublicKey(xe),ot={kty:"OKP",crv:"X25519",x:M.U$.uint8Array(Ce).toBase64Url()};return ot.kid=yield qo({jwk:ot}),ot})}static generateKey(){return Gc(this,void 0,void 0,function*(){const Pe=be.TU.utils.randomPrivateKey(),xe=yield $a.bytesToPrivateKey({privateKeyBytes:Pe});return xe.kid=yield qo({jwk:xe}),xe})}static getPublicKey({key:Pe}){var xe;return Gc(this,void 0,void 0,function*(){if(!ds(Pe)||"X25519"!==Pe.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let ot=function(it,Pe){var xe={};for(var Ce in it)Object.prototype.hasOwnProperty.call(it,Ce)&&Pe.indexOf(Ce)<0&&(xe[Ce]=it[Ce]);if(null!=it&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(Ce=Object.getOwnPropertySymbols(it);ot<Ce.length;ot++)Pe.indexOf(Ce[ot])<0&&Object.prototype.propertyIsEnumerable.call(it,Ce[ot])&&(xe[Ce[ot]]=it[Ce[ot]])}return xe}(Pe,["d"]);return null!==(xe=ot.kid)&&void 0!==xe||(ot.kid=yield qo({jwk:ot})),ot})}static privateKeyToBytes({privateKey:Pe}){return Gc(this,void 0,void 0,function*(){if(!ds(Pe))throw new Error("X25519: The provided key is not a valid OKP private key.");return M.U$.base64Url(Pe.d).toUint8Array()})}static publicKeyToBytes({publicKey:Pe}){return Gc(this,void 0,void 0,function*(){if(!oc(Pe))throw new Error("X25519: The provided key is not a valid OKP public key.");return M.U$.base64Url(Pe.x).toUint8Array()})}static sharedSecret({privateKeyA:Pe,publicKeyB:xe}){return Gc(this,void 0,void 0,function*(){if("x"in Pe&&"x"in xe&&Pe.x===xe.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const Ce=yield $a.privateKeyToBytes({privateKey:Pe}),ot=yield $a.publicKeyToBytes({publicKey:xe});return be.TU.getSharedSecret(Ce,ot)})}}function _s(it){if("string"==typeof it&&0!==it.length)return it.split("#").pop()}function Op(it){return!(!it||"object"!=typeof it||null===it||!("id"in it&&"type"in it&&"controller"in it)||"string"!=typeof it.id||"string"!=typeof it.type||"string"!=typeof it.controller)}var Va=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};class sc{constructor({uri:Pe,document:xe,metadata:Ce,keyManager:ot}){this.uri=Pe,this.document=xe,this.metadata=Ce,this.keyManager=ot}export(){return Va(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let Pe={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const xe=[];for(let Ce of this.document.verificationMethod){if(!Ce.publicKeyJwk)throw new Error(`Verification method '${Ce.id}' does not contain a public key in JWK format`);const ot=yield this.keyManager.getKeyUri({key:Ce.publicKeyJwk}),ct=yield this.keyManager.exportKey({keyUri:ot});xe.push(Object.assign({},ct))}Pe.privateKeys=xe}return Pe})}getSigner(Pe){return Va(this,void 0,void 0,function*(){var xe;const Ce=null===(xe=this.document.verificationMethod)||void 0===xe?void 0:xe.find(Cn=>{var cn,Dt;return _s(Cn.id)===(null!==(cn=_s(Pe?.methodId))&&void 0!==cn?cn:_s(null===(Dt=this.document.assertionMethod)||void 0===Dt?void 0:Dt[0]))});if(!Ce||!Ce.publicKeyJwk)throw new Yo(ns.InternalError,"A verification method intended for signing could not be determined from the DID Document");const ot=yield this.keyManager.getKeyUri({key:Ce.publicKeyJwk}),ct=yield this.keyManager.getPublicKey({keyUri:ot}),Mt=this.keyManager;return{algorithm:Fi(ct),keyId:Ce.id,sign(Cn){return Va(this,arguments,void 0,function*({data:cn}){return yield Mt.sign({data:cn,keyUri:ot})})},verify(Cn){return Va(this,arguments,void 0,function*({data:cn,signature:Dt}){return yield Mt.verify({data:cn,key:ct,signature:Dt})})}}})}static import(Pe){return Va(this,arguments,void 0,function*({portableDid:xe,keyManager:Ce=new Ma}){var ot;const ct=function $u({didDocument:it}){var Pe,xe;if(!it)throw new TypeError("Required parameter missing: 'didDocument'");const Ce=[];return Ce.push(...null!==(xe=null===(Pe=it.verificationMethod)||void 0===Pe?void 0:Pe.filter(Op))&&void 0!==xe?xe:[]),Object.keys(Kd).forEach(ot=>{var ct,Mt;Ce.push(...null!==(Mt=null===(ct=it[ot])||void 0===ct?void 0:ct.filter(Op))&&void 0!==Mt?Mt:[])}),Ce}({didDocument:xe.document});if(0===ct.length)throw new Yo(ns.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let rn of null!==(ot=xe.privateKeys)&&void 0!==ot?ot:[])yield Ce.importKey({key:rn});for(let rn of ct){if(!rn.publicKeyJwk)throw new Error(`Verification method '${rn.id}' does not contain a public key in JWK format`);const Cn=yield Ce.getKeyUri({key:rn.publicKeyJwk});yield Ce.getPublicKey({keyUri:Cn})}return new sc({uri:xe.uri,document:xe.document,metadata:xe.metadata,keyManager:Ce})})}}var ff=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};class zf{static getSigningMethod(Pe){return ff(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(Pe,xe){return ff(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Ls=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})},hf=function(it,Pe){var xe={};for(var Ce in it)Object.prototype.hasOwnProperty.call(it,Ce)&&Pe.indexOf(Ce)<0&&(xe[Ce]=it[Ce]);if(null!=it&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(Ce=Object.getOwnPropertySymbols(it);ot<Ce.length;ot++)Pe.indexOf(Ce[ot])<0&&Object.prototype.propertyIsEnumerable.call(it,Ce[ot])&&(xe[Ce[ot]]=it[Ce[ot]])}return xe};const pf="https://diddht.tbddev.org",_o=7200,Is=",";var ph=function(it){return it[it.Discoverable=0]="Discoverable",it[it.Organization=1]="Organization",it[it.Government=2]="Government",it[it.Corporation=3]="Corporation",it[it.LocalBusiness=4]="LocalBusiness",it[it.SoftwarePackage=5]="SoftwarePackage",it[it.WebApp=6]="WebApp",it[it.FinancialInstitution=7]="FinancialInstitution",it}(ph||{}),Xc=function(it){return it[it.Ed25519=0]="Ed25519",it[it.secp256k1=1]="secp256k1",it[it.secp256r1=2]="secp256r1",it[it.X25519=3]="X25519",it}(Xc||{}),Ad=function(it){return it.authentication="auth",it.assertionMethod="asm",it.capabilityDelegation="del",it.capabilityInvocation="inv",it.keyAgreement="agm",it}(Ad||{});const rs={Ed25519:Xc.Ed25519,ES256K:Xc.secp256k1,ES256:Xc.secp256r1,"P-256":Xc.secp256r1,secp256k1:Xc.secp256k1,secp256r1:Xc.secp256r1,X25519:Xc.X25519},To={[Xc.Ed25519]:"Ed25519",[Xc.secp256k1]:"ES256K",[Xc.secp256r1]:"ES256",[Xc.X25519]:"ECDH-ES+A256KW"};let bl=(()=>{class it extends zf{static create(){return Ls(this,arguments,void 0,function*({keyManager:xe=new Ma,options:Ce={}}={}){var ot,ct,Mt,rn,Cn,cn,Dt,vn,Qr,Ui,Ii;if(null!==(ot=Ce.verificationMethods)&&void 0!==ot&&ot.some(si=>!(si.algorithm in rs)))throw new Error("One or more verification method algorithms are not supported");const Ni=null===(ct=Ce.verificationMethods)||void 0===ct?void 0:ct.filter(si=>"id"in si).map(si=>si.id);if(Ni&&Ni.length!==new Set(Ni).size)throw new Error("One or more verification method IDs are not unique");if(null!==(Mt=Ce.services)&&void 0!==Mt&&Mt.some(si=>!si.id||!si.type||!si.serviceEndpoint))throw new Error("One or more services are missing required properties");const io=yield xe.generateKey({algorithm:"Ed25519"}),Ts=yield xe.getPublicKey({keyUri:io}),ji=yield ii.identityKeyToIdentifier({identityKey:Ts}),Gr=Object.assign(Object.assign({id:ji},Ce.alsoKnownAs&&{alsoKnownAs:Ce.alsoKnownAs}),Ce.controllers&&{controller:Ce.controllers}),oo=[...null!==(rn=Ce.verificationMethods)&&void 0!==rn?rn:[]];oo?.some(si=>{var Qo;return"0"===(null===(Qo=si.id)||void 0===Qo?void 0:Qo.split("#").pop())})||oo.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const si of oo){const Qo=si.id&&"0"===si.id.split("#").pop()?io:yield xe.generateKey({algorithm:si.algorithm}),Zc=yield xe.getPublicKey({keyUri:Qo});let rt=null!==(cn=null!==(Cn=si.id)&&void 0!==Cn?Cn:Zc.kid)&&void 0!==cn?cn:yield qo({jwk:Zc});rt=`${ji}#${_s(rt)}`,null!==(Dt=Gr.verificationMethod)&&void 0!==Dt||(Gr.verificationMethod=[]),Gr.verificationMethod.push({id:rt,type:"JsonWebKey",controller:null!==(vn=si.controller)&&void 0!==vn?vn:ji,publicKeyJwk:Zc});for(const xt of null!==(Qr=si.purposes)&&void 0!==Qr?Qr:[])Gr[xt]||(Gr[xt]=[]),Gr[xt].push(rt)}null===(Ui=Ce.services)||void 0===Ui||Ui.forEach(si=>{var Qo;null!==(Qo=Gr.service)&&void 0!==Qo||(Gr.service=[]),si.id=`${ji}#${si.id.split("#").pop()}`,Gr.service.push(si)});const Lo=new sc({uri:ji,document:Gr,metadata:Object.assign({published:!1},Ce.types&&{types:Ce.types}),keyManager:xe});if(null===(Ii=Ce.publish)||void 0===Ii||Ii){const si=yield it.publish({did:Lo,gatewayUri:Ce.gatewayUri});Lo.metadata=si.didDocumentMetadata}return Lo})}static import(xe){return Ls(this,arguments,void 0,function*({portableDid:Ce,keyManager:ot=new Ma}){var ct;const Mt=Oi.parse(Ce.uri);if(Mt?.method!==it.methodName)throw new Yo(ns.MethodNotSupported,"Method not supported");const rn=yield sc.import({portableDid:Ce,keyManager:ot});if(null===(ct=rn.document.verificationMethod)||void 0===ct||!ct.some(Cn=>{var cn;return"0"===(null===(cn=Cn.id)||void 0===cn?void 0:cn.split("#").pop())}))throw new Yo(ns.InvalidDidDocument,"DID document must contain an Identity Key");return rn})}static getSigningMethod(xe){return Ls(this,arguments,void 0,function*({didDocument:Ce,methodId:ot="#0"}){var ct;const Mt=Oi.parse(Ce.id);if(Mt&&Mt.method!==this.methodName)throw new Yo(ns.MethodNotSupported,`Method not supported: ${Mt.method}`);const rn=null===(ct=Ce.verificationMethod)||void 0===ct?void 0:ct.find(Cn=>{var cn,Dt;return _s(Cn.id)===(null!==(cn=_s(ot))&&void 0!==cn?cn:_s(null===(Dt=Ce.assertionMethod)||void 0===Dt?void 0:Dt[0]))});if(!rn||!rn.publicKeyJwk)throw new Yo(ns.InternalError,"A verification method intended for signing could not be determined from the DID Document");return rn})}static publish(xe){return Ls(this,arguments,void 0,function*({did:Ce,gatewayUri:ot=pf}){return yield wl.put({did:Ce,gatewayUri:ot})})}static resolve(xe){return Ls(this,arguments,void 0,function*(Ce,ot={}){var ct;const Mt=null!==(ct=ot?.gatewayUri)&&void 0!==ct?ct:pf;try{yield ii.identifierToIdentityKey({didUri:Ce});const{didDocument:rn,didDocumentMetadata:Cn}=yield wl.get({didUri:Ce,gatewayUri:Mt});return Object.assign(Object.assign({},Pl),{didDocument:rn,didDocumentMetadata:Cn})}catch(rn){if(!(rn instanceof Yo))throw new Error(rn);return Object.assign(Object.assign({},Pl),{didResolutionMetadata:Object.assign({error:rn.code},rn.message&&{errorMessage:rn.message})})}})}}return it.methodName="dht",it})();class wl{static get(Pe){return Ls(this,arguments,void 0,function*({didUri:xe,gatewayUri:Ce}){const ot=ii.identifierToIdentityKeyBytes({didUri:xe}),ct=yield wl.pkarrGet({gatewayUri:Ce,publicKeyBytes:ot}),Mt=yield ii.parseBep44GetMessage({bep44Message:ct}),rn=yield wl.fromDnsPacket({didUri:xe,dnsPacket:Mt});return rn.didDocumentMetadata.versionId=ct.seq.toString(),rn})}static put(Pe){return Ls(this,arguments,void 0,function*({did:xe,gatewayUri:Ce}){const ot=yield wl.toDnsPacket({didDocument:xe.document,didMetadata:xe.metadata,authoritativeGatewayUris:[Ce]}),ct=yield ii.createBep44PutMessage({dnsPacket:ot,publicKeyBytes:ii.identifierToIdentityKeyBytes({didUri:xe.uri}),signer:yield xe.getSigner({methodId:"0"})}),Mt=yield wl.pkarrPut({gatewayUri:Ce,bep44Message:ct});return{didDocument:xe.document,didDocumentMetadata:Object.assign(Object.assign({},xe.metadata),{published:Mt,versionId:ct.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(Pe){return Ls(this,arguments,void 0,function*({gatewayUri:xe,publicKeyBytes:Ce}){const ot=M.U$.uint8Array(Ce).toBase32Z(),ct=new URL(ot,xe).href;let Mt;try{if(Mt=yield fetch(ct,{method:"GET"}),!Mt.ok)throw new Yo(ns.NotFound,`Pkarr record not found for: ${ot}`)}catch(cn){throw cn instanceof Yo?cn:new Yo(ns.InternalError,`Failed to fetch Pkarr record: ${cn.message}`)}const rn=yield Mt.arrayBuffer();if(!rn)throw new Yo(ns.NotFound,`Pkarr record not found for: ${ot}`);if(rn.byteLength<72)throw new Yo(ns.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${rn.byteLength}`);if(rn.byteLength>1072)throw new Yo(ns.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${rn.byteLength}`);return{k:Ce,seq:Number(new DataView(rn).getBigUint64(64)),sig:new Uint8Array(rn,0,64),v:new Uint8Array(rn,72)}})}static pkarrPut(Pe){return Ls(this,arguments,void 0,function*({gatewayUri:xe,bep44Message:Ce}){const ot=M.U$.uint8Array(Ce.k).toBase32Z(),ct=new URL(ot,xe).href,Mt=new Uint8Array(Ce.v.length+72);let rn;Mt.set(Ce.sig,0),new DataView(Mt.buffer).setBigUint64(Ce.sig.length,BigInt(Ce.seq)),Mt.set(Ce.v,Ce.sig.length+8);try{rn=yield fetch(ct,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:Mt})}catch(Cn){throw new Yo(ns.InternalError,`Failed to put Pkarr record for identifier ${ot}: ${Cn.message}`)}return rn.ok})}static fromDnsPacket(Pe){return Ls(this,arguments,void 0,function*({didUri:xe,dnsPacket:Ce}){var ot,ct,Mt;const rn={id:xe},Cn={published:!0},cn=new Map;for(const Dt of null!==(ot=Ce?.answers)&&void 0!==ot?ot:[]){if("TXT"!==Dt.type)continue;const vn=Dt.name.split(".")[0].substring(1);switch(!0){case vn.startsWith("aka"):{const Qr=ii.parseTxtDataToString(Dt.data);rn.alsoKnownAs=Qr.split(Is);break}case vn.startsWith("cnt"):{const Qr=ii.parseTxtDataToString(Dt.data);rn.controller=Qr.includes(Is)?Qr.split(Is):Qr;break}case vn.startsWith("k"):{const{id:Qr,t:Ui,k:Ii,c:Ni,a:io}=ii.parseTxtDataToObject(Dt.data),Ts=M.U$.base64Url(Ii).toUint8Array(),ji=Xc[Number(Ui)];let Gr=yield ii.keyConverter(ji).bytesToPublicKey({publicKeyBytes:Ts});Gr.alg=io||To[Number(Ui)];const oo="k0"===vn?"0":void 0!==Qr?Qr:yield qo({jwk:Gr});null!==(ct=rn.verificationMethod)&&void 0!==ct||(rn.verificationMethod=[]);const Lo=`${xe}#${oo}`;rn.verificationMethod.push({id:Lo,type:"JsonWebKey",controller:Ni??xe,publicKeyJwk:Gr}),cn.set(vn,Lo);break}case vn.startsWith("s"):{const Qr=ii.parseTxtDataToObject(Dt.data),{id:Ui,t:Ii,se:Ni}=Qr,io=hf(Qr,["id","t","se"]),Ts=Ni.includes(Is)?Ni.split(Is):[Ni],ji=Object.fromEntries(Object.entries(io).map(([Gr,oo])=>[Gr,oo.includes(Is)?oo.split(Is):oo]));null!==(Mt=rn.service)&&void 0!==Mt||(rn.service=[]),rn.service.push(Object.assign(Object.assign({},ji),{id:`${xe}#${Ui}`,type:Ii,serviceEndpoint:Ts}));break}case vn.startsWith("typ"):{const{id:Qr}=ii.parseTxtDataToObject(Dt.data);Cn.types=Qr.split(Is).map(Ui=>Number(Ui));break}case vn.startsWith("did"):{const Qr=ji=>ji.split(Is).map(Gr=>cn.get(Gr)).filter(Gr=>"string"==typeof Gr),{auth:Ui,asm:Ii,del:Ni,inv:io,agm:Ts}=ii.parseTxtDataToObject(Dt.data);Ui&&(rn.authentication=Qr(Ui)),Ii&&(rn.assertionMethod=Qr(Ii)),Ni&&(rn.capabilityDelegation=Qr(Ni)),io&&(rn.capabilityInvocation=Qr(io)),Ts&&(rn.keyAgreement=Qr(Ts));break}}}return{didDocument:rn,didDocumentMetadata:Cn,didResolutionMetadata:{}}})}static toDnsPacket(Pe){return Ls(this,arguments,void 0,function*({didDocument:xe,didMetadata:Ce,authoritativeGatewayUris:ot,previousDidProof:ct}){var Mt,rn,Cn,cn,Dt;const vn=[],Qr=[],Ui=new Map,Ii=[],Ni=[];if(void 0!==ct){const{signature:ji,previousDid:Gr}=ct;yield ii.validatePreviousDidProof({newDid:xe.id,previousDidProof:ct}),vn.push({type:"TXT",name:"_prv._did.",ttl:_o,data:`id=${Gr};s=${ji}`})}if(xe.alsoKnownAs&&vn.push({type:"TXT",name:"_aka._did.",ttl:_o,data:xe.alsoKnownAs.join(Is)}),xe.controller){const ji=Array.isArray(xe.controller)?xe.controller.join(Is):xe.controller;vn.push({type:"TXT",name:"_cnt._did.",ttl:_o,data:ji})}for(const[ji,Gr]of null!==(rn=null===(Mt=xe.verificationMethod)||void 0===Mt?void 0:Mt.entries())&&void 0!==rn?rn:[]){const oo=`k${ji}`;Ni.push(oo);let Lo=Gr.id.split("#").pop();Ui.set(Lo,oo);const si=Gr.publicKeyJwk;if(!si?.crv||!(si.crv in rs))throw new Yo(ns.InvalidPublicKeyType,`Verification method '${Gr.id}' contains an unsupported key type: ${null!==(Cn=si?.crv)&&void 0!==Cn?Cn:"undefined"}`);const Qo=Xc[si.crv],Zc=yield ii.keyConverter(si.crv).publicKeyToBytes({publicKey:si}),xt=[`t=${Qo}`,`k=${M.U$.uint8Array(Zc).toBase64Url()}`];"0"!==Lo&&(yield qo({jwk:si}))!==Lo&&xt.unshift(`id=${Lo}`),si.alg!==To[Qo]&&xt.push(`a=${si.alg}`),Gr.controller!==xe.id&&xt.push(`c=${Gr.controller}`),vn.push({type:"TXT",name:`_${oo}._did.`,ttl:_o,data:xt.join(";")})}null===(cn=xe.service)||void 0===cn||cn.forEach((ji,Gr)=>{const oo=`s${Gr}`;Ii.push(oo);let{id:Lo,type:si,serviceEndpoint:Qo}=ji,Zc=hf(ji,["id","type","serviceEndpoint"]);Lo=_s(Lo),Qo=Array.isArray(Qo)?Qo.join(","):Qo;const xt=Object.entries(Object.assign({id:Lo,t:si,se:Qo},Zc)).map(([It,qt])=>`${It}=${qt}`).join(";"),lt=ii.chunkDataIfNeeded(xt);vn.push({type:"TXT",name:`_${oo}._did.`,ttl:_o,data:lt})});const io=["v=0"];if(Ni.length&&io.push(`vm=${Ni.join(Is)}`),Object.keys(Kd).forEach(ji=>{var Gr;const oo=null===(Gr=xe[ji])||void 0===Gr?void 0:Gr.map(Lo=>Ui.get(Lo.split("#").pop()));oo&&io.push(`${Ad[ji]}=${oo.join(Is)}`)}),Ii.length&&io.push(`svc=${Ii.join(Is)}`),null!==(Dt=Ce.types)&&void 0!==Dt&&Dt.length){const Gr=Ce.types.map(oo=>"string"==typeof oo?ph[oo]:oo);vn.push({type:"TXT",name:"_typ._did.",ttl:_o,data:`id=${Gr.join(Is)}`})}vn.push({type:"TXT",name:"_did."+wl.getUniqueDidSuffix(xe.id)+".",ttl:_o,data:io.join(";")});for(const ji of ot||[])Qr.push({type:"NS",name:"_did."+wl.getUniqueDidSuffix(xe.id)+".",ttl:_o,data:ji+"."});return{id:0,type:"response",flags:yn.hB,answers:[...vn,...Qr]}})}static getUniqueDidSuffix(Pe){return Pe.split(":")[2]}}class ii{static createBep44PutMessage(Pe){return Ls(this,arguments,void 0,function*({dnsPacket:xe,publicKeyBytes:Ce,signer:ot}){const ct=Math.ceil(Date.now()/1e3),Mt=(0,yn.lF)(xe),rn=Ei.A.encode({seq:ct,v:Mt}).subarray(1,-1);if(rn.length>1e3)throw new Yo(ns.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${rn.length} bytes`);return{k:Ce,seq:ct,sig:yield ot.sign({data:rn}),v:Mt}})}static identifierToIdentityKey(Pe){return Ls(this,arguments,void 0,function*({didUri:xe}){let Ce=ii.identifierToIdentityKeyBytes({didUri:xe});return yield Ca.bytesToPublicKey({publicKeyBytes:Ce})})}static identifierToIdentityKeyBytes({didUri:Pe}){const xe=Oi.parse(Pe);if(!xe)throw new Yo(ns.InvalidDid,`Invalid DID URI: ${Pe}`);if(xe.method!==bl.methodName)throw new Yo(ns.MethodNotSupported,`Method not supported: ${xe.method}`);let Ce;try{Ce=M.U$.base32Z(xe.id).toUint8Array()}catch{throw new Yo(ns.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==Ce.length)throw new Yo(ns.InvalidPublicKeyLength,`Invalid public key length: ${Ce.length}`);return Ce}static identityKeyToIdentifier(Pe){return Ls(this,arguments,void 0,function*({identityKey:xe}){const Ce=yield Ca.publicKeyToBytes({publicKey:xe}),ot=M.U$.uint8Array(Ce).toBase32Z();return`did:${bl.methodName}:${ot}`})}static keyConverter(Pe){const Ce={Ed25519:Ca,"P-256":{publicKeyToBytes:ot=>Ls(this,[ot],void 0,function*({publicKey:ct}){const Mt=yield Qs.publicKeyToBytes({publicKey:ct});return yield Qs.compressPublicKey({publicKeyBytes:Mt})}),bytesToPublicKey:Qs.bytesToPublicKey,privateKeyToBytes:Qs.privateKeyToBytes,bytesToPrivateKey:Qs.bytesToPrivateKey},secp256k1:{publicKeyToBytes:ot=>Ls(this,[ot],void 0,function*({publicKey:ct}){const Mt=yield ro.publicKeyToBytes({publicKey:ct});return yield ro.compressPublicKey({publicKeyBytes:Mt})}),bytesToPublicKey:ro.bytesToPublicKey,privateKeyToBytes:ro.privateKeyToBytes,bytesToPrivateKey:ro.bytesToPrivateKey},X25519:$a}[Pe];if(!Ce)throw new Yo(ns.InvalidPublicKeyType,`Unsupported curve: ${Pe}`);return Ce}static parseBep44GetMessage(Pe){return Ls(this,arguments,void 0,function*({bep44Message:xe}){const Ce=yield Ca.bytesToPublicKey({publicKeyBytes:xe.k}),ot=Ei.A.encode({seq:xe.seq,v:xe.v}).subarray(1,-1);if(!(yield Ca.verify({key:Ce,signature:xe.sig,data:ot})))throw new Yo(ns.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,yn.D4)(xe.v)})}static parseTxtDataToObject(Pe){return this.parseTxtDataToString(Pe).split(";").reduce((xe,Ce)=>{const[ot,ct]=Ce.split("=");return xe[ot]=ct,xe},{})}static parseTxtDataToString(Pe){if("string"==typeof Pe)return Pe;if(Pe instanceof Uint8Array)return M.U$.uint8Array(Pe).toString();if(Array.isArray(Pe))return Pe.map(xe=>this.parseTxtDataToString(xe)).join("");throw new Yo(ns.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(Pe){return Ls(this,arguments,void 0,function*({newDid:xe,previousDidProof:Ce}){const ot=yield ii.identifierToIdentityKey({didUri:Ce.previousDid}),ct=ii.identifierToIdentityKeyBytes({didUri:xe}),Mt=M.U$.base64Url(Ce.signature).toUint8Array();if(!(yield Ca.verify({key:ot,data:ct,signature:Mt})))throw new Yo(ns.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(Pe){if(Pe.length<=255)return Pe;const xe=[];for(let Ce=0;Ce<Pe.length;Ce+=255)xe.push(Pe.slice(Ce,Ce+255));return xe}}let Cs=(()=>{class it extends zf{static resolve(xe,Ce){return function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})}(this,void 0,void 0,function*(){const ot=Oi.parse(xe);if(!ot)return Object.assign(Object.assign({},Pl),{didResolutionMetadata:{error:"invalidDid"}});if(ot.method!==it.methodName)return Object.assign(Object.assign({},Pl),{didResolutionMetadata:{error:"methodNotSupported"}});let ct=`https://${ot.id.replace(/:/g,"/")}`;ct=decodeURIComponent(ct);const Mt=ot.id.includes(":")?`${ct}/did.json`:`${ct}/.well-known/did.json`;try{const rn=yield fetch(Mt);if(!rn.ok)throw new Error("HTTP error status code returned");const Cn=yield rn.json();return Object.assign(Object.assign({},Pl),{didDocument:Cn})}catch{return Object.assign(Object.assign({},Pl),{didResolutionMetadata:{error:"notFound"}})}})}}return it.methodName="web",it})();A(44514),A(1424);const ol={get:function(it){return null},set:function(it,Pe){return null},delete:function(it){return null},clear:function(){return null},close:function(){return null}};var va=function(it,Pe,xe,Ce){return new(xe||(xe=Promise))(function(ct,Mt){function rn(Dt){try{cn(Ce.next(Dt))}catch(vn){Mt(vn)}}function Cn(Dt){try{cn(Ce.throw(Dt))}catch(vn){Mt(vn)}}function cn(Dt){Dt.done?ct(Dt.value):function ot(ct){return ct instanceof xe?ct:new xe(function(Mt){Mt(ct)})}(Dt.value).then(rn,Cn)}cn((Ce=Ce.apply(it,Pe||[])).next())})};new class gu{constructor({cache:Pe,didResolvers:xe}){this.didResolvers=new Map,this.cache=Pe||ol;for(const Ce of xe)this.didResolvers.set(Ce.methodName,Ce)}resolve(Pe,xe){return va(this,void 0,void 0,function*(){const Ce=Oi.parse(Pe);if(!Ce)return Object.assign(Object.assign({},Pl),{didResolutionMetadata:{error:ns.InvalidDid,errorMessage:`Invalid DID URI: ${Pe}`}});const ot=this.didResolvers.get(Ce.method);if(!ot)return Object.assign(Object.assign({},Pl),{didResolutionMetadata:{error:ns.MethodNotSupported,errorMessage:`Method not supported: ${Ce.method}`}});const ct=yield this.cache.get(Ce.uri);if(ct)return ct;{const Mt=yield ot.resolve(Ce.uri,xe);return Mt.didResolutionMetadata.error||(yield this.cache.set(Ce.uri,Mt)),Mt}})}dereference(Pe,xe){return va(this,void 0,void 0,function*(){const Ce=Oi.parse(Pe);if(!Ce)return{dereferencingMetadata:{error:ns.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:ot,didResolutionMetadata:ct,didDocumentMetadata:Mt}=yield this.resolve(Ce.uri);if(!ot)return{dereferencingMetadata:{error:ct.error},contentStream:null,contentMetadata:{}};if(!Ce.fragment||Ce.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:ot,contentMetadata:Mt};const{service:rn=[],verificationMethod:Cn=[]}=ot,cn=new Set([Pe,Ce.fragment,`#${Ce.fragment}`]);let Dt;for(let vn of Cn)if(cn.has(vn.id)){Dt=vn;break}for(let vn of rn)if(cn.has(vn.id)){Dt=vn;break}return Dt?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:Dt,contentMetadata:ct}:{dereferencingMetadata:{error:ns.NotFound},contentStream:null,contentMetadata:{}}})}}({didResolvers:[bl,Cs]})},37475:(Ye,J,A)=>{"use strict";A.d(J,{U$:()=>W,cG:()=>he,ny:()=>ve,Gs:()=>de,VS:()=>f,Z6:()=>je,LC:()=>h,RI:()=>ae,E8:()=>te,fc:()=>U});var h=A(52191),x=A(15130),N=A(80286),Y=A(14725);function U(w){const D=Object.prototype.toString.call(w).match(/\s([a-zA-Z0-9]+)/),[O,$]=D;return $}var H=function(w,_,D,O){return new(D||(D=Promise))(function(T,c){function E(ce){try{X(O.next(ce))}catch(me){c(me)}}function q(ce){try{X(O.throw(ce))}catch(me){c(me)}}function X(ce){ce.done?T(ce.value):function $(T){return T instanceof D?T:new D(function(c){c(T)})}(ce.value).then(E,q)}X((O=O.apply(w,_||[])).next())})},V=function(w){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var D,_=w[Symbol.asyncIterator];return _?_.call(w):(w="function"==typeof __values?__values(w):w[Symbol.iterator](),D={},O("next"),O("throw"),O("return"),D[Symbol.asyncIterator]=function(){return this},D);function O(T){D[T]=w[T]&&function(c){return new Promise(function(E,q){!function $(T,c,E,q){Promise.resolve(q).then(function(X){T({value:X,done:E})},c)}(E,q,(c=w[T](c)).done,c.value)})}}};const P=new TextEncoder,ee=new TextDecoder;class W{constructor(_,D){this.data=_,this.format=D}static arrayBuffer(_){return new W(_,"ArrayBuffer")}static asyncIterable(_){if(!function j(w){return"object"==typeof w&&null!==w&&"function"==typeof w[Symbol.asyncIterator]}(_))throw new TypeError("Input must be of type AsyncIterable.");return new W(_,"AsyncIterable")}static base32Z(_){return new W(_,"Base32Z")}static base58Btc(_){return new W(_,"Base58Btc")}static base64Url(_){return new W(_,"Base64Url")}static bufferSource(_){return new W(_,"BufferSource")}static hex(_){if("string"!=typeof _)throw new TypeError("Hex input must be a string.");if(_.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new W(_,"Hex")}static multibase(_){return new W(_,"Multibase")}static object(_){return new W(_,"Object")}static string(_){return new W(_,"String")}static uint8Array(_){return new W(_,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return N.s.baseDecode(this.data).buffer;case"Base64Url":return Y.r0.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===U(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function M(w){return 0!==w.byteOffset||w.byteLength!==w.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return H(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return x.jd.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const _=new Uint8Array(this.data);return N.s.baseEncode(_)}case"Multibase":return this.data.substring(1);case"Uint8Array":return N.s.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const _=new Uint8Array(this.data);return Y.r0.baseEncode(_)}case"BufferSource":{const _=this.toUint8Array();return Y.r0.baseEncode(_)}case"Object":{const _=JSON.stringify(this.data),D=P.encode(_);return Y.r0.baseEncode(D)}case"String":{const _=P.encode(this.data);return Y.r0.baseEncode(_)}case"Uint8Array":return Y.r0.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var _,D,O;return H(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const q=[];try{for(var E,T=!0,c=V(this.data);E=yield c.next(),!(_=E.done);T=!0)T=!1,q.push(E.value)}catch(ce){D={error:ce}}finally{try{!T&&!_&&(O=c.return)&&(yield O.call(c))}finally{if(D)throw D.error}}return new Blob(q)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const _=Array.from({length:256},(D,O)=>O.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const D=this.toUint8Array();return W.uint8Array(D).toHex()}case"Base64Url":{const D=this.toUint8Array();return W.uint8Array(D).toHex()}case"Uint8Array":{let D="";for(let O=0;O<this.data.length;O++)D+=_[this.data[O]];return D}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const _=Y.r0.baseDecode(this.data),D=ee.decode(_);return JSON.parse(D)}case"String":return JSON.parse(this.data);case"Uint8Array":{const _=ee.decode(this.data);return JSON.parse(_)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return H(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const _=yield this.toStringAsync();return JSON.parse(_)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return ee.decode(this.data);case"Base64Url":{const _=Y.r0.baseDecode(this.data);return ee.decode(_)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var _,D,O,$;return H(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){let q="";try{for(var E,T=!0,c=V(this.data);E=yield c.next(),!(_=E.done);T=!0)T=!1,q+="string"==typeof($=E.value)?$:ee.decode($,{stream:!0})}catch(X){D={error:X}}finally{try{!T&&!_&&(O=c.return)&&(yield O.call(c))}finally{if(D)throw D.error}}return q+=ee.decode(void 0,{stream:!1}),q}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return x.jd.baseDecode(this.data);case"Base58Btc":return N.s.baseDecode(this.data);case"Base64Url":return Y.r0.baseDecode(this.data);case"BufferSource":{const _=U(this.data);if("Uint8Array"===_)return this.data;if("ArrayBuffer"===_)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const _=new Uint8Array(this.data.length/2);for(let D=0;D<this.data.length;D+=2){const O=parseInt(this.data.substring(D,D+2),16);if(isNaN(O))throw new TypeError("Input is not a valid hexadecimal string.");_[D/2]=O}return _}case"Object":{const _=JSON.stringify(this.data);return P.encode(_)}case"String":return P.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return H(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const _=yield this.toArrayBufferAsync();return new Uint8Array(_)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var Q=A(41405);class de{static addPrefix(_){var D;let{code:O,data:$,name:T}=_;if(!(T?!O:O))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(O=de.codeToName.has(O)?O:de.nameToCode.get(T),void 0===O)throw new Error(`Unsupported multicodec: ${null!==(D=_.name)&&void 0!==D?D:_.code}`);const c=Q.L8.encodingLength(O),E=new Uint8Array(c+$.byteLength);return E.set($,c),Q.L8.encodeTo(O,E),E}static getCodeFromData(_){const{prefixedData:D}=_,[O,$]=Q.L8.decode(D);return O}static getCodeFromName(_){const{name:D}=_,O=de.nameToCode.get(D);if(void 0===O)throw new Error(`Unsupported multicodec: ${D}`);return O}static getNameFromCode(_){const{code:D}=_,O=de.codeToName.get(D);if(void 0===O)throw new Error(`Unsupported multicodec: ${D}`);return O}static registerCodec(_){de.codeToName.set(_.code,_.name),de.nameToCode.set(_.name,_.code)}static removePrefix(_){const{prefixedData:D}=_,[O,$]=Q.L8.decode(D),T=de.codeToName.get(O);if(void 0===T)throw new Error(`Unsupported multicodec: ${O}`);return{code:O,data:D.slice($),name:T}}}function ae(w){return!("object"!=typeof w||null===w||Object.getOwnPropertySymbols(w).length>0)&&0===Object.keys(w).length}function te(w){Object.keys(w).forEach(_=>{void 0===w[_]?delete w[_]:"object"==typeof w[_]&&te(w[_])})}de.codeToName=new Map,de.nameToCode=new Map,de.registerCodec({code:237,name:"ed25519-pub"}),de.registerCodec({code:4864,name:"ed25519-priv"}),de.registerCodec({code:236,name:"x25519-pub"}),de.registerCodec({code:4866,name:"x25519-priv"}),de.registerCodec({code:231,name:"secp256k1-pub"}),de.registerCodec({code:4865,name:"secp256k1-priv"});var ue=A(54626),pe=function(w,_,D,O){return new(D||(D=Promise))(function(T,c){function E(ce){try{X(O.next(ce))}catch(me){c(me)}}function q(ce){try{X(O.throw(ce))}catch(me){c(me)}}function X(ce){ce.done?T(ce.value):function $(T){return T instanceof D?T:new D(function(c){c(T)})}(ce.value).then(E,q)}X((O=O.apply(w,_||[])).next())})};class he{constructor({db:_,location:D="DATASTORE"}={}){this.store=_??new ue.Level(D)}clear(){return pe(this,void 0,void 0,function*(){yield this.store.clear()})}close(){return pe(this,void 0,void 0,function*(){yield this.store.close()})}delete(_){return pe(this,void 0,void 0,function*(){yield this.store.del(_)})}get(_){return pe(this,void 0,void 0,function*(){try{return yield this.store.get(_)}catch(D){if(D.notFound)return;throw D}})}set(_,D){return pe(this,void 0,void 0,function*(){yield this.store.put(_,D)})}}class ve{constructor(){this.store=new Map}clear(){return pe(this,void 0,void 0,function*(){this.store.clear()})}close(){return pe(this,void 0,void 0,function*(){})}delete(_){return pe(this,void 0,void 0,function*(){return this.store.delete(_)})}get(_){return pe(this,void 0,void 0,function*(){return this.store.get(_)})}has(_){return pe(this,void 0,void 0,function*(){return this.store.has(_)})}list(){return pe(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(_,D){return pe(this,void 0,void 0,function*(){this.store.set(_,D)})}}var ge=function(w,_,D,O){return new(D||(D=Promise))(function(T,c){function E(ce){try{X(O.next(ce))}catch(me){c(me)}}function q(ce){try{X(O.throw(ce))}catch(me){c(me)}}function X(ce){ce.done?T(ce.value):function $(T){return T instanceof D?T:new D(function(c){c(T)})}(ce.value).then(E,q)}X((O=O.apply(w,_||[])).next())})},Me=function(w){return this instanceof Me?(this.v=w,this):new Me(w)};class je{static asAsyncIterator(_){return function(w,_,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,O=D.apply(w,_||[]),T=[];return $={},c("next"),c("throw"),c("return"),$[Symbol.asyncIterator]=function(){return this},$;function c(Te){O[Te]&&($[Te]=function(Ke){return new Promise(function(Qe,ke){T.push([Te,Ke,Qe,ke])>1||E(Te,Ke)})})}function E(Te,Ke){try{!function q(Te){Te.value instanceof Me?Promise.resolve(Te.value.v).then(X,ce):me(T[0][2],Te)}(O[Te](Ke))}catch(Qe){me(T[0][3],Qe)}}function X(Te){E("next",Te)}function ce(Te){E("throw",Te)}function me(Te,Ke){Te(Ke),T.shift(),T.length&&E(T[0][0],T[0][1])}}(this,arguments,function*(){const O=_.getReader();try{for(;;){const{done:$,value:T}=yield Me(O.read());if($)break;yield yield Me(T)}}finally{O.releaseLock()}})}static consumeToArrayBuffer({readableStream:_}){return ge(this,void 0,void 0,function*(){const D=je.asAsyncIterator(_);return yield W.asyncIterable(D).toArrayBufferAsync()})}static consumeToBlob({readableStream:_}){return ge(this,void 0,void 0,function*(){const D=je.asAsyncIterator(_);return yield W.asyncIterable(D).toBlobAsync()})}static consumeToBytes({readableStream:_}){return ge(this,void 0,void 0,function*(){const D=je.asAsyncIterator(_);return yield W.asyncIterable(D).toUint8ArrayAsync()})}static consumeToJson({readableStream:_}){return ge(this,void 0,void 0,function*(){const D=je.asAsyncIterator(_);return yield W.asyncIterable(D).toObjectAsync()})}static consumeToText({readableStream:_}){return ge(this,void 0,void 0,function*(){const D=je.asAsyncIterator(_);return yield W.asyncIterable(D).toStringAsync()})}static generateByteStream({streamLength:_,chunkLength:D,fillValue:O}){let T,$=_??1/0;function c(){const E=Math.min($,D??1/0);let q;if($-=E,"number"==typeof O)q=new Uint8Array(E).fill(O);else if(Array.isArray(O)){q=new Uint8Array(E);const[X,ce]=O,me=ce-X+1;for(let Te=0;Te<E;Te++)q[Te]=Math.floor(Math.random()*me)+X}else q=new Uint8Array(E);T.enqueue(q),$<=0&&T.close()}return new ReadableStream({start(E){T=E,c()},pull(){c()}})}static isReadable({readableStream:_}){if(!je.isReadableStream(_)||_.locked)return!1;try{return _.getReader().releaseLock(),!0}catch{return!1}}static isReadableStream(_){return"object"==typeof _&&null!==_&&"getReader"in _&&"function"==typeof _.getReader}static isStream(_){return je.isReadableStream(_)||je.isWritableStream(_)||je.isTransformStream(_)}static isTransformStream(_){return"object"==typeof _&&null!==_&&"readable"in _&&"object"==typeof _.readable&&"writable"in _&&"object"==typeof _.writable}static isWritableStream(_){return"object"==typeof _&&null!==_&&"getWriter"in _&&"function"==typeof _.getWriter&&"abort"in _&&"function"==typeof _.abort}}var B=A(95424),l=function(w,_,D,O){return new(D||(D=Promise))(function(T,c){function E(ce){try{X(O.next(ce))}catch(me){c(me)}}function q(ce){try{X(O.throw(ce))}catch(me){c(me)}}function X(ce){ce.done?T(ce.value):function $(T){return T instanceof D?T:new D(function(c){c(T)})}(ce.value).then(E,q)}X((O=O.apply(w,_||[])).next())})};class f{static consumeToArrayBuffer({readable:_}){return l(this,void 0,void 0,function*(){return yield W.asyncIterable(_).toArrayBufferAsync()})}static consumeToBlob({readable:_}){return l(this,void 0,void 0,function*(){return yield W.asyncIterable(_).toBlobAsync()})}static consumeToBytes({readable:_}){return l(this,void 0,void 0,function*(){return yield W.asyncIterable(_).toUint8ArrayAsync()})}static consumeToJson({readable:_}){return l(this,void 0,void 0,function*(){return yield W.asyncIterable(_).toObjectAsync()})}static consumeToText({readable:_}){return l(this,void 0,void 0,function*(){return yield W.asyncIterable(_).toStringAsync()})}static fromWebReadable({readableStream:_,readableOptions:D}){if(!je.isReadableStream(_))throw new TypeError("NodeStream.fromWebReadable: 'readableStream' is not a Web ReadableStream.");const O=_.getReader();let $=!1;const T=new B.Readable(Object.assign(Object.assign({},D),{read:function(){O.read().then(({done:c,value:E})=>{if(c)this.push(null);else if(!this.push(E))return}).catch(c=>{this.destroy(c)})},destroy:function(c,E){function q(){E(c)}$?q():O.cancel(c).then(q).catch(q)}}));return O.closed.then(()=>{$=!0}).catch(c=>{$=!0,T.destroy(c)}),T}static isDestroyed({stream:_}){if(!f.isStream(_))throw new TypeError("NodeStream.isDestroyed: 'stream' is not a Node stream.");return!(!_.destroyed&&!(("_writableState"in _?_._writableState:void 0)||_._readableState).destroyed)}static isReadable({readable:_}){return!!f.isReadableStream(_)&&_.readable&&"boolean"==typeof _._readableState.ended&&!_._readableState.ended&&"boolean"==typeof _._readableState.endEmitted&&!_._readableState.endEmitted&&!_.destroyed&&!_.isPaused()}static isReadableStream(_){return"object"==typeof _&&null!==_&&"pipe"in _&&"function"==typeof _.pipe&&"on"in _&&"function"==typeof _.on&&!("_writableState"in _)&&"_readableState"in _}static isStream(_){return"object"==typeof _&&null!==_&&("_readableState"in _||"_writableState"in _)}static toWebReadable({readable:_}){if(!f.isReadableStream(_))throw new TypeError("NodeStream.toWebReadable: 'readable' is not a Node Readable stream.");if(f.isDestroyed({stream:_})){const D=new ReadableStream;return D.cancel(),D}return new ReadableStream({start(D){_.on("data",O=>{D.enqueue(O)}),_.on("end",()=>{D.close()}),_.on("error",O=>{D.error(O)})},cancel(){_.destroy()}})}}},2198:(Ye,J,A)=>{"use strict";A.d(J,{A:()=>be});const h="0123456789abcdef",x=[],N=[];for(let oe=0;oe<256;oe++)x[oe]=h[oe>>4&15]+h[15&oe],oe<16&&(oe<10?N[48+oe]=oe:N[87+oe]=oe);const Y=oe=>{const fe=oe.length;let we="",De=0;for(;De<fe;)we+=x[oe[De++]];return we};for(var H=typeof Uint8Array>"u"?[]:new Uint8Array(256),V=0;V<64;V++)H["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(V)]=V;const W=new TextDecoder,Q=(oe,fe)=>fe?new TextDecoder(fe).decode(oe):W.decode(oe),de=new TextEncoder,ae=oe=>de.encode(oe);function l(oe){const fe=oe<0?1:0;return oe=Math.abs(Number(oe||1)),Math.floor(Math.log10(oe))+1+fe}function f(oe){return ArrayBuffer.isView(oe)?"arraybufferview":Array.isArray(oe)?"array":oe instanceof Number?"number":oe instanceof Boolean?"boolean":oe instanceof Set?"set":oe instanceof Map?"map":oe instanceof String?"string":oe instanceof ArrayBuffer?"arraybuffer":typeof oe}function w(oe,fe,we){const De=[];let $e=null;return w._encode(De,oe),$e=((oe,fe=0)=>{const we=oe.length||0;if(!fe){let Ze=we;for(;Ze--;)fe+=oe[Ze].length}const De=new Uint8Array(fe);let $e=fe,Je=we;for(;Je--;)$e-=oe[Je].length,De.set(oe[Je],$e);return De})(De),w.bytes=$e.length,ArrayBuffer.isView(fe)?(fe.set($e,we),fe):$e}typeof window<"u"?window:self,w.bytes=-1,w._floatConversionDetected=!1,w._encode=function(oe,fe){if(null!=fe)switch(f(fe)){case"object":w.dict(oe,fe);break;case"map":w.dictMap(oe,fe);break;case"array":w.list(oe,fe);break;case"set":w.listSet(oe,fe);break;case"string":w.string(oe,fe);break;case"number":case"boolean":w.number(oe,fe);break;case"arraybufferview":w.buffer(oe,new Uint8Array(fe.buffer,fe.byteOffset,fe.byteLength));break;case"arraybuffer":w.buffer(oe,new Uint8Array(fe))}};const _=new Uint8Array([101]),D=new Uint8Array([100]),O=new Uint8Array([108]);w.buffer=function(oe,fe){oe.push(ae(fe.length+":"),fe)},w.string=function(oe,fe){oe.push(ae(ae(fe).byteLength+":"+fe))},w.number=function(oe,fe){if(Number.isInteger(fe))return oe.push(ae("i"+BigInt(fe)+"e"));const we=2147483648,Je=(fe/we|0)*we+(fe%we|0);oe.push(ae("i"+Je+"e")),Je!==fe&&!w._floatConversionDetected&&(w._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+fe+'":','Bencoding only defines support for integers, value was converted to "'+Je+'"'),console.trace())},w.dict=function(oe,fe){oe.push(D);let De,we=0;const $e=Object.keys(fe).sort(),Je=$e.length;for(;we<Je;we++)De=$e[we],null!=fe[De]&&(w.string(oe,De),w._encode(oe,fe[De]));oe.push(_)},w.dictMap=function(oe,fe){oe.push(D);const we=Array.from(fe.keys()).sort();for(const De of we)null!=fe.get(De)&&(ArrayBuffer.isView(De)?w._encode(oe,De):w.string(oe,String(De)),w._encode(oe,fe.get(De)));oe.push(_)},w.list=function(oe,fe){let we=0;const De=fe.length;for(oe.push(O);we<De;we++)null!=fe[we]&&w._encode(oe,fe[we]);oe.push(_)},w.listSet=function(oe,fe){oe.push(O);for(const we of fe)null!=we&&w._encode(oe,we);oe.push(_)};const $=w;function ce(oe,fe,we){let De=0,$e=1;for(let Je=fe;Je<we;Je++){const Ze=oe[Je];if(Ze<58&&Ze>=48)De=10*De+(Ze-48);else if(Je!==fe||43!==Ze){if(Je===fe&&45===Ze){$e=-1;continue}if(46===Ze)break;throw new Error("not a number: buffer["+Je+"] = "+Ze)}}return De*$e}function me(oe,fe,we,De){return null==oe||0===oe.length?null:("number"!=typeof fe&&null==De&&(De=fe,fe=void 0),"number"!=typeof we&&null==De&&(De=we,we=void 0),me.position=0,me.encoding=De||null,me.data=ArrayBuffer.isView(oe)?new Uint8Array(oe.slice(fe,we)):ae(oe),me.bytes=me.data.length,me.next())}function Se(oe){if(null==oe)return 0;const we=f(oe);switch(we){case"arraybufferview":return function Xe(oe){const fe=oe.byteLength-oe.byteOffset;return l(fe)+1+fe}(oe);case"string":return function Ie(oe){const fe=ae(oe).byteLength;return l(fe)+1+fe}(oe);case"array":case"set":return function Ke(oe){let fe=2;for(const we of oe)fe+=Se(we);return fe}(oe);case"number":return 1+l(Math.floor(oe))+1;case"bigint":return 1+oe.toString().length+1;case"object":return function ke(oe){let fe=2;const we=Object.keys(oe);for(let De=0;De<we.length;De++){const $e=ae(we[De]).byteLength;fe+=l($e)+1+$e,fe+=Se(oe[we[De]])}return fe}(oe);case"map":return function Qe(oe){let fe=2;for(const[we,De]of oe){const $e=ae(we).byteLength;fe+=l($e)+1+$e,fe+=Se(De)}return fe}(oe);default:throw new TypeError(`Unsupported value of type "${we}"`)}}me.bytes=0,me.position=0,me.data=null,me.encoding=null,me.next=function(){switch(me.data[me.position]){case 100:return me.dictionary();case 108:return me.list();case 105:return me.integer();default:return me.buffer()}},me.find=function(oe){let fe=me.position;const we=me.data.length,De=me.data;for(;fe<we;){if(De[fe]===oe)return fe;fe++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(oe)+'" [0x'+oe.toString(16)+"]")},me.dictionary=function(){me.position++;const oe={};for(;101!==me.data[me.position];){const fe=me.buffer();let we=Q(fe);we.includes("\ufffd")&&(we=Y(fe)),oe[we]=me.next()}return me.position++,oe},me.list=function(){me.position++;const oe=[];for(;101!==me.data[me.position];)oe.push(me.next());return me.position++,oe},me.integer=function(){const oe=me.find(101),fe=ce(me.data,me.position+1,oe);return me.position+=oe+1-me.position,fe},me.buffer=function(){let oe=me.find(58);const fe=ce(me.data,me.position,oe),we=++oe+fe;return me.position=we,me.encoding?Q(me.data.slice(oe,we)):me.data.slice(oe,we)};const be={encode:$,decode:me,byteLength:Se,encodingLength:Se}},10797:(Ye,J,A)=>{"use strict";A.d(J,{_Q:()=>ee,yE:()=>de});var M=A(52054);class j{constructor(re,te,ue){this.name=re,this.prefix=te,this.baseEncode=ue}encode(re){if(re instanceof Uint8Array)return`${this.prefix}${this.baseEncode(re)}`;throw Error("Unknown type, must be binary type")}}class R{constructor(re,te,ue){if(this.name=re,this.prefix=te,void 0===te.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=te.codePointAt(0),this.baseDecode=ue}decode(re){if("string"==typeof re){if(re.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(re)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(re.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(re){return H(this,re)}}class U{constructor(re){this.decoders=re}or(re){return H(this,re)}decode(re){const ue=this.decoders[re[0]];if(ue)return ue.decode(re);throw RangeError(`Unable to decode multibase string ${JSON.stringify(re)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const H=(ae,re)=>new U({...ae.decoders||{[ae.prefix]:ae},...re.decoders||{[re.prefix]:re}});class V{constructor(re,te,ue,pe){this.name=re,this.prefix=te,this.baseEncode=ue,this.baseDecode=pe,this.encoder=new j(re,te,ue),this.decoder=new R(re,te,pe)}encode(re){return this.encoder.encode(re)}decode(re){return this.decoder.decode(re)}}const P=({name:ae,prefix:re,encode:te,decode:ue})=>new V(ae,re,te,ue),ee=({prefix:ae,name:re,alphabet:te})=>{const{encode:ue,decode:pe}=function h(ae,re){if(ae.length>=255)throw new TypeError("Alphabet too long");for(var te=new Uint8Array(256),ue=0;ue<te.length;ue++)te[ue]=255;for(var pe=0;pe<ae.length;pe++){var he=ae.charAt(pe),ve=he.charCodeAt(0);if(255!==te[ve])throw new TypeError(he+" is ambiguous");te[ve]=pe}var ge=ae.length,Me=ae.charAt(0),Oe=Math.log(ge)/Math.log(256),je=Math.log(256)/Math.log(ge);function l(w){if("string"!=typeof w)throw new TypeError("Expected String");if(0===w.length)return new Uint8Array;var _=0;if(" "!==w[_]){for(var D=0,O=0;w[_]===Me;)D++,_++;for(var $=(w.length-_)*Oe+1>>>0,T=new Uint8Array($);w[_];){var c=te[w.charCodeAt(_)];if(255===c)return;for(var E=0,q=$-1;(0!==c||E<O)&&-1!==q;q--,E++)T[q]=(c+=ge*T[q]>>>0)%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");O=E,_++}if(" "!==w[_]){for(var X=$-O;X!==$&&0===T[X];)X++;for(var ce=new Uint8Array(D+($-X)),me=D;X!==$;)ce[me++]=T[X++];return ce}}}return{encode:function B(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===w.length)return"";for(var _=0,D=0,O=0,$=w.length;O!==$&&0===w[O];)O++,_++;for(var T=($-O)*je+1>>>0,c=new Uint8Array(T);O!==$;){for(var E=w[O],q=0,X=T-1;(0!==E||q<D)&&-1!==X;X--,q++)c[X]=(E+=256*c[X]>>>0)%ge>>>0,E=E/ge>>>0;if(0!==E)throw new Error("Non-zero carry");D=q,O++}for(var ce=T-D;ce!==T&&0===c[ce];)ce++;for(var me=Me.repeat(_);ce<T;++ce)me+=ae.charAt(c[ce]);return me},decodeUnsafe:l,decode:function f(w){var _=l(w);if(_)return _;throw new Error(`Non-${re} character`)}}}(te,re);return P({prefix:ae,name:re,encode:ue,decode:he=>(0,M.au)(pe(he))})},de=({name:ae,prefix:re,bitsPerChar:te,alphabet:ue})=>P({prefix:re,name:ae,encode:pe=>((ae,re,te)=>{const ue="="===re[re.length-1],pe=(1<<te)-1;let he="",ve=0,ge=0;for(let Me=0;Me<ae.length;++Me)for(ge=ge<<8|ae[Me],ve+=8;ve>te;)ve-=te,he+=re[pe&ge>>ve];if(ve&&(he+=re[pe&ge<<te-ve]),ue)for(;he.length*te&7;)he+="=";return he})(pe,ue,te),decode:pe=>((ae,re,te,ue)=>{const pe={};for(let je=0;je<re.length;++je)pe[re[je]]=je;let he=ae.length;for(;"="===ae[he-1];)--he;const ve=new Uint8Array(he*te/8|0);let ge=0,Me=0,Oe=0;for(let je=0;je<he;++je){const B=pe[ae[je]];if(void 0===B)throw new SyntaxError(`Non-${ue} character`);Me=Me<<te|B,ge+=te,ge>=8&&(ge-=8,ve[Oe++]=255&Me>>ge)}if(ge>=te||255&Me<<8-ge)throw new SyntaxError("Unexpected end of data");return ve})(pe,ue,te,ae)})},15130:(Ye,J,A)=>{"use strict";A.d(J,{RG:()=>x,jd:()=>V});var h=A(10797);const x=(0,h.yE)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),V=((0,h.yE)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),(0,h.yE)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),(0,h.yE)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),(0,h.yE)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),(0,h.yE)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),(0,h.yE)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),(0,h.yE)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),(0,h.yE)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}))},80286:(Ye,J,A)=>{"use strict";A.d(J,{s:()=>x});var h=A(10797);const x=(0,h._Q)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});(0,h._Q)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},14725:(Ye,J,A)=>{"use strict";A.d(J,{r0:()=>Y});var h=A(10797);(0,h.yE)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),(0,h.yE)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const Y=(0,h.yE)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});(0,h.yE)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},52054:(Ye,J,A)=>{"use strict";A.d(J,{aI:()=>Y,au:()=>M}),new Uint8Array(0);const Y=(H,V)=>{if(H===V)return!0;if(H.byteLength!==V.byteLength)return!1;for(let P=0;P<H.byteLength;P++)if(H[P]!==V[P])return!1;return!0},M=H=>{if(H instanceof Uint8Array&&"Uint8Array"===H.constructor.name)return H;if(H instanceof ArrayBuffer)return new Uint8Array(H);if(ArrayBuffer.isView(H))return new Uint8Array(H.buffer,H.byteOffset,H.byteLength);throw new Error("Unknown type, must be binary type")}},41861:(Ye,J,A)=>{"use strict";A.d(J,{TO:()=>P});var h=A(28206),x=A(56580),N=A(80286),Y=A(15130),M=A(52054);const j=(ue,pe)=>{const{bytes:he,version:ve}=ue;return 0===ve?W(he,V(ue),pe||N.s.encoder):Q(he,V(ue),pe||Y.RG.encoder)},H=new WeakMap,V=ue=>{const pe=H.get(ue);if(null==pe){const he=new Map;return H.set(ue,he),he}return pe};class P{constructor(pe,he,ve,ge){this.code=he,this.version=pe,this.multihash=ve,this.bytes=ge,this["/"]=ge}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:pe,multihash:he}=this;if(pe!==de)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(he.code!==ae)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return P.createV0(he)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:pe,digest:he}=this.multihash,ve=x.vt(pe,he);return P.createV1(this.code,ve)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(pe){return P.equals(this,pe)}static equals(pe,he){return he&&pe.code===he.code&&pe.version===he.version&&x.aI(pe.multihash,he.multihash)}toString(pe){return j(this,pe)}toJSON(){return{"/":j(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(pe){if(null==pe)return null;const he=pe;if(he instanceof P)return he;if(null!=he["/"]&&he["/"]===he.bytes||he.asCID===he){const{version:ve,code:ge,multihash:Me,bytes:Oe}=he;return new P(ve,ge,Me,Oe||re(ve,ge,Me.bytes))}if(!0===he[te]){const{version:ve,multihash:ge,code:Me}=he,Oe=x.D4(ge);return P.create(ve,Me,Oe)}return null}static create(pe,he,ve){if("number"!=typeof he)throw new Error("String codecs are no longer supported");if(!(ve.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(pe){case 0:if(he!==de)throw new Error(`Version 0 CID must use dag-pb (code: ${de}) block encoding`);return new P(pe,he,ve,ve.bytes);case 1:{const ge=re(pe,he,ve.bytes);return new P(pe,he,ve,ge)}default:throw new Error("Invalid version")}}static createV0(pe){return P.create(0,de,pe)}static createV1(pe,he){return P.create(1,pe,he)}static decode(pe){const[he,ve]=P.decodeFirst(pe);if(ve.length)throw new Error("Incorrect length");return he}static decodeFirst(pe){const he=P.inspectBytes(pe),ve=he.size-he.multihashSize,ge=(0,M.au)(pe.subarray(ve,ve+he.multihashSize));if(ge.byteLength!==he.multihashSize)throw new Error("Incorrect length");const Me=ge.subarray(he.multihashSize-he.digestSize),Oe=new x.np(he.multihashCode,he.digestSize,Me,ge);return[0===he.version?P.createV0(Oe):P.createV1(he.codec,Oe),pe.subarray(he.size)]}static inspectBytes(pe){let he=0;const ve=()=>{const[w,_]=h.decode(pe.subarray(he));return he+=_,w};let ge=ve(),Me=de;if(18===ge?(ge=0,he=0):Me=ve(),0!==ge&&1!==ge)throw new RangeError(`Invalid CID version ${ge}`);const Oe=he,je=ve(),B=ve(),l=he+B;return{version:ge,codec:Me,multihashCode:je,digestSize:B,multihashSize:l-Oe,size:l}}static parse(pe,he){const[ve,ge]=ee(pe,he),Me=P.decode(ge);if(0===Me.version&&"Q"!==pe[0])throw Error("Version 0 CID string must not include multibase prefix");return V(Me).set(ve,pe),Me}}const ee=(ue,pe)=>{switch(ue[0]){case"Q":return[N.s.prefix,(pe||N.s).decode(`${N.s.prefix}${ue}`)];case N.s.prefix:return[N.s.prefix,(pe||N.s).decode(ue)];case Y.RG.prefix:return[Y.RG.prefix,(pe||Y.RG).decode(ue)];default:if(null==pe)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[ue[0],pe.decode(ue)]}},W=(ue,pe,he)=>{const{prefix:ve}=he;if(ve!==N.s.prefix)throw Error(`Cannot string encode V0 in ${he.name} encoding`);const ge=pe.get(ve);if(null==ge){const Me=he.encode(ue).slice(1);return pe.set(ve,Me),Me}return ge},Q=(ue,pe,he)=>{const{prefix:ve}=he,ge=pe.get(ve);if(null==ge){const Me=he.encode(ue);return pe.set(ve,Me),Me}return ge},de=112,ae=18,re=(ue,pe,he)=>{const ve=h.encodingLength(ue),ge=ve+h.encodingLength(pe),Me=new Uint8Array(ge+he.byteLength);return h.encodeTo(ue,Me,0),h.encodeTo(pe,Me,ve),Me.set(he,ge),Me},te=Symbol.for("@ipld/js-cid/CID")},56580:(Ye,J,A)=>{"use strict";A.d(J,{D4:()=>Y,aI:()=>M,np:()=>j,vt:()=>N});var h=A(52054),x=A(28206);const N=(R,U)=>{const H=U.byteLength,V=x.encodingLength(R),P=V+x.encodingLength(H),ee=new Uint8Array(P+H);return x.encodeTo(R,ee,0),x.encodeTo(H,ee,V),ee.set(U,P),new j(R,H,U,ee)},Y=R=>{const U=(0,h.au)(R),[H,V]=x.decode(U),[P,ee]=x.decode(U.subarray(V)),W=U.subarray(V+ee);if(W.byteLength!==P)throw new Error("Incorrect length");return new j(H,P,W,U)},M=(R,U)=>R===U||R.code===U.code&&R.size===U.size&&U.bytes instanceof Uint8Array&&(0,h.aI)(R.bytes,U.bytes);class j{constructor(U,H,V,P){this.code=U,this.size=H,this.digest=V,this.bytes=P}}},92059:(Ye,J,A)=>{"use strict";A.d(J,{H:()=>x});var h=A(56580);const x=({name:Y,code:M,encode:j})=>new N(Y,M,j);class N{constructor(M,j,R){this.name=M,this.code=j,this.encode=R}digest(M){if(M instanceof Uint8Array){const j=this.encode(M);return j instanceof Uint8Array?h.vt(this.code,j):j.then(R=>h.vt(this.code,R))}throw Error("Unknown type, must be binary type")}}},41405:(Ye,J,A)=>{"use strict";A.d(J,{L8:()=>x,TO:()=>h.TO});var h=A(41861),x=A(28206);A(52054),A(92059),A(56580)},28206:(Ye,J,A)=>{"use strict";A.r(J),A.d(J,{decode:()=>Me,encodeTo:()=>Oe,encodingLength:()=>je});var x=128,Y=-128,M=Math.pow(2,31),U=128,H=127,P=Math.pow(2,7),ee=Math.pow(2,14),W=Math.pow(2,21),Q=Math.pow(2,28),de=Math.pow(2,35),ae=Math.pow(2,42),re=Math.pow(2,49),te=Math.pow(2,56),ue=Math.pow(2,63);const ge={encode:function j(B,l,f){l=l||[];for(var w=f=f||0;B>=M;)l[f++]=255&B|x,B/=128;for(;B&Y;)l[f++]=255&B|x,B>>>=7;return l[f]=0|B,j.bytes=f-w+1,l},decode:function V(B,w){var O,f=0,_=0,D=w=w||0,$=B.length;do{if(D>=$)throw V.bytes=0,new RangeError("Could not decode varint");O=B[D++],f+=_<28?(O&H)<<_:(O&H)*Math.pow(2,_),_+=7}while(O>=U);return V.bytes=D-w,f},encodingLength:function(B){return B<P?1:B<ee?2:B<W?3:B<Q?4:B<de?5:B<ae?6:B<re?7:B<te?8:B<ue?9:10}},Me=(B,l=0)=>[ge.decode(B,l),ge.decode.bytes],Oe=(B,l,f=0)=>(ge.encode(B,l,f),l),je=B=>ge.encodingLength(B)},10467:(Ye,J,A)=>{"use strict";function h(N,Y,M,j,R,U,H){try{var V=N[U](H),P=V.value}catch(ee){return void M(ee)}V.done?Y(P):Promise.resolve(P).then(j,R)}function x(N){return function(){var Y=this,M=arguments;return new Promise(function(j,R){var U=N.apply(Y,M);function H(P){h(U,j,R,H,V,"next",P)}function V(P){h(U,j,R,H,V,"throw",P)}H(void 0)})}}A.d(J,{A:()=>x})},31635:(Ye,J,A)=>{"use strict";function ee(c,E,q,X){return new(q||(q=Promise))(function(me,Te){function Ke(Ie){try{ke(X.next(Ie))}catch(Xe){Te(Xe)}}function Qe(Ie){try{ke(X.throw(Ie))}catch(Xe){Te(Xe)}}function ke(Ie){Ie.done?me(Ie.value):function ce(me){return me instanceof q?me:new q(function(Te){Te(me)})}(Ie.value).then(Ke,Qe)}ke((X=X.apply(c,E||[])).next())})}function he(c){return this instanceof he?(this.v=c,this):new he(c)}function ve(c,E,q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,X=q.apply(c,E||[]),me=[];return ce={},Ke("next"),Ke("throw"),Ke("return",function Te(Le){return function(Ee){return Promise.resolve(Ee).then(Le,Xe)}}),ce[Symbol.asyncIterator]=function(){return this},ce;function Ke(Le,Ee){X[Le]&&(ce[Le]=function(be){return new Promise(function(oe,fe){me.push([Le,be,oe,fe])>1||Qe(Le,be)})},Ee&&(ce[Le]=Ee(ce[Le])))}function Qe(Le,Ee){try{!function ke(Le){Le.value instanceof he?Promise.resolve(Le.value.v).then(Ie,Xe):Se(me[0][2],Le)}(X[Le](Ee))}catch(be){Se(me[0][3],be)}}function Ie(Le){Qe("next",Le)}function Xe(Le){Qe("throw",Le)}function Se(Le,Ee){Le(Ee),me.shift(),me.length&&Qe(me[0][0],me[0][1])}}function Me(c){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q,E=c[Symbol.asyncIterator];return E?E.call(c):(c=function ae(c){var E="function"==typeof Symbol&&Symbol.iterator,q=E&&c[E],X=0;if(q)return q.call(c);if(c&&"number"==typeof c.length)return{next:function(){return c&&X>=c.length&&(c=void 0),{value:c&&c[X++],done:!c}}};throw new TypeError(E?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),q={},X("next"),X("throw"),X("return"),q[Symbol.asyncIterator]=function(){return this},q);function X(me){q[me]=c[me]&&function(Te){return new Promise(function(Ke,Qe){!function ce(me,Te,Ke,Qe){Promise.resolve(Qe).then(function(ke){me({value:ke,done:Ke})},Te)}(Ke,Qe,(Te=c[me](Te)).done,Te.value)})}}}A.d(J,{AQ:()=>ve,N3:()=>he,sH:()=>ee,xN:()=>Me}),"function"==typeof SuppressedError&&SuppressedError},83813:Ye=>{"use strict";Ye.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},59608:Ye=>{"use strict";Ye.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/applicator","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/applicator":true},"$dynamicAnchor":"meta","title":"Applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"prefixItems":{"$ref":"#/$defs/schemaArray"},"items":{"$dynamicRef":"#meta"},"contains":{"$dynamicRef":"#meta"},"additionalProperties":{"$dynamicRef":"#meta"},"properties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"propertyNames":{"$dynamicRef":"#meta"},"if":{"$dynamicRef":"#meta"},"then":{"$dynamicRef":"#meta"},"else":{"$dynamicRef":"#meta"},"allOf":{"$ref":"#/$defs/schemaArray"},"anyOf":{"$ref":"#/$defs/schemaArray"},"oneOf":{"$ref":"#/$defs/schemaArray"},"not":{"$dynamicRef":"#meta"}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$dynamicRef":"#meta"}}}}')},11082:Ye=>{"use strict";Ye.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/content","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Content vocabulary meta-schema","type":["object","boolean"],"properties":{"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"contentSchema":{"$dynamicRef":"#meta"}}}')},93406:Ye=>{"use strict";Ye.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/core","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true},"$dynamicAnchor":"meta","title":"Core vocabulary meta-schema","type":["object","boolean"],"properties":{"$id":{"$ref":"#/$defs/uriReferenceString","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"$ref":"#/$defs/uriString"},"$ref":{"$ref":"#/$defs/uriReferenceString"},"$anchor":{"$ref":"#/$defs/anchorString"},"$dynamicRef":{"$ref":"#/$defs/uriReferenceString"},"$dynamicAnchor":{"$ref":"#/$defs/anchorString"},"$vocabulary":{"type":"object","propertyNames":{"$ref":"#/$defs/uriString"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"}}},"$defs":{"anchorString":{"type":"string","pattern":"^[A-Za-z_][-A-Za-z0-9._]*$"},"uriString":{"type":"string","format":"uri"},"uriReferenceString":{"type":"string","format":"uri-reference"}}}')},14516:Ye=>{"use strict";Ye.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/format-annotation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/format-annotation":true},"$dynamicAnchor":"meta","title":"Format vocabulary meta-schema for annotation results","type":["object","boolean"],"properties":{"format":{"type":"string"}}}')},3059:Ye=>{"use strict";Ye.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/meta-data","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/meta-data":true},"$dynamicAnchor":"meta","title":"Meta-data vocabulary meta-schema","type":["object","boolean"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true}}}')},8307:Ye=>{"use strict";Ye.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/unevaluated","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/unevaluated":true},"$dynamicAnchor":"meta","title":"Unevaluated applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"unevaluatedItems":{"$dynamicRef":"#meta"},"unevaluatedProperties":{"$dynamicRef":"#meta"}}}')},18738:Ye=>{"use strict";Ye.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/validation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/validation":true},"$dynamicAnchor":"meta","title":"Validation vocabulary meta-schema","type":["object","boolean"],"properties":{"type":{"anyOf":[{"$ref":"#/$defs/simpleTypes"},{"type":"array","items":{"$ref":"#/$defs/simpleTypes"},"minItems":1,"uniqueItems":true}]},"const":true,"enum":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/$defs/nonNegativeInteger"},"minLength":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/$defs/nonNegativeInteger"},"minItems":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/$defs/nonNegativeInteger"},"minContains":{"$ref":"#/$defs/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/$defs/nonNegativeInteger"},"minProperties":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"required":{"$ref":"#/$defs/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/$defs/stringArray"}}},"$defs":{"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"$ref":"#/$defs/nonNegativeInteger","default":0},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}}}')},6438:Ye=>{"use strict";Ye.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/schema","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true,"https://json-schema.org/draft/2020-12/vocab/applicator":true,"https://json-schema.org/draft/2020-12/vocab/unevaluated":true,"https://json-schema.org/draft/2020-12/vocab/validation":true,"https://json-schema.org/draft/2020-12/vocab/meta-data":true,"https://json-schema.org/draft/2020-12/vocab/format-annotation":true,"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Core and Validation specifications meta-schema","allOf":[{"$ref":"meta/core"},{"$ref":"meta/applicator"},{"$ref":"meta/unevaluated"},{"$ref":"meta/validation"},{"$ref":"meta/meta-data"},{"$ref":"meta/format-annotation"},{"$ref":"meta/content"}],"type":["object","boolean"],"$comment":"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.","properties":{"definitions":{"$comment":"\\"definitions\\" has been replaced by \\"$defs\\".","type":"object","additionalProperties":{"$dynamicRef":"#meta"},"deprecated":true,"default":{}},"dependencies":{"$comment":"\\"dependencies\\" has been split and replaced by \\"dependentSchemas\\" and \\"dependentRequired\\" in order to serve their differing semantics.","type":"object","additionalProperties":{"anyOf":[{"$dynamicRef":"#meta"},{"$ref":"meta/validation#/$defs/stringArray"}]},"deprecated":true,"default":{}},"$recursiveAnchor":{"$comment":"\\"$recursiveAnchor\\" has been replaced by \\"$dynamicAnchor\\".","$ref":"meta/core#/$defs/anchorString","deprecated":true},"$recursiveRef":{"$comment":"\\"$recursiveRef\\" has been replaced by \\"$dynamicRef\\".","$ref":"meta/core#/$defs/uriReferenceString","deprecated":true}}}')},3219:Ye=>{"use strict";Ye.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:Ye=>{"use strict";Ye.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:Ye=>{"use strict";Ye.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:Ye=>{"use strict";Ye.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:Ye=>{"use strict";Ye.exports={rE:"6.5.5"}},15579:Ye=>{"use strict";Ye.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},Ye=>{var J=h=>Ye(Ye.s=h);J(94073),J(98752)}]);